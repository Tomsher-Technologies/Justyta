const XBe="modulepreload",JBe=function(e){return"/build/"+e},nCe={},QBe=function(n,o,i){let c=Promise.resolve();if(o&&o.length>0){let p=function(_){return Promise.all(_.map(x=>Promise.resolve(x).then(P=>({status:"fulfilled",value:P}),P=>({status:"rejected",reason:P}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),S=v?.nonce||v?.getAttribute("nonce");c=p(o.map(_=>{if(_=JBe(_),_ in nCe)return;nCe[_]=!0;const x=_.endsWith(".css"),P=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${P}`))return;const B=document.createElement("link");if(B.rel=x?"stylesheet":XBe,x||(B.as="script"),B.crossOrigin="",B.href=_,S&&B.setAttribute("nonce",S),document.head.appendChild(B),x)return new Promise((H,U)=>{B.addEventListener("load",H),B.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${_}`)))})}))}function d(p){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=p,window.dispatchEvent(v),!v.defaultPrevented)throw p}return c.then(p=>{for(const v of p||[])v.status==="rejected"&&d(v.reason);return n().catch(d)})};var eFe=(function(){function e(n,o){o===void 0&&(o=[]),this._eventType=n,this._eventFunctions=o}return e.prototype.init=function(){var n=this;this._eventFunctions.forEach(function(o){typeof window<"u"&&window.addEventListener(n._eventType,o)})},e})(),tFe=(function(){function e(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{},Datepicker:{}}}return e.prototype.addInstance=function(n,o,i,c){if(c===void 0&&(c=!1),!this._instances[n])return console.warn("Flowbite: Component ".concat(n," does not exist.")),!1;if(this._instances[n][i]&&!c){console.warn("Flowbite: Instance with ID ".concat(i," already exists."));return}c&&this._instances[n][i]&&this._instances[n][i].destroyAndRemoveInstance(),this._instances[n][i||this._generateRandomId()]=o},e.prototype.getAllInstances=function(){return this._instances},e.prototype.getInstances=function(n){return this._instances[n]?this._instances[n]:(console.warn("Flowbite: Component ".concat(n," does not exist.")),!1)},e.prototype.getInstance=function(n,o){if(this._componentAndInstanceCheck(n,o)){if(!this._instances[n][o]){console.warn("Flowbite: Instance with ID ".concat(o," does not exist."));return}return this._instances[n][o]}},e.prototype.destroyAndRemoveInstance=function(n,o){this._componentAndInstanceCheck(n,o)&&(this.destroyInstanceObject(n,o),this.removeInstance(n,o))},e.prototype.removeInstance=function(n,o){this._componentAndInstanceCheck(n,o)&&delete this._instances[n][o]},e.prototype.destroyInstanceObject=function(n,o){this._componentAndInstanceCheck(n,o)&&this._instances[n][o].destroy()},e.prototype.instanceExists=function(n,o){return!(!this._instances[n]||!this._instances[n][o])},e.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},e.prototype._componentAndInstanceCheck=function(n,o){return this._instances[n]?this._instances[n][o]?!0:(console.warn("Flowbite: Instance with ID ".concat(o," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(n," does not exist.")),!1)},e})(),xa=new tFe;typeof window<"u"&&(window.FlowbiteInstances=xa);var FJ=function(){return FJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},FJ.apply(this,arguments)},VJ={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},nFe={id:null,override:!0},cRe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=[]),i===void 0&&(i=VJ),c===void 0&&(c=nFe),this._instanceId=c.id?c.id:n.id,this._accordionEl=n,this._items=o,this._options=FJ(FJ({},VJ),i),this._initialized=!1,this.init(),xa.addInstance("Accordion",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._items.length&&!this._initialized&&(this._items.forEach(function(o){o.active&&n.open(o.id);var i=function(){n.toggle(o.id)};o.triggerEl.addEventListener("click",i),o.clickHandler=i}),this._initialized=!0)},e.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(n){n.triggerEl.removeEventListener("click",n.clickHandler),delete n.clickHandler}),this._initialized=!1)},e.prototype.removeInstance=function(){xa.removeInstance("Accordion",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getItem=function(n){return this._items.filter(function(o){return o.id===n})[0]},e.prototype.open=function(n){var o,i,c=this,d=this.getItem(n);this._options.alwaysOpen||this._items.map(function(p){var v,S;p!==d&&((v=p.triggerEl.classList).remove.apply(v,c._options.activeClasses.split(" ")),(S=p.triggerEl.classList).add.apply(S,c._options.inactiveClasses.split(" ")),p.targetEl.classList.add("hidden"),p.triggerEl.setAttribute("aria-expanded","false"),p.active=!1,p.iconEl&&p.iconEl.classList.add("rotate-180"))}),(o=d.triggerEl.classList).add.apply(o,this._options.activeClasses.split(" ")),(i=d.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),d.triggerEl.setAttribute("aria-expanded","true"),d.targetEl.classList.remove("hidden"),d.active=!0,d.iconEl&&d.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,d)},e.prototype.toggle=function(n){var o=this.getItem(n);o.active?this.close(n):this.open(n),this._options.onToggle(this,o)},e.prototype.close=function(n){var o,i,c=this.getItem(n);(o=c.triggerEl.classList).remove.apply(o,this._options.activeClasses.split(" ")),(i=c.triggerEl.classList).add.apply(i,this._options.inactiveClasses.split(" ")),c.targetEl.classList.add("hidden"),c.triggerEl.setAttribute("aria-expanded","false"),c.active=!1,c.iconEl&&c.iconEl.classList.add("rotate-180"),this._options.onClose(this,c)},e.prototype.updateOnOpen=function(n){this._options.onOpen=n},e.prototype.updateOnClose=function(n){this._options.onClose=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function abe(){document.querySelectorAll("[data-accordion]").forEach(function(e){var n=e.getAttribute("data-accordion"),o=e.getAttribute("data-active-classes"),i=e.getAttribute("data-inactive-classes"),c=[];e.querySelectorAll("[data-accordion-target]").forEach(function(d){if(d.closest("[data-accordion]")===e){var p={id:d.getAttribute("data-accordion-target"),triggerEl:d,targetEl:document.querySelector(d.getAttribute("data-accordion-target")),iconEl:d.querySelector("[data-accordion-icon]"),active:d.getAttribute("aria-expanded")==="true"};c.push(p)}}),new cRe(e,c,{alwaysOpen:n==="open",activeClasses:o||VJ.activeClasses,inactiveClasses:i||VJ.inactiveClasses})})}typeof window<"u"&&(window.Accordion=cRe,window.initAccordions=abe);var HJ=function(){return HJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},HJ.apply(this,arguments)},oCe={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},oFe={id:null,override:!0},rge=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=oCe),c===void 0&&(c=oFe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=o,this._options=HJ(HJ({},oCe),i),this._visible=!1,this._initialized=!1,this.init(),xa.addInstance("Collapse",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){n.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){xa.removeInstance("Collapse",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},e.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},e.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},e.prototype.updateOnCollapse=function(n){this._options.onCollapse=n},e.prototype.updateOnExpand=function(n){this._options.onExpand=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function lbe(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(e){var n=e.getAttribute("data-collapse-toggle"),o=document.getElementById(n);o?xa.instanceExists("Collapse",o.getAttribute("id"))?new rge(o,e,{},{id:o.getAttribute("id")+"_"+xa._generateRandomId()}):new rge(o,e):console.error('The target element with id "'.concat(n,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=rge,window.initCollapses=lbe);var $k=function(){return $k=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},$k.apply(this,arguments)},VX={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},sFe={id:null,override:!0},uRe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=[]),i===void 0&&(i=VX),c===void 0&&(c=sFe),this._instanceId=c.id?c.id:n.id,this._carouselEl=n,this._items=o,this._options=$k($k($k({},VX),i),{indicators:$k($k({},VX.indicators),i.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),xa.addInstance("Carousel",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._items.length&&!this._initialized&&(this._items.map(function(o){o.el.classList.add("absolute","inset-0","transition-transform","transform")}),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map(function(o,i){o.el.addEventListener("click",function(){n.slideTo(i)})}),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},e.prototype.removeInstance=function(){xa.removeInstance("Carousel",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getItem=function(n){return this._items[n]},e.prototype.slideTo=function(n){var o=this._items[n],i={left:o.position===0?this._items[this._items.length-1]:this._items[o.position-1],middle:o,right:o.position===this._items.length-1?this._items[0]:this._items[o.position+1]};this._rotate(i),this._setActiveItem(o),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},e.prototype.next=function(){var n=this.getActiveItem(),o=null;n.position===this._items.length-1?o=this._items[0]:o=this._items[n.position+1],this.slideTo(o.position),this._options.onNext(this)},e.prototype.prev=function(){var n=this.getActiveItem(),o=null;n.position===0?o=this._items[this._items.length-1]:o=this._items[n.position-1],this.slideTo(o.position),this._options.onPrev(this)},e.prototype._rotate=function(n){if(this._items.map(function(o){o.el.classList.add("hidden")}),this._items.length===1){n.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),n.middle.el.classList.add("translate-x-0","z-20");return}n.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),n.left.el.classList.add("-translate-x-full","z-10"),n.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),n.middle.el.classList.add("translate-x-0","z-30"),n.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),n.right.el.classList.add("translate-x-full","z-20")},e.prototype.cycle=function(){var n=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){n.next()},this._intervalDuration))},e.prototype.pause=function(){clearInterval(this._intervalInstance)},e.prototype.getActiveItem=function(){return this._activeItem},e.prototype._setActiveItem=function(n){var o,i,c=this;this._activeItem=n;var d=n.position;this._indicators.length&&(this._indicators.map(function(p){var v,S;p.el.setAttribute("aria-current","false"),(v=p.el.classList).remove.apply(v,c._options.indicators.activeClasses.split(" ")),(S=p.el.classList).add.apply(S,c._options.indicators.inactiveClasses.split(" "))}),(o=this._indicators[d].el.classList).add.apply(o,this._options.indicators.activeClasses.split(" ")),(i=this._indicators[d].el.classList).remove.apply(i,this._options.indicators.inactiveClasses.split(" ")),this._indicators[d].el.setAttribute("aria-current","true"))},e.prototype.updateOnNext=function(n){this._options.onNext=n},e.prototype.updateOnPrev=function(n){this._options.onPrev=n},e.prototype.updateOnChange=function(n){this._options.onChange=n},e})();function cbe(){document.querySelectorAll("[data-carousel]").forEach(function(e){var n=e.getAttribute("data-carousel-interval"),o=e.getAttribute("data-carousel")==="slide",i=[],c=0;e.querySelectorAll("[data-carousel-item]").length&&Array.from(e.querySelectorAll("[data-carousel-item]")).map(function(_,x){i.push({position:x,el:_}),_.getAttribute("data-carousel-item")==="active"&&(c=x)});var d=[];e.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(e.querySelectorAll("[data-carousel-slide-to]")).map(function(_){d.push({position:parseInt(_.getAttribute("data-carousel-slide-to")),el:_})});var p=new uRe(e,i,{defaultPosition:c,indicators:{items:d},interval:n||VX.interval});o&&p.cycle();var v=e.querySelector("[data-carousel-next]"),S=e.querySelector("[data-carousel-prev]");v&&v.addEventListener("click",function(){p.next()}),S&&S.addEventListener("click",function(){p.prev()})})}typeof window<"u"&&(window.Carousel=uRe,window.initCarousels=cbe);var $J=function(){return $J=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},$J.apply(this,arguments)},sCe={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},rFe={id:null,override:!0},dRe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=sCe),c===void 0&&(c=rFe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=o,this._options=$J($J({},sCe),i),this._initialized=!1,this.init(),xa.addInstance("Dismiss",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){n.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){xa.removeInstance("Dismiss",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){var n=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){n._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},e.prototype.updateOnHide=function(n){this._options.onHide=n},e})();function ube(){document.querySelectorAll("[data-dismiss-target]").forEach(function(e){var n=e.getAttribute("data-dismiss-target"),o=document.querySelector(n);o?new dRe(o,e):console.error('The dismiss element with id "'.concat(n,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=dRe,window.initDismisses=ube);var Ly="top",e1="bottom",t1="right",By="left",dbe="auto",hz=[Ly,e1,t1,By],V3="start",R6="end",iFe="clippingParents",hRe="viewport",g5="popper",aFe="reference",rCe=hz.reduce(function(e,n){return e.concat([n+"-"+V3,n+"-"+R6])},[]),fRe=[].concat(hz,[dbe]).reduce(function(e,n){return e.concat([n,n+"-"+V3,n+"-"+R6])},[]),lFe="beforeRead",cFe="read",uFe="afterRead",dFe="beforeMain",hFe="main",fFe="afterMain",pFe="beforeWrite",mFe="write",gFe="afterWrite",vFe=[lFe,cFe,uFe,dFe,hFe,fFe,pFe,mFe,gFe];function _E(e){return e?(e.nodeName||"").toLowerCase():null}function Gb(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var n=e.ownerDocument;return n&&n.defaultView||window}return e}function I2(e){var n=Gb(e).Element;return e instanceof n||e instanceof Element}function X0(e){var n=Gb(e).HTMLElement;return e instanceof n||e instanceof HTMLElement}function hbe(e){if(typeof ShadowRoot>"u")return!1;var n=Gb(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}function yFe(e){var n=e.state;Object.keys(n.elements).forEach(function(o){var i=n.styles[o]||{},c=n.attributes[o]||{},d=n.elements[o];!X0(d)||!_E(d)||(Object.assign(d.style,i),Object.keys(c).forEach(function(p){var v=c[p];v===!1?d.removeAttribute(p):d.setAttribute(p,v===!0?"":v)}))})}function bFe(e){var n=e.state,o={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,o.popper),n.styles=o,n.elements.arrow&&Object.assign(n.elements.arrow.style,o.arrow),function(){Object.keys(n.elements).forEach(function(i){var c=n.elements[i],d=n.attributes[i]||{},p=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:o[i]),v=p.reduce(function(S,_){return S[_]="",S},{});!X0(c)||!_E(c)||(Object.assign(c.style,v),Object.keys(d).forEach(function(S){c.removeAttribute(S)}))})}}const SFe={name:"applyStyles",enabled:!0,phase:"write",fn:yFe,effect:bFe,requires:["computeStyles"]};function CE(e){return e.split("-")[0]}var c2=Math.max,UJ=Math.min,H3=Math.round;function ige(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function pRe(){return!/^((?!chrome|android).)*safari/i.test(ige())}function $3(e,n,o){n===void 0&&(n=!1),o===void 0&&(o=!1);var i=e.getBoundingClientRect(),c=1,d=1;n&&X0(e)&&(c=e.offsetWidth>0&&H3(i.width)/e.offsetWidth||1,d=e.offsetHeight>0&&H3(i.height)/e.offsetHeight||1);var p=I2(e)?Gb(e):window,v=p.visualViewport,S=!pRe()&&o,_=(i.left+(S&&v?v.offsetLeft:0))/c,x=(i.top+(S&&v?v.offsetTop:0))/d,P=i.width/c,B=i.height/d;return{width:P,height:B,top:x,right:_+P,bottom:x+B,left:_,x:_,y:x}}function fbe(e){var n=$3(e),o=e.offsetWidth,i=e.offsetHeight;return Math.abs(n.width-o)<=1&&(o=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:e.offsetLeft,y:e.offsetTop,width:o,height:i}}function mRe(e,n){var o=n.getRootNode&&n.getRootNode();if(e.contains(n))return!0;if(o&&hbe(o)){var i=n;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function fT(e){return Gb(e).getComputedStyle(e)}function CFe(e){return["table","td","th"].indexOf(_E(e))>=0}function GO(e){return((I2(e)?e.ownerDocument:e.document)||window.document).documentElement}function zee(e){return _E(e)==="html"?e:e.assignedSlot||e.parentNode||(hbe(e)?e.host:null)||GO(e)}function iCe(e){return!X0(e)||fT(e).position==="fixed"?null:e.offsetParent}function EFe(e){var n=/firefox/i.test(ige()),o=/Trident/i.test(ige());if(o&&X0(e)){var i=fT(e);if(i.position==="fixed")return null}var c=zee(e);for(hbe(c)&&(c=c.host);X0(c)&&["html","body"].indexOf(_E(c))<0;){var d=fT(c);if(d.transform!=="none"||d.perspective!=="none"||d.contain==="paint"||["transform","perspective"].indexOf(d.willChange)!==-1||n&&d.willChange==="filter"||n&&d.filter&&d.filter!=="none")return c;c=c.parentNode}return null}function fz(e){for(var n=Gb(e),o=iCe(e);o&&CFe(o)&&fT(o).position==="static";)o=iCe(o);return o&&(_E(o)==="html"||_E(o)==="body"&&fT(o).position==="static")?n:o||EFe(e)||n}function pbe(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function t6(e,n,o){return c2(e,UJ(n,o))}function wFe(e,n,o){var i=t6(e,n,o);return i>o?o:i}function gRe(){return{top:0,right:0,bottom:0,left:0}}function vRe(e){return Object.assign({},gRe(),e)}function yRe(e,n){return n.reduce(function(o,i){return o[i]=e,o},{})}var _Fe=function(n,o){return n=typeof n=="function"?n(Object.assign({},o.rects,{placement:o.placement})):n,vRe(typeof n!="number"?n:yRe(n,hz))};function TFe(e){var n,o=e.state,i=e.name,c=e.options,d=o.elements.arrow,p=o.modifiersData.popperOffsets,v=CE(o.placement),S=pbe(v),_=[By,t1].indexOf(v)>=0,x=_?"height":"width";if(!(!d||!p)){var P=_Fe(c.padding,o),B=fbe(d),H=S==="y"?Ly:By,U=S==="y"?e1:t1,z=o.rects.reference[x]+o.rects.reference[S]-p[S]-o.rects.popper[x],Z=p[S]-o.rects.reference[S],te=fz(d),ce=te?S==="y"?te.clientHeight||0:te.clientWidth||0:0,se=z/2-Z/2,Se=P[H],Ce=ce-B[x]-P[U],Te=ce/2-B[x]/2+se,V=t6(Se,Te,Ce),ke=S;o.modifiersData[i]=(n={},n[ke]=V,n.centerOffset=V-Te,n)}}function AFe(e){var n=e.state,o=e.options,i=o.element,c=i===void 0?"[data-popper-arrow]":i;c!=null&&(typeof c=="string"&&(c=n.elements.popper.querySelector(c),!c)||mRe(n.elements.popper,c)&&(n.elements.arrow=c))}const xFe={name:"arrow",enabled:!0,phase:"main",fn:TFe,effect:AFe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function U3(e){return e.split("-")[1]}var OFe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function IFe(e,n){var o=e.x,i=e.y,c=n.devicePixelRatio||1;return{x:H3(o*c)/c||0,y:H3(i*c)/c||0}}function aCe(e){var n,o=e.popper,i=e.popperRect,c=e.placement,d=e.variation,p=e.offsets,v=e.position,S=e.gpuAcceleration,_=e.adaptive,x=e.roundOffsets,P=e.isFixed,B=p.x,H=B===void 0?0:B,U=p.y,z=U===void 0?0:U,Z=typeof x=="function"?x({x:H,y:z}):{x:H,y:z};H=Z.x,z=Z.y;var te=p.hasOwnProperty("x"),ce=p.hasOwnProperty("y"),se=By,Se=Ly,Ce=window;if(_){var Te=fz(o),V="clientHeight",ke="clientWidth";if(Te===Gb(o)&&(Te=GO(o),fT(Te).position!=="static"&&v==="absolute"&&(V="scrollHeight",ke="scrollWidth")),Te=Te,c===Ly||(c===By||c===t1)&&d===R6){Se=e1;var et=P&&Te===Ce&&Ce.visualViewport?Ce.visualViewport.height:Te[V];z-=et-i.height,z*=S?1:-1}if(c===By||(c===Ly||c===e1)&&d===R6){se=t1;var $e=P&&Te===Ce&&Ce.visualViewport?Ce.visualViewport.width:Te[ke];H-=$e-i.width,H*=S?1:-1}}var Re=Object.assign({position:v},_&&OFe),_e=x===!0?IFe({x:H,y:z},Gb(o)):{x:H,y:z};if(H=_e.x,z=_e.y,S){var ut;return Object.assign({},Re,(ut={},ut[Se]=ce?"0":"",ut[se]=te?"0":"",ut.transform=(Ce.devicePixelRatio||1)<=1?"translate("+H+"px, "+z+"px)":"translate3d("+H+"px, "+z+"px, 0)",ut))}return Object.assign({},Re,(n={},n[Se]=ce?z+"px":"",n[se]=te?H+"px":"",n.transform="",n))}function RFe(e){var n=e.state,o=e.options,i=o.gpuAcceleration,c=i===void 0?!0:i,d=o.adaptive,p=d===void 0?!0:d,v=o.roundOffsets,S=v===void 0?!0:v,_={placement:CE(n.placement),variation:U3(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:c,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,aCe(Object.assign({},_,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:p,roundOffsets:S})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,aCe(Object.assign({},_,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:S})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const kFe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:RFe,data:{}};var jY={passive:!0};function DFe(e){var n=e.state,o=e.instance,i=e.options,c=i.scroll,d=c===void 0?!0:c,p=i.resize,v=p===void 0?!0:p,S=Gb(n.elements.popper),_=[].concat(n.scrollParents.reference,n.scrollParents.popper);return d&&_.forEach(function(x){x.addEventListener("scroll",o.update,jY)}),v&&S.addEventListener("resize",o.update,jY),function(){d&&_.forEach(function(x){x.removeEventListener("scroll",o.update,jY)}),v&&S.removeEventListener("resize",o.update,jY)}}const MFe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:DFe,data:{}};var PFe={left:"right",right:"left",bottom:"top",top:"bottom"};function HX(e){return e.replace(/left|right|bottom|top/g,function(n){return PFe[n]})}var NFe={start:"end",end:"start"};function lCe(e){return e.replace(/start|end/g,function(n){return NFe[n]})}function mbe(e){var n=Gb(e),o=n.pageXOffset,i=n.pageYOffset;return{scrollLeft:o,scrollTop:i}}function gbe(e){return $3(GO(e)).left+mbe(e).scrollLeft}function LFe(e,n){var o=Gb(e),i=GO(e),c=o.visualViewport,d=i.clientWidth,p=i.clientHeight,v=0,S=0;if(c){d=c.width,p=c.height;var _=pRe();(_||!_&&n==="fixed")&&(v=c.offsetLeft,S=c.offsetTop)}return{width:d,height:p,x:v+gbe(e),y:S}}function BFe(e){var n,o=GO(e),i=mbe(e),c=(n=e.ownerDocument)==null?void 0:n.body,d=c2(o.scrollWidth,o.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),p=c2(o.scrollHeight,o.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),v=-i.scrollLeft+gbe(e),S=-i.scrollTop;return fT(c||o).direction==="rtl"&&(v+=c2(o.clientWidth,c?c.clientWidth:0)-d),{width:d,height:p,x:v,y:S}}function vbe(e){var n=fT(e),o=n.overflow,i=n.overflowX,c=n.overflowY;return/auto|scroll|overlay|hidden/.test(o+c+i)}function bRe(e){return["html","body","#document"].indexOf(_E(e))>=0?e.ownerDocument.body:X0(e)&&vbe(e)?e:bRe(zee(e))}function n6(e,n){var o;n===void 0&&(n=[]);var i=bRe(e),c=i===((o=e.ownerDocument)==null?void 0:o.body),d=Gb(i),p=c?[d].concat(d.visualViewport||[],vbe(i)?i:[]):i,v=n.concat(p);return c?v:v.concat(n6(zee(p)))}function age(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function FFe(e,n){var o=$3(e,!1,n==="fixed");return o.top=o.top+e.clientTop,o.left=o.left+e.clientLeft,o.bottom=o.top+e.clientHeight,o.right=o.left+e.clientWidth,o.width=e.clientWidth,o.height=e.clientHeight,o.x=o.left,o.y=o.top,o}function cCe(e,n,o){return n===hRe?age(LFe(e,o)):I2(n)?FFe(n,o):age(BFe(GO(e)))}function VFe(e){var n=n6(zee(e)),o=["absolute","fixed"].indexOf(fT(e).position)>=0,i=o&&X0(e)?fz(e):e;return I2(i)?n.filter(function(c){return I2(c)&&mRe(c,i)&&_E(c)!=="body"}):[]}function HFe(e,n,o,i){var c=n==="clippingParents"?VFe(e):[].concat(n),d=[].concat(c,[o]),p=d[0],v=d.reduce(function(S,_){var x=cCe(e,_,i);return S.top=c2(x.top,S.top),S.right=UJ(x.right,S.right),S.bottom=UJ(x.bottom,S.bottom),S.left=c2(x.left,S.left),S},cCe(e,p,i));return v.width=v.right-v.left,v.height=v.bottom-v.top,v.x=v.left,v.y=v.top,v}function SRe(e){var n=e.reference,o=e.element,i=e.placement,c=i?CE(i):null,d=i?U3(i):null,p=n.x+n.width/2-o.width/2,v=n.y+n.height/2-o.height/2,S;switch(c){case Ly:S={x:p,y:n.y-o.height};break;case e1:S={x:p,y:n.y+n.height};break;case t1:S={x:n.x+n.width,y:v};break;case By:S={x:n.x-o.width,y:v};break;default:S={x:n.x,y:n.y}}var _=c?pbe(c):null;if(_!=null){var x=_==="y"?"height":"width";switch(d){case V3:S[_]=S[_]-(n[x]/2-o[x]/2);break;case R6:S[_]=S[_]+(n[x]/2-o[x]/2);break}}return S}function k6(e,n){n===void 0&&(n={});var o=n,i=o.placement,c=i===void 0?e.placement:i,d=o.strategy,p=d===void 0?e.strategy:d,v=o.boundary,S=v===void 0?iFe:v,_=o.rootBoundary,x=_===void 0?hRe:_,P=o.elementContext,B=P===void 0?g5:P,H=o.altBoundary,U=H===void 0?!1:H,z=o.padding,Z=z===void 0?0:z,te=vRe(typeof Z!="number"?Z:yRe(Z,hz)),ce=B===g5?aFe:g5,se=e.rects.popper,Se=e.elements[U?ce:B],Ce=HFe(I2(Se)?Se:Se.contextElement||GO(e.elements.popper),S,x,p),Te=$3(e.elements.reference),V=SRe({reference:Te,element:se,placement:c}),ke=age(Object.assign({},se,V)),et=B===g5?ke:Te,$e={top:Ce.top-et.top+te.top,bottom:et.bottom-Ce.bottom+te.bottom,left:Ce.left-et.left+te.left,right:et.right-Ce.right+te.right},Re=e.modifiersData.offset;if(B===g5&&Re){var _e=Re[c];Object.keys($e).forEach(function(ut){var ct=[t1,e1].indexOf(ut)>=0?1:-1,St=[Ly,e1].indexOf(ut)>=0?"y":"x";$e[ut]+=_e[St]*ct})}return $e}function $Fe(e,n){n===void 0&&(n={});var o=n,i=o.placement,c=o.boundary,d=o.rootBoundary,p=o.padding,v=o.flipVariations,S=o.allowedAutoPlacements,_=S===void 0?fRe:S,x=U3(i),P=x?v?rCe:rCe.filter(function(U){return U3(U)===x}):hz,B=P.filter(function(U){return _.indexOf(U)>=0});B.length===0&&(B=P);var H=B.reduce(function(U,z){return U[z]=k6(e,{placement:z,boundary:c,rootBoundary:d,padding:p})[CE(z)],U},{});return Object.keys(H).sort(function(U,z){return H[U]-H[z]})}function UFe(e){if(CE(e)===dbe)return[];var n=HX(e);return[lCe(e),n,lCe(n)]}function zFe(e){var n=e.state,o=e.options,i=e.name;if(!n.modifiersData[i]._skip){for(var c=o.mainAxis,d=c===void 0?!0:c,p=o.altAxis,v=p===void 0?!0:p,S=o.fallbackPlacements,_=o.padding,x=o.boundary,P=o.rootBoundary,B=o.altBoundary,H=o.flipVariations,U=H===void 0?!0:H,z=o.allowedAutoPlacements,Z=n.options.placement,te=CE(Z),ce=te===Z,se=S||(ce||!U?[HX(Z)]:UFe(Z)),Se=[Z].concat(se).reduce(function(In,mn){return In.concat(CE(mn)===dbe?$Fe(n,{placement:mn,boundary:x,rootBoundary:P,padding:_,flipVariations:U,allowedAutoPlacements:z}):mn)},[]),Ce=n.rects.reference,Te=n.rects.popper,V=new Map,ke=!0,et=Se[0],$e=0;$e<Se.length;$e++){var Re=Se[$e],_e=CE(Re),ut=U3(Re)===V3,ct=[Ly,e1].indexOf(_e)>=0,St=ct?"width":"height",ee=k6(n,{placement:Re,boundary:x,rootBoundary:P,altBoundary:B,padding:_}),ln=ct?ut?t1:By:ut?e1:Ly;Ce[St]>Te[St]&&(ln=HX(ln));var it=HX(ln),Ht=[];if(d&&Ht.push(ee[_e]<=0),v&&Ht.push(ee[ln]<=0,ee[it]<=0),Ht.every(function(In){return In})){et=Re,ke=!1;break}V.set(Re,Ht)}if(ke)for(var Ut=U?3:1,Xe=function(mn){var Dt=Se.find(function(un){var ye=V.get(un);if(ye)return ye.slice(0,mn).every(function(ms){return ms})});if(Dt)return et=Dt,"break"},tn=Ut;tn>0;tn--){var eo=Xe(tn);if(eo==="break")break}n.placement!==et&&(n.modifiersData[i]._skip=!0,n.placement=et,n.reset=!0)}}const jFe={name:"flip",enabled:!0,phase:"main",fn:zFe,requiresIfExists:["offset"],data:{_skip:!1}};function uCe(e,n,o){return o===void 0&&(o={x:0,y:0}),{top:e.top-n.height-o.y,right:e.right-n.width+o.x,bottom:e.bottom-n.height+o.y,left:e.left-n.width-o.x}}function dCe(e){return[Ly,t1,e1,By].some(function(n){return e[n]>=0})}function WFe(e){var n=e.state,o=e.name,i=n.rects.reference,c=n.rects.popper,d=n.modifiersData.preventOverflow,p=k6(n,{elementContext:"reference"}),v=k6(n,{altBoundary:!0}),S=uCe(p,i),_=uCe(v,c,d),x=dCe(S),P=dCe(_);n.modifiersData[o]={referenceClippingOffsets:S,popperEscapeOffsets:_,isReferenceHidden:x,hasPopperEscaped:P},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":x,"data-popper-escaped":P})}const GFe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:WFe};function qFe(e,n,o){var i=CE(e),c=[By,Ly].indexOf(i)>=0?-1:1,d=typeof o=="function"?o(Object.assign({},n,{placement:e})):o,p=d[0],v=d[1];return p=p||0,v=(v||0)*c,[By,t1].indexOf(i)>=0?{x:v,y:p}:{x:p,y:v}}function KFe(e){var n=e.state,o=e.options,i=e.name,c=o.offset,d=c===void 0?[0,0]:c,p=fRe.reduce(function(x,P){return x[P]=qFe(P,n.rects,d),x},{}),v=p[n.placement],S=v.x,_=v.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=S,n.modifiersData.popperOffsets.y+=_),n.modifiersData[i]=p}const ZFe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:KFe};function YFe(e){var n=e.state,o=e.name;n.modifiersData[o]=SRe({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const XFe={name:"popperOffsets",enabled:!0,phase:"read",fn:YFe,data:{}};function JFe(e){return e==="x"?"y":"x"}function QFe(e){var n=e.state,o=e.options,i=e.name,c=o.mainAxis,d=c===void 0?!0:c,p=o.altAxis,v=p===void 0?!1:p,S=o.boundary,_=o.rootBoundary,x=o.altBoundary,P=o.padding,B=o.tether,H=B===void 0?!0:B,U=o.tetherOffset,z=U===void 0?0:U,Z=k6(n,{boundary:S,rootBoundary:_,padding:P,altBoundary:x}),te=CE(n.placement),ce=U3(n.placement),se=!ce,Se=pbe(te),Ce=JFe(Se),Te=n.modifiersData.popperOffsets,V=n.rects.reference,ke=n.rects.popper,et=typeof z=="function"?z(Object.assign({},n.rects,{placement:n.placement})):z,$e=typeof et=="number"?{mainAxis:et,altAxis:et}:Object.assign({mainAxis:0,altAxis:0},et),Re=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,_e={x:0,y:0};if(Te){if(d){var ut,ct=Se==="y"?Ly:By,St=Se==="y"?e1:t1,ee=Se==="y"?"height":"width",ln=Te[Se],it=ln+Z[ct],Ht=ln-Z[St],Ut=H?-ke[ee]/2:0,Xe=ce===V3?V[ee]:ke[ee],tn=ce===V3?-ke[ee]:-V[ee],eo=n.elements.arrow,In=H&&eo?fbe(eo):{width:0,height:0},mn=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:gRe(),Dt=mn[ct],un=mn[St],ye=t6(0,V[ee],In[ee]),ms=se?V[ee]/2-Ut-ye-Dt-$e.mainAxis:Xe-ye-Dt-$e.mainAxis,Vo=se?-V[ee]/2+Ut+ye+un+$e.mainAxis:tn+ye+un+$e.mainAxis,Eo=n.elements.arrow&&fz(n.elements.arrow),Oo=Eo?Se==="y"?Eo.clientTop||0:Eo.clientLeft||0:0,Zn=(ut=Re?.[Se])!=null?ut:0,xt=ln+ms-Zn-Oo,cn=ln+Vo-Zn,vn=t6(H?UJ(it,xt):it,ln,H?c2(Ht,cn):Ht);Te[Se]=vn,_e[Se]=vn-ln}if(v){var qe,pt=Se==="x"?Ly:By,Ft=Se==="x"?e1:t1,Ve=Te[Ce],Ot=Ce==="y"?"height":"width",Nt=Ve+Z[pt],Gt=Ve-Z[Ft],Tt=[Ly,By].indexOf(te)!==-1,Et=(qe=Re?.[Ce])!=null?qe:0,Yn=Tt?Nt:Ve-V[Ot]-ke[Ot]-Et+$e.altAxis,fo=Tt?Ve+V[Ot]+ke[Ot]-Et-$e.altAxis:Gt,ro=H&&Tt?wFe(Yn,Ve,fo):t6(H?Yn:Nt,Ve,H?fo:Gt);Te[Ce]=ro,_e[Ce]=ro-Ve}n.modifiersData[i]=_e}}const eVe={name:"preventOverflow",enabled:!0,phase:"main",fn:QFe,requiresIfExists:["offset"]};function tVe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function nVe(e){return e===Gb(e)||!X0(e)?mbe(e):tVe(e)}function oVe(e){var n=e.getBoundingClientRect(),o=H3(n.width)/e.offsetWidth||1,i=H3(n.height)/e.offsetHeight||1;return o!==1||i!==1}function sVe(e,n,o){o===void 0&&(o=!1);var i=X0(n),c=X0(n)&&oVe(n),d=GO(n),p=$3(e,c,o),v={scrollLeft:0,scrollTop:0},S={x:0,y:0};return(i||!i&&!o)&&((_E(n)!=="body"||vbe(d))&&(v=nVe(n)),X0(n)?(S=$3(n,!0),S.x+=n.clientLeft,S.y+=n.clientTop):d&&(S.x=gbe(d))),{x:p.left+v.scrollLeft-S.x,y:p.top+v.scrollTop-S.y,width:p.width,height:p.height}}function rVe(e){var n=new Map,o=new Set,i=[];e.forEach(function(d){n.set(d.name,d)});function c(d){o.add(d.name);var p=[].concat(d.requires||[],d.requiresIfExists||[]);p.forEach(function(v){if(!o.has(v)){var S=n.get(v);S&&c(S)}}),i.push(d)}return e.forEach(function(d){o.has(d.name)||c(d)}),i}function iVe(e){var n=rVe(e);return vFe.reduce(function(o,i){return o.concat(n.filter(function(c){return c.phase===i}))},[])}function aVe(e){var n;return function(){return n||(n=new Promise(function(o){Promise.resolve().then(function(){n=void 0,o(e())})})),n}}function lVe(e){var n=e.reduce(function(o,i){var c=o[i.name];return o[i.name]=c?Object.assign({},c,i,{options:Object.assign({},c.options,i.options),data:Object.assign({},c.data,i.data)}):i,o},{});return Object.keys(n).map(function(o){return n[o]})}var hCe={placement:"bottom",modifiers:[],strategy:"absolute"};function fCe(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return!n.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function cVe(e){e===void 0&&(e={});var n=e,o=n.defaultModifiers,i=o===void 0?[]:o,c=n.defaultOptions,d=c===void 0?hCe:c;return function(v,S,_){_===void 0&&(_=d);var x={placement:"bottom",orderedModifiers:[],options:Object.assign({},hCe,d),modifiersData:{},elements:{reference:v,popper:S},attributes:{},styles:{}},P=[],B=!1,H={state:x,setOptions:function(te){var ce=typeof te=="function"?te(x.options):te;z(),x.options=Object.assign({},d,x.options,ce),x.scrollParents={reference:I2(v)?n6(v):v.contextElement?n6(v.contextElement):[],popper:n6(S)};var se=iVe(lVe([].concat(i,x.options.modifiers)));return x.orderedModifiers=se.filter(function(Se){return Se.enabled}),U(),H.update()},forceUpdate:function(){if(!B){var te=x.elements,ce=te.reference,se=te.popper;if(fCe(ce,se)){x.rects={reference:sVe(ce,fz(se),x.options.strategy==="fixed"),popper:fbe(se)},x.reset=!1,x.placement=x.options.placement,x.orderedModifiers.forEach(function($e){return x.modifiersData[$e.name]=Object.assign({},$e.data)});for(var Se=0;Se<x.orderedModifiers.length;Se++){if(x.reset===!0){x.reset=!1,Se=-1;continue}var Ce=x.orderedModifiers[Se],Te=Ce.fn,V=Ce.options,ke=V===void 0?{}:V,et=Ce.name;typeof Te=="function"&&(x=Te({state:x,options:ke,name:et,instance:H})||x)}}}},update:aVe(function(){return new Promise(function(Z){H.forceUpdate(),Z(x)})}),destroy:function(){z(),B=!0}};if(!fCe(v,S))return H;H.setOptions(_).then(function(Z){!B&&_.onFirstUpdate&&_.onFirstUpdate(Z)});function U(){x.orderedModifiers.forEach(function(Z){var te=Z.name,ce=Z.options,se=ce===void 0?{}:ce,Se=Z.effect;if(typeof Se=="function"){var Ce=Se({state:x,name:te,instance:H,options:se}),Te=function(){};P.push(Ce||Te)}})}function z(){P.forEach(function(Z){return Z()}),P=[]}return H}}var uVe=[MFe,XFe,kFe,SFe,ZFe,jFe,eVe,xFe,GFe],ybe=cVe({defaultModifiers:uVe}),tO=function(){return tO=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},tO.apply(this,arguments)},WY=function(e,n,o){if(o||arguments.length===2)for(var i=0,c=n.length,d;i<c;i++)(d||!(i in n))&&(d||(d=Array.prototype.slice.call(n,0,i)),d[i]=n[i]);return e.concat(d||Array.prototype.slice.call(n))},nO={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},dVe={id:null,override:!0},CRe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=nO),c===void 0&&(c=dVe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=o,this._options=tO(tO({},nO),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),xa.addInstance("Dropdown",this,this._instanceId,c.override)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},e.prototype.destroy=function(){var n=this,o=this._getTriggerEvents();this._options.triggerType==="click"&&o.showEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._clickHandler)}),this._options.triggerType==="hover"&&(o.showEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._hoverShowTriggerElHandler),n._targetEl.removeEventListener(i,n._hoverShowTargetElHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._hoverHideHandler),n._targetEl.removeEventListener(i,n._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},e.prototype.removeInstance=function(){xa.removeInstance("Dropdown",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var n=this,o=this._getTriggerEvents();this._clickHandler=function(){n.toggle()},this._options.triggerType==="click"&&o.showEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._clickHandler)}),this._hoverShowTriggerElHandler=function(i){i.type==="click"?n.toggle():setTimeout(function(){n.show()},n._options.delay)},this._hoverShowTargetElHandler=function(){n.show()},this._hoverHideHandler=function(){setTimeout(function(){n._targetEl.matches(":hover")||n.hide()},n._options.delay)},this._options.triggerType==="hover"&&(o.showEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._hoverShowTriggerElHandler),n._targetEl.addEventListener(i,n._hoverShowTargetElHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._hoverHideHandler),n._targetEl.addEventListener(i,n._hoverHideHandler)}))},e.prototype._createPopperInstance=function(){return ybe(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},e.prototype._setupClickOutsideListener=function(){var n=this;this._clickOutsideEventListener=function(o){n._handleClickOutside(o,n._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(n,o){var i=n.target,c=this._options.ignoreClickOutsideClass,d=!1;if(c){var p=document.querySelectorAll(".".concat(c));p.forEach(function(v){if(v.contains(i)){d=!0;return}})}i!==o&&!o.contains(i)&&!this._triggerEl.contains(i)&&!d&&this.isVisible()&&this.hide()},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.isVisible=function(){return this._visible},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._targetEl.removeAttribute("aria-hidden"),this._popperInstance.setOptions(function(n){return tO(tO({},n),{modifiers:WY(WY([],n.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._targetEl.setAttribute("aria-hidden","true"),this._popperInstance.setOptions(function(n){return tO(tO({},n),{modifiers:WY(WY([],n.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function bbe(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(e){var n=e.getAttribute("data-dropdown-toggle"),o=document.getElementById(n);if(o){var i=e.getAttribute("data-dropdown-placement"),c=e.getAttribute("data-dropdown-offset-skidding"),d=e.getAttribute("data-dropdown-offset-distance"),p=e.getAttribute("data-dropdown-trigger"),v=e.getAttribute("data-dropdown-delay"),S=e.getAttribute("data-dropdown-ignore-click-outside-class");new CRe(o,e,{placement:i||nO.placement,triggerType:p||nO.triggerType,offsetSkidding:c?parseInt(c):nO.offsetSkidding,offsetDistance:d?parseInt(d):nO.offsetDistance,delay:v?parseInt(v):nO.delay,ignoreClickOutsideClass:S||nO.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(n,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=CRe,window.initDropdowns=bbe);var zJ=function(){return zJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},zJ.apply(this,arguments)},jJ={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},hVe={id:null,override:!0},ERe=(function(){function e(n,o,i){n===void 0&&(n=null),o===void 0&&(o=jJ),i===void 0&&(i=hVe),this._eventListenerInstances=[],this._instanceId=i.id?i.id:n.id,this._targetEl=n,this._options=zJ(zJ({},jJ),o),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),xa.addInstance("Modal",this,this._instanceId,i.override)}return e.prototype.init=function(){var n=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(o){n._targetEl.classList.add(o)}),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},e.prototype.removeInstance=function(){xa.removeInstance("Modal",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._createBackdrop=function(){var n;if(this._isHidden){var o=document.createElement("div");(n=o.classList).add.apply(n,this._options.backdropClasses.split(" ")),document.querySelector("body").append(o),this._backdropEl=o}},e.prototype._destroyBackdropEl=function(){!this._isHidden&&this._backdropEl&&(this._backdropEl.remove(),this._backdropEl=null)},e.prototype._setupModalCloseEventListeners=function(){var n=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(o){n._handleOutsideClick(o.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(o){o.key==="Escape"&&n.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._handleOutsideClick=function(n){(n===this._targetEl||n===this._backdropEl&&this.isVisible())&&this.hide()},e.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},e.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},e.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},e.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},e.prototype.isVisible=function(){return!this._isHidden},e.prototype.isHidden=function(){return this._isHidden},e.prototype.addEventListenerInstance=function(n,o,i){this._eventListenerInstances.push({element:n,type:o,handler:i})},e.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(n){n.element.removeEventListener(n.type,n.handler)}),this._eventListenerInstances=[]},e.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function Sbe(){document.querySelectorAll("[data-modal-target]").forEach(function(e){var n=e.getAttribute("data-modal-target"),o=document.getElementById(n);if(o){var i=o.getAttribute("data-modal-placement"),c=o.getAttribute("data-modal-backdrop");new ERe(o,{placement:i||jJ.placement,backdrop:c||jJ.backdrop})}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(e){var n=e.getAttribute("data-modal-toggle"),o=document.getElementById(n);if(o){var i=xa.getInstance("Modal",n);if(i){var c=function(){i.toggle()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(e){var n=e.getAttribute("data-modal-show"),o=document.getElementById(n);if(o){var i=xa.getInstance("Modal",n);if(i){var c=function(){i.show()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(e){var n=e.getAttribute("data-modal-hide"),o=document.getElementById(n);if(o){var i=xa.getInstance("Modal",n);if(i){var c=function(){i.hide()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=ERe,window.initModals=Sbe);var WJ=function(){return WJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},WJ.apply(this,arguments)},Uk={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},fVe={id:null,override:!0},wRe=(function(){function e(n,o,i){n===void 0&&(n=null),o===void 0&&(o=Uk),i===void 0&&(i=fVe),this._eventListenerInstances=[],this._instanceId=i.id?i.id:n.id,this._targetEl=n,this._options=WJ(WJ({},Uk),o),this._visible=!1,this._initialized=!1,this.init(),xa.addInstance("Drawer",this,this._instanceId,i.override)}return e.prototype.init=function(){var n=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(o){n._targetEl.classList.add(o)}),this._handleEscapeKey=function(o){o.key==="Escape"&&n.isVisible()&&n.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},e.prototype.removeInstance=function(){xa.removeInstance("Drawer",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){var n=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(o){n._targetEl.classList.remove(o)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(o){n._targetEl.classList.add(o)})):(this._getPlacementClasses(this._options.placement).active.map(function(o){n._targetEl.classList.remove(o)}),this._getPlacementClasses(this._options.placement).inactive.map(function(o){n._targetEl.classList.add(o)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){var n=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(o){n._targetEl.classList.add(o)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(o){n._targetEl.classList.remove(o)})):(this._getPlacementClasses(this._options.placement).active.map(function(o){n._targetEl.classList.add(o)}),this._getPlacementClasses(this._options.placement).inactive.map(function(o){n._targetEl.classList.remove(o)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype._createBackdrop=function(){var n,o=this;if(!this._visible){var i=document.createElement("div");i.setAttribute("drawer-backdrop",""),(n=i.classList).add.apply(n,this._options.backdropClasses.split(" ")),document.querySelector("body").append(i),i.addEventListener("click",function(){o.hide()})}},e.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]")!==null&&document.querySelector("[drawer-backdrop]").remove()},e.prototype._getPlacementClasses=function(n){switch(n){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e.prototype.addEventListenerInstance=function(n,o,i){this._eventListenerInstances.push({element:n,type:o,handler:i})},e.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(n){n.element.removeEventListener(n.type,n.handler)}),this._eventListenerInstances=[]},e.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function Cbe(){document.querySelectorAll("[data-drawer-target]").forEach(function(e){var n=e.getAttribute("data-drawer-target"),o=document.getElementById(n);if(o){var i=e.getAttribute("data-drawer-placement"),c=e.getAttribute("data-drawer-body-scrolling"),d=e.getAttribute("data-drawer-backdrop"),p=e.getAttribute("data-drawer-edge"),v=e.getAttribute("data-drawer-edge-offset");new wRe(o,{placement:i||Uk.placement,bodyScrolling:c?c==="true":Uk.bodyScrolling,backdrop:d?d==="true":Uk.backdrop,edge:p?p==="true":Uk.edge,edgeOffset:v||Uk.edgeOffset})}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(e){var n=e.getAttribute("data-drawer-toggle"),o=document.getElementById(n);if(o){var i=xa.getInstance("Drawer",n);if(i){var c=function(){i.toggle()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(e){var n=e.getAttribute("data-drawer-dismiss")?e.getAttribute("data-drawer-dismiss"):e.getAttribute("data-drawer-hide"),o=document.getElementById(n);if(o){var i=xa.getInstance("Drawer",n);if(i){var c=function(){i.hide()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(e){var n=e.getAttribute("data-drawer-show"),o=document.getElementById(n);if(o){var i=xa.getInstance("Drawer",n);if(i){var c=function(){i.show()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=wRe,window.initDrawers=Cbe);var GJ=function(){return GJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},GJ.apply(this,arguments)},qJ={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},pVe={id:null,override:!0},_Re=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=[]),i===void 0&&(i=qJ),c===void 0&&(c=pVe),this._instanceId=c.id?c.id:n.id,this._tabsEl=n,this._items=o,this._activeTab=i?this.getTab(i.defaultTabId):null,this._options=GJ(GJ({},qJ),i),this._initialized=!1,this.init(),xa.addInstance("Tabs",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(o){o.triggerEl.addEventListener("click",function(i){i.preventDefault(),n.show(o.id)})}))},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},e.prototype.removeInstance=function(){this.destroy(),xa.removeInstance("Tabs",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getActiveTab=function(){return this._activeTab},e.prototype.setActiveTab=function(n){this._activeTab=n},e.prototype.getTab=function(n){return this._items.filter(function(o){return o.id===n})[0]},e.prototype.show=function(n,o){var i,c,d=this;o===void 0&&(o=!1);var p=this.getTab(n);p===this._activeTab&&!o||(this._items.map(function(v){var S,_;v!==p&&((S=v.triggerEl.classList).remove.apply(S,d._options.activeClasses.split(" ")),(_=v.triggerEl.classList).add.apply(_,d._options.inactiveClasses.split(" ")),v.targetEl.classList.add("hidden"),v.triggerEl.setAttribute("aria-selected","false"))}),(i=p.triggerEl.classList).add.apply(i,this._options.activeClasses.split(" ")),(c=p.triggerEl.classList).remove.apply(c,this._options.inactiveClasses.split(" ")),p.triggerEl.setAttribute("aria-selected","true"),p.targetEl.classList.remove("hidden"),this.setActiveTab(p),this._options.onShow(this,p))},e.prototype.updateOnShow=function(n){this._options.onShow=n},e})();function Ebe(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(e){var n=[],o=e.getAttribute("data-tabs-active-classes"),i=e.getAttribute("data-tabs-inactive-classes"),c=null;e.querySelectorAll('[role="tab"]').forEach(function(d){var p=d.getAttribute("aria-selected")==="true",v={id:d.getAttribute("data-tabs-target"),triggerEl:d,targetEl:document.querySelector(d.getAttribute("data-tabs-target"))};n.push(v),p&&(c=v.id)}),new _Re(e,n,{defaultTabId:c,activeClasses:o||qJ.activeClasses,inactiveClasses:i||qJ.inactiveClasses})})}typeof window<"u"&&(window.Tabs=_Re,window.initTabs=Ebe);var oO=function(){return oO=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},oO.apply(this,arguments)},GY=function(e,n,o){if(o||arguments.length===2)for(var i=0,c=n.length,d;i<c;i++)(d||!(i in n))&&(d||(d=Array.prototype.slice.call(n,0,i)),d[i]=n[i]);return e.concat(d||Array.prototype.slice.call(n))},KJ={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},mVe={id:null,override:!0},TRe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=KJ),c===void 0&&(c=mVe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=o,this._options=oO(oO({},KJ),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),xa.addInstance("Tooltip",this,this._instanceId,c.override)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},e.prototype.destroy=function(){var n=this;if(this._initialized){var o=this._getTriggerEvents();o.showEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._showHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},e.prototype.removeInstance=function(){xa.removeInstance("Tooltip",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var n=this,o=this._getTriggerEvents();this._showHandler=function(){n.show()},this._hideHandler=function(){n.hide()},o.showEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._showHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._hideHandler)})},e.prototype._createPopperInstance=function(){return ybe(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype._setupKeydownListener=function(){var n=this;this._keydownEventListener=function(o){o.key==="Escape"&&n.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var n=this;this._clickOutsideEventListener=function(o){n._handleClickOutside(o,n._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(n,o){var i=n.target;i!==o&&!o.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(n){return oO(oO({},n),{modifiers:GY(GY([],n.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(n){return oO(oO({},n),{modifiers:GY(GY([],n.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function wbe(){document.querySelectorAll("[data-tooltip-target]").forEach(function(e){var n=e.getAttribute("data-tooltip-target"),o=document.getElementById(n);if(o){var i=e.getAttribute("data-tooltip-trigger"),c=e.getAttribute("data-tooltip-placement");new TRe(o,e,{placement:c||KJ.placement,triggerType:i||KJ.triggerType})}else console.error('The tooltip element with id "'.concat(n,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=TRe,window.initTooltips=wbe);var sO=function(){return sO=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},sO.apply(this,arguments)},qY=function(e,n,o){if(o||arguments.length===2)for(var i=0,c=n.length,d;i<c;i++)(d||!(i in n))&&(d||(d=Array.prototype.slice.call(n,0,i)),d[i]=n[i]);return e.concat(d||Array.prototype.slice.call(n))},o6={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},gVe={id:null,override:!0},ARe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=o6),c===void 0&&(c=gVe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=o,this._options=sO(sO({},o6),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),xa.addInstance("Popover",this,c.id?c.id:this._targetEl.id,c.override)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},e.prototype.destroy=function(){var n=this;if(this._initialized){var o=this._getTriggerEvents();o.showEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._showHandler),n._targetEl.removeEventListener(i,n._showHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._hideHandler),n._targetEl.removeEventListener(i,n._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},e.prototype.removeInstance=function(){xa.removeInstance("Popover",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var n=this,o=this._getTriggerEvents();this._showHandler=function(){n.show()},this._hideHandler=function(){setTimeout(function(){n._targetEl.matches(":hover")||n.hide()},100)},o.showEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._showHandler),n._targetEl.addEventListener(i,n._showHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._hideHandler),n._targetEl.addEventListener(i,n._hideHandler)})},e.prototype._createPopperInstance=function(){return ybe(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype._setupKeydownListener=function(){var n=this;this._keydownEventListener=function(o){o.key==="Escape"&&n.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var n=this;this._clickOutsideEventListener=function(o){n._handleClickOutside(o,n._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(n,o){var i=n.target;i!==o&&!o.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(n){return sO(sO({},n),{modifiers:qY(qY([],n.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(n){return sO(sO({},n),{modifiers:qY(qY([],n.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function _be(){document.querySelectorAll("[data-popover-target]").forEach(function(e){var n=e.getAttribute("data-popover-target"),o=document.getElementById(n);if(o){var i=e.getAttribute("data-popover-trigger"),c=e.getAttribute("data-popover-placement"),d=e.getAttribute("data-popover-offset");new ARe(o,e,{placement:c||o6.placement,offset:d?parseInt(d):o6.offset,triggerType:i||o6.triggerType})}else console.error('The popover element with id "'.concat(n,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=ARe,window.initPopovers=_be);var ZJ=function(){return ZJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},ZJ.apply(this,arguments)},lge={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},vVe={id:null,override:!0},xRe=(function(){function e(n,o,i,c,d){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=null),c===void 0&&(c=lge),d===void 0&&(d=vVe),this._instanceId=d.id?d.id:i.id,this._parentEl=n,this._triggerEl=o,this._targetEl=i,this._options=ZJ(ZJ({},lge),c),this._visible=!1,this._initialized=!1,this.init(),xa.addInstance("Dial",this,this._instanceId,d.override)}return e.prototype.init=function(){var n=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var o=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){n.show()},o.showEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._showEventHandler),n._targetEl.addEventListener(i,n._showEventHandler)}),this._hideEventHandler=function(){n._parentEl.matches(":hover")||n.hide()},o.hideEvents.forEach(function(i){n._parentEl.addEventListener(i,n._hideEventHandler)}),this._initialized=!0}},e.prototype.destroy=function(){var n=this;if(this._initialized){var o=this._getTriggerEventTypes(this._options.triggerType);o.showEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._showEventHandler),n._targetEl.removeEventListener(i,n._showEventHandler)}),o.hideEvents.forEach(function(i){n._parentEl.removeEventListener(i,n._hideEventHandler)}),this._initialized=!1}},e.prototype.removeInstance=function(){xa.removeInstance("Dial",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this._visible?this.hide():this.show()},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e.prototype._getTriggerEventTypes=function(n){switch(n){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function Tbe(){document.querySelectorAll("[data-dial-init]").forEach(function(e){var n=e.querySelector("[data-dial-toggle]");if(n){var o=n.getAttribute("data-dial-toggle"),i=document.getElementById(o);if(i){var c=n.getAttribute("data-dial-trigger");new xRe(e,n,i,{triggerType:c||lge.triggerType})}else console.error("Dial with id ".concat(o," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(e.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=xRe,window.initDials=Tbe);var YJ=function(){return YJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},YJ.apply(this,arguments)},pCe={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},yVe={id:null,override:!0},ORe=(function(){function e(n,o,i,c,d){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=null),c===void 0&&(c=pCe),d===void 0&&(d=yVe),this._instanceId=d.id?d.id:n.id,this._targetEl=n,this._incrementEl=o,this._decrementEl=i,this._options=YJ(YJ({},pCe),c),this._initialized=!1,this.init(),xa.addInstance("InputCounter",this,this._instanceId,d.override)}return e.prototype.init=function(){var n=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(o){{var i=o.target;/^\d*$/.test(i.value)||(i.value=i.value.replace(/[^\d]/g,"")),n._options.maxValue!==null&&parseInt(i.value)>n._options.maxValue&&(i.value=n._options.maxValue.toString()),n._options.minValue!==null&&parseInt(i.value)<n._options.minValue&&(i.value=n._options.minValue.toString())}},this._incrementClickHandler=function(){n.increment()},this._decrementClickHandler=function(){n.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){xa.removeInstance("InputCounter",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},e.prototype.increment=function(){this._options.maxValue!==null&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},e.prototype.decrement=function(){this._options.minValue!==null&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},e.prototype.updateOnIncrement=function(n){this._options.onIncrement=n},e.prototype.updateOnDecrement=function(n){this._options.onDecrement=n},e})();function Abe(){document.querySelectorAll("[data-input-counter]").forEach(function(e){var n=e.id,o=document.querySelector('[data-input-counter-increment="'+n+'"]'),i=document.querySelector('[data-input-counter-decrement="'+n+'"]'),c=e.getAttribute("data-input-counter-min"),d=e.getAttribute("data-input-counter-max");e?xa.instanceExists("InputCounter",e.getAttribute("id"))||new ORe(e,o||null,i||null,{minValue:c?parseInt(c):null,maxValue:d?parseInt(d):null}):console.error('The target element with id "'.concat(n,'" does not exist. Please check the data-input-counter attribute.'))})}typeof window<"u"&&(window.InputCounter=ORe,window.initInputCounters=Abe);var XJ=function(){return XJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},XJ.apply(this,arguments)},JJ={htmlEntities:!1,contentType:"input",onCopy:function(){}},bVe={id:null,override:!0},IRe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=JJ),c===void 0&&(c=bVe),this._instanceId=c.id?c.id:o.id,this._triggerEl=n,this._targetEl=o,this._options=XJ(XJ({},JJ),i),this._initialized=!1,this.init(),xa.addInstance("CopyClipboard",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){n.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){xa.removeInstance("CopyClipboard",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getTargetValue=function(){if(this._options.contentType==="input")return this._targetEl.value;if(this._options.contentType==="innerHTML")return this._targetEl.innerHTML;if(this._options.contentType==="textContent")return this._targetEl.textContent.replace(/\s+/g," ").trim()},e.prototype.copy=function(){var n=this.getTargetValue();this._options.htmlEntities&&(n=this.decodeHTML(n));var o=document.createElement("textarea");return o.value=n,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),this._options.onCopy(this),n},e.prototype.decodeHTML=function(n){var o=document.createElement("textarea");return o.innerHTML=n,o.textContent},e.prototype.updateOnCopyCallback=function(n){this._options.onCopy=n},e})();function xbe(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach(function(e){var n=e.getAttribute("data-copy-to-clipboard-target"),o=document.getElementById(n),i=e.getAttribute("data-copy-to-clipboard-content-type"),c=e.getAttribute("data-copy-to-clipboard-html-entities");o?xa.instanceExists("CopyClipboard",o.getAttribute("id"))||new IRe(e,o,{htmlEntities:c&&c==="true"?!0:JJ.htmlEntities,contentType:i||JJ.contentType}):console.error('The target element with id "'.concat(n,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))})}typeof window<"u"&&(window.CopyClipboard=IRe,window.initClipboards=xbe);function cge(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,i=Array(n);o<n;o++)i[o]=e[o];return i}function SVe(e){if(Array.isArray(e))return e}function CVe(e){if(Array.isArray(e))return cge(e)}function EVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Obe(e,n,o){return n=LO(n),xVe(e,RRe()?Reflect.construct(n,o||[],LO(e).constructor):n.apply(e,o))}function U2(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function mCe(e,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,RVe(i.key),i)}}function z2(e,n,o){return n&&mCe(e.prototype,n),o&&mCe(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function D6(){return D6=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,n,o){var i=OVe(e,n);if(i){var c=Object.getOwnPropertyDescriptor(i,n);return c.get?c.get.call(arguments.length<3?e:o):c.value}},D6.apply(null,arguments)}function LO(e){return LO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},LO(e)}function Ibe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&uge(e,n)}function RRe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RRe=function(){return!!e})()}function wVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Ve(e,n){var o=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var i,c,d,p,v=[],S=!0,_=!1;try{if(d=(o=o.call(e)).next,n===0){if(Object(o)!==o)return;S=!1}else for(;!(S=(i=d.call(o)).done)&&(v.push(i.value),v.length!==n);S=!0);}catch(x){_=!0,c=x}finally{try{if(!S&&o.return!=null&&(p=o.return(),Object(p)!==p))return}finally{if(_)throw c}}return v}}function TVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xVe(e,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EVe(e)}function uge(e,n){return uge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},uge(e,n)}function zb(e,n){return SVe(e)||_Ve(e,n)||kRe(e,n)||TVe()}function OVe(e,n){for(;!{}.hasOwnProperty.call(e,n)&&(e=LO(e))!==null;);return e}function pz(e){return CVe(e)||wVe(e)||kRe(e)||AVe()}function IVe(e,n){if(typeof e!="object"||!e)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var i=o.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function RVe(e){var n=IVe(e,"string");return typeof n=="symbol"?n:n+""}function QJ(e){"@babel/helpers - typeof";return QJ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},QJ(e)}function kRe(e,n){if(e){if(typeof e=="string")return cge(e,n);var o={}.toString.call(e).slice(8,-1);return o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set"?Array.from(e):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?cge(e,n):void 0}}function pT(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function Rbe(e){return e[e.length-1]}function R2(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o.forEach(function(c){e.includes(c)||e.push(c)}),e}function dpe(e,n){return e?e.split(n):[]}function kbe(e,n,o){var i=n===void 0||e>=n,c=o===void 0||e<=o;return i&&c}function DRe(e,n,o){return e<n?n:e>o?o:e}function z3(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",d=Object.keys(o).reduce(function(v,S){var _=o[S];return typeof _=="function"&&(_=_(i)),"".concat(v," ").concat(S,'="').concat(_,'"')},e);c+="<".concat(d,"></").concat(e,">");var p=i+1;return p<n?z3(e,n,o,p,c):c}function Dbe(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function dge(e){return new Date(e).setHours(0,0,0,0)}function j2(){return new Date().setHours(0,0,0,0)}function DO(){switch(arguments.length){case 0:return j2();case 1:return dge(arguments.length<=0?void 0:arguments[0])}var e=new Date(0);return e.setFullYear.apply(e,arguments),e.setHours(0,0,0,0)}function f3(e,n){var o=new Date(e);return o.setDate(o.getDate()+n)}function kVe(e,n){return f3(e,n*7)}function eQ(e,n){var o=new Date(e),i=o.getMonth()+n,c=i%12;c<0&&(c+=12);var d=o.setMonth(i);return o.getMonth()!==c?o.setDate(0):d}function p3(e,n){var o=new Date(e),i=o.getMonth(),c=o.setFullYear(o.getFullYear()+n);return i===1&&o.getMonth()===2?o.setDate(0):c}function gCe(e,n){return(e-n+7)%7}function tQ(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=new Date(e).getDay();return f3(e,gCe(n,o)-gCe(i,o))}function DVe(e){var n=tQ(e,4,1),o=tQ(new Date(n).setMonth(0,4),4,1);return Math.round((n-o)/6048e5)+1}function Mk(e,n){var o=new Date(e).getFullYear();return Math.floor(o/n)*n}var hge=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,MVe=/[\s!-/:-@[-`{-~]+/,hpe={},vCe={y:function(n,o){return new Date(n).setFullYear(parseInt(o,10))},m:function(n,o,i){var c=new Date(n),d=parseInt(o,10)-1;if(isNaN(d)){if(!o)return NaN;var p=o.toLowerCase(),v=function(_){return _.toLowerCase().startsWith(p)};if(d=i.monthsShort.findIndex(v),d<0&&(d=i.months.findIndex(v)),d<0)return NaN}return c.setMonth(d),c.getMonth()!==MRe(d)?c.setDate(0):c.getTime()},d:function(n,o){return new Date(n).setDate(parseInt(o,10))}},PVe={d:function(n){return n.getDate()},dd:function(n){return KY(n.getDate(),2)},D:function(n,o){return o.daysShort[n.getDay()]},DD:function(n,o){return o.days[n.getDay()]},m:function(n){return n.getMonth()+1},mm:function(n){return KY(n.getMonth()+1,2)},M:function(n,o){return o.monthsShort[n.getMonth()]},MM:function(n,o){return o.months[n.getMonth()]},y:function(n){return n.getFullYear()},yy:function(n){return KY(n.getFullYear(),2).slice(-2)},yyyy:function(n){return KY(n.getFullYear(),4)}};function MRe(e){return e>-1?e%12:MRe(e+12)}function KY(e,n){return e.toString().padStart(n,"0")}function PRe(e){if(typeof e!="string")throw new Error("Invalid date format.");if(e in hpe)return hpe[e];var n=e.split(hge),o=e.match(new RegExp(hge,"g"));if(n.length===0||!o)throw new Error("Invalid date format.");var i=o.map(function(d){return PVe[d]}),c=Object.keys(vCe).reduce(function(d,p){var v=o.find(function(S){return S[0]!=="D"&&S[0].toLowerCase()===p});return v&&d.push(p),d},[]);return hpe[e]={parser:function(p,v){var S=p.split(MVe).reduce(function(_,x,P){if(x.length>0&&o[P]){var B=o[P][0];B==="M"?_.m=x:B!=="D"&&(_[B]=x)}return _},{});return c.reduce(function(_,x){var P=vCe[x](_,S[x],v);return isNaN(P)?_:P},j2())},formatter:function(p,v){var S=i.reduce(function(_,x,P){return _+="".concat(n[P]).concat(x(p,v))},"");return S+=Rbe(n)}}}function M6(e,n,o){if(e instanceof Date||typeof e=="number"){var i=dge(e);return isNaN(i)?void 0:i}if(e){if(e==="today")return j2();if(n&&n.toValue){var c=n.toValue(e,n,o);return isNaN(c)?void 0:dge(c)}return PRe(n).parser(e,o)}}function P6(e,n,o){if(isNaN(e)||!e&&e!==0)return"";var i=typeof e=="number"?new Date(e):e;return n.toDisplay?n.toDisplay(i,n,o):PRe(n).formatter(i,o)}var nQ=new WeakMap,NRe=EventTarget.prototype,yCe=NRe.addEventListener,bCe=NRe.removeEventListener;function Mbe(e,n){var o=nQ.get(e);o||(o=[],nQ.set(e,o)),n.forEach(function(i){yCe.call.apply(yCe,pz(i)),o.push(i)})}function LRe(e){var n=nQ.get(e);n&&(n.forEach(function(o){bCe.call.apply(bCe,pz(o))}),nQ.delete(e))}if(!Event.prototype.composedPath){var NVe=function e(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];o.push(n);var i;return n.parentNode?i=n.parentNode:n.host?i=n.host:n.defaultView&&(i=n.defaultView),i?e(i,o):o};Event.prototype.composedPath=function(){return NVe(this.target)}}function BRe(e,n,o){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=e[i];return n(c)?c:c===o||!c.parentElement?void 0:BRe(e,n,o,i+1)}function FRe(e,n){var o=typeof n=="function"?n:function(i){return i.matches(n)};return BRe(e.composedPath(),o,e.currentTarget)}var v5={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},mz={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},fpe=null;function mT(e){return fpe==null&&(fpe=document.createRange()),fpe.createContextualFragment(e)}function s6(e){e.style.display!=="none"&&(e.style.display&&(e.dataset.styleDisplay=e.style.display),e.style.display="none")}function r6(e){e.style.display==="none"&&(e.dataset.styleDisplay?(e.style.display=e.dataset.styleDisplay,delete e.dataset.styleDisplay):e.style.display="")}function oQ(e){e.firstChild&&(e.removeChild(e.firstChild),oQ(e))}function LVe(e,n){oQ(e),n instanceof DocumentFragment?e.appendChild(n):typeof n=="string"?e.appendChild(mT(n)):typeof n.forEach=="function"&&n.forEach(function(o){e.appendChild(o)})}var ppe=mz.language,BVe=mz.format,FVe=mz.weekStart;function SCe(e,n){return e.length<6&&n>=0&&n<7?R2(e,n):e}function CCe(e){return(e+6)%7}function ECe(e,n,o,i){var c=M6(e,n,o);return c!==void 0?c:i}function mpe(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,i=parseInt(e,10);return i>=0&&i<=o?i:n}function gpe(e,n){var o=Object.assign({},e),i={},c=n.constructor.locales,d=n.config||{},p=d.format,v=d.language,S=d.locale,_=d.maxDate,x=d.maxView,P=d.minDate,B=d.pickLevel,H=d.startView,U=d.weekStart;if(o.language){var z;if(o.language!==v&&(c[o.language]?z=o.language:(z=o.language.split("-")[0],c[z]===void 0&&(z=!1))),delete o.language,z){v=i.language=z;var Z=S||c[ppe];S=Object.assign({format:BVe,weekStart:FVe},c[ppe]),v!==ppe&&Object.assign(S,c[v]),i.locale=S,p===Z.format&&(p=i.format=S.format),U===Z.weekStart&&(U=i.weekStart=S.weekStart,i.weekEnd=CCe(S.weekStart))}}if(o.format){var te=typeof o.format.toDisplay=="function",ce=typeof o.format.toValue=="function",se=hge.test(o.format);(te&&ce||se)&&(p=i.format=o.format),delete o.format}var Se=P,Ce=_;if(o.minDate!==void 0&&(Se=o.minDate===null?DO(0,0,1):ECe(o.minDate,p,S,Se),delete o.minDate),o.maxDate!==void 0&&(Ce=o.maxDate===null?void 0:ECe(o.maxDate,p,S,Ce),delete o.maxDate),Ce<Se?(P=i.minDate=Ce,_=i.maxDate=Se):(P!==Se&&(P=i.minDate=Se),_!==Ce&&(_=i.maxDate=Ce)),o.datesDisabled&&(i.datesDisabled=o.datesDisabled.reduce(function(St,ee){var ln=M6(ee,p,S);return ln!==void 0?R2(St,ln):St},[]),delete o.datesDisabled),o.defaultViewDate!==void 0){var Te=M6(o.defaultViewDate,p,S);Te!==void 0&&(i.defaultViewDate=Te),delete o.defaultViewDate}if(o.weekStart!==void 0){var V=Number(o.weekStart)%7;isNaN(V)||(U=i.weekStart=V,i.weekEnd=CCe(V)),delete o.weekStart}if(o.daysOfWeekDisabled&&(i.daysOfWeekDisabled=o.daysOfWeekDisabled.reduce(SCe,[]),delete o.daysOfWeekDisabled),o.daysOfWeekHighlighted&&(i.daysOfWeekHighlighted=o.daysOfWeekHighlighted.reduce(SCe,[]),delete o.daysOfWeekHighlighted),o.maxNumberOfDates!==void 0){var ke=parseInt(o.maxNumberOfDates,10);ke>=0&&(i.maxNumberOfDates=ke,i.multidate=ke!==1),delete o.maxNumberOfDates}o.dateDelimiter&&(i.dateDelimiter=String(o.dateDelimiter),delete o.dateDelimiter);var et=B;o.pickLevel!==void 0&&(et=mpe(o.pickLevel,2),delete o.pickLevel),et!==B&&(B=i.pickLevel=et);var $e=x;o.maxView!==void 0&&($e=mpe(o.maxView,x),delete o.maxView),$e=B>$e?B:$e,$e!==x&&(x=i.maxView=$e);var Re=H;if(o.startView!==void 0&&(Re=mpe(o.startView,Re),delete o.startView),Re<B?Re=B:Re>x&&(Re=x),Re!==H&&(i.startView=Re),o.prevArrow){var _e=mT(o.prevArrow);_e.childNodes.length>0&&(i.prevArrow=_e.childNodes),delete o.prevArrow}if(o.nextArrow){var ut=mT(o.nextArrow);ut.childNodes.length>0&&(i.nextArrow=ut.childNodes),delete o.nextArrow}if(o.disableTouchKeyboard!==void 0&&(i.disableTouchKeyboard="ontouchstart"in document&&!!o.disableTouchKeyboard,delete o.disableTouchKeyboard),o.orientation){var ct=o.orientation.toLowerCase().split(/\s+/g);i.orientation={x:ct.find(function(St){return St==="left"||St==="right"})||"auto",y:ct.find(function(St){return St==="top"||St==="bottom"})||"auto"},delete o.orientation}if(o.todayBtnMode!==void 0){switch(o.todayBtnMode){case 0:case 1:i.todayBtnMode=o.todayBtnMode}delete o.todayBtnMode}return Object.keys(o).forEach(function(St){o[St]!==void 0&&pT(mz,St)&&(i[St]=o[St])}),i}var VVe=Dbe(`<div class="datepicker hidden">
  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">
    <div class="datepicker-header">
      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>
      <div class="datepicker-controls flex justify-between mb-2">
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>
        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main p-1"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">
        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
      </div>
    </div>
  </div>
</div>`),HVe=Dbe(`<div class="days">
  <div class="days-of-week grid grid-cols-7 mb-1">`.concat(z3("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
  <div class="datepicker-grid w-64 grid grid-cols-7">`).concat(z3("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),`</div>
</div>`)),$Ve=Dbe(`<div class="calendar-weeks">
  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>
  <div class="weeks">`.concat(z3("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
</div>`)),Pbe=(function(){function e(n,o){U2(this,e),Object.assign(this,o,{picker:n,element:mT('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}return z2(e,[{key:"init",value:function(o){o.pickLevel!==void 0&&(this.isMinView=this.id===o.pickLevel),this.setOptions(o),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(o,i,c){var d=this.beforeShow(new Date(c));switch(QJ(d)){case"boolean":d={enabled:d};break;case"string":d={classes:d}}if(d){if(d.enabled===!1&&(o.classList.add("disabled"),R2(this.disabled,i)),d.classes){var p,v=d.classes.split(/\s+/);(p=o.classList).add.apply(p,pz(v)),v.includes("disabled")&&R2(this.disabled,i)}d.content&&LVe(o,d.content)}}}])})(),UVe=(function(e){function n(o){return U2(this,n),Obe(this,n,[o,{id:0,name:"days",cellClass:"day"}])}return Ibe(n,e),z2(n,[{key:"init",value:function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(c){var d=mT(HVe).firstChild;this.dow=d.firstChild,this.grid=d.lastChild,this.element.appendChild(d)}D6(LO(n.prototype),"init",this).call(this,i)}},{key:"setOptions",value:function(i){var c=this,d;if(pT(i,"minDate")&&(this.minDate=i.minDate),pT(i,"maxDate")&&(this.maxDate=i.maxDate),i.datesDisabled&&(this.datesDisabled=i.datesDisabled),i.daysOfWeekDisabled&&(this.daysOfWeekDisabled=i.daysOfWeekDisabled,d=!0),i.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=i.daysOfWeekHighlighted),i.todayHighlight!==void 0&&(this.todayHighlight=i.todayHighlight),i.weekStart!==void 0&&(this.weekStart=i.weekStart,this.weekEnd=i.weekEnd,d=!0),i.locale){var p=this.locale=i.locale;this.dayNames=p.daysMin,this.switchLabelFormat=p.titleFormat,d=!0}if(i.beforeShowDay!==void 0&&(this.beforeShow=typeof i.beforeShowDay=="function"?i.beforeShowDay:void 0),i.calendarWeeks!==void 0)if(i.calendarWeeks&&!this.calendarWeeks){var v=mT($Ve).firstChild;this.calendarWeeks={element:v,dow:v.firstChild,weeks:v.lastChild},this.element.insertBefore(v,this.element.firstChild)}else this.calendarWeeks&&!i.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);i.showDaysOfWeek!==void 0&&(i.showDaysOfWeek?(r6(this.dow),this.calendarWeeks&&r6(this.calendarWeeks.dow)):(s6(this.dow),this.calendarWeeks&&s6(this.calendarWeeks.dow))),d&&Array.from(this.dow.children).forEach(function(S,_){var x=(c.weekStart+_)%7;S.textContent=c.dayNames[x],S.className=c.daysOfWeekDisabled.includes(x)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}},{key:"updateFocus",value:function(){var i=new Date(this.picker.viewDate),c=i.getFullYear(),d=i.getMonth(),p=DO(c,d,1),v=tQ(p,this.weekStart,this.weekStart);this.first=p,this.last=DO(c,d+1,0),this.start=v,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var i=this.picker.datepicker,c=i.dates,d=i.rangepicker;this.selected=c,d&&(this.range=d.dates)}},{key:"render",value:function(){var i=this;this.today=this.todayHighlight?j2():void 0,this.disabled=pz(this.datesDisabled);var c=P6(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(c),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var d=tQ(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach(function(p,v){p.textContent=DVe(kVe(d,v))})}Array.from(this.grid.children).forEach(function(p,v){var S=p.classList,_=f3(i.start,v),x=new Date(_),P=x.getDay();if(p.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(i.cellClass),p.dataset.date=_,p.textContent=x.getDate(),_<i.first?S.add("prev","text-gray-500","dark:text-white"):_>i.last&&S.add("next","text-gray-500","dark:text-white"),i.today===_&&S.add("today","bg-gray-100","dark:bg-gray-600"),(_<i.minDate||_>i.maxDate||i.disabled.includes(_))&&(S.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),S.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),i.daysOfWeekDisabled.includes(P)&&(S.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),S.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),R2(i.disabled,_)),i.daysOfWeekHighlighted.includes(P)&&S.add("highlighted"),i.range){var B=zb(i.range,2),H=B[0],U=B[1];_>H&&_<U&&(S.add("range","bg-gray-200","dark:bg-gray-600"),S.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),_===H&&(S.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),S.remove("rounded-lg","rounded-r-lg")),_===U&&(S.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),S.remove("rounded-lg","rounded-l-lg"))}i.selected.includes(_)&&(S.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),S.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),_===i.focused&&S.add("focused"),i.beforeShow&&i.performBeforeHook(p,_,_)})}},{key:"refresh",value:function(){var i=this,c=this.range||[],d=zb(c,2),p=d[0],v=d[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(S){S.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),S.classList.add("text-gray-900","rounded-lg","dark:text-white")}),Array.from(this.grid.children).forEach(function(S){var _=Number(S.dataset.date),x=S.classList;x.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),_>p&&_<v&&(x.add("range","bg-gray-200","dark:bg-gray-600"),x.remove("rounded-lg")),_===p&&(x.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),x.remove("rounded-lg")),_===v&&(x.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),x.remove("rounded-lg")),i.selected.includes(_)&&(x.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),x.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),_===i.focused&&x.add("focused")})}},{key:"refreshFocus",value:function(){var i=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(function(c){c.classList.remove("focused")}),this.grid.children[i].classList.add("focused")}}])})(Pbe);function wCe(e,n){if(!(!e||!e[0]||!e[1])){var o=zb(e,2),i=zb(o[0],2),c=i[0],d=i[1],p=zb(o[1],2),v=p[0],S=p[1];if(!(c>n||v<n))return[c===n?d:-1,v===n?S:12]}}var zVe=(function(e){function n(o){return U2(this,n),Obe(this,n,[o,{id:1,name:"months",cellClass:"month"}])}return Ibe(n,e),z2(n,[{key:"init",value:function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;c&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(mT(z3("span",12,{"data-month":function(p){return p}})))),D6(LO(n.prototype),"init",this).call(this,i)}},{key:"setOptions",value:function(i){if(i.locale&&(this.monthNames=i.locale.monthsShort),pT(i,"minDate"))if(i.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{var c=new Date(i.minDate);this.minYear=c.getFullYear(),this.minMonth=c.getMonth(),this.minDate=c.setDate(1)}if(pT(i,"maxDate"))if(i.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var d=new Date(i.maxDate);this.maxYear=d.getFullYear(),this.maxMonth=d.getMonth(),this.maxDate=DO(this.maxYear,this.maxMonth+1,0)}i.beforeShowMonth!==void 0&&(this.beforeShow=typeof i.beforeShowMonth=="function"?i.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var i=new Date(this.picker.viewDate);this.year=i.getFullYear(),this.focused=i.getMonth()}},{key:"updateSelection",value:function(){var i=this.picker.datepicker,c=i.dates,d=i.rangepicker;this.selected=c.reduce(function(p,v){var S=new Date(v),_=S.getFullYear(),x=S.getMonth();return p[_]===void 0?p[_]=[x]:R2(p[_],x),p},{}),d&&d.dates&&(this.range=d.dates.map(function(p){var v=new Date(p);return isNaN(v)?void 0:[v.getFullYear(),v.getMonth()]}))}},{key:"render",value:function(){var i=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var c=this.selected[this.year]||[],d=this.year<this.minYear||this.year>this.maxYear,p=this.year===this.minYear,v=this.year===this.maxYear,S=wCe(this.range,this.year);Array.from(this.grid.children).forEach(function(_,x){var P=_.classList,B=DO(i.year,x,1);if(_.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(i.cellClass),i.isMinView&&(_.dataset.date=B),_.textContent=i.monthNames[x],(d||p&&x<i.minMonth||v&&x>i.maxMonth)&&P.add("disabled"),S){var H=zb(S,2),U=H[0],z=H[1];x>U&&x<z&&P.add("range"),x===U&&P.add("range-start"),x===z&&P.add("range-end")}c.includes(x)&&(P.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),P.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),x===i.focused&&P.add("focused"),i.beforeShow&&i.performBeforeHook(_,x,B)})}},{key:"refresh",value:function(){var i=this,c=this.selected[this.year]||[],d=wCe(this.range,this.year)||[],p=zb(d,2),v=p[0],S=p[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(_){_.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),_.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")}),Array.from(this.grid.children).forEach(function(_,x){var P=_.classList;x>v&&x<S&&P.add("range"),x===v&&P.add("range-start"),x===S&&P.add("range-end"),c.includes(x)&&(P.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),P.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),x===i.focused&&P.add("focused")})}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach(function(i){i.classList.remove("focused")}),this.grid.children[this.focused].classList.add("focused")}}])})(Pbe);function jVe(e){return pz(e).reduce(function(n,o,i){return n+=i?o:o.toUpperCase()},"")}var _Ce=(function(e){function n(o,i){return U2(this,n),Obe(this,n,[o,i])}return Ibe(n,e),z2(n,[{key:"init",value:function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;c&&(this.navStep=this.step*10,this.beforeShowOption="beforeShow".concat(jVe(this.cellClass)),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(mT(z3("span",12)))),D6(LO(n.prototype),"init",this).call(this,i)}},{key:"setOptions",value:function(i){if(pT(i,"minDate")&&(i.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=Mk(i.minDate,this.step),this.minDate=DO(this.minYear,0,1))),pT(i,"maxDate")&&(i.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=Mk(i.maxDate,this.step),this.maxDate=DO(this.maxYear,11,31))),i[this.beforeShowOption]!==void 0){var c=i[this.beforeShowOption];this.beforeShow=typeof c=="function"?c:void 0}}},{key:"updateFocus",value:function(){var i=new Date(this.picker.viewDate),c=Mk(i,this.navStep),d=c+9*this.step;this.first=c,this.last=d,this.start=c-this.step,this.focused=Mk(i,this.step)}},{key:"updateSelection",value:function(){var i=this,c=this.picker.datepicker,d=c.dates,p=c.rangepicker;this.selected=d.reduce(function(v,S){return R2(v,Mk(S,i.step))},[]),p&&p.dates&&(this.range=p.dates.map(function(v){if(v!==void 0)return Mk(v,i.step)}))}},{key:"render",value:function(){var i=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach(function(c,d){var p=c.classList,v=i.start+d*i.step,S=DO(v,0,1);if(c.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(i.cellClass),i.isMinView&&(c.dataset.date=S),c.textContent=c.dataset.year=v,d===0?p.add("prev"):d===11&&p.add("next"),(v<i.minYear||v>i.maxYear)&&p.add("disabled"),i.range){var _=zb(i.range,2),x=_[0],P=_[1];v>x&&v<P&&p.add("range"),v===x&&p.add("range-start"),v===P&&p.add("range-end")}i.selected.includes(v)&&(p.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),p.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),v===i.focused&&p.add("focused"),i.beforeShow&&i.performBeforeHook(c,v,S)})}},{key:"refresh",value:function(){var i=this,c=this.range||[],d=zb(c,2),p=d[0],v=d[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(S){S.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")}),Array.from(this.grid.children).forEach(function(S){var _=Number(S.textContent),x=S.classList;_>p&&_<v&&x.add("range"),_===p&&x.add("range-start"),_===v&&x.add("range-end"),i.selected.includes(_)&&(x.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),x.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),_===i.focused&&x.add("focused")})}},{key:"refreshFocus",value:function(){var i=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(function(c){c.classList.remove("focused")}),this.grid.children[i].classList.add("focused")}}])})(Pbe);function m3(e,n){var o={date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e};e.element.dispatchEvent(new CustomEvent(n,{detail:o}))}function sQ(e,n){var o=e.config,i=o.minDate,c=o.maxDate,d=e.picker,p=d.currentView,v=d.viewDate,S;switch(p.id){case 0:S=eQ(v,n);break;case 1:S=p3(v,n);break;default:S=p3(v,n*p.navStep)}S=DRe(S,i,c),e.picker.changeFocus(S).render()}function VRe(e){var n=e.picker.currentView.id;n!==e.config.maxView&&e.picker.changeView(n+1).render()}function HRe(e){e.config.updateOnBlur?e.update({autohide:!0}):(e.refresh("input"),e.hide())}function TCe(e,n){var o=e.picker,i=new Date(o.viewDate),c=o.currentView.id,d=c===1?eQ(i,n-i.getMonth()):p3(i,n-i.getFullYear());o.changeFocus(d).changeView(c-1).render()}function WVe(e){var n=e.picker,o=j2();if(e.config.todayBtnMode===1){if(e.config.autohide){e.setDate(o);return}e.setDate(o,{render:!1}),n.update()}n.viewDate!==o&&n.changeFocus(o),n.changeView(0).render()}function GVe(e){e.setDate({clear:!0})}function qVe(e){VRe(e)}function KVe(e){sQ(e,-1)}function ZVe(e){sQ(e,1)}function YVe(e,n){var o=FRe(n,".datepicker-cell");if(!(!o||o.classList.contains("disabled"))){var i=e.picker.currentView,c=i.id,d=i.isMinView;d?e.setDate(Number(o.dataset.date)):c===1?TCe(e,Number(o.dataset.month)):TCe(e,Number(o.dataset.year))}}function XVe(e){!e.inline&&!e.config.disableTouchKeyboard&&e.inputField.focus()}function ACe(e,n){if(n.title!==void 0&&(n.title?(e.controls.title.textContent=n.title,r6(e.controls.title)):(e.controls.title.textContent="",s6(e.controls.title))),n.prevArrow){var o=e.controls.prevBtn;oQ(o),n.prevArrow.forEach(function(v){o.appendChild(v.cloneNode(!0))})}if(n.nextArrow){var i=e.controls.nextBtn;oQ(i),n.nextArrow.forEach(function(v){i.appendChild(v.cloneNode(!0))})}if(n.locale&&(e.controls.todayBtn.textContent=n.locale.today,e.controls.clearBtn.textContent=n.locale.clear),n.todayBtn!==void 0&&(n.todayBtn?r6(e.controls.todayBtn):s6(e.controls.todayBtn)),pT(n,"minDate")||pT(n,"maxDate")){var c=e.datepicker.config,d=c.minDate,p=c.maxDate;e.controls.todayBtn.disabled=!kbe(j2(),d,p)}n.clearBtn!==void 0&&(n.clearBtn?r6(e.controls.clearBtn):s6(e.controls.clearBtn))}function xCe(e){var n=e.dates,o=e.config,i=n.length>0?Rbe(n):o.defaultViewDate;return DRe(i,o.minDate,o.maxDate)}function OCe(e,n){var o=new Date(e.viewDate),i=new Date(n),c=e.currentView,d=c.id,p=c.year,v=c.first,S=c.last,_=i.getFullYear();switch(e.viewDate=n,_!==o.getFullYear()&&m3(e.datepicker,"changeYear"),i.getMonth()!==o.getMonth()&&m3(e.datepicker,"changeMonth"),d){case 0:return n<v||n>S;case 1:return _!==p;default:return _<v||_>S}}function vpe(e){return window.getComputedStyle(e).direction}var JVe=(function(){function e(n){U2(this,e),this.datepicker=n;var o=VVe.replace(/%buttonClass%/g,n.config.buttonClass),i=this.element=mT(o).firstChild,c=zb(i.firstChild.children,3),d=c[0],p=c[1],v=c[2],S=d.firstElementChild,_=zb(d.lastElementChild.children,3),x=_[0],P=_[1],B=_[2],H=zb(v.firstChild.children,2),U=H[0],z=H[1],Z={title:S,prevBtn:x,viewSwitch:P,nextBtn:B,todayBtn:U,clearBtn:z};this.main=p,this.controls=Z;var te=n.inline?"inline":"dropdown";i.classList.add("datepicker-".concat(te)),te==="dropdown"&&i.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),ACe(this,n.config),this.viewDate=xCe(n),Mbe(n,[[i,"click",XVe.bind(null,n),{capture:!0}],[p,"click",YVe.bind(null,n)],[Z.viewSwitch,"click",qVe.bind(null,n)],[Z.prevBtn,"click",KVe.bind(null,n)],[Z.nextBtn,"click",ZVe.bind(null,n)],[Z.todayBtn,"click",WVe.bind(null,n)],[Z.clearBtn,"click",GVe.bind(null,n)]]),this.views=[new UVe(this),new zVe(this),new _Ce(this,{id:2,name:"years",cellClass:"year",step:1}),new _Ce(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[n.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),n.config.container.appendChild(this.element)}return z2(e,[{key:"setOptions",value:function(o){ACe(this,o),this.views.forEach(function(i){i.init(o,!1)}),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var o=this.datepicker;if(!o.inline){var i=vpe(o.inputField);i!==vpe(o.config.container)?this.element.dir=i:this.element.dir&&this.element.removeAttribute("dir"),this.place(),o.config.disableTouchKeyboard&&o.inputField.blur()}m3(o,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,m3(this.datepicker,"hide"))}},{key:"place",value:function(){var o=this.element,i=o.classList,c=o.style,d=this.datepicker,p=d.config,v=d.inputField,S=p.container,_=this.element.getBoundingClientRect(),x=_.width,P=_.height,B=S.getBoundingClientRect(),H=B.left,U=B.top,z=B.width,Z=v.getBoundingClientRect(),te=Z.left,ce=Z.top,se=Z.width,Se=Z.height,Ce=p.orientation,Te=Ce.x,V=Ce.y,ke,et,$e;S===document.body?(ke=window.scrollY,et=te+window.scrollX,$e=ce+ke):(ke=S.scrollTop,et=te-H,$e=ce-U+ke),Te==="auto"&&(et<0?(Te="left",et=10):et+x>z?Te="right":Te=vpe(v)==="rtl"?"right":"left"),Te==="right"&&(et-=x-se),V==="auto"&&(V=$e-P<ke?"bottom":"top"),V==="top"?$e-=P:$e+=Se,i.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),i.add("datepicker-orient-".concat(V),"datepicker-orient-".concat(Te)),c.top=$e&&"".concat($e,"px"),c.left=et&&"".concat(et,"px")}},{key:"setViewSwitchLabel",value:function(o){this.controls.viewSwitch.textContent=o}},{key:"setPrevBtnDisabled",value:function(o){this.controls.prevBtn.disabled=o}},{key:"setNextBtnDisabled",value:function(o){this.controls.nextBtn.disabled=o}},{key:"changeView",value:function(o){var i=this.currentView,c=this.views[o];return c.id!==i.id&&(this.currentView=c,this._renderMethod="render",m3(this.datepicker,"changeView"),this.main.replaceChild(c.element,i.element)),this}},{key:"changeFocus",value:function(o){return this._renderMethod=OCe(this,o)?"render":"refreshFocus",this.views.forEach(function(i){i.updateFocus()}),this}},{key:"update",value:function(){var o=xCe(this.datepicker);return this._renderMethod=OCe(this,o)?"render":"refresh",this.views.forEach(function(i){i.updateFocus(),i.updateSelection()}),this}},{key:"render",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=o&&this._renderMethod||"render";delete this._renderMethod,this.currentView[i]()}}])})();function $Re(e,n,o,i,c,d){if(kbe(e,c,d)){if(i(e)){var p=n(e,o);return $Re(p,n,o,i,c,d)}return e}}function ZY(e,n,o,i){var c=e.picker,d=c.currentView,p=d.step||1,v=c.viewDate,S,_;switch(d.id){case 0:i?v=f3(v,o*7):n.ctrlKey||n.metaKey?v=p3(v,o):v=f3(v,o),S=f3,_=function(P){return d.disabled.includes(P)};break;case 1:v=eQ(v,i?o*4:o),S=eQ,_=function(P){var B=new Date(P),H=d.year,U=d.disabled;return B.getFullYear()===H&&U.includes(B.getMonth())};break;default:v=p3(v,o*(i?4:1)*p),S=p3,_=function(P){return d.disabled.includes(Mk(P,p))}}v=$Re(v,S,o<0?-p:p,_,d.minDate,d.maxDate),v!==void 0&&c.changeFocus(v).render()}function QVe(e,n){if(n.key==="Tab"){HRe(e);return}var o=e.picker,i=o.currentView,c=i.id,d=i.isMinView;if(o.active)if(e.editMode)switch(n.key){case"Escape":o.hide();break;case"Enter":e.exitEditMode({update:!0,autohide:e.config.autohide});break;default:return}else switch(n.key){case"Escape":o.hide();break;case"ArrowLeft":if(n.ctrlKey||n.metaKey)sQ(e,-1);else if(n.shiftKey){e.enterEditMode();return}else ZY(e,n,-1,!1);break;case"ArrowRight":if(n.ctrlKey||n.metaKey)sQ(e,1);else if(n.shiftKey){e.enterEditMode();return}else ZY(e,n,1,!1);break;case"ArrowUp":if(n.ctrlKey||n.metaKey)VRe(e);else if(n.shiftKey){e.enterEditMode();return}else ZY(e,n,-1,!0);break;case"ArrowDown":if(n.shiftKey&&!n.ctrlKey&&!n.metaKey){e.enterEditMode();return}ZY(e,n,1,!0);break;case"Enter":d?e.setDate(o.viewDate):o.changeView(c-1).render();break;case"Backspace":case"Delete":e.enterEditMode();return;default:n.key.length===1&&!n.ctrlKey&&!n.metaKey&&e.enterEditMode();return}else switch(n.key){case"ArrowDown":case"Escape":o.show();break;case"Enter":e.update();break;default:return}n.preventDefault(),n.stopPropagation()}function eHe(e){e.config.showOnFocus&&!e._showing&&e.show()}function tHe(e,n){var o=n.target;(e.picker.active||e.config.showOnClick)&&(o._active=o===document.activeElement,o._clicking=setTimeout(function(){delete o._active,delete o._clicking},2e3))}function nHe(e,n){var o=n.target;o._clicking&&(clearTimeout(o._clicking),delete o._clicking,o._active&&e.enterEditMode(),delete o._active,e.config.showOnClick&&e.show())}function oHe(e,n){n.clipboardData.types.includes("text/plain")&&e.enterEditMode()}function sHe(e,n){var o=e.element;if(o===document.activeElement){var i=e.picker.element;FRe(n,function(c){return c===o||c===i})||HRe(e)}}function URe(e,n){return e.map(function(o){return P6(o,n.format,n.locale)}).join(n.dateDelimiter)}function zRe(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=e.config,c=e.dates,d=e.rangepicker;if(n.length===0)return o?[]:void 0;var p=d&&e===d.datepickers[1],v=n.reduce(function(S,_){var x=M6(_,i.format,i.locale);if(x===void 0)return S;if(i.pickLevel>0){var P=new Date(x);i.pickLevel===1?x=p?P.setMonth(P.getMonth()+1,0):P.setDate(1):x=p?P.setFullYear(P.getFullYear()+1,0,0):P.setMonth(0,1)}return kbe(x,i.minDate,i.maxDate)&&!S.includes(x)&&!i.datesDisabled.includes(x)&&!i.daysOfWeekDisabled.includes(new Date(x).getDay())&&S.push(x),S},[]);if(v.length!==0)return i.multidate&&!o&&(v=v.reduce(function(S,_){return c.includes(_)||S.push(_),S},c.filter(function(S){return!v.includes(S)}))),i.maxNumberOfDates&&v.length>i.maxNumberOfDates?v.slice(i.maxNumberOfDates*-1):v}function rQ(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=e.config,c=e.picker,d=e.inputField;if(n&2){var p=c.active?i.pickLevel:i.startView;c.update().changeView(p).render(o)}n&1&&d&&(d.value=URe(e.dates,i))}function ICe(e,n,o){var i=o.clear,c=o.render,d=o.autohide;c===void 0&&(c=!0),c?d===void 0&&(d=e.config.autohide):d=!1;var p=zRe(e,n,i);p&&(p.toString()!==e.dates.toString()?(e.dates=p,rQ(e,c?3:1),m3(e,"changeDate")):rQ(e,1),d&&e.hide())}var $X=(function(){function e(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;U2(this,e),n.datepicker=this,this.element=n;var c=this.config=Object.assign({buttonClass:o.buttonClass&&String(o.buttonClass)||"button",container:document.body,defaultViewDate:j2(),maxDate:void 0,minDate:void 0},gpe(mz,this));this._options=o,Object.assign(c,gpe(o,this));var d=this.inline=n.tagName!=="INPUT",p,v;if(d)c.container=n,v=dpe(n.dataset.date,c.dateDelimiter),delete n.dataset.date;else{var S=o.container?document.querySelector(o.container):null;S&&(c.container=S),p=this.inputField=n,p.classList.add("datepicker-input"),v=dpe(p.value,c.dateDelimiter)}if(i){var _=i.inputs.indexOf(p),x=i.datepickers;if(_<0||_>1||!Array.isArray(x))throw Error("Invalid rangepicker object.");x[_]=this,Object.defineProperty(this,"rangepicker",{get:function(){return i}})}this.dates=[];var P=zRe(this,v);P&&P.length>0&&(this.dates=P),p&&(p.value=URe(this.dates,c));var B=this.picker=new JVe(this);if(d)this.show();else{var H=sHe.bind(null,this),U=[[p,"keydown",QVe.bind(null,this)],[p,"focus",eHe.bind(null,this)],[p,"mousedown",tHe.bind(null,this)],[p,"click",nHe.bind(null,this)],[p,"paste",oHe.bind(null,this)],[document,"mousedown",H],[document,"touchstart",H],[window,"resize",B.place.bind(B)]];Mbe(this,U)}}return z2(e,[{key:"active",get:function(){return!!(this.picker&&this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(o){var i=this.picker,c=gpe(o,this);Object.assign(this._options,o),Object.assign(this.config,c),i.setOptions(c),rQ(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),LRe(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var o=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,c=i?function(d){return P6(d,i,o.config.locale)}:function(d){return new Date(d)};if(this.config.multidate)return this.dates.map(c);if(this.dates.length>0)return c(this.dates[0])}},{key:"setDate",value:function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];var d=[].concat(i),p={},v=Rbe(i);QJ(v)==="object"&&!Array.isArray(v)&&!(v instanceof Date)&&v&&Object.assign(p,d.pop());var S=Array.isArray(d[0])?d[0]:d;ICe(this,S,p)}},{key:"update",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!this.inline){var i={clear:!0,autohide:!!(o&&o.autohide)},c=dpe(this.inputField.value,this.config.dateDelimiter);ICe(this,c,i)}}},{key:"refresh",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o&&typeof o!="string"&&(i=o,o=void 0);var c;o==="picker"?c=2:o==="input"?c=1:c=3,rQ(this,c,!i)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!(this.inline||!this.editMode)){var i=Object.assign({update:!1},o);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),i.update&&this.update(i)}}}],[{key:"formatDate",value:function(o,i,c){return P6(o,i,c&&v5[c]||v5.en)}},{key:"parseDate",value:function(o,i,c){return M6(o,i,c&&v5[c]||v5.en)}},{key:"locales",get:function(){return v5}}])})();function RCe(e){var n=Object.assign({},e);return delete n.inputs,delete n.allowOneSidedRange,delete n.maxNumberOfDates,n}function kCe(e,n,o,i){Mbe(e,[[o,"changeDate",n]]),new $X(o,i,e)}function y5(e,n){if(!e._updating){e._updating=!0;var o=n.target;if(o.datepicker!==void 0){var i=e.datepickers,c={render:!1},d=e.inputs.indexOf(o),p=d===0?1:0,v=i[d].dates[0],S=i[p].dates[0];v!==void 0&&S!==void 0?d===0&&v>S?(i[0].setDate(S,c),i[1].setDate(v,c)):d===1&&v<S&&(i[0].setDate(v,c),i[1].setDate(S,c)):e.allowOneSidedRange||(v!==void 0||S!==void 0)&&(c.clear=!0,i[p].setDate(i[d].dates,c)),i[0].picker.update().render(),i[1].picker.update().render(),delete e._updating}}}var ype=(function(){function e(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};U2(this,e);var i=Array.isArray(o.inputs)?o.inputs:Array.from(n.querySelectorAll("input"));if(!(i.length<2)){n.rangepicker=this,this.element=n,this.inputs=i.slice(0,2),this.allowOneSidedRange=!!o.allowOneSidedRange;var c=y5.bind(null,this),d=RCe(o),p=[];Object.defineProperty(this,"datepickers",{get:function(){return p}}),kCe(this,c,this.inputs[0],d),kCe(this,c,this.inputs[1],d),Object.freeze(p),p[0].dates.length>0?y5(this,{target:this.inputs[0]}):p[1].dates.length>0&&y5(this,{target:this.inputs[1]})}}return z2(e,[{key:"dates",get:function(){return this.datepickers.length===2?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}},{key:"setOptions",value:function(o){this.allowOneSidedRange=!!o.allowOneSidedRange;var i=RCe(o);this.datepickers[0].setOptions(i),this.datepickers[1].setOptions(i)}},{key:"destroy",value:function(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),LRe(this),delete this.element.rangepicker}},{key:"getDates",value:function(){var o=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,c=i?function(d){return P6(d,i,o.datepickers[0].config.locale)}:function(d){return new Date(d)};return this.dates.map(function(d){return d===void 0?d:c(d)})}},{key:"setDates",value:function(o,i){var c=zb(this.datepickers,2),d=c[0],p=c[1],v=this.dates;this._updating=!0,d.setDate(o),p.setDate(i),delete this._updating,p.dates[0]!==v[1]?y5(this,{target:this.inputs[1]}):d.dates[0]!==v[0]&&y5(this,{target:this.inputs[0]})}}])})(),iQ=function(){return iQ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},iQ.apply(this,arguments)},W0={defaultDatepickerId:null,autohide:!1,format:"mm/dd/yyyy",maxDate:null,minDate:null,orientation:"bottom",buttons:!1,autoSelectToday:0,title:null,language:"en",rangePicker:!1,onShow:function(){},onHide:function(){}},rHe={id:null,override:!0},jRe=(function(){function e(n,o,i){n===void 0&&(n=null),o===void 0&&(o=W0),i===void 0&&(i=rHe),this._instanceId=i.id?i.id:n.id,this._datepickerEl=n,this._datepickerInstance=null,this._options=iQ(iQ({},W0),o),this._initialized=!1,this.init(),xa.addInstance("Datepicker",this,this._instanceId,i.override)}return e.prototype.init=function(){this._datepickerEl&&!this._initialized&&(this._options.rangePicker?this._datepickerInstance=new ype(this._datepickerEl,this._getDatepickerOptions(this._options)):this._datepickerInstance=new $X(this._datepickerEl,this._getDatepickerOptions(this._options)),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1,this._datepickerInstance.destroy())},e.prototype.removeInstance=function(){this.destroy(),xa.removeInstance("Datepicker",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getDatepickerInstance=function(){return this._datepickerInstance},e.prototype.getDate=function(){if(this._options.rangePicker&&this._datepickerInstance instanceof ype)return this._datepickerInstance.getDates();if(!this._options.rangePicker&&this._datepickerInstance instanceof $X)return this._datepickerInstance.getDate()},e.prototype.setDate=function(n){if(this._options.rangePicker&&this._datepickerInstance instanceof ype)return this._datepickerInstance.setDates(n);if(!this._options.rangePicker&&this._datepickerInstance instanceof $X)return this._datepickerInstance.setDate(n)},e.prototype.show=function(){this._datepickerInstance.show(),this._options.onShow(this)},e.prototype.hide=function(){this._datepickerInstance.hide(),this._options.onHide(this)},e.prototype._getDatepickerOptions=function(n){var o={};return n.buttons&&(o.todayBtn=!0,o.clearBtn=!0,n.autoSelectToday&&(o.todayBtnMode=1)),n.autohide&&(o.autohide=!0),n.format&&(o.format=n.format),n.maxDate&&(o.maxDate=n.maxDate),n.minDate&&(o.minDate=n.minDate),n.orientation&&(o.orientation=n.orientation),n.title&&(o.title=n.title),n.language&&(o.language=n.language),o},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e})();function Nbe(){document.querySelectorAll("[datepicker], [inline-datepicker], [date-rangepicker]").forEach(function(e){if(e){var n=e.hasAttribute("datepicker-buttons"),o=e.hasAttribute("datepicker-autoselect-today"),i=e.hasAttribute("datepicker-autohide"),c=e.getAttribute("datepicker-format"),d=e.getAttribute("datepicker-max-date"),p=e.getAttribute("datepicker-min-date"),v=e.getAttribute("datepicker-orientation"),S=e.getAttribute("datepicker-title"),_=e.getAttribute("datepicker-language"),x=e.hasAttribute("date-rangepicker");new jRe(e,{buttons:n||W0.buttons,autoSelectToday:o||W0.autoSelectToday,autohide:i||W0.autohide,format:c||W0.format,maxDate:d||W0.maxDate,minDate:p||W0.minDate,orientation:v||W0.orientation,title:S||W0.title,language:_||W0.language,rangePicker:x||W0.rangePicker})}else console.error("The datepicker element does not exist. Please check the datepicker attribute.")})}typeof window<"u"&&(window.Datepicker=jRe,window.initDatepickers=Nbe);function iHe(){abe(),lbe(),cbe(),ube(),bbe(),Sbe(),Cbe(),Ebe(),wbe(),_be(),Tbe(),Abe(),xbe(),Nbe()}typeof window<"u"&&(window.initFlowbite=iHe);var aHe=new eFe("load",[abe,lbe,cbe,ube,bbe,Sbe,Cbe,Ebe,wbe,_be,Tbe,Abe,xbe,Nbe]);aHe.init();function m4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nJe(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var o=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var c=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(o,i,c.get?c:{enumerable:!0,get:function(){return e[i]}})}),o}function lHe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var WRe;function Ps(){return WRe.apply(null,arguments)}function cHe(e){WRe=e}function kS(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function u2(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Il(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function Lbe(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var n;for(n in e)if(Il(e,n))return!1;return!0}function Iy(e){return e===void 0}function gT(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function gz(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function GRe(e,n){var o=[],i,c=e.length;for(i=0;i<c;++i)o.push(n(e[i],i));return o}function EO(e,n){for(var o in n)Il(n,o)&&(e[o]=n[o]);return Il(n,"toString")&&(e.toString=n.toString),Il(n,"valueOf")&&(e.valueOf=n.valueOf),e}function xE(e,n,o,i){return mke(e,n,o,i,!0).utc()}function uHe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ua(e){return e._pf==null&&(e._pf=uHe()),e._pf}var fge;Array.prototype.some?fge=Array.prototype.some:fge=function(e){var n=Object(this),o=n.length>>>0,i;for(i=0;i<o;i++)if(i in n&&e.call(this,n[i],i,n))return!0;return!1};function Bbe(e){var n=null,o=!1,i=e._d&&!isNaN(e._d.getTime());if(i&&(n=ua(e),o=fge.call(n.parsedDateParts,function(c){return c!=null}),i=n.overflow<0&&!n.empty&&!n.invalidEra&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&o),e._strict&&(i=i&&n.charsLeftOver===0&&n.unusedTokens.length===0&&n.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=i;else return i;return e._isValid}function jee(e){var n=xE(NaN);return e!=null?EO(ua(n),e):ua(n).userInvalidated=!0,n}var DCe=Ps.momentProperties=[],bpe=!1;function Fbe(e,n){var o,i,c,d=DCe.length;if(Iy(n._isAMomentObject)||(e._isAMomentObject=n._isAMomentObject),Iy(n._i)||(e._i=n._i),Iy(n._f)||(e._f=n._f),Iy(n._l)||(e._l=n._l),Iy(n._strict)||(e._strict=n._strict),Iy(n._tzm)||(e._tzm=n._tzm),Iy(n._isUTC)||(e._isUTC=n._isUTC),Iy(n._offset)||(e._offset=n._offset),Iy(n._pf)||(e._pf=ua(n)),Iy(n._locale)||(e._locale=n._locale),d>0)for(o=0;o<d;o++)i=DCe[o],c=n[i],Iy(c)||(e[i]=c);return e}function vz(e){Fbe(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),bpe===!1&&(bpe=!0,Ps.updateOffset(this),bpe=!1)}function DS(e){return e instanceof vz||e!=null&&e._isAMomentObject!=null}function qRe(e){Ps.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function r1(e,n){var o=!0;return EO(function(){if(Ps.deprecationHandler!=null&&Ps.deprecationHandler(null,e),o){var i=[],c,d,p,v=arguments.length;for(d=0;d<v;d++){if(c="",typeof arguments[d]=="object"){c+=`
[`+d+"] ";for(p in arguments[0])Il(arguments[0],p)&&(c+=p+": "+arguments[0][p]+", ");c=c.slice(0,-2)}else c=arguments[d];i.push(c)}qRe(e+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),o=!1}return n.apply(this,arguments)},n)}var MCe={};function KRe(e,n){Ps.deprecationHandler!=null&&Ps.deprecationHandler(e,n),MCe[e]||(qRe(n),MCe[e]=!0)}Ps.suppressDeprecationWarnings=!1;Ps.deprecationHandler=null;function OE(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function dHe(e){var n,o;for(o in e)Il(e,o)&&(n=e[o],OE(n)?this[o]=n:this["_"+o]=n);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function pge(e,n){var o=EO({},e),i;for(i in n)Il(n,i)&&(u2(e[i])&&u2(n[i])?(o[i]={},EO(o[i],e[i]),EO(o[i],n[i])):n[i]!=null?o[i]=n[i]:delete o[i]);for(i in e)Il(e,i)&&!Il(n,i)&&u2(e[i])&&(o[i]=EO({},o[i]));return o}function Vbe(e){e!=null&&this.set(e)}var mge;Object.keys?mge=Object.keys:mge=function(e){var n,o=[];for(n in e)Il(e,n)&&o.push(n);return o};var hHe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function fHe(e,n,o){var i=this._calendar[e]||this._calendar.sameElse;return OE(i)?i.call(n,o):i}function TE(e,n,o){var i=""+Math.abs(e),c=n-i.length,d=e>=0;return(d?o?"+":"":"-")+Math.pow(10,Math.max(0,c)).toString().substr(1)+i}var Hbe=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,YY=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Spe={},g3={};function Hr(e,n,o,i){var c=i;typeof i=="string"&&(c=function(){return this[i]()}),e&&(g3[e]=c),n&&(g3[n[0]]=function(){return TE(c.apply(this,arguments),n[1],n[2])}),o&&(g3[o]=function(){return this.localeData().ordinal(c.apply(this,arguments),e)})}function pHe(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function mHe(e){var n=e.match(Hbe),o,i;for(o=0,i=n.length;o<i;o++)g3[n[o]]?n[o]=g3[n[o]]:n[o]=pHe(n[o]);return function(c){var d="",p;for(p=0;p<i;p++)d+=OE(n[p])?n[p].call(c,e):n[p];return d}}function UX(e,n){return e.isValid()?(n=ZRe(n,e.localeData()),Spe[n]=Spe[n]||mHe(n),Spe[n](e)):e.localeData().invalidDate()}function ZRe(e,n){var o=5;function i(c){return n.longDateFormat(c)||c}for(YY.lastIndex=0;o>=0&&YY.test(e);)e=e.replace(YY,i),YY.lastIndex=0,o-=1;return e}var gHe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function vHe(e){var n=this._longDateFormat[e],o=this._longDateFormat[e.toUpperCase()];return n||!o?n:(this._longDateFormat[e]=o.match(Hbe).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[e])}var yHe="Invalid date";function bHe(){return this._invalidDate}var SHe="%d",CHe=/\d{1,2}/;function EHe(e){return this._ordinal.replace("%d",e)}var wHe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function _He(e,n,o,i){var c=this._relativeTime[o];return OE(c)?c(e,n,o,i):c.replace(/%d/i,e)}function THe(e,n){var o=this._relativeTime[e>0?"future":"past"];return OE(o)?o(n):o.replace(/%s/i,n)}var PCe={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function i1(e){return typeof e=="string"?PCe[e]||PCe[e.toLowerCase()]:void 0}function $be(e){var n={},o,i;for(i in e)Il(e,i)&&(o=i1(i),o&&(n[o]=e[i]));return n}var AHe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function xHe(e){var n=[],o;for(o in e)Il(e,o)&&n.push({unit:o,priority:AHe[o]});return n.sort(function(i,c){return i.priority-c.priority}),n}var YRe=/\d/,Kb=/\d\d/,XRe=/\d{3}/,Ube=/\d{4}/,Wee=/[+-]?\d{6}/,Tu=/\d\d?/,JRe=/\d\d\d\d?/,QRe=/\d\d\d\d\d\d?/,Gee=/\d{1,3}/,zbe=/\d{1,4}/,qee=/[+-]?\d{1,6}/,g4=/\d+/,Kee=/[+-]?\d+/,OHe=/Z|[+-]\d\d:?\d\d/gi,Zee=/Z|[+-]\d\d(?::?\d\d)?/gi,IHe=/[+-]?\d+(\.\d{1,3})?/,yz=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,v4=/^[1-9]\d?/,jbe=/^([1-9]\d|\d)/,aQ;aQ={};function fr(e,n,o){aQ[e]=OE(n)?n:function(i,c){return i&&o?o:n}}function RHe(e,n){return Il(aQ,e)?aQ[e](n._strict,n._locale):new RegExp(kHe(e))}function kHe(e){return oT(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,o,i,c,d){return o||i||c||d}))}function oT(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function K0(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ka(e){var n=+e,o=0;return n!==0&&isFinite(n)&&(o=K0(n)),o}var gge={};function _c(e,n){var o,i=n,c;for(typeof e=="string"&&(e=[e]),gT(n)&&(i=function(d,p){p[n]=Ka(d)}),c=e.length,o=0;o<c;o++)gge[e[o]]=i}function bz(e,n){_c(e,function(o,i,c,d){c._w=c._w||{},n(o,c._w,c,d)})}function DHe(e,n,o){n!=null&&Il(gge,e)&&gge[e](n,o._a,o,e)}function Yee(e){return e%4===0&&e%100!==0||e%400===0}var _g=0,tT=1,vE=2,jf=3,AS=4,nT=5,Yk=6,MHe=7,PHe=8;Hr("Y",0,0,function(){var e=this.year();return e<=9999?TE(e,4):"+"+e});Hr(0,["YY",2],0,function(){return this.year()%100});Hr(0,["YYYY",4],0,"year");Hr(0,["YYYYY",5],0,"year");Hr(0,["YYYYYY",6,!0],0,"year");fr("Y",Kee);fr("YY",Tu,Kb);fr("YYYY",zbe,Ube);fr("YYYYY",qee,Wee);fr("YYYYYY",qee,Wee);_c(["YYYYY","YYYYYY"],_g);_c("YYYY",function(e,n){n[_g]=e.length===2?Ps.parseTwoDigitYear(e):Ka(e)});_c("YY",function(e,n){n[_g]=Ps.parseTwoDigitYear(e)});_c("Y",function(e,n){n[_g]=parseInt(e,10)});function i6(e){return Yee(e)?366:365}Ps.parseTwoDigitYear=function(e){return Ka(e)+(Ka(e)>68?1900:2e3)};var eke=y4("FullYear",!0);function NHe(){return Yee(this.year())}function y4(e,n){return function(o){return o!=null?(tke(this,e,o),Ps.updateOffset(this,n),this):N6(this,e)}}function N6(e,n){if(!e.isValid())return NaN;var o=e._d,i=e._isUTC;switch(n){case"Milliseconds":return i?o.getUTCMilliseconds():o.getMilliseconds();case"Seconds":return i?o.getUTCSeconds():o.getSeconds();case"Minutes":return i?o.getUTCMinutes():o.getMinutes();case"Hours":return i?o.getUTCHours():o.getHours();case"Date":return i?o.getUTCDate():o.getDate();case"Day":return i?o.getUTCDay():o.getDay();case"Month":return i?o.getUTCMonth():o.getMonth();case"FullYear":return i?o.getUTCFullYear():o.getFullYear();default:return NaN}}function tke(e,n,o){var i,c,d,p,v;if(!(!e.isValid()||isNaN(o))){switch(i=e._d,c=e._isUTC,n){case"Milliseconds":return void(c?i.setUTCMilliseconds(o):i.setMilliseconds(o));case"Seconds":return void(c?i.setUTCSeconds(o):i.setSeconds(o));case"Minutes":return void(c?i.setUTCMinutes(o):i.setMinutes(o));case"Hours":return void(c?i.setUTCHours(o):i.setHours(o));case"Date":return void(c?i.setUTCDate(o):i.setDate(o));case"FullYear":break;default:return}d=o,p=e.month(),v=e.date(),v=v===29&&p===1&&!Yee(d)?28:v,c?i.setUTCFullYear(d,p,v):i.setFullYear(d,p,v)}}function LHe(e){return e=i1(e),OE(this[e])?this[e]():this}function BHe(e,n){if(typeof e=="object"){e=$be(e);var o=xHe(e),i,c=o.length;for(i=0;i<c;i++)this[o[i].unit](e[o[i].unit])}else if(e=i1(e),OE(this[e]))return this[e](n);return this}function FHe(e,n){return(e%n+n)%n}var Ch;Array.prototype.indexOf?Ch=Array.prototype.indexOf:Ch=function(e){var n;for(n=0;n<this.length;++n)if(this[n]===e)return n;return-1};function Wbe(e,n){if(isNaN(e)||isNaN(n))return NaN;var o=FHe(n,12);return e+=(n-o)/12,o===1?Yee(e)?29:28:31-o%7%2}Hr("M",["MM",2],"Mo",function(){return this.month()+1});Hr("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Hr("MMMM",0,0,function(e){return this.localeData().months(this,e)});fr("M",Tu,v4);fr("MM",Tu,Kb);fr("MMM",function(e,n){return n.monthsShortRegex(e)});fr("MMMM",function(e,n){return n.monthsRegex(e)});_c(["M","MM"],function(e,n){n[tT]=Ka(e)-1});_c(["MMM","MMMM"],function(e,n,o,i){var c=o._locale.monthsParse(e,i,o._strict);c!=null?n[tT]=c:ua(o).invalidMonth=e});var VHe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nke="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),oke=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,HHe=yz,$He=yz;function UHe(e,n){return e?kS(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||oke).test(n)?"format":"standalone"][e.month()]:kS(this._months)?this._months:this._months.standalone}function zHe(e,n){return e?kS(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[oke.test(n)?"format":"standalone"][e.month()]:kS(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function jHe(e,n,o){var i,c,d,p=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)d=xE([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(d,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(d,"").toLocaleLowerCase();return o?n==="MMM"?(c=Ch.call(this._shortMonthsParse,p),c!==-1?c:null):(c=Ch.call(this._longMonthsParse,p),c!==-1?c:null):n==="MMM"?(c=Ch.call(this._shortMonthsParse,p),c!==-1?c:(c=Ch.call(this._longMonthsParse,p),c!==-1?c:null)):(c=Ch.call(this._longMonthsParse,p),c!==-1?c:(c=Ch.call(this._shortMonthsParse,p),c!==-1?c:null))}function WHe(e,n,o){var i,c,d;if(this._monthsParseExact)return jHe.call(this,e,n,o);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(c=xE([2e3,i]),o&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(c,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(c,"").replace(".","")+"$","i")),!o&&!this._monthsParse[i]&&(d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[i]=new RegExp(d.replace(".",""),"i")),o&&n==="MMMM"&&this._longMonthsParse[i].test(e))return i;if(o&&n==="MMM"&&this._shortMonthsParse[i].test(e))return i;if(!o&&this._monthsParse[i].test(e))return i}}function ske(e,n){if(!e.isValid())return e;if(typeof n=="string"){if(/^\d+$/.test(n))n=Ka(n);else if(n=e.localeData().monthsParse(n),!gT(n))return e}var o=n,i=e.date();return i=i<29?i:Math.min(i,Wbe(e.year(),o)),e._isUTC?e._d.setUTCMonth(o,i):e._d.setMonth(o,i),e}function rke(e){return e!=null?(ske(this,e),Ps.updateOffset(this,!0),this):N6(this,"Month")}function GHe(){return Wbe(this.year(),this.month())}function qHe(e){return this._monthsParseExact?(Il(this,"_monthsRegex")||ike.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Il(this,"_monthsShortRegex")||(this._monthsShortRegex=HHe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function KHe(e){return this._monthsParseExact?(Il(this,"_monthsRegex")||ike.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Il(this,"_monthsRegex")||(this._monthsRegex=$He),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ike(){function e(S,_){return _.length-S.length}var n=[],o=[],i=[],c,d,p,v;for(c=0;c<12;c++)d=xE([2e3,c]),p=oT(this.monthsShort(d,"")),v=oT(this.months(d,"")),n.push(p),o.push(v),i.push(v),i.push(p);n.sort(e),o.sort(e),i.sort(e),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function ZHe(e,n,o,i,c,d,p){var v;return e<100&&e>=0?(v=new Date(e+400,n,o,i,c,d,p),isFinite(v.getFullYear())&&v.setFullYear(e)):v=new Date(e,n,o,i,c,d,p),v}function L6(e){var n,o;return e<100&&e>=0?(o=Array.prototype.slice.call(arguments),o[0]=e+400,n=new Date(Date.UTC.apply(null,o)),isFinite(n.getUTCFullYear())&&n.setUTCFullYear(e)):n=new Date(Date.UTC.apply(null,arguments)),n}function lQ(e,n,o){var i=7+n-o,c=(7+L6(e,0,i).getUTCDay()-n)%7;return-c+i-1}function ake(e,n,o,i,c){var d=(7+o-i)%7,p=lQ(e,i,c),v=1+7*(n-1)+d+p,S,_;return v<=0?(S=e-1,_=i6(S)+v):v>i6(e)?(S=e+1,_=v-i6(e)):(S=e,_=v),{year:S,dayOfYear:_}}function B6(e,n,o){var i=lQ(e.year(),n,o),c=Math.floor((e.dayOfYear()-i-1)/7)+1,d,p;return c<1?(p=e.year()-1,d=c+sT(p,n,o)):c>sT(e.year(),n,o)?(d=c-sT(e.year(),n,o),p=e.year()+1):(p=e.year(),d=c),{week:d,year:p}}function sT(e,n,o){var i=lQ(e,n,o),c=lQ(e+1,n,o);return(i6(e)-i+c)/7}Hr("w",["ww",2],"wo","week");Hr("W",["WW",2],"Wo","isoWeek");fr("w",Tu,v4);fr("ww",Tu,Kb);fr("W",Tu,v4);fr("WW",Tu,Kb);bz(["w","ww","W","WW"],function(e,n,o,i){n[i.substr(0,1)]=Ka(e)});function YHe(e){return B6(e,this._week.dow,this._week.doy).week}var XHe={dow:0,doy:6};function JHe(){return this._week.dow}function QHe(){return this._week.doy}function e$e(e){var n=this.localeData().week(this);return e==null?n:this.add((e-n)*7,"d")}function t$e(e){var n=B6(this,1,4).week;return e==null?n:this.add((e-n)*7,"d")}Hr("d",0,"do","day");Hr("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Hr("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Hr("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Hr("e",0,0,"weekday");Hr("E",0,0,"isoWeekday");fr("d",Tu);fr("e",Tu);fr("E",Tu);fr("dd",function(e,n){return n.weekdaysMinRegex(e)});fr("ddd",function(e,n){return n.weekdaysShortRegex(e)});fr("dddd",function(e,n){return n.weekdaysRegex(e)});bz(["dd","ddd","dddd"],function(e,n,o,i){var c=o._locale.weekdaysParse(e,i,o._strict);c!=null?n.d=c:ua(o).invalidWeekday=e});bz(["d","e","E"],function(e,n,o,i){n[i]=Ka(e)});function n$e(e,n){return typeof e!="string"?e:isNaN(e)?(e=n.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function o$e(e,n){return typeof e=="string"?n.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Gbe(e,n){return e.slice(n,7).concat(e.slice(0,n))}var s$e="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),lke="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),r$e="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),i$e=yz,a$e=yz,l$e=yz;function c$e(e,n){var o=kS(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(n)?"format":"standalone"];return e===!0?Gbe(o,this._week.dow):e?o[e.day()]:o}function u$e(e){return e===!0?Gbe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function d$e(e){return e===!0?Gbe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function h$e(e,n,o){var i,c,d,p=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)d=xE([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(d,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(d,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(d,"").toLocaleLowerCase();return o?n==="dddd"?(c=Ch.call(this._weekdaysParse,p),c!==-1?c:null):n==="ddd"?(c=Ch.call(this._shortWeekdaysParse,p),c!==-1?c:null):(c=Ch.call(this._minWeekdaysParse,p),c!==-1?c:null):n==="dddd"?(c=Ch.call(this._weekdaysParse,p),c!==-1||(c=Ch.call(this._shortWeekdaysParse,p),c!==-1)?c:(c=Ch.call(this._minWeekdaysParse,p),c!==-1?c:null)):n==="ddd"?(c=Ch.call(this._shortWeekdaysParse,p),c!==-1||(c=Ch.call(this._weekdaysParse,p),c!==-1)?c:(c=Ch.call(this._minWeekdaysParse,p),c!==-1?c:null)):(c=Ch.call(this._minWeekdaysParse,p),c!==-1||(c=Ch.call(this._weekdaysParse,p),c!==-1)?c:(c=Ch.call(this._shortWeekdaysParse,p),c!==-1?c:null))}function f$e(e,n,o){var i,c,d;if(this._weekdaysParseExact)return h$e.call(this,e,n,o);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(c=xE([2e3,1]).day(i),o&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(c,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(c,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(c,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[i]=new RegExp(d.replace(".",""),"i")),o&&n==="dddd"&&this._fullWeekdaysParse[i].test(e))return i;if(o&&n==="ddd"&&this._shortWeekdaysParse[i].test(e))return i;if(o&&n==="dd"&&this._minWeekdaysParse[i].test(e))return i;if(!o&&this._weekdaysParse[i].test(e))return i}}function p$e(e){if(!this.isValid())return e!=null?this:NaN;var n=N6(this,"Day");return e!=null?(e=n$e(e,this.localeData()),this.add(e-n,"d")):n}function m$e(e){if(!this.isValid())return e!=null?this:NaN;var n=(this.day()+7-this.localeData()._week.dow)%7;return e==null?n:this.add(e-n,"d")}function g$e(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var n=o$e(e,this.localeData());return this.day(this.day()%7?n:n-7)}else return this.day()||7}function v$e(e){return this._weekdaysParseExact?(Il(this,"_weekdaysRegex")||qbe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Il(this,"_weekdaysRegex")||(this._weekdaysRegex=i$e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function y$e(e){return this._weekdaysParseExact?(Il(this,"_weekdaysRegex")||qbe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Il(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=a$e),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function b$e(e){return this._weekdaysParseExact?(Il(this,"_weekdaysRegex")||qbe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Il(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=l$e),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qbe(){function e(x,P){return P.length-x.length}var n=[],o=[],i=[],c=[],d,p,v,S,_;for(d=0;d<7;d++)p=xE([2e3,1]).day(d),v=oT(this.weekdaysMin(p,"")),S=oT(this.weekdaysShort(p,"")),_=oT(this.weekdays(p,"")),n.push(v),o.push(S),i.push(_),c.push(v),c.push(S),c.push(_);n.sort(e),o.sort(e),i.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Kbe(){return this.hours()%12||12}function S$e(){return this.hours()||24}Hr("H",["HH",2],0,"hour");Hr("h",["hh",2],0,Kbe);Hr("k",["kk",2],0,S$e);Hr("hmm",0,0,function(){return""+Kbe.apply(this)+TE(this.minutes(),2)});Hr("hmmss",0,0,function(){return""+Kbe.apply(this)+TE(this.minutes(),2)+TE(this.seconds(),2)});Hr("Hmm",0,0,function(){return""+this.hours()+TE(this.minutes(),2)});Hr("Hmmss",0,0,function(){return""+this.hours()+TE(this.minutes(),2)+TE(this.seconds(),2)});function cke(e,n){Hr(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),n)})}cke("a",!0);cke("A",!1);function uke(e,n){return n._meridiemParse}fr("a",uke);fr("A",uke);fr("H",Tu,jbe);fr("h",Tu,v4);fr("k",Tu,v4);fr("HH",Tu,Kb);fr("hh",Tu,Kb);fr("kk",Tu,Kb);fr("hmm",JRe);fr("hmmss",QRe);fr("Hmm",JRe);fr("Hmmss",QRe);_c(["H","HH"],jf);_c(["k","kk"],function(e,n,o){var i=Ka(e);n[jf]=i===24?0:i});_c(["a","A"],function(e,n,o){o._isPm=o._locale.isPM(e),o._meridiem=e});_c(["h","hh"],function(e,n,o){n[jf]=Ka(e),ua(o).bigHour=!0});_c("hmm",function(e,n,o){var i=e.length-2;n[jf]=Ka(e.substr(0,i)),n[AS]=Ka(e.substr(i)),ua(o).bigHour=!0});_c("hmmss",function(e,n,o){var i=e.length-4,c=e.length-2;n[jf]=Ka(e.substr(0,i)),n[AS]=Ka(e.substr(i,2)),n[nT]=Ka(e.substr(c)),ua(o).bigHour=!0});_c("Hmm",function(e,n,o){var i=e.length-2;n[jf]=Ka(e.substr(0,i)),n[AS]=Ka(e.substr(i))});_c("Hmmss",function(e,n,o){var i=e.length-4,c=e.length-2;n[jf]=Ka(e.substr(0,i)),n[AS]=Ka(e.substr(i,2)),n[nT]=Ka(e.substr(c))});function C$e(e){return(e+"").toLowerCase().charAt(0)==="p"}var E$e=/[ap]\.?m?\.?/i,w$e=y4("Hours",!0);function _$e(e,n,o){return e>11?o?"pm":"PM":o?"am":"AM"}var dke={calendar:hHe,longDateFormat:gHe,invalidDate:yHe,ordinal:SHe,dayOfMonthOrdinalParse:CHe,relativeTime:wHe,months:VHe,monthsShort:nke,week:XHe,weekdays:s$e,weekdaysMin:r$e,weekdaysShort:lke,meridiemParse:E$e},Yu={},b5={},F6;function T$e(e,n){var o,i=Math.min(e.length,n.length);for(o=0;o<i;o+=1)if(e[o]!==n[o])return o;return i}function NCe(e){return e&&e.toLowerCase().replace("_","-")}function A$e(e){for(var n=0,o,i,c,d;n<e.length;){for(d=NCe(e[n]).split("-"),o=d.length,i=NCe(e[n+1]),i=i?i.split("-"):null;o>0;){if(c=Xee(d.slice(0,o).join("-")),c)return c;if(i&&i.length>=o&&T$e(d,i)>=o-1)break;o--}n++}return F6}function x$e(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Xee(e){var n=null,o;if(Yu[e]===void 0&&typeof module<"u"&&module&&module.exports&&x$e(e))try{n=F6._abbr,o=lHe,o("./locale/"+e),MO(n)}catch{Yu[e]=null}return Yu[e]}function MO(e,n){var o;return e&&(Iy(n)?o=ET(e):o=Zbe(e,n),o?F6=o:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),F6._abbr}function Zbe(e,n){if(n!==null){var o,i=dke;if(n.abbr=e,Yu[e]!=null)KRe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Yu[e]._config;else if(n.parentLocale!=null)if(Yu[n.parentLocale]!=null)i=Yu[n.parentLocale]._config;else if(o=Xee(n.parentLocale),o!=null)i=o._config;else return b5[n.parentLocale]||(b5[n.parentLocale]=[]),b5[n.parentLocale].push({name:e,config:n}),null;return Yu[e]=new Vbe(pge(i,n)),b5[e]&&b5[e].forEach(function(c){Zbe(c.name,c.config)}),MO(e),Yu[e]}else return delete Yu[e],null}function O$e(e,n){if(n!=null){var o,i,c=dke;Yu[e]!=null&&Yu[e].parentLocale!=null?Yu[e].set(pge(Yu[e]._config,n)):(i=Xee(e),i!=null&&(c=i._config),n=pge(c,n),i==null&&(n.abbr=e),o=new Vbe(n),o.parentLocale=Yu[e],Yu[e]=o),MO(e)}else Yu[e]!=null&&(Yu[e].parentLocale!=null?(Yu[e]=Yu[e].parentLocale,e===MO()&&MO(e)):Yu[e]!=null&&delete Yu[e]);return Yu[e]}function ET(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return F6;if(!kS(e)){if(n=Xee(e),n)return n;e=[e]}return A$e(e)}function I$e(){return mge(Yu)}function Ybe(e){var n,o=e._a;return o&&ua(e).overflow===-2&&(n=o[tT]<0||o[tT]>11?tT:o[vE]<1||o[vE]>Wbe(o[_g],o[tT])?vE:o[jf]<0||o[jf]>24||o[jf]===24&&(o[AS]!==0||o[nT]!==0||o[Yk]!==0)?jf:o[AS]<0||o[AS]>59?AS:o[nT]<0||o[nT]>59?nT:o[Yk]<0||o[Yk]>999?Yk:-1,ua(e)._overflowDayOfYear&&(n<_g||n>vE)&&(n=vE),ua(e)._overflowWeeks&&n===-1&&(n=MHe),ua(e)._overflowWeekday&&n===-1&&(n=PHe),ua(e).overflow=n),e}var R$e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,k$e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,D$e=/Z|[+-]\d\d(?::?\d\d)?/,XY=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Cpe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],M$e=/^\/?Date\((-?\d+)/i,P$e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,N$e={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function hke(e){var n,o,i=e._i,c=R$e.exec(i)||k$e.exec(i),d,p,v,S,_=XY.length,x=Cpe.length;if(c){for(ua(e).iso=!0,n=0,o=_;n<o;n++)if(XY[n][1].exec(c[1])){p=XY[n][0],d=XY[n][2]!==!1;break}if(p==null){e._isValid=!1;return}if(c[3]){for(n=0,o=x;n<o;n++)if(Cpe[n][1].exec(c[3])){v=(c[2]||" ")+Cpe[n][0];break}if(v==null){e._isValid=!1;return}}if(!d&&v!=null){e._isValid=!1;return}if(c[4])if(D$e.exec(c[4]))S="Z";else{e._isValid=!1;return}e._f=p+(v||"")+(S||""),Jbe(e)}else e._isValid=!1}function L$e(e,n,o,i,c,d){var p=[B$e(e),nke.indexOf(n),parseInt(o,10),parseInt(i,10),parseInt(c,10)];return d&&p.push(parseInt(d,10)),p}function B$e(e){var n=parseInt(e,10);return n<=49?2e3+n:n<=999?1900+n:n}function F$e(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function V$e(e,n,o){if(e){var i=lke.indexOf(e),c=new Date(n[0],n[1],n[2]).getDay();if(i!==c)return ua(o).weekdayMismatch=!0,o._isValid=!1,!1}return!0}function H$e(e,n,o){if(e)return N$e[e];if(n)return 0;var i=parseInt(o,10),c=i%100,d=(i-c)/100;return d*60+c}function fke(e){var n=P$e.exec(F$e(e._i)),o;if(n){if(o=L$e(n[4],n[3],n[2],n[5],n[6],n[7]),!V$e(n[1],o,e))return;e._a=o,e._tzm=H$e(n[8],n[9],n[10]),e._d=L6.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),ua(e).rfc2822=!0}else e._isValid=!1}function $$e(e){var n=M$e.exec(e._i);if(n!==null){e._d=new Date(+n[1]);return}if(hke(e),e._isValid===!1)delete e._isValid;else return;if(fke(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Ps.createFromInputFallback(e)}Ps.createFromInputFallback=r1("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function YL(e,n,o){return e??n??o}function U$e(e){var n=new Date(Ps.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Xbe(e){var n,o,i=[],c,d,p;if(!e._d){for(c=U$e(e),e._w&&e._a[vE]==null&&e._a[tT]==null&&z$e(e),e._dayOfYear!=null&&(p=YL(e._a[_g],c[_g]),(e._dayOfYear>i6(p)||e._dayOfYear===0)&&(ua(e)._overflowDayOfYear=!0),o=L6(p,0,e._dayOfYear),e._a[tT]=o.getUTCMonth(),e._a[vE]=o.getUTCDate()),n=0;n<3&&e._a[n]==null;++n)e._a[n]=i[n]=c[n];for(;n<7;n++)e._a[n]=i[n]=e._a[n]==null?n===2?1:0:e._a[n];e._a[jf]===24&&e._a[AS]===0&&e._a[nT]===0&&e._a[Yk]===0&&(e._nextDay=!0,e._a[jf]=0),e._d=(e._useUTC?L6:ZHe).apply(null,i),d=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[jf]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==d&&(ua(e).weekdayMismatch=!0)}}function z$e(e){var n,o,i,c,d,p,v,S,_;n=e._w,n.GG!=null||n.W!=null||n.E!=null?(d=1,p=4,o=YL(n.GG,e._a[_g],B6(_u(),1,4).year),i=YL(n.W,1),c=YL(n.E,1),(c<1||c>7)&&(S=!0)):(d=e._locale._week.dow,p=e._locale._week.doy,_=B6(_u(),d,p),o=YL(n.gg,e._a[_g],_.year),i=YL(n.w,_.week),n.d!=null?(c=n.d,(c<0||c>6)&&(S=!0)):n.e!=null?(c=n.e+d,(n.e<0||n.e>6)&&(S=!0)):c=d),i<1||i>sT(o,d,p)?ua(e)._overflowWeeks=!0:S!=null?ua(e)._overflowWeekday=!0:(v=ake(o,i,c,d,p),e._a[_g]=v.year,e._dayOfYear=v.dayOfYear)}Ps.ISO_8601=function(){};Ps.RFC_2822=function(){};function Jbe(e){if(e._f===Ps.ISO_8601){hke(e);return}if(e._f===Ps.RFC_2822){fke(e);return}e._a=[],ua(e).empty=!0;var n=""+e._i,o,i,c,d,p,v=n.length,S=0,_,x;for(c=ZRe(e._f,e._locale).match(Hbe)||[],x=c.length,o=0;o<x;o++)d=c[o],i=(n.match(RHe(d,e))||[])[0],i&&(p=n.substr(0,n.indexOf(i)),p.length>0&&ua(e).unusedInput.push(p),n=n.slice(n.indexOf(i)+i.length),S+=i.length),g3[d]?(i?ua(e).empty=!1:ua(e).unusedTokens.push(d),DHe(d,i,e)):e._strict&&!i&&ua(e).unusedTokens.push(d);ua(e).charsLeftOver=v-S,n.length>0&&ua(e).unusedInput.push(n),e._a[jf]<=12&&ua(e).bigHour===!0&&e._a[jf]>0&&(ua(e).bigHour=void 0),ua(e).parsedDateParts=e._a.slice(0),ua(e).meridiem=e._meridiem,e._a[jf]=j$e(e._locale,e._a[jf],e._meridiem),_=ua(e).era,_!==null&&(e._a[_g]=e._locale.erasConvertYear(_,e._a[_g])),Xbe(e),Ybe(e)}function j$e(e,n,o){var i;return o==null?n:e.meridiemHour!=null?e.meridiemHour(n,o):(e.isPM!=null&&(i=e.isPM(o),i&&n<12&&(n+=12),!i&&n===12&&(n=0)),n)}function W$e(e){var n,o,i,c,d,p,v=!1,S=e._f.length;if(S===0){ua(e).invalidFormat=!0,e._d=new Date(NaN);return}for(c=0;c<S;c++)d=0,p=!1,n=Fbe({},e),e._useUTC!=null&&(n._useUTC=e._useUTC),n._f=e._f[c],Jbe(n),Bbe(n)&&(p=!0),d+=ua(n).charsLeftOver,d+=ua(n).unusedTokens.length*10,ua(n).score=d,v?d<i&&(i=d,o=n):(i==null||d<i||p)&&(i=d,o=n,p&&(v=!0));EO(e,o||n)}function G$e(e){if(!e._d){var n=$be(e._i),o=n.day===void 0?n.date:n.day;e._a=GRe([n.year,n.month,o,n.hour,n.minute,n.second,n.millisecond],function(i){return i&&parseInt(i,10)}),Xbe(e)}}function q$e(e){var n=new vz(Ybe(pke(e)));return n._nextDay&&(n.add(1,"d"),n._nextDay=void 0),n}function pke(e){var n=e._i,o=e._f;return e._locale=e._locale||ET(e._l),n===null||o===void 0&&n===""?jee({nullInput:!0}):(typeof n=="string"&&(e._i=n=e._locale.preparse(n)),DS(n)?new vz(Ybe(n)):(gz(n)?e._d=n:kS(o)?W$e(e):o?Jbe(e):K$e(e),Bbe(e)||(e._d=null),e))}function K$e(e){var n=e._i;Iy(n)?e._d=new Date(Ps.now()):gz(n)?e._d=new Date(n.valueOf()):typeof n=="string"?$$e(e):kS(n)?(e._a=GRe(n.slice(0),function(o){return parseInt(o,10)}),Xbe(e)):u2(n)?G$e(e):gT(n)?e._d=new Date(n):Ps.createFromInputFallback(e)}function mke(e,n,o,i,c){var d={};return(n===!0||n===!1)&&(i=n,n=void 0),(o===!0||o===!1)&&(i=o,o=void 0),(u2(e)&&Lbe(e)||kS(e)&&e.length===0)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=c,d._l=o,d._i=e,d._f=n,d._strict=i,q$e(d)}function _u(e,n,o,i){return mke(e,n,o,i,!1)}var Z$e=r1("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_u.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:jee()}),Y$e=r1("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_u.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:jee()});function gke(e,n){var o,i;if(n.length===1&&kS(n[0])&&(n=n[0]),!n.length)return _u();for(o=n[0],i=1;i<n.length;++i)(!n[i].isValid()||n[i][e](o))&&(o=n[i]);return o}function X$e(){var e=[].slice.call(arguments,0);return gke("isBefore",e)}function J$e(){var e=[].slice.call(arguments,0);return gke("isAfter",e)}var Q$e=function(){return Date.now?Date.now():+new Date},S5=["year","quarter","month","week","day","hour","minute","second","millisecond"];function eUe(e){var n,o=!1,i,c=S5.length;for(n in e)if(Il(e,n)&&!(Ch.call(S5,n)!==-1&&(e[n]==null||!isNaN(e[n]))))return!1;for(i=0;i<c;++i)if(e[S5[i]]){if(o)return!1;parseFloat(e[S5[i]])!==Ka(e[S5[i]])&&(o=!0)}return!0}function tUe(){return this._isValid}function nUe(){return LS(NaN)}function Jee(e){var n=$be(e),o=n.year||0,i=n.quarter||0,c=n.month||0,d=n.week||n.isoWeek||0,p=n.day||0,v=n.hour||0,S=n.minute||0,_=n.second||0,x=n.millisecond||0;this._isValid=eUe(n),this._milliseconds=+x+_*1e3+S*6e4+v*1e3*60*60,this._days=+p+d*7,this._months=+c+i*3+o*12,this._data={},this._locale=ET(),this._bubble()}function zX(e){return e instanceof Jee}function vge(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function oUe(e,n,o){var i=Math.min(e.length,n.length),c=Math.abs(e.length-n.length),d=0,p;for(p=0;p<i;p++)Ka(e[p])!==Ka(n[p])&&d++;return d+c}function vke(e,n){Hr(e,0,0,function(){var o=this.utcOffset(),i="+";return o<0&&(o=-o,i="-"),i+TE(~~(o/60),2)+n+TE(~~o%60,2)})}vke("Z",":");vke("ZZ","");fr("Z",Zee);fr("ZZ",Zee);_c(["Z","ZZ"],function(e,n,o){o._useUTC=!0,o._tzm=Qbe(Zee,e)});var sUe=/([\+\-]|\d\d)/gi;function Qbe(e,n){var o=(n||"").match(e),i,c,d;return o===null?null:(i=o[o.length-1]||[],c=(i+"").match(sUe)||["-",0,0],d=+(c[1]*60)+Ka(c[2]),d===0?0:c[0]==="+"?d:-d)}function e0e(e,n){var o,i;return n._isUTC?(o=n.clone(),i=(DS(e)||gz(e)?e.valueOf():_u(e).valueOf())-o.valueOf(),o._d.setTime(o._d.valueOf()+i),Ps.updateOffset(o,!1),o):_u(e).local()}function yge(e){return-Math.round(e._d.getTimezoneOffset())}Ps.updateOffset=function(){};function rUe(e,n,o){var i=this._offset||0,c;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Qbe(Zee,e),e===null)return this}else Math.abs(e)<16&&!o&&(e=e*60);return!this._isUTC&&n&&(c=yge(this)),this._offset=e,this._isUTC=!0,c!=null&&this.add(c,"m"),i!==e&&(!n||this._changeInProgress?Ske(this,LS(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ps.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:yge(this)}function iUe(e,n){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,n),this):-this.utcOffset()}function aUe(e){return this.utcOffset(0,e)}function lUe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(yge(this),"m")),this}function cUe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Qbe(OHe,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function uUe(e){return this.isValid()?(e=e?_u(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function dUe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function hUe(){if(!Iy(this._isDSTShifted))return this._isDSTShifted;var e={},n;return Fbe(e,this),e=pke(e),e._a?(n=e._isUTC?xE(e._a):_u(e._a),this._isDSTShifted=this.isValid()&&oUe(e._a,n.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function fUe(){return this.isValid()?!this._isUTC:!1}function pUe(){return this.isValid()?this._isUTC:!1}function yke(){return this.isValid()?this._isUTC&&this._offset===0:!1}var mUe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,gUe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function LS(e,n){var o=e,i=null,c,d,p;return zX(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:gT(e)||!isNaN(+e)?(o={},n?o[n]=+e:o.milliseconds=+e):(i=mUe.exec(e))?(c=i[1]==="-"?-1:1,o={y:0,d:Ka(i[vE])*c,h:Ka(i[jf])*c,m:Ka(i[AS])*c,s:Ka(i[nT])*c,ms:Ka(vge(i[Yk]*1e3))*c}):(i=gUe.exec(e))?(c=i[1]==="-"?-1:1,o={y:vk(i[2],c),M:vk(i[3],c),w:vk(i[4],c),d:vk(i[5],c),h:vk(i[6],c),m:vk(i[7],c),s:vk(i[8],c)}):o==null?o={}:typeof o=="object"&&("from"in o||"to"in o)&&(p=vUe(_u(o.from),_u(o.to)),o={},o.ms=p.milliseconds,o.M=p.months),d=new Jee(o),zX(e)&&Il(e,"_locale")&&(d._locale=e._locale),zX(e)&&Il(e,"_isValid")&&(d._isValid=e._isValid),d}LS.fn=Jee.prototype;LS.invalid=nUe;function vk(e,n){var o=e&&parseFloat(e.replace(",","."));return(isNaN(o)?0:o)*n}function LCe(e,n){var o={};return o.months=n.month()-e.month()+(n.year()-e.year())*12,e.clone().add(o.months,"M").isAfter(n)&&--o.months,o.milliseconds=+n-+e.clone().add(o.months,"M"),o}function vUe(e,n){var o;return e.isValid()&&n.isValid()?(n=e0e(n,e),e.isBefore(n)?o=LCe(e,n):(o=LCe(n,e),o.milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0}}function bke(e,n){return function(o,i){var c,d;return i!==null&&!isNaN(+i)&&(KRe(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=o,o=i,i=d),c=LS(o,i),Ske(this,c,e),this}}function Ske(e,n,o,i){var c=n._milliseconds,d=vge(n._days),p=vge(n._months);e.isValid()&&(i=i??!0,p&&ske(e,N6(e,"Month")+p*o),d&&tke(e,"Date",N6(e,"Date")+d*o),c&&e._d.setTime(e._d.valueOf()+c*o),i&&Ps.updateOffset(e,d||p))}var yUe=bke(1,"add"),bUe=bke(-1,"subtract");function Cke(e){return typeof e=="string"||e instanceof String}function SUe(e){return DS(e)||gz(e)||Cke(e)||gT(e)||EUe(e)||CUe(e)||e===null||e===void 0}function CUe(e){var n=u2(e)&&!Lbe(e),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c,d,p=i.length;for(c=0;c<p;c+=1)d=i[c],o=o||Il(e,d);return n&&o}function EUe(e){var n=kS(e),o=!1;return n&&(o=e.filter(function(i){return!gT(i)&&Cke(e)}).length===0),n&&o}function wUe(e){var n=u2(e)&&!Lbe(e),o=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],c,d;for(c=0;c<i.length;c+=1)d=i[c],o=o||Il(e,d);return n&&o}function _Ue(e,n){var o=e.diff(n,"days",!0);return o<-6?"sameElse":o<-1?"lastWeek":o<0?"lastDay":o<1?"sameDay":o<2?"nextDay":o<7?"nextWeek":"sameElse"}function TUe(e,n){arguments.length===1&&(arguments[0]?SUe(arguments[0])?(e=arguments[0],n=void 0):wUe(arguments[0])&&(n=arguments[0],e=void 0):(e=void 0,n=void 0));var o=e||_u(),i=e0e(o,this).startOf("day"),c=Ps.calendarFormat(this,i)||"sameElse",d=n&&(OE(n[c])?n[c].call(this,o):n[c]);return this.format(d||this.localeData().calendar(c,this,_u(o)))}function AUe(){return new vz(this)}function xUe(e,n){var o=DS(e)?e:_u(e);return this.isValid()&&o.isValid()?(n=i1(n)||"millisecond",n==="millisecond"?this.valueOf()>o.valueOf():o.valueOf()<this.clone().startOf(n).valueOf()):!1}function OUe(e,n){var o=DS(e)?e:_u(e);return this.isValid()&&o.isValid()?(n=i1(n)||"millisecond",n==="millisecond"?this.valueOf()<o.valueOf():this.clone().endOf(n).valueOf()<o.valueOf()):!1}function IUe(e,n,o,i){var c=DS(e)?e:_u(e),d=DS(n)?n:_u(n);return this.isValid()&&c.isValid()&&d.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(c,o):!this.isBefore(c,o))&&(i[1]===")"?this.isBefore(d,o):!this.isAfter(d,o))):!1}function RUe(e,n){var o=DS(e)?e:_u(e),i;return this.isValid()&&o.isValid()?(n=i1(n)||"millisecond",n==="millisecond"?this.valueOf()===o.valueOf():(i=o.valueOf(),this.clone().startOf(n).valueOf()<=i&&i<=this.clone().endOf(n).valueOf())):!1}function kUe(e,n){return this.isSame(e,n)||this.isAfter(e,n)}function DUe(e,n){return this.isSame(e,n)||this.isBefore(e,n)}function MUe(e,n,o){var i,c,d;if(!this.isValid())return NaN;if(i=e0e(e,this),!i.isValid())return NaN;switch(c=(i.utcOffset()-this.utcOffset())*6e4,n=i1(n),n){case"year":d=jX(this,i)/12;break;case"month":d=jX(this,i);break;case"quarter":d=jX(this,i)/3;break;case"second":d=(this-i)/1e3;break;case"minute":d=(this-i)/6e4;break;case"hour":d=(this-i)/36e5;break;case"day":d=(this-i-c)/864e5;break;case"week":d=(this-i-c)/6048e5;break;default:d=this-i}return o?d:K0(d)}function jX(e,n){if(e.date()<n.date())return-jX(n,e);var o=(n.year()-e.year())*12+(n.month()-e.month()),i=e.clone().add(o,"months"),c,d;return n-i<0?(c=e.clone().add(o-1,"months"),d=(n-i)/(i-c)):(c=e.clone().add(o+1,"months"),d=(n-i)/(c-i)),-(o+d)||0}Ps.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Ps.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function PUe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function NUe(e){if(!this.isValid())return null;var n=e!==!0,o=n?this.clone().utc():this;return o.year()<0||o.year()>9999?UX(o,n?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):OE(Date.prototype.toISOString)?n?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",UX(o,"Z")):UX(o,n?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function LUe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",n="",o,i,c,d;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",n="Z"),o="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",c="-MM-DD[T]HH:mm:ss.SSS",d=n+'[")]',this.format(o+i+c+d)}function BUe(e){e||(e=this.isUtc()?Ps.defaultFormatUtc:Ps.defaultFormat);var n=UX(this,e);return this.localeData().postformat(n)}function FUe(e,n){return this.isValid()&&(DS(e)&&e.isValid()||_u(e).isValid())?LS({to:this,from:e}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function VUe(e){return this.from(_u(),e)}function HUe(e,n){return this.isValid()&&(DS(e)&&e.isValid()||_u(e).isValid())?LS({from:this,to:e}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function $Ue(e){return this.to(_u(),e)}function Eke(e){var n;return e===void 0?this._locale._abbr:(n=ET(e),n!=null&&(this._locale=n),this)}var wke=r1("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function _ke(){return this._locale}var cQ=1e3,v3=60*cQ,uQ=60*v3,Tke=(365*400+97)*24*uQ;function y3(e,n){return(e%n+n)%n}function Ake(e,n,o){return e<100&&e>=0?new Date(e+400,n,o)-Tke:new Date(e,n,o).valueOf()}function xke(e,n,o){return e<100&&e>=0?Date.UTC(e+400,n,o)-Tke:Date.UTC(e,n,o)}function UUe(e){var n,o;if(e=i1(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(o=this._isUTC?xke:Ake,e){case"year":n=o(this.year(),0,1);break;case"quarter":n=o(this.year(),this.month()-this.month()%3,1);break;case"month":n=o(this.year(),this.month(),1);break;case"week":n=o(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=o(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=y3(n+(this._isUTC?0:this.utcOffset()*v3),uQ);break;case"minute":n=this._d.valueOf(),n-=y3(n,v3);break;case"second":n=this._d.valueOf(),n-=y3(n,cQ);break}return this._d.setTime(n),Ps.updateOffset(this,!0),this}function zUe(e){var n,o;if(e=i1(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(o=this._isUTC?xke:Ake,e){case"year":n=o(this.year()+1,0,1)-1;break;case"quarter":n=o(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=o(this.year(),this.month()+1,1)-1;break;case"week":n=o(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=o(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=uQ-y3(n+(this._isUTC?0:this.utcOffset()*v3),uQ)-1;break;case"minute":n=this._d.valueOf(),n+=v3-y3(n,v3)-1;break;case"second":n=this._d.valueOf(),n+=cQ-y3(n,cQ)-1;break}return this._d.setTime(n),Ps.updateOffset(this,!0),this}function jUe(){return this._d.valueOf()-(this._offset||0)*6e4}function WUe(){return Math.floor(this.valueOf()/1e3)}function GUe(){return new Date(this.valueOf())}function qUe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function KUe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function ZUe(){return this.isValid()?this.toISOString():null}function YUe(){return Bbe(this)}function XUe(){return EO({},ua(this))}function JUe(){return ua(this).overflow}function QUe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Hr("N",0,0,"eraAbbr");Hr("NN",0,0,"eraAbbr");Hr("NNN",0,0,"eraAbbr");Hr("NNNN",0,0,"eraName");Hr("NNNNN",0,0,"eraNarrow");Hr("y",["y",1],"yo","eraYear");Hr("y",["yy",2],0,"eraYear");Hr("y",["yyy",3],0,"eraYear");Hr("y",["yyyy",4],0,"eraYear");fr("N",t0e);fr("NN",t0e);fr("NNN",t0e);fr("NNNN",u5e);fr("NNNNN",d5e);_c(["N","NN","NNN","NNNN","NNNNN"],function(e,n,o,i){var c=o._locale.erasParse(e,i,o._strict);c?ua(o).era=c:ua(o).invalidEra=e});fr("y",g4);fr("yy",g4);fr("yyy",g4);fr("yyyy",g4);fr("yo",h5e);_c(["y","yy","yyy","yyyy"],_g);_c(["yo"],function(e,n,o,i){var c;o._locale._eraYearOrdinalRegex&&(c=e.match(o._locale._eraYearOrdinalRegex)),o._locale.eraYearOrdinalParse?n[_g]=o._locale.eraYearOrdinalParse(e,c):n[_g]=parseInt(e,10)});function e5e(e,n){var o,i,c,d=this._eras||ET("en")._eras;for(o=0,i=d.length;o<i;++o){switch(typeof d[o].since){case"string":c=Ps(d[o].since).startOf("day"),d[o].since=c.valueOf();break}switch(typeof d[o].until){case"undefined":d[o].until=1/0;break;case"string":c=Ps(d[o].until).startOf("day").valueOf(),d[o].until=c.valueOf();break}}return d}function t5e(e,n,o){var i,c,d=this.eras(),p,v,S;for(e=e.toUpperCase(),i=0,c=d.length;i<c;++i)if(p=d[i].name.toUpperCase(),v=d[i].abbr.toUpperCase(),S=d[i].narrow.toUpperCase(),o)switch(n){case"N":case"NN":case"NNN":if(v===e)return d[i];break;case"NNNN":if(p===e)return d[i];break;case"NNNNN":if(S===e)return d[i];break}else if([p,v,S].indexOf(e)>=0)return d[i]}function n5e(e,n){var o=e.since<=e.until?1:-1;return n===void 0?Ps(e.since).year():Ps(e.since).year()+(n-e.offset)*o}function o5e(){var e,n,o,i=this.localeData().eras();for(e=0,n=i.length;e<n;++e)if(o=this.clone().startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return i[e].name;return""}function s5e(){var e,n,o,i=this.localeData().eras();for(e=0,n=i.length;e<n;++e)if(o=this.clone().startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return i[e].narrow;return""}function r5e(){var e,n,o,i=this.localeData().eras();for(e=0,n=i.length;e<n;++e)if(o=this.clone().startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return i[e].abbr;return""}function i5e(){var e,n,o,i,c=this.localeData().eras();for(e=0,n=c.length;e<n;++e)if(o=c[e].since<=c[e].until?1:-1,i=this.clone().startOf("day").valueOf(),c[e].since<=i&&i<=c[e].until||c[e].until<=i&&i<=c[e].since)return(this.year()-Ps(c[e].since).year())*o+c[e].offset;return this.year()}function a5e(e){return Il(this,"_erasNameRegex")||n0e.call(this),e?this._erasNameRegex:this._erasRegex}function l5e(e){return Il(this,"_erasAbbrRegex")||n0e.call(this),e?this._erasAbbrRegex:this._erasRegex}function c5e(e){return Il(this,"_erasNarrowRegex")||n0e.call(this),e?this._erasNarrowRegex:this._erasRegex}function t0e(e,n){return n.erasAbbrRegex(e)}function u5e(e,n){return n.erasNameRegex(e)}function d5e(e,n){return n.erasNarrowRegex(e)}function h5e(e,n){return n._eraYearOrdinalRegex||g4}function n0e(){var e=[],n=[],o=[],i=[],c,d,p,v,S,_=this.eras();for(c=0,d=_.length;c<d;++c)p=oT(_[c].name),v=oT(_[c].abbr),S=oT(_[c].narrow),n.push(p),e.push(v),o.push(S),i.push(p),i.push(v),i.push(S);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}Hr(0,["gg",2],0,function(){return this.weekYear()%100});Hr(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Qee(e,n){Hr(0,[e,e.length],0,n)}Qee("gggg","weekYear");Qee("ggggg","weekYear");Qee("GGGG","isoWeekYear");Qee("GGGGG","isoWeekYear");fr("G",Kee);fr("g",Kee);fr("GG",Tu,Kb);fr("gg",Tu,Kb);fr("GGGG",zbe,Ube);fr("gggg",zbe,Ube);fr("GGGGG",qee,Wee);fr("ggggg",qee,Wee);bz(["gggg","ggggg","GGGG","GGGGG"],function(e,n,o,i){n[i.substr(0,2)]=Ka(e)});bz(["gg","GG"],function(e,n,o,i){n[i]=Ps.parseTwoDigitYear(e)});function f5e(e){return Oke.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function p5e(e){return Oke.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function m5e(){return sT(this.year(),1,4)}function g5e(){return sT(this.isoWeekYear(),1,4)}function v5e(){var e=this.localeData()._week;return sT(this.year(),e.dow,e.doy)}function y5e(){var e=this.localeData()._week;return sT(this.weekYear(),e.dow,e.doy)}function Oke(e,n,o,i,c){var d;return e==null?B6(this,i,c).year:(d=sT(e,i,c),n>d&&(n=d),b5e.call(this,e,n,o,i,c))}function b5e(e,n,o,i,c){var d=ake(e,n,o,i,c),p=L6(d.year,0,d.dayOfYear);return this.year(p.getUTCFullYear()),this.month(p.getUTCMonth()),this.date(p.getUTCDate()),this}Hr("Q",0,"Qo","quarter");fr("Q",YRe);_c("Q",function(e,n){n[tT]=(Ka(e)-1)*3});function S5e(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Hr("D",["DD",2],"Do","date");fr("D",Tu,v4);fr("DD",Tu,Kb);fr("Do",function(e,n){return e?n._dayOfMonthOrdinalParse||n._ordinalParse:n._dayOfMonthOrdinalParseLenient});_c(["D","DD"],vE);_c("Do",function(e,n){n[vE]=Ka(e.match(Tu)[0])});var Ike=y4("Date",!0);Hr("DDD",["DDDD",3],"DDDo","dayOfYear");fr("DDD",Gee);fr("DDDD",XRe);_c(["DDD","DDDD"],function(e,n,o){o._dayOfYear=Ka(e)});function C5e(e){var n=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?n:this.add(e-n,"d")}Hr("m",["mm",2],0,"minute");fr("m",Tu,jbe);fr("mm",Tu,Kb);_c(["m","mm"],AS);var E5e=y4("Minutes",!1);Hr("s",["ss",2],0,"second");fr("s",Tu,jbe);fr("ss",Tu,Kb);_c(["s","ss"],nT);var w5e=y4("Seconds",!1);Hr("S",0,0,function(){return~~(this.millisecond()/100)});Hr(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Hr(0,["SSS",3],0,"millisecond");Hr(0,["SSSS",4],0,function(){return this.millisecond()*10});Hr(0,["SSSSS",5],0,function(){return this.millisecond()*100});Hr(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Hr(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Hr(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Hr(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});fr("S",Gee,YRe);fr("SS",Gee,Kb);fr("SSS",Gee,XRe);var wO,Rke;for(wO="SSSS";wO.length<=9;wO+="S")fr(wO,g4);function _5e(e,n){n[Yk]=Ka(("0."+e)*1e3)}for(wO="S";wO.length<=9;wO+="S")_c(wO,_5e);Rke=y4("Milliseconds",!1);Hr("z",0,0,"zoneAbbr");Hr("zz",0,0,"zoneName");function T5e(){return this._isUTC?"UTC":""}function A5e(){return this._isUTC?"Coordinated Universal Time":""}var vs=vz.prototype;vs.add=yUe;vs.calendar=TUe;vs.clone=AUe;vs.diff=MUe;vs.endOf=zUe;vs.format=BUe;vs.from=FUe;vs.fromNow=VUe;vs.to=HUe;vs.toNow=$Ue;vs.get=LHe;vs.invalidAt=JUe;vs.isAfter=xUe;vs.isBefore=OUe;vs.isBetween=IUe;vs.isSame=RUe;vs.isSameOrAfter=kUe;vs.isSameOrBefore=DUe;vs.isValid=YUe;vs.lang=wke;vs.locale=Eke;vs.localeData=_ke;vs.max=Y$e;vs.min=Z$e;vs.parsingFlags=XUe;vs.set=BHe;vs.startOf=UUe;vs.subtract=bUe;vs.toArray=qUe;vs.toObject=KUe;vs.toDate=GUe;vs.toISOString=NUe;vs.inspect=LUe;typeof Symbol<"u"&&Symbol.for!=null&&(vs[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});vs.toJSON=ZUe;vs.toString=PUe;vs.unix=WUe;vs.valueOf=jUe;vs.creationData=QUe;vs.eraName=o5e;vs.eraNarrow=s5e;vs.eraAbbr=r5e;vs.eraYear=i5e;vs.year=eke;vs.isLeapYear=NHe;vs.weekYear=f5e;vs.isoWeekYear=p5e;vs.quarter=vs.quarters=S5e;vs.month=rke;vs.daysInMonth=GHe;vs.week=vs.weeks=e$e;vs.isoWeek=vs.isoWeeks=t$e;vs.weeksInYear=v5e;vs.weeksInWeekYear=y5e;vs.isoWeeksInYear=m5e;vs.isoWeeksInISOWeekYear=g5e;vs.date=Ike;vs.day=vs.days=p$e;vs.weekday=m$e;vs.isoWeekday=g$e;vs.dayOfYear=C5e;vs.hour=vs.hours=w$e;vs.minute=vs.minutes=E5e;vs.second=vs.seconds=w5e;vs.millisecond=vs.milliseconds=Rke;vs.utcOffset=rUe;vs.utc=aUe;vs.local=lUe;vs.parseZone=cUe;vs.hasAlignedHourOffset=uUe;vs.isDST=dUe;vs.isLocal=fUe;vs.isUtcOffset=pUe;vs.isUtc=yke;vs.isUTC=yke;vs.zoneAbbr=T5e;vs.zoneName=A5e;vs.dates=r1("dates accessor is deprecated. Use date instead.",Ike);vs.months=r1("months accessor is deprecated. Use month instead",rke);vs.years=r1("years accessor is deprecated. Use year instead",eke);vs.zone=r1("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",iUe);vs.isDSTShifted=r1("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",hUe);function x5e(e){return _u(e*1e3)}function O5e(){return _u.apply(null,arguments).parseZone()}function kke(e){return e}var Rl=Vbe.prototype;Rl.calendar=fHe;Rl.longDateFormat=vHe;Rl.invalidDate=bHe;Rl.ordinal=EHe;Rl.preparse=kke;Rl.postformat=kke;Rl.relativeTime=_He;Rl.pastFuture=THe;Rl.set=dHe;Rl.eras=e5e;Rl.erasParse=t5e;Rl.erasConvertYear=n5e;Rl.erasAbbrRegex=l5e;Rl.erasNameRegex=a5e;Rl.erasNarrowRegex=c5e;Rl.months=UHe;Rl.monthsShort=zHe;Rl.monthsParse=WHe;Rl.monthsRegex=KHe;Rl.monthsShortRegex=qHe;Rl.week=YHe;Rl.firstDayOfYear=QHe;Rl.firstDayOfWeek=JHe;Rl.weekdays=c$e;Rl.weekdaysMin=d$e;Rl.weekdaysShort=u$e;Rl.weekdaysParse=f$e;Rl.weekdaysRegex=v$e;Rl.weekdaysShortRegex=y$e;Rl.weekdaysMinRegex=b$e;Rl.isPM=C$e;Rl.meridiem=_$e;function dQ(e,n,o,i){var c=ET(),d=xE().set(i,n);return c[o](d,e)}function Dke(e,n,o){if(gT(e)&&(n=e,e=void 0),e=e||"",n!=null)return dQ(e,n,o,"month");var i,c=[];for(i=0;i<12;i++)c[i]=dQ(e,i,o,"month");return c}function o0e(e,n,o,i){typeof e=="boolean"?(gT(n)&&(o=n,n=void 0),n=n||""):(n=e,o=n,e=!1,gT(n)&&(o=n,n=void 0),n=n||"");var c=ET(),d=e?c._week.dow:0,p,v=[];if(o!=null)return dQ(n,(o+d)%7,i,"day");for(p=0;p<7;p++)v[p]=dQ(n,(p+d)%7,i,"day");return v}function I5e(e,n){return Dke(e,n,"months")}function R5e(e,n){return Dke(e,n,"monthsShort")}function k5e(e,n,o){return o0e(e,n,o,"weekdays")}function D5e(e,n,o){return o0e(e,n,o,"weekdaysShort")}function M5e(e,n,o){return o0e(e,n,o,"weekdaysMin")}MO("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var n=e%10,o=Ka(e%100/10)===1?"th":n===1?"st":n===2?"nd":n===3?"rd":"th";return e+o}});Ps.lang=r1("moment.lang is deprecated. Use moment.locale instead.",MO);Ps.langData=r1("moment.langData is deprecated. Use moment.localeData instead.",ET);var L_=Math.abs;function P5e(){var e=this._data;return this._milliseconds=L_(this._milliseconds),this._days=L_(this._days),this._months=L_(this._months),e.milliseconds=L_(e.milliseconds),e.seconds=L_(e.seconds),e.minutes=L_(e.minutes),e.hours=L_(e.hours),e.months=L_(e.months),e.years=L_(e.years),this}function Mke(e,n,o,i){var c=LS(n,o);return e._milliseconds+=i*c._milliseconds,e._days+=i*c._days,e._months+=i*c._months,e._bubble()}function N5e(e,n){return Mke(this,e,n,1)}function L5e(e,n){return Mke(this,e,n,-1)}function BCe(e){return e<0?Math.floor(e):Math.ceil(e)}function B5e(){var e=this._milliseconds,n=this._days,o=this._months,i=this._data,c,d,p,v,S;return e>=0&&n>=0&&o>=0||e<=0&&n<=0&&o<=0||(e+=BCe(bge(o)+n)*864e5,n=0,o=0),i.milliseconds=e%1e3,c=K0(e/1e3),i.seconds=c%60,d=K0(c/60),i.minutes=d%60,p=K0(d/60),i.hours=p%24,n+=K0(p/24),S=K0(Pke(n)),o+=S,n-=BCe(bge(S)),v=K0(o/12),o%=12,i.days=n,i.months=o,i.years=v,this}function Pke(e){return e*4800/146097}function bge(e){return e*146097/4800}function F5e(e){if(!this.isValid())return NaN;var n,o,i=this._milliseconds;if(e=i1(e),e==="month"||e==="quarter"||e==="year")switch(n=this._days+i/864e5,o=this._months+Pke(n),e){case"month":return o;case"quarter":return o/3;case"year":return o/12}else switch(n=this._days+Math.round(bge(this._months)),e){case"week":return n/7+i/6048e5;case"day":return n+i/864e5;case"hour":return n*24+i/36e5;case"minute":return n*1440+i/6e4;case"second":return n*86400+i/1e3;case"millisecond":return Math.floor(n*864e5)+i;default:throw new Error("Unknown unit "+e)}}function wT(e){return function(){return this.as(e)}}var Nke=wT("ms"),V5e=wT("s"),H5e=wT("m"),$5e=wT("h"),U5e=wT("d"),z5e=wT("w"),j5e=wT("M"),W5e=wT("Q"),G5e=wT("y"),q5e=Nke;function K5e(){return LS(this)}function Z5e(e){return e=i1(e),this.isValid()?this[e+"s"]():NaN}function W2(e){return function(){return this.isValid()?this._data[e]:NaN}}var Y5e=W2("milliseconds"),X5e=W2("seconds"),J5e=W2("minutes"),Q5e=W2("hours"),e6e=W2("days"),t6e=W2("months"),n6e=W2("years");function o6e(){return K0(this.days()/7)}var j_=Math.round,e3={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function s6e(e,n,o,i,c){return c.relativeTime(n||1,!!o,e,i)}function r6e(e,n,o,i){var c=LS(e).abs(),d=j_(c.as("s")),p=j_(c.as("m")),v=j_(c.as("h")),S=j_(c.as("d")),_=j_(c.as("M")),x=j_(c.as("w")),P=j_(c.as("y")),B=d<=o.ss&&["s",d]||d<o.s&&["ss",d]||p<=1&&["m"]||p<o.m&&["mm",p]||v<=1&&["h"]||v<o.h&&["hh",v]||S<=1&&["d"]||S<o.d&&["dd",S];return o.w!=null&&(B=B||x<=1&&["w"]||x<o.w&&["ww",x]),B=B||_<=1&&["M"]||_<o.M&&["MM",_]||P<=1&&["y"]||["yy",P],B[2]=n,B[3]=+e>0,B[4]=i,s6e.apply(null,B)}function i6e(e){return e===void 0?j_:typeof e=="function"?(j_=e,!0):!1}function a6e(e,n){return e3[e]===void 0?!1:n===void 0?e3[e]:(e3[e]=n,e==="s"&&(e3.ss=n-1),!0)}function l6e(e,n){if(!this.isValid())return this.localeData().invalidDate();var o=!1,i=e3,c,d;return typeof e=="object"&&(n=e,e=!1),typeof e=="boolean"&&(o=e),typeof n=="object"&&(i=Object.assign({},e3,n),n.s!=null&&n.ss==null&&(i.ss=n.s-1)),c=this.localeData(),d=r6e(this,!o,i,c),o&&(d=c.pastFuture(+this,d)),c.postformat(d)}var Epe=Math.abs;function PL(e){return(e>0)-(e<0)||+e}function ete(){if(!this.isValid())return this.localeData().invalidDate();var e=Epe(this._milliseconds)/1e3,n=Epe(this._days),o=Epe(this._months),i,c,d,p,v=this.asSeconds(),S,_,x,P;return v?(i=K0(e/60),c=K0(i/60),e%=60,i%=60,d=K0(o/12),o%=12,p=e?e.toFixed(3).replace(/\.?0+$/,""):"",S=v<0?"-":"",_=PL(this._months)!==PL(v)?"-":"",x=PL(this._days)!==PL(v)?"-":"",P=PL(this._milliseconds)!==PL(v)?"-":"",S+"P"+(d?_+d+"Y":"")+(o?_+o+"M":"")+(n?x+n+"D":"")+(c||i||e?"T":"")+(c?P+c+"H":"")+(i?P+i+"M":"")+(e?P+p+"S":"")):"P0D"}var fl=Jee.prototype;fl.isValid=tUe;fl.abs=P5e;fl.add=N5e;fl.subtract=L5e;fl.as=F5e;fl.asMilliseconds=Nke;fl.asSeconds=V5e;fl.asMinutes=H5e;fl.asHours=$5e;fl.asDays=U5e;fl.asWeeks=z5e;fl.asMonths=j5e;fl.asQuarters=W5e;fl.asYears=G5e;fl.valueOf=q5e;fl._bubble=B5e;fl.clone=K5e;fl.get=Z5e;fl.milliseconds=Y5e;fl.seconds=X5e;fl.minutes=J5e;fl.hours=Q5e;fl.days=e6e;fl.weeks=o6e;fl.months=t6e;fl.years=n6e;fl.humanize=l6e;fl.toISOString=ete;fl.toString=ete;fl.toJSON=ete;fl.locale=Eke;fl.localeData=_ke;fl.toIsoString=r1("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ete);fl.lang=wke;Hr("X",0,0,"unix");Hr("x",0,0,"valueOf");fr("x",Kee);fr("X",IHe);_c("X",function(e,n,o){o._d=new Date(parseFloat(e)*1e3)});_c("x",function(e,n,o){o._d=new Date(Ka(e))});//! moment.js
Ps.version="2.30.1";cHe(_u);Ps.fn=vs;Ps.min=X$e;Ps.max=J$e;Ps.now=Q$e;Ps.utc=xE;Ps.unix=x5e;Ps.months=I5e;Ps.isDate=gz;Ps.locale=MO;Ps.invalid=jee;Ps.duration=LS;Ps.isMoment=DS;Ps.weekdays=k5e;Ps.parseZone=O5e;Ps.localeData=ET;Ps.isDuration=zX;Ps.monthsShort=R5e;Ps.weekdaysMin=M5e;Ps.defineLocale=Zbe;Ps.updateLocale=O$e;Ps.locales=I$e;Ps.weekdaysShort=D5e;Ps.normalizeUnits=i1;Ps.relativeTimeRounding=i6e;Ps.relativeTimeThreshold=a6e;Ps.calendarFormat=_Ue;Ps.prototype=vs;Ps.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const oJe=Object.freeze(Object.defineProperty({__proto__:null,default:Ps},Symbol.toStringTag,{value:"Module"}));/*! License details at fancyapps.com/license */const Pp=e=>typeof e=="string";/*! License details at fancyapps.com/license */const t3=e=>e&&e!==null&&e instanceof Element&&"nodeType"in e;/*! License details at fancyapps.com/license */const c6e=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;const n=e.scrollHeight>e.clientHeight,o=window.getComputedStyle(e).overflowY,i=o.indexOf("hidden")!==-1,c=o.indexOf("visible")!==-1;return n&&!i&&!c},d2=function(e,n=void 0){return!e||e===document.body||n&&e===n?null:c6e(e)?e:d2(e.parentElement,n)};/*! License details at fancyapps.com/license */const BO=function(e){var n=new DOMParser().parseFromString(e,"text/html").body;if(n.childElementCount>1){for(var o=document.createElement("div");n.firstChild;)o.appendChild(n.firstChild);return o}let i=n.firstChild;return!i||i instanceof HTMLElement?i:((o=document.createElement("div")).appendChild(i),o)};/*! License details at fancyapps.com/license */const sl=function(e=0,n=0,o=0){return Math.max(Math.min(n,o),e)};/*! License details at fancyapps.com/license */const Ag=e=>typeof e=="object"&&e!==null&&e.constructor===Object&&Object.prototype.toString.call(e)==="[object Object]";/*! License details at fancyapps.com/license */function FCe(e){return Ag(e)||Array.isArray(e)}function V6(e,n){const o=Object.keys(e),i=Object.keys(n);return o.length===i.length&&o.every((c=>{const d=e[c],p=n[c];return typeof d=="function"?`${d}`==`${p}`:FCe(d)&&FCe(p)?V6(d,p):d===p}))}/*! License details at fancyapps.com/license */const Lke=function(e){for(const n of hQ)n.getState()===Tv.Running&&n.tick(wpe?e-wpe:0);wpe=e,b3=window.requestAnimationFrame(Lke)};var Tv,rO,n3;(function(e){e[e.Initializing=0]="Initializing",e[e.Running=1]="Running",e[e.Paused=2]="Paused",e[e.Completed=3]="Completed",e[e.Destroyed=4]="Destroyed"})(Tv||(Tv={})),(function(e){e[e.Spring=0]="Spring",e[e.Ease=1]="Ease"})(rO||(rO={})),(function(e){e[e.Loop=0]="Loop",e[e.Reverse=1]="Reverse"})(n3||(n3={}));const hQ=new Set;let b3=null,wpe=0;function FO(){let e=Tv.Initializing,n=rO.Ease,o=0,i=0,c=FO.Easings.Linear,d=500,p=0,v=0,S=0,_=0,x=1/0,P=.01,B=.01,H=!1,U={},z=null,Z={},te={},ce={},se=0,Se=0,Ce=n3.Loop,Te=FO.Easings.Linear;const V=new Map;function ke(ut,...ct){for(const St of V.get(ut)||[])St(...ct)}function et(ut){return i=0,ut?z=setTimeout((()=>{$e()}),ut):$e(),_e}function $e(){e=Tv.Running,ke("start",Z,te)}function Re(){if(e=Tv.Completed,ce={},ke("end",Z),e===Tv.Completed)if(o<se){if(o++,Ce===n3.Reverse){const ut=Object.assign({},U);U=Object.assign({},te),te=ut}et(Se)}else o=0;return _e}const _e={getState:function(){return e},easing:function(ut){return c=ut,n=rO.Ease,ce={},_e},duration:function(ut){return d=ut,_e},spring:function(ut={}){n=rO.Spring;const ct={velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0},{velocity:St,mass:ee,tension:ln,friction:it,restDelta:Ht,restSpeed:Ut,maxSpeed:Xe,clamp:tn}=Object.assign(Object.assign({},ct),ut);return p=St,v=ee,S=ln,_=it,B=Ht,P=Ut,x=Xe,H=tn,ce={},_e},isRunning:function(){return e===Tv.Running},isSpring:function(){return n===rO.Spring},from:function(ut){return Z=Object.assign({},ut),_e},to:function(ut){return te=ut,_e},repeat:function(ut,ct=0,St=n3.Loop,ee){return se=ut,Se=ct,Ce=St,Te=ee||c,_e},on:function(ut,ct){var St,ee;return St=ut,ee=ct,V.set(St,[...V.get(St)||[],ee]),_e},off:function(ut,ct){var St,ee;return St=ut,ee=ct,V.has(St)&&V.set(St,V.get(St).filter((ln=>ln!==ee))),_e},start:function(ut){return V6(Z,te)||(e=Tv.Initializing,U=Object.assign({},Z),hQ.add(this),b3||(b3=window.requestAnimationFrame(Lke)),et(ut)),_e},pause:function(){return z&&(clearTimeout(z),z=null),e===Tv.Running&&(e=Tv.Paused,ke("pause",Z)),_e},end:Re,tick:function(ut){ut>50&&(ut=50),i+=ut;let ct=0,St=!1;if(e!==Tv.Running)return _e;if(n===rO.Ease){ct=sl(0,i/d,1),St=ct===1;const ln=Ce===n3.Reverse?Te:c;for(const it in Z)Z[it]=U[it]+(te[it]-U[it])*ln(ct)}if(n===rO.Spring){const ln=.001*ut;let it=0;for(const Ht in Z){const Ut=te[Ht];let Xe=Z[Ht];if(typeof Ut!="number"||isNaN(Ut)||typeof Xe!="number"||isNaN(Xe))continue;if(Math.abs(Ut-Xe)<=B){Z[Ht]=Ut,ce[Ht]=0;continue}ce[Ht]||(typeof p=="object"&&typeof p[Ht]=="number"?ce[Ht]=p[Ht]:ce[Ht]=typeof p=="number"?p:0);let tn=ce[Ht];tn=sl(-1*Math.abs(x),tn,Math.abs(x));const eo=tn*v*_;tn+=((Xe>Ut?-1:1)*(Math.abs(Ut-Xe)*S)-eo)/v*ln,Xe+=tn*ln;const In=Z[Ht]>Ut?Xe<Ut:Xe>Ut;let mn=Math.abs(tn)<P&&Math.abs(Ut-Xe)<=B;H&&In&&(mn=!0),mn?(Xe=Ut,tn=0):it++,Z[Ht]=Xe,ce[Ht]=tn}St=!it}const ee=Object.assign({},te);return ke("step",Z,U,te,ct),St&&e===Tv.Running&&V6(te,ee)&&(e=Tv.Completed,Re()),_e},getStartValues:function(){return U},getCurrentValues:function(){return Z},getCurrentVelocities:function(){return ce},getEndValues:function(){return te},destroy:function(){e=Tv.Destroyed,z&&(clearTimeout(z),z=null),U=Z=te={},hQ.delete(this)}};return _e}FO.destroy=()=>{for(const e of hQ)e.destroy();b3&&(cancelAnimationFrame(b3),b3=null)},FO.Easings={Linear:function(e){return e},EaseIn:function(e){return e===0?0:Math.pow(2,10*e-10)},EaseOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},EaseInOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};/*! License details at fancyapps.com/license */function a6(e){return typeof TouchEvent<"u"&&e instanceof TouchEvent}function s0e(e,n){const o=[],i=a6(e)?e[n]:e instanceof MouseEvent&&(n==="changedTouches"||e.type!=="mouseup")?[e]:[];for(const c of i)o.push({x:c.clientX,y:c.clientY,ts:Date.now()});return o}function VCe(e){return s0e(e,"touches")}function HCe(e){return s0e(e,"targetTouches")}function Bke(e){return s0e(e,"changedTouches")}function Xx(e){const n=e[0],o=e[1]||n;return{x:(n.x+o.x)/2,y:(n.y+o.y)/2,ts:o.ts}}function JY(e){const n=e[0],o=e[1]||e[0];return n&&o?-1*Math.sqrt((o.x-n.x)*(o.x-n.x)+(o.y-n.y)*(o.y-n.y)):0}const $Ce=e=>{e.cancelable&&e.preventDefault()},Fx={passive:!1},u6e={panThreshold:5,swipeThreshold:3,ignore:["textarea","input","select","[contenteditable]","[data-selectable]","[data-draggable]"]};let QY=!1,U5=!0;const j3=(e,n)=>{let o,i,c,d=Object.assign(Object.assign({},u6e),n),p=[],v=[],S=[],_=!1,x=!1,P=!1,B=!1,H=0,U=0,z=0,Z=0,te=0,ce=0,se=0,Se=0,Ce=0,Te=[],V=0,ke=0;const et=new Map;function $e(Ht){const Ut=JY(v),Xe=JY(S),tn=Ut&&Xe?Ut/Xe:0,eo=Math.abs(se)>Math.abs(Se)?se:Se,In={srcEvent:o,isPanRecognized:_,isSwipeRecognized:x,firstTouch:p,previousTouch:S,currentTouch:v,deltaX:z,deltaY:Z,offsetX:te,offsetY:ce,velocityX:se,velocityY:Se,velocity:eo,angle:Ce,axis:c,scale:tn,center:i};for(const mn of et.get(Ht)||[])mn(In)}function Re(Ht){const Ut=Date.now();if(Te=Te.filter((Xe=>!Xe.ts||Xe.ts>Ut-100)),Ht&&Te.push(Ht),se=0,Se=0,Te.length>3){const Xe=Te[0],tn=Te[Te.length-1];if(Xe&&tn){const eo=tn.x-Xe.x,In=tn.y-Xe.y,mn=Xe.ts&&tn.ts?tn.ts-Xe.ts:0;mn>0&&(se=Math.abs(eo)>3?eo/(mn/30):0,Se=Math.abs(In)>3?In/(mn/30):0)}}}function _e(Ht){if(typeof MouseEvent<"u"&&Ht instanceof MouseEvent){if(QY)return}else QY=!0;const Ut=Ht.composedPath()[0],Xe=d.ignore.join(",");if(Ut.matches(Xe)||Ut.closest(Xe))return;if(typeof MouseEvent<"u"&&Ht instanceof MouseEvent){if(!Ht.buttons||Ht.button!==0)return;$Ce(Ht)}Ht instanceof MouseEvent&&(window.addEventListener("mousemove",ut),window.addEventListener("mouseup",ct)),window.addEventListener("blur",St),o=Ht,v=HCe(Ht),p=[...v],S=[],U=v.length,i=Xx(v),U===1&&(_=!1,x=!1,P=!1),U&&Re(Xx(v));const tn=Date.now(),eo=tn-(H||tn);B=eo>0&&eo<=250&&U===1,H=tn,clearTimeout(V),$e("start")}function ut(Ht){var Ut;if(!p.length||Ht.defaultPrevented)return;o=Ht,S=[...v],v=VCe(Ht);const Xe=Xx(S),tn=Xx(VCe(Ht));if(Re(tn),U=v.length,i=tn,S.length===v.length?(z=tn.x-Xe.x,Z=tn.y-Xe.y):(z=0,Z=0),p.length){const eo=Xx(p);te=tn.x-eo.x,ce=tn.y-eo.y}if(v.length>1){const eo=JY(v),In=JY(S);Math.abs(eo-In)>=.1&&(P=!0,$e("pinch"))}_||(_=Math.abs(te)>d.panThreshold||Math.abs(ce)>d.panThreshold,_&&(U5=!1,clearTimeout(ke),ke=0,Ce=Math.abs(180*Math.atan2(ce,te)/Math.PI),c=Ce>45&&Ce<135?"y":"x",p=[...v],S=[...v],te=0,ce=0,z=0,Z=0,(Ut=window.getSelection())===null||Ut===void 0||Ut.removeAllRanges(),$e("panstart"))),_&&(z||Z)&&$e("pan"),$e("move")}function ct(Ht){if(o=Ht,!p.length)return;const Ut=HCe(Ht),Xe=Bke(Ht);if(U=Ut.length,i=Xx(Xe),Xe.length&&Re(Xx(Xe)),S=[...v],v=[...Ut],p=[...Ut],U>0)$e("end"),_=!1,x=!1,Te=[];else{const tn=d.swipeThreshold;(Math.abs(se)>tn||Math.abs(Se)>tn)&&(x=!0),_&&$e("panend"),x&&$e("swipe"),_||x||P||($e("tap"),B?$e("doubleTap"):V=setTimeout((function(){$e("singleTap")}),250)),$e("end"),ee()}}function St(){clearTimeout(V),ee(),_&&$e("panend"),$e("end")}function ee(){QY=!1,_=!1,x=!1,B=!1,U=0,Te=[],v=[],S=[],p=[],z=0,Z=0,te=0,ce=0,se=0,Se=0,Ce=0,c=void 0,window.removeEventListener("mousemove",ut),window.removeEventListener("mouseup",ct),window.removeEventListener("blur",St),U5||ke||(ke=setTimeout((()=>{U5=!0,ke=0}),100))}function ln(Ht){const Ut=Ht.target;QY=!1,Ut&&!Ht.defaultPrevented&&(U5||($Ce(Ht),Ht.stopPropagation()))}const it={init:function(){return e&&(e.addEventListener("click",ln,Fx),e.addEventListener("mousedown",_e,Fx),e.addEventListener("touchstart",_e,Fx),e.addEventListener("touchmove",ut,Fx),e.addEventListener("touchend",ct),e.addEventListener("touchcancel",ct)),it},on:function(Ht,Ut){return(function(Xe,tn){et.set(Xe,[...et.get(Xe)||[],tn])})(Ht,Ut),it},off:function(Ht,Ut){return et.has(Ht)&&et.set(Ht,et.get(Ht).filter((Xe=>Xe!==Ut))),it},isPointerDown:()=>U>0,destroy:function(){clearTimeout(V),clearTimeout(ke),ke=0,e&&(e.removeEventListener("click",ln,Fx),e.removeEventListener("mousedown",_e,Fx),e.removeEventListener("touchstart",_e,Fx),e.removeEventListener("touchmove",ut,Fx),e.removeEventListener("touchend",ct),e.removeEventListener("touchcancel",ct)),e=null,ee()}};return it};j3.isClickAllowed=()=>U5;/*! License details at fancyapps.com/license */const r0e={IMAGE_ERROR:"This image couldn't be loaded. <br /> Please try again later.",MOVE_UP:"Move up",MOVE_DOWN:"Move down",MOVE_LEFT:"Move left",MOVE_RIGHT:"Move right",ZOOM_IN:"Zoom in",ZOOM_OUT:"Zoom out",TOGGLE_FULL:"Toggle zoom level",TOGGLE_1TO1:"Toggle zoom level",ITERATE_ZOOM:"Toggle zoom level",ROTATE_CCW:"Rotate counterclockwise",ROTATE_CW:"Rotate clockwise",FLIP_X:"Flip horizontally",FLIP_Y:"Flip vertically",RESET:"Reset",TOGGLE_FS:"Toggle fullscreen"};/*! License details at fancyapps.com/license */const ji=(e,n="")=>{e&&e.classList&&n.split(" ").forEach((o=>{o&&e.classList.add(o)}))};/*! License details at fancyapps.com/license */const ky=(e,n="")=>{e&&e.classList&&n.split(" ").forEach((o=>{o&&e.classList.remove(o)}))};/*! License details at fancyapps.com/license */const yg=(e,n="",o)=>{e&&e.classList&&n.split(" ").forEach((i=>{i&&e.classList.toggle(i,o||!1)}))};/*! License details at fancyapps.com/license */const yk=e=>{e.cancelable&&e.preventDefault()},Sv=(e,n=1e4)=>(e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*n)/n),oE=e=>e instanceof HTMLImageElement;var hr,UCe;(function(e){e.Reset="reset",e.Zoom="zoom",e.ZoomIn="zoomIn",e.ZoomOut="zoomOut",e.ZoomTo="zoomTo",e.ToggleCover="toggleCover",e.ToggleFull="toggleFull",e.ToggleMax="toggleMax",e.IterateZoom="iterateZoom",e.Pan="pan",e.Swipe="swipe",e.Move="move",e.MoveLeft="moveLeft",e.MoveRight="moveRight",e.MoveUp="moveUp",e.MoveDown="moveDown",e.RotateCCW="rotateCCW",e.RotateCW="rotateCW",e.FlipX="flipX",e.FlipY="flipY",e.ToggleFS="toggleFS"})(hr||(hr={})),(function(e){e.Cover="cover",e.Full="full",e.Max="max"})(UCe||(UCe={}));const SS={x:0,y:0,scale:1,angle:0,flipX:1,flipY:1},Sge={bounds:!0,classes:{container:"f-panzoom",wrapper:"f-panzoom__wrapper",content:"f-panzoom__content",viewport:"f-panzoom__viewport"},clickAction:hr.ToggleFull,dblClickAction:!1,gestures:{},height:"auto",l10n:r0e,maxScale:4,minScale:1,mouseMoveFactor:1,panMode:"drag",protected:!1,singleClickAction:!1,spinnerTpl:'<div class="f-spinner"></div>',wheelAction:hr.Zoom,width:"auto"};let eX,zCe=0,jCe=0,tX=0;const Cge=(e,n={},o={})=>{let i,c,d,p,v,S,_,x,P=0,B=Object.assign(Object.assign({},Sge),n),H={},U=Object.assign({},SS),z=Object.assign({},SS);const Z=[];function te(Ve){let Ot=B[Ve];return Ot&&typeof Ot=="function"?Ot(Ft):Ot}function ce(){return e&&e.parentElement&&i&&P===3}const se=new Map;function Se(Ve,...Ot){const Nt=[...se.get(Ve)||[]];B.on&&Nt.push(B.on[Ve]);for(const Gt of Nt)Gt&&Gt instanceof Function&&Gt(Ft,...Ot);Ve!=="*"&&Se("*",Ve,...Ot)}function Ce(Ve){if(!ce())return;const Ot=Ve.target;if(d2(Ot))return;const Nt=Date.now(),Gt=[-Ve.deltaX||0,-Ve.deltaY||0,-Ve.detail||0].reduce((function(ro,io){return Math.abs(io)>Math.abs(ro)?io:ro})),Tt=sl(-1,Gt,1);Se("wheel",Ve,Tt);const Et=te("wheelAction");if(!Et||Ve.defaultPrevented)return;const Yn=z.scale;let fo=Yn*(Tt>0?1.5:.5);if(Et===hr.Zoom){const ro=Math.abs(Ve.deltaY)<100&&Math.abs(Ve.deltaX)<100;if(Nt-jCe<(ro?200:45))return void yk(Ve);jCe=Nt;const io=ln(),no=Xe();if(Sv(fo)<Sv(io)&&Sv(Yn)<=Sv(io)?(tX+=Math.abs(Tt),fo=io):Sv(fo)>Sv(no)&&Sv(Yn)>=Sv(no)?(tX+=Math.abs(Tt),fo=no):(tX=0,fo=sl(io,fo,no)),tX>7)return}switch(yk(Ve),Et){case hr.Pan:mn(Et,{srcEvent:Ve,deltaX:2*-Ve.deltaX,deltaY:2*-Ve.deltaY});break;case hr.Zoom:mn(hr.ZoomTo,{srcEvent:Ve,scale:fo,center:{x:Ve.clientX,y:Ve.clientY}});break;default:mn(Et,{srcEvent:Ve})}}function Te(Ve){var Ot,Nt;const Gt=Ve.composedPath()[0];if(!j3.isClickAllowed()||!t3(Gt)||Ve.defaultPrevented||!e?.contains(Gt)||Gt.hasAttribute("disabled")||Gt.hasAttribute("aria-disabled"))return;const Tt=Gt.closest("[data-panzoom-action]"),Et=(Ot=Tt?.dataset)===null||Ot===void 0?void 0:Ot.panzoomAction,Yn=((Nt=Tt?.dataset)===null||Nt===void 0?void 0:Nt.panzoomValue)||"";if(Et){switch(yk(Ve),Et){case hr.ZoomTo:case hr.ZoomIn:case hr.ZoomOut:mn(Et,{scale:parseFloat(Yn||"")||void 0});break;case hr.MoveLeft:case hr.MoveRight:mn(Et,{deltaX:parseFloat(Yn||"")||void 0});break;case hr.MoveUp:case hr.MoveDown:mn(Et,{deltaY:parseFloat(Yn||"")||void 0});break;case hr.ToggleFS:qe();break;default:mn(Et)}return}if(!i?.contains(Gt))return;const fo={srcEvent:Ve};if(mn(te("clickAction"),fo),te("dblClickAction")){const ro=Date.now(),io=ro-(zCe||ro);zCe=ro,io>0&&io<=250?(eX&&(clearTimeout(eX),eX=void 0),mn(te("dblClickAction"),fo)):eX=setTimeout((()=>{mn(te("singleClickAction"),fo)}),250)}}function V(Ve){if(x=Ve,!ce()||!ct()||U.scale<=1||z.scale<=1||(i?.dataset.animationName||"").indexOf("zoom")>-1)return;const Ot=St(z.scale);if(!Ot)return;const{x:Nt,y:Gt}=Ot;mn(hr.Pan,{deltaX:Nt-z.x,deltaY:Gt-z.y})}function ke(){var Ve;e&&(ky(e,"is-loading"),(Ve=e.querySelector(".f-spinner"))===null||Ve===void 0||Ve.remove())}function et(){if(!e||!c)return;if(ke(),oE(c)&&(!c.complete||!c.naturalWidth))return P=2,i?.classList.add("has-error"),void Se("error");Se("loaded");const{width:Ve,height:Ot}=_e();oE(c)&&(c.setAttribute("width",Ve+""),c.setAttribute("height",Ot+"")),i&&(ky(i,"has-error"),oE(c)&&(i.setAttribute("width",Ve+""),i.setAttribute("height",Ot+""),i.style.aspectRatio=`${Ve/Ot||""}`)),S=FO().on("start",((Gt,Tt)=>{Tt.angle!==void 0&&(Tt.angle=90*Math.round(Tt.angle/90)),Tt.flipX!==void 0&&(Tt.flipX=Tt.flipX>0?1:-1),Tt.flipY!==void 0&&(Tt.flipY=Tt.flipY>0?1:-1),z=Object.assign(Object.assign({},SS),Tt),In(),Se("animationStart")})).on("pause",(Gt=>{z=Object.assign(Object.assign({},SS),Gt)})).on("step",(Gt=>{if(!ce())return void(S==null||S.end());if(U=Object.assign(Object.assign({},SS),Gt),ct()||!te("bounds")||xt()||z.scale>U.scale||z.scale<it())return void Dt();const Tt=tn(z.scale);let Et=!1,Yn=!1,fo=!1,ro=!1;U.x<Tt.x[0]&&(Et=!0),U.x>Tt.x[1]&&(Yn=!0),U.y<Tt.y[0]&&(ro=!0),U.y>Tt.y[1]&&(fo=!0);let io=!1,no=!1,_s=!1,Wo=!1;z.x<Tt.x[0]&&(io=!0),z.x>Tt.x[1]&&(no=!0),z.y<Tt.y[0]&&(Wo=!0),z.y>Tt.y[1]&&(_s=!0);let Bs=!1;(Yn&&no||Et&&io)&&(z.x=sl(Tt.x[0],z.x,Tt.x[1]),Bs=!0),(fo&&_s||ro&&Wo)&&(z.y=sl(Tt.y[0],z.y,Tt.y[1]),Bs=!0),Bs&&S&&S.spring({tension:94,friction:17,maxSpeed:555*z.scale,restDelta:.1,restSpeed:.1,velocity:S.getCurrentVelocities()}).from(U).to(z).start(),Dt()})).on("end",(()=>{v?.isPointerDown()||eo(),S?.isRunning()||(In(),Se("animationEnd"))})),(function(){const Gt=te("gestures");if(!Gt||!p||!c)return;let Tt=!1;v=j3(p,Gt).on("start",(Et=>{if(!te("gestures")||!S||!ce()||ct())return;const Yn=Et.srcEvent;(U.scale>1||Et.currentTouch.length>1)&&(Yn?.stopPropagation(),S.pause(),Tt=!0),Et.currentTouch.length===1&&Se("touchStart")})).on("move",(Et=>{var Yn;Tt&&(z.scale!==1||Et.currentTouch.length>1)&&(yk(Et.srcEvent),(Yn=Et.srcEvent)===null||Yn===void 0||Yn.stopPropagation())})).on("pan",(Et=>{if(!Tt)return;const Yn=Et.srcEvent;(z.scale!==1||Et.currentTouch.length>1)&&(yk(Yn),mn(hr.Pan,Et))})).on("swipe",(Et=>{Tt&&z.scale>1&&mn(hr.Swipe,Et)})).on("tap",(Et=>{Se("click",Et)})).on("singleTap",(Et=>{Se("singleClick",Et)})).on("doubleTap",(Et=>{Se("dblClick",Et)})).on("pinch",(Et=>{Tt&&(Et.scale>it()?mn(hr.ZoomIn,Et):Et.scale<it()?mn(hr.ZoomOut,Et):mn(hr.Pan,Et))})).on("end",(Et=>{Tt&&(Et.currentTouch.length?(Et.srcEvent.stopPropagation(),yk(Et.srcEvent),S?.end()):(Tt=!1,In(),eo(),Se("touchEnd")))})).init()})(),p&&(p.addEventListener("wheel",Ce,{passive:!1}),Z.push((()=>{p?.removeEventListener("wheel",Ce,{passive:!1})}))),e?.addEventListener("click",Te),document?.addEventListener("mousemove",V),Z.push((()=>{e?.removeEventListener("click",Te),document?.removeEventListener("mousemove",V)}));const Nt=$e();U=Object.assign({},Nt),z=Object.assign({},Nt),P=3,Dt(),In(),Se("ready"),requestAnimationFrame((()=>{ke(),p&&(p.style.visibility="")}))}function $e(){const Ve=Object.assign({},te("startPos")||{});let Ot=Ve.scale,Nt=1;Nt=typeof Ot=="string"?ee(Ot):typeof Ot=="number"?Ot:it();const Gt=Object.assign(Object.assign(Object.assign({},SS),Ve),{scale:Nt}),Tt=ct()?St(Nt):void 0;if(Tt){const{x:Et,y:Yn}=Tt;Gt.x=Et,Gt.y=Yn}return Gt}function Re(){const Ve={top:0,left:0,width:0,height:0};if(i){const Ot=i.getBoundingClientRect();z.angle%180==90?(Ve.top=Ot.top+.5*Ot.height-.5*Ot.width,Ve.left=Ot.left+.5*Ot.width-.5*Ot.height,Ve.width=Ot.height,Ve.height=Ot.width):(Ve.top=Ot.top,Ve.left=Ot.left,Ve.width=Ot.width,Ve.height=Ot.height)}return Ve}function _e(){let Ve=te("width"),Ot=te("height");if(c&&Ve==="auto"){const Nt=c.getAttribute("width");Ve=Nt?parseFloat(Nt+""):c.dataset.width!==void 0?parseFloat(c.dataset.width+""):oE(p)?p.naturalWidth:oE(c)?c.naturalWidth:i?.getBoundingClientRect().width||0}else Ve=Pp(Ve)?parseFloat(Ve):Ve;if(c&&Ot==="auto"){const Nt=c.getAttribute("height");Ot=Nt?parseFloat(Nt+""):c.dataset.height!==void 0?parseFloat(c.dataset.height+""):oE(p)?p.naturalHeight:oE(c)?c.naturalHeight:i?.getBoundingClientRect().height||0}else Ot=Pp(Ot)?parseFloat(Ot):Ot;return{width:Ve,height:Ot}}function ut(){const Ve=Re();return{width:Ve.width,height:Ve.height}}function ct(){return te("panMode")==="mousemove"&&matchMedia("(hover: hover)").matches}function St(Ve){const Ot=x||te("event"),Nt=i?.getBoundingClientRect();if(!Ot||!Nt||Ve<=1)return{x:0,y:0};const Gt=(Ot.clientX||0)-Nt.left,Tt=(Ot.clientY||0)-Nt.top,{width:Et,height:Yn}=ut(),fo=tn(Ve);if(Ve>1){const Wo=te("mouseMoveFactor");Wo>1&&(Ve*=Wo)}let ro=Et*Ve,io=Yn*Ve,no=.5*(ro-Et)-Gt/Et*100/100*(ro-Et),_s=.5*(io-Yn)-Tt/Yn*100/100*(io-Yn);return no=sl(fo.x[0],no,fo.x[1]),_s=sl(fo.y[0],_s,fo.y[1]),{x:no,y:_s}}function ee(Ve="base"){if(!e)return 1;const Ot=e.getBoundingClientRect(),Nt=Re(),{width:Gt,height:Tt}=_e(),Et=no=>{if(typeof no=="number")return no;switch(no){case"min":case"base":return 1;case"cover":return Math.max(Ot.height/Nt.height,Ot.width/Nt.width)||1;case"full":case"max":{const _s=z.angle%180==90?Tt:Gt;return _s&&Nt.width?_s/Nt.width:1}}},Yn=te("minScale"),fo=te("maxScale"),ro=Math.min(Et("full"),Et(Yn)),io=typeof fo=="number"?Et("full")*fo:Math.min(Et("full"),Et(fo));switch(Ve){case"min":return ro;case"base":return sl(ro,1,io);case"cover":return Et("cover");case"full":return Math.min(io,Et("full"));case"max":return io}}function ln(){return ee("min")}function it(){return ee("base")}function Ht(){return ee("cover")}function Ut(){return ee("full")}function Xe(){return ee("max")}function tn(Ve){const Ot={x:[0,0],y:[0,0]},Nt=e?.getBoundingClientRect();if(!Nt)return Ot;const Gt=Re(),Tt=Nt.width,Et=Nt.height;let Yn=Gt.width,fo=Gt.height,ro=Ve=Ve===void 0?z.scale:Ve,io=Ve;if(ct()&&Ve>1){const no=te("mouseMoveFactor");no>1&&(Yn*Ve>Tt+.01&&(ro*=no),fo*Ve>Et+.01&&(io*=no))}return Yn*=ro,fo*=io,Ve>1&&(Yn>Tt&&(Ot.x[0]=.5*(Tt-Yn),Ot.x[1]=.5*(Yn-Tt)),Ot.x[0]-=.5*(Gt.left-Nt.left),Ot.x[1]-=.5*(Gt.left-Nt.left),Ot.x[0]-=.5*(Gt.left+Gt.width-Nt.right),Ot.x[1]-=.5*(Gt.left+Gt.width-Nt.right),fo>Et&&(Ot.y[0]=.5*(Et-fo),Ot.y[1]=.5*(fo-Et)),Ot.y[0]-=.5*(Gt.top-Nt.top),Ot.y[1]-=.5*(Gt.top-Nt.top),Ot.y[0]-=.5*(Gt.top+Gt.height-Nt.bottom),Ot.y[1]-=.5*(Gt.top+Gt.height-Nt.bottom)),Ot}function eo(){if(!ce()||!te("bounds")||!S)return;const Ve=ln(),Ot=Xe(),Nt=sl(Ve,z.scale,Ot);if(z.scale<Ve-.01||z.scale>Ot+.01)return void mn(hr.ZoomTo,{scale:Nt});if(S.isRunning()||xt())return;const Gt=tn(Nt);z.x<Gt.x[0]||z.x>Gt.x[1]||z.y<Gt.y[0]||z.y>Gt.y[1]?(z.x=sl(Gt.x[0],z.x,Gt.x[1]),z.y=sl(Gt.y[0],z.y,Gt.y[1]),S.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:S.getCurrentVelocities()}),S.from(U).to(z).start()):Dt()}function In(Ve){var Ot;if(!ce())return;const Nt=Zn(),Gt=xt(),Tt=cn(),Et=vn(),Yn=ye(),fo=ms();yg(i,"is-fullsize",Et),yg(i,"is-expanded",Tt),yg(i,"is-dragging",Gt),yg(i,"can-drag",Nt),yg(i,"will-zoom-in",Yn),yg(i,"will-zoom-out",fo);const ro=Eo(),io=Oo(),no=Vo(),_s=!ce();for(const Wo of((Ot=Ve||e)===null||Ot===void 0?void 0:Ot.querySelectorAll("[data-panzoom-action]"))||[]){const Bs=Wo.dataset.panzoomAction;let Pn=!1;if(_s)Pn=!0;else switch(Bs){case hr.ZoomIn:ro||(Pn=!0);break;case hr.ZoomOut:no||(Pn=!0);break;case hr.ToggleFull:{io||no||(Pn=!0);const xe=Wo.querySelector("g");xe&&(xe.style.display=Et&&!Pn?"none":"");break}case hr.IterateZoom:{ro||no||(Pn=!0);const xe=Wo.querySelector("g");xe&&(xe.style.display=ro||Pn?"":"none");break}case hr.ToggleCover:case hr.ToggleMax:ro||no||(Pn=!0)}Pn?(Wo.setAttribute("aria-disabled",""),Wo.setAttribute("tabindex","-1")):(Wo.removeAttribute("aria-disabled"),Wo.removeAttribute("tabindex"))}}function mn(Ve,Ot){var Nt;if(!(Ve&&e&&c&&S&&ce())||Ve===hr.Swipe&&Math.abs(S.getCurrentVelocities().scale)>.01)return;const Gt=Object.assign({},z);let Tt=Object.assign({},z),Et=tn(ct()?Gt.scale:U.scale);const Yn=S.getCurrentVelocities(),fo=Re(),ro=(((Nt=(Ot=Ot||{}).currentTouch)===null||Nt===void 0?void 0:Nt.length)||0)>1,io=Ot.velocityX||0,no=Ot.velocityY||0;let _s=Ot.center;Ot.srcEvent&&(_s=Xx(Bke(Ot.srcEvent)));let Wo=Ot.deltaX||0,Bs=Ot.deltaY||0;switch(Ve){case hr.MoveRight:Wo=Ot.deltaX||100;break;case hr.MoveLeft:Wo=Ot.deltaX||-100;break;case hr.MoveUp:Bs=Ot.deltaY||-100;break;case hr.MoveDown:Bs=Ot.deltaY||100}let Pn=[];switch(Ve){case hr.Reset:Tt=Object.assign({},SS),Tt.scale=it();break;case hr.Pan:case hr.Move:case hr.MoveLeft:case hr.MoveRight:case hr.MoveUp:case hr.MoveDown:if(xt()){let rt=1,Je=1;Tt.x<=Et.x[0]&&io<=0&&(rt=Math.max(.01,1-Math.abs(1/fo.width*Math.abs(Tt.x-Et.x[0]))),rt*=.2),Tt.x>=Et.x[1]&&io>=0&&(rt=Math.max(.01,1-Math.abs(1/fo.width*Math.abs(Tt.x-Et.x[1]))),rt*=.2),Tt.y<=Et.y[0]&&no<=0&&(Je=Math.max(.01,1-Math.abs(1/fo.height*Math.abs(Tt.y-Et.y[0]))),Je*=.2),Tt.y>=Et.y[1]&&no>=0&&(Je=Math.max(.01,1-Math.abs(1/fo.height*Math.abs(Tt.y-Et.y[1]))),Je*=.2),Tt.x+=Wo*rt,Tt.y+=Bs*Je}else Tt.x=sl(Et.x[0],Tt.x+Wo,Et.x[1]),Tt.y=sl(Et.y[0],Tt.y+Bs,Et.y[1]);break;case hr.Swipe:const xe=(rt=0)=>Math.sign(rt)*Math.pow(Math.abs(rt),1.5);Tt.x+=sl(-1e3,xe(io),1e3),Tt.y+=sl(-1e3,xe(no),1e3),no&&!io&&(Tt.x=sl(Et.x[0],Tt.x,Et.x[1])),!no&&io&&(Tt.y=sl(Et.y[0],Tt.y,Et.y[1])),Yn.x=io,Yn.y=no;break;case hr.ZoomTo:Tt.scale=Ot.scale||1;break;case hr.ZoomIn:Tt.scale=Tt.scale*(Ot.scale||2),ro||(Tt.scale=Math.min(Tt.scale,Xe()));break;case hr.ZoomOut:Tt.scale=Tt.scale*(Ot.scale||.5),ro||(Tt.scale=Math.max(Tt.scale,ln()));break;case hr.ToggleCover:Pn=[it(),Ht()];break;case hr.ToggleFull:Pn=[it(),Ut()];break;case hr.ToggleMax:Pn=[it(),Xe()];break;case hr.IterateZoom:Pn=[it(),Ut(),Xe()];break;case hr.Zoom:const je=Ut();Tt.scale>=je-.05?Tt.scale=it():Tt.scale=Math.min(je,Tt.scale*(Ot.scale||2));break;case hr.RotateCW:Tt.angle+=90;break;case hr.RotateCCW:Tt.angle-=90;break;case hr.FlipX:Tt.flipX*=-1;break;case hr.FlipY:Tt.flipY*=-1}if(U.angle!==void 0&&Math.abs(U.angle)>=360&&(Tt.angle-=360*Math.floor(U.angle/360),U.angle-=360*Math.floor(U.angle/360)),Pn.length){const xe=Pn.findIndex((je=>je>Tt.scale+1e-4));Tt.scale=Pn[xe]||Pn[0]}if(ro&&(Tt.scale=sl(ln()*(ro?.8:1),Tt.scale,Xe()*(ro?1.6:1))),ct()){const xe=St(Tt.scale);if(xe){const{x:je,y:rt}=xe;Tt.x=je,Tt.y=rt}}else if(Math.abs(Tt.scale-Gt.scale)>1e-4){let xe=0,je=0;if(_s)xe=_s.x,je=_s.y;else{const wt=e.getBoundingClientRect();xe=wt.x+.5*wt.width,je=wt.y+.5*wt.height}let rt=xe-fo.left,Je=je-fo.top;rt-=.5*fo.width,Je-=.5*fo.height;const Pt=(rt-Gt.x)/Gt.scale,kt=(Je-Gt.y)/Gt.scale;Tt.x=rt-Pt*Tt.scale,Tt.y=Je-kt*Tt.scale,!ro&&te("bounds")&&(Et=tn(Tt.scale),Tt.x=sl(Et.x[0],Tt.x,Et.x[1]),Tt.y=sl(Et.y[0],Tt.y,Et.y[1]))}if(Ve===hr.Swipe){let xe=94,je=17,rt=500*Tt.scale,Je=Yn;S.spring({tension:xe,friction:je,maxSpeed:rt,restDelta:.1,restSpeed:.1,velocity:Je})}else Ve===hr.Pan||ro?S.spring({tension:900,friction:17,restDelta:.01,restSpeed:.01,maxSpeed:1}):S.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:Yn});if(Ot.velocity===0||V6(U,Tt))U=Object.assign({},Tt),z=Object.assign({},Tt),S.end(),Dt(),In();else{if(V6(z,Tt))return;S.from(U).to(Tt).start()}Se("action",Ve)}function Dt(){if(!c||!i||!p)return;const{width:Ve,height:Ot}=_e();Object.assign(i.style,{maxWidth:`min(${Ve}px, 100%)`,maxHeight:`min(${Ot}px, 100%)`});const Nt=(function(){const{width:Wo,height:Bs}=_e(),{width:Pn,height:xe}=ut();if(!e)return{x:0,y:0,width:0,height:0,scale:0,flipX:0,flipY:0,angle:0,fitWidth:Pn,fitHeight:xe,fullWidth:Wo,fullHeight:Bs};let{x:je,y:rt,scale:Je,angle:Pt,flipX:kt,flipY:wt}=U,Zt=1/Ut(),en=Wo,jn=Bs,sn=U.scale*Zt,Wt=z.scale*Zt;const _o=Math.max(Pn,xe),$o=Math.min(Pn,xe);Wo>Bs?(en=_o,jn=$o):(en=$o,jn=_o),sn=Wo>Bs?_o*Je/Wo||1:_o*Je/Bs||1;let Cs=en?Wo*Wt:0,Hs=jn?Bs*Wt:0,or=en&&jn?Wo*sn/Cs:0;return je=je+.5*en-.5*Cs,rt=rt+.5*jn-.5*Hs,{x:je,y:rt,width:Cs,height:Hs,scale:or,flipX:kt,flipY:wt,angle:Pt,fitWidth:Pn,fitHeight:xe,fullWidth:Wo,fullHeight:Bs}})(),{x:Gt,y:Tt,width:Et,height:Yn,scale:fo,angle:ro,flipX:io,flipY:no}=Nt;let _s=`translate(${Sv(Gt)}px, ${Sv(Tt)}px)`;_s+=io!==1||no!==1?` scaleX(${Sv(fo*io)}) scaleY(${Sv(fo*no)})`:` scale(${Sv(fo)})`,ro!==0&&(_s+=` rotate(${ro}deg)`),p.style.width=`${Sv(Et)}px`,p.style.height=`${Sv(Yn)}px`,p.style.transform=`${_s}`,Se("render")}function un(){let Ve=z.scale;const Ot=te("clickAction");let Nt=it();if(Ot){let Gt=[];switch(Ot){case hr.ZoomIn:Nt=2*Ve;break;case hr.ZoomOut:Nt=.5*Ve;break;case hr.ToggleCover:Gt=[it(),Ht()];break;case hr.ToggleFull:Gt=[it(),Ut()];break;case hr.ToggleMax:Gt=[it(),Xe()];break;case hr.IterateZoom:Gt=[it(),Ut(),Xe()];break;case hr.Zoom:const Tt=Ut();Nt=Ve>=Tt-.05?it():Math.min(Tt,2*Ve)}if(Gt.length){const Tt=Gt.findIndex((Et=>Et>Ve+1e-4));Nt=Gt[Tt]||it()}}return Nt=sl(ln(),Nt,Xe()),Nt}function ye(){return!!(ce()&&un()>z.scale)}function ms(){return!!(ce()&&un()<z.scale)}function Vo(){return!!(ce()&&z.scale>ln())}function Eo(){return!!(ce()&&z.scale<Xe())}function Oo(){return!!(ce()&&z.scale<Ut())}function Zn(){return!(!(ce()&&cn()&&v)||ct())}function xt(){return!(!ce()||!v?.isPointerDown()||ct())}function cn(){return!!(ce()&&z.scale>it())}function vn(){return!!(ce()&&z.scale>=Ut())}function qe(){const Ve="in-fullscreen",Ot="with-panzoom-in-fullscreen";e?.classList.toggle(Ve);const Nt=e?.classList.contains(Ve);Nt?(document.documentElement.classList.add(Ot),document.addEventListener("keydown",pt,!0)):(document.documentElement.classList.remove(Ot),document.removeEventListener("keydown",pt,!0)),Dt(),Se(Nt?"enterFS":"exitFS")}function pt(Ve){Ve.key!=="Escape"||Ve.defaultPrevented||qe()}const Ft={canDrag:Zn,canZoomIn:Eo,canZoomOut:Vo,canZoomToFull:Oo,destroy:function(){Se("destroy");for(const Ve of Object.values(H))Ve?.destroy(Ft);for(const Ve of Z)Ve();return i&&(i.style.aspectRatio="",i.style.maxWidth="",i.style.maxHeight=""),p&&(p.style.width="",p.style.height="",p.style.transform=""),i=void 0,c=void 0,p=void 0,U=Object.assign({},SS),z=Object.assign({},SS),S?.destroy(),S=void 0,v?.destroy(),v=void 0,P=4,Ft},emit:Se,execute:mn,getBoundaries:tn,getContainer:function(){return e},getContent:function(){return c},getFullDim:_e,getGestures:function(){return v},getMousemovePos:St,getOptions:function(){return B},getPlugins:function(){return H},getScale:ee,getStartPosition:$e,getState:function(){return P},getTransform:function(Ve){return Ve===!0?z:U},getTween:function(){return S},getViewport:function(){return p},getWrapper:function(){return i},init:function(){return P=0,Se("init"),(function(){for(const[Ve,Ot]of Object.entries(Object.assign(Object.assign({},o),B.plugins||{})))if(Ve&&!H[Ve]&&Ot instanceof Function){const Nt=Ot();Nt.init(Ft),H[Ve]=Nt}Se("initPlugins")})(),(function(){const Ve=Object.assign(Object.assign({},Sge.classes),te("classes"));if(e&&(ji(e,Ve.container),c=e.querySelector("."+Ve.content),!!c)){if(c.setAttribute("draggable","false"),i=e.querySelector("."+Ve.wrapper),i||(i=document.createElement("div"),ji(i,Ve.wrapper),c.insertAdjacentElement("beforebegin",i),i.insertAdjacentElement("afterbegin",c)),p=e.querySelector("."+Ve.viewport),p||(p=document.createElement("div"),ji(p,Ve.viewport),p.insertAdjacentElement("afterbegin",c),i.insertAdjacentElement("beforeend",p)),d=c.cloneNode(!0),d.removeAttribute("id"),i.insertAdjacentElement("afterbegin",d),c instanceof HTMLPictureElement&&(c=c.querySelector("img")),d instanceof HTMLPictureElement&&(d=d.querySelector("img")),p instanceof HTMLPictureElement&&(p=p.querySelector("img")),p&&(p.style.visibility="hidden",te("protected"))){p.addEventListener("contextmenu",(Nt=>{yk(Nt)}));const Ot=document.createElement("div");ji(Ot,"f-panzoom__protected"),p.appendChild(Ot)}Se("initLayout")}})(),(function(){if(e&&i&&!_){let Ve=null;_=new ResizeObserver((()=>{ce()&&(Ve=Ve||requestAnimationFrame((()=>{ce()&&(In(),eo(),Se("refresh")),Ve=null})))})),_.observe(i),Z.push((()=>{_?.disconnect(),_=void 0,Ve&&(cancelAnimationFrame(Ve),Ve=null)}))}})(),(function(){if(!e||!c)return;if(!oE(c)||!oE(d))return void et();const Ve=()=>{c&&oE(c)&&c.decode().then((()=>{et()})).catch((()=>{et()}))};if(P=1,e.classList.add("is-loading"),Se("loading"),d.src&&d.complete)return void Ve();(function(){if(!e||e?.querySelector(".f-spinner"))return;const Ot=te("spinnerTpl"),Nt=BO(Ot);Nt&&(Nt.classList.add("f-spinner"),e.classList.add("is-loading"),i?.insertAdjacentElement("afterbegin",Nt))})(),d.addEventListener("load",Ve,!1),d.addEventListener("error",Ve,!1),Z.push((()=>{d?.removeEventListener("load",Ve,!1),d?.removeEventListener("error",Ve,!1)}))})(),Ft},isDragging:xt,isExpanded:cn,isFullsize:vn,isMousemoveMode:ct,localize:function(Ve,Ot=[]){const Nt=te("l10n")||{};Ve=String(Ve).replace(/\{\{(\w+)\}\}/g,((Gt,Tt)=>Nt[Tt]||Gt));for(let Gt=0;Gt<Ot.length;Gt++)Ve=Ve.split(Ot[Gt][0]).join(Ot[Gt][1]);return Ve=Ve.replace(/\{\{(.*?)\}\}/g,((Gt,Tt)=>Tt))},off:function(Ve,Ot){for(const Nt of Ve instanceof Array?Ve:[Ve])se.has(Nt)&&se.set(Nt,se.get(Nt).filter((Gt=>Gt!==Ot)));return Ft},on:function(Ve,Ot){for(const Nt of Ve instanceof Array?Ve:[Ve])se.set(Nt,[...se.get(Nt)||[],Ot]);return Ft},toggleFS:qe,updateControls:In,version:"6.1.0",willZoomIn:ye,willZoomOut:ms};return Ft};Cge.l10n={en_EN:r0e},Cge.getDefaults=()=>Sge;/*! License details at fancyapps.com/license */const _pe=(e,n)=>{let o=[];return e.childNodes.forEach((i=>{i.nodeType!==Node.ELEMENT_NODE||n&&!i.matches(n)||o.push(i)})),o};/*! License details at fancyapps.com/license */const Dy=(e,...n)=>{const o=n.length;for(let i=0;i<o;i++){const c=n[i]||{};Object.entries(c).forEach((([d,p])=>{const v=Array.isArray(p)?[]:{};e[d]||Object.assign(e,{[d]:v}),Ag(p)?Object.assign(e[d],Dy(e[d],p)):Array.isArray(p)?Object.assign(e,{[d]:[...p]}):Object.assign(e,{[d]:p})}))}return e};/*! License details at fancyapps.com/license */const fQ=function(e=0,n=0,o=0,i=0,c=0,d=!1){const p=(e-n)/(o-n)*(c-i)+i;return d?i<c?sl(i,p,c):sl(c,p,i):p};/*! License details at fancyapps.com/license */const i0e=Object.assign(Object.assign({},r0e),{ERROR:"Something went wrong. <br /> Please try again later.",NEXT:"Next page",PREV:"Previous page",GOTO:"Go to page #%d",DOWNLOAD:"Download",TOGGLE_FULLSCREEN:"Toggle full-screen mode",TOGGLE_EXPAND:"Toggle full-size mode",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_AUTOPLAY:"Toggle slideshow"});/*! License details at fancyapps.com/license */const bk=e=>{e.cancelable&&e.preventDefault()},XL={adaptiveHeight:!1,center:!0,classes:{container:"f-carousel",isEnabled:"is-enabled",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",hasAdaptiveHeight:"has-adaptive-height",viewport:"f-carousel__viewport",slide:"f-carousel__slide",isSelected:"is-selected"},dragFree:!1,enabled:!0,errorTpl:'<div class="f-html">{{ERROR}}</div>',fill:!1,infinite:!0,initialPage:0,l10n:i0e,rtl:!1,slides:[],slidesPerPage:"auto",spinnerTpl:'<div class="f-spinner"></div>',transition:"fade",tween:{clamp:!0,mass:1,tension:160,friction:25,restDelta:1,restSpeed:1,velocity:0},vertical:!1};let WCe,GCe=0;const pQ=(e,n={},o={})=>{GCe++;let i,c,d,p,v,S=0,_=Object.assign({},XL),x=Object.assign({},XL),P={},B=null,H=null,U=!1,z=!1,Z=!1,te=!1,ce="height",se=0,Se=!0,Ce=0,Te=0,V=0,ke=0,et="*",$e=[],Re=[];const _e=new Set;let ut=[],ct=[],St=0,ee=0,ln=0;function it(xe,...je){let rt=x[xe];return rt&&rt instanceof Function?rt(Pn,...je):rt}function Ht(xe,je=[]){const rt=it("l10n")||{};xe=String(xe).replace(/\{\{(\w+)\}\}/g,((Je,Pt)=>rt[Pt]||Je));for(let Je=0;Je<je.length;Je++)xe=xe.split(je[Je][0]).join(je[Je][1]);return xe=xe.replace(/\{\{(.*?)\}\}/g,((Je,Pt)=>Pt))}const Ut=new Map;function Xe(xe,...je){const rt=[...Ut.get(xe)||[]];x.on&&rt.push(x.on[xe]);for(const Je of rt)Je&&Je instanceof Function&&Je(Pn,...je);xe!=="*"&&Xe("*",xe,...je)}function tn(){var xe,je;const rt=Dy({},XL,_);Dy(rt,XL,_);let Je="";const Pt=_.breakpoints||{};if(Pt)for(const[kt,wt]of Object.entries(Pt))window.matchMedia(kt).matches&&(Je+=kt,Dy(rt,wt));if(v===void 0||Je!==v){if(v=Je,S!==0){let kt=(je=(xe=ct[Ce])===null||xe===void 0?void 0:xe.slides[0])===null||je===void 0?void 0:je.index;kt===void 0&&(kt=x.initialSlide),rt.initialSlide=kt,rt.slides=[];for(const wt of $e)wt.isVirtual&&rt.slides.push(wt)}_s(),x=rt,x.enabled!==!1&&(S=0,Xe("init"),(function(){for(const[kt,wt]of Object.entries(Object.assign(Object.assign({},o),x.plugins||{})))if(kt&&!P[kt]&&wt instanceof Function){const Zt=wt();Zt.init(Pn,pQ),P[kt]=Zt}Xe("initPlugins")})(),(function(){if(!B)return;const kt=it("classes")||{};ji(B,kt.container);const wt=it("style");if(wt&&Ag(wt))for(const[Zt,en]of Object.entries(wt))B.style.setProperty(Zt,en);H=B.querySelector(`.${kt.viewport}`),H||(H=document.createElement("div"),ji(H,kt.viewport),H.append(..._pe(B,`.${kt.slide}`)),B.insertAdjacentElement("afterbegin",H)),B.carousel=Pn,Xe("initLayout")})(),(function(){if(!H)return;const kt=it("classes")||{};$e=[],[..._pe(H,`.${kt.slide}`)].forEach((wt=>{if(wt.parentElement){const Zt=cn(Object.assign({el:wt,isVirtual:!1},wt.dataset||{}));Xe("createSlide",Zt),$e.push(Zt)}})),Ft();for(const wt of $e)Xe("addSlide",wt);xt(it("slides"));for(const wt of $e){const Zt=wt.el;Zt?.parentElement===H&&(ji(Zt,x.classes.slide),ji(Zt,wt.class),fo(wt),Xe("attachSlideEl",wt))}Xe("initSlides")})(),Ve(),S=1,ji(B,(it("classes")||{}).isEnabled||""),no(),un(),c=FO().on("start",(()=>{i&&i.isPointerDown()||(Dt(),no())})).on("step",(kt=>{const wt=se;se=kt.pos,se!==wt&&(Se=!1,no())})).on("end",(kt=>{i?.isPointerDown()||(se=kt.pos,c&&!z&&(se<V||se>ke)?c.spring({clamp:!0,mass:1,tension:200,friction:25,velocity:0,restDelta:1,restSpeed:1}).from({pos:se}).to({pos:sl(V,se,ke)}).start():Se||(Se=!0,Xe("settle")))})),In(),(function(){if(B&&H&&(B.addEventListener("click",Tt,{passive:!1}),document.addEventListener("mousemove",eo),!d)){let kt=!0,wt=null;d=new ResizeObserver((()=>{kt?kt=!1:wt||(wt=requestAnimationFrame((()=>{(function(){if(S!==1||!H)return;const Zt=ct.length;Ve(),In();const en=H.getBoundingClientRect(),jn=en.height,sn=en.width;Zt>1&&(te&&Math.abs(jn-St)<.5||!te&&Math.abs(sn-ee)<.5)||(St=jn,ee=sn,te&&!jn||!te&&!sn||B&&H&&(Zt===ct.length&&i?.isPointerDown()||(it("dragFree")&&(z||se>V&&se<ke)?(Dt(),no()):ro(Ce,{transition:!1}))))})(),wt=null})))})),d.observe(H)}})(),Xe("ready"))}}function eo(xe){WCe=xe}function In(){if(!H)return;const xe=it("gestures");xe!==!1?i||(i=j3(H,xe).on("start",(je=>{var rt,Je;if(!c)return;const{srcEvent:Pt}=je;te&&a6(Pt)&&!d2(Pt.target)&&bk(Pt),c.pause(),c.getCurrentVelocities().pos=0;const kt=(rt=ct[Ce])===null||rt===void 0?void 0:rt.slides[0];kt&&_e.has(kt.index)&&kt.el&&(se=kt.offset||0,se+=((function(wt){const Zt=window.getComputedStyle(wt),en=new DOMMatrixReadOnly(Zt.transform);return{width:en.m41||0,height:en.m42||0}})(kt.el)[ce]||0)*(Z&&!te?1:-1)),Nt(),!z&&(se<V||se>ke)&&c.spring({clamp:!0,mass:1,tension:500,friction:25,velocity:((Je=c.getCurrentVelocities())===null||Je===void 0?void 0:Je.pos)||0,restDelta:1,restSpeed:1}).from({pos:se}).to({pos:sl(V,se,ke)}).start()})).on("move",(je=>{var rt,Je;const{srcEvent:Pt,axis:kt}=je,wt=Pt.target;if(kt||(bk(Pt),Pt.stopPropagation(),Pt.stopImmediatePropagation()),(kt==="y"&&te||kt==="x"&&!te)&&(bk(Pt),Pt.stopPropagation()),!kt)return;const{deltaX:Zt,deltaY:en}=je;if(!c||a6(Pt)&&((rt=Pt.touches)===null||rt===void 0?void 0:rt.length)>1||kt==="y"&&!te||kt==="x"&&te||wt&&d2(wt)&&(kt!=="x"||te))return;const jn=Z&&!te?1:-1;let sn=te?en:Zt,Wt=c?.isRunning()?c.getEndValues().pos:se,_o=1;z||(Wt<=V&&sn*jn<0?(_o=Math.max(.01,1-(Math.abs(1/Eo()*Math.abs(Wt-V))||0)),_o*=.2):Wt>=ke&&sn*jn>0&&(_o=Math.max(.01,1-(Math.abs(1/Eo()*Math.abs(Wt-ke))||0)),_o*=.2)),Wt+=sn*_o*jn,c.spring({clamp:!0,mass:1,tension:700,friction:25,velocity:((Je=c.getCurrentVelocities())===null||Je===void 0?void 0:Je.pos)||0,restDelta:1,restSpeed:1}).from({pos:se}).to({pos:Wt}).start()})).on("panstart",(je=>{je?.axis===(te?"y":"x")&&ji(H,"is-dragging")})).on("panend",(()=>{ky(H,"is-dragging")})).on("end",(je=>{var rt,Je;const{srcEvent:Pt,axis:kt,velocityX:wt,velocityY:Zt,currentTouch:en}=je;if(en.length>0||!c)return;const jn=Pt.target,sn=jn&&d2(jn)&&!(kt==="x"&&!te);te&&a6(Pt)&&!je.axis&&Tt(Pt);const Wt=ct.length,_o=it("dragFree");if(!Wt)return;const $o=it("vertical")?Zt:wt;let Cs=c?.isRunning()?c.getEndValues().pos:se;const Hs=Z&&!te?1:-1;if(sn||(Cs+=$o*(_o?5:1)*Hs),!z&&($o*Hs<=0&&Cs<V||$o*Hs>=0&&Cs>ke)){let No=0;return Math.abs($o)>0&&(No=2*Math.abs($o),No=Math.min(.3*Eo(),No)),Cs=sl(V+-1*No,Cs,ke+No),void c.spring({clamp:!0,mass:1,tension:380,friction:25,velocity:-1*$o,restDelta:1,restSpeed:1}).from({pos:se}).to({pos:Cs}).start()}if(_o||!((rt=P.Autoscroll)===null||rt===void 0)&&rt.isEnabled())return void(Math.abs($o)>10?c.spring({clamp:!0,mass:1,tension:150,friction:25,velocity:-1*$o,restDelta:1,restSpeed:1}).from({pos:se}).to({pos:Cs}).start():c.isRunning()||Se||(Se=!0,Xe("settle")));if(!_o&&!(!((Je=P.Autoscroll)===null||Je===void 0)&&Je.isEnabled())&&(!je.offsetX&&!je.offsetY||kt==="y"&&!te||kt==="x"&&te))return void ro(Ce,{transition:"tween"});let or=ms(Cs);Math.abs($o)>10&&or===Ce&&(or+=$o>0?Z&&!te?1:-1:Z&&!te?-1:1),ro(or,{transition:"tween",tween:{velocity:-1*$o}})})).init()):i&&(i.destroy(),i=void 0)}function mn(xe="*"){var je;const rt=[];for(const Je of $e)(xe==="*"||Je.class&&Je.class.includes(xe)||Je.el&&(!((je=Je.el)===null||je===void 0)&&je.classList.contains(xe)))&&rt.push(Je);p=void 0,et=xe,Re=[...rt]}function Dt(){if(!c)return;const xe=ms(c?.isRunning()?c.getEndValues().pos:se);xe!==Ce&&(p=Ce,Ce=xe,fo(),un(),ye(),Xe("change",Ce,p))}function un(){var xe;if(!B)return;yg(H,"is-draggable",!!i&&ct.length>0);for(const Je of B.querySelectorAll("[data-carousel-index]"))Je.innerHTML=Ce+"";for(const Je of B.querySelectorAll("[data-carousel-page]"))Je.innerHTML=Ce+1+"";for(const Je of B.querySelectorAll("[data-carousel-pages]"))Je.innerHTML=ct.length+"";for(const Je of B.querySelectorAll("[data-carousel-go-prev]"))Je.toggleAttribute("aria-disabled",!Wo()),Wo()?Je.removeAttribute("tabindex"):Je.setAttribute("tabindex","-1");for(const Je of B.querySelectorAll("[data-carousel-go-next]"))Je.toggleAttribute("aria-disabled",!Bs()),Bs()?Je.removeAttribute("tabindex"):Je.setAttribute("tabindex","-1");let je=!1;const rt=(xe=ct[Ce])===null||xe===void 0?void 0:xe.slides[0];rt&&(rt.downloadSrc||rt.type==="image"&&rt.src)&&(je=!0);for(const Je of B.querySelectorAll("[data-carousel-download]"))Je.toggleAttribute("aria-disabled",!je)}function ye(xe){var je;xe||(xe=(je=ct[Ce])===null||je===void 0?void 0:je.slides[0]);const rt=xe?.el;if(rt)for(const Je of rt.querySelectorAll("[data-slide-index]"))Je.innerHTML=xe.index+1+""}function ms(xe){var je,rt,Je;if(!ct.length)return 0;const Pt=Oo();let kt=xe;z?kt-=Math.floor((xe-((je=ct[0])===null||je===void 0?void 0:je.pos))/Pt)*Pt||0:kt=sl((rt=ct[0])===null||rt===void 0?void 0:rt.pos,xe,(Je=ct[ct.length-1])===null||Je===void 0?void 0:Je.pos);const wt=new Map;let Zt=0;for(const jn of ct){const sn=Math.abs(jn.pos-kt),Wt=Math.abs(jn.pos-kt-Pt),_o=Math.abs(jn.pos-kt+Pt),$o=Math.min(sn,Wt,_o);wt.set(Zt,$o),Zt++}const en=wt.size>0?[...wt.entries()].reduce(((jn,sn)=>sn[1]<jn[1]?sn:jn)):[Ce,0];return parseInt(en[0])}function Vo(){return ln}function Eo(){let xe=0;return H&&(H.childElementCount||(H.style.display="grid"),xe=H.getBoundingClientRect()[ce]||0,H.style.display=""),xe}function Oo(xe=!0){return Re.reduce(((je,rt)=>je+rt.dim),0)+(Re.length-(z&&xe?0:1))*ln}function Zn(xe){const je=Oo(),rt=Eo();if(!je||!H||!rt)return[];const Je=[];xe=xe===void 0?se:xe,z&&(xe-=Math.floor(xe/je)*je||0);let Pt=0,kt=0;if(U){const Zt=H.getBoundingClientRect();Pt=Math.abs(Zt[te?"top":"left"]),kt=Math.abs(window[te?"innerHeight":"innerWidth"]-Zt[te?"bottom":"right"])}let wt=0;for(let Zt of Re){const en=(jn=0)=>{Je.indexOf(Zt)>-1||(Zt.pos=wt-xe+jn||0,Zt.offset+jn>xe-Zt.dim-Pt+.51&&Zt.offset+jn<xe+rt+kt-.51&&Je.push(Zt))};Zt.offset=wt,z&&(en(je),en(-1*je)),en(),wt+=Zt.dim+ln}return Je}function xt(xe,je){const rt=[];for(const Je of Array.isArray(xe)?xe:[xe]){const Pt=cn(Object.assign(Object.assign({},Je),{isVirtual:!0}));Pt.el||(Pt.el=document.createElement("div")),Xe("createSlide",Pt),rt.push(Pt)}$e.splice(je===void 0?$e.length:je,0,...rt),Ft();for(const Je of rt)Xe("addSlide",Je),vn(Je);return mn(et),rt}function cn(xe){return(Pp(xe)||xe instanceof HTMLElement)&&(xe={html:xe}),Object.assign({index:-1,el:void 0,class:"",isVirtual:!0,dim:0,pos:0,offset:0,html:"",src:""},xe)}function vn(xe){let je=xe.el;if(!xe||!je)return;const rt=xe.html?xe.html instanceof HTMLElement?xe.html:BO(xe.html):void 0;rt&&(ji(rt,"f-html"),xe.htmlEl=rt,ji(je,"has-html"),je.append(rt),Xe("contentReady",xe))}function qe(xe){if(!H||!xe)return;let je=xe.el;if(je){if(je.setAttribute("index",xe.index+""),je.parentElement!==H){let rt;ji(je,x.classes.slide),ji(je,xe.class),fo(xe);for(const Je of $e)if(Je.index>xe.index){rt=Je.el;break}H.insertBefore(je,rt&&H.contains(rt)?rt:null),Xe("attachSlideEl",xe)}return ye(xe),je}}function pt(xe){const je=xe?.el;je&&(je.remove(),Ot(je),Xe("detachSlideEl",xe))}function Ft(){for(let xe=0;xe<$e.length;xe++){const je=$e[xe],rt=je.el;rt&&(je.index!==xe&&Ot(rt),rt.setAttribute("index",`${xe}`)),je.index=xe}}function Ve(){var xe,je,rt,Je,Pt;if(!B||!H)return;Z=it("rtl"),te=it("vertical"),ce=te?"height":"width";const kt=it("classes");if(yg(B,kt.isLTR,!Z),yg(B,kt.isRTL,Z),yg(B,kt.isHorizontal,!te),yg(B,kt.isVertical,te),yg(B,kt.hasAdaptiveHeight,it("adaptiveHeight")),!Eo())return;const wt=window.getComputedStyle(H);U=wt.getPropertyValue("overflow-"+(te?"y":"x"))==="visible",ln=H&&parseFloat(wt.getPropertyValue("--f-carousel-gap"))||0;const Zt=(function(){let en=0;if(H){let jn=document.createElement("div");jn.style.display="block",ji(jn,x.classes.slide),H.appendChild(jn),en=jn.getBoundingClientRect()[ce],jn.remove(),jn=void 0}return en})();for(const en of Re){const jn=en.el;let sn=0;if(!en.isVirtual&&jn&&t3(jn)){let Wt=!1;jn.parentElement&&jn.parentElement===H||(H.appendChild(jn),Wt=!0),sn=jn.getBoundingClientRect()[ce],Wt&&((xe=jn.parentElement)===null||xe===void 0||xe.removeChild(jn))}else sn=Zt;en.dim=sn}if(z=!1,it("infinite")){z=!0;const en=Oo();let jn=Eo();if(U){const sn=H.getBoundingClientRect();jn+=sn.left,jn+=sn.right-sn.width}for(let sn=0;sn<Re.length;sn++){const Wt=((je=Re[sn])===null||je===void 0?void 0:je.dim)+ln;if(en-Wt<jn&&en-Wt-jn<Wt){z=!1;break}}}if((function(){var en;if(!B)return;const jn=Eo(),sn=Oo(!1);let Wt=it("slidesPerPage");Wt=Wt==="auto"?1/0:parseFloat(Wt+""),ct=[];let _o=0,$o=0;for(const es of Re)(!ct.length||_o+es.dim-jn>.05||$o>=Wt)&&(ct.push({index:ct.length,slides:[],dim:0,offset:0,pos:0}),_o=0,$o=0),(en=ct[ct.length-1])===null||en===void 0||en.slides.push(es),_o+=es.dim+ln,$o++;const Cs=it("center"),Hs=it("fill");let or=0;for(const es of ct){es.dim=(es.slides.length-1)*ln;for(const Ma of es.slides)es.dim+=Ma.dim;es.offset=or,es.pos=or,Cs!==!1&&(es.pos-=.5*(jn-es.dim)),Hs&&!z&&sn>jn&&(es.pos=sl(0,es.pos,sn-jn)),or+=es.dim+ln}const No=[];let Xo;for(const es of ct){const Ma=Object.assign({},es);Xo&&Math.abs(Ma.pos-Xo.pos)<.1?(Xo.dim+=Ma.dim,Xo.slides=[...Xo.slides,...Ma.slides]):(Xo=Ma,Ma.index=No.length,No.push(Ma))}ct=No,un()})(),V=((rt=ct[0])===null||rt===void 0?void 0:rt.pos)||0,ke=((Je=ct[ct.length-1])===null||Je===void 0?void 0:Je.pos)||0,S===0)(function(){var en;p=void 0,Ce=it("initialPage");const jn=it("initialSlide")||void 0;jn!==void 0&&(Ce=Pn.getPageIndex(jn)||0),Ce=sl(0,Ce,ct.length-1),se=((en=ct[Ce])===null||en===void 0?void 0:en.pos)||0,Te=se})();else{const en=c?.isRunning()?c.getEndValues().pos:se;(en<V||en>ke)&&(Te=((Pt=ct[Ce||0])===null||Pt===void 0?void 0:Pt.pos)||0,se=sl(V,se,ke))}Xe("refresh")}function Ot(xe){if(!xe||!t3(xe))return;const je=parseInt(xe.getAttribute("index")||"-1");let rt="";for(const Pt of Array.from(xe.classList)){const kt=Pt.match(/^f-(\w+)(Out|In)$/);kt&&kt[1]&&(rt=kt[1]+"")}if(!xe||!rt)return;const Je=[`f-${rt}Out`,`f-${rt}In`,"to-prev","to-next","from-prev","from-next"];xe.removeEventListener("animationend",Gt),ky(xe,Je.join(" ")),_e.delete(je)}function Nt(){if(!H)return;const xe=_e.size>0;for(const je of Re)Ot(je.el);_e.clear(),xe&&no()}function Gt(xe){var je;((je=xe.animationName)===null||je===void 0?void 0:je.substring(0,2))==="f-"&&(Ot(xe.target),_e.size||(ky(B,"in-transition"),!Se&&Math.abs(Pn.getPosition(!0)-Te)<.5&&(Se=!0,Xe("settle"))),no())}function Tt(xe){var je;if(xe.defaultPrevented)return;const rt=xe.composedPath()[0];if(rt.closest("[data-carousel-go-prev]"))return bk(xe),void Pn.prev();if(rt.closest("[data-carousel-go-next]"))return bk(xe),void Pn.next();const Je=rt.closest("[data-carousel-go-to]");if(Je)return bk(xe),void Pn.goTo(parseFloat(Je.dataset.carouselGoTo||"")||0);if(rt.closest("[data-carousel-download]")){bk(xe);const Pt=(je=ct[Ce])===null||je===void 0?void 0:je.slides[0];if(Pt&&(Pt.downloadSrc||Pt.type==="image"&&Pt.src)){const kt=Pt.downloadFilename,wt=document.createElement("a"),Zt=Pt.downloadSrc||Pt.src||"";wt.href=Zt,wt.target="_blank",wt.download=kt||Zt,wt.click()}}else Xe("click",xe)}function Et(xe){var je;const rt=xe.el;rt&&((je=rt.querySelector(".f-spinner"))===null||je===void 0||je.remove())}function Yn(xe){var je;const rt=xe.el;rt&&((je=rt.querySelector(".f-html.is-error"))===null||je===void 0||je.remove(),ky(rt,"has-error"))}function fo(xe){var je;xe||(xe=(je=ct[Ce])===null||je===void 0?void 0:je.slides[0]);const rt=xe?.el;if(!rt)return;let Je=it("formatCaption",xe);Je===void 0&&(Je=xe.caption),Je=Je||"";const Pt=it("captionEl");if(Pt&&Pt instanceof HTMLElement){if(xe.index!==Ce)return;if(Pp(Je)&&(Pt.innerHTML=Ht(Je+"")),Je instanceof HTMLElement){if(Je.parentElement===Pt)return;Pt.innerHTML="",Je.parentElement&&(Je=Je.cloneNode(!0)),Pt.append(Je)}return}if(!Je)return;let kt=xe.captionEl||rt.querySelector(".f-caption");!kt&&Je instanceof HTMLElement&&Je.classList.contains("f-caption")&&(kt=Je),kt||(kt=document.createElement("div"),ji(kt,"f-caption"),Pp(Je)?kt.innerHTML=Ht(Je+""):Je instanceof HTMLElement&&(Je.parentElement&&(Je=Je.cloneNode(!0)),kt.append(Je)));const wt=`f-caption-${GCe}_${xe.index}`;kt.setAttribute("id",wt),kt.dataset.selectable="true",ji(rt,"has-caption"),rt.setAttribute("aria-labelledby",wt),xe.captionEl=kt,rt.insertAdjacentElement("beforeend",kt)}function ro(xe,je={}){var rt,Je;let{transition:Pt,tween:kt}=Object.assign({transition:x.transition,tween:x.tween},je||{});if(!B||!c)return;const wt=ct.length;if(!wt||(function(en,jn){var sn,Wt,_o,$o;if(!(B&&c&&jn&&Pp(jn)&&jn!=="tween")||((sn=ct[Ce])===null||sn===void 0?void 0:sn.slides.length)>1)return!1;const Cs=ct.length;let Hs=en>Ce?1:-1;en=z?(en%Cs+Cs)%Cs:sl(0,en,Cs-1),Z&&(Hs*=-1);const or=(Wt=ct[Ce])===null||Wt===void 0?void 0:Wt.slides[0],No=or?.index,Xo=(_o=ct[en])===null||_o===void 0?void 0:_o.slides[0],es=Xo?.index,Ma=($o=ct[en])===null||$o===void 0?void 0:$o.pos;if(es===void 0||No===void 0||No===es||se===Ma||Math.abs(Eo()-(Xo?.dim||0))>1)return!1;Se=!1,c.pause(),Nt(),ji(B,"in-transition"),se=Te=Ma;const kl=qe(or),oi=qe(Xo);return Dt(),kl&&(_e.add(No),kl.style.transform="",kl.addEventListener("animationend",Gt),ky(kl,x.classes.isSelected),kl.inert=!1,ji(kl,`f-${jn}Out to-${Hs>0?"next":"prev"}`)),oi&&(_e.add(es),oi.style.transform="",oi.addEventListener("animationend",Gt),ji(oi,x.classes.isSelected),oi.inert=!1,ji(oi,`f-${jn}In from-${Hs>0?"prev":"next"}`)),no(),!0})(xe,Pt))return;xe=z?(xe%wt+wt)%wt:sl(0,xe,wt-1),Te=((rt=ct[xe||0])===null||rt===void 0?void 0:rt.pos)||0;const Zt=c.isRunning()?c.getEndValues().pos:se;if(Math.abs(Te-Zt)<1)return se=Te,Ce!==xe&&(fo(),un(),ye(),p=Ce,Ce=xe,Xe("change",Ce,p)),no(),void(Se||(Se=!0,Xe("settle")));if(c.pause(),Nt(),z){const en=Oo(),jn=Math.floor((Zt-((Je=ct[0])===null||Je===void 0?void 0:Je.pos))/en)||0,sn=Te+jn*en;Te=[sn+en,sn,sn-en].reduce((function(Wt,_o){return Math.abs(_o-Zt)<Math.abs(Wt-Zt)?_o:Wt}))}Pt!==!1&&Ag(kt)?c.spring(Dy({},x.tween,kt)).from({pos:se}).to({pos:Te}).start():(se=Te,Dt(),no(),Se||(Se=!0,Xe("settle")))}function io(xe){var je;let rt=se;if(z&&xe!==!0){const Je=Oo();rt-=(Math.floor((se-((je=ct[0])===null||je===void 0?void 0:je.pos)||0)/Je)||0)*Je}return rt}function no(){var xe;if(!B||!H)return;ut=Zn();const je=new Set,rt=[],Je=ct[Ce],Pt=x.setTransform||void 0;let kt;for(const wt of Re){const Zt=_e.has(wt.index),en=ut.indexOf(wt)>-1,jn=((xe=Je?.slides)===null||xe===void 0?void 0:xe.indexOf(wt))>-1;if(wt.isVirtual&&!Zt&&!en)continue;let sn=qe(wt);if(sn&&(rt.push(wt),jn&&je.add(sn),it("adaptiveHeight")&&jn)){const Wt=(sn.firstElementChild||sn).getBoundingClientRect().height;kt=kt==null?Wt:Math.max(kt,Wt)}}H&&kt&&(H.style.height=`${kt}px`),[..._pe(H,`.${x.classes.slide}`)].forEach((wt=>{yg(wt,x.classes.isSelected,je.has(wt));const Zt=$e[parseInt(wt.getAttribute("index")||"-1")];if(!Zt)return wt.remove(),void Ot(wt);const en=_e.has(Zt.index),jn=ut.indexOf(Zt)>-1;if(Zt.isVirtual&&!en&&!jn)return void pt(Zt);wt.inert=!jn;let sn=Zt.pos?Math.round(1e4*Zt.pos)/1e4:0,Wt=0,_o=0,$o=0,Cs=0;en||(Wt=te?0:Z?-1*sn:sn,_o=te?sn:0,$o=fQ(Wt,0,Zt.dim,0,100),Cs=fQ(_o,0,Zt.dim,0,100)),Pt instanceof Function&&!en?Pt(Pn,Zt,{x:Wt,y:_o,xPercent:$o,yPercent:Cs}):wt.style.transform=Wt||_o?`translate3d(${$o}%, ${Cs}%,0)`:""})),Xe("render",rt)}function _s(){var xe;B?.removeEventListener("click",Tt),Nt(),document.removeEventListener("mousemove",eo),d?.disconnect(),d=void 0;for(const je of $e)je.el&&t3(je.el)&&(je.state=void 0,Et(je),Yn(je),pt(je),je.isVirtual?((xe=je.el)===null||xe===void 0||xe.remove(),je.el=void 0):(je.el.style.transform="",H?.appendChild(je.el)));for(const je of Object.values(P))je?.destroy();P={},i?.destroy(),i=void 0,c?.destroy(),c=void 0;for(const[je,rt]of Object.entries(x.classes||{}))je!=="container"&&ky(B,rt);ky(H,"is-draggable")}function Wo(){return z||Ce>0}function Bs(){return z||Ce<ct.length-1}const Pn={add:function(xe,je){var rt,Je;let Pt=se;const kt=Ce,wt=Oo(),Zt=c?.isRunning()?c.getEndValues().pos:se,en=wt&&Math.floor((Zt-(((rt=ct[0])===null||rt===void 0?void 0:rt.pos)||0))/wt)||0;return xt(xe,je),mn(et),Ve(),c&&(kt===Ce&&(Pt-=en*wt),Te=((Je=ct[Ce||0])===null||Je===void 0?void 0:Je.pos)||0,Pt===Te?se=Te:c.spring({clamp:!0,mass:1,tension:300,friction:25,restDelta:1,restSpeed:1}).from({pos:Pt}).to({pos:Te}).start()),no(),Pn},canGoPrev:Wo,canGoNext:Bs,destroy:function(){return Xe("destroy"),window.removeEventListener("resize",tn),_s(),Ut.clear(),B=null,ct=[],$e=[],x=Object.assign({},XL),P={},Re=[],v=void 0,et="*",S=2,Pn},emit:Xe,filter:function(xe="*"){return mn(xe),Ve(),no(),Xe("filter",xe),Pn},getContainer:function(){return B},getGapDim:Vo,getGestures:function(){return i},getLastMouseMove:function(){return WCe},getOption:function(xe){return it(xe)},getOptions:function(){return x},getPage:function(){return ct[Ce]},getPageIndex:function(xe){if(xe!==void 0){for(const je of ct||[])for(const rt of je.slides)if(rt.index===xe)return je.index;return-1}return Ce},getPageIndexFromPosition:ms,getPageProgress:function(xe,je){var rt;xe===void 0&&(xe=Ce);const Je=ct[xe];if(!Je)return xe>Ce?-1:1;const Pt=Oo(),kt=Vo();let wt=Je.pos,Zt=io();if(z&&je!==!0){const en=Math.floor((Zt-((rt=ct[0])===null||rt===void 0?void 0:rt.pos))/Pt)||0;Zt-=en*Pt,wt=[wt+Pt,wt,wt-Pt].reduce((function(jn,sn){return Math.abs(sn-Zt)<Math.abs(jn-Zt)?sn:jn}))}return(Zt-wt)/(Je.dim+kt)||0},getPageVisibility:function(xe){var je;xe===void 0&&(xe=Ce);const rt=ct[xe];if(!rt)return xe>Ce?-1:1;const Je=io(),Pt=Eo();let kt=rt.pos;if(z){const wt=Oo(),Zt=kt+(Math.floor((Je-((je=ct[0])===null||je===void 0?void 0:je.pos))/wt)||0)*wt;kt=[Zt+wt,Zt,Zt-wt].reduce((function(en,jn){return Math.abs(jn-Je)<Math.abs(en-Je)?jn:en}))}return kt>Je&&kt+rt.dim<Je+Pt?1:kt<Je?(kt+rt.dim-Je)/rt.dim||0:kt+rt.dim>Je+Pt&&(Je+Pt-kt)/rt.dim||0},getPages:function(){return ct},getPlugins:function(){return P},getPosition:io,getSlides:function(){return $e},getState:function(){return S},getTotalSlideDim:Oo,getTween:function(){return c},getViewport:function(){return H},getViewportDim:Eo,getVisibleSlides:function(xe){return xe===void 0?ut:Zn(xe)},goTo:ro,hasNavigated:function(){return p!==void 0},hideError:Yn,hideLoading:Et,init:function(){if(!e||!t3(e))throw new Error("No Element found");return S!==0&&(_s(),S=0),B=e,_=n,window.removeEventListener("resize",tn),_.breakpoints&&window.addEventListener("resize",tn),tn(),Pn},isInfinite:function(){return z},isInTransition:function(){return _e.size>0},isRTL:function(){return Z},isSettled:function(){return Se},isVertical:function(){return te},localize:function(xe,je=[]){return Ht(xe,je)},next:function(xe={}){return ro(Ce+1,xe),Pn},off:function(xe,je){for(const rt of xe instanceof Array?xe:[xe])Ut.has(rt)&&Ut.set(rt,Ut.get(rt).filter((Je=>Je!==je)));return Pn},on:function(xe,je){for(const rt of xe instanceof Array?xe:[xe])Ut.set(rt,[...Ut.get(rt)||[],je]);return Pn},prev:function(xe={}){return ro(Ce-1,xe),Pn},reInit:function(xe={},je={}){return _s(),S=0,v=void 0,et="*",n=xe,_=xe,o=je,tn(),Pn},remove:function(xe){xe===void 0&&(xe=$e.length-1);const je=$e[xe];return je&&(Xe("removeSlide",je),je.el&&(Ot(je.el),je.el.remove(),je.el=void 0),$e.splice(xe,1),mn(et),Ve(),Ce=sl(0,Ce,ct.length-1),no()),Pn},setPosition:function(xe){se=xe,Dt(),no()},showError:function(xe,je){Et(xe),Yn(xe);const rt=xe.el;if(rt){const Je=document.createElement("div");ji(Je,"f-html"),ji(Je,"is-error"),Je.innerHTML=Ht(je||"<p>{{ERROR}}</p>"),xe.htmlEl=Je,ji(rt,"has-html"),ji(rt,"has-error"),rt.insertAdjacentElement("afterbegin",Je),Xe("contentReady",xe)}return Pn},showLoading:function(xe){const je=xe.el,rt=je?.querySelector(".f-spinner");if(!je||rt)return Pn;const Je=it("spinnerTpl"),Pt=BO(Je);return Pt&&(ji(Pt,"f-spinner"),je.insertAdjacentElement("beforeend",Pt)),Pn},version:"6.1.0"};return Pn};pQ.l10n={en_EN:i0e},pQ.getDefaults=()=>XL;/*! License details at fancyapps.com/license */const qCe=(e=!0,n="--f-scrollbar-compensate",o="--f-body-margin",i="hide-scrollbar")=>{const c=document,d=c.body,p=c.documentElement;if(e){if(d.classList.contains(i))return;let v=window.innerWidth-p.getBoundingClientRect().width;v<0&&(v=0),p.style.setProperty(n,`${v}px`);const S=parseFloat(window.getComputedStyle(d).marginRight);S&&d.style.setProperty(o,`${S}px`),d.classList.add(i)}else d.classList.remove(i),d.style.setProperty(o,""),c.documentElement.style.setProperty(n,"")};/*! License details at fancyapps.com/license */function Fke(){return!(typeof window>"u"||!window.document||!window.document.createElement)}/*! License details at fancyapps.com/license */const Xk=function(e="",n="",o=""){return e.split(n).join(o)};/*! License details at fancyapps.com/license */const KCe={tpl:e=>`<img class="f-panzoom__content" 
    ${e.srcset?'data-lazy-srcset="{{srcset}}"':""} 
    ${e.sizes?'data-lazy-sizes="{{sizes}}"':""} 
    data-lazy-src="{{src}}" alt="{{alt}}" />`},d6e=()=>{let e;function n(x,P){const B=e?.getOptions().Zoomable;let H=(Ag(B)?Object.assign(Object.assign({},KCe),B):KCe)[x];return H&&typeof H=="function"&&P?H(P):H}function o(){e&&e.getOptions().Zoomable!==!1&&(e.on("addSlide",d),e.on("removeSlide",p),e.on("attachSlideEl",v),e.on("click",c),e.on("change",i),e.on("ready",i))}function i(){S();const x=e?.getVisibleSlides()||[];if(x.length>1||e?.getOption("transition")==="slide")for(const P of x){const B=P.panzoomRef;B&&(e?.getPage().slides||[]).indexOf(P)<0&&B.execute(hr.ZoomTo,Object.assign({},B.getStartPosition()))}}function c(x,P){const B=P.target;B&&!P.defaultPrevented&&B.dataset.panzoomAction&&_(B.dataset.panzoomAction)}function d(x,P){const B=P.el;if(!e||!B||P.panzoomRef)return;const H=P.src||P.lazySrc||"",U=P.alt||P.caption||`Image #${P.index}`,z=P.srcset||P.lazySrcset||"",Z=P.sizes||P.lazySizes||"";if(H&&Pp(H)&&!P.html&&(!P.type||P.type==="image")){P.type="image",P.thumbSrc=P.thumbSrc||H;let Ce=n("tpl",P);Ce=Xk(Ce,"{{src}}",H+""),Ce=Xk(Ce,"{{srcset}}",z+""),Ce=Xk(Ce,"{{sizes}}",Z+""),B.insertAdjacentHTML("afterbegin",Ce)}const te=B.querySelector(".f-panzoom__content");if(!te)return;te.setAttribute("alt",U+"");const ce=P.width&&P.width!=="auto"?parseFloat(P.width+""):"auto",se=P.height&&P.height!=="auto"?parseFloat(P.height+""):"auto",Se=Cge(B,Object.assign({width:ce,height:se,classes:{container:"f-zoomable"},event:()=>e?.getLastMouseMove(),spinnerTpl:()=>e?.getOption("spinnerTpl")||""},n("Panzoom")));Se.on("*",((Ce,Te,...V)=>{e&&(Te==="loading"&&(P.state=0),Te==="loaded"&&(P.state=1),Te==="error"&&(P.state=2,e?.showError(P,"{{IMAGE_ERROR}}")),e.emit(`panzoom:${Te}`,P,...V),Te==="ready"&&e.emit("contentReady",P),P.index===e?.getPageIndex()&&S())})),P.panzoomRef=Se}function p(x,P){P.panzoomRef&&(P.panzoomRef.destroy(),P.panzoomRef=void 0)}function v(x,P){const B=P.panzoomRef;if(B)switch(B.getState()){case 0:B.init();break;case 3:B.execute(hr.ZoomTo,Object.assign(Object.assign({},B.getStartPosition()),{velocity:0}))}}function S(){var x,P;const B=e?.getContainer()||void 0,H=(P=(x=e?.getPage())===null||x===void 0?void 0:x.slides[0])===null||P===void 0?void 0:P.panzoomRef;if(B)if(H)H.updateControls(B);else for(const U of B.querySelectorAll("[data-panzoom-action]")||[])U.setAttribute("aria-disabled",""),U.setAttribute("tabindex","-1")}function _(x,...P){var B;(B=e?.getPage().slides[0].panzoomRef)===null||B===void 0||B.execute(x,...P)}return{init:function(x){e=x,e.on("initPlugins",o)},destroy:function(){if(e){e.off("initPlugins",o),e.off("addSlide",d),e.off("removeSlide",p),e.off("attachSlideEl",v),e.off("click",c),e.off("change",i),e.off("ready",i);for(const x of e.getSlides())p(0,x)}e=void 0},execute:_}};/*! License details at fancyapps.com/license */const ZCe={syncOnChange:!1,syncOnClick:!0,syncOnHover:!1},Vke=()=>{let e,n;function o(){const H=e?.getOptions().Sync;return Ag(H)?Object.assign(Object.assign({},ZCe),H):ZCe}function i(H){var U,z,Z;e&&H&&(n=H,e.getOptions().classes=Object.assign(Object.assign({},e.getOptions().classes),{isSelected:""}),e.getOptions().initialSlide=((z=(U=n.getPage())===null||U===void 0?void 0:U.slides[0])===null||z===void 0?void 0:z.index)||0,o().syncOnChange&&e.on("change",p),o().syncOnClick&&e.on("click",S),o().syncOnHover&&((Z=e.getViewport())===null||Z===void 0||Z.addEventListener("mouseover",_)),(function(){!e||!n||(e.on("ready",d),e.on("refresh",x),n.on("change",v),n.on("filter",P))})())}function c(){const H=o().target;e&&H&&i(H)}function d(){B()}function p(){var H;if(e&&n){const U=((H=e.getPage())===null||H===void 0?void 0:H.slides)||[],z=n.getPageIndex(U[0].index||0);z>-1&&n.goTo(z,e.hasNavigated()?void 0:{tween:!1,transition:!1}),B()}}function v(){var H;if(e&&n){const U=e.getPageIndex(((H=n.getPage())===null||H===void 0?void 0:H.slides[0].index)||0);U>-1&&e.goTo(U,n.hasNavigated()?void 0:{tween:!1,transition:!1}),B()}}function S(H,U){var z;if(!e||!n||!((z=e.getTween())===null||z===void 0)&&z.isRunning())return;const Z=e?.getOptions().classes.slide;if(!Z)return;const te=Z?U.target.closest(`.${Z}`):null;if(te){const ce=parseInt(te.getAttribute("index")||"")||0,se=n.getPageIndex(ce);n.goTo(se)}}function _(H){e&&S(0,H)}function x(){var H;if(e&&n){const U=e.getPageIndex(((H=n.getPage())===null||H===void 0?void 0:H.slides[0].index)||0);U>-1&&e.goTo(U,{tween:!1,transition:!1}),B()}}function P(H,U){e&&n&&(e.filter(U),v())}function B(){var H,U,z;if(!n)return;const Z=((U=(H=n.getPage())===null||H===void 0?void 0:H.slides[0])===null||U===void 0?void 0:U.index)||0;for(const te of e?.getSlides()||[])(z=te.el)===null||z===void 0||z.classList.toggle("is-selected",te.index===Z)}return{init:function(H){e=H,e.on("initSlides",c)},destroy:function(){var H;e?.off("ready",d),e?.off("refresh",x),e?.off("change",p),e?.off("click",S),(H=e?.getViewport())===null||H===void 0||H.removeEventListener("mouseover",_),n?.off("change",v),n?.off("filter",P),n=void 0,e?.off("initSlides",c),e=void 0},getTarget:function(){return n}}};/*! License details at fancyapps.com/license */const YCe={showLoading:!0,preload:1},nX="is-lazyloading",XCe="is-lazyloaded",JCe="has-lazyerror",Hke=()=>{let e;function n(){const c=e?.getOptions().Lazyload;return Ag(c)?Object.assign(Object.assign({},YCe),c):YCe}function o(c){var d;const p=c.el;if(!p)return;const v="[data-lazy-src],[data-lazy-srcset],[data-lazy-bg]",S=Array.from(p.querySelectorAll(v));p.matches(v)&&S.push(p);for(const _ of S){const x=_.dataset.lazySrc,P=_.dataset.lazySrcset,B=_.dataset.lazySizes,H=_.dataset.lazyBg,U=(_ instanceof HTMLImageElement||_ instanceof HTMLSourceElement)&&(x||P),z=_ instanceof HTMLElement&&H;if(!U&&!z)continue;const Z=x||P||H;if(Z){if(U&&Z){const te=(d=_.parentElement)===null||d===void 0?void 0:d.classList.contains("f-panzoom__wrapper");n().showLoading&&e?.showLoading(c),_.addEventListener("load",(()=>{e?.hideLoading(c),ky(_,JCe),_ instanceof HTMLImageElement?_.decode().then((()=>{ky(_,nX),ji(_,XCe)})):(ky(_,nX),ji(_,XCe)),te||e==null||e.emit("lazyLoad:loaded",c,_,Z)})),_.addEventListener("error",(()=>{e?.hideLoading(c),ky(_,nX),ji(_,JCe),te||e==null||e.emit("lazyLoad:error",c,_,Z)})),_.classList.add("f-lazyload"),_.classList.add(nX),te||e==null||e.emit("lazyLoad:load",c,_,Z),x&&(_.src=x),P&&(_.srcset=P),B&&(_.sizes=B)}else z&&(document.body.contains(_)||(document.createElement("img").src=H),_.style.backgroundImage=`url('${H}')`);delete _.dataset.lazySrc,delete _.dataset.lazySrcset,delete _.dataset.lazySizes,delete _.dataset.lazyBg}}}function i(){if(!e)return;const c=[...e.getVisibleSlides()],d=n().preload;if(d>0){const p=e.getPosition(),v=e.getViewportDim();c.push(...e.getVisibleSlides(p+v*d),...e.getVisibleSlides(p-v*d))}for(const p of c)o(p)}return{init:function(c){e=c,e.on("render",i)},destroy:function(){e?.off("render",i),e=void 0}}};/*! License details at fancyapps.com/license */const QCe='tabindex="-1" width="24" height="24" viewBox="0 0 24 24"',eEe={prevTpl:`<svg ${QCe}><path d="M15 3l-9 9 9 9"></path></svg>`,nextTpl:`<svg ${QCe}><path d="M9 3l9 9-9 9"></path></svg>`},h6e=()=>{let e,n,o;function i(){const v=e?.getOptions().Arrows;return Ag(v)?Object.assign(Object.assign({},eEe),v):eEe}function c(v){if(!e)return;const S=`<button data-carousel-go-${v} tabindex="0" class="f-button is-arrow is-${v}" title="{{${v.toUpperCase()}}}">`+i()[`${v}Tpl`]+"</button",_=BO(e.localize(S))||void 0;return _&&ji(_,i()[`${v}Class`]),_}function d(){var v;n?.remove(),n=void 0,o?.remove(),o=void 0,(v=e?.getContainer())===null||v===void 0||v.classList.remove("has-arrows")}function p(){e&&e.getOptions().Arrows!==!1&&e.getPages().length>1?((function(){if(!e)return;const v=e.getViewport();v&&(n||(n=c("prev"),n&&v.insertAdjacentElement("beforebegin",n)),o||(o=c("next"),o&&v.insertAdjacentElement("afterend",o)),yg(e.getContainer(),"has-arrows",!(!n&&!o)))})(),e&&(n?.toggleAttribute("aria-disabled",!e.canGoPrev()),o?.toggleAttribute("aria-disabled",!e.canGoNext()))):d()}return{init:function(v){e=v.on(["change","refresh"],p)},destroy:function(){d(),e?.off(["change","refresh"],p),e=void 0}}};/*! License details at fancyapps.com/license */const $ke='<circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/>',Tpe='<g><line x1="11" y1="8" x2="11" y2="14"></line></g>'+$ke,f6e={moveLeft:["moveLeft","MOVE_LEFT",'<path d="M5 12h14M5 12l6 6M5 12l6-6"/>'],moveRight:["moveRight","MOVE_RIGHT",'<path d="M5 12h14M13 18l6-6M13 6l6 6"/>'],moveUp:["moveUp","MOVE_UP",'<path d="M12 5v14M18 11l-6-6M6 11l6-6"/>'],moveDown:["moveDown","MOVE_DOWN",'<path d="M12 5v14M18 13l-6 6M6 13l6 6"/>'],zoomOut:["zoomOut","ZOOM_OUT",$ke],zoomIn:["zoomIn","ZOOM_IN",Tpe],toggleFull:["toggleFull","TOGGLE_FULL",Tpe],iterateZoom:["iterateZoom","ITERATE_ZOOM",Tpe],toggle1to1:["toggleFull","TOGGLE_FULL",'<path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/>'],rotateCCW:["rotateCCW","ROTATE_CCW",'<path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/>'],rotateCW:["rotateCW","ROTATE_CW",'<path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/>'],flipX:["flipX","FLIP_X",'<path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/>'],flipY:["flipY","FLIP_Y",'<path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/>'],reset:["reset","RESET",'<path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/>'],toggleFS:["toggleFS","TOGGLE_FS",'<g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g>']},a0e={};for(const[e,n]of Object.entries(f6e))a0e[e]={tpl:`<button data-panzoom-action="${n[0]}" class="f-button" title="{{${n[1]}}}"><svg>${n[2]}</svg></button>`};/*! License details at fancyapps.com/license */var tEe;(function(e){e.Left="left",e.middle="middle",e.right="right"})(tEe||(tEe={}));const nEe=Object.assign({counter:{tpl:'<div class="f-counter"><span data-carousel-page></span>/<span data-carousel-pages></span></div>'},download:{tpl:'<button data-carousel-download class="f-button" title="{{DOWNLOAD}}"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></button>'},autoplay:{tpl:'<button data-autoplay-action="toggle" class="f-button" title="{{TOGGLE_AUTOPLAY}}"><svg><g><path d="M5 3.5 19 12 5 20.5Z"/></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},thumbs:{tpl:'<button data-thumbs-action="toggle" class="f-button" title="{{TOGGLE_THUMBS}}"><svg><rect width="18" height="14" x="3" y="3" rx="2"/><path d="M4 21h1M9 21h1M14 21h1M19 21h1"/></svg></button>'}},a0e),oEe={absolute:!1,display:{left:[],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY","reset"],right:[]},enabled:"auto",items:{}},Uke=()=>{let e,n;function o(c){const d=e?.getOptions().Toolbar;let p=(Ag(d)?Object.assign(Object.assign({},oEe),d):oEe)[c];return p&&typeof p=="function"&&e?p(e):p}function i(){var c,d;if(!e?.getOptions().Toolbar||!e||n)return;const p=e.getContainer();if(!p)return;let v=o("enabled");if(!v)return;const S=o("absolute"),_=e.getSlides().length>1;let x=!1,P=!1;for(const te of e.getSlides())te.panzoomRef&&(x=!0),(te.downloadSrc||te.type==="image"&&te.src)&&(P=!0);const B=((c=e.getPlugins().Thumbs)===null||c===void 0?void 0:c.isEnabled())||!1,H=_&&e.getPlugins().Autoplay||!1,U=e.getPlugins().Fullscreen&&(document.fullscreenEnabled||document.webkitFullscreenEnabled);if(v==="auto"&&(v=x),!v)return;n=p.querySelector(".f-carousel__toolbar")||void 0,n||(n=document.createElement("div"),n.classList.add("f-carousel__toolbar"));const z=o("display"),Z=Dy({},nEe,o("items"));for(const te of["left","middle","right"]){const ce=z[te]||[],se=document.createElement("div");se.classList.add("f-carousel__toolbar__column"),se.classList.add(`is-${te}`);for(const Se of ce){let Ce;if(Pp(Se)){if(Se==="counter"&&!_||Se==="autoplay"&&!H||a0e[Se]&&!x||Se==="fullscreen"&&!U||Se==="thumbs"&&!B||Se==="download"&&!P)continue;Ce=Z[Se]}if(Ag(Se)&&(Ce=Se),Ce&&Ce.tpl){let Te=e.localize(Ce.tpl);Te=Te.split("<svg>").join('<svg tabindex="-1" width="24" height="24" viewBox="0 0 24 24">');const V=BO(Te);V&&(typeof Ce.click=="function"&&e&&V.addEventListener("click",(ke=>{ke.preventDefault(),ke.stopPropagation(),typeof Ce.click=="function"&&e&&Ce.click(e,ke)})),se.append(V))}}n.append(se)}if(n.childElementCount){if(S&&n.classList.add("is-absolute"),!n.parentElement){const te=o("parentEl");te?te.insertAdjacentElement("afterbegin",n):(d=e.getViewport())===null||d===void 0||d.insertAdjacentElement("beforebegin",n)}p.contains(n)&&p.classList.add("has-toolbar")}}return{init:function(c){e=c,e?.on("initSlides",i)},destroy:function(){var c;e?.off("initSlides",i),(c=e?.getContainer())===null||c===void 0||c.classList.remove("has-toolbar"),n?.remove(),n=void 0},add:function(c,d){nEe[c]=d},isEnabled:function(){return!!n}}};/*! License details at fancyapps.com/license */const sEe={autoStart:!0,pauseOnHover:!0,showProgressbar:!0,timeout:2e3},p6e=()=>{let e,n,o=!1,i=!1,c=!1,d=null;function p(Ce){const Te=e?.getOptions().Autoplay;let V=(Ag(Te)?Object.assign(Object.assign({},sEe),Te):sEe)[Ce];return V&&typeof V=="function"&&e?V(e):V}function v(){clearTimeout(n),n=void 0}function S(){if(!e||!o||c||i||n||!e.isSettled()||(function(){var Te;const V=((Te=e?.getPage())===null||Te===void 0?void 0:Te.slides)||[];for(const ke of V)if(ke.state===0)return!0;return!1})())return;(function(){var Te,V,ke,et;if(!e||(P(),!p("showProgressbar")))return;let $e=p("progressbarParentEl");if(!$e&&(!((Te=e.getPlugins().Toolbar)===null||Te===void 0)&&Te.isEnabled())&&($e=e.getContainer()),!$e&&((V=e.getPlugins().Toolbar)===null||V===void 0?void 0:V.isEnabled())!==!0){const _e=((ke=e.getPages()[0])===null||ke===void 0?void 0:ke.slides)||[],ut=((et=e.getPage())===null||et===void 0?void 0:et.slides)||[];_e.length===1&&ut.length===1&&($e=ut[0].el)}if($e||($e=e.getViewport()),!$e)return;d=document.createElement("div"),d.classList.add("f-progressbar"),$e.prepend(d);const Re=p("timeout")||1e3;d.style.animationDuration=`${Re}ms`})();const Ce=p("timeout");n=setTimeout((()=>{e&&o&&!i&&(e.isInfinite()||e.getPageIndex()!==e.getPages().length-1?e.next():e.goTo(0))}),Ce)}function _(){var Ce,Te;if(!e||e.getPages().length<2||e.getOptions().Autoplay===!1||o)return;o=!0,e.emit("autoplay:start",p("timeout")),(Ce=e.getContainer())===null||Ce===void 0||Ce.classList.add("has-autoplay"),(Te=e.getTween())===null||Te===void 0||Te.on("start",te);const V=e?.getContainer();V&&p("pauseOnHover")&&matchMedia("(hover: hover)").matches&&(V.addEventListener("mouseenter",ce,!1),V.addEventListener("mouseleave",se,!1)),e.on("change",z),e.on("settle",Z),e.on("contentReady",H),e.on("panzoom:touchStart",x),e.on("panzoom:wheel",x),e.isSettled()&&S()}function x(){var Ce,Te;if(v(),P(),o&&e){e.emit("autoplay:end"),(Ce=e.getContainer())===null||Ce===void 0||Ce.classList.remove("has-autoplay"),(Te=e.getTween())===null||Te===void 0||Te.off("start",te);const V=e?.getContainer();V&&(V.removeEventListener("mouseenter",ce,!1),V.removeEventListener("mouseleave",se,!1))}e&&(e.off("change",z),e.off("settle",Z),e.off("contentReady",H),e.off("panzoom:touchStart",x),e.off("panzoom:wheel",x)),o=!1,i=!1}function P(){d&&(d.remove(),d=null)}function B(){e&&e.getPages().length>1&&p("autoStart")&&_()}function H(){S()}function U(Ce,Te){const V=Te.target;V&&!Te.defaultPrevented&&V.dataset.autoplayAction==="toggle"&&Se.toggle()}function z(){!e||!e?.isInfinite()&&e.getPageIndex()===e.getPages().length-1?x():(P(),v())}function Z(){S()}function te(){v(),P()}function ce(){c=!0,o&&(P(),v())}function se(){c=!1,o&&!i&&e?.isSettled()&&S()}const Se={init:function(Ce){e=Ce,e.on("ready",B),e.on("click",U)},destroy:function(){x(),e?.off("ready",B),e?.off("click",U),e=void 0},isEnabled:()=>o,pause:function(){i=!0,v()},resume:function(){i=!1,o&&!c&&S()},start(){_()},stop(){x()},toggle(){o?x():_()}};return Se};/*! License details at fancyapps.com/license */const Ape={Carousel:{Lazyload:{showLoading:!1}},minCount:2,showOnStart:!0,thumbTpl:'<button aria-label="Slide to #{{page}}"><img draggable="false" alt="{{alt}}" data-lazy-src="{{src}}" /></button>',type:"modern"};let xpe;const m6e=()=>{let e,n,o,i,c=0,d=0,p=!0;function v($e){const Re=e?.getOptions().Thumbs;let _e=(Ag(Re)?Object.assign(Object.assign({},Ape),Re):Ape)[$e];return _e&&typeof _e=="function"&&e?_e(e):_e}function S(){if(!e||e?.getOptions().Thumbs===!1)return!1;let $e=0;for(const Re of e.getSlides())Re.thumbSrc&&$e++;return $e>=v("minCount")}function _(){return v("type")==="modern"}function x(){return v("type")==="scrollable"}function P(){const $e=[],Re=e?.getSlides()||[];for(const _e of Re)$e.push({index:_e.index,html:B(_e)});return $e}function B($e){const Re=$e.thumb?$e.thumb instanceof HTMLImageElement?$e.thumb.src:$e.thumb:$e.thumbSrc||void 0,_e=$e.thumbAlt===void 0?`Thumbnail #${$e.index}`:$e.thumbAlt+"";let ut=v("thumbTpl");return ut=Xk(ut,"{{alt}}",_e),ut=Xk(ut,"{{src}}",Re+""),ut=Xk(ut,"{{index}}",`${$e.index}`),ut=Xk(ut,"{{page}}",`${$e.index||1}`),ut}function H($e=!1){var Re;const _e=e?.getContainer();if(!e||!_e||o||!S())return;const ut=((Re=v("Carousel"))===null||Re===void 0?void 0:Re.classes)||{};if(ut.container=ut.container||"f-thumbs",!o){const ct=_e.nextElementSibling;ct?.classList.contains(ut.container)&&(o=ct)}if(!o){o=document.createElement("div");const ct=v("parentEl");ct?ct.insertAdjacentElement("beforeend",o):_e.insertAdjacentElement("afterend",o)}ji(o,ut.container),ji(o,"f-thumbs"),ji(o,`is-${v("type")}`),$e&&ji(o,"is-hidden")}function U(){if(!o||!x())return;i=document.createElement("div"),ji(i,"f-thumbs__viewport");let $e="";for(const _e of P()){const ut=_e.html||"";typeof ut=="string"&&($e+=`<div index="${_e.index}" class="f-thumbs__slide">${ut}</div>`)}i.innerHTML=$e,o.append(i),o.addEventListener("click",(_e=>{_e.preventDefault();const ut=_e.target.closest("[index]"),ct=parseInt(ut?.getAttribute("index")||"-1");e&&ct>-1&&e.goTo(ct)}));const Re=new IntersectionObserver((_e=>{_e.forEach((ut=>{ut.isIntersecting&&ut.target instanceof HTMLImageElement&&(ut.target.src=ut.target.getAttribute("data-lazy-src")+"",ut.target.removeAttribute("data-lazy-src"),Re.unobserve(ut.target))}))}),{root:i,rootMargin:"100px"});o.querySelectorAll("[data-lazy-src]").forEach((_e=>{Re.observe(_e)})),e?.emit("thumbs:ready")}function z(){var $e;if(!xpe||!e||!o||x()||n)return;const Re=P();if(!Re.length)return;const _e=Dy({},{Sync:{target:e},Lazyload:{preload:1},slides:Re,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",slide:"f-thumbs__slide"},center:!0,fill:!_(),infinite:!1,dragFree:!0,rtl:e.getOptions().rtl||!1,slidesPerPage:ut=>{let ct=0;return _()&&((function(){if(!_()||!o)return;const St=ee=>o&&parseFloat(getComputedStyle(o).getPropertyValue("--f-thumb-"+ee))||0;c=St("width"),d=St("clip-width")})(),ct=4*(c-d)),ut&&ut.getTotalSlideDim()<=ut.getViewportDim()-ct?1/0:1}},Ape.Carousel||{},v("Carousel")||{});n=xpe(o,_e,{Sync:Vke,Lazyload:Hke}),n.on("ready",(()=>{ji(o,"is-syncing"),e?.emit("thumbs:ready"),_()&&e?.on("render",se)})),n.on("destroy",(()=>{e?.emit("thumbs:destroy")})),n.init(),($e=n.getGestures())===null||$e===void 0||$e.on("start",(()=>{p=!1})),n.on("click",((ut,ct)=>{const St=ct.target;if(St){const ee=St.matches("button")?St:St.firstElementChild;ee&&ee.matches("button")&&(ct.preventDefault(),ee.focus({preventScroll:!0}))}})),ji(e.getContainer(),"has-thumbs"),et()}function Z(){S()&&v("showOnStart")&&(H(),U())}function te(){var $e;S()&&(z(),e?.on("addSlide",Ce),e?.on("click",Te),e?.on("refresh",V),($e=e?.getGestures())===null||$e===void 0||$e.on("start",ce),ke())}function ce(){var $e,Re;p=!0,!(($e=document.activeElement)===null||$e===void 0)&&$e.closest(".f-thumbs")&&((Re=document.activeElement)===null||Re===void 0||Re.blur())}function se(){var $e,Re;o?.classList.toggle("is-syncing",e?.hasNavigated()===!1||(($e=e?.getTween())===null||$e===void 0?void 0:$e.isRunning())),et(),!((Re=e?.getGestures())===null||Re===void 0)&&Re.isPointerDown()&&(function(){if(!_()||!e||!n||!p)return;const _e=n.getTween(),ut=n.getPages(),ct=e.getPageIndex()||0,St=e.getPageProgress()||0;if(!(e&&ut&&ut[ct]&&_e))return;const ee=_e.isRunning()?_e.getCurrentValues().pos:n.getPosition();if(ee===void 0)return;let ln=ut[ct].pos+St*(c-d);ln=sl(ut[0].pos,ln,ut[ut.length-1].pos),_e.from({pos:ee}).to({pos:ln}).start()})()}function Se(){p=!0,ke()}function Ce($e,Re){n?.add({html:B(Re)},Re.index)}function Te($e,Re){const _e=Re.target;_e&&!Re.defaultPrevented&&_e.dataset.thumbsAction==="toggle"&&(o||(H(!0),U(),z()),o&&o.classList.toggle("is-hidden"))}function V(){ke()}function ke(){if(!e||!i||!x())return;const $e=e.getPageIndex();i.querySelectorAll(".is-selected").forEach((_e=>{_e.classList.remove("is-selected")}));const Re=i.querySelector(`[index="${$e}"]`);if(Re){Re.classList.add("is-selected");const _e=i.getBoundingClientRect(),ut=Re.getBoundingClientRect(),ct=Re.offsetTop-i.offsetTop-.5*_e.height+.5*ut.height,St=Re.scrollLeft-i.scrollLeft-.5*_e.width+.5*ut.width;i.scrollTo({top:ct,left:St,behavior:"smooth"})}}function et(){if(!_()||!e||!n)return;const $e=n?.getSlides()||[];let Re=-.5*c;for(const _e of $e){const ut=_e.el;if(!ut)continue;let ct=e.getPageProgress(_e.index)||0;ct=Math.max(-1,Math.min(1,ct)),ct>-1&&ct<1&&(Re+=.5*c*(1-Math.abs(ct))),ct=Math.round(1e4*ct)/1e4,Re=Math.round(1e4*Re)/1e4,ut.style.setProperty("--progress",`${Math.abs(ct)}`),ut.style.setProperty("--shift",`${e?.isRTL()?-1*Re:Re}px`),ct>-1&&ct<1&&(Re+=.5*c*(1-Math.abs(ct)))}}return{init:function($e,Re){xpe=Re,e=$e,e.on("ready",te),e.on("initSlides",Z),e.on("change",Se)},destroy:function(){var $e,Re;x()&&e?.emit("thumbs:destroy"),e?.off("ready",te),e?.off("initSlides",Z),e?.off("change",Se),e?.off("render",se),e?.off("addSlide",Ce),e?.off("click",Te),e?.off("refresh",V),($e=e?.getGestures())===null||$e===void 0||$e.off("start",ce),(Re=e?.getContainer())===null||Re===void 0||Re.classList.remove("has-thumbs"),e=void 0,n?.destroy(),n=void 0,o?.remove(),o=void 0},getCarousel:function(){return n},getContainer:function(){return o},getType:function(){return v("type")},isEnabled:S}};/*! License details at fancyapps.com/license */const rEe={iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"}},g6e=()=>{let e;function n(c,d){let p=d.src;if(!Pp(p))return;let v=d.type;if(!v){if(v||(p.charAt(0)==="#"?v="inline":p.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.((a)?png|avif|gif|jp(g|eg)|pjp(eg)?|jfif|svg|webp|bmp|ico|tif(f)?)((\?|#).*)?$)/i)?v="image":p.match(/\.(pdf)((\?|#).*)?$/i)?v="pdf":p.match(/\.(html|php)((\?|#).*)?$/i)&&(v="iframe")),!v){const S=p.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i);S&&(p=`https://maps.google.${S[1]}/?ll=${(S[2]?S[2]+"&z="+Math.floor(parseFloat(S[3]))+(S[4]?S[4].replace(/^\//,"&"):""):S[4]+"").replace(/\?/,"&")}&output=${S[4]&&S[4].indexOf("layer=c")>0?"svembed":"embed"}`,v="gmap")}if(!v){const S=p.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i);S&&(p=`https://maps.google.${S[1]}/maps?q=${S[2].replace("query=","q=").replace("api=1","")}&output=embed`,v="gmap")}d.src=p,d.type=v}}function o(c,d){d.type!=="iframe"&&d.type!=="pdf"&&d.type!=="gmap"||(function(p){if(!e||!p.el||!p.src)return;const v=document.createElement("iframe");v.classList.add("f-iframe");for(const[_,x]of Object.entries((function(){const P=e?.getOptions().Html;return Ag(P)?Object.assign(Object.assign({},rEe),P):rEe})().iframeAttr||{}))v.setAttribute(_,x);v.onerror=()=>{e&&e.getState()===1&&e.showError(p,"{{IFRAME_ERROR}}")},v.src=p.src;const S=document.createElement("div");if(S.classList.add("f-html"),S.append(v),p.width){let _=`${p.width}`;_.match(/^\d+$/)&&(_+="px"),S.style.maxWidth=`${_}`}if(p.height){let _=`${p.height}`;_.match(/^\d+$/)&&(_+="px"),S.style.maxHeight=`${_}`}if(p.aspectRatio){const _=p.el.getBoundingClientRect();S.style.aspectRatio=`${p.aspectRatio}`,S.style[_.width>_.height?"width":"height"]="auto",S.style[_.width>_.height?"maxWidth":"maxHeight"]="none"}p.contentEl=v,p.htmlEl=S,p.el.classList.add("has-html"),p.el.classList.add("has-iframe"),p.el.classList.add(`has-${p.type}`),p.el.prepend(S),e.emit("contentReady",p)})(d)}function i(c,d){var p,v;d.type!=="iframe"&&d.type!=="pdf"&&d.type!=="gmap"||(e?.hideError(d),(p=d.contentEl)===null||p===void 0||p.remove(),d.contentEl=void 0,(v=d.htmlEl)===null||v===void 0||v.remove(),d.htmlEl=void 0)}return{init:function(c){e=c,e.on("addSlide",n),e.on("attachSlideEl",o),e.on("detachSlideEl",i)},destroy:function(){e?.off("addSlide",n),e?.off("attachSlideEl",o),e?.off("detachSlideEl",i),e=void 0}}};/*! License details at fancyapps.com/license */const iEe=(e,n={})=>{const o=new URL(e),i=new URLSearchParams(o.search),c=new URLSearchParams;for(const[v,S]of[...i,...Object.entries(n)]){let _=S+"";if(v==="t"){let x=_.match(/((\d*)m)?(\d*)s?/);x&&c.set("start",60*parseInt(x[2]||"0")+parseInt(x[3]||"0")+"")}else c.set(v,_)}let d=c+"",p=e.match(/#t=((.*)?\d+s)/);return p&&(d+=`#t=${p[1]}`),d},aEe={autoplay:!1,html5videoTpl:`<video class="f-html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
    <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto",credentialless:""},vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},v6e=()=>{let e,n=!1;function o(){const B=e?.getOptions().Video;return Ag(B)?Object.assign(Object.assign({},aEe),B):aEe}function i(){var B;return(B=e?.getPage())===null||B===void 0?void 0:B.slides[0]}const c=B=>{var H;try{let U=JSON.parse(B.data);if(B.origin==="https://player.vimeo.com"){if(U.event==="ready")for(let z of Array.from(((H=e?.getContainer())===null||H===void 0?void 0:H.getElementsByClassName("f-iframe"))||[]))z instanceof HTMLIFrameElement&&z.contentWindow===B.source&&(z.dataset.ready="true")}else if(B.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&U.event==="onReady"){const z=document.getElementById(U.id);z&&(z.dataset.ready="true")}}catch{}};function d(B,H){const U=H.src;if(!Pp(U))return;let z=H.type;if(!z||z==="html5video"){const Z=U.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i);Z&&(z="html5video",H.html5videoFormat=H.html5videoFormat||"video/"+(Z[1]==="ogv"?"ogg":Z[1]))}if(!z||z==="youtube"){const Z=U.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i);if(Z){const te=Object.assign(Object.assign({},o().youtube),H.youtube||{}),ce=`www.youtube${te.nocookie?"-nocookie":""}.com`,se=iEe(U,te),Se=encodeURIComponent(Z[2]);H.videoId=Se,H.src=`https://${ce}/embed/${Se}?${se}`,H.thumb=H.thumb||`https://i.ytimg.com/vi/${Se}/mqdefault.jpg`,z="youtube"}}if(!z||z==="vimeo"){const Z=U.match(/^.+vimeo.com\/(?:\/)?(video\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/);if(Z){const te=Object.assign(Object.assign({},o().vimeo),H.vimeo||{}),ce=iEe(U,te),se=encodeURIComponent(Z[2]),Se=Z[5]||"";H.videoId=se,H.src=`https://player.vimeo.com/video/${se}?${Se?`h=${Se}${ce?"&":""}`:""}${ce}`,z="vimeo"}}H.type=z}function p(B,H){H.type==="html5video"&&(function(U){if(!e||!U.el||!U.src)return;const{el:z,src:Z}=U;if(!z||!Z)return;const te=U.html5videoTpl||o().html5videoTpl,ce=U.html5videoFormat||o().html5videoFormat;if(!te)return;const se=U.poster||(U.thumb&&Pp(U.thumb)?U.thumb:""),Se=BO(te.replace(/\{\{src\}\}/gi,Z+"").replace(/\{\{format\}\}/gi,ce||"").replace(/\{\{poster\}\}/gi,se+""));if(!Se)return;const Ce=document.createElement("div");Ce.classList.add("f-html"),Ce.append(Se),U.contentEl=Se,U.htmlEl=Ce,z.classList.add(`has-${U.type}`),z.prepend(Ce),x(U),e.emit("contentReady",U)})(H),H.type!=="youtube"&&H.type!=="vimeo"||(function(U){if(!e||!U.el||!U.src)return;const z=document.createElement("iframe");z.classList.add("f-iframe"),z.setAttribute("id",`f-iframe_${U.videoId}`);for(const[te,ce]of Object.entries(o().iframeAttr||{}))z.setAttribute(te,ce);z.onload=()=>{var te;e&&e.getState()===1&&U.type==="youtube"&&((te=z.contentWindow)===null||te===void 0||te.postMessage(JSON.stringify({event:"listening",id:z.getAttribute("id")}),"*"))},z.onerror=()=>{e&&e.getState()===1&&e?.showError(U,"{{IFRAME_ERROR}}")},z.src=U.src;const Z=document.createElement("div");Z.classList.add("f-html"),Z.append(z),U.contentEl=z,U.htmlEl=Z,U.el.classList.add("has-html"),U.el.classList.add("has-iframe"),U.el.classList.add(`has-${U.type}`),U.el.prepend(Z),x(U),e.emit("contentReady",U)})(H)}function v(B,H){var U,z;H.type!=="html5video"&&H.type!=="youtube"&&H.type!=="vimeo"||((U=H.contentEl)===null||U===void 0||U.remove(),H.contentEl=void 0,(z=H.htmlEl)===null||z===void 0||z.remove(),H.htmlEl=void 0),H.poller&&clearTimeout(H.poller)}function S(){n=!1}function _(){if(n)return;n=!0;const B=i();(B&&B.autoplay!==void 0?B.autoplay:o().autoplay)&&((function(){var H;const U=i(),z=U?.el;if(z&&U?.type==="html5video")try{const te=z.querySelector("video");if(te){const ce=te.play();ce!==void 0&&ce.then((()=>{})).catch((se=>{te.muted=!0,te.play()}))}}catch{}const Z=U?.htmlEl;Z instanceof HTMLIFrameElement&&((H=Z.contentWindow)===null||H===void 0||H.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"))})(),(function(){const H=i(),U=H?.type;if(!H?.el||U!=="youtube"&&U!=="vimeo")return;const z=()=>{if(H.contentEl&&H.contentEl instanceof HTMLIFrameElement&&H.contentEl.contentWindow){let Z;if(H.contentEl.dataset.ready==="true")return Z=H.type==="youtube"?{event:"command",func:"playVideo"}:{method:"play",value:"true"},Z&&H.contentEl.contentWindow.postMessage(JSON.stringify(Z),"*"),void(H.poller=void 0);H.type==="youtube"&&(Z={event:"listening",id:H.contentEl.getAttribute("id")},H.contentEl.contentWindow.postMessage(JSON.stringify(Z),"*"))}H.poller=setTimeout(z,250)};z()})())}function x(B){const H=B?.htmlEl;if(B&&H&&(B.type==="html5video"||B.type==="youtube"||B.type==="vimeo")){if(H.style.aspectRatio="",H.style.width="",H.style.height="",H.style.maxWidth="",H.style.maxHeight="",B.width){let U=`${B.width}`;U.match(/^\d+$/)&&(U+="px"),H.style.maxWidth=`${U}`}if(B.height){let U=`${B.height}`;U.match(/^\d+$/)&&(U+="px"),H.style.maxHeight=`${U}`}if(B.aspectRatio){const U=B.aspectRatio.split("/"),z=parseFloat(U[0].trim()),Z=U[1]?parseFloat(U[1].trim()):0,te=z&&Z?z/Z:z;H.offsetHeight;const ce=H.getBoundingClientRect(),se=te<(ce.width||1)/(ce.height||1);H.style.aspectRatio=`${B.aspectRatio}`,H.style.width=se?"auto":"",H.style.height=se?"":"auto"}}}function P(){x(i())}return{init:function(B){e=B,e.on("addSlide",d),e.on("attachSlideEl",p),e.on("detachSlideEl",v),e.on("ready",_),e.on("change",S),e.on("settle",_),e.on("refresh",P),window.addEventListener("message",c)},destroy:function(){e?.off("addSlide",d),e?.off("attachSlideEl",p),e?.off("detachSlideEl",v),e?.off("ready",_),e?.off("change",S),e?.off("settle",_),e?.off("refresh",P),window.removeEventListener("message",c),e=void 0}}};/*! License details at fancyapps.com/license */const lEe={autoStart:!1,btnTpl:'<button data-fullscreen-action="toggle" class="f-button" title="{{TOGGLE_FULLSCREEN}}"><svg><g><path d="M8 3H5a2 2 0 0 0-2 2v3M21 8V5a2 2 0 0 0-2-2h-3M3 16v3a2 2 0 0 0 2 2h3M16 21h3a2 2 0 0 0 2-2v-3"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},cEe="in-fullscreen-mode",y6e=()=>{let e;function n(x){const P=e?.getOptions().Fullscreen;let B=(Ag(P)?Object.assign(Object.assign({},lEe),P):lEe)[x];return B&&typeof B=="function"&&e?B(e):B}function o(){var x;(x=e?.getPlugins().Toolbar)===null||x===void 0||x.add("fullscreen",{tpl:n("btnTpl")})}function i(){if(n("autoStart")){const x=d();x&&v(x)}}function c(x,P){const B=P.target;B&&!P.defaultPrevented&&B.dataset.fullscreenAction==="toggle"&&_()}function d(){return n("el")||e?.getContainer()||void 0}function p(){const x=document;return x.fullscreenEnabled?!!x.fullscreenElement:!!x.webkitFullscreenEnabled&&!!x.webkitFullscreenElement}function v(x){const P=document;let B;return x||(x=P.documentElement),P.fullscreenEnabled?B=x.requestFullscreen():P.webkitFullscreenEnabled&&(B=x.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)),B&&B.then((()=>{x.classList.add(cEe)})),B}function S(){const x=document;let P;return x.fullscreenEnabled?P=x.fullscreenElement&&x.exitFullscreen():x.webkitFullscreenEnabled&&(P=x.webkitFullscreenElement&&x.webkitExitFullscreen()),P&&P.then((()=>{var B;(B=d())===null||B===void 0||B.classList.remove(cEe)})),P}function _(){if(p())S();else{const x=d();x&&v(x)}}return{init:function(x){e=x,e.on("initPlugins",o),e.on("ready",i),e.on("click",c)},destroy:function(){e?.off("initPlugins",o),e?.off("ready",i),e?.off("click",c)},exit:S,inFullscreen:p,request:v,toggle:_}};/*! License details at fancyapps.com/license */let rT,mQ=!1,uEe=!1,z5=!1,Ege=!1;const l0e=()=>{const e=new URL(document.URL).hash,n=e.slice(1).split("-"),o=n[n.length-1],i=o&&/^\+?\d+$/.test(o)&&parseInt(n.pop()||"1",10)||1;return{urlHash:e,urlSlug:n.join("-"),urlIndex:i}},dEe=()=>{const e=rT?.getInstance();return!(!e||e.getState()!=1)},c0e=()=>{if(!rT||dEe())return;const{urlSlug:e,urlIndex:n}=l0e();if(!e)return;let o=document.querySelector(`[data-slug="${e}"]`);if(o&&o.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),dEe())return;const i=document.querySelectorAll(`[data-fancybox="${e}"]`);if(!i.length)return;const c=i[n-1];c&&c.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0}))},b6e=()=>{if(!rT||z5)return;const e=rT?.getInstance(),n=e?.getCarousel();if(e?.getOptions().Hash===!1)return;const{urlSlug:o,urlIndex:i}=l0e();if(e&&n){const c=n.getSlides();for(const d of c||[])if(o===d.slug||o===d.fancybox&&d.index===i-1)return void n.goTo(d.index);Ege=!0,e.close(),Ege=!1}c0e()},hEe=()=>{rT&&setTimeout((()=>{mQ=!0,c0e(),mQ=!1,window.addEventListener("hashchange",b6e,!1)}),300)},wge=()=>{let e,n="auto",o="";function i(){var p,v;if(!e||!e.isTopMost()||e.getOptions().Hash===!1)return;const S=e.getCarousel();if(!S)return;const{urlHash:_,urlSlug:x}=l0e(),P=e.getSlide();if(!P)return;let B=P.slug||P.fancybox||"",H=parseInt(P.index+"",10)+1;if(!B)return;let U=P.slug?`#${P.slug}`:`#${B}-${H}`;if((((v=(p=e.getCarousel())===null||p===void 0?void 0:p.getPages())===null||v===void 0?void 0:v.length)||0)<2&&(U=`#${B}`),_!==U&&(o=_),history.scrollRestoration&&(n=history.scrollRestoration,history.scrollRestoration="manual"),S.on("change",c),mQ)return;const z=B!==x;try{window.history[z?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+U)}catch{}z&&(uEe=!0)}function c(){if(!e||!e.isTopMost()||e.getOptions().Hash===!1)return;const p=e.getSlide();if(!p)return;let v=p.slug||p.fancybox||"",S=p.index+1,_=p.slug?`#${p.slug}`:`#${v}-${S}`;z5=!0;try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+_)}catch{}z5=!1}function d(){if(Ege||!e||!e.isTopMost()||e.getOptions().Hash===!1)return;const p=e.getSlide();if(p&&p.fancybox){z5=!0;try{!uEe||mQ||(function(){if(window.parent===window)return!1;try{var v=window.frameElement}catch{v=null}return v===null?location.protocol==="data:":v.hasAttribute("sandbox")})()?window.history.replaceState({},document.title,window.location.pathname+window.location.search+o):window.history.back()}catch{}z5=!1}}return{init:function(p){e=p,e.on("ready",i),e.on("close",d)},destroy:function(){e?.off("ready",i),e?.off("close",d);const p=e?.getCarousel();p&&p.off("change",c),e=void 0,history.scrollRestoration&&n&&(history.scrollRestoration=n)}}};wge.startFromUrl=c0e,wge.setup=function(e){rT||(rT=e,Fke()&&(/complete|interactive|loaded/.test(document.readyState)?hEe():document.addEventListener("DOMContentLoaded",hEe)))};/*! License details at fancyapps.com/license */const S6e=Object.assign(Object.assign({},i0e),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ELEMENT_NOT_FOUND:"HTML Element Not Found",IFRAME_ERROR:"Error Loading Page"});/*! License details at fancyapps.com/license */const zke='<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg tabindex="-1" width="24" height="24" viewBox="0 0 24 24"><path d="M19.286 4.714 4.714 19.286M4.714 4.714l14.572 14.572" /></svg></button>';Uke().add("close",{tpl:zke});const CS=e=>{e.cancelable&&e.preventDefault()},jke=e=>{e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))},fEe=(e=null,n="",o)=>{if(!e||!e.parentElement||!n)return void(o&&o());jke(e);const i=c=>{c.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",i),delete e.dataset.animationName,o&&o(),e.classList.remove(n))};e.dataset.animationName=n,e.addEventListener("animationend",i),ji(e,n)};var Xh;(function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Closing=2]="Closing",e[e.Destroyed=3]="Destroyed"})(Xh||(Xh={}));const l6={ajax:null,backdropClick:"close",Carousel:{},closeButton:"auto",closeExisting:!1,delegateEl:void 0,dragToClose:!0,fadeEffect:!0,groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,id:void 0,idle:!1,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:S6e,mainClass:"",mainStyle:{},mainTpl:`<dialog class="fancybox__dialog">
    <div class="fancybox__container" tabindex="0" aria-label="{{MODAL}}">
      <div class="fancybox__backdrop"></div>
      <div class="fancybox__carousel"></div>
    </div>
  </dialog>`,modal:!0,on:{},parentEl:void 0,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,sync:void 0,theme:"dark",triggerEl:void 0,triggerEvent:void 0,zoomEffect:!0},G_=new Map;let C6e=0;const pEe="with-fancybox",E6e=()=>{let e,n,o,i,c,d,p,v=Xh.Init,S=Object.assign({},l6),_=-1,x={},P=[],B=!1,H=!0,U=0;function z(xt,...cn){let vn=S[xt];return vn&&typeof vn=="function"?vn(Zn,...cn):vn}function Z(xt,cn=[]){const vn=z("l10n")||{};xt=String(xt).replace(/\{\{(\w+)\}\}/g,((qe,pt)=>vn[pt]||qe));for(let qe=0;qe<cn.length;qe++)xt=xt.split(cn[qe][0]).join(cn[qe][1]);return xt=xt.replace(/\{\{(.*?)\}\}/g,((qe,pt)=>pt))}const te=new Map;function ce(xt,...cn){const vn=[...te.get(xt)||[]];for(const[qe,pt]of Object.entries(S.on||{}))(qe===xt||qe.split(" ").indexOf(xt)>-1)&&vn.push(pt);for(const qe of vn)qe&&typeof qe=="function"&&qe(Zn,...cn);xt!=="*"&&ce("*",xt,...cn)}function se(xt=[],cn={}){v!==Xh.Init&&(Zn.destroy(),v=Xh.Init),S=Dy({},l6,cn),_=z("id")||"fancybox-"+ ++C6e;const vn=G_.get(_);if(vn&&vn.destroy(),G_.set(_,Zn),ce("init"),(function(){for(const[qe,pt]of Object.entries(Object.assign(Object.assign({},qu.Plugins),S.plugins||{})))if(qe&&!x[qe]&&pt instanceof Function){const Ft=pt();Ft.init(Zn),x[qe]=Ft}ce("initPlugins")})(),(function(qe=[]){ce("initSlides",qe),P=[...qe]})(xt),(function(){const qe=z("parentEl")||document.body;if(!(qe&&qe instanceof HTMLElement))return;const pt=Z(z("mainTpl")||"");if(e=BO(pt)||void 0,!e||(n=e.querySelector(".fancybox__container"),!(n&&n instanceof HTMLElement)))return;const Ft=z("mainClass");Ft&&ji(n,Ft);const Ve=z("mainStyle");if(Ve&&Ag(Ve))for(const[Gt,Tt]of Object.entries(Ve))n.style.setProperty(Gt,Tt);const Ot=z("theme"),Nt=Ot==="auto"?window.matchMedia("(prefers-color-scheme:light)").matches:Ot==="light";n.setAttribute("theme",Nt?"light":"dark"),e.setAttribute("id",`${_}`),e.addEventListener("keydown",(Gt=>{Gt.key==="Escape"&&CS(Gt)})),e.addEventListener("wheel",(Gt=>{const Tt=Gt.target;let Et=z("wheel",Gt);Tt.closest(".f-thumbs")&&(Et="slide");const Yn=Et==="slide",fo=[-Gt.deltaX||0,-Gt.deltaY||0,-Gt.detail||0].reduce((function(no,_s){return Math.abs(_s)>Math.abs(no)?_s:no})),ro=Math.max(-1,Math.min(1,fo)),io=Date.now();U&&io-U<300?Yn&&CS(Gt):(U=io,ce("wheel",Gt,ro),Gt.defaultPrevented||(Et==="close"?Vo(Gt):Et==="slide"&&i&&!d2(Tt)&&(CS(Gt),i[ro>0?"prev":"next"]())))}),{capture:!0,passive:!1}),e.addEventListener("cancel",(Gt=>{Vo(Gt)})),qe.append(e),G_.size===1&&(z("hideScrollbar")&&qCe(!0),document.documentElement.classList.add(pEe)),e instanceof HTMLDialogElement&&(z("modal")?e.showModal():e.show()),ce("initLayout")})(),(function(){if(o=e?.querySelector(".fancybox__carousel")||void 0,!o)return;o.fancybox=Zn;const qe=Dy({},{Autoplay:{autoStart:!1,pauseOnHover:!1,progressbarParentEl:pt=>{const Ft=pt.getContainer();return Ft?.querySelector(".f-carousel__toolbar [data-autoplay-action]")||Ft}},Fullscreen:{el:n},Toolbar:{absolute:!0,items:{counter:{tpl:'<div class="f-counter"><span data-fancybox-page></span>/<span data-fancybox-pages></span></div>'}},display:{left:["counter"],right:["toggleFull","autoplay","fullscreen","thumbs","close"]}},Video:{autoplay:!0},Thumbs:{minCount:2,Carousel:{classes:{container:"fancybox__thumbs"}}},classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",slide:"fancybox__slide"},spinnerTpl:'<div class="f-spinner" data-fancybox-close></div>',dragFree:!1,slidesPerPage:1,plugins:{Sync:Vke,Arrows:h6e,Lazyload:Hke,Zoomable:d6e,Html:g6e,Video:v6e,Autoplay:p6e,Fullscreen:y6e,Thumbs:m6e,Toolbar:Uke}},z("Carousel")||{},{slides:P,enabled:!0,initialPage:z("startIndex")||0,l10n:z("l10n")});i=pQ(o,qe),ce("initCarousel",i),i.on("*",((pt,Ft,...Ve)=>{ce(`Carousel.${Ft}`,pt,...Ve)})),i.on("attachSlideEl",Ce),i.on("detachSlideEl",Te),i.on("contentReady",Re),i.on("ready",et),i.on("change",ke),i.on("settle",$e),i.on("thumbs:ready",_e),i.on("thumbs:destroy",_e),i.init()})(),e&&n){if(z("closeExisting"))for(const[qe,pt]of G_.entries())qe!==_&&pt.close();z("fadeEffect")?(setTimeout((()=>{Se()}),500),ji(n,"is-revealing")):Se(),n.classList.add("is-ready"),v=Xh.Ready,ce("ready")}}function Se(){ky(n,"is-revealing");try{document.activeElement===e&&(n?.querySelector("[autofocus]")||n).focus()}catch{}}function Ce(xt,cn){var vn;it(cn),ut(),(vn=cn.el)===null||vn===void 0||vn.addEventListener("click",V),cn.type!=="inline"&&cn.type!=="clone"||(function(qe){if(!i||!qe||!qe.el)return;let pt=null;if(Pp(qe.src)){const Ft=qe.src.split("#",2).pop();pt=Ft?document.getElementById(Ft):null}if(pt){if(ji(pt,"f-html"),qe.type==="clone"||pt.closest(".fancybox__carousel")){pt=pt.cloneNode(!0);const Ft=pt.dataset.animationName;Ft&&(pt.classList.remove(Ft),delete pt.dataset.animationName);let Ve=pt.getAttribute("id");Ve=Ve?`${Ve}--clone`:`clone-${_}-${qe.index}`,pt.setAttribute("id",Ve)}else if(pt.parentNode){const Ft=document.createElement("div");Ft.inert=!0,pt.parentNode.insertBefore(Ft,pt),qe.placeholderEl=Ft}qe.htmlEl=pt,ji(qe.el,"has-html"),qe.el.prepend(pt),pt.classList.remove("hidden"),pt.style.display==="none"&&(pt.style.display=""),getComputedStyle(pt).getPropertyValue("display")==="none"&&(pt.style.display=pt.dataset.display||"flex"),i?.emit("contentReady",qe)}else i?.showError(qe,"{{ELEMENT_NOT_FOUND}}")})(cn),cn.type==="ajax"&&(function(qe){const pt=qe.el;if(!pt||qe.htmlEl||qe.xhr)return;i?.showLoading(qe),qe.state=0;const Ft=new XMLHttpRequest;Ft.onreadystatechange=function(){if(Ft.readyState===XMLHttpRequest.DONE&&v===Xh.Ready)if(i?.hideLoading(qe),qe.state=1,Ft.status===200){let Ot=Ft.responseText+"",Nt=null,Gt=null;if(qe.filter){const Tt=document.createElement("div");Tt.innerHTML=Ot,Gt=Tt.querySelector(qe.filter+"")}Gt&&Gt instanceof HTMLElement?Nt=Gt:(Nt=document.createElement("div"),Nt.innerHTML=Ot),Nt.classList.add("f-html"),qe.htmlEl=Nt,pt.classList.add("has-html"),pt.classList.add("has-ajax"),pt.prepend(Nt),i?.emit("contentReady",qe)}else i?.showError(qe)};const Ve=z("ajax")||null;Ft.open(Ve?"POST":"GET",qe.src+""),Ft.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),Ft.setRequestHeader("X-Requested-With","XMLHttpRequest"),Ft.send(Ve),qe.xhr=Ft})(cn)}function Te(xt,cn){var vn;(function(qe){qe.closeButtonEl&&(qe.closeButtonEl.remove(),qe.closeButtonEl=void 0)})(cn),(vn=cn.el)===null||vn===void 0||vn.removeEventListener("click",V),cn.type!=="inline"&&cn.type!=="clone"||(function(qe){const pt=qe.htmlEl,Ft=qe.placeholderEl;pt&&(getComputedStyle(pt).getPropertyValue("display")!=="none"&&(pt.style.display="none"),pt.offsetHeight),Ft&&(pt&&Ft.parentNode&&Ft.parentNode.insertBefore(pt,Ft),Ft.remove()),qe.htmlEl=void 0,qe.placeholderEl=void 0})(cn),cn.xhr&&(cn.xhr.abort(),cn.xhr=void 0)}function V(xt){if(!Ut())return;if(v!==Xh.Ready)return CS(xt),void xt.stopPropagation();if(xt.defaultPrevented||!j3.isClickAllowed())return;const cn=xt.composedPath()[0];cn.closest(".fancybox__carousel")&&cn.classList.contains("fancybox__slide")&&ct(xt)}function ke(){H=!1,n&&i&&n.classList.remove("is-revealing"),ut();const xt=z("sync");if(i&&xt){const cn=xt.getPageIndex(i.getPageIndex())||0;xt.goTo(cn,{transition:!1})}}function et(){var xt;(function(){const vn=i?.getViewport();if(!z("dragToClose")||!i||!vn||(c=j3(vn).init(),!c))return;let qe=!1,pt=0,Ft=0,Ve={},Ot=1;function Nt(){var Tt,Et;d?.spring({clamp:!0,mass:1,tension:Ft===0?140:960,friction:17,restDelta:.1,restSpeed:.1,maxSpeed:1/0}).from({y:pt}).to({y:Ft}).start();const Yn=((Tt=i?.getViewport())===null||Tt===void 0?void 0:Tt.getBoundingClientRect().height)||0,fo=(Et=Xe())===null||Et===void 0?void 0:Et.panzoomRef;if(Yn&&fo)if(Ft===0)fo.execute(hr.Reset);else{const ro=fQ(Math.abs(pt),0,.33*Yn,Ot,.75*Ot,!1);fo.execute(hr.ZoomTo,{scale:ro})}}const Gt=Tt=>{var Et;const Yn=Tt.srcEvent,fo=Yn.target;return i&&!(a6(Yn)&&((Et=Yn.touches)===null||Et===void 0?void 0:Et.length)>1)&&fo&&!d2(fo)};d=FO().on("step",(Tt=>{if(n&&vn&&v===Xh.Ready){const Et=vn.getBoundingClientRect().height;pt=Math.min(Et,Math.max(-1*Et,Tt.y));const Yn=fQ(Math.abs(pt),0,.5*Et,1,0,!0);n.style.setProperty("--f-drag-opacity",Yn+""),n.style.setProperty("--f-drag-offset",pt+"px")}})),c.on("start",(function(){qe||(d?.pause(),Ft=pt)})).on("panstart",(Tt=>{var Et,Yn;if(!qe&&Gt(Tt)&&Tt.axis==="y"){CS(Tt.srcEvent),qe=!0,ms(),(Et=i?.getViewport())===null||Et===void 0||Et.classList.add("is-dragging");const fo=(Yn=Xe())===null||Yn===void 0?void 0:Yn.panzoomRef;if(fo){Ot=fo.getTransform().scale||1;const ro=fo.getOptions();Ve=Object.assign({},ro),ro.bounds=!1,ro.gestures=!1}}else qe=!1})).on("pan",(function(Tt){qe&&Gt(Tt)&&(CS(Tt.srcEvent),Tt.srcEvent.stopPropagation(),Tt.axis==="y"&&(Ft+=Tt.deltaY,Nt()))})).on("end",(Tt=>{var Et,Yn,fo;if((Et=i?.getViewport())===null||Et===void 0||Et.classList.remove("is-dragging"),qe){const ro=(Yn=Xe())===null||Yn===void 0?void 0:Yn.panzoomRef;if(ro){(fo=ro.getTween())===null||fo===void 0||fo.end();const io=ro.getOptions();io.bounds=Ve.bounds||!1,io.gestures=Ve.gestures||!1}Gt(Tt)&&Tt.axis==="y"&&(Math.abs(Tt.velocityY)>5||Math.abs(pt)>50)&&Vo(Tt.srcEvent,"f-throwOut"+(Tt.velocityY>0?"Down":"Up"))}qe=!1,v===Xh.Ready&&pt!==0&&(Ft=0,Nt())}))})(),document.body.addEventListener("click",ln),document.body.addEventListener("keydown",ee,{passive:!1,capture:!0}),ut(),mn();const cn=z("sync");cn&&((xt=cn.getTween())===null||xt===void 0||xt.start()),Ht(Xe())}function $e(){i?.canGoNext()?mn():ye()}function Re(xt,cn){it(cn),Ht(cn)}function _e(){var xt;const cn=i?.getPlugins().Thumbs;yg(n,"has-thumbs",cn?.isEnabled()||!1),yg(n,"has-vertical-thumbs",!!cn&&(cn.getType()==="scrollable"||((xt=cn.getCarousel())===null||xt===void 0?void 0:xt.isVertical())===!0))}function ut(){if(n){const xt=i?.getPages()||[],cn=i?.getPageIndex()||0;for(const vn of n.querySelectorAll("[data-fancybox-index]"))vn.innerHTML=cn+"";for(const vn of n.querySelectorAll("[data-fancybox-page]"))vn.innerHTML=cn+1+"";for(const vn of n.querySelectorAll("[data-fancybox-pages]"))vn.innerHTML=xt.length+""}}function ct(xt){if(xt.composedPath()[0].closest("[data-fancybox-close]"))return void Vo(xt);ce("backdropClick",xt),!xt.defaultPrevented&&z("backdropClick")&&Vo(xt)}function St(){un()}function ee(xt){if(!Ut()||v!==Xh.Ready)return;const cn=xt.key,vn=z("keyboard");if(!vn||xt.ctrlKey||xt.altKey||xt.shiftKey)return;const qe=xt.composedPath()[0];if(!t3(qe)||cn!=="Escape"&&(Ft=>{const Ve=["input","textarea","select","option","video","iframe","[contenteditable]","[data-selectable]","[data-draggable]"].join(",");return Ft.matches(Ve)||Ft.closest(Ve)})(qe)||(ce("keydown",xt),xt.defaultPrevented))return;const pt=vn[cn];if(pt)switch(pt){case"close":Vo(xt);break;case"next":CS(xt),i?.next();break;case"prev":CS(xt),i?.prev()}}function ln(xt){if(!Ut()||v!==Xh.Ready||(un(),xt.defaultPrevented))return;const cn=xt.composedPath()[0],vn=!!cn.closest("[data-fancybox-close]"),qe=cn.classList.contains("fancybox__backdrop");(vn||qe)&&ct(xt)}function it(xt){var cn;const{el:vn,htmlEl:qe,closeButtonEl:pt}=xt;if(!vn||!qe||pt)return;let Ft=z("closeButton");if(Ft==="auto"&&(Ft=((cn=i?.getPlugins().Toolbar)===null||cn===void 0?void 0:cn.isEnabled())!==!0),Ft){const Ve=BO(Z(zke));Ve&&(ji(Ve,"is-close-button"),xt.closeButtonEl=qe.insertAdjacentElement("afterbegin",Ve),vn.classList.add("has-close-btn"))}}function Ht(xt){if(!(H&&i&&i.getState()===1&&xt&&xt.index===i.getOptions().initialPage&&xt.el&&xt.el.parentElement)||xt.state!==void 0&&xt.state!==1)return;H=!1;const cn=xt.panzoomRef,vn=cn?.getTween(),qe=z("zoomEffect")&&vn?eo(xt):void 0;if(cn&&vn&&qe){const{x:Ft,y:Ve,scale:Ot}=cn.getStartPosition();return void vn.spring({tension:215,friction:25,restDelta:.001,restSpeed:.001,maxSpeed:1/0}).from(qe).to({x:Ft,y:Ve,scale:Ot}).start()}const pt=cn?.getContent()||xt.htmlEl;pt&&fEe(pt,z("showClass",xt))}function Ut(){var xt;return((xt=qu.getInstance())===null||xt===void 0?void 0:xt.getId())===_}function Xe(){var xt;return(xt=i?.getPage())===null||xt===void 0?void 0:xt.slides[0]}function tn(){const xt=Xe();return xt?xt.triggerEl||z("triggerEl"):void 0}function eo(xt){var cn,vn;const qe=xt.thumbEl;if(!qe||!(Yn=>{const fo=Yn.getBoundingClientRect(),ro=Yn.closest("[style]"),io=ro?.parentElement;if(ro&&ro.style.transform&&io){const Wo=io.getBoundingClientRect();if(fo.left<Wo.left||fo.left>Wo.left+Wo.width-fo.width||fo.top<Wo.top||fo.top>Wo.top+Wo.height-fo.height)return!1}const no=Math.max(document.documentElement.clientHeight,window.innerHeight),_s=Math.max(document.documentElement.clientWidth,window.innerWidth);return!(fo.bottom<0||fo.top-no>=0||fo.right<0||fo.left-_s>=0)})(qe))return;const pt=(vn=(cn=xt.panzoomRef)===null||cn===void 0?void 0:cn.getWrapper())===null||vn===void 0?void 0:vn.getBoundingClientRect(),Ft=pt?.width,Ve=pt?.height;if(!Ft||!Ve)return;const Ot=qe.getBoundingClientRect();let Nt=Ot.width,Gt=Ot.height,Tt=Ot.left,Et=Ot.top;if(!(!Ot||!Nt||!Gt)){if(qe instanceof HTMLImageElement){const Yn=window.getComputedStyle(qe).getPropertyValue("object-fit");if(Yn==="contain"||Yn==="scale-down"){const{width:fo,height:ro}=((io,no,_s,Wo,Bs="contain")=>{if(Bs==="contain"||io>_s||no>Wo){const Pn=_s/io,xe=Wo/no,je=Math.min(Pn,xe);io*=je,no*=je}return{width:io,height:no}})(qe.naturalWidth,qe.naturalHeight,Nt,Gt,Yn);Tt+=.5*(Nt-fo),Et+=.5*(Gt-ro),Nt=fo,Gt=ro}}if(!(Math.abs(Ft/Ve-Nt/Gt)>.1))return{x:Tt+.5*Nt-(pt.left+.5*Ft),y:Et+.5*Gt-(pt.top+.5*Ve),scale:Nt/Ft}}}function In(){p&&clearTimeout(p),p=void 0,document.removeEventListener("mousemove",St)}function mn(){if(B||p)return;const xt=z("idle");xt&&(p=setTimeout(Dt,xt))}function Dt(){n&&(In(),ji(n,"is-idle"),document.addEventListener("mousemove",St),B=!0)}function un(){B&&(ye(),mn())}function ye(){In(),n?.classList.remove("is-idle"),B=!1}function ms(){if(z("placeFocusBack")){const cn=tn();!cn||(xt=cn.getBoundingClientRect()).bottom>0&&xt.right>0&&xt.left<(window.innerWidth||document.documentElement.clientWidth)&&xt.top<(window.innerHeight||document.documentElement.clientHeight)||cn.scrollIntoView({behavior:"instant",block:"center",inline:"center"})}var xt}function Vo(xt,cn){var vn,qe,pt,Ft,Ve;if(v===Xh.Closing||v===Xh.Destroyed)return;const Ot=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(ce("shouldClose",Ot,xt),Ot.defaultPrevented)return;if(In(),xt){if(xt.defaultPrevented)return;CS(xt),xt.stopPropagation(),xt.stopImmediatePropagation()}if(v=Xh.Closing,d?.pause(),c?.destroy(),i){(vn=i.getGestures())===null||vn===void 0||vn.destroy(),(qe=i.getTween())===null||qe===void 0||qe.pause();for(const Tt of i.getSlides()){const Et=Tt.panzoomRef;Et&&(Dy(Et.getOptions(),{clickAction:!1,dblClickAction:!1,wheelAction:!1,bounds:!1,minScale:0,maxScale:1/0}),(pt=Et.getGestures())===null||pt===void 0||pt.destroy(),(Ft=Et.getTween())===null||Ft===void 0||Ft.pause())}}const Nt=i?.getPlugins();(Ve=Nt?.Autoplay)===null||Ve===void 0||Ve.stop();const Gt=Nt?.Fullscreen;Gt&&Gt.inFullscreen()?Promise.resolve(Gt.exit()).then((()=>{setTimeout((()=>{Eo(xt,cn)}),150)})):Eo(xt,cn)}function Eo(xt,cn){var vn,qe;if(v!==Xh.Closing)return;ce("close",xt),H=!1,document.body.removeEventListener("click",ln),document.body.removeEventListener("keydown",ee,{passive:!1,capture:!0}),ms(),z("fadeEffect")&&(n?.classList.remove("is-ready"),n?.classList.add("is-hiding")),n?.classList.add("is-closing");const pt=Xe(),Ft=pt?.el,Ve=pt?.panzoomRef,Ot=(vn=pt?.panzoomRef)===null||vn===void 0?void 0:vn.getTween(),Nt=cn||z("hideClass");let Gt=!1,Tt=!1;if(i&&pt&&Ft&&Ve&&Ot){let Yn;if(z("zoomEffect")&&pt.state===1&&(Yn=eo(pt)),Yn){Gt=!0;const fo=()=>{Yn=eo(pt),Yn&&Ot.to(Object.assign(Object.assign({},SS),Yn))};Ve.on("refresh",(()=>{fo()})),Ot.easing(FO.Easings.EaseOut).duration(350).from(Object.assign({},Ve.getTransform())).to(Object.assign(Object.assign({},SS),Yn)).start(),Ft?.getAnimations()&&(Ft.style.animationPlayState="paused",requestAnimationFrame((()=>{fo()})))}}const Et=pt?.htmlEl||((qe=pt?.panzoomRef)===null||qe===void 0?void 0:qe.getWrapper());Et&&jke(Et),!Gt&&Nt&&Et&&(Tt=!0,fEe(Et,Nt,(()=>{Oo()}))),Gt||Tt?setTimeout((()=>{Oo()}),350):Oo()}function Oo(){var xt,cn,vn,qe,pt;if(v===Xh.Destroyed)return;v=Xh.Destroyed;const Ft=tn();ce("destroy"),(cn=(xt=z("sync"))===null||xt===void 0?void 0:xt.getPlugins().Autoplay)===null||cn===void 0||cn.resume(),(qe=(vn=z("sync"))===null||vn===void 0?void 0:vn.getPlugins().Autoscroll)===null||qe===void 0||qe.resume(),e instanceof HTMLDialogElement&&e.close(),(pt=i?.getContainer())===null||pt===void 0||pt.classList.remove("is-idle"),i?.destroy();for(const Ve of Object.values(x))Ve?.destroy();if(x={},e?.remove(),e=void 0,n=void 0,i=void 0,G_.delete(_),!G_.size&&(qCe(!1),document.documentElement.classList.remove(pEe),z("placeFocusBack")))try{Ft?.focus({preventScroll:!0})}catch{}}const Zn={close:Vo,destroy:Oo,getCarousel:function(){return i},getContainer:function(){return n},getId:function(){return _},getOptions:function(){return S},getPlugins:function(){return x},getSlide:function(){return Xe()},getState:function(){return v},init:function(xt=[],cn={}){return se(xt,cn),Zn},isCurrentSlide:function(xt){const cn=Xe();return!(!xt||!cn)&&cn.index===xt.index},isTopMost:function(){return Ut()},off:function(xt,cn){return te.has(xt)&&te.set(xt,te.get(xt).filter((vn=>vn!==cn))),Zn},on:function(xt,cn){return te.set(xt,[...te.get(xt)||[],cn]),Zn},toggleIdle(xt){(B||xt===!0)&&Dt(),B&&xt!==!1||ye()}};return Zn},qu={Plugins:{Hash:wge},version:"6.1.0",openers:new Map,bind:function(e,n,o){if(!Fke())return;let i=document.body,c="[data-fancybox]",d={};if(Pp(e)?(i=document.body,c=e,typeof n=="object"&&(d=n||{})):e instanceof Element&&(i=e,Pp(n)&&(c=n),typeof o=="object"&&(d=o||{})),!(i&&i instanceof Element&&c))return!1;const p=qu.openers.get(i)||new Map;if(p.set(c,d),qu.openers.set(i,p),p.size===1){i.addEventListener("click",qu.fromEvent);for(const v of Object.values(qu.Plugins)){const S=v.setup;typeof S=="function"&&S(qu)}}return!0},close:function(e=!0,...n){if(e)for(const o of G_.values())o.close(...n);else{const o=qu.getInstance();o&&o.close(...n)}},destroy:function(){let e;for(;e=qu.getInstance();)e.destroy();for(const n of qu.openers.keys())n.removeEventListener("click",qu.fromEvent);qu.openers.clear()},fromEvent:function(e){var n,o,i;if(e.defaultPrevented||e.button&&e.button!==0||e.ctrlKey||e.metaKey||e.shiftKey)return;let c=e.composedPath()[0];if(c.closest(".fancybox__container.is-hiding"))return CS(e),void e.stopPropagation();const d=c.closest("[data-fancybox-delegate]")||void 0;if(d){const Z=d.dataset.fancyboxDelegate||"",te=document.querySelectorAll(`[data-fancybox="${Z}"]`);c=te[parseInt(d.dataset.fancyboxIndex||"",10)||0]||te[0]}if(!(c&&c instanceof Element))return;let p,v,S={};for(const[Z,te]of qu.openers)if(te&&Z.contains(c))for(const[ce,se]of te){let Se=null;try{Se=c.closest(ce)}catch{}Se&&(c=Se,p=Z,v=ce,Dy(S,se||{}))}if(!p||!v)return;CS(e);const _=Dy({},l6,{triggerEvent:e,triggerEl:c,delegateEl:d},S),x=_.groupAll,P=_.groupAttr,B=P&&c?c.getAttribute(`${P}`):"";let H=[];const U=(n=c.closest(".f-carousel"))===null||n===void 0?void 0:n.carousel;if(U){const Z=[];for(const te of U?.getSlides()){const ce=te.el;ce&&(ce.matches(v)?Z.push(ce):Z.push(...[].slice.call(ce.querySelectorAll(v))))}Z.length&&(H=[...Z],(o=U.getPlugins().Autoplay)===null||o===void 0||o.pause(),(i=U.getPlugins().Autoscroll)===null||i===void 0||i.pause(),_.sync=U)}else(!c||B||x)&&(H=[].slice.call(p.querySelectorAll(v)));if(c&&!x&&(H=P&&B?H.filter((Z=>Z.getAttribute(`${P}`)===B)):[c]),!H.length)return;const z=qu.getInstance();if(z){const Z=z.getOptions().triggerEl;if(Z&&H.indexOf(Z)>-1)return}return Object.assign({},_.Carousel||{}).rtl&&(H=H.reverse()),c&&(_.startIndex=H.indexOf(c)),qu.fromNodes(H,_)},fromNodes:function(e,n){n=Dy({},l6,n||{});const o=[],i=c=>c instanceof HTMLImageElement?c:c instanceof HTMLElement?c.querySelector("img:not([aria-hidden])"):void 0;for(const c of e){const d=c.dataset||{},p=n.delegateEl&&e.indexOf(c)===n.startIndex?n.delegateEl:void 0,v=i(p)||i(c)||void 0,S=d.src||c.getAttribute("href")||c.getAttribute("currentSrc")||c.getAttribute("src")||void 0,_=d.thumb||d.thumbSrc||v?.getAttribute("currentSrc")||v?.getAttribute("src")||v?.dataset.lazySrc||void 0,x={src:S,alt:d.alt||v?.getAttribute("alt")||void 0,thumbSrc:_,thumbEl:v,triggerEl:c,delegateEl:p};for(const P in d){let B=d[P]+"";B=B!=="false"&&(B==="true"||B),x[P]=B}o.push(x)}return qu.show(o,n)},fromSelector:function(e,n,o){let i=document.body,c="",d={};if(Pp(e)?c=e:e instanceof Element&&(i=e,Pp(n)&&(c=n),typeof o=="object"&&(d=o||{})),!(i&&i instanceof Element&&c))return;const p=qu.openers.get(i);return p?(d=Dy({},p.get(c)||{},d),d?qu.fromNodes(Array.from(i.querySelectorAll(c)),d):void 0):void 0},getCarousel:function(){var e;return((e=qu.getInstance())===null||e===void 0?void 0:e.getCarousel())||void 0},getDefaults:function(){return l6},getInstance:function(e){if(e){const n=G_.get(e);return n&&n.getState()!==Xh.Destroyed?n:void 0}return Array.from(G_.values()).reverse().find((n=>{if(n.getState()!==Xh.Destroyed)return n}))||void 0},getSlide:function(){var e;return((e=qu.getInstance())===null||e===void 0?void 0:e.getSlide())||void 0},show:function(e=[],n={}){return E6e().init(e,n)},unbind:function(e,n){let o=document.body,i="";if(Pp(e)?i=e:e instanceof Element&&(o=e,Pp(n)&&(i=n)),o){const c=qu.openers.get(o);c&&i&&c.delete(i),c?.size&&i||qu.openers.delete(o),o.removeEventListener("click",qu.fromEvent)}}};function Wke(e,n){return function(){return e.apply(n,arguments)}}const{toString:w6e}=Object.prototype,{getPrototypeOf:u0e}=Object,{iterator:tte,toStringTag:Gke}=Symbol,nte=(e=>n=>{const o=w6e.call(n);return e[o]||(e[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),BS=e=>(e=e.toLowerCase(),n=>nte(n)===e),ote=e=>n=>typeof n===e,{isArray:b4}=Array,W3=ote("undefined");function Sz(e){return e!==null&&!W3(e)&&e.constructor!==null&&!W3(e.constructor)&&Fy(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const qke=BS("ArrayBuffer");function _6e(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&qke(e.buffer),n}const T6e=ote("string"),Fy=ote("function"),Kke=ote("number"),Cz=e=>e!==null&&typeof e=="object",A6e=e=>e===!0||e===!1,WX=e=>{if(nte(e)!=="object")return!1;const n=u0e(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Gke in e)&&!(tte in e)},x6e=e=>{if(!Cz(e)||Sz(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},O6e=BS("Date"),I6e=BS("File"),R6e=BS("Blob"),k6e=BS("FileList"),D6e=e=>Cz(e)&&Fy(e.pipe),M6e=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Fy(e.append)&&((n=nte(e))==="formdata"||n==="object"&&Fy(e.toString)&&e.toString()==="[object FormData]"))},P6e=BS("URLSearchParams"),[N6e,L6e,B6e,F6e]=["ReadableStream","Request","Response","Headers"].map(BS),V6e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ez(e,n,{allOwnKeys:o=!1}={}){if(e===null||typeof e>"u")return;let i,c;if(typeof e!="object"&&(e=[e]),b4(e))for(i=0,c=e.length;i<c;i++)n.call(null,e[i],i,e);else{if(Sz(e))return;const d=o?Object.getOwnPropertyNames(e):Object.keys(e),p=d.length;let v;for(i=0;i<p;i++)v=d[i],n.call(null,e[v],v,e)}}function Zke(e,n){if(Sz(e))return null;n=n.toLowerCase();const o=Object.keys(e);let i=o.length,c;for(;i-- >0;)if(c=o[i],n===c.toLowerCase())return c;return null}const Jk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yke=e=>!W3(e)&&e!==Jk;function _ge(){const{caseless:e,skipUndefined:n}=Yke(this)&&this||{},o={},i=(c,d)=>{const p=e&&Zke(o,d)||d;WX(o[p])&&WX(c)?o[p]=_ge(o[p],c):WX(c)?o[p]=_ge({},c):b4(c)?o[p]=c.slice():(!n||!W3(c))&&(o[p]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&Ez(arguments[c],i);return o}const H6e=(e,n,o,{allOwnKeys:i}={})=>(Ez(n,(c,d)=>{o&&Fy(c)?e[d]=Wke(c,o):e[d]=c},{allOwnKeys:i}),e),$6e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),U6e=(e,n,o,i)=>{e.prototype=Object.create(n.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),o&&Object.assign(e.prototype,o)},z6e=(e,n,o,i)=>{let c,d,p;const v={};if(n=n||{},e==null)return n;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)p=c[d],(!i||i(p,e,n))&&!v[p]&&(n[p]=e[p],v[p]=!0);e=o!==!1&&u0e(e)}while(e&&(!o||o(e,n))&&e!==Object.prototype);return n},j6e=(e,n,o)=>{e=String(e),(o===void 0||o>e.length)&&(o=e.length),o-=n.length;const i=e.indexOf(n,o);return i!==-1&&i===o},W6e=e=>{if(!e)return null;if(b4(e))return e;let n=e.length;if(!Kke(n))return null;const o=new Array(n);for(;n-- >0;)o[n]=e[n];return o},G6e=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&u0e(Uint8Array)),q6e=(e,n)=>{const i=(e&&e[tte]).call(e);let c;for(;(c=i.next())&&!c.done;){const d=c.value;n.call(e,d[0],d[1])}},K6e=(e,n)=>{let o;const i=[];for(;(o=e.exec(n))!==null;)i.push(o);return i},Z6e=BS("HTMLFormElement"),Y6e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,i,c){return i.toUpperCase()+c}),mEe=(({hasOwnProperty:e})=>(n,o)=>e.call(n,o))(Object.prototype),X6e=BS("RegExp"),Xke=(e,n)=>{const o=Object.getOwnPropertyDescriptors(e),i={};Ez(o,(c,d)=>{let p;(p=n(c,d,e))!==!1&&(i[d]=p||c)}),Object.defineProperties(e,i)},J6e=e=>{Xke(e,(n,o)=>{if(Fy(e)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const i=e[o];if(Fy(i)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},Q6e=(e,n)=>{const o={},i=c=>{c.forEach(d=>{o[d]=!0})};return b4(e)?i(e):i(String(e).split(n)),o},eze=()=>{},tze=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function nze(e){return!!(e&&Fy(e.append)&&e[Gke]==="FormData"&&e[tte])}const oze=e=>{const n=new Array(10),o=(i,c)=>{if(Cz(i)){if(n.indexOf(i)>=0)return;if(Sz(i))return i;if(!("toJSON"in i)){n[c]=i;const d=b4(i)?[]:{};return Ez(i,(p,v)=>{const S=o(p,c+1);!W3(S)&&(d[v]=S)}),n[c]=void 0,d}}return i};return o(e,0)},sze=BS("AsyncFunction"),rze=e=>e&&(Cz(e)||Fy(e))&&Fy(e.then)&&Fy(e.catch),Jke=((e,n)=>e?setImmediate:n?((o,i)=>(Jk.addEventListener("message",({source:c,data:d})=>{c===Jk&&d===o&&i.length&&i.shift()()},!1),c=>{i.push(c),Jk.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",Fy(Jk.postMessage)),ize=typeof queueMicrotask<"u"?queueMicrotask.bind(Jk):typeof process<"u"&&process.nextTick||Jke,aze=e=>e!=null&&Fy(e[tte]),ao={isArray:b4,isArrayBuffer:qke,isBuffer:Sz,isFormData:M6e,isArrayBufferView:_6e,isString:T6e,isNumber:Kke,isBoolean:A6e,isObject:Cz,isPlainObject:WX,isEmptyObject:x6e,isReadableStream:N6e,isRequest:L6e,isResponse:B6e,isHeaders:F6e,isUndefined:W3,isDate:O6e,isFile:I6e,isBlob:R6e,isRegExp:X6e,isFunction:Fy,isStream:D6e,isURLSearchParams:P6e,isTypedArray:G6e,isFileList:k6e,forEach:Ez,merge:_ge,extend:H6e,trim:V6e,stripBOM:$6e,inherits:U6e,toFlatObject:z6e,kindOf:nte,kindOfTest:BS,endsWith:j6e,toArray:W6e,forEachEntry:q6e,matchAll:K6e,isHTMLForm:Z6e,hasOwnProperty:mEe,hasOwnProp:mEe,reduceDescriptors:Xke,freezeMethods:J6e,toObjectSet:Q6e,toCamelCase:Y6e,noop:eze,toFiniteNumber:tze,findKey:Zke,global:Jk,isContextDefined:Yke,isSpecCompliantForm:nze,toJSONObject:oze,isAsyncFn:sze,isThenable:rze,setImmediate:Jke,asap:ize,isIterable:aze};function ea(e,n,o,i,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),o&&(this.config=o),i&&(this.request=i),c&&(this.response=c,this.status=c.status?c.status:null)}ao.inherits(ea,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ao.toJSONObject(this.config),code:this.code,status:this.status}}});const Qke=ea.prototype,e2e={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{e2e[e]={value:e}});Object.defineProperties(ea,e2e);Object.defineProperty(Qke,"isAxiosError",{value:!0});ea.from=(e,n,o,i,c,d)=>{const p=Object.create(Qke);ao.toFlatObject(e,p,function(x){return x!==Error.prototype},_=>_!=="isAxiosError");const v=e&&e.message?e.message:"Error",S=n==null&&e?e.code:n;return ea.call(p,v,S,o,i,c),e&&p.cause==null&&Object.defineProperty(p,"cause",{value:e,configurable:!0}),p.name=e&&e.name||"Error",d&&Object.assign(p,d),p};const lze=null;function Tge(e){return ao.isPlainObject(e)||ao.isArray(e)}function t2e(e){return ao.endsWith(e,"[]")?e.slice(0,-2):e}function gEe(e,n,o){return e?e.concat(n).map(function(c,d){return c=t2e(c),!o&&d?"["+c+"]":c}).join(o?".":""):n}function cze(e){return ao.isArray(e)&&!e.some(Tge)}const uze=ao.toFlatObject(ao,{},null,function(n){return/^is[A-Z]/.test(n)});function ste(e,n,o){if(!ao.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,o=ao.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(z,Z){return!ao.isUndefined(Z[z])});const i=o.metaTokens,c=o.visitor||x,d=o.dots,p=o.indexes,S=(o.Blob||typeof Blob<"u"&&Blob)&&ao.isSpecCompliantForm(n);if(!ao.isFunction(c))throw new TypeError("visitor must be a function");function _(U){if(U===null)return"";if(ao.isDate(U))return U.toISOString();if(ao.isBoolean(U))return U.toString();if(!S&&ao.isBlob(U))throw new ea("Blob is not supported. Use a Buffer instead.");return ao.isArrayBuffer(U)||ao.isTypedArray(U)?S&&typeof Blob=="function"?new Blob([U]):Buffer.from(U):U}function x(U,z,Z){let te=U;if(U&&!Z&&typeof U=="object"){if(ao.endsWith(z,"{}"))z=i?z:z.slice(0,-2),U=JSON.stringify(U);else if(ao.isArray(U)&&cze(U)||(ao.isFileList(U)||ao.endsWith(z,"[]"))&&(te=ao.toArray(U)))return z=t2e(z),te.forEach(function(se,Se){!(ao.isUndefined(se)||se===null)&&n.append(p===!0?gEe([z],Se,d):p===null?z:z+"[]",_(se))}),!1}return Tge(U)?!0:(n.append(gEe(Z,z,d),_(U)),!1)}const P=[],B=Object.assign(uze,{defaultVisitor:x,convertValue:_,isVisitable:Tge});function H(U,z){if(!ao.isUndefined(U)){if(P.indexOf(U)!==-1)throw Error("Circular reference detected in "+z.join("."));P.push(U),ao.forEach(U,function(te,ce){(!(ao.isUndefined(te)||te===null)&&c.call(n,te,ao.isString(ce)?ce.trim():ce,z,B))===!0&&H(te,z?z.concat(ce):[ce])}),P.pop()}}if(!ao.isObject(e))throw new TypeError("data must be an object");return H(e),n}function vEe(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return n[i]})}function d0e(e,n){this._pairs=[],e&&ste(e,this,n)}const n2e=d0e.prototype;n2e.append=function(n,o){this._pairs.push([n,o])};n2e.toString=function(n){const o=n?function(i){return n.call(this,i,vEe)}:vEe;return this._pairs.map(function(c){return o(c[0])+"="+o(c[1])},"").join("&")};function dze(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function o2e(e,n,o){if(!n)return e;const i=o&&o.encode||dze;ao.isFunction(o)&&(o={serialize:o});const c=o&&o.serialize;let d;if(c?d=c(n,o):d=ao.isURLSearchParams(n)?n.toString():new d0e(n,o).toString(i),d){const p=e.indexOf("#");p!==-1&&(e=e.slice(0,p)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class yEe{constructor(){this.handlers=[]}use(n,o,i){return this.handlers.push({fulfilled:n,rejected:o,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ao.forEach(this.handlers,function(i){i!==null&&n(i)})}}const s2e={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hze=typeof URLSearchParams<"u"?URLSearchParams:d0e,fze=typeof FormData<"u"?FormData:null,pze=typeof Blob<"u"?Blob:null,mze={isBrowser:!0,classes:{URLSearchParams:hze,FormData:fze,Blob:pze},protocols:["http","https","file","blob","url","data"]},h0e=typeof window<"u"&&typeof document<"u",Age=typeof navigator=="object"&&navigator||void 0,gze=h0e&&(!Age||["ReactNative","NativeScript","NS"].indexOf(Age.product)<0),vze=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yze=h0e&&window.location.href||"http://localhost",bze=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:h0e,hasStandardBrowserEnv:gze,hasStandardBrowserWebWorkerEnv:vze,navigator:Age,origin:yze},Symbol.toStringTag,{value:"Module"})),Cg={...bze,...mze};function Sze(e,n){return ste(e,new Cg.classes.URLSearchParams,{visitor:function(o,i,c,d){return Cg.isNode&&ao.isBuffer(o)?(this.append(i,o.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...n})}function Cze(e){return ao.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Eze(e){const n={},o=Object.keys(e);let i;const c=o.length;let d;for(i=0;i<c;i++)d=o[i],n[d]=e[d];return n}function r2e(e){function n(o,i,c,d){let p=o[d++];if(p==="__proto__")return!0;const v=Number.isFinite(+p),S=d>=o.length;return p=!p&&ao.isArray(c)?c.length:p,S?(ao.hasOwnProp(c,p)?c[p]=[c[p],i]:c[p]=i,!v):((!c[p]||!ao.isObject(c[p]))&&(c[p]=[]),n(o,i,c[p],d)&&ao.isArray(c[p])&&(c[p]=Eze(c[p])),!v)}if(ao.isFormData(e)&&ao.isFunction(e.entries)){const o={};return ao.forEachEntry(e,(i,c)=>{n(Cze(i),c,o,0)}),o}return null}function wze(e,n,o){if(ao.isString(e))try{return(n||JSON.parse)(e),ao.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(o||JSON.stringify)(e)}const wz={transitional:s2e,adapter:["xhr","http","fetch"],transformRequest:[function(n,o){const i=o.getContentType()||"",c=i.indexOf("application/json")>-1,d=ao.isObject(n);if(d&&ao.isHTMLForm(n)&&(n=new FormData(n)),ao.isFormData(n))return c?JSON.stringify(r2e(n)):n;if(ao.isArrayBuffer(n)||ao.isBuffer(n)||ao.isStream(n)||ao.isFile(n)||ao.isBlob(n)||ao.isReadableStream(n))return n;if(ao.isArrayBufferView(n))return n.buffer;if(ao.isURLSearchParams(n))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let v;if(d){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Sze(n,this.formSerializer).toString();if((v=ao.isFileList(n))||i.indexOf("multipart/form-data")>-1){const S=this.env&&this.env.FormData;return ste(v?{"files[]":n}:n,S&&new S,this.formSerializer)}}return d||c?(o.setContentType("application/json",!1),wze(n)):n}],transformResponse:[function(n){const o=this.transitional||wz.transitional,i=o&&o.forcedJSONParsing,c=this.responseType==="json";if(ao.isResponse(n)||ao.isReadableStream(n))return n;if(n&&ao.isString(n)&&(i&&!this.responseType||c)){const p=!(o&&o.silentJSONParsing)&&c;try{return JSON.parse(n,this.parseReviver)}catch(v){if(p)throw v.name==="SyntaxError"?ea.from(v,ea.ERR_BAD_RESPONSE,this,null,this.response):v}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cg.classes.FormData,Blob:Cg.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ao.forEach(["delete","get","head","post","put","patch"],e=>{wz.headers[e]={}});const _ze=ao.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tze=e=>{const n={};let o,i,c;return e&&e.split(`
`).forEach(function(p){c=p.indexOf(":"),o=p.substring(0,c).trim().toLowerCase(),i=p.substring(c+1).trim(),!(!o||n[o]&&_ze[o])&&(o==="set-cookie"?n[o]?n[o].push(i):n[o]=[i]:n[o]=n[o]?n[o]+", "+i:i)}),n},bEe=Symbol("internals");function C5(e){return e&&String(e).trim().toLowerCase()}function GX(e){return e===!1||e==null?e:ao.isArray(e)?e.map(GX):String(e)}function Aze(e){const n=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=o.exec(e);)n[i[1]]=i[2];return n}const xze=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ope(e,n,o,i,c){if(ao.isFunction(i))return i.call(this,n,o);if(c&&(n=o),!!ao.isString(n)){if(ao.isString(i))return n.indexOf(i)!==-1;if(ao.isRegExp(i))return i.test(n)}}function Oze(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,o,i)=>o.toUpperCase()+i)}function Ize(e,n){const o=ao.toCamelCase(" "+n);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+o,{value:function(c,d,p){return this[i].call(this,n,c,d,p)},configurable:!0})})}let Vy=class{constructor(n){n&&this.set(n)}set(n,o,i){const c=this;function d(v,S,_){const x=C5(S);if(!x)throw new Error("header name must be a non-empty string");const P=ao.findKey(c,x);(!P||c[P]===void 0||_===!0||_===void 0&&c[P]!==!1)&&(c[P||S]=GX(v))}const p=(v,S)=>ao.forEach(v,(_,x)=>d(_,x,S));if(ao.isPlainObject(n)||n instanceof this.constructor)p(n,o);else if(ao.isString(n)&&(n=n.trim())&&!xze(n))p(Tze(n),o);else if(ao.isObject(n)&&ao.isIterable(n)){let v={},S,_;for(const x of n){if(!ao.isArray(x))throw TypeError("Object iterator must return a key-value pair");v[_=x[0]]=(S=v[_])?ao.isArray(S)?[...S,x[1]]:[S,x[1]]:x[1]}p(v,o)}else n!=null&&d(o,n,i);return this}get(n,o){if(n=C5(n),n){const i=ao.findKey(this,n);if(i){const c=this[i];if(!o)return c;if(o===!0)return Aze(c);if(ao.isFunction(o))return o.call(this,c,i);if(ao.isRegExp(o))return o.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,o){if(n=C5(n),n){const i=ao.findKey(this,n);return!!(i&&this[i]!==void 0&&(!o||Ope(this,this[i],i,o)))}return!1}delete(n,o){const i=this;let c=!1;function d(p){if(p=C5(p),p){const v=ao.findKey(i,p);v&&(!o||Ope(i,i[v],v,o))&&(delete i[v],c=!0)}}return ao.isArray(n)?n.forEach(d):d(n),c}clear(n){const o=Object.keys(this);let i=o.length,c=!1;for(;i--;){const d=o[i];(!n||Ope(this,this[d],d,n,!0))&&(delete this[d],c=!0)}return c}normalize(n){const o=this,i={};return ao.forEach(this,(c,d)=>{const p=ao.findKey(i,d);if(p){o[p]=GX(c),delete o[d];return}const v=n?Oze(d):String(d).trim();v!==d&&delete o[d],o[v]=GX(c),i[v]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const o=Object.create(null);return ao.forEach(this,(i,c)=>{i!=null&&i!==!1&&(o[c]=n&&ao.isArray(i)?i.join(", "):i)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,o])=>n+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...o){const i=new this(n);return o.forEach(c=>i.set(c)),i}static accessor(n){const i=(this[bEe]=this[bEe]={accessors:{}}).accessors,c=this.prototype;function d(p){const v=C5(p);i[v]||(Ize(c,p),i[v]=!0)}return ao.isArray(n)?n.forEach(d):d(n),this}};Vy.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ao.reduceDescriptors(Vy.prototype,({value:e},n)=>{let o=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(i){this[o]=i}}});ao.freezeMethods(Vy);function Ipe(e,n){const o=this||wz,i=n||o,c=Vy.from(i.headers);let d=i.data;return ao.forEach(e,function(v){d=v.call(o,d,c.normalize(),n?n.status:void 0)}),c.normalize(),d}function i2e(e){return!!(e&&e.__CANCEL__)}function S4(e,n,o){ea.call(this,e??"canceled",ea.ERR_CANCELED,n,o),this.name="CanceledError"}ao.inherits(S4,ea,{__CANCEL__:!0});function a2e(e,n,o){const i=o.config.validateStatus;!o.status||!i||i(o.status)?e(o):n(new ea("Request failed with status code "+o.status,[ea.ERR_BAD_REQUEST,ea.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function Rze(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function kze(e,n){e=e||10;const o=new Array(e),i=new Array(e);let c=0,d=0,p;return n=n!==void 0?n:1e3,function(S){const _=Date.now(),x=i[d];p||(p=_),o[c]=S,i[c]=_;let P=d,B=0;for(;P!==c;)B+=o[P++],P=P%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),_-p<n)return;const H=x&&_-x;return H?Math.round(B*1e3/H):void 0}}function Dze(e,n){let o=0,i=1e3/n,c,d;const p=(_,x=Date.now())=>{o=x,c=null,d&&(clearTimeout(d),d=null),e(..._)};return[(..._)=>{const x=Date.now(),P=x-o;P>=i?p(_,x):(c=_,d||(d=setTimeout(()=>{d=null,p(c)},i-P)))},()=>c&&p(c)]}const gQ=(e,n,o=3)=>{let i=0;const c=kze(50,250);return Dze(d=>{const p=d.loaded,v=d.lengthComputable?d.total:void 0,S=p-i,_=c(S),x=p<=v;i=p;const P={loaded:p,total:v,progress:v?p/v:void 0,bytes:S,rate:_||void 0,estimated:_&&v&&x?(v-p)/_:void 0,event:d,lengthComputable:v!=null,[n?"download":"upload"]:!0};e(P)},o)},SEe=(e,n)=>{const o=e!=null;return[i=>n[0]({lengthComputable:o,total:e,loaded:i}),n[1]]},CEe=e=>(...n)=>ao.asap(()=>e(...n)),Mze=Cg.hasStandardBrowserEnv?((e,n)=>o=>(o=new URL(o,Cg.origin),e.protocol===o.protocol&&e.host===o.host&&(n||e.port===o.port)))(new URL(Cg.origin),Cg.navigator&&/(msie|trident)/i.test(Cg.navigator.userAgent)):()=>!0,Pze=Cg.hasStandardBrowserEnv?{write(e,n,o,i,c,d){const p=[e+"="+encodeURIComponent(n)];ao.isNumber(o)&&p.push("expires="+new Date(o).toGMTString()),ao.isString(i)&&p.push("path="+i),ao.isString(c)&&p.push("domain="+c),d===!0&&p.push("secure"),document.cookie=p.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Nze(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Lze(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function l2e(e,n,o){let i=!Nze(n);return e&&(i||o==!1)?Lze(e,n):n}const EEe=e=>e instanceof Vy?{...e}:e;function k2(e,n){n=n||{};const o={};function i(_,x,P,B){return ao.isPlainObject(_)&&ao.isPlainObject(x)?ao.merge.call({caseless:B},_,x):ao.isPlainObject(x)?ao.merge({},x):ao.isArray(x)?x.slice():x}function c(_,x,P,B){if(ao.isUndefined(x)){if(!ao.isUndefined(_))return i(void 0,_,P,B)}else return i(_,x,P,B)}function d(_,x){if(!ao.isUndefined(x))return i(void 0,x)}function p(_,x){if(ao.isUndefined(x)){if(!ao.isUndefined(_))return i(void 0,_)}else return i(void 0,x)}function v(_,x,P){if(P in n)return i(_,x);if(P in e)return i(void 0,_)}const S={url:d,method:d,data:d,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:v,headers:(_,x,P)=>c(EEe(_),EEe(x),P,!0)};return ao.forEach(Object.keys({...e,...n}),function(x){const P=S[x]||c,B=P(e[x],n[x],x);ao.isUndefined(B)&&P!==v||(o[x]=B)}),o}const c2e=e=>{const n=k2({},e);let{data:o,withXSRFToken:i,xsrfHeaderName:c,xsrfCookieName:d,headers:p,auth:v}=n;if(n.headers=p=Vy.from(p),n.url=o2e(l2e(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),v&&p.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):""))),ao.isFormData(o)){if(Cg.hasStandardBrowserEnv||Cg.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(ao.isFunction(o.getHeaders)){const S=o.getHeaders(),_=["content-type","content-length"];Object.entries(S).forEach(([x,P])=>{_.includes(x.toLowerCase())&&p.set(x,P)})}}if(Cg.hasStandardBrowserEnv&&(i&&ao.isFunction(i)&&(i=i(n)),i||i!==!1&&Mze(n.url))){const S=c&&d&&Pze.read(d);S&&p.set(c,S)}return n},Bze=typeof XMLHttpRequest<"u",Fze=Bze&&function(e){return new Promise(function(o,i){const c=c2e(e);let d=c.data;const p=Vy.from(c.headers).normalize();let{responseType:v,onUploadProgress:S,onDownloadProgress:_}=c,x,P,B,H,U;function z(){H&&H(),U&&U(),c.cancelToken&&c.cancelToken.unsubscribe(x),c.signal&&c.signal.removeEventListener("abort",x)}let Z=new XMLHttpRequest;Z.open(c.method.toUpperCase(),c.url,!0),Z.timeout=c.timeout;function te(){if(!Z)return;const se=Vy.from("getAllResponseHeaders"in Z&&Z.getAllResponseHeaders()),Ce={data:!v||v==="text"||v==="json"?Z.responseText:Z.response,status:Z.status,statusText:Z.statusText,headers:se,config:e,request:Z};a2e(function(V){o(V),z()},function(V){i(V),z()},Ce),Z=null}"onloadend"in Z?Z.onloadend=te:Z.onreadystatechange=function(){!Z||Z.readyState!==4||Z.status===0&&!(Z.responseURL&&Z.responseURL.indexOf("file:")===0)||setTimeout(te)},Z.onabort=function(){Z&&(i(new ea("Request aborted",ea.ECONNABORTED,e,Z)),Z=null)},Z.onerror=function(Se){const Ce=Se&&Se.message?Se.message:"Network Error",Te=new ea(Ce,ea.ERR_NETWORK,e,Z);Te.event=Se||null,i(Te),Z=null},Z.ontimeout=function(){let Se=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const Ce=c.transitional||s2e;c.timeoutErrorMessage&&(Se=c.timeoutErrorMessage),i(new ea(Se,Ce.clarifyTimeoutError?ea.ETIMEDOUT:ea.ECONNABORTED,e,Z)),Z=null},d===void 0&&p.setContentType(null),"setRequestHeader"in Z&&ao.forEach(p.toJSON(),function(Se,Ce){Z.setRequestHeader(Ce,Se)}),ao.isUndefined(c.withCredentials)||(Z.withCredentials=!!c.withCredentials),v&&v!=="json"&&(Z.responseType=c.responseType),_&&([B,U]=gQ(_,!0),Z.addEventListener("progress",B)),S&&Z.upload&&([P,H]=gQ(S),Z.upload.addEventListener("progress",P),Z.upload.addEventListener("loadend",H)),(c.cancelToken||c.signal)&&(x=se=>{Z&&(i(!se||se.type?new S4(null,e,Z):se),Z.abort(),Z=null)},c.cancelToken&&c.cancelToken.subscribe(x),c.signal&&(c.signal.aborted?x():c.signal.addEventListener("abort",x)));const ce=Rze(c.url);if(ce&&Cg.protocols.indexOf(ce)===-1){i(new ea("Unsupported protocol "+ce+":",ea.ERR_BAD_REQUEST,e));return}Z.send(d||null)})},Vze=(e,n)=>{const{length:o}=e=e?e.filter(Boolean):[];if(n||o){let i=new AbortController,c;const d=function(_){if(!c){c=!0,v();const x=_ instanceof Error?_:this.reason;i.abort(x instanceof ea?x:new S4(x instanceof Error?x.message:x))}};let p=n&&setTimeout(()=>{p=null,d(new ea(`timeout ${n} of ms exceeded`,ea.ETIMEDOUT))},n);const v=()=>{e&&(p&&clearTimeout(p),p=null,e.forEach(_=>{_.unsubscribe?_.unsubscribe(d):_.removeEventListener("abort",d)}),e=null)};e.forEach(_=>_.addEventListener("abort",d));const{signal:S}=i;return S.unsubscribe=()=>ao.asap(v),S}},Hze=function*(e,n){let o=e.byteLength;if(o<n){yield e;return}let i=0,c;for(;i<o;)c=i+n,yield e.slice(i,c),i=c},$ze=async function*(e,n){for await(const o of Uze(e))yield*Hze(o,n)},Uze=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:o,value:i}=await n.read();if(o)break;yield i}}finally{await n.cancel()}},wEe=(e,n,o,i)=>{const c=$ze(e,n);let d=0,p,v=S=>{p||(p=!0,i&&i(S))};return new ReadableStream({async pull(S){try{const{done:_,value:x}=await c.next();if(_){v(),S.close();return}let P=x.byteLength;if(o){let B=d+=P;o(B)}S.enqueue(new Uint8Array(x))}catch(_){throw v(_),_}},cancel(S){return v(S),c.return()}},{highWaterMark:2})},_Ee=64*1024,{isFunction:oX}=ao,zze=(({Request:e,Response:n})=>({Request:e,Response:n}))(ao.global),{ReadableStream:TEe,TextEncoder:AEe}=ao.global,xEe=(e,...n)=>{try{return!!e(...n)}catch{return!1}},jze=e=>{e=ao.merge.call({skipUndefined:!0},zze,e);const{fetch:n,Request:o,Response:i}=e,c=n?oX(n):typeof fetch=="function",d=oX(o),p=oX(i);if(!c)return!1;const v=c&&oX(TEe),S=c&&(typeof AEe=="function"?(U=>z=>U.encode(z))(new AEe):async U=>new Uint8Array(await new o(U).arrayBuffer())),_=d&&v&&xEe(()=>{let U=!1;const z=new o(Cg.origin,{body:new TEe,method:"POST",get duplex(){return U=!0,"half"}}).headers.has("Content-Type");return U&&!z}),x=p&&v&&xEe(()=>ao.isReadableStream(new i("").body)),P={stream:x&&(U=>U.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(U=>{!P[U]&&(P[U]=(z,Z)=>{let te=z&&z[U];if(te)return te.call(z);throw new ea(`Response type '${U}' is not supported`,ea.ERR_NOT_SUPPORT,Z)})});const B=async U=>{if(U==null)return 0;if(ao.isBlob(U))return U.size;if(ao.isSpecCompliantForm(U))return(await new o(Cg.origin,{method:"POST",body:U}).arrayBuffer()).byteLength;if(ao.isArrayBufferView(U)||ao.isArrayBuffer(U))return U.byteLength;if(ao.isURLSearchParams(U)&&(U=U+""),ao.isString(U))return(await S(U)).byteLength},H=async(U,z)=>{const Z=ao.toFiniteNumber(U.getContentLength());return Z??B(z)};return async U=>{let{url:z,method:Z,data:te,signal:ce,cancelToken:se,timeout:Se,onDownloadProgress:Ce,onUploadProgress:Te,responseType:V,headers:ke,withCredentials:et="same-origin",fetchOptions:$e}=c2e(U),Re=n||fetch;V=V?(V+"").toLowerCase():"text";let _e=Vze([ce,se&&se.toAbortSignal()],Se),ut=null;const ct=_e&&_e.unsubscribe&&(()=>{_e.unsubscribe()});let St;try{if(Te&&_&&Z!=="get"&&Z!=="head"&&(St=await H(ke,te))!==0){let Xe=new o(z,{method:"POST",body:te,duplex:"half"}),tn;if(ao.isFormData(te)&&(tn=Xe.headers.get("content-type"))&&ke.setContentType(tn),Xe.body){const[eo,In]=SEe(St,gQ(CEe(Te)));te=wEe(Xe.body,_Ee,eo,In)}}ao.isString(et)||(et=et?"include":"omit");const ee=d&&"credentials"in o.prototype,ln={...$e,signal:_e,method:Z.toUpperCase(),headers:ke.normalize().toJSON(),body:te,duplex:"half",credentials:ee?et:void 0};ut=d&&new o(z,ln);let it=await(d?Re(ut,$e):Re(z,ln));const Ht=x&&(V==="stream"||V==="response");if(x&&(Ce||Ht&&ct)){const Xe={};["status","statusText","headers"].forEach(mn=>{Xe[mn]=it[mn]});const tn=ao.toFiniteNumber(it.headers.get("content-length")),[eo,In]=Ce&&SEe(tn,gQ(CEe(Ce),!0))||[];it=new i(wEe(it.body,_Ee,eo,()=>{In&&In(),ct&&ct()}),Xe)}V=V||"text";let Ut=await P[ao.findKey(P,V)||"text"](it,U);return!Ht&&ct&&ct(),await new Promise((Xe,tn)=>{a2e(Xe,tn,{data:Ut,headers:Vy.from(it.headers),status:it.status,statusText:it.statusText,config:U,request:ut})})}catch(ee){throw ct&&ct(),ee&&ee.name==="TypeError"&&/Load failed|fetch/i.test(ee.message)?Object.assign(new ea("Network Error",ea.ERR_NETWORK,U,ut),{cause:ee.cause||ee}):ea.from(ee,ee&&ee.code,U,ut)}}},Wze=new Map,u2e=e=>{let n=e?e.env:{};const{fetch:o,Request:i,Response:c}=n,d=[i,c,o];let p=d.length,v=p,S,_,x=Wze;for(;v--;)S=d[v],_=x.get(S),_===void 0&&x.set(S,_=v?new Map:jze(n)),x=_;return _};u2e();const xge={http:lze,xhr:Fze,fetch:{get:u2e}};ao.forEach(xge,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const OEe=e=>`- ${e}`,Gze=e=>ao.isFunction(e)||e===null||e===!1,d2e={getAdapter:(e,n)=>{e=ao.isArray(e)?e:[e];const{length:o}=e;let i,c;const d={};for(let p=0;p<o;p++){i=e[p];let v;if(c=i,!Gze(i)&&(c=xge[(v=String(i)).toLowerCase()],c===void 0))throw new ea(`Unknown adapter '${v}'`);if(c&&(ao.isFunction(c)||(c=c.get(n))))break;d[v||"#"+p]=c}if(!c){const p=Object.entries(d).map(([S,_])=>`adapter ${S} `+(_===!1?"is not supported by the environment":"is not available in the build"));let v=o?p.length>1?`since :
`+p.map(OEe).join(`
`):" "+OEe(p[0]):"as no adapter specified";throw new ea("There is no suitable adapter to dispatch the request "+v,"ERR_NOT_SUPPORT")}return c},adapters:xge};function Rpe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new S4(null,e)}function IEe(e){return Rpe(e),e.headers=Vy.from(e.headers),e.data=Ipe.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),d2e.getAdapter(e.adapter||wz.adapter,e)(e).then(function(i){return Rpe(e),i.data=Ipe.call(e,e.transformResponse,i),i.headers=Vy.from(i.headers),i},function(i){return i2e(i)||(Rpe(e),i&&i.response&&(i.response.data=Ipe.call(e,e.transformResponse,i.response),i.response.headers=Vy.from(i.response.headers))),Promise.reject(i)})}const h2e="1.12.2",rte={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{rte[e]=function(i){return typeof i===e||"a"+(n<1?"n ":" ")+e}});const REe={};rte.transitional=function(n,o,i){function c(d,p){return"[Axios v"+h2e+"] Transitional option '"+d+"'"+p+(i?". "+i:"")}return(d,p,v)=>{if(n===!1)throw new ea(c(p," has been removed"+(o?" in "+o:"")),ea.ERR_DEPRECATED);return o&&!REe[p]&&(REe[p]=!0,console.warn(c(p," has been deprecated since v"+o+" and will be removed in the near future"))),n?n(d,p,v):!0}};rte.spelling=function(n){return(o,i)=>(console.warn(`${i} is likely a misspelling of ${n}`),!0)};function qze(e,n,o){if(typeof e!="object")throw new ea("options must be an object",ea.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let c=i.length;for(;c-- >0;){const d=i[c],p=n[d];if(p){const v=e[d],S=v===void 0||p(v,d,e);if(S!==!0)throw new ea("option "+d+" must be "+S,ea.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new ea("Unknown option "+d,ea.ERR_BAD_OPTION)}}const qX={assertOptions:qze,validators:rte},sE=qX.validators;let h2=class{constructor(n){this.defaults=n||{},this.interceptors={request:new yEe,response:new yEe}}async request(n,o){try{return await this._request(n,o)}catch(i){if(i instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{i.stack?d&&!String(i.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+d):i.stack=d}catch{}}throw i}}_request(n,o){typeof n=="string"?(o=o||{},o.url=n):o=n||{},o=k2(this.defaults,o);const{transitional:i,paramsSerializer:c,headers:d}=o;i!==void 0&&qX.assertOptions(i,{silentJSONParsing:sE.transitional(sE.boolean),forcedJSONParsing:sE.transitional(sE.boolean),clarifyTimeoutError:sE.transitional(sE.boolean)},!1),c!=null&&(ao.isFunction(c)?o.paramsSerializer={serialize:c}:qX.assertOptions(c,{encode:sE.function,serialize:sE.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),qX.assertOptions(o,{baseUrl:sE.spelling("baseURL"),withXsrfToken:sE.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let p=d&&ao.merge(d.common,d[o.method]);d&&ao.forEach(["delete","get","head","post","put","patch","common"],U=>{delete d[U]}),o.headers=Vy.concat(p,d);const v=[];let S=!0;this.interceptors.request.forEach(function(z){typeof z.runWhen=="function"&&z.runWhen(o)===!1||(S=S&&z.synchronous,v.unshift(z.fulfilled,z.rejected))});const _=[];this.interceptors.response.forEach(function(z){_.push(z.fulfilled,z.rejected)});let x,P=0,B;if(!S){const U=[IEe.bind(this),void 0];for(U.unshift(...v),U.push(..._),B=U.length,x=Promise.resolve(o);P<B;)x=x.then(U[P++],U[P++]);return x}B=v.length;let H=o;for(;P<B;){const U=v[P++],z=v[P++];try{H=U(H)}catch(Z){z.call(this,Z);break}}try{x=IEe.call(this,H)}catch(U){return Promise.reject(U)}for(P=0,B=_.length;P<B;)x=x.then(_[P++],_[P++]);return x}getUri(n){n=k2(this.defaults,n);const o=l2e(n.baseURL,n.url,n.allowAbsoluteUrls);return o2e(o,n.params,n.paramsSerializer)}};ao.forEach(["delete","get","head","options"],function(n){h2.prototype[n]=function(o,i){return this.request(k2(i||{},{method:n,url:o,data:(i||{}).data}))}});ao.forEach(["post","put","patch"],function(n){function o(i){return function(d,p,v){return this.request(k2(v||{},{method:n,headers:i?{"Content-Type":"multipart/form-data"}:{},url:d,data:p}))}}h2.prototype[n]=o(),h2.prototype[n+"Form"]=o(!0)});let Kze=class f2e{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(d){o=d});const i=this;this.promise.then(c=>{if(!i._listeners)return;let d=i._listeners.length;for(;d-- >0;)i._listeners[d](c);i._listeners=null}),this.promise.then=c=>{let d;const p=new Promise(v=>{i.subscribe(v),d=v}).then(c);return p.cancel=function(){i.unsubscribe(d)},p},n(function(d,p,v){i.reason||(i.reason=new S4(d,p,v),o(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const o=this._listeners.indexOf(n);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const n=new AbortController,o=i=>{n.abort(i)};return this.subscribe(o),n.signal.unsubscribe=()=>this.unsubscribe(o),n.signal}static source(){let n;return{token:new f2e(function(c){n=c}),cancel:n}}};function Zze(e){return function(o){return e.apply(null,o)}}function Yze(e){return ao.isObject(e)&&e.isAxiosError===!0}const Oge={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Oge).forEach(([e,n])=>{Oge[n]=e});function p2e(e){const n=new h2(e),o=Wke(h2.prototype.request,n);return ao.extend(o,h2.prototype,n,{allOwnKeys:!0}),ao.extend(o,n,null,{allOwnKeys:!0}),o.create=function(c){return p2e(k2(e,c))},o}const Ah=p2e(wz);Ah.Axios=h2;Ah.CanceledError=S4;Ah.CancelToken=Kze;Ah.isCancel=i2e;Ah.VERSION=h2e;Ah.toFormData=ste;Ah.AxiosError=ea;Ah.Cancel=Ah.CanceledError;Ah.all=function(n){return Promise.all(n)};Ah.spread=Zze;Ah.isAxiosError=Yze;Ah.mergeConfig=k2;Ah.AxiosHeaders=Vy;Ah.formToJSON=e=>r2e(ao.isHTMLForm(e)?new FormData(e):e);Ah.getAdapter=d2e.getAdapter;Ah.HttpStatusCode=Oge;Ah.default=Ah;const{Axios:iJe,AxiosError:aJe,CanceledError:lJe,isCancel:cJe,CancelToken:uJe,VERSION:dJe,all:hJe,Cancel:fJe,isAxiosError:pJe,spread:mJe,toFormData:gJe,AxiosHeaders:vJe,HttpStatusCode:yJe,formToJSON:bJe,getAdapter:SJe,mergeConfig:CJe}=Ah;window.axios=Ah;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Ige=!1,Rge=!1,f2=[],kge=-1;function Xze(e){Jze(e)}function Jze(e){f2.includes(e)||f2.push(e),eje()}function Qze(e){let n=f2.indexOf(e);n!==-1&&n>kge&&f2.splice(n,1)}function eje(){!Rge&&!Ige&&(Ige=!0,queueMicrotask(tje))}function tje(){Ige=!1,Rge=!0;for(let e=0;e<f2.length;e++)f2[e](),kge=e;f2.length=0,kge=-1,Rge=!1}var C4,G2,E4,m2e,Dge=!0;function nje(e){Dge=!1,e(),Dge=!0}function oje(e){C4=e.reactive,E4=e.release,G2=n=>e.effect(n,{scheduler:o=>{Dge?Xze(o):o()}}),m2e=e.raw}function kEe(e){G2=e}function sje(e){let n=()=>{};return[i=>{let c=G2(i);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(d=>d())}),e._x_effects.add(c),n=()=>{c!==void 0&&(e._x_effects.delete(c),E4(c))},c},()=>{n()}]}function g2e(e,n){let o=!0,i,c=G2(()=>{let d=e();JSON.stringify(d),o?i=d:queueMicrotask(()=>{n(d,i),i=d}),o=!1});return()=>E4(c)}var v2e=[],y2e=[],b2e=[];function rje(e){b2e.push(e)}function f0e(e,n){typeof n=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(n)):(n=e,y2e.push(n))}function S2e(e){v2e.push(e)}function C2e(e,n,o){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[n]||(e._x_attributeCleanups[n]=[]),e._x_attributeCleanups[n].push(o)}function E2e(e,n){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([o,i])=>{(n===void 0||n.includes(o))&&(i.forEach(c=>c()),delete e._x_attributeCleanups[o])})}function ije(e){for(e._x_effects?.forEach(Qze);e._x_cleanups?.length;)e._x_cleanups.pop()()}var p0e=new MutationObserver(y0e),m0e=!1;function g0e(){p0e.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),m0e=!0}function w2e(){aje(),p0e.disconnect(),m0e=!1}var E5=[];function aje(){let e=p0e.takeRecords();E5.push(()=>e.length>0&&y0e(e));let n=E5.length;queueMicrotask(()=>{if(E5.length===n)for(;E5.length>0;)E5.shift()()})}function Ad(e){if(!m0e)return e();w2e();let n=e();return g0e(),n}var v0e=!1,vQ=[];function lje(){v0e=!0}function cje(){v0e=!1,y0e(vQ),vQ=[]}function y0e(e){if(v0e){vQ=vQ.concat(e);return}let n=[],o=new Set,i=new Map,c=new Map;for(let d=0;d<e.length;d++)if(!e[d].target._x_ignoreMutationObserver&&(e[d].type==="childList"&&(e[d].removedNodes.forEach(p=>{p.nodeType===1&&p._x_marker&&o.add(p)}),e[d].addedNodes.forEach(p=>{if(p.nodeType===1){if(o.has(p)){o.delete(p);return}p._x_marker||n.push(p)}})),e[d].type==="attributes")){let p=e[d].target,v=e[d].attributeName,S=e[d].oldValue,_=()=>{i.has(p)||i.set(p,[]),i.get(p).push({name:v,value:p.getAttribute(v)})},x=()=>{c.has(p)||c.set(p,[]),c.get(p).push(v)};p.hasAttribute(v)&&S===null?_():p.hasAttribute(v)?(x(),_()):x()}c.forEach((d,p)=>{E2e(p,d)}),i.forEach((d,p)=>{v2e.forEach(v=>v(p,d))});for(let d of o)n.some(p=>p.contains(d))||y2e.forEach(p=>p(d));for(let d of n)d.isConnected&&b2e.forEach(p=>p(d));n=null,o=null,i=null,c=null}function _2e(e){return Tz(G3(e))}function _z(e,n,o){return e._x_dataStack=[n,...G3(o||e)],()=>{e._x_dataStack=e._x_dataStack.filter(i=>i!==n)}}function G3(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?G3(e.host):e.parentNode?G3(e.parentNode):[]}function Tz(e){return new Proxy({objects:e},uje)}var uje={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(n=>Object.keys(n))))},has({objects:e},n){return n==Symbol.unscopables?!1:e.some(o=>Object.prototype.hasOwnProperty.call(o,n)||Reflect.has(o,n))},get({objects:e},n,o){return n=="toJSON"?dje:Reflect.get(e.find(i=>Reflect.has(i,n))||{},n,o)},set({objects:e},n,o,i){const c=e.find(p=>Object.prototype.hasOwnProperty.call(p,n))||e[e.length-1],d=Object.getOwnPropertyDescriptor(c,n);return d?.set&&d?.get?d.set.call(i,o)||!0:Reflect.set(c,n,o)}};function dje(){return Reflect.ownKeys(this).reduce((n,o)=>(n[o]=Reflect.get(this,o),n),{})}function T2e(e){let n=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,o=(i,c="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([d,{value:p,enumerable:v}])=>{if(v===!1||p===void 0||typeof p=="object"&&p!==null&&p.__v_skip)return;let S=c===""?d:`${c}.${d}`;typeof p=="object"&&p!==null&&p._x_interceptor?i[d]=p.initialize(e,S,d):n(p)&&p!==i&&!(p instanceof Element)&&o(p,S)})};return o(e)}function A2e(e,n=()=>{}){let o={initialValue:void 0,_x_interceptor:!0,initialize(i,c,d){return e(this.initialValue,()=>hje(i,c),p=>Mge(i,c,p),c,d)}};return n(o),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let c=o.initialize.bind(o);o.initialize=(d,p,v)=>{let S=i.initialize(d,p,v);return o.initialValue=S,c(d,p,v)}}else o.initialValue=i;return o}}function hje(e,n){return n.split(".").reduce((o,i)=>o[i],e)}function Mge(e,n,o){if(typeof n=="string"&&(n=n.split(".")),n.length===1)e[n[0]]=o;else{if(n.length===0)throw error;return e[n[0]]||(e[n[0]]={}),Mge(e[n[0]],n.slice(1),o)}}var x2e={};function FS(e,n){x2e[e]=n}function Pge(e,n){let o=fje(n);return Object.entries(x2e).forEach(([i,c])=>{Object.defineProperty(e,`$${i}`,{get(){return c(n,o)},enumerable:!1})}),e}function fje(e){let[n,o]=M2e(e),i={interceptor:A2e,...n};return f0e(e,o),i}function pje(e,n,o,...i){try{return o(...i)}catch(c){H6(c,e,n)}}function H6(e,n,o=void 0){e=Object.assign(e??{message:"No error message given."},{el:n,expression:o}),console.warn(`Alpine Expression Error: ${e.message}

${o?'Expression: "'+o+`"

`:""}`,n),setTimeout(()=>{throw e},0)}var KX=!0;function O2e(e){let n=KX;KX=!1;let o=e();return KX=n,o}function p2(e,n,o={}){let i;return kv(e,n)(c=>i=c,o),i}function kv(...e){return I2e(...e)}var I2e=R2e;function mje(e){I2e=e}function R2e(e,n){let o={};Pge(o,e);let i=[o,...G3(e)],c=typeof n=="function"?gje(i,n):yje(i,n,e);return pje.bind(null,e,n,c)}function gje(e,n){return(o=()=>{},{scope:i={},params:c=[],context:d}={})=>{let p=n.apply(Tz([i,...e]),c);yQ(o,p)}}var kpe={};function vje(e,n){if(kpe[e])return kpe[e];let o=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,d=(()=>{try{let p=new o(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`);return Object.defineProperty(p,"name",{value:`[Alpine] ${e}`}),p}catch(p){return H6(p,n,e),Promise.resolve()}})();return kpe[e]=d,d}function yje(e,n,o){let i=vje(n,o);return(c=()=>{},{scope:d={},params:p=[],context:v}={})=>{i.result=void 0,i.finished=!1;let S=Tz([d,...e]);if(typeof i=="function"){let _=i.call(v,i,S).catch(x=>H6(x,o,n));i.finished?(yQ(c,i.result,S,p,o),i.result=void 0):_.then(x=>{yQ(c,x,S,p,o)}).catch(x=>H6(x,o,n)).finally(()=>i.result=void 0)}}}function yQ(e,n,o,i,c){if(KX&&typeof n=="function"){let d=n.apply(o,i);d instanceof Promise?d.then(p=>yQ(e,p,o,i)).catch(p=>H6(p,c,n)):e(d)}else typeof n=="object"&&n instanceof Promise?n.then(d=>e(d)):e(n)}var b0e="x-";function w4(e=""){return b0e+e}function bje(e){b0e=e}var bQ={};function nf(e,n){return bQ[e]=n,{before(o){if(!bQ[o]){console.warn(String.raw`Cannot find directive \`${o}\`. \`${e}\` will use the default order of execution`);return}const i=Qk.indexOf(o);Qk.splice(i>=0?i:Qk.indexOf("DEFAULT"),0,e)}}}function Sje(e){return Object.keys(bQ).includes(e)}function S0e(e,n,o){if(n=Array.from(n),e._x_virtualDirectives){let d=Object.entries(e._x_virtualDirectives).map(([v,S])=>({name:v,value:S})),p=k2e(d);d=d.map(v=>p.find(S=>S.name===v.name)?{name:`x-bind:${v.name}`,value:`"${v.value}"`}:v),n=n.concat(d)}let i={};return n.map(L2e((d,p)=>i[d]=p)).filter(F2e).map(wje(i,o)).sort(_je).map(d=>Eje(e,d))}function k2e(e){return Array.from(e).map(L2e()).filter(n=>!F2e(n))}var Nge=!1,j5=new Map,D2e=Symbol();function Cje(e){Nge=!0;let n=Symbol();D2e=n,j5.set(n,[]);let o=()=>{for(;j5.get(n).length;)j5.get(n).shift()();j5.delete(n)},i=()=>{Nge=!1,o()};e(o),i()}function M2e(e){let n=[],o=v=>n.push(v),[i,c]=sje(e);return n.push(c),[{Alpine:Az,effect:i,cleanup:o,evaluateLater:kv.bind(kv,e),evaluate:p2.bind(p2,e)},()=>n.forEach(v=>v())]}function Eje(e,n){let o=()=>{},i=bQ[n.type]||o,[c,d]=M2e(e);C2e(e,n.original,d);let p=()=>{e._x_ignore||e._x_ignoreSelf||(i.inline&&i.inline(e,n,c),i=i.bind(i,e,n,c),Nge?j5.get(D2e).push(i):i())};return p.runCleanups=d,p}var P2e=(e,n)=>({name:o,value:i})=>(o.startsWith(e)&&(o=o.replace(e,n)),{name:o,value:i}),N2e=e=>e;function L2e(e=()=>{}){return({name:n,value:o})=>{let{name:i,value:c}=B2e.reduce((d,p)=>p(d),{name:n,value:o});return i!==n&&e(i,n),{name:i,value:c}}}var B2e=[];function C0e(e){B2e.push(e)}function F2e({name:e}){return V2e().test(e)}var V2e=()=>new RegExp(`^${b0e}([^:^.]+)\\b`);function wje(e,n){return({name:o,value:i})=>{let c=o.match(V2e()),d=o.match(/:([a-zA-Z0-9\-_:]+)/),p=o.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],v=n||e[o]||o;return{type:c?c[1]:null,value:d?d[1]:null,modifiers:p.map(S=>S.replace(".","")),expression:i,original:v}}}var Lge="DEFAULT",Qk=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Lge,"teleport"];function _je(e,n){let o=Qk.indexOf(e.type)===-1?Lge:e.type,i=Qk.indexOf(n.type)===-1?Lge:n.type;return Qk.indexOf(o)-Qk.indexOf(i)}function c6(e,n,o={}){e.dispatchEvent(new CustomEvent(n,{detail:o,bubbles:!0,composed:!0,cancelable:!0}))}function D2(e,n){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(c=>D2(c,n));return}let o=!1;if(n(e,()=>o=!0),o)return;let i=e.firstElementChild;for(;i;)D2(i,n),i=i.nextElementSibling}function Y0(e,...n){console.warn(`Alpine Warning: ${e}`,...n)}var DEe=!1;function Tje(){DEe&&Y0("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),DEe=!0,document.body||Y0("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),c6(document,"alpine:init"),c6(document,"alpine:initializing"),g0e(),rje(n=>vT(n,D2)),f0e(n=>T4(n)),S2e((n,o)=>{S0e(n,o).forEach(i=>i())});let e=n=>!ite(n.parentElement,!0);Array.from(document.querySelectorAll(U2e().join(","))).filter(e).forEach(n=>{vT(n)}),c6(document,"alpine:initialized"),setTimeout(()=>{Ije()})}var E0e=[],H2e=[];function $2e(){return E0e.map(e=>e())}function U2e(){return E0e.concat(H2e).map(e=>e())}function z2e(e){E0e.push(e)}function j2e(e){H2e.push(e)}function ite(e,n=!1){return _4(e,o=>{if((n?U2e():$2e()).some(c=>o.matches(c)))return!0})}function _4(e,n){if(e){if(n(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return _4(e.parentElement,n)}}function Aje(e){return $2e().some(n=>e.matches(n))}var W2e=[];function xje(e){W2e.push(e)}var Oje=1;function vT(e,n=D2,o=()=>{}){_4(e,i=>i._x_ignore)||Cje(()=>{n(e,(i,c)=>{i._x_marker||(o(i,c),W2e.forEach(d=>d(i,c)),S0e(i,i.attributes).forEach(d=>d()),i._x_ignore||(i._x_marker=Oje++),i._x_ignore&&c())})})}function T4(e,n=D2){n(e,o=>{ije(o),E2e(o),delete o._x_marker})}function Ije(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([n,o,i])=>{Sje(o)||i.some(c=>{if(document.querySelector(c))return Y0(`found "${c}", but missing ${n} plugin`),!0})})}var Bge=[],w0e=!1;function _0e(e=()=>{}){return queueMicrotask(()=>{w0e||setTimeout(()=>{Fge()})}),new Promise(n=>{Bge.push(()=>{e(),n()})})}function Fge(){for(w0e=!1;Bge.length;)Bge.shift()()}function Rje(){w0e=!0}function T0e(e,n){return Array.isArray(n)?MEe(e,n.join(" ")):typeof n=="object"&&n!==null?kje(e,n):typeof n=="function"?T0e(e,n()):MEe(e,n)}function MEe(e,n){let o=c=>c.split(" ").filter(d=>!e.classList.contains(d)).filter(Boolean),i=c=>(e.classList.add(...c),()=>{e.classList.remove(...c)});return n=n===!0?n="":n||"",i(o(n))}function kje(e,n){let o=v=>v.split(" ").filter(Boolean),i=Object.entries(n).flatMap(([v,S])=>S?o(v):!1).filter(Boolean),c=Object.entries(n).flatMap(([v,S])=>S?!1:o(v)).filter(Boolean),d=[],p=[];return c.forEach(v=>{e.classList.contains(v)&&(e.classList.remove(v),p.push(v))}),i.forEach(v=>{e.classList.contains(v)||(e.classList.add(v),d.push(v))}),()=>{p.forEach(v=>e.classList.add(v)),d.forEach(v=>e.classList.remove(v))}}function ate(e,n){return typeof n=="object"&&n!==null?Dje(e,n):Mje(e,n)}function Dje(e,n){let o={};return Object.entries(n).forEach(([i,c])=>{o[i]=e.style[i],i.startsWith("--")||(i=Pje(i)),e.style.setProperty(i,c)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{ate(e,o)}}function Mje(e,n){let o=e.getAttribute("style",n);return e.setAttribute("style",n),()=>{e.setAttribute("style",o||"")}}function Pje(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vge(e,n=()=>{}){let o=!1;return function(){o?n.apply(this,arguments):(o=!0,e.apply(this,arguments))}}nf("transition",(e,{value:n,modifiers:o,expression:i},{evaluate:c})=>{typeof i=="function"&&(i=c(i)),i!==!1&&(!i||typeof i=="boolean"?Lje(e,o,n):Nje(e,i,n))});function Nje(e,n,o){G2e(e,T0e,""),{enter:c=>{e._x_transition.enter.during=c},"enter-start":c=>{e._x_transition.enter.start=c},"enter-end":c=>{e._x_transition.enter.end=c},leave:c=>{e._x_transition.leave.during=c},"leave-start":c=>{e._x_transition.leave.start=c},"leave-end":c=>{e._x_transition.leave.end=c}}[o](n)}function Lje(e,n,o){G2e(e,ate);let i=!n.includes("in")&&!n.includes("out")&&!o,c=i||n.includes("in")||["enter"].includes(o),d=i||n.includes("out")||["leave"].includes(o);n.includes("in")&&!i&&(n=n.filter((te,ce)=>ce<n.indexOf("out"))),n.includes("out")&&!i&&(n=n.filter((te,ce)=>ce>n.indexOf("out")));let p=!n.includes("opacity")&&!n.includes("scale"),v=p||n.includes("opacity"),S=p||n.includes("scale"),_=v?0:1,x=S?w5(n,"scale",95)/100:1,P=w5(n,"delay",0)/1e3,B=w5(n,"origin","center"),H="opacity, transform",U=w5(n,"duration",150)/1e3,z=w5(n,"duration",75)/1e3,Z="cubic-bezier(0.4, 0.0, 0.2, 1)";c&&(e._x_transition.enter.during={transformOrigin:B,transitionDelay:`${P}s`,transitionProperty:H,transitionDuration:`${U}s`,transitionTimingFunction:Z},e._x_transition.enter.start={opacity:_,transform:`scale(${x})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),d&&(e._x_transition.leave.during={transformOrigin:B,transitionDelay:`${P}s`,transitionProperty:H,transitionDuration:`${z}s`,transitionTimingFunction:Z},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:_,transform:`scale(${x})`})}function G2e(e,n,o={}){e._x_transition||(e._x_transition={enter:{during:o,start:o,end:o},leave:{during:o,start:o,end:o},in(i=()=>{},c=()=>{}){Hge(e,n,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,c)},out(i=()=>{},c=()=>{}){Hge(e,n,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,c)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,n,o,i){const c=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let d=()=>c(o);if(n){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(o):d():e._x_transition?e._x_transition.in(o):d();return}e._x_hidePromise=e._x_transition?new Promise((p,v)=>{e._x_transition.out(()=>{},()=>p(i)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>v({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let p=q2e(e);p?(p._x_hideChildren||(p._x_hideChildren=[]),p._x_hideChildren.push(e)):c(()=>{let v=S=>{let _=Promise.all([S._x_hidePromise,...(S._x_hideChildren||[]).map(v)]).then(([x])=>x?.());return delete S._x_hidePromise,delete S._x_hideChildren,_};v(e).catch(S=>{if(!S.isFromCancelledTransition)throw S})})})};function q2e(e){let n=e.parentNode;if(n)return n._x_hidePromise?n:q2e(n)}function Hge(e,n,{during:o,start:i,end:c}={},d=()=>{},p=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(o).length===0&&Object.keys(i).length===0&&Object.keys(c).length===0){d(),p();return}let v,S,_;Bje(e,{start(){v=n(e,i)},during(){S=n(e,o)},before:d,end(){v(),_=n(e,c)},after:p,cleanup(){S(),_()}})}function Bje(e,n){let o,i,c,d=Vge(()=>{Ad(()=>{o=!0,i||n.before(),c||(n.end(),Fge()),n.after(),e.isConnected&&n.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(p){this.beforeCancels.push(p)},cancel:Vge(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();d()}),finish:d},Ad(()=>{n.start(),n.during()}),Rje(),requestAnimationFrame(()=>{if(o)return;let p=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,v=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;p===0&&(p=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),Ad(()=>{n.before()}),i=!0,requestAnimationFrame(()=>{o||(Ad(()=>{n.end()}),Fge(),setTimeout(e._x_transitioning.finish,p+v),c=!0)})})}function w5(e,n,o){if(e.indexOf(n)===-1)return o;const i=e[e.indexOf(n)+1];if(!i||n==="scale"&&isNaN(i))return o;if(n==="duration"||n==="delay"){let c=i.match(/([0-9]+)ms/);if(c)return c[1]}return n==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(n)+2])?[i,e[e.indexOf(n)+2]].join(" "):i}var VO=!1;function qO(e,n=()=>{}){return(...o)=>VO?n(...o):e(...o)}function Fje(e){return(...n)=>VO&&e(...n)}var K2e=[];function lte(e){K2e.push(e)}function Vje(e,n){K2e.forEach(o=>o(e,n)),VO=!0,Z2e(()=>{vT(n,(o,i)=>{i(o,()=>{})})}),VO=!1}var $ge=!1;function Hje(e,n){n._x_dataStack||(n._x_dataStack=e._x_dataStack),VO=!0,$ge=!0,Z2e(()=>{$je(n)}),VO=!1,$ge=!1}function $je(e){let n=!1;vT(e,(i,c)=>{D2(i,(d,p)=>{if(n&&Aje(d))return p();n=!0,c(d,p)})})}function Z2e(e){let n=G2;kEe((o,i)=>{let c=n(o);return E4(c),()=>{}}),e(),kEe(n)}function Y2e(e,n,o,i=[]){switch(e._x_bindings||(e._x_bindings=C4({})),e._x_bindings[n]=o,n=i.includes("camel")?Zje(n):n,n){case"value":Uje(e,o);break;case"style":jje(e,o);break;case"class":zje(e,o);break;case"selected":case"checked":Wje(e,n,o);break;default:X2e(e,n,o);break}}function Uje(e,n){if(eDe(e))e.attributes.value===void 0&&(e.value=n),window.fromModel&&(typeof n=="boolean"?e.checked=ZX(e.value)===n:e.checked=PEe(e.value,n));else if(A0e(e))Number.isInteger(n)?e.value=n:!Array.isArray(n)&&typeof n!="boolean"&&![null,void 0].includes(n)?e.value=String(n):Array.isArray(n)?e.checked=n.some(o=>PEe(o,e.value)):e.checked=!!n;else if(e.tagName==="SELECT")Kje(e,n);else{if(e.value===n)return;e.value=n===void 0?"":n}}function zje(e,n){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=T0e(e,n)}function jje(e,n){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=ate(e,n)}function Wje(e,n,o){X2e(e,n,o),qje(e,n,o)}function X2e(e,n,o){[null,void 0,!1].includes(o)&&Xje(n)?e.removeAttribute(n):(J2e(n)&&(o=n),Gje(e,n,o))}function Gje(e,n,o){e.getAttribute(n)!=o&&e.setAttribute(n,o)}function qje(e,n,o){e[n]!==o&&(e[n]=o)}function Kje(e,n){const o=[].concat(n).map(i=>i+"");Array.from(e.options).forEach(i=>{i.selected=o.includes(i.value)})}function Zje(e){return e.toLowerCase().replace(/-(\w)/g,(n,o)=>o.toUpperCase())}function PEe(e,n){return e==n}function ZX(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}var Yje=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function J2e(e){return Yje.has(e)}function Xje(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function Jje(e,n,o){return e._x_bindings&&e._x_bindings[n]!==void 0?e._x_bindings[n]:Q2e(e,n,o)}function Qje(e,n,o,i=!0){if(e._x_bindings&&e._x_bindings[n]!==void 0)return e._x_bindings[n];if(e._x_inlineBindings&&e._x_inlineBindings[n]!==void 0){let c=e._x_inlineBindings[n];return c.extract=i,O2e(()=>p2(e,c.expression))}return Q2e(e,n,o)}function Q2e(e,n,o){let i=e.getAttribute(n);return i===null?typeof o=="function"?o():o:i===""?!0:J2e(n)?!![n,"true"].includes(i):i}function A0e(e){return e.type==="checkbox"||e.localName==="ui-checkbox"||e.localName==="ui-switch"}function eDe(e){return e.type==="radio"||e.localName==="ui-radio"}function tDe(e,n){let o;return function(){const i=this,c=arguments,d=function(){o=null,e.apply(i,c)};clearTimeout(o),o=setTimeout(d,n)}}function nDe(e,n){let o;return function(){let i=this,c=arguments;o||(e.apply(i,c),o=!0,setTimeout(()=>o=!1,n))}}function oDe({get:e,set:n},{get:o,set:i}){let c=!0,d,p=G2(()=>{let v=e(),S=o();if(c)i(Dpe(v)),c=!1;else{let _=JSON.stringify(v),x=JSON.stringify(S);_!==d?i(Dpe(v)):_!==x&&n(Dpe(S))}d=JSON.stringify(e()),JSON.stringify(o())});return()=>{E4(p)}}function Dpe(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function e8e(e){(Array.isArray(e)?e:[e]).forEach(o=>o(Az))}var Pk={},NEe=!1;function t8e(e,n){if(NEe||(Pk=C4(Pk),NEe=!0),n===void 0)return Pk[e];Pk[e]=n,T2e(Pk[e]),typeof n=="object"&&n!==null&&n.hasOwnProperty("init")&&typeof n.init=="function"&&Pk[e].init()}function n8e(){return Pk}var sDe={};function o8e(e,n){let o=typeof n!="function"?()=>n:n;return e instanceof Element?rDe(e,o()):(sDe[e]=o,()=>{})}function s8e(e){return Object.entries(sDe).forEach(([n,o])=>{Object.defineProperty(e,n,{get(){return(...i)=>o(...i)}})}),e}function rDe(e,n,o){let i=[];for(;i.length;)i.pop()();let c=Object.entries(n).map(([p,v])=>({name:p,value:v})),d=k2e(c);return c=c.map(p=>d.find(v=>v.name===p.name)?{name:`x-bind:${p.name}`,value:`"${p.value}"`}:p),S0e(e,c,o).map(p=>{i.push(p.runCleanups),p()}),()=>{for(;i.length;)i.pop()()}}var iDe={};function r8e(e,n){iDe[e]=n}function i8e(e,n){return Object.entries(iDe).forEach(([o,i])=>{Object.defineProperty(e,o,{get(){return(...c)=>i.bind(n)(...c)},enumerable:!1})}),e}var a8e={get reactive(){return C4},get release(){return E4},get effect(){return G2},get raw(){return m2e},version:"3.15.0",flushAndStopDeferringMutations:cje,dontAutoEvaluateFunctions:O2e,disableEffectScheduling:nje,startObservingMutations:g0e,stopObservingMutations:w2e,setReactivityEngine:oje,onAttributeRemoved:C2e,onAttributesAdded:S2e,closestDataStack:G3,skipDuringClone:qO,onlyDuringClone:Fje,addRootSelector:z2e,addInitSelector:j2e,interceptClone:lte,addScopeToNode:_z,deferMutations:lje,mapAttributes:C0e,evaluateLater:kv,interceptInit:xje,setEvaluator:mje,mergeProxies:Tz,extractProp:Qje,findClosest:_4,onElRemoved:f0e,closestRoot:ite,destroyTree:T4,interceptor:A2e,transition:Hge,setStyles:ate,mutateDom:Ad,directive:nf,entangle:oDe,throttle:nDe,debounce:tDe,evaluate:p2,initTree:vT,nextTick:_0e,prefixed:w4,prefix:bje,plugin:e8e,magic:FS,store:t8e,start:Tje,clone:Hje,cloneNode:Vje,bound:Jje,$data:_2e,watch:g2e,walk:D2,data:r8e,bind:o8e},Az=a8e;function l8e(e,n){const o=Object.create(null),i=e.split(",");for(let c=0;c<i.length;c++)o[i[c]]=!0;return c=>!!o[c]}var c8e=Object.freeze({}),u8e=Object.prototype.hasOwnProperty,cte=(e,n)=>u8e.call(e,n),m2=Array.isArray,u6=e=>aDe(e)==="[object Map]",d8e=e=>typeof e=="string",x0e=e=>typeof e=="symbol",ute=e=>e!==null&&typeof e=="object",h8e=Object.prototype.toString,aDe=e=>h8e.call(e),lDe=e=>aDe(e).slice(8,-1),O0e=e=>d8e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,f8e=e=>{const n=Object.create(null);return o=>n[o]||(n[o]=e(o))},p8e=f8e(e=>e.charAt(0).toUpperCase()+e.slice(1)),cDe=(e,n)=>e!==n&&(e===e||n===n),Uge=new WeakMap,_5=[],hE,g2=Symbol("iterate"),zge=Symbol("Map key iterate");function m8e(e){return e&&e._isEffect===!0}function g8e(e,n=c8e){m8e(e)&&(e=e.raw);const o=b8e(e,n);return n.lazy||o(),o}function v8e(e){e.active&&(uDe(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var y8e=0;function b8e(e,n){const o=function(){if(!o.active)return e();if(!_5.includes(o)){uDe(o);try{return C8e(),_5.push(o),hE=o,e()}finally{_5.pop(),dDe(),hE=_5[_5.length-1]}}};return o.id=y8e++,o.allowRecurse=!!n.allowRecurse,o._isEffect=!0,o.active=!0,o.raw=e,o.deps=[],o.options=n,o}function uDe(e){const{deps:n}=e;if(n.length){for(let o=0;o<n.length;o++)n[o].delete(e);n.length=0}}var q3=!0,I0e=[];function S8e(){I0e.push(q3),q3=!1}function C8e(){I0e.push(q3),q3=!0}function dDe(){const e=I0e.pop();q3=e===void 0?!0:e}function MS(e,n,o){if(!q3||hE===void 0)return;let i=Uge.get(e);i||Uge.set(e,i=new Map);let c=i.get(o);c||i.set(o,c=new Set),c.has(hE)||(c.add(hE),hE.deps.push(c),hE.options.onTrack&&hE.options.onTrack({effect:hE,target:e,type:n,key:o}))}function HO(e,n,o,i,c,d){const p=Uge.get(e);if(!p)return;const v=new Set,S=x=>{x&&x.forEach(P=>{(P!==hE||P.allowRecurse)&&v.add(P)})};if(n==="clear")p.forEach(S);else if(o==="length"&&m2(e))p.forEach((x,P)=>{(P==="length"||P>=i)&&S(x)});else switch(o!==void 0&&S(p.get(o)),n){case"add":m2(e)?O0e(o)&&S(p.get("length")):(S(p.get(g2)),u6(e)&&S(p.get(zge)));break;case"delete":m2(e)||(S(p.get(g2)),u6(e)&&S(p.get(zge)));break;case"set":u6(e)&&S(p.get(g2));break}const _=x=>{x.options.onTrigger&&x.options.onTrigger({effect:x,target:e,key:o,type:n,newValue:i,oldValue:c,oldTarget:d}),x.options.scheduler?x.options.scheduler(x):x()};v.forEach(_)}var E8e=l8e("__proto__,__v_isRef,__isVue"),hDe=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(x0e)),w8e=fDe(),_8e=fDe(!0),LEe=T8e();function T8e(){const e={};return["includes","indexOf","lastIndexOf"].forEach(n=>{e[n]=function(...o){const i=Eu(this);for(let d=0,p=this.length;d<p;d++)MS(i,"get",d+"");const c=i[n](...o);return c===-1||c===!1?i[n](...o.map(Eu)):c}}),["push","pop","shift","unshift","splice"].forEach(n=>{e[n]=function(...o){S8e();const i=Eu(this)[n].apply(this,o);return dDe(),i}}),e}function fDe(e=!1,n=!1){return function(i,c,d){if(c==="__v_isReactive")return!e;if(c==="__v_isReadonly")return e;if(c==="__v_raw"&&d===(e?n?V8e:vDe:n?F8e:gDe).get(i))return i;const p=m2(i);if(!e&&p&&cte(LEe,c))return Reflect.get(LEe,c,d);const v=Reflect.get(i,c,d);return(x0e(c)?hDe.has(c):E8e(c))||(e||MS(i,"get",c),n)?v:jge(v)?!p||!O0e(c)?v.value:v:ute(v)?e?yDe(v):M0e(v):v}}var A8e=x8e();function x8e(e=!1){return function(o,i,c,d){let p=o[i];if(!e&&(c=Eu(c),p=Eu(p),!m2(o)&&jge(p)&&!jge(c)))return p.value=c,!0;const v=m2(o)&&O0e(i)?Number(i)<o.length:cte(o,i),S=Reflect.set(o,i,c,d);return o===Eu(d)&&(v?cDe(c,p)&&HO(o,"set",i,c,p):HO(o,"add",i,c)),S}}function O8e(e,n){const o=cte(e,n),i=e[n],c=Reflect.deleteProperty(e,n);return c&&o&&HO(e,"delete",n,void 0,i),c}function I8e(e,n){const o=Reflect.has(e,n);return(!x0e(n)||!hDe.has(n))&&MS(e,"has",n),o}function R8e(e){return MS(e,"iterate",m2(e)?"length":g2),Reflect.ownKeys(e)}var k8e={get:w8e,set:A8e,deleteProperty:O8e,has:I8e,ownKeys:R8e},D8e={get:_8e,set(e,n){return console.warn(`Set operation on key "${String(n)}" failed: target is readonly.`,e),!0},deleteProperty(e,n){return console.warn(`Delete operation on key "${String(n)}" failed: target is readonly.`,e),!0}},R0e=e=>ute(e)?M0e(e):e,k0e=e=>ute(e)?yDe(e):e,D0e=e=>e,dte=e=>Reflect.getPrototypeOf(e);function sX(e,n,o=!1,i=!1){e=e.__v_raw;const c=Eu(e),d=Eu(n);n!==d&&!o&&MS(c,"get",n),!o&&MS(c,"get",d);const{has:p}=dte(c),v=i?D0e:o?k0e:R0e;if(p.call(c,n))return v(e.get(n));if(p.call(c,d))return v(e.get(d));e!==c&&e.get(n)}function rX(e,n=!1){const o=this.__v_raw,i=Eu(o),c=Eu(e);return e!==c&&!n&&MS(i,"has",e),!n&&MS(i,"has",c),e===c?o.has(e):o.has(e)||o.has(c)}function iX(e,n=!1){return e=e.__v_raw,!n&&MS(Eu(e),"iterate",g2),Reflect.get(e,"size",e)}function BEe(e){e=Eu(e);const n=Eu(this);return dte(n).has.call(n,e)||(n.add(e),HO(n,"add",e,e)),this}function FEe(e,n){n=Eu(n);const o=Eu(this),{has:i,get:c}=dte(o);let d=i.call(o,e);d?mDe(o,i,e):(e=Eu(e),d=i.call(o,e));const p=c.call(o,e);return o.set(e,n),d?cDe(n,p)&&HO(o,"set",e,n,p):HO(o,"add",e,n),this}function VEe(e){const n=Eu(this),{has:o,get:i}=dte(n);let c=o.call(n,e);c?mDe(n,o,e):(e=Eu(e),c=o.call(n,e));const d=i?i.call(n,e):void 0,p=n.delete(e);return c&&HO(n,"delete",e,void 0,d),p}function HEe(){const e=Eu(this),n=e.size!==0,o=u6(e)?new Map(e):new Set(e),i=e.clear();return n&&HO(e,"clear",void 0,void 0,o),i}function aX(e,n){return function(i,c){const d=this,p=d.__v_raw,v=Eu(p),S=n?D0e:e?k0e:R0e;return!e&&MS(v,"iterate",g2),p.forEach((_,x)=>i.call(c,S(_),S(x),d))}}function lX(e,n,o){return function(...i){const c=this.__v_raw,d=Eu(c),p=u6(d),v=e==="entries"||e===Symbol.iterator&&p,S=e==="keys"&&p,_=c[e](...i),x=o?D0e:n?k0e:R0e;return!n&&MS(d,"iterate",S?zge:g2),{next(){const{value:P,done:B}=_.next();return B?{value:P,done:B}:{value:v?[x(P[0]),x(P[1])]:x(P),done:B}},[Symbol.iterator](){return this}}}}function Vx(e){return function(...n){{const o=n[0]?`on key "${n[0]}" `:"";console.warn(`${p8e(e)} operation ${o}failed: target is readonly.`,Eu(this))}return e==="delete"?!1:this}}function M8e(){const e={get(d){return sX(this,d)},get size(){return iX(this)},has:rX,add:BEe,set:FEe,delete:VEe,clear:HEe,forEach:aX(!1,!1)},n={get(d){return sX(this,d,!1,!0)},get size(){return iX(this)},has:rX,add:BEe,set:FEe,delete:VEe,clear:HEe,forEach:aX(!1,!0)},o={get(d){return sX(this,d,!0)},get size(){return iX(this,!0)},has(d){return rX.call(this,d,!0)},add:Vx("add"),set:Vx("set"),delete:Vx("delete"),clear:Vx("clear"),forEach:aX(!0,!1)},i={get(d){return sX(this,d,!0,!0)},get size(){return iX(this,!0)},has(d){return rX.call(this,d,!0)},add:Vx("add"),set:Vx("set"),delete:Vx("delete"),clear:Vx("clear"),forEach:aX(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{e[d]=lX(d,!1,!1),o[d]=lX(d,!0,!1),n[d]=lX(d,!1,!0),i[d]=lX(d,!0,!0)}),[e,o,n,i]}var[P8e,N8e]=M8e();function pDe(e,n){const o=e?N8e:P8e;return(i,c,d)=>c==="__v_isReactive"?!e:c==="__v_isReadonly"?e:c==="__v_raw"?i:Reflect.get(cte(o,c)&&c in i?o:i,c,d)}var L8e={get:pDe(!1)},B8e={get:pDe(!0)};function mDe(e,n,o){const i=Eu(o);if(i!==o&&n.call(e,i)){const c=lDe(e);console.warn(`Reactive ${c} contains both the raw and reactive versions of the same object${c==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var gDe=new WeakMap,F8e=new WeakMap,vDe=new WeakMap,V8e=new WeakMap;function H8e(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $8e(e){return e.__v_skip||!Object.isExtensible(e)?0:H8e(lDe(e))}function M0e(e){return e&&e.__v_isReadonly?e:bDe(e,!1,k8e,L8e,gDe)}function yDe(e){return bDe(e,!0,D8e,B8e,vDe)}function bDe(e,n,o,i,c){if(!ute(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(n&&e.__v_isReactive))return e;const d=c.get(e);if(d)return d;const p=$8e(e);if(p===0)return e;const v=new Proxy(e,p===2?i:o);return c.set(e,v),v}function Eu(e){return e&&Eu(e.__v_raw)||e}function jge(e){return!!(e&&e.__v_isRef===!0)}FS("nextTick",()=>_0e);FS("dispatch",e=>c6.bind(c6,e));FS("watch",(e,{evaluateLater:n,cleanup:o})=>(i,c)=>{let d=n(i),v=g2e(()=>{let S;return d(_=>S=_),S},c);o(v)});FS("store",n8e);FS("data",e=>_2e(e));FS("root",e=>ite(e));FS("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=Tz(U8e(e))),e._x_refs_proxy));function U8e(e){let n=[];return _4(e,o=>{o._x_refs&&n.push(o._x_refs)}),n}var Mpe={};function SDe(e){return Mpe[e]||(Mpe[e]=0),++Mpe[e]}function z8e(e,n){return _4(e,o=>{if(o._x_ids&&o._x_ids[n])return!0})}function j8e(e,n){e._x_ids||(e._x_ids={}),e._x_ids[n]||(e._x_ids[n]=SDe(n))}FS("id",(e,{cleanup:n})=>(o,i=null)=>{let c=`${o}${i?`-${i}`:""}`;return W8e(e,c,n,()=>{let d=z8e(e,o),p=d?d._x_ids[o]:SDe(o);return i?`${o}-${p}-${i}`:`${o}-${p}`})});lte((e,n)=>{e._x_id&&(n._x_id=e._x_id)});function W8e(e,n,o,i){if(e._x_id||(e._x_id={}),e._x_id[n])return e._x_id[n];let c=i();return e._x_id[n]=c,o(()=>{delete e._x_id[n]}),c}FS("el",e=>e);CDe("Focus","focus","focus");CDe("Persist","persist","persist");function CDe(e,n,o){FS(n,i=>Y0(`You can't use [$${n}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${o}`,i))}nf("modelable",(e,{expression:n},{effect:o,evaluateLater:i,cleanup:c})=>{let d=i(n),p=()=>{let x;return d(P=>x=P),x},v=i(`${n} = __placeholder`),S=x=>v(()=>{},{scope:{__placeholder:x}}),_=p();S(_),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let x=e._x_model.get,P=e._x_model.set,B=oDe({get(){return x()},set(H){P(H)}},{get(){return p()},set(H){S(H)}});c(B)})});nf("teleport",(e,{modifiers:n,expression:o},{cleanup:i})=>{e.tagName.toLowerCase()!=="template"&&Y0("x-teleport can only be used on a <template> tag",e);let c=$Ee(o),d=e.content.cloneNode(!0).firstElementChild;e._x_teleport=d,d._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),d.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(v=>{d.addEventListener(v,S=>{S.stopPropagation(),e.dispatchEvent(new S.constructor(S.type,S))})}),_z(d,{},e);let p=(v,S,_)=>{_.includes("prepend")?S.parentNode.insertBefore(v,S):_.includes("append")?S.parentNode.insertBefore(v,S.nextSibling):S.appendChild(v)};Ad(()=>{p(d,c,n),qO(()=>{vT(d)})()}),e._x_teleportPutBack=()=>{let v=$Ee(o);Ad(()=>{p(e._x_teleport,v,n)})},i(()=>Ad(()=>{d.remove(),T4(d)}))});var G8e=document.createElement("div");function $Ee(e){let n=qO(()=>document.querySelector(e),()=>G8e)();return n||Y0(`Cannot find x-teleport element for selector: "${e}"`),n}var EDe=()=>{};EDe.inline=(e,{modifiers:n},{cleanup:o})=>{n.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,o(()=>{n.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};nf("ignore",EDe);nf("effect",qO((e,{expression:n},{effect:o})=>{o(kv(e,n))}));function Wge(e,n,o,i){let c=e,d=S=>i(S),p={},v=(S,_)=>x=>_(S,x);if(o.includes("dot")&&(n=q8e(n)),o.includes("camel")&&(n=K8e(n)),o.includes("passive")&&(p.passive=!0),o.includes("capture")&&(p.capture=!0),o.includes("window")&&(c=window),o.includes("document")&&(c=document),o.includes("debounce")){let S=o[o.indexOf("debounce")+1]||"invalid-wait",_=SQ(S.split("ms")[0])?Number(S.split("ms")[0]):250;d=tDe(d,_)}if(o.includes("throttle")){let S=o[o.indexOf("throttle")+1]||"invalid-wait",_=SQ(S.split("ms")[0])?Number(S.split("ms")[0]):250;d=nDe(d,_)}return o.includes("prevent")&&(d=v(d,(S,_)=>{_.preventDefault(),S(_)})),o.includes("stop")&&(d=v(d,(S,_)=>{_.stopPropagation(),S(_)})),o.includes("once")&&(d=v(d,(S,_)=>{S(_),c.removeEventListener(n,d,p)})),(o.includes("away")||o.includes("outside"))&&(c=document,d=v(d,(S,_)=>{e.contains(_.target)||_.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&S(_))})),o.includes("self")&&(d=v(d,(S,_)=>{_.target===e&&S(_)})),(Y8e(n)||wDe(n))&&(d=v(d,(S,_)=>{X8e(_,o)||S(_)})),c.addEventListener(n,d,p),()=>{c.removeEventListener(n,d,p)}}function q8e(e){return e.replace(/-/g,".")}function K8e(e){return e.toLowerCase().replace(/-(\w)/g,(n,o)=>o.toUpperCase())}function SQ(e){return!Array.isArray(e)&&!isNaN(e)}function Z8e(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Y8e(e){return["keydown","keyup"].includes(e)}function wDe(e){return["contextmenu","click","mouse"].some(n=>e.includes(n))}function X8e(e,n){let o=n.filter(d=>!["window","document","prevent","stop","once","capture","self","away","outside","passive","preserve-scroll"].includes(d));if(o.includes("debounce")){let d=o.indexOf("debounce");o.splice(d,SQ((o[d+1]||"invalid-wait").split("ms")[0])?2:1)}if(o.includes("throttle")){let d=o.indexOf("throttle");o.splice(d,SQ((o[d+1]||"invalid-wait").split("ms")[0])?2:1)}if(o.length===0||o.length===1&&UEe(e.key).includes(o[0]))return!1;const c=["ctrl","shift","alt","meta","cmd","super"].filter(d=>o.includes(d));return o=o.filter(d=>!c.includes(d)),!(c.length>0&&c.filter(p=>((p==="cmd"||p==="super")&&(p="meta"),e[`${p}Key`])).length===c.length&&(wDe(e.type)||UEe(e.key).includes(o[0])))}function UEe(e){if(!e)return[];e=Z8e(e);let n={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return n[e]=e,Object.keys(n).map(o=>{if(n[o]===e)return o}).filter(o=>o)}nf("model",(e,{modifiers:n,expression:o},{effect:i,cleanup:c})=>{let d=e;n.includes("parent")&&(d=e.parentNode);let p=kv(d,o),v;typeof o=="string"?v=kv(d,`${o} = __placeholder`):typeof o=="function"&&typeof o()=="string"?v=kv(d,`${o()} = __placeholder`):v=()=>{};let S=()=>{let B;return p(H=>B=H),zEe(B)?B.get():B},_=B=>{let H;p(U=>H=U),zEe(H)?H.set(B):v(()=>{},{scope:{__placeholder:B}})};typeof o=="string"&&e.type==="radio"&&Ad(()=>{e.hasAttribute("name")||e.setAttribute("name",o)});let x=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||n.includes("lazy")?"change":"input",P=VO?()=>{}:Wge(e,x,n,B=>{_(Ppe(e,n,B,S()))});if(n.includes("fill")&&([void 0,null,""].includes(S())||A0e(e)&&Array.isArray(S())||e.tagName.toLowerCase()==="select"&&e.multiple)&&_(Ppe(e,n,{target:e},S())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=P,c(()=>e._x_removeModelListeners.default()),e.form){let B=Wge(e.form,"reset",[],H=>{_0e(()=>e._x_model&&e._x_model.set(Ppe(e,n,{target:e},S())))});c(()=>B())}e._x_model={get(){return S()},set(B){_(B)}},e._x_forceModelUpdate=B=>{B===void 0&&typeof o=="string"&&o.match(/\./)&&(B=""),window.fromModel=!0,Ad(()=>Y2e(e,"value",B)),delete window.fromModel},i(()=>{let B=S();n.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(B)})});function Ppe(e,n,o,i){return Ad(()=>{if(o instanceof CustomEvent&&o.detail!==void 0)return o.detail!==null&&o.detail!==void 0?o.detail:o.target.value;if(A0e(e))if(Array.isArray(i)){let c=null;return n.includes("number")?c=Npe(o.target.value):n.includes("boolean")?c=ZX(o.target.value):c=o.target.value,o.target.checked?i.includes(c)?i:i.concat([c]):i.filter(d=>!J8e(d,c))}else return o.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return n.includes("number")?Array.from(o.target.selectedOptions).map(c=>{let d=c.value||c.text;return Npe(d)}):n.includes("boolean")?Array.from(o.target.selectedOptions).map(c=>{let d=c.value||c.text;return ZX(d)}):Array.from(o.target.selectedOptions).map(c=>c.value||c.text);{let c;return eDe(e)?o.target.checked?c=o.target.value:c=i:c=o.target.value,n.includes("number")?Npe(c):n.includes("boolean")?ZX(c):n.includes("trim")?c.trim():c}}})}function Npe(e){let n=e?parseFloat(e):null;return Q8e(n)?n:e}function J8e(e,n){return e==n}function Q8e(e){return!Array.isArray(e)&&!isNaN(e)}function zEe(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}nf("cloak",e=>queueMicrotask(()=>Ad(()=>e.removeAttribute(w4("cloak")))));j2e(()=>`[${w4("init")}]`);nf("init",qO((e,{expression:n},{evaluate:o})=>typeof n=="string"?!!n.trim()&&o(n,{},!1):o(n,{},!1)));nf("text",(e,{expression:n},{effect:o,evaluateLater:i})=>{let c=i(n);o(()=>{c(d=>{Ad(()=>{e.textContent=d})})})});nf("html",(e,{expression:n},{effect:o,evaluateLater:i})=>{let c=i(n);o(()=>{c(d=>{Ad(()=>{e.innerHTML=d,e._x_ignoreSelf=!0,vT(e),delete e._x_ignoreSelf})})})});C0e(P2e(":",N2e(w4("bind:"))));var _De=(e,{value:n,modifiers:o,expression:i,original:c},{effect:d,cleanup:p})=>{if(!n){let S={};s8e(S),kv(e,i)(x=>{rDe(e,x,c)},{scope:S});return}if(n==="key")return e7e(e,i);if(e._x_inlineBindings&&e._x_inlineBindings[n]&&e._x_inlineBindings[n].extract)return;let v=kv(e,i);d(()=>v(S=>{S===void 0&&typeof i=="string"&&i.match(/\./)&&(S=""),Ad(()=>Y2e(e,n,S,o))})),p(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};_De.inline=(e,{value:n,modifiers:o,expression:i})=>{n&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[n]={expression:i,extract:!1})};nf("bind",_De);function e7e(e,n){e._x_keyExpression=n}z2e(()=>`[${w4("data")}]`);nf("data",(e,{expression:n},{cleanup:o})=>{if(t7e(e))return;n=n===""?"{}":n;let i={};Pge(i,e);let c={};i8e(c,i);let d=p2(e,n,{scope:c});(d===void 0||d===!0)&&(d={}),Pge(d,e);let p=C4(d);T2e(p);let v=_z(e,p);p.init&&p2(e,p.init),o(()=>{p.destroy&&p2(e,p.destroy),v()})});lte((e,n)=>{e._x_dataStack&&(n._x_dataStack=e._x_dataStack,n.setAttribute("data-has-alpine-state",!0))});function t7e(e){return VO?$ge?!0:e.hasAttribute("data-has-alpine-state"):!1}nf("show",(e,{modifiers:n,expression:o},{effect:i})=>{let c=kv(e,o);e._x_doHide||(e._x_doHide=()=>{Ad(()=>{e.style.setProperty("display","none",n.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{Ad(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let d=()=>{e._x_doHide(),e._x_isShown=!1},p=()=>{e._x_doShow(),e._x_isShown=!0},v=()=>setTimeout(p),S=Vge(P=>P?p():d(),P=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,P,p,d):P?v():d()}),_,x=!0;i(()=>c(P=>{!x&&P===_||(n.includes("immediate")&&(P?v():d()),S(P),_=P,x=!1)}))});nf("for",(e,{expression:n},{effect:o,cleanup:i})=>{let c=o7e(n),d=kv(e,c.items),p=kv(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},o(()=>n7e(e,c,d,p)),i(()=>{Object.values(e._x_lookup).forEach(v=>Ad(()=>{T4(v),v.remove()})),delete e._x_prevKeys,delete e._x_lookup})});function n7e(e,n,o,i){let c=p=>typeof p=="object"&&!Array.isArray(p),d=e;o(p=>{s7e(p)&&p>=0&&(p=Array.from(Array(p).keys(),Z=>Z+1)),p===void 0&&(p=[]);let v=e._x_lookup,S=e._x_prevKeys,_=[],x=[];if(c(p))p=Object.entries(p).map(([Z,te])=>{let ce=jEe(n,te,Z,p);i(se=>{x.includes(se)&&Y0("Duplicate key on x-for",e),x.push(se)},{scope:{index:Z,...ce}}),_.push(ce)});else for(let Z=0;Z<p.length;Z++){let te=jEe(n,p[Z],Z,p);i(ce=>{x.includes(ce)&&Y0("Duplicate key on x-for",e),x.push(ce)},{scope:{index:Z,...te}}),_.push(te)}let P=[],B=[],H=[],U=[];for(let Z=0;Z<S.length;Z++){let te=S[Z];x.indexOf(te)===-1&&H.push(te)}S=S.filter(Z=>!H.includes(Z));let z="template";for(let Z=0;Z<x.length;Z++){let te=x[Z],ce=S.indexOf(te);if(ce===-1)S.splice(Z,0,te),P.push([z,Z]);else if(ce!==Z){let se=S.splice(Z,1)[0],Se=S.splice(ce-1,1)[0];S.splice(Z,0,Se),S.splice(ce,0,se),B.push([se,Se])}else U.push(te);z=te}for(let Z=0;Z<H.length;Z++){let te=H[Z];te in v&&(Ad(()=>{T4(v[te]),v[te].remove()}),delete v[te])}for(let Z=0;Z<B.length;Z++){let[te,ce]=B[Z],se=v[te],Se=v[ce],Ce=document.createElement("div");Ad(()=>{Se||Y0('x-for ":key" is undefined or invalid',d,ce,v),Se.after(Ce),se.after(Se),Se._x_currentIfEl&&Se.after(Se._x_currentIfEl),Ce.before(se),se._x_currentIfEl&&se.after(se._x_currentIfEl),Ce.remove()}),Se._x_refreshXForScope(_[x.indexOf(ce)])}for(let Z=0;Z<P.length;Z++){let[te,ce]=P[Z],se=te==="template"?d:v[te];se._x_currentIfEl&&(se=se._x_currentIfEl);let Se=_[ce],Ce=x[ce],Te=document.importNode(d.content,!0).firstElementChild,V=C4(Se);_z(Te,V,d),Te._x_refreshXForScope=ke=>{Object.entries(ke).forEach(([et,$e])=>{V[et]=$e})},Ad(()=>{se.after(Te),qO(()=>vT(Te))()}),typeof Ce=="object"&&Y0("x-for key cannot be an object, it must be a string or an integer",d),v[Ce]=Te}for(let Z=0;Z<U.length;Z++)v[U[Z]]._x_refreshXForScope(_[x.indexOf(U[Z])]);d._x_prevKeys=x})}function o7e(e){let n=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,o=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,c=e.match(i);if(!c)return;let d={};d.items=c[2].trim();let p=c[1].replace(o,"").trim(),v=p.match(n);return v?(d.item=p.replace(n,"").trim(),d.index=v[1].trim(),v[2]&&(d.collection=v[2].trim())):d.item=p,d}function jEe(e,n,o,i){let c={};return/^\[.*\]$/.test(e.item)&&Array.isArray(n)?e.item.replace("[","").replace("]","").split(",").map(p=>p.trim()).forEach((p,v)=>{c[p]=n[v]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(n)&&typeof n=="object"?e.item.replace("{","").replace("}","").split(",").map(p=>p.trim()).forEach(p=>{c[p]=n[p]}):c[e.item]=n,e.index&&(c[e.index]=o),e.collection&&(c[e.collection]=i),c}function s7e(e){return!Array.isArray(e)&&!isNaN(e)}function TDe(){}TDe.inline=(e,{expression:n},{cleanup:o})=>{let i=ite(e);i._x_refs||(i._x_refs={}),i._x_refs[n]=e,o(()=>delete i._x_refs[n])};nf("ref",TDe);nf("if",(e,{expression:n},{effect:o,cleanup:i})=>{e.tagName.toLowerCase()!=="template"&&Y0("x-if can only be used on a <template> tag",e);let c=kv(e,n),d=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let v=e.content.cloneNode(!0).firstElementChild;return _z(v,{},e),Ad(()=>{e.after(v),qO(()=>vT(v))()}),e._x_currentIfEl=v,e._x_undoIf=()=>{Ad(()=>{T4(v),v.remove()}),delete e._x_currentIfEl},v},p=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};o(()=>c(v=>{v?d():p()})),i(()=>e._x_undoIf&&e._x_undoIf())});nf("id",(e,{expression:n},{evaluate:o})=>{o(n).forEach(c=>j8e(e,c))});lte((e,n)=>{e._x_ids&&(n._x_ids=e._x_ids)});C0e(P2e("@",N2e(w4("on:"))));nf("on",qO((e,{value:n,modifiers:o,expression:i},{cleanup:c})=>{let d=i?kv(e,i):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(n)||e._x_forwardEvents.push(n));let p=Wge(e,n,o,v=>{d(()=>{},{scope:{$event:v},params:[v]})});c(()=>p())}));hte("Collapse","collapse","collapse");hte("Intersect","intersect","intersect");hte("Focus","trap","focus");hte("Mask","mask","mask");function hte(e,n,o){nf(n,i=>Y0(`You can't use [x-${n}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${o}`,i))}Az.setEvaluator(R2e);Az.setReactivityEngine({reactive:M0e,effect:g8e,release:v8e,raw:Eu});var r7e=Az,ADe=r7e,YX={exports:{}},i7e=YX.exports,WEe;function a7e(){return WEe||(WEe=1,(function(e,n){(function(o,i){o._Highcharts=i(),e.exports=o._Highcharts})(typeof window>"u"?i7e:window,()=>(()=>{let o,i;var c,d,p,v,S,_,x,P,B,H,U,z,Z,te,ce,se,Se,Ce,Te={};Te.d=(Q,m)=>{for(var C in m)Te.o(m,C)&&!Te.o(Q,C)&&Object.defineProperty(Q,C,{enumerable:!0,get:m[C]})},Te.o=(Q,m)=>Object.prototype.hasOwnProperty.call(Q,m);var V={};Te.d(V,{default:()=>Km}),(function(Q){Q.SVG_NS="http://www.w3.org/2000/svg",Q.product="Highcharts",Q.version="12.4.0",Q.win=typeof window<"u"?window:{},Q.doc=Q.win.document,Q.svg=!!Q.doc?.createElementNS?.(Q.SVG_NS,"svg")?.createSVGRect,Q.pageLang=Q.doc?.documentElement?.closest("[lang]")?.lang,Q.userAgent=Q.win.navigator?.userAgent||"",Q.isChrome=Q.win.chrome,Q.isFirefox=Q.userAgent.indexOf("Firefox")!==-1,Q.isMS=/(edge|msie|trident)/i.test(Q.userAgent)&&!Q.win.opera,Q.isSafari=!Q.isChrome&&Q.userAgent.indexOf("Safari")!==-1,Q.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(Q.userAgent),Q.isWebKit=Q.userAgent.indexOf("AppleWebKit")!==-1,Q.deg2rad=2*Math.PI/360,Q.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],Q.noop=function(){},Q.supportsPassiveEvents=(function(){let m=!1;if(!Q.isMS){let C=Object.defineProperty({},"passive",{get:function(){m=!0}});Q.win.addEventListener&&Q.win.removeEventListener&&(Q.win.addEventListener("testPassive",Q.noop,C),Q.win.removeEventListener("testPassive",Q.noop,C))}return m})(),Q.charts=[],Q.composed=[],Q.dateFormats={},Q.seriesTypes={},Q.symbolSizes={},Q.chartCount=0})(c||(c={}));let ke=c,{charts:et,doc:$e,win:Re}=ke;function _e(Q,m,C,T){let R=m?"Highcharts error":"Highcharts warning";Q===32&&(Q=`${R}: Deprecated member`);let D=Ht(Q),F=D?`${R} #${Q}: www.highcharts.com/errors/${Q}/`:Q.toString();if(T!==void 0){let j="";D&&(F+="?"),ms(T,function(K,ne){j+=`
 - ${ne}: ${K}`,D&&(F+=encodeURI(ne)+"="+encodeURI(K))}),F+=j}Eo(ke,"displayError",{chart:C,code:Q,message:F,params:T},function(){if(m)throw Error(F);Re.console&&_e.messages.indexOf(F)===-1&&console.warn(F)}),_e.messages.push(F)}function ut(Q,m){return parseInt(Q,m||10)}function ct(Q){return typeof Q=="string"}function St(Q){let m=Object.prototype.toString.call(Q);return m==="[object Array]"||m==="[object Array Iterator]"}function ee(Q,m){return!!Q&&typeof Q=="object"&&(!m||!St(Q))}function ln(Q){return ee(Q)&&typeof Q.nodeType=="number"}function it(Q){let m=Q?.constructor;return!!(ee(Q,!0)&&!ln(Q)&&m?.name&&m.name!=="Object")}function Ht(Q){return typeof Q=="number"&&!isNaN(Q)&&Q<1/0&&Q>-1/0}function Ut(Q){return Q!=null}function Xe(Q,m,C){let T,R=ct(m)&&!Ut(C),D=(F,j)=>{Ut(F)?Q.setAttribute(j,F):R?(T=Q.getAttribute(j))||j!=="class"||(T=Q.getAttribute(j+"Name")):Q.removeAttribute(j)};return ct(m)?D(C,m):ms(m,D),T}function tn(Q){return St(Q)?Q:[Q]}function eo(Q,m){let C;for(C in Q||(Q={}),m)Q[C]=m[C];return Q}function In(){let Q=arguments,m=Q.length;for(let C=0;C<m;C++){let T=Q[C];if(T!=null)return T}}function mn(Q,m){eo(Q.style,m)}function Dt(Q){return Math.pow(10,Math.floor(Math.log(Q)/Math.LN10))}function un(Q,m){return Q>1e14?Q:parseFloat(Q.toPrecision(m||14))}(_e||(_e={})).messages=[],Math.easeInOutSine=function(Q){return-.5*(Math.cos(Math.PI*Q)-1)};let ye=Array.prototype.find?function(Q,m){return Q.find(m)}:function(Q,m){let C,T=Q.length;for(C=0;C<T;C++)if(m(Q[C],C))return Q[C]};function ms(Q,m,C){for(let T in Q)Object.hasOwnProperty.call(Q,T)&&m.call(C||Q[T],Q[T],T,Q)}function Vo(Q,m,C){function T(F,j){let K=Q.removeEventListener;K&&K.call(Q,F,j,!1)}function R(F){let j,K;Q.nodeName&&(m?(j={})[m]=!0:j=F,ms(j,function(ne,ue){if(F[ue])for(K=F[ue].length;K--;)T(ue,F[ue][K].fn)}))}let D=typeof Q=="function"&&Q.prototype||Q;if(Object.hasOwnProperty.call(D,"hcEvents")){let F=D.hcEvents;if(m){let j=F[m]||[];C?(F[m]=j.filter(function(K){return C!==K.fn}),T(m,C)):(R(F),F[m]=[])}else R(F),delete D.hcEvents}}function Eo(Q,m,C,T){if(C=C||{},$e?.createEvent&&(Q.dispatchEvent||Q.fireEvent&&Q!==ke)){let R=$e.createEvent("Events");R.initEvent(m,!0,!0),C=eo(R,C),Q.dispatchEvent?Q.dispatchEvent(C):Q.fireEvent(m,C)}else if(Q.hcEvents){C.target||eo(C,{preventDefault:function(){C.defaultPrevented=!0},target:Q,type:m});let R=[],D=Q,F=!1;for(;D.hcEvents;)Object.hasOwnProperty.call(D,"hcEvents")&&D.hcEvents[m]&&(R.length&&(F=!0),R.unshift.apply(R,D.hcEvents[m])),D=Object.getPrototypeOf(D);F&&R.sort((j,K)=>j.order-K.order),R.forEach(j=>{j.fn.call(Q,C)===!1&&C.preventDefault()})}T&&!C.defaultPrevented&&T.call(Q,C)}let Oo=(function(){let Q=Math.random().toString(36).substring(2,9)+"-",m=0;return function(){return"highcharts-"+(o?"":Q)+m++}})();Re.jQuery&&(Re.jQuery.fn.highcharts=function(){let Q=[].slice.call(arguments);if(this[0])return Q[0]?(new ke[ct(Q[0])?Q.shift():"Chart"](this[0],Q[0],Q[1]),this):et[Xe(this[0],"data-highcharts-chart")]});let Zn={addEvent:function(Q,m,C,T={}){let R=typeof Q=="function"&&Q.prototype||Q;Object.hasOwnProperty.call(R,"hcEvents")||(R.hcEvents={});let D=R.hcEvents;ke.Point&&Q instanceof ke.Point&&Q.series&&Q.series.chart&&(Q.series.chart.runTrackerClick=!0);let F=Q.addEventListener;F&&F.call(Q,m,C,!!ke.supportsPassiveEvents&&{passive:T.passive===void 0?m.indexOf("touch")!==-1:T.passive,capture:!1}),D[m]||(D[m]=[]);let j={fn:C,order:typeof T.order=="number"?T.order:1/0};return D[m].push(j),D[m].sort((K,ne)=>K.order-ne.order),function(){Vo(Q,m,C)}},arrayMax:function(Q){let m=Q.length,C=Q[0];for(;m--;)Q[m]>C&&(C=Q[m]);return C},arrayMin:function(Q){let m=Q.length,C=Q[0];for(;m--;)Q[m]<C&&(C=Q[m]);return C},attr:Xe,clamp:function(Q,m,C){return Q>m?Q<C?Q:C:m},clearTimeout:function(Q){Ut(Q)&&clearTimeout(Q)},correctFloat:un,createElement:function(Q,m,C,T,R){let D=$e.createElement(Q);return m&&eo(D,m),R&&mn(D,{padding:"0",border:"none",margin:"0"}),C&&mn(D,C),T&&T.appendChild(D),D},crisp:function(Q,m=0,C){let T=m%2/2,R=C?-1:1;return(Math.round(Q*R-T)+T)*R},css:mn,defined:Ut,destroyObjectProperties:function(Q,m,C){ms(Q,function(T,R){T!==m&&T?.destroy&&T.destroy(),(T?.destroy||!C)&&delete Q[R]})},diffObjects:function(Q,m,C,T){let R={};return(function D(F,j,K,ne){let ue=C?j:F;ms(F,function(ie,me){if(!ne&&T&&T.indexOf(me)>-1&&j[me]){ie=tn(ie),K[me]=[];for(let Ee=0;Ee<Math.max(ie.length,j[me].length);Ee++)j[me][Ee]&&(ie[Ee]===void 0?K[me][Ee]=j[me][Ee]:(K[me][Ee]={},D(ie[Ee],j[me][Ee],K[me][Ee],ne+1)))}else ee(ie,!0)&&!ie.nodeType?(K[me]=St(ie)?[]:{},D(ie,j[me]||{},K[me],ne+1),Object.keys(K[me]).length===0&&(me!=="colorAxis"||ne!==0)&&delete K[me]):(F[me]!==j[me]||me in F&&!(me in j))&&me!=="__proto__"&&me!=="constructor"&&(K[me]=ue[me])})})(Q,m,R,0),R},discardElement:function(Q){Q?.parentElement?.removeChild(Q)},erase:function(Q,m){let C=Q.length;for(;C--;)if(Q[C]===m){Q.splice(C,1);break}},error:_e,extend:eo,extendClass:function(Q,m){let C=function(){};return C.prototype=new Q,eo(C.prototype,m),C},find:ye,fireEvent:Eo,getAlignFactor:(Q="")=>({center:.5,right:1,middle:.5,bottom:1})[Q]||0,getClosestDistance:function(Q,m){let C,T,R,D=!m;return Q.forEach(F=>{if(F.length>1)for(R=F.length-1;R>0;R--)(T=F[R]-F[R-1])<0&&!D?(m?.(),m=void 0):T&&(C===void 0||T<C)&&(C=T)}),C},getMagnitude:Dt,getNestedProperty:function(Q,m){let C=Q.split(".");for(;C.length&&Ut(m);){let T=C.shift();if(T===void 0||T==="__proto__")return;if(T==="this"){let D;return ee(m)&&(D=m["@this"]),D??m}let R=m[T.replace(/[\\'"]/g,"")];if(!Ut(R)||typeof R=="function"||typeof R.nodeType=="number"||R===Re)return;m=R}return m},getStyle:function Q(m,C,T){let R;if(C==="width"){let F=Math.min(m.offsetWidth,m.scrollWidth),j=m.getBoundingClientRect?.().width;return j<F&&j>=F-1&&(F=Math.floor(j)),Math.max(0,F-(Q(m,"padding-left",!0)||0)-(Q(m,"padding-right",!0)||0))}if(C==="height")return Math.max(0,Math.min(m.offsetHeight,m.scrollHeight)-(Q(m,"padding-top",!0)||0)-(Q(m,"padding-bottom",!0)||0));let D=Re.getComputedStyle(m,void 0);return D&&(R=D.getPropertyValue(C),In(T,C!=="opacity")&&(R=ut(R))),R},insertItem:function(Q,m){let C,T=Q.options.index,R=m.length;for(C=Q.options.isInternal?R:0;C<R+1;C++)if(!m[C]||Ht(T)&&T<In(m[C].options.index,m[C]._i)||m[C].options.isInternal){m.splice(C,0,Q);break}return C},isArray:St,isClass:it,isDOMElement:ln,isFunction:function(Q){return typeof Q=="function"},isNumber:Ht,isObject:ee,isString:ct,merge:function(Q,...m){let C,T=[Q,...m],R={},D=function(j,K){return typeof j!="object"&&(j={}),ms(K,function(ne,ue){ue!=="__proto__"&&ue!=="constructor"&&(!ee(ne,!0)||it(ne)||ln(ne)?j[ue]=K[ue]:j[ue]=D(j[ue]||{},ne))}),j};Q===!0&&(R=T[1],T=Array.prototype.slice.call(T,2));let F=T.length;for(C=0;C<F;C++)R=D(R,T[C]);return R},normalizeTickInterval:function(Q,m,C,T,R){let D,F=Q;C=In(C,Dt(Q));let j=Q/C;for(!m&&(m=R?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],T===!1&&(C===1?m=m.filter(function(K){return K%1==0}):C<=.1&&(m=[1/C]))),D=0;D<m.length&&(F=m[D],(!R||!(F*C>=Q))&&(R||!(j<=(m[D]+(m[D+1]||m[D]))/2)));D++);return un(F*C,-Math.round(Math.log(.001)/Math.LN10))},objectEach:ms,offset:function(Q){let m=$e.documentElement,C=Q.parentElement||Q.parentNode?Q.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:C.top+(Re.pageYOffset||m.scrollTop)-(m.clientTop||0),left:C.left+(Re.pageXOffset||m.scrollLeft)-(m.clientLeft||0),width:C.width,height:C.height}},pad:function(Q,m,C){return Array((m||2)+1-String(Q).replace("-","").length).join(C||"0")+Q},pick:In,pInt:ut,pushUnique:function(Q,m){return 0>Q.indexOf(m)&&!!Q.push(m)},relativeLength:function(Q,m,C){return/%$/.test(Q)?m*parseFloat(Q)/100+(C||0):parseFloat(Q)},removeEvent:Vo,replaceNested:function(Q,...m){let C,T;do for(T of(C=Q,m))Q=Q.replace(T[0],T[1]);while(Q!==C);return Q},splat:tn,stableSort:function(Q,m){let C,T,R=Q.length;for(T=0;T<R;T++)Q[T].safeI=T;for(Q.sort(function(D,F){return(C=m(D,F))===0?D.safeI-F.safeI:C}),T=0;T<R;T++)delete Q[T].safeI},syncTimeout:function(Q,m,C){return m>0?setTimeout(Q,m,C):(Q.call(0,C),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(Q){return ct(Q)?Q.substring(0,1).toUpperCase()+Q.substring(1):String(Q)},uniqueKey:Oo,useSerialIds:function(Q){return o=In(Q,o)},wrap:function(Q,m,C){let T=Q[m];Q[m]=function(){let R=arguments,D=this;return C.apply(this,[function(){return T.apply(D,arguments.length?arguments:R)}].concat([].slice.call(arguments)))}}},{pageLang:xt,win:cn}=ke,{defined:vn,error:qe,extend:pt,isNumber:Ft,isObject:Ve,isString:Ot,merge:Nt,objectEach:Gt,pad:Tt,splat:Et,timeUnits:Yn,ucfirst:fo}=Zn,ro=ke.isSafari&&cn.Intl&&!cn.Intl.DateTimeFormat.prototype.formatRange,io=Q=>Q.main===void 0,no=class{constructor(Q,m){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=cn.Date,this.update(Q),this.lang=m}update(Q={}){this.dTLCache={},this.options=Q=Nt(!0,this.options,Q);let{timezoneOffset:m,useUTC:C,locale:T}=Q;this.Date=Q.Date||cn.Date||Date;let R=Q.timezone;vn(C)&&(R=C?"UTC":void 0),m&&m%60==0&&(R="Etc/GMT"+(m>0?"+":"")+m/60),this.variableTimezone=R!=="UTC"&&R?.indexOf("Etc/GMT")!==0,this.timezone=R,this.lang&&T&&(this.lang.locale=T),["months","shortMonths","weekdays","shortWeekdays"].forEach(D=>{let F=/months/i.test(D),j=/short/.test(D),K={timeZone:"UTC"};K[F?"month":"weekday"]=j?"short":"long",this[D]=(F?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(ne=>this.dateFormat(K,(F?31:1)*24*36e5*ne))})}toParts(Q){let[m,C,T,R,D,F,j]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Q,"es").split(/(?:, | |\/|:)/g);return[R,T-1,C,D,F,j,Math.floor(Number(Q)||0)%1e3,"DLMXJVS".indexOf(m)].map(Number)}dateTimeFormat(Q,m,C=this.options.locale||xt){let T=JSON.stringify(Q)+C;Ot(Q)&&(Q=this.str2dtf(Q));let R=this.dTLCache[T];if(!R){Q.timeZone??(Q.timeZone=this.timezone);try{R=new Intl.DateTimeFormat(C,Q)}catch(D){/Invalid time zone/i.test(D.message)?(qe(34),Q.timeZone="UTC",R=new Intl.DateTimeFormat(C,Q)):qe(D.message,!1)}}return this.dTLCache[T]=R,R?.format(m)||""}str2dtf(Q,m={}){let C={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(C).forEach(T=>{Q.indexOf(T)!==-1&&pt(m,C[T])}),m}makeTime(Q,m,C=1,T=0,R,D,F){let j=this.Date.UTC(Q,m,C,T,R||0,D||0,F||0);if(this.timezone!=="UTC"){let K=this.getTimezoneOffset(j);if(j+=K,[2,3,8,9,10,11].indexOf(m)!==-1&&(T<5||T>20)){let ne=this.getTimezoneOffset(j);K!==ne?j+=ne-K:K-36e5!==this.getTimezoneOffset(j-36e5)||ro||(j-=36e5)}}return j}parse(Q){if(!Ot(Q))return Q??void 0;let m=(Q=Q.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(Q),C=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(Q);m||C||(Q+="Z");let T=Date.parse(Q);if(Ft(T))return T+(!m||C?this.getTimezoneOffset(T):0)}getTimezoneOffset(Q){if(this.timezone!=="UTC"){let[m,C,T,R,D=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},Q,"en").split(/(GMT|:)/).map(Number),F=-(60*(T+D/60)*6e4);if(Ft(F))return F}return 0}dateFormat(Q,m,C){let T=this.lang;if(!vn(m)||isNaN(m))return T?.invalidDate||"";if(Ot(Q=Q??"%Y-%m-%d %H:%M:%S")){let R,D=/%\[([a-zA-Z]+)\]/g;for(;R=D.exec(Q);)Q=Q.replace(R[0],this.dateTimeFormat(R[1],m,T?.locale))}if(Ot(Q)&&Q.indexOf("%")!==-1){let R=this,[D,F,j,K,ne,ue,ie,me]=this.toParts(m),Ee=T?.weekdays||this.weekdays,Ae=T?.shortWeekdays||this.shortWeekdays,Pe=T?.months||this.months,Fe=T?.shortMonths||this.shortMonths;Gt(pt({a:Ae?Ae[me]:Ee[me].substr(0,3),A:Ee[me],d:Tt(j),e:Tt(j,2," "),w:me,v:T?.weekFrom??"",b:Fe[F],B:Pe[F],m:Tt(F+1),o:F+1,y:D.toString().substr(2,2),Y:D,H:Tt(K),k:K,I:Tt(K%12||12),l:K%12||12,M:Tt(ne),p:K<12?"AM":"PM",P:K<12?"am":"pm",S:Tt(ue),L:Tt(ie,3)},ke.dateFormats),function(Ne,lt){if(Ot(Q))for(;Q.indexOf("%"+lt)!==-1;)Q=Q.replace("%"+lt,typeof Ne=="function"?Ne.call(R,m):Ne)})}else if(Ve(Q)){let R=(this.getTimezoneOffset(m)||0)/36e5,D=this.timezone||"Etc/GMT"+(R>=0?"+":"")+R,{prefix:F="",suffix:j=""}=Q;Q=F+this.dateTimeFormat(pt({timeZone:D},Q),m)+j}return C?fo(Q):Q}resolveDTLFormat(Q){return Ve(Q,!0)?Ve(Q,!0)&&io(Q)?{main:Q}:Q:{main:(Q=Et(Q))[0],from:Q[1],to:Q[2]}}getDateFormat(Q,m,C,T){let R=this.dateFormat("%m-%d %H:%M:%S.%L",m),D="01-01 00:00:00.000",F={millisecond:15,second:12,minute:9,hour:6,day:3},j="millisecond",K=j;for(j in Yn){if(Q&&Q===Yn.week&&+this.dateFormat("%w",m)===C&&R.substr(6)===D.substr(6)){j="week";break}if(Q&&Yn[j]>Q){j=K;break}if(F[j]&&R.substr(F[j])!==D.substr(F[j]))break;j!=="week"&&(K=j)}return this.resolveDTLFormat(T[j]).main}},{defined:_s,extend:Wo,timeUnits:Bs}=Zn,Pn=class extends no{getTimeTicks(Q,m,C,T){let R=this,D=[],F={},{count:j=1,unitRange:K}=Q,[ne,ue,ie,me,Ee,Ae]=R.toParts(m),Pe=(m||0)%1e3,Fe;if(T??(T=1),_s(m)){if(Pe=K>=Bs.second?0:j*Math.floor(Pe/j),K>=Bs.second&&(Ae=K>=Bs.minute?0:j*Math.floor(Ae/j)),K>=Bs.minute&&(Ee=K>=Bs.hour?0:j*Math.floor(Ee/j)),K>=Bs.hour&&(me=K>=Bs.day?0:j*Math.floor(me/j)),K>=Bs.day&&(ie=K>=Bs.month?1:Math.max(1,j*Math.floor(ie/j))),K>=Bs.month&&(ue=K>=Bs.year?0:j*Math.floor(ue/j)),K>=Bs.year&&(ne-=ne%j),K===Bs.week){j&&(m=R.makeTime(ne,ue,ie,me,Ee,Ae,Pe));let gt=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},m,"es"),$t="DLMXJVS".indexOf(gt);ie+=-$t+T+($t<T?-7:0)}m=R.makeTime(ne,ue,ie,me,Ee,Ae,Pe),R.variableTimezone&&_s(C)&&(Fe=C-m>4*Bs.month||R.getTimezoneOffset(m)!==R.getTimezoneOffset(C));let Ne=m,lt=1;for(;Ne<C;)D.push(Ne),K===Bs.year?Ne=R.makeTime(ne+lt*j,0):K===Bs.month?Ne=R.makeTime(ne,ue+lt*j):Fe&&(K===Bs.day||K===Bs.week)?Ne=R.makeTime(ne,ue,ie+lt*j*(K===Bs.day?1:7)):Fe&&K===Bs.hour&&j>1?Ne=R.makeTime(ne,ue,ie,me+lt*j):Ne+=K*j,lt++;D.push(Ne),K<=Bs.hour&&D.length<1e4&&D.forEach(gt=>{gt%18e5==0&&R.dateFormat("%H%M%S%L",gt)==="000000000"&&(F[gt]="day")})}return D.info=Wo(Q,{higherRanks:F,totalRange:K*j}),D}},{isTouchDevice:xe}=ke,{fireEvent:je,merge:rt}=Zn,Je={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:Q=>Math.sqrt(1-Math.pow(Q-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:xe?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},Pt=new Pn(Je.time,Je.lang),kt={defaultOptions:Je,defaultTime:Pt,getOptions:function(){return Je},setOptions:function(Q){return je(ke,"setOptions",{options:Q}),rt(!0,Je,Q),Q.time&&Pt.update(Je.time),Q.lang&&"locale"in Q.lang&&Pt.update({locale:Q.lang.locale}),Q.lang?.chartTitle&&(Je.title={...Je.title,text:Q.lang.chartTitle}),Je}},{win:wt}=ke,{isNumber:Zt,isString:en,merge:jn,pInt:sn,defined:Wt}=Zn,_o=(Q,m,C)=>`color-mix(in srgb,${Q},${m} ${100*C}%)`,$o=Q=>en(Q)&&!!Q&&Q!=="none";class Cs{static parse(m){return m?new Cs(m):Cs.None}constructor(m){let C,T,R,D;this.rgba=[NaN,NaN,NaN,NaN],this.input=m;let F=ke.Color;if(F&&F!==Cs)return new F(m);if(typeof m=="object"&&m.stops!==void 0)this.stops=m.stops.map(j=>new Cs(j[1]));else if(typeof m=="string")for(this.input=m=Cs.names[m.toLowerCase()]||m,R=Cs.parsers.length;R--&&!T;)(C=(D=Cs.parsers[R]).regex.exec(m))&&(T=D.parse(C));T&&(this.rgba=T)}get(m){let C=this.input,T=this.rgba;if(this.output)return this.output;if(typeof C=="object"&&this.stops!==void 0){let R=jn(C);return R.stops=[].slice.call(R.stops),this.stops.forEach((D,F)=>{R.stops[F]=[R.stops[F][0],D.get(m)]}),R}return T&&Zt(T[0])?m!=="rgb"&&(m||T[3]!==1)?m==="a"?`${T[3]}`:"rgba("+T.join(",")+")":"rgb("+T[0]+","+T[1]+","+T[2]+")":C}brighten(m){let C=this.rgba;if(this.stops)this.stops.forEach(function(T){T.brighten(m)});else if(Zt(m)&&m!==0)if(Zt(C[0]))for(let T=0;T<3;T++)C[T]+=sn(255*m),C[T]<0&&(C[T]=0),C[T]>255&&(C[T]=255);else Cs.useColorMix&&$o(this.input)&&(this.output=_o(this.input,m>0?"white":"black",Math.abs(m)));return this}setOpacity(m){return this.rgba[3]=m,this}tweenTo(m,C){let T=this.rgba,R=m.rgba;if(!Zt(T[0])||!Zt(R[0]))return Cs.useColorMix&&$o(this.input)&&$o(m.input)&&C<.99?_o(this.input,m.input,C):m.input||"none";let D=R[3]!==1||T[3]!==1,F=(K,ne)=>K+(T[ne]-K)*(1-C),j=R.slice(0,3).map(F).map(Math.round);return D&&j.push(F(R[3],3)),(D?"rgba(":"rgb(")+j.join(",")+")"}}Cs.names={white:"#ffffff",black:"#000000"},Cs.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(Q){return[sn(Q[1]),sn(Q[2]),sn(Q[3]),parseFloat(Q[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(Q){return[sn(Q[1]),sn(Q[2]),sn(Q[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(Q){return[sn(Q[1]+Q[1],16),sn(Q[2]+Q[2],16),sn(Q[3]+Q[3],16),Wt(Q[4])?sn(Q[4]+Q[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(Q){return[sn(Q[1],16),sn(Q[2],16),sn(Q[3],16),Wt(Q[4])?sn(Q[4],16)/255:1]}}],Cs.useColorMix=wt.CSS?.supports("color","color-mix(in srgb,red,blue 9%)"),Cs.None=new Cs("");let{parse:Hs}=Cs,{win:or}=ke,{isNumber:No,objectEach:Xo}=Zn;class es{constructor(m,C,T){this.pos=NaN,this.options=C,this.elem=m,this.prop=T}dSetter(){let m=this.paths,C=m?.[0],T=m?.[1],R=this.now||0,D=[];if(R!==1&&C&&T)if(C.length===T.length&&R<1)for(let F=0;F<T.length;F++){let j=C[F],K=T[F],ne=[];for(let ue=0;ue<K.length;ue++){let ie=j[ue],me=K[ue];No(ie)&&No(me)&&(K[0]!=="A"||ue!==4&&ue!==5)?ne[ue]=ie+R*(me-ie):ne[ue]=me}D.push(ne)}else D=T;else D=this.toD||[];this.elem.attr("d",D,void 0,!0)}update(){let m=this.elem,C=this.prop,T=this.now,R=this.options.step;this[C+"Setter"]?this[C+"Setter"]():m.attr?m.element&&m.attr(C,T,null,!0):m.style[C]=T+this.unit,R&&R.call(m,T,this)}run(m,C,T){let R=this,D=R.options,F=function(ne){return!F.stopped&&R.step(ne)},j=or.requestAnimationFrame||function(ne){setTimeout(ne,13)},K=function(){for(let ne=0;ne<es.timers.length;ne++)es.timers[ne]()||es.timers.splice(ne--,1);es.timers.length&&j(K)};m!==C||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=m,this.end=C,this.unit=T,this.now=this.start,this.pos=0,F.elem=this.elem,F.prop=this.prop,F()&&es.timers.push(F)===1&&j(K)):(delete D.curAnim[this.prop],D.complete&&Object.keys(D.curAnim).length===0&&D.complete.call(this.elem))}step(m){let C,T,R=+new Date,D=this.options,F=this.elem,j=D.complete,K=D.duration,ne=D.curAnim;return F.attr&&!F.element?C=!1:m||R>=K+this.startTime?(this.now=this.end,this.pos=1,this.update(),ne[this.prop]=!0,T=!0,Xo(ne,function(ue){ue!==!0&&(T=!1)}),T&&j&&j.call(F),C=!1):(this.pos=D.easing((R-this.startTime)/K),this.now=this.start+(this.end-this.start)*this.pos,this.update(),C=!0),C}initPath(m,C,T){let R=m.startX,D=m.endX,F=T.slice(),j=m.isArea,K=j?2:1,ne=C&&T.length>C.length&&T.hasStackedCliffs,ue,ie,me,Ee,Ae=C?.slice();if(!Ae||ne)return[F,F];function Pe(Ne,lt){for(;Ne.length<ie;){let gt=Ne[0],$t=lt[ie-Ne.length];if($t&&gt[0]==="M"&&($t[0]==="C"?Ne[0]=["C",gt[1],gt[2],gt[1],gt[2],gt[1],gt[2]]:Ne[0]=["L",gt[1],gt[2]]),Ne.unshift(gt),j){let qt=Ne.pop();Ne.push(Ne[Ne.length-1],qt)}}}function Fe(Ne){for(;Ne.length<ie;){let lt=Ne[Math.floor(Ne.length/K)-1].slice();if(lt[0]==="C"&&(lt[1]=lt[5],lt[2]=lt[6]),j){let gt=Ne[Math.floor(Ne.length/K)].slice();Ne.splice(Ne.length/2,0,lt,gt)}else Ne.push(lt)}}if(R&&D&&D.length){for(me=0;me<R.length;me++)if(R[me]===D[0]){ue=me;break}else if(R[0]===D[D.length-R.length+me]){ue=me,Ee=!0;break}else if(R[R.length-1]===D[D.length-R.length+me]){ue=R.length-me;break}ue===void 0&&(Ae=[])}return Ae.length&&No(ue)&&(ie=F.length+ue*K,Ee?(Pe(Ae,F),Fe(F)):(Pe(F,Ae),Fe(Ae))),[Ae,F]}fillSetter(){es.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,Hs(this.start).tweenTo(Hs(this.end),this.pos),void 0,!0)}}es.timers=[];let{defined:Ma,getStyle:kl,isArray:oi,isNumber:zo,isObject:il,merge:da,objectEach:Qu,pick:Ea}=Zn;function fc(Q){return il(Q)?da({duration:500,defer:0},Q):{duration:500*!!Q,defer:0}}function $r(Q,m){let C=es.timers.length;for(;C--;)es.timers[C].elem!==Q||m&&m!==es.timers[C].prop||(es.timers[C].stopped=!0)}let Oa={animate:function(Q,m,C){let T,R="",D,F,j;il(C)||(j=arguments,C={duration:j[2],easing:j[3],complete:j[4]}),zo(C.duration)||(C.duration=400),C.easing=typeof C.easing=="function"?C.easing:Math[C.easing]||Math.easeInOutSine,C.curAnim=da(m),Qu(m,function(K,ne){$r(Q,ne),F=new es(Q,C,ne),D=void 0,ne==="d"&&oi(m.d)?(F.paths=F.initPath(Q,Q.pathArray,m.d),F.toD=m.d,T=0,D=1):Q.attr?T=Q.attr(ne):(T=parseFloat(kl(Q,ne))||0,ne!=="opacity"&&(R="px")),D||(D=K),typeof D=="string"&&D.match("px")&&(D=D.replace(/px/g,"")),F.run(T,D,R)})},animObject:fc,getDeferredAnimation:function(Q,m,C){let T=fc(m),R=C?[C]:Q.series,D=0,F=0;return R.forEach(j=>{let K=fc(j.options.animation);D=il(m)&&Ma(m.defer)?T.defer:Math.max(D,K.duration+K.defer),F=Math.min(T.duration,K.duration)}),Q.renderer.forExport&&(D=0),{defer:Math.max(0,D-F),duration:Math.min(D,F)}},setAnimation:function(Q,m){m.renderer.globalAnimation=Ea(Q,m.options.chart.animation,!0)},stop:$r},{SVG_NS:Id,win:ed}=ke,{attr:Xc,createElement:pl,css:td,error:Rd,isFunction:wo,isString:Zf,objectEach:th,splat:xh}=Zn,{trustedTypes:Xr}=ed,Oh=Xr&&wo(Xr.createPolicy)&&Xr.createPolicy("highcharts",{createHTML:Q=>Q}),Pc=Oh?Oh.createHTML(""):"";class Ar{static filterUserAttributes(m){return th(m,(C,T)=>{let R=!0;Ar.allowedAttributes.indexOf(T)===-1&&(R=!1),["background","dynsrc","href","lowsrc","src"].indexOf(T)!==-1&&(R=Zf(C)&&Ar.allowedReferences.some(D=>C.indexOf(D)===0)),R||(Rd(33,!1,void 0,{"Invalid attribute in config":`${T}`}),delete m[T]),Zf(C)&&m[T]&&(m[T]=C.replace(/</g,"&lt;"))}),m}static parseStyle(m){return m.split(";").reduce((C,T)=>{let R=T.split(":").map(F=>F.trim()),D=R.shift();return D&&R.length&&(C[D.replace(/-([a-z])/g,F=>F[1].toUpperCase())]=R.join(":")),C},{})}static setElementHTML(m,C){m.innerHTML=Ar.emptyHTML,C&&new Ar(C).addToDOM(m)}constructor(m){this.nodes=typeof m=="string"?this.parseMarkup(m):m}addToDOM(m){return(function C(T,R){let D;return xh(T).forEach(function(F){let j,K=F.tagName,ne=F.textContent?ke.doc.createTextNode(F.textContent):void 0,ue=Ar.bypassHTMLFiltering;if(K)if(K==="#text")j=ne;else if(Ar.allowedTags.indexOf(K)!==-1||ue){let ie=K==="svg"?Id:R.namespaceURI||Id,me=ke.doc.createElementNS(ie,K),Ee=F.attributes||{};th(F,function(Ae,Pe){Pe!=="tagName"&&Pe!=="attributes"&&Pe!=="children"&&Pe!=="style"&&Pe!=="textContent"&&(Ee[Pe]=Ae)}),Xc(me,ue?Ee:Ar.filterUserAttributes(Ee)),F.style&&td(me,F.style),ne&&me.appendChild(ne),C(F.children||[],me),j=me}else Rd(33,!1,void 0,{"Invalid tagName in config":K});j&&R.appendChild(j),D=j}),D})(this.nodes,m)}parseMarkup(m){let C,T=[];m=m.trim().replace(/ style=(["'])/g," data-style=$1");try{C=new DOMParser().parseFromString(Oh?Oh.createHTML(m):m,"text/html")}catch{}if(!C){let D=pl("div");D.innerHTML=m,C={body:D}}let R=(D,F)=>{let j=D.nodeName.toLowerCase(),K={tagName:j};j==="#text"&&(K.textContent=D.textContent||"");let ne=D.attributes;if(ne){let ue={};[].forEach.call(ne,ie=>{ie.name==="data-style"?K.style=Ar.parseStyle(ie.value):ue[ie.name]=ie.value}),K.attributes=ue}if(D.childNodes.length){let ue=[];[].forEach.call(D.childNodes,ie=>{R(ie,ue)}),ue.length&&(K.children=ue)}F.push(K)};return[].forEach.call(C.body.childNodes,D=>R(D,T)),T}}Ar.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Ar.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Ar.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],Ar.emptyHTML=Pc,Ar.bypassHTMLFiltering=!1;let{defaultOptions:Au,defaultTime:nh}=kt,{pageLang:Tc}=ke,{extend:Fi,getNestedProperty:pc,isArray:al,isNumber:Vp,isObject:Tm,isString:Ac,pick:Jc,ucfirst:xu}=Zn,Ih={add:(Q,m)=>Q+m,divide:(Q,m)=>m!==0?Q/m:"",eq:(Q,m)=>Q==m,each:function(Q){let m=arguments[arguments.length-1];return!!al(Q)&&Q.map((C,T)=>Wi(m.body,Fi(Tm(C)?C:{"@this":C},{"@index":T,"@first":T===0,"@last":T===Q.length-1}))).join("")},ge:(Q,m)=>Q>=m,gt:(Q,m)=>Q>m,if:Q=>!!Q,le:(Q,m)=>Q<=m,lt:(Q,m)=>Q<m,multiply:(Q,m)=>Q*m,ne:(Q,m)=>Q!=m,subtract:(Q,m)=>Q-m,ucfirst:xu,unless:Q=>!Q},na={},As=Q=>/^["'].+["']$/.test(Q);function Wi(Q="",m,C){let T=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= #\(\)]+)\}/g,R=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,D=[],F=/f$/,j=/\.(\d)/,K=C?.options?.lang||Au.lang,ne=C?.time||nh,ue=C?.numberFormatter||Dl.bind(C),ie=(Fe="")=>{let Ne;return Fe==="true"||Fe!=="false"&&((Ne=Number(Fe)).toString()===Fe?Ne:As(Fe)?Fe.slice(1,-1):pc(Fe,m))},me,Ee,Ae=0,Pe;for(;(me=T.exec(Q))!==null;){let Fe=me,Ne=R.exec(me[1]);Ne&&(me=Ne,Pe=!0),Ee?.isBlock||(Ee={ctx:m,expression:me[1],find:me[0],isBlock:me[1].charAt(0)==="#",start:me.index,startInner:me.index+me[0].length,length:me[0].length});let lt=(Ee.isBlock?Fe:me)[1].split(" ")[0].replace("#","");Ih[lt]&&(Ee.isBlock&&lt===Ee.fn&&Ae++,Ee.fn||(Ee.fn=lt));let gt=me[1]==="else";if(Ee.isBlock&&Ee.fn&&(me[1]===`/${Ee.fn}`||gt))if(Ae)!gt&&Ae--;else{let $t=Ee.startInner,qt=Q.substr($t,me.index-$t);Ee.body===void 0?(Ee.body=qt,Ee.startInner=me.index+me[0].length):Ee.elseBody=qt,Ee.find+=qt+me[0],gt||(D.push(Ee),Ee=void 0)}else Ee.isBlock||D.push(Ee);if(Ne&&!Ee?.isBlock)break}return D.forEach(Fe=>{let Ne,lt,{body:gt,elseBody:$t,expression:qt,fn:Kt}=Fe;if(Kt){let Yt=[Fe],Xt=[],Kn=qt.length,So=0,Dn;for(lt=0;lt<=Kn;lt++){let ts=qt.charAt(lt);Dn||ts!=='"'&&ts!=="'"?Dn===ts&&(Dn=""):Dn=ts,Dn||ts!==" "&&lt!==Kn||(Xt.push(qt.substr(So,lt-So)),So=lt+1)}for(lt=Ih[Kt].length;lt--;)Yt.unshift(ie(Xt[lt+1]));Ne=Ih[Kt].apply(m,Yt),Fe.isBlock&&typeof Ne=="boolean"&&(Ne=Wi(Ne?gt:$t,m,C))}else{let Yt=As(qt)?[qt]:qt.split(":"),Xt=(Ne=ie(Yt.shift()||""))%1!=0;if(typeof Ne=="number"&&(Yt.length||Xt)){let Kn=Yt.join(":");if(F.test(Kn)||Xt){let So=parseInt((Kn.match(j)||["","-1"])[1],10);Ne!==null&&(Ne=ue(Ne,So,K.decimalPoint,Kn.indexOf(",")>-1?K.thousandsSep:""))}else Ne=ne.dateFormat(Kn,Ne)}R.lastIndex=0,R.test(Fe.find)&&Ac(Ne)&&(Ne=`"${Ne}"`)}Q=Q.replace(Fe.find,Jc(Ne,""))}),Pe?Wi(Q,m,C):Q}function Dl(Q,m,C,T){m*=1;let R,D,[F,j]=(Q=+Q||0).toString().split("e").map(Number),K=this?.options?.lang||Au.lang,ne=(Q.toString().split(".")[1]||"").split("e")[0].length,ue=m,ie={};C??(C=K.decimalPoint),T??(T=K.thousandsSep),m===-1?m=Math.min(ne,20):Vp(m)?m&&j<0&&((D=m+j)>=0?(F=+F.toExponential(D).split("e")[0],m=D):(F=Math.floor(F),Q=m<20?+(F*Math.pow(10,j)).toFixed(m):0,j=0)):m=2,j&&(m??(m=2),Q=F),Vp(m)&&m>=0&&(ie.minimumFractionDigits=m,ie.maximumFractionDigits=m),T===""&&(ie.useGrouping=!1);let me=T||C,Ee=me?"en":this?.locale||K.locale||Tc,Ae=JSON.stringify(ie)+Ee;return R=(na[Ae]??(na[Ae]=new Intl.NumberFormat(Ee,ie))).format(Q),me&&(R=R.replace(/([,\.])/g,"_$1").replace(/_\,/g,T??",").replace("_.",C??".")),(m||+R!=0)&&(!(j<0)||ue)||(R="0"),j&&+R!=0&&(R+="e"+(j<0?"":"+")+j),R}let Br={dateFormat:function(Q,m,C){return nh.dateFormat(Q,m,C)},format:Wi,helpers:Ih,numberFormat:Dl};(function(Q){let m;Q.rendererTypes={},Q.getRendererType=function(C=m){return Q.rendererTypes[C]||Q.rendererTypes[m]},Q.registerRendererType=function(C,T,R){Q.rendererTypes[C]=T,(!m||R)&&(m=C,ke.Renderer=T)}})(d||(d={}));let oh=d,{clamp:Yf,pick:gi,pushUnique:mc,stableSort:Nc}=Zn;(p||(p={})).distribute=function Q(m,C,T){let R=m,D=R.reducedLen||C,F=(gt,$t)=>gt.target-$t.target,j=[],K=m.length,ne=[],ue=j.push,ie,me,Ee,Ae=!0,Pe,Fe,Ne=0,lt;for(ie=K;ie--;)Ne+=m[ie].size;if(Ne>D){for(Nc(m,(gt,$t)=>($t.rank||0)-(gt.rank||0)),Ee=(lt=m[0].rank===m[m.length-1].rank)?K/2:-1,me=lt?Ee:K-1;Ee&&Ne>D;)Pe=m[ie=Math.floor(me)],mc(ne,ie)&&(Ne-=Pe.size),me+=Ee,lt&&me>=m.length&&(Ee/=2,me=Ee);ne.sort((gt,$t)=>$t-gt).forEach(gt=>ue.apply(j,m.splice(gt,1)))}for(Nc(m,F),m=m.map(gt=>({size:gt.size,targets:[gt.target],align:gi(gt.align,.5)}));Ae;){for(ie=m.length;ie--;)Pe=m[ie],Fe=(Math.min.apply(0,Pe.targets)+Math.max.apply(0,Pe.targets))/2,Pe.pos=Yf(Fe-Pe.size*Pe.align,0,C-Pe.size);for(ie=m.length,Ae=!1;ie--;)ie>0&&m[ie-1].pos+m[ie-1].size>m[ie].pos&&(m[ie-1].size+=m[ie].size,m[ie-1].targets=m[ie-1].targets.concat(m[ie].targets),m[ie-1].align=.5,m[ie-1].pos+m[ie-1].size>C&&(m[ie-1].pos=C-m[ie-1].size),m.splice(ie,1),Ae=!0)}return ue.apply(R,j),ie=0,m.some(gt=>{let $t=0;return(gt.targets||[]).some(()=>(R[ie].pos=gt.pos+$t,T!==void 0&&Math.abs(R[ie].pos-R[ie].target)>T?(R.slice(0,ie+1).forEach(qt=>delete qt.pos),R.reducedLen=(R.reducedLen||C)-.1*C,R.reducedLen>.1*C&&Q(R,C,T),!0):($t+=R[ie].size,ie++,!1)))}),Nc(R,F),R};let of=p,{animate:yo,animObject:Ou,stop:Ml}=Oa,{deg2rad:gc,doc:Pi,svg:Am,SVG_NS:zl,win:Qc,isFirefox:Xf}=ke,{addEvent:sf,attr:nd,createElement:Jf,crisp:kd,css:Dd,defined:vc,erase:po,extend:Iu,fireEvent:Rh,getAlignFactor:He,isArray:ft,isFunction:jt,isNumber:Tn,isObject:go,isString:jo,merge:pr,objectEach:js,pick:Tr,pInt:we,pushUnique:We,replaceNested:mt,syncTimeout:Cn,uniqueKey:qo}=Zn;class Ws{_defaultGetter(m){let C=Tr(this[m+"Value"],this[m],this.element?this.element.getAttribute(m):null,0);return/^-?[\d\.]+$/.test(C)&&(C=parseFloat(C)),C}_defaultSetter(m,C,T){T.setAttribute(C,m)}add(m){let C,T=this.renderer,R=this.element;return m&&(this.parentGroup=m),this.textStr!==void 0&&this.element.nodeName==="text"&&T.buildText(this),this.added=!0,(!m||m.handleZ||this.zIndex)&&(C=this.zIndexSetter()),C||(m?m.element:T.box).appendChild(R),this.onAdd&&this.onAdd(),this}addClass(m,C){let T=C?"":this.attr("class")||"";return(m=(m||"").split(/ /g).reduce(function(R,D){return T.indexOf(D)===-1&&R.push(D),R},T?[T]:[]).join(" "))!==T&&this.attr("class",m),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(m,C,T,R=!0){let D=this.renderer,F=D.alignedObjects,j=!!m;m?(this.alignOptions=m,this.alignByTranslate=C,this.alignTo=T):(m=this.alignOptions||{},C=this.alignByTranslate,T=this.alignTo);let K=!T||jo(T)?T||"renderer":void 0;K&&(j&&We(F,this),T=void 0);let ne=Tr(T,D[K],D),ue=(ne.x||0)+(m.x||0)+((ne.width||0)-(m.width||0))*He(m.align),ie=(ne.y||0)+(m.y||0)+((ne.height||0)-(m.height||0))*He(m.verticalAlign),me={"text-align":m?.align};return me[C?"translateX":"x"]=Math.round(ue),me[C?"translateY":"y"]=Math.round(ie),R&&(this[this.placed?"animate":"attr"](me),this.placed=!0),this.alignAttr=me,this}alignSetter(m){let C={left:"start",center:"middle",right:"end"};C[m]&&(this.alignValue=m,this.element.setAttribute("text-anchor",C[m]))}animate(m,C,T){let R=Ou(Tr(C,this.renderer.globalAnimation,!0)),D=R.defer;return Pi.hidden&&(R.duration=0),R.duration!==0?(T&&(R.complete=T),Cn(()=>{this.element&&yo(this,m,R)},D)):(this.attr(m,void 0,T||R.complete),js(m,function(F,j){R.step&&R.step.call(this,F,{prop:j,pos:1,elem:this})},this)),this}applyTextOutline(m){let C=this.element;m.indexOf("contrast")!==-1&&(m=m.replace(/contrast/g,this.renderer.getContrast(C.style.fill)));let T=m.indexOf(" "),R=m.substring(T+1),D=m.substring(0,T);if(D&&D!=="none"&&ke.svg){this.fakeTS=!0,D=D.replace(/(^[\d\.]+)(.*?)$/g,function(ue,ie,me){return 2*Number(ie)+me}),this.removeTextOutline();let F=Pi.createElementNS(zl,"tspan");nd(F,{class:"highcharts-text-outline",fill:R,stroke:R,"stroke-width":D,"stroke-linejoin":"round"});let j=C.querySelector("textPath")||C;[].forEach.call(j.childNodes,ue=>{let ie=ue.cloneNode(!0);ie.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(me=>ie.removeAttribute(me)),F.appendChild(ie)});let K=0;[].forEach.call(j.querySelectorAll("text tspan"),ue=>{K+=Number(ue.getAttribute("dy"))});let ne=Pi.createElementNS(zl,"tspan");ne.textContent="",nd(ne,{x:Number(C.getAttribute("x")),dy:-K}),F.appendChild(ne),j.insertBefore(F,j.firstChild)}}attr(m,C,T,R){let{element:D}=this,F=Ws.symbolCustomAttribs,j,K,ne=this,ue;return typeof m=="string"&&C!==void 0&&(j=m,(m={})[j]=C),typeof m=="string"?ne=(this[m+"Getter"]||this._defaultGetter).call(this,m,D):(js(m,function(ie,me){ue=!1,R||Ml(this,me),this.symbolName&&F.indexOf(me)!==-1&&(K||(this.symbolAttr(m),K=!0),ue=!0),this.rotation&&(me==="x"||me==="y")&&(this.doTransform=!0),ue||(this[me+"Setter"]||this._defaultSetter).call(this,ie,me,D)},this),this.afterSetters()),T&&T.call(this),ne}clip(m){if(m&&!m.clipPath){let C=qo()+"-",T=this.renderer.createElement("clipPath").attr({id:C}).add(this.renderer.defs);Iu(m,{clipPath:T,id:C,count:0}),m.add(T)}return this.attr("clip-path",m?`url(${this.renderer.url}#${m.id})`:"none")}crisp(m,C){C=Math.round(C||m.strokeWidth||0);let T=m.x||this.x||0,R=m.y||this.y||0,D=(m.width||this.width||0)+T,F=(m.height||this.height||0)+R,j=kd(T,C),K=kd(R,C);return Iu(m,{x:j,y:K,width:kd(D,C)-j,height:kd(F,C)-K}),vc(m.strokeWidth)&&(m.strokeWidth=C),m}complexColor(m,C,T){let R=this.renderer,D,F,j,K,ne,ue,ie,me,Ee,Ae,Pe=[],Fe;Rh(this.renderer,"complexColor",{args:arguments},function(){if(m.radialGradient?F="radialGradient":m.linearGradient&&(F="linearGradient"),F){if(j=m[F],ne=R.gradients,ue=m.stops,Ee=T.radialReference,ft(j)&&(m[F]=j={x1:j[0],y1:j[1],x2:j[2],y2:j[3],gradientUnits:"userSpaceOnUse"}),F==="radialGradient"&&Ee&&!vc(j.gradientUnits)&&(K=j,j=pr(j,R.getRadialAttr(Ee,K),{gradientUnits:"userSpaceOnUse"})),js(j,function(Ne,lt){lt!=="id"&&Pe.push(lt,Ne)}),js(ue,function(Ne){Pe.push(Ne)}),ne[Pe=Pe.join(",")])Ae=ne[Pe].attr("id");else{j.id=Ae=qo();let Ne=ne[Pe]=R.createElement(F).attr(j).add(R.defs);Ne.radAttr=K,Ne.stops=[],ue.forEach(function(lt){lt[1].indexOf("rgba")===0?(ie=(D=Cs.parse(lt[1])).get("rgb"),me=D.get("a")):(ie=lt[1],me=1);let gt=R.createElement("stop").attr({offset:lt[0],"stop-color":ie,"stop-opacity":me}).add(Ne);Ne.stops.push(gt)})}Fe="url("+R.url+"#"+Ae+")",T.setAttribute(C,Fe),T.gradient=Pe,m.toString=function(){return Fe}}})}css(m){let C=this.styles,T={},R=this.element,D,F=!C;if(C&&js(m,function(j,K){C&&C[K]!==j&&(T[K]=j,F=!0)}),F){C&&(m=Iu(C,T)),m.width===null||m.width==="auto"?delete this.textWidth:R.nodeName.toLowerCase()==="text"&&m.width&&(D=this.textWidth=we(m.width)),Iu(this.styles,m),D&&!Am&&this.renderer.forExport&&delete m.width;let j=Xf&&m.fontSize||null;j&&(Tn(j)||/^\d+$/.test(j))&&(m.fontSize+="px");let K=pr(m);R.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(ne=>K&&delete K[ne]),K.color&&(K.fill=K.color,delete K.color)),Dd(R,K)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),m.textOutline&&this.applyTextOutline(m.textOutline)),this}dashstyleSetter(m){let C,T=this["stroke-width"];if(T==="inherit"&&(T=1),m){let R=(m=m.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(C=R.length;C--;)R[C]=""+we(R[C])*Tr(T,NaN);m=R.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",m)}}destroy(){let m=this,C=m.element||{},T=m.renderer,R=C.ownerSVGElement,D=C.nodeName==="SPAN"&&m.parentGroup||void 0,F,j;if(C.onclick=C.onmouseout=C.onmouseover=C.onmousemove=C.point=null,Ml(m),m.clipPath&&R){let K=m.clipPath;[].forEach.call(R.querySelectorAll("[clip-path],[CLIP-PATH]"),function(ne){ne.getAttribute("clip-path").indexOf(K.element.id)>-1&&ne.removeAttribute("clip-path")}),m.clipPath=K.destroy()}if(m.stops){for(j=0;j<m.stops.length;j++)m.stops[j].destroy();m.stops.length=0,m.stops=void 0}for(m.safeRemoveChild(C);D?.div&&D.div.childNodes.length===0;)F=D.parentGroup,m.safeRemoveChild(D.div),delete D.div,D=F;m.alignOptions&&po(T.alignedObjects,m),js(m,(K,ne)=>{(m[ne]?.parentGroup===m||["connector","foreignObject"].indexOf(ne)!==-1)&&m[ne]?.destroy?.(),delete m[ne]})}dSetter(m,C,T){ft(m)&&(typeof m[0]=="string"&&(m=this.renderer.pathToSegments(m)),this.pathArray=m,m=m.reduce((R,D,F)=>D?.join?(F?R+" ":"")+D.join(" "):(D||"").toString(),"")),/(NaN| {2}|^$)/.test(m)&&(m="M 0 0"),this[C]!==m&&(T.setAttribute(C,m),this[C]=m)}fillSetter(m,C,T){typeof m=="string"?T.setAttribute(C,m):m&&this.complexColor(m,C,T)}hrefSetter(m,C,T){T.setAttributeNS("http://www.w3.org/1999/xlink",C,m)}getBBox(m,C){let T,R,D,F,{alignValue:j,element:K,renderer:ne,styles:ue,textStr:ie}=this,{cache:me,cacheKeys:Ee}=ne,Ae=K.namespaceURI===this.SVG_NS,Pe=Tr(C,this.rotation,0),Fe=ne.styledMode?K&&Ws.prototype.getStyle.call(K,"font-size"):ue.fontSize;if(vc(ie)&&((F=ie.toString()).indexOf("<")===-1&&(F=F.replace(/\d/g,"0")),F+=["",ne.rootFontSize,Fe,Pe,this.textWidth,j,ue.lineClamp,ue.textOverflow,ue.fontWeight].join(",")),F&&!m&&(T=me[F]),!T||T.polygon){if(Ae||ne.forExport){try{D=this.fakeTS&&function(lt){let gt=K.querySelector(".highcharts-text-outline");gt&&Dd(gt,{display:lt})},jt(D)&&D("none"),T=K.getBBox?Iu({},K.getBBox()):{width:K.offsetWidth,height:K.offsetHeight,x:0,y:0},jt(D)&&D("")}catch{}(!T||T.width<0)&&(T={x:0,y:0,width:0,height:0})}else T=this.htmlGetBBox();R=T.height,Ae&&(T.height=R={"11px,17":14,"13px,20":16}[`${Fe||""},${Math.round(R)}`]||R),Pe&&(T=this.getRotatedBox(T,Pe));let Ne={bBox:T};Rh(this,"afterGetBBox",Ne),T=Ne.bBox}if(F&&(ie===""||T.height>0)){for(;Ee.length>250;)delete me[Ee.shift()];me[F]||Ee.push(F),me[F]=T}return T}getRotatedBox(m,C){let{x:T,y:R,width:D,height:F}=m,{alignValue:j,translateY:K,rotationOriginX:ne=0,rotationOriginY:ue=0}=this,ie=He(j),me=Number(this.element.getAttribute("y")||0)-(K?0:R),Ee=C*gc,Ae=(C-90)*gc,Pe=Math.cos(Ee),Fe=Math.sin(Ee),Ne=D*Pe,lt=D*Fe,gt=Math.cos(Ae),$t=Math.sin(Ae),[[qt,Kt],[Yt,Xt]]=[ne,ue].map(Mr=>[Mr-Mr*Pe,Mr*Fe]),Kn=T+ie*(D-Ne)+qt+Xt+me*gt,So=Kn+Ne,Dn=So-F*gt,ts=Dn-Ne,sr=R+me-ie*lt-Kt+Yt+me*$t,dr=sr+lt,hs=dr-F*$t,Rs=hs-lt,Qs=Math.min(Kn,So,Dn,ts),La=Math.min(sr,dr,hs,Rs),Oi=Math.max(Kn,So,Dn,ts)-Qs,cu=Math.max(sr,dr,hs,Rs)-La;return{x:Qs,y:La,width:Oi,height:cu,polygon:[[Kn,sr],[So,dr],[Dn,hs],[ts,Rs]]}}getStyle(m){return Qc.getComputedStyle(this.element||this,"").getPropertyValue(m)}hasClass(m){return(""+this.attr("class")).split(" ").indexOf(m)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(m,C){this.onEvents={},this.opacity=1,this.SVG_NS=zl,this.element=C==="span"||C==="body"?Jf(C):Pi.createElementNS(this.SVG_NS,C),this.renderer=m,this.styles={},Rh(this,"afterInit")}on(m,C){let{onEvents:T}=this;return T[m]&&T[m](),T[m]=sf(this.element,m,C),this}opacitySetter(m,C,T){let R=Number(Number(m).toFixed(3));this.opacity=R,T.setAttribute(C,R)}reAlign(){this.alignOptions?.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(m){return this.attr("class",(""+this.attr("class")).replace(jo(m)?RegExp(`(^| )${m}( |$)`):m," ").replace(/ +/g," ").trim())}removeTextOutline(){let m=this.element.querySelector("tspan.highcharts-text-outline");m&&this.safeRemoveChild(m)}safeRemoveChild(m){let C=m.parentNode;C&&C.removeChild(m)}setRadialReference(m){let C=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=m,C?.radAttr&&C.animate(this.renderer.getRadialAttr(m,C.radAttr)),this}shadow(m){let{renderer:C}=this,T=pr(this.parentGroup?.rotation===90?{offsetX:-1,offsetY:-1}:{},go(m)?m:{}),R=C.shadowDefinition(T);return this.attr({filter:m?`url(${C.url}#${R})`:"none"})}show(m=!0){return this.attr({visibility:m?"inherit":"visible"})}"stroke-widthSetter"(m,C,T){this[C]=m,T.setAttribute(C,m)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let m=this.getStyle("stroke-width"),C=0,T;return/px$/.test(m)?C=we(m):m!==""&&(nd(T=Pi.createElementNS(zl,"rect"),{width:m,"stroke-width":0}),this.element.parentNode.appendChild(T),C=T.getBBox().width,T.parentNode.removeChild(T)),C}symbolAttr(m){let C=this;Ws.symbolCustomAttribs.forEach(function(T){C[T]=Tr(m[T],C[T])}),C.attr({d:C.renderer.symbols[C.symbolName](C.x,C.y,C.width,C.height,C)})}textSetter(m){m!==this.textStr&&(delete this.textPxLength,this.textStr=m,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(m){let C=this.element,T=C.getElementsByTagName("title")[0]||Pi.createElementNS(this.SVG_NS,"title");C.insertBefore?C.insertBefore(T,C.firstChild):C.appendChild(T),T.textContent=mt(Tr(m,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let m=this.element;return m.parentNode.appendChild(m),this}translate(m,C){return this.attr({translateX:m,translateY:C})}updateTransform(m="transform"){let{element:C,foreignObject:T,matrix:R,padding:D,rotation:F=0,rotationOriginX:j,rotationOriginY:K,scaleX:ne,scaleY:ue,text:ie,translateX:me=0,translateY:Ee=0}=this,Ae=["translate("+me+","+Ee+")"];vc(R)&&Ae.push("matrix("+R.join(",")+")"),F&&(Ae.push("rotate("+F+" "+(j??C.getAttribute("x")??this.x??0)+" "+(K??C.getAttribute("y")??this.y??0)+")"),ie?.element.tagName!=="SPAN"||ie?.foreignObject||ie.attr({rotation:F,rotationOriginX:(j||0)-D,rotationOriginY:(K||0)-D})),(vc(ne)||vc(ue))&&Ae.push("scale("+Tr(ne,1)+" "+Tr(ue,1)+")"),Ae.length&&!(ie||this).textPath&&(T?.element||C).setAttribute(m,Ae.join(" "))}visibilitySetter(m,C,T){m==="inherit"?T.removeAttribute(C):this[C]!==m&&T.setAttribute(C,m),this[C]=m}xGetter(m){return this.element.nodeName==="circle"&&(m==="x"?m="cx":m==="y"&&(m="cy")),this._defaultGetter(m)}zIndexSetter(m,C){let T=this.renderer,R=this.parentGroup,D=(R||T).element||T.box,F=this.element,j=D===T.box,K,ne,ue,ie=!1,me,Ee=this.added,Ae;if(vc(m)?(F.setAttribute("data-z-index",m),m*=1,this[C]===m&&(Ee=!1)):vc(this[C])&&F.removeAttribute("data-z-index"),this[C]=m,Ee){for((m=this.zIndex)&&R&&(R.handleZ=!0),Ae=(K=D.childNodes).length-1;Ae>=0&&!ie;Ae--)me=!vc(ue=(ne=K[Ae]).getAttribute("data-z-index")),ne!==F&&(m<0&&me&&!j&&!Ae?(D.insertBefore(F,K[Ae]),ie=!0):(we(ue)<=m||me&&(!vc(m)||m>=0))&&(D.insertBefore(F,K[Ae+1]),ie=!0));ie||(D.insertBefore(F,K[3*!!j]),ie=!0)}return ie}}Ws.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Ws.prototype.strokeSetter=Ws.prototype.fillSetter,Ws.prototype.yGetter=Ws.prototype.xGetter,Ws.prototype.matrixSetter=Ws.prototype.rotationOriginXSetter=Ws.prototype.rotationOriginYSetter=Ws.prototype.rotationSetter=Ws.prototype.scaleXSetter=Ws.prototype.scaleYSetter=Ws.prototype.translateXSetter=Ws.prototype.translateYSetter=Ws.prototype.verticalAlignSetter=function(Q,m){this[m]=Q,this.doTransform=!0};let L=Ws,{defined:X,extend:de,getAlignFactor:ge,isNumber:Ie,merge:Be,pick:Ke,removeEvent:Vt}=Zn;class It extends L{constructor(m,C,T,R,D,F,j,K,ne,ue){let ie;super(m,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=C,this.x=T,this.y=R,this.anchorX=F,this.anchorY=j,this.baseline=ne,this.className=ue,this.addClass(ue==="button"?"highcharts-no-tooltip":"highcharts-label"),ue&&this.addClass("highcharts-"+ue),this.text=m.text(void 0,0,0,K).attr({zIndex:1}),typeof D=="string"&&((ie=/^url\((.*?)\)$/.test(D))||this.renderer.symbols[D])&&(this.symbolKey=D),this.bBox=It.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=m.styledMode||ie,this.deferredAttr={},this.alignFactor=0}alignSetter(m){let C=ge(m);this.textAlign=m,C!==this.alignFactor&&(this.alignFactor=C,this.bBox&&Ie(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(m,C){this.anchorX=m,this.boxAttr(C,Math.round(m)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(m,C){this.anchorY=m,this.boxAttr(C,m-this.ySetting)}boxAttr(m,C){this.box?this.box.attr(m,C):this.deferredAttr[m]=C}css(m){if(m){let C={};m=Be(m),It.textProps.forEach(T=>{m[T]!==void 0&&(C[T]=m[T],delete m[T])}),this.text.css(C),"fontSize"in C||"fontWeight"in C?this.updateTextPadding():("width"in C||"textOverflow"in C)&&this.updateBoxSize()}return L.prototype.css.call(this,m)}destroy(){Vt(this.element,"mouseenter"),Vt(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),L.prototype.destroy.call(this)}fillSetter(m,C){m&&(this.needsBox=!0),this.fill=m,this.boxAttr(C,m)}getBBox(m,C){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:T,height:R=0,translateX:D=0,translateY:F=0,width:j=0}=this,K=Ke(this.paddingLeft,T),ne=C??(this.rotation||0),ue={width:j,height:R,x:D+this.bBox.x-K,y:F+this.bBox.y-T+this.baselineOffset};return ne&&(ue=this.getRotatedBox(ue,ne)),ue}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(m){this.heightSetting=m,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Ke(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&X(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(m,C){Ie(m)?m!==this[C]&&(this[C]=m,this.updateTextPadding()):this[C]=void 0}rSetter(m,C){this.boxAttr(C,m)}strokeSetter(m,C){this.stroke=m,this.boxAttr(C,m)}"stroke-widthSetter"(m,C){m&&(this.needsBox=!0),this["stroke-width"]=m,this.boxAttr(C,m)}"text-alignSetter"(m){this.textAlign=this["text-align"]=m,this.updateTextPadding()}textSetter(m){m!==void 0&&this.text.attr({text:m}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let m,C=this.text,T={},R=this.padding,D=this.bBox=(!Ie(this.widthSetting)||!Ie(this.heightSetting)||this.textAlign)&&X(C.textStr)?C.getBBox(void 0,0):It.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||D.height||0)+2*R;let F=this.renderer.fontMetrics(C);if(this.baselineOffset=R+Math.min((this.text.firstLineMetrics||F).b,D.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-F.h)/2),this.needsBox&&!C.textPath){if(!this.box){let j=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();j.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),j.add(this)}T.x=m=this.getCrispAdjust(),T.y=(this.baseline?-this.baselineOffset:0)+m,T.width=Math.round(this.width),T.height=Math.round(this.height),this.box.attr(de(T,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let m=this.text,C=m.styles.textAlign||this.textAlign;if(!m.textPath){this.updateBoxSize();let T=this.baseline?0:this.baselineOffset,R=(this.paddingLeft??this.padding)+ge(C)*(this.widthSetting??this.bBox.width);(R!==m.x||T!==m.y)&&(m.attr({align:C,x:R}),T!==void 0&&m.attr("y",T)),m.x=R,m.y=T}}widthSetter(m){this.widthSetting=Ie(m)?m:void 0,this.doUpdate=!0}getPaddedWidth(){let m=this.padding,C=Ke(this.paddingLeft,m),T=Ke(this.paddingRight,m);return(this.widthSetting||this.bBox.width||0)+C+T}xSetter(m){this.x=m,this.alignFactor&&(m-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(m),this.attr("translateX",this.xSetting)}ySetter(m){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(m),this.attr("translateY",this.ySetting)}}It.emptyBBox={width:0,height:0,x:0,y:0},It.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:rn,isNumber:Hn,pick:co}=Zn;function Rn(Q,m,C,T,R){let D=[];if(R){let F=R.start||0,j=R.end||0,K=co(R.r,C),ne=co(R.r,T||C),ue=2e-4/(R.borderRadius?1:Math.max(K,1)),ie=Math.abs(j-F-2*Math.PI)<ue;ie&&(F=Math.PI/2,j=2.5*Math.PI-ue);let me=R.innerR,Ee=co(R.open,ie),Ae=Math.cos(F),Pe=Math.sin(F),Fe=Math.cos(j),Ne=Math.sin(j),lt=co(R.longArc,j-F-Math.PI<ue?0:1),gt=["A",K,ne,0,lt,co(R.clockwise,1),Q+K*Fe,m+ne*Ne];gt.params={start:F,end:j,cx:Q,cy:m},D.push(["M",Q+K*Ae,m+ne*Pe],gt),rn(me)&&((gt=["A",me,me,0,lt,rn(R.clockwise)?1-R.clockwise:0,Q+me*Ae,m+me*Pe]).params={start:j,end:F,cx:Q,cy:m},D.push(Ee?["M",Q+me*Fe,m+me*Ne]:["L",Q+me*Fe,m+me*Ne],gt)),Ee||D.push(["Z"])}return D}function Ko(Q,m,C,T,R){return R?.r?kr(Q,m,C,T,R):[["M",Q,m],["L",Q+C,m],["L",Q+C,m+T],["L",Q,m+T],["Z"]]}function kr(Q,m,C,T,R){let D=R?.r||0;return[["M",Q+D,m],["L",Q+C-D,m],["A",D,D,0,0,1,Q+C,m+D],["L",Q+C,m+T-D],["A",D,D,0,0,1,Q+C-D,m+T],["L",Q+D,m+T],["A",D,D,0,0,1,Q,m+T-D],["L",Q,m+D],["A",D,D,0,0,1,Q+D,m],["Z"]]}let wi={arc:Rn,callout:function(Q,m,C,T,R){let D=Math.min(R?.r||0,C,T),F=D+6,j=R?.anchorX,K=R?.anchorY||0,ne=kr(Q,m,C,T,{r:D});if(!Hn(j)||j<C&&j>0&&K<T&&K>0)return ne;if(Q+j>C-F)if(K>m+F&&K<m+T-F)ne.splice(3,1,["L",Q+C,K-6],["L",Q+C+6,K],["L",Q+C,K+6],["L",Q+C,m+T-D]);else if(j<C){let ue=K<m+F,ie=ue?m:m+T;ne.splice(ue?2:5,0,["L",j,K],["L",Q+C-D,ie])}else ne.splice(3,1,["L",Q+C,T/2],["L",j,K],["L",Q+C,T/2],["L",Q+C,m+T-D]);else if(Q+j<F)if(K>m+F&&K<m+T-F)ne.splice(7,1,["L",Q,K+6],["L",Q-6,K],["L",Q,K-6],["L",Q,m+D]);else if(j>0){let ue=K<m+F,ie=ue?m:m+T;ne.splice(ue?1:6,0,["L",j,K],["L",Q+D,ie])}else ne.splice(7,1,["L",Q,T/2],["L",j,K],["L",Q,T/2],["L",Q,m+D]);else K>T&&j<C-F?ne.splice(5,1,["L",j+6,m+T],["L",j,m+T+6],["L",j-6,m+T],["L",Q+D,m+T]):K<0&&j>F&&ne.splice(1,1,["L",j-6,m],["L",j,m-6],["L",j+6,m],["L",C-D,m]);return ne},circle:function(Q,m,C,T){return Rn(Q+C/2,m+T/2,C/2,T/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(Q,m,C,T){return[["M",Q+C/2,m],["L",Q+C,m+T/2],["L",Q+C/2,m+T],["L",Q,m+T/2],["Z"]]},rect:Ko,roundedRect:kr,square:Ko,triangle:function(Q,m,C,T){return[["M",Q+C/2,m],["L",Q+C,m+T],["L",Q,m+T],["Z"]]},"triangle-down":function(Q,m,C,T){return[["M",Q,m],["L",Q+C,m],["L",Q+C/2,m+T],["Z"]]}},{doc:Wr,SVG_NS:jl,win:wa}=ke,{attr:od,extend:sh,fireEvent:vi,isString:yc,objectEach:Vi,pick:ml}=Zn,Hp=(Q,m)=>Q.substring(0,m)+"",Md=class{constructor(Q){let m=Q.styles;this.renderer=Q.renderer,this.svgElement=Q,this.width=Q.textWidth,this.textLineHeight=m?.lineHeight,this.textOutline=m?.textOutline,this.ellipsis=m?.textOverflow==="ellipsis",this.lineClamp=m?.lineClamp,this.noWrap=m?.whiteSpace==="nowrap"}buildSVG(){let Q=this.svgElement,m=Q.element,C=Q.renderer,T=ml(Q.textStr,"").toString(),R=T.indexOf("<")!==-1,D=m.childNodes,F=!Q.added&&C.box,j=[T,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,Q.getStyle("font-size"),Q.styles.lineClamp,this.width].join(",");if(j!==Q.textCache){Q.textCache=j,delete Q.actualWidth;for(let K=D.length;K--;)m.removeChild(D[K]);if(R||this.ellipsis||this.width||Q.textPath||T.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(T))){if(T!==""){F&&F.appendChild(m);let K=new Ar(T);this.modifyTree(K.nodes),K.addToDOM(m),this.modifyDOM(),this.ellipsis&&(m.textContent||"").indexOf("")!==-1&&Q.attr("title",this.unescapeEntities(Q.textStr||"",["&lt;","&gt;"])),F&&F.removeChild(m)}}else m.appendChild(Wr.createTextNode(this.unescapeEntities(T)));yc(this.textOutline)&&Q.applyTextOutline&&Q.applyTextOutline(this.textOutline)}}modifyDOM(){let Q,m=this.svgElement,C=od(m.element,"x");for(m.firstLineMetrics=void 0;(Q=m.element.firstChild)&&/^[\s\u200B]*$/.test(Q.textContent||" ");)m.element.removeChild(Q);[].forEach.call(m.element.querySelectorAll("tspan.highcharts-br"),(F,j)=>{F.nextSibling&&F.previousSibling&&(j===0&&F.previousSibling.nodeType===1&&(m.firstLineMetrics=m.renderer.fontMetrics(F.previousSibling)),od(F,{dy:this.getLineHeight(F.nextSibling),x:C}))});let T=this.width||0;if(!T)return;let R=(F,j)=>{let K=F.textContent||"",ne=K.replace(/([^\^])-/g,"$1- ").split(" "),ue=!this.noWrap&&(ne.length>1||m.element.childNodes.length>1),ie=this.getLineHeight(j),me=Math.max(0,T-.8*ie),Ee=0,Ae=m.actualWidth;if(ue){let Pe=[],Fe=[];for(;j.firstChild&&j.firstChild!==F;)Fe.push(j.firstChild),j.removeChild(j.firstChild);for(;ne.length;)if(ne.length&&!this.noWrap&&Ee>0&&(Pe.push(F.textContent||""),F.textContent=ne.join(" ").replace(/- /g,"-")),this.truncate(F,void 0,ne,Ee===0&&Ae||0,T,me,(Ne,lt)=>ne.slice(0,lt).join(" ").replace(/- /g,"-")),Ae=m.actualWidth,Ee++,this.lineClamp&&Ee>=this.lineClamp){ne.length&&(this.truncate(F,F.textContent||"",void 0,0,T,me,Hp),F.textContent=F.textContent?.replace("","")+"");break}Fe.forEach(Ne=>{j.insertBefore(Ne,F)}),Pe.forEach(Ne=>{j.insertBefore(Wr.createTextNode(Ne),F);let lt=Wr.createElementNS(jl,"tspan");lt.textContent="",od(lt,{dy:ie,x:C}),j.insertBefore(lt,F)})}else this.ellipsis&&K&&this.truncate(F,K,void 0,0,T,me,Hp)},D=F=>{[].slice.call(F.childNodes).forEach(j=>{j.nodeType===wa.Node.TEXT_NODE?R(j,F):(j.className.baseVal.indexOf("highcharts-br")!==-1&&(m.actualWidth=0),D(j))})};D(m.element)}getLineHeight(Q){let m=Q.nodeType===wa.Node.TEXT_NODE?Q.parentElement:Q;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(m||this.svgElement.element).h}modifyTree(Q){let m=(C,T)=>{let{attributes:R={},children:D,style:F={},tagName:j}=C,K=this.renderer.styledMode;if(j==="b"||j==="strong"?K?R.class="highcharts-strong":F.fontWeight="bold":(j==="i"||j==="em")&&(K?R.class="highcharts-emphasized":F.fontStyle="italic"),F?.color&&(F.fill=F.color),j==="br"){R.class="highcharts-br",C.textContent="";let ne=Q[T+1];ne?.textContent&&(ne.textContent=ne.textContent.replace(/^ +/gm,""))}else j==="a"&&D&&D.some(ne=>ne.tagName==="#text")&&(C.children=[{children:D,tagName:"tspan"}]);j!=="#text"&&j!=="a"&&(C.tagName="tspan"),sh(C,{attributes:R,style:F}),D&&D.filter(ne=>ne.tagName!=="#text").forEach(m)};Q.forEach(m),vi(this.svgElement,"afterModifyTree",{nodes:Q})}truncate(Q,m,C,T,R,D,F){let j,K,ne=this.svgElement,{rotation:ue}=ne,ie=[],me=C&&!T?1:0,Ee=(m||C||"").length,Ae=Ee;C||(R=D);let Pe=function(Fe,Ne){let lt=Ne||Fe,gt=Q.parentNode;if(gt&&ie[lt]===void 0&&gt.getSubStringLength)try{ie[lt]=T+gt.getSubStringLength(0,C?lt+1:lt)}catch{}return ie[lt]};if(ne.rotation=0,T+(K=Pe(Q.textContent.length))>R){for(;me<=Ee;)Ae=Math.ceil((me+Ee)/2),C&&(j=F(C,Ae)),K=Pe(Ae,j&&j.length-1),me===Ee?me=Ee+1:K>R?Ee=Ae-1:me=Ae;Ee===0?Q.textContent="":m&&Ee===m.length-1||(Q.textContent=j||F(m||C,Ae)),this.ellipsis&&K>R&&this.truncate(Q,Q.textContent||"",void 0,0,R,D,Hp)}C&&C.splice(0,Ae),ne.actualWidth=K,ne.rotation=ue}unescapeEntities(Q,m){return Vi(this.renderer.escapes,function(C,T){m&&m.indexOf(C)!==-1||(Q=Q.toString().replace(RegExp(C,"g"),T))}),Q}},{defaultOptions:kh}=kt,{charts:Og,deg2rad:sd,doc:eu,isFirefox:Qf,isMS:rd,isWebKit:Ig,noop:bc,SVG_NS:Pl,symbolSizes:rf,win:Uy}=ke,{addEvent:xr,attr:Zi,createElement:$p,crisp:_i,css:ep,defined:af,destroyObjectProperties:HS,extend:lf,isArray:Gi,isNumber:tu,isObject:Pd,isString:Jn,merge:Wl,pick:Dh,pInt:nu,replaceNested:tp,uniqueKey:zy}=Zn;class st{constructor(m,C,T,R,D,F,j){let K,ne;this.x=0,this.y=0;let ue=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ie=ue.element;j||ue.css(this.getStyle(R||{})),m.appendChild(ie),Zi(m,"dir","ltr"),m.innerHTML.indexOf("xmlns")===-1&&Zi(ie,"xmlns",this.SVG_NS),this.box=ie,this.boxWrapper=ue,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(eu.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=F,this.forExport=D,this.styledMode=j,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=ue.getStyle("font-size"),this.setSize(C,T,!1),Qf&&m.getBoundingClientRect&&((K=function(){ep(m,{left:0,top:0}),ne=m.getBoundingClientRect(),ep(m,{left:Math.ceil(ne.left)-ne.left+"px",top:Math.ceil(ne.top)-ne.top+"px"})})(),this.unSubPixelFix=xr(Uy,"resize",K))}definition(m){return new Ar([m]).addToDOM(this.defs.element)}getReferenceURL(){if((Qf||Ig)&&eu.getElementsByTagName("base").length){if(!af(i)){let m=zy(),C=new Ar([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:m},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${m})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(eu.body);ep(C,{position:"fixed",top:0,left:0,zIndex:9e5}),i=eu.elementFromPoint(6,6)?.id==="hitme",eu.body.removeChild(C)}if(i)return tp(Uy.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(m){return this.style=lf({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},m),this.style}setStyle(m){this.boxWrapper.css(this.getStyle(m))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let m=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),HS(this.gradients||{}),this.gradients=null,this.defs=m.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(m){return new this.Element(this,m)}getRadialAttr(m,C){return{cx:m[0]-m[2]/2+(C.cx||0)*m[2],cy:m[1]-m[2]/2+(C.cy||0)*m[2],r:(C.r||0)*m[2]}}shadowDefinition(m){let C=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(m).map(R=>`${R}-${m[R]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),T=Wl({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},m);return this.defs.element.querySelector(`#${C}`)||this.definition({tagName:"filter",attributes:{id:C,filterUnits:T.filterUnits},children:this.getShadowFilterContent(T)}),C}getShadowFilterContent(m){return[{tagName:"feDropShadow",attributes:{dx:m.offsetX,dy:m.offsetY,"flood-color":m.color,"flood-opacity":Math.min(5*m.opacity,1),stdDeviation:m.width/2}}]}buildText(m){new Md(m).buildSVG()}getContrast(m){if(m==="transparent")return"#000000";let C=Cs.parse(m).rgba,T=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(tu(C[0])||!Cs.useColorMix){let R=C.map(F=>{let j=F/255;return j<=.04?j/12.92:Math.pow((j+.055)/1.055,2.4)}),D=.2126*R[0]+.7152*R[1]+.0722*R[2];return 1.05/(D+.05)>(D+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+m+" srgb"+T+T+T+")"}button(m,C,T,R,D={},F,j,K,ne,ue){let ie=this.label(m,C,T,ne,void 0,void 0,ue,void 0,"button"),me=this.styledMode,Ee=arguments,Ae=0;D=Wl(kh.global.buttonTheme,D),me&&(delete D.fill,delete D.stroke,delete D["stroke-width"]);let Pe=D.states||{},Fe=D.style||{};delete D.states,delete D.style;let Ne=[Ar.filterUserAttributes(D)],lt=[Fe];return me||["hover","select","disabled"].forEach((gt,$t)=>{Ne.push(Wl(Ne[0],Ar.filterUserAttributes(Ee[$t+5]||Pe[gt]||{}))),lt.push(Ne[$t+1].style),delete Ne[$t+1].style}),xr(ie.element,rd?"mouseover":"mouseenter",function(){Ae!==3&&ie.setState(1)}),xr(ie.element,rd?"mouseout":"mouseleave",function(){Ae!==3&&ie.setState(Ae)}),ie.setState=(gt=0)=>{if(gt!==1&&(ie.state=Ae=gt),ie.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][gt]),!me){ie.attr(Ne[gt]);let $t=lt[gt];Pd($t)&&ie.css($t)}},ie.attr(Ne[0]),!me&&(ie.css(lf({cursor:"default"},Fe)),ue&&ie.text.css({pointerEvents:"none"})),ie.on("touchstart",gt=>gt.stopPropagation()).on("click",function(gt){Ae!==3&&R?.call(ie,gt)})}crispLine(m,C){let[T,R]=m;return af(T[1])&&T[1]===R[1]&&(T[1]=R[1]=_i(T[1],C)),af(T[2])&&T[2]===R[2]&&(T[2]=R[2]=_i(T[2],C)),m}path(m){let C=this.styledMode?{}:{fill:"none"};return Gi(m)?C.d=m:Pd(m)&&lf(C,m),this.createElement("path").attr(C)}circle(m,C,T){let R=Pd(m)?m:m===void 0?{}:{x:m,y:C,r:T},D=this.createElement("circle");return D.xSetter=D.ySetter=function(F,j,K){K.setAttribute("c"+j,F)},D.attr(R)}arc(m,C,T,R,D,F){let j;Pd(m)?(C=(j=m).y,T=j.r,R=j.innerR,D=j.start,F=j.end,m=j.x):j={innerR:R,start:D,end:F};let K=this.symbol("arc",m,C,T,T,j);return K.r=T,K}rect(m,C,T,R,D,F){let j=Pd(m)?m:m===void 0?{}:{x:m,y:C,r:D,width:Math.max(T||0,0),height:Math.max(R||0,0)},K=this.createElement("rect");return this.styledMode||(F!==void 0&&(j["stroke-width"]=F,lf(j,K.crisp(j))),j.fill="none"),K.rSetter=function(ne,ue,ie){K.r=ne,Zi(ie,{rx:ne,ry:ne})},K.rGetter=function(){return K.r||0},K.attr(j)}roundedRect(m){return this.symbol("roundedRect").attr(m)}setSize(m,C,T){this.width=m,this.height=C,this.boxWrapper.animate({width:m,height:C},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Dh(T,!0)?void 0:0}),this.alignElements()}g(m){let C=this.createElement("g");return m?C.attr({class:"highcharts-"+m}):C}image(m,C,T,R,D,F){let j={preserveAspectRatio:"none"};tu(C)&&(j.x=C),tu(T)&&(j.y=T),tu(R)&&(j.width=R),tu(D)&&(j.height=D);let K=this.createElement("image").attr(j),ne=function(ue){K.attr({href:m}),F.call(K,ue)};if(F){K.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let ue=new Uy.Image;xr(ue,"load",ne),ue.src=m,ue.complete&&ne({})}else K.attr({href:m});return K}symbol(m,C,T,R,D,F){let j,K,ne,ue,ie=this,me=/^url\((.*?)\)$/,Ee=me.test(m),Ae=!Ee&&(this.symbols[m]?m:"circle"),Pe=Ae&&this.symbols[Ae];if(Pe)typeof C=="number"&&(K=Pe.call(this.symbols,C||0,T||0,R||0,D||0,F)),j=this.path(K),ie.styledMode||j.attr("fill","none"),lf(j,{symbolName:Ae||void 0,x:C,y:T,width:R,height:D}),F&&lf(j,F);else if(Ee){ne=m.match(me)[1];let Fe=j=this.image(ne);Fe.imgwidth=Dh(F?.width,rf[ne]?.width),Fe.imgheight=Dh(F?.height,rf[ne]?.height),ue=Ne=>Ne.attr({width:Ne.width,height:Ne.height}),["width","height"].forEach(Ne=>{Fe[`${Ne}Setter`]=function(lt,gt){this[gt]=lt;let{alignByTranslate:$t,element:qt,width:Kt,height:Yt,imgwidth:Xt,imgheight:Kn}=this,So=gt==="width"?Xt:Kn,Dn=1;F&&F.backgroundSize==="within"&&Kt&&Yt&&Xt&&Kn?(Dn=Math.min(Kt/Xt,Yt/Kn),Zi(qt,{width:Math.round(Xt*Dn),height:Math.round(Kn*Dn)})):qt&&So&&qt.setAttribute(gt,So),!$t&&Xt&&Kn&&this.translate(((Kt||0)-Xt*Dn)/2,((Yt||0)-Kn*Dn)/2)}}),af(C)&&Fe.attr({x:C,y:T}),Fe.isImg=!0,Fe.symbolUrl=m,af(Fe.imgwidth)&&af(Fe.imgheight)?ue(Fe):(Fe.attr({width:0,height:0}),$p("img",{onload:function(){let Ne=Og[ie.chartIndex];this.width===0&&(ep(this,{position:"absolute",top:"-999em"}),eu.body.appendChild(this)),rf[ne]={width:this.width,height:this.height},Fe.imgwidth=this.width,Fe.imgheight=this.height,Fe.element&&ue(Fe),this.parentNode&&this.parentNode.removeChild(this),ie.imgCount--,ie.imgCount||!Ne||Ne.hasLoaded||Ne.onload()},src:ne}),this.imgCount++)}return j}clipRect(m,C,T,R){return this.rect(m,C,T,R,0)}text(m,C,T,R){let D={};if(R&&(this.allowHTML||!this.forExport))return this.html(m,C,T);D.x=Math.round(C||0),T&&(D.y=Math.round(T)),af(m)&&(D.text=m);let F=this.createElement("text").attr(D);return R&&(!this.forExport||this.allowHTML)||(F.xSetter=function(j,K,ne){let ue=ne.getElementsByTagName("tspan"),ie=ne.getAttribute(K);for(let me=0,Ee;me<ue.length;me++)(Ee=ue[me]).getAttribute(K)===ie&&Ee.setAttribute(K,j);ne.setAttribute(K,j)}),F}fontMetrics(m){let C=tu(m)?m:nu(L.prototype.getStyle.call(m,"font-size")||0),T=C<24?C+3:Math.round(1.2*C),R=Math.round(.8*T);return{h:T,b:R,f:C}}rotCorr(m,C,T){let R=m;return C&&T&&(R=Math.max(R*Math.cos(C*sd),4)),{x:-m/3*Math.sin(C*sd),y:R}}pathToSegments(m){let C=[],T=[],R={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let D=0;D<m.length;D++)Jn(T[0])&&tu(m[D])&&T.length===R[T[0].toUpperCase()]&&m.splice(D,0,T[0].replace("M","L").replace("m","l")),typeof m[D]=="string"&&(T.length&&C.push(T.slice(0)),T.length=0),T.push(m[D]);return C.push(T.slice(0)),C}label(m,C,T,R,D,F,j,K,ne){return new It(this,m,C,T,R,D,F,j,K,ne)}alignElements(){this.alignedObjects.forEach(m=>m.align())}}lf(st.prototype,{Element:L,SVG_NS:Pl,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:wi,draw:bc}),oh.registerRendererType("svg",st,!0);let{composed:xc,isFirefox:Mh}=ke,{attr:jy,css:ou,createElement:ec,defined:vt,extend:Jt,getAlignFactor:kn,isNumber:Ln,pInt:to,pushUnique:ds}=Zn;function ys(Q,m,C){let T=this.div?.style;L.prototype[`${m}Setter`].call(this,Q,m,C),T&&(C.style[m]=T[m]=Q)}let Js=(Q,m)=>{if(!Q.div){let C=jy(Q.element,"class"),T=Q.css,R=ec("div",C?{className:C}:void 0,{position:"absolute",left:`${Q.translateX||0}px`,top:`${Q.translateY||0}px`,...Q.styles,display:Q.display,opacity:Q.opacity,visibility:Q.visibility},Q.parentGroup?.div||m);Q.classSetter=(D,F,j)=>{j.setAttribute("class",D),R.className=D},Q.translateXSetter=Q.translateYSetter=(D,F)=>{Q[F]=D,R.style[F==="translateX"?"left":"top"]=`${D}px`,Q.doTransform=!0},Q.scaleXSetter=Q.scaleYSetter=(D,F)=>{Q[F]=D,Q.doTransform=!0},Q.opacitySetter=Q.visibilitySetter=ys,Q.css=D=>(T.call(Q,D),D.cursor&&(R.style.cursor=D.cursor),D.pointerEvents&&(R.style.pointerEvents=D.pointerEvents),Q),Q.on=function(){return L.prototype.on.apply({element:R,onEvents:Q.onEvents},arguments),Q},Q.div=R}return Q.div};class xs extends L{static compose(m){ds(xc,this.compose)&&(m.prototype.html=function(C,T,R){return new xs(this,"span").attr({text:C,x:Math.round(T),y:Math.round(R)})})}constructor(m,C){super(m,C),xs.useForeignObject?this.foreignObject=m.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...m.styledMode?{}:{fontFamily:m.style.fontFamily,fontSize:m.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(m,C,T){this.xCorr=-m*T,this.yCorr=-C}css(m){let C,{element:T}=this,R=T.tagName==="SPAN"&&m&&"width"in m,D=R&&m.width;return R&&(delete m.width,this.textWidth=to(D)||void 0,C=!0),m?.textOverflow==="ellipsis"&&(m.overflow="hidden",m.whiteSpace="nowrap"),m?.lineClamp&&(m.display="-webkit-box",m.WebkitLineClamp=m.lineClamp,m.WebkitBoxOrient="vertical",m.overflow="hidden"),Ln(Number(m?.fontSize))&&(m.fontSize+="px"),Jt(this.styles,m),ou(T,m),C&&this.updateTransform(),this}htmlGetBBox(){let{element:m}=this;return{x:m.offsetLeft,y:m.offsetTop,width:m.offsetWidth,height:m.offsetHeight}}updateTransform(){if(!this.added){this.alignOnAdd=!0;return}let{element:m,foreignObject:C,oldTextWidth:T,renderer:R,rotation:D,rotationOriginX:F,rotationOriginY:j,scaleX:K,scaleY:ne,styles:{display:ue="inline-block",whiteSpace:ie},textAlign:me="left",textWidth:Ee,translateX:Ae=0,translateY:Pe=0,x:Fe=0,y:Ne=0}=this;if(C||ou(m,{marginLeft:`${Ae}px`,marginTop:`${Pe}px`}),m.tagName==="SPAN"){let lt,gt=[D,me,m.innerHTML,Ee,this.textAlign].join(","),$t=-(this.parentGroup?.padding*1)||0;if(Ee!==T){let Xt=this.textPxLength?this.textPxLength:(ou(m,{width:"",whiteSpace:ie||"nowrap"}),m.offsetWidth),Kn=Ee||0,So=!R.styledMode&&m.style.textOverflow===""&&m.style.webkitLineClamp;(Kn>T||Xt>Kn||So)&&(/[\-\s\u00AD]/.test(m.textContent||m.innerText)||m.style.textOverflow==="ellipsis")&&(ou(m,{width:(D||K||Xt>Kn||So)&&Ln(Ee)?Ee+"px":"auto",display:ue,whiteSpace:ie||"normal"}),this.oldTextWidth=Ee)}C&&(ou(m,{display:"inline-block",verticalAlign:"top"}),C.attr({width:R.width,height:R.height})),gt!==this.cTT&&(lt=R.fontMetrics(m).b,vt(D)&&!C&&(D!==(this.oldRotation||0)||me!==this.oldAlign)&&ou(m,{transform:`rotate(${D}deg)`,transformOrigin:`${$t}% ${$t}px`}),this.getSpanCorrection(!vt(D)&&!this.textWidth&&this.textPxLength||m.offsetWidth,lt,kn(me)));let{xCorr:qt=0,yCorr:Kt=0}=this,Yt={left:`${Fe+qt}px`,top:`${Ne+Kt}px`,textAlign:me,transformOrigin:`${(F??Fe)-qt-Fe-$t}px ${(j??Ne)-Kt-Ne-$t}px`};(K||ne)&&(Yt.transform=`scale(${K??1},${ne??1})`),C?(super.updateTransform(),Ln(Fe)&&Ln(Ne)?(C.attr({x:Fe+qt,y:Ne+Kt,width:m.offsetWidth+3,height:m.offsetHeight,"transform-origin":m.getAttribute("transform-origin")||"0 0"}),ou(m,{display:ue,textAlign:me})):Mh&&C.attr({width:0,height:0})):ou(m,Yt),this.cTT=gt,this.oldRotation=D,this.oldAlign=me}}add(m){let{foreignObject:C,renderer:T}=this,R=T.box.parentNode,D=[];if(C)C.add(m),super.add(T.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(C));else{let F;if(this.parentGroup=m,m&&!(F=m.div)){let j=m;for(;j;)D.push(j),j=j.parentGroup;for(let K of D.reverse())F=Js(K,R)}(F||R).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(m){m!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Ar.setElementHTML(this.element,m??""),this.textStr=m,this.doTransform=!0)}alignSetter(m){this.alignValue=this.textAlign=m,this.doTransform=!0}xSetter(m,C){this[C]=m,this.doTransform=!0}}let mr=xs.prototype;mr.visibilitySetter=mr.opacitySetter=ys,mr.ySetter=mr.rotationSetter=mr.rotationOriginXSetter=mr.rotationOriginYSetter=mr.xSetter,(function(Q){Q.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},Q.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:m}=this.axis.chart;return m(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}})(v||(v={}));let Or=v,{addEvent:vr,isFunction:Ur,objectEach:Lo,removeEvent:Qr}=Zn;(S||(S={})).registerEventOptions=function(Q,m){Q.eventOptions=Q.eventOptions||{},Lo(m.events,function(C,T){Q.eventOptions[T]!==C&&(Q.eventOptions[T]&&(Qr(Q,T,Q.eventOptions[T]),delete Q.eventOptions[T]),Ur(C)&&(Q.eventOptions[T]=C,vr(Q,T,C,{order:0})))})};let Cl=S,{deg2rad:tc}=ke,{clamp:Us,correctFloat:Nl,defined:oa,destroyObjectProperties:Za,extend:Ph,fireEvent:sa,getAlignFactor:ei,isNumber:Zb,merge:RE,objectEach:El,pick:nc}=Zn,su=class{constructor(Q,m,C,T,R){this.isNew=!0,this.isNewLabel=!0,this.axis=Q,this.pos=m,this.type=C||"",this.parameters=R||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,sa(this,"init"),C||T||this.addLabel()}addLabel(){let Q=this,m=Q.axis,C=m.options,T=m.chart,R=m.categories,D=m.logarithmic,F=m.names,j=Q.pos,K=nc(Q.options?.labels,C.labels),ne=m.tickPositions,ue=j===ne[0],ie=j===ne[ne.length-1],me=(!K.step||K.step===1)&&m.tickInterval===1,Ee=ne.info,Ae=Q.label,Pe,Fe,Ne,lt=this.parameters.category||(R?nc(R[j],F[j],j):j);D&&Zb(lt)&&(lt=Nl(D.lin2log(lt))),m.dateTime&&(Ee?Pe=(Fe=T.time.resolveDTLFormat(C.dateTimeLabelFormats[!C.grid?.enabled&&Ee.higherRanks[j]||Ee.unitName])).main:Zb(lt)&&(Pe=m.dateTime.getXDateFormat(lt,C.dateTimeLabelFormats||{}))),Q.isFirst=ue,Q.isLast=ie;let gt={axis:m,chart:T,dateTimeLabelFormat:Pe,isFirst:ue,isLast:ie,pos:j,tick:Q,tickPositionInfo:Ee,value:lt};sa(this,"labelFormat",gt);let $t=Yt=>K.formatter?K.formatter.call(Yt,Yt):K.format?(Yt.text=m.defaultLabelFormatter.call(Yt),Br.format(K.format,Yt,T)):m.defaultLabelFormatter.call(Yt),qt=$t.call(gt,gt),Kt=Fe?.list;Kt?Q.shortenLabel=function(){for(Ne=0;Ne<Kt.length;Ne++)if(Ph(gt,{dateTimeLabelFormat:Kt[Ne]}),Ae.attr({text:$t.call(gt,gt)}),Ae.getBBox().width<m.getSlotWidth(Q)-2*(K.padding||0))return;Ae.attr({text:""})}:Q.shortenLabel=void 0,me&&m._addedPlotLB&&Q.moveLabel(qt,K),oa(Ae)||Q.movedLabel?Ae&&Ae.textStr!==qt&&!me&&(!Ae.textWidth||K.style.width||Ae.styles.width||Ae.css({width:null}),Ae.attr({text:qt}),Ae.textPxLength=Ae.getBBox().width):(Q.label=Ae=Q.createLabel(qt,K),Q.rotation=0)}createLabel(Q,m,C){let T=this.axis,{renderer:R,styledMode:D}=T.chart,F=m.style.whiteSpace,j=oa(Q)&&m.enabled?R.text(Q,C?.x,C?.y,m.useHTML).add(T.labelGroup):void 0;return j&&(D||j.css(RE(m.style)),j.textPxLength=j.getBBox().width,!D&&F&&j.css({whiteSpace:F})),j}destroy(){Za(this,this.axis)}getPosition(Q,m,C,T){let R=this.axis,D=R.chart,F=T&&D.oldChartHeight||D.chartHeight,j={x:Q?Nl(R.translate(m+C,void 0,void 0,T)+R.transB):R.left+R.offset+(R.opposite?(T&&D.oldChartWidth||D.chartWidth)-R.right-R.left:0),y:Q?F-R.bottom+R.offset-(R.opposite?R.height:0):Nl(F-R.translate(m+C,void 0,void 0,T)-R.transB)};return j.y=Us(j.y,-1e9,1e9),sa(this,"afterGetPosition",{pos:j}),j}getLabelPosition(Q,m,C,T,R,D,F,j){let K,ne,ue=this.axis,ie=ue.transA,me=ue.isLinked&&ue.linkedParent?ue.linkedParent.reversed:ue.reversed,Ee=ue.staggerLines,Ae=ue.tickRotCorr||{x:0,y:0},Pe=T||ue.reserveSpaceDefault?0:-ue.labelOffset*(ue.labelAlign==="center"?.5:1),Fe=R.distance,Ne={};return K=ue.side===0?C.rotation?-Fe:-C.getBBox().height:ue.side===2?Ae.y+Fe:Math.cos(C.rotation*tc)*(Ae.y-C.getBBox(!1,0).height/2),oa(R.y)&&(K=ue.side===0&&ue.horiz?R.y+K:R.y),Q=Q+nc(R.x,[0,1,0,-1][ue.side]*Fe)+Pe+Ae.x-(D&&T?D*ie*(me?-1:1):0),m=m+K-(D&&!T?D*ie*(me?1:-1):0),Ee&&(ne=F/(j||1)%Ee,ue.opposite&&(ne=Ee-ne-1),m+=ne*(ue.labelOffset/Ee)),Ne.x=Q,Ne.y=Math.round(m),sa(this,"afterGetLabelPosition",{pos:Ne,tickmarkOffset:D,index:F}),Ne}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(Q,m,C,T,R=!1,D){return D.crispLine([["M",Q,m],["L",Q+(R?0:-C),m+(R?C:0)]],T)}handleOverflow(Q){let m=this.axis,C=m.options.labels,T=Q.x,R=m.chart.chartWidth,D=m.chart.spacing,F=nc(m.labelLeft,Math.min(m.pos,D[3])),j=nc(m.labelRight,Math.max(m.isRadial?0:m.pos+m.len,R-D[1])),K=this.label,ne=this.rotation,ue=ei(m.labelAlign||K.attr("align")),ie=K.getBBox().width,me=m.getSlotWidth(this),Ee=me,Ae=1,Pe;ne||C.overflow!=="justify"?ne<0&&T-ue*ie<F?Pe=Math.round(T/Math.cos(ne*tc)-F):ne>0&&T+ue*ie>j&&(Pe=Math.round((R-T)/Math.cos(ne*tc))):(T-ue*ie<F?Ee=Q.x+Ee*(1-ue)-F:T+(1-ue)*ie>j&&(Ee=j-Q.x+Ee*ue,Ae=-1),(Ee=Math.min(me,Ee))<me&&m.labelAlign==="center"&&(Q.x+=Ae*(me-Ee-ue*(me-Math.min(ie,Ee)))),(ie>Ee||m.autoRotation&&K?.styles?.width)&&(Pe=Ee)),Pe&&K&&(this.shortenLabel?this.shortenLabel():K.css(Ph({},{width:Math.floor(Pe)+"px",lineClamp:+!m.isRadial})))}moveLabel(Q,m){let C=this,T=C.label,R=C.axis,D=!1,F;T&&T.textStr===Q?(C.movedLabel=T,D=!0,delete C.label):El(R.ticks,function(j){D||j.isNew||j===C||!j.label||j.label.textStr!==Q||(C.movedLabel=j.label,D=!0,j.labelPos=C.movedLabel.xy,delete j.label)}),!D&&(C.labelPos||T)&&(F=C.labelPos||T.xy,C.movedLabel=C.createLabel(Q,m,F),C.movedLabel&&C.movedLabel.attr({opacity:0}))}render(Q,m,C){let T=this.axis,R=T.horiz,D=this.pos,F=nc(this.tickmarkOffset,T.tickmarkOffset),j=this.getPosition(R,D,F,m),K=j.x,ne=j.y,ue=T.pos,ie=ue+T.len,me=R?K:ne,Ee=nc(C,this.label?.newOpacity,1);!T.chart.polar&&(Nl(me)<ue||me>ie)&&(C=0),C??(C=1),this.isActive=!0,this.renderGridLine(m,C),this.renderMark(j,C),this.renderLabel(j,m,Ee,Q),this.isNew=!1,sa(this,"afterRender")}renderGridLine(Q,m){let C=this.axis,T=C.options,R={},D=this.pos,F=this.type,j=nc(this.tickmarkOffset,C.tickmarkOffset),K=C.chart.renderer,ne=this.gridLine,ue,ie=T.gridLineWidth,me=T.gridLineColor,Ee=T.gridLineDashStyle;this.type==="minor"&&(ie=T.minorGridLineWidth,me=T.minorGridLineColor,Ee=T.minorGridLineDashStyle),ne||(C.chart.styledMode||(R.stroke=me,R["stroke-width"]=ie||0,R.dashstyle=Ee),F||(R.zIndex=1),Q&&(m=0),this.gridLine=ne=K.path().attr(R).addClass("highcharts-"+(F?F+"-":"")+"grid-line").add(C.gridGroup)),ne&&(ue=C.getPlotLinePath({value:D+j,lineWidth:ne.strokeWidth(),force:"pass",old:Q,acrossPanes:!1}))&&ne[Q||this.isNew?"attr":"animate"]({d:ue,opacity:m})}renderMark(Q,m){let C=this.axis,T=C.options,R=C.chart.renderer,D=this.type,F=C.tickSize(D?D+"Tick":"tick"),j=Q.x,K=Q.y,ne=nc(T[D!=="minor"?"tickWidth":"minorTickWidth"],!D&&C.isXAxis?1:0),ue=T[D!=="minor"?"tickColor":"minorTickColor"],ie=this.mark,me=!ie;F&&(C.opposite&&(F[0]=-F[0]),!ie&&(this.mark=ie=R.path().addClass("highcharts-"+(D?D+"-":"")+"tick").add(C.axisGroup),C.chart.styledMode||ie.attr({stroke:ue,"stroke-width":ne})),ie[me?"attr":"animate"]({d:this.getMarkPath(j,K,F[0],ie.strokeWidth(),C.horiz,R),opacity:m}))}renderLabel(Q,m,C,T){let R=this.axis,D=R.horiz,F=R.options,j=this.label,K=F.labels,ne=K.step,ue=nc(this.tickmarkOffset,R.tickmarkOffset),ie=Q.x,me=Q.y,Ee=!0;j&&Zb(ie)&&(j.xy=Q=this.getLabelPosition(ie,me,j,D,K,ue,T,ne),(!this.isFirst||this.isLast||F.showFirstLabel)&&(!this.isLast||this.isFirst||F.showLastLabel)?!D||K.step||K.rotation||m||C===0||this.handleOverflow(Q):Ee=!1,ne&&T%ne&&(Ee=!1),Ee&&Zb(Q.y)?(Q.opacity=C,j[this.isNewLabel?"attr":"animate"](Q).show(!0),this.isNewLabel=!1):(j.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let Q=this.label,m=this.axis;Q&&!this.isNew&&(Q.animate({opacity:0},void 0,Q.destroy),delete this.label),m.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:wl}=Oa,{xAxis:Nh,yAxis:Ru}=Or,{defaultOptions:ku}=kt,{registerEventOptions:Lc}=Cl,{deg2rad:si}=ke,{arrayMax:Nd,arrayMin:Du,clamp:Gl,correctFloat:ra,defined:yr,destroyObjectProperties:Lh,erase:ql,error:Ya,extend:cf,fireEvent:ll,getClosestDistance:Wy,insertItem:oc,isArray:Yb,isNumber:br,isString:xm,merge:gs,normalizeTickInterval:a1,objectEach:gl,pick:lr,relativeLength:Ll,removeEvent:ia,splat:Om,syncTimeout:Xb}=Zn,Ld=(Q,m)=>a1(m,void 0,void 0,lr(Q.options.allowDecimals,m<.5||Q.tickAmount!==void 0),!!Q.tickAmount);cf(ku,{xAxis:Nh,yAxis:gs(Nh,Ru)});class Mu{constructor(m,C,T){this.init(m,C,T)}init(m,C,T=this.coll){let R=T==="xAxis",D=this.isZAxis||(m.inverted?!R:R);this.chart=m,this.horiz=D,this.isXAxis=R,this.coll=T,ll(this,"init",{userOptions:C}),this.opposite=lr(C.opposite,this.opposite),this.side=lr(C.side,this.side,D?2*!this.opposite:this.opposite?1:3),this.setOptions(C);let F=this.options,j=F.labels;this.type??(this.type=F.type||"linear"),this.uniqueNames??(this.uniqueNames=F.uniqueNames??!0),ll(this,"afterSetType"),this.userOptions=C,this.minPixelPadding=0,this.reversed=lr(F.reversed,this.reversed),this.visible=F.visible,this.zoomEnabled=F.zoomEnabled,this.hasNames=this.type==="category"||F.categories===!0,this.categories=Yb(F.categories)&&F.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=yr(F.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=F.minRange||F.maxZoom,this.range=F.range,this.offset=F.offset||0,this.max=void 0,this.min=void 0;let K=lr(F.crosshair,Om(m.options.tooltip.crosshairs)[+!R]);this.crosshair=K===!0?{}:K,m.axes.indexOf(this)===-1&&(R?m.axes.splice(m.xAxis.length,0,this):m.axes.push(this),oc(this,m[this.coll])),m.orderItems(this.coll),this.series=this.series||[],m.inverted&&!this.isZAxis&&R&&!yr(this.reversed)&&(this.reversed=!0),this.labelRotation=br(j.rotation)?j.rotation:void 0,Lc(this,F),ll(this,"afterInit")}setOptions(m){let C=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=gs(C,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},ku[this.coll],m),ll(this,"afterSetOptions",{userOptions:m})}defaultLabelFormatter(){let m=this.axis,{numberFormatter:C}=this.chart,T=br(this.value)?this.value:NaN,R=m.chart.time,D=m.categories,F=this.dateTimeLabelFormat,j=ku.lang,K=j.numericSymbols,ne=j.numericSymbolMagnitude||1e3,ue=m.logarithmic?Math.abs(T):m.tickInterval,ie=K?.length,me,Ee;if(D)Ee=`${this.value}`;else if(F)Ee=R.dateFormat(F,T,!0);else if(ie&&K&&ue>=1e3)for(;ie--&&Ee===void 0;)ue>=(me=Math.pow(ne,ie+1))&&10*T%me==0&&K[ie]!==null&&T!==0&&(Ee=C(T/me,-1)+K[ie]);return Ee===void 0&&(Ee=Math.abs(T)>=1e4?C(T,-1):C(T,-1,void 0,"")),Ee}getSeriesExtremes(){let m,C=this;ll(this,"getSeriesExtremes",null,function(){C.hasVisibleSeries=!1,C.dataMin=C.dataMax=C.threshold=void 0,C.softThreshold=!C.isXAxis,C.series.forEach(T=>{if(T.reserveSpace()){let R=T.options,D,F=R.threshold,j,K;if(C.hasVisibleSeries=!0,C.positiveValuesOnly&&0>=(F||0)&&(F=void 0),C.isXAxis)(D=T.getColumn("x")).length&&(D=C.logarithmic?D.filter(ne=>ne>0):D,j=(m=T.getXExtremes(D)).min,K=m.max,br(j)||j instanceof Date||(D=D.filter(br),j=(m=T.getXExtremes(D)).min,K=m.max),D.length&&(C.dataMin=Math.min(lr(C.dataMin,j),j),C.dataMax=Math.max(lr(C.dataMax,K),K)));else{let ne=T.applyExtremes();br(ne.dataMin)&&(j=ne.dataMin,C.dataMin=Math.min(lr(C.dataMin,j),j)),br(ne.dataMax)&&(K=ne.dataMax,C.dataMax=Math.max(lr(C.dataMax,K),K)),yr(F)&&(C.threshold=F),(!R.softThreshold||C.positiveValuesOnly)&&(C.softThreshold=!1)}}})}),ll(this,"afterGetSeriesExtremes")}translate(m,C,T,R,D,F){let j=this.linkedParent||this,K=R&&j.old?j.old.min:j.min;if(!br(K))return NaN;let ne=j.minPixelPadding,ue=(j.isOrdinal||j.brokenAxis?.hasBreaks||j.logarithmic&&D)&&!!j.lin2val,ie=1,me=0,Ee=R&&j.old?j.old.transA:j.transA,Ae=0;return Ee||(Ee=j.transA),T&&(ie*=-1,me=j.len),j.reversed&&(ie*=-1,me-=ie*(j.sector||j.len)),C?(Ae=(m=m*ie+me-ne)/Ee+K,ue&&(Ae=j.lin2val(Ae))):(ue&&(m=j.val2lin(m)),Ae=ie*(m-K)*Ee+me+ie*ne+(br(F)?Ee*F:0),j.isRadial||(Ae=ra(Ae))),Ae}toPixels(m,C){return this.translate(this.chart?.time.parse(m)??NaN,!1,!this.horiz,void 0,!0)+(C?0:this.pos)}toValue(m,C){return this.translate(m-(C?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(m){let C=this,T=C.chart,R=C.left,D=C.top,F=m.old,j=m.value,K=m.lineWidth,ne=F&&T.oldChartHeight||T.chartHeight,ue=F&&T.oldChartWidth||T.chartWidth,ie=C.transB,me=m.translatedValue,Ee=m.force,Ae,Pe,Fe,Ne,lt;function gt(qt,Kt,Yt){return Ee!=="pass"&&(qt<Kt||qt>Yt)&&(Ee?qt=Gl(qt,Kt,Yt):lt=!0),qt}let $t={value:j,lineWidth:K,old:F,force:Ee,acrossPanes:m.acrossPanes,translatedValue:me};return ll(this,"getPlotLinePath",$t,function(qt){Ae=Fe=(me=Gl(me=lr(me,C.translate(j,void 0,void 0,F)),-1e9,1e9))+ie,Pe=Ne=ne-me-ie,br(me)?C.horiz?(Pe=D,Ne=ne-C.bottom+(C.options.isInternal?0:T.scrollablePixelsY||0),Ae=Fe=gt(Ae,R,R+C.width)):(Ae=R,Fe=ue-C.right+(T.scrollablePixelsX||0),Pe=Ne=gt(Pe,D,D+C.height)):(lt=!0,Ee=!1),qt.path=lt&&!Ee?void 0:T.renderer.crispLine([["M",Ae,Pe],["L",Fe,Ne]],K||1)}),$t.path}getLinearTickPositions(m,C,T){let R,D,F,j=ra(Math.floor(C/m)*m),K=ra(Math.ceil(T/m)*m),ne=[];if(ra(j+m)===j&&(F=20),this.single)return[C];for(R=j;R<=K&&(ne.push(R),(R=ra(R+m,F))!==D);)D=R;return ne}getMinorTickInterval(){let{minorTicks:m,minorTickInterval:C}=this.options;return m===!0?lr(C,"auto"):m!==!1?C:void 0}getMinorTickPositions(){let m=this.options,C=this.tickPositions,T=this.minorTickInterval,R=this.pointRangePadding||0,D=(this.min||0)-R,F=(this.max||0)+R,j=this.brokenAxis?.hasBreaks?this.brokenAxis.unitLength:F-D,K=[],ne;if(j&&j/T<this.len/3){let ue=this.logarithmic;if(ue)this.paddedTicks.forEach(function(ie,me,Ee){me&&K.push.apply(K,ue.getLogTickPositions(T,Ee[me-1],Ee[me],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")K=K.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(T),D,F,m.startOfWeek));else for(ne=D+(C[0]-D)%T;ne<=F&&ne!==K[0];ne+=T)K.push(ne)}return K.length!==0&&this.trimTicks(K),K}adjustForMinRange(){let m=this.options,C=this.logarithmic,T=this.chart.time,{max:R,min:D,minRange:F}=this,j,K,ne,ue;this.isXAxis&&F===void 0&&!C&&(F=yr(m.min)||yr(m.max)||yr(m.floor)||yr(m.ceiling)?null:Math.min(5*(Wy(this.series.map(ie=>{let me=ie.getColumn("x");return ie.xIncrement?me.slice(0,2):me}))||0),this.dataMax-this.dataMin)),br(R)&&br(D)&&br(F)&&R-D<F&&(K=this.dataMax-this.dataMin>=F,j=(F-R+D)/2,ne=[D-j,T.parse(m.min)??D-j],K&&(ne[2]=C?C.log2lin(this.dataMin):this.dataMin),ue=[(D=Nd(ne))+F,T.parse(m.max)??D+F],K&&(ue[2]=C?C.log2lin(this.dataMax):this.dataMax),(R=Du(ue))-D<F&&(ne[0]=R-F,ne[1]=T.parse(m.min)??R-F,D=Nd(ne))),this.minRange=F,this.min=D,this.max=R}getClosest(){let m,C;if(this.categories)C=1;else{let T=[];this.series.forEach(function(R){let D=R.closestPointRange,F=R.getColumn("x");F.length===1?T.push(F[0]):R.sorted&&yr(D)&&R.reserveSpace()&&(C=yr(C)?Math.min(C,D):D)}),T.length&&(T.sort((R,D)=>R-D),m=Wy([T]))}return m&&C?Math.min(m,C):m||C}nameToX(m){let C=Yb(this.options.categories),T=C?this.categories:this.names,R=m.options.x,D;return m.series.requireSorting=!1,yr(R)||(R=this.uniqueNames&&T?C?T.indexOf(m.name):lr(T.keys[m.name],-1):m.series.autoIncrement()),R===-1?!C&&T&&(D=T.length):br(R)&&(D=R),D!==void 0?(this.names[D]=m.name,this.names.keys[m.name]=D):m.x&&(D=m.x),D}updateNames(){let m=this,C=this.names;C.length>0&&(Object.keys(C.keys).forEach(function(T){delete C.keys[T]}),C.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(T=>{T.xIncrement=null,(!T.points||T.isDirtyData)&&(m.max=Math.max(m.max||0,T.dataTable.rowCount-1),T.processData(),T.generatePoints());let R=T.getColumn("x").slice();T.data.forEach((D,F)=>{let j=R[F];D?.options&&D.name!==void 0&&(j=m.nameToX(D))!==void 0&&j!==D.x&&(R[F]=D.x=j)}),T.dataTable.setColumn("x",R)}))}setAxisTranslation(){let m=this,C=m.max-m.min,T=m.linkedParent,R=!!m.categories,D=m.isXAxis,F=m.axisPointRange||0,j,K=0,ne=0,ue,ie=m.transA;(D||R||F)&&(j=m.getClosest(),T?(K=T.minPointOffset,ne=T.pointRangePadding):m.series.forEach(function(me){let Ee=R?1:D?lr(me.options.pointRange,j,0):m.axisPointRange||0,Ae=me.options.pointPlacement;if(F=Math.max(F,Ee),!m.single||R){let Pe=me.is("xrange")?!D:D;K=Math.max(K,Pe&&xm(Ae)?0:Ee/2),ne=Math.max(ne,Pe&&Ae==="on"?0:Ee)}}),ue=m.ordinal?.slope&&j?m.ordinal.slope/j:1,m.minPointOffset=K*=ue,m.pointRangePadding=ne*=ue,m.pointRange=Math.min(F,m.single&&R?1:C),D&&(m.closestPointRange=j)),m.translationSlope=m.transA=ie=m.staticScale||m.len/(C+ne||1),m.transB=m.horiz?m.left:m.bottom,m.minPixelPadding=ie*K,ll(this,"afterSetAxisTranslation")}minFromRange(){let{max:m,min:C}=this;return br(m)&&br(C)&&m-C||void 0}setTickInterval(m){let{categories:C,chart:T,dataMax:R,dataMin:D,dateTime:F,isXAxis:j,logarithmic:K,options:ne,softThreshold:ue}=this,ie=T.time,me=br(this.threshold)?this.threshold:void 0,Ee=this.minRange||0,{ceiling:Ae,floor:Pe,linkedTo:Fe,softMax:Ne,softMin:lt}=ne,gt=br(Fe)&&T[this.coll]?.[Fe],$t=ne.tickPixelInterval,qt=ne.maxPadding,Kt=ne.minPadding,Yt=0,Xt,Kn=br(ne.tickInterval)&&ne.tickInterval>=0?ne.tickInterval:void 0,So,Dn,ts,sr;if(F||C||gt||this.getTickAmount(),ts=lr(this.userMin,ie.parse(ne.min)),sr=lr(this.userMax,ie.parse(ne.max)),gt?(this.linkedParent=gt,Xt=gt.getExtremes(),this.min=lr(Xt.min,Xt.dataMin),this.max=lr(Xt.max,Xt.dataMax),this.type!==gt.type&&Ya(11,!0,T)):(ue&&yr(me)&&br(R)&&br(D)&&(D>=me?(So=me,Kt=0):R<=me&&(Dn=me,qt=0)),this.min=lr(ts,So,D),this.max=lr(sr,Dn,R)),br(this.max)&&br(this.min)&&(K&&(this.positiveValuesOnly&&!m&&0>=Math.min(this.min,lr(D,this.min))&&Ya(10,!0,T),this.min=ra(K.log2lin(this.min),16),this.max=ra(K.log2lin(this.max),16)),this.range&&br(D)&&(this.userMin=this.min=ts=Math.max(D,this.minFromRange()||0),this.userMax=sr=this.max,this.range=void 0)),ll(this,"foundExtremes"),this.adjustForMinRange(),br(this.min)&&br(this.max)){if(!br(this.userMin)&&br(lt)&&lt<this.min&&(this.min=ts=lt),!br(this.userMax)&&br(Ne)&&Ne>this.max&&(this.max=sr=Ne),C||this.axisPointRange||this.stacking?.usePercentage||gt||(Yt=this.max-this.min)&&(!yr(ts)&&Kt&&(this.min-=Yt*Kt),!yr(sr)&&qt&&(this.max+=Yt*qt)),!br(this.userMin)&&br(Pe)&&(this.min=Math.max(this.min,Pe)),!br(this.userMax)&&br(Ae)&&(this.max=Math.min(this.max,Ae)),ue&&br(D)&&br(R)){let hs=me||0;!yr(ts)&&this.min<hs&&D>=hs?this.min=ne.minRange?Math.min(hs,this.max-Ee):hs:!yr(sr)&&this.max>hs&&R<=hs&&(this.max=ne.minRange?Math.max(hs,this.min+Ee):hs)}!T.polar&&this.min>this.max&&(yr(ne.min)?this.max=this.min:yr(ne.max)&&(this.min=this.max)),Yt=this.max-this.min}if(this.min!==this.max&&br(this.min)&&br(this.max)?gt&&!Kn&&$t===gt.options.tickPixelInterval?this.tickInterval=Kn=gt.tickInterval:this.tickInterval=lr(Kn,this.tickAmount?Yt/Math.max(this.tickAmount-1,1):void 0,C?1:Yt*$t/Math.max(this.len,$t)):this.tickInterval=1,j&&!m){let hs=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(Rs){Rs.forceCrop=Rs.forceCropping?.(),Rs.processData(hs)}),ll(this,"postProcessData",{hasExtremesChanged:hs})}this.setAxisTranslation(),ll(this,"initialAxisTranslation"),this.pointRange&&!Kn&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let dr=lr(ne.minTickInterval,F&&!this.series.some(hs=>!hs.sorted)?this.closestPointRange:0);!Kn&&dr&&this.tickInterval<dr&&(this.tickInterval=dr),F||K||Kn||(this.tickInterval=Ld(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let m=this.options,C=m.tickPositions,T=m.tickPositioner,R=this.getMinorTickInterval(),D=!this.isPanning,F=D&&m.startOnTick,j=D&&m.endOnTick,K=[],ne;if(this.tickmarkOffset=this.categories&&m.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&yr(this.min)&&!this.tickAmount&&(this.min%1==0||m.allowDecimals!==!1),C)K=C.slice();else if(br(this.min)&&br(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))K=[this.min,this.max],Ya(19,!1,this.chart);else if(this.dateTime)K=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,m.units),this.min,this.max,m.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)K=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let ue=this.tickInterval,ie=ue;for(;ie<=2*ue&&(K=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&K.length>this.tickAmount);)this.tickInterval=Ld(this,ie*=1.1)}K.length>this.len&&(K=[K[0],K[K.length-1]])[0]===K[1]&&(K.length=1),T&&(this.tickPositions=K,(ne=T.apply(this,[this.min,this.max]))&&(K=ne))}this.tickPositions=K,this.minorTickInterval=R==="auto"&&this.tickInterval?this.tickInterval/m.minorTicksPerMajor:R,this.paddedTicks=K.slice(0),this.trimTicks(K,F,j),!this.isLinked&&br(this.min)&&br(this.max)&&(this.single&&K.length<2&&!this.categories&&!this.series.some(ue=>ue.is("heatmap")&&ue.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),C||ne||this.adjustTickAmount()),ll(this,"afterSetTickPositions")}trimTicks(m,C,T){let R=m[0],D=m[m.length-1],F=!this.isOrdinal&&this.minPointOffset||0;if(ll(this,"trimTicks"),!this.isLinked||!this.grid){if(C&&R!==-1/0)this.min=R;else for(;this.min-F>m[0];)m.shift();if(T)this.max=D;else for(;this.max+F<m[m.length-1];)m.pop();m.length===0&&yr(R)&&!this.options.tickPositions&&m.push((D+R)/2)}}alignToOthers(){let m,C=this,T=C.chart,R=[this],D=C.options,F=T.options.chart,j=this.coll==="yAxis"&&F.alignThresholds,K=[];if(C.thresholdAlignment=void 0,(F.alignTicks!==!1&&D.alignTicks||j)&&D.startOnTick!==!1&&D.endOnTick!==!1&&!C.logarithmic){let ne=ie=>{let{horiz:me,options:Ee}=ie;return[me?Ee.left:Ee.top,Ee.width,Ee.height,Ee.pane].join(",")},ue=ne(this);T[this.coll].forEach(function(ie){let{series:me}=ie;me.length&&me.some(Ee=>Ee.visible)&&ie!==C&&ne(ie)===ue&&(m=!0,R.push(ie))})}if(m&&j){R.forEach(ue=>{let ie=ue.getThresholdAlignment(C);br(ie)&&K.push(ie)});let ne=K.length>1?K.reduce((ue,ie)=>ue+=ie,0)/K.length:void 0;R.forEach(ue=>{ue.thresholdAlignment=ne})}return m}getThresholdAlignment(m){if((!br(this.dataMin)||this!==m&&this.series.some(C=>C.isDirty||C.isDirtyData))&&this.getSeriesExtremes(),br(this.threshold)){let C=Gl((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(C=1-C),C}}getTickAmount(){let m=this.options,C=m.tickPixelInterval,T=m.tickAmount;yr(m.tickInterval)||T||!(this.len<C)||this.isRadial||this.logarithmic||!m.startOnTick||!m.endOnTick||(T=2),!T&&this.alignToOthers()&&(T=Math.ceil(this.len/C)+1),T<4&&(this.finalTickAmt=T,T=5),this.tickAmount=T}adjustTickAmount(){let m=this,{finalTickAmt:C,max:T,min:R,options:D,tickPositions:F,tickAmount:j,thresholdAlignment:K}=m,ne=F?.length,ue=lr(m.threshold,m.softThreshold?0:null),ie,me,Ee=m.tickInterval,Ae,Pe=()=>F.push(ra(F[F.length-1]+Ee)),Fe=()=>F.unshift(ra(F[0]-Ee));if(br(K)&&(Ae=K<.5?Math.ceil(K*(j-1)):Math.floor(K*(j-1)),D.reversed&&(Ae=j-1-Ae)),m.hasData()&&br(R)&&br(T)){let Ne=()=>{m.transA*=(ne-1)/(j-1),m.min=D.startOnTick?F[0]:Math.min(R,F[0]),m.max=D.endOnTick?F[F.length-1]:Math.max(T,F[F.length-1])};if(br(Ae)&&br(m.threshold)){for(;F[Ae]!==ue||F.length!==j||F[0]>R||F[F.length-1]<T;){for(F.length=0,F.push(m.threshold);F.length<j;)F[Ae]===void 0||F[Ae]>m.threshold?Fe():Pe();if(Ee>8*m.tickInterval)break;Ee*=2}Ne()}else if(ne<j){for(;F.length<j;)F.length%2||R===ue?Pe():Fe();Ne()}if(yr(C)){for(me=ie=F.length;me--;)(C===3&&me%2==1||C<=2&&me>0&&me<ie-1)&&F.splice(me,1);m.finalTickAmt=void 0}}}setScale(){let{coll:m,stacking:C}=this,T=!1,R=!1;this.series.forEach(F=>{T=T||F.isDirtyData||F.isDirty,R=R||F.xAxis?.isDirty||!1}),this.setAxisSize();let D=this.len!==this.old?.len;D||T||R||this.isLinked||this.forceRedraw||this.userMin!==this.old?.userMin||this.userMax!==this.old?.userMax||this.alignToOthers()?(C&&m==="yAxis"&&C.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),C&&m==="xAxis"&&C.buildStacks(),this.isDirty||(this.isDirty=D||this.min!==this.old?.min||this.max!==this.old?.max)):C&&C.cleanStacks(),T&&delete this.allExtremes,ll(this,"afterSetScale")}setExtremes(m,C,T=!0,R,D){let F=this.chart;this.series.forEach(j=>{delete j.kdTree}),m=F.time.parse(m),C=F.time.parse(C),ll(this,"setExtremes",D=cf(D,{min:m,max:C}),j=>{this.userMin=j.min,this.userMax=j.max,this.eventArgs=j,T&&F.redraw(R)})}setAxisSize(){let m=this.chart,C=this.options,T=C.offsets||[0,0,0,0],R=this.horiz,D=this.width=Math.round(Ll(lr(C.width,m.plotWidth-T[3]+T[1]),m.plotWidth)),F=this.height=Math.round(Ll(lr(C.height,m.plotHeight-T[0]+T[2]),m.plotHeight)),j=this.top=Math.round(Ll(lr(C.top,m.plotTop+T[0]),m.plotHeight,m.plotTop)),K=this.left=Math.round(Ll(lr(C.left,m.plotLeft+T[3]),m.plotWidth,m.plotLeft));this.bottom=m.chartHeight-F-j,this.right=m.chartWidth-D-K,this.len=Math.max(R?D:F,0),this.pos=R?K:j}getExtremes(){let m=this.logarithmic;return{min:m?ra(m.lin2log(this.min)):this.min,max:m?ra(m.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(m){let C=this.logarithmic,T=C?C.lin2log(this.min):this.min,R=C?C.lin2log(this.max):this.max;return m===null||m===-1/0?m=T:m===1/0?m=R:T>m?m=T:R<m&&(m=R),this.translate(m,0,1,0,1)}autoLabelAlign(m){let C=(lr(m,0)-90*this.side+720)%360,T={align:"center"};return ll(this,"autoLabelAlign",T,function(R){C>15&&C<165?R.align="right":C>195&&C<345&&(R.align="left")}),T.align}tickSize(m){let C=this.options,T=lr(C[m==="tick"?"tickWidth":"minorTickWidth"],m==="tick"&&this.isXAxis&&!this.categories?1:0),R=C[m==="tick"?"tickLength":"minorTickLength"],D;T&&R&&(C[m+"Position"]==="inside"&&(R=-R),D=[R,T]);let F={tickSize:D};return ll(this,"afterTickSize",F),F.tickSize}labelMetrics(){let m=this.chart.renderer,C=this.ticks,T=C[Object.keys(C)[0]]||{};return this.chart.renderer.fontMetrics(T.label||T.movedLabel||m.box)}unsquish(){let m=this.options.labels,C=m.padding||0,T=this.horiz,R=this.tickInterval,D=this.len/((+!!this.categories+this.max-this.min)/R),F=m.rotation,j=ra(.8*this.labelMetrics().h),K=Math.max(this.max-this.min,0),ne=function(Ae){let Pe=(Ae+2*C)/(D||1);return(Pe=Pe>1?Math.ceil(Pe):1)*R>K&&Ae!==1/0&&D!==1/0&&K&&(Pe=Math.ceil(K/R)),ra(Pe*R)},ue=R,ie,me=Number.MAX_VALUE,Ee;if(T){if(!m.staggerLines&&(br(F)?Ee=[F]:D<m.autoRotationLimit&&(Ee=m.autoRotation)),Ee){let Ae,Pe;for(let Fe of Ee)(Fe===F||Fe&&Fe>=-90&&Fe<=90)&&(Pe=(Ae=ne(Math.abs(j/Math.sin(si*Fe))))+Math.abs(Fe/360))<me&&(me=Pe,ie=Fe,ue=Ae)}}else ue=ne(.75*j);return this.autoRotation=Ee,this.labelRotation=lr(ie,br(F)?F:0),m.step?R:ue}getSlotWidth(m){let C=this.chart,T=this.horiz,R=this.options.labels,D=Math.max(this.tickPositions.length-!this.categories,1),F=C.margin[3];if(m&&br(m.slotWidth))return m.slotWidth;if(T&&R.step<2&&!this.isRadial)return R.rotation?0:(this.staggerLines||1)*this.len/D;if(!T){let j=R.style.width;if(j!==void 0)return parseInt(String(j),10);if(!this.opposite&&F)return F-C.spacing[3]}return .33*C.chartWidth}renderUnsquish(){let m=this.chart,C=m.renderer,T=this.tickPositions,R=this.ticks,D=this.options.labels,F=D.style,j=this.horiz,K=this.getSlotWidth(),ne=Math.max(1,Math.round(K-(j?2*(D.padding||0):D.distance||0))),ue={},ie=this.labelMetrics(),me=F.lineClamp,Ee,Ae=me??(Math.floor(this.len/(T.length*ie.h))||1),Pe=0;xm(D.rotation)||(ue.rotation=D.rotation||0),T.forEach(function(Fe){let Ne=R[Fe];Ne.movedLabel&&Ne.replaceMovedLabel();let lt=Ne.label?.textPxLength||0;lt>Pe&&(Pe=lt)}),this.maxLabelLength=Pe,this.autoRotation?Pe>ne&&Pe>ie.h?ue.rotation=this.labelRotation:this.labelRotation=0:K&&(Ee=ne),ue.rotation&&(Ee=Pe>.5*m.chartHeight?.33*m.chartHeight:Pe,me||(Ae=1)),this.labelAlign=D.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(ue.align=this.labelAlign),T.forEach(function(Fe){let Ne=R[Fe],lt=Ne?.label,gt=F.width,$t={};lt&&(lt.attr(ue),Ne.shortenLabel?Ne.shortenLabel():Ee&&!gt&&F.whiteSpace!=="nowrap"&&(Ee<(lt.textPxLength||0)||lt.element.tagName==="SPAN")?lt.css(cf($t,{width:`${Ee}px`,lineClamp:Ae})):!lt.styles.width||$t.width||gt||lt.css({width:"auto"}),Ne.rotation=ue.rotation)},this),this.tickRotCorr=C.rotCorr(ie.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(m){return m.hasData()})||this.options.showEmpty&&yr(this.min)&&yr(this.max)}addTitle(m){let C,T=this.chart.renderer,R=this.horiz,D=this.opposite,F=this.options.title,j=this.chart.styledMode;this.axisTitle||((C=F.textAlign)||(C=(R?{low:"left",middle:"center",high:"right"}:{low:D?"right":"left",middle:"center",high:D?"left":"right"})[F.align]),this.axisTitle=T.text(F.text||"",0,0,F.useHTML).attr({zIndex:7,rotation:F.rotation||0,align:C}).addClass("highcharts-axis-title"),j||this.axisTitle.css(gs(F.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),j||F.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[m?"show":"hide"](m)}generateTick(m){let C=this.ticks;C[m]?C[m].addLabel():C[m]=new su(this,m)}createGroups(){let{axisParent:m,chart:C,coll:T,options:R}=this,D=C.renderer,F=(j,K,ne)=>D.g(j).attr({zIndex:ne}).addClass(`highcharts-${T.toLowerCase()}${K} `+(this.isRadial?`highcharts-radial-axis${K} `:"")+(R.className||"")).add(m);this.axisGroup||(this.gridGroup=F("grid","-grid",R.gridZIndex),this.axisGroup=F("axis","",R.zIndex),this.labelGroup=F("axis-labels","-labels",R.labels.zIndex))}getOffset(){let m=this,{chart:C,horiz:T,options:R,side:D,ticks:F,tickPositions:j,coll:K}=m,ne=C.inverted&&!m.isZAxis?[1,0,3,2][D]:D,ue=m.hasData(),ie=R.title,me=R.labels,Ee=br(R.crossing),Ae=C.axisOffset,Pe=C.clipOffset,Fe=[-1,1,1,-1][D],Ne,lt=0,gt,$t=0,qt=0,Kt,Yt;if(m.showAxis=Ne=ue||R.showEmpty,m.staggerLines=m.horiz&&me.staggerLines||void 0,m.createGroups(),ue||m.isLinked?(j.forEach(function(Xt){m.generateTick(Xt)}),m.renderUnsquish(),m.reserveSpaceDefault=D===0||D===2||{1:"left",3:"right"}[D]===m.labelAlign,lr(me.reserveSpace,!Ee&&null,m.labelAlign==="center"||null,m.reserveSpaceDefault)&&j.forEach(function(Xt){qt=Math.max(F[Xt].getLabelSize(),qt)}),m.staggerLines&&(qt*=m.staggerLines),m.labelOffset=qt*(m.opposite?-1:1)):gl(F,function(Xt,Kn){Xt.destroy(),delete F[Kn]}),ie?.text&&ie.enabled!==!1&&(m.addTitle(Ne),Ne&&!Ee&&ie.reserveSpace!==!1&&(m.titleOffset=lt=m.axisTitle.getBBox()[T?"height":"width"],$t=yr(gt=ie.offset)?0:lr(ie.margin,T?5:10))),m.renderLine(),m.offset=Fe*lr(R.offset,Ae[D]?Ae[D]+(R.margin||0):0),m.tickRotCorr=m.tickRotCorr||{x:0,y:0},Yt=D===0?-m.labelMetrics().h:D===2?m.tickRotCorr.y:0,Kt=Math.abs(qt)+$t,qt&&(Kt-=Yt,Kt+=Fe*(T?lr(me.y,m.tickRotCorr.y+Fe*me.distance):lr(me.x,Fe*me.distance))),m.axisTitleMargin=lr(gt,Kt),m.getMaxLabelDimensions&&(m.maxLabelDimensions=m.getMaxLabelDimensions(F,j)),K!=="colorAxis"&&Pe){let Xt=this.tickSize("tick");Ae[D]=Math.max(Ae[D],(m.axisTitleMargin||0)+lt+Fe*m.offset,Kt,j?.length&&Xt?Xt[0]+Fe*m.offset:0);let Kn=!m.axisLine||R.offset?0:m.axisLine.strokeWidth()/2;Pe[ne]=Math.max(Pe[ne],Kn)}ll(this,"afterGetOffset")}getLinePath(m){let C=this.chart,T=this.opposite,R=this.offset,D=this.horiz,F=this.left+(T?this.width:0)+R,j=C.chartHeight-this.bottom-(T?this.height:0)+R;return T&&(m*=-1),C.renderer.crispLine([["M",D?this.left:F,D?j:this.top],["L",D?C.chartWidth-this.right:F,D?j:C.chartHeight-this.bottom]],m)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(m){let C=this.horiz,T=this.left,R=this.top,D=this.len,F=this.options.title,j=C?T:R,K=this.opposite,ne=this.offset,ue=F.x,ie=F.y,me=this.chart.renderer.fontMetrics(m),Ee=m?Math.max(m.getBBox(!1,0).height-me.h-1,0):0,Ae={low:j+(C?0:D),middle:j+D/2,high:j+(C?D:0)}[F.align],Pe=(C?R+this.height:T)+(C?1:-1)*(K?-1:1)*(this.axisTitleMargin||0)+[-Ee,Ee,me.f,-Ee][this.side],Fe={x:C?Ae+ue:Pe+(K?this.width:0)+ne+ue,y:C?Pe+ie-(K?this.height:0)+ne:Ae+ie};return ll(this,"afterGetTitlePosition",{titlePosition:Fe}),Fe}renderMinorTick(m,C){let T=this.minorTicks;T[m]||(T[m]=new su(this,m,"minor")),C&&T[m].isNew&&T[m].render(null,!0),T[m].render(null,!1,1)}renderTick(m,C,T){let R=this.isLinked,D=this.ticks;(!R||m>=this.min&&m<=this.max||this.grid?.isColumn)&&(D[m]||(D[m]=new su(this,m)),T&&D[m].isNew&&D[m].render(C,!0,-1),D[m].render(C))}render(){let m,C,T=this,R=T.chart,D=T.logarithmic,F=R.renderer,j=T.options,K=T.isLinked,ne=T.tickPositions,ue=T.axisTitle,ie=T.ticks,me=T.minorTicks,Ee=T.alternateBands,Ae=j.stackLabels,Pe=j.alternateGridColor,Fe=j.crossing,Ne=T.tickmarkOffset,lt=T.axisLine,gt=T.showAxis,$t=wl(F.globalAnimation);if(T.labelEdge.length=0,T.overlap=!1,[ie,me,Ee].forEach(function(qt){gl(qt,function(Kt){Kt.isActive=!1})}),br(Fe)){let qt=this.isXAxis?R.yAxis[0]:R.xAxis[0],Kt=[1,-1,-1,1][this.side];if(qt){let Yt=qt.toPixels(Fe,!0);T.horiz&&(Yt=qt.len-Yt),T.offset=Kt*Yt}}if(T.hasData()||K){let qt=T.chart.hasRendered&&T.old&&br(T.old.min);T.minorTickInterval&&!T.categories&&T.getMinorTickPositions().forEach(function(Kt){T.renderMinorTick(Kt,qt)}),ne.length&&(ne.forEach(function(Kt,Yt){T.renderTick(Kt,Yt,qt)}),Ne&&(T.min===0||T.single)&&(ie[-1]||(ie[-1]=new su(T,-1,null,!0)),ie[-1].render(-1))),Pe&&ne.forEach(function(Kt,Yt){C=ne[Yt+1]!==void 0?ne[Yt+1]+Ne:T.max-Ne,Yt%2==0&&Kt<T.max&&C<=T.max+(R.polar?-Ne:Ne)&&(Ee[Kt]||(Ee[Kt]=new ke.PlotLineOrBand(T,{})),m=Kt+Ne,Ee[Kt].options={from:D?D.lin2log(m):m,to:D?D.lin2log(C):C,color:Pe,className:"highcharts-alternate-grid"},Ee[Kt].render(),Ee[Kt].isActive=!0)}),T._addedPlotLB||(T._addedPlotLB=!0,(j.plotLines||[]).concat(j.plotBands||[]).forEach(function(Kt){T.addPlotBandOrLine(Kt)}))}[ie,me,Ee].forEach(function(qt){let Kt=[],Yt=$t.duration;gl(qt,function(Xt,Kn){Xt.isActive||(Xt.render(Kn,!1,0),Xt.isActive=!1,Kt.push(Kn))}),Xb(function(){let Xt=Kt.length;for(;Xt--;)qt[Kt[Xt]]&&!qt[Kt[Xt]].isActive&&(qt[Kt[Xt]].destroy(),delete qt[Kt[Xt]])},qt!==Ee&&R.hasRendered&&Yt?Yt:0)}),lt&&(lt[lt.isPlaced?"animate":"attr"]({d:this.getLinePath(lt.strokeWidth())}),lt.isPlaced=!0,lt[gt?"show":"hide"](gt)),ue&&gt&&(ue[ue.isNew?"attr":"animate"](T.getTitlePosition(ue)),ue.isNew=!1),Ae?.enabled&&T.stacking&&T.stacking.renderStackTotals(),T.old={len:T.len,max:T.max,min:T.min,transA:T.transA,userMax:T.userMax,userMin:T.userMin},T.isDirty=!1,ll(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(m){m.render()})),this.series.forEach(function(m){m.isDirty=!0})}getKeepProps(){return this.keepProps||Mu.keepProps}destroy(m){let C=this,T=C.plotLinesAndBands,R=this.eventOptions;if(ll(this,"destroy",{keepEvents:m}),m||ia(C),[C.ticks,C.minorTicks,C.alternateBands].forEach(function(D){Lh(D)}),T){let D=T.length;for(;D--;)T[D].destroy()}for(let D in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(F){C[F]&&(C[F]=C[F].destroy())}),C.plotLinesAndBandsGroups)C.plotLinesAndBandsGroups[D]=C.plotLinesAndBandsGroups[D].destroy();gl(C,function(D,F){C.getKeepProps().indexOf(F)===-1&&delete C[F]}),this.eventOptions=R}drawCrosshair(m,C){let T=this.crosshair,R=T?.snap??!0,D=this.chart,F,j,K,ne=this.cross,ue;if(ll(this,"drawCrosshair",{e:m,point:C}),m||(m=this.cross?.e),T&&(yr(C)||!R)!==!1){if(R?yr(C)&&(j=lr(this.coll!=="colorAxis"?C.crosshairPos:null,this.isXAxis?C.plotX:this.len-C.plotY)):j=m&&(this.horiz?m.chartX-this.pos:this.len-m.chartY+this.pos),yr(j)&&(ue={value:C&&(this.isXAxis?C.x:lr(C.stackY,C.y)),translatedValue:j},D.polar&&cf(ue,{isCrosshair:!0,chartX:m?.chartX,chartY:m?.chartY,point:C}),F=this.getPlotLinePath(ue)||null),!yr(F))return void this.hideCrosshair();K=this.categories&&!this.isRadial,ne||(this.cross=ne=D.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(K?"category ":"thin ")+(T.className||"")).attr({zIndex:lr(T.zIndex,2)}).add(),!D.styledMode&&(ne.attr({stroke:T.color||(K?Cs.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":lr(T.width,1)}).css({"pointer-events":"none"}),T.dashStyle&&ne.attr({dashstyle:T.dashStyle}))),ne.show().attr({d:F}),K&&!T.width&&ne.attr({"stroke-width":this.transA}),this.cross.e=m}else this.hideCrosshair();ll(this,"afterDrawCrosshair",{e:m,point:C})}hideCrosshair(){this.cross&&this.cross.hide(),ll(this,"afterHideCrosshair")}update(m,C){let T=this.chart;m=gs(this.userOptions,m),this.destroy(!0),this.init(T,m),T.isDirtyBox=!0,lr(C,!0)&&T.redraw()}remove(m){let C=this.chart,T=this.coll,R=this.series,D=R.length;for(;D--;)R[D]&&R[D].remove(!1);ql(C.axes,this),ql(C[T]||[],this),C.orderItems(T),this.destroy(),C.isDirtyBox=!0,lr(m,!0)&&C.redraw()}setTitle(m,C){this.update({title:m},C)}setCategories(m,C){this.update({categories:m},C)}}Mu.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:Gy,getMagnitude:Jb,normalizeTickInterval:qy,timeUnits:rh}=Zn;(function(Q){function m(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function C(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new T(this))}Q.compose=function(R){return R.keepProps.includes("dateTime")||(R.keepProps.push("dateTime"),R.prototype.getTimeTicks=m,Gy(R,"afterSetType",C)),R};class T{constructor(D){this.axis=D}normalizeTimeTickInterval(D,F){let j=F||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],K=j[j.length-1],ne=rh[K[0]],ue=K[1],ie;for(ie=0;ie<j.length&&(ne=rh[(K=j[ie])[0]],ue=K[1],!j[ie+1]||!(D<=(ne*ue[ue.length-1]+rh[j[ie+1][0]])/2));ie++);ne===rh.year&&D<5*ne&&(ue=[1,2,5]);let me=qy(D/ne,ue,K[0]==="year"?Math.max(Jb(D/ne),1):1);return{unitRange:ne,count:me,unitName:K[0]}}getXDateFormat(D,F){let{axis:j}=this,K=j.chart.time;return j.closestPointRange?K.getDateFormat(j.closestPointRange,D,j.options.startOfWeek,F)||K.resolveDTLFormat(F.year).main:K.resolveDTLFormat(F.day).main}}Q.Additions=T})(_||(_={}));let Bh=_,{addEvent:Qb,normalizeTickInterval:Oc,pick:ih}=Zn;(function(Q){function m(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new T(this))}function C(){let R=this.logarithmic;R&&(this.lin2val=function(D){return R.lin2log(D)},this.val2lin=function(D){return R.log2lin(D)})}Q.compose=function(R){return R.keepProps.includes("logarithmic")||(R.keepProps.push("logarithmic"),Qb(R,"afterSetType",m),Qb(R,"afterInit",C)),R};class T{constructor(D){this.axis=D}getLogTickPositions(D,F,j,K){let ne=this.axis,ue=ne.len,ie=ne.options,me=[];if(K||(this.minorAutoInterval=void 0),D>=.5)D=Math.round(D),me=ne.getLinearTickPositions(D,F,j);else if(D>=.08){let Ee,Ae,Pe,Fe,Ne,lt,gt,$t=Math.floor(F);for(Ee=D>.3?[1,2,4]:D>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],Ae=$t;Ae<j+1&&!gt;Ae++)for(Pe=0,Fe=Ee.length;Pe<Fe&&!gt;Pe++)(Ne=this.log2lin(this.lin2log(Ae)*Ee[Pe]))>F&&(!K||lt<=j)&&lt!==void 0&&me.push(lt),lt>j&&(gt=!0),lt=Ne}else{let Ee=this.lin2log(F),Ae=this.lin2log(j),Pe=K?ne.getMinorTickInterval():ie.tickInterval,Fe=ie.tickPixelInterval/(K?5:1),Ne=K?ue/ne.tickPositions.length:ue;D=Oc(D=ih(Pe==="auto"?null:Pe,this.minorAutoInterval,(Ae-Ee)*Fe/(Ne||1))),me=ne.getLinearTickPositions(D,Ee,Ae).map(this.log2lin),K||(this.minorAutoInterval=D/5)}return K||(ne.tickInterval=D),me}lin2log(D){return Math.pow(10,D)}log2lin(D){return Math.log(D)/Math.LN10}}Q.Additions=T})(x||(x={}));let np=x,{erase:zr,extend:Bd,isNumber:l1}=Zn;(function(Q){let m;function C(ne){return this.addPlotBandOrLine(ne,"plotBands")}function T(ne,ue){let ie=this.userOptions,me=new m(this,ne);if(this.visible&&(me=me.render()),me){if(this._addedPlotLB||(this._addedPlotLB=!0,(ie.plotLines||[]).concat(ie.plotBands||[]).forEach(Ee=>{this.addPlotBandOrLine(Ee)})),ue){let Ee=ie[ue]||[];Ee.push(ne),ie[ue]=Ee}this.plotLinesAndBands.push(me)}return me}function R(ne){return this.addPlotBandOrLine(ne,"plotLines")}function D(ne,ue,ie){ie=ie||this.options;let me=this.getPlotLinePath({value:ue,force:!0,acrossPanes:ie.acrossPanes}),Ee=[],Ae=this.horiz,Pe=!l1(this.min)||!l1(this.max)||ne<this.min&&ue<this.min||ne>this.max&&ue>this.max,Fe=this.getPlotLinePath({value:ne,force:!0,acrossPanes:ie.acrossPanes}),Ne,lt=1,gt;if(Fe&&me)for(Pe&&(gt=Fe.toString()===me.toString(),lt=0),Ne=0;Ne<Fe.length;Ne+=2){let $t=Fe[Ne],qt=Fe[Ne+1],Kt=me[Ne],Yt=me[Ne+1];($t[0]==="M"||$t[0]==="L")&&(qt[0]==="M"||qt[0]==="L")&&(Kt[0]==="M"||Kt[0]==="L")&&(Yt[0]==="M"||Yt[0]==="L")&&(Ae&&Kt[1]===$t[1]?(Kt[1]+=lt,Yt[1]+=lt):Ae||Kt[2]!==$t[2]||(Kt[2]+=lt,Yt[2]+=lt),Ee.push(["M",$t[1],$t[2]],["L",qt[1],qt[2]],["L",Yt[1],Yt[2]],["L",Kt[1],Kt[2]],["Z"])),Ee.isFlat=gt}return Ee}function F(ne){this.removePlotBandOrLine(ne)}function j(ne){let ue=this.plotLinesAndBands,ie=this.options,me=this.userOptions;if(ue){let Ee=ue.length;for(;Ee--;)ue[Ee].id===ne&&ue[Ee].destroy();[ie.plotLines||[],me.plotLines||[],ie.plotBands||[],me.plotBands||[]].forEach(function(Ae){for(Ee=Ae.length;Ee--;)Ae[Ee]?.id===ne&&zr(Ae,Ae[Ee])})}}function K(ne){this.removePlotBandOrLine(ne)}Q.compose=function(ne,ue){let ie=ue.prototype;return ie.addPlotBand||(m=ne,Bd(ie,{addPlotBand:C,addPlotLine:R,addPlotBandOrLine:T,getPlotBandPath:D,removePlotBand:F,removePlotLine:K,removePlotBandOrLine:j})),ue}})(P||(P={}));let Ky=P,{addEvent:ah,arrayMax:Ds,arrayMin:ha,defined:Pa,destroyObjectProperties:aa,erase:lh,fireEvent:fa,merge:vl,objectEach:Pv,pick:wr}=Zn;class id{static compose(m,C){return ah(m,"afterInit",function(){this.labelCollectors.push(()=>{let T=[];for(let R of this.axes)for(let{label:D,options:F}of R.plotLinesAndBands)D&&!F?.label?.allowOverlap&&T.push(D);return T})}),Ky.compose(id,C)}constructor(m,C){this.axis=m,this.options=C,this.id=C.id}render(){fa(this,"render");let{axis:m,options:C}=this,{horiz:T,logarithmic:R}=m,{color:D,events:F,zIndex:j=0}=C,{renderer:K,time:ne}=m.chart,ue={},ie=ne.parse(C.to),me=ne.parse(C.from),Ee=ne.parse(C.value),Ae=C.borderWidth,Pe=C.label,{label:Fe,svgElem:Ne}=this,lt=[],gt,$t=Pa(me)&&Pa(ie),qt=Pa(Ee),Kt=!Ne,Yt={class:"highcharts-plot-"+($t?"band ":"line ")+(C.className||"")},Xt=$t?"bands":"lines";if(!m.chart.styledMode&&(qt?(Yt.stroke=D||"#999999",Yt["stroke-width"]=wr(C.width,1),C.dashStyle&&(Yt.dashstyle=C.dashStyle)):$t&&(Yt.fill=D||"#e6e9ff",Ae&&(Yt.stroke=C.borderColor,Yt["stroke-width"]=Ae))),ue.zIndex=j,Xt+="-"+j,(gt=m.plotLinesAndBandsGroups[Xt])||(m.plotLinesAndBandsGroups[Xt]=gt=K.g("plot-"+Xt).attr(ue).add()),Ne||(this.svgElem=Ne=K.path().attr(Yt).add(gt)),Pa(Ee))lt=m.getPlotLinePath({value:R?.log2lin(Ee)??Ee,lineWidth:Ne.strokeWidth(),acrossPanes:C.acrossPanes});else{if(!(Pa(me)&&Pa(ie)))return;lt=m.getPlotBandPath(R?.log2lin(me)??me,R?.log2lin(ie)??ie,C)}return!this.eventsAdded&&F&&(Pv(F,(Kn,So)=>{Ne?.on(So,Dn=>{F[So].apply(this,[Dn])})}),this.eventsAdded=!0),(Kt||!Ne.d)&&lt?.length?Ne.attr({d:lt}):Ne&&(lt?(Ne.show(),Ne.animate({d:lt})):Ne.d&&(Ne.hide(),Fe&&(this.label=Fe=Fe.destroy()))),Pe&&(Pa(Pe.text)||Pa(Pe.formatter))&&lt?.length&&m.width>0&&m.height>0&&!lt.isFlat?(Pe=vl({align:T&&$t?"center":void 0,x:T?!$t&&4:10,verticalAlign:!T&&$t?"middle":void 0,y:T?$t?16:10:$t?6:-4,rotation:T&&!$t?90:0,...$t?{inside:!0}:{}},Pe),this.renderLabel(Pe,lt,$t,j)):Fe&&Fe.hide(),this}renderLabel(m,C,T,R){let D=this.axis,F=D.chart.renderer,j=m.inside,K=this.label;K||(this.label=K=F.text(this.getLabelText(m),0,0,m.useHTML).attr({align:m.textAlign||m.align,rotation:m.rotation,class:"highcharts-plot-"+(T?"band":"line")+"-label "+(m.className||""),zIndex:R}),D.chart.styledMode||K.css(vl({color:D.chart.options.title?.style?.color,fontSize:"0.8em",textOverflow:T&&!j?"":"ellipsis"},m.style)),K.add());let ne=C.xBounds||[C[0][1],C[1][1],T?C[2][1]:C[0][1]],ue=C.yBounds||[C[0][2],C[1][2],T?C[2][2]:C[0][2]],ie=ha(ne),me=ha(ue),Ee=Ds(ne)-ie;K.align(m,!1,{x:ie,y:me,width:Ee,height:Ds(ue)-me}),K.alignAttr.y-=F.fontMetrics(K).b,(!K.alignValue||K.alignValue==="left"||Pa(j))&&K.css({width:(m.style?.width||(T&&j?Ee:K.rotation===90?D.height-(K.alignAttr.y-D.top):(m.clip?D.width:D.chart.chartWidth)-(K.alignAttr.x-D.left)))+"px"}),K.show(!0)}getLabelText(m){return Pa(m.formatter)?m.formatter.call(this):m.text}destroy(){lh(this.axis.plotLinesAndBands,this),delete this.axis,aa(this)}}let{animObject:Ni}=Oa,{format:Pu}=Br,{composed:_l,dateFormats:Tl,doc:uf,isSafari:Nv}=ke,{distribute:Up}=of,{addEvent:Im,clamp:ch,css:Sc,discardElement:zp,extend:kE,fireEvent:op,getAlignFactor:ri,isArray:c1,isNumber:Lv,isObject:Bc,isString:ru,merge:Ha,pick:Fd,pushUnique:yl,splat:Rm,syncTimeout:e0}=Zn;class Zy{constructor(m,C,T){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=m,this.init(m,C),this.pointer=T}bodyFormatter(m){return m.map(C=>{let T=C.series.tooltipOptions,R=C.formatPrefix||"point";return(T[R+"Formatter"]||C.tooltipFormatter).call(C,T[R+"Format"]||"")})}cleanSplit(m){this.chart.series.forEach(function(C){let T=C?.tt;T&&(!T.isActive||m?C.tt=T.destroy():T.isActive=!1)})}defaultFormatter(m){let C,T=this.points||Rm(this);return(C=(C=[m.headerFooterFormatter(T[0])]).concat(m.bodyFormatter(T))).push(m.headerFooterFormatter(T[0],!0)),C}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),zp(this.container)),Zn.clearTimeout(this.hideTimer)}getAnchor(m,C){let T,{chart:R,pointer:D}=this,F=R.inverted,j=R.plotTop,K=R.plotLeft;if(m=Rm(m),m[0].series?.yAxis&&!m[0].series.yAxis.options.reversedStacks&&(m=m.slice().reverse()),this.followPointer&&C)C.chartX===void 0&&(C=D.normalize(C)),T=[C.chartX-K,C.chartY-j];else if(m[0].tooltipPos)T=m[0].tooltipPos;else{let ue=0,ie=0;m.forEach(function(me){let Ee=me.pos(!0);Ee&&(ue+=Ee[0],ie+=Ee[1])}),ue/=m.length,ie/=m.length,this.shared&&m.length>1&&C&&(F?ue=C.chartX:ie=C.chartY),T=[ue-K,ie-j]}let ne={point:m[0],ret:T};return op(this,"getAnchor",ne),ne.ret.map(Math.round)}getClassName(m,C,T){let R=this.options,D=m.series,F=D.options;return[R.className,"highcharts-label",T&&"highcharts-tooltip-header",C?"highcharts-tooltip-box":"highcharts-tooltip",!T&&"highcharts-color-"+Fd(m.colorIndex,D.colorIndex),F?.className].filter(ru).join(" ")}getLabel({anchorX:m,anchorY:C}={anchorX:0,anchorY:0}){let T=this,R=this.chart.styledMode,D=this.options,F=this.split&&this.allowShared,j=this.container,K=this.chart.renderer;if(this.label){let ne=!this.label.hasClass("highcharts-label");(!F&&ne||F&&!ne)&&this.destroy()}if(!this.label){if(this.outside){let ne=this.chart,ue=ne.options.chart.style,ie=oh.getRendererType();this.container=j=ke.doc.createElement("div"),j.className="highcharts-tooltip-container "+(ne.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),Sc(j,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(ue?.zIndex||0)+3)}),this.renderer=K=new ie(j,0,0,ue,void 0,void 0,K.styledMode)}if(F?this.label=K.g("tooltip"):(this.label=K.label("",m,C,D.shape||"callout",void 0,void 0,D.useHTML,void 0,"tooltip").attr({padding:D.padding,r:D.borderRadius}),R||this.label.attr({fill:D.backgroundColor,"stroke-width":D.borderWidth||0}).css(D.style).css({pointerEvents:D.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),T.outside){let ne=this.label;[ne.xSetter,ne.ySetter].forEach((ue,ie)=>{ne[ie?"ySetter":"xSetter"]=me=>{ue.call(ne,T.distance),ne[ie?"y":"x"]=me,j&&(j.style[ie?"top":"left"]=`${me}px`)}})}this.label.attr({zIndex:8}).shadow(D.shadow??!D.fixed).add()}return j&&!j.parentElement&&ke.doc.body.appendChild(j),this.label}getPlayingField(){let{body:m,documentElement:C}=uf,{chart:T,distance:R,outside:D}=this;return{width:D?Math.max(m.scrollWidth,C.scrollWidth,m.offsetWidth,C.offsetWidth,C.clientWidth)-2*R-2:T.chartWidth,height:D?Math.max(m.scrollHeight,C.scrollHeight,m.offsetHeight,C.offsetHeight,C.clientHeight):T.chartHeight}}getPosition(m,C,T){let{distance:R,chart:D,outside:F,pointer:j}=this,{inverted:K,plotLeft:ne,plotTop:ue,polar:ie}=D,{plotX:me=0,plotY:Ee=0}=T,Ae={},Pe=K&&T.h||0,{height:Fe,width:Ne}=this.getPlayingField(),lt=j.getChartPosition(),gt=hs=>hs*lt.scaleX,$t=hs=>hs*lt.scaleY,qt=hs=>{let Rs=hs==="x";return[hs,Rs?Ne:Fe,Rs?m:C].concat(F?[Rs?gt(m):$t(C),Rs?lt.left-R+gt(me+ne):lt.top-R+$t(Ee+ue),0,Rs?Ne:Fe]:[Rs?m:C,Rs?me+ne:Ee+ue,Rs?ne:ue,Rs?ne+D.plotWidth:ue+D.plotHeight])},Kt=qt("y"),Yt=qt("x"),Xt,Kn=!!T.negative;!ie&&D.hoverSeries?.yAxis?.reversed&&(Kn=!Kn);let So=!this.followPointer&&Fd(T.ttBelow,!ie&&!K===Kn),Dn=function(hs,Rs,Qs,La,Oi,cu,Mr){let Sr=F?hs==="y"?$t(R):gt(R):R,fi=(Qs-La)/2,bi=La<Oi-R,qr=Oi+R+La<Rs,tl=Oi-Sr-Qs+fi,Ii=Oi+Sr-fi;if(So&&qr)Ae[hs]=Ii;else if(!So&&bi)Ae[hs]=tl;else if(bi)Ae[hs]=Math.min(Mr-La,tl-Pe<0?tl:tl-Pe);else{if(!qr)return Ae[hs]=0,!1;Ae[hs]=Math.max(cu,Ii+Pe+Qs>Rs?Ii:Ii+Pe)}},ts=function(hs,Rs,Qs,La,Oi){if(Oi<R||Oi>Rs-R)return!1;Oi<Qs/2?Ae[hs]=1:Oi>Rs-La/2?Ae[hs]=Rs-La-2:Ae[hs]=Oi-Qs/2},sr=function(hs){[Kt,Yt]=[Yt,Kt],Xt=hs},dr=()=>{Dn.apply(0,Kt)!==!1?ts.apply(0,Yt)!==!1||Xt||(sr(!0),dr()):Xt?Ae.x=Ae.y=0:(sr(!0),dr())};return(K&&!ie||this.len>1)&&sr(),dr(),Ae}getFixedPosition(m,C,T){let R=T.series,{chart:D,options:F,split:j}=this,K=F.position,ne=K.relativeTo,ue=F.shared||R?.yAxis?.isRadial&&(ne==="pane"||!ne)?"plotBox":ne,ie=ue==="chart"?D.renderer:D[ue]||D.getClipBox(R,!0);return{x:ie.x+(ie.width-m)*ri(K.align)+K.x,y:ie.y+(ie.height-C)*ri(K.verticalAlign)+(!j&&K.y||0)}}hide(m){let C=this;Zn.clearTimeout(this.hideTimer),m=Fd(m,this.options.hideDelay),this.isHidden||(this.hideTimer=e0(function(){let T=C.getLabel();C.getLabel().animate({opacity:0},{duration:m&&150,complete:()=>{T.hide(),C.container&&C.container.remove()}}),C.isHidden=!0},m))}init(m,C){this.chart=m,this.options=C,this.crosshairs=[],this.isHidden=!0,this.split=C.split&&!m.inverted&&!m.polar,this.shared=C.shared||this.split,this.outside=Fd(C.outside,!!(m.scrollablePixelsX||m.scrollablePixelsY))}shouldStickOnContact(m){return!!(!this.followPointer&&this.options.stickOnContact&&(!m||this.pointer.inClass(m.target,"highcharts-tooltip")))}move(m,C,T,R){let{followPointer:D,options:F}=this,j=Ni(!D&&!this.isHidden&&!F.fixed&&F.animation),K=D||(this.len||0)>1,ne={x:m,y:C};K?ne.anchorX=ne.anchorY=NaN:(ne.anchorX=T,ne.anchorY=R),j.step=()=>this.drawTracker(),this.getLabel().animate(ne,j)}refresh(m,C){let{chart:T,options:R,pointer:D,shared:F}=this,j=Rm(m),K=j[0],ne=R.format,ue=R.formatter||this.defaultFormatter,ie=T.styledMode,me=this.allowShared;if(!R.enabled||!K.series)return;Zn.clearTimeout(this.hideTimer),this.allowShared=!(!c1(m)&&m.series&&m.series.noSharedTooltip),me=me&&!this.allowShared,this.followPointer=!this.split&&K.series.tooltipOptions.followPointer;let Ee=this.getAnchor(m,C),Ae=Ee[0],Pe=Ee[1];F&&this.allowShared&&(D.applyInactiveState(j),j.forEach(lt=>lt.setState("hover")),K.points=j),this.len=j.length;let Fe=ru(ne)?Pu(ne,K,T):ue.call(K,this);K.points=void 0;let Ne=K.series;if(this.distance=Fd(Ne.tooltipOptions.distance,16),Fe===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(Fe,j);else{let lt=Ae,gt=Pe;if(C&&D.isDirectTouch&&(lt=C.chartX-T.plotLeft,gt=C.chartY-T.plotTop),!(T.polar||Ne.options.clip===!1||j.some($t=>D.isDirectTouch||$t.series.shouldShowTooltip(lt,gt))))return void this.hide();{let $t=this.getLabel(me&&this.tt||{});(!R.style.width||ie)&&$t.css({width:(this.outside?this.getPlayingField():T.spacingBox).width+"px"}),$t.attr({class:this.getClassName(K),text:Fe&&Fe.join?Fe.join(""):Fe}),this.outside&&$t.attr({x:ch($t.x||0,0,this.getPlayingField().width-($t.width||0)-1)}),ie||$t.attr({stroke:R.borderColor||K.color||Ne.color||"#666666"}),this.updatePosition({plotX:Ae,plotY:Pe,negative:K.negative,ttBelow:K.ttBelow,series:Ne,h:Ee[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}op(this,"refresh")}renderSplit(m,C){let T=this,{chart:R,chart:{chartWidth:D,chartHeight:F,plotHeight:j,plotLeft:K,plotTop:ne,scrollablePixelsY:ue=0,scrollablePixelsX:ie,styledMode:me},distance:Ee,options:Ae,options:{fixed:Pe,position:Fe,positioner:Ne},pointer:lt}=T,{scrollLeft:gt=0,scrollTop:$t=0}=R.scrollablePlotArea?.scrollingContainer||{},qt=T.outside&&typeof ie!="number"?uf.documentElement.getBoundingClientRect():{left:gt,right:gt+D},Kt=T.getLabel(),Yt=this.renderer||R.renderer,Xt=!!R.xAxis[0]?.opposite,{left:Kn,top:So}=lt.getChartPosition(),Dn=Ne||Pe,ts=ne+$t,sr=0,dr=j-ue,hs=function(Mr,Sr,fi,bi=[0,0],qr=!0){let tl,Ii;if(fi.isHeader)Ii=Xt?0:dr,tl=ch(bi[0]-Mr/2,qt.left,qt.right-Mr-(T.outside?Kn:0));else if(Pe&&fi){let Hl=T.getFixedPosition(Mr,Sr,fi);tl=Hl.x,Ii=Hl.y-ts}else Ii=bi[1]-ts,tl=ch(tl=qr?bi[0]-Mr-Ee:bi[0]+Ee,qr?tl:qt.left,qt.right);return{x:tl,y:Ii}};ru(m)&&(m=[!1,m]);let Rs=m.slice(0,C.length+1).reduce(function(Mr,Sr,fi){if(Sr!==!1&&Sr!==""){let bi=C[fi-1]||{isHeader:!0,plotX:C[0].plotX,plotY:j,series:{}},qr=bi.isHeader,tl=qr?T:bi.series,Ii=tl.tt=(function(wf,zd,rm){let mp=wf,{isHeader:za,series:Ui}=zd,ja=Ui.tooltipOptions||Ae;if(!mp){let dl={padding:ja.padding,r:ja.borderRadius};me||(dl.fill=ja.backgroundColor,dl["stroke-width"]=ja.borderWidth??(Pe&&!za?0:1)),mp=Yt.label("",0,0,ja[za?"headerShape":"shape"]||(Pe&&!za?"rect":"callout"),void 0,void 0,ja.useHTML).addClass(T.getClassName(zd,!0,za)).attr(dl).add(Kt)}return mp.isActive=!0,mp.attr({text:rm}),me||mp.css(ja.style).attr({stroke:ja.borderColor||zd.color||Ui.color||"#333333"}),mp})(tl.tt,bi,Sr.toString()),Hl=Ii.getBBox(),Uu=Hl.width+Ii.strokeWidth();qr&&(sr=Hl.height,dr+=sr,Xt&&(ts-=sr));let{anchorX:Ud,anchorY:pp}=(function(wf){let zd,rm,{isHeader:mp,plotX:za=0,plotY:Ui=0,series:ja}=wf;if(mp)zd=Math.max(K+za,K),rm=ne+j/2;else{let{xAxis:dl,yAxis:ac}=ja;zd=dl.pos+ch(za,-Ee,dl.len+Ee),ja.shouldShowTooltip(0,ac.pos-ne+Ui,{ignoreX:!0})&&(rm=ac.pos+Ui)}return{anchorX:zd=ch(zd,qt.left-Ee,qt.right+Ee),anchorY:rm}})(bi);if(typeof pp=="number"){let wf=Hl.height+1,zd=(Ne||hs).call(T,Uu,wf,bi,[Ud,pp]);Mr.push({align:Dn?0:void 0,anchorX:Ud,anchorY:pp,boxWidth:Uu,point:bi,rank:Fd(zd.rank,+!!qr),size:wf,target:zd.y,tt:Ii,x:zd.x})}else Ii.isActive=!1}return Mr},[]);!Dn&&Rs.some(Mr=>{let{outside:Sr}=T,fi=(Sr?Kn:0)+Mr.anchorX;return fi<qt.left&&fi+Mr.boxWidth<qt.right||fi<Kn-qt.left+Mr.boxWidth&&qt.right-fi>fi})&&(Rs=Rs.map(Mr=>{let{x:Sr,y:fi}=hs.call(this,Mr.boxWidth,Mr.size,Mr.point,[Mr.anchorX,Mr.anchorY],!1);return kE(Mr,{target:fi,x:Sr})})),T.cleanSplit(),Up(Rs,dr);let Qs={left:Kn,right:Kn};Rs.forEach(function(Mr){let{x:Sr,boxWidth:fi,isHeader:bi}=Mr;!bi&&(T.outside&&Kn+Sr<Qs.left&&(Qs.left=Kn+Sr),!bi&&T.outside&&Qs.left+fi>Qs.right&&(Qs.right=Kn+Sr))}),Rs.forEach(function(Mr){let{x:Sr,anchorX:fi,anchorY:bi,pos:qr,point:{isHeader:tl}}=Mr,Ii={visibility:qr===void 0?"hidden":"inherit",x:Sr,y:(qr||0)+ts+(Pe&&Fe.y||0),anchorX:fi,anchorY:bi};if(T.outside&&Sr<fi){let Hl=Kn-Qs.left;Hl>0&&(tl||(Ii.x=Sr+Hl,Ii.anchorX=fi+Hl),tl&&(Ii.x=(Qs.right-Qs.left)/2,Ii.anchorX=fi+Hl))}Mr.tt.attr(Ii)});let{container:La,outside:Oi,renderer:cu}=T;if(Oi&&La&&cu){let{width:Mr,height:Sr,x:fi,y:bi}=Kt.getBBox();cu.setSize(Mr+fi,Sr+bi,!1),La.style.left=Qs.left+"px",La.style.top=So+"px"}Nv&&Kt.attr({opacity:Kt.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let m=this.chart,C=this.label,T=this.shared?m.hoverPoints:m.hoverPoint;if(!C||!T)return;let R={x:0,y:0,width:0,height:0},D=this.getAnchor(T),F=C.getBBox();D[0]+=m.plotLeft-(C.translateX||0),D[1]+=m.plotTop-(C.translateY||0),R.x=Math.min(0,D[0]),R.y=Math.min(0,D[1]),R.width=D[0]<0?Math.max(Math.abs(D[0]),F.width-D[0]):Math.max(Math.abs(D[0]),F.width),R.height=D[1]<0?Math.max(Math.abs(D[1]),F.height-Math.abs(D[1])):Math.max(Math.abs(D[1]),F.height),this.tracker?this.tracker.attr(R):(this.tracker=C.renderer.rect(R).addClass("highcharts-tracker").add(C),m.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(m){return m.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(m,C){let T=m.series,R=T.tooltipOptions,D=T.xAxis,F=D?.dateTime,j={isFooter:C,point:m},K=R.xDateFormat||"",ne=R[C?"footerFormat":"headerFormat"];return op(this,"headerFormatter",j,function(ue){if(F&&!K&&Lv(m.key)&&(K=F.getXDateFormat(m.key,R.dateTimeLabelFormats)),F&&K){if(Bc(K)){let ie=K;Tl[0]=me=>T.chart.time.dateFormat(ie,me),K="%0"}(m.tooltipDateKeys||["key"]).forEach(ie=>{ne=ne.replace(RegExp("point\\."+ie+"([ \\)}])"),`(point.${ie}:${K})$1`)})}T.chart.styledMode&&(ne=this.styledModeFormat(ne)),ue.text=Pu(ne,m,this.chart)}),j.text||""}update(m){this.destroy(),this.init(this.chart,Ha(!0,this.options,m))}updatePosition(m){let{chart:C,container:T,distance:R,options:D,pointer:F,renderer:j}=this,{height:K=0,width:ne=0}=this.getLabel(),{fixed:ue,positioner:ie}=D,{left:me,top:Ee,scaleX:Ae,scaleY:Pe}=F.getChartPosition(),Fe=(ie||ue&&this.getFixedPosition||this.getPosition).call(this,ne,K,m),Ne=ke.doc,lt=(m.plotX||0)+C.plotLeft,gt=(m.plotY||0)+C.plotTop,$t;if(j&&T){if(ie||ue){let{scrollLeft:qt=0,scrollTop:Kt=0}=C.scrollablePlotArea?.scrollingContainer||{};Fe.x+=qt+me-R,Fe.y+=Kt+Ee-R}$t=(D.borderWidth||0)+2*R+2,j.setSize(ch(ne+$t,0,Ne.documentElement.clientWidth)-1,K+$t,!1),(Ae!==1||Pe!==1)&&(Sc(T,{transform:`scale(${Ae}, ${Pe})`}),lt*=Ae,gt*=Pe),lt+=me-Fe.x,gt+=Ee-Fe.y}this.move(Math.round(Fe.x),Math.round(Fe.y||0),lt,gt)}}(function(Q){Q.compose=function(m){yl(_l,"Core.Tooltip")&&Im(m,"afterInit",function(){let C=this.chart;C.options.tooltip&&(C.tooltip=new Q(C,C.options.tooltip,this))})}})(Zy||(Zy={}));let DE=Zy,{animObject:df}=Oa,{defaultOptions:ME}=kt,{format:u1}=Br,{addEvent:hf,crisp:$S,erase:Bv,extend:km,fireEvent:Rg,getNestedProperty:d1,isArray:US,isFunction:Fh,isNumber:Dm,isObject:ff,merge:ii,pick:bl,syncTimeout:sp,removeEvent:t0,uniqueKey:Mm}=Zn;class kg{animateBeforeDestroy(){let m=this,C={x:m.startXPos,opacity:0},T=m.getGraphicalProps();T.singular.forEach(function(R){m[R]=m[R].animate(R==="dataLabel"?{x:m[R].startXPos,y:m[R].startYPos,opacity:0}:C)}),T.plural.forEach(function(R){m[R].forEach(function(D){D.element&&D.animate(km({x:m.startXPos},D.startYPos?{x:D.startXPos,y:D.startYPos}:{}))})})}applyOptions(m,C){let T=this.series,R=T.options.pointValKey||T.pointValKey;return km(this,m=kg.prototype.optionsToObject.call(this,m)),this.options=this.options?km(this.options,m):m,m.group&&delete this.group,m.dataLabels&&delete this.dataLabels,R&&(this.y=kg.prototype.getNestedProperty.call(this,R)),this.selected&&(this.state="select"),"name"in this&&C===void 0&&T.xAxis&&T.xAxis.hasNames&&(this.x=T.xAxis.nameToX(this)),this.x===void 0&&T?this.x=C??T.autoIncrement():Dm(m.x)&&T.options.relativeXValue?this.x=T.autoIncrement(m.x):typeof this.x=="string"&&(C??(C=T.chart.time.parse(this.x)),Dm(C)&&(this.x=C)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let m=this,C=m.series,T=C.chart,R=C.options.dataSorting,D=T.hoverPoints,F=df(m.series.chart.renderer.globalAnimation),j=()=>{for(let K in(m.graphic||m.graphics||m.dataLabel||m.dataLabels)&&(t0(m),m.destroyElements()),m)delete m[K]};m.legendItem&&T.legend.destroyItem(m),D&&(m.setState(),Bv(D,m),D.length||(T.hoverPoints=null)),m===T.hoverPoint&&m.onMouseOut(),R?.enabled?(this.animateBeforeDestroy(),sp(j,F.duration)):j(),T.pointCount--}this.destroyed=!0}destroyElements(m){let C=this,T=C.getGraphicalProps(m);T.singular.forEach(function(R){C[R]=C[R].destroy()}),T.plural.forEach(function(R){C[R].forEach(function(D){D?.element&&D.destroy()}),delete C[R]})}firePointEvent(m,C,T){let R=this,D=this.series.options;R.manageEvent(m),m==="click"&&D.allowPointSelect&&(T=function(F){!R.destroyed&&R.select&&R.select(null,F.ctrlKey||F.metaKey||F.shiftKey)}),Rg(R,m,C,T)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone?.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(m){let C,T,R=this,D=[],F={singular:[],plural:[]};for((m=m||{graphic:1,dataLabel:1}).graphic&&D.push("graphic","connector"),m.dataLabel&&D.push("dataLabel","dataLabelPath","dataLabelUpper"),T=D.length;T--;)R[C=D[T]]&&F.singular.push(C);return["graphic","dataLabel"].forEach(function(j){let K=j+"s";m[j]&&R[K]&&F.plural.push(K)}),F}getNestedProperty(m){if(m)return m.indexOf("custom.")===0?d1(m,this.options):this[m]}getZone(){let m=this.series,C=m.zones,T=m.zoneAxis||"y",R,D=0;for(R=C[0];this[T]>=R.value;)R=C[++D];return this.nonZonedColor||(this.nonZonedColor=this.color),R?.color&&!this.options.color?this.color=R.color:this.color=this.nonZonedColor,R}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(m,C,T){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=m,this.applyOptions(C,T),this.id??(this.id=Mm()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=m.options.nullInteraction),m.chart.pointCount++,Rg(this,"afterInit")}isValid(){return(Dm(this.x)||this.x instanceof Date)&&Dm(this.y)}optionsToObject(m){let C=this.series,T=C.options.keys,R=T||C.pointArrayMap||["y"],D=R.length,F={},j,K=0,ne=0;if(Dm(m)||m===null)F[R[0]]=m;else if(US(m))for(!T&&m.length>D&&((j=typeof m[0])=="string"?C.xAxis?.dateTime?F.x=C.chart.time.parse(m[0]):F.name=m[0]:j==="number"&&(F.x=m[0]),K++);ne<D;)T&&m[K]===void 0||(R[ne].indexOf(".")>0?kg.prototype.setNestedProperty(F,m[K],R[ne]):F[R[ne]]=m[K]),K++,ne++;else typeof m=="object"&&(F=m,m.dataLabels&&(C.hasDataLabels=()=>!0),m.marker&&(C._hasPointMarkers=!0));return F}pos(m,C=this.plotY){if(!this.destroyed){let{plotX:T,series:R}=this,{chart:D,xAxis:F,yAxis:j}=R,K=0,ne=0;if(Dm(T)&&Dm(C))return m&&(K=F?F.pos:D.plotLeft,ne=j?j.pos:D.plotTop),D.inverted&&F&&j?[j.len-C+ne,F.len-T+K]:[T+K,C+ne]}}resolveColor(){let m=this.series,C=m.chart.options.chart,T=m.chart.styledMode,R,D,F=C.colorCount,j;delete this.nonZonedColor,m.options.colorByPoint?(T||(R=(D=m.options.colors||m.chart.options.colors)[m.colorCounter],F=D.length),j=m.colorCounter,m.colorCounter++,m.colorCounter===F&&(m.colorCounter=0)):(T||(R=m.color),j=m.colorIndex),this.colorIndex=bl(this.options.colorIndex,j),this.color=bl(this.options.color,R)}setNestedProperty(m,C,T){return T.split(".").reduce(function(R,D,F,j){let K=j.length-1===F;return R[D]=K?C:ff(R[D],!0)?R[D]:{},R[D]},m),m}shouldDraw(){return!this.isNull}tooltipFormatter(m){let{chart:C,pointArrayMap:T=["y"],tooltipOptions:R}=this.series,{valueDecimals:D="",valuePrefix:F="",valueSuffix:j=""}=R;return C.styledMode&&(m=C.tooltip?.styledModeFormat(m)||m),T.forEach(K=>{K="{point."+K,(F||j)&&(m=m.replace(RegExp(K+"}","g"),F+K+"}"+j)),m=m.replace(RegExp(K+"}","g"),K+":,."+D+"f}")}),u1(m,this,C)}update(m,C,T,R){let D,F=this,j=F.series,K=F.graphic,ne=j.chart,ue=j.options;function ie(){F.applyOptions(m);let me=K&&F.hasMockGraphic,Ee=F.y===null?!me:me;K&&Ee&&(F.graphic=K.destroy(),delete F.hasMockGraphic),ff(m,!0)&&(K?.element&&m&&m.marker&&m.marker.symbol!==void 0&&(F.graphic=K.destroy()),m?.dataLabels&&F.dataLabel&&(F.dataLabel=F.dataLabel.destroy())),D=F.index;let Ae={};for(let Pe of j.dataColumnKeys())Ae[Pe]=F[Pe];j.dataTable.setRow(Ae,D),ue.data[D]=ff(ue.data[D],!0)||ff(m,!0)?F.options:bl(m,ue.data[D]),j.isDirty=j.isDirtyData=!0,!j.fixedBox&&j.hasCartesianSeries&&(ne.isDirtyBox=!0),ue.legendType==="point"&&(ne.isDirtyLegend=!0),C&&ne.redraw(T)}C=bl(C,!0),R===!1?ie():F.firePointEvent("update",{options:m},ie)}remove(m,C){this.series.removePoint(this.series.data.indexOf(this),m,C)}select(m,C){let T=this,R=T.series,D=R.chart;m=bl(m,!T.selected),this.selectedStaging=m,T.firePointEvent(m?"select":"unselect",{accumulate:C},function(){T.selected=T.options.selected=m,R.options.data[R.data.indexOf(T)]=T.options,T.setState(m&&"select"),C||D.getSelectedPoints().forEach(function(F){let j=F.series;F.selected&&F!==T&&(F.selected=F.options.selected=!1,j.options.data[j.data.indexOf(F)]=F.options,F.setState(D.hoverPoints&&j.options.inactiveOtherPoints?"inactive":""),F.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(m){let{inverted:C,pointer:T}=this.series.chart;T&&(m=m?T.normalize(m):T.getChartCoordinatesFromPoint(this,C),T.runPointActions(m,this))}onMouseOut(){let m=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(m.hoverPoints||[]).forEach(function(C){C.setState()}),m.hoverPoints=m.hoverPoint=null}manageEvent(m){let C=ii(this.series.options.point,this.options),T=C.events?.[m];Fh(T)&&(!this.hcEvents?.[m]||this.hcEvents?.[m]?.map(R=>R.fn).indexOf(T)===-1)?(this.importedUserEvent?.(),this.importedUserEvent=hf(this,m,T),this.hcEvents&&(this.hcEvents[m].userEvent=!0)):this.importedUserEvent&&!T&&this.hcEvents?.[m]&&this.hcEvents?.[m].userEvent&&(t0(this,m),delete this.hcEvents[m],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(m,C){let T=this.series,R=this.state,D=T.options.states[m||"normal"]||{},F=ME.plotOptions[T.type].marker&&T.options.marker,j=F&&F.enabled===!1,K=F?.states?.[m||"normal"]||{},ne=K.enabled===!1,ue=this.marker||{},ie=T.chart,me=F&&T.markerAttribs,Ee=T.halo,Ae,Pe,Fe,Ne=T.stateMarkerGraphic,lt;if((m=m||"")===this.state&&!C||this.selected&&m!=="select"||D.enabled===!1||m&&(ne||j&&K.enabled===!1)||m&&ue.states&&ue.states[m]&&ue.states[m].enabled===!1)return;if(this.state=m,me&&(Ae=T.markerAttribs(this,m)),this.graphic&&!this.hasMockGraphic){if(R&&this.graphic.removeClass("highcharts-point-"+R),m&&this.graphic.addClass("highcharts-point-"+m),!ie.styledMode){Pe=T.pointAttribs(this,m),Fe=bl(ie.options.chart.animation,D.animation);let Kt=Pe.opacity;T.options.inactiveOtherPoints&&Dm(Kt)&&(this.dataLabels||[]).forEach(function(Yt){Yt&&!Yt.hasClass("highcharts-data-label-hidden")&&(Yt.animate({opacity:Kt},Fe),Yt.connector&&Yt.connector.animate({opacity:Kt},Fe))}),this.graphic.animate(Pe,Fe)}Ae&&this.graphic.animate(Ae,bl(ie.options.chart.animation,K.animation,F.animation)),Ne&&Ne.hide()}else m&&K&&(lt=ue.symbol||T.symbol,Ne&&Ne.currentSymbol!==lt&&(Ne=Ne.destroy()),Ae&&(Ne?Ne[C?"animate":"attr"]({x:Ae.x,y:Ae.y}):lt&&(T.stateMarkerGraphic=Ne=ie.renderer.symbol(lt,Ae.x,Ae.y,Ae.width,Ae.height,ii(F,K)).add(T.markerGroup),Ne.currentSymbol=lt)),!ie.styledMode&&Ne&&this.state!=="inactive"&&Ne.attr(T.pointAttribs(this,m))),Ne&&(Ne[m&&this.isInside?"show":"hide"](),Ne.element.point=this,Ne.addClass(this.getClassName(),!0));let gt=D.halo,$t=this.graphic||Ne,qt=$t?.visibility||"inherit";gt?.size&&$t&&qt!=="hidden"&&!this.isCluster?(Ee||(T.halo=Ee=ie.renderer.path().add($t.parentGroup)),Ee.show()[C?"animate":"attr"]({d:this.haloPath(gt.size)}),Ee.attr({class:"highcharts-halo highcharts-color-"+bl(this.colorIndex,T.colorIndex)+(this.className?" "+this.className:""),visibility:qt,zIndex:-1}),Ee.point=this,ie.styledMode||Ee.attr(km({fill:this.color||T.color,"fill-opacity":gt.opacity},Ar.filterUserAttributes(gt.attributes||{})))):Ee?.point?.haloPath&&!Ee.point.destroyed&&Ee.animate({d:Ee.point.haloPath(0)},null,Ee.hide),Rg(this,"afterSetState",{state:m})}haloPath(m){let C=this.pos();return C?this.series.chart.renderer.symbols.circle($S(C[0],1)-m,C[1]-m,2*m,2*m):[]}}let jp=kg,{parse:rp}=Cs,{charts:Vh,composed:Ti,isTouchDevice:zS}=ke,{addEvent:ui,attr:Fv,css:Xa,extend:Hh,find:Ic,fireEvent:Nu,isNumber:Dg,isObject:Vv,objectEach:h1,offset:PE,pick:Al,pushUnique:pf,splat:cl}=Zn;class Ai{applyInactiveState(m=[]){let C=[];for(let T of(m.forEach(R=>{let D=R.series;C.push(D),D.linkedParent&&C.push(D.linkedParent),D.linkedSeries&&C.push.apply(C,D.linkedSeries),D.navigatorSeries&&C.push(D.navigatorSeries),D.boosted&&D.markerGroup&&C.push.apply(C,this.chart.series.filter(F=>F.markerGroup===D.markerGroup))}),this.chart.series)){let R=T.options;R.states?.inactive?.enabled!==!1&&(C.indexOf(T)===-1?T.setState("inactive",!0):R.inactiveOtherPoints&&T.setAllPointsToState("inactive"))}}destroy(){let m=this;this.eventsToUnbind.forEach(C=>C()),this.eventsToUnbind=[],!ke.chartCount&&(Ai.unbindDocumentMouseUp.forEach(C=>C.unbind()),Ai.unbindDocumentMouseUp.length=0,Ai.unbindDocumentTouchEnd&&(Ai.unbindDocumentTouchEnd=Ai.unbindDocumentTouchEnd())),clearInterval(m.tooltipTimeout),h1(m,function(C,T){m[T]=void 0})}getSelectionMarkerAttrs(m,C){let T={args:{chartX:m,chartY:C},attrs:{},shapeType:"rect"};return Nu(this,"getSelectionMarkerAttrs",T,R=>{let D,{chart:F,zoomHor:j,zoomVert:K}=this,{mouseDownX:ne=0,mouseDownY:ue=0}=F,ie=R.attrs;ie.x=F.plotLeft,ie.y=F.plotTop,ie.width=j?1:F.plotWidth,ie.height=K?1:F.plotHeight,j&&(ie.width=Math.max(1,Math.abs(D=m-ne)),ie.x=(D>0?0:D)+ne),K&&(ie.height=Math.max(1,Math.abs(D=C-ue)),ie.y=(D>0?0:D)+ue)}),T}drag(m){let{chart:C}=this,{mouseDownX:T=0,mouseDownY:R=0}=C,{panning:D,panKey:F,selectionMarkerFill:j}=C.options.chart,K=C.plotLeft,ne=C.plotTop,ue=C.plotWidth,ie=C.plotHeight,me=Vv(D)?D.enabled:D,Ee=F&&m[`${F}Key`],Ae=m.chartX,Pe=m.chartY,Fe,Ne=this.selectionMarker;if((!Ne||!Ne.touch)&&(Ae<K?Ae=K:Ae>K+ue&&(Ae=K+ue),Pe<ne?Pe=ne:Pe>ne+ie&&(Pe=ne+ie),this.hasDragged=Math.sqrt(Math.pow(T-Ae,2)+Math.pow(R-Pe,2)),this.hasDragged>10)){Fe=C.isInsidePlot(T-K,R-ne,{visiblePlotOnly:!0});let{shapeType:lt,attrs:gt}=this.getSelectionMarkerAttrs(Ae,Pe);this.hasZoom&&Fe&&!Ee&&!Ne&&(this.selectionMarker=Ne=C.renderer[lt](),Ne.attr({class:"highcharts-selection-marker",zIndex:7}).add(),C.styledMode||Ne.attr({fill:j||rp("#334eff").setOpacity(.25).get()})),Ne&&Ne.attr(gt),Fe&&!Ne&&me&&C.pan(m,D)}}dragStart(m){let C=this.chart;C.mouseIsDown=m.type,C.cancelClick=!1,C.mouseDownX=m.chartX,C.mouseDownY=m.chartY}getSelectionBox(m){let C={args:{marker:m},result:m.getBBox()};return Nu(this,"getSelectionBox",C),C.result}drop(m){let C,{chart:T,selectionMarker:R}=this;for(let D of T.axes)D.isPanning&&(D.isPanning=!1,(D.options.startOnTick||D.options.endOnTick||D.series.some(F=>F.boosted))&&(D.forceRedraw=!0,D.setExtremes(D.userMin,D.userMax,!1),C=!0));if(C&&T.redraw(),R&&m){if(this.hasDragged){let D=this.getSelectionBox(R);T.transform({axes:T.axes.filter(F=>F.zoomEnabled&&(F.coll==="xAxis"&&this.zoomX||F.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:m,xAxis:[],yAxis:[],...D},from:D})}Dg(T.index)&&(this.selectionMarker=R.destroy())}T&&Dg(T.index)&&(Xa(T.container,{cursor:T._cursor}),T.cancelClick=this.hasDragged>10,T.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(m,C,T){let R;return m.forEach(function(D){let F=!(D.noSharedTooltip&&C)&&0>D.options.findNearestPointBy.indexOf("y"),j=D.searchPoint(T,F);Vv(j,!0)&&j.series&&(!Vv(R,!0)||(function(K,ne){let ue=K.distX-ne.distX,ie=K.dist-ne.dist,me=ne.series.group?.zIndex-K.series.group?.zIndex;return ue!==0&&C?ue:ie!==0?ie:me!==0?me:K.series.index>ne.series.index?-1:1})(R,j)>0)&&(R=j)}),R}getChartCoordinatesFromPoint(m,C){let{xAxis:T,yAxis:R}=m.series,D=m.shapeArgs;if(T&&R){let F=m.clientX??m.plotX??0,j=m.plotY||0;return m.isNode&&D&&Dg(D.x)&&Dg(D.y)&&(F=D.x,j=D.y),C?{chartX:R.len+R.pos-j,chartY:T.len+T.pos-F}:{chartX:F+T.pos,chartY:j+R.pos}}if(D?.x&&D.y)return{chartX:D.x,chartY:D.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:m}=this.chart,C=PE(m);this.chartPosition={left:C.left,top:C.top,scaleX:1,scaleY:1};let{offsetHeight:T,offsetWidth:R}=m;return R>2&&T>2&&(this.chartPosition.scaleX=C.width/R,this.chartPosition.scaleY=C.height/T),this.chartPosition}getCoordinates(m){let C={xAxis:[],yAxis:[]};for(let T of this.chart.axes)C[T.isXAxis?"xAxis":"yAxis"].push({axis:T,value:T.toValue(m[T.horiz?"chartX":"chartY"])});return C}getHoverData(m,C,T,R,D,F){let j=[],K=function(Ee){return Ee.visible&&!(!D&&Ee.directTouch)&&Al(Ee.options.enableMouseTracking,!0)},ne=C,ue,ie={chartX:F?F.chartX:void 0,chartY:F?F.chartY:void 0,shared:D};Nu(this,"beforeGetHoverData",ie),ue=ne&&!ne.stickyTracking?[ne]:T.filter(Ee=>Ee.stickyTracking&&(ie.filter||K)(Ee));let me=R&&m||!F?m:this.findNearestKDPoint(ue,D,F);return ne=me?.series,me&&(D&&!ne.noSharedTooltip?(ue=T.filter(function(Ee){return ie.filter?ie.filter(Ee):K(Ee)&&!Ee.noSharedTooltip})).forEach(function(Ee){let Ae=Ee.options?.nullInteraction,Pe=Ic(Ee.points,function(Fe){return Fe.x===me.x&&(!Fe.isNull||!!Ae)});Vv(Pe)&&(Ee.boosted&&Ee.boost&&(Pe=Ee.boost.getPoint(Pe)),j.push(Pe))}):j.push(me)),Nu(this,"afterGetHoverData",ie={hoverPoint:me}),{hoverPoint:ie.hoverPoint,hoverSeries:ne,hoverPoints:j}}getPointFromEvent(m){let C=m.target,T;for(;C&&!T;)T=C.point,C=C.parentNode;return T}onTrackerMouseOut(m){let C=this.chart,T=m.relatedTarget,R=C.hoverSeries;this.isDirectTouch=!1,!R||!T||R.stickyTracking||this.inClass(T,"highcharts-tooltip")||this.inClass(T,"highcharts-series-"+R.index)&&this.inClass(T,"highcharts-tracker")||R.onMouseOut()}inClass(m,C){let T=m,R;for(;T;){if(R=Fv(T,"class")){if(R.indexOf(C)!==-1)return!0;if(R.indexOf("highcharts-container")!==-1)return!1}T=T.parentElement}}constructor(m,C){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=C,this.chart=m,this.runChartClick=!!C.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),Nu(this,"afterInit")}normalize(m,C){let T=m.touches,R=T?T.length?T.item(0):Al(T.changedTouches,m.changedTouches)[0]:m;C||(C=this.getChartPosition());let D=R.pageX-C.left,F=R.pageY-C.top;return Hh(m,{chartX:Math.round(D/=C.scaleX),chartY:Math.round(F/=C.scaleY)})}onContainerClick(m){let C=this.chart,T=C.hoverPoint,R=this.normalize(m),D=C.plotLeft,F=C.plotTop;!C.cancelClick&&(T&&this.inClass(R.target,"highcharts-tracker")?(Nu(T.series,"click",Hh(R,{point:T})),C.hoverPoint&&T.firePointEvent("click",R)):(Hh(R,this.getCoordinates(R)),C.isInsidePlot(R.chartX-D,R.chartY-F,{visiblePlotOnly:!0})&&Nu(C,"click",R)))}onContainerMouseDown(m){let C=(1&(m.buttons||m.button))==1;m=this.normalize(m),ke.isFirefox&&m.button!==0&&this.onContainerMouseMove(m),(m.button===void 0||C)&&(this.zoomOption(m),C&&m.preventDefault?.(),this.dragStart(m))}onContainerMouseLeave(m){let{pointer:C}=Vh[Al(Ai.hoverChartIndex,-1)]||{};m=this.normalize(m),this.onContainerMouseMove(m),C&&!this.inClass(m.relatedTarget,"highcharts-tooltip")&&(C.reset(),C.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(m){let C=this.chart,T=C.tooltip,R=this.normalize(m);this.setHoverChartIndex(m),(C.mouseIsDown==="mousedown"||this.touchSelect(R))&&this.drag(R),!C.exporting?.openMenu&&(this.inClass(R.target,"highcharts-tracker")||C.isInsidePlot(R.chartX-C.plotLeft,R.chartY-C.plotTop,{visiblePlotOnly:!0}))&&!T?.shouldStickOnContact(R)&&(this.inClass(R.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(R))}onDocumentTouchEnd(m){this.onDocumentMouseUp(m)}onContainerTouchMove(m){this.touchSelect(m)?this.onContainerMouseMove(m):this.touch(m)}onContainerTouchStart(m){this.touchSelect(m)?this.onContainerMouseDown(m):(this.zoomOption(m),this.touch(m,!0))}onDocumentMouseMove(m){let C=this.chart,T=C.tooltip,R=this.chartPosition,D=this.normalize(m,R);!R||C.isInsidePlot(D.chartX-C.plotLeft,D.chartY-C.plotTop,{visiblePlotOnly:!0})||T?.shouldStickOnContact(D)||D.target!==C.container.ownerDocument&&this.inClass(D.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(m){m?.touches&&this.hasPinchMoved&&m?.preventDefault?.(),Vh[Al(Ai.hoverChartIndex,-1)]?.pointer?.drop(m)}pinch(m){let C=this,{chart:T,hasZoom:R,lastTouches:D}=C,F=[].map.call(m.touches||[],ie=>C.normalize(ie)),j=F.length,K=j===1&&(C.inClass(m.target,"highcharts-tracker")&&T.runTrackerClick||C.runChartClick),ne=T.tooltip,ue=j===1&&Al(ne?.options.followTouchMove,!0);j>1?C.initiated=!0:ue&&(C.initiated=!1),R&&C.initiated&&!K&&m.cancelable!==!1&&m.preventDefault(),m.type==="touchstart"?(C.pinchDown=F,C.res=!0,T.mouseDownX=m.chartX):ue?this.runPointActions(C.normalize(m)):D&&(Nu(T,"touchpan",{originalEvent:m,touches:F},()=>{let ie=me=>{let Ee=me[0],Ae=me[1]||Ee;return{x:Ee.chartX,y:Ee.chartY,width:Ae.chartX-Ee.chartX,height:Ae.chartY-Ee.chartY}};T.transform({axes:T.axes.filter(me=>me.zoomEnabled&&(this.zoomHor&&me.horiz||this.zoomVert&&!me.horiz)),to:ie(F),from:ie(D),trigger:m.type})}),C.res&&(C.res=!1,this.reset(!1,0))),C.lastTouches=F}reset(m,C){let T=this.chart,R=T.hoverSeries,D=T.hoverPoint,F=T.hoverPoints,j=T.tooltip,K=j?.shared?F:D;m&&K&&cl(K).forEach(function(ne){ne.series.isCartesian&&ne.plotX===void 0&&(m=!1)}),m?j&&K&&cl(K).length&&(j.refresh(K),j.shared&&F?F.forEach(function(ne){ne.setState(ne.state,!0),ne.series.isCartesian&&(ne.series.xAxis.crosshair&&ne.series.xAxis.drawCrosshair(null,ne),ne.series.yAxis.crosshair&&ne.series.yAxis.drawCrosshair(null,ne))}):D&&(D.setState(D.state,!0),T.axes.forEach(function(ne){ne.crosshair&&D.series[ne.coll]===ne&&ne.drawCrosshair(null,D)}))):(D&&D.onMouseOut(),F&&F.forEach(function(ne){ne.setState()}),R&&R.onMouseOut(),j&&j.hide(C),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),T.axes.forEach(function(ne){ne.hideCrosshair()}),T.hoverPoints=T.hoverPoint=void 0)}runPointActions(m,C,T){let R=this.chart,D=R.series,F=R.tooltip?.options.enabled?R.tooltip:void 0,j=!!F&&F.shared,K=C||R.hoverPoint,ne=K?.series||R.hoverSeries,ue=(!m||m.type!=="touchmove")&&(!!C||ne?.directTouch&&this.isDirectTouch),ie=this.getHoverData(K,ne,D,ue,j,m);K=ie.hoverPoint,ne=ie.hoverSeries;let me=ie.hoverPoints,Ee=ne?.tooltipOptions.followPointer&&!ne.tooltipOptions.split,Ae=j&&ne&&!ne.noSharedTooltip;if(K&&(T||K!==R.hoverPoint||F?.isHidden)){if((R.hoverPoints||[]).forEach(function(Pe){me.indexOf(Pe)===-1&&Pe.setState()}),R.hoverSeries!==ne&&ne.onMouseOver(),this.applyInactiveState(me),(me||[]).forEach(function(Pe){Pe.setState("hover")}),R.hoverPoint&&R.hoverPoint.firePointEvent("mouseOut"),!K.series)return;R.hoverPoints=me,R.hoverPoint=K,K.firePointEvent("mouseOver",void 0,()=>{F&&K&&F.refresh(Ae?me:K,m)})}else if(Ee&&F&&!F.isHidden){let Pe=F.getAnchor([{}],m);R.isInsidePlot(Pe[0],Pe[1],{visiblePlotOnly:!0})&&F.updatePosition({plotX:Pe[0],plotY:Pe[1]})}this.unDocMouseMove||(this.unDocMouseMove=ui(R.container.ownerDocument,"mousemove",Pe=>Vh[Ai.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(Pe)),this.eventsToUnbind.push(this.unDocMouseMove)),R.axes.forEach(function(Pe){let Fe,Ne=Pe.crosshair?.snap??!0;Ne&&((Fe=R.hoverPoint)&&Fe.series[Pe.coll]===Pe||(Fe=Ic(me,lt=>lt.series?.[Pe.coll]===Pe))),Fe||!Ne?Pe.drawCrosshair(m,Fe):Pe.hideCrosshair()})}setDOMEvents(){let m=this.chart.container,C=m.ownerDocument;m.onmousedown=this.onContainerMouseDown.bind(this),m.onmousemove=this.onContainerMouseMove.bind(this),m.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(ui(m,"mouseenter",this.onContainerMouseEnter.bind(this)),ui(m,"mouseleave",this.onContainerMouseLeave.bind(this))),Ai.unbindDocumentMouseUp.some(R=>R.doc===C)||Ai.unbindDocumentMouseUp.push({doc:C,unbind:ui(C,"mouseup",this.onDocumentMouseUp.bind(this))});let T=this.chart.renderTo.parentElement;for(;T&&T.tagName!=="BODY";)this.eventsToUnbind.push(ui(T,"scroll",()=>{delete this.chartPosition})),T=T.parentElement;this.eventsToUnbind.push(ui(m,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),ui(m,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Ai.unbindDocumentTouchEnd||(Ai.unbindDocumentTouchEnd=ui(C,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),ui(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!zS)return;let m=this.pointerCaptureEventsToUnbind,C=this.chart,T=C.container,R=Al(C.options.tooltip?.followTouchMove,!0)&&C.series.some(D=>D.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&R?(m.push(ui(T,"pointerdown",D=>{D.target?.hasPointerCapture(D.pointerId)&&D.target?.releasePointerCapture(D.pointerId)}),ui(T,"pointermove",D=>{C.pointer?.getPointFromEvent(D)?.onMouseOver(D)})),C.styledMode||Xa(T,{"touch-action":"none"}),T.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!R&&(m.forEach(D=>D()),m.length=0,C.styledMode||Xa(T,{"touch-action":Al(C.options.chart.style?.["touch-action"],"manipulation")}),T.className=T.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(m){let C=this.chart,T=ke.charts[Al(Ai.hoverChartIndex,-1)];if(T&&T!==C){let R={relatedTarget:C.container};m&&!m?.relatedTarget&&Object.assign({},m,R),T.pointer?.onContainerMouseLeave(m||R)}T?.mouseIsDown||(Ai.hoverChartIndex=C.index)}touch(m,C){let T,{chart:R,pinchDown:D=[]}=this;this.setHoverChartIndex(),(m=this.normalize(m)).touches.length===1?R.isInsidePlot(m.chartX-R.plotLeft,m.chartY-R.plotTop,{visiblePlotOnly:!0})&&!R.exporting?.openMenu?(C&&this.runPointActions(m),m.type==="touchmove"&&(this.hasPinchMoved=T=!!D[0]&&Math.pow(D[0].chartX-m.chartX,2)+Math.pow(D[0].chartY-m.chartY,2)>=16),Al(T,!0)&&this.pinch(m)):C&&this.reset():m.touches.length===2&&this.pinch(m)}touchSelect(m){return!!(this.chart.zooming.singleTouch&&m.touches&&m.touches.length===1)}zoomOption(m){let C=this.chart,T=C.inverted,R=C.zooming.type||"",D,F;/touch/.test(m.type)&&(R=Al(C.zooming.pinchType,R)),this.zoomX=D=/x/.test(R),this.zoomY=F=/y/.test(R),this.zoomHor=D&&!T||F&&T,this.zoomVert=F&&!T||D&&T,this.hasZoom=D||F}}Ai.unbindDocumentMouseUp=[],(function(Q){Q.compose=function(m){pf(Ti,"Core.Pointer")&&ui(m,"beforeRender",function(){this.pointer=new Q(this,this.options)})}})(Ai||(Ai={}));let Yy=Ai;(function(Q){Q.setLength=function(m,C,T){return Array.isArray(m)?(m.length=C,m):m[T?"subarray":"slice"](0,C)},Q.splice=function(m,C,T,R,D=[]){if(Array.isArray(m))return Array.isArray(D)||(D=Array.from(D)),{removed:m.splice(C,T,...D),array:m};let F=Object.getPrototypeOf(m).constructor,j=m[R?"subarray":"slice"](C,C+T),K=new F(m.length-T+D.length);return K.set(m.subarray(0,C),0),K.set(D,C),K.set(m.subarray(C+T),C+D.length),{removed:j,array:K}}})(B||(B={}));let{setLength:Xy,splice:Jy}=B,{fireEvent:n0,objectEach:Lu,uniqueKey:o0}=Zn,J=class{constructor(Q={}){this.autoId=!Q.id,this.columns={},this.id=Q.id||o0(),this.modified=this,this.rowCount=0,this.versionTag=o0();let m=0;Lu(Q.columns||{},(C,T)=>{this.columns[T]=C.slice(),m=Math.max(m,C.length)}),this.applyRowCount(m)}applyRowCount(Q){this.rowCount=Q,Lu(this.columns,(m,C)=>{m.length!==Q&&(this.columns[C]=Xy(m,Q))})}deleteRows(Q,m=1){if(m>0&&Q<this.rowCount){let C=0;Lu(this.columns,(T,R)=>{this.columns[R]=Jy(T,Q,m).array,C=T.length}),this.rowCount=C}n0(this,"afterDeleteRows",{rowIndex:Q,rowCount:m}),this.versionTag=o0()}getColumn(Q,m){return this.columns[Q]}getColumns(Q,m){return(Q||Object.keys(this.columns)).reduce((C,T)=>(C[T]=this.columns[T],C),{})}getRow(Q,m){return(m||Object.keys(this.columns)).map(C=>this.columns[C]?.[Q])}setColumn(Q,m=[],C=0,T){this.setColumns({[Q]:m},C,T)}setColumns(Q,m,C){let T=this.rowCount;Lu(Q,(R,D)=>{this.columns[D]=R.slice(),T=R.length}),this.applyRowCount(T),C?.silent||(n0(this,"afterSetColumns"),this.versionTag=o0())}setRow(Q,m=this.rowCount,C,T){let{columns:R}=this,D=C?this.rowCount+1:m+1;Lu(Q,(F,j)=>{let K=R[j]||T?.addColumns!==!1&&Array(D);K&&(C?K=Jy(K,m,0,!0,[F]).array:K[m]=F,R[j]=K)}),D>this.rowCount&&this.applyRowCount(D),T?.silent||(n0(this,"afterSetRows"),this.versionTag=o0())}},{extend:ae,merge:De,pick:Ye}=Zn;(function(Q){function m(C,T,R){let D=this.legendItem=this.legendItem||{},{chart:F,options:j}=this,{baseline:K=0,symbolWidth:ne,symbolHeight:ue}=C,ie=this.symbol||"circle",me=ue/2,Ee=F.renderer,Ae=D.group,Pe=K-Math.round((C.fontMetrics?.b||ue)*(R?.4:.3)),Fe={},Ne,lt=j.marker,gt=0;if(F.styledMode||(Fe["stroke-width"]=Math.min(j.lineWidth||0,24),j.dashStyle?Fe.dashstyle=j.dashStyle:j.linecap!=="square"&&(Fe["stroke-linecap"]="round")),D.line=Ee.path().addClass("highcharts-graph").attr(Fe).add(Ae),R&&(D.area=Ee.path().addClass("highcharts-area").add(Ae)),Fe["stroke-linecap"]&&(gt=Math.min(D.line.strokeWidth(),ne)/2),ne){let $t=[["M",gt,Pe],["L",ne-gt,Pe]];D.line.attr({d:$t}),D.area?.attr({d:[...$t,["L",ne-gt,K],["L",gt,K]]})}if(lt&&lt.enabled!==!1&&ne){let $t=Math.min(Ye(lt.radius,me),me);ie.indexOf("url")===0&&(lt=De(lt,{width:ue,height:ue}),$t=0),D.symbol=Ne=Ee.symbol(ie,ne/2-$t,Pe-$t,2*$t,2*$t,ae({context:"legend"},lt)).addClass("highcharts-point").add(Ae),Ne.isMarker=!0}}Q.areaMarker=function(C,T){m.call(this,C,T,!0)},Q.lineMarker=m,Q.rectangle=function(C,T){let R=T.legendItem||{},D=C.options,F=C.symbolHeight,j=D.squareSymbol,K=j?F:C.symbolWidth;R.symbol=this.chart.renderer.rect(j?(C.symbolWidth-F)/2:0,C.baseline-F+1,K,F,Ye(C.options.symbolRadius,F/2)).addClass("highcharts-point").attr({zIndex:3}).add(R.group)}})(H||(H={}));let At=H,{defaultOptions:Sn}=kt,{extend:bo,extendClass:ss,merge:Ys}=Zn;(function(Q){function m(C,T){let R=Sn.plotOptions||{},D=T.defaultOptions,F=T.prototype;return F.type=C,F.pointClass||(F.pointClass=jp),!Q.seriesTypes[C]&&(D&&(R[C]=D),Q.seriesTypes[C]=T,!0)}Q.seriesTypes=ke.seriesTypes,Q.registerSeriesType=m,Q.seriesType=function(C,T,R,D,F){let j=Sn.plotOptions||{};if(T=T||"",j[C]=Ys(j[T],R),delete Q.seriesTypes[C],m(C,ss(Q.seriesTypes[T]||ld,D)),Q.seriesTypes[C].prototype.type=C,F){class K extends jp{}bo(K.prototype,F),Q.seriesTypes[C].prototype.pointClass=K}return Q.seriesTypes[C]}})(U||(U={}));let Is=U,{animObject:Hi,setAnimation:pa}=Oa,{defaultOptions:Ja}=kt,{registerEventOptions:Bu}=Cl,{svg:Wp,win:Gp}=ke,{seriesTypes:iu}=Is,{format:f1}=Br,{arrayMax:Pm,arrayMin:Qy,clamp:Nm,correctFloat:Mg,crisp:s0,defined:Bl,destroyObjectProperties:NE,diffObjects:LE,erase:Fr,error:xi,extend:Qa,find:ad,fireEvent:el,getClosestDistance:eb,getNestedProperty:tb,insertItem:nb,isArray:BE,isNumber:Sl,isString:Lm,merge:ob,objectEach:FE,pick:Gr,removeEvent:Fl,syncTimeout:ip}=Zn;class Vd{constructor(){this.zoneAxis="y"}init(m,C){let T;el(this,"init",{options:C}),this.dataTable??(this.dataTable=new J);let R=m.series;this.eventsToUnbind=[],this.chart=m,this.options=this.setOptions(C);let D=this.options,F=D.visible!==!1;this.linkedSeries=[],this.bindAxes(),Qa(this,{name:D.name,state:"",visible:F,selected:D.selected===!0}),Bu(this,D),(D.events?.click||D.point?.events?.click||D.allowPointSelect)&&(m.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(m.hasCartesianSeries=!0),R.length&&(T=R[R.length-1]),this._i=Gr(T?._i,-1)+1,this.opacity=this.options.opacity,m.orderItems("series",nb(this,R)),D.dataSorting?.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(D.data,!1),el(this,"afterInit")}is(m){return iu[m]&&this instanceof iu[m]}bindAxes(){let m,C=this,T=C.options,R=C.chart;el(this,"bindAxes",null,function(){(C.axisTypes||[]).forEach(function(D){(R[D]||[]).forEach(function(F){m=F.options,(Gr(T[D],0)===F.index||T[D]!==void 0&&T[D]===m.id)&&(nb(C,F.series),C[D]=F,F.isDirty=!0)}),C[D]||C.optionalAxis===D||xi(18,!0,R)})}),el(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(m,C){let T=m.marker,R=C.marker||{};return T&&(R.enabled&&!T.enabled||R.symbol!==T.symbol||R.height!==T.height||R.width!==T.width)}autoIncrement(m){let C,T=this.options,{pointIntervalUnit:R,relativeXValue:D}=this.options,F=this.chart.time,j=this.xIncrement??F.parse(T.pointStart)??0;if(this.pointInterval=C=Gr(this.pointInterval,T.pointInterval,1),D&&Sl(m)&&(C*=m),R){let K=F.toParts(j);R==="day"?K[2]+=C:R==="month"?K[1]+=C:R==="year"&&(K[0]+=C),C=F.makeTime.apply(F,K)-j}return D&&Sl(m)?j+C:(this.xIncrement=j+C,j)}setDataSortingOptions(){let m=this.options;Qa(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Bl(m.pointRange)||(m.pointRange=1)}setOptions(m){let C,T=this.chart,R=T.options.plotOptions,D=T.userOptions||{},F=ob(m),j=T.styledMode,K={plotOptions:R,userOptions:F};el(this,"setOptions",K);let ne=K.plotOptions[this.type],ue=D.plotOptions||{},ie=ue.series||{},me=Ja.plotOptions[this.type]||{},Ee=ue[this.type]||{};ne.dataLabels=this.mergeArrays(me.dataLabels,ne.dataLabels),this.userOptions=K.userOptions;let Ae=ob(ne,R.series,Ee,F);this.tooltipOptions=ob(Ja.tooltip,Ja.plotOptions.series?.tooltip,me?.tooltip,T.userOptions.tooltip,ue.series?.tooltip,Ee.tooltip,F.tooltip),this.stickyTracking=Gr(F.stickyTracking,Ee.stickyTracking,ie.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||Ae.stickyTracking),ne.marker===null&&delete Ae.marker,this.zoneAxis=Ae.zoneAxis||"y";let Pe=this.zones=(Ae.zones||[]).map(Fe=>({...Fe}));return(Ae.negativeColor||Ae.negativeFillColor)&&!Ae.zones&&(C={value:Ae[this.zoneAxis+"Threshold"]||Ae.threshold||0,className:"highcharts-negative"},j||(C.color=Ae.negativeColor,C.fillColor=Ae.negativeFillColor),Pe.push(C)),Pe.length&&Bl(Pe[Pe.length-1].value)&&Pe.push(j?{}:{color:this.color,fillColor:this.fillColor}),el(this,"afterSetOptions",{options:Ae}),Ae}getName(){return this.options.name??f1(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(m,C,T){let R,D,F=this.chart,j=`${m}Index`,K=`${m}Counter`,ne=T?.length||F.options.chart.colorCount;!C&&(Bl(D=Gr(m==="color"?this.options.colorIndex:void 0,this[j]))?R=D:(F.series.length||(F[K]=0),R=F[K]%ne,F[K]+=1),T&&(C=T[R])),R!==void 0&&(this[j]=R),this[m]=C}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||Ja.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let m=this.options.marker;this.getCyclic("symbol",m.symbol,this.chart.options.symbols)}getColumn(m,C){return(C?this.dataTable.modified:this.dataTable).getColumn(m,!0)||[]}findPointIndex(m,C){let T,R,D,{id:F,x:j}=m,K=this.points,ne=this.options.dataSorting,ue=this.cropStart||0;if(F){let ie=this.chart.get(F);ie instanceof jp&&(T=ie)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let ie=me=>!me.touched&&me.index===m.index;if(ne?.matchByName?ie=me=>!me.touched&&me.name===m.name:this.options.relativeXValue&&(ie=me=>!me.touched&&me.options.x===m.x),!(T=ad(K,ie)))return}return T&&(D=T?.index)!==void 0&&(R=!0),D===void 0&&Sl(j)&&(D=this.getColumn("x").indexOf(j,C)),D!==-1&&D!==void 0&&this.cropped&&(D=D>=ue?D-ue:D),!R&&Sl(D)&&K[D]?.touched&&(D=void 0),D}updateData(m,C){let{options:T,requireSorting:R}=this,D=T.dataSorting,F=this.points,j=[],K=m.length===F.length,ne,ue,ie,me,Ee=!0;if(this.xIncrement=null,m.forEach((Pe,Fe)=>{let Ne,lt=Bl(Pe)&&this.pointClass.prototype.optionsToObject.call({series:this},Pe)||{},{id:gt,x:$t}=lt;gt||Sl($t)?((Ne=this.findPointIndex(lt,me))===-1||Ne===void 0?j.push(Pe):F[Ne]&&Pe!==T.data?.[Ne]?(F[Ne].update(Pe,!1,void 0,!1),F[Ne].touched=!0,R&&(me=Ne+1)):F[Ne]&&(F[Ne].touched=!0),(!K||Fe!==Ne||D?.enabled||this.hasDerivedData)&&(ne=!0)):j.push(Pe)},this),ne)for(ue=F.length;ue--;)(ie=F[ue])&&!ie.touched&&ie.remove?.(!1,C);else K&&!D?.enabled?(m.forEach((Pe,Fe)=>{Pe===F[Fe].y||F[Fe].destroyed||F[Fe].update(Pe,!1,void 0,!1)}),j.length=0):Ee=!1;if(F.forEach(Pe=>{Pe&&(Pe.touched=!1)}),!Ee)return!1;j.forEach(Pe=>{this.addPoint(Pe,!1,void 0,void 0,!1)},this);let Ae=this.getColumn("x");return this.xIncrement===null&&Ae.length&&(this.xIncrement=Pm(Ae),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(m,C=!0,T,R){let D=this.points,F=D?.length||0,j=this.options,K=this.chart,ne=j.dataSorting,ue=this.xAxis,ie=j.turboThreshold,me=this.dataTable,Ee=this.dataColumnKeys(),Ae=this.pointValKey||"y",Pe=(this.pointArrayMap||[]).length,Fe=j.keys,Ne,lt,gt=0,$t=1,qt;K.options.chart.allowMutatingData||(j.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,qt=ob(!0,m));let Kt=(m=qt||m||[]).length;if(ne?.enabled&&(m=this.sortData(m)),K.options.chart.allowMutatingData&&R!==!1&&Kt&&F&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(lt=this.updateData(m,T)),!lt){this.xIncrement=null,this.colorCounter=0;let Yt=ie&&!j.relativeXValue&&Kt>ie;if(Yt){let Xt=this.getFirstValidPoint(m),Kn=this.getFirstValidPoint(m,Kt-1,-1),So=Dn=>!!(BE(Dn)&&(Fe||Sl(Dn[0])));if(Sl(Xt)&&Sl(Kn)){let Dn=[],ts=[];for(let sr of m)Dn.push(this.autoIncrement()),ts.push(sr);me.setColumns({x:Dn,[Ae]:ts})}else if(So(Xt)&&So(Kn))if(Pe){let Dn=+(Xt.length===Pe),ts=Array(Ee.length).fill(0).map(()=>[]);for(let sr of m){Dn&&ts[0].push(this.autoIncrement());for(let dr=Dn;dr<=Pe;dr++)ts[dr]?.push(sr[dr-Dn])}me.setColumns(Ee.reduce((sr,dr,hs)=>(sr[dr]=ts[hs],sr),{}))}else{Fe&&(gt=Fe.indexOf("x"),$t=Fe.indexOf("y"),gt=gt>=0?gt:0,$t=$t>=0?$t:1),Xt.length===1&&($t=0);let Dn=[],ts=[];if(gt===$t)for(let sr of m)Dn.push(this.autoIncrement()),ts.push(sr[$t]);else for(let sr of m)Dn.push(sr[gt]),ts.push(sr[$t]);me.setColumns({x:Dn,[Ae]:ts})}else Yt=!1}if(!Yt){let Xt=Ee.reduce((Kn,So)=>(Kn[So]=[],Kn),{});for(Ne=0;Ne<Kt;Ne++){let Kn=this.pointClass.prototype.applyOptions.apply({series:this},[m[Ne]]);for(let So of Ee)Xt[So][Ne]=Kn[So]}me.setColumns(Xt)}for(Lm(this.getColumn("y")[0])&&xi(14,!0,K),this.data=[],this.options.data=this.userOptions.data=m,Ne=F;Ne--;)D[Ne]?.destroy();ue&&(ue.minRange=ue.userMinRange),this.isDirty=K.isDirtyBox=!0,this.isDirtyData=!!D,T=!1}j.legendType==="point"&&(this.processData(),this.generatePoints()),C&&K.redraw(T)}sortData(m){let C=this,T=C.options.dataSorting.sortKey||"y",R=function(D,F){return Bl(F)&&D.pointClass.prototype.optionsToObject.call({series:D},F)||{}};return m.forEach(function(D,F){m[F]=R(C,D),m[F].index=F},this),m.concat().sort((D,F)=>{let j=tb(T,D),K=tb(T,F);return K<j?-1:+(K>j)}).forEach(function(D,F){D.x=F},this),C.linkedSeries&&C.linkedSeries.forEach(function(D){let F=D.options,j=F.data;!F.dataSorting?.enabled&&j&&(j.forEach(function(K,ne){j[ne]=R(D,K),m[ne]&&(j[ne].x=m[ne].x,j[ne].index=ne)}),D.setData(j,!1))}),m}getProcessedData(m){let C=this,{dataTable:T,isCartesian:R,options:D,xAxis:F}=C,j=D.cropThreshold,K=m||C.getExtremesFromAll,ne=F?.logarithmic,ue=T.rowCount,ie,me,Ee=0,Ae,Pe,Fe,Ne=C.getColumn("x"),lt=T,gt=!1;return F&&(Pe=(Ae=F.getExtremes()).min,Fe=Ae.max,gt=!!(F.categories&&!F.names.length),R&&C.sorted&&!K&&(!j||ue>j||C.forceCrop)&&(Ne[ue-1]<Pe||Ne[0]>Fe?lt=new J:C.getColumn(C.pointValKey||"y").length&&(Ne[0]<Pe||Ne[ue-1]>Fe)&&(lt=(ie=this.cropData(T,Pe,Fe)).modified,Ee=ie.start,me=!0))),Ne=lt.getColumn("x")||[],{modified:lt,cropped:me,cropStart:Ee,closestPointRange:eb([ne?Ne.map(ne.log2lin):Ne],()=>C.requireSorting&&!gt&&xi(15,!1,C.chart))}}processData(m){let C=this.xAxis,T=this.dataTable;if(this.isCartesian&&!this.isDirty&&!C.isDirty&&!this.yAxis.isDirty&&!m)return!1;let R=this.getProcessedData();T.modified=R.modified,this.cropped=R.cropped,this.cropStart=R.cropStart,this.closestPointRange=this.basePointRange=R.closestPointRange,el(this,"afterProcessData")}cropData(m,C,T){let R=m.getColumn("x",!0)||[],D=R.length,F={},j,K,ne=0,ue=D;for(j=0;j<D;j++)if(R[j]>=C){ne=Math.max(0,j-1);break}for(K=j;K<D;K++)if(R[K]>T){ue=K+1;break}for(let ie of this.dataColumnKeys()){let me=m.getColumn(ie,!0);me&&(F[ie]=me.slice(ne,ue))}return{modified:new J({columns:F}),start:ne,end:ue}}generatePoints(){let m=this.options,C=this.processedData||m.data,T=this.dataTable.modified,R=this.getColumn("x",!0),D=this.pointClass,F=T.rowCount,j=this.cropStart||0,K=this.hasGroupedData,ne=m.keys,ue=[],ie=m.dataGrouping?.groupAll?j:0,me=this.xAxis?.categories,Ee=this.pointArrayMap||["y"],Ae=this.dataColumnKeys(),Pe,Fe,Ne,lt,gt=this.data,$t;if(!gt&&!K){let qt=[];qt.length=C?.length||0,gt=this.data=qt}for(ne&&K&&(this.options.keys=!1),lt=0;lt<F;lt++)Fe=j+lt,K?((Ne=new D(this,T.getRow(lt,Ae)||[])).dataGroup=this.groupMap[ie+lt],Ne.dataGroup?.options&&(Ne.options=Ne.dataGroup.options,Qa(Ne,Ne.dataGroup.options),delete Ne.dataLabels)):(Ne=gt[Fe],$t=C?C[Fe]:T.getRow(lt,Ee),Ne||$t===void 0||(gt[Fe]=Ne=new D(this,$t,R[lt]))),Ne&&(Ne.index=K?ie+lt:Fe,ue[lt]=Ne,Ne.category=me?.[Ne.x]??Ne.x,Ne.key=Ne.name??Ne.category);if(this.options.keys=ne,gt&&(F!==(Pe=gt.length)||K))for(lt=0;lt<Pe;lt++)lt!==j||K||(lt+=F),gt[lt]&&(gt[lt].destroyElements(),gt[lt].plotX=void 0);this.data=gt,this.points=ue,el(this,"afterGeneratePoints")}getXExtremes(m){return{min:Qy(m),max:Pm(m)}}getExtremes(m,C){let{xAxis:T,yAxis:R}=this,D=C||this.getExtremesFromAll||this.options.getExtremesFromAll,F=D&&this.cropped?this.dataTable:this.dataTable.modified,j=F.rowCount,K=m||this.stackedYData,ne=K?[K]:(this.keysAffectYAxis||this.pointArrayMap||["y"])?.map(qt=>F.getColumn(qt,!0)||[])||[],ue=this.getColumn("x",!0),ie=[],me=this.requireSorting&&!this.is("column")?1:0,Ee=!!R&&R.positiveValuesOnly,Ae=D||this.cropped||!T,Pe,Fe,Ne,lt=0,gt=0;for(T&&(lt=(Pe=T.getExtremes()).min,gt=Pe.max),Ne=0;Ne<j;Ne++)if(Fe=ue[Ne],Ae||(ue[Ne+me]||Fe)>=lt&&(ue[Ne-me]||Fe)<=gt)for(let qt of ne){let Kt=qt[Ne];Sl(Kt)&&(Kt>0||!Ee)&&ie.push(Kt)}let $t={activeYData:ie,dataMin:Qy(ie),dataMax:Pm(ie)};return el(this,"afterGetExtremes",{dataExtremes:$t}),$t}applyExtremes(){let m=this.getExtremes();return this.dataMin=m.dataMin,this.dataMax=m.dataMax,m}getFirstValidPoint(m,C=0,T=1){let R=m.length,D=C;for(;D>=0&&D<R;){if(Bl(m[D]))return m[D];D+=T}}translate(){this.generatePoints();let m=this.options,C=m.stacking,T=this.xAxis,R=this.enabledDataSorting,D=this.yAxis,F=this.points,j=F.length,K=this.pointPlacementToXValue(),ne=!!K,ue=m.threshold,ie=m.startFromThreshold?ue:0,me=m?.nullInteraction&&D.len,Ee,Ae,Pe,Fe,Ne=Number.MAX_VALUE;function lt(gt){return Nm(gt,-1e9,1e9)}for(Ee=0;Ee<j;Ee++){let gt,$t=F[Ee],qt=$t.x,Kt,Yt,Xt=$t.y,Kn=$t.low,So=C&&D.stacking?.stacks[(this.negStacks&&Xt<(ie?0:ue)?"-":"")+this.stackKey];$t.plotX=Sl(Ae=T.translate(qt,!1,!1,!1,!0,K))?Mg(lt(Ae)):void 0,C&&this.visible&&So&&So[qt]&&(Fe=this.getStackIndicator(Fe,qt,this.index),!$t.isNull&&Fe.key&&(Yt=(Kt=So[qt]).points[Fe.key]),Kt&&BE(Yt)&&(Kn=Yt[0],Xt=Yt[1],Kn===ie&&Fe.key===So[qt].base&&(Kn=Gr(Sl(ue)?ue:D.min)),D.positiveValuesOnly&&Bl(Kn)&&Kn<=0&&(Kn=void 0),$t.total=$t.stackTotal=Gr(Kt.total),$t.percentage=Bl($t.y)&&Kt.total?$t.y/Kt.total*100:void 0,$t.stackY=Xt,this.irregularWidths||Kt.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),$t.yBottom=Bl(Kn)?lt(D.translate(Kn,!1,!0,!1,!0)):void 0,this.dataModify&&(Xt=this.dataModify.modifyValue(Xt,Ee)),Sl(Xt)&&$t.plotX!==void 0?gt=Sl(gt=D.translate(Xt,!1,!0,!1,!0))?lt(gt):void 0:!Sl(Xt)&&me&&(gt=me),$t.plotY=gt,$t.isInside=this.isPointInside($t),$t.clientX=ne?Mg(T.translate(qt,!1,!1,!1,!0,K)):Ae,$t.negative=($t.y||0)<(ue||0),$t.isNull||$t.visible===!1||(Pe!==void 0&&(Ne=Math.min(Ne,Math.abs(Ae-Pe))),Pe=Ae),$t.zone=this.zones.length?$t.getZone():void 0,!$t.graphic&&this.group&&R&&($t.isNew=!0)}this.closestPointRangePx=Ne,el(this,"afterTranslate")}getValidPoints(m,C,T){let R=this.chart;return(m||this.points||[]).filter(function(D){let{plotX:F,plotY:j}=D;return(!!T||!D.isNull&&!!Sl(j))&&(!C||!!R.isInsidePlot(F,j,{inverted:R.inverted}))&&D.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:m,group:C,markerGroup:T}=this,R=m.sharedClips,D=m.renderer,F=m.getClipBox(this),j=this.getSharedClipKey(),K=R[j];K?K.animate(F):R[j]=K=D.clipRect(F),C&&C.clip(this.options.clip===!1?void 0:K),T&&T.clip()}animate(m){let{chart:C,group:T,markerGroup:R}=this,D=C.inverted,F=Hi(this.options.animation),j=[this.getSharedClipKey(),F.duration,F.easing,F.defer].join(","),K=C.sharedClips[j],ne=C.sharedClips[j+"m"];if(m&&T){let ue=C.getClipBox(this);if(K)K.attr("height",ue.height);else{ue.width=0,D&&(ue.x=C.plotHeight),K=C.renderer.clipRect(ue),C.sharedClips[j]=K;let ie={x:-99,y:-99,width:D?C.plotWidth+199:99,height:D?99:C.plotHeight+199};ne=C.renderer.clipRect(ie),C.sharedClips[j+"m"]=ne}T.clip(K),R?.clip(ne)}else if(K&&!K.hasClass("highcharts-animating")){let ue=C.getClipBox(this),ie=F.step;(R?.element.childNodes.length||C.series.length>1)&&(F.step=function(me,Ee){ie&&ie.apply(Ee,arguments),Ee.prop==="width"&&ne?.element&&ne.attr(D?"height":"width",me+99)}),K.addClass("highcharts-animating").animate(ue,F)}}afterAnimate(){this.setClip(),FE(this.chart.sharedClips,(m,C,T)=>{m&&!this.chart.container.querySelector(`[clip-path="url(#${m.id})"]`)&&(m.destroy(),delete T[C])}),this.finishedAnimating=!0,el(this,"afterAnimate")}drawPoints(m=this.points){let C,T,R,D,F,j,K,ne=this.chart,ue=ne.styledMode,{colorAxis:ie,options:me}=this,Ee=me.marker,Ae=me.nullInteraction,Pe=this[this.specialGroup||"markerGroup"],Fe=this.xAxis,Ne=Gr(Ee.enabled,!Fe||!!Fe.isRadial||null,this.closestPointRangePx>=Ee.enabledThreshold*Ee.radius);if(Ee.enabled!==!1||this._hasPointMarkers)for(C=0;C<m.length;C++){D=(R=(T=m[C]).graphic)?"animate":"attr",F=T.marker||{},j=!!T.marker;let lt=T.isNull;if((Ne&&!Bl(F.enabled)||F.enabled)&&(!lt||Ae)&&T.visible!==!1){let gt=Gr(F.symbol,this.symbol,"rect");K=this.markerAttribs(T,T.selected&&"select"),this.enabledDataSorting&&(T.startXPos=Fe.reversed?-(K.width||0):Fe.width);let $t=T.isInside!==!1;if(!R&&$t&&((K.width||0)>0||T.hasImage)&&(T.graphic=R=ne.renderer.symbol(gt,K.x,K.y,K.width,K.height,j?F:Ee).add(Pe),this.enabledDataSorting&&ne.hasRendered&&(R.attr({x:T.startXPos}),D="animate")),R&&D==="animate"&&R[$t?"show":"hide"]($t).animate(K),R){let qt=this.pointAttribs(T,ue||!T.selected?void 0:"select");ue?ie&&R.css({fill:qt.fill}):R[D](qt)}R&&R.addClass(T.getClassName(),!0)}else R&&(T.graphic=R.destroy())}}markerAttribs(m,C){let T=this.options,R=T.marker,D=m.marker||{},F=D.symbol||R.symbol,j={},K,ne,ue=Gr(D.radius,R?.radius);C&&(K=R.states[C],ne=D.states&&D.states[C],ue=Gr(ne?.radius,K?.radius,ue&&ue+(K?.radiusPlus||0))),m.hasImage=F&&F.indexOf("url")===0,m.hasImage&&(ue=0);let ie=m.pos();return Sl(ue)&&ie&&(T.crisp&&(ie[0]=s0(ie[0],m.hasImage?0:F==="rect"?R?.lineWidth||0:1)),j.x=ie[0]-ue,j.y=ie[1]-ue),ue&&(j.width=j.height=2*ue),j}pointAttribs(m,C){let T=this.options,R=T.marker,D=m?.options,F=D?.marker||{},j=D?.color,K=m?.color,ne=m?.zone?.color,ue,ie,me=this.color,Ee,Ae,Pe=Gr(F.lineWidth,R.lineWidth),Fe=m?.isNull&&T.nullInteraction?0:1;return me=j||ne||K||me,Ee=F.fillColor||R.fillColor||me,Ae=F.lineColor||R.lineColor||me,C=C||"normal",ue=R.states[C]||{},Pe=Gr((ie=F.states&&F.states[C]||{}).lineWidth,ue.lineWidth,Pe+Gr(ie.lineWidthPlus,ue.lineWidthPlus,0)),Ee=ie.fillColor||ue.fillColor||Ee,Ae=ie.lineColor||ue.lineColor||Ae,{stroke:Ae,"stroke-width":Pe,fill:Ee,opacity:Fe=Gr(ie.opacity,ue.opacity,Fe)}}destroy(m){let C,T,R=this,D=R.chart,F=/AppleWebKit\/533/.test(Gp.navigator.userAgent),j=R.data||[];for(el(R,"destroy",{keepEventsForUpdate:m}),this.removeEvents(m),(R.axisTypes||[]).forEach(function(K){T=R[K],T?.series&&(Fr(T.series,R),T.isDirty=T.forceRedraw=!0)}),R.legendItem&&R.chart.legend.destroyItem(R),C=j.length;C--;)j[C]?.destroy?.();for(let K of R.zones)NE(K,void 0,!0);Zn.clearTimeout(R.animationTimeout),FE(R,function(K,ne){K instanceof L&&!K.survive&&K[F&&ne==="group"?"hide":"destroy"]()}),D.hoverSeries===R&&(D.hoverSeries=void 0),Fr(D.series,R),D.orderItems("series"),FE(R,function(K,ne){m&&ne==="hcEvents"||delete R[ne]})}applyZones(){let{area:m,chart:C,graph:T,zones:R,points:D,xAxis:F,yAxis:j,zoneAxis:K}=this,{inverted:ne,renderer:ue}=C,ie=this[`${K}Axis`],{isXAxis:me,len:Ee=0,minPointOffset:Ae=0}=ie||{},Pe=(T?.strokeWidth()||0)/2+1,Fe=(Ne,lt=0,gt=0)=>{ne&&(gt=Ee-gt);let{translated:$t=0,lineClip:qt}=Ne,Kt=gt-$t;qt?.push(["L",lt,Math.abs(Kt)<Pe?gt-Pe*(Kt<=0?-1:1):$t])};if(R.length&&(T||m)&&ie&&Sl(ie.min)){let Ne=ie.getExtremes().max+Ae,lt=qt=>{qt.forEach((Kt,Yt)=>{(Kt[0]==="M"||Kt[0]==="L")&&(qt[Yt]=[Kt[0],me?Ee-Kt[1]:Kt[1],me?Kt[2]:Ee-Kt[2]])})};if(R.forEach(qt=>{qt.lineClip=[],qt.translated=Nm(ie.toPixels(Gr(qt.value,Ne),!0)||0,0,Ee)}),T&&!this.showLine&&T.hide(),m&&m.hide(),K==="y"&&D.length<F.len)for(let qt of D){let{plotX:Kt,plotY:Yt,zone:Xt}=qt,Kn=Xt&&R[R.indexOf(Xt)-1];Xt&&Fe(Xt,Kt,Yt),Kn&&Fe(Kn,Kt,Yt)}let gt=[],$t=ie.toPixels(ie.getExtremes().min-Ae,!0);R.forEach(qt=>{let Kt=qt.lineClip||[],Yt=Math.round(qt.translated||0);F.reversed&&Kt.reverse();let{clip:Xt,simpleClip:Kn}=qt,So=0,Dn=0,ts=F.len,sr=j.len;me?(So=Yt,ts=$t):(Dn=Yt,sr=$t);let dr=[["M",So,Dn],["L",ts,Dn],["L",ts,sr],["L",So,sr],["Z"]],hs=[dr[0],...Kt,dr[1],dr[2],...gt,dr[3],dr[4]];gt=Kt.reverse(),$t=Yt,ne&&(lt(hs),m&&lt(dr)),Xt?(Xt.animate({d:hs}),Kn?.animate({d:dr})):(Xt=qt.clip=ue.path(hs),m&&(Kn=qt.simpleClip=ue.path(dr))),T&&qt.graph?.clip(Xt),m&&qt.area?.clip(Kn)})}else this.visible&&(T&&T.show(),m&&m.show())}plotGroup(m,C,T,R,D){let F=this[m],j=!F,K={visibility:T,zIndex:R||.1};return Bl(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(K.opacity=this.opacity),F||(this[m]=F=this.chart.renderer.g().add(D)),F.addClass("highcharts-"+C+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Bl(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(F.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),F.attr(K)[j?"attr":"animate"](this.getPlotBox(C)),F}getPlotBox(m){let C=this.xAxis,T=this.yAxis,R=this.chart,D=R.inverted&&!R.polar&&C&&this.invertible&&m==="series";R.inverted&&(C=T,T=this.xAxis);let F={scale:1,translateX:C?C.left:R.plotLeft,translateY:T?T.top:R.plotTop,name:m};el(this,"getPlotBox",F);let{scale:j,translateX:K,translateY:ne}=F;return{translateX:K,translateY:ne,rotation:90*!!D,rotationOriginX:D?j*(C.len-T.len)/2:0,rotationOriginY:D?j*(C.len+T.len)/2:0,scaleX:D?-j:j,scaleY:j}}removeEvents(m){let{eventsToUnbind:C}=this;m||Fl(this),C.length&&(C.forEach(T=>{T()}),C.length=0)}render(){let m=this,{chart:C,options:T,hasRendered:R}=m,D=Hi(T.animation),F=m.visible?"inherit":"hidden",j=T.zIndex,K=C.seriesGroup,ne=m.finishedAnimating?0:D.duration;el(this,"render"),m.plotGroup("group","series",F,j,K),m.markerGroup=m.plotGroup("markerGroup","markers",F,j,K),T.clip!==!1&&m.setClip(),ne&&m.animate?.(!0),m.drawGraph&&(m.drawGraph(),m.applyZones()),m.visible&&m.drawPoints(),m.drawDataLabels?.(),m.redrawPoints?.(),T.enableMouseTracking&&m.drawTracker?.(),ne&&m.animate?.(),R||(ne&&D.defer&&(ne+=D.defer),m.animationTimeout=ip(()=>{m.afterAnimate()},ne||0)),m.isDirty=!1,m.hasRendered=!0,el(m,"afterRender")}redraw(){let m=this.isDirty||this.isDirtyData;this.translate(),this.render(),m&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(m,C){let{xAxis:T,yAxis:R}=this,D=this.chart.inverted;return this.searchKDTree({clientX:D?T.len-m.chartY+T.pos:m.chartX-T.pos,plotY:D?R.len-m.chartX+R.pos:m.chartY-R.pos},C,m)}buildKDTree(m){this.buildingKdTree=!0;let C=this,T=C.options,R=T.findNearestPointBy.indexOf("y")>-1?2:1;delete C.kdTree,ip(function(){C.kdTree=(function D(F,j,K){let ne,ue,ie=F?.length;if(ie)return ne=C.kdAxisArray[j%K],F.sort((me,Ee)=>(me[ne]||0)-(Ee[ne]||0)),{point:F[ue=Math.floor(ie/2)],left:D(F.slice(0,ue),j+1,K),right:D(F.slice(ue+1),j+1,K)}})(C.getValidPoints(void 0,!C.directTouch,T?.nullInteraction),R,R),C.buildingKdTree=!1},T.kdNow||m?.type==="touchstart"?0:1)}searchKDTree(m,C,T,R,D){let F=this,[j,K]=this.kdAxisArray,ne=C?"distX":"dist",ue=(F.options.findNearestPointBy||"").indexOf("y")>-1?2:1,ie=!!F.isBubble,me=R||((Ae,Pe,Fe)=>{let Ne=Ae[Fe]||0,lt=Pe[Fe]||0;return[Ne===lt&&Ae.index>Pe.index||Ne<lt?Ae:Pe,!1]}),Ee=D||((Ae,Pe)=>Ae<Pe);if(this.kdTree||this.buildingKdTree||this.buildKDTree(T),this.kdTree)return(function Ae(Pe,Fe,Ne,lt){let gt=Fe.point,$t=F.kdAxisArray[Ne%lt],qt=gt,Kt=!1;(function(So,Dn){let ts=So[j],sr=Dn[j],dr=Bl(ts)&&Bl(sr)?ts-sr:null,hs=So[K],Rs=Dn[K],Qs=Bl(hs)&&Bl(Rs)?hs-Rs:0,La=ie&&Dn.marker?.radius||0;Dn.dist=Math.sqrt((dr&&dr*dr||0)+Qs*Qs)-La,Dn.distX=Bl(dr)?Math.abs(dr)-La:Number.MAX_VALUE})(Pe,gt);let Yt=(Pe[$t]||0)-(gt[$t]||0)+(ie&&gt.marker?.radius||0),Xt=Yt<0?"left":"right",Kn=Yt<0?"right":"left";return Fe[Xt]&&([qt,Kt]=me(gt,Ae(Pe,Fe[Xt],Ne+1,lt),ne)),Fe[Kn]&&Ee(Math.sqrt(Yt*Yt),qt[ne],Kt)&&(qt=me(qt,Ae(Pe,Fe[Kn],Ne+1,lt),ne)[0]),qt})(m,this.kdTree,ue,ue)}pointPlacementToXValue(){let{options:m,xAxis:C}=this,T=m.pointPlacement;return T==="between"&&(T=C.reversed?-.5:.5),Sl(T)?T*(m.pointRange||C.pointRange):0}isPointInside(m){let{chart:C,xAxis:T,yAxis:R}=this,{plotX:D=-1,plotY:F=-1}=m;return F>=0&&F<=(R?R.len:C.plotHeight)&&D>=0&&D<=(T?T.len:C.plotWidth)}drawTracker(){let m=this,C=m.options,T=C.trackByArea,R=[].concat((T?m.areaPath:m.graphPath)||[]),D=m.chart,F=D.pointer,j=D.renderer,K=D.options.tooltip?.snap||0,ne=()=>{C.enableMouseTracking&&D.hoverSeries!==m&&m.onMouseOver()},ue="rgba(192,192,192,"+(Wp?1e-4:.002)+")",ie=m.tracker;ie?ie.attr({d:R}):m.graph&&(m.tracker=ie=j.path(R).attr({visibility:m.visible?"inherit":"hidden",zIndex:2}).addClass(T?"highcharts-tracker-area":"highcharts-tracker-line").add(m.group),D.styledMode||ie.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:ue,fill:T?ue:"none","stroke-width":m.graph.strokeWidth()+(T?0:2*K)}),[m.tracker,m.markerGroup,m.dataLabelsGroup].forEach(me=>{me&&(me.addClass("highcharts-tracker").on("mouseover",ne).on("mouseout",Ee=>{F?.onTrackerMouseOut(Ee)}),C.cursor&&!D.styledMode&&me.css({cursor:C.cursor}),me.on("touchstart",ne))})),el(this,"afterDrawTracker")}addPoint(m,C,T,R,D){let F,j,K=this.options,{chart:ne,data:ue,dataTable:ie,xAxis:me}=this,Ee=me?.hasNames&&me.names,Ae=K.data,Pe=this.getColumn("x");C=Gr(C,!0);let Fe={series:this};this.pointClass.prototype.applyOptions.apply(Fe,[m]);let Ne=Fe.x;if(j=Pe.length,this.requireSorting&&Ne<Pe[j-1])for(F=!0;j&&Pe[j-1]>Ne;)j--;ie.setRow(Fe,j,!0,{addColumns:!1}),Ee&&Fe.name&&(Ee[Ne]=Fe.name),Ae?.splice(j,0,m),(F||this.processedData)&&(this.data.splice(j,0,null),this.processData()),K.legendType==="point"&&this.generatePoints(),T&&(ue[0]&&ue[0].remove?ue[0].remove(!1):([ue,Ae].filter(Bl).forEach(lt=>{lt.shift()}),ie.deleteRows(0))),D!==!1&&el(this,"addPoint",{point:Fe}),this.isDirty=!0,this.isDirtyData=!0,C&&ne.redraw(R)}removePoint(m,C,T){let R=this,{chart:D,data:F,points:j,dataTable:K}=R,ne=F[m],ue=function(){[j?.length===F.length?j:void 0,F,R.options.data].filter(Bl).forEach(ie=>{ie.splice(m,1)}),K.deleteRows(m),ne?.destroy(),R.isDirty=!0,R.isDirtyData=!0,C&&D.redraw()};pa(T,D),C=Gr(C,!0),ne?ne.firePointEvent("remove",null,ue):ue()}remove(m,C,T,R){let D=this,F=D.chart;function j(){D.destroy(R),F.isDirtyLegend=F.isDirtyBox=!0,F.linkSeries(R),Gr(m,!0)&&F.redraw(C)}T!==!1?el(D,"remove",null,j):j()}update(m,C){el(this,"update",{options:m=LE(m,this.userOptions)});let T=this,R=T.chart,D=T.userOptions,F=T.initialType||T.type,j=R.options.plotOptions,K=iu[F].prototype,ne=T.finishedAnimating&&{animation:!1},ue={},ie,me,Ee=Vd.keepProps.slice(),Ae=m.type||D.type||R.options.chart.type,Pe=!(this.hasDerivedData||Ae&&Ae!==this.type||m.keys!==void 0||m.pointStart!==void 0||m.pointInterval!==void 0||m.relativeXValue!==void 0||m.joinBy||m.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(Ne=>T.hasOptionChanged(Ne)));Ae=Ae||F,Pe?(Ee.push.apply(Ee,Vd.keepPropsForPoints),m.visible!==!1&&Ee.push("area","graph"),T.parallelArrays.forEach(function(Ne){Ee.push(Ne+"Data")}),m.data&&(m.dataSorting&&Qa(T.options.dataSorting,m.dataSorting),this.setData(m.data,!1))):this.dataTable.modified=this.dataTable,m=ob(D,{index:D.index===void 0?T.index:D.index,pointStart:j?.series?.pointStart??D.pointStart??T.getColumn("x")[0]},!Pe&&{data:T.options.data},m,ne),Pe&&m.data&&(m.data=T.options.data),(Ee=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(Ee)).forEach(function(Ne){Ee[Ne]=T[Ne],delete T[Ne]});let Fe=!1;if(iu[Ae]){if(Fe=Ae!==T.type,T.remove(!1,!1,!1,!0),Fe)if(R.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(T,iu[Ae].prototype);else{let Ne=Object.hasOwnProperty.call(T,"hcEvents")&&T.hcEvents;for(me in K)T[me]=void 0;Qa(T,iu[Ae].prototype),Ne?T.hcEvents=Ne:delete T.hcEvents}}else xi(17,!0,R,{missingModuleFor:Ae});if(Ee.forEach(function(Ne){T[Ne]=Ee[Ne]}),T.init(R,m),Pe&&this.points)for(let Ne of((ie=T.options).visible===!1?(ue.graphic=1,ue.dataLabel=1):(this.hasMarkerChanged(ie,D)&&(ue.graphic=1),T.hasDataLabels?.()||(ue.dataLabel=1)),this.points))Ne?.series&&(Ne.resolveColor(),Object.keys(ue).length&&Ne.destroyElements(ue),ie.showInLegend===!1&&Ne.legendItem&&R.legend.destroyItem(Ne));T.initialType=F,R.linkSeries(),R.setSortedData(),Fe&&T.linkedSeries.length&&(T.isDirtyData=!0),el(this,"afterUpdate"),Gr(C,!0)&&R.redraw(!!Pe&&void 0)}setName(m){this.name=this.options.name=this.userOptions.name=m,this.chart.isDirtyLegend=!0}hasOptionChanged(m){let C=this.chart,T=this.options[m],R=C.options.plotOptions,D=this.userOptions[m],F=Gr(R?.[this.type]?.[m],R?.series?.[m]);return D&&!Bl(F)?T!==D:T!==Gr(F,T)}onMouseOver(){let m=this.chart,C=m.hoverSeries;m.pointer?.setHoverChartIndex(),C&&C!==this&&C.onMouseOut(),this.options.events.mouseOver&&el(this,"mouseOver"),this.setState("hover"),m.hoverSeries=this}onMouseOut(){let m=this.options,C=this.chart,T=C.tooltip,R=C.hoverPoint;C.hoverSeries=null,R&&R.onMouseOut(),this&&m.events.mouseOut&&el(this,"mouseOut"),T&&!this.stickyTracking&&(!T.shared||this.noSharedTooltip)&&T.hide(),C.series.forEach(function(D){D.setState("",!0)})}setState(m,C){let T=this,R=T.options,D=T.graph,F=R.inactiveOtherPoints,j=R.states,K=Gr(j[m||"normal"]&&j[m||"normal"].animation,T.chart.options.chart.animation),ne=R.lineWidth,ue=R.opacity;if(m=m||"",T.state!==m&&([T.group,T.markerGroup,T.dataLabelsGroup].forEach(function(ie){ie&&(T.state&&ie.removeClass("highcharts-series-"+T.state),m&&ie.addClass("highcharts-series-"+m))}),T.state=m,!T.chart.styledMode)){if(j[m]&&j[m].enabled===!1)return;if(m&&(ne=j[m].lineWidth||ne+(j[m].lineWidthPlus||0),ue=Gr(j[m].opacity,ue)),D&&!D.dashstyle&&Sl(ne))for(let ie of[D,...this.zones.map(me=>me.graph)])ie?.animate({"stroke-width":ne},K);F||[T.group,T.markerGroup,T.dataLabelsGroup,T.labelBySeries].forEach(function(ie){ie&&ie.animate({opacity:ue},K)})}C&&F&&T.points&&T.setAllPointsToState(m||void 0)}setAllPointsToState(m){this.points.forEach(function(C){C.setState&&C.setState(m)})}setVisible(m,C){let T=this,R=T.chart,D=R.options.chart.ignoreHiddenSeries,F=T.visible;T.visible=m=T.options.visible=T.userOptions.visible=m===void 0?!F:m;let j=m?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(K=>{T[K]?.[j]()}),(R.hoverSeries===T||R.hoverPoint?.series===T)&&T.onMouseOut(),T.legendItem&&R.legend.colorizeItem(T,m),T.isDirty=!0,T.options.stacking&&R.series.forEach(K=>{K.options.stacking&&K.visible&&(K.isDirty=!0)}),T.linkedSeries.forEach(K=>{K.setVisible(m,!1)}),D&&(R.isDirtyBox=!0),el(T,j),C!==!1&&R.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(m){this.selected=m=this.options.selected=m===void 0?!this.selected:m,this.checkbox&&(this.checkbox.checked=m),el(this,m?"select":"unselect")}shouldShowTooltip(m,C,T={}){return T.series=this,T.visiblePlotOnly=!0,this.chart.isInsidePlot(m,C,T)}drawLegendSymbol(m,C){At[this.options.legendSymbol||"rectangle"]?.call(this,m,C)}}Vd.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:Q}=this.series.chart;return typeof this.y!="number"?"":Q(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Vd.types=Is.seriesTypes,Vd.registerType=Is.registerSeriesType,Vd.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Vd.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],Qa(Vd.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:jp,requireSorting:!0,sorted:!0}),Is.series=Vd;let ld=Vd,{animObject:Fu,setAnimation:VE}=Oa,{registerEventOptions:Pg}=Cl,{composed:jS,marginNames:Hd}=ke,{distribute:HE}=of,{format:Yi}=Br,{addEvent:Ng,createElement:Lg,css:KO,defined:WS,discardElement:GS,find:ZO,fireEvent:qp,isNumber:Bm,merge:Bg,pick:Ho,pushUnique:ma,relativeLength:r0,stableSort:sb,syncTimeout:Rc}=Zn;class Hv{constructor(m,C){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=m,this.setOptions(C),C.enabled&&(this.render(),Pg(this,C),Ng(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),Ng(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(m){let C=Ho(m.padding,8);this.options=m,this.chart.styledMode||(this.itemStyle=m.itemStyle,this.itemHiddenStyle=Bg(this.itemStyle,m.itemHiddenStyle)),this.itemMarginTop=m.itemMarginTop,this.itemMarginBottom=m.itemMarginBottom,this.padding=C,this.initialItemY=C-5,this.symbolWidth=Ho(m.symbolWidth,16),this.pages=[],this.proximate=m.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(m,C){let T=this.chart;this.setOptions(Bg(!0,this.options,m)),"events"in this.options&&Pg(this,this.options),this.destroy(),T.isDirtyLegend=T.isDirtyBox=!0,Ho(C,!0)&&T.redraw(),qp(this,"afterUpdate",{redraw:C})}colorizeItem(m,C){let T=m.color,{area:R,group:D,label:F,line:j,symbol:K}=m.legendItem||{};if((m instanceof ld||m instanceof jp)&&(m.color=m.options?.legendSymbolColor||T),D?.[C?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:ne={}}=this,ue=ne.color,{fillColor:ie,fillOpacity:me,lineColor:Ee,marker:Ae}=m.options,Pe=Fe=>(!C&&(Fe.fill&&(Fe.fill=ue),Fe.stroke&&(Fe.stroke=ue)),Fe);F?.css(Bg(C?this.itemStyle:ne)),j?.attr(Pe({stroke:Ee||m.color})),K&&K.attr(Pe(Ae&&K.isMarker?m.pointAttribs():{fill:m.color})),R?.attr(Pe({fill:ie||m.color,"fill-opacity":ie?1:me??.75}))}m.color=T,qp(this,"afterColorizeItem",{item:m,visible:C})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(m){let{group:C,x:T=0,y:R=0}=m.legendItem||{},D=this.options,F=D.symbolPadding,j=!D.rtl,K=m.checkbox;if(C?.element){let ne={translateX:j?T:this.legendWidth-T-2*F-4,translateY:R};C[WS(C.translateY)?"animate":"attr"](ne,void 0,()=>{qp(this,"afterPositionItem",{item:m})})}K&&(K.x=T,K.y=R)}destroyItem(m){let C=m.legendItem||{};for(let T of["group","label","line","symbol"])C[T]&&(C[T]=C[T].destroy());m.checkbox=GS(m.checkbox),m.legendItem=void 0}destroy(){for(let m of this.getAllItems())this.destroyItem(m);for(let m of["clipRect","up","down","pager","nav","box","title","group"])this[m]&&(this[m]=this[m].destroy());this.display=null}positionCheckboxes(){let m,C=this.group?.alignAttr,T=this.clipHeight||this.legendHeight,R=this.titleHeight;C&&(m=C.translateY,this.allItems.forEach(function(D){let F,j=D.checkbox;j&&(F=m+R+j.y+(this.scrollOffset||0)+3,KO(j,{left:C.translateX+D.checkboxOffset+j.x-20+"px",top:F+"px",display:this.proximate||F>m-6&&F<m+T-6?"":"none"}))},this))}renderTitle(){let m=this.options,C=this.padding,T=m.title,R,D=0;T.text&&(this.title||(this.title=this.chart.renderer.label(T.text,C-3,C-4,void 0,void 0,void 0,m.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(T.style),this.title.add(this.group)),T.width||this.title.css({width:this.maxLegendWidth+"px"}),D=(R=this.title.getBBox()).height,this.offsetWidth=R.width,this.contentGroup.attr({translateY:D})),this.titleHeight=D}setText(m){let C=this.options;m.legendItem.label.attr({text:C.labelFormat?Yi(C.labelFormat,m,this.chart):C.labelFormatter.call(m)})}renderItem(m){let C=m.legendItem=m.legendItem||{},T=this.chart,R=T.renderer,D=this.options,F=D.layout==="horizontal",j=this.symbolWidth,K=D.symbolPadding||0,ne=this.itemStyle,ue=this.itemHiddenStyle,ie=F?Ho(D.itemDistance,20):0,me=!D.rtl,Ee=!m.series,Ae=!Ee&&m.series.drawLegendSymbol?m.series:m,Pe=Ae.options,Fe=!!this.createCheckboxForItem&&Pe&&Pe.showCheckbox,Ne=D.useHTML,lt=m.options.className,gt=C.label,$t=j+K+ie+20*!!Fe;!gt&&(C.group=R.g("legend-item").addClass("highcharts-"+Ae.type+"-series highcharts-color-"+m.colorIndex+(lt?" "+lt:"")+(Ee?" highcharts-series-"+m.index:"")).attr({zIndex:1}).add(this.scrollGroup),C.label=gt=R.text("",me?j+K:-K,this.baseline||0,Ne),T.styledMode||gt.css(Bg(m.visible?ne:ue)),gt.attr({align:me?"left":"right",zIndex:2}).add(C.group),!this.baseline&&(this.fontMetrics=R.fontMetrics(gt),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,gt.attr("y",this.baseline),this.symbolHeight=Ho(D.symbolHeight,this.fontMetrics.f),D.squareSymbol&&(this.symbolWidth=Ho(D.symbolWidth,Math.max(this.symbolHeight,16)),$t=this.symbolWidth+K+ie+20*!!Fe,me&&gt.attr("x",this.symbolWidth+K))),Ae.drawLegendSymbol(this,m),this.setItemEvents&&this.setItemEvents(m,gt,Ne)),Fe&&!m.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(m),this.colorizeItem(m,m.visible),(T.styledMode||!ne.width)&&gt.css({width:(D.itemWidth||this.widthOption||T.spacingBox.width)-$t+"px"}),this.setText(m);let qt=gt.getBBox(),Kt=this.fontMetrics?.h||0;m.itemWidth=m.checkboxOffset=D.itemWidth||C.labelWidth||qt.width+$t,this.maxItemWidth=Math.max(this.maxItemWidth,m.itemWidth),this.totalItemWidth+=m.itemWidth,this.itemHeight=m.itemHeight=Math.round(C.labelHeight||(qt.height>1.5*Kt?qt.height:Kt))}layoutItem(m){let C=this.options,T=this.padding,R=C.layout==="horizontal",D=m.itemHeight,F=this.itemMarginBottom,j=this.itemMarginTop,K=R?Ho(C.itemDistance,20):0,ne=this.maxLegendWidth,ue=C.alignColumns&&this.totalItemWidth>ne?this.maxItemWidth:m.itemWidth,ie=m.legendItem||{};R&&this.itemX-T+ue>ne&&(this.itemX=T,this.lastLineHeight&&(this.itemY+=j+this.lastLineHeight+F),this.lastLineHeight=0),this.lastItemY=j+this.itemY+F,this.lastLineHeight=Math.max(D,this.lastLineHeight),ie.x=this.itemX,ie.y=this.itemY,R?this.itemX+=ue:(this.itemY+=j+D+F,this.lastLineHeight=D),this.offsetWidth=this.widthOption||Math.max((R?this.itemX-T-(m.checkbox?0:K):ue)+T,this.offsetWidth)}getAllItems(){let m=[];return this.chart.series.forEach(function(C){let T=C?.options;C&&Ho(T.showInLegend,!WS(T.linkedTo)&&void 0,!0)&&(m=m.concat(C.legendItem?.labels||(T.legendType==="point"?C.data:C)))}),qp(this,"afterGetAllItems",{allItems:m}),m}getAlignment(){let m=this.options;return this.proximate?m.align.charAt(0)+"tv":m.floating?"":m.align.charAt(0)+m.verticalAlign.charAt(0)+m.layout.charAt(0)}adjustMargins(m,C){let T=this.chart,R=this.options,D=this.getAlignment();D&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((F,j)=>{F.test(D)&&!WS(m[j])&&(T[Hd[j]]=Math.max(T[Hd[j]],T.legend[(j+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][j]*R[j%2?"x":"y"]+(R.margin??12)+C[j]+(T.titleOffset[j]||0)))})}proximatePositions(){let m,C=this.chart,T=[],R=this.options.align==="left";for(let D of(this.allItems.forEach(function(F){let j,K,ne=R,ue,ie;F.yAxis&&(F.xAxis.options.reversed&&(ne=!ne),F.points&&(j=ZO(ne?F.points:F.points.slice(0).reverse(),function(me){return Bm(me.plotY)})),K=this.itemMarginTop+F.legendItem.label.getBBox().height+this.itemMarginBottom,ie=F.yAxis.top-C.plotTop,ue=F.visible?(j?j.plotY:F.yAxis.height)+(ie-.3*K):ie+F.yAxis.height,T.push({target:ue,size:K,item:F}))},this),HE(T,C.plotHeight)))m=D.item.legendItem||{},Bm(D.pos)&&(m.y=C.plotTop-C.spacing[0]+D.pos)}render(){let m=this.chart,C=m.renderer,T=this.options,R=this.padding,D=this.getAllItems(),F,j,K,ne=this.group,ue,ie=this.box;this.itemX=R,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=r0(T.width,m.spacingBox.width-R),ue=m.spacingBox.width-2*R-T.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(ue/=2),this.maxLegendWidth=this.widthOption||ue,ne||(this.group=ne=C.g("legend").addClass(T.className||"").attr({zIndex:7}).add(),this.contentGroup=C.g().attr({zIndex:1}).add(ne),this.scrollGroup=C.g().add(this.contentGroup)),this.renderTitle(),sb(D,(me,Ee)=>(me.options?.legendIndex||0)-(Ee.options?.legendIndex||0)),T.reversed&&D.reverse(),this.allItems=D,this.display=F=!!D.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,D.forEach(this.renderItem,this),D.forEach(this.layoutItem,this),j=(this.widthOption||this.offsetWidth)+R,K=this.lastItemY+this.lastLineHeight+this.titleHeight,K=this.handleOverflow(K)+R,ie||(this.box=ie=C.rect().addClass("highcharts-legend-box").attr({r:T.borderRadius}).add(ne)),m.styledMode||ie.attr({stroke:T.borderColor,"stroke-width":T.borderWidth||0,fill:T.backgroundColor||"none"}).shadow(T.shadow),j>0&&K>0&&ie[ie.placed?"animate":"attr"](ie.crisp.call({},{x:0,y:0,width:j,height:K},ie.strokeWidth())),ne[F?"show":"hide"](),m.styledMode&&ne.getStyle("display")==="none"&&(j=K=0),this.legendWidth=j,this.legendHeight=K,F&&this.align(),this.proximate||this.positionItems(),qp(this,"afterRender")}align(m=this.chart.spacingBox){let C=this.chart,T=this.options,R=m.y;/(lth|ct|rth)/.test(this.getAlignment())&&C.titleOffset[0]>0?R+=C.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&C.titleOffset[2]>0&&(R-=C.titleOffset[2]),R!==m.y&&(m=Bg(m,{y:R})),C.hasRendered||(this.group.placed=!1),this.group.align(Bg(T,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":T.verticalAlign}),!0,m)}handleOverflow(m){let C=this,T=this.chart,R=T.renderer,D=this.options,F=D.y,j=D.verticalAlign==="top",K=this.padding,ne=D.maxHeight,ue=D.navigation,ie=Ho(ue.animation,!0),me=ue.arrowSize||12,Ee=this.pages,Ae=this.allItems,Pe=function(Xt){typeof Xt=="number"?Yt.attr({height:Xt}):Yt&&(C.clipRect=Yt.destroy(),C.contentGroup.clip()),C.contentGroup.div&&(C.contentGroup.div.style.clip=Xt?"rect("+K+"px,9999px,"+(K+Xt)+"px,0)":"auto")},Fe=function(Xt){return C[Xt]=R.circle(0,0,1.3*me).translate(me/2,me/2).add(Kt),T.styledMode||C[Xt].attr("fill","rgba(0,0,0,0.0001)"),C[Xt]},Ne,lt,gt,$t,qt=T.spacingBox.height+(j?-F:F)-K,Kt=this.nav,Yt=this.clipRect;return D.layout!=="horizontal"||D.verticalAlign==="middle"||D.floating||(qt/=2),ne&&(qt=Math.min(qt,ne)),Ee.length=0,m&&qt>0&&m>qt&&ue.enabled!==!1?(this.clipHeight=Ne=Math.max(qt-20-this.titleHeight-K,0),this.currentPage=Ho(this.currentPage,1),this.fullHeight=m,Ae.forEach((Xt,Kn)=>{let So=(gt=Xt.legendItem||{}).y||0,Dn=Math.round(gt.label.getBBox().height),ts=Ee.length;(!ts||So-Ee[ts-1]>Ne&&(lt||So)!==Ee[ts-1])&&(Ee.push(lt||So),ts++),gt.pageIx=ts-1,lt&&$t&&($t.pageIx=ts-1),Kn===Ae.length-1&&So+Dn-Ee[ts-1]>Ne&&So>Ee[ts-1]&&(Ee.push(So),gt.pageIx=ts),So!==lt&&(lt=So),$t=gt}),Yt||(Yt=C.clipRect=R.clipRect(0,K-2,9999,0),C.contentGroup.clip(Yt)),Pe(Ne),Kt||(this.nav=Kt=R.g().attr({zIndex:1}).add(this.group),this.up=R.symbol("triangle",0,0,me,me).add(Kt),Fe("upTracker").on("click",function(){C.scroll(-1,ie)}),this.pager=R.text("",15,10).addClass("highcharts-legend-navigation"),!T.styledMode&&ue.style&&this.pager.css(ue.style),this.pager.add(Kt),this.down=R.symbol("triangle-down",0,0,me,me).add(Kt),Fe("downTracker").on("click",function(){C.scroll(1,ie)})),C.scroll(0),m=qt):Kt&&(Pe(),this.nav=Kt.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),m}scroll(m,C){let T=this.chart,R=this.pages,D=R.length,F=this.clipHeight,j=this.options.navigation,K=this.pager,ne=this.padding,ue=this.currentPage+m;ue>D&&(ue=D),ue>0&&(C!==void 0&&VE(C,T),this.nav.attr({translateX:ne,translateY:F+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(ie){ie.attr({class:ue===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),K.attr({text:ue+"/"+D}),[this.down,this.downTracker].forEach(function(ie){ie.attr({x:18+this.pager.getBBox().width,class:ue===D?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),T.styledMode||(this.up.attr({fill:ue===1?j.inactiveColor:j.activeColor}),this.upTracker.css({cursor:ue===1?"default":"pointer"}),this.down.attr({fill:ue===D?j.inactiveColor:j.activeColor}),this.downTracker.css({cursor:ue===D?"default":"pointer"})),this.scrollOffset=-R[ue-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=ue,this.positionCheckboxes(),Rc(()=>{qp(this,"afterScroll",{currentPage:ue})},Fu(Ho(C,T.renderer.globalAnimation,!0)).duration))}setItemEvents(m,C,T){let R=this,D=m.legendItem||{},F=R.chart.renderer.boxWrapper,j=m instanceof jp,K=m instanceof ld,ne="highcharts-legend-"+(j?"point":"series")+"-active",ue=R.chart.styledMode,ie=T?[C,D.symbol]:[D.group],me=Ee=>{R.allItems.forEach(Ae=>{m!==Ae&&[Ae].concat(Ae.linkedSeries||[]).forEach(Pe=>{Pe.setState(Ee,!j)})})};for(let Ee of ie)Ee&&Ee.on("mouseover",function(){m.visible&&me("inactive"),m.setState("hover"),m.visible&&F.addClass(ne),ue||C.css(R.options.itemHoverStyle)}).on("mouseout",function(){R.chart.styledMode||C.css(Bg(m.visible?R.itemStyle:R.itemHiddenStyle)),me(""),F.removeClass(ne),m.setState()}).on("click",function(Ae){let Pe=function(){m.setVisible&&m.setVisible(),me(m.visible?"inactive":"")};F.removeClass(ne),qp(R,"itemClick",{browserEvent:Ae,legendItem:m},Pe),j?m.firePointEvent("legendItemClick",{browserEvent:Ae}):K&&qp(m,"legendItemClick",{browserEvent:Ae})})}createCheckboxForItem(m){m.checkbox=Lg("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:m.selected,defaultChecked:m.selected},this.options.itemCheckboxStyle,this.chart.container),Ng(m.checkbox,"click",function(C){let T=C.target;qp(m.series||m,"checkboxClick",{checked:T.checked,item:m},function(){m.select()})})}}(function(Q){Q.compose=function(m){ma(jS,"Core.Legend")&&Ng(m,"beforeMargins",function(){this.legend=new Q(this,this.options.legend)})}})(Hv||(Hv={}));let TT=Hv,{animate:Fg,animObject:AT,setAnimation:ap}=Oa,{defaultOptions:Fm}=kt,{numberFormat:$E}=Br,{registerEventOptions:Wn}=Cl,{charts:Vg,doc:rb,marginNames:$a,svg:Er,win:$v}=ke,{seriesTypes:ga}=Is,{addEvent:p1,attr:mf,createElement:au,css:ai,defined:Kp,diffObjects:Zp,discardElement:UE,erase:qS,error:$h,extend:Vm,find:i0,fireEvent:$i,getAlignFactor:xT,getStyle:zE,isArray:jE,isNumber:ib,isObject:KS,isString:ZS,merge:Hm,objectEach:m1,pick:cd,pInt:gf,relativeLength:Vu,removeEvent:uh,splat:Os,syncTimeout:ud,uniqueKey:ab}=Zn;class Hg{static chart(m,C,T){return new Hg(m,C,T)}constructor(m,C,T){this.sharedClips={};let R=[...arguments];(ZS(m)||m.nodeName)&&(this.renderTo=R.shift()),this.init(R[0],R[1])}setZoomOptions(){let m=this.options.chart,C=m.zooming;this.zooming={...C,type:cd(m.zoomType,C.type),key:cd(m.zoomKey,C.key),pinchType:cd(m.pinchType,C.pinchType),singleTouch:cd(m.zoomBySingleTouch,C.singleTouch,!1),resetButton:Hm(C.resetButton,m.resetZoomButton)}}init(m,C){$i(this,"init",{args:arguments},function(){let T=Hm(Fm,m),R=T.chart,D=this.renderTo||R.renderTo;this.userOptions=Vm({},m),(this.renderTo=ZS(D)?rb.getElementById(D):D)||$h(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=C,this.isResizing=0,this.options=T,this.axes=[],this.series=[],this.locale=T.lang.locale??this.renderTo.closest("[lang]")?.lang,this.time=new Pn(Vm(T.time||{},{locale:this.locale}),T.lang),T.time=this.time.options,this.numberFormatter=(R.numberFormatter||$E).bind(this),this.styledMode=R.styledMode,this.hasCartesianSeries=R.showAxes,this.index=Vg.length,Vg.push(this),ke.chartCount++,Wn(this,R),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),$i(this,"afterInit"),this.firstRender()})}initSeries(m){let C=this.options.chart,T=m.type||C.type,R=ga[T];R||$h(17,!0,this,{missingModuleFor:T});let D=new R;return typeof D.init=="function"&&D.init(this,m),D}setSortedData(){this.getSeriesOrderByLinks().forEach(function(m){m.points||m.data||!m.enabledDataSorting||m.setData(m.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(m,C){return m.linkedSeries.length||C.linkedSeries.length?C.linkedSeries.length-m.linkedSeries.length:0})}orderItems(m,C=0){let T=this[m],R=this.options[m]=Os(this.options[m]).slice(),D=this.userOptions[m]=this.userOptions[m]?Os(this.userOptions[m]).slice():[];if(this.hasRendered&&(R.splice(C),D.splice(C)),T)for(let F=C,j=T.length;F<j;++F){let K=T[F];K&&(K.index=F,K instanceof ld&&(K.name=K.getName()),K.options.isInternal||(R[F]=K.options,D[F]=K.userOptions))}}getClipBox(m,C){let T=this.inverted,{xAxis:R,yAxis:D}=m||{},{x:F,y:j,width:K,height:ne}=Hm(this.clipBox);return m&&(R&&R.len!==this.plotSizeX&&(K=R.len),D&&D.len!==this.plotSizeY&&(ne=D.len),T&&!m.invertible&&([K,ne]=[ne,K])),C&&(F+=(T?D:R)?.pos??this.plotLeft,j+=(T?R:D)?.pos??this.plotTop),{x:F,y:j,width:K,height:ne}}isInsidePlot(m,C,T={}){let{inverted:R,plotBox:D,plotLeft:F,plotTop:j,scrollablePlotBox:K}=this,{scrollLeft:ne=0,scrollTop:ue=0}=T.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},ie=T.series,me=T.visiblePlotOnly&&K||D,Ee=T.inverted?C:m,Ae=T.inverted?m:C,Pe={x:Ee,y:Ae,isInsidePlot:!0,options:T};if(!T.ignoreX){let Fe=ie&&(R&&!this.polar?ie.yAxis:ie.xAxis)||{pos:F,len:1/0},Ne=T.paneCoordinates?Fe.pos+Ee:F+Ee;Ne>=Math.max(ne+F,Fe.pos)&&Ne<=Math.min(ne+F+me.width,Fe.pos+Fe.len)||(Pe.isInsidePlot=!1)}if(!T.ignoreY&&Pe.isInsidePlot){let Fe=!R&&T.axis&&!T.axis.isXAxis&&T.axis||ie&&(R?ie.xAxis:ie.yAxis)||{pos:j,len:1/0},Ne=T.paneCoordinates?Fe.pos+Ae:j+Ae;Ne>=Math.max(ue+j,Fe.pos)&&Ne<=Math.min(ue+j+me.height,Fe.pos+Fe.len)||(Pe.isInsidePlot=!1)}return $i(this,"afterIsInsidePlot",Pe),Pe.isInsidePlot}redraw(m){$i(this,"beforeRedraw");let C=this.hasCartesianSeries?this.axes:this.colorAxis||[],T=this.series,R=this.pointer,D=this.legend,F=this.userOptions.legend,j=this.renderer,K=j.isHidden(),ne=[],ue,ie,me,Ee=this.isDirtyBox,Ae=this.isDirtyLegend,Pe;for(j.rootFontSize=j.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),ap(!!this.hasRendered&&m,this),K&&this.temporaryDisplay(),this.layOutTitles(!1),me=T.length;me--;)if(((Pe=T[me]).options.stacking||Pe.options.centerInCategory)&&(ie=!0,Pe.isDirty)){ue=!0;break}if(ue)for(me=T.length;me--;)(Pe=T[me]).options.stacking&&(Pe.isDirty=!0);T.forEach(function(Fe){Fe.isDirty&&(Fe.options.legendType==="point"?(typeof Fe.updateTotals=="function"&&Fe.updateTotals(),Ae=!0):F&&(F.labelFormatter||F.labelFormat)&&(Ae=!0)),Fe.isDirtyData&&$i(Fe,"updatedData")}),Ae&&D&&D.options.enabled&&(D.render(),this.isDirtyLegend=!1),ie&&this.getStacks(),C.forEach(function(Fe){Fe.updateNames(),Fe.setScale()}),this.getMargins(),C.forEach(function(Fe){Fe.isDirty&&(Ee=!0)}),C.forEach(function(Fe){let Ne=Fe.min+","+Fe.max;Fe.extKey!==Ne&&(Fe.extKey=Ne,ne.push(function(){$i(Fe,"afterSetExtremes",Vm(Fe.eventArgs,Fe.getExtremes())),delete Fe.eventArgs})),(Ee||ie)&&Fe.redraw()}),Ee&&this.drawChartBox(),$i(this,"predraw"),T.forEach(function(Fe){(Ee||Fe.isDirty)&&Fe.visible&&Fe.redraw(),Fe.isDirtyData=!1}),R&&R.reset(!0),j.draw(),$i(this,"redraw"),$i(this,"render"),K&&this.temporaryDisplay(!0),ne.forEach(function(Fe){Fe.call()})}get(m){let C=this.series;function T(D){return D.id===m||D.options&&D.options.id===m}let R=i0(this.axes,T)||i0(this.series,T);for(let D=0;!R&&D<C.length;D++)R=i0(C[D].points||[],T);return R}createAxes(){let m=this.userOptions;for(let C of($i(this,"createAxes"),["xAxis","yAxis"]))for(let T of m[C]=Os(m[C]||{}))new Mu(this,T,C);$i(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((m,C)=>(C.getPointsCollection().forEach(T=>{cd(T.selectedStaging,T.selected)&&m.push(T)}),m),[])}getSelectedSeries(){return this.series.filter(m=>m.selected)}setTitle(m,C,T){this.applyDescription("title",m),this.applyDescription("subtitle",C),this.applyDescription("caption",void 0),this.layOutTitles(T)}applyDescription(m,C){let T=this,R=this.options[m]=Hm(this.options[m],C),D=this[m];D&&C&&(this[m]=D=D.destroy()),R&&!D&&((D=this.renderer.text(R.text,0,0,R.useHTML).attr({align:R.align,class:"highcharts-"+m,zIndex:R.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(F,j){T.applyDescription(m,F),T.layOutTitles(j)},this.styledMode||D.css(Vm(m==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},R.style)),D.textPxLength=D.getBBox().width,D.css({whiteSpace:R.style?.whiteSpace}),this[m]=D)}layOutTitles(m=!0){let C=[0,0,0],{options:T,renderer:R,spacingBox:D}=this;["title","subtitle","caption"].forEach(j=>{let K=this[j],ne=this.options[j],ue=Hm(D),ie=K?.textPxLength||0;if(K&&ne){$i(this,"layOutTitle",{alignTo:ue,key:j,textPxLength:ie});let me=R.fontMetrics(K),Ee=me.b,Ae=me.h,Pe=ne.verticalAlign||"top",Fe=Pe==="top",Ne=Fe&&ne.minScale||1,lt=j==="title"?Fe?-3:0:Fe?C[0]+2:0,gt=Math.min(ue.width/ie,1),$t=Math.max(Ne,gt),qt=Hm({y:Pe==="bottom"?Ee:lt+Ee},{align:j==="title"?gt<Ne?"left":"center":this.title?.alignValue},ne),Kt=(ne.width||(gt>Ne?this.chartWidth:ue.width)/$t)+"px";K.alignValue!==qt.align&&(K.placed=!1);let Yt=Math.round(K.css({width:Kt}).getBBox(ne.useHTML).height);if(qt.height=Yt,K.align(qt,!1,ue).attr({align:qt.align,scaleX:$t,scaleY:$t,"transform-origin":`${ue.x+ie*$t*xT(qt.align)} ${Ae}`}),!ne.floating){let Xt=Yt*(Yt<1.2*Ae?1:$t);Pe==="top"?C[0]=Math.ceil(C[0]+Xt):Pe==="bottom"&&(C[2]=Math.ceil(C[2]+Xt))}}},this),C[0]&&(T.title?.verticalAlign||"top")==="top"&&(C[0]+=T.title?.margin||0),C[2]&&T.caption?.verticalAlign==="bottom"&&(C[2]+=T.caption?.margin||0);let F=!this.titleOffset||this.titleOffset.join(",")!==C.join(",");this.titleOffset=C,$i(this,"afterLayOutTitles"),!this.isDirtyBox&&F&&(this.isDirtyBox=this.isDirtyLegend=F,this.hasRendered&&m&&this.isDirtyBox&&this.redraw())}getContainerBox(){let m=[].map.call(this.renderTo.children,T=>{if(T!==this.container){let R=T.style.display;return T.style.display="none",[T,R]}}),C={width:zE(this.renderTo,"width",!0)||0,height:zE(this.renderTo,"height",!0)||0};return m.filter(Boolean).forEach(([T,R])=>{T.style.display=R}),C}getChartSize(){let m=this.options.chart,C=m.width,T=m.height,R=this.getContainerBox(),D=R.height<=1||!this.renderTo.parentElement?.style.height&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,C||R.width||600),this.chartHeight=Math.max(0,Vu(T,this.chartWidth)||(D?400:R.height)),this.containerBox=R}temporaryDisplay(m){let C=this.renderTo,T;if(m)for(;C?.style;)C.hcOrigStyle&&(ai(C,C.hcOrigStyle),delete C.hcOrigStyle),C.hcOrigDetached&&(rb.body.removeChild(C),C.hcOrigDetached=!1),C=C.parentNode;else for(;C?.style&&(rb.body.contains(C)||C.parentNode||(C.hcOrigDetached=!0,rb.body.appendChild(C)),(zE(C,"display",!1)==="none"||C.hcOricDetached)&&(C.hcOrigStyle={display:C.style.display,height:C.style.height,overflow:C.style.overflow},T={display:"block",overflow:"hidden"},C!==this.renderTo&&(T.height=0),ai(C,T),C.offsetWidth||C.style.setProperty("display","block","important")),(C=C.parentNode)!==rb.body););}setClassName(m){this.container.className="highcharts-container "+(m||"")}getContainer(){let m,C=this.options,T=C.chart,R="data-highcharts-chart",D=ab(),F=this.renderTo,j=gf(mf(F,R));ib(j)&&Vg[j]&&Vg[j].hasRendered&&Vg[j].destroy(),mf(F,R,this.index),F.innerHTML=Ar.emptyHTML,T.skipClone||F.offsetWidth||this.temporaryDisplay(),this.getChartSize();let K=this.chartHeight,ne=this.chartWidth;ai(F,{overflow:"hidden"}),this.styledMode||(m=Vm({position:"relative",overflow:"hidden",width:ne+"px",height:K+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},T.style||{}));let ue=au("div",{id:D},m,F);this.container=ue,this.getChartSize(),ne!==this.chartWidth&&(ne=this.chartWidth,this.styledMode||ai(ue,{width:cd(T.style?.width,ne+"px")})),this.containerBox=this.getContainerBox(),this._cursor=ue.style.cursor;let ie=T.renderer||!Er?oh.getRendererType(T.renderer):st;if(this.renderer=new ie(ue,ne,K,void 0,T.forExport,C.exporting?.allowHTML,this.styledMode),ap(void 0,this),this.setClassName(T.className),this.styledMode)for(let me in C.defs)this.renderer.definition(C.defs[me]);else this.renderer.setStyle(T.style);this.renderer.chartIndex=this.index,$i(this,"afterGetContainer")}getMargins(m){let{spacing:C,margin:T,titleOffset:R}=this;this.resetMargins(),R[0]&&!Kp(T[0])&&(this.plotTop=Math.max(this.plotTop,R[0]+C[0])),R[2]&&!Kp(T[2])&&(this.marginBottom=Math.max(this.marginBottom,R[2]+C[2])),this.legend?.display&&this.legend.adjustMargins(T,C),$i(this,"getMargins"),m||this.getAxisMargins()}getAxisMargins(){let m=this,C=m.axisOffset=[0,0,0,0],T=m.colorAxis,R=m.margin,D=F=>{F.forEach(j=>{j.visible&&j.getOffset()})};m.hasCartesianSeries?D(m.axes):T?.length&&D(T),$a.forEach((F,j)=>{Kp(R[j])||(m[F]+=C[j])}),m.setChartSize()}getOptions(){return Zp(this.userOptions,Fm)}reflow(m){let C=this,T=C.containerBox,R=C.getContainerBox();delete C.pointer?.chartPosition,!C.exporting?.isPrinting&&!C.isResizing&&T&&R.width&&((R.width!==T.width||R.height!==T.height)&&(Zn.clearTimeout(C.reflowTimeout),C.reflowTimeout=ud(function(){C.container&&C.setSize(void 0,void 0,!1)},100*!!m)),C.containerBox=R)}setReflow(){let m=this,C=T=>{m.options?.chart.reflow&&m.hasLoaded&&m.reflow(T)};if(typeof ResizeObserver=="function")new ResizeObserver(C).observe(m.renderTo);else{let T=p1($v,"resize",C);p1(this,"destroy",T)}}setSize(m,C,T){let R=this,D=R.renderer;R.isResizing+=1,ap(T,R);let F=D.globalAnimation;R.oldChartHeight=R.chartHeight,R.oldChartWidth=R.chartWidth,m!==void 0&&(R.options.chart.width=m),C!==void 0&&(R.options.chart.height=C),R.getChartSize();let{chartWidth:j,chartHeight:K,scrollablePixelsX:ne=0,scrollablePixelsY:ue=0}=R;(R.isDirtyBox||j!==R.oldChartWidth||K!==R.oldChartHeight)&&(R.styledMode||(F?Fg:ai)(R.container,{width:`${j+ne}px`,height:`${K+ue}px`},F),R.setChartSize(!0),D.setSize(j,K,F),R.axes.forEach(function(ie){ie.isDirty=!0,ie.setScale()}),R.isDirtyLegend=!0,R.isDirtyBox=!0,R.layOutTitles(),R.getMargins(),R.redraw(F),R.oldChartHeight=void 0,$i(R,"resize"),setTimeout(()=>{R&&$i(R,"endResize")},AT(F).duration)),R.isResizing-=1}setChartSize(m){let C,T,R,D,{chartHeight:F,chartWidth:j,inverted:K,spacing:ne,renderer:ue}=this,ie=this.clipOffset,me=Math[K?"floor":"round"];this.plotLeft=C=Math.round(this.plotLeft),this.plotTop=T=Math.round(this.plotTop),this.plotWidth=R=Math.max(0,Math.round(j-C-(this.marginRight??0))),this.plotHeight=D=Math.max(0,Math.round(F-T-(this.marginBottom??0))),this.plotSizeX=K?D:R,this.plotSizeY=K?R:D,this.spacingBox=ue.spacingBox={x:ne[3],y:ne[0],width:j-ne[3]-ne[1],height:F-ne[0]-ne[2]},this.plotBox=ue.plotBox={x:C,y:T,width:R,height:D},ie&&(this.clipBox={x:me(ie[3]),y:me(ie[0]),width:me(this.plotSizeX-ie[1]-ie[3]),height:me(this.plotSizeY-ie[0]-ie[2])}),m||(this.axes.forEach(function(Ee){Ee.setAxisSize(),Ee.setAxisTranslation()}),ue.alignElements()),$i(this,"afterSetChartSize",{skipAxes:m})}resetMargins(){$i(this,"resetMargins");let m=this,C=m.options.chart,T=C.plotBorderWidth||0,R=Math.round(T)/2;["margin","spacing"].forEach(D=>{let F=C[D],j=KS(F)?F:[F,F,F,F];["Top","Right","Bottom","Left"].forEach((K,ne)=>{m[D][ne]=C[`${D}${K}`]??j[ne]})}),$a.forEach((D,F)=>{m[D]=m.margin[F]??m.spacing[F]}),m.axisOffset=[0,0,0,0],m.clipOffset=[R,R,R,R],m.plotBorderWidth=T}drawChartBox(){let m=this.options.chart,C=this.renderer,T=this.chartWidth,R=this.chartHeight,D=this.styledMode,F=this.plotBGImage,j=m.backgroundColor,K=m.plotBackgroundColor,ne=m.plotBackgroundImage,ue=this.plotLeft,ie=this.plotTop,me=this.plotWidth,Ee=this.plotHeight,Ae=this.plotBox,Pe=this.clipRect,Fe=this.clipBox,Ne=this.chartBackground,lt=this.plotBackground,gt=this.plotBorder,$t,qt,Kt,Yt="animate";Ne||(this.chartBackground=Ne=C.rect().addClass("highcharts-background").add(),Yt="attr"),D?$t=qt=Ne.strokeWidth():(qt=($t=m.borderWidth||0)+8*!!m.shadow,Kt={fill:j||"none"},($t||Ne["stroke-width"])&&(Kt.stroke=m.borderColor,Kt["stroke-width"]=$t),Ne.attr(Kt).shadow(m.shadow)),Ne[Yt]({x:qt/2,y:qt/2,width:T-qt-$t%2,height:R-qt-$t%2,r:m.borderRadius}),Yt="animate",lt||(Yt="attr",this.plotBackground=lt=C.rect().addClass("highcharts-plot-background").add()),lt[Yt](Ae),!D&&(lt.attr({fill:K||"none"}).shadow(m.plotShadow),ne&&(F?(ne!==F.attr("href")&&F.attr("href",ne),F.animate(Ae)):this.plotBGImage=C.image(ne,ue,ie,me,Ee).add())),Pe?Pe.animate({width:Fe.width,height:Fe.height}):this.clipRect=C.clipRect(Fe),Yt="animate",gt||(Yt="attr",this.plotBorder=gt=C.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),D||gt.attr({stroke:m.plotBorderColor,"stroke-width":m.plotBorderWidth||0,fill:"none"}),gt[Yt](gt.crisp(Ae,-gt.strokeWidth())),this.isDirtyBox=!1,$i(this,"afterDrawChartBox")}propFromSeries(){let m,C,T,R=this,D=R.options.chart,F=R.options.series;["inverted","angular","polar"].forEach(function(j){for(C=ga[D.type],T=D[j]||C&&C.prototype[j],m=F?.length;!T&&m--;)(C=ga[F[m].type])&&C.prototype[j]&&(T=!0);R[j]=T})}linkSeries(m){let C=this,T=C.series;T.forEach(function(R){R.linkedSeries.length=0}),T.forEach(function(R){let{linkedTo:D}=R.options;if(ZS(D)){let F;(F=D===":previous"?C.series[R.index-1]:C.get(D))&&F.linkedParent!==R&&(F.linkedSeries.push(R),R.linkedParent=F,F.enabledDataSorting&&R.setDataSortingOptions(),R.visible=cd(R.options.visible,F.options.visible,R.visible))}}),$i(this,"afterLinkSeries",{isUpdating:m})}renderSeries(){this.series.forEach(function(m){m.translate(),m.render()})}render(){let m=this.axes,C=this.colorAxis,T=this.renderer,R=this.options.chart.axisLayoutRuns||2,D=ue=>{ue.forEach(ie=>{ie.visible&&ie.render()})},F=0,j=!0,K,ne=0;for(let ue of(this.setTitle(),$i(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),m)){let{options:ie}=ue,{labels:me}=ie;if(this.hasCartesianSeries&&ue.horiz&&ue.visible&&me.enabled&&ue.series.length&&ue.coll!=="colorAxis"&&!this.polar){F=ie.tickLength,ue.createGroups();let Ee=new su(ue,0,"",!0),Ae=Ee.createLabel("x",me);if(Ee.destroy(),Ae&&cd(me.reserveSpace,!ib(ie.crossing))&&(F=Ae.getBBox().height+me.distance+Math.max(ie.offset||0,0)),F){Ae?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-F,0);(j||K||R>1)&&ne<R;){let ue=this.plotWidth,ie=this.plotHeight;for(let me of m)ne===0?me.setScale():(me.horiz&&j||!me.horiz&&K)&&me.setTickInterval(!0);ne===0?this.getAxisMargins():this.getMargins(),j=ue/this.plotWidth>(ne?1:1.1),K=ie/this.plotHeight>(ne?1:1.05),ne++}this.drawChartBox(),this.hasCartesianSeries?D(m):C?.length&&D(C),this.seriesGroup||(this.seriesGroup=T.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=T.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(m){let C=this,T=Hm(!0,this.options.credits,m);T.enabled&&!this.credits&&(this.credits=this.renderer.text(T.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){T.href&&($v.location.href=T.href)}).attr({align:T.position.align,zIndex:8}),C.styledMode||this.credits.css(T.style),this.credits.add().align(T.position),this.credits.update=function(R){C.credits=C.credits.destroy(),C.addCredits(R)})}destroy(){let m,C=this,T=C.axes,R=C.series,D=C.container,F=D?.parentNode;for($i(C,"destroy"),C.renderer.forExport?qS(Vg,C):Vg[C.index]=void 0,ke.chartCount--,C.renderTo.removeAttribute("data-highcharts-chart"),uh(C),m=T.length;m--;)T[m]=T[m].destroy();for(this.scroller?.destroy?.(),m=R.length;m--;)R[m]=R[m].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(j=>{C[j]=C[j]?.destroy?.()}),D&&(D.innerHTML=Ar.emptyHTML,uh(D),F&&UE(D)),m1(C,function(j,K){delete C[K]})}firstRender(){let m=this,C=m.options;m.getContainer(),m.resetMargins(),m.setChartSize(),m.propFromSeries(),m.createAxes();let T=jE(C.series)?C.series:[];C.series=[],T.forEach(function(R){m.initSeries(R)}),m.linkSeries(),m.setSortedData(),$i(m,"beforeRender"),m.render(),m.pointer?.getChartPosition(),m.renderer.imgCount||m.hasLoaded||m.onload(),m.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(m){m&&this.index!==void 0&&m.apply(this,[this])},this),$i(this,"load"),$i(this,"render"),Kp(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:m,title:C}=this;m&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(C?.element.textContent||"").replace(/</g,"&lt;")}),m.accessibility&&m.accessibility.enabled===!1||$h('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(m,C,T){let R,D=this;return m&&(C=cd(C,!0),$i(D,"addSeries",{options:m},function(){R=D.initSeries(m),D.isDirtyLegend=!0,D.linkSeries(),R.enabledDataSorting&&R.setData(m.data,!1),$i(D,"afterAddSeries",{series:R}),C&&D.redraw(T)})),R}addAxis(m,C,T,R){return this.createAxis(C?"xAxis":"yAxis",{axis:m,redraw:T,animation:R})}addColorAxis(m,C,T){return this.createAxis("colorAxis",{axis:m,redraw:C,animation:T})}createAxis(m,C){let T=new Mu(this,C.axis,m);return cd(C.redraw,!0)&&this.redraw(C.animation),T}showLoading(m){let C=this,T=C.options,R=T.loading,D=function(){F&&ai(F,{left:C.plotLeft+"px",top:C.plotTop+"px",width:C.plotWidth+"px",height:C.plotHeight+"px"})},F=C.loadingDiv,j=C.loadingSpan;F||(C.loadingDiv=F=au("div",{className:"highcharts-loading highcharts-loading-hidden"},null,C.container)),j||(C.loadingSpan=j=au("span",{className:"highcharts-loading-inner"},null,F),p1(C,"redraw",D)),F.className="highcharts-loading",Ar.setElementHTML(j,cd(m,T.lang.loading,"")),!C.styledMode&&(ai(F,Vm(R.style,{zIndex:10})),ai(j,R.labelStyle),C.loadingShown||(ai(F,{opacity:0,display:""}),Fg(F,{opacity:R.style.opacity||.5},{duration:R.showDuration||0}))),C.loadingShown=!0,D()}hideLoading(){let m=this.options,C=this.loadingDiv;C&&(C.className="highcharts-loading highcharts-loading-hidden",this.styledMode||Fg(C,{opacity:0},{duration:m.loading.hideDuration||100,complete:function(){ai(C,{display:"none"})}})),this.loadingShown=!1}update(m,C,T,R){let D,F,j,K=this,ne={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},ue=m.isResponsiveOptions,ie=[];$i(K,"update",{options:m}),ue||K.setResponsive(!1,!0),m=Zp(m,K.options),K.userOptions=Hm(K.userOptions,m);let me=m.chart;me&&(Hm(!0,K.options.chart,me),this.setZoomOptions(),"className"in me&&K.setClassName(me.className),("inverted"in me||"polar"in me||"type"in me)&&(K.propFromSeries(),D=!0),"alignTicks"in me&&(D=!0),"events"in me&&Wn(this,me),m1(me,function(Pe,Fe){K.propsRequireUpdateSeries.indexOf("chart."+Fe)!==-1&&(F=!0),K.propsRequireDirtyBox.indexOf(Fe)!==-1&&(K.isDirtyBox=!0),K.propsRequireReflow.indexOf(Fe)!==-1&&(K.isDirtyBox=!0,ue||(j=!0))}),!K.styledMode&&me.style&&K.renderer.setStyle(K.options.chart.style||{})),!K.styledMode&&m.colors&&(this.options.colors=m.colors),m1(m,function(Pe,Fe){K[Fe]&&typeof K[Fe].update=="function"?K[Fe].update(Pe,!1):typeof K[ne[Fe]]=="function"?K[ne[Fe]](Pe):Fe!=="colors"&&K.collectionsWithUpdate.indexOf(Fe)===-1&&Hm(!0,K.options[Fe],m[Fe]),Fe!=="chart"&&K.propsRequireUpdateSeries.indexOf(Fe)!==-1&&(F=!0)}),this.collectionsWithUpdate.forEach(function(Pe){m[Pe]&&(Os(m[Pe]).forEach(function(Fe,Ne){let lt,gt=Kp(Fe.id);gt&&(lt=K.get(Fe.id)),!lt&&K[Pe]&&(lt=K[Pe][cd(Fe.index,Ne)])&&(gt&&Kp(lt.options.id)||lt.options.isInternal)&&(lt=void 0),lt&&lt.coll===Pe&&(lt.update(Fe,!1),T&&(lt.touched=!0)),!lt&&T&&K.collectionsWithInit[Pe]&&(K.collectionsWithInit[Pe][0].apply(K,[Fe].concat(K.collectionsWithInit[Pe][1]||[]).concat([!1])).touched=!0)}),T&&K[Pe].forEach(function(Fe){Fe.touched||Fe.options.isInternal?delete Fe.touched:ie.push(Fe)}))}),ie.forEach(function(Pe){Pe.chart&&Pe.remove&&Pe.remove(!1)}),D&&K.axes.forEach(function(Pe){Pe.update({},!1)}),F&&K.getSeriesOrderByLinks().forEach(function(Pe){Pe.chart&&Pe.update({},!1)},this);let Ee=me?.width,Ae=me&&(ZS(me.height)?Vu(me.height,Ee||K.chartWidth):me.height);j||ib(Ee)&&Ee!==K.chartWidth||ib(Ae)&&Ae!==K.chartHeight?K.setSize(Ee,Ae,R):cd(C,!0)&&K.redraw(R),$i(K,"afterUpdate",{options:m,redraw:C,animation:R})}setSubtitle(m,C){this.applyDescription("subtitle",m),this.layOutTitles(C)}setCaption(m,C){this.applyDescription("caption",m),this.layOutTitles(C)}showResetZoom(){let m=this,C=Fm.lang,T=m.zooming.resetButton,R=T.theme,D=T.relativeTo==="chart"||T.relativeTo==="spacingBox"?null:"plotBox";function F(){m.zoomOut()}$i(this,"beforeShowResetZoom",null,function(){m.resetZoomButton=m.renderer.button(C.resetZoom,null,null,F,R).attr({align:T.position.align,title:C.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(T.position,!1,D)}),$i(this,"afterShowResetZoom")}zoomOut(){$i(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(m,C){let T=this,R=typeof C=="object"?C:{enabled:C,type:"x"},D=R.type,F=D&&T[{x:"xAxis",xy:"axes",y:"yAxis"}[D]].filter(K=>K.options.panningEnabled&&!K.options.isInternal),j=T.options.chart;j?.panning&&(j.panning=R),$i(this,"pan",{originalEvent:m},()=>{T.transform({axes:F,event:m,to:{x:m.chartX-(T.mouseDownX||0),y:m.chartY-(T.mouseDownY||0)},trigger:"pan"}),ai(T.container,{cursor:"move"})})}transform(m){let{axes:C=this.axes,event:T,from:R={},reset:D,selection:F,to:j={},trigger:K}=m,{inverted:ne,time:ue}=this;this.hoverPoints?.forEach(Ae=>Ae.setState()),$i(this,"transform",m);let ie=m.hasZoomed||!1,me,Ee;for(let Ae of C){let{horiz:Pe,len:Fe,minPointOffset:Ne=0,options:lt,reversed:gt}=Ae,$t=Pe?"width":"height",qt=Pe?"x":"y",Kt=cd(j[$t],Ae.len),Yt=cd(R[$t],Ae.len),Xt=10>Math.abs(Kt)?1:Kt/Yt,Kn=(R[qt]||0)+Yt/2-Ae.pos,So=Kn-((j[qt]??Ae.pos)+Kt/2-Ae.pos)/Xt,Dn=gt&&!ne||!gt&&ne?-1:1;if(!D&&(Kn<0||Kn>Ae.len))continue;let ts=Ae.chart.polar||Ae.isOrdinal?0:Ne*Dn||0,sr=Ae.toValue(So,!0),dr=Ae.toValue(So+Fe/Xt,!0),hs=sr+ts,Rs=dr-ts,Qs=Ae.allExtremes;if(F&&F[Ae.coll].push({axis:Ae,min:Math.min(sr,dr),max:Math.max(sr,dr)}),hs>Rs&&([hs,Rs]=[Rs,hs]),Xt===1&&!D&&Ae.coll==="yAxis"&&!Qs){for(let zd of Ae.series){let rm=zd.getExtremes(zd.getProcessedData(!0).modified.getColumn("y")||[],!0);Qs??(Qs={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),ib(rm.dataMin)&&ib(rm.dataMax)&&(Qs.dataMin=Math.min(rm.dataMin,Qs.dataMin),Qs.dataMax=Math.max(rm.dataMax,Qs.dataMax))}Ae.allExtremes=Qs}let{dataMin:La,dataMax:Oi,min:cu,max:Mr}=Vm(Ae.getExtremes(),Qs||{}),Sr=ue.parse(lt.min),fi=ue.parse(lt.max),bi=La??Sr,qr=Oi??fi,tl=Rs-hs,Ii=Ae.categories?0:Math.min(tl,qr-bi),Hl=bi-Ii*(Kp(Sr)?0:lt.minPadding),Uu=qr+Ii*(Kp(fi)?0:lt.maxPadding),Ud=Ae.allowZoomOutside||Xt===1||K!=="zoom"&&Xt>1,pp=Math.min(Sr??Hl,Hl,Ud?cu:Hl),wf=Math.max(fi??Uu,Uu,Ud?Mr:Uu);(!Ae.isOrdinal||Xt!==1||D)&&(hs<pp&&(hs=pp,Xt>=1&&(Rs=hs+tl)),Rs>wf&&(Rs=wf,Xt>=1&&(hs=Rs-tl)),(D||Ae.series.length&&(hs!==cu||Rs!==Mr)&&hs>=pp&&Rs<=wf)&&(F?F[Ae.coll].push({axis:Ae,min:hs,max:Rs}):(Ae.isPanning=K!=="zoom",Ae.isPanning&&(Ee=!0),Ae.setExtremes(D?void 0:hs,D?void 0:Rs,!1,!1,{move:So,trigger:K,scale:Xt}),!D&&(hs>pp||Rs<wf)&&K!=="mousewheel"&&(me=!0)),ie=!0),this.hasCartesianSeries||D||K==="mousewheel"||(me=!0),T&&(this[Pe?"mouseDownX":"mouseDownY"]=T[Pe?"chartX":"chartY"]))}return ie&&(F?$i(this,"selection",F,()=>{delete m.selection,m.trigger="zoom",this.transform(m)}):(!me||Ee||this.resetZoomButton?!me&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(K==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),ie}}Vm(Hg.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Hg.prototype.addAxis,[!0]],yAxis:[Hg.prototype.addAxis,[!1]],series:[Hg.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:YO}=Oa,{composed:YS}=ke,{addEvent:lp,createElement:$m,css:a0,defined:Um,erase:WE,merge:GE,pushUnique:Na}=Zn;function cp(){let Q=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!Q&&(this.scrollablePlotArea=Q=new up(this)),Q?.applyFixed()}function dd(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class up{static compose(m,C,T){Na(YS,this.compose)&&(lp(m,"afterInit",dd),lp(C,"afterSetChartSize",R=>this.afterSetSize(R.target,R)),lp(C,"render",cp),lp(T,"show",dd))}static afterSetSize(m,C){let T,R,D,{minWidth:F,minHeight:j}=m.options.chart.scrollablePlotArea||{},{clipBox:K,plotBox:ne,inverted:ue,renderer:ie}=m;if(!ie.forExport)if(F?(m.scrollablePixelsX=T=Math.max(0,F-m.chartWidth),T&&(m.scrollablePlotBox=GE(m.plotBox),ne.width=m.plotWidth+=T,K[ue?"height":"width"]+=T,D=!0)):j&&(m.scrollablePixelsY=R=Math.max(0,j-m.chartHeight),Um(R)&&(m.scrollablePlotBox=GE(m.plotBox),ne.height=m.plotHeight+=R,K[ue?"width":"height"]+=R,D=!1)),Um(D)){if(!C.skipAxes)for(let me of m.axes)(me.horiz===D||m.hasParallelCoordinates&&me.coll==="yAxis")&&(me.setAxisSize(),me.setAxisTranslation())}else delete m.scrollablePlotBox}constructor(m){let C,T=m.options.chart,R=oh.getRendererType(),D=T.scrollablePlotArea||{},F=this.moveFixedElements.bind(this),j={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};m.scrollablePixelsX&&(j.overflowX="auto"),m.scrollablePixelsY&&(j.overflowY="auto"),this.chart=m;let K=this.parentDiv=$m("div",{className:"highcharts-scrolling-parent"},{position:"relative"},m.renderTo),ne=this.scrollingContainer=$m("div",{className:"highcharts-scrolling"},j,K),ue=this.innerContainer=$m("div",{className:"highcharts-inner-container"},void 0,ne),ie=this.fixedDiv=$m("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(T.style?.zIndex||0)+2,top:0},void 0,!0),me=this.fixedRenderer=new R(ie,m.chartWidth,m.chartHeight,T.style);this.mask=me.path().attr({fill:T.backgroundColor||"#fff","fill-opacity":D.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),ne.parentNode.insertBefore(ie,ne),a0(m.renderTo,{overflow:"visible"}),lp(m,"afterShowResetZoom",F),lp(m,"afterApplyDrilldown",F),lp(m,"afterLayOutTitles",F),lp(ne,"scroll",()=>{let{pointer:Ee,hoverPoint:Ae}=m;Ee&&(delete Ee.chartPosition,Ae&&(C=Ae),Ee.runPointActions(void 0,C,!0))}),ue.appendChild(m.container)}applyFixed(){let{chart:m,fixedRenderer:C,isDirty:T,scrollingContainer:R}=this,{axisOffset:D,chartWidth:F,chartHeight:j,container:K,plotHeight:ne,plotLeft:ue,plotTop:ie,plotWidth:me,scrollablePixelsX:Ee=0,scrollablePixelsY:Ae=0}=m,{scrollPositionX:Pe=0,scrollPositionY:Fe=0}=m.options.chart.scrollablePlotArea||{},Ne=F+Ee,lt=j+Ae;C.setSize(F,j),(T??!0)&&(this.isDirty=!1,this.moveFixedElements()),YO(m.container),a0(K,{width:`${Ne}px`,height:`${lt}px`}),m.renderer.boxWrapper.attr({width:Ne,height:lt,viewBox:[0,0,Ne,lt].join(" ")}),m.chartBackground?.attr({width:Ne,height:lt}),a0(R,{width:`${F}px`,height:`${j}px`}),Um(T)||(R.scrollLeft=Ee*Pe,R.scrollTop=Ae*Fe);let gt=ie-D[0]-1,$t=ue-D[3]-1,qt=ie+ne+D[2]+1,Kt=ue+me+D[1]+1,Yt=ue+me-Ee,Xt=ie+ne-Ae,Kn=[["M",0,0]];Ee?Kn=[["M",0,gt],["L",ue-1,gt],["L",ue-1,qt],["L",0,qt],["Z"],["M",Yt,gt],["L",F,gt],["L",F,qt],["L",Yt,qt],["Z"]]:Ae&&(Kn=[["M",$t,0],["L",$t,ie-1],["L",Kt,ie-1],["L",Kt,0],["Z"],["M",$t,Xt],["L",$t,j],["L",Kt,j],["L",Kt,Xt],["Z"]]),m.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:Kn})}moveFixedElements(){let m,{container:C,inverted:T,scrollablePixelsX:R,scrollablePixelsY:D}=this.chart,F=this.fixedRenderer,j=up.fixedSelectors;if(R&&!T?m=".highcharts-yaxis":R&&T||D&&!T?m=".highcharts-xaxis":D&&T&&(m=".highcharts-yaxis"),m&&!(this.chart.hasParallelCoordinates&&m===".highcharts-yaxis"))for(let K of[`${m}:not(.highcharts-radial-axis)`,`${m}-labels:not(.highcharts-radial-axis-labels)`])Na(j,K);else for(let K of[".highcharts-xaxis",".highcharts-yaxis"])for(let ne of[`${K}:not(.highcharts-radial-axis)`,`${K}-labels:not(.highcharts-radial-axis-labels)`])WE(j,ne);for(let K of j)[].forEach.call(C.querySelectorAll(K),ne=>{(ne.namespaceURI===F.SVG_NS?F.box:F.box.parentNode).appendChild(ne),ne.style.pointerEvents="auto"})}}up.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:hd}=Br,{series:lb}=Is,{destroyObjectProperties:Cc,fireEvent:Fc,getAlignFactor:Uv,isNumber:Nn,pick:Hu}=Zn,l0=class{constructor(Q,m,C,T,R){let D=Q.chart.inverted,F=Q.reversed;this.axis=Q;let j=this.isNegative=!!C!=!!F;this.options=m=m||{},this.x=T,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=R,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:m.align||(D?j?"left":"right":"center"),verticalAlign:m.verticalAlign||(D?"middle":j?"bottom":"top"),y:m.y,x:m.x},this.textAlign=m.textAlign||(D?j?"right":"left":"center")}destroy(){Cc(this,this.axis)}render(Q){let m=this.axis.chart,C=this.options,T=C.format,R=T?hd(T,this,m):C.formatter.call(this);if(this.label)this.label.attr({text:R,visibility:"hidden"});else{this.label=m.renderer.label(R,null,void 0,C.shape,void 0,void 0,C.useHTML,!1,"stack-labels");let D={r:C.borderRadius||0,text:R,padding:Hu(C.padding,5),visibility:"hidden"};m.styledMode||(D.fill=C.backgroundColor,D.stroke=C.borderColor,D["stroke-width"]=C.borderWidth,this.label.css(C.style||{})),this.label.attr(D),this.label.added||this.label.add(Q)}this.label.labelrank=m.plotSizeY,Fc(this,"afterRender")}setOffset(Q,m,C,T,R,D){let{alignOptions:F,axis:j,label:K,options:ne,textAlign:ue}=this,ie=j.chart,me=this.getStackBox({xOffset:Q,width:m,boxBottom:C,boxTop:T,defaultX:R,xAxis:D}),{verticalAlign:Ee}=F;if(K&&me){let Ae=K.getBBox(void 0,0),Pe=K.padding,Fe=Hu(ne.overflow,"justify")==="justify",Ne;F.x=ne.x||0,F.y=ne.y||0;let{x:lt,y:gt}=this.adjustStackPosition({labelBox:Ae,verticalAlign:Ee,textAlign:ue});me.x-=lt,me.y-=gt,K.align(F,!1,me),(Ne=ie.isInsidePlot(K.alignAttr.x+F.x+lt,K.alignAttr.y+F.y+gt))||(Fe=!1),Fe&&lb.prototype.justifyDataLabel.call(j,K,F,K.alignAttr,Ae,me),K.attr({x:K.alignAttr.x,y:K.alignAttr.y,rotation:ne.rotation,rotationOriginX:Ae.width*Uv(ne.textAlign||"center"),rotationOriginY:Ae.height/2}),Hu(!Fe&&ne.crop,!0)&&(Ne=Nn(K.x)&&Nn(K.y)&&ie.isInsidePlot(K.x-Pe+(K.width||0),K.y)&&ie.isInsidePlot(K.x+Pe,K.y)),K[Ne?"show":"hide"]()}Fc(this,"afterSetOffset",{xOffset:Q,width:m})}adjustStackPosition({labelBox:Q,verticalAlign:m,textAlign:C}){return{x:Q.width/2+Q.width/2*(2*Uv(C)-1),y:Q.height/2*2*(1-Uv(m))}}getStackBox(Q){let m=this.axis,C=m.chart,{boxTop:T,defaultX:R,xOffset:D,width:F,boxBottom:j}=Q,K=m.stacking.usePercentage?100:Hu(T,this.total,0),ne=m.toPixels(K),ue=Q.xAxis||C.xAxis[0],ie=Hu(R,ue.translate(this.x))+D,me=Math.abs(ne-m.toPixels(j||Nn(m.min)&&m.logarithmic&&m.logarithmic.lin2log(m.min)||0)),Ee=C.inverted,Ae=this.isNegative;return Ee?{x:(Ae?ne:ne-me)-C.plotLeft,y:ue.height-ie-F+ue.top-C.plotTop,width:me,height:F}:{x:ie+ue.transB-C.plotLeft,y:(Ae?ne-me:ne)-C.plotTop,width:F,height:me}}},{getDeferredAnimation:sc}=Oa,{series:{prototype:vf}}=Is,{addEvent:Uh,correctFloat:c0,defined:zm,destroyObjectProperties:OT,fireEvent:$d,isNumber:di,objectEach:$u,pick:cb}=Zn;function ul(){let Q=this.inverted;this.axes.forEach(m=>{m.stacking?.stacks&&m.hasVisibleSeries&&(m.stacking.oldStacks=m.stacking.stacks)}),this.series.forEach(m=>{let C=m.xAxis?.options||{};m.options.stacking&&m.reserveSpace()&&(m.stackKey=[m.type,cb(m.options.stack,""),Q?C.top:C.left,Q?C.height:C.width].join(","))})}function IT(){let Q=this.stacking;if(Q){let m=Q.stacks;$u(m,(C,T)=>{OT(C),delete m[T]}),Q.stackTotalGroup?.destroy()}}function XS(){this.stacking||(this.stacking=new fd(this))}function Yp(Q,m,C,T){return!zm(Q)||Q.x!==m||T&&Q.stackKey!==T?Q={x:m,index:0,key:T,stackKey:T}:Q.index++,Q.key=[C,m,Q.index].join(","),Q}function qE(){let Q,m=this,C=m.yAxis,T=m.stackKey||"",R=C.stacking.stacks,D=m.getColumn("x",!0),F=m.options.stacking,j=m[F+"Stacker"];j&&[T,"-"+T].forEach(K=>{let ne=D.length,ue,ie,me;for(;ne--;)ue=D[ne],Q=m.getStackIndicator(Q,ue,m.index,K),ie=R[K]?.[ue],(me=ie?.points[Q.key||""])&&j.call(m,me,ie,ne)})}function dh(Q,m,C){let T=m.total?100/m.total:0;Q[0]=c0(Q[0]*T),Q[1]=c0(Q[1]*T),this.stackedYData[C]=Q[1]}function KE(Q){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?vf.setStackedPoints.call(this,Q,"group"):Q.stacking.resetStacks())}function nn(Q,m){let C,T,R,D,F,j,K,ne=m||this.options.stacking;if(!ne||!this.reserveSpace()||({group:"xAxis"}[ne]||"yAxis")!==Q.coll)return;let ue=this.getColumn("x",!0),ie=this.getColumn(this.pointValKey||"y",!0),me=[],Ee=ie.length,Ae=this.options,Pe=Ae.threshold||0,Fe=Ae.startFromThreshold?Pe:0,Ne=Ae.stack,lt=m?`${this.type},${ne}`:this.stackKey||"",gt="-"+lt,$t=this.negStacks,qt=Q.stacking,Kt=qt.stacks,Yt=qt.oldStacks;for(qt.stacksTouched+=1,K=0;K<Ee;K++){let Xt=ue[K]||0,Kn=ie[K],So=di(Kn)&&Kn||0;j=(C=this.getStackIndicator(C,Xt,this.index)).key||"",Kt[F=(T=$t&&So<(Fe?0:Pe))?gt:lt]||(Kt[F]={}),Kt[F][Xt]||(Yt[F]?.[Xt]?(Kt[F][Xt]=Yt[F][Xt],Kt[F][Xt].total=null):Kt[F][Xt]=new l0(Q,Q.options.stackLabels,!!T,Xt,Ne)),R=Kt[F][Xt],Kn!==null?(R.points[j]=R.points[this.index]=[cb(R.cumulative,Fe)],zm(R.cumulative)||(R.base=j),R.touched=qt.stacksTouched,C.index>0&&this.singleStacks===!1&&(R.points[j][0]=R.points[this.index+","+Xt+",0"][0])):(delete R.points[j],delete R.points[this.index]);let Dn=R.total||0;ne==="percent"?(D=T?lt:gt,Dn=$t&&Kt[D]?.[Xt]?(D=Kt[D][Xt]).total=Math.max(D.total||0,Dn)+Math.abs(So):c0(Dn+Math.abs(So))):ne==="group"?di(Kn)&&Dn++:Dn=c0(Dn+So),ne==="group"?R.cumulative=(Dn||1)-1:R.cumulative=c0(cb(R.cumulative,Fe)+So),R.total=Dn,Kn!==null&&(R.points[j].push(R.cumulative),me[K]=R.cumulative,R.hasValidPoints=!0)}ne==="percent"&&(qt.usePercentage=!0),ne!=="group"&&(this.stackedYData=me),qt.oldStacks={}}class fd{constructor(m){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=m}buildStacks(){let m,C,T=this.axis,R=T.series,D=T.coll==="xAxis",F=T.options.reversedStacks,j=R.length;for(this.resetStacks(),this.usePercentage=!1,C=j;C--;)m=R[F?C:j-C-1],D&&m.setGroupedPoints(T),m.setStackedPoints(T);if(!D)for(C=0;C<j;C++)R[C].modifyStacks();$d(T,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,$u(this.stacks,m=>{$u(m,C=>{C.cumulative=C.total})}))}resetStacks(){$u(this.stacks,m=>{$u(m,(C,T)=>{di(C.touched)&&C.touched<this.stacksTouched?(C.destroy(),delete m[T]):(C.total=null,C.cumulative=null)})})}renderStackTotals(){let m=this.axis,C=m.chart,T=C.renderer,R=this.stacks,D=sc(C,m.options.stackLabels?.animation||!1),F=this.stackTotalGroup=this.stackTotalGroup||T.g("stack-labels").attr({zIndex:6,opacity:0}).add();F.translate(C.plotLeft,C.plotTop),$u(R,j=>{$u(j,K=>{K.render(F)})}),F.animate({opacity:1},D)}}(z||(z={})).compose=function(Q,m,C){let T=m.prototype,R=C.prototype;T.getStacks||(Uh(Q,"init",XS),Uh(Q,"destroy",IT),T.getStacks=ul,R.getStackIndicator=Yp,R.modifyStacks=qE,R.percentStacker=dh,R.setGroupedPoints=KE,R.setStackedPoints=nn)};let u0=z,{defined:Ua,merge:hh,isObject:Vc}=Zn;class hi extends ld{drawGraph(){let m=this.options,C=(this.gappedPath||this.getGraphPath).call(this),T=this.chart.styledMode;[this,...this.zones].forEach((R,D)=>{let F,j=R.graph,K=j?"animate":"attr",ne=R.dashStyle||m.dashStyle;j?(j.endX=this.preventGraphAnimation?null:C.xMap,j.animate({d:C})):C.length&&(R.graph=j=this.chart.renderer.path(C).addClass("highcharts-graph"+(D?` highcharts-zone-graph-${D-1} `:" ")+(D&&R.className||"")).attr({zIndex:1}).add(this.group)),j&&!T&&(F={stroke:!D&&m.lineColor||R.color||this.color||"#cccccc","stroke-width":m.lineWidth||0,fill:this.fillGraph&&this.color||"none"},ne?F.dashstyle=ne:m.linecap!=="square"&&(F["stroke-linecap"]=F["stroke-linejoin"]="round"),j[K](F).shadow(m.shadow&&hh({filterUnits:"userSpaceOnUse"},Vc(m.shadow)?m.shadow:{}))),j&&(j.startX=C.xMap,j.isArea=C.isArea)})}getGraphPath(m,C,T){let R=this,D=R.options,F=[],j=[],K,ne=D.step,ue=(m=m||R.points).reversed;return ue&&m.reverse(),(ne={right:1,center:2}[ne]||ne&&3)&&ue&&(ne=4-ne),(m=this.getValidPoints(m,!1,D.nullInteraction||!(D.connectNulls&&!C&&!T))).forEach(function(ie,me){let Ee,Ae=ie.plotX,Pe=ie.plotY,Fe=m[me-1],Ne=ie.isNull||typeof Pe!="number";(ie.leftCliff||Fe?.rightCliff)&&!T&&(K=!0),Ne&&!Ua(C)&&me>0?K=!D.connectNulls:Ne&&!C?K=!0:(me===0||K?Ee=[["M",ie.plotX,ie.plotY]]:R.getPointSpline?Ee=[R.getPointSpline(m,ie,me)]:ne?(Ee=ne===1?[["L",Fe.plotX,Pe]]:ne===2?[["L",(Fe.plotX+Ae)/2,Fe.plotY],["L",(Fe.plotX+Ae)/2,Pe]]:[["L",Ae,Fe.plotY]]).push(["L",Ae,Pe]):Ee=[["L",Ae,Pe]],j.push(ie.x),ne&&(j.push(ie.x),ne===2&&j.push(ie.x)),F.push.apply(F,Ee),K=!1)}),F.xMap=j,R.graphPath=F,F}}hi.defaultOptions=hh(ld.defaultOptions,{legendSymbol:"lineMarker"}),Is.registerSeriesType("line",hi);let{seriesTypes:{line:JS}}=Is,{extend:zv,merge:ZE,objectEach:jv,pick:$g}=Zn;class QS extends JS{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:m,options:C}=this;[this,...this.zones].forEach((T,R)=>{let D={},F=T.fillColor||C.fillColor,j=T.area,K=j?"animate":"attr";j?(j.endX=this.preventGraphAnimation?null:m.xMap,j.animate({d:m})):(D.zIndex=0,(j=T.area=this.chart.renderer.path(m).addClass("highcharts-area"+(R?` highcharts-zone-area-${R-1} `:" ")+(R&&T.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(D.fill=F||T.color||this.color,D["fill-opacity"]=F?1:C.fillOpacity??.75,j.css({pointerEvents:this.stickyTracking?"none":"auto"})),j[K](D),j.startX=m.xMap,j.shiftUnit=C.step?2:1})}getGraphPath(m){let C,T,R,D=JS.prototype.getGraphPath,F=this.options,j=F.stacking,K=this.yAxis,ne=[],ue=[],ie=this.index,me=K.stacking.stacks[this.stackKey],Ee=F.threshold,Ae=Math.round(K.getThreshold(F.threshold)),Pe=$g(F.connectNulls,j==="percent"),Fe=function(Kt,Yt,Xt){let Kn=m[Kt],So=j&&me[Kn.x].points[ie],Dn=Kn[Xt+"Null"]||0,ts=Kn[Xt+"Cliff"]||0,sr,dr,hs=!0;ts||Dn?(sr=(Dn?So[0]:So[1])+ts,dr=So[0]+ts,hs=!!Dn):!j&&m[Yt]&&m[Yt].isNull&&(sr=dr=Ee),sr!==void 0&&(ue.push({plotX:C,plotY:sr===null?Ae:K.getThreshold(sr),isNull:hs,isCliff:!0}),ne.push({plotX:C,plotY:dr===null?Ae:K.getThreshold(dr),doCurve:!1}))};m=m||this.points,j&&(m=this.getStackPoints(m));for(let Kt=0,Yt=m.length;Kt<Yt;++Kt)j||(m[Kt].leftCliff=m[Kt].rightCliff=m[Kt].leftNull=m[Kt].rightNull=void 0),T=m[Kt].isNull,C=$g(m[Kt].rectPlotX,m[Kt].plotX),R=j?$g(m[Kt].yBottom,Ae):Ae,(!T||Pe)&&(Pe||Fe(Kt,Kt-1,"left"),T&&!j&&Pe||(ue.push(m[Kt]),ne.push({x:Kt,plotX:C,plotY:R})),Pe||Fe(Kt,Kt+1,"right"));let Ne=D.call(this,ue,!0,!0);ne.reversed=!0;let lt=D.call(this,ne,!0,!0),gt=lt[0];gt&&gt[0]==="M"&&(lt[0]=["L",gt[1],gt[2]]);let $t=Ne.concat(lt);$t.length&&$t.push(["Z"]);let qt=D.call(this,ue,!1,Pe);return this.chart.series.length>1&&j&&ue.some(Kt=>Kt.isCliff)&&($t.hasStackedCliffs=qt.hasStackedCliffs=!0),$t.xMap=Ne.xMap,this.areaPath=$t,qt}getStackPoints(m){let C=this,T=[],R=[],D=this.xAxis,F=this.yAxis,j=F.stacking.stacks[this.stackKey],K={},ne=F.series,ue=ne.length,ie=F.options.reversedStacks?1:-1,me=ne.indexOf(C);if(m=m||this.points,this.options.stacking){for(let Ae=0;Ae<m.length;Ae++)m[Ae].leftNull=m[Ae].rightNull=void 0,K[m[Ae].x]=m[Ae];jv(j,function(Ae,Pe){Ae.total!==null&&R.push(Pe)}),R.sort(function(Ae,Pe){return Ae-Pe});let Ee=ne.map(Ae=>Ae.visible);R.forEach(function(Ae,Pe){let Fe=0,Ne,lt;if(K[Ae]&&!K[Ae].isNull)T.push(K[Ae]),[-1,1].forEach(function(gt){let $t=gt===1?"rightNull":"leftNull",qt=j[R[Pe+gt]],Kt=0;if(qt){let Yt=me;for(;Yt>=0&&Yt<ue;){let Xt=ne[Yt].index;!(Ne=qt.points[Xt])&&(Xt===C.index?K[Ae][$t]=!0:Ee[Yt]&&(lt=j[Ae].points[Xt])&&(Kt-=lt[1]-lt[0])),Yt+=ie}}K[Ae][gt===1?"rightCliff":"leftCliff"]=Kt});else{let gt=me;for(;gt>=0&&gt<ue;){let $t=ne[gt].index;if(Ne=j[Ae].points[$t]){Fe=Ne[1];break}gt+=ie}Fe=$g(Fe,0),Fe=F.translate(Fe,0,1,0,1),T.push({isNull:!0,plotX:D.translate(Ae,0,0,0,1),x:Ae,plotY:Fe,yBottom:Fe})}})}return T}}QS.defaultOptions=ZE(JS.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),zv(QS.prototype,{singleStacks:!1}),Is.registerSeriesType("area",QS);let{line:YE}=Is.seriesTypes,{merge:Ug,pick:Wv}=Zn;class RT extends YE{getPointSpline(m,C,T){let R,D,F,j,K=C.plotX||0,ne=C.plotY||0,ue=m[T-1],ie=m[T+1];function me(Ae){return Ae&&!Ae.isNull&&Ae.doCurve!==!1&&!C.isCliff}if(me(ue)&&me(ie)){let Ae=ue.plotX||0,Pe=ue.plotY||0,Fe=ie.plotX||0,Ne=ie.plotY||0,lt=0;R=(1.5*K+Ae)/2.5,D=(1.5*ne+Pe)/2.5,F=(1.5*K+Fe)/2.5,j=(1.5*ne+Ne)/2.5,F!==R&&(lt=(j-D)*(F-K)/(F-R)+ne-j),D+=lt,j+=lt,D>Pe&&D>ne?(D=Math.max(Pe,ne),j=2*ne-D):D<Pe&&D<ne&&(D=Math.min(Pe,ne),j=2*ne-D),j>Ne&&j>ne?(j=Math.max(Ne,ne),D=2*ne-j):j<Ne&&j<ne&&(j=Math.min(Ne,ne),D=2*ne-j),C.rightContX=F,C.rightContY=j,C.controlPoints={low:[R,D],high:[F,j]}}let Ee=["C",Wv(ue.rightContX,ue.plotX,0),Wv(ue.rightContY,ue.plotY,0),Wv(R,K,0),Wv(D,ne,0),K,ne];return ue.rightContX=ue.rightContY=void 0,Ee}}RT.defaultOptions=Ug(YE.defaultOptions),Is.registerSeriesType("spline",RT);let Gv=RT,{area:Hc,area:{prototype:rc}}=Is.seriesTypes,{extend:zg,merge:jg}=Zn;class Wg extends Gv{}Wg.defaultOptions=jg(Gv.defaultOptions,Hc.defaultOptions),zg(Wg.prototype,{getGraphPath:rc.getGraphPath,getStackPoints:rc.getStackPoints,drawGraph:rc.drawGraph}),Is.registerSeriesType("areaspline",Wg);let{animObject:d0}=Oa,{parse:pd}=Cs,{noop:qv}=ke,{clamp:xl,crisp:ub,defined:yf,extend:bf,fireEvent:g1,isArray:ic,isNumber:Gg,merge:Xp,pick:Jp,objectEach:jm}=Zn;class Kv extends ld{animate(m){let C,T,R=this,D=this.yAxis,F=D.pos,j=D.reversed,K=R.options,{clipOffset:ne,inverted:ue}=this.chart,ie={},me=ue?"translateX":"translateY";m&&ne?(ie.scaleY=.001,T=xl(D.toPixels(K.threshold||0),F,F+D.len),ue?ie.translateX=(T+=j?-Math.floor(ne[0]):Math.ceil(ne[2]))-D.len:ie.translateY=T+=j?Math.ceil(ne[0]):-Math.floor(ne[2]),R.clipBox&&R.setClip(),R.group.attr(ie)):(C=Number(R.group.attr(me)),R.group.animate({scaleY:1},bf(d0(R.options.animation),{step:function(Ee,Ae){R.group&&(ie[me]=C+Ae.pos*(F-C),R.group.attr(ie))}})))}init(m,C){super.init.apply(this,arguments);let T=this;(m=T.chart).hasRendered&&m.series.forEach(function(R){R.type===T.type&&(R.isDirty=!0)})}getColumnMetrics(){let m=this,C=m.options,T=m.xAxis,R=m.yAxis,D=T.options.reversedStacks,F=T.reversed&&!D||!T.reversed&&D,j={},K,ne=0;C.grouping===!1?ne=1:m.chart.series.forEach(function(Pe){let Fe,Ne=Pe.yAxis,lt=Pe.options;Pe.type===m.type&&Pe.reserveSpace()&&R.len===Ne.len&&R.pos===Ne.pos&&(lt.stacking&&lt.stacking!=="group"?(j[K=Pe.stackKey]===void 0&&(j[K]=ne++),Fe=j[K]):lt.grouping!==!1&&(Fe=ne++),Pe.columnIndex=Fe)});let ue=Math.min(Math.abs(T.transA)*(!T.brokenAxis?.hasBreaks&&T.ordinal?.slope||C.pointRange||T.closestPointRange||T.tickInterval||1),T.len),ie=ue*C.groupPadding,me=(ue-2*ie)/(ne||1),Ee=Math.min(C.maxPointWidth||T.len,Jp(C.pointWidth,me*(1-2*C.pointPadding))),Ae=(m.columnIndex||0)+ +!!F;return m.columnMetrics={width:Ee,offset:(me-Ee)/2+(ie+Ae*me-ue/2)*(F?-1:1),paddedWidth:me,columnCount:ne},m.columnMetrics}crispCol(m,C,T,R){let D=this.borderWidth,F=this.chart.inverted;return R=ub(C+R,D,F)-(C=ub(C,D,F)),this.options.crisp&&(T=ub(m+T,D)-(m=ub(m,D))),{x:m,y:C,width:T,height:R}}adjustForMissingColumns(m,C,T,R){if(!T.isNull&&R.columnCount>1){let D=this.xAxis.series.filter(ne=>ne.visible).map(ne=>ne.index),F=0,j=0;jm(this.xAxis.stacking?.stacks,ne=>{let ue=typeof T.x=="number"?ne[T.x.toString()]?.points:void 0,ie=ue?.[this.index],me={};if(ue&&ic(ie)){let Ee=this.index,Ae=Object.keys(ue).filter(Pe=>!Pe.match(",")&&ue[Pe]&&ue[Pe].length>1).map(parseFloat).filter(Pe=>D.indexOf(Pe)!==-1).filter(Pe=>{let Fe=this.chart.series[Pe].options,Ne=Fe.stacking&&Fe.stack;if(yf(Ne)){if(Gg(me[Ne]))return Ee===Pe&&(Ee=me[Ne]),!1;me[Ne]=Pe}return!0}).sort((Pe,Fe)=>Fe-Pe);F=Ae.indexOf(Ee),j=Ae.length}}),F=this.xAxis.reversed?j-1-F:F;let K=(j-1)*R.paddedWidth+C;m=(T.plotX||0)+K/2-C-F*R.paddedWidth}return m}translate(){let m=this,C=m.chart,T=m.options,R=m.dense=m.closestPointRange*m.xAxis.transA<2,D=m.borderWidth=Jp(T.borderWidth,+!R),F=m.xAxis,j=m.yAxis,K=T.threshold,ne=Jp(T.minPointLength,5),ue=m.getColumnMetrics(),ie=ue.width,me=m.pointXOffset=ue.offset,Ee=m.dataMin,Ae=m.dataMax,Pe=m.translatedThreshold=j.getThreshold(K),Fe=m.barW=Math.max(ie,1+2*D);T.pointPadding&&T.crisp&&(Fe=Math.ceil(Fe)),ld.prototype.translate.apply(m),m.points.forEach(function(Ne){let lt=Jp(Ne.yBottom,Pe),gt=999+Math.abs(lt),$t=Ne.plotX||0,qt=xl(Ne.plotY,-gt,j.len+gt),Kt,Yt=Math.min(qt,lt),Xt=Math.max(qt,lt)-Yt,Kn=ie,So=$t+me,Dn=Fe;ne&&Math.abs(Xt)<ne&&(Xt=ne,Kt=!j.reversed&&!Ne.negative||j.reversed&&Ne.negative,Gg(K)&&Gg(Ae)&&Ne.y===K&&Ae<=K&&(j.min||0)<K&&(Ee!==Ae||(j.max||0)<=K)&&(Kt=!Kt,Ne.negative=!Ne.negative),Yt=Math.abs(Yt-Pe)>ne?lt-ne:Pe-(Kt?ne:0)),yf(Ne.options.pointWidth)&&(So-=Math.round(((Kn=Dn=Math.ceil(Ne.options.pointWidth))-ie)/2)),T.centerInCategory&&(So=m.adjustForMissingColumns(So,Kn,Ne,ue)),Ne.barX=So,Ne.pointWidth=Kn,Ne.tooltipPos=C.inverted?[xl(j.len+j.pos-C.plotLeft-qt,j.pos-C.plotLeft,j.len+j.pos-C.plotLeft),F.len+F.pos-C.plotTop-So-Dn/2,Xt]:[F.left-C.plotLeft+So+Dn/2,xl(qt+j.pos-C.plotTop,j.pos-C.plotTop,j.len+j.pos-C.plotTop),Xt],Ne.shapeType=m.pointClass.prototype.shapeType||"roundedRect",Ne.shapeArgs=m.crispCol(So,Yt,Dn,Ne.isNull?0:Xt)}),g1(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(m,C){let T=this.options,R=this.pointAttrToOptions||{},D=R.stroke||"borderColor",F=R["stroke-width"]||"borderWidth",j,K,ne,ue=m&&m.color||this.color,ie=m&&m[D]||T[D]||ue,me=m&&m.options.dashStyle||T.dashStyle,Ee=m&&m[F]||T[F]||this[F]||0,Ae=m?.isNull&&T.nullInteraction?0:m?.opacity??T.opacity??1;m&&this.zones.length&&(K=m.getZone(),ue=m.options.color||K&&(K.color||m.nonZonedColor)||this.color,K&&(ie=K.borderColor||ie,me=K.dashStyle||me,Ee=K.borderWidth||Ee)),C&&m&&(ne=(j=Xp(T.states[C],m.options.states&&m.options.states[C]||{})).brightness,ue=j.color||ne!==void 0&&pd(ue).brighten(j.brightness).get()||ue,ie=j[D]||ie,Ee=j[F]||Ee,me=j.dashStyle||me,Ae=Jp(j.opacity,Ae));let Pe={fill:ue,stroke:ie,"stroke-width":Ee,opacity:Ae};return me&&(Pe.dashstyle=me),Pe}drawPoints(m=this.points){let C,T=this,R=this.chart,D=T.options,F=D.nullInteraction,j=R.renderer,K=D.animationLimit||250;m.forEach(function(ne){let ue=ne.plotY,ie=ne.graphic,me=!!ie,Ee=ie&&R.pointCount<K?"animate":"attr";Gg(ue)&&(ne.y!==null||F)?(C=ne.shapeArgs,ie&&ne.hasNewShapeType()&&(ie=ie.destroy()),T.enabledDataSorting&&(ne.startXPos=T.xAxis.reversed?-(C&&C.width||0):T.xAxis.width),!ie&&(ne.graphic=ie=j[ne.shapeType](C).add(ne.group||T.group),ie&&T.enabledDataSorting&&R.hasRendered&&R.pointCount<K&&(ie.attr({x:ne.startXPos}),me=!0,Ee="animate")),ie&&me&&ie[Ee](Xp(C)),R.styledMode||ie[Ee](T.pointAttribs(ne,ne.selected&&"select")).shadow(ne.allowShadow!==!1&&D.shadow),ie&&(ie.addClass(ne.getClassName(),!0),ie.attr({visibility:ne.visible?"inherit":"hidden"}))):ie&&(ne.graphic=ie.destroy())})}drawTracker(m=this.points){let C,T=this,R=T.chart,D=R.pointer,F=function(j){D?.normalize(j);let K=D?.getPointFromEvent(j);D&&K&&T.options.enableMouseTracking&&(R.isInsidePlot(j.chartX-R.plotLeft,j.chartY-R.plotTop,{visiblePlotOnly:!0})||D?.inClass(j.target,"highcharts-data-label"))&&(D.isDirectTouch=!0,K.onMouseOver(j))};m.forEach(function(j){C=ic(j.dataLabels)?j.dataLabels:j.dataLabel?[j.dataLabel]:[],j.graphic&&(j.graphic.element.point=j),C.forEach(function(K){(K.div||K.element).point=j})}),T._hasTracking||(T.trackerGroups.forEach(function(j){T[j]&&(T[j].addClass("highcharts-tracker").on("mouseover",F).on("mouseout",function(K){D?.onTrackerMouseOut(K)}).on("touchstart",F),!R.styledMode&&T.options.cursor&&T[j].css({cursor:T.options.cursor}))}),T._hasTracking=!0),g1(this,"afterDrawTracker")}remove(){let m=this,C=m.chart;C.hasRendered&&C.series.forEach(function(T){T.type===m.type&&(T.isDirty=!0)}),ld.prototype.remove.apply(m,arguments)}}Kv.defaultOptions=Xp(ld.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),bf(Kv.prototype,{directTouch:!0,getSymbol:qv,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),Is.registerSeriesType("column",Kv);let md=Kv,{getDeferredAnimation:db}=Oa,{format:kT}=Br,{defined:_a,extend:XE,fireEvent:dp,getAlignFactor:Sf,isArray:Wm,isString:Qp,merge:lu,objectEach:hb,pick:em,pInt:JE,splat:v1}=Zn;(function(Q){function m(){return K(this).some(ue=>ue?.enabled)}function C(ue,ie,me,Ee,Ae){let{chart:Pe,enabledDataSorting:Fe}=this,Ne=this.isCartesian&&Pe.inverted,lt=ue.plotX,gt=ue.plotY,$t=me.rotation||0,qt=_a(lt)&&_a(gt)&&Pe.isInsidePlot(lt,Math.round(gt),{inverted:Ne,paneCoordinates:!0,series:this}),Kt=$t===0&&em(me.overflow,Fe?"none":"justify")==="justify",Yt=this.visible&&ue.visible!==!1&&_a(lt)&&(ue.series.forceDL||Fe&&!Kt||qt||em(me.inside,!!this.options.stacking)&&Ee&&Pe.isInsidePlot(lt,Ne?Ee.x+1:Ee.y+Ee.height-1,{inverted:Ne,paneCoordinates:!0,series:this})),Xt=ue.pos();if(Yt&&Xt){var Kn;let So=ie.getBBox(),Dn=ie.getBBox(void 0,0);if(Ee=XE({x:Xt[0],y:Math.round(Xt[1]),width:0,height:0},Ee||{}),me.alignTo==="plotEdges"&&this.isCartesian&&(Ee[Ne?"x":"y"]=0,Ee[Ne?"width":"height"]=this.yAxis?.len||0),XE(me,{width:So.width,height:So.height}),Kn=Ee,Fe&&this.xAxis&&!Kt&&this.setDataLabelStartPos(ue,ie,Ae,qt,Kn),ie.align(lu(me,{width:Dn.width,height:Dn.height}),!1,Ee,!1),ie.alignAttr.x+=Sf(me.align)*(Dn.width-So.width),ie.alignAttr.y+=Sf(me.verticalAlign)*(Dn.height-So.height),ie[ie.placed?"animate":"attr"]({"text-align":ie.alignAttr["text-align"]||"center",x:ie.alignAttr.x+(So.width-Dn.width)/2,y:ie.alignAttr.y+(So.height-Dn.height)/2,rotationOriginX:(ie.width||0)/2,rotationOriginY:(ie.height||0)/2}),Kt&&Ee.height>=0)this.justifyDataLabel(ie,me,ie.alignAttr,So,Ee,Ae);else if(em(me.crop,!0)){let{x:ts,y:sr}=ie.alignAttr;Yt=Pe.isInsidePlot(ts,sr,{paneCoordinates:!0,series:this})&&Pe.isInsidePlot(ts+So.width-1,sr+So.height-1,{paneCoordinates:!0,series:this})}me.shape&&!$t&&ie[Ae?"attr":"animate"]({anchorX:Xt[0],anchorY:Xt[1]})}Ae&&Fe&&(ie.placed=!1),Yt||Fe&&!Kt?(ie.show(),ie.placed=!0):(ie.hide(),ie.placed=!1)}function T(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function R(ue){let ie=this.hasRendered||0,me=this.initDataLabelsGroup().attr({opacity:+ie});return!ie&&me&&(this.visible&&me.show(),this.options.animation?me.animate({opacity:1},ue):me.attr({opacity:1})),me}function D(ue){let ie;ue=ue||this.points;let me=this,Ee=me.chart,Ae=me.options,Pe=Ee.renderer,{backgroundColor:Fe,plotBackgroundColor:Ne}=Ee.options.chart,lt=Pe.getContrast(Qp(Ne)&&Ne||Qp(Fe)&&Fe||"#000000"),gt=K(me),{animation:$t,defer:qt}=gt[0],Kt=qt?db(Ee,$t,me):{defer:0,duration:0};dp(this,"drawDataLabels"),me.hasDataLabels?.()&&(ie=this.initDataLabels(Kt),ue.forEach(Yt=>{let Xt=Yt.dataLabels||[],Kn=Yt.color||me.color;v1(j(gt,Yt.dlOptions||Yt.options?.dataLabels)).forEach((Dn,ts)=>{let sr=Dn.enabled&&(Yt.visible||Yt.dataLabelOnHidden)&&(!Yt.isNull||Yt.dataLabelOnNull)&&(function(qr,tl){let Ii=tl.filter;if(Ii){let Hl=Ii.operator,Uu=qr[Ii.property],Ud=Ii.value;return Hl===">"&&Uu>Ud||Hl==="<"&&Uu<Ud||Hl===">="&&Uu>=Ud||Hl==="<="&&Uu<=Ud||Hl==="=="&&Uu==Ud||Hl==="==="&&Uu===Ud||Hl==="!="&&Uu!=Ud||Hl==="!=="&&Uu!==Ud||!1}return!0})(Yt,Dn),{backgroundColor:dr,borderColor:hs,distance:Rs,style:Qs={}}=Dn,La,Oi,cu,Mr={},Sr=Xt[ts],fi=!Sr,bi;sr&&(Oi=_a(La=em(Dn[Yt.formatPrefix+"Format"],Dn.format))?kT(La,Yt,Ee):(Dn[Yt.formatPrefix+"Formatter"]||Dn.formatter).call(Yt,Dn),cu=Dn.rotation,!Ee.styledMode&&(Qs.color=em(Dn.color,Qs.color,Qp(me.color)?me.color:void 0,"#000000"),Qs.color==="contrast"?(dr!=="none"&&(bi=dr),Yt.contrastColor=Pe.getContrast(bi!=="auto"&&Qp(bi)&&bi||(Qp(Kn)?Kn:"")),Qs.color=bi||!_a(Rs)&&Dn.inside||0>JE(Rs||0)||Ae.stacking?Yt.contrastColor:lt):delete Yt.contrastColor,Ae.cursor&&(Qs.cursor=Ae.cursor)),Mr={r:Dn.borderRadius||0,rotation:cu,padding:Dn.padding,zIndex:1},Ee.styledMode||(Mr.fill=dr==="auto"?Yt.color:dr,Mr.stroke=hs==="auto"?Yt.color:hs,Mr["stroke-width"]=Dn.borderWidth),hb(Mr,(qr,tl)=>{qr===void 0&&delete Mr[tl]})),!Sr||sr&&_a(Oi)&&!!(Sr.div||Sr.text?.foreignObject)==!!Dn.useHTML&&(Sr.rotation&&Dn.rotation||Sr.rotation===Dn.rotation)||(Sr=void 0,fi=!0),sr&&_a(Oi)&&Oi!==""&&(Sr?Mr.text=Oi:(Sr=Pe.label(Oi,0,0,Dn.shape,void 0,void 0,Dn.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+Yt.colorIndex+" "+(Dn.className||"")+(Dn.useHTML?" highcharts-tracker":"")),Sr&&(Sr.options=Dn,Sr.attr(Mr),Ee.styledMode?Qs.width&&Sr.css({width:Qs.width,textOverflow:Qs.textOverflow,whiteSpace:Qs.whiteSpace}):Sr.css(Qs).shadow(Dn.shadow),dp(Sr,"beforeAddingDataLabel",{labelOptions:Dn,point:Yt}),Sr.added||Sr.add(ie),me.alignDataLabel(Yt,Sr,Dn,void 0,fi),Sr.isActive=!0,Xt[ts]&&Xt[ts]!==Sr&&Xt[ts].destroy(),Xt[ts]=Sr))});let So=Xt.length;for(;So--;)Xt[So]?.isActive?Xt[So].isActive=!1:(Xt[So]?.destroy(),Xt.splice(So,1));Yt.dataLabel=Xt[0],Yt.dataLabels=Xt})),dp(this,"afterDrawDataLabels")}function F(ue,ie,me,Ee,Ae,Pe){let Fe=this.chart,Ne=ie.align,lt=ie.verticalAlign,gt=ue.box?0:ue.padding||0,$t=Fe.inverted?this.yAxis:this.xAxis,qt=$t?$t.left-Fe.plotLeft:0,Kt=Fe.inverted?this.xAxis:this.yAxis,Yt=Kt?Kt.top-Fe.plotTop:0,{x:Xt=0,y:Kn=0}=ie,So,Dn;return(So=(me.x||0)+gt+qt)<0&&(Ne==="right"&&Xt>=0?(ie.align="left",ie.inside=!0):Xt-=So,Dn=!0),(So=(me.x||0)+Ee.width-gt+qt)>Fe.plotWidth&&(Ne==="left"&&Xt<=0?(ie.align="right",ie.inside=!0):Xt+=Fe.plotWidth-So,Dn=!0),(So=me.y+gt+Yt)<0&&(lt==="bottom"&&Kn>=0?(ie.verticalAlign="top",ie.inside=!0):Kn-=So,Dn=!0),(So=(me.y||0)+Ee.height-gt+Yt)>Fe.plotHeight&&(lt==="top"&&Kn<=0?(ie.verticalAlign="bottom",ie.inside=!0):Kn+=Fe.plotHeight-So,Dn=!0),Dn&&(ie.x=Xt,ie.y=Kn,ue.placed=!Pe,ue.align(ie,void 0,Ae)),Dn}function j(ue,ie){let me=[],Ee;if(Wm(ue)&&!Wm(ie))me=ue.map(function(Ae){return lu(Ae,ie)});else if(Wm(ie)&&!Wm(ue))me=ie.map(function(Ae){return lu(ue,Ae)});else if(Wm(ue)||Wm(ie)){if(Wm(ue)&&Wm(ie))for(Ee=Math.max(ue.length,ie.length);Ee--;)me[Ee]=lu(ue[Ee],ie[Ee])}else me=lu(ue,ie);return me}function K(ue){let ie=ue.chart.options.plotOptions;return v1(j(j(ie?.series?.dataLabels,ie?.[ue.type]?.dataLabels),ue.options.dataLabels))}function ne(ue,ie,me,Ee,Ae){let Pe=this.chart,Fe=Pe.inverted,Ne=this.xAxis,lt=Ne.reversed,gt=((Fe?ie.height:ie.width)||0)/2,$t=ue.pointWidth,qt=$t?$t/2:0;ie.startXPos=Fe?Ae.x:lt?-gt-qt:Ne.width-gt+qt,ie.startYPos=Fe?lt?this.yAxis.height-gt+qt:-gt-qt:Ae.y,Ee?ie.visibility==="hidden"&&(ie.show(),ie.attr({opacity:0}).animate({opacity:1})):ie.attr({opacity:1}).animate({opacity:0},void 0,ie.hide),Pe.hasRendered&&(me&&ie.attr({x:ie.startXPos,y:ie.startYPos}),ie.placed=!0)}Q.compose=function(ue){let ie=ue.prototype;ie.initDataLabels||(ie.initDataLabels=R,ie.initDataLabelsGroup=T,ie.alignDataLabel=C,ie.drawDataLabels=D,ie.justifyDataLabel=F,ie.mergeArrays=j,ie.setDataLabelStartPos=ne,ie.hasDataLabels=m)}})(Z||(Z={}));let fb=Z,{composed:eC}=ke,{series:tC}=Is,{merge:DT,pushUnique:pb}=Zn;(function(Q){function m(C,T,R,D,F){let{chart:j,options:K}=this,ne=j.inverted,ue=this.xAxis?.len||j.plotSizeX||0,ie=this.yAxis?.len||j.plotSizeY||0,me=C.dlBox||C.shapeArgs,Ee=C.below??(C.plotY||0)>(this.translatedThreshold??ie),Ae=R.inside??!!K.stacking;if(me){if(D=DT(me),R.overflow!=="allow"||R.crop!==!1||K.clip!==!1){D.y<0&&(D.height+=D.y,D.y=0);let Pe=D.y+D.height-ie;Pe>0&&Pe<D.height-1&&(D.height-=Pe)}ne&&(D={x:ie-D.y-D.height,y:ue-D.x-D.width,width:D.height,height:D.width}),Ae||(ne?(D.x+=Ee?0:D.width,D.width=0):(D.y+=Ee?D.height:0,D.height=0))}R.align??(R.align=!ne||Ae?"center":Ee?"right":"left"),R.verticalAlign??(R.verticalAlign=ne||Ae?"middle":Ee?"top":"bottom"),tC.prototype.alignDataLabel.call(this,C,T,R,D,F),R.inside&&C.contrastColor&&T.css({color:C.contrastColor})}Q.compose=function(C){fb.compose(tC),pb(eC,"ColumnDataLabel")&&(C.prototype.alignDataLabel=m)}})(te||(te={}));let mb=te,{extend:tm,merge:qg}=Zn;class Kg extends md{}Kg.defaultOptions=qg(md.defaultOptions,{}),tm(Kg.prototype,{inverted:!0}),Is.registerSeriesType("bar",Kg);let{column:MT,line:h0}=Is.seriesTypes,{addEvent:y1,extend:PT,merge:NT}=Zn;class gb extends h0{applyJitter(){let m=this,C=this.options.jitter,T=this.points.length;C&&this.points.forEach(function(R,D){["x","y"].forEach(function(F,j){if(C[F]&&!R.isNull){let K=`plot${F.toUpperCase()}`,ne=m[`${F}Axis`],ue=C[F]*ne.transA;if(ne&&!ne.logarithmic){let ie=Math.max(0,(R[K]||0)-ue),me=Math.min(ne.len,(R[K]||0)+ue);R[K]=ie+(me-ie)*(function(Ee){let Ae=1e4*Math.sin(Ee);return Ae-Math.floor(Ae)})(D+j*T),F==="x"&&(R.clientX=R.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}gb.defaultOptions=NT(h0.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),PT(gb.prototype,{drawTracker:MT.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),y1(gb,"afterTranslate",function(){this.applyJitter()}),Is.registerSeriesType("scatter",gb);let{deg2rad:Zv}=ke,{fireEvent:nC,isNumber:fh,pick:b1,relativeLength:hp}=Zn;(function(Q){Q.getCenter=function(){let m=this.options,C=this.chart,T=2*(m.slicedOffset||0),R=C.plotWidth-2*T,D=C.plotHeight-2*T,F=m.center,j=Math.min(R,D),K=m.thickness,ne,ue=m.size,ie=m.innerSize||0,me,Ee;typeof ue=="string"&&(ue=parseFloat(ue)),typeof ie=="string"&&(ie=parseFloat(ie));let Ae=[b1(F?.[0],"50%"),b1(F?.[1],"50%"),b1(ue&&ue<0?void 0:m.size,"100%"),b1(ie&&ie<0?void 0:m.innerSize||0,"0%")];for(!C.angular||this instanceof ld||(Ae[3]=0),me=0;me<4;++me)Ee=Ae[me],ne=me<2||me===2&&/%$/.test(Ee),Ae[me]=hp(Ee,[R,D,j,Ae[2]][me])+(ne?T:0);return Ae[3]>Ae[2]&&(Ae[3]=Ae[2]),fh(K)&&2*K<Ae[2]&&K>0&&(Ae[3]=Ae[2]-2*K),nC(this,"afterGetCenter",{positions:Ae}),Ae},Q.getStartAndEndRadians=function(m,C){let T=fh(m)?m:0,R=fh(C)&&C>T&&C-T<360?C:T+360;return{start:Zv*(T+-90),end:Zv*(R+-90)}}})(ce||(ce={}));let f0=ce,{setAnimation:LT}=Oa,{addEvent:QE,defined:ph,extend:S1,isNumber:BT,pick:Yv,relativeLength:XO}=Zn;class FT extends jp{getConnectorPath(m){let C=m.dataLabelPosition,T=m.options||{},R=T.connectorShape,D=this.connectorShapes[R]||R;return C&&D.call(this,{...C.computed,alignment:C.alignment},C.connectorPosition,T)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(m){let C=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(C.x,C.y,C.r+m,C.r+m,{innerR:C.r-1,start:C.start,end:C.end,borderRadius:C.borderRadius})}constructor(m,C,T){super(m,C,T),this.half=0,this.name??(this.name=m.chart.options.lang.pieSliceName);let R=D=>{this.slice(D.type==="select")};QE(this,"select",R),QE(this,"unselect",R)}isValid(){return BT(this.y)&&this.y>=0}setVisible(m,C=!0){m!==this.visible&&this.update({visible:m??!this.visible},C,void 0,!1)}slice(m,C,T){let R=this.series;LT(T,R.chart),C=Yv(C,!0),this.sliced=this.options.sliced=m=ph(m)?m:!this.sliced,R.options.data[R.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}S1(FT.prototype,{connectorShapes:{fixedOffset:function(Q,m,C){let T=m.breakAt,R=m.touchingSliceAt,D=C.softConnector?["C",Q.x+(Q.alignment==="left"?-5:5),Q.y,2*T.x-R.x,2*T.y-R.y,T.x,T.y]:["L",T.x,T.y];return[["M",Q.x,Q.y],D,["L",R.x,R.y]]},straight:function(Q,m){let C=m.touchingSliceAt;return[["M",Q.x,Q.y],["L",C.x,C.y]]},crookedLine:function(Q,m,C){let{angle:T=this.angle||0,breakAt:R,touchingSliceAt:D}=m,{series:F}=this,[j,K,ne]=F.center,ue=ne/2,{plotLeft:ie,plotWidth:me}=F.chart,Ee=Q.alignment==="left",{x:Ae,y:Pe}=Q,Fe=R.x;if(C.crookDistance){let lt=XO(C.crookDistance,1);Fe=Ee?j+ue+(me+ie-j-ue)*(1-lt):ie+(j-ue)*lt}else Fe=j+(K-Pe)*Math.tan(T-Math.PI/2);let Ne=[["M",Ae,Pe]];return(Ee?Fe<=Ae&&Fe>=R.x:Fe>=Ae&&Fe<=R.x)&&Ne.push(["L",Fe,Pe]),Ne.push(["L",R.x,R.y],["L",D.x,D.y]),Ne}}});let{getStartAndEndRadians:ew}=f0,{noop:VT}=ke,{clamp:yi,extend:HT,fireEvent:tw,merge:mh,pick:vb}=Zn;class Pr extends ld{animate(m){let C=this,T=C.points,R=C.startAngleRad;m||T.forEach(function(D){let F=D.graphic,j=D.shapeArgs;F&&j&&(F.attr({r:vb(D.startR,C.center&&C.center[3]/2),start:R,end:R}),F.animate({r:j.r,start:j.start,end:j.end},C.options.animation))})}drawEmpty(){let m,C,T=this.startAngleRad,R=this.endAngleRad,D=this.options;this.total===0&&this.center?(m=this.center[0],C=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(m,C,this.center[1]/2,0,T,R).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:wi.arc(m,C,this.center[2]/2,0,{start:T,end:R,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":D.borderWidth,fill:D.fillColor||"none",stroke:D.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let m=this.chart.renderer;this.points.forEach(function(C){C.graphic&&C.hasNewShapeType()&&(C.graphic=C.graphic.destroy()),C.graphic||(C.graphic=m[C.shapeType](C.shapeArgs).add(C.series.group),C.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(m,C,T,R){let D=this.center,F=this.radii?this.radii[T.index]||0:D[2]/2,j=R.dataLabelPosition,K=j?.distance||0,ne=Math.asin(yi((m-D[1])/(F+K),-1,1));return D[0]+Math.cos(ne)*(F+K)*(C?-1:1)+(K>0?(C?-1:1)*(R.padding||0):0)}hasData(){return this.points.some(m=>m.visible)}redrawPoints(){let m,C,T,R,D=this,F=D.chart;this.drawEmpty(),D.group&&!F.styledMode&&D.group.shadow(D.options.shadow),D.points.forEach(function(j){let K={};C=j.graphic,!j.isNull&&C?(R=j.shapeArgs,m=j.getTranslate(),F.styledMode||(T=D.pointAttribs(j,j.selected&&"select")),j.delayedRendering?(C.setRadialReference(D.center).attr(R).attr(m),F.styledMode||C.attr(T).attr({"stroke-linejoin":"round"}),j.delayedRendering=!1):(C.setRadialReference(D.center),F.styledMode||mh(!0,K,T),mh(!0,K,R,m),C.animate(K)),C.attr({visibility:j.visible?"inherit":"hidden"}),C.addClass(j.getClassName(),!0)):C&&(j.graphic=C.destroy())})}sortByAngle(m,C){m.sort(function(T,R){return T.angle!==void 0&&(R.angle-T.angle)*C})}translate(m){tw(this,"translate"),this.generatePoints();let C=this.options,T=C.slicedOffset,R=ew(C.startAngle,C.endAngle),D=this.startAngleRad=R.start,F=(this.endAngleRad=R.end)-D,j=this.points,K=C.ignoreHiddenPoint,ne=j.length,ue,ie,me,Ee,Ae,Pe,Fe,Ne=0;for(m||(this.center=m=this.getCenter()),Pe=0;Pe<ne;Pe++){Fe=j[Pe],ue=D+Ne*F,Fe.isValid()&&(!K||Fe.visible)&&(Ne+=Fe.percentage/100),ie=D+Ne*F;let lt={x:m[0],y:m[1],r:m[2]/2,innerR:m[3]/2,start:Math.round(1e3*ue)/1e3,end:Math.round(1e3*ie)/1e3};Fe.shapeType="arc",Fe.shapeArgs=lt,(me=(ie+ue)/2)>1.5*Math.PI?me-=2*Math.PI:me<-Math.PI/2&&(me+=2*Math.PI),Fe.slicedTranslation={translateX:Math.round(Math.cos(me)*T),translateY:Math.round(Math.sin(me)*T)},Ee=Math.cos(me)*m[2]/2,Ae=Math.sin(me)*m[2]/2,Fe.tooltipPos=[m[0]+.7*Ee,m[1]+.7*Ae],Fe.half=+(me<-Math.PI/2||me>Math.PI/2),Fe.angle=me}tw(this,"afterTranslate")}updateTotals(){let m=this.points,C=m.length,T=this.options.ignoreHiddenPoint,R,D,F=0;for(R=0;R<C;R++)(D=m[R]).isValid()&&(!T||D.visible)&&(F+=D.y);for(R=0,this.total=F;R<C;R++)(D=m[R]).percentage=F>0&&(D.visible||!T)?D.y/F*100:0,D.total=F}}Pr.defaultOptions=mh(ld.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),HT(Pr.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:md.prototype.drawTracker,getCenter:f0.getCenter,getSymbol:VT,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:md.prototype.pointAttribs,pointClass:FT,requireSorting:!1,searchPoint:VT,trackerGroups:["group","dataLabelsGroup"]}),Is.registerSeriesType("pie",Pr);let{composed:Vl,noop:C1}=ke,{distribute:oC}=of,{series:la}=Is,{arrayMax:p0,clamp:E1,defined:nw,isNumber:$T,pick:UT,pushUnique:Y2,relativeLength:zT}=Zn;(function(Q){let m={radialDistributionY:function(F,j){return(j.dataLabelPosition?.top||0)+F.distributeBox.pos},radialDistributionX:function(F,j,K,ne,ue){let ie=ue.dataLabelPosition;return F.getX(K<(ie?.top||0)+2||K>(ie?.bottom||0)-2?ne:K,j.half,j,ue)},justify:function(F,j,K,ne){return ne[0]+(F.half?-1:1)*(K+(j.dataLabelPosition?.distance||0))},alignToPlotEdges:function(F,j,K,ne){let ue=F.getBBox().width;return j?ue+ne:K-ue-ne},alignToConnectors:function(F,j,K,ne){let ue=0,ie;return F.forEach(function(me){(ie=me.dataLabel.getBBox().width)>ue&&(ue=ie)}),j?ue+ne:K-ue-ne}};function C(F,j){let K=Math.PI/2,{start:ne=0,end:ue=0}=F.shapeArgs||{},ie=F.angle||0;j>0&&ne<K&&ue>K&&ie>K/2&&ie<1.5*K&&(ie=ie<=K?Math.max(K/2,(ne+K)/2):Math.min(1.5*K,(K+ue)/2));let{center:me,options:Ee}=this,Ae=me[2]/2,Pe=Math.cos(ie),Fe=Math.sin(ie),Ne=me[0]+Pe*Ae,lt=me[1]+Fe*Ae,gt=Math.min((Ee.slicedOffset||0)+(Ee.borderWidth||0),j/5);return{natural:{x:Ne+Pe*j,y:lt+Fe*j},computed:{},alignment:j<0?"center":F.half?"right":"left",connectorPosition:{angle:ie,breakAt:{x:Ne+Pe*gt,y:lt+Fe*gt},touchingSliceAt:{x:Ne,y:lt}},distance:j}}function T(){let F=this,j=F.points,K=F.chart,ne=K.plotWidth,ue=K.plotHeight,ie=K.plotLeft,me=Math.round(K.chartWidth/3),Ee=F.center,Ae=Ee[2]/2,Pe=Ee[1],Fe=[[],[]],Ne=[0,0,0,0],lt=F.dataLabelPositioners,gt,$t,qt,Kt=0;F.visible&&F.hasDataLabels?.()&&(j.forEach(Yt=>{(Yt.dataLabels||[]).forEach(Xt=>{Xt.shortened&&(Xt.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Xt.shortened=!1)})}),la.prototype.drawDataLabels.apply(F),j.forEach(Yt=>{(Yt.dataLabels||[]).forEach((Xt,Kn)=>{let So=Ee[2]/2,Dn=Xt.options,ts=zT(Dn?.distance||0,So);Kn===0&&Fe[Yt.half].push(Yt),!nw(Dn?.style?.width)&&Xt.getBBox().width>me&&(Xt.css({width:Math.round(.7*me)+"px"}),Xt.shortened=!0),Xt.dataLabelPosition=this.getDataLabelPosition(Yt,ts),Kt=Math.max(Kt,ts)})}),Fe.forEach((Yt,Xt)=>{let Kn=Yt.length,So=[],Dn,ts,sr=0,dr;Kn&&(F.sortByAngle(Yt,Xt-.5),Kt>0&&(Dn=Math.max(0,Pe-Ae-Kt),ts=Math.min(Pe+Ae+Kt,K.plotHeight),Yt.forEach(hs=>{(hs.dataLabels||[]).forEach(Rs=>{let Qs=Rs.dataLabelPosition;Qs&&Qs.distance>0&&(Qs.top=Math.max(0,Pe-Ae-Qs.distance),Qs.bottom=Math.min(Pe+Ae+Qs.distance,K.plotHeight),sr=Rs.getBBox().height||21,Rs.lineHeight=K.renderer.fontMetrics(Rs.text||Rs).h+2*Rs.padding,hs.distributeBox={target:(Rs.dataLabelPosition?.natural.y||0)-Qs.top+Rs.lineHeight/2,size:sr,rank:hs.y},So.push(hs.distributeBox))})}),oC(So,dr=ts+sr-Dn,dr/5)),Yt.forEach(hs=>{(hs.dataLabels||[]).forEach(Rs=>{let Qs=Rs.options||{},La=hs.distributeBox,Oi=Rs.dataLabelPosition,cu=Oi?.natural.y||0,Mr=Qs.connectorPadding||0,Sr=Rs.lineHeight||21,fi=(Sr-Rs.getBBox().height)/2,bi=0,qr=cu,tl="inherit";if(Oi){if(So&&nw(La)&&Oi.distance>0&&(La.pos===void 0?tl="hidden":(qt=La.size,qr=lt.radialDistributionY(hs,Rs))),Qs.justify)bi=lt.justify(hs,Rs,Ae,Ee);else switch(Qs.alignTo){case"connectors":bi=lt.alignToConnectors(Yt,Xt,ne,ie);break;case"plotEdges":bi=lt.alignToPlotEdges(Rs,Xt,ne,ie);break;default:bi=lt.radialDistributionX(F,hs,qr-fi,cu,Rs)}if(Oi.attribs={visibility:tl,align:Oi.alignment},Oi.posAttribs={x:bi+(Qs.x||0)+({left:Mr,right:-Mr}[Oi.alignment]||0),y:qr+(Qs.y||0)-Sr/2},Oi.computed.x=bi,Oi.computed.y=qr-fi,UT(Qs.crop,!0)){let Ii;bi-($t=Rs.getBBox().width)<Mr&&Xt===1?(Ii=Math.round($t-bi+Mr),Ne[3]=Math.max(Ii,Ne[3])):bi+$t>ne-Mr&&Xt===0&&(Ii=Math.round(bi+$t-ne+Mr),Ne[1]=Math.max(Ii,Ne[1])),qr-qt/2<0?Ne[0]=Math.max(Math.round(-qr+qt/2),Ne[0]):qr+qt/2>ue&&(Ne[2]=Math.max(Math.round(qr+qt/2-ue),Ne[2])),Oi.sideOverflow=Ii}}})}))}),(p0(Ne)===0||this.verifyDataLabelOverflow(Ne))&&(this.placeDataLabels(),this.points.forEach(Yt=>{(Yt.dataLabels||[]).forEach(Xt=>{let{connectorColor:Kn,connectorWidth:So=1}=Xt.options||{},Dn=Xt.dataLabelPosition;if($T(So)){let ts;gt=Xt.connector,Dn&&Dn.distance>0?(ts=!gt,gt||(Xt.connector=gt=K.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Yt.colorIndex+(Yt.className?" "+Yt.className:"")).add(F.dataLabelsGroup)),K.styledMode||gt.attr({"stroke-width":So,stroke:Kn||Yt.color||"#666666"}),gt[ts?"attr":"animate"]({d:Yt.getConnectorPath(Xt)}),gt.attr({visibility:Dn.attribs?.visibility})):gt&&(Xt.connector=gt.destroy())}})})))}function R(){this.points.forEach(F=>{(F.dataLabels||[]).forEach(j=>{let K=j.dataLabelPosition;K?(K.sideOverflow&&(j.css({width:Math.max(j.getBBox().width-K.sideOverflow,0)+"px",textOverflow:j.options?.style?.textOverflow||"ellipsis"}),j.shortened=!0),j.attr(K.attribs),j[j.moved?"animate":"attr"](K.posAttribs),j.moved=!0):j&&j.attr({y:-9999})}),delete F.distributeBox},this)}function D(F){let j=this.center,K=this.options,ne=K.center,ue=K.minSize||80,ie=ue,me=K.size!==null;return!me&&(ne[0]!==null?ie=Math.max(j[2]-Math.max(F[1],F[3]),ue):(ie=Math.max(j[2]-F[1]-F[3],ue),j[0]+=(F[3]-F[1])/2),ne[1]!==null?ie=E1(ie,ue,j[2]-Math.max(F[0],F[2])):(ie=E1(ie,ue,j[2]-F[0]-F[2]),j[1]+=(F[0]-F[2])/2),ie<j[2]?(j[2]=ie,j[3]=Math.min(K.thickness?Math.max(0,ie-2*K.thickness):Math.max(0,zT(K.innerSize||0,ie)),ie),this.translate(j),this.drawDataLabels&&this.drawDataLabels()):me=!0),me}Q.compose=function(F){if(fb.compose(la),Y2(Vl,"PieDataLabel")){let j=F.prototype;j.dataLabelPositioners=m,j.alignDataLabel=C1,j.drawDataLabels=T,j.getDataLabelPosition=C,j.placeDataLabels=R,j.verifyDataLabelOverflow=D}}})(se||(se={}));let JO=se;(function(Q){Q.getCenterOfPoints=function(m){let C=m.reduce((T,R)=>(T.x+=R.x,T.y+=R.y,T),{x:0,y:0});return{x:C.x/m.length,y:C.y/m.length}},Q.getDistanceBetweenPoints=function(m,C){return Math.sqrt(Math.pow(C.x-m.x,2)+Math.pow(C.y-m.y,2))},Q.getAngleBetweenPoints=function(m,C){return Math.atan2(C.x-m.x,C.y-m.y)},Q.pointInPolygon=function({x:m,y:C},T){let R=T.length,D,F,j=!1;for(D=0,F=R-1;D<R;F=D++){let[K,ne]=T[D],[ue,ie]=T[F];ne>C!=ie>C&&m<(ue-K)*(C-ne)/(ie-ne)+K&&(j=!j)}return j}})(Se||(Se={}));let{pointInPolygon:jT}=Se,{addEvent:WT,getAlignFactor:fp,fireEvent:$c,objectEach:Cf,pick:nm}=Zn;function om(Q){let m=Q.length,C=(ue,ie)=>!(ie.x>=ue.x+ue.width||ie.x+ie.width<=ue.x||ie.y>=ue.y+ue.height||ie.y+ie.height<=ue.y),T=(ue,ie)=>{for(let me of ue)if(jT({x:me[0],y:me[1]},ie))return!0;return!1},R,D,F,j,K,ne=!1;for(let ue=0;ue<m;ue++)(R=Q[ue])&&(R.oldOpacity=R.opacity,R.newOpacity=1,R.absoluteBox=(function(ie){if(ie&&(!ie.alignAttr||ie.placed)){let me=ie.box?0:ie.padding||0,Ee=ie.alignAttr||{x:ie.attr("x"),y:ie.attr("y")},{height:Ae,polygon:Pe,width:Fe}=ie.getBBox(),Ne=fp(ie.alignValue)*Fe;return ie.width=Fe,ie.height=Ae,{x:Ee.x+(ie.parentGroup?.translateX||0)+me-Ne,y:Ee.y+(ie.parentGroup?.translateY||0)+me,width:Fe-2*me,height:Ae-2*me,polygon:Pe}}})(R));Q.sort((ue,ie)=>(ie.labelrank||0)-(ue.labelrank||0));for(let ue=0;ue<m;++ue){j=(D=Q[ue])&&D.absoluteBox;let ie=j?.polygon;for(let me=ue+1;me<m;++me){K=(F=Q[me])&&F.absoluteBox;let Ee=!1;if(j&&K&&D!==F&&D.newOpacity!==0&&F.newOpacity!==0&&D.visibility!=="hidden"&&F.visibility!=="hidden"){let Ae=K.polygon;if(ie&&Ae&&ie!==Ae?T(ie,Ae)&&(Ee=!0):C(j,K)&&(Ee=!0),Ee){let Pe=D.labelrank<F.labelrank?D:F,Fe=Pe.text;Pe.newOpacity=0,Fe?.element.querySelector("textPath")&&Fe.hide()}}}}for(let ue of Q)Zg(ue,this)&&(ne=!0);ne&&$c(this,"afterHideAllOverlappingLabels")}function Zg(Q,m){let C,T=!1;return Q&&(C=Q.newOpacity,Q.oldOpacity!==C&&(Q.hasClass("highcharts-data-label")?(Q[C?"removeClass":"addClass"]("highcharts-data-label-hidden"),T=!0,Q[Q.isOld?"animate":"attr"]({opacity:C},void 0,function(){m.styledMode||Q.css({pointerEvents:C?"auto":"none"})}),$c(m,"afterHideOverlappingLabel")):Q.attr({opacity:C})),Q.isOld=!0),T}function Gm(){let Q=this,m=[];for(let C of Q.labelCollectors||[])m=m.concat(C());for(let C of Q.yAxis||[])C.stacking&&C.options.stackLabels&&!C.options.stackLabels.allowOverlap&&Cf(C.stacking.stacks,T=>{Cf(T,R=>{R.label&&m.push(R.label)})});for(let C of Q.series||[])if(C.visible&&C.hasDataLabels?.()){let T=R=>{for(let D of R)D.visible&&(D.dataLabels||[]).forEach(F=>{let j=F.options||{};F.labelrank=nm(j.labelrank,D.labelrank,D.shapeArgs?.height),j.allowOverlap??Number(j.distance)>0?(F.oldOpacity=F.opacity,F.newOpacity=1,Zg(F,Q)):m.push(F)})};T(C.nodes||[]),T(C.points)}this.hideOverlappingLabels(m)}let qm={compose:function(Q){let m=Q.prototype;m.hideOverlappingLabels||(m.hideOverlappingLabels=om,WT(Q,"render",Gm))}},{defaultOptions:ow}=kt,{noop:sC}=ke,{addEvent:QO,extend:eI,isObject:w1,merge:rC,relativeLength:iC}=Zn,aC={radius:0,scope:"stack",where:void 0},Yg=sC,m0=sC;function sm(Q,m,C,T,R={}){let D=Yg(Q,m,C,T,R),{brStart:F=!0,brEnd:j=!0,innerR:K=0,r:ne=C,start:ue=0,end:ie=0}=R;if(R.open||!R.borderRadius)return D;let me=ie-ue,Ee=Math.sin(me/2),Ae=Math.max(Math.min(iC(R.borderRadius||0,ne-K),(ne-K)/2,ne*Ee/(1+Ee)),0),Pe=Math.min(Ae,me/Math.PI*2*K),Fe=D.length-1;for(;Fe--;)(F||Fe!==0&&Fe!==3)&&(j||Fe!==1&&Fe!==2)&&(function(Ne,lt,gt){let $t,qt,Kt,Yt=Ne[lt],Xt=Ne[lt+1];if(Xt[0]==="Z"&&(Xt=Ne[0]),(Yt[0]==="M"||Yt[0]==="L")&&Xt[0]==="A"?($t=Yt,qt=Xt,Kt=!0):Yt[0]==="A"&&(Xt[0]==="M"||Xt[0]==="L")&&($t=Xt,qt=Yt),$t&&qt&&qt.params){let Kn=qt[1],So=qt[5],Dn=qt.params,{start:ts,end:sr,cx:dr,cy:hs}=Dn,Rs=So?Kn-gt:Kn+gt,Qs=Rs?Math.asin(gt/Rs):0,La=So?Qs:-Qs,Oi=Math.cos(Qs)*Rs;Kt?(Dn.start=ts+La,$t[1]=dr+Oi*Math.cos(ts),$t[2]=hs+Oi*Math.sin(ts),Ne.splice(lt+1,0,["A",gt,gt,0,0,1,dr+Kn*Math.cos(Dn.start),hs+Kn*Math.sin(Dn.start)])):(Dn.end=sr-La,qt[6]=dr+Kn*Math.cos(Dn.end),qt[7]=hs+Kn*Math.sin(Dn.end),Ne.splice(lt+1,0,["A",gt,gt,0,0,1,dr+Oi*Math.cos(sr),hs+Oi*Math.sin(sr)])),qt[4]=Math.abs(Dn.end-Dn.start)<Math.PI?0:1}})(D,Fe,Fe>1?Pe:Ae);return D}function lC(){if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:Q,yAxis:m}=this,C=Q.stacking==="percent",T=ow.plotOptions?.[this.type]?.borderRadius,R=sw(Q.borderRadius,w1(T)?T:{}),D=m.options.reversed;for(let F of this.points){let{shapeArgs:j}=F;if(F.shapeType==="roundedRect"&&j){let{width:K=0,height:ne=0,y:ue=0}=j,ie=ue,me=ne;if(R.scope==="stack"&&F.stackTotal){let Fe=m.translate(C?100:F.stackTotal,!1,!0,!1,!0),Ne=m.translate(Q.threshold||0,!1,!0,!1,!0),lt=this.crispCol(0,Math.min(Fe,Ne),0,Math.abs(Fe-Ne));ie=lt.y,me=lt.height}let Ee=(F.negative?-1:1)*(D?-1:1)==-1,Ae=R.where;!Ae&&this.is("waterfall")&&Math.abs((F.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(Ae="all"),Ae||(Ae="end");let Pe=Math.min(iC(R.radius,K),K/2,Ae==="all"?ne/2:1/0)||0;Ae==="end"&&(Ee&&(ie-=Pe),me+=Pe),eI(j,{brBoxHeight:me,brBoxY:ie,r:Pe})}}}}function sw(Q,m){return w1(Q)||(Q={radius:Q||0}),rC(aC,m,Q)}function cC(){let Q=sw(this.options.borderRadius);for(let m of this.points){let C=m.shapeArgs;C&&(C.borderRadius=iC(Q.radius,(C.r||0)-(C.innerR||0)))}}function uC(Q,m,C,T,R={}){let D=m0(Q,m,C,T,R),{r:F=0,brBoxHeight:j=T,brBoxY:K=m}=R,ne=m-K,ue=K+j-(m+T),ie=ne-F>-.1?0:F,me=ue-F>-.1?0:F,Ee=Math.max(ie&&ne,0),Ae=Math.max(me&&ue,0),Pe=[Q+ie,m],Fe=[Q+C-ie,m],Ne=[Q+C,m+ie],lt=[Q+C,m+T-me],gt=[Q+C-me,m+T],$t=[Q+me,m+T],qt=[Q,m+T-me],Kt=[Q,m+ie],Yt=(Xt,Kn)=>Math.sqrt(Math.pow(Xt,2)-Math.pow(Kn,2));if(Ee){let Xt=Yt(ie,ie-Ee);Pe[0]-=Xt,Fe[0]+=Xt,Ne[1]=Kt[1]=m+ie-Ee}if(T<ie-Ee){let Xt=Yt(ie,ie-Ee-T);Ne[0]=lt[0]=Q+C-ie+Xt,gt[0]=Math.min(Ne[0],gt[0]),$t[0]=Math.max(lt[0],$t[0]),qt[0]=Kt[0]=Q+ie-Xt,Ne[1]=Kt[1]=m+T}if(Ae){let Xt=Yt(me,me-Ae);gt[0]+=Xt,$t[0]-=Xt,lt[1]=qt[1]=m+T-me+Ae}if(T<me-Ae){let Xt=Yt(me,me-Ae-T);Ne[0]=lt[0]=Q+C-me+Xt,Fe[0]=Math.min(Ne[0],Fe[0]),Pe[0]=Math.max(lt[0],Pe[0]),qt[0]=Kt[0]=Q+me-Xt,lt[1]=qt[1]=m}return D.length=0,D.push(["M",...Pe],["L",...Fe],["A",ie,ie,0,0,1,...Ne],["L",...lt],["A",me,me,0,0,1,...gt],["L",...$t],["A",me,me,0,0,1,...qt],["L",...Kt],["A",ie,ie,0,0,1,...Pe],["Z"]),D}let{diffObjects:GT,extend:tI,find:g0,merge:qT,pick:Ef,uniqueKey:v0}=Zn;(function(Q){function m(T,R){let D=T.condition;(D.callback||function(){return this.chartWidth<=Ef(D.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Ef(D.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Ef(D.minWidth,0)&&this.chartHeight>=Ef(D.minHeight,0)}).call(this)&&R.push(T._id)}function C(T,R){let D=this.options.responsive,F=this.currentResponsive,j=[],K;!R&&D&&D.rules&&D.rules.forEach(ie=>{ie._id===void 0&&(ie._id=v0()),this.matchResponsiveRule(ie,j)},this);let ne=qT(...j.map(ie=>g0(D?.rules||[],me=>me._id===ie)).map(ie=>ie?.chartOptions));ne.isResponsiveOptions=!0,j=j.toString()||void 0;let ue=F?.ruleIds;j!==ue&&(F&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(F.undoOptions,T,!0),this.updatingResponsive=!1),j?((K=GT(ne,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:j,mergedOptions:ne,undoOptions:K},this.updatingResponsive||this.update(ne,T,!0)):this.currentResponsive=void 0)}Q.compose=function(T){let R=T.prototype;return R.matchResponsiveRule||tI(R,{matchResponsiveRule:m,setResponsive:C}),T}})(Ce||(Ce={}));let dC=Ce;ke.AST=Ar,ke.Axis=Mu,ke.Chart=Hg,ke.Color=Cs,ke.DataLabel=fb,ke.DataTableCore=J,ke.Fx=es,ke.HTMLElement=xs,ke.Legend=TT,ke.LegendSymbol=At,ke.OverlappingDataLabels=ke.OverlappingDataLabels||qm,ke.PlotLineOrBand=id,ke.Point=jp,ke.Pointer=Yy,ke.RendererRegistry=oh,ke.Series=ld,ke.SeriesRegistry=Is,ke.StackItem=l0,ke.SVGElement=L,ke.SVGRenderer=st,ke.Templating=Br,ke.Tick=su,ke.Time=Pn,ke.Tooltip=DE,ke.animate=Oa.animate,ke.animObject=Oa.animObject,ke.chart=Hg.chart,ke.color=Cs.parse,ke.dateFormat=Br.dateFormat,ke.defaultOptions=kt.defaultOptions,ke.distribute=of.distribute,ke.format=Br.format,ke.getDeferredAnimation=Oa.getDeferredAnimation,ke.getOptions=kt.getOptions,ke.numberFormat=Br.numberFormat,ke.seriesType=Is.seriesType,ke.setAnimation=Oa.setAnimation,ke.setOptions=kt.setOptions,ke.stop=Oa.stop,ke.time=kt.defaultTime,ke.timers=es.timers,{compose:function(Q,m,C){let T=Q.types.pie;if(!m.symbolCustomAttribs.includes("borderRadius")){let R=C.prototype.symbols;QO(Q,"afterColumnTranslate",lC,{order:9}),QO(T,"afterTranslate",cC),m.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),Yg=R.arc,m0=R.roundedRect,R.arc=sm,R.roundedRect=uC}},optionsToObject:sw}.compose(ke.Series,ke.SVGElement,ke.SVGRenderer),mb.compose(ke.Series.types.column),fb.compose(ke.Series),Bh.compose(ke.Axis),xs.compose(ke.SVGRenderer),TT.compose(ke.Chart),np.compose(ke.Axis),qm.compose(ke.Chart),JO.compose(ke.Series.types.pie),id.compose(ke.Chart,ke.Axis),Yy.compose(ke.Chart),dC.compose(ke.Chart),up.compose(ke.Axis,ke.Chart,ke.Series),u0.compose(ke.Axis,ke.Chart,ke.Series),DE.compose(ke.Pointer),Zn.extend(ke,Zn);let Km=ke;return V.default})())})(YX)),YX.exports}var l7e=a7e();const fte=m4(l7e);var XX={exports:{}},c7e=XX.exports,GEe;function u7e(){return GEe||(GEe=1,(function(e,n){(function(o,i){e.exports=i(o._Highcharts,o._Highcharts.AST,o._Highcharts.Chart)})(typeof window>"u"?c7e:window,(o,i,c)=>(()=>{var d,p,v={660:Pn=>{Pn.exports=i},944:Pn=>{Pn.exports=o},960:Pn=>{Pn.exports=c}},S={};function _(Pn){var xe=S[Pn];if(xe!==void 0)return xe.exports;var je=S[Pn]={exports:{}};return v[Pn](je,je.exports,_),je.exports}_.n=Pn=>{var xe=Pn&&Pn.__esModule?()=>Pn.default:()=>Pn;return _.d(xe,{a:xe}),xe},_.d=(Pn,xe)=>{for(var je in xe)_.o(xe,je)&&!_.o(Pn,je)&&Object.defineProperty(Pn,je,{enumerable:!0,get:xe[je]})},_.o=(Pn,xe)=>Object.prototype.hasOwnProperty.call(Pn,xe);var x={};_.d(x,{default:()=>Bs});var P=_(944),B=_.n(P),H=_(660),U=_.n(H),z=_(960),Z=_.n(z);(function(Pn){Pn.compose=function(je){return je.navigation||(je.navigation=new xe(je)),je};class xe{constructor(rt){this.updates=[],this.chart=rt}addUpdate(rt){this.chart.navigation.updates.push(rt)}update(rt,Je){this.updates.forEach(Pt=>{Pt.call(this.chart,rt,Je)})}}Pn.Additions=xe})(d||(d={}));let te=d,{isSafari:ce,win:se,win:{document:Se}}=B(),{error:Ce}=B(),Te=se.URL||se.webkitURL||se;function V(Pn){let xe=Pn.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([A-Z+\d\/]+)/i);if(xe&&xe.length>3&&se.atob&&se.ArrayBuffer&&se.Uint8Array&&se.Blob&&Te.createObjectURL){let je=se.atob(xe[3]),rt=new se.ArrayBuffer(je.length),Je=new se.Uint8Array(rt);for(let Pt=0;Pt<Je.length;++Pt)Je[Pt]=je.charCodeAt(Pt);return Te.createObjectURL(new se.Blob([Je],{type:xe[1]}))}}let{isTouchDevice:ke}=B(),et={exporting:{allowTableSorting:!0,libURL:"https://code.highcharts.com/12.4.0/lib/",local:!0,type:"image/png",url:`https://export-svg.highcharts.com?v=${B().version}`,pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadSVG"]}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen?.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.exporting?.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:async function(){await this.exporting?.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:async function(){await this.exporting?.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:async function(){await this.exporting?.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:async function(){await this.exporting?.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:5,height:28,y:-5,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",padding:5,stroke:"none","stroke-linecap":"round"}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:ke?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}};(function(Pn){let xe=[];function je(Je,Pt,kt,wt){return[["M",Je,Pt+2.5],["L",Je+kt,Pt+2.5],["M",Je,Pt+wt/2+.5],["L",Je+kt,Pt+wt/2+.5],["M",Je,Pt+wt-1.5],["L",Je+kt,Pt+wt-1.5]]}function rt(Je,Pt,kt,wt){let Zt=wt/3-2;return[].concat(this.circle(kt-Zt,Pt,Zt,Zt),this.circle(kt-Zt,Pt+Zt+4,Zt,Zt),this.circle(kt-Zt,Pt+2*(Zt+4),Zt,Zt))}Pn.compose=function(Je){if(xe.indexOf(Je)===-1){xe.push(Je);let Pt=Je.prototype.symbols;Pt.menu=je,Pt.menuball=rt.bind(Pt)}}})(p||(p={}));let $e=p,{composed:Re}=B(),{addEvent:_e,fireEvent:ut,pushUnique:ct}=B();function St(){this.fullscreen=new ee(this)}class ee{static compose(xe){ct(Re,"Fullscreen")&&_e(xe,"beforeRender",St)}constructor(xe){this.chart=xe,this.isOpen=!1;let je=xe.renderTo;!this.browserProps&&(typeof je.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:je.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:je.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:je.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){let xe=this,je=xe.chart,rt=je.options.chart;ut(je,"fullscreenClose",null,function(){xe.isOpen&&xe.browserProps&&je.container.ownerDocument instanceof Document&&je.container.ownerDocument[xe.browserProps.exitFullscreen](),xe.unbindFullscreenEvent&&(xe.unbindFullscreenEvent=xe.unbindFullscreenEvent()),je.setSize(xe.origWidth,xe.origHeight,!1),xe.origWidth=void 0,xe.origHeight=void 0,rt.width=xe.origWidthOption,rt.height=xe.origHeightOption,xe.origWidthOption=void 0,xe.origHeightOption=void 0,xe.isOpen=!1,xe.setButtonText()})}open(){let xe=this,je=xe.chart,rt=je.options.chart;ut(je,"fullscreenOpen",null,function(){if(rt&&(xe.origWidthOption=rt.width,xe.origHeightOption=rt.height),xe.origWidth=je.chartWidth,xe.origHeight=je.chartHeight,xe.browserProps){let Je=_e(je.container.ownerDocument,xe.browserProps.fullscreenChange,function(){xe.isOpen?(xe.isOpen=!1,xe.close()):(je.setSize(null,null,!1),xe.isOpen=!0,xe.setButtonText())}),Pt=_e(je,"destroy",Je);xe.unbindFullscreenEvent=()=>{Je(),Pt()};let kt=je.renderTo[xe.browserProps.requestFullscreen]();kt&&kt.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){let xe=this.chart,je=xe.exporting?.divElements,rt=xe.options.exporting,Je=rt&&rt.buttons&&rt.buttons.contextButton.menuItems,Pt=xe.options.lang;if(rt&&rt.menuItemDefinitions&&Pt&&Pt.exitFullscreen&&Pt.viewFullscreen&&Je&&je){let kt=je[Je.indexOf("viewFullscreen")];kt&&U().setElementHTML(kt,this.isOpen?Pt.exitFullscreen:rt.menuItemDefinitions.viewFullscreen.text||Pt.viewFullscreen)}}toggle(){this.isOpen?this.close():this.open()}}let{win:ln}=B(),{discardElement:it,objectEach:Ht}=B(),Ut={ajax:function(Pn){let xe={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},je=new XMLHttpRequest;function rt(Je,Pt){Pn.error&&Pn.error(Je,Pt)}if(!Pn.url)return!1;je.open((Pn.type||"get").toUpperCase(),Pn.url,!0),Pn.headers?.["Content-Type"]||je.setRequestHeader("Content-Type",xe[Pn.dataType||"json"]||xe.text),Ht(Pn.headers,function(Je,Pt){je.setRequestHeader(Pt,Je)}),Pn.responseType&&(je.responseType=Pn.responseType),je.onreadystatechange=function(){let Je;if(je.readyState===4){if(je.status===200){if(Pn.responseType!=="blob"&&(Je=je.responseText,Pn.dataType==="json"))try{Je=JSON.parse(Je)}catch(Pt){if(Pt instanceof Error)return rt(je,Pt)}return Pn.success?.(Je,je)}rt(je,je.responseText)}},Pn.data&&typeof Pn.data!="string"&&(Pn.data=JSON.stringify(Pn.data)),je.send(Pn.data)},getJSON:function(Pn,xe){Ut.ajax({url:Pn,success:xe,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:async function(Pn,xe,je){let rt=new ln.FormData;Ht(xe,function(Pt,kt){rt.append(kt,Pt)}),rt.append("b64","true");let Je=await ln.fetch(Pn,{method:"POST",body:rt,...je});if(Je.ok){let Pt=await Je.text(),kt=document.createElement("a");kt.href=`data:${xe.type};base64,${Pt}`,kt.download=xe.filename,kt.click(),it(kt)}}},{defaultOptions:Xe,setOptions:tn}=B(),{downloadURL:eo,getScript:In}={downloadURL:function(Pn,xe){let je=se.navigator,rt=Se.createElement("a");if(typeof Pn!="string"&&!(Pn instanceof String)&&je.msSaveOrOpenBlob)return void je.msSaveOrOpenBlob(Pn,xe);if(Pn=""+Pn,je.userAgent.length>1e3)throw Error("Input too long");let Je=/Edge\/\d+/.test(je.userAgent);if((ce&&typeof Pn=="string"&&Pn.indexOf("data:application/pdf")===0||Je||Pn.length>2e6)&&!(Pn=V(Pn)||""))throw Error("Failed to convert to blob");if(rt.download!==void 0)rt.href=Pn,rt.download=xe,Se.body.appendChild(rt),rt.click(),Se.body.removeChild(rt);else try{if(!se.open(Pn,"chart"))throw Error("Failed to open window")}catch{se.location.href=Pn}},getScript:function(Pn){return new Promise((xe,je)=>{let rt=Se.getElementsByTagName("head")[0],Je=Se.createElement("script");Je.type="text/javascript",Je.src=Pn,Je.onload=()=>{xe()},Je.onerror=()=>{let Pt=`Error loading script ${Pn}`;Ce(Pt),je(Error(Pt))},rt.appendChild(Je)})}},{composed:mn,doc:Dt,isFirefox:un,isMS:ye,isSafari:ms,SVG_NS:Vo,win:Eo}=B(),{addEvent:Oo,clearTimeout:Zn,createElement:xt,css:cn,discardElement:vn,error:qe,extend:pt,find:Ft,fireEvent:Ve,isObject:Ot,merge:Nt,objectEach:Gt,pick:Tt,pushUnique:Et,removeEvent:Yn,splat:fo,uniqueKey:ro}=B();U().allowedAttributes.push("data-z-index","fill-opacity","filter","preserveAspectRatio","rx","ry","stroke-dasharray","stroke-linejoin","stroke-opacity","text-anchor","transform","transform-origin","version","viewBox","visibility","xmlns","xmlns:xlink"),U().allowedTags.push("desc","clippath","fedropshadow","femorphology","g","image");let io=Eo.URL||Eo.webkitURL||Eo;class no{constructor(xe,je){this.options={},this.chart=xe,this.options=je,this.btnCount=0,this.buttonOffset=0,this.divElements=[],this.svgElements=[]}static hyphenate(xe){return xe.replace(/[A-Z]/g,function(je){return"-"+je.toLowerCase()})}static async imageToDataURL(xe,je,rt){let Je=await no.loadImage(xe),Pt=Dt.createElement("canvas"),kt=Pt?.getContext("2d");if(kt)return Pt.height=Je.height*je,Pt.width=Je.width*je,kt.drawImage(Je,0,0,Pt.width,Pt.height),Pt.toDataURL(rt);throw Error("No canvas found!")}static async fetchCSS(xe){let je=await fetch(xe).then(Je=>Je.text()),rt=new CSSStyleSheet;return rt.replaceSync(je),rt}static async handleStyleSheet(xe,je){try{for(let rt of Array.from(xe.cssRules)){if(rt instanceof CSSImportRule){let Je=await no.fetchCSS(rt.href);await no.handleStyleSheet(Je,je)}if(rt instanceof CSSFontFaceRule){let Je=rt.cssText;if(xe.href){let Pt=xe.href,kt=/url\(\s*(['"]?)(?![a-z]+:|\/\/)([^'")]+?)\1\s*\)/gi;Je=Je.replace(kt,(wt,Zt,en)=>{let jn=new URL(en,Pt).href;return`url(${Zt}${jn}${Zt})`})}je.push(Je)}}}catch{if(xe.href){let rt=await no.fetchCSS(xe.href);await no.handleStyleSheet(rt,je)}}}static async fetchStyleSheets(){let xe=[];for(let je of Array.from(Dt.styleSheets))await no.handleStyleSheet(je,xe);return xe}static async inlineFonts(xe){let je=await no.fetchStyleSheets(),rt=/url\(([^)]+)\)/g,Je=[],Pt=je.join(`
`),kt;for(;kt=rt.exec(Pt);){let jn=kt[1].replace(/['"]/g,"");Je.includes(jn)||Je.push(jn)}let wt=jn=>{let sn="",Wt=new Uint8Array(jn);for(let _o=0;_o<Wt.byteLength;_o++)sn+=String.fromCharCode(Wt[_o]);return btoa(sn)},Zt={};for(let jn of Je)try{let sn=await fetch(jn),Wt=sn.headers.get("Content-Type")||"",_o=wt(await sn.arrayBuffer());Zt[jn]=`data:${Wt};base64,${_o}`}catch{}Pt=Pt.replace(rt,(jn,sn)=>{let Wt=sn.replace(/['"]/g,"");return`url(${Zt[Wt]||Wt})`});let en=document.createElementNS("http://www.w3.org/2000/svg","style");return en.textContent=Pt,xe.append(en),xe}static loadImage(xe){return new Promise((je,rt)=>{let Je=new Eo.Image;Je.crossOrigin="Anonymous",Je.onload=()=>{setTimeout(()=>{je(Je)},no.loadEventDeferDelay)},Je.onerror=Pt=>{rt(Pt)},Je.src=xe})}static prepareImageOptions(xe){let je=xe?.type||"image/png",rt=xe?.libURL||Xe.exporting?.libURL;return{type:je,filename:(xe?.filename||"chart")+"."+(je==="image/svg+xml"?"svg":je.split("/")[1]),scale:xe?.scale||1,libURL:rt?.slice(-1)!=="/"?rt+"/":rt}}static sanitizeSVG(xe,je){let rt=xe.indexOf("</svg>")+6,Je=xe.indexOf("<foreignObject")>-1,Pt=xe.substr(rt);return xe=xe.substr(0,rt),Je?xe=xe.replace(/(<(?:img|br).*?(?=\>))>/g,"$1 />"):Pt&&je?.exporting?.allowHTML&&(Pt='<foreignObject x="0" y="0" width="'+je.chart.width+'" height="'+je.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+Pt.replace(/(<(?:img|br).*?(?=\>))>/g,"$1 />")+"</body></foreignObject>",xe=xe.replace("</svg>",Pt+"</svg>")),xe=xe.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery\d+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;)\;?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS\d+\:)?href=/g," xlink:href=").replace(/\n+/g," ").replace(/&nbsp;/g,"").replace(/&shy;/g,"")}static svgToDataURL(xe){let je=Eo.navigator.userAgent,rt=je.indexOf("WebKit")>-1&&0>je.indexOf("Chrome");try{if(!rt&&xe.indexOf("<foreignObject")===-1)return io.createObjectURL(new Eo.Blob([xe],{type:"image/svg+xml;charset-utf-16"}))}catch{}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(xe)}addButton(xe){let je,rt=this,Je=rt.chart,Pt=Je.renderer,kt=Nt(Je.options.navigation?.buttonOptions,xe),wt=kt.onclick,Zt=kt.menuItems,en=kt.symbolSize||12;if(kt.enabled===!1||!kt.theme)return;let jn=Je.styledMode?{}:kt.theme,sn=()=>{};wt?sn=function(_o){_o&&_o.stopPropagation(),wt.call(Je,_o)}:Zt&&(sn=function(_o){_o&&_o.stopPropagation(),rt.contextMenu(Wt.menuClassName,Zt,Wt.translateX||0,Wt.translateY||0,Wt.width||0,Wt.height||0,Wt),Wt.setState(2)}),kt.text&&kt.symbol?jn.paddingLeft=Tt(jn.paddingLeft,30):kt.text||pt(jn,{width:kt.width,height:kt.height,padding:0});let Wt=Pt.button(kt.text||"",0,0,sn,jn,void 0,void 0,void 0,void 0,kt.useHTML).addClass(xe.className||"").attr({title:Tt(Je.options.lang[kt._titleKey||kt.titleKey],"")});Wt.menuClassName=xe.menuClassName||"highcharts-menu-"+rt.btnCount++,kt.symbol&&(je=Pt.symbol(kt.symbol,Math.round((kt.symbolX||0)-en/2),Math.round((kt.symbolY||0)-en/2),en,en,{width:en,height:en}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(Wt),Je.styledMode||je.attr({stroke:kt.symbolStroke,fill:kt.symbolFill,"stroke-width":kt.symbolStrokeWidth||1})),Wt.add(rt.group).align(pt(kt,{width:Wt.width,x:Tt(kt.x,rt.buttonOffset)}),!0,"spacingBox"),rt.buttonOffset+=((Wt.width||0)+(kt.buttonSpacing||0))*(kt.align==="right"?-1:1),rt.svgElements.push(Wt,je)}afterPrint(){let xe=this.chart;if(!this.printReverseInfo)return;let{childNodes:je,origDisplay:rt,resetParams:Je}=this.printReverseInfo;this.moveContainers(xe.renderTo),[].forEach.call(je,function(Pt,kt){Pt.nodeType===1&&(Pt.style.display=rt[kt]||"")}),this.isPrinting=!1,Je&&xe.setSize.apply(xe,Je),delete this.printReverseInfo,no.printingChart=void 0,Ve(xe,"afterPrint")}beforePrint(){let xe=this.chart,je=Dt.body,rt=this.options.printMaxWidth,Je={childNodes:je.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,xe.pointer?.reset(void 0,0),Ve(xe,"beforePrint"),rt&&xe.chartWidth>rt&&(Je.resetParams=[xe.options.chart.width,void 0,!1],xe.setSize(rt,void 0,!1)),[].forEach.call(Je.childNodes,function(Pt,kt){Pt.nodeType===1&&(Je.origDisplay[kt]=Pt.style.display,Pt.style.display="none")}),this.moveContainers(je),this.printReverseInfo=Je}contextMenu(xe,je,rt,Je,Pt,kt,wt){let Zt=this,en=Zt.chart,jn=en.options.navigation,sn=en.chartWidth,Wt=en.chartHeight,_o="cache-"+xe,$o=Math.max(Pt,kt),Cs,Hs=en[_o];Hs||(Zt.contextMenuEl=en[_o]=Hs=xt("div",{className:xe},{position:"absolute",zIndex:1e3,padding:$o+"px",pointerEvents:"auto",...en.renderer.style},en.scrollablePlotArea?.fixedDiv||en.container),Cs=xt("ul",{className:"highcharts-menu"},en.styledMode?{}:{listStyle:"none",margin:0,padding:0},Hs),en.styledMode||cn(Cs,pt({MozBoxShadow:"3px 3px 10px #0008",WebkitBoxShadow:"3px 3px 10px #0008",boxShadow:"3px 3px 10px #0008"},jn?.menuStyle||{})),Hs.hideMenu=function(){cn(Hs,{display:"none"}),wt&&wt.setState(0),en.exporting&&(en.exporting.openMenu=!1),cn(en.renderTo,{overflow:"hidden"}),cn(en.container,{overflow:"hidden"}),Zn(Hs.hideTimer),Ve(en,"exportMenuHidden")},Zt.events?.push(Oo(Hs,"mouseleave",function(){Hs.hideTimer=Eo.setTimeout(Hs.hideMenu,500)}),Oo(Hs,"mouseenter",function(){Zn(Hs.hideTimer)}),Oo(Dt,"mouseup",function(No){en.pointer?.inClass(No.target,xe)||Hs.hideMenu()}),Oo(Hs,"click",function(){en.exporting?.openMenu&&Hs.hideMenu()})),je.forEach(function(No){if(typeof No=="string"&&Zt.options.menuItemDefinitions?.[No]&&(No=Zt.options.menuItemDefinitions[No]),Ot(No,!0)){let Xo;No.separator?Xo=xt("hr",void 0,void 0,Cs):(No.textKey==="viewData"&&Zt.isDataTableVisible&&(No.textKey="hideData"),Xo=xt("li",{className:"highcharts-menu-item",onclick:function(es){es&&es.stopPropagation(),Hs.hideMenu(),typeof No!="string"&&No.onclick&&No.onclick.apply(en,arguments)}},void 0,Cs),U().setElementHTML(Xo,No.text||en.options.lang[No.textKey]),en.styledMode||(Xo.onmouseover=function(){cn(this,jn?.menuItemHoverStyle||{})},Xo.onmouseout=function(){cn(this,jn?.menuItemStyle||{})},cn(Xo,pt({cursor:"pointer"},jn?.menuItemStyle||{})))),Zt.divElements.push(Xo)}}),Zt.divElements.push(Cs,Hs),Zt.menuHeight=Hs.offsetHeight,Zt.menuWidth=Hs.offsetWidth);let or={display:"block"};rt+(Zt.menuWidth||0)>sn?or.right=sn-rt-Pt-$o+"px":or.left=rt-$o+"px",Je+kt+(Zt.menuHeight||0)>Wt&&wt.alignOptions?.verticalAlign!=="top"?or.bottom=Wt-Je-$o+"px":or.top=Je+kt-$o+"px",cn(Hs,or),cn(en.renderTo,{overflow:""}),cn(en.container,{overflow:""}),en.exporting&&(en.exporting.openMenu=!0),Ve(en,"exportMenuShown")}destroy(xe){let je,rt=xe?xe.target:this.chart,{divElements:Je,events:Pt,svgElements:kt}=this;kt.forEach((wt,Zt)=>{wt&&(wt.onclick=wt.ontouchstart=null,rt[je="cache-"+wt.menuClassName]&&delete rt[je],kt[Zt]=wt.destroy())}),kt.length=0,this.group&&(this.group.destroy(),delete this.group),Je.forEach(function(wt,Zt){wt&&(Zn(wt.hideTimer),Yn(wt,"mouseleave"),Je[Zt]=wt.onmouseout=wt.onmouseover=wt.ontouchstart=wt.onclick=null,vn(wt))}),Je.length=0,Pt&&(Pt.forEach(function(wt){wt()}),Pt.length=0)}async downloadSVG(xe,je){let rt,Je={svg:xe,exportingOptions:je,exporting:this};if(Ve(no.prototype,"downloadSVG",Je),Je.defaultPrevented)return;let{type:Pt,filename:kt,scale:wt,libURL:Zt}=no.prepareImageOptions(je);if(Pt==="application/pdf")throw Error("Offline exporting logic for PDF type is not found.");if(Pt==="image/svg+xml"){if(Eo.MSBlobBuilder!==void 0){let en=new Eo.MSBlobBuilder;en.append(xe),rt=en.getBlob("image/svg+xml")}else rt=no.svgToDataURL(xe);eo(rt,kt)}else{rt=no.svgToDataURL(xe);try{no.objectURLRevoke=!0;let en=await no.imageToDataURL(rt,wt,Pt);eo(en,kt)}catch(en){if(en.message==="No canvas found!")throw en;if(xe.length>1e8)throw Error("Input too long");let jn=Dt.createElement("canvas"),sn=jn.getContext("2d"),Wt=xe.match(/^<svg[^>]*\s{,1000}width\s{,1000}=\s{,1000}\"?(\d+)\"?[^>]*>/),_o=xe.match(/^<svg[^>]*\s{0,1000}height\s{,1000}=\s{,1000}\"?(\d+)\"?[^>]*>/);if(sn&&Wt&&_o){let $o=Wt[1]*wt,Cs=_o[1]*wt;jn.width=$o,jn.height=Cs,Eo.canvg||(no.objectURLRevoke=!0,await In(Zt+"canvg.js")),Eo.canvg.Canvg.fromString(sn,xe).start(),eo(Eo.navigator.msSaveOrOpenBlob?jn.msToBlob():jn.toDataURL(Pt),kt)}}finally{if(no.objectURLRevoke)try{io.revokeObjectURL(rt)}catch{}}}}async exportChart(xe,je){if((xe=Nt(this.options,xe)).local)await this.localExport(xe,je||{});else{let rt=this.getSVGForExport(xe,je);xe.url&&await Ut.post(xe.url,{filename:xe.filename?xe.filename.replace(/\//g,"-"):this.getFilename(),type:xe.type,width:xe.width,scale:xe.scale,svg:rt},xe.fetchOptions)}}async fallbackToServer(xe,je){xe.fallbackToExportServer===!1?xe.error?xe.error(xe,je):qe(28,!0):xe.type==="application/pdf"&&(xe.local=!1,await this.exportChart(xe))}getChartHTML(xe){let je=this.chart;return xe&&this.inlineStyles(),this.resolveCSSVariables(),je.container.innerHTML}getFilename(){let xe=this.chart.userOptions.title?.text,je=this.options.filename;return je?je.replace(/\//g,"-"):(typeof xe=="string"&&(je=xe.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z\d\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!je||je.length<5)&&(je="chart"),je)}getSVG(xe){let je=this.chart,rt,Je,Pt=Nt(je.options,xe);Pt.plotOptions=Nt(je.userOptions.plotOptions,xe?.plotOptions),Pt.time=Nt(je.userOptions.time,xe?.time);let kt=xt("div",void 0,{position:"absolute",top:"-9999em",width:je.chartWidth+"px",height:je.chartHeight+"px"},Dt.body),wt=je.renderTo.style.width,Zt=je.renderTo.style.height,en=Pt.exporting?.sourceWidth||Pt.chart.width||/px$/.test(wt)&&parseInt(wt,10)||(Pt.isGantt?800:600),jn=Pt.exporting?.sourceHeight||Pt.chart.height||/px$/.test(Zt)&&parseInt(Zt,10)||400;pt(Pt.chart,{animation:!1,renderTo:kt,forExport:!0,renderer:"SVGRenderer",width:en,height:jn}),Pt.exporting&&(Pt.exporting.enabled=!1),delete Pt.data,Pt.series=[],je.series.forEach(function(_o){(Je=Nt(_o.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:_o.visible})).isInternal||Pt?.series?.push(Je)});let sn={};je.axes.forEach(function(_o){_o.userOptions.internalKey||(_o.userOptions.internalKey=ro()),Pt&&!_o.options.isInternal&&(sn[_o.coll]||(sn[_o.coll]=!0,Pt[_o.coll]=[]),Pt[_o.coll].push(Nt(_o.userOptions,{visible:_o.visible,type:_o.type,uniqueNames:_o.uniqueNames})))}),Pt.colorAxis=je.userOptions.colorAxis;let Wt=new je.constructor(Pt,je.callback);return xe&&["xAxis","yAxis","series"].forEach(function(_o){xe[_o]&&Wt.update({[_o]:xe[_o]})}),je.axes.forEach(function(_o){let $o=Ft(Wt.axes,Cs=>Cs.options.internalKey===_o.userOptions.internalKey);if($o){let Cs=_o.getExtremes(),Hs=fo(xe?.[_o.coll]||{})[0],or="min"in Hs?Hs.min:Cs.userMin,No="max"in Hs?Hs.max:Cs.userMax;(or!==void 0&&or!==$o.min||No!==void 0&&No!==$o.max)&&$o.setExtremes(or??void 0,No??void 0,!0,!1)}}),rt=Wt.exporting?.getChartHTML(je.styledMode||Pt.exporting?.applyStyleSheets)||"",Ve(je,"getSVG",{chartCopy:Wt}),rt=no.sanitizeSVG(rt,Pt),Pt=void 0,Wt.destroy(),vn(kt),rt}getSVGForExport(xe,je){let rt=this.options;return this.getSVG(Nt({chart:{borderRadius:0}},rt.chartOptions,je,{exporting:{sourceWidth:xe?.sourceWidth||rt.sourceWidth,sourceHeight:xe?.sourceHeight||rt.sourceHeight}}))}inlineStyles(){let xe,je=no.inlineDenylist,rt=no.inlineAllowlist,Je={},Pt=xt("iframe",void 0,{width:"1px",height:"1px",visibility:"hidden"},Dt.body),kt=Pt.contentWindow?.document;kt&&kt.body.appendChild(kt.createElementNS(Vo,"svg")),(function wt(Zt){let en,jn,sn,Wt,_o,$o,Cs={};if(kt&&Zt.nodeType===1&&no.unstyledElements.indexOf(Zt.nodeName)===-1){if(en=Eo.getComputedStyle(Zt,null),jn=Zt.nodeName==="svg"?{}:Eo.getComputedStyle(Zt.parentNode,null),!Je[Zt.nodeName]){xe=kt.getElementsByTagName("svg")[0],sn=kt.createElementNS(Zt.namespaceURI,Zt.nodeName),xe.appendChild(sn);let Hs=Eo.getComputedStyle(sn,null),or={};for(let No in Hs)No.length<1e3&&typeof Hs[No]=="string"&&!/^\d+$/.test(No)&&(or[No]=Hs[No]);Je[Zt.nodeName]=or,Zt.nodeName==="text"&&delete Je.text.fill,xe.removeChild(sn)}for(let Hs in en)(un||ye||ms||Object.hasOwnProperty.call(en,Hs))&&(function(or,No){if(Wt=_o=!1,rt.length){for($o=rt.length;$o--&&!_o;)_o=rt[$o].test(No);Wt=!_o}for(No==="transform"&&or==="none"&&(Wt=!0),$o=je.length;$o--&&!Wt;){if(No.length>1e3)throw Error("Input too long");Wt=je[$o].test(No)||typeof or=="function"}!Wt&&(jn[No]!==or||Zt.nodeName==="svg")&&Je[Zt.nodeName][No]!==or&&(no.inlineToAttributes&&no.inlineToAttributes.indexOf(No)===-1?Cs[No]=or:or&&Zt.setAttribute(no.hyphenate(No),or))})(en[Hs],Hs);if(cn(Zt,Cs),Zt.nodeName==="svg"&&Zt.setAttribute("stroke-width","1px"),Zt.nodeName==="text")return;[].forEach.call(Zt.children||Zt.childNodes,wt)}})(this.chart.container.querySelector("svg")),xe.parentNode.removeChild(xe),Pt.parentNode.removeChild(Pt)}async localExport(xe,je){let rt=this.chart,Je,Pt,kt=null,wt;if(ye&&rt.styledMode&&!no.inlineAllowlist.length&&no.inlineAllowlist.push(/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/),ye&&(xe.type==="application/pdf"||rt.container.getElementsByTagName("image").length&&xe.type!=="image/svg+xml")||xe.type==="application/pdf"&&[].some.call(rt.container.getElementsByTagName("image"),function(en){let jn=en.getAttribute("href");return jn!==""&&typeof jn=="string"&&jn.indexOf("data:")!==0}))return void await this.fallbackToServer(xe,Error("Image type not supported for this chart/browser."));let Zt=Oo(rt,"getSVG",en=>{Pt=en.chartCopy.options,wt=(Je=en.chartCopy.container.cloneNode(!0))&&Je.getElementsByTagName("image")||[]});try{let en;for(let Wt of(this.getSVGForExport(xe,je),wt?Array.from(wt):[]))if(kt=Wt.getAttributeNS("http://www.w3.org/1999/xlink","href")){no.objectURLRevoke=!1;let _o=await no.imageToDataURL(kt,xe?.scale||1,xe?.type||"image/png");Wt.setAttributeNS("http://www.w3.org/1999/xlink","href",_o)}else Wt.parentNode.removeChild(Wt);let jn=Je?.querySelector("svg");jn&&!xe.chartOptions?.chart?.style?.fontFamily&&await no.inlineFonts(jn);let sn=(en=Je?.innerHTML,no.sanitizeSVG(en||"",Pt));if(sn.indexOf("<foreignObject")>-1&&xe.type!=="image/svg+xml"&&(ye||xe.type==="application/pdf"))throw Error("Image type not supported for charts with embedded HTML");return await this.downloadSVG(sn,pt({filename:this.getFilename()},xe)),sn}catch(en){await this.fallbackToServer(xe,en)}finally{Zt()}}moveContainers(xe){let je=this.chart,{scrollablePlotArea:rt}=je;(rt?[rt.fixedDiv,rt.scrollingContainer]:[je.container]).forEach(function(Je){xe.appendChild(Je)})}print(){let xe=this.chart;this.isPrinting||(no.printingChart=xe,ms||this.beforePrint(),setTimeout(()=>{Eo.focus(),Eo.print(),ms||setTimeout(()=>{xe.exporting?.afterPrint()},1e3)},1))}render(){let xe=this,{chart:je,options:rt}=xe,Je=xe?.isDirty||!xe?.svgElements.length;xe.buttonOffset=0,xe.isDirty&&xe.destroy(),Je&&rt.enabled!==!1&&(xe.events=[],xe.group||(xe.group=je.renderer.g("exporting-group").attr({zIndex:3}).add()),Gt(rt?.buttons,function(Pt){xe.addButton(Pt)}),xe.isDirty=!1)}resolveCSSVariables(){Array.from(this.chart.container.querySelectorAll("*")).forEach(xe=>{["color","fill","stop-color","stroke"].forEach(je=>{xe.getAttribute(je)?.includes("var(")&&xe.setAttribute(je,getComputedStyle(xe).getPropertyValue(je)),xe.style?.[je]?.includes("var(")&&(xe.style[je]=getComputedStyle(xe).getPropertyValue(je))})})}update(xe,je){this.isDirty=!0,Nt(!0,this.options,xe),Tt(je,!0)&&this.chart.redraw()}}no.inlineAllowlist=[],no.inlineDenylist=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/^(cssRules|ownerRules)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^\d+$/],no.inlineToAttributes=["fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","textAnchor","x","y"],no.loadEventDeferDelay=150*!!ye,no.unstyledElements=["clipPath","defs","desc"],(function(Pn){function xe(Je){let Pt=Je.exporting;Pt&&(Pt.render(),Oo(Je,"redraw",function(){this.exporting?.render()}),Oo(Je,"destroy",function(){this.exporting?.destroy()}))}function je(){let Je=this;Je.options.exporting&&(Je.exporting=new Pn(Je,Je.options.exporting),te.compose(Je).navigation.addUpdate((Pt,kt)=>{Je.exporting&&(Je.exporting.isDirty=!0,Nt(!0,Je.options.navigation,Pt),Tt(kt,!0)&&Je.redraw())}))}function rt({alignTo:Je,key:Pt,textPxLength:kt}){let wt=this.options.exporting,{align:Zt,buttonSpacing:en=0,verticalAlign:jn,width:sn=0}=Nt(this.options.navigation?.buttonOptions,wt?.buttons?.contextButton),Wt=Je.width-kt,_o=sn+en;(wt?.enabled??!0)&&Pt==="title"&&Zt==="right"&&jn==="top"&&Wt<2*_o&&(Wt<_o?Je.width-=_o:this.title?.alignValue!=="left"&&(Je.x-=_o-Wt/2))}Pn.compose=function(Je,Pt){$e.compose(Pt),ee.compose(Je),Et(mn,"Exporting")&&(pt(Z().prototype,{exportChart:async function(kt,wt){await this.exporting?.exportChart(kt,wt)},getChartHTML:function(kt){return this.exporting?.getChartHTML(kt)},getFilename:function(){return this.exporting?.getFilename()},getSVG:function(kt){return this.exporting?.getSVG(kt)},print:function(){return this.exporting?.print()}}),Je.prototype.callbacks.push(xe),Oo(Je,"afterInit",je),Oo(Je,"layOutTitle",rt),ms&&Eo.matchMedia("print").addListener(function(kt){Pn.printingChart&&(kt.matches?Pn.printingChart.exporting?.beforePrint():Pn.printingChart.exporting?.afterPrint())}),tn(et))}})(no||(no={}));let _s=no,Wo=B();Wo.Exporting=_s,Wo.HttpUtilities=Wo.HttpUtilities||Ut,Wo.ajax=Wo.HttpUtilities.ajax,Wo.getJSON=Wo.HttpUtilities.getJSON,Wo.post=Wo.HttpUtilities.post,_s.compose(Wo.Chart,Wo.Renderer);let Bs=B();return x.default})())})(XX)),XX.exports}var d7e=u7e();const h7e=m4(d7e);var JX={exports:{}},f7e=JX.exports,qEe;function p7e(){return qEe||(qEe=1,(function(e,n){(function(o,i){e.exports=i(o._Highcharts,o._Highcharts.AST,o._Highcharts.Chart)})(typeof window>"u"?f7e:window,(o,i,c)=>(()=>{var d,p={660:mn=>{mn.exports=i},944:mn=>{mn.exports=o},960:mn=>{mn.exports=c}},v={};function S(mn){var Dt=v[mn];if(Dt!==void 0)return Dt.exports;var un=v[mn]={exports:{}};return p[mn](un,un.exports,S),un.exports}S.n=mn=>{var Dt=mn&&mn.__esModule?()=>mn.default:()=>mn;return S.d(Dt,{a:Dt}),Dt},S.d=(mn,Dt)=>{for(var un in Dt)S.o(Dt,un)&&!S.o(mn,un)&&Object.defineProperty(mn,un,{enumerable:!0,get:Dt[un]})},S.o=(mn,Dt)=>Object.prototype.hasOwnProperty.call(mn,Dt);var _={};S.d(_,{default:()=>In});var x=S(944),P=S.n(x);let{isSafari:B,win:H,win:{document:U}}=P(),{error:z}=P(),Z=H.URL||H.webkitURL||H;function te(mn){let Dt=mn.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([A-Z+\d\/]+)/i);if(Dt&&Dt.length>3&&H.atob&&H.ArrayBuffer&&H.Uint8Array&&H.Blob&&Z.createObjectURL){let un=H.atob(Dt[3]),ye=new H.ArrayBuffer(un.length),ms=new H.Uint8Array(ye);for(let Vo=0;Vo<ms.length;++Vo)ms[Vo]=un.charCodeAt(Vo);return Z.createObjectURL(new H.Blob([ms],{type:Dt[1]}))}}let ce={dataURLtoBlob:te,downloadURL:function(mn,Dt){let un=H.navigator,ye=U.createElement("a");if(typeof mn!="string"&&!(mn instanceof String)&&un.msSaveOrOpenBlob)return void un.msSaveOrOpenBlob(mn,Dt);if(mn=""+mn,un.userAgent.length>1e3)throw Error("Input too long");let ms=/Edge\/\d+/.test(un.userAgent);if((B&&typeof mn=="string"&&mn.indexOf("data:application/pdf")===0||ms||mn.length>2e6)&&!(mn=te(mn)||""))throw Error("Failed to convert to blob");if(ye.download!==void 0)ye.href=mn,ye.download=Dt,U.body.appendChild(ye),ye.click(),U.body.removeChild(ye);else try{if(!H.open(mn,"chart"))throw Error("Failed to open window")}catch{H.location.href=mn}}};var se=S(660),Se=S.n(se),Ce=S(960),Te=S.n(Ce);let V={exporting:{csv:{annotations:{itemDelimiter:"; ",join:!1},columnHeaderFormatter:null,dateFormat:"%Y-%m-%d %H:%M:%S",decimalPoint:null,itemDelimiter:null,lineDelimiter:`
`},menuItemDefinitions:{downloadCSV:{textKey:"downloadCSV",onclick:function(){this.exporting?.downloadCSV()}},downloadXLS:{textKey:"downloadXLS",onclick:function(){this.exporting?.downloadXLS()}},viewData:{textKey:"viewData",onclick:function(){this.exporting?.wrapLoading(this.exporting.toggleDataTable)}}},showTable:!1,useMultiLevelHeaders:!0,useRowspanHeaders:!0,showExportInProgress:!0},lang:{downloadCSV:"Download CSV",downloadXLS:"Download XLS",exportData:{annotationHeader:"Annotations",categoryHeader:"Category",categoryDatetimeHeader:"DateTime"},viewData:"View data table",hideData:"Hide data table",exportInProgress:"Exporting..."}},{getOptions:ke,setOptions:et}=P(),{downloadURL:$e}=ce,{composed:Re,doc:_e,win:ut}=P(),{addEvent:ct,defined:St,extend:ee,find:ln,fireEvent:it,isNumber:Ht,pick:Ut,pushUnique:Xe}=P();(function(mn){function Dt(){this.wrapLoading(()=>{let Ve=this.getCSV(!0);$e(ye(Ve,"text/csv")||"data:text/csv,\uFEFF"+encodeURIComponent(Ve),this.getFilename()+".csv")})}function un(){this.wrapLoading(()=>{let Ve='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--><style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:"0.00";} .text{ mso-number-format:"@";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+"</body></html>";$e(ye(Ve,"application/vnd.ms-excel")||"data:application/vnd.ms-excel;base64,"+ut.btoa(unescape(encodeURIComponent(Ve))),this.getFilename()+".xls")})}function ye(Ve,Ot){let Nt=ut.navigator,Gt=ut.URL||ut.webkitURL||ut;try{if(Nt.msSaveOrOpenBlob&&ut.MSBlobBuilder){let Tt=new ut.MSBlobBuilder;return Tt.append(Ve),Tt.getBlob("image/svg+xml")}return Gt.createObjectURL(new ut.Blob(["\uFEFF"+Ve],{type:Ot}))}catch{}}function ms(Ve){let Ot="",Nt=this.getDataRows(),Gt=this.options?.csv,Tt=Ut(Gt?.decimalPoint,Gt?.itemDelimiter!==","&&Ve?1.1.toLocaleString()[1]:"."),Et=Ut(Gt?.itemDelimiter,Tt===","?";":","),Yn=Gt?.lineDelimiter;return Nt.forEach((fo,ro)=>{let io="",no=fo.length;for(;no--;)typeof(io=fo[no])=="string"&&(io=`"${io}"`),typeof io=="number"&&Tt!=="."&&(io=io.toString().replace(".",Tt)),fo[no]=io;fo.length=Nt.length?Nt[0].length:0,Ot+=fo.join(Et),ro<Nt.length-1&&(Ot+=Yn)}),Ot}function Vo(Ve){let Ot,Nt,Gt=this.chart,Tt=Gt.hasParallelCoordinates,Et=Gt.time,Yn=this.options?.csv||{},fo=Gt.xAxis,ro={},io=[],no=[],_s=[],Wo=Gt.options.lang.exportData,Bs=Wo?.categoryHeader,Pn=Wo?.categoryDatetimeHeader,xe=function(sn,Wt,_o){if(Yn.columnHeaderFormatter){let $o=Yn.columnHeaderFormatter(sn,Wt,_o);if($o!==!1)return $o}return!sn&&Bs?Bs:!sn.bindAxes&&Pn&&Bs?sn.options.title&&sn.options.title.text||(sn.dateTime?Pn:Bs):Ve?{columnTitle:((_o||0)>1?Wt:sn.name)||"",topLevelColumnTitle:sn.name}:sn.name+((_o||0)>1?" ("+Wt+")":"")},je=function(sn,Wt,_o){let $o={},Cs={};return Wt.forEach(function(Hs){let or=(sn.keyToAxis&&sn.keyToAxis[Hs]||Hs)+"Axis",No=Ht(_o)?sn.chart[or][_o]:sn[or];$o[Hs]=No&&No.categories||[],Cs[Hs]=No&&No.dateTime}),{categoryMap:$o,dateTimeValueAxisMap:Cs}},rt=function(sn,Wt){let _o=sn.pointArrayMap||["y"];return sn.data.some($o=>$o.y!==void 0&&$o.name)&&Wt&&!Wt.categories&&sn.exportKey!=="name"?["x",..._o]:_o},Je=[],Pt,kt,wt,Zt=0,en,jn;for(en in Gt.series.forEach(function(sn){let Wt=sn.options.keys,_o=sn.xAxis,$o=Wt||rt(sn,_o),Cs=$o.length,Hs=!sn.requireSorting&&{},or=fo.indexOf(_o),No=je(sn,$o),Xo,es;if(sn.options.includeInDataExport!==!1&&!sn.options.isInternal&&sn.visible!==!1){for(ln(Je,function(Ma){return Ma[0]===or})||Je.push([or,Zt]),es=0;es<Cs;)wt=xe(sn,$o[es],$o.length),_s.push(wt.columnTitle||wt),Ve&&no.push(wt.topLevelColumnTitle||wt),es++;Xo={chart:sn.chart,autoIncrement:sn.autoIncrement,options:sn.options,pointArrayMap:sn.pointArrayMap,index:sn.index},sn.options.data?.forEach(function(Ma,kl){let oi,zo,il,da={series:Xo};Tt&&(No=je(sn,$o,kl)),sn.pointClass.prototype.applyOptions.apply(da,[Ma]);let Qu=sn.data[kl]&&sn.data[kl].name;if(oi=(da.x??"")+","+Qu,es=0,(!_o||sn.exportKey==="name"||!Tt&&_o&&_o.hasNames&&Qu)&&(oi=Qu),Hs&&(Hs[oi]&&(oi+="|"+kl),Hs[oi]=!0),ro[oi]){let Ea=`${oi},${ro[oi].pointers[sn.index]}`,fc=oi;ro[oi].pointers[sn.index]&&(ro[Ea]||(ro[Ea]=[],ro[Ea].xValues=[],ro[Ea].pointers=[]),oi=Ea),ro[fc].pointers[sn.index]+=1}else{ro[oi]=[],ro[oi].xValues=[];let Ea=[];for(let fc=0;fc<sn.chart.series.length;fc++)Ea[fc]=0;ro[oi].pointers=Ea,ro[oi].pointers[sn.index]=1}for(ro[oi].x=da.x,ro[oi].name=Qu,ro[oi].xValues[or]=da.x;es<Cs;)zo=$o[es],il=sn.pointClass.prototype.getNestedProperty.apply(da,[zo]),ro[oi][Zt+es]=Ut(No.categoryMap[zo][il],No.dateTimeValueAxisMap[zo]?Et.dateFormat(Yn.dateFormat,il):null,il),es++}),Zt+=es}}),ro)Object.hasOwnProperty.call(ro,en)&&io.push(ro[en]);for(kt=Ve?[no,_s]:[_s],Zt=Je.length;Zt--;)Ot=Je[Zt][0],Nt=Je[Zt][1],Pt=fo[Ot],io.sort(function(sn,Wt){return sn.xValues[Ot]-Wt.xValues[Ot]}),jn=xe(Pt),kt[0].splice(Nt,0,jn),Ve&&kt[1]&&kt[1].splice(Nt,0,jn),io.forEach(function(sn){let Wt=sn.name;Pt&&!St(Wt)&&(Pt.dateTime?(sn.x instanceof Date&&(sn.x=sn.x.getTime()),Wt=Et.dateFormat(Yn.dateFormat,sn.x)):Wt=Pt.categories?Ut(Pt.names[sn.x],Pt.categories[sn.x],sn.x):sn.x),sn.splice(Nt,0,Wt)});return it(Gt,"exportData",{dataRows:kt=kt.concat(io)}),kt}function Eo(Ve){let Ot=Nt=>{if(!Nt.tagName||Nt.tagName==="#text")return Nt.textContent||"";let Gt=Nt.attributes,Tt=`<${Nt.tagName}`;return Gt&&Object.keys(Gt).forEach(Et=>{let Yn=Gt[Et];Tt+=` ${Et}="${Yn}"`}),Tt+=">",Tt+=Nt.textContent||"",(Nt.children||[]).forEach(Et=>{Tt+=Ot(Et)}),Tt+=`</${Nt.tagName}>`};return Ot(this.getTableAST(Ve))}function Oo(Ve){let Ot=0,Nt=[],Gt=this,Tt=Gt.chart,Et=Tt.options,Yn=Ve?1.1.toLocaleString()[1]:".",fo=Ut(Gt.options.useMultiLevelHeaders,!0),ro=Gt.getDataRows(fo),io=fo?ro.shift():null,no=ro.shift(),_s=function(je,rt){let Je=je.length;if(rt.length!==Je)return!1;for(;Je--;)if(je[Je]!==rt[Je])return!1;return!0},Wo=function(je,rt,Je,Pt){let kt=Ut(Pt,""),wt="highcharts-text"+(rt?" "+rt:"");return typeof kt=="number"?(kt=Tt.numberFormatter(kt,-1,Yn,je==="th"?"":void 0),wt="highcharts-number"):Pt||(wt="highcharts-empty"),{tagName:je,attributes:Je=ee({class:wt},Je),textContent:kt}},{tableCaption:Bs}=Gt.options||{};Bs!==!1&&Nt.push({tagName:"caption",attributes:{class:"highcharts-table-caption"},textContent:typeof Bs=="string"?Bs:Et.title?.text||Et.lang.chartTitle});for(let je=0,rt=ro.length;je<rt;++je)ro[je].length>Ot&&(Ot=ro[je].length);Nt.push((function(je,rt,Je){let Pt=[],kt=0,wt=Je||rt&&rt.length,Zt,en=0,jn;if(fo&&je&&rt&&!_s(je,rt)){let sn=[];for(;kt<wt;++kt)if((Zt=je[kt])===je[kt+1])++en;else if(en)sn.push(Wo("th","highcharts-table-topheading",{scope:"col",colspan:en+1},Zt)),en=0;else{Zt===rt[kt]?Gt.options.useRowspanHeaders?(jn=2,delete rt[kt]):(jn=1,rt[kt]=""):jn=1;let Wt=Wo("th","highcharts-table-topheading",{scope:"col"},Zt);jn>1&&Wt.attributes&&(Wt.attributes.valign="top",Wt.attributes.rowspan=jn),sn.push(Wt)}Pt.push({tagName:"tr",children:sn})}if(rt){let sn=[];for(kt=0,wt=rt.length;kt<wt;++kt)rt[kt]!==void 0&&sn.push(Wo("th",null,{scope:"col"},rt[kt]));Pt.push({tagName:"tr",children:sn})}return{tagName:"thead",children:Pt}})(io,no||[],Math.max(Ot,no?.length||0)));let Pn=[];ro.forEach(function(je){let rt=[];for(let Je=0;Je<Ot;Je++)rt.push(Wo(Je?"td":"th",null,Je?{}:{scope:"row"},je[Je]));Pn.push({tagName:"tr",children:rt})}),Nt.push({tagName:"tbody",children:Pn});let xe={tree:{tagName:"table",id:`highcharts-data-table-${Tt.index}`,children:Nt}};return it(Tt,"afterGetTableAST",xe),xe.tree}function Zn(){this.toggleDataTable(!1)}function xt(Ve){let Ot=this.chart,Nt=(Ve=Ut(Ve,!this.isDataTableVisible))&&!this.dataTableDiv;if(Nt&&(this.dataTableDiv=_e.createElement("div"),this.dataTableDiv.className="highcharts-data-table",Ot.renderTo.parentNode.insertBefore(this.dataTableDiv,Ot.renderTo.nextSibling)),this.dataTableDiv){let fo=this.dataTableDiv.style,ro=fo.display;fo.display=Ve?"block":"none",Ve?(this.dataTableDiv.innerHTML=Se().emptyHTML,new(Se())([this.getTableAST()]).addToDOM(this.dataTableDiv),it(Ot,"afterViewData",{element:this.dataTableDiv,wasHidden:Nt||ro!==fo.display})):it(Ot,"afterHideData")}this.isDataTableVisible=Ve;let Gt=this.divElements,Tt=this.options,Et=Tt.buttons?.contextButton.menuItems,Yn=Ot.options.lang;if(Tt&&Tt.menuItemDefinitions&&Yn&&Yn.viewData&&Yn.hideData&&Et&&Gt){let fo=Gt[Et.indexOf("viewData")];fo&&Se().setElementHTML(fo,this.isDataTableVisible?Yn.hideData:Yn.viewData)}}function cn(){this.toggleDataTable(!0)}function vn(Ve){let Ot=this.chart,Nt=!!this.options.showExportInProgress,Gt=ut.requestAnimationFrame||setTimeout;Gt(()=>{Nt&&Ot.showLoading(Ot.options.lang.exportInProgress),Gt(()=>{try{Ve.call(this)}finally{Nt&&Ot.hideLoading()}})})}function qe(){let Ve=this.exporting,Ot=Ve?.dataTableDiv,Nt=(Tt,Et)=>Tt.children[Et].textContent,Gt=(Tt,Et)=>(Yn,fo)=>{let ro,io;return ro=Nt(Et?Yn:fo,Tt),io=Nt(Et?fo:Yn,Tt),ro===""||io===""||isNaN(ro)||isNaN(io)?ro.toString().localeCompare(io):ro-io};if(Ot&&Ve.options.allowTableSorting){let Tt=Ot.querySelector("thead tr");Tt&&Tt.childNodes.forEach(Et=>{let Yn=Ot.querySelector("tbody");Et.addEventListener("click",function(){let fo=[...Ot.querySelectorAll("tr:not(thead tr)")],ro=[...Et.parentNode.children];Ve&&(fo.sort(Gt(ro.indexOf(Et),Ve.ascendingOrderInTable=!Ve.ascendingOrderInTable)).forEach(io=>{Yn?.appendChild(io)}),ro.forEach(io=>{["highcharts-sort-ascending","highcharts-sort-descending"].forEach(no=>{io.classList.contains(no)&&io.classList.remove(no)})}),Et.classList.add(Ve.ascendingOrderInTable?"highcharts-sort-ascending":"highcharts-sort-descending"))})})}}function pt(){this.options?.exporting?.showTable&&!this.options.chart.forExport&&this.exporting?.viewData()}function Ft(){this.exporting?.dataTableDiv?.remove()}mn.compose=function(Ve,Ot,Nt){if(!Xe(Re,"ExportData"))return;ee(Te().prototype,{downloadCSV:function(){return this.exporting?.downloadCSV()},downloadXLS:function(){return this.exporting?.downloadXLS()},getCSV:function(Tt){return this.exporting?.getCSV(Tt)},getDataRows:function(Tt){return this.exporting?.getDataRows(Tt)},getTable:function(Tt){return this.exporting?.getTable(Tt)},getTableAST:function(Tt){return this.exporting?.getTableAST(Tt)},hideData:function(){return this.exporting?.hideData()},toggleDataTable:function(Tt){return this.exporting?.toggleDataTable(Tt)},viewData:function(){return this.exporting?.viewData()}});let Gt=Ot.prototype;if(!Gt.downloadCSV){ct(Ve,"afterViewData",qe),ct(Ve,"render",pt),ct(Ve,"destroy",Ft),Gt.downloadCSV=Dt,Gt.downloadXLS=un,Gt.getCSV=ms,Gt.getDataRows=Vo,Gt.getTable=Eo,Gt.getTableAST=Oo,Gt.hideData=Zn,Gt.toggleDataTable=xt,Gt.wrapLoading=vn,Gt.viewData=cn,et(V);let Tt=ke().exporting?.buttons?.contextButton?.menuItems;Tt&&Tt.push("separator","downloadCSV","downloadXLS","viewData");let{arearange:Et,gantt:Yn,map:fo,mapbubble:ro,treemap:io,xrange:no}=Nt.types;Et&&(Et.prototype.keyToAxis={low:"y",high:"y"}),Yn&&(Yn.prototype.exportKey="name",Yn.prototype.keyToAxis={start:"x",end:"x"}),fo&&(fo.prototype.exportKey="name"),ro&&(ro.prototype.exportKey="name"),io&&(io.prototype.exportKey="name"),no&&(no.prototype.keyToAxis={x2:"x"})}}})(d||(d={}));let tn=d,eo=P();eo.dataURLtoBlob=eo.dataURLtoBlob||ce.dataURLtoBlob,eo.downloadURL=eo.downloadURL||ce.downloadURL,tn.compose(eo.Chart,eo.Exporting,eo.Series);let In=P();return _.default})())})(JX)),JX.exports}var m7e=p7e();const g7e=m4(m7e);var QX={exports:{}},v7e=QX.exports,KEe;function y7e(){return KEe||(KEe=1,(function(e,n){(function(o,i){e.exports=i(o._Highcharts,o._Highcharts.AST,o._Highcharts.Chart)})(typeof window>"u"?v7e:window,(o,i,c)=>(()=>{var d,p={660:Xe=>{Xe.exports=i},944:Xe=>{Xe.exports=o},960:Xe=>{Xe.exports=c}},v={};function S(Xe){var tn=v[Xe];if(tn!==void 0)return tn.exports;var eo=v[Xe]={exports:{}};return p[Xe](eo,eo.exports,S),eo.exports}S.n=Xe=>{var tn=Xe&&Xe.__esModule?()=>Xe.default:()=>Xe;return S.d(tn,{a:tn}),tn},S.d=(Xe,tn)=>{for(var eo in tn)S.o(tn,eo)&&!S.o(Xe,eo)&&Object.defineProperty(Xe,eo,{enumerable:!0,get:tn[eo]})},S.o=(Xe,tn)=>Object.prototype.hasOwnProperty.call(Xe,tn);var _={};S.d(_,{default:()=>Ut});var x=S(944),P=S.n(x);let{isSafari:B,win:H,win:{document:U}}=P(),{error:z}=P(),Z=H.URL||H.webkitURL||H;function te(Xe){let tn=Xe.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([A-Z+\d\/]+)/i);if(tn&&tn.length>3&&H.atob&&H.ArrayBuffer&&H.Uint8Array&&H.Blob&&Z.createObjectURL){let eo=H.atob(tn[3]),In=new H.ArrayBuffer(eo.length),mn=new H.Uint8Array(In);for(let Dt=0;Dt<mn.length;++Dt)mn[Dt]=eo.charCodeAt(Dt);return Z.createObjectURL(new H.Blob([mn],{type:tn[1]}))}}let ce={dataURLtoBlob:te,downloadURL:function(Xe,tn){let eo=H.navigator,In=U.createElement("a");if(typeof Xe!="string"&&!(Xe instanceof String)&&eo.msSaveOrOpenBlob)return void eo.msSaveOrOpenBlob(Xe,tn);if(Xe=""+Xe,eo.userAgent.length>1e3)throw Error("Input too long");let mn=/Edge\/\d+/.test(eo.userAgent);if((B&&typeof Xe=="string"&&Xe.indexOf("data:application/pdf")===0||mn||Xe.length>2e6)&&!(Xe=te(Xe)||""))throw Error("Failed to convert to blob");if(In.download!==void 0)In.href=Xe,In.download=tn,U.body.appendChild(In),In.click(),U.body.removeChild(In);else try{if(!H.open(Xe,"chart"))throw Error("Failed to open window")}catch{H.location.href=Xe}},getScript:function(Xe){return new Promise((tn,eo)=>{let In=U.getElementsByTagName("head")[0],mn=U.createElement("script");mn.type="text/javascript",mn.src=Xe,mn.onload=()=>{tn()},mn.onerror=()=>{let Dt=`Error loading script ${Xe}`;z(Dt),eo(Error(Dt))},In.appendChild(mn)})}};var se=S(660),Se=S.n(se),Ce=S(960),Te=S.n(Ce);let V={exporting:{}},{getOptions:ke,setOptions:et}=P(),{downloadURL:$e,getScript:Re}=ce,{composed:_e,doc:ut,win:ct}=P(),{addEvent:St,extend:ee,pushUnique:ln}=P();(function(Xe){async function tn(mn,Dt,un,ye){let ms=(function(Vo,Eo){let Oo,Zn,xt=ut.createElement("div");Se().setElementHTML(xt,Vo);let cn=xt.getElementsByTagName("text"),vn=function(qe,pt){let Ft=qe;for(;Ft&&Ft!==xt;){if(Ft.style[pt]){let Ve=Ft.style[pt];pt==="fontSize"&&/em$/.test(Ve)&&(Ve=Math.round(16*parseFloat(Ve))+"px"),qe.style[pt]=Ve;break}Ft=Ft.parentNode}};return[].forEach.call(cn,function(qe){for(["fontFamily","fontSize"].forEach(pt=>{vn(qe,pt)}),qe.style.fontFamily=Eo?.normal?"HighchartsFont":String(qe.style.fontFamily&&qe.style.fontFamily.split(" ").splice(-1)),Oo=qe.getElementsByTagName("title"),[].forEach.call(Oo,function(pt){qe.removeChild(pt)}),Zn=qe.getElementsByClassName("highcharts-text-outline");Zn.length>0;){let pt=Zn[0];pt.parentNode&&pt.parentNode.removeChild(pt)}}),xt.querySelector("svg")})(mn,ye);ms&&(await eo(ms,ye),$e(await In(ms,0,Dt),un))}async function eo(mn,Dt){let un,ye,ms=(Vo,Eo)=>{ct.jspdf.jsPDF.API.events.push(["initialized",function(){this.addFileToVFS(Vo,Eo),this.addFont(Vo,"HighchartsFont",Vo),this.getFontList()?.HighchartsFont||this.setFont("HighchartsFont")}])};for(let Vo of(Dt&&(ye=mn.textContent||"",!/[^\u0000-\u007F\u200B]+/.test(ye))&&(Dt=void 0),["normal","italic","bold","bolditalic"])){let Eo=Dt?.[Vo];if(Eo)try{let Oo=await ct.fetch(Eo);if(!Oo.ok)throw Error(`Failed to fetch font: ${Eo}`);let Zn=await Oo.blob(),xt=new FileReader,cn=await new Promise((vn,qe)=>{xt.onloadend=()=>{typeof xt.result=="string"?vn(xt.result.split(",")[1]):qe(Error("Failed to read font as base64"))},xt.onerror=qe,xt.readAsDataURL(Zn)});ms(Vo,cn),Vo==="normal"&&(un=cn)}catch{}else un&&ms(Vo,un)}}async function In(mn,Dt,un){let ye=(Number(mn.getAttribute("width"))+2*Dt)*un,ms=(Number(mn.getAttribute("height"))+2*Dt)*un,Vo=new ct.jspdf.jsPDF(ms>ye?"p":"l","pt",[ye,ms]);[].forEach.call(mn.querySelectorAll('*[visibility="hidden"]'),function(Oo){Oo.parentNode.removeChild(Oo)});let Eo=mn.querySelectorAll("linearGradient");for(let Oo=0;Oo<Eo.length;Oo++){let Zn=Eo[Oo].querySelectorAll("stop"),xt=0;for(;xt<Zn.length&&Zn[xt].getAttribute("offset")==="0"&&Zn[xt+1].getAttribute("offset")==="0";)Zn[xt].remove(),xt++}return[].forEach.call(mn.querySelectorAll("tspan"),Oo=>{Oo.textContent===""&&(Oo.textContent=" ",Oo.setAttribute("dx",-5))}),await Vo.svg(mn,{x:0,y:0,width:ye,height:ms,removeInvalid:!0}),Vo.output("datauristring")}Xe.compose=function(mn){if(St(mn,"downloadSVG",async function(un){let{svg:ye,exportingOptions:ms,exporting:Vo,preventDefault:Eo}=un;if(ms?.type==="application/pdf"){Eo?.();try{let{type:Oo,filename:Zn,scale:xt,libURL:cn}=P().Exporting.prepareImageOptions(ms);Oo==="application/pdf"&&(ct.jspdf?.jsPDF||(await Re(`${cn}jspdf.js`),await Re(`${cn}svg2pdf.js`)),await tn(ye,xt,Zn,ms?.pdfFont))}catch(Oo){await Vo?.fallbackToServer(ms,Oo)}}}),!ln(_e,"OfflineExporting"))return;ee(Te().prototype,{exportChartLocal:async function(un,ye){await this.exporting?.exportChart(un,ye)}}),et(V);let Dt=ke().exporting?.buttons?.contextButton?.menuItems;Dt&&Dt.push("downloadPDF")},Xe.downloadSVGLocal=async function(mn,Dt){await P().Exporting.prototype.downloadSVG.call(void 0,mn,Dt)}})(d||(d={}));let it=d,Ht=P();Ht.dataURLtoBlob=Ht.dataURLtoBlob||ce.dataURLtoBlob,Ht.downloadSVGLocal=it.downloadSVGLocal,Ht.downloadURL=Ht.downloadURL||ce.downloadURL,it.compose(Ht.Exporting);let Ut=P();return _.default})())})(QX)),QX.exports}var b7e=y7e();const S7e=m4(b7e),dc=Symbol("store"),rs=Symbol("getState"),Mc=Symbol("dispatch"),CQ=Symbol("additionFeatures"),Mn=Symbol("mediaContext");function pte(e,n,o){const i=document.createElement("script");i.type="text/javascript",i.readyState?i.onreadystatechange=()=>{i.readyState!=="loaded"&&i.readyState!=="complete"||(i.onreadystatechange=null,n())}:(i.onload=()=>{n()},i.onerror=()=>{o()}),i.src=e,window.crossOriginIsolated&&(i.crossOrigin="anonymous"),typeof document.body.append=="function"?document.getElementsByTagName("head")[0].append(i):document.getElementsByTagName("head")[0].appendChild(i)}function xDe(e,n){let o=e;/^https?:\/\//.test(o)||(o=`https://${e}`);try{const i=new URL(o);if(!n)return i.href;if(n.hostname)return i.hostname;if(n.path)return i.pathname}catch{return""}return""}function $6(e){if(e){var n;const o=document.getElementById(e);o==null||(n=o.parentNode)===null||n===void 0||n.removeChild(o)}}function mte(e,n){if(!e||typeof e=="string")return!1;if(e.ownerDocument===window.document)return e instanceof n;{var o;const i=(o=e.ownerDocument)===null||o===void 0?void 0:o.defaultView;let c;return!!i&&(n.name==="HTMLVideoElement"?c=i.HTMLVideoElement:n.name==="HTMLCanvasElement"?c=i.HTMLCanvasElement:n.name==="HTMLElement"&&(c=i.HTMLElement),!!c&&e instanceof c||e instanceof n)}}function iT(e){return mte(e,HTMLVideoElement)}function A4(e){return mte(e,HTMLCanvasElement)}function ZEe(e,n){return Array.from(document.getElementsByTagName(n)).some((o=>o.contains(e)))}function YEe(e,n,o){const i=e.parentElement;if(!i)return null;const c=document.createElement("canvas");c.id=n,i?.appendChild(c);let d=null;function p(){o&&o()}return typeof ResizeObserver<"u"?(d=new ResizeObserver(p),d.observe(e),i&&d.observe(i)):window.addEventListener("resize",p),p(),c._overlayCleanup=function(){d?(d.unobserve(e),i&&d.unobserve(i),d.disconnect(),d=null):window.removeEventListener("resize",p),typeof c.remove=="function"?c.remove():i&&i.removeChild(c)},c}function XEe(e){var n;const o=e.getBoundingClientRect(),i=(n=e.parentElement)===null||n===void 0?void 0:n.getBoundingClientRect(),c=getComputedStyle(e),d=parseFloat(c.borderTopWidth)||0,p=parseFloat(c.borderLeftWidth)||0,v=p+(parseFloat(c.borderRightWidth)||0),S=d+(parseFloat(c.borderBottomWidth)||0),_=Math.max(e.width/(o.width-v),e.height/(o.height-S)),x={width:e.width/_,height:e.height/_},P=o.top-(i?.top||0),B=o.left-(i?.left||0);return{size:x,position:{top:`${P+((o.height-S-x.height)/2+d)}px`,left:`${B+((o.width-v-x.width)/2+p)}px`}}}let gte="zoom.us";const vte="4.0.5",eJ=`https://dmogdx0jrul3u.cloudfront.net/${vte}/lib/av`,zk=`https://source.zoom.us/${vte}/lib/av`,tJ=`https://jssdk.zoomus.cn/${vte}/lib/av`,U6=()=>gte;function Ku(e,n){const o=n.match(e);return o&&o.length>0&&o[1]||""}function ODe(e,n){const o=n.match(e);return o&&o.length>1&&o[2]||""}const Hx=/version\/(\d+(\.?_?\d+)+)/i,C7e=[{test:[/opera/i],describe:e=>["Opera(Legacy)",Ku(Hx,e)||Ku(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e)]},{test:[/opr\/|opios/i],describe:e=>["Opera",Ku(/(?:opr|opios)[\s/](\S+)/i,e)||Ku(Hx,e)]},{test:[/SamsungBrowser/i],describe:e=>["Samsung Internet for Android",Ku(Hx,e)||Ku(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e)]},{test:[/micromessenger/i],describe:e=>["WeChat",Ku(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||Ku(Hx,e)]},{test:[/qqbrowser/i],describe:e=>[/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser",Ku(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||Ku(Hx,e)]},{test:[/msie|trident/i],describe:e=>["Internet Explorer",Ku(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e)]},{test:[/\sedg\//i],describe:e=>["Microsoft Edge",Ku(/\sedg\/(\d+(\.?_?\d+)+)/i,e)]},{test:[/edg([ea]|ios)/i],describe:e=>["Microsoft Edge(Legacy)",ODe(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e)]},{test:[/firefox|iceweasel|fxios/i],describe:e=>["Firefox",Ku(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e)]},{test:[/electron/i],describe:e=>["Electron",Ku(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e)]},{test:[/chromium/i],describe:e=>["Chromium",Ku(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||Ku(Hx,e)]},{test:[/chrome|crios|crmo/i],describe:e=>["Chrome",Ku(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e)]},{test:e=>!/like android/i.test(e)&&/android/i.test(e),describe:e=>["Android Browser",Ku(Hx,e)]},{test:[/safari|applewebkit/i],describe:e=>["Safari",Ku(Hx,e)]}],E7e=[{test:e=>{const n=e.match(/OpenHarmony (\d+\.?\d*)/);return n?.length&&Number(n[1])>=5},describe:e=>["HarmonyOS",Ku(/OpenHarmony (\d+\.?\d*)/i,e)]},{test:[/windows /i],describe:e=>["Windows",Ku(/Windows ((NT|XP)( \d\d?.\d)?)/i,e)]},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:e=>["iOS",ODe(/(Version\/)(\d[\d.]+)/,e)]},{test:[/macintosh/i],describe:e=>["macOS",Ku(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,".")]},{test:[/(ipod|iphone|ipad)/i],describe:e=>["iOS",Ku(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".")]},{test:e=>!/like android/i.test(e)&&/android/i.test(e),describe:e=>["Android",Ku(/android[\s/-](\d+(\.\d+)*)/i,e)]},{test:[/linux/i],describe:()=>["Linux"]},{test:[/CrOS/],describe:()=>["Chrome OS"]}],is=new class{constructor(){this._browser=void 0,this._os=void 0,this._browserVersion=void 0,this._osVersion=void 0,this._clientHintsData=void 0,this._mediaFeatureOptions=void 0,"userAgentData"in navigator&&navigator.userAgentData.getHighEntropyValues(["architecture","bitness","formFactor","model","platformVersion","wow64"]).then((e=>{this._clientHintsData=e,this._os&&this._osVersion&&this._clientHintsData.platform&&this._clientHintsData.platformVersion&&(this._os=this._clientHintsData.platform,this._osVersion=this._clientHintsData.platformVersion)})).catch((e=>{console.warn(e)}))}_getBrowserVersion(){var e;if((e=this._clientHintsData)!==null&&e!==void 0&&(e=e.brands)!==null&&e!==void 0&&e.length){const n=this._clientHintsData.brands.filter((i=>!/(Chromium|Not.*Brand)/i.test(i.brand)))[0];n&&(this._browser=n.brand);const o=this._clientHintsData.brands.find((i=>{var c;return((c=i.brand)===null||c===void 0?void 0:c.toLowerCase())==="chromium"}));o?(this._browserVersion=o.version,this._browser||(this._browser=o.brand)):this._browserVersion=n.version}else{const n=navigator.userAgent,o=C7e.find((i=>typeof i.test=="function"?i.test(n):i.test.some((c=>c.test(n)))));if(o){const i=o.describe(n);this._browser=i[0],this._browserVersion=i[1],this.isIOSMobile&&(this._browser="ios-safari")}else this._browser="unknown",this._browserVersion="0"}}_getOSVersion(){var e,n;if((e=this._clientHintsData)!==null&&e!==void 0&&e.platform&&(n=this._clientHintsData)!==null&&n!==void 0&&n.platformVersion)this._os=this._clientHintsData.platform,this._osVersion=this._clientHintsData.platformVersion;else{const o=navigator.userAgent,i=E7e.find((c=>typeof c.test=="function"?c.test(o):c.test.some((d=>d.test(o)))));if(i){const c=i.describe(o);this._os=c[0],this._osVersion=c[1]}else this._os="unknown",this._osVersion="0"}}get browser(){return this._browser||this._getBrowserVersion(),this._browser}get browserVersion(){return this._browserVersion||this._getBrowserVersion(),this._browserVersion}get os(){return this._os||this._getOSVersion(),this._os}get osVersion(){return this._osVersion||this._getOSVersion(),this._osVersion}get isIE(){return this.browser==="Internet Explorer"}get isLegacyEdge(){return this.browser==="Microsoft Edge(Legacy)"}get isLegacyOpera(){return this.browser==="Opera(Legacy)"}get isFirefox(){return this.browser==="Firefox"}get isSafari(){return this.browser==="Safari"}get isChrome(){var e,n;if((e=this._clientHintsData)!==null&&e!==void 0&&(e=e.brands)!==null&&e!==void 0&&e.length)return(n=this._clientHintsData)===null||n===void 0?void 0:n.brands.some((i=>{var c;return((c=i.brand)===null||c===void 0?void 0:c.toLocaleLowerCase())==="chromium"}));const{userAgent:o}=navigator;return!this.isLegacyOpera&&!this.isLegacyEdge&&/chrome/i.test(o)&&/webkit/i.test(o)}get isLegacyChrome(){var e;return this.isChrome&&typeof((e=navigator.mediaDevices)===null||e===void 0?void 0:e.getDisplayMedia)!="function"}get isMacOS(){return this.os==="macOS"}get isIPad(){var e;return/iPad/i.test(navigator.userAgent)||this.isMacOS&&((e=navigator)===null||e===void 0?void 0:e.maxTouchPoints)>2}get isHarmonyOS(){return this.os==="HarmonyOS"}get isIOSMobile(){return this.os==="iOS"||this.isIPad}get architecture(){var e,n;return(e=(n=this._clientHintsData)===null||n===void 0?void 0:n.architecture)!==null&&e!==void 0?e:""}get isArm(){return this.architecture?this.architecture==="arm":/arm/i.test(navigator.userAgent)}get isChromeOS(){return this.os==="Chrome OS"}get isAndroidBrowser(){var e;return((e=this.os)===null||e===void 0?void 0:e.toLowerCase())==="android"}get isArmChromeOS(){return this.isArm&&this.isChromeOS}get isAndroidOrIOSBrowser(){return this.isAndroidBrowser||this.isIOSMobile}get isSupportEssentialAudioAndVideoAbility(){return typeof WebAssembly=="object"&&typeof Worker=="function"}get isSupportAudioWorklet(){return typeof AudioWorklet=="function"}get isSupportImageCapture(){return"ImageCapture"in window}get isSupportMediaStreamTrackProcessor(){var e;return this._mediaFeatureOptions?!((e=window.JsMediaSDK_Instance)===null||e===void 0||(e=e.util)===null||e===void 0||!e.isSupportMediaStreamTrackProcessor(this._mediaFeatureOptions)):"MediaStreamTrackProcessor"in window}get isSupportOffscreenCanvas(){var e;return(e=window.JsMediaSDK_Instance)===null||e===void 0||(e=e.util)===null||e===void 0?void 0:e.isSupportOffscreenCanvas()}get gpu(){var e;return this.isSupportOffscreenCanvas?(e=window.JsMediaSDK_Instance)===null||e===void 0||(e=e.util)===null||e===void 0||(e=e.getGpuInfo())===null||e===void 0?void 0:e.renderInfo:""}get bitness(){var e,n;return(e=(n=this._clientHintsData)===null||n===void 0?void 0:n.bitness)!==null&&e!==void 0?e:""}get model(){var e,n;return(e=(n=this._clientHintsData)===null||n===void 0?void 0:n.model)!==null&&e!==void 0?e:""}get wow64(){var e;if(this.os.toLowerCase()==="windows")return(e=this._clientHintsData)===null||e===void 0?void 0:e.wow64}get isSupportSendScreenSharing(){return"getDisplayMedia"in navigator.mediaDevices&&typeof navigator.mediaDevices.getDisplayMedia=="function"}get isSupportSharedArrayBuffer(){return typeof SharedArrayBuffer=="function"}get is32bitChrome(){var e;return!((e=window.JsMediaSDK_Instance)===null||e===void 0||(e=e.util)===null||e===void 0||!e.is32bitBrowser())}get isSwiftShader(){var e;return!((e=window.JsMediaSDK_Instance)===null||e===void 0||(e=e.util)===null||e===void 0||!e.isUsingSwiftShader())}set mediaFeatureOptions(e){this._mediaFeatureOptions=e}};function IDe(){var e;return"webkit"in window&&!("chrome"in window)&&!((e=window.webkit.messageHandlers)===null||e===void 0||!e.jsOCHelper)}function cX(){var e;const{isAndroidBrowser:n,isIOSMobile:o,osVersion:i,browserVersion:c,isChrome:d,isFirefox:p,isSafari:v}=is;var S,_;if(o)return Number((S=i.match(/^\d+/))===null||S===void 0?void 0:S[0])>=15;if(n)return Number((_=i.match(/^\d+/))===null||_===void 0?void 0:_[0])>=10;const x=Number((e=c.match(/^\d+/))===null||e===void 0?void 0:e[0]);return!!(d&&x>=69)||!!(v&&x>14)||!!(p&&x>=76)}function RDe(){const{isSupportAudioWorklet:e,isSupportEssentialAudioAndVideoAbility:n,isAndroidOrIOSBrowser:o,isSupportSendScreenSharing:i}=is,c=n&&e||o,d=n&&navigator.mediaDevices!==void 0&&navigator.mediaCapabilities!==void 0,p=typeof"".replaceAll=="function";return{audio:p&&c,video:p&&d,screen:p&&n&&i}}class w7e{constructor(n){this.instant=void 0,this.context=void 0,this.script=void 0,this.mic=void 0,this.instant=0,this.context=n,this.mic=null,this.script=n.createScriptProcessor(2048,1,1),this.script.onaudioprocess=o=>{const i=o.inputBuffer.getChannelData(0);let c,d=0;for(c=0;c<i.length;++c)d+=i[c]*i[c];this.instant=Math.sqrt(d/i.length)}}connectToSource(n){console.log("InputMicDetector is listening");try{var o;this.mic=this.context.createMediaStreamSource(n),this.mic.connect(this.script),(o=this.script)===null||o===void 0||o.connect(this.context.destination)}catch(i){console.error(i)}}stop(){var n,o;console.log("Audio Previewer stopped"),(n=this.mic)===null||n===void 0||n.disconnect(),this.mic=null,(o=this.script)===null||o===void 0||o.disconnect(),this.script=null}getMicVolume(){return this.instant}}const _7e="https://st1.zoom.us/web_client/4qu8baa/audio/ring.mp3";class T7e{constructor(){this.sampleAudio=void 0,this.audioCtx=void 0,this.destinationNode=void 0,this.audioPlayer=void 0,this.analyzserInterval=void 0,this.analyserNode=void 0,this.analyserNodeBufferDataArray=void 0,this.analyserCallback=void 0,this.sourceNode=void 0,this.mAudioStream=void 0,this.mSourceNode=void 0,this.mediaRecorder=void 0,this.isRecording=void 0,this.recorderChunks=[],this.recorderObjUrl=void 0,this.recorderPlayer=void 0,this.maximumRecordingTimer=void 0,this.shouldPlayAfterRecording=!0,this.isRunning=!1}testSpeaker(n){var o;if(typeof AudioContext!="function"||typeof MediaStreamAudioDestinationNode!="function"||!AudioContext.prototype.decodeAudioData)return void console.warn("Cannot test the speaker due to the browser capability");const{speakerId:i,sampleAudioUrl:c=_7e,onAnalyseFrequency:d}=n||{};if(this.isRunning)return void console.warn("A tester is running,please stop it first");this.isRunning=!0,this.initAudioContext(),(((o=this.sampleAudio)===null||o===void 0?void 0:o.url)===c&&this.sampleAudio.data?Promise.resolve(this.sampleAudio.data):window.fetch(c).then((v=>v.arrayBuffer())).then((v=>this.audioCtx.decodeAudioData(v))).then((v=>(this.sampleAudio={url:c,data:v},v)))).then((v=>{var S,_,x;this.sourceNode=this.audioCtx.createBufferSource(),this.sourceNode.buffer=v,this.sourceNode.loop=!0,i&&(S=this.audioPlayer)!==null&&S!==void 0&&S.setSinkId&&this.audioPlayer.setSinkId(i),d?typeof AudioContext.prototype.createAnalyser=="function"?(this.analyzserInterval&&window.clearInterval(this.analyzserInterval),this.analyserCallback=d,this.initAnalyserNode(),this.analyserNode&&this.sourceNode.connect(this.analyserNode)):(this.sourceNode.connect(this.destinationNode),console.warn("Cannot analyze the stream due to the browser capability")):(this.analyserCallback=void 0,this.sourceNode.connect(this.destinationNode)),this.sourceNode.start(0),((_=this.audioCtx)===null||_===void 0?void 0:_.state)!=="running"&&((x=this.audioCtx)===null||x===void 0||x.resume()),this.audioPlayer&&(this.audioPlayer.muted=!1,this.audioPlayer.currentTime=0,this.audioPlayer.play())}));const p=()=>{this.isRunning=!1,this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.pause()),this.analyserNode&&this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),this.sourceNode&&(this.sourceNode.stop(0),this.sourceNode.disconnect(),this.sourceNode.buffer=null,this.sourceNode=void 0)};return{stop:p,destroy:()=>{var v;p(),this.analyserNode&&this.destinationNode&&(this.analyserNode.disconnect(this.destinationNode),this.analyserNode=void 0),(v=this.audioCtx)===null||v===void 0||v.close(),this.audioCtx=void 0}}}testMicrophone(n){var o;if(typeof AudioContext!="function"||typeof MediaStreamAudioDestinationNode!="function"||typeof AudioContext.prototype.createMediaStreamSource!="function"||typeof((o=navigator.mediaDevices)===null||o===void 0?void 0:o.getUserMedia)!="function")return void console.warn("Cannot test the microphone due to the browser capability");const{microphoneId:i,speakerId:c,recordAndPlay:d,maxRecordDuration:p,onAnalyseFrequency:v,onStartRecording:S,onStopRecording:_,onStartPlayRecording:x,onStopPlayRecording:P}=n||{};if(this.isRunning)return void console.warn("A tester is running,please stop it first");this.isRunning=!0,this.initAudioContext();const B=()=>{d&&this.mediaRecorder&&this.isRecording&&(this.shouldPlayAfterRecording=!0,this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop())};window.navigator.mediaDevices.getUserMedia({audio:!i||{deviceId:{exact:i}}}).then((U=>{var z,Z,te,ce;this.mAudioStream=U,this.mSourceNode=(z=this.audioCtx)===null||z===void 0?void 0:z.createMediaStreamSource(U),this.audioPlayer.muted=!0,v?(this.analyzserInterval&&window.clearInterval(this.analyzserInterval),this.analyserCallback=v,this.initAnalyserNode(),this.analyserNode&&((te=this.mSourceNode)===null||te===void 0||te.connect(this.analyserNode))):this.analyserCallback=void 0,d&&(typeof MediaRecorder=="function"?(this.recorderObjUrl&&window.URL.revokeObjectURL(this.recorderObjUrl),this.mediaRecorder=new MediaRecorder(this.mAudioStream),this.mediaRecorder.ondataavailable=se=>{se.data&&this.recorderChunks.push(se.data)},this.mediaRecorder.onstop=()=>{if(this.isRecording=!1,this.maximumRecordingTimer&&(window.clearTimeout(this.maximumRecordingTimer),this.maximumRecordingTimer=void 0),_?.(),this.recorderChunks.length>0){var se;const Se=new Blob(this.recorderChunks,{type:((se=this.recorderChunks[0])===null||se===void 0?void 0:se.type)||"audio/ogg; codecs=opus"});this.recorderObjUrl=window.URL.createObjectURL(Se),this.shouldPlayAfterRecording&&this.playRecording(this.recorderObjUrl,c,x,P).catch((Ce=>{this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),console.warn(Ce)})),this.recorderChunks=[],this.mediaRecorder&&(this.mediaRecorder.ondataavailable=null,this.mediaRecorder.onstop=null,this.mediaRecorder=void 0)}},this.mediaRecorder.start(),this.isRecording=!0,S?.(),this.maximumRecordingTimer=window.setTimeout((()=>{B()}),p||1e4)):console.warn("Cannot record the sound due to the browser capability")),((Z=this.audioCtx)===null||Z===void 0?void 0:Z.state)!=="running"&&((ce=this.audioCtx)===null||ce===void 0||ce.resume()),this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.play())}));const H=()=>{this.isRunning=!1,this.maximumRecordingTimer&&(window.clearTimeout(this.maximumRecordingTimer),this.maximumRecordingTimer=void 0),this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.pause()),this.analyserNode&&this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),this.mSourceNode&&(v&&this.analyserNode&&this.mSourceNode.disconnect(this.analyserNode),this.mSourceNode=void 0),this.mAudioStream&&(this.mAudioStream.getAudioTracks().forEach((U=>{U.stop()})),this.mAudioStream=void 0),this.mediaRecorder&&(this.shouldPlayAfterRecording=!1,this.mediaRecorder.ondataavailable=null,this.mediaRecorder.onstop=null,this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop(),this.isRecording=!1,this.mediaRecorder=void 0,this.recorderChunks=[]),this.recorderPlayer&&(this.recorderPlayer.currentTime=0,this.recorderPlayer.pause())};return{stop:H,stopRecording:B,destroy:()=>{var U;H(),this.analyserNode&&this.destinationNode&&(this.analyserNode.disconnect(this.destinationNode),this.analyserNode=void 0),(U=this.audioCtx)===null||U===void 0||U.close(),this.audioCtx=void 0}}}initAudioContext(){this.audioCtx&&this.audioPlayer||(this.audioCtx=new AudioContext,this.destinationNode=new MediaStreamAudioDestinationNode(this.audioCtx),this.audioPlayer=new Audio,this.audioPlayer.loop=!0,this.audioPlayer.srcObject=this.destinationNode.stream)}initAnalyserNode(){if(!this.audioCtx)return;this.analyserNode||(this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.connect(this.destinationNode),this.analyserNode.fftSize=1024);const n=this.analyserNode.frequencyBinCount;this.analyserNodeBufferDataArray=new Uint8Array(n),this.analyzserInterval=window.setInterval(this.audioAnalyserCallback.bind(this),20)}audioAnalyserCallback(){if(this.analyserNodeBufferDataArray&&this.analyserNode&&this.analyserCallback){this.analyserNode.getByteFrequencyData(this.analyserNodeBufferDataArray);let n=0;for(const i of this.analyserNodeBufferDataArray)n+=i;const o=n/this.analyserNodeBufferDataArray.length;this.analyserCallback(o)}}playRecording(n,o,i,c){this.recorderPlayer=new Audio,this.recorderPlayer.src=n,this.recorderPlayer.currentTime=0,this.recorderPlayer.setSinkId&&o&&this.recorderPlayer.setSinkId(o);const d=()=>{c?.(),this.recorderPlayer&&(this.recorderPlayer.onpause=null,this.recorderPlayer.onended=null,this.recorderPlayer=void 0,this.isRunning=!1)};return new Promise(((p,v)=>{this.recorderPlayer&&(this.recorderPlayer.onpause=()=>{p(!0)},this.recorderPlayer.onended=()=>{p(!0)},this.recorderPlayer.onerror=v,i?.(),this.recorderPlayer.play().catch(v))})).finally((()=>{window.URL.revokeObjectURL(n),d()}))}}const Lpe="AudioNotStartedError";class A7e{constructor(n=""){this.audioContext=void 0,this.inputMicDetector=void 0,this.isMicUnmuted=void 0,this.isAudioStarted=void 0,this.audioStream=void 0,this.deviceId=void 0,this.tester=void 0,this.audioContext=null,this.inputMicDetector=null,this.isMicUnmuted=!1,this.isAudioStarted=!1,this.audioStream=null,this.deviceId=n,this.tester=new T7e}async start(){if(this.audioStream||this.isAudioStarted)throw new Error("AudioAlreadyStartedError");try{const n=await navigator.mediaDevices.getUserMedia(this.getAudioConstraints());this.audioStream=n,this.isAudioStarted=!0}catch(n){throw n}}async unmute(){if(!this.audioStream||!this.isAudioStarted)throw new Error(Lpe);if(this.isMicUnmuted)throw new Error("AudioAlreadyUnmutedError");return this.toggleMicIsMuted(!0)}async mute(){if(!this.audioStream||!this.isAudioStarted)throw new Error(Lpe);if(!this.isMicUnmuted)throw new Error("AudioAlreadyMutedError");return this.toggleMicIsMuted(!1)}getCurrentVolume(){return this.inputMicDetector?this.inputMicDetector.getMicVolume():0}async stop(){if(!this.audioStream||!this.isAudioStarted)throw new Error(Lpe);this.audioStream.getAudioTracks().forEach((n=>n.stop())),this.audioStream=null,this.isAudioStarted=!1}async toggleMicIsMuted(n){if(n){if(!this.audioContext){const o=window.AudioContext||window.webkitAudioContext;this.audioContext=new o}this.inputMicDetector=new w7e(this.audioContext),this.inputMicDetector.connectToSource(this.audioStream)}else this.inputMicDetector&&this.inputMicDetector.stop(),this.inputMicDetector=null;this.isMicUnmuted=n}getAudioConstraints(){return{audio:this.deviceId===""||{deviceId:{exact:this.deviceId}},video:!1}}testSpeaker(n){return this.tester.testSpeaker(n)}testMicrophone(n){return this.tester.testMicrophone(n)}}let so=(function(e){return e[e.InitSuccess=1]="InitSuccess",e[e.InitSuccessVideo=1.1]="InitSuccessVideo",e[e.InitSuccessAudio=1.2]="InitSuccessAudio",e[e.InitSuccessSharing=1.3]="InitSuccessSharing",e[e.UserGrantCaptureAudio=2]="UserGrantCaptureAudio",e[e.CurrentVideoResolution=3]="CurrentVideoResolution",e[e.JpegDecThreadOk=4]="JpegDecThreadOk",e[e.JpegData=5]="JpegData",e[e.SharingPara=6]="SharingPara",e[e.VideoDecodeMaxSize=7]="VideoDecodeMaxSize",e[e.CurrentCaptureVideoWidthHeight=8]="CurrentCaptureVideoWidthHeight",e[e.StartVideoCaptureSuccess=9]="StartVideoCaptureSuccess",e[e.StopVideoCaptureSuccess=10]="StopVideoCaptureSuccess",e[e.StartRemoteControlSuccess=11]="StartRemoteControlSuccess",e[e.CancelRemoteControlSuccess=12]="CancelRemoteControlSuccess",e[e.RemoteControlCopiedTextNotify=13]="RemoteControlCopiedTextNotify",e[e.MonitorLog=14]="MonitorLog",e[e.CurrentDesktopSharingWidthHeight=15]="CurrentDesktopSharingWidthHeight",e[e.DesktopSharingCaptureSuccess=16]="DesktopSharingCaptureSuccess",e[e.CheckChromeSharingExtensionResponse=17]="CheckChromeSharingExtensionResponse",e[e.SharingDecodeMaxSize=18]="SharingDecodeMaxSize",e[e.DataChannelOffer=19]="DataChannelOffer",e[e.AesGcmIvResponse=21]="AesGcmIvResponse",e[e.SharingDesktopStreamHaveAudio=23]="SharingDesktopStreamHaveAudio",e[e.JoinComputerAudioComplete=24]="JoinComputerAudioComplete",e[e.JoinSharingAudioComplete=25]="JoinSharingAudioComplete",e[e.LeaveComputerAudioComplete=26]="LeaveComputerAudioComplete",e[e.LeaveSharingAudioComplete=27]="LeaveSharingAudioComplete",e[e.HidStatusMute=28]="HidStatusMute",e[e.AudioStreamFailed=31]="AudioStreamFailed",e[e.VideoStreamFailed=32]="VideoStreamFailed",e[e.AudioSpeakerSetSuccess=33]="AudioSpeakerSetSuccess",e[e.AudiobridgeSetCcLangSuccess=36]="AudiobridgeSetCcLangSuccess",e[e.AudioLevelIndicator=38]="AudioLevelIndicator",e[e.SyncRendererTypeResponse=39]="SyncRendererTypeResponse",e[e.SendRemoteControlQrCode=55]="SendRemoteControlQrCode",e[e.StartVideoStreamInMaskSettingSuccess=66]="StartVideoStreamInMaskSettingSuccess",e[e.CurrentDecodeVideoQuality=66.5]="CurrentDecodeVideoQuality",e[e.CurrentDecodeVideoFps=66.6]="CurrentDecodeVideoFps",e[e.SharingFirstDecodeFrameReceivedSsrc=70]="SharingFirstDecodeFrameReceivedSsrc",e[e.StartVideoStreamInVbSettingSuccess=94]="StartVideoStreamInVbSettingSuccess",e[e.VbModelPreloading_3S=96]="VbModelPreloading_3S",e[e.VbModelPreloading_10S=97]="VbModelPreloading_10S",e[e.VbModelPreloadingOk=98]="VbModelPreloadingOk",e[e.NewActiveSpeakerFirstFrameCallback=111]="NewActiveSpeakerFirstFrameCallback",e[e.AudioBridgeFirstRecvData=114]="AudioBridgeFirstRecvData",e[e.AudioBridgeCanSendData=115]="AudioBridgeCanSendData",e[e.StartAnnotationSuccess=158]="StartAnnotationSuccess",e[e.DeviceChangeEvent=159]="DeviceChangeEvent",e[e.RecaptureAudio=160]="RecaptureAudio",e[e.InitFailed=-1]="InitFailed",e[e.InitFailedVideo=-1.1]="InitFailedVideo",e[e.InitFailedAudio=-1.2]="InitFailedAudio",e[e.InitFailedSharing=-1.3]="InitFailedSharing",e[e.AudioCaptureFailed=-2]="AudioCaptureFailed",e[e.AudioWebsocketBroken=-3]="AudioWebsocketBroken",e[e.VideoWebsocketBroken=-4]="VideoWebsocketBroken",e[e.SharingDecThreadFailed=-5]="SharingDecThreadFailed",e[e.AudioZeroData=-6]="AudioZeroData",e[e.AudioCtxSamplerate=-7]="AudioCtxSamplerate",e[e.UserForbiddedCaptureVideo=-8]="UserForbiddedCaptureVideo",e[e.UserCameraIsTakenByOtherPrograms=-9]="UserCameraIsTakenByOtherPrograms",e[e.StopVideoCaptureFailed=-10]="StopVideoCaptureFailed",e[e.StartRemoteControlFailed=-11]="StartRemoteControlFailed",e[e.CancelRemoteControlFailed=-12]="CancelRemoteControlFailed",e[e.RemoteControlPasteTextLengthOverflow=-14]="RemoteControlPasteTextLengthOverflow",e[e.UserStopDesktopSharing=-15]="UserStopDesktopSharing",e[e.UserCancelPermissionRequest=-16]="UserCancelPermissionRequest",e[e.DesktopSharingChromeExtensionUninstalled=-17]="DesktopSharingChromeExtensionUninstalled",e[e.DesktopSharingPermissionDenied=-18]="DesktopSharingPermissionDenied",e[e.DesktopSharingTimeOut=-19]="DesktopSharingTimeOut",e[e.DesktopSharingError=-20]="DesktopSharingError",e[e.AudioSpeakerSetError=-21]="AudioSpeakerSetError",e[e.DesktopSharingSystemError=-22]="DesktopSharingSystemError",e[e.SharingDesktopStreamHaveNoAudio=-27]="SharingDesktopStreamHaveNoAudio",e[e.AudioBridgeSocketConnectionError=-28]="AudioBridgeSocketConnectionError",e[e.AudioBridgeReconnectStart=-29]="AudioBridgeReconnectStart",e[e.AudioBridgeReconnectEnd=-31]="AudioBridgeReconnectEnd",e[e.WebglLostInMultiView=-32]="WebglLostInMultiView",e[e.MaskSettingParaError=-33]="MaskSettingParaError",e[e.VbSettingParaError=-34]="VbSettingParaError",e[e.NotifyUIFailover=-35]="NotifyUIFailover",e[e.AudiobridgeSetCcLangFailure=-39]="AudiobridgeSetCcLangFailure",e[e.NotifyUIWMSCFailover=-42]="NotifyUIWMSCFailover",e[e.NotifyUIWMSCWSSDisconnected=-43]="NotifyUIWMSCWSSDisconnected",e[e.RecoverWebrtcAudio=-44]="RecoverWebrtcAudio",e[e.WebglContextInvalid=-51]="WebglContextInvalid",e[e.WasmMemoryFail=-52]="WasmMemoryFail",e[e.WorkletProcessExceptions=-53]="WorkletProcessExceptions",e[e.NotSupportExternalCanvasInVTagRenderer=-55]="NotSupportExternalCanvasInVTagRenderer",e[e.HealthCheckFailed=-129]="HealthCheckFailed",e[e.StartAnnotationFailed=-130]="StartAnnotationFailed",e.AudioQosData="AUDIO_QOS_DATA",e.VideoQosData="VIDEO_QOS_DATA",e.ShareQosData="VIDEOSHARE_QOS_DATA",e.NetworkQualityChange="NETWORK_QUALITY_CHANGE",e.NetworkQualityChangeAudio="NETWORK_QUALITY_CHANGE_AUDIO",e.AudioStreamMuted="AUDIO_STREAM_MUTED",e.AudioStreamUnmuted="AUDIO_STREAM_UNMUTED",e.AnnotationRedoStatus="ANNO_REDO_STATUS",e.AnnotationUndoStatus="ANNO_UNDO_STATUS",e.AnnoViewerRequestDraw="ANNO_VIEWER_REQUEST_DRAW",e.VideoStreamMuted="VIDEO_STREAM_MUTED",e.VideoStreamUnmuted="VIDEO_STREAM_UNMUTED",e})({}),pg=(function(e){return e[e.EncodeSuccess=1]="EncodeSuccess",e[e.DecodeSuccess=2]="DecodeSuccess",e[e.EncodeFailed=-1]="EncodeFailed",e[e.DecodeFailed=-2]="DecodeFailed",e})({}),Bpe=(function(e){return e.Spotlight="Spotlight",e.Unmute="Unmute",e.AllowToTalk="Allow to talk",e})({}),q0=(function(e){return e.Inherited="inherited",e.Active="active",e.PassiveByMuteOne="passive(mute one)",e.PassiveByMuteAll="passive(mute all)",e.SharingAudio="sharing audio",e})({}),S3=(function(e){return e.Inherited="inherited",e.Active="active",e.Passive="passive",e.SharingAudio="sharing audio",e})({}),v2=(function(e){return e.Active="active",e.Failover="failover",e.EndedBySystem="audio stream is ended by system",e.Pstn="pstn",e.MicrophoneError="microphone error",e})({}),T5=(function(e){return e.Join="join",e.Leave="leave",e.Muted="muted",e.Unmuted="unmuted",e})({}),_v=(function(e){return e[e.Calling=1]="Calling",e[e.Ringing=2]="Ringing",e[e.Accepted=3]="Accepted",e[e.Busy=4]="Busy",e[e.NotAvailable=5]="NotAvailable",e[e.HangUp=6]="HangUp",e[e.Fail=7]="Fail",e[e.Success=8]="Success",e[e.Timeout=9]="Timeout",e[e.Canceling=10]="Canceling",e[e.Canceled=11]="Canceled",e[e.CancelFailed=12]="CancelFailed",e[e.NoAnswer=13]="NoAnswer",e[e.BlockNoHost=14]="BlockNoHost",e[e.BlockHighRate=15]="BlockHighRate",e[e.BlockTooFrequent=16]="BlockTooFrequent",e})({});const x7e=(()=>{const e=new ArrayBuffer(684),n=new Uint32Array(e);return n.set([1179011410,676,1163280727,544501094,16,65539,16e3,64e3,2097156,1635017060,640],0),new Blob([n],{type:"audio/wav"})})(),O7e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]),I7e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);let Ub=(function(e){return e[e.HostGrab=0]="HostGrab",e[e.OnlyHost=1]="OnlyHost",e[e.AnyoneGrab=2]="AnyoneGrab",e[e.MultipleShare=3]="MultipleShare",e})({}),Yr=(function(e){return e.Sharing="sharing",e.Paused="paused",e.End="ended",e})({}),EQ=(function(e){return e[e.Video_90P=0]="Video_90P",e[e.Video_180P=1]="Video_180P",e[e.Video_360P=2]="Video_360P",e[e.Video_720P=3]="Video_720P",e[e.Video_1080P=4]="Video_1080P",e})({}),JEe=(function(e){return e.Active="Active",e.Inactive="Inactive",e})({}),uX=(function(e){return e.Muted="Muted",e.Unmuted="Unmuted",e})({}),Fpe=(function(e){return e.Started="Started",e.Stopped="Stopped",e.Failed="Failed",e})({}),QEe=(function(e){return e.Approved="Approved",e.Rejected="Rejected",e})({}),Vpe=(function(e){return e.PrivilegeChange="PrivilegeChange",e.StopScreenCapture="StopScreenCapture",e.ShareFromMainSession="ShareFromMainSession",e})({}),kDe=(function(e){return e[e.ImageNotMatch=2]="ImageNotMatch",e[e.CanvasNotMatch=3]="CanvasNotMatch",e[e.VBModelNotMatch=4]="VBModelNotMatch",e})({});const K3="blur";let e2=(function(e){return e.User="user",e.Environment="environment",e.Left="left",e.Right="right",e})({});const xz=Object.values(e2),iO=1e3,ewe="__ZOOM_SDK_SHARING_VIDEO__",twe="__ZOOM_SDK_ANNOTATION_CANVAS_@__",_O="__ZOOM_SDK_VIDEO_ZONE__",Hpe="__ZOOM_SDK_MEDIA_PLAYBACK_SOURCE_VIDEO__",C3="__ZOOM_SDK_DYMMY_VIDEO_PLAYER_CANVAS_ID__",Gge="__ZOOM_SDK_DUMMY_HIDDEN_SELF_VIEW_VIDEO_ID__",wQ={data:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,rate:0,bandwidth:0}},TO={data:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,rate:0,bandwidth:0}};let gg=(function(e){return e[e.Request=11]="Request",e[e.Decline=12]="Decline",e[e.Approve=13]="Approve",e[e.GiveUp=14]="GiveUp",e[e.StartControl=15]="StartControl",e[e.ContinueControl=16]="ContinueControl",e[e.StopControl=17]="StopControl",e[e.SwitchCamera=20]="SwitchCamera",e})({}),aO=(function(e){return e[e.Bk=0]="Bk",e[e.Center=1]="Center",e[e.ZoomIn=2]="ZoomIn",e[e.ZoomOut=3]="ZoomOut",e[e.Left=4]="Left",e[e.Right=5]="Right",e[e.Up=6]="Up",e[e.Down=7]="Down",e[e.SwitchCamera=8]="SwitchCamera",e})({}),NL=(function(e){return e[e.Pan=192]="Pan",e[e.Tilt=48]="Tilt",e[e.Zoom=12]="Zoom",e[e.Focus=3]="Focus",e})({});(function(e){return e[e.ZoomIn=2]="ZoomIn",e[e.ZoomOut=3]="ZoomOut",e[e.Left=4]="Left",e[e.Right=5]="Right",e[e.Up=6]="Up",e[e.Down=7]="Down",e[e.SwitchCamera=8]="SwitchCamera",e})({});(function(e){return e[e.None=0]="None",e[e.ApproveAnother=3]="ApproveAnother",e[e.Stop=5]="Stop",e})({});let d6=(function(e){return e[e.Null=0]="Null",e[e.Normal=1]="Normal",e[e.VideoMode=2]="VideoMode",e})({}),Eh=(function(e){return e[e.Null=0]="Null",e[e.VirtualBackground=1]="VirtualBackground",e[e.Mask=2]="Mask",e[e.VideoProcessor=3]="VideoProcessor",e})({}),Qi=(function(e){return e.Computer="computer",e.Phone="phone",e})({}),_Q=(function(e){return e[e.Decline=0]="Decline",e[e.Approve=1]="Approve",e[e.CacheClean=2]="CacheClean",e})({}),Dp=(function(e){return e.Unknown="unknown",e.Uninstalled="uninstalled",e.Installed="installed",e})({}),TQ=(function(e){return e.Unlaunched="unlaunched",e.Launched="launched",e})({}),$pe=(function(e){return e.Started="started",e.Ended="ended",e})({}),Upe=(function(e){return e[e.Max=30]="Max",e[e.Min=10]="Min",e[e.Default=24]="Default",e})({}),W5=(function(e){return e[e.Loading=1]="Loading",e[e.Done=2]="Done",e})({}),nwe=(function(e){return e.Browser="Browser",e.Zoom="Zoom",e})({}),owe=(function(e){return e.Denoise="backgroundNoiseSuppression",e.OriginalSound="originalSound",e})({}),qge=(function(e){return e[e.Undefined=0]="Undefined",e[e.WebGL=1]="WebGL",e[e.WebGPU=2]="WebGPU",e[e.WebGL2=3]="WebGL2",e})({});(function(e){return e[e.H323=1]="H323",e[e.SIP=2]="SIP",e})({});let nJ=(function(e){return e[e.Success=0]="Success",e[e.Ringing=1]="Ringing",e[e.Timeout=2]="Timeout",e[e.Busy=101]="Busy",e[e.Fail=104]="Fail",e})({}),G5=(function(e){return e[e.Exception=-1]="Exception",e[e.PermissionReset=-2]="PermissionReset",e[e.LostAccess=-3]="LostAccess",e})({}),Cv=(function(e){return e[e.AudioConnectionFailed=101]="AudioConnectionFailed",e[e.AudioStreamEnded=102]="AudioStreamEnded",e[e.MicrophonePermissionReset=103]="MicrophonePermissionReset",e[e.AudioStreamFailed=104]="AudioStreamFailed",e[e.MicrophoneMuted=105]="MicrophoneMuted",e[e.AudioStreamMuted=106]="AudioStreamMuted",e[e.AudioPlaybackInterrupted=107]="AudioPlaybackInterrupted",e[e.VideoConnectionFailed=201]="VideoConnectionFailed",e[e.VideoStreamEnded=202]="VideoStreamEnded",e[e.CameraPermissionReset=203]="CameraPermissionReset",e[e.WebGlContextInvalid=204]="WebGlContextInvalid",e[e.WasmOutOfMemory=205]="WasmOutOfMemory",e[e.VideoStreamFailed=206]="VideoStreamFailed",e[e.VideoStreamMuted=207]="VideoStreamMuted",e[e.SharingStreamFailed=301]="SharingStreamFailed",e})({}),swe=(function(e){return e[e.NoFallback=0]="NoFallback",e[e.FallbackToWasm=1]="FallbackToWasm",e})({}),Kge=(function(e){return e[e.WebRTCAudio=1]="WebRTCAudio",e[e.WebRTCVideo=2]="WebRTCVideo",e})({}),R7e=(function(e){return e[e.WebRTCAudio=1]="WebRTCAudio",e[e.WebRTCAudio2=2]="WebRTCAudio2",e})({}),LL=(function(e){return e[e.BROWSER_NOT_SUPPORTED=-3]="BROWSER_NOT_SUPPORTED",e[e.DEVICE_UNSUPPORTED=-4]="DEVICE_UNSUPPORTED",e[e.OTHER_ERROR=-7]="OTHER_ERROR",e[e.DEVICE_UNVERIFIED=-8]="DEVICE_UNVERIFIED",e[e.FEATURE_DISABLED=-9]="FEATURE_DISABLED",e[e.FORCE_SAME_AV_STRATEGY=-10]="FORCE_SAME_AV_STRATEGY",e})({});const k7e={[LL.BROWSER_NOT_SUPPORTED]:"Your browser does not support WebRTC Video.",[LL.DEVICE_UNSUPPORTED]:"WebRTC video cannot currently run on this environment. We are evaluating support for it in the future.",[LL.OTHER_ERROR]:"An error occurred with WebRTC video.",[LL.DEVICE_UNVERIFIED]:"WebRTC video has not been verified in this environment. We are evaluating it for future support.",[LL.FEATURE_DISABLED]:"We disabled WebRTC video for this environment.",[LL.FORCE_SAME_AV_STRATEGY]:"The same AV strategy is forced."};let Rp=(function(e){return e[e.SELECT_MOUSE=0]="SELECT_MOUSE",e[e.SELECT_TOOL=1]="SELECT_TOOL",e[e.SELECT_ERASER=2]="SELECT_ERASER",e[e.UNDO=3]="UNDO",e[e.REDO=4]="REDO",e[e.CLEAR=5]="CLEAR",e[e.CLOSE_TOOL_BAR=6]="CLOSE_TOOL_BAR",e[e.UPDATE_PARAMS=7]="UPDATE_PARAMS",e[e.PAUSE_ANNOTATION=8]="PAUSE_ANNOTATION",e[e.SHOW_ANNOTATOR_NAME=9]="SHOW_ANNOTATOR_NAME",e[e.ANNOTATOR_ID_TO_NAME=10]="ANNOTATOR_ID_TO_NAME",e[e.ANNO_CANVAS_SIZE_UPDATE=11]="ANNO_CANVAS_SIZE_UPDATE",e[e.STAMP=12]="STAMP",e[e.SPOTLIGHT=13]="SPOTLIGHT",e[e.TEXTBOX=14]="TEXTBOX",e[e.SELECT_OBJ=15]="SELECT_OBJ",e[e.UPDATE_REMOTE_POSITION_INFO=16]="UPDATE_REMOTE_POSITION_INFO",e[e.UPDATE_VANISHING_TOOL_TIME=17]="UPDATE_VANISHING_TOOL_TIME",e})({}),zpe=(function(e){return e[e.Mine=0]="Mine",e[e.Viewer=1]="Viewer",e[e.All=2]="All",e})({}),fE=(function(e){return e[e.None=0]="None",e[e.Pen=1]="Pen",e[e.Highlighter=2]="Highlighter",e[e.Spotlight=3]="Spotlight",e[e.Arrow=4]="Arrow",e[e.Eraser=7]="Eraser",e[e.Line=11]="Line",e[e.Arrow1=12]="Arrow1",e[e.Rectangle=14]="Rectangle",e[e.RectangleSemiFill=15]="RectangleSemiFill",e[e.Ellipse=18]="Ellipse",e[e.EllipseSemiFill=19]="EllipseSemiFill",e[e.DoubleArrow=20]="DoubleArrow",e[e.RectangleFill=21]="RectangleFill",e[e.EllipseFill=23]="EllipseFill",e[e.Diamond=24]="Diamond",e[e.StampArrow=25]="StampArrow",e[e.StampCheck=26]="StampCheck",e[e.StampX=27]="StampX",e[e.StampStar=31]="StampStar",e[e.StampHeart=32]="StampHeart",e[e.StampQuestionMark=33]="StampQuestionMark",e[e.VanishingPen=36]="VanishingPen",e[e.DiamondSemiFill=37]="DiamondSemiFill",e[e.DiamondFill=38]="DiamondFill",e[e.VanishingArrow=43]="VanishingArrow",e[e.VanishingDoubleArrow=44]="VanishingDoubleArrow",e[e.VanishingDiamond=45]="VanishingDiamond",e[e.VanishingEllipse=46]="VanishingEllipse",e[e.VanishingRectangle=47]="VanishingRectangle",e})({}),rwe=(function(e){return e[e.White=4294967295]="White",e[e.Red=4294908185]="Red",e[e.Yellow=4294958642]="Yellow",e[e.Green=4286760838]="Green",e[e.Blue=4281240831]="Blue",e[e.LightPurple=4290017791]="LightPurple",e[e.Pink=4294916295]="Pink",e[e.Orange=4294937088]="Orange",e[e.LimeTreeGreen=4283029022]="LimeTreeGreen",e[e.IceBlue=4283554027]="IceBlue",e[e.DarkGrey=4278190080]="DarkGrey",e[e.DarkRed=4286513152]="DarkRed",e[e.Brown=4286006280]="Brown",e[e.DarkGreen=4278940200]="DarkGreen",e[e.DarkBlue=4279521219]="DarkBlue",e})({});const A5=152,D7e=[{name:"audio_simd.min.js",category:"audio",type:"worker",tag:"simd",alias:"audioSIMDWorkletPath"},{name:"audio.simd.wasm",category:"audio",type:"wasm",tag:"simd",alias:"audioSIMDWasm"},{name:"js_audio_process.min.js",category:"audio",type:"worker",tag:"",alias:"audioWorkerPath"},{name:"audio.encode.wasm",category:"audio",type:"wasm",tag:"",alias:"audioWasm"},{name:"js_audio_worklet.min.js",category:"audio",type:"worklet",tag:"",alias:"audioWorkletPath"},{name:"js_audio_worklet_simd.min.js",category:"audio",type:"worklet",tag:"simd",alias:"audioWorkletSIMDPath"},{name:"js_audio_worklet_process.min.js",category:"audio",type:"worklet",tag:"",alias:"audioWorkletProcessPath"},{name:"js_sharing_audio_worklet.min.js",category:"audio",type:"worklet",tag:"",alias:"sharingAudioWorkletPath"},{name:"js_audio_level_worklet_process.min.js",category:"audio",type:"worklet",tag:"",alias:"audioLevelWorkletPath"},{name:"video_mtsimd.min.js",category:"video",type:"worker",tag:"simd,thread",alias:"videoMSIMDWorkerPath"},{name:"video.mtsimd.wasm",category:"video",type:"wasm",tag:"simd,thread,videoShare",alias:"videoMSIMDWasm"},{name:"video_m.min.js",category:"video",type:"worker",tag:"thread",alias:"videoMtWorkerPath"},{name:"video.mt.wasm",category:"video",type:"wasm",tag:"thread",alias:"videoMtWasm"},{name:"video_simd.min.js",category:"video",type:"worker",tag:"simd",alias:"videoSIMDWorkerPath"},{name:"video.simd.wasm",category:"video",type:"wasm",tag:"simd",alias:"videoSIMDWasm"},{name:"video_s.min.js",category:"video",type:"worker",tag:"",alias:"videoWorkerPath"},{name:"video.decode.wasm",category:"video",type:"wasm",tag:"",alias:"videoWasm"},{name:"video_share_mtsimd.min.js",category:"video",type:"worker",tag:"videoShare",alias:"vsmiworkerpath"},{name:"sharing_mtsimd.min.js",category:"sharing",type:"worker",tag:"simd,thread",alias:"sharingMSIMDWorkerPath"},{name:"sharing_m.min.js",category:"sharing",type:"worker",tag:"thread",alias:"sharingMtWorkerPath"},{name:"sharing_simd.min.js",category:"sharing",type:"worker",tag:"simd",alias:"sharingSIMDWorkerPath"},{name:"sharing_s.min.js",category:"sharing",type:"worker",tag:"",alias:"sharingWorkerPath"},{name:"net_thread.min.js",category:"common",type:"worker",tag:"thread",alias:"netThreadPath"}];class $b{constructor(){this.assetsPath=void 0,this.instance=void 0,this.callbackList=void 0,this.mediaWorkersPath=void 0,this.mediaOptions=void 0,this.inProgress=void 0,this.callbackList=[]}static getInstance(){return this.agentInstance===void 0&&(this.agentInstance=new $b),this.agentInstance}static isSupportMultipleView(){var n;return(n=window.JsMediaSDK_Instance)===null||n===void 0?void 0:n.util.isSupportMultiViewAPI()}static getMaxCountRender(n,o,i){var c;const d=i?{disableRenderLimits:!0}:o;return(c=window.JsMediaSDK_Instance)===null||c===void 0?void 0:c.util.getMaxCountRender(n,d)}init(n,o,i){var c,d,p;!this.instance&&window.JsMediaSDK_Instance&&(this.instance=new window.JsMediaSDK_Instance({...o??{},mediaSDKConfig:{mediaSDKCDNPath:n}})),this.onMediaSDKCallback=this.onMediaSDKCallback.bind(this),this.mediaOptions=o,(c=this.instance)===null||c===void 0||c.setProps({callback:this.onMediaSDKCallback,isPreviewMode:!0,meetingParams:{cid:"",userId:0,rwgHost:"",nginxHost:"",abToken:"",confId:"",e2eEncrypt:!0,enableWebtransport:!1,webtransportPort:0,rwgToMediaSDKConfig:{},webrtcMode:0},mediaParams:{videoDecodeThreadNum:$b.getMaxCountRender(!1,(d=this.mediaOptions)===null||d===void 0?void 0:d.enableMultiDecodeVideoWithoutSAB,i),rendererType:1,isEnableHD:!0,isEnableHW:!0}}),(p=this.instance)===null||p===void 0||p.initVideoEncode(),this.inProgress=!0}onMediaSDKCallback(n,o){this.callbackList.length>0&&this.callbackList.forEach((i=>i(n,o)))}registerCallback(n){this.callbackList.push(n)}unregisterCallback(n){this.callbackList=this.callbackList.filter((o=>o!==n))}async destroy(){var n;this.callbackList=[],await((n=this.instance)===null||n===void 0?void 0:n.destroy()),this.instance=null,this.inProgress=!1}disconnect(){var n,o;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(17,{}),(o=this.instance)===null||o===void 0||o.JsMediaSDK_UnInit()}startVirtualBackgroundSetting(n,o,i,c,d,p,v=!1,S){var _;(_=this.instance)===null||_===void 0||_.Notify_MeidaSDK(91,{canvas:n,bgdom:o,width:d,height:p,ssid:0,VideoSelectValue:c==="default"?null:c,disableOriginalRatio:v,usingFacingMode:["user","environment"].includes(c),id:S})}updateVirtualBackgroundImage(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(92,{bgdom:n})}stopVirtualBackgroundSetting(n=!1){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(93,{isSwitch:n})}startMaskSetting(n,o,i,c,d,p,v,S,_){var x;(x=this.instance)===null||x===void 0||x.Notify_MeidaSDK(62,{canvas:n,maskdom:null,bgdom:null,dx:0,dy:0,dWidth:170,dHeight:170,width:1280,height:720,ssid:0,originWidth:379,originHeight:213,VideoSelectValue:d==="default"?null:d,usingFacingMode:["user","environment"].includes(d)})}stopMaskSetting(n=!1){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(65,{isSwitch:n})}}$b.agentInstance=void 0;const bn="INVALID_OPERATION",Jh="INTERNAL_ERROR",yte="OPERATION_TIMEOUT",Bp="INSUFFICIENT_PRIVILEGES",oJ="IMPROPER_MEETING_STATE",ar="INVALID_PARAMETERS",iwe="OPERATION_CANCELLED";var Zge=function(e,n){return Zge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(o[c]=i[c])},Zge(e,n)};function $y(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}Zge(e,n),e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}var h6=function(){return h6=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++)for(var c in n=arguments[o])Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c]);return e},h6.apply(this,arguments)};function DDe(e,n){var o,i,c,d,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function v(S){return function(_){return(function(x){if(o)throw new TypeError("Generator is already executing.");for(;p;)try{if(o=1,i&&(c=2&x[0]?i.return:x[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,x[1])).done)return c;switch(i=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return p.label++,{value:x[1],done:!1};case 5:p.label++,i=x[1],x=[0];continue;case 7:x=p.ops.pop(),p.trys.pop();continue;default:if(!((c=(c=p.trys).length>0&&c[c.length-1])||x[0]!==6&&x[0]!==2)){p=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){p.label=x[1];break}if(x[0]===6&&p.label<c[1]){p.label=c[1],c=x;break}if(c&&p.label<c[2]){p.label=c[2],p.ops.push(x);break}c[2]&&p.ops.pop(),p.trys.pop();continue}x=n.call(e,p)}catch(P){x=[6,P],i=0}finally{o=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}})([S,_])}}}function z6(e){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&e[n],i=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function n1(e,n){var o=typeof Symbol=="function"&&e[Symbol.iterator];if(!o)return e;var i,c,d=o.call(e),p=[];try{for(;(n===void 0||n-- >0)&&!(i=d.next()).done;)p.push(i.value)}catch(v){c={error:v}}finally{try{i&&!i.done&&(o=d.return)&&o.call(d)}finally{if(c)throw c.error}}return p}function PS(e,n){for(var o=0,i=n.length,c=e.length;o<i;o++,c++)e[c]=n[o];return e}function o3(e){return this instanceof o3?(this.v=e,this):new o3(e)}function Ol(e){return typeof e=="function"}function Oz(e){var n=e((function(o){Error.call(o),o.stack=new Error().stack}));return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var jpe=Oz((function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map((function(o,i){return i+1+") "+o.toString()})).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}}));function AQ(e,n){if(e){var o=e.indexOf(n);0<=o&&e.splice(o,1)}}var Iz=(function(){function e(o){this.initialTeardown=o,this.closed=!1,this._parentage=null,this._finalizers=null}var n;return e.prototype.unsubscribe=function(){var o,i,c,d,p;if(!this.closed){this.closed=!0;var v=this._parentage;if(v)if(this._parentage=null,Array.isArray(v))try{for(var S=z6(v),_=S.next();!_.done;_=S.next())_.value.remove(this)}catch(z){o={error:z}}finally{try{_&&!_.done&&(i=S.return)&&i.call(S)}finally{if(o)throw o.error}}else v.remove(this);var x=this.initialTeardown;if(Ol(x))try{x()}catch(z){p=z instanceof jpe?z.errors:[z]}var P=this._finalizers;if(P){this._finalizers=null;try{for(var B=z6(P),H=B.next();!H.done;H=B.next()){var U=H.value;try{awe(U)}catch(z){p=p??[],z instanceof jpe?p=PS(PS([],n1(p)),n1(z.errors)):p.push(z)}}}catch(z){c={error:z}}finally{try{H&&!H.done&&(d=B.return)&&d.call(B)}finally{if(c)throw c.error}}}if(p)throw new jpe(p)}},e.prototype.add=function(o){var i;if(o&&o!==this)if(this.closed)awe(o);else{if(o instanceof e){if(o.closed||o._hasParent(this))return;o._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(o)}},e.prototype._hasParent=function(o){var i=this._parentage;return i===o||Array.isArray(i)&&i.includes(o)},e.prototype._addParent=function(o){var i=this._parentage;this._parentage=Array.isArray(i)?(i.push(o),i):i?[i,o]:o},e.prototype._removeParent=function(o){var i=this._parentage;i===o?this._parentage=null:Array.isArray(i)&&AQ(i,o)},e.prototype.remove=function(o){var i=this._finalizers;i&&AQ(i,o),o instanceof e&&o._removeParent(this)},e.EMPTY=((n=new e).closed=!0,n),e})(),MDe=Iz.EMPTY;function PDe(e){return e instanceof Iz||e&&"closed"in e&&Ol(e.remove)&&Ol(e.add)&&Ol(e.unsubscribe)}function awe(e){Ol(e)?e():e.unsubscribe()}var M7e=void 0;function NDe(e){(function(n,o){for(var i=[],c=2;c<arguments.length;c++)i[c-2]=arguments[c];setTimeout.apply(void 0,PS([n,o],n1(i)))})((function(){throw e}))}function Z3(){}function sJ(e){e()}var P0e=(function(e){function n(o){var i=e.call(this)||this;return i.isStopped=!1,o?(i.destination=o,PDe(o)&&o.add(i)):i.destination=N7e,i}return $y(n,e),n.create=function(o,i,c){return new xQ(o,i,c)},n.prototype.next=function(o){this.isStopped||this._next(o)},n.prototype.error=function(o){this.isStopped||(this.isStopped=!0,this._error(o))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(o){this.destination.next(o)},n.prototype._error=function(o){try{this.destination.error(o)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n})(Iz),P7e=(function(){function e(n){this.partialObserver=n}return e.prototype.next=function(n){var o=this.partialObserver;if(o.next)try{o.next(n)}catch(i){dX(i)}},e.prototype.error=function(n){var o=this.partialObserver;if(o.error)try{o.error(n)}catch(i){dX(i)}else dX(n)},e.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(o){dX(o)}},e})(),xQ=(function(e){function n(o,i,c){var d,p=e.call(this)||this;return d=Ol(o)||!o?{next:o??void 0,error:i??void 0,complete:c??void 0}:o,p.destination=new P7e(d),p}return $y(n,e),n})(P0e);function dX(e){NDe(e)}var N7e={closed:!0,next:Z3,error:function(e){throw e},complete:Z3},N0e=typeof Symbol=="function"&&Symbol.observable||"@@observable";function bte(e){return e}function $O(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return LDe(e)}function LDe(e){return e.length===0?bte:e.length===1?e[0]:function(n){return e.reduce((function(o,i){return i(o)}),n)}}var Su=(function(){function e(n){n&&(this._subscribe=n)}return e.prototype.lift=function(n){var o=new e;return o.source=this,o.operator=n,o},e.prototype.subscribe=function(n,o,i){var c,d=this,p=(c=n)&&c instanceof P0e||(function(v){return v&&Ol(v.next)&&Ol(v.error)&&Ol(v.complete)})(c)&&PDe(c)?n:new xQ(n,o,i);return sJ((function(){var v=d,S=v.operator,_=v.source;p.add(S?S.call(p,_):_?d._subscribe(p):d._trySubscribe(p))})),p},e.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(o){n.error(o)}},e.prototype.forEach=function(n,o){var i=this;return new(o=lwe(o))((function(c,d){var p=new xQ({next:function(v){try{n(v)}catch(S){d(S),p.unsubscribe()}},error:d,complete:c});i.subscribe(p)}))},e.prototype._subscribe=function(n){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(n)},e.prototype[N0e]=function(){return this},e.prototype.pipe=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return LDe(n)(this)},e.prototype.toPromise=function(n){var o=this;return new(n=lwe(n))((function(i,c){var d;o.subscribe((function(p){return d=p}),(function(p){return c(p)}),(function(){return i(d)}))}))},e.create=function(n){return new e(n)},e})();function lwe(e){var n;return(n=e??M7e)!==null&&n!==void 0?n:Promise}function Qd(e){return function(n){if((function(o){return Ol(o?.lift)})(n))return n.lift((function(o){try{return e(o,this)}catch(i){this.error(i)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Od(e,n,o,i,c){return new L7e(e,n,o,i,c)}var Wpe,L7e=(function(e){function n(o,i,c,d,p,v){var S=e.call(this,o)||this;return S.onFinalize=p,S.shouldUnsubscribe=v,S._next=i?function(_){try{i(_)}catch(x){o.error(x)}}:e.prototype._next,S._error=d?function(_){try{d(_)}catch(x){o.error(x)}finally{this.unsubscribe()}}:e.prototype._error,S._complete=c?function(){try{c()}catch(_){o.error(_)}finally{this.unsubscribe()}}:e.prototype._complete,S}return $y(n,e),n.prototype.unsubscribe=function(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),!i&&((o=this.onFinalize)===null||o===void 0||o.call(this))}},n})(P0e),B7e=Oz((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),J0=(function(e){function n(){var o=e.call(this)||this;return o.closed=!1,o.currentObservers=null,o.observers=[],o.isStopped=!1,o.hasError=!1,o.thrownError=null,o}return $y(n,e),n.prototype.lift=function(o){var i=new cwe(this,this);return i.operator=o,i},n.prototype._throwIfClosed=function(){if(this.closed)throw new B7e},n.prototype.next=function(o){var i=this;sJ((function(){var c,d;if(i._throwIfClosed(),!i.isStopped){i.currentObservers||(i.currentObservers=Array.from(i.observers));try{for(var p=z6(i.currentObservers),v=p.next();!v.done;v=p.next())v.value.next(o)}catch(S){c={error:S}}finally{try{v&&!v.done&&(d=p.return)&&d.call(p)}finally{if(c)throw c.error}}}}))},n.prototype.error=function(o){var i=this;sJ((function(){if(i._throwIfClosed(),!i.isStopped){i.hasError=i.isStopped=!0,i.thrownError=o;for(var c=i.observers;c.length;)c.shift().error(o)}}))},n.prototype.complete=function(){var o=this;sJ((function(){if(o._throwIfClosed(),!o.isStopped){o.isStopped=!0;for(var i=o.observers;i.length;)i.shift().complete()}}))},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var o;return((o=this.observers)===null||o===void 0?void 0:o.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(o){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,o)},n.prototype._subscribe=function(o){return this._throwIfClosed(),this._checkFinalizedStatuses(o),this._innerSubscribe(o)},n.prototype._innerSubscribe=function(o){var i=this,c=this,d=c.hasError,p=c.isStopped,v=c.observers;return d||p?MDe:(this.currentObservers=null,v.push(o),new Iz((function(){i.currentObservers=null,AQ(v,o)})))},n.prototype._checkFinalizedStatuses=function(o){var i=this,c=i.hasError,d=i.thrownError,p=i.isStopped;c?o.error(d):p&&o.complete()},n.prototype.asObservable=function(){var o=new Su;return o.source=this,o},n.create=function(o,i){return new cwe(o,i)},n})(Su),cwe=(function(e){function n(o,i){var c=e.call(this)||this;return c.destination=o,c.source=i,c}return $y(n,e),n.prototype.next=function(o){var i,c;(c=(i=this.destination)===null||i===void 0?void 0:i.next)===null||c===void 0||c.call(i,o)},n.prototype.error=function(o){var i,c;(c=(i=this.destination)===null||i===void 0?void 0:i.error)===null||c===void 0||c.call(i,o)},n.prototype.complete=function(){var o,i;(i=(o=this.destination)===null||o===void 0?void 0:o.complete)===null||i===void 0||i.call(o)},n.prototype._subscribe=function(o){var i,c;return(c=(i=this.source)===null||i===void 0?void 0:i.subscribe(o))!==null&&c!==void 0?c:MDe},n})(J0),F7e=(function(e){function n(o){var i=e.call(this)||this;return i._value=o,i}return $y(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(o){var i=e.prototype._subscribe.call(this,o);return!i.closed&&o.next(this._value),i},n.prototype.getValue=function(){var o=this,i=o.hasError,c=o.thrownError,d=o._value;if(i)throw c;return this._throwIfClosed(),d},n.prototype.next=function(o){e.prototype.next.call(this,this._value=o)},n})(J0),V7e=function(){return Date.now()},H7e=(function(e){function n(o,i){return e.call(this)||this}return $y(n,e),n.prototype.schedule=function(o,i){return this},n})(Iz),L0e=(function(e){function n(o,i){var c=e.call(this,o,i)||this;return c.scheduler=o,c.work=i,c.pending=!1,c}return $y(n,e),n.prototype.schedule=function(o,i){var c;if(i===void 0&&(i=0),this.closed)return this;this.state=o;var d=this.id,p=this.scheduler;return d!=null&&(this.id=this.recycleAsyncId(p,d,i)),this.pending=!0,this.delay=i,this.id=(c=this.id)!==null&&c!==void 0?c:this.requestAsyncId(p,this.id,i),this},n.prototype.requestAsyncId=function(o,i,c){return c===void 0&&(c=0),(function(d,p){for(var v=[],S=2;S<arguments.length;S++)v[S-2]=arguments[S];return setInterval.apply(void 0,PS([d,p],n1(v)))})(o.flush.bind(o,this),c)},n.prototype.recycleAsyncId=function(o,i,c){if(c===void 0&&(c=0),c!=null&&this.delay===c&&this.pending===!1)return i;i!=null&&(function(d){clearInterval(d)})(i)},n.prototype.execute=function(o,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var c=this._execute(o,i);if(c)return c;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(o,i){var c,d=!1;try{this.work(o)}catch(p){d=!0,c=p||new Error("Scheduled action threw falsy error")}if(d)return this.unsubscribe(),c},n.prototype.unsubscribe=function(){if(!this.closed){var o=this.id,i=this.scheduler,c=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,AQ(c,this),o!=null&&(this.id=this.recycleAsyncId(i,o,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},n})(H7e),$7e=1,Yge={};function BDe(e){return e in Yge&&(delete Yge[e],!0)}var U7e=function(e){var n=$7e++;return Yge[n]=!0,Wpe||(Wpe=Promise.resolve()),Wpe.then((function(){return BDe(n)&&e()})),n},z7e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return U7e.apply(void 0,PS([],n1(e)))},j7e=function(e){return(function(n){BDe(n)})(e)},W7e=(function(e){function n(o,i){var c=e.call(this,o,i)||this;return c.scheduler=o,c.work=i,c}return $y(n,e),n.prototype.requestAsyncId=function(o,i,c){return c===void 0&&(c=0),c!==null&&c>0?e.prototype.requestAsyncId.call(this,o,i,c):(o.actions.push(this),o._scheduled||(o._scheduled=z7e(o.flush.bind(o,void 0))))},n.prototype.recycleAsyncId=function(o,i,c){var d;if(c===void 0&&(c=0),c!=null?c>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,o,i,c);var p=o.actions;i!=null&&((d=p[p.length-1])===null||d===void 0?void 0:d.id)!==i&&(j7e(i),o._scheduled===i&&(o._scheduled=void 0))},n})(L0e),uwe=(function(){function e(n,o){o===void 0&&(o=e.now),this.schedulerActionCtor=n,this.now=o}return e.prototype.schedule=function(n,o,i){return o===void 0&&(o=0),new this.schedulerActionCtor(this,n).schedule(i,o)},e.now=V7e,e})(),B0e=(function(e){function n(o,i){i===void 0&&(i=uwe.now);var c=e.call(this,o,i)||this;return c.actions=[],c._active=!1,c}return $y(n,e),n.prototype.flush=function(o){var i=this.actions;if(this._active)i.push(o);else{var c;this._active=!0;do if(c=o.execute(o.state,o.delay))break;while(o=i.shift());if(this._active=!1,c){for(;o=i.shift();)o.unsubscribe();throw c}}},n})(uwe),yT=new((function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return $y(n,e),n.prototype.flush=function(o){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var c,d=this.actions;o=o||d.shift();do if(c=o.execute(o.state,o.delay))break;while((o=d[0])&&o.id===i&&d.shift());if(this._active=!1,c){for(;(o=d[0])&&o.id===i&&d.shift();)o.unsubscribe();throw c}},n})(B0e))(W7e),Dv=new B0e(L0e),G7e=Dv,q7e=(function(e){function n(o,i){var c=e.call(this,o,i)||this;return c.scheduler=o,c.work=i,c}return $y(n,e),n.prototype.schedule=function(o,i){return i===void 0&&(i=0),i>0?e.prototype.schedule.call(this,o,i):(this.delay=i,this.state=o,this.scheduler.flush(this),this)},n.prototype.execute=function(o,i){return i>0||this.closed?e.prototype.execute.call(this,o,i):this._execute(o,i)},n.prototype.requestAsyncId=function(o,i,c){return c===void 0&&(c=0),c!=null&&c>0||c==null&&this.delay>0?e.prototype.requestAsyncId.call(this,o,i,c):(o.flush(this),0)},n})(L0e),dwe=new((function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return $y(n,e),n})(B0e))(q7e),Po=new Su((function(e){return e.complete()}));function FDe(e){return e&&Ol(e.schedule)}function F0e(e){return e[e.length-1]}function VDe(e){return Ol(F0e(e))?e.pop():void 0}function Rz(e){return FDe(F0e(e))?e.pop():void 0}var V0e=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function HDe(e){return Ol(e?.then)}function $De(e){return Ol(e[N0e])}function UDe(e){return Symbol.asyncIterator&&Ol(e?.[Symbol.asyncIterator])}function zDe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var hwe,jDe=typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator";function WDe(e){return Ol(e?.[jDe])}function GDe(e){return(function(n,o,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,d=i.apply(n,o||[]),p=[];return c={},v("next"),v("throw"),v("return"),c[Symbol.asyncIterator]=function(){return this},c;function v(B){d[B]&&(c[B]=function(H){return new Promise((function(U,z){p.push([B,H,U,z])>1||S(B,H)}))})}function S(B,H){try{(function(U){U.value instanceof o3?Promise.resolve(U.value.v).then(_,x):P(p[0][2],U)})(d[B](H))}catch(U){P(p[0][3],U)}}function _(B){S("next",B)}function x(B){S("throw",B)}function P(B,H){B(H),p.shift(),p.length&&S(p[0][0],p[0][1])}})(this,arguments,(function(){var n,o,i;return DDe(this,(function(c){switch(c.label){case 0:n=e.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,o3(n.read())];case 3:return o=c.sent(),i=o.value,o.done?[4,o3(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,o3(i)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}}))}))}function qDe(e){return Ol(e?.getReader)}function Wf(e){if(e instanceof Su)return e;if(e!=null){if($De(e))return c=e,new Su((function(d){var p=c[N0e]();if(Ol(p.subscribe))return p.subscribe(d);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(V0e(e))return i=e,new Su((function(d){for(var p=0;p<i.length&&!d.closed;p++)d.next(i[p]);d.complete()}));if(HDe(e))return o=e,new Su((function(d){o.then((function(p){d.closed||(d.next(p),d.complete())}),(function(p){return d.error(p)})).then(null,NDe)}));if(UDe(e))return fwe(e);if(WDe(e))return n=e,new Su((function(d){var p,v;try{for(var S=z6(n),_=S.next();!_.done;_=S.next()){var x=_.value;if(d.next(x),d.closed)return}}catch(P){p={error:P}}finally{try{_&&!_.done&&(v=S.return)&&v.call(S)}finally{if(p)throw p.error}}d.complete()}));if(qDe(e))return fwe(GDe(e))}var n,o,i,c;throw zDe(e)}function fwe(e){return new Su((function(n){(function(o,i){var c,d,p,v;return(function(S,_,x,P){return new(x||(x=Promise))((function(B,H){function U(te){try{Z(P.next(te))}catch(ce){H(ce)}}function z(te){try{Z(P.throw(te))}catch(ce){H(ce)}}function Z(te){var ce;te.done?B(te.value):(ce=te.value,ce instanceof x?ce:new x((function(se){se(ce)}))).then(U,z)}Z((P=P.apply(S,[])).next())}))})(this,0,void 0,(function(){var S,_;return DDe(this,(function(x){switch(x.label){case 0:x.trys.push([0,5,6,11]),c=(function(P){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,H=P[Symbol.asyncIterator];return H?H.call(P):(P=z6(P),B={},U("next"),U("throw"),U("return"),B[Symbol.asyncIterator]=function(){return this},B);function U(z){B[z]=P[z]&&function(Z){return new Promise((function(te,ce){(function(se,Se,Ce,Te){Promise.resolve(Te).then((function(V){se({value:V,done:Ce})}),Se)})(te,ce,(Z=P[z](Z)).done,Z.value)}))}}})(o),x.label=1;case 1:return[4,c.next()];case 2:if((d=x.sent()).done)return[3,4];if(S=d.value,i.next(S),i.closed)return[2];x.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return _=x.sent(),p={error:_},[3,11];case 6:return x.trys.push([6,,9,10]),d&&!d.done&&(v=c.return)?[4,v.call(c)]:[3,8];case 7:x.sent(),x.label=8;case 8:return[3,10];case 9:if(p)throw p.error;return[7];case 10:return[7];case 11:return i.complete(),[2]}}))}))})(e,n).catch((function(o){return n.error(o)}))}))}function PO(e,n,o,i,c){i===void 0&&(i=0),c===void 0&&(c=!1);var d=n.schedule((function(){o(),c?e.add(this.schedule(null,i)):this.unsubscribe()}),i);if(e.add(d),!c)return d}function Ju(e,n){return n===void 0&&(n=0),Qd((function(o,i){o.subscribe(Od(i,(function(c){return PO(i,e,(function(){return i.next(c)}),n)}),(function(){return PO(i,e,(function(){return i.complete()}),n)}),(function(c){return PO(i,e,(function(){return i.error(c)}),n)})))}))}function Xge(e,n){return n===void 0&&(n=0),Qd((function(o,i){i.add(e.schedule((function(){return o.subscribe(i)}),n))}))}function pwe(e,n){if(!e)throw new Error("Iterable cannot be null");return new Su((function(o){PO(o,n,(function(){var i=e[Symbol.asyncIterator]();PO(o,n,(function(){i.next().then((function(c){c.done?o.complete():o.next(c.value)}))}),0,!0)}))}))}function lo(e,n){return n?(function(o,i){if(o!=null){if($De(o))return(function(c,d){return Wf(c).pipe(Xge(d),Ju(d))})(o,i);if(V0e(o))return(function(c,d){return new Su((function(p){var v=0;return d.schedule((function(){v===c.length?p.complete():(p.next(c[v++]),p.closed||this.schedule())}))}))})(o,i);if(HDe(o))return(function(c,d){return Wf(c).pipe(Xge(d),Ju(d))})(o,i);if(UDe(o))return pwe(o,i);if(WDe(o))return(function(c,d){return new Su((function(p){var v;return PO(p,d,(function(){v=c[jDe](),PO(p,d,(function(){var S,_,x;try{_=(S=v.next()).value,x=S.done}catch(P){return void p.error(P)}x?p.complete():p.next(_)}),0,!0)})),function(){return Ol(v?.return)&&v.return()}}))})(o,i);if(qDe(o))return(function(c,d){return pwe(GDe(c),d)})(o,i)}throw zDe(o)})(e,n):Wf(e)}function qa(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return lo(e,Rz(e))}function UO(e,n){var o=Ol(e)?e:function(){return e};return new Su((function(i){return i.error(o())}))}(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(hwe||(hwe={}));var Gpe=(function(){function e(n,o,i){this.kind=n,this.value=o,this.error=i,this.hasValue=n==="N"}return e.prototype.observe=function(n){return KDe(this,n)},e.prototype.do=function(n,o,i){var c=this,d=c.kind,p=c.value,v=c.error;return d==="N"?n?.(p):d==="E"?o?.(v):i?.()},e.prototype.accept=function(n,o,i){var c;return Ol((c=n)===null||c===void 0?void 0:c.next)?this.observe(n):this.do(n,o,i)},e.prototype.toObservable=function(){var n=this,o=n.kind,i=n.value,c=n.error,d=o==="N"?qa(i):o==="E"?UO((function(){return c})):o==="C"?Po:0;if(!d)throw new TypeError("Unexpected notification kind "+o);return d},e.createNext=function(n){return new e("N",n)},e.createError=function(n){return new e("E",void 0,n)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e})();function KDe(e,n){var o,i,c,d=e,p=d.kind,v=d.value,S=d.error;if(typeof p!="string")throw new TypeError('Invalid notification, missing "kind"');p==="N"?(o=n.next)===null||o===void 0||o.call(n,v):p==="E"?(i=n.error)===null||i===void 0||i.call(n,S):(c=n.complete)===null||c===void 0||c.call(n)}var ZDe=Oz((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function f6(e,n){return new Promise((function(o,i){var c,d=!1;e.subscribe({next:function(p){c=p,d=!0},error:i,complete:function(){d?o(c):i(new ZDe)}})}))}function hc(e,n){return new Promise((function(o,i){var c=new xQ({next:function(d){o(d),c.unsubscribe()},error:i,complete:function(){i(new ZDe)}});e.subscribe(c)}))}function YDe(e){return e instanceof Date&&!isNaN(e)}var K7e=Oz((function(e){return function(n){n===void 0&&(n=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}}));function H0e(e,n){var o=YDe(e)?{first:e}:typeof e=="number"?{each:e}:e,i=o.first,c=o.each,d=o.with,p=d===void 0?Z7e:d,v=o.scheduler,S=v===void 0?Dv:v,_=o.meta,x=_===void 0?null:_;if(i==null&&c==null)throw new TypeError("No timeout provided.");return Qd((function(P,B){var H,U,z=null,Z=0,te=function(ce){U=PO(B,S,(function(){try{H.unsubscribe(),Wf(p({meta:x,lastValue:z,seen:Z})).subscribe(B)}catch(se){B.error(se)}}),ce)};H=P.subscribe(Od(B,(function(ce){U?.unsubscribe(),Z++,B.next(z=ce),c>0&&te(c)}),void 0,void 0,(function(){U?.closed||U==null||U.unsubscribe(),z=null}))),!Z&&te(i!=null?typeof i=="number"?i:+i-S.now():c)}))}function Z7e(e){throw new K7e(e)}function Do(e,n){return Qd((function(o,i){var c=0;o.subscribe(Od(i,(function(d){i.next(e.call(n,d,c++))})))}))}var Y7e=Array.isArray;function $0e(e){return Do((function(n){return(function(o,i){return Y7e(i)?o.apply(void 0,PS([],n1(i))):o(i)})(e,n)}))}var X7e=Array.isArray,J7e=Object.getPrototypeOf,Q7e=Object.prototype,eWe=Object.keys;function XDe(e,n,o,i,c,d,p,v){var S=[],_=0,x=0,P=!1,B=function(){!P||S.length||_||n.complete()},H=function(z){return _<i?U(z):S.push(z)},U=function(z){d&&n.next(z),_++;var Z=!1;Wf(o(z,x++)).subscribe(Od(n,(function(te){d?H(te):n.next(te)}),(function(){Z=!0}),void 0,(function(){if(Z)try{_--;for(var te=function(){var ce=S.shift();p||U(ce)};S.length&&_<i;)te();B()}catch(ce){n.error(ce)}})))};return e.subscribe(Od(n,H,(function(){P=!0,B()}))),function(){}}function pn(e,n,o){return o===void 0&&(o=1/0),Ol(n)?pn((function(i,c){return Do((function(d,p){return n(i,d,c,p)}))(Wf(e(i,c)))}),o):(typeof n=="number"&&(o=n),Qd((function(i,c){return XDe(i,c,e,o)})))}function JDe(e){return e===void 0&&(e=1/0),pn(bte,e)}function QDe(){return JDe(1)}function j6(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return QDe()(lo(e,Rz(e)))}function mwe(e){return new Su((function(n){Wf(e()).subscribe(n)}))}function U0e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=VDe(e),i=(function(v){if(v.length===1){var S=v[0];if(X7e(S))return{args:S,keys:null};if((x=S)&&typeof x=="object"&&J7e(x)===Q7e){var _=eWe(S);return{args:_.map((function(P){return S[P]})),keys:_}}}var x;return{args:v,keys:null}})(e),c=i.args,d=i.keys,p=new Su((function(v){var S=c.length;if(S)for(var _=new Array(S),x=S,P=S,B=function(U){var z=!1;Wf(c[U]).subscribe(Od(v,(function(Z){z||(z=!0,P--),_[U]=Z}),(function(){return x--}),void 0,(function(){x&&z||(P||v.next(d?(function(Z,te){return Z.reduce((function(ce,se,Se){return ce[se]=te[Se],ce}),{})})(d,_):_),v.complete())})))},H=0;H<S;H++)B(H);else v.complete()}));return o?p.pipe($0e(o)):p}var tWe=["addListener","removeListener"],nWe=["addEventListener","removeEventListener"],oWe=["on","off"];function Jd(e,n,o,i){if(Ol(o)&&(i=o,o=void 0),i)return Jd(e,n,o).pipe($0e(i));var c=n1((function(v){return Ol(v.addEventListener)&&Ol(v.removeEventListener)})(e)?nWe.map((function(v){return function(S){return e[v](n,S,o)}})):(function(v){return Ol(v.addListener)&&Ol(v.removeListener)})(e)?tWe.map(gwe(e,n)):(function(v){return Ol(v.on)&&Ol(v.off)})(e)?oWe.map(gwe(e,n)):[],2),d=c[0],p=c[1];if(!d&&V0e(e))return pn((function(v){return Jd(v,n,o)}))(Wf(e));if(!d)throw new TypeError("Invalid event target");return new Su((function(v){var S=function(){for(var _=[],x=0;x<arguments.length;x++)_[x]=arguments[x];return v.next(1<_.length?_:_[0])};return d(S),function(){return p(S)}}))}function gwe(e,n){return function(o){return function(i){return e[o](n,i)}}}function bT(e,n,o){return o?bT(e,n).pipe($0e(o)):new Su((function(i){var c=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];return i.next(p.length===1?p[0]:p)},d=e(c);return Ol(n)?function(){return n(c,d)}:void 0}))}function wu(e,n,o){e===void 0&&(e=0),o===void 0&&(o=G7e);var i=-1;return n!=null&&(FDe(n)?o=n:i=n),new Su((function(c){var d=YDe(e)?+e-o.now():e;d<0&&(d=0);var p=0;return o.schedule((function(){c.closed||(c.next(p++),0<=i?this.schedule(void 0,i):c.complete())}),d)}))}function W6(e,n){return e===void 0&&(e=0),n===void 0&&(n=Dv),e<0&&(e=0),wu(e,e,n)}function xd(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=Rz(e),i=(function(d){return typeof F0e(d)=="number"?d.pop():1/0})(e),c=e;return c.length?c.length===1?Wf(c[0]):JDe(i)(lo(c,o)):Po}var vwe=new Su(Z3),sWe=Array.isArray;function rWe(e,n){return function(o,i){return!e.call(n,o,i)}}function xn(e,n){return Qd((function(o,i){var c=0;o.subscribe(Od(i,(function(d){return e.call(n,d,c++)&&i.next(d)})))}))}function Fp(){for(var e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return(n=(e=n).length===1&&sWe(e[0])?e[0]:e).length===1?Wf(n[0]):new Su((function(i){return function(c){for(var d=[],p=function(S){d.push(Wf(i[S]).subscribe(Od(c,(function(_){if(d){for(var x=0;x<d.length;x++)x!==S&&d[x].unsubscribe();d=null}c.next(_)}))))},v=0;d&&!c.closed&&v<i.length;v++)p(v)}})(n))}function Cm(e){return Qd((function(n,o){var i,c=null,d=!1;c=n.subscribe(Od(o,void 0,void 0,(function(p){i=Wf(e(p,Cm(e)(n))),c?(c.unsubscribe(),c=null,i.subscribe(o)):d=!0}))),d&&(c.unsubscribe(),c=null,i.subscribe(o))}))}function iWe(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=Rz(e);return Qd((function(i,c){QDe()(lo(PS([i],n1(e)),o)).subscribe(c)}))}function aWe(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return iWe.apply(void 0,PS([],n1(e)))}function Jr(e){return e<=0?function(){return Po}:Qd((function(n,o){var i=0;n.subscribe(Od(o,(function(c){++i<=e&&(o.next(c),e<=i&&o.complete())})))}))}function Eg(){return Qd((function(e,n){e.subscribe(Od(n,Z3))}))}function M2(e){return Do((function(){return e}))}function eMe(e,n){return pn((function(o,i){return Wf(e(o,i)).pipe(Jr(1),M2(o))}))}function Y3(e,n){n===void 0&&(n=Dv);var o=wu(e,n);return eMe((function(){return o}))}function Da(e,n,o){return o===void 0&&(o=1/0),Ol(n)?pn((function(){return e}),n,o):pn((function(){return e}),o)}function lWe(e,n){return Qd((function(o,i,c){return function(d,p){var v=c,S=i,_=0;d.subscribe(Od(p,(function(x){var P=_++;S=v?o(S,x,P):(v=!0,x),p.next(S)}),void 0))}})(e,n,arguments.length>=2))}function tMe(e){return Qd((function(n,o){var i=!1,c=0;n.subscribe(Od(o,(function(d){return(i||(i=!e(d,c++)))&&o.next(d)})))}))}function o1(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=Rz(e);return Qd((function(i,c){(o?j6(e,i,o):j6(e,i)).subscribe(c)}))}function mi(e,n){return Qd((function(o,i){var c=null,d=0,p=!1,v=function(){return p&&!c&&i.complete()};o.subscribe(Od(i,(function(S){c?.unsubscribe();var _=0,x=d++;Wf(e(S,x)).subscribe(c=Od(i,(function(P){return i.next(n?n(S,P,x,_++):P)}),(function(){c=null,v()})))}),(function(){p=!0,v()})))}))}function _h(e){return Qd((function(n,o){Wf(e).subscribe(Od(o,(function(){return o.complete()}),Z3)),!o.closed&&n.subscribe(o)}))}function t2(e,n){return n===void 0&&(n=!1),Qd((function(o,i){var c=0;o.subscribe(Od(i,(function(d){var p=e(d,c++);(p||n)&&i.next(d),!p&&i.complete()})))}))}function Yo(e,n,o){var i=Ol(e)||n||o?{next:e,error:n,complete:o}:e;return i?Qd((function(c,d){var p;(p=i.subscribe)===null||p===void 0||p.call(i);var v=!0;c.subscribe(Od(d,(function(S){var _;(_=i.next)===null||_===void 0||_.call(i,S),d.next(S)}),(function(){var S;v=!1,(S=i.complete)===null||S===void 0||S.call(i),d.complete()}),(function(S){var _;v=!1,(_=i.error)===null||_===void 0||_.call(i,S),d.error(S)}),(function(){var S,_;v&&((S=i.unsubscribe)===null||S===void 0||S.call(i)),(_=i.finalize)===null||_===void 0||_.call(i)})))})):bte}function us(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=VDe(e);return Qd((function(i,c){for(var d=e.length,p=new Array(d),v=e.map((function(){return!1})),S=!1,_=function(P){Wf(e[P]).subscribe(Od(c,(function(B){p[P]=B,S||v[P]||(v[P]=!0,(S=v.every(bte))&&(v=null))}),Z3))},x=0;x<d;x++)_(x);i.subscribe(Od(c,(function(P){if(S){var B=PS([P],n1(p));c.next(o?o.apply(void 0,PS([],n1(B))):B)}})))}))}const kz="ADD_CURRENT_USER_PARTICIPANT_ATTRIBUTE",Mp="UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",Ste="ADD_USER_PARTICIPANT_ATTRIBUTE",NS="UPDATE_USER_PARTICIPANT_ATTRIBUTE",z0e="REMOVE_USER_PARTICIPANT_ATTRIBUTE",uO="UPDATE_WEBINAR_PARTICIPANT_ATTRIBUTE",nMe="REMOVE_WEBINAR_ATTENDEE_ATTRIBUTE";let Em=(function(e){return e.Failover="failover",e.OnHold="on hold",e.Promote="promote",e.Depromote="depromote",e.JoinBreakoutRoom="join breakout room",e.MoveToBreakoutRoom="move to breakout room",e.BackToMainSession="back to main session",e})({});const jk="js_media.min.js";let qpe=(function(e){return e.CDN="CDN",e.Global="Global",e.CN="CN",e})({}),s3=(function(e){return e.Connected="Connected",e.Reconnecting="Reconnecting",e.Closed="Closed",e.Fail="Fail",e})({}),Th=(function(e){return e.Initial="initial",e.Joined="joined",e.Closed="closed",e})({}),dO=(function(e){return e.AudioDecodeInWorklet="M:6;V:3",e.VideoWebRTCEnable="M:10;V:6",e.VideoHalfWebRTCEnable="M:11;V:7",e.WebGL2Render="M:20;V:8",e.WebGPURender="M:21;V:9",e.ZMKFromRWG="M:19;V:10",e})({}),ef=(function(e){return e[e.NormalCase=-1]="NormalCase",e[e.NoHeartbeat=0]="NoHeartbeat",e[e.NoHeartbeatMChannel=1]="NoHeartbeatMChannel",e[e.NetworkChange=2]="NetworkChange",e[e.NotifyUiFailover=3]="NotifyUiFailover",e[e.InvalidParameters=4]="InvalidParameters",e[e.OnError=5]="OnError",e[e.OnErrorMChannel=6]="OnErrorMChannel",e[e.Disconnect=7]="Disconnect",e[e.DisconnectMChannel=8]="DisconnectMChannel",e[e.DisconnectXmpp=9]="DisconnectXmpp",e[e.RefreshPage=10]="RefreshPage",e[e.NotifyUIWMSCFailover=11]="NotifyUIWMSCFailover",e[e.NotifyUIWMSCWSSDisconnected=12]="NotifyUIWMSCWSSDisconnected",e[e.OnErrorXmppChannel=15]="OnErrorXmppChannel",e})({});const oMe="JOIN_MEETING_SUCCESS",Xu="JOIN_MEETING_FAILED",Rv="RECONNECTING_MEETING",hO="LEAVING_MEETING",j0e="MEETING_IN_WAITING_ROOM",W0e="UPDATE_MEETING_ATTRIBUTE",sMe="SHARE_PRONOUN_TYPE_UPDATE",rJ="MEETING_RLB_TP_READY_STATUS_CHANGE";var bS=(function(e){return e.ConnectionChange="connection-change",e.OnHoldChange="on-hold-change",e.UserAdd="user-added",e.UserUpdate="user-updated",e.UserRemove="user-removed",e.AttendeeUpdate="attendee-updated",e.MeetingAttributeUpdate="meeting-attribute-updated",e.PromoteAttendeeConsent="promote-attendee-consent",e.ActiveAppsUpdate="active-apps-updated",e.SharePronounTypeUpdate="share-pronoun-type-update",e})(bS||{});const cWe={JoinMeeting:{success:kz,fail:[Xu]}},uWe={[bS.ConnectionChange]:[{event:oMe,payload:()=>({state:s3.Connected})},{event:Xu,payload:e=>({state:s3.Fail,...e})},{event:Rv,payload:e=>({state:s3.Reconnecting,...e})},{event:hO,payload:e=>({state:s3.Closed,...e})}],[bS.OnHoldChange]:[{event:j0e,payload:e=>({isOnHold:e})}],[bS.UserAdd]:[{event:kz,payload:e=>[e]},{event:Ste,payload:e=>e}],[bS.UserUpdate]:[{event:Mp,payload:e=>[e]},{event:NS,payload:e=>e}],[bS.UserRemove]:[{event:z0e,payload:e=>e}],[bS.AttendeeUpdate]:[{event:uO,payload:e=>e},{event:nMe,payload:e=>e}],[bS.MeetingAttributeUpdate]:[{event:W0e,payload:e=>"bNoHostTimeOut"in e?{isHostLost:e.bNoHostTimeOut}:null}],[bS.PromoteAttendeeConsent]:[{event:"MEETING_WEBINAR_PROMOTE_CONSENT_REQ",payload:({req_id:e,sender_id:n})=>({reqId:e,senderId:n})}],[bS.ActiveAppsUpdate]:[{event:"ACTIVE_APPS_UPDATE",payload:()=>{}}],[bS.SharePronounTypeUpdate]:[{event:sMe,payload:e=>e}]},p6="LIVE_TRANSCRIPTION_RECEIVE_MESSAGE",Hb="LIVE_TRANSCRIPTION_CAPTION_STATUS_CHANGE_RESPONSE",rMe="LIVE_TRANSCRIPTION_STATUS_CHANGE",G0e="LIVE_TRANSCRIPTION_HOST_DISABLE_CHANGE",q0e="LIVE_TRANSCRIPTION_LANGUAGE_LOCK_CHANGE",dWe={"caption-message":[{event:p6,payload:e=>e}],"caption-status":[{event:Hb,payload:e=>e}],"caption-enable":[{event:rMe,payload:e=>e}],"caption-host-disable":[{event:G0e,payload:e=>e}],"caption-language-lock":[{event:q0e,payload:e=>e}]},y2="CHAT_RECEIVE_MESSAGE_EVENTS",E3="CHAT_PRIVILEGE_CHANGE",iMe="CHAT_MESSAGE_RESPONSE",OQ="CHAT_DELETE_MESSAGE_REPONSE",P2="CHAT_FILE_CHAT_UPLOAD_PROGRESS",iJ="CHAT_FILE_CHAT_DOWNLOAD_PROGRESS";let x5=(function(e){return e.ChatOnMessage="chat-on-message",e.ChatPrivilegeChange="chat-privilege-change",e.ChatDeleteMessage="chat-delete-message",e.ChatFileUploadProgress="chat-file-upload-progress",e.ChatFileDownloadProgress="chat-file-download-progress",e})({});const hWe={[x5.ChatOnMessage]:[{event:y2,payload:e=>e}],[x5.ChatPrivilegeChange]:[{event:E3,payload:e=>e}],[x5.ChatDeleteMessage]:[{event:OQ,payload:e=>e}],[x5.ChatFileUploadProgress]:[{event:P2,payload:e=>e}],[x5.ChatFileDownloadProgress]:[{event:iJ,payload:e=>e}]},Jge="COMMAND_RECEIVE_MESSAGE_EVENTS",K0e="COMMAND_STATUS_EVENTS";let ywe=(function(e){return e.CommandChannelStatus="command-channel-status",e.CommandChannelMessage="command-channel-message",e})({});const fWe={[ywe.CommandChannelStatus]:[{event:K0e,payload:e=>e}],[ywe.CommandChannelMessage]:[{event:Jge,payload:e=>e}]};let TS=(function(e){return e.Recording="Recording",e.Paused="Paused",e.Stopped="Stopped",e.Ask="Ask",e.Accept="Accept",e.Decline="Decline",e})({}),_d=(function(e){return e[e.None=0]="None",e[e.Init=1]="Init",e[e.Start=2]="Start",e[e.Pause=3]="Pause",e[e.Stop=4]="Stop",e})({}),G6=(function(e){return e[e.Stop=0]="Stop",e[e.Start=1]="Start",e[e.Pause=2]="Pause",e})({}),Av=(function(e){return e[e.None=0]="None",e[e.Deny=1]="Deny",e[e.Allow=2]="Allow",e})({}),pWe=(function(e){return e[e.None=0]="None",e[e.DenyAllRequest=1]="DenyAllRequest",e[e.AllowAllRequest=2]="AllowAllRequest",e})({});const m6="CLOUD_RECORDING_STATUS_CHANGE",IQ="CLOUD_RECORDING_ISO_STATUS_CHANGE",RQ="LOCAL_RECORDING_CHANGE",pE="LOCAL_RECORDING_PERMISSION_CHANGE",aMe="RECORDING_FOR_IQ_STATUS_CHANGE",lMe="RECORDING_FOR_IQ_OPERATION_CHANGE";let Sk=(function(e){return e.RecordingChange="recording-change",e.IndividualRecordingChange="individual-recording-change",e.LocalRecordingChange="local-recording-change",e.LocalRecordingPermissionChange="local-recording-permission-change",e.MediaCaptureStatusChange="media-capture-status-change",e.MediaCapturePermissionChange="media-capture-permission-change",e.RecordingIqChange="recording-iq-change",e})({});const mWe={[Sk.RecordingChange]:[{event:m6,payload:e=>{const{cmrServerStatus:n}=e;return n===_d.Start?TS.Recording:n===_d.Pause?TS.Paused:TS.Stopped}}],[Sk.IndividualRecordingChange]:[{event:IQ,payload:e=>e}],[Sk.LocalRecordingChange]:[{event:RQ,payload:e=>e}],[Sk.LocalRecordingPermissionChange]:[{event:pE,payload:e=>e}],[Sk.MediaCaptureStatusChange]:[{event:RQ,payload:e=>e}],[Sk.MediaCapturePermissionChange]:[{event:pE,payload:e=>e}],[Sk.RecordingIqChange]:[{event:aMe,payload:e=>e}]},cMe="RECEIVE_VIDEO_ACTIVE_INDICATION",uMe="RECEIVE_VIDEO_MUTE_INDICATION",dMe="ASK_FOR_START_VIDEO_CONSENT",hMe="RECEIVE_VIDEO_DIMENSION_CHANGE",fMe="CAPTURED_VIDEO_DIMENSION_CHANGE",kQ="CAN_NOT_DETECT_CAMERA",DQ="CAN_NOT_FIND_CAMERA",MQ="VIDEO_USER_FORBIDDEN_CAPTURE",PQ="VIDEO_CAMERA_IS_TAKEN",Z0e="VIDEO_BACKGROUND_FAILED",Y0e="VIDEO_ESTABLISH_STREAM_ERROR",X0e="VIDEO_CAPTURE_START_SUCCESS",w3="VIDEO_CAPTURE_STOP_RESULT",_3="VIDEO_SPOTLIGHT_CHANGE",pMe="VIDEO_FOLLOW_HOST_ORDER_CHANGE",mMe="VIDEO_HOST_DRAG_LAYOUT_CHANGE",gMe="VIDEO_NEW_USER_START",aJ="VIDEO_OLD_USER_STOP",NQ="VIDEO_VIRTUAL_BACKGROUND_PRELOAD_READY",Qge="VIDEO_VIRTUAL_BACKGROUND_SETTING_SUCCESS",eve="VIDEO_STATISTIC_DATA",tve="VIDEO_CELL_DETAILED_DATA",nve="VIDEO_NETWORK_QUALITY_CHANGE",vMe="VIDEO_FAR_END_CAMERA_CONTROL_REQUEST",ove="VIDEO_FAR_END_CAMERA_CONTROL_RESPONSE",LQ="VIDEO_FAR_END_CAMERA_IN_CONTROL_CHANGE",yMe="VIDEO_FAR_END_CAMERA_CAPABILITY_CHANGE",sve="VIDEO_MASK_SETTING_SUCCESS",bMe="VIDEO_CAPTURE_SDK_SUCCESS",SMe="VIDEO_PREFETCH_VIDEO_FRAME_CALLBACK",CMe="VIDEO_CURRENT_USER_SSRC",EMe="VIDEO_RENDER_ASPECT_RATIO_CHANGE",BQ="VIDEO_LEADERSHIP_USER_CHANGE",wMe="VIDEO_SCREENSHOT_TAKEN_NOTIFICATION",bwe={startCaptureVideo:{success:X0e,fail:[kQ,DQ,MQ,Y0e,PQ,Z0e]},switchCameraVideo:{success:bMe,fail:[kQ,DQ,MQ,PQ]}};let Lf=(function(e){return e.VideoActiveChange="video-active-change",e.PeerVideoStateChange="peer-video-state-change",e.VideoSpotlightChange="video-spotlight-change",e.VideoMutedChange="video-muted-change",e.VideoCapturingChange="video-capturing-change",e.AskForStartVideoConsent="ask-for-start-video-consent",e.VideoDimensionChange="video-dimension-change",e.VideoFollowHostOrder="video-follow-host-order-change",e.VideoHostLayoutChange="video-host-layout-change",e.VideoVBPreloadChange="video-virtual-background-preload-change",e.VideoStatisticDataChange="video-statistic-data-change",e.VideoDetailedDataChange="video-detailed-data-change",e.VideoAspectRatioChange="video-aspect-ratio-change",e.NetworkQualityChange="network-quality-change",e.FarEndCameraRequestControl="far-end-camera-request-control",e.FarEndCameraResponseControl="far-end-camera-response-control",e.FarEndCameraInControlChange="far-end-camera-in-control-change",e.FarEndCameraCapabilityChange="far-end-camera-capability-change",e.VideoScreenshotTaken="video-screenshot-taken",e})({});const gWe={[Lf.VideoActiveChange]:[{event:cMe,payload:e=>({state:e.bVideoOn?JEe.Active:JEe.Inactive,userId:e.userId})}],[Lf.VideoCapturingChange]:[{event:X0e,payload:()=>({state:Fpe.Started})},{event:w3,payload:e=>({state:e!=null&&e.failed?Fpe.Failed:Fpe.Stopped})}],[Lf.VideoMutedChange]:[{event:uMe,payload:e=>({state:e.isVideoMuted?uX.Muted:uX.Unmuted,userId:e.id})}],[Lf.AskForStartVideoConsent]:[{event:dMe,payload:e=>({state:e.isVideoMuted?uX.Muted:uX.Unmuted,userId:e.id})}],[Lf.VideoSpotlightChange]:[{event:_3,payload:e=>({spotlightList:e.spotlightList&&e.spotlightList.map((n=>({userId:n})))})},{event:BQ,payload:e=>{var n;return{spotlightList:(n=e.spotlightList)===null||n===void 0?void 0:n.map((o=>({userId:o})))}}}],[Lf.VideoDimensionChange]:[{event:hMe,payload:e=>({type:"received",width:e.width,height:e.height})},{event:fMe,payload:e=>({type:"captured",width:e.width,height:e.height})}],[Lf.VideoFollowHostOrder]:[{event:pMe,payload:e=>({isFollowHostOrder:e.bOn})}],[Lf.VideoHostLayoutChange]:[{event:mMe,payload:e=>Array.isArray(e.layout)?e.layout.map((n=>({userId:n}))):[]}],[Lf.PeerVideoStateChange]:[{event:gMe,payload:e=>({action:"Start",...e})},{event:aJ,payload:e=>({action:"Stop",...e})}],[Lf.VideoVBPreloadChange]:[{event:NQ,payload:e=>({isReady:e})}],[Lf.VideoStatisticDataChange]:[{event:eve,payload:e=>{const{data:{rate:n,...o},...i}=e??{data:{}};return{data:{bitrate:n,...o},...i}}}],[Lf.VideoDetailedDataChange]:[{event:tve,payload:e=>e}],[Lf.VideoAspectRatioChange]:[{event:EMe,payload:e=>e}],[Lf.NetworkQualityChange]:[{event:nve,payload:e=>e}],[Lf.FarEndCameraRequestControl]:[{event:vMe,payload:e=>e}],[Lf.FarEndCameraResponseControl]:[{event:ove,payload:e=>e}],[Lf.FarEndCameraInControlChange]:[{event:LQ,payload:e=>e}],[Lf.FarEndCameraCapabilityChange]:[{event:yMe,payload:e=>e}],[Lf.VideoScreenshotTaken]:[{event:wMe,payload:e=>e}]},_Me="AUDIO_ACTIVE_SPEAKER",lJ="AUDIO_UNMUTE_CONSENT",r3="AUDIO_CURRENT_USER_JOIN_BY_VOIP",rve="AUDIO_CURRENT_USER_JOIN_BY_PHONE",Cte="AUDIO_CURRENT_USER_LEAVE_AUDIO",J0e="AUDIO_CURRENT_USER_MUTED",Q0e="AUDIO_CURRENT_USER_UNMUTED",TMe="AUDIO_PARTICIPANT_AUDIO_UPDATE",AMe="AUDIO_DIALOUT_RESULT_CODE",xMe="AUDIO_DIALOUT_RESULT_SUCCESS",OMe="AUDIO_DIALOUT_RESULT_FAIL",IMe="AUDIO_DIALOUT_CANCEL_SUCCESS",RMe="DIALOUT_CANCEL_FAIL",kMe="AUDIO_MERGE_AUDIO_INDICATION",DMe="AUDIO_CAPTURE_FAILED",MMe="ESTABLISH_AUDIO_STREAM_ERROR",PMe="AUDIO_AUTO_PLAY_FAILED",Swe="INVALID_DEVICE_ID",NMe="AUDIO_ALLOW_TALK_CHANGE",X3="SHARE_AUDIO_STATE_CHANGE",ive="AUDIO_STATISTIC_DATA",LMe="AUDIO_CURRENT_USER_SSRC",ave="AUDIO_SET_SPEAKER_RESULT",BMe="AUDIO_SHARE_SECONDARY_AUDIO_SUCCESS",FMe="AUDIO_CRC_CALL_OUT_RESULT_CODE",VMe="AUDIO_CRC_CALL_OUT_RESULT_SUCCESS",HMe="AUDIO_CRC_CALL_OUT_RESULT_FAIL",$Me="AUDIO_CURRENT_AUDIO_LEVEL_CHANGE";let hS=(function(e){return e.ActiveSpeaker="active-speaker",e.UnmuteAudioConsent="unmute-audio-consent",e.CurrentAudioChange="current-audio-change",e.CurrentAudioLevelChange="current-audio-level-change",e.DialoutStateChange="dialout-state-change",e.MergeAudio="merged-audio",e.AutoPlayFailed="auto-play-audio-failed",e.AllowTalkChange="allow-talk-change",e.ShareAudioChange="share-audio-change",e.AudioStatisticDataChange="audio-statistic-data-change",e.CrcCallOutStateChange="crc-call-out-state-change",e})({});const i3={JoinComputerAudio:{success:r3,fail:[DMe,MMe]},JoinAudioByCallMe:{success:xMe,fail:[OMe]},cancelDialOut:{success:IMe,fail:[RMe]},hangup:{success:Cte},crcCallOut:{success:VMe,fail:[HMe]}},vWe={[hS.ActiveSpeaker]:[{event:_Me,payload:e=>e}],[hS.UnmuteAudioConsent]:[{event:lJ,payload:e=>({reason:e})}],[hS.CurrentAudioChange]:[{event:rve,payload:()=>({action:T5.Join,type:Qi.Phone})},{event:r3,payload:()=>({action:T5.Join,type:Qi.Computer})},{event:Cte,payload:({source:e})=>({action:T5.Leave,source:e})},{event:J0e,payload:({source:e})=>({action:T5.Muted,source:e})},{event:Q0e,payload:({source:e})=>({action:T5.Unmuted,source:e})}],[hS.DialoutStateChange]:[{event:AMe,payload:e=>e}],[hS.MergeAudio]:[{event:kMe,payload:e=>e}],[hS.AutoPlayFailed]:[{event:PMe,payload:()=>{}}],[hS.AllowTalkChange]:[{event:NMe,payload:e=>({enabled:e})}],[hS.ShareAudioChange]:[{event:X3,payload:e=>e}],[hS.AudioStatisticDataChange]:[{event:ive,payload:e=>{const{data:{rate:n,...o},...i}=e??{data:{}};return{data:{bitrate:n,...o},...i}}}],[hS.CrcCallOutStateChange]:[{event:FMe,payload:e=>e}],[hS.CurrentAudioLevelChange]:[{event:$Me,payload:e=>e}]},T3="SHARE_ACTIVE_INDICATION",UMe="SHARE_START_DESKTOP_SHARE_FAILED",zMe="SHARE_DIMENSION_CHANGE",FQ="SHARE_RECEIVED_DIMENSION_CHANGE",jMe="SHARE_VIDEO_STREAMS_END",WMe="SHARE_PASSIVE_STOP_SHARE",GMe="SHARE_PASSIVE_BO_STOP",e1e="SHARE_NEW_USER_ADD",t1e="SHARE_USER_REMOVE",qMe="SHARE_USER_PAUSED",KMe="SHARE_USER_RESUMED",VQ="SHARE_AUTO_CHANGE_SOURCE",HQ="SHARE_REMOTE_CONTROL_APPROVE",b2="SHARE_GRAB_REMOTE_CONTROL_CHANGE",lve="SHARE_REMOTE_CONTROL_CLIPBOARD_CHANGE",ZMe="SHARE_REMOTE_CONTROL_SUCCESS",YMe="SHARE_REMOTE_CONTROL_FAILED",XMe="SHARE_PRIVILEGE_CHANGE",JMe="SHARE_READ_RECEIPT",cve="SHARE_STATISTIC_DATA",QMe="SHARE_REMOTE_CONTROL_REQUEST",Nk="SHARE_REMOTE_CONTROL_APP_STATUS",cJ="SHARE_REMOTE_CONTROL_SESSION_STATUS",ePe="SHARE_REMOTE_CONTROL_APP_SCHEME",tPe="SHARE_SCREENSHOT_TAKEN_NOTIFICATION",uve="ANNOTATION_START_RESULT",n1e="ANNOTATION_PRIVILEGE_CHANGE",nPe="ANNOTATION_UNDO_STATUS",oPe="ANNOTATION_REDO_STATUS",sPe="ANNOTATION_DRAW_REQUEST";let Bf=(function(e){return e.ShareActiveChange="active-share-change",e.ShareDimensionChange="share-content-dimension-change",e.SharePassiveStop="passively-stop-share",e.SharePeerStateChange="peer-share-state-change",e.ShareContentChange="share-content-change",e.SharePrivilegeChange="share-privilege-change",e.ShareReadReceipt="share-can-see-screen",e.ShareStatisticDataChange="share-statistic-data-change",e.RemoteControlApprovedChange="remote-control-approved-change",e.RemoteControlInControlChange="remote-control-in-control-change",e.RemoteControlClipboardChange="remote-control-clipboard-change",e.RemoteControlRequestChange="remote-control-request-change",e.RemoteControlAppStatusChange="remote-control-app-status-change",e.RemoteControlControlledStatusChange="remote-control-controlled-status-change",e.ShareScreenshotTaken="share-content-screenshot-taken",e.AnnotationPrivilegeChange="annotation-privilege-change",e.AnnotationRedoStatus="annotation-redo-status",e.AnnotationUndoStatus="annotation-undo-status",e.AnnotationDrawRequest="annotation-viewer-draw-request",e})({});const yWe={[Bf.ShareActiveChange]:[{event:T3,payload:e=>{const{isActive:n,activeUserId:o,...i}=e;return{state:n?"Active":"Inactive",userId:o,...i}}}],[Bf.ShareDimensionChange]:[{event:zMe,payload:e=>({type:"sended",width:e.width,height:e.height,userId:e.userId})},{event:FQ,payload:e=>({type:"received",width:e.width,height:e.height,userId:e.nodeid})}],[Bf.SharePassiveStop]:[{event:jMe,payload:()=>({reason:Vpe.StopScreenCapture})},{event:WMe,payload:()=>({reason:Vpe.PrivilegeChange})},{event:GMe,payload:()=>({reason:Vpe.ShareFromMainSession})}],[Bf.SharePeerStateChange]:[{event:e1e,payload:e=>{var n;return{userId:e.id,action:"Start",isFromMainSession:(n=e?.isFromMainSession)!==null&&n!==void 0&&n}}},{event:t1e,payload:e=>{var n;return{userId:e.id,action:"Stop",isFromMainSession:(n=e?.isFromMainSession)!==null&&n!==void 0&&n}}},{event:qMe,payload:e=>({userId:e.id,action:"Pause"})},{event:KMe,payload:e=>({userId:e.id,action:"Resume"})}],[Bf.ShareContentChange]:[{event:VQ,payload:e=>e}],[Bf.SharePrivilegeChange]:[{event:XMe,payload:e=>({privilege:e})}],[Bf.ShareReadReceipt]:[{event:JMe,payload:()=>{}}],[Bf.ShareStatisticDataChange]:[{event:cve,payload:e=>{const{data:{rate:n,...o},...i}=e??{data:{}};return{data:{bitrate:n,...o},...i}}}],[Bf.RemoteControlApprovedChange]:[{event:HQ,payload:e=>({state:e?QEe.Approved:QEe.Rejected})}],[Bf.RemoteControlInControlChange]:[{event:b2,payload:e=>({isControlling:e})}],[Bf.RemoteControlClipboardChange]:[{event:lve,payload:e=>e}],[Bf.RemoteControlRequestChange]:[{event:QMe,payload:e=>e}],[Bf.RemoteControlAppStatusChange]:[{event:Nk,payload:e=>e}],[Bf.RemoteControlControlledStatusChange]:[{event:cJ,payload:e=>e}],[Bf.ShareScreenshotTaken]:[{event:tPe,payload:e=>e}],[Bf.AnnotationPrivilegeChange]:[{event:n1e,payload:e=>e}],[Bf.AnnotationRedoStatus]:[{event:oPe,payload:e=>e}],[Bf.AnnotationUndoStatus]:[{event:nPe,payload:e=>e}],[Bf.AnnotationDrawRequest]:[{event:sPe,payload:e=>e}]};let B_=(function(e){return e.Question="question",e.UpdateQuestion="updateQuestion",e.Answer="answer",e.DeleteComment="deleteComment",e.DeleteQuestion="deleteQuestion",e.Dismiss="dismiss",e.Reopen="reopen",e.Upvote="upvote",e.AnswerLive="answerLive",e})({}),Cwe=(function(e){return e.QaSettingChange="qa-setting-change",e.QaActionChange="qa-action-change",e})({});const bWe={[Cwe.QaSettingChange]:[{event:"QA_SETTING_OPTION_CHANGE",payload:e=>e}],[Cwe.QaActionChange]:[{event:"QA_NEW_ASK_QUESTION",payload:e=>({action:B_.Question,data:e})},{event:"QA_UPDATE_ANONYMOUS_QUESTION",payload:e=>({action:B_.UpdateQuestion,data:e})},{event:"QA_ANSWER_QUESTION",payload:e=>({action:B_.Answer,data:e})},{event:"QA_ANSWER_REMOVE_COMMENT",payload:e=>({action:B_.DeleteComment,data:e})},{event:"QA_ANSWER_REMOVE_QUESTION",payload:e=>({action:B_.DeleteQuestion,data:e})},{event:"QA_ANSWER_DISMISS_QUESTION",payload:e=>({action:B_.Dismiss,data:e})},{event:"QA_ANSWER_REOPEN_QUESTION",payload:e=>({action:B_.Reopen,data:e})},{event:"QA_ANSWER_VOTE_QUESTION",payload:e=>({action:B_.Upvote,data:e})},{event:"QA_ANSWER_QUESTION_LIVE",payload:e=>({action:B_.AnswerLive,data:e})}]},rPe="AUDIO_ENCODE_SUCCESS",iPe="AUDIO_DECODE_SUCCESS",aPe="VIDEO_ENCODE_SUCCESS",lPe="VIDEO_DECODE_SUCCESS",cPe="SHARING_ENCODE_SUCCESS",dve="SHARING_DECODE_SUCCESS",uPe="AUDIO_ENCODE_FAIL",dPe="AUDIO_DECODE_FAIL",hPe="VIDEO_ENCODE_FAIL",fPe="VIDEO_DECODE_FAIL",pPe="SHARING_ENCODE_FAIL",mPe="SHARING_DECODE_FAIL",gPe="MEDIA_DEVICE_CHANGE",uJ="MEDIS_SDK_PATHCH_LOADED",hve="DEVICE_PERMISSION_CHANGE",vPe="MEDIA_HEALTH_CHECK_FAILED";let hX=(function(e){return e.DeviceChange="device-change",e.MediaSDKChange="media-sdk-change",e.DevicePermissionChange="device-permission-change",e.MediaInternalError="media-internal-error",e})({});const SWe={[hX.DeviceChange]:[{event:gPe,payload:()=>({})}],[hX.MediaSDKChange]:[{event:rPe,payload:()=>({type:"audio",action:"encode",result:"success"})},{event:uPe,payload:()=>({type:"audio",action:"encode",result:"fail"})},{event:iPe,payload:()=>({type:"audio",action:"decode",result:"success"})},{event:dPe,payload:()=>({type:"audio",action:"decode",result:"fail"})},{event:aPe,payload:()=>({type:"video",action:"encode",result:"success"})},{event:hPe,payload:()=>({type:"video",action:"encode",result:"fail"})},{event:lPe,payload:()=>({type:"video",action:"decode",result:"success"})},{event:fPe,payload:()=>({type:"video",action:"decode",result:"fail"})},{event:cPe,payload:()=>({type:"share",action:"encode",result:"success"})},{event:pPe,payload:()=>({type:"share",action:"encode",result:"fail"})},{event:dve,payload:()=>({type:"share",action:"decode",result:"success"})},{event:mPe,payload:()=>({type:"share",action:"decode",result:"fail"})}],[hX.DevicePermissionChange]:[{event:hve,payload:e=>e}],[hX.MediaInternalError]:[{event:vPe,payload:e=>e}]},yPe="BREAKOUT_ROOM_ADD_TOKEN",dJ="BREAKOUT_ROOM_INVITE_TO_JOIN_NOTIFICATION",fve="BREAKOUT_ROOM_ROOM_CLOSING_COUNTDOWN",pve="BREAKOUT_ROOM_ROOM_COUNTDOWN",bPe="BREAKOUT_ROOM_BROADCAST_MESSAGE",SPe="BREAKOUT_ROOM_ASK_HELP_REQUEST",o1e="BREAKOUT_ROOM_ASK_HELP_RESPONSE",Wk="BREAKOUT_ROOM_ATTRIBUTE_INDICATION",hJ="BREAKOUT_ROOM_JOIN_BO_RESPONSE",CPe="BREAKOUT_ROOM_ROOM_COUNTDOWN_TIME_UP",mve="BREAKOUT_ROOM_CURRENT_USER_PARTICIPANT_ROLE",EPe="BREAKOUT_ROOM_LOAD_PRE_ASSIGNED_ROOMS",wPe="BREAKOUT_ROOM_MAIN_SESSION_USER_UPDATE",_Pe="BREAKOUT_ROOM_INVITE_TO_BACK_NOTIFICATION",TPe="BREAKOUT_ROOM_IN_ROOM_USER_STATUS_UPDATE",APe="BREAKOUT_ROOM_BROADCAST_VOICE";let z0=(function(e){return e.InviteToJoin="invite-to-join",e.RoomCountdown="room-countdown",e.RoomTimeUp="room-time-up",e.ClosingRoomCountdown="closing-room-countdown",e.BroadcastMessage="broadcast-message",e.AskForHelp="ask-for-help",e.AskForHelpResponse="ask-for-help-response",e.RoomStateChange="room-state-change",e.MainSessionUserUpdate="main-session-user-updated",e.InviteToBack="invite-back-to-main-session",e.RoomUserUpdate="room-user-update",e.BroadcastVoice="broadcast-voice",e})({});const CWe={[z0.InviteToJoin]:[{event:dJ,payload:e=>e}],[z0.RoomCountdown]:[{event:pve,payload:e=>e}],[z0.RoomTimeUp]:[{event:CPe,payload:e=>e}],[z0.ClosingRoomCountdown]:[{event:fve,payload:e=>e}],[z0.BroadcastMessage]:[{event:bPe,payload:e=>e}],[z0.AskForHelp]:[{event:SPe,payload:e=>e}],[z0.AskForHelpResponse]:[{event:o1e,payload:e=>e}],[z0.RoomStateChange]:[{event:Wk,payload:e=>({status:e.controlStatus})}],[z0.MainSessionUserUpdate]:[{event:wPe,payload:()=>({})}],[z0.InviteToBack]:[{event:_Pe,payload:e=>e}],[z0.RoomUserUpdate]:[{event:TPe,payload:e=>e}],[z0.BroadcastVoice]:[{event:APe,payload:e=>e}]};var gve=(function(e){return e.StatusUpdate="archiving-status-update",e.OptionsUpdate="archiving-options-update",e})(gve||{});const EWe={[gve.StatusUpdate]:[{event:"ARCHIVING_STATUS_UPDATE",payload:e=>e}],[gve.OptionsUpdate]:[{event:"ARCHIVING_OPTIONS_UPDATE",payload:e=>e}]};let Kpe=(function(e){return e.PollDataChange="poll-data-change",e.PollSizeUpdate="poll-size-update",e.PollStatusUpdate="poll-status-update",e})({});const wWe={[Kpe.PollDataChange]:[{event:"POLL_DATA_CHANGE",payload:e=>e}],[Kpe.PollSizeUpdate]:[{event:"POLL_SIZE_UPDATE",payload:e=>e}],[Kpe.PollStatusUpdate]:[{event:"POLL_STATUS_UPDATE",payload:e=>e}]};let Ewe=(function(e){return e.ReactionReceived="reaction-received",e.ReactionRemoved="reaction-removed",e})({});const _We={[Ewe.ReactionReceived]:[{event:"REACTION_RECEIVED",payload:e=>e}],[Ewe.ReactionRemoved]:[{event:"REACTION_REMOVED",payload:e=>e}]},fO="SMART_SUMMARY_STATUS_CHANGE",pO="MEETING_QUERY_STATUS_CHANGE";let wwe=(function(e){return e.SummaryChange="summary-status-change",e.MeetingQueryChang="meeting-query-status-change",e})({});const TWe={[wwe.SummaryChange]:[{event:fO,payload:e=>e}],[wwe.MeetingQueryChang]:[{event:pO,payload:e=>e}]},g6="LIVE_STREAM_STATUS_CHANGE",AWe={"live-stream-status":[{event:g6,payload:e=>e}]},vve="BROADCAST_STREAM_UTK_UPDATE",yve="BROADCAST_STREAM_STATUS_CHANGE",xWe={"broadcast-streaming-status":[{event:yve,payload:e=>e}]};let ht=(function(e){return e[e.OPERATION_TIMEOUT=1]="OPERATION_TIMEOUT",e[e.INTERNAL_ERROR=2]="INTERNAL_ERROR",e[e.OPERATION_CANCELLED=3]="OPERATION_CANCELLED",e[e.SESSION_FETCH_INFO_ERROR=200]="SESSION_FETCH_INFO_ERROR",e[e.SESSION_IN_ANOTHER_SESSION=3e3]="SESSION_IN_ANOTHER_SESSION",e[e.SESSION_INCORRECT_PASSCODE=3004]="SESSION_INCORRECT_PASSCODE",e[e.SESSION_NOT_STARTED=3008]="SESSION_NOT_STARTED",e[e.SESSION_USER_REMOVED=3009]="SESSION_USER_REMOVED",e[e.SESSION_ROLE_TYPE_ERROR=3010]="SESSION_ROLE_TYPE_ERROR",e[e.SESSION_WEBINAR_USER_REMOVED=3620]="SESSION_WEBINAR_USER_REMOVED",e[e.SESSION_INVALID_PARAMETER=4003]="SESSION_INVALID_PARAMETER",e[e.SESSION_ENDED=4004]="SESSION_ENDED",e[e.SESSION_LOCKED=4006]="SESSION_LOCKED",e[e.SESSION_IB_BLOCKED=4007]="SESSION_IB_BLOCKED",e[e.SESSION_PARTICIPANT_EXIST=4008]="SESSION_PARTICIPANT_EXIST",e[e.CLIENT_PLATFORM_UNSUPPORTED=5e3]="CLIENT_PLATFORM_UNSUPPORTED",e[e.CLIENT_DEPENDENT_ASSETS_INACCESSIBLE=5001]="CLIENT_DEPENDENT_ASSETS_INACCESSIBLE",e[e.CLIENT_SESSION_STATE_CLOSED=5002]="CLIENT_SESSION_STATE_CLOSED",e[e.CLIENT_SESSION_STATE_RECONNECTING=5003]="CLIENT_SESSION_STATE_RECONNECTING",e[e.CLIENT_SESSION_STATE_ON_HOLD=5004]="CLIENT_SESSION_STATE_ON_HOLD",e[e.CLIENT_SESSION_NOT_WEBINAR=5005]="CLIENT_SESSION_NOT_WEBINAR",e[e.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED=5006]="CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED",e[e.CLIENT_HOST_PERMISSION_REQUIRED=5007]="CLIENT_HOST_PERMISSION_REQUIRED",e[e.CLIENT_ORIGIN_HOST_PERMISSION_REQUIRED=5008]="CLIENT_ORIGIN_HOST_PERMISSION_REQUIRED",e[e.CLIENT_ATTENDEE_APPLICABLE_ONLY=5009]="CLIENT_ATTENDEE_APPLICABLE_ONLY",e[e.CLIENT_PARTICIPANT_APPLICABLE_ONLY=5010]="CLIENT_PARTICIPANT_APPLICABLE_ONLY",e[e.CLIENT_MISMATCH_USER=5011]="CLIENT_MISMATCH_USER",e[e.CLIENT_DUPLICATED_JOIN=5012]="CLIENT_DUPLICATED_JOIN",e[e.CLIENT_INVALID_JOIN_PARAMETER=5013]="CLIENT_INVALID_JOIN_PARAMETER",e[e.CLIENT_HOST_DISALLOW_RENAME=5014]="CLIENT_HOST_DISALLOW_RENAME",e[e.STREAM_MISMATCH_DEVICE=6e3]="STREAM_MISMATCH_DEVICE",e[e.STREAM_MISMATCH_USER=6001]="STREAM_MISMATCH_USER",e[e.STREAM_SESSION_JOIN_REQUIRED=6002]="STREAM_SESSION_JOIN_REQUIRED",e[e.STREAM_MISMATCH_RENDER_ELEMENT=6003]="STREAM_MISMATCH_RENDER_ELEMENT",e[e.AUDIO_CAPTURE_FAILED=6010]="AUDIO_CAPTURE_FAILED",e[e.AUDIO_CAPTURE_LOADING=6011]="AUDIO_CAPTURE_LOADING",e[e.AUDIO_IN_PSTN=6012]="AUDIO_IN_PSTN",e[e.AUDIO_ENCODING_REQUIRED=6013]="AUDIO_ENCODING_REQUIRED",e[e.AUDIO_SHARE_AUDIO_CONFLICT=6014]="AUDIO_SHARE_AUDIO_CONFLICT",e[e.AUDIO_NOT_STARTED=6015]="AUDIO_NOT_STARTED",e[e.AUDIO_ATTENDEE_NOT_ALLOWED=6016]="AUDIO_ATTENDEE_NOT_ALLOWED",e[e.SECONDARY_AUDIO_UNSUPPORTED=6017]="SECONDARY_AUDIO_UNSUPPORTED",e[e.SECONDARY_AUDIO_DEVICE_CONFLICT=6018]="SECONDARY_AUDIO_DEVICE_CONFLICT",e[e.SECONDARY_AUDIO_SCREEN_SHARING_CONFLICT=6019]="SECONDARY_AUDIO_SCREEN_SHARING_CONFLICT",e[e.SECONDARY_AUDIO_NOT_STARTED=6020]="SECONDARY_AUDIO_NOT_STARTED",e[e.PSTN_MISMATCH_COUNTRY_CODE=6021]="PSTN_MISMATCH_COUNTRY_CODE",e[e.PSTN_NOT_CONNECTED=6022]="PSTN_NOT_CONNECTED",e[e.CRC_NOT_CONNECTED=6023]="CRC_NOT_CONNECTED",e[e.AUDIO_ALLOW_TALK_UNSUPPORTED=6024]="AUDIO_ALLOW_TALK_UNSUPPORTED",e[e.AUDIO_ALLOW_TALK_MISMATCH_USER=6025]="AUDIO_ALLOW_TALK_MISMATCH_USER",e[e.AUDIO_PROCESSOR_UNSUPPORTED=6026]="AUDIO_PROCESSOR_UNSUPPORTED",e[e.AUDIO_PROCESSOR_DUPLICATE_CREATE=6027]="AUDIO_PROCESSOR_DUPLICATE_CREATE",e[e.AUDIO_PROCESSOR_MISMATCH_PROCESSOR=6028]="AUDIO_PROCESSOR_MISMATCH_PROCESSOR",e[e.AUDIO_PROCESSOR_LIMIT_EXCEED=6029]="AUDIO_PROCESSOR_LIMIT_EXCEED",e[e.VIDEO_CAMERA_PERMISSION_DENIED=6100]="VIDEO_CAMERA_PERMISSION_DENIED",e[e.VIDEO_NO_CAMERA=6101]="VIDEO_NO_CAMERA",e[e.VIDEO_MISMATCH_CAMERA=6102]="VIDEO_MISMATCH_CAMERA",e[e.VIDEO_CAMERA_TAKEN=6103]="VIDEO_CAMERA_TAKEN",e[e.VIDEO_VB_INITIALIZE_ERROR=6104]="VIDEO_VB_INITIALIZE_ERROR",e[e.VIDEO_CAPTURE_LOADING=6105]="VIDEO_CAPTURE_LOADING",e[e.VIDEO_MUTED_BY_HOST=6106]="VIDEO_MUTED_BY_HOST",e[e.VIDEO_VB_UNSUPPORTED=6107]="VIDEO_VB_UNSUPPORTED",e[e.VIDEO_VB_PROCESSOR_CONFLICT=6108]="VIDEO_VB_PROCESSOR_CONFLICT",e[e.VIDEO_MISMATCH_STATE=6109]="VIDEO_MISMATCH_STATE",e[e.VIDEO_ESTABLISH_STREAM_ERROR=6110]="VIDEO_ESTABLISH_STREAM_ERROR",e[e.VIDEO_RENDER_LIMIT_EXCEED=6111]="VIDEO_RENDER_LIMIT_EXCEED",e[e.VIDEO_METHOD_DEPRECATED=6112]="VIDEO_METHOD_DEPRECATED",e[e.VIDEO_VB_IMAGE_INACCESSIBLE=6113]="VIDEO_VB_IMAGE_INACCESSIBLE",e[e.VIDEO_VB_MISMATCH_STATE=6114]="VIDEO_VB_MISMATCH_STATE",e[e.VIDEO_MASK_IMAGE_INACCESSIBLE=6115]="VIDEO_MASK_IMAGE_INACCESSIBLE",e[e.VIDEO_MASK_PROCESSOR_CONFLICT=6116]="VIDEO_MASK_PROCESSOR_CONFLICT",e[e.VIDEO_SPOTLIGHT_MISMATCH_STATE=6117]="VIDEO_SPOTLIGHT_MISMATCH_STATE",e[e.VIDEO_SPOTLIGHT_MULTI_CONFLICT=6118]="VIDEO_SPOTLIGHT_MULTI_CONFLICT",e[e.VIDEO_PROCESSOR_UNSUPPORTED=6119]="VIDEO_PROCESSOR_UNSUPPORTED",e[e.VIDEO_PROCESSOR_LIMIT_EXCEED=6120]="VIDEO_PROCESSOR_LIMIT_EXCEED",e[e.VIDEO_PROCESSOR_DUPLICATE_CREATE=6121]="VIDEO_PROCESSOR_DUPLICATE_CREATE",e[e.VIDEO_PROCESSOR_MISMATCH_PROCESSOR=6122]="VIDEO_PROCESSOR_MISMATCH_PROCESSOR",e[e.FAR_END_CAMERA_CONTROL_DEVICE_UNSUPPORTED=6150]="FAR_END_CAMERA_CONTROL_DEVICE_UNSUPPORTED",e[e.FAR_END_CAMERA_CONTROL_MISMATCH_STATE=6151]="FAR_END_CAMERA_CONTROL_MISMATCH_STATE",e[e.FAR_END_CAMERA_PERMISSION_REQUIRED=6152]="FAR_END_CAMERA_PERMISSION_REQUIRED",e[e.FAR_END_CAMERA_INVALID_RANGE=6153]="FAR_END_CAMERA_INVALID_RANGE",e[e.FAR_END_CAMERA_RATE_LIMIT=6154]="FAR_END_CAMERA_RATE_LIMIT",e[e.SCREEN_SHARE_USER_DENIED=6200]="SCREEN_SHARE_USER_DENIED",e[e.SCREEN_SHARE_SYSTEM_DENIED=6201]="SCREEN_SHARE_SYSTEM_DENIED",e[e.SCREEN_SHARE_UNSUPPORTED=6202]="SCREEN_SHARE_UNSUPPORTED",e[e.SCREEN_SHARE_SUBSESSION_CONFLICT=6203]="SCREEN_SHARE_SUBSESSION_CONFLICT",e[e.SCREEN_SHARE_HOST_PRIVILEGE_REQUIRED=6204]="SCREEN_SHARE_HOST_PRIVILEGE_REQUIRED",e[e.SCREEN_SHARE_MISMATCH_STATE=6205]="SCREEN_SHARE_MISMATCH_STATE",e[e.SCREEN_SHARE_OPTIMIZE_VIDEO_UNSUPPORTED=6206]="SCREEN_SHARE_OPTIMIZE_VIDEO_UNSUPPORTED",e[e.SCREEN_SHARE_OPTIMIZE_VIDEO_CONFLICT=6207]="SCREEN_SHARE_OPTIMIZE_VIDEO_CONFLICT",e[e.SCREEN_SHARE_INVALID_PRIVILEGE=6208]="SCREEN_SHARE_INVALID_PRIVILEGE",e[e.SCREEN_SHARE_IB_DENIED=6209]="SCREEN_SHARE_IB_DENIED",e[e.SCREEN_SHARE_LIMIT_EXCEED=6218]="SCREEN_SHARE_LIMIT_EXCEED",e[e.SCREEN_SHARE_ANNOTATION_ACCOUNT_DISABLE=6210]="SCREEN_SHARE_ANNOTATION_ACCOUNT_DISABLE",e[e.SCREEN_SHARE_ANNOTATION_NO_ACTIVE_SHARE=6211]="SCREEN_SHARE_ANNOTATION_NO_ACTIVE_SHARE",e[e.SCREEN_SHARE_ANNOTATION_PRESENTER_DISABLED=6212]="SCREEN_SHARE_ANNOTATION_PRESENTER_DISABLED",e[e.SCREEN_SHARE_ANNOTATION_DUPLICATE_START=6213]="SCREEN_SHARE_ANNOTATION_DUPLICATE_START",e[e.SCREEN_SHARE_ANNOTATION_START_ERROR=6214]="SCREEN_SHARE_ANNOTATION_START_ERROR",e[e.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER=6215]="SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER",e[e.SCREEN_SHARE_ANNOTATION_NOT_SUPPORT=6216]="SCREEN_SHARE_ANNOTATION_NOT_SUPPORT",e[e.SCREEN_SHARE_ANNOTATION_NOT_START=6217]="SCREEN_SHARE_ANNOTATION_NOT_START",e[e.SHARED_PROCESSOR_UNSUPPORTED=6223]="SHARED_PROCESSOR_UNSUPPORTED",e[e.SHARED_PROCESSOR_DUPLICATE_CREATE=6224]="SHARED_PROCESSOR_DUPLICATE_CREATE",e[e.SHARED_PROCESSOR_MISMATCH_PROCESSOR=6225]="SHARED_PROCESSOR_MISMATCH_PROCESSOR",e[e.SHARED_PROCESSOR_LIMIT_EXCEED=6226]="SHARED_PROCESSOR_LIMIT_EXCEED",e[e.REMOTE_CONTROL_ACCOUNT_DISABLE=6300]="REMOTE_CONTROL_ACCOUNT_DISABLE",e[e.REMOTE_CONTROL_MISMATCH_STATE=6301]="REMOTE_CONTROL_MISMATCH_STATE",e[e.REMOTE_CONTROL_PERMISSION_REQUIRED=6302]="REMOTE_CONTROL_PERMISSION_REQUIRED",e[e.REMOTE_CONTROL_MISMATCH_DISPLAY_SURFACE=6303]="REMOTE_CONTROL_MISMATCH_DISPLAY_SURFACE",e[e.REMOTE_CONTROL_INVALID_LAUNCH_SCHEME=6304]="REMOTE_CONTROL_INVALID_LAUNCH_SCHEME",e[e.CHAT_EMPTY_MESSAGE=7e3]="CHAT_EMPTY_MESSAGE",e[e.CHAT_MISMATCH_USER=7001]="CHAT_MISMATCH_USER",e[e.CHAT_INSUFFICIENT_PRIVILEGE=7002]="CHAT_INSUFFICIENT_PRIVILEGE",e[e.CHAT_INVALID_PRIVILEGE=7003]="CHAT_INVALID_PRIVILEGE",e[e.CHAT_SUBSESSION_CONFLICT=7004]="CHAT_SUBSESSION_CONFLICT",e[e.CHAT_EMPTY_FILE=7005]="CHAT_EMPTY_FILE",e[e.CHAT_INVALID_RETRY_TOKEN=7006]="CHAT_INVALID_RETRY_TOKEN",e[e.CHAT_MISMATCH_FILE_TYPE=7007]="CHAT_MISMATCH_FILE_TYPE",e[e.CHAT_EXCEED_FILE_SIZE=7008]="CHAT_EXCEED_FILE_SIZE",e[e.CHAT_INVALID_MSG_ID_OR_URL=7009]="CHAT_INVALID_MSG_ID_OR_URL",e[e.CHAT_FILE_ACCOUNT_DISABLE=7010]="CHAT_FILE_ACCOUNT_DISABLE",e[e.CHAT_DELETE_ACCOUNT_DISABLE=7011]="CHAT_DELETE_ACCOUNT_DISABLE",e[e.CMD_EMPTY_MESSAGE=7100]="CMD_EMPTY_MESSAGE",e[e.CMD_MISMATCH_USER=7101]="CMD_MISMATCH_USER",e[e.CMD_INVALID_MESSAGE_TYPE=7102]="CMD_INVALID_MESSAGE_TYPE",e[e.CMD_EXCEED_MESSAGE_LENGTH=7103]="CMD_EXCEED_MESSAGE_LENGTH",e[e.CMD_CHANNEL_NOT_READY=7104]="CMD_CHANNEL_NOT_READY",e[e.RECORDING_ACCOUNT_DISABLE=7200]="RECORDING_ACCOUNT_DISABLE",e[e.RECORDING_STOP_FORBIDDEN=7201]="RECORDING_STOP_FORBIDDEN",e[e.RECORDING_MISMATCH_STATE=7202]="RECORDING_MISMATCH_STATE",e[e.RECORDING_ISO_DISABLE=7203]="RECORDING_ISO_DISABLE",e[e.RECORDING_IQ_DISABLE=7204]="RECORDING_IQ_DISABLE",e[e.RECORDING_IQ_PERMISSION_REQUIRED=7205]="RECORDING_IQ_PERMISSION_REQUIRED",e[e.RECORDING_IQ_MISMATCH_STATE=7206]="RECORDING_IQ_MISMATCH_STATE",e[e.LOCAL_RECORDING_ACCOUNT_DISABLE=7207]="LOCAL_RECORDING_ACCOUNT_DISABLE",e[e.LOCAL_RECORDING_INVALID_VALUE=7208]="LOCAL_RECORDING_INVALID_VALUE",e[e.LOCAL_RECORDING_MISMATCH_STATE=7209]="LOCAL_RECORDING_MISMATCH_STATE",e[e.TRANSCRIPTION_ACCOUNT_DISABLE=7300]="TRANSCRIPTION_ACCOUNT_DISABLE",e[e.TRANSCRIPTION_FEATURE_DISABLE=7301]="TRANSCRIPTION_FEATURE_DISABLE",e[e.TRANSCRIPTION_LANGUAGE_UNSUPPORTED=7302]="TRANSCRIPTION_LANGUAGE_UNSUPPORTED",e[e.TRANSCRIPTION_MISMATCH_STATE=7303]="TRANSCRIPTION_MISMATCH_STATE",e[e.TRANSLATION_ACCOUNT_DISABLE=7304]="TRANSLATION_ACCOUNT_DISABLE",e[e.TRANSLATION_LANGUAGE_UNSUPPORTED=7305]="TRANSLATION_LANGUAGE_UNSUPPORTED",e[e.MANUAL_CAPTION_ACCOUNT_DISABLE=7306]="MANUAL_CAPTION_ACCOUNT_DISABLE",e[e.MANUAL_CAPTION_FEATURE_DISABLE=7307]="MANUAL_CAPTION_FEATURE_DISABLE",e[e.MANUAL_CAPTION_MISMATCH_USER=7308]="MANUAL_CAPTION_MISMATCH_USER",e[e.MANUAL_CAPTION_INSUFFICIENT_PRIVILEGE=7309]="MANUAL_CAPTION_INSUFFICIENT_PRIVILEGE",e[e.TRANSCRIPTION_LANGUAGE_LOCKED=7310]="TRANSCRIPTION_LANGUAGE_LOCKED",e[e.LIVE_STREAM_ACCOUNT_DISABLE=7400]="LIVE_STREAM_ACCOUNT_DISABLE",e[e.LIVE_STREAM_INVALID_PARAMETER=7401]="LIVE_STREAM_INVALID_PARAMETER",e[e.LIVE_STREAM_MISMATCH_STATE=7402]="LIVE_STREAM_MISMATCH_STATE",e[e.SUBSESSION_ACCOUNT_DISABLE=7500]="SUBSESSION_ACCOUNT_DISABLE",e[e.SUBSESSION_EXCEED_CAPACITY=7501]="SUBSESSION_EXCEED_CAPACITY",e[e.SUBSESSION_MISMATCH_ID=7502]="SUBSESSION_MISMATCH_ID",e[e.SUBSESSION_MISMATCH_USER=7503]="SUBSESSION_MISMATCH_USER",e[e.SUBSESSION_MISMATCH_STATE=7504]="SUBSESSION_MISMATCH_STATE",e[e.SUBSESSION_EXIT_RESTRICTED=7505]="SUBSESSION_EXIT_RESTRICTED",e[e.SUBSESSION_BROADCAST_DISABLE=7506]="SUBSESSION_BROADCAST_DISABLE",e[e.SUBSESSION_BROADCAST_INVALID_CONTENT=7507]="SUBSESSION_BROADCAST_INVALID_CONTENT",e[e.SUBSESSION_BROADCAST_VOICE_DISABLE=7508]="SUBSESSION_BROADCAST_VOICE_DISABLE",e[e.SUBSESSION_BROADCAST_VOICE_RESTRICTED=7509]="SUBSESSION_BROADCAST_VOICE_RESTRICTED",e[e.SUBSESSION_BROADCAST_VOICE_MISMATCH_STATE=7510]="SUBSESSION_BROADCAST_VOICE_MISMATCH_STATE",e[e.REACTION_ACCOUNT_DISABLE=7600]="REACTION_ACCOUNT_DISABLE",e[e.REACTION_INVALID_PARAMETER=7601]="REACTION_INVALID_PARAMETER",e[e.SUMMARY_ACCOUNT_DISABLE=7700]="SUMMARY_ACCOUNT_DISABLE",e[e.QA_INVALID_PARAMETER=7800]="QA_INVALID_PARAMETER",e[e.QA_INSUFFICIENT_PRIVILEGE=7801]="QA_INSUFFICIENT_PRIVILEGE",e[e.BROADCAST_STREAMING_ACCOUNT_DISABLE=7900]="BROADCAST_STREAMING_ACCOUNT_DISABLE",e[e.BROADCAST_STREAMING_MISMATCH_STATE=7901]="BROADCAST_STREAMING_MISMATCH_STATE",e[e.BROADCAST_STREAMING_INVALID_CHANNEL_ID=7902]="BROADCAST_STREAMING_INVALID_CHANNEL_ID",e})({});const _we={...uWe,...dWe,...hWe,...fWe,...mWe,...vWe,...gWe,...bWe,...yWe,...SWe,...CWe,...EWe,"closed-caption-message":[{event:"CC_RECEIVE_MESSAGE",payload:e=>e}],"closed-caption-lt-status":[{event:"LT_STATUS_CHANGE",payload:e=>e}],"closed-caption-lt-message":[{event:"LT_RECEIVE_MESSAGE",payload:e=>e}],"closed-caption-status":[{event:"CC_ASSIGN_CC_EDITOR_SUCCESS",payload:e=>e},{event:"CC_STATUS_CHANGE",payload:e=>e}],...wWe,..._We,...TWe,...AWe,...xWe},v6=(function(e){return{all:e=e||new Map,on:function(n,o){var i=e.get(n);i?i.push(o):e.set(n,[o])},off:function(n,o){var i=e.get(n);i&&(o?i.splice(i.indexOf(o)>>>0,1):e.set(n,[]))},emit:function(n,o){var i=e.get(n);i&&i.slice().map((function(c){c(o)})),(i=e.get("*"))&&i.slice().map((function(c){c(n,o)}))}}})(),Lk=new Map,bve=new Array,q6=[hO,Xu,Rv];let n2,Sve;function Twe(){return e=>e.pipe(Qd((function(n,o){n.subscribe(Od(o,(function(i){o.next(Gpe.createNext(i))}),(function(){o.next(Gpe.createComplete()),o.complete()}),(function(i){o.next(Gpe.createError(i)),o.complete()})))})),pn((n=>n.kind==="C"?qa(n).pipe(Ju(Dv)):qa(n))),Qd((function(n,o){n.subscribe(Od(o,(function(i){return KDe(i,o)})))})))}const dt=(e,n=void 0)=>{v6.emit(e,n)};function AO(e){return q6.includes(e)?Jd(v6,e):(n2&&Sve||(n2=new J0,Sve=xd(...q6.map((n=>Jd(v6,n)))).subscribe(n2)),Jd(v6,e).pipe(_h(n2)))}const Jx=e=>new Promise(((n,o)=>{if(e.fail&&e.fail.length>0){var i;const c=q6.filter((p=>{var v;return!((v=e.fail)!==null&&v!==void 0&&v.includes(p))})),d=c.length>0?xd(...c.map((p=>AO(p).pipe(Jr(1),Do((()=>({type:iwe,reason:p,errorCode:ht.OPERATION_CANCELLED}))))))):vwe;Fp(AO(e.success).pipe(Jr(1),Twe(),aWe((i=e.fail)!==null&&i!==void 0&&i.some((p=>q6.includes(p)))?vwe:Po)),xd(...e.fail.map((p=>AO(p).pipe(Jr(1),Twe(),pn((v=>UO({type:p,payload:v}))))))),d).subscribe({next:p=>p&&p.type===iwe?o(p):n(p),error(p){if(typeof p.payload=="object"){const v={...p.payload};p.payload instanceof Error&&Object.assign(v,{name:p.payload.name,message:p.payload.message}),o({type:p.type,...v})}else p.payload===void 0?o({type:p.type}):o(p)}})}else AO(e.success).pipe(Jr(1)).subscribe((c=>n(c)))})),Cr=(e,n,o=1e4)=>new Promise(((i,c)=>{let d=Po;typeof e=="string"?d=AO(e).pipe(Jr(1)):(d=AO(e.event),e.operations&&(d=e.operations.reduce(((p,v)=>p.pipe(v)),d))),Fp(d,wu(o).pipe(pn((()=>UO("timeout"))))).subscribe({next(p){if(n){const v=n(p);typeof v=="boolean"?v?i(""):c({type:Jh,errorCode:ht.INTERNAL_ERROR}):v.ret===0?i(v.body):c({type:Jh,errorCode:ht.INTERNAL_ERROR,reason:v.body})}else i(p)},error(){c({type:yte,errorCode:ht.OPERATION_TIMEOUT})}})})),Aa=(e,n)=>n!==void 0?AO(e).pipe(Jr(n)):AO(e);function ST(e){const n=q6.map((o=>Aa(o,1)));return e&&n.push(e),Fp(...n)}const s1e=()=>{var e;bve.forEach((n=>{n.unsubscribe()})),bve.length=0,Lk.clear(),n2&&(n2.complete(),(e=Sve)===null||e===void 0||e.unsubscribe(),n2=void 0)};var fX="NOT_FOUND",OWe=function(e,n){return e===n};function xPe(e,n){var o,i,c=typeof n=="object"?n:{equalityCheck:n},d=c.equalityCheck,p=d===void 0?OWe:d,v=c.maxSize,S=v===void 0?1:v,_=c.resultEqualityCheck,x=(function(H){return function(U,z){if(U===null||z===null||U.length!==z.length)return!1;for(var Z=U.length,te=0;te<Z;te++)if(!H(U[te],z[te]))return!1;return!0}})(p),P=S===1?(o=x,{get:function(H){return i&&o(i.key,H)?i.value:fX},put:function(H,U){i={key:H,value:U}},getEntries:function(){return i?[i]:[]},clear:function(){i=void 0}}):(function(H,U){var z=[];function Z(te){var ce=z.findIndex((function(Se){return U(te,Se.key)}));if(ce>-1){var se=z[ce];return ce>0&&(z.splice(ce,1),z.unshift(se)),se.value}return fX}return{get:Z,put:function(te,ce){Z(te)===fX&&(z.unshift({key:te,value:ce}),z.length>H&&z.pop())},getEntries:function(){return z},clear:function(){z=[]}}})(S,x);function B(){var H=P.get(arguments);if(H===fX){if(H=e.apply(null,arguments),_){var U=P.getEntries().find((function(z){return _(z.value,H)}));U&&(H=U.value)}P.put(arguments,H)}return H}return B.clearCache=function(){return P.clear()},B}function OPe(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];var v,S=0,_={memoizeOptions:void 0},x=d.pop();if(typeof x=="object"&&(_=x,x=d.pop()),typeof x!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof x+"]");var P=_.memoizeOptions,B=P===void 0?o:P,H=Array.isArray(B)?B:[B],U=(function(te){var ce=Array.isArray(te[0])?te[0]:te;if(!ce.every((function(Se){return typeof Se=="function"}))){var se=ce.map((function(Se){return typeof Se=="function"?"function "+(Se.name||"unnamed")+"()":typeof Se})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+se+"]")}return ce})(d),z=e.apply(void 0,[function(){return S++,x.apply(null,arguments)}].concat(H)),Z=e((function(){for(var te=[],ce=U.length,se=0;se<ce;se++)te.push(U[se].apply(null,arguments));return v=z.apply(null,te)}));return Object.assign(Z,{resultFunc:x,memoizedResultFunc:z,dependencies:U,lastResult:function(){return v},recomputations:function(){return S},resetRecomputations:function(){return S=0}}),Z}}var Ql=OPe(xPe);const _T=({participants:{attendeesList:e}})=>e,IPe=({meeting:{userId:e}})=>e,Cve=({participants:{xmppAttendeeList:e}})=>e;let N2=(function(e){return e[e.Attendee=0]="Attendee",e[e.Host=1]="Host",e[e.Owner=4]="Owner",e[e.ViewOnly=8]="ViewOnly",e[e.HostOwner=5]="HostOwner",e[e.ViewOnlyCanTalk=24]="ViewOnlyCanTalk",e})({}),IWe=(function(e){return e[e.Host=10]="Host",e[e.Panelist=20]="Panelist",e[e.Attendee=30]="Attendee",e})({}),Eve=(function(e){return e[e.Client=9]="Client",e[e.Phone=5]="Phone",e[e.H323=15]="H323",e[e.Assitant=51]="Assitant",e})({});const K6=e=>(e&N2.Host)===N2.Host,L2=e=>(e&Eve.Phone)===Eve.Phone,$Q=e=>e===N2.ViewOnlyCanTalk,tf=e=>(e&N2.ViewOnly)===N2.ViewOnly;let o2=(function(e){return e[e.Automatically=1]="Automatically",e[e.Manually=2]="Manually",e[e.SelfSelect=3]="SelfSelect",e})({}),ci=(function(e){return e[e.NotStarted=1]="NotStarted",e[e.InProgress=2]="InProgress",e[e.Closing=3]="Closing",e[e.Closed=4]="Closed",e})({}),RPe=(function(e){return e[e.NoToken=1]="NoToken",e[e.GotToken=2]="GotToken",e[e.Started=3]="Started",e[e.Closing=4]="Closing",e[e.Closed=5]="Closed",e})({}),cr=(function(e){return e.Initial="initial",e.Invited="invited",e.Joining="joining",e.InRoom="in room",e.Leaving="leaving",e.TimeUp="time up",e.MainSession="main session",e})({}),Ck=(function(e){return e.Join="joinRequest",e.Switch="switchRequest",e.Leave="leaveRequest",e.Broadcast="messageText",e.HelpReq="helpRequest",e.HelpRes="helpResponse",e.CoHostWantJoinThisBo="wantJoinThisBO",e.BOActivity="BOActivity",e})({});const Awe="Subsession";let mO=(function(e){return e[e.Received=0]="Received",e[e.Busy=1]="Busy",e[e.Ignore=2]="Ignore",e[e.AlreadyInRoom=3]="AlreadyInRoom",e})({}),xwe=(function(e){return e[e.AskToLeave=0]="AskToLeave",e[e.ClosingRoom=1]="ClosingRoom",e})({}),RWe=(function(e){return e[e.Active=0]="Active",e[e.Ask=1]="Ask",e})({}),Zpe=(function(e){return e[e.Connect=1]="Connect",e[e.Muted=2]="Muted",e[e.Voip=4]="Voip",e})({}),Owe=(function(e){return e[e.Connect=8]="Connect",e[e.On=16]="On",e})({}),Iwe=(function(e){return e[e.Share=32]="Share",e[e.ShareAudio=64]="ShareAudio",e})({});const kPe=({breakoutRoom:e})=>e&&e.controlStatus,DPe=({breakoutRoom:e})=>e&&e.currentRoom.status,Ss=Ql([IPe,_T],((e,n)=>n.find((o=>o.userId===e)))),Iv=Ql([Ss],(e=>e?.isHost||e?.bCoHost)),MPe=Ql([Ss],(e=>e?.isHost)),Dz=Ql([Cve],(e=>e.filter((n=>n.userRole===IWe.Attendee)))),kWe=Ql([_T],(e=>e.filter((n=>n.bHold&&!n.bid)))),Va=Ql([_T,kPe,DPe],((e,n,o)=>n!==ci.InProgress&&n!==ci.Closing||o!==cr.InRoom?e.filter((i=>!i.bHold&&!i.bid)):e.filter((i=>!i.bHold)))),DWe=Ql([({participants:{assistantList:e}})=>e],(e=>e)),wve=Ql([Va],(e=>e.find((n=>n.isHost)))),Rwe=Ql([Va],(e=>e.filter((n=>n.bCoHost)))),r1e=Ql([Ss,Va],((e,n)=>n.filter((o=>o.userId!==e?.userId))));Ql([Cve],(e=>e.reduce(((n,o)=>{const{jid:i}=o;return Object.assign(n,{[i]:o}),n}),{}))),Ql([Cve,({meeting:{jid:e}})=>e],((e,n)=>{var o;return(o=e.find((i=>i.jid===n)))===null||o===void 0?void 0:o.userId}));const MWe=Ql([_T],((e=[])=>e.some((n=>n?.bLocalRecord===G6.Start)))),PWe=Ql([kPe,({meeting:e})=>e&&e.meetingOptions,_T,MPe],((e,n,o,i)=>{const c=o.filter((v=>v.bCoHost)),{moveToWRIfHostLeave:d}=n,p=e===ci.InProgress;return i&&!!d&&c.length<=0&&!p&&o.length>1}));Ql([_T,DPe,({breakoutRoom:e})=>e&&e.mainSessionAttendeeList],((e,n,o)=>(n===cr.InRoom?o:e).filter((i=>{return!(i.bHold||i.isHost||i.audio===Qi.Phone||L2(i?.userType)||(c=i?.caps,d=i?.bMultiStreamVideoUser,((p,v)=>(S=>!!(128&S))(p)&&v!==void 0)(c,d)&&d));var c,d}))));class PPe{constructor(n){this._cancelError=new Error("request for lock canceled"),this._locked=void 0,this._queue=[],this._waiters=[],this._currentReleaser=void 0,n&&(this._cancelError=n),this._locked=!1}acquire(){const n=this.isLocked(),o=new Promise(((i,c)=>this._queue.push({resolve:i,reject:c})));return n||this._dispatch(),o}async runExclusive(n){const o=await this.acquire();try{return await n()}finally{o()}}async waitForUnlock(){return this.isLocked()?new Promise((n=>this._waiters.push({resolve:n}))):Promise.resolve()}isLocked(){return this._locked}release(){if(this._currentReleaser){const n=this._currentReleaser;this._currentReleaser=void 0,n()}}cancel(){this._queue.forEach((n=>n.reject(this._cancelError))),this._queue=[]}_dispatch(){const n=this._queue.shift();if(!n)return;let o=!1;this._currentReleaser=()=>{o||(o=!0,this._locked=!1,this._resolveWaiters(),this._dispatch())},this._locked=!0,n.resolve(this._currentReleaser)}_resolveWaiters(){this._waiters.forEach((n=>n.resolve())),this._waiters=[]}}let kp=(function(e){return e.VideoEncode="0",e.VideoDecode="1",e.AudioEncode="2",e.AudioDecode="3",e.SharingEncode="4",e.SharingDecode="5",e})({});class zs{static getInstance(){return this.agentInstance===void 0&&(this.agentInstance=new zs),this.agentInstance}constructor(){this.assetsPath=void 0,this.instance=void 0,this.callbackList=void 0,this.constraints=void 0,this.svcUrl=void 0,this.meetingNumber=void 0,this.confId=void 0,this.currentUserId=void 0,this.receivedSharingCanvas=void 0,this.sharingCanvas=void 0,this.annotationCanvas=void 0,this.annotationPresenterCanvas=void 0,this.mediaOptions=void 0,this.inProgress=void 0,this.callbackList=[]}init(n){!this.instance&&window.JsMediaSDK_Instance&&(this.instance=new window.JsMediaSDK_Instance(n))}setAssetsAndConstraint(n,o){this.assetsPath=n,this.constraints=o,this.onMediaSDKCallback=this.onMediaSDKCallback.bind(this)}onMediaSDKCallback(n,o){this.callbackList.length>0&&this.callbackList.forEach((i=>i(n,o)))}registerCallback(n){this.callbackList.push(n)}unregisterCallback(n){this.callbackList=this.callbackList.filter((o=>o!==n))}static isSupportVideoEncodeHardwareAcceleration(){return window.JsMediaSDK_Instance.util.IsSupportVideoEncodeHardwareAcceleration()}static isSupportVideoDecodeHardwareAcceleration(){return window.JsMediaSDK_Instance.util.IsSupportVideoDecodeHardwareAcceleration()}static isCompatibleHardwareForEncode(){var n;return is.isSupportOffscreenCanvas&&((n=window.JsMediaSDK_Instance)===null||n===void 0?void 0:n.util.AdapterWhiteListCheckForEncoder())==0}static getPTZCapability(){var n,o,i,c,d,p;return{pan:!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util)===null||n===void 0||(o=n.isSupportCameraPan)===null||o===void 0||!o.call(n)),tilt:!((i=window.JsMediaSDK_Instance)===null||i===void 0||(i=i.util)===null||i===void 0||(c=i.isSupportCameraTilt)===null||c===void 0||!c.call(i)),zoom:!((d=window.JsMediaSDK_Instance)===null||d===void 0||(d=d.util)===null||d===void 0||(p=d.isSupportCameraZoom)===null||p===void 0||!p.call(d))}}static isSupportVideoShare(){var n,o;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util)===null||n===void 0||(o=n.isSupportVideoShareReceive)===null||o===void 0||!o.call(n))}static getVideoProcessorCapability(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||(o=o.util)===null||o===void 0||!o.isSupportVideoProcessor(n))}static getAudioProcessorCapability(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||(o=o.util)===null||o===void 0||!o.isSupportAudioProcessor(n))}static getShareProcessorCapability(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||(o=o.util)===null||o===void 0||!o.isSupportShareProcessor(n))}static isSupportVideoShareSend(){var n,o;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util)===null||n===void 0||(o=n.isSupportVideoShareSend)===null||o===void 0||!o.call(n))}static isSupportSending720P(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util)===null||n===void 0||!n.get720pcapacity())}static isSupportSubscribing1080P(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util)===null||n===void 0||!n.getsub1080pcapacity())}static isSupportOpenMicWhenShareAudio(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||!o.util.isSupportOpenMicWhenShareAudio(n))}static isSupportMediaPlaybackAsVideoInput(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util.videoToMediaStreamManager)===null||n===void 0||!n.isSupported())}static isSupportMediaPlaybackAsAudioInput(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util.audioToMediaStreamMananger)===null||n===void 0||!n.isSupported())}static isSupportAudioDenoise(n,o){var i;return!((i=window.JsMediaSDK_Instance)===null||i===void 0||!i.util.isSupportAudioDenoise(n,o))}static isSupportAudioBridgeAVSync(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||!n.util.isSupportAudioBridgeAvsync())}static getAudioFeatureFlag(n){var o;return(o=window.JsMediaSDK_Instance)===null||o===void 0?void 0:o.util.getAudioFeatureFlags(n)}static isSupportShareMultiStream(){var n;return(n=window.JsMediaSDK_Instance)===null||n===void 0?void 0:n.util.isSupportShareMultiStream()}static isSupportVideoLTR(){var n;return(n=window.JsMediaSDK_Instance)===null||n===void 0?void 0:n.util.isSupportVideoLTR()}static isSupportStereoAudio(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||!n.util.isBrowserSupportStereo())}static isSupportFullHDVideo(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||!o.util.isSupportSendVideoFullHD(n))}static isSupportFullHDVideoShare(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||!o.util.isSupportSendVideoShareFullHD(n))}static isRenderSelfViewWithVideoElement(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||!n.util.isSelfPreviewRenderWithVideo())}static getWebRTCCapability(n,o,i){var c;return(c=window.JsMediaSDK_Instance)===null||c===void 0?void 0:c.util.evaluateWebRTCStrategy(n,o,i)}static getMaxCountRender(n,o,i){var c;const d=i?{disableRenderLimits:!0}:o;return(c=window.JsMediaSDK_Instance)===null||c===void 0?void 0:c.util.getMaxCountRender(n,d)}static isSupportMultipleView(){var n;return(n=window.JsMediaSDK_Instance)===null||n===void 0?void 0:n.util.isSupportMultiViewAPI()}static isSupportShare2ndAudioDevice(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||!o.util.isSupportShare2ndAudioDevice(n))}static getWebRtcAudioMode(n,o,i,c){var d;return(d=window.JsMediaSDK_Instance)===null||d===void 0?void 0:d.util.evaluateAudioStrategy(n,o,i,c)}static getAnnotationCapability(n){var o;return(o=window.JsMediaSDK_Instance)===null||o===void 0?void 0:o.util.getAnnotationCapability(n)}connect({svcUrl:n,meetingNumber:o,conId:i,confId:c,e2eEncrypt:d,isViewOnly:p,currentUserId:v,isWebinar:S,enableWebtransport:_=!1,webtransportPort:x,isWebRtcVideoCapable:P,rendererType:B,isWebRtcAudioCapable:H,mediasdkConfig:U,enforceMultipleVideos:z,disableRenderLimits:Z,reportDomain:te,abToken:ce,webrtcMode:se}){var Se,Ce,Te,V;const{isSupportEssentialAudioAndVideoAbility:ke,isSupportAudioWorklet:et,isSupportSendScreenSharing:$e}=is;this.svcUrl=n,this.meetingNumber=o,this.confId=i,this.currentUserId=v;const Re=zs.getMaxCountRender(P,z,Z);if((Se=this.instance)===null||Se===void 0||Se.setProps({callback:this.onMediaSDKCallback,isPreviewMode:!1,meetingParams:{cid:i,confId:c,userId:v,rwgHost:n,nginxHost:te,abToken:ce,e2eEncrypt:d,enableWebtransport:_,webtransportPort:x,rwgToMediaSDKConfig:U,webrtcMode:se},mediaParams:{videoDecodeThreadNum:Re,rendererType:B,isEnableHD:!0,isEnableHW:!0}}),((Ce=this.constraints)===null||Ce===void 0?void 0:Ce.audio)===!0&&ke){const it=et||H;var _e,ut;(S||it)&&((_e=this.instance)===null||_e===void 0||_e.initAudioDecode()),!it||S&&p||(ut=this.instance)===null||ut===void 0||ut.initAudioEncode()}var ct,St,ee,ln;((Te=this.constraints)===null||Te===void 0?void 0:Te.video)===!0&&ke&&((ct=this.instance)===null||ct===void 0||ct.initVideoDecode(),S&&p||(St=this.instance)===null||St===void 0||St.initVideoEncode()),((V=this.constraints)===null||V===void 0?void 0:V.screen)===!0&&ke&&((ee=this.instance)===null||ee===void 0||ee.initSharingDecode(),!$e||S&&p||(ln=this.instance)===null||ln===void 0||ln.initSharingEncode()),this.inProgress=!0}async addProcessor(n){var o;return await((o=this.instance)===null||o===void 0?void 0:o.addProcessor(n))}async startProcessor(n){var o;await((o=this.instance)===null||o===void 0?void 0:o.startProcessor(n))}async stopProcessor(n){var o;await((o=this.instance)===null||o===void 0?void 0:o.stopProcessor(n))}async destroy(){var n;this.callbackList=[],[kp.AudioDecode,kp.AudioEncode,kp.VideoDecode,kp.VideoEncode].forEach((i=>{var c;(c=this.instance)===null||c===void 0||c.updateQosSubscription(!1,i)}));const o=(n=this.instance)===null||n===void 0?void 0:n.destroy.bind(this.instance);this.instance=null,this.inProgress=!1,await o?.()}disconnect(){var n,o;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(17,{}),(o=this.instance)===null||o===void 0||o.JsMediaSDK_UnInit()}muteAudio(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(8,{ssrc:0})}unmuteAudio(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(7,{ssrc:0,AudioSelectValue:0})}joinComputerAudio(n,o,i,c,d,p,v){var S;const _=v?{...v,enableHID:!0}:{enableHID:!1};return(S=this.instance)===null||S===void 0?void 0:S.Notify_MeidaSDK(22,{CaptureAudio:c,CaptureAudioInfo:{ssrc:n,AudioSelectValue:o==="default"?null:o,..._,audioProfile:d},speakerInfo:{defaultDeviceId:i},audioBridge:!!p})}leaveComputerAudio(){var n;return(n=this.instance)===null||n===void 0?void 0:n.Notify_MeidaSDK(21,null)}joinSharingAudio({ssrc:n,microphoneDeviceId:o,speakerDeviceId:i,isCaptureAudio:c,audioBridge:d}){var p;return(p=this.instance)===null||p===void 0?void 0:p.Notify_MeidaSDK(72,{CaptureAudio:c,CaptureAudioInfo:{ssrc:n,AudioSelectValue:o==="default"?null:o},speakerInfo:{defaultDeviceId:i},checkAutoplay:!1,audioBridge:!!d})}leaveSharingAudio(n){var o;return(o=this.instance)===null||o===void 0?void 0:o.Notify_MeidaSDK(73,{isPause:n?1:0})}changeSpeaker(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(11,{ssrc:0,AudioSelectValue:n})}changeMicrophone(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(18,{ssrc:0,AudioSelectValue:n==="default"?null:n,microphoneLabel:o??"default",defaultMuted:i})}restoreWebRTC(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(19,{ssrc:0,AudioSelectValue:n==="default"?null:n})}renderVideo(n,o,i,c,d,p,v,S,_,x,P){var B;const H={userId:o,width:c,height:d,x:p,y:v,quality:S,isMyself:_,canvas:n,enableWaterMark:P,waterMarkText:x,zone:i};iT(n)&&Object.assign(H,{videodom:n}),(B=this.instance)===null||B===void 0||B.Notify_MeidaSDK(1,H)}stopRenderVideo(n,o,i,c,d=!1){var p;(p=this.instance)===null||p===void 0||p.Notify_MeidaSDK(2,{canvas:n,userId:o,RGBA:c,doNotClean:d,zone:i})}subscribeVideo(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(132,[{id:n,size:o,bOn:i}])}unsubscribeVideo(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(133,[{id:n}])}startCaptureVideo(n,o,i,c,d,p,v=!1,S,_,x){var P;const B=S?zs.getPTZCapability():void 0;(P=this.instance)===null||P===void 0||P.Notify_MeidaSDK(3,{ssid:n,width:i,height:c,fps:_,video:d,usingFacingMode:p,VideoSelectValue:o==="default"?null:o,disableOriginalRatio:v,customConstraints:x,...B})}stopCaptureVideo(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(4,{ssrc:0})}changeCamera(n,o,i,c){var d;const p=c?{}:{customConstraints:void 0};(d=this.instance)===null||d===void 0||d.Notify_MeidaSDK(12,{VideoSelectValue:n==="default"?null:n,usingFacingMode:!!o,...i||{},...p})}switchCanvasForVideoCapture(n){var o;let i=n;typeof n=="string"&&(i=[n]),(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(25,i)}renderSharing(n,o,i=!1,c="",d=!1){var p;this.receivedSharingCanvas=o,(p=this.instance)===null||p===void 0||p.Notify_MeidaSDK(23,{width:0,height:0,ssrc:n,canvas:o,enableWaterMark:i,waterMarkText:c,isFromMainSession:d})}stopRenderSharing(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(24,{})}switchSharingSource(n,o=!1){var i;this.receivedSharingCanvas&&(this.stopRenderSharing(),this.renderSharing(n,this.receivedSharingCanvas,!1,"",o)),(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(36,{ssrc:n,isFromMainSession:Number(o)})}ajustmentReceivedSharingCanvas(n,o){if(this.receivedSharingCanvas&&n&&o)try{if(is.isAndroidOrIOSBrowser){const[i,c]=[1280,720],d=Math.max(n/i,o/c,1);this.receivedSharingCanvas.width=Math.floor(n/d),this.receivedSharingCanvas.height=Math.floor(o/d)}else this.receivedSharingCanvas.width=n,this.receivedSharingCanvas.height=o}catch{}}startRemoteControl(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(26,{socketURL:`wss://${this.svcUrl}`,meetingID:this.meetingNumber,condID:this.confId,os:o,dom:n,...i})}stopRemoteControl(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(28)}resendRemoteControlPositionPDU(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(41)}updateRemoteControlProperties(n){var o;const{dimension:i,...c}=n;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(27,{...i,...c})}startDesktopSharing(n,o,i,c,d=!0,p,v,S){var _;this.sharingCanvas=o;const x={};c&&Object.assign(x,{share2ndCamera:!0,share2ndCameraParams:{VideoSelectValue:c.cameraId==="default"?null:c.cameraId,width:c.width,height:c.height}}),p!==void 0&&Object.assign(x,{videoParams:{displaySurface:p}}),S!==void 0&&Object.assign(x,{otherParams:{...S}}),(_=this.instance)===null||_===void 0||_.Notify_MeidaSDK(30,{ssid:n,canvas:o,video:i,...x,showShareAudioOption:d,sourceId:v,noPreview:!0})}stopDesktopSharing(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(31,{})}pauseDesktopSharing(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(32,{})}updateSharingInfo(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(153,{shareSessionId:n,userName:o})}resumeDesktopSharing(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(33,{})}selectLanguageChannelForNewLTT(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(57,{lang:n})}changeSharingSecondCamera(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(49,{VideoSelectValue:n})}ajustmentSharingCanvas(n,o){if(this.sharingCanvas)try{this.sharingCanvas.width=n,this.sharingCanvas.height=o}catch{}}startPresenterAnnotation(n,o,i){const c={shareSessionId:n,presenterId:o,userName:i};var d;this.sharingCanvas&&(this.annotationPresenterCanvas||(this.annotationPresenterCanvas=YEe(this.sharingCanvas,twe+"PRESENTER",(()=>{this.updatePresenterAnnotationCanvas()}))),this.annotationPresenterCanvas&&(Object.assign(c,{localShareCanvas:this.sharingCanvas,annoPresenterCanvas:this.annotationPresenterCanvas,isPresenter:!0}),(d=this.instance)===null||d===void 0||d.Notify_MeidaSDK(150,c),this.updatePresenterAnnotationCanvas()))}startViewerAnnotation(n,o,i){const c={shareSessionId:n,presenterId:o,userName:i};var d,p;this.receivedSharingCanvas?(this.annotationCanvas?(this.annotationCanvas.parentNode&&(this.annotationCanvas.parentNode.style.display="block"),this.annotationCanvas.style.display="block"):this.annotationCanvas=YEe(this.receivedSharingCanvas,twe+"VIEWER",(()=>{this.updateViewerAnnotationCanvas()})),this.annotationCanvas&&(Object.assign(c,{canvas:this.receivedSharingCanvas,annoCanvas:this.annotationCanvas,isPresenter:!1}),(d=this.instance)===null||d===void 0||d.Notify_MeidaSDK(150,c),this.updateViewerAnnotationCanvas())):(p=this.instance)===null||p===void 0||p.Notify_MeidaSDK(150,{...c,isPresenter:!1})}stopPresenterAnnotation(n){var o;this.annotationPresenterCanvas&&typeof this.annotationPresenterCanvas._overlayCleanup=="function"&&(this.annotationPresenterCanvas._overlayCleanup(),this.annotationPresenterCanvas=null),(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(156,{presenterId:n})}hideViewerAnnotationCanvas(){this.annotationCanvas&&(this.annotationCanvas.style.display="none",this.annotationCanvas.parentNode)&&(this.annotationCanvas.parentNode.style.display="none")}removeViewerAnnotationCanvas(){this.annotationCanvas&&typeof this.annotationCanvas._overlayCleanup=="function"&&(this.annotationCanvas._overlayCleanup(),this.annotationCanvas=null)}stopViewerAnnotation(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(156,{presenterId:n})}annotateAction(n,o={}){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(A5,{actionType:n,...o})}updatePresenterAnnotationCanvas(){if(this.sharingCanvas){var n,o;const{size:i,position:c}=XEe(this.sharingCanvas);(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(A5,{actionType:Rp.ANNO_CANVAS_SIZE_UPDATE,...i}),(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(A5,{actionType:Rp.UPDATE_REMOTE_POSITION_INFO,...c})}}updateViewerAnnotationCanvas(){if(this.receivedSharingCanvas){var n,o;const{size:i,position:c}=XEe(this.receivedSharingCanvas);(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(A5,{actionType:Rp.ANNO_CANVAS_SIZE_UPDATE,...i}),(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(A5,{actionType:Rp.UPDATE_REMOTE_POSITION_INFO,...c})}}enableAudioEncode(){var n;(n=this.instance)===null||n===void 0||n.initAudioEncode()}sendUserNodeList(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(43,{userList:n,encryptKey:o})}updateRenderedSharingDimension(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(44,{width:n,height:o})}pauseOrResumeAudio(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(45,{bPause:n})}updateRenderedVideoCanvasDimension(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(46,{canvas:n,width:o,height:i})}clearVideoCanvas(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(47,{id:n,RGBA:o})}adjustRenderedVideoPosition(n,o,i,c,d,p,v,S){var _;(_=this.instance)===null||_===void 0||_.Notify_MeidaSDK(48,{userId:o,x:c,y:d,width:p,height:v,canvas:n,zone:i,RGBA:S})}mirrorVideo(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(75,{isMirrorMyVideo:n})}updateUserMediaSN(n){var o,i,c;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(80,{isFromMainSession:Number(n.isFromMainSession),mediaActionType:n.iVType,body:{add:(i=n.added)!==null&&i!==void 0?i:[],remove:(c=n.removed)!==null&&c!==void 0?c:[]}})}updateMediaParams(n){var o;const{iVType:i,isFromMainSession:c,updateParams:d}=n;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(81,{mediaActionType:i,isFromMainSession:Number(c),updateParams:d})}createMainSessionChannel(n,o){var i,c;n==="sharing"?(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(84,o):(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(85,o)}addReceivedSharingChannelType(n){var o;const{isFromMainSession:i,...c}=n;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(82,{isFromMainSession:Number(i),...c})}removeReceivedSharingChannelType(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(83,{isFromMainSession:Number(n.isFromMainSession),ssrc:n.ssrc})}beforeReportToGlobalTracing(){var n,o;(n=this.instance)===null||n===void 0||(o=n.beforeReportToGlobalTracing)===null||o===void 0||o.call(n)}enableHardwareAccelerationForVideoDecode(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(70,{enable:n})}enableHardwareAccelerationForVideoEncode(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(71,{enable:n})}setSharingAudioVolume(n,o,i,c=!1){var d;(d=this.instance)===null||d===void 0||d.Notify_MeidaSDK(74,{userid:n>>10,shareVolume:o?0:100,isFromMainSession:i,isSecondAudio:c})}subscribeToQos(n,o){n.forEach((i=>{var c;(c=this.instance)===null||c===void 0||c.updateQosSubscription(!0,i,o)}))}unsubscribeFromQos(n){n.forEach((o=>{var i;(i=this.instance)===null||i===void 0||i.updateQosSubscription(!1,o)}))}passThroughRWGMessage(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(40,n)}startVirtualBackgroundSetting(n,o,i,c,d,p,v=!1,S){var _;(_=this.instance)===null||_===void 0||_.Notify_MeidaSDK(91,{canvas:n,bgdom:o,width:d,height:p,ssid:i,VideoSelectValue:c==="default"?null:c,disableOriginalRatio:v,id:S})}updateVirtualBackgroundImage(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(92,{bgdom:n})}stopVirtualBackgroundSetting(n=!1){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(93,{isSwitch:n})}startMaskSetting(n,o,i,c,d,p,v,S,_){var x;(x=this.instance)===null||x===void 0||x.Notify_MeidaSDK(62,{canvas:n,maskdom:i,bgdom:o,dx:0,dy:0,dWidth:p,dHeight:v,width:S,height:_,ssid:c,VideoSelectValue:d==="default"?null:d})}updateMaskBackgroundImage(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(63,{bgdom:n})}updateMaskClip(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(64,{maskdom:n,dx:0,dy:0,dWidth:o,dHeight:i})}stopMaskSetting(n=!1){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(65,{isSwitch:n})}enableVideoObserver(n,o=!1){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(99,{enable:n,fpsdisbale:o})}enableShareAudioToBreakoutRoom(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(86,{enable:n})}sendUserAudioStatus(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(51,n)}muteOrUnmuteOtherAudio(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(50,{userId:n,volume:o?0:100})}adjustOtherAudioVolume(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(50,{userId:n,volume:o})}notifySDKMeetingReady(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(113)}movePTZCamera(n){var o;return(o=window.JsMediaSDK_Instance)===null||o===void 0||(o=o.util)===null||o===void 0?void 0:o.queryPTZPermisson().then((i=>{var c;return i?((c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(53,n),Promise.resolve("")):Promise.reject("Cannot move camera without permission granted")}))}switchSharingMode(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(101,{mode:n})}updateVideoHDValue(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK("update_videohd_value",{videohd:n})}updateVideoFullhdValue(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK("update_videofullhd_value",{videofullhd:n})}changeAudioProfile(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(126,n)}enableSyncButtonsOnHeadset(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(100,{enable:n,microphoneLabel:o,defaultMuted:i})}stopAllIncomingAudio(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(123,n)}isSharingEntireScreen(){var n,o;const i=(n=this.instance)===null||n===void 0||(o=n.getShareStreamInfo)===null||o===void 0?void 0:o.call(n);if(i){const{displaySurface:c}=i;return!c||c==="monitor"}return!1}getShareStreamInfo(n=!1){var o,i;const c=(o=this.instance)===null||o===void 0||(i=o.getShareStreamInfo)===null||i===void 0?void 0:i.call(o);if(c){const{deviceId:d,width:p,height:v}=c,S={deviceId:d,width:p,height:v};return n&&Object.assign(S,{displaySurface:c.displaySurface}),S}return{}}prefetchVideoSsrc(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(110,{ssrc:n})}cancelPrefetchVideoSsrc(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(112,{ssrc:n,haddata:!1})}setMobileRotateMode(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(124,{isLandScape:n})}changeActiveVideoSsrc(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(13,{ssrc:n})}setAudioCodecMode(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(122,{mode:n})}startRemoteControlQRCheck(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(54,{enable:n})}broadcastVoiceToBreakoutRoom(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(87,{enable:n})}share2ndAudio(n,o){var i;const c={audioOnly:!0,deviceId:n==="default"?null:n};o&&Object.assign(c,o),(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(129,c)}enablePlayAudioFileLocally(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(138,n)}bypassMediaMessage(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(128,n)}screenshot(n,o){var i;return(i=this.instance)===null||i===void 0?void 0:i.ScreenShot(n,o)}}zs.agentInstance=void 0;const x4=typeof Buffer=="function",kwe=typeof TextDecoder=="function"?new TextDecoder:void 0,Dwe=typeof TextEncoder=="function"?new TextEncoder:void 0,q5=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),pX=(()=>{let e={};return q5.forEach(((n,o)=>e[n]=o)),e})(),NWe=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Sm=String.fromCharCode.bind(String),Mwe=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),NPe=e=>e.replace(/=/g,"").replace(/[+\/]/g,(n=>n=="+"?"-":"_")),LPe=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),BPe=typeof btoa=="function"?e=>btoa(e):x4?e=>Buffer.from(e,"binary").toString("base64"):e=>{let n,o,i,c,d="";const p=e.length%3;for(let v=0;v<e.length;){if((o=e.charCodeAt(v++))>255||(i=e.charCodeAt(v++))>255||(c=e.charCodeAt(v++))>255)throw new TypeError("invalid character found");n=o<<16|i<<8|c,d+=q5[n>>18&63]+q5[n>>12&63]+q5[n>>6&63]+q5[63&n]}return p?d.slice(0,p-3)+"===".substring(p):d},_ve=x4?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let o=0,i=e.length;o<i;o+=4096)n.push(Sm.apply(null,e.subarray(o,o+4096)));return BPe(n.join(""))},LWe=e=>{if(e.length<2)return(n=e.charCodeAt(0))<128?e:n<2048?Sm(192|n>>>6)+Sm(128|63&n):Sm(224|n>>>12&15)+Sm(128|n>>>6&63)+Sm(128|63&n);var n=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return Sm(240|n>>>18&7)+Sm(128|n>>>12&63)+Sm(128|n>>>6&63)+Sm(128|63&n)},BWe=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Pwe=x4?e=>Buffer.from(e,"utf8").toString("base64"):Dwe?e=>_ve(Dwe.encode(e)):e=>BPe((n=>n.replace(BWe,LWe))(e)),FWe=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,VWe=e=>{switch(e.length){case 4:var n=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return Sm((n>>>10)+55296)+Sm(56320+(1023&n));case 3:return Sm((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Sm((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},FPe=typeof atob=="function"?e=>atob(LPe(e)):x4?e=>Buffer.from(e,"base64").toString("binary"):e=>{if(e=e.replace(/\s+/g,""),!NWe.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let n,o,i,c="";for(let d=0;d<e.length;)n=pX[e.charAt(d++)]<<18|pX[e.charAt(d++)]<<12|(o=pX[e.charAt(d++)])<<6|(i=pX[e.charAt(d++)]),c+=o===64?Sm(n>>16&255):i===64?Sm(n>>16&255,n>>8&255):Sm(n>>16&255,n>>8&255,255&n);return c},HWe=x4?e=>Mwe(Buffer.from(e,"base64")):e=>Mwe(FPe(e).split("").map((n=>n.charCodeAt(0)))),$We=x4?e=>Buffer.from(e,"base64").toString("utf8"):kwe?e=>kwe.decode(HWe(e)):e=>(n=>n.replace(FWe,VWe))(FPe(e)),VPe=(e,n=!1)=>n?NPe(Pwe(e)):Pwe(e),UWe=e=>$We((n=>LPe(n.replace(/[-_]/g,(o=>o=="-"?"+":"/"))))(e)),zWe=(e,n=!1)=>n?NPe(_ve(e)):_ve(e);function bu(e){return VPe(e,!0)}function s1(e){return UWe(e)}function HPe(e){return VPe(e,!1)}const jWe={"-":"+",_:"/",".":"="};function jb(e){const n=e.replace(/[-_.]/g,(o=>jWe[o]));return Uint8Array.from(window.atob(n),(o=>o.charCodeAt(0)))}const $Pe=e=>{const n=e.charCodeAt(0);return n<=parseInt("0x7F",16)?1:n<=parseInt("0x7FF",16)?2:n<=parseInt("0xFFFF",16)?3:n<=parseInt("0x1FFFFF",16)?4:n<=parseInt("0x3FFFFFF",16)?5:6},UQ=(e,n)=>{const o=e.split(".").map((d=>Number(d))).slice(0,3),i=n.split(".").map((d=>Number(d))).slice(0,3);let c=0;for(let d=0;d<3;d++){const p=d<o.length?o[d]:0,v=d<i.length?i[d]:0;if(p<v){c=-1;break}if(p>v){c=1;break}}return c},zQ=e=>{var n;let o=new Date().getTime(),i=1e3*((n=performance)===null||n===void 0?void 0:n.now())||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(d=>{let p=16*Math.random();return o>0?(p=(o+p)%16|0,o=Math.floor(o/16)):(p=(i+p)%16|0,i=Math.floor(i/16)),(d==="x"?p:3&p|8).toString(16)}))+""};function Mz(e,n){if(e===n)return!0;if(!e||!n)return!1;const o=Object.keys(e),i=Object.keys(n),c=o.length;if(i.length!==c)return!1;for(let d=0;d<c;d++){const p=o[d];if(e[p]!==n[p]||!Object.prototype.hasOwnProperty.call(n,p))return!1}return!0}const Uf=(e,n)=>e>>10==n>>10,Ete=(e,n)=>new Promise((o=>{setTimeout((()=>{o(e())}),n)})),aT=e=>{const n=`${Math.floor(1e4*Math.random())}`;return e.indexOf("@")>-1?e.replace("@",n):`${e}${n}`},My=e=>{try{const n=new URL(e);return!(n.protocol==="data:"&&n.origin==="null")&&n.origin!==location.origin}catch{return!0}},CT=e=>{const n=e.split(".")[1];if(typeof n=="string"){let o=n.replace(/-/g,"+").replace(/_/g,"/");switch(o.length%4){case 0:break;case 2:o+="==";break;case 3:o+="=";break;default:throw new Error("base64 string is not of the correct length")}try{const i=decodeURIComponent(window.atob(o).replace(/(.)/g,(function(c,d){let p=d.charCodeAt(0).toString(16).toUpperCase();return p.length<2&&(p="0"+p),"%"+p})));return JSON.parse(i)}catch{console.error("Invalid token specified: invalid base64")}}};function wte(e){return e&&e.endsWith("/")?e.slice(0,e.length-1):e}function UPe(e){return[...new Uint8Array(e)].map((n=>n.toString(16).padStart(2,"0"))).join("")}function Nwe(e){return`${e.tagName}${e.id?`#${e.id}`:""}${e.className?`${e.className.split(" ").map((n=>`.${n}`)).join("")}`:""}`}function zPe(e){const n=(function(o){const i=o&&o.getRootNode();if(i&&i.nodeName!=="#document"&&i.host)return Nwe(i.host)})(e);return`${n?`${n}>`:""}${Nwe(e)}`}function jQ(e){return typeof e=="object"&&e!==null?mte(e,HTMLElement)?zPe(e):ArrayBuffer.isView(e)?UPe(e.buffer):Array.isArray(e)?e.map((n=>jQ(n))):Object.keys(e).reduce(((n,o)=>({...n,[`${o}`]:jQ(e[o])})),{}):e}const WWe=[eJ,tJ,zk].map((e=>xDe(e,{hostname:!0})));function jPe(e){return WWe.some((n=>new RegExp(`^https://${n}`).test(e??"")))}const $f=(e,n,o)=>U0e([n,o].map(((i,c)=>{if(i!=="initial")return lo([i==="success"]);{const d=c===0?"ENCODE":"DECODE";return Fp(Aa(`${e.toUpperCase()}_${d}_SUCCESS`,1).pipe(Do((()=>!0))),Aa(`${e.toUpperCase()}_${d}_FAIL`,1).pipe(Do((()=>!1))))}}))),B2=e=>{const n=Ss(e.value);return n?qa(n):Aa(kz,1).pipe(Ju(yT),us(e),Do((([,o])=>Ss(o))))};function Tve(e,n){var o,i,c;const d=e==="audio"?(o=n.audio)===null||o===void 0?void 0:o.audioSsrc:(i=n.video)===null||i===void 0?void 0:i.videoSsrc,p=e==="audio"?LMe:CMe;return e==="audio"&&(c=n.audio)!==null&&c!==void 0&&c.isWebRtcAudioCapable||d?Promise.resolve():Cr(p)}const F2=()=>lo(navigator.mediaDevices.enumerateDevices()).pipe(Do((e=>{const n=[],o=[],i=[];return e.forEach((c=>{const{kind:d,deviceId:p,label:v}=c,S=v.replace(/\([\w,\d]+:[\w,\d]+\)/i,"").trim();switch(d){case"audioinput":p==="communications"||/ZoomAudioDevice/i.test(S)||/Zoom-\S*/.test(S)||/CubebAggregateDevice\S*/.test(S)||/Microsoft Teams Audio/i.test(S)||n.push({deviceId:p,label:S});break;case"audiooutput":p==="communications"||/ZoomAudioDevice/i.test(S)||/Microsoft Teams Audio/i.test(S)||o.push({deviceId:p,label:S});break;case"videoinput":i.push({deviceId:p,label:S})}})),{microphones:n,speakers:o,cameras:i}})));function WQ(e){const{x:n,y:o,width:i,height:c}=e.getBoundingClientRect();return{scaleWidth:i,scaleHeight:c,srcOffsetX:n,srcOffsetY:o}}function GQ(e){if(e){let o=e;try{const i=e.width;e.width=i}catch{var n;o=e.cloneNode(!0),(n=e.parentNode)===null||n===void 0||n.replaceChild(o,e)}return o}return e}function Lwe(){try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(O7e)}catch{return!1}}function mX(){var e;return(e=WebAssembly)===null||e===void 0?void 0:e.validate(I7e)}const WPe=(()=>{const e=new PPe;return{withAudioAction:n=>(...o)=>new Promise((async(i,c)=>{let d=!1;const p=setTimeout((()=>{d=!0,e.release()}),3e4);try{await e.acquire(),d||clearTimeout(p),i(n(...o))}catch(v){d||(clearTimeout(p),c(v))}})),processAudioAction:n=>e.acquire().then((()=>n())),completeAudioAction:()=>{e.release()},cancelAllAudioAction:()=>{e.cancel()}}})();function _te(e){const n=["joinComputerAudio","joinSharingAudio","leaveComputerAudio","leaveSharingAudio"];return new Proxy(e,{get:(o,i)=>typeof i=="string"&&n.includes(i)?function(...c){return WPe.withAudioAction(o[i].bind(o))(...c)}:Reflect.get(o,i)})}function Ave(e,n){var o;const{browserVersion:i,isChrome:c,isFirefox:d,isSafari:p,isAndroidOrIOSBrowser:v,isSupportMediaStreamTrackProcessor:S,isSupportOffscreenCanvas:_,isSwiftShader:x}=is,P=Number(i==null||(o=i.match(/^\d+/))===null||o===void 0?void 0:o[0]),B=c&&P>=91,H=d&&P>=89,U=p&&UQ(i,"17.4")>=0,z=navigator.hardwareConcurrency>2;let Z=zs.isSupportMultipleView();return e&&!Z&&(Z=_&&S),!v&&!x&&(Z||n)&&(B||H||U)&&z}const Ype=(e,n)=>{const o=document.createElement("link");return o.rel="preload",o.href=e,o.as=n,o.crossOrigin="anonymous",o},$x=(e,n,o)=>{const i=[],c=[],d=Array.isArray(e)?e:[e];return D7e.filter((p=>{var v;return d.includes(p.category)&&(p.tag===n||((v=p.tag)===null||v===void 0?void 0:v.split(",").includes(n)))})).forEach((p=>{p.type==="worker"?i.push(`${o}${p.name}`):p.type==="wasm"&&c.push(`${o}${p.name}`)})),{workers:i,wasms:c}};function GPe(e,n){const o={},{isSupportSharedArrayBuffer:i,isSupportOffscreenCanvas:c,isSupportMediaStreamTrackProcessor:d,isAndroidOrIOSBrowser:p,isHarmonyOS:v}=is;return i||(Object.assign(o,{enableMultiDecodeVideoWithoutSAB:!!e}),c&&d&&Object.assign(o,{enableVirtualBackgroundWithoutSAB:!!n})),Object.assign(o,{platformMode:{isDesktopMode:!(p||v)}}),o}function Xpe(e,n,o){if(e.deviceId===n)return!0;if(n==="default"){const i=o.find((c=>c.deviceId===n));if(i)return i.label.indexOf(e.label)>-1}return!1}function O5(e){return e.find((n=>n.deviceId==="default"))}const xve=(()=>{let e,n=!1;return{watch:function(o){n=!0,e=Promise.race([o,Ete((()=>!0),1e4)]).then((()=>{e=void 0,n=!1})).finally((()=>{e=void 0,n=!1}))},acquire:function(){return n&&e?e:Promise.resolve()}}})(),K5=(e,n)=>Cr({event:W0e,operations:[xn((o=>o[`${e}`]!==void 0)),Jr(1)]},(o=>o[`${e}`]===n));function Bwe(e,n,o,i){const c={play:()=>e.play(),pause:()=>e.pause(),get paused(){return e.paused},get muted(){return e.muted},set muted(d){e.muted=d},get currentTime(){return e.currentTime},set currentTime(d){e.currentTime=d},get loop(){return e.loop},set loop(d){e.loop=d}};if(n==="audio"){const{audio:{mediaPlaybackFile:d}}=o;Object.defineProperty(c,"playback",{get(){const p=e.dataset.playback;return p!==void 0?p==="1":!(d==null||!d.playback)},set(p){i.enablePlayAudioFileLocally(p),e.dataset.playback=p?"1":"0"}})}return c}function Ove(){return Fp(Jd(document,"click").pipe(Jr(1)),Jd(document,"touchend").pipe(Jr(1))).pipe(_h(ST()))}function qPe(e,n){const{audio:{activeMicrophone:o,microphoneDevicesList:i}}=n,c=i.find((p=>p.deviceId===o)),d=Ss(n);e.changeMicrophone(o,c?.label,!(d==null||!d.muted))}function KPe(e,n,o,i){var c;const{audio:d,share:{isReceiveSharingFromMainSession:p}}=o;if((d==null||(c=d.localShareAudioUserMutedList)===null||c===void 0?void 0:c.length)>0){const{localShareAudioUserMutedList:v}=d,S=v.filter((_=>_.userId!==e));if(S.length){const _=Va(o);S.forEach((x=>{const P=_.find((B=>B.userId===x.userId));P&&!P.audioShare&&i.setSharingAudioVolume(x.userId,!0,x.isFromMainSession)}))}}i.setSharingAudioVolume(e,n,!!p)}function GWe(e,n){let o=0;return e&&(o|=Kge.WebRTCAudio),n&&(o|=Kge.WebRTCVideo),o}function ZPe(){var e,n;return"orientation"in window.screen?(e=screen.orientation.type)===null||e===void 0?void 0:e.startsWith("landscape"):"orientation"in window?Math.abs(window.orientation)===90:"matchMedia"in window?!((n=window.matchMedia("(orientation: landscape)"))===null||n===void 0||!n.matches):screen.availWidth>screen.availHeight}function YPe(){return"orientation"in window.screen?Jd(screen.orientation,"change").pipe(_h(ST()),Do((()=>{var e;return(e=screen.orientation.type)===null||e===void 0?void 0:e.startsWith("landscape")}))):Jd(window,"orientationchange").pipe(_h(ST()),Do((e=>{var n;const o=(n=e.target)===null||n===void 0||(n=n.screen)===null||n===void 0||(n=n.orientation)===null||n===void 0?void 0:n.angle;return Math.abs(o)===90})))}function gX(e,n){var o;let i;if(typeof e=="string"){if(i=document.querySelector(e),!i)return[!1,{type:ar,reason:"Cannot find the element",errorCode:ht.STREAM_MISMATCH_RENDER_ELEMENT}]}else i=e;return((o=i)===null||o===void 0||(o=o.tagName)===null||o===void 0?void 0:o.toUpperCase())!==n.toUpperCase()?[!1,{type:ar,reason:"Invalid element type",errorCode:ht.STREAM_MISMATCH_RENDER_ELEMENT}]:[!0,i]}function Fwe(e){const{share:{isRemoteSharingActive:n,isSimultaneousShareView:o}}=e;return n||o?qa(!0):Aa(T3).pipe(xn((i=>{const{isActive:c}=i;return c})),Jr(1),Do((()=>!0)))}var Vwe,Hwe,s2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tte(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qWe=(Hwe||(Hwe=1,Vwe=function(e,n,o,i,c,d,p,v){if(!e){var S;if(n===void 0)S=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var _=[o,i,c,d,p,v],x=0;(S=new Error(n.replace(/%s/g,(function(){return _[x++]})))).name="Invariant Violation"}throw S.framesToPop=1,S}}),Vwe),A3=Tte(qWe),S2=function(e){return typeof e=="function"},$we=function(e){return e.toString()},Jpe=function(e){return typeof e=="string"},fJ="||",C2=function(e){return e},Uwe=function(e){return e===null};function Jl(e,n,o){n===void 0&&(n=C2),A3(S2(n)||Uwe(n),"Expected payloadCreator to be a function, undefined or null");var i=Uwe(n)||n===C2?C2:function(v){for(var S=arguments.length,_=new Array(S>1?S-1:0),x=1;x<S;x++)_[x-1]=arguments[x];return v instanceof Error?v:n.apply(void 0,[v].concat(_))},c=S2(o),d=e.toString(),p=function(){var v=i.apply(void 0,arguments),S={type:e};return v instanceof Error&&(S.error=!0),v!==void 0&&(S.payload=v),c&&(S.meta=o.apply(void 0,arguments)),S};return p.toString=function(){return d},p}var Qpe,zwe,jwe,Wwe,Gwe,qwe,J3=function(e){if(typeof e!="object"||e===null)return!1;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n},Kwe=function(e){return Array.isArray(e)},XPe=function(e){return e==null},Zwe=Tte((function(){if(qwe)return Gwe;qwe=1;var e=(function(){if(Wwe)return jwe;Wwe=1;var n=(function(){if(zwe)return Qpe;zwe=1,Qpe=function(v){return o.test(v)?v.toLowerCase():i.test(v)?((function(S){return S.replace(d,(function(_,x){return x?" "+x:""}))})(v)||v).toLowerCase():c.test(v)?(function(S){return S.replace(p,(function(_,x,P){return x+" "+P.toLowerCase().split("").join(" ")}))})(v).toLowerCase():v.toLowerCase()};var o=/\s/,i=/(_|-|\.|:)/,c=/([a-z][A-Z]|[A-Z][a-z])/,d=/[\W_]+(.|$)/g,p=/(.)([A-Z]+)/g;return Qpe})();return jwe=function(o){return n(o).replace(/[\W_]+(.|$)/g,(function(i,c){return c?" "+c:""})).trim()}})();return Gwe=function(n){return e(n).replace(/\s(\w)/g,(function(o,i){return i.toUpperCase()}))}})()),JPe=function(e){return e.indexOf("/")===-1?Zwe(e):e.split("/").map(Zwe).join("/")},Ive=function(e,n){return e.reduce((function(o,i){return n(o,i)}),{})},Ate=function(e){return typeof Map<"u"&&e instanceof Map};function i1e(e){if(Ate(e))return Array.from(e.keys());if(typeof Reflect<"u"&&typeof Reflect.ownKeys=="function")return Reflect.ownKeys(e);var n=Object.getOwnPropertyNames(e);return typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e))),n}function QPe(e,n){return Ate(n)?n.get(e):n[e]}var eNe=function(e){return function n(o,i,c,d){var p=i===void 0?{}:i,v=p.namespace,S=v===void 0?"/":v,_=p.prefix;return c===void 0&&(c={}),d===void 0&&(d=""),i1e(o).forEach((function(x){var P=(function(H){return d||!_||_&&new RegExp("^"+_+S).test(H)?H:""+_+S+H})((function(H){var U;if(!d)return H;var z=H.toString().split(fJ),Z=d.split(fJ);return(U=[]).concat.apply(U,Z.map((function(te){return z.map((function(ce){return""+te+S+ce}))}))).join(fJ)})(x)),B=QPe(x,o);e(B)?n(B,{namespace:S,prefix:_},c,P):c[P]=B})),c}},KWe=eNe(J3);function qQ(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{},i=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(o).filter((function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})))),i.forEach((function(c){ZWe(e,c,o[c])}))}return e}function ZWe(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function eh(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var c,d=J3((c=o)[c.length-1])?o.pop():{};return A3(o.every(Jpe)&&(Jpe(e)||J3(e)),"Expected optional object followed by string action types"),Jpe(e)?Ywe([e].concat(o),d):qQ({},(function(p,v){return(function(S,_){var x=_===void 0?{}:_,P=x.namespace,B=P===void 0?"/":P,H=x.prefix;function U(Z,te,ce){var se=JPe(ce.shift());ce.length===0?te[se]=S[Z]:(te[se]||(te[se]={}),U(Z,te[se],ce))}var z={};return Object.getOwnPropertyNames(S).forEach((function(Z){var te=H?Z.replace(""+H+B,""):Z;return U(Z,z,te.split(B))})),z})(tNe(KWe(p,v)),v)})(e,d),Ywe(o,d))}function tNe(e,n){var o=n===void 0?{}:n,i=o.prefix,c=o.namespace,d=c===void 0?"/":c;return Ive(Object.keys(e),(function(p,v){var S,_=e[v];A3((function(B){if(S2(B)||XPe(B))return!0;if(Kwe(B)){var H=B[0],U=H===void 0?C2:H,z=B[1];return S2(U)&&S2(z)}return!1})(_),"Expected function, undefined, null, or array with payload and meta functions for "+v);var x=i?""+i+d+v:v,P=Kwe(_)?Jl.apply(void 0,[x].concat(_)):Jl(x,_);return qQ({},p,((S={})[v]=P,S))}))}function Ywe(e,n){var o=tNe(Ive(e,(function(i,c){var d;return qQ({},i,((d={})[c]=C2,d))})),n);return Ive(Object.keys(o),(function(i,c){var d;return qQ({},i,((d={})[JPe(c)]=o[c],d))}))}var YWe=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=typeof n[n.length-1]!="function"&&n.pop(),c=n;if(i===void 0)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(d,p){for(var v=arguments.length,S=Array(v>2?v-2:0),_=2;_<v;_++)S[_-2]=arguments[_];var x=d===void 0,P=p===void 0;return x&&P&&i?i:c.reduce((function(B,H){return H.apply(void 0,[B,p].concat(S))}),x&&!P&&i?i:d)}},XWe=eNe((function(e){return(J3(e)||Ate(e))&&!(function(n){var o=i1e(n),i=o.every((function(c){return c==="next"||c==="throw"}));return o.length&&o.length<=2&&i})(e)}));function wm(e,n,o){o===void 0&&(o={}),A3(J3(e)||Ate(e),"Expected handlers to be a plain object.");var i=XWe(e,o),c=i1e(i).map((function(p){return(function(v,S,_){S===void 0&&(S=C2);var x=$we(v).split(fJ);A3(_!==void 0,"defaultState for reducer handling "+x.join(", ")+" should be defined"),A3(S2(S)||J3(S),"Expected reducer to be a function or object with next and throw reducers");var P=S2(S)?[S,S]:[S.next,S.throw].map((function(U){return XPe(U)?C2:U})),B=P[0],H=P[1];return function(U,z){U===void 0&&(U=_);var Z=z.type;return Z&&x.indexOf($we(Z))!==-1?(z.error===!0?H:B)(U,z):U}})(p,QPe(p,i),n)})),d=YWe.apply(void 0,c.concat([n]));return function(p,v){return p===void 0&&(p=n),d(p,v)}}const Rve=Jl("SCREENSHOT_VIDEO_NOTIFICATION"),{setVideoSsrc:nNe,setActiveVideoId:oNe,setCameraList:a1e,setActiveCamera:Q3,setIsCurrentUserStartedVideo:sNe,setSpotlightVideo:kve,setIsCaptureForbidden:KQ,setVideoMaxQuality:rNe,setIsVideoMuted:iNe,setIsCaptureCameraLoading:a3,setIsCameraTaken:ZQ,resetVideo:aNe,setReceivedVideoDimension:lNe,addSubscribedVideoId:YQ,removeSubscribedVideoId:pJ,setIsFollowHostVideoLayout:cNe,setHostDragLayout:uNe,addRenderedVideoId:E2,removeRenderedVideoId:XQ,setIsSupportHdVideo:dNe,setIsCanUnmuteVideo:hNe,setIsVbPreloadReady:Dve,setIsVbConfiged:JQ,setVbImageSrc:mJ,setVideoDataEncoding:QQ,setVideoDataDecoding:eee,setHardwareAccelerationState:JL,setVideoCaptureCustomizedOption:fNe,setNetworkQuality:Mve,setVideoCameraPtzCapabilities:pNe,setIsCurrentUserRequestCameraControlled:tee,setIsCurrentUserCameraInControl:nee,addVideoFarEndCameraControlUser:mNe,removeVideoFarEndCameraControlUser:oee,setVideoPtzCameraMoving:Pve,setVideoPtzCameraValue:l1e,setIsControllingFarEndCamera:Nve,setNetworkQualityBroadcastTime:gNe,setIsMaskConfiged:see,setVideoBackgroundMode:Lve,setVideoMask:gJ,setVideoCapturedDimension:vNe,addVideoRenderedEnsuredCanvas:yNe,setVideoMediaPlaybackFile:Bve,setPrefetchedVideoUser:x3,setVideoQosSubscriptionStatus:Fve,setMiniRwgOptionValue:bNe,addVideoPlayerAttachment:c1e,removeVideoPlayerAttachment:vJ,setIsWebGl2RendererType:SNe,setIsWebGpuRendererType:CNe,setVideoRendererType:ENe,setIsVideoMirrored:wNe,addSelfPreviewVideoTag:_Ne,removeSelfPreviewVideoTag:u1e,setVideoLeadershipUserId:TNe,setIsWebrtcVideoCapable:d1e,removeCustomVideoConstraints:ANe}=eh("SET_VIDEO_SSRC","SET_ACTIVE_VIDEO_ID","SET_CAMERA_LIST","SET_ACTIVE_CAMERA","SET_IS_CURRENT_USER_STARTED_VIDEO","SET_SPOTLIGHT_VIDEO","SET_IS_CAPTURE_FORBIDDEN","SET_VIDEO_MAX_QUALITY","SET_IS_VIDEO_MUTED","SET_IS_CAPTURE_CAMERA_LOADING","SET_IS_CAMERA_TAKEN","RESET_VIDEO","SET_RECEIVED_VIDEO_DIMENSION","ADD_SUBSCRIBED_VIDEO_ID","REMOVE_SUBSCRIBED_VIDEO_ID","SET_IS_FOLLOW_HOST_VIDEO_LAYOUT","SET_HOST_DRAG_LAYOUT","ADD_RENDERED_VIDEO_ID","REMOVE_RENDERED_VIDEO_ID","SET_IS_SUPPORT_HD_VIDEO","SET_IS_CAN_UNMUTE_VIDEO","SET_IS_VB_PRELOAD_READY","SET_IS_VB_CONFIGED","SET_VB_IMAGE_SRC","SET_VIDEO_DATA_ENCODING","SET_VIDEO_DATA_DECODING","SET_HARDWARE_ACCELERATION_STATE","SET_VIDEO_CAPTURE_CUSTOMIZED_OPTION","SET_NETWORK_QUALITY","SET_VIDEO_CAMERA_PTZ_CAPABILITIES","SET_IS_CURRENT_USER_REQUEST_CAMERA_CONTROLLED","SET_IS_CURRENT_USER_CAMERA_IN_CONTROL","ADD_VIDEO_FAR_END_CAMERA_CONTROL_USER","REMOVE_VIDEO_FAR_END_CAMERA_CONTROL_USER","SET_VIDEO_PTZ_CAMERA_MOVING","SET_VIDEO_PTZ_CAMERA_VALUE","SET_IS_CONTROLLING_FAR_END_CAMERA","SET_NETWORK_QUALITY_BROADCAST_TIME","SET_IS_MASK_CONFIGED","SET_VIDEO_BACKGROUND_MODE","SET_VIDEO_MASK","SET_VIDEO_CAPTURED_DIMENSION","ADD_VIDEO_RENDERED_ENSURED_CANVAS","SET_VIDEO_MEDIA_PLAYBACK_FILE","SET_PREFETCHED_VIDEO_USER","SET_VIDEO_QOS_SUBSCRIPTION_STATUS","SET_MINI_RWG_OPTION_VALUE","ADD_VIDEO_PLAYER_ATTACHMENT","REMOVE_VIDEO_PLAYER_ATTACHMENT","SET_IS_WEB_GL2_RENDERER_TYPE","SET_IS_WEB_GPU_RENDERER_TYPE","SET_VIDEO_RENDERER_TYPE","SET_IS_VIDEO_MIRRORED","ADD_SELF_PREVIEW_VIDEO_TAG","REMOVE_SELF_PREVIEW_VIDEO_TAG","SET_VIDEO_LEADERSHIP_USER_ID","SET_IS_WEBRTC_VIDEO_CAPABLE","REMOVE_CUSTOM_VIDEO_CONSTRAINTS");var xNe=typeof global=="object"&&global&&global.Object===Object&&global,JWe=typeof self=="object"&&self&&self.Object===Object&&self,IE=xNe||JWe||Function("return this")(),zO=IE.Symbol,ONe=Object.prototype,QWe=ONe.hasOwnProperty,e9e=ONe.toString,I5=zO?zO.toStringTag:void 0,t9e=Object.prototype.toString,Xwe=zO?zO.toStringTag:void 0;function O4(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Xwe&&Xwe in Object(e)?(function(n){var o=QWe.call(n,I5),i=n[I5];try{n[I5]=void 0;var c=!0}catch{}var d=e9e.call(n);return c&&(o?n[I5]=i:delete n[I5]),d})(e):(function(n){return t9e.call(n)})(e)}function e4(e){return e!=null&&typeof e=="object"}function INe(e){return typeof e=="symbol"||e4(e)&&O4(e)=="[object Symbol]"}var t4=Array.isArray,Jwe=zO?zO.prototype:void 0,Qwe=Jwe?Jwe.toString:void 0;function RNe(e){if(typeof e=="string")return e;if(t4(e))return(function(o,i){for(var c=-1,d=o==null?0:o.length,p=Array(d);++c<d;)p[c]=i(o[c],c,o);return p})(e,RNe)+"";if(INe(e))return Qwe?Qwe.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}var n9e=/\s/,o9e=/^\s+/;function Z6(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var s9e=/^[-+]0x[0-9a-f]+$/i,r9e=/^0b[01]+$/i,i9e=/^0o[0-7]+$/i,a9e=parseInt;function e_e(e){if(typeof e=="number")return e;if(INe(e))return NaN;if(Z6(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Z6(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=(function(i){return i&&i.slice(0,(function(c){for(var d=c.length;d--&&n9e.test(c.charAt(d)););return d})(i)+1).replace(o9e,"")})(e);var o=r9e.test(e);return o||i9e.test(e)?a9e(e.slice(2),o?2:8):s9e.test(e)?NaN:+e}function kNe(e){if(!Z6(e))return!1;var n=O4(e);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"}var t_e,eme=IE["__core-js_shared__"],n_e=(t_e=/[^.]+$/.exec(eme&&eme.keys&&eme.keys.IE_PROTO||""))?"Symbol(src)_1."+t_e:"",l9e=Function.prototype.toString;function q2(e){if(e!=null){try{return l9e.call(e)}catch{}try{return e+""}catch{}}return""}var c9e=/^\[object .+?Constructor\]$/,u9e=Function.prototype,d9e=Object.prototype,h9e=u9e.toString,f9e=d9e.hasOwnProperty,p9e=RegExp("^"+h9e.call(f9e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function I4(e,n){var o=(function(i,c){return i?.[c]})(e,n);return(function(i){return!(!Z6(i)||(c=i,n_e&&n_e in c))&&(kNe(i)?p9e:c9e).test(q2(i));var c})(o)?o:void 0}var Vve=I4(IE,"WeakMap"),m9e=/^(?:0|[1-9]\d*)$/;function g9e(e,n){var o=typeof e;return!!(n=n??9007199254740991)&&(o=="number"||o!="symbol"&&m9e.test(e))&&e>-1&&e%1==0&&e<n}function DNe(e,n){return e===n||e!=e&&n!=n}function MNe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991}function PNe(e){return e!=null&&MNe(e.length)&&!kNe(e)}var v9e=Object.prototype;function NNe(e){var n=e&&e.constructor;return e===(typeof n=="function"&&n.prototype||v9e)}function o_e(e){return e4(e)&&O4(e)=="[object Arguments]"}var LNe=Object.prototype,y9e=LNe.hasOwnProperty,b9e=LNe.propertyIsEnumerable,BNe=o_e((function(){return arguments})())?o_e:function(e){return e4(e)&&y9e.call(e,"callee")&&!b9e.call(e,"callee")},FNe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,s_e=FNe&&typeof module=="object"&&module&&!module.nodeType&&module,r_e=s_e&&s_e.exports===FNe?IE.Buffer:void 0,ree=(r_e?r_e.isBuffer:void 0)||function(){return!1},vu={};vu["[object Float32Array]"]=vu["[object Float64Array]"]=vu["[object Int8Array]"]=vu["[object Int16Array]"]=vu["[object Int32Array]"]=vu["[object Uint8Array]"]=vu["[object Uint8ClampedArray]"]=vu["[object Uint16Array]"]=vu["[object Uint32Array]"]=!0,vu["[object Arguments]"]=vu["[object Array]"]=vu["[object ArrayBuffer]"]=vu["[object Boolean]"]=vu["[object DataView]"]=vu["[object Date]"]=vu["[object Error]"]=vu["[object Function]"]=vu["[object Map]"]=vu["[object Number]"]=vu["[object Object]"]=vu["[object RegExp]"]=vu["[object Set]"]=vu["[object String]"]=vu["[object WeakMap]"]=!1;var i_e,VNe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,y6=VNe&&typeof module=="object"&&module&&!module.nodeType&&module,tme=y6&&y6.exports===VNe&&xNe.process,a_e=(function(){try{return y6&&y6.require&&y6.require("util").types||tme&&tme.binding&&tme.binding("util")}catch{}})(),l_e=a_e&&a_e.isTypedArray,h1e=l_e?(i_e=l_e,function(e){return i_e(e)}):function(e){return e4(e)&&MNe(e.length)&&!!vu[O4(e)]},S9e=Object.prototype.hasOwnProperty,C9e=(function(e,n){return function(o){return e(n(o))}})(Object.keys,Object),E9e=Object.prototype.hasOwnProperty;function HNe(e){if(!NNe(e))return C9e(e);var n=[];for(var o in Object(e))E9e.call(e,o)&&o!="constructor"&&n.push(o);return n}function w9e(e){return PNe(e)?(function(n){var o=t4(n),i=!o&&BNe(n),c=!o&&!i&&ree(n),d=!o&&!i&&!c&&h1e(n),p=o||i||c||d,v=p?(function(x,P){for(var B=-1,H=Array(x);++B<x;)H[B]=P(B);return H})(n.length,String):[],S=v.length;for(var _ in n)!S9e.call(n,_)||p&&(_=="length"||c&&(_=="offset"||_=="parent")||d&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||g9e(_,S))||v.push(_);return v})(e):HNe(e)}var R5=I4(Object,"create"),_9e=Object.prototype.hasOwnProperty,T9e=Object.prototype.hasOwnProperty;function Gk(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var i=e[n];this.set(i[0],i[1])}}function vX(e,n){for(var o=e.length;o--;)if(DNe(e[o][0],n))return o;return-1}Gk.prototype.clear=function(){this.__data__=R5?R5(null):{},this.size=0},Gk.prototype.delete=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},Gk.prototype.get=function(e){var n=this.__data__;if(R5){var o=n[e];return o==="__lodash_hash_undefined__"?void 0:o}return _9e.call(n,e)?n[e]:void 0},Gk.prototype.has=function(e){var n=this.__data__;return R5?n[e]!==void 0:T9e.call(n,e)},Gk.prototype.set=function(e,n){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=R5&&n===void 0?"__lodash_hash_undefined__":n,this};var A9e=Array.prototype.splice;function X_(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var i=e[n];this.set(i[0],i[1])}}X_.prototype.clear=function(){this.__data__=[],this.size=0},X_.prototype.delete=function(e){var n=this.__data__,o=vX(n,e);return!(o<0||(o==n.length-1?n.pop():A9e.call(n,o,1),--this.size,0))},X_.prototype.get=function(e){var n=this.__data__,o=vX(n,e);return o<0?void 0:n[o][1]},X_.prototype.has=function(e){return vX(this.__data__,e)>-1},X_.prototype.set=function(e,n){var o=this.__data__,i=vX(o,e);return i<0?(++this.size,o.push([e,n])):o[i][1]=n,this};var Y6=I4(IE,"Map");function yX(e,n){var o,i,c=e.__data__;return((i=typeof(o=n))=="string"||i=="number"||i=="symbol"||i=="boolean"?o!=="__proto__":o===null)?c[typeof n=="string"?"string":"hash"]:c.map}function qk(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var i=e[n];this.set(i[0],i[1])}}function $Ne(e){return e==null?"":RNe(e)}qk.prototype.clear=function(){this.size=0,this.__data__={hash:new Gk,map:new(Y6||X_),string:new Gk}},qk.prototype.delete=function(e){var n=yX(this,e).delete(e);return this.size-=n?1:0,n},qk.prototype.get=function(e){return yX(this,e).get(e)},qk.prototype.has=function(e){return yX(this,e).has(e)},qk.prototype.set=function(e,n){var o=yX(this,e),i=o.size;return o.set(e,n),this.size+=o.size==i?0:1,this};var x9e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function c_e(e){return x9e.test(e)}var UNe="\\ud800-\\udfff",O9e="["+UNe+"]",Hve="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",$ve="\\ud83c[\\udffb-\\udfff]",zNe="[^"+UNe+"]",jNe="(?:\\ud83c[\\udde6-\\uddff]){2}",WNe="[\\ud800-\\udbff][\\udc00-\\udfff]",u_e="(?:"+Hve+"|"+$ve+")?",d_e="[\\ufe0e\\ufe0f]?",I9e=d_e+u_e+"(?:\\u200d(?:"+[zNe,jNe,WNe].join("|")+")"+d_e+u_e+")*",R9e="(?:"+[zNe+Hve+"?",Hve,jNe,WNe,O9e].join("|")+")",k9e=RegExp($ve+"(?="+$ve+")|"+R9e+I9e,"g"),D9e=function(e){var n=c_e(e=$Ne(e))?(function(c){return c_e(c)?(function(d){return d.match(k9e)||[]})(c):(function(d){return d.split("")})(c)})(e):void 0,o=n?n[0]:e.charAt(0),i=n?(function(c,d,p){var v=c.length;return p=p===void 0?v:p,!d&&p>=v?c:(function(S,_,x){var P=-1,B=S.length;_<0&&(_=-_>B?0:B+_),(x=x>B?B:x)<0&&(x+=B),B=_>x?0:x-_>>>0,_>>>=0;for(var H=Array(B);++P<B;)H[P]=S[P+_];return H})(c,d,p)})(n,1).join(""):e.slice(1);return o.toUpperCase()+i};function gO(e){var n=this.__data__=new X_(e);this.size=n.size}gO.prototype.clear=function(){this.__data__=new X_,this.size=0},gO.prototype.delete=function(e){var n=this.__data__,o=n.delete(e);return this.size=n.size,o},gO.prototype.get=function(e){return this.__data__.get(e)},gO.prototype.has=function(e){return this.__data__.has(e)},gO.prototype.set=function(e,n){var o=this.__data__;if(o instanceof X_){var i=o.__data__;if(!Y6||i.length<199)return i.push([e,n]),this.size=++o.size,this;o=this.__data__=new qk(i)}return o.set(e,n),this.size=o.size,this};var M9e=Object.prototype.propertyIsEnumerable,h_e=Object.getOwnPropertySymbols,P9e=h_e?function(e){return e==null?[]:(e=Object(e),(function(n,o){for(var i=-1,c=n==null?0:n.length,d=0,p=[];++i<c;){var v=n[i];o(v)&&(p[d++]=v)}return p})(h_e(e),(function(n){return M9e.call(e,n)})))}:function(){return[]};function f_e(e){return(function(n,o,i){var c=w9e(n);return t4(n)?c:(function(d,p){for(var v=-1,S=p.length,_=d.length;++v<S;)d[_+v]=p[v];return d})(c,i(n))})(e,0,P9e)}var Uve=I4(IE,"DataView"),zve=I4(IE,"Promise"),jve=I4(IE,"Set"),p_e="[object Map]",m_e="[object Promise]",g_e="[object Set]",v_e="[object WeakMap]",y_e="[object DataView]",N9e=q2(Uve),L9e=q2(Y6),B9e=q2(zve),F9e=q2(jve),V9e=q2(Vve),q_=O4;(Uve&&q_(new Uve(new ArrayBuffer(1)))!=y_e||Y6&&q_(new Y6)!=p_e||zve&&q_(zve.resolve())!=m_e||jve&&q_(new jve)!=g_e||Vve&&q_(new Vve)!=v_e)&&(q_=function(e){var n=O4(e),o=n=="[object Object]"?e.constructor:void 0,i=o?q2(o):"";if(i)switch(i){case N9e:return y_e;case L9e:return p_e;case B9e:return m_e;case F9e:return g_e;case V9e:return v_e}return n});var b_e=IE.Uint8Array;function yJ(e){var n=-1,o=e==null?0:e.length;for(this.__data__=new qk;++n<o;)this.add(e[n])}function H9e(e,n){for(var o=-1,i=e==null?0:e.length;++o<i;)if(n(e[o],o,e))return!0;return!1}function S_e(e,n,o,i,c,d){var p=1&o,v=e.length,S=n.length;if(v!=S&&!(p&&S>v))return!1;var _=d.get(e),x=d.get(n);if(_&&x)return _==n&&x==e;var P=-1,B=!0,H=2&o?new yJ:void 0;for(d.set(e,n),d.set(n,e);++P<v;){var U=e[P],z=n[P];if(i)var Z=p?i(z,U,P,n,e,d):i(U,z,P,e,n,d);if(Z!==void 0){if(Z)continue;B=!1;break}if(H){if(!H9e(n,(function(te,ce){if(se=ce,!H.has(se)&&(U===te||c(U,te,o,i,d)))return H.push(ce);var se}))){B=!1;break}}else if(U!==z&&!c(U,z,o,i,d)){B=!1;break}}return d.delete(e),d.delete(n),B}function $9e(e){var n=-1,o=Array(e.size);return e.forEach((function(i,c){o[++n]=[c,i]})),o}function U9e(e){var n=-1,o=Array(e.size);return e.forEach((function(i){o[++n]=i})),o}yJ.prototype.add=yJ.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},yJ.prototype.has=function(e){return this.__data__.has(e)};var C_e=zO?zO.prototype:void 0,nme=C_e?C_e.valueOf:void 0,z9e=Object.prototype.hasOwnProperty,E_e="[object Arguments]",w_e="[object Array]",bX="[object Object]",__e=Object.prototype.hasOwnProperty;function GNe(e,n,o,i,c){return e===n||(e==null||n==null||!e4(e)&&!e4(n)?e!=e&&n!=n:(function(d,p,v,S,_,x){var P=t4(d),B=t4(p),H=P?w_e:q_(d),U=B?w_e:q_(p),z=(H=H==E_e?bX:H)==bX,Z=(U=U==E_e?bX:U)==bX,te=H==U;if(te&&ree(d)){if(!ree(p))return!1;P=!0,z=!1}if(te&&!z)return x||(x=new gO),P||h1e(d)?S_e(d,p,v,S,_,x):(function(Te,V,ke,et,$e,Re,_e){switch(ke){case"[object DataView]":if(Te.byteLength!=V.byteLength||Te.byteOffset!=V.byteOffset)return!1;Te=Te.buffer,V=V.buffer;case"[object ArrayBuffer]":return!(Te.byteLength!=V.byteLength||!Re(new b_e(Te),new b_e(V)));case"[object Boolean]":case"[object Date]":case"[object Number]":return DNe(+Te,+V);case"[object Error]":return Te.name==V.name&&Te.message==V.message;case"[object RegExp]":case"[object String]":return Te==V+"";case"[object Map]":var ut=$9e;case"[object Set]":var ct=1&et;if(ut||(ut=U9e),Te.size!=V.size&&!ct)return!1;var St=_e.get(Te);if(St)return St==V;et|=2,_e.set(Te,V);var ee=S_e(ut(Te),ut(V),et,$e,Re,_e);return _e.delete(Te),ee;case"[object Symbol]":if(nme)return nme.call(Te)==nme.call(V)}return!1})(d,p,H,v,S,_,x);if(!(1&v)){var ce=z&&__e.call(d,"__wrapped__"),se=Z&&__e.call(p,"__wrapped__");if(ce||se){var Se=ce?d.value():d,Ce=se?p.value():p;return x||(x=new gO),_(Se,Ce,v,S,x)}}return!!te&&(x||(x=new gO),(function(Te,V,ke,et,$e,Re){var _e=1&ke,ut=f_e(Te),ct=ut.length;if(ct!=f_e(V).length&&!_e)return!1;for(var St=ct;St--;){var ee=ut[St];if(!(_e?ee in V:z9e.call(V,ee)))return!1}var ln=Re.get(Te),it=Re.get(V);if(ln&&it)return ln==V&&it==Te;var Ht=!0;Re.set(Te,V),Re.set(V,Te);for(var Ut=_e;++St<ct;){var Xe=Te[ee=ut[St]],tn=V[ee];if(et)var eo=_e?et(tn,Xe,ee,V,Te,Re):et(Xe,tn,ee,Te,V,Re);if(!(eo===void 0?Xe===tn||$e(Xe,tn,ke,et,Re):eo)){Ht=!1;break}Ut||(Ut=ee=="constructor")}if(Ht&&!Ut){var In=Te.constructor,mn=V.constructor;In==mn||!("constructor"in Te)||!("constructor"in V)||typeof In=="function"&&In instanceof In&&typeof mn=="function"&&mn instanceof mn||(Ht=!1)}return Re.delete(Te),Re.delete(V),Ht})(d,p,v,S,_,x))})(e,n,o,i,GNe,c))}var ome=function(){return IE.Date.now()},j9e=Math.max,W9e=Math.min,G9e=Object.prototype.hasOwnProperty;class vg{constructor(){this.audioPlaybackUrl=void 0,this.videoPlaybackUrl=void 0,this._audioElement=void 0,this._videoElement=void 0,this.videoSrc=void 0,this.isUsingSameFile=void 0}static getInstance(){return this.instance===void 0&&(this.instance=new vg),this.instance}static destroyInstance(){if(this.instance){this.instance.stopAudioElement(),this.instance.stopVideoElement();const o=document.getElementById(Hpe);var n;o&&((n=o.parentNode)===null||n===void 0||n.removeChild(o)),this.instance=void 0}}setAudioElement(n){return this._audioElement===void 0&&(this._audioElement=new Audio),new Promise(((o,i)=>{if(this.videoSrc===n.url)this._audioElement.pause(),this.isUsingSameFile=!0,this._videoElement.muted=!1,(d=this._videoElement).currentTime>0&&!d.paused&&!d.ended&&d.readyState>2?o(""):this._videoElement.play().then((()=>{o("")})).catch((()=>{i()}));else{var c;this.isUsingSameFile=!1;const p=is.isFirefox?"canplay":"canplaythrough",v=()=>{this._audioElement.play().then((()=>{this._audioElement.removeEventListener(p,v),o("")}))},S=()=>{this._audioElement.removeEventListener(p,v),this._audioElement.removeEventListener("error",S),i()};this._audioElement.addEventListener(p,v),this._audioElement.addEventListener("error",S),this._audioElement.src=n.url,this._audioElement.loop=!!n.loop,My(n.url)&&this._audioElement.setAttribute("crossorigin",""),this._audioElement.currentTime=Math.max((c=n.currentTime)!==null&&c!==void 0?c:0,1e-4),is.isIOSMobile&&this._audioElement.load()}var d}))}setVideoElement(n){const{isFirefox:o,isSafari:i,isIOSMobile:c}=is;return this._videoElement===void 0&&(this._videoElement=document.createElement("video")),new Promise(((d,p)=>{var v;this.videoSrc=n.url;const S=o?"canplay":"canplaythrough",_=()=>{this._videoElement.play().then((()=>{this._videoElement.removeEventListener(S,_),d("")}))},x=()=>{this._videoElement.removeEventListener(S,_),this._videoElement.removeEventListener("error",x),p()};this._videoElement.addEventListener(S,_),this._videoElement.addEventListener("error",x),this._videoElement.src=n.url,this.isUsingSameFile||(this._videoElement.muted=!0),this._videoElement.loop=!!n.loop,this._videoElement.currentTime=Math.max((v=n.currentTime)!==null&&v!==void 0?v:0,1e-4),this._videoElement.playsInline=!0,My(n.url)&&this._videoElement.setAttribute("crossorigin",""),i&&!document.getElementById(Hpe)&&(this._videoElement.id=Hpe,this._videoElement.setAttribute("style","position:fixed;top:-10000px;left:-10000px"),document.body.appendChild(this._videoElement)),(c||i)&&this._videoElement.load()}))}get audioElement(){return this.isUsingSameFile?this._videoElement:this._audioElement}get videoElement(){return this._videoElement}stopAudioElement(){this.isUsingSameFile?this.isUsingSameFile=!1:this._audioElement&&(this._audioElement.currentTime=0,this._audioElement.pause())}stopVideoElement(){this._videoElement&&this._videoElement.pause(),this.videoSrc=void 0}}vg.instance=void 0;const T_e=e=>4294966272&e,sme=e=>{let n={R:0,G:0,B:0,A:0};if(typeof e=="string"&&e.startsWith("#")){const v=e.slice(1);try{if(v.length===3){const S=Array.from(v).map((_=>_.repeat(2))).map((_=>parseInt(_,16)));n={R:S[0]/255,G:S[1]/255,B:S[2]/255,A:1}}else if(v.length===6||v.length===8){var o,i,c,d,p;const S=(o=v.match(/\S{2}/g))===null||o===void 0?void 0:o.map((_=>parseInt(_,16)));n={R:((i=S?.[0])!==null&&i!==void 0?i:0)/255,G:((c=S?.[1])!==null&&c!==void 0?c:0)/255,B:((d=S?.[2])!==null&&d!==void 0?d:0)/255,A:S!=null&&S[3]?((p=S?.[3])!==null&&p!==void 0?p:0)/255:1}}}catch{console.warn("error color representation:",e)}}else typeof e=="object"&&(n={R:e.R/255,G:e.G/255,B:e.B/255,A:e.A||1});return n};function xte(e){let{captureWidth:n=0,captureHeight:o=0}=e||{};const{hd:i}=e||{};var c,d;return n!==0&&o!==0||(i&&zs.isSupportSending720P()?(n=1280,o=720):(n=640,o=360)),{captureWidth:n,captureHeight:o,isCustomizedResolution:!(e==null||!e.captureWidth||!e.captureHeight||(c=n,d=o,Math.abs(Math.floor(c/d*10)-Math.floor(16/9*10))<=1))}}function qNe(e,n){return e==="default"||n.some((o=>o.deviceId===e))||[e2.Environment,e2.User,e2.Left,e2.Right].includes(e)}function f1e(e,n){if(typeof DOMMatrixReadOnly=="function"){if(e.dataset.mirrored==="1"===n)return;const o=new DOMMatrixReadOnly(getComputedStyle(e).transform).scale(-1,1).toString();e.style.transform=o,e.dataset.mirrored=n?"1":"0"}}function KNe(e,n,o){const i=[],{video:{videoSsrc:c,activeCamera:d},meeting:{mediaFeatureOptions:p}}=n,{cameraId:v=d,videoElement:S,originalRatio:_,ptz:x,hd:P,fullHd:B,mediaFile:H,fps:U,mirrored:z,customVideoConstraints:Z}=o||{};let te;if(S!==void 0){let V=iT(S)?S:null;if(typeof S=="string"){let[ke,et]=[document.body,S];if(S.indexOf(">")>-1){const[$e,Re]=S.split(">");ke=document.querySelector($e),et=Re}ke&&(V=ke.querySelector(et))}if(!V)return[];te=V,V.id||(V.id=aT("__ZOOM_SDK_SELF_VIDEO_@__")),z!==void 0&&f1e(V,z)}let ce=U??Upe.Default;ce=Math.max(Upe.Min,ce),ce=Math.min(Upe.Max,ce);const{captureWidth:se,captureHeight:Se,isCustomizedResolution:Ce}=xte(o);if(Ce)e.updateVideoHDValue(!1);else{e.updateVideoHDValue(!!P||!!B);const V=!!B&&zs.isSupportFullHDVideo(p||"");e.updateVideoFullhdValue(V)}let Te=Promise.resolve(v);if(H&&H.url){const V=vg.getInstance();Te=V.setVideoElement(H).then((()=>V.videoElement))}else vg.getInstance().stopVideoElement();return Te.then((V=>{e.startCaptureVideo(c,V,se,Se,te,is.isAndroidOrIOSBrowser&&xz.includes(V),!_&&(function(){var ke,et;const{isAndroidOrIOSBrowser:$e,isFirefox:Re,isSafari:_e}=is;return $e||!((ke=navigator.mediaDevices)!==null&&ke!==void 0&&(et=ke.getSupportedConstraints)!==null&&et!==void 0&&et.call(ke).aspectRatio)||Re||_e||IDe()})(),x,U!==void 0?ce:void 0,Z)})),i.push(fNe({cameraId:v,captureWidth:se,captureHeight:Se,videoElement:typeof S=="string"?S:iT(S)?zPe(S):void 0,originalRatio:_,ptz:x,hd:P,fullHd:B,mediaFile:H,fps:U!==void 0?ce:void 0,mirrored:z,customVideoConstraints:Z})),i}function ZNe(e,n,o){const{max:i,min:c,step:d}=e;let p=o/100*(i-c);d&&(p=Math.min(Math.floor(p/d)*d,Math.floor(p)));let v=n+p;return v=Math.min(i,v),v=Math.max(c,v),v}function YNe(e,n){let o="",i=n;switch(e){case aO.Down:i=-n,o="tilt";break;case aO.Up:o="tilt";break;case aO.Left:i=-n,o="pan";break;case aO.Right:o="pan";break;case aO.ZoomIn:o="zoom";break;case aO.ZoomOut:i=-n,o="zoom"}return{key:o,range:i}}function p1e(e){const n=["pan","tilt","zoom"].reduce(((o,i)=>e[i]&&e[i].value!==0?{...o,[i]:e[i].value}:o),{});return(function(o){if(o==null)return!0;if(PNe(o)&&(t4(o)||typeof o=="string"||typeof o.splice=="function"||ree(o)||h1e(o)||BNe(o)))return!o.length;var i=q_(o);if(i=="[object Map]"||i=="[object Set]")return!o.size;if(NNe(o))return!HNe(o).length;for(var c in o)if(G9e.call(o,c))return!1;return!0})(n)?null:n}function XNe(e){return{pan:(e&NL.Pan)===NL.Pan,tilt:(e&NL.Tilt)===NL.Tilt,zoom:(e&NL.Zoom)===NL.Zoom}}function r2(e){return!!e||zs.isRenderSelfViewWithVideoElement()}function A_e(e){const{errorCode:n,type:o,...i}=e??{},c={...i};let d;return n!==void 0&&Object.assign(c,{subCode:n}),o===kQ?d=ht.VIDEO_NO_CAMERA:o===DQ?d=ht.VIDEO_MISMATCH_CAMERA:o===MQ?d=ht.VIDEO_CAMERA_PERMISSION_DENIED:o===Y0e?d=ht.VIDEO_ESTABLISH_STREAM_ERROR:o===PQ?d=ht.VIDEO_CAMERA_TAKEN:o===Z0e&&(d=ht.VIDEO_VB_INITIALIZE_ERROR),Object.assign(c,{errorCode:d,type:o}),c}function x_e(e,n,o){const{video:{selfPreviewVideoList:i,customizedVideoOption:c,videoAttachments:d},meeting:{userId:p}}=o;if(r2()){const v=[];i.length>0&&i.forEach((S=>{v.push(document.getElementById(S))})),c!=null&&c.videoElement&&v.push(document.querySelector(c?.videoElement)),d&&d[`${p}`]&&d[`${p}`].forEach((S=>{var _;v.push(S==null||(_=S.render)===null||_===void 0?void 0:_.el)})),v.filter((S=>!!S)).forEach((S=>{S&&f1e(S,e)}))}else n.mirrorVideo(e)}let mE,O3;async function JNe(e,n,o){const i=aT(e),c=document.createElement("img");return c.src=n,c.id=i,c.style.display="none",My(n)&&c.setAttribute("crossorigin",""),await new Promise(((d,p)=>{c.onload=()=>{o&&URL.revokeObjectURL(n),d("")},c.onerror=()=>{o&&URL.revokeObjectURL(n),p("Cannot load  image.")}})),{imageId:i,imgElement:c}}async function Pz(e,n,o){if(e===K3)return K3;{let i=e;if(n){const c=await(function(d){return new Promise(((p,v)=>{try{mE&&O3||(mE=document.createElement("canvas"),O3=mE.getContext("2d"));const S=mE,_=O3;if(_){_.clearRect(0,0,mE.width,mE.height);const x=new Image;x.src=d,My(d)&&(x.crossOrigin="");const P=16/9,B=1280,H=Math.floor(B/P);S.width=B,S.height=H,x.onload=()=>{const{width:U,height:z}=x,Z=z*P;if(Z>U){const te=U,ce=Math.floor(U/P),se=0,Se=(z-ce)/2;_?.drawImage(x,se,Se,te,ce,0,0,B,H)}else{const te=Z,ce=z,se=(U-te)/2;_.drawImage(x,se,0,te,ce,0,0,B,H)}try{S.toBlob((te=>{p(te)}))}catch(te){te instanceof DOMException&&te.code===DOMException.SECURITY_ERR&&console.error("Image is not from the same origin, add CORS header to solve this issue"),v(te)}},x.onerror=U=>{v("Cannot load  image.")}}}catch(S){v(S)}}))})(e);i=URL.createObjectURL(c)}if(i){const{imageId:c,imgElement:d}=await JNe("__ZOOM_SDK_VIRTUAL_BACKGROUND_IMAGE_@__",i,!!n);return(o??document.body).appendChild(d),c}}return null}async function QNe(e,n,o){var i;const c=(i=o&&o.parentNode)!==null&&i!==void 0?i:document.body,{imageUrl:d,cropped:p,rootWidth:v,rootHeight:S}=e;let _=e;!n.video.customizedVideoOption||e.captureWidth&&e.captureHeight||(_=n.video.customizedVideoOption);const{captureWidth:x,captureHeight:P}=xte(_),B=document.createElement("div");let H;B.style.display="none",H=d?await Pz(d,p,B):null;let U,z=aT("__ZOOM_SDK_VIRTUAL_BACKGROUND_CANVAS_@__");if(o)if(A4(o)){const Z=GQ(o);Z.id?z=Z.id:Z.id=z,U=Z;try{v&&o.width!==v&&(o.width=v),S&&o.height!==S&&(o.height=S)}catch{console.warn("Cannot set the canvas width/height, and pay attention the canvas dimension is different from the setting")}}else o.setAttribute("node-id",z),o.setAttribute("media-type","preview"),U=o;else{const Z=document.createElement("canvas");Z.width=v??380,Z.height=S??214,Z.id=z,U=Z,B.appendChild(Z)}return c?.appendChild(B),{captureWidth:x,captureHeight:P,imageId:H,element:U,divElement:B,id:z}}async function O_e(e,n,o,i){const c=Array.isArray(e)?e:e&&[e];if(c?.length>0){mE&&O3||(mE=document.createElement("canvas"),O3=mE.getContext("2d"));const d=mE,p=O3;if(d.width=n,d.height=o,p)try{p.fillStyle="#fff",p.clearRect(0,0,n,o);for(let S=0;S<c.length;S++){const _=c[S],{type:x,x:P,y:B}=_;if(x==="rectangle"){const{width:H,height:U}=_;p.fillRect(P,B,H,U)}else if(x==="square"){const{length:H}=_;p.fillRect(P,B,H,H)}else if(x==="circle"){const{radius:H}=_;p.beginPath(),p.arc(P,B,H,0,2*Math.PI),p.fill()}else if(x==="svg"){const{svg:H,width:U,height:z}=_,Z=new Image;Z.src=H,My(H)&&(Z.crossOrigin=""),await new Promise(((se,Se)=>{Z.onload=()=>{se("")},Z.onerror=()=>{Se()}}));const{width:te,height:ce}=Z;p.drawImage(Z,0,0,te,ce,P,B,U,z)}}const v=await new Promise((S=>{d?.toBlob((_=>{S(_)}))}));if(v){const S=URL.createObjectURL(v),{imageId:_,imgElement:x}=await JNe("__ZOOM_SDK_MASK_CLIP_@__",S,!0);return(i??document.body).appendChild(x),_}}catch(v){v instanceof DOMException&&v.code===DOMException.SECURITY_ERR&&console.error("Image is not from the same origin, add CORS header to solve this issue")}}return null}function I_e(e,n){if(e===n||e==null&&n==null)return!0;const o=Array.isArray(e)?[...e]:[e],i=Array.isArray(n)?[...n]:[n];if(o.length!==i.length)return!1;const c=(d,p)=>d.type<p.type?-1:d.type===p.type?0:1;o.sort(c),i.sort(c);for(let d=0;d<o.length;d++)if(!Mz(o[d],i[d]))return!1;return!0}function bJ(e,n,o,i){const{video:{isCurrentUserStartedVideo:c,virtualBackground:{isVBPreloadReady:d,isVBConfigured:p,imageSrc:v},backgroundMode:S},meeting:{isCurrentUserStartVideoBeforeReset:_,isUseWBVideo:x}}=o;return hc((function(P){return P!==void 0?lo([P]):Aa(NQ,1).pipe(Do((B=>B)))})(d)).then((P=>{if(P){if(i||!p&&e.imageUrl!==K3&&e.imageUrl){if(A4(i)){if(x)return Promise.reject({reason:"When you are in a WebRTC Video meeting, please use VideoPlayer to preview the virtual background.",errorCode:ht.STREAM_MISMATCH_RENDER_ELEMENT});console.warn("The canvas element will be deprecated. Please use the Videoplayer element to preview the virtual background.")}return(async function(B,H,U,z){const{element:Z,imageId:te,captureHeight:ce,captureWidth:se,divElement:Se,id:Ce}=await QNe(B,U,z),{cameraId:Te}=B,{video:{videoSsrc:V,activeCamera:ke}}=U;return H.startVirtualBackgroundSetting(Z,te,V,Te??ke,se,ce,void 0,Ce),Se})(e,n,o,i).then((B=>c?JQ(!0):hc(Aa(Qge,1)).then((H=>{var U;return i||n.stopVirtualBackgroundSetting(),H?(B==null||(U=B.parentNode)===null||U===void 0||U.removeChild(B),!0):Promise.reject({reason:"Cannot access the virtual background image.",errorCode:ht.VIDEO_VB_IMAGE_INACCESSIBLE})}))))}return v===e.imageUrl&&S===Eh.VirtualBackground&&!_||(async function(B,H,U){const{imageUrl:z,cropped:Z}=B;if(z){const te=await Pz(z,Z);te&&(U.video.backgroundMode===Eh.Mask&&(H.stopMaskSetting(!0),await Ete((()=>{H.stopVirtualBackgroundSetting()}),0)),H.updateVirtualBackgroundImage(te),te!==K3&&setTimeout((()=>{$6(te)}),0))}else H.updateVirtualBackgroundImage(null)})(e,n,o)}return Promise.reject({reason:"Cannot load virtual background model.",errorCode:ht.VIDEO_VB_MISMATCH_STATE})}))}function SJ(e,n,o,i){const{video:{mask:{isMaskConfigured:c,imageSrc:d,clip:p},backgroundMode:v,isCurrentUserStartedVideo:S},meeting:{isCurrentUserStartVideoBeforeReset:_}}=o;return i||!c&&e.imageUrl?(async function(x,P,B,H){const{element:U,imageId:z,captureHeight:Z,captureWidth:te,divElement:ce}=await QNe(x,B,H),{cameraId:se,clip:Se,rootWidth:Ce=1280,rootHeight:Te=720}=x,V=Se?await O_e(Se,Ce,Te,ce):null,{video:{videoSsrc:ke,activeCamera:et}}=B;return V?(P.startMaskSetting(U,z,V,ke,se??et,Ce,Te,te,Z),ce):Promise.reject({reason:"Clip is empty",errorCode:ht.VIDEO_MASK_IMAGE_INACCESSIBLE})})(e,n,o,i).then((x=>S?see(!0):hc(Aa(sve,1)).then((P=>{var B;return i||n.stopMaskSetting(),P?(x==null||(B=x.parentNode)===null||B===void 0||B.removeChild(x),!0):Promise.reject({reason:"Cannot set video mask",errorCode:ht.VIDEO_MISMATCH_STATE})})))):v===Eh.Mask&&e.imageUrl===d&&I_e(e.clip,p)&&!_?Promise.resolve(!0):(async function(x,P,B){const{imageUrl:H,cropped:U,clip:z,rootWidth:Z,rootHeight:te}=x,{video:{mask:{imageSrc:ce,cropped:se,clip:Se},backgroundMode:Ce}}=B;if(H){if(Ce===Eh.VirtualBackground&&(P.stopVirtualBackgroundSetting(!0),await Ete((()=>{P.stopMaskSetting()}),0)),H!==ce||U!==se){const Te=await Pz(H,U);Te&&(P.updateMaskBackgroundImage(Te),setTimeout((()=>{$6(Te)}),0))}if((!I_e(z,Se)||!ce)&&z&&Z&&te){const Te=await O_e(z,Z,te);Te&&(P.updateMaskClip(Te,Z,te),setTimeout((()=>{$6(Te)}),0))}}else P.updateMaskBackgroundImage(null),P.updateMaskClip(null,Z,te)})(e,n,o)}var hl,X6;(function(e){e[e.ADD_RENDER_VIDEO=1]="ADD_RENDER_VIDEO",e[e.STOP_RENDER_VIDEO=2]="STOP_RENDER_VIDEO",e[e.START_SHARING=23]="START_SHARING",e[e.STOP_SHARING=24]="STOP_SHARING",e[e.ZOOM_SHARING=140]="ZOOM_SHARING",e[e.START_SHARE_PREVIEW=37]="START_SHARE_PREVIEW",e[e.STOP_SHARE_PREVIEW=38]="STOP_SHARE_PREVIEW",e[e.SWITCH_CANVAS_FOR_VIDEO_CAPTURE=25]="SWITCH_CANVAS_FOR_VIDEO_CAPTURE",e[e.UPDATE_SHARING_DECODE_PARAM=44]="UPDATE_SHARING_DECODE_PARAM",e[e.UPDATE_CANVAS_SIZE=46]="UPDATE_CANVAS_SIZE",e[e.ZOOM_RENDER=48]="ZOOM_RENDER",e[e.UPDATE_SETTING_CANVAS_SIZE=52]="UPDATE_SETTING_CANVAS_SIZE",e[e.REMOVE_EXPIRED_CANVAS=76]="REMOVE_EXPIRED_CANVAS",e[e.WEBGL_LOST_REPLACE_CANVAS=77]="WEBGL_LOST_REPLACE_CANVAS",e[e.UPDATE_VIDEO_QUALITY=78]="UPDATE_VIDEO_QUALITY",e[e.SEND_RENDER_LOG=79]="SEND_RENDER_LOG",e[e.ADD_VIDEO_VB_SETTING_DOM=102]="ADD_VIDEO_VB_SETTING_DOM",e[e.REMOVE_VIDEO_VB_SETTING_DOM=103]="REMOVE_VIDEO_VB_SETTING_DOM",e[e.UPDATE_BORDER_RADIUS=104]="UPDATE_BORDER_RADIUS"})(hl||(hl={})),(function(e){e[e.WEBGL_LOST_IN_MULTI_VIEW=-32]="WEBGL_LOST_IN_MULTI_VIEW",e[e.MOBILE_CAPTURE_DEVICE_CHANGE=135]="MOBILE_CAPTURE_DEVICE_CHANGE",e[e.SELF_PREVIEW_WATERMARK_CHANGE=139]="SELF_PREVIEW_WATERMARK_CHANGE"})(X6||(X6={}));const J6="default-sesssion-key";var I3,R_e,k_e,J_,bE;(function(e){e.Video="video",e.Share="share",e.Preview="preview"})(I3||(I3={})),(function(e){e.DEFAULT="",e.MAIN="main"})(R_e||(R_e={})),(function(e){e.Video_90P="0",e.Video_180P="1",e.Video_360P="2",e.Video_720P="3",e.Video_1080P="4"})(k_e||(k_e={})),(function(e){e[e.Unknown=0]="Unknown",e[e.VideoTag=1]="VideoTag",e[e.WebGL=2]="WebGL",e[e.WebGL2=3]="WebGL2",e[e.WebGPU=4]="WebGPU"})(J_||(J_={})),(function(e){e.Debounce="debounce",e.Throttle="throttle",e.None="none"})(bE||(bE={}));const Qh=new class{constructor(){this.state={mediaSDK:void 0,mediaSDKInstanceMap:new Map,tagName:"video-player",renderCountMap:new Map},this.onceMap=new WeakMap,this.subscribers=[]}get(e){return this.state[e]}dispatch(e,n,o){n&&Object.assign(this.state,n),e&&this.notifySubscribers(e,o)}subscribe(e){return this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);n!==-1&&this.subscribers.splice(n,1)}}once(e,n){this.onceMap.set(n,{event:e,unSubscribe:this.subscribe(n)})}notifySubscribers(e,n){const o=[];this.subscribers.forEach((i=>{i(e,this.state,n);const c=this.onceMap.get(i);if(c){const{event:d,unSubscribe:p}=c;d===e&&(o.push(p),this.onceMap.delete(i))}})),o.forEach((i=>i()))}};function BL(e,n,o,i,c,d=!1){const p=document.createElement("canvas");p.id=i;const v=oLe(p,e,n);return c(`VPISC:${window.devicePixelRatio},${v}`),p.style.position="absolute",p.style.left="0px",p.style.top="0px",p.style.width=e+"px",p.width=e*xO(p),p.style.height=n+"px",p.height=n*xO(p),p.style.zIndex=o,d||(p.style.pointerEvents="none",p.ariaHidden="true"),p}function Ux(e,n,o=!0,i=window,c){c?.("VPACE:"+e?.id+":"+(i!==window));const d=()=>{if(e){Qh.dispatch("resize",void 0,e.id),oLe(e,n.clientWidth,n.clientHeight),o&&[hl.UPDATE_CANVAS_SIZE,hl.UPDATE_SHARING_DECODE_PARAM].forEach((P=>{var B,H;(H=xS((B=n?.getSessionId)===null||B===void 0?void 0:B.call(n)))===null||H===void 0||H.Notify_MeidaSDK(P,{width:n.clientWidth*xO(e),height:n.clientHeight*xO(e),canvas:e})})),e.style.width=n.clientWidth+"px",e.style.height=n.clientHeight+"px";try{e.width=n.clientWidth*xO(e),e.height=n.clientHeight*xO(e)}catch{}}},p=Wve(d,300),v=(function(P){let B,H=0;return function(...U){const z=Date.now(),Z=z-H;!H||Z>=300?(P(...U),H=z):B||(B=setTimeout((()=>{P(...U),H=Date.now(),B=null}),300-Z))}})(d),S=()=>{var P;switch(((P=n?.getResizeStrategy)===null||P===void 0?void 0:P.call(n))||bE.Debounce){case bE.Debounce:p();break;case bE.Throttle:v();break;case bE.None:d();break;default:p()}},_=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),x=new i.ResizeObserver(S);return _.addEventListener("change",S),x.observe(n),()=>{c?.("VPRCE:"+e?.id+":"+(i!==window)),(function(P){iee.delete(P)})(e),x?.disconnect(),_.removeEventListener("change",S)}}function eLe(e,n){Object.defineProperties(e,n.reduce(((o,i)=>(o[i]={get:()=>e.getAttribute(i),set:c=>{c?e.setAttribute(i,c):e.removeAttribute(i)}},o)),{}))}function tLe(e,n){Object.entries(n).forEach((([o,i])=>{e.getAttribute(o)||e.setAttribute(o,i)}))}function D_e(e,n){const o=e.getAttribute(n);return!(!o||o!=="true")}function xS(e=J6){var n;return(n=Qh.get("mediaSDKInstanceMap").get(e))===null||n===void 0?void 0:n()}function R4(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();let e=new Date().getTime(),n=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(o=>{let i=16*Math.random();return e>0?(i=(e+i)%16|0,e=Math.floor(e/16)):(i=(n+i)%16|0,n=Math.floor(n/16)),(o==="x"?i:3&i|8).toString(16)}))}function Wve(e,n){let o;return function(...i){clearTimeout(o),o=setTimeout((()=>{e(...i)}),n)}}function nLe(e,n){const o=Object.keys(e),i=Object.keys(n);if(o.length!==i.length)return!1;for(const c of o){const d=e[c],p=n[c];if(typeof d=="object"&&typeof p=="object"){if(!nLe(d,p))return!1}else if(d!==p)return!1}return!0}function zx(e){return!e||e==="0"}const iee=new Map;function oLe(e,n,o){const i=n>=2*window.screen.width||o>=2*window.screen.height?1:window.devicePixelRatio,c=iee.get(e);return iee.set(e,i),c&&c!==i&&Qh.dispatch("scale",void 0,e.id),i}function xO(e){return e&&iee.get(e)||window.devicePixelRatio}function Vf(e,n){n&&e?.Notify_MeidaSDK(hl.SEND_RENDER_LOG,{message:n})}function M_e(e,n){const o=Qh.get("renderCountMap"),i=o.get(e)||0;o.set(e,n?i+1:i-1)}function P_e(){return window.self!==window.top?window.top:window.self}function N_e(e){const n=U=>{const z=U.match(/^(\d+(?:\.\d+)?)(px|%)?$/);return z?{value:parseFloat(z[1]),unit:z[2]||"px"}:{value:0,unit:"px"}},o=e.split(/[\s\/]+/).filter((U=>U));let i=[],c=[];e.includes("/")?[i,c]=e.split("/").map((U=>U.trim().split(/\s+/))):(i=[...o],c=[...o]);const d=U=>{switch(U.length){case 1:return[U[0],U[0],U[0],U[0]];case 2:return[U[0],U[1],U[0],U[1]];case 3:return[U[0],U[1],U[2],U[1]];case 4:return U;default:return["0","0","0","0"]}},[p,v,S,_]=d(i).map(n),[x,P,B,H]=d(c).map(n);return{topLeft:{x:p,y:x},topRight:{x:v,y:P},bottomRight:{x:S,y:B},bottomLeft:{x:_,y:H}}}function rme(e,n){const{left:o,top:i,bottom:c,right:d,width:p,height:v}=e.getBoundingClientRect(),S=n.getBoundingClientRect();return{left:o-S.left,top:i-S.top,bottom:S.bottom-c,right:S.right-d,width:p,height:v}}const sLe=[];for(let e=0;e<=1;e+=.01)sLe.push(e);let Ote=class{constructor(e,n){var o;if(this.getRenderParams=n,this.el=document.createElement("div"),this.position=null,this.id="",this.srcObject=null,this.removePositionObserve=null,this.viewId=`${Qh.get("tagName")}-${R4()}`,this.borderRadius=null,this.getSDK=()=>{var i,c;return xS((c=(i=this.container)===null||i===void 0?void 0:i.getSessionId)===null||c===void 0?void 0:c.call(i))},!e)throw new Error(`The ${Qh.get("tagName")} must have a ${Qh.get("tagName")}-container as its ancestor element.`);this.container=e,this.el.style.width="100%",this.el.style.height="100%",this.debounceUpdateVideoPosition=((o=e?.getResizeStrategy)===null||o===void 0?void 0:o.call(e))!==bE.None?Wve(this.updateVideoPosition.bind(this),300):this.updateVideoPosition.bind(this)}getElement(){return this.el}init(e){e?.borderRadius&&(this.borderRadius=e?.borderRadius),this.removeSubscribe=Qh.subscribe(((n,o,i)=>{i===this.getCanvas().id&&(n==="resize"?(this.updateVideoPosition(),setTimeout((()=>{this.updateVideoPosition()}),300)):n==="scale"&&Vf(this.getSDK(),`VPSC:${xO(this.getCanvas())}`))}))}getCanvas(){return this.container.getCanvas()}initObservePosition(){var e,n;this.stopObservePosition(),this.removePositionObserve=(function(o,i,c={}){const{wrapper:d=document.documentElement}=c,p=c.strategy===bE.None?i:Wve(i,300);let v,S;const _=(x=.9999999,P=!1)=>{v&&(v.disconnect(),v=null);const{top:B,left:H,width:U,height:z,right:Z,bottom:te}=rme(o,d);if(!U||!z)return void i({hide:!0,cross:!1,width:0,height:0,top:0,left:0,bottom:0,right:0});const ce=B<0||te<0||H<0||Z<0,se=((V,ke,et,$e,Re,_e)=>V<=0&&V+_e<=0||ke<=0&&ke+_e<=0||et<=0&&et+Re<=0||$e<=0&&$e+Re<=0)(B,te,H,Z,U,z),Se={root:d,threshold:ce?sLe:x};ce||(Se.rootMargin=`${-B}px ${-Z}px ${-te}px ${-H}px`);let Ce=!0,Te=!0;P&&(Te=!1),i({hide:se,cross:ce,top:B,left:H,width:U,height:z,bottom:te,right:Z}),p({hide:se,cross:ce,top:B,left:H,width:U,height:z,bottom:te,right:Z},!0),v=new IntersectionObserver((([V])=>{if(V.intersectionRatio===0)return Te?_(.9999999,!0):void 0;if(x!==V.intersectionRatio){if(!Ce)return _();_(V.intersectionRatio===0?1e-7:V.intersectionRatio)}V.intersectionRatio===1&&ce&&_(),Ce=!1}),Se),v.observe(o)};return _(),S=new ResizeObserver((()=>_())),S.observe(o),()=>{v?.disconnect(),v=null,S?.disconnect(),S=null}})(this.el,((o,i)=>{i?setTimeout((()=>{this.updateVideoPosition()}),300):this.debounceUpdateVideoPosition(o)}),{wrapper:this.container,strategy:((n=(e=this.container)===null||e===void 0?void 0:e.getResizeStrategy)===null||n===void 0?void 0:n.call(e))||bE.Debounce})}stopObservePosition(){this.removePositionObserve&&(this.removePositionObserve(),this.removePositionObserve=null)}getCurrentPosition(e){return this.transformRectToPosition(rme(e,this.container))}transformRectToPosition(e){const{left:n,width:o,height:i,bottom:c,top:d}=e,p=xO(this.getCanvas());return{x:n*p,y:c*p,width:o*p,height:i*p,left:n*p,bottom:c*p,top:d*p}}playVideo(e){this.initObservePosition(),typeof e=="string"?this.id=e:this.srcObject=e;const n=this.getCurrentPosition(this.el);this.addRender(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),{canvas:this.getCanvas(),zone:this.viewId,userId:Number(this.id),ssrc:Number(this.id)}),this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{}),this.borderRadius?{borderRadius:this.borderRadius}:{})),this.position=n}updateVideoPosition(e){if(!this.id&&!this.srcObject)return;const n=this.transformRectToPosition(e||rme(this.el,this.container));this.position&&nLe(n,this.position)||(this.zoomRender(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),{userId:Number(this.id),canvas:this.getCanvas(),RGBA:this.container.getRGBA(),zone:this.viewId}),this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{}),this.borderRadius?{borderRadius:this.borderRadius}:{})),this.position=n)}stopVideo(){this.stopObservePosition(),(this.id||this.srcObject)&&this.position&&((this.id||this.srcObject)&&this.stopRender(Object.assign(Object.assign(Object.assign(Object.assign({},this.position),{userId:Number(this.id),canvas:this.getCanvas(),RGBA:this.container.getRGBA(),zone:this.viewId}),this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{})),this.position=null,this.id="",this.srcObject=null)}updateVideoQuality(e){var n;this.id&&((n=this.getSDK())===null||n===void 0||n.Notify_MeidaSDK(hl.UPDATE_VIDEO_QUALITY,{userId:this.id,videoQuality:e}))}updateBorderRadius(e){var n;this.borderRadius=e,this.id&&((n=this.getSDK())===null||n===void 0||n.Notify_MeidaSDK(hl.UPDATE_BORDER_RADIUS,{userId:Number(this.id),zone:this.viewId,data:e}))}refresh(){this.debounceUpdateVideoPosition()}destroy(){var e;this.borderRadius=null,this.stopVideo(),(e=this.removeSubscribe)===null||e===void 0||e.call(this)}},Ite=class{constructor(e){this.container=e,this.id="",this.srcObject=null,this.viewId=`${Qh.get("tagName")}-${R4()}`,this.getSDK=()=>{var n,o;return xS((o=(n=this.container)===null||n===void 0?void 0:n.getSessionId)===null||o===void 0?void 0:o.call(n))},this.el=this.createVideoElement()}createVideoElement(){const e=document.createElement("video");return e.style.width="100%",e.style.height="100%",e.style.borderRadius="inherit",e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.muted=!0,e.setAttribute("playsinline","true"),e}replaceVideoElement(e){const n=this.createVideoElement();e.replaceWith(n),setTimeout((()=>{e.srcObject=null}),50),this.el=n}getElement(){return this.el}init(){}playVideo(e){typeof e=="string"?this.id=e:this.srcObject=e,this.addRender(Object.assign({id:this.id,zone:this.viewId,userId:Number(this.id),videodom:this.el},this.srcObject?{srcObject:this.srcObject}:{}))}stopVideo(){var e;(this.id||this.srcObject)&&(this.stopRender(Object.assign({id:this.id,zone:this.viewId,userId:Number(this.id),videodom:this.el},this.srcObject?{srcObject:this.srcObject}:{})),!((e=this.getSDK())===null||e===void 0)&&e.getWebRTCFlag()&&this.replaceVideoElement(this.el),this.id="",this.srcObject=null)}updateVideoQuality(e){}destroy(){this.stopVideo()}},q9e=class{constructor(e){this.container=e,this.id="",this.srcObject=null,this.getSDK=()=>{var n,o;return xS((o=(n=this.container)===null||n===void 0?void 0:n.getSessionId)===null||o===void 0?void 0:o.call(n))},this.resizeObserver=new ResizeObserver((([n])=>{var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(hl.UPDATE_SETTING_CANVAS_SIZE,{canvas:this.el,width:n.target.clientWidth,height:n.target.clientHeight});try{this.el.width=n.target.clientWidth,this.el.height=n.target.clientHeight}catch{}})),this.el=document.createElement("canvas"),this.el.id=R4(),this.el.style.borderRadius="inherit",this.el.style.width="100%",this.el.style.height="100%"}getElement(){return this.el}init(){this.el.parentElement&&(this.el.width=this.el.parentElement.clientWidth,this.el.height=this.el.parentElement.clientHeight,this.resizeObserver.observe(this.el.parentElement))}playVideo(e){typeof e=="string"?this.id=e:this.srcObject=e,this.addRender({id:this.id,canvas:this.el})}stopVideo(){(this.id||this.srcObject)&&(this.stopRender({id:this.id,canvas:this.el}),this.id="",this.srcObject=null)}updateVideoQuality(e){}destroy(){var e,n,o;this.stopVideo(),this.resizeObserver.disconnect(),(o=xS((n=(e=this.container)===null||e===void 0?void 0:e.getSessionId)===null||n===void 0?void 0:n.call(e)))===null||o===void 0||o.Notify_MeidaSDK(hl.REMOVE_EXPIRED_CANVAS,{canvasId:this.el.id})}},m1e=class{constructor(e,n,o){this.id="",this.srcObject=null,this.viewId=`${Qh.get("tagName")}-${R4()}`,this.ssrcStream=null,this.videoElement=null,this.cursorElement=null,this.hasCursorLayer=!1,this.cursorTransform={tx:0,ty:0,scale:1},this.mirrorState=!1,this.rotation="rot0",this.scale=1,this.containerCssWidth=void 0,this.containerCssHeight=void 0,this.videoWidth=void 0,this.videoHeight=void 0,this.getSDK=()=>{var i,c;return xS((c=(i=this.container)===null||i===void 0?void 0:i.getSessionId)===null||c===void 0?void 0:c.call(i))},this.container=e,this.getRenderParams=n,this.renderMode=o,this.containerElement=this.createDivElement(),this.resizeObserver=new ResizeObserver((([i])=>{this.containerCssWidth=i.target.clientWidth,this.containerCssHeight=i.target.clientHeight,this.ssrcStream&&this.ssrcStream.updateDesiredSize({width:this.containerCssWidth,height:this.containerCssHeight}),this.rotation!=="rot90"&&this.rotation!=="rot270"||this._doRotateVideoContent(this.rotation),this.hasCursorLayer&&this._updateCursorTransform()}))}init(){}destroy(){this.stopVideo()}createDivElement(){const e=document.createElement("div");return e.style.width="100%",e.style.height="100%",e.style.borderRadius="inherit",e}getElement(){return this.containerElement}getAnnoCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getAnnoCanvas()}getPreviewCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getPreviewCanvas()}getLocalShareCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getLocalShareCanvas()}playVideo(e){this.stopVideo(),typeof e=="string"?this.id=e:this.srcObject=e;let n=0;this.renderMode!=="vb"&&(n=Number(this.id));const o=getComputedStyle(this.getElement()),i=parseFloat(o.width),c=parseFloat(o.height);this.addVideoElement(),this.ssrcStream=this.createSsrcStream(n,this.videoElement,{width:i,height:c}),this.videoElement.srcObject=this.ssrcStream.mediaStream,this.resizeObserver.observe(this.containerElement),this.addRender(Object.assign(Object.assign({id:this.id,x:0,y:0,width:i,height:c,left:0,top:0,bottom:c,canvas:this.containerElement,zone:this.viewId,userId:Number(this.id),ssrc:Number(this.id)},this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{}))}stopVideo(){var e;if(!this.id&&!this.srcObject)return;const n=getComputedStyle(this.getElement()),o=parseFloat(n.width),i=parseFloat(n.height);this.clear(),this.stopRender(Object.assign(Object.assign({id:this.id,x:0,y:0,width:o,height:i,left:0,top:0,bottom:i,userId:Number(this.id),canvas:this.containerElement,RGBA:(e=this.container)===null||e===void 0?void 0:e.getRGBA(),zone:this.viewId},this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{})),this.id="",this.srcObject=null}updateVideoQuality(e){}clear(){this.removeVideoElement(),this.removeCursorElement(),this.resizeObserver.disconnect(),this.containerCssWidth=void 0,this.containerCssHeight=void 0,this.ssrcStream&&(this.ssrcStream.stop(),this.ssrcStream=null)}addVideoElement(){this.removeVideoElement();const e=document.createElement("video");e.style.width="100%",e.style.height="100%",e.style.borderRadius="inherit",e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.muted=!0,e.setAttribute("playsinline","true"),this.containerElement.appendChild(e);const n=getComputedStyle(this.containerElement);this.containerCssWidth=parseFloat(n.width),this.containerCssHeight=parseFloat(n.height),this.videoElement=e}removeVideoElement(){if(this.videoElement===null)return;this.videoElement.remove();const e=this.videoElement;setTimeout((()=>{e.srcObject=null}),50),this.videoElement=null}addCursorElement(){this.removeCursorElement();const e=document.createElement("canvas");return e.style.borderRadius="inherit",e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.visibility="hidden",this.containerElement.appendChild(e),this.cursorElement=e,this.hasCursorLayer=!0,this._updateCursorTransform(),e}removeCursorElement(){const e=this.cursorElement;e!==null&&(e.remove(),this.cursorElement=null,this.hasCursorLayer=!1)}createSsrcStream(e,n,o){const i=this.getSDK().createSsrcStreamWithRender(e,n,this.renderMode,o);return i.on("addCursorTrack",(c=>{this.addCursorElement(),i.cursorTrack.renderTarget=this.cursorElement,c.on("cursorMove",(d=>{this.onCursorMove(d)}))})),i.metaTrack.on("videoRotationChange",(c=>{this.handleVideoRotated(c)})),i.metaTrack.on("videoMirrorChange",(c=>{this.handleMirrorStateChanged(c)})),i.metaTrack.on("videoSizeChange",((c,d)=>{this.handleVideoSizeChanged(c,d)})),i}_updateCursorTransform(){this.videoWidth&&this.containerCssWidth&&(this.cursorTransform.scale=this.containerCssWidth/this.videoWidth)}onCursorMove(e){if(!this.videoWidth||!this.containerCssWidth)return;this.getSDK().base.assertion.assert(this.cursorElement!==null);const n=this.cursorElement;n.style.visibility="visible";const o=this.cursorTransform.scale;n.style.top=e.y*o+"px",n.style.left=e.x*o+"px",n.style.width=e.width*o+"px",n.style.height=e.height*o+"px"}_doRotateVideoContent(e){const n={rot0:0,rot90:90,rot180:180,rot270:270}[e];this.getSDK().base.assertion.assert(this.videoElement!==null);const o=this.videoElement;let i=o.style.transform;const c=`rotate(${n}deg)`;i.includes("rotate")?i=i.replace(/rotate\([0-9]+(deg)?\)/,c):i+=` ${c}`,o.style.transform=i,o.style.transformOrigin="center";let d=1;if((e==="rot90"||e==="rot270")&&this.videoWidth&&this.videoHeight){const v=this.videoHeight/this.videoWidth,S=this.containerCssWidth,_=this.containerCssHeight;if(d=_/S,S>_){const x=v/(_/S);x>1&&(d*=x)}else{const x=v/(S/_);x>1&&(d/=x)}}const p=this.mirrorState?-1:1;this._scaleVideoContent(p*d,d),this.scale=d,this.rotation=e}handleVideoRotated(e){this.rotation!==e&&this._doRotateVideoContent(e)}handleMirrorStateChanged(e){const n=e?-1:1,o=this.scale;this._scaleVideoContent(n*o,o),this.mirrorState=e}_scaleVideoContent(e,n){this.getSDK().base.assertion.assert(this.videoElement!==null);const o=this.videoElement;let i=o.style.transform;const c=`scaleX(${e})`;i.includes("scaleX")?i=i.replace(/scaleX\(-?([0-9]+(\.[0-9]*)?)\)/,c):i+=c;const d=`scaleY(${n})`;i.includes("scaleY")?i=i.replace(/scaleY\(-?([0-9]+(\.[0-9]*)?)\)/,d):i+=d,o.style.transform=i,o.style.transformOrigin="center"}handleVideoSizeChanged(e,n){this.videoWidth===e&&this.videoHeight===n||(this.videoWidth=e,this.videoHeight=n,this.rotation!=="rot90"&&this.rotation!=="rot270"||this._doRotateVideoContent(this.rotation),this.hasCursorLayer&&this._updateCursorTransform())}};class K9e extends m1e{constructor(n,o){super(n,o,"normal")}addRender({width:n,height:o,x:i,y:c,canvas:d,zone:p,userId:v,left:S,bottom:_,top:x,fillMode:P,videoQuality:B}){var H;(H=this.getSDK())===null||H===void 0||H.Notify_MeidaSDK(hl.ADD_RENDER_VIDEO,{width:n,height:o,x:i,y:c,canvas:d,zone:p,userId:v,left:S,bottom:_,top:x,fillMode:P,videoQuality:B})}stopRender({width:n,height:o,x:i,y:c,userId:d,canvas:p,doNotClean:v,RGBA:S,zone:_,left:x,bottom:P,top:B,videoQuality:H}){var U;(U=this.getSDK())===null||U===void 0||U.Notify_MeidaSDK(hl.STOP_RENDER_VIDEO,{width:n,height:o,x:i,y:c,userId:d,canvas:p,doNotClean:v,RGBA:S,zone:_,left:x,bottom:P,top:B,videoQuality:H})}}let Z9e=class extends m1e{constructor(e,n){super(e,n,"sharing")}addRender({width:e,height:n,canvas:o,ssrc:i}){var c,d;(c=this.getSDK())===null||c===void 0||c.Notify_MeidaSDK(hl.START_SHARING,Object.assign({width:e,height:n,canvas:o,ssrc:i,annoCanvas:this.getAnnoCanvas(),annoPresenterCanvas:this.getPreviewCanvas(),localShareCanvas:this.getLocalShareCanvas()},(d=this.getRenderParams)===null||d===void 0?void 0:d.call(this)))}stopRender({canvas:e}){var n;(n=this.getSDK())===null||n===void 0||n.Notify_MeidaSDK(hl.STOP_SHARING,{canvas:e})}},Y9e=class extends m1e{constructor(e,n){super(e,n,"vb")}addRender({id:e,canvas:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(hl.ADD_VIDEO_VB_SETTING_DOM,{id:e,canvas:n})}stopRender({id:e,canvas:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(hl.REMOVE_VIDEO_VB_SETTING_DOM,{id:e,canvas:n})}},X9e=class extends Ote{addRender({width:e,height:n,x:o,y:i,canvas:c,zone:d,userId:p,left:v,bottom:S,top:_,fillMode:x,videoQuality:P}){var B;this.getSDK()&&(M_e(this.container,!0),(function(H){var U,z;const Z=Qh.get("renderCountMap").get(H)||0,te=((z=(U=JsMediaSDK_Instance==null?void 0:JsMediaSDK_Instance.util)===null||U===void 0?void 0:U.getMaxCountRender)===null||z===void 0?void 0:z.call(U))||25,ce=Z>=0&&Z<=te,se=Qh.get("tagName");ce||console.error(`In your environment, the maximum number of ${se} that can be accommodated in each ${se}-container is ${te}. The current number has exceeded this limit, which may cause video rendering issues.`)})(this.container)),(B=this.getSDK())===null||B===void 0||B.Notify_MeidaSDK(hl.ADD_RENDER_VIDEO,{width:e,height:n,x:o,y:i,canvas:c,zone:d,userId:p,left:v,bottom:S,top:_,fillMode:x,videoQuality:P})}zoomRender({width:e,height:n,x:o,y:i,userId:c,canvas:d,RGBA:p,zone:v,left:S,bottom:_,top:x}){var P;(P=this.getSDK())===null||P===void 0||P.Notify_MeidaSDK(hl.ZOOM_RENDER,{width:e,height:n,x:o,y:i,userId:c,canvas:d,RGBA:p,zone:v,left:S,bottom:_,top:x})}stopRender({width:e,height:n,x:o,y:i,userId:c,canvas:d,doNotClean:p,RGBA:v,zone:S,left:_,bottom:x,top:P,videoQuality:B}){var H;this.getSDK()&&M_e(this.container,!1),(H=this.getSDK())===null||H===void 0||H.Notify_MeidaSDK(hl.STOP_RENDER_VIDEO,{width:e,height:n,x:o,y:i,userId:c,canvas:d,doNotClean:p,RGBA:v,zone:S,left:_,bottom:x,top:P,videoQuality:B})}};class J9e extends Ite{addRender({userId:n,videodom:o,zone:i}){var c;(c=this.getSDK())===null||c===void 0||c.Notify_MeidaSDK(hl.ADD_RENDER_VIDEO,{userId:n,videodom:o,zone:i})}stopRender({userId:n,videodom:o,zone:i}){var c;(c=this.getSDK())===null||c===void 0||c.Notify_MeidaSDK(hl.STOP_RENDER_VIDEO,{userId:n,videodom:o,zone:i})}}let Q9e=class extends Ote{constructor(){super(...arguments),this.ismain=!1}getAnnoCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getAnnoCanvas()}getPreviewCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getPreviewCanvas()}getLocalShareCanvas(){return this.container.getLocalShareCanvas()}addRender({x:e,y:n,width:o,height:i,userId:c,canvas:d,isFromMainSession:p,zone:v}){var S;this.ismain=!!p,(S=this.getSDK())===null||S===void 0||S.Notify_MeidaSDK(hl.START_SHARING,{width:o,height:i,x:e,y:n,ssrc:c,isFromMainSession:p,canvas:d,zone:v,annoCanvas:this.getAnnoCanvas()})}zoomRender({x:e,y:n,width:o,height:i,userId:c,canvas:d,zone:p,RGBA:v,isFromMainSession:S}){var _;(_=this.getSDK())===null||_===void 0||_.Notify_MeidaSDK(hl.ZOOM_SHARING,{width:o,height:i,x:e,y:n,ssrc:c,zone:p,canvas:d,RGBA:v,isFromMainSession:S})}stopRender({canvas:e,userId:n,zone:o,isFromMainSession:i}){var c;(c=this.getSDK())===null||c===void 0||c.Notify_MeidaSDK(hl.STOP_SHARING,{canvas:e,ssrc:n,zone:o,isFromMainSession:this.ismain})}},L_e=class extends Ote{getAnnoCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getAnnoCanvas()}getPreviewCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getPreviewCanvas()}getLocalShareCanvas(){return this.container.getLocalShareCanvas()}addRender({canvas:e}){var n;(n=this.getSDK())===null||n===void 0||n.Notify_MeidaSDK(hl.START_SHARE_PREVIEW,{annoPresenterCanvas:this.getPreviewCanvas(),localShareCanvas:this.getLocalShareCanvas()})}zoomRender(){}stopRender({canvas:e}){var n;(n=this.getSDK())===null||n===void 0||n.Notify_MeidaSDK(hl.STOP_SHARE_PREVIEW,{})}},B_e=class extends Ite{addRender({userId:e,videodom:n}){var o,i;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(hl.SWITCH_CANVAS_FOR_VIDEO_CAPTURE,[n]),(i=this.getSDK())===null||i===void 0||i.Notify_MeidaSDK(hl.ADD_RENDER_VIDEO,{userId:e,videodom:n})}stopRender({userId:e,videodom:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(hl.STOP_RENDER_VIDEO,{userId:e,videodom:n})}},eGe=class extends Ite{addRender({id:e,videodom:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(hl.ADD_VIDEO_VB_SETTING_DOM,{id:e,videodom:n})}stopRender({id:e,videodom:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(hl.REMOVE_VIDEO_VB_SETTING_DOM,{id:e,videodom:n})}},tGe=class extends q9e{addRender({id:e,canvas:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(hl.ADD_VIDEO_VB_SETTING_DOM,{id:e,canvas:n})}stopRender({id:e,canvas:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(hl.REMOVE_VIDEO_VB_SETTING_DOM,{id:e,canvas:n})}};function jO(e,n,o){if(typeof e=="function"?e===n:e.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}function F_e(e,n,o,i,c,d,p){try{var v=e[d](p),S=v.value}catch(_){return void o(_)}v.done?n(S):Promise.resolve(S).then(i,c)}function rLe(e,n){(function(o,i){if(i.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,n),n.add(e)}function n4(e,n,o){return(n=(function(i){var c=(function(d){if(typeof d!="object"||!d)return d;var p=d[Symbol.toPrimitive];if(p!==void 0){var v=p.call(d,"string");if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)})(i);return typeof c=="symbol"?c:c+""})(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var b6=new WeakSet;let Gve=class qve{constructor(){rLe(this,b6)}preview(n,o,i){var c=o.getContext("webgl"),d=jO(b6,this,nGe).call(this,c,qve.VERTEX_SHADER,qve.FRAGMENT_SHADER),p=c.getAttribLocation(d,"position"),v=c.getUniformLocation(d,"videoTexture");c.useProgram(d);var S=jO(b6,this,oGe).call(this,c);c.bindBuffer(c.ARRAY_BUFFER,S),c.enableVertexAttribArray(p),c.vertexAttribPointer(p,2,c.FLOAT,!1,0,0),this.frame({glContext:c,program:d,positionAttributeLocation:p,textureLocation:v,positionBuffer:S,viewport:i,source:n})}frame(n){var o=n.glContext;n.glContext.clearColor(0,0,0,1),n.glContext.clear(n.glContext.COLOR_BUFFER_BIT),n.glContext.viewport(n.viewport.x,n.viewport.y,n.viewport.w,n.viewport.h),n.glContext.enable(n.glContext.DEPTH_TEST);var i=n.glContext.createTexture();o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i),o.uniform1i(n.textureLocation,0),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,n.source),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),n.glContext.drawArrays(n.glContext.TRIANGLE_STRIP,0,4),requestAnimationFrame((()=>this.frame(n)))}};function nGe(e,n,o){var i=jO(b6,this,V_e).call(this,e,e.VERTEX_SHADER,n),c=jO(b6,this,V_e).call(this,e,e.FRAGMENT_SHADER,o),d=e.createProgram();return e.attachShader(d,i),e.attachShader(d,c),e.linkProgram(d),d}function V_e(e,n,o){var i=e.createShader(n);return e.shaderSource(i,o),e.compileShader(i),i}function oGe(e){var n=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),n}n4(Gve,"VERTEX_SHADER",`
    attribute vec2 position;
    varying vec2 texCoord;

    void main() {
      texCoord = (position + 1.0) * 0.5;
      // gl_Position = vec4(position, 0.0, 1.0);
      gl_Position = vec4(position.x, -position.y, 0.0, 1.0);
    }
  `),n4(Gve,"FRAGMENT_SHADER",`
    precision mediump float;
    varying vec2 texCoord;
    uniform sampler2D videoTexture;

    void main() {
      gl_FragColor = texture2D(videoTexture, texCoord);
    }
  `);var S6=new WeakSet;class o4{constructor(){rLe(this,S6)}preview(n,o,i){var c=o.getContext("webgl2"),d=jO(S6,this,sGe).call(this,c,o4.VERTEX_SHADER,o4.FRAGMENT_SHADER),p=c.getAttribLocation(d,"position"),v=c.getUniformLocation(d,"videoTexture");c.useProgram(d);var S=jO(S6,this,rGe).call(this,c);c.bindBuffer(c.ARRAY_BUFFER,S),c.enableVertexAttribArray(p),c.vertexAttribPointer(p,2,c.FLOAT,!1,0,0),this.frame({glContext:c,program:d,positionAttributeLocation:p,textureLocation:v,positionBuffer:S,viewport:i,source:n})}frame(n){var o=n.glContext;n.glContext.clearColor(0,0,0,1),n.glContext.clear(n.glContext.COLOR_BUFFER_BIT),n.glContext.viewport(n.viewport.x,n.viewport.y,n.viewport.w,n.viewport.h),n.glContext.enable(n.glContext.DEPTH_TEST);var i=n.glContext.createTexture();o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i),o.uniform1i(n.textureLocation,0),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,n.source),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),n.glContext.drawArrays(n.glContext.TRIANGLE_STRIP,0,4),requestAnimationFrame((()=>this.frame(n)))}}function sGe(e,n,o){var i=jO(S6,this,H_e).call(this,e,e.VERTEX_SHADER,n),c=jO(S6,this,H_e).call(this,e,e.FRAGMENT_SHADER,o),d=e.createProgram();return e.attachShader(d,i),e.attachShader(d,c),e.linkProgram(d),d}function H_e(e,n,o){var i=e.createShader(n);return e.shaderSource(i,o),e.compileShader(i),i}function rGe(e){var n=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),n}n4(o4,"VERTEX_SHADER",`#version 300 es
    in vec2 position;
    out vec2 texCoord;

    void main() {
      texCoord = (position + 1.0) * 0.5;
      gl_Position = vec4(position.x, -position.y, 0.0, 1.0);
    }
  `),n4(o4,"FRAGMENT_SHADER",`#version 300 es
    precision mediump float;
    in vec2 texCoord;
    uniform sampler2D videoTexture;
    out vec4 fragColor;

    void main() {
      fragColor = texture(videoTexture, texCoord);
    }
  `);class s4{constructor(){}preview(n,o,i){var c,d=this;return(c=function*(){if(!n||!o||!i)throw new Error("Invalid arguments: source, target, or viewport is missing");var p=yield navigator.gpu.requestAdapter(),v=yield p.requestDevice(),S=navigator.gpu.getPreferredCanvasFormat(),_=o.getContext("webgpu");_.configure({device:v,format:S,alphaMode:"opaque"});var x=v.createSampler({}),P=v.createRenderPipeline({layout:"auto",vertex:{module:v.createShaderModule({code:s4.VERTEX_SHADER}),entryPoint:"vert_main"},fragment:{module:v.createShaderModule({code:s4.FRAG_SHADER_VF}),entryPoint:"frag_main",targets:[{format:S}]},primitive:{topology:"triangle-list"}}),B={device:v,context:_,pipeline:P,sampler:x,source:n,viewport:i};d.frame(B)},function(){var p=this,v=arguments;return new Promise((function(S,_){var x=c.apply(p,v);function P(H){F_e(x,S,_,P,B,"next",H)}function B(H){F_e(x,S,_,P,B,"throw",H)}P(void 0)}))})()}frame(n){var o=n.device.createCommandEncoder(),i={colorAttachments:[{view:n.context.getCurrentTexture().createView(),loadOp:"clear",storeOp:"store"}]},c=o.beginRenderPass(i);c.setPipeline(n.pipeline);var d=n.device.createBindGroup({layout:n.pipeline.getBindGroupLayout(0),entries:[{binding:0,resource:n.sampler},{binding:1,resource:n.device.importExternalTexture({source:n.source})}]});c.setBindGroup(0,d),c.setViewport(n.viewport.x,n.viewport.y,n.viewport.w,n.viewport.h,0,1),c.draw(6),c.end(),n.device.queue.submit([o.finish()]),requestAnimationFrame((()=>this.frame(n)))}}n4(s4,"VERTEX_SHADER",`
    struct VertexOutput {
      @builtin(position) Position: vec4<f32>,
      @location(0) uv: vec2<f32>,
    }

    @vertex
    fn vert_main(@builtin(vertex_index) VertexIndex: u32) -> VertexOutput {
      var pos = array<vec2<f32>, 6>(
        vec2<f32>( 1.0,  1.0),
        vec2<f32>( 1.0, -1.0),
        vec2<f32>(-1.0, -1.0),
        vec2<f32>( 1.0,  1.0),
        vec2<f32>(-1.0, -1.0),
        vec2<f32>(-1.0,  1.0)
      );

      var uv = array<vec2<f32>, 6>(
        vec2<f32>(1.0, 0.0),
        vec2<f32>(1.0, 1.0),
        vec2<f32>(0.0, 1.0),
        vec2<f32>(1.0, 0.0),
        vec2<f32>(0.0, 1.0),
        vec2<f32>(0.0, 0.0)
      );

      var output : VertexOutput;
      output.Position = vec4<f32>(pos[VertexIndex], 0.0, 1.0);
      output.uv = uv[VertexIndex];
      return output;
    }
  `),n4(s4,"FRAG_SHADER_VF",`
    @group(0) @binding(0) var mySampler: sampler;
    @group(0) @binding(1) var vfTexture: texture_external;

    @fragment
    fn frag_main(@location(0) uv : vec2<f32>) -> @location(0) vec4<f32> {
      var color0: vec4<f32> = textureSampleBaseClampToEdge(vfTexture, mySampler, uv);
      return color0;
    }
  `);class i2{constructor(){}preview(n,o,i,c){n==1?i.srcObject=o:n==2?new Gve().preview(o,i,c):n==3?new o4().preview(o,i,c):n==4&&new s4().preview(o,i,c)}static getInstance(){return i2.instance||(i2.instance=new i2),i2.instance}}class iGe extends Ote{constructor(){super(...arguments),this.rendersProxy=i2.getInstance(),this.videoSource=null}createSource(n,o,i){return(function(c,d,p,v){return new(p||(p=Promise))((function(S,_){function x(H){try{B(v.next(H))}catch(U){_(U)}}function P(H){try{B(v.throw(H))}catch(U){_(U)}}function B(H){var U;H.done?S(H.value):(U=H.value,U instanceof p?U:new p((function(z){z(U)}))).then(x,P)}B((v=v.apply(c,[])).next())}))})(this,0,void 0,(function*(){const c=document.createElement("video");return c.width=o,c.height=i,c.loop=!0,c.autoplay=!0,c.muted=!0,c.srcObject=n,yield c.play(),c}))}addRender(n){n.renderType&&n.srcObject&&!this.videoSource&&(this.videoSource&&(this.videoSource=null),this.createSource(n.srcObject,n.width,n.height).then((o=>{this.videoSource=o,this.rendersProxy.preview(n.renderType,this.videoSource,n.canvas,{x:n.x,y:n.renderType===J_.WebGPU?n.top:n.y,w:n.width,h:n.height})})))}zoomRender(n){n.renderType&&this.videoSource&&(this.videoSource.width!==n.width&&(this.videoSource.width=n.width),this.videoSource.height!==n.height&&(this.videoSource.height=n.height))}stopRender(n){n.renderType&&this.videoSource&&(this.videoSource.srcObject=null,this.videoSource=null)}}class aGe extends Ite{constructor(){super(...arguments),this.rendersProxy=i2.getInstance()}addRender(n){n.srcObject&&n.videodom&&this.rendersProxy.preview(J_.VideoTag,n.srcObject,n.videodom)}stopRender(n){n.videodom.srcObject=null}}const G0="node-id",C6="media-type",CJ="video-quality",Z5="share-source",iLe="fill-mode",aLe="stop-no-clean",Kve="refresh-key";class r4 extends HTMLElement{static get observedAttributes(){return[G0,C6,CJ,Kve,Z5]}constructor(){super(),this.container=null,this.borderRadius=null,this._srcObject=null,eLe(this,r4.customAttributes),this.getRenderParams=this.getParsedParams.bind(this),this.callback=(n,o)=>{var i;n===X6.MOBILE_CAPTURE_DEVICE_CHANGE&&o===this.getAttribute(G0)&&this.initRender(),n===X6.SELF_PREVIEW_WATERMARK_CHANGE&&this.getAttribute(G0)&&(!((i=this.getCurrentMediaSDK())===null||i===void 0)&&i.isSelfUser(this.getAttribute(G0)))&&this.initRender()}}initRender(){var n,o,i,c,d,p,v,S,_,x;if(this.render&&this.render.destroy(),(n=this.getContainer())===null||n===void 0?void 0:n.useInsideRender()){const te=(o=this.getContainer())===null||o===void 0?void 0:o.getInsideRenderType();if(te===J_.VideoTag)this.render=new aGe(this.getContainer());else{if(![J_.WebGL,J_.WebGL2,J_.WebGPU].includes(te))return void console.error("Inside render type error.");this.render=new iGe(this.getContainer(),this.getRenderParams)}return this.shadowRoot&&(this.shadowRoot.innerHTML="",this.shadowRoot.appendChild(this.render.getElement())),this.render.init({borderRadius:this.borderRadius}),void(this.srcObject&&this.render.playVideo(this.srcObject))}const P=(c=(i=this.getCurrentMediaSDK())===null||i===void 0?void 0:i.getWasmRenderingMethod)===null||c===void 0?void 0:c.bind(this.getCurrentMediaSDK()),B=this.getAttribute(G0),H=B&&((d=this.getCurrentMediaSDK())===null||d===void 0?void 0:d.isPreviewVideotag(B)),U=this.getAttribute(C6);let z=0;U===I3.Preview?!((p=this.getCurrentMediaSDK())===null||p===void 0)&&p.getWebRTCFlag()?(this.render=new eGe(null),z=6):P&&P()==="video-tag"?(this.render=new Y9e(this.getContainer(),this.getRenderParams),z=10):(this.render=new tGe(null),z=5):U===I3.Share?B&&this.getAttribute(Z5)!=="main"&&(!((S=(v=this.getCurrentMediaSDK())===null||v===void 0?void 0:v.isSharePreviewVideotag)===null||S===void 0)&&S.call(v,B))?(this.render=new L_e(this.getContainer(),this.getRenderParams),z=7):P&&P()==="video-tag"?(this.render=new Z9e(this.getContainer(),this.getRenderParams),z=9):(this.render=new Q9e(this.getContainer(),this.getRenderParams),z=2):!((_=this.getCurrentMediaSDK())===null||_===void 0)&&_.getWebRTCFlag()?(this.render=new J9e(this.getContainer()),z=4):H?(this.render=new B_e(this.getContainer()),z=1):P&&P()==="video-tag"?(this.render=new K9e(this.getContainer(),this.getRenderParams),z=8):(this.render=new X9e(this.getContainer(),this.getRenderParams),z=3),this.getCurrentMediaSDK()&&Vf(this.getCurrentMediaSDK(),`VPREN:${z}`),this.innerHTML="",this.appendChild(this.render.getElement()),this.render.init({borderRadius:this.borderRadius});const Z=this.getAttribute(G0);zx(Z)||(x=this.render)===null||x===void 0||x.playVideo(Z)}get srcObject(){return this._srcObject}set srcObject(n){var o,i,c,d;!this._srcObject&&n?(o=this.render)===null||o===void 0||o.playVideo(n):this._srcObject&&n?((i=this.render)===null||i===void 0||i.stopVideo(),(c=this.render)===null||c===void 0||c.playVideo(n)):this._srcObject&&((d=this.render)===null||d===void 0||d.stopVideo()),this._srcObject=n}getContainer(){return this.container||(this.container=this.closest(`${Qh.get("tagName")}-container`)),this.container}getCurrentMediaSDK(){var n,o;return xS((o=(n=this.getContainer())===null||n===void 0?void 0:n.getSessionId)===null||o===void 0?void 0:o.call(n))}getParsedParams(){var n,o;return{fillMode:D_e(this,iLe),doNotClean:D_e(this,aLe),isFromMainSession:this.getAttribute(Z5)==="main",videoQuality:this.getAttribute(CJ),renderType:(o=(n=this.getContainer())===null||n===void 0?void 0:n.getInsideRenderType())!==null&&o!==void 0?o:J_.Unknown}}connectedCallback(){var n;this.style.display||(this.style.display="block"),tLe(this,r4.defaultValues),this.initRender(),(n=this.getCurrentMediaSDK())===null||n===void 0||n.addCallback(this.callback),this.removeSubscribe=Qh.subscribe(((o,i,c)=>{var d,p,v,S;o==="failover"&&c===(((p=(d=this.getContainer())===null||d===void 0?void 0:d.getSessionId)===null||p===void 0?void 0:p.call(d))||J6)&&(this.initRender(),zx(this.getAttribute(G0))||(v=this.render)===null||v===void 0||v.playVideo(this.getAttribute(G0)),this.srcObject&&((S=this.render)===null||S===void 0||S.playVideo(this.srcObject)))})),this.removeStyleListener=(function(o,i){let c=null;const d=()=>{let v=getComputedStyle(o).borderRadius;v&&v!=="0px"&&v!=="0%"?(c=v,i(N_e(v))):c&&(i(N_e("0%")),c=null)};d();const p=new MutationObserver((()=>d()));return p.observe(o,{attributes:!0,attributeFilter:["style"]}),()=>{p.disconnect()}})(this,(o=>{var i,c;this.borderRadius=o,o&&((c=(i=this.render)===null||i===void 0?void 0:i.updateBorderRadius)===null||c===void 0||c.call(i,o))}))}disconnectedCallback(){var n,o,i,c;(n=this.removeSubscribe)===null||n===void 0||n.call(this),(o=this.removeStyleListener)===null||o===void 0||o.call(this),(i=this.render)===null||i===void 0||i.destroy(),this.callback&&((c=this.getCurrentMediaSDK())===null||c===void 0||c.removeCallback(this.callback))}attributeChangedCallback(n,o,i){var c,d,p,v,S,_,x;if(this.render)switch(n){case G0:!((c=this.getCurrentMediaSDK())===null||c===void 0)&&c.getWebRTCFlag()&&this.getAttribute(G0)===I3.Video||(!!(!((d=this.getCurrentMediaSDK())===null||d===void 0)&&d.isPreviewVideotag(i))!=this.render instanceof B_e&&this.initRender(),!!(!((v=(p=this.getCurrentMediaSDK())===null||p===void 0?void 0:p.isSharePreviewVideotag)===null||v===void 0)&&v.call(p,i))!=this.render instanceof L_e&&this.initRender()),zx(o)&&!zx(i)?this.render.playVideo(i):zx(o)||zx(i)?zx(o)||this.render.stopVideo():(this.render.stopVideo(),this.render.playVideo(i));break;case Z5:case C6:this.initRender();break;case CJ:(S=this.render)===null||S===void 0||S.updateVideoQuality(i);break;case Kve:zx(i)||(x=(_=this.render)===null||_===void 0?void 0:_.refresh)===null||x===void 0||x.call(_)}}}r4.customAttributes=[G0,C6,CJ,Z5,iLe,aLe,Kve],r4.defaultValues={[G0]:"",[C6]:I3.Video};const $_e="session-id",jx="z-index",k5="inside-render",U_e="label";class i4 extends HTMLElement{static get observedAttributes(){return[$_e,jx,k5]}get pipWindow(){var n,o;return"documentPictureInPicture"in window&&(function(){const i=P_e();try{return!!i?.location.origin}catch{return!1}})()&&((o=(n=P_e())===null||n===void 0?void 0:n.documentPictureInPicture)===null||o===void 0?void 0:o.window)||void 0}constructor(){super(),this.canvasId="video-player-canvas-"+(this.getAttribute(U_e)?`${this.getAttribute(U_e)}-`:"")+R4(),this.needInitCanvas=!1,this.canvasKeys=["annoCanvas","previewCanvas","localShareCanvas"],this.needInitCanvasMap={annoCanvas:!1,previewCanvas:!1,localShareCanvas:!1},this.listenerList=[],this.pipListenerList=[],this.callback=null,eLe(this,i4.customAttributes);const n=this.attachShadow({mode:"open"}),o=document.createElement("slot");this.appendCanvas=(i,c=o)=>{n.insertBefore(i,c)},n.appendChild(o)}connectedCallback(){this.style.display||(this.style.display="block"),this.style.position||(this.style.position="relative"),tLe(this,i4.defaultValues),this.needInitCanvas&&this.initCanvasEvents(),this.canvasKeys.forEach((n=>{if(this.needInitCanvasMap[n]){const o=this[n];o&&this.initCanvasListenerList(o)}})),this.removeSubscribe=Qh.subscribe(((n,o,i)=>{n==="failover"&&i===(this.getSessionId()||J6)&&(this.replaceCanvas(),this.initCanvasEvents(),this.canvasKeys.forEach((c=>{const d=this[c];d&&this.initCanvasListenerList(d)})))}))}removeFromShadowRoot(n){if(!this.shadowRoot)return;let o=n;for(;o;){if(o.parentNode===null)return;if(o.parentNode===this.shadowRoot)break;o=o.parentNode}o.remove()}disconnectedCallback(){var n,o,i,c;(n=this.removeListener)===null||n===void 0||n.call(this),this.resetPIPListener(),this.listenerList.length&&this.listenerList.forEach((d=>d())),(o=this.removeSubscribe)===null||o===void 0||o.call(this),this.canvas&&((i=xS(this.getSessionId()))===null||i===void 0||i.Notify_MeidaSDK(hl.REMOVE_EXPIRED_CANVAS,{canvasId:this.canvasId}),this.canvas.remove(),this.canvas=void 0),this.canvasKeys.forEach((d=>{const p=this[d];p&&(this.removeFromShadowRoot(p),this[d]=void 0)})),this.callback&&((c=xS(this.getSessionId()))===null||c===void 0||c.removeCallback(this.callback))}attributeChangedCallback(n,o,i){n===jx&&this.canvas&&i&&(this.canvas.style.zIndex=i)}adoptedCallback(){Vf(this.getCurrentMediaSDK(),"VPADOP:"+!!this.pipWindow),this.pipWindow?this.canvas&&(this.resetPIPListener(),this.removePIPListener=Ux(this.canvas,this,!0,this.pipWindow,(n=>Vf(this.getCurrentMediaSDK(),n))),this.canvasKeys.forEach((n=>{const o=this[n];o&&this.pipListenerList.push(Ux(o,this,!1,this.pipWindow))}))):this.resetPIPListener()}resetPIPListener(){var n;(n=this.removePIPListener)===null||n===void 0||n.call(this),this.removePIPListener=void 0,this.pipListenerList.length&&this.pipListenerList.forEach((o=>o())),this.pipListenerList=[]}initCanvasListenerList(n){this.listenerList.push(Ux(n,this,!1)),this.pipWindow&&this.pipListenerList.push(Ux(n,this,!1,this.pipWindow))}createCanvas(){this.getCurrentMediaSDK()&&Vf(this.getCurrentMediaSDK(),"VPCC"),this.canvas=BL(this.clientWidth,this.clientHeight,this.getAttribute(jx)||"",this.canvasId,(n=>Vf(this.getCurrentMediaSDK(),n))),this.appendCanvas(this.canvas),this.isConnected?this.initCanvasEvents():this.needInitCanvas=!0}createPreviewCanvas(){this.getCurrentMediaSDK()&&Vf(this.getCurrentMediaSDK(),"VPCC"),this.previewCanvas=BL(this.clientWidth,this.clientHeight,this.getAttribute(jx)||"",this.canvasId+"-anno-presenter",(n=>Vf(this.getCurrentMediaSDK(),n))),this.appendCanvas(this.previewCanvas)}createLocalShareCanvas(){this.getCurrentMediaSDK()&&Vf(this.getCurrentMediaSDK(),"VPCC"),this.localShareCanvas=BL(this.clientWidth,this.clientHeight,this.getAttribute(jx)||"",this.canvasId+"-local-share",(n=>Vf(this.getCurrentMediaSDK(),n))),this.appendCanvas(this.localShareCanvas),this.isConnected?this.initCanvasListenerList(this.localShareCanvas):this.needInitCanvasMap.localShareCanvas=!0}createAnnoCanvas(){this.annoCanvas=BL(this.clientWidth,this.clientHeight,this.getAttribute(jx)||"",this.canvasId+"-anno",(n=>Vf(this.getCurrentMediaSDK(),n))),this.appendCanvas(this.annoCanvas),this.isConnected?this.initCanvasListenerList(this.annoCanvas):this.needInitCanvasMap.annoCanvas=!0}initCanvasEvents(){var n;this.removeListener=Ux(this.canvas,this,!0,window,(o=>Vf(this.getCurrentMediaSDK(),o))),this.pipWindow&&(this.removePIPListener=Ux(this.canvas,this,!0,this.pipWindow,(o=>Vf(this.getCurrentMediaSDK(),o)))),this.callback=(o,i)=>{var c,d;o===X6.WEBGL_LOST_IN_MULTI_VIEW&&i.replaceCanvas&&i.canvasId===((c=this.canvas)===null||c===void 0?void 0:c.id)&&(this.replaceCanvas(),(d=xS(this.getSessionId()))===null||d===void 0||d.Notify_MeidaSDK(hl.WEBGL_LOST_REPLACE_CANVAS,{canvasId:this.canvasId,canvas:this.canvas}))},(n=this.getCurrentMediaSDK())===null||n===void 0||n.addCallback(this.callback)}replaceCanvas(){var n;if(this.getCurrentMediaSDK()&&Vf(this.getCurrentMediaSDK(),"VPRC"),this.canvas){(n=this.removeListener)===null||n===void 0||n.call(this);const o=BL(this.clientWidth,this.clientHeight,this.getAttribute(jx)||"",this.canvasId,(i=>Vf(this.getCurrentMediaSDK(),i)));this.removeListener=Ux(o,this,!0,window,(i=>Vf(this.getCurrentMediaSDK(),i))),this.pipWindow&&(this.removePIPListener=Ux(this.canvas,this,!0,this.pipWindow,(i=>Vf(this.getCurrentMediaSDK(),i)))),this.shadowRoot&&this.shadowRoot.replaceChild(o,this.canvas),this.canvas=o}if(this.annoCanvas){const o=BL(this.clientWidth,this.clientHeight,this.getAttribute(jx)||"",this.canvasId+"anno",(i=>Vf(this.getCurrentMediaSDK(),i)));this.shadowRoot&&this.shadowRoot.replaceChild(o,this.annoCanvas),this.annoCanvas=o}}getResizeStrategy(){return this.getAttribute("resize-strategy")||bE.Debounce}getCanvas(){return this.canvas||this.createCanvas(),this.canvas}getPreviewCanvas(){return this.previewCanvas||this.createPreviewCanvas(),this.previewCanvas}getLocalShareCanvas(){return this.localShareCanvas||this.createLocalShareCanvas(),this.localShareCanvas}getAnnoCanvas(){return this.annoCanvas||this.createAnnoCanvas(),this.annoCanvas}useInsideRender(){return this.getAttribute(k5)!==null&&this.getAttribute(k5)!==void 0&&this.getAttribute(k5)!=="false"&&this.getAttribute(k5)!=="0"}getInsideRenderType(){return Number(this.getAttribute("inside-render-type"))}getSessionId(){return this.getAttribute($_e)||void 0}getCurrentMediaSDK(){return xS(this.getSessionId())}getRGBA(){return(function(n){let o=0,i=0,c=0,d=0;if(n[0]==="r")if(n[3]==="a"){const p=n.slice(5,-1).split(",").map((v=>parseInt(v.trim(),10)));o=p[0],i=p[1],c=p[2],d=p[3]}else{const p=n.slice(4,-1).split(",").map((v=>parseInt(v.trim(),10)));o=p[0],i=p[1],c=p[2]}else if(n[0]==="#"){let p=n.slice(1);p.length===3&&(p=p.split("").map((S=>S.repeat(2))).join(""));const v=parseInt(p,16);o=v>>16&255,i=v>>8&255,c=255&v}return{R:o/255,G:i/255,B:c/255,A:d}})(getComputedStyle(this).getPropertyValue("background-color"))}}function lLe(e){var n;let o="video-player";e.tagName&&(o=e.tagName,Qh.dispatch("",{tagName:e.tagName}),Vf((n=e.mediaSDK)===null||n===void 0?void 0:n.call(e),`VPTN:${o}`));const i=`${o}-container`,c=e.sessionId||R4();return Qh.get("renderCountMap").clear(),e.mediaSDK&&(Qh.get("mediaSDKInstanceMap").set(J6,e.mediaSDK),Qh.get("mediaSDKInstanceMap").set(c,e.mediaSDK)),e.failover&&Qh.dispatch("failover",void 0,e.sessionId||J6),customElements.get(i)||customElements.define(i,i4),customElements.get(o)||customElements.define(o,r4),c}i4.customAttributes=[],i4.defaultValues={};const z_e="PREVIEW_VIDEO_ENCODE_SUCCESS",ime="PREVIEW_VIDEO_VB_MODEL_READY",j_e="PREVIEW_VIDEO_USER_FORBIDDEN_CAPTURE",W_e="PREVIEW_VIDEO_CAMERA_IS_TAKEN",G_e="PREVIEW_VB_SETTING_SUCCESS";async function q_e(e,n,o,i){const{imageUrl:c,cropped:d,deviceId:p}=o;let v=aT("__ZOOM_SDK_PREVIEW_VIRTUAL_BACKGROUND_CANVAS_@__"),S=null;A4(n)?n.id?v=n.id:n.id=v:(n.setAttribute("node-id",v),n.setAttribute("media-type","preview"));let[_,x]=[640,360];zs.isSupportSending720P()&&(_=1280,x=720),c&&Ave(i)&&(S=await Pz(c,d)),e.startVirtualBackgroundSetting(n,S,0,p??"default",_,x,void 0,v),S&&S!==K3&&setTimeout((()=>{$6(S)}),0)}class Xd{constructor(){this.previewMediaAgent=$b.getInstance(),this.state=void 0,this.eventHandler=(n,o)=>{switch(n){case so.InitSuccessVideo:o===pg.EncodeSuccess&&(Xd.isVideoEncoded=!0,dt(z_e,!0));break;case so.VbModelPreloadingOk:case so.VbModelPreloading_3S:case so.VbModelPreloading_10S:Xd.isVBModelReady=!0,dt(ime,!0);break;case so.VbSettingParaError:o===kDe.VBModelNotMatch&&(Xd.isVBModelReady=!1,dt(ime,!1));break;case so.UserForbiddedCaptureVideo:dt(j_e,o);break;case so.UserCameraIsTakenByOtherPrograms:dt(W_e,{reason:"User camera is taken by other programs.",...o??{}});break;case so.StartVideoStreamInVbSettingSuccess:dt(G_e,!0)}}}static setMediaOption(n){Xd.mediaOption=n}setup(){if(Xd.mediaOption){if(zs.getInstance().inProgress)return Promise.resolve("");if(!$b.getInstance().inProgress){var n,o;let i;Xd.isVideoEncoded=void 0,Xd.isVBModelReady=void 0,this.previewMediaAgent.unregisterCallback(this.eventHandler),(n=Xd.mediaOption)!==null&&n!==void 0&&n.enforceMultipleVideos&&typeof((o=Xd.mediaOption)===null||o===void 0?void 0:o.enforceMultipleVideos)=="object"&&(i=!!Xd.mediaOption.enforceMultipleVideos.disableRenderLimits);const{assetsPath:c,enforceMultipleVideos:d,enforceVirtualBackground:p,alternativeNameForVideoPlayer:v}=Xd.mediaOption,S={...GPe(!!d,p)};this.previewMediaAgent.init(c,S,i),this.previewMediaAgent.registerCallback(this.eventHandler),lLe({mediaSDK:()=>this.previewMediaAgent.instance,tagName:v,failover:"1"})}return Promise.resolve("")}return Promise.reject({type:bn,reason:"Cannot preview video with virtual background before `client.init` method."})}async startPreview(n,o){if(zs.getInstance().inProgress){var i;q_e(zs.getInstance(),n,o,(i=Xd.mediaOption)===null||i===void 0?void 0:i.enforceVirtualBackground)}else{if(!await(o.imageUrl?hc(Xd.isVBModelReady!==void 0?lo([Xd.isVBModelReady]):Aa(ime,1).pipe(Do((p=>p)))):Promise.resolve(!0)))return Promise.reject({type:bn,reason:"Cannot start video with virtual background"});var c;await hc(Xd.isVideoEncoded?lo([!0]):Aa(z_e,1))&&(await q_e($b.getInstance(),n,o,(c=Xd.mediaOption)===null||c===void 0?void 0:c.enforceVirtualBackground),await hc(Fp(Aa(G_e,1).pipe(Do((()=>!0))),xd(...[j_e,W_e].map((p=>Aa(p,1).pipe(pn((v=>($b.getInstance().stopVirtualBackgroundSetting(),UO({type:p.replace("PREVIEW_",""),reason:v})))))))))),this.state={element:n,vb:o})}}async stopPreview(){zs.getInstance().inProgress?zs.getInstance().stopVirtualBackgroundSetting():$b.getInstance().stopVirtualBackgroundSetting()}async updatePreview(n,o){const i=zs.getInstance().inProgress?zs.getInstance():$b.getInstance();if(n){const c=await Pz(n,o);c&&(i.updateVirtualBackgroundImage(c),c!==K3&&setTimeout((()=>{$6(c)}),0))}else i.updateVirtualBackgroundImage(null)}}Xd.mediaOption=void 0,Xd.isVideoEncoded=void 0,Xd.isVBModelReady=void 0;const lGe={width:{min:1024,ideal:1280,max:1920},height:{min:576,ideal:720,max:1080},aspectRatio:{ideal:1.777777778}};class cGe{constructor(n=""){this.isVideoStarted=void 0,this.videoStream=void 0,this.deviceId=void 0,this.localPreview=void 0,this.vbPreviewInProgress=void 0,this.videoParams=void 0,this.isVideoStarted=!1,this.videoStream=null,this.vbPreviewInProgress=!1,this.deviceId=n,this.localPreview=new Xd}async start(n,o){if(!n)throw new Error("VideoPlayer DOM element is falsy");if(this.isVideoStarted||this.videoStream)throw new Error("VideoAlreadyStartedError");this.videoParams={element:n,virtualBackground:o};const i=async c=>{if(!c||c.name!=="OverconstrainedError"&&c.name!=="ConstraintNotSatisfiedError")throw c;console.log(`Warning: detected ${c.name} -- trying to fall back to lower aspect ratio`);try{const d=await navigator.mediaDevices.getUserMedia(this.getVideoConstraints(!0));return this.tryPlayVideo(n,d)}catch(d){throw d}};if(iT(n)){if(o!==void 0)throw new Error("Cannot start video with virtual background");try{const c=await navigator.mediaDevices.getUserMedia(this.getVideoConstraints());return this.tryPlayVideo(n,c)}catch(c){return i(c)}}else A4(n)&&o!==void 0&&console.warn("The canvas element will be deprecated. Please use the Videoplayer element to preview the virtual background."),await this.localPreview.setup().then((()=>this.localPreview.startPreview(n,{...o,deviceId:this.deviceId}))).then((()=>{this.vbPreviewInProgress=!0,this.isVideoStarted=!0}))}async stop(){if(this.vbPreviewInProgress)await this.localPreview.stopPreview(),this.vbPreviewInProgress=!1,this.isVideoStarted=!1;else{if(!this.videoStream||!this.isVideoStarted)throw new Error("VideoNotStartedError");this.videoStream.getVideoTracks().forEach((n=>n.stop())),this.videoStream=null,this.isVideoStarted=!1}}async switchCamera(n){n!==this.deviceId&&(this.deviceId=n,(this.videoStream||this.isVideoStarted)&&(await this.stop(),this.videoParams&&await this.start(this.videoParams.element,this.videoParams.virtualBackground)))}async updateVirtualBackground(n,o){this.vbPreviewInProgress&&(await this.localPreview.updatePreview(n,o),this.videoParams.virtualBackground={imageUrl:n,cropped:o})}getVideoConstraints(n=!1){let o=lGe;return xz.includes(this.deviceId)?{audio:!1,video:{facingMode:this.deviceId}}:(n?o=this.deviceId===""||{deviceId:{exact:this.deviceId}}:this.deviceId!==""&&(o.deviceId={exact:this.deviceId}),{audio:!1,video:o})}async tryPlayVideo(n,o){if(!n)throw new Error("Video DOM element is falsy");try{this.videoStream=o,n.muted=!0,n.playsInline=!0,n.srcObject=this.videoStream,await n.play(),this.isVideoStarted=!0}catch(i){throw i}}}const uGe="SET_MEETING_INFO",dGe="SET_MEETING_JOIN_INFO",hGe="SET_WINDOWN_OPEN",fGe="SET_APPID_SIGNATURE",pGe="SET_ZTK",mGe="SET_ZSK",gGe="SET_TK_MTKGUID",vGe="SET_PING_RWC_TIMESTAMP",yGe="SET_IN_MEETING_INFO",bGe="SET_MEETING_ATTRIBUTE",SGe="RESET_MEETING",CGe="SET_IS_HOST",EGe="SET_IS_COHOST",wGe="SET_MEETING_IS_ON_HOLD",_Ge="SET_IS_MEETING_RESET",TGe="SET_AUDIO_VIDEO_BEFORE_ON_HOLD",AGe="SET_CURRENT_USER_AUDIO_BEFORE_RESET",xGe="SET_IS_CURRENT_USER_MUTED_BEFORE_RESET",OGe="SET_IS_CURRENT_USER_START_VIDEO_BEFORE_RESET",IGe="SET_MEETING_STATUS",RGe="SET_MEETING_REGION",kGe="SET_JOIN_MEETING_TIME_STAMP",DGe="SET_ACTIVE_APP_INFO",MGe="SET_MEETING_IDLE_START_TIME",PGe="SET_SESSION_IDLE_TIMEOUT_MINUTES",NGe="ADD_DISCARDED_RWC_HOST",LGe="SET_SHARE_PRONOUN_TYPE",BGe="SET_IS_STAY_AWAKE_DURING_THE_SESSION",FGe="SET_MEETING_JOIN_SUCCESS_TIMESTAMP",VGe="RESET_FAILOVER_RECORD",HGe="SET_FAILOVER_REASON",$Ge="SET_IS_QUICKLY_LEAVE_MEETING_AFTER_REFRESH",UGe="SET_MEETING_INFO_TIMESTAMP",zGe="SET_IS_ENABLE_ZMK_FROM_RWG",jGe="SET_IS_RLB_TP",WGe="SET_IS_RLB_TP_READY",GGe=["bLock","bHoldUponEntry","viewOnly","listenOnlyPhone","bAllowRaiseHand","bAllowAttendeeRename","bBroadcast","bAllowPlayChimeForEnterOrExit","bIbDisableShare","bIbDisableChat","encryptKey","bNoHostTimeOut","bAllowShowCount","bHasAST","bHasRMC","gatewayKey","encryptKey"],K_e={bChime:"bAllowPlayChimeForEnterOrExit",bHasAST:"hasAst",bHasRMC:"hasRmc",topic:e=>({meetingTopic:s1(e)}),gatewayKey:e=>{const[,n,o]=e.split(".");return n&&o?{gatewayUser:{userId:Number(n),sn:o}}:{}},encryptKey:e=>({gcmSessinKey:jb(e)})},aee=Jl("GET_MEETING_INFO"),a4=Jl("GET_INSTANT_MEETING_INFO");Jl("LOGON_ZOOM_DOMAIN"),Jl("VERIFY_ZOOM_RECAPTCHA"),Jl("LOGON_THIRD_PARTY_DOMAIN");const g1e=Jl("PING_RWC_SERVER"),wg=Jl("MEETING_FAILOVER"),V2=Jl("LEAVE_MEETING"),Zve=Jl("LEAVE_WAITING_ROOM"),l4=Jl("END_MEETING");Jl("REGISTER_WEBINAR");const Z_e=Jl("TRIGGER_IDLE_CHECK"),cLe=Jl("END_OF_ZE_WORLD"),uLe=Jl("SET_IS_UITOOLKIT"),{setMeetingInfo:Mv,setMeetingJoinInfo:qGe,setWindownOpen:KGe,setAppidSignature:dLe,setZtk:ZGe,setZsk:YGe,setTkMtkguid:XGe,setPingRwcTimestamp:hLe,setInMeetingInfo:AE,setMeetingAttribute:lee,resetMeeting:Yve,setIsHost:fLe,setIsCohost:pLe,setMeetingIsOnHold:l3,setIsMeetingReset:mLe,setAudioVideoBeforeOnHold:gLe,setCurrentUserAudioBeforeReset:Xve,setIsCurrentUserMutedBeforeReset:Jve,setMeetingStatus:v1e,setMeetingRegion:vLe,setIsCurrentUserStartVideoBeforeReset:yLe,setJoinMeetingTimeStamp:bLe,setActiveAppInfo:JGe,setMeetingIdleStartTime:Y5,setSessionIdleTimeoutMinutes:SLe,addDiscardedRwcHost:QGe,setSharePronounType:CLe,setIsStayAwakeDuringTheSession:ELe,setMeetingJoinSuccessTimestamp:wLe,resetFailoverRecord:_Le,setFailoverReason:cee,setIsQuicklyLeaveMeetingAfterRefresh:TLe,setMeetingInfoTimestamp:ALe,setIsEnableZmkFromRwg:xLe,setIsRlbTp:EJ,setIsRlbTpReady:OLe}=eh({[uGe]:e=>e,[dGe]:e=>e,[hGe]:e=>e,[fGe]:e=>e,[pGe]:e=>e,[mGe]:e=>e,[gGe]:e=>e,[vGe]:e=>e,[yGe]:e=>e,[bGe]:e=>{if(GGe.some((n=>e&&e[n]!==void 0))){let n=e;return Object.keys(K_e).some((o=>e[o]!==void 0))&&(n=Object.keys(e).reduce(((o,i)=>{const c=K_e[i];return typeof c=="function"?Object.assign(o,c(e[i])):typeof c=="string"&&(o[c]=e[i]),o}),{})),n}return{}},[CGe]:e=>e&&e.bHost,[EGe]:e=>e&&e.bCoHost,[SGe]:e=>e,[wGe]:e=>e,[_Ge]:e=>e,[TGe]:e=>e,[AGe]:e=>e,[xGe]:e=>e,[IGe]:e=>e,[RGe]:e=>e,[OGe]:e=>e,[kGe]:e=>e,[DGe]:e=>e,[MGe]:e=>e,[PGe]:e=>e,[NGe]:e=>e,[LGe]:e=>e,[BGe]:e=>e,[FGe]:e=>e,[VGe]:e=>e,[HGe]:e=>e,[$Ge]:e=>e,[UGe]:e=>e,[zGe]:e=>e,[jGe]:e=>e,[WGe]:e=>e});class Qve{static destroyClient(){if(this.meetingClient){const n=this.meetingClient[Mc],o=this.meetingClient.leave().then((()=>hc(wu(500)).then((()=>{n?.(cLe()),s1e()}))));return this.meetingClient=null,o}return Promise.resolve(void 0)}static checkFeatureRequirements(){return(function(){const n=[],o=[],{isAndroidOrIOSBrowser:i,browser:c,browserVersion:d,os:p,osVersion:v,isChrome:S,isFirefox:_,isSafari:x}=is;!i&&(S||_||x)&&cX()?n.push("Virtual Background"):o.push("Virtual Background"),(i||S)&&cX()?n.push("Share Chrome Tab Audio"):o.push("Share Chrome Tab Audio"),!i&&cX()?(n.push("Screen Share (send)"),n.push("720p Video (receive)"),n.push("Share 2nd Camera")):(o.push("Screen Share (send)"),o.push("720p Video (receive)"),o.push("Share 2nd Camera")),cX()?(n.push("Audio"),n.push("Video"),n.push("Screen Share (receive)"),n.push("Chat"),n.push("Closed Captioning"),n.push("Live Transcription"),n.push("Live Translation"),n.push("Cloud Recording"),n.push("Call Out (PSTN)"),n.push("Command Channel"),n.push("RTMP Live Streaming"),n.push("Encryption"),n.push("720p Video (send)"),n.push("Render Multiple Videos")):(o.push("Audio"),o.push("Video"),o.push("Screen Share (receive)"),o.push("Chat"),o.push("Closed Captioning"),o.push("Live Transcription"),o.push("Live Translation"),o.push("Cloud Recording"),o.push("Call Out (PSTN)"),o.push("Command Channel"),o.push("RTMP Live Streaming"),o.push("Encryption"),n.push("720p Video (send)"),n.push("Render Multiple Videos"));const P=i?`${p}${v}`:`${c}${d}`;return o.length>0&&console.log("Some features are not supported on your platform, please refer to https://developers.zoom.us/docs/video-sdk/web/browser-support/"),{platform:P,supportFeatures:n,unSupportFeatures:o}})()}static checkSystemRequirements(){return RDe()}static getDevices(n){return n?navigator.mediaDevices.enumerateDevices():navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((o=>(o.getTracks().forEach((i=>i.stop())),navigator.mediaDevices.enumerateDevices()))).catch((o=>(console.warn(o),navigator.mediaDevices.enumerateDevices())))}static createLocalAudioTrack(n=""){return new A7e(n)}static createLocalVideoTrack(n=""){return new cGe(n)}static preloadDependentAssets(n){(async o=>{const i=o||zk,c=`${i}/${jk}`,d=[],p=[],v=`${i}/`;if(mX()){const{workers:P,wasms:B}=$x("audio","simd",v);d.push(...P),p.push(...B)}else{const{workers:P,wasms:B}=$x("audio","",v);d.push(...P),p.push(...B)}if(mX()&&(function(){const{browser:P,browserVersion:B,isAndroidBrowser:H,isSupportSharedArrayBuffer:U}=is;return!H&&P.toLowerCase()==="chrome"&&UQ(B,"100")>0&&U})()){const{workers:P,wasms:B}=$x(["video","sharing"],"videoShare",v);d.push(...P),p.push(...B)}else if(mX()&&Lwe()){const{workers:P,wasms:B}=$x(["video","sharing"],"simd,thread",v);d.push(...P),p.push(...B)}else if(Lwe()){const{workers:P,wasms:B}=$x(["video","sharing"],"thread",v);d.push(...P),p.push(...B)}else if(mX()){const{workers:P,wasms:B}=$x(["video","sharing"],"simd",v);d.push(...P),p.push(...B)}else{const{workers:P,wasms:B}=$x(["video","sharing"],"",v);d.push(...P),p.push(...B)}const{workers:S,wasms:_}=$x("common","thread",v);d.push(...S),p.push(..._);const x=[Ype(c,"script")];d.forEach((P=>{x.push(Ype(P,"fetch"))})),p.forEach((P=>{x.push(Ype(P,"fetch"))}));try{document.head.append(...x)}catch{}})(n)}}function qn(e,n,o,i,c){var d={};return Object.keys(i).forEach((function(p){d[p]=i[p]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(p,v){return v(e,n,p)||p}),d),c&&d.initializer!==void 0&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),d.initializer===void 0?(Object.defineProperty(e,n,d),null):d}function Xn(e,n,o){const i=o.value;o.value=function(...c){const d=this[dc];if(d){const{meeting:{isOnHold:p,isMeetingReset:v,meetingStatus:S}}=d.getState();if(S!==Th.Joined)return Promise.reject({type:oJ,reason:"closed",errorCode:ht.CLIENT_SESSION_STATE_CLOSED});if(v)return Promise.reject({type:oJ,reason:"reconnecting",errorCode:ht.CLIENT_SESSION_STATE_RECONNECTING});if(p)return Promise.reject({type:oJ,reason:"on hold",errorCode:ht.CLIENT_SESSION_STATE_ON_HOLD})}return i.apply(this,c)}}function yu(e,n,o){const i=o.value;o.value=function(...c){const d=this[dc];if(d){const p=d.getState();if(!Iv(p))return Promise.reject({type:Bp,reason:"only host or co-host can do the operation",errorCode:ht.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED})}return i.apply(this,c)}}function Td(e,n,o){const i=o.value;o.value=function(...c){const d=this[dc];if(d){const p=d.getState();if(!MPe(p))return Promise.reject({type:Bp,reason:"only host can do the operation",errorCode:ht.CLIENT_HOST_PERMISSION_REQUIRED})}return i.apply(this,c)}}function Go(e){return function(n,o,i){const c=i.value;i.value=function(...d){const p=this[dc];return p&&p.getState()[e]===void 0?Promise.reject({type:bn,reason:`Module:${e} is not enabled`}):c.apply(this,d)}}}Qve.meetingClient=void 0,Qve.VERSION=vte;var eqe=(function(e){function n(o,i){var c=e.call(this,(function(d){var p=c.__notifier.subscribe(d);return p&&!p.closed&&d.next(c.value),p}))||this;return c.__notifier=new J0,c.value=i,o.subscribe((function(d){d!==c.value&&(c.value=d,c.__notifier.next(d))})),c}return $y(n,e),n})(Su),Y_e=function(e,n){return e===n||typeof n=="function"&&e===n.toString()};function Qo(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e.length;return xn(o===1?function(i){return Y_e(i.type,e[0])}:function(i){for(var c=0;c<o;c++)if(Y_e(i.type,e[c]))return!0;return!1})}const eye=Jl("CONNECT_ZOOM_SOCKET"),SX=Jl("CONNECT_XMPP_SOCKET"),qb=Jl("CLOSE_ZOOM_SOCKET"),tye=Jl("CLOSE_XMPP_SOCKET"),K2=Jl("RECEIVE_MESSAGE_FROM_ZOOM_SOCKET"),tqe=Jl("RECEIVE_SHARING_PAYLOAD_FROM_ZOOM_SOCKET"),ILe=Jl("RECEIVE_MESSAGE_FROM_XMPP_SOCKET"),nye=Jl("CONNECT_MAIN_SESSION_SOCKET"),RLe=Jl("CLOSE_MAIN_SESSION_SOCKET"),lT=Jl("RECEIVE_MESSAGE_FROM_MAIN_SESSION_SOCKET"),{setZoomSocketStatus:E6,setRwgServersList:kLe,setRwgRetryCount:y1e,setXmppSocketStatus:wJ,setMainSessionSocketStatus:_J,setXmppSocketRetryCount:uee,resetSocket:DLe}=eh("SET_ZOOM_SOCKET_STATUS","SET_RWG_SERVERS_LIST","SET_RWG_RETRY_COUNT","SET_XMPP_SOCKET_STATUS","SET_MAIN_SESSION_SOCKET_STATUS","SET_XMPP_SOCKET_RETRY_COUNT","RESET_SOCKET"),oye=Jl("CONNECT_TO_MEDIA_STREAM"),MLe=Jl("RECEIVE_PAYLOAD_FROM_MEDIA_SDK"),{setAudioEncodeStatus:sye,setAudioDecodeStatus:rye,setVideoEncodeStatus:iye,setVideoDecodeStatus:aye,setSharingEncodeStatus:lye,setSharingDecodeStatus:TJ,setMediaConstraints:b1e,setMediaEncryptKey:PLe,setIsEnableDecoderInWorklet:NLe,setPatchedMediaSdkStatus:AJ,setMediaAssetsPath:LLe,setIsMediaAgentInitialized:cye,resetMedia:BLe}=eh("SET_AUDIO_ENCODE_STATUS","SET_AUDIO_DECODE_STATUS","SET_VIDEO_ENCODE_STATUS","SET_VIDEO_DECODE_STATUS","SET_SHARING_ENCODE_STATUS","SET_SHARING_DECODE_STATUS","SET_MEDIA_CONSTRAINTS","SET_MEDIA_ENCRYPT_KEY","SET_IS_ENABLE_DECODER_IN_WORKLET","SET_PATCHED_MEDIA_SDK_STATUS","SET_MEDIA_ASSETS_PATH","SET_IS_MEDIA_AGENT_INITIALIZED","RESET_MEDIA");function nqe(e,n,...o){return e(qa(...o||[]),n,null)}function FLe(...e){const n=(...o)=>xd(...e.map((i=>{const c=i(...o);if(!c)throw new TypeError(`combineEpics: one of the provided Epics "${i.name||"<anonymous>"}" does not return a stream. Double check you're not missing a return statement!`);return c.pipe(Cm(((d,p)=>(setTimeout((()=>{throw d}),0),p))))})));try{Object.defineProperty(n,"name",{value:`combineEpics(${e.map((o=>o.name||"<anonymous>")).join(", ")})`})}catch{}return n}function xg(...e){return FLe(...e.flatMap((n=>Object.values(n))))}function Uo(e,n){return e.pipe(Qo(`${K2}`),xn((o=>o.payload.evt===n)))}function vO(e,n){return e.pipe(Qo(`${lT}`),xn((o=>o.payload.evt===n)))}function R3(e,n){return e.pipe(Qo(`${ILe}`),xn((o=>o.payload.evt===n)))}function RS(e,n){return e.pipe(Qo(`${K2}`,`${lT}`),xn((o=>o.payload.evt===n)))}function ur(e,n){return e.pipe(Qo(`${MLe}`),xn((o=>Array.isArray(n)?n.indexOf(o.payload.type)>-1:o.payload.type===n)))}const uye=20225,S1e=20234,Ul=7937,Wb=7938,dye=12039,X_e=16138,Rte=4098,FL=4305,CX=4343,hye=16428,oqe="SET_ATTENDEES_LIST",sqe="SET_ASSISTANT_LIST",rqe="RESET_PARTICIPANTS",iqe="SET_IS_ADMIT_ALL_SILENT_USERS",aqe="SET_CLEAR_RAISE_HAND",lqe="SET_CLEAR_ATTENDEE_FEEDBACK",cqe="ADD_FAILOVER_ATTENDEES",uqe="REMOVE_FAILOVER_ATTENDEES",dqe="UPDATE_ATTENDEE_DISPLAY_NAME",hqe="REMOVE_XMPP_ATTENDEE_USER",fqe="UPDATE_XMPP_ATTENDEE_LIST",pqe="SET_ATTENDEE_EXTRA_KEY",{setAttendeesList:c4,setAssistantList:EJe,setIsAdmitAllSilentUsers:VLe,resetParticipants:HLe,addFailoverAttendees:fye,removeFailoverAttendees:$Le,setClearRaiseHand:ULe,setClearAttendeeFeedback:zLe,updateAttendeeDisplayName:jLe,removeXmppAttendeeUser:WLe,updateXmppAttendeeList:GLe,setAttendeeExtraKey:Q6}=eh({[oqe]:e=>e,[sqe]:e=>e,[fqe]:e=>e,[rqe]:()=>({}),[iqe]:e=>e,[uqe]:e=>e,[cqe]:e=>e,[aqe]:()=>({}),[lqe]:()=>({}),[dqe]:e=>e,[hqe]:e=>e,[pqe]:e=>e}),mqe={id:"userId",type:e=>L2(e)?{userType:e,avatarBackgroundType:Math.floor(8*Math.random())+1}:{userType:e},role:e=>({userRole:e,isHost:K6(e)}),dn2:e=>({displayName:s1(e)}),bShareOn:"sharerOn",bSharePause:"sharerPause",bLocalRecordStatus:e=>({bLocalRecord:e}),bGuest:"isGuest",bCapsRequestLT:"isRequestLT",customerKey:"userIdentity"},cT=e=>{const n={};return["add","remove","update"].forEach((o=>{const i=o,c=e[i];c!=null&&(n[i]=c.reduce(((d,p)=>{const v=Object.keys(p).reduce(((_,x)=>{const P=mqe[x];return typeof P=="function"?Object.assign(_,P(p[x])):typeof P=="string"?Object.assign(_,{[`${P}`]:p[x]}):Object.assign(_,{[`${x}`]:p[x]}),_}),{}),S=d.find((_=>_.userId===v.userId));return S!==void 0?Object.assign(S,v):d.push(v),d}),[]))})),n},gqe={name:"displayName",node:e=>({userId:Number(e)}),role:e=>({userRole:Number(e)})},ame=e=>Object.keys(e).reduce(((n,o)=>{const i=gqe[o];return typeof i=="function"?Object.assign(n,i(e[o])):typeof i=="string"?Object.assign(n,{[`${i}`]:e[o]}):Object.assign(n,{[`${o}`]:e[o]}),n}),{});let gE=(function(e){return e.Add="add",e.List="list",e.Remove="memberremove",e.rename="rename",e.update="UPDATE",e})({});function Z0(e){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(o.length?" "+o.map((function(c){return"'"+c+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function w2(e){return!!e&&!!e[Hy]}function _2(e){var n;return!!e&&((function(o){if(!o||typeof o!="object")return!1;var i=Object.getPrototypeOf(o);if(i===null)return!0;var c=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return c===Object||typeof c=="function"&&Function.toString.call(c)===Cqe})(e)||Array.isArray(e)||!!e[rTe]||!!(!((n=e.constructor)===null||n===void 0)&&n[rTe])||C1e(e)||E1e(e))}function dee(e){return w2(e)||Z0(23,e),e[Hy].t}function ez(e,n,o){o===void 0&&(o=!1),u4(e)===0?(o?Object.keys:x1e)(e).forEach((function(i){o&&typeof i=="symbol"||n(i,e[i],e)})):e.forEach((function(i,c){return n(c,i,e)}))}function u4(e){var n=e[Hy];return n?n.i>3?n.i-4:n.i:Array.isArray(e)?1:C1e(e)?2:E1e(e)?3:0}function pye(e,n){return u4(e)===2?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function qLe(e,n,o){var i=u4(e);i===2?e.set(n,o):i===3?e.add(o):e[n]=o}function C1e(e){return bqe&&e instanceof Map}function E1e(e){return Sqe&&e instanceof Set}function Bk(e){return e.o||e.t}function w1e(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var n=Eqe(e);delete n[Hy];for(var o=x1e(n),i=0;i<o.length;i++){var c=o[i],d=n[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Object.getPrototypeOf(e),n)}function _1e(e,n){return n===void 0&&(n=!1),T1e(e)||w2(e)||!_2(e)||(u4(e)>1&&(e.set=e.add=e.clear=e.delete=vqe),Object.freeze(e),n&&ez(e,(function(o,i){return _1e(i,!0)}),!0)),e}function vqe(){Z0(2)}function T1e(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function EE(e){var n=wqe[e];return n||Z0(18,e),n}function J_e(){return tz}function lme(e,n){n&&(EE("Patches"),e.u=[],e.s=[],e.v=n)}function hee(e){mye(e),e.p.forEach(yqe),e.p=null}function mye(e){e===tz&&(tz=e.l)}function Q_e(e){return tz={p:[],l:tz,h:e,m:!0,_:0}}function yqe(e){var n=e[Hy];n.i===0||n.i===1?n.j():n.g=!0}function cme(e,n){n._=n.p.length;var o=n.p[0],i=e!==void 0&&e!==o;return n.h.O||EE("ES5").S(n,e,i),i?(o[Hy].P&&(hee(n),Z0(4)),_2(e)&&(e=fee(n,e),n.l||pee(n,e)),n.u&&EE("Patches").M(o[Hy].t,e,n.u,n.s)):e=fee(n,o,[]),hee(n),n.u&&n.v(n.u,n.s),e!==KLe?e:void 0}function fee(e,n,o){if(T1e(n))return n;var i=n[Hy];if(!i)return ez(n,(function(v,S){return eTe(e,i,n,v,S,o)}),!0),n;if(i.A!==e)return n;if(!i.P)return pee(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var c=i.i===4||i.i===5?i.o=w1e(i.k):i.o,d=c,p=!1;i.i===3&&(d=new Set(c),c.clear(),p=!0),ez(d,(function(v,S){return eTe(e,i,c,v,S,o,p)})),pee(e,c,!1),o&&e.u&&EE("Patches").N(i,o,e.u,e.s)}return i.o}function eTe(e,n,o,i,c,d,p){if(w2(c)){var v=fee(e,c,d&&n&&n.i!==3&&!pye(n.R,i)?d.concat(i):void 0);if(qLe(o,i,v),!w2(v))return;e.m=!1}else p&&o.add(c);if(_2(c)&&!T1e(c)){if(!e.h.D&&e._<1)return;fee(e,c),n&&n.A.l||pee(e,c)}}function pee(e,n,o){o===void 0&&(o=!1),!e.l&&e.h.D&&e.m&&_1e(n,o)}function ume(e,n){var o=e[Hy];return(o?Bk(o):e)[n]}function tTe(e,n){if(n in e)for(var o=Object.getPrototypeOf(e);o;){var i=Object.getOwnPropertyDescriptor(o,n);if(i)return i;o=Object.getPrototypeOf(o)}}function gye(e){e.P||(e.P=!0,e.l&&gye(e.l))}function dme(e){e.o||(e.o=w1e(e.t))}function vye(e,n,o){var i=C1e(n)?EE("MapSet").F(n,o):E1e(n)?EE("MapSet").T(n,o):e.O?(function(c,d){var p=Array.isArray(c),v={i:p?1:0,A:d?d.A:J_e(),P:!1,I:!1,R:{},l:d,t:c,k:null,o:null,j:null,C:!1},S=v,_=yye;p&&(S=[v],_=X5);var x=Proxy.revocable(S,_),P=x.revoke,B=x.proxy;return v.k=B,v.j=P,B})(n,o):EE("ES5").J(n,o);return(o?o.A:J_e()).p.push(i),i}function nTe(e,n){switch(n){case 2:return new Map(e);case 3:return Array.from(e)}return w1e(e)}var oTe,tz,A1e=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",bqe=typeof Map<"u",Sqe=typeof Set<"u",sTe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",KLe=A1e?Symbol.for("immer-nothing"):((oTe={})["immer-nothing"]=!0,oTe),rTe=A1e?Symbol.for("immer-draftable"):"__$immer_draftable",Hy=A1e?Symbol.for("immer-state"):"__$immer_state",Cqe=""+Object.prototype.constructor,x1e=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Eqe=Object.getOwnPropertyDescriptors||function(e){var n={};return x1e(e).forEach((function(o){n[o]=Object.getOwnPropertyDescriptor(e,o)})),n},wqe={},yye={get:function(e,n){if(n===Hy)return e;var o=Bk(e);if(!pye(o,n))return(function(c,d,p){var v,S=tTe(d,p);return S?"value"in S?S.value:(v=S.get)===null||v===void 0?void 0:v.call(c.k):void 0})(e,o,n);var i=o[n];return e.I||!_2(i)?i:i===ume(e.t,n)?(dme(e),e.o[n]=vye(e.A.h,i,e)):i},has:function(e,n){return n in Bk(e)},ownKeys:function(e){return Reflect.ownKeys(Bk(e))},set:function(e,n,o){var i=tTe(Bk(e),n);if(i?.set)return i.set.call(e.k,o),!0;if(!e.P){var c=ume(Bk(e),n),d=c?.[Hy];if(d&&d.t===o)return e.o[n]=o,e.R[n]=!1,!0;if((function(p,v){return p===v?p!==0||1/p==1/v:p!=p&&v!=v})(o,c)&&(o!==void 0||pye(e.t,n)))return!0;dme(e),gye(e)}return e.o[n]===o&&(o!==void 0||n in e.o)||Number.isNaN(o)&&Number.isNaN(e.o[n])||(e.o[n]=o,e.R[n]=!0),!0},deleteProperty:function(e,n){return ume(e.t,n)!==void 0||n in e.t?(e.R[n]=!1,dme(e),gye(e)):delete e.R[n],e.o&&delete e.o[n],!0},getOwnPropertyDescriptor:function(e,n){var o=Bk(e),i=Reflect.getOwnPropertyDescriptor(o,n);return i&&{writable:!0,configurable:e.i!==1||n!=="length",enumerable:i.enumerable,value:o[n]}},defineProperty:function(){Z0(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Z0(12)}},X5={};ez(yye,(function(e,n){X5[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),X5.deleteProperty=function(e,n){return X5.set.call(this,e,n,void 0)},X5.set=function(e,n,o){return yye.set.call(this,e[0],n,o,e[0])};var _qe=(function(){function e(o){var i=this;this.O=sTe,this.D=!0,this.produce=function(c,d,p){if(typeof c=="function"&&typeof d!="function"){var v=d;d=c;var S=i;return function(z){var Z=this;z===void 0&&(z=v);for(var te=arguments.length,ce=Array(te>1?te-1:0),se=1;se<te;se++)ce[se-1]=arguments[se];return S.produce(z,(function(Se){var Ce;return(Ce=d).call.apply(Ce,[Z,Se].concat(ce))}))}}var _;if(typeof d!="function"&&Z0(6),p!==void 0&&typeof p!="function"&&Z0(7),_2(c)){var x=Q_e(i),P=vye(i,c,void 0),B=!0;try{_=d(P),B=!1}finally{B?hee(x):mye(x)}return typeof Promise<"u"&&_ instanceof Promise?_.then((function(z){return lme(x,p),cme(z,x)}),(function(z){throw hee(x),z})):(lme(x,p),cme(_,x))}if(!c||typeof c!="object"){if((_=d(c))===void 0&&(_=c),_===KLe&&(_=void 0),i.D&&_1e(_,!0),p){var H=[],U=[];EE("Patches").M(c,_,H,U),p(H,U)}return _}Z0(21,c)},this.produceWithPatches=function(c,d){if(typeof c=="function")return function(_){for(var x=arguments.length,P=Array(x>1?x-1:0),B=1;B<x;B++)P[B-1]=arguments[B];return i.produceWithPatches(_,(function(H){return c.apply(void 0,[H].concat(P))}))};var p,v,S=i.produce(c,d,(function(_,x){p=_,v=x}));return typeof Promise<"u"&&S instanceof Promise?S.then((function(_){return[_,p,v]})):[S,p,v]},typeof o?.useProxies=="boolean"&&this.setUseProxies(o.useProxies),typeof o?.autoFreeze=="boolean"&&this.setAutoFreeze(o.autoFreeze)}var n=e.prototype;return n.createDraft=function(o){_2(o)||Z0(8),w2(o)&&(o=(function(d){return w2(d)||Z0(22,d),(function p(v){if(!_2(v))return v;var S,_=v[Hy],x=u4(v);if(_){if(!_.P&&(_.i<4||!EE("ES5").K(_)))return _.t;_.I=!0,S=nTe(v,x),_.I=!1}else S=nTe(v,x);return ez(S,(function(P,B){_&&(function(H,U){return u4(H)===2?H.get(U):H[U]})(_.t,P)===B||qLe(S,P,p(B))})),x===3?new Set(S):S})(d)})(o));var i=Q_e(this),c=vye(this,o,void 0);return c[Hy].C=!0,mye(i),c},n.finishDraft=function(o,i){var c=(o&&o[Hy]).A;return lme(c,i),cme(void 0,c)},n.setAutoFreeze=function(o){this.D=o},n.setUseProxies=function(o){o&&!sTe&&Z0(20),this.O=o},n.applyPatches=function(o,i){var c;for(c=i.length-1;c>=0;c--){var d=i[c];if(d.path.length===0&&d.op==="replace"){o=d.value;break}}c>-1&&(i=i.slice(c+1));var p=EE("Patches").$;return w2(o)?p(o,i):this.produce(o,(function(v){return p(v,i)}))},e})(),Vb=new _qe,bt=Vb.produce;Vb.produceWithPatches.bind(Vb),Vb.setAutoFreeze.bind(Vb),Vb.setUseProxies.bind(Vb),Vb.applyPatches.bind(Vb),Vb.createDraft.bind(Vb),Vb.finishDraft.bind(Vb);const iTe={attendeesList:[],assistantList:[],xmppAttendeeList:[],allowTalkAttendeesList:[],failoverAttendeesList:[],isAdmitAllSilentUsers:!1},Tqe=wm({[`${c4}`]:bt(((e,{payload:n})=>{n.add!==void 0&&n.add.length>0&&n.add.forEach((o=>{if(o.userType===Eve.Assitant){const i=e.assistantList.find((c=>c.userId===o.userId));i!==void 0?Object.assign(i,o):e.assistantList.push(o)}else if($Q(o.userRole)){const i=e.allowTalkAttendeesList.find((c=>c.userId===o.userId));i!==void 0?Object.assign(i,o):e.allowTalkAttendeesList.push(o)}else{const i=e.attendeesList.find((c=>c.userId===o.userId));i!==void 0?Object.assign(i,o):e.attendeesList.push(o)}})),n.update!==void 0&&n.update.length>0&&n.update.forEach((o=>{const i=e.attendeesList.find((c=>c.userId===o.userId));if(i!==void 0)Object.assign(i,o);else{const c=e.allowTalkAttendeesList.find((d=>d.userId===o.userId));if(c!==void 0)Object.assign(c,o);else{const d=e.assistantList.find((p=>p.userId===o.userId));d!==void 0&&Object.assign(d,o)}}})),n.remove!==void 0&&n.remove.length>0&&n.remove.forEach((o=>{const i=e.attendeesList.findIndex((c=>c.userId===o.userId));if(i!==-1)e.attendeesList.splice(i,1);else{const c=e.allowTalkAttendeesList.findIndex((d=>d.userId===o.userId));if(c!==-1)e.allowTalkAttendeesList.splice(c,1);else{const d=e.assistantList.findIndex((p=>p.userId===o.userId));d!==-1&&e.assistantList.splice(d,1)}}}))})),[`${GLe}`]:bt(((e,{payload:n})=>{const{xmppAttendeeList:o}=e,i=o.map((c=>c.jid));n.forEach((c=>{const{jid:d}=c,p=i.indexOf(d);p!==-1?Object.assign(o[p],c):o.push(c)}))})),[`${VLe}`]:bt(((e,{payload:n})=>{e.isAdmitAllSilentUsers=n})),[`${ULe}`]:bt((e=>{e.attendeesList.forEach((n=>{n.bRaiseHand&&(n.bRaiseHand=!1)}))})),[`${zLe}`]:bt((e=>{e.attendeesList.forEach((n=>{n.feedback>0&&(n.feedback=0)}))})),[`${fye}`]:bt(((e,{payload:n})=>{e.failoverAttendeesList.push(n)})),[`${$Le}`]:bt(((e,{payload:n})=>{n.forEach((o=>{const i=e.failoverAttendeesList.findIndex((c=>c.zoomID===o.zoomID));i!==-1&&e.failoverAttendeesList.splice(i,1)}))})),[`${jLe}`]:bt(((e,{payload:n})=>{const{jid:o,name:i}=n,c=e.xmppAttendeeList.find((d=>d.jid===o));c&&(c.displayName=i)})),[`${WLe}`]:bt(((e,{payload:n})=>{const{jid:o}=n,i=e.xmppAttendeeList.findIndex((c=>c.jid===o));o!==-1&&e.xmppAttendeeList.splice(i,1)})),[`${Q6}`]:bt(((e,{payload:n})=>{const{userId:o,key:i,value:c}=n,d=e.attendeesList.find((p=>p.userId===o));d&&(d[`${i}`]=c)})),[`${HLe}`]:()=>iTe},iTe),Aqe={epics0:(e,n)=>Uo(e,Ul).pipe(Do((o=>cT(o.payload.body))),us(n),pn((([o,i])=>{let c=[c4(o)];const{meeting:{userId:d,isWebinar:p,isOnHold:v},participants:{attendeesList:S,failoverAttendeesList:_,allowTalkAttendeesList:x}}=i,P=x.map((H=>H.userId));if(o.add){const H=o.add.filter((z=>z.userId===d));H.length>0&&H.forEach((z=>{z.bHold!==void 0&&c.push(l3(z.bHold)),S.some((Z=>Z.userId===z.userId))?dt(Mp,z):dt(kz,z)}));const U=o.add.filter((z=>z.userId!==d));if(U.length>0){const z=U.filter((te=>!$Q(te.userRole))).map((te=>{const ce={...te};if(L2(te.userType)){var se;const Ce=(se=i.audio)===null||se===void 0?void 0:se.dialout.find((Te=>Te.phoneNodeId===te.userId));Ce&&Object.assign(ce,{phoneNumber:Ce.phoneNumber})}const Se=_.find((Ce=>Ce.zoomID===te.zoomID));return Se&&Object.assign(ce,{source:Se.isOnHold?"on hold":"failover"}),ce})),Z=z.filter((te=>!!te.source)).map((te=>({zoomID:te.zoomID})));if(c.push($Le(Z)),dt(Ste,z),p){const te=U.filter((ce=>$Q(ce.userRole)));te.length>0&&dt(uO,te.map((ce=>({userId:ce.userId,isAllowToTalk:!0}))))}}}if(o.update){const H=o.update.filter((z=>z.userId===d));H.length>0&&H.forEach((z=>{dt(Mp,z),z.bHold!==void 0&&c.push(l3(z.bHold))}));const U=o.update.filter((z=>!(z.userId===d||P.includes(z.userId))));if(U.length>0&&dt(NS,U),p){const z=o.update.filter((Z=>Z.userId!==d&&P.includes(Z.userId)));z.length>0&&dt(uO,z)}}if(o.remove){const H=o.remove.map((U=>{const z=S.find((Z=>Z.userId===U.userId));return z?U.action===2&&U.nUserStatus===1?z.bHold?(c.push(fye({zoomID:z.zoomID,isOnHold:!0})),{...U,...z,reason:"on hold"}):(c.push(fye({zoomID:z.zoomID,isOnHold:!1})),{...U,...z,reason:"failover"}):{...U,...z}:null})).filter((U=>!!U));if(dt(z0e,H),p){const U=o.remove.filter((z=>P.includes(z.userId)));U.length>0&&dt(uO,U.map((z=>({userId:z.userId,isAllowToTalk:!1}))))}}const B=c.filter((H=>H.type===`${l3}`));if(B.length>0){const H=B[B.length-1];c=c.filter((U=>U.type!==`${l3}`)),H.payload!==v&&(c.push(H),dt(j0e,!v))}return lo(c)}))),epics1:(e,n)=>R3(e,24595).pipe(pn((o=>{const{payload:{body:{action:i,data:c}}}=o,{meeting:{jid:d},participants:{xmppAttendeeList:p}}=n.value,v=[];if(i===gE.rename){c.forEach((_=>{v.push(jLe(_))}));const S=c.map((_=>ame(_)));dt(uO,S)}if(i===gE.Remove){c.forEach((_=>{v.push(WLe(_))}));const S=c.map((_=>({...ame(_),removed:!0})));dt(nMe,S)}if([gE.Add,gE.List,gE.update].includes(i)){const S=c.map((_=>{const x=ame(_);return Object.keys(x).reduce(((P,B)=>(x[B]!==""&&Object.assign(P,{[B]:x[B]}),P)),{})}));if(dt(uO,S),v.push(GLe(S)),i===gE.update){const _=c.find((x=>x.jid===d));if(_&&_.bRaiseHand!==void 0){const x=p.find((P=>P.jid===d));x?.bRaiseHand!==_.bRaiseHand&&dt("MEETING_WEBINAR_ATTENDEE_RAISE_HAND",{bRaiseHand:_.bRaiseHand})}}}return lo(v)}))),epics2:e=>Uo(e,7951).pipe(Yo((n=>{n.payload.body.bStarted===!1&&dt("ADMIT_ALL_SILENT_USERS_END",n.payload.body.bStarted)})),Do((n=>VLe(n.payload.body.bStarted)))),epics3:e=>Uo(e,7946).pipe(xn((n=>{var o;return["bRaiseHand","feedback"].includes((o=n.payload.body)===null||o===void 0?void 0:o.key)&&n.payload.body.value===0})),Do((n=>(dt(NS,{}),n.payload.body.key==="bRaiseHand"?ULe():zLe()))))},xqe=xg(Aqe);function aTe(e){return function(n,o,i){const c=i.value;i.value=function(...d){const p=this[dc];if(p){const{meeting:{meetingOptions:v}}=p.getState();if(v[e]===!0)return Promise.reject({type:"OPERATION_LOCKED",reason:`${e} is locked`})}return c.apply(this,d)}}}let yO=(function(e){return e.Self="Self",e.Other="Other",e.Client="Client",e.Phone="Phone",e.Attendee="Attendee",e})({});function hme(e){return function(n,o,i){const c=i.value;i.value=function(d,...p){const v=this[dc];if(v){const _=v.getState(),x=Array.isArray(e)?e:[e];let P=Va(_).find((B=>B.userId===d));if(x.findIndex((B=>B===yO.Attendee))>-1&&(P=Dz(_).find((B=>B.userId===d))),!P)return Promise.reject({type:ar,reason:"no matching user"});{const{meeting:{userId:B}}=v.getState();for(let H=0;H<x.length;H++){const U=x[H];if(U===yO.Other&&d===B)return Promise.reject({type:bn,reason:"operation is not applicable to self"});if(U===yO.Self&&d!==B)return Promise.reject({type:bn,reason:"operation is only applicable to self "});if(U===yO.Client&&L2(P.userType)||U===yO.Phone&&!L2(P.userType))return Promise.reject({types:bn,reason:"improper target client"})}}}const S=[d,...p];return c.apply(this,S)}}}var fme,Oqe=new Uint8Array(16);function Iqe(){if(!fme&&!(fme=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fme(Oqe)}for(var Rqe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ym=[],pme=0;pme<256;++pme)ym.push((pme+256).toString(16).substr(1));function mee(e,n,o){var i=(e=e||{}).random||(e.rng||Iqe)();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,(function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=(ym[c[d+0]]+ym[c[d+1]]+ym[c[d+2]]+ym[c[d+3]]+"-"+ym[c[d+4]]+ym[c[d+5]]+"-"+ym[c[d+6]]+ym[c[d+7]]+"-"+ym[c[d+8]]+ym[c[d+9]]+"-"+ym[c[d+10]]+ym[c[d+11]]+ym[c[d+12]]+ym[c[d+13]]+ym[c[d+14]]+ym[c[d+15]]).toLowerCase();if(!(function(v){return typeof v=="string"&&Rqe.test(v)})(p))throw TypeError("Stringified UUID is invalid");return p})(i)}let Ca=(function(e){return e.LocalStorage="LocalStorage",e.SessionStorage="SessionStorage",e.Memory="Memory",e})({});const lTe=bu("{}");class ni{constructor(n){this.sessionStorageKey=void 0,this.localStorageKey=void 0,this.sessionCache=void 0,this.localCache=void 0,this.memoryCache=void 0,this.sessionStorageKey=bu(`zoom-storage-${n}`),this.localStorageKey=bu("zoom-local-storage"),this.memoryCache={};try{this.sessionCache=JSON.parse(s1(sessionStorage.getItem(this.sessionStorageKey)||lTe)),this.localCache=JSON.parse(s1(localStorage.getItem(this.localStorageKey)||lTe))}catch(o){console.error(o),this.sessionCache={},this.localCache={}}}static init(n){this.instance=new ni(n)}static get(n){if(this.instance===void 0)throw new Error("read before initial");return this.instance.getValue(n).value}static set(n,o,i){if(this.instance===void 0)throw new Error("set before initial");return this.instance.setValue(n,o,i)}static remove(n){if(this.instance===void 0)throw new Error("remove before initial");return this.instance.removeValue(n)}static clearSession(){if(this.instance!==void 0)return this.instance.memoryCache={},this.instance.sessionCache={},this.instance.localCache={},sessionStorage.removeItem(this.instance.sessionStorageKey);console.warn("clear before initial")}getValue(n){return this.sessionCache.hasOwnProperty(n)?{value:this.sessionCache[n],type:Ca.SessionStorage}:this.localCache.hasOwnProperty(n)?{value:this.localCache[n],type:Ca.LocalStorage}:{value:this.memoryCache[n],type:Ca.Memory}}setValue(n,o,i){if(!n)throw new Error("key is null");switch(i){case Ca.SessionStorage:{const c=this.sessionCache[n];let d=o;return typeof o=="function"&&(d=o(c)),c!==d&&(this.sessionCache[n]=d,this.flushValue(Ca.SessionStorage)),d}case Ca.LocalStorage:{const c=this.localCache[n];let d=o;return typeof o=="function"&&(d=o(c)),c!==d&&(this.localCache[n]=d,this.flushValue(Ca.LocalStorage)),d}case Ca.Memory:{const c=this.memoryCache[n];let d=o;return typeof o=="function"&&(d=o(c)),this.memoryCache[n]=d,d}default:return null}}removeValue(n){const{type:o}=this.getValue(n);switch(o){case Ca.SessionStorage:delete this.sessionCache[n],this.flushValue(Ca.SessionStorage);break;case Ca.LocalStorage:delete this.localCache[n],this.flushValue(Ca.LocalStorage);break;case Ca.Memory:delete this.memoryCache[n]}}flushValue(n){n===Ca.SessionStorage?sessionStorage.setItem(this.sessionStorageKey,bu(JSON.stringify(this.sessionCache))):n===Ca.LocalStorage&&localStorage.setItem(this.localStorageKey,bu(JSON.stringify(this.localCache)))}}ni.instance=void 0;let rl=(function(e){return e.WebclientOpt="WEB_CLIENT_OPT",e.WebclientWebinarToken="WEB_CLIENT_WEBINAR_TOKEN",e.WebclientMeetingToken="WEB_CLIENT_MEETING_TOKEN",e.WebclientZtk="WEB_CLIENT_ZTK",e.WebclientZsk="WEB_CLIENT_ZSK",e.WebclientTk="WEB_CLIENT_TK",e.WebclientIVState="WEB_CLIENT_IV_STATE",e.WebclientIsOnHold="WEB_CLIENT_IS_ON_HOLD",e.WebclientParticipantId="WEB_CLIENT_PARTICIPANT_ID",e.WebclientZoomId="WEB_CLIENT_ZOOM_ID",e.WebclientUserName="WEB_CLIENT_USER_NAME",e.WebclientUserEmail="WEB_CLIENT_USER_EMAIL",e.WebclientBreakoutRoomAttendeeStatus="WEB_CLIENT_BO_ATTENDEE_STATUS",e.WebclientBreakoutRoomCommand="WEB_CLIENT_BO_COMMAND",e.WebclientAudioEncryptKey="WEB_CLIENT_AUDIO_ENCRYPT_KEY",e.WebclientVideoEncryptKey="WEB_CLIENT_VIDEO_ENCRYPT_KEY",e.WebclientSharingEncryptKey="WEB_CLIENT_SHARING_ENCRYPT_KEY",e.WebclientFailoverCount="WEB_CLIENT_FAILOVER_COUNT",e.WebclientRecordingToken="WEB_CLIENT_RECORDING_TOKEN",e.VideoSDKWebRTCAudioFallbackWasm="VIDEO_SDK_WEB_RTC_AUDIO_FALLBACK_WASM",e.VideoSDKWebRTCVideoFallbackWasm="VIDEO_SDK_WEB_RTC_VIDEO_FALLBACK_WASM",e.VIDEO_SDK_BROADCAST_STREAMING_CHANNEL_ID="VIDEO_SDK_BROADCAST_STREAMING_CHANNEL_ID",e})({}),bye=(function(e){return e.WebclientDeviceId="WEBCLIENT_DEVICE_ID",e.VSDKLogTrackingId="ZM_VSDK_LOG_TRACKING_IDS",e})({}),ZLe=(function(e){return e.DisableAutoReportLogs="DISABLE_AUTO_REPORT_LOGS",e})({});var Op,Zu,gee,SE;(function(e){e[e.PLAIN=0]="PLAIN",e[e.RSA=1]="RSA",e[e.AESGCM256=2]="AESGCM256"})(Op||(Op={})),(function(e){e[e.info=0]="info",e[e.debug=1]="debug",e[e.log=2]="log",e[e.warn=3]="warn",e[e.error=4]="error"})(Zu||(Zu={})),(function(e){e[e.PROTECT_LOCAL_KEY=0]="PROTECT_LOCAL_KEY"})(gee||(gee={})),(function(e){e.beforeInit="beforeInit",e.afterInit="afterInit",e.beforeLog="beforeLog",e.hitSizeLimit="hitSizeLimit",e.afterLog="afterLog",e.beforeReport="beforeReport",e.afterReport="afterReport"})(SE||(SE={}));class O1e{constructor(){}}var cTe,uTe,dTe={exports:{}},hTe={exports:{}},kqe=(function(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var o=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach((function(i){var c=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(o,i,c.get?c:{enumerable:!0,get:function(){return e[i]}})})),o})(Object.freeze({__proto__:null,default:{}}));function YLe(){return cTe||(cTe=1,hTe.exports=(e=e||(function(n){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&s2!==void 0&&s2.crypto&&(o=s2.crypto),!o)try{o=kqe}catch{}var i=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||(function(){function z(){}return function(Z){var te;return z.prototype=Z,te=new z,z.prototype=null,te}})(),d={},p=d.lib={},v=p.Base={extend:function(z){var Z=c(this);return z&&Z.mixIn(z),Z.hasOwnProperty("init")&&this.init!==Z.init||(Z.init=function(){Z.$super.init.apply(this,arguments)}),Z.init.prototype=Z,Z.$super=this,Z},create:function(){var z=this.extend();return z.init.apply(z,arguments),z},init:function(){},mixIn:function(z){for(var Z in z)z.hasOwnProperty(Z)&&(this[Z]=z[Z]);z.hasOwnProperty("toString")&&(this.toString=z.toString)},clone:function(){return this.init.prototype.extend(this)}},S=p.WordArray=v.extend({init:function(z,Z){z=this.words=z||[],this.sigBytes=Z??4*z.length},toString:function(z){return(z||x).stringify(this)},concat:function(z){var Z=this.words,te=z.words,ce=this.sigBytes,se=z.sigBytes;if(this.clamp(),ce%4)for(var Se=0;Se<se;Se++){var Ce=te[Se>>>2]>>>24-Se%4*8&255;Z[ce+Se>>>2]|=Ce<<24-(ce+Se)%4*8}else for(var Te=0;Te<se;Te+=4)Z[ce+Te>>>2]=te[Te>>>2];return this.sigBytes+=se,this},clamp:function(){var z=this.words,Z=this.sigBytes;z[Z>>>2]&=4294967295<<32-Z%4*8,z.length=n.ceil(Z/4)},clone:function(){var z=v.clone.call(this);return z.words=this.words.slice(0),z},random:function(z){for(var Z=[],te=0;te<z;te+=4)Z.push(i());return new S.init(Z,z)}}),_=d.enc={},x=_.Hex={stringify:function(z){for(var Z=z.words,te=z.sigBytes,ce=[],se=0;se<te;se++){var Se=Z[se>>>2]>>>24-se%4*8&255;ce.push((Se>>>4).toString(16)),ce.push((15&Se).toString(16))}return ce.join("")},parse:function(z){for(var Z=z.length,te=[],ce=0;ce<Z;ce+=2)te[ce>>>3]|=parseInt(z.substr(ce,2),16)<<24-ce%8*4;return new S.init(te,Z/2)}},P=_.Latin1={stringify:function(z){for(var Z=z.words,te=z.sigBytes,ce=[],se=0;se<te;se++){var Se=Z[se>>>2]>>>24-se%4*8&255;ce.push(String.fromCharCode(Se))}return ce.join("")},parse:function(z){for(var Z=z.length,te=[],ce=0;ce<Z;ce++)te[ce>>>2]|=(255&z.charCodeAt(ce))<<24-ce%4*8;return new S.init(te,Z)}},B=_.Utf8={stringify:function(z){try{return decodeURIComponent(escape(P.stringify(z)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(z){return P.parse(unescape(encodeURIComponent(z)))}},H=p.BufferedBlockAlgorithm=v.extend({reset:function(){this._data=new S.init,this._nDataBytes=0},_append:function(z){typeof z=="string"&&(z=B.parse(z)),this._data.concat(z),this._nDataBytes+=z.sigBytes},_process:function(z){var Z,te=this._data,ce=te.words,se=te.sigBytes,Se=this.blockSize,Ce=se/(4*Se),Te=(Ce=z?n.ceil(Ce):n.max((0|Ce)-this._minBufferSize,0))*Se,V=n.min(4*Te,se);if(Te){for(var ke=0;ke<Te;ke+=Se)this._doProcessBlock(ce,ke);Z=ce.splice(0,Te),te.sigBytes-=V}return new S.init(Z,V)},clone:function(){var z=v.clone.call(this);return z._data=this._data.clone(),z},_minBufferSize:0});p.Hasher=H.extend({cfg:v.extend(),init:function(z){this.cfg=this.cfg.extend(z),this.reset()},reset:function(){H.reset.call(this),this._doReset()},update:function(z){return this._append(z),this._process(),this},finalize:function(z){return z&&this._append(z),this._doFinalize()},blockSize:16,_createHelper:function(z){return function(Z,te){return new z.init(te).finalize(Z)}},_createHmacHelper:function(z){return function(Z,te){return new U.HMAC.init(z,te).finalize(Z)}}});var U=d.algo={};return d})(Math),e)),hTe.exports;var e}var fTe,mme,XLe=uTe?dTe.exports:(uTe=1,dTe.exports=YLe().enc.Utf8),pTe={exports:{}},JLe=(fTe||(fTe=1,pTe.exports=(mme=YLe(),(function(){var e=mme,n=e.lib.WordArray;function o(i,c,d){for(var p=[],v=0,S=0;S<c;S++)if(S%4){var _=d[i.charCodeAt(S-1)]<<S%4*2|d[i.charCodeAt(S)]>>>6-S%4*2;p[v>>>2]|=_<<24-v%4*8,v++}return n.create(p,v)}e.enc.Base64={stringify:function(i){var c=i.words,d=i.sigBytes,p=this._map;i.clamp();for(var v=[],S=0;S<d;S+=3)for(var _=(c[S>>>2]>>>24-S%4*8&255)<<16|(c[S+1>>>2]>>>24-(S+1)%4*8&255)<<8|c[S+2>>>2]>>>24-(S+2)%4*8&255,x=0;x<4&&S+.75*x<d;x++)v.push(p.charAt(_>>>6*(3-x)&63));var P=p.charAt(64);if(P)for(;v.length%4;)v.push(P);return v.join("")},parse:function(i){var c=i.length,d=this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var v=0;v<d.length;v++)p[d.charCodeAt(v)]=v}var S=d.charAt(64);if(S){var _=i.indexOf(S);_!==-1&&(c=_)}return o(i,c,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),mme.enc.Base64)),pTe.exports),vee=function(e,n,o,i){return new(o||(o=Promise))((function(c,d){function p(_){try{S(i.next(_))}catch(x){d(x)}}function v(_){try{S(i.throw(_))}catch(x){d(x)}}function S(_){var x;_.done?c(_.value):(x=_.value,x instanceof o?x:new o((function(P){P(x)}))).then(p,v)}S((i=i.apply(e,[])).next())}))};const Dqe=e=>{try{const n=JLe.parse(e);return XLe.stringify(n)}catch{return e}},yee=e=>{for(var n=e.length,o=e.length-1;o>=0;o--){var i=e.charCodeAt(o);i>127&&i<=2047?n++:i>2047&&i<=65535&&(n+=2),i>=56320&&i<=57343&&o--}return n},QLe=()=>vee(void 0,void 0,void 0,(function*(){return yield self.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])})),Mqe=(e,n,o)=>vee(void 0,void 0,void 0,(function*(){try{return yield self.crypto.subtle.encrypt({name:"AES-GCM",iv:o},n,e)}catch(i){throw i}})),Pqe=(e,n)=>{const o=typeof e=="string"?(function(i){const c=new ArrayBuffer(i.length),d=new Uint8Array(c);for(let p=0,v=i.length;p<v;p++)d[p]=i.charCodeAt(p);return c})(e):e;return self.crypto.subtle.encrypt({name:"RSA-OAEP"},n,o)},e3e={},bee=(e,n)=>{e3e[n]=e},Nqe=e3e,I1e=e=>{try{return JSON.stringify(e)}catch{return"json stringify failed"}},Lqe=e=>{try{return JSON.parse(e)}catch{return e}},mTe=e=>{let n=0;return n+=yee(e.message),e.tags.forEach((o=>{n+=yee(o)})),n};class Bqe{constructor(n){this.uuid="randomUUID"in self.crypto?self.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(B=>(B^crypto.getRandomValues(new Uint8Array(1))[0]&15>>B/4).toString(16)));const{databaseName:o,maxSize:i,publicKey:c,reportUrl:d,plugins:p,idbManager:v,logManager:S,currentSize:_,externalKeys:x,codecWorkerFilePath:P}=n;this.databaseName=o,this.maxSize=i,this.publicKey=c??"",this.reportUrl=d??"",this.plugins=p??[],this.idbManager=v,this.logManager=S,this.currentSize=_??0,this.externalKeys=x,this.commonMethods=Object.assign({},Nqe)}getLocalAESGCM256Key(){var n;return(function(o,i,c,d){return new(c||(c=Promise))((function(p,v){function S(P){try{x(d.next(P))}catch(B){v(B)}}function _(P){try{x(d.throw(P))}catch(B){v(B)}}function x(P){var B;P.done?p(P.value):(B=P.value,B instanceof c?B:new c((function(H){H(B)}))).then(S,_)}x((d=d.apply(o,[])).next())}))})(this,void 0,void 0,(function*(){if(this.localAESGCM256Key)return this.localAESGCM256Key;this.localAESGCM256Key=yield QLe();const o=this.externalKeys?(n=this.externalKeys.filter((i=>i.usage===gee.PROTECT_LOCAL_KEY))[0])===null||n===void 0?void 0:n.key:void 0;return yield this.idbManager.saveAESGCM256Key(this.uuid,this.localAESGCM256Key,o),this.localAESGCM256Key}))}updateCurrentSize(n){var o;let i=(o=this.currentSize)!==null&&o!==void 0?o:0;if(n instanceof Map)for(const[c,d]of n)i+=mTe(d);else i+=mTe(n);return this.currentSize=i,i>=this.maxSize}}const gme=(...e)=>{const n={},o=[];for(const c of e)c.forEach((d=>{n[d.id]||(n[d.id]=!0,o.push(d))}));const i=new Map;return o.sort(((c,d)=>c?.id-d?.id)).forEach((c=>{i.set(c.id,c)})),i},EX=(e,n)=>{const o=new Map;return n.forEach((i=>{e(i)&&o.set(i.id,i)})),o};class Fqe{constructor(){this.getStore=()=>({byTag:Object.assign({},this.store.byTag),byTime:new Map(this.store.byTime)}),this.pushByTime=n=>{for(const o of n)this.store.byTime.set(o.id,o)},this.pushByTag=n=>{n.forEach((o=>{const i=o.tags;Array.isArray(i)&&i.forEach((c=>{this.store.byTag[c]||(this.store.byTag[c]=new Map),this.store.byTag[c].set(o.id,o)}))}))},this.addLog=n=>{let o=n;Array.isArray(n)||(o=[n]),this.pushByTime(o),this.pushByTag(o)},this.syncFromIDB=n=>(function(o,i,c,d){return new(c||(c=Promise))((function(p,v){function S(P){try{x(d.next(P))}catch(B){v(B)}}function _(P){try{x(d.throw(P))}catch(B){v(B)}}function x(P){var B;P.done?p(P.value):(B=P.value,B instanceof c?B:new c((function(H){H(B)}))).then(S,_)}x((d=d.apply(o,[])).next())}))})(this,void 0,void 0,(function*(){const o=yield n.getAllLogs();this.addLog(o)})),this.reset=()=>{this.store={byTag:{},byTime:new Map}},this.deleteLogs=n=>{for(const o of n){const i=this.store.byTime.get(o);if(!i)continue;const{tags:c}=i;for(const d of c)this.store.byTag[d].delete(o);this.store.byTime.delete(o)}},this.filterStore=n=>{const o=((c,d)=>{if(!d)return c.byTime;if(typeof d=="string")return c.byTag[d]||new Map;if(Array.isArray(d)){if(d.every((p=>typeof p=="string")))return gme(...d.map((p=>c.byTag[p])).filter((p=>!!p)))}else{if(typeof d=="function")return EX(d,c.byTime);if(typeof d=="object")if(d.tags&&d.filter){if(typeof d.tags=="string")return EX(d.filter,c.byTag[d.tags]);if(Array.isArray(d.tags)&&d.tags.every((p=>typeof p=="string")))return gme(...d.tags.map((p=>{const v=c.byTag[p];return v?EX(d.filter,v):new Map})))}else{if(d.filter)return EX(d.filter,c.byTime);if(d.tags){if(typeof d=="string")return c.byTag[d]||new Map;if(Array.isArray(d)&&d.every((p=>typeof p=="string")))return gme(...d.map((p=>c.byTag[p])))}}else console.error("Wrong filter type")}return new Map})(this.store,n),i=new Map;for(const[c,d]of o){const p=Object.assign(Object.assign({},d),{message:Lqe(Dqe(d.message))});i.set(c,p)}return i},this.store={byTag:{},byTime:new Map}}}function OO(e,n,o){const i=e.plugins;if(!Array.isArray(i))return o;let c=o;return i.forEach((d=>{const p=d[n];if(typeof p=="function"){const v=p(e,c);v&&(c=v)}})),c}const t3e=(e,n,o,i,c,d={})=>(function(p,v,S,_){return new(S||(S=Promise))((function(x,P){function B(z){try{U(_.next(z))}catch(Z){P(Z)}}function H(z){try{U(_.throw(z))}catch(Z){P(Z)}}function U(z){var Z;z.done?x(z.value):(Z=z.value,Z instanceof S?Z:new S((function(te){te(Z)}))).then(B,H)}U((_=_.apply(p,[])).next())}))})(void 0,void 0,void 0,(function*(){const{noCache:p,extraProperties:v={}}=d,S=((x,P,B,H,U,z)=>{const Z=Array.isArray(P)?P:[P],te=Date.now();return Object.assign({message:x,logLevel:B,tags:Z,encryptMode:H,timestamp:te,laplaceSessionId:U},z)})(`${n}`,o,i,c,e.uuid,v),_=OO(e,SE.beforeLog,S);if(p)OO(e,SE.afterLog,S);else{const{idbManager:x,logManager:P}=e,B=yield x.makeNextId();_.message=(U=>{try{const z=XLe.parse(U);return JLe.stringify(z)}catch{return U}})(_.message);const H=Object.assign(Object.assign({},_),{id:B});e.updateCurrentSize(H)&&OO(e,SE.hitSizeLimit,H),P.addLog(H),yield x.addLog(H),OO(e,SE.afterLog,H)}}));bee(t3e,"commonLog");const Vqe=e=>new Promise((n=>{if(e.isSendByBeacon)navigator.sendBeacon?(navigator.sendBeacon(e.url,e.data),n({report:e.reportItem})):n({error:"sendBeacon is not supported",report:e.reportItem});else{const o=new XMLHttpRequest;o.open(e.type||"GET",e.url,!0),o.withCredentials=e.withCredentials,o.onerror=i=>{n({error:i,report:e.reportItem})},o.onreadystatechange=function(){if(o.readyState===4){const i=o.status;n(i>=200&&i<300?{report:e.reportItem}:{error:`Request failed, status: ${i}, responseText: ${o.responseText}`,report:e.reportItem})}},Object.entries(e.headers).forEach((([i,c])=>{c&&i&&o.setRequestHeader(i,c)})),o.send(e.data)}})),VL=(e,n=2)=>{let o=`${e}`;for(;o.length<n;)o=`0${o}`;return o},n3e=e=>{const n=new Date(e);return`${n.getUTCFullYear()}-${VL(n.getUTCMonth()+1)}-${VL(n.getUTCDate())} ${VL(n.getUTCHours())}:${VL(n.getUTCMinutes())}:${VL(n.getUTCSeconds())}.${VL(n.getUTCMilliseconds(),3)}`},o3e={version:"000001",flag:"0"},Hqe=(e,n)=>Array.from(e.values()).reduce(((o,i)=>{const c=((v,S)=>{const{message:_,logLevel:x,tags:P,timestamp:B,encryptMode:H,id:U}=v,z=(function(te,ce){var se={};for(var Se in te)Object.prototype.hasOwnProperty.call(te,Se)&&ce.indexOf(Se)<0&&(se[Se]=te[Se]);if(te!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ce=0;for(Se=Object.getOwnPropertySymbols(te);Ce<Se.length;Ce++)ce.indexOf(Se[Ce])<0&&Object.prototype.propertyIsEnumerable.call(te,Se[Ce])&&(se[Se[Ce]]=te[Se[Ce]])}return se})(v,["message","logLevel","tags","timestamp","encryptMode","id"]),Z=Object.assign(Object.assign({time:n3e(B),logLevel:Zu[x],message:_,tags:P},S),z);return I1e(Z)})(i,n),d=yee(c),p=o[o.length-1];return p.currentSize+d>30720?o.push({messages:[c],ids:[i.id],currentSize:d}):(p.messages.push(c),p.ids.push(i.id),p.currentSize+=d),o}),[{messages:[],ids:[],currentSize:0}]).filter((o=>o.currentSize>0)).map((o=>({messages:o.messages.join(`
`),ids:o.ids,meta:o3e}))),s3e=(e,n,o)=>((i,c,d)=>Promise.all(i.map((p=>Object.assign({url:c||"",type:"POST",withCredentials:!1,headers:{},data:I1e({messages:p.messages,meta:p.meta}),reportItem:p},d))).map(Vqe)))(e,n.reportUrl,o).then((i=>{i.forEach((c=>{var d;OO(n,SE.afterReport,{report:c.report,error:(d=c.error)!==null&&d!==void 0?d:null})}))})),r3e=(e,n,o)=>(function(i,c,d,p){return new(d||(d=Promise))((function(v,S){function _(B){try{P(p.next(B))}catch(H){S(H)}}function x(B){try{P(p.throw(B))}catch(H){S(H)}}function P(B){var H;B.done?v(B.value):(H=B.value,H instanceof d?H:new d((function(U){U(H)}))).then(_,x)}P((p=p.apply(i,[])).next())}))})(void 0,void 0,void 0,(function*(){const i=e.logManager.filterStore(n);if(!i||i?.size===0||!o)return;const{xhrOptions:c={},additionalContext:d}=o,p=OO(e,SE.beforeReport,i),v=Hqe(p,d);s3e(v,e,c)}));bee(r3e,"commonReport");var i3e=function(e,n,o,i){return new(o||(o=Promise))((function(c,d){function p(_){try{S(i.next(_))}catch(x){d(x)}}function v(_){try{S(i.throw(_))}catch(x){d(x)}}function S(_){var x;_.done?c(_.value):(x=_.value,x instanceof o?x:new o((function(P){P(x)}))).then(p,v)}S((i=i.apply(e,[])).next())}))};const a3e=(e,n,o)=>i3e(void 0,void 0,void 0,(function*(){const{idbManager:i,logManager:c}=e;if(Array.isArray(o)&&(yield i.deleteLogs(o),c.deleteLogs(o),!n))return;const d=e.logManager.filterStore(n),p=[];for(const[S,_]of d)p.push(_.id);let v=p;Array.isArray(p)||(v=[p]),yield i.deleteLogs(v),c.deleteLogs(v)})),l3e=e=>i3e(void 0,void 0,void 0,(function*(){const{idbManager:n,logManager:o}=e;yield n.reset(),o.reset()}));function NO(e){return new Promise(((n,o)=>{e.oncomplete=e.onsuccess=()=>n(e.result),e.onabort=e.onerror=()=>o(e.error)}))}function c3e(e,n){let o;return(i,c)=>(()=>{if(o)return o;const d=indexedDB.open(e);return d.onupgradeneeded=()=>d.result.createObjectStore(n),o=NO(d),o.then((p=>{p.onclose=()=>o=void 0}),(()=>{})),o})().then((d=>c(d.transaction(n,i).objectStore(n))))}let vme;function w6(){return vme||(vme=c3e("keyval-store","keyval")),vme}function gTe(e,n=w6()){return n("readwrite",(o=>(e.forEach((i=>o.delete(i))),NO(o.transaction))))}function $qe(e=w6()){return e("readonly",(n=>{if(n.getAll&&n.getAllKeys)return Promise.all([NO(n.getAllKeys()),NO(n.getAll())]).then((([i,c])=>i.map(((d,p)=>[d,c[p]]))));const o=[];return e("readonly",(i=>(function(c){return c.openCursor().onsuccess=function(){this.result&&((d=>{o.push([d.key,d.value])})(this.result),this.result.continue())},NO(c.transaction)})(i).then((()=>o))))}))}bee(a3e,"commonDelete"),bee(l3e,"commonReset");const vTe={default:{queue:[],isRunning:!1,listeners:[]}},R1e=e=>{let n=vTe[e];return n||(n={queue:[],isRunning:!1,listeners:[]},vTe[e]=n),n};function u3e(e){return(function(n,o,i,c){return new(i||(i=Promise))((function(d,p){function v(x){try{_(c.next(x))}catch(P){p(P)}}function S(x){try{_(c.throw(x))}catch(P){p(P)}}function _(x){var P;x.done?d(x.value):(P=x.value,P instanceof i?P:new i((function(B){B(P)}))).then(v,S)}_((c=c.apply(n,[])).next())}))})(this,void 0,void 0,(function*(){const n=R1e(e),{queue:o,listeners:i}=n;for(;o.length>0&&!n.isRunning;){const c=o.shift();n.isRunning=!0;try{const d=yield c.task();c.resolution(d)}catch(d){c.rejection(d)}n.isRunning=!1,u3e(e)}i.length&&i.forEach((c=>{c()}))}))}function wX(e,n="default"){const o=R1e(n);try{return new Promise(((i,c)=>{o.queue.push({task:e,resolution:i,rejection:c}),u3e(n)}))}catch(i){return Promise.reject(i)}}const yTe=(e,n)=>{R1e(e).listeners.push(n)};var Nb=function(e,n,o,i){return new(o||(o=Promise))((function(c,d){function p(_){try{S(i.next(_))}catch(x){d(x)}}function v(_){try{S(i.throw(_))}catch(x){d(x)}}function S(_){var x;_.done?c(_.value):(x=_.value,x instanceof o?x:new o((function(P){P(x)}))).then(p,v)}S((i=i.apply(e,[])).next())}))};const yme="change_meta",bme="change_log",HL=()=>Promise.resolve();class Uqe{constructor(n){this.waitingForReset=!1,this.resetting=!1,this.isChangingMeta=!1,this.isChangingLog=!1,this.dbFailCount={read:0,write:0},this.get=o=>(function(i,c=w6()){return c("readonly",(d=>NO(d.get(i))))})(o,this.store),this.set=(o,i)=>Nb(this,void 0,void 0,(function*(){try{return!(this.dbFailCount.write>3)&&(yield(function(c,d,p=w6()){return p("readwrite",(v=>(v.put(d,c),NO(v.transaction))))})(o,i,this.store))}catch(c){c instanceof DOMException&&(c&&c.name==="QuotaExceededError"?(yield this.deleteOldLogsForSetNewOne(),yield this.set(o,i)):this.dbFailCount.write+=1),console.error(c)}})),this.deleteOldLogsForSetNewOne=()=>Nb(this,void 0,void 0,(function*(){var o;const i=yield this.getAllLogs(),c=[];for(let d=0;d<13;d++){const p=(o=i[d])===null||o===void 0?void 0:o.id;(p||p===0)&&c.push(`${p}`)}return gTe(c,this.store)})),this.adjustMaxId=()=>Nb(this,void 0,void 0,(function*(){return this.resetting?HL():(this.isChangingMeta=!0,yield wX((()=>Nb(this,void 0,void 0,(function*(){var o;const i=yield this.getAllLogs(),c=i[i.length-1],d=(o=c?.id)!==null&&o!==void 0?o:0;return yield this.set("maxId",d),d}))),yme))})),this.makeNextId=()=>Nb(this,void 0,void 0,(function*(){return this.resetting?HL():(this.isChangingMeta=!0,yield wX((()=>Nb(this,void 0,void 0,(function*(){const o=yield this.get("maxId");if(!o&&o!==0)return yield this.set("maxId",0),0;const i=o+1;return yield this.set("maxId",i),i}))),yme))})),this.addLog=o=>Nb(this,void 0,void 0,(function*(){if(this.resetting)return HL();this.isChangingLog=!0,yield wX((()=>Nb(this,void 0,void 0,(function*(){const{id:i}=o;return this.set(`${i}`,o)}))),bme)})),this.getAllLogs=()=>Nb(this,void 0,void 0,(function*(){return(yield $qe(this.store)).filter((([o])=>o!=="maxId")).sort(((o,i)=>{var c,d;return((c=o[1])===null||c===void 0?void 0:c.id)-((d=i[1])===null||d===void 0?void 0:d.id)})).map((([,o])=>o))})),this.deleteLogs=o=>Nb(this,void 0,void 0,(function*(){if(this.resetting)return HL();this.isChangingLog=!0,yield wX((()=>Nb(this,void 0,void 0,(function*(){return gTe(o.map((i=>`${i}`)),this.store)}))),bme),yield this.adjustMaxId()})),this.saveAESGCM256Key=(o,i,c)=>Nb(this,void 0,void 0,(function*(){if(c){const d=yield self.crypto.subtle.exportKey("raw",i),p=yield((v,S,_)=>vee(void 0,void 0,void 0,(function*(){return new Promise(((x,P)=>{requestAnimationFrame((()=>vee(void 0,void 0,void 0,(function*(){var B;const H=(B=S?.algorithm)===null||B===void 0?void 0:B.name;let U;if(H==="RSA-OAEP"?U=Pqe:H==="AES-GCM"&&(U=Mqe),!U)throw new Error("Unsupported encrypt key type");if(typeof v=="string"){const z=new TextEncoder,Z=yield U(z.encode(v),S,_);x(Z)}else{const z=yield U(v,S,_);x(z)}}))))}))})))(d,c,new Uint8Array(16));yield this.set(`aes-gcm-256-${o}`,p)}else yield this.set(`aes-gcm-256-${o}`,i)})),this.reset=()=>Nb(this,void 0,void 0,(function*(){return this.resetting?HL():(this.waitingForReset=!0,this.isChangingLog||this.isChangingMeta?HL():(this.resetting=!0,yield(function(o=w6()){return o("readwrite",(i=>(i.clear(),NO(i.transaction))))})(this.store),this.resetting=!1,void(this.waitingForReset=!1)))})),this.store=c3e(n,n+"-store"),yTe(yme,(()=>{if(this.isChangingMeta=!1,this.waitingForReset)return this.reset()})),yTe(bme,(()=>{if(this.isChangingLog=!1,this.waitingForReset)return this.reset()}))}}var Gu=function(e,n,o,i){return new(o||(o=Promise))((function(c,d){function p(_){try{S(i.next(_))}catch(x){d(x)}}function v(_){try{S(i.throw(_))}catch(x){d(x)}}function S(_){var x;_.done?c(_.value):(x=_.value,x instanceof o?x:new o((function(P){P(x)}))).then(p,v)}S((i=i.apply(e,[])).next())}))};const zqe={databaseName:"laplace-default-db",maxSize:49283072};class Sye{constructor(n){this.commonLogWithContext=(i,c,d,p,v)=>Gu(this,void 0,void 0,(function*(){yield t3e(this.runtimeMetaManager,i,c,d,p,v)})),this.commonReportWithContext=(i,c)=>Gu(this,void 0,void 0,(function*(){yield r3e(this.runtimeMetaManager,i,c)})),this.commonDeleteWithContext=i=>Gu(this,void 0,void 0,(function*(){yield a3e(this.runtimeMetaManager,i)})),this.resetWithContext=()=>Gu(this,void 0,void 0,(function*(){yield l3e(this.runtimeMetaManager)})),this.initLocalAESGCM256Key=()=>Gu(this,void 0,void 0,(function*(){return yield QLe()})),this.doNotUseDirtyGetStore=()=>this.runtimeMetaManager.logManager.getStore(),this.log=(i,c,d)=>Gu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.log,Op.PLAIN,{extraProperties:d})})),this.info=(i,c,d)=>Gu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.info,Op.PLAIN,{extraProperties:d})})),this.warn=(i,c,d)=>Gu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.warn,Op.PLAIN,{extraProperties:d})})),this.debug=(i,c,d)=>Gu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.debug,Op.PLAIN,{extraProperties:d})})),this.error=(i,c,d)=>Gu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.error,Op.PLAIN,{extraProperties:d})})),this.logWithEncryption=(i,c,d)=>Gu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.log,Op.AESGCM256,{extraProperties:d})})),this.infoWithEncryption=(i,c,d)=>Gu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.info,Op.AESGCM256,{extraProperties:d})})),this.debugWithEncryption=(i,c,d)=>Gu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.debug,Op.AESGCM256,{extraProperties:d})})),this.warnWithEncryption=(i,c,d)=>Gu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.warn,Op.AESGCM256,{extraProperties:d})})),this.errorWithEncryption=(i,c,d)=>Gu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.error,Op.AESGCM256,{extraProperties:d})})),this.logWithoutCache=(i,c,d)=>Gu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.log,Op.PLAIN,{extraProperties:d,noCache:!0})})),this.infoWithoutCache=(i,c,d)=>Gu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.info,Op.PLAIN,{extraProperties:d,noCache:!0})})),this.warnWithoutCache=(i,c,d)=>Gu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.warn,Op.PLAIN,{extraProperties:d,noCache:!0})})),this.debugWithoutCache=(i,c,d)=>Gu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.debug,Op.PLAIN,{extraProperties:d,noCache:!0})})),this.errorWithoutCache=(i,c,d)=>Gu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.error,Op.PLAIN,{extraProperties:d,noCache:!0})})),this.getLogs=i=>{const c=this.runtimeMetaManager.logManager;return c?c.filterStore(i):new Map},this.report=(...i)=>((c,d,p={})=>(function(v,S,_,x){return new(_||(_=Promise))((function(P,B){function H(Z){try{z(x.next(Z))}catch(te){B(te)}}function U(Z){try{z(x.throw(Z))}catch(te){B(te)}}function z(Z){var te;Z.done?P(Z.value):(te=Z.value,te instanceof _?te:new _((function(ce){ce(te)}))).then(H,U)}z((x=x.apply(v,[])).next())}))})(void 0,void 0,void 0,(function*(){var v,S;const _=(v=p.sampleRate)!==null&&v!==void 0?v:1;if(Math.random()>_)return;if(yee(d)>30720)throw new Error("ERROR: Laplace .report(strMsg) size bigger than 30KB is NOT allowed.");const x=Object.assign({message:Object.assign({strMsg:d},p.extraMsg),time:n3e(Date.now())},p.extraData);return!((S=p?.tags)===null||S===void 0)&&S.length&&(x.tags=p?.tags),s3e([{messages:JSON.stringify(x),meta:o3e}],c,p.xhrOptions)})))(this.runtimeMetaManager,...i),this.reportByHttps=(i,c)=>Gu(this,void 0,void 0,(function*(){yield this.commonReportWithContext(i,c)})),this.deleteLog=i=>Gu(this,void 0,void 0,(function*(){yield this.commonDeleteWithContext(i)})),this.deleteAll=()=>Gu(this,void 0,void 0,(function*(){yield this.resetWithContext()}));const{runtimeMetaManager:o}=n;this.runtimeMetaManager=o}}Sye.init=e=>Gu(void 0,void 0,void 0,(function*(){const{databaseName:n="laplace-default-db"}=e,o=new Uqe(n),i=new Fqe,c=new Bqe(Object.assign(Object.assign(Object.assign({},zqe),e),{idbManager:o,logManager:i}));OO(c,SE.beforeInit),yield i.syncFromIDB(c.idbManager);const d=new Sye({runtimeMetaManager:c});return OO(c,SE.afterInit),d}));class jqe extends O1e{constructor(n){super(),this.config={verbose:!1},this.beforeLog=(o,i)=>{const{verbose:c}=this.config;switch(c&&console.log("beforeLog, ","state: ",i,"meta: ",o),i.logLevel){case Zu.error:console.error(i.message);break;case Zu.warn:console.warn(i.message);break;case Zu.log:console.log(i.message);break;case Zu.debug:console.debug(i.message);break;case Zu.info:console.info(i.message)}},this.afterLog=(o,i)=>{const{verbose:c}=this.config;c&&console.log("afterLog, ","state: ",i,"meta: ",o)},this.beforeReport=(o,i)=>{const{verbose:c}=this.config;c&&console.log("beforeReport, ","pluginParams: ",i,"meta: ",o)},this.afterReport=(o,i)=>{const{verbose:c}=this.config;c&&console.log("afterReport, ","pluginParams: ",i,"runtimeMetaManager: ",o)},n&&(this.config=n)}}const bTe=e=>{const n=[];for(const[o,i]of e)n.push(i);return n};class Wqe extends O1e{constructor(n){super(),this.config={debug:!1},this.debugLog=o=>{const{debug:i}=this.config;i&&console.log(`[AutoCleanLogPlugin]: ${o}`)},this.afterInit=o=>{const{expireBefore:i}=this.config;if(!i)return void this.debugLog("early return on beforeInit because expireBefore is falsy");const{logManager:c,commonMethods:{commonDelete:d}}=o,p=c.getStore().byTime,v=(typeof i=="function"?bTe(p).filter(i):bTe(p).filter((S=>S.timestamp<i))).map((S=>S.id));d(o,void 0,v),this.debugLog(`afterInit, clean log id: ${v}`)},this.afterReport=(o,{report:i,error:c})=>{if(c)return this.debugLog("error"),void console.error(c);const{cleanAfterReport:d}=this.config;if(!d)return void this.debugLog("early return on afterReport because cleanAfterReport is falsy");const{commonMethods:{commonDelete:p}}=o;p(o,void 0,i.ids),this.debugLog(`afterReport, clean log id: ${i.ids}`)},n&&(this.config=n)}}var Sme,STe,Gqe=(function(){if(STe)return Sme;STe=1;var e="Expected a function",n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,p=typeof s2=="object"&&s2&&s2.Object===Object&&s2,v=typeof self=="object"&&self&&self.Object===Object&&self,S=p||v||Function("return this")(),_=Object.prototype.toString,x=Math.max,P=Math.min,B=function(){return S.Date.now()};function H(z){var Z=typeof z;return!!z&&(Z=="object"||Z=="function")}function U(z){if(typeof z=="number")return z;if((function(ce){return typeof ce=="symbol"||(function(se){return!!se&&typeof se=="object"})(ce)&&_.call(ce)=="[object Symbol]"})(z))return NaN;if(H(z)){var Z=typeof z.valueOf=="function"?z.valueOf():z;z=H(Z)?Z+"":Z}if(typeof z!="string")return z===0?z:+z;z=z.replace(n,"");var te=i.test(z);return te||c.test(z)?d(z.slice(2),te?2:8):o.test(z)?NaN:+z}return Sme=function(z,Z,te){var ce=!0,se=!0;if(typeof z!="function")throw new TypeError(e);return H(te)&&(ce="leading"in te?!!te.leading:ce,se="trailing"in te?!!te.trailing:se),(function(Se,Ce,Te){var V,ke,et,$e,Re,_e,ut=0,ct=!1,St=!1,ee=!0;if(typeof Se!="function")throw new TypeError(e);function ln(tn){var eo=V,In=ke;return V=ke=void 0,ut=tn,$e=Se.apply(In,eo)}function it(tn){var eo=tn-_e;return _e===void 0||eo>=Ce||eo<0||St&&tn-ut>=et}function Ht(){var tn=B();if(it(tn))return Ut(tn);Re=setTimeout(Ht,(function(eo){var In=Ce-(eo-_e);return St?P(In,et-(eo-ut)):In})(tn))}function Ut(tn){return Re=void 0,ee&&V?ln(tn):(V=ke=void 0,$e)}function Xe(){var tn=B(),eo=it(tn);if(V=arguments,ke=this,_e=tn,eo){if(Re===void 0)return(function(In){return ut=In,Re=setTimeout(Ht,Ce),ct?ln(In):$e})(_e);if(St)return Re=setTimeout(Ht,Ce),ln(_e)}return Re===void 0&&(Re=setTimeout(Ht,Ce)),$e}return Ce=U(Ce)||0,H(Te)&&(ct=!!Te.leading,et=(St="maxWait"in Te)?x(U(Te.maxWait)||0,Ce):et,ee="trailing"in Te?!!Te.trailing:ee),Xe.cancel=function(){Re!==void 0&&clearTimeout(Re),ut=0,V=_e=ke=Re=void 0},Xe.flush=function(){return Re===void 0?$e:Ut(B())},Xe})(z,Z,{leading:ce,maxWait:Z,trailing:se})},Sme})(),qqe=Tte(Gqe);const Kqe=["RESOURCE_ERROR","JS_ERROR","UNHANDLED_PROMISE_REJECTION"];class Zqe extends O1e{constructor(n){super(),this.config={debug:!1,publicTags:[]},this.errorCount=0,this.hashErrors={},this.runtimeMetaManager=null,this.addPublicTags=o=>{var i;return(i=this.config.publicTags)===null||i===void 0?void 0:i.concat(o).filter((c=>c))},this.debugLog=o=>{const{debug:i}=this.config;i&&console.log("[AutoLogErrorPlugin]:",o)},this.ignore=o=>{var i,c,d,p,v;return((i=this.config)===null||i===void 0?void 0:i.maxErrorCount)!==void 0&&this.errorCount>=((c=this.config)===null||c===void 0?void 0:c.maxErrorCount)||!!(!((d=this.config)===null||d===void 0)&&d.ignoredErrorMsgKeywords)&&o&&((v=(p=this.config)===null||p===void 0?void 0:p.ignoredErrorMsgKeywords)===null||v===void 0?void 0:v.some((S=>o?.includes(S))))},this.report=qqe((()=>{if(this.runtimeMetaManager===null)return;const{autoReport:o}=this.config,{commonMethods:{commonReport:i}}=this.runtimeMetaManager;return i(this.runtimeMetaManager,Kqe,o)}),600,{trailing:!0,leading:!1}),this.afterInit=o=>{if(this.runtimeMetaManager=o,!self.addEventListener)return;const{commonMethods:{commonLog:i}}=o,c=(d,p,v)=>{this.debugLog(v),this.errorCount+=1;try{return(function(S){const _=new TextEncoder().encode(S);return crypto.subtle.digest("SHA-1",_).then((x=>Array.from(new Uint8Array(x)).map((P=>P.toString(16).padStart(2,"0"))).join("")))})(d).then((S=>this.hashErrors[S]?"dismissed":(this.hashErrors[S]=!0,i(o,d,this.addPublicTags([].concat(p)),Zu.error,Op.PLAIN,{extraProperties:{messageHash:S}}).then(this.report)))).catch(console.error)}catch(S){return console.error(S),Promise.resolve(S)}};try{self.addEventListener("error",(d=>{var p,v,S,_,x,P,B;if(!this.ignore(d?.message)){if(d?.target&&(!((p=d?.target)===null||p===void 0)&&p.src||!((v=d?.target)===null||v===void 0)&&v.href)){const H=`Load Resource Error in ${(S=d?.target)===null||S===void 0?void 0:S.tagName} element: ${((_=d?.target)===null||_===void 0?void 0:_.src)||((x=d?.target)===null||x===void 0?void 0:x.href)}`;return c(H,"RESOURCE_ERROR",d)}{const H=`Javascript Runtime Error in ${d?.filename} (${d?.lineno}:${d?.colno}): ${d?.message}
Stack: ${(B=(P=d?.error)===null||P===void 0?void 0:P.stack)!==null&&B!==void 0?B:d?.stack}`;return c(H,"JS_ERROR",d)}}})),self.addEventListener("unhandledrejection",(d=>{var p;if(this.ignore((p=d?.reason)===null||p===void 0?void 0:p.message))return;let v;const S=d?.reason;return v=typeof S=="string"?`Promise Error: ${S}`:S instanceof Error?`Promise Error: ${S.message} ${S.name} ${S.stack}`:typeof S=="object"?`Promise Error with reason: ${I1e(S)}`:`Promise Error with unrecognized reason: ${S}`,c(v,"UNHANDLED_PROMISE_REJECTION",d)}))}catch(d){console.error(d)}this.debugLog("afterInit, add listener")},n&&(this.config=n),this.config.publicTags=[].concat(n?.publicTags)}}let Ek=(function(e){return e.DeviceAudioStreamCaptured="device audio stream captured",e.AudioJoinComplete="audio join complete",e.AudioLeaveComplete="audio leave complete",e.SharingAudioStartComplete="sharing audio start complete",e.SharingAudioStopComplete="sharing audio stop complete",e.AudioBridgeReconnectStart="audio bridge reconnect start",e.AudioBridgeReconnectEnd="audio bridge reconnect end",e})({}),wk=(function(e){return e.VBSettingSuccess="video VB setting success",e.VBSettingFailed="init video VB failed",e.VBPreloadSuccess="preload video VB success",e.VBPreloading3S="preload video VB 3s",e.VBPreloading10S="preload video VB 10s",e.StartCaptureVideoSuccess="start capture video success",e.StopCaptureVideoSuccess="stop capture video success",e})({});function zf(e){return`{E}${e}{/E}`}const Yqe=["exception flow","MEDIA SDK"],Xqe={enable:!1,enableReport:!1,gatewayEndPoint:"",newGatewayEndPoint:"",logLevel:{debug:!1,log:!1,info:!1,print:!1,warn:!1,error:!1},performanceReportRatio:.25,trackingCount:7},CTe=["debug","log","info","print","warn","error"],$L=(e,n)=>[...e,...n].filter((o=>!!o)),ETe=["JOIN_MEETING_FAILED","Join Meeting Flow","UNAVAILABLE_RWG","connection_info_map","exception flow"];class Kf{static getInstance(){return this.agentInstance||(this.agentInstance=new Kf),this.agentInstance}constructor(){this.laplace=void 0,this.trackingId=void 0,this.logConfig=void 0,this.reportUrl=void 0,this.publicTags=void 0,this.accountId=void 0,this.disableAutoReport=void 0,this.debouncedReport=void 0,this.initConfig=async n=>{let o,i=Xqe;try{n.logConfig&&(i=JSON.parse(n.logConfig),i.gatewayEndPoint&&(this.reportUrl=i.gatewayEndPoint),i.newGatewayEndPoint&&(this.reportUrl=i.newGatewayEndPoint));const{enable:v,enableReport:S,reportUrl:_,logLevel:x,encryptKeys:P,trackingId:B,accountId:H}=n;if(v!==void 0&&(i={...i,enable:!!v}),S!==void 0&&(i={...i,enableReport:!!S}),_&&(this.reportUrl=_),typeof x=="string"){const U=CTe.indexOf(x),z=CTe.reduce(((Z,te,ce)=>ce<U?{...Z,[`${te}`]:!1}:{...Z,[`${te}`]:!0}),{});i={...i,logLevel:z}}else x!==void 0&&(i={...i,logLevel:x});if(B&&(this.trackingId=B,i={...i,enable:!0,enableReport:!0}),P!==void 0){const U=Array.isArray(P)?P:[P];o=await Promise.all(U.map((z=>(function(Z){return window.crypto.subtle.importKey("raw",new TextEncoder().encode(Z.slice(0,32)),"AES-GCM",!1,["encrypt","decrypt"])})(z).then((Z=>({usage:gee.PROTECT_LOCAL_KEY,key:Z}))))))}H!==void 0&&(this.accountId=H)}catch(v){console.error("parse log config error",v)}const c=new Date().getTime()-6048e5,d=i.enableReport&&this.reportUrl?{gzip:!1,encrypt:!1,additionalContext:{trackingId:this.trackingId}}:void 0;this.publicTags=["VideoSDK",this.trackingId],n.isUIToolkit&&this.publicTags.push("UI-Toolkit");const p=[n.debugMode&&new jqe({verbose:!1}),new Wqe({debug:!1,cleanAfterReport:!0,expireBefore:c}),new Zqe({debug:!1,autoReport:d,ignoredErrorMsgKeywords:["table index is out of bounds"],maxErrorCount:223,publicTags:this.accountId?[...this.publicTags,zf(this.accountId)]:this.publicTags})].filter(Boolean);return{laplaceConfig:{databaseName:"ZM-VSDK-LOG-DATABASE",maxSize:49283072,publicKey:n.logEncryptionPubKey,reportUrl:this.reportUrl,externalKeys:o,plugins:p},logConfig:i}},this.handleInitLaplaceSuccess=(n,o)=>{var i;this.laplace=n;const c=ni.get(bye.VSDKLogTrackingId);let d=[];try{d=JSON.parse(c?window.atob(c):"[]")}catch{}d.length>=((i=o?.trackingCount)!==null&&i!==void 0?i:7)&&d.shift();const p=d.reduce(((S,_)=>({...S,[`${_}`]:!0})),{});n.deleteLog((S=>{var _;return!((_=S.tags)!==null&&_!==void 0&&_.some((x=>p[x])))})),d.push(this.trackingId),ni.set(bye.VSDKLogTrackingId,window.btoa(JSON.stringify(d)),Ca.LocalStorage);const v=navigator.hardwareConcurrency>=4?5e3:1e4;this.debouncedReport=(function(S,_=5e3){const x=[];let P;const B=(function(H,U,z){var Z,te,ce,se,Se,Ce,Te=0,V=!1,ke=!1,et=!0;if(typeof H!="function")throw new TypeError("Expected a function");function $e(St){var ee=Z,ln=te;return Z=te=void 0,Te=St,se=H.apply(ln,ee)}function Re(St){var ee=St-Ce;return Ce===void 0||ee>=U||ee<0||ke&&St-Te>=ce}function _e(){var St=ome();if(Re(St))return ut(St);Se=setTimeout(_e,(function(ee){var ln=U-(ee-Ce);return ke?W9e(ln,ce-(ee-Te)):ln})(St))}function ut(St){return Se=void 0,et&&Z?$e(St):(Z=te=void 0,se)}function ct(){var St=ome(),ee=Re(St);if(Z=arguments,te=this,Ce=St,ee){if(Se===void 0)return(function(ln){return Te=ln,Se=setTimeout(_e,U),V?$e(ln):se})(Ce);if(ke)return clearTimeout(Se),Se=setTimeout(_e,U),$e(Ce)}return Se===void 0&&(Se=setTimeout(_e,U)),se}return U=e_e(U)||0,Z6(z)&&(V=!0,ce=(ke="maxWait"in z)?j9e(e_e(z.maxWait)||0,U):ce,et="trailing"in z||et),ct.cancel=function(){Se!==void 0&&clearTimeout(Se),Te=0,Z=Ce=te=Se=void 0},ct.flush=function(){return Se===void 0?se:ut(ome())},ct})(((H,U)=>{const z=S(H,U);return x.length=0,z}),_,{leading:!0,trailing:!0,maxWait:1e4});return window.addEventListener("beforeunload",(()=>{var H;B.cancel&&B.cancel(),x.length>0&&((H=P)!==null&&H!==void 0&&H.xhrOptions&&Object.assign(P.xhrOptions,{isSendByBeacon:!0}),S(x,P))})),(H,U)=>(Array.isArray(H)?x.push(...H):typeof H=="string"&&x.push(H),P=U,B(x,U))})(this.laplace.reportByHttps.bind(this.laplace),v)},this.init=async n=>{const{laplaceConfig:o,logConfig:i}=await this.initConfig(n);return i.enable?(this.logConfig=i,Sye.init(o).then((c=>{this.handleInitLaplaceSuccess(c,i)})).catch((c=>{throw{type:Jh,reason:"Logger init failed.",error:c,errorCode:ht.INTERNAL_ERROR}}))):Promise.reject({type:bn,reason:"Logger feature is not enabled."})},this.check=n=>{var o;return!(!this.checkLaplace()||((o=this.logConfig)===null||o===void 0||(o=o.logLevel)===null||o===void 0||!o[n])&&(console.warn(`Logger ${n} is not enabled.`),1))},this.log=(n,o,i)=>{if(this.check("log"))try{var c;return(c=this.laplace.logWithEncryption(n,$L(o,i)))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.logWithExtraProperties=(n,o,i)=>{if(this.check("log"))try{var c;return(c=this.laplace.log(n,o,i))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.warn=(n,o,i)=>{if(this.check("warn"))try{var c;return(c=this.laplace.warnWithEncryption(n,$L(o,i)))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.info=(n,o,i)=>{if(this.check("info"))try{var c;return(c=this.laplace.infoWithEncryption(n,$L(o,i)))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.debug=(n,o,i)=>{if(this.check("debug"))try{var c;return(c=this.laplace.debugWithEncryption(n,$L(o,i)))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.error=(n,o,i)=>{if(this.check("error"))try{var c;return(c=this.laplace.errorWithEncryption(n,$L(o,i)))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.checkLaplace=()=>{var n;return!((n=this.laplace)===null||n===void 0||!n.log)},this.makeLogger=n=>{var o;const i=$L((o=this.publicTags)!==null&&o!==void 0?o:[],n);return{log:(c,d)=>this.log(c,i,d??[]),logWithExtraProperties:(c,d)=>this.logWithExtraProperties(c,i,d),warn:(c,d)=>this.warn(c,i,d??[]),info:(c,d)=>this.info(c,i,d??[]),debug:(c,d)=>this.debug(c,i,d??[]),error:(c,d)=>this.error(c,i,d??[]),directReport:(c,d)=>{const p=typeof c!="string"?JSON.stringify(c):c,v=(Array.isArray(d)?d:[d]).filter(Boolean);v.push("MEDIA SDK Direct"),this.report(p,v,"info")}}},this.reportToGlobalTracing=(n,o=!1,i=!1)=>{var c;if(!this.checkLaplace())return Promise.reject({type:bn,reason:"Logger has not been enabled or initialized."});if((c=this.logConfig)===null||c===void 0||!c.enableReport||!this.reportUrl)return Promise.reject({type:bn,reason:"Please use getLogs to obtain log data and report by yourself."});if((function(){try{return!!ni.get(ZLe.DisableAutoReportLogs)}catch{return!1}})()&&!o&&!(Array.isArray(n)?n.some((v=>ETe.some((S=>v.includes(S))))):ETe.some((v=>`${n}`.includes(v)))))return Promise.resolve();const d=(function(p){let v=!0;return p&&(v=!(Array.isArray(p)?p:[p]).some((S=>Yqe.some((_=>`${S}`.indexOf(_)>-1))))),v})(n);return(o||d?this.laplace.reportByHttps.bind(this.laplace):this.debouncedReport)(n,{gzip:!1,encrypt:!1,xhrOptions:{url:this.reportUrl,isSendByBeacon:i},additionalContext:{trackingId:this.trackingId}})},this.report=(n,o,i="warn")=>{if(this.checkLaplace()&&this.logConfig.enableReport&&this.reportUrl){var c,d;const p=Array.isArray(o)?o:[o],v=this.accountId?[...p,zf(this.accountId)]:p;(c=(d=this.makeLogger(v))[`${i}`])===null||c===void 0||(c=c.call(d,n))===null||c===void 0||c.then((()=>{this.reportToGlobalTracing(p)}))}},this.getLogs=(n,o)=>{if(!this.checkLaplace())return console.warn("Logger has not been enabled or initialized."),[];const i=n.getState(),{meeting:{meetingNumber:c,userId:d,userEmail:p,userName:v}}=i,S={meetingNumber:c,userId:d,userEmail:p,userName:v},_=this.laplace.getLogs(o),x=[];for(const[,P]of _)x.push({...P,...S});return x},this.doNotUseDirtyGetStore=()=>this.checkLaplace()?this.laplace.doNotUseDirtyGetStore():(console.warn("Logger has not been enabled or initialized."),{byTag:{},byTime:new Map}),this.trackingId=mee()}}Kf.agentInstance=void 0;const d3e=Kf.getInstance(),h3e=[{type:"MediaMeta",methods:["sendUserNodeList","updateUserMediaSN","updateMediaParams","subscribeToQos","unsubscribeFromQos","sendUserAudioStatus","destroy","createMainSessionChannel","notifySDKMeetingReady"]},{type:"Audio",methods:["joinComputerAudio","leaveComputerAudio","joinSharingAudio","leaveSharingAudio","changeSpeaker","changeMicrophone","enableAudioEncode","pauseOrResumeAudio","setSharingAudioVolume","enableShareAudioToBreakoutRoom","enableAudioDenoise","enableSyncButtonsOnHeadset","stopAllIncomingAudio","setAudioCodecMode","muteOrUnmuteOtherAudio","adjustOtherAudioVolume","changeAudioProfile","unmuteAudio","muteAudio"]},{type:"Video",methods:["startCaptureVideo","stopCaptureVideo","renderVideo","stopRenderVideo","changeCamera","updateRenderedVideoCanvasDimension","adjustRenderedVideoPosition","mirrorVideo","enableHardwareAccelerationForVideoDecode","enableHardwareAccelerationForVideoEncode","startVirtualBackgroundSetting","updateVirtualBackgroundImage","stopVirtualBackgroundSetting","startMaskSetting","updateMaskBackgroundImage","updateMaskClip","stopMaskSetting","enableVideoObserver","prefetchVideoSsrc","cancelPrefetchVideoSsrc","setMobileRotateMode","changeActiveVideoSsrc","updateVideoHDValue","updateVideoFullhdValue","clearVideoCanvas"]},{type:"Sharing",methods:["stopDesktopSharing","startDesktopSharing","pauseDesktopSharing","resumeDesktopSharing","renderSharing","stopRenderSharing","switchSharingSource","ajustmentReceivedSharingCanvas","changeSharingSecondCamera","updateRenderedSharingDimension","addReceivedSharingChannelType","removeReceivedSharingChannelType","switchSharingMode","ajustmentSharingCanvas"]},{type:"RemoteControl",methods:["startRemoteControl","stopRemoteControl","resendRemoteControlPositionPDU","updateRemoteControlProperties","ajustmentReceivedSharingCanvas","startRemoteControlQRCheck"]},{type:"LiveTranscription",methods:["selectLanguageChannelForNewLTT"]},{type:"RemoteCamera",methods:["movePTZCamera"]}].reduce(((e,n)=>{const{type:o,methods:i}=n;return[...e,...i.map((c=>({name:c,type:o})))]}),[]),Jqe=h3e.map((e=>e.name)),Qqe=(e,...n)=>{const o=h3e.find((i=>i.name===e));if(o){const{type:i}=o,c=n?.map((d=>jQ(d)));d3e.makeLogger([i,`${i} Media SDK`]).info(`${e},params:${JSON.stringify(c)}`)}};function _m(e){return new Proxy(e,{get:(n,o)=>typeof o=="string"&&Jqe.includes(o)?function(...i){try{Reflect.apply(Qqe,void 0,[o,...i])}catch{}return Reflect.apply(Reflect.get(n,o),n,i)}:Reflect.get(n,o)})}function eKe(e){return e&&new Proxy(e,{get:(n,o)=>typeof o=="string"&&o==="error"?function(...i){try{var c;d3e.report(i[0],["MEDIA SDK",...(c=i[1])!==null&&c!==void 0?c:[]],"error")}catch{}}:Reflect.get(n,o)})}const Cme=Kf.getInstance();function wTe(e,n){return e.toLowerCase().includes("url")&&n.startsWith("http")||e==="displayName"?`[${e.toUpperCase()}]`:n}function Np(e,n){return function(o,i,c){const d=c.value;c.value=function(...p){let v="";if(e==="Video"){var S;const x=this[dc];v=`${x==null||(S=x.getState())===null||S===void 0||(S=S.meeting)===null||S===void 0?void 0:S.isUseWBVideo}`}if(Cme.checkLaplace())try{var _;const x=Cme.makeLogger([e]),P=(_=n?p.map(((B,H)=>n.includes(H+1)?zf(B):B)):p)===null||_===void 0?void 0:_.map((B=>jQ(B)));return x.info(`${i},params:${JSON.stringify(P,wTe)}`),d.apply(this,p).then((B=>(x.info(`${i} success`),B))).catch((B=>{const H=`${i},params:${JSON.stringify(P,wTe)},return failed,${v?`isUseWBVideo:${v},`:""}${(function(U){if(!U)return"";if(typeof U=="object"){let z="";return U.type&&(z+=`type:${U.type},`),U.errorCode&&(z+=`errorCode:${U.errorCode},`),U.reason&&(z+=`reason:${U.reason},`),U.subCode&&(z+=`subCode:${U.subCode},`),U.name&&(z+=`name:${U.name},`),U.message&&(z+=`message:${U.message},`),z}return`${U}`})(B)}`;return Cme.report(H,`${e} exception flow`,"error"),Promise.reject(B)}))}catch{}return d.apply(this,p)}}}function kte(e,n,o){return function(i,c,d){const p=d.value;d.value=function(...v){var S,_;const x=v[n];let P=e;return Array.isArray(P)||(P=[P]),!P.some((B=>mte(x,B)))||o&&!o.every((B=>!!x[B]))?Promise.reject({type:ar,reason:`Expected to accept ${(S=P)===null||S===void 0?void 0:S.map((B=>B.name)).join(" or ")}, but actual it is ${typeof x=="object"&&x!==null?(_=Object.getPrototypeOf(x))===null||_===void 0?void 0:_.constructor.name:x}`,errorCode:ht.STREAM_MISMATCH_RENDER_ELEMENT}):p.apply(this,v)}}}let _Te=(function(e){return e[e.Unknown=0]="Unknown",e[e.Windows=1]="Windows",e[e.Mac=2]="Mac",e[e.Pad=3]="Pad",e[e.Mobile=4]="Mobile",e[e.CallIn=5]="CallIn",e[e.Linux=6]="Linux",e[e.WebClient=7]="WebClient",e[e.ChromeOs=8]="ChromeOs",e})({});const TTe=262144,ATe=1048576,xTe=16777216,f3e=e=>!(4&~e),_X=e=>(e&ATe)===ATe,k1e=({share:{isReceiveSharing:e}})=>e,p3e=({share:{activeNodeId:e}})=>e,m3e=({share:{shareViewAttachments:e}})=>e,tKe=Ql([Va,k1e,p3e],((e=[],n,o)=>{if(n){const i=e.find((c=>c.userId===o&&c.sharerOn===!0));if(i){let{os:c}=i;const{pwaOS:d}=i;return d==="mac"?c=_Te.Mac:d==="win"&&(c=_Te.Windows),{...i,os:c}}}return null})),Q_=Ql([Va],(e=>e.filter((n=>n.sharerOn)))),g3e=Ql([Q_],(e=>e.some((n=>!!n.bVideoShare)))),Fk=Ql([({share:{remoteControlledUserList:e}})=>e,k1e,p3e],((e,n,o)=>!!n&&e.some((i=>Uf(i,o))))),D1e=Ql([k1e,m3e],((e,n)=>e?Object.entries(n).reduce(((o,i)=>{const[,c]=i;return c&&c.length>0&&(o+=c.length),o}),0):0)),v3e=Ql([D1e],(e=>e>1)),Kk=Ql([D1e,m3e],((e,n)=>e===1&&Object.entries(n).every((([,o])=>o.every((i=>i.isDummy))))));function y3e(e){return function(n,o,i){const c=i.value;i.value=async function(...d){const p=this[dc],v=p?.getState();if(v!=null&&v.share){const{share:{isSimultaneousShareView:S,isReceiveSharing:_}}=v;if(_){if(S)return Promise.reject({type:bn,reason:`Cannot start ${e} due to multiple sharing views are currently in progress.`,errorCode:ht.SCREEN_SHARE_MISMATCH_STATE});if(v3e(v))return Promise.reject({type:bn,reason:`Cannot start ${e} due to multiple sharing views are currently in progress.`,errorCode:ht.SCREEN_SHARE_MISMATCH_STATE})}}return c.apply(this,d)}}}let Yc=(function(e){return e[e.NoAttendee=0]="NoAttendee",e[e.All=1]="All",e[e.AllPanelist=2]="AllPanelist",e[e.Host=3]="Host",e[e.NoOne=4]="NoOne",e[e.EveryonePublicly=5]="EveryonePublicly",e})({}),H2=(function(e){return e[e.AllPanelist=1]="AllPanelist",e[e.Everyone=2]="Everyone",e[e.Invalid=0]="Invalid",e})({}),Xl=(function(e){return e[e.All=0]="All",e[e.Panelist=1]="Panelist",e[e.IndividualCcPanelist=2]="IndividualCcPanelist",e[e.Individual=3]="Individual",e[e.SilentModeUsers=4]="SilentModeUsers",e})({}),See=(function(e){return e[e.None=0]="None",e[e.Delete=1]="Delete",e[e.Modify=2]="Modify",e})({}),Eme=(function(e){return e[e.Success=0]="Success",e[e.Delete=1]="Delete",e[e.Block=3]="Block",e})({});const nKe=[Yc.All,Yc.Host,Yc.NoOne,Yc.EveryonePublicly],oKe=[Yc.NoOne,Yc.All,Yc.AllPanelist],Cee={AllPanelist:11,Everyone:12},sKe={[Cee.AllPanelist]:H2.AllPanelist,[Cee.Everyone]:H2.Everyone},J5={userId:Xl.All,displayName:"Everyone",isHost:!1,isCoHost:!1},c3={userId:Xl.Panelist,displayName:"All panelists"},rKe={userId:Xl.SilentModeUsers,displayName:"Everyone (in Waiting Room)",isHost:!1,isCoHost:!1};let iKe=(function(e){return e[e.Local=0]="Local",e[e.ThirdParty=1]="ThirdParty",e})({}),Ip=(function(e){return e[e.ChunkSize=20971520]="ChunkSize",e[e.EncodeBlockSize=32768]="EncodeBlockSize",e[e.DecodeBlockSize=32803]="DecodeBlockSize",e[e.MaxSize=2147483648]="MaxSize",e[e.ReaderChunkSize=1073741824]="ReaderChunkSize",e})({}),wh=(function(e){return e[e.Init=0]="Init",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.Fail=3]="Fail",e[e.Cancel=4]="Cancel",e[e.Complete=5]="Complete",e})({}),K_=(function(e){return e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.Fail=3]="Fail",e[e.Cancel=4]="Cancel",e})({});const aKe={"7z":"application/x-7z-compressed",avi:"video/x-msvideo",bin:"application/octet-stream",bmp:"image/bmp",css:"text/css",csv:"text/csv",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",gif:"image/gif",gz:"application/gzip",html:"text/html",ics:"text/calendar",jar:"application/java-archive",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",mid:"audio/midi",mov:"video/*",mp3:"audio/mpeg",mp4:"video/mp4",mpeg:"video/*",mpg:"video/*",pdf:"application/pdf",png:"image/png",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rar:"application/vnd.rar",rtf:"application/rtf",tar:"application/x-tar",tif:"image/tiff",tiff:"image/tiff",txt:"text/plain",wav:"audio/wav",webp:"image/webp",wma:"audio/*",wmv:"video/*",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",zip:"application/zip"};let bg=(function(e){return e.Open="open",e.Message="message",e.Error="error",e.Close="close",e.Inactive="inactive",e})({});var Vk=(function(e){return e[e.SelectTranslationLanguage=1]="SelectTranslationLanguage",e[e.ShowTranscription=2]="ShowTranscription",e[e.OffTranslation=3]="OffTranslation",e[e.DisableCaption=4]="DisableCaption",e[e.LockTranscriptionLanguage=5]="LockTranscriptionLanguage",e[e.SelectTranscriptionLanguage=6]="SelectTranscriptionLanguage",e[e.SelectSimuliveLanguage=7]="SelectSimuliveLanguage",e})(Vk||{});class b3e{constructor(){this.eventHandlers=void 0,this.websocket=void 0,this.seq=void 0,this.intervalsToBeCleardWhenSocketClose=[],this.isAlive=!1,this.isRlbTP=void 0,this.eventHandlers=new Map,this.websocket=null,this.seq=1,this.isRlbTP=!1}on(n,o){let i=this.eventHandlers.get(n);i||(i=[]),i.push(o),this.eventHandlers.set(n,i)}off(n,o){const i=this.eventHandlers.get(n);if(i){const c=i.filter((d=>d!==o));this.eventHandlers.set(n,c)}}emit(n,o){const i=this.eventHandlers.get(n);i&&i instanceof Array&&i.slice(0).forEach((c=>{try{c(o)}catch(d){console.error(d)}}))}sendMessageToRwg(n){this.seq+=1;const o=this.seq;return this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify(Object.assign(n,{seq:o}))),o}connect(n,o){this.websocket=o?new window.ZoomTPModule.ZoomTPWebSocket(n):new WebSocket(n),this.websocket.binaryType="arraybuffer",this.isRlbTP=o,this.addWebSocketEventListeners()}close(){var n;(n=this.websocket)===null||n===void 0||n.close()}addHeartBeat(){const n=is.isAndroidOrIOSBrowser?15e3:2e4,o=setInterval((()=>{this.isAlive||this.emit(bg.Inactive,{}),this.sendMessageToRwg({evt:0}),this.isAlive=!1}),n);this.intervalsToBeCleardWhenSocketClose.push(o)}clearIntervals(){this.intervalsToBeCleardWhenSocketClose.forEach((n=>clearInterval(n))),this.isAlive=!1}addWebSocketEventListeners(){this.websocket&&(this.websocket.addEventListener("open",(n=>{this.isRlbTP||this.addHeartBeat(),this.emit(bg.Open,n)})),this.websocket.addEventListener("message",(n=>{this.isAlive=!0,this.emit(bg.Message,n)})),this.websocket.addEventListener("close",(n=>{this.clearIntervals(),this.emit(bg.Close,n)})),this.websocket.addEventListener("error",(n=>{this.clearIntervals(),this.emit(bg.Error,n)})))}sendLaunchParams(n){return{seq:this.sendMessageToRwg({evt:4301,body:n})}}joinMeeting(n){return{seq:this.sendMessageToRwg({evt:4097,body:{meetingtoken:n}})}}lockMeeting(n){return{seq:this.sendMessageToRwg({evt:4099,body:{bLock:n}})}}endMeeting(){return{seq:this.sendMessageToRwg({evt:4101,body:{}})}}leaveMeeting(n=!1){const o=n?4364:4103;return{seq:this.sendMessageToRwg({evt:o,body:{}})}}recordMeeting(n,o){return{seq:this.sendMessageToRwg({evt:4105,body:{bRecord:n,bPause:o}})}}localRecordingGrantPermission(n,o,i){return{seq:this.sendMessageToRwg({evt:CX,body:{cmdType:"permission_request_answer",userId:n,agreed:o,saveAgreed:i}})}}hostGrantPermission(n,o){return{seq:this.sendMessageToRwg({evt:CX,body:{cmdType:"grant_permission",userId:n,grant:o}})}}localRecordingRequestPermission(){return{seq:this.sendMessageToRwg({evt:CX,body:{cmdType:"request_permission"}})}}localRecordingMeeting(n){return{seq:this.sendMessageToRwg({evt:CX,body:{cmdType:"change_recording_status",status:n}})}}summaryMeeting(n){return{seq:this.sendMessageToRwg({evt:8009,body:{type:n?"start":"stop"}})}}startMeetingQuery(n){return{seq:this.sendMessageToRwg({evt:8017,body:{type:n?"start":"stop"}})}}allowSelfRecord(n){return{seq:this.sendMessageToRwg({evt:4325,body:{bAllowISORecord:n}})}}enableZoomIQRecord(n){return{seq:this.sendMessageToRwg({evt:4318,body:{check:n}})}}expel(n){return{seq:this.sendMessageToRwg({evt:4107,body:{id:n}})}}expelAttendee(n,o){return{seq:this.sendMessageToRwg({evt:4205,body:{jid:n,nodeID:o}})}}rename(n,o,i){return{seq:this.sendMessageToRwg({evt:4109,body:{id:n,dn2:o,olddn2:i}})}}assignHost(n,o){return{seq:this.sendMessageToRwg({evt:4111,body:{id:n,bCoHost:o}})}}reclaimHost(n,o=!1){return{seq:this.sendMessageToRwg({evt:4133,body:{id:n,bCoHost:o}})}}revokeCoHost(n){return{seq:this.sendMessageToRwg({evt:4195,body:{id:n}})}}putOnHold(n,o){return{seq:this.sendMessageToRwg({evt:4113,body:{id:n,bHold:o}})}}setMuteOnEntry(n){return{seq:this.sendMessageToRwg({evt:4115,body:{bOn:n}})}}setHoldOnEntry(n){return{seq:this.sendMessageToRwg({evt:4117,body:{bOn:n}})}}inviteCRCDevice(n,o,i=2){return{seq:this.sendMessageToRwg({evt:4119,body:{ip:n,type:o,encrypt:i}})}}cancelInviteCRCDevice(n){return{seq:this.sendMessageToRwg({evt:4121,body:{transID:n}})}}sendCloseCaption(n){return{seq:this.sendMessageToRwg({evt:4125,body:{...n}})}}allowViewParticipantNumber(n){return{seq:this.sendMessageToRwg({evt:4127,body:{bOn:n}})}}lowerAllHands(){return{seq:this.sendMessageToRwg({evt:4129,body:{}})}}raiseLowerHand(n,o){return{seq:this.sendMessageToRwg({evt:4131,body:{id:n,bOn:o}})}}chat(n,o,i,c,d,p){const v={text:n,destNodeID:o};return i&&Object.assign(v,{sn:i}),c&&Object.assign(v,{attendeeNodeID:c}),d&&Object.assign(v,{xmppMsgData:d}),p&&Object.assign(v,{msgID:p}),{seq:this.sendMessageToRwg({evt:4135,body:v})}}assignCC(n,o){return{seq:this.sendMessageToRwg({evt:4137,body:{id:n,bCCEditor:o}})}}enableLT(n){return{seq:this.sendMessageToRwg({evt:4227,body:{op:n?2:4}})}}enableNewLLT(){return{seq:this.sendMessageToRwg({evt:4285})}}disableCaptions(n){return{seq:this.sendMessageToRwg({evt:FL,body:{type:Vk.DisableCaption,disableNewLtt:n}})}}enableManualCaption(n){return{seq:this.sendMessageToRwg({evt:4291,body:{op:n?1:0}})}}setTranslationLanguage(n){return n!==void 0?{seq:this.sendMessageToRwg({evt:FL,body:{type:Vk.SelectTranslationLanguage,lang:n}})}:{seq:this.sendMessageToRwg({evt:FL,body:{type:Vk.OffTranslation}})}}setTranscriptionLanguage(n,o){return{seq:this.sendMessageToRwg({evt:FL,body:{type:Vk.SelectTranscriptionLanguage,lang:n,nodeid:o??0}})}}lockTranscriptionLanguage(n){return{seq:this.sendMessageToRwg({evt:FL,body:{type:Vk.LockTranscriptionLanguage,lock:n}})}}setSimuliveLanguage(n){return{seq:this.sendMessageToRwg({evt:FL,body:{type:Vk.SelectSimuliveLanguage,lang:n}})}}setSpokenLanguage(n){return{seq:this.sendMessageToRwg({evt:4287,body:{lang:n}})}}allowAskLT(n){return{seq:this.sendMessageToRwg({evt:4263,body:{bAnonymous:n}})}}approveLT(){return{seq:this.sendMessageToRwg({evt:4262,body:{bApproved:!0}})}}askLT(n){return{seq:this.sendMessageToRwg({evt:4261,body:{bAnonymous:n}})}}setChatPriviledge(n){return{seq:this.sendMessageToRwg({evt:4141,body:{chatPriviledge:n}})}}setPanelistChatPrivilege(n){if(!Object.values(Cee).includes(n))throw Error("Invalid panelist chat privilege req value");return{seq:this.sendMessageToRwg({evt:4141,body:{chatPriviledge:n}})}}sendFeedback(n){return{seq:this.sendMessageToRwg({evt:4143,body:{feedback:n}})}}clearFeedback(){return{seq:this.sendMessageToRwg({evt:4145,body:{}})}}allowUnmuteVideo(n){return{seq:this.sendMessageToRwg({evt:4147,body:{bOn:n}})}}allowUnmuteAudio(n){return{seq:this.sendMessageToRwg({evt:4149,body:{bOn:n}})}}allowRaiseHand(n){return{seq:this.sendMessageToRwg({evt:4151,body:{bOn:n}})}}boToken(n){return{seq:this.sendMessageToRwg({evt:4173,body:{topic:n}})}}startBO(n){return{seq:this.sendMessageToRwg({evt:4175,body:{proto:n}})}}stopBO(n){return{seq:this.sendMessageToRwg({evt:4177,body:{status:n}})}}assignToBO(n,o){return{seq:this.sendMessageToRwg({evt:4179,body:{targetID:n,targetBID:o}})}}switchBO(n,o){return{seq:this.sendMessageToRwg({evt:4181,body:{targetID:n,targetBID:o}})}}wantJoinBO(n,o){return{seq:this.sendMessageToRwg({evt:4183,body:{targetID:n,targetBID:o}})}}joinBO(n){return{seq:this.sendMessageToRwg({evt:4193,body:{targetBID:n}})}}leaveBO(n=1){return{seq:this.sendMessageToRwg({evt:4185,body:{reason:n}})}}broadcastBO(n){return{seq:this.sendMessageToRwg({evt:4187,body:{textContent:n}})}}askForHelpBO(n){return{seq:this.sendMessageToRwg({evt:4189,body:{targetID:n}})}}askForHelpResultBO(n,o){return{seq:this.sendMessageToRwg({evt:4191,body:{targetID:n,helpResult:o}})}}coHostStartBO(n,o){return{seq:this.sendMessageToRwg({evt:4241,body:{proto:n,targetID:o}})}}coHostStopBO(n,o){return{seq:this.sendMessageToRwg({evt:4243,body:{status:n,targetID:o}})}}coHostAssignToBO(n,o,i){return{seq:this.sendMessageToRwg({evt:4245,body:{userGUID:n,targetID:i,targetBID:o}})}}moveToMainSession(n){return{seq:this.sendMessageToRwg({evt:4247,body:{userGUID:n}})}}coHostMoveToMainSession(n,o){return{seq:this.sendMessageToRwg({evt:4249,body:{userGUID:n,targetID:o}})}}allowParticipantRename(n){return{seq:this.sendMessageToRwg({evt:4163,body:{bOn:n}})}}allowMessageFeedbackNotify(n,o){return{seq:this.sendMessageToRwg({evt:4171,body:{bOn:n,id:o}})}}setPlayChime(n,o){return{seq:this.sendMessageToRwg({evt:4197,body:{bOn:n,id:o}})}}admitAllSilentUsers(){return{seq:this.sendMessageToRwg({evt:4199,body:{}})}}bindTeleUser(n,o,i){return{seq:this.sendMessageToRwg({evt:4201,body:{teleUserID:n,targetUserID:o,bBind:i}})}}practiceSession(){return{seq:this.sendMessageToRwg({evt:4207,body:null})}}roleChangeWebinar(n,o,i,c){return{seq:this.sendMessageToRwg({evt:4209,body:{jid:o,userID:i,clientCap:c,bPromote:n}})}}sendPromoteConsent(n,o){return{seq:this.sendMessageToRwg({evt:4254,body:{agreed:n,req_id:o}})}}batchCreateBOToken(n){const o=n.map(((i,c)=>({topic:i,index:c})));return{seq:this.sendMessageToRwg({evt:4211,body:o})}}mute(n,o){return{seq:this.sendMessageToRwg({evt:8193,body:{bMute:o,id:n}})}}audioDrop(n){return{seq:this.sendMessageToRwg({evt:8195,body:{id:n}})}}audioDialout(n,o,i,c,d){return{seq:this.sendMessageToRwg({evt:8197,body:{pn:n,dn2:bu(o),bCallme:i,bPressOne:c,bGreeting:d}})}}audioCancelDialout(n,o){return{seq:this.sendMessageToRwg({evt:8199,body:{pn:n,bCallme:o}})}}audioMuteAll(n){return{seq:this.sendMessageToRwg({evt:8201,body:{bMute:n}})}}allowToTalk(n,o){return{seq:this.sendMessageToRwg({evt:8204,body:{id:n,bAllowTalk:o}})}}muteAttendeeVideo(n,o){return{seq:this.sendMessageToRwg({evt:12297,body:{id:n,bOn:o}})}}notifyRwgIsMuteVideo(n,o){return this.muteAttendeeVideo(n,o)}pauseSharing(){return{seq:this.sendMessageToRwg({evt:16385,body:{}})}}resumeSharing(){return{seq:this.sendMessageToRwg({evt:16387,body:{}})}}allowAnonymousQuestion(n,o){return{seq:this.sendMessageToRwg({evt:4155,body:{userId:n,bOn:o}})}}allowViewAll(n,o){return{seq:this.sendMessageToRwg({evt:4157,body:{userId:n,bOn:o}})}}allowVote(n,o){return{seq:this.sendMessageToRwg({evt:4159,body:{userId:n,bOn:o}})}}allowComment(n,o){return{seq:this.sendMessageToRwg({evt:4161,body:{userId:n,bOn:o}})}}sharingRequestRemoteControl(n,o){return{seq:this.sendMessageToRwg({evt:16389,body:{id:n,bOn:o}})}}subscribeGrabRemoteControl(n,o){return{seq:this.sendMessageToRwg({evt:16393,body:{id:n,bOn:o}})}}subscribeSharing(n,o,i,c,d){const p={id:n,size:o};return i&&Object.assign(p,{bShareToBO:!0}),c!==void 0&&Object.assign(p,{bVideoShare:c}),d!==void 0&&Object.assign(p,{bEnableViewMultiShareMode:d}),{seq:this.sendMessageToRwg({evt:16415,body:p})}}unsubscribeSharing(n,o,i){const c={id:n};return o&&Object.assign(c,{bShareToBO:!0}),i!==void 0&&Object.assign(c,{bEnableViewMultiShareMode:i}),{seq:this.sendMessageToRwg({evt:16417,body:c})}}sendRWGConnectionPerformance(n){return{seq:this.sendMessageToRwg({evt:4167,body:{data:n}})}}sendSdkKeyToMonitor(n,o,i){return{seq:this.sendMessageToRwg({evt:4167,body:{data:`ZoomConferenceClient,videoapp_HTML5_sdk_web_join,${i},2,${o},${n}`}})}}sendDatachannelOffer(n){return{seq:this.sendMessageToRwg({evt:24321,offer:n})}}joinOrLeaveVoip(n,o){return{seq:this.sendMessageToRwg({evt:8203,body:{bOn:n,mute:o}})}}startSharing(n,o){return{seq:this.sendMessageToRwg({evt:16409,body:{id:n,boOn:!1,...o??{}}})}}stopSharing(n){return{seq:this.sendMessageToRwg({evt:16409,body:{id:n,bOn:!0}})}}lockSharing(n){return{seq:this.sendMessageToRwg({evt:4169,body:{lockShare:n}})}}startShareToBreakoutRoom(n){return{seq:this.sendMessageToRwg({evt:16425,body:{id:n,bShareToBO:!0}})}}stopShareToBreakoutRoom(n){return{seq:this.sendMessageToRwg({evt:16425,body:{id:n,bShareToBO:!1}})}}preAssignBreakoutRoom(){return{seq:this.sendMessageToRwg({evt:4213,body:{}})}}claimHost(n){return{seq:this.sendMessageToRwg({evt:4215,body:{hostKey:n}})}}allowMultiplePin(n,o){return{seq:this.sendMessageToRwg({evt:4217,body:{userID:n,bOn:o}})}}spotlightVideo(n,o){return{seq:this.sendMessageToRwg({evt:4219,body:{id:n,...o}})}}connectCamera(n,o){const i={evt:12307,body:{id:n,bOn:o}};return{seq:this.sendMessageToRwg(i)}}followHostLayout(n){return{seq:this.sendMessageToRwg({evt:4223,body:{bFollowHostVideo:n}})}}setVideoDragLayout(n){return{seq:this.sendMessageToRwg({evt:4218,body:{drag_list:n}})}}chatCmdReq(n,o){return{seq:this.sendMessageToRwg({evt:4237,body:{msgID:n,cmd:o}})}}activeAppLinkReq(n){return{seq:this.sendMessageToRwg({evt:4257,body:{appId:n}})}}activeAppInfoReq(){return{seq:this.sendMessageToRwg({evt:4255,body:{}})}}muteShareAudio(n,o){const i={bOn:!0,bShareAudio:!n};return o&&Object.assign(i,{bShareAudioOnly:!0}),{seq:this.sendMessageToRwg({evt:16423,body:i})}}localMuteAudio(n,o){return{seq:this.sendMessageToRwg({evt:8209,body:{id:n,bMute:o}})}}changeSharePronoun(n,o){return{seq:this.sendMessageToRwg({evt:4264,body:{bPronoun:n,strPronoun:o}})}}sendReceivingSharingReady(n){return{seq:this.sendMessageToRwg({evt:16421,body:{ssrc:n}})}}sendManualCaption(n){return{seq:this.sendMessageToRwg({evt:4289,body:{...n}})}}sendPollingAction(n,o,i){return{seq:this.sendMessageToRwg({evt:4224,body:{action:n,PollingId:o,...i}})}}broadcastUserNetworkQuality(n){const o={type:n.isUplink,level:n.level,bwLevel:n.bwLevel};return{seq:this.sendMessageToRwg({evt:4331,body:o})}}sendFarEndCameraControl(n,o,i){return{seq:this.sendMessageToRwg({evt:4329,body:{cmd:n,userID:o,buttonID:i}})}}sendCameraAblity(n){return{seq:this.sendMessageToRwg({evt:4330,body:{...n,focus:!1}})}}sendReaction(n){return{seq:this.sendMessageToRwg({evt:4259,body:{...n}})}}remoteControlConsent(n,o,i,c,d=!1,p){const{deviceId:v,...S}=c,_=p!==void 0?{runAsAdmin:p}:{};return{seq:this.sendMessageToRwg({evt:16427,body:{DeviceID:v,op:n,SendUserID:i,AssignUserID:o,...S,bAutoDelete:d,..._}})}}takeBackRemoteControlPermission(n,o){return{seq:this.sendMessageToRwg({evt:16431,body:{SendUserID:n,ReceiverUserID:o}})}}syncSharedContentMetaWithRcApp(n){const{deviceId:o,...i}=n;return{seq:this.sendMessageToRwg({evt:16429,body:{DeviceID:o,...i}})}}startLiveStream(n,o,i){return{seq:this.sendMessageToRwg({evt:7977,body:{action:1,streamingURL:n,streamingKey:o,broadcastURL:i}})}}stopLiveStream(){return{seq:this.sendMessageToRwg({evt:7977,body:{action:0}})}}sendRemoteControlAuth(n){return{seq:this.sendMessageToRwg({evt:16433,body:{auth:n}})}}chatFileTransfer(n){return{seq:this.sendMessageToRwg({evt:4307,body:{...n,fileType:0,receiverType:0}})}}broadcastVoiceReq(n){return{seq:this.sendMessageToRwg({evt:4314,body:{broadcastVoice:n}})}}requestUserInfoToken(n,o){return{seq:this.sendMessageToRwg({evt:4309,body:{type:n,reqId:o}})}}toggleShareAnnotation(n,o){return{seq:this.sendMessageToRwg({evt:20241,body:{annotationOff:n?0:1,activeNodeId:o}})}}sendCommandMessage(n,o){return{seq:this.sendMessageToRwg({evt:4383,body:{recieverID:o,commandContent:n}})}}}class ta extends b3e{static createAgent(){return this.rwgInstance||(this.rwgInstance=new ta),this.rwgInstance}}ta.rwgInstance=null;class Dte extends b3e{static getInstance(){return this.instance||(this.instance=new Dte),this.instance}}Dte.instance=null;class VS{constructor(n){this[dc]=void 0,this[Mc]=void 0,this[rs]=void 0,this[CQ]=void 0,this[dc]=n,this[Mc]=n.dispatch,this[rs]=n.getState}}let eT=(function(e){return e.Open="open",e.Message="message",e.Error="error",e.Close="close",e})({});class Z2{constructor(){this.eventHandlers=void 0,this.websocket=void 0,this.seq=void 0,this.eventHandlers=new Map,this.websocket=null,this.seq=1}static getInstance(){return this.xmppInstance||(this.xmppInstance=new Z2),this.xmppInstance}on(n,o){let i=this.eventHandlers.get(n);i||(i=[]),i.push(o),this.eventHandlers.set(n,i)}off(n,o){const i=this.eventHandlers.get(n);if(i){const c=i.filter((d=>d!==o));this.eventHandlers.set(n,c)}}emit(n,o){const i=this.eventHandlers.get(n);i&&i instanceof Array&&i.slice(0).forEach((c=>{try{c(o)}catch(d){console.error(d)}}))}sendMessageToRwg(n){this.seq+=1;const o=this.seq;return this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify(Object.assign(n,{seq:o}))),o}connect(n,o){this.websocket=o?new window.ZoomTPModule.ZoomTPWebSocket(n):new WebSocket(n),this.websocket.binaryType="arraybuffer",this.addWebSocketEventListeners()}close(){var n;(n=this.websocket)===null||n===void 0||n.close()}addWebSocketEventListeners(){this.websocket&&(this.websocket.addEventListener("open",(n=>{this.emit(eT.Open,n)})),this.websocket.addEventListener("message",(n=>{const{data:o}=n;var i;if(o instanceof ArrayBuffer)new Uint8Array(o)[0]===0&&((i=this.websocket)===null||i===void 0||i.send(o));else try{this.emit(eT.Message,JSON.parse(o))}catch{console.warn("Unsupported format",o)}})),this.websocket.addEventListener("close",(n=>{this.emit(eT.Close,n)})),this.websocket.addEventListener("error",(n=>{this.emit(eT.Error,n)})))}join(n){return{seq:this.sendMessageToRwg({evt:24576,body:{clientCap:n}})}}raiseHand(){return{seq:this.sendMessageToRwg({evt:24580,body:null})}}lowerHand(n){return{seq:this.sendMessageToRwg({evt:24578,jids:n||[]})}}sendWebinarMseeage(n,o,i,c=!1){const d={msg:n,jid:o?[o]:[],type:i,bcm:c};return{seq:this.sendMessageToRwg({evt:24582,body:d})}}sendAnswer(n,o,i){return{seq:this.sendMessageToRwg({evt:24584,body:{question_attendeejid:o.jid,question_attendeename:o.displayName,question_text:o.questionText,question_id:o.questionId,question_anonymous:o.isAnonymous,question_time:o.questionTime,text:n,isPrivate:i}})}}answerOnline(n,o){return{seq:this.sendMessageToRwg({evt:24586,body:{question_attendeejid:n.jid,question_attendeename:n.displayName,question_text:n.questionText,question_id:n.questionId,question_anonymous:n.isAnonymous,question_time:n.questionTime,isLiveStart:o}})}}dismissQuestion(n){return{seq:this.sendMessageToRwg({evt:24590,body:{question_attendeejid:n.jid,question_attendeename:n.displayName,question_text:n.questionText,question_id:n.questionId,question_anonymous:n.isAnonymous,question_time:n.questionTime,bOpen:!1}})}}deleteQuestion(n){return{seq:this.sendMessageToRwg({evt:24614,body:{question_id:n,bDelete:!0}})}}deleteComment(n){return{seq:this.sendMessageToRwg({body:{comment_id:n,bDelete:!0},evt:24616})}}reopenQuestion(n){return{seq:this.sendMessageToRwg({body:{question_attendeejid:n.jid,question_attendeename:n.displayName,question_text:n.questionText,question_id:n.questionId,question_anonymous:n.isAnonymous,question_time:n.questionTime,bOpen:!0},evt:24590})}}askQuestion(n,o,i=!1,c){const d=zQ();return{seq:this.sendMessageToRwg({body:{id:d,text:n,isAnonymous:i,bAllowAttendeeViewAllQuestion:c,name:o},evt:24592}),questionId:d}}upOrDownVote(n,o){return{seq:this.sendMessageToRwg({body:{question_attendeejid:n.jid,question_attendeename:n.displayName,question_text:n.questionText,question_id:n.questionId,question_anonymous:n.isAnonymous,question_time:n.questionTime,bUpVote:o},evt:24598})}}rename(n,o){return{seq:this.sendMessageToRwg({body:{jid:n,displayName:o},evt:24600})}}setSkinTome(n){return{seq:this.sendMessageToRwg({body:{skinTone:n},evt:24618})}}}function Nz(e){return $O(Do(((n,o)=>e(n,o))),xn((n=>n!=null)))}function S3e(e){return $O(pn(((n,o)=>e(n,o)||Po)))}function uT(e){return $O(pn(((n,o)=>e(n,o))),pn((n=>Array.isArray(n)?lo(n):qa(n))))}Z2.xmppInstance=null;const lKe={period:500,rules:[{peak:50,throttle:300},{peak:60,throttle:400}]},wme={[`${Ul}`]:()=>({payloads:{add:[],update:[],remove:[]},onThrottle(e){e.add&&this.payloads.add.push(...e.add),e.update&&this.payloads.update.push(...e.update),e.remove&&this.payloads.remove.push(...e.remove)}})};function C3e(e=lKe){return n=>new Su((o=>{const i=new Map;let c=0,d=null;const{period:p,rules:v}=e;let S=null;d||(d=((P,B)=>{const H=performance.now();let U=0,z=!1;return setTimeout((function Z(){U+=B,P();const te=performance.now()-H-U,ce=setTimeout(Z,Math.max(B-te,0));z&&clearTimeout(ce)}),B),()=>{z=!0}})((()=>{c=0}),p));const _=Object.keys(wme),x=n.subscribe({next(P){if(P&&P.evt&&d!==null){c+=1;const{evt:B,body:H}=P,U=String(B);if(_.indexOf(U)>=0)if(S){const z=i.get(U);if(z)z.onThrottle(H);else{const Z=wme[U]();Z.onThrottle(H),i.set(U,Z)}}else{let z=0;if(v.forEach((Z=>{c>Z.peak&&(z=Z.throttle)})),z>0){const Z=wme[U]();Z.onThrottle(H),i.set(U,Z),S=setTimeout((()=>{i.forEach(((te,ce)=>{const se={evt:Number(ce),body:te.payloads};o.next(se)})),i.clear(),S=null}),z)}else o.next(P)}else o.next(P)}else o.next(P)},error(P){o.error(P)},complete(){o.complete()}});return()=>{x.unsubscribe(),d&&(d(),d=null),c=0}}))}let Fa=(function(e){return e.Closed="closed",e.Connecting="connecting",e.Connected="connected",e})({});function Sh(e){return 1<<e-1}let Ty=(function(e){return e[e.SupportASL=Sh(1)]="SupportASL",e[e.SidecarPhase2=Sh(2)]="SidecarPhase2",e[e.SupportBroadcastVoice=Sh(4)]="SupportBroadcastVoice",e[e.SendMeetingTokenSeparately=Sh(5)]="SendMeetingTokenSeparately",e[e.SupportPreview=Sh(6)]="SupportPreview",e[e.WebCameraIndication=Sh(7)]="WebCameraIndication",e[e.SupportFarEndCameraControl=Sh(9)]="SupportFarEndCameraControl",e[e.SupportVideoShare=Sh(10)]="SupportVideoShare",e[e.UnifyErrorType=Sh(11)]="UnifyErrorType",e[e.WhiteBoard=Sh(12)]="WhiteBoard",e[e.RequestRemoteControl=Sh(14)]="RequestRemoteControl",e[e.SmartSummary=Sh(15)]="SmartSummary",e[e.LocalRecording=Sh(16)]="LocalRecording",e[e.LocalRecordingGrantPermission=Sh(17)]="LocalRecordingGrantPermission",e[e.ShareMultiStream=Sh(18)]="ShareMultiStream",e[e.VideoLTR=Sh(19)]="VideoLTR",e[e.WebrtcAudioRtcpTime=Sh(20)]="WebrtcAudioRtcpTime",e[e.SupportSend1080PVideo=Sh(29)]="SupportSend1080PVideo",e[e.SupportSend1080PVideoShare=Sh(30)]="SupportSend1080PVideoShare",e})({}),OTe=(function(e){return e[e.SupportPresenterAnnotation=Sh(5)]="SupportPresenterAnnotation",e[e.SupportMMRCommandChannel=Sh(11)]="SupportMMRCommandChannel",e})({});const{setAsnIds:E3e,setIsCanUnmute:w3e,setDialoutSequence:_3e,setDialoutResultCode:T3e,setIsAllowToTalk:Cye,setAudioSsrc:A3e,setIsMutedUponEntry:x3e,setIsUserGrantCaptureAudio:O3e,setIsMicrophoneForbidden:M1e,setWebrtcRestartCount:$2,setMicrophoneList:I3e,setSpeakerList:R3e,setActiveMicrophone:nz,setActiveSpeaker:Mte,setCanPlayAudio:d4,resetAudio:k3e,setIsComputerAudioLoading:Hk,setIsAllowToTalkAttendeeConnected:Eye,setIsMuteBeforeSharingAudio:dT,addLocalShareAudioUser:D3e,updateLocalShareAudioUser:M3e,setIsJoinComputerAudioBeforeSharingAudio:h4,setIsShareAudioEnabled:Pte,setIsShareAudioMuted:Eee,setIsSharingAudio:f4,setAudioDataEncoding:wee,setAudioDataDecoding:_ee,addLocallyMutedAudio:P3e,removeLocallyMutedAudio:Tee,updateUserAudioVolumeLocally:N3e,removeLocalUserAudioVolume:L3e,setCustomizedAudioOption:P1e,setIsBackgroundNoiseSuppression:wye,setIsHidEnabled:B3e,setAudioMediaPlaybackFile:_ye,setIsStopAllIncomingAudio:Tye,setIsVerifiedAudioPermissionOnIosMobile:F3e,setIsAudioBridgeSignalReconnecting:N1e,setAudioMutedSource:_S,setAudioUnmutedSource:oz,setAudioOriginalSound:Aye,setLeaveAudioSource:hT,setSecondaryAudioMicrophoneId:Aee,setCrcCallOutSequence:V3e,setCrcCallOutReturnCode:H3e,setWebRtcAudioCapable:$3e}=eh("SET_ASN_IDS","SET_IS_CAN_UNMUTE","SET_DIALOUT_SEQUENCE","SET_DIALOUT_RESULT_CODE","SET_IS_ALLOW_TO_TALK","SET_AUDIO_SSRC","SET_IS_MUTED_UPON_ENTRY","SET_IS_USER_GRANT_CAPTURE_AUDIO","SET_IS_MICROPHONE_FORBIDDEN","SET_WEBRTC_RESTART_COUNT","SET_MICROPHONE_LIST","SET_SPEAKER_LIST","SET_ACTIVE_MICROPHONE","SET_ACTIVE_SPEAKER","SET_CAN_PLAY_AUDIO","RESET_AUDIO","SET_IS_COMPUTER_AUDIO_LOADING","SET_IS_ALLOW_TO_TALK_ATTENDEE_CONNECTED","SET_IS_MUTE_BEFORE_SHARING_AUDIO","SET_IS_SHARING_AUDIO","ADD_LOCAL_SHARE_AUDIO_USER","UPDATE_LOCAL_SHARE_AUDIO_USER","SET_IS_JOIN_COMPUTER_AUDIO_BEFORE_SHARING_AUDIO","SET_IS_SHARE_AUDIO_ENABLED","SET_IS_SHARE_AUDIO_MUTED","SET_AUDIO_DATA_ENCODING","SET_AUDIO_DATA_DECODING","ADD_LOCALLY_MUTED_AUDIO","REMOVE_LOCALLY_MUTED_AUDIO","UPDATE_USER_AUDIO_VOLUME_LOCALLY","REMOVE_LOCAL_USER_AUDIO_VOLUME","SET_CUSTOMIZED_AUDIO_OPTION","SET_IS_BACKGROUND_NOISE_SUPPRESSION","SET_IS_HID_ENABLED","SET_AUDIO_MEDIA_PLAYBACK_FILE","SET_IS_STOP_ALL_INCOMING_AUDIO","SET_IS_VERIFIED_AUDIO_PERMISSION_ON_IOS_MOBILE","SET_IS_AUDIO_BRIDGE_SIGNAL_RECONNECTING","SET_AUDIO_MUTED_SOURCE","SET_AUDIO_UNMUTED_SOURCE","SET_AUDIO_ORIGINAL_SOUND","SET_LEAVE_AUDIO_SOURCE","SET_SECONDARY_AUDIO_MICROPHONE_ID","SET_CRC_CALL_OUT_SEQUENCE","SET_CRC_CALL_OUT_RETURN_CODE","SET_WEB_RTC_AUDIO_CAPABLE");function xye(e){const{audio:{isBackgroundNoiseSuppression:n,originalSound:o,highBitrate:i}}=e,c={currentSelect:owe.Denoise},d={highfidelity:!1,stereo:!1};if(o){Object.assign(c,{currentSelect:owe.OriginalSound});const p={};typeof o=="boolean"?Object.assign(p,d):Object.assign(p,{highfidelity:!!o.hifi,stereo:!!o.stereo}),Object.assign(c,{originalSound:p})}return Object.assign(c,{backgroundNoiseSuppression:n?nwe.Zoom:nwe.Browser,highBitrate:i}),c}function sz(e,n,o,i){const{meeting:{userId:c}}=i;return KPe(n,o,i,e),n===c?Eee(o):M3e({userId:n,muted:o})}async function k3(e,n,o){var i,c;const{audio:{audioSsrc:d,activeMicrophone:p,activeSpeaker:v,isAllowToTalk:S,customizeAudioOption:{speakerOnly:_,mute:x,microphoneId:P,speakerId:B},isUsingMediaPlayback:H,mediaPlaybackFile:U,isHIDEnabled:z,microphoneDevicesList:Z,isVerifiedAudioPermissionOnIOSMobile:te,speakerDevicesList:ce,isWebRtcAudioCapable:se},meeting:{userId:Se}}=n,Ce=Ss(n),Te=!!_||tf(Ce.userRole)&&!S,V=o??!Te;let ke=p,et=v;if(P!==void 0||B!==void 0){let $e=Z,Re=ce;if(Z.length===0){const{microphones:_e,speakers:ut}=await hc(F2());$e=_e,Re=ut}P&&$e.findIndex((_e=>_e.deviceId===P))>-1&&(ke=P),B&&Re.findIndex((_e=>_e.deviceId===B))>-1&&(et=B)}if(H&&U!=null&&U.url){const $e=vg.getInstance();await $e.setAudioElement(U),ke=$e.audioElement,U.playback!==void 0&&(e.enablePlayAudioFileLocally(!!U.playback),ke.dataset.playback=U.playback?"1":"0")}else vg.getInstance().stopAudioElement();return Te&&!te&&is.isIOSMobile&&await(async function(){await navigator.mediaDevices.getUserMedia({audio:!0})})(),(i=e.joinComputerAudio(d,ke,et,V,xye(n),se,z?{microphoneLabel:(c=Z.find(($e=>$e.deviceId===p)))===null||c===void 0?void 0:c.label,defaultMuted:!(Ce==null||!Ce.muted)}:void 0))===null||i===void 0?void 0:i.then((()=>{x&&ta.createAgent().mute(Se,!0)}))}async function L1e(e,n){const o=[],{audio:{isJoinComputerAudioBeforeSharingAudio:i,mutedBeforeSharingAudio:c}}=n,d=Ss(n);return i===!0&&(o.push(h4(void 0)),c===!1&&(o.push(oz(S3.SharingAudio)),e.mute(d.userId,!1)),o.push(dT(void 0))),o}async function ITe(e,n,o){const{audio:{isSharingAudio:i},meeting:{userId:c}}=o,d=[];if(d.push(sz(e,c,!0,o)),i){await e.leaveSharingAudio(!1),d.push(f4(!1));const p=await L1e(n,o);d.push(...p),setTimeout((()=>{dt(X3,{state:"off"})}),0)}return d.push(Pte(!1)),d}async function Oye(e,n,o){const{audio:{audioSsrc:i,activeMicrophone:c,activeSpeaker:d,isWebRtcAudioCapable:p},meeting:{mediaFeatureOptions:v}}=o,S=Ss(o),_=[];if(!zs.isSupportOpenMicWhenShareAudio(v||"")){const x=await(async function(P,B){const H=[],U=Ss(B),{audio:{isMicrophoneForbidden:z}}=B;return U?.audio===Qi.Computer&&(H.push(h4(!0)),H.push(dT(U.muted)),U.muted||P.muteAudio(),H.push($2(0)),z&&H.push(M1e(!1))),H})(e,o);_.push(...x)}return await e.leaveSharingAudio(!0),await e.joinSharingAudio({ssrc:i,microphoneDeviceId:c,speakerDeviceId:d,isCaptureAudio:tf(S.userRole),audioBridge:p}),_.push(Pte(!0)),_.push(f4(!0)),_.push(sz(e,S.userId,!1,o)),_.findIndex((x=>x.type===`${h4}`&&x.payload===!0))>-1&&(_.push(_S(q0.SharingAudio)),n.mute(o.meeting.userId,!0)),setTimeout((()=>{dt(X3,{state:"on"})}),0),_}const rz=()=>{if(IDe())return!0;{var e;let{browser:o}=is;if(o=(e=o)===null||e===void 0?void 0:e.toLocaleLowerCase(),o.indexOf("safari")>-1&&o.indexOf("ios-safari")===-1){var n;const i=(n=navigator.userAgent.match(/version\/(\d+\.?\d+)/i))===null||n===void 0?void 0:n[1];return UQ(i||"","15.2")>=0&&UQ(i||"","17.1")<0}return!1}};function RTe(e,n,o){for(let i=0;i<o.length&&n.length!==0;i++){const{userId:c,displayName:d}=o[i];if(n.includes(c)){const p=e.find((v=>v.userId===c));p&&(p.displayName=d,n.splice(n.indexOf(c),1))}}}function kTe(e,n){return zs.isSupportAudioDenoise(e,n)}function DTe(){return zs.isSupportStereoAudio()}function MTe(){var e;return typeof((e=window.navigator.hid)===null||e===void 0?void 0:e.requestDevice)=="function"}function Iye(e,n,o){const{audio:{isAllowToTalk:i,customizeAudioOption:c},media:{audioDecodeStatus:d,audioEncodeStatus:p}}=e;return{encodeInitStatus:tf(n.userRole)&&!i||o||c!=null&&c.speakerOnly?"success":p,decodeInitStatus:d}}function U3e(e){const{audio:{bMutedUponEntry:n,isUserGrantCaptureAudio:o,isAllowToTalk:i}}=e,c=Ss(e);return!(o||c!=null&&c.isHost||i)&&n}function Rye(e,n){const{audio:{customizeAudioOption:o}}=n,i=!(o==null||!o.mute)||U3e(n);e.joinOrLeaveVoip(!0,i)}function PTe(){return Fp(Aa(i3.JoinComputerAudio.success,1),xd(...i3.JoinComputerAudio.fail.map((e=>Aa(e,1).pipe(pn((n=>{const{errorCode:o,...i}=n??{},c={...i};return o!==void 0&&Object.assign(c,{subCode:o}),UO({type:Bp,reason:e,errorCode:ht.AUDIO_CAPTURE_FAILED,...c})})))))),wu(45e3).pipe(pn((()=>UO({type:yte,errorCode:ht.OPERATION_TIMEOUT})))))}const fS=ta.createAgent(),Ff=_te(_m(zs.getInstance())),NTe=e=>!e.muted,z3e=Jl("SCREENSHOT_SHARING_NOTIFICATION"),{setSharePrivilege:B1e,setShareActiveNode:D3,setIsReceiveSharing:IO,setIsScreenShareForbidden:LTe,setShareDimension:F1e,setShareStatus:Sg,setShareSsrc:j3e,setShareQuality:V1e,setReceivedShareDimension:xee,setIsGrabRemoteControl:xJ,setIsSdkGrabControl:kye,setIsReceiveSharingFromMainSession:W3e,setIsSharingToBreakoutRoom:Q5,setIsSharingWithSecondCamera:G3e,setShringSecondCameraId:q3e,setIsRequireReadReceipt:K3e,setIsOptimizedForSharedVideo:Oee,setShareDataEncoding:Dye,setShareDataDecoding:iz,addShareCapturedEnsuredCanvas:Z3e,addShareRenderedEnsuredCanvas:Y3e,setRemoteControlCurrentSsrc:wJe,setRemoteControllingSsrc:_6,setApprovedRemoteControlSsrc:M3,setRemoteControlAppDownloadUrl:X3e,setRemoteControlAppInstallStatus:Zk,remoteControlAppStatusFallbackCheck:BTe,remoteControlAppLaunchedCheck:_me,setIsEnableAutoDeleteRcApp:_Je,setRemoteControlAppLaunchSheme:yE,addRemoteControlledUser:J3e,removeRemoteControlledUser:Mye,setRemoteControlSetting:H1e,setRemoteControlViewportDomSelector:$1e,setAnnotationCapability:Q3e,setIsAnnotationInitialized:cKe,setIsAnnotationStarted:uKe,setAnnotationUser:OS,setAnnotationToolColor:e4e,setAnnotationSpotlightColor:t4e,setAnnotationToolWidth:n4e,setAnnotationToolType:P3,setIsSimultaneousShareView:Pye,addShareViewAttachment:Iee,removeShareViewAttachment:T6,setAnnotationVanishingToolTimer:o4e,resetShare:s4e}=eh("SET_SHARE_PRIVILEGE","SET_SHARE_ACTIVE_NODE","SET_IS_RECEIVE_SHARING","SET_IS_SCREEN_SHARE_FORBIDDEN","SET_SHARE_DIMENSION","SET_SHARE_STATUS","SET_SHARE_SSRC","SET_SHARE_QUALITY","SET_RECEIVED_SHARE_DIMENSION","SET_IS_GRAB_REMOTE_CONTROL","SET_IS_SDK_GRAB_CONTROL","SET_IS_RECEIVE_SHARING_FROM_MAIN_SESSION","SET_IS_SHARING_TO_BREAKOUT_ROOM","SET_IS_SHARING_WITH_SECOND_CAMERA","SET_SHRING_SECOND_CAMERA_ID","SET_IS_REQUIRE_READ_RECEIPT","SET_IS_OPTIMIZED_FOR_SHARED_VIDEO","SET_SHARE_DATA_ENCODING","SET_SHARE_DATA_DECODING","ADD_SHARE_CAPTURED_ENSURED_CANVAS","ADD_SHARE_RENDERED_ENSURED_CANVAS","SET_REMOTE_CONTROL_CURRENT_SSRC","SET_REMOTE_CONTROLLING_SSRC","SET_APPROVED_REMOTE_CONTROL_SSRC","SET_REMOTE_CONTROL_APP_DOWNLOAD_URL","SET_REMOTE_CONTROL_APP_INSTALL_STATUS","REMOTE_CONTROL_APP_STATUS_FALLBACK_CHECK","REMOTE_CONTROL_APP_LAUNCHED_CHECK","SET_IS_ENABLE_AUTO_DELETE_RC_APP","SET_REMOTE_CONTROL_APP_LAUNCH_SHEME","ADD_REMOTE_CONTROLLED_USER","REMOVE_REMOTE_CONTROLLED_USER","SET_REMOTE_CONTROL_SETTING","SET_REMOTE_CONTROL_VIEWPORT_DOM_SELECTOR","SET_ANNOTATION_CAPABILITY","SET_IS_ANNOTATION_INITIALIZED","SET_IS_ANNOTATION_STARTED","SET_ANNOTATION_USER","SET_ANNOTATION_TOOL_COLOR","SET_ANNOTATION_SPOTLIGHT_COLOR","SET_ANNOTATION_TOOL_WIDTH","SET_ANNOTATION_TOOL_TYPE","SET_IS_SIMULTANEOUS_SHARE_VIEW","ADD_SHARE_VIEW_ATTACHMENT","REMOVE_SHARE_VIEW_ATTACHMENT","SET_ANNOTATION_VANISHING_TOOL_TIMER","RESET_SHARE"),UL=ta.createAgent(),_k=_te(_m(zs.getInstance())),Tme=ta.createAgent(),zL=_te(_m(zs.getInstance())),FTe=[_v.Canceled,_v.CancelFailed],TX={asnIds:{asn1:{userId:0,displayName:null},asn2:{userId:0,displayName:null},asn3:{userId:0,displayName:null}},microphoneDevicesList:[],speakerDevicesList:[],activeMicrophone:"default",activeSpeaker:"default",isMicrophoneForbidden:!1,audioSsrc:0,bCanUnmute:!1,bMutedUponEntry:!1,isAllowToTalk:void 0,dialout:[],crcDevice:[],canPlayAudio:!1,mutedSource:void 0,unmutedSource:void 0,isUserGrantCaptureAudio:!1,webrtcRestartCount:0,isComputerAudioLoading:!1,isUsingMediaPlayback:!1,customizeAudioOption:{},localShareAudioUserMutedList:[],locallyMutedAudioList:[],localUserAudioVolumeList:[],isStopAllImcomingAudio:!1,isWebRtcAudioCapable:!1,webRtcAudioMode:0,statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,bandwidth:0,bitrate:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,bandwidth:0,bitrate:0}}},dKe=wm({[`${E3e}`]:bt(((e,{payload:n})=>{e.asnIds={...n}})),[`${w3e}`]:bt(((e,{payload:n})=>{e.bCanUnmute=n})),[`${_3e}`]:bt(((e,{payload:n})=>{const{sequence:o,phoneNumber:i}=n;e.dialout.findIndex((c=>c.sequence===o))===-1&&e.dialout.push({sequence:o,phoneNumber:i,returnCode:-1,uuid:mee()})})),[`${T3e}`]:bt(((e,{payload:n})=>{const{sequence:o,code:i,nodeId:c}=n,d=e.dialout.find((p=>p.sequence===o));d&&(d.returnCode=i,c&&(d.phoneNodeId=c))})),[`${Cye}`]:bt(((e,{payload:n})=>{e.isAllowToTalk=n,e.isAllowToTalkAttendeeConnected=!1})),[`${_S}`]:bt(((e,{payload:n})=>{e.mutedSource=n})),[`${oz}`]:bt(((e,{payload:n})=>{e.unmutedSource=n})),[`${A3e}`]:bt(((e,{payload:n})=>{e.audioSsrc=n})),[`${x3e}`]:bt(((e,{payload:n})=>{e.bMutedUponEntry=n})),[`${O3e}`]:bt(((e,{payload:n})=>{e.isUserGrantCaptureAudio=n})),[`${M1e}`]:bt(((e,{payload:n})=>{e.isMicrophoneForbidden=n})),[`${$2}`]:bt(((e,{payload:n})=>{e.webrtcRestartCount=n})),[`${I3e}`]:bt(((e,{payload:n})=>{e.microphoneDevicesList=n})),[`${R3e}`]:bt(((e,{payload:n})=>{e.speakerDevicesList=n})),[`${nz}`]:bt(((e,{payload:n})=>{e.activeMicrophone=n})),[`${Mte}`]:bt(((e,{payload:n})=>{e.activeSpeaker=n})),[`${d4}`]:bt(((e,{payload:n})=>{e.canPlayAudio=n})),[`${Hk}`]:bt(((e,{payload:n})=>{e.isComputerAudioLoading=n})),[`${P1e}`]:bt(((e,{payload:n})=>{if(n){const{speakerOnly:o,mute:i,backgroundNoiseSuppression:c,originalSound:d,syncButtonsOnHeadset:p,mediaFile:v,microphoneId:S,speakerId:_,highBitrate:x}=n;e.customizeAudioOption.speakerOnly=o,e.customizeAudioOption.mute=i,e.customizeAudioOption.microphoneId=S,e.customizeAudioOption.speakerId=_,e.isBackgroundNoiseSuppression=!!c,e.isHIDEnabled=!!p,e.originalSound=d,e.highBitrate=!!x,Mz(e.mediaPlaybackFile,v)||(e.mediaPlaybackFile=v,e.isUsingMediaPlayback=!(v==null||!v.url)),i&&(e.mutedSource=q0.Inherited)}})),[`${Eye}`]:bt(((e,{payload:n})=>{e.isAllowToTalkAttendeeConnected=n})),[`${dT}`]:bt(((e,{payload:n})=>{e.mutedBeforeSharingAudio=n})),[`${f4}`]:bt(((e,{payload:n})=>{e.isSharingAudio=n})),[`${Eee}`]:bt(((e,{payload:n})=>{e.isShareAudioMuted=n})),[`${D3e}`]:bt(((e,{payload:n})=>{const{userId:o,isFromMainSession:i}=n;e.localShareAudioUserMutedList.findIndex((c=>c.userId===o))===-1&&e.localShareAudioUserMutedList.push({userId:o,isFromMainSession:i,muted:!1})})),[`${M3e}`]:bt(((e,{payload:n})=>{const o=e.localShareAudioUserMutedList.find((i=>i.userId===n.userId));o&&(o.muted=n.muted)})),[`${h4}`]:bt(((e,{payload:n})=>{e.isJoinComputerAudioBeforeSharingAudio=n})),[`${Pte}`]:bt(((e,{payload:n})=>{e.isShareAudioEnabled=n})),[`${wee}`]:bt(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.encode={bitrate:i,...c}})),[`${_ee}`]:bt(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.decode={bitrate:i,...c}})),[`${P3e}`]:bt(((e,{payload:n})=>{e.locallyMutedAudioList.findIndex((o=>o===n))===-1&&e.locallyMutedAudioList.push(n)})),[`${Tee}`]:bt(((e,{payload:n})=>{const o=e.locallyMutedAudioList.findIndex((i=>i===n));o!==-1&&e.locallyMutedAudioList.splice(o,1)})),[`${N3e}`]:bt(((e,{payload:n})=>{const o=e.localUserAudioVolumeList.find((i=>i.userId===n.userId));if(o?o.volume=n.volume:e.localUserAudioVolumeList.push(n),n.volume>0){const i=e.locallyMutedAudioList.findIndex((c=>c===n.userId));i!==-1&&e.locallyMutedAudioList.splice(i,1)}})),[`${L3e}`]:bt(((e,{payload:n})=>{const o=e.localUserAudioVolumeList.findIndex((i=>i.userId===n.userId));o!==-1&&e.localUserAudioVolumeList.splice(o,1)})),[`${wye}`]:bt(((e,{payload:n})=>{e.isBackgroundNoiseSuppression=n})),[`${B3e}`]:bt(((e,{payload:n})=>{e.isHIDEnabled=n})),[`${_ye}`]:bt(((e,{payload:n})=>{e.mediaPlaybackFile=n,e.isUsingMediaPlayback=!(n==null||!n.url)})),[`${Tye}`]:bt(((e,{payload:n})=>{e.isStopAllImcomingAudio=n})),[`${F3e}`]:bt(((e,{payload:n})=>{e.isVerifiedAudioPermissionOnIOSMobile=n})),[`${N1e}`]:bt(((e,{payload:n})=>{e.isAudioBridgeSignalReconnecting=n})),[`${Aye}`]:bt(((e,{payload:n})=>{e.originalSound=n})),[`${hT}`]:bt(((e,{payload:n})=>{e.leaveAudioSource=n,e.unmutedSource=S3.Inherited})),[`${Aee}`]:bt(((e,{payload:n})=>{e.secondaryAudioMicrophoneId=n})),[`${V3e}`]:bt(((e,{payload:n})=>{const{sequence:o,ip:i,protocol:c}=n;e.crcDevice.findIndex((d=>d.sequence===o))===-1&&e.crcDevice.push({sequence:o,ip:i,protocol:c,transId:0,uuid:mee()})})),[`${H3e}`]:bt(((e,{payload:n})=>{const{sequence:o,transID:i,result:c}=n,d=e.crcDevice.find((p=>p.sequence===o));d&&Object.assign(d,{transId:i,returnCode:c})})),[`${$3e}`]:bt(((e,{payload:n})=>{const{isWebRtcAudioCapable:o,webRtcAudioMode:i}=n;e.isWebRtcAudioCapable=o,e.webRtcAudioMode=i})),[`${k3e}`]:({dialout:e,crcDevice:n,locallyMutedAudioList:o,localUserAudioVolumeList:i,customizeAudioOption:c,originalSound:d,highBitrate:p,isHIDEnabled:v,isBackgroundNoiseSuppression:S,isStopAllImcomingAudio:_,mediaPlaybackFile:x,isUsingMediaPlayback:P,isVerifiedAudioPermissionOnIOSMobile:B,activeSpeaker:H,activeMicrophone:U},{payload:z})=>z?{...TX,dialout:e,crcDevice:n,locallyMutedAudioList:o,localUserAudioVolumeList:i,customizeAudioOption:{...TX.customizeAudioOption,speakerOnly:c.speakerOnly},originalSound:d,highBitrate:p,isHIDEnabled:v,isBackgroundNoiseSuppression:S,isStopAllImcomingAudio:_,mediaPlaybackFile:x,isUsingMediaPlayback:P,isVerifiedAudioPermissionOnIOSMobile:B,activeSpeaker:H,activeMicrophone:U}:{...TX}},TX),hKe={dialEpics0:(e,n)=>Uo(e,8198).pipe(us(n),xn((([o,i])=>{const{audio:{dialout:c}}=i,{payload:{seq:d,body:p}}=o;return c.map((v=>v.sequence)).includes(d)||FTe.includes(p?.result)})),pn((([o,i])=>{const{payload:{seq:c,body:{phoneNodeID:d,result:p}}}=o,v=[T3e({code:p,sequence:c,nodeId:d})],{audio:{dialout:S}}=i;let _=S.find((B=>B.sequence===c));!_&&FTe.includes(p)&&(_=S.find((B=>[_v.Calling,_v.Ringing,_v.Accepted].includes(B.returnCode))));const x={code:p};if(_&&(Object.assign(x,{phoneNumber:_.phoneNumber,uuid:_.uuid}),d&&Object.assign(x,{userId:d})),dt(AMe,x),p===_v.Success){if(dt(xMe),d&&Va(i).findIndex((B=>B.userId===d))>-1){var P;const B=(P=i.audio.dialout.find((H=>H.sequence===c)))===null||P===void 0?void 0:P.phoneNumber;B&&(v.push(Q6({userId:d,key:"phoneNumber",value:B})),dt(NS,[{userId:d,phoneNumber:B}]))}}else[_v.Canceling,_v.Canceled,_v.CancelFailed].includes(p)?p===_v.Canceled?dt(IMe):p===_v.CancelFailed&&dt(RMe):[_v.Calling,_v.Ringing,_v.Accepted,_v.Success].indexOf(p)===-1&&dt(OMe);return lo(v)}))),dialEpics1:(e,n)=>Uo(e,4120).pipe(us(n),xn((([o,i])=>i.audio.crcDevice.map((c=>c.sequence)).includes(o.payload.seq))),pn((([o,i])=>{const{payload:{seq:c,body:{result:d,transID:p}}}=o,{audio:{crcDevice:v}}=i,S=[],_=v.find((x=>x.sequence===c));return _&&(dt(FMe,{code:d,ip:_.ip,protocol:_.protocol,uuid:_.uuid}),S.push(H3e({sequence:c,transID:p,result:d}))),d===nJ.Success?dt(VMe):[nJ.Success,nJ.Ringing].includes(d)||dt(HMe),lo(S)})))},fKe={epics0:(e,n)=>Uo(e,12033).pipe(us(n),Do((([o,i])=>{const{participants:{allowTalkAttendeesList:c}}=i,d=o.payload.body;let p={};if(d){const v=Va(i),S=Object.keys(d).map((x=>({key:x,userId:d[x]}))),_=S.map((x=>x.userId));RTe(S,_,v),c.length>0&&_.length>0&&RTe(S,_,c),p=S.reduce(((x,P)=>({...x,[`${P.key}`]:{userId:P.userId,displayName:P.displayName}})),{}),dt(_Me,Object.values(p))}return E3e(p)}))),epics1:(e,n)=>Uo(e,16135).pipe(us(n),Yo((([o,i])=>{const{payload:{body:{id:c,bLeadershipOn:d}}}=o,{audio:{bCanUnmute:p}}=i,v=Ss(i);if(v){const{isHost:S,bCoHost:_,userId:x,audio:P,muted:B}=v,H=S||_;d&&Uf(x,c)&&(P!==null&&P!==""&&B!==!0||!H&&!p||dt(lJ,Bpe.Spotlight))}})),pn((()=>Po))),epics2:(e,n)=>Uo(e,12037).pipe(us(n),Yo((([,o])=>{const i=Ss(o);i?.audio!==null&&i?.audio!==""&&i?.muted==1&&dt(lJ,Bpe.Unmute)})),pn((()=>Po))),epics3:(e,n)=>Uo(e,Wb).pipe(xn((o=>o.payload.body&&["bCanUnmute","bMutedAll","bMutedUponEntry"].some((i=>o.payload.body[i]!==void 0)))),pn((o=>{const{payload:{body:{bCanUnmute:i,bMutedAll:c,bMutedUponEntry:d}}}=o,p=[];if(i!==void 0&&p.push(w3e(o.payload.body.bCanUnmute)),c!==void 0){const v=Ss(n.value);v?.audio!==Qi.Computer&&v?.audio!==Qi.Phone||v.muted!=0||o.payload.body.bMutedAll&&p.push(_S(q0.PassiveByMuteAll))}return d!==void 0&&p.push(x3e(o.payload.body.bMutedUponEntry)),lo(p)}))),epics4:(e,n)=>Uo(e,Ul).pipe(us(n),xn((([,o])=>o.socket.zoomSocketStatus===Fa.Connected)),pn((([o,i])=>{const{payload:{body:{update:c}}}=o;if(c!=null&&c.some((d=>d.audio!==void 0||d.muted!==void 0))){const{meeting:{userId:d}}=i,p=c.filter((S=>S.id!==d)),v=c.filter((S=>S.id===d));if(p&&p.forEach((S=>{dt(TMe,S)})),v.length>0)return B2(n).pipe(pn((S=>{const{audio:{mutedSource:_,unmutedSource:x,isAllowToTalk:P,isSharingAudio:B,isAudioBridgeSignalReconnecting:H,leaveAudioSource:U,customizeAudioOption:{speakerOnly:z}}}=n.value,Z=S;return lo(v).pipe(uT((async te=>{const ce=[];if(te.audio!==Z.audio)if(te.audio==="")dt(Cte,{source:U}),ce.push(hT(void 0));else if(te.audio===Qi.Computer){const se=tf(Z.userRole)&&!P||!!z;B&&dt(r3),se&&(dt(r3),is.isIOSMobile&&ce.push(F3e(!0))),H&&(dt(r3),ce.push(N1e(!1)))}else te.audio===Qi.Phone&&(Z.audio===Qi.Computer&&(await Ff.leaveComputerAudio(),ce.push(hT(v2.Pstn)),fS.joinOrLeaveVoip(!1)),dt(rve));if(Z.audio!==""&&te.muted!==Z.muted){if(te.muted!==Z.muted){if(te.muted===!0){if(_!==q0.Inherited){const se=_??q0.PassiveByMuteOne;dt(J0e,{source:se})}Z.audio===Qi.Computer&&Ff.muteAudio()}else if(te.muted===!1){if(x!==S3.Inherited){const se=x??S3.Passive;dt(Q0e,{source:se})}Z.audio===Qi.Computer&&Ff.unmuteAudio()}}te.muted!==void 0&&ce.push(_S(void 0),oz(void 0))}return ce})))})))}return Po}))),epics5:(e,n)=>Uo(e,12036).pipe(us(n),pn((([o,i])=>{const c=Ss(i),{media:{audioEncodeStatus:d}}=i,{promoterID:p,bAllowTalk:v}=o.payload.body;if(c?.userId===p){if(dt(NMe,v),v)return d!=="success"&&Ff.enableAudioEncode(),$f("audio",d,"success").pipe(pn((S=>(S&&dt(lJ,Bpe.AllowToTalk),Po))),o1(Cye(!0)));if(fS.mute(p,!0),c?.audio===Qi.Computer)return Ff.leaveComputerAudio(),wu(300).pipe(Yo((async()=>{(rz()?hc(Fp(Jd(document,"click").pipe(Jr(1)),Jd(document,"touchend").pipe(Jr(1)))):Promise.resolve(!0)).then((()=>{k3(Ff,i,!1)}))})),pn((()=>Po)),o1(Cye(!1),_S(q0.Inherited)))}return Po}))),epics6:e=>Uo(e,8205).pipe(Yo((n=>{dt("AUDIO_ALLOW_TO_TALK_RESPONSE",n.payload.body)})),pn((()=>Po))),epics7:(e,n)=>R3(e,24597).pipe(us(n),Yo((([o,i])=>{const c=Ss(i);c?.audio===Qi.Phone?fS.audioDrop(c.userId):c?.audio===Qi.Computer&&o.payload.body.bPromote})),pn((()=>Po))),epics8:(e,n)=>Uo(e,12035).pipe(us(n),mi((([o,i])=>{const{meeting:{currentUserAudioBeforeReset:c,isCurrentUserMutedBeforeReset:d,userId:p}}=i,{payload:{body:{ssrc:v}}}=o,S=B2(n).pipe(pn((_=>{if(!(c!==Qi.Computer||_!=null&&_.audio)){const{encodeInitStatus:x,decodeInitStatus:P}=Iye(n.value,_);return $f("audio",x,P).pipe(xn((([B,H])=>B&&H)),Yo((()=>{(rz()?hc(Fp(Jd(document,"click").pipe(Jr(1)),Jd(document,"touchend").pipe(Jr(1)))):Promise.resolve(!0)).then((()=>{Rye(fS,n.value),k3(Ff,n.value)}));const{audio:{locallyMutedAudioList:B,localUserAudioVolumeList:H,isStopAllImcomingAudio:U}}=n.value;B.length>0&&B.forEach((z=>{Ff.muteOrUnmuteOtherAudio(z,!0)})),H.length>0&&H.forEach((z=>{Ff.adjustOtherAudioVolume(z.userId,z.volume)})),U&&Ff.stopAllIncomingAudio(!0)})),Do((()=>Xve(void 0))))}return c===Qi.Phone?(d&&fS.mute(p,!0),lo([Xve(void 0),Jve(void 0)])):Po})));return dt(LMe,v),xd(qa(A3e(v)),S)}))),epics9:(e,n)=>Uo(e,7952).pipe(mi((o=>Aa(rve,1).pipe(us(n),Yo((([,i])=>{const{BindStatus:c,nOperatorUserId:d}=o.payload.body,p=i.participants.attendeesList.find((v=>v.userId===d));c===!0&&dt(kMe,{operatorName:p?.displayName,operatorUserId:d,operatorRole:p?.userRole})})),pn((()=>Po)))))),epics10:(e,n)=>ur(e,so.UserGrantCaptureAudio).pipe(us(n),pn((([o,i])=>{const c=Ss(i);var d;(d=c,d?.audio===Qi.Computer?Promise.resolve():Cr({event:Mp,operations:[xn((B=>B.audio!==void 0&&B.audio!=="")),Jr(1)]},(({audio:B})=>B===Qi.Phone||B===Qi.Computer))).then((()=>{dt(r3)}));const{meeting:{isCurrentUserMutedBeforeReset:p},audio:{isAllowToTalk:v,activeMicrophone:S,isUsingMediaPlayback:_}}=i,{payload:{data:x}}=o,P=[O3e(!0)];return c&&(c.muted===!0&&v===!1&&(P.push(_S(q0.Inherited)),fS.mute(c.userId,!0)),(p===!0||U3e(i))&&(P.push(_S(q0.Inherited)),fS.mute(c.userId,!0)),p!==void 0&&P.push(Jve(void 0)),!_&&x&&S!==x&&P.push(nz(x))),lo(P)}))),epics11:e=>ur(e,so.AudioCaptureFailed).pipe(Yo((n=>{const{payload:{data:o}}=n;dt(DMe,o)})),Do((()=>M1e(!0)))),epics12:e=>ur(e,so.AudioWebsocketBroken).pipe(Yo((()=>{dt(MMe)})),pn((()=>Po))),epics13:(e,n)=>ur(e,so.AudioZeroData).pipe(us(n),Nz((([,o])=>{const{audio:{webrtcRestartCount:i,activeMicrophone:c}}=o;if(i<3)return Ff.restoreWebRTC(c),$2(i+1)}))),epics14:(e,n)=>e.pipe(Qo(`${d4}`),xn((o=>o.payload===!1)),pn((()=>(dt(PMe),Ove().pipe(Yo((()=>{Rye(fS,n.value),k3(Ff,n.value)})),Do((()=>d4(!0)))))))),epics15:(e,n)=>ur(e,[so.JoinComputerAudioComplete,so.JoinSharingAudioComplete,so.LeaveComputerAudioComplete,so.LeaveSharingAudioComplete]).pipe(Yo((o=>{WPe.completeAudioAction();const{payload:{type:i}}=o;if(i===so.JoinComputerAudioComplete){const c=Ss(n.value);c?.audio===Qi.Computer&&(c.muted?Ff.muteAudio():Ff.unmuteAudio());const d=Va(n.value).filter((p=>!!p.audioShare&&p.userId!==c?.userId));d.length&&d.forEach((p=>{Ff.setSharingAudioVolume(p.userId,!1,!1,!0)}))}})),pn((()=>Po))),epics16:(e,n)=>ur(e,so.AudioQosData).pipe(us(n),Do((([o,i])=>{var c,d;const{meeting:{isWebinar:p},media:{audioEncodeStatus:v,audioDecodeStatus:S},participants:{xmppAttendeeList:_,allowTalkAttendeesList:x}}=i,P=Ss(i),B=r1e(i);let H=B.length>0,U=B.some(NTe);p&&(H=H||!!_.length,U=U||x.some(NTe));const z=P?.audio===Qi.Computer&&v==="success"&&!(P!=null&&P.muted)&&(H||((c=i.recording)===null||c===void 0?void 0:c.cmrStatus)===_d.Start),Z=P?.audio===Qi.Computer&&S==="success"&&H&&U;return(d=o.payload.data)!==null&&d!==void 0&&d.encoding?z?(dt(ive,o.payload),wee(o.payload)):wee(wQ):Z?(dt(ive,o.payload),_ee(o.payload)):_ee(wQ)}))),epics17:(e,n)=>Uo(e,Ul).pipe(us(n),xn((([o,i])=>{const{payload:{body:c}}=o,{audio:{locallyMutedAudioList:d,localUserAudioVolumeList:p}}=i;return(d.length>0||p.length>0)&&c?.remove&&c.remove.length>0})),pn((([o,i])=>{const{payload:{body:{remove:c}}}=o,{audio:{locallyMutedAudioList:d,localUserAudioVolumeList:p}}=i,v=d.concat(p.map((S=>S.userId))).filter((S=>c.indexOf((_=>_.id===S))!==-1));return v.length>0?(v.forEach((S=>{Ff.muteOrUnmuteOtherAudio(S,!1)})),lo(v.map((S=>[Tee(S),L3e({userId:S})])).flat())):Po}))),epics18:(e,n)=>ur(e,so.HidStatusMute).pipe(pn((o=>{const{payload:{data:i}}=o,c=n.value,{meeting:{userId:d,mediaFeatureOptions:p},audio:{isShareAudioEnabled:v,bCanUnmute:S}}=c,_=[];if(i)v&&!zs.isSupportOpenMicWhenShareAudio(p||"")&&_.push(dT(!0)),_.push(_S(q0.Active)),fS.mute(d,!0);else if(!v||zs.isSupportOpenMicWhenShareAudio(p||"")){v&&_.push(dT(!1));const x=Ss(c);(S||x!=null&&x.isHost||x!=null&&x.bCoHost)&&(_.push(oz(S3.Active)),fS.mute(d,!1))}return lo(_)}))),epics19:e=>Uo(e,12040).pipe(Yo((n=>{const{payload:{body:{mode:o}}}=n;Ff.setAudioCodecMode(o)})),pn((()=>Po))),epics20:(e,n)=>ur(e,[so.AudioSpeakerSetSuccess,so.JoinComputerAudioComplete,so.AudioSpeakerSetError]).pipe(pn((o=>{const{payload:{data:i,type:c}}=o,{audio:{activeSpeaker:d,activeMicrophone:p,isUsingMediaPlayback:v}}=n.value,S=[];return c===so.AudioSpeakerSetSuccess&&d!==i?S.push(Mte(i)):!v&&c===so.JoinComputerAudioComplete&&i!=null&&i.microphoneDeviceId&&p!==i.microphoneDeviceId&&S.push(nz(i.microphoneDeviceId)),c===so.AudioSpeakerSetSuccess?dt(ave,!0):c===so.AudioSpeakerSetError&&dt(ave,!1),lo(S)}))),epics21:(e,n)=>ur(e,so.AudioLevelIndicator).pipe(xn((()=>{const o=Ss(n.value);return!!o&&o.audio===Qi.Computer&&!o.muted})),Yo((o=>{const{payload:{data:i}}=o;dt($Me,{level:i.value})})),pn((()=>Po))),epics22:(e,n)=>ur(e,so.WorkletProcessExceptions).pipe(xn((o=>!!o.payload.data)),pn((()=>{const o=Ss(n.value),i=[];return o?.audio===Qi.Computer&&(Ff.leaveComputerAudio(),fS.joinOrLeaveVoip(!1),i.push(hT(v2.EndedBySystem)),i.push($2(0))),lo(i)}))),epics23:(e,n)=>ur(e,so.RecaptureAudio).pipe(xn((()=>{const o=Ss(n.value);return o?.audio===Qi.Computer&&!n.value.audio.isUsingMediaPlayback})),pn((()=>(qPe(Ff,n.value),Po))))},pKe=xg(fKe,{shareAudioEpics0:(e,n)=>RS(e,Ul).pipe(xn((o=>{const i=o.payload.body.update;return i&&i.length>0&&i.findIndex((c=>c.bShareOn!==void 0))>-1})),us(n),pn((([o,i])=>{const{payload:{body:{update:c}}}=o,{audio:{localShareAudioUserMutedList:d}}=i,p=c.filter((S=>S.bShareOn===!0&&S.bShareAudioOn===!0)),v=[];return p.length>0&&p.forEach((S=>{d.findIndex((_=>_.userId===S.id))===-1&&v.push(D3e({userId:S.id,isFromMainSession:!!S.bShareToBORooms}))})),lo(v)}))),shareAudioEpics1:(e,n)=>ur(e,so.SharingDesktopStreamHaveAudio).pipe(xn((()=>!n.value.audio.secondaryAudioMicrophoneId)),mi((()=>Uo(e,Ul).pipe(xn((o=>{var i;const{payload:{body:c}}=o,{meeting:{userId:d}}=n.value;return(c==null||(i=c.update)===null||i===void 0?void 0:i.findIndex((p=>p.id===d&&p.bShareOn===!0)))>-1})),Jr(1),uT((async()=>{const o=n.value;return await Oye(_k,UL,o)})),o1(Pte(!0)))))),shareAudioEpics2:(e,n)=>ur(e,so.SharingDesktopStreamHaveNoAudio).pipe(us(n),xn((([,o])=>{var i;return((i=o.audio)===null||i===void 0?void 0:i.isShareAudioEnabled)===!0})),uT((async([,o])=>await ITe(_k,UL,o)))),shareAudioEpics3:(e,n)=>Uo(e,Ul).pipe(us(n),xn((([,o])=>o.socket.zoomSocketStatus===Fa.Connected&&o.audio.isSharingAudio===!0&&!zs.isSupportOpenMicWhenShareAudio(o.meeting.mediaFeatureOptions||""))),pn((([o,i])=>{var c;if((c=o.payload.body.update)!==null&&c!==void 0&&c.some((d=>d.audio!==void 0||d.muted!==void 0))){const{meeting:{userId:d}}=i,p=o.payload.body.update.filter((v=>v.id===d));return B2(n).pipe(pn((v=>{const S=[];return p.findIndex((_=>_.audio===Qi.Computer))>-1&&v?.audio!==Qi.Computer&&(UL.mute(d,!0),S.push(h4(!0)),S.push(dT(!0)),S.push(_S(q0.SharingAudio))),lo(S)})))}return Po}))),shareAudioEpics4:(e,n)=>e.pipe(Qo(`${Sg}`),Ju(Dv),us(n),xn((([,o])=>{var i;return((i=o.audio)===null||i===void 0?void 0:i.isShareAudioEnabled)===!0})),uT((async([o,i])=>{const{payload:c}=o,{audio:{isShareAudioMuted:d,isSharingAudio:p}}=i,v=[];if(c===Yr.End){const S=await ITe(_k,UL,i);v.push(...S)}else if(c===Yr.Paused){if(d===!1&&p===!0){await _k.leaveSharingAudio(!0),v.push(f4(!1));const S=await L1e(UL,i);v.push(...S),setTimeout((()=>{dt(X3,{state:"off"})}),0)}}else if(c===Yr.Sharing&&d===!1&&p===!1){const S=await Oye(_k,UL,i);v.push(...S)}return v}))),shareAudioEpics5:(e,n)=>ur(e,so.SharingDesktopStreamHaveAudio).pipe(xn((()=>!!n.value.audio.secondaryAudioMicrophoneId)),Yo((()=>{const{audio:{audioSsrc:o,secondaryAudioMicrophoneId:i,isWebRtcAudioCapable:c}}=n.value;_k.joinSharingAudio({ssrc:o,microphoneDeviceId:i,speakerDeviceId:null,isCaptureAudio:!0,audioBridge:c}),dt(BMe)})),pn((()=>Po))),shareAudioEpics6:(e,n)=>Uo(e,Ul).pipe(xn((o=>{const{payload:{body:i}}=o;return!!i.update&&i.update.some((c=>c.audioShare!==void 0))})),pn((o=>{const{meeting:{userId:i}}=n.value;return o.payload.body.update.filter((c=>c.audioShare!==void 0&&c.id!==i)).forEach((c=>{_k.setSharingAudioVolume(c.id,!c.audioShare,!1,!0)})),Po})))},{audioBridgEpics0:e=>Uo(e,4299).pipe(Yo((n=>{const{payload:o}=n;zL.passThroughRWGMessage(o)})),Eg()),audioBridgEpics1:e=>ur(e,so.AudioBridgeReconnectStart).pipe(pn((()=>(Tme.joinOrLeaveVoip(!1),lo([N1e(!0),hT(v2.Failover)]))))),audioBridgEpics2:(e,n)=>Uo(e,Ul).pipe(xn((o=>{var i,c;return n.value.audio.isWebRtcAudioCapable&&(((i=o.payload.body.update)===null||i===void 0?void 0:i.some((d=>d.muted!==void 0)))||((c=o.payload.body.remove)===null||c===void 0?void 0:c.length)>0)})),Yo((o=>{const{payload:{body:{update:i,remove:c}}}=o;zL.sendUserAudioStatus({update:(i||[]).filter((d=>d.muted!==void 0)).map((d=>({userId:d.id,muted:d.muted}))),remove:(c||[]).map((d=>({userId:d.id})))})})),Eg()),audioBridgEpics3:(e,n)=>Uo(e,16129).pipe(xn((o=>{const{payload:{body:{bVideoOn:i}}}=o,{audio:{isWebRtcAudioCapable:c}}=n.value;return c&&!!i})),Yo((o=>{const{payload:{body:{id:i}}}=o;zL.changeActiveVideoSsrc(i)})),pn((()=>Po))),audioBridgEpics4:(e,n)=>ur(e,so.AudioStreamFailed).pipe(pn((o=>{const{payload:{data:i}}=o,c=Ss(n.value),d=[];return c?.audio===Qi.Computer&&(zL.leaveComputerAudio(),rz()||is.isIOSMobile||i===G5.PermissionReset?(Tme.joinOrLeaveVoip(!1),d.push(hT(v2.EndedBySystem)),d.push($2(0))):k3(zL,n.value)),lo(d)}))),audioBridgEpics5:(e,n)=>ur(e,so.AudioBridgeSocketConnectionError).pipe(pn((()=>{const o=Ss(n.value),i=[];return o?.audio===Qi.Computer&&(zL.leaveComputerAudio(),Tme.joinOrLeaveVoip(!1),i.push(hT(v2.EndedBySystem)),i.push($2(0))),lo(i)}))),audioBridgEpics6:(e,n)=>e.pipe(Qo(`${d1e}`),xn((()=>!!n.value.meeting.zlkJwtToken)),Do((o=>{const i=o.payload,{meeting:{zlkJwtToken:c,mediaFeatureOptions:d,meetingId:p}}=n.value;let v;if(c){const{enforce_web_rtc_audio:x,audio_compatible_mode:P,audio_webrtc_mode:B}=CT(c);x===void 0&&P===void 0&&B===void 0||(v=Number(B!==void 0?B:P!==void 0?P:x))}const S=ni.get(rl.VideoSDKWebRTCAudioFallbackWasm)===1,_=zs.getWebRtcAudioMode(d??"",p,v,i);return $3e({isWebRtcAudioCapable:!S&&!!(_&Kge.WebRTCAudio),webRtcAudioMode:_})})))},hKe),mKe=ta.createAgent(),Ev=_m(zs.getInstance()),AX=ta.createAgent(),pS=_m(zs.getInstance()),gKe=ta.createAgent(),VTe=_m(zs.getInstance()),HTe={isWebrtcVideoCapable:!1,videoSsrc:0,cameraDevicesList:[],activeCamera:is.isAndroidOrIOSBrowser?e2.User:"default",activeVideoId:0,isCurrentUserStartedVideo:!1,spotlightUserList:[],isCaptureForbidden:!1,isMirrored:!1,receivedVideoMaxQuality:navigator.hardwareConcurrency>=8?EQ.Video_1080P:EQ.Video_360P,subscribedVideoList:[],renderedVideoList:[],ensuredCanvas:[],isVideoMuted:!1,isCaptureCameraLoading:!1,isCameraTaken:!1,isUsingMediaPlayback:!1,receivedVideoDimension:{width:0,height:0},capturedVideoDimension:{width:0,height:0},isFollowHostVideoLayout:!1,hostDragLayout:[],isSupportHDVideo:!1,miniRwgOptionValue:0,bCanUnmuteVideo:!1,virtualBackground:{isVBConfigured:!1,isVBPreloadReady:void 0,imageSrc:void 0,cropped:void 0},mask:{imageSrc:void 0,cropped:void 0,clip:void 0},backgroundMode:Eh.Null,statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0}},hardwareAcceleration:{encode:!1,decode:!1},networkQuality:{},ptz:{},currentCameraControlStatus:{isRequested:!1,isInControl:!1,isCameraMoving:!1},farEndCameraControlStatus:{controlledUserList:[],isControlling:!1},subscriptionStatus:{encode:!1,decode:!1,detailed:!1},videoAttachments:{},rendererType:qge.WebGL,selfPreviewVideoList:[]},vKe=wm({[`${nNe}`]:bt(((e,{payload:n})=>{e.videoSsrc=n})),[`${a1e}`]:bt(((e,{payload:n})=>{e.cameraDevicesList=n})),[`${Q3}`]:bt(((e,{payload:n})=>{const o=e.activeCamera;if(o in e.ptz){const i=e.ptz[o];["pan","tilt","zoom"].forEach((c=>{i[c]&&(i[c].value=0)}))}e.activeCamera=n})),[`${oNe}`]:bt(((e,{payload:n})=>{e.activeVideoId=n.userId})),[`${sNe}`]:bt(((e,{payload:n})=>{e.isCurrentUserStartedVideo=n})),[`${kve}`]:bt(((e,{payload:n})=>{e.spotlightUserList=n})),[`${KQ}`]:bt(((e,{payload:n})=>{e.isCaptureForbidden=n})),[`${rNe}`]:bt(((e,{payload:n})=>{e.receivedVideoMaxQuality=n})),[`${iNe}`]:bt(((e,{payload:n})=>{e.isVideoMuted=n})),[`${a3}`]:bt(((e,{payload:n})=>{e.isCaptureCameraLoading=n})),[`${ZQ}`]:bt(((e,{payload:n})=>{e.isCameraTaken=n})),[`${lNe}`]:bt(((e,{payload:n})=>{e.receivedVideoDimension=n})),[`${YQ}`]:bt(((e,{payload:n})=>{e.subscribedVideoList.includes(n)||e.subscribedVideoList.push(n)})),[`${pJ}`]:bt(((e,{payload:n})=>{const o=e.subscribedVideoList.indexOf(n);o>=0&&e.subscribedVideoList.splice(o,1)})),[`${E2}`]:bt(((e,{payload:n})=>{const o=e.renderedVideoList.find((i=>i.userId===n.userId&&i.key===n.key&&i.canvasId===n.canvasId));o?(n.videoQuality!==void 0&&(o.videoQuality=n.videoQuality),n.aspectRatio!==void 0&&(o.aspectRatio=n.aspectRatio)):e.renderedVideoList.push({...n})})),[`${XQ}`]:bt(((e,{payload:n})=>{const o=e.renderedVideoList.findIndex((i=>i.userId===n.userId&&i.key===n.key&&i.canvasId===n.canvasId));o>=0&&e.renderedVideoList.splice(o,1)})),[`${cNe}`]:bt(((e,{payload:n})=>{e.isFollowHostVideoLayout=n})),[`${uNe}`]:bt(((e,{payload:n})=>{e.hostDragLayout=n})),[`${dNe}`]:bt(((e,{payload:n})=>{e.isSupportHDVideo=n})),[`${hNe}`]:bt(((e,{payload:n})=>{e.bCanUnmuteVideo=n})),[`${Dve}`]:bt(((e,{payload:n})=>{e.virtualBackground.isVBPreloadReady=n})),[`${JQ}`]:bt(((e,{payload:n})=>{e.virtualBackground.isVBConfigured=n})),[`${mJ}`]:bt(((e,{payload:n})=>{e.virtualBackground.imageSrc=n.imageUrl,e.virtualBackground.cropped=n.cropped,n.imageUrl===void 0?e.backgroundMode=Eh.Null:e.backgroundMode=Eh.VirtualBackground})),[`${JL}`]:bt(((e,{payload:n})=>{const{encode:o,decode:i}=n;o!==void 0&&(e.hardwareAcceleration.encode=o),i!==void 0&&(e.hardwareAcceleration.decode=i)})),[`${QQ}`]:bt(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.encode={bitrate:i,...c}})),[`${eee}`]:bt(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.decode={bitrate:i,...c}})),[`${fNe}`]:bt(((e,{payload:n})=>{const{cameraId:o,captureWidth:i,captureHeight:c,videoElement:d,originalRatio:p,ptz:v,hd:S,fullHd:_,mediaFile:x,fps:P,mirrored:B,customVideoConstraints:H}=n;e.activeCamera=o,e.customizedVideoOption={captureWidth:i,captureHeight:c,videoElement:d,originalRatio:p,ptz:v,hd:S,fullHd:_,fps:P,customVideoConstraints:H},Mz(e.mediaPlaybackFile,x)||(e.mediaPlaybackFile=x,e.isUsingMediaPlayback=!(x==null||!x.url)),B!==void 0&&(e.isMirrored=!!B)})),[`${Mve}`]:bt(((e,{payload:n})=>{const{userId:o,level:i,bwLevel:c,type:d}=n;if(Object.prototype.hasOwnProperty.call(e.networkQuality,`${o}`))e.networkQuality[`${o}`][`${d}`]={level:i,bwLevel:c};else{const p={[d]:{level:i,bwLevel:c}};Object.assign(e.networkQuality,{[`${o}`]:p})}})),[`${pNe}`]:bt(((e,{payload:n})=>{const{deviceId:o,ptzRange:i}=n;if(Object.prototype.hasOwnProperty.call(e.ptz,o)){const c=e.ptz[o];c&&["pan","tilt","zoom"].forEach((d=>{const p=i[d];if(p){var v;const S=(v=c[d])===null||v===void 0?void 0:v.capability;S?Object.assign(S,{...p}):c[d]={capability:{...p},value:0}}}))}else Object.assign(e.ptz,{[o]:{pan:i.pan?{capability:{...i.pan},value:0}:null,tilt:i.tilt?{capability:{...i.tilt},value:0}:null,zoom:i.zoom?{capability:{...i.zoom},value:0}:null}})})),[`${tee}`]:bt(((e,{payload:n})=>{e.currentCameraControlStatus.isRequested=n})),[`${nee}`]:bt(((e,{payload:n})=>{const{isInControl:o,userId:i}=n;e.currentCameraControlStatus.isInControl=o,e.currentCameraControlStatus.controllingUserId=i})),[`${mNe}`]:bt(((e,{payload:n})=>{e.farEndCameraControlStatus.controlledUserList.includes(n)||e.farEndCameraControlStatus.controlledUserList.push(n)})),[`${oee}`]:bt(((e,{payload:n})=>{const o=e.farEndCameraControlStatus.controlledUserList.indexOf(n);o!==-1&&e.farEndCameraControlStatus.controlledUserList.splice(o,1)})),[`${Pve}`]:bt(((e,{payload:n})=>{e.currentCameraControlStatus.isCameraMoving=n.cmd==="start"})),[`${l1e}`]:bt(((e,{payload:n})=>{const{constraints:o,deviceId:i}=n,c=e.ptz[i];["pan","tilt","zoom"].forEach((d=>{o[d]!==void 0&&(c[d].value=o[d])}))})),[`${Nve}`]:bt(((e,{payload:n})=>{e.farEndCameraControlStatus.isControlling=n})),[`${gNe}`]:bt(((e,{payload:n})=>{e.networkQualityBroadcastTime=n})),[`${see}`]:bt(((e,{payload:n})=>{e.mask.isMaskConfigured=n})),[`${gJ}`]:bt(((e,{payload:n})=>{const{imageUrl:o,cropped:i,rootHeight:c,rootWidth:d,clip:p}=n;e.mask.imageSrc=o,e.mask.cropped=i,e.mask.clip=p,e.mask.rootWidth=d,e.mask.rootHeight=c,e.backgroundMode=Eh.Mask})),[`${Lve}`]:bt(((e,{payload:n})=>{e.backgroundMode=n})),[`${vNe}`]:bt(((e,{payload:n})=>{e.capturedVideoDimension=n})),[`${yNe}`]:bt(((e,{payload:n})=>{e.ensuredCanvas.includes(n)||e.ensuredCanvas.push(n)})),[`${Bve}`]:bt(((e,{payload:n})=>{e.mediaPlaybackFile=n,e.isUsingMediaPlayback=!(n==null||!n.url)})),[`${x3}`]:bt(((e,{payload:n})=>{if(n){const{lastCopy:o,...i}=n;e.prefetchedVideo=i}else e.prefetchedVideo=n})),[`${Fve}`]:bt(((e,{payload:n})=>{Object.assign(e.subscriptionStatus,n)})),[`${bNe}`]:bt(((e,{payload:n})=>{e.miniRwgOptionValue=n})),[`${c1e}`]:bt(((e,{payload:n})=>{const{userId:o,element:i}=n,c=e.videoAttachments[`${o}`];if(c){var d;((d=dee(c))===null||d===void 0?void 0:d.indexOf(i))===-1&&c.push(i)}else{const p=[];p.push(i),Object.assign(e.videoAttachments,{[`${o}`]:p})}})),[`${vJ}`]:bt(((e,{payload:n})=>{const{userId:o,element:i}=n,c=e.videoAttachments[`${o}`];let d=i;Array.isArray(i)||(d=[i]),d.forEach((p=>{if(c){var v;const S=(v=dee(c))===null||v===void 0?void 0:v.indexOf(p);S!==void 0&&S!==-1&&c.splice(S,1)}}))})),[`${SNe}`]:bt(((e,{payload:n})=>{n&&(e.rendererType=qge.WebGL2)})),[`${CNe}`]:bt(((e,{payload:n})=>{n&&(e.rendererType=qge.WebGPU)})),[`${ENe}`]:bt(((e,{payload:n})=>{e.rendererType=n})),[`${wNe}`]:bt(((e,{payload:n})=>{e.isMirrored=n})),[`${_Ne}`]:bt(((e,{payload:n})=>{e.selfPreviewVideoList.includes(n)||e.selfPreviewVideoList.push(n)})),[`${u1e}`]:bt(((e,{payload:n})=>{if(n){const o=e.selfPreviewVideoList.indexOf(n);o>=0&&e.selfPreviewVideoList.splice(o,1)}else e.selfPreviewVideoList=[]})),[`${TNe}`]:bt(((e,{payload:n})=>{e.leadershipUserId=n})),[`${d1e}`]:bt(((e,{payload:n})=>{e.isWebrtcVideoCapable=n})),[`${ANe}`]:bt((e=>{var n;(n=e.customizedVideoOption)!==null&&n!==void 0&&n.customVideoConstraints&&(e.customizedVideoOption.customVideoConstraints=void 0)})),[`${aNe}`]:(e,{payload:n})=>{const o={cameraDevicesList:e.cameraDevicesList};return n&&Object.assign(o,{activeCamera:e.activeCamera,customizedVideoOption:e.customizedVideoOption,virtualBackground:{imageSrc:e.virtualBackground.imageSrc,cropped:e.virtualBackground.cropped},mask:{imageSrc:e.mask.imageSrc,cropped:e.mask.cropped,rootWidth:e.mask.rootWidth,rootHeight:e.mask.rootHeight,clip:e.mask.clip},backgroundMode:e.backgroundMode,ptz:e.ptz,subscriptionStatus:e.subscriptionStatus}),{...HTe,...o}}},HTe),yKe={cameraPtzEpics0:(e,n)=>Uo(e,8004).pipe(pn((o=>{const{payload:{body:{nCmd:i,nUserID:c,nReason:d,nButtonID:p}}}=o,v=n.value,S=Va(v),{video:{currentCameraControlStatus:{isInControl:_,controllingUserId:x},cameraDevicesList:P,activeCamera:B}}=v,H=S.find((z=>Uf(z.userId,c))),U=[];if(U.push(tee(!0)),i===gg.Request){const z={userId:H?.userId,displayName:H?.displayName};if(_){const Z=S.find((te=>te.userId===x));Object.assign(z,{currentControllingUserId:Z?.userId,currentControllingDisplayName:Z?.displayName})}dt(vMe,z)}else if(i===gg.Approve)U.push(mNe(H?.userId)),dt(ove,{isApproved:!0,userId:H?.userId,displayName:H?.displayName});else if(i===gg.Decline)U.push(oee(H?.userId)),dt(ove,{isApproved:!1,userId:H?.userId,displayName:H?.displayName,reason:d});else if(i===gg.GiveUp)U.push(nee({isInControl:!1,userId:0})),dt(LQ,{isControlled:!1});else if(i===gg.StartControl||i===gg.StopControl)U.push(Pve({cmd:i===gg.StartControl?"start":"stop",type:p}));else if(i===gg.SwitchCamera){const z=P.findIndex((te=>te.deviceId===B)),Z=z+1===P.length?0:z+1;if(Z!==z){const te=P[Z].deviceId;VTe.changeCamera(te,xz.includes(te))}}return lo(U)}))),cameraPtzEpics1:(e,n)=>Uo(e,Ul).pipe(xn((o=>{var i;const{payload:{body:c}}=o;return c==null||(i=c.update)===null||i===void 0?void 0:i.some((d=>d.nFECC!==void 0||d.nFECCExecutive!==void 0))})),Do((o=>cT(o.payload.body))),Yo((o=>{const{update:i}=o,c=i?.find((d=>d.nFECC!==void 0||d.nFECCExecutive!==void 0));if(c){const{meeting:{userId:d}}=n.value;Uf(c.nFECCExecutive,d)&&dt(yMe,{userId:c.userId,ptz:XNe(c.nFECC)})}})),pn((()=>Po))),cameraPtzEpics2:(e,n)=>Uo(e,Ul).pipe(xn((o=>{var i;const{payload:{body:c}}=o,{video:{farEndCameraControlStatus:{controlledUserList:d}}}=n.value;return c==null||(i=c.remove)===null||i===void 0?void 0:i.some((p=>d.includes(p.id)))})),Do((o=>cT(o.payload.body))),pn((o=>{const{remove:i}=o,c=[],{video:{farEndCameraControlStatus:{controlledUserList:d}}}=n.value,p=i?.find((v=>d.includes(v.userId)));return p&&c.push(oee(p.userId)),lo(c)}))),cameraPtzEpics3:(e,n)=>e.pipe(Qo(`${Pve}`),mi((o=>{const{payload:{cmd:i,type:c}}=o;return i==="start"?wu(0,200).pipe(t2((()=>!!n.value.video.currentCameraControlStatus.isCameraMoving)),pn((()=>{const{video:{ptz:d,activeCamera:p}}=n.value,v=d[p],S=p1e(v)||{},{key:_,range:x}=YNe(c,2);return v[_]?(Object.assign(S,{[_]:ZNe(v[_].capability,v[_].value,x)}),VTe.movePTZCamera(S).then((()=>l1e({deviceId:p,constraints:S})))):Promise.resolve(void 0)})),pn((d=>typeof d=="object"&&d.type!==void 0?qa(d):Po))):Po}))),cameraPtzEpics4:(e,n)=>e.pipe(Qo(`${Q3}`),pn((o=>{const{payload:i}=o,{video:{customizedVideoOption:c,ptz:d}}=n.value;if(c!=null&&c.ptz){const p=d?.[i];p!==void 0&&gKe.sendCameraAblity({pan:!!p.pan,tilt:!!p.tilt,zoom:!!p.zoom})}return Po})))},bKe={videoCaptureEpics0:(e,n)=>ur(e,so.StartVideoCaptureSuccess).pipe(uT((async o=>{const{video:{activeCamera:i,ptz:c,isCurrentUserStartedVideo:d,isUsingMediaPlayback:p},meeting:{userId:v}}=n.value,{payload:{data:{currentDeviceID:S,PTZRange:_,VideoSelectValue:x,usingFacingMode:P}}}=o,B=[],{cameras:H}=await hc(F2());if(H.length<1&&!p&&(dt(kQ,{reason:"Cannot detect camera devices"}),pS.stopCaptureVideo()),p||[i,S].some((U=>qNe(U,H)))){let U="";if(U=P?Array.isArray(x)&&x[0]?x[0]:x:S,d||AX.muteAttendeeVideo(v,!1),dt(bMe),p)B.push(Q3("default"));else if(U&&_&&B.push(pNe({deviceId:U,ptzRange:_})),i!==U&&B.push(Q3(U)),Object.prototype.hasOwnProperty.call(c,U)){const z=c[U];if(z){const Z=p1e(z);Z&&pS.movePTZCamera(Z)}}}else dt(DQ,{reason:"cannot find target camera"}),pS.stopCaptureVideo();return B}))),videoCaptureEpics1:(e,n)=>Uo(e,Ul).pipe(xn((o=>{const{payload:{body:{update:i}}}=o,{meeting:{userId:c}}=n.value;return i?.some((d=>d.id===c&&d.bVideoOn!==void 0))})),Do((o=>cT(o.payload.body))),pn((o=>{const{update:i}=o,{meeting:{userId:c}}=n.value,d=i?.find((p=>p.userId===c));return d?(d.bVideoOn===!0?dt(X0e):dt(w3),lo([sNe(!!d.bVideoOn)])):Po}))),videoCaptureEpics2:e=>ur(e,[so.UserForbiddedCaptureVideo,so.UserCameraIsTakenByOtherPrograms,so.VideoWebsocketBroken,so.StopVideoCaptureFailed]).pipe(pn((n=>{const{payload:{type:o,data:i}}=n,c=[];switch(o){case so.UserForbiddedCaptureVideo:dt(MQ,i),c.push(KQ(!0));break;case so.UserCameraIsTakenByOtherPrograms:dt(PQ,{reason:"User camera is taken by other programs.",...i??{}}),c.push(ZQ(!0));break;case so.VideoWebsocketBroken:dt(Y0e,{reason:"Video websocket broken."});break;case so.StopVideoCaptureFailed:dt(w3,{failed:!0,reason:"Unknown."})}return lo(c)}))),videoCaptureEpics3:(e,n)=>ur(e,so.StopVideoCaptureSuccess).pipe(us(n),Do((([,o])=>{const{meeting:{userId:i},video:{isCurrentUserStartedVideo:c}}=o;return c||dt(w3),AX.muteAttendeeVideo(i,!0),a3(!1)}))),videoCaptureEpics4:(e,n)=>Uo(e,16133).pipe(us(n),xn((([o,i])=>{var c;return(o==null||(c=o.payload)===null||c===void 0||(c=c.body)===null||c===void 0?void 0:c.id)===i.meeting.userId})),Nz((([o])=>{const{id:i,bVideoMute:c}=o.payload.body;return dt(uMe,{id:i,isVideoMuted:c}),c===!0&&pS.stopCaptureVideo(),c===!1&&dt(dMe,{id:i,isVideoMuted:c}),iNe(c)}))),videoCaptureEpics5:(e,n)=>Uo(e,16131).pipe(xn((o=>o.payload.body.ssrc!==void 0)),mi((o=>{const{payload:{body:{ssrc:i}}}=o;return dt(CMe,i),xd(qa(nNe(i)),B2(n).pipe(pn((c=>{const{meeting:{isCurrentUserStartVideoBeforeReset:d},media:{videoEncodeStatus:p}}=n.value;return c?.bVideoOn!==!0&&d===!0?$f("video",p,"success").pipe(xn((([v,S])=>v&&S)),Do((()=>{const v=n.value,{video:{backgroundMode:S,mask:_,virtualBackground:x,activeCamera:P,customizedVideoOption:B}}=v;let H=Promise.resolve(!0);return S===Eh.VirtualBackground&&x.imageSrc?H=bJ({imageUrl:x.imageSrc,cropped:x.cropped},pS,v):S===Eh.Mask&&_.imageSrc&&_.clip&&(H=SJ({imageUrl:_.imageSrc,cropped:_.cropped,clip:_.clip,rootHeight:_.rootHeight,rootWidth:_.rootWidth},pS,v)),H.then((()=>{KNe(pS,v,{cameraId:P,...B})})),yLe(void 0)}))):Po}))))}))),videoCaptureEpics6:(e,n)=>e.pipe(Qo(`${a1e}`),pn((async o=>{const{payload:i}=o,c=n.value,{meeting:{userId:d}}=c;await Tve("video",c);const p=Ss(c);i.length===0?p&&!p.bVideoConnect||AX.connectCamera(d,!1):p!=null&&p.bVideoConnect||AX.connectCamera(d,!0)})),Eg()),videoCaptureEpics7:e=>ur(e,so.InitSuccessVideo).pipe(xn((n=>!is.isIPad&&is.isAndroidOrIOSBrowser&&n.payload.data===pg.EncodeSuccess)),mi((()=>YPe().pipe(Yo((n=>{pS.setMobileRotateMode(n)})),Eg())))),videoCaptureEpics8:e=>ur(e,so.StartVideoCaptureSuccess).pipe(xn((()=>!is.isIPad&&is.isAndroidOrIOSBrowser)),Yo((()=>{pS.setMobileRotateMode(ZPe())})),Da(Po)),videoCaptureEpics9:(e,n)=>ur(e,so.VideoStreamFailed).pipe(xn((()=>!!n.value.video.isCurrentUserStartedVideo&&is.isIOSMobile)),Yo((()=>{pS.stopCaptureVideo()})),pn((()=>Po))),videoCaptureEpics10:e=>Uo(e,24322).pipe(Yo((n=>{const{payload:o}=n;pS.passThroughRWGMessage(o)})),pn((()=>Po)))},SKe={videoRenderEpics0:(e,n)=>Uo(e,16129).pipe(Do((o=>{const{payload:{body:{id:i,bVideoOn:c}}}=o,{meeting:{isUseWBVideo:d}}=n.value,p=T_e(i);return dt(cMe,{bVideoOn:c,userId:p}),d&&Ev.prefetchVideoSsrc(i),oNe({bVideoOn:c,userId:p})}))),videoRenderEpics1:e=>ur(e,so.VideoDecodeMaxSize).pipe(xn((n=>{var o;return n==null||(o=n.payload)===null||o===void 0?void 0:o.data})),Do((({payload:{data:{size:n}}})=>rNe(n)))),videoRenderEpics2:e=>Uo(e,16135).pipe(pn((n=>{const{payload:{body:{bLeadershipOn:o,id:i}}}=n,c=[],d=[],p=o?T_e(i):0;return o&&d.push(p),c.push(kve(d),TNe(p)),Fp(Aa(_3,1),wu(2e3).pipe(Do((()=>({leadershipEventOnly:!0}))))).pipe(pn((v=>{const{spotlightList:S,leadershipEventOnly:_}=v||{};return o?!S||S.length===1&&d[0]===S[0]||dt(BQ,{spotlightList:S}):(_||S?.length===0)&&dt(BQ,{spotlightList:[]}),Po})),o1(...c))}))),videoRenderEpics3:(e,n)=>Uo(e,7958).pipe(us(n),Do((([o,i])=>{const{payload:{body:c}}=o;let d=[];c&&c.group_list&&c.group_list[0]&&(d=c.group_list[0].map((v=>v.id)));const p=Va(i);return p.length>0&&(d=d.filter((v=>p.findIndex((S=>S.userId===v))>=0))),dt(_3,{spotlightList:d}),kve(d)}))),videoRenderEpics4:e=>ur(e,[so.CurrentVideoResolution,so.CurrentCaptureVideoWidthHeight]).pipe(xn((n=>!!n.payload.data)),Do((n=>{const{payload:{data:o,type:i}}=n;return i===so.CurrentVideoResolution?(dt(hMe,o),lNe(o)):(dt(fMe,o),vNe(o))}))),videoRenderEpics5:e=>Uo(e,Wb).pipe(xn((n=>{const{payload:{body:o}}=n;return["bFollowHostVideo","VideoHd","bCanUnmuteVideo"].some((i=>o[i]!==void 0))})),Do((n=>{const{payload:{body:{bFollowHostVideo:o,VideoHd:i,bCanUnmuteVideo:c}}}=n;if(o!==void 0)return dt(pMe,{bOn:o}),cNe(o);if(c!==void 0)return hNe(c);{const d=i===1;return Ev.updateVideoHDValue(d),Ev.enableHardwareAccelerationForVideoEncode(!1),dNe(d)}}))),videoRenderEpics6:(e,n)=>Uo(e,7957).pipe(us(n),Do((([o,i])=>{const{video:{isFollowHostVideoLayout:c}}=i,{payload:{body:d}}=o,p=d&&d.drag_list&&d.drag_list.map((v=>v.id));return c&&dt(mMe,{layout:p}),uNe(p)}))),videoRenderEpics7:(e,n)=>Uo(e,Ul).pipe(us(n),xn((([o,i])=>{const{meeting:{userId:c},video:{subscribedVideoList:d}}=i,p=o.payload.body.update,v=o.payload.body.remove;return p&&p.length>0&&p.findIndex((S=>S.id!==c&&(S.bVideoOn!==void 0||S.bHold)))>-1||v&&v.some((S=>d.includes(S.id)))})),Yo((([o,i])=>{const{payload:{body:{remove:c,update:d}}}=o,{video:{subscribedVideoList:p}}=i,v=kWe(i);if(c&&c.length>0&&c.filter((S=>p.includes(S.id))).forEach((S=>{dt(aJ,{userId:S.id})})),d&&d.length>0){const S=d.filter((x=>x.bVideoOn!==void 0)).filter((x=>v.findIndex((P=>P.userId===x.id))===-1)),_=d.filter((x=>x.bHold===!0));_.length>0&&_.filter((x=>p.includes(x.id))).forEach((x=>{dt(aJ,{userId:x.id})})),S.forEach((x=>{x.bVideoOn?dt(gMe,{userId:x.id}):p.includes(x.id)&&dt(aJ,{userId:x.id})}))}})),Da(Po)),videoRenderEpics8:(e,n)=>ur(e,so.VideoQosData).pipe(us(n),Do((([o,i])=>{var c,d;const{video:{isCaptureForbidden:p,isCameraTaken:v},media:{videoEncodeStatus:S,videoDecodeStatus:_}}=i,x=Ss(i),P=r1e(i),B=P.length>0,H=x?.bVideoOn&&!p&&!v,U=P.some((te=>te.bVideoOn)),z=S==="success"&&H&&(B||((c=i.recording)===null||c===void 0?void 0:c.cmrStatus)===_d.Start),Z=_==="success"&&B&&U;return(d=o.payload.data)!==null&&d!==void 0&&d.encoding?z?(dt(eve,o.payload),QQ(o.payload)):QQ(TO):Z?(dt(eve,o.payload),eee(o.payload)):eee(TO)}))),videoRenderEpics9:(e,n)=>ur(e,[so.CurrentDecodeVideoQuality,so.CurrentDecodeVideoFps]).pipe(Yo((o=>{const{payload:{type:i,data:c}}=o,{video:{subscriptionStatus:d}}=n.value;if(d.detailed){if(i===so.CurrentDecodeVideoQuality){const{ssrc:p,width:v,height:S,quality:_}=c;dt(tve,{userId:p,width:v,height:S,quality:_})}else if(i===so.CurrentDecodeVideoFps){const{ssrc:p,fps:v}=c;dt(tve,{userId:p,fps:v})}}})),Eg()),videoRenderEpics10:e=>ur(e,[so.NotSupportExternalCanvasInVTagRenderer]).pipe(Yo((()=>{console.error("Hardware acceleration disabled: Use attachVideo method to render the video.")})),Eg()),videoRenderEpics11:(e,n)=>ur(e,[so.NetworkQualityChange,so.NetworkQualityChangeAudio]).pipe(xn((o=>!!o.payload.data)),pn((o=>{var i;const{payload:{data:{bwLevel:c,isUplink:d,networkLevel:p}}}=o,v=[],{meeting:{userId:S},video:{networkQuality:_,subscribedVideoList:x,networkQualityBroadcastTime:P}}=n.value,B=d?"uplink":"downlink";v.push(Mve({userId:S,level:p,bwLevel:c,type:B}));const H=Mz((i=_[`${S}`])===null||i===void 0?void 0:i[B],{level:p,bwLevel:c});if(!H&&p!==-1&&(!d&&x.filter((U=>U!==S)).length>0||d)&&dt(nve,{userId:S,type:B,level:p}),d){const U=performance.now();(!H||U-(P??0)>3e4)&&(mKe.broadcastUserNetworkQuality({isUplink:d,level:p,bwLevel:c}),v.push(gNe(U)))}return lo(v)}))),videoRenderEpics12:(e,n)=>RS(e,8005).pipe(xn((o=>{var i;return!((i=o.payload.body)===null||i===void 0||!i.nUserID)})),pn((o=>{const{payload:{body:{nLevel:i,nUserID:c}}}=o,{video:{networkQuality:d}}=n.value,p=d[`${c}`],v=[];return p&&p.uplink.level===i||(dt(nve,{userId:c,level:i,type:"uplink"}),v.push(Mve({userId:c,level:i,type:"uplink"}))),lo(v)}))),videoRenderEpics13:(e,n)=>Uo(e,Ul).pipe(xn((o=>{const{payload:{body:i}}=o,{video:{prefetchedVideo:c}}=n.value;return c?.userId&&(i.update||i.remove)})),pn((o=>{const{payload:{body:i}}=o,c=[],{video:{prefetchedVideo:d}}=n.value;let p=!1;return i.remove&&(p=i.remove.findIndex((v=>v.id===d?.userId))!==-1),i.update&&(p=i.update.findIndex((v=>v.id===d?.userId&&v.bVideoOn===!1))!==-1),p&&d&&(d.loaded||Ev.cancelPrefetchVideoSsrc(d.userId),Ev.unsubscribeVideo(d.userId),c.push(x3(void 0))),lo(c)}))),videoRenderEpics14:(e,n)=>e.pipe(Qo(`${x3}`),xn((o=>!!o.payload)),Yo((o=>{const{payload:{lastCopy:i}}=o,{video:{prefetchedVideo:c}}=n.value;!c||i&&i.userId===c.userId||(i!=null&&i.userId&&(i.loaded&&Ev.cancelPrefetchVideoSsrc(i.userId),Ev.unsubscribeVideo(i.userId)),Ev.subscribeVideo(c.userId,EQ.Video_360P,!1),Ev.prefetchVideoSsrc(c.userId))})),Da(Po)),videoRenderEpics15:(e,n)=>ur(e,so.NewActiveSpeakerFirstFrameCallback).pipe(xn((()=>!!n.value.video.prefetchedVideo)),pn((o=>{const{payload:{data:{ssrc:i}}}=o,{video:{prefetchedVideo:c}}=n.value,d=[];return c&&(Uf(c.userId,i)?(d.push(x3({userId:c.userId,loaded:!0,lastCopy:c})),dt(SMe,{userId:c.userId})):Ev.unsubscribeVideo(c.userId)),lo(d)}))),videoRenderEpics16:(e,n)=>Uo(e,16131).pipe(xn((o=>o.payload.body.ssrc!==void 0)),Yo((()=>{const{media:{videoDecodeStatus:o,videoEncodeStatus:i}}=n.value;$f("video",i,o).subscribe((([c,d])=>{const{video:{subscriptionStatus:p}}=n.value;c&&p.encode&&Ev.subscribeToQos([kp.VideoEncode],iO),d&&(p.decode&&Ev.subscribeToQos([kp.VideoDecode],iO),p.detailed&&Ev.enableVideoObserver(!0))}))})),Da(Po)),videoRenderEpics17:(e,n)=>e.pipe(Qo(`${E2}`,`${XQ}`),xn((()=>{const o=n.value.video.renderedVideoList.length;return[0,1].includes(o)})),Yo((()=>{const{video:{renderedVideoList:o,subscriptionStatus:i}}=n.value,c=o.length;c===1?Ev.enableVideoObserver(!0,i==null||!i.detailed):c===0&&Ev.enableVideoObserver(!1)})),Da(Po)),videoRenderEpics18:(e,n)=>ur(e,so.CurrentDecodeVideoQuality).pipe(pn((o=>{const{payload:{data:i}}=o,{video:{renderedVideoList:c,videoAttachments:d}}=n.value,p=[],{ssrc:v,width:S,height:_}=i,x=_?S/_:0,P=c.filter((B=>Uf(B.userId,v)));if(P.some((B=>B.aspectRatio&&Math.abs(B.aspectRatio-x)>.2))){const B=P.filter((H=>H.canvasId===C3));if(B.length>0){const H=d[`${v}`];if(H){const U=H.map((Z=>{if(Z){const{clientWidth:te,clientHeight:ce}=Z;return ce?te/ce:0}return 0})).filter((Z=>Z!==0));if(U.every((Z=>Math.abs(Z-x)<=.2)))p.push(E2({userId:v,key:_O,canvasId:C3,aspectRatio:x}));else{const Z=U.length>0?U.reduce(((te,ce)=>Math.abs(ce-x)>Math.abs(te-x)?ce:te),U[0]):U[0];p.push(E2({userId:v,key:_O,canvasId:C3,aspectRatio:Z}))}}}(B.length!==P.length||p.filter((H=>{var U;return((U=H.payload)===null||U===void 0?void 0:U.aspectRatio)!==x})).length>0)&&dt(EMe,{userId:v,aspectRatio:x})}return lo(p)}))),videoRenderEpics19:(e,n)=>ur(e,so.SyncRendererTypeResponse).pipe(pn((o=>{const{payload:{data:{rendererType:i}}}=o,{video:{rendererType:c}}=n.value,d=[];return c!==i&&d.push(ENe(i)),lo(d)}))),videoRenderEpics20:(e,n)=>e.pipe(Qo(`${Mv}`),xn((()=>!!n.value.meeting.zlkJwtToken||!!n.value.meeting.sign)),Do((o=>{var i;const{payload:{mediaFeatureOptions:c,webMediaBlockConfig:d}}=o,{meeting:{zlkJwtToken:p,sign:v}}=n.value;let S=2;const _=p||v;if(_){const{video_webrtc_mode:H}=CT(_);H!==void 0&&(S=Number(H))}const{shouldUseWebRTC:x,errNo:P}=zs.getWebRTCCapability(S,c??"",(i=JSON.parse(d||"{}"))===null||i===void 0?void 0:i.WebRTCConfig);x||S!==1||console.warn(k7e[P]||"An error occurred with WebRTC Video.");const B=ni.get(rl.VideoSDKWebRTCVideoFallbackWasm)===1;return d1e(x&&!B)}))),videoRenderEpics21:(e,n)=>e.pipe(Qo(`${c1e}`),xn((o=>{const{payload:{userId:i}}=o,{meeting:{userId:c}}=n.value;return r2()&&i===c})),pn((o=>{const{payload:{element:i}}=o,{media:{alternativeNameForVideoPlayer:c},video:{isMirrored:d}}=n.value,p=`${c??"video-player"}-container`;return ZEe(i,p)?Promise.resolve({element:i,ret:!0}):d?hc(bT((v=>{const S=new MutationObserver(v);S.observe(document.body,{childList:!0,subtree:!0}),v.__observer=S}),(v=>{const S=v.__observer;S?.disconnect()})).pipe(xn((()=>ZEe(i,p))),_h(ST(wu(5e3))),Do((()=>({element:i,ret:!0}))))).catch((()=>({element:i,ret:!1}))):Promise.resolve({element:i,ret:!1})})),Ju(yT),Yo((o=>{const{element:i,ret:c}=o;var d;c&&f1e(i==null||(d=i.render)===null||d===void 0?void 0:d.el,n.value.video.isMirrored)})),Eg())},CKe=xg(SKe,bKe,{vbEpics0:e=>ur(e,[so.VbModelPreloadingOk,so.VbModelPreloading_3S,so.VbModelPreloading_10S,so.VbSettingParaError]).pipe(pn((n=>{const{payload:{type:o,data:i}}=n,c=[];return[so.VbModelPreloadingOk,so.VbModelPreloading_3S,so.VbModelPreloading_10S].includes(o)?(c.push(Dve(!0)),dt(NQ,!0),o===so.VbModelPreloading_10S&&console.warn("Virtual Background is taking longer than expected to load.")):o===so.VbSettingParaError&&(i===kDe.VBModelNotMatch?(dt(NQ,!1),c.push(Dve(!1))):(dt(Qge,!1),c.push(JQ(!1)))),lo(c)}))),vbEpics1:e=>ur(e,so.StartVideoStreamInVbSettingSuccess).pipe(Do((()=>(dt(Qge,!0),JQ(!0))))),vbEpics2:e=>ur(e,so.StartVideoStreamInMaskSettingSuccess).pipe(Do((()=>(dt(sve,!0),see(!0))))),vbEpics3:e=>ur(e,so.MaskSettingParaError).pipe(Do((()=>(dt(sve,!1),see(!1)))))},yKe);let IS=(function(e){return e.VIDEO_ENCODE="0",e.VIDEO_DECODE="1",e.AUDIO_ENCODE="2",e.AUDIO_DECODE="3",e.SHARING_ENCODE="4",e.SHARING_DECODE="5",e})({}),Lz=(function(e){return e[e.NONE=0]="NONE",e[e.AES_256=1]="AES_256",e[e.AES_GCM=2]="AES_GCM",e})({});const Gf=Object.freeze({RWG_CHAT:{gcmType:1,sessionType:"RWG_CHAT"},XMPP_CHAT:{gcmType:1,sessionType:"XMPP_CHAT"},CC_MESSAGE:{gcmType:3,sessionType:"CC_MESSAGE"},BO_BROADCAST:{gcmType:1,sessionType:"BO_BROADCAST"},CHAT_FILE:{gcmType:2,sessionType:"CHAT_FILE"},CHAT_FILE_INFO:{gcmType:1,sessionType:"CHAT_FILE_INFO"}}),D5=(window.crypto||window.msCrypto).subtle,jL=rl.WebclientIVState,EKe=Object.keys(Gf).map((e=>Gf[e].sessionType));class qf{constructor(n,o,i){this.isGCMEnabled=void 0,this.gcmSessionKey=void 0,this.gcmMainSessionKey=void 0,this.zoomId=void 0,this.resetParameters(n,o,i),ni.set(jL,{},Ca.SessionStorage)}static init(n,o,i){this.instance?this.instance.resetParameters(n,o,i):this.instance=new qf(n,o,i)}static destroy(){this.instance&&(this.instance=void 0)}resetParameters(n,o,i){this.isGCMEnabled=!(is.isIE||!is.isSupportEssentialAudioAndVideoAbility)&&i===Lz.AES_GCM,this.gcmSessionKey=jb(o),this.gcmMainSessionKey||(this.gcmMainSessionKey=this.gcmSessionKey),this.zoomId=String(n)}beginCrypto(n,o,i){const c=new Uint32Array(1);c[0]=9,c[0]+=Number(i);const d=new Uint8Array(c.buffer);let p=new Uint8Array(132);const v=jb(o);return p.set(v,0),p.set(d,v.length),p=p.subarray(0,v.length+4),D5.importKey("raw",n,{name:"HMAC",hash:"SHA-256"},!0,["sign"]).then((S=>D5.sign({name:"HMAC"},S,p))).then((S=>D5.importKey("raw",S,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])))}getNextIV(n){const o=ni.get(jL);return o[n]===void 0?(o[n]=0,ni.set(jL,o,Ca.SessionStorage)):ni.set(jL,(i=>({...i,[n]:i[n]+1})),Ca.SessionStorage)}resetIVState(){const n=ni.get(jL);if(n!==void 0){const o=Object.keys(n).filter((i=>EKe.indexOf(i)>-1));o.length>0&&(o.forEach((i=>{n[i]+=1e6})),ni.set(jL,n,Ca.SessionStorage))}}static resetIV(){if(this.instance===void 0)throw new Error("reset before intialize");this.instance.resetIVState()}static beginEncrypt({text:n,type:o}){const i=new Uint8Array(0);if(this.instance&&this.instance.isGCMEnabled){const p=this.instance.getNextIV(o.sessionType),v=new ArrayBuffer(12),S=new Uint8Array(v);new DataView(v).setUint32(0,p,!0);let _=null;return _=o.sessionType==="BO_BROADCAST"||o.sessionType==="XMPP_CHAT"?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(_,this.instance.zoomId,o.gcmType).then((x=>{const P=ArrayBuffer.isView(n)?n:new TextEncoder().encode(n);return D5.encrypt({name:"AES-GCM",iv:S,additionalData:i,tagLength:128},x,P)})).then((x=>{const P=1+S.byteLength+2+i.byteLength+4+x.byteLength,B=new ArrayBuffer(P);if(new Uint8Array(B)[0]=S.length,new Uint8Array(B,1,S.byteLength).set(S),new DataView(B).setUint16(1+S.byteLength,i.length,!0),new Uint8Array(B,3+S.byteLength).set(i),new DataView(B).setUint32(1+S.byteLength+2+i.byteLength,x.byteLength-16,!0),new Uint8Array(B,1+S.byteLength+2+i.byteLength+4).set(new Uint8Array(x)),o.sessionType===Gf.CHAT_FILE.sessionType)return B;const H=new Uint8Array(B).reduce(((U,z)=>U+String.fromCharCode(z)),"");return window.btoa(H).replace(/_/g,"/").replace(/-/g,"+").replace(/\=/g,"")}))}return Promise.resolve(ArrayBuffer.isView(n)?n:bu(n))}static beginDecrypt({decryptedText:n,type:o,zoomId:i}){if(this.instance&&this.instance.isGCMEnabled){const c=ArrayBuffer.isView(n)||n instanceof ArrayBuffer?new Uint8Array(n):(function(z){let Z;const te=z.length,ce=new Array(te);for(Z=0;Z<te;++Z)ce[Z]=255&z.charCodeAt(Z);return new Uint8Array(ce)})(atob(n.replace(/_/g,"/").replace(/-/g,"+"))),d=c[0],p=c.slice(1,d+1),v=c.slice(1+d,3+d),S=new DataView(v.buffer).getUint16(0,!0),_=c.slice(1+d+2,1+d+2+S),x=c.slice(1+d+2+S,1+d+2+S+4),P=new DataView(x.buffer).getUint32(0,!0),B=c.slice(1+d+2+S+4,1+d+2+S+4+P),H=c.slice(1+d+2+S+4+P);let U=null;return U=o.sessionType==="BO_BROADCAST"||o.sessionType==="XMPP_CHAT"?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(U,i,o.gcmType).then((z=>{const Z=(function(te,ce){te=new Uint8Array(te),ce=new Uint8Array(ce);const se=new Uint8Array(te.length+ce.length);return se.set(te),se.set(ce,te.length),se})(B,H);return D5.decrypt({name:"AES-GCM",iv:p,additionalData:_,tagLength:8*H.length},z,Z.buffer)})).then((z=>({message:o.sessionType===Gf.CHAT_FILE.sessionType?z:new TextDecoder().decode(z),iv:p,aad:_}))).catch((z=>({message:"[This is an encrypted message]",iv:p,aad:_})))}{const c=new TextDecoder("utf-8");return Promise.resolve({message:ArrayBuffer.isView(n)||n instanceof ArrayBuffer?n:c.decode(jb(n))})}}}qf.instance=void 0;const OJ=Kf.getInstance().makeLogger(["Remote Control"]),wKe=_m(zs.getInstance()),r4e=(e,n,o)=>{const i={setAttribute:(c,d)=>{i[c]=d},getAttribute:c=>i[c]||null,removeAttribute:c=>{delete i[c]},tagName:o.toUpperCase(),id:`dummy-render-${e}-${n}`,isDummy:!0,canvasId:n,toString:()=>`DummyVideoPlayer(${e}, ${n})`};return i.setAttribute("node-id",`${e}`),i.setAttribute("media-type","share"),i.setAttribute("render-type","canvas"),i};function N3(e,n,o,i,c){let{share:{activeNodeId:d,shareQuality:p}}=n;const{share:{isReceiveSharingFromMainSession:v}}=n;o&&(d=o),i!==void 0&&(p=i);const S=g3e(n);e.subscribeSharing(d,p,v,S,c)}class i4e{constructor(){this.checkerSubject=void 0,this.checkerSubscription=void 0}startCheck(n){return this.checkerSubject&&this.stopCheck(),this.checkerSubject=new J0,this.checkerSubscription=wu(n).subscribe(this.checkerSubject),this.checkerSubject}stopCheck(){var n;this.checkerSubject&&(this.checkerSubject.complete(),(n=this.checkerSubscription)===null||n===void 0||n.unsubscribe(),this.checkerSubject=void 0)}}const a4e=new i4e,l4e=new i4e;function e6(){return a4e.stopCheck()}function Nye(){return l4e.stopCheck()}function Ree(e,n){e6(),Nye();const{share:{remoteControllingSsrc:o},meeting:{userId:i}}=e;o&&(u4e(),n.takeBackRemoteControlPermission(i,o))}async function c4e(e,n,o,i,c){const{share:{isSDKGrabControl:d,isGrabRemoteControl:p}}=o;if(!p){i.subscribeGrabRemoteControl(e,!0);try{await hc(Aa(b2,1).pipe(xn((S=>!!S))))}catch{}}const v=tKe(o);v&&(d?(c.resendRemoteControlPositionPDU(),c.updateRemoteControlProperties({os:v.os,isControllerNow:!0,dimension:n&&WQ(n)})):n&&c.startRemoteControl(n,v.os,WQ(n)))}function u4e(){OJ.log("qr scanning stop"),wKe.startRemoteControlQRCheck(!1)}function d4e(e,n,o){var i;const{audio:c}=n;if((c==null||(i=c.localShareAudioUserMutedList)===null||i===void 0?void 0:i.length)>0){const{localShareAudioUserMutedList:d}=c,p=d.find((v=>v.userId===e));KPe(e,!(p==null||!p.muted),n,o)}}function $Te(e,n,o){const i=e.find((c=>c.ssrc===n));return i!=null&&i.isInitialized?Promise.reject({type:bn,reason:"Cannot start share view due to annotation is in progress.",errorCode:ht.SCREEN_SHARE_MISMATCH_STATE}):(o.stopPresenterAnnotation(n),null)}function UTe(e,n){return e.findIndex((o=>o.userId===n))===-1?Promise.reject({type:ar,reason:"Target user is not sharing",errorCode:ht.STREAM_MISMATCH_USER}):null}function zTe(){return is.isAndroidOrIOSBrowser||is.isHarmonyOS||is.is32bitChrome?1:4}async function _Ke(e,n,o){var i;const{meeting:{bIbDisableShare:c},share:{isReceiveSharingFromMainSession:d,annotationUsers:p,ssrc:v},audio:S}=n;if(c)return Promise.reject({type:bn,reason:"information barrier",errorCode:ht.SCREEN_SHARE_IB_DENIED});if(typeof((i=navigator.mediaDevices)===null||i===void 0?void 0:i.getDisplayMedia)!="function")return Promise.reject({type:bn,reason:"Unable to share your screen due to the technical limitation",errorCode:ht.SCREEN_SHARE_UNSUPPORTED});if(d)return Promise.reject({type:bn,reason:"Unable to share your screen while someone is sharing from the main session",errorCode:ht.SCREEN_SHARE_SUBSESSION_CONFLICT});if(S?.secondaryAudioMicrophoneId!==void 0)return Promise.reject({type:bn,reason:"Cannot start screen share while secondary audio is in progress.",errorCode:ht.SECONDARY_AUDIO_SCREEN_SHARING_CONFLICT});var _;if(is.isSupportMediaStreamTrackProcessor){if(!iT(e))return Promise.reject({type:ar,reason:"Use Video element instead of Canvas element when WebCodecs enabled",errorCode:ht.STREAM_MISMATCH_RENDER_ELEMENT})}else if(!A4(e))return Promise.reject({type:ar,reason:`Expected to accept HTMLCanvasElement, but actual it is ${typeof e=="object"&&e!==null?(_=Object.getPrototypeOf(e))===null||_===void 0?void 0:_.constructor.name:e}`,errorCode:ht.STREAM_MISMATCH_RENDER_ELEMENT});if(o!=null&&o.simultaneousShareView&&p.some((x=>x.isInitialized&&x.ssrc!==v)))return Promise.reject({type:bn,reason:"Cannot start share screen due to annotation is in progress.",errorCode:ht.SCREEN_SHARE_MISMATCH_STATE});await(async function(x){const{share:{sharePrivilege:P}}=x,B=Q_(x),H=Iv(x);if(P===Ub.OnlyHost&&!H)return Promise.reject({type:Bp,reason:"only host can start screen share",errorCode:ht.SCREEN_SHARE_HOST_PRIVILEGE_REQUIRED});if(P===Ub.HostGrab&&!H&&B.length>0)return Promise.reject({type:Bp,reason:"only host can grab screen share",errorCode:ht.SCREEN_SHARE_HOST_PRIVILEGE_REQUIRED});const U=Ss(x);return U?.sharerOn===!0?Promise.reject({type:bn,reason:"you have already started screen share.",errorCode:ht.SCREEN_SHARE_MISMATCH_STATE}):void 0})(n)}function Z_(e,n){const{share:{isReceiveSharingFromMainSession:o},breakoutRoom:i}=n;var c,d;return o?i==null||(c=i.mainSessionAttendeeList.find((p=>p.userId===e)))===null||c===void 0?void 0:c.shareSsrc:(d=Va(n).find((p=>p.userId===e)))===null||d===void 0?void 0:d.shareSsrc}function h4e(e,n){const{state:o,rwgAgent:i,mediaAgent:c}=n,{share:{remoteControlledUserList:d}}=o;d4e(e,o,c),d.includes(e)&&c4e(e,void 0,o,i,c)}function f4e(e,n){const{state:o,rwgAgent:i,mediaAgent:c}=n,{share:{remoteControlledUserList:d,isGrabRemoteControl:p}}=o,v=(function(S,_){const{state:x,mediaAgent:P}=_,B=[];if(S){const{share:{annotationUsers:z}}=x,Z=Z_(S,x);var H,U;Z&&(Kk(x)?(H=z.find((te=>te.ssrc===Z)))!==null&&H!==void 0&&H.isInitialized&&(P.hideViewerAnnotationCanvas(),P.stopViewerAnnotation(Z),B.push(OS({ssrc:Z,isInitialized:!1,isStarted:!1}))):(U=z.find((te=>te.ssrc===Z)))!==null&&U!==void 0&&U.isStarted&&(P.annotateAction(Rp.CLOSE_TOOL_BAR),B.push(OS({ssrc:Z,isStarted:!1}))))}return B})(e,n);return d.includes(e)&&(p&&i.subscribeGrabRemoteControl(e,!1),c.updateRemoteControlProperties({isControllerNow:!1})),v}function Lye(e,n,o,i){var c;const{state:d,rwgAgent:p,mediaAgent:v}=i,{share:{isReceiveSharingFromMainSession:S,shareViewAttachments:_}}=d,x=f4e(e,i);p.unsubscribeSharing(e,S),N3(p,d,n),v.switchSharingSource(o,S);const P=(c=_[`${e}`])===null||c===void 0?void 0:c.find((B=>B.isDummy));if(P){x.push(T6({userId:e,element:P}));const B=r4e(n,P.canvasId,P.tagName);x.push(Iee({userId:n,element:B}))}return h4e(n,i),x}const rE=ta.createAgent(),fg=_m(zs.getInstance()),F_=ta.createAgent(),iE=_m(zs.getInstance()),V_=_m(zs.getInstance()),jTe={ssrc:0,status:Yr.End,shareDimension:{width:0,height:0},receivedShareDimension:{width:1920,height:1080,logicWidth:1920,logicHeight:1080},sharePrivilege:Ub.OnlyHost,activeNodeId:0,activeSsrc:0,shareQuality:1,isRemoteSharingActive:!1,isReceiveSharing:!1,isGrabRemoteControl:!1,isSDKGrabControl:!1,isScreenShareForbidden:!1,isReceiveSharingFromMainSession:!1,isSharingToBreakoutRoom:!1,isSharingWithSecondCamera:!1,secondCameraId:"default",isRequireReadReceipt:!1,capturedEnsuredCanvas:[],renderedEnsuredCanvas:[],remoteControllingSsrc:0,remoteControlApprovedSsrc:0,remoteControlAppDownloadUrl:"",remoteControlAppInstallStatus:Dp.Unknown,isEnableAutoDeleteRcApp:!1,remoteControlledUserList:[],isRemoteControlEnabled:!1,isSimultaneousShareView:!1,statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0}},annotationCapability:0,isAnnotationInitialized:!1,isAnnotationStarted:!1,annotationUsers:[],annotationToolColor:rwe.DarkGrey,annotationSpotlightColor:rwe.Red,annotationToolWidth:8,annotationToolType:fE.None,shareViewAttachments:{},annotationVanishingToolTimer:{displayTime:0,vanishingTime:2e3}},TKe=["userId","ssrc","isInitialized","isStarted","isDisabled"],AKe=wm({[`${B1e}`]:bt(((e,{payload:n})=>{e.sharePrivilege=n})),[`${D3}`]:bt(((e,{payload:n})=>{e.isRemoteSharingActive=n.bStatus===1,e.activeNodeId=n.activeNodeID,e.activeSsrc=n.ssrc})),[`${IO}`]:bt(((e,{payload:n})=>{e.isReceiveSharing=n})),[`${F1e}`]:bt(((e,{payload:n})=>{e.shareDimension={...n}})),[`${Sg}`]:bt(((e,{payload:n})=>{e.status=n,n===Yr.End&&(e.isSimultaneousShareView=!1)})),[`${j3e}`]:bt(((e,{payload:n})=>{e.ssrc=n})),[`${V1e}`]:bt(((e,{payload:n})=>{e.shareQuality=n})),[`${xee}`]:bt(((e,{payload:n})=>{e.receivedShareDimension={...n}})),[`${J3e}`]:bt(((e,{payload:n})=>{e.remoteControlledUserList.includes(n)||e.remoteControlledUserList.push(n)})),[`${Mye}`]:bt(((e,{payload:n})=>{const o=e.remoteControlledUserList.indexOf(n);o>=0&&e.remoteControlledUserList.splice(o,1)})),[`${xJ}`]:bt(((e,{payload:n})=>{e.isGrabRemoteControl=n,n===!1&&(e.remoteControlViewportDomSelector=void 0)})),[`${kye}`]:bt(((e,{payload:n})=>{e.isSDKGrabControl=n})),[`${W3e}`]:bt(((e,{payload:n})=>{e.isReceiveSharingFromMainSession=n})),[`${Q5}`]:bt(((e,{payload:n})=>{e.isSharingToBreakoutRoom=n})),[`${G3e}`]:bt(((e,{payload:n})=>{e.isSharingWithSecondCamera=n})),[`${q3e}`]:bt(((e,{payload:n})=>{e.secondCameraId=n})),[`${K3e}`]:bt(((e,{payload:n})=>{e.isRequireReadReceipt=n})),[`${Oee}`]:bt(((e,{payload:n})=>{e.isOptimizedForSharedVideo=n})),[`${Dye}`]:bt(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.encode={bitrate:i,...c}})),[`${iz}`]:bt(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.decode={bitrate:i,...c}})),[`${Z3e}`]:bt(((e,{payload:n})=>{e.capturedEnsuredCanvas.includes(n)||e.capturedEnsuredCanvas.push(n)})),[`${Y3e}`]:bt(((e,{payload:n})=>{e.renderedEnsuredCanvas.includes(n)||e.renderedEnsuredCanvas.push(n)})),[`${_6}`]:bt(((e,{payload:n})=>{e.remoteControllingSsrc=n})),[`${M3}`]:bt(((e,{payload:n})=>{e.remoteControlApprovedSsrc=n})),[`${X3e}`]:bt(((e,{payload:n})=>{e.remoteControlAppDownloadUrl=n})),[`${Zk}`]:bt(((e,{payload:n})=>{(e.remoteControlAppInstallStatus!==Dp.Installed||Dp.Unknown)&&(e.remoteControlAppInstallStatus=n)})),[`${yE}`]:bt(((e,{payload:n})=>{e.remoteControlAppLaunchSheme=n})),[`${H1e}`]:bt(((e,{payload:n})=>{Object.assign(e,n)})),[`${$1e}`]:bt(((e,{payload:n})=>{e.remoteControlViewportDomSelector=n})),[`${Q3e}`]:bt(((e,{payload:n})=>{e.annotationCapability=n})),[`${cKe}`]:bt(((e,{payload:n})=>{e.isAnnotationInitialized=n})),[`${uKe}`]:bt(((e,{payload:n})=>{e.isAnnotationStarted=n})),[`${OS}`]:bt(((e,{payload:n})=>{const{userId:o,ssrc:i,isInitialized:c,isStarted:d,isDisabled:p}=n;let v=-1;if(o!==void 0?v=e.annotationUsers.findIndex((S=>{var _;return S.userId===o||Uf(o,(_=S.ssrc)!==null&&_!==void 0?_:0)})):i!==void 0&&(v=e.annotationUsers.findIndex((S=>{var _;return S.ssrc===i||Uf(i,(_=S.userId)!==null&&_!==void 0?_:0)}))),v>=0){const S=e.annotationUsers[v];Object.entries(n).forEach((([_,x])=>{n[_]!==void 0&&TKe.includes(_)&&Object.assign(S,{[_]:x})}))}else e.annotationUsers.push({userId:o,ssrc:i,isInitialized:c||!1,isStarted:d||!1,isDisabled:p||!1})})),[`${e4e}`]:bt(((e,{payload:n})=>{e.annotationToolColor=n})),[`${t4e}`]:bt(((e,{payload:n})=>{e.annotationSpotlightColor=n})),[`${n4e}`]:bt(((e,{payload:n})=>{e.annotationToolWidth=n})),[`${P3}`]:bt(((e,{payload:n})=>{e.annotationToolType=n})),[`${Pye}`]:bt(((e,{payload:n})=>{e.isSimultaneousShareView=n})),[`${Iee}`]:bt(((e,{payload:n})=>{const{userId:o,element:i}=n;if(e.shareViewAttachments[`${o}`]){const c=dee(e.shareViewAttachments[`${o}`]);c?.indexOf(i)===-1&&e.shareViewAttachments[`${o}`].push(i)}else e.shareViewAttachments[`${o}`]=[],e.shareViewAttachments[`${o}`].push(i)})),[`${T6}`]:bt(((e,{payload:n})=>{const{userId:o,element:i}=n,c=e.shareViewAttachments[`${o}`];if(c?.length>0){let d=i;Array.isArray(i)||(d=[i]),d.forEach((p=>{var v;const S=(v=dee(c))===null||v===void 0?void 0:v.indexOf(p);S!==void 0&&S!==-1&&c.splice(S,1)}))}})),[`${o4e}`]:bt(((e,{payload:n})=>{e.annotationVanishingToolTimer={...n}})),[`${s4e}`]:()=>({...jTe})},jTe),xKe={annotationEpics0:(e,n)=>e.pipe(Qo(`${Mv}`),Do((()=>{const{meeting:{mediaFeatureOptions:o}}=n.value,i=o?zs.getAnnotationCapability(o):0;return Q3e(i)}))),annotationEpics1:e=>ur(e,[so.StartAnnotationSuccess,so.StartAnnotationFailed]).pipe(Yo((n=>{const{payload:{data:o,type:i}}=n;i===so.StartAnnotationSuccess?dt(uve):i===so.StartAnnotationFailed&&dt(uve,o)})),pn((()=>Po))),annotationEpics2:e=>Uo(e,20241).pipe(Do((n=>{const{activeNodeID:o,annotationOff:i}=n.payload.body;return dt(n1e,{userId:o,isAnnotationEnabled:i===0}),OS({userId:o,isDisabled:i===1})}))),annotationEpics3:(e,n)=>ur(e,so.AnnotationRedoStatus).pipe(us(n),Yo((([o,i])=>{const{payload:{data:c}}=o,{share:{activeSsrc:d,ssrc:p,annotationUsers:v}}=i;v.filter((S=>[d,p].includes(S.ssrc))).some((S=>S.isInitialized))&&dt(oPe,c)})),pn((()=>Po))),annotationEpics4:(e,n)=>ur(e,so.AnnotationUndoStatus).pipe(us(n),Yo((([o,i])=>{const{payload:{data:c}}=o,{share:{activeSsrc:d,ssrc:p,annotationUsers:v}}=i;v.filter((S=>[d,p].includes(S.ssrc))).some((S=>S.isInitialized))&&dt(nPe,c)})),pn((()=>Po))),annotationEpics5:(e,n)=>Uo(e,Ul).pipe(Do((o=>cT(o.payload.body))),us(n),Yo((([o,i])=>{const{share:{ssrc:c},meeting:{userId:d}}=i;if(o.update){const p=o.update.find((v=>v?.userId===d&&v.sharerOn!==void 0));if(p!=null&&p.sharerOn){const v=Ss(i);V_.updateSharingInfo(c,v?.displayName||"")}}})),pn((()=>Po))),annotationEpics6:(e,n)=>ur(e,so.AnnoViewerRequestDraw).pipe(us(n),Yo((([o,i])=>{const{payload:{data:c}}=o,{breakoutRoom:d,participants:{attendeesList:p}}=i,{userId:v}=c;if(dt(sPe,c),v){var S,_;const x=((S=p.find((B=>Uf(B.userId,v))))===null||S===void 0?void 0:S.displayName)||(d==null||(_=d.mainSessionAttendeeList)===null||_===void 0||(_=_.find((B=>Uf(B.userId,v))))===null||_===void 0?void 0:_.displayName)||"",P={userId:v,userName:x};V_.annotateAction(Rp.ANNOTATOR_ID_TO_NAME,P)}})),pn((()=>Po))),annotationEpics7:(e,n)=>e.pipe(Qo(`${Sg}`),us(n),xn((([,o])=>{var i;return((i=o.share)===null||i===void 0?void 0:i.status)===Yr.End})),pn((([o,i])=>{const{share:{annotationUsers:c,ssrc:d}}=i,p=[];return c.find((v=>v.ssrc===d))&&(V_.stopPresenterAnnotation(d),p.push(OS({ssrc:d,isInitialized:!1,isStarted:!1})),p.push(P3(fE.None))),lo(p)}))),annotationEpics8:(e,n)=>e.pipe(Qo(`${IO}`),Ju(Dv),us(n),xn((([,o])=>o.share.isReceiveSharing===!1)),pn((([o,i])=>{const{share:{activeNodeId:c,annotationUsers:d}}=i,p=[],v=Z_(c,i);return v&&d.find((S=>S.ssrc===v))&&(V_.stopViewerAnnotation(v),p.push(OS({ssrc:v,isInitialized:!1,isStarted:!1})),p.push(P3(fE.None))),V_.hideViewerAnnotationCanvas(),lo(p)}))),annotationEpics9:(e,n)=>Uo(e,Ul).pipe(us(n),xn((([o,i])=>{const{meeting:{userId:c}}=i,d=o.payload.body.update;return d&&d.length>0&&d.findIndex((p=>p.id!==c&&p.bShareOn!==void 0))>-1})),pn((([o,i])=>{const{payload:{body:{update:c}}}=o,{share:{annotationUsers:d}}=i,p=c.filter((S=>S.bShareOn===!1)),v=[];return p?.forEach((S=>{const{shareSsrc:_}=S;_&&d.find((x=>x.ssrc===_))&&(V_.stopViewerAnnotation(_),v.push(OS({ssrc:_,isInitialized:!1,isStarted:!1})),v.push(P3(fE.None)))})),lo(v)}))),annotationEpics10:(e,n)=>e.pipe(Qo(`${F1e}`),us(n),Yo((([o,i])=>{var c;const{share:{ssrc:d,annotationUsers:p}}=i;(c=p.find((v=>v.ssrc===d)))!==null&&c!==void 0&&c.isInitialized&&V_.updatePresenterAnnotationCanvas()})),pn((()=>Po))),annotationEpics11:(e,n)=>e.pipe(Qo(`${xee}`),Ju(Dv),us(n),Yo((([o,i])=>{var c;const{share:{activeSsrc:d,annotationUsers:p}}=i;(c=p.find((v=>v.ssrc===d)))!==null&&c!==void 0&&c.isInitialized&&V_.updateViewerAnnotationCanvas()})),pn((()=>Po))),annotationEpics12:e=>e.pipe(Qo(`${qb}`),Yo((n=>{V_.removeViewerAnnotationCanvas()})),pn((()=>Po)))},OKe={remoteControlEpics0:e=>e.pipe(Qo(`${Mv}`),Do((n=>{const{payload:{meetingOptions:o,rcAutoDelete:i,jwtRc:c,opRc:d}}=n,p=o?.isRemoteControlEnbaled&&d&&c===1;return H1e({isRemoteControlEnabled:p,isEnableAutoDeleteRcApp:i===1})}))),remoteControlEpics1:(e,n)=>Uo(e,16391).pipe(pn((o=>{const{payload:{body:{bOn:i,sendID:c,receiveID:d}}}=o,{meeting:{userId:p},share:{status:v,activeNodeId:S,isGrabRemoteControl:_}}=n.value,x=[];if(v===Yr.End&&x.push(_6(0)),v!==Yr.End)if(Uf(p,c))i?(e6(),Nye(),v===Yr.Paused&&(F_.resumeSharing(),iE.resumeDesktopSharing(),x.push(Sg(Yr.Sharing))),x.push(_6(d))):x.push(_6(0));else{var P;const B=(P=Va(n.value))===null||P===void 0?void 0:P.find((H=>Uf(H.userId,c)));B&&dt(QMe,{userId:B.userId,displayName:B.displayName,isSharingEntireScreen:iE.isSharingEntireScreen()})}else if(!d||Uf(d,p)){const B=Ss(n.value);if(!tf(B.userRole)&&!is.isAndroidOrIOSBrowser){const H=c&&Uf(S,c);i?(x.push(J3e(S)),H&&(_||F_.subscribeGrabRemoteControl(S,!0))):(x.push(Mye(S)),H&&(_&&(F_.subscribeGrabRemoteControl(S,!1),x.push(xJ(!1)),dt(b2,!1)),iE.updateRemoteControlProperties({isControllerNow:!1}))),dt(HQ,i)}}return lo(x)}))),remoteControlEpics2:(e,n)=>Uo(e,16395).pipe(us(n),xn((([o,i])=>o.payload.body.id===i.meeting.userId)),Do((([o])=>{const{payload:{body:{bOn:i}}}=o;return iE.updateRemoteControlProperties({isControllerNow:i}),dt(b2,i),xJ(i)}))),remoteControlEpics3:e=>ur(e,[so.StartRemoteControlSuccess,so.StartRemoteControlFailed,so.CancelRemoteControlSuccess]).pipe(Nz((n=>n.payload.type===so.StartRemoteControlSuccess?(dt(ZMe),kye(!0)):n.payload.type===so.CancelRemoteControlSuccess?kye(!1):void(n.payload.type===so.StartRemoteControlFailed&&dt(YMe))))),remoteControlEpics4:e=>ur(e,[so.RemoteControlCopiedTextNotify,so.RemoteControlPasteTextLengthOverflow]).pipe(Yo((n=>{if(n.payload.type===so.RemoteControlCopiedTextNotify){const{payload:{data:o}}=n;dt(lve,{content:o.data,x:o.x,y:o.y})}else dt(lve,{error:"length of pasted text is too long"})})),Da(Po)),remoteControlEpics5:(e,n)=>Uo(e,4342).pipe(xn((o=>o.payload.body.result===0)),pn((o=>{const{payload:{body:{downloadUrl:i,ssrc:c,urlScheme:d}}}=o,{share:{remoteControlApprovedSsrc:p,status:v}}=n.value,S=[],{isMacOS:_}=is;if(v!==Yr.End){if(!p||p===c){e6();try{const U=JSON.parse(i||"{}"),z=_?U.macDownloadUrl:U.winDownloadUrl;S.push(X3e(z))}catch(U){console.warn("unsupported JSON string",U)}}const x={},P=Va(n.value).find((U=>Uf(U.userId,c)));P&&Object.assign(x,{controllerName:bu(P.displayName)}),Object.assign(x,{ssrc:c});const{deviceId:B}=iE.getShareStreamInfo();B&&Object.assign(x,{DeviceID:B});const H=`${d}&${new URLSearchParams(x).toString()}`;S.push(yE(H),Zk(Dp.Unknown)),dt(ePe,H)}return lo(S)}))),remoteControlEpics6:e=>e.pipe(Qo(`${BTe}`),pn((()=>a4e.startCheck(1e4).pipe(Do((()=>(dt(Nk,Dp.Unknown),Zk(Dp.Unknown)))))))),remoteControlEpics7:(e,n)=>e.pipe(Qo(`${_me}`),xn((()=>{const{share:{remoteControlAppInstallStatus:o}}=n.value;return o===Dp.Installed})),pn((()=>l4e.startCheck(12e4).pipe(pn((()=>{dt(Nk,TQ.Unlaunched);const{share:{remoteControlApprovedSsrc:o,isEnableAutoDeleteRcApp:i},meeting:{userId:c}}=n.value,d=[],{isMacOS:p}=is;return o&&(F_.remoteControlConsent(_Q.CacheClean,o,c,{...iE.getShareStreamInfo(),platform:p?"mac":"win"},i),d.push(yE(""),M3(0))),lo(d)})))))),remoteControlEpics8:(e,n)=>e.pipe(Qo(`${yE}`),xn((o=>!!o.payload)),pn((o=>{const{payload:i}=o,c=[];let d;if(i){(function(v){if(!v.startsWith("zoomprc://"))return;const S=aT("__ZOOM_SDK_RC_APP_SCHEME_@__");let _=document.getElementById(S);_||(_=document.createElement("iframe"),_.id=S,_.style.display="none",document.body.appendChild(_)),_.contentWindow.location.href=v})(i),c.push(_me());const p=performance.now();document.hasFocus()?d=W6(25).pipe(t2((()=>{const v=performance.now()-p<500;return v||dt(Nk,Dp.Uninstalled),v&&n.value.share.remoteControlAppInstallStatus===Dp.Unknown})),mi((()=>{const v=performance.now()-p,S=[];return document.hasFocus()||(v>75?S.push(BTe()):e6(),dt(Nk,Dp.Installed),S.push(Zk(Dp.Installed),_me())),lo(S)})),(function(){for(var v=[],S=0;S<arguments.length;S++)v[S]=arguments[S];return function(_){return j6(_,qa.apply(void 0,PS([],n1(v))))}})(Zk(Dp.Uninstalled))):(dt(Nk,Dp.Unknown),c.push(Zk(Dp.Unknown)))}return d?xd(d,lo(c)):lo(c)}))),remoteControlEpics9:(e,n)=>Uo(e,hye).pipe(pn((()=>(dt(cJ,$pe.Ended),Ree(n.value,F_),lo([yE(""),M3(0)]))))),remoteControlEpics10:(e,n)=>e.pipe(Qo(`${Sg}`),xn((o=>{const{share:{remoteControllingSsrc:i,remoteControlApprovedSsrc:c}}=n.value;return!(o.payload!==Yr.End||!i&&!c)})),Yo((()=>{const{share:{remoteControllingSsrc:o,remoteControlApprovedSsrc:i,isEnableAutoDeleteRcApp:c},meeting:{userId:d}}=n.value,{isMacOS:p}=is;o&&Ree(n.value,F_),i!==o&&F_.remoteControlConsent(_Q.Decline,i,d,{...iE.getShareStreamInfo(),platform:p?"mac":"win"},c)})),Da(Po)),remoteControlEpics11:(e,n)=>Uo(e,16430).pipe(pn((()=>(e6(),Nye(),dt(Nk,TQ.Launched),n.value.share.status!==Yr.End&&(function(o,i){(async function(c){const{media:{assetsPath:d}}=c,p=`${d}/qrscanner.min.js`;return"WebQrscanner"in window?Promise.resolve(""):new Promise(((v,S)=>{OJ.log(`load qr scanner script start. url:${p}`),pte(p,(()=>{OJ.log("load qr scanner script done."),v("")}),S)}))})(o).then((()=>{OJ.log("qr scanning start"),i.startRemoteControlQRCheck(!0)}))})(n.value,iE),lo([yE(""),M3(0)]))))),remoteControlEpics12:e=>ur(e,so.CurrentDesktopSharingWidthHeight).pipe(Yo((()=>{F_.syncSharedContentMetaWithRcApp(iE.getShareStreamInfo())})),Da(Po)),remoteControlEpics13:(e,n)=>ur(e,so.SendRemoteControlQrCode).pipe(Yo((o=>{const{payload:{data:i}}=o,{share:{status:c}}=n.value;c!==Yr.End&&Array.isArray(i)&&i.length>0&&i.forEach((d=>{d!=null&&d.startsWith("zrc_")&&F_.sendRemoteControlAuth(d)}))})),Da(Po)),remoteControlEpics14:e=>Uo(e,16434).pipe(Yo((n=>{const{payload:{body:{result:o}}}=n;o===0&&(u4e(),dt(cJ,$pe.Started))})),Da(Po)),remoteControlEpics15:(e,n)=>Uo(e,Ul).pipe(xn((o=>{var i,c;const{meeting:{userId:d},share:{remoteControlledUserList:p}}=n.value,{payload:{body:v}}=o;return p.length>0&&(((i=v.update)===null||i===void 0?void 0:i.some((S=>S.id!==d&&S.bShareOn===!1)))||((c=v.remove)===null||c===void 0?void 0:c.some((S=>S.id!==d))))})),pn((o=>{var i,c,d,p;const{payload:{body:v}}=o,{share:{remoteControlledUserList:S,activeNodeId:_,isGrabRemoteControl:x},meeting:{userId:P}}=n.value,B=((i=(c=v.update)===null||c===void 0?void 0:c.filter((U=>U.id!==P&&U.bShareOn===!1)))!==null&&i!==void 0?i:[]).concat((d=(p=v.remove)===null||p===void 0?void 0:p.filter((U=>U.id!==P)))!==null&&d!==void 0?d:[]),H=[];return S.forEach((U=>{B.find((z=>z.id===U))&&(H.push(Mye(U)),U===_&&x&&(H.push(xJ(!1)),dt(b2,!1)))})),lo(H)}))),remoteControlEpics16:(e,n)=>e.pipe(Qo(`${wg}`),Yo((()=>{const{share:{remoteControllingSsrc:o,status:i}}=n.value;i===Yr.Sharing&&o&&dt(cJ,$pe.Ended)})),Da(Po)),remoteControlEpics17:e=>e.pipe(Qo(`${$1e}`),xn((n=>!!n.payload)),mi((n=>{const{payload:o}=n,i=document.querySelector(o);return i&&typeof ResizeObserver=="function"?(function(...d){return new Su((p=>{const v=new ResizeObserver((S=>{S.forEach((_=>{p.next(_)}))}));return d.forEach((S=>v.observe(S))),()=>v.disconnect()}))})(i).pipe(_h(ST(Aa(T3).pipe(xn((d=>!(d!=null&&d.isActive))),Jr(1)))),(c===void 0&&(c=Dv),Qd((function(d,p){var v=null,S=null,_=null,x=function(){if(v){v.unsubscribe(),v=null;var B=S;S=null,p.next(B)}};function P(){var B=_+100,H=c.now();if(H<B)return v=this.schedule(void 0,B-H),void p.add(v);x()}d.subscribe(Od(p,(function(B){S=B,_=c.now(),v||(v=c.schedule(P,100),p.add(v))}),(function(){x(),p.complete()}),void 0,(function(){S=v=null})))}))),Yo((d=>{const{target:p}=d;p&&iE.updateRemoteControlProperties({dimension:WQ(p)})})),pn((()=>Po))):Po;var c})))},IKe={epics0:(e,n)=>Uo(e,Wb).pipe(xn((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.lockShare)!==void 0})),us(n),Yo((([o,i])=>{const{share:{sharePrivilege:c}}=i,{payload:{body:{lockShare:d}}}=o;c!==d&&dt(XMe,d)})),Do((([o])=>B1e(o.payload.body.lockShare)))),epics1:e=>Uo(e,20227).pipe(Do((n=>j3e(n.payload.body.ssrc)))),epics2:(e,n)=>Uo(e,uye).pipe(us(n),xn((([o,i])=>{const{payload:{body:c}}=o,{share:{isReceiveSharingFromMainSession:d}}=i;return!d||d&&c.fromMainSession})),pn((([o,i])=>{const{share:{isReceiveSharing:c,activeNodeId:d,isReceiveSharingFromMainSession:p},meeting:{userId:v}}=i,{payload:{body:S}}=o,_=[];if(c&&S.bStatus===1){if(d!==v)if(Kk(i))_.push(...Lye(d,S.activeNodeID,S.ssrc,{state:i,rwgAgent:rE,mediaAgent:fg})),dt(VQ,{userId:S.activeNodeID});else{const x={activeUserId:S.activeNodeID,isActive:!0};p&&Object.assign(x,{isFromMainSession:!0}),dt(T3,x)}}else if(S.bStatus===1){const x={activeUserId:S.activeNodeID,isActive:!0};p&&Object.assign(x,{isFromMainSession:!0}),dt(T3,x)}else if(c){const x={activeUserId:S.activeNodeID,isActive:!1};p&&Object.assign(x,{isFromMainSession:!0}),dt(T3,x)}return _.push(D3(S)),lo(_)}))),epics3:(e,n)=>ur(e,[so.SharingDesktopStreamHaveAudio,so.SharingDesktopStreamHaveNoAudio]).pipe(xn((o=>o.payload.type!==so.SharingDesktopStreamHaveAudio||!n.value.audio.secondaryAudioMicrophoneId)),us(n),Do((([o,i])=>{const{meeting:{userId:c},share:{isSharingToBreakoutRoom:d,isOptimizedForSharedVideo:p}}=i,{payload:{type:v}}=o,S=v===so.SharingDesktopStreamHaveAudio;return rE.startSharing(c,{bShareToBO:d,bShareAudio:S,bShareVideo:!!p}),fg.switchSharingMode(p?d6.VideoMode:d6.Normal),LTe(!1)}))),epics4:e=>ur(e,[so.DesktopSharingError,so.DesktopSharingChromeExtensionUninstalled,so.DesktopSharingPermissionDenied,so.DesktopSharingSystemError]).pipe(pn((n=>{const o=[];let i="";return[so.DesktopSharingPermissionDenied,so.DesktopSharingSystemError].includes(n.payload.type)&&(o.push(LTe(!0)),n.payload.type===so.DesktopSharingSystemError?is.isMacOS&&(i="To use screen share on Chrome, please allow screen recording access in system setting."):i="To use screen share, please allow the permission request."),dt(UMe,{reason:i}),lo(o)}))),epics5:(e,n)=>ur(e,so.CurrentDesktopSharingWidthHeight).pipe(xn((o=>!!o.payload.data)),Do((o=>{dt(zMe,{...o.payload.data,userId:n.value.meeting.userId});const{payload:{data:{width:i,height:c}}}=o;return fg.ajustmentSharingCanvas(i,c),F1e(o.payload.data)}))),epics6:(e,n)=>ur(e,so.SharingDecodeMaxSize).pipe(xn((o=>!!o.payload.data)),us(n),Nz((([o,i])=>{const{share:{shareQuality:c,activeNodeId:d,shareViewAttachments:p}}=i,{payload:{data:{fps:v}}}=o,S=Number(v);if(c!==S)return Kk(i)?N3(rE,i,d,S):Object.entries(p).filter((([,_])=>_.length>0)).forEach((([_])=>{N3(rE,i,Number(_),S)})),V1e(S)}))),epics7:(e,n)=>Uo(e,20226).pipe(Yo((o=>{var i,c;if(dt(FQ,(i=o.payload)===null||i===void 0?void 0:i.body),(c=o.payload)!==null&&c!==void 0&&c.body){const{payload:{body:{width:d,height:p}}}=o;Kk(n.value)&&fg.ajustmentReceivedSharingCanvas(d,p)}})),Do((o=>xee(o.payload.body)))),epics8:(e,n)=>ur(e,so.SharingPara).pipe(Yo((o=>{var i,c;if(dt(FQ,(i=o.payload.data)===null||i===void 0?void 0:i.body),(c=o.payload.data)!==null&&c!==void 0&&c.body){const{payload:{data:{body:{width:d,height:p}}}}=o;Kk(n.value)&&fg.ajustmentReceivedSharingCanvas(d,p)}})),Do((o=>{var i;return xee((i=o.payload.data)===null||i===void 0?void 0:i.body)}))),epics9:(e,n)=>ur(e,so.UserStopDesktopSharing).pipe(us(n),Do((([,o])=>{const{meeting:{userId:i},share:{status:c}}=o;return c!==Yr.End&&(rE.stopSharing(i),fg.stopDesktopSharing(),dt(jMe)),Sg(Yr.End)}))),epics10:(e,n)=>Uo(e,Ul).pipe(us(n),xn((([o,i])=>{const{meeting:{userId:c}}=i,d=o.payload.body.update;return d&&d.length>0&&d.findIndex((p=>p.id===c&&p.bShareOn!==void 0))>-1})),pn((([o,i])=>{const{meeting:{userId:c},share:{status:d,isReceiveSharing:p,activeNodeId:v,isSimultaneousShareView:S}}=i,{payload:{body:{update:_}}}=o,x=_.find((H=>H.id===c&&H.bShareOn===!1)),P=_.find((H=>H.id===c&&H.bShareOn===!0)),B=[];return x&&d!==Yr.End&&(rE.stopSharing(c),fg.stopDesktopSharing(),B.push(Sg(Yr.End)),dt(WMe)),P&&d===Yr.End&&(p&&!S&&(fg.stopRenderSharing(),rE.unsubscribeSharing(v),B.push(IO(!1))),B.push(Sg(Yr.Sharing))),lo(B)}))),epics11:(e,n)=>Uo(e,Ul).pipe(us(n),xn((([o,i])=>{const{meeting:{userId:c}}=i,d=o.payload.body.update;return d&&d.length>0&&d.findIndex((p=>p.id!==c&&p.bShareOn!==void 0))>-1})),pn((([o,i])=>{const{payload:{body:{update:c}}}=o,{share:{activeNodeId:d,isReceiveSharing:p}}=i,v=Q_(i),S=c.filter((P=>P.bShareOn===!0&&P.bSharePause===!1)),_=c.filter((P=>P.bShareOn===!0&&P.bSharePause===!0)),x=c.filter((P=>P.bShareOn===!1));return S.length>0&&S.forEach((P=>{v.findIndex((B=>B.userId===P.id))===-1?dt(e1e,P):dt(KMe,P)})),_.length>0&&_.forEach((P=>{dt(qMe,P)})),x.length>0&&(x.filter((P=>v.findIndex((B=>B.userId===P.id))>-1)).forEach((P=>{dt(t1e,P)})),p&&x.some((P=>P.id===d)))?Fp(Uo(e,uye).pipe(Jr(1),Da(Po)),wu(50).pipe(Da(UO("timeout")))).pipe(Cm((()=>{const{share:{activeNodeId:P},meeting:{userId:B}}=n.value,H=v.filter((z=>z.userId!==P&&z.userId!==B));if(H.length>0&&Kk(n.value)){var U;const z=[],Z=H[0],{userId:te}=Z,ce=(U=Z_(te,i))!==null&&U!==void 0?U:te;return z.push(...Lye(P,te,ce,{state:i,rwgAgent:rE,mediaAgent:fg})),dt(VQ,{userId:te}),z.push(D3({activeNodeID:te,bStatus:1,ssrc:ce})),lo(z)}return Po}))):Po}))),epics12:(e,n)=>Uo(e,S1e).pipe(us(n),mi((([o,i])=>{const{payload:{body:{encryptKey:c,additionalType:d}}}=o,{media:{sharingDecodeStatus:p,sharingEncodeStatus:v},meeting:{confId:S,userId:_,zoomId:x,meetingId:P,meetingNumber:B,isWebinar:H}}=i;return B2(n).pipe(mi((U=>{let z=v;return(!is.isSupportSendScreenSharing||H&&U&&tf(U.userRole))&&(z="failed"),$f("sharing",z,p).pipe(Yo((([Z,te])=>{const ce={userId:_,sn:jb(x),confId:S,encryptKey:jb(c),encryptType:d,meetingId:P,meetingNumber:B};if(Z&&fg?.updateMediaParams({iVType:IS.SHARING_ENCODE,isFromMainSession:!1,updateParams:ce}),te){fg.updateMediaParams({iVType:IS.SHARING_DECODE,isFromMainSession:!1,updateParams:ce});const{participants:{attendeesList:se}}=n.value;if(se.length>0){const Se=se.map((Ce=>({userid:Ce.userId,sn:Ce.zoomID&&jb(Ce.zoomID)})));fg.updateUserMediaSN({added:Se,isFromMainSession:!1,iVType:IS.SHARING_DECODE})}}})),Da(Po))})))}))),epics13:(e,n)=>RS(e,20235).pipe(us(n),Yo((([o,i])=>{const{media:{sharingDecodeStatus:c}}=i,{type:d,payload:{body:p}}=o,v=d===`${lT}`;$f("sharing","success",c).subscribe((([,S])=>{S&&fg.addReceivedSharingChannelType({isFromMainSession:v,...p})}))})),Da(Po)),epics14:(e,n)=>RS(e,20236).pipe(us(n),Yo((([o,i])=>{const{media:{sharingDecodeStatus:c}}=i,{type:d,payload:{body:{ssrc:p}}}=o,v=d===`${lT}`;$f("sharing","success",c).subscribe((([,S])=>{S&&fg.removeReceivedSharingChannelType({isFromMainSession:v,ssrc:p})}))})),Da(Po)),epics15:e=>ur(e,so.SharingFirstDecodeFrameReceivedSsrc).pipe(xn((n=>!!n.payload.data)),Yo((n=>{const{payload:{data:{ssrc:o}}}=n;rE.sendReceivingSharingReady(o)})),Da(Po)),epics16:(e,n)=>Uo(e,20233).pipe(xn((()=>!!n.value.share.isRequireReadReceipt)),Yo((o=>{const{payload:{body:{bReceiveOk:i}}}=o;i&&dt(JMe)})),Da(Po)),epics17:(e,n)=>Uo(e,Wb).pipe(xn((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.lockShare)!==void 0})),pn((o=>{const{payload:{body:{lockShare:i}}}=o,{share:{isOptimizedForSharedVideo:c,isSharingToBreakoutRoom:d},audio:{isSharingAudio:p},meeting:{userId:v}}=n.value,S=[];return i===Ub.MultipleShare&&c&&(rE.startSharing(v,{bShareAudio:p,bShareToBO:d,bShareVideo:!1}),fg.switchSharingMode(d6.Normal),S.push(Oee(!1))),lo(S)}))),epics18:(e,n)=>ur(e,so.ShareQosData).pipe(us(n),Do((([o,i])=>{var c,d;const{meeting:{isWebinar:p},media:{sharingEncodeStatus:v,sharingDecodeStatus:S},share:{status:_,isReceiveSharing:x},participants:{xmppAttendeeList:P}}=i;let B=r1e(i).length>0;p&&(B=B||!!P.length);const H=_!==Yr.End&&v==="success"&&(B||((c=i.recording)===null||c===void 0?void 0:c.cmrStatus)===_d.Start),U=x&&S==="success";return(d=o.payload.data)!==null&&d!==void 0&&d.encoding?H?(dt(cve,o.payload),Dye(o.payload)):Dye(TO):U?(dt(cve,o.payload),iz(o.payload)):iz(TO)})))},RKe=xg(IKe,OKe,xKe),{setQaSetting:TJe,addQaQuestion:AJe,addQaAnswer:xJe,removeQaComment:OJe,removeQaQuestion:IJe,dismissQaQuestion:RJe,reopenQaQuestion:kJe,voteQaQuestion:DJe,answerQaQuestionLive:MJe,updateAttendeeAnonymousQuestion:PJe,setQaEnabled:NJe,resetQa:kKe}=eh("SET_QA_SETTING","ADD_QA_QUESTION","ADD_QA_ANSWER","REMOVE_QA_COMMENT","REMOVE_QA_QUESTION","DISMISS_QA_QUESTION","REOPEN_QA_QUESTION","VOTE_QA_QUESTION","ANSWER_QA_QUESTION_LIVE","UPDATE_ATTENDEE_ANONYMOUS_QUESTION","SET_QA_ENABLED","RESET_QA"),{setChatPrivilege:U1e,setPanelistChatPrivilege:p4e,addChatMessageHistory:az,resetChat:m4e,setIsAllowAttendeeChat:g4e,setLatestChatMessageId:v4e,removeChatMessage:IJ,setFileChatSetting:y4e,addChatFileRecord:z1e,updateChatFileRecord:Hf,cancelSendFileChat:lz,addFailedChatFileTransfer:j1e,setChatFileMessageId:b4e,cancelDownloadFileChat:W1e}=eh("SET_CHAT_PRIVILEGE","SET_PANELIST_CHAT_PRIVILEGE","ADD_CHAT_MESSAGE_HISTORY","RESET_CHAT","SET_IS_ALLOW_ATTENDEE_CHAT","SET_LATEST_CHAT_MESSAGE_ID","REMOVE_CHAT_MESSAGE","SET_FILE_CHAT_SETTING","ADD_CHAT_FILE_RECORD","UPDATE_CHAT_FILE_RECORD","CANCEL_SEND_FILE_CHAT","ADD_FAILED_CHAT_FILE_TRANSFER","SET_CHAT_FILE_MESSAGE_ID","CANCEL_DOWNLOAD_FILE_CHAT"),{setProcessorCreateInfo:S4e,addProcessorInstance:C4e,removeProcessorInstance:E4e,resetProcessor:w4e}=eh("SET_PROCESSOR_CREATE_INFO","ADD_PROCESSOR_INSTANCE","REMOVE_PROCESSOR_INSTANCE","RESET_PROCESSOR"),{setCcEditorInfo:_4e,setTempSendCcText:LJe,setCcLtMessage:BJe,setTempReceiveLtText:FJe,setTempReceiveCcText:VJe,setGatewayInfoList:HJe,setLtEnable:$Je,setIsListenClosedCaption:UJe,setCcEnable:zJe,allowParticipantAskLt:jJe,receiveAskStartLt:WJe,setMeetingEnabledLtFeature:GJe,updateLtStatus:qJe,deleteMessage:KJe,updateMessage:ZJe,resetClosedCaption:DKe}=eh("SET_CC_EDITOR_INFO","SET_CC_LT_MESSAGE","SET_TEMP_SEND_CC_TEXT","SET_TEMP_RECEIVE_LT_TEXT","SET_TEMP_RECEIVE_CC_TEXT","SET_GATEWAY_INFO_LIST","SET_LT_ENABLE","SET_IS_LISTEN_CLOSED_CAPTION","SET_CC_ENABLE","ALLOW_PARTICIPANT_ASK_LT","RECEIVE_ASK_START_LT","SET_MEETING_ENABLED_LT_FEATURE","UPDATE_LT_STATUS","DELETE_MESSAGE","UPDATE_MESSAGE","RESET_CLOSED_CAPTION"),{addBreakoutRooms:T4e,setBreakoutRoomAllocationPattern:Bye,setBreakoutRoomSequenceId:kee,setMeetingElapsedTime:Fye,setStartRoomElapsedTime:A4e,setBreakoutRoomOptions:x4e,setBreakoutRoomControlStatus:O4e,setBreakoutRooms:A6,setCurrentBreakoutRoom:Dee,setBreakoutRoomAttendeeStatus:T2,setBreakoutRoomConfId:Vye,setBreakoutRoomToken:Hye,resetBreakoutRoom:I4e,setBreakoutRoomClosingRoomTime:$ye,setBreakoutRoomBroadcastMessage:R4e,setBreakoutRoomHostReplyType:G1e,setBreakoutRoomHostReplyRequestId:k4e,setMainSessionAttendeeList:D4e,setIsHugeBreakoutRoom:M4e,setBreakoutRoomPreAssignedRoomList:Uye,setBreakoutRoomUserRoleUpdated:zye,setBreakoutRoomMeetingOptions:P4e,setBreakoutRoomUserActivityStatus:N4e,setBreakoutRoomIsBroadcastVoice:Mee}=eh("ADD_BREAKOUT_ROOMS","SET_BREAKOUT_ROOM_ALLOCATION_PATTERN","SET_BREAKOUT_ROOM_SEQUENCE_ID","SET_MEETING_ELAPSED_TIME","SET_START_ROOM_ELAPSED_TIME","SET_BREAKOUT_ROOM_OPTIONS","SET_BREAKOUT_ROOM_CONTROL_STATUS","SET_BREAKOUT_ROOMS","SET_CURRENT_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_ATTENDEE_STATUS","SET_BREAKOUT_ROOM_CONF_ID","SET_BREAKOUT_ROOM_TOKEN","RESET_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_CLOSING_ROOM_TIME","SET_BREAKOUT_ROOM_BROADCAST_MESSAGE","SET_BREAKOUT_ROOM_HOST_REPLY_TYPE","SET_BREAKOUT_ROOM_HOST_REPLY_REQUEST_ID","SET_MAIN_SESSION_ATTENDEE_LIST","SET_IS_HUGE_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_PRE_ASSIGNED_ROOM_LIST","SET_BREAKOUT_ROOM_USER_ROLE_UPDATED","SET_BREAKOUT_ROOM_MEETING_OPTIONS","SET_BREAKOUT_ROOM_USER_ACTIVITY_STATUS","SET_BREAKOUT_ROOM_IS_BROADCAST_VOICE"),{setCloudRecordingStatus:L4e,setCloudRecordingEnable:B4e,setCloudIsoRecordingEnable:F4e,setAllowStopAutoRecording:V4e,setAutomaticCloudRecordingEnable:H4e,setIsZoomIQ:q1e,setZoomIQChanging:K1e,setLocalRecordStatus:Z1e,setSupportLocalRecording:jye,setLocalGrantPermissionOption:$4e,setLocalPermissionUserList:L3,resetRecording:U4e}=eh("SET_CLOUD_RECORDING_STATUS","SET_CLOUD_RECORDING_ENABLE","SET_CLOUD_ISO_RECORDING_ENABLE","SET_ALLOW_STOP_AUTO_RECORDING","SET_AUTOMATIC_CLOUD_RECORDING_ENABLE","SET_IS_ZOOM_I_Q","SET_ZOOM_I_Q_CHANGING","SET_LOCAL_RECORD_STATUS","SET_SUPPORT_LOCAL_RECORDING","SET_LOCAL_GRANT_PERMISSION_OPTION","SET_LOCAL_PERMISSION_USER_LIST","RESET_RECORDING"),{updateCmdJid:z4e,removeCmdJid:j4e,setCmdChannelConnectionStatus:W4e,resetCmdChannel:G4e}=eh("UPDATE_CMD_JID","REMOVE_CMD_JID","SET_CMD_CHANNEL_CONNECTION_STATUS","RESET_CMD_CHANNEL"),MKe="SET_ARCHIVING_STATUS",PKe="SET_ARCHIVING_SESSION_READY",NKe="SET_ARCHIVING_OPTIONS",LKe="RESET_ARCHIVING",{setArchivingStatus:YJe,setArchivingSessionReady:XJe,setArchivingOptions:JJe,resetArchiving:BKe}=eh({[MKe]:e=>e,[PKe]:e=>e,[NKe]:e=>e,[LKe]:()=>{}}),{setIsLiveTranscriptionEnabled:q4e,setLiveTranscriptionMeetingOptions:K4e,setIsLiveTranscriptionManualCaptionerEnabled:Wye,setLiveTranscriptionGatewayId:Z4e,setLiveTranscriptionSupportedLanguage:Y4e,setIsLiveTranscriptionSubscribed:Gye,setCurrentTranscriptionLang:bO,setCurrentTranslationLang:Pee,addLiveTranscriptionMessage:qye,updateLiveTranscriptionMessage:X4e,reduceLiveTranscriptionMessages:J4e,setLiveTranscriptionEngineType:Q4e,removeLiveTranscriptionFailoverState:eBe,setLiveTranscriptionLastCaptionMessage:tBe,resetLiveTranscription:nBe,setIsHostDisableCaptions:oBe,setIsSomeoneSetSessionTranscription:sBe,setIsSomeoneTranslating:rBe,setIsTranscriptionLanguageLocked:iBe,setIsExternalCaptionerCaptioning:aBe,setExternalCcUrl:lBe,setTranscriptionMode:cBe}=eh("SET_IS_LIVE_TRANSCRIPTION_ENABLED","SET_LIVE_TRANSCRIPTION_MEETING_OPTIONS","SET_IS_LIVE_TRANSCRIPTION_MANUAL_CAPTIONER_ENABLED","SET_LIVE_TRANSCRIPTION_GATEWAY_ID","SET_LIVE_TRANSCRIPTION_SUPPORTED_LANGUAGE","SET_IS_LIVE_TRANSCRIPTION_SUBSCRIBED","SET_CURRENT_TRANSCRIPTION_LANG","SET_CURRENT_TRANSLATION_LANG","ADD_LIVE_TRANSCRIPTION_MESSAGE","UPDATE_LIVE_TRANSCRIPTION_MESSAGE","REDUCE_LIVE_TRANSCRIPTION_MESSAGES","SET_LIVE_TRANSCRIPTION_ENGINE_TYPE","REMOVE_LIVE_TRANSCRIPTION_FAILOVER_STATE","SET_LIVE_TRANSCRIPTION_LAST_CAPTION_MESSAGE","RESET_LIVE_TRANSCRIPTION"," SET_IS_HOST_DISABLE_CAPTIONS","SET_IS_SOMEONE_SET_SESSION_TRANSCRIPTION","SET_IS_SOMEONE_TRANSLATING","SET_IS_TRANSCRIPTION_LANGUAGE_LOCKED","SET_IS_EXTERNAL_CAPTIONER_CAPTIONING","SET_EXTERNAL_CC_URL","SET_TRANSCRIPTION_MODE"),{setPollData:QJe,setPollingId:eQe,setPollingWebLinks:tQe,setPollingDocMaxSize:nQe,setPollingDocSize:oQe,setPollingDocLibraryMaxSize:sQe,setPollingDocLibrarySize:rQe,setIsRwgEnablePolling:iQe,setHasPollingInMeeting:aQe,resetPoll:FKe}=eh("SET_POLL_DATA","SET_POLLING_ID","SET_POLLING_WEB_LINKS","SET_POLLING_DOC_MAX_SIZE","SET_POLLING_DOC_SIZE","SET_POLLING_DOC_LIBRARY_MAX_SIZE","SET_POLLING_DOC_LIBRARY_SIZE","SET_IS_RWG_ENABLE_POLLING","SET_HAS_POLLING_IN_MEETING","RESET_POLL"),{setLoggerInitOptions:Y1e,setIsLaplaceInitialized:Nee,setIsLogDetailed:uBe,resetLogger:dBe}=eh("SET_LOGGER_INIT_OPTIONS","SET_IS_LAPLACE_INITIALIZED","SET_IS_LOG_DETAILED","RESET_LOGGER"),{setIsLiveStreamEnable:hBe,setLiveStreamStatus:Lee,setLiveStreamChannel:fBe,resetLiveStream:pBe}=eh("SET_IS_LIVE_STREAM_ENABLE","SET_LIVE_STREAM_STATUS","SET_LIVE_STREAM_CHANNEL","RESET_LIVE_STREAM"),{setBroadcastStreamingUtk:mBe,setBroadcastStreamingChannelId:cz,setBroadcastStreamingStatus:Kye,setBroadcastStreamingEnable:gBe,resetBroadcastStreaming:vBe}=eh("SET_BROADCAST_STREAMING_UTK","SET_BROADCAST_STREAMING_CHANNEL_ID","SET_BROADCAST_STREAMING_STATUS","SET_BROADCAST_STREAMING_ENABLE","RESET_BROADCAST_STREAMING"),WTe=(e,n,o,i,c,d,p)=>{const v={ts:i,auth:c,rwcToken:o,dmz:1,option:p};return d&&Object.assign(v,{confID:d}),`https://${e}/wc/ping/${n}?${new URLSearchParams(v).toString()}`},u3=(e,n=!1)=>{const{socket:{zoomSocketStatus:o,xmppSocketStatus:i,mainSessionSocketStatus:c},meeting:{meetingStatus:d}}=e,p=[];if(d===Th.Joined){var v;const S=zs.getInstance(),_=ta.createAgent();if(((v=Ss(e))===null||v===void 0?void 0:v.audio)===Qi.Computer&&S.leaveComputerAudio(),S.disconnect(),xve.watch(S.destroy()),e.video&&(e.video.subscribedVideoList.length>0&&e.video.subscribedVideoList.forEach((x=>{S.unsubscribeVideo(x)})),e.video.isCurrentUserStartedVideo&&dt(w3)),e.share&&e.share.isReceiveSharing){const x=e.share.activeNodeId;e.share.remoteControlledUserList.length>0&&e.share.remoteControlledUserList.forEach((P=>{_.sharingRequestRemoteControl(P,!1)})),_.unsubscribeSharing(x)}vg.destroyInstance()}if(n||(ni.clearSession(),[rl.WebclientTk,rl.WebclientZsk,rl.WebclientZtk,rl.WebclientRecordingToken].forEach((S=>{sessionStorage.removeItem(S)})),qf.destroy()),o!==Fa.Closed&&p.push(qb()),i!==Fa.Closed&&p.push(tye()),c!==Fa.Closed&&p.push(RLe()),n){const S=Ss(e);p.push(Yve({audio:S?.audio,muted:S?.muted,video:S?.bVideoOn,isFailover:n}))}else p.push(Yve({audio:!1,muted:void 0,video:!1,isFailover:n}));return p.push(DLe(),BLe(),HLe(),k3e(n),s4e(),aNe(n),kKe(),m4e(),w4e(),U4e(),DKe(),I4e(),G4e(),BKe(),nBe(n),FKe(),dBe(n),pBe(n),vBe(n),v1e(Th.Closed)),p},xX=(e,...n)=>Cr({event:NS,operations:[Do((o=>o.find((i=>i.userId===e.userId&&(!e.key||i[`${e.key}`]!==void 0))))),xn((o=>!!o)),Jr(1)]},...n),VKe={[`${dO.AudioDecodeInWorklet}`]:{mask:15,action:NLe},[`${dO.VideoHalfWebRTCEnable}`]:[{mask:null,action:bNe}],[`${dO.WebGL2Render}`]:{mask:15,action:SNe},[`${dO.WebGPURender}`]:{mask:15,action:CNe},[`${dO.ZMKFromRWG}`]:{mask:15,action:xLe}};function HKe(e){if(!e)return"";const n=e.match(/rid=(.*)/);return n?n[1]:""}const $Ke=["userId","displayName","audio","isHost","avatar","bRaiseHand","bHold","bVideoOn","sharerOn","sharerPause","feedback","bLocalRecord","strPronoun","sdkKey","audioConnectionStatus","caps","bAllowISORecord","bVideoConnect","userIdentity","isSpeakerOnly","bVideoShare","bShareAudioOn","bShareToBORooms","bid",{from:"bInFailover",to:"isInFailover"},{from:"userGUID",to:"userGuid"},{from:"bGuest",to:"isGuest"},{from:"sharerPause",to:"sharePause"},{from:"bCoHost",to:e=>({isCoHost:!!e})},{from:"muted",to:(e,n)=>({muted:n!=null&&n.isSpeakerOnly||n?.audio===""?void 0:e})},{from:"userType",to:(e,n)=>{const o=L2(e),i={isPhoneUser:o};return o&&n!=null&&n.phoneNumber&&Object.assign(i,{phoneNumber:n.phoneNumber}),i}}];function A2(e){return $Ke.reduce(((n,o)=>{const i=typeof o=="string"?o:o.from,c=(function(d,p,v){if(typeof d=="string")return{[`${d}`]:p};if(typeof d=="object"&&d.from!==void 0){const{to:S}=d;return typeof S=="string"?{[`${S}`]:p}:S(p,v)}})(o,e[i],e);return{...n,...c}}),{})}const X1e=({breakoutRoom:{mainSessionAttendeeList:e}})=>e,yBe=({meeting:{zoomId:e}})=>e,bBe=({breakoutRoom:{isHugeBO:e}})=>e,Tg=Ql([({breakoutRoom:{controlStatus:e}})=>e,({breakoutRoom:{currentRoom:{status:e}}})=>e,({breakoutRoom:{currentRoom:{boId:e}}})=>e],((e,n,o)=>!(e!==ci.InProgress&&e!==ci.Closing||n!==cr.InRoom&&n!==cr.TimeUp||!o))),Ame=Ql([({breakoutRoom:{rooms:e}})=>e,_T,yBe,X1e,Tg,bBe],((e,n,o,i,c,d)=>{const p=e.reduce(((v,S)=>{const{attendeeGuidList:_}=S;return v.concat(_)}),[]);return(c?i:n).filter((v=>!v.bHold&&!v.isHost&&v.zoomID!==o&&!v.bid&&!p.includes(v.userGUID)&&(!d||f3e(v.caps))))})),UKe=Ql([Tg,X1e,_T,yBe,bBe],((e,n,o,i,c)=>(e?n:o).filter((d=>!d.bHold&&!d.isHost&&d.zoomID!==i&&!d.bid&&(!c||f3e(d.caps)))))),Tk=Ql([Tg,X1e,_T],((e,n,o)=>e?n.find((i=>i.isHost)):o.find((i=>i.isHost))));var GTe,qTe,KTe,Yh;const Ak=ta.createAgent();let zKe=(GTe=hme(yO.Other),qTe=hme(yO.Other),KTe=hme(yO.Other),Yh=class extends VS{constructor(e){super(e),this.modules=void 0,this.useSDK=void 0,this.useSDK=!1,this.modules=new Map}initWithSDK(e,n,o){return this.useSDK=!0,this.init(e,n,o)}init(e,n,o){const{audio:i,video:c}=RDe();if(!i||!c)return console.error("https://developers.zoom.us/docs/video-sdk/web/browser-support"),Promise.reject({type:bn,errorCode:ht.CLIENT_PLATFORM_UNSUPPORTED,reason:"Please update to the latest Chrome, Edge, Safari, or Firefox, as your current browser doesn't support audio/video. Retry after the upgrade."});const{[Mc]:d,[dc]:p}=this;let v=zk,S="en-US",_=`${zk}/${jk}`;if(o){const{dependentAssets:x,additionalFeatures:P,constraints:B,language:H,webEndpoint:U}=o;H&&(S=H),U&&(function(z){gte=xDe(z,{hostname:!0})})(U),x===qpe.CDN||x===eJ?(v=eJ,_=`${eJ}/${jk}`):x===qpe.Global||x===zk?(v=zk,_=`${zk}/${jk}`):x===qpe.CN||x===tJ?(v=tJ,_=`${tJ}/${jk}`):x&&/^https?:\/\//.test(x)&&(v=wte(x),_=`${v}/${jk}`),P&&Array.isArray(P)&&P.forEach((z=>{if(this[CQ][z]&&p.getState()[z]===void 0){const{epic:Z,reducer:te,Client:ce}=this[CQ][z];p.injectReducer(z,te),p.injectEpic(Z);const se=new ce(p);this.modules.set(z,se)}})),B!=null&&B.audio&&p.getState().audio===void 0&&(p.injectReducer("audio",dKe),p.injectEpic(pKe)),B!=null&&B.video&&p.getState().video===void 0&&(p.injectReducer("video",vKe),p.injectEpic(CKe)),B!=null&&B.screen&&p.getState().share===void 0&&(p.injectReducer("share",AKe),p.injectEpic(RKe))}return d(dLe({apiKey:e,signature:n,language:S,useSDK:this.useSDK})),d(b1e({mediaConstraints:o&&o.constraints||{},assetsPath:v,enforceMultipleVideos:o?.enforceMultipleVideos,enforceVirtualBackground:o?.enforceVirtualBackground,skipJsMedia:o?.skipJsMedia,patchJsMedia:o?.patchJsMedia,alternativeNameForVideoPlayer:o?.alternativeNameForVideoPlayer})),o?.stayAwake!==void 0&&d(ELe(o.stayAwake)),o?.quicklyLeaveMeeting!==void 0&&d(TLe(o.quicklyLeaveMeeting)),o?.isUIToolkit!==void 0&&d(uLe(o.isUIToolkit)),o?.isLogDetailed!==void 0&&d(uBe(!!o.isLogDetailed)),new Promise(((x,P)=>{o!=null&&o.skipJsMedia?x(""):pte(_,(()=>{var B;(B=window.JsMediaSDK_Instance)!==null&&B!==void 0&&(B=B.util)!==null&&B!==void 0&&B.initAsyncJob?window.JsMediaSDK_Instance.util.initAsyncJob().then((()=>x(""))):x("")}),(()=>{P({type:ar,reason:"dependent assets are not accessible",errorCode:ht.CLIENT_DEPENDENT_ASSETS_INACCESSIBLE})}))}))}on(e,n){((o,i)=>{const c=_we[o];if(c){const d=Lk.get(o);if(d)d.push(i),Lk.set(o,d);else{const p=[i];Lk.set(o,p);const v=xd(...c.map((S=>{const{event:_,payload:x}=S;return Jd(v6,_).pipe(Do((P=>x(P))),Ju(yT))}))).subscribe((S=>{const _=Lk.get(o);_&&_.forEach((x=>{x(S)}))}));bve.push(v)}}})(e,n)}off(e,n){((o,i)=>{if(_we[o]){const c=Lk.get(o);if(Array.isArray(c)){const d=c.filter((p=>p!==i));Lk.set(o,d)}}})(e,n)}getFeatureModule(e){return this.modules.get(e)}leave(){const{[rs]:e,[Mc]:n}=this,{socket:{zoomSocketStatus:o},meeting:{meetingInfoTimestamp:i,zlkJwtToken:c}}=e();return o===Fa.Connected||o===Fa.Connecting?n(V2()):(i&&n(V2()),c||n(Zve())),hc(wu(500).pipe(M2("")))}end(){const{[rs]:e,[Mc]:n}=this;return e().socket.zoomSocketStatus==="connected"?(n(l4()),hc(wu(500).pipe(Yo((()=>{s1e()})),M2("")))):Promise.resolve("")}changeName(e,n){const o=this[dc].getState(),{meeting:{bAllowAttendeeRename:i}}=o,c=Ss(o),d=tf(c.userRole),p=Iv(o);if(d)return Promise.reject({type:Bp,errorCode:ht.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED});if(n&&n!==c?.userId){if(p){const{participants:{attendeesList:v}}=o,S=v.find((_=>_.userId===n));if(S)return Ak.rename(n,bu(e),bu(S.displayName)),xX({userId:n,key:"displayName"},(_=>_.displayName===e));{const _=Dz(o).find((x=>x.userId===n));if(_){const x=Z2.getInstance();return Ak.rename(_.userId,bu(e),bu(_.displayName)),x.rename(_.jid,e),Cr(uO,(P=>{const B=P.find((H=>H.jid===_.jid));return B&&B.displayName===e}))}return Promise.reject({type:ar,reason:"no matching user",errorCode:ht.CLIENT_MISMATCH_USER})}}return Promise.reject({type:Bp,errorCode:ht.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED})}return e===c.displayName?Promise.resolve():p||i?(Ak.rename(c.userId,bu(e),bu(c.displayName)),Cr(Mp,(v=>v.displayName===e))):Promise.reject({type:Bp,reason:"host disallow rename themselves",errorCode:ht.CLIENT_HOST_DISALLOW_RENAME})}makeHost(e){return Ak.assignHost(e,!1),xX({userId:e,key:"isHost"},(n=>n.isHost===!0))}makeCoHost(e){const n=this[dc].getState(),o=Va(n).find((i=>i.userId===e));return o?.bCoHost===!0?Promise.reject({type:ar,reason:`user:[${e}] is already co-host `,errorCode:ht.CLIENT_MISMATCH_USER}):(Ak.assignHost(e,!0),xX({userId:e,key:"bCoHost"},(i=>i.bCoHost===!0)))}revokeCoHost(e){const n=this[dc].getState(),o=Va(n).find((i=>i.userId===e));return o?.bCoHost===!1?Promise.reject({type:ar,reason:`user:[${e}] is not a co-host`,errorCode:ht.CLIENT_MISMATCH_USER}):(Ak.revokeCoHost(e),xX({userId:e,key:"bCoHost"},(i=>i.bCoHost===!1)))}reclaimHost(){const e=this[rs](),{meeting:{isOriginHost:n}}=e,o=Ss(e);return o!=null&&o.isHost?Promise.resolve(""):n?(Ak.reclaimHost(o.userId,!1),Cr(Mp,(i=>i.isHost===!0))):Promise.reject({type:Bp,reason:"Only orignial host can reclaim host",errorCode:ht.CLIENT_MISMATCH_USER})}isHost(){const e=this[dc].getState(),n=Ss(e);return!!n&&n.isHost}isCoHost(){const e=this[dc].getState(),n=Ss(e);return!!n&&!!n.bCoHost}isOriginHost(){const{meeting:{isOriginHost:e}}=this[rs]();return e}getCurrentUserInfo(){const e=this[dc].getState(),n=Ss(e);if(n){const o=A2(n);if(e.meeting.isWebinar&&tf(n.userRole)){const{audio:i}=e,c=i?.isAllowToTalk;Object.assign(o,{isAllowToTalk:c})}if(e.breakoutRoom&&Tg(e)){const{breakoutRoom:{currentRoom:{boId:i}}}=e;Object.assign(o,{bid:i})}return o}return null}getParticipantsList(){const e=this[dc].getState(),{meeting:{meetingStatus:n}}=e,o=Ss(e);if(n===Th.Joined&&o&&!o.bHold){var i;const c=e.breakoutRoom&&Tg(e)?(i=e.breakoutRoom)===null||i===void 0||(i=i.currentRoom)===null||i===void 0?void 0:i.boId:"";return Va(e).map((d=>{const p=A2(d);return c&&Object.assign(p,{bid:c}),p}))}return[]}getAssistantsList(){const e=this[dc].getState(),{meeting:{meetingStatus:n}}=e,o=Ss(e);return n===Th.Joined&&o?DWe(e).map((i=>({userId:i.userId,displayName:i.displayName,isNewAst:!0}))):[]}getMeetingHost(){var e;const n=this[rs]();let o=wve(n);return o||((e=n.breakoutRoom)===null||e===void 0?void 0:e.currentRoom.status)!==cr.InRoom||(o=n.breakoutRoom.mainSessionAttendeeList.find((i=>i.isHost))),o!==void 0?A2(o):null}getMeetingInfo(){const{meeting:{meetingStatus:e,isOnHold:n,meetingNumber:o,passWord:i,userName:c,userEmail:d,meetingTopic:p,meetingOptions:v,encType:S,region:_,network:x,topic:P,zlkJwtToken:B,userId:H,lang:U,inviteEmail:z,meetingId:Z,participantID:te,h323Password:ce,recordingDisclaimer:se,recordingDisclaimerForRecorder:Se,wrInfo:Ce,meetingInfo:Te,isNewJoinFlow:V,chatModerationPolicy:ke}}=this[rs](),et=e===Th.Joined&&!n;if(B)return{topic:P,password:i,userName:c,isInMeeting:et,userId:H,meetingId:Z};{let $e="";return S===0?$e="None":S===1?$e="AES ECB":S===2&&($e="AES GCM"),{meetingNumber:o,password:i,userName:c,userEmail:d,inviteEmail:z,meetingTopic:p,encryptionType:$e,region:_,network:x,isInMeeting:et,userId:H,lang:U,webEndpoint:U6(),meetingId:Z,participantId:te,telPwd:ce,recordingInfo:{recordingDisclaimer:se,recordingDisclaimerForRecorder:Se,isUserEnableRecordingReminder:v?.isUserEnableRecordingReminder},wrInfo:Object.assign({},Ce,{isNew:V}),scheduleInfo:Te,chatModerationPolicy:ke}}}},qn(Yh.prototype,"end",[Td,Xn],Object.getOwnPropertyDescriptor(Yh.prototype,"end"),Yh.prototype),qn(Yh.prototype,"changeName",[Xn],Object.getOwnPropertyDescriptor(Yh.prototype,"changeName"),Yh.prototype),qn(Yh.prototype,"makeHost",[GTe,Td,Xn],Object.getOwnPropertyDescriptor(Yh.prototype,"makeHost"),Yh.prototype),qn(Yh.prototype,"makeCoHost",[qTe,Td,Xn],Object.getOwnPropertyDescriptor(Yh.prototype,"makeCoHost"),Yh.prototype),qn(Yh.prototype,"revokeCoHost",[KTe,Td,Xn],Object.getOwnPropertyDescriptor(Yh.prototype,"revokeCoHost"),Yh.prototype),qn(Yh.prototype,"reclaimHost",[Xn],Object.getOwnPropertyDescriptor(Yh.prototype,"reclaimHost"),Yh.prototype),Yh);const jKe=ta.createAgent(),WKe=Z2.getInstance(),ZTe=(e,n,o)=>{const i=n?.userId;if(e==null||!e.zoomID||n==null||!n.displayName||i===e.userId)return{type:ar,reason:"invalid target user",errorCode:ht.CHAT_MISMATCH_USER};const{chat:{chatPrivilege:c,panelistChatPrivilege:d},meeting:{isWebinar:p}}=o,v=Iv(o),S=n.isHost||n.bCoHost;let _=!1;if(!v){if(p)if(tf(e.userRole))(c===Yc.NoAttendee||c===Yc.AllPanelist&&i!==Xl.Panelist||c===Yc.All&&i!==Xl.All&&i!==Xl.Panelist)&&(_=!0);else{const x=tf(n?.userRole);(d===H2.Invalid||d===H2.AllPanelist&&(x||i===Xl.All))&&(_=!0)}else(c===Yc.NoAttendee||c===Yc.Host&&!S||i===Xl.SilentModeUsers||c===Yc.EveryonePublicly&&i!==Xl.All&&!S)&&(_=!0);if(_)return{type:Bp,reason:"Insufficient chat privilege",errorCode:ht.CHAT_INSUFFICIENT_PRIVILEGE}}return null};function YTe(e,n){if(n===Xl.All)return J5;if(n===Xl.Panelist)return c3;if(n===Xl.SilentModeUsers)return rKe;{const{meeting:{isWebinar:o},participants:{xmppAttendeeList:i,attendeesList:c}}=e;return o?c.find((d=>d.userId===n))||i.find((d=>d.userId===n)):c.find((d=>d.userId===n))}}function M5(e,n,o){if(o!=null&&o.host)return[wve(e),...Rwe(e)].filter((i=>i?.userId!==n)).map((i=>({userId:i?.userId,displayName:i?.displayName,isHost:i?.isHost,isCoHost:i?.bCoHost})));{let i=[wve(e),...Rwe(e),...e.participants.attendeesList.filter((c=>!(c.bCoHost||c.isHost||c.bHold)))];if(o!=null&&o.includeAttendee){const c=Dz(e).filter((d=>!L2(d.userType)));i=[...i,...c]}return i.filter((c=>c!==void 0&&c.userId!==n)).map((c=>({userId:c?.userId,displayName:c?.displayName,isHost:c?.isHost,isCoHost:c?.bCoHost})))}}function d3(e,n){const{chat:{chatHistory:o}}=n;return o.find((i=>{var c;return((c=i.file)===null||c===void 0||(c=c.upload)===null||c===void 0?void 0:c.uniqueId)===e}))}function SBe(e,n){const{meeting:{isWebinar:o},participants:{attendeesList:i}}=n,{destNodeID:c,senderName:d,attendeeNodeID:p}=e,v=i.find((B=>B.userId===c)),S=e.sn?e.sn:v?.zoomID,_=d?s1(d):v?.displayName;let x,P="";if(p===Xl.SilentModeUsers)return{sender:{name:"Host",userId:c},receiver:{name:"Everyone (in Waiting Room)",userId:p},timestamp:new Date().getTime()};if(p===Xl.All)P=o?"All panelists and attendees":"Everyone";else if(p===Xl.Panelist)P="All panelists";else{if(o){const B=Dz(n).find((H=>H.userId===p));B&&(P=B.displayName)}if(!P){const B=i.find((H=>H.userId===p));B&&(P=B.displayName,x=B.userGUID)}}return{sn:S,sender:{name:_,userId:c,userGuid:v?.userGUID,avatar:v?.avatar},receiver:{name:P,userId:p,userGuid:x},timestamp:new Date().getTime()}}function GKe(e){var n;const[o]=e.split(".").reverse();return(n=aKe[o])!==null&&n!==void 0?n:""}function CBe(e,n){const o=[];for(let i=e.length-1;i>=0;i--){const c=e[i];if(!c.file&&(!c.id&&c.sender.userId===n.userId&&[Xl.All,Xl.Panelist,Xl.IndividualCcPanelist,n.destNodeID].includes(c.receiver.userId)&&o.unshift(c),c.id))break}return o.length>0?o[0]:null}function EBe(e){switch(e.responseType){case"json":if("response"in e)return e.response;var n=e;return JSON.parse(n.responseText);case"document":return e.responseXML;default:return"response"in e?e.response:(n=e).responseText}}var qKe=function(e,n,o,i){i===void 0&&(i="download_load"),this.originalEvent=e,this.xhr=n,this.request=o,this.type=i;var c=n.status,d=n.responseType;this.status=c??0,this.responseType=d??"";var p=n.getAllResponseHeaders();this.responseHeaders=p?p.split(`
`).reduce((function(_,x){var P=x.indexOf(": ");return _[x.slice(0,P)]=x.slice(P+2),_}),{}):{},this.response=EBe(n);var v=e.loaded,S=e.total;this.loaded=v,this.total=S},Bee=Oz((function(e){return function(n,o,i){var c;this.message=n,this.name="AjaxError",this.xhr=o,this.request=i,this.status=o.status,this.responseType=o.responseType;try{c=EBe(o)}catch{c=o.responseText}this.response=c}})),KKe=(function(){function e(n,o){return Bee.call(this,"ajax timeout",n,o),this.name="AjaxTimeoutError",this}return e.prototype=Object.create(Bee.prototype),e})(),ZKe=Do((function(e){return e.response})),Wx,Ov=(Wx=function(e){return(function(n){return new Su((function(o){var i,c,d,p=h6({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},n),v=p.queryParams,S=p.body,_=p.headers,x=p.url;if(!x)throw new TypeError("url is required");if(v)if(x.includes("?")){var P=x.split("?");if(2<P.length)throw new TypeError("invalid url");d=new URLSearchParams(P[1]),new URLSearchParams(v).forEach((function(it,Ht){return d.set(Ht,it)})),x=P[0]+"?"+d}else x=x+"?"+(d=new URLSearchParams(v));var B={};if(_)for(var H in _)_.hasOwnProperty(H)&&(B[H.toLowerCase()]=_[H]);var U=p.crossDomain;U||"x-requested-with"in B||(B["x-requested-with"]="XMLHttpRequest");var z=p.withCredentials,Z=p.xsrfCookieName,te=p.xsrfHeaderName;if((z||!U)&&Z&&te){var ce=(c=(i=document?.cookie.match(new RegExp("(^|;\\s*)("+Z+")=([^;]*)")))===null||i===void 0?void 0:i.pop())!==null&&c!==void 0?c:"";ce&&(B[te]=ce)}var se,Se=(function(it,Ht){var Ut;if(!it||typeof it=="string"||(function(Xe){return typeof FormData<"u"&&Xe instanceof FormData})(it)||(function(Xe){return typeof URLSearchParams<"u"&&Xe instanceof URLSearchParams})(it)||(function(Xe){return Ime(Xe,"ArrayBuffer")})(it)||(function(Xe){return Ime(Xe,"File")})(it)||(function(Xe){return Ime(Xe,"Blob")})(it)||(function(Xe){return typeof ReadableStream<"u"&&Xe instanceof ReadableStream})(it))return it;if((function(Xe){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(Xe)})(it))return it.buffer;if(typeof it=="object")return Ht["content-type"]=(Ut=Ht["content-type"])!==null&&Ut!==void 0?Ut:"application/json;charset=utf-8",JSON.stringify(it);throw new TypeError("Unknown body type")})(S,B),Ce=h6(h6({},p),{url:x,headers:B,body:Se});se=n.createXHR?n.createXHR():new XMLHttpRequest;var Te=n.progressSubscriber,V=n.includeDownloadProgress,ke=V!==void 0&&V,et=n.includeUploadProgress,$e=et!==void 0&&et,Re=function(it,Ht){se.addEventListener(it,(function(){var Ut,Xe=Ht();(Ut=Te?.error)===null||Ut===void 0||Ut.call(Te,Xe),o.error(Xe)}))};Re("timeout",(function(){return new KKe(se,Ce)})),Re("abort",(function(){return new Bee("aborted",se,Ce)}));var _e=function(it,Ht){return new qKe(Ht,se,Ce,it+"_"+Ht.type)},ut=function(it,Ht,Ut){it.addEventListener(Ht,(function(Xe){o.next(_e(Ut,Xe))}))};$e&&[xme,Ome,JTe].forEach((function(it){return ut(se.upload,it,YKe)})),Te&&[xme,Ome].forEach((function(it){return se.upload.addEventListener(it,(function(Ht){var Ut;return(Ut=Te?.next)===null||Ut===void 0?void 0:Ut.call(Te,Ht)}))})),ke&&[xme,Ome].forEach((function(it){return ut(se,it,XTe)}));var ct=function(it){var Ht="ajax error"+(it?" "+it:"");o.error(new Bee(Ht,se,Ce))};se.addEventListener("error",(function(it){var Ht;(Ht=Te?.error)===null||Ht===void 0||Ht.call(Te,it),ct()})),se.addEventListener(JTe,(function(it){var Ht,Ut,Xe=se.status;if(Xe<400){(Ht=Te?.complete)===null||Ht===void 0||Ht.call(Te);var tn=void 0;try{tn=_e(XTe,it)}catch(eo){return void o.error(eo)}o.next(tn),o.complete()}else(Ut=Te?.error)===null||Ut===void 0||Ut.call(Te,it),ct(Xe)}));var St=Ce.user,ee=Ce.method,ln=Ce.async;for(var H in St?se.open(ee,x,ln,St,Ce.password):se.open(ee,x,ln),ln&&(se.timeout=Ce.timeout,se.responseType=Ce.responseType),"withCredentials"in se&&(se.withCredentials=Ce.withCredentials),B)B.hasOwnProperty(H)&&se.setRequestHeader(H,B[H]);return Se?se.send(Se):se.send(),function(){se&&se.readyState!==4&&se.abort()}}))})(typeof e=="string"?{url:e}:e)},Wx.get=function(e,n){return Ov({method:"GET",url:e,headers:n})},Wx.post=function(e,n,o){return Ov({method:"POST",url:e,body:n,headers:o})},Wx.delete=function(e,n){return Ov({method:"DELETE",url:e,headers:n})},Wx.put=function(e,n,o){return Ov({method:"PUT",url:e,body:n,headers:o})},Wx.patch=function(e,n,o){return Ov({method:"PATCH",url:e,body:n,headers:o})},Wx.getJSON=function(e,n){return ZKe(Ov({method:"GET",url:e,headers:n}))},Wx),YKe="upload",XTe="download",xme="loadstart",Ome="progress",JTe="load",XKe=Object.prototype.toString;function Ime(e,n){return XKe.call(e)==="[object "+n+"]"}const wBe=Kf.getInstance(),_Be=wBe.makeLogger(["File Transfer"]);function TBe(e,n,o){const{name:i,size:c}=e,{meeting:{reportDomain:d,svcUrl:p,conId:v}}=o;return`https://${d}${n}?${new URLSearchParams({filename:i,filesize:c,rwg:p,cid:v}).toString()}`}function ABe(e,n){return n.fileObj?`${e}/zoomfile/download?objkey=${n.fileObj}&business=meeting`:`${e}/file/${n.fileID}?business=meeting`}function p4(e,n){return{fileName:e.name,fileSize:e.size,receiverId:n?.userId,receiverGuid:n?.userGuid}}function lO(e,n,o){wBe.report(`${e}. file name:${zf(n.name)},file size:${n.size}, ${"type"in n?`file type:${n.type}`:""}, error:${o.name};${o.message}`,["File Transfer"])}function Rme(e){var n,o,i;return{id:e.id,fileName:(n=e.file)===null||n===void 0?void 0:n.name,fileSize:(o=e.file)===null||o===void 0?void 0:o.size,fileUrl:(i=e.file)===null||i===void 0?void 0:i.fileUrl,senderId:e.sender.userId,senderGuid:e.sender.userGuid}}function xBe(e,n,o){return new Promise(((i,c)=>{const d=new FileReader;d.readAsArrayBuffer(e.slice(n,o)),d.onload=p=>{var v;return i((v=p.target)===null||v===void 0?void 0:v.result)},d.onerror=p=>c(p)}))}async function OBe(e,n){let[o,i]=[e.size,0];n!=null&&(o=Math.min(Ip.ChunkSize,e.size-n),i=n);const c=e.size-i<=Ip.ChunkSize,d=Math.ceil(o/Ip.EncodeBlockSize);try{const p=await Promise.all(Array.from({length:c?Math.max(d-1,1):d},((v,S)=>({start:S*Ip.EncodeBlockSize+i,end:(c&&S===d-2?S+2:S+1)*Ip.EncodeBlockSize+i}))).map((async({start:v,end:S})=>{try{const _=await xBe(e,v,S);return _?await qf.beginEncrypt({text:new Uint8Array(_),type:Gf.CHAT_FILE}):Promise.reject(null)}catch(_){return lO(`encrypt file buffer error. offset:${n},`,e,_),Promise.reject(_)}})));return(function(v){const S=v.reduce(((P,B)=>P+B.byteLength),0),_=new Uint8Array(S);let x=0;for(const P of v)_.set(new Uint8Array(P),x),x+=P.byteLength;return _})(p)}catch(p){console.warn(p)}return null}function RJ(e,n,o,i){return i.pipe(Qo(`${lz}`,`${qb}`),xn((c=>{if(c.type===`${qb}`)return!0;const{payload:{uniqueId:d,fileName:p,userId:v}}=c;return n===d&&e.name===p&&o.userId===v})),Jr(1),Yo((c=>{_Be.info(`Cancel file upload. file name:${zf(e.name)},file size:${e.size},receiver id:${o.userId}`),dt(P2,{...p4(e,o),progress:0,status:wh.Cancel,retryToken:c.type===`${lz}`?n:void 0})})))}function kJ(e,n){if(e!=null&&e.file){const{file:o,receiver:i}=e,{upload:{chunkIndex:c,totalChunks:d,uniqueId:p}}=o;return dt(P2,{...p4(n,i),progress:Math.floor((c??0)/(d??1)*100),status:wh.Fail,retryToken:p}),lo([Hf({upload:{status:wh.Fail,progress:0,uniqueId:p}}),j1e({uniqueId:p,file:n})])}return Po}function DJ(e,n){return dt(P2,{...p4(e),progress:0,status:wh.Fail}),qa(Hf({upload:{status:wh.Fail,progress:0,uniqueId:n}}))}async function QTe(e,n,o,i){const c=TBe(e,"/wc/fileupload",i.value),d=new FormData;try{const p=await OBe(e),v=d3(n,i.value);if(p&&v){d.append("file",new File([p],e.name));const{meeting:{zmk:S}}=i.value,{receiver:_}=v;return Ov({url:c,method:"POST",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:S},crossDomain:My(c),body:d,includeUploadProgress:!0}).pipe(_h(RJ(e,n,_,o)),pn((x=>{const{type:P,loaded:B,responseHeaders:H,total:U}=x;let z=0,Z=wh.InProgress;const te={upload:{uniqueId:n}},ce=[];if(P==="upload_loadstart")z=0;else if(P==="upload_progress")z=Math.floor(B/U*100*.9);else if(P==="upload_load")z=90;else if(P==="download_load"){var se,Se;z=100,Z=wh.Success;const{chat:{fileServerDomain:Ce}}=i.value,Te=(se=H["zoom-file-id"])===null||se===void 0?void 0:se.trim(),V=(Se=H["zoom-file-obj"])===null||Se===void 0?void 0:Se.trim(),ke=ABe(Ce,{fileObj:V});Object.assign(te,{fileID:Te,fileObj:V,fileUrl:ke})}return Object.assign(te.upload,{progress:z,status:Z}),(z>0||P==="upload_loadstart")&&(dt(P2,{...p4(e,_),progress:z,status:Z}),ce.push(Hf(te))),lo(ce)})),Cm((x=>(console.warn(x),lO("Upload small file error.",e,x),kJ(v,e)))))}}catch(p){console.warn(p)}return DJ(e,n)}const JKe=(()=>{const e=new PPe;return n=>async(...o)=>{await e.acquire(),n(...o),setTimeout((()=>{e.release()}),3e3)}})(),QKe=(function(e){const n=["chatFileTransfer"];return new Proxy(e,{get:(o,i)=>typeof i=="string"&&n.includes(i)?function(...c){return JKe(o[i].bind(o))(...c)}:Reflect.get(o,i)})})(ta.createAgent()),eAe={chatHistory:[],chatPrivilege:Yc.All,panelistChatPrivilege:H2.AllPanelist,isAllowAttendeeChat:!0,isFileTransferEnable:!0,isEnableFileTransferEncrypted:!0,fileTransferFileType:[],fileDownloadPromptIgnoreList:[],fileTransferSizeLimit:0,fileServerDomain:"",failedFileTransfer:{}},eZe=wm({[`${az}`]:bt(((e,{payload:n})=>{e.chatHistory.push(n)})),[`${U1e}`]:bt(((e,{payload:n})=>{e.chatPrivilege=n})),[`${p4e}`]:bt(((e,{payload:n})=>{e.panelistChatPrivilege=n})),[`${g4e}`]:bt(((e,{payload:n})=>{e.isAllowAttendeeChat=n})),[`${v4e}`]:bt(((e,{payload:n})=>{const{destNodeID:o,msgID:i,userId:c}=n,d=CBe(e.chatHistory,{userId:c,destNodeID:o});d&&Object.assign(d,{id:i})})),[`${IJ}`]:bt(((e,{payload:n})=>{const{msgId:o}=n,i=e.chatHistory.findIndex((c=>c.id===o));i>=0&&e.chatHistory.splice(i,1)})),[`${y4e}`]:bt(((e,{payload:n})=>{Object.assign(e,n)})),[`${z1e}`]:bt(((e,{payload:n})=>{const{originFile:o,...i}=n;e.chatHistory.push(i)})),[`${Hf}`]:bt(((e,{payload:n})=>{const{upload:o,download:i,originFile:c,...d}=n;if(o){var p;const{uniqueId:v,...S}=o,_=e.chatHistory.find((x=>{var P;return x.file&&((P=x.file.upload)===null||P===void 0?void 0:P.uniqueId)===v}));_!=null&&(p=_.file)!==null&&p!==void 0&&p.upload&&(Object.assign(_.file.upload,{...S}),Object.assign(_.file,{...d}),_.file.upload.status===wh.Success&&e.failedFileTransfer[_.file.upload.uniqueId]&&delete e.failedFileTransfer[_.file.upload.uniqueId])}else if(i){const{id:v,fileUrl:S}=d,_=e.chatHistory.find((x=>{var P;return x.id===v&&((P=x.file)===null||P===void 0?void 0:P.fileUrl)===S}));_!=null&&_.file&&(_.file.download?Object.assign(_.file.download,{...i}):Object.assign(_.file,{download:i}))}})),[`${lz}`]:bt(((e,{payload:n})=>{const{uniqueId:o,fileName:i,userId:c}=n,d=e.chatHistory.find((v=>v.file&&v.file.name==i&&v.file.upload.uniqueId===o&&v.file.upload.status===wh.InProgress&&v.receiver.userId===c));var p;d!=null&&d.file&&Object.assign((p=d.file)===null||p===void 0?void 0:p.upload,{status:wh.Cancel,progress:0})})),[`${j1e}`]:bt(((e,{payload:n})=>{const{uniqueId:o,file:i}=n;e.failedFileTransfer[`${o}`]||Object.assign(e.failedFileTransfer,{[`${o}`]:i})})),[`${b4e}`]:bt(((e,{payload:n})=>{const{fileID:o,msgID:i,senderId:c}=n,d=e.chatHistory.find((p=>{var v;return((v=p.file)===null||v===void 0?void 0:v.fileID)===o&&p.sender.userId===c}));d&&Object.assign(d,{id:i})})),[`${W1e}`]:bt(((e,{payload:n})=>{const{id:o,fileUrl:i}=n,c=e.chatHistory.find((p=>{var v,S;return p.id===o&&((v=p.file)===null||v===void 0?void 0:v.fileUrl)===i&&((S=p.file)===null||S===void 0?void 0:S.download.status)===K_.InProgress}));var d;c!=null&&c.file&&Object.assign((d=c.file)===null||d===void 0?void 0:d.download,{status:K_.Cancel,progress:0})})),[`${m4e}`]:()=>({...eAe})},eAe);var Cd;const P5=ta.createAgent();let tZe=(Cd=class extends VS{async send(e,n){if(!e)return Promise.reject({type:ar,reason:"Text is empty",errorCode:ht.CHAT_EMPTY_MESSAGE});const{[rs]:o,[Mc]:i}=this,c=o(),d=Ss(c),p=YTe(c,n),v=ZTe(d,p,c);if(v)return Promise.reject(v);const{meeting:{isWebinar:S,encType:_}}=c,x=_===Lz.AES_GCM;let P=!1;const B=S&&tf(p.userRole);if(n===Xl.SilentModeUsers)P5.chat(bu(e),n);else{let U,z=0;S?B?8&~p.clientCap?(z=Xl.Panelist,U=n,P=!0):(z=Xl.IndividualCcPanelist,U=n):p&&(z=p.userId):z=p.userId,await(async function(Z){const{text:te,destId:ce,sn:se,attendeeId:Se}=Z;{const Ce=await qf.beginEncrypt({text:te,type:Gf.RWG_CHAT});jKe.chat(Ce,ce,se,Se)}})({text:e,destId:z,sn:d?.zoomID,attendeeId:U}),P&&await(function(Z){const{text:te,jid:ce,isGCMEnabled:se}=Z;return qf.beginEncrypt({text:te,type:Gf.XMPP_CHAT}).then((Se=>{WKe.sendWebinarMseeage(Se,ce,Xl.IndividualCcPanelist,se)}))})({text:e,jid:p.jid,isGCMEnabled:x})}const H=(function(U,z,Z,te){const ce=new Date().getTime(),se=performance.now();return{message:U,sender:{name:z.displayName,userId:z.userId,userGuid:z.userGUID,avatar:z.avatar},receiver:{name:Z?.displayName,userId:te?Xl.IndividualCcPanelist:Z?.userId,userGuid:Z?.userGUID},timestamp:ce,highResTimeStampForIdentification:se}})(e,d,p,B);if(i(az(H)),P)return dt(y2,H),H;try{const U=await hc(Aa(iMe).pipe(H0e(5e3),tMe((se=>H.highResTimeStampForIdentification!==se.identification||!([se.receiverId,Xl.All,Xl.Panelist].includes(n)||se.receiverId===Xl.IndividualCcPanelist))),Jr(1))),{msgId:z}=U,{highResTimeStampForIdentification:Z,...te}=H,ce={id:z,...te,...B&&{receiver:{name:p?.displayName,userId:p?.userId}}};return dt(y2,ce),ce}catch{return Promise.reject({type:yte,errorCode:ht.OPERATION_TIMEOUT})}}setPrivilege(e){const n=this[rs](),{meeting:{isWebinar:o},chat:{chatPrivilege:i},breakoutRoom:c}=n;return i===e?Promise.resolve(""):c?.controlStatus===ci.InProgress&&Tg(n)?Promise.reject({type:bn,reason:"Cannot update chat privilege in a subsession",errorCode:ht.CHAT_SUBSESSION_CONFLICT}):!o&&!nKe.includes(e)||o&&!oKe.includes(e)?Promise.reject({type:ar,reason:"invalid privilege value of parameter",errorCode:ht.CHAT_INVALID_PRIVILEGE}):(P5.setChatPriviledge(e),Cr(E3,(d=>d.chatPrivilege===e)))}setPanelistPrivilege(e){const n=this[rs](),{chat:{panelistChatPrivilege:o}}=n,i=sKe[e];return o===i?Promise.resolve(""):Object.values(Cee).includes(e)?(P5.setPanelistChatPrivilege(e),Cr(E3,(c=>c.panelistChatPrivilege===i))):Promise.reject({type:ar,reason:"Panelist privilege value is invalid",errorCode:ht.CHAT_INVALID_PRIVILEGE})}deleteMessage(e){const n=this[rs](),{chat:{chatHistory:o},meeting:{meetingOptions:i,userId:c}}=n;if(i!=null&&i.isEnableDeleteChatMsg){const d=Iv(n),p=o.find((v=>v.id===e));if(p){const{sender:v}=p;if(d)P5.chatCmdReq(e,See.Delete);else{if(v.userId!==c)return Promise.reject({type:Bp,reason:"can not delete message",errorCode:ht.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED});P5.chatCmdReq(e,See.Delete)}return Cr(OQ,(S=>S.id===e)).then((()=>({id:e})))}return Promise.reject({type:ar,reason:"msgId is wrong",errorCode:ht.CHAT_INVALID_MSG_ID_OR_URL})}return Promise.reject({type:bn,reason:"can not delete messages",errorCode:ht.CHAT_DELETE_ACCOUNT_DISABLE})}lockChat(e){const n=this[rs](),{meeting:{meetingOptions:o}}=n,i=o!=null&&o.isPrivateChatEnabled?Yc.All:Yc.EveryonePublicly;return this.setPrivilege(e?Yc.NoOne:i)}sendFile(e,n){if(!e)return Promise.reject({type:ar,reason:"File is empty",errorCode:ht.CHAT_EMPTY_FILE});const{[rs]:o,[Mc]:i}=this,c=o(),{chat:{isFileTransferEnable:d,fileTransferFileType:p,fileTransferSizeLimit:v,failedFileTransfer:S}}=c;if(!d)return Promise.reject({type:bn,reason:"Send files via in-session chat is not enabled",errorCode:ht.CHAT_FILE_ACCOUNT_DISABLE});if(typeof e=="string"){const _=d3(e,c);if(_!=null&&_.file&&S[e]){const{file:{upload:x,...P}}=_,{file:{name:B,upload:{uniqueId:H}},receiver:{userId:U}}=_;return i(Hf({originFile:S[e],...P,upload:{...x,status:wh.InProgress}})),Promise.resolve((()=>{i(lz({uniqueId:H,fileName:B,userId:U}))}))}return Promise.reject({type:ar,reason:"Retry token is not correct.",errorCode:ht.CHAT_INVALID_RETRY_TOKEN})}{const{name:_}=e;if(p.length>0){const[U]=_.split(".").reverse();if(!p.some((z=>z===U)))return Promise.reject({type:bn,reason:"File is not in the allow list",errorCode:ht.CHAT_MISMATCH_FILE_TYPE})}if(e.size>v)return Promise.reject({type:bn,reason:"File size exceeds the maximum limit.",errorCode:ht.CHAT_EXCEED_FILE_SIZE});const x=Ss(c),P=YTe(c,n),B=ZTe(x,P,c);if(B)return Promise.reject(B);const H=zQ();return i(z1e((function(U,z,Z,te){const ce=new Date().getTime();return{file:{name:U.name,size:U.size,type:U.type,upload:{progress:0,uniqueId:z,totalChunks:0,chunkIndex:0}},originFile:U,sender:{name:Z.displayName,userId:Z.userId,userGuid:Z.userGUID,avatar:Z.avatar},receiver:{name:te?.displayName,userId:te?.userId,attendeeId:void 0,userGuid:te?.userGUID},timestamp:ce}})(e,H,x,P))),Promise.resolve((()=>{i(j1e({uniqueId:H,file:e})),i(lz({uniqueId:H,fileName:_,userId:P?.userId}))}))}}downloadFile(e,n,o){const{[rs]:i,[Mc]:c}=this,{chat:{chatHistory:d}}=i();return!e||!n?Promise.reject({type:ar,reason:"Invalid message id or file url!",errorCode:ht.CHAT_INVALID_MSG_ID_OR_URL}):d.find((v=>{var S;return v.id===e&&((S=v.file)===null||S===void 0?void 0:S.fileUrl)===n}))?(c(Hf({id:e,fileUrl:n,download:{status:K_.InProgress,progress:0,blob:o}})),Promise.resolve((()=>c(W1e({id:e,fileUrl:n}))))):Promise.reject({type:ar,reason:"Invalid message id or file url!",errorCode:ht.CHAT_INVALID_MSG_ID_OR_URL})}getPrivilege(){const{chat:{chatPrivilege:e,isAllowAttendeeChat:n}}=this[rs]();return n?e:Yc.NoAttendee}getReceivers(){const e=this[rs](),{chat:{chatPrivilege:n,panelistChatPrivilege:o,isAllowAttendeeChat:i},meeting:{isWebinar:c}}=e;if(!c&&!i)return[];const d=Ss(e),p=Iv(e);if(d)if(c)if(tf(d.userRole)){if(!i)return[];if(n===Yc.All)return[c3,J5];if(n===Yc.AllPanelist)return[c3];if(n===Yc.NoOne)return[]}else{if(p||o===H2.Everyone){const v=M5(e,d.userId,{includeAttendee:!0});return[c3,J5,...v]}if(o===H2.AllPanelist){const v=M5(e,d.userId);return[c3,...v]}}else{const v=Iv(e);if(n===Yc.All||v){const S=M5(e,d.userId);return[J5,...S]}if(n===Yc.Host)return M5(e,d.userId,{host:!0});if(n===Yc.EveryonePublicly){const S=M5(e,d.userId,{host:!0});return[J5,...S]}if(n===Yc.NoOne)return[]}return[]}getHistory(){return this[rs]().chat.chatHistory.map((e=>{const{highResTimeStampForIdentification:n,...o}=e;if(o.file){const{name:i,size:c,type:d,fileUrl:p,upload:v,download:S}=o.file,_={name:i,size:c,type:d,fileUrl:p};return v&&Object.assign(_,{upload:{status:v.status,progress:v.progress}}),S&&Object.assign(_,{download:{status:S.status,progress:S.progress}}),{...o,file:_}}return o}))}isAllowToDeleteMessages(){const e=this[rs](),{meeting:{meetingOptions:n}}=e;return n?.isEnableDeleteChatMsg}isFileTransferEnabled(){return this[rs]().chat.isFileTransferEnable}getFileTransferSetting(){const e=this[rs](),{chat:{fileTransferFileType:n,fileTransferSizeLimit:o}}=e;return{typeLimit:(n??[]).map((i=>`.${i}`)).join(","),sizeLimit:o}}},qn(Cd.prototype,"send",[Xn],Object.getOwnPropertyDescriptor(Cd.prototype,"send"),Cd.prototype),qn(Cd.prototype,"setPrivilege",[yu,Xn],Object.getOwnPropertyDescriptor(Cd.prototype,"setPrivilege"),Cd.prototype),qn(Cd.prototype,"setPanelistPrivilege",[yu,Xn,function(e,n,o){const i=o.value;o.value=function(...c){const d=this[dc];if(d){const{meeting:{isWebinar:p}}=d.getState();if(!p)return Promise.reject({type:oJ,reason:"non-webinar",errorCode:ht.CLIENT_SESSION_NOT_WEBINAR})}return i.apply(this,c)}}],Object.getOwnPropertyDescriptor(Cd.prototype,"setPanelistPrivilege"),Cd.prototype),qn(Cd.prototype,"deleteMessage",[Xn],Object.getOwnPropertyDescriptor(Cd.prototype,"deleteMessage"),Cd.prototype),qn(Cd.prototype,"lockChat",[yu,Xn],Object.getOwnPropertyDescriptor(Cd.prototype,"lockChat"),Cd.prototype),qn(Cd.prototype,"sendFile",[Xn],Object.getOwnPropertyDescriptor(Cd.prototype,"sendFile"),Cd.prototype),qn(Cd.prototype,"downloadFile",[Xn],Object.getOwnPropertyDescriptor(Cd.prototype,"downloadFile"),Cd.prototype),Cd);const nZe={epics0:(e,n)=>R3(e,24583).pipe(us(n),pn((([o,i])=>{if(i.meeting.zlkJwtToken)return Po;const{payload:{body:{sn:c,senderName:d,senderJid:p,receiver:v,text:S,type:_}}}=o,x=Ss(i),P=Dz(i),{meeting:{jid:B,userId:H},participants:{xmppAttendeeList:U}}=i;return qf.beginDecrypt({decryptedText:S,type:Gf.XMPP_CHAT,zoomId:c}).then((({message:z})=>{var Z;let te=null,ce=0,se="";x&&tf(x.userRole)&&B===v?(te=U.find((Ce=>Ce.jid===p)),ce=H,se=x.displayName):_===Xl.Panelist&&(te=P.find((Ce=>Ce.jid===p)),ce=Xl.Panelist,se=c3.displayName);const Se={message:z,sender:{name:d,userId:((Z=te)===null||Z===void 0?void 0:Z.userId)||0,avatar:""},receiver:{name:se,userId:ce},timestamp:new Date().getTime()};return dt(y2,Se),az(Se)}))}))),epics1:(e,n)=>Uo(e,7944).pipe(us(n),pn((([o,i])=>{const{meeting:{bIbDisableChat:c}}=i,{payload:{body:{attendeeNodeID:d,sn:p,destNodeID:v,text:S,senderName:_,msgID:x}}}=o,P=Ss(i);if(P){const B=tf(P?.userRole)&&d===P.userId&&!x;if(!c&&!B){const{sn:H,...U}=SBe({destNodeID:v,attendeeNodeID:d,senderName:_,sn:p},i);return(d===Xl.SilentModeUsers?Promise.resolve({id:x,message:s1(S),...U}):qf.beginDecrypt({decryptedText:S,zoomId:H,type:Gf.RWG_CHAT}).then((({message:z})=>({id:x,message:z,...U})))).then((z=>(dt(y2,z),az(z))))}}return Po}))),epics2:(e,n)=>Uo(e,Wb).pipe(xn((o=>{var i,c;return((i=o.payload.body)===null||i===void 0?void 0:i.chatPriviledge)!==void 0||((c=o.payload.body)===null||c===void 0?void 0:c.bAllowAttendeeChat)!==void 0})),us(n),Do((([o,i])=>{const{payload:{body:{chatPriviledge:c,bAllowAttendeeChat:d}}}=o,{chat:{chatPrivilege:p}}=i;return d!==void 0?(dt(E3,d===!0?{chatPrivilege:p}:{chatPrivilege:Yc.NoAttendee}),g4e(d)):(dt(E3,{chatPrivilege:c}),U1e(c))}))),epics3:e=>Uo(e,Wb).pipe(xn((n=>{var o;return((o=n.payload.body)===null||o===void 0?void 0:o.panelistChatPriviledge)!==void 0})),Do((n=>{const{payload:{body:{panelistChatPriviledge:o}}}=n;return dt(E3,{panelistChatPrivilege:o}),p4e(o)}))),epics4:(e,n)=>Uo(e,4136).pipe(us(n),pn((([o,i])=>{const{payload:{body:{result:c,destNodeID:d,msgID:p,fileID:v}}}=o,{meeting:{userId:S},chat:{chatHistory:_}}=i,x=[];if(c===Eme.Success)if(v){const B=_.find((H=>{var U;return((U=H.file)===null||U===void 0?void 0:U.fileID)===v}));if(B){const{file:H,receiver:U,...z}=B,{name:Z,size:te,type:ce,fileUrl:se}=H??{},{attendeeId:Se,...Ce}=U;dt(y2,{id:p,file:{name:Z,size:te,type:ce,fileUrl:se,upload:{status:wh.Complete,progress:100}},receiver:{...Ce},...z}),x.push(b4e({fileID:v,msgID:p,senderId:S}))}}else{const B=CBe(_,{userId:S,destNodeID:d});var P;B&&(dt(iMe,{msgId:p,receiverId:d,identification:(P=B.highResTimeStampForIdentification)!==null&&P!==void 0?P:0}),x.push(v4e({destNodeID:d,msgID:p,userId:S})))}else c!==Eme.Delete&&c!==Eme.Block||x.push(IJ({msgId:p}));return lo(x)}))),epics5:e=>Uo(e,4238).pipe(pn((n=>{const{payload:{body:{bSuccess:o,cmd:i,msgID:c}}}=n,d=[];return o&&i===See.Delete&&(d.push(IJ({msgId:c})),dt(OQ,{id:c})),lo(d)}))),epics6:e=>Uo(e,7960).pipe(pn((n=>{const{payload:{body:{cmd:o,msgID:i}}}=n,c=[];return o===See.Delete&&(c.push(IJ({msgId:i})),dt(OQ,{id:i})),lo(c)})))},oZe=xg(nZe,{chatFileEpics0:e=>e.pipe(Qo(`${Mv}`),Do((n=>{var o,i,c;const{payload:{fileTransfer:d,fileServerDomain:p}}=n;return y4e({isFileTransferEnable:d?.isEnable,isEnableFileTransferEncrypted:d?.isEnableFileTransferEncrypted,fileTransferFileType:((o=d?.fileType)!==null&&o!==void 0?o:"").replace(/\./g,"").split(",").filter(Boolean),fileTransferSizeLimit:1024*((i=d?.sizeLimit)!==null&&i!==void 0?i:0)*1024||Ip.MaxSize,fileDownloadPromptIgnoreList:((c=d?.fileDownloadPromptIgnoreList)!==null&&c!==void 0?c:"").replace(/\./g,"").split(","),fileServerDomain:`https://${p}`})}))),chatFileEpics1:(e,n)=>e.pipe(Qo(`${z1e}`),pn((async o=>{const{payload:{originFile:i,file:{upload:{uniqueId:c}}}}=o;return i.size>Ip.ChunkSize?await(async function(d,p,v,S){const _=TBe(d,"/wc/multiupload/init",S.value),x=await(async function(U){const z=Math.ceil(U.size/Ip.ReaderChunkSize);return(await Promise.all(Array.from({length:z},((te,ce)=>({start:ce*Ip.ReaderChunkSize,end:(ce+1)*Ip.ReaderChunkSize}))).map((async({start:te,end:ce})=>{try{const se=await xBe(U,te,ce);return UPe(await window.crypto.subtle.digest("SHA-256",se))}catch(se){return lO("calculate file hash error.",U,se),Promise.reject(se)}})))).join("")})(d),{meeting:{zmk:P,meetingId:B}}=S.value,H=d3(p,S.value);if(x&&H){const{receiver:U}=H,z={fileName:d.name,length:d.size,channelType:4,digest:x,shareJid:B};return Ov({url:_,method:"POST",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:P},crossDomain:My(_),body:z}).pipe(_h(RJ(d,p,U,v)),Do((Z=>{var te;const{responseHeaders:ce,response:se}=Z,Se=(te=ce["x-zm-trackingid"])===null||te===void 0?void 0:te.trim(),{uploadid:Ce,path:Te,metadata:V}=se,ke=Math.ceil(d.size/Ip.ChunkSize);return Hf({originFile:d,upload:{uniqueId:p,status:wh.InProgress,progress:0,chunkIndex:0,totalChunks:ke,uploadid:Ce,trackingId:Se,path:Te,metadata:V}})})),Cm((Z=>(console.warn(Z),lO("Upload file meta error.",d,Z),kJ(H,d)))),o1(Hf({upload:{uniqueId:p,status:wh.Init}})))}return DJ(d,p)})(i,c,e,n):await QTe(i,c,e,n)})),pn((o=>o))),chatFileEpics2:(e,n)=>e.pipe(Qo(`${Hf}`),xn((o=>{var i;return((i=o.payload.upload)===null||i===void 0?void 0:i.status)===wh.Success})),uT((async o=>{const{payload:{upload:{uniqueId:i}}}=o,{chat:{isEnableFileTransferEncrypted:c,chatHistory:d}}=n.value,p=d.find((S=>{var _;return((_=S.file)===null||_===void 0||(_=_.upload)===null||_===void 0?void 0:_.uniqueId)===i})),v=[];if(p&&p.file){const{file:{name:S,size:_,fileObj:x,fileID:P,type:B},receiver:{userId:H,attendeeId:U}}=p;let[z,Z]=["",""];if(c){const[te,ce]=await Promise.all([S,`${_}`].map((se=>qf.beginEncrypt({text:se,type:Gf.RWG_CHAT}))));[z,Z]=[te,ce]}else[z,Z]=[S,`${_}`].map((te=>bu(te)));await QKe.chatFileTransfer({fileID:P,fileSize:Z,fileName:z,fileObj:x,type:B,destNodeID:H,attendeeNodeID:U}),v.push(Hf({upload:{uniqueId:i,status:wh.Complete}}))}return v}))),chatFileEpics3:(e,n)=>e.pipe(Qo(`${Hf}`),xn((o=>{const{payload:{upload:i,originFile:c}}=o;return!!i&&!!i.uniqueId&&i.status===wh.InProgress&&c?.size<=Ip.ChunkSize&&i.totalChunks===0})),pn((async o=>{const{payload:{originFile:i,upload:{uniqueId:c}}}=o;return await QTe(i,c,e,n)})),pn((o=>o))),chatFileEpics4:(e,n)=>e.pipe(Qo(`${Hf}`),xn((o=>{const{payload:{upload:i}}=o;return!!i&&!!i.uniqueId&&i.totalChunks>0&&i.chunkIndex!==i.totalChunks})),pn((async o=>{const{payload:{originFile:i,upload:{uniqueId:c}}}=o;return await(async function(d,p,v,S){const _=d3(p,S.value);if(_!=null&&_.file){const{file:{upload:{chunkIndex:x,totalChunks:P,uploadid:B,path:H,trackingId:U,etags:z},size:Z},receiver:te}=_,ce=x*Ip.ChunkSize,se=await OBe(d,ce);if(se){const{chat:{fileServerDomain:Se},meeting:{zmk:Ce}}=S.value,Te=`${Se}/upload/parts?${new URLSearchParams({uploadid:B,partNumber:x+1}).toString()}`,V=new FormData,ke=new File([se],d.name);return V.append("file",ke),Ov({url:Te,method:"POST",headers:{"Zoom-File-Size":ke.size,"Zoom-File-Path":H,"x-zm-trackingid":U,"Zoom-File-Origin":"redirect=support_auth",zmk:Ce},crossDomain:My(Te),body:V,includeUploadProgress:!0}).pipe(_h(RJ(d,p,te,v)),pn((et=>{var $e;const{type:Re,loaded:_e,total:ut,responseHeaders:ct}=et;let St=0;const ee={upload:{uniqueId:p,status:wh.InProgress}},ln=[],it=d3(p,S.value),Ht=it==null||($e=it.file)===null||$e===void 0?void 0:$e.upload.progress;if(Re==="upload_loadstart")St=Ht||Math.floor(x/P*100);else if(Re==="upload_progress")St=Math.floor((x*Ip.ChunkSize+.9*_e)/Z*100);else if(Re==="upload_load")St=Math.floor((x*Ip.ChunkSize+.9*ut)/Z*100);else if(Re==="download_load"){St=Ht||Math.floor((x+1)/P*100);const Ut=ct["x-zm-etag"].trim(),Xe=z?{...z,[`${x+1}`]:Ut}:{[`${x+1}`]:Ut};Object.assign(ee.upload,{etags:Xe,chunkIndex:x+1,totalChunks:P}),Object.assign(ee,{originFile:d})}return(St>0||Re==="upload_loadstart")&&(Object.assign(ee.upload,{progress:St}),dt(P2,{...p4(d,te),progress:St,status:wh.InProgress}),ln.push(Hf(ee))),lo(ln)})),Cm((et=>(console.warn(et),lO(`Upload file chunk error. chunk:${x},total chunks:${P},uploadid:${B},trackingId:${U}`,d,et),kJ(_,d)))))}}return DJ(d,p)})(i,c,e,n)})),pn((o=>o))),chatFileEpics5:(e,n)=>e.pipe(Qo(`${Hf}`),xn((o=>{const{payload:{upload:i}}=o;return!!i&&!!i.uniqueId&&i.totalChunks>0&&i.chunkIndex==i.totalChunks})),pn((o=>{const{payload:{originFile:i,upload:{uniqueId:c}}}=o;return(function(d,p,v,S){const{chat:{fileServerDomain:_},meeting:{zmk:x}}=S.value,P=d3(p,S.value);if(P!=null&&P.file){const{file:{upload:{uploadid:B,metadata:H,etags:U,trackingId:z}},receiver:Z}=P,te=`${_}/upload/complete?uploadid=${B}`;return Ov({url:te,method:"POST",headers:{"x-zm-trackingid":z,"Zoom-File-Origin":"redirect=support_auth",zmk:x},crossDomain:My(te),body:{metadata:H,etags:U}}).pipe(_h(RJ(d,p,Z,v)),Do((ce=>{var se,Se;const{chat:{fileServerDomain:Ce}}=S.value,{responseHeaders:Te}=ce,V=(se=Te["zoom-file-id"])===null||se===void 0?void 0:se.trim(),ke=(Se=Te["zoom-file-obj"])===null||Se===void 0?void 0:Se.trim(),et=`${Ce}/zoomfile/download?objkey=${ke}&business=meeting`;return dt(P2,{...p4(d,Z),progress:100,status:wh.Success}),Hf({fileID:V,fileObj:ke,fileUrl:et,upload:{uniqueId:p,progress:100,status:wh.Success}})})),Cm((ce=>(console.warn(ce),lO(`Upload chunks checksum error.uploadid${B},trackingId${z}`,d,ce),kJ(P,d)))))}return DJ(d,p)})(i,c,e,n)}))),chatFileEpics6:(e,n)=>Uo(e,4308).pipe(uT((async o=>{const{payload:{body:{attendeeNodeID:i,destNodeID:c,fileID:d,fileName:p,fileObj:v,fileSize:S,fileType:_,msgID:x,senderName:P}}}=o,{meeting:{bIbDisableChat:B},chat:{fileServerDomain:H,isEnableFileTransferEncrypted:U}}=n.value,z=[];if(!B){const Z=ABe(H,{fileObj:v,fileID:d});if(_===iKe.Local){const{sn:te,...ce}=SBe({destNodeID:c,attendeeNodeID:i,senderName:P},n.value);let[se,Se]=["",0];if(U){const[Te,V]=await Promise.all([p,S].map((ke=>qf.beginDecrypt({decryptedText:ke,zoomId:te,type:Gf.RWG_CHAT}))));se=Te.message,Se=Number(V.message)}else se=s1(p),Se=Number(s1(S));const Ce={id:x,file:{name:se,size:Se,fileUrl:Z},...ce};z.push(az({...Ce,file:{...Ce.file,fileID:d,fileObj:v}})),setTimeout((()=>{dt(y2,Ce)}),0)}}return z}))),chatFileEpics7:(e,n)=>e.pipe(Qo(`${Hf}`),xn((o=>{var i,c;const{payload:d}=o;return d.id&&d.fileUrl&&((i=d.download)===null||i===void 0?void 0:i.status)===K_.InProgress&&((c=d.download)===null||c===void 0?void 0:c.progress)===0})),pn((o=>(function(i,c,d){var p;const{chat:{chatHistory:v},meeting:{zmk:S},participants:{attendeesList:_}}=d.value,x=v.find((P=>P.id===i));if(x!=null&&(p=x.file)!==null&&p!==void 0&&p.fileUrl){const{file:{fileUrl:P}}=x;return Ov({url:P,method:"GET",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:S},crossDomain:My(P),responseType:"arraybuffer",includeDownloadProgress:!0}).pipe(_h((function(B,H){return H.pipe(Qo(`${W1e}`,`${qb}`),xn((U=>{if(U.type===`${qb}`)return!0;const{payload:{id:z}}=U;return B.id===z})),Jr(1),Yo((()=>{var U,z,Z;_Be.info(`Cancel file download. file name:${zf((U=B.file)===null||U===void 0?void 0:U.name)},file size:${(z=B.file)===null||z===void 0?void 0:z.size},sender id:${(Z=B.sender)===null||Z===void 0?void 0:Z.userId}`),dt(iJ,{...Rme(B),progress:0,status:K_.Cancel})})))})(x,c)),uT((async B=>{const{type:H,loaded:U,total:z}=B,Z=[],te={...Rme(x),progress:0,status:K_.InProgress};if(H==="download_loadstart"&&Object.assign(te,{progress:0}),H==="download_progress"){var ce;const ke=Math.floor(U/z*100);Z.push(Hf({id:i,fileUrl:(ce=x.file)===null||ce===void 0?void 0:ce.fileUrl,download:{progress:ke}})),Object.assign(te,{progress:ke})}else if(H==="download_load"){var se,Se,Ce;const et=K_.Success;Object.assign(te,{progress:100,status:et}),Z.push(Hf({id:i,fileUrl:(se=x.file)===null||se===void 0?void 0:se.fileUrl,download:{progress:100,status:et}}));const $e=(Se=_.find((_e=>_e.userId===x.sender.userId)))===null||Se===void 0?void 0:Se.zoomID,Re=await(async function(_e,ut,ct){const St=Math.ceil(_e.byteLength/Ip.DecodeBlockSize);try{const ee=await Promise.all(Array.from({length:Math.max(St-1,1)},((ln,it)=>({start:it*Ip.DecodeBlockSize,end:(it===St-2?it+2:it+1)*Ip.DecodeBlockSize}))).map((async({start:ln,end:it})=>{try{const Ht=_e.slice(ln,it),{message:Ut}=await qf.beginDecrypt({decryptedText:Ht,zoomId:ct,type:Gf.CHAT_FILE});return Ut}catch(Ht){return lO("decrypt file buffer error.",{name:ut,size:_e.byteLength},Ht),Promise.reject(Ht)}})));return new Blob(ee,{type:GKe(ut)})}catch{return null}})(B.response,(Ce=x.file)===null||Ce===void 0?void 0:Ce.name,$e);var Te,V;Re&&((Te=x.file)!==null&&Te!==void 0&&Te.download.blob?Object.assign(te,{fileBlob:Re}):(function(_e,ut){const ct=document.createElement("a"),St=window.URL.createObjectURL(_e);ct.href=St,ct.download=ut,ct.click(),window.URL.revokeObjectURL(St)})(Re,(V=x.file)===null||V===void 0?void 0:V.name))}return(te.progress>0||H==="download_loadstart")&&dt(iJ,te),Z})),Cm((B=>(console.warn(B),lO(`download file error. file url:${P}`,{name:void 0,size:void 0},B),dt(iJ,{...Rme(x),progress:0,status:K_.Fail}),qa(Hf({id:i,fileUrl:P,download:{status:K_.Fail,progress:0}}))))))}return Po})(o.payload.id,e,n))))});function xk(e,n){var o,i,c;const{meeting:{isMeetingReset:d,meetingId:p,meetingNumber:v,userName:S,userEmail:_,tid:x,userId:P,userGUID:B,isRlbTP:H},breakoutRoom:U}=e;let z="";var Z;return z=d?U!=null&&(Z=U.currentRoom)!==null&&Z!==void 0&&Z.boConfId?"join breakout room":"meeting failover":"join meeting",{label:z,payload:{meetingId:(o=n?.meetingId)!==null&&o!==void 0?o:p,tid:x,userId:(i=n?.userId)!==null&&i!==void 0?i:P,userGUID:(c=n?.userGUID)!==null&&c!==void 0?c:B,isRlbTP:H,meetingNumber:zf(v),userName:zf(S),userEmail:zf(_)}}}function xv(e,n,o){return $O(mi((i=>{let c=!1;try{var d,p;const{logger:{options:v},meeting:{logConfig:S}}=n.value;c=(d=v?.enable)!==null&&d!==void 0?d:(p=JSON.parse(S||"{}"))===null||p===void 0?void 0:p.enable}catch{}try{if(c){const{logger:{isLaplaceInitialized:v}}=n.value;if(!v)return e.pipe(Qo(`${Nee}`),Jr(1),pn((S=>(S.payload&&o(i),Po))));o(i)}}catch(v){console.warn(v)}return Po})))}function cO(e,n,o,i){return ur(e,o).pipe(xv(e,n,i))}function B3(e,n,o,i){return Uo(e,o).pipe(xv(e,n,i))}function Zye(e){var n,o;const{audio:{activeMicrophone:i,activeSpeaker:c,microphoneDevicesList:d,speakerDevicesList:p}}=e;return`microphone: [${i} - ${d==null||(n=d.find((v=>v.deviceId===i)))===null||n===void 0?void 0:n.label}]; speaker: [${c} - ${p==null||(o=p.find((v=>v.deviceId===c)))===null||o===void 0?void 0:o.label}]`}function IBe(e){var n;const{video:{activeCamera:o,cameraDevicesList:i}}=e;return`camera: [${o} - ${i==null||(n=i.find((c=>c.deviceId===o)))===null||n===void 0?void 0:n.label}]`}function N5(e,n){return n!==void 0?` ,${e}:${n}`:""}const{InitSuccessAudio:sZe,InitFailedAudio:rZe,InitSuccessVideo:iZe,InitFailedVideo:aZe,InitSuccessSharing:lZe,InitFailedSharing:cZe}=so,{DecodeSuccess:tAe,DecodeFailed:nAe,EncodeSuccess:oAe,EncodeFailed:sAe}=pg,uZe={[`${sZe}`]:{name:"Audio",isException:!1},[`${rZe}`]:{name:"Audio",isException:!0},[`${iZe}`]:{name:"Video",isException:!1},[`${aZe}`]:{name:"Video",isException:!0},[`${lZe}`]:{name:"Sharing",isException:!1},[`${cZe}`]:{name:"Sharing",isException:!0}};function dZe(e){const n=(e??"").split("-");return[...new Set(n)].map((o=>({reason:o,count:n.filter((i=>o===i)).length})))}let Ry=(function(e){return e[e.Success=0]="Success",e[e.MeetingIsOver=6]="MeetingIsOver",e[e.UserFull=9]="UserFull",e[e.MeetingLocked=12]="MeetingLocked",e[e.WebinarBlockedEmail=3033]="WebinarBlockedEmail",e[e.MeetingNotStarted=3008]="MeetingNotStarted",e[e.MeetingHasClosed=103003]="MeetingHasClosed",e[e.UserHasBeenRemoved=103039]="UserHasBeenRemoved",e[e.MMRIBReject=103043]="MMRIBReject",e[e.MMRConfParticipantExists=103044]="MMRConfParticipantExists",e})({}),H_=(function(e){return e[e.Unknown=0]="Unknown",e[e.Normal=1]="Normal",e[e.Userrequest=2]="Userrequest",e[e.SdkConnection=3]="SdkConnection",e[e.Reconnect=5]="Reconnect",e[e.PtRequest=6]="PtRequest",e[e.KickedByHost=7]="KickedByHost",e[e.EndByHost=8]="EndByHost",e[e.EndByHostStartAnotherMeeting=9]="EndByHostStartAnotherMeeting",e[e.FreeMeetingTimeout=10]="FreeMeetingTimeout",e[e.JBHTimeout=11]="JBHTimeout",e[e.EndBySingleStatus=12]="EndBySingleStatus",e[e.WebinarNeedRegister=13]="WebinarNeedRegister",e[e.ArchiveFail=14]="ArchiveFail",e[e.EndByNone=15]="EndByNone",e[e.EndByAdmin=16]="EndByAdmin",e[e.DuplicateSession=17]="DuplicateSession",e[e.MeetingTransfer=18]="MeetingTransfer",e})({}),hZe=(function(e){return e[e.WaitingRoomFailover=1]="WaitingRoomFailover",e[e.WebEndAndRejoin=2]="WebEndAndRejoin",e})({}),dE=(function(e){return e[e.Success=0]="Success",e[e.CommonError=200]="CommonError",e[e.WrongPasscode=3004]="WrongPasscode",e[e.RoleTypeMissing=3010]="RoleTypeMissing",e[e.InvalidParameter=4003]="InvalidParameter",e})({}),gu=(function(e){return e[e.Success=0]="Success",e[e.AnotherMeetingInProgress=3e3]="AnotherMeetingInProgress",e[e.MeetingNotExist=3001]="MeetingNotExist",e[e.NotHost=3003]="NotHost",e[e.WrongPasscode=3004]="WrongPasscode",e[e.MissingEmail=3005]="MissingEmail",e[e.MeetingNotStarted=3008]="MeetingNotStarted",e[e.UserHasBeenRemoved=3009]="UserHasBeenRemoved",e[e.RoleTypeMissing=3010]="RoleTypeMissing",e[e.WebinarEnforceLogin=3034]="WebinarEnforceLogin",e[e.RealNameMissing=3082]="RealNameMissing",e[e.RegisterRequired=3099]="RegisterRequired",e[e.SsoLoginWindow=6024]="SsoLoginWindow",e[e.ZoomLoginWindow=3051]="ZoomLoginWindow",e[e.ZoomSpecificLoginWindow=3052]="ZoomSpecificLoginWindow",e[e.LoginRequired=3100]="LoginRequired",e[e.Reconnecting=4e3]="Reconnecting",e[e.Disconnect=4001]="Disconnect",e[e.InvalidParameter=4003]="InvalidParameter",e[e.DeniedRegisterWithPanelist=3032]="DeniedRegisterWithPanelist",e[e.ServiceOffline=403]="ServiceOffline",e[e.RwcEmpty=3621]="RwcEmpty",e[e.RwcError=3622]="RwcError",e[e.FrequentCall=3633]="FrequentCall",e[e.FrequentJoin=3634]="FrequentJoin",e[e.WasmFail=3635]="WasmFail",e[e.CommonError=200]="CommonError",e[e.Upgrade=1e4]="Upgrade",e})({});gu.Success,gu.RegisterRequired,gu.LoginRequired,gu.SsoLoginWindow,gu.ZoomLoginWindow,gu.ZoomSpecificLoginWindow,gu.MissingEmail,gu.MeetingNotExist,gu.NotHost,gu.WrongPasscode,gu.RoleTypeMissing,gu.AnotherMeetingInProgress,gu.MeetingNotStarted,gu.InvalidParameter,gu.Reconnecting,gu.UserHasBeenRemoved,gu.WebinarEnforceLogin,gu.Disconnect,gu.DeniedRegisterWithPanelist,gu.RwcEmpty,gu.RwcError,gu.FrequentCall,gu.FrequentJoin,gu.WasmFail,gu.Upgrade;const rAe={3004:{"incorrect passcode":3004},3005:{"apac.errorcodes_web_has_in_progress":3e3},3008:{"apac.errorcodes_not_start":3008},3027:{"apac.errorcodes_host_email_as_attendee":3627},3033:{"apac.errorcodes_denied_email":3620},1005:{"apac.errorcodes_no_response_from_web":3621},131005:{"apac.errorcodes_no_response_from_web":3621},1001:{"apac.errorcodes_host_inactive":3625},131001:{"apac.errorcodes_host_inactive":3625},131013:{"meeting ended":4004},103039:{"user has been removed":3009},6:{"meeting ended":4004},9:{"meeting is at capacity":4005},12:{"meeting locked":4006},103043:{"reject for information barriers":4007},103044:{"participant exist":4008}};function cE(e,n){let o={code:200};if(rAe[e]!==void 0){const i=rAe[e],c=Object.keys(i)[0];return o={code:i[c],i18nKey:c},{reason:c.startsWith("apac")?"":c,errorCode:o.code}}return{errorCode:200,reason:"connection error"}}const bm=Kf.getInstance(),kme=()=>{if("connection"in navigator){const{effectiveType:e,rtt:n,downlink:o}=navigator.connection;bm.makeLogger(["Network Connection Type"]).info(`Network connection. ect:${e},rtt:${n},downlink:${o}`)}},Gx=Kf.getInstance().makeLogger(["Remote Control"]),iAe=_m(zs.getInstance()),fZe=[{event:so.AudioBridgeReconnectStart,message:Ek.AudioBridgeReconnectStart,logType:"info",additionalTags:["Audio Join Flow"]},{event:so.AudioBridgeReconnectEnd,message:Ek.AudioBridgeReconnectEnd,logType:"info",additionalTags:["Audio Join Flow"]},{event:so.UserGrantCaptureAudio,message:e=>`${Ek.DeviceAudioStreamCaptured},${Zye(e)}`,logType:"info",additionalTags:["Audio Capture Flow"]},{event:so.JoinComputerAudioComplete,message:Ek.AudioJoinComplete,logType:"info",additionalTags:["Audio Join Flow"]},{event:so.LeaveComputerAudioComplete,message:Ek.AudioLeaveComplete,logType:"info",additionalTags:["Audio Join Flow"]},{event:so.JoinSharingAudioComplete,message:Ek.SharingAudioStartComplete,logType:"info",additionalTags:["Audio Sharing Flow"]},{event:so.LeaveSharingAudioComplete,message:Ek.SharingAudioStopComplete,logType:"info",additionalTags:["Audio Sharing Flow"]}],pZe=[{event:so.StartVideoCaptureSuccess,message:e=>`${wk.StartCaptureVideoSuccess}, ${IBe(e)}`,logType:"info",additionalTags:["Video Join Flow"]},{event:so.StopVideoCaptureSuccess,message:wk.StopCaptureVideoSuccess,logType:"info",additionalTags:["Video Join Flow"]},{event:so.StartVideoStreamInVbSettingSuccess,message:wk.VBSettingSuccess,logType:"info",additionalTags:["Video VB Flow"]},{event:so.VbModelPreloadingOk,message:wk.VBPreloadSuccess,logType:"info",additionalTags:["Video VB Flow"]},{event:so.VbModelPreloading_3S,message:wk.VBPreloading3S,logType:"warn",additionalTags:["Video VB Flow"]},{event:so.VbModelPreloading_10S,message:wk.VBPreloading10S,logType:"warn",additionalTags:["Video VB Flow"]},{event:so.VbSettingParaError,message:wk.VBSettingFailed,logType:"error",additionalTags:["Video VB Flow"]}],aAe=fZe.map((e=>({...e,tag:"Audio"}))).concat(pZe.map((e=>({...e,tag:"Video"})))),Ay=Kf.getInstance(),{InitSuccessVideo:mZe,InitSuccessAudio:gZe,InitSuccessSharing:vZe,InitFailedVideo:yZe,InitFailedAudio:bZe,InitFailedSharing:SZe,AudioCaptureFailed:lAe,AudioWebsocketBroken:CZe,AudioZeroData:cAe,UserForbiddedCaptureVideo:uAe,UserCameraIsTakenByOtherPrograms:dAe,VideoWebsocketBroken:EZe,StopVideoCaptureFailed:wZe,DesktopSharingPermissionDenied:_Ze,DesktopSharingSystemError:hAe,AudioSpeakerSetError:fAe,VbSettingParaError:TZe,MaskSettingParaError:AZe,WebglLostInMultiView:xZe,VideoStreamFailed:pAe,AudioStreamFailed:mAe,NotifyUIFailover:OZe,RecaptureAudio:gAe,WorkletProcessExceptions:IZe}=so,RZe=zs.getInstance(),Ok=Kf.getInstance(),Dme={options:void 0,isLaplaceInitialized:!1,isLogDetailed:!0},kZe=wm({[`${Y1e}`]:bt(((e,{payload:n})=>{e.options=n})),[`${Nee}`]:bt(((e,{payload:n})=>{e.isLaplaceInitialized=n})),[`${uBe}`]:bt(((e,{payload:n})=>{e.isLogDetailed=n})),[`${dBe}`]:({options:e,isLogDetailed:n},{payload:o})=>o?{...Dme,isLogDetailed:n,options:e}:{...Dme}},Dme),DZe={mlEpics0:(e,n)=>ur(e,[mZe,gZe,vZe,yZe,bZe,SZe]).pipe(xv(e,n,(o=>{const{payload:{type:i,data:c}}=o,{meeting:{userId:d}}=n.value,p=(function(v,S){const _=uZe[`${v}`];if(_){const{name:x,isException:P}=_,B=[x,`${x} Init Flow`];P&&B.push(`${x} exception flow`);let H="";return[tAe,nAe].includes(S)&&(H=`${H} decode`.trim()),[oAe,sAe].includes(S)&&(H=`${H} encode`.trim()),[oAe,tAe].includes(S)&&(H=`${H} success`.trim()),[nAe,sAe].includes(S)&&(H=`${H} failed`.trim()),{message:`init ${x.toLowerCase()} ${H}`,tags:B,isException:P}}return null})(i,c);if(p){const{message:v,tags:S,isException:_}=p;_?Ay.report(`${v}. userId:${d}`,S):Ay.makeLogger(S).info(v)}}))),mlEpics1:(e,n)=>cO(e,n,aAe.map((o=>o.event)),(o=>{const{payload:{type:i}}=o,c=aAe.find((d=>d.event===i));if(c){const{message:d,logType:p,additionalTags:v,tag:S}=c;let _=d;typeof d=="function"?window.setTimeout((()=>{_=d(n.value),Ay.makeLogger([S])[p](_,v)}),0):_&&Ay.makeLogger([S])[p](_,v)}})),mlEpics2:(e,n)=>e.pipe(Qo(`${d4}`),xn((o=>!o.payload)),xv(e,n,(()=>{Ay.makeLogger(["Audio"]).warn(`Auto play audio failed,${Zye(n.value)}`)}))),mlEpics3:(e,n)=>cO(e,n,OZe,(o=>{Ay.report(`WebRTC notify ui failover, subreason:${JSON.stringify(o.payload.data)}`,["Audio exception flow"])})),mlEpics4:(e,n)=>cO(e,n,[lAe,CZe,cAe,fAe,mAe,gAe,IZe],(o=>{const{payload:{type:i,data:c}}=o;let d=`Audio error case:${i}`;var p,v;i===lAe?d=`Audio capture failed. errorCode:${c?.errorCode}, message:${c?.errorMessage}, error:${c==null||(p=c.error)===null||p===void 0?void 0:p.name} ${c==null||(v=c.error)===null||v===void 0?void 0:v.message}.`:i===cAe?n.value.audio.webrtcRestartCount<3&&(d="audio capture zero data, auto failover"):i===fAe?d=`audio change speaker error. errorCode:${c?.errorCode}, message:${c?.errorMessage}.`:i===mAe?d="audio stream ended or muted, stop capture audio":i===gAe&&(d="audio muted after switching from background, try to recapture audio"),Ay.report(`${d},${Zye(n.value)}`,["Audio exception flow"])})),mlEpics5:(e,n)=>cO(e,n,[uAe,dAe,EZe,wZe,pAe],(o=>{const{payload:{type:i,data:c}}=o;let d=`Video error case:${i}`;if(i===uAe)d="Video capture is forbidden by the user"+(c?` (error name:${c?.name};error message:${c?.message})`:"");else if(i===dAe)d="Camera is taken by other programs"+(c?` (error name:${c?.name};error message:${c?.message})`:"");else if(i===TZe){var p;d=`VB setting error, param:${JSON.stringify((p=n.value.video.virtualBackground)!==null&&p!==void 0?p:{})}`}else if(i===AZe){var v;d=`Mask setting error, param:${JSON.stringify((v=n.value.video.mask)!==null&&v!==void 0?v:{})}`}else i===pAe&&(d=`Video stream ended or muted, if it is on iOS platform, will stop capture video.platform:${is.browser}`);Ay.report(`${d},${IBe(n.value)}`,["Video exception flow"])})),mlEpics6:(e,n)=>cO(e,n,[_Ze,hAe],(o=>{const{payload:{type:i}}=o;let c="";i===hAe?is.isMacOS&&(c="Need to allow screen recording access in system setting on MacOS"):c="Need to allow the permission request",Ay.report(`${c}`,["Sharing exception flow"])})),mlEpics7:(e,n)=>cO(e,n,xZe,(o=>{const{payload:{data:i}}=o,{video:{renderedVideoList:c}}=n.value;if(i!=null&&i.canvasId){const d=c.filter((p=>p.canvasId===i.canvasId));Ay.report(`WebGl Context lost, canvas ID:${i.canvasId}, affected video node Ids:${d.map((p=>p.userId)).join(",")}`,["Video exception flow"])}})),mlEpics8:(e,n)=>Jd(document,"visibilitychange").pipe(xv(e,n,(()=>{if(Ay.makeLogger(["Video"]).log(`Page visibility ${document.visibilityState} `),document.visibilityState=="hidden"&&is.isAndroidOrIOSBrowser){const{logger:{isLogDetailed:o,isLaplaceInitialized:i}}=n.value;o&&i&&Ay.reportToGlobalTracing(void 0,!0,!0)}setTimeout((()=>{const o=document.visibilityState!=="visible",{video:{subscribedVideoList:i},meeting:{userId:c}}=n.value,d=i.filter((p=>p!==c)).length>0;o&&d&&(ta.createAgent().sendRWGConnectionPerformance("VCSV"),Ay.makeLogger(["Video"]).warn("Still subscribing videos after switching to background"))}),1e3)}))),mlEpics9:e=>ur(e,so.InitSuccessVideo).pipe(xn((n=>n.payload.data===pg.EncodeSuccess&&is.isAndroidOrIOSBrowser)),mi((()=>{const n=Ay.makeLogger(["Video"]);return n.info("Screen orientation: "+(ZPe()?"landscape":"portrait")),YPe().pipe(Yo((o=>{n.info("Screen orientation changes, current orientation: "+(o?"landscape":"portrait"))})),Eg())})))},MZe={rmclEpics0:(e,n)=>e.pipe(Qo(`${H1e}`),xv(e,n,(o=>{const{payload:{isRemoteControlEnabled:i,isEnableAutoDeleteRcApp:c}}=o;Gx.log(`isRemoteControlEnabled:${i},auto delete:${c}`)}))),rmclEpics1:(e,n)=>e.pipe(Qo(`${yE}`),xn((o=>!!o.payload)),xv(e,n,(o=>{let i=o.payload;try{const c=new URL(i),d=c.searchParams.get("accountID");d&&(c.searchParams.set("accountID",zf(d)),i=c.toString()),Gx.log(`Launch Remote control app, scheme:${i}`)}catch{}}))),rmclEpics2:(e,n)=>e.pipe(Qo(`${_6}`),xn((o=>!!o.payload)),xv(e,n,(o=>{Gx.log(`Remote control session starts, controlling ssrc:${o.payload}`)}))),rmclEpics3:(e,n)=>B3(e,n,16430,(()=>{Gx.log("Remote control app connected to rwg.")})),rmclEpics4:(e,n)=>B3(e,n,hye,(()=>{Gx.log("Remote control app disconnected to rwg.")})),rmclEpics5:(e,n)=>B3(e,n,hye,(o=>{const{share:{status:i,isRemoteControlEnabled:c}}=n.value;c&&i!==Yr.End&&o.payload.body.bOn&&Gx.log(`Remote control sharing device info.${JSON.stringify(iAe.getShareStreamInfo())}`)})),rmclEpics6:(e,n)=>cO(e,n,so.CurrentDesktopSharingWidthHeight,(()=>{const{share:{isRemoteControlEnabled:o}}=n.value;o&&Gx.log(`Remote control sharing device info changes.${JSON.stringify(iAe.getShareStreamInfo())}`)})),rmclEpics7:(e,n)=>cO(e,n,so.SendRemoteControlQrCode,(o=>{const{share:{status:i}}=n.value,{payload:{data:c}}=o;Gx.log(`Remote control QR code result. sharing status:${i}, result${JSON.stringify(c)}`)}))},PZe={epics0:(e,n)=>e.pipe(Qo(`${Mv}`),pn((async o=>{const{meeting:{logConfig:i,logEncryptionPubKey:c,zlkJwtToken:d,accountId:p,enableAutoLog:v,collectionToggleEnable:S,zsk:_,isUIToolkit:x},logger:{options:P}}=n.value;let B=P||{};if(i)try{const{enable:H,enableReport:U}=JSON.parse(i);B={...B,enable:H,enableReport:U}}catch{}if(d){const{telemetry_tracking_id:H}=CT(d),{payload:{meetingId:U}}=o;B={...B,enable:!0,enableReport:!0,trackingId:H??U}}else{let H=!1;H=_&&S!==void 0?!(v&&S):!v,ni.set(ZLe.DisableAutoReportLogs,H,Ca.Memory)}return bm.init({...B,logConfig:i,logEncryptionPubKey:c,accountId:p,isUIToolkit:x}).then((()=>[Nee(!0),Y1e(B)])).catch((()=>[Nee(!1)]))})),pn((o=>lo(o)))),epics1:(e,n)=>B3(e,n,Rte,(o=>{var i,c,d,p;const{payload:{body:v}}=o;if(v&&v.res===Ry.Success){bm.makeLogger(["A/V Performance Info"]).info(`CPU cores:${navigator.hardwareConcurrency}, SharedArrayBuffer:${!!is.isSupportSharedArrayBuffer},
          OffscreenCanvas:${!!is.isSupportOffscreenCanvas}, browser:${is.browser} ${is.browserVersion}, OS:${is.os} ${is.osVersion}${N5("wow64",is.wow64)}${N5("GPU",is.gpu)}${N5("architecture",is.architecture)}${N5("bitness",is.bitness)}${N5("model",is.model)}`,["CPU_CORES"]);const{media:{enforceMultipleVideos:ln,enforceVirtualBackground:it,assetsPath:Ht,disableRenderLimits:Ut},meeting:{stayAwake:Xe,quicklyLeave:tn}}=n.value;bm.makeLogger(["Init Option"]).info(`Init option:${JSON.stringify({enforceMultipleVideos:ln,disableRenderLimits:Ut,enforceVirtualBackground:it,assetsPath:Ht,stayAwake:Xe,leaveOnPageUnload:tn})}`),"connection"in navigator&&(kme(),navigator.connection.addEventListener("change",kme))}else bm.report(`join meeting failed, error:${JSON.stringify(cE(v?.res))}, rwg error code:${v?.res}, rwg conID:${v?.conID}, error message:${v?.error_desc}, rwg url:${v?.svcUrl},mid:${n.value.meeting.meetingId}`,"JOIN_MEETING_FAILED","error");const{meeting:{meetingInfoTimestamp:S,pingRWCTimestamp:_,tid:x,meetingId:P,topic:B,accountId:H,cv:U,zlkJwtToken:z,websdkClientFeatureOptions:Z},socket:{rwgServerList:te,retryCount:ce},video:{rendererType:se},media:{patchJsMedia:Se,assetsPath:Ce},audio:{isWebRtcAudioCapable:Te},logger:{isLogDetailed:V}}=n.value;let ke=["conID","confID","mmrFeature","mmrFeatureEx","reportDomain","res","role","svcUrl","userID","userGUID","useWBVideo","useWBAudio"].reduce(((ln,it)=>v[it]!==void 0?{...ln,[`${it}`]:v[it]}:ln),{});ke=["jid","mn","participantID"].reduce(((ln,it)=>v[it]!==void 0?{...ln,[`${it}`]:zf(v[it])}:ln),ke),ke.response=ke.res,delete ke.res;const et=["connection_info_map"];let $e;if(v.res===Ry.Success&&et.push("Command Socket Event","User Info Map"),x){const ln=x.match(/clid=(\S+);/);ln&&ln.length>1&&($e=ln[1])}const Re=Math.floor(performance.now()-S),_e=Math.floor(performance.now()-_);let[ut,ct]=[void 0,void 0];if(z){var St;const{enforce_web_rtc_audio:ln,audio_compatible_mode:it,audio_webrtc_mode:Ht,video_webrtc_mode:Ut}=CT(z);ut=(St=Ht??it)!==null&&St!==void 0?St:ln,ct=Ut}const ee=ta.createAgent();bm.report(JSON.stringify({...ke,tid:x,mid:P,userRegion:$e,rwgUrl:te.length>0?(i=te[ce])===null||i===void 0?void 0:i.rwg:void 0,hardwareConcurrency:navigator.hardwareConcurrency,sharedArrayBuffer:is.isSupportSharedArrayBuffer,OffscreenCanvas:is.isSupportOffscreenCanvas,browserVersion:`${is.browser} ${is.browserVersion}`,osVersion:`${is.os} ${is.osVersion}`,gpu:is.gpu,architecture:is.architecture,model:is.model,bitness:is.bitness,wow64:is.wow64,totalDurationOfJoining:Re,durationOfRWG:_e,rendererType:se,sdkVersion:U,mediaSdkVersion:(c=window.JsMediaSDK_Instance)===null||c===void 0?void 0:c.version,topic:B?zf(B):void 0,accountId:H?zf(H):void 0,patchJSMediaSDK:Se,dependentAssets:Ce,webRtcAudio:Te,crossOriginIsolated:!!window.crossOriginIsolated,jwtAudio:ut,jwtVideo:ct,isRlbTP:(d=ee.websocket)===null||d===void 0?void 0:d.isRlb,abOption:Z,logDetail:V}),et,"info"),ee.sendRWGConnectionPerformance(`WCL_M, conId: ${v?.conID}, trackingId: ${(p=n.value.logger)===null||p===void 0||(p=p.options)===null||p===void 0?void 0:p.trackingId}, JOINFS(${Re}), JOINFRWC(${_e})`)})),epics2:(e,n)=>e.pipe(Qo(`${g1e}`),us(n),xn((([,o])=>o.meeting.encryptedRWC===void 0&&(o.meeting.encryptedGEORWC===void 0||o.meeting.encryptedGEORWC.length===0))),xv(e,n,(()=>{const{label:o,payload:i}=xk(n.value);bm.report(`${o} ${JSON.stringify(i)}`,["Join Meeting Flow","Ping RWC Domain Empty"],"error")}))),epics3:(e,n)=>e.pipe(Qo(`${wg}`),xn((o=>o.payload===ef.OnError||o.payload===ef.Disconnect||o.payload===ef.NoHeartbeat)),xv(e,n,(o=>{var i;const{payload:c}=o,{socket:{rwgServerList:d,retryCount:p}}=n.value,{payload:v}=xk(n.value);bm.report(`websocket unexpected disconnected,${JSON.stringify({code:c,rwgHost:(i=d[p])===null||i===void 0?void 0:i.rwg,...v})}`,["Join Meeting Flow","RWG Disconnect"])}))),epics4:(e,n)=>e.pipe(Qo(`${cee}`),xv(e,n,(o=>{const{payload:{reason:i,count:c,interval:d,sequence:p,userId:v,userGUID:S,meetingId:_}}=o,{payload:x}=xk(n.value,{meetingId:_,userId:v,userGUID:S});bm.report(`meeting failover,${JSON.stringify({reason:i,count:c,interval:d,sequence:p,detailed:dZe(p),...x})}`,["Join Meeting Flow","Failover"]),"connection"in navigator&&navigator.connection.removeEventListener("change",kme)}))),epics5:(e,n)=>e.pipe(Qo(`${E6}`),xn((o=>o.payload.status===Fa.Connecting)),xv(e,n,(o=>{const{payload:{rwgUrl:i}}=o;let c=i.replace(/(\d+)\?/,`${zf("$1")}?`);c=["email","zoomid","participantID","dn2","customer_key","mpwd","topic"].reduce(((p,v)=>p.indexOf(v)>-1?p.replace(new RegExp(`${v}=([^&]+)`,"g"),`${v}=${zf("$1")}`):p),c);const{payload:d}=xk(n.value);bm.makeLogger(["Join Meeting Flow"]).info(`RWG URL,${JSON.stringify({rwgUrl:c,...d})}`,["RWG Url"])}))),epics6:(e,n)=>e.pipe(Qo(`${qb}`),xn((o=>{const{payload:i}=o;return i?i.retry:n.value.meeting.meetingStatus===Th.Initial})),xv(e,n,(()=>{const{meeting:{meetingStatus:o},socket:{rwgServerList:i,retryCount:c}}=n.value;if(o!==Th.Joined){const{payload:d}=xk(n.value),p=i?.length>0?i[c]:void 0;bm.report(JSON.stringify({...d,rwc:p?.rwc,rwg:p?.rwg}),["UNAVAILABLE_RWG"])}}))),epics7:(e,n)=>B3(e,n,1,(o=>{const{payload:{body:i}}=o;bm.report(`join meeting failed, version blocked. Current version:${n.value.meeting.cv},upgrade version:${i?.upgradeVersion}`,"JOIN_MEETING_FAILED","error")})),epics8:(e,n)=>B3(e,n,2,(()=>{bm.report(`join meeting with low version of SDK. Current version:${n.value.meeting.cv}.`,"Join Meeting Flow","warn")})),epics9:(e,n)=>e.pipe(Qo(`${aee}`,`${a4}`),mi((()=>Aa(Xu,1).pipe(Yo((o=>{try{const{code:i,reason:c,errorCode:d}=o??{},{payload:p}=xk(n.value);bm.report(`Connection change with join meeting failed. payload:${JSON.stringify({code:i,reason:c,errorCode:d})}. meeting info:${JSON.stringify(p)}`,"JOIN_MEETING_FAILED","error")}catch{}})),pn((()=>Po)))))),epics10:(e,n)=>e.pipe(Qo(`${qb}`),xn((o=>{var i;return!((i=o.payload)!==null&&i!==void 0&&i.retry)})),xv(e,n,(()=>{const{logger:{isLogDetailed:o,isLaplaceInitialized:i}}=n.value;i&&o&&bm.reportToGlobalTracing(void 0,!0)}))),epics11:(e,n)=>e.pipe(Qo(`${AE}`),xn((()=>!!n.value.logger.isLogDetailed)),mi((()=>Jd(window,"beforeunload").pipe(Yo((()=>{const{logger:{isLaplaceInitialized:o}}=n.value;o&&bm.reportToGlobalTracing(void 0,!0,!0)})),Eg())))),epics12:(e,n)=>e.pipe(Qo(`${uee}`),xv(e,n,(o=>{const{payload:i}=o,{payload:c}=xk(n.value);bm.report(`XMPP Socket retry, count:${i},meeting info:${JSON.stringify(c)}`,["Join Meeting Flow","XMPP Socket Retry"])})))},NZe=xg(PZe,MZe,DZe),LZe=ta.createAgent(),vAe={cmrStatus:_d.Stop,recordingEnable:!1,recordingIsoEnable:!1,allowStopAutoRecording:!1,automaticCloudRecordingEnable:!1,isZoomIQ:!1,zoomIQChanging:!1,localStatus:G6.Stop,supportLocalRecording:Av.None,localGrantPermissionOption:pWe.None,localPermissionUserList:[]},BZe=wm({[`${L4e}`]:bt(((e,{payload:n})=>{e.cmrStatus=n})),[`${B4e}`]:bt(((e,{payload:n})=>{e.recordingEnable=n})),[`${F4e}`]:bt(((e,{payload:n})=>{e.recordingIsoEnable=n})),[`${V4e}`]:bt(((e,{payload:n})=>{e.allowStopAutoRecording=n})),[`${H4e}`]:bt(((e,{payload:n})=>{e.automaticCloudRecordingEnable=n})),[`${q1e}`]:bt(((e,{payload:n})=>{e.isZoomIQ=n})),[`${K1e}`]:bt(((e,{payload:n})=>{e.zoomIQChanging=n})),[`${Z1e}`]:bt(((e,{payload:n})=>{e.localStatus=n})),[`${jye}`]:bt(((e,{payload:n})=>{e.supportLocalRecording=n})),[`${$4e}`]:bt(((e,{payload:n})=>{e.localGrantPermissionOption=n})),[`${L3}`]:bt(((e,{payload:n})=>{e.localPermissionUserList=n})),[`${U4e}`]:()=>({...vAe})},vAe);var yAe,bAe,SAe,CAe,EAe,wAe,_Ae,TAe,Kc;const mS=ta.createAgent(),L5=Np("Recording");let FZe=(yAe=Go("recording"),bAe=Go("recording"),SAe=Go("recording"),CAe=Go("recording"),EAe=Go("recording"),wAe=Go("recording"),_Ae=Go("recording"),TAe=Go("recording"),Kc=class extends VS{startRecording(){const e=this[rs](),{meeting:{bIbDisableRecording:n,recordingEnable:o},recording:{cmrStatus:i}}=e;return n?Promise.reject({type:bn,reason:"Rejected by Information Barrier",errorCode:ht.RECORDING_ACCOUNT_DISABLE}):o?i===_d.Start?Promise.resolve(""):(mS.recordMeeting(!0,!1),Cr(m6,(c=>c.cmrServerStatus===_d.Start))):Promise.reject({type:bn,reason:"The account of the meeting disabled the cloud recording",errorCode:ht.RECORDING_ACCOUNT_DISABLE})}pauseRecording(){const e=this[rs](),{recording:{cmrStatus:n,allowStopAutoRecording:o}}=e;return n===_d.Pause?Promise.resolve(""):n!==_d.Start?Promise.reject({type:bn,reason:"Recording is not started",errorCode:ht.RECORDING_MISMATCH_STATE}):o?(mS.recordMeeting(!1,!0),Cr(m6,(i=>i.cmrServerStatus===_d.Pause))):Promise.reject({type:bn,reason:"Cannot pause cloud recording due to web setting config",errorCode:ht.RECORDING_STOP_FORBIDDEN})}stopRecording(){const e=this[rs](),{recording:{cmrStatus:n,allowStopAutoRecording:o}}=e;return n===_d.Stop?Promise.resolve(""):o?(mS.recordMeeting(!1,!1),Cr(m6,(i=>i.cmrServerStatus===_d.Stop))):Promise.reject({type:bn,reason:"Cannot stop cloud recording due to web setting config",errorCode:ht.RECORDING_STOP_FORBIDDEN})}accept(){const e=this[rs](),{recording:{cmrStatus:n,recordingIsoEnable:o}}=e,i=Ss(e);return o?n!==_d.Start&&n!==_d.Pause?Promise.reject({type:bn,reason:"Recording is not started",errorCode:ht.RECORDING_MISMATCH_STATE}):i!=null&&i.bAllowISORecord?Promise.resolve("You accepted ISO recording"):(mS.allowSelfRecord(!0),Cr(IQ,(c=>c?.userId===i?.userId&&c?.status===TS.Accept))):Promise.reject({type:bn,reason:"ISO Recording is not enabled",errorCode:ht.RECORDING_ISO_DISABLE})}decline(){const e=this[rs](),{recording:{cmrStatus:n,recordingIsoEnable:o}}=e,i=Ss(e);return o?n!==_d.Start&&n!==_d.Pause?Promise.reject({type:bn,reason:"Recording is not started",errorCode:ht.RECORDING_MISMATCH_STATE}):i?.bAllowISORecord===!0?Promise.reject({type:bn,reason:"You had accept ISO recording, cant change it",errorCode:ht.RECORDING_MISMATCH_STATE}):(mS.allowSelfRecord(!1),Promise.resolve("")):Promise.reject({type:bn,reason:"ISO Recording is not enabled",errorCode:ht.RECORDING_ISO_DISABLE})}getRecordingStatus(){const e=this[rs](),{recording:{cmrStatus:n}}=e,o=MWe(e);return n===_d.Start?TS.Recording:n===_d.Pause?TS.Paused:o?TS.Recording:TS.Stopped}isRecordingEnabled(){const e=this[rs](),{recording:{recordingEnable:n}}=e;return n}isAllowedToStopAutoRecording(){const e=this[rs](),{recording:{allowStopAutoRecording:n}}=e;return n}isAutomaticCloudRecordingEnabled(){const e=this[rs](),{recording:{automaticCloudRecordingEnable:n}}=e;return n}enableRecordingWithIQ(e){const{[rs]:n,[Mc]:o}=this,i=n(),{recording:{isZoomIQ:c,zoomIQChanging:d},meeting:{meetingOptions:p}}=n();return p.isEnableKiwiRecording?Iv(i)?d?Promise.reject({type:bn,reason:"We are changing, please wait",errorCode:ht.RECORDING_IQ_MISMATCH_STATE}):e===c?Promise.reject({type:bn,reason:`You have ${e?"enable":"disable"} Zoom IQ, don't need change`,errorCode:ht.RECORDING_IQ_MISMATCH_STATE}):(o(K1e(!d)),o(q1e(!c)),mS.enableZoomIQRecord(e),Cr(lMe,(v=>v?.success))):Promise.reject({type:bn,reason:"Only Host or co-host can enable/disable Zoom IQ",errorCode:ht.RECORDING_IQ_PERMISSION_REQUIRED}):Promise.reject({type:bn,reason:"You not have zoom IQ license or not enable zoom IQ, please check and retry",errorCode:ht.RECORDING_IQ_DISABLE})}isSupportLocalRecording(){const e=this[rs](),{meeting:{meetingOptions:n,isWebinar:o},breakoutRoom:i}=e;if(i?.currentRoom.status===cr.InRoom)return!1;const c=Ss(e);return(!o||!tf(c.userRole))&&n?.isLocalRecordingEnabled}isSupportLocalRecordingPermission(){const e=this[rs](),{recording:{supportLocalRecording:n}}=e;if(!this.isSupportLocalRecording())return!1;const o=Ss(e);return!(o==null||!o.isHost)||n===Av.Allow}askLocalRecordingPermission(){const{[rs]:e}=this,{recording:{supportLocalRecording:n}}=e();return this.isSupportLocalRecording()?n===Av.None?(mS.localRecordingRequestPermission(),Promise.resolve("")):n===Av.Allow?Promise.resolve(""):Promise.reject({reason:"permission is denied",errorCode:ht.LOCAL_RECORDING_MISMATCH_STATE}):Promise.reject({reason:"not support",errorCode:ht.LOCAL_RECORDING_ACCOUNT_DISABLE})}startLocalRecording(e){const{[rs]:n,[Mc]:o}=this,i=n(),{recording:{localStatus:c,supportLocalRecording:d},meeting:{userId:p}}=i;if(!(e in G6))return Promise.reject({type:bn,reason:"not support you parameter, only support type are 0(stop)/1(start)/2(pause).",errorCode:ht.LOCAL_RECORDING_INVALID_VALUE});if(!this.isSupportLocalRecording())return Promise.reject({type:bn,reason:"not support local recording",errorCode:ht.LOCAL_RECORDING_ACCOUNT_DISABLE});if(e===c)return Promise.resolve(`you currently status is ${c}, do nothing`);const v=Ss(i);return d===Av.Allow||v!=null&&v.isHost?(mS.localRecordingMeeting(e),Cr(RQ,(S=>S?.userId===p&&(o(Z1e(S.bLocalRecord)),S.bLocalRecord===e)),1e3)):Promise.reject({type:bn,reason:"you not have local recording permission, please use askLocalRecordingPermission request it first",errorCode:ht.LOCAL_RECORDING_MISMATCH_STATE})}isSupportLocalRecordingGrantPermission(){const e=this[rs]();if(!this.isSupportLocalRecording())return!1;const n=Ss(e);return!(n==null||!n.isHost)&&!!_X(n.caps)}grantLocalRecordingPermission(e,n,o){const{[rs]:i,[Mc]:c}=this,d=i(),{recording:{localPermissionUserList:p}}=d;if(!this.isSupportLocalRecording())return Promise.resolve(!1);const v=Ss(d);if(!_X(v.caps))return Promise.reject({type:bn,reason:"you can not grant permission",errorCode:ht.LOCAL_RECORDING_MISMATCH_STATE});let S=!1;if(o&&(S=!0),p.filter((_=>_===e)).length>0){if(n===Av.Allow)mS.localRecordingGrantPermission(e,!0,S);else{if(n!==Av.Deny)return Promise.reject({type:bn,reason:"only support DENY(1)/ALLOW(2)",errorCode:ht.LOCAL_RECORDING_INVALID_VALUE});mS.localRecordingGrantPermission(e,!1,S)}return c(L3(p.filter((_=>_!==e)))),dt(pE,{type:"answer",value:n===Av.Allow}),Promise.resolve(!1)}return n!==Av.Deny?Promise.reject({type:bn,reason:"Direct grant only support DENY(1)",errorCode:ht.LOCAL_RECORDING_INVALID_VALUE}):(mS.hostGrantPermission(e,!1),Cr(pE,(_=>_?.value===e&&(n===Av.Allow?(c(L3([...p,e])),_?.canRecord===!0):(c(L3(p.filter((x=>x!==e)))),_?.canRecord===!1))),1e3))}getLocalRecordingPermissionUserList(){const e=this[rs](),{recording:{localPermissionUserList:n}}=e;if(!this.isSupportLocalRecording())return[];const o=Ss(e);return _X(o.caps)?n:Promise.reject({type:bn,reason:"you can not grant permission",errorCode:ht.LOCAL_RECORDING_MISMATCH_STATE})}getLocalRecordingPermissionOperation(){const e=this[rs](),{recording:{localGrantPermissionOption:n}}=e;if(!this.isSupportLocalRecording())return null;const o=Ss(e);return _X(o.caps)?n:null}},qn(Kc.prototype,"startRecording",[yu,Xn,yAe,L5],Object.getOwnPropertyDescriptor(Kc.prototype,"startRecording"),Kc.prototype),qn(Kc.prototype,"pauseRecording",[yu,Xn,bAe,L5],Object.getOwnPropertyDescriptor(Kc.prototype,"pauseRecording"),Kc.prototype),qn(Kc.prototype,"stopRecording",[yu,Xn,SAe,L5],Object.getOwnPropertyDescriptor(Kc.prototype,"stopRecording"),Kc.prototype),qn(Kc.prototype,"accept",[Xn,CAe,L5],Object.getOwnPropertyDescriptor(Kc.prototype,"accept"),Kc.prototype),qn(Kc.prototype,"decline",[Xn,EAe,L5],Object.getOwnPropertyDescriptor(Kc.prototype,"decline"),Kc.prototype),qn(Kc.prototype,"askLocalRecordingPermission",[Xn,wAe],Object.getOwnPropertyDescriptor(Kc.prototype,"askLocalRecordingPermission"),Kc.prototype),qn(Kc.prototype,"startLocalRecording",[Xn,_Ae],Object.getOwnPropertyDescriptor(Kc.prototype,"startLocalRecording"),Kc.prototype),qn(Kc.prototype,"grantLocalRecordingPermission",[Xn,Td,TAe],Object.getOwnPropertyDescriptor(Kc.prototype,"grantLocalRecordingPermission"),Kc.prototype),Kc);const VZe={moduleEpics0:e=>e.pipe(Qo(`${Mv}`),Do((n=>{const{payload:{recordingEnable:o}}=n;return B4e(o)}))),moduleEpics1:(e,n)=>Uo(e,Wb).pipe(xn((o=>{var i,c,d;return((i=o.payload.body)===null||i===void 0?void 0:i.cmrServerStatus)!==void 0||((c=o.payload.body)===null||c===void 0?void 0:c.disAllowClientStopAutoCmr)!==void 0||((d=o.payload.body)===null||d===void 0?void 0:d.enableAutomicRecordingCloud)!==void 0})),us(n),pn((([o,i])=>{const{cmrServerStatus:c,disAllowClientStopAutoCmr:d,enableAutomicRecordingCloud:p}=o.payload.body,v=[];return c!==void 0&&(c!==_d.Init&&(dt(m6,{cmrServerStatus:c}),i.recording.recordingIsoEnable&&c===_d.Start&&dt(IQ,{status:TS.Ask})),v.push(L4e(c))),d!==void 0&&v.push(V4e(!d)),p!==void 0&&v.push(H4e(p)),lo(v)}))),moduleEpics2:e=>Uo(e,Wb).pipe(xn((n=>{var o;return((o=n.payload.body)===null||o===void 0?void 0:o.bCmrIsoEnble)!==void 0})),Do((n=>{const{bCmrIsoEnble:o}=n.payload.body;return F4e(o)}))),moduleEpics3:(e,n)=>Uo(e,Ul).pipe(us(n),xn((([o])=>{const{payload:{body:{update:i,add:c}}}=o;return i?.some((d=>d.bLocalRecordStatus!==void 0||d.canRecord!==void 0))||c?.some((d=>d.bLocalRecordStatus!==void 0||d.canRecord!==void 0))})),pn((([o,i])=>{const{payload:{body:{update:c,add:d}}}=o,{meeting:{userId:p,isHost:v},recording:{supportLocalRecording:S},participants:{attendeesList:_}}=i,x=[];return c?.concat(d||[]).filter((P=>P.bLocalRecordStatus!==void 0||P.canRecord!==void 0)).forEach((P=>{if(P.canRecord!==void 0){const B=!!P.canRecord;if(p===P.id||v){const H=_.find((U=>U.userId===p));!B&&H!=null&&H.bLocalRecord&&(dt(pE,{type:"revoke",value:P.id,canRecord:B}),LZe.localRecordingMeeting(G6.Stop)),!B||H!=null&&H.bLocalRecord||dt(pE,{type:"grant",value:P.id,canRecord:B})}p===P.id&&((S!==Av.None||B)&&x.push(jye(B?Av.Allow:Av.Deny)),B||x.push(Z1e(G6.Stop)))}else dt(RQ,{userId:P.id,bLocalRecord:P.bLocalRecordStatus})})),lo(x)}))),moduleEpics4:(e,n)=>Uo(e,Ul).pipe(Do((o=>cT(o.payload.body))),us(n),pn((([o,i])=>{const c=[],{recording:{localPermissionUserList:d}}=i;return o.remove&&o.remove.forEach((p=>{d.filter((v=>v===p?.userId))&&(c.push(L3(d.filter((v=>v!==p?.userId)))),dt(pE,{type:"remove",value:p?.userId}))})),lo(c)}))),moduleEpics5:e=>Uo(e,Ul).pipe(xn((n=>{const{payload:{body:{update:o}}}=n;return o?.some((i=>i.bAllowISORecord!==void 0))})),Yo((n=>{const{payload:{body:{update:o}}}=n;o.filter((i=>i.bAllowISORecord!==void 0)).forEach((i=>{dt(IQ,{userId:i.id,status:i.bAllowISORecord?TS.Accept:TS.Decline})}))})),Da(Po)),moduleEpics6:e=>Uo(e,Wb).pipe(xn((n=>{var o;return((o=n.payload.body)===null||o===void 0?void 0:o.SalesRecordingAnalytics)!==void 0})),Do((n=>{const{SalesRecordingAnalytics:o}=n.payload.body;return dt(aMe,{isZoomIQ:o}),q1e(o)}))),moduleEpics7:(e,n)=>Uo(e,4319).pipe(us(n),xn((([o])=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.success)!==void 0})),pn((([o,i])=>{const c=[],{success:d}=o.payload.body,{recording:{zoomIQChanging:p}}=i;return dt(lMe,{success:d}),d&&c.push(K1e(!p)),lo(c)}))),moduleEpics8:(e,n)=>Uo(e,4344).pipe(us(n),xn((([o])=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.cmdType)!==void 0})),pn((([o,i])=>{var c;const d=[],{cmdType:p}=o.payload.body,{recording:{localPermissionUserList:v},meeting:{isHost:S}}=i;var _,x,P,B;return p==="permission_req_option"&&(dt(pE,{type:"option",value:(_=o.payload.body)===null||_===void 0?void 0:_.option}),d.push($4e((x=o.payload.body)===null||x===void 0?void 0:x.option))),p==="request_permission"&&(c=o.payload.body)!==null&&c!==void 0&&c.userId&&(S&&dt(pE,{type:"request",value:(B=o.payload.body)===null||B===void 0?void 0:B.userId}),d.push(L3([...v,(P=o.payload.body)===null||P===void 0?void 0:P.userId]))),p==="permission_request_answer"&&(dt(pE,{type:"answer",value:o.payload.body.agreed}),d.push(jye(o.payload.body.agreed?Av.Allow:Av.Deny))),lo(d)})))},HZe=xg(VZe);let Fee=(function(e){return e[e.All=1]="All",e[e.Private=2]="Private",e})({}),RBe=(function(e){return e.SUCCESS="success",e})({}),a2=(function(e){return e.Screenshot="__zoom_internal_message_screenshot__@@",e.SpeakerOnly="__zoom_internal_message_speaker_only__@@",e})({});const $Ze=Z2.getInstance(),UZe=ta.createAgent();async function kBe(e,n,o){const i=HPe(e);return n?await qf.beginEncrypt({text:i,type:o}):i}const MJ=async(e,n,o)=>{try{let i="";if(await(function(S){const{cmd:{connectionStatus:_}}=S;return _===RBe.SUCCESS?Promise.resolve(!0):hc(Aa(K0e,1)).then((x=>x===s3.Connected||Promise.reject({type:bn,reason:"Cannot establish the command channel"})))})(o()),n){await(function(_,x){const{cmd:{jids:P}}=x;return Object.prototype.hasOwnProperty.call(P,_)?Promise.resolve():hc(Aa(uO).pipe(tMe((B=>B.findIndex((H=>Number(H.userId)===_))===-1)),Jr(1),Ju(Dv)))})(n,o());const{cmd:{jids:S}}=o();if(!S[n])return Promise.reject({type:Jh,errorCode:ht.INTERNAL_ERROR});i=S[n].jid}const{meeting:{encType:c}}=o(),d=i?Fee.Private:Fee.All,p=c===Lz.AES_GCM,v=await kBe(e,p,Gf.XMPP_CHAT);$Ze.sendWebinarMseeage(v,i,d,p)}catch{}return""},PJ=async(e,n)=>{const o=await kBe(e,!1,Gf.RWG_CHAT);return UZe.sendCommandMessage(o,n),""};function Yye(e,n){for(const[o,i]of Object.entries(e))if(i.jid===n)return o}function AAe(e,n){let o,i=!1;if(e!=null&&e.startsWith(a2.SpeakerOnly)){const c=e.substring(a2.SpeakerOnly.length),d=Number(c)===1;o=Q6({userId:n,key:"isSpeakerOnly",value:d}),i=!0}else if(e.startsWith(a2.Screenshot)){const c=e.substring(a2.Screenshot.length);try{const{userId:d,displayName:p,type:v}=JSON.parse(c);dt(v==="video"?wMe:tPe,{userId:d,displayName:p})}catch(d){console.log(d)}i=!0}return[i,o]}const xAe=e=>n=>n.pipe(pn((o=>{const{payload:{userId:i}}=o;return Va(e.value).some((c=>c.userId===i))?lo([o]):Fp(Aa(Ste).pipe(xn((c=>c.some((d=>d.userId===i)))),Jr(1),Ju(Dv),Do((()=>o))),wu(3e3).pipe(Eg()))}))),OAe={connectionStatus:"initial",jids:{}},zZe=wm({[`${G4e}`]:()=>({...OAe}),[`${z4e}`]:bt(((e,{payload:n})=>{const{data:o,attendees:i}=n;o.forEach((c=>{const{jid:d,node:p}=c;if(!e.jids[p]||e.jids[p].jid!==d){const v=i.find((S=>S.userId===Number(p)));e.jids[p]={jid:d,userGuid:v?.userGUID}}}))})),[`${j4e}`]:bt(((e,{payload:n})=>{n.forEach((o=>{const{jid:i}=o,c=Yye(e.jids,i);c&&delete e.jids[c]}))})),[`${W4e}`]:bt(((e,{payload:n})=>{e.connectionStatus=n}))},OAe);var B5;let jZe=(B5=class extends VS{send(e,n){if(!e)return Promise.reject({type:ar,reason:"Text is empty",errorCode:ht.CMD_EMPTY_MESSAGE});if(typeof e!="string")return Promise.reject({type:ar,reason:"Text is not a string",errorCode:ht.CMD_INVALID_MESSAGE_TYPE});if(e.length>512)return Promise.reject({type:ar,reason:"Text exceeds the max length(512).",errorCode:ht.CMD_EXCEED_MESSAGE_LENGTH});const{[rs]:o}=this,i=o(),{socket:{xmppSocketStatus:c},meeting:{userId:d}}=i;return c!==Fa.Connected?Promise.reject({type:bn,reason:"Command channel is not ready",errorCode:ht.CMD_CHANNEL_NOT_READY}):n&&Va(o()).findIndex((p=>p.userId===n))===-1?Promise.reject({type:ar,reason:"Cannot find the user",errorCode:ht.CMD_MISMATCH_USER}):Promise.race([MJ(e,n??0,o),PJ(e,n??0)]).then((()=>({timestamp:new Date().getTime(),text:e,receiverId:n??0,senderId:d})))}getJids(){const{[rs]:e}=this,n=e(),{cmd:{jids:o}}=n;return o}},qn(B5.prototype,"send",[Xn],Object.getOwnPropertyDescriptor(B5.prototype,"send"),B5.prototype),B5);const WZe={epics0:(e,n)=>R3(e,24577).pipe(us(n),Do((([o])=>{const{payload:{body:{status:i}}}=o;return i===RBe.SUCCESS&&dt(K0e,s3.Connected),W4e(i)}))),epics1:(e,n)=>R3(e,24583).pipe(us(n),pn((async([o,i])=>{const{meeting:{userId:c,encType:d},cmd:{jids:p}}=i,{payload:{body:{senderName:v,senderJid:S,text:_,type:x,receiver:P,msgid:B,sn:H}}}=o,U=Yye(p,S),z=Va(i).find((te=>te.userId===Number(U)));if(z&&(z.caps&xTe)===xTe)return"";{const te=Yye(p,P),ce=d===Lz.AES_GCM,se=new Date().getTime();let Se=_;if(ce)try{Se=(await qf.beginDecrypt({decryptedText:_,type:Gf.XMPP_CHAT,zoomId:H})).message}catch{}if(x===Fee.Private&&Number(te)===c||x===Fee.All){const Ce=s1(Se),[Te,V]=AAe(Ce,Number(U));if(!Te){var Z;const ke=U&&((Z=p[U])===null||Z===void 0?void 0:Z.userGuid);dt(Jge,{senderId:U,senderName:v,senderGuid:ke,text:Ce,timestamp:se,msgid:B})}return V}return""}})),xn((o=>typeof o=="object"&&o!==null&&o.type!==void 0)),xAe(n),Yo((o=>{const{payload:{userId:i,key:c,value:d}}=o;dt(NS,[{userId:i,[`${c}`]:d}])}))),epics2:(e,n)=>R3(e,24595).pipe(pn((o=>{const{payload:{body:{action:i,data:c}}}=o,d=[];if([gE.List,gE.Add,gE.update].includes(i)&&c){const{breakoutRoom:p,participants:{attendeesList:v}}=n.value,S=p?.currentRoom.status===cr.InRoom?v.concat(p.mainSessionAttendeeList):v;d.push(z4e({data:c,attendees:S}))}return i===gE.Remove&&c&&d.push(j4e(c)),lo(d)}))),epics3:(e,n)=>Uo(e,8032).pipe(pn((async o=>{const{payload:{body:{senderID:i,commandContent:c,msgID:d}}}=o,p=s1(c),[v,S]=AAe(p,i);if(!v){const _=i&&Va(n.value).find((x=>x.userId===i));dt(Jge,{senderId:`${_?.userId}`,senderName:_?.displayName,senderGuid:_?.userGUID,text:p,timestamp:new Date().getTime(),msgid:d})}return S})),xn((o=>typeof o=="object"&&o!==null&&o.type!==void 0)),xAe(n),Yo((o=>{const{payload:{userId:i,key:c,value:d}}=o;dt(NS,[{userId:i,[`${c}`]:d}])})))},GZe=xg(WZe,{extraEpics0:(e,n)=>e.pipe(Qo(`${P1e}`),mi((o=>{const{payload:{speakerOnly:i}}=o,c=Ss(n.value);return(c?.audio!==void 0?lo([c.audio]):Aa(Mp).pipe(xn((d=>d.audio!==void 0)),Jr(1))).pipe(Yo((async()=>{const d=`${a2.SpeakerOnly}${i?1:0}`;await Promise.all([MJ(d,0,(()=>n.value)),PJ(d,0)])})),Eg())}))),extraEpics1:(e,n)=>Uo(e,Ul).pipe(xn((o=>{var i,c;const{payload:{body:d}}=o;return!((i=n.value.audio)===null||i===void 0||(i=i.customizeAudioOption)===null||i===void 0||!i.speakerOnly)&&(d==null||(c=d.add)===null||c===void 0?void 0:c.length)>0})),Ju(Dv),pn((o=>{const{payload:{body:{add:i}}}=o,c=n.value,{meeting:{userId:d},participants:{attendeesList:p}}=c,v=[];if(i){for(const S of i)if(S.id!==d){const _=wu(Math.floor(Math.random()*Math.min(200+10*p.length,2e3))).pipe(pn((()=>{if(Va(n.value).some((x=>x.userId===S.id))){const x=`${a2.SpeakerOnly}1`;return lo([MJ(x,S.id,(()=>n.value)),PJ(x,S.id)]).pipe(pn((P=>lo(P))),Cm((()=>Po)),Eg())}return Po})),Cm((()=>Po)));v.push(_)}}return v.length>0?xd(...v):Po})),Eg()),extraEpics2:(e,n)=>e.pipe(Qo(`${Rve}`,`${z3e}`),Yo((async o=>{const{payload:{targetUser:i,userId:c,displayName:d}}=o,p=o.type===`${Rve}`?"video":"sharing",v=`${a2.Screenshot}${JSON.stringify({userId:c,displayName:d,type:p})}`;Promise.all([MJ(v,i,(()=>n.value)),PJ(v,i)])})),Eg())}),IAe=(e,n,o,i)=>{const{getState:c,dispatch:d}=o,p=c(),{participants:{attendeesList:v},audio:{localShareAudioUserMutedList:S},share:{isReceiveSharingFromMainSession:_},breakoutRoom:x}=p,P=(_?x?.mainSessionAttendeeList:v).find((B=>B.userId==e));if(P){if(P.bShareAudioOn){const B=S.find((H=>H.userId===e));return B&&B.muted===!n&&d(sz(i,e,n,p)),Promise.resolve("")}return Promise.reject({type:bn,reason:`Cannot ${n?"mute":"unmute"} share audio when the user's share audio is not enable.`,errorCode:ht.AUDIO_NOT_STARTED})}return Promise.reject({type:ar,reason:"Cannot find the user",errorCode:ht.STREAM_MISMATCH_USER})},RAe=(e,n)=>{const{store:{getState:o},rwgAgent:i}=e,{share:{sharePrivilege:c}}=o();return c===n?Promise.resolve(""):Object.values(Ub).includes(n)?(i.lockSharing(n),K5("lockShare",n)):Promise.reject({type:ar,errorCode:ht.SCREEN_SHARE_INVALID_PRIVILEGE})},h3=Ql([Va],(e=>e.filter((n=>n.bVideoOn)))),Mme=Ql([h3],(e=>e.filter((n=>(n.caps&TTe)===TTe)))),qZe=(e,n,o,i,c,d,p,v,S,_)=>{const{store:{getState:x,dispatch:P},mediaAgent:B}=e,H=x(),{meeting:{userId:U,isUseWBVideo:z},media:{enforceMultipleVideos:Z,disableRenderLimits:te},video:{subscribedVideoList:ce,renderedVideoList:se}}=H;if(z)return Promise.reject({type:bn,reason:"Use the attachVideo method to render the video.",errorCode:ht.VIDEO_METHOD_DEPRECATED});console.warn("Use the attachVideo method to render the video. The renderVideo method is deprecated. See the reference for details.");const Se=zs.getMaxCountRender(z,!!Z,te),Ce=r2()&&o===U;if(A4(n)&&!ce.includes(o)&&ce.length>=Se&&new Set(se.map((ke=>ke.canvasId))).has(n.id))return Promise.reject({type:bn,reason:`subscribe video counts greater than maximum size (${Se})`,errorCode:ht.VIDEO_RENDER_LIMIT_EXCEED});if(h3(H).findIndex((ke=>ke.userId===o))===-1)return Promise.reject({type:ar,reason:"user is not send video",errorCode:ht.STREAM_MISMATCH_USER});if(n.id||(n.id=aT("__ZOOM_SDK_VIDEO_CANVAS_@__")),Ce){if(iT(n)){n.playsInline=!0,n.muted=!0,n.autoplay=!0,is.isIOSMobile&&(B.switchCanvasForVideoCapture(n),P(u1e())),B.renderVideo(n,o,S||_O,i,c,d,p,v,!0,_||"",!1),P(YQ(o)),P(_Ne(n.id));const ke=document.querySelector(`#${Gge}`);return ke&&ke.remove(),Promise.resolve("")}return Promise.reject({type:ar,reason:"You must use a <video> element to render self video for Chromium browser, Android browser without SharedArrayBuffer or iOS browser ",errorCode:ht.STREAM_MISMATCH_RENDER_ELEMENT})}const Te=!!_,{media:{videoDecodeStatus:V}}=H;return $f("video","success",V).subscribe((async([ke,et])=>{if(et){const{video:{ensuredCanvas:$e,renderedVideoList:Re}}=x();let _e=n;$e.includes(n.id)||(_e=GQ(n),P(yNe(n.id)));const ut=o===U,ct=S||_O,St=await(async function(ee,ln){const{video:{prefetchedVideo:it}}=ln;return it?.userId!==ee||it.loaded?"":hc(Fp(Aa(SMe,1),wu(1e3).pipe(M2(""))))})(o,x());Re.some((ee=>ee.userId===o&&ee.key===ct&&ee.canvasId===_e.id))||B.renderVideo(_e,o,ct,i,c,d,p,v,ut,_||"",Te),o!==U&&B.subscribeVideo(o,v,!1),ce.includes(o)||P(YQ(o)),St&&P(x3(void 0)),P(E2({userId:o,key:ct,canvasId:_e.id,videoQuality:v,aspectRatio:c?i/c:0}))}})),V==="failed"?Promise.reject({type:Jh,reason:"Video  decode status is failed",errorCode:ht.INTERNAL_ERROR}):Promise.resolve("")},Qx={video:{detectAction:zs.getVideoProcessorCapability,errorCode:{unsupported:ht.VIDEO_PROCESSOR_UNSUPPORTED,duplicateCreate:ht.VIDEO_PROCESSOR_DUPLICATE_CREATE,mismatchProcessor:ht.VIDEO_PROCESSOR_MISMATCH_PROCESSOR,limitExceed:ht.VIDEO_PROCESSOR_LIMIT_EXCEED}},audio:{detectAction:zs.getAudioProcessorCapability,errorCode:{unsupported:ht.AUDIO_PROCESSOR_UNSUPPORTED,duplicateCreate:ht.AUDIO_PROCESSOR_DUPLICATE_CREATE,mismatchProcessor:ht.AUDIO_PROCESSOR_MISMATCH_PROCESSOR,limitExceed:ht.AUDIO_PROCESSOR_LIMIT_EXCEED}},share:{detectAction:zs.getShareProcessorCapability,errorCode:{unsupported:ht.SHARED_PROCESSOR_UNSUPPORTED,duplicateCreate:ht.SHARED_PROCESSOR_DUPLICATE_CREATE,mismatchProcessor:ht.SHARED_PROCESSOR_MISMATCH_PROCESSOR,limitExceed:ht.SHARED_PROCESSOR_LIMIT_EXCEED}}},Pme=(e,n)=>{var o;const{store:{getState:i}}=e,c=i(),{meeting:{mediaFeatureOptions:d}}=c;return(o=Qx[n])===null||o===void 0?void 0:o.detectAction(d||"")},kAe=(e,n)=>{const o=e.store.getState(),i=Q_(o).find((c=>c.userId===n));if(i){const{caps:c}=i;return(d=>!(512&~d))(c)}return!1};var DAe,MAe,PAe,NAe,LAe,BAe,FAe,VAe,HAe,$Ae,UAe,zAe,jAe,WAe,GAe,qAe,KAe,ZAe,YAe,XAe,JAe,QAe,exe,txe,nxe,oxe,sxe,rxe,ixe,axe,lxe,cxe,uxe,dxe,hxe,fxe,pxe,mxe,gxe,vxe,yxe,bxe,Sxe,Cxe,Exe,wxe,_xe,Txe,Axe,xxe,Oxe,Ixe,Rxe,kxe,Dxe,Mxe,Pxe,Nxe,Lxe,Bxe,Fxe,Vxe,Hxe,$xe,Uxe,zxe,jxe,Wxe,Gxe,qxe,Kxe,Zxe,Yxe,Xxe,Jxe,Qxe,eOe,tOe,nOe,oOe,sOe,rOe,iOe,aOe,lOe,cOe,uOe,dOe,hOe,fOe,pOe,mOe,gOe,vOe,yOe,Rt;const xy=Np("Audio"),Ed=Np("Video"),wd=Np("Sharing"),bOe=Np("Processor"),WL=Np("CameraControl"),$_=Np("Remote Control"),SOe=kte(HTMLCanvasElement,0),KZe=kte([HTMLCanvasElement,HTMLVideoElement],0),COe=kte(HTMLCanvasElement,0,["id"]),EOe=kte([HTMLCanvasElement,HTMLVideoElement],0,["id"]),ZZe=y3e("annotation"),YZe=y3e("remote control");let XZe=(DAe=Go("audio"),MAe=Go("audio"),PAe=Go("audio"),NAe=Go("audio"),LAe=Go("audio"),BAe=Np("Audio",[1,2,3]),FAe=Go("audio"),VAe=Np("Audio",[1,2]),HAe=Go("audio"),$Ae=Go("audio"),UAe=Go("audio"),zAe=Go("audio"),jAe=Go("share"),WAe=Go("audio"),GAe=Go("share"),qAe=Go("audio"),KAe=Go("audio"),ZAe=Go("audio"),YAe=Go("audio"),XAe=Go("audio"),JAe=Go("audio"),QAe=Np("Audio",[1,2]),exe=Go("audio"),txe=Np("Audio",[1,2]),nxe=Go("audio"),oxe=Go("audio"),sxe=Go("audio"),rxe=Go("audio"),ixe=Go("video"),axe=Go("video"),lxe=Go("video"),cxe=Go("processor"),uxe=Go("processor"),dxe=Go("processor"),hxe=Go("video"),fxe=Go("video"),pxe=Go("video"),mxe=Go("video"),gxe=Go("video"),vxe=Go("video"),yxe=Go("video"),bxe=Go("video"),Sxe=Go("video"),Cxe=Go("video"),Exe=Np("Video",[2]),wxe=Go("video"),_xe=Np("Video",[1]),Txe=Go("video"),Axe=Go("video"),xxe=Go("video"),Oxe=Go("video"),Ixe=Go("video"),Rxe=Go("video"),kxe=Go("video"),Dxe=Go("video"),Mxe=Go("video"),Pxe=Go("video"),Nxe=Go("video"),Lxe=Go("video"),Bxe=Go("video"),Fxe=Go("video"),Vxe=Go("video"),Hxe=Go("video"),$xe=Go("share"),Uxe=Go("share"),zxe=Go("share"),jxe=Go("share"),Wxe=Go("share"),Gxe=Go("share"),qxe=Go("share"),Kxe=Go("share"),Zxe=aTe("isShareOptionLocked"),Yxe=aTe("isShareOptionLocked"),Xxe=Go("share"),Jxe=Go("share"),Qxe=Go("share"),eOe=Go("share"),tOe=Go("share"),nOe=Go("share"),oOe=Go("share"),sOe=Go("share"),rOe=Go("share"),iOe=Go("share"),aOe=Go("share"),lOe=Go("share"),cOe=Go("share"),uOe=Go("share"),dOe=Go("share"),hOe=Go("share"),fOe=Go("share"),pOe=Go("share"),mOe=Go("share"),gOe=Go("share"),vOe=Go("share"),yOe=Go("share"),Rt=class extends VS{constructor(e){super(e),this[Mn]=void 0,this[dc].dispatch(oye()),this[Mn]={store:e,mediaAgent:_te(_m(zs.getInstance())),rwgAgent:ta.createAgent()}}startAudio(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d,mediaAgent:p}=n,v=i(),S=Ss(v);if(S?.audio===Qi.Computer)return Promise.resolve("");if(S?.audio===Qi.Phone)return Promise.reject({type:bn,reason:"joined by phone",errorCode:ht.AUDIO_IN_PSTN});{const{audio:{isAllowToTalk:_,isComputerAudioLoading:x,canPlayAudio:P,customizeAudioOption:{speakerOnly:B}},media:{audioDecodeStatus:H,audioEncodeStatus:U}}=v;if(x)return Promise.reject({type:bn,reason:"Computer audio has been loading, please wait.",errorCode:ht.AUDIO_CAPTURE_LOADING});const z=(function(ce,se){const Se=se?{...se}:void 0;if(kTe(ce.meeting.mediaFeatureOptions||"",ce.audio.isWebRtcAudioCapable)||Se?.backgroundNoiseSuppression!==!0||(console.warn("Background noise suppression requires SharedArrayBuffer and is only supported on desktop browser"),Object.assign(Se,{backgroundNoiseSuppression:void 0})),Se?.originalSound!==void 0){Se.backgroundNoiseSuppression&&Se.originalSound&&(console.warn("Enabling original sound will disable background noise suppression."),Object.assign(Se,{backgroundNoiseSuppression:!1}));const{originalSound:Ce}=Se;typeof Ce=="object"&&Ce.stereo&&!DTe()&&(console.warn("Cannot enable stereo audio on current platform due to the browser limitation"),Object.assign(Ce,{stereo:!1}))}return MTe()||Se?.syncButtonsOnHeadset!==!0||(console.warn("Sync buttons on headset is not supported on the current platform"),Object.assign(Se,{syncButtonsOnHeadset:void 0})),Se!=null&&Se.mediaFile&&!zs.isSupportMediaPlaybackAsAudioInput()&&(console.warn("Cannot use media file as audio input due to the browser limitation"),Object.assign(Se,{mediaFile:void 0})),Se})(v,o);c(P1e(z??{}));const{speakerOnly:Z,autoStartAudioInSafari:te}=z||{};if(!!B!=!!Z&&c(Q6({userId:v.meeting.userId,key:"isSpeakerOnly",value:!!Z})),!S)return Promise.reject({type:bn,reason:"Please call `startAudio` method after the `join` has been resolved",errorCode:ht.STREAM_SESSION_JOIN_REQUIRED});{const ce=tf(S.userRole)&&!_||Z,{encodeInitStatus:se,decodeInitStatus:Se}=Iye(v,S,Z);if(rz()&&(Se!=="success"||se!=="success"))return Promise.reject({type:bn,reason:"It is required to wait for the audio encoding and decoding to be ready before calling `startAudio` method",errorCode:ht.AUDIO_ENCODING_REQUIRED});c(Hk(!0)),$f("audio",se,Se).subscribe((([Ce,Te])=>{if(Ce&&Te){let V=P||(rz()||is.isIOSMobile)&&!te?Promise.resolve():(function(){const ke=URL.createObjectURL(x7e),et=new Audio(ke);et.muted=!1;const $e=Ete((()=>Promise.reject()),3e3),Re=is.isIOSMobile?new Promise(((_e,ut)=>{var ct;et.addEventListener("canplaythrough",(()=>{et.play().then((()=>{_e(!0)})).catch((St=>{ut(St)}))})),(ct=et.load)===null||ct===void 0||ct.call(et)})):et.play();return Promise.race([Re,$e]).finally((()=>{URL.revokeObjectURL(ke)}))})();V===void 0&&(V=Promise.resolve()),V.then((()=>Tve("audio",i()))).then((()=>{const ke=i();Rye(d,ke),k3(p,ke,!ce),tf(S.userRole)&&_&&c(Eye(!0)),c(d4(!0))})).catch((()=>{c(d4(!1)),c(Hk(!1))}))}else c(Hk(!1))}))}return U==="failed"||H==="failed"?(c(Hk(!1)),Promise.reject({type:Jh,reason:"audio encode or decode error",errorCode:ht.INTERNAL_ERROR})):new Promise(((ce,se)=>{PTe().subscribe({next:()=>{c(Hk(!1)),ce("")},error:Se=>{zs.getInstance().leaveComputerAudio();const Ce=Ss(i());Ce?.audio!==Qi.Phone&&(c(hT(v2.MicrophoneError)),d.joinOrLeaveVoip(!1)),c(Hk(!1)),se(Se)}})}))}})(this[Mn],e)}stopAudio(){return(async e=>{const{store:{getState:n,dispatch:o},mediaAgent:i,rwgAgent:c}=e,d=n(),{audio:{isComputerAudioLoading:p,isShareAudioEnabled:v,isSharingAudio:S,isUsingMediaPlayback:_,customizeAudioOption:{speakerOnly:x}},meeting:{mediaFeatureOptions:P}}=d,B=Ss(d);if(p)return Promise.reject({type:bn,reason:"Computer audio has not finished joining, please wait.",errorCode:ht.AUDIO_CAPTURE_LOADING});if(v){if(S&&!zs.isSupportOpenMicWhenShareAudio(P||""))return Promise.reject({type:bn,reason:"Cannot stop audio during sharing with audio",errorCode:ht.AUDIO_SHARE_AUDIO_CONFLICT});o(h4(void 0)),o(dT(void 0))}return B?.audio===Qi.Computer?(o(hT(v2.Active)),await i.leaveComputerAudio(),c.joinOrLeaveVoip(!1),x&&o(Q6({userId:d.meeting.userId,key:"isSpeakerOnly",value:void 0})),_&&vg.getInstance().stopAudioElement(),o($2(0)),Cr(Cte)):Promise.resolve("")})(this[Mn])}muteAudio(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d,mediaAgent:p}=n,v=i(),S=Ss(v),{participants:{allowTalkAttendeesList:_,attendeesList:x},meeting:{mediaFeatureOptions:P}}=v;if(o==null||o===S?.userId)return S?.audio===""||S?.audio===null?Promise.reject({type:bn,reason:"no audio joined",errorCode:ht.AUDIO_NOT_STARTED}):S?.muted===!0?Promise.resolve(""):(c(_S(q0.Active)),d.mute(S.userId,!0),p.muteAudio(),v.audio.isShareAudioEnabled&&!zs.isSupportOpenMicWhenShareAudio(P||"")&&c(dT(!0)),Cr(J0e).then((()=>"")));if(Iv(v)){const B=_.concat(x).find((H=>H.userId===o));return B?B.audio===""||B===null?Promise.reject({type:bn,reason:"no audio joined",errorCode:ht.AUDIO_NOT_STARTED}):B.muted===!1?(d.mute(o,!0),Cr({event:TMe,operations:[xn((H=>H.id===o&&H.muted!==void 0)),Jr(1)]},(H=>H.id===o&&H.muted==1))):Promise.resolve(""):Promise.reject({type:ar,reason:"no matching user",errorCode:ht.STREAM_MISMATCH_USER})}return Promise.reject({type:Bp,errorCode:ht.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED})})(this[Mn],e)}unmuteAudio(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d,mediaAgent:p}=n,v=i(),S=Ss(v),{audio:{isAllowToTalk:_,isAllowToTalkAttendeeConnected:x},meeting:{mediaFeatureOptions:P},participants:{allowTalkAttendeesList:B,attendeesList:H}}=v;if(o===void 0||o===S?.userId){if(S?.audio===""||S?.audio===null)return Promise.reject({type:bn,reason:"no audio joined",errorCode:ht.AUDIO_NOT_STARTED});if(S?.muted===!1)return Promise.resolve("");if(v.audio.isShareAudioEnabled&&!zs.isSupportOpenMicWhenShareAudio(P||"")){if(v.audio.isSharingAudio)return Promise.reject({type:bn,reason:"Cannot unmute audio during sharing with audio",errorCode:ht.AUDIO_SHARE_AUDIO_CONFLICT});c(dT(!1))}return v.audio.bCanUnmute||S!=null&&S.isHost||S!=null&&S.bCoHost?(tf(S.userRole)&&(_?x||(await p.leaveComputerAudio(),await k3(p,v,!0),c(Eye(!0))):Promise.reject({type:bn,reason:"Webinar attendee cannot unmute self audio.",errorCode:ht.AUDIO_ATTENDEE_NOT_ALLOWED})),c(oz(S3.Active)),d.mute(S.userId,!1),p.unmuteAudio(),Cr(Q0e).then((()=>""))):Promise.reject({type:Bp,reason:"host not allow unmute themselves",errorCode:ht.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED})}if(Iv(v)){const U=B.concat(H).find((z=>z.userId===o));return U?U.audio===""||U===null?Promise.reject({type:bn,reason:"no audio joined",errorCode:ht.AUDIO_NOT_STARTED}):(U.muted===!0&&d.mute(o,!1),Promise.resolve("")):Promise.reject({type:ar,reason:"no matching user",errorCode:ht.STREAM_MISMATCH_USER})}return Promise.reject({type:Bp,errorCode:ht.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED})})(this[Mn],e)}dialOut(e,n,o,i){return((c,d,p,v,S)=>{const{store:{getState:_,dispatch:x},rwgAgent:P}=c,B=_(),{meeting:{callOutCountry:H,isSupportCallOut:U}}=B;if(U&&Array.isArray(H)&&H.findIndex((z=>z.code===d))>-1){const{seq:z}=P.audioDialout(d+p,v,!(S==null||!S.callMe),!(S==null||!S.pressingOne),!(S==null||!S.greeting));return x(_3e({sequence:z,phoneNumber:d+p})),Jx(i3.JoinAudioByCallMe)}return Promise.reject({type:ar,reason:"no matching country code",errorCode:ht.PSTN_MISMATCH_COUNTRY_CODE})})(this[Mn],e,n,o,i)}cancelDialOut(e,n,o){return((i,c,d,p)=>{const{rwgAgent:v}=i;return v.audioCancelDialout(c+d,!(p==null||!p.callMe)),Jx(i3.cancelDialOut)})(this[Mn],e,n,o)}hangup(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i}=e,c=n(),d=Ss(c);return d?.audio===Qi.Phone&&d.userId!==null?(i.audioDrop(d.userId),d.muted||o(_S(q0.Inherited)),Jx(i3.hangup)):Promise.reject({type:bn,reason:"not joined audio by phone",errorCode:ht.PSTN_NOT_CONNECTED})})(this[Mn])}switchMicrophone(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{audio:{activeMicrophone:v,mediaPlaybackFile:S,isUsingMediaPlayback:_}}=p,{microphones:x}=await hc(F2()),P=x.find((B=>B.deviceId===o));if(o==="default"||typeof o!="string"||P){const B=Ss(p);if(B?.audio===Qi.Computer){let H=!1;if(typeof o=="string")(o!==v||_)&&(d.changeMicrophone(o,P?.label,!(B==null||!B.muted)),c(_ye(void 0)),vg.getInstance().stopAudioElement(),H=!0);else if(o&&(!_||S?.url!==o.url)){const U=vg.getInstance();U.setAudioElement(o).then((()=>{o.playback!==void 0&&(d.enablePlayAudioFileLocally(!!o.playback),U.audioElement.dataset.playback=o.playback?"1":"0"),d.changeMicrophone(U.audioElement,void 0,!(B==null||!B.muted)),c(_ye(o))})),H=!0}if(H)return f6(PTe()).then((()=>""))}else typeof o=="string"&&c(nz(o));return Promise.resolve("")}return Promise.reject({type:Swe,errorCode:ht.STREAM_MISMATCH_DEVICE})})(this[Mn],e)}switchSpeaker(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,{audio:{activeSpeaker:p}}=i(),{speakers:v}=await hc(F2());if(o!=="default"&&v.findIndex((_=>_.deviceId===o))==-1)return Promise.reject({type:Swe,errorCode:ht.STREAM_MISMATCH_DEVICE});var S;if(((S=Ss(i()))===null||S===void 0?void 0:S.audio)===Qi.Computer){if(o!==p)return d.changeSpeaker(o),Cr(ave,(_=>_))}else c(Mte(o));return Promise.resolve("")})(this[Mn],e)}muteShareAudio(e){return((n,o)=>{const{mediaAgent:i,rwgAgent:c,store:{getState:d,dispatch:p}}=n,v=d(),{meeting:{userId:S}}=v;if(o&&o!==S)return IAe(o,!0,n.store,i);{const{audio:{isSharingAudio:x,isShareAudioEnabled:P,isShareAudioMuted:B}}=v;if(!P)return Promise.reject({type:bn,reason:"Cannot mute sharing audio when sharing audio is not enable",errorCode:ht.AUDIO_SHARE_AUDIO_CONFLICT});if(B)return Promise.resolve("");{c.muteShareAudio(!0);let H=Promise.resolve();var _;return x&&(H=(_=i.leaveSharingAudio(!0))===null||_===void 0?void 0:_.then((()=>L1e(c,v).then((U=>{U.forEach((z=>p(z)))}))))),sz(i,S,!0,v),Promise.all([Cr({event:Mp,operations:[xn((U=>U.bShareAudioOn!==void 0)),Jr(1)]},(U=>U.bShareAudioOn===!1)),H]).then((()=>(p(Eee(!0)),x&&(p(f4(!1)),dt(X3,{state:"off"})),"")))}}})(this[Mn],e)}unmuteShareAudio(e){return((n,o)=>{const{mediaAgent:i,rwgAgent:c,store:{getState:d,dispatch:p}}=n,v=d(),{meeting:{userId:S}}=v;if(o&&o!==S)return IAe(o,!1,n.store,i);{const{audio:{isSharingAudio:_,isShareAudioEnabled:x,isShareAudioMuted:P},share:{status:B}}=v;if(!x)return Promise.reject({type:bn,reason:"Cannot unmute sharing audio when sharing audio is not enable",errorCode:ht.AUDIO_NOT_STARTED});if(P===!1)return Promise.resolve("");{c.muteShareAudio(!1);let H=Promise.resolve();return _===!1&&B===Yr.Sharing&&(H=Oye(i,c,v).then((U=>{U.forEach((z=>p(z)))}))),sz(i,S,!1,v),Promise.all([Cr({event:Mp,operations:[xn((U=>U.bShareAudioOn!==void 0)),Jr(1)]},(U=>U.bShareAudioOn===!0)),H]).then((()=>(p(Eee(!1)),_===!1&&B===Yr.Sharing&&(p(f4(!0)),dt(X3,{state:"on"})),"")))}}})(this[Mn],e)}subscribeAudioStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{getState:c}}=n,d=c(),p=Ss(d),v=!o||o.decode,S=!o||o.encode;if(!p)return Promise.reject({type:bn,reason:"Call this function after the 'join' method resolved.",errorCode:ht.STREAM_SESSION_JOIN_REQUIRED});{const{encodeInitStatus:_,decodeInitStatus:x}=Iye(d,p);$f("audio",_,x).subscribe((([P,B])=>{P&&B&&(v&&i.subscribeToQos([kp.AudioDecode],iO),S&&i.subscribeToQos([kp.AudioEncode],iO))}))}return""})(this[Mn],e)}unsubscribeAudioStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{dispatch:c}}=n,d=!o||o.decode,p=!o||o.encode;return d&&(i.unsubscribeFromQos([kp.AudioDecode]),c(wee(wQ))),p&&(i.unsubscribeFromQos([kp.AudioEncode]),c(_ee(wQ))),null})(this[Mn],e)}enableBackgroundNoiseSuppression(e){return((n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,{audio:{isBackgroundNoiseSuppression:p,originalSound:v,isWebRtcAudioCapable:S},meeting:{mediaFeatureOptions:_}}=c();let x=o;return x===!!p||(x&&!kTe(_||"",S)?(console.warn("Background noise suppression requires SharedArrayBuffer and is only supported on desktop browser"),x=!1):(x&&v&&(console.warn("Enabling noise suppression will disable original sound."),d(Aye(!1))),d(wye(x)),i.changeAudioProfile(xye(c())))),Promise.resolve("")})(this[Mn],e)}enableSyncButtonsOnHeadset(e){return((n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,p=c(),{audio:{isHIDEnabled:v,microphoneDevicesList:S,activeMicrophone:_}}=p;if(o===!!v)return Promise.resolve("");{const P=Ss(p);var x;return P?(o&&!MTe()?console.warn("Sync buttons on headset is not supported on the current platform"):(i.enableSyncButtonsOnHeadset(o,(x=S.find((B=>B.deviceId===_)))===null||x===void 0?void 0:x.label,P.muted),d(B3e(o))),Promise.resolve("")):Promise.reject({type:bn,reason:"Please call `enableSyncButtonsOnHeadset` method after the `join` has been resolved",errorCode:ht.STREAM_SESSION_JOIN_REQUIRED})}})(this[Mn],e)}enableOriginalSound(e){return((n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,{audio:{isBackgroundNoiseSuppression:p,originalSound:v}}=c(),S=o;return S===v||typeof o=="object"&&Mz(o,v)||(typeof S!="object"||S?.stereo!==!0||DTe()||(console.warn("Cannot enable stereo audio on current platform due to the browser limitation"),S.stereo=!1),p&&S&&(console.warn("Enabling original sound will disable background noise suppression."),d(wye(!1))),d(Aye(S)),i.changeAudioProfile(xye(c()))),Promise.resolve("")})(this[Mn],e)}callCRCDevice(e,n){return((o,i,c)=>{const{rwgAgent:d,store:{dispatch:p,getState:v}}=o,{seq:S}=d.inviteCRCDevice(i,c);return p(V3e({sequence:S,ip:i,protocol:c})),Jx(i3.crcCallOut).then((()=>{var _;const{audio:{crcDevice:x}}=v();return(_=x.find((P=>P.ip===i&&P.protocol===c&&P.sequence===S)))===null||_===void 0?void 0:_.uuid}))})(this[Mn],e,n)}cancelCallCRCDevice(e,n){return((o,i,c)=>{const{rwgAgent:d,store:{getState:p}}=o,{audio:{crcDevice:v}}=p(),S=v.find((_=>_.ip===i&&_.protocol===c));return S&&S.returnCode===nJ.Ringing?(d.cancelInviteCRCDevice(S.transId),Promise.resolve("")):Promise.reject({type:bn,reason:"Cannot cancel call out ",errorCode:ht.CRC_NOT_CONNECTED})})(this[Mn],e,n)}muteAllAudio(){return(e=>{const{rwgAgent:n}=e;return n.audioMuteAll(!0),K5("bMutedAll",!0)})(this[Mn])}unmuteAllAudio(){return(e=>{const{rwgAgent:n}=e;return n.audioMuteAll(!1),K5("bMutedAll",!1)})(this[Mn])}muteAudioUponEntry(e=!0){return((n,o=!0)=>{const{store:{getState:i},rwgAgent:c}=n,{audio:{bMutedUponEntry:d}}=i();return d===o?Promise.resolve(""):(c.setMuteOnEntry(o),K5("bMutedUponEntry",o))})(this[Mn],e)}allowUnmuteAudioThemselves(e=!0){return((n,o=!0)=>{const{store:{getState:i},rwgAgent:c}=n,{audio:{bCanUnmute:d}}=i();return d===o?Promise.resolve(""):(c.allowUnmuteAudio(o),K5("bCanUnmute",o))})(this[Mn],e)}getMicList(){return(({store:{getState:e}})=>{const n=e();return n.audio?[...n.audio.microphoneDevicesList]:[]})(this[Mn])}getSpeakerList(){return(({store:{getState:e}})=>{const n=e();return n.audio?[...n.audio.speakerDevicesList]:[]})(this[Mn])}getAudioState(e){return(({store:{getState:n}},o)=>{const i=n(),{meeting:{isWebinar:c}}=i;let d=null;return o==null?d=Ss(i):(d=i.participants.attendeesList.find((p=>p.userId===o)),c&&!d&&(d=i.participants.xmppAttendeeList.find((p=>p.userId===o)))),d?d.audio:null})(this[Mn],e)}isAudioMuted(e){return(({store:{getState:n}},o)=>{const i=n(),{meeting:{isWebinar:c}}=i;let d=null;return o===void 0?d=Ss(i):(d=i.participants.attendeesList.find((p=>p.userId===o)),c&&!d&&(d=i.participants.xmppAttendeeList.find((p=>p.userId===o)))),!!d&&!!d.muted})(this[Mn],e)}getActiveMicrophone(){return(({store:{getState:e}})=>{const n=e();return n.audio?n.audio.activeMicrophone:null})(this[Mn])}getActiveSpeaker(){return(({store:{getState:e}})=>{const n=e();return n.audio?n.audio.activeSpeaker:null})(this[Mn])}isSupportCallOut(){return(({store:{getState:e}})=>{const{meeting:{isSupportCallOut:n,callOutCountry:o}}=e();return n&&Array.isArray(o)&&o?.length>0})(this[Mn])}getDialOutStatus(){return(({store:{getState:e}})=>{const{audio:n}=e();return n?.dialout[n.dialout.length-1].returnCode})(this[Mn])}getDialOutCountries(){return(({store:{getState:e}})=>{const{meeting:{callOutCountry:n}}=e();return Array.isArray(n)?n:[]})(this[Mn])}getShareAudioStatus(){return(({store:{getState:e}})=>{const{audio:{isShareAudioEnabled:n,isShareAudioMuted:o,isSharingAudio:i}}=e();return{isShareAudioEnabled:n,isShareAudioMuted:o,isSharingAudio:i}})(this[Mn])}isOthersShareAudioMutedLocally(e){return(({store:{getState:n}},o)=>{var i;const{audio:{localShareAudioUserMutedList:c}}=n();return(i=c.find((d=>d.userId===o)))===null||i===void 0?void 0:i.muted})(this[Mn],e)}getAudioStatisticData(){return(({store:{getState:e}})=>{const{audio:{statistic:n}}=e();return{...n}})(this[Mn])}getDialInInfo(){return(({store:{getState:e}})=>{const{meeting:{meetingNumber:n,tollNumbers:o,participantID:i,h323Password:c}}=e();return o===void 0?null:{meetingId:n,participantId:i,password:c||"",tollNumbers:o.map((d=>({...d})))}})(this[Mn])}isSupportMicrophoneAndShareAudioSimultaneously(){return(function(e){const{store:{getState:n}}=e,o=n(),{meeting:{mediaFeatureOptions:i}}=o;return zs.isSupportOpenMicWhenShareAudio(i||"")})(this[Mn])}getAudioMediaPlaybackController(){return(({store:{getState:e},mediaAgent:n})=>{const o=e(),{audio:{isUsingMediaPlayback:i}}=o;if(i){const{audioElement:c}=vg.getInstance();return Bwe(c,"audio",o,n)}return null})(this[Mn])}isAllowToUnmute(){return(({store:{getState:e}})=>{const n=e();return!!n.audio&&!!n.audio.bCanUnmute})(this[Mn])}getSessionSIPAddress(){return(e=>{const{store:{getState:n}}=e,{meeting:{sipDomain:o,h323Password:i,meetingNumber:c}}=n();return o?`${c}.${i??""}@${o}`:null})(this[Mn])}startVideo(e){return((n,o)=>{var i;const{store:{getState:c,dispatch:d},mediaAgent:p}=n,v=c(),{media:{videoDecodeStatus:S,videoEncodeStatus:_,enforceVirtualBackground:x},video:{isCaptureCameraLoading:P,isCurrentUserStartedVideo:B,isVideoMuted:H,backgroundMode:U},meeting:{isUseWBVideo:z}}=v,Z=o?{...o}:void 0;if(B)return Promise.reject({type:bn,reason:"Video is started",errorCode:ht.VIDEO_MISMATCH_STATE});if(P)return Promise.reject({type:bn,reason:"Camera is starting,please wait.",errorCode:ht.VIDEO_CAPTURE_LOADING});if(H&&!Iv(v))return Promise.reject({type:bn,reason:"Video is muted by the host",errorCode:ht.VIDEO_MUTED_BY_HOST});if(r2(z))if(iT(Z?.videoElement))console.warn('The "videoElement" option will be removed in version 2.x. Please use the "attachVideo" or "renderVideo" method to render the self-view.');else{console.warn('Rendering self-view on Chromium browser, Android browser without SharedArrayBuffer or iOS browser requires video tag, Please use "attachVideo" or pass a video element instead of a canvas element in the "renderVideo" method');let te=document.body.querySelector(`#${Gge}`);if(!te){te=document.createElement("video");const ce=is.isSafari||is.isIOSMobile?"position:fixed;top:-10000px;left:-10000px":"display:none";te.setAttribute("style",ce),te.muted=!0,te.playsInline=!0,te.autoplay=!0,te.id=Gge,document.body.appendChild(te)}Z&&Object.assign(Z,{videoElement:te})}return!Ave(x,z)&&Z!=null&&Z.virtualBackground?Promise.reject({type:ar,reason:"Virtual background only compatible with Chrome and Edge with SharedArrayBuffer enabled.",errorCode:ht.VIDEO_VB_UNSUPPORTED}):U===Eh.VideoProcessor&&Z!=null&&Z.virtualBackground&&Z!=null&&(i=Z.virtualBackground)!==null&&i!==void 0&&i.imageUrl?Promise.reject({type:bn,reason:"Cannot start capture video with virtual background when video processor is enabled",errorCode:ht.VIDEO_VB_PROCESSOR_CONFLICT}):(d(a3(!0)),$f("video",_,S).subscribe((([te])=>{if(te){const ce=c(),{video:{activeCamera:se,isSupportHDVideo:Se,virtualBackground:{imageSrc:Ce},mask:{imageSrc:Te},isMirrored:V}}=ce,{cameraId:ke=se,captureWidth:et=0,captureHeight:$e=0,mirrored:Re,hd:_e,fullHd:ut,virtualBackground:ct,mask:St}=Z||{};x_e(Re??V,p,ce),(_e||ut)&&(Se&&zs.isCompatibleHardwareForEncode()&&zs.isSupportVideoEncodeHardwareAcceleration().then((Ht=>{Ht&&(p.enableHardwareAccelerationForVideoEncode(!0),d(JL({encode:Ht})))})),Se||console.warn("Cannot capture HD video due to either account restriction and/or hardware limitation"));const ee=ct||ct===void 0&&!!Ce&&St===void 0,ln=St||St===void 0&&!!Te;let it=Promise.resolve({});if(ee){const Ht=ct||{imageUrl:void 0,cropped:void 0};it=bJ({...Ht,captureWidth:et,captureHeight:$e,cameraId:ke,hd:_e},p,ce).then((()=>Ht))}else if(ln){const Ht=St||{imageUrl:void 0,cropped:void 0,clip:void 0,rootWidth:void 0,rootHeight:void 0};Ht.rootWidth||Object.assign(Ht,{rootWidth:1280}),Ht.rootHeight||Object.assign(Ht,{rootHeight:720}),it=SJ({...Ht,captureWidth:et,captureHeight:$e,cameraId:ke,hd:_e},p,ce).then((()=>Ht))}Z!=null&&Z.mediaFile&&!zs.isSupportMediaPlaybackAsVideoInput()&&(console.warn("Cannot use media file as video input due to the browser limitation."),Object.assign(Z,{mediaFile:void 0})),it.then((Ht=>Tve("video",c()).then((()=>Ht)))).then((Ht=>{KNe(p,ce,Z).forEach((Ut=>{d(Ut)})),ee?d(mJ(Ht)):ln&&d(gJ(Ht))})).catch((Ht=>{d(a3(!1)),dt(Z0e,{...Ht??{}})}))}else d(a3(!1))})),Jx(bwe.startCaptureVideo).then((()=>{d(ZQ(!1)),d(KQ(!1))})).catch((te=>Promise.reject(A_e(te)))).finally((()=>{d(a3(!1))})))})(this[Mn],e)}stopVideo(){return(e=>{const{store:{getState:n},mediaAgent:o}=e,{video:{isCaptureCameraLoading:i,isCurrentUserStartedVideo:c,isUsingMediaPlayback:d}}=n();return i?Promise.reject({type:bn,reason:"Camera is starting,please wait.",errorCode:ht.VIDEO_CAPTURE_LOADING}):c?(o.stopCaptureVideo(),d&&vg.getInstance().stopVideoElement(),Cr(w3,(p=>p?.failed!==!0))):Promise.reject({type:bn,reason:"camera is closed",errorCode:ht.VIDEO_MISMATCH_STATE})})(this[Mn])}switchCamera(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{video:{cameraDevicesList:v,isCurrentUserStartedVideo:S,virtualBackground:_,mask:x,mediaPlaybackFile:P,isUsingMediaPlayback:B,customizedVideoOption:H,activeCamera:U}}=p;if(typeof o=="string"&&!qNe(o,v))return Promise.reject({type:ar,reason:"Cannot find cameraDeviceId in camera devices list.",errorCode:ht.STREAM_MISMATCH_DEVICE});const z=U===o;if(S||_!=null&&_.isVBConfigured||x.isMaskConfigured){if(typeof o=="string"){const{captureWidth:Z,captureHeight:te}=xte(H);d.changeCamera(o,xz.includes(o),{width:Z,height:te},z),c(Bve(void 0)),vg.getInstance().stopVideoElement()}else if(o&&(!B||P?.url!==o.url)){const Z=vg.getInstance();Z.setVideoElement(o).then((()=>{d.changeCamera(Z.videoElement),c(Bve(o))}))}return H!=null&&H.customVideoConstraints&&!z&&c(ANe()),Jx(bwe.switchCameraVideo).then((()=>{c(ZQ(!1)),c(KQ(!1))})).catch((Z=>(d.stopCaptureVideo(),Promise.reject(A_e(Z)))))}return typeof o=="string"&&c(Q3(o)),Promise.resolve()})(this[Mn],e)}createProcessor(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{media:{videoEncodeStatus:v,audioEncodeStatus:S,sharingEncodeStatus:_},processor:{processorCreatedList:x},meeting:{mediaFeatureOptions:P}}=p,{type:B,name:H}=o;if(!(B in Qx)||!Qx[B].detectAction(P||""))throw{type:bn,reason:`Your browser does not support ${B} processor.`,errorCode:Qx[B].errorCode.unsupported};if(x.some((({name:Z,type:te})=>Z===H&&te===B)))throw{type:ar,reason:"You have already created this Processor",errorCode:Qx[B].errorCode.duplicateCreate};const U={video:v,audio:S,share:_}[B],z=await hc($f(B,U,"success").pipe(mi((([Z])=>{if(Z)return Fp(lo(d.addProcessor(o)).pipe(Do((ce=>({result:ce})))),wu(1e4).pipe(Do((()=>{throw{type:yte,errorCode:ht.OPERATION_TIMEOUT}}))));throw{type:Jh,reason:`${te=B,D9e($Ne(te).toLowerCase())} encode status is failed`,errorCode:ht.INTERNAL_ERROR};var te})),Cm((Z=>{throw Z!=null&&Z.type?Z:{type:Jh,reason:"An error occurred while creating a Processor.",errorCode:ht.INTERNAL_ERROR}}))));if(!z.result)throw{type:Jh,reason:"An error occurred while creating a Processor.",errorCode:ht.INTERNAL_ERROR};return c(S4e(o)),z.result})(this[Mn],e)}addProcessor(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{processor:{processorCreatedList:v,processorInstanceList:S},video:{backgroundMode:_,mask:x,virtualBackground:P}}=p,{name:B,type:H}=o,U=["video","share"].includes(H);if(!v.some((({name:z,type:Z})=>z===B&&Z===H)))throw{type:ar,reason:"Processor not found.",errorCode:Qx[H].errorCode.mismatchProcessor};if(S.some((({type:z,name:Z})=>z===H&&(U||B===Z))))throw{type:bn,reason:U?`Currently we only support using one ${H} processor at a time.`:"Cannot add this processor again.",errorCode:Qx[H].errorCode.limitExceed};if(H==="video"){if((_===Eh.VirtualBackground||_===Eh.Mask)&&(x.imageSrc||P.imageSrc))throw{type:bn,reason:"Cannot use video processor when virtual background or mask is enabled",errorCode:ht.VIDEO_VB_PROCESSOR_CONFLICT};c(Lve(Eh.VideoProcessor))}return await d.startProcessor(o),c(C4e({name:B,type:H})),""})(this[Mn],e)}removeProcessor(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{processor:{processorInstanceList:v}}=p,{name:S,type:_}=o;if(!v.some((({name:x,type:P})=>x===S&&P===_)))throw{type:ar,reason:"Processor not found.",errorCode:Qx[_].errorCode.mismatchProcessor};return await d.stopProcessor(o),c(E4e({name:S,type:_})),_==="video"&&c(Lve(Eh.Null)),""})(this[Mn],e)}renderVideo(e,n,o,i,c,d,p,v,S){return qZe(this[Mn],e,n,o,i,c,d,p,v,S)}stopRenderVideo(e,n,o,i,c=!1,d){return((p,v,S,_,x,P=!1,B)=>{const{store:{getState:H,dispatch:U},mediaAgent:z}=p,Z=H(),{video:{subscribedVideoList:te,renderedVideoList:ce},meeting:{userId:se}}=Z;if(te.includes(S)){const Se=_||_O;if(r2()&&S===se&&iT(v))return v.pause(),U(pJ(S)),U(u1e(v.id)),Promise.resolve("");if(ce.find((Ce=>Ce.userId===S&&Ce.key===Se&&Ce.canvasId===v.id))&&(z.stopRenderVideo(v.id,S,Se,sme(x),P),ce.filter((Ce=>Ce.userId===S)).length==1&&(S!==se&&z.unsubscribeVideo(S),U(pJ(S))),U(XQ({userId:S,key:Se,canvasId:v.id}))),B&&se!==B){const{video:{subscribedVideoList:Ce,prefetchedVideo:Te}}=H();h3(Z).find((V=>V.userId===B))&&!Ce.includes(B)&&Te?.userId!==B&&U(x3({userId:B,lastCopy:Te}))}}return Promise.resolve("")})(this[Mn],e,n,o,i,c,d)}updateVideoCanvasDimension(e,n,o){return((i,c,d,p)=>{const{mediaAgent:v}=i;return d>=0&&p>=0&&v.updateRenderedVideoCanvasDimension(c,d,p),Promise.resolve("")})(this[Mn],e,n,o)}adjustRenderedVideoPosition(e,n,o,i,c,d,p){return((v,S,_,x,P,B,H,U)=>{const{store:{getState:z,dispatch:Z},mediaAgent:te}=v,{video:{subscribedVideoList:ce}}=z();if(ce.includes(_)){if(iT(S))return Promise.resolve("");const se=U||_O;te.adjustRenderedVideoPosition(S.id,_,se,B,H,x,P,sme("#000")),Z(E2({userId:_,key:se,canvasId:S.id,aspectRatio:P?x/P:0}))}else console.warn("Cannot adjust the size or position of the video as the video has not been rendered yet.");return Promise.resolve("")})(this[Mn],e,n,o,i,c,d,p)}clearVideoCanvas(e,n){return((o,i,c)=>{const{mediaAgent:d}=o;return d.clearVideoCanvas(i.id,sme(c)),Promise.resolve("")})(this[Mn],e,n)}mirrorVideo(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{video:{isCurrentUserStartedVideo:v,virtualBackground:S,isMirrored:_}}=p;return _===o||((v||S!=null&&S.isVBConfigured)&&x_e(o,d,p),c(wNe(o))),Promise.resolve("")})(this[Mn],e)}enableHardwareAcceleration(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,{video:{isSupportHDVideo:p}}=i(),v=[];if(typeof o=="boolean"||o.decode!==void 0){const S=typeof o=="boolean"?o:!!o.decode;S?v.push(zs.isSupportVideoDecodeHardwareAcceleration().then((_=>(_&&d.enableHardwareAccelerationForVideoDecode(_),c(JL({decode:_})),_)))):(d.enableHardwareAccelerationForVideoDecode(S),c(JL({decode:S})),v.push(!0))}if(typeof o=="boolean"||o.encode!==void 0){const S=typeof o=="boolean"?o:!!o.encode;p?S?zs.isCompatibleHardwareForEncode()?v.push(zs.isSupportVideoEncodeHardwareAcceleration().then((_=>(_&&d.enableHardwareAccelerationForVideoEncode(_),c(JL({encode:_})),_)))):(console.warn("Can not turn on hardware acceleration with your graphic card due to the technical limitation"),v.push(!1)):(d.enableHardwareAccelerationForVideoEncode(!1),c(JL({encode:!1})),v.push(!0)):typeof o!="boolean"&&o!=null&&o.encode&&(console.warn("Can not use the hardware acceleration for video encoding due to the account restriction"),v.push(!1))}return Promise.all(v).then((S=>S.every((_=>!!_))))})(this[Mn],e)}subscribeVideoStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,{media:{videoDecodeStatus:p,videoEncodeStatus:v},video:{subscriptionStatus:S}}=c(),_=!o||o.decode,x=!o||o.encode;return $f("video",v,p).subscribe((([P,B])=>{const H={};_&&B&&!S.decode&&(i.subscribeToQos([kp.VideoDecode],iO),Object.assign(H,{decode:!0})),x&&P&&!S.encode&&(i.subscribeToQos([kp.VideoEncode],iO),Object.assign(H,{encode:!0})),o!=null&&o.detailed&&B&&!S.detailed&&(i.enableVideoObserver(!0),Object.assign(H,{detailed:!0})),d(Fve(H))})),null})(this[Mn],e)}unsubscribeVideoStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{dispatch:c}}=n,d=!o||o.decode,p=!o||o.encode,v={};return d&&(i.unsubscribeFromQos([kp.VideoDecode]),c(QQ(TO)),Object.assign(v,{decode:!1})),p&&(i.unsubscribeFromQos([kp.VideoEncode]),c(eee(TO)),Object.assign(v,{encode:!1})),o!=null&&o.detailed&&(i.enableVideoObserver(!1),Object.assign(v,{detailed:!1})),c(Fve(v)),null})(this[Mn],e)}previewVirtualBackground(e,n,o,i){return((c,d,p,v,S)=>{const{store:{getState:_,dispatch:x},mediaAgent:P}=c,B=_();return bJ({imageUrl:p,cropped:v,cameraId:S},P,B,d).then((H=>(typeof H=="object"&&H!=null&&H.type&&x(H),x(mJ({imageUrl:p,cropped:v})),!0))).catch((H=>Promise.reject({type:bn,...H??{}})))})(this[Mn],e,n,o,i)}updateVirtualBackgroundImage(e,n){return((o,i,c)=>{const{store:{getState:d,dispatch:p},mediaAgent:v}=o,S=d(),{video:{virtualBackground:{imageSrc:_,cropped:x},backgroundMode:P}}=S;return i===_&&c===x?Promise.resolve(!0):P===Eh.Mask||P===Eh.VideoProcessor?Promise.reject({type:bn,reason:`Cannot update virtual background in the ${P===Eh.Mask?"mask":"video processor"} mode`,errorCode:ht.VIDEO_VB_PROCESSOR_CONFLICT}):bJ({imageUrl:i,cropped:c},v,S).then((B=>(typeof B=="object"&&B!=null&&B.type&&p(B),p(mJ({imageUrl:i,cropped:c})),!0))).catch((B=>Promise.reject({type:bn,...B??{}})))})(this[Mn],e,n)}stopPreviewVirtualBackground(){return(e=>{const{store:{getState:n},mediaAgent:o}=e,{video:{virtualBackground:{isVBConfigured:i}}}=n();return i?(o.stopVirtualBackgroundSetting(),Promise.resolve(!0)):Promise.reject({type:bn,reason:"Cannot stop preview virtual background before start",errorCode:ht.VIDEO_VB_MISMATCH_STATE})})(this[Mn])}previewVideoMask(e,n){return((o,i,c)=>{const{store:{getState:d,dispatch:p},mediaAgent:v}=o,S=d();return c.rootWidth&&c.rootHeight||Object.assign(c,{rootWidth:i.width,rootHeight:i.height}),SJ(c,v,S,i).then((_=>(typeof _=="object"&&_!=null&&_.type&&p(_),p(gJ(c)),!0))).catch((_=>Promise.reject({type:bn,..._??{}})))})(this[Mn],e,n)}updateVideoMask(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{video:{mask:v,backgroundMode:S}}=p,{isMaskConfigured:_}=v;if(S===Eh.VirtualBackground||S===Eh.VideoProcessor)return Promise.reject({type:bn,reason:`Cannot update mask in the ${S===Eh.VirtualBackground?"virtual background":"video processor"} mode`,errorCode:ht.VIDEO_MASK_PROCESSOR_CONFLICT});if(_){const x={...o};return["imageUrl","cropped","clip","rootHeight","rootWidth"].forEach((P=>{o?.[P]===void 0&&(P==="imageUrl"?Object.assign(x,{imageUrl:v.imageSrc}):Object.assign(x,{[`${P}`]:v[P]}))})),SJ(x,d,p).then((P=>(typeof P=="object"&&P!=null&&P.type&&c(P),c(gJ(x)),!0))).catch((P=>Promise.reject({type:bn,...P??{}})))}return Promise.reject({type:bn,reason:"Cannot update mask",errorCode:ht.VIDEO_MASK_IMAGE_INACCESSIBLE})})(this[Mn],e)}stopPreviewVideoMask(){return(e=>{const{store:{getState:n},mediaAgent:o}=e,{video:{mask:{isMaskConfigured:i}}}=n();return i?(o.stopMaskSetting(),Promise.resolve(!0)):Promise.reject({type:bn,reason:"Cannot stop preview mask before start",errorCode:ht.VIDEO_MASK_IMAGE_INACCESSIBLE})})(this[Mn])}requestFarEndCameraControl(e){return((n,o)=>{const{store:{getState:i},rwgAgent:c}=n,d=i(),{meeting:{userId:p},video:{farEndCameraControlStatus:{controlledUserList:v}}}=d;return p===o?Promise.reject({type:bn,reason:'Using "stream.controlCamera" method to control self camera',errorCode:ht.FAR_END_CAMERA_CONTROL_MISMATCH_STATE}):h3(d).findIndex((S=>S.userId===o))===-1?Promise.reject({type:ar,reason:"Cannot request control camera with video off",errorCode:ht.FAR_END_CAMERA_CONTROL_MISMATCH_STATE}):Mme(d).findIndex((S=>S.userId===o))!==-1?(v.includes(o)||c.sendFarEndCameraControl(gg.Request,o),Promise.resolve("")):Promise.reject({type:bn,reason:"The far end camera does not support PTZ",errorCode:ht.FAR_END_CAMERA_CONTROL_DEVICE_UNSUPPORTED})})(this[Mn],e)}approveFarEndCameraControl(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d}=n,{video:{currentCameraControlStatus:{isRequested:p,isInControl:v,controllingUserId:S},ptz:_,activeCamera:x}}=i();if(p){if(v&&(!S||o===S))return Promise.resolve("");d.sendFarEndCameraControl(gg.Approve,o);const P=_?.[x];return P!==void 0&&d.sendCameraAblity({pan:!!P.pan,tilt:!!P.tilt,zoom:!!P.zoom}),c(tee(!1)),c(nee({isInControl:!0,userId:o})),dt(LQ,{isControlled:!0,userId:o}),Promise.resolve("")}return Promise.reject({type:bn,reason:"Cannot approve before request",errorCode:ht.FAR_END_CAMERA_CONTROL_MISMATCH_STATE})})(this[Mn],e)}declineFarEndCameraControl(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d}=n,{video:{currentCameraControlStatus:{isInControl:p,isRequested:v}}}=i();return v||p?(d.sendFarEndCameraControl(gg.Decline,o),c(tee(!1)),c(nee({isInControl:!1,userId:0})),dt(LQ,{isControlled:!1}),Promise.resolve("")):Promise.reject({type:bn,reason:"Cannot decline before request",errorCode:ht.FAR_END_CAMERA_CONTROL_MISMATCH_STATE})})(this[Mn],e)}giveUpFarEndCameraControl(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d}=n,{video:{farEndCameraControlStatus:{controlledUserList:p}}}=i();return p.includes(o)?(d.sendFarEndCameraControl(gg.GiveUp,o),c(oee(o)),Promise.resolve("")):Promise.reject({type:bn,reason:"Cannot give up control befire aquired",errorCode:ht.FAR_END_CAMERA_CONTROL_MISMATCH_STATE})})(this[Mn],e)}controlCamera(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,{video:{isCurrentUserStartedVideo:p,ptz:v,activeCamera:S}}=i();if(p){const{cmd:_,range:x,reset:P}=o,B=v[S];if(B){const H=p1e(B)||{},{key:U,range:z}=YNe(_,x);if(B[U])return Object.assign(H,{[U]:P?0:ZNe(B[U].capability,B[U].value,z)}),d.movePTZCamera(H).then((()=>{c(l1e({constraints:H,deviceId:S}))})).catch((Z=>Promise.reject({type:Jh,reason:Z,errorCode:ht.INTERNAL_ERROR})))}return Promise.resolve("")}return Promise.reject({type:bn,reason:"Cannot control the camera before it's started",errorCode:ht.FAR_END_CAMERA_CONTROL_MISMATCH_STATE})})(this[Mn],e)}controlFarEndCamera(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d}=n,p=i(),{video:{farEndCameraControlStatus:{controlledUserList:v,isControlling:S}}}=p,{userId:_,cmd:x,range:P}=o;if(S)return Promise.reject({type:bn,reason:"Cannot send new command while the previous control is not done",errorCode:ht.FAR_END_CAMERA_RATE_LIMIT});if(v.includes(_)){if(x===aO.SwitchCamera)return d.sendFarEndCameraControl(gg.SwitchCamera,_,aO.SwitchCamera),Promise.resolve("");{const B=Mme(p).find((H=>H.userId===_));if(B==null||!B.nFECC)return Promise.reject({type:bn,reason:"The far end camera does not support PTZ",errorCode:ht.FAR_END_CAMERA_CONTROL_DEVICE_UNSUPPORTED});if(P&&P>0){const H=P/100*1e4;return d.sendFarEndCameraControl(gg.StartControl,_,x),c(Nve(!0)),W6(200).pipe(_h(wu(H-100).pipe(Jr(1)))).subscribe((()=>{d.sendFarEndCameraControl(gg.ContinueControl,_,x)})),hc(wu(H).pipe(Yo((()=>{d.sendFarEndCameraControl(gg.StopControl,_,x),c(Nve(!1))})))).then((()=>""))}return Promise.reject({type:ar,reason:"Range cannot be negative or 0",errorCode:ht.FAR_END_CAMERA_INVALID_RANGE})}}return Promise.reject({type:bn,reason:"Cannot control before request granted",errorCode:ht.FAR_END_CAMERA_PERMISSION_REQUIRED})})(this[Mn],e)}attachVideo(e,n,o){return((i,c,d,p)=>{const{store:{getState:v,dispatch:S},mediaAgent:_}=i,x=v(),{meeting:{userId:P,isUseWBVideo:B},media:{enforceMultipleVideos:H,alternativeNameForVideoPlayer:U,disableRenderLimits:z},video:{videoAttachments:Z,subscribedVideoList:te}}=x,ce=zs.getMaxCountRender(B,!!H,z),se=te.filter((et=>et!==P)).length;if(ce>1&&c!==P&&!te.includes(c)&&se>=ce)return Promise.reject({type:bn,reason:`subscribe video counts greater than maximum size (${ce})`,errorCode:ht.VIDEO_RENDER_LIMIT_EXCEED});if(h3(x).findIndex((et=>et.userId===c))===-1)return Promise.reject({type:ar,reason:"user is not send video",errorCode:ht.STREAM_MISMATCH_USER});const{media:{videoDecodeStatus:Se}}=x;let Ce;const Te=U??"video-player";if(p){var V;const[et,$e]=gX(p,Te);if(!et)return Promise.reject($e);Ce=$e;const Re=Number((V=Ce.getAttribute("node-id"))!==null&&V!==void 0?V:"0");if(Re!==c&&r2()&&[Re,c].includes(P)){var ke;const _e=document.createElement(Te);for(const ut of Ce.attributes)_e.setAttribute(ut.name,ut.value);Re&&(Ce.setAttribute("node-id","0"),S(vJ({userId:Re,element:Ce}))),(ke=Ce.parentElement)===null||ke===void 0||ke.replaceChild(_e,Ce),Ce=_e}}else Ce=document.createElement(Te);return $f("video","success",Se).subscribe((async([et,$e])=>{if($e){const _e=Z[`${c}`];var Re;_e!=null&&_e.includes(Ce)?Ce.setAttribute("video-quality",`${d}`):(Re=Ce)===null||Re===void 0||Re.setAttribute("node-id",`${c}`),S(c1e({userId:c,element:Ce})),c!==P&&_.subscribeVideo(c,d,!1),te.includes(c)||S(YQ(c)),S(E2({userId:c,key:_O,canvasId:C3,videoQuality:d,aspectRatio:16/9}))}})),Promise.resolve(Ce)})(this[Mn],e,n,o)}detachVideo(e,n){return((o,i,c)=>{const{store:{getState:d,dispatch:p},mediaAgent:v}=o,S=d(),{video:{subscribedVideoList:_,videoAttachments:x},meeting:{userId:P},media:{alternativeNameForVideoPlayer:B}}=S;if(_.includes(i)){let U;const z=B??"video-player";if(c){const[ce,se]=gX(c,z);U=ce?se:void 0}const Z=x[`${i}`];let te;if(Z&&Z.length!==0){var H;U?Z.findIndex((Se=>Se===U))!==-1?(te=U,te.setAttribute("node-id","0"),p(vJ({userId:i,element:te}))):console.warn(`${c} has not been attached with userID:${i}`):(te=[...Z],te.forEach((Se=>{Se.setAttribute("node-id","0")})),p(vJ({userId:i,element:te})));const{video:{videoAttachments:ce,renderedVideoList:se}}=d();((H=ce[`${i}`])===null||H===void 0?void 0:H.length)===0&&(se.filter((Se=>Se.userId===i&&Se.canvasId!==C3)).length===0&&(i!==P&&v.unsubscribeVideo(i),p(pJ(i))),p(XQ({userId:i,key:_O,canvasId:C3})))}else console.warn(`UserId:${i} has not been attached.`);return Promise.resolve(te)}return Promise.resolve(void 0)})(this[Mn],e,n)}spotlight(e,n){return((o,i,c)=>{const{store:{getState:d},rwgAgent:p}=o,v=d(),{video:{spotlightUserList:S}}=v;return S.includes(i)?Promise.reject({type:ar,reason:`userId:${i} has already spotlighted`,errorCode:ht.VIDEO_SPOTLIGHT_MISMATCH_STATE}):h3(v).findIndex((_=>_.userId===i))===-1?Promise.reject({type:ar,reason:`userId:${i} has not started video`,errorCode:ht.STREAM_MISMATCH_USER}):(p.spotlightVideo(i,{bReplace:c,bSpotlight:!0,bUnSpotlightAll:!1}),Cr(_3,(_=>{const{spotlightList:x}=_;return x.includes(i)})))})(this[Mn],e,n)}removeSpotlight(e){return((n,o)=>{const{store:{getState:i},rwgAgent:c}=n,d=i(),{meeting:{userId:p},video:{spotlightUserList:v}}=d,S=o||p,_=Va(d);if(!v.includes(S)||_.findIndex((B=>B.userId===S))===-1)return Promise.reject({type:ar,reason:`userId:${o} is not spotlighted`,errorCode:ht.VIDEO_SPOTLIGHT_MISMATCH_STATE});const x=Iv(d);if(v.length>1&&S===p&&!x)return Promise.reject({type:bn,reason:"Cannot remove spotlight for self when the host has multiple spotlighted videos",errorCode:ht.VIDEO_SPOTLIGHT_MULTI_CONFLICT});if(S!==p&&!x)return Promise.reject({type:Bp,reason:"only host or co-host can cancel others spotlight",errorCode:ht.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED});c.spotlightVideo(S,{bReplace:!1,bSpotlight:!1,bUnSpotlightAll:!1});const P=S===p&&v.length===1?BQ:_3;return Cr(P,(B=>{const{spotlightList:H}=B;return!H.includes(S)}))})(this[Mn],e)}removeAllSpotlights(){return(e=>{const{store:{getState:n},rwgAgent:o}=e,{video:{spotlightUserList:i}}=n();return i.length===0?Promise.resolve(""):(o.spotlightVideo(null,{bUnSpotlightAll:!0}),Cr(_3,(c=>{const{spotlightList:d}=c;return d.length===0})))})(this[Mn])}screenshotVideo(e){return(async(n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,{video:{subscribedVideoList:p,selfPreviewVideoList:v,customizedVideoOption:S}}=c(),_=Ss(c()),x=o===_?.userId&&_.bVideoOn&&(v.length>0||!(S==null||!S.videoElement));if(!p.includes(o)&&!x)return Promise.reject({type:ar,reason:"user is not send video",errorCode:ht.STREAM_MISMATCH_USER});try{const P=await i.screenshot(o,"video");return o!==_?.userId&&d(Rve({targetUser:o,userId:_?.userId,displayName:_?.displayName})),P}catch(P){return Promise.reject({type:Jh,reason:P,errorCode:ht.INTERNAL_ERROR})}})(this[Mn],e)}isCapturingVideo(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.video&&o.video.isCurrentUserStartedVideo})(this[Mn])}isCameraTaken(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.video&&o.video.isCameraTaken})(this[Mn])}isCaptureForbidden(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.video&&o.video.isCaptureForbidden})(this[Mn])}getCameraList(){return(e=>{const{store:{getState:n}}=e,o=n();if(!o.video)return[];const{video:{cameraDevicesList:i}}=o;return i.map((c=>Object.assign({},c)))})(this[Mn])}getActiveCamera(){return(e=>{const{store:{getState:n}}=e,o=n();return o.video?o.video.activeCamera:""})(this[Mn])}getActiveVideoId(){return(e=>{const{store:{getState:n}}=e,o=n();return o.video?o.video.activeVideoId:0})(this[Mn])}getVideoMaxQuality(){return(e=>{const{store:{getState:n}}=e,o=n();return o.video?o.video.receivedVideoMaxQuality:EQ.Video_90P})(this[Mn])}getReceivedVideoDimension(){return(e=>{const{store:{getState:n}}=e,o=n();return o.video?o.video.receivedVideoDimension:null})(this[Mn])}getCapturedVideoResolution(){return(e=>{const{store:{getState:n}}=e;return{...n().video.capturedVideoDimension}})(this[Mn])}isSupportMultipleVideos(){return(e=>{const{store:{getState:n}}=e,{meeting:{isUseWBVideo:o},media:{enforceMultipleVideos:i,disableRenderLimits:c}}=n();return zs.getMaxCountRender(o,i,c)>1})(this[Mn])}isSupportHDVideo(){return(e=>{var n;const{store:{getState:o}}=e;return(n=o().video)===null||n===void 0?void 0:n.isSupportHDVideo})(this[Mn])}getHardwareAccelerationStatus(){return(e=>{var n;const{store:{getState:o}}=e;return(n=o().video)===null||n===void 0?void 0:n.hardwareAcceleration})(this[Mn])}getVideoStatisticData(){return(({store:{getState:e}})=>{const{video:{statistic:n}}=e();return{...n}})(this[Mn])}isSupportVirtualBackground(){return(e=>{const{store:{getState:n}}=e,o=n();return Ave(o.media.enforceVirtualBackground,o.meeting.isUseWBVideo)})(this[Mn])}getVirtualbackgroundStatus(){return(e=>{const{store:{getState:n}}=e;return{...n().video.virtualBackground}})(this[Mn])}isRenderSelfViewWithVideoElement(){return r2(this[dc].getState().meeting.isUseWBVideo)}getNetworkQuality(e){return((n,o)=>{var i;const{store:{getState:c}}=n,d=c(),{video:p,meeting:{userId:v}}=d,S=o??v,_=p==null||(i=p.networkQuality)===null||i===void 0?void 0:i[`${S}`];if(_){const x={};return _.uplink&&Object.assign(x,{uplink:_.uplink.level}),_.downlink&&Object.assign(x,{downlink:_.downlink.level}),x}return null})(this[Mn],e)}getFarEndCameraPTZCapability(e){return((n,o)=>{const{store:{getState:i}}=n,c=Mme(i()).find((d=>d.userId===o));return c?.nFECC!==void 0?XNe(c?.nFECC):{pan:!1,tilt:!1,zoom:!1}})(this[Mn],e)}getCameraPTZCapability(e){return((n,o)=>{const{store:{getState:i}}=n,{video:{ptz:c,activeCamera:d}}=i(),p=c[o??d];return{pan:!(p==null||!p.pan),tilt:!(p==null||!p.tilt),zoom:!(p==null||!p.zoom)}})(this[Mn],e)}isBrowserSupportPTZ(){const{pan:e,tilt:n,zoom:o}=zs.getPTZCapability();return e||n||o}getVideoMaskStatus(){return(e=>{var n;const{store:{getState:o}}=e,i=o(),{isMaskConfigured:c,imageSrc:d,...p}=((n=i.video)===null||n===void 0?void 0:n.mask)||{};return{...p,imageUrl:d}})(this[Mn])}isVideoMirrored(){return(e=>{const{store:{getState:n}}=e,{video:{isMirrored:o}}=n();return o})(this[Mn])}getSpotlightedUserList(){return(e=>{const{store:{getState:n}}=e,o=n();if(!o.video)return[];const{video:{spotlightUserList:i}}=o;return Va(o).filter((c=>i.includes(c.userId))).map((c=>A2(c)))})(this[Mn])}getVideoMediaPlaybackController(){return(({store:{getState:e},mediaAgent:n})=>{const o=e(),{video:{isUsingMediaPlayback:i}}=o;if(i){const{videoElement:c}=vg.getInstance();return Bwe(c,"video",o,n)}return null})(this[Mn])}getMaxRenderableVideos(){return(e=>{const{store:{getState:n}}=e,{meeting:{isUseWBVideo:o},media:{enforceMultipleVideos:i,disableRenderLimits:c}}=n();return zs.getMaxCountRender(o,i,c)})(this[Mn])}startShareView(e,n,o){return(async(i,c,d,p)=>{const{store:{getState:v,dispatch:S},mediaAgent:_,rwgAgent:x}=i,P=v(),{share:{renderedEnsuredCanvas:B,isReceiveSharingFromMainSession:H,shareViewAttachments:U},media:{sharingDecodeStatus:z,alternativeNameForVideoPlayer:Z}}=P;await(async function(Se,Ce,Te,V){const{share:{isReceiveSharing:ke,isRemoteSharingActive:et,activeNodeId:$e,isSimultaneousShareView:Re,status:_e,annotationUsers:ut,isReceiveSharingFromMainSession:ct,ssrc:St}}=Te;if(Re){if(!Se)return Promise.reject({type:ar,reason:"",errorCode:ht.STREAM_MISMATCH_USER});if(ct){if(Ce!==$e)return Promise.reject({type:ar,reason:"",errorCode:ht.STREAM_MISMATCH_USER})}else{const ln=UTe(Q_(Te),Ce);if(ln)return ln}if(ke)return Promise.reject({type:bn,reason:"",errorCode:ht.SCREEN_SHARE_MISMATCH_STATE});const ee=$Te(ut,St,V);if(ee)return ee;await hc(Fwe(Te))}else{if(!Se||Ce!==$e)return Promise.reject({type:ar,reason:"",errorCode:ht.STREAM_MISMATCH_USER});if(!et||ke||_e!==Yr.End)return Promise.reject({type:bn,reason:"",errorCode:ht.SCREEN_SHARE_MISMATCH_STATE})}return""})(c,d,P,_),c.id||(c.id=aT("__ZOOM_SDK_SHARE_CANVAS_@__"));const te=!!p;var ce,se;if(ce=U[`${d}`],se=c.id,!ce?.find((Se=>Se.isDummy&&Se.canvasId===se))){const Se=r4e(d,c.id,Z??"video-player");Se.setAttribute("share-source",H?"main":""),S(Iee({userId:d,element:Se}))}return $f("sharing","success",z).subscribe((([,Se])=>{if(Se){let Ce=c;B.includes(c.id)||(Ce=GQ(c),S(Y3e(c.id))),S(IO(!0)),N3(x,v(),d),_.renderSharing(d,Ce,te,p,H),d4e(d,v(),_)}})),z==="failed"?Promise.reject({type:Jh,reason:"",errorCode:ht.INTERNAL_ERROR}):Cr(FQ,(Se=>!!Se),6e4)})(this[Mn],e,n,o)}stopShareView(){return(e=>{const{store:{dispatch:n,getState:o},rwgAgent:i,mediaAgent:c}=e,{share:{isReceiveSharing:d,activeNodeId:p,shareViewAttachments:v},breakoutRoom:S}=o();if(!d)return Promise.resolve("");let _=!1;S?.currentRoom.status===cr.InRoom&&S.mainSessionAttendeeList.length>0&&(_=S.mainSessionAttendeeList.findIndex((H=>H.userId===p))>-1);const x=((P=v[`${p}`])==null?void 0:P.filter((H=>H.isDummy)))||[];var P;x&&x.length>0&&n(T6({userId:p,element:x})),c.stopRenderSharing(),i.unsubscribeSharing(p,_);const{share:{shareViewAttachments:B}}=o();return Object.entries(B).every((([,H])=>H.length===0))&&n(IO(!1)),Promise.resolve("")})(this[Mn])}switchShareView(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d,mediaAgent:p}=n,v=i(),{share:{isReceiveSharing:S,activeNodeId:_,isReceiveSharingFromMainSession:x},breakoutRoom:P}=v;if(!S)return Promise.reject({type:bn,errorCode:ht.SCREEN_SHARE_MISMATCH_STATE});if(!Kk(v))return Promise.reject({type:bn,errorCode:ht.SCREEN_SHARE_MISMATCH_STATE,reason:"Cannot use `switchShareView` to switch when using `attachShareView`. Please use the sequence `detachShareView(oldUserId)`  `attachShareView(newUserId)` to perform the switch."});if(o===_)return Promise.resolve("");let B=[];if(B=x?P.mainSessionAttendeeList.filter((U=>U.bShareToBORooms&&U.sharerOn)):Q_(v),!(B.findIndex((U=>U.userId===_))>-1))return Promise.reject({type:ar,reason:"no matching user id",errorCode:ht.STREAM_MISMATCH_USER});{var H;const U=(H=Z_(o,v))!==null&&H!==void 0?H:o,z=Lye(_,o,U,{state:v,rwgAgent:d,mediaAgent:p});Array.isArray(z)&&z.length>0&&z.forEach((Z=>c(Z))),c(D3({bStatus:1,activeNodeID:o,ssrc:U})),dt(VQ,{userId:o})}return Promise.resolve("")})(this[Mn],e)}updateSharingCanvasDimension(e,n){return((o,i,c)=>{const{store:{getState:d},mediaAgent:p}=o,v=d(),{share:{isReceiveSharing:S,isGrabRemoteControl:_,remoteControlViewportDomSelector:x}}=v;if(S&&(p.updateRenderedSharingDimension(i,c),_&&x)){const P=document.querySelector(x);p.updateRemoteControlProperties({dimension:P&&WQ(P)})}return Promise.resolve("")})(this[Mn],e,n)}startShareScreen(e,n){return(async(o,i,c)=>{const{store:{getState:d,dispatch:p},mediaAgent:v}=o,S=d(),{meeting:{meetingOptions:_},share:{sharePrivilege:x,ssrc:P,capturedEnsuredCanvas:B},media:{sharingEncodeStatus:H},breakoutRoom:U}=S;await _Ke(i,S,c);const z=Iv(S);if(c!=null&&c.broadcastToBreakoutRoom){if(!z||U?.currentRoom.status===cr.InRoom)return z?Promise.reject({type:bn,reason:"Unable to share screen to breakout room when in the room",errorCode:ht.SCREEN_SHARE_SUBSESSION_CONFLICT}):Promise.reject({type:Bp,errorCode:ht.SCREEN_SHARE_HOST_PRIVILEGE_REQUIRED});p(Q5(!0))}else p(Q5(!1));return c?.requestReadReceipt!==void 0&&p(K3e(c?.requestReadReceipt)),c?.optimizedForSharedVideo!==void 0&&x!==Ub.MultipleShare&&p(Oee(c?.optimizedForSharedVideo&&zs.isSupportVideoShareSend())),i.id||(i.id=aT("__ZOOM_SDK_SELF_SHARE_CANVAS_@__")),p(Pye(!(c==null||!c.simultaneousShareView))),$f("sharing",H,"success").subscribe((([Z])=>{if(Z){B.includes(i.id)||(GQ(i),p(Z3e(i.id)));let te=document.querySelector(`#${ewe}`);te&&te.tagName==="VIDEO"||(te=document.createElement("video"),te.id=ewe,te.style.display="none",document.body.appendChild(te));const ce=c!=null&&c.secondaryCameraId?{cameraId:c.secondaryCameraId,width:c.captureWidth,height:c.captureHeight}:void 0,se=!(c!=null&&c.hideShareAudioOption);v.startDesktopSharing(P,i,te,ce,_!=null&&_.isDisableShareAudioIntoBo?se&&!(c!=null&&c.broadcastToBreakoutRoom):se,c?.displaySurface,c?.sourceId,c?.controls),p(Aee(void 0)),p(G3e(!!ce))}})),new Promise(((Z,te)=>{Fp(Aa(Mp).pipe(xn((ce=>ce.sharerOn!==void 0)),Jr(1)),Aa(UMe,1).pipe(pn((ce=>UO({reason:ce.reason||"user deny screen share",errorCode:ce.reason?ht.SCREEN_SHARE_SYSTEM_DENIED:ht.SCREEN_SHARE_USER_DENIED}))))).subscribe({next:ce=>{if(ce.sharerOn===!0){const{share:{isSharingToBreakoutRoom:se},meeting:{meetingOptions:Se}}=d(),Ce=!(Se!=null&&Se.isDisableShareAudioIntoBo||!se);v.enableShareAudioToBreakoutRoom(Ce),Z("")}else te({type:Jh,errorCode:ht.INTERNAL_ERROR})},error:ce=>{te({type:bn,...ce})}})}))})(this[Mn],e,n)}stopShareScreen(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i,mediaAgent:c}=e,{share:{status:d,isSimultaneousShareView:p},meeting:{userId:v}}=n();return d===Yr.End?Promise.resolve(""):(i.stopSharing(v),c.stopDesktopSharing(),o(Sg(Yr.End)),p&&o(Pye(!1)),Cr(Mp,(S=>S.sharerOn===!1)))})(this[Mn])}pauseShareScreen(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i,mediaAgent:c}=e,d=n(),{share:{status:p},breakoutRoom:v}=d;if(p===Yr.Sharing){if(i.pauseSharing(),c.pauseDesktopSharing(),v&&Tg(d)){const S=Ss(d);return Promise.resolve("").then((()=>{if(S){const{userId:_,sharerOn:x,bShareAudioOn:P,bVideoShare:B}=S,H={userId:_,sharerOn:x,sharerPause:!0,bShareAudioOn:P,bVideoShare:B};o(c4({update:[H]})),o(Sg(Yr.Paused)),dt(Mp,H)}}))}return Cr(Mp,(S=>S.sharerPause===!0)).then((()=>(o(Sg(Yr.Paused)),"")))}return Promise.reject({type:bn,errorCode:ht.SCREEN_SHARE_MISMATCH_STATE})})(this[Mn])}resumeShareScreen(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i,mediaAgent:c}=e,d=n(),{share:{status:p},breakoutRoom:v}=d;if(p===Yr.Paused){if(i.resumeSharing(),c.resumeDesktopSharing(),v&&Tg(d)){const S=Ss(d);return Promise.resolve("").then((()=>{if(S){const{userId:_,sharerOn:x,bShareAudioOn:P,bVideoShare:B}=S,H={userId:_,sharerOn:x,sharerPause:!1,bShareAudioOn:P,bVideoShare:B};o(c4({update:[H]})),o(Sg(Yr.Sharing)),dt(Mp,H)}}))}return Cr(Mp,(S=>S.sharerOn===!0&&S.sharerPause===!1)).then((()=>(o(Sg(Yr.Sharing)),"")))}return Promise.reject({type:bn,errorCode:ht.SCREEN_SHARE_MISMATCH_STATE})})(this[Mn])}setSharePrivilege(e){return RAe(this[Mn],e)}lockShare(e){return((n,o)=>RAe(n,o?Ub.OnlyHost:Ub.HostGrab))(this[Mn],e)}shareToBreakoutRoom(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i,mediaAgent:c}=e,{meeting:{userId:d},breakoutRoom:p,share:{isSharingToBreakoutRoom:v,status:S}}=n();return S===Yr.End?Promise.reject({type:bn,reason:"Invalid sharing status",errorCode:ht.SCREEN_SHARE_MISMATCH_STATE}):v?Promise.resolve(""):p.currentRoom.status===cr.InRoom?Promise.reject({type:bn,reason:"Unable to share screen to breakout room when in the room",errorCode:ht.SCREEN_SHARE_SUBSESSION_CONFLICT}):(i.startShareToBreakoutRoom(d),o(Q5(!0)),c.enableShareAudioToBreakoutRoom(!0),Promise.resolve(""))})(this[Mn])}stopShareToBreakoutRoom(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i,mediaAgent:c}=e,{meeting:{userId:d},share:{isSharingToBreakoutRoom:p}}=n();return p&&(i.stopShareToBreakoutRoom(d),o(Q5(!1)),c.enableShareAudioToBreakoutRoom(!1)),Promise.resolve("")})(this[Mn])}muteOthersScreenShare(e){return((n,o)=>{const{store:{getState:i},rwgAgent:c}=n,d=i(),{meeting:{userId:p}}=d,v=Q_(d);return o===p?Promise.reject({type:bn,reason:"Cannot mute self share, use 'stopScreenShare' instead",errorCode:ht.SCREEN_SHARE_MISMATCH_STATE}):v.findIndex((S=>S.userId===o))===-1?Promise.reject({type:ar,reason:"Target user is not sharing",errorCode:ht.STREAM_MISMATCH_USER}):(c.stopSharing(o),Cr(NS,(S=>S.some((_=>_.userId===o&&_.sharerOn===!1)))))})(this[Mn],e)}enableOptimizeForSharedVideo(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d,rwgAgent:p}=n,{share:{status:v,isOptimizedForSharedVideo:S,isSharingToBreakoutRoom:_,sharePrivilege:x},audio:{isSharingAudio:P},meeting:{userId:B}}=i();return v!==Yr.End?S===o?Promise.resolve(""):x!==Ub.MultipleShare?o&&!zs.isSupportVideoShareSend()?Promise.reject({type:bn,reason:"Cannot enable optimize for shared video due to the platform is not supported ",errorCode:ht.SCREEN_SHARE_OPTIMIZE_VIDEO_UNSUPPORTED}):(p.startSharing(B,{bShareAudio:P,bShareToBO:_,bShareVideo:o}),d.switchSharingMode(o?d6.VideoMode:d6.Normal),Cr({event:Mp,operations:[xn((H=>H.bVideoShare!==void 0)),Jr(1)]},(H=>H.bVideoShare===o)).then((()=>(c(Oee(o)),"")))):Promise.reject({type:bn,reason:"Cannot enable optimize for shared video when enabling multiple screen shares",errorCode:ht.SCREEN_SHARE_OPTIMIZE_VIDEO_CONFLICT}):Promise.reject({type:bn,reason:"Cannot enable optimize for shared video when screen share is not started",errorCode:ht.SCREEN_SHARE_MISMATCH_STATE})})(this[Mn],e)}updateSharedVideoQuality(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d}=n,p=i(),{share:{shareQuality:v,activeNodeId:S,isReceiveSharing:_}}=p,x=g3e(p);return _&&S!==0?(x&&v!==o&&(N3(d,p,S,o),c(V1e(o))),Promise.resolve("")):Promise.reject({type:bn,reason:"Cannot update shared video quality when screen share is not started",errorCode:ht.SCREEN_SHARE_MISMATCH_STATE})})(this[Mn],e)}subscribeShareStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{getState:c}}=n,d=c(),{media:{sharingEncodeStatus:p,sharingDecodeStatus:v}}=c(),S=Ss(d),_=!o||o.decode,x=!o||o.encode;if(!S)return Promise.reject({type:bn,reason:"Call this function after the 'join' method resolved.",errorCode:ht.STREAM_SESSION_JOIN_REQUIRED});{const P=tf(S.userRole)||!is.isSupportSendScreenSharing?"failed":p;$f("sharing",P,v).subscribe((([B,H])=>{_&&H&&i.subscribeToQos([kp.SharingDecode],iO),x&&B&&i.subscribeToQos([kp.SharingEncode],iO)}))}return""})(this[Mn],e)}unsubscribeShareStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{dispatch:c}}=n,d=!o||o.decode,p=!o||o.encode;return d&&(i.unsubscribeFromQos([kp.SharingDecode]),c(iz(TO))),p&&(i.unsubscribeFromQos([kp.SharingEncode]),c(iz(TO))),null})(this[Mn],e)}screenshotSharedContent(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,{share:{isReceiveSharing:p,activeNodeId:v,shareViewAttachments:S}}=i();if(!p)return Promise.reject({type:bn,reason:"Cannot take screenshot when screen share is not started",errorCode:ht.SCREEN_SHARE_MISMATCH_STATE});{let _=v;if(o){if(!Object.entries(S).some((([P,B])=>Number(P)===o&&B.length>0)))return Promise.reject({type:ar,reason:"User is not in the shared content rendering list",errorCode:ht.STREAM_MISMATCH_USER});_=o}const x=Ss(i());try{const P=await d.screenshot(_,"sharing");return c(z3e({targetUser:_,userId:x?.userId,displayName:x?.displayName})),P}catch(P){return Promise.reject({type:Jh,errorCode:ht.INTERNAL_ERROR,reason:P})}}})(this[Mn],e)}attachShareView(e,n){return(async(o,i,c)=>{const{store:{getState:d,dispatch:p},mediaAgent:v,rwgAgent:S}=o,_=d(),{media:{sharingDecodeStatus:x,alternativeNameForVideoPlayer:P}}=_,B=P??"video-player";let H;if(await(function(U,z,Z){const{share:{isSimultaneousShareView:te,annotationUsers:ce,ssrc:se,status:Se,isReceiveSharing:Ce,remoteControlledUserList:Te,isReceiveSharingFromMainSession:V,activeNodeId:ke},meeting:{userId:et},breakoutRoom:$e}=z,Re=[];if(V){var _e;const St=Ss(z);Re.push(...(_e=$e?.mainSessionAttendeeList.filter((ee=>!ee.bid&&!ee.bHold&&ee.userGUID!==St?.userGUID)))!==null&&_e!==void 0?_e:[])}else{var ut,ct;Re.push(...(ut=(ct=Q_(z))===null||ct===void 0?void 0:ct.filter((St=>St.userId!==et)))!==null&&ut!==void 0?ut:[])}if(U!==ke){const St=UTe(Re,U);if(St)return St}if(te){const St=$Te(ce,se,Z);if(St)return St}else if(Se!==Yr.End)return Promise.reject({type:bn,reason:"Screen share is in progress",errorCode:ht.SCREEN_SHARE_MISMATCH_STATE});if(Ce){if(ce.some((ln=>ln.isInitialized)))return Promise.reject({type:bn,reason:"Cannot attach multiple share views due to annotation is in progress",errorCode:ht.SCREEN_SHARE_MISMATCH_STATE});if(Te.length>0)return Promise.reject({type:bn,reason:"Cannot attach multiple share views due to remote control is in progress",errorCode:ht.SCREEN_SHARE_MISMATCH_STATE});const St=D1e(z),ee=zTe();if(St>=ee)return Promise.reject({type:bn,reason:`Cannot attach multiple share views exceeding the maximum allowed limit(${ee})`,errorCode:ht.SCREEN_SHARE_LIMIT_EXCEED})}return""})(i,_,v),c){const[U,z]=gX(c,B);if(!U)return Promise.reject(z);H=z}else H=document.createElement(B);return await hc($f("sharing","success",x).pipe(pn((async([,U])=>{if(U){await f6(Fwe(d()));const Z=d(),{share:{isReceiveSharing:te,shareViewAttachments:ce,isReceiveSharingFromMainSession:se}}=Z,Se=ce[`${i}`];var z;H&&Se&&Se.findIndex((Ce=>Ce===H))!==-1?console.warn("Share view already attached"):(H.setAttribute("media-type","share"),H.setAttribute("share-source",se?"main":""),H.setAttribute("node-id",`${i}`)),p(Iee({userId:i,element:H})),N3(S,Z,i,void 0,te),te||(p(IO(!0)),p(D3({bStatus:1,activeNodeID:i,ssrc:(z=Z_(i,Z))!==null&&z!==void 0?z:i})),h4e(i,{state:Z,rwgAgent:S,mediaAgent:v}))}})))),Promise.resolve(H)})(this[Mn],e,n)}detachShareView(e,n){return(async(o,i,c)=>{const{store:{getState:d,dispatch:p},rwgAgent:v,mediaAgent:S}=o,_=d(),{share:{shareViewAttachments:x},media:{alternativeNameForVideoPlayer:P}}=_;if(x[`${i}`]){var B;const z=f4e(i,{state:_,rwgAgent:v,mediaAgent:S});let Z;Array.isArray(z)&&z.length>0&&z.forEach((Te=>p(Te)));const te=P??"video-player";if(c){const[Te,V]=gX(c,te);Z=Te?V:void 0}let ce;const se=x[`${i}`];Z?se.findIndex((Te=>Te===Z))!==-1?(ce=Z,ce.setAttribute("node-id","0"),p(T6({userId:i,element:ce}))):console.warn(`${c} has not been attached with userID:${i}`):(ce=[...se.filter((Te=>!Te.isDummy))],ce.forEach((Te=>{Te.setAttribute("node-id","0")})),p(T6({userId:i,element:ce})));const{share:{shareViewAttachments:Se},breakoutRoom:Ce}=d();if(((B=Se[`${i}`])===null||B===void 0?void 0:B.length)===0){let Te=!1;Ce?.currentRoom.status===cr.InRoom&&Ce.mainSessionAttendeeList.length>0&&(Te=Ce.mainSessionAttendeeList.findIndex(($e=>$e.userId===i))>-1);const V=Object.entries(Se).filter((([,$e])=>$e.length!=0)).length,ke=[0,1].includes(V),et=V===0;if(v.unsubscribeSharing(i,Te,!ke),et&&p(IO(!1)),V===1){var H;const $e=(H=Object.entries(Se).find((([,Re])=>Re.length!==0)))===null||H===void 0?void 0:H[0];if($e){var U;const Re=Number($e);p(D3({bStatus:1,activeNodeID:Re,ssrc:(U=Z_(Re,_))!==null&&U!==void 0?U:Re}))}}}return Promise.resolve(ce)}return Promise.resolve(void 0)})(this[Mn],e,n)}startAnnotation(){return(async e=>{const{store:{getState:n,dispatch:o},mediaAgent:i}=e,c=n(),{share:{ssrc:d,activeSsrc:p,isReceiveSharing:v,status:S,annotationVanishingToolTimer:_}}=c,x=S!==Yr.End,P=await(async function(U){const{share:{ssrc:z,activeSsrc:Z,annotationCapability:te,isReceiveSharing:ce,status:se,isReceiveSharingFromMainSession:Se,annotationUsers:Ce}}=U,Te=se!==Yr.End;if(!Te&&!ce)return Promise.reject({type:bn,reason:"No active share session",errorCode:ht.SCREEN_SHARE_ANNOTATION_NO_ACTIVE_SHARE});if(te===0||Te&&te===1)return Promise.reject({type:bn,reason:"Annotation is not enabled for your account.",errorCode:ht.SCREEN_SHARE_ANNOTATION_ACCOUNT_DISABLE});const V=Ce.find((ke=>ke.ssrc===(ce?Z:z)));if(ce){if(Se)return Promise.reject({type:bn,reason:"You cannot annotation on share to subsession content.",errorCode:ht.SCREEN_SHARE_ANNOTATION_NOT_SUPPORT});if(V!=null&&V.isDisabled)return Promise.reject({type:bn,reason:"Annotation is disabled for the current share session by sharer.",errorCode:ht.SCREEN_SHARE_ANNOTATION_PRESENTER_DISABLED});if(V!=null&&V.isStarted)return Promise.reject({type:bn,reason:"Annotation is already started",errorCode:ht.SCREEN_SHARE_ANNOTATION_DUPLICATE_START})}else if(Te&&V!=null&&V.isStarted)return Promise.reject({type:bn,reason:"Annotation is already started",errorCode:ht.SCREEN_SHARE_ANNOTATION_DUPLICATE_START});return V})(c),B=Ss(c);setTimeout((()=>{v?(i.startViewerAnnotation(d,p,B?.displayName||""),i.annotateAction(Rp.UPDATE_VANISHING_TOOL_TIME,{displayTime:2e3,outTime:2e3})):x&&(i.startPresenterAnnotation(d,d,B?.displayName||""),i.annotateAction(Rp.UPDATE_VANISHING_TOOL_TIME,{displayTime:_.displayTime,outTime:_.vanishingTime}))}),0);const H=v?p:d;return P!=null&&P.isInitialized?(o(OS({ssrc:H,isStarted:!0})),Promise.resolve("")):(o(OS({ssrc:H,isInitialized:!0,isStarted:!0})),Cr(uve,(U=>(U&&o(OS({ssrc:H,isInitialized:!1,isStarted:!1})),!U))))})(this[Mn])}stopAnnotation(){return(e=>{const{store:{getState:n,dispatch:o},mediaAgent:i}=e,{share:{isReceiveSharing:c,activeSsrc:d,ssrc:p,annotationUsers:v}}=n(),S=c?d:p,_=v.find((P=>P.ssrc===S));if(_==null||!_.isInitialized||!_.isStarted)return Promise.reject({type:bn,reason:"Annotation is not started.",errorCode:ht.SCREEN_SHARE_ANNOTATION_NOT_START});o(OS({ssrc:_.ssrc,isStarted:!1}));const x={toolType:fE.None};return i.annotateAction(Rp.SELECT_TOOL,x),o(P3(fE.None)),i.annotateAction(Rp.CLOSE_TOOL_BAR),Promise.resolve("")})(this[Mn])}changeAnnotationPrivilege(e){return((n,o)=>{const{store:{getState:i},rwgAgent:c}=n,{meeting:{userId:d}}=i();return c.toggleShareAnnotation(o,d),Cr(n1e,(p=>!!p))})(this[Mn],e)}showAnnotatorName(e){return((n,o)=>{const{store:{getState:i},mediaAgent:c}=n,{share:{status:d}}=i();return d!==Yr.End?(c.annotateAction(Rp.SHOW_ANNOTATOR_NAME,{toShow:o}),Promise.resolve("")):Promise.reject({type:bn,reason:"Only the share presenter can control the name display during a session session.",errorCode:ht.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER})})(this[Mn],e)}canDoAnnotation(){return(e=>{var n;const{store:{getState:o}}=e,{share:{isReceiveSharing:i,activeNodeId:c,status:d,annotationCapability:p,isReceiveSharingFromMainSession:v,isSimultaneousShareView:S,annotationUsers:_},meeting:{userId:x}}=o(),P=d!==Yr.End;if(!P&&!i||p===0||P&&p===1)return!1;const B=i?c:x,H=(n=Z_(B,o()))!==null&&n!==void 0?n:B,U=_.find((Z=>{var te;return Z.ssrc===H||Uf(H,(te=Z.userId)!==null&&te!==void 0?te:0)})),z=U?.isDisabled;return!(i&&(v||z)||S||v3e(o()))})(this[Mn])}getAnnotationController(){return(e=>({setToolType:n=>((o,i)=>{const{store:{getState:c,dispatch:d},mediaAgent:p}=o,{share:{annotationToolColor:v,annotationSpotlightColor:S,annotationToolWidth:_,status:x}}=c();if(!Object.values(fE).includes(i))return Promise.reject({type:bn,reason:`toolType = ${i} is invalid`,errorCode:ht.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});const P=x!==Yr.End,B=i===fE.Spotlight;if(B&&!P)return Promise.reject({type:bn,reason:"Only the share presenter can spotlight",errorCode:ht.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});const H={toolType:i,color:B?S:v,width:_};return p.annotateAction(Rp.SELECT_TOOL,H),d(P3(i)),Promise.resolve("")})(e,n),setToolWidth:n=>((o,i)=>{const{store:{getState:c,dispatch:d},mediaAgent:p}=o,{share:{annotationToolType:v,annotationToolColor:S}}=c(),_=Math.ceil(i),x={toolType:v,color:S,width:_};return p.annotateAction(Rp.SELECT_TOOL,x),d(n4e(_)),Promise.resolve("")})(e,n),setToolColor:n=>((o,i)=>{const{store:{getState:c,dispatch:d},mediaAgent:p}=o,{share:{annotationToolType:v,annotationToolWidth:S}}=c(),_={toolType:v,color:i,width:S};return p.annotateAction(Rp.SELECT_TOOL,_),d(v===fE.Spotlight?t4e(i):e4e(i)),Promise.resolve("")})(e,n),getToolWidth:()=>(n=>{const{store:{getState:o}}=n,{share:{annotationToolWidth:i}}=o();return i})(e),getToolColor:()=>(n=>{const{store:{getState:o}}=n,{share:{annotationToolType:i,annotationToolColor:c,annotationSpotlightColor:d}}=o();return i===fE.Spotlight?d:c})(e),getToolType:()=>(n=>{const{store:{getState:o}}=n,{share:{annotationToolType:i}}=o();return i})(e),undo:()=>(n=>{const{mediaAgent:o}=n;return o.annotateAction(Rp.UNDO),Promise.resolve("")})(e),redo:()=>(n=>{const{mediaAgent:o}=n;return o.annotateAction(Rp.REDO),Promise.resolve("")})(e),clear:n=>((o,i)=>{const{store:{getState:c},mediaAgent:d}=o,{share:{status:p,isReceiveSharing:v},meeting:{isHost:S}}=c();if(!Object.values(zpe).includes(i))return Promise.reject({type:bn,reason:`clearType = ${i} is invalid`,errorCode:ht.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});const _=p!==Yr.End;if(i===zpe.All&&v&&!S)return Promise.reject({type:bn,reason:"As a viewer, you cannot clear all annotation",errorCode:ht.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});if(i===zpe.Viewer&&!_)return Promise.reject({type:bn,reason:"You must be the presenter to clear the annotation from the viewer",errorCode:ht.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});const x={clearType:i,isHost:S};return d.annotateAction(Rp.CLEAR,x),Promise.resolve("")})(e,n),setVanishingToolTimer:n=>((o,i)=>{const{store:{getState:c,dispatch:d},mediaAgent:p}=o,{share:{annotationVanishingToolTimer:v}}=c(),{displayTime:S,vanishingTime:_}=i;if(S&&(S<0||S>15e3))return Promise.reject({type:bn,reason:"Vanishing tool display time should be within range of [0, 15] seconds",errorCode:ht.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});if(_&&(_<1e3||_>15e3))return Promise.reject({type:bn,reason:"Vanishing tool vanishing time should be within range of [1, 15] seconds",errorCode:ht.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});const x={displayTime:S??v.displayTime,outTime:_??v.vanishingTime};return p.annotateAction(Rp.UPDATE_VANISHING_TOOL_TIME,x),d(o4e({displayTime:x.displayTime,vanishingTime:x.outTime})),Promise.resolve("")})(e,n),getVanishingToolTimer:()=>(n=>{const{store:{getState:o}}=n,{share:{annotationVanishingToolTimer:i}}=o();return i})(e)}))(this[Mn])}getShareUserList(){return(e=>{const{store:{getState:n}}=e,o=n();if(!o.share)return[];const{share:{isReceiveSharingFromMainSession:i}}=o;if(i){const{breakoutRoom:{mainSessionAttendeeList:c}}=o;return c.filter((d=>d.bShareToBORooms&&(d.sharerOn||d.sharerPause))).map((d=>A2(d)))}return Q_(o).map((c=>A2(c)))})(this[Mn])}getActiveShareUserId(){return(e=>{const{store:{getState:n}}=e,o=n();return o.share&&o.share.isRemoteSharingActive?o.share.activeNodeId:0})(this[Mn])}isReceiveSharing(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&o.share.isReceiveSharing})(this[Mn])}getShareViewDimension(){return(e=>{const{store:{getState:n}}=e,o=n();if(o.share){if(o.share.status!==Yr.End)return{...o.share.shareDimension};{const{share:{receivedShareDimension:i}}=o;return{width:i.width,height:i.height}}}return null})(this[Mn])}getShareStatus(){return(e=>{const{store:{getState:n}}=e,o=n();return o.share?o.share.status:null})(this[Mn])}isShareLocked(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&o.share.sharePrivilege===Ub.OnlyHost})(this[Mn])}isReceiveSharingFromMainSession(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&o.share.isReceiveSharingFromMainSession})(this[Mn])}getSharePrivilege(){return(e=>{const{store:{getState:n}}=e,o=n();return o.share?o.share.sharePrivilege:null})(this[Mn])}isStartShareScreenWithVideoElement(){return is.isSupportMediaStreamTrackProcessor}isOptimizeForSharedVideoEnabled(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&!!o.share.isOptimizedForSharedVideo})(this[Mn])}isSupportOptimizedForSharedVideo(){return zs.isSupportVideoShareSend()}isSupportVideoProcessor(){return Pme(this[Mn],"video")}isSupportAudioProcessor(){return Pme(this[Mn],"audio")}isSupportShareProcessor(){return Pme(this[Mn],"share")}getShareStatisticData(){return(({store:{getState:e}})=>{const{share:{statistic:n}}=e();return{...n}})(this[Mn])}getMaxRenderableShareViews(){return zTe()}requestRemoteControl(){return(e=>{const{store:{getState:n},rwgAgent:o}=e,{share:{isReceiveSharing:i,activeNodeId:c,isRemoteControlEnabled:d}}=n();return d?kAe(e,c)?i?Fk(n())?Promise.reject({type:bn,reason:"Already get the approval",errorCode:ht.REMOTE_CONTROL_MISMATCH_STATE}):(o.sharingRequestRemoteControl(c,!0),new Promise((p=>{Aa(HQ,1).subscribe((v=>{p(v)}))}))):Promise.reject({type:bn,reason:"Cannot request control due to no sharing available",errorCode:ht.REMOTE_CONTROL_MISMATCH_STATE}):Promise.reject({type:ar,errorCode:ht.REMOTE_CONTROL_MISMATCH_STATE}):Promise.reject({type:bn,reason:"Cannot request control due to the feature is not enabled.",errorCode:ht.REMOTE_CONTROL_ACCOUNT_DISABLE})})(this[Mn])}giveUpRemoteControl(){return(e=>{const{store:{getState:n},rwgAgent:o}=e,{share:{isGrabRemoteControl:i,activeNodeId:c}}=n();return Fk(n())?(i&&o.subscribeGrabRemoteControl(c,!1),o.sharingRequestRemoteControl(c,!1),Cr(HQ,(d=>d===!1))):Promise.reject({type:bn,errorCode:ht.REMOTE_CONTROL_MISMATCH_STATE})})(this[Mn])}startRemoteControl(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d,rwgAgent:p}=n,{share:{isSDKGrabControl:v,activeNodeId:S}}=i();if(!Fk(i()))return Promise.reject({type:bn,reason:"required to be approved",errorCode:ht.REMOTE_CONTROL_PERMISSION_REQUIRED});if(await c4e(S,o,i(),p,d),o.dataset.zmrvId||o.setAttribute("data-zmrv-id",aT("__ZOOM_SDK_RC_VIEWPORT_DATA_ID_@__")),c($1e(`${o.tagName}[data-zmrv-id="${o.dataset.zmrvId}"]`)),v){const{share:{isGrabRemoteControl:_}}=i();return _?Promise.resolve(""):Cr(b2,(x=>!!x))}return Jx({success:ZMe,fail:[YMe]})})(this[Mn],e)}grabRemoteControl(){return(e=>{const{store:{getState:n},rwgAgent:o}=e,{share:{isGrabRemoteControl:i,activeNodeId:c}}=n();return Fk(n())?i?Promise.resolve(""):(o.subscribeGrabRemoteControl(c,!0),Cr(b2,(d=>!!d))):Promise.reject({type:bn,reason:"should be approved before grab",errorCode:ht.REMOTE_CONTROL_PERMISSION_REQUIRED})})(this[Mn])}updateRemoteControlViewportDimension(e){return((n,o)=>{const{store:{getState:i},mediaAgent:c}=n;return Fk(i())&&c.updateRemoteControlProperties({dimension:{scaleWidth:o.width,scaleHeight:o.height,srcOffsetX:o.left,srcOffsetY:o.top}}),Promise.resolve("")})(this[Mn],e)}approveRemoteControl(e,n){return((o,i,c)=>{const{store:{getState:d,dispatch:p},rwgAgent:v,mediaAgent:S}=o,_=d(),{share:{status:x,isEnableAutoDeleteRcApp:P,remoteControllingSsrc:B},meeting:{userId:H}}=_;if(x===Yr.End)return Promise.reject({type:bn,reason:"Cannot approve remote control when sharing is not ongoing.",errorCode:ht.REMOTE_CONTROL_MISMATCH_STATE});if(x===Yr.Paused&&(v.resumeSharing(),S.resumeDesktopSharing(),p(Sg(Yr.Sharing))),S.isSharingEntireScreen()){var U,z;B&&!Uf(B,i)&&(Ree(_,v),p(yE("")));const Z=(U=Z_(i,_))!==null&&U!==void 0?U:i,{isMacOS:te}=is,ce=(z=Va(_).find((se=>Uf(se.userId,Z))))===null||z===void 0?void 0:z.displayName;return v.remoteControlConsent(_Q.Approve,Z,H,{...S.getShareStreamInfo(),platform:is.isMacOS?"mac":"win",controllerName:ce?bu(ce):""},P,te?void 0:c?1:0),p(M3(Z)),Cr(ePe)}return Promise.reject({type:bn,reason:"Cannot approve remote control when not sharing entire screen.",errorCode:ht.REMOTE_CONTROL_MISMATCH_DISPLAY_SURFACE})})(this[Mn],e,n)}declineRemoteControl(e){return((n,o)=>{var i;const{store:{getState:c},rwgAgent:d,mediaAgent:p}=n,v=c(),{meeting:{userId:S},share:{isEnableAutoDeleteRcApp:_}}=v,x=(i=Z_(o,v))!==null&&i!==void 0?i:o;return d.remoteControlConsent(_Q.Decline,x,S,{...p.getShareStreamInfo(),platform:is.isMacOS?"mac":"win"},_),Promise.resolve("")})(this[Mn],e)}stopRemoteControl(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i}=e;return Ree(n(),i),o(yE("")),o(M3(0)),Promise.resolve("")})(this[Mn])}launchRemoteControlApp(e){return((n,o)=>{const{store:{getState:i,dispatch:c}}=n,d=i(),{share:{remoteControlAppLaunchSheme:p}}=d;return p?(c(yE(o?`${p}&bAutoDelete=1`:p)),c(Zk(Dp.Unknown)),Promise.resolve("")):Promise.reject({type:bn,reason:"Cannot launch app due to no permission",errorCode:ht.REMOTE_CONTROL_INVALID_LAUNCH_SCHEME})})(this[Mn],e)}isRemoteControlEnabled(){return(e=>{var n;const{store:{getState:o}}=e;return!((n=o().share)===null||n===void 0||!n.isRemoteControlEnabled)})(this[Mn])}getRemoteControlAppDownloadUrl(){return(e=>{const{store:{getState:n}}=e,o=n();return o.share?o.share.remoteControlAppDownloadUrl:null})(this[Mn])}isTargetShareSupportRemoteControl(e){return kAe(this[Mn],e)}isRemotelyControlApproved(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&Fk(o)})(this[Mn])}isControllingUserRemotely(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&o.share.isGrabRemoteControl})(this[Mn])}getRemotelyControllingUser(){return(e=>{const{store:{getState:n}}=e,o=n();if(o.share){const{remoteControllingSsrc:i}=o.share;if(i)return Va(o).find((c=>Uf(c.userId,i)))}return null})(this[Mn])}getShareStreamSettings(){return(({store:{getState:e},mediaAgent:n})=>{const{share:{status:o}}=e();return o!==Yr.End?n.getShareStreamInfo(!0):null})(this[Mn])}},qn(Rt.prototype,"startAudio",[Xn,DAe,xy],Object.getOwnPropertyDescriptor(Rt.prototype,"startAudio"),Rt.prototype),qn(Rt.prototype,"stopAudio",[Xn,MAe,xy],Object.getOwnPropertyDescriptor(Rt.prototype,"stopAudio"),Rt.prototype),qn(Rt.prototype,"muteAudio",[Xn,PAe,xy],Object.getOwnPropertyDescriptor(Rt.prototype,"muteAudio"),Rt.prototype),qn(Rt.prototype,"unmuteAudio",[Xn,NAe,xy],Object.getOwnPropertyDescriptor(Rt.prototype,"unmuteAudio"),Rt.prototype),qn(Rt.prototype,"dialOut",[Xn,LAe,BAe],Object.getOwnPropertyDescriptor(Rt.prototype,"dialOut"),Rt.prototype),qn(Rt.prototype,"cancelDialOut",[Xn,FAe,VAe],Object.getOwnPropertyDescriptor(Rt.prototype,"cancelDialOut"),Rt.prototype),qn(Rt.prototype,"hangup",[Xn,HAe,xy],Object.getOwnPropertyDescriptor(Rt.prototype,"hangup"),Rt.prototype),qn(Rt.prototype,"switchMicrophone",[Xn,$Ae,xy],Object.getOwnPropertyDescriptor(Rt.prototype,"switchMicrophone"),Rt.prototype),qn(Rt.prototype,"switchSpeaker",[Xn,UAe,xy],Object.getOwnPropertyDescriptor(Rt.prototype,"switchSpeaker"),Rt.prototype),qn(Rt.prototype,"muteShareAudio",[Xn,zAe,jAe,xy],Object.getOwnPropertyDescriptor(Rt.prototype,"muteShareAudio"),Rt.prototype),qn(Rt.prototype,"unmuteShareAudio",[Xn,WAe,GAe,xy],Object.getOwnPropertyDescriptor(Rt.prototype,"unmuteShareAudio"),Rt.prototype),qn(Rt.prototype,"subscribeAudioStatisticData",[Xn,qAe,xy],Object.getOwnPropertyDescriptor(Rt.prototype,"subscribeAudioStatisticData"),Rt.prototype),qn(Rt.prototype,"unsubscribeAudioStatisticData",[Xn,KAe,xy],Object.getOwnPropertyDescriptor(Rt.prototype,"unsubscribeAudioStatisticData"),Rt.prototype),qn(Rt.prototype,"enableBackgroundNoiseSuppression",[Xn,ZAe,xy],Object.getOwnPropertyDescriptor(Rt.prototype,"enableBackgroundNoiseSuppression"),Rt.prototype),qn(Rt.prototype,"enableSyncButtonsOnHeadset",[Xn,YAe,xy],Object.getOwnPropertyDescriptor(Rt.prototype,"enableSyncButtonsOnHeadset"),Rt.prototype),qn(Rt.prototype,"enableOriginalSound",[Xn,XAe,xy],Object.getOwnPropertyDescriptor(Rt.prototype,"enableOriginalSound"),Rt.prototype),qn(Rt.prototype,"callCRCDevice",[Xn,JAe,QAe],Object.getOwnPropertyDescriptor(Rt.prototype,"callCRCDevice"),Rt.prototype),qn(Rt.prototype,"cancelCallCRCDevice",[Xn,exe,txe],Object.getOwnPropertyDescriptor(Rt.prototype,"cancelCallCRCDevice"),Rt.prototype),qn(Rt.prototype,"muteAllAudio",[yu,Xn,nxe],Object.getOwnPropertyDescriptor(Rt.prototype,"muteAllAudio"),Rt.prototype),qn(Rt.prototype,"unmuteAllAudio",[yu,Xn,oxe],Object.getOwnPropertyDescriptor(Rt.prototype,"unmuteAllAudio"),Rt.prototype),qn(Rt.prototype,"muteAudioUponEntry",[yu,Xn,sxe],Object.getOwnPropertyDescriptor(Rt.prototype,"muteAudioUponEntry"),Rt.prototype),qn(Rt.prototype,"allowUnmuteAudioThemselves",[yu,Xn,rxe],Object.getOwnPropertyDescriptor(Rt.prototype,"allowUnmuteAudioThemselves"),Rt.prototype),qn(Rt.prototype,"startVideo",[Xn,ixe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"startVideo"),Rt.prototype),qn(Rt.prototype,"stopVideo",[Xn,axe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"stopVideo"),Rt.prototype),qn(Rt.prototype,"switchCamera",[Xn,lxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"switchCamera"),Rt.prototype),qn(Rt.prototype,"createProcessor",[Xn,cxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"createProcessor"),Rt.prototype),qn(Rt.prototype,"addProcessor",[Xn,uxe,bOe],Object.getOwnPropertyDescriptor(Rt.prototype,"addProcessor"),Rt.prototype),qn(Rt.prototype,"removeProcessor",[Xn,dxe,bOe],Object.getOwnPropertyDescriptor(Rt.prototype,"removeProcessor"),Rt.prototype),qn(Rt.prototype,"renderVideo",[KZe,Xn,hxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"renderVideo"),Rt.prototype),qn(Rt.prototype,"stopRenderVideo",[EOe,Xn,fxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"stopRenderVideo"),Rt.prototype),qn(Rt.prototype,"updateVideoCanvasDimension",[COe,Xn,pxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"updateVideoCanvasDimension"),Rt.prototype),qn(Rt.prototype,"adjustRenderedVideoPosition",[EOe,Xn,mxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"adjustRenderedVideoPosition"),Rt.prototype),qn(Rt.prototype,"clearVideoCanvas",[COe,Xn,gxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"clearVideoCanvas"),Rt.prototype),qn(Rt.prototype,"mirrorVideo",[Xn,vxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"mirrorVideo"),Rt.prototype),qn(Rt.prototype,"enableHardwareAcceleration",[Xn,yxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"enableHardwareAcceleration"),Rt.prototype),qn(Rt.prototype,"subscribeVideoStatisticData",[Xn,bxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"subscribeVideoStatisticData"),Rt.prototype),qn(Rt.prototype,"unsubscribeVideoStatisticData",[Xn,Sxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"unsubscribeVideoStatisticData"),Rt.prototype),qn(Rt.prototype,"previewVirtualBackground",[Xn,Cxe,Exe],Object.getOwnPropertyDescriptor(Rt.prototype,"previewVirtualBackground"),Rt.prototype),qn(Rt.prototype,"updateVirtualBackgroundImage",[Xn,wxe,_xe],Object.getOwnPropertyDescriptor(Rt.prototype,"updateVirtualBackgroundImage"),Rt.prototype),qn(Rt.prototype,"stopPreviewVirtualBackground",[Xn,Txe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"stopPreviewVirtualBackground"),Rt.prototype),qn(Rt.prototype,"previewVideoMask",[SOe,Xn,Axe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"previewVideoMask"),Rt.prototype),qn(Rt.prototype,"updateVideoMask",[Xn,xxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"updateVideoMask"),Rt.prototype),qn(Rt.prototype,"stopPreviewVideoMask",[Xn,Oxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"stopPreviewVideoMask"),Rt.prototype),qn(Rt.prototype,"requestFarEndCameraControl",[Xn,Ixe,WL],Object.getOwnPropertyDescriptor(Rt.prototype,"requestFarEndCameraControl"),Rt.prototype),qn(Rt.prototype,"approveFarEndCameraControl",[Xn,Rxe,WL],Object.getOwnPropertyDescriptor(Rt.prototype,"approveFarEndCameraControl"),Rt.prototype),qn(Rt.prototype,"declineFarEndCameraControl",[Xn,kxe,WL],Object.getOwnPropertyDescriptor(Rt.prototype,"declineFarEndCameraControl"),Rt.prototype),qn(Rt.prototype,"giveUpFarEndCameraControl",[Xn,Dxe,WL],Object.getOwnPropertyDescriptor(Rt.prototype,"giveUpFarEndCameraControl"),Rt.prototype),qn(Rt.prototype,"controlCamera",[Xn,Mxe,WL],Object.getOwnPropertyDescriptor(Rt.prototype,"controlCamera"),Rt.prototype),qn(Rt.prototype,"controlFarEndCamera",[Xn,Pxe,WL],Object.getOwnPropertyDescriptor(Rt.prototype,"controlFarEndCamera"),Rt.prototype),qn(Rt.prototype,"attachVideo",[Xn,Nxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"attachVideo"),Rt.prototype),qn(Rt.prototype,"detachVideo",[Xn,Lxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"detachVideo"),Rt.prototype),qn(Rt.prototype,"spotlight",[yu,Xn,Bxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"spotlight"),Rt.prototype),qn(Rt.prototype,"removeSpotlight",[Xn,Fxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"removeSpotlight"),Rt.prototype),qn(Rt.prototype,"removeAllSpotlights",[Td,Xn,Vxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"removeAllSpotlights"),Rt.prototype),qn(Rt.prototype,"screenshotVideo",[Xn,Hxe,Ed],Object.getOwnPropertyDescriptor(Rt.prototype,"screenshotVideo"),Rt.prototype),qn(Rt.prototype,"startShareView",[SOe,Xn,$xe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"startShareView"),Rt.prototype),qn(Rt.prototype,"stopShareView",[Xn,Uxe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"stopShareView"),Rt.prototype),qn(Rt.prototype,"switchShareView",[Xn,zxe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"switchShareView"),Rt.prototype),qn(Rt.prototype,"updateSharingCanvasDimension",[Xn,jxe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"updateSharingCanvasDimension"),Rt.prototype),qn(Rt.prototype,"startShareScreen",[Xn,Wxe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"startShareScreen"),Rt.prototype),qn(Rt.prototype,"stopShareScreen",[Xn,Gxe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"stopShareScreen"),Rt.prototype),qn(Rt.prototype,"pauseShareScreen",[Xn,qxe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"pauseShareScreen"),Rt.prototype),qn(Rt.prototype,"resumeShareScreen",[Xn,Kxe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"resumeShareScreen"),Rt.prototype),qn(Rt.prototype,"setSharePrivilege",[yu,Zxe,Xn,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"setSharePrivilege"),Rt.prototype),qn(Rt.prototype,"lockShare",[yu,Yxe,Xn,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"lockShare"),Rt.prototype),qn(Rt.prototype,"shareToBreakoutRoom",[Xn,yu,Xxe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"shareToBreakoutRoom"),Rt.prototype),qn(Rt.prototype,"stopShareToBreakoutRoom",[Xn,yu,Jxe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"stopShareToBreakoutRoom"),Rt.prototype),qn(Rt.prototype,"muteOthersScreenShare",[Xn,yu,Qxe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"muteOthersScreenShare"),Rt.prototype),qn(Rt.prototype,"enableOptimizeForSharedVideo",[Xn,eOe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"enableOptimizeForSharedVideo"),Rt.prototype),qn(Rt.prototype,"updateSharedVideoQuality",[Xn,tOe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"updateSharedVideoQuality"),Rt.prototype),qn(Rt.prototype,"subscribeShareStatisticData",[Xn,nOe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"subscribeShareStatisticData"),Rt.prototype),qn(Rt.prototype,"unsubscribeShareStatisticData",[Xn,oOe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"unsubscribeShareStatisticData"),Rt.prototype),qn(Rt.prototype,"screenshotSharedContent",[Xn,sOe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"screenshotSharedContent"),Rt.prototype),qn(Rt.prototype,"attachShareView",[Xn,rOe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"attachShareView"),Rt.prototype),qn(Rt.prototype,"detachShareView",[Xn,iOe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"detachShareView"),Rt.prototype),qn(Rt.prototype,"startAnnotation",[Xn,aOe,wd,ZZe],Object.getOwnPropertyDescriptor(Rt.prototype,"startAnnotation"),Rt.prototype),qn(Rt.prototype,"stopAnnotation",[Xn,lOe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"stopAnnotation"),Rt.prototype),qn(Rt.prototype,"changeAnnotationPrivilege",[Xn,cOe,wd],Object.getOwnPropertyDescriptor(Rt.prototype,"changeAnnotationPrivilege"),Rt.prototype),qn(Rt.prototype,"requestRemoteControl",[Xn,uOe,$_,YZe],Object.getOwnPropertyDescriptor(Rt.prototype,"requestRemoteControl"),Rt.prototype),qn(Rt.prototype,"giveUpRemoteControl",[Xn,dOe,$_],Object.getOwnPropertyDescriptor(Rt.prototype,"giveUpRemoteControl"),Rt.prototype),qn(Rt.prototype,"startRemoteControl",[Xn,hOe,$_],Object.getOwnPropertyDescriptor(Rt.prototype,"startRemoteControl"),Rt.prototype),qn(Rt.prototype,"grabRemoteControl",[Xn,fOe,$_],Object.getOwnPropertyDescriptor(Rt.prototype,"grabRemoteControl"),Rt.prototype),qn(Rt.prototype,"updateRemoteControlViewportDimension",[Xn,pOe,$_],Object.getOwnPropertyDescriptor(Rt.prototype,"updateRemoteControlViewportDimension"),Rt.prototype),qn(Rt.prototype,"approveRemoteControl",[Xn,mOe,$_],Object.getOwnPropertyDescriptor(Rt.prototype,"approveRemoteControl"),Rt.prototype),qn(Rt.prototype,"declineRemoteControl",[Xn,gOe,$_],Object.getOwnPropertyDescriptor(Rt.prototype,"declineRemoteControl"),Rt.prototype),qn(Rt.prototype,"stopRemoteControl",[Xn,vOe,$_],Object.getOwnPropertyDescriptor(Rt.prototype,"stopRemoteControl"),Rt.prototype),qn(Rt.prototype,"launchRemoteControlApp",[Xn,yOe,$_],Object.getOwnPropertyDescriptor(Rt.prototype,"launchRemoteControlApp"),Rt.prototype),Rt);var wOe,_Oe,TOe,AOe,xOe,OOe,IOe,ROe,Zc;const Ik=Np("Audio"),JZe=Np("Sharing");let QZe=(wOe=Go("share"),_Oe=Go("audio"),TOe=Go("audio"),AOe=Go("audio"),xOe=Go("audio"),OOe=Go("audio"),IOe=Go("audio"),ROe=Go("audio"),Zc=class extends XZe{switchSharingSecondaryCamera(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{video:{cameraDevicesList:v},share:{status:S,isSharingWithSecondCamera:_}}=p;return o!=="default"&&v.map((x=>x.deviceId)).indexOf(o)===-1?Promise.reject({type:ar,reason:"Cannot find cameraDeviceId in camera devices list.",errorCode:ht.STREAM_MISMATCH_DEVICE}):(S===Yr.Sharing&&_&&d.changeSharingSecondCamera(o),c(q3e(o)),Promise.resolve())})(this[Mn],e)}muteUserAudioLocally(e){return((n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,p=c(),{audio:{locallyMutedAudioList:v}}=p,S=Va(p).filter((_=>_.audio===Qi.Computer));return v.includes(o)||S.findIndex((_=>_.userId===o))===-1||(i.muteOrUnmuteOtherAudio(o,!0),d(P3e(o))),Promise.resolve("")})(this[Mn],e)}unmuteUserAudioLocally(e){return((n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,{audio:{locallyMutedAudioList:p}}=c();return p.includes(o)&&(i.muteOrUnmuteOtherAudio(o,!1),d(Tee(o))),Promise.resolve("")})(this[Mn],e)}adjustUserAudioVolumeLocally(e,n){return((o,i,c)=>{const{mediaAgent:d,store:{getState:p,dispatch:v}}=o,S=p();return Va(S).findIndex((_=>_.userId===i))!==-1&&(d.adjustOtherAudioVolume(i,c),v(N3e({userId:i,volume:c}))),Promise.resolve("")})(this[Mn],e,n)}muteAllUserAudioLocally(){return(e=>{const{mediaAgent:n,store:{getState:o,dispatch:i}}=e,{audio:{isStopAllImcomingAudio:c}}=o();return c||(n.stopAllIncomingAudio(!0),i(Tye(!0))),Promise.resolve("")})(this[Mn])}unmuteAllUserAudioLocally(){return(e=>{const{mediaAgent:n,store:{getState:o,dispatch:i}}=e,{audio:{isStopAllImcomingAudio:c,locallyMutedAudioList:d}}=o();return c&&(n.stopAllIncomingAudio(!1),i(Tye(!1)),d.length>0&&d.forEach((p=>{n.muteOrUnmuteOtherAudio(p,!1),i(Tee(p))}))),Promise.resolve("")})(this[Mn])}startSecondaryAudio(e,n){return(async(o,i,c)=>{const{mediaAgent:d,rwgAgent:p,store:{getState:v,dispatch:S}}=o,_=v(),{audio:{microphoneDevicesList:x,activeMicrophone:P,isWebRtcAudioCapable:B},share:{status:H}}=_,U=Ss(_);if(!zs.isSupportShare2ndAudioDevice(B))return Promise.reject({type:bn,reason:"Cannot start secondary audio due to platform is not supported",errorCode:ht.SECONDARY_AUDIO_UNSUPPORTED});if(U?.audio===Qi.Computer&&P===i)return Promise.reject({type:bn,reason:"Cannot start secondary audio with the same microphone",errorCode:ht.SECONDARY_AUDIO_DEVICE_CONFLICT});if(H!==Yr.End)return Promise.reject({type:bn,reason:"Cannot start secondary audio while screen sharing is in progress",errorCode:ht.SECONDARY_AUDIO_SCREEN_SHARING_CONFLICT});let z=x;if(x.length===0){const{microphones:Z}=await hc(F2());z=Z}return i&&z.findIndex((Z=>Z.deviceId===i))===-1?Promise.reject({type:ar,reason:"Cannot find the microphone",errorCode:ht.STREAM_MISMATCH_DEVICE}):(p.muteShareAudio(!1,!0),d.share2ndAudio(i,c),S(Aee(i)),Cr(BMe))})(this[Mn],e,n)}stopSecondaryAudio(){return(async e=>{const{mediaAgent:n,rwgAgent:o,store:{getState:i,dispatch:c}}=e,d=i(),{audio:{secondaryAudioMicrophoneId:p}}=d;if(!p)return Promise.reject({type:bn,reason:"Cannot stop secondary audio due to not started ",errorCode:ht.SECONDARY_AUDIO_NOT_STARTED});o.muteShareAudio(!0,!0),n.leaveSharingAudio(!1),c(Aee(void 0))})(this[Mn])}isUserAudioMutedLocally(e){return(({store:{getState:n}},o)=>{const{audio:{locallyMutedAudioList:i}}=n();return i.includes(o)})(this[Mn],e)}getUserVolumeLocally(e){return(({store:{getState:n}},o)=>{var i,c;const{audio:{localUserAudioVolumeList:d,locallyMutedAudioList:p}}=n();return(i=(c=d.find((v=>v.userId===o)))===null||c===void 0?void 0:c.volume)!==null&&i!==void 0?i:p.includes(o)?0:100})(this[Mn],e)}},qn(Zc.prototype,"switchSharingSecondaryCamera",[Xn,wOe,JZe],Object.getOwnPropertyDescriptor(Zc.prototype,"switchSharingSecondaryCamera"),Zc.prototype),qn(Zc.prototype,"muteUserAudioLocally",[Xn,_Oe,Ik],Object.getOwnPropertyDescriptor(Zc.prototype,"muteUserAudioLocally"),Zc.prototype),qn(Zc.prototype,"unmuteUserAudioLocally",[Xn,TOe,Ik],Object.getOwnPropertyDescriptor(Zc.prototype,"unmuteUserAudioLocally"),Zc.prototype),qn(Zc.prototype,"adjustUserAudioVolumeLocally",[Xn,AOe,Ik],Object.getOwnPropertyDescriptor(Zc.prototype,"adjustUserAudioVolumeLocally"),Zc.prototype),qn(Zc.prototype,"muteAllUserAudioLocally",[Xn,xOe,Ik],Object.getOwnPropertyDescriptor(Zc.prototype,"muteAllUserAudioLocally"),Zc.prototype),qn(Zc.prototype,"unmuteAllUserAudioLocally",[Xn,OOe,Ik],Object.getOwnPropertyDescriptor(Zc.prototype,"unmuteAllUserAudioLocally"),Zc.prototype),qn(Zc.prototype,"startSecondaryAudio",[Xn,IOe,Ik],Object.getOwnPropertyDescriptor(Zc.prototype,"startSecondaryAudio"),Zc.prototype),qn(Zc.prototype,"stopSecondaryAudio",[Xn,ROe,Ik],Object.getOwnPropertyDescriptor(Zc.prototype,"stopSecondaryAudio"),Zc.prototype),Zc);const OX={controlStatus:ci.NotStarted,sequenceId:1,rooms:[],isHugeBO:!1,allocationPattern:o2.Automatically,currentRoom:{status:cr.Initial,boStatus:RPe.NoToken,boConfId:"",boId:"",name:"",boToken:""},options:{isAutoJoinRoom:!1,isBackToMainSessionEnabled:!0,isTimerEnabled:!1,timerDuration:1800,isTimerAutoEnabled:!1,waitSeconds:60,isAutoMoveBackToMainSession:!1,isRoomSelectionEnabled:!1},mainSessionAttendeeList:[],preAssignedRooms:[],meetingElapsedTime:0,startRoomElapsedTime:0,closingRoomTime:0,broadcastMessage:"",hostReplyToQuestionerType:void 0,hostReplyToRequestId:void 0,isUserRoleUpdated:!1,mainSessionConfId:"",isEnableBOBroadcast:!1,isEnableBreakoutRoom:!1,isEnableBOViewActivityStatus:!1,inRoomUserActivityStatusMap:{},isEnableBOBroadcastVoice:!1,isBroadcastVoice:!1},eYe=wm({[`${T4e}`]:bt(((e,{payload:n})=>{Array.isArray(n)?e.rooms.push(...n):e.rooms.push(n)})),[`${Bye}`]:bt(((e,{payload:n})=>{e.allocationPattern=n})),[`${kee}`]:bt(((e,{payload:n})=>{e.sequenceId=n})),[`${Fye}`]:bt(((e,{payload:n})=>{e.meetingElapsedTime=n})),[`${A4e}`]:bt(((e,{payload:n})=>{e.startRoomElapsedTime=n})),[`${x4e}`]:bt(((e,{payload:n})=>{const{options:o}=e;Object.assign(o,n)})),[`${O4e}`]:bt(((e,{payload:n})=>{e.controlStatus=n})),[`${A6}`]:bt(((e,{payload:n})=>{e.rooms=n})),[`${Dee}`]:bt(((e,{payload:n})=>{const{currentRoom:o}=e;Object.assign(o,n)})),[`${T2}`]:bt(((e,{payload:n})=>{const{currentRoom:o}=e;o.status=n})),[`${Vye}`]:bt(((e,{payload:n})=>{const{currentRoom:o}=e;o.boConfId=n})),[`${Hye}`]:bt(((e,{payload:n})=>{const{currentRoom:o}=e;o.boToken=n})),[`${$ye}`]:bt(((e,{payload:n})=>{e.closingRoomTime=n})),[`${R4e}`]:bt(((e,{payload:n})=>{e.broadcastMessage=n})),[`${G1e}`]:bt(((e,{payload:n})=>{e.hostReplyToQuestionerType=n})),[`${k4e}`]:bt(((e,{payload:n})=>{e.hostReplyToRequestId=n})),[`${D4e}`]:bt(((e,{payload:n})=>{n.add!==void 0&&n.add.length>0&&n.add.forEach((o=>{const i=e.mainSessionAttendeeList.find((c=>c.userId===o.userId));i!==void 0?Object.assign(i,o):$Q(o.userRole)||e.mainSessionAttendeeList.push(o)})),n.update!==void 0&&n.update.length>0&&n.update.forEach((o=>{const i=e.mainSessionAttendeeList.find((c=>c.userId===o.userId));i!==void 0&&Object.assign(i,o)})),n.remove!==void 0&&n.remove.length>0&&n.remove.forEach((o=>{const i=e.mainSessionAttendeeList.findIndex((c=>c.userId===o.userId));i!==-1&&e.mainSessionAttendeeList.splice(i,1)}))})),[`${M4e}`]:bt(((e,{payload:n})=>{e.isHugeBO=n})),[`${zye}`]:bt(((e,{payload:n})=>{e.isUserRoleUpdated=n})),[`${Uye}`]:bt(((e,{payload:n})=>{e.preAssignedRooms=n})),[`${P4e}`]:bt(((e,{payload:n})=>{e.isEnableBreakoutRoom=n.isEnableBreakoutRoom,e.isEnableBOBroadcast=n.isEnableBOBroadcast,e.isEnableBOViewActivityStatus=n.isEnableBOViewActivityStatus,e.isEnableBOBroadcastVoice=n.isEnableBOBroadcastVoice})),[`${N4e}`]:bt(((e,{payload:n})=>{const{userGuid:o,status:i}=n,{inRoomUserActivityStatusMap:c}=e;c[`${o}`]=i})),[`${Mee}`]:bt(((e,{payload:n})=>{e.isBroadcastVoice=n})),[`${I4e}`]:e=>{const{currentRoom:{status:n}}=e;return n===cr.Joining?{...OX,preAssignedRooms:e.preAssignedRooms,currentRoom:e.currentRoom,closingRoomTime:e.closingRoomTime}:n===cr.Leaving?{...OX,preAssignedRooms:e.preAssignedRooms,closingRoomTime:e.closingRoomTime}:{...OX,preAssignedRooms:e.preAssignedRooms}}},OX);var Lp=Uint8Array,Py=Uint16Array,Nte=Uint32Array,Lte=new Lp([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Bte=new Lp([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xye=new Lp([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DBe=function(e,n){for(var o=new Py(31),i=0;i<31;++i)o[i]=n+=1<<e[i-1];var c=new Nte(o[30]);for(i=1;i<30;++i)for(var d=o[i];d<o[i+1];++d)c[d]=d-o[i]<<5|i;return[o,c]},MBe=DBe(Lte,2),PBe=MBe[0],Jye=MBe[1];PBe[28]=258,Jye[258]=28;for(var kOe=DBe(Bte,0),tYe=kOe[0],DOe=kOe[1],Qye=new Py(32768),Cu=0;Cu<32768;++Cu){var Rk=(43690&Cu)>>>1|(21845&Cu)<<1;Rk=(61680&(Rk=(52428&Rk)>>>2|(13107&Rk)<<2))>>>4|(3855&Rk)<<4,Qye[Cu]=((65280&Rk)>>>8|(255&Rk)<<8)>>>1}var wE=function(e,n,o){for(var i=e.length,c=0,d=new Py(n);c<i;++c)e[c]&&++d[e[c]-1];var p,v=new Py(n);for(c=0;c<n;++c)v[c]=v[c-1]+d[c-1]<<1;if(o){p=new Py(1<<n);var S=15-n;for(c=0;c<i;++c)if(e[c])for(var _=c<<4|e[c],x=n-e[c],P=v[e[c]-1]++<<x,B=P|(1<<x)-1;P<=B;++P)p[Qye[P]>>>S]=_}else for(p=new Py(i),c=0;c<i;++c)e[c]&&(p[c]=Qye[v[e[c]-1]++]>>>15-e[c]);return p},WO=new Lp(288);for(Cu=0;Cu<144;++Cu)WO[Cu]=8;for(Cu=144;Cu<256;++Cu)WO[Cu]=9;for(Cu=256;Cu<280;++Cu)WO[Cu]=7;for(Cu=280;Cu<288;++Cu)WO[Cu]=8;var uz=new Lp(32);for(Cu=0;Cu<32;++Cu)uz[Cu]=5;var nYe=wE(WO,9,0),oYe=wE(WO,9,1),sYe=wE(uz,5,0),rYe=wE(uz,5,1),Nme=function(e){for(var n=e[0],o=1;o<e.length;++o)e[o]>n&&(n=e[o]);return n},gS=function(e,n,o){var i=n/8|0;return(e[i]|e[i+1]<<8)>>(7&n)&o},Lme=function(e,n){var o=n/8|0;return(e[o]|e[o+1]<<8|e[o+2]<<16)>>(7&n)},J1e=function(e){return(e+7)/8|0},Vee=function(e,n,o){(n==null||n<0)&&(n=0),(o==null||o>e.length)&&(o=e.length);var i=new(e.BYTES_PER_ELEMENT==2?Py:e.BYTES_PER_ELEMENT==4?Nte:Lp)(o-n);return i.set(e.subarray(n,o)),i},iYe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],uE=function(e,n,o){var i=new Error(n||iYe[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,uE),!o)throw i;return i},U_=function(e,n,o){o<<=7&n;var i=n/8|0;e[i]|=o,e[i+1]|=o>>>8},F5=function(e,n,o){o<<=7&n;var i=n/8|0;e[i]|=o,e[i+1]|=o>>>8,e[i+2]|=o>>>16},Bme=function(e,n){for(var o=[],i=0;i<e.length;++i)e[i]&&o.push({s:i,f:e[i]});var c=o.length,d=o.slice();if(!c)return[LBe,0];if(c==1){var p=new Lp(o[0].s+1);return p[o[0].s]=1,[p,1]}o.sort((function(Ce,Te){return Ce.f-Te.f})),o.push({s:-1,f:25001});var v=o[0],S=o[1],_=0,x=1,P=2;for(o[0]={s:-1,f:v.f+S.f,l:v,r:S};x!=c-1;)v=o[o[_].f<o[P].f?_++:P++],S=o[_!=x&&o[_].f<o[P].f?_++:P++],o[x++]={s:-1,f:v.f+S.f,l:v,r:S};var B=d[0].s;for(i=1;i<c;++i)d[i].s>B&&(B=d[i].s);var H=new Py(B+1),U=ebe(o[x-1],H,0);if(U>n){i=0;var z=0,Z=U-n,te=1<<Z;for(d.sort((function(Ce,Te){return H[Te.s]-H[Ce.s]||Ce.f-Te.f}));i<c;++i){var ce=d[i].s;if(!(H[ce]>n))break;z+=te-(1<<U-H[ce]),H[ce]=n}for(z>>>=Z;z>0;){var se=d[i].s;H[se]<n?z-=1<<n-H[se]++-1:++i}for(;i>=0&&z;--i){var Se=d[i].s;H[Se]==n&&(--H[Se],++z)}U=n}return[new Lp(H),U]},ebe=function(e,n,o){return e.s==-1?Math.max(ebe(e.l,n,o+1),ebe(e.r,n,o+1)):n[e.s]=o},MOe=function(e){for(var n=e.length;n&&!e[--n];);for(var o=new Py(++n),i=0,c=e[0],d=1,p=function(S){o[i++]=S},v=1;v<=n;++v)if(e[v]==c&&v!=n)++d;else{if(!c&&d>2){for(;d>138;d-=138)p(32754);d>2&&(p(d>10?d-11<<5|28690:d-3<<5|12305),d=0)}else if(d>3){for(p(c),--d;d>6;d-=6)p(8304);d>2&&(p(d-3<<5|8208),d=0)}for(;d--;)p(c);d=1,c=e[v]}return[o.subarray(0,i),n]},V5=function(e,n){for(var o=0,i=0;i<n.length;++i)o+=e[i]*n[i];return o},NBe=function(e,n,o){var i=o.length,c=J1e(n+2);e[c]=255&i,e[c+1]=i>>>8,e[c+2]=255^e[c],e[c+3]=255^e[c+1];for(var d=0;d<i;++d)e[c+d+4]=o[d];return 8*(c+4+i)},POe=function(e,n,o,i,c,d,p,v,S,_,x){U_(n,x++,o),++c[256];for(var P=Bme(c,15),B=P[0],H=P[1],U=Bme(d,15),z=U[0],Z=U[1],te=MOe(B),ce=te[0],se=te[1],Se=MOe(z),Ce=Se[0],Te=Se[1],V=new Py(19),ke=0;ke<ce.length;++ke)V[31&ce[ke]]++;for(ke=0;ke<Ce.length;++ke)V[31&Ce[ke]]++;for(var et=Bme(V,7),$e=et[0],Re=et[1],_e=19;_e>4&&!$e[Xye[_e-1]];--_e);var ut,ct,St,ee,ln=_+5<<3,it=V5(c,WO)+V5(d,uz)+p,Ht=V5(c,B)+V5(d,z)+p+14+3*_e+V5(V,$e)+(2*V[16]+3*V[17]+7*V[18]);if(ln<=it&&ln<=Ht)return NBe(n,x,e.subarray(S,S+_));if(U_(n,x,1+(Ht<it)),x+=2,Ht<it){ut=wE(B,H,0),ct=B,St=wE(z,Z,0),ee=z;var Ut=wE($e,Re,0);for(U_(n,x,se-257),U_(n,x+5,Te-1),U_(n,x+10,_e-4),x+=14,ke=0;ke<_e;++ke)U_(n,x+3*ke,$e[Xye[ke]]);x+=3*_e;for(var Xe=[ce,Ce],tn=0;tn<2;++tn){var eo=Xe[tn];for(ke=0;ke<eo.length;++ke){var In=31&eo[ke];U_(n,x,Ut[In]),x+=$e[In],In>15&&(U_(n,x,eo[ke]>>>5&127),x+=eo[ke]>>>12)}}}else ut=nYe,ct=WO,St=sYe,ee=uz;for(ke=0;ke<v;++ke)if(i[ke]>255){In=i[ke]>>>18&31,F5(n,x,ut[In+257]),x+=ct[In+257],In>7&&(U_(n,x,i[ke]>>>23&31),x+=Lte[In]);var mn=31&i[ke];F5(n,x,St[mn]),x+=ee[mn],mn>3&&(F5(n,x,i[ke]>>>5&8191),x+=Bte[mn])}else F5(n,x,ut[i[ke]]),x+=ct[i[ke]];return F5(n,x,ut[256]),x+ct[256]},aYe=new Nte([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),LBe=new Lp(0),lYe=(function(){for(var e=new Int32Array(256),n=0;n<256;++n){for(var o=n,i=9;--i;)o=(1&o&&-306674912)^o>>>1;e[n]=o}return e})(),Fme=function(e,n,o){for(;o;++n)e[n]=o,o>>>=8};function cYe(e,n){n||(n={});var o=(function(){var p=-1;return{p:function(v){for(var S=p,_=0;_<v.length;++_)S=lYe[255&S^v[_]]^S>>>8;p=S},d:function(){return~p}}})(),i=e.length;o.p(e);var c=(function(p,v,S,_){return(function(x,P,B,H,U,z){var Z=x.length,te=new Lp(H+Z+5*(1+Math.ceil(Z/7e3))+U),ce=te.subarray(H,te.length-U),se=0;if(!P||Z<8)for(var Se=0;Se<=Z;Se+=65535){var Ce=Se+65535;Ce>=Z&&(ce[se>>3]=z),se=NBe(ce,se+1,x.subarray(Se,Ce))}else{for(var Te=aYe[P-1],V=Te>>>13,ke=8191&Te,et=(1<<B)-1,$e=new Py(32768),Re=new Py(et+1),_e=Math.ceil(B/3),ut=2*_e,ct=function(Nt){return(x[Nt]^x[Nt+1]<<_e^x[Nt+2]<<ut)&et},St=new Nte(25e3),ee=new Py(288),ln=new Py(32),it=0,Ht=0,Ut=(Se=0,0),Xe=0,tn=0;Se<Z;++Se){var eo=ct(Se),In=32767&Se,mn=Re[eo];if($e[In]=mn,Re[eo]=In,Xe<=Se){var Dt=Z-Se;if((it>7e3||Ut>24576)&&Dt>423){se=POe(x,ce,0,St,ee,ln,Ht,Ut,tn,Se-tn,se),Ut=it=Ht=0,tn=Se;for(var un=0;un<286;++un)ee[un]=0;for(un=0;un<30;++un)ln[un]=0}var ye=2,ms=0,Vo=ke,Eo=In-mn&32767;if(Dt>2&&eo==ct(Se-Eo))for(var Oo=Math.min(V,Dt)-1,Zn=Math.min(32767,Se),xt=Math.min(258,Dt);Eo<=Zn&&--Vo&&In!=mn;){if(x[Se+ye]==x[Se+ye-Eo]){for(var cn=0;cn<xt&&x[Se+cn]==x[Se+cn-Eo];++cn);if(cn>ye){if(ye=cn,ms=Eo,cn>Oo)break;var vn=Math.min(Eo,cn-2),qe=0;for(un=0;un<vn;++un){var pt=Se-Eo+un+32768&32767,Ft=pt-$e[pt]+32768&32767;Ft>qe&&(qe=Ft,mn=pt)}}}Eo+=(In=mn)-(mn=$e[In])+32768&32767}if(ms){St[Ut++]=268435456|Jye[ye]<<18|DOe[ms];var Ve=31&Jye[ye],Ot=31&DOe[ms];Ht+=Lte[Ve]+Bte[Ot],++ee[257+Ve],++ln[Ot],Xe=Se+ye,++it}else St[Ut++]=x[Se],++ee[x[Se]]}}se=POe(x,ce,z,St,ee,ln,Ht,Ut,tn,Se-tn,se)}return Vee(te,0,H+J1e(se)+U)})(p,v.level==null?6:v.level,v.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(p.length)))):12+v.mem,S,_,!0)})(e,n,(function(p){return 10+(p.filename&&p.filename.length+1||0)})(n),8),d=c.length;return(function(p,v){var S=v.filename;if(p[0]=31,p[1]=139,p[2]=8,p[8]=v.level<2?4:v.level==9?2:0,p[9]=3,v.mtime!=0&&Fme(p,4,Math.floor(new Date(v.mtime||Date.now())/1e3)),S){p[3]=8;for(var _=0;_<=S.length;++_)p[_+10]=S.charCodeAt(_)}})(c,n),Fme(c,d-8,o.d()),Fme(c,d-4,i),c}var NOe=typeof TextEncoder<"u"&&new TextEncoder,tbe=typeof TextDecoder<"u"&&new TextDecoder;try{tbe.decode(LBe,{stream:!0})}catch{}const{WebclientBreakoutRoomAttendeeStatus:Q1e,WebclientBreakoutRoomCommand:uYe}=rl,Vme=_m(zs.getInstance());function ES(e,n){let o=0;for(;o<e.length;o++){const i=e[o],{attendeeGuidList:c}=i;if(c!=null&&c.includes(n))break}return o<e.length?e[o]:void 0}function QL(){ni.remove(Q1e),ni.remove(uYe)}function nbe(){return ta.createAgent().leaveBO(1),dt(Rv,{reason:Em.BackToMainSession}),QL(),[T2(cr.Leaving),wg(ef.NormalCase)]}function Hme(e,n){return dt(Rv,{reason:Em.JoinBreakoutRoom,roomName:e}),n===cr.InRoom&&ta.createAgent().leaveBO(1),[T2(cr.Joining),wg(ef.NormalCase)]}function LOe(e){return dt(Rv,{reason:Em.MoveToBreakoutRoom,roomName:e}),ta.createAgent().leaveBO(1),[T2(cr.Joining),wg(ef.NormalCase)]}function $me(e){return e!==cr.InRoom&&e!==cr.Joining&&e!==cr.Leaving}function IX(e,n=!1){const o=n?cr.InRoom:cr.Invited;return ni.set(Q1e,JSON.stringify({status:o,boId:e.boId}),Ca.SessionStorage),Dee({status:o,boId:e.boId,name:e.name,boStatus:e.boStatus})}function Ume(e){const{breakoutRoom:{isUserRoleUpdated:n,currentRoom:{boConfId:o}}}=e.value,i=Ss(e.value);return i&&(!o||o&&n)?qa(i.isHost):(o?Aa(mve,1):Aa(kz,1).pipe(pn((d=>K6(d.userRole)?lo([1]):Fp(Aa(Mp).pipe(xn((p=>p.userRole!==void 0&&p.displayName===void 0||p.bVideoConnect!==void 0)),Jr(1)),Aa(Ste).pipe(xn((p=>p.some((v=>K6(v.userRole))))),Jr(1)),wu(3e3)))))).pipe(Ju(yT),us(e),Do((([,d])=>Ss(d).isHost)))}function obe(e){return U0e({boIdList:Aa(yPe).pipe(lWe(((n,o)=>[...n,o]),[]),Jr(e))}).pipe(H0e(1e4))}const dYe=[{mask:Zpe.Connect,key:"audio",value:""},{mask:Zpe.Voip,key:"audio",value:"computer"},{mask:Zpe.Muted,key:"muted",value:!0},{mask:Owe.Connect,key:"bVideoOn",value:!1},{mask:Owe.On,key:"bVideoOn",value:!0},{mask:Iwe.Share,key:"sharerOn",value:!0},{mask:Iwe.ShareAudio,key:"bShareAudioOn",value:!0}];function BOe(e,n){const o=(Tg(n)?n.breakoutRoom.mainSessionAttendeeList:n.participants.attendeesList).find((i=>i.userId===Number(e)));return o?{inviterId:o.userId,inviterGuid:o.userGUID,inviterName:o.displayName}:{}}const vS=ta.createAgent(),zme=["userRole","bCoHost","bCCEditor","bHold"],hYe=ta.createAgent(),fYe=_m(zs.getInstance());var Mi;const Zd=ta.createAgent(),FOe=_m(zs.getInstance()),Oy=Np("Breakout Room");let pYe=(Mi=class extends VS{createRooms(e,n){const o=this[rs](),i=this[Mc],{breakoutRoom:{isHugeBO:c,sequenceId:d,rooms:p,controlStatus:v,isEnableBreakoutRoom:S}}=o;if(!S)return Promise.reject({type:bn,reason:"Breakout room feature is not enabled.",errorCode:ht.SUBSESSION_ACCOUNT_DISABLE});if(v===ci.InProgress||v===ci.Closing)return Promise.reject({type:bn,reason:"breakout room has started!",errorCode:ht.SUBSESSION_MISMATCH_STATE});let _;_=typeof e=="string"?[e]:typeof e=="number"?Array.from({length:e}).map(((P,B)=>`${Awe} ${B+d}`)):e;const x=c?100:50;return _.length<1||p.length+_.length>x?Promise.reject({type:ar,reason:"exceed maximum size",errorCode:ht.SUBSESSION_EXCEED_CAPACITY}):(Zd.batchCreateBOToken(_),new Promise(((P,B)=>{obe(_.length).subscribe({next({boIdList:H}){let U=H.map(((Z,te)=>({boId:Z,name:_[te]})));if(n===o2.Automatically){const Z=Ame(o),te=U.length,ce=Z.length;U=U.map(((se,Se)=>{const Ce=[];let Te=Se;for(;Te<ce;)Ce.push(Z[Te]),Te+=te;return{...se,attendeeList:Ce}}))}const z=U.map((({boId:Z,name:te,attendeeList:ce})=>({boId:Z,name:te,attendeeGuidList:ce&&ce.map((se=>se.userGUID))})));if(i(T4e(z)),i(Bye(n)),i(kee(d+U.length)),n===o2.Automatically){const Z=U.map((te=>({roomId:te.boId,name:te.name,attendeeList:te.attendeeList.map((ce=>({userId:ce.userId,avatar:ce.avatar,displayName:ce.displayName})))})));P(Z)}else P(U.map((Z=>({roomId:Z.boId,name:Z.name,attendeeList:[]}))))},error(){B({type:Jh,errorCode:ht.INTERNAL_ERROR})}})})))}recreateRooms(e,n){const o=this[rs](),i=this[Mc],{breakoutRoom:{isHugeBO:c,sequenceId:d,controlStatus:p,isEnableBreakoutRoom:v}}=o;if(!v)return Promise.reject({type:bn,reason:"Breakout room feature is not enabled.",errorCode:ht.SUBSESSION_ACCOUNT_DISABLE});if(p===ci.InProgress||p===ci.Closing)return Promise.reject({type:bn,reason:"breakout room has started!",errorCode:ht.SUBSESSION_MISMATCH_STATE});let S;S=typeof e=="string"?[e]:typeof e=="number"?Array.from({length:e}).map(((x,P)=>`${Awe} ${P+d}`)):e;const _=c?100:50;return S.length<1||S.length>_?Promise.reject({type:ar,reason:"exceed maximum size",errorCode:ht.SUBSESSION_EXCEED_CAPACITY}):(Zd.batchCreateBOToken(S),new Promise(((x,P)=>{obe(S.length).subscribe((({boIdList:B})=>{let H=B.map(((z,Z)=>({boId:z,name:S[Z]})));if(n===o2.Automatically){const z=H.length,Z=UKe(o),te=Z.length;H=H.map(((ce,se)=>{const Se=[];let Ce=se;for(;Ce<te;)Se.push(Z[Ce]),Ce+=z;return{...ce,attendeeList:Se}}))}const U=H.map((({boId:z,name:Z,attendeeList:te})=>({boId:z,name:Z,attendeeGuidList:te&&te.map((ce=>ce.userGUID))})));if(i(A6(U)),i(Bye(n)),i(kee(d+H.length)),n===o2.Automatically){const z=H.map((Z=>({roomId:Z.boId,name:Z.name,attendeeList:Z.attendeeList.map((te=>({userId:te.userId,avatar:te.avatar,displayName:te.displayName})))})));x(z)}else x(H.map((z=>({roomId:z.boId,name:z.name,attendeeList:[]}))))}),(()=>{P({type:Jh,errorCode:ht.INTERNAL_ERROR})}))})))}openRooms(e,n){var o;const i=this[rs](),c={isAutoJoinRoom:!1,isBackToMainSessionEnabled:!0,isTimerEnabled:!1,timerDuration:1800,isTimerAutoEnabled:!1,waitSeconds:60,isAutoMoveBackToMainSession:!1,isRoomSelectionEnabled:!1},{breakoutRoom:{controlStatus:d,rooms:p,sequenceId:v,isHugeBO:S}}=i;if(d===ci.InProgress||d===ci.Closing)return Promise.reject({type:bn,reason:"breakout room has started!",errorCode:ht.SUBSESSION_MISMATCH_STATE});if(e.some((U=>p.findIndex((z=>z.boId===U.roomId))===-1)))return Promise.reject({type:ar,reason:"roomId is wrong",errorCode:ht.SUBSESSION_MISMATCH_ID});const _=Va(i);if(e.reduce(((U,z)=>U.concat(z.attendeeList)),[]).some((U=>_.findIndex((z=>z.userId===U.userId))===-1)))return Promise.reject({type:ar,reason:"Invalid user",errorCode:ht.SUBSESSION_MISMATCH_USER});const x=e.map((U=>{const{attendeeList:z}=U,Z=z.map((te=>{const ce=_.find((se=>se.userId===te.userId));return ce?.userGUID}));return{BID:U.roomId,MeetingTitle:U.name,MeetingToken:void 0,Status:RPe.Started,HostID:"",ParticipantList:Z}})),P=n?{...c,...n}:c,B={ControlStatus:ci.InProgress,NameIndex:v,IsAutoJoinEnabled:+P.isAutoJoinRoom,IsBackToMainSessionEnabled:+P.isBackToMainSessionEnabled,IsTimerEnabled:+P.isTimerEnabled,TimerDuration:P.timerDuration,IsTimerAutoEndEnabled:+P.isTimerAutoEnabled,WaitSeconds:P.waitSeconds<0?0:P.waitSeconds,StartTimeOnMMR:void 0,ItemList:x,IsAutoMovetoMainSessionEnabled:P.isAutoMoveBackToMainSession,IsParticipantsChooseRoomEnabled:+P.isRoomSelectionEnabled};let H=HPe(JSON.stringify(B));if(S&&(H=(U=>zWe(cYe((function(z){if(NOe)return NOe.encode(z);for(var Z=z.length,te=new Lp(z.length+(z.length>>1)),ce=0,se=function(V){te[ce++]=V},Se=0;Se<Z;++Se){if(ce+5>te.length){var Ce=new Lp(ce+8+(Z-Se<<1));Ce.set(te),te=Ce}var Te=z.charCodeAt(Se);Te<128?se(Te):Te<2048?(se(192|Te>>6),se(128|63&Te)):Te>55295&&Te<57344?(se(240|(Te=65536+(1047552&Te)|1023&z.charCodeAt(++Se))>>18),se(128|Te>>12&63),se(128|Te>>6&63),se(128|63&Te)):(se(224|Te>>12),se(128|Te>>6&63),se(128|63&Te))}return Vee(te,0,ce)})(U))))(H)),(o=Ss(i))!==null&&o!==void 0&&o.isHost)Zd.startBO(H);else{const U=Tk(i);U&&Zd.coHostStartBO(H,U.userId)}return Cr(Wk,(U=>U.controlStatus===ci.InProgress))}joinRoom(e){const n=this[rs](),o=Ss(n),{breakoutRoom:{controlStatus:i,rooms:c,options:{isRoomSelectionEnabled:d},currentRoom:{status:p,boId:v}},meeting:{userGUID:S}}=n;if(i!==ci.InProgress)return Promise.reject({type:bn,reason:"Breakout room is not started",errorCode:ht.SUBSESSION_MISMATCH_STATE});if(o!=null&&o.isHost){const _=c.find((x=>x.boId===e));if(!_)return Promise.reject({type:ar,reason:"Room ID is not correct",errorCode:ht.SUBSESSION_MISMATCH_ID});Zd.joinBO(_.boId)}else if(o!=null&&o.bCoHost){if(!c.find((_=>_.boId===e)))return Promise.reject({type:ar,reason:"Room ID is not correct",errorCode:ht.SUBSESSION_MISMATCH_ID});{const _=Tk(n);if(!_)return Promise.reject({type:bn,reason:"No host in the meeting, cannot join the room",errorCode:ht.SUBSESSION_MISMATCH_STATE});Zd.wantJoinBO(_?.userId,e)}}else{if(p===cr.InRoom&&v===e)return Promise.resolve("");{let _=!1;const x=ES(c,S);if(x&&x.boId===e)Zd.joinBO(x.boId);else if(d)if(c.findIndex((P=>P.boId===e))!==-1){const P=Tk(n);if(!P)return Promise.reject({type:bn,reason:"No host in the meeting, cannot join the room",errorCode:ht.SUBSESSION_MISMATCH_STATE});Zd.wantJoinBO(P.userId,e)}else _=!0;else _=!0;if(_)return Promise.reject({type:ar,reason:"Room ID is not correct",errorCode:ht.SUBSESSION_MISMATCH_ID})}}return Cr(hJ,(_=>_.boId===e))}leaveRoom(){const e=this[rs](),n=this[Mc],{breakoutRoom:{controlStatus:o,options:i,currentRoom:{status:c}}}=e;if(o!==ci.InProgress&&o!==ci.Closing||c!==cr.InRoom)return Promise.reject({type:bn,errorCode:ht.SUBSESSION_MISMATCH_STATE});{const d=Iv(e);if(!i.isBackToMainSessionEnabled&&!d)return Promise.reject({type:Bp,reason:"Can not return main session during the breakout room",errorCode:ht.SUBSESSION_EXIT_RESTRICTED});nbe().forEach((p=>n(p)))}return Promise.resolve("")}askForHelp(){const e=this[rs](),{breakoutRoom:{controlStatus:n,mainSessionAttendeeList:o,currentRoom:{status:i}},participants:{attendeesList:c}}=e,d=Iv(e);if(n!==ci.InProgress||i!==cr.InRoom)return Promise.reject({type:bn,reason:"you are not in breakout room",errorCode:ht.SUBSESSION_MISMATCH_STATE});if(d)return Promise.reject({type:bn,reason:"host or co-host can not ask for help",errorCode:ht.SUBSESSION_MISMATCH_USER});{const p=o.find((v=>v.isHost));if(p){if(c.findIndex((v=>v.zoomID===p.zoomID))>-1)return Promise.reject({type:bn,reason:"host is in room",errorCode:ht.SUBSESSION_MISMATCH_STATE});Zd.askForHelpBO(p.userId)}}return Cr(o1e,(p=>p.result===mO.Received))}postponeHelping(e){const n=this[rs](),o=this[Mc],{breakoutRoom:{mainSessionAttendeeList:i,currentRoom:{status:c}},participants:{attendeesList:d}}=n;let p=d;return c===cr.InRoom&&(p=i),p.findIndex((v=>v.userId===e))>-1?(Zd.askForHelpResultBO(e,mO.Ignore),o(G1e(mO.Ignore)),Promise.resolve("")):Promise.reject({type:ar,reason:"user id is not correct",errorCode:ht.SUBSESSION_MISMATCH_USER})}broadcast(e){const{breakoutRoom:{isEnableBOBroadcast:n}}=this[rs]();return n?e?qf.beginEncrypt({text:e,type:Gf.BO_BROADCAST}).then((o=>(Zd.broadcastBO(o),Promise.resolve("")))):Promise.reject({type:ar,reason:"content empty",errorCode:ht.SUBSESSION_BROADCAST_INVALID_CONTENT}):Promise.reject({type:bn,reason:"Cannot broadcast message due to the feature is not enable",errorCode:ht.SUBSESSION_BROADCAST_DISABLE})}startBroadcastVoice(){const e=this[rs](),n=this[Mc],{breakoutRoom:{isEnableBOBroadcast:o,isEnableBOBroadcastVoice:i,isBroadcastVoice:c}}=e;if(o&&i){if(Tg(e))return Promise.reject({type:bn,reason:"Cannot broadcast voice in the room",errorCode:ht.SUBSESSION_BROADCAST_VOICE_RESTRICTED});{if(c)return Promise.resolve("");const d=Ss(e);return d?.audio===Qi.Computer&&d.muted===!1?(Zd.broadcastVoiceReq(!0),FOe.broadcastVoiceToBreakoutRoom(!0),n(Mee(!0)),Promise.resolve("")):Promise.reject({type:bn,reason:"Start audio and unmute to broadcast",errorCode:ht.SUBSESSION_BROADCAST_VOICE_MISMATCH_STATE})}}return Promise.reject({type:bn,reason:"Cannot broadcast voice due to the feature is not enable",errorCode:ht.SUBSESSION_BROADCAST_VOICE_DISABLE})}stopBroadcastVoice(){const e=this[rs](),n=this[Mc],{breakoutRoom:{isBroadcastVoice:o}}=e;return o?(Zd.broadcastVoiceReq(!1),FOe.broadcastVoiceToBreakoutRoom(!1),n(Mee(!1)),Promise.resolve("")):Promise.reject({type:bn,reason:"Cannot stop broadcast voice due to it is not started",errorCode:ht.SUBSESSION_BROADCAST_VOICE_MISMATCH_STATE})}assignUserToRoom(e,n){const o=this[rs](),{breakoutRoom:{rooms:i}}=o,c=Ame(o).find((p=>p.userId===e));if(!(c&&i.findIndex((p=>p.boId===n))>-1))return Promise.reject({type:ar,reason:"Invalid user",errorCode:ht.SUBSESSION_MISMATCH_USER});var d;if((d=Ss(o))!==null&&d!==void 0&&d.isHost)Zd.assignToBO(e,n);else{const p=Tk(o);p&&Zd.coHostAssignToBO(c.userGUID,n,p.userId)}return Cr(Wk,(p=>{const{controlStatus:v,roomList:S}=p,_=S.find((x=>x.boId===n));return v===ci.InProgress&&_&&_.attendeeGuidList.includes(c.userGUID)}))}moveUserToRoom(e,n){const o=this[rs](),{breakoutRoom:{rooms:i,mainSessionAttendeeList:c},participants:{attendeesList:d}}=o,p=(Tg(o)?c:d).find((S=>S.userId===e));if(!p)return Promise.reject({type:ar,reason:"user id not correct",errorCode:ht.SUBSESSION_MISMATCH_USER});{const S=ES(i,p.userGUID);if(!S)return Promise.reject({type:bn,reason:"user not in a room",errorCode:ht.SUBSESSION_MISMATCH_USER});if(S.boId===n)return Promise.reject({type:bn,reason:"user already in the target room",errorCode:ht.SUBSESSION_MISMATCH_STATE});{const _=i.find((x=>x.boId===n));if(!_)return Promise.reject({type:ar,reason:"invalid room id",errorCode:ht.SUBSESSION_MISMATCH_ID});var v;if((v=Ss(o))!==null&&v!==void 0&&v.isHost)Zd.switchBO(e,_.boId);else{const x=Tk(o);x&&Zd.coHostAssignToBO(p.userGUID,_.boId,x.userId)}}}return Cr(Wk,(S=>{const{controlStatus:_,roomList:x}=S,P=x.find((B=>B.boId===n));return _===ci.InProgress&&P&&P.attendeeGuidList.includes(p.userGUID)}))}moveBackToMainSession(e){const n=this[rs](),{breakoutRoom:{rooms:o,mainSessionAttendeeList:i},participants:{attendeesList:c}}=n,d=(Tg(n)?i:c).find((v=>v.userId===e));if(!d)return Promise.reject({type:ar,reason:"user id not correct",errorCode:ht.SUBSESSION_MISMATCH_USER});if(!ES(o,d.userGUID))return Promise.reject({type:bn,reason:"user not in a room",errorCode:ht.SUBSESSION_MISMATCH_USER});var p;if((p=Ss(n))!==null&&p!==void 0&&p.isHost)Zd.moveToMainSession(d.userGUID);else{const v=Tk(n);v&&Zd.coHostMoveToMainSession(d.userGUID,v.userId)}return Cr(Wk,(v=>{const{controlStatus:S,roomList:_}=v;return S===ci.InProgress&&_.some((x=>{const{attendeeGuidList:P}=x;return P.includes(d.userGUID)}))}))}closeRoom(){const e=this[rs](),{breakoutRoom:{controlStatus:n}}=e;if(n!==ci.InProgress)return Promise.reject({type:bn,reason:"room is not started",errorCode:ht.SUBSESSION_MISMATCH_STATE});var o;if((o=Ss(e))!==null&&o!==void 0&&o.isHost)Zd.stopBO(ci.Closing);else{const i=Tk(e);i&&Zd.coHostStopBO(ci.Closing,i.userId)}return Cr(Wk,(i=>i.controlStatus===ci.Closing))}loadPreAssignedRooms(){const e=this[rs](),{meeting:{meetingOptions:n},breakoutRoom:{controlStatus:o}}=e;return!n.isAllowBreakoutRoomPreAssign||o!==ci.NotStarted&&o!==ci.Closed?Promise.reject({type:bn,errorCode:ht.SUBSESSION_MISMATCH_STATE}):(Zd.preAssignBreakoutRoom(),Cr(EPe))}getUnassignedAttendeeList(){const e=this[rs](),n=Ss(e);return n!=null&&n.isHost||n!=null&&n.bCoHost?Ame(e).map((o=>A2(o))):[]}getRoomList(){const e=this[rs](),{breakoutRoom:{rooms:n,currentRoom:{status:o,boId:i},mainSessionAttendeeList:c,inRoomUserActivityStatusMap:d,options:{isRoomSelectionEnabled:p}},participants:{attendeesList:v}}=e,S=Ss(e);if(S&&(S.isHost||S.bCoHost||p)){const _=o===cr.InRoom,x=_?c:v;return n.map((P=>{const{attendeeGuidList:B,boId:H,name:U}=P,z=(B||[]).map((Z=>x.find((te=>te.userGUID===Z)))).filter((Z=>!(Z!=null&&Z.isHost))).filter(Boolean);return _&&S.isHost&&H===i&&z.unshift(S),{roomId:H,name:U,attendeeList:z.filter((Z=>!!Z)).map((Z=>{var te;const ce=(te=d[Z.userGUID])!==null&&te!==void 0?te:{};return{userId:Z.userId,displayName:Z.displayName,avatar:Z.avatar,isInRoom:Z.bid===H,userGuid:Z.userGUID,...ce}}))}}))}return e.breakoutRoom.rooms.map((_=>{const{boId:x,name:P}=_;return{roomId:x,name:P,attendeeList:[]}}))}getAttendeeStatus(){return this[rs]().breakoutRoom.currentRoom.status}getRoomStatus(){return this[rs]().breakoutRoom.controlStatus}getCurrentRoom(){const e=this[rs](),{breakoutRoom:{currentRoom:{status:n,name:o,boId:i}}}=e;return{attendeeStatus:n,name:o,roomId:i}}getRoomOptions(){const e=this[rs](),{breakoutRoom:{options:n}}=e,{whoStart:o,whoStop:i,...c}=n;return{...c}}isBreakoutRoomEnabled(){const e=this[rs](),{breakoutRoom:{isEnableBreakoutRoom:n}}=e;return!!n}},qn(Mi.prototype,"createRooms",[Xn,yu,Oy],Object.getOwnPropertyDescriptor(Mi.prototype,"createRooms"),Mi.prototype),qn(Mi.prototype,"recreateRooms",[Xn,yu,Oy],Object.getOwnPropertyDescriptor(Mi.prototype,"recreateRooms"),Mi.prototype),qn(Mi.prototype,"openRooms",[Xn,yu,Oy],Object.getOwnPropertyDescriptor(Mi.prototype,"openRooms"),Mi.prototype),qn(Mi.prototype,"joinRoom",[Xn,Oy],Object.getOwnPropertyDescriptor(Mi.prototype,"joinRoom"),Mi.prototype),qn(Mi.prototype,"leaveRoom",[Xn,Oy],Object.getOwnPropertyDescriptor(Mi.prototype,"leaveRoom"),Mi.prototype),qn(Mi.prototype,"askForHelp",[Xn,Oy],Object.getOwnPropertyDescriptor(Mi.prototype,"askForHelp"),Mi.prototype),qn(Mi.prototype,"postponeHelping",[Td,Xn,Oy],Object.getOwnPropertyDescriptor(Mi.prototype,"postponeHelping"),Mi.prototype),qn(Mi.prototype,"broadcast",[yu,Xn],Object.getOwnPropertyDescriptor(Mi.prototype,"broadcast"),Mi.prototype),qn(Mi.prototype,"startBroadcastVoice",[Td,Xn,Oy],Object.getOwnPropertyDescriptor(Mi.prototype,"startBroadcastVoice"),Mi.prototype),qn(Mi.prototype,"stopBroadcastVoice",[Td,Xn,Oy],Object.getOwnPropertyDescriptor(Mi.prototype,"stopBroadcastVoice"),Mi.prototype),qn(Mi.prototype,"assignUserToRoom",[yu,Xn,Oy],Object.getOwnPropertyDescriptor(Mi.prototype,"assignUserToRoom"),Mi.prototype),qn(Mi.prototype,"moveUserToRoom",[yu,Xn,Oy],Object.getOwnPropertyDescriptor(Mi.prototype,"moveUserToRoom"),Mi.prototype),qn(Mi.prototype,"moveBackToMainSession",[yu,Xn,Oy],Object.getOwnPropertyDescriptor(Mi.prototype,"moveBackToMainSession"),Mi.prototype),qn(Mi.prototype,"closeRoom",[yu,Xn,Oy],Object.getOwnPropertyDescriptor(Mi.prototype,"closeRoom"),Mi.prototype),qn(Mi.prototype,"loadPreAssignedRooms",[Td,Xn,Oy],Object.getOwnPropertyDescriptor(Mi.prototype,"loadPreAssignedRooms"),Mi.prototype),Mi);const mYe={breakoutRoomSharingEpics0:(e,n)=>vO(e,Ul).pipe(xn((o=>{var i;const{payload:{body:c}}=o;return c==null||(i=c.update)===null||i===void 0?void 0:i.some((d=>d.bShareToBORooms!==void 0||d.bShareOn!==void 0))})),us(n),Do((([o,i])=>{const{payload:{body:{update:c}}}=o,{breakoutRoom:{mainSessionAttendeeList:d}}=i,p=c.filter((_=>_.bShareOn&&_.bShareToBORooms)),v=c.filter((_=>!_.bShareOn||!_.bShareToBORooms)),S=d.filter((_=>_.sharerOn&&_.bShareToBORooms));return p.length>0&&p.forEach((_=>{S.findIndex((x=>x.userId===_.id))===-1&&dt(e1e,{..._,isFromMainSession:!0})})),v.length>0&&v.filter((_=>S.findIndex((x=>x.userId===_.id))>-1)).forEach((_=>{dt(t1e,{..._,isFromMainSession:!0})})),c.map((_=>{if(_.bShareOn&&_.bShareToBORooms){if(d.filter((x=>x.sharerOn&&x.bShareToBORooms&&x.userId!==_.id)).length===0)return{activeNodeID:_.id,bStatus:1,ssrc:_.shareSsrc};{const x=d.find((P=>P.userId===_.id));if(x!=null&&x.isHost)return{activeNodeID:_.id,bStatus:1,ssrc:_.shareSsrc}}}else if(!_.bShareOn||!_.bShareToBORooms){const x=d.filter((P=>P.bShareToBORooms&&P.sharerOn));if(x.length===1&&x[0].userId===_.id)return{activeNodeID:_.id,bStatus:0,ssrc:0};{const P=x.filter((H=>H.userId!==_.id)),B=P.find((H=>H.isHost));if(B)return{activeNodeID:B.userId,bStatus:1,ssrc:B.shareSsrc};{const H=P[0];if(H)return{activeNodeID:H.userId,bStatus:1,ssrc:H.shareSsrc}}}}})).filter(Boolean)})),pn((o=>{const{share:{status:i},meeting:{userId:c}}=n.value,d=[];return o.map((p=>{const{activeNodeID:v,bStatus:S,ssrc:_}=p,x=S===1;d.push(W3e(x)),x&&i!==Yr.End&&(hYe.stopSharing(c),fYe.stopDesktopSharing(),d.push(Sg(Yr.End)),dt(GMe));let P={activeNodeID:v,bStatus:S,ssrc:_,fromMainSession:!0};if(!x){const{participants:{attendeesList:B}}=n.value,H=B.filter((U=>U.sharerOn));if(H.length>0){const U=H[0];P={activeNodeID:U.userId,bStatus:1,ssrc:U.shareSsrc||0}}}d.push(K2({evt:uye,body:P}))})),lo(d)}))),breakoutRoomSharingEpics1:(e,n)=>vO(e,Rte).pipe(mi((o=>{const{payload:{body:{userID:i,confID:c}}}=o;return xd(...["sharing","audio"].map((d=>(function(p,v,S,_,x){return vO(v,p==="audio"?dye:S1e).pipe(Jr(1),Yo((P=>{const{payload:{body:{encryptKey:B,additionalType:H}}}=P,{media:{sharingDecodeStatus:U,audioDecodeStatus:z},meeting:{svcUrl:Z,meetingNumber:te,conId:ce,zoomId:se,meetingId:Se}}=S.value;$f(p,"success",p==="audio"?z:U).subscribe((([,Ce])=>{if(Ce){const Te=`wss://${Z}/wc/media/${te}?type=${p==="audio"?"ma":"ms"}&cid=${ce}&mode=1`;Vme.createMainSessionChannel(p,Te),Vme.updateMediaParams({iVType:p==="audio"?IS.AUDIO_DECODE:IS.SHARING_DECODE,isFromMainSession:!0,updateParams:{userId:_,sn:jb(se),confId:x,encryptType:H,encryptKey:jb(B),meetingId:Se,meetingNumber:te}});const{breakoutRoom:{mainSessionAttendeeList:V}}=S.value;if(V?.length>0){const ke=V.map((et=>({userid:et.userId,sn:et.zoomID&&jb(et.zoomID)})));Vme.updateUserMediaSN({added:ke,isFromMainSession:!0,iVType:p==="audio"?IS.AUDIO_DECODE:IS.SHARING_DECODE})}}}))})),pn((()=>Po)))})(d,e,n,i,c))))})))},gYe={epics0:(e,n)=>e.pipe(Qo(`${AE}`),mi((o=>{const{breakoutRoom:i,meeting:{meetingOptions:c}}=n.value,{payload:{hugeBO:d,elapsed:p}}=o,v=[];return i&&(c&&(v.push(M4e(d&&c.isBO100Enabled===!0)),v.push(P4e({isEnableBreakoutRoom:c.isEnableBreakoutRoom,isEnableBOBroadcast:c.isEnableBOBroadcast,isEnableBOViewActivityStatus:c.isEnableBOViewActivityStatus,isEnableBOBroadcastVoice:c.isEnableBOBroadcastVoice}))),i.currentRoom.boConfId&&v.push(nye()),p!==void 0&&v.push(Fye(p))),lo(v)}))),epics1:e=>Uo(e,4174).pipe(Yo((n=>{dt(yPe,n.payload.body.bid)})),Da(Po)),epics2:(e,n)=>RS(e,7950).pipe(us(n),mi((([o,i])=>{const{payload:{body:{proto:c}}}=o,{breakoutRoom:{isHugeBO:d,currentRoom:{status:p,boId:v}},meeting:{userGUID:S}}=i;let _=c;d&&(_=(function(B){if(tbe)return tbe.decode(B);var H=(function(z){for(var Z="",te=0;;){var ce=z[te++],se=(ce>127)+(ce>223)+(ce>239);if(te+se>z.length)return[Z,Vee(z,te-1)];se?se==3?(ce=((15&ce)<<18|(63&z[te++])<<12|(63&z[te++])<<6|63&z[te++])-65536,Z+=String.fromCharCode(55296|ce>>10,56320|1023&ce)):Z+=1&se?String.fromCharCode((31&ce)<<6|63&z[te++]):String.fromCharCode((15&ce)<<12|(63&z[te++])<<6|63&z[te++]):Z+=String.fromCharCode(ce)}})(B),U=H[0];return H[1].length&&uE(8),U})((function(B){return(function(H,U,z){var Z=H.length;if(!Z||z&&z.f&&!z.l)return U||new Lp(0);var te=!U||z,ce=!z||z.i;z||(z={}),U||(U=new Lp(3*Z));var se=function(Ft){var Ve=U.length;if(Ft>Ve){var Ot=new Lp(Math.max(2*Ve,Ft));Ot.set(U),U=Ot}},Se=z.f||0,Ce=z.p||0,Te=z.b||0,V=z.l,ke=z.d,et=z.m,$e=z.n,Re=8*Z;do{if(!V){Se=gS(H,Ce,1);var _e=gS(H,Ce+1,3);if(Ce+=3,!_e){var ut=H[(In=J1e(Ce)+4)-4]|H[In-3]<<8,ct=In+ut;if(ct>Z){ce&&uE(0);break}te&&se(Te+ut),U.set(H.subarray(In,ct),Te),z.b=Te+=ut,z.p=Ce=8*ct,z.f=Se;continue}if(_e==1)V=oYe,ke=rYe,et=9,$e=5;else if(_e==2){var St=gS(H,Ce,31)+257,ee=gS(H,Ce+10,15)+4,ln=St+gS(H,Ce+5,31)+1;Ce+=14;for(var it=new Lp(ln),Ht=new Lp(19),Ut=0;Ut<ee;++Ut)Ht[Xye[Ut]]=gS(H,Ce+3*Ut,7);Ce+=3*ee;var Xe=Nme(Ht),tn=(1<<Xe)-1,eo=wE(Ht,Xe,1);for(Ut=0;Ut<ln;){var In,mn=eo[gS(H,Ce,tn)];if(Ce+=15&mn,(In=mn>>>4)<16)it[Ut++]=In;else{var Dt=0,un=0;for(In==16?(un=3+gS(H,Ce,3),Ce+=2,Dt=it[Ut-1]):In==17?(un=3+gS(H,Ce,7),Ce+=3):In==18&&(un=11+gS(H,Ce,127),Ce+=7);un--;)it[Ut++]=Dt}}var ye=it.subarray(0,St),ms=it.subarray(St);et=Nme(ye),$e=Nme(ms),V=wE(ye,et,1),ke=wE(ms,$e,1)}else uE(1);if(Ce>Re){ce&&uE(0);break}}te&&se(Te+131072);for(var Vo=(1<<et)-1,Eo=(1<<$e)-1,Oo=Ce;;Oo=Ce){var Zn=(Dt=V[Lme(H,Ce)&Vo])>>>4;if((Ce+=15&Dt)>Re){ce&&uE(0);break}if(Dt||uE(2),Zn<256)U[Te++]=Zn;else{if(Zn==256){Oo=Ce,V=null;break}var xt=Zn-254;if(Zn>264){var cn=Lte[Ut=Zn-257];xt=gS(H,Ce,(1<<cn)-1)+PBe[Ut],Ce+=cn}var vn=ke[Lme(H,Ce)&Eo],qe=vn>>>4;if(vn||uE(3),Ce+=15&vn,ms=tYe[qe],qe>3&&(cn=Bte[qe],ms+=Lme(H,Ce)&(1<<cn)-1,Ce+=cn),Ce>Re){ce&&uE(0);break}te&&se(Te+131072);for(var pt=Te+xt;Te<pt;Te+=4)U[Te]=U[Te-ms],U[Te+1]=U[Te+1-ms],U[Te+2]=U[Te+2-ms],U[Te+3]=U[Te+3-ms];Te=pt}}z.l=V,z.p=Oo,z.b=Te,z.f=Se,V&&(Se=1,z.m=et,z.d=ke,z.n=$e)}while(!Se);return Te==U.length?U:Vee(U,0,Te)})(B.subarray((function(H){H[0]==31&&H[1]==139&&H[2]==8||uE(6,"invalid gzip data");var U=H[3],z=10;4&U&&(z+=H[10]|2+(H[11]<<8));for(var Z=(U>>3&1)+(U>>4&1);Z>0;Z-=!H[z++]);return z+(2&U)})(B),-8),new Lp((function(H){var U=H.length;return(H[U-4]|H[U-3]<<8|H[U-2]<<16|H[U-1]<<24)>>>0})(B)))})(jb(c))));const x=[];let P;try{const B=JSON.parse(s1(_)),{ControlStatus:H,NameIndex:U,IsAutoJoinEnabled:z,IsBackToMainSessionEnabled:Z,IsParticipantsChooseRoomEnabled:te,IsTimerEnabled:ce,TimerDuration:se,IsTimerAutoEndEnabled:Se,WaitSeconds:Ce,StartTimeOnMMR:Te,ItemList:V,WhoStart:ke,WhoStop:et,IsAutoMovetoMainSessionEnabled:$e}=B,Re={isAutoJoinRoom:z,isBackToMainSessionEnabled:Z,isTimerEnabled:ce,timerDuration:se,isTimerAutoEnabled:Se,waitSeconds:Ce,isAutoMoveBackToMainSession:$e,isRoomSelectionEnabled:te,whoStart:ke,whoStop:et};x.push(x4e(Re)),x.push(A4e(Te)),x.push(kee(U)),x.push(O4e(H));const _e=V&&V.map((ut=>({boId:ut.BID,name:ut.MeetingTitle,boStatus:ut.Status,hostId:ut.HostID,attendeeGuidList:ut.ParticipantList||[]})))||[];switch(x.push(A6(_e)),dt(Wk,{controlStatus:H,roomList:_e}),H){case ci.InProgress:if(p!==cr.InRoom&&p!==cr.Joining){const ut=(function(ct,St){const{meeting:{isHost:ee,userGUID:ln},breakoutRoom:{currentRoom:{status:it,boId:Ht}}}=St.value,Ut=ni.get(Q1e),Xe=[];if(Ut)try{const{status:tn,boId:eo}=JSON.parse(Ut);if(tn===cr.Invited)if(ee)QL();else{const In=ES(ct,ln);In&&(Xe.push(IX(In)),it!==cr.Initial&&Ht===In.boId||dt(dJ,{roomId:In.boId,name:In.name}))}else if(tn===cr.InRoom){let In;if(In=ee?ct.find((mn=>mn.boId===eo)):ES(ct,ln),In){Xe.push(IX(In));const mn=In.boId;B2(St).subscribe((()=>{ta.createAgent().joinBO(mn)}))}QL()}}catch(tn){console.error(tn)}return Xe})(_e,n);if(ut.length===0){const ct=ES(_e,S);ct&&x.push(IX(ct))}else x.push(...ut)}else if(p===cr.InRoom&&o.type===`${lT}`){const ut=ES(_e,S);ut&&Ume(n).subscribe((ct=>{v===ut.boId||ct||vS.joinBO(ut.boId)}))}Re.isTimerEnabled&&Re.timerDuration>0&&(P=(function(ut,ct,St){return Ume(ut).pipe(us(ut),mi((([ee,ln])=>{const{breakoutRoom:{currentRoom:{status:it},meetingElapsedTime:Ht},meeting:{joinMeetingTimeStamp:Ut}}=ln,Xe=Ut-1e3*Ht+1e3*St+1e3*ct;if(performance.now()<Xe){if(ee)return W6(1e3).pipe(Do((()=>Math.floor((Xe-performance.now())/1e3))),us(ut),t2((([tn,eo])=>{const{breakoutRoom:{controlStatus:In,currentRoom:{status:mn}},socket:{zoomSocketStatus:Dt},meeting:{isHost:un}}=eo;return tn>=0&&un&&In===ci.InProgress&&(mn===cr.InRoom||mn===cr.MainSession||mn===cr.Initial)&&Dt===Fa.Connected})),Yo((([tn])=>{dt(pve,{countdown:tn})})),xn((([tn])=>tn===0)),Yo((([,tn])=>{const{breakoutRoom:{options:eo}}=tn;eo.isTimerAutoEnabled?ta.createAgent().stopBO(ci.Closing):dt(CPe)})),pn((()=>Po)));if(it===cr.InRoom)return W6(1e3).pipe(Do((()=>Math.floor((Xe-performance.now())/1e3))),us(ut),t2((([tn,eo])=>{const{breakoutRoom:{currentRoom:{status:In}},meeting:{isHost:mn},socket:{zoomSocketStatus:Dt}}=eo;return tn>=0&&In===cr.InRoom&&!mn&&Dt===Fa.Connected})),Yo((([tn])=>{dt(pve,{countdown:tn})})),pn((()=>Po)))}return Po})))})(n,Re.timerDuration,Te));break;case ci.Closing:P=Ume(n).pipe(xn((ut=>ut)),pn((()=>{const ut=[],{breakoutRoom:{closingRoomTime:ct,currentRoom:{status:St}},participants:{attendeesList:ee}}=n.value;let ln=Re.waitSeconds;if(ct!==0&&Re.waitSeconds>0){const it=Math.floor((performance.now()-ct)/1e3);ln=Math.max(Re.waitSeconds-it,0)}if(ln===0)return vS.stopBO(ci.Closed),Po;{if(St!==cr.InRoom&&ee.length>1&&ee.every((Ht=>!Ht.bid)))return vS.stopBO(ci.Closed),Po;ct||ut.push($ye(performance.now()));const it=performance.now()+1e3*ln;return xd(lo(ut),wu(0,1e3).pipe(Do((()=>Math.floor((it-performance.now())/1e3))),us(n),t2((([,Ht])=>{const{breakoutRoom:{controlStatus:Ut},meeting:{isHost:Xe},socket:{zoomSocketStatus:tn}}=Ht;return Ut===ci.Closing&&tn===Fa.Connected&&Xe})),Yo((([Ht])=>{Ht>=0&&dt(fve,{countdown:Ht})})),xn((([Ht])=>Ht<=0)),Yo((()=>{vS.stopBO(ci.Closed)})),pn((()=>Po))))}})));break;case ci.Closed:x.push($ye(0)),p===cr.Leaving?x.push(T2(cr.MainSession)):p===cr.Invited?x.push(T2(cr.Initial)):p!==cr.InRoom&&p!==cr.Joining||x.push(...nbe()),QL()}}catch(B){console.error(B)}return P?xd(lo(x),P):lo(x)}))),epics3:(e,n)=>RS(e,4194).pipe(us(n),mi((([o,i])=>{const{payload:{body:{bid:c,botoken:d,confID:p}}}=o,{meeting:{isHost:v},breakoutRoom:{rooms:S,currentRoom:{status:_}}}=i,x=[],P=S.find((B=>B.boId===c));return P&&(x.push(IX(P,v)),x.push(Vye(p)),x.push(Hye(d)),dt(hJ,{boId:c}),v||_!==cr.InRoom?x.push(...Hme(P.name,_)):x.push(...LOe(P.name))),lo(x)}))),epics4:(e,n)=>e.pipe(Qo(`${K2}`,`${lT}`),xn((o=>o.payload.evt===7949)),us(n),pn((([o,i])=>{var c;const{payload:{body:d}}=o,{meeting:{userGUID:p},breakoutRoom:{rooms:v,options:{isAutoJoinRoom:S,isAutoMoveBackToMainSession:_},currentRoom:{status:x},mainSessionAttendeeList:P},participants:{attendeesList:B}}=i,{commandType:H}=d,U=[];let z;const Z=(c=($me(x)?B:P).find((Ce=>Ce.userGUID===p)))===null||c===void 0?void 0:c.userId;switch(H){case Ck.Join:{const{targetBID:Ce,botoken:Te,confID:V,joinReason:ke,requestSourceID:et}=d,$e=ES(v,p);if($e&&$e.boId===Ce){U.push(Vye(V)),U.push(Hye(Te));const Re=Number(ke)===RWe.Active&&Z===Number(et);S||Re?(Re&&dt(hJ,{boId:Ce}),U.push(...Hme($e.name))):(ni.set(rl.WebclientBreakoutRoomCommand,H,Ca.SessionStorage),dt(dJ,{roomId:Ce,name:$e.name,...BOe(et,i)}))}break}case Ck.Switch:{const{targetBID:Ce,botoken:Te,confID:V,joinMethod:ke,requestSourceID:et}=d,$e=ES(v,p);$e&&$e.boId===Ce&&(U.push(Dee({boId:$e.boId,boToken:Te,boConfId:V,name:$e.name})),Z===Number(et)&&Number(ke)===xwe.AskToLeave&&dt(hJ,{boId:Ce}),x===cr.Invited?(ni.set(rl.WebclientBreakoutRoomCommand,H,Ca.SessionStorage),S||Z===Number(et)?U.push(...Hme($e.name)):dt(dJ,{roomId:Ce,name:$e.name,...BOe(et,i)})):U.push(...LOe($e.name)));break}case Ck.Leave:{const{waitTime:Ce,joinMethod:Te}=d;if($me(x))U.push(Dee({boId:"",boToken:"",boConfId:"",status:cr.Initial}));else{const V=Number(Ce);if(V>0){const ke=performance.now()+1e3*V;z=wu(0,1e3).pipe(Do((()=>Math.floor((ke-performance.now())/1e3))),us(n),t2((([et,$e])=>{const{breakoutRoom:{controlStatus:Re,currentRoom:{status:_e}},meeting:{isHost:ut},socket:{zoomSocketStatus:ct}}=$e;return et>=0&&ct===Fa.Connected&&Re===ci.Closing&&_e===cr.InRoom&&!ut})),Yo((([et])=>{et>=0&&dt(fve,{countdown:et})})),Da(Po))}else if(Number(Te)!==xwe.AskToLeave||_)U.push(...nbe());else{var te,ce,se;const{requestSourceID:ke}=d,et=Number(ke),{participants:{attendeesList:$e}}=i;let Re=$e.find((_e=>_e.userId===et));if(!Re){const{breakoutRoom:{mainSessionAttendeeList:_e}}=i;Re=_e.find((ut=>ut.userId===et))}dt(_Pe,{inviterId:(te=Re)===null||te===void 0?void 0:te.userId,inviterGuid:(ce=Re)===null||ce===void 0?void 0:ce.userGUID,inviterName:(se=Re)===null||se===void 0?void 0:se.displayName})}QL()}break}case Ck.Broadcast:{const{textContent:Ce,requestID:Te}=d;if(Ce){const{meeting:{encType:V},participants:{attendeesList:ke},breakoutRoom:{mainSessionAttendeeList:et}}=i;let $e="";if(V===Lz.AES_GCM){const Re=($me(x)?ke:et).find((_e=>_e.userId===Number(Te)));Re&&($e=Re.zoomID)}z=lo(qf.beginDecrypt({decryptedText:Ce,type:Gf.BO_BROADCAST,zoomId:$e}).then((({message:Re})=>(dt(bPe,{message:Re}),R4e(Re)))))}break}case Ck.HelpReq:{const{requestID:Ce}=d,{breakoutRoom:{mainSessionAttendeeList:Te,rooms:V,currentRoom:{boId:ke},hostReplyToQuestionerType:et,hostReplyToRequestId:$e},participants:{attendeesList:Re}}=i;if(Ce){if(x===cr.InRoom){const _e=Te.find((ut=>ut.userId===Ce));if(_e&&_e.bid===ke){vS.askForHelpResultBO(Ce,mO.AlreadyInRoom);break}}if(et===mO.Received&&$e!==Ce)vS.askForHelpResultBO(Ce,mO.Busy);else{vS.askForHelpResultBO(Ce,mO.Received),U.push(G1e(mO.Received),k4e(Ce));const _e=(x===cr.InRoom?Te:Re).find((ut=>ut.userId===Ce));if(_e){const ut=_e.bid,ct=V.find((St=>St.boId===ut));ct&&dt(SPe,{userId:Ce,userGuid:_e.userGUID,displayName:_e.displayName,roomName:ct.name,roomId:ct.boId})}}}break}case Ck.HelpRes:{const{helpResult:Ce}=d;dt(o1e,{result:Number(Ce)});break}case Ck.BOActivity:{var Se;const{activityRoster:Ce,activityTalking:Te,requestID:V}=d,ke=(Se=(Tg(i)?i.breakoutRoom.mainSessionAttendeeList:i.participants.attendeesList).find((et=>et.userId===V)))===null||Se===void 0?void 0:Se.userGUID;if(ke){const{breakoutRoom:{rooms:et}}=i,$e=ES(et,ke),Re=(function(_e,ut){const ct={isTalking:ut===1};return dYe.forEach((St=>{const{mask:ee,key:ln,value:it}=St;(ee&_e)===ee&&Object.assign(ct,{[`${ln}`]:it})})),ct})(Number(Ce),Number(Te));U.push(N4e({userGuid:ke,status:Re})),dt(TPe,{...Re,userId:V,userGuid:ke,roomId:$e?.boId,roomName:$e?.name})}break}}return z?xd(lo(U),z):lo(U)}))),epics5:(e,n)=>vO(e,Rte).pipe(us(n),mi((([o,i])=>{const{payload:{body:{res:c,elapsed:d}}}=o,p=[];return c===Ry.MeetingHasClosed||c===Ry.UserHasBeenRemoved?(QL(),p.push(...u3(i,!1))):c===Ry.Success&&(p.push(Fye(d)),p.push(T2(cr.InRoom)),ni.set(rl.WebclientBreakoutRoomAttendeeStatus,JSON.stringify({status:cr.InRoom,boId:i.breakoutRoom.currentRoom.boId}),Ca.SessionStorage)),lo(p)}))),epics6:e=>vO(e,Ul).pipe(Do((n=>cT(n.payload.body))),pn((n=>{const o=[D4e(n)];return dt(wPe),lo(o)}))),epics7:(e,n)=>vO(e,Ul).pipe(Do((o=>cT(o.payload.body))),Do((o=>{const i=[];return["add","update"].forEach((c=>o[c]&&i.push(...o[c]))),i.filter((c=>[...zme,"bAudioUnencrytped"].some((d=>c[d]!==void 0))))})),xn((o=>o.length>0)),Ju(yT),pn((o=>{const i=[],{participants:{attendeesList:c},breakoutRoom:{mainSessionAttendeeList:d,isUserRoleUpdated:p},meeting:{userId:v}}=n.value,S=o.map((_=>{const x=d.find((B=>B.userId===_.userId)),P=c.find((B=>B.userGUID===x?.userGUID));if(P){if(_.bCCEditor!==void 0&&i.push(_4e({editorId:_.bCCEditor?P.userId:"",isEditor:!!_.bCCEditor,editorZoomId:_.bCCEditor?P.zoomID:""})),delete _.bRaiseHand,delete _.bCapsPinMultiVideo,delete _.bInFailover,delete _.uniqueIndex,!p&&P.userId===v){const B={};K6(_.userRole)?Object.assign(B,_):(d.some((H=>H.isHost))||_.bAudioUnencrytped!==void 0)&&Object.assign(B,x),B.userId!==void 0&&(i.push(zye(!0)),dt(mve,_))}return{..._,userId:P.userId}}})).filter((_=>!!_&&zme.some((x=>_[x]!==void 0))));return S.length>0&&(dt(NS,S),i.push(c4({update:S}))),lo(i)}))),epics8:e=>vO(e,Wb).pipe(xn((n=>{const{payload:{body:o}}=n;return o?.bAllowAttendeeRename!==void 0||o?.chatPriviledge!==void 0||o?.lockShare!==void 0})),Do((n=>{const{payload:{body:o}}=n;return o.bAllowAttendeeRename!==void 0?lee(n.payload.body):o.chatPriviledge!==void 0?U1e(o.chatPriviledge):o.lockShare!==void 0?B1e(o.lockShare):void 0}))),epics9:(e,n)=>Uo(e,Ul).pipe(us(n),xn((([,o])=>{const{meeting:{isHost:i},breakoutRoom:{controlStatus:c,currentRoom:{status:d}}}=o;return i&&c===ci.Closing&&d!==cr.InRoom})),Ju(yT),Yo((()=>{const{participants:{attendeesList:o}}=n.value;o.every((i=>!i.bid))&&o.length>1&&vS.stopBO(ci.Closed)})),Da(Po)),epics10:(e,n)=>Uo(e,4214).pipe(us(n),mi((([o,i])=>{const{payload:{body:{proto:c}}}=o,{breakoutRoom:{rooms:d,isHugeBO:p}}=i;try{const v=JSON.parse(s1(c)),S=[];if(v&&v.PreAssignBoList&&Array.isArray(v.PreAssignBoList)){const _=v.PreAssignBoList.map((P=>({name:P.BoName,emails:P.email})));S.push(Uye(_));const x=p?100:50;if(d.length+_.length<x){const P=_.map((B=>B.name));return vS.batchCreateBOToken(P),xd(lo(S),obe(P.length).pipe(us(n),pn((([{boIdList:B},H])=>{const U=Va(H),z=_.map(((te,ce)=>{const{emails:se,name:Se}=te;let Ce=[];return se&&Array.isArray(se)&&(Ce=se.map((Te=>U.filter((V=>V.userEmail===Te)).map((V=>V.userGUID)))).reduce(((Te,V)=>[...Te,...V]),[])),{boId:B[ce],name:Se,attendeeGuidList:Ce}})),Z=z.map(((te,ce)=>({roomId:te.boId,name:te.name,emails:_[ce].emails})));return dt(EPe,{rooms:Z}),lo([A6(z),Uye(Z)])}))))}return lo(S)}}catch{console.error("pre assign proto is not valid")}return Po}))),epics11:(e,n)=>RS(e,Ul).pipe(us(n),xn((([o,i])=>{const{meeting:{isHost:c,meetingStatus:d,meetingOptions:p},breakoutRoom:{controlStatus:v}}=i,{payload:{body:S}}=o;return d===Th.Joined&&p?.isAllowBreakoutRoomPreAssign&&c&&(v===ci.NotStarted||v===ci.InProgress)&&Array.isArray(S.add)})),pn((([o,i])=>{const{breakoutRoom:{controlStatus:c,rooms:d,preAssignedRooms:p,currentRoom:{status:v}},participants:{failoverAttendeesList:S}}=i,_=p?.filter((B=>d.findIndex((H=>H.boId===B.roomId))>-1)),{payload:{body:{add:x}}}=o,P=[];return _.length>0&&x.filter((B=>B.userEmail&&B.userGUID)).filter((B=>S.findIndex((H=>H.zoomID===B.zoomID))===-1)).forEach((B=>{if(!ES(d,B.userGUID))for(let H=0;H<_?.length;H++){const U=_[H];if(U.emails.includes(B.userEmail)){if(c===ci.NotStarted){const z=bt(d,(Z=>{const te=Z.find((ce=>ce.boId===U.roomId));te?.attendeeGuidList.push(B.userGUID)}));P.push(A6(z))}else c===ci.InProgress&&(v===cr.InRoom&&o.type===`${lT}`?vS.assignToBO(B.id,String(U.roomId)):v!==cr.Initial&&v!==cr.MainSession||vS.assignToBO(B.id,String(U.roomId)));break}}})),lo(P)}))),epics12:(e,n)=>Uo(e,Ul).pipe(xn((o=>{const{breakoutRoom:{mainSessionAttendeeList:i}}=n.value,{payload:{body:c}}=o;return i.length>0&&(c.add!==void 0||c.update!==void 0)})),Ju(Dv),Do((o=>cT(o.payload.body))),pn((o=>{const{breakoutRoom:{mainSessionAttendeeList:i,isUserRoleUpdated:c},participants:{attendeesList:d}}=n.value;let p=[];const v=[];["add","update"].forEach((x=>o[x]&&p.push(...o[x])));const S=[...zme,"isHost"];p=p.filter((x=>S.some((P=>x[P]!==void 0))));const _=p.filter((x=>x.zoomID!==void 0));return p=p.map((x=>{var P,B,H,U;const z=(P=(B=x.zoomID)!==null&&B!==void 0?B:(H=_.find((Z=>Z.userId===x.userId)))===null||H===void 0?void 0:H.zoomID)!==null&&P!==void 0?P:(U=d.find((Z=>Z.userId===x.userId)))===null||U===void 0?void 0:U.zoomID;if(z){const Z=i.find((te=>te.zoomID===z));if(Z)return c||(v.push(zye(!0)),dt(mve,Z)),Object.keys(x).filter((te=>Object.prototype.hasOwnProperty.call(x,te))).filter((te=>S.includes(te))).reduce(((te,ce)=>{const se=Z[ce];if(se!==void 0||ce==="bCoHost"){const Se=typeof x[ce]=="boolean"?!!se:se;Object.assign(te,{[ce]:Se})}return te}),{userId:x.userId})}})).filter(Boolean),p.length>0&&(dt(NS,p),v.push(c4({update:p}))),lo(v)}))),epics13:e=>vO(e,7999).pipe(Yo((n=>{const{payload:{body:{bStatus:o}}}=n;dt(APe,{status:!!o})})),pn((()=>Po))),epics14:(e,n)=>Uo(e,7940).pipe(pn((o=>{const{payload:{body:{bHost:i}}}=o,{breakoutRoom:{isBroadcastVoice:c}}=n.value,d=[];return!i&&c&&(zs.getInstance().broadcastVoiceToBreakoutRoom(!1),d.push(Mee(!1))),lo(d)})))},vYe=xg(gYe,mYe);let RX=(function(e){return e[e.Ready=0]="Ready",e[e.UserSub=1]="UserSub",e[e.ManualCaptionerEnabled=2]="ManualCaptionerEnabled",e[e.ManualCaptionerDisabled=3]="ManualCaptionerDisabled",e})({}),Q0=(function(e){return e[e.Unspecified=-1]="Unspecified",e[e.English=0]="English",e[e["Chinese (Simplified)"]=1]="Chinese (Simplified)",e[e.Japanese=2]="Japanese",e[e.German=3]="German",e[e.French=4]="French",e[e.Russian=5]="Russian",e[e.Portuguese=6]="Portuguese",e[e.Spanish=7]="Spanish",e[e.Korean=8]="Korean",e[e.Italian=9]="Italian",e[e.Reserved=10]="Reserved",e[e.Vietnamese=11]="Vietnamese",e[e.Dutch=12]="Dutch",e[e.Ukrainian=13]="Ukrainian",e[e.Arabic=14]="Arabic",e[e["Chinese (Traditional)"]=16]="Chinese (Traditional)",e[e.Czech=17]="Czech",e[e.Estonian=18]="Estonian",e[e.Finnish=19]="Finnish",e[e.Hebrew=21]="Hebrew",e[e.Hindi=22]="Hindi",e[e.Hungarian=23]="Hungarian",e[e.Indonesian=24]="Indonesian",e[e.Malay=25]="Malay",e[e.Persian=26]="Persian",e[e.Polish=27]="Polish",e[e.Romanian=28]="Romanian",e[e.Swedish=29]="Swedish",e[e.Tamil=30]="Tamil",e[e.Telugu=31]="Telugu",e[e.Tagalog=32]="Tagalog",e[e.Turkish=33]="Turkish",e[e["French (Canada)"]=34]="French (Canada)",e[e.Danish=35]="Danish",e[e.Thai=37]="Thai",e[e.Cantonese=44]="Cantonese",e[e.NoTranslation=400]="NoTranslation",e[e.DefaultManualInput=401]="DefaultManualInput",e[e.Customized=500]="Customized",e})({}),qx=(function(e){return e[e.Unknown=0]="Unknown",e[e.Close=1]="Close",e[e.New=2]="New",e[e.Insert=3]="Insert",e[e.Delete=4]="Delete",e[e.Reset=5]="Reset",e[e.Audiodesc=6]="Audiodesc",e[e.Speaker=7]="Speaker",e[e.Error=8]="Error",e})({}),VOe=(function(e){return e[e.TranslateNotSupport=1]="TranslateNotSupport",e})({}),eO=(function(e){return e[e.Unspecified=0]="Unspecified",e[e.InMeetingManual=1]="InMeetingManual",e[e.ExternalCaptioner=2]="ExternalCaptioner",e[e.ASR=4]="ASR",e})({});const x6={en:0,zh:1,ja:2,de:3,fr:4,ru:5,pt:6,es:7,ko:8,it:9,en1:10,vi:11,nl:12,uk:13,ar:14,"zh-hant":16,cs:17,et:18,fi:19,he:21,hi:22,hu:23,id:24,ms:25,fa:26,pl:27,ro:28,sv:29,ta:30,te:31,tl:32,tr:33,"fr-ca":34,da:35,th:37,"zh-yue":44,ca:48},Hee=Object.keys(Q0).filter((e=>/\d+/.test(Q0[e]))).reduce(((e,n)=>({...e,[`${Q0[n]}`]:n})),{}),HOe=Object.keys(x6).reduce(((e,n)=>(Object.assign(e,{[`${x6[`${n}`]}`]:n}),e)),{}),NJ="zoom-sdk-live-transcription",Y_="live-transcription";(function(e){return e[e.English=0]="English",e[e.Chinese=1]="Chinese",e[e.Japanese=2]="Japanese",e[e.German=3]="German",e[e.French=4]="French",e[e.Russian=5]="Russian",e[e.Portuguese=6]="Portuguese",e[e.Spanish=7]="Spanish",e[e.Korean=8]="Korean",e[e.Italian=9]="Italian",e[e.Reserved=10]="Reserved",e[e.Vietnamese=11]="Vietnamese",e[e.Dutch=12]="Dutch",e[e.Ukrainian=13]="Ukrainian",e[e.Arabic=14]="Arabic",e[e["Chinese (Traditional)"]=16]="Chinese (Traditional)",e[e.Czech=17]="Czech",e[e.Estonian=18]="Estonian",e[e.Finnish=19]="Finnish",e[e.Hebrew=21]="Hebrew",e[e.Hindi=22]="Hindi",e[e.Hungarian=23]="Hungarian",e[e.Indonesian=24]="Indonesian",e[e.Malay=25]="Malay",e[e.Persian=26]="Persian",e[e.Polish=27]="Polish",e[e.Romanian=28]="Romanian",e[e.Swedish=29]="Swedish",e[e.Tamil=30]="Tamil",e[e.Telugu=31]="Telugu",e[e.Tagalog=32]="Tagalog",e[e.Turkish=33]="Turkish",e[e["French (Canada)"]=34]="French (Canada)",e[e.Danish=35]="Danish",e[e.Thai=37]="Thai",e[e.Cantonese=44]="Cantonese",e[e.Catalan=48]="Catalan",e[e.NoTranslation=400]="NoTranslation",e[e.DefaultManualInput=401]="DefaultManualInput",e})({});(function(e){return e.English="en",e["Chinese (Simplified)"]="zh",e.Japanese="ja",e.German="de",e.French="fr",e.Russian="ru",e.Portuguese="pt",e.Spanish="es",e.Korean="ko",e.Italian="it",e.Reserved="en1",e.Vietnamese="vi",e.Dutch="nl",e.Ukrainian="uk",e.Arabic="ar",e["Chinese (Traditional)"]="zh-hant",e.Czech="cs",e.Estonian="et",e.Finnish="fi",e.Hebrew="he",e.Hindi="hi",e.Hungarian="hu",e.Indonesian="id",e.Malay="ms",e.Persian="fa",e.Polish="pl",e.Romanian="ro",e.Swedish="sv",e.Tamil="ta",e.Telugu="te",e.Tagalog="tl",e.Turkish="tr",e["French (Canada)"]="fr-ca",e.Danish="da",e.Thai="th",e.Cantonese="zh-yue",e.Catalan="ca",e})({});let F3=(function(e){return e.Individual="individual",e.Session="session",e})({});function sbe(e){const n=e===Q0.Unspecified?Q0.Reserved:e;zs.getInstance().selectLanguageChannelForNewLTT(n)}function LJ(e,n,o){const{state:i,rwgAgent:c}=o,{liveTranscription:{isSomeoneTranslating:d,isHostLockSpeakingLanguage:p},meeting:{userId:v,isWebinar:S}}=i,_=e??Q0.English;var x;p||S?c.setSpokenLanguage(_):(((x=Ss(i))===null||x===void 0?void 0:x.audio)===Qi.Computer&&sbe(e??Q0.Unspecified),e!==void 0&&n&&c.setTranscriptionLanguage(_,d?v:0))}const yYe=OPe(xPe,(function(e,n){return GNe(e,n)}))([Va,({meeting:{gatewayUserList:e}})=>e],((e,n)=>{const o={};return e.forEach((i=>{Object.assign(o,{[`${i.userId}`]:i.zoomID})})),n?.forEach((i=>{Object.assign(o,{[`${i.userId}`]:i.sn})})),o})),$Oe=Ql([Va],(e=>e.find((n=>n.bCCEditor===!0)))),bYe=Ql([Va,IPe],((e,n)=>e.some((o=>o.bCCEditor===!0&&o.userId===n)))),jme=ta.createAgent(),Wme={isEnableTranslatedCaptions:!1,isHostLockSpeakingLanguage:!1,transcriptionLang:[],isEnableAutomatedCaptions:!1,supportedTranscriptionLanguage:[],isLiveTranscriptionEnabled:!1,isHostDisableCaptions:!1,isManualCaptionerEnabled:!1,gatewayId:void 0,isLiveTranscriptionSubscribed:!1,messageRecords:[],isRecordsReduced:!1,reducedRecordsCount:0,isSomeoneSetSessionTranscription:!1,isSomeoneTranslating:!1,isTranscriptionLanguageLocked:!1,isExternalCaptionerCaptioning:!1,externalCcUrl:void 0,transcriptionMode:F3.Individual},SYe=wm({[`${q4e}`]:bt(((e,{payload:n})=>{e.isLiveTranscriptionEnabled=n})),[`${K4e}`]:bt(((e,{payload:n})=>{const{transcriptionLang:o,translatedSetting:i,...c}=n;if(o&&(e.transcriptionLang=o.split(";").map((d=>{const p=d&&x6[d];return p!==void 0?{lang:d,code:p}:null})).filter(Boolean)),i){const d=Object.keys(i).map((v=>{const S=i[v];if(S){const _=S.split(";").map((x=>{const P=x&&x6[x];return P!==void 0?{lang:x,code:P}:null})).filter(Boolean);return{lang:v,code:x6[v],translatedToLanguage:_}}return null})).filter(Boolean),p=d.reduce(((v,S)=>(S.translatedToLanguage.forEach((_=>{v.findIndex((x=>x.code===_.code))===-1&&v.push(_)})),v)),[]);e.translatedSetting=d,e.translationLang=p}Object.assign(e,c)})),[`${Wye}`]:bt(((e,{payload:n})=>{e.isManualCaptionerEnabled=n})),[`${Z4e}`]:bt(((e,{payload:n})=>{e.gatewayId=n})),[`${oBe}`]:bt(((e,{payload:n})=>{e.isHostDisableCaptions=n})),[`${Y4e}`]:bt(((e,{payload:n})=>{e.supportedTranscriptionLanguage=n})),[`${bO}`]:bt(((e,{payload:n})=>{e.currentTranscriptionLang=n})),[`${Pee}`]:bt(((e,{payload:n})=>{e.currentTranslationLang=n})),[`${qye}`]:bt(((e,{payload:n})=>{e.messageRecords.push(n)})),[`${X4e}`]:bt(((e,{payload:n})=>{const o=e.messageRecords.find((i=>i.msgId===n.msgId));o&&Object.assign(o,n)})),[`${J4e}`]:bt(((e,{payload:n})=>{const{remains:o,reducedRecordsCount:i}=n,c=e.messageRecords.length-o;e.isRecordsReduced=!0,e.reducedRecordsCount=i,e.messageRecords.splice(0,c)})),[`${Gye}`]:bt(((e,{payload:n})=>{e.isLiveTranscriptionSubscribed=n})),[`${Q4e}`]:bt(((e,{payload:n})=>{e.liveTransEngineType=n})),[`${eBe}`]:bt((e=>{e.stateBeforeFailover=void 0})),[`${tBe}`]:bt(((e,{payload:n})=>{e.lastManualCaption=n})),[`${sBe}`]:bt(((e,{payload:n})=>{e.isSomeoneSetSessionTranscription=n})),[`${rBe}`]:bt(((e,{payload:n})=>{e.isSomeoneTranslating=n})),[`${iBe}`]:bt(((e,{payload:n})=>{e.isTranscriptionLanguageLocked=n})),[`${aBe}`]:bt(((e,{payload:n})=>{e.isExternalCaptionerCaptioning=n})),[`${lBe}`]:bt(((e,{payload:n})=>{e.externalCcUrl=n})),[`${cBe}`]:bt(((e,{payload:n})=>{e.transcriptionMode=n})),[`${nBe}`]:(e,{payload:n})=>n?{...Wme,stateBeforeFailover:{currentTranscriptionLang:e.currentTranscriptionLang,currentTranslationLang:e.currentTranslationLang,isLiveTranscriptionSubscribed:e.isLiveTranscriptionSubscribed,transcriptionMode:e.transcriptionMode},messageRecords:e.messageRecords,isRecordsReduced:e.isRecordsReduced,reducedRecordsCount:e.reducedRecordsCount}:{...Wme}},Wme);var uc;const Lb=ta.createAgent(),z_=Np("Live transcription");let CYe=(uc=class extends VS{startLiveTranscription(){const{[rs]:e,[Mc]:n}=this,{liveTranscription:{isLiveTranscriptionEnabled:o,isEnableTranslatedCaptions:i,isLiveTranscriptionSubscribed:c,isHostDisableCaptions:d}}=e();return c?Promise.resolve(""):d?Promise.reject({type:bn,reason:"Captions has been disabled by host.",errorCode:ht.TRANSCRIPTION_FEATURE_DISABLE}):o?(Lb.enableNewLLT(),Cr(Hb).then((()=>{const{liveTranscription:{currentTranscriptionLang:p,transcriptionMode:v,isSomeoneSetSessionTranscription:S}}=e(),_=p??Q0.English;return LJ(p,v===F3.Session&&!S,{state:e(),rwgAgent:Lb}),n(bO(_)),i&&Lb.setTranslationLanguage(),Cr({event:Hb,operations:[xn((x=>x.autoCaption===!0&&x.lang!==void 0)),Jr(1)]})}))):Promise.reject({type:bn,reason:"Live transcription is not enabled.",errorCode:ht.TRANSCRIPTION_ACCOUNT_DISABLE})}disableCaptions(e){const{[rs]:n}=this,{liveTranscription:{isHostDisableCaptions:o}}=n();return e===o?Promise.resolve():(Lb.disableCaptions(e),Cr(G0e,(i=>i===e)))}setSpeakingLanguage(e,n){const{[rs]:o,[Mc]:i}=this,c=o(),{liveTranscription:{isLiveTranscriptionSubscribed:d,transcriptionLang:p,isTranscriptionLanguageLocked:v}}=c,S=Ss(c);if(v&&(S==null||!S.isHost))return Promise.reject({type:bn,reason:"Transcription language has been locked, only host can set the language.",errorCode:ht.TRANSCRIPTION_LANGUAGE_LOCKED});const _=p.find((x=>x.lang===e));if(_){const{code:x}=_;return n?.mode===F3.Session?d&&LJ(x,!0,{state:c,rwgAgent:Lb}):LJ(x,!1,{state:c,rwgAgent:Lb}),i(bO(x)),n!=null&&n.mode&&i(cBe(n.mode)),Promise.resolve("")}return Promise.reject({type:ar,reason:"Unsupported transcription language",errorCode:ht.TRANSCRIPTION_LANGUAGE_UNSUPPORTED})}setTranslationLanguage(e){const{[rs]:n,[Mc]:o}=this,i=n(),{liveTranscription:{isEnableTranslatedCaptions:c,isLiveTranscriptionSubscribed:d,translationLang:p}}=i;if(!c)return Promise.reject({type:bn,reason:"Live translation is not enabled.",errorCode:ht.TRANSLATION_ACCOUNT_DISABLE});if(!d)return Promise.reject({type:bn,reason:"Cannot set translation language before starting live transcription",errorCode:ht.TRANSCRIPTION_MISMATCH_STATE});if(e){const v=p?.find((S=>S.lang===e));return v?(Lb.setTranslationLanguage(v.code),Cr({event:Hb,operations:[xn((S=>S.autoCaption===!0&&S.lang===v.code)),Jr(1)]},(({lang:S})=>S===v.code))):Promise.reject({type:bn,reason:`Cannot support translating to ${e}`,errorCode:ht.TRANSLATION_LANGUAGE_UNSUPPORTED})}return Lb.setTranslationLanguage(),o(Pee(void 0)),Promise.resolve("")}lockTranscriptionLanguage(e){const{[rs]:n}=this,{liveTranscription:{isTranscriptionLanguageLocked:o,isEnableTranslatedCaptions:i}}=n();return i?Promise.reject({type:bn,reason:"Cannot lock transcription language due to translation is enabled",errorCode:ht.TRANSCRIPTION_MISMATCH_STATE}):e!==o?(Lb.lockTranscriptionLanguage(e),Cr(q0e,(c=>c===e))):Promise.resolve("")}enableManualCaptioner(){const{[rs]:e}=this,{meeting:{meetingOptions:n},liveTranscription:{isManualCaptionerEnabled:o,isHostDisableCaptions:i}}=e();if(i)return Promise.reject({type:bn,reason:"Captions has been disabled by host.",errorCode:ht.MANUAL_CAPTION_FEATURE_DISABLE});const{isEnableManualCaptions:c,isEnableClosedCaption:d}=n;return c??d?o?Promise.resolve():(Lb.enableManualCaption(!0),Cr(Hb,(({autoCaption:p})=>p===!1))):Promise.reject({type:bn,reason:"Manual caption is not enabled.",errorCode:ht.MANUAL_CAPTION_ACCOUNT_DISABLE})}disableManualCaptioner(){const{[rs]:e}=this,{liveTranscription:{isManualCaptionerEnabled:n}}=e();return n?(Lb.enableManualCaption(!1),Cr(Hb,(({autoCaption:o})=>o===!0))):Promise.resolve()}assignManualCaption(e){var n;const{[rs]:o}=this,i=o(),{liveTranscription:{isManualCaptionerEnabled:c},participants:{attendeesList:d},meeting:{userId:p}}=i;return c?((n=$Oe(i))===null||n===void 0?void 0:n.userId)===e?Promise.resolve(""):d.find((S=>S.userId===e))?(Lb.assignCC(e,!0),Cr({event:p===e?Mp:NS,operations:[xn((S=>S.userId===e)),Jr(1)]},(S=>S.bCCEditor===!0))):Promise.reject({type:ar,reason:"Cannot find the user",errorCode:ht.MANUAL_CAPTION_MISMATCH_USER}):Promise.reject({type:bn,reason:"Cannot assign caption editor due to the manual captioner is not enabled.",errorCode:ht.MANUAL_CAPTION_FEATURE_DISABLE})}sendCaptionTextManually(e,n){var o;const{[rs]:i,[Mc]:c}=this,d=i(),{liveTranscription:{lastManualCaption:p},meeting:{userId:v}}=d,S=Ss(d);let _=Promise.resolve();const x=(o=$Oe(d))===null||o===void 0?void 0:o.userId;return S!=null&&S.isHost&&x!==v&&(_=this.assignManualCaption(v)),_.then((()=>bYe(i())?(function(P,B,H){const U=P.length,z=[];var Z;if(H)z.push({op:"close",text:P,msgId:(Z=B?.msgId)!==null&&Z!==void 0?Z:zQ()});else if(B&&B!=null&&B.text){const te=B.text.length;let ce=0,se=0;for(;P[ce]===B.text[ce]&&ce<U;)se+=$Pe(P[ce]),ce+=1;ce===te&&ce===U?z.push({op:"same"}):ce===te&&ce<U?z.push({op:"insert",text:P.slice(ce),size:0,pos:se,msgId:B.msgId}):ce<te&&ce===U?z.push({op:"delete",size:0,pos:se,msgId:B.msgId}):(z.push({op:"delete",size:0,pos:se,msgId:B.msgId}),z.push({op:"insert",text:P.slice(ce),pos:se,msgId:B.msgId}))}else U>0&&z.push({op:"start",text:P,pos:0,size:0,msgId:zQ()});return z.filter((te=>te.op!=="same"))})(e,p,n):Promise.reject({type:Bp,reason:"Cannot type caption ",errorCode:ht.MANUAL_CAPTION_INSUFFICIENT_PRIVILEGE}))).then((P=>Array.isArray(P)?(P.forEach((B=>{const{text:H,...U}=B;qf.beginEncrypt({text:H??"",type:Gf.CC_MESSAGE}).then((z=>{Lb.sendManualCaption({text:z,...U});const Z=n?void 0:{text:H,msgId:B.msgId};c(tBe(Z))}))})),Cr(p6,(B=>B.source===eO.InMeetingManual))):""))}getLiveTranscriptionStatus(){const{[rs]:e}=this,{liveTranscription:{isLiveTranscriptionEnabled:n,isEnableTranslatedCaptions:o,isManualCaptionerEnabled:i,transcriptionLang:c,translatedSetting:d,isHostDisableCaptions:p,isTranscriptionLanguageLocked:v}}=e();return{isLiveTranscriptionEnabled:n,isLiveTranslationEnabled:o,isHostDisableCaptions:p,isManualCaptionerEnabled:i,isHostLockTranscriptionLanguage:v,transcriptionLanguage:c.map((S=>S.lang)).join(";"),translationLanguage:d?.map((S=>({speakingLanguage:S.lang,translatedToLanguage:S.translatedToLanguage.map((_=>_.lang)).join(";")})))}}getLiveTranscriptionSetting(){const{[rs]:e}=this,{meeting:{meetingOptions:n}}=e(),{isEnableManualCaptions:o,isEnableLiveTranscription:i,isEnableClosedCaption:c,isEnableAllowThirdPartyCCToken:d,isEnableViewFullTranscript:p,isEnableSaveCaptions:v}=n||{};return{isEnableManualCaptions:o,isEnableLiveTranscription:i,isEnableClosedCaption:c,isEnableAllowThirdPartyCCToken:d,isEnableViewFullTranscript:p,isEnableSaveCaptions:v}}getCurrentTranscriptionLanguage(){const{[rs]:e}=this,{liveTranscription:{currentTranscriptionLang:n}}=e();return n!==void 0?{code:HOe[n],name:Hee[n]}:null}getCurrentTranslationLanguage(){const{[rs]:e}=this,{liveTranscription:{currentTranslationLang:n}}=e();return n!==void 0?{code:HOe[n],name:Hee[n]}:null}getLatestTranscription(){const{[rs]:e}=this,{liveTranscription:{messageRecords:n,isManualCaptionerEnabled:o}}=e(),i=o?Q0.DefaultManualInput:Q0.NoTranslation,c=n.filter((d=>d.language===i));return c.length?c[c.length-1].text:""}getLatestTranslation(){const{[rs]:e}=this,{liveTranscription:{messageRecords:n,currentTranslationLang:o,isEnableTranslatedCaptions:i}}=e();if(i||o!==void 0){const c=n.filter((d=>d.language===o));return c.length?c[c.length-1].text:""}return""}getFullTranscriptionHistory(){const{[rs]:e}=this,n=e(),{liveTranscription:{messageRecords:o,isRecordsReduced:i}}=n;return i?(function(c){return window.indexedDB!==void 0?new Promise((d=>{const p=window.indexedDB.open(NJ,1);p.addEventListener("success",(()=>{const v=p.result;if(v.objectStoreNames.contains(Y_)){const S=v.transaction([Y_],"readonly").objectStore(Y_),_=[],x=c.meeting.meetingId,P=S.index("mid"),B=IDBKeyRange.only(x),H=P.openCursor(B);H.onsuccess=()=>{const U=H.result;U?(_.push(...U.value.records),U.continue()):(d(_),v.close())},H.onerror=()=>{d(""),v.close()}}else d("")})),p.addEventListener("error",(()=>{d("")}))})):Promise.resolve("")})(n).then((c=>Array.isArray(c)?c.concat(o):[...o])):[...o]}getManualCaptionEditor(){const{[rs]:e}=this,n=e(),{closedCaption:{editorId:o}}=n;let i;if(!o)return{};if(i=Va(n).find((x=>x.userId===o)),!i)return{};const{userId:c,isHost:d,displayName:p,avatar:v,bCoHost:S,zoomID:_}=i;return{userId:c,isHost:d,displayName:p,avatar:v,bCoHost:S,zoomID:_}}getManualCaptionUrl(){const{[rs]:e}=this,{meeting:{meetingOptions:n,ccUrl:o,confId:i},breakoutRoom:c,liveTranscription:{externalCcUrl:d}}=e(),{isEnableManualCaptions:p,isEnableAllowThirdPartyCCToken:v}=n||{};if(!p||!v)return console.warn("you not enable manual caption"),"";const S=d||o;return c&&Tg(e())?`${S}&${new URLSearchParams({subconfid:i}).toString()}`:S}},qn(uc.prototype,"startLiveTranscription",[Xn,z_],Object.getOwnPropertyDescriptor(uc.prototype,"startLiveTranscription"),uc.prototype),qn(uc.prototype,"disableCaptions",[Td,Xn,z_],Object.getOwnPropertyDescriptor(uc.prototype,"disableCaptions"),uc.prototype),qn(uc.prototype,"setSpeakingLanguage",[Xn,z_],Object.getOwnPropertyDescriptor(uc.prototype,"setSpeakingLanguage"),uc.prototype),qn(uc.prototype,"setTranslationLanguage",[Xn,z_],Object.getOwnPropertyDescriptor(uc.prototype,"setTranslationLanguage"),uc.prototype),qn(uc.prototype,"lockTranscriptionLanguage",[Td,Xn,z_],Object.getOwnPropertyDescriptor(uc.prototype,"lockTranscriptionLanguage"),uc.prototype),qn(uc.prototype,"enableManualCaptioner",[Td,Xn,z_],Object.getOwnPropertyDescriptor(uc.prototype,"enableManualCaptioner"),uc.prototype),qn(uc.prototype,"disableManualCaptioner",[Td,Xn,z_],Object.getOwnPropertyDescriptor(uc.prototype,"disableManualCaptioner"),uc.prototype),qn(uc.prototype,"assignManualCaption",[Xn,Td,z_],Object.getOwnPropertyDescriptor(uc.prototype,"assignManualCaption"),uc.prototype),qn(uc.prototype,"sendCaptionTextManually",[Xn,z_],Object.getOwnPropertyDescriptor(uc.prototype,"sendCaptionTextManually"),uc.prototype),uc);const EYe={epics0:e=>e.pipe(Qo(`${Mv}`),Do((n=>{const{payload:{liveTranscription:o}}=n;return K4e(o)}))),epics1:(e,n)=>Uo(e,Wb).pipe(xn((o=>{var i,c;return((i=o.payload.body)===null||i===void 0?void 0:i.NewLttAvaliable)!==void 0||((c=o.payload.body)===null||c===void 0?void 0:c.LiveTransEngineType)!==void 0})),Do((o=>{const{payload:{body:{NewLttAvaliable:i,LiveTransEngineType:c}}}=o,{liveTranscription:{isEnableAutomatedCaptions:d}}=n.value;return i!==void 0?(dt(rMe,!!i),q4e(d&&!!i)):Q4e(c)}))),epics2:(e,n)=>Uo(e,7982).pipe(pn((o=>{const{payload:{body:{status:i,gwId:c}}}=o,d=[];switch(i){case RX.Ready:d.push(Z4e(c));break;case RX.ManualCaptionerEnabled:dt(Hb,{autoCaption:!1}),d.push(Wye(!0));break;case RX.ManualCaptionerDisabled:dt(Hb,{autoCaption:!0}),d.push(_4e({editorId:"",isEditor:!1,editorZoomId:""})),d.push(Wye(!1));break;case RX.UserSub:{dt(Hb,{autoCaption:n.value.liveTranscription.isLiveTranscriptionEnabled});const{liveTranscription:{stateBeforeFailover:v,transcriptionMode:S,isSomeoneSetSessionTranscription:_}}=n.value;if(v!=null&&v.isLiveTranscriptionSubscribed){var p;jme.enableNewLLT();const x=(p=v.currentTranscriptionLang)!==null&&p!==void 0?p:Q0.English;LJ(v.currentTranscriptionLang,S===F3.Session&&!_,{state:n.value,rwgAgent:jme}),d.push(bO(x)),v.currentTranslationLang!==void 0&&jme.setTranslationLanguage(v.currentTranslationLang),d.push(eBe())}break}}return lo(d)}))),epics3:e=>Uo(e,7984).pipe(Do((n=>{const{payload:{body:{langs:o}}}=n;return Y4e(o)}))),epics4:e=>Uo(e,8011).pipe(pn((n=>{const{payload:{body:{disabled:o}}}=n,i=[];return dt(G0e,o),i.push(oBe(o)),o&&i.push(Gye(!1)),lo(i)}))),epics5:(e,n)=>Uo(e,7985).pipe(xn((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.success)===!0})),pn((o=>{const{payload:{body:{src:i,lang:c,success:d}}}=o,{liveTranscription:{transcriptionLang:p}}=n.value,v=[];var S;return d&&v.push(Gye(!0)),i===eO.ASR?(c===Q0.NoTranslation?v.push(Pee(void 0)):v.push(Pee(c)),dt(Hb,{autoCaption:!0,lang:c,language:(S=p.find((_=>_.code===c)))===null||S===void 0?void 0:S.lang})):[eO.InMeetingManual,eO.ExternalCaptioner].includes(i)&&dt(Hb,{autoCaption:!1}),lo(v)}))),epics6:(e,n)=>Uo(e,7986).pipe(us(n),pn((([o,i])=>{const c=Ss(i),{liveTranscription:{currentTranscriptionLang:d,isSomeoneSetSessionTranscription:p,transcriptionLang:v}}=i,{payload:{body:S}}=o,_=[sBe(!0)];if(S?.lang!==void 0){const{lang:P}=S,B=d!==P;var x;p&&!B||dt(Hb,{autoCaption:!0,sessionLang:P,sessionLanguage:(x=v.find((H=>H.code===P)))===null||x===void 0?void 0:x.lang}),c?.audio===Qi.Computer&&B&&sbe(P),_.push(bO(P))}return lo(_)}))),epics7:(e,n)=>ur(e,so.JoinComputerAudioComplete).pipe(xn((()=>{const{liveTranscription:{transcriptionMode:o,isLiveTranscriptionSubscribed:i,currentTranscriptionLang:c}}=n.value;return c!==void 0&&(o===F3.Individual||o===F3.Session&&i)})),Yo((()=>{const{liveTranscription:{currentTranscriptionLang:o}}=n.value;o&&sbe(o)})),Eg()),epics8:(e,n)=>Uo(e,7983).pipe(xn((o=>o.payload.body!==void 0)),pn((o=>{const{payload:{body:{msgType:i,errorCode:c,language:d,source:p,content:v,keyNodeId:S,msgId:_,nodeId:x,pos:P,size:B,audioLanguage:H}}}=o;if(i===qx.Error){if(c===VOe.TranslateNotSupport){const{liveTranscription:{currentTranslationLang:U}}=n.value;U&&dt(p6,{error:VOe.TranslateNotSupport,errorMessage:`${Hee[H]} to ${Hee[U]} translation is not supported!`,audioLanguage:H,translationLang:U})}}else{const U=n.value,z=Va(U),{liveTranscription:{isManualCaptionerEnabled:Z}}=U;if(Z&&p===eO.ASR)return Promise.resolve();if((function(te,ce){const{liveTranscription:{isEnableTranslatedCaptions:se,isLiveTranscriptionEnabled:Se},meeting:{meetingOptions:Ce}}=ce,{isEnableManualCaptions:Te,isEnableAllowHostAssignTypeCC:V,isEnableClosedCaption:ke,isEnableAllowThirdPartyCCToken:et}=Ce;return te===eO.ASR?se||Se:te===eO.InMeetingManual?Te&&V||Te===void 0&&ke:te===eO.ExternalCaptioner?et:void 0})(p,U)&&v&&S){const te=yYe(U)[S];if(te)return qf.beginDecrypt({decryptedText:v,type:Gf.CC_MESSAGE,zoomId:te}).then((({message:ce})=>{const{liveTranscription:{messageRecords:se}}=n.value,Se=[],Ce=se.find((Te=>Te.msgId===_));if(Ce){const{text:Te}=Ce,V=((et,$e)=>{if(!et||$e===0)return"";let Re=0;for(let _e=0;_e<et.length;_e++)if(Re+=$Pe(et[_e]),Re===$e)return et.slice(0,_e+1);return et})(Te,P);let ke;i===qx.Insert&&B===0||i===qx.Delete&&B===0?ke={...Ce,text:V+ce,msgType:i}:i===qx.Close&&(ke={...Ce,text:ce,msgType:i,done:!0}),ke&&(Se.push(X4e(ke)),dt(p6,ke))}else if([qx.New,qx.Close].includes(i)||Z&&i===qx.Insert){const Te=z.find((ke=>ke.userId===x)),V={msgId:_,userId:x,displayName:Te?.displayName,avatar:Te?.avatar,text:ce,source:p,language:d,timestamp:new Date().getTime(),done:i===qx.Close};Se.push(qye({...V,msgType:i})),dt(p6,V)}return Se}))}}return Promise.resolve()})),pn((o=>Array.isArray(o)?lo(o):Po))),epics9:(e,n)=>e.pipe(Qo(`${qye}`),Ju(yT),pn((()=>{const{liveTranscription:{messageRecords:o}}=n.value;return o.length>=1e5?(function(i){const{meeting:{meetingId:c},liveTranscription:{messageRecords:d,reducedRecordsCount:p}}=i;return window.indexedDB!==void 0?new Promise((v=>{const S=window.indexedDB.open(NJ,1);S.addEventListener("upgradeneeded",(()=>{const _=S.result;if(!_.objectStoreNames.contains(Y_)){const x=_.createObjectStore(Y_,{keyPath:["startIndex","mid"],autoIncrement:!1});x.createIndex("mid","mid",{unique:!1}),x.transaction.oncomplete=()=>{console.log(`Create objectStore [${Y_}] complete`)}}})),S.addEventListener("success",(()=>{const _=S.result,x=d.length,P=.9*x,B=x-P,H=d.slice(0,P),U=p+H.length,z=_.transaction([Y_],"readwrite");z.objectStore(Y_).put({startIndex:p,mid:c,records:H}),z.oncomplete=()=>{v(J4e({remains:B,reducedRecordsCount:U})),_.close()},z.onerror=()=>{v(""),_.close()}}))})):Promise.resolve("")})(n.value):Promise.resolve("")})),xn((o=>typeof o=="object"))),epics10:(e,n)=>e.pipe(Qo(`${V2}`,`${l4}`),xn((()=>n.value.liveTranscription.isRecordsReduced)),Yo((()=>{(function(){if(window.indexedDB!==void 0){const o=window.indexedDB.open(NJ,1);o.addEventListener("success",(()=>{const i=o.result;i.objectStoreNames.contains(Y_)&&(window.indexedDB.deleteDatabase(NJ),i.close())}))}})()})),Eg()),epics11:(e,n)=>ur(e,[so.AudiobridgeSetCcLangSuccess,so.AudiobridgeSetCcLangFailure]).pipe(pn((o=>{const{payload:{type:i,data:c}}=o,{liveTranscription:{currentTranscriptionLang:d}}=n.value,p=[];return i===so.AudiobridgeSetCcLangSuccess&&c!==d?p.push(bO(c)):i===so.AudiobridgeSetCcLangFailure&&p.push(bO(void 0)),lo(p)}))),epics12:e=>Uo(e,8014).pipe(xn((n=>!!n.payload.body)),pn((n=>{const{payload:{body:{delivered:o,type:i}}}=n,c=[];return i==="translationstarted"?o&&(c.push(rBe(!0)),dt(Hb,{autoCaption:!0,translationStarted:!0})):i==="meetinglanglocked"?(c.push(iBe(o)),dt(q0e,o)):i==="tcap"&&o&&c.push(aBe(!0)),lo(c)}))),epics13:e=>Uo(e,8026).pipe(xn((n=>{var o;return!((o=n.payload.body)===null||o===void 0||!o.url)})),Do((n=>lBe(n.payload.body.url)))),epics14:e=>Uo(e,8027).pipe(Do((n=>{var o;return bO((o=n.payload.body)===null||o===void 0?void 0:o.speaking_language_id)})))},wYe=xg(EYe),UOe={isLiveStreamEnable:!1,status:0,channelName:"",viewerUrl:"",liveStreamOn:!1},_Ye=wm({[`${hBe}`]:bt(((e,{payload:n})=>{e.isLiveStreamEnable=n})),[`${Lee}`]:bt(((e,{payload:n})=>{e.status=n})),[`${fBe}`]:bt(((e,{payload:n})=>{e.channelName=n.channelName,e.viewerUrl=n.viewerUrl,e.liveStreamOn=n.liveStreamOn})),[`${pBe}`]:(e,{payload:n})=>n?{...e}:{...UOe}},UOe);let Kx=(function(e){return e[e.Ended=0]="Ended",e[e.InProgress=1]="InProgress",e[e.Connecting=2]="Connecting",e[e.Timeout=3]="Timeout",e})({});var Zx;const zOe=ta.createAgent();let TYe=(Zx=class extends VS{startLiveStream(e,n,o){const{[rs]:i,[Mc]:c}=this,{liveStream:{isLiveStreamEnable:d,status:p},meeting:{zlkJwtToken:v}}=i();return v?p===Kx.InProgress?Promise.reject({type:bn,reason:"Live stream is already on",errorCode:ht.LIVE_STREAM_MISMATCH_STATE}):d?e&&n&&o?(zOe.startLiveStream(e,n,o),Cr({event:g6,operations:[xn((S=>S===Kx.InProgress)),Jr(1)]},void 0,3e4).then((()=>"")).catch((()=>{const{liveStream:{status:S}}=i();return S===Kx.Connecting?(dt(g6,Kx.Timeout),c(Lee(Kx.Timeout)),Promise.reject({type:Jh,errorCode:ht.INTERNAL_ERROR})):Promise.resolve("")}))):Promise.reject({type:ar,reason:"parameter cannot be empty",errorCode:ht.LIVE_STREAM_INVALID_PARAMETER}):Promise.reject({type:bn,reason:"Live stream is not enabled",errorCode:ht.LIVE_STREAM_ACCOUNT_DISABLE}):Promise.reject({type:bn,reason:"meeting sdk don't support start live stream use startLiveStream",errorCode:ht.LIVE_STREAM_INVALID_PARAMETER})}stopLiveStream(){const{[rs]:e,[Mc]:n}=this,{liveStream:{status:o}}=e();return o===Kx.InProgress&&(zOe.stopLiveStream(),dt(g6,Kx.Ended),n(Lee(Kx.Ended))),Promise.resolve("")}getLiveStreamInfo(){const e=this[rs](),{meeting:{liveStreamInfo:n,zlkJwtToken:o,isHost:i}}=e;return o?(console.warn("video sdk don't support get live stream info"),null):i?n&&Object.keys(n).length!==0?n:(console.warn("can not get live stream info"),null):(console.warn("only host get live stream info"),null)}isLiveStreamEnabled(){const{[rs]:e}=this,{liveStream:n,meeting:{liveStreamInfo:o,zlkJwtToken:i}}=e();return(i||o?.isEnabledLiveStream)&&!(n==null||!n.isLiveStreamEnable)}getLiveStreamStatus(){const{[rs]:e}=this,{liveStream:{liveStreamOn:n,channelName:o,viewerUrl:i,status:c}}=e();return{liveStreamOn:n,channelName:o,viewerUrl:i,status:c}}},qn(Zx.prototype,"startLiveStream",[Td],Object.getOwnPropertyDescriptor(Zx.prototype,"startLiveStream"),Zx.prototype),qn(Zx.prototype,"stopLiveStream",[Td],Object.getOwnPropertyDescriptor(Zx.prototype,"stopLiveStream"),Zx.prototype),Zx);const AYe=xg({epics0:e=>e.pipe(Qo(`${Mv}`),Do((n=>{const{payload:{liveStreamInfo:o}}=n;return hBe(!(o==null||!o.isEnabledLiveStream))}))),epics1:e=>Uo(e,7970).pipe(pn((n=>{const{payload:{body:{channelName:o,liveStreamOn:i,_isApiCall:c,status:d,viewerUrl:p}}}=n;return dt(g6,d),lo([fBe({channelName:o,viewerUrl:p,liveStreamOn:i}),Lee(d)])})))}),{setSummaryEnable:BBe,setSmartSummaryStatus:FBe,resetSummary:xYe}=eh("SET_SUMMARY_ENABLE","SET_SMART_SUMMARY_STATUS","RESET_SUMMARY"),{setMeetingQueryEnable:VBe,setMeetingQueryStatus:HBe}=eh("SET_MEETING_QUERY_ENABLE","SET_MEETING_QUERY_STATUS");let SO=(function(e){return e.Default="",e.Start="Start",e.Paused="Paused",e.Stopped="Stopped",e})({}),RO=(function(e){return e[e.GW_IND_NONE=0]="GW_IND_NONE",e[e.GW_IND_START=1]="GW_IND_START",e[e.GW_IND_PAUSE=2]="GW_IND_PAUSE",e[e.GW_IND_STOP=3]="GW_IND_STOP",e})({}),CO=(function(e){return e.Default="",e.Start="Start",e.Paused="Paused",e.Stopped="Stopped",e})({}),kO=(function(e){return e[e.GW_IND_NONE=0]="GW_IND_NONE",e[e.GW_IND_START=1]="GW_IND_START",e[e.GW_IND_PAUSE=2]="GW_IND_PAUSE",e[e.GW_IND_STOP=3]="GW_IND_STOP",e})({});const jOe={summaryStatus:RO.GW_IND_STOP,summaryEnable:!1,meetingQueryStatus:kO.GW_IND_STOP,meetingQueryEnable:!1},OYe=wm({[`${BBe}`]:bt(((e,{payload:n})=>{e.summaryEnable=n})),[`${FBe}`]:bt(((e,{payload:n})=>{e.summaryStatus=n})),[`${VBe}`]:bt(((e,{payload:n})=>{e.meetingQueryEnable=n})),[`${HBe}`]:bt(((e,{payload:n})=>{e.meetingQueryStatus=n})),[`${xYe}`]:()=>({...jOe})},jOe);var WOe,GOe,qOe,KOe,Bb;const kX=ta.createAgent();let IYe=(WOe=Go("summary"),GOe=Go("summary"),qOe=Go("summary"),KOe=Go("summary"),qn((Bb=class extends VS{startSummary(){const e=this[rs](),{summary:{summaryEnable:n,summaryStatus:o}}=e;return n?o===RO.GW_IND_START?Promise.resolve(""):(kX.summaryMeeting(!0),Cr(fO,(i=>i.status===SO.Start))):Promise.reject({type:bn,reason:"The account of the meeting disabled the smart summary",errorCode:ht.SUMMARY_ACCOUNT_DISABLE})}stopSummary(){const e=this[rs](),{summary:{summaryStatus:n}}=e;return n!==RO.GW_IND_START?Promise.resolve("not start summary, do nothing"):(kX.summaryMeeting(!1),Cr(fO,(o=>o.status===SO.Stopped)))}getSummaryStatus(){const e=this[rs](),{summary:{summaryStatus:n}}=e;return n===RO.GW_IND_START?SO.Start:n===RO.GW_IND_STOP?SO.Stopped:SO.Default}isSummaryEnabled(){const e=this[rs](),{summary:{summaryEnable:n}}=e;return n}startMeetingQuery(){const e=this[rs](),{summary:{meetingQueryEnable:n,meetingQueryStatus:o}}=e;return n?o===kO.GW_IND_START?Promise.resolve(""):(kX.startMeetingQuery(!0),Cr(pO,(i=>i.status===CO.Start))):Promise.reject({type:bn,reason:"The account of the meeting disabled the smart summary",errorCode:ht.SUMMARY_ACCOUNT_DISABLE})}stopMeetingQuery(){const e=this[rs](),{summary:{meetingQueryStatus:n}}=e;return n!==kO.GW_IND_START?Promise.resolve("not start meeting query, do nothing"):(kX.startMeetingQuery(!1),Cr(pO,(o=>o.status===CO.Stopped)))}getMeetingQueryStatus(){const e=this[rs](),{summary:{meetingQueryStatus:n}}=e;return n===kO.GW_IND_START?CO.Start:n===kO.GW_IND_STOP?CO.Stopped:CO.Default}isMeetingQueryEnabled(){const e=this[rs](),{summary:{meetingQueryEnable:n}}=e;return n}}).prototype,"startSummary",[Td,Xn,WOe],Object.getOwnPropertyDescriptor(Bb.prototype,"startSummary"),Bb.prototype),qn(Bb.prototype,"stopSummary",[Td,Xn,GOe],Object.getOwnPropertyDescriptor(Bb.prototype,"stopSummary"),Bb.prototype),qn(Bb.prototype,"startMeetingQuery",[Td,Xn,qOe],Object.getOwnPropertyDescriptor(Bb.prototype,"startMeetingQuery"),Bb.prototype),qn(Bb.prototype,"stopMeetingQuery",[Td,Xn,KOe],Object.getOwnPropertyDescriptor(Bb.prototype,"stopMeetingQuery"),Bb.prototype),Bb);const RYe=xg({moduleEpics0:e=>Uo(e,8007).pipe(xn((n=>{var o;return((o=n.payload.body)===null||o===void 0?void 0:o.supported)!==void 0})),Do((n=>{const{supported:o}=n.payload.body;return dt(fO,{supported:o}),BBe(o)}))),moduleEpics1:(e,n)=>Uo(e,8008).pipe(xn((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.status)!==void 0})),us(n),pn((([o,i])=>{const{status:c}=o.payload.body,{summary:{summaryStatus:d}}=i,p=[];if(c!==d)switch(c){case RO.GW_IND_START:dt(fO,{status:SO.Start});break;case RO.GW_IND_PAUSE:dt(fO,{status:SO.Paused});break;case RO.GW_IND_STOP:dt(fO,{status:SO.Stopped});break;default:dt(fO,{status:""})}return p.push(FBe(c)),lo(p)}))),moduleEpics2:(e,n)=>Uo(e,8015).pipe(xn((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.supported)!==void 0})),us(n),Do((([o,i])=>{const{supported:c}=o.payload.body;dt(pO,{supported:c});const{meeting:{zlkJwtToken:d}}=i;if(d){const{auto_transcription:p}=CT(d);p&&(c?ta.createAgent().startMeetingQuery(!0):console.warn("You account don't support auto transcription"))}return VBe(c)}))),moduleEpics3:(e,n)=>Uo(e,8016).pipe(xn((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.status)!==void 0})),us(n),pn((([o,i])=>{const{status:c}=o.payload.body,{summary:{meetingQueryStatus:d}}=i,p=[];if(c!==d)switch(c){case kO.GW_IND_START:dt(pO,{status:CO.Start});break;case kO.GW_IND_PAUSE:dt(pO,{status:CO.Paused});break;case kO.GW_IND_STOP:dt(pO,{status:CO.Stopped});break;default:dt(pO,{status:""})}return p.push(HBe(c)),lo(p)})))});let wS=(function(e){return e[e.Init=0]="Init",e[e.Pending=1]="Pending",e[e.InProgress=2]="InProgress",e[e.Closing=3]="Closing",e[e.Closed=4]="Closed",e})({}),$ee=(function(e){return e[e.Start=1]="Start",e[e.Stop=2]="Stop",e})({});const kYe=Kf.getInstance();function O6(e){kYe.report(e,["Broadcast streaming"])}const ZOe={utk:"",status:wS.Init,channelId:"",channelName:"",isBroadcastStreamingEnable:!1},DYe=wm({[`${mBe}`]:(e,n)=>bt(e,(o=>{o.utk=n.payload})),[`${cz}`]:(e,n)=>bt(e,(o=>{const{channelId:i,channelName:c}=n.payload;o.channelId=i,o.channelName=c})),[`${Kye}`]:(e,n)=>bt(e,(o=>{o.status=n.payload})),[`${gBe}`]:(e,n)=>bt(e,(o=>{o.isBroadcastStreamingEnable=n.payload})),[`${vBe}`]:(e,{payload:n})=>n?{...e}:{...ZOe}},ZOe);var Yx;const YOe=ta.createAgent(),XOe=Np("Broadcast streaming");let MYe=(Yx=class extends VS{startBroadcast(){const{[rs]:e,[Mc]:n}=this,{broadcastStreaming:{isBroadcastStreamingEnable:o,status:i},meeting:{meetingNumber:c,topic:d,lang:p},breakoutRoom:v}=e();return o?v?.controlStatus===ci.InProgress&&Tg(e())?Promise.reject({type:bn,reason:"Cannot start broadcast in a breakout room.",errorCode:ht.BROADCAST_STREAMING_MISMATCH_STATE}):i===wS.Init||i===wS.Closed?(YOe.requestUserInfoToken(4,1),f6(Aa(vve,1).pipe(mi((S=>{const _=`https://${U6()}/live/createAndStartStream`,x=(function(B){return B.slice(0,128).padEnd(5,"*")})(d??""),P={meetingNumber:`${c}`,channelName:x};return Ov({url:_,method:"POST",headers:{utk:S,lang:p,"Content-Type":"application/json"},crossDomain:My(_),body:P}).pipe(_h(ST()),pn((B=>{const{status:H,errorCode:U,errorMessage:z,result:Z}=B.response;return H&&U===0?(n(cz({channelName:x,channelId:Z?.channelId,type:$ee.Start})),ni.set(rl.VIDEO_SDK_BROADCAST_STREAMING_CHANNEL_ID,Z?.channelId,Ca.SessionStorage),Promise.resolve(Z.channelId)):(O6(`Start broadcast streaming error: errorCode: ${U}; message:${z},tid:${(te=B.responseHeaders)===null||te===void 0?void 0:te["x-zm-trackingid"]}`),Promise.reject({type:Jh,errorCode:ht.INTERNAL_ERROR}));var te})),Cm((B=>(O6(`Start broadcast streaming error: ${B.name};${B.message}`),Promise.reject({type:Jh,errorCode:ht.INTERNAL_ERROR})))))}))))):Promise.reject({type:bn,reason:"Broadcast streaming is already in progress",errorCode:ht.BROADCAST_STREAMING_MISMATCH_STATE}):Promise.reject({type:bn,reason:"Broadcast streaming is not enabled",errorCode:ht.BROADCAST_STREAMING_ACCOUNT_DISABLE})}stopBroadcast(e){const{[rs]:n,[Mc]:o}=this,{broadcastStreaming:{status:i,utk:c,channelId:d,channelName:p},meeting:{meetingNumber:v,lang:S}}=n(),_=e||d;if(!_)return Promise.reject({type:ar,reason:"Channel ID is required to stop broadcast streaming",errorCode:ht.BROADCAST_STREAMING_INVALID_CHANNEL_ID});if(i===wS.InProgress){const x=`https://${U6()}/live/stopStream`,P={meetingNumber:`${v}`,channelId:_};let B=Promise.resolve(c);return c||(YOe.requestUserInfoToken(4,1),B=f6(Aa(vve,1))),B.then((H=>f6(Ov({url:x,method:"POST",headers:{utk:H,lang:S,"Content-Type":"application/json"},crossDomain:My(x),body:P}).pipe(_h(ST()),pn((U=>{const{status:z,errorCode:Z,errorMessage:te}=U.response;return z&&Z===0?(o(cz({channelName:p,channelId:_,type:$ee.Stop})),Promise.resolve(_)):(O6(`Stop broadcast streaming error: errorCode: ${Z}; message:${te}, tid:${(ce=U.responseHeaders)===null||ce===void 0?void 0:ce["x-zm-trackingid"]}`),Promise.reject({type:Jh,errorCode:ht.INTERNAL_ERROR}));var ce}))))))}return Promise.reject({type:bn,reason:"Broadcast streaming is not in progress",errorCode:ht.BROADCAST_STREAMING_MISMATCH_STATE})}getBroadcastStreamingStatus(){const{[rs]:e}=this,{broadcastStreaming:{status:n,channelId:o}}=e();return{status:n,channelId:o}}isBroadcastStreamingEnable(){const{[rs]:e}=this,{broadcastStreaming:{isBroadcastStreamingEnable:n}}=e();return n}},qn(Yx.prototype,"startBroadcast",[Xn,Td,XOe],Object.getOwnPropertyDescriptor(Yx.prototype,"startBroadcast"),Yx.prototype),qn(Yx.prototype,"stopBroadcast",[Xn,Td,XOe],Object.getOwnPropertyDescriptor(Yx.prototype,"stopBroadcast"),Yx.prototype),Yx);const PYe=xg({epics0:e=>e.pipe(Qo(`${Mv}`),pn((n=>{const{payload:{enableVsdkInteractiveLiveStream:o}}=n,i=[];i.push(gBe(!!o));const c=ni.get(rl.VIDEO_SDK_BROADCAST_STREAMING_CHANNEL_ID);return c&&i.push(cz({channelId:c})),lo(i)}))),epics1:e=>Uo(e,4310).pipe(pn((n=>{const{payload:{body:o}}=n,i=[];if(o?.type===4){const{utk:c}=o;i.push(mBe(c)),dt(vve,c)}return lo(i)}))),epics2:(e,n)=>Uo(e,7995).pipe(pn((o=>{const{payload:{body:{status:i}}}=o,{broadcastStreaming:{status:c}}=n.value,d=[];return i&&c!==wS.InProgress&&(d.push(Kye(wS.InProgress)),dt(yve,{status:wS.InProgress})),lo(d)}))),epics3:(e,n)=>e.pipe(Qo(`${cz}`),xn((o=>!!o.payload.type)),mi((o=>{const i=`https://${U6()}/live/getStreamState`,{broadcastStreaming:{utk:c},meeting:{meetingNumber:d}}=n.value,{payload:{channelId:p,type:v}}=o,S={meetingNumber:`${d}`,channelId:p};return mwe((()=>Ov({url:i,method:"POST",headers:{utk:c,"Content-Type":"application/json"},crossDomain:My(i),body:S}))).pipe((_=P=>{const{status:B,errorCode:H,result:U}=P.response;if(B&&H===0){const z=v===$ee.Start?wS.InProgress:wS.Closed;if(U?.state===z)return qa(P)}return mwe((()=>Ov({url:i,method:"POST",headers:{utk:c,"Content-Type":"application/json"},crossDomain:My(i),body:S}))).pipe(eMe((()=>wu(1e3))))},x===void 0&&(x=1/0),x=(x||0)<1?1/0:x,Qd((function(P,B){return XDe(P,B,_,x,0,!0,void 0)}))),_h(ST()),t2((P=>{const{status:B,errorCode:H,result:U,errorMessage:z}=P.response;if(B&&H===0){const te=v===$ee.Start?wS.InProgress:wS.Closed;return U?.state!==te}var Z;return O6(`Query broadcast streaming status failed. errorCode: ${H}, errorMessage: ${z},tid:${(Z=P.responseHeaders)===null||Z===void 0?void 0:Z["x-zm-trackingid"]}`),!1}),!0),H0e(6e4),pn((P=>{const{status:B,errorCode:H,result:U}=P.response,z=[];return B&&H===0&&(dt(yve,{status:U.state}),z.push(Kye(U.state))),z})),Cm((P=>(O6(`Query broadcast streaming status failed. error: ${P.name}; ${P.message}`),Po))));var _,x})))});var H5;const NYe={chat:{epic:oZe,reducer:eZe,Client:tZe},logger:{epic:NZe,reducer:kZe,Client:class extends VS{getLogs(e){return Ok.getLogs(this[dc],e)}getStore(){return Ok.doNotUseDirtyGetStore()}setLogOptions(e){e&&this[dc].dispatch(Y1e(e))}isAutoReportInAccountSettingEnabled(){const{meeting:{zlkJwtToken:e,enableAutoLog:n,collectionToggleEnable:o,zsk:i}}=this[dc].getState();return!!e||(i?n&&o:n)}reportMeetingProblem(e){var n;const{product:o,problem:i,timeOfOccurrence:c,description:d,ticket:p,isLogIncluded:v}=e,{meeting:{userId:S,confId:_,conId:x,svcUrl:P}}=this[dc].getState(),B=`'product':${o}
'problem':${i}
'timeOfOccurrence':${c}
'description':${d}
'ticketID':${p}
'isLogIncluded':${v?"Logs included":""}
'nodeId':${S}
'confId':${_}
'conId':${x}
'svcUrl':${P}`,H=["REPORT_NOTIFICATION"];return(n=Ok.makeLogger(H).logWithExtraProperties("",{IM_NOTIFICATION:`${B}
TrackingId:${Ok.trackingId}`}))===null||n===void 0?void 0:n.then((()=>{Ok.reportToGlobalTracing(v?void 0:H,!0)}))}reportToGlobalTracing(e){return RZe.beforeReportToGlobalTracing(),Ok.reportToGlobalTracing(e,!0)}reportRating(e,n){const{meeting:o,media:i,socket:c}=this[dc].getState();if(o){var d,p,v,S;const{zlkJwtToken:_,meetingStatus:x}=o,{assetsPath:P,enforceMultipleVideos:B,enforceVirtualBackground:H,disableRenderLimits:U}=i;Ok.report(`rating:${e}, feedback:${n}, appKey:${_?(d=CT(_))===null||d===void 0?void 0:d.app_key:""}, CPU:${navigator.hardwareConcurrency}, GPU:${(p=is.gpu)!==null&&p!==void 0?p:""}, browser:${is.browser} ${is.browserVersion}, OS:${is.os} ${is.osVersion}, SharedArrayBuffer:${!!is.isSupportSharedArrayBuffer},
         OffscreenCanvas:${!!is.isSupportOffscreenCanvas},
         assetPath:${P},
          enforceMultipleVideos:${B},
          disableRenderLimits:${U},
          enforceVirtualBackground:${H}, ${x===Th.Joined?`session duration:${Math.floor((performance.now()-((v=o?.pingRWCTimestamp)!==null&&v!==void 0?v:0))/1e3)}, rwg:${c==null||(S=c.rwgServerList)===null||S===void 0||(S=S[c.retryCount])===null||S===void 0?void 0:S.rwg}, failover count:${o?.failover.count}`:""}`,"User Rating","info"),Number(e)<=2&&this.reportToGlobalTracing()}return Promise.resolve()}}},recording:{epic:HZe,reducer:BZe,Client:FZe},cmd:{epic:GZe,reducer:zZe,Client:jZe},breakoutRoom:{epic:vYe,reducer:eYe,Client:pYe},liveTranscription:{epic:wYe,reducer:SYe,Client:CYe},liveStream:{epic:AYe,reducer:_Ye,Client:TYe},summary:{epic:RYe,reducer:OYe,Client:IYe},broadcastStreaming:{epic:PYe,reducer:DYe,Client:MYe}},LYe=ta.createAgent();let BYe=(H5=class extends zKe{constructor(e){super(e),this.mediaStream=void 0,this[CQ]=NYe}getMediaStream(){return this.mediaStream===void 0&&(this.mediaStream=new QZe(this[dc])),this.mediaStream}joinInstant(e,n,o,i,c,d){const{[rs]:p,[Mc]:v}=this,{meeting:{lang:S,meetingStatus:_},socket:{zoomSocketStatus:x}}=p();return n?_!==Th.Joined&&x===Fa.Closed?(v(a4({topic:e?.toLowerCase(),password:c||"",userName:o,zlk:n,lang:S,cv:i})),d&&v(SLe(d)),Jx(cWe.JoinMeeting)):Promise.reject({type:bn,reason:"duplicated operation",errorCode:ht.CLIENT_DUPLICATED_JOIN}):Promise.reject({type:ar,reason:"invalid  signature",errorCode:ht.CLIENT_INVALID_JOIN_PARAMETER})}removeUser(e){const n=this[dc].getState(),{participants:{attendeesList:o},breakoutRoom:i}=n,c=o.find((d=>d.userId===e));if(c){let d=e;if(i?.controlStatus===ci.InProgress&&Tg(n)){const p=i.mainSessionAttendeeList.find((v=>v.userGUID===c?.userGUID));p&&(d=p.userId)}return LYe.expel(d),Cr(z0e,(p=>p.some((v=>v.userId===e))))}return Promise.reject({type:ar,reason:"no matched user",errorCode:ht.CLIENT_MISMATCH_USER})}},qn(H5.prototype,"removeUser",[yu,Xn],Object.getOwnPropertyDescriptor(H5.prototype,"removeUser"),H5.prototype),H5);function I6(e){return I6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},I6(e)}function FYe(e,n,o){return(n=(function(i){var c=(function(d,p){if(I6(d)!="object"||!d)return d;var v=d[Symbol.toPrimitive];if(v!==void 0){var S=v.call(d,p);if(I6(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)})(i,"string");return I6(c)=="symbol"?c:c+""})(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function JOe(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable}))),o.push.apply(o,i)}return o}function QOe(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?JOe(Object(o),!0).forEach((function(i){FYe(e,i,o[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):JOe(Object(o)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))}))}return e}function mg(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var eIe=typeof Symbol=="function"&&Symbol.observable||"@@observable",Gme=function(){return Math.random().toString(36).substring(7).split("").join(".")},Uee={INIT:"@@redux/INIT"+Gme(),REPLACE:"@@redux/REPLACE"+Gme(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Gme()}};function $Be(e,n,o){var i;if(typeof n=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(mg(0));if(typeof n=="function"&&o===void 0&&(o=n,n=void 0),o!==void 0){if(typeof o!="function")throw new Error(mg(1));return o($Be)(e,n)}if(typeof e!="function")throw new Error(mg(2));var c=e,d=n,p=[],v=p,S=!1;function _(){v===p&&(v=p.slice())}function x(){if(S)throw new Error(mg(3));return d}function P(H){if(typeof H!="function")throw new Error(mg(4));if(S)throw new Error(mg(5));var U=!0;return _(),v.push(H),function(){if(U){if(S)throw new Error(mg(6));U=!1,_();var z=v.indexOf(H);v.splice(z,1),p=null}}}function B(H){if(!(function(Z){if(typeof Z!="object"||Z===null)return!1;for(var te=Z;Object.getPrototypeOf(te)!==null;)te=Object.getPrototypeOf(te);return Object.getPrototypeOf(Z)===te})(H))throw new Error(mg(7));if(H.type===void 0)throw new Error(mg(8));if(S)throw new Error(mg(9));try{S=!0,d=c(d,H)}finally{S=!1}for(var U=p=v,z=0;z<U.length;z++)(0,U[z])();return H}return B({type:Uee.INIT}),(i={dispatch:B,subscribe:P,getState:x,replaceReducer:function(H){if(typeof H!="function")throw new Error(mg(10));c=H,B({type:Uee.REPLACE})}})[eIe]=function(){var H,U=P;return(H={subscribe:function(z){if(typeof z!="object"||z===null)throw new Error(mg(11));function Z(){z.next&&z.next(x())}return Z(),{unsubscribe:U(Z)}}})[eIe]=function(){return this},H},i}function UBe(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return n.length===0?function(i){return i}:n.length===1?n[0]:n.reduce((function(i,c){return function(){return i(c.apply(void 0,arguments))}}))}const yS=ta.createAgent(),VYe=Kf.getInstance();let kk,tIe;const HYe=ta.createAgent();let wv=null;var nIe,oIe={exports:{}},$Ye=(nIe||(nIe=1,oIe.exports=(function(){function e(i){var c=new Date,d="";return i&&(d+="".concat(c.getMonth()+1,"/").concat(c.getDate(),"/").concat(c.getFullYear()," ")),"[".concat(d).concat(c.getHours(),":").concat(c.getMinutes(),":").concat(c.getSeconds(),".").concat(c.getMilliseconds(),`]:
`)}var n=function(i,c){var d={mode:"cors"};return c&&Object.assign(d,{signal:c}),Promise.any(i.map((function(p){return(function(v,S,_,x){function P(B){return B instanceof _?B:new _((function(H){H(B)}))}return new(_||(_=Promise))((function(B,H){function U(te){try{Z(x.next(te))}catch(ce){H(ce)}}function z(te){try{Z(x.throw(te))}catch(ce){H(ce)}}function Z(te){te.done?B(te.value):P(te.value).then(U,z)}Z((x=x.apply(v,[])).next())}))})(void 0,0,void 0,(function(){var v,S,_,x,P;return(function(B,H){var U,z,Z,te,ce={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return te={next:se(0),throw:se(1),return:se(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function se(Ce){return function(Te){return Se([Ce,Te])}}function Se(Ce){if(U)throw new TypeError("Generator is already executing.");for(;ce;)try{if(U=1,z&&(Z=2&Ce[0]?z.return:Ce[0]?z.throw||((Z=z.return)&&Z.call(z),0):z.next)&&!(Z=Z.call(z,Ce[1])).done)return Z;switch(z=0,Z&&(Ce=[2&Ce[0],Z.value]),Ce[0]){case 0:case 1:Z=Ce;break;case 4:return ce.label++,{value:Ce[1],done:!1};case 5:ce.label++,z=Ce[1],Ce=[0];continue;case 7:Ce=ce.ops.pop(),ce.trys.pop();continue;default:if(!((Z=(Z=ce.trys).length>0&&Z[Z.length-1])||Ce[0]!==6&&Ce[0]!==2)){ce=0;continue}if(Ce[0]===3&&(!Z||Ce[1]>Z[0]&&Ce[1]<Z[3])){ce.label=Ce[1];break}if(Ce[0]===6&&ce.label<Z[1]){ce.label=Z[1],Z=Ce;break}if(Z&&ce.label<Z[2]){ce.label=Z[2],ce.ops.push(Ce);break}Z[2]&&ce.ops.pop(),ce.trys.pop();continue}Ce=H.call(B,ce)}catch(Te){Ce=[6,Te],z=0}finally{U=Z=0}if(5&Ce[0])throw Ce[1];return{value:Ce[0]?Ce[1]:void 0,done:!0}}})(this,(function(B){switch(B.label){case 0:return B.trys.push([0,3,,4]),[4,fetch(p.url,d)];case 1:if(!(v=B.sent()).ok)throw new Error("HTTP error! status: ".concat(v.status));return[4,v.json()];case 2:return S=B.sent(),_=v.headers.get("call-id"),[2,{response:S,server:p,callId:_}];case 3:throw x=B.sent(),P="server: ".concat(p.domain,", message: ").concat(x.message),new Error(P);case 4:return[2]}}))}))}))).catch((function(p){var v="";return p instanceof AggregateError&&p.errors.forEach((function(S,_){v+="".concat(S.message,`
`)})),Promise.reject(v)}))},o=(function(){function i(){this.MAX_RETRY_TIMES=5}return i.prototype.setRetryTimes=function(c){c===void 0&&(c=5),this.MAX_RETRY_TIMES=c},i.prototype.init=function(c){this.serverList=c,this.delayTime=Array.from(new Set(this.serverList.map((function(d){return d.dl})))),this.excludedServer=[],this.tryTimes=1,this.log="".concat(e(),"initial server list: ").concat(JSON.stringify((function(d){return d.map((function(p){return{domain:p.domain,dl:p.dl,dc:p.dc}}))})(this.serverList)),`
`)},i.prototype.ping=function(c){return this.init(c),this.tryPing()},i.prototype.retry=function(){return this.tryTimes+=1,this.filter(),this.serverList.length===0||this.MAX_RETRY_TIMES>0&&this.tryTimes>this.MAX_RETRY_TIMES?Promise.reject(`no usable RWC any more:
`.concat(this.log)):this.tryPing()},i.prototype.cancelPing=function(){this.abortPingController&&(this.abortPingController.abort(),this.abortPingController=void 0)},i.prototype.tryPing=function(){var c,d=this;this.cancelPing(),this.log+="".concat(e(!0),"Try Times: ").concat(this.tryTimes,`
`),this.abortPingController=(function(){if(typeof AbortController=="function")return new AbortController})();var p=(c=this.abortPingController)===null||c===void 0?void 0:c.signal;return new Promise((function(v,S){var _=d.delayTime.reduce((function(B,H){return B+H}),0),x=setTimeout((function(){d.log+="ping time out ".concat(_+1e4,`s
`),d.serverList=[],d.cancelPing()}),_+1e4),P=(function(B){var H=B.reduce((function(U,z){var Z=z.dl;return U[Z]||(U[Z]=[]),U[Z].push(z),U}),{});return Object.entries(H).map((function(U){var z,Z=U[0],te=U[1];return[(z=Number(Z))!==null&&z!==void 0?z:0,te]})).sort((function(U,z){return U[0]-z[0]})).map((function(U){return U[0],U[1]}))})(d.serverList);Promise.any(P.map((function(B,H){var U=d.delayTime[H];return(function(z,Z,te){return new Promise((function(ce,se){var Se;if(te?.aborted)return se(new Error("Promise was cancelled"));var Ce=setTimeout((function(){z().then(ce).catch(se).finally((function(){var V;return(V=te?.removeEventListener)===null||V===void 0?void 0:V.call(te,"abort",Te)}))}),Z),Te=function(){var V;clearTimeout(Ce),(V=te?.removeEventListener)===null||V===void 0||V.call(te,"abort",Te),se(new Error("Promise was cancelled"))};(Se=te?.addEventListener)===null||Se===void 0||Se.call(te,"abort",Te)}))})((function(){return d.log+="".concat(e(),"ping[dl=").concat(U,"][groupIndex=").concat(H,"]-->").concat(JSON.stringify(B.map((function(z){return z.domain}))),`
`),n(B,p)}),U,p)}))).then((function(B){var H=B.response,U=B.server,z=B.callId;d.log+="".concat(e(),"ping resolved: request server:").concat(U.domain,`
 response:`).concat(JSON.stringify(H),`
 Call-ID:`).concat(z,`
`),d.lastServer=U,v({response:H,request:U,log:d.log})})).catch((function(B){return B instanceof AggregateError?(d.log+=e(),B.errors.forEach((function(H,U){d.log+="ping failed [groupIndex=".concat(U,`]:
`).concat(H,`
`)}))):d.log+="".concat(e(),"ping failed. Errors(unknown): ").concat(B.message,`
`),S(d.log)})).finally((function(){clearTimeout(x),d.cancelPing()}))}))},i.prototype.filter=function(){var c,d=this;this.serverList=this.serverList.filter((function(p){var v;return p.domain!==d.lastServer.domain&&p.dc!==c||(c||(c=(v=d.excludedServer.find((function(S){return S.dc===d.lastServer.dc})))===null||v===void 0?void 0:v.dc),d.excludedServer.push(d.lastServer),!1)})),this.log+="".concat(e(),"excludedServer ").concat(JSON.stringify(this.excludedServer.map((function(p){return p.domain}))),`
`)},i.prototype.getLog=function(){return this.log},i})();return new o})()),oIe.exports),x2=Tte($Ye);const rbe=Kf.getInstance();x2.setRetryTimes(0);const zBe=e=>$O(_h(ST().pipe(Yo((()=>{x2.cancelPing(),rbe.report(`ping rwc canceled. ping rwc log:${x2.getLog()}`,["Join Meeting Flow","Ping RWC Error"],"warn")})))),pn((n=>{const{response:o,request:i}=n;let c={};return c=o?{...o,rwc:i.domain,fromNginx:!1}:{rwc:i.domain,rwg:i.domain,rwcToken:i.rwcToken,fromNginx:!0},lo([kLe(c),eye()])})),Cm((()=>{const n=x2.getLog(),{meeting:{meetingId:o,meetingNumber:i,userName:c}}=e.value;return rbe.report(`ping rwc error,${JSON.stringify({meetingId:o,meetingNumber:zf(i),userName:zf(c)})}, ping rwc log: ${n}`,["Join Meeting Flow","Ping RWC Error"],"error"),dt(Xu,{reason:"connection error",errorCode:dE.CommonError}),lo([...u3(e.value)])}))),sIe=(e,n)=>e.pipe(Qo(`${g1e}`),us(n),xn((([,o])=>o.meeting.encryptedRWC!==void 0||o.meeting.encryptedGEORWC!==void 0&&o.meeting.encryptedGEORWC.length>0)),mi((([,o])=>lo(x2.ping((i=>{const{meeting:{encryptedRWC:c,encryptedGEORWC:d,meetingOptions:p,meetingNumber:v,ts:S,auth:_},breakoutRoom:x,video:P,audio:B}=i,H=p?.isEnableGeoFenceRWC,U=P!=null&&P.isWebrtcVideoCapable||B!=null&&B.isWebRtcAudioCapable&&B?.webRtcAudioMode&R7e.WebRTCAudio2?P?.miniRwgOptionValue:0;return H&&d&&d?.length>0?d.map((z=>{const{dc:Z,dl:te,rwc:ce,rwcToken:se}=z;return{url:WTe(ce,v,se,S,_,x?.currentRoom.boConfId,U),domain:ce,rwcToken:se,dl:te,dc:Z}})):c?Object.keys(c).map((z=>{const Z=c[z];return{url:WTe(z,v,Z,S,_,x?.currentRoom.boConfId,U),domain:z,rwcToken:Z,dl:0,dc:"AP"}})):[]})(o))).pipe(zBe(n),o1(hLe(performance.now()))))));let rIe=0;const UYe=Kf.getInstance(),qme={meetingStatus:Th.Initial,isWindowOpen:!1,apiKey:"",signature:"",signatureType:"",lang:"en-US",tk:"",customerKey:"",mtkGuid:"",pingRWCTimestamp:0,meetingInfoTimestamp:0,passWord:"",meetingNumber:0,userName:"",userEmail:"",sdkUrl:"",sdkOrigin:"",proxy:1,cv:"",meetingId:"",tid:"",ts:"",auth:"",sign:"",isSupportCallOut:!1,tollNumbers:void 0,recordingEnable:!1,callOutCountry:void 0,inviteEmail:"",xmppConfig:null,isSupportH323:!1,h323GatewayInfo:"",h323Password:"",trackAuth:"",isOriginHost:!1,isWebinar:!1,encryptedRWC:void 0,meetingOptions:{},meetingTopic:"",bLock:!1,bHoldUponEntry:!1,viewOnly:0,listenOnlyPhone:0,bAllowRaiseHand:!1,bAllowAttendeeRename:!1,bBroadcast:void 0,bAllowPlayChimeForEnterOrExit:!1,bIbDisableShare:!1,bIbDisableChat:!1,bAllowShowCount:!1,encryptKey:"",bNoHostTimeOut:!1,confId:"",conId:"",e2eEncrypt:!1,zoomId:"",jid:"",xtoken:"",groups:void 0,svcUrl:"",encType:NaN,userGUID:"",userId:NaN,isHost:!1,isCoHost:!1,participantID:0,isOnHold:!1,isMeetingReset:!1,bRecord:!1,audioVideoBeforeOnHold:void 0,region:void 0,network:void 0,joinMeetingTimeStamp:0,activeAppInfo:void 0,recordingDisclaimerForRecorder:{},recordingDisclaimer:{},ccUrl:"",sessionIdleTimeoutMins:40,reportDomain:"",discardedRwcList:[],sharePronounType:void 0,stayAwake:!1,wrInfo:{},meetingInfo:{},isNewJoinFlow:!1,gatewayUserList:[],logConfig:"",logEncryptionPubKey:"",failover:{count:0,isCurrentFailoverRecorded:!1,reason:-1,interval:0,joinMeetingSuccessTimestamp:0,sequence:""},isUseWBVideo:!1,isUseWBAudio:!1,enableLongPollingCheckStart:!1,rsPwd:"",chatModerationPolicy:{},isAlternativeHost:!1,isAssistant:!1,isRlbTP:!1,isRlbTPReady:!1,isUIToolkit:!1,liveStreamInfo:{}},zYe=wm({[`${Mv}`]:bt(((e,{payload:n})=>{n.customerKey=e.customerKey||n.customerKey||"",Object.assign(e,n),e.meetingStatus=Th.Initial})),[`${qGe}`]:bt(((e,{payload:n})=>{n.customerKey=e.customerKey||n.customerKey||"",Object.assign(e,n)})),[`${KGe}`]:bt(((e,{payload:n})=>{e.isWindowOpen=n})),[`${dLe}`]:bt(((e,{payload:n})=>{n.useSDK?e.signatureType="sdk":e.signatureType="api",e.apiKey=n.apiKey,e.signature=n.signature,e.lang=n.language})),[`${ZGe}`]:bt(((e,{payload:n})=>{e.ztk=n})),[`${YGe}`]:bt(((e,{payload:n})=>{e.zsk=n})),[`${XGe}`]:bt(((e,{payload:n})=>{e.tk=n.tk,e.mtkGuid=n.mtkGuid})),[`${hLe}`]:bt(((e,{payload:n})=>{e.pingRWCTimestamp=n})),[`${ALe}`]:bt(((e,{payload:n})=>{e.meetingInfoTimestamp=n})),[`${AE}`]:bt(((e,{payload:n})=>{e.confId=n.confID,e.conId=n.conID,e.e2eEncrypt=n.e2eEncrypt,e.meetingNumber=parseInt(n.mn,10),e.zoomId=n.zoomID,e.meetingStatus=Th.Joined,e.jid=n.jid,e.xtoken=n.xtoken,e.groups=n.groups,e.svcUrl=n.svcUrl,e.encType=n.encType,e.userGUID=n.userGUID,e.userId=n.userID,e.role=n.role,e.participantID=n.participantID,e.reportDomain=n.reportDomain,e.abToken=n.ABtoken,e.supportLocalAB=!!n.supportLocalAB,e.isUseWBVideo=!!n.useWBVideo,e.mediasdkConfig=n.mediasdkConfig,e.isUseWBAudio=!!n.useWBAudio,n.enableWebTransport&&(e.enableWebtransport=n.enableWebTransport,e.webtransportPort=n.WebTransportPort)})),[`${lee}`]:bt(((e,{payload:n})=>{if(n.gatewayUser){var o;const{userId:c,sn:d}=n.gatewayUser,p=(o=e.gatewayUserList)===null||o===void 0?void 0:o.find((v=>v.userId===c));var i;p?p.sn=d:(i=e.gatewayUserList)===null||i===void 0||i.push(n.gatewayUser)}else Object.assign(e,n)})),[`${fLe}`]:bt(((e,{payload:n})=>{e.isHost=n})),[`${pLe}`]:bt(((e,{payload:n})=>{e.isCoHost=n})),[`${l3}`]:bt(((e,{payload:n})=>{e.isOnHold=n})),[`${mLe}`]:bt(((e,{payload:n})=>{e.isMeetingReset=n})),[`${gLe}`]:bt(((e,{payload:n})=>{e.audioVideoBeforeOnHold=n})),[`${Xve}`]:bt(((e,{payload:n})=>{e.currentUserAudioBeforeReset=n})),[`${Jve}`]:bt(((e,{payload:n})=>{e.isCurrentUserMutedBeforeReset=n})),[`${v1e}`]:bt(((e,{payload:n})=>{e.meetingStatus=n})),[`${vLe}`]:bt(((e,{payload:n})=>{e.region=n.region,e.network=n.network})),[`${yLe}`]:bt(((e,{payload:n})=>{e.isCurrentUserStartVideoBeforeReset=n})),[`${bLe}`]:bt(((e,{payload:n})=>{e.joinMeetingTimeStamp=n})),[`${JGe}`]:bt(((e,{payload:n})=>{e.activeAppInfo=n})),[`${Y5}`]:bt(((e,{payload:n})=>{e.idleStartTime=n})),[`${SLe}`]:bt(((e,{payload:n})=>{e.sessionIdleTimeoutMins=n})),[`${QGe}`]:bt(((e,{payload:n})=>{var o;const i=(o=e.encryptedGEORWC)===null||o===void 0||(o=o.find((d=>d.rwc===n)))===null||o===void 0?void 0:o.dc;if(i){var c;const d=(c=e.encryptedGEORWC)===null||c===void 0?void 0:c.filter((p=>p.dc===i));d&&e.discardedRwcList.some((p=>d?.findIndex((v=>v.rwc===p))>=0))&&e.discardedRwcList.push(...d.map((p=>p.rwc))),e.discardedRwcList.push(n)}})),[`${CLe}`]:bt(((e,{payload:n})=>{e.sharePronounType=n})),[`${ELe}`]:bt(((e,{payload:n})=>{e.stayAwake=n})),[`${wLe}`]:bt(((e,{payload:n})=>{e.failover.joinMeetingSuccessTimestamp=n})),[`${_Le}`]:bt((e=>{Object.assign(e.failover,{...qme.failover,count:e.failover.count,joinMeetingSuccessTimestamp:e.failover.joinMeetingSuccessTimestamp})})),[`${cee}`]:bt(((e,{payload:n})=>{const{count:o,reason:i,interval:c,sequence:d}=n;e.failover.count=o,e.failover.reason=i,e.failover.interval=c,e.failover.isCurrentFailoverRecorded=!0,e.failover.sequence=d})),[`${TLe}`]:bt(((e,{payload:n})=>{e.quicklyLeave=n})),[`${xLe}`]:bt(((e,{payload:n})=>{e.isEnableZmkFromRWG=n})),[`${EJ}`]:bt(((e,{payload:n})=>{e.isRlbTP=n})),[`${OLe}`]:bt(((e,{payload:n})=>{e.isRlbTPReady=n})),[`${uLe}`]:bt(((e,{payload:n})=>{e.isUIToolkit=n})),[`${Yve}`]:(e,{payload:n})=>{const{isFailover:o}=n,i={isMeetingReset:!0,apiKey:e.apiKey,signatureType:e.signatureType,signature:e.signature,lang:e.lang,proxy:1,stayAwake:e.stayAwake};var c;return o&&Object.assign(i,{currentUserAudioBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.audio:n.audio,isCurrentUserMutedBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.muted:(c=e.isCurrentUserMutedBeforeReset)!==null&&c!==void 0?c:n.muted,isCurrentUserStartVideoBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.video:n.video,meetingNumber:e.meetingNumber,userName:e.userName,passWord:e.passWord,userEmail:e.userEmail,sdkUrl:e.sdkUrl,sdkOrigin:e.sdkOrigin,cv:e.cv,zsk:e.zsk,ztk:e.ztk,idleStartTime:e.idleStartTime,sessionIdleTimeoutMins:e.sessionIdleTimeoutMins,customerKey:e.customerKey,failover:e.failover,stayAwake:e.stayAwake,quicklyLeave:e.quicklyLeave}),{...qme,...i}}},qme),jYe={meetingFailoverReportEpic0:(e,n)=>e.pipe(Qo(`${Mv}`),mi((()=>{const o=n.value.meeting.failover.joinMeetingSuccessTimestamp===0&&!!ni.get(rl.WebclientZoomId);return e.pipe(Qo(`${AE}`),Jr(1),pn((()=>{const i=[],{count:c,sequence:d}=ni.get(rl.WebclientFailoverCount)||{};let{meeting:{failover:{count:p,reason:v,interval:S}}}=n.value;const{meeting:{pingRWCTimestamp:_}}=n.value;if(o){p=(c??0)+1,v=ef.RefreshPage,S=0;const B=d?`${d}-${v}`:`${v}`;ni.set(rl.WebclientFailoverCount,{count:p,sequence:B},Ca.SessionStorage),i.push(cee({count:p,reason:v,interval:S,sequence:B}))}const x=performance.now();let P=`WCL_M, JMCT(${x-_})`;return p>0&&v!==ef.NormalCase&&(P=`${P},FAILOVER(${p},${v},${(S/1e3).toFixed(1)})`),HYe.sendRWGConnectionPerformance(P),i.push(_Le(),wLe(x)),lo(i)})))}))),meetingFailoverReportEpic1:(e,n)=>e.pipe(Qo(`${wg}`),pn((o=>{const{payload:i}=o,{meeting:{failover:{joinMeetingSuccessTimestamp:c,isCurrentFailoverRecorded:d},userGUID:p,userId:v,meetingId:S}}=n.value,_=[];if(!d){let{count:x,sequence:P}=ni.get(rl.WebclientFailoverCount)||{};P=P?`${P}-${i}`:`${i}`,i!==ef.NormalCase&&(x+=1,ni.set(rl.WebclientFailoverCount,{count:x,sequence:P},Ca.SessionStorage));const B=performance.now()-c;_.push(cee({reason:i,count:x,interval:B,sequence:P,userGUID:p,userId:v,meetingId:S}))}return lo(_)})))},WYe={sessionIdleEpic0:(e,n)=>e.pipe(Qo(`${AE}`),us(n),xn((([,o])=>o.meeting.zlkJwtToken!==void 0)),mi((()=>(kk&&kk.complete(),kk=new J0,tIe=W6(6e4).pipe(Do((()=>performance.now()))).subscribe(kk),kk.pipe(Do((o=>Z_e(o)))))))),sessionIdleEpic1:e=>e.pipe(Qo(`${qb}`)).pipe(Yo((()=>{kk&&(kk.complete(),tIe.unsubscribe())})),Da(Po)),sessionIdleEpic2:(e,n)=>e.pipe(Qo(`${Z_e}`),us(n),pn((([o,i])=>{var c;const{meeting:{idleStartTime:d,sessionIdleTimeoutMins:p,isOriginHost:v,isWebinar:S},participants:{attendeesList:_,xmppAttendeeList:x},recording:P,breakoutRoom:B}=i,H=o.payload,U=[];if(_.length!==1||S&&x.length!==0||(B==null||(c=B.currentRoom)===null||c===void 0?void 0:c.status)===cr.InRoom||P?.cmrStatus===_d.Start)U.push(Y5(void 0));else if(d){const z=v&&K6(_[0].userRole)?p:40;H-d>60*z*1e3&&(console.warn(`No active for ${z} minutes, will end the session.`),VYe.report(`Session idle timeout(${z} minutes), end the session automatically!`,["Join Meeting Flow","Session idle"],"warn"),U.push(l4()),wu(500).subscribe((()=>{s1e()})))}else U.push(Y5(H));return lo(U)}))),sessionIdleEpic3:(e,n)=>e.pipe(Qo(`${K2}`),xn((o=>[Ul,Wb].includes(o.payload.evt)&&n.value.meeting.idleStartTime!==void 0)),Ju(Dv),pn((()=>{var o;const{participants:{attendeesList:i,xmppAttendeeList:c},recording:d,breakoutRoom:p}=n.value,v=[];return(i.length>1||c.length>0||d?.cmrStatus===_d.Start||(p==null||(o=p.currentRoom)===null||o===void 0?void 0:o.status)===cr.InRoom)&&v.push(Y5(void 0)),lo(v)}))),sessionIdleEpic4:e=>e.pipe(Qo(`${V2}`,`${l4}`),M2(Y5(void 0)))},GYe={meetingMainEpics0:(e,n)=>Uo(e,0).pipe(Yo((o=>{var i;if(((i=o.payload.body)===null||i===void 0?void 0:i.status)==="READY"){const{meeting:{zlkJwtToken:c,signatureType:d,sign:p,passWord:v,isHost:S,isOriginHost:_,ztk:x,zsk:P,tk:B,userEmail:H},breakoutRoom:U}=n.value,z=c?{zlkJwtToken:c}:{signType:d,sign:p};if(v&&v!==""&&(c?Object.assign(z,{mpwd:bu(v)}):S&&_||Object.assign(z,{mpwd:v})),U?.currentRoom.status===cr.Joining){const{currentRoom:{boId:te,boConfId:ce,boToken:se}}=U;te&&ce&&se&&Object.assign(z,{botk:se})}if(!c){x&&Object.assign(z,{zak:x}),(sessionStorage.getItem(rl.WebclientZsk)||P)&&Object.assign(z,{zak:P}),B&&Object.assign(z,{tk:B});const te=ni.get(rl.WebclientWebinarToken);te!==void 0&&Object.assign(z,{tk:te});const ce=sessionStorage.getItem(rl.WebclientRecordingToken);ce&&Object.assign(z,{localRecordToken:ce}),H&&Object.assign(z,{email:H})}yS.sendLaunchParams(z);const Z=ni.get(rl.WebclientMeetingToken);Z&&yS.joinMeeting(Z)}})),Da(Po)),meetingMainEpics1:(e,n)=>{return Uo(e,Rte).pipe(us(n),xn((([,i])=>i.socket.zoomSocketStatus===Fa.Connected)),(o=([i,c])=>{const{payload:{body:{res:d,userID:p,zoomID:v,mn:S,participantID:_,meetingtoken:x,role:P}}}=i,{meeting:{userEmail:B,userName:H,isMeetingReset:U,apiKey:z,zsk:Z,signatureType:te}}=c;if(Ry.Success===d){const{WebclientParticipantId:se,WebclientZoomId:Se,WebclientUserEmail:Ce,WebclientUserName:Te,WebclientMeetingToken:V}=rl;ni.set(Se,v,Ca.SessionStorage),ni.set(se,_,Ca.SessionStorage),B&&ni.set(Ce,B,Ca.SessionStorage),ni.set(Te,H,Ca.SessionStorage),x&&ni.set(V,x,Ca.SessionStorage),Z&&yS.sendSdkKeyToMonitor(te,z,p);const ke=[AE(i.payload.body),bLe(performance.now())];return U&&ke.push(mLe(!1)),(P&N2.Owner)===N2.Owner&&(dt(Xu,{reason:"dont support assisnt join through widget",errorCode:-1}),yS.leaveMeeting()),dt(oMe,{meetingNumber:S}),lo(ke)}if(Ry.MeetingLocked===d)dt(Xu,cE(d));else if(Ry.UserFull===d)dt(Xu,Object.assign({},cE(d),{lmUrl:i.payload.body.lmURL}));else if(Ry.MeetingIsOver===d)dt(Xu,cE(d));else if(Ry.MMRIBReject===d)dt(Xu,cE(d));else if(Ry.MMRConfParticipantExists===d)dt(Xu,cE(d));else if([Ry.UserHasBeenRemoved,Ry.WebinarBlockedEmail].includes(d))dt(Xu,cE(d));else if(Ry.MeetingNotStarted===d){var ce;const se=cE(d),{meeting:{meetingNumber:Se,passWord:Ce,userName:Te,userEmail:V,inviteEmail:ke,meetingTopic:et,region:$e,network:Re,userId:_e,lang:ut,meetingId:ct,participantID:St,wrInfo:ee,meetingInfo:ln,isNewJoinFlow:it,enableLongPollingCheckStart:Ht,tid:Ut,signature:Xe,rsPwd:tn}}=c;Object.assign(se,{meetingInfo:{meetingNumber:Se,password:Ce,userName:Te,userEmail:V,inviteEmail:ke,meetingTopic:et,region:$e,network:Re,userId:_e,lang:ut,webEndpoint:U6(),meetingId:ct,participantId:St,wrInfo:Object.assign({},ee,{isNew:it}),scheduleInfo:ln,enableLongPollingCheckStart:Ht,rid:HKe(Ut),role:Number((ce=CT(Xe))===null||ce===void 0?void 0:ce.role),rsPwd:tn}}),dt(Xu,se)}else dt(Xu,cE(d));return lo(u3(c,!1))},$O(mi(((i,c)=>o(i)||Po)))));var o},meetingMainEpics2:(e,n)=>Uo(e,Wb).pipe(us(n),Do((([o,i])=>{const{payload:{body:c}}=o,{meeting:{zoomId:d,encType:p,gcmSessinKey:v}}=i;if(c?.encryptKey!==void 0&&qf.init(d,c.encryptKey,p),c?.gatewayKey!==void 0){const S=zs.getInstance(),[,_,x]=c.gatewayKey.split(".");S.sendUserNodeList([{userid:Number(_),sn:x&&jb(x)}],v)}return dt(W0e,c),lee(c)}))),meetingMainEpics3:(e,n)=>Uo(e,7939).pipe(us(n),pn((([o,i])=>{const{payload:{body:c}}=o;if(c.reason!==void 0){if(H_.Reconnect===c.reason)return hZe.WaitingRoomFailover===c.subReason?dt(Rv,{reason:Em.OnHold}):dt(Rv,{reason:Em.Failover}),qa(wg(ef.NormalCase));H_.KickedByHost===c.reason?dt(hO,{reason:"kicked by host"}):[H_.EndByHost,H_.EndByNone,H_.EndByAdmin,H_.EndByHostStartAnotherMeeting].includes(c.reason)?dt(hO,{reason:"ended by host"}):H_.FreeMeetingTimeout===c.reason?dt(hO,{reason:"free meeting ended"}):[H_.DuplicateSession,H_.MeetingTransfer].includes(c.reason)&&dt(hO,{reason:"duplicated session"})}return i.meeting.isMeetingReset?Po:lo(u3(i,!1))}))),meetingMainEpics4:(e,n)=>e.pipe(Qo(`${wg}`),us(n),pn((([,o])=>{const i=u3(o,!0);let c;if(o.meeting.zlkJwtToken){const d=(function(v){if(v){const{meeting:{topic:S,passWord:_,userName:x,zlkJwtToken:P,lang:B,cv:H,customerKey:U}}=v;return{topic:S,passWord:_,userName:x,zlkJwtToken:P,lang:B,cv:H,customerKey:U}}return null})(o),p={topic:d?.topic,password:d?.passWord,userName:d?.userName,zlk:d?.zlkJwtToken,lang:d?.lang,cv:d?.cv,customerKey:d?.customerKey};c=qa(a4(p)).pipe(Y3(1e3))}else{const d=(function(p){var v;const{meeting:{apiKey:S,signature:_,signatureType:x,meetingNumber:P,userName:B,lang:H,passWord:U,userEmail:z,sdkUrl:Z,sdkOrigin:te,proxy:ce,cv:se,ztk:Se,zsk:Ce,tk:Te}}=p;let V=Se||sessionStorage.getItem(rl.WebclientZtk),ke=Ce||sessionStorage.getItem(rl.WebclientZsk);const et=Number((v=CT(_))===null||v===void 0?void 0:v.role)===1;return et||(V=ke,ke=""),{apiKey:S,signature:_,signatureType:x,meetingNumber:P,userName:B,lang:H,passWord:U?encodeURIComponent(U):"",userEmail:z,sdkUrl:Z,sdkOrigin:te,proxy:ce,cv:se,ztk:V,zsk:ke,tk:Te||sessionStorage.getItem(rl.WebclientTk),ulsm:et&&ke?1:0}})(o);c=qa(aee(d)).pipe(Y3(1e3))}return j6(lo(i),c)}))),meetingMainEpics5:e=>RS(e,7940).pipe(Yo((n=>{dt("MEETING_HOST_CHANGE_INDICATION",n.payload.body.bHost)})),Do((n=>fLe(n.payload.body)))),meetingMainEpics6:e=>RS(e,7941).pipe(Yo((n=>{dt("MEETING_COHOST_CHANGE_INDICATION",n.payload.body.bCoHost)})),Do((n=>pLe(n.payload.body)))),meetingMainEpics7:e=>RS(e,7945).pipe(Yo((n=>{const{payload:{body:{opt:o}}}=n;ni.set(rl.WebclientOpt,o,Ca.SessionStorage)})),Da(Po)),meetingMainEpics8:(e,n)=>Uo(e,7942).pipe(Yo((o=>{const{payload:{body:{bHold:i}}}=o;ni.set(rl.WebclientIsOnHold,i?1:0,Ca.SessionStorage),dt(j0e,i)})),us(n),pn((([o,i])=>{const c=[l3(o.payload.body.bHold)];if(o.payload.body.bHold){const d=Ss(i);if(d){c.push(gLe({audio:d.audio,video:d.bVideoOn,muted:d.muted}));const p=_m(zs.getInstance());if(d.audio==="computer"&&(p.leaveComputerAudio(),yS.joinOrLeaveVoip(!1)),d.bVideoOn&&p.stopCaptureVideo(),d.sharerOn&&(yS.stopSharing(d.userId),p.stopDesktopSharing(),c.push(Sg(Yr.End))),i.video&&i.video.subscribedVideoList.length>0&&i.video.subscribedVideoList.forEach((v=>{p.unsubscribeVideo(v)})),i.share&&i.share.isReceiveSharing){const v=i.share.activeNodeId;i.share.remoteControlledUserList.length>0&&(i.share.remoteControlledUserList.forEach((S=>{yS.sharingRequestRemoteControl(S,!1)})),Fk(i)&&p.stopRemoteControl()),yS.unsubscribeSharing(v),p.stopRenderSharing(),c.push(IO(!1))}}}return lo(c)}))),meetingMainEpics9:e=>Uo(e,7954).pipe(Do((n=>vLe(n.payload.body)))),meetingMainEpics10:e=>Uo(e,4216).pipe(Yo((n=>{dt("MEETING_CLAIM_HOST_KEY_RESPONSE",n.payload.body.bresult)})),Da(Po)),meetingMainEpics11:(e,n)=>e.pipe(Qo(`${V2}`,`${l4}`),us(n),pn((([o,i])=>{const c=PWe(i),{socket:{zoomSocketStatus:d},meeting:{meetingId:p}}=i;return d===Fa.Connected&&(o.type===`${V2}`?yS.leaveMeeting(c):o.type===`${l4}`&&yS.endMeeting()),p&&dt(hO,{}),lo(u3(i,!1))}))),meetingMainEpics12:(e,n)=>e.pipe(Qo(`${Zve}`),us(n),pn((([o,i])=>{if(o.type===`${Zve}`&&i.meeting.meetingNumber&&!i.meeting.zlkJwtToken){const c={mn:i.meeting.meetingNumber.toString(),name:i.meeting.userName,customerKey:i.meeting.customerKey?bu(i.meeting.customerKey):""},{jbhLeave:d}={jbhLeave:`https://${gte}/wc/jbhLeave`},p=`${d}/?${new URLSearchParams(c).toString()}`;fetch(p,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"}})}return Po}))),meetingMainEpics13:e=>Uo(e,2).pipe(Yo((()=>{console.warn("Upgrade to latest version to optimize meeting experience")})),Da(Po)),meetingMainEpics14:e=>Uo(e,1).pipe(Yo((n=>{const{payload:{body:{upgradeVersion:o}}}=n,i=cE(1e4);if(i&&i.reason){const c=i.reason.replace(/{(\d+)}/g,(()=>o));i.reason=c}dt(Xu,i)})),Da(Po)),meetingMainEpics15:e=>Uo(e,4265).pipe(Do((n=>{const{payload:{body:o}}=n,{nShareType:i}=o;return dt(sMe,{userSharePronounType:i}),CLe(i)}))),meetingMainEpics16:e=>Uo(e,4128).pipe(Yo((n=>{const{payload:{body:{meetingtoken:o}}}=n,{WebclientMeetingToken:i}=rl;o&&ni.set(i,o,Ca.SessionStorage)})),Da(Po)),meetingMainEpics17:(e,n)=>e.pipe(Qo(`${AE}`),xn((()=>!!n.value.meeting.quicklyLeave)),mi((()=>Jd(window,"beforeunload").pipe(Yo((()=>{yS.leaveMeeting()})),Da(Po))))),meetingMainEpics18:(e,n)=>Uo(e,8025).pipe(xn((o=>!!o.payload.body.Zmk&&!!n.value.meeting.isEnableZmkFromRWG)),Do((o=>{const{payload:{body:{Zmk:i}}}=o;return lee({zmk:i})}))),meetingMainEpics19:(e,n)=>e.pipe(Qo(`${Mv}`),pn((o=>{const{payload:{mediaFeatureOptions:i,mediaSDKPath:c}}=o,{media:{skipJsMedia:d,patchJsMedia:p,assetsPath:v}}=n.value;if((function(S){return(function(_){try{if(47>_.length)return 0;const x=_.slice(_.length-47-1+1,_.length-47+1);if(x)return parseInt(x,16)}catch{}return 0})(S)===1})(i)){const S=`${!d&&p&&jPe(v)&&c?wte(c):v}/tp.min.js`;return lo(window.ZoomTPModule===void 0||typeof window.ZoomTPModule.ZoomTPWebSocket!="function"?new Promise(((_,x)=>pte(S,(()=>_("")),(()=>x())))):Promise.resolve("")).pipe(pn((()=>{const{meeting:{mediaFeatureOptions:_},logger:x}=n.value,P=x?Kf.getInstance().makeLogger(["TP MODULE"]):void 0;return lo(window.ZoomTPModule.initTPModule({options:_,logInstance:P}).then((()=>(dt(rJ,!0),OLe(!0)))).catch((()=>(dt(rJ,!1),EJ(!1)))))})),Cm((()=>(setTimeout((()=>{Kf.getInstance().report(`Unable to load tp.min.js,url:${S}`,["TP MODULE"],"error")}),5e3),dt(rJ,!1),lo([EJ(!1)])))),o1(EJ(!0)))}return Po})))},qYe=xg(GYe,{wakeLockEpic0:(e,n)=>e.pipe(Qo(`${AE}`),us(n),xn((([,o])=>!!o.meeting.stayAwake)),Yo((async()=>{try{const{isSafari:o,isIOSMobile:i}=is;wv&&wv.release().then((()=>{wv=null})),"wakeLock"in navigator&&((o||i)&&await hc(Fp(Jd(document,"click").pipe(Jr(1)),Jd(document,"touchend").pipe(Jr(1)))),wv=await navigator.wakeLock.request("screen"),wv.addEventListener("release",(()=>{})))}catch{}})),mi((()=>Jd(document,"visibilitychange").pipe(pn((async()=>{if(document.visibilityState==="visible"){const{isSafari:o,isIOSMobile:i}=is;wv&&wv.release().then((()=>{wv=null})),"wakeLock"in navigator&&((o||i)&&await hc(Fp(Jd(document,"click").pipe(Jr(1)),Jd(document,"touchend").pipe(Jr(1)))),wv=await navigator.wakeLock.request("screen"))}else wv&&wv.release().then((()=>{wv=null}))})),Da(Po))))),wakeLockEpic1:e=>e.pipe(Qo(`${qb}`)).pipe(Yo((()=>{wv&&wv.release().then((()=>{wv=null}))})),Da(Po))},jYe,WYe,{meetingInfoEpic:(e,n)=>e.pipe(Qo(`${a4}`),mi((o=>{const i=Object.assign({},o.payload,{password:bu(o.payload.password),topic:bu(o.payload.topic)}),{videoSDKUrl:c}={videoSDKUrl:`https://${gte}/wc/lsdk`};return((d,p,v="zoomsdkjsonpcallback")=>new Su((S=>{rIe++;const _=`${v}${rIe}`,x=document.createElement("script");Object.keys(p).forEach((P=>(p[P]===void 0||p[P]===null)&&delete p[P])),x.src=`${d}?${new URLSearchParams(Object.assign(p,{callback:_})).toString()}`,x.async=!0,x.onerror=P=>S.error(P),document.getElementsByTagName("head")[0].appendChild(x),window[_]=P=>{x.parentNode&&x.parentNode.removeChild(x),delete window[_],S.next(P),S.complete()}})))(c,i).pipe(_h(e.pipe(Qo(`${V2}`),Yo((()=>{dt(hO,{})})),Jr(1))),Cm((d=>qa({status:!1,result:d.toString(),errorCode:-3e3}))),pn((d=>{const[p,v]=(S=qa(d),[xn(_=P=>P.status===!0&&P.result!==void 0,x)(Wf(S)),xn(rWe(_,x))(Wf(S))]);var S,_,x;return v.subscribe((P=>{UYe.report(`get meeting info error, ${JSON.stringify(P)}`,["Join Meeting Flow","Get Meeting Info Error"],"error"),P.status||(P.errorCode===3e3&&P.errorMessage==="Meeting password is incorrect"?dt(Xu,{errorCode:dE.WrongPasscode,reason:"Incorrect passcode."}):P.errorCode===3e3&&P.errorMessage==="The role type error"?dt(Xu,{errorCode:dE.RoleTypeMissing,reason:"Role type error"}):P.errorCode===-3e3?dt(Xu,{errorCode:dE.CommonError,reason:"connection error"}):P.errorCode===3e3?dt(Xu,{reason:P.errorMessage,errorCode:dE.CommonError}):P.errorCode===300?dt(Xu,{reason:"This account does not exist or does not belong to you",errorCode:dE.CommonError}):P.errorCode===124&&P.errorMessage==="Parse lite sdk topic and pwd fail"?dt(Xu,{reason:"Topic is invalid",errorCode:dE.CommonError}):P.errorCode===124&&P.errorMessage==="The java web token is expired or more than 2 days or ineffective."?dt(Xu,{reason:"The token has expired, is over 2 days old, or is ineffective.",errorCode:dE.CommonError}):P.errorCode===124&&dt(Xu,{reason:"Verify JWT failed",errorCode:dE.CommonError}))})),p.pipe(S3e((P=>{if(P.status===!0){const{result:{mid:H,websdkClientFeatureOptions:U,showRecommendVersion:z}}=P;ni.init(H);const Z=((se,Se)=>{if(se.result){const{result:{mn:Ce,ts:Te,auth:V,track_auth:ke,mid:et,tid:$e,webMediaBlockConfig:Re,encryptedRWC:_e,encryptedGEORWC:ut,user_identity:ct,meetingOptions:St,can_recording:ee,wcXMPPConfig:ln,call_out_country_json:it,isOriginalHost:Ht,support_call_out:Ut,liveTranscription:Xe,logConfig:tn,logEncryptionPubKey:eo,toll_numbers_json:In,h323Password:mn,liveStreamInfo:Dt,rc_auto_delete:un,jwt_rc:ye,op_rc:ms,mediaSDKVersion:Vo,mediaSDKPathPrefix:Eo,zmk:Oo,fileTransfer:Zn,fileServerDomain:xt,accountId:cn,mediaFeatureOptions:vn,websdkClientFeatureOptions:qe,sipDomain:pt,enableVsdkInteractiveLiveStream:Ft}}=se,{lang:Ve,password:Ot,topic:Nt,zlk:Gt,cv:Tt,userName:Et}=Se;return{meetingNumber:Ce,meetingId:et,tid:$e,ts:Te,auth:V,passWord:Ot,trackAuth:ke,customerKey:ct,encryptedRWC:JSON.parse(_e||"{}"),encryptedGEORWC:JSON.parse(ut||"{}"),meetingOptions:JSON.parse(St||"{}"),recordingEnable:ee==="1",topic:Nt,userName:ni.get(rl.WebclientUserName)||Et,cv:Tt,zlkJwtToken:Gt,webMediaBlockConfig:Re,xmppConfig:JSON.parse(ln||"{}"),callOutCountry:JSON.parse(it||"{}"),lang:Ve,isOriginHost:Ht,isSupportCallOut:Ut==="1",liveTranscription:JSON.parse(Xe||"{}"),logConfig:tn,logEncryptionPubKey:eo,tollNumbers:In===void 0?void 0:JSON.parse(In),h323Password:mn,liveStreamInfo:JSON.parse(Dt||"{}"),rcAutoDelete:un,jwtRc:ye,opRc:ms,mediaSDKPath:Vo&&Eo?`${wte(Eo)}/${Vo}`:void 0,zmk:Oo,fileTransfer:JSON.parse(Zn||"{}"),fileServerDomain:xt,accountId:cn,mediaFeatureOptions:vn,websdkClientFeatureOptions:qe,sipDomain:pt,enableVsdkInteractiveLiveStream:Ft}}return se})(P,o.payload);var B;z&&(o==null||(B=o.payload)===null||B===void 0||B.lang,console.log("Update VideoSDK-Web to the latest version to optimize meeting experience","https://developers.zoom.us/docs/video-sdk/web/"));const te=[qa(Mv(Z)),nqe(sIe,n,g1e())],ce=(se=>{const Se=[];if(se){const Ce=se.split("").reverse();Object.keys(dO).filter((Te=>/M:\d+(,\d+)*;V:\d+(,\d+)*/.test(dO[Te]))).forEach((Te=>{const V=dO[Te];let[ke,et]=V.split(";");ke.startsWith("V:")&&([ke,et]=[et,ke]);const $e=et.slice(2).split(",").map((ut=>Ce[Number(ut)-1])).reverse().join(""),Re=parseInt($e,16),_e=VKe[V];_e&&(Array.isArray(_e)?_e:[_e]).forEach((ut=>{const ct=ut.mask?(Re&ut.mask)>0:Re;Se.push(qa(ut.action(ct)))}))}))}return Se})(U);return ce.length>0&&te.unshift(...ce),j6(...te)}})))})),o1(ALe(performance.now())))}))),pingRWCEpic:sIe,retryPingRWCEpic:(e,n)=>e.pipe(Qo(`${y1e}`),Ju(Dv),xn((()=>n.value.meeting.meetingStatus===Th.Initial&&n.value.socket.zoomSocketStatus===Fa.Closed)),mi((()=>{const{meeting:{meetingId:o,meetingNumber:i,userName:c},socket:{retryCount:d,rwgServerList:p}}=n.value,v=p?.[d-1];return rbe.makeLogger(["Join Meeting Flow"]).info(`ping rwc retry. Last failed rwc:${v?.rwc}, last failed rwg:${v?.rwg}, retry count:${d}, meeting detail:${JSON.stringify({meetingId:o,meetingNumber:zf(i),userName:zf(c)})}, rwc log:${x2.getLog()}`,["Ping RWC Retry"]),lo(x2.retry()).pipe(zBe(n))})))});function DX(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)e[i]=o[i]}return e}var KYe=(function e(n,o){function i(c,d,p){if(typeof document<"u"){typeof(p=DX({},o,p)).expires=="number"&&(p.expires=new Date(Date.now()+864e5*p.expires)),p.expires&&(p.expires=p.expires.toUTCString()),c=encodeURIComponent(c).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var v="";for(var S in p)p[S]&&(v+="; "+S,p[S]!==!0&&(v+="="+p[S].split(";")[0]));return document.cookie=c+"="+n.write(d,c)+v}}return Object.create({set:i,get:function(c){if(typeof document<"u"&&(!arguments.length||c)){for(var d=document.cookie?document.cookie.split("; "):[],p={},v=0;v<d.length;v++){var S=d[v].split("="),_=S.slice(1).join("=");try{var x=decodeURIComponent(S[0]);if(p[x]=n.read(_,x),c===x)break}catch{}}return c?p[c]:p}},remove:function(c,d){i(c,"",DX({},d,{expires:-1}))},withAttributes:function(c){return e(this.converter,DX({},this.attributes,c))},withConverter:function(c){return e(DX({},this.converter,c),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})})({read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const{WebclientIsOnHold:ZYe,WebclientOpt:YYe,WebclientParticipantId:XYe,WebclientZoomId:JYe,WebclientMeetingToken:QYe}=rl,{WebclientDeviceId:iIe}=bye;function aIe({retryCount:e,rwgServerList:n,userName:o,auth:i,trackAuth:c,meetingId:d,customerKey:p,tid:v,lang:S,ts:_,bid:x,botk:P,confID:B,zlkJwtToken:H,isWebRtcAudioCapable:U,isMeetingReset:z,cameraDevicesList:Z,isWebrtcVideoCapable:te,webRtcAudioMode:ce,mediaFeatureOptions:se}){const Se=KYe.get("_zm_mtk_guid");let Ce=ni.get(iIe);if(Ce||(Ce=mee(),ni.set(iIe,Ce,Ca.LocalStorage)),n.length>e){var Te;const V=n[e],ke={dn2:bu(o),auth:i,browser:`${is.browser}${is.browserVersion} ${(Te=window)!==null&&Te!==void 0&&Te.crossOriginIsolated?"SAB":""}`,trackAuth:c,mid:d,tid:v,lang:S,ts:_,"ZM-CID":Ce,_ZM_MTG_TRACK_ID:Se||"",customer_key:bu(p),cfs:0,islch:1};if(H)try{const{vendor:_e}=CT(H);_e&&Object.assign(ke,{vendor:_e})}catch(_e){console.log(_e)}V.rwcAuth?Object.assign(ke,{rwcAuth:V.rwcAuth}):V.rwcToken&&Object.assign(ke,{rwcToken:V.rwcToken});const et=is.isIE?1:is.isIE||is.isSupportEssentialAudioAndVideoAbility?2:0;Object.assign(ke,{as_type:et}),[{key:YYe,queryKey:"opt"},{key:XYe,queryKey:"participantID"},{key:JYe,queryKey:"zoomid"}].forEach((_e=>{const ut=ni.get(_e.key);ut!==void 0&&(ke[_e.queryKey]=ut)}));const $e=x&&P&&B;$e&&Object.assign(ke,{bid:bu(x),confID:B}),ni.get(QYe)&&Object.assign(ke,{isdj:1}),Object.assign(ke,{from:is.isAndroidBrowser?"android":is.isIOSMobile?"ios":"other"}),U&&Object.assign(ke,{useABAudio:ce}),Object.assign(ke,{clientCaps:eXe({isAudioBridgeEnabled:U,isBO:$e,mediaFeatureOptions:se})}),Object.assign(ke,{clientCapsEx:tXe()}),Object.assign(ke,{useWBVideo:te?1:0});const Re=z?Z.length>0?1:0:1;return Object.assign(ke,{isCamera:Re}),Object.assign(ke,{clientOS:is.isAndroidOrIOSBrowser||is.isHarmonyOS?is.isIOSMobile?"ios":"android":is.isMacOS?"mac":"win"}),Object.assign(ke,{audioFeature:zs.getAudioFeatureFlag(U)}),{queryObject:{...ke},rwgServer:V}}return null}function eXe(e){const{isAudioBridgeEnabled:n,isBO:o,mediaFeatureOptions:i}=e;let c=Ty.WebCameraIndication|Ty.SendMeetingTokenSeparately|Ty.SmartSummary|Ty.LocalRecording|Ty.LocalRecordingGrantPermission|Ty.UnifyErrorType;const d=zs.getPTZCapability();return(d.pan||d.tilt||d.zoom)&&(c|=Ty.SupportFarEndCameraControl),zs.isSupportVideoShare()&&(c|=Ty.SupportVideoShare),n&&zs.isSupportAudioBridgeAVSync()&&(c|=Ty.WebrtcAudioRtcpTime),zs.isSupportShareMultiStream()&&(c|=Ty.ShareMultiStream),zs.isSupportVideoLTR()&&(c|=Ty.VideoLTR),o||(c|=Ty.RequestRemoteControl),zs.isSupportFullHDVideo(i||"")&&(c|=Ty.SupportSend1080PVideo),zs.isSupportFullHDVideoShare(i||"")&&(c|=Ty.SupportSend1080PVideoShare),c}function tXe(){let e=OTe.SupportPresenterAnnotation;return e|=OTe.SupportMMRCommandChannel,e}function O2(e,n){const o=()=>{const{socket:{zoomSocketStatus:i},meeting:{meetingStatus:c,isMeetingReset:d}}=e.value;return i!==Fa.Closed&&c===Th.Joined&&!d};return n?$O(Y3(n),xn(o)):$O(xn(o))}const GL=ta.createAgent();let MX;const Dk=Z2.getInstance();let PX;const qL=Dte.getInstance();let NX;const lIe={zoomSocketStatus:Fa.Closed,xmppSocketStatus:Fa.Closed,mainSessionSocketStatus:Fa.Closed,retryCount:0,rwgServerList:[],xmppRetryCount:0},nXe=wm({[`${E6}`]:bt(((e,{payload:n})=>{e.zoomSocketStatus=n.status})),[`${kLe}`]:bt(((e,{payload:n})=>{const{rwgServerList:o}=e;o.find((i=>i.rwg===n.rwg))||o.push(n)})),[`${y1e}`]:bt(((e,{payload:n})=>{e.retryCount=n})),[`${wJ}`]:bt(((e,{payload:n})=>{e.xmppSocketStatus=n})),[`${_J}`]:bt(((e,{payload:n})=>{e.mainSessionSocketStatus=n})),[`${uee}`]:bt(((e,{payload:n})=>{e.xmppRetryCount=n})),[`${DLe}`]:()=>lIe},lIe),oXe={mainSessionEpics0:(e,n)=>e.pipe(Qo(`${nye}`),us(n),xn((([,o])=>o.socket.mainSessionSocketStatus==="closed")),mi((([,o])=>{const{meeting:{svcUrl:i,meetingNumber:c,conId:d,isRlbTP:p}}=o,v=(function(S,_,x){return`wss://${S}/wc/media/${_}?type=m&cid=${x}&mode=2`})(i,c,d);return((S,_)=>(qL.connect(S,_),NX=new J0,bT((x=>qL.on(bg.Message,x)),(x=>qL.off(bg.Message,x))).pipe(Do((x=>x.data))).subscribe(NX),NX))(v,p).pipe(Do((S=>{try{return JSON.parse(S)}catch(_){return console.error(_),{evt:0}}})),xn((S=>S.evt!==0)),C3e(),Do((S=>lT(S))),o1(_J(Fa.Connecting)))}))),mainSessionEpics1:(e,n)=>e.pipe(Qo(`${nye}`),mi((()=>{const[o,i,c]=[bg.Open,bg.Close,bg.Error].map((d=>bT((p=>qL.on(d,p)),(p=>qL.off(d,p)))));return xd(o.pipe(M2(_J(Fa.Connected))),i.pipe(O2(n,500),Do((()=>(dt(Rv,{reason:Em.Failover}),wg(ef.DisconnectMChannel))))),c.pipe(O2(n,500),Do((()=>(dt(Rv,{reason:Em.Failover}),wg(ef.OnErrorMChannel))))))}))),mainSessionEpics2:e=>e.pipe(Qo(`${RLe}`),M2(_J(Fa.Closed)),Yo((()=>{var n;qL.close(),(n=NX)===null||n===void 0||n.complete()})))},sXe={epics0:(e,n)=>e.pipe(Qo(`${eye}`),us(n),xn((([,o])=>o.socket.zoomSocketStatus===Fa.Closed&&!!o.meeting.meetingId)),mi((([,o])=>(function(i){const{media:{patchedMediaSDKStatus:c},meeting:{isRlbTP:d,isRlbTPReady:p}}=i;return U0e([c===W5.Loading?Aa(uJ,1).pipe(Ju(yT)):lo([0]),d?p?lo([0]):Aa(rJ,1).pipe(Ju(yT)):lo([0])])})(o).pipe(mi((()=>{const{socket:{retryCount:i,rwgServerList:c},meeting:d,breakoutRoom:p,audio:v,video:S}=n.value;let _;const x={...d,retryCount:i,rwgServerList:c};if(v){const{isWebRtcAudioCapable:H,webRtcAudioMode:U}=v;Object.assign(x,{isWebRtcAudioCapable:H,webRtcAudioMode:U})}if(S){const{cameraDevicesList:H,isWebrtcVideoCapable:U}=S;Object.assign(x,{cameraDevicesList:H,isWebrtcVideoCapable:U})}if(p&&p.currentRoom.status===cr.Joining){const{currentRoom:{boId:H,boConfId:U,boToken:z}}=p;Object.assign(x,{bid:H,botk:z,confID:U})}if(_=d.zlkJwtToken?(function(H){const U=aIe(H);if(U){const{queryObject:z,rwgServer:Z}=U,{topic:te,cv:ce,meetingNumber:se,isUIToolkit:Se}=H;return Object.assign(z,{topic:bu(te),iccv:ce}),Se&&Object.assign(z,{browser:z.browser+" UIToolkit"}),`wss://${Z.rwg}/instantsdk/${se}?${new URLSearchParams(z).toString()}`}return null})(x):(function(H){const U=aIe(H);if(U){const{queryObject:z,rwgServer:Z}=U,{cv:te,meetingNumber:ce}=H;return Object.assign(z,{jscv:te,browser:z.browser+" ComponentView"}),[{key:ZYe,queryKey:"cfs"}].forEach((se=>{const Se=ni.get(se.key);Se!==void 0&&(z[se.queryKey]=Se)})),`wss://${Z.rwg}/wc/api/${ce}?${new URLSearchParams(z).toString()}`}return null})(x),_){const H=(P=_,B=d.isRlbTP,GL.connect(P,B),MX=new J0,bT((U=>GL.on(bg.Message,U)),(U=>GL.off(bg.Message,U)),(U=>U.data)).subscribe(MX),MX);return xd(H.pipe(xn((U=>typeof U=="string")),Do((U=>{try{return JSON.parse(U)}catch(z){return console.error(z),{evt:0}}})),C3e(),Nz((U=>{if(U.evt!==0||!U.body||U.body.test!=="invalid parameters!")return K2(U);dt(Xu,{errorCode:dE.InvalidParameter,reason:"Invalid parameter"})})),o1(E6({status:Fa.Connecting,rwgUrl:_}))),H.pipe(xn((U=>U instanceof ArrayBuffer)),Do((U=>tqe(U)))))}var P,B;return Po})))))),epics1:(e,n)=>e.pipe(Qo(`${eye}`),us(n),xn((([,o])=>o.socket.zoomSocketStatus===Fa.Closed&&!!o.meeting.meetingId)),mi((()=>{const[o,i,c,d]=[bg.Open,bg.Close,bg.Error,bg.Inactive].map((p=>bT((v=>GL.on(p,v)),(v=>GL.off(p,v)))));return xd(o.pipe(pn((()=>xd(qa(E6({status:Fa.Connected})),wu(6e4).pipe(us(n),xn((([,p])=>p.meeting.meetingStatus===Th.Initial&&!p.meeting.isMeetingReset)),Do((()=>(dt(Rv,{reason:Em.Failover}),wg(ef.NoHeartbeat))))))))),i.pipe(O2(n),Do((()=>(dt(Rv,{reason:Em.Failover}),wg(ef.Disconnect))))),d.pipe(O2(n),Do((()=>(dt(Rv,{reason:Em.Failover}),wg(ef.NoHeartbeat))))),c.pipe(us(n),pn((([,p])=>{const{meeting:{meetingStatus:v,isMeetingReset:S},socket:{rwgServerList:_,retryCount:x}}=p,P=[];return v===Th.Initial&&_!=null&&_.length?P.push(y1e(x+1),qb({retry:!0})):S||v!==Th.Joined||(dt(Rv,{reason:Em.Failover}),P.push(wg(ef.OnError))),lo(P)}))))}))),epics2:(e,n)=>e.pipe(Qo(`${qb}`),mi((o=>{const i=[E6({status:Fa.Closed})];return o.payload&&o.payload.retry?lo(i):lo(i).pipe(Y3(100),Yo((()=>{var c;n.value.socket.zoomSocketStatus===Fa.Closed&&(GL.close(),(c=MX)===null||c===void 0||c.complete())})))})))},rXe=xg(sXe,{xmppEpics0:(e,n)=>e.pipe(Qo(`${AE}`),pn((()=>{const{meeting:{meetingOptions:o,zlkJwtToken:i,isWebinar:c}}=n.value,d=[];return(o.isPollingEnabled||i||c)&&d.push(SX()),lo(d)}))),xmppEpics1:(e,n)=>e.pipe(Qo(`${SX}`),us(n),xn((([,o])=>o.socket.xmppSocketStatus===Fa.Closed)),mi((([,o])=>{const{meeting:{svcUrl:i,meetingNumber:c,conId:d,isRlbTP:p}}=o,v=(function(S,_,x){return`wss://${S}/wc/media/${_}?type=x&cid=${x}`})(i,c,d);return((S,_)=>(Dk.connect(S,_),PX=new J0,bT((x=>Dk.on(eT.Message,x)),(x=>Dk.off(eT.Message,x))).subscribe(PX),PX))(v,p).pipe(xn((S=>S?.evt!==void 0)),Do((S=>ILe(S))),o1(wJ(Fa.Connecting)))}))),xmppEpics2:(e,n)=>e.pipe(Qo(`${SX}`),mi((()=>{const[o,i,c]=[eT.Open,eT.Close,eT.Error].map((p=>bT((v=>Dk.on(p,v)),(v=>Dk.off(p,v))))),d=p=>pn((()=>{const{socket:{xmppSocketStatus:v,xmppRetryCount:S}}=n.value,_=[];return v===Fa.Connecting&&S<3?(_.push(uee(S+1)),_.push(tye({retry:!0}))):(v===Fa.Connected||S>=3)&&(dt(Rv,{reason:Em.Failover}),_.push(wg(p))),lo(_)}));return xd(o.pipe(Yo((()=>{const p=(function(){const{isSupportEssentialAudioAndVideoAbility:v,isSupportAudioWorklet:S}=is;return v&&S?11:10})();Dk.join(p)})),Do((()=>wJ(Fa.Connected)))),i.pipe(O2(n,500),d(ef.DisconnectXmpp)),c.pipe(O2(n,500),d(ef.OnErrorXmppChannel)))}))),xmppEpics3:(e,n)=>e.pipe(Qo(`${tye}`),mi((o=>{var i;const c=[wJ(Fa.Closed)];return(i=o.payload)!==null&&i!==void 0&&i.retry?lo(c):lo(c).pipe(Y3(100),Yo((()=>{var d;n.value.socket.xmppSocketStatus===Fa.Closed&&(Dk.close(),(d=PX)===null||d===void 0||d.complete())})))}))),xmppEpics4:(e,n)=>e.pipe(Qo(`${uee}`),xn((o=>o.payload<=3)),pn((o=>lo([o]).pipe(Y3(1e3*Math.pow(2,o.payload-1))))),O2(n),Do((()=>SX())))},oXe),cIe={audioEncodeStatus:"initial",audioDecodeStatus:"initial",videoEncodeStatus:"initial",videoDecodeStatus:"initial",sharingEncodeStatus:"initial",sharingDecodeStatus:"initial",assetsPath:"",mediaConstraints:void 0,enforceMultipleVideos:!1,enforceVirtualBackground:!1,isMediaAgentInitialized:!1,disableRenderLimits:!1},iXe=wm({[`${rye}`]:bt(((e,{payload:n})=>{e.audioDecodeStatus=n})),[`${sye}`]:bt(((e,{payload:n})=>{e.audioEncodeStatus=n})),[`${TJ}`]:bt(((e,{payload:n})=>{e.sharingDecodeStatus=n})),[`${lye}`]:bt(((e,{payload:n})=>{e.sharingEncodeStatus=n})),[`${aye}`]:bt(((e,{payload:n})=>{e.videoDecodeStatus=n})),[`${iye}`]:bt(((e,{payload:n})=>{e.videoEncodeStatus=n})),[`${b1e}`]:bt(((e,{payload:n})=>{e.mediaConstraints=n.mediaConstraints,e.assetsPath=n.assetsPath,e.enforceMultipleVideos=!!n.enforceMultipleVideos,e.enforceVirtualBackground=n.enforceVirtualBackground,e.skipJsMedia=n.skipJsMedia,e.patchJsMedia=n.patchJsMedia,e.alternativeNameForVideoPlayer=n.alternativeNameForVideoPlayer,n.enforceMultipleVideos&&typeof n.enforceMultipleVideos=="object"&&(e.disableRenderLimits=!!n.enforceMultipleVideos.disableRenderLimits)})),[`${PLe}`]:bt(((e,{payload:n})=>{const{type:o,encryptKey:i,additionalType:c}=n,d={encryptKey:i,additionalType:c};o==="audio"?e.audioEncrypt=d:o==="video"?e.videoEncrypt=d:o==="sharing"&&(e.sharingEncrypt=d)})),[`${NLe}`]:bt(((e,{payload:n})=>{e.isEnableDecoderInWorklet=n})),[`${AJ}`]:bt(((e,{payload:n})=>{e.patchedMediaSDKStatus=n})),[`${LLe}`]:bt(((e,{payload:n})=>{e.assetsPath=n})),[`${cye}`]:bt(((e,{payload:n})=>{e.isMediaAgentInitialized=n})),[`${BLe}`]:e=>({...cIe,mediaConstraints:e.mediaConstraints,assetsPath:e.assetsPath,enforceMultipleVideos:e.enforceMultipleVideos,disableRenderLimits:e.disableRenderLimits,enforceVirtualBackground:e.enforceVirtualBackground,alternativeNameForVideoPlayer:e.alternativeNameForVideoPlayer})},cIe),{InitSuccessVideo:Kme,InitSuccessAudio:Zme,InitSuccessSharing:Yme,InitFailedVideo:Xme,InitFailedAudio:Jme,InitFailedSharing:Qme,HealthCheckFailed:uIe,AudioWebsocketBroken:dIe,VideoWebsocketBroken:hIe,AudioStreamFailed:fIe,VideoStreamFailed:pIe,WebglContextInvalid:mIe,WasmMemoryFail:gIe,AudioStreamMuted:vIe,RecoverWebrtcAudio:yIe,AudioBridgeSocketConnectionError:bIe,VideoStreamMuted:SIe}=so,bh=_m(zs.getInstance()),jBe=Kf.getInstance(),CIe=jBe.makeLogger(["Media Agent"]),LX=[],aXe={epics0:(e,n)=>e.pipe(Qo(`${Mv}`),mi((o=>{var i;const{meeting:{isMeetingReset:c}}=n.value;return is.mediaFeatureOptions=(i=o.payload)===null||i===void 0?void 0:i.mediaFeatureOptions,e.pipe(_h(e.pipe(Qo(`${qb}`),xn((d=>{var p;return!((p=d.payload)!==null&&p!==void 0&&p.retry)})),Jr(1))),Qo(`${AE}`),Jr(1),uT((()=>{var d;const{logger:p,media:{mediaConstraints:v,assetsPath:S,enforceMultipleVideos:_,enforceVirtualBackground:x},meeting:{meetingId:P,meetingNumber:B,mediaFeatureOptions:H,webMediaBlockConfig:U}}=n.value,z=p!=null&&(d=p.options)!==null&&d!==void 0&&d.enable?Kf.getInstance().makeLogger(["MEDIA SDK"]):void 0;return(function(Z){const{media:{patchedMediaSDKStatus:te}}=Z;return te===W5.Loading?hc(Aa(uJ,1)):Promise.resolve()})(n.value).then((()=>{const Z=[];return bh.init({...GPe(_,x),globalTracingLogger:eKe(z),mid:P,meetingNumber:B,mediaSDKConfig:{mediaFeatureOptions:H,webMediaBlockConfig:U,mediaSDKCDNPath:S},rwgAgent:ta.createAgent()}),Z.push(cye(!0)),c&&v!==void 0&&S!==void 0&&Z.push(oye()),Z})).catch((()=>[]))})))}))),epics1:(e,n)=>e.pipe(Qo(`${Mv}`),xn((o=>{const{payload:{mediaSDKPath:i}}=o,{media:{skipJsMedia:c,patchJsMedia:d,assetsPath:p},meeting:{isMeetingReset:v}}=n.value;return!c&&jPe(p)&&!!d&&!!i&&!v})),mi((o=>{const{payload:{mediaSDKPath:i}}=o,c=wte(i);return lo(new Promise(((d,p)=>{const v=`${c}/${jk}`;"JsMediaSDK_Instance"in window&&(window.JsMediaSDK_Instance_backup=window.JsMediaSDK_Instance,delete window.JsMediaSDK_Instance),pte(v,(()=>{"JsMediaSDK_Instance_backup"in window&&delete window.JsMediaSDK_Instance_backup,CIe.info(`patched media sdk url:${v}`),d("")}),(()=>{"JsMediaSDK_Instance_backup"in window&&(window.JsMediaSDK_Instance=window.JsMediaSDK_Instance_backup,delete window.JsMediaSDK_Instance_backup),CIe.error(`cannot load patched media sdk :${v}`),p()}))}))).pipe(pn((()=>(dt(uJ),lo([AJ(W5.Done),LLe(c)])))),Cm((()=>(dt(uJ),lo([AJ(W5.Done)])))),o1(AJ(W5.Loading)))}))),epics2:(e,n)=>(function(o,i){return o.pipe(Qo(`${oye}`),xn((()=>{const{media:{assetsPath:c,mediaConstraints:d}}=i.value;return c!==void 0&&d!==void 0})),mi((()=>{const{media:{isMediaAgentInitialized:c}}=i.value;return c?lo([0]):o.pipe(Qo(`${cye}`),xn((d=>!!d.payload)),Jr(1))})))})(e,n).pipe(Yo((()=>{const{media:{assetsPath:o,mediaConstraints:i}}=n.value;bh.notifySDKMeetingReady(),o&&i&&bh.setAssetsAndConstraint(o,i),B2(n).pipe(mi((c=>lo(xve.acquire().then((()=>c)))))).subscribe((c=>{const{meeting:{svcUrl:d,meetingNumber:p,conId:v,e2eEncrypt:S,userId:_,isWebinar:x,enableWebtransport:P,webtransportPort:B,isUseWBVideo:H,mediasdkConfig:U,reportDomain:z,abToken:Z,confId:te},media:{alternativeNameForVideoPlayer:ce,enforceMultipleVideos:se,disableRenderLimits:Se},audio:Ce,video:Te}=n.value;var V;c&&(bh.connect({svcUrl:d,meetingNumber:p,conId:v,confId:te,e2eEncrypt:S,isViewOnly:tf(c.userRole),currentUserId:_,isWebinar:x,reportDomain:z,abToken:Z??"",enableWebtransport:!!P,webtransportPort:B??0,isWebRtcVideoCapable:H,isWebRtcAudioCapable:!(Ce==null||!Ce.isWebRtcAudioCapable),rendererType:(V=Te?.rendererType)!==null&&V!==void 0?V:0,webrtcMode:GWe(!(Ce==null||!Ce.isWebRtcAudioCapable),H),mediasdkConfig:U??{},enforceMultipleVideos:se,disableRenderLimits:Se}),lLe({mediaSDK:()=>bh.instance,tagName:ce,failover:"1"}))}))})),mi((()=>bT((o=>bh.registerCallback(o)),(o=>bh.unregisterCallback(o)),((o,i)=>({type:o,data:i}))).pipe(Do((o=>MLe(o))))))),epics3:e=>ur(e,[Kme,Zme,Yme,Xme,Jme,Qme]).pipe(S3e((n=>{const{payload:{type:o,data:i}}=n;if(o===Zme||o===Jme){if(i===pg.EncodeSuccess)return dt(rPe),qa(sye("success"));if(i===pg.DecodeSuccess)return dt(iPe),qa(rye("success"));if(i===pg.EncodeFailed)return dt(uPe),qa(sye("failed"));if(i===pg.DecodeFailed)return dt(dPe),qa(rye("failed"))}else if(o===Kme||o===Xme){if(i===pg.EncodeSuccess)return dt(aPe),qa(iye("success"));if(i===pg.DecodeSuccess)return dt(lPe),qa(aye("success"));if(i===pg.EncodeFailed)return dt(hPe),qa(iye("failed"));if(i===pg.DecodeFailed)return dt(fPe),qa(aye("failed"))}else if(o===Yme||o===Qme){if(i===pg.EncodeSuccess)return dt(cPe),qa(lye("success"));if(i===pg.DecodeSuccess)return dt(dve),qa(TJ("success"));if(i===pg.EncodeFailed)return dt(pPe),qa(lye("failed"));if(i===pg.DecodeFailed)return dt(mPe),qa(TJ("failed"));if(o===Yme&&i===void 0)return dt(dve),qa(TJ("success"))}}))),epics4:(e,n)=>ur(e,[Kme,Zme]).pipe(mi((()=>typeof navigator.mediaDevices=="object"?xd(F2(),xd(ur(e,so.StartVideoCaptureSuccess),ur(e,so.DeviceChangeEvent),ur(e,so.UserGrantCaptureAudio).pipe(xn((()=>!n.value.audio.isUserGrantCaptureAudio))),ur(e,so.JoinComputerAudioComplete).pipe(xn((o=>{var i;return!((i=o.payload.data)===null||i===void 0||!i.isPassive)}))),Aa(hve).pipe(xn((o=>o.state==="granted")))).pipe(pn((()=>F2().pipe(Yo((()=>{setTimeout((()=>{dt(gPe)}),50)}))))))).pipe(us(n),pn((([o,i])=>{const c=[I3e(o.microphones),R3e(o.speakers),a1e(o.cameras)];if(i.audio){const{audio:{activeMicrophone:v,activeSpeaker:S,microphoneDevicesList:_,speakerDevicesList:x,isUsingMediaPlayback:P},video:{cameraDevicesList:B,activeCamera:H,isUsingMediaPlayback:U}}=i,z=Ss(i),{microphones:Z,speakers:te,cameras:ce}=o,se=_.filter((Te=>Z.findIndex((V=>V.deviceId===Te.deviceId))===-1)),Se=x.filter((Te=>te.findIndex((V=>V.deviceId===Te.deviceId))===-1)),Ce=B.filter((Te=>ce.findIndex((V=>V.deviceId===Te.deviceId))===-1));if(se.length>0){if(se.some((Te=>Xpe(Te,v,_)))){const Te=O5(Z);P||bh.changeMicrophone("default",Te?.label,!(z==null||!z.muted)),c.push(nz("default"))}}else if(v==="default"){const Te=O5(_),V=O5(Z);!P&&_.length>0&&Te?.label!==V?.label&&bh.changeMicrophone("default",V?.label,!(z==null||!z.muted))}var d,p;Se.length>0?Se.some((Te=>Xpe(Te,S,x)))&&(bh.changeSpeaker("default"),c.push(Mte("default"))):S==="default"&&x.length>0&&((d=O5(x))===null||d===void 0?void 0:d.label)!==((p=O5(te))===null||p===void 0?void 0:p.label)&&bh.changeSpeaker("default"),Ce.length>0&&Ce.some((Te=>Xpe(Te,H,B)))&&(U||bh.stopCaptureVideo(),c.push(Q3(is.isAndroidOrIOSBrowser?e2.User:"default")))}return lo(c)}))):Po))),epics5:(e,n)=>RS(e,Ul).pipe(Yo((o=>{const{type:i,payload:{body:c}}=o,d=i===`${lT}`;if(c.add){const p=c.add.map((v=>({userid:v.id,sn:v.zoomID&&jb(v.zoomID)})));if(!d){const{meeting:{gcmSessinKey:v}}=n.value;bh.sendUserNodeList(p,v)}bh.updateUserMediaSN({added:p,isFromMainSession:d,iVType:IS.SHARING_DECODE}),d&&bh.updateUserMediaSN({added:p,isFromMainSession:d,iVType:IS.AUDIO_DECODE})}if(c.remove&&c.remove.length>0){if(!d){const{meeting:{gcmSessinKey:p}}=n.value;bh.sendUserNodeList(c.remove.map((v=>({userid:v.id,bremove:!0}))),p)}bh.updateUserMediaSN({removed:c.remove.map((p=>p.id)),isFromMainSession:d,iVType:IS.SHARING_DECODE}),d&&bh.updateUserMediaSN({removed:c.remove.map((p=>p.id)),isFromMainSession:d,iVType:IS.AUDIO_DECODE})}})),Da(Po)),epics6:e=>ur(e,so.AesGcmIvResponse).pipe(Yo((n=>{const{payload:{data:{workerType:o,iv:i}}}=n,c=ni.get(rl.WebclientIVState);if(c){const d={...c,[o]:i};ni.set(rl.WebclientIVState,d,Ca.SessionStorage)}})),Da(Po)),epics7:e=>e.pipe(Qo(`${K2}`),xn((n=>[dye,X_e,S1e].includes(n.payload.evt))),Do((n=>{const{payload:{evt:o,body:{encryptKey:i,additionalType:c}}}=n;return PLe({type:o===dye?"audio":o===X_e?"video":"sharing",encryptKey:i,additionalType:c})}))),epics8:e=>e.pipe(Qo(`${b1e}`),Yo((n=>{const{payload:o}=n;Xd.setMediaOption({assetsPath:o.assetsPath,enforceMultipleVideos:o.enforceMultipleVideos,enforceVirtualBackground:o.enforceVirtualBackground,alternativeNameForVideoPlayer:o.alternativeNameForVideoPlayer})})),Da(Po)),epics9:e=>e.pipe(Qo(`${a4}`,`${aee}`),Yo((()=>{$b.getInstance().inProgress&&($b.getInstance().disconnect(),xve.watch($b.getInstance().destroy()))})),Da(Po)),epics10:e=>e.pipe(Qo(`${a4}`,`${aee}`),mi((()=>"permissions"in navigator?["microphone","camera"].map((n=>{navigator.permissions.query({name:n}).then((o=>{const i=()=>{dt(hve,{name:n,state:o.state})};i(),o.addEventListener("change",i),LX.push((()=>{o.removeEventListener("change",i)}))})).catch((()=>{}))})):Po)),Da(Po)),epics11:e=>e.pipe(Qo(`${v1e}`),xn((n=>n.payload===Th.Closed)),Yo((()=>{LX.length>0&&(LX.forEach((n=>n())),LX.length=0)})),Da(Po)),epics12:(e,n)=>ur(e,[uIe,Xme,Jme,Qme,dIe,hIe,fIe,pIe,mIe,gIe,vIe,yIe,bIe,SIe]).pipe(pn((o=>{const{payload:{type:i,data:c}}=o;let d,p;if(i===dIe||i===bIe)d={message:"Audio connection failed. Please refresh your browser to reconnect.",type:"audio",code:Cv.AudioConnectionFailed};else if(i===hIe)d={message:"Connection to remote video has failed. Please refresh your browser to try again.",type:"video",code:Cv.VideoConnectionFailed};else if(i===fIe)c===G5.Exception?d={message:"Can't access your microphone. Please refresh your browser to try again.",type:"audio",code:Cv.AudioStreamEnded}:c===G5.PermissionReset&&(d={message:"Your browser is preventing access to your microphone.Please grant the permission.",type:"audio",code:Cv.MicrophonePermissionReset});else if(i===pIe)c===G5.Exception?d={message:"Can't access your camera. Please refresh your browser to try again.",type:"video",code:Cv.VideoStreamEnded}:c===G5.PermissionReset&&(d={message:"Your browser is preventing access to your camera.Please grant the permission.",type:"video",code:Cv.CameraPermissionReset});else if(i===mIe)d={message:"Oops! Something went wrong. Please close all browsers and rejoin the meeting.",type:"video",code:Cv.WebGlContextInvalid};else if(i===gIe)d={message:"Uh-oh! Youre running low on memory. Please close all browsers and rejoin the meeting.",type:"video",code:Cv.WasmOutOfMemory};else if(i===uIe){let[S,_]=["",0];c===-129?(S="sharing",_=Cv.SharingStreamFailed):[-130,-135].includes(c)?(S="video",_=Cv.VideoStreamFailed):[-131,-136].includes(c)&&(S="audio",_=Cv.AudioStreamFailed),d={message:"Oops! Something went wrong. Please close all browsers and rejoin the meeting.",type:S,code:_}}else if(i===vIe){const S="audio";let[_,x]=[0,""];c?(_=Cv.MicrophoneMuted,x="Your mic is muted in system or browser settings. Please open your settings to unmute and adjust the level."):(_=Cv.AudioStreamMuted,x="Audio was interrupted by the system. Please click anywhere to resume playback.",p=Ove().pipe(_h(ur(e,so.AudioStreamUnmuted).pipe(Jr(1))),Yo((()=>{qPe(bh,n.value)})))),d={message:x,type:S,code:_}}else if(i===yIe)c===!1&&(d={message:"Audio playback was interrupted. Please click anywhere to resume playback.",type:"audio",code:Cv.AudioPlaybackInterrupted});else if(i===SIe&&n.value.video.isCurrentUserStartedVideo){const S="video",_=Cv.VideoStreamMuted;p=Ove().pipe(_h(ur(e,so.VideoStreamUnmuted).pipe(Jr(1))),Yo((()=>{(function(P,B){const{video:{isCurrentUserStartedVideo:H,activeCamera:U,isUsingMediaPlayback:z,customizedVideoOption:Z}}=B;if(H&&!z){const{captureWidth:te,captureHeight:ce}=xte(Z);P.changeCamera(U,xz.includes(U),{width:te,height:ce},!0)}})(bh,n.value)}))),d={message:"Video was interrupted by the system. Please click anywhere to resume.",type:S,code:_}}var v;return d&&(jBe.report(`active media failed. reason:${i}; message:${d.message}`,`${(v=d.type)===null||v===void 0?void 0:v.replace(/^./,(S=>S.toUpperCase()))} exception flow`),dt(vPe,d)),p??lo([])})),pn((()=>Po))),epics13:e=>Uo(e,4366).pipe(Yo((n=>{const{payload:o}=n;bh.bypassMediaMessage(o)})),pn((()=>Po))),epics14:(e,n)=>ur(e,so.NotifyUIFailover).pipe(xn((()=>!n.value.meeting.isMeetingReset&&n.value.meeting.meetingStatus===Th.Joined)),Do((o=>{const{payload:{data:i}}=o;dt(Rv,{reason:Em.Failover});let c=ef.NotifyUiFailover;return i?.audio!==void 0&&(is.isAndroidOrIOSBrowser||is.isHarmonyOS||i.audio!==swe.FallbackToWasm||ni.set(rl.VideoSDKWebRTCAudioFallbackWasm,1,Ca.SessionStorage)),i?.video!==void 0&&(c=ef.NotifyUIWMSCFailover,i.video===swe.FallbackToWasm&&ni.set(rl.VideoSDKWebRTCVideoFallbackWasm,1,Ca.SessionStorage)),wg(c)})))},lXe=xg(aXe),EIe={processorCreatedList:[],processorInstanceList:[]},cXe={meeting:zYe,socket:nXe,participants:Tqe,media:iXe,processor:wm({[`${S4e}`]:bt(((e,{payload:n})=>{e.processorCreatedList.push(n)})),[`${C4e}`]:bt(((e,{payload:n})=>{e.processorInstanceList.push(n)})),[`${E4e}`]:bt(((e,{payload:n})=>{const o=e.processorInstanceList.findIndex((i=>i.name===n.name&&i.type===n.type));o>=0&&e.processorInstanceList.splice(o,1)})),[`${w4e}`]:()=>({...EIe})},EIe)},uXe=UBe;function wIe(e){return(function(n){for(var o=Object.keys(n),i={},c=0;c<o.length;c++){var d=o[c];typeof n[d]=="function"&&(i[d]=n[d])}var p,v=Object.keys(i);try{(function(S){Object.keys(S).forEach((function(_){var x=S[_];if(x(void 0,{type:Uee.INIT})===void 0)throw new Error(mg(12));if(x(void 0,{type:Uee.PROBE_UNKNOWN_ACTION()})===void 0)throw new Error(mg(13))}))})(i)}catch(S){p=S}return function(S,_){if(S===void 0&&(S={}),p)throw p;for(var x=!1,P={},B=0;B<v.length;B++){var H=v[B],U=i[H],z=S[H],Z=U(z,_);if(Z===void 0)throw _&&_.type,new Error(mg(14));P[H]=Z,x=x||Z!==z}return(x=x||v.length!==Object.keys(S).length)?P:S}})({...cXe,...e})}class W_ extends Qve{static createClient(){if(!this.meetingClient){const n=(function(){const o=(function(v){v===void 0&&(v={});var S,_=new dwe.constructor(dwe.schedulerActionCtor),x=new J0,P=function(B){S=B;var H=new J0,U=new J0,z=H.asObservable().pipe(Ju(_)),Z=new eqe(U.pipe(Ju(_)),S.getState());return x.pipe(Do((function(te){var ce=te(z,Z,v.dependencies);if(!ce)throw new TypeError('Your root Epic "'+(te.name||"<anonymous>")+`" does not return a stream. Double check you're not missing a return statement!`);return ce})),pn((function(te){return lo(te).pipe(Xge(_),Ju(_))}))).subscribe(S.dispatch),function(te){return function(ce){var se=te(ce);return U.next(S.getState()),H.next(ce),se}}};return P.run=function(B){x.next(B)},P})(),{epicSubject:i,rootEpic:c}=(function(){const v=new F7e(FLe(qYe,rXe,xqe,lXe));return{epicSubject:v,rootEpic:(S,_,x)=>v.pipe(_h(S.pipe(Qo(`${cLe}`))),pn((P=>P(S,_,x))))}})(),d=[o],p=$Be(wIe(),uXe((function(){for(var v=arguments.length,S=new Array(v),_=0;_<v;_++)S[_]=arguments[_];return function(x){return function(){var P=x.apply(void 0,arguments),B=function(){throw new Error(mg(15))},H={getState:P.getState,dispatch:function(){return B.apply(void 0,arguments)}},U=S.map((function(z){return z(H)}));return B=UBe.apply(void 0,U)(P.dispatch),QOe(QOe({},P),{},{dispatch:B})}}})(...d)));return p.asyncReducers={},p.injectReducer=(v,S)=>{p.asyncReducers[v]===void 0&&(p.asyncReducers[v]=S,p.replaceReducer(wIe(p.asyncReducers)))},p.injectEpic=v=>{i.next(v)},o.run(c),p})();this.meetingClient=new BYe(n)}return this.meetingClient}}function dXe(e,n,o){return(n=(function(i){var c=(function(d,p){if(typeof d!="object"||!d)return d;var v=d[Symbol.toPrimitive];if(v!==void 0){var S=v.call(d,p);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)})(i,"string");return typeof c=="symbol"?c:c+""})(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function _Ie(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable}))),o.push.apply(o,i)}return o}function Ny(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?_Ie(Object(o),!0).forEach((function(i){dXe(e,i,o[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):_Ie(Object(o)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))}))}return e}function dz(e,n){if(e==null)return{};var o,i,c=(function(p,v){if(p==null)return{};var S={};for(var _ in p)if({}.hasOwnProperty.call(p,_)){if(v.indexOf(_)!==-1)continue;S[_]=p[_]}return S})(e,n);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(i=0;i<d.length;i++)o=d[i],n.indexOf(o)===-1&&{}.propertyIsEnumerable.call(e,o)&&(c[o]=e[o])}return c}const Bz="2.2.12",BX="INVALID_PARAMETERS",hXe="https://dmogdx0jrul3u.cloudfront.net/videosdk/".concat(Bz,"/lib"),fXe="https://source.zoom.us/videosdk/".concat(Bz,"/lib"),pXe="https://jssdk.zoomus.cn/videosdk/".concat(Bz,"/lib"),ege=e=>typeof e=="string"&&e.length>0,WBe=e=>{let n="";switch(e){case"Global":n=fXe;break;case"CN":n=pXe;break;case"CDN":n=hXe;break;default:n=e}return n},GBe=["userId","avatar","displayName","isHost","audio","muted","bVideoOn","sharerOn","sharerPause","userIdentity","isSpeakerOnly","bVideoShare","bShareAudioOn","userGuid","isPhoneUser","isInFailover",{from:"isCoHost",to:"isManager"},{from:"bAllowISORecord",to:"isAllowIndividualRecording"},{from:"bVideoConnect",to:"isVideoConnect"},{from:"bShareToBORooms",to:"bShareToSubsession"},{from:"bid",to:"subsessionId"},{from:"phoneNumber",to:e=>e===void 0?{}:{phoneNumber:e}}],qBe=[...GBe,{from:"userGUID",to:"userGuid"},{from:"bCoHost",to:e=>({isManager:!!e})},{from:"userType",to:e=>({isPhoneUser:!(5&~e)})},{from:"bid",to:e=>e?{subsessionId:e}:{}},{from:"bInFailover",to:"isInFailover"}],mXe=qBe.map((e=>typeof e=="string"?e:e.from));function KBe(e,n){return typeof e=="string"?{["".concat(e)]:n}:typeof e.to=="string"?{["".concat(e.to)]:n}:e.to(n)}function l2(e){if(e)return GBe.reduce(((n,o)=>{const i=typeof o=="string"?o:o.from,c=KBe(o,e[i]);return Ny(Ny({},n),c)}),{})}function tge(e){if(e)return Object.keys(e).reduce(((n,o)=>{const i=mXe.indexOf(o);if(i>-1){const c=qBe[i],d=typeof c=="string"?c:c.from,p=KBe(c,e[d]);return Ny(Ny({},n),p)}return n}),{})}const Fn=Symbol("stream");class gXe{constructor(n){this[Fn]=void 0,this[Fn]=n}startAudio(n){return this[Fn].startAudio(n)}stopAudio(){return this[Fn].stopAudio()}muteAudio(n){return this[Fn].muteAudio(n)}unmuteAudio(n){return this[Fn].unmuteAudio(n)}inviteByPhone(n,o,i,c){return this[Fn].dialOut(n,o,i,c)}cancelInviteByPhone(n,o,i){return this[Fn].cancelDialOut(n,o,i)}hangup(){return this[Fn].hangup()}getCurrentSessionCallinInfo(){return this[Fn].getDialInInfo()}muteShareAudio(n){return this[Fn].muteShareAudio(n)}unmuteShareAudio(n){return this[Fn].unmuteShareAudio(n)}subscribeAudioStatisticData(n){return this[Fn].subscribeAudioStatisticData(n)}unsubscribeAudioStatisticData(n){return this[Fn].unsubscribeAudioStatisticData(n)}muteUserAudioLocally(n){return this[Fn].muteUserAudioLocally(n)}unmuteUserAudioLocally(n){return this[Fn].unmuteUserAudioLocally(n)}adjustUserAudioVolumeLocally(n,o){return this[Fn].adjustUserAudioVolumeLocally(n,o)}enableBackgroundNoiseSuppression(n){return this[Fn].enableBackgroundNoiseSuppression(n)}enableSyncButtonsOnHeadset(n){return this[Fn].enableSyncButtonsOnHeadset(n)}muteAllUserAudioLocally(){return this[Fn].muteAllUserAudioLocally()}unmuteAllUserAudioLocally(){return this[Fn].unmuteAllUserAudioLocally()}enableOriginalSound(n){return this[Fn].enableOriginalSound(n)}callCRCDevice(n,o){return this[Fn].callCRCDevice(n,o)}cancelCallCRCDevice(n,o){return this[Fn].cancelCallCRCDevice(n,o)}startSecondaryAudio(n,o){return this[Fn].startSecondaryAudio(n,o)}stopSecondaryAudio(){return this[Fn].stopSecondaryAudio()}muteAllAudio(){return this[Fn].muteAllAudio()}unmuteAllAudio(){return this[Fn].unmuteAllAudio()}muteAudioUponStartAudio(n){return this[Fn].muteAudioUponEntry(n)}allowAudioUnmutedBySelf(n){return this[Fn].allowUnmuteAudioThemselves(n)}isAudioMuted(n){return this[Fn].isAudioMuted(n)}getMicList(){return this[Fn].getMicList()}getSpeakerList(){return this[Fn].getSpeakerList()}getActiveMicrophone(){return this[Fn].getActiveMicrophone()}getActiveSpeaker(){return this[Fn].getActiveSpeaker()}switchMicrophone(n){return this[Fn].switchMicrophone(n)}switchSpeaker(n){return this[Fn].switchSpeaker(n)}isSupportPhoneFeature(){return this[Fn].isSupportCallOut()}getSupportCountryInfo(){return this[Fn].getDialOutCountries()}getInviteByPhoneStatus(){return this[Fn].getDialOutStatus()}getShareAudioStatus(){return this[Fn].getShareAudioStatus()}isOthersShareAudioMutedLocally(n){return this[Fn].isOthersShareAudioMutedLocally(n)}getAudioStatisticData(){return this[Fn].getAudioStatisticData()}isUserAudioMutedLocally(n){return this[Fn].isUserAudioMutedLocally(n)}getUserVolumeLocally(n){return this[Fn].getUserVolumeLocally(n)}isSupportMicrophoneAndShareAudioSimultaneously(){return this[Fn].isSupportMicrophoneAndShareAudioSimultaneously()}getAudioMediaPlaybackController(){return this[Fn].getAudioMediaPlaybackController()}isAllowAudioUnmutedBySelf(){return this[Fn].isAllowToUnmute()}getSessionSIPAddress(){return this[Fn].getSessionSIPAddress()}startVideo(n){return this[Fn].startVideo(n)}stopVideo(){return this[Fn].stopVideo()}createProcessor(n){return this[Fn].createProcessor(n)}addProcessor(n){return this[Fn].addProcessor(n)}removeProcessor(n){return this[Fn].removeProcessor(n)}renderVideo(n,o,i,c,d,p,v,S){return this[Fn].renderVideo(n,o,i,c,d,p,v,S)}stopRenderVideo(n,o,i,c){let d=arguments.length>4&&arguments[4]!==void 0&&arguments[4],p=arguments.length>5?arguments[5]:void 0;return this[Fn].stopRenderVideo(n,o,i,c,d,p)}updateVideoCanvasDimension(n,o,i){return this[Fn].updateVideoCanvasDimension(n,o,i)}adjustRenderedVideoPosition(n,o,i,c,d,p,v){return this[Fn].adjustRenderedVideoPosition(n,o,i,c,d,p,v)}clearVideoCanvas(n,o){return this[Fn].clearVideoCanvas(n,o)}mirrorVideo(n){return this[Fn].mirrorVideo(n)}enableHardwareAcceleration(n){return this[Fn].enableHardwareAcceleration(n)}previewVirtualBackground(n,o,i,c){return this[Fn].previewVirtualBackground(n,o,i,c)}updateVirtualBackgroundImage(n,o){return this[Fn].updateVirtualBackgroundImage(n,o)}stopPreviewVirtualBackground(){return this[Fn].stopPreviewVirtualBackground()}previewVideoMask(n,o){return this[Fn].previewVideoMask(n,o)}updateVideoMask(n){return this[Fn].updateVideoMask(n)}stopPreviewVideoMask(){return this[Fn].stopPreviewVideoMask()}switchCamera(n){return this[Fn].switchCamera(n)}subscribeVideoStatisticData(n){return this[Fn].subscribeVideoStatisticData(n)}unsubscribeVideoStatisticData(n){return this[Fn].unsubscribeVideoStatisticData(n)}attachVideo(n,o,i){return this[Fn].attachVideo(n,o,i)}detachVideo(n,o){return this[Fn].detachVideo(n,o)}spotlightVideo(n,o){return this[Fn].spotlight(n,o!=null&&o)}removeSpotlightedVideo(n){return this[Fn].removeSpotlight(n)}removeAllSpotlightedVideos(){return this[Fn].removeAllSpotlights()}screenshotVideo(n){return this[Fn].screenshotVideo(n)}isCapturingVideo(){return this[Fn].isCapturingVideo()}isCameraTaken(){return this[Fn].isCameraTaken()}getActiveVideoId(){return this[Fn].getActiveVideoId()}getActiveCamera(){return this[Fn].getActiveCamera()}getCameraList(){return this[Fn].getCameraList()}isCaptureForbidden(){return this[Fn].isCaptureForbidden()}getVideoMaxQuality(){return this[Fn].getVideoMaxQuality()}getReceivedVideoDimension(){return this[Fn].getReceivedVideoDimension()}isSupportMultipleVideos(){return this[Fn].isSupportMultipleVideos()}getMaxRenderableVideos(){return this[Fn].getMaxRenderableVideos()}isSupportHDVideo(){return this[Fn].isSupportHDVideo()}isSupportVirtualBackground(){return this[Fn].isSupportVirtualBackground()}isSupportVideoProcessor(){return this[Fn].isSupportVideoProcessor()}isSupportAudioProcessor(){return this[Fn].isSupportAudioProcessor()}isSupportShareProcessor(){return this[Fn].isSupportShareProcessor()}getVirtualbackgroundStatus(){return this[Fn].getVirtualbackgroundStatus()}getVideoStatisticData(){return this[Fn].getVideoStatisticData()}isRenderSelfViewWithVideoElement(){return this[Fn].isRenderSelfViewWithVideoElement()}getCapturedVideoResolution(){return this[Fn].getCapturedVideoResolution()}getVideoMaskStatus(){return this[Fn].getVideoMaskStatus()}isVideoMirrored(){return this[Fn].isVideoMirrored()}getSpotlightedUserList(){return this[Fn].getSpotlightedUserList().map((n=>l2(n)))}getVideoMediaPlaybackController(){return this[Fn].getVideoMediaPlaybackController()}startShareView(n,o){return this[Fn].startShareView(n,o)}stopShareView(){return this[Fn].stopShareView()}attachShareView(n,o){return this[Fn].attachShareView(n,o)}detachShareView(n,o){return this[Fn].detachShareView(n,o)}switchShareView(n){return this[Fn].switchShareView(n)}startShareScreen(n,o){return o?.broadcastToSubsession!==void 0&&Object.assign(o||{},{broadcastToBreakoutRoom:o?.broadcastToSubsession}),this[Fn].startShareScreen(n,o)}pauseShareScreen(){return this[Fn].pauseShareScreen()}resumeShareScreen(){return this[Fn].resumeShareScreen()}stopShareScreen(){return this[Fn].stopShareScreen()}lockShare(n){return this[Fn].lockShare(n)}updateSharingCanvasDimension(n,o){return this[Fn].updateSharingCanvasDimension(n,o)}switchSharingSecondaryCamera(n){return this[Fn].switchSharingSecondaryCamera(n)}setSharePrivilege(n){return this[Fn].setSharePrivilege(n)}shareToSubsession(){return this[Fn].shareToBreakoutRoom()}stopShareToSubsession(){return this[Fn].stopShareToBreakoutRoom()}enableOptimizeForSharedVideo(n){return this[Fn].enableOptimizeForSharedVideo(n)}updateSharedVideoQuality(n){return this[Fn].updateSharedVideoQuality(n)}subscribeShareStatisticData(n){return this[Fn].subscribeShareStatisticData(n)}unsubscribeShareStatisticData(n){return this[Fn].unsubscribeShareStatisticData(n)}screenshotShareView(n){return this[Fn].screenshotSharedContent(n)}isShareLocked(){return this[Fn].isShareLocked()}getSharePrivilege(){return this[Fn].getSharePrivilege()}getActiveShareUserId(){return this[Fn].getActiveShareUserId()}getShareStatus(){return this[Fn].getShareStatus()}getShareUserList(){return this[Fn].getShareUserList().map((n=>l2(n)))}isStartShareScreenWithVideoElement(){return this[Fn].isStartShareScreenWithVideoElement()}isOptimizeForSharedVideoEnabled(){return this[Fn].isOptimizeForSharedVideoEnabled()}isSupportOptimizedForSharedVideo(){return this[Fn].isSupportOptimizedForSharedVideo()}getShareStatisticData(){return this[Fn].getShareStatisticData()}getShareStreamSettings(){return this[Fn].getShareStreamSettings()}getMaxRenderableShareViews(){return this[Fn].getMaxRenderableShareViews()}requestFarEndCameraControl(n){return this[Fn].requestFarEndCameraControl(n)}approveFarEndCameraControl(n){return this[Fn].approveFarEndCameraControl(n)}declineFarEndCameraControl(n){return this[Fn].declineFarEndCameraControl(n)}giveUpFarEndCameraControl(n){return this[Fn].giveUpFarEndCameraControl(n)}controlCamera(n){return this[Fn].controlCamera(n)}controlFarEndCamera(n){return this[Fn].controlFarEndCamera(n)}getFarEndCameraPTZCapability(n){return this[Fn].getFarEndCameraPTZCapability(n)}getCameraPTZCapability(n){return this[Fn].getCameraPTZCapability(n)}isBrowserSupportPTZ(){return this[Fn].isBrowserSupportPTZ()}getNetworkQuality(n){return this[Fn].getNetworkQuality(n)}requestRemoteControl(){return this[Fn].requestRemoteControl()}giveUpRemoteControl(){return this[Fn].giveUpRemoteControl()}startRemoteControl(n){return this[Fn].startRemoteControl(n)}grabRemoteControl(){return this[Fn].grabRemoteControl()}approveRemoteControl(n,o){return this[Fn].approveRemoteControl(n,o)}declineRemoteControl(n){return this[Fn].declineRemoteControl(n)}stopRemoteControl(){return this[Fn].stopRemoteControl()}launchRemoteControlApp(n){return this[Fn].launchRemoteControlApp(n)}isRemotelyControlApproved(){return this[Fn].isRemotelyControlApproved()}isControllingUserRemotely(){return this[Fn].isControllingUserRemotely()}isTargetShareSupportRemoteControl(n){return this[Fn].isTargetShareSupportRemoteControl(n)}getRemoteControlAppDownloadUrl(){return this[Fn].getRemoteControlAppDownloadUrl()}getRemotelyControllingUser(){return this[Fn].getRemotelyControllingUser()}isRemoteControlEnabled(){return this[Fn].isRemoteControlEnabled()}startAnnotation(){return this[Fn].startAnnotation()}stopAnnotation(){return this[Fn].stopAnnotation()}changeAnnotationPrivilege(n){return this[Fn].changeAnnotationPrivilege(n)}showAnnotatorName(n){return this[Fn].showAnnotatorName(n)}canDoAnnotation(){return this[Fn].canDoAnnotation()}getAnnotationController(){return this[Fn].getAnnotationController()}}const vXe=["isCoHost"],j0=Symbol("chat");class yXe{constructor(n){this[j0]=void 0,this[j0]=n}send(n,o){return this[j0].send(n,o)}sendToAll(n){return this[j0].send(n,Xl.All)}sendFile(n,o){return this[j0].sendFile(n,o)}downloadFile(n,o,i){return this[j0].downloadFile(n,o,i)}setPrivilege(n){return this[j0].setPrivilege(n)}getPrivilege(){return this[j0].getPrivilege()}getReceivers(){return this[j0].getReceivers().map((n=>{const{isCoHost:o}=n;return Ny({isManager:o},dz(n,vXe))}))}getHistory(){return this[j0].getHistory()}isFileTransferEnabled(){return this[j0].isFileTransferEnabled()}getFileTransferSetting(){return this[j0].getFileTransferSetting()}}const aE=Symbol("recording");class bXe{constructor(n){this[aE]=void 0,this[aE]=n}canStartRecording(){return this[aE].isRecordingEnabled()}startCloudRecording(){return this[aE].startRecording()}pauseCloudRecording(){return this[aE].pauseRecording()}resumeCloudRecording(){return this[aE].startRecording()}stopCloudRecording(){return this[aE].stopRecording()}getCloudRecordingStatus(){return this[aE].getRecordingStatus()}acceptIndividualRecording(){return this[aE].accept()}declineIndividualRecording(){return this[aE].decline()}}const nge=Symbol("command");class SXe{constructor(n){this[nge]=void 0,this[nge]=n}send(n,o){return this[nge].send(n,o)}}const CXe=["isInRoom"],EXe=["isAutoJoinRoom","isRoomSelectionEnabled"],Yd=Symbol("breakout-room");class wXe{constructor(n){this[Yd]=void 0,this[Yd]=n}createSubsessions(n,o){return this[Yd].createRooms(n,o).then((i=>i.map((c=>({subsessionId:c.roomId,subsessionName:c.name,userList:c.attendeeList})))))}openSubsessions(n,o){const i=o?Ny(Ny({},o),{},{isAutoJoinRoom:o.isAutoJoinSubsession,isRoomSelectionEnabled:o.isSubsessionSelectionEnabled}):void 0,c=n.map((d=>({roomId:d.subsessionId,name:d.subsessionName,attendeeList:d.userList})));return this[Yd].openRooms(c,i)}joinSubsession(n){return this[Yd].joinRoom(n)}leaveSubsession(){return this[Yd].leaveRoom()}askForHelp(){return this[Yd].askForHelp()}postponeHelping(n){return this[Yd].postponeHelping(n)}broadcast(n){return this[Yd].broadcast(n)}assignUserToSubsession(n,o){return this[Yd].assignUserToRoom(n,o)}moveUserToSubsession(n,o){return this[Yd].moveUserToRoom(n,o)}moveBackToMainSession(n){return this[Yd].moveBackToMainSession(n)}closeAllSubsessions(){return this[Yd].closeRoom()}startBroadcastVoice(){return this[Yd].startBroadcastVoice()}stopBroadcastVoice(){return this[Yd].stopBroadcastVoice()}getUnassignedUserList(){return this[Yd].getUnassignedAttendeeList().map((n=>l2(n)))}getSubsessionList(){return this[Yd].getRoomList().map((n=>{const{roomId:o,name:i,attendeeList:c}=n;return{subsessionId:o,subsessionName:i,userList:c.map((d=>{const p=d,{isInRoom:v}=p;return Ny({isInSubsession:v},dz(p,CXe))}))}}))}getUserStatus(){return this[Yd].getAttendeeStatus()}getSubsessionStatus(){return this[Yd].getRoomStatus()}getCurrentSubsession(){const{attendeeStatus:n,name:o,roomId:i}=this[Yd].getCurrentRoom();return{userStatus:n,subsessionName:o,subsessionId:i}}getSubsessionOptions(){const n=this[Yd].getRoomOptions(),{isAutoJoinRoom:o,isRoomSelectionEnabled:i}=n;return Ny({isAutoJoinSubsession:o,isSubsessionSelectionEnabled:i},dz(n,EXe))}isSubsessionEnabled(){return this[Yd].isBreakoutRoomEnabled()}}const Fb=Symbol("liveTranscription");class _Xe{constructor(n){this[Fb]=void 0,this[Fb]=n}startLiveTranscription(){return this[Fb].startLiveTranscription()}setSpeakingLanguage(n,o){return this[Fb].setSpeakingLanguage(n,o)}setTranslationLanguage(n){return this[Fb].setTranslationLanguage(n)}disableCaptions(n){return this[Fb].disableCaptions(n)}lockTranscriptionLanguage(n){return this[Fb].lockTranscriptionLanguage(n)}getLiveTranscriptionStatus(){return this[Fb].getLiveTranscriptionStatus()}getCurrentTranscriptionLanguage(){return this[Fb].getCurrentTranscriptionLanguage()}getCurrentTranslationLanguage(){return this[Fb].getCurrentTranslationLanguage()}getLatestTranscription(){return this[Fb].getLatestTranscription()}getLatestTranslation(){return this[Fb].getLatestTranslation()}getFullTranscriptionHistory(){return this[Fb].getFullTranscriptionHistory()}}const KL=Symbol("liveStream");class TXe{constructor(n){this[KL]=void 0,this[KL]=n}startLiveStream(n,o,i){return this[KL].startLiveStream(n,o,i)}stopLiveStream(){return this[KL].stopLiveStream()}isLiveStreamEnabled(){return this[KL].isLiveStreamEnabled()}getLiveStreamStatus(){var n;return(n=this[KL].getLiveStreamStatus())===null||n===void 0?void 0:n.status}}const $5=Symbol("logger");class AXe{constructor(n,o){if(this[$5]=void 0,this[$5]=n,o){const{debugMode:i,trackingId:c}=o;this[$5].setLogOptions({debugMode:i,trackingId:c})}}reportToGlobalTracing(n){return this[$5].reportToGlobalTracing(n)}reportRating(n,o){return this[$5].reportRating(n,o)}}const ZL=Symbol("broadcastStreaming");class xXe{constructor(n){this[ZL]=void 0,this[ZL]=n}startBroadcast(){return this[ZL].startBroadcast()}stopBroadcast(n){return this[ZL].stopBroadcast(n)}isBroadcastStreamingEnable(){return this[ZL].isBroadcastStreamingEnable()}getBroadcastStreamingStatus(){return this[ZL].getBroadcastStreamingStatus()}}const OXe=["roomName"],IXe=["roomId","roomName"],TIe=[{event:"connection-change",originalEvent:"connection-change",payloadTransform:e=>{const{roomName:n}=e,o=dz(e,OXe);return n?Ny(Ny({},o),{},{subsessionName:n}):e}},{event:"user-added",originalEvent:"user-added",payloadTransform:e=>e.map((n=>tge(n)))},{event:"user-updated",originalEvent:"user-updated",payloadTransform:e=>e.map((n=>tge(n)))},{event:"user-removed",originalEvent:"user-removed",payloadTransform:e=>e.map((n=>tge(n)))},{event:"subsession-invite-to-join",originalEvent:"invite-to-join",payloadTransform:e=>({subsessionId:e.roomId,subsessionName:e.name})},{event:"subsession-countdown",originalEvent:"room-countdown"},{event:"subsession-time-up",originalEvent:"room-time-up"},{event:"closing-subsession-countdown",originalEvent:"closing-room-countdown"},{event:"subsession-broadcast-message",originalEvent:"broadcast-message"},{event:"subsession-broadcast-voice",originalEvent:"broadcast-voice"},{event:"subsession-ask-for-help",originalEvent:"ask-for-help",payloadTransform:e=>({userId:e.userId,userGuid:e.userGuid,displayName:e.displayName,subsessionId:e.roomId,subsessionName:e.roomName})},{event:"subsession-ask-for-help-response",originalEvent:"ask-for-help-response"},{event:"subsession-invite-back-to-main-session",originalEvent:"invite-back-to-main-session"},{event:"subsession-state-change",originalEvent:"room-state-change"},{event:"host-ask-unmute-audio",originalEvent:"unmute-audio-consent"},{event:"subsession-user-update",originalEvent:"room-user-update",payloadTransform:e=>{const{roomId:n,roomName:o}=e;return Ny({subsessionId:n,subsessionName:o},dz(e,IXe))}},{event:"active-media-failed",originalEvent:"media-internal-error"}],lE=Symbol("summary");class RXe{constructor(n){this[lE]=void 0,this[lE]=n}startSummary(){return this[lE].startSummary()}stopSummary(){return this[lE].stopSummary()}isSummaryEnabled(){return this[lE].isSummaryEnabled()}getSummaryStatus(){return this[lE].getSummaryStatus()}startMeetingQuery(){return this[lE].startMeetingQuery()}stopMeetingQuery(){return this[lE].stopMeetingQuery()}isMeetingQueryEnabled(){return this[lE].isMeetingQueryEnabled()}getMeetingQueryStatus(){return this[lE].getMeetingQueryStatus()}}const Ga=Symbol("Client"),FX=new WeakMap;class kXe{constructor(){this[Ga]=void 0,this.stream=void 0,this.chat=void 0,this.command=void 0,this.recording=void 0,this.subsession=void 0,this.liveTranscription=void 0,this.logger=void 0,this.liveStream=void 0,this.aiClient=void 0,this.broadcastStreaming=void 0,this[Ga]=W_.createClient(),FX.set(this,new Map)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en-US",o=arguments.length>2?arguments[2]:void 0;const i=WBe(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global");return window.isSecureContext===!1&&console.warn("The page is not in a secure context, to use audio, video, screen, a secure context must be enabled."),(function(){const c="__ZOOM_VIDEO_SDK_DOM_STORAGE_TEST__";try{return localStorage.setItem(c,c),localStorage.removeItem(c),sessionStorage.setItem(c,c),sessionStorage.removeItem(c),!0}catch{return!1}})()||console.warn("localstorage or sessionstorage is not enabled, please enable to use the video sdk,"),this[Ga].init("","",{language:n,dependentAssets:i,constraints:Ny(Ny({},W_.checkSystemRequirements()),{},{screen:typeof WebAssembly=="object"&&typeof Worker=="function"}),additionalFeatures:["chat","cmd","recording","breakoutRoom","liveTranscription","logger","liveStream","summary","broadcastStreaming"],webEndpoint:o?.webEndpoint||"zoom.us",skipJsMedia:o?.skipJsMedia,enforceMultipleVideos:o?.enforceMultipleVideos,stayAwake:o?.stayAwake,enforceVirtualBackground:o?.enforceVirtualBackground,quicklyLeaveMeeting:o?.leaveOnPageUnload,patchJsMedia:o?.patchJsMedia,alternativeNameForVideoPlayer:o?.alternativeNameForVideoPlayer,isUIToolkit:o?.isUIToolkit,isLogDetailed:o?.isLogDetailed})}join(n,o,i,c,d){return ege(n)&&ege(o)&&ege(i)?n.length>200?Promise.reject({type:BX,reason:"The maximum length of topic is 200",errorCode:ht.CLIENT_INVALID_JOIN_PARAMETER}):i.length>200?Promise.reject({type:BX,reason:"The maximum length of username is 200",errorCode:ht.CLIENT_INVALID_JOIN_PARAMETER}):c&&(typeof c!="string"||c.length>10)?Promise.reject({type:BX,reason:"The maximum length of password is 10",errorCode:ht.CLIENT_INVALID_JOIN_PARAMETER}):this[Ga].joinInstant(n,o,i,Bz,c,d):Promise.reject({type:BX,reason:"Topic, token and userName must be string and required",errorCode:ht.CLIENT_INVALID_JOIN_PARAMETER})}leave(){var n;return arguments.length>0&&arguments[0]!==void 0&&arguments[0]?((n=FX.get(this))===null||n===void 0||n.clear(),this[Ga].end()):this[Ga].leave()}on(n,o){const i=TIe.find((c=>c.event===n));if(i){const{originalEvent:c,payloadTransform:d}=i;if(d){const p=S=>{const _=d(S);o(_)};this[Ga].on(c,p);const v=FX.get(this);if(v){v.has(n)||v.set(n,[]);const S=v.get(n);S?.push({originalCb:o,newCb:p})}}else this[Ga].on(c,o)}else this[Ga].on(n,o)}off(n,o){const i=TIe.find((c=>c.event===n));if(i){const{originalEvent:c,payloadTransform:d}=i;if(d){const p=FX.get(this);if(p){const v=p.get(n),S=v?.find((_=>_.originalCb===o));if(S&&v){this[Ga].off(c,S.newCb);const _=v?.filter((x=>x.originalCb!==o));p.set(n,_)}}}else this[Ga].off(c,o)}else this[Ga].off(n,o)}getMediaStream(){return this.stream||(this.stream=new gXe(this[Ga].getMediaStream())),this.stream}getChatClient(){return this.chat||(this.chat=new yXe(this[Ga].getFeatureModule("chat"))),this.chat}getRecordingClient(){return this.recording||(this.recording=new bXe(this[Ga].getFeatureModule("recording"))),this.recording}getCommandClient(){return this.command||(this.command=new SXe(this[Ga].getFeatureModule("cmd"))),this.command}getSubsessionClient(){return this.subsession||(this.subsession=new wXe(this[Ga].getFeatureModule("breakoutRoom"))),this.subsession}getLiveTranscriptionClient(){return this.liveTranscription||(this.liveTranscription=new _Xe(this[Ga].getFeatureModule("liveTranscription"))),this.liveTranscription}getLoggerClient(n){return this.logger||(this.logger=new AXe(this[Ga].getFeatureModule("logger"),n)),this.logger}getLiveStreamClient(){return this.liveStream||(this.liveStream=new TXe(this[Ga].getFeatureModule("liveStream"))),this.liveStream}getBroadcastStreamingClient(){return this.broadcastStreaming||(this.broadcastStreaming=new xXe(this[Ga].getFeatureModule("broadcastStreaming"))),this.broadcastStreaming}getAIClient(){return this.aiClient||(this.aiClient=new RXe(this[Ga].getFeatureModule("summary"))),this.aiClient}getSessionInfo(){const n=this[Ga].getMeetingInfo();return{isInMeeting:n.isInMeeting||!1,password:n.password||"",topic:n.topic,userName:n.userName,userId:n.userId,sessionId:n.meetingId}}getCurrentUserInfo(){return l2(this[Ga].getCurrentUserInfo())}getUser(n){return l2(this[Ga].getParticipantsList().find((o=>o.userId===n)))}getAllUser(){return this[Ga].getParticipantsList().map((n=>l2(n)))}changeName(n,o){return this[Ga].changeName(n,o)}makeHost(n){return this[Ga].makeHost(n)}removeUser(n){return this[Ga].removeUser(n)}makeManager(n){return this[Ga].makeCoHost(n)}revokeManager(n){return this[Ga].revokeCoHost(n)}reclaimHost(){return this[Ga].reclaimHost()}isHost(){return this[Ga].isHost()}isOriginalHost(){return this[Ga].isOriginHost()}getSessionHost(){return l2(this[Ga].getMeetingHost())}isManager(){return this[Ga].isCoHost()}}class ibe{static createClient(){return this.videoClient||(this.videoClient=new kXe),this.videoClient}static destroyClient(){return this.videoClient?this.videoClient.leave().then((()=>(this.videoClient=null,W_.destroyClient()))):Promise.resolve(void 0)}static checkSystemRequirements(){return W_.checkSystemRequirements()}static checkFeatureRequirements(){return W_.checkFeatureRequirements()}static getDevices(n){return W_.getDevices(n)}static createLocalAudioTrack(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return W_.createLocalAudioTrack(n)}static createLocalVideoTrack(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return W_.createLocalVideoTrack(n)}static preloadDependentAssets(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global";W_.preloadDependentAssets(WBe(n))}}ibe.videoClient=void 0,ibe.VERSION=Bz;(function(e){return e[e.All=1]="All",e[e.NoOne=4]="NoOne",e[e.EveryonePublicly=5]="EveryonePublicly",e})({});(function(e){return e[e.All=0]="All",e})({});(function(e){return e[e.Automatically=o2.Automatically]="Automatically",e[e.Manually=o2.Manually]="Manually",e})({});(function(e){return e[e.Initial=cr.Initial]="Initial",e[e.Invited=cr.Invited]="Invited",e[e.Joining=cr.Joining]="Joining",e[e.InSubsession=cr.InRoom]="InSubsession",e[e.Leaving=cr.Leaving]="Leaving",e[e.MainSession=cr.MainSession]="MainSession",e})({});(function(e){return e[e.NotStarted=ci.NotStarted]="NotStarted",e[e.InProgress=ci.InProgress]="InProgress",e[e.Closing=ci.Closing]="Closing",e[e.Closed=ci.Closed]="Closed",e})({});(function(e){return e[e.Failover=Em.Failover]="Failover",e[e.JoinSubsession=Em.JoinBreakoutRoom]="JoinSubsession",e[e.MoveToSubsession=Em.MoveToBreakoutRoom]="MoveToSubsession",e[e.BackToMainSession=Em.BackToMainSession]="BackToMainSession",e})({});(function(e){return e[e.Unlocked=Ub.HostGrab]="Unlocked",e[e.Locked=Ub.OnlyHost]="Locked",e[e.MultipleShare=Ub.MultipleShare]="MultipleShare",e})({});(function(e){return e[e.Unknown=Dp.Unknown]="Unknown",e[e.Uninstalled=Dp.Uninstalled]="Uninstalled",e[e.Installed=Dp.Installed]="Installed",e[e.Unlaunched=TQ.Unlaunched]="Unlaunched",e[e.Launched=TQ.Launched]="Launched",e})({});document.addEventListener("DOMContentLoaded",async()=>{const e=window.ZoomVideo,n=document.querySelector('meta[name="zoom-videosdk-key"]'),o=document.querySelector('meta[name="zoom-videosdk-secret"]');n&&n.content,o&&o.content,document.querySelector("video-player-container"),""+String(Date.now()).slice(6);const i=e.createClient(),c=["localhost","127.0.0.1","::1"].includes(location.hostname),d=window.isSecureContext||c;async function p(Ce,Te){if(console.log("data",Ce),window.consultation_id=Ce.consultation_id,window.userRole=Ce.role,window.callDurationLimit=Ce.duration*60*1e3,!d){alert("This app requires a secure context for camera/mic. Open via HTTPS or run on localhost.");return}await i.init("en-US","Global",{patchJsMedia:!0}),i.on("peer-video-state-change",x),i.on("user-added",S),i.on("user-removed",_),await i.join(Ce.meeting_number,Ce.signature,Te);const V=i.getMediaStream();await V.startAudio(),await V.startVideo(),await x({action:"Start",userId:i.getCurrentUserInfo().userId,userName:Te}),document.getElementById("video-call-container").classList.remove("hidden");const et=await(await fetch(`/consultation/start-time/${Ce.consultation_id}`)).json();et.start_time&&(window.zoomCallStartTime=et.start_time,se(et.start_time))}let v=!1;async function S(Ce){if(!v){v=!0;const Te=Date.now();await fetch("/consultation/start-time",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":window.csrfToken},body:JSON.stringify({consultation_id:window.consultation_id,start_time:Te})}),window.zoomCallStartTime=Te,se(Te)}}function _(){Se(),P()}async function x(Ce){const Te=i.getMediaStream(),V=Ce.userId;console.log("user data",i.getCurrentUserInfo());const ke=V===i.getCurrentUserInfo().userId?document.querySelector("#local-video"):document.querySelector("#remote-video");if(Ce.action==="Stop"){const et=await Te.detachVideo(Ce.userId);(Array.isArray(et)?et:[et]).forEach($e=>$e?.remove?.());return}try{const et=await Te.attachVideo(Ce.userId,2);if(et&&ke&&!ke.contains(et)){if(ke.appendChild(et),console.log("client ----------------------",i),V===i.getCurrentUserInfo().userId)document.querySelector("#user-name").textContent=i.getCurrentUserInfo().displayName;else{const Re=i.getAllUser().find(_e=>_e.userId===V);Re&&Re.displayName?document.querySelector("#guest-name").textContent=Re.displayName:document.querySelector("#guest-name").textContent="Guest"}console.log("Attached video element:",et.tagName||et.nodeName),setTimeout(()=>{console.log("Video rect:",et.getBoundingClientRect())},150)}else et||console.warn("attachVideo returned no element")}catch(et){console.error("Error attaching video:",et)}}async function P(){const Ce=i.getMediaStream();for(const Te of i.getAllUser()){const V=await Ce.detachVideo(Te.userId);Array.isArray(V)?V.forEach(ke=>ke.remove()):V&&V.remove&&V.remove()}i.off("peer-video-state-change",x),document.querySelector("#guest-name").textContent="",document.querySelector("#user-name").innerHTML="",await i.leave(),Se(),await fetch(window.consultationStatusUpdateUrl,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":window.csrfToken},body:JSON.stringify({consultation_id:window.consultation_id,status:"completed"})})}async function B(){const Ce=i.getMediaStream(),Te=document.getElementById("video-icon");document.getElementById("video-label"),Ce.isCapturingVideo()?(await Ce.stopVideo(),await x({action:"Stop",userId:i.getCurrentUserInfo().userId}),Te.classList.remove("fa-video"),Te.classList.add("fa-video-slash","text-red-500")):(await Ce.startVideo(),await x({action:"Start",userId:i.getCurrentUserInfo().userId}),Te.classList.remove("fa-video-slash","text-red-500"),Te.classList.add("fa-video"))}async function H(){const Ce=i.getMediaStream(),Te=document.getElementById("audio-icon");document.getElementById("audio-label");try{Ce.isAudioMuted()?(await Ce.unmuteAudio(),Te.classList.remove("fa-microphone-slash","text-red-500"),Te.classList.add("fa-microphone")):(await Ce.muteAudio(),Te.classList.remove("fa-microphone"),Te.classList.add("fa-microphone-slash","text-red-500"))}catch(V){console.error("Audio toggle failed:",V)}}const U=document.querySelector("#end-call-btn"),z=document.querySelector("#toggle-audio-btn"),Z=document.querySelector("#toggle-video-btn");U&&Z&&z&&(U.addEventListener("click",async()=>{Z.style.display="none",z.style.display="none",Se(),await P(),U.style.display="none"}),Z.addEventListener("click",async()=>{await B()}),z.addEventListener("click",async()=>{await H()})),window.startCall=p,window.renderVideo=x,window.leaveCall=P,window.toggleVideo=B;let te=null,ce=null;function se(Ce=null){const Te=document.getElementById("call-timer");te=Ce?new Date(Ce).getTime():Date.now(),ce&&clearInterval(ce),ce=setInterval(()=>{const V=Date.now()-te,ke=window.callDurationLimit-V;if(ke<=0){Te.textContent="00:00",clearInterval(ce),ce=null,P();return}const et=Math.floor(ke/1e3),$e=Math.floor(et/3600),Re=Math.floor(et%3600/60),_e=et%60;Te.textContent=($e>0?`${String($e).padStart(2,"0")}:`:"")+`${String(Re).padStart(2,"0")}:${String(_e).padStart(2,"0")}`},1e3)}function Se(){ce&&clearInterval(ce),ce=null;const Ce=document.getElementById("call-timer");Ce&&(Ce.textContent="00:00")}});var oge={exports:{}},AIe;function DXe(){return AIe||(AIe=1,(function(e){(function(){var n=function(t){if(t===null)return"null";if(t===void 0)return"undefined";var r=typeof t;return r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},o=function(t){return["undefined","boolean","number","string","function","xml","null"].indexOf(t)!==-1},i=function(t,r){var a=Array.prototype.slice.call(t);return a.sort(r)},c=function(t,r){return d(function(a,u){return t.eq(r(a),r(u))})},d=function(t){return{eq:t}},p=d(function(t,r){return t===r}),v=p,S=function(t){return d(function(r,a){if(r.length!==a.length)return!1;for(var u=r.length,f=0;f<u;f++)if(!t.eq(r[f],a[f]))return!1;return!0})},_=function(t,r){return c(S(t),function(a){return i(a,r)})},x=function(t){return d(function(r,a){var u=Object.keys(r),f=Object.keys(a);if(!_(v).eq(u,f))return!1;for(var b=u.length,A=0;A<b;A++){var M=u[A];if(!t.eq(r[M],a[M]))return!1}return!0})},P=d(function(t,r){if(t===r)return!0;var a=n(t),u=n(r);return a!==u?!1:o(a)?t===r:a==="array"?S(P).eq(t,r):a==="object"?x(P).eq(t,r):!1});const B=Object.getPrototypeOf,H=(t,r,a)=>a(t,r.prototype)?!0:t.constructor?.name===r.name,U=t=>{const r=typeof t;return t===null?"null":r==="object"&&Array.isArray(t)?"array":r==="object"&&H(t,String,(a,u)=>u.isPrototypeOf(a))?"string":r},z=t=>r=>U(r)===t,Z=t=>r=>typeof r===t,te=t=>r=>t===r,ce=(t,r)=>Se(t)&&H(t,r,(a,u)=>B(a)===u),se=z("string"),Se=z("object"),Ce=t=>ce(t,Object),Te=z("array"),V=te(null),ke=Z("boolean"),et=te(void 0),$e=t=>t==null,Re=t=>!$e(t),_e=Z("function"),ut=Z("number"),ct=(t,r)=>{if(Te(t)){for(let a=0,u=t.length;a<u;++a)if(!r(t[a]))return!1;return!0}return!1},St=()=>{},ee=(t,r)=>(...a)=>t(r.apply(null,a)),ln=(t,r)=>a=>t(r(a)),it=t=>()=>t,Ht=t=>t,Ut=(t,r)=>t===r;function Xe(t,...r){return(...a)=>{const u=r.concat(a);return t.apply(null,u)}}const tn=t=>r=>!t(r),eo=t=>()=>{throw new Error(t)},In=t=>t(),mn=t=>{t()},Dt=it(!1),un=it(!0);class ye{tag;value;static singletonNone=new ye(!1);constructor(r,a){this.tag=r,this.value=a}static some(r){return new ye(!0,r)}static none(){return ye.singletonNone}fold(r,a){return this.tag?a(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?ye.some(r(this.value)):ye.none()}bind(r){return this.tag?r(this.value):ye.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:ye.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r??"Called getOrDie on None")}static from(r){return Re(r)?ye.some(r):ye.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ms=Array.prototype.slice,Vo=Array.prototype.indexOf,Eo=Array.prototype.push,Oo=(t,r)=>Vo.call(t,r),Zn=(t,r)=>{const a=Oo(t,r);return a===-1?ye.none():ye.some(a)},xt=(t,r)=>Oo(t,r)>-1,cn=(t,r)=>{for(let a=0,u=t.length;a<u;a++){const f=t[a];if(r(f,a))return!0}return!1},vn=(t,r)=>{const a=t.length,u=new Array(a);for(let f=0;f<a;f++){const b=t[f];u[f]=r(b,f)}return u},qe=(t,r)=>{for(let a=0,u=t.length;a<u;a++){const f=t[a];r(f,a)}},pt=(t,r)=>{for(let a=t.length-1;a>=0;a--){const u=t[a];r(u,a)}},Ft=(t,r)=>{const a=[],u=[];for(let f=0,b=t.length;f<b;f++){const A=t[f];(r(A,f)?a:u).push(A)}return{pass:a,fail:u}},Ve=(t,r)=>{const a=[];for(let u=0,f=t.length;u<f;u++){const b=t[u];r(b,u)&&a.push(b)}return a},Ot=(t,r)=>{if(t.length===0)return[];{let a=r(t[0]);const u=[];let f=[];for(let b=0,A=t.length;b<A;b++){const M=t[b],N=r(M);N!==a&&(u.push(f),f=[]),a=N,f.push(M)}return f.length!==0&&u.push(f),u}},Nt=(t,r,a)=>(pt(t,(u,f)=>{a=r(a,u,f)}),a),Gt=(t,r,a)=>(qe(t,(u,f)=>{a=r(a,u,f)}),a),Tt=(t,r,a)=>{for(let u=0,f=t.length;u<f;u++){const b=t[u];if(r(b,u))return ye.some(b);if(a(b,u))break}return ye.none()},Et=(t,r)=>Tt(t,r,Dt),Yn=(t,r)=>{for(let a=0,u=t.length;a<u;a++){const f=t[a];if(r(f,a))return ye.some(a)}return ye.none()},fo=(t,r)=>{for(let a=t.length-1;a>=0;a--)if(r(t[a],a))return ye.some(a);return ye.none()},ro=t=>{const r=[];for(let a=0,u=t.length;a<u;++a){if(!Te(t[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+t);Eo.apply(r,t[a])}return r},io=(t,r)=>ro(vn(t,r)),no=(t,r)=>{for(let a=0,u=t.length;a<u;++a){const f=t[a];if(r(f,a)!==!0)return!1}return!0},_s=t=>{const r=ms.call(t,0);return r.reverse(),r},Wo=(t,r)=>Ve(t,a=>!xt(r,a)),Bs=(t,r)=>{const a={};for(let u=0,f=t.length;u<f;u++){const b=t[u];a[String(b)]=r(b,u)}return a},Pn=(t,r)=>{const a=ms.call(t,0);return a.sort(r),a},xe=(t,r)=>r>=0&&r<t.length?ye.some(t[r]):ye.none(),je=t=>xe(t,0),rt=t=>xe(t,t.length-1),Je=_e(Array.from)?Array.from:t=>ms.call(t),Pt=(t,r)=>{for(let a=0;a<t.length;a++){const u=r(t[a],a);if(u.isSome())return u}return ye.none()},kt=(t,r)=>{const a=[],u=_e(r)?f=>cn(a,b=>r(b,f)):f=>xt(a,f);for(let f=0,b=t.length;f<b;f++){const A=t[f];u(A)||a.push(A)}return a},wt=Object.keys,Zt=Object.hasOwnProperty,en=(t,r)=>{const a=wt(t);for(let u=0,f=a.length;u<f;u++){const b=a[u],A=t[b];r(A,b)}},jn=(t,r)=>sn(t,(a,u)=>({k:u,v:r(a,u)})),sn=(t,r)=>{const a={};return en(t,(u,f)=>{const b=r(u,f);a[b.k]=b.v}),a},Wt=t=>(r,a)=>{t[a]=r},_o=(t,r,a,u)=>{en(t,(f,b)=>{(r(f,b)?a:u)(f,b)})},$o=(t,r)=>{const a={},u={};return _o(t,r,Wt(a),Wt(u)),{t:a,f:u}},Cs=(t,r)=>{const a={};return _o(t,r,Wt(a),St),a},Hs=(t,r)=>{const a=[];return en(t,(u,f)=>{a.push(r(u,f))}),a},or=t=>Hs(t,Ht),No=(t,r)=>Xo(t,r)?ye.from(t[r]):ye.none(),Xo=(t,r)=>Zt.call(t,r),es=(t,r)=>Xo(t,r)&&t[r]!==void 0&&t[r]!==null,Ma=(t,r,a=P)=>x(a).eq(t,r),oi={generate:t=>{if(!Te(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const r=[],a={};return qe(t,(u,f)=>{const b=wt(u);if(b.length!==1)throw new Error("one and only one name per case");const A=b[0],M=u[A];if(a[A]!==void 0)throw new Error("duplicate key detected:"+A);if(A==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Te(M))throw new Error("case arguments must be an array");r.push(A),a[A]=(...N)=>{const G=N.length;if(G!==M.length)throw new Error("Wrong number of arguments to case "+A+". Expected "+M.length+" ("+M+"), got "+G);return{fold:(...fe)=>{if(fe.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+fe.length);return fe[f].apply(null,N)},match:fe=>{const be=wt(fe);if(r.length!==be.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+be.join(","));if(!no(r,Qe=>xt(be,Qe)))throw new Error("Not all branches were specified when using match. Specified: "+be.join(", ")+`
Required: `+r.join(", "));return fe[A].apply(null,N)},log:fe=>{console.log(fe,{constructors:r,constructor:A,params:N})}}}}),a}},zo=t=>{let r=t;return{get:()=>r,set:f=>{r=f}}},il=t=>{const r=b=>b(t),a=it(t),u=()=>f,f={tag:!0,inner:t,fold:(b,A)=>A(t),isValue:un,isError:Dt,map:b=>Ea.value(b(t)),mapError:u,bind:r,exists:r,forall:r,getOr:a,or:u,getOrThunk:a,orThunk:u,getOrDie:a,each:b=>{b(t)},toOptional:()=>ye.some(t)};return f},da=t=>{const r=()=>a,a={tag:!1,inner:t,fold:(u,f)=>u(t),isValue:Dt,isError:un,map:r,mapError:u=>Ea.error(u(t)),bind:r,exists:Dt,forall:un,getOr:Ht,or:Ht,getOrThunk:In,orThunk:In,getOrDie:eo(String(t)),each:St,toOptional:ye.none};return a},Ea={value:il,error:da,fromOption:(t,r)=>t.fold(()=>da(r),il)},fc=typeof window<"u"?window:Function("return this;")(),$r=()=>{const t=window.crypto.getRandomValues(new Uint8Array(16));return t[6]=t[6]&15|64,t[8]=t[8]&63|128,t},Oa=()=>{const t=$r(),r=(a,u)=>{let f="";for(let b=a;b<=u;++b){const A=t[b].toString(16).padStart(2,"0");f+=A}return f};return`${r(0,3)}-${r(4,5)}-${r(6,7)}-${r(8,9)}-${r(10,15)}`},Id=(t,r,a)=>Math.min(Math.max(t,r),a),ed=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Xc=0;const pl=t=>{const a=new Date().getTime(),u=Math.floor(ed()*1e9);return Xc++,t+"_"+u+Xc+String(a)},td=()=>window.isSecureContext?window.crypto.randomUUID():Oa(),Rd=(t,r)=>r,wo=(t,r)=>Ce(t)&&Ce(r)?th(t,r):r,Zf=t=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const a={};for(let u=0;u<r.length;u++){const f=r[u];for(const b in f)Xo(f,b)&&(a[b]=t(a[b],f[b]))}return a},th=Zf(wo),xh=Zf(Rd),Xr=(t,r,a=Ut)=>t.exists(u=>a(u,r)),Oh=(t,r,a=Ut)=>Ar(t,r,a).getOr(t.isNone()&&r.isNone()),Pc=t=>{const r=[],a=u=>{r.push(u)};for(let u=0;u<t.length;u++)t[u].each(a);return r},Ar=(t,r,a)=>t.isSome()&&r.isSome()?ye.some(a(t.getOrDie(),r.getOrDie())):ye.none(),Au=(t,r,a,u)=>t.isSome()&&r.isSome()&&a.isSome()?ye.some(u(t.getOrDie(),r.getOrDie(),a.getOrDie())):ye.none(),nh=t=>t.bind(Ht),Tc=(t,r)=>t?ye.some(r):ye.none(),Fi=(t,r)=>{let a=r??fc;for(let u=0;u<t.length&&a!==void 0&&a!==null;++u)a=a[t[u]];return a},pc=(t,r)=>{const a=t.split(".");return Fi(a,r)};oi.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const al=t=>{const r=[],a=[];return qe(t,u=>{u.fold(f=>{r.push(f)},f=>{a.push(f)})}),{errors:r,values:a}},Vp=t=>{const r=zo(ye.none()),a=()=>r.get().each(t);return{clear:()=>{a(),r.set(ye.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:M=>{a(),r.set(ye.some(M))}}},Tm=t=>{const r=zo(ye.none()),a=()=>r.get().each(M=>clearInterval(M));return{clear:()=>{a(),r.set(ye.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:M=>{a(),r.set(ye.some(setInterval(M,t)))}}},Ac=()=>{const t=Vp(St);return{...t,on:a=>t.get().each(a)}},Jc=(t,r)=>t.substring(r),xu=(t,r,a)=>r===""||t.length>=r.length&&t.substr(a,a+r.length)===r,Ih=(t,r)=>As(t,r)?Jc(t,r.length):t,na=(t,r,a=0,u)=>{const f=t.indexOf(r,a);return f!==-1?et(u)?!0:f+r.length<=u:!1},As=(t,r)=>xu(t,r,0),Wi=(t,r)=>xu(t,r,t.length-r.length),Dl=t=>r=>r.replace(t,""),Br=Dl(/^\s+|\s+$/g),oh=Dl(/^\s+/g),Yf=Dl(/\s+$/g),gi=t=>t.length>0,mc=t=>!gi(t),Nc=(t,r)=>r<=0?"":new Array(r+1).join(t),of=(t,r=10)=>{const a=parseInt(t,r);return isNaN(a)?ye.none():ye.some(a)},yo=(t,r)=>{let a=null;return{cancel:()=>{V(a)||(clearTimeout(a),a=null)},throttle:(...b)=>{V(a)&&(a=setTimeout(()=>{a=null,t.apply(null,b)},r))}}},Ou=(t,r)=>{let a=null;const u=()=>{V(a)||(clearTimeout(a),a=null)};return{cancel:u,throttle:(...b)=>{u(),a=setTimeout(()=>{a=null,t.apply(null,b)},r)}}},Ml=t=>{let r=!1,a;return(...u)=>(r||(r=!0,a=t.apply(null,u)),a)},gc="\uFEFF",Pi="",Am="",zl=t=>t===gc,Qc=t=>t.replace(/\uFEFF/g,""),Xf=t=>{const r={};return qe(t,a=>{r[a]={}}),wt(r)},sf=t=>t.length!==void 0,nd=Array.isArray,Jf=t=>{if(nd(t))return t;{const r=[];for(let a=0,u=t.length;a<u;a++)r[a]=t[a];return r}},kd=(t,r,a)=>{if(!t)return!1;if(a=a||t,sf(t)){for(let u=0,f=t.length;u<f;u++)if(r.call(a,t[u],u,t)===!1)return!1}else for(const u in t)if(Xo(t,u)&&r.call(a,t[u],u,t)===!1)return!1;return!0},Dd=(t,r)=>{const a=[];return kd(t,(u,f)=>{a.push(r(u,f,t))}),a},vc=(t,r)=>{const a=[];return kd(t,(u,f)=>{(!r||r(u,f,t))&&a.push(u)}),a},po=(t,r)=>{if(t){for(let a=0,u=t.length;a<u;a++)if(t[a]===r)return a}return-1},Iu=(t,r,a,u)=>{let f=et(a)?t[0]:a;for(let b=0;b<t.length;b++)f=r.call(u,f,t[b],b);return f},Rh=(t,r,a)=>{for(let u=0,f=t.length;u<f;u++)if(r.call(a,t[u],u,t))return u;return-1},He=t=>t[t.length-1],ft=(t,r,a,u)=>{const f=t.isiOS()&&/ipad/i.test(a)===!0,b=t.isiOS()&&!f,A=t.isiOS()||t.isAndroid(),M=A||u("(pointer:coarse)"),N=f||!b&&A&&u("(min-device-width:768px)"),G=b||A&&!N,le=r.isSafari()&&t.isiOS()&&/safari/i.test(a)===!1,fe=!G&&!N&&!le;return{isiPad:it(f),isiPhone:it(b),isTablet:it(N),isPhone:it(G),isTouch:it(M),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:it(le),isDesktop:it(fe)}},jt=(t,r)=>{for(let a=0;a<t.length;a++){const u=t[a];if(u.test(r))return u}},Tn=(t,r)=>{const a=jt(t,r);if(!a)return{major:0,minor:0};const u=f=>Number(r.replace(a,"$"+f));return pr(u(1),u(2))},go=(t,r)=>{const a=String(r).toLowerCase();return t.length===0?jo():Tn(t,a)},jo=()=>pr(0,0),pr=(t,r)=>({major:t,minor:r}),js={nu:pr,detect:go,unknown:jo},Tr=(t,r)=>Pt(r.brands,a=>{const u=a.brand.toLowerCase();return Et(t,f=>u===f.brand?.toLowerCase()).map(f=>({current:f.name,version:js.nu(parseInt(a.version,10),0)}))}),we=(t,r)=>{const a=String(r).toLowerCase();return Et(t,u=>u.search(a))},We=(t,r)=>we(t,r).map(a=>{const u=js.detect(a.versionRegexes,r);return{current:a.name,version:u}}),mt=(t,r)=>we(t,r).map(a=>{const u=js.detect(a.versionRegexes,r);return{current:a.name,version:u}}),Cn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,qo=t=>r=>na(r,t),Ws=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>na(t,"edge/")&&na(t,"chrome")&&na(t,"safari")&&na(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Cn],search:t=>na(t,"chrome")&&!na(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>na(t,"msie")||na(t,"trident")},{name:"Opera",versionRegexes:[Cn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:qo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:qo("firefox")},{name:"Safari",versionRegexes:[Cn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(na(t,"safari")||na(t,"mobile/"))&&na(t,"applewebkit")}],L=[{name:"Windows",search:qo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>na(t,"iphone")||na(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:qo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:qo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:qo("linux"),versionRegexes:[]},{name:"Solaris",search:qo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:qo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:qo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],X={browsers:it(Ws),oses:it(L)},de="Edge",ge="Chromium",Ie="IE",Be="Opera",Ke="Firefox",Vt="Safari",It=()=>rn({current:void 0,version:js.unknown()}),rn=t=>{const r=t.current,a=t.version,u=f=>()=>r===f;return{current:r,version:a,isEdge:u(de),isChromium:u(ge),isIE:u(Ie),isOpera:u(Be),isFirefox:u(Ke),isSafari:u(Vt)}},Hn={unknown:It,nu:rn},co="Windows",Rn="iOS",Ko="Android",kr="Linux",wi="macOS",Wr="Solaris",jl="FreeBSD",wa="ChromeOS",od=()=>sh({current:void 0,version:js.unknown()}),sh=t=>{const r=t.current,a=t.version,u=f=>()=>r===f;return{current:r,version:a,isWindows:u(co),isiOS:u(Rn),isAndroid:u(Ko),isMacOS:u(wi),isLinux:u(kr),isSolaris:u(Wr),isFreeBSD:u(jl),isChromeOS:u(wa)}},vi={unknown:od,nu:sh},Vi={detect:(t,r,a)=>{const u=X.browsers(),f=X.oses(),b=r.bind(N=>Tr(u,N)).orThunk(()=>We(u,t)).fold(Hn.unknown,Hn.nu),A=mt(f,t).fold(vi.unknown,vi.nu),M=ft(A,b,t,a);return{browser:b,os:A,deviceType:M}}},ml=t=>window.matchMedia(t).matches;let Hp=Ml(()=>Vi.detect(window.navigator.userAgent,ye.from(window.navigator.userAgentData),ml));const Md=()=>Hp(),kh=(t,r)=>pc(t,r),Og=(t,r)=>{const a=kh(t,r);if(a==null)throw new Error(t+" not available on this browser");return a},sd=Object.getPrototypeOf,eu=t=>Og("HTMLElement",t),Qf=t=>{const r=pc("ownerDocument.defaultView",t);return Se(t)&&(eu(r).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(sd(t).constructor.name))},rd=window.navigator.userAgent,Ig=Md(),bc=Ig.browser,Pl=Ig.os,rf=Ig.deviceType,Uy=rd.indexOf("Windows Phone")!==-1,xr={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:bc.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!bc.isIE(),windowsPhone:Uy,browser:{current:bc.current,version:bc.version,isChromium:bc.isChromium,isEdge:bc.isEdge,isFirefox:bc.isFirefox,isIE:bc.isIE,isOpera:bc.isOpera,isSafari:bc.isSafari},os:{current:Pl.current,version:Pl.version,isAndroid:Pl.isAndroid,isChromeOS:Pl.isChromeOS,isFreeBSD:Pl.isFreeBSD,isiOS:Pl.isiOS,isLinux:Pl.isLinux,isMacOS:Pl.isMacOS,isSolaris:Pl.isSolaris,isWindows:Pl.isWindows},deviceType:{isDesktop:rf.isDesktop,isiPad:rf.isiPad,isiPhone:rf.isiPhone,isPhone:rf.isPhone,isTablet:rf.isTablet,isTouch:rf.isTouch,isWebView:rf.isWebView}},Zi=/^\s*|\s*$/g,$p=t=>$e(t)?"":(""+t).replace(Zi,""),_i=(t,r)=>r?r==="array"&&nd(t)?!0:typeof t===r:t!==void 0,ep=(t,r,a={})=>{const u=se(t)?t.split(r||","):t||[];let f=u.length;for(;f--;)a[u[f]]={};return a},af=Xo,HS=(t,...r)=>{for(let a=0;a<r.length;a++){const u=r[a];for(const f in u)if(Xo(u,f)){const b=u[f];b!==void 0&&(t[f]=b)}}return t},lf=function(t,r,a,u){u=u||this,t&&(a&&(t=t[a]),kd(t,(f,b)=>r.call(u,f,b,a)===!1?!1:(lf(f,r,a,u),!0)))},Jn={trim:$p,isArray:nd,is:_i,toArray:Jf,makeMap:ep,each:kd,map:Dd,grep:vc,inArray:po,hasOwn:af,extend:HS,walk:lf,resolve:(t,r=window)=>{const a=t.split(".");for(let u=0,f=a.length;u<f&&(r=r[a[u]],!!r);u++);return r},explode:(t,r)=>Te(t)?t:t===""?[]:Dd(t.split(r||","),$p),_addCacheSuffix:t=>{const r=xr.cacheSuffix;return r&&(t+=(t.indexOf("?")===-1?"?":"&")+r),t}},Wl=(t,r)=>{const u=(r||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const f="HTML does not have a single root node";throw console.error(f,t),new Error(f)}return tp(u.childNodes[0])},Dh=(t,r)=>{const u=(r||document).createElement(t);return tp(u)},nu=(t,r)=>{const u=(r||document).createTextNode(t);return tp(u)},tp=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},st={fromHtml:Wl,fromTag:Dh,fromText:nu,fromDom:tp,fromPoint:(t,r,a)=>ye.from(t.dom.elementFromPoint(r,a)).map(tp)},xc=(t,r)=>{r.fold(a=>{t.setStartBefore(a.dom)},(a,u)=>{t.setStart(a.dom,u)},a=>{t.setStartAfter(a.dom)})},Mh=(t,r)=>{r.fold(a=>{t.setEndBefore(a.dom)},(a,u)=>{t.setEnd(a.dom,u)},a=>{t.setEndAfter(a.dom)})},jy=(t,r,a)=>{const u=t.document.createRange();return xc(u,r),Mh(u,a),u},ou=(t,r,a,u,f)=>{const b=t.document.createRange();return b.setStart(r.dom,a),b.setEnd(u.dom,f),b},ec=oi.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),vt=(t,r,a)=>r(st.fromDom(a.startContainer),a.startOffset,st.fromDom(a.endContainer),a.endOffset),Jt=(t,r)=>r.match({domRange:a=>({ltr:it(a),rtl:ye.none}),relative:(a,u)=>({ltr:Ml(()=>jy(t,a,u)),rtl:Ml(()=>ye.some(jy(t,u,a)))}),exact:(a,u,f,b)=>({ltr:Ml(()=>ou(t,a,u,f,b)),rtl:Ml(()=>ye.some(ou(t,f,b,a,u)))})}),kn=(t,r)=>{const a=r.ltr();return a.collapsed?r.rtl().filter(f=>f.collapsed===!1).map(f=>ec.rtl(st.fromDom(f.endContainer),f.endOffset,st.fromDom(f.startContainer),f.startOffset)).getOrThunk(()=>vt(t,ec.ltr,a)):vt(t,ec.ltr,a)},Ln=(t,r)=>{const a=Jt(t,r);return kn(t,a)};ec.ltr,ec.rtl;const to=8,ds=9,ys=11,Js=1,xs=3,mr=(t,r)=>{const a=t.dom;if(a.nodeType!==Js)return!1;{const u=a;if(u.matches!==void 0)return u.matches(r);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(r);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(r);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},Or=t=>t.nodeType!==Js&&t.nodeType!==ds&&t.nodeType!==ys||t.childElementCount===0,vr=(t,r)=>{const a=r===void 0?document:r.dom;return Or(a)?[]:vn(a.querySelectorAll(t),st.fromDom)},Ur=(t,r)=>{const a=r===void 0?document:r.dom;return Or(a)?ye.none():ye.from(a.querySelector(t)).map(st.fromDom)},Lo=(t,r)=>t.dom===r.dom,Qr=(t,r)=>{const a=t.dom,u=r.dom;return a===u?!1:a.contains(u)},Cl=mr,tc=(t,r)=>{const a=[],u=b=>(a.push(b),r(b));let f=r(t);do f=f.bind(u);while(f.isSome());return a},Us=t=>t.dom.nodeName.toLowerCase(),Nl=t=>t.dom.nodeType,oa=t=>r=>Nl(r)===t,Za=t=>Nl(t)===to||Us(t)==="#comment",Ph=t=>sa(t)&&Qf(t.dom),sa=oa(Js),ei=oa(xs),Zb=oa(ds),RE=oa(ys),El=t=>r=>sa(r)&&Us(r)===t,nc=t=>st.fromDom(t.dom.ownerDocument),su=t=>Zb(t)?t:nc(t),wl=t=>st.fromDom(su(t).dom.documentElement),Nh=t=>st.fromDom(su(t).dom.defaultView),Ru=t=>ye.from(t.dom.parentNode).map(st.fromDom),ku=t=>ye.from(t.dom.parentElement).map(st.fromDom),Lc=(t,r)=>{const a=_e(r)?r:Dt;let u=t.dom;const f=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const b=u.parentNode,A=st.fromDom(b);if(f.push(A),a(A)===!0)break;u=b}return f},si=t=>{const r=a=>Ve(a,u=>!Lo(t,u));return Ru(t).map(yr).map(r).getOr([])},Nd=t=>ye.from(t.dom.previousSibling).map(st.fromDom),Du=t=>ye.from(t.dom.nextSibling).map(st.fromDom),Gl=t=>_s(tc(t,Nd)),ra=t=>tc(t,Du),yr=t=>vn(t.dom.childNodes,st.fromDom),Lh=(t,r)=>{const a=t.dom.childNodes;return ye.from(a[r]).map(st.fromDom)},ql=t=>Lh(t,0),Ya=t=>Lh(t,t.dom.childNodes.length-1),cf=t=>t.dom.childNodes.length,ll=t=>{const r=t.dom.head;if(r==null)throw new Error("Head is not available yet");return st.fromDom(r)},Wy=t=>RE(t)&&Re(t.dom.host),oc=t=>st.fromDom(t.dom.getRootNode()),Yb=t=>Wy(t)?t:ll(su(t)),br=t=>Wy(t)?t:st.fromDom(su(t).dom.body),xm=t=>{const r=oc(t);return Wy(r)?ye.some(r):ye.none()},gs=t=>st.fromDom(t.dom.host),a1=t=>{if(Re(t.target)){const r=st.fromDom(t.target);if(sa(r)&&gl(r)&&t.composed&&t.composedPath){const a=t.composedPath();if(a)return je(a)}}return ye.from(t.target)},gl=t=>Re(t.dom.shadowRoot),lr=(t,r,a,u,f,b,A)=>({target:t,x:r,y:a,stop:u,prevent:f,kill:b,raw:A}),Ll=t=>{const r=st.fromDom(a1(t).getOr(t.target)),a=()=>t.stopPropagation(),u=()=>t.preventDefault(),f=ee(u,a);return lr(r,t.clientX,t.clientY,a,u,f,t)},ia=(t,r)=>a=>{t(a)&&r(Ll(a))},Om=(t,r,a,u,f)=>{const b=ia(a,u);return t.dom.addEventListener(r,b,f),{unbind:Xe(Ld,t,r,b,f)}},Xb=(t,r,a,u)=>Om(t,r,a,u,!1),Ld=(t,r,a,u)=>{t.dom.removeEventListener(r,a,u)},Mu=un,Gy=(t,r,a)=>Xb(t,r,Mu,a),Jb=()=>st.fromDom(document),qy=(t,r=!1)=>t.dom.focus({preventScroll:r}),rh=t=>{const r=oc(t).dom;return t.dom===r.activeElement},Bh=(t=Jb())=>ye.from(t.dom.activeElement).map(st.fromDom),Qb=t=>Bh(oc(t)).filter(r=>t.dom.contains(r.dom)),Oc=(t,r)=>{Ru(t).each(u=>{u.dom.insertBefore(r.dom,t.dom)})},ih=(t,r)=>{Du(t).fold(()=>{Ru(t).each(f=>{zr(f,r)})},u=>{Oc(u,r)})},np=(t,r)=>{ql(t).fold(()=>{zr(t,r)},u=>{t.dom.insertBefore(r.dom,u.dom)})},zr=(t,r)=>{t.dom.appendChild(r.dom)},Bd=(t,r)=>{Oc(t,r),zr(r,t)},l1=(t,r)=>{qe(r,a=>{Oc(t,a)})},Ky=(t,r)=>{qe(r,(a,u)=>{const f=u===0?t:r[u-1];ih(f,a)})},ah=(t,r)=>{qe(r,a=>{zr(t,a)})},Ds=(t,r,a)=>{if(se(a)||ke(a)||ut(a))t.setAttribute(r,a+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",a,":: Element ",t),new Error("Attribute value was not simple")},ha=(t,r,a)=>{Ds(t.dom,r,a)},Pa=(t,r)=>{const a=t.dom;en(r,(u,f)=>{Ds(a,f,u)})},aa=(t,r)=>{const a=t.dom.getAttribute(r);return a===null?void 0:a},lh=(t,r)=>ye.from(aa(t,r)),fa=(t,r)=>{const a=t.dom;return a&&a.hasAttribute?a.hasAttribute(r):!1},vl=(t,r)=>{t.dom.removeAttribute(r)},Pv=t=>{const r=t.dom.attributes;return r==null||r.length===0},wr=t=>Gt(t.dom.attributes,(r,a)=>(r[a.name]=a.value,r),{}),id=t=>{t.dom.textContent="",qe(yr(t),r=>{Ni(r)})},Ni=t=>{const r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Pu=t=>{const r=yr(t);r.length>0&&Ky(t,r),Ni(t)},_l=(t,r)=>st.fromDom(t.dom.cloneNode(r)),Tl=t=>_l(t,!1),uf=t=>_l(t,!0),Nv=(t,r)=>{const a=st.fromTag(r),u=wr(t);return Pa(a,u),a},Up=(t,r)=>{const a=Nv(t,r);ih(t,a);const u=yr(t);return ah(a,u),Ni(t),a},Im=(t,r)=>{const u=(r||document).createElement("div");return u.innerHTML=t,yr(st.fromDom(u))},ch=t=>vn(t,st.fromDom),Sc=t=>t.dom.innerHTML,zp=(t,r)=>{const u=nc(t).dom,f=st.fromDom(u.createDocumentFragment()),b=Im(r,u);ah(f,b),id(t),zr(t,f)},kE=t=>{const r=st.fromTag("div"),a=st.fromDom(t.dom.cloneNode(!0));return zr(r,a),Sc(r)},op=t=>t.style!==void 0&&_e(t.style.getPropertyValue),ri=t=>{const r=ei(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;const a=r.ownerDocument;return xm(st.fromDom(r)).fold(()=>a.body.contains(r),ln(ri,gs))},c1=(t,r,a)=>{if(!se(a))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",a,":: Element ",t),new Error("CSS value must be a string: "+a);op(t)&&t.style.setProperty(r,a)},Lv=(t,r)=>{op(t)&&t.style.removeProperty(r)},Bc=(t,r,a)=>{const u=t.dom;c1(u,r,a)},ru=(t,r)=>{const a=t.dom;en(r,(u,f)=>{c1(a,f,u)})},Ha=(t,r)=>{const a=t.dom,f=window.getComputedStyle(a).getPropertyValue(r);return f===""&&!ri(t)?Fd(a,r):f},Fd=(t,r)=>op(t)?t.style.getPropertyValue(r):"",yl=(t,r)=>{const a=t.dom,u=Fd(a,r);return ye.from(u).filter(f=>f.length>0)},Rm=t=>{const r={},a=t.dom;if(op(a))for(let u=0;u<a.style.length;u++){const f=a.style.item(u);r[f]=a.style[f]}return r},e0=(t,r)=>{const a=t.dom;Lv(a,r),Xr(lh(t,"style").map(Br),"")&&vl(t,"style")},Zy=t=>t.dom.offsetWidth,df=((t,r)=>{const a=(M,N)=>{if(!ut(N)&&!N.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+N);const G=M.dom;op(G)&&(G.style[t]=N+"px")},u=M=>{const N=r(M);if(N<=0||N===null){const G=Ha(M,t);return parseFloat(G)||0}return N},f=u,b=(M,N)=>Gt(N,(G,le)=>{const fe=Ha(M,le),be=fe===void 0?0:parseInt(fe,10);return isNaN(be)?G:G+be},0);return{set:a,get:u,getOuter:f,aggregate:b,max:(M,N,G)=>{const le=b(M,G);return N>le?N-le:0}}})("height",t=>{const r=t.dom;return ri(t)?r.getBoundingClientRect().height:r.offsetHeight}),ME=t=>df.get(t),u1=(t,r)=>({left:t,top:r,translate:(u,f)=>u1(t+u,r+f)}),hf=u1,$S=t=>{const r=t.getBoundingClientRect();return hf(r.left,r.top)},Bv=(t,r)=>t!==void 0?t:r!==void 0?r:0,km=t=>{const r=t.dom.ownerDocument,a=r.body,u=r.defaultView,f=r.documentElement;if(a===t.dom)return hf(a.offsetLeft,a.offsetTop);const b=Bv(u?.pageYOffset,f.scrollTop),A=Bv(u?.pageXOffset,f.scrollLeft),M=Bv(f.clientTop,a.clientTop),N=Bv(f.clientLeft,a.clientLeft);return Rg(t).translate(A-N,b-M)},Rg=t=>{const r=t.dom,u=r.ownerDocument.body;return u===r?hf(u.offsetLeft,u.offsetTop):ri(t)?$S(r):hf(0,0)},d1=t=>{const r=t!==void 0?t.dom:document,a=r.body.scrollLeft||r.documentElement.scrollLeft,u=r.body.scrollTop||r.documentElement.scrollTop;return hf(a,u)},US=(t,r,a)=>{const f=(a!==void 0?a.dom:document).defaultView;f&&f.scrollTo(t,r)},Fh=(t,r)=>{Md().browser.isSafari()&&_e(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(r)},Dm=(t,r)=>{const a=b=>{if(!t(b))throw new Error("Can only get "+r+" value of a "+r+" node");return u(b).getOr("")},u=b=>t(b)?ye.from(b.dom.nodeValue):ye.none();return{get:a,getOption:u,set:(b,A)=>{if(!t(b))throw new Error("Can only set raw "+r+" value of a "+r+" node");b.dom.nodeValue=A}}},ff=(t,r)=>{const u=document.createDocumentFragment();return qe(t,f=>{u.appendChild(f.dom)}),st.fromDom(u)},ii=Dm(ei,"text"),bl=t=>ii.get(t),sp=t=>ii.getOption(t),t0=(t,r)=>ii.set(t,r),Mm=(t,r)=>{const a=aa(t,r);return a===void 0||a===""?[]:a.split(" ")},kg=(t,r,a)=>{const f=Mm(t,r).concat([a]);return ha(t,r,f.join(" ")),!0},jp=(t,r,a)=>{const u=Ve(Mm(t,r),f=>f!==a);return u.length>0?ha(t,r,u.join(" ")):vl(t,r),!1};var rp=(t,r,a,u,f)=>t(a,u)?ye.some(a):_e(f)&&f(a)?ye.none():r(a,u,f);const Vh=(t,r,a)=>{let u=t.dom;const f=_e(a)?a:Dt;for(;u.parentNode;){u=u.parentNode;const b=st.fromDom(u);if(r(b))return ye.some(b);if(f(b))break}return ye.none()},Ti=(t,r,a)=>rp((f,b)=>b(f),Vh,t,r,a),zS=(t,r)=>{const a=t.dom;return a.parentNode?ui(st.fromDom(a.parentNode),u=>!Lo(t,u)&&r(u)):ye.none()},ui=(t,r)=>{const a=f=>r(st.fromDom(f));return Et(t.dom.childNodes,a).map(st.fromDom)},Fv=(t,r)=>{const a=u=>{for(let f=0;f<u.childNodes.length;f++){const b=st.fromDom(u.childNodes[f]);if(r(b))return ye.some(b);const A=a(u.childNodes[f]);if(A.isSome())return A}return ye.none()};return a(t.dom)},Xa=(t,r,a)=>Vh(t,u=>mr(u,r),a),Hh=(t,r)=>Ur(r,t),Ic=(t,r,a)=>rp((f,b)=>mr(f,b),Xa,t,r,a),Nu=t=>t.dom.classList!==void 0,Dg=t=>Mm(t,"class"),Vv=(t,r)=>kg(t,"class",r),h1=(t,r)=>jp(t,"class",r),PE=(t,r)=>xt(Dg(t),r)?h1(t,r):Vv(t,r),Al=(t,r)=>{Nu(t)?t.dom.classList.add(r):Vv(t,r)},pf=t=>{(Nu(t)?t.dom.classList:Dg(t)).length===0&&vl(t,"class")},cl=(t,r)=>{Nu(t)?t.dom.classList.remove(r):h1(t,r),pf(t)},Ai=(t,r)=>{const a=Nu(t)?t.dom.classList.toggle(r):PE(t,r);return pf(t),a},Yy=(t,r)=>Nu(t)&&t.dom.classList.contains(r),Xy=(t,r)=>{qe(r,a=>{Al(t,a)})},Jy=(t,r)=>{qe(r,a=>{cl(t,a)})},n0=t=>Ic(t,"[contenteditable]"),Lu=(t,r=!1)=>ri(t)?t.dom.isContentEditable:n0(t).fold(it(r),a=>o0(a)==="true"),o0=t=>t.dom.contentEditable,J=(t,r)=>{t.dom.contentEditable=r?"true":"false"},ae=(t,r,a)=>Ve(Lc(t,a),r),De=(t,r)=>Ve(yr(t),r),Ye=(t,r)=>{let a=[];return qe(yr(t),u=>{r(u)&&(a=a.concat([u])),a=a.concat(Ye(u,r))}),a},At=(t,r,a)=>ae(t,u=>mr(u,r),a),Sn=(t,r)=>vr(r,t),bo=(t,r,a)=>Vh(t,r,a).isSome(),ss=(t,r)=>zS(t,r).isSome(),Ys=(t,r)=>Fv(t,r).isSome(),Is=(t,r)=>bo(t,Xe(Lo,r)),Hi=(t,r,a)=>Xa(t,r,a).isSome(),pa=t=>_e(t)?t:Dt,Ja=(t,r,a)=>{let u=t.dom;const f=pa(a);for(;u.parentNode;){u=u.parentNode;const b=st.fromDom(u),A=r(b);if(A.isSome())return A;if(f(b))break}return ye.none()},Bu=(t,r,a)=>{const u=r(t),f=pa(a);return u.orThunk(()=>f(t)?ye.none():Ja(t,r,f))},Wp=t=>sp(t).filter(r=>r.trim().length!==0||r.indexOf(Pi)>-1).isSome(),Gp=t=>Ph(t)&&aa(t,"contenteditable")==="false",iu=["img","br"],f1=t=>Wp(t)||xt(iu,Us(t))||Gp(t),Pm=t=>Fv(t,f1),Nm={create:(t,r,a,u)=>({start:t,soffset:r,finish:a,foffset:u})},Mg=oi.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),s0=(t,r,a,u)=>t.fold(r,a,u),Bl=t=>t.fold(Ht,Ht,Ht),NE=Mg.before,LE=Mg.on,Fr=Mg.after,xi={before:NE,on:LE,after:Fr,cata:s0,getStart:Bl},Qa=oi.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ad=t=>Qa.exact(t.start,t.soffset,t.finish,t.foffset),el=t=>t.match({domRange:r=>st.fromDom(r.startContainer),relative:(r,a)=>xi.getStart(r),exact:(r,a,u,f)=>r}),eb=Qa.domRange,tb=Qa.relative,nb=Qa.exact,BE=t=>{const r=el(t);return Nh(r)},Sl=Nm.create,Lm={domRange:eb,relative:tb,exact:nb,exactFromRange:ad,getWin:BE,range:Sl},ob=(t,r,a)=>ye.from(t.caretPositionFromPoint?.(r,a)).bind(u=>{if(u.offsetNode===null)return ye.none();const f=t.createRange();return f.setStart(u.offsetNode,u.offset),f.collapse(),ye.some(f)}),FE=(t,r,a)=>ye.from(t.caretRangeFromPoint?.(r,a)),Gr=(t,r,a)=>t.caretPositionFromPoint?ob(t,r,a):t.caretRangeFromPoint?FE(t,r,a):ye.none(),Fl=(t,r,a)=>{const u=t.document;return Gr(u,r,a).map(f=>Nm.create(st.fromDom(f.startContainer),f.startOffset,st.fromDom(f.endContainer),f.endOffset))},ip=(t,r)=>{const a=Us(t);return a==="input"?xi.after(t):xt(["br","img"],a)?r===0?xi.before(t):xi.after(t):xi.on(t,r)},Vd=(t,r)=>{const a=t.fold(xi.before,ip,xi.after),u=r.fold(xi.before,ip,xi.after);return Lm.relative(a,u)},ld=(t,r,a,u)=>{const f=ip(t,r),b=ip(a,u);return Lm.relative(f,b)},Fu=t=>t.match({domRange:r=>{const a=st.fromDom(r.startContainer),u=st.fromDom(r.endContainer);return ld(a,r.startOffset,u,r.endOffset)},relative:Vd,exact:ld}),VE=t=>{const r=Lm.getWin(t).dom,a=(f,b,A,M)=>ou(r,f,b,A,M),u=Fu(t);return Ln(r,u).match({ltr:a,rtl:a})},Pg=(t,r,a)=>Fl(t,r,a),jS=t=>{const r=t===void 0?window:t;return Md().browser.isFirefox()?ye.none():ye.from(r.visualViewport)},Hd=(t,r,a,u)=>({x:t,y:r,width:a,height:u,right:t+a,bottom:r+u}),HE=t=>{const r=t===void 0?window:t,a=r.document,u=d1(st.fromDom(a));return jS(r).fold(()=>{const f=r.document.documentElement,b=f.clientWidth,A=f.clientHeight;return Hd(u.left,u.top,b,A)},f=>Hd(Math.max(f.pageLeft,u.left),Math.max(f.pageTop,u.top),f.width,f.height))};class Yi{rootNode;node;constructor(r,a){this.node=r,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(r){return this.node=this.findSibling(this.node,"firstChild","nextSibling",r),this.node}prev(r){return this.node=this.findSibling(this.node,"lastChild","previousSibling",r),this.node}prev2(r){return this.node=this.findPreviousNode(this.node,r),this.node}findSibling(r,a,u,f){if(r){if(!f&&r[a])return r[a];if(r!==this.rootNode){let b=r[u];if(b)return b;for(let A=r.parentNode;A&&A!==this.rootNode;A=A.parentNode)if(b=A[u],b)return b}}}findPreviousNode(r,a){if(r){const u=r.previousSibling;if(this.rootNode&&u===this.rootNode)return;if(u){if(!a){for(let b=u.lastChild;b;b=b.lastChild)if(!b.lastChild)return b}return u}const f=r.parentNode;if(f&&f!==this.rootNode)return f}}}const Ng=/^[ \t\r\n]*$/,Lg=t=>Ng.test(t),KO=t=>{for(const r of t)if(!zl(r))return!1;return!0},WS=t=>" \f	\v".indexOf(t)!==-1,GS=t=>t===`
`||t==="\r",ZO=(t,r)=>r<t.length&&r>=0?GS(t[r]):!1,qp=(t,r=4,a=!0,u=!0)=>{const f=Nc(" ",r),b=t.replace(/\t/g,f);return Gt(b,(M,N)=>WS(N)||N===Pi?M.pcIsSpace||M.str===""&&a||M.str.length===b.length-1&&u||ZO(b,M.str.length+1)?{pcIsSpace:!1,str:M.str+Pi}:{pcIsSpace:!0,str:M.str+" "}:{pcIsSpace:GS(N),str:M.str+N},{pcIsSpace:!1,str:""}).str},Bm=t=>r=>!!r&&r.nodeType===t,Bg=t=>!!t&&!Object.getPrototypeOf(t),Ho=Bm(1),ma=t=>Ho(t)&&Ph(st.fromDom(t)),r0=t=>Ho(t)&&t.namespaceURI==="http://www.w3.org/2000/svg",sb=t=>{const r=t.toLowerCase();return a=>Re(a)&&a.nodeName.toLowerCase()===r},Rc=t=>{const r=t.map(a=>a.toLowerCase());return a=>{if(a&&a.nodeName){const u=a.nodeName.toLowerCase();return xt(r,u)}return!1}},Hv=(t,r)=>{const a=r.toLowerCase().split(" ");return u=>{if(Ho(u)){const f=u.ownerDocument.defaultView;if(f)for(let b=0;b<a.length;b++){const A=f.getComputedStyle(u,null);if((A?A.getPropertyValue(t):null)===a[b])return!0}}return!1}},TT=t=>r=>Ho(r)&&r.hasAttribute(t),Fg=t=>Ho(t)&&t.hasAttribute("data-mce-bogus"),AT=t=>Ho(t)&&t.getAttribute("data-mce-bogus")==="all",ap=t=>Ho(t)&&t.tagName==="TABLE",Fm=t=>r=>!!(ma(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t)),$E=Rc(["textarea","input"]),Wn=Bm(3),Vg=Bm(4),rb=Bm(7),$a=Bm(8),Er=Bm(9),$v=Bm(11),ga=sb("br"),p1=sb("img"),mf=sb("a"),au=Fm("true"),ai=Fm("false"),Kp=t=>ma(t)&&t.isContentEditable&&Re(t.parentElement)&&!t.parentElement.isContentEditable,Zp=Rc(["td","th"]),UE=Rc(["td","th","caption"]),qS=sb("template"),$h=Rc(["video","audio","object","embed"]),Vm=sb("li"),i0=sb("details"),$i=sb("summary"),xT={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},zE=(t,r,a)=>{const u=st.fromDom(r),f=st.fromDom(t),b=a.getWhitespaceElements();return bo(f,M=>Xo(b,Us(M)),Xe(Lo,u))},jE=t=>Ho(t)&&t.nodeName==="A"&&!t.hasAttribute("href")&&(t.hasAttribute("name")||t.hasAttribute("id")),ib=(t,r)=>Ho(t)&&Xo(r.getNonEmptyElements(),t.nodeName),KS=TT("data-mce-bookmark"),ZS=t=>ku(st.fromDom(t)).exists(r=>!Lu(r)),Hm=(t,r,a)=>Lg(t.data)&&!zE(t,r,a),m1=(t,r,a,u)=>Wn(t)&&!Hm(t,r,a)&&(!u.includeZwsp||!KO(t.data)),cd=(t,r,a,u)=>_e(u.isContent)&&u.isContent(r)||ib(r,t)||KS(r)||jE(r)||m1(r,a,t,u)||ai(r)||au(r)&&ZS(r),gf=(t,r,a)=>{const u={...xT,...a};if(u.checkRootAsContent&&cd(t,r,r,u))return!1;let f=r.firstChild,b=0;if(!f)return!0;const A=new Yi(f,r);do{if(u.skipBogus&&Ho(f)){const M=f.getAttribute("data-mce-bogus");if(M){f=A.next(M==="all");continue}}if($a(f)){f=A.next(!0);continue}if(ga(f)){b++,f=A.next();continue}if(cd(t,f,r,u))return!1;f=A.next()}while(f);return b<=1},Vu=(t,r,a)=>gf(t,r.dom,{checkRootAsContent:!0,...a}),uh=(t,r,a)=>cd(t,r,r,{includeZwsp:xT.includeZwsp,...a}),Os=t=>{const r=t.toLowerCase();return r==="svg"?"svg":r==="math"?"math":"html"},ud=t=>Os(t)!=="html",ab=t=>ud(t.nodeName),Hg=t=>Os(t.nodeName),YO=["svg","math"],YS=()=>{const t=Ac(),r=()=>t.get().map(Hg).getOr("html");return{track:f=>(ab(f)?t.set(f):t.get().exists(b=>!b.contains(f))&&t.clear(),r()),current:r,reset:()=>{t.clear()}}},lp="data-mce-block",$m=t=>Ve(wt(t),r=>!/[A-Z]/.test(r)),a0=t=>vn($m(t),r=>{const a=CSS.escape(r);return`${a}:`+vn(YO,u=>`not(${u} ${a})`).join(":")}).join(","),Um=(t,r)=>Re(r.querySelector(t))?(r.setAttribute(lp,"true"),r.getAttribute("data-mce-selected")==="inline-boundary"&&r.removeAttribute("data-mce-selected"),!0):(r.removeAttribute(lp),!1),WE=(t,r)=>{const a=a0(t.getTransparentElements()),u=a0(t.getBlockElements());return Ve(r.querySelectorAll(a),f=>Um(u,f))},GE=(t,r,a)=>{const u=a?"lastChild":"firstChild";for(let f=r[u];f;f=f[u])if(gf(t,f,{checkRootAsContent:!0})){f.parentNode?.removeChild(f);return}},Na=(t,r,a)=>{const u=document.createRange(),f=r.parentNode;if(f){u.setStartBefore(r),u.setEndBefore(a);const b=u.extractContents();GE(t,b,!0),u.setStartAfter(a),u.setEndAfter(r);const A=u.extractContents();GE(t,A,!1),gf(t,b,{checkRootAsContent:!0})||f.insertBefore(b,r),gf(t,a,{checkRootAsContent:!0})||f.insertBefore(a,r),gf(t,A,{checkRootAsContent:!0})||f.insertBefore(A,r),f.removeChild(r)}},cp=(t,r,a)=>{const u=t.getBlockElements(),f=st.fromDom(r),b=M=>Us(M)in u,A=M=>Lo(M,f);qe(ch(a),M=>{Vh(M,b,A).each(N=>{const G=De(M,le=>b(le)&&!t.isValidChild(Us(N),Us(le)));if(G.length>0){const le=ku(N);qe(G,fe=>{Vh(fe,b,A).each(be=>{Na(t,be.dom,fe.dom)})}),le.each(fe=>WE(t,fe.dom))}})})},dd=(t,r,a)=>{qe([...a,...Nn(t,r)?[r]:[]],u=>qe(Sn(st.fromDom(u),u.nodeName.toLowerCase()),f=>{Hu(t,f.dom)&&Pu(f)}))},up=(t,r)=>{const a=WE(t,r);cp(t,r,a),dd(t,r,a)},hd=(t,r)=>{if(Uv(t,r)){const a=a0(t.getBlockElements());Um(a,r)}},lb=(t,r,a)=>{const u=b=>Lo(b,st.fromDom(r)),f=Lc(st.fromDom(a),u);xe(f,f.length-2).filter(sa).fold(()=>up(t,r),b=>up(t,b.dom))},Cc=t=>t.hasAttribute(lp),Fc=(t,r)=>Xo(t.getTransparentElements(),r),Uv=(t,r)=>Ho(r)&&Fc(t,r.nodeName),Nn=(t,r)=>Uv(t,r)&&Cc(r),Hu=(t,r)=>Uv(t,r)&&!Cc(r),l0=(t,r)=>r.type===1&&Fc(t,r.name)&&se(r.attr(lp)),sc=Md().browser,vf=t=>Et(t,sa),Uh=t=>sc.isFirefox()&&Us(t)==="table"?vf(yr(t)).filter(r=>Us(r)==="caption").bind(r=>vf(ra(r)).map(a=>{const u=a.dom.offsetTop,f=r.dom.offsetTop,b=r.dom.offsetHeight;return u<=f?-b:0})).getOr(0):0,c0=(t,r)=>t.children&&xt(t.children,r),zm=(t,r,a)=>{let u=0,f=0;const b=t.ownerDocument;if(a=a||t,r){if(a===t&&r.getBoundingClientRect&&Ha(st.fromDom(t),"position")==="static"){const M=r.getBoundingClientRect();return u=M.left+(b.documentElement.scrollLeft||t.scrollLeft)-b.documentElement.clientLeft,f=M.top+(b.documentElement.scrollTop||t.scrollTop)-b.documentElement.clientTop,{x:u,y:f}}let A=r;for(;A&&A!==a&&A.nodeType&&!c0(A,a);){const M=A;u+=M.offsetLeft||0,f+=M.offsetTop||0,A=M.offsetParent}for(A=r.parentNode;A&&A!==a&&A.nodeType&&!c0(A,a);)u-=A.scrollLeft||0,f-=A.scrollTop||0,A=A.parentNode;f+=Uh(st.fromDom(r))}return{x:u,y:f}},OT=(t,r)=>{const a=r.crossOrigin;return r.contentCssCors?"anonymous":_e(a)?a(t):void 0},$d=(t,r={})=>{let a=0;const u={},f=st.fromDom(t),b=su(f),A=Bt=>{r.referrerPolicy=Bt},M=Bt=>{r.contentCssCors=Bt},N=Bt=>{r.crossOrigin=Bt},G=Bt=>{zr(Yb(f),Bt)},le=Bt=>{const zt=Yb(f);Hh(zt,"#"+Bt).each(Ni)},fe=Bt=>No(u,Bt).getOrThunk(()=>({id:"mce-u"+a++,passed:[],failed:[],count:0})),be=Bt=>new Promise((zt,_n)=>{let $n;const xo=Jn._addCacheSuffix(Bt),oo=fe(xo);u[xo]=oo,oo.count++;const An=(gr,Lr)=>{qe(gr,mn),oo.status=Lr,oo.passed=[],oo.failed=[],$n&&($n.onload=null,$n.onerror=null,$n=null)},wn=()=>An(oo.passed,2),Un=()=>An(oo.failed,3);if(zt&&oo.passed.push(zt),_n&&oo.failed.push(_n),oo.status===1)return;if(oo.status===2){wn();return}if(oo.status===3){Un();return}oo.status=1;const Zo=st.fromTag("link",b.dom);Pa(Zo,{rel:"stylesheet",type:"text/css",id:oo.id});const Ls=OT(Bt,r);Ls!==void 0&&ha(Zo,"crossOrigin",Ls),r.referrerPolicy&&ha(Zo,"referrerpolicy",r.referrerPolicy),$n=Zo.dom,$n.onload=wn,$n.onerror=Un,G(Zo),ha(Zo,"href",xo)}),Le=(Bt,zt)=>{const _n=fe(Bt);u[Bt]=_n,_n.count++;const $n=st.fromTag("style",b.dom);Pa($n,{rel:"stylesheet",type:"text/css",id:_n.id,"data-mce-key":Bt}),$n.dom.innerHTML=zt,G($n)},Qe=Bt=>Promise.allSettled(vn(Bt,_n=>be(_n).then(it(_n)))).then(_n=>{const $n=Ft(_n,xo=>xo.status==="fulfilled");return $n.fail.length>0?Promise.reject(vn($n.fail,xo=>xo.reason)):vn($n.pass,xo=>xo.value)}),ze=Bt=>{const zt=Jn._addCacheSuffix(Bt);No(u,zt).each(_n=>{--_n.count===0&&(delete u[zt],le(_n.id))})};return{load:be,loadRawCss:Le,loadAll:Qe,unload:ze,unloadRawCss:Bt=>{No(u,Bt).each(zt=>{--zt.count===0&&(delete u[Bt],le(zt.id))})},unloadAll:Bt=>{qe(Bt,zt=>{ze(zt)})},_setReferrerPolicy:A,_setContentCssCors:M,_setCrossOrigin:N}},$u=(()=>{const t=new WeakMap;return{forElement:(a,u)=>{const b=oc(a).dom;return ye.from(t.get(b)).getOrThunk(()=>{const A=$d(b,u);return t.set(b,A),A})}}})(),cb=t=>t.nodeName.toLowerCase()==="span",ul=(t,r)=>Re(t)&&(uh(r,t)||r.isInline(t.nodeName.toLowerCase())),IT=(t,r,a)=>{const u=new Yi(t,r).prev(!1),f=new Yi(t,r).next(!1),b=et(u)||ul(u,a),A=et(f)||ul(f,a);return b&&A},XS=t=>cb(t)&&t.getAttribute("data-mce-type")==="bookmark",Yp=(t,r,a)=>Wn(t)&&t.data.length>0&&IT(t,r,a),qE=t=>Ho(t)?t.childNodes.length>0:!1,dh=t=>$v(t)||Er(t),KE=(t,r,a,u)=>{const f=u||r;if(Ho(r)&&XS(r))return r;const b=r.childNodes;for(let A=b.length-1;A>=0;A--)KE(t,b[A],a,f);if(Ho(r)){const A=r.childNodes;A.length===1&&XS(A[0])&&r.parentNode?.insertBefore(A[0],r)}return!dh(r)&&!uh(a,r)&&!qE(r)&&!Yp(r,f,a)&&t.remove(r),r},nn=Jn.makeMap,fd=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u0=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ua=/[<>&\"\']/g,hh=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Vc={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},hi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},JS={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},zv=t=>{const r=st.fromTag("div").dom;return r.innerHTML=t,r.textContent||r.innerText||t},ZE=(t,r)=>{const a={};if(t){const u=t.split(",");r=r||10;for(let f=0;f<u.length;f+=2){const b=String.fromCharCode(parseInt(u[f],r));if(!hi[b]){const A="&"+u[f+1]+";";a[b]=A,a[A]=b}}return a}else return},jv=ZE("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),$g=(t,r)=>t.replace(r?fd:u0,a=>hi[a]||a),QS=t=>(""+t).replace(Ua,r=>hi[r]||r),YE=(t,r)=>t.replace(r?fd:u0,a=>a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":hi[a]||"&#"+a.charCodeAt(0)+";"),Ug=(t,r,a)=>{const u=a||jv;return t.replace(r?fd:u0,f=>hi[f]||u[f]||f)},Gv={encodeRaw:$g,encodeAllRaw:QS,encodeNumeric:YE,encodeNamed:Ug,getEncodeFunc:(t,r)=>{const a=ZE(r)||jv,u=(A,M)=>A.replace(M?fd:u0,N=>hi[N]!==void 0?hi[N]:a[N]!==void 0?a[N]:N.length>1?"&#"+((N.charCodeAt(0)-55296)*1024+(N.charCodeAt(1)-56320)+65536)+";":"&#"+N.charCodeAt(0)+";"),f=(A,M)=>Ug(A,M,a),b=nn(t.replace(/\+/g,","));return b.named&&b.numeric?u:b.named?r?f:Ug:b.numeric?YE:$g},decode:t=>t.replace(hh,(r,a)=>a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):Vc[a]||String.fromCharCode(a)):JS[r]||jv[r]||zv(r))},Hc=(t,r)=>(t=Jn.trim(t),t?t.split(r||" "):[]),rc=t=>new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$"),zg=t=>Se(t)&&t.source&&Object.prototype.toString.call(t)==="[object RegExp]",jg=t=>{const r=a=>Te(a)?vn(a,r):zg(a)?new RegExp(a.source,a.flags):Se(a)?jn(a,r):a;return r(t)},Wg=t=>{const r=/^(~)?(.+)$/;return io(Hc(t,","),a=>{const u=r.exec(a);if(u){const b=u[1]==="~"?"span":"div",A=u[2];return[{cloneName:b,name:A}]}else return[]})},d0=t=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...t!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...t!=="html5-strict"?["xml:lang"]:[]]),pd=t=>{let r,a;r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",a="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",t!=="html4"&&(r+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",a+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),t!=="html5-strict"&&(a=[a,"acronym applet basefont big font strike tt"].join(" "),r=[r,"center dir isindex noframes"].join(" "));const u=[r,a].join(" ");return{blockContent:r,phrasingContent:a,flowContent:u}},qv=t=>{const{blockContent:r,phrasingContent:a,flowContent:u}=pd(t),f=b=>Object.freeze(b.split(" "));return Object.freeze({blockContent:f(r),phrasingContent:f(a),flowContent:f(u)})},xl={html4:Ml(()=>qv("html4")),html5:Ml(()=>qv("html5")),"html5-strict":Ml(()=>qv("html5-strict"))},ub=(t,r)=>{const{blockContent:a,phrasingContent:u,flowContent:f}=xl[t]();return r==="blocks"?ye.some(a):r==="phrasing"?ye.some(u):r==="flow"?ye.some(f):ye.none()},yf=t=>{const r=d0(t),{phrasingContent:a,flowContent:u}=pd(t),f={},b=(N,G,le)=>{f[N]={attributes:Bs(G,it({})),attributesOrder:G,children:Bs(le,it({}))}},A=(N,G="",le="")=>{const fe=Hc(le),be=Hc(N);let Le=be.length;const Qe=[...r,...Hc(G)];for(;Le--;)b(be[Le],Qe.slice(),fe)},M=(N,G)=>{const le=Hc(N),fe=Hc(G);let be=le.length;for(;be--;){const Le=f[le[be]];for(let Qe=0,ze=fe.length;Qe<ze;Qe++)Le.attributes[fe[Qe]]={},Le.attributesOrder.push(fe[Qe])}};return t!=="html5-strict"&&(qe(Hc("acronym applet basefont big font strike tt"),le=>{A(le,"",a)}),qe(Hc("center dir isindex noframes"),le=>{A(le,"",u)})),A("html","manifest","head body"),A("head","","base command link meta noscript script style title"),A("title hr noscript br"),A("base","href target"),A("link","href rel media hreflang type sizes hreflang"),A("meta","name http-equiv content charset property"),A("style","media type scoped"),A("script","src async defer type charset"),A("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",u),A("dd div","",u),A("address dt caption","",t==="html4"?a:u),A("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a),A("blockquote","cite",u),A("ol","reversed start type","li"),A("ul","","li"),A("li","value",u),A("dl","","dt dd"),A("a","href target rel media hreflang type",t==="html4"?a:u),A("q","cite",a),A("ins del","cite datetime",u),A("img","src sizes srcset alt usemap ismap width height"),A("iframe","src name width height",u),A("embed","src type width height"),A("object","data type typemustmatch name usemap form width height",[u,"param"].join(" ")),A("param","name value"),A("map","name",[u,"area"].join(" ")),A("area","alt coords shape href target rel media hreflang type"),A("table","border","caption colgroup thead tfoot tbody tr"+(t==="html4"?" col":"")),A("colgroup","span","col"),A("col","span"),A("tbody thead tfoot","","tr"),A("tr","","td th"),A("td","colspan rowspan headers",u),A("th","colspan rowspan headers scope abbr",u),A("form","accept-charset action autocomplete enctype method name novalidate target",u),A("fieldset","disabled form name",[u,"legend"].join(" ")),A("label","form for",a),A("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),A("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",t==="html4"?u:a),A("select","disabled form multiple name required size","option optgroup"),A("optgroup","disabled label","option"),A("option","disabled label selected value"),A("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),A("menu","type label",[u,"li"].join(" ")),A("noscript","",u),t!=="html4"&&(A("wbr"),A("ruby","",[a,"rt rp"].join(" ")),A("figcaption","",u),A("mark rt rp bdi","",a),A("summary","",[a,"h1 h2 h3 h4 h5 h6"].join(" ")),A("canvas","width height",u),A("data","value",a),A("video","src crossorigin poster preload autoplay mediagroup loop controlslist disablepictureinpicture disableremoteplayback playsinline muted controls width height buffered",[u,"track source"].join(" ")),A("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[u,"track source"].join(" ")),A("picture","","img source"),A("source","src srcset type media sizes"),A("track","kind src srclang label default"),A("datalist","",[a,"option"].join(" ")),A("article section nav aside main header footer","",u),A("hgroup","","h1 h2 h3 h4 h5 h6"),A("figure","",[u,"figcaption"].join(" ")),A("time","datetime",a),A("dialog","open",u),A("command","type label icon disabled checked radiogroup command"),A("output","for form name",a),A("progress","value max",a),A("meter","value min max low high optimum",a),A("details","open",[u,"summary"].join(" ")),A("keygen","autofocus challenge disabled form keytype name"),b("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),t!=="html5-strict"&&(M("script","language xml:space"),M("style","xml:space"),M("object","declare classid code codebase codetype archive standby align border hspace vspace"),M("embed","align name hspace vspace"),M("param","valuetype type"),M("a","charset name rev shape coords"),M("br","clear"),M("applet","codebase archive code object alt name width height align hspace vspace"),M("img","name longdesc align border hspace vspace"),M("iframe","longdesc frameborder marginwidth marginheight scrolling align"),M("font basefont","size color face"),M("input","usemap align"),M("select"),M("textarea"),M("h1 h2 h3 h4 h5 h6 div p legend caption","align"),M("ul","type compact"),M("li","type"),M("ol dl menu dir","compact"),M("pre","width xml:space"),M("hr","align noshade size width"),M("isindex","prompt"),M("table","summary width frame rules cellspacing cellpadding align bgcolor"),M("col","width align char charoff valign"),M("colgroup","width align char charoff valign"),M("thead","align char charoff valign"),M("tr","align char charoff valign bgcolor"),M("th","axis align char charoff valign nowrap bgcolor width height"),M("form","accept"),M("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),M("tfoot","align char charoff valign"),M("tbody","align char charoff valign"),M("area","nohref"),M("body","background bgcolor text link vlink alink")),t!=="html4"&&(M("input button select textarea","autofocus"),M("input textarea","placeholder"),M("a","download"),M("link script img","crossorigin"),M("img","loading"),M("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),t!=="html4"&&qe([f.video,f.audio],N=>{delete N.children.audio,delete N.children.video}),qe(Hc("a form meter progress dfn"),N=>{f[N]&&delete f[N].children[N]}),delete f.caption.children.table,delete f.script,f},bf=t=>t==="-"?"remove":"add",g1=t=>{const r=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return ye.from(r.exec(t)).map(a=>({preset:a[1]==="@",name:a[2]}))},ic=t=>{const r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return io(Hc(t,","),a=>{const u=r.exec(a);if(u){const f=u[1],b=f?bf(f):"replace",A=u[2],M=io(Hc(u[3],"|"),N=>g1(N).toArray());return[{operation:b,name:A,validChildren:M}]}else return[]})},Gg=(t,r)=>{const a=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,u=/[*?+]/,{attributes:f,attributesOrder:b}=r;return qe(Hc(t,"|"),A=>{const M=a.exec(A);if(M){const N={},G=M[1],le=M[2].replace(/[\\:]:/g,":"),fe=M[3],be=M[4];if(G==="!"&&(r.attributesRequired=r.attributesRequired||[],r.attributesRequired.push(le),N.required=!0),G==="-"){delete f[le],b.splice(Jn.inArray(b,le),1);return}if(fe&&(fe==="="?(r.attributesDefault=r.attributesDefault||[],r.attributesDefault.push({name:le,value:be}),N.defaultValue=be):fe==="~"?(r.attributesForced=r.attributesForced||[],r.attributesForced.push({name:le,value:be}),N.forcedValue=be):fe==="<"&&(N.validValues=Jn.makeMap(be,"?"))),u.test(le)){const Le=N;r.attributePatterns=r.attributePatterns||[],Le.pattern=rc(le),r.attributePatterns.push(Le)}else f[le]||b.push(le),f[le]=N}})},Xp=(t,r)=>{en(t.attributes,(a,u)=>{r.attributes[u]=a}),r.attributesOrder.push(...t.attributesOrder)},Jp=(t,r)=>{const a=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return io(Hc(r,","),u=>{const f=a.exec(u);if(f){const b=f[1],A=f[2],M=f[3],N=f[4],G=f[5],le={attributes:{},attributesOrder:[]};if(t.each(fe=>Xp(fe,le)),b==="#"?le.paddEmpty=!0:b==="-"&&(le.removeEmpty=!0),N==="!"&&(le.removeEmptyAttrs=!0),G&&Gg(G,le),M&&(le.outputName=A),A==="@")if(t.isNone())t=ye.some(le);else return[];return[M?{name:A,element:le,aliasName:M}:{name:A,element:le}]}else return[]})},jm={},Kv=Jn.makeMap,md=Jn.each,db=Jn.extend,kT=Jn.explode,_a=(t,r={})=>{const a=Kv(t," ",Kv(t.toUpperCase()," "));return db(a,r)},XE=t=>_a("td th li dt dd figcaption caption details summary",t.getTextBlockElements()),dp=(t,r)=>{if(t){const a={};return se(t)&&(t={"*":t}),md(t,(u,f)=>{a[f]=a[f.toUpperCase()]=r==="map"?Kv(u,/[, ]/):kT(u,/[, ]/)}),a}else return},Sf=(t={})=>{const r={},a={};let u=[];const f={},b={},A={},M=($s,Zr,cc)=>{const Ba=t[$s];if(Ba)return Kv(Ba,/[, ]/,Kv(Ba.toUpperCase(),/[, ]/));{let Ji=jm[$s];return Ji||(Ji=_a(Zr,cc),jm[$s]=Ji),Ji}},N=t.schema??"html5",G=yf(N);t.verify_html===!1&&(t.valid_elements="*[*]");const le=dp(t.valid_styles),fe=dp(t.invalid_styles,"map"),be=dp(t.valid_classes,"map"),Le=M("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Qe=M("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ze=M("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),nt=M("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Mt="td th iframe video audio object script code",Bt=M("non_empty_elements",Mt+" pre svg textarea summary",ze),zt=M("move_caret_before_on_enter_elements",Mt+" table",ze),_n="h1 h2 h3 h4 h5 h6",$n=M("text_block_elements",_n+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),xo=M("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",$n),oo=M("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),An=M("transparent_elements","a ins del canvas map"),wn=M("wrap_block_elements","pre "+_n);md("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),$s=>{b[$s]=new RegExp("</"+$s+"[^>]*>","gi")});const Un=$s=>{const Zr=ye.from(r["@"]),cc=/[*?+]/;qe(Jp(Zr,$s??""),({name:Ba,element:Ji,aliasName:Yl})=>{if(Yl&&(r[Yl]=Ji),cc.test(Ba)){const vm=Ji;vm.pattern=rc(Ba),u.push(vm)}else r[Ba]=Ji})},Zo=$s=>{u=[],qe(wt(r),Zr=>{delete r[Zr]}),Un($s)},Ls=($s,Zr)=>{delete jm.text_block_elements,delete jm.block_elements;const cc=Zr.extends?!xp(Zr.extends):!1,Ba=Zr.extends;if(a[$s]=Ba?a[Ba]:{},f[$s]=Ba??$s,Bt[$s.toUpperCase()]={},Bt[$s]={},cc||(xo[$s.toUpperCase()]={},xo[$s]={}),Ba&&!r[$s]&&r[Ba]){const Ji=jg(r[Ba]);delete Ji.removeEmptyAttrs,delete Ji.removeEmpty,r[$s]=Ji}else r[$s]={attributesOrder:[],attributes:{}};if(Te(Zr.attributes)){const Ji=vm=>{Yl.attributesOrder.push(vm),Yl.attributes[vm]={}},Yl=r[$s]??{};delete Yl.attributesDefault,delete Yl.attributesForced,delete Yl.attributePatterns,delete Yl.attributesRequired,Yl.attributesOrder=[],Yl.attributes={},qe(Zr.attributes,vm=>{const Pf=d0(N);g1(vm).each(({preset:bv,name:uS})=>{bv?uS==="global"&&qe(Pf,Ji):Ji(uS)})}),r[$s]=Yl}if(ke(Zr.padEmpty)){const Ji=r[$s]??{};Ji.paddEmpty=Zr.padEmpty,r[$s]=Ji}if(Te(Zr.children)){const Ji={},Yl=Pf=>{Ji[Pf]={}},vm=Pf=>{ub(N,Pf).each(bv=>{qe(bv,Yl)})};qe(Zr.children,Pf=>{g1(Pf).each(({preset:bv,name:uS})=>{bv?vm(uS):Yl(uS)})}),a[$s]=Ji}Ba&&en(a,(Ji,Yl)=>{Ji[Ba]&&(a[Yl]=Ji=db({},a[Yl]),Ji[$s]=Ji[Ba])})},gr=$s=>{qe(Wg($s??""),({name:Zr,cloneName:cc})=>{Ls(Zr,{extends:cc})})},Lr=($s,Zr)=>{A[$s]=Zr},Sa=$s=>{Se($s)?en($s,(Zr,cc)=>{const Ba=Zr.componentUrl;se(Ba)&&Lr(cc,Ba),Ls(cc,Zr)}):se($s)&&gr($s)},Ra=$s=>{qe(ic($s??""),({operation:Zr,name:cc,validChildren:Ba})=>{const Ji=Zr==="replace"?{"#comment":{}}:a[cc],Yl=Pf=>{Zr==="remove"?delete Ji[Pf]:Ji[Pf]={}},vm=Pf=>{ub(N,Pf).each(bv=>{qe(bv,Yl)})};qe(Ba,({preset:Pf,name:bv})=>{Pf?vm(bv):Yl(bv)}),a[cc]=Ji})},wc=$s=>{const Zr=r[$s];if(Zr)return Zr;let cc=u.length;for(;cc--;){const Ba=u[cc];if(Ba.pattern.test($s))return Ba}},qc=()=>{t.valid_elements?(Zo(t.valid_elements),md(G,($s,Zr)=>{a[Zr]=$s.children})):(md(G,($s,Zr)=>{r[Zr]={attributes:$s.attributes,attributesOrder:$s.attributesOrder},a[Zr]=$s.children}),md(Hc("strong/b em/i"),$s=>{const Zr=Hc($s,"/");r[Zr[1]].outputName=Zr[0]}),md(oo,($s,Zr)=>{r[Zr]&&(t.padd_empty_block_inline_children&&(r[Zr].paddInEmptyBlock=!0),r[Zr].removeEmpty=!0)}),md(Hc("ol ul blockquote a table tbody"),$s=>{r[$s]&&(r[$s].removeEmpty=!0)}),md(Hc("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),$s=>{r[$s]&&(r[$s].paddEmpty=!0)}),md(Hc("span"),$s=>{r[$s].removeEmptyAttrs=!0})),delete r.svg,Sa(t.custom_elements),Ra(t.valid_children),Un(t.extended_valid_elements),Ra("+ol[ul|ol],+ul[ul|ol]"),md({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},($s,Zr)=>{r[Zr]&&(r[Zr].parentsRequired=Hc($s))}),t.invalid_elements&&md(kT(t.invalid_elements),$s=>{r[$s]&&delete r[$s]}),wc("span")||Un("span[!data-mce-type|*]")},vv=it(le),Mo=it(fe),ws=it(be),Bi=it(nt),Di=it(xo),fs=it($n),uo=it(oo),Io=it(Object.seal(ze)),Fs=it(Qe),nr=it(Bt),Ki=it(zt),ka=it(Le),yv=it(An),mm=it(wn),Mb=it(Object.seal(b)),Pb=($s,Zr)=>{const cc=a[$s.toLowerCase()];return!!(cc&&cc[Zr.toLowerCase()])},gm=($s,Zr)=>{const cc=wc($s);if(cc)if(Zr){if(cc.attributes[Zr])return!0;const Ba=cc.attributePatterns;if(Ba){let Ji=Ba.length;for(;Ji--;)if(Ba[Ji].pattern.test(Zr))return!0}}else return!0;return!1},xp=$s=>Xo(Di(),$s),wy=$s=>!As($s,"#")&&gm($s)&&!xp($s),Px=$s=>Xo(mm(),$s)||wy($s),Nx=it(f),OL=it(A);return qc(),{type:N,children:a,elements:r,getValidStyles:vv,getValidClasses:ws,getBlockElements:Di,getInvalidStyles:Mo,getVoidElements:Io,getTextBlockElements:fs,getTextInlineElements:uo,getBoolAttrs:Bi,getElementRule:wc,getSelfClosingElements:Fs,getNonEmptyElements:nr,getMoveCaretBeforeOnEnterElements:Ki,getWhitespaceElements:ka,getTransparentElements:yv,getSpecialElements:Mb,getComponentUrls:OL,isValidChild:Pb,isValid:gm,isBlock:xp,isInline:wy,isWrapper:Px,getCustomElements:Nx,addValidElements:Un,setValidElements:Zo,addCustomElements:Sa,addValidChildren:Ra}},Wm=t=>({value:Qp(t)}),Qp=t=>Ih(t,"#").toUpperCase(),lu=t=>{const r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},hb=t=>{const r=lu(t.red)+lu(t.green)+lu(t.blue);return Wm(r)},em=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,JE=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,v1=(t,r,a,u)=>({red:t,green:r,blue:a,alpha:u}),fb=(t,r,a,u)=>{const f=parseInt(t,10),b=parseInt(r,10),A=parseInt(a,10),M=parseFloat(u);return v1(f,b,A,M)},eC=t=>em.test(t)?"rgb":JE.test(t)?"rgba":"other",tC=t=>{const r=em.exec(t);if(r!==null)return ye.some(fb(r[1],r[2],r[3],"1"));const a=JE.exec(t);return a!==null?ye.some(fb(a[1],a[2],a[3],a[4])):ye.none()},DT=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,pb=t=>tC(t).map(hb).map(r=>"#"+r.value).getOr(t),mb=(t={},r)=>{const a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,f=/\s+$/,b={};let A,M;const N=gc;r&&(A=r.getValidStyles(),M=r.getInvalidStyles());const G=(`\\" \\' \\; \\: ; : `+N).split(" ");for(let fe=0;fe<G.length;fe++)b[G[fe]]=N+fe,b[N+fe]=G[fe];const le={parse:fe=>{const be={};let Le=!1;const Qe=t.url_converter,ze=t.url_converter_scope||le,nt=(An,wn,Un)=>{const Zo=be[An+"-top"+wn];if(!Zo)return;const Ls=be[An+"-right"+wn];if(!Ls)return;const gr=be[An+"-bottom"+wn];if(!gr)return;const Lr=be[An+"-left"+wn];if(!Lr)return;const Sa=[Zo,Ls,gr,Lr];let Ra=Sa.length-1;for(;Ra--&&Sa[Ra]===Sa[Ra+1];);Ra>-1&&Un||(be[An+wn]=Ra===-1?Sa[0]:Sa.join(" "),delete be[An+"-top"+wn],delete be[An+"-right"+wn],delete be[An+"-bottom"+wn],delete be[An+"-left"+wn])},Mt=An=>{const wn=be[An];if(!wn)return;const Un=wn.indexOf(",")>-1?[wn]:wn.split(" ");let Zo=Un.length;for(;Zo--;)if(Un[Zo]!==Un[0])return!1;return be[An]=Un[0],!0},Bt=(An,wn,Un,Zo)=>{Mt(wn)&&Mt(Un)&&Mt(Zo)&&(be[An]=be[wn]+" "+be[Un]+" "+be[Zo],delete be[wn],delete be[Un],delete be[Zo])},zt=An=>(Le=!0,b[An]),_n=(An,wn)=>(Le&&(An=An.replace(/\uFEFF[0-9]/g,Un=>b[Un])),wn||(An=An.replace(/\\([\'\";:])/g,"$1")),An),$n=An=>String.fromCharCode(parseInt(An.slice(1),16)),xo=An=>An.replace(/\\[0-9a-f]+/gi,$n),oo=(An,wn,Un,Zo,Ls,gr)=>{if(Ls=Ls||gr,Ls)return Ls=_n(Ls),"'"+Ls.replace(/\'/g,"\\'")+"'";if(wn=_n(wn||Un||Zo||""),!t.allow_script_urls){const Lr=wn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Lr)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(Lr))return""}return Qe&&(wn=Qe.call(ze,wn,"style")),"url('"+wn.replace(/\'/g,"\\'")+"')"};if(fe){fe=fe.replace(/[\u0000-\u001F]/g,""),fe=fe.replace(/\\[\"\';:\uFEFF]/g,zt).replace(/\"[^\"]+\"|\'[^\']+\'/g,wn=>wn.replace(/[;:]/g,zt));let An;for(;An=u.exec(fe);){u.lastIndex=An.index+An[0].length;let wn=An[1].replace(f,"").toLowerCase(),Un=An[2].replace(f,"");if(wn&&Un){if(wn=xo(wn),Un=xo(Un),wn.indexOf(N)!==-1||wn.indexOf('"')!==-1||!t.allow_script_urls&&(wn==="behavior"||/expression\s*\(|\/\*|\*\//.test(Un)))continue;wn==="font-weight"&&Un==="700"?Un="bold":(wn==="color"||wn==="background-color")&&(Un=Un.toLowerCase()),eC(Un)==="rgb"&&tC(Un).each(Zo=>{Un=pb(DT(Zo)).toLowerCase()}),Un=Un.replace(a,oo),be[wn]=Le?_n(Un,!0):Un}}nt("border","",!0),nt("border","-width"),nt("border","-color"),nt("border","-style"),nt("padding",""),nt("margin",""),Bt("border","border-width","border-style","border-color"),be.border==="medium none"&&delete be.border,be["border-image"]==="none"&&delete be["border-image"]}return be},serialize:(fe,be)=>{let Le="";const Qe=(nt,Mt)=>{const Bt=Mt[nt];if(Bt)for(let zt=0,_n=Bt.length;zt<_n;zt++){const $n=Bt[zt],xo=fe[$n];xo&&(Le+=(Le.length>0?" ":"")+$n+": "+xo+";")}},ze=(nt,Mt)=>{if(!M||!Mt)return!0;let Bt=M["*"];return Bt&&Bt[nt]?!1:(Bt=M[Mt],!(Bt&&Bt[nt]))};return be&&A?(Qe("*",A),Qe(be,A)):en(fe,(nt,Mt)=>{nt&&ze(Mt,be)&&(Le+=(Le.length>0?" ":"")+Mt+": "+nt+";")}),Le}};return le},tm={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},qg=t=>t instanceof Event||_e(t.initEvent),Kg=t=>t.isDefaultPrevented===un||t.isDefaultPrevented===Dt,MT=t=>$e(t.preventDefault)||qg(t),h0=(t,r)=>{const a=r??{};for(const u in t)Xo(tm,u)||(a[u]=t[u]);return Re(t.composedPath)&&(a.composedPath=()=>t.composedPath()),Re(t.getModifierState)&&(a.getModifierState=u=>t.getModifierState(u)),Re(t.getTargetRanges)&&(a.getTargetRanges=()=>t.getTargetRanges()),a},y1=(t,r,a,u)=>{const f=h0(r,u);return f.type=t,$e(f.target)&&(f.target=f.srcElement??a),MT(r)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=un,_e(r.preventDefault)&&r.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=un,_e(r.stopPropagation)&&r.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=un,f.stopPropagation()},Kg(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?un:Dt,f.isPropagationStopped=f.cancelBubble===!0?un:Dt,f.isImmediatePropagationStopped=Dt)),f},PT="mce-data-",NT=/^(?:mouse|contextmenu)|click/,gb=(t,r,a,u)=>{t.addEventListener(r,a,u||!1)},Zv=(t,r,a,u)=>{t.removeEventListener(r,a,u||!1)},nC=t=>Re(t)&&NT.test(t.type),fh=(t,r)=>{const a=y1(t.type,t,document,r);if(nC(t)&&et(t.pageX)&&!et(t.clientX)){const u=a.target.ownerDocument||document,f=u.documentElement,b=u.body,A=a;A.pageX=t.clientX+(f&&f.scrollLeft||b&&b.scrollLeft||0)-(f&&f.clientLeft||b&&b.clientLeft||0),A.pageY=t.clientY+(f&&f.scrollTop||b&&b.scrollTop||0)-(f&&f.clientTop||b&&b.clientTop||0)}return a},b1=(t,r,a)=>{const u=t.document,f={type:"ready"};if(a.domLoaded){r(f);return}const b=()=>u.readyState==="complete"||u.readyState==="interactive"&&u.body,A=()=>{Zv(t,"DOMContentLoaded",A),Zv(t,"load",A),a.domLoaded||(a.domLoaded=!0,r(f)),t=null};b()?A():gb(t,"DOMContentLoaded",A),a.domLoaded||gb(t,"load",A)};class hp{static Event=new hp;domLoaded=!1;events={};expando;hasFocusIn;count=1;constructor(){this.expando=PT+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(r,a,u,f){const b=this;let A;const M=window,N=be=>{b.executeHandlers(fh(be||M.event),G)};if(!r||Wn(r)||$a(r))return u;let G;r[b.expando]?G=r[b.expando]:(G=b.count++,r[b.expando]=G,b.events[G]={}),f=f||r;const le=a.split(" ");let fe=le.length;for(;fe--;){let be=le[fe],Le=N,Qe=!1,ze=!1;if(be==="DOMContentLoaded"&&(be="ready"),b.domLoaded&&be==="ready"&&r.readyState==="complete"){u.call(f,fh({type:be}));continue}!b.hasFocusIn&&(be==="focusin"||be==="focusout")&&(Qe=!0,ze=be==="focusin"?"focus":"blur",Le=nt=>{const Mt=fh(nt||M.event);Mt.type=Mt.type==="focus"?"focusin":"focusout",b.executeHandlers(Mt,G)}),A=b.events[G][be],A?be==="ready"&&b.domLoaded?u(fh({type:be})):A.push({func:u,scope:f}):(b.events[G][be]=A=[{func:u,scope:f}],A.fakeName=ze,A.capture=Qe,A.nativeHandler=Le,be==="ready"?b1(r,Le,b):gb(r,ze||be,Le,Qe))}return r=A=null,u}unbind(r,a,u){if(!r||Wn(r)||$a(r))return this;const f=r[this.expando];if(f){let b=this.events[f];if(a){const A=a.split(" ");let M=A.length;for(;M--;){const N=A[M],G=b[N];if(G){if(u){let le=G.length;for(;le--;)if(G[le].func===u){const fe=G.nativeHandler,be=G.fakeName,Le=G.capture,Qe=G.slice(0,le).concat(G.slice(le+1));Qe.nativeHandler=fe,Qe.fakeName=be,Qe.capture=Le,b[N]=Qe}}(!u||G.length===0)&&(delete b[N],Zv(r,G.fakeName||N,G.nativeHandler,G.capture))}}}else en(b,(A,M)=>{Zv(r,A.fakeName||M,A.nativeHandler,A.capture)}),b={};for(const A in b)if(Xo(b,A))return this;delete this.events[f];try{delete r[this.expando]}catch{r[this.expando]=null}}return this}fire(r,a,u){return this.dispatch(r,a,u)}dispatch(r,a,u){if(!r||Wn(r)||$a(r))return this;const f=fh({type:a,target:r},u);do{const b=r[this.expando];b&&this.executeHandlers(f,b),r=r.parentNode||r.ownerDocument||r.defaultView||r.parentWindow}while(r&&!f.isPropagationStopped());return this}clean(r){if(!r||Wn(r)||$a(r))return this;if(r[this.expando]&&this.unbind(r),r.getElementsByTagName||(r=r.document),r&&r.getElementsByTagName){this.unbind(r);const a=r.getElementsByTagName("*");let u=a.length;for(;u--;)r=a[u],r[this.expando]&&this.unbind(r)}return this}destroy(){this.events={}}cancel(r){return r&&(r.preventDefault(),r.stopImmediatePropagation()),!1}executeHandlers(r,a){const u=this.events[a],f=u&&u[r.type];if(f)for(let b=0,A=f.length;b<A;b++){const M=f[b];if(M&&M.func.call(M.scope,r)===!1&&r.preventDefault(),r.isImmediatePropagationStopped())return}}}const f0=Jn.each,LT=Jn.grep,QE="data-mce-style",ph=Jn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),S1=(t,r,a)=>{$e(a)||a===""?vl(t,r):ha(t,r,a)},BT=t=>t.replace(/[A-Z]/g,r=>"-"+r.toLowerCase()),Yv=(t,r)=>{let a=0;if(t)for(let u=t.nodeType,f=t.previousSibling;f;f=f.previousSibling){const b=f.nodeType;r&&Wn(f)&&(b===u||!f.data.length)||(a++,u=b)}return a},XO=(t,r)=>{const a=aa(r,"style"),u=t.serialize(t.parse(a),Us(r));S1(r,QE,u)},FT=(t,r)=>ut(t)?Xo(ph,r)?t+"":t+"px":t,ew=(t,r,a)=>{const u=BT(r);$e(a)||a===""?e0(t,u):Bc(t,u,FT(a,u))},VT=(t,r,a)=>{const u=r.keep_values,f={set:(A,M,N)=>{const G=st.fromDom(A);_e(r.url_converter)&&Re(M)&&(M=r.url_converter.call(r.url_converter_scope||a(),String(M),N,A));const le="data-mce-"+N;S1(G,le,M),S1(G,N,M)},get:(A,M)=>{const N=st.fromDom(A);return aa(N,"data-mce-"+M)||aa(N,M)}},b={style:{set:(A,M)=>{const N=st.fromDom(A);u&&S1(N,QE,M),vl(N,"style"),se(M)&&ru(N,t.parse(M))},get:A=>{const M=st.fromDom(A),N=aa(M,QE)||aa(M,"style");return t.serialize(t.parse(N),Us(M))}}};return u&&(b.href=b.src=f),b},yi=(t,r={})=>{const a={},u=window,f={};let b=0;const A=!0,M=!0,N=$u.forElement(st.fromDom(t),{contentCssCors:r.contentCssCors,referrerPolicy:r.referrerPolicy,crossOrigin:on=>{const dn=r.crossOrigin;if(_e(dn))return dn(on,"stylesheet")}}),G=[],le=r.schema?r.schema:Sf({}),fe=mb({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope},r.schema),be=r.ownEvents?new hp:hp.Event,Le=le.getBlockElements(),Qe=on=>se(on)?Xo(Le,on):Ho(on)&&(Xo(Le,on.nodeName)||Nn(le,on)),ze=on=>on&&t&&se(on)?t.getElementById(on):on,nt=on=>{const dn=ze(on);return Re(dn)?st.fromDom(dn):null},Mt=(on,dn,Bo="")=>{let Co;const Zs=nt(on);if(Re(Zs)&&sa(Zs)){const Ei=zY[dn];Ei&&Ei.get?Co=Ei.get(Zs.dom,dn):Co=aa(Zs,dn)}return Re(Co)?Co:Bo},Bt=on=>{const dn=ze(on);return $e(dn)?[]:dn.attributes},zt=(on,dn,Bo)=>{ws(on,Co=>{if(Ho(Co)){const Zs=st.fromDom(Co),Ei=Bo===""?null:Bo,Dc=aa(Zs,dn),dS=zY[dn];dS&&dS.set?dS.set(Zs.dom,Ei,dn):S1(Zs,dn,Ei),Dc!==Ei&&r.onSetAttrib&&r.onSetAttrib({attrElm:Zs.dom,attrName:dn,attrValue:Ei})}})},_n=(on,dn)=>on.cloneNode(dn),$n=()=>r.root_element||t.body,xo=on=>{const dn=HE(on);return{x:dn.x,y:dn.y,w:dn.width,h:dn.height}},oo=(on,dn)=>zm(t.body,ze(on),dn),An=(on,dn,Bo)=>{ws(on,Co=>{const Zs=st.fromDom(Co);ew(Zs,dn,Bo),r.update_styles&&XO(fe,Zs)})},wn=(on,dn)=>{ws(on,Bo=>{const Co=st.fromDom(Bo);en(dn,(Zs,Ei)=>{ew(Co,Ei,Zs)}),r.update_styles&&XO(fe,Co)})},Un=(on,dn,Bo)=>{const Co=ze(on);if(!($e(Co)||!ma(Co)&&!r0(Co)))return Bo?Ha(st.fromDom(Co),BT(dn)):(dn=dn.replace(/-(\D)/g,(Zs,Ei)=>Ei.toUpperCase()),dn==="float"&&(dn="cssFloat"),Co.style?Co.style[dn]:void 0)},Zo=on=>{const dn=ze(on);if(!dn)return{w:0,h:0};let Bo=Un(dn,"width"),Co=Un(dn,"height");return(!Bo||Bo.indexOf("px")===-1)&&(Bo="0"),(!Co||Co.indexOf("px")===-1)&&(Co="0"),{w:parseInt(Bo,10)||dn.offsetWidth||dn.clientWidth,h:parseInt(Co,10)||dn.offsetHeight||dn.clientHeight}},Ls=on=>{const dn=ze(on),Bo=oo(dn),Co=Zo(dn);return{x:Bo.x,y:Bo.y,w:Co.w,h:Co.h}},gr=(on,dn)=>{if(!on)return!1;const Bo=Te(on)?on:[on];return cn(Bo,Co=>mr(st.fromDom(Co),dn))},Lr=(on,dn,Bo,Co)=>{const Zs=[];let Ei=ze(on);Co=Co===void 0;const Dc=Bo||($n().nodeName!=="BODY"?$n().parentNode:null);if(se(dn))if(dn==="*")dn=Ho;else{const dS=dn;dn=U0=>gr(U0,dS)}for(;Ei&&!(Ei===Dc||$e(Ei.nodeType)||Er(Ei)||$v(Ei));){if(!dn||dn(Ei))if(Co)Zs.push(Ei);else return[Ei];Ei=Ei.parentNode}return Co?Zs:null},Sa=(on,dn,Bo)=>{const Co=Lr(on,dn,Bo,!1);return Co&&Co.length>0?Co[0]:null},Ra=(on,dn,Bo)=>{let Co=dn;if(on){se(dn)&&(Co=Zs=>gr(Zs,dn));for(let Zs=on[Bo];Zs;Zs=Zs[Bo])if(_e(Co)&&Co(Zs))return Zs}return null},wc=(on,dn)=>Ra(on,dn,"nextSibling"),qc=(on,dn)=>Ra(on,dn,"previousSibling"),vv=on=>_e(on.querySelectorAll),Mo=(on,dn)=>{const Bo=ze(dn)??r.root_element??t;return vv(Bo)?Je(Bo.querySelectorAll(on)):[]},ws=function(on,dn,Bo){const Co=Bo??this;if(Te(on)){const Zs=[];return f0(on,(Ei,Dc)=>{const dS=ze(Ei);dS&&Zs.push(dn.call(Co,dS,Dc))}),Zs}else{const Zs=ze(on);return Zs?dn.call(Co,Zs):!1}},Bi=(on,dn)=>{ws(on,Bo=>{en(dn,(Co,Zs)=>{zt(Bo,Zs,Co)})})},Di=(on,dn)=>{ws(on,Bo=>{const Co=st.fromDom(Bo);zp(Co,dn)})},fs=(on,dn,Bo,Co,Zs)=>ws(on,Ei=>{const Dc=se(dn)?t.createElement(dn):dn;return Re(Bo)&&Bi(Dc,Bo),Co&&(!se(Co)&&Co.nodeType?Dc.appendChild(Co):se(Co)&&Di(Dc,Co)),Zs?Dc:Ei.appendChild(Dc)}),uo=(on,dn,Bo)=>fs(t.createElement(on),on,dn,Bo,!0),Io=Gv.decode,Fs=Gv.encodeAllRaw,nr=(on,dn,Bo="")=>{let Co="<"+on;for(const Zs in dn)es(dn,Zs)&&(Co+=" "+Zs+'="'+Fs(dn[Zs])+'"');return mc(Bo)&&Xo(le.getVoidElements(),on)?Co+" />":Co+">"+Bo+"</"+on+">"},Ki=on=>{const dn=t.createElement("div"),Bo=t.createDocumentFragment();Bo.appendChild(dn),on&&(dn.innerHTML=on);let Co;for(;Co=dn.firstChild;)Bo.appendChild(Co);return Bo.removeChild(dn),Bo},ka=(on,dn)=>ws(on,Bo=>{const Co=st.fromDom(Bo);return dn&&qe(yr(Co),Zs=>{ei(Zs)&&Zs.dom.length===0?Ni(Zs):Oc(Co,Zs)}),Ni(Co),Co.dom}),yv=on=>ws(on,dn=>{const Bo=dn.attributes;for(let Co=Bo.length-1;Co>=0;Co--)dn.removeAttributeNode(Bo.item(Co))}),mm=on=>fe.parse(on),Mb=(on,dn)=>fe.serialize(on,dn),Pb=on=>{if(Bx!==yi.DOM&&t===document){if(a[on])return;a[on]=!0}let dn=t.getElementById("mceDefaultStyles");if(!dn){dn=t.createElement("style"),dn.id="mceDefaultStyles",dn.type="text/css";const Bo=t.head;Bo.firstChild?Bo.insertBefore(dn,Bo.firstChild):Bo.appendChild(dn)}dn.styleSheet?dn.styleSheet.cssText+=on:dn.appendChild(t.createTextNode(on))},gm=on=>{on||(on=""),qe(on.split(","),dn=>{f[dn]=!0,N.load(dn).catch(St)})},xp=(on,dn,Bo)=>{ws(on,Co=>{if(Ho(Co)){const Zs=st.fromDom(Co),Ei=dn.split(" ");qe(Ei,Dc=>{Re(Bo)?(Bo?Al:cl)(Zs,Dc):Ai(Zs,Dc)})}})},wy=(on,dn)=>{xp(on,dn,!0)},Px=(on,dn)=>{xp(on,dn,!1)},Nx=(on,dn)=>{const Bo=nt(on),Co=dn.split(" ");return Re(Bo)&&no(Co,Zs=>Yy(Bo,Zs))},OL=on=>{ws(on,dn=>e0(st.fromDom(dn),"display"))},$s=on=>{ws(on,dn=>Bc(st.fromDom(dn),"display","none"))},Zr=on=>{const dn=nt(on);return Re(dn)&&Xr(yl(dn,"display"),"none")},cc=on=>(on||"mce_")+b++,Ba=on=>{const dn=nt(on);return Re(dn)?Ho(dn.dom)?dn.dom.outerHTML:kE(dn):""},Ji=(on,dn)=>{ws(on,Bo=>{Ho(Bo)&&(Bo.outerHTML=dn)})},Yl=(on,dn)=>{const Bo=ze(dn);return ws(on,Co=>{const Zs=Bo?.parentNode,Ei=Bo?.nextSibling;return Zs&&(Ei?Zs.insertBefore(Co,Ei):Zs.appendChild(Co)),Co})},vm=(on,dn,Bo)=>ws(dn,Co=>{const Zs=Te(dn)?on.cloneNode(!0):on;return Bo&&f0(LT(Co.childNodes),Ei=>{Zs.appendChild(Ei)}),Co.parentNode?.replaceChild(Zs,Co),Co}),Pf=(on,dn)=>{if(on.nodeName!==dn.toUpperCase()){const Bo=uo(dn);return f0(Bt(on),Co=>{zt(Bo,Co.nodeName,Mt(on,Co.nodeName))}),vm(Bo,on,!0),Bo}else return on},bv=(on,dn)=>{let Bo=on;for(;Bo;){let Co=dn;for(;Co&&Bo!==Co;)Co=Co.parentNode;if(Bo===Co)break;Bo=Bo.parentNode}return!Bo&&on.ownerDocument?on.ownerDocument.documentElement:Bo},uS=(on,dn,Bo)=>Ce(dn)?gf(le,on,{...Bo,isContent:Zs=>{const Ei=Zs.nodeName.toLowerCase();return!!dn[Ei]}}):gf(le,on,Bo),IL=()=>t.createRange(),RL=(on,dn,Bo)=>{let Co=IL(),Zs,Ei;if(on&&dn&&on.parentNode&&dn.parentNode){const Dc=on.parentNode;return Co.setStart(Dc,Yv(on)),Co.setEnd(dn.parentNode,Yv(dn)),Zs=Co.extractContents(),Co=IL(),Co.setStart(dn.parentNode,Yv(dn)+1),Co.setEnd(Dc,Yv(on)+1),Ei=Co.extractContents(),Dc.insertBefore(KE(Bx,Zs,le),on),Bo?Dc.insertBefore(Bo,on):Dc.insertBefore(dn,on),Dc.insertBefore(KE(Bx,Ei,le),on),ka(on),Bo||dn}else return},gk=(on,dn,Bo,Co)=>{if(Te(on)){let Zs=on.length;const Ei=[];for(;Zs--;)Ei[Zs]=gk(on[Zs],dn,Bo,Co);return Ei}else return r.collect&&(on===t||on===u)&&G.push([on,dn,Bo,Co]),be.bind(on,dn,Bo,Co||Bx)},$0=(on,dn,Bo)=>{if(Te(on)){let Co=on.length;const Zs=[];for(;Co--;)Zs[Co]=$0(on[Co],dn,Bo);return Zs}else{if(G.length>0&&(on===t||on===u)){let Co=G.length;for(;Co--;){const[Zs,Ei,Dc]=G[Co];on===Zs&&(!dn||dn===Ei)&&(!Bo||Bo===Dc)&&be.unbind(Zs,Ei,Dc)}}return be.unbind(on,dn,Bo)}},Lx=(on,dn,Bo)=>be.dispatch(on,dn,Bo),h5=(on,dn,Bo)=>be.dispatch(on,dn,Bo),kL=on=>{if(on&&ma(on)){const dn=on.getAttribute("data-mce-contenteditable");return dn&&dn!=="inherit"?dn:on.contentEditable!=="inherit"?on.contentEditable:null}else return null},Bx={doc:t,settings:r,win:u,files:f,stdMode:A,boxModel:M,styleSheetLoader:N,boundEvents:G,styles:fe,schema:le,events:be,isBlock:Qe,root:null,clone:_n,getRoot:$n,getViewPort:xo,getRect:Ls,getSize:Zo,getParent:Sa,getParents:Lr,get:ze,getNext:wc,getPrev:qc,select:Mo,is:gr,add:fs,create:uo,createHTML:nr,createFragment:Ki,remove:ka,setStyle:An,getStyle:Un,setStyles:wn,removeAllAttribs:yv,setAttrib:zt,setAttribs:Bi,getAttrib:Mt,getPos:oo,parseStyle:mm,serializeStyle:Mb,addStyle:Pb,loadCSS:gm,addClass:wy,removeClass:Px,hasClass:Nx,toggleClass:xp,show:OL,hide:$s,isHidden:Zr,uniqueId:cc,setHTML:Di,getOuterHTML:Ba,setOuterHTML:Ji,decode:Io,encode:Fs,insertAfter:Yl,replace:vm,rename:Pf,findCommonAncestor:bv,run:ws,getAttribs:Bt,isEmpty:uS,createRng:IL,nodeIndex:Yv,split:RL,bind:gk,unbind:$0,fire:h5,dispatch:Lx,getContentEditable:kL,getContentEditableParent:on=>{const dn=$n();let Bo=null;for(let Co=on;Co&&Co!==dn&&(Bo=kL(Co),Bo===null);Co=Co.parentNode);return Bo},isEditable:on=>{if(Re(on)){const dn=Ho(on)?on:on.parentElement;return Re(dn)&&ma(dn)&&Lu(st.fromDom(dn))}else return!1},destroy:()=>{if(G.length>0){let on=G.length;for(;on--;){const[dn,Bo,Co]=G[on];be.unbind(dn,Bo,Co)}}en(f,(on,dn)=>{N.unload(dn),delete f[dn]})},isChildOf:(on,dn)=>on===dn||dn.contains(on),dumpRng:on=>"startContainer: "+on.startContainer.nodeName+", startOffset: "+on.startOffset+", endContainer: "+on.endContainer.nodeName+", endOffset: "+on.endOffset},zY=VT(fe,r,it(Bx));return Bx};yi.DOM=yi(document),yi.nodeIndex=Yv;const HT=yi.DOM,tw=0,mh=1,vb=2,Pr=3;class Vl{static ScriptLoader=new Vl;settings;states={};queue=[];scriptLoadedCallbacks={};queueLoadedCallbacks=[];loading=!1;constructor(r={}){this.settings=r}_setReferrerPolicy(r){this.settings.referrerPolicy=r}_setCrossOrigin(r){this.settings.crossOrigin=r}loadScript(r){return new Promise((a,u)=>{const f=HT,b=document;let A;const M=()=>{f.remove(le),A&&(A.onerror=A.onload=A=null)},N=()=>{M(),a()},G=()=>{M(),u("Failed to load script: "+r)},le=f.uniqueId();A=b.createElement("script"),A.id=le,A.type="text/javascript",A.src=Jn._addCacheSuffix(r),this.settings.referrerPolicy&&f.setAttrib(A,"referrerpolicy",this.settings.referrerPolicy);const fe=this.settings.crossOrigin;if(_e(fe)){const be=fe(r);be!==void 0&&f.setAttrib(A,"crossorigin",be)}A.onload=N,A.onerror=G,(b.head||b.body).appendChild(A)})}isDone(r){return this.states[r]===vb}markDone(r){this.states[r]=vb}add(r){const a=this;return a.queue.push(r),a.states[r]===void 0&&(a.states[r]=tw),new Promise((f,b)=>{a.scriptLoadedCallbacks[r]||(a.scriptLoadedCallbacks[r]=[]),a.scriptLoadedCallbacks[r].push({resolve:f,reject:b})})}load(r){return this.add(r)}remove(r){delete this.states[r],delete this.scriptLoadedCallbacks[r]}loadQueue(){const r=this.queue;return this.queue=[],this.loadScripts(r)}loadScripts(r){const a=this,u=(N,G)=>{No(a.scriptLoadedCallbacks,G).each(le=>{qe(le,fe=>fe[N](G))}),delete a.scriptLoadedCallbacks[G]},f=N=>{const G=Ve(N,le=>le.status==="rejected");return G.length>0?Promise.reject(io(G,({reason:le})=>Te(le)?le:[le])):Promise.resolve()},b=N=>Promise.allSettled(vn(N,G=>a.states[G]===vb?(u("resolve",G),Promise.resolve()):a.states[G]===Pr?(u("reject",G),Promise.reject(G)):(a.states[G]=mh,a.loadScript(G).then(()=>{a.states[G]=vb,u("resolve",G);const le=a.queue;return le.length>0?(a.queue=[],b(le).then(f)):Promise.resolve()},()=>(a.states[G]=Pr,u("reject",G),Promise.reject(G)))))),A=N=>(a.loading=!0,b(N).then(G=>{a.loading=!1;const le=a.queueLoadedCallbacks.shift();return ye.from(le).each(mn),f(G)})),M=Xf(r);return a.loading?new Promise((N,G)=>{a.queueLoadedCallbacks.push(()=>{A(M).then(N,G)})}):A(M)}getScriptAttributes(r){const a={};this.settings.referrerPolicy&&(a.referrerpolicy=this.settings.referrerPolicy);const u=this.settings.crossOrigin;if(_e(u)){const f=u(r);se(f)&&(a.crossorigin=f)}return a}}const C1=(t,r)=>{const a=t.indexOf(r);return a!==-1&&t.indexOf(r,a+1)>a},oC=t=>Se(t)&&Xo(t,"raw"),la=t=>Te(t)&&t.length>1,p0={},E1=zo("en"),nw=()=>No(p0,E1.get()),fp={getData:()=>jn(p0,t=>({...t})),setCode:t=>{t&&E1.set(t)},getCode:()=>E1.get(),add:(t,r)=>{let a=p0[t];a||(p0[t]=a={});const u=vn(wt(r),f=>f.toLowerCase());en(r,(f,b)=>{const A=b.toLowerCase();A!==b&&C1(u,A)?(Xo(r,A)||(a[A]=f),a[b]=f):a[A]=f})},translate:t=>{const r=nw().getOr({}),a=M=>_e(M)?Object.prototype.toString.call(M):u(M)?"":""+M,u=M=>M===""||M===null||M===void 0,f=M=>{const N=a(M);return Xo(r,N)?a(r[N]):No(r,N.toLowerCase()).map(a).getOr(N)},b=M=>M.replace(/{context:\w+}$/,""),A=M=>M.replaceAll("...",Am);if(u(t))return"";if(oC(t))return A(a(t.raw));if(la(t)){const M=t.slice(1),N=f(t[0]).replace(/\{([0-9]+)\}/g,(G,le)=>Xo(M,le)?a(M[le]):G);return A(b(N))}return A(b(f(t)))},isRtl:()=>nw().bind(t=>No(t,"_dir")).exists(t=>t==="rtl"),hasCode:t=>Xo(p0,t)},$c=()=>{const t=[],r={},a={},u=[],f=(ze,nt)=>{const Mt=Ve(u,Bt=>Bt.name===ze&&Bt.state===nt);qe(Mt,Bt=>Bt.resolve())},b=ze=>Xo(r,ze),A=ze=>Xo(a,ze),M=ze=>{if(a[ze])return a[ze].instance},N=(ze,nt)=>{const Mt=fp.getCode(),Bt=","+(nt||"")+",";!Mt||nt&&Bt.indexOf(","+Mt+",")===-1||Vl.ScriptLoader.add(r[ze]+"/langs/"+Mt+".js")},G=(ze,nt)=>{$c.languageLoad!==!1&&(b(ze)?N(ze,nt):Qe(ze,"loaded").then(()=>N(ze,nt)))},le=(ze,nt)=>(t.push(nt),a[ze]={instance:nt},f(ze,"added"),nt),fe=ze=>{delete r[ze],delete a[ze]},be=(ze,nt)=>se(nt)?se(ze)?{prefix:"",resource:nt,suffix:""}:{prefix:ze.prefix,resource:nt,suffix:ze.suffix}:nt,Le=(ze,nt)=>{if(r[ze])return Promise.resolve();let Mt=se(nt)?nt:nt.prefix+nt.resource+nt.suffix;Mt.indexOf("/")!==0&&Mt.indexOf("://")===-1&&(Mt=$c.baseURL+"/"+Mt),r[ze]=Mt.substring(0,Mt.lastIndexOf("/"));const Bt=()=>(f(ze,"loaded"),Promise.resolve());return a[ze]?Bt():Vl.ScriptLoader.add(Mt).then(Bt)},Qe=(ze,nt="added")=>nt==="added"&&A(ze)||nt==="loaded"&&b(ze)?Promise.resolve():new Promise(Mt=>{u.push({name:ze,state:nt,resolve:Mt})});return{items:t,urls:r,lookup:a,get:M,requireLangPack:G,add:le,remove:fe,createUrl:be,load:Le,waitFor:Qe}};$c.languageLoad=!0,$c.baseURL="",$c.PluginManager=$c(),$c.ThemeManager=$c(),$c.ModelManager=$c();const Cf=it("mce-annotation"),nm=it("data-mce-annotation"),om=it("data-mce-annotation-uid"),Zg=it("data-mce-annotation-active"),Gm=it("data-mce-annotation-classes"),qm=it("data-mce-annotation-attrs"),ow=t=>r=>Lo(r,t),sC=(t,r)=>{const a=t.selection.getRng(),u=st.fromDom(a.startContainer),f=st.fromDom(t.getBody()),b=r.fold(()=>"."+Cf(),N=>`[${nm()}="${N}"]`),A=Lh(u,a.startOffset).getOr(u);return Ic(A,b,ow(f)).bind(N=>lh(N,`${om()}`).bind(G=>lh(N,`${nm()}`).map(le=>{const fe=w1(t,G);return{uid:G,name:le,elements:fe}})))},QO=t=>sa(t)&&Yy(t,Cf()),eI=(t,r)=>fa(t,"data-mce-bogus")||Hi(t,'[data-mce-bogus="all"]',ow(r)),w1=(t,r)=>{const a=st.fromDom(t.getBody()),u=Sn(a,`[${om()}="${r}"]`);return Ve(u,f=>!eI(f,a))},rC=(t,r)=>{const a=st.fromDom(t.getBody()),u=Sn(a,`[${nm()}="${r}"]`),f={};return qe(u,b=>{if(!eI(b,a)){const A=aa(b,om()),M=No(f,A).getOr([]);f[A]=M.concat([b])}}),f},iC=(t,r)=>{const a=zo({}),u=()=>({listeners:[],previous:Ac()}),f=(fe,be)=>{b(fe,Le=>(be(Le),Le))},b=(fe,be)=>{const Le=a.get(),Qe=No(Le,fe).getOrThunk(u),ze=be(Qe);Le[fe]=ze,a.set(Le)},A=(fe,be,Le)=>{f(fe,Qe=>{qe(Qe.listeners,ze=>ze(!0,fe,{uid:be,nodes:vn(Le,nt=>nt.dom)}))})},M=fe=>{f(fe,be=>{qe(be.listeners,Le=>Le(!1,fe))})},N=(fe,be)=>{qe(w1(t,fe),Le=>{be?ha(Le,Zg(),"true"):vl(Le,Zg())})},G=Ou(()=>{const fe=Pn(r.getNames());qe(fe,be=>{b(be,Le=>{const Qe=Le.previous.get();return sC(t,ye.some(be)).fold(()=>{Qe.each(ze=>{M(be),Le.previous.clear(),N(ze,!1)})},({uid:ze,name:nt,elements:Mt})=>{Xr(Qe,ze)||(Qe.each(Bt=>N(Bt,!1)),A(nt,ze,Mt),Le.previous.set(ze),N(ze,!0))}),{previous:Le.previous,listeners:Le.listeners}})})},30);return t.on("remove",()=>{G.cancel()}),t.on("NodeChange",()=>{G.throttle()}),{addListener:(fe,be)=>{b(fe,Le=>({previous:Le.previous,listeners:Le.listeners.concat([be])}))}}},aC=(t,r)=>{const a=nm(),u=b=>ye.from(b.attr(a)).bind(r.lookup),f=b=>{b.attr(om(),null),b.attr(nm(),null),b.attr(Zg(),null);const A=ye.from(b.attr(qm())).map(le=>le.split(",")).getOr([]),M=ye.from(b.attr(Gm())).map(le=>le.split(",")).getOr([]);qe(A,le=>b.attr(le,null));const N=b.attr("class")?.split(" ")??[],G=Wo(N,[Cf()].concat(M));b.attr("class",G.length>0?G.join(" "):null),b.attr(Gm(),null),b.attr(qm(),null)};t.serializer.addTempAttr(Zg()),t.serializer.addAttributeFilter(a,b=>{for(const A of b)u(A).each(M=>{M.persistent===!1&&(A.name==="span"?A.unwrap():f(A))})})},Yg=()=>{const t={};return{register:(f,b)=>{t[f]={name:f,settings:b}},lookup:f=>No(t,f).map(b=>b.settings),getNames:()=>wt(t)}},m0=(t,r,a=Dt)=>{const u=new Yi(t,r),f=b=>{let A;do A=u[b]();while(A&&!Wn(A)&&!a(A));return ye.from(A).filter(Wn)};return{current:()=>ye.from(u.current()).filter(Wn),next:()=>f("next"),prev:()=>f("prev"),prev2:()=>f("prev2")}},sm=(t,r)=>{const a=r||(A=>t.isBlock(A)||ga(A)||ai(A)),u=(A,M,N,G)=>{if(Wn(A)){const le=G(A,M,A.data);if(le!==-1)return ye.some({container:A,offset:le})}return N().bind(le=>u(le.container,le.offset,N,G))};return{backwards:(A,M,N,G)=>{const le=m0(A,G??t.getRoot(),a);return u(A,M,()=>le.prev().map(fe=>({container:fe,offset:fe.length})),N).getOrNull()},forwards:(A,M,N,G)=>{const le=m0(A,G??t.getRoot(),a);return u(A,M,()=>le.next().map(fe=>({container:fe,offset:0})),N).getOrNull()}}},lC=["td","th"],sw=["thead","tbody","tfoot"],cC=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],uC=["li","dd","dt"],GT=["ul","ol","dl"],tI=["pre","script","textarea","style"],g0=t=>{let r;return a=>(r=r||Bs(t,un),Xo(r,Us(a)))},qT=t=>Us(t)==="table",Ef=t=>sa(t)&&Us(t)==="br",v0=g0(cC),dC=g0(GT),Km=g0(uC),Q=g0(sw),m=g0(lC),C=g0(tI),T=t=>{const r=[];let a=t.dom;for(;a;)r.push(st.fromDom(a)),a=a.lastChild;return r},R=t=>{const r=Sn(t,"br"),a=Ve(T(t).slice(-1),Ef);r.length===a.length&&qe(a,Ni)},D=()=>{const t=st.fromTag("br");return ha(t,"data-mce-bogus","1"),t},F=t=>{id(t),zr(t,D())},j=(t,r)=>{Ya(t).each(a=>{Nd(a).each(u=>{r.isBlock(Us(t))&&Ef(a)&&r.isBlock(Us(u))&&Ni(a)})})},K=gc,ne=zl,ue=Qc,ie=t=>t.insertContent(K,{preserve_zwsp:!0}),me=Ho,Ee=Wn,Ae=t=>(Ee(t)&&(t=t.parentNode),me(t)&&t.hasAttribute("data-mce-caret")),Pe=t=>Ee(t)&&ne(t.data),Fe=t=>Ae(t)||Pe(t),Ne=t=>t.firstChild!==t.lastChild||!ga(t.firstChild),lt=(t,r)=>{const u=(t.ownerDocument??document).createTextNode(K),f=t.parentNode;if(r){const b=t.previousSibling;if(Ee(b)){if(Fe(b))return b;if(Yt(b))return b.splitText(b.data.length-1)}f?.insertBefore(u,t)}else{const b=t.nextSibling;if(Ee(b)){if(Fe(b))return b;if(Kt(b))return b.splitText(1),b}t.nextSibling?f?.insertBefore(u,t.nextSibling):f?.appendChild(u)}return u},gt=t=>{const r=t.container();return Wn(r)?r.data.charAt(t.offset())===K||t.isAtStart()&&Pe(r.previousSibling):!1},$t=t=>{const r=t.container();return Wn(r)?r.data.charAt(t.offset()-1)===K||t.isAtEnd()&&Pe(r.nextSibling):!1},qt=(t,r,a)=>{const f=(r.ownerDocument??document).createElement(t);f.setAttribute("data-mce-caret",a?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(D().dom);const b=r.parentNode;return a?b?.insertBefore(f,r):r.nextSibling?b?.insertBefore(f,r.nextSibling):b?.appendChild(f),f},Kt=t=>Ee(t)&&t.data[0]===K,Yt=t=>Ee(t)&&t.data[t.data.length-1]===K,Xt=t=>{const r=t.getElementsByTagName("br"),a=r[r.length-1];Fg(a)&&a.parentNode?.removeChild(a)},Kn=t=>t&&t.hasAttribute("data-mce-caret")?(Xt(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("data-mce-style"),t.removeAttribute("_moz_abspos"),t):null,So=t=>Ae(t.startContainer),Dn=Math.round,ts=t=>t?{left:Dn(t.left),top:Dn(t.top),bottom:Dn(t.bottom),right:Dn(t.right),width:Dn(t.width),height:Dn(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},sr=(t,r)=>(t=ts(t),r||(t.left=t.left+t.width),t.right=t.left,t.width=0,t),dr=(t,r)=>t.left===r.left&&t.top===r.top&&t.bottom===r.bottom&&t.right===r.right,hs=(t,r,a)=>t>=0&&t<=Math.min(r.height,a.height)/2,Rs=(t,r)=>{const a=Math.min(r.height/2,t.height/2);return t.bottom-a<r.top?!0:t.top>r.bottom?!1:hs(r.top-t.bottom,t,r)},Qs=(t,r)=>t.top>r.bottom?!0:t.bottom<r.top?!1:hs(r.bottom-t.top,t,r),La=(t,r,a)=>r>=t.left&&r<=t.right&&a>=t.top&&a<=t.bottom,Oi=t=>Gt(t,(r,a)=>r.fold(()=>ye.some(a),u=>{const f=Math.min(a.left,u.left),b=Math.min(a.top,u.top),A=Math.max(a.right,u.right),M=Math.max(a.bottom,u.bottom);return ye.some({top:b,right:A,bottom:M,left:f,width:A-f,height:M-b})}),ye.none()),cu=(t,r,a)=>{const u=Math.max(Math.min(r,t.left+t.width),t.left),f=Math.max(Math.min(a,t.top+t.height),t.top);return Math.sqrt((r-u)*(r-u)+(a-f)*(a-f))},Mr=(t,r)=>Math.max(0,Math.min(t.bottom,r.bottom)-Math.max(t.top,r.top)),Sr=t=>{const r=t.startContainer,a=t.startOffset;return r===t.endContainer&&r.hasChildNodes()&&t.endOffset===a+1?r.childNodes[a]:null},fi=(t,r)=>{if(Ho(t)&&t.hasChildNodes()){const a=t.childNodes,u=Id(r,0,a.length-1);return a[u]}else return t},bi=(t,r)=>{if(!(r<0&&Ho(t)&&t.hasChildNodes()))return fi(t,r)},qr=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),tl=t=>se(t)&&t.charCodeAt(0)>=768&&qr.test(t),Ii=(...t)=>r=>{for(let a=0;a<t.length;a++)if(t[a](r))return!0;return!1},Hl=(...t)=>r=>{for(let a=0;a<t.length;a++)if(!t[a](r))return!1;return!0},Uu=au,Ud=ai,pp=ga,wf=Wn,zd=Rc(["script","style","textarea"]),rm=Rc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),mp=Rc(["table"]),za=Fe,Ui=t=>za(t)?!1:wf(t)?!zd(t.parentNode):rm(t)||pp(t)||mp(t)||dl(t),ja=t=>Ho(t)&&t.getAttribute("unselectable")==="true",dl=t=>!ja(t)&&Ud(t),ac=(t,r)=>{for(let a=t.parentNode;a&&a!==r;a=a.parentNode){if(dl(a))return!1;if(Uu(a))return!0}return!0},lc=t=>dl(t)?!Gt(Je(t.getElementsByTagName("*")),(r,a)=>r||Uu(a),!1):!1,KT=t=>rm(t)||lc(t),ZT=(t,r)=>Ui(t)&&ac(t,r),YT=Ho,X2=Ui,XT=Hv("display","block table"),J2=Hv("float","left right"),_1=Hl(YT,X2,tn(J2)),nI=tn(Hv("white-space","pre pre-line pre-wrap")),T1=Wn,JT=ga,oI=yi.nodeIndex,QT=bi,Xg=t=>t?t.createRange():yi.DOM.createRng(),rw=t=>se(t)&&/[\r\n\t ]/.test(t),sI=t=>!!t.setStart&&!!t.setEnd,hC=t=>{const r=t.startContainer,a=t.startOffset;if(rw(t.toString())&&nI(r.parentNode)&&Wn(r)){const u=r.data;if(rw(u[a-1])||rw(u[a+1]))return!0}return!1},iw=t=>{const r=t.ownerDocument,a=Xg(r),u=r.createTextNode(Pi),f=t.parentNode;f.insertBefore(u,t),a.setStart(u,0),a.setEnd(u,1);const b=ts(a.getBoundingClientRect());return f.removeChild(u),b},eA=t=>{const r=t.startContainer,a=t.endContainer,u=t.startOffset,f=t.endOffset;if(r===a&&Wn(a)&&u===0&&f===1){const b=t.cloneRange();return b.setEndAfter(a),Zm(b)}else return null},rI=t=>t.left===0&&t.right===0&&t.top===0&&t.bottom===0,Zm=t=>{let r;const a=t.getClientRects();return a.length>0?r=ts(a[0]):r=ts(t.getBoundingClientRect()),!sI(t)&&JT(t)&&rI(r)?iw(t):rI(r)&&sI(t)?eA(t)??r:r},Xv=(t,r)=>{const a=sr(t,r);return a.width=1,a.right=a.left+1,a},fC=t=>{const r=[],a=A=>{A.height!==0&&(r.length>0&&dr(A,r[r.length-1])||r.push(A))},u=(A,M)=>{const N=Xg(A.ownerDocument);if(M<A.data.length){if(tl(A.data[M]))return;if(tl(A.data[M-1])&&(N.setStart(A,M),N.setEnd(A,M+1),!hC(N))){a(Xv(Zm(N),!1));return}}M>0&&(N.setStart(A,M-1),N.setEnd(A,M),hC(N)||a(Xv(Zm(N),!1))),M<A.data.length&&(N.setStart(A,M),N.setEnd(A,M+1),hC(N)||a(Xv(Zm(N),!0)))},f=t.container(),b=t.offset();if(T1(f))return u(f,b),r;if(YT(f))if(t.isAtEnd()){const A=QT(f,b);T1(A)&&u(A,A.data.length),_1(A)&&!JT(A)&&a(Xv(Zm(A),!1))}else{const A=QT(f,b);if(T1(A)&&u(A,0),_1(A)&&t.isAtEnd())return a(Xv(Zm(A),!1)),r;const M=QT(t.container(),t.offset()-1);_1(M)&&!JT(M)&&(XT(M)||XT(A)||!_1(A))&&a(Xv(Zm(M),!1)),_1(A)&&a(Xv(Zm(A),!0))}return r},gn=(t,r,a)=>{const u=()=>(T1(t),r===0),f=()=>T1(t)?r>=t.data.length:r>=t.childNodes.length,b=()=>{const le=Xg(t.ownerDocument);return le.setStart(t,r),le.setEnd(t,r),le},A=()=>(a||(a=fC(gn(t,r))),a),M=()=>A().length>0,N=le=>le&&t===le.container()&&r===le.offset(),G=le=>QT(t,le?r-1:r);return{container:it(t),offset:it(r),toRange:b,getClientRects:A,isVisible:M,isAtStart:u,isAtEnd:f,isEqual:N,getNode:G}};gn.fromRangeStart=t=>gn(t.startContainer,t.startOffset),gn.fromRangeEnd=t=>gn(t.endContainer,t.endOffset),gn.after=t=>gn(t.parentNode,oI(t)+1),gn.before=t=>gn(t.parentNode,oI(t)),gn.isAbove=(t,r)=>Ar(je(r.getClientRects()),rt(t.getClientRects()),Rs).getOr(!1),gn.isBelow=(t,r)=>Ar(rt(r.getClientRects()),je(t.getClientRects()),Qs).getOr(!1),gn.isAtStart=t=>t?t.isAtStart():!1,gn.isAtEnd=t=>t?t.isAtEnd():!1,gn.isTextPosition=t=>t?Wn(t.container()):!1,gn.isElementPosition=t=>!gn.isTextPosition(t);const zh=(t,r)=>{Wn(r)&&r.data.length===0&&t.remove(r)},pC=(t,r,a)=>{r.insertNode(a),zh(t,a.previousSibling),zh(t,a.nextSibling)},aw=(t,r,a)=>{const u=ye.from(a.firstChild),f=ye.from(a.lastChild);r.insertNode(a),u.each(b=>zh(t,b.previousSibling)),f.each(b=>zh(t,b.nextSibling))},tA=(t,r,a)=>{$v(a)?aw(t,r,a):pC(t,r,a)},Jg=Wn,jd=Fg,lw=yi.nodeIndex,Q2=t=>{const r=t.parentNode;return jd(r)?Q2(r):r},nA=t=>t?Iu(t.childNodes,(r,a)=>(jd(a)&&a.nodeName!=="BR"?r=r.concat(nA(a)):r.push(a),r),[]):[],eD=(t,r)=>{let a=t;for(;(a=a.previousSibling)&&Jg(a);)r+=a.data.length;return r},A1=t=>r=>t===r,iI=t=>{let r,a;r=nA(Q2(t)),a=Rh(r,A1(t),t),r=r.slice(0,a+1);const u=Iu(r,(f,b,A)=>(Jg(b)&&Jg(r[A-1])&&f++,f),0);return r=vc(r,Rc([t.nodeName])),a=Rh(r,A1(t),t),a-u},Jv=t=>(Jg(t)?"text()":t.nodeName.toLowerCase())+"["+iI(t)+"]",aI=(t,r,a)=>{const u=[];for(let f=r.parentNode;f&&f!==t;f=f.parentNode)u.push(f);return u},tD=(t,r)=>{let a=[],u=r.container(),f=r.offset(),b;if(Jg(u))b=eD(u,f);else{const M=u.childNodes;f>=M.length?(b="after",f=M.length-1):b="before",u=M[f]}a.push(Jv(u));let A=aI(t,u);return A=vc(A,tn(Fg)),a=a.concat(Dd(A,M=>Jv(M))),a.reverse().join("/")+","+b},Wd=(t,r,a)=>{let u=nA(t);return u=vc(u,(f,b)=>!Jg(f)||!Jg(u[b-1])),u=vc(u,Rc([r])),u[a]},Qg=(t,r)=>{let a=t,u=0;for(;Jg(a);){const f=a.data.length;if(r>=u&&r<=u+f){t=a,r=r-u;break}if(!Jg(a.nextSibling)){t=a,r=f;break}u+=f,a=a.nextSibling}return Jg(t)&&r>t.data.length&&(r=t.data.length),gn(t,r)},_f=(t,r)=>{if(!r)return null;const a=r.split(","),u=a[0].split("/"),f=a.length>1?a[1]:"before",b=Iu(u,(A,M)=>{const N=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(M);return N?(N[1]==="text()"&&(N[1]="#text"),Wd(A,N[1],parseInt(N[2],10))):null},t);if(!b)return null;if(!Jg(b)&&b.parentNode){let A;return f==="after"?A=lw(b)+1:A=lw(b),gn(b.parentNode,A)}return Qg(b,parseInt(f,10))},oA=ai,mC=(t,r,a)=>{let u=t(r.data.slice(0,a)).length;for(let f=r.previousSibling;f&&Wn(f);f=f.previousSibling)u+=t(f.data).length;return u},nD=(t,r,a,u,f)=>{const b=f?u.startContainer:u.endContainer;let A=f?u.startOffset:u.endOffset;const M=[],N=t.getRoot();if(Wn(b))M.push(a?mC(r,b,A):A);else{let G=0;const le=b.childNodes;A>=le.length&&le.length&&(G=1,A=Math.max(0,le.length-1)),M.push(t.nodeIndex(le[A],a)+G)}for(let G=b;G&&G!==N;G=G.parentNode)M.push(t.nodeIndex(G,a));return M},k4=(t,r,a,u)=>{const f=r.dom,b=nD(f,t,a,u,!0),A=r.isForward(),M=So(u)?{isFakeCaret:!0}:{};if(r.isCollapsed())return{start:b,forward:A,...M};{const N=nD(f,t,a,u,!1);return{start:b,end:N,forward:A,...M}}},lI=(t,r,a)=>{let u=0;return Jn.each(t.select(r),f=>{if(f.getAttribute("data-mce-bogus")!=="all"){if(f===a)return!1;u++;return}}),u},oD=(t,r)=>{let a=r?t.startContainer:t.endContainer,u=r?t.startOffset:t.endOffset;if(Ho(a)&&a.nodeName==="TR"){const f=a.childNodes;a=f[Math.min(r?u:u-1,f.length-1)],a&&(u=r?0:a.childNodes.length,r?t.setStart(a,u):t.setEnd(a,u))}},_r=t=>(oD(t,!0),oD(t,!1),t),bs=(t,r)=>{if(Ho(t)&&(t=fi(t,r),oA(t)))return t;if(Fe(t)){Wn(t)&&Ae(t)&&(t=t.parentNode);let a=t.previousSibling;if(oA(a)||(a=t.nextSibling,oA(a)))return a}},cw=t=>bs(t.startContainer,t.startOffset)||bs(t.endContainer,t.endOffset),sA=(t,r,a)=>{const u=a.getNode(),f=a.getRng();if(u.nodeName==="IMG"||oA(u)){const A=u.nodeName;return{name:A,index:lI(a.dom,A,u)}}const b=cw(f);if(b){const A=b.tagName;return{name:A,index:lI(a.dom,A,b)}}return k4(t,a,r,f)},cI=t=>{const r=t.getRng();return{start:tD(t.dom.getRoot(),gn.fromRangeStart(r)),end:tD(t.dom.getRoot(),gn.fromRangeEnd(r)),forward:t.isForward()}},D4=t=>({rng:t.getRng(),forward:t.isForward()}),uI=(t,r,a)=>{const u={"data-mce-type":"bookmark",id:r,style:"overflow:hidden;line-height:0px"};return a?t.create("span",u,"&#xFEFF;"):t.create("span",u)},Ia=(t,r)=>{const a=t.dom;let u=t.getRng();const f=a.uniqueId(),b=t.isCollapsed(),A=t.getNode(),M=A.nodeName,N=t.isForward();if(M==="IMG")return{name:M,index:lI(a,M,A)};const G=_r(u.cloneRange());if(!b){G.collapse(!1);const fe=uI(a,f+"_end",r);tA(a,G,fe)}u=_r(u),u.collapse(!0);const le=uI(a,f+"_start",r);return tA(a,u,le),t.moveToBookmark({id:f,keep:!0,forward:N}),{id:f,forward:N}},rA=(t,r,a=!1)=>r===2?sA(ue,a,t):r===3?cI(t):r?D4(t):Ia(t,!1),uw=Xe(sA,Ht,!0),x1=t=>t===1,En=t=>t===-1,iA=t=>t.type==="inline-command"||t.type==="inline-format",sD=t=>t.type==="block-command"||t.type==="block-format",aA=(t,r)=>(t.type==="block-command"||t.type==="block-format")&&t.trigger===r,rD=t=>{const r=u=>Ea.error({message:u,pattern:t}),a=(u,f,b)=>{if(t.format!==void 0){let A;if(Te(t.format)){if(!no(t.format,se))return r(u+" pattern has non-string items in the `format` array");A=t.format}else if(se(t.format))A=[t.format];else return r(u+" pattern has non-string `format` parameter");return Ea.value(f(A))}else return t.cmd!==void 0?se(t.cmd)?Ea.value(b(t.cmd,t.value)):r(u+" pattern has non-string `cmd` parameter"):r(u+" pattern is missing both `format` and `cmd` parameters")};if(!Se(t))return r("Raw pattern is not an object");if(!se(t.start))return r("Raw pattern is missing `start` parameter");if(t.end!==void 0){if(!se(t.end))return r("Inline pattern has non-string `end` parameter");if(t.start.length===0&&t.end.length===0)return r("Inline pattern has empty `start` and `end` parameters");let u=t.start,f=t.end;return f.length===0&&(f=u,u=""),a("Inline",b=>({type:"inline-format",start:u,end:f,format:b}),(b,A)=>({type:"inline-command",start:u,end:f,cmd:b,value:A}))}else{if(t.replacement!==void 0)return se(t.replacement)?t.start.length===0?r("Replacement pattern has empty `start` parameter"):Ea.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):r("Replacement pattern has non-string `replacement` parameter");{const u=t.trigger??"space";return t.start.length===0?r("Block pattern has empty `start` parameter"):a("Block",f=>({type:"block-format",start:t.start,format:f[0],trigger:u}),(f,b)=>({type:"block-command",start:t.start,cmd:f,value:b,trigger:u}))}}},yb=t=>Ve(t,sD),O1=t=>Ve(t,iA),I1=(t,r)=>({inlinePatterns:O1(t),blockPatterns:yb(t),dynamicPatternsLookup:r}),dI=(t,r)=>({...t,blockPatterns:Ve(t.blockPatterns,a=>aA(a,r))}),R1=t=>{const r=al(vn(t,rD));return qe(r.errors,a=>console.error(a.message,a.pattern)),r.values},Ta=t=>r=>{const a=t(r);return R1(a)},ev=(t,r)=>t.dispatch("PreProcess",r),iD=(t,r)=>t.dispatch("PostProcess",r),bb=t=>{t.dispatch("remove")},Ym=t=>{t.dispatch("detach")},M4=(t,r)=>{t.dispatch("SwitchMode",{mode:r})},P4=(t,r,a,u,f)=>{t.dispatch("ObjectResizeStart",{target:r,width:a,height:u,origin:f})},hI=(t,r,a,u,f)=>{t.dispatch("ObjectResized",{target:r,width:a,height:u,origin:f})},N4=t=>{t.dispatch("PreInit")},L4=t=>{t.dispatch("PostRender")},B4=t=>{t.dispatch("Init")},F4=(t,r)=>{t.dispatch("PlaceholderToggle",{state:r})},fI=(t,r,a)=>{t.dispatch(r,a)},ho=(t,r,a,u)=>{t.dispatch("FormatApply",{format:r,node:a,vars:u})},aD=(t,r,a,u)=>{t.dispatch("FormatRemove",{format:r,node:a,vars:u})},uu=(t,r)=>t.dispatch("BeforeSetContent",r),lD=(t,r)=>t.dispatch("SetContent",r),cD=(t,r)=>t.dispatch("BeforeGetContent",r),uD=(t,r)=>t.dispatch("GetContent",r),V4=(t,r)=>{t.dispatch("AutocompleterStart",r)},Gs=(t,r)=>{t.dispatch("AutocompleterUpdate",r)},pI=(t,r)=>{t.dispatch("AutocompleterUpdateActiveRange",r)},dD=t=>{t.dispatch("AutocompleterEnd")},Fz=(t,r,a)=>t.dispatch("PastePreProcess",{content:r,internal:a}),H4=(t,r,a)=>t.dispatch("PastePostProcess",{node:r,internal:a}),hD=(t,r)=>t.dispatch("PastePlainTextToggle",{state:r}),Vz=(t,r)=>t.dispatch("EditableRootStateChange",{state:r}),$4=(t,r)=>t.dispatch("DisabledStateChange",{state:r}),fD=t=>t.dispatch("CloseActiveTooltips"),mI=Md().deviceType,qs=mI.isTouch(),gI=yi.DOM,Sb=t=>{const r=t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(",");return Gt(r,(a,u)=>{const f=u.split("="),b=f[0],A=f.length>1?f[1]:b;return a[Br(b)]=Br(A),a},{})},gp=t=>ce(t,RegExp),Fo=t=>r=>r.options.get(t),Gd=t=>se(t)||Se(t),dw=(t,r="")=>a=>{const u=se(a);if(u)if(a.indexOf("=")!==-1){const f=Sb(a);return{value:No(f,t.id).getOr(r),valid:u}}else return{value:a,valid:u};else return{valid:!1,message:"Must be a string."}},hw=t=>{const r=t.options.register;r("id",{processor:"string",default:t.id}),r("selector",{processor:"string"}),r("target",{processor:"object"}),r("suffix",{processor:"string"}),r("cache_suffix",{processor:"string"}),r("base_url",{processor:"string"}),r("referrer_policy",{processor:"string",default:""}),r("crossorigin",{processor:"function",default:it(void 0)}),r("language_load",{processor:"boolean",default:!0}),r("inline",{processor:"boolean",default:!1}),r("iframe_attrs",{processor:"object",default:{}}),r("doctype",{processor:"string",default:"<!DOCTYPE html>"}),r("document_base_url",{processor:"string",default:t.editorManager.documentBaseURL}),r("body_id",{processor:dw(t,"tinymce"),default:"tinymce"}),r("body_class",{processor:dw(t),default:""}),r("content_security_policy",{processor:"string",default:""}),r("br_in_pre",{processor:"boolean",default:!0}),r("forced_root_block",{processor:a=>{const u=se(a)&&gi(a);return u?{value:a,valid:u}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),r("forced_root_block_attrs",{processor:"object",default:{}}),r("newline_behavior",{processor:a=>{const u=xt(["block","linebreak","invert","default"],a);return u?{value:a,valid:u}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),r("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),r("no_newline_selector",{processor:"string",default:""}),r("keep_styles",{processor:"boolean",default:!0}),r("end_container_on_empty_block",{processor:a=>ke(a)?{valid:!0,value:a}:se(a)?{valid:!0,value:a}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),r("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),r("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),r("font_size_classes",{processor:"string",default:""}),r("automatic_uploads",{processor:"boolean",default:!0}),r("images_reuse_filename",{processor:"boolean",default:!1}),r("images_replace_blob_uris",{processor:"boolean",default:!0}),r("icons",{processor:"string",default:""}),r("icons_url",{processor:"string",default:""}),r("images_upload_url",{processor:"string",default:""}),r("images_upload_base_path",{processor:"string",default:""}),r("images_upload_credentials",{processor:"boolean",default:!1}),r("images_upload_handler",{processor:"function"}),r("language",{processor:"string",default:"en"}),r("language_url",{processor:"string",default:""}),r("entity_encoding",{processor:"string",default:"named"}),r("indent",{processor:"boolean",default:!0}),r("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),r("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),r("indent_use_margin",{processor:"boolean",default:!1}),r("indentation",{processor:"string",default:"40px"}),r("content_css",{processor:a=>{const u=a===!1||se(a)||ct(a,se);return u?se(a)?{value:vn(a.split(","),Br),valid:u}:Te(a)?{value:a,valid:u}:a===!1?{value:[],valid:u}:{value:a,valid:u}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:dA(t)?[]:["default"]}),r("content_style",{processor:"string"}),r("content_css_cors",{processor:"boolean",default:!1}),r("font_css",{processor:a=>{const u=se(a)||ct(a,se);return u?{value:Te(a)?a:vn(a.split(","),Br),valid:u}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),r("extended_mathml_attributes",{processor:"string[]"}),r("extended_mathml_elements",{processor:"string[]"}),r("inline_boundaries",{processor:"boolean",default:!0}),r("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),r("object_resizing",{processor:a=>{const u=ke(a)||se(a);return u?a===!1||mI.isiPhone()||mI.isiPad()?{value:"",valid:u}:{value:a===!0?"table,img,figure.image,div,video,iframe":a,valid:u}:{valid:!1,message:"Must be boolean or a string"}},default:!qs}),r("resize_img_proportional",{processor:"boolean",default:!0}),r("event_root",{processor:"string"}),r("service_message",{processor:"string"}),r("onboarding",{processor:"boolean",default:!0}),r("tiny_cloud_entry_url",{processor:"string"}),r("theme",{processor:a=>a===!1||se(a)||_e(a),default:"silver"}),r("theme_url",{processor:"string"}),r("formats",{processor:"object"}),r("format_empty_lines",{processor:"boolean",default:!1}),r("format_noneditable_selector",{processor:"string",default:""}),r("preview_styles",{processor:a=>{const u=a===!1||se(a);return u?{value:a===!1?"":a,valid:u}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),r("custom_ui_selector",{processor:"string",default:""}),r("hidden_input",{processor:"boolean",default:!0}),r("submit_patch",{processor:"boolean",default:!0}),r("encoding",{processor:"string"}),r("add_form_submit_trigger",{processor:"boolean",default:!0}),r("add_unload_trigger",{processor:"boolean",default:!0}),r("custom_undo_redo_levels",{processor:"number",default:0}),r("disable_nodechange",{processor:"boolean",default:!1}),r("disabled",{processor:a=>ke(a)?(t.initialized&&xw(t)!==a&&Promise.resolve().then(()=>{$4(t,a)}),{valid:!0,value:a}):{valid:!1,message:"The value must be a boolean."},default:!1}),r("readonly",{processor:"boolean",default:!1}),r("editable_root",{processor:"boolean",default:!0}),r("plugins",{processor:"string[]",default:[]}),r("external_plugins",{processor:"object"}),r("forced_plugins",{processor:"string[]"}),r("model",{processor:"string",default:t.hasPlugin("rtc")?"plugin":"dom"}),r("model_url",{processor:"string"}),r("block_unsupported_drop",{processor:"boolean",default:!0}),r("visual",{processor:"boolean",default:!0}),r("visual_table_class",{processor:"string",default:"mce-item-table"}),r("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),r("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(t.hasPlugin("help")?". Press ALT-0 for help.":"")}),r("setup",{processor:"function"}),r("init_instance_callback",{processor:"function"}),r("url_converter",{processor:"function",default:t.convertURL}),r("url_converter_scope",{processor:"object",default:t}),r("urlconverter_callback",{processor:"function"}),r("allow_conditional_comments",{processor:"boolean",default:!1}),r("allow_html_data_urls",{processor:"boolean",default:!1}),r("allow_svg_data_urls",{processor:"boolean"}),r("allow_html_in_named_anchor",{processor:"boolean",default:!1}),r("allow_html_in_comments",{processor:"boolean",default:!1}),r("allow_script_urls",{processor:"boolean",default:!1}),r("allow_unsafe_link_target",{processor:"boolean",default:!1}),r("allow_mathml_annotation_encodings",{processor:a=>{const u=ct(a,se);return u?{value:a,valid:u}:{valid:!1,message:"Must be an array of strings."}},default:[]}),r("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),r("fix_list_elements",{processor:"boolean",default:!1}),r("preserve_cdata",{processor:"boolean",default:!1}),r("remove_trailing_brs",{processor:"boolean",default:!0}),r("pad_empty_with_br",{processor:"boolean",default:!1}),r("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),r("element_format",{processor:"string",default:"html"}),r("entities",{processor:"string"}),r("schema",{processor:"string",default:"html5"}),r("convert_urls",{processor:"boolean",default:!0}),r("relative_urls",{processor:"boolean",default:!0}),r("remove_script_host",{processor:"boolean",default:!0}),r("custom_elements",{processor:Gd}),r("extended_valid_elements",{processor:"string"}),r("invalid_elements",{processor:"string"}),r("invalid_styles",{processor:Gd}),r("valid_children",{processor:"string"}),r("valid_classes",{processor:Gd}),r("valid_elements",{processor:"string"}),r("valid_styles",{processor:Gd}),r("verify_html",{processor:"boolean",default:!0}),r("auto_focus",{processor:a=>se(a)||a===!0}),r("browser_spellcheck",{processor:"boolean",default:!1}),r("protect",{processor:"array"}),r("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),r("deprecation_warnings",{processor:"boolean",default:!0}),r("a11y_advanced_options",{processor:"boolean",default:!1}),r("api_key",{processor:"string"}),r("license_key",{processor:"string"}),r("paste_block_drop",{processor:"boolean",default:!1}),r("paste_data_images",{processor:"boolean",default:!0}),r("paste_preprocess",{processor:"function"}),r("paste_postprocess",{processor:"function"}),r("paste_webkit_styles",{processor:"string",default:"none"}),r("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),r("paste_merge_formats",{processor:"boolean",default:!0}),r("smart_paste",{processor:"boolean",default:!0}),r("paste_as_text",{processor:"boolean",default:!1}),r("paste_tab_spaces",{processor:"number",default:4}),r("text_patterns",{processor:a=>ct(a,Se)||a===!1?{value:R1(a===!1?[]:a),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),r("text_patterns_lookup",{processor:a=>_e(a)?{value:Ta(a),valid:!0}:{valid:!1,message:"Must be a single function"},default:a=>[]}),r("noneditable_class",{processor:"string",default:"mceNonEditable"}),r("editable_class",{processor:"string",default:"mceEditable"}),r("noneditable_regexp",{processor:a=>ct(a,gp)?{value:a,valid:!0}:gp(a)?{value:[a],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),r("table_tab_navigation",{processor:"boolean",default:!0}),r("highlight_on_focus",{processor:"boolean",default:!0}),r("xss_sanitization",{processor:"boolean",default:!0}),r("details_initial_state",{processor:a=>{const u=xt(["inherited","collapsed","expanded"],a);return u?{value:a,valid:u}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),r("details_serialized_state",{processor:a=>{const u=xt(["inherited","collapsed","expanded"],a);return u?{value:a,valid:u}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),r("init_content_sync",{processor:"boolean",default:!1}),r("newdocument_content",{processor:"string",default:""}),r("sandbox_iframes",{processor:"boolean",default:!0}),r("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),r("convert_unsafe_embeds",{processor:"boolean",default:!0}),r("user_id",{processor:"string",default:"Anonymous"}),r("fetch_users",{processor:a=>a===void 0?{valid:!0,value:void 0}:_e(a)?{valid:!0,value:a}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}}),t.on("ScriptsLoaded",()=>{r("directionality",{processor:"string",default:fp.isRtl()?"rtl":void 0}),r("placeholder",{processor:"string",default:gI.getAttrib(t.getElement(),"placeholder")})}),r("lists_indent_on_tab",{processor:"boolean",default:!0}),r("list_max_depth",{processor:a=>{const u=ut(a);if(u){if(a<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:a,valid:u}}else return{valid:!1,message:"Must be a number"}}})},lA=Fo("iframe_attrs"),gC=Fo("doctype"),fw=Fo("document_base_url"),Cb=Fo("body_id"),gd=Fo("body_class"),Qv=Fo("content_security_policy"),U4=Fo("br_in_pre"),zu=Fo("forced_root_block"),vC=Fo("forced_root_block_attrs"),z4=Fo("newline_behavior"),jr=Fo("br_newline_selector"),tv=Fo("no_newline_selector"),k1=Fo("keep_styles"),Hz=Fo("end_container_on_empty_block"),D1=Fo("automatic_uploads"),Kr=Fo("images_reuse_filename"),$z=Fo("images_replace_blob_uris"),pD=Fo("icons"),Uz=Fo("icons_url"),zz=Fo("images_upload_url"),pw=Fo("images_upload_base_path"),j4=Fo("images_upload_credentials"),jz=Fo("images_upload_handler"),cA=Fo("content_css_cors"),vI=Fo("referrer_policy"),mw=Fo("crossorigin"),mD=Fo("language"),W4=Fo("language_url"),gw=Fo("indent_use_margin"),yI=Fo("indentation"),bI=Fo("content_css"),gD=Fo("content_style"),vD=Fo("font_css"),yD=Fo("directionality"),SI=Fo("inline_boundaries_selector"),CI=Fo("object_resizing"),li=Fo("resize_img_proportional"),bD=Fo("placeholder"),uA=Fo("event_root"),EI=Fo("service_message"),im=Fo("theme"),SD=Fo("theme_url"),wI=Fo("model"),G4=Fo("model_url"),ey=Fo("inline_boundaries"),q4=Fo("formats"),vw=Fo("preview_styles"),yw=Fo("format_empty_lines"),K4=Fo("format_noneditable_selector"),y0=Fo("custom_ui_selector"),dA=Fo("inline"),CD=Fo("hidden_input"),Z4=Fo("submit_patch"),ED=Fo("add_form_submit_trigger"),Wz=Fo("add_unload_trigger"),wD=Fo("custom_undo_redo_levels"),_D=Fo("disable_nodechange"),bw=Fo("readonly"),Sw=Fo("editable_root"),Cw=Fo("content_css_cors"),M1=Fo("plugins"),hA=Fo("external_plugins"),Ew=Fo("block_unsupported_drop"),Eb=Fo("visual"),ww=Fo("visual_table_class"),_I=Fo("visual_anchor_class"),fA=Fo("iframe_aria_text"),TD=Fo("setup"),AD=Fo("init_instance_callback"),xD=Fo("urlconverter_callback"),Y4=Fo("auto_focus"),pA=Fo("browser_spellcheck"),yC=Fo("protect"),P1=Fo("paste_block_drop"),N1=Fo("paste_data_images"),OD=Fo("paste_preprocess"),ID=Fo("paste_postprocess"),RD=Fo("newdocument_content"),mA=Fo("paste_webkit_styles"),kD=Fo("paste_remove_styles_if_webkit"),X4=Fo("paste_merge_formats"),DD=Fo("smart_paste"),gA=Fo("paste_as_text"),TI=Fo("paste_tab_spaces"),vA=Fo("allow_html_data_urls"),AI=Fo("text_patterns"),J4=Fo("text_patterns_lookup"),xI=Fo("noneditable_class"),MD=Fo("editable_class"),PD=Fo("noneditable_regexp"),_w=Fo("preserve_cdata"),Q4=Fo("highlight_on_focus"),OI=Fo("xss_sanitization"),II=Fo("init_content_sync"),eB=t=>t.options.isSet("text_patterns_lookup"),tB=t=>Jn.explode(t.options.get("font_size_style_values")),L1=t=>Jn.explode(t.options.get("font_size_classes")),ND=t=>t.options.get("encoding")==="xml",LD=t=>Jn.explode(t.options.get("images_file_types")),nB=Fo("table_tab_navigation"),oB=Fo("details_initial_state"),sB=Fo("details_serialized_state"),yA=Fo("sandbox_iframes"),Tw=t=>t.options.get("sandbox_iframes_exclusions"),RI=Fo("convert_unsafe_embeds"),Aw=Fo("license_key"),BD=Fo("api_key"),xw=Fo("disabled"),rB=Fo("user_id"),bA=Fo("fetch_users"),iB=Fo("lists_indent_on_tab"),FD=t=>ye.from(t.options.get("list_max_depth")),Gz=Ho,aB=Wn,B1=t=>{const r=t.parentNode;r&&r.removeChild(t)},SA=t=>{const r=ue(t);return{count:t.length-r.length,text:r}},CA=t=>{let r;for(;(r=t.data.lastIndexOf(K))!==-1;)t.deleteData(r,1)},VD=(t,r)=>(ty(t),r),lB=(t,r)=>{const a=SA(t.data.substr(0,r.offset())),u=SA(t.data.substr(r.offset()));return(a.text+u.text).length>0?(CA(t),gn(t,r.offset()-a.count)):r},EA=(t,r)=>{const a=r.container(),u=Zn(Je(a.childNodes),t).map(f=>f<r.offset()?gn(a,r.offset()-1):r).getOr(r);return ty(t),u},HD=(t,r)=>aB(t)&&r.container()===t?lB(t,r):VD(t,r),$D=(t,r)=>r.container()===t.parentNode?EA(t,r):VD(t,r),wA=(t,r)=>gn.isTextPosition(r)?HD(t,r):$D(t,r),ty=t=>{Gz(t)&&Fe(t)&&(Ne(t)?t.removeAttribute("data-mce-caret"):B1(t)),aB(t)&&(CA(t),t.data.length===0&&B1(t))},UD=ai,cB=$h,uB=Zp,dB="*[contentEditable=false],video,audio,embed,object",bC=(t,r,a)=>{const u=sr(r.getBoundingClientRect(),a);let f,b;if(t.tagName==="BODY"){const M=t.ownerDocument.documentElement;f=t.scrollLeft||M.scrollLeft,b=t.scrollTop||M.scrollTop}else{const M=t.getBoundingClientRect();f=t.scrollLeft-M.left,b=t.scrollTop-M.top}u.left+=f,u.right+=f,u.top+=b,u.bottom+=b,u.width=1;let A=r.offsetWidth-r.clientWidth;return A>0&&(a&&(A*=-1),u.left+=A,u.right+=A),u},zD=t=>{const r=Sn(st.fromDom(t),dB);for(let a=0;a<r.length;a++){const u=r[a].dom;let f=u.previousSibling;if(Yt(f)){const b=f.data;b.length===1?f.parentNode?.removeChild(f):f.deleteData(b.length-1,1)}f=u.nextSibling,Kt(f)&&(f.data.length===1?f.parentNode?.removeChild(f):f.deleteData(0,1))}},kI=(t,r,a,u)=>{const f=Ac();let b,A;const M=zu(t),N=t.dom,G=(ze,nt)=>{let Mt;if(le(),uB(nt))return null;if(a(nt)){const Bt=qt(M,nt,ze),zt=bC(r,nt,ze);N.setStyle(Bt,"top",zt.top),N.setStyle(Bt,"caret-color","transparent"),A=Bt;const _n=N.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});N.setStyles(_n,{...zt}),N.add(r,_n),f.set({caret:_n,element:nt,before:ze}),ze&&N.addClass(_n,"mce-visual-caret-before"),fe(),Mt=nt.ownerDocument.createRange(),Mt.setStart(Bt,0),Mt.setEnd(Bt,0)}else return A=lt(nt,ze),Mt=nt.ownerDocument.createRange(),nv(A.nextSibling)?(Mt.setStart(A,0),Mt.setEnd(A,0)):(Mt.setStart(A,1),Mt.setEnd(A,1)),Mt;return Mt},le=()=>{zD(r),A&&(ty(A),A=null),f.on(ze=>{N.remove(ze.caret),f.clear()}),b&&(clearInterval(b),b=void 0)},fe=()=>{b=window.setInterval(()=>{f.on(ze=>{u()?N.toggleClass(ze.caret,"mce-visual-caret-hidden"):N.addClass(ze.caret,"mce-visual-caret-hidden")})},500)},be=()=>{f.on(ze=>{const nt=bC(r,ze.element,ze.before);N.setStyles(ze.caret,{...nt})})},Le=()=>clearInterval(b),Qe=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:f.isSet,show:G,hide:le,getCss:Qe,reposition:be,destroy:Le}},_A=()=>xr.browser.isFirefox(),nv=t=>UD(t)||cB(t),Ow=t=>(nv(t)||ap(t)&&_A())&&ku(st.fromDom(t)).exists(Lu),ny=au,TA=ai,jD=$h,WD=Hv("display","block table table-cell table-row table-caption list-item"),hB=Fe,GD=Ae,fB=Ho,pB=Wn,mB=Ui,SC=(t,r)=>{let a;for(;a=t(r);)if(!GD(a))return a;return null},Iw=(t,r,a,u,f)=>{const b=new Yi(t,u),A=TA(t)||GD(t);let M;if(En(r)){if(A&&(M=SC(b.prev.bind(b),!0),a(M)))return M;for(;M=SC(b.prev.bind(b),f);)if(a(M))return M}if(x1(r)){if(A&&(M=SC(b.next.bind(b),!0),a(M)))return M;for(;M=SC(b.next.bind(b),f);)if(a(M))return M}return null},qD=(t,r)=>{const a=f=>ny(f.dom),u=f=>f.dom===r;return Vh(st.fromDom(t),a,u).map(f=>f.dom).getOr(r)},Rw=t=>Ho(t)&&Ha(st.fromDom(t),"position")==="absolute",gB=(t,r)=>t.parentNode!==r,vB=(t,r)=>TA(t)&&Rw(t)&&gB(t,r),oy=(t,r)=>{for(;t&&t!==r;){if(WD(t)&&!vB(t,r))return t;t=t.parentNode}return null},ov=(t,r,a)=>oy(t.container(),a)===oy(r.container(),a),ls=(t,r)=>{if(!r)return ye.none();const a=r.container(),u=r.offset();return fB(a)?ye.from(a.childNodes[u+t]):ye.none()},kw=(t,r)=>{const u=(r.ownerDocument??document).createRange();return t?(u.setStartBefore(r),u.setEndBefore(r)):(u.setStartAfter(r),u.setEndAfter(r)),u},KD=(t,r,a)=>oy(r,t)===oy(a,t),ZD=(t,r,a)=>{const u=t?"previousSibling":"nextSibling";let f=a;for(;f&&f!==r;){let b=f[u];if(b&&hB(b)&&(b=b[u]),TA(b)||jD(b)){if(KD(r,b,f))return b;break}if(mB(b))break;f=f.parentNode}return null},F1=Xe(kw,!0),wb=Xe(kw,!1),Dw=(t,r,a)=>{let u;const f=Xe(ZD,!0,r),b=Xe(ZD,!1,r),A=a.startContainer,M=a.startOffset;if(Ae(A)){const N=pB(A)?A.parentNode:A,G=N.getAttribute("data-mce-caret");if(G==="before"&&(u=N.nextSibling,Ow(u)))return F1(u);if(G==="after"&&(u=N.previousSibling,Ow(u)))return wb(u)}if(!a.collapsed)return a;if(Wn(A)){if(hB(A)){if(t===1){if(u=b(A),u)return F1(u);if(u=f(A),u)return wb(u)}if(t===-1){if(u=f(A),u)return wb(u);if(u=b(A),u)return F1(u)}return a}if(Yt(A)&&M>=A.data.length-1)return t===1&&(u=b(A),u)?F1(u):a;if(Kt(A)&&M<=1)return t===-1&&(u=f(A),u)?wb(u):a;if(M===A.data.length)return u=b(A),u?F1(u):a;if(M===0)return u=f(A),u?wb(u):a}return a},CC=(t,r)=>ls(t?0:-1,r).filter(TA),sv=(t,r,a)=>{const u=Dw(t,r,a);return t===-1?gn.fromRangeStart(u):gn.fromRangeEnd(u)},EC=t=>ye.from(t.getNode()).map(st.fromDom),DI=t=>ye.from(t.getNode(!0)).map(st.fromDom),AA=(t,r)=>{let a=r;for(;a=t(a);)if(a.isVisible())return a;return a},Mw=(t,r)=>{const a=ov(t,r);return!a&&ga(t.getNode())?!0:a},YD=ai,Tf=Wn,sy=Ho,V1=ga,Xm=Ui,ry=KT,Pw=ZT,Nw=(t,r)=>{const a=[];let u=t;for(;u&&u!==r;)a.push(u),u=u.parentNode;return a},iy=(t,r)=>t.hasChildNodes()&&r<t.childNodes.length?t.childNodes[r]:null,MI=(t,r)=>{if(x1(t)){if(Xm(r.previousSibling)&&!Tf(r.previousSibling))return gn.before(r);if(Tf(r))return gn(r,0)}if(En(t)){if(Xm(r.nextSibling)&&!Tf(r.nextSibling))return gn.after(r);if(Tf(r))return gn(r,r.data.length)}return En(t)?V1(r)?gn.before(r):gn.after(r):gn.before(r)},XD=(t,r)=>{const a=r.nextSibling;return a&&Xm(a)?Tf(a)?gn(a,0):gn.before(a):Lw(1,gn.after(r),t)},Lw=(t,r,a)=>{let u,f,b,A;if(!sy(a)||!r)return null;if(r.isEqual(gn.after(a))&&a.lastChild){if(A=gn.after(a.lastChild),En(t)&&Xm(a.lastChild)&&sy(a.lastChild))return V1(a.lastChild)?gn.before(a.lastChild):A}else A=r;const M=A.container();let N=A.offset();if(Tf(M)){if(En(t)&&N>0)return gn(M,--N);if(x1(t)&&N<M.length)return gn(M,++N);u=M}else{if(En(t)&&N>0&&(f=iy(M,N-1),Xm(f)))return!ry(f)&&(b=Iw(f,t,Pw,f),b)?Tf(b)?gn(b,b.data.length):gn.after(b):Tf(f)?gn(f,f.data.length):gn.before(f);if(x1(t)&&N<M.childNodes.length&&(f=iy(M,N),Xm(f)))return V1(f)?XD(a,f):!ry(f)&&(b=Iw(f,t,Pw,f),b)?Tf(b)?gn(b,0):gn.before(b):Tf(f)?gn(f,0):gn.after(f);u=f||A.getNode()}if(u&&(x1(t)&&A.isAtEnd()||En(t)&&A.isAtStart())&&(u=Iw(u,t,un,a,!0),Pw(u,a)))return MI(t,u);f=u&&Iw(u,t,Pw,a);const G=He(Ve(Nw(M,a),YD));return G&&(!f||!G.contains(f))?(x1(t)?A=gn.after(G):A=gn.before(G),A):f?MI(t,f):null},rv=t=>({next:r=>Lw(1,r,t),prev:r=>Lw(-1,r,t)}),JD=(t,r,a)=>{const u=t?gn.before(a):gn.after(a);return Af(t,r,u)},yB=t=>ga(t)?gn.before(t):gn.after(t),bB=t=>gn.isTextPosition(t)?t.offset()===0:Ui(t.getNode()),QD=t=>{if(gn.isTextPosition(t)){const r=t.container();return t.offset()===r.data.length}else return Ui(t.getNode(!0))},H1=(t,r)=>!gn.isTextPosition(t)&&!gn.isTextPosition(r)&&t.getNode()===r.getNode(!0),eM=t=>!gn.isTextPosition(t)&&ga(t.getNode()),tM=(t,r,a)=>t?!H1(r,a)&&!eM(r)&&QD(r)&&bB(a):!H1(a,r)&&bB(r)&&QD(a),Af=(t,r,a)=>{const u=rv(r);return ye.from(t?u.next(a):u.prev(a))},b0=(t,r,a)=>Af(t,r,a).bind(u=>ov(a,u,r)&&tM(t,a,u)?Af(t,r,u):ye.some(u)),xA=(t,r,a,u)=>b0(t,r,a).bind(f=>u(f)?xA(t,r,f,u):ye.some(f)),wC=(t,r)=>{const a=t?r.firstChild:r.lastChild;return Wn(a)?ye.some(gn(a,t?0:a.data.length)):a?Ui(a)?ye.some(t?gn.before(a):yB(a)):JD(t,r,a):ye.none()},jh=Xe(Af,!0),du=Xe(Af,!1),hu=Xe(wC,!0),xf=Xe(wC,!1),OA="_mce_caret",Jm=t=>Ho(t)&&t.id===OA,S0=(t,r)=>{let a=r;for(;a&&a!==t;){if(Jm(a))return a;a=a.parentNode}return null},Xs=t=>se(t.start),PI=t=>Xo(t,"rng"),ay=t=>Xo(t,"id"),nM=t=>Xo(t,"name"),oM=t=>Jn.isArray(t.start),IA=t=>!nM(t)&&ke(t.forward)?t.forward:!0,sM=(t,r)=>(Ho(r)&&t.isBlock(r)&&!r.innerHTML&&(r.innerHTML='<br data-mce-bogus="1" />'),r),rM=(t,r)=>{const a=ye.from(_f(t.getRoot(),r.start)),u=ye.from(_f(t.getRoot(),r.end));return Ar(a,u,(f,b)=>{const A=t.createRng();return A.setStart(f.container(),f.offset()),A.setEnd(b.container(),b.offset()),{range:A,forward:IA(r)}})},iM=(t,r)=>{const u=(t.ownerDocument??document).createTextNode(K);t.appendChild(u),r.setStart(u,0),r.setEnd(u,0)},RA=t=>!t.hasChildNodes(),iv=(t,r)=>xf(t).fold(Dt,a=>(r.setStart(a.container(),a.offset()),r.setEnd(a.container(),a.offset()),!0)),$1=(t,r,a)=>RA(r)&&S0(t,r)?(iM(r,a),!0):!1,aM=(t,r,a,u)=>{const f=a[r?"start":"end"],b=t.getRoot();if(f){let A=b,M=f[0];for(let N=f.length-1;A&&N>=1;N--){const G=A.childNodes;if($1(b,A,u))return!0;if(f[N]>G.length-1)return $1(b,A,u)?!0:iv(A,u);A=G[f[N]]}Wn(A)&&(M=Math.min(f[0],A.data.length)),Ho(A)&&(M=Math.min(f[0],A.childNodes.length)),r?u.setStart(A,M):u.setEnd(A,M)}return!0},_C=t=>Wn(t)&&t.data.length>0,lM=(t,r,a)=>{const u=t.get(a.id+"_"+r),f=u?.parentNode,b=a.keep;if(u&&f){let A,M;if(r==="start"?b?u.hasChildNodes()?(A=u.firstChild,M=1):_C(u.nextSibling)?(A=u.nextSibling,M=0):_C(u.previousSibling)?(A=u.previousSibling,M=u.previousSibling.data.length):(A=f,M=t.nodeIndex(u)+1):(A=f,M=t.nodeIndex(u)):b?u.hasChildNodes()?(A=u.firstChild,M=1):_C(u.previousSibling)?(A=u.previousSibling,M=u.previousSibling.data.length):(A=f,M=t.nodeIndex(u)):(A=f,M=t.nodeIndex(u)),!b){const N=u.previousSibling,G=u.nextSibling;Jn.each(Jn.grep(u.childNodes),fe=>{Wn(fe)&&(fe.data=fe.data.replace(/\uFEFF/g,""))});let le;for(;le=t.get(a.id+"_"+r);)t.remove(le,!0);if(Wn(G)&&Wn(N)&&!xr.browser.isOpera()){const fe=N.data.length;N.appendData(G.data),t.remove(G),A=N,M=fe}}return ye.some(gn(A,M))}else return ye.none()},kA=(t,r)=>{const a=t.createRng();return aM(t,!0,r,a)&&aM(t,!1,r,a)?ye.some({range:a,forward:IA(r)}):ye.none()},fu=(t,r)=>{const a=lM(t,"start",r),u=lM(t,"end",r);return Ar(a,u.or(a),(f,b)=>{const A=t.createRng();return A.setStart(sM(t,f.container()),f.offset()),A.setEnd(sM(t,b.container()),b.offset()),{range:A,forward:IA(r)}})},SB=(t,r)=>ye.from(t.select(r.name)[r.index]).map(a=>{const u=t.createRng();return u.selectNode(a),{range:u,forward:!0}}),NI=(t,r)=>{const a=t.dom;if(r){if(oM(r))return kA(a,r);if(Xs(r))return rM(a,r);if(ay(r))return fu(a,r);if(nM(r))return SB(a,r);if(PI(r))return ye.some({range:r.rng,forward:IA(r)})}return ye.none()},CB=(t,r,a)=>rA(t,r,a),EB=(t,r)=>{NI(t,r).each(({range:a,forward:u})=>{t.setRng(a,u)})},am=t=>Ho(t)&&t.tagName==="SPAN"&&t.getAttribute("data-mce-type")==="bookmark",DA=(t=>r=>t===r)(Pi),_b=t=>t!==""&&` \f
\r	\v`.indexOf(t)!==-1,LI=t=>!_b(t)&&!DA(t)&&!zl(t),TC=t=>{const r=[];if(t)for(let a=0;a<t.rangeCount;a++)r.push(t.getRangeAt(a));return r},cM=t=>io(t,r=>{const a=Sr(r);return a?[st.fromDom(a)]:[]}),BI=t=>TC(t).length>1,FI=t=>Ve(cM(t),m),uM=t=>Sn(t,"td[data-mce-selected],th[data-mce-selected]"),MA=(t,r)=>{const a=uM(r);return a.length>0?a:FI(t)},U1=t=>MA(TC(t.selection.getSel()),st.fromDom(t.getBody())),Qm=(t,r)=>Xa(t,"table",r),dM=t=>{const r=t.startContainer,a=t.startOffset;return Wn(r)?a===0?ye.some(st.fromDom(r)):ye.none():ye.from(r.childNodes[a]).map(st.fromDom)},wB=t=>{const r=t.endContainer,a=t.endOffset;return Wn(r)?a===r.data.length?ye.some(st.fromDom(r)):ye.none():ye.from(r.childNodes[a-1]).map(st.fromDom)},VI=t=>ql(t).fold(it([t]),r=>[t].concat(VI(r))),PA=t=>Ya(t).fold(it([t]),r=>Us(r)==="br"?Nd(r).map(a=>[t].concat(PA(a))).getOr([]):[t].concat(PA(r))),HI=(t,r)=>Ar(dM(r),wB(r),(a,u)=>{const f=Et(VI(t),Xe(Lo,a)),b=Et(PA(t),Xe(Lo,u));return f.isSome()&&b.isSome()}).getOr(!1),AC=(t,r,a,u)=>{const f=a,b=new Yi(a,f),A=Cs(t.schema.getMoveCaretBeforeOnEnterElements(),(N,G)=>!xt(["td","th","table"],G.toLowerCase()));let M=a;do{if(Wn(M)&&Jn.trim(M.data).length!==0){u?r.setStart(M,0):r.setEnd(M,M.data.length);return}if(A[M.nodeName]){u?r.setStartBefore(M):M.nodeName==="BR"?r.setEndBefore(M):r.setEndAfter(M);return}}while(M=u?b.next():b.prev());f.nodeName==="BODY"&&(u?r.setStart(f,0):r.setEnd(f,f.childNodes.length))},NA=t=>{const r=t.selection.getSel();return Re(r)&&r.rangeCount>0},$I=(t,r)=>{const a=U1(t);a.length>0?qe(a,u=>{const f=u.dom,b=t.dom.createRng();b.setStartBefore(f),b.setEndAfter(f),r(b,!0)}):r(t.selection.getRng(),!1)},hM=(t,r,a)=>{const u=Ia(t,r);a(u),t.moveToBookmark(u)},Bw=(t,r)=>t.startContainer===t.endContainer&&t.endOffset-t.startOffset===1&&r(t.startContainer.childNodes[t.startOffset]),_B=t=>Bw(t,ma),TB=t=>Bw(t,Wn),fM=t=>Bw(t,mf),z1=t=>ut(t?.nodeType),UI=t=>Ho(t)&&!am(t)&&!Jm(t)&&!Fg(t),AB=(t,r)=>{if(UI(r)&&!/^(TD|TH)$/.test(r.nodeName)){const a=t.getAttrib(r,"data-mce-selected"),u=parseInt(a,10);return!isNaN(u)&&u>0}else return!1},pM=(t,r,a)=>{const{selection:u,dom:f}=t,b=u.getNode(),A=ai(b);hM(u,!0,()=>{r()}),A&&ai(b)&&f.isChildOf(b,t.getBody())?t.selection.select(b):a(u.getStart())&&xB(f,u)},xB=(t,r)=>{const a=r.getRng(),{startContainer:u,startOffset:f}=a,b=r.getNode();if(!AB(t,b)&&Ho(u)){const A=u.childNodes,M=t.getRoot();let N;if(f<A.length){const G=A[f];N=new Yi(G,t.getParent(G,t.isBlock)??M)}else{const G=A[A.length-1];N=new Yi(G,t.getParent(G,t.isBlock)??M),N.next(!0)}for(let G=N.current();G;G=N.next()){if(t.getContentEditable(G)==="false")return;if(Wn(G)&&!zI(G)){a.setStart(G,0),r.setRng(a);return}}}},mM=(t,r,a)=>{if(t){const u=r?"nextSibling":"previousSibling";for(t=t[u];t;t=t[u])if(Ho(t)||!zI(t))return t}},va=(t,r)=>!!t.getTextBlockElements()[r.nodeName.toLowerCase()]||Nn(t,r),j1=(t,r,a)=>t.schema.isValidChild(r,a),zI=(t,r=!1)=>{if(Re(t)&&Wn(t)){const a=r?t.data.replace(/ /g,""):t.data;return Lg(a)}else return!1},y=t=>Re(t)&&Wn(t)&&t.length===0,w=(t,r)=>{const a="[data-mce-cef-wrappable]",u=K4(t),f=mc(u)?a:`${a},${u}`;return mr(st.fromDom(r),f)},k=(t,r)=>{const a=t.dom;return UI(r)&&a.getContentEditable(r)==="false"&&w(t,r)&&a.select('[contenteditable="true"]',r).length===0},W=(t,r)=>_e(t)?t(r):(Re(r)&&(t=t.replace(/%(\w+)/g,(a,u)=>r[u]||a)),t),re=(t,r)=>(t=t||"",r=r||"",t=""+(t.nodeName||t),r=""+(r.nodeName||r),t.toLowerCase()===r.toLowerCase()),pe=(t,r)=>{if($e(t))return null;{let a=String(t);return(r==="color"||r==="backgroundColor")&&(a=pb(a)),r==="fontWeight"&&t===700&&(a="bold"),r==="fontFamily"&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),a}},Oe=(t,r,a)=>{const u=t.getStyle(r,a);return pe(u,a)},Ue=(t,r)=>{let a;return t.getParent(r,u=>Ho(u)?(a=t.getStyle(u,"text-decoration"),!!a&&a!=="none"):!1),a},tt=(t,r,a)=>t.getParents(r,a,t.getRoot()),Ct=(t,r,a)=>{const u=t.formatter.get(r);return Re(u)&&cn(u,a)},Qt=(t,r)=>Ct(t,r,u=>{const f=b=>_e(b)||b.length>1&&b.charAt(0)==="%";return cn(["styles","attributes"],b=>No(u,b).exists(A=>{const M=Te(A)?A:or(A);return cn(M,f)}))}),zn=(t,r,a)=>{const u=["inline","block","selector","attributes","styles","classes"],f=b=>Cs(b,(A,M)=>cn(u,N=>N===M));return Ct(t,r,b=>{const A=f(b);return Ct(t,a,M=>{const N=f(M);return Ma(A,N)})})},To=t=>es(t,"block"),Ro=t=>To(t)&&t.wrapper===!0,ps=t=>To(t)&&t.wrapper!==!0,yn=t=>es(t,"selector"),On=t=>es(t,"inline"),Ms=t=>yn(t)&&On(t)&&Xr(No(t,"mixed"),!0),er=t=>yn(t)&&t.expand!==!1&&!On(t),Jo=t=>{const r=[];let a=t;for(;a;){if(Wn(a)&&a.data!==K||a.childNodes.length>1)return[];Ho(a)&&r.push(a),a=a.firstChild}return r},Ri=t=>Jo(t).length>0,Si=t=>Jm(t.dom)&&Ri(t.dom),Ks=am,Kl=tt,vp=zI,Tb=va,C0=t=>ga(t)&&t.getAttribute("data-mce-bogus")&&!t.nextSibling,E0=(t,r)=>{let a=r;for(;a;){if(Ho(a)&&t.getContentEditable(a))return t.getContentEditable(a)==="false"?a:r;a=a.parentNode}return r},zi=(t,r,a,u)=>{const f=r.data;if(t){for(let b=a;b>0;b--)if(u(f.charAt(b-1)))return b}else for(let b=a;b<f.length;b++)if(u(f.charAt(b)))return b;return-1},gh=(t,r,a)=>zi(t,r,a,u=>DA(u)||_b(u)),vh=(t,r,a)=>zi(t,r,a,LI),lm=(t,r,a,u,f,b)=>{let A;const M=t.getParent(a,fe=>Kp(fe)||t.isBlock(fe)),N=Re(M)?M:r,G=(fe,be,Le)=>{const Qe=sm(t),ze=f?Qe.backwards:Qe.forwards;return ye.from(ze(fe,be,(nt,Mt)=>Ks(nt.parentNode)?-1:(A=nt,Le(f,nt,Mt)),N))};return G(a,u,gh).bind(fe=>b?G(fe.container,fe.offset+(f?-1:0),vh):ye.some(fe)).orThunk(()=>A?ye.some({container:A,offset:f?0:A.length}):ye.none())},Wh=(t,r,a,u,f)=>{const b=u[f];Wn(u)&&mc(u.data)&&b&&(u=b);const A=Kl(t,u);for(let M=0;M<A.length;M++)for(let N=0;N<r.length;N++){const G=r[N];if(!(Re(G.collapsed)&&G.collapsed!==a.collapsed)&&yn(G)&&t.is(A[M],G.selector))return A[M]}return u},Ab=(t,r,a,u)=>{let f=a;const b=t.getRoot(),A=r[0];if(To(A)&&(f=A.wrapper?null:t.getParent(a,A.block,b)),!f){const M=t.getParent(a,"LI,TD,TH,SUMMARY")??b;f=t.getParent(Wn(a)?a.parentNode:a,N=>N!==b&&Tb(t.schema,N),M)}if(f&&To(A)&&A.wrapper&&(f=Kl(t,f,"ul,ol").reverse()[0]||f),!f)for(f=a;f&&f[u]&&!t.isBlock(f[u])&&(f=f[u],!re(f,"br")););return f||a},vd=(t,r,a,u)=>{const f=a.parentNode;return Re(a[u])?!1:f===r||$e(f)||t.isBlock(f)?!0:vd(t,r,f,u)},Fw=(t,r,a,u,f,b)=>{let A=a;const M=f?"previousSibling":"nextSibling",N=t.getRoot();if(Wn(a)&&!vp(a)&&(f?u>0:u<a.data.length))return a;for(;A;){if(Kp(A))return a;if(!r[0].block_expand&&t.isBlock(A))return b?A:a;for(let G=A[M];G;G=G[M]){const le=Wn(G)&&!vd(t,N,G,M);if(!Ks(G)&&!C0(G)&&!vp(G,le))return A}if(A===N||A.parentNode===N){a=A;break}A=A.parentNode}return a},xC=t=>Ks(t.parentNode)||Ks(t),Of=(t,r,a,u={})=>{const{includeTrailingSpace:f=!1,expandToBlock:b=!0}=u,A=t.getParent(r.commonAncestorContainer,Le=>Kp(Le)),M=Re(A)?A:t.getRoot();let{startContainer:N,startOffset:G,endContainer:le,endOffset:fe}=r;const be=a[0];return Ho(N)&&N.hasChildNodes()&&(N=fi(N,G),Wn(N)&&(G=0)),Ho(le)&&le.hasChildNodes()&&(le=fi(le,r.collapsed?fe:fe-1),Wn(le)&&(fe=le.data.length)),N=E0(t,N),le=E0(t,le),xC(N)&&(N=Ks(N)?N:N.parentNode,r.collapsed?N=N.previousSibling||N:N=N.nextSibling||N,Wn(N)&&(G=r.collapsed?N.length:0)),xC(le)&&(le=Ks(le)?le:le.parentNode,r.collapsed?le=le.nextSibling||le:le=le.previousSibling||le,Wn(le)&&(fe=r.collapsed?0:le.length)),r.collapsed&&(lm(t,M,N,G,!0,f).each(({container:ze,offset:nt})=>{N=ze,G=nt}),lm(t,M,le,fe,!1,f).each(({container:ze,offset:nt})=>{le=ze,fe=nt})),(On(be)||be.block_expand)&&((!On(be)||!Wn(N)||G===0)&&(N=Fw(t,a,N,G,!0,b)),(!On(be)||!Wn(le)||fe===le.data.length)&&(le=Fw(t,a,le,fe,!1,b))),er(be)&&(N=Wh(t,a,r,N,"previousSibling"),le=Wh(t,a,r,le,"nextSibling")),(To(be)||yn(be))&&(N=Ab(t,a,N,"previousSibling"),le=Ab(t,a,le,"nextSibling"),To(be)&&(t.isBlock(N)||(N=Fw(t,a,N,G,!0,b),Wn(N)&&(G=0)),t.isBlock(le)||(le=Fw(t,a,le,fe,!1,b),Wn(le)&&(fe=le.data.length)))),Ho(N)&&N.parentNode&&(G=t.nodeIndex(N),N=N.parentNode),Ho(le)&&le.parentNode&&(fe=t.nodeIndex(le)+1,le=le.parentNode),{startContainer:N,startOffset:G,endContainer:le,endOffset:fe}},Uc=(t,r,a)=>{const u=r.startOffset,f=fi(r.startContainer,u),b=r.endOffset,A=fi(r.endContainer,b-1),M=ze=>{const nt=ze[0];Wn(nt)&&nt===f&&u>=nt.data.length&&ze.splice(0,1);const Mt=ze[ze.length-1];return b===0&&ze.length>0&&Mt===A&&Wn(Mt)&&ze.splice(ze.length-1,1),ze},N=(ze,nt,Mt)=>{const Bt=[];for(;ze&&ze!==Mt;ze=ze[nt])Bt.push(ze);return Bt},G=(ze,nt)=>t.getParent(ze,Mt=>Mt.parentNode===nt,nt),le=(ze,nt,Mt)=>{const Bt=Mt?"nextSibling":"previousSibling";for(let zt=ze,_n=zt.parentNode;zt&&zt!==nt;zt=_n){_n=zt.parentNode;const $n=N(zt===ze?zt:zt[Bt],Bt);$n.length&&(Mt||$n.reverse(),a(M($n)))}};if(f===A)return a(M([f]));const fe=t.findCommonAncestor(f,A)??t.getRoot();if(t.isChildOf(f,A))return le(f,fe,!0);if(t.isChildOf(A,f))return le(A,fe);const be=G(f,fe)||f,Le=G(A,fe)||A;le(f,be,!0);const Qe=N(be===f?be:be.nextSibling,"nextSibling",Le===A?Le.nextSibling:Le);Qe.length&&a(M(Qe)),le(A,Le)},OB=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],IB=t=>ei(t)&&bl(t)===K,as=(t,r,a,u)=>ku(r).fold(()=>"skipping",f=>u==="br"||IB(r)?"valid":QO(r)?"existing":Jm(r.dom)?"caret":cn(OB,b=>mr(r,b))?"valid-block":!j1(t,a,u)||!j1(t,Us(f),a)?"invalid-child":"valid"),eg=(t,r)=>{const a=Of(t.dom,r,[{inline:"span"}]);r.setStart(a.startContainer,a.startOffset),r.setEnd(a.endContainer,a.endOffset),t.selection.setRng(r)},gM=(t,r,a,u,f,b)=>{const{uid:A=r,...M}=a;Al(t,Cf()),ha(t,`${om()}`,A),ha(t,`${nm()}`,u);const{attributes:N={},classes:G=[]}=f(A,M);if(Pa(t,N),Xy(t,G),b){G.length>0&&ha(t,`${Gm()}`,G.join(","));const le=wt(N);le.length>0&&ha(t,`${qm()}`,le.join(","))}},LA=t=>{cl(t,Cf()),vl(t,`${om()}`),vl(t,`${nm()}`),vl(t,`${Zg()}`);const r=lh(t,`${qm()}`).map(u=>u.split(",")).getOr([]),a=lh(t,`${Gm()}`).map(u=>u.split(",")).getOr([]);qe(r,u=>vl(t,u)),Jy(t,a),vl(t,`${Gm()}`),vl(t,`${qm()}`)},vM=(t,r,a,u,f)=>{const b=st.fromTag("span",t);return gM(b,r,a,u,f,!1),b},Vw=(t,r,a,u,f,b)=>{const A=[],M=vM(t.getDoc(),a,b,u,f),N=Ac(),G=()=>{N.clear()},le=()=>N.get().getOrThunk(()=>{const Qe=Tl(M);return A.push(Qe),N.set(Qe),Qe}),fe=Qe=>{qe(Qe,be)},be=Qe=>{switch(as(t,Qe,"span",Us(Qe))){case"invalid-child":{G();const nt=yr(Qe);fe(nt),G();break}case"valid-block":{G(),gM(Qe,a,b,u,f,!0);break}case"valid":{const nt=le();Bd(Qe,nt);break}}},Le=Qe=>{const ze=vn(Qe,st.fromDom);fe(ze)};return Uc(t.dom,r,Qe=>{G(),Le(Qe)}),A},Fte=(t,r,a,u)=>{t.undoManager.transact(()=>{const f=t.selection,b=f.getRng(),A=U1(t).length>0,M=pl("mce-annotation");if(b.collapsed&&!A&&eg(t,b),f.getRng().collapsed&&!A){const N=vM(t.getDoc(),M,u,r,a.decorate);zp(N,Pi),f.getRng().insertNode(N.dom),f.select(N.dom)}else hM(f,!1,()=>{$I(t,N=>{Vw(t,N,M,r,a.decorate,u)})})})},RB=t=>{const r=Yg();aC(t,r);const a=iC(t,r),u=El("span"),f=b=>{qe(b,A=>{u(A)?Pu(A):LA(A)})};return{register:(b,A)=>{r.register(b,A)},annotate:(b,A)=>{r.lookup(b).each(M=>{Fte(t,b,M,A)})},annotationChanged:(b,A)=>{a.addListener(b,A)},remove:b=>{sC(t,ye.some(b)).each(({elements:A})=>{const M=t.selection.getBookmark();f(A),t.selection.moveToBookmark(M)})},removeAll:b=>{const A=t.selection.getBookmark();en(rC(t,b),(M,N)=>{f(M)}),t.selection.moveToBookmark(A)},getAll:b=>{const A=rC(t,b);return jn(A,M=>vn(M,N=>N.dom))}}},Hw=t=>({getBookmark:Xe(CB,t),moveToBookmark:Xe(EB,t)});Hw.isBookmarkNode=am;const yM=(t,r,a)=>a.collapsed?!1:cn(a.getClientRects(),u=>La(u,t,r)),bM=(t,r)=>{const a=ei(r)?bl(r).length:yr(r).length+1;return t>a?a:t<0?0:t},kB=t=>Lm.range(t.start,bM(t.soffset,t.start),t.finish,bM(t.foffset,t.finish)),Kz=(t,r)=>!Bg(r.dom)&&(Qr(t,r)||Lo(t,r)),Zz=t=>r=>Kz(t,r.start)&&Kz(t,r.finish),Vte=t=>t.inline||xr.browser.isFirefox(),Hte=t=>Lm.range(st.fromDom(t.startContainer),t.startOffset,st.fromDom(t.endContainer),t.endOffset),DB=t=>{const r=t.getSelection();return(!r||r.rangeCount===0?ye.none():ye.from(r.getRangeAt(0))).map(Hte)},Yz=t=>{const r=Nh(t);return DB(r.dom).filter(Zz(t))},$te=(t,r)=>ye.from(r).filter(Zz(t)).map(kB),Xz=t=>{const r=document.createRange();try{return r.setStart(t.start.dom,t.soffset),r.setEnd(t.finish.dom,t.foffset),ye.some(r)}catch{return ye.none()}},SM=t=>{const r=Vte(t)?Yz(st.fromDom(t.getBody())):ye.none();t.bookmark=r.isSome()?r:t.bookmark},jI=t=>(t.bookmark?t.bookmark:ye.none()).bind(a=>$te(st.fromDom(t.getBody()),a)).bind(Xz),Ute=t=>{jI(t).each(r=>t.selection.setRng(r))},Jz={isEditorUIElement:t=>{const r=t.className.toString();return r.indexOf("tox-")!==-1||r.indexOf("mce-")!==-1}},zte=(t,r)=>(ut(r)||(r=0),window.setTimeout(t,r)),jte=(t,r)=>(ut(r)||(r=0),window.setInterval(t,r)),tg={setEditorTimeout:(t,r,a)=>zte(()=>{t.removed||r()},a),setEditorInterval:(t,r,a)=>{const u=jte(()=>{t.removed?window.clearInterval(u):r()},a);return u}},MB=t=>t.type==="nodechange"&&t.selectionChange,Qz=(t,r)=>{const a=()=>{r.throttle()};yi.DOM.bind(document,"mouseup",a),t.on("remove",()=>{yi.DOM.unbind(document,"mouseup",a)})},ej=(t,r)=>{t.on("mouseup touchend",a=>{r.throttle()})},Wte=(t,r)=>{ej(t,r),t.on("keyup NodeChange AfterSetSelectionRange",a=>{MB(a)||SM(t)})},Gte=t=>{const r=yo(()=>{SM(t)},0);t.on("init",()=>{t.inline&&Qz(t,r),Wte(t,r)}),t.on("remove",()=>{r.cancel()})};let BA;const FA=yi.DOM,tj=t=>Ho(t)&&Jz.isEditorUIElement(t),CM=t=>{const r=t.classList;return r!==void 0?r.contains("tox-edit-area")||r.contains("tox-edit-area__iframe")||r.contains("mce-content-body"):!1},EM=(t,r)=>{const a=y0(t);return FA.getParent(r,f=>tj(f)||(a?t.dom.is(f,a):!1))!==null},PB=t=>{try{const r=oc(st.fromDom(t.getElement()));return Bh(r).fold(()=>document.body,a=>a.dom)}catch{return document.body}},tSe=(t,r)=>{const a=r.editor;Gte(a);const u=(f,b)=>{if(Q4(f)&&f.inline!==!0){const A=st.fromDom(f.getContainer());b(A,"tox-edit-focus")}};a.on("focusin",()=>{const f=t.focusedEditor;CM(PB(a))&&u(a,Al),f!==a&&(f&&f.dispatch("blur",{focusedEditor:a}),t.setActive(a),t.focusedEditor=a,a.dispatch("focus",{blurredEditor:f}),a.focus(!0))}),a.on("focusout",()=>{tg.setEditorTimeout(a,()=>{const f=t.focusedEditor;(!CM(PB(a))||f!==a)&&u(a,cl),!EM(a,PB(a))&&f===a&&(a.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})}),BA||(BA=f=>{const b=t.activeEditor;b&&a1(f).each(A=>{const M=A;M.ownerDocument===document&&M!==document.body&&!EM(b,M)&&t.focusedEditor===b&&(b.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})},FA.bind(document,"focusin",BA))},nSe=(t,r)=>{t.focusedEditor===r.editor&&(t.focusedEditor=null),!t.activeEditor&&BA&&(FA.unbind(document,"focusin",BA),BA=null)},oSe=t=>{t.on("AddEditor",Xe(tSe,t)),t.on("RemoveEditor",Xe(nSe,t))},qte=(t,r)=>t.dom.getParent(r,a=>t.dom.getContentEditable(a)==="true"),sSe=(t,r)=>t.dom.getParent(r,a=>t.dom.getContentEditable(a)==="false")!==null,Kte=t=>t.collapsed?ye.from(fi(t.startContainer,t.startOffset)).map(st.fromDom):ye.none(),Zte=(t,r)=>Kte(r).bind(a=>Q(a)?ye.some(a):Qr(t,a)?ye.none():ye.some(t)),Yte=(t,r)=>{Zte(st.fromDom(t.getBody()),r).bind(a=>hu(a.dom)).fold(()=>{t.selection.normalize()},a=>t.selection.setRng(a.toRange()))},wM=t=>{if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()},nl=t=>rh(t)||Qb(t).isSome(),NB=t=>Re(t.iframeElement)&&rh(st.fromDom(t.iframeElement)),_M=t=>{const r=t.getBody();return r&&nl(st.fromDom(r))},TM=t=>{const r=oc(st.fromDom(t.getElement()));return Bh(r).filter(a=>!CM(a.dom)&&EM(t,a.dom)).isSome()},ng=t=>t.inline?_M(t):NB(t),VA=t=>ng(t)||TM(t),HA=t=>{const r=t.selection,a=t.getBody();let u=r.getRng();t.quirks.refreshContentEditable();const f=A=>{jI(A).each(M=>{A.selection.setRng(M),u=M})};!ng(t)&&t.hasEditableRoot()&&f(t);const b=qte(t,r.getNode());if(b&&t.dom.isChildOf(b,a)){sSe(t,b)||wM(a),wM(b),t.hasEditableRoot()||f(t),Yte(t,u),AM(t);return}t.inline||(xr.browser.isOpera()||wM(a),t.getWin().focus()),(xr.browser.isFirefox()||t.inline)&&(wM(a),Yte(t,u)),AM(t)},AM=t=>t.editorManager.setActive(t),Xte=(t,r)=>{t.removed||(r?AM(t):HA(t))},ko={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:t=>t.shiftKey||t.ctrlKey||t.altKey||ko.metaKeyPressed(t),metaKeyPressed:t=>xr.os.isMacOS()||xr.os.isiOS()?t.metaKey:t.ctrlKey&&!t.altKey},LB="uc-video",nj=t=>t.nodeName.toLowerCase()===LB,W1="data-mce-selected",xM=`table,img,figure.image,hr,video,span.mce-preview-object,details,${LB}`,G1=Math.abs,w0=Math.round,OM={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Jte=t=>t.type==="longpress"||t.type.indexOf("touch")===0,oj=(t,r)=>{const a=r.dom,u=r.getDoc(),f=document,b=r.getBody();let A,M,N,G,le,fe,be,Le,Qe,ze,nt,Mt,Bt,zt,_n;const $n=fs=>Re(fs)&&(p1(fs)||a.is(fs,"figure.image")),xo=fs=>$h(fs)||a.hasClass(fs,"mce-preview-object"),oo=(fs,uo)=>{if(Jte(fs)){const Io=fs.touches[0];return $n(fs.target)&&!yM(Io.clientX,Io.clientY,uo)}else return $n(fs.target)&&!yM(fs.clientX,fs.clientY,uo)},An=fs=>{const uo=fs.target;oo(fs,r.selection.getRng())&&!fs.isDefaultPrevented()&&r.selection.select(uo)},wn=fs=>a.hasClass(fs,"mce-preview-object")&&Re(fs.firstElementChild)?[fs,fs.firstElementChild]:a.is(fs,"figure.image")?[fs.querySelector("img")]:[fs],Un=fs=>{const uo=CI(r);return!uo||r.mode.isReadOnly()||fs.getAttribute("data-mce-resize")==="false"||fs===r.getBody()?!1:a.hasClass(fs,"mce-preview-object")&&Re(fs.firstElementChild)?mr(st.fromDom(fs.firstElementChild),uo):mr(st.fromDom(fs),uo)},Zo=(fs,uo)=>{if(xo(uo))return fs.create("img",{src:xr.transparentSrc});if(ap(uo)){const Fs=As(G.name,"n")?je:rt,nr=uo.cloneNode(!0);return Fs(fs.select("tr",nr)).each(Ki=>{const ka=fs.select("td,th",Ki);fs.setStyle(Ki,"height",null),qe(ka,yv=>fs.setStyle(yv,"height",null))}),nr}else return uo.cloneNode(!0)},Ls=(fs,uo,Io)=>{if(Re(Io)){const Fs=wn(fs);qe(Fs,nr=>{if(nr.style[uo]||!r.schema.isValid(nr.nodeName.toLowerCase(),uo))a.setStyle(nr,uo,Io);else if(nj(nr)){nr[uo]=Io;const Ki=400;if(nr.width>Ki&&!(uo==="width"&&Io<Ki))nr[uo]=Io,a.setAttrib(nr,uo,""+Io);else{const ka=uo==="height"?Ki*ze:Ki;nr[uo]=ka,a.setAttrib(nr,uo,""+ka)}}else a.setAttrib(nr,uo,""+Io)})}},gr=(fs,uo,Io)=>{Ls(fs,"width",uo),Ls(fs,"height",Io)},Lr=fs=>{let uo,Io,Fs,nr,Ki;uo=fs.screenX-fe,Io=fs.screenY-be,Mt=uo*G[2]+Le,Bt=Io*G[3]+Qe,Mt=Mt<5?5:Mt,Bt=Bt<5?5:Bt,($n(A)||xo(A)||nj(A))&&li(r)!==!1?Fs=!ko.modifierPressed(fs):Fs=ko.modifierPressed(fs),Fs&&(G1(uo)>G1(Io)?(Bt=w0(Mt*ze),Mt=w0(Bt/ze)):(Mt=w0(Bt/ze),Bt=w0(Mt*ze))),gr(M,Mt,Bt),nr=G.startPos.x+uo,Ki=G.startPos.y+Io,nr=nr>0?nr:0,Ki=Ki>0?Ki:0,a.setStyles(N,{left:nr,top:Ki,display:"block"}),N.innerHTML=Mt+" &times; "+Bt,uo=b.scrollWidth-zt,Io=b.scrollHeight-_n,uo+Io!==0&&a.setStyles(N,{left:nr-uo,top:Ki-Io}),nt||(P4(r,A,Le,Qe,"corner-"+G.name),nt=!0)},Sa=()=>{const fs=nt;nt=!1,fs&&(Ls(A,"width",Mt),Ls(A,"height",Bt)),a.unbind(u,"mousemove",Lr),a.unbind(u,"mouseup",Sa),f!==u&&(a.unbind(f,"mousemove",Lr),a.unbind(f,"mouseup",Sa)),a.remove(M),a.remove(N),a.remove(le),Ra(A),fs&&(hI(r,A,Mt,Bt,"corner-"+G.name),a.setAttrib(A,"style",a.getAttrib(A,"style"))),r.nodeChanged()},Ra=fs=>{ws();const uo=a.getPos(fs,b),Io=uo.x,Fs=uo.y,nr=fs.getBoundingClientRect(),Ki=nr.width||nr.right-nr.left,ka=nr.height||nr.bottom-nr.top;A!==fs&&(qc(),A=fs,Mt=Bt=0);const yv=r.dispatch("ObjectSelected",{target:fs});Un(fs)&&!yv.isDefaultPrevented()?en(OM,(mm,Mb)=>{const Pb=xp=>{const wy=wn(A)[0];fe=xp.screenX,be=xp.screenY,Le=wy.clientWidth,Qe=wy.clientHeight,ze=Qe/Le,G=mm,G.name=Mb,G.startPos={x:Ki*mm[0]+Io,y:ka*mm[1]+Fs},zt=b.scrollWidth,_n=b.scrollHeight,le=a.add(b,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),a.setStyles(le,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),M=Zo(a,A),a.addClass(M,"mce-clonedresizable"),a.setAttrib(M,"data-mce-bogus","all"),M.contentEditable="false",a.setStyles(M,{left:Io,top:Fs,margin:0}),gr(M,Ki,ka),M.removeAttribute(W1),b.appendChild(M),a.bind(u,"mousemove",Lr),a.bind(u,"mouseup",Sa),f!==u&&(a.bind(f,"mousemove",Lr),a.bind(f,"mouseup",Sa)),N=a.add(b,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Le+" &times; "+Qe)};let gm=a.get("mceResizeHandle"+Mb);gm&&a.remove(gm),gm=a.add(b,"div",{id:"mceResizeHandle"+Mb,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Mb+"-resize; margin:0; padding:0"}),a.bind(gm,"mousedown",xp=>{xp.stopImmediatePropagation(),xp.preventDefault(),Pb(xp)}),mm.elm=gm,a.setStyles(gm,{left:Ki*mm[0]+Io-gm.offsetWidth/2,top:ka*mm[1]+Fs-gm.offsetHeight/2})}):qc(!1)},wc=yo(Ra,0),qc=(fs=!0)=>{wc.cancel(),ws(),A&&fs&&A.removeAttribute(W1),en(OM,(uo,Io)=>{const Fs=a.get("mceResizeHandle"+Io);Fs&&(a.unbind(Fs),a.remove(Fs))})},vv=(fs,uo)=>a.isChildOf(fs,uo),Mo=fs=>{if(nt||r.removed||r.composing)return;const uo=fs.type==="mousedown"?fs.target:t.getNode(),Io=Ic(st.fromDom(uo),xM).map(nr=>nr.dom).filter(nr=>a.isEditable(nr.parentElement)||nr.nodeName==="IMG"&&a.isEditable(nr)).getOrUndefined(),Fs=Re(Io)?a.getAttrib(Io,W1,"1"):"1";if(qe(a.select(`img[${W1}],hr[${W1}]`),nr=>{nr.removeAttribute(W1)}),Re(Io)&&vv(Io,b)&&VA(r)){Bi();const nr=t.getStart(!0);if(vv(nr,Io)&&vv(t.getEnd(!0),Io)){a.setAttrib(Io,W1,Fs),wc.throttle(Io);return}}qc()},ws=()=>{en(OM,fs=>{fs.elm&&(a.unbind(fs.elm),delete fs.elm)})},Bi=()=>{try{r.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return r.on("init",()=>{Bi(),r.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Mo),r.on("keyup compositionend",fs=>{A&&A.nodeName==="TABLE"&&Mo(fs)}),r.on("hide blur",qc),r.on("contextmenu longpress",An,!0)}),r.on("remove",ws),{isResizable:Un,showResizeRect:Ra,hideResizeRect:qc,updateResizeRect:Mo,destroy:()=>{wc.cancel(),A=M=le=null}}},sj=(t,r,a)=>{const u=Nh(st.fromDom(a));return Pg(u.dom,t,r).map(f=>{const b=a.createRange();return b.setStart(f.start.dom,f.soffset),b.setEnd(f.finish.dom,f.foffset),b}).getOrUndefined()},BB=(t,r)=>Re(t)&&Re(r)&&t.startContainer===r.startContainer&&t.startOffset===r.startOffset&&t.endContainer===r.endContainer&&t.endOffset===r.endOffset,Qte=(t,r,a)=>{let u=t;for(;u&&u!==r;){if(a(u))return u;u=u.parentNode}return null},rj=(t,r,a)=>Qte(t,r,a)!==null,ij=(t,r,a)=>rj(t,r,u=>u.nodeName===a),ene=(t,r)=>Fe(t)&&!rj(t,r,Jm),aj=(t,r,a)=>{const u=r.parentNode;if(u){const f=new Yi(r,t.getParent(u,t.isBlock)||t.getRoot());let b;for(;b=f[a?"prev":"next"]();)if(ga(b))return!0}return!1},tne=(t,r)=>t.previousSibling?.nodeName===r,rSe=(t,r)=>{let a=r;for(;a&&a!==t;){if(ai(a))return!0;a=a.parentNode}return!1},FB=(t,r,a,u,f)=>{const b=t.getRoot(),A=t.schema.getNonEmptyElements(),M=f.parentNode;let N,G;if(!M)return ye.none();const le=t.getParent(M,t.isBlock)||b;if(u&&ga(f)&&r&&t.isEmpty(le))return ye.some(gn(M,t.nodeIndex(f)));const fe=new Yi(f,le);for(;G=fe[u?"prev":"next"]();){if(t.getContentEditableParent(G)==="false"||ene(G,b))return ye.none();if(Wn(G)&&G.data.length>0)return ij(G,b,"A")?ye.none():ye.some(gn(G,u?G.data.length:0));if(t.isBlock(G)||A[G.nodeName.toLowerCase()])return ye.none();N=G}return $a(N)?ye.none():a&&N?ye.some(gn(N,0)):ye.none()},ju=(t,r,a,u)=>{const f=t.getRoot();let b,A=!1,M=a?u.startContainer:u.endContainer,N=a?u.startOffset:u.endOffset;const G=Ho(M)&&N===M.childNodes.length,le=t.schema.getNonEmptyElements();let fe=a;if(Fe(M))return ye.none();if(Ho(M)&&N>M.childNodes.length-1&&(fe=!1),Er(M)&&(M=f,N=0),M===f){if(fe&&(b=M.childNodes[N>0?N-1:0],b&&(Fe(b)||le[b.nodeName]||ap(b))))return ye.none();if(M.hasChildNodes()){if(N=Math.min(!fe&&N>0?N-1:N,M.childNodes.length-1),M=M.childNodes[N],N=Wn(M)&&G?M.data.length:0,!r&&M===f.lastChild&&ap(M)||rSe(f,M)||Fe(M)||i0(M))return ye.none();if(M.hasChildNodes()&&!ap(M)){b=M;const be=new Yi(M,f);do{if(ai(b)||Fe(b)){A=!1;break}if(Wn(b)&&b.data.length>0){N=fe?0:b.data.length,M=b,A=!0;break}if(le[b.nodeName.toLowerCase()]&&!UE(b)){N=t.nodeIndex(b),M=b.parentNode,fe||N++,A=!0;break}}while(b=fe?be.next():be.prev())}}}return r&&(Wn(M)&&N===0&&FB(t,G,r,!0,M).each(be=>{M=be.container(),N=be.offset(),A=!0}),Ho(M)&&(b=M.childNodes[N],b||(b=M.childNodes[N-1]),b&&ga(b)&&!tne(b,"A")&&!aj(t,b,!1)&&!aj(t,b,!0)&&FB(t,G,r,!0,b).each(be=>{M=be.container(),N=be.offset(),A=!0}))),fe&&!r&&Wn(M)&&N===M.data.length&&FB(t,G,r,!1,M).each(be=>{M=be.container(),N=be.offset(),A=!0}),A&&M?ye.some(gn(M,N)):ye.none()},$w=(t,r)=>{const a=r.collapsed,u=r.cloneRange(),f=gn.fromRangeStart(r);return ju(t,a,!0,u).each(b=>{(!a||!gn.isAbove(f,b))&&u.setStart(b.container(),b.offset())}),a||ju(t,a,!1,u).each(b=>{u.setEnd(b.container(),b.offset())}),a&&u.collapse(!0),BB(r,u)?ye.none():ye.some(u)},pu=(t,r)=>t.splitText(r),cm=t=>{let r=t.startContainer,a=t.startOffset,u=t.endContainer,f=t.endOffset;if(r===u&&Wn(r)){if(a>0&&a<r.data.length)if(u=pu(r,a),r=u.previousSibling,f>a){f=f-a;const b=pu(u,f).previousSibling;r=u=b,f=b.data.length,a=0}else f=0}else if(Wn(r)&&a>0&&a<r.data.length&&(r=pu(r,a),a=0),Wn(u)&&f>0&&f<u.data.length){const b=pu(u,f).previousSibling;u=b,f=b.data.length}return{startContainer:r,startOffset:a,endContainer:u,endOffset:f}},_0=t=>({walk:(b,A)=>Uc(t,b,A),split:cm,expand:(b,A={type:"word"})=>{if(A.type==="word"){const M=Of(t,b,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),N=t.createRng();return N.setStart(M.startContainer,M.startOffset),N.setEnd(M.endContainer,M.endOffset),N}return b},normalize:b=>$w(t,b).fold(Dt,A=>(b.setStart(A.startContainer,A.startOffset),b.setEnd(A.endContainer,A.endOffset),!0))});_0.compareRanges=BB,_0.getCaretRangeFromPoint=sj,_0.getSelectedNode=Sr,_0.getNode=fi;const VB=(t,r)=>t.view(r).fold(it([]),u=>{const f=t.owner(u),b=VB(t,f);return[u].concat(b)}),nne=(t,r)=>{const a=r.owner(t);return VB(r,a)};var cj=Object.freeze({__proto__:null,view:t=>(t.dom===document?ye.none():ye.from(t.dom.defaultView?.frameElement)).map(st.fromDom),owner:t=>su(t)});const one=t=>{const r=Jb(),a=d1(r),u=nne(t,cj),f=Rg(t),b=Nt(u,(A,M)=>{const N=Rg(M);return{left:A.left+N.left,top:A.top+N.top}},{left:0,top:0});return hf(b.left+f.left+a.left,b.top+f.top+a.top)},HB=t=>Us(t)==="textarea",sne=(t,r)=>t.dispatch("ScrollIntoView",r).isDefaultPrevented(),og=(t,r)=>{t.dispatch("AfterScrollIntoView",r)},If=(t,r)=>{const a=yr(t);if(a.length===0||HB(t))return{element:t,offset:r};if(r<a.length&&!HB(a[r]))return{element:a[r],offset:0};{const u=a[a.length-1];return HB(u)?{element:t,offset:r}:Us(u)==="img"?{element:u,offset:1}:ei(u)?{element:u,offset:bl(u).length}:{element:u,offset:yr(u).length}}},rne=(t,r)=>{const a=km(t),u=ME(t);return{element:t,bottom:a.top+u,height:u,pos:a,cleanup:r}},xb=(t,r)=>{const a=If(t,r),u=st.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+K+"</span>");return Oc(a.element,u),rne(u,()=>Ni(u))},$B=t=>rne(st.fromDom(t),St),uj=(t,r,a,u)=>{pj(t,(f,b)=>hj(t,r,a,u),a)},dj=(t,r,a,u,f)=>{const b={elm:u.element.dom,alignToTop:f};if(sne(t,b))return;const A=d1(r).top;a(t,r,A,u,f),og(t,b)},hj=(t,r,a,u)=>{const f=st.fromDom(t.getBody()),b=st.fromDom(t.getDoc());Zy(f);const A=xb(st.fromDom(a.startContainer),a.startOffset);dj(t,b,r,A,u),A.cleanup()},fj=(t,r,a,u)=>{const f=st.fromDom(t.getDoc());dj(t,f,a,$B(r),u)},pj=(t,r,a)=>{const u=a.startContainer,f=a.startOffset,b=a.endContainer,A=a.endOffset;r(st.fromDom(u),st.fromDom(b));const M=t.dom.createRng();M.setStart(u,f),M.setEnd(b,A),t.selection.setRng(a)},UB=(t,r,a,u,f)=>{const b=r.pos,A=30;if(u)US(b.left,Math.max(0,b.top-A),f);else{const M=b.top-a+r.height+A;US(-t.getBody().getBoundingClientRect().left,M,f)}},IM=(t,r,a,u,f,b)=>{const A=u+a,M=f.pos.top,N=f.bottom,G=N-M>=u;M<a?UB(t,f,u,b!==!1,r):M>A?UB(t,f,u,G?b!==!1:b===!0,r):N>A&&!G&&UB(t,f,u,b===!0,r)},mj=(t,r,a,u,f)=>{const b=Nh(r).dom.innerHeight;IM(t,r,a,b,u,f)},gj=(t,r,a,u,f)=>{const b=Nh(r).dom.innerHeight;IM(t,r,a,b,u,f);const A=one(u.element),M=HE(window);A.top<M.y?Fh(u.element,f!==!1):A.top>M.bottom&&Fh(u.element,f===!0)},ine=(t,r,a)=>uj(t,mj,r,a),ane=(t,r,a)=>fj(t,r,mj,a),vj=(t,r,a)=>uj(t,gj,r,a),zB=(t,r,a)=>fj(t,r,gj,a),yj=(t,r,a)=>{(t.inline?ane:zB)(t,r,a)},Uw=(t,r,a)=>{(t.inline?ine:vj)(t,r,a)},bj=(t,r)=>r.collapsed?t.isEditable(r.startContainer):t.isEditable(r.startContainer)&&t.isEditable(r.endContainer),lne=(t,r,a,u,f)=>{const b=a?r.startContainer:r.endContainer,A=a?r.startOffset:r.endOffset;return ye.from(b).map(st.fromDom).map(M=>!u||!r.collapsed?Lh(M,f(M,A)).getOr(M):M).bind(M=>sa(M)?ye.some(M):Ru(M).filter(sa)).map(M=>M.dom).getOr(t)},cne=(t,r,a=!1)=>lne(t,r,!0,a,(u,f)=>Math.min(cf(u),f)),Sj=(t,r,a=!1)=>lne(t,r,!1,a,(u,f)=>f>0?f-1:f),jB=(t,r)=>{const a=t;for(;t&&Wn(t)&&t.length===0;)t=r?t.nextSibling:t.previousSibling;return t||a},une=(t,r)=>{if(!r)return t;let a=r.startContainer,u=r.endContainer;const f=r.startOffset,b=r.endOffset;let A=r.commonAncestorContainer;r.collapsed||(a===u&&b-f<2&&a.hasChildNodes()&&(A=a.childNodes[f]),Wn(a)&&Wn(u)&&(a.length===f?a=jB(a.nextSibling,!0):a=a.parentNode,b===0?u=jB(u.previousSibling,!1):u=u.parentNode,a&&a===u&&(A=a)));const M=Wn(A)?A.parentNode:A;return ma(M)?M:t},dne=(t,r,a,u)=>{const f=[],b=t.getRoot(),A=t.getParent(a||cne(b,r,r.collapsed),t.isBlock),M=t.getParent(u||Sj(b,r,r.collapsed),t.isBlock);if(A&&A!==b&&f.push(A),A&&M&&A!==M){let N;const G=new Yi(A,b);for(;(N=G.next())&&N!==M;)t.isBlock(N)&&f.push(N)}return M&&A!==M&&M!==b&&f.push(M),f},hne=(t,r,a)=>ye.from(r).bind(u=>ye.from(u.parentNode).map(f=>{const b=t.nodeIndex(u),A=t.createRng();return A.setStart(f,b),A.setEnd(f,b+1),a&&(AC(t,A,u,!0),AC(t,A,u,!1)),A})),Cj=(t,r)=>vn(r,a=>{const u=t.dispatch("GetSelectionRange",{range:a});return u.range!==a?u.range:a}),aSe={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},WI=(t,r,a)=>{const u=a?"lastChild":"firstChild",f=a?"prev":"next";if(t[u])return t[u];if(t!==r){let b=t[f];if(b)return b;for(let A=t.parent;A&&A!==r;A=A.parent)if(b=A[f],b)return b}},Ej=t=>{const r=t.value??"";if(!Lg(r))return!1;const a=t.parent;return!(a&&(a.name!=="span"||a.attr("style"))&&/^[ ]+$/.test(r))},wj=t=>{const r=t.name==="a"&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||r};class yh{static create(r,a){const u=new yh(r,aSe[r]||1);return a&&en(a,(f,b)=>{u.attr(b,f)}),u}name;type;attributes;value;parent;firstChild;lastChild;next;prev;raw;constructor(r,a){this.name=r,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}replace(r){const a=this;return r.parent&&r.remove(),a.insert(r,a),a.remove(),a}attr(r,a){const u=this;if(!se(r))return Re(r)&&en(r,(b,A)=>{u.attr(A,b)}),u;const f=u.attributes;if(f){if(a!==void 0){if(a===null){if(r in f.map){delete f.map[r];let b=f.length;for(;b--;)if(f[b].name===r)return f.splice(b,1),u}return u}if(r in f.map){let b=f.length;for(;b--;)if(f[b].name===r){f[b].value=a;break}}else f.push({name:r,value:a});return f.map[r]=a,u}return f.map[r]}}clone(){const r=this,a=new yh(r.name,r.type),u=r.attributes;if(u){const f=[];f.map={};for(let b=0,A=u.length;b<A;b++){const M=u[b];M.name!=="id"&&(f[f.length]={name:M.name,value:M.value},f.map[M.name]=M.value)}a.attributes=f}return a.value=r.value,a}wrap(r){const a=this;return a.parent&&(a.parent.insert(r,a),r.append(a)),a}unwrap(){const r=this;for(let a=r.firstChild;a;){const u=a.next;r.insert(a,r,!0),a=u}r.remove()}remove(){const r=this,a=r.parent,u=r.next,f=r.prev;return a&&(a.firstChild===r?(a.firstChild=u,u&&(u.prev=null)):f&&(f.next=u),a.lastChild===r?(a.lastChild=f,f&&(f.next=null)):u&&(u.prev=f),r.parent=r.next=r.prev=null),r}append(r){const a=this;r.parent&&r.remove();const u=a.lastChild;return u?(u.next=r,r.prev=u,a.lastChild=r):a.lastChild=a.firstChild=r,r.parent=a,r}insert(r,a,u){r.parent&&r.remove();const f=a.parent||this;return u?(a===f.firstChild?f.firstChild=r:a.prev&&(a.prev.next=r),r.prev=a.prev,r.next=a,a.prev=r):(a===f.lastChild?f.lastChild=r:a.next&&(a.next.prev=r),r.next=a.next,r.prev=a,a.next=r),r.parent=f,r}getAll(r){const a=this,u=[];for(let f=a.firstChild;f;f=WI(f,a))f.name===r&&u.push(f);return u}children(){const r=this,a=[];for(let u=r.firstChild;u;u=u.next)a.push(u);return a}empty(){const r=this;if(r.firstChild){const a=[];for(let f=r.firstChild;f;f=WI(f,r))a.push(f);let u=a.length;for(;u--;){const f=a[u];f.parent=f.firstChild=f.lastChild=f.next=f.prev=null}}return r.firstChild=r.lastChild=null,r}isEmpty(r,a={},u){const f=this;let b=f.firstChild;if(wj(f))return!1;if(b)do{if(b.type===1){if(b.attr("data-mce-bogus"))continue;if(r[b.name]||wj(b))return!1}if(b.type===8||b.type===3&&!Ej(b)||b.type===3&&b.parent&&a[b.parent.name]&&Lg(b.value??"")||u&&u(b))return!1}while(b=WI(b,f));return!0}walk(r){return WI(this,null,r)}}const fne=Jn.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),pne=t=>se(t.nodeValue)&&t.nodeValue.includes(K),mne=t=>`${t.length===0?"":`${vn(t,r=>`[${r}]`).join(",")},`}[data-mce-bogus="all"]`,lSe=(t,r)=>r.querySelectorAll(mne(t)),_j=t=>document.createTreeWalker(t,NodeFilter.SHOW_COMMENT,r=>pne(r)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),gne=t=>document.createTreeWalker(t,NodeFilter.SHOW_TEXT,r=>{if(pne(r)){const a=r.parentNode;return a&&Xo(fne,a.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),vne=t=>_j(t).nextNode()!==null,zw=t=>gne(t).nextNode()!==null,yne=(t,r)=>r.querySelector(mne(t))!==null,Tj=(t,r)=>{qe(lSe(t,r),a=>{const u=st.fromDom(a);aa(u,"data-mce-bogus")==="all"?Ni(u):qe(t,f=>{fa(u,f)&&vl(u,f)})})},WB=t=>{let r=t.nextNode();for(;r!==null;)r.nodeValue=null,r=t.nextNode()},Aj=ee(WB,_j),xj=ee(WB,gne),RM=(t,r)=>{const a=[{condition:Xe(yne,r),action:Xe(Tj,r)},{condition:vne,action:Aj},{condition:zw,action:xj}];let u=t,f=!1;return qe(a,({condition:b,action:A})=>{b(u)&&(f||(u=t.cloneNode(!0),f=!0),A(u))}),u},bne=t=>{const r=Sn(t,"[data-mce-bogus]");qe(r,a=>{aa(a,"data-mce-bogus")==="all"?Ni(a):Ef(a)?(Oc(a,st.fromText(gc)),Ni(a)):Pu(a)})},Oj=t=>{const r=Sn(t,"input");qe(r,a=>{vl(a,"name")})},cSe=(t,r)=>{const a=zu(t),u=new RegExp(`^(<${a}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${a}>[\r
]*|<br \\/>[\r
]*)$`);return r.replace(u,"")},Sne=(t,r)=>{const a=t.getDoc(),u=oc(st.fromDom(t.getBody())),f=st.fromTag("div",a);ha(f,"data-mce-bogus","all"),ru(f,{position:"fixed",left:"-9999999px",top:"0"}),zp(f,r.innerHTML),bne(f),Oj(f);const b=br(u);zr(b,f);const A=ue(f.dom.innerText);return Ni(f),A},Cne=(t,r,a)=>{let u;return r.format==="raw"?u=Jn.trim(ue(RM(a,t.serializer.getTempAttrs()).innerHTML)):r.format==="text"?u=Sne(t,a):r.format==="tree"?u=t.serializer.serialize(a,r):u=cSe(t,t.serializer.serialize(a,r)),r.format!=="text"&&!C(st.fromDom(a))&&se(u)?Jn.trim(u):u},GB=(t,r)=>ye.from(t.getBody()).fold(it(r.format==="tree"?new yh("body",11):""),a=>Cne(t,r,a)),qB=Jn.makeMap,Ene=t=>{const r=[];t=t||{};const a=t.indent,u=qB(t.indent_before||""),f=qB(t.indent_after||""),b=Gv.getEncodeFunc(t.entity_encoding||"raw",t.entities),A=t.element_format!=="xhtml";return{start:(M,N,G)=>{if(a&&u[M]&&r.length>0){const le=r[r.length-1];le.length>0&&le!==`
`&&r.push(`
`)}if(r.push("<",M),N)for(let le=0,fe=N.length;le<fe;le++){const be=N[le];r.push(" ",be.name,'="',b(be.value,!0),'"')}if(!G||A?r[r.length]=">":r[r.length]=" />",G&&a&&f[M]&&r.length>0){const le=r[r.length-1];le.length>0&&le!==`
`&&r.push(`
`)}},end:M=>{let N;r.push("</",M,">"),a&&f[M]&&r.length>0&&(N=r[r.length-1],N.length>0&&N!==`
`&&r.push(`
`))},text:(M,N)=>{M.length>0&&(r[r.length]=N?M:b(M))},cdata:M=>{r.push("<![CDATA[",M,"]]>")},comment:M=>{r.push("<!--",M,"-->")},pi:(M,N)=>{N?r.push("<?",M," ",b(N),"?>"):r.push("<?",M,"?>"),a&&r.push(`
`)},doctype:M=>{r.push("<!DOCTYPE",M,">",a?`
`:"")},reset:()=>{r.length=0},getContent:()=>r.join("").replace(/\n$/,"")}},jw=(t={},r=Sf())=>{const a=Ene(t);return t.validate="validate"in t?t.validate:!0,{serialize:f=>{const b=t.validate,A={3:N=>{a.text(N.value??"",N.raw)},8:N=>{a.comment(N.value??"")},7:N=>{a.pi(N.name,N.value)},10:N=>{a.doctype(N.value??"")},4:N=>{a.cdata(N.value??"")},11:N=>{let G=N;if(G=G.firstChild)do M(G);while(G=G.next)}};a.reset();const M=N=>{const G=A[N.type];if(G)G(N);else{const le=N.name,fe=le in r.getVoidElements();let be=N.attributes;if(b&&be&&be.length>1){const Le=[];Le.map={};const Qe=r.getElementRule(N.name);if(Qe){for(let ze=0,nt=Qe.attributesOrder.length;ze<nt;ze++){const Mt=Qe.attributesOrder[ze];if(Mt in be.map){const Bt=be.map[Mt];Le.map[Mt]=Bt,Le.push({name:Mt,value:Bt})}}for(let ze=0,nt=be.length;ze<nt;ze++){const Mt=be[ze].name;if(!(Mt in Le.map)){const Bt=be.map[Mt];Le.map[Mt]=Bt,Le.push({name:Mt,value:Bt})}}be=Le}}if(a.start(le,be,fe),ud(le))se(N.value)&&a.text(N.value,!0),a.end(le);else if(!fe){let Le=N.firstChild;if(Le){(le==="pre"||le==="textarea")&&Le.type===3&&Le.value?.[0]===`
`&&a.text(`
`,!0);do M(Le);while(Le=Le.next)}a.end(le)}}};return f.type===1&&!t.inner?M(f):f.type===3?A[3](f):A[11](f),a.getContent()}}},wne=new Set;qe(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],r=>{wne.add(r)});const Ij=new Set;qe(["background-color"],r=>{Ij.add(r)});const _ne=["font","text-decoration","text-emphasis"],Tne=(t,r)=>t.parseStyle(t.getAttrib(r,"style")),Ww=(t,r)=>wt(Tne(t,r)),Ane=t=>wne.has(t),Rj=t=>Ij.has(t),xne=(t,r)=>cn(Ww(t,r),a=>Ane(a)),One=(t,r)=>xne(t,r)&&cn(Ww(t,r),a=>Rj(a)),kj=t=>Ve(t,r=>cn(_ne,a=>As(r,a))),Ine=(t,r,a)=>{const u=Ww(t,r),f=Ww(t,a),b=A=>{const M=t.getStyle(r,A)??"",N=t.getStyle(a,A)??"";return gi(M)&&gi(N)&&M!==N};return cn(u,A=>{const M=N=>cn(N,G=>G===A);if(!M(f)&&M(_ne)){const N=kj(f);return cn(N,b)}else return b(A)})},Dj=(t,r,a)=>ye.from(a.container()).filter(Wn).exists(u=>{const f=t?0:-1;return r(u.data.charAt(a.offset()+f))}),KB=Xe(Dj,!0,_b),ZB=Xe(Dj,!1,_b),Rne=t=>{const r=t.container();return Wn(r)&&(r.data.length===0||ne(r.data)&&Hw.isBookmarkNode(r.parentNode))},OC=(t,r)=>a=>ls(t?0:-1,a).filter(r).isSome(),Mj=t=>p1(t)&&Ha(st.fromDom(t),"display")==="block",Pj=t=>ai(t)&&!AT(t),kne=OC(!0,Mj),Dne=OC(!1,Mj),GI=OC(!0,$h),qI=OC(!1,$h),Nj=OC(!0,ap),YB=OC(!1,ap),Ao=OC(!0,Pj),Rf=OC(!1,Pj),uSe=t=>t.slice(0,-1),Mne=(t,r,a)=>Qr(r,t)?uSe(Lc(t,u=>a(u)||Lo(u,r))):[],kM=(t,r)=>Mne(t,r,Dt),T0=(t,r)=>[t].concat(kM(t,r)),DM=(t,r,a)=>xA(t,r,a,Rne),XB=t=>r=>t.isBlock(Us(r)),Lj=(t,r,a)=>Et(T0(st.fromDom(r.container()),t),XB(a)),JB=(t,r,a,u)=>DM(t,r.dom,a).forall(f=>Lj(r,a,u).fold(()=>!ov(f,a,r.dom),b=>!ov(f,a,r.dom)&&Qr(b,st.fromDom(f.container())))),Bj=(t,r,a,u)=>Lj(r,a,u).fold(()=>DM(t,r.dom,a).forall(f=>!ov(f,a,r.dom)),f=>DM(t,f.dom,a).isNone()),QB=Xe(Bj,!1),Fj=Xe(Bj,!0),Pne=Xe(JB,!1),Nne=Xe(JB,!0),MM=t=>EC(t).exists(Ef),PM=(t,r,a,u)=>{const f=Ve(T0(st.fromDom(a.container()),r),A=>u.isBlock(Us(A))),b=je(f).getOr(r);return Af(t,b.dom,a).filter(MM)},eF=(t,r,a)=>EC(r).exists(Ef)||PM(!0,t,r,a).isSome(),NM=(t,r,a)=>DI(r).exists(Ef)||PM(!1,t,r,a).isSome(),Vj=Xe(PM,!1),Lne=Xe(PM,!0),tF=t=>gn.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd(),KI=(t,r,a)=>{const u=Ve(T0(st.fromDom(r.container()),t),f=>a.isBlock(Us(f)));return je(u).getOr(t)},Hj=(t,r,a)=>tF(r)?ZB(r):ZB(r)||du(KI(t,r,a).dom,r).exists(ZB),$j=(t,r,a)=>tF(r)?KB(r):KB(r)||jh(KI(t,r,a).dom,r).exists(KB),Bne=t=>xt(["pre","pre-wrap"],t),nF=t=>EC(t).bind(r=>Ti(r,sa)).exists(r=>Bne(Ha(r,"white-space"))),Fne=(t,r)=>du(t.dom,r).isNone(),Vne=(t,r)=>jh(t.dom,r).isNone(),Hne=(t,r,a)=>Fne(t,r)||Vne(t,r)||QB(t,r,a)||Fj(t,r,a)||NM(t,r,a)||eF(t,r,a),$ne=t=>Re(t)&&ai(t)&&WD(t),Uj=(t,r)=>a=>$ne(new Yi(a,t)[r]()),Une=(t,r)=>{const a=jh(t.dom,r).getOr(r),u=Uj(t.dom,"next");return r.isAtEnd()&&(u(r.container())||u(a.container()))},zne=(t,r)=>{const a=du(t.dom,r).getOr(r),u=Uj(t.dom,"prev");return r.isAtStart()&&(u(r.container())||u(a.container()))},zj=(t,r,a)=>nF(r)?!1:Hne(t,r,a)||Hj(t,r,a)||$j(t,r,a),ZI=(t,r,a)=>nF(r)?!1:QB(t,r,a)||Pne(t,r,a)||NM(t,r,a)||Hj(t,r,a)||zne(t,r),jne=t=>{const r=t.container(),a=t.offset();return Wn(r)&&a<r.data.length?gn(r,a+1):t},$A=(t,r,a)=>nF(r)?!1:Fj(t,r,a)||Nne(t,r,a)||eF(t,r,a)||$j(t,r,a)||Une(t,r),oF=(t,r,a)=>ZI(t,r,a)||$A(t,jne(r),a),jj=(t,r)=>DA(t.charAt(r)),YI=(t,r)=>_b(t.charAt(r)),Gw=t=>{const r=t.container();return Wn(r)&&na(r.data,Pi)},LM=t=>{const r=t.split("");return vn(r,(a,u)=>DA(a)&&u>0&&u<r.length-1&&LI(r[u-1])&&LI(r[u+1])?" ":a).join("")},Wj=(t,r,a,u)=>{const f=r.data,b=gn(r,0);return!a&&jj(f,0)&&!oF(t,b,u)?(r.data=" "+f.slice(1),!0):a&&YI(f,0)&&ZI(t,b,u)?(r.data=Pi+f.slice(1),!0):!1},Wne=t=>{const r=t.data,a=LM(r);return a!==r?(t.data=a,!0):!1},Gj=(t,r,a,u)=>{const f=r.data,b=gn(r,f.length-1);return!a&&jj(f,f.length-1)&&!oF(t,b,u)?(r.data=f.slice(0,-1)+" ",!0):a&&YI(f,f.length-1)&&$A(t,b,u)?(r.data=f.slice(0,-1)+Pi,!0):!1},Gne=(t,r,a)=>{const u=r.container();if(!Wn(u))return ye.none();if(Gw(r)){const f=Wj(t,u,!1,a)||Wne(u)||Gj(t,u,!1,a);return Tc(f,r)}else if(oF(t,r,a)){const f=Wj(t,u,!0,a)||Gj(t,u,!0,a);return Tc(f,r)}else return ye.none()},qj=t=>{const r=st.fromDom(t.getBody());t.selection.isCollapsed()&&Gne(r,gn.fromRangeStart(t.selection.getRng()),t.schema).each(a=>{t.selection.setRng(a.toRange())})},Kj=(t,r,a,u)=>{if(a===0)return;const f=st.fromDom(t),b=Vh(f,G=>u.isBlock(Us(G))).getOr(f),A=t.data.slice(r,r+a),M=r+a>=t.data.length&&$A(b,gn(t,t.data.length),u),N=r===0&&ZI(b,gn(t,0),u);t.replaceData(r,a,qp(A,4,N,M))},BM=(t,r,a)=>{const u=t.data.slice(r),f=u.length-oh(u).length;Kj(t,r,f,a)},FM=(t,r,a)=>{const u=t.data.slice(0,r),f=u.length-Yf(u).length;Kj(t,r-f,f,a)},sF=(t,r,a,u,f=!0)=>{const b=Yf(t.data).length,A=f?t:r,M=f?r:t;return f?A.appendData(M.data):A.insertData(0,M.data),Ni(st.fromDom(M)),u&&BM(A,b,a),A},Zj=(t,r)=>{const a=t.container(),u=t.offset();return!gn.isTextPosition(t)&&a===r.parentNode&&u>gn.before(r).offset()},qne=(t,r)=>Zj(r,t)?gn(r.container(),r.offset()-1):r,Kne=t=>Wn(t)?gn(t,0):gn.before(t),Zne=t=>Wn(t)?gn(t,t.data.length):gn.after(t),rF=t=>Ui(t.previousSibling)?ye.some(Zne(t.previousSibling)):t.previousSibling?xf(t.previousSibling):ye.none(),VM=t=>Ui(t.nextSibling)?ye.some(Kne(t.nextSibling)):t.nextSibling?hu(t.nextSibling):ye.none(),Yj=(t,r)=>ye.from(r.previousSibling?r.previousSibling:r.parentNode).bind(a=>du(t,gn.before(a))).orThunk(()=>jh(t,gn.after(r))),Yne=(t,r)=>jh(t,gn.after(r)).orThunk(()=>du(t,gn.before(r))),Xne=(t,r)=>rF(r).orThunk(()=>VM(r)).orThunk(()=>Yj(t,r)),HM=(t,r)=>VM(r).orThunk(()=>rF(r)).orThunk(()=>Yne(t,r)),Jne=(t,r,a)=>t?HM(r,a):Xne(r,a),Xj=(t,r,a)=>Jne(t,r,a).map(Xe(qne,a)),$M=(t,r,a)=>{a.fold(()=>{t.focus()},u=>{t.selection.setRng(u.toRange(),r)})},Jj=t=>r=>r.dom===t,Qne=(t,r)=>r&&Xo(t.schema.getBlockElements(),Us(r)),eoe=(t,r,a)=>{if(Vu(t,r)){const u=st.fromHtml('<br data-mce-bogus="1">');return a?qe(yr(r),f=>{Si(f)||Ni(f)}):id(r),zr(r,u),ye.some(gn.before(u.dom))}else return ye.none()},UM=(t,r,a,u)=>{const f=Nd(t).filter(ei),b=Du(t).filter(ei);return Ni(t),Au(f,b,r,(A,M,N)=>{const G=A.dom,le=M.dom,fe=G.data.length;return sF(G,le,a,u),N.container()===le?gn(G,fe):N}).orThunk(()=>(u&&(f.each(A=>FM(A.dom,A.dom.length,a)),b.each(A=>BM(A.dom,0,a))),r))},Qj=(t,r)=>Xo(t.schema.getTextInlineElements(),Us(r)),q1=(t,r,a,u=!0,f=!1)=>{const b=Xj(r,t.getBody(),a.dom),A=Vh(a,Xe(Qne,t),Jj(t.getBody())),M=UM(a,b,t.schema,Qj(t,a));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):A.bind(N=>eoe(t.schema,N,f)).fold(()=>{u&&$M(t,r,M)},N=>{u&&$M(t,r,ye.some(N))})},e8=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,t8=t=>e8.test(t),IC=(t,r)=>mr(st.fromDom(r),SI(t))&&!Nn(t.schema,r)&&t.dom.isEditable(r),iF=t=>yi.DOM.getStyle(t,"direction",!0)==="rtl"||t8(t.textContent??""),n8=(t,r,a)=>Ve(yi.DOM.getParents(a.container(),"*",r),t),K1=(t,r,a)=>{const u=n8(t,r,a);return ye.from(u[u.length-1])},o8=(t,r,a)=>{const u=oy(r,t),f=oy(a,t);return Re(u)&&u===f},s8=t=>gt(t)||$t(t),av=(t,r)=>{const a=r.container(),u=r.offset();return t?Pe(a)?Wn(a.nextSibling)?gn(a.nextSibling,0):gn.after(a):gt(r)?gn(a,u+1):r:Pe(a)?Wn(a.previousSibling)?gn(a.previousSibling,a.previousSibling.data.length):gn.before(a):$t(r)?gn(a,u-1):r},r8=Xe(av,!0),i8=Xe(av,!1),a8=(t,r)=>{const a=u=>u.stopImmediatePropagation();t.on("beforeinput input",a,!0),t.getDoc().execCommand(r),t.off("beforeinput input",a)},toe=t=>{t.execCommand("delete")},zM=t=>a8(t,"Delete"),l8=t=>a8(t,"ForwardDelete"),noe=t=>r=>Xr(Ru(r),t,Lo),ooe=t=>v0(t)||Km(t),jM=(t,r)=>Qr(t,r)?Ti(r,ooe,noe(t)):ye.none(),WM=(t,r=!0)=>{t.dom.isEmpty(t.getBody())&&t.setContent("",{no_selection:!r})},soe=(t,r,a)=>Ar(hu(a),xf(a),(u,f)=>{const b=av(!0,u),A=av(!1,f),M=av(!1,r);return t?jh(a,M).exists(N=>N.isEqual(A)&&r.isEqual(b)):du(a,M).exists(N=>N.isEqual(b)&&r.isEqual(A))}).getOr(!0),roe=t=>(Za(t)?Nd(t):Ya(t)).bind(roe).orThunk(()=>ye.some(t)),c8=(t,r,a,u=!0)=>{r.deleteContents();const f=roe(a).getOr(a),b=st.fromDom(t.dom.getParent(f.dom,t.dom.isBlock)??a.dom);if(b.dom===t.getBody()?WM(t,u):Vu(t.schema,b,{checkRootAsContent:!1})&&(F(b),u&&t.selection.setCursorLocation(b.dom,0)),!Lo(a,b)){const A=Xr(Ru(b),a)?[]:si(b);qe(A.concat(yr(a)),M=>{!Lo(M,b)&&!Qr(M,b)&&Vu(t.schema,M)&&Ni(M)})}},dSe=t=>r=>Lo(t,r),aF=t=>Sn(t,"td,th"),qd=(t,r)=>Qm(st.fromDom(t),r),ioe=t=>Ar(t.startTable,t.endTable,(r,a)=>{const u=Ys(r,b=>Lo(b,a)),f=Ys(a,b=>Lo(b,r));return!u&&!f?t:{...t,startTable:u?ye.none():t.startTable,endTable:f?ye.none():t.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(t),hSe=t=>ioe(t),aoe=(t,r)=>{const a=qd(t.startContainer,r),u=qd(t.endContainer,r),f=a.isSome(),b=u.isSome(),A=Ar(a,u,Lo).getOr(!1);return hSe({startTable:a,endTable:u,isStartInTable:f,isEndInTable:b,isSameTable:A,isMultiTable:!A&&f&&b})},lF=(t,r)=>({start:t,end:r}),um=(t,r,a)=>({rng:t,table:r,cells:a}),GM=oi.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),qM=(t,r)=>Ic(st.fromDom(t),"td,th",r),loe=t=>!Lo(t.start,t.end),u8=(t,r)=>Qm(t.start,r).bind(a=>Qm(t.end,r).bind(u=>Tc(Lo(a,u),a))),coe=(t,r)=>!loe(t)&&u8(t,r).exists(a=>{const u=a.dom.rows;return u.length===1&&u[0].cells.length===1}),fSe=(t,r)=>{const a=qM(t.startContainer,r),u=qM(t.endContainer,r);return Ar(a,u,lF)},uoe=t=>r=>Qm(r,t).bind(a=>rt(aF(a)).map(u=>lF(r,u))),dm=t=>r=>Qm(r,t).bind(a=>je(aF(a)).map(u=>lF(u,r))),KM=t=>r=>u8(r,t).map(a=>um(r,a,aF(a))),cF=(t,r,a,u)=>{if(a.collapsed||!t.forall(loe))return ye.none();if(r.isSameTable){const f=t.bind(KM(u));return ye.some({start:f,end:f})}else{const f=qM(a.startContainer,u),b=qM(a.endContainer,u),A=f.bind(uoe(u)).bind(KM(u)),M=b.bind(dm(u)).bind(KM(u));return ye.some({start:A,end:M})}},d8=(t,r)=>Yn(t,a=>Lo(a,r)),uF=t=>Ar(d8(t.cells,t.rng.start),d8(t.cells,t.rng.end),(r,a)=>t.cells.slice(r,a+1)),h8=(t,r,a)=>t.exists(u=>coe(u,a)&&HI(u.start,r)),dF=(t,r)=>{const{startTable:a,endTable:u}=r,f=t.cloneRange();return a.each(b=>f.setStartAfter(b.dom)),u.each(b=>f.setEndBefore(b.dom)),f},doe=(t,r,a,u)=>cF(t,r,a,u).bind(({start:f,end:b})=>f.or(b)).bind(f=>{const{isSameTable:b}=r,A=uF(f).getOr([]);if(b&&f.cells.length===A.length)return ye.some(GM.fullTable(f.table));if(A.length>0){if(b)return ye.some(GM.partialTable(A,ye.none()));{const M=dF(a,r);return ye.some(GM.partialTable(A,ye.some({...r,rng:M})))}}else return ye.none()}),hoe=(t,r,a,u)=>cF(t,r,a,u).bind(({start:f,end:b})=>{const A=f.bind(uF).getOr([]),M=b.bind(uF).getOr([]);if(A.length>0&&M.length>0){const N=dF(a,r);return ye.some(GM.multiTable(A,M,N))}else return ye.none()}),foe=(t,r)=>{const a=dSe(t),u=fSe(r,a),f=aoe(r,a);return h8(u,r,a)?u.map(b=>GM.singleCellTable(r,b.start)):f.isMultiTable?hoe(u,f,r,a):doe(u,f,r,a)},f8=t=>qe(t,r=>{vl(r,"contenteditable"),F(r)}),p8=(t,r)=>ye.from(t.dom.getParent(r,t.dom.isBlock)).map(st.fromDom),poe=(t,r,a)=>{a.each(u=>{r?Ni(u):(F(u),t.selection.setCursorLocation(u.dom,0))})},ZM=(t,r,a,u)=>{const f=a.cloneRange();u?(f.setStart(a.startContainer,a.startOffset),f.setEndAfter(r.dom.lastChild)):(f.setStartBefore(r.dom.firstChild),f.setEnd(a.endContainer,a.endOffset)),hF(t,f,r,!1).each(b=>b())},m8=t=>{const r=U1(t),a=st.fromDom(t.selection.getNode());Zp(a.dom)&&Vu(t.schema,a)?t.selection.setCursorLocation(a.dom,0):t.selection.collapse(!0),r.length>1&&cn(r,u=>Lo(u,a))&&ha(a,"data-mce-selected","1")},moe=(t,r,a)=>ye.some(()=>{const u=t.selection.getRng(),f=a.bind(({rng:b,isStartInTable:A})=>{const M=p8(t,A?b.endContainer:b.startContainer);b.deleteContents(),poe(t,A,M.filter(Xe(Vu,t.schema)));const N=A?r[0]:r[r.length-1];return ZM(t,N,u,A),Vu(t.schema,N)?ye.none():ye.some(A?r.slice(1):r.slice(0,-1))}).getOr(r);f8(f),m8(t)}),goe=(t,r,a,u)=>ye.some(()=>{const f=t.selection.getRng(),b=r[0],A=a[a.length-1];ZM(t,b,f,!0),ZM(t,A,f,!1);const M=Vu(t.schema,b)?r:r.slice(1),N=Vu(t.schema,A)?a:a.slice(0,-1);f8(M.concat(N)),u.deleteContents(),m8(t)}),hF=(t,r,a,u=!0)=>ye.some(()=>{c8(t,r,a,u)}),pSe=(t,r)=>ye.some(()=>q1(t,!1,r)),voe=(t,r,a)=>foe(r,a).bind(u=>u.fold(Xe(hF,t),Xe(pSe,t),Xe(moe,t),Xe(goe,t))),ti=(t,r)=>zA(t,r),XI=(t,r,a,u)=>UA(r,u).fold(()=>voe(t,r,a),f=>ti(t,f)),Z1=(t,r,a)=>{const u=st.fromDom(t.getBody()),f=t.selection.getRng();return a.length!==0?moe(t,a,ye.none()):XI(t,u,f,r)},RC=(t,r)=>Et(T0(r,t),m),UA=(t,r)=>Et(T0(r,t),El("caption")),fF=(t,r,a,u,f)=>b0(a,t.getBody(),f).bind(b=>RC(r,st.fromDom(b.getNode())).bind(A=>Lo(A,u)?ye.none():ye.some(St))),zA=(t,r)=>ye.some(()=>{F(r),t.selection.setCursorLocation(r.dom,0)}),g8=(t,r,a,u)=>hu(t.dom).bind(f=>xf(t.dom).map(b=>r?a.isEqual(f)&&u.isEqual(b):a.isEqual(b)&&u.isEqual(f))).getOr(!0),yoe=(t,r)=>zA(t,r),v8=(t,r,a)=>UA(t,st.fromDom(a.getNode())).fold(()=>ye.some(St),u=>Tc(!Lo(u,r),St)),y8=(t,r,a,u,f)=>b0(a,t.getBody(),f).fold(()=>ye.some(St),b=>g8(u,a,f,b)?yoe(t,u):v8(r,u,b)),boe=(t,r,a,u)=>{const f=gn.fromRangeStart(t.selection.getRng());return RC(a,u).bind(b=>Vu(t.schema,b,{checkRootAsContent:!1})?zA(t,b):fF(t,a,r,b,f))},Soe=(t,r,a,u)=>{const f=gn.fromRangeStart(t.selection.getRng());return Vu(t.schema,u)?zA(t,u):y8(t,a,r,u,f)},b8=(t,r)=>t?Nj(r):YB(r),Coe=(t,r)=>{const a=gn.fromRangeStart(t.selection.getRng());return b8(r,a)||Af(r,t.getBody(),a).exists(u=>b8(r,u))},Eoe=(t,r,a)=>{const u=st.fromDom(t.getBody());return UA(u,a).fold(()=>boe(t,r,u,a).orThunk(()=>Tc(Coe(t,r),St)),f=>Soe(t,r,u,f))},pF=(t,r)=>{const a=st.fromDom(t.selection.getStart(!0)),u=U1(t);return t.selection.isCollapsed()&&u.length===0?Eoe(t,r,a):Z1(t,a,u)},kC=(t,r)=>{let a=r;for(;a&&a!==t;){if(au(a)||ai(a))return a;a=a.parentNode}return null},S8=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],mSe=Jn.each,C8=t=>{const r=t.dom,a=new Set(t.serializer.getTempAttrs()),u=(b,A)=>{if(b.nodeName!==A.nodeName||b.nodeType!==A.nodeType)return!1;const M=G=>{const le={};return mSe(r.getAttribs(G),fe=>{const be=fe.nodeName.toLowerCase();be!=="style"&&!f(be)&&(le[be]=r.getAttrib(G,be))}),le},N=(G,le)=>{for(const fe in G)if(Xo(G,fe)){const be=le[fe];if(et(be)||G[fe]!==be)return!1;delete le[fe]}for(const fe in le)if(Xo(le,fe))return!1;return!0};return Ho(b)&&Ho(A)&&(!N(M(b),M(A))||!N(r.parseStyle(r.getAttrib(b,"style")),r.parseStyle(r.getAttrib(A,"style"))))?!1:!am(b)&&!am(A)},f=b=>cn(S8,A=>As(b,A))||a.has(b);return{compare:u,isAttributeInternal:f}},woe=(t,r)=>{if(Wn(t))return{container:t,offset:r};const a=_0.getNode(t,r);return Wn(a)?{container:a,offset:r>=t.childNodes.length?a.data.length:0}:a.previousSibling&&Wn(a.previousSibling)?{container:a.previousSibling,offset:a.previousSibling.data.length}:a.nextSibling&&Wn(a.nextSibling)?{container:a.nextSibling,offset:0}:{container:t,offset:r}},_oe=t=>{const r=t.cloneRange(),a=woe(t.startContainer,t.startOffset);r.setStart(a.container,a.offset);const u=woe(t.endContainer,t.endOffset);return r.setEnd(u.container,u.offset),r},YM=yi.DOM,gSe=()=>YM.create("span",{"data-mce-type":"bookmark"}),E8=(t,r,a)=>{if(Ho(t)){const u=a();return t.hasChildNodes()?r===t.childNodes.length?t.appendChild(u):t.insertBefore(u,t.childNodes[r]):t.appendChild(u),{container:u,offset:0}}else return{container:t,offset:r}},w8=(t,r)=>{const a=u=>{let f=u.parentNode?.firstChild,b=0;for(;f;){if(f===u)return b;(!Ho(f)||f.getAttribute("data-mce-type")!=="bookmark")&&b++,f=f.nextSibling}return-1};if(Ho(t)&&Re(t.parentNode)){const u=t;r=a(t),t=t.parentNode,YM.remove(u),!t.hasChildNodes()&&YM.isBlock(t)&&t.appendChild(YM.create("br"))}return{container:t,offset:r}},Toe=(t,r,a,u)=>{const f=YM.createRng();return f.setStart(t,r),f.setEnd(a,u),_oe(f)},Y1=(t,r=gSe)=>{const{container:a,offset:u}=E8(t.startContainer,t.startOffset,r);if(t.collapsed)return{startContainer:a,startOffset:u};{const{container:f,offset:b}=E8(t.endContainer,t.endOffset,r);return{startContainer:a,startOffset:u,endContainer:f,endOffset:b}}},zc=t=>{const{container:r,offset:a}=w8(t.startContainer,t.startOffset);if(!et(t.endContainer)&&!et(t.endOffset)){const{container:u,offset:f}=w8(t.endContainer,t.endOffset);return Toe(r,a,u,f)}else return Toe(r,a,r,a)},Aoe=(t,r,a,u)=>{if(Jn.each(a.styles,(f,b)=>{t.setStyle(r,b,W(f,u))}),a.styles){const f=t.getAttrib(r,"style");f&&t.setAttrib(r,"data-mce-style",f)}},jA=(t,r,a,u,f)=>{const b=t.dom;_e(a.onformat)&&a.onformat(r,a,u,f),Aoe(b,r,a,u),Jn.each(a.attributes,(A,M)=>{b.setAttrib(r,M,W(A,u))}),Jn.each(a.classes,A=>{const M=W(A,u);b.hasClass(r,M)||b.addClass(r,M)})},_8=t=>!Te(t.attributes)&&!Te(t.styles),T8=re,A8=(t,r,a)=>{const u=t.formatter.get(a);if(u)for(let f=0;f<u.length;f++){const b=u[f];if(yn(b)&&b.inherit===!1&&t.dom.is(r,b.selector))return!0}return!1},mF=(t,r,a,u,f)=>{const b=t.dom.getRoot();if(r===b)return!1;const A=t.dom.getParent(r,M=>A8(t,M,a)?!0:M.parentNode===b||!!ly(t,M,a,u,!0));return!!ly(t,A,a,u,f)},XM=(t,r,a)=>On(a)&&T8(r,a.inline)||To(a)&&T8(r,a.block)?!0:yn(a)?Ho(r)&&t.is(r,a.selector):!1,JM=(t,r,a,u,f,b)=>{const A=a[u],M=u==="attributes";if(_e(a.onmatch))return a.onmatch(r,a,u);if(A){if(sf(A)){for(let N=0;N<A.length;N++)if(M?t.getAttrib(r,A[N]):Oe(t,r,A[N]))return!0}else for(const N in A)if(Xo(A,N)){const G=M?t.getAttrib(r,N):Oe(t,r,N),le=W(A[N],b),fe=$e(G)||mc(G);if(fe&&$e(le))continue;if(f&&fe&&!a.exact||(!f||a.exact)&&!T8(G,pe(le,N)))return!1}}return!0},ly=(t,r,a,u,f)=>{const b=t.formatter.get(a),A=t.dom;if(b&&Ho(r))for(let M=0;M<b.length;M++){const N=b[M];if(XM(t.dom,r,N)&&JM(A,r,N,"attributes",f,u)&&JM(A,r,N,"styles",f,u)){const G=N.classes;if(G){for(let le=0;le<G.length;le++)if(!t.dom.hasClass(r,W(G[le],u)))return}return N}}},gF=(t,r,a,u,f)=>{if(u)return mF(t,u,r,a,f);if(u=t.selection.getNode(),mF(t,u,r,a,f))return!0;const b=t.selection.getStart();return!!(b!==u&&mF(t,b,r,a,f))},xoe=(t,r,a)=>{const u=[],f={},b=t.selection.getStart();return t.dom.getParent(b,A=>{for(let M=0;M<r.length;M++){const N=r[M];!f[N]&&ly(t,A,N,a)&&(f[N]=!0,u.push(N))}},t.dom.getRoot()),u},ya=(t,r)=>{const a=f=>Lo(f,st.fromDom(t.getBody())),u=(f,b)=>ly(t,f.dom,b)?ye.some(b):ye.none();return ye.from(t.selection.getStart(!0)).bind(f=>Bu(st.fromDom(f),b=>Pt(r,A=>u(b,A)),a)).getOrNull()},Ooe=(t,r)=>{const a=t.formatter.get(r),u=t.dom;if(a&&t.selection.isEditable()){const f=t.selection.getStart(),b=tt(u,f);for(let A=a.length-1;A>=0;A--){const M=a[A];if(!yn(M))return!0;for(let N=b.length-1;N>=0;N--)if(u.is(b[N],M.selector))return!0}}return!1},Ioe=(t,r,a)=>Gt(a,(u,f)=>{const b=Qt(t,f);return t.formatter.matchNode(r,f,{},b)?u.concat([f]):u},[]),X1=K,x8=(t,r)=>t.importNode(r,!0),O8=t=>{if(t){const r=new Yi(t,t);for(let a=r.current();a;a=r.next())if(Wn(a))return a}return null},vF=t=>{const r=st.fromTag("span");return Pa(r,{id:OA,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&zr(r,st.fromText(X1)),r},Roe=t=>{const r=O8(t);return r&&r.data.charAt(0)===X1&&r.deleteData(0,1),r},QM=(t,r,a)=>{const u=t.dom,f=t.selection;if(Ri(r))q1(t,!1,st.fromDom(r),a,!0);else{const b=f.getRng(),A=u.getParent(r,u.isBlock),M=b.startContainer,N=b.startOffset,G=b.endContainer,le=b.endOffset,fe=Roe(r);u.remove(r,!0),M===fe&&N>0&&b.setStart(fe,N-1),G===fe&&le>0&&b.setEnd(fe,le-1),A&&u.isEmpty(A)&&F(st.fromDom(A)),f.setRng(b)}},yF=(t,r,a)=>{const u=t.dom,f=t.selection;if(r)QM(t,r,a);else if(r=S0(t.getBody(),f.getStart()),!r)for(;r=u.get(OA);)QM(t,r,a)},vSe=(t,r,a)=>{const u=t.dom,f=u.getParent(a,Xe(va,t.schema));f&&u.isEmpty(f)?a.parentNode?.replaceChild(r,a):(R(st.fromDom(a)),u.isEmpty(a)?a.parentNode?.replaceChild(r,a):u.insertAfter(r,a))},koe=(t,r)=>(t.appendChild(r),r),I8=(t,r)=>{const a=Nt(t,(f,b)=>koe(f,b.cloneNode(!1)),r),u=a.ownerDocument??document;return koe(a,u.createTextNode(X1))},Doe=(t,r,a,u,f,b)=>{const A=t.formatter,M=t.dom,N=Ve(wt(A.get()),fe=>fe!==u&&!na(fe,"removeformat")),G=Ioe(t,a,N);if(Ve(G,fe=>!zn(t,fe,u)).length>0){const fe=a.cloneNode(!1);return M.add(r,fe),A.remove(u,f,fe,b),M.remove(fe),ye.some(fe)}else return ye.none()},R8=t=>t0(t,bl(t).replace(new RegExp(`${Pi}$`)," ")),k8=(t,r)=>{const a=()=>{r!==null&&!t.dom.isEmpty(r)&&Nd(st.fromDom(r)).each(u=>{ei(u)?R8(u):Fv(u,f=>ei(f)).each(f=>{ei(f)&&R8(f)})})};t.once("input",u=>{u.data&&!_b(u.data)&&(u.isComposing?t.once("compositionend",()=>{a()}):a())})},D8=(t,r,a)=>{let u;const f=t.selection,b=t.formatter.get(r);if(!b)return;const A=f.getRng();let M=A.startOffset;const G=A.startContainer.nodeValue;u=S0(t.getBody(),f.getStart());const le=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(G&&M>0&&M<G.length&&le.test(G.charAt(M))&&le.test(G.charAt(M-1))){const fe=f.getBookmark();A.collapse(!0);let be=Of(t.dom,A,b);be=cm(be),t.formatter.apply(r,a,be),f.moveToBookmark(fe)}else{let fe=u?O8(u):null;(!u||fe?.data!==X1)&&(u=x8(t.getDoc(),vF(!0).dom),fe=u.firstChild,A.insertNode(u),M=1,k8(t,u)),t.formatter.apply(r,a,u),f.setCursorLocation(fe,M)}},Moe=(t,r,a,u)=>{const f=t.dom,b=t.selection;let A=!1;const M=t.formatter.get(r);if(!M)return;const N=b.getRng(),G=N.startContainer,le=N.startOffset;let fe=G;Wn(G)&&(le!==G.data.length&&(A=!0),fe=fe.parentNode);const be=[];let Le;for(;fe;){if(ly(t,fe,r,a,u)){Le=fe;break}fe.nextSibling&&(A=!0),be.push(fe),fe=fe.parentNode}if(Le)if(A){const Qe=b.getBookmark();N.collapse(!0);let ze=Of(f,N,M,{includeTrailingSpace:!0});ze=cm(ze),t.formatter.remove(r,a,ze,u),b.moveToBookmark(Qe)}else{const Qe=S0(t.getBody(),Le),ze=Re(Qe)?f.getParents(Le.parentNode,un,Qe):[],nt=vF(!1).dom;vSe(t,nt,Qe??Le);const Mt=Doe(t,nt,Le,r,a,u),Bt=I8([...be,...Mt.toArray(),...ze],nt);Qe&&QM(t,Qe,Re(Qe)),b.setCursorLocation(Bt,1),k8(t,nt),f.isEmpty(Le)&&f.remove(Le)}},Nr=(t,r,a)=>{const u=t.selection,f=t.getBody();yF(t,null,a),(r===8||r===46)&&u.isCollapsed()&&u.getStart().innerHTML===X1&&yF(t,S0(f,u.getStart()),!0),(r===37||r===39)&&yF(t,S0(f,u.getStart()),!0)},M8=t=>Wn(t)&&Wi(t.data,Pi),JI=t=>{t.on("mouseup keydown",r=>{Nr(t,r.keyCode,M8(t.selection.getRng().endContainer))})},WA=t=>{const r=vF(!1),a=I8(t,r.dom);return{caretContainer:r,caretPosition:gn(a,0)}},GA=(t,r)=>{const{caretContainer:a,caretPosition:u}=WA(r);return Oc(st.fromDom(t),a),Ni(st.fromDom(t)),u},QI=(t,r)=>{const{caretContainer:a,caretPosition:u}=WA(r);return t.insertNode(a.dom),u},bF=(t,r)=>{if(Jm(r.dom))return!1;const a=t.schema.getTextInlineElements();return Xo(a,Us(r))&&!Jm(r.dom)&&!Fg(r.dom)},Poe=["fontWeight","fontStyle","color","fontSize","fontFamily"],ySe=t=>Se(t.styles)&&cn(wt(t.styles),r=>xt(Poe,r)),bSe=t=>Et(t,r=>On(r)&&r.inline==="span"&&ySe(r)),Noe=(t,r)=>{const a=t.get(r);return Te(a)?bSe(a):ye.none()},P8=(t,r)=>du(r,gn.fromRangeStart(t)).isNone(),Loe=(t,r)=>jh(r,gn.fromRangeEnd(t)).exists(a=>!ga(a.getNode())||jh(r,a).isSome())===!1,N8=t=>r=>Vm(r)&&t.isEditable(r),Boe=t=>{const r=t.getSelectedBlocks(),a=t.getRng();if(t.isCollapsed())return[];if(r.length===1)return P8(a,r[0])&&Loe(a,r[0])?r:[];{const u=je(r).filter(A=>P8(a,A)).toArray(),f=rt(r).filter(A=>Loe(a,A)).toArray(),b=r.slice(1,-1);return u.concat(b).concat(f)}},SSe=t=>Ve(Boe(t),N8(t.dom)),L8=t=>Ve(t.getSelectedBlocks(),N8(t.dom)),ba=Jn.each,B8=t=>Ho(t)&&!am(t)&&!Jm(t)&&!Fg(t),Foe=(t,r)=>{for(let a=t;a;a=a[r]){if(Wn(a)&&gi(a.data))return t;if(Ho(a)&&!am(a))return a}return t},F8=(t,r,a)=>{const u=C8(t),f=ma(r)&&t.dom.isEditable(r),b=ma(a)&&t.dom.isEditable(a);if(f&&b){const A=Foe(r,"previousSibling"),M=Foe(a,"nextSibling");if(u.compare(A,M)){for(let N=A.nextSibling;N&&N!==M;){const G=N;N=N.nextSibling,A.appendChild(G)}return t.dom.remove(M),Jn.each(Jn.grep(M.childNodes),N=>{A.appendChild(N)}),A}}return a},qA=(t,r,a,u)=>{if(u&&r.merge_siblings!==!1){const f=F8(t,mM(u),u)??u;F8(t,f,mM(f,!0))}},Voe=(t,r,a)=>{if(r.clear_child_styles){const u=r.links?"*:not(a)":"*";ba(t.select(u,a),f=>{B8(f)&&t.isEditable(f)&&ba(r.styles,(b,A)=>{t.setStyle(f,A,"")})})}},SF=(t,r,a)=>{ba(t.childNodes,u=>{B8(u)&&(r(u)&&a(u),u.hasChildNodes()&&SF(u,r,a))})},J1=(t,r)=>{r.nodeName==="SPAN"&&t.getAttribs(r).length===0&&t.remove(r,!0)},pi=(t,r)=>a=>!!(a&&Oe(t,a,r)),jc=(t,r,a)=>u=>{t.setStyle(u,r,a),u.getAttribute("style")===""&&u.removeAttribute("style"),J1(t,u)},yp=oi.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Hoe=/^(src|href|style)$/,CF=Jn.each,eP=re,$oe=t=>/^(TR|TH|TD)$/.test(t.nodeName),EF=(t,r,a)=>t.isChildOf(r,a)&&r!==a&&!t.isBlock(a),KA=(t,r,a)=>{let u=r[a?"startContainer":"endContainer"],f=r[a?"startOffset":"endOffset"];if(Ho(u)){const b=u.childNodes.length-1;!a&&f&&f--,u=u.childNodes[f>b?b:f]}return Wn(u)&&a&&f>=u.data.length&&(u=new Yi(u,t.getBody()).next()||u),Wn(u)&&!a&&f===0&&(u=new Yi(u,t.getBody()).prev()||u),u},wF=(t,r)=>{const a=r?"firstChild":"lastChild",u=t[a];return $oe(t)&&u?t.nodeName==="TR"&&u[a]||u:t},tP=(t,r,a,u)=>{const f=t.create(a,u);return r.parentNode?.insertBefore(f,r),f.appendChild(r),f},V8=(t,r,a,u,f)=>{const b=st.fromDom(r),A=st.fromDom(t.create(u,f)),M=a?ra(b):Gl(b);return ah(A,M),a?(Oc(b,A),np(A,b)):(ih(b,A),zr(A,b)),A.dom},Uoe=(t,r)=>r.links&&t.nodeName==="A",H8=(t,r,a)=>{const u=r.parentNode;let f;const b=t.dom,A=zu(t);To(a)&&u===b.getRoot()&&(!a.list_block||!eP(r,a.list_block))&&qe(Je(r.childNodes),M=>{j1(t,A,M.nodeName.toLowerCase())?f?f.appendChild(M):(f=tP(b,M,A),b.setAttribs(f,vC(t))):f=null}),!(Ms(a)&&!eP(a.inline,r))&&b.remove(r,!0)},_F=(t,r,a)=>ut(t)?{name:r,value:null}:{name:t,value:W(r,a)},$8=(t,r)=>{t.getAttrib(r,"style")===""&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style"))},U8=(t,r,a,u,f)=>{let b=!1;CF(a.styles,(A,M)=>{const{name:N,value:G}=_F(M,A,u),le=pe(G,N);(a.remove_similar||V(G)||!Ho(f)||eP(Oe(t,f,N),le))&&t.setStyle(r,N,""),b=!0}),b&&$8(t,r)},zoe=(t,r,a)=>{r==="removeformat"?qe(L8(t.selection),u=>{qe(Poe,f=>t.dom.setStyle(u,f,"")),$8(t.dom,u)}):Noe(t.formatter,r).each(u=>{qe(L8(t.selection),f=>U8(t.dom,f,u,a,null))})},TF=(t,r,a,u,f)=>{const b=t.dom,A=C8(t),M=t.schema;if(On(r)&&Fc(M,r.inline)&&Nn(M,u)&&u.parentElement===t.getBody())return H8(t,u,r),yp.removed();if(!r.ceFalseOverride&&u&&b.getContentEditableParent(u)==="false"||u&&!XM(b,u,r)&&!Uoe(u,r))return yp.keep();const N=u,G=r.preserve_attributes;if(On(r)&&r.remove==="all"&&Te(G)){const le=Ve(b.getAttribs(N),fe=>xt(G,fe.name.toLowerCase()));if(b.removeAllAttribs(N),qe(le,fe=>b.setAttrib(N,fe.name,fe.value)),le.length>0)return yp.rename("span")}if(r.remove!=="all"){U8(b,N,r,a,f),CF(r.attributes,(fe,be)=>{const{name:Le,value:Qe}=_F(be,fe,a);if(r.remove_similar||V(Qe)||!Ho(f)||eP(b.getAttrib(f,Le),Qe)){if(Le==="class"){const ze=b.getAttrib(N,Le);if(ze){let nt="";if(qe(ze.split(/\s+/),Mt=>{/mce\-\w+/.test(Mt)&&(nt+=(nt?" ":"")+Mt)}),nt){b.setAttrib(N,Le,nt);return}}}if(Hoe.test(Le)&&N.removeAttribute("data-mce-"+Le),Le==="style"&&Rc(["li"])(N)&&b.getStyle(N,"list-style-type")==="none"){N.removeAttribute(Le),b.setStyle(N,"list-style-type","none");return}Le==="class"&&N.removeAttribute("className"),N.removeAttribute(Le)}}),CF(r.classes,fe=>{fe=W(fe,a),(!Ho(f)||b.hasClass(f,fe))&&b.removeClass(N,fe)});const le=b.getAttribs(N);for(let fe=0;fe<le.length;fe++){const be=le[fe].nodeName;if(!A.isAttributeInternal(be))return yp.keep()}}return r.remove!=="none"?(H8(t,N,r),yp.removed()):yp.keep()},AF=(t,r,a,u,f)=>{let b;return r.parentNode&&qe(tt(t.dom,r.parentNode).reverse(),A=>{if(!b&&Ho(A)&&A.id!=="_start"&&A.id!=="_end"){const M=ly(t,A,a,u,f);M&&M.split!==!1&&(b=A)}}),b},z8=(t,r,a,u)=>TF(t,r,a,u,u).fold(it(u),f=>(t.dom.createFragment().appendChild(u),t.dom.rename(u,f)),it(null)),xF=(t,r,a,u,f,b,A,M)=>{let N,G;const le=t.dom;if(a){const fe=a.parentNode;for(let be=u.parentNode;be&&be!==fe;be=be.parentNode){let Le=le.clone(be,!1);for(let Qe=0;Qe<r.length&&(Le=z8(t,r[Qe],M,Le),Le!==null);Qe++);Le&&(N&&Le.appendChild(N),G||(G=Le),N=Le)}(!A.mixed||!le.isBlock(a))&&(u=le.split(a,u)??u),N&&G&&(f.parentNode?.insertBefore(N,f),G.appendChild(f),On(A)&&qA(t,A,M,N))}return u},CSe=(t,r,a,u,f)=>{const b=t.formatter.get(r),A=b[0],M=t.dom,N=t.selection,G=ze=>{const nt=AF(t,ze,r,a,f);return xF(t,b,nt,ze,ze,!0,A,a)},le=ze=>am(ze)&&Ho(ze)&&(ze.id==="_start"||ze.id==="_end"),fe=ze=>cn(b,nt=>nP(t,nt,a,ze,ze)),be=ze=>{const nt=Je(ze.childNodes),Bt=fe(ze)||cn(b,$n=>XM(M,ze,$n)),zt=ze.parentNode;if(!Bt&&Re(zt)&&er(A)&&fe(zt),A.deep&&nt.length)for(let $n=0;$n<nt.length;$n++)be(nt[$n]);qe(["underline","line-through","overline"],$n=>{Ho(ze)&&t.dom.getStyle(ze,"text-decoration")===$n&&ze.parentNode&&Ue(M,ze.parentNode)===$n&&nP(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:$n}},void 0,ze)})},Le=ze=>{const nt=M.get(ze?"_start":"_end");if(nt){let Mt=nt[ze?"firstChild":"lastChild"];return le(Mt)&&(Mt=Mt[ze?"firstChild":"lastChild"]),Wn(Mt)&&Mt.data.length===0&&(Mt=ze?nt.previousSibling||nt.nextSibling:nt.nextSibling||nt.previousSibling),M.remove(nt,!0),Mt}else return null},Qe=ze=>{let nt,Mt,Bt=Of(M,ze,b,{includeTrailingSpace:ze.collapsed});if(A.split){if(Bt=cm(Bt),nt=KA(t,Bt,!0),Mt=KA(t,Bt),nt!==Mt){if(nt=wF(nt,!0),Mt=wF(Mt,!1),EF(M,nt,Mt)){const _n=ye.from(nt.firstChild).getOr(nt);G(V8(M,_n,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Le(!0);return}if(EF(M,Mt,nt)){const _n=ye.from(Mt.lastChild).getOr(Mt);G(V8(M,_n,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Le(!1);return}nt=tP(M,nt,"span",{id:"_start","data-mce-type":"bookmark"}),Mt=tP(M,Mt,"span",{id:"_end","data-mce-type":"bookmark"});const zt=M.createRng();zt.setStartAfter(nt),zt.setEndBefore(Mt),Uc(M,zt,_n=>{qe(_n,$n=>{!am($n)&&!am($n.parentNode)&&G($n)})}),G(nt),G(Mt),nt=Le(!0),Mt=Le()}else nt=Mt=G(nt);Bt.startContainer=nt.parentNode?nt.parentNode:nt,Bt.startOffset=M.nodeIndex(nt),Bt.endContainer=Mt.parentNode?Mt.parentNode:Mt,Bt.endOffset=M.nodeIndex(Mt)+1}Uc(M,Bt,zt=>{qe(zt,be)})};if(u){if(z1(u)){const ze=M.createRng();ze.setStartBefore(u),ze.setEndAfter(u),Qe(ze)}else Qe(u);aD(t,r,u,a);return}!N.isCollapsed()||!On(A)||U1(t).length?(pM(t,()=>$I(t,Qe),ze=>On(A)&&gF(t,r,a,ze)),t.nodeChanged()):Moe(t,r,a,f),zoe(t,r,a),aD(t,r,u,a)},yd=(t,r,a,u,f)=>{(u||t.selection.isEditable())&&CSe(t,r,a,u,f)},joe=(t,r,a,u)=>TF(t,r,a,u).fold(()=>ye.some(u),f=>ye.some(t.dom.rename(u,f)),ye.none),nP=(t,r,a,u,f)=>TF(t,r,a,u,f).fold(Dt,b=>(t.dom.rename(u,b),!0),un),j8=["fontsize","subscript","superscript"],Woe=["strikethrough",...j8],Goe=(t,r,a)=>Re(t.matchNode(r.dom,a,{},a==="fontsize")),OF=(t,r)=>cn(j8,a=>Goe(t,r,a)),W8=t=>xt(Woe,t),eR=(t,r,a,u,f)=>{const b=Lc(r,t).filter(sa);return fo(b,a).map(A=>{const M=b[A],N=u(M),G=[...f(Tl(M)).toArray(),...io(b.slice(0,A),le=>a(le)?f(le).toArray():[Tl(le)])];return{container:M,innerWrapper:N,outerWrappers:G}})},qoe=(t,r,a,u)=>{qe(yr(t),f=>{sa(f)&&a(f)&&u(f).isNone()&&Pu(f)}),qe(yr(t),f=>zr(r,f)),np(t,r)},G8=(t,r)=>{if(r.length>0){const a=r[r.length-1];Oc(t,a);const u=Gt(r.slice(0,r.length-1),(f,b)=>(zr(f,b),b),a);zr(u,t)}},Koe=(t,r,a,u,f)=>{const b=A=>Lo(st.fromDom(t.getRoot()),A)||t.isBlock(A.dom);qe(r,A=>{eR(b,A,a,u,f).each(({container:M,innerWrapper:N,outerWrappers:G})=>{t.split(M.dom,A.dom),qoe(A,N,a,f),G8(A,G)})})},DC=(t,r,a)=>{const u=M=>Re(ly(t,M.dom,r)),f=M=>{const N=st.fromTag(Us(M)),G=ly(t,M.dom,r,{});return Re(G)&&_8(G)&&jA(t,N.dom,G),N},b=M=>{const N=ly(t,M.dom,r,{});return Re(N)?joe(t,N,{},M.dom).map(st.fromDom):ye.some(M)},A=Y1(t.selection.getRng());Koe(t.dom,a,u,f,b),t.selection.setRng(zc(A))},q8=(t,r)=>io(r,a=>{const u=Ye(a,f=>OF(t,f));return OF(t,a)?[a,...u]:u}),K8=(t,r,a)=>{if(W8(r)){const u=q8(t.formatter,a);DC(t,"strikethrough",u)}},Z8=(t,r)=>{const a=Ve(r,u=>OF(t.formatter,u));DC(t,"strikethrough",a)},IF=t=>["h1","h2","h3","h4","h5","h6"].includes(t.name),Y8=t=>t.name==="summary",Zoe=(t,r)=>{let a=t;for(;a=a.walk();)r(a)},RF=(t,r,a,u)=>{const f=a.name;for(let b=0,A=t.length;b<A;b++){const M=t[b];if(M.name===f){const N=u.nodes[f];N?N.nodes.push(a):u.nodes[f]={filter:M,nodes:[a]}}}if(a.attributes)for(let b=0,A=r.length;b<A;b++){const M=r[b],N=M.name;if(N in a.attributes.map){const G=u.attributes[N];G?G.nodes.push(a):u.attributes[N]={filter:M,nodes:[a]}}}},Yoe=(t,r,a)=>{const u={nodes:{},attributes:{}};return a.firstChild&&Zoe(a,f=>{RF(t,r,f,u)}),u},X8=(t,r)=>{const a=(u,f)=>{en(u,b=>{const A=Je(b.nodes);qe(b.filter.callbacks,M=>{for(let N=A.length-1;N>=0;N--){const G=A[N];(!(f?G.attr(b.filter.name)!==void 0:G.name===b.filter.name)||$e(G.parent))&&A.splice(N,1)}A.length>0&&M(A,b.filter.name,r)})})};a(t.nodes,!1),a(t.attributes,!0)},J8=(t,r,a,u={})=>{const f=Yoe(t,r,a);X8(f,u)},kF=(t,r,a,u)=>{if((t.pad_empty_with_br||r.insert)&&a(u)){const b=new yh("br",1);r.insert&&b.attr("data-mce-bogus","1"),u.empty().append(b)}else u.empty().append(new yh("#text",3)).value=Pi},Xoe=t=>Joe(t,"#text")&&t?.firstChild?.value===Pi,Joe=(t,r)=>{const a=t?.firstChild;return Re(a)&&a===t.lastChild&&a.name===r},Qoe=(t,r)=>t.getElementRule(r.name)?.paddEmpty===!0,tR=(t,r,a,u)=>u.isEmpty(r,a,f=>Qoe(t,f)),ESe=(t,r)=>Re(t)&&(r(t)||t.name==="br"),ese=t=>{let r;for(let a=t;a;a=a.parent){const u=a.attr("contenteditable");if(u==="false")break;u==="true"&&(r=a)}return ye.from(r)},DF=t=>{const r=[];for(let a=t.firstChild;Re(a);a=a.walk())r.push(a);return r},nR=(t,r,a=t.parent)=>{if(r.getSpecialElements()[t.name])t.empty().remove();else{const u=t.children();for(const f of u)a&&!r.isValidChild(a.name,f.name)&&nR(f,r,a);t.unwrap()}},Q8=(t,r,a,u=St)=>{const f=r.getTextBlockElements(),b=r.getNonEmptyElements(),A=r.getWhitespaceElements(),M=Jn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),N=new Set,G=le=>le!==a&&!M[le.name];for(let le=0;le<t.length;le++){const fe=t[le];let be,Le,Qe;if(!fe.parent||N.has(fe))continue;if(f[fe.name]&&fe.parent.name==="li"){let nt=fe.next;for(;nt&&f[nt.name];){nt.name="li",N.add(nt),fe.parent.insert(nt,fe.parent);nt=nt.next}fe.unwrap();continue}const ze=[fe];for(be=fe.parent;be&&!r.isValidChild(be.name,fe.name)&&G(be);be=be.parent)ze.push(be);if(be&&ze.length>1)if(MF(r,fe,be))nR(fe,r);else{ze.reverse(),Le=ze[0].clone(),u(Le);let nt=Le;for(let Mt=0;Mt<ze.length-1;Mt++){r.isValidChild(nt.name,ze[Mt].name)&&Mt>0?(Qe=ze[Mt].clone(),u(Qe),nt.append(Qe)):Qe=nt;for(let Bt=ze[Mt].firstChild;Bt&&Bt!==ze[Mt+1];){const zt=Bt.next;Qe.append(Bt),Bt=zt}nt=Qe}tR(r,b,A,Le)?be.insert(fe,ze[0],!0):(be.insert(Le,ze[0],!0),be.insert(fe,Le)),be=ze[0],(tR(r,b,A,be)||Joe(be,"br"))&&be.empty().remove()}else if(fe.parent){if(fe.name==="li"){let nt=fe.prev;if(nt&&(nt.name==="ul"||nt.name==="ol")){nt.append(fe);continue}if(nt=fe.next,nt&&(nt.name==="ul"||nt.name==="ol")&&nt.firstChild){nt.insert(fe,nt.firstChild,!0);continue}const Mt=new yh("ul",1);u(Mt),fe.wrap(Mt);continue}if(r.isValidChild(fe.parent.name,"div")&&r.isValidChild("div",fe.name)){const nt=new yh("div",1);u(nt),fe.wrap(nt)}else nR(fe,r)}}},wSe=(t,r)=>{let a=t;for(;a;){if(a.name===r)return!0;a=a.parent}return!1},MF=(t,r,a=r.parent)=>a?t.children[r.name]&&!t.isValidChild(a.name,r.name)||r.name==="a"&&wSe(a,"a")?!0:Y8(a)&&IF(r)?!(a?.firstChild===r&&a?.lastChild===r):!1:!1,tse=(t,r,a,u)=>{const f=document.createRange();return f.setStart(t,r),f.setEnd(a,u),f},nse=t=>{const r=gn.fromRangeStart(t),a=gn.fromRangeEnd(t),u=t.commonAncestorContainer;return Af(!1,u,a).map(f=>!ov(r,a,u)&&ov(r,f,u)?tse(r.container(),r.offset(),f.container(),f.offset()):t).getOr(t)},oP=t=>t.collapsed?t:nse(t),e7=Jn.explode,t7=()=>{const t={};return{addFilter:(f,b)=>{qe(e7(f),A=>{Xo(t,A)||(t[A]={name:A,callbacks:[]}),t[A].callbacks.push(b)})},getFilters:()=>or(t),removeFilter:(f,b)=>{qe(e7(f),A=>{if(Xo(t,A))if(Re(b)){const M=t[A],N=Ve(M.callbacks,G=>G!==b);N.length>0?M.callbacks=N:delete t[A]}else delete t[A]})}}},ose=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n7=t=>t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),sse=(t,r)=>{qe(r,a=>{t.attr(a,null)})},rse=(t,r,a)=>{t.addNodeFilter("font",u=>{qe(u,f=>{const b=r.parse(f.attr("style")),A=f.attr("color"),M=f.attr("face"),N=f.attr("size");A&&(b.color=A),M&&(b["font-family"]=M),N&&of(N).each(G=>{b["font-size"]=a[G-1]}),f.name="span",f.attr("style",r.serialize(b)),sse(f,["color","face","size"])})})},Q1=(t,r,a)=>{t.addNodeFilter("strike",u=>{const f=r.type!=="html4";qe(u,b=>{if(f)b.name="s";else{const A=a.parse(b.attr("style"));A["text-decoration"]="line-through",b.name="span",b.attr("style",a.serialize(A))}})})},ise=(t,r,a)=>{const u=mb();r.convert_fonts_to_spans&&rse(t,u,Jn.explode(r.font_size_legacy_values??"")),Q1(t,a,u)},o7=(t,r,a)=>{r.inline_styles&&ise(t,r,a)},ase=t=>fetch(t).then(r=>r.ok?r.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${t} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),lse=t=>{const r=/([a-z0-9+\/=\s]+)/i.exec(t);return r?r[1]:""},s7=t=>{try{return decodeURIComponent(t)}catch{return t}},sP=t=>{const[r,...a]=t.split(","),u=a.join(","),f=/data:([^/]+\/[^;]+)(;.+)?/.exec(r);if(f){const b=f[2]===";base64",A=s7(u),M=b?lse(A):A;return ye.some({type:f[1],data:M,base64Encoded:b})}else return ye.none()},PF=(t,r,a=!0)=>{let u=r;if(a)try{u=atob(r)}catch{return ye.none()}const f=new Uint8Array(u.length);for(let b=0;b<f.length;b++)f[b]=u.charCodeAt(b);return ye.some(new Blob([f],{type:t}))},r7=t=>new Promise((r,a)=>{sP(t).bind(({type:u,data:f,base64Encoded:b})=>PF(u,f,b)).fold(()=>a("Invalid data URI"),r)}),cse=t=>As(t,"blob:")?ase(t):As(t,"data:")?r7(t):Promise.reject("Unknown URI format"),i7=t=>new Promise((r,a)=>{const u=new FileReader;u.onloadend=()=>{r(u.result)},u.onerror=()=>{a(u.error?.message)},u.readAsDataURL(t)});let use=0;const dse=t=>"blobid"+use++,a7=(t,r,a)=>sP(t).bind(({data:u,type:f,base64Encoded:b})=>{if(r&&!b)return ye.none();{const A=b?u:btoa(u);return a(A,f)}}),MC=(t,r,a)=>{const u=t.create(dse(),r,a);return t.add(u),u},NF=(t,r,a=!1)=>a7(r,a,(u,f)=>ye.from(t.getByData(u,f)).orThunk(()=>PF(f,u).map(b=>MC(t,b,u)))),hse=(t,r)=>{const a=()=>Promise.reject("Invalid data URI");if(As(r,"blob:")){const u=t.getByUri(r);return Re(u)?Promise.resolve(u):cse(r).then(f=>i7(f).then(b=>a7(b,!1,A=>ye.some(MC(t,f,A))).getOrThunk(a)))}else return As(r,"data:")?NF(t,r).fold(a,u=>Promise.resolve(u)):Promise.reject("Unknown image data format")},fse=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,LF=t=>ye.from(t.match(fse)).bind(r=>xe(r,1)).map(r=>As(r,"www.")?r.substring(4):r),l7=(t,r)=>{ye.from(t.attr("src")).bind(LF).forall(a=>!xt(r,a))&&t.attr("sandbox","")},oR=(t,r)=>As(t,`${r}/`),c7=t=>et(t)?"iframe":oR(t,"image")?"img":oR(t,"video")?"video":oR(t,"audio")?"audio":"iframe",pse=({type:t,src:r,width:a,height:u}={},f,b)=>{const A=c7(t),M=new yh(A,1);return M.attr(A==="audio"?{src:r}:{src:r,width:a,height:u}),(A==="audio"||A==="video")&&M.attr("controls",""),A==="iframe"&&f&&l7(M,b),M},mse=t=>Re(t.attr("data-mce-bogus")),rP=t=>t.attr("src")===xr.transparentSrc||Re(t.attr("data-mce-placeholder")),gse=(t,r)=>{const{blob_cache:a}=r;if(a){const u=f=>{const b=f.attr("src");rP(f)||mse(f)||$e(b)||NF(a,b,!0).each(A=>{f.attr("src",A.blobUri())})};t.addAttributeFilter("src",f=>qe(f,u))}},u7=(t,r)=>{const a=t.schema;t.addAttributeFilter("href",A=>{let M=A.length;const N=le=>le.split(" ").filter(be=>be.length>0).concat(["noopener"]).sort().join(" "),G=le=>{const fe=le?Jn.trim(le):"";return/\b(noopener)\b/g.test(fe)?fe:N(fe)};if(!r.allow_unsafe_link_target)for(;M--;){const le=A[M];le.name==="a"&&le.attr("target")==="_blank"&&le.attr("rel",G(le.attr("rel")))}}),r.allow_html_in_named_anchor||t.addAttributeFilter("id,name",A=>{let M=A.length,N,G,le,fe;for(;M--;)if(fe=A[M],fe.name==="a"&&fe.firstChild&&!fe.attr("href"))for(le=fe.parent,N=fe.lastChild;N&&le;)G=N.prev,le.insert(N,fe),N=G}),r.fix_list_elements&&t.addNodeFilter("ul,ol",A=>{let M=A.length,N,G;for(;M--;)if(N=A[M],G=N.parent,G&&(G.name==="ul"||G.name==="ol"))if(N.prev&&N.prev.name==="li")N.prev.append(N);else{const le=new yh("li",1);le.attr("style","list-style-type: none"),N.wrap(le)}});const u=a.getValidClasses();r.validate&&u&&t.addAttributeFilter("class",A=>{let M=A.length;for(;M--;){const N=A[M],G=N.attr("class")??"",le=Jn.explode(G," ");let fe="";for(let be=0;be<le.length;be++){const Le=le[be];let Qe=!1,ze=u["*"];ze&&ze[Le]&&(Qe=!0),ze=u[N.name],!Qe&&ze&&ze[Le]&&(Qe=!0),Qe&&(fe&&(fe+=" "),fe+=Le)}fe.length||(fe=null),N.attr("class",fe)}}),gse(t,r);const f=r.sandbox_iframes??!1,b=kt(r.sandbox_iframes_exclusions??[]);r.convert_unsafe_embeds&&t.addNodeFilter("object,embed",A=>qe(A,M=>{M.replace(pse({type:M.attr("type"),src:M.name==="object"?M.attr("data"):M.attr("src"),width:M.attr("width"),height:M.attr("height")},f,b))})),f&&t.addNodeFilter("iframe",A=>qe(A,M=>l7(M,b)))};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:d7,setPrototypeOf:BF,isFrozen:h7,getPrototypeOf:f7,getOwnPropertyDescriptor:vse}=Object;let{freeze:bp,seal:cy,create:p7}=Object,{apply:FF,construct:kf}=typeof Reflect<"u"&&Reflect;bp||(bp=function(r){return r}),cy||(cy=function(r){return r}),FF||(FF=function(r,a,u){return r.apply(a,u)}),kf||(kf=function(r,a){return new r(...a)});const sR=Gh(Array.prototype.forEach),yse=Gh(Array.prototype.lastIndexOf),VF=Gh(Array.prototype.pop),rR=Gh(Array.prototype.push),bse=Gh(Array.prototype.splice),iP=Gh(String.prototype.toLowerCase),PC=Gh(String.prototype.toString),qw=Gh(String.prototype.match),aP=Gh(String.prototype.replace),Sse=Gh(String.prototype.indexOf),Cse=Gh(String.prototype.trim),bd=Gh(Object.prototype.hasOwnProperty),hm=Gh(RegExp.prototype.test),iR=Ese(TypeError);function Gh(t){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var a=arguments.length,u=new Array(a>1?a-1:0),f=1;f<a;f++)u[f-1]=arguments[f];return FF(t,r,u)}}function Ese(t){return function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return kf(t,a)}}function ca(t,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:iP;BF&&BF(t,null);let u=r.length;for(;u--;){let f=r[u];if(typeof f=="string"){const b=a(f);b!==f&&(h7(r)||(r[u]=b),f=b)}t[f]=!0}return t}function HF(t){for(let r=0;r<t.length;r++)bd(t,r)||(t[r]=null);return t}function A0(t){const r=p7(null);for(const[a,u]of d7(t))bd(t,a)&&(Array.isArray(u)?r[a]=HF(u):u&&typeof u=="object"&&u.constructor===Object?r[a]=A0(u):r[a]=u);return r}function aR(t,r){for(;t!==null;){const u=vse(t,r);if(u){if(u.get)return Gh(u.get);if(typeof u.value=="function")return Gh(u.value)}t=f7(t)}function a(){return null}return a}const wse=bp(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),x0=bp(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$F=bp(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),_se=bp(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),UF=bp(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ir=bp(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),m7=bp(["#text"]),g7=bp(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),lP=bp(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),v7=bp(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),cP=bp(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Zl=cy(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Tse=cy(/<%[\w\W]*|[\w\W]*%>/gm),Ase=cy(/\$\{[\w\W]*/gm),xse=cy(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ose=cy(/^aria-[\-\w]+$/),ol=cy(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),y7=cy(/^(?:\w+script|data):/i),b7=cy(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),S7=cy(/^html$/i),C7=cy(/^[a-z][.\w]*(-[.\w]+)+$/i);var E7=Object.freeze({__proto__:null,ARIA_ATTR:Ose,ATTR_WHITESPACE:b7,CUSTOM_ELEMENT:C7,DATA_ATTR:xse,DOCTYPE_NAME:S7,ERB_EXPR:Tse,IS_ALLOWED_URI:ol,IS_SCRIPT_OR_DATA:y7,MUSTACHE_EXPR:Zl,TMPLIT_EXPR:Ase});const lv={element:1,text:3,progressingInstruction:7,comment:8,document:9},zF=function(){return typeof window>"u"?null:window},Ise=function(r,a){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let u=null;const f="data-tt-policy-suffix";a&&a.hasAttribute(f)&&(u=a.getAttribute(f));const b="dompurify"+(u?"#"+u:"");try{return r.createPolicy(b,{createHTML(A){return A},createScriptURL(A){return A}})}catch{return console.warn("TrustedTypes policy "+b+" could not be created."),null}},w7=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function uP(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zF();const r=Vr=>uP(Vr);if(r.version="3.2.6",r.removed=[],!t||!t.document||t.document.nodeType!==lv.document||!t.Element)return r.isSupported=!1,r;let{document:a}=t;const u=a,f=u.currentScript,{DocumentFragment:b,HTMLTemplateElement:A,Node:M,Element:N,NodeFilter:G,NamedNodeMap:le=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:fe,DOMParser:be,trustedTypes:Le}=t,Qe=N.prototype,ze=aR(Qe,"cloneNode"),nt=aR(Qe,"remove"),Mt=aR(Qe,"nextSibling"),Bt=aR(Qe,"childNodes"),zt=aR(Qe,"parentNode");if(typeof A=="function"){const Vr=a.createElement("template");Vr.content&&Vr.content.ownerDocument&&(a=Vr.content.ownerDocument)}let _n,$n="";const{implementation:xo,createNodeIterator:oo,createDocumentFragment:An,getElementsByTagName:wn}=a,{importNode:Un}=u;let Zo=w7();r.isSupported=typeof d7=="function"&&typeof zt=="function"&&xo&&xo.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ls,ERB_EXPR:gr,TMPLIT_EXPR:Lr,DATA_ATTR:Sa,ARIA_ATTR:Ra,IS_SCRIPT_OR_DATA:wc,ATTR_WHITESPACE:qc,CUSTOM_ELEMENT:vv}=E7;let{IS_ALLOWED_URI:Mo}=E7,ws=null;const Bi=ca({},[...wse,...x0,...$F,...UF,...m7]);let Di=null;const fs=ca({},[...g7,...lP,...v7,...cP]);let uo=Object.seal(p7(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Io=null,Fs=null,nr=!0,Ki=!0,ka=!1,yv=!0,mm=!1,Mb=!0,Pb=!1,gm=!1,xp=!1,wy=!1,Px=!1,Nx=!1,OL=!0,$s=!1;const Zr="user-content-";let cc=!0,Ba=!1,Ji={},Yl=null;const vm=ca({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Pf=null;const bv=ca({},["audio","video","img","source","image","track"]);let uS=null;const IL=ca({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),RL="http://www.w3.org/1998/Math/MathML",gk="http://www.w3.org/2000/svg",$0="http://www.w3.org/1999/xhtml";let Lx=$0,h5=!1,kL=null;const WSe=ca({},[RL,gk,$0],PC);let f5=ca({},["mi","mo","mn","ms","mtext"]),p5=ca({},["annotation-xml"]);const GSe=ca({},["title","style","font","a","script"]);let DL=null;const Bx=["application/xhtml+xml","text/html"],zY="text/html";let on=null,dn=null;const Bo=a.createElement("form"),Co=function(fn){return fn instanceof RegExp||fn instanceof Function},Zs=function(){let fn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(dn&&dn===fn)){if((!fn||typeof fn!="object")&&(fn={}),fn=A0(fn),DL=Bx.indexOf(fn.PARSER_MEDIA_TYPE)===-1?zY:fn.PARSER_MEDIA_TYPE,on=DL==="application/xhtml+xml"?PC:iP,ws=bd(fn,"ALLOWED_TAGS")?ca({},fn.ALLOWED_TAGS,on):Bi,Di=bd(fn,"ALLOWED_ATTR")?ca({},fn.ALLOWED_ATTR,on):fs,kL=bd(fn,"ALLOWED_NAMESPACES")?ca({},fn.ALLOWED_NAMESPACES,PC):WSe,uS=bd(fn,"ADD_URI_SAFE_ATTR")?ca(A0(IL),fn.ADD_URI_SAFE_ATTR,on):IL,Pf=bd(fn,"ADD_DATA_URI_TAGS")?ca(A0(bv),fn.ADD_DATA_URI_TAGS,on):bv,Yl=bd(fn,"FORBID_CONTENTS")?ca({},fn.FORBID_CONTENTS,on):vm,Io=bd(fn,"FORBID_TAGS")?ca({},fn.FORBID_TAGS,on):A0({}),Fs=bd(fn,"FORBID_ATTR")?ca({},fn.FORBID_ATTR,on):A0({}),Ji=bd(fn,"USE_PROFILES")?fn.USE_PROFILES:!1,nr=fn.ALLOW_ARIA_ATTR!==!1,Ki=fn.ALLOW_DATA_ATTR!==!1,ka=fn.ALLOW_UNKNOWN_PROTOCOLS||!1,yv=fn.ALLOW_SELF_CLOSE_IN_ATTR!==!1,mm=fn.SAFE_FOR_TEMPLATES||!1,Mb=fn.SAFE_FOR_XML!==!1,Pb=fn.WHOLE_DOCUMENT||!1,wy=fn.RETURN_DOM||!1,Px=fn.RETURN_DOM_FRAGMENT||!1,Nx=fn.RETURN_TRUSTED_TYPE||!1,xp=fn.FORCE_BODY||!1,OL=fn.SANITIZE_DOM!==!1,$s=fn.SANITIZE_NAMED_PROPS||!1,cc=fn.KEEP_CONTENT!==!1,Ba=fn.IN_PLACE||!1,Mo=fn.ALLOWED_URI_REGEXP||ol,Lx=fn.NAMESPACE||$0,f5=fn.MATHML_TEXT_INTEGRATION_POINTS||f5,p5=fn.HTML_INTEGRATION_POINTS||p5,uo=fn.CUSTOM_ELEMENT_HANDLING||{},fn.CUSTOM_ELEMENT_HANDLING&&Co(fn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(uo.tagNameCheck=fn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),fn.CUSTOM_ELEMENT_HANDLING&&Co(fn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(uo.attributeNameCheck=fn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),fn.CUSTOM_ELEMENT_HANDLING&&typeof fn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(uo.allowCustomizedBuiltInElements=fn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),mm&&(Ki=!1),Px&&(wy=!0),Ji&&(ws=ca({},m7),Di=[],Ji.html===!0&&(ca(ws,wse),ca(Di,g7)),Ji.svg===!0&&(ca(ws,x0),ca(Di,lP),ca(Di,cP)),Ji.svgFilters===!0&&(ca(ws,$F),ca(Di,lP),ca(Di,cP)),Ji.mathMl===!0&&(ca(ws,UF),ca(Di,v7),ca(Di,cP))),fn.ADD_TAGS&&(ws===Bi&&(ws=A0(ws)),ca(ws,fn.ADD_TAGS,on)),fn.ADD_ATTR&&(Di===fs&&(Di=A0(Di)),ca(Di,fn.ADD_ATTR,on)),fn.ADD_URI_SAFE_ATTR&&ca(uS,fn.ADD_URI_SAFE_ATTR,on),fn.FORBID_CONTENTS&&(Yl===vm&&(Yl=A0(Yl)),ca(Yl,fn.FORBID_CONTENTS,on)),cc&&(ws["#text"]=!0),Pb&&ca(ws,["html","head","body"]),ws.table&&(ca(ws,["tbody"]),delete Io.tbody),fn.TRUSTED_TYPES_POLICY){if(typeof fn.TRUSTED_TYPES_POLICY.createHTML!="function")throw iR('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof fn.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw iR('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_n=fn.TRUSTED_TYPES_POLICY,$n=_n.createHTML("")}else _n===void 0&&(_n=Ise(Le,f)),_n!==null&&typeof $n=="string"&&($n=_n.createHTML(""));bp&&bp(fn),dn=fn}},Ei=ca({},[...x0,...$F,..._se]),Dc=ca({},[...UF,...Ir]),dS=function(fn){let Ts=zt(fn);(!Ts||!Ts.tagName)&&(Ts={namespaceURI:Lx,tagName:"template"});const Rr=iP(fn.tagName),Wu=iP(Ts.tagName);return kL[fn.namespaceURI]?fn.namespaceURI===gk?Ts.namespaceURI===$0?Rr==="svg":Ts.namespaceURI===RL?Rr==="svg"&&(Wu==="annotation-xml"||f5[Wu]):!!Ei[Rr]:fn.namespaceURI===RL?Ts.namespaceURI===$0?Rr==="math":Ts.namespaceURI===gk?Rr==="math"&&p5[Wu]:!!Dc[Rr]:fn.namespaceURI===$0?Ts.namespaceURI===gk&&!p5[Wu]||Ts.namespaceURI===RL&&!f5[Wu]?!1:!Dc[Rr]&&(GSe[Rr]||!Ei[Rr]):!!(DL==="application/xhtml+xml"&&kL[fn.namespaceURI]):!1},U0=function(fn){rR(r.removed,{element:fn});try{zt(fn).removeChild(fn)}catch{nt(fn)}},ML=function(fn,Ts){try{rR(r.removed,{attribute:Ts.getAttributeNode(fn),from:Ts})}catch{rR(r.removed,{attribute:null,from:Ts})}if(Ts.removeAttribute(fn),fn==="is")if(wy||Px)try{U0(Ts)}catch{}else try{Ts.setAttribute(fn,"")}catch{}},qSe=function(fn){let Ts=null,Rr=null;if(xp)fn="<remove></remove>"+fn;else{const Nf=qw(fn,/^[\r\n\t ]+/);Rr=Nf&&Nf[0]}DL==="application/xhtml+xml"&&Lx===$0&&(fn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+fn+"</body></html>");const Wu=_n?_n.createHTML(fn):fn;if(Lx===$0)try{Ts=new be().parseFromString(Wu,DL)}catch{}if(!Ts||!Ts.documentElement){Ts=xo.createDocument(Lx,"template",null);try{Ts.documentElement.innerHTML=h5?$n:Wu}catch{}}const dg=Ts.body||Ts.documentElement;return fn&&Rr&&dg.insertBefore(a.createTextNode(Rr),dg.childNodes[0]||null),Lx===$0?wn.call(Ts,Pb?"html":"body")[0]:Pb?Ts.documentElement:dg},KSe=function(fn){return oo.call(fn.ownerDocument||fn,fn,G.SHOW_ELEMENT|G.SHOW_COMMENT|G.SHOW_TEXT|G.SHOW_PROCESSING_INSTRUCTION|G.SHOW_CDATA_SECTION,null)},cpe=function(fn){return fn instanceof fe&&(typeof fn.nodeName!="string"||typeof fn.textContent!="string"||typeof fn.removeChild!="function"||!(fn.attributes instanceof le)||typeof fn.removeAttribute!="function"||typeof fn.setAttribute!="function"||typeof fn.namespaceURI!="string"||typeof fn.insertBefore!="function"||typeof fn.hasChildNodes!="function")},ZSe=function(fn){return typeof M=="function"&&fn instanceof M};function P_(Vr,fn,Ts){sR(Vr,Rr=>{Rr.call(r,fn,Ts,dn)})}const YSe=function(fn){let Ts=null;if(P_(Zo.beforeSanitizeElements,fn,null),cpe(fn))return U0(fn),!0;const Rr=on(fn.nodeName);if(P_(Zo.uponSanitizeElement,fn,{tagName:Rr,allowedTags:ws}),Mb&&fn.hasChildNodes()&&!ZSe(fn.firstElementChild)&&hm(/<[/\w!]/g,fn.innerHTML)&&hm(/<[/\w!]/g,fn.textContent)||fn.nodeType===lv.progressingInstruction||Mb&&fn.nodeType===lv.comment&&hm(/<[/\w]/g,fn.data))return U0(fn),!0;if(!ws[Rr]||Io[Rr]){if(!Io[Rr]&&JSe(Rr)&&(uo.tagNameCheck instanceof RegExp&&hm(uo.tagNameCheck,Rr)||uo.tagNameCheck instanceof Function&&uo.tagNameCheck(Rr)))return!1;if(cc&&!Yl[Rr]){const Wu=zt(fn)||fn.parentNode,dg=Bt(fn)||fn.childNodes;if(dg&&Wu){const Nf=dg.length;for(let _y=Nf-1;_y>=0;--_y){const N_=ze(dg[_y],!0);N_.__removalCount=(fn.__removalCount||0)+1,Wu.insertBefore(N_,Mt(fn))}}}return U0(fn),!0}return fn instanceof N&&!dS(fn)||(Rr==="noscript"||Rr==="noembed"||Rr==="noframes")&&hm(/<\/no(script|embed|frames)/i,fn.innerHTML)?(U0(fn),!0):(mm&&fn.nodeType===lv.text&&(Ts=fn.textContent,sR([Ls,gr,Lr],Wu=>{Ts=aP(Ts,Wu," ")}),fn.textContent!==Ts&&(rR(r.removed,{element:fn.cloneNode()}),fn.textContent=Ts)),P_(Zo.afterSanitizeElements,fn,null),!1)},XSe=function(fn,Ts,Rr){if(OL&&(Ts==="id"||Ts==="name")&&(Rr in a||Rr in Bo))return!1;if(!(Ki&&!Fs[Ts]&&hm(Sa,Ts))){if(!(nr&&hm(Ra,Ts))){if(!Di[Ts]||Fs[Ts]){if(!(JSe(fn)&&(uo.tagNameCheck instanceof RegExp&&hm(uo.tagNameCheck,fn)||uo.tagNameCheck instanceof Function&&uo.tagNameCheck(fn))&&(uo.attributeNameCheck instanceof RegExp&&hm(uo.attributeNameCheck,Ts)||uo.attributeNameCheck instanceof Function&&uo.attributeNameCheck(Ts))||Ts==="is"&&uo.allowCustomizedBuiltInElements&&(uo.tagNameCheck instanceof RegExp&&hm(uo.tagNameCheck,Rr)||uo.tagNameCheck instanceof Function&&uo.tagNameCheck(Rr))))return!1}else if(!uS[Ts]){if(!hm(Mo,aP(Rr,qc,""))){if(!((Ts==="src"||Ts==="xlink:href"||Ts==="href")&&fn!=="script"&&Sse(Rr,"data:")===0&&Pf[fn])){if(!(ka&&!hm(wc,aP(Rr,qc,"")))){if(Rr)return!1}}}}}}return!0},JSe=function(fn){return fn!=="annotation-xml"&&qw(fn,vv)},QSe=function(fn){P_(Zo.beforeSanitizeAttributes,fn,null);const{attributes:Ts}=fn;if(!Ts||cpe(fn))return;const Rr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Di,forceKeepAttr:void 0};let Wu=Ts.length;for(;Wu--;){const dg=Ts[Wu],{name:Nf,namespaceURI:_y,value:N_}=dg,m5=on(Nf),upe=N_;let hg=Nf==="value"?upe:Cse(upe);if(Rr.attrName=m5,Rr.attrValue=hg,Rr.keepAttr=!0,Rr.forceKeepAttr=void 0,P_(Zo.uponSanitizeAttribute,fn,Rr),hg=Rr.attrValue,$s&&(m5==="id"||m5==="name")&&(ML(Nf,fn),hg=Zr+hg),Mb&&hm(/((--!?|])>)|<\/(style|title)/i,hg)){ML(Nf,fn);continue}if(Rr.forceKeepAttr)continue;if(!Rr.keepAttr){ML(Nf,fn);continue}if(!yv&&hm(/\/>/i,hg)){ML(Nf,fn);continue}mm&&sR([Ls,gr,Lr],tCe=>{hg=aP(hg,tCe," ")});const eCe=on(fn.nodeName);if(!XSe(eCe,m5,hg)){ML(Nf,fn);continue}if(_n&&typeof Le=="object"&&typeof Le.getAttributeType=="function"&&!_y)switch(Le.getAttributeType(eCe,m5)){case"TrustedHTML":{hg=_n.createHTML(hg);break}case"TrustedScriptURL":{hg=_n.createScriptURL(hg);break}}if(hg!==upe)try{_y?fn.setAttributeNS(_y,Nf,hg):fn.setAttribute(Nf,hg),cpe(fn)?U0(fn):VF(r.removed)}catch{ML(Nf,fn)}}P_(Zo.afterSanitizeAttributes,fn,null)},YBe=function Vr(fn){let Ts=null;const Rr=KSe(fn);for(P_(Zo.beforeSanitizeShadowDOM,fn,null);Ts=Rr.nextNode();)P_(Zo.uponSanitizeShadowNode,Ts,null),YSe(Ts),QSe(Ts),Ts.content instanceof b&&Vr(Ts.content);P_(Zo.afterSanitizeShadowDOM,fn,null)};return r.sanitize=function(Vr){let fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ts=null,Rr=null,Wu=null,dg=null;if(h5=!Vr,h5&&(Vr="<!-->"),typeof Vr!="string"&&!ZSe(Vr))if(typeof Vr.toString=="function"){if(Vr=Vr.toString(),typeof Vr!="string")throw iR("dirty is not a string, aborting")}else throw iR("toString is not a function");if(!r.isSupported)return Vr;if(gm||Zs(fn),r.removed=[],typeof Vr=="string"&&(Ba=!1),Ba){if(Vr.nodeName){const N_=on(Vr.nodeName);if(!ws[N_]||Io[N_])throw iR("root node is forbidden and cannot be sanitized in-place")}}else if(Vr instanceof M)Ts=qSe("<!---->"),Rr=Ts.ownerDocument.importNode(Vr,!0),Rr.nodeType===lv.element&&Rr.nodeName==="BODY"||Rr.nodeName==="HTML"?Ts=Rr:Ts.appendChild(Rr);else{if(!wy&&!mm&&!Pb&&Vr.indexOf("<")===-1)return _n&&Nx?_n.createHTML(Vr):Vr;if(Ts=qSe(Vr),!Ts)return wy?null:Nx?$n:""}Ts&&xp&&U0(Ts.firstChild);const Nf=KSe(Ba?Vr:Ts);for(;Wu=Nf.nextNode();)YSe(Wu),QSe(Wu),Wu.content instanceof b&&YBe(Wu.content);if(Ba)return Vr;if(wy){if(Px)for(dg=An.call(Ts.ownerDocument);Ts.firstChild;)dg.appendChild(Ts.firstChild);else dg=Ts;return(Di.shadowroot||Di.shadowrootmode)&&(dg=Un.call(u,dg,!0)),dg}let _y=Pb?Ts.outerHTML:Ts.innerHTML;return Pb&&ws["!doctype"]&&Ts.ownerDocument&&Ts.ownerDocument.doctype&&Ts.ownerDocument.doctype.name&&hm(S7,Ts.ownerDocument.doctype.name)&&(_y="<!DOCTYPE "+Ts.ownerDocument.doctype.name+`>
`+_y),mm&&sR([Ls,gr,Lr],N_=>{_y=aP(_y,N_," ")}),_n&&Nx?_n.createHTML(_y):_y},r.setConfig=function(){let Vr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Zs(Vr),gm=!0},r.clearConfig=function(){dn=null,gm=!1},r.isValidAttribute=function(Vr,fn,Ts){dn||Zs({});const Rr=on(Vr),Wu=on(fn);return XSe(Rr,Wu,Ts)},r.addHook=function(Vr,fn){typeof fn=="function"&&rR(Zo[Vr],fn)},r.removeHook=function(Vr,fn){if(fn!==void 0){const Ts=yse(Zo[Vr],fn);return Ts===-1?void 0:bse(Zo[Vr],Ts,1)[0]}return VF(Zo[Vr])},r.removeHooks=function(Vr){Zo[Vr]=[]},r.removeAllHooks=function(){Zo=w7()},r}var jF=uP();const _7=Jn.each,Wc=Jn.trim,Rse=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],NC={ftp:21,http:80,https:443,mailto:25},kse=["img","video"],Dse=(t,r)=>Re(t)?!t:Re(r)?!xt(kse,r):!0,Mse=t=>{try{return decodeURIComponent(t)}catch{return unescape(t)}},T7=(t,r,a)=>{const u=Mse(r).replace(/\s/g,"");return t.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(u)?!0:t.allow_html_data_urls?!1:/^data:image\//i.test(u)?Dse(t.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(u):/^data:/i.test(u)};class uy{static parseDataUri(r){let a;const u=decodeURIComponent(r).split(","),f=/data:([^;]+)/.exec(u[0]);return f&&(a=f[1]),{type:a,data:u[1]}}static isDomSafe(r,a,u={}){if(u.allow_script_urls)return!0;{const f=Gv.decode(r).replace(/[\s\u0000-\u001F]+/g,"");return!T7(u,f,a)}}static getDocumentBaseUrl(r){let a;return r.protocol.indexOf("http")!==0&&r.protocol!=="file:"?a=r.href??"":a=r.protocol+"//"+r.host+r.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a}source;protocol;authority;userInfo;user;password;host;port;relative;path="";directory="";file;query;anchor;settings;constructor(r,a={}){r=Wc(r),this.settings=a;const u=a.base_uri,f=this;if(/^([\w\-]+):([^\/]{2})/i.test(r)||/^\s*#/.test(r)){f.source=r;return}const b=r.indexOf("//")===0;if(r.indexOf("/")===0&&!b&&(r=(u&&u.protocol||"http")+"://mce_host"+r),!/^[\w\-]*:?\/\//.test(r)){const M=u?u.path:new uy(document.location.href).directory;if(u?.protocol==="")r="//mce_host"+f.toAbsPath(M,r);else{const N=/([^#?]*)([#?]?.*)/.exec(r);N&&(r=(u&&u.protocol||"http")+"://mce_host"+f.toAbsPath(M,N[1])+N[2])}}r=r.replace(/@@/g,"(mce_at)");const A=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r);A&&_7(Rse,(M,N)=>{let G=A[N];G&&(G=G.replace(/\(mce_at\)/g,"@@")),f[M]=G}),u&&(f.protocol||(f.protocol=u.protocol),f.userInfo||(f.userInfo=u.userInfo),!f.port&&f.host==="mce_host"&&(f.port=u.port),(!f.host||f.host==="mce_host")&&(f.host=u.host),f.source=""),b&&(f.protocol="")}setPath(r){const a=/^(.*?)\/?(\w+)?$/.exec(r);a&&(this.path=a[0],this.directory=a[1],this.file=a[2]),this.source="",this.getURI()}toRelative(r){if(r==="./")return r;const a=new uy(r,{base_uri:this});if(a.host!=="mce_host"&&this.host!==a.host&&a.host||this.port!==a.port||this.protocol!==a.protocol&&a.protocol!=="")return a.getURI();const u=this.getURI(),f=a.getURI();if(u===f||u.charAt(u.length-1)==="/"&&u.substr(0,u.length-1)===f)return u;let b=this.toRelPath(this.path,a.path);return a.query&&(b+="?"+a.query),a.anchor&&(b+="#"+a.anchor),b}toAbsolute(r,a){const u=new uy(r,{base_uri:this});return u.getURI(a&&this.isSameOrigin(u))}isSameOrigin(r){if(this.host==r.host&&this.protocol==r.protocol){if(this.port==r.port)return!0;const a=this.protocol?NC[this.protocol]:null;if(a&&(this.port||a)==(r.port||a))return!0}return!1}toRelPath(r,a){let u=0,f="",b,A;const M=r.substring(0,r.lastIndexOf("/")).split("/"),N=a.split("/");if(M.length>=N.length){for(b=0,A=M.length;b<A;b++)if(b>=N.length||M[b]!==N[b]){u=b+1;break}}if(M.length<N.length){for(b=0,A=N.length;b<A;b++)if(b>=M.length||M[b]!==N[b]){u=b+1;break}}if(u===1)return a;for(b=0,A=M.length-(u-1);b<A;b++)f+="../";for(b=u-1,A=N.length;b<A;b++)b!==u-1?f+="/"+N[b]:f+=N[b];return f}toAbsPath(r,a){let u=0;const f=/\/$/.test(a)?"/":"",b=r.split("/"),A=a.split("/"),M=[];_7(b,fe=>{fe&&M.push(fe)});const N=[];for(let fe=A.length-1;fe>=0;fe--)if(!(A[fe].length===0||A[fe]===".")){if(A[fe]===".."){u++;continue}if(u>0){u--;continue}N.push(A[fe])}const G=M.length-u;let le;return G<=0?le=_s(N).join("/"):le=M.slice(0,G).join("/")+"/"+_s(N).join("/"),le.indexOf("/")!==0&&(le="/"+le),f&&le.lastIndexOf("/")!==le.length-1&&(le+=f),le}getURI(r=!1){let a;return(!this.source||r)&&(a="",r||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source}}const Pse=Jn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),WF="data-mce-type";let A7=0;const x7=(t,r,a,u,f)=>{const b=r.validate,A=a.getSpecialElements();t.nodeType===to&&(!r.allow_conditional_comments&&/^\[if/i.test(t.nodeValue??"")&&(t.nodeValue=" "+t.nodeValue),r.sanitize&&r.allow_html_in_comments&&se(t.nodeValue)&&(t.nodeValue=ose(t.nodeValue)));const M=f?.tagName??t.nodeName.toLowerCase();if(u!=="html"&&a.isValid(u)){Re(f)&&(f.allowedTags[M]=!0);return}if(t.nodeType!==Js||M==="body")return;const N=st.fromDom(t),G=fa(N,WF),le=aa(N,"data-mce-bogus");if(!G&&se(le)){le==="all"?Ni(N):Pu(N);return}const fe=a.getElementRule(M);if(b&&!fe){Xo(A,M)?Ni(N):Pu(N);return}else Re(f)&&(f.allowedTags[M]=!0);if(b&&fe&&!G){if(qe(fe.attributesForced??[],be=>{ha(N,be.name,be.value==="{$uid}"?`mce_${A7++}`:be.value)}),qe(fe.attributesDefault??[],be=>{fa(N,be.name)||ha(N,be.name,be.value==="{$uid}"?`mce_${A7++}`:be.value)}),fe.attributesRequired&&!cn(fe.attributesRequired,be=>fa(N,be))){Pu(N);return}if(fe.removeEmptyAttrs&&Pv(N)){Pu(N);return}fe.outputName&&fe.outputName!==M&&Up(N,fe.outputName)}},dP=(t,r,a,u,f)=>{const b=t.tagName.toLowerCase(),{attrName:A,attrValue:M}=f;f.keepAttr=O7(r,a,u,b,A,M),f.keepAttr?(f.allowedAttributes[A]=!0,Nse(A,a,t.nodeName)&&(f.attrValue=A),r.allow_svg_data_urls&&As(M,"data:image/svg+xml")&&(f.forceKeepAttr=!0)):I7(t,A)&&(f.forceKeepAttr=!0)},O7=(t,r,a,u,f,b)=>a!=="html"&&!ud(u)?!0:!(f in Pse&&T7(t,b,u))&&(!t.validate||r.isValid(u,f)||As(f,"data-")||As(f,"aria-")),I7=(t,r)=>t.hasAttribute(WF)&&(r==="id"||r==="class"||r==="style"),Nse=(t,r,a)=>t in r.getBoolAttrs()&&!Xo(r.getCustomElements(),a.toLowerCase()),lR=(t,r,a,u)=>{const{attributes:f}=t;for(let b=f.length-1;b>=0;b--){const A=f[b],M=A.name,N=A.value;!O7(r,a,u,t.tagName.toLowerCase(),M,N)&&!I7(t,M)?t.removeAttribute(M):Nse(M,a,t.nodeName)&&t.setAttribute(M,M)}},Lse=(t,r,a)=>{const u=jF();return u.addHook("uponSanitizeElement",(f,b)=>{x7(f,t,r,a.track(f),b)}),u.addHook("uponSanitizeAttribute",(f,b)=>{dP(f,t,r,a.current(),b)}),u},GF=(t,r)=>{const u={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body","html"],ALLOWED_ATTR:[]}};return u.PARSER_MEDIA_TYPE=r,t.allow_script_urls?u.ALLOWED_URI_REGEXP=/.*/:t.allow_html_data_urls&&(u.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),u},Bse=t=>{const r=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(u=>`xlink:${u}`),a={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:r};jF().sanitize(t,a)},Fse=(t,r)=>{const a={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},u=jF(),f=r.allow_mathml_annotation_encodings,b=Te(f)&&f.length>0,A=N=>{const G=N.getAttribute("encoding");return b&&se(G)&&xt(f,G)},M=(N,G)=>b&&G==="semantics"?ye.some(!0):G==="annotation"?ye.some(Ho(N)&&A(N)):Te(r.extended_mathml_elements)&&r.extended_mathml_elements.includes(G)?ye.from(!0):ye.none();u.addHook("uponSanitizeElement",(N,G)=>{const le=G.tagName??N.nodeName.toLowerCase();M(N,le).each(be=>{G.allowedTags[le]=be,!be&&r.sanitize&&Ho(N)&&N.remove()})}),u.addHook("uponSanitizeAttribute",(N,G)=>{Te(r.extended_mathml_attributes)&&r.extended_mathml_attributes.includes(G.attrName)&&(G.forceKeepAttr=!0)}),u.sanitize(t,a)},Vse=t=>r=>{const a=Hg(r);if(a==="svg")Bse(r);else if(a==="math")Fse(r,t);else throw new Error("Not a namespace element")},Hse=(t,r)=>{const a=YS();if(t.sanitize){const u=Lse(t,r,a);return{sanitizeHtmlElement:(b,A)=>{u.sanitize(b,GF(t,A)),u.removed=[],a.reset()},sanitizeNamespaceElement:Vse(t)}}else return{sanitizeHtmlElement:(b,A)=>{const M=document.createNodeIterator(b,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let N;for(;N=M.nextNode();){const G=a.track(N);x7(N,t,r,G),Ho(N)&&lR(N,t,r,G)}a.reset()},sanitizeNamespaceElement:St}},LC=["script","style","template","param","meta","title","link"],BC=Jn.makeMap,cR=Jn.extend,uR=(t,r,a,u,f)=>{const b=t.name,A=b in a&&b!=="title"&&b!=="textarea"&&b!=="noscript",M=r.childNodes;for(let N=0,G=M.length;N<G;N++){const le=M[N],fe=new yh(le.nodeName.toLowerCase(),le.nodeType);if(Ho(le)){const be=le.attributes;for(let Le=0,Qe=be.length;Le<Qe;Le++){const ze=be[Le];fe.attr(ze.name,ze.value)}ud(fe.name)&&(u(le),fe.value=le.innerHTML)}else Wn(le)?(fe.value=le.data,A&&(fe.raw=!0)):$a(le)?fe.value=f?n7(le.data):le.data:(Vg(le)||rb(le))&&(fe.value=le.data);if(qS(le)){const be=yh.create("#text");be.value=le.innerHTML,be.raw=!0,fe.append(be)}else ud(fe.name)||uR(fe,le,a,u,f);t.append(fe)}},Kw=(t,r,a)=>{const u=[];for(let f=t,b=f;f;b=f,f=f.walk()){const A=f;qe(r,M=>M(A)),$e(A.parent)&&A!==t?f=b:u.push(A)}for(let f=u.length-1;f>=0;f--){const b=u[f];qe(a,A=>A(b))}},Zw=(t,r,a,u)=>{const f=a.validate,b=r.getNonEmptyElements(),A=r.getWhitespaceElements(),M=cR(BC(LC),r.getBlockElements()),N=XE(r),G=/[ \t\r\n]+/g,le=/^[ \t\r\n]+/,fe=/[ \t\r\n]+$/,be=Bt=>{let zt=Bt.parent;for(;Re(zt);){if(zt.name in A)return!0;zt=zt.parent}return!1},Le=Bt=>{let zt=Bt;for(;Re(zt);){if(zt.name in N)return tR(r,b,A,zt);zt=zt.parent}return!1},Qe=Bt=>Bt.name in M||l0(r,Bt)||ud(Bt.name)&&Bt.parent===t,ze=(Bt,zt)=>{const _n=zt?Bt.prev:Bt.next;return Re(_n)||$e(Bt.parent)?!1:Qe(Bt.parent)&&(Bt.parent!==t||u.isRootContent===!0)};return[Bt=>{if(Bt.type===3&&!be(Bt)){let zt=Bt.value??"";zt=zt.replace(G," "),(ESe(Bt.prev,Qe)||ze(Bt,!0))&&(zt=zt.replace(le,"")),zt.length===0||zt===" "&&Bt.prev&&Bt.prev.type===to&&Bt.next&&Bt.next.type===to?Bt.remove():Bt.value=zt}},Bt=>{if(Bt.type===1){const zt=r.getElementRule(Bt.name);if(f&&zt){const _n=tR(r,b,A,Bt);zt.paddInEmptyBlock&&_n&&Le(Bt)?kF(a,u,Qe,Bt):zt.removeEmpty&&_n?Qe(Bt)?Bt.remove():Bt.unwrap():zt.paddEmpty&&(_n||Xoe(Bt))&&kF(a,u,Qe,Bt)}}else if(Bt.type===3&&!be(Bt)){let zt=Bt.value??"";(Bt.next&&Qe(Bt.next)||ze(Bt,!1))&&(zt=zt.replace(fe,"")),zt.length===0?Bt.remove():Bt.value=zt}}]},hP=(t,r)=>{const a=r.forced_root_block??t.forced_root_block;return a===!1?"":a===!0?"p":a},dR=' xmlns="http://www.w3.org/1999/xhtml"',Yw=(t={},r=Sf())=>{const a=t7(),u=t7(),f={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...t},b=new DOMParser,A=Hse(f,r),M=(zt,_n,$n="html",xo=!1)=>{const oo=$n==="xhtml",An=oo?"application/xhtml+xml":"text/html",wn=Xo(r.getSpecialElements(),_n.toLowerCase()),Un=wn?`<${_n}>${zt}</${_n}>`:zt,Zo=()=>/^[\s]*<head/i.test(zt)||/^[\s]*<html/i.test(zt)||/^[\s]*<!DOCTYPE/i.test(zt)?`<html${oo?dR:""}>${Un}</html>`:oo?`<html${dR}><head></head><body>${Un}</body></html>`:`<body>${Un}</body>`,Ls=b.parseFromString(Zo(),An),gr=xo?Ls.documentElement:Ls.body;return A.sanitizeHtmlElement(gr,An),wn?gr.firstChild:gr},N=a.addFilter,G=a.getFilters,le=a.removeFilter,fe=u.addFilter,be=u.getFilters,Le=u.removeFilter,Qe=(zt,_n)=>{MF(r,zt)&&_n.push(zt)},ze=(zt,_n)=>{const $n=se(_n.attr(WF)),xo=_n.type===1&&!Xo(zt,_n.name)&&!l0(r,_n)&&!ud(_n.name);return _n.type===3||xo&&!$n},nt=(zt,_n)=>{const $n=cR(BC(LC),r.getBlockElements()),xo=/^[ \t\r\n]+/,oo=/[ \t\r\n]+$/;let An=zt.firstChild,wn=null;const Un=Zo=>{Zo&&(An=Zo.firstChild,An&&An.type===3&&(An.value=An.value?.replace(xo,"")),An=Zo.lastChild,An&&An.type===3&&(An.value=An.value?.replace(oo,"")))};if(r.isValidChild(zt.name,_n.toLowerCase())){for(;An;){const Zo=An.next;ze($n,An)?(wn||(wn=new yh(_n,1),wn.attr(f.forced_root_block_attrs),zt.insert(wn,An)),wn.append(An)):(Un(wn),wn=null),An=Zo}Un(wn)}},Bt={schema:r,addAttributeFilter:fe,getAttributeFilters:be,removeAttributeFilter:Le,addNodeFilter:N,getNodeFilters:G,removeNodeFilter:le,parse:(zt,_n={})=>{const $n=f.validate,xo=(_n.context??f.root_name)==="#document",oo=_n.context??(xo?"html":f.root_name),An=M(zt,oo,_n.format,xo);up(r,An);const wn=new yh(oo,11);uR(wn,An,r.getSpecialElements(),A.sanitizeNamespaceElement,f.sanitize&&f.allow_html_in_comments),An.innerHTML="";const[Un,Zo]=Zw(wn,r,f,_n),Ls=[],gr=$n?wc=>Qe(wc,Ls):St,Lr={nodes:{},attributes:{}},Sa=wc=>RF(G(),be(),wc,Lr);Kw(wn,[Un,Sa],[Zo,gr]),Ls.reverse(),$n&&Ls.length>0&&(_n.context?_n.invalid=!0:Q8(Ls,r,wn,Sa));const Ra=hP(f,_n);return Ra&&(wn.name==="body"||_n.isRootContent)&&nt(wn,Ra),_n.invalid||X8(Lr,_n),wn}};return u7(Bt,f),o7(Bt,f,r),Bt},ZA=t=>t instanceof yh,qF=t=>ZA(t)?jw({validate:!1}).serialize(t):t,KF=(t,r,a)=>{const u=qF(t),f=r(u);if(f.isDefaultPrevented())return f;if(ZA(t))if(f.content!==u){const b=Yw({validate:!1,forced_root_block:!1,...a}).parse(f.content,{context:t.name});return{...f,content:b}}else return{...f,content:t};else return f},ZF=t=>({sanitize:OI(t),sandbox_iframes:yA(t),sandbox_iframes_exclusions:Tw(t)}),Xw=(t,r)=>{if(r.no_events)return Ea.value(r);{const a=cD(t,r);return a.isDefaultPrevented()?Ea.error(uD(t,{content:"",...a}).content):Ea.value(a)}},YF=(t,r,a)=>a.no_events?r:KF(r,f=>uD(t,{...a,content:f}),ZF(t)).content,fP=(t,r)=>{if(r.no_events)return Ea.value(r);{const a=KF(r.content,u=>uu(t,{...r,content:u}),ZF(t));return a.isDefaultPrevented()?(lD(t,a),Ea.error(void 0)):Ea.value(a)}},pP=(t,r,a)=>{a.no_events||lD(t,{...a,content:r})},mP="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),R7=["content_css_cors"],k7="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),XF=[{name:"export",replacedWith:"Export to PDF"}],JF=(t,r)=>{const a=Ve(r,u=>Xo(t,u));return Pn(a)},eS=t=>{const r=JF(t,mP),a=t.forced_root_block;return(a===!1||a==="")&&r.push("forced_root_block (false only)"),Pn(r)},FC=t=>JF(t,R7),cv=(t,r)=>{const a=Jn.makeMap(t.plugins," "),f=Ve(r,b=>Xo(a,b));return Pn(f)},$se=t=>cv(t,k7),Use=t=>cv(t,XF.map(r=>r.name)),zse=(t,r)=>{const a=eS(t),u=$se(r),f=u.length>0,b=a.length>0,A=r.theme==="mobile";if(f||b||A){const N=A?`

Themes:
- mobile`:"",G=f?`

Plugins:
- ${u.join(`
- `)}`:"",le=b?`

Options:
- ${a.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+N+G+le)}},jse=t=>Et(XF,r=>r.name===t).fold(()=>t,r=>r.replacedWith?`${t}, replaced by ${r.replacedWith}`:t),Wse=(t,r)=>{const a=FC(t),u=Use(r),f=u.length>0,b=a.length>0;if(f||b){const M=f?`

Plugins:
- ${u.map(jse).join(`
- `)}`:"",N=b?`

Options:
- ${a.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+M+N)}},Gse=(t,r)=>{zse(t,r),Wse(t,r)},qse={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},D7=t=>{console.warn(qse[t],new Error().stack)},M7=t=>t.dom.length===0?(Ni(t),ye.none()):ye.some(t),Kse=(t,r)=>t.filter(a=>Hw.isBookmarkNode(a.dom)).bind(r?Du:Nd),Zse=(t,r,a,u,f)=>{const b=t.dom,A=r.dom,M=u?b.length:A.length;u?(sF(b,A,f,!1,!u),a.setStart(A,M)):(sF(A,b,f,!1,!u),a.setEnd(A,M))},Yse=(t,r,a)=>{Ru(t).each(u=>{const f=t.dom;r&&ZI(u,gn(f,0),a)?BM(f,0,a):!r&&$A(u,gn(f,f.length),a)&&FM(f,f.length,a)})},gP=(t,r,a,u,f)=>{t.bind(b=>((u?FM:BM)(b.dom,u?b.dom.length:0,f),r.filter(ei).map(M=>Zse(b,M,a,u,f)))).orThunk(()=>Kse(r,u).or(r).filter(ei).map(A=>Yse(A,u,f)))},QF=(t,r,a)=>{const u=ye.from(r.firstChild).map(st.fromDom),f=ye.from(r.lastChild).map(st.fromDom);t.deleteContents(),t.insertNode(r);const b=u.bind(Nd).filter(ei).bind(M7),A=f.bind(Du).filter(ei).bind(M7);gP(b,u,t,!0,a),gP(A,f,t,!1,a),t.collapse(!1)},P7=(t,r)=>({format:"html",...t,set:!0,selection:!0,content:r}),Xse=(t,r)=>{if(r.format!=="raw"){const a=t.selection.getRng(),u=t.dom.getParent(a.commonAncestorContainer,t.dom.isBlock),f=u?{context:u.nodeName.toLowerCase()}:{},b=t.parser.parse(r.content,{forced_root_block:!1,...f,...r});return jw({validate:!1},t.schema).serialize(b)}else return r.content},vP=(t,r,a={})=>{const u=P7(a,r);fP(t,u).each(f=>{const b=Xse(t,f),A=t.selection.getRng();QF(A,A.createContextualFragment(b),t.schema),t.selection.setRng(A),Uw(t,A),pP(t,b,f)})},N7=(t,r,a={})=>{D7("selectionSetContent"),vP(t,r,a)},L7=t=>Re(t.firstChild)&&t.firstChild===t.lastChild,eV=t=>t.name==="br"||t.value===Pi,B7=(t,r)=>t.getBlockElements()[r.name]&&L7(r)&&eV(r.firstChild),F7=(t,r)=>{const a=t.getNonEmptyElements();return Re(r)&&(r.isEmpty(a)||B7(t,r))},tV=(t,r)=>{let a=r.firstChild,u=r.lastChild;return a&&a.name==="meta"&&(a=a.next),u&&u.attr("id")==="mce_marker"&&(u=u.prev),F7(t,u)&&(u=u?.prev),!a||a!==u?!1:a.name==="ul"||a.name==="ol"},Jse=t=>{const r=t.firstChild,a=t.lastChild;return r&&r.nodeName==="META"&&r.parentNode?.removeChild(r),a&&a.id==="mce_marker"&&a.parentNode?.removeChild(a),t},Qse=(t,r,a)=>{const u=r.serialize(a),f=t.createFragment(u);return Jse(f)},O0=t=>Ve(t?.childNodes??[],r=>r.nodeName==="LI"),dy=t=>t.data===Pi||ga(t),yP=t=>Re(t?.firstChild)&&t.firstChild===t.lastChild&&dy(t.firstChild),V7=t=>!t.firstChild||yP(t),bP=t=>t.length>0&&V7(t[t.length-1])?t.slice(0,-1):t,SP=(t,r)=>{const a=t.getParent(r,t.isBlock);return a&&a.nodeName==="LI"?a:null},H7=(t,r)=>!!SP(t,r),$7=(t,r)=>{const a=r.cloneRange(),u=r.cloneRange();return a.setStartBefore(t),u.setEndAfter(t),[a.cloneContents(),u.cloneContents()]},U7=(t,r)=>{const a=gn.before(t),f=rv(r).next(a);return f?f.toRange():null},nV=(t,r)=>{const a=gn.after(t),f=rv(r).prev(a);return f?f.toRange():null},z7=(t,r,a,u)=>{const f=$7(t,u),b=t.parentNode;return b&&(b.insertBefore(f[0],t),Jn.each(r,A=>{b.insertBefore(A,t)}),b.insertBefore(f[1],t),b.removeChild(t)),nV(r[r.length-1],a)},CP=(t,r,a)=>{const u=t.parentNode;return u&&Jn.each(r,f=>{u.insertBefore(f,t)}),U7(t,a)},oV=(t,r,a,u)=>(u.insertAfter(r.reverse(),t),nV(r[0],a)),ere=(t,r,a,u)=>{const f=Qse(r,t,u),b=SP(r,a.startContainer),A=bP(O0(f.firstChild)),M=1,N=2,G=r.getRoot(),le=fe=>{const be=gn.fromRangeStart(a),Le=rv(r.getRoot()),ze=(fe===M?Le.prev(be):Le.next(be))?.getNode();return ze?SP(r,ze)!==b:!0};return b?le(M)?CP(b,A,G):le(N)?oV(b,A,G,r):z7(b,A,G,a):null},tre=["pre"],nre=(t,r,a,u)=>{const f=r.firstChild,b=r.lastChild,A=b.attr("data-mce-type")==="bookmark"?b.prev:b,M=f===A,N=xt(tre,f.name);if(M&&N){const G=f.attr("contenteditable")!=="false",le=t.getParent(a,t.isBlock)?.nodeName.toLowerCase()===f.name,fe=ye.from(kC(u,a)).forall(au);return G&&le&&fe}else return!1},sV=Zp,j7=(t,r,a)=>{if(Re(a)){const u=t.getParent(r.endContainer,sV);return a===u&&HI(st.fromDom(a),r)}else return!1},ore=(t,r)=>{if(t.isBlock(r)&&t.isEditable(r)){const a=r.childNodes;return a.length===1&&ga(a[0])||a.length===0}else return!1},sre=(t,r,a)=>{a.getAttribute("data-mce-bogus")==="all"?a.parentNode?.insertBefore(t.dom.createFragment(r),a):ore(t.dom,a)?t.dom.setHTML(a,r):vP(t,r,{no_events:!0})},rV=(t,r,a)=>{ye.from(t.getParent(r,"td,th")).map(st.fromDom).each(u=>j(u,a))},rre=(t,r)=>{const a=t.schema.getTextInlineElements(),u=t.dom;if(r){const f=t.getBody(),b=C8(t),A="*[data-mce-fragment]",M=u.select(A);Jn.each(M,N=>{const G=be=>Re(a[be.nodeName.toLowerCase()]),le=be=>be.childNodes.length===1;if((be=>!(xne(u,be)||One(u,be)))(N)&&G(N)&&le(N)){const be=Ww(u,N),Le=(Mt,Bt)=>no(Mt,zt=>xt(Bt,zt)),Qe=Mt=>le(N)&&u.is(Mt,A)&&G(Mt)&&(Mt.nodeName===N.nodeName&&Le(be,Ww(u,Mt))||Qe(Mt.children[0])),ze=Mt=>Re(Mt)&&Mt!==f&&(b.compare(N,Mt)||ze(Mt.parentElement)),nt=Mt=>Re(Mt)&&Mt!==f&&u.is(Mt,A)&&(Ine(u,N,Mt)||nt(Mt.parentElement));(Qe(N.children[0])||ze(N.parentElement)&&!nt(N.parentElement))&&u.remove(N,!0)}}),Z8(t,ch(M))}},ire=t=>{let r=t;for(;r=r.walk();)r.type===1&&r.attr("data-mce-fragment","1")},are=t=>{Jn.each(t.getElementsByTagName("*"),r=>{r.removeAttribute("data-mce-fragment")})},lre=t=>!!t.getAttribute("data-mce-fragment"),cre=(t,r)=>Re(r)&&!t.schema.getVoidElements()[r.nodeName],ure=(t,r)=>{let a;const u=t.dom,f=t.selection;if(!r)return;f.scrollIntoView(r);const b=kC(t.getBody(),r);if(b&&u.getContentEditable(b)==="false"){u.remove(r),f.select(b);return}let A=u.createRng();const M=r.previousSibling;if(Wn(M)){A.setStart(M,M.nodeValue?.length??0);const le=r.nextSibling;Wn(le)&&(M.appendData(le.data),le.parentNode?.removeChild(le))}else A.setStartBefore(r),A.setEndBefore(r);const N=le=>{let fe=gn.fromRangeStart(le);return fe=rv(t.getBody()).next(fe),fe?.toRange()},G=u.getParent(r,u.isBlock);if(u.remove(r),G&&u.isEmpty(G)){const le=sV(G);id(st.fromDom(G)),A.setStart(G,0),A.setEnd(G,0),!le&&!lre(G)&&(a=N(A))?(A=a,u.remove(G)):u.add(G,u.create("br",le?{}:{"data-mce-bogus":"1"}))}f.setRng(A)},dre=t=>{const r=t.dom,a=oP(t.selection.getRng());t.selection.setRng(a);const u=r.getParent(a.startContainer,sV);j7(r,a,u)?hF(t,a,st.fromDom(u)):fM(a)||TB(a)?a.deleteContents():t.getDoc().execCommand("Delete",!1)},EP=t=>{for(let r=t;r;r=r.walk())if(r.attr("id")==="mce_marker")return ye.some(r);return ye.none()},iV=(t,r,a)=>cn(a.children(),IF)&&t.getParent(r,t.isBlock)?.nodeName==="SUMMARY",hre=(t,r,a)=>{const u=t.selection,f=t.dom,b=t.parser,A=a.merge,M=jw({validate:!0},t.schema),N='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';a.preserve_zwsp||(r=ue(r)),r.indexOf("{$caret}")===-1&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,N);let G=u.getRng();const le=G.startContainer,fe=t.getBody();le===fe&&u.isCollapsed()&&f.isBlock(fe.firstChild)&&cre(t,fe.firstChild)&&f.isEmpty(fe.firstChild)&&(G=f.createRng(),G.setStart(fe.firstChild,0),G.setEnd(fe.firstChild,0),u.setRng(G)),u.isCollapsed()||dre(t);const be=u.getNode(),Le={context:be.nodeName.toLowerCase(),data:a.data,insert:!0},Qe=b.parse(r,Le);if(a.paste===!0&&tV(t.schema,Qe)&&H7(f,be))return G=ere(M,f,u.getRng(),Qe),G&&u.setRng(G),r;a.paste===!0&&nre(f,Qe,be,t.getBody())&&Qe.firstChild?.unwrap(),ire(Qe);let ze=Qe.lastChild;if(ze&&ze.attr("id")==="mce_marker"){const nt=ze;for(ze=ze.prev;ze&&ze.name!=="table";ze=ze.walk(!0))if(ze.type===3||!f.isBlock(ze.name)){ze.parent&&t.schema.isValidChild(ze.parent.name,"span")&&ze.parent.insert(nt,ze,ze.name==="br");break}}if(t._selectionOverrides.showBlockCaretContainer(be),!Le.invalid&&!iV(f,be,Qe))r=M.serialize(Qe),sre(t,r,be);else{vP(t,N);let nt=u.getNode(),Mt;const Bt=t.getBody();for(Er(nt)?nt=Mt=Bt:Mt=nt;Mt&&Mt!==Bt;)nt=Mt,Mt=Mt.parentNode;r=nt===Bt?Bt.innerHTML:f.getOuterHTML(nt);const zt=b.parse(r),_n=EP(zt),$n=_n.bind(ese).getOr(zt);_n.each(An=>An.replace(Qe));const xo=DF(Qe);Qe.unwrap();const oo=Ve(xo,An=>MF(t.schema,An));Q8(oo,t.schema,$n),J8(b.getNodeFilters(),b.getAttributeFilters(),zt),r=M.serialize(zt),nt===Bt?f.setHTML(Bt,r):f.setOuterHTML(nt,r)}return rre(t,A),ure(t,f.get("mce_marker")),are(t.getBody()),rV(f,u.getStart(),t.schema),lb(t.schema,t.getBody(),u.getStart()),r},fre=t=>{ng(t)&&hu(t.getBody()).each(r=>{const a=r.getNode(),u=ap(a)?hu(a).getOr(r):r;t.selection.setRng(u.toRange())})},aV=(t,r,a)=>{t.dom.setHTML(t.getBody(),r),a!==!0&&fre(t)},pre=(t,r,a,u)=>{if(a=ue(a),a.length===0||/^\s+$/.test(a)){const f='<br data-mce-bogus="1">';r.nodeName==="TABLE"?a="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(a="<li>"+f+"</li>");const b=zu(t);return t.schema.isValidChild(r.nodeName.toLowerCase(),b.toLowerCase())?(a=f,a=t.dom.createHTML(b,vC(t),a)):a||(a=f),aV(t,a,u.no_selection),{content:a,html:a}}else{u.format!=="raw"&&(a=jw({validate:!1},t.schema).serialize(t.parser.parse(a,{isRootContent:!0,insert:!0})));const f=C(st.fromDom(r))?a:Jn.trim(a);return aV(t,f,u.no_selection),{content:f,html:f}}},W7=(t,r,a,u)=>{J8(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),a);const f=jw({validate:!1},t.schema).serialize(a),b=ue(C(st.fromDom(r))?f:Jn.trim(f));return aV(t,b,u.no_selection),{content:a,html:b}},mre=(t,r,a)=>ye.from(t.getBody()).map(u=>ZA(r)?W7(t,u,r,a):pre(t,u,r,a)).getOr({content:r,html:ZA(a.content)?"":a.content}),hR={},wP=Rc(["pre"]),gre=(t,r)=>{hR[t]||(hR[t]=[]),hR[t].push(r)},vre=(t,r)=>{Xo(hR,t)&&qe(hR[t],a=>{a(r)})};gre("pre",t=>{const r=t.selection.getRng(),a=f=>b=>{const A=b.previousSibling;return wP(A)&&xt(f,A)},u=(f,b)=>{const A=st.fromDom(b),M=su(A).dom;Ni(A),ah(st.fromDom(f),[st.fromTag("br",M),st.fromTag("br",M),...yr(A)])};if(!r.collapsed){const f=t.selection.getSelectedBlocks(),b=Ve(Ve(f,wP),a(f));qe(b,A=>{u(A.previousSibling,A)})}});const G7=Jn.each,yre=(t,r,a,u)=>{const f=b=>{if(ma(b)&&Ho(b.parentNode)&&t.isEditable(b)){const A=Ue(t,b.parentNode);t.getStyle(b,"color")&&A?t.setStyle(b,"text-decoration",A):t.getStyle(b,"text-decoration")===A&&t.setStyle(b,"text-decoration",null)}};r.styles&&(r.styles.color||r.styles.textDecoration)&&(Jn.walk(u,f,"childNodes"),f(u))},bre=(t,r,a,u)=>{if(r.styles&&r.styles.backgroundColor){const f=pi(t,"fontSize");SF(u,b=>f(b)&&t.isEditable(b),jc(t,"backgroundColor",W(r.styles.backgroundColor,a)))}},Sre=(t,r,a,u)=>{if(On(r)&&(r.inline==="sub"||r.inline==="sup")){const f=pi(t,"fontSize");SF(u,A=>f(A)&&t.isEditable(A),jc(t,"fontSize",""));const b=Ve(t.select(r.inline==="sup"?"sub":"sup",u),t.isEditable);t.remove(b,!0)}},Cre=(t,r,a,u)=>{G7(r,f=>{On(f)&&G7(t.dom.select(f.inline,u),b=>{B8(b)&&nP(t,f,a,b,f.exact?b:null)}),Voe(t.dom,f,u)})},_P=(t,r,a,u,f)=>{const b=f.parentNode;ly(t,b,a,u)&&nP(t,r,u,f)||r.merge_with_parents&&b&&t.dom.getParent(b,A=>ly(t,A,a,u)?(nP(t,r,u,f),!0):!1)},TP=Jn.each,Ere=(t,r,a,u)=>{if(yw(t)&&On(r)&&a.parentNode){const f=XE(t.schema),b=ss(st.fromDom(a),A=>Jm(A.dom));return es(f,u)&&gf(t.schema,a.parentNode,{skipBogus:!1,includeZwsp:!0})&&!b}else return!1},wre=(t,r,a,u)=>{const f=t.formatter.get(r),b=f[0],A=!u&&t.selection.isCollapsed(),M=t.dom,N=t.selection,G=(Le,Qe)=>{let ze=!1;return TP(Le,nt=>yn(nt)?M.getContentEditable(Qe)==="false"&&!nt.ceFalseOverride||Re(nt.collapsed)&&nt.collapsed!==A?!0:M.is(Qe,nt.selector)&&!Jm(Qe)?(jA(t,Qe,nt,a,Qe),ze=!0,!1):!0:!1),ze},le=Le=>{if(se(Le)){const Qe=M.create(Le);return jA(t,Qe,b,a,u),Qe}else return null},fe=(Le,Qe,ze)=>{const nt=[];let Mt=!0;const Bt=b.inline||b.block,zt=le(Bt),_n=oo=>Ro(b)&&ly(t,oo,r,a),$n=(oo,An,wn)=>{const Un=ps(b)&&va(t.schema,oo)&&j1(t,An,Bt);return wn&&Un},xo=(oo,An,wn,Un)=>{const Zo=oo.nodeName.toLowerCase(),Ls=j1(t,Bt,Zo)&&j1(t,An,Bt),gr=!ze&&Wn(oo)&&ne(oo.data),Lr=Jm(oo),Sa=!On(b)||!Le.isBlock(oo);return(wn||Un)&&Ls&&!gr&&!Lr&&Sa};Uc(Le,Qe,oo=>{let An;const wn=Un=>{let Zo=!1,Ls=Mt,gr=!1;const Lr=Un.parentNode,Sa=Lr.nodeName.toLowerCase(),Ra=Le.getContentEditable(Un);Re(Ra)&&(Ls=Mt,Mt=Ra==="true",Zo=!0,gr=k(t,Un));const wc=Mt&&!Zo;if(ga(Un)&&!Ere(t,b,Un,Sa)){An=null,To(b)&&Le.remove(Un);return}if(_n(Un)){An=null;return}if($n(Un,Sa,wc)){const qc=Le.rename(Un,Bt);jA(t,qc,b,a,Un),nt.push(qc),An=null;return}if(yn(b)){let qc=G(f,Un);if(!qc&&Re(Lr)&&er(b)&&(qc=G(f,Lr)),!On(b)||qc){An=null;return}}Re(zt)&&xo(Un,Sa,wc,gr)?(An||(An=Le.clone(zt,!1),Lr.insertBefore(An,Un),nt.push(An)),gr&&Zo&&(Mt=Ls),An.appendChild(Un)):(An=null,qe(Je(Un.childNodes),wn),Zo&&(Mt=Ls),An=null)};qe(oo,wn)}),b.links===!0&&qe(nt,oo=>{const An=wn=>{wn.nodeName==="A"&&jA(t,wn,b,a,u),qe(Je(wn.childNodes),An)};An(oo)}),K8(t,r,ch(nt)),qe(nt,oo=>{const An=Zo=>{let Ls=0;return qe(Zo.childNodes,gr=>{!y(gr)&&!am(gr)&&Ls++}),Ls},wn=Zo=>Et(Zo.childNodes,UI).filter(gr=>Le.getContentEditable(gr)!=="false"&&XM(Le,gr,b)).map(gr=>{const Lr=Le.clone(gr,!1);return jA(t,Lr,b,a,Zo),Le.replace(Lr,Zo,!0),Le.remove(gr,!0),Lr}).getOr(Zo),Un=An(oo);if((nt.length>1||!Le.isBlock(oo))&&Un===0){Le.remove(oo,!0);return}(On(b)||To(b)&&b.wrapper)&&(!b.exact&&Un===1&&(oo=wn(oo)),Cre(t,f,a,oo),_P(t,b,r,a,oo),bre(Le,b,a,oo),yre(Le,b,a,oo),Sre(Le,b,a,oo),qA(t,b,a,oo))})},be=z1(u)?u:N.getNode();if(M.getContentEditable(be)==="false"&&!k(t,be)){u=be,G(f,u),ho(t,r,u,a);return}if(b){if(u)if(z1(u)){if(!G(f,u)){const Le=M.createRng();Le.setStartBefore(u),Le.setEndAfter(u),fe(M,Of(M,Le,f),!0)}}else fe(M,u,!0);else!A||!On(b)||U1(t).length?(N.setRng(oP(N.getRng())),pM(t,()=>{$I(t,(Le,Qe)=>{const ze=Qe?Le:Of(M,Le,f);fe(M,ze,!1)})},un),t.nodeChanged()):D8(t,r,a),Noe(t.formatter,r).each(Le=>{qe(SSe(t.selection),Qe=>Aoe(M,Qe,Le,a))});vre(r,t)}ho(t,r,u,a)},fR=(t,r,a,u)=>{(u||t.selection.isEditable())&&wre(t,r,a,u)},q7=t=>Xo(t,"vars"),_re=(t,r)=>{t.set({}),r.on("NodeChange",a=>{X7(r,a.element,t.get())}),r.on("FormatApply FormatRemove",a=>{const u=ye.from(a.node).map(f=>z1(f)?f:f.startContainer).bind(f=>Ho(f)?ye.some(f):ye.from(f.parentElement)).getOrThunk(()=>K7(r));X7(r,u,t.get())})},K7=t=>t.selection.getStart(),Z7=(t,r,a,u,f)=>Tt(r,M=>{const N=t.formatter.matchNode(M,a,f??{},u);return!et(N)},M=>A8(t,M,a)?!0:u?!1:Re(t.formatter.matchNode(M,a,f,!0))),Y7=(t,r)=>{const a=r??K7(t);return Ve(tt(t.dom,a),u=>Ho(u)&&!Fg(u))},X7=(t,r,a)=>{const u=Y7(t,r);en(a,(f,b)=>{const A=M=>{const N=Z7(t,u,b,M.similar,q7(M)?M.vars:void 0),G=N.isSome();if(M.state.get()!==G){M.state.set(G);const le=N.getOr(r);q7(M)?M.callback(G,{node:le,format:b,parents:u}):qe(M.callbacks,fe=>fe(G,{node:le,format:b,parents:u}))}};qe([f.withSimilar,f.withoutSimilar],A),qe(f.withVars,A)})},Tre=(t,r,a,u,f,b)=>{const A=r.get();qe(a.split(","),M=>{const N=No(A,M).getOrThunk(()=>{const le={withSimilar:{state:zo(!1),similar:!0,callbacks:[]},withoutSimilar:{state:zo(!1),similar:!1,callbacks:[]},withVars:[]};return A[M]=le,le}),G=()=>{const le=Y7(t);return Z7(t,le,M,f,b).isSome()};if(et(b)){const le=f?N.withSimilar:N.withoutSimilar;le.callbacks.push(u),le.callbacks.length===1&&le.state.set(G())}else N.withVars.push({state:zo(G()),similar:f,vars:b,callback:u})}),r.set(A)},Are=(t,r,a)=>{const u=t.get();qe(r.split(","),f=>No(u,f).each(b=>{u[f]={withSimilar:{...b.withSimilar,callbacks:Ve(b.withSimilar.callbacks,A=>A!==a)},withoutSimilar:{...b.withoutSimilar,callbacks:Ve(b.withoutSimilar.callbacks,A=>A!==a)},withVars:Ve(b.withVars,A=>A.callback!==a)}})),t.set(u)},xre=(t,r,a,u,f,b)=>(Tre(t,r,a,u,f,b),{unbind:()=>Are(r,a,u)}),Ore=(t,r,a,u)=>{const f=t.formatter.get(r);f&&(gF(t,r,a,u)&&(!("toggle"in f[0])||f[0].toggle)?yd(t,r,a,u):fR(t,r,a,u))},lV=(t,r,a)=>({element:t,width:r,rows:a}),Ire=(t,r)=>({element:t,cells:r}),hy=(t,r)=>({x:t,y:r}),cV=(t,r)=>lh(t,r).bind(of).getOr(1),Rre=(t,r,a,u,f)=>{const b=cV(f,"rowspan"),A=cV(f,"colspan"),M=t.rows;for(let N=a;N<a+b;N++){M[N]||(M[N]=Ire(uf(u),[]));for(let G=r;G<r+A;G++){const le=M[N].cells;le[G]=N===a&&G===r?f:Tl(f)}}},J7=(t,r,a)=>{const u=t.rows;return!!(u[a]?u[a].cells:[])[r]},kre=(t,r,a)=>{for(;J7(t,r,a);)r++;return r},Q7=t=>Gt(t,(r,a)=>a.cells.length>r?a.cells.length:r,0),Dre=(t,r)=>{const a=t.rows;for(let u=0;u<a.length;u++){const f=a[u].cells;for(let b=0;b<f.length;b++)if(Lo(f[b],r))return ye.some(hy(b,u))}return ye.none()},Kd=(t,r,a,u,f)=>{const b=[],A=t.rows;for(let M=a;M<=f;M++){const N=A[M].cells,G=r<u?N.slice(r,u+1):N.slice(u,r+1);b.push(Ire(A[M].element,G))}return b},Mre=(t,r,a)=>{const u=r.x,f=r.y,b=a.x,A=a.y,M=f<A?Kd(t,u,f,b,A):Kd(t,u,A,b,f);return lV(t.element,Q7(M),M)},uV=(t,r)=>{const a=Tl(t.element),u=st.fromTag("tbody");return ah(u,r),zr(a,u),a},eW=t=>vn(t.rows,r=>{const a=vn(r.cells,f=>{const b=uf(f);return vl(b,"colspan"),vl(b,"rowspan"),b}),u=Tl(r.element);return ah(u,a),u}),AP=t=>{const r=lV(Tl(t),0,[]);return qe(Sn(t,"tr"),(a,u)=>{qe(Sn(a,"td,th"),(f,b)=>{Rre(r,kre(r,b,u),u,a,f)})}),lV(r.element,Q7(r.rows),r.rows)},Pre=t=>uV(t,eW(t)),Nre=(t,r,a)=>Dre(t,r).bind(u=>Dre(t,a).map(f=>Mre(t,u,f))),Lre=t=>Et(t,r=>Us(r)==="ul"||Us(r)==="ol"),Bre=(t,r)=>Et(t,a=>Us(a)==="li"&&HI(a,r)).fold(it([]),a=>Lre(t).map(u=>{const f=st.fromTag(Us(u)),b=Cs(Rm(u),(A,M)=>As(M,"list-style"));return ru(f,b),[st.fromTag("li"),f]}).getOr([])),Fre=(t,r)=>{const a=Gt(r,(u,f)=>(zr(f,u),f),t);return r.length>0?ff([a]):a},tW=t=>Km(t)?Ru(t).filter(dC).fold(it([]),r=>[t,r]):dC(t)?[t]:[],Vre=(t,r,a)=>{const u=st.fromDom(r.commonAncestorContainer),f=T0(u,t),b=Ve(f,N=>a.isWrapper(Us(N))),A=Bre(f,r),M=b.concat(A.length?A:tW(u));return vn(M,Tl)},dV=()=>ff([]),nW=(t,r,a)=>Fre(st.fromDom(r.cloneContents()),Vre(t,r,a)),Hre=(t,r)=>Xa(r,"table",Xe(Lo,t)),$re=(t,r)=>Hre(t,r[0]).bind(a=>{const u=r[0],f=r[r.length-1],b=AP(a);return Nre(b,u,f).map(A=>ff([Pre(A)]))}).getOrThunk(dV),Ure=(t,r,a)=>r.length>0&&r[0].collapsed?dV():nW(t,r[0],a),zre=(t,r,a)=>{const u=MA(r,t);return u.length>0?$re(t,u):Ure(t,r,a)},xP=(t,r)=>r>=0&&r<t.length&&_b(t.charAt(r)),pR=t=>ue(t.innerText),oW=t=>t.map(r=>r.nodeName).getOr("div").toLowerCase(),sW=t=>ye.from(t.selection.getRng()).map(r=>{const a=ye.from(t.dom.getParent(r.commonAncestorContainer,t.dom.isBlock)),u=t.getBody(),f=oW(a),b=st.fromDom(r.cloneContents());bne(b),Oj(b);const A=t.dom.add(u,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},b.dom),M=pR(A),N=ue(A.textContent??"");if(t.dom.remove(A),xP(N,0)||xP(N,N.length-1)){const G=a.getOr(u),le=pR(G),fe=le.indexOf(M);if(fe===-1)return M;{const be=xP(le,fe-1),Le=xP(le,fe+M.length);return(be?" ":"")+M+(Le?" ":"")}}else return M}).getOr(""),jre=(t,r)=>{const a=t.selection.getRng(),u=t.dom.create("body"),f=t.selection.getSel(),b=Cj(t,TC(f)),A=r.contextual?zre(st.fromDom(t.getBody()),b,t.schema).dom:a.cloneContents();return A&&u.appendChild(A),t.selection.serializer.serialize(u,r)},rW=(t,r)=>{if(r.format==="text")return sW(t);{const a=jre(t,r);return r.format==="tree"?a:t.selection.isCollapsed()?"":a}},Wre=(t,r)=>({...t,format:r,get:!0,selection:!0,getInner:!0}),Gre=(t,r,a={})=>{const u=Wre(a,r);return Xw(t,u).fold(Ht,f=>{const b=rW(t,f);return YF(t,b,f)})},hV=0,OP=1,IP=2,qre=(t,r)=>{const a=t.length+r.length+2,u=new Array(a),f=new Array(a),b=(le,fe,be)=>({start:le,end:fe,diag:be}),A=(le,fe,be,Le,Qe)=>{const ze=N(le,fe,be,Le);if(ze===null||ze.start===fe&&ze.diag===fe-Le||ze.end===le&&ze.diag===le-be){let nt=le,Mt=be;for(;nt<fe||Mt<Le;)nt<fe&&Mt<Le&&t[nt]===r[Mt]?(Qe.push([hV,t[nt]]),++nt,++Mt):fe-le>Le-be?(Qe.push([IP,t[nt]]),++nt):(Qe.push([OP,r[Mt]]),++Mt)}else{A(le,ze.start,be,ze.start-ze.diag,Qe);for(let nt=ze.start;nt<ze.end;++nt)Qe.push([hV,t[nt]]);A(ze.end,fe,ze.end-ze.diag,Le,Qe)}},M=(le,fe,be,Le)=>{let Qe=le;for(;Qe-fe<Le&&Qe<be&&t[Qe]===r[Qe-fe];)++Qe;return b(le,Qe,fe)},N=(le,fe,be,Le)=>{const Qe=fe-le,ze=Le-be;if(Qe===0||ze===0)return null;const nt=Qe-ze,Mt=ze+Qe,Bt=(Mt%2===0?Mt:Mt+1)/2;u[1+Bt]=le,f[1+Bt]=fe+1;let zt,_n,$n,xo,oo;for(zt=0;zt<=Bt;++zt){for(_n=-zt;_n<=zt;_n+=2){for($n=_n+Bt,_n===-zt||_n!==zt&&u[$n-1]<u[$n+1]?u[$n]=u[$n+1]:u[$n]=u[$n-1]+1,xo=u[$n],oo=xo-le+be-_n;xo<fe&&oo<Le&&t[xo]===r[oo];)u[$n]=++xo,++oo;if(nt%2!==0&&nt-zt<=_n&&_n<=nt+zt&&f[$n-nt]<=u[$n])return M(f[$n-nt],_n+le-be,fe,Le)}for(_n=nt-zt;_n<=nt+zt;_n+=2){for($n=_n+Bt-nt,_n===nt-zt||_n!==nt+zt&&f[$n+1]<=f[$n-1]?f[$n]=f[$n+1]-1:f[$n]=f[$n-1],xo=f[$n]-1,oo=xo-le+be-_n;xo>=le&&oo>=be&&t[xo]===r[oo];)f[$n]=xo--,oo--;if(nt%2===0&&-zt<=_n&&_n<=zt&&f[$n]<=u[$n+nt])return M(f[$n],_n+le-be,fe,Le)}}return null},G=[];return A(0,t.length,0,r.length,G),G},RP=t=>Ho(t)?t.outerHTML:Wn(t)?Gv.encodeRaw(t.data,!1):$a(t)?"<!--"+t.data+"-->":"",Kre=t=>{let r;const a=document.createElement("div"),u=document.createDocumentFragment();for(t&&(a.innerHTML=t);r=a.firstChild;)u.appendChild(r);return u},Zre=(t,r,a)=>{const u=Kre(r);if(t.hasChildNodes()&&a<t.childNodes.length){const f=t.childNodes[a];t.insertBefore(u,f)}else t.appendChild(u)},Yre=(t,r)=>{if(t.hasChildNodes()&&r<t.childNodes.length){const a=t.childNodes[r];t.removeChild(a)}},Xre=(t,r)=>{let a=0;qe(t,u=>{u[0]===hV?a++:u[0]===OP?(Zre(r,u[1],a),a++):u[0]===IP&&Yre(r,a)})},Jre=(t,r)=>Ve(vn(Je(t.childNodes),ee(ue,RP)),a=>a.length>0),Qre=(t,r)=>{const a=vn(Je(r.childNodes),RP);return Xre(qre(a,t),r),r},iW=Ml(()=>document.implementation.createHTMLDocument("undo")),eie=t=>t.querySelector("iframe")!==null,tie=t=>({type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}),nie=t=>({type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}),kP=t=>{const r=t.serializer.getTempAttrs(),a=RM(t.getBody(),r);return eie(a)?tie(Jre(a)):nie(ue(a.innerHTML))},fV=(t,r,a)=>{const u=a?r.beforeBookmark:r.bookmark;r.type==="fragmented"?Qre(r.fragments,t.getBody()):t.setContent(r.content,{format:"raw",no_selection:Re(u)&&oM(u)?!u.isFakeCaret:!0}),u&&(t.selection.moveToBookmark(u),t.selection.scrollIntoView())},pV=t=>t.type==="fragmented"?t.fragments.join(""):t.content,aW=t=>{const r=st.fromTag("body",iW());return zp(r,pV(t)),qe(Sn(r,"*[data-mce-bogus]"),Pu),Sc(r)},YA=(t,r)=>pV(t)===pV(r),DP=(t,r)=>aW(t)===aW(r),MP=(t,r)=>!t||!r?!1:YA(t,r)?!0:DP(t,r),PP=t=>t.get()===0,NP=(t,r,a)=>{PP(a)&&(t.typing=r)},lW=(t,r)=>{t.typing&&(NP(t,!1,r),t.add())},mV=t=>{t.typing&&(t.typing=!1,t.add())},oie=(t,r,a)=>{PP(r)&&a.set(uw(t.selection))},sie=(t,r,a,u,f,b,A)=>{const M=kP(t),N=Jn.extend(b||{},M);if(!PP(u)||t.removed)return null;const G=r.data[a.get()];if(t.dispatch("BeforeAddUndo",{level:N,lastLevel:G,originalEvent:A}).isDefaultPrevented()||G&&MP(G,N))return null;r.data[a.get()]&&f.get().each(be=>{r.data[a.get()].beforeBookmark=be});const le=wD(t);if(le&&r.data.length>le){for(let be=0;be<r.data.length-1;be++)r.data[be]=r.data[be+1];r.data.length--,a.set(r.data.length)}N.bookmark=uw(t.selection),a.get()<r.data.length-1&&(r.data.length=a.get()+1),r.data.push(N),a.set(r.data.length-1);const fe={level:N,lastLevel:G,originalEvent:A};return a.get()>0?(t.setDirty(!0),t.dispatch("AddUndo",fe),t.dispatch("change",fe)):t.dispatch("AddUndo",fe),N},rie=(t,r,a)=>{r.data=[],a.set(0),r.typing=!1,t.dispatch("ClearUndos")},iie=(t,r,a,u,f)=>{if(r.transact(u)){const b=r.data[a.get()].bookmark,A=r.data[a.get()-1];fV(t,A,!0),r.transact(f)&&(r.data[a.get()-1].beforeBookmark=b)}},aie=(t,r,a)=>{let u;return r.get()<a.length-1&&(r.set(r.get()+1),u=a[r.get()],fV(t,u,!1),t.setDirty(!0),t.dispatch("Redo",{level:u})),u},LP=(t,r,a,u)=>{let f;return r.typing&&(r.add(),r.typing=!1,NP(r,!1,a)),u.get()>0&&(u.set(u.get()-1),f=r.data[u.get()],fV(t,f,!0),t.setDirty(!0),t.dispatch("Undo",{level:f})),f},mR=t=>{t.clear(),t.add()},lie=(t,r,a)=>a.get()>0||r.typing&&r.data[0]&&!MP(kP(t),r.data[0]),XA=(t,r)=>r.get()<t.data.length-1&&!t.typing,sg=(t,r,a)=>(lW(t,r),t.beforeChange(),t.ignore(a),t.add()),gR=(t,r)=>{try{t.set(t.get()+1),r()}finally{t.set(t.get()-1)}},Xi=(t,r)=>{const a=t.dom,u=Re(r)?r:t.getBody();qe(a.select("table,a",u),f=>{switch(f.nodeName){case"TABLE":const b=ww(t),A=a.getAttrib(f,"border");(!A||A==="0")&&t.hasVisual?a.addClass(f,b):a.removeClass(f,b);break;case"A":if(!a.getAttrib(f,"href")){const M=a.getAttrib(f,"name")||f.id,N=_I(t);M&&t.hasVisual?a.addClass(f,N):a.removeClass(f,N)}break}}),t.dispatch("VisualAid",{element:r,hasVisual:t.hasVisual})},JA=t=>({init:{bindEvents:St},undoManager:{beforeChange:(r,a)=>oie(t,r,a),add:(r,a,u,f,b,A)=>sie(t,r,a,u,f,b,A),undo:(r,a,u)=>LP(t,r,a,u),redo:(r,a)=>aie(t,r,a),clear:(r,a)=>rie(t,r,a),reset:r=>mR(r),hasUndo:(r,a)=>lie(t,r,a),hasRedo:(r,a)=>XA(r,a),transact:(r,a,u)=>sg(r,a,u),ignore:(r,a)=>gR(r,a),extra:(r,a,u,f)=>iie(t,r,a,u,f)},formatter:{match:(r,a,u,f)=>gF(t,r,a,u,f),matchAll:(r,a)=>xoe(t,r,a),matchNode:(r,a,u,f)=>ly(t,r,a,u,f),canApply:r=>Ooe(t,r),closest:r=>ya(t,r),apply:(r,a,u)=>fR(t,r,a,u),remove:(r,a,u,f)=>yd(t,r,a,u,f),toggle:(r,a,u)=>Ore(t,r,a,u),formatChanged:(r,a,u,f,b)=>xre(t,r,a,u,f,b)},editor:{getContent:r=>GB(t,r),setContent:(r,a)=>mre(t,r,a),insertContent:(r,a)=>hre(t,r,a),addVisual:r=>Xi(t,r)},selection:{getContent:(r,a)=>Gre(t,r,a)},autocompleter:{addDecoration:St,removeDecoration:St},raw:{getModel:()=>ye.none()}}),cW=t=>{const r=G=>Se(G)?G:{},{init:a,undoManager:u,formatter:f,editor:b,selection:A,autocompleter:M,raw:N}=t;return{init:{bindEvents:a.bindEvents},undoManager:{beforeChange:u.beforeChange,add:u.add,undo:u.undo,redo:u.redo,clear:u.clear,reset:u.reset,hasUndo:u.hasUndo,hasRedo:u.hasRedo,transact:(G,le,fe)=>u.transact(fe),ignore:(G,le)=>u.ignore(le),extra:(G,le,fe,be)=>u.extra(fe,be)},formatter:{match:(G,le,fe,be)=>f.match(G,r(le),be),matchAll:f.matchAll,matchNode:f.matchNode,canApply:G=>f.canApply(G),closest:G=>f.closest(G),apply:(G,le,fe)=>f.apply(G,r(le)),remove:(G,le,fe,be)=>f.remove(G,r(le)),toggle:(G,le,fe)=>f.toggle(G,r(le)),formatChanged:(G,le,fe,be,Le)=>f.formatChanged(le,fe,be,Le)},editor:{getContent:G=>b.getContent(G),setContent:(G,le)=>({content:b.setContent(G,le),html:""}),insertContent:(G,le)=>(b.insertContent(G),""),addVisual:b.addVisual},selection:{getContent:(G,le)=>A.getContent(le)},autocompleter:{addDecoration:M.addDecoration,removeDecoration:M.removeDecoration},raw:{getModel:()=>ye.some(N.getRawModel())}}},uW=()=>{const t=it(null),r=it("");return{init:{bindEvents:St},undoManager:{beforeChange:St,add:t,undo:t,redo:t,clear:St,reset:St,hasUndo:Dt,hasRedo:Dt,transact:t,ignore:St,extra:St},formatter:{match:Dt,matchAll:it([]),matchNode:it(void 0),canApply:Dt,closest:r,apply:St,remove:St,toggle:St,formatChanged:it({unbind:St})},editor:{getContent:r,setContent:it({content:"",html:""}),insertContent:it(""),addVisual:St},selection:{getContent:r},autocompleter:{addDecoration:St,removeDecoration:St},raw:{getModel:it(ye.none())}}},uv=t=>Xo(t.plugins,"rtc"),gV=t=>No(t.plugins,"rtc").bind(r=>ye.from(r.setup)),vV=t=>{const r=t;return gV(t).fold(()=>(r.rtcInstance=JA(t),ye.none()),a=>(r.rtcInstance=uW(),ye.some(()=>a().then(u=>(r.rtcInstance=cW(u),u.rtc.isRemote)))))},vR=t=>t.rtcInstance?t.rtcInstance:JA(t),kc=t=>{const r=t.rtcInstance;if(r)return r;throw new Error("Failed to get RTC instance not yet initialized.")},BP=(t,r,a)=>{kc(t).undoManager.beforeChange(r,a)},yV=(t,r,a,u,f,b,A)=>kc(t).undoManager.add(r,a,u,f,b,A),dW=(t,r,a,u)=>kc(t).undoManager.undo(r,a,u),hW=(t,r,a)=>kc(t).undoManager.redo(r,a),fW=(t,r,a)=>{kc(t).undoManager.clear(r,a)},pW=(t,r)=>{kc(t).undoManager.reset(r)},mW=(t,r,a)=>kc(t).undoManager.hasUndo(r,a),Jw=(t,r,a)=>kc(t).undoManager.hasRedo(r,a),gW=(t,r,a,u)=>kc(t).undoManager.transact(r,a,u),bV=(t,r,a)=>{kc(t).undoManager.ignore(r,a)},cie=(t,r,a,u,f)=>{kc(t).undoManager.extra(r,a,u,f)},uie=(t,r,a,u,f)=>kc(t).formatter.match(r,a,u,f),vW=(t,r,a)=>kc(t).formatter.matchAll(r,a),yW=(t,r,a,u,f)=>kc(t).formatter.matchNode(r,a,u,f),bW=(t,r)=>kc(t).formatter.canApply(r),FP=(t,r)=>kc(t).formatter.closest(r),SW=(t,r,a,u)=>{kc(t).formatter.apply(r,a,u)},CW=(t,r,a,u,f)=>{kc(t).formatter.remove(r,a,u,f)},EW=(t,r,a,u)=>{kc(t).formatter.toggle(r,a,u)},wW=(t,r,a,u,f,b)=>kc(t).formatter.formatChanged(r,a,u,f,b),_W=(t,r)=>vR(t).editor.getContent(r),TW=(t,r,a)=>vR(t).editor.setContent(r,a),AW=(t,r,a)=>vR(t).editor.insertContent(r,a),xW=(t,r,a)=>kc(t).selection.getContent(r,a),OW=(t,r)=>kc(t).editor.addVisual(r),SV=t=>kc(t).init.bindEvents(),CV=(t,r={})=>{const a=r.format?r.format:"html";return xW(t,a,r)},EV=(t,r,a)=>{if(Xo(t,r)){const u=Ve(t[r],f=>f!==a);u.length===0?delete t[r]:t[r]=u}};var IW=(t,r)=>{let a,u;const f=(M,N)=>Et(N,G=>t.is(G,M)),b=M=>t.getParents(M,void 0,t.getRoot()),A=()=>{a={},u={},r.on("NodeChange",M=>{const N=M.element,G=b(N),le={};en(a,(fe,be)=>{f(be,G).each(Le=>{u[be]||(qe(fe,Qe=>{Qe(!0,{node:Le,selector:be,parents:G})}),u[be]=fe),le[be]=fe})}),en(u,(fe,be)=>{le[be]||(delete u[be],qe(fe,Le=>{Le(!1,{node:N,selector:be,parents:G})}))})})};return{selectorChangedWithUnbind:(M,N)=>(a||A(),a[M]||(a[M]=[]),a[M].push(N),f(M,b(r.selection.getStart())).each(()=>{u[M]=a[M]}),{unbind:()=>{EV(a,M,N),EV(u,M,N)}})}};const wV=t=>!!(t&&t.ownerDocument)&&Qr(st.fromDom(t.ownerDocument),st.fromDom(t)),RW=t=>t?wV(t.startContainer)&&wV(t.endContainer):!1,_V=(t,r,a,u)=>{let f,b;const{selectorChangedWithUnbind:A}=IW(t,u),M=(Mo,ws)=>{const Bi=t.createRng();Re(Mo)&&Re(ws)?(Bi.setStart(Mo,ws),Bi.setEnd(Mo,ws),_n(Bi),Mt(!1)):(AC(t,Bi,u.getBody(),!0),_n(Bi))},N=Mo=>CV(u,Mo),G=(Mo,ws)=>N7(u,Mo,ws),le=Mo=>cne(u.getBody(),zt(),Mo),fe=Mo=>Sj(u.getBody(),zt(),Mo),be=(Mo,ws)=>qc.getBookmark(Mo,ws),Le=Mo=>qc.moveToBookmark(Mo),Qe=(Mo,ws)=>(hne(t,Mo,ws).each(_n),Mo),ze=()=>{const Mo=zt(),ws=Bt();return!Mo||Mo.item?!1:Mo.compareEndPoints?Mo.compareEndPoints("StartToEnd",Mo)===0:!ws||Mo.collapsed},nt=()=>{if(u.mode.isReadOnly())return!1;const Mo=zt(),ws=u.getBody().querySelectorAll('[data-mce-selected="1"]');return ws.length>0?no(ws,Bi=>t.isEditable(Bi.parentElement)):bj(t,Mo)},Mt=Mo=>{const ws=zt();ws.collapse(!!Mo),_n(ws)},Bt=()=>r.getSelection?r.getSelection():r.document.selection,zt=()=>{let Mo;const ws=(Di,fs,uo)=>{try{return fs.compareBoundaryPoints(Di,uo)}catch{return-1}},Bi=r.document;if(Re(u.bookmark)&&!ng(u)){const Di=jI(u);if(Di.isSome())return Di.map(fs=>Cj(u,[fs])[0]).getOr(Bi.createRange())}try{const Di=Bt();Di&&!Bg(Di.anchorNode)&&(Di.rangeCount>0?Mo=Di.getRangeAt(0):Mo=Bi.createRange(),Mo=Cj(u,[Mo])[0])}catch{}if(Mo||(Mo=Bi.createRange()),Er(Mo.startContainer)&&Mo.collapsed){const Di=t.getRoot();Mo.setStart(Di,0),Mo.setEnd(Di,0)}return f&&b&&(ws(Mo.START_TO_START,Mo,f)===0&&ws(Mo.END_TO_END,Mo,f)===0?Mo=b:(f=null,b=null)),Mo},_n=(Mo,ws)=>{if(!RW(Mo))return;const Bi=Bt();if(Mo=u.dispatch("SetSelectionRange",{range:Mo,forward:ws}).range,Bi){b=Mo;try{Bi.removeAllRanges(),Bi.addRange(Mo)}catch{}ws===!1&&Bi.extend&&(Bi.collapse(Mo.endContainer,Mo.endOffset),Bi.extend(Mo.startContainer,Mo.startOffset)),f=Bi.rangeCount>0?Bi.getRangeAt(0):null}if(!Mo.collapsed&&Mo.startContainer===Mo.endContainer&&Bi?.setBaseAndExtent&&Mo.endOffset-Mo.startOffset<2&&Mo.startContainer.hasChildNodes()){const fs=Mo.startContainer.childNodes[Mo.startOffset];fs&&fs.nodeName==="IMG"&&(Bi.setBaseAndExtent(Mo.startContainer,Mo.startOffset,Mo.endContainer,Mo.endOffset),(Bi.anchorNode!==Mo.startContainer||Bi.focusNode!==Mo.endContainer)&&Bi.setBaseAndExtent(fs,0,fs,1))}u.dispatch("AfterSetSelectionRange",{range:Mo,forward:ws})},$n=Mo=>(vP(u,t.getOuterHTML(Mo)),Mo),xo=()=>une(u.getBody(),zt()),oo=(Mo,ws)=>dne(t,zt(),Mo,ws),An=()=>{const Mo=Bt(),ws=Mo?.anchorNode,Bi=Mo?.focusNode;if(!Mo||!ws||!Bi||Bg(ws)||Bg(Bi))return!0;const Di=t.createRng(),fs=t.createRng();try{Di.setStart(ws,Mo.anchorOffset),Di.collapse(!0),fs.setStart(Bi,Mo.focusOffset),fs.collapse(!0)}catch{return!0}return Di.compareBoundaryPoints(Di.START_TO_START,fs)<=0},wc={dom:t,win:r,serializer:a,editor:u,expand:(Mo={type:"word"})=>_n(_0(t).expand(zt(),Mo)),collapse:Mt,setCursorLocation:M,getContent:N,setContent:G,getBookmark:be,moveToBookmark:Le,select:Qe,isCollapsed:ze,isEditable:nt,isForward:An,setNode:$n,getNode:xo,getSel:Bt,setRng:_n,getRng:zt,getStart:le,getEnd:fe,getSelectedBlocks:oo,normalize:()=>{const Mo=zt(),ws=Bt();if(!BI(ws)&&NA(u)){const Bi=$w(t,Mo);return Bi.each(Di=>{_n(Di,An())}),Bi.getOr(Mo)}return Mo},selectorChanged:(Mo,ws)=>(A(Mo,ws),wc),selectorChangedWithUnbind:A,getScrollContainer:()=>{let Mo,ws=t.getRoot();for(;ws&&ws.nodeName!=="BODY";){if(ws.scrollHeight>ws.clientHeight){Mo=ws;break}ws=ws.parentNode}return Mo},scrollIntoView:(Mo,ws)=>{Re(Mo)?yj(u,Mo,ws):Uw(u,zt(),ws)},placeCaretAt:(Mo,ws)=>_n(sj(Mo,ws,u.getDoc())),getBoundingClientRect:()=>{const Mo=zt();return Mo.collapsed?gn.fromRangeStart(Mo).getClientRects()[0]:Mo.getBoundingClientRect()},destroy:()=>{r=f=b=null,vv.destroy()}},qc=Hw(wc),vv=oj(wc,u);return wc.bookmarkManager=qc,wc.controlSelection=vv,wc},kW=(t,r,a)=>{r.addNodeFilter("br",(u,f,b)=>{const A=Jn.extend({},a.getBlockElements()),M=a.getNonEmptyElements(),N=a.getWhitespaceElements();A.body=1;const G=le=>le.name in A||l0(a,le);for(let le=0,fe=u.length;le<fe;le++){let be=u[le],Le=be.parent;if(Le&&G(Le)&&be===Le.lastChild){let Qe=be.prev;for(;Qe;){const ze=Qe.name;if(ze!=="span"||Qe.attr("data-mce-type")!=="bookmark"){ze==="br"&&(be=null);break}Qe=Qe.prev}if(be&&(be.remove(),tR(a,M,N,Le))){const ze=a.getElementRule(Le.name);ze&&(ze.removeEmpty?Le.remove():ze.paddEmpty&&kF(t,b,G,Le))}}else{let Qe=be;for(;Le&&Le.firstChild===Qe&&Le.lastChild===Qe&&(Qe=Le,!A[Le.name]);)Le=Le.parent;if(Qe===Le){const ze=new yh("#text",3);ze.value=Pi,be.replace(ze)}}}})},DW=(t,r,a)=>{t.addAttributeFilter("data-mce-tabindex",(u,f)=>{let b=u.length;for(;b--;){const A=u[b];A.attr("tabindex",A.attr("data-mce-tabindex")),A.attr(f,null)}}),t.addAttributeFilter("src,href,style",(u,f)=>{const b="data-mce-"+f,A=r.url_converter,M=r.url_converter_scope;let N=u.length;for(;N--;){const G=u[N];let le=G.attr(b);le!==void 0?(G.attr(f,le.length>0?le:null),G.attr(b,null)):(le=G.attr(f),f==="style"?le=a.serializeStyle(a.parseStyle(le),G.name):A&&(le=A.call(M,le,f,G.name)),G.attr(f,le.length>0?le:null))}}),t.addAttributeFilter("class",u=>{let f=u.length;for(;f--;){const b=u[f];let A=b.attr("class");A&&(A=A.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),b.attr("class",A.length>0?A:null))}}),t.addAttributeFilter("data-mce-type",(u,f,b)=>{let A=u.length;for(;A--;){const M=u[A];M.attr("data-mce-type")==="bookmark"&&!b.cleanup&&(ye.from(M.firstChild).exists(G=>!ne(G.value??""))?M.unwrap():M.remove())}}),t.addNodeFilter("script,style",(u,f)=>{const b=M=>M.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let A=u.length;for(;A--;){const M=u[A],N=M.firstChild,G=N?.value??"";if(f==="script"){const le=M.attr("type");le&&M.attr("type",le==="mce-no/type"?null:le.replace(/^mce\-/,"")),r.element_format==="xhtml"&&N&&G.length>0&&(N.value=`// <![CDATA[
`+b(G)+`
// ]]>`)}else r.element_format==="xhtml"&&N&&G.length>0&&(N.value=`<!--
`+b(G)+`
-->`)}}),t.addNodeFilter("#comment",u=>{let f=u.length;for(;f--;){const b=u[f],A=b.value;r.preserve_cdata&&A?.indexOf("[CDATA[")===0?(b.name="#cdata",b.type=4,b.value=a.decode(A.replace(/^\[CDATA\[|\]\]$/g,""))):A?.indexOf("mce:protected ")===0&&(b.name="#text",b.type=3,b.raw=!0,b.value=unescape(A).substr(14))}}),t.addNodeFilter("xml:namespace,input",(u,f)=>{let b=u.length;for(;b--;){const A=u[b];A.type===7?A.remove():A.type===1&&f==="input"&&!A.attr("type")&&A.attr("type","text")}}),t.addAttributeFilter("data-mce-type",u=>{qe(u,f=>{f.attr("data-mce-type")==="format-caret"&&(f.isEmpty(t.schema.getNonEmptyElements())?f.remove():f.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(u,f)=>{let b=u.length;for(;b--;)u[b].attr(f,null)}),r.remove_trailing_brs&&kW(r,t,t.schema)},TV=t=>{const r=u=>u?.name==="br",a=t.lastChild;if(r(a)){const u=a.prev;r(u)&&(a.remove(),u.remove())}},VP=(t,r,a)=>{let u;const f=t.dom;let b=r.cloneNode(!0);const A=document.implementation;if(A.createHTMLDocument){const M=A.createHTMLDocument("");Jn.each(b.nodeName==="BODY"?b.childNodes:[b],N=>{M.body.appendChild(M.importNode(N,!0))}),b.nodeName!=="BODY"?b=M.body.firstChild:b=M.body,u=f.doc,f.doc=M}return ev(t,{...a,node:b}),u&&(f.doc=u),b},MW=(t,r)=>Re(t)&&t.hasEventListeners("PreProcess")&&!r.no_events,die=(t,r,a)=>MW(t,a)?VP(t,r,a):r,PW=(t,r,a)=>{Jn.inArray(r,a)===-1&&(t.addAttributeFilter(a,(u,f)=>{let b=u.length;for(;b--;)u[b].attr(f,null)}),r.push(a))},HP=(t,r,a)=>!r.no_events&&t?iD(t,{...r,content:a}).content:a,AV=(t,r,a)=>{const u=ue(a.getInner?r.innerHTML:t.getOuterHTML(r));return a.selection||C(st.fromDom(r))?u:Jn.trim(u)},yR=(t,r,a)=>{const u=a.selection?{forced_root_block:!1,...a}:a,f=t.parse(r,u);return TV(f),f},xV=(t,r,a)=>jw(t,r).serialize(a),NW=(t,r,a,u,f)=>{const b=xV(r,a,u);return HP(t,f,b)},QA=(t,r)=>{const a=["data-mce-selected"],u={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...t},f=r&&r.dom?r.dom:yi.DOM,b=r&&r.schema?r.schema:Sf(u),A=Yw(u,b);DW(A,u,f);const M=(N,G={})=>{const{indent:le,entity_encoding:fe,...be}=G,Le={format:"html",...be},Qe=die(r,N,Le),ze=AV(f,Qe,Le),nt=yR(A,ze,Le);if(Le.format==="tree")return nt;const Mt={...u,...Re(le)?{indent:le}:{},...Re(fe)?{entity_encoding:fe}:{}};return NW(r,Mt,b,nt,Le)};return{schema:b,addNodeFilter:A.addNodeFilter,addAttributeFilter:A.addAttributeFilter,serialize:M,addRules:b.addValidElements,setRules:b.setValidElements,addTempAttr:Xe(PW,A,a),getTempAttrs:it(a),getNodeFilters:A.getNodeFilters,getAttributeFilters:A.getAttributeFilters,removeNodeFilter:A.removeNodeFilter,removeAttributeFilter:A.removeAttributeFilter}},$P=(t,r)=>{const a=QA(t,r);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter}},OV="html",ex=(t,r)=>({...t,format:r,get:!0,getInner:!0}),VC=(t,r={})=>{const a=r.format?r.format:OV,u=ex(r,a);return Xw(t,u).fold(Ht,f=>{const b=_W(t,f);return YF(t,b,f)})},LW="html",hie=(t,r)=>({format:LW,...t,set:!0,content:r}),IV=(t,r,a={})=>{const u=hie(a,r);fP(t,u).each(f=>{const b=TW(t,f.content,f);pP(t,b.html,f)})},bR=yi.DOM,BW=t=>{bR.setStyle(t.id,"display",t.orgDisplay)},SR=t=>ye.from(t).each(r=>r.destroy()),fie=t=>{const r=t;r.contentAreaContainer=r.formElement=r.container=r.editorContainer=null,r.bodyElement=r.contentDocument=r.contentWindow=null,r.iframeElement=r.targetElm=null;const a=t.selection;if(a){const u=a.dom;r.selection=a.win=a.dom=u.doc=null}},HC=t=>{const r=t.formElement;r&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,delete r._mceOldSubmit),bR.unbind(r,"submit reset",t.formEventDelegate))},Qw=t=>{if(!t.removed){const{_selectionOverrides:r,editorUpload:a}=t,u=t.getBody(),f=t.getElement();u&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&Re(f?.nextSibling)&&bR.remove(f.nextSibling),bb(t),t.editorManager.remove(t),!t.inline&&u&&BW(t),Ym(t),bR.remove(t.getContainer()),SR(r),SR(a),t.destroy()}},FW=(t,r)=>{const{selection:a,dom:u}=t;if(!t.destroyed){if(!r&&!t.removed){t.remove();return}r||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),SR(a),SR(u)),HC(t),fie(t),t.destroyed=!0}},UP=(()=>{const t={};return{add:(f,b)=>{t[f]=b},get:f=>t[f]?t[f]:{icons:{}},has:f=>Xo(t,f)}})(),tx=$c.ModelManager,VW=(t,r)=>r.dom[t],Sp=(t,r)=>parseInt(Ha(r,t),10),fy=Xe(VW,"clientWidth"),HW=Xe(VW,"clientHeight"),RV=Xe(Sp,"margin-top"),kV=Xe(Sp,"margin-left"),zP=t=>t.dom.getBoundingClientRect(),mie=(t,r,a)=>{const u=fy(t),f=HW(t);return r>=0&&a>=0&&r<=u&&a<=f},$W=(t,r,a,u)=>{const f=zP(r),b=t?f.left+r.dom.clientLeft+kV(r):0,A=t?f.top+r.dom.clientTop+RV(r):0,M=a-b,N=u-A;return{x:M,y:N}},CR=(t,r,a)=>{const u=st.fromDom(t.getBody()),f=t.inline?u:wl(u),b=$W(t.inline,f,r,a);return mie(f,b.x,b.y)},gie=t=>ye.from(t).map(st.fromDom),jP=t=>{const r=t.inline?t.getBody():t.getContentAreaContainer();return gie(r).map(ri).getOr(!1)};var DV=()=>{const t=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,getArgs:t}};const MV=t=>{const r=[],a=()=>{const be=t.theme;return be&&be.getNotificationManagerImpl?be.getNotificationManagerImpl():DV()},u=()=>ye.from(r[0]),f=(be,Le)=>be.type===Le.type&&be.text===Le.text&&!be.progressBar&&!be.timeout&&!Le.progressBar&&!Le.timeout,b=()=>{u().each(be=>{be.reposition()})},A=be=>{r.push(be)},M=be=>{Yn(r,Le=>Le===be).each(Le=>{r.splice(Le,1)})},N=(be,Le=!0)=>t.removed||!jP(t)?{}:(Le&&t.dispatch("BeforeOpenNotification",{notification:be}),Et(r,Qe=>f(a().getArgs(Qe),be)).getOrThunk(()=>{t.editorManager.setActive(t);const Qe=a().open(be,()=>{M(Qe)},()=>VA(t));return A(Qe),b(),t.dispatch("OpenNotification",{notification:{...Qe}}),Qe})),G=()=>{u().each(be=>{a().close(be),M(be),b()})},le=it(r);return(be=>{be.on("SkinLoaded",()=>{const Le=EI(be);Le&&N({text:Le,type:"warning",timeout:0},!1),b()}),be.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(b)}),be.on("remove",()=>{qe(r.slice(),Le=>{a().close(Le)})}),be.on("keydown",Le=>{const Qe=Le.key?.toLowerCase()==="f12"||Le.keyCode===123;Le.altKey&&Qe&&(Le.preventDefault(),u().map(ze=>st.fromDom(ze.getEl())).each(ze=>qy(ze)))})})(t),{open:N,close:G,getNotifications:le}},I0=$c.PluginManager,e_=$c.ThemeManager;var vie=()=>{const t=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,openUrl:t,alert:t,confirm:t,close:t}};const py=t=>{let r=[];const a=()=>{const nt=t.theme;return nt&&nt.getWindowManagerImpl?nt.getWindowManagerImpl():vie()},u=(nt,Mt)=>(...Bt)=>Mt?Mt.apply(nt,Bt):void 0,f=nt=>{t.dispatch("OpenWindow",{dialog:nt})},b=nt=>{t.dispatch("CloseWindow",{dialog:nt})},A=(nt,Mt)=>{r.push({instanceApi:nt,triggerElement:Mt}),f(nt)},M=nt=>{b(nt);const Mt=Pt(r,({instanceApi:Bt,triggerElement:zt})=>Bt===nt?zt:ye.none());r=Ve(r,({instanceApi:Bt})=>Bt!==nt),r.length===0?t.focus():Mt.filter(ri).each(qy)},N=()=>ye.from(r[r.length-1]),G=nt=>{t.editorManager.setActive(t),SM(t);const Mt=Bh();t.ui.show();const Bt=nt();return A(Bt,Mt),Bt},le=(nt,Mt)=>G(()=>a().open(nt,Mt,M)),fe=nt=>G(()=>a().openUrl(nt,M)),be=nt=>{r.length!==0&&nt.each(Mt=>qy(Mt))},Le=(nt,Mt,Bt)=>{const zt=Bh(),_n=a();_n.alert(nt,u(Bt||_n,()=>{be(zt),Mt?.()}))},Qe=(nt,Mt,Bt)=>{const zt=Bh(),_n=a();_n.confirm(nt,u(Bt||_n,$n=>{be(zt),Mt?.($n)}))},ze=()=>{N().each(({instanceApi:nt})=>{a().close(nt),M(nt)})};return t.on("remove",()=>{qe(r,({instanceApi:nt})=>{a().close(nt)})}),{open:le,openUrl:fe,alert:Le,confirm:Qe,close:ze}},Cp=(t,r)=>{t.notificationManager.open({type:"error",text:r})},$C=(t,r)=>{t._skinLoaded?Cp(t,r):t.on("SkinLoaded",()=>{Cp(t,r)})},fm=(t,r)=>{$C(t,fp.translate(["Failed to upload image: {0}",r]))},t_=(t,r,a)=>{fI(t,r,{message:a}),console.error(a)},Li=(t,r,a)=>a?`Failed to load ${t}: ${a} from url ${r}`:`Failed to load ${t} url: ${r}`,yie=(t,r,a)=>{t_(t,"PluginLoadError",Li("plugin",r,a))},tS=(t,r,a)=>{t_(t,"IconsLoadError",Li("icons",r,a))},ER=(t,r,a)=>{t_(t,"LanguageLoadError",Li("language",r,a))},UW=(t,r,a)=>{t_(t,"ThemeLoadError",Li("theme",r,a))},PV=(t,r,a)=>{t_(t,"ModelLoadError",Li("model",r,a))},NV=(t,r)=>{t_(t,"LicenseKeyManagerLoadError",Li("license key manager",r))},bie=(t,r)=>{t_(t,"ComponentLoadError",Li("component",r))},LV=(t,r,a)=>{const u=fp.translate(["Failed to initialize plugin: {0}",r]);fI(t,"PluginLoadError",{message:u}),WP(u,a),$C(t,u)},WP=(t,...r)=>{const a=window.console;a&&(a.error?a.error(t,...r):a.log(t,...r))},BV=new WeakMap,zW=t=>{if(BV.has(t))return;BV.set(t,!0);const r=()=>{t.on("SwitchMode",u=>{const{mode:f}=u;f!=="readonly"&&t.mode.set("readonly")})},a=()=>{t.on("DisabledStateChange",u=>{const{state:f}=u;f||u.preventDefault()},!0)};t.initialized?(t.removed||t.mode.set("readonly"),t.options.set("disabled",!0)):t.on("init",()=>{t.removed||t.mode.set("readonly"),t.options.set("disabled",!0)}),a(),r()},GP=(t,r)=>{const{type:a,message:u}=r;t.notificationManager.open({type:a,text:u})},jW=t=>{switch(t){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;case"log":default:return console.log}},qP=t=>{jW(t.type)(t.message)},FV=(t,r)=>{const{console:a,editor:u}=r;Re(u)&&(t._skinLoaded?GP(t,u):t.on("SkinLoaded",()=>{GP(t,u)})),Re(a)&&qP(a)},VV="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",Sie="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",Cie=t=>{const r="The editor is disabled because a TinyMCE license key has not been provided.";FV(t,{console:{type:"error",message:[`${r}`,Sie,VV].join(" ")},editor:{type:"warning",message:`${r}`}})},WW=(t,r)=>{const a=`${r==="online"?"API":"license"} key`,u=`The editor is disabled because the TinyMCE ${a} could not be validated.`;FV(t,{console:{type:"error",message:[`${u}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${a} to be validated but could not be loaded.`,VV].join(" ")},editor:{type:"warning",message:`${u}`}})},GW=(t,r)=>{const a=`The "${r}" plugin requires a valid TinyMCE license key.`;FV(t,{console:{type:"error",message:[`${a}`,VV].join(" ")}})},qW="licensekeymanager",KW=t=>se(BD(t))?"online":"offline",Eie=t=>{const r=Aw(t)?.toLowerCase();return r==="gpl"?"gpl":$e(r)?"no_key":"non_gpl"},HV=t=>{const r=KW(t),a=Eie(t),u=new Set(M1(t)).has(qW);return a!=="gpl"||r==="online"||u?{type:"use_plugin",onlineStatus:r,licenseKeyType:a,forcePlugin:u}:{type:"use_gpl",onlineStatus:r,licenseKeyType:a,forcePlugin:u}},wR=t=>({validate:r=>{const{plugin:a}=r;return se(a)&&GW(t,a),Promise.resolve(!1)}}),wie=t=>({validate:r=>{const{plugin:a}=r,u=se(a);return u&&GW(t,a),Promise.resolve(!u)}}),KP="manager",ZW=qW,$V=(()=>{const t=$c();return{load:(f,b)=>{if(HV(f).type==="use_plugin"){const M=`plugins/${ZW}/plugin${b}.js`;t.load(KP,M).catch(()=>{NV(f,M)})}},add:f=>{t.add(KP,f)},init:f=>{const b=N=>{Object.defineProperty(f,"licenseKeyManager",{value:N,writable:!1,configurable:!1,enumerable:!0})},A=HV(f),M=t.get(KP);if(Re(M)){const N=M(f,t.urls[KP]);b(N)}else switch(A.type){case"use_gpl":{b(wie(f));break}case"use_plugin":{zW(f),b(wR(f)),A.onlineStatus==="offline"&&A.licenseKeyType==="no_key"?Cie(f):WW(f,A.onlineStatus);break}}f.licenseKeyManager.validate({})}}})(),YW=t=>{ye.from(t.selection.getNode()).each(r=>{r.removeAttribute("data-mce-selected")})},Sd=(t,r,a)=>{try{t.getDoc().execCommand(r,!1,String(a))}catch{}},Tie=(t,r)=>{Sd(t,"StyleWithCSS",r),Sd(t,"enableInlineTableEditing",r),Sd(t,"enableObjectResizing",r)},XW=t=>{t.selection.setRng(t.selection.getRng())},ZP=(t,r,a)=>{Yy(t,r)&&!a?cl(t,r):a&&Al(t,r)},YP=t=>{const r=st.fromDom(t.getBody());ZP(r,"mce-content-readonly",!0),t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),YW(t)},UV=t=>{const r=st.fromDom(t.getBody());ZP(r,"mce-content-readonly",!1),t.hasEditableRoot()&&J(r,!0),Tie(t,!1),VA(t)&&t.focus(),XW(t),t.nodeChanged()},R0=t=>xw(t),n_="data-mce-contenteditable",Aie=t=>{qe(Sn(t,'*[contenteditable="true"]'),r=>{ha(r,n_,"true"),J(r,!1)})},JW=t=>{qe(Sn(t,`*[${n_}="true"]`),r=>{vl(r,n_),J(r,!0)})},zV=(t,r)=>{const a=st.fromDom(t.getBody());r?(YP(t),J(a,!1),Aie(a)):(JW(a),UV(t))},rg=t=>{t.serializer?QW(t):t.on("PreInit",()=>{QW(t)})},QW=t=>{t.parser.addAttributeFilter("contenteditable",r=>{R0(t)&&qe(r,a=>{a.attr(n_,a.attr("contenteditable")),a.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(n_,r=>{R0(t)&&qe(r,a=>{a.attr("contenteditable",a.attr(n_))})}),t.serializer.addTempAttr(n_)},xie=t=>t.type==="click",TSe=["copy"],jV=t=>xt(TSe,t.type),Oie=(t,r)=>Ic(r,"a",u=>Lo(u,st.fromDom(t.getBody()))).bind(u=>lh(u,"href")),ASe=(t,r)=>{if(xie(r)&&!ko.metaKeyPressed(r)){const a=st.fromDom(r.target);Oie(t,a).each(u=>{if(r.preventDefault(),/^#/.test(u)){const f=t.dom.select(`${u},[name="${Ih(u,"#")}"]`);f.length&&t.selection.scrollIntoView(f[0],!0)}else window.open(u,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else jV(r)&&t.dispatch(r.type,r)},Iie=t=>{t.on("ShowCaret ObjectSelected",r=>{R0(t)&&r.preventDefault()}),t.on("DisabledStateChange",r=>{r.isDefaultPrevented()||zV(t,r.state)})},WV=t=>{rg(t),Iie(t)},my=t=>/^[a-z0-9\-]+$/i.test(t),_R=t=>"content/"+t+"/content.css",XP=t=>tinymce.Resource.has(_R(t)),GV=t=>JP(t,bI(t)),Rie=t=>JP(t,vD(t)),JP=(t,r)=>{const a=t.editorManager.baseURL+"/skins/content",f=`content${t.editorManager.suffix}.css`;return vn(r,b=>XP(b)?b:my(b)&&!t.inline?`${a}/${b}/${f}`:t.documentBaseURI.toAbsolute(b))},kie=t=>{t.contentCSS=t.contentCSS.concat(GV(t),Rie(t))},e9=t=>t?Je(t.getElementsByTagName("img")):[],Die=(t,r)=>{const a={};return{findAll:(f,b=un)=>{const A=Ve(e9(f),N=>{const G=N.src;return N.hasAttribute("data-mce-bogus")||N.hasAttribute("data-mce-placeholder")||!G||G===xr.transparentSrc?!1:As(G,"blob:")?!t.isUploaded(G)&&b(N):As(G,"data:")?b(N):!1}),M=vn(A,N=>{const G=N.src;if(Xo(a,G))return a[G].then(le=>se(le)?le:{image:N,blobInfo:le.blobInfo});{const le=hse(r,G).then(fe=>(delete a[G],{image:N,blobInfo:fe})).catch(fe=>(delete a[G],fe));return a[G]=le,le}});return Promise.all(M)}}},t9=()=>{let a={};const u=(be,Le)=>({status:be,resultUri:Le}),f=be=>be in a;return{hasBlobUri:f,getResultUri:be=>{const Le=a[be];return Le?Le.resultUri:null},isPending:be=>f(be)?a[be].status===1:!1,isUploaded:be=>f(be)?a[be].status===2:!1,markPending:be=>{a[be]=u(1,null)},markUploaded:(be,Le)=>{a[be]=u(2,Le)},removeFailed:be=>{delete a[be]},destroy:()=>{a={}}}};let qV=0;const Mie=()=>{const t=()=>Math.round(ed()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+t()+t()+t()},n9=t=>t+qV+++Mie(),Pie=()=>{let t=[];const r=fe=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[fe.toLowerCase()]||"dat",a=(fe,be,Le,Qe,ze)=>{if(se(fe))return u({id:fe,name:Qe,filename:ze,blob:be,base64:Le});if(Se(fe))return u(fe);throw new Error("Unknown input type")},u=fe=>{if(!fe.blob||!fe.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const be=fe.id||n9("blobid"),Le=fe.name||be,Qe=fe.blob;return{id:it(be),name:it(Le),filename:it(fe.filename||Le+"."+r(Qe.type)),blob:it(Qe),base64:it(fe.base64),blobUri:it(fe.blobUri||URL.createObjectURL(Qe)),uri:it(fe.uri)}},f=fe=>{A(fe.id())||t.push(fe)},b=fe=>Et(t,fe).getOrUndefined(),A=fe=>b(be=>be.id()===fe);return{create:a,add:f,get:A,getByUri:fe=>b(be=>be.blobUri()===fe),getByData:(fe,be)=>b(Le=>Le.base64()===fe&&Le.blob().type===be),findFirst:b,removeByUri:fe=>{t=Ve(t,be=>be.blobUri()===fe?(URL.revokeObjectURL(be.blobUri()),!1):!0)},destroy:()=>{qe(t,fe=>{URL.revokeObjectURL(fe.blobUri())}),t=[]}}},o_=(t,r)=>{const a={},u=(ze,nt)=>ze?ze.replace(/\/$/,"")+"/"+nt.replace(/^\//,""):nt,f=(ze,nt)=>new Promise((Mt,Bt)=>{const zt=new XMLHttpRequest;zt.open("POST",r.url),zt.withCredentials=r.credentials,zt.upload.onprogress=$n=>{nt($n.loaded/$n.total*100)},zt.onerror=()=>{Bt("Image upload failed due to a XHR Transport error. Code: "+zt.status)},zt.onload=()=>{if(zt.status<200||zt.status>=300){Bt("HTTP Error: "+zt.status);return}const $n=JSON.parse(zt.responseText);if(!$n||!se($n.location)){Bt("Invalid JSON: "+zt.responseText);return}Mt(u(r.basePath,$n.location))};const _n=new FormData;_n.append("file",ze.blob(),ze.filename()),zt.send(_n)}),b=_e(r.handler)?r.handler:f,A=()=>new Promise(ze=>{ze([])}),M=(ze,nt)=>({url:nt,blobInfo:ze,status:!0}),N=(ze,nt)=>({url:"",blobInfo:ze,status:!1,error:nt}),G=(ze,nt)=>{Jn.each(a[ze],Mt=>{Mt(nt)}),delete a[ze]},le=(ze,nt,Mt)=>(t.markPending(ze.blobUri()),new Promise(Bt=>{let zt,_n;try{const $n=()=>{zt&&(zt.close(),_n=St)},xo=An=>{$n(),t.markUploaded(ze.blobUri(),An),G(ze.blobUri(),M(ze,An)),Bt(M(ze,An))},oo=An=>{$n(),t.removeFailed(ze.blobUri()),G(ze.blobUri(),N(ze,An)),Bt(N(ze,An))};_n=An=>{An<0||An>100||ye.from(zt).orThunk(()=>ye.from(Mt).map(In)).each(wn=>{zt=wn,wn.progressBar.value(An)})},nt(ze,_n).then(xo,An=>{oo(se(An)?{message:An}:An)})}catch($n){Bt(N(ze,$n))}})),fe=ze=>ze===f,be=ze=>{const nt=ze.blobUri();return new Promise(Mt=>{a[nt]=a[nt]||[],a[nt].push(Mt)})},Le=(ze,nt)=>(ze=Jn.grep(ze,Mt=>!t.isUploaded(Mt.blobUri())),Promise.all(Jn.map(ze,Mt=>t.isPending(Mt.blobUri())?be(Mt):le(Mt,b,nt))));return{upload:(ze,nt)=>!r.url&&fe(b)?A():Le(ze,nt)}},KV=t=>()=>t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),o9=(t,r)=>o_(r,{url:zz(t),basePath:pw(t),credentials:j4(t),handler:jz(t)}),s9=t=>{const r=t9(),a=o9(t,r);return{upload:(u,f=!0)=>a.upload(u,f?KV(t):void 0)}},Nie=(t,r)=>t.dom.isEmpty(r.dom)&&Re(t.schema.getTextBlockElements()[Us(r)]),Lie=t=>r=>{Nie(t,r)&&zr(r,st.fromHtml('<br data-mce-bogus="1" />'))},Bie=t=>{const r=Pie();let a,u;const f=t9(),b=[],A=zt=>_n=>t.selection?zt(_n):[],M=zt=>zt+(zt.indexOf("?")===-1?"?":"&")+new Date().getTime(),N=(zt,_n,$n)=>{let xo=0;do xo=zt.indexOf(_n,xo),xo!==-1&&(zt=zt.substring(0,xo)+$n+zt.substr(xo+_n.length),xo+=$n.length-_n.length+1);while(xo!==-1);return zt},G=(zt,_n,$n)=>{const xo=`src="${$n}"${$n===xr.transparentSrc?' data-mce-placeholder="1"':""}`;return zt=N(zt,`src="${_n}"`,xo),zt=N(zt,'data-mce-src="'+_n+'"','data-mce-src="'+$n+'"'),zt},le=(zt,_n)=>{qe(t.undoManager.data,$n=>{$n.type==="fragmented"?$n.fragments=vn($n.fragments,xo=>G(xo,zt,_n)):$n.content=G($n.content,zt,_n)})},fe=(zt,_n)=>{const $n=t.convertURL(_n,"src");le(zt.src,_n),Pa(st.fromDom(zt),{src:Kr(t)?M(_n):_n,"data-mce-src":$n})},be=()=>(a||(a=o9(t,f)),nt().then(A(zt=>{const _n=vn(zt,$n=>$n.blobInfo);return a.upload(_n,KV(t)).then(A($n=>{const xo=[];let oo=!1;const An=vn($n,(wn,Un)=>{const{blobInfo:Zo,image:Ls}=zt[Un];let gr=!1;return wn.status&&$z(t)?(wn.url&&!na(Ls.src,wn.url)&&(oo=!0),r.removeByUri(Ls.src),uv(t)||fe(Ls,wn.url)):wn.error&&(wn.error.remove&&(le(Ls.src,xr.transparentSrc),xo.push(Ls),gr=!0),fm(t,wn.error.message)),{element:Ls,status:wn.status,uploadUri:wn.url,blobInfo:Zo,removed:gr}});return xo.length>0&&!uv(t)?t.undoManager.transact(()=>{qe(ch(xo),wn=>{const Un=Ru(wn);Ni(wn),Un.each(Lie(t)),r.removeByUri(wn.dom.src)})}):oo&&t.undoManager.dispatchChange(),An}))}))),Le=()=>D1(t)?be():Promise.resolve([]),Qe=zt=>no(b,_n=>_n(zt)),ze=zt=>{b.push(zt)},nt=()=>(u||(u=Die(f,r)),u.findAll(t.getBody(),Qe).then(A(zt=>{const _n=Ve(zt,$n=>se($n)?($C(t,$n),!1):$n.uriType!=="blob");return uv(t)||qe(_n,$n=>{le($n.image.src,$n.blobInfo.blobUri()),$n.image.src=$n.blobInfo.blobUri(),$n.image.removeAttribute("data-mce-src")}),_n}))),Mt=()=>{r.destroy(),f.destroy(),u=a=null},Bt=zt=>zt.replace(/src="(blob:[^"]+)"/g,(_n,$n)=>{const xo=f.getResultUri($n);if(xo)return'src="'+xo+'"';let oo=r.getByUri($n);return oo||(oo=Gt(t.editorManager.get(),(An,wn)=>An||wn.editorUpload&&wn.editorUpload.blobCache.getByUri($n),void 0)),oo?'src="data:'+oo.blob().type+";base64,"+oo.base64()+'"':_n});return t.on("SetContent",()=>{D1(t)?Le():nt()}),t.on("RawSaveContent",zt=>{zt.content=Bt(zt.content)}),t.on("GetContent",zt=>{zt.source_view||zt.format==="raw"||zt.format==="tree"||(zt.content=Bt(zt.content))}),t.on("PostRender",()=>{t.parser.addNodeFilter("img",zt=>{qe(zt,_n=>{const $n=_n.attr("src");if(!$n||r.getByUri($n))return;const xo=f.getResultUri($n);xo&&_n.attr("src",xo)})})}),{blobCache:r,addFilter:ze,uploadImages:be,uploadImagesAuto:Le,scanForImages:nt,destroy:Mt}},Fie=t=>{const r=t.dom,a=t.schema.type,u={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:f=>{r.setStyle(f,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:f=>{r.setStyle(f,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const f={inline:"span",styles:{textDecoration:"line-through"},exact:!0},b={inline:"strike",remove:"all",preserve_attributes:["class","style"]},A={inline:"s",remove:"all",preserve_attributes:["class","style"]};return a!=="html4"?[A,f,b]:[f,A,b]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(f,b,A)=>Ho(f)&&f.hasAttribute("href"),onformat:(f,b,A)=>{Jn.each(A,(M,N)=>{r.setAttrib(f,N,M)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":f=>f?.customValue??null}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Jn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),f=>{u[f]={block:f,remove:"all"}}),u},r9={remove_similar:!0,inherit:!1},s_={selector:"td,th",...r9},Vie={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...s_},tablecellverticalalign:{styles:{"vertical-align":"%value"},...s_},tablecellbordercolor:{styles:{borderColor:"%value"},...s_},tablecellclass:{classes:["%value"],...s_},tableclass:{selector:"table",classes:["%value"],...r9},tablecellborderstyle:{styles:{borderStyle:"%value"},...s_},tablecellborderwidth:{styles:{borderWidth:"%value"},...s_}},ZV=it(Vie),UC=t=>{const r={},a=A=>Re(A)?r[A]:r,u=A=>Xo(r,A),f=(A,M)=>{A&&(se(A)?(Te(M)||(M=[M]),qe(M,N=>{et(N.deep)&&(N.deep=!yn(N)),et(N.split)&&(N.split=!yn(N)||On(N)),et(N.remove)&&yn(N)&&!On(N)&&(N.remove="none"),yn(N)&&On(N)&&(N.mixed=!0,N.block_expand=!0),se(N.classes)&&(N.classes=N.classes.split(/\s+/))}),r[A]=M):en(A,(N,G)=>{f(G,N)}))},b=A=>(A&&r[A]&&delete r[A],r);return f(Fie(t)),f(ZV()),f(q4(t)),{get:a,has:u,register:f,unregister:b}},QP=Jn.each,dv=yi.DOM,r_=t=>Re(t)&&Se(t),YV=(t,r)=>{const a=r&&r.schema||Sf({}),u=(N,G)=>{G.classes.length>0&&dv.addClass(N,G.classes.join(" ")),dv.setAttribs(N,G.attrs)},f=N=>{const G=se(N)?{name:N,classes:[],attrs:{}}:N,le=dv.create(G.name);return u(le,G),le},b=(N,G)=>{const fe=a.getElementRule(N.nodeName.toLowerCase())?.parentsRequired;return fe&&fe.length?G&&xt(fe,G)?G:fe[0]:!1},A=(N,G,le)=>{let fe;const be=G[0],Le=r_(be)?be.name:void 0,Qe=b(N,Le);if(Qe)Le===Qe?(fe=be,G=G.slice(1)):fe=Qe;else if(be)fe=be,G=G.slice(1);else if(!le)return N;const ze=fe?f(fe):dv.create("div");ze.appendChild(N),le&&Jn.each(le,Mt=>{const Bt=f(Mt);ze.insertBefore(Bt,N)});const nt=r_(fe)?fe.siblings:void 0;return A(ze,G,nt)},M=dv.create("div");if(t.length>0){const N=t[0],G=f(N),le=r_(N)?N.siblings:void 0;M.appendChild(A(G,t.slice(1),le))}return M},i9=t=>{t=Jn.trim(t);let r="div";const a={name:r,classes:[],attrs:{},selector:t};return t!=="*"&&(r=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(u,f,b,A,M)=>{switch(f){case"#":a.attrs.id=b;break;case".":a.classes.push(b);break;case":":Jn.inArray("checked disabled enabled read-only required".split(" "),b)!==-1&&(a.attrs[b]=b);break}if(A==="["){const N=M.match(/([\w\-]+)(?:\=\"([^\"]+))?/);N&&(a.attrs[N[1]]=N[2])}return""})),a.name=r||"div",a},a9=t=>se(t)?(t=t.split(/\s*,\s*/)[0],t=t.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Jn.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),r=>{const a=Jn.map(r.split(/(?:~\+|~|\+)/),i9),u=a.pop();return a.length&&(u.siblings=a),u}).reverse()):[],eN=(t,r)=>{let a="",u=vw(t);if(u==="")return"";const f=be=>se(be)?be.replace(/%(\w+)/g,""):"",b=(be,Le)=>dv.getStyle(Le??t.getBody(),be,!0);if(se(r)){const be=t.formatter.get(r);if(!be)return"";r=be[0]}if("preview"in r){const be=r.preview;if(be===!1)return"";u=be||u}let A=r.block||r.inline||"span",M;const N=a9(r.selector);N.length>0?(N[0].name||(N[0].name=A),A=r.selector,M=YV(N,t)):M=YV([A],t);const G=dv.select(A,M)[0]||M.firstChild;QP(r.styles,(be,Le)=>{const Qe=f(be);Qe&&dv.setStyle(G,Le,Qe)}),QP(r.attributes,(be,Le)=>{const Qe=f(be);Qe&&dv.setAttrib(G,Le,Qe)}),QP(r.classes,be=>{const Le=f(be);dv.hasClass(G,Le)||dv.addClass(G,Le)}),t.dispatch("PreviewFormats"),dv.setStyles(M,{position:"absolute",left:-65535}),t.getBody().appendChild(M);const le=b("fontSize"),fe=/px$/.test(le)?parseInt(le,10):0;return QP(u.split(" "),be=>{let Le=b(be,G);if(!(be==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Le)&&(Le=b(be),pb(Le).toLowerCase()==="#ffffff"))&&!(be==="color"&&pb(Le).toLowerCase()==="#000000")){if(be==="font-size"&&/em|%$/.test(Le)){if(fe===0)return;Le=parseFloat(Le)/(/%$/.test(Le)?100:1)*fe+"px"}be==="border"&&Le&&(a+="padding:0 2px;"),a+=be+":"+Le+";"}}),t.dispatch("AfterPreviewFormats"),dv.remove(M),a},l9=t=>{t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(let r=1;r<=6;r++)t.addShortcut("access+"+r,"",["FormatBlock",!1,"h"+r]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])},c9=t=>{const r=UC(t),a=zo({});return l9(t),JI(t),uv(t)||_re(a,t),{get:r.get,has:r.has,register:r.register,unregister:r.unregister,apply:(u,f,b)=>{SW(t,u,f,b)},remove:(u,f,b,A)=>{CW(t,u,f,b,A)},toggle:(u,f,b)=>{EW(t,u,f,b)},match:(u,f,b,A)=>uie(t,u,f,b,A),closest:u=>FP(t,u),matchAll:(u,f)=>vW(t,u,f),matchNode:(u,f,b,A)=>yW(t,u,f,b,A),canApply:u=>bW(t,u),formatChanged:(u,f,b,A)=>wW(t,a,u,f,b,A),getCssText:Xe(eN,t)}},XV=t=>{switch(t.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Hie=(t,r,a)=>{const u=zo(!1),f=N=>{NP(r,!1,a),r.add({},N)};t.on("init",()=>{r.add()}),t.on("BeforeExecCommand",N=>{const G=N.command;XV(G)||(lW(r,a),r.beforeChange())}),t.on("ExecCommand",N=>{const G=N.command;XV(G)||f(N)}),t.on("ObjectResizeStart cut",()=>{r.beforeChange()}),t.on("SaveContent ObjectResized blur",f),t.on("dragend",f),t.on("keyup",N=>{const G=N.keyCode;if(N.isDefaultPrevented())return;const le=xr.os.isMacOS()&&N.key==="Meta";(G>=33&&G<=36||G>=37&&G<=40||G===45||N.ctrlKey||le)&&(f(),t.nodeChanged()),(G===46||G===8)&&t.nodeChanged(),u.get()&&r.typing&&!MP(kP(t),r.data[0])&&(t.isDirty()||t.setDirty(!0),t.dispatch("TypingUndo"),u.set(!1),t.nodeChanged())}),t.on("keydown",N=>{const G=N.keyCode;if(N.isDefaultPrevented())return;if(G>=33&&G<=36||G>=37&&G<=40||G===45){r.typing&&f(N);return}const le=N.ctrlKey&&!N.altKey||N.metaKey;if((G<16||G>20)&&G!==224&&G!==91&&!r.typing&&!le){r.beforeChange(),NP(r,!0,a),r.add({},N),u.set(!0);return}(xr.os.isMacOS()?N.metaKey:N.ctrlKey&&!N.altKey)&&r.beforeChange()}),t.on("mousedown",N=>{r.typing&&f(N)});const b=N=>N.inputType==="insertReplacementText",A=N=>N.inputType==="insertText"&&N.data===null,M=N=>N.inputType==="insertFromPaste"||N.inputType==="insertFromDrop";t.on("input",N=>{N.inputType&&(b(N)||A(N)||M(N))&&f(N)}),t.on("AddUndo Undo Redo ClearUndos",N=>{N.isDefaultPrevented()||t.nodeChanged()})},$ie=t=>{t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")},TR=t=>{const r=Ac(),a=zo(0),u=zo(0),f={data:[],typing:!1,beforeChange:()=>{BP(t,a,r)},add:(b,A)=>yV(t,f,u,a,r,b,A),dispatchChange:()=>{t.setDirty(!0);const b=kP(t);b.bookmark=uw(t.selection),t.dispatch("change",{level:b,lastLevel:xe(f.data,u.get()).getOrUndefined()})},undo:()=>dW(t,f,a,u),redo:()=>hW(t,u,f.data),clear:()=>{fW(t,f,u)},reset:()=>{pW(t,f)},hasUndo:()=>mW(t,f,u),hasRedo:()=>Jw(t,f,u),transact:b=>gW(t,f,a,b),ignore:b=>{bV(t,a,b)},extra:(b,A)=>{cie(t,f,u,b,A)}};return uv(t)||Hie(t,f,a),$ie(t),f},u9=[9,27,ko.HOME,ko.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,ko.DOWN,ko.UP,ko.LEFT,ko.RIGHT].concat(xr.browser.isFirefox()?[224]:[]),JV="data-mce-placeholder",AR=t=>t.type==="keydown"||t.type==="keyup",d9=t=>{const r=t.keyCode;return r===ko.BACKSPACE||r===ko.DELETE},Uie=t=>{if(AR(t)){const r=t.keyCode;return!d9(t)&&(ko.metaKeyPressed(t)||t.altKey||r>=112&&r<=123||xt(u9,r))}else return!1},zie=t=>AR(t)&&!(d9(t)||t.type==="keyup"&&t.keyCode===229),h9=(t,r,a)=>{if(t.isEmpty(r,void 0,{skipBogus:!1,includeZwsp:!0})){const u=r.firstElementChild;return u?t.getStyle(r.firstElementChild,"padding-left")||t.getStyle(r.firstElementChild,"padding-right")?!1:a===u.nodeName.toLowerCase():!0}else return!1},QV=t=>{const r=t.dom,a=zu(t),u=bD(t)??"",f=(b,A)=>{if(Uie(b))return;const M=t.getBody(),N=zie(b)?!1:h9(r,M,a);(r.getAttrib(M,JV)!==""!==N||A)&&(r.setAttrib(M,JV,N?u:null),F4(t,N),t.on(N?"keydown":"keyup",f),t.off(N?"keyup":"keydown",f))};gi(u)&&t.on("init",b=>{f(b,!0),t.on("change SetContent ExecCommand",f),t.on("paste",A=>tg.setEditorTimeout(t,()=>f(A)))})},jie=t=>r=>Re(r)&&r.nodeName.toLowerCase()===t,xR=t=>r=>Re(r)&&t.test(r.nodeName),k0=t=>Re(t)&&t.nodeType===3,f9=t=>Re(t)&&t.nodeType===1,hv=xR(/^(OL|UL|DL)$/),OR=xR(/^(OL|UL)$/),ig=xR(/^(LI|DT|DD)$/),Wie=xR(/^(DT|DD)$/),nS=jie("br"),$l=t=>t.parentNode?.firstChild===t,IR=(t,r)=>Re(r)&&r.nodeName in t.schema.getTextBlockElements(),nx=(t,r)=>Re(t)&&t.nodeName in r,oS=(t,r)=>Re(r)&&r.nodeName in t.schema.getVoidElements(),p9=(t,r)=>nS(r)?t.isBlock(r.nextSibling)&&!nS(r.previousSibling):!1,sS=(t,r,a)=>{const u=t.isEmpty(r);return a&&t.select("span[data-mce-type=bookmark]",r).length>0?!1:u},m9=(t,r)=>t.isChildOf(r,t.getRoot()),i_=yi.DOM,Gie=(t,r)=>{const a=r.parentElement;if(a&&a.nodeName==="LI"&&a.firstChild===r){const u=a.previousSibling;u&&u.nodeName==="LI"?(u.appendChild(r),sS(t,a)&&i_.remove(a)):i_.setStyle(a,"listStyleType","none")}if(hv(a)){const u=a.previousSibling;u&&u.nodeName==="LI"&&u.appendChild(r)}},eH=(t,r)=>{const a=Jn.grep(t.select("ol,ul",r));Jn.each(a,u=>{Gie(t,u)})},a_=(t,r)=>{if(k0(t))return{container:t,offset:r};const a=_0.getNode(t,r);return k0(a)?{container:a,offset:r>=t.childNodes.length?a.data.length:0}:a.previousSibling&&k0(a.previousSibling)?{container:a.previousSibling,offset:a.previousSibling.data.length}:a.nextSibling&&k0(a.nextSibling)?{container:a.nextSibling,offset:0}:{container:t,offset:r}},tH=t=>{const r=t.cloneRange(),a=a_(t.startContainer,t.startOffset);r.setStart(a.container,a.offset);const u=a_(t.endContainer,t.endOffset);return r.setEnd(u.container,u.offset),r},zC=["OL","UL","DL"],g9=zC.join(","),gy=(t,r)=>{const a=t.selection.getStart(!0);return t.dom.getParent(a,g9,RR(t,a))},qie=(t,r)=>Re(t)&&r.length===1&&r[0]===t,fv=t=>Ve(t.querySelectorAll(g9),hv),l_=t=>{const r=gy(t),a=t.selection.getSelectedBlocks();return qie(r,a)?fv(r):Ve(a,u=>hv(u)&&r!==u)},Kie=(t,r)=>{const a=Jn.map(r,u=>{const f=t.dom.getParent(u,"li,dd,dt",RR(t,u));return f||u});return kt(a)},c_=t=>{const r=t.selection.getSelectedBlocks();return Ve(Kie(t,r),ig)},nH=t=>Ve(c_(t),Wie),oH=(t,r)=>{const a=t.dom.getParents(r,"TD,TH");return a.length>0?a[0]:t.getBody()},ox=(t,r)=>!hv(r)&&!ig(r)&&cn(zC,a=>t.isValidChild(r.nodeName,a)),RR=(t,r)=>{const a=t.dom.getParents(r,t.dom.isBlock),u=b=>b.nodeName.toLowerCase()!==zu(t);return Et(a,b=>u(b)&&ox(t.schema,b)).getOr(t.getBody())},vy=t=>Ru(t).exists(r=>ig(r.dom)&&ql(r).exists(a=>!hv(a.dom))&&Ya(r).exists(a=>!hv(a.dom))),kR=(t,r)=>{const a=t.dom.getParents(r,"ol,ul",RR(t,r));return rt(a)},v9=t=>{const r=kR(t,t.selection.getStart()),a=Ve(t.selection.getSelectedBlocks(),OR);return r.toArray().concat(a)},sH=t=>{const r=t.selection.getStart();return t.dom.getParents(r,"ol,ul",RR(t,r))},rH=t=>{const r=v9(t),a=sH(t);return Et(a,u=>vy(st.fromDom(u))).fold(()=>u_(t,r),u=>[u])},u_=(t,r)=>{const a=vn(r,u=>kR(t,u).getOr(u));return kt(a)},sx=t=>/\btox\-/.test(t.className),y9=(t,r)=>r!==null&&!t.dom.isEditable(r),Zie=t=>{const r=gy(t);return y9(t,r)||!t.selection.isEditable()},iH=(t,r)=>{const a=t.dom.getParent(r,"ol,ul,dl");return y9(t,a)||!t.selection.isEditable()},d_=(t,r,a)=>t.dispatch("ListMutation",{action:r,element:a}),b9=(t,r,a={})=>{const u=t.dom,f=t.schema.getBlockElements(),b=u.createFragment(),A=zu(t),M=vC(t);let N,G,le=!1;for(G=u.create(A,{...M,...a.style?{style:a.style}:{}}),nx(r.firstChild,f)||b.appendChild(G);N=r.firstChild;){const fe=N.nodeName;!le&&(fe!=="SPAN"||N.getAttribute("data-mce-type")!=="bookmark")&&(le=!0),nx(N,f)?(b.appendChild(N),G=null):(G||(G=u.create(A,M),b.appendChild(G)),G.appendChild(N))}return!le&&G&&G.appendChild(u.create("br",{"data-mce-bogus":"1"})),b},DR=t=>Cl(t,"OL,UL"),rx=t=>Cl(t,"LI"),yy=t=>ql(t).exists(DR),Yie=t=>Ya(t).exists(DR),Xie=(t,r)=>FD(t).map(a=>a>=r).getOr(!0),h_=t=>"listAttributes"in t,S9=t=>"isComment"in t,Jie=t=>"isFragment"in t,C9=t=>t.depth>0,Qie=t=>t.isSelected,eae=t=>{const r=yr(t),a=Yie(t)?r.slice(0,-1):r;return vn(a,uf)},tae=(t,r,a)=>Ru(t).filter(sa).map(u=>({depth:r,dirty:!1,isSelected:a,content:eae(t),itemAttributes:wr(t),listAttributes:wr(u),listType:Us(u),isInPreviousLi:!1})),nae=(t,r)=>{zr(t.item,r.list)},oae=t=>{for(let r=1;r<t.length;r++)nae(t[r-1],t[r])},sae=(t,r)=>{Ar(rt(t),je(r),nae)},rae=(t,r)=>{const a={list:st.fromTag(r,t),item:st.fromTag("li",t)};return zr(a.list,a.item),a},iae=(t,r,a)=>{const u=[];for(let f=0;f<a;f++)u.push(rae(t,h_(r)?r.listType:r.parentListType));return u},aae=(t,r)=>{for(let a=0;a<t.length-1;a++)Bc(t[a].item,"list-style-type","none");rt(t).each(a=>{h_(r)&&(Pa(a.list,r.listAttributes),Pa(a.item,r.itemAttributes)),ah(a.item,r.content)})},lae=(t,r)=>{Us(t.list)!==r.listType&&(t.list=Up(t.list,r.listType)),Pa(t.list,r.listAttributes)},jC=(t,r,a)=>{const u=st.fromTag("li",t);return Pa(u,r),ah(u,a),u},cae=(t,r)=>{zr(t.list,r),t.item=r},E9=(t,r,a)=>{const u=r.slice(0,a.depth);return rt(u).each(f=>{if(h_(a)){const b=jC(t,a.itemAttributes,a.content);cae(f,b),lae(f,a)}else if(Jie(a))ah(f.item,a.content);else{const b=st.fromHtml(`<!--${a.content}-->`);zr(f.list,b)}}),u},aH=(t,r,a)=>{const u=iae(t,a,a.depth-r.length);return oae(u),aae(u,a),sae(r,u),r.concat(u)},w9=(t,r)=>{let a=ye.none();const u=Gt(r,(f,b,A)=>S9(b)?A===0?(a=ye.some(b),f):E9(t,f,b):b.depth>f.length?aH(t,f,b):E9(t,f,b),[]);return a.each(f=>{const b=st.fromHtml(`<!--${f.content}-->`);je(u).each(A=>{np(A.list,b)})}),je(u).map(f=>f.list)},lH=(t,r,a)=>{switch(r){case"Indent":if(Xie(t,a.depth))a.depth++;else return;break;case"Outdent":a.depth--;break;case"Flatten":a.depth=0}a.dirty=!0},uae=(t,r)=>{h_(t)&&h_(r)&&(t.listType=r.listType,t.listAttributes={...r.listAttributes})},dae=t=>{t.listAttributes=Cs(t.listAttributes,(r,a)=>a!=="start")},hae=(t,r)=>{const a=t[r].depth,u=b=>b.depth===a&&!b.dirty,f=b=>b.depth<a;return Tt(_s(t.slice(0,r)),u,f).orThunk(()=>Tt(t.slice(r+1),u,f))},_9=t=>(qe(t,(r,a)=>{hae(t,a).fold(()=>{r.dirty&&h_(r)&&dae(r)},u=>uae(r,u))}),t),T9=(t,r,a,u)=>{if(Za(u))return[{depth:t+1,content:u.dom.nodeValue??"",dirty:!1,isSelected:!1,isComment:!0}];r.each(A=>{Lo(A.start,u)&&a.set(!0)});const f=tae(u,t,a.get());r.each(A=>{Lo(A.end,u)&&a.set(!1)});const b=Ya(u).filter(DR).map(A=>tN(t,r,a,A)).getOr([]);return f.toArray().concat(b)},fae=(t,r,a,u)=>ql(u).filter(DR).fold(()=>T9(t,r,a,u),f=>{const b=Gt(yr(u),(A,M,N)=>{if(N===0)return A;if(rx(M))return A.concat(T9(t,r,a,M));{const G={isFragment:!0,depth:t,content:[M],isSelected:!1,dirty:!1,parentListType:Us(f)};return A.concat(G)}},[]);return tN(t,r,a,f).concat(b)}),tN=(t,r,a,u)=>io(yr(u),f=>{const b=DR(f)?tN:fae,A=t+1;return b(A,r,a,f)}),pae=(t,r)=>{const a=zo(!1),u=0;return vn(t,f=>({sourceList:f,entries:tN(u,r,a,f)}))},mae=(t,r)=>{const a=_9(r);return vn(a,u=>{const f=S9(u)?ff([st.fromHtml(`<!--${u.content}-->`)]):ff(u.content),b=h_(u)?u.itemAttributes:{};return st.fromDom(b9(t,f.dom,b))})},gae=(t,r)=>{const a=_9(r);return w9(t.contentDocument,a).toArray()},vae=(t,r)=>io(Ot(r,C9),a=>je(a).exists(C9)?gae(t,a):mae(t,a)),yae=(t,r,a)=>{qe(Ve(r,Qie),u=>lH(t,a,u))},bae=t=>{const r=vn(c_(t),st.fromDom);return Ar(Et(r,tn(yy)),Et(_s(r),tn(yy)),(a,u)=>({start:a,end:u}))},Sae=(t,r,a)=>{const u=pae(r,bae(t));qe(u,f=>{yae(t,f.entries,a);const b=vae(t,f.entries);qe(b,A=>{d_(t,a==="Indent"?"IndentList":"OutdentList",A.dom)}),l1(f.sourceList,b),Ni(f.sourceList)})},Cae=t=>FD(t).forall(r=>{const a=t.selection.getSelectedBlocks();return cn(a,u=>Ic(st.fromDom(u),"li").forall(f=>At(f,"ol,ul").length<=r))}),WC=yi.DOM,Eae=(t,r,a)=>{const u=G=>{const le=G.parentNode;le&&Jn.each(f,fe=>{le.insertBefore(fe,a.parentNode)}),WC.remove(G)},f=WC.select('span[data-mce-type="bookmark"]',r),b=b9(t,a),A=WC.createRng();A.setStartAfter(a),A.setEndAfter(r);const M=A.extractContents();for(let G=M.firstChild;G;G=G.firstChild)if(G.nodeName==="LI"&&t.dom.isEmpty(G)){WC.remove(G);break}t.dom.isEmpty(M)||WC.insertAfter(M,r),WC.insertAfter(b,r);const N=a.parentElement;N&&sS(t.dom,N)&&u(N),WC.remove(a),sS(t.dom,r)&&WC.remove(r)},wae=El("dd"),A9=El("dt"),_ae=(t,r)=>{wae(r)?Up(r,"dt"):A9(r)&&ku(r).each(a=>Eae(t,a.dom,r.dom))},x9=t=>{A9(t)&&Up(t,"dd")},Tae=(t,r,a)=>{r==="Indent"?qe(a,x9):qe(a,u=>_ae(t,u))},Aae=(t,r)=>{const a=ch(rH(t)),u=ch(nH(t));let f=!1;if(a.length||u.length){const b=t.selection.getBookmark();Sae(t,a,r),Tae(t,r,u),t.selection.moveToBookmark(b),t.selection.setRng(tH(t.selection.getRng())),t.nodeChanged(),f=!0}return f},cH=(t,r)=>!Zie(t)&&Aae(t,r),O9=t=>cH(t,"Indent"),uH=t=>cH(t,"Outdent"),nN=t=>cH(t,"Flatten"),ix=t=>{switch(t){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},xae=(t,r,a)=>{const u=a["list-style-type"]?a["list-style-type"]:null;t.setStyle(r,"list-style-type",u)},dH=(t,r)=>{Jn.each(r,(a,u)=>{t.setAttribute(u,a)})},Oae=(t,r,a)=>{dH(r,a["list-attributes"]),Jn.each(t.select("li",r),u=>{dH(u,a["list-item-attributes"])})},ax=(t,r,a)=>{xae(t,r,a),Oae(t,r,a)},Iae=(t,r,a)=>{Jn.each(a,u=>t.setStyle(r,u,""))},oN=(t,r)=>Re(r)&&!nx(r,t.schema.getBlockElements()),hH=(t,r,a,u)=>{let f=r[a?"startContainer":"endContainer"];const b=r[a?"startOffset":"endOffset"];f9(f)&&(f=f.childNodes[Math.min(b,f.childNodes.length-1)]||f),!a&&nS(f.nextSibling)&&(f=f.nextSibling);const A=N=>{for(;!t.dom.isBlock(N)&&N.parentNode&&u!==N;)N=N.parentNode;return N},M=(N,G)=>{const le=new Yi(N,A(N)),fe=G?"next":"prev";let be;for(;be=le[fe]();)if(!(oS(t,be)||zl(be.textContent)||be.textContent?.length===0))return ye.some(be);return ye.none()};if(a&&k0(f))if(zl(f.textContent))f=M(f,!1).getOr(f);else for(f.parentNode!==null&&oN(t,f.parentNode)&&(f=f.parentNode);f.previousSibling!==null&&(oN(t,f.previousSibling)||k0(f.previousSibling));)f=f.previousSibling;if(!a&&k0(f))if(zl(f.textContent))f=M(f,!0).getOr(f);else for(f.parentNode!==null&&oN(t,f.parentNode)&&(f=f.parentNode);f.nextSibling!==null&&(oN(t,f.nextSibling)||k0(f.nextSibling));)f=f.nextSibling;for(;f.parentNode!==u;){const N=f.parentNode;if(IR(t,f)||/^(TD|TH)$/.test(N.nodeName))return f;f=N}return f},Rae=(t,r,a)=>{const u=[],f=t.dom,b=hH(t,r,!0,a),A=hH(t,r,!1,a);let M;const N=[];for(let G=b;G&&(N.push(G),G!==A);G=G.nextSibling);return Jn.each(N,G=>{if(IR(t,G)){u.push(G),M=null;return}if(f.isBlock(G)||nS(G)){nS(G)&&f.remove(G),M=null;return}const le=G.nextSibling;if(Hw.isBookmarkNode(G)&&(hv(le)||IR(t,le)||!le&&G.parentNode===a)){M=null;return}M||(M=f.create("p"),G.parentNode?.insertBefore(M,G),u.push(M)),M.appendChild(G)}),u},kae=(t,r,a)=>{const u=t.getStyle(r,"list-style-type");let f=a?a["list-style-type"]:"";return f=f===null?"":f,u===f},Dae=(t,r)=>{const a=t.selection.getStart(!0),u=hH(t,r,!0,t.getBody());return Is(st.fromDom(u),st.fromDom(r.commonAncestorContainer))?r.commonAncestorContainer:a},fH=(t,r,a)=>{const u=t.selection.getRng();let f="LI";const b=RR(t,Dae(t,u)),A=t.dom;if(A.getContentEditable(t.selection.getNode())==="false")return;r=r.toUpperCase(),r==="DL"&&(f="DT");const M=Y1(u),N=Ve(Rae(t,u,b),t.dom.isEditable);Jn.each(N,G=>{let le;const fe=G.previousSibling,be=G.parentNode;ig(be)||(fe&&hv(fe)&&fe.nodeName===r&&kae(A,fe,a)?(le=fe,G=A.rename(G,f),fe.appendChild(G)):(le=A.create(r),be.insertBefore(le,G),le.appendChild(G),G=A.rename(G,f)),Iae(A,G,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ax(A,le,a),sN(t.dom,le))}),t.selection.setRng(zc(M))},I9=(t,r)=>hv(t)&&t.nodeName===r?.nodeName,R9=(t,r,a)=>{const u=t.getStyle(r,"list-style-type",!0),f=t.getStyle(a,"list-style-type",!0);return u===f},k9=(t,r)=>t.className===r.className,Mae=(t,r,a)=>I9(r,a)&&R9(t,r,a)&&k9(r,a),sN=(t,r)=>{let a,u=r.nextSibling;if(Mae(t,r,u)){const f=u;for(;a=f.firstChild;)r.appendChild(a);t.remove(f)}if(u=r.previousSibling,Mae(t,r,u)){const f=u;for(;a=f.lastChild;)r.insertBefore(a,r.firstChild);t.remove(f)}},Pae=(t,r,a,u)=>{if(r.nodeName!==a){const f=t.dom.rename(r,a);ax(t.dom,f,u),d_(t,ix(a),f)}else ax(t.dom,r,u),d_(t,ix(a),r)},D9=(t,r,a,u)=>{if(r.classList.forEach((f,b,A)=>{f.startsWith("tox-")&&(A.remove(f),A.length===0&&r.removeAttribute("class"))}),r.nodeName!==a){const f=t.dom.rename(r,a);ax(t.dom,f,u),d_(t,ix(a),f)}else ax(t.dom,r,u),d_(t,ix(a),r)},Nae=(t,r,a,u,f)=>{const b=hv(r);if(b&&r.nodeName===u&&!M9(f)&&!sx(r))nN(t);else{fH(t,u,f);const A=Y1(t.selection.getRng()),M=b?[r,...a]:a,N=b&&sx(r)?D9:Pae;Jn.each(M,G=>{N(t,G,u,f)}),t.selection.setRng(zc(A))}},M9=t=>"list-style-type"in t,Lae=(t,r,a,u)=>{if(r!==t.getBody())if(r)if(r.nodeName===a&&!M9(u)&&!sx(r))nN(t);else{const f=Y1(t.selection.getRng());sx(r)&&r.classList.forEach((A,M,N)=>{A.startsWith("tox-")&&(N.remove(A),N.length===0&&r.removeAttribute("class"))}),ax(t.dom,r,u);const b=t.dom.rename(r,a);sN(t.dom,b),t.selection.setRng(zc(f)),fH(t,a,u),d_(t,ix(a),b)}else fH(t,a,u),d_(t,ix(a),r)},pH=(t,r,a)=>{const u=gy(t);if(iH(t,u))return;const f=l_(t),b=Se(a)?a:{};f.length>0?Nae(t,u,f,r,b):Lae(t,u,r,b)},P9=(t,r,a,u)=>{let f=r.startContainer;const b=r.startOffset;if(k0(f)&&(a?b<f.data.length:b>0))return f;const A=t.schema.getNonEmptyElements();f9(f)&&(f=_0.getNode(f,b));const M=new Yi(f,u);a&&p9(t.dom,f)&&M.next();const N=a?M.next.bind(M):M.prev2.bind(M);for(;f=N();)if(f.nodeName==="LI"&&!f.hasChildNodes()||A[f.nodeName]||k0(f)&&f.data.length>0)return f;return null},N9=(t,r)=>{const a=r.childNodes;return a.length===1&&!hv(a[0])&&t.isBlock(a[0])},mH=t=>ye.from(t).map(st.fromDom).filter(Ph).exists(r=>Lu(r)&&!xt(["details"],Us(r))),gH=(t,r)=>{N9(t,r)&&mH(r.firstChild)&&t.remove(r.firstChild,!0)},L9=(t,r,a)=>{let u;const f=N9(t,a)?a.firstChild:a;if(gH(t,r),!sS(t,r,!0))for(;u=r.firstChild;)f.appendChild(u)},rN=(t,r,a)=>{let u;const f=r.parentNode;if(!m9(t,r)||!m9(t,a))return;hv(a.lastChild)&&(u=a.lastChild),f===a.lastChild&&nS(f.previousSibling)&&t.remove(f.previousSibling);const b=a.lastChild;b&&nS(b)&&r.hasChildNodes()&&t.remove(b),sS(t,a,!0)&&id(st.fromDom(a)),L9(t,r,a),u&&a.appendChild(u);const M=Qr(st.fromDom(a),st.fromDom(r))?t.getParents(r,hv,a):[];t.remove(r),qe(M,N=>{sS(t,N)&&N!==t.getRoot()&&t.remove(N)})},Bae=(t,r,a)=>{id(st.fromDom(a)),rN(t.dom,r,a),t.selection.setCursorLocation(a,0)},Fae=(t,r,a,u)=>{const f=t.dom;if(f.isEmpty(u))Bae(t,a,u);else{const b=Y1(r);rN(f,a,u),t.selection.setRng(zc(b))}},Vae=(t,r,a,u)=>{const f=Y1(r);rN(t.dom,a,u);const b=zc(f);t.selection.setRng(b)},Hae=(t,r)=>{const a=t.dom,u=t.selection,f=u.getStart(),b=oH(t,f),A=a.getParent(u.getStart(),"LI",b);if(A){const M=A.parentElement;if(M===t.getBody()&&sS(a,M))return!0;const N=tH(u.getRng()),G=a.getParent(P9(t,N,r,b),"LI",b),le=G&&(r?a.isChildOf(A,G):a.isChildOf(G,A));if(G&&G!==A&&!le)return t.undoManager.transact(()=>{r?Fae(t,N,G,A):$l(A)?uH(t):Vae(t,N,A,G)}),!0;if(le&&!r&&G!==A){const fe=N.commonAncestorContainer.parentElement;return!fe||a.isChildOf(G,fe)?!1:(t.undoManager.transact(()=>{const be=Y1(N);L9(a,fe,G),fe.remove();const Le=zc(be);t.selection.setRng(Le)}),!0)}else if(!G&&!r&&N.startOffset===0&&N.endOffset===0)return t.undoManager.transact(()=>{nN(t)}),!0}return!1},$ae=(t,r,a)=>{const u=t.getParent(r.parentNode,t.isBlock,a);t.remove(r),u&&t.isEmpty(u)&&t.remove(u)},Uae=(t,r)=>{const a=t.dom,u=t.selection.getStart(),f=oH(t,u),b=a.getParent(u,a.isBlock,f);if(b&&a.isEmpty(b,void 0,{checkRootAsContent:!0})){const A=tH(t.selection.getRng()),M=P9(t,A,r,f),N=a.getParent(M,"LI",f);if(M&&N){const G=Le=>xt(["td","th","caption"],Us(Le)),le=Le=>Le.dom===f,fe=Ti(st.fromDom(N),G,le),be=Ti(st.fromDom(A.startContainer),G,le);return Oh(fe,be,Lo)?(t.undoManager.transact(()=>{const Le=N.parentNode;$ae(a,b,f),sN(a,Le),t.selection.select(M,!0),t.selection.collapse(r)}),!0):!1}}return!1},zae=(t,r)=>Hae(t,r)||Uae(t,r),vH=t=>{const r=t.selection.getStart(),a=oH(t,r),u=t.dom.getParent(r,"LI,DT,DD",a);return Re(u)||c_(t).length>0},jae=t=>vH(t)?(t.undoManager.transact(()=>{let r=!0;const a=()=>r=!1;t.on("input",a),t.execCommand("Delete"),t.off("input",a),r&&t.dispatch("input"),eH(t.dom,t.getBody())}),!0):!1,yH=(t,r)=>{const a=t.selection;return!iH(t,a.getNode())&&(a.isCollapsed()?zae(t,r):jae(t))},bH=(t,r)=>({block:t,position:r}),Wae=(t,r)=>({from:t,to:r}),SH=(t,r)=>{const a=st.fromDom(t),u=st.fromDom(r.container());return jM(a,u).map(f=>bH(f,r))},Gae=t=>!(Qr(t.to.block,t.from.block)||Qr(t.from.block,t.to.block)),qae=t=>!Lo(t.from.block,t.to.block),B9=(t,r)=>Ti(r,f=>m(f)||au(f.dom),f=>Lo(f,t)).filter(sa).getOr(t),F9=(t,r)=>{const a=st.fromDom(t);return Lo(B9(a,r.from.block),B9(a,r.to.block))},f_=t=>ai(t.from.block.dom)===!1&&ai(t.to.block.dom)===!1,V9=t=>{const r=a=>v0(a)||Cc(a.dom)||Km(a);return r(t.from.block)&&r(t.to.block)},Kae=(t,r,a,u)=>ga(u.position.getNode())&&!Vu(t,u.block)?wC(!1,u.block.dom).bind(f=>f.isEqual(u.position)?Af(a,r,f).bind(b=>SH(r,b)):ye.some(u)).getOr(u):u,Zae=(t,r,a,u)=>{const f=SH(r,gn.fromRangeStart(u)),b=f.bind(A=>Af(a,r,A.position).bind(M=>SH(r,M).map(N=>Kae(t,r,a,N))));return Ar(f,b,Wae).filter(A=>qae(A)&&F9(r,A)&&f_(A)&&V9(A)&&Gae(A))},Yae=(t,r,a,u)=>u.collapsed?Zae(t,r,a,u):ye.none(),Xae=(t,r)=>{const a=yr(t);return Yn(a,u=>r.isBlock(Us(u))).fold(it(a),u=>a.slice(0,u))},p_=(t,r)=>{const a=Xae(t,r);return qe(a,Ni),a},H9=(t,r,a)=>{const u=T0(a,r);return Et(u.reverse(),f=>Vu(t,f)).each(Ni)},CH=(t,r)=>Ve(Gl(r),a=>!Vu(t,a)).length===0,EH=(t,r,a,u,f)=>{if(Vu(u,a))return F(a),hu(a.dom);CH(u,f)&&Vu(u,r)&&Oc(f,st.fromTag("br"));const b=du(a.dom,gn.before(f.dom));return qe(p_(r,u),A=>{Oc(f,A)}),H9(u,t,r),b},Jae=(t,r)=>t.isInline(Us(r)),$9=(t,r,a,u)=>{if(Vu(u,a)){if(Vu(u,r)){const A=Nt((M=>{const N=(G,le)=>ql(G).fold(()=>le,fe=>Jae(u,fe)?N(fe,le.concat(Tl(fe))):le);return N(M,[])})(a),(M,N)=>(Bd(M,N),N),D());id(r),zr(r,A)}return Ni(a),hu(r.dom)}const f=xf(a.dom);return qe(p_(r,u),b=>{zr(a,b)}),H9(u,t,r),f},iN=(t,r)=>{const a=T0(r,t);return ye.from(a[a.length-1])},Qae=(t,r)=>Qr(r,t)?iN(r,t):ye.none(),U9=(t,r)=>{wC(t,r.dom).bind(a=>ye.from(a.getNode())).map(st.fromDom).filter(Ef).each(Ni)},z9=(t,r,a,u)=>(U9(!0,r),U9(!1,a),Qae(r,a).fold(Xe($9,t,r,a,u),Xe(EH,t,r,a,u))),j9=(t,r,a,u,f)=>r?z9(t,u,a,f):z9(t,a,u,f),wH=(t,r)=>{const a=st.fromDom(t.getBody());return Yae(t.schema,a.dom,r,t.selection.getRng()).map(f=>()=>{j9(a,r,f.from.block,f.to.block,t.schema).each(b=>{t.selection.setRng(b.toRange())})})},_H=(t,r,a)=>{const u=r.getRng();return Ar(jM(t,st.fromDom(u.startContainer)),jM(t,st.fromDom(u.endContainer)),(f,b)=>Lo(f,b)?ye.none():ye.some(()=>{u.deleteContents(),j9(t,!0,f,b,a).each(A=>{r.setRng(A.toRange())})})).getOr(ye.none())},W9=(t,r)=>{const a=st.fromDom(r),u=Xe(Lo,t);return Vh(a,m,u).isSome()},ele=(t,r)=>W9(t,r.startContainer)||W9(t,r.endContainer),tle=(t,r)=>{const a=du(t.dom,gn.fromRangeStart(r)).isNone(),u=jh(t.dom,gn.fromRangeEnd(r)).isNone();return!ele(t,r)&&a&&u},nle=t=>ye.some(()=>{t.setContent(""),t.selection.setCursorLocation()}),ole=t=>{const r=st.fromDom(t.getBody()),a=t.selection.getRng();return tle(r,a)?nle(t):_H(r,t.selection,t.schema)},TH=(t,r)=>t.selection.isCollapsed()?ye.none():ole(t),rS=(t,r,a,u,f)=>ye.from(r._selectionOverrides.showCaret(t,a,u,f)),sle=t=>{const r=t.ownerDocument.createRange();return r.selectNode(t),r},MR=(t,r)=>t.dispatch("BeforeObjectSelected",{target:r}).isDefaultPrevented()?ye.none():ye.some(sle(r)),rle=(t,r,a)=>{const u=Dw(1,t.getBody(),r),f=gn.fromRangeStart(u),b=f.getNode();if(nv(b))return rS(1,t,b,!f.isAtEnd(),!1);const A=f.getNode(!0);if(nv(A))return rS(1,t,A,!1,!1);const M=kC(t.dom.getRoot(),f.getNode());return nv(M)?rS(1,t,M,!1,a):ye.none()},AH=(t,r,a)=>r.collapsed?rle(t,r,a).getOr(r):r,ile=t=>Ao(t)||GI(t),ale=t=>Rf(t)||qI(t),lle=(t,r)=>{Wn(r)&&r.data.length===0&&t.remove(r)},xH=(t,r,a,u,f,b)=>{rS(u,t,b.getNode(!f),f,!0).each(A=>{if(r.collapsed){const M=r.cloneRange();f?M.setEnd(A.startContainer,A.startOffset):M.setStart(A.endContainer,A.endOffset),M.deleteContents()}else r.deleteContents();t.selection.setRng(A)}),lle(t.dom,a)},cle=(t,r)=>{const a=t.selection.getRng();if(!Wn(a.commonAncestorContainer))return ye.none();const u=r?1:-1,f=rv(t.getBody()),b=Xe(AA,r?f.next:f.prev),A=r?ile:ale,M=sv(u,t.getBody(),a),N=b(M),G=N&&av(r,N);if(!G||!Mw(M,G))return ye.none();if(A(G))return ye.some(()=>xH(t,a,M.getNode(),u,r,G));const le=b(G);return le&&A(le)&&Mw(G,le)?ye.some(()=>xH(t,a,M.getNode(),u,r,le)):ye.none()},OH=(t,r)=>cle(t,r),IH=(t,r)=>{const a=t.getBody();return r?hu(a).filter(Ao):xf(a).filter(Rf)},RH=t=>{const r=t.selection.getRng();return!r.collapsed&&(IH(t,!0).exists(a=>a.isEqual(gn.fromRangeStart(r)))||IH(t,!1).exists(a=>a.isEqual(gn.fromRangeEnd(r))))},ule=t=>Re(t)&&(m(st.fromDom(t))||Km(st.fromDom(t))),Ep=oi.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),dle=(t,r)=>{const a=r.getNode(!t),u=t?"after":"before";return Ho(a)&&a.getAttribute("data-mce-caret")===u},hle=(t,r,a,u,f)=>{const b=A=>f.isInline(A.nodeName.toLowerCase())&&!ov(a,u,t);return CC(!r,a).fold(()=>CC(r,u).fold(Dt,b),b)},G9=(t,r,a,u,f)=>{const b=f.getNode(!a);return jM(st.fromDom(r),st.fromDom(u.getNode())).map(A=>Vu(t,A)?Ep.remove(A.dom):Ep.moveToElement(b)).orThunk(()=>ye.some(Ep.moveToElement(b)))},q9=(t,r,a,u)=>Af(r,t,a).bind(f=>ule(f.getNode())||hle(t,r,a,f,u)?ye.none():r&&ai(f.getNode())||!r&&ai(f.getNode(!0))?G9(u,t,r,a,f):r&&Rf(a)||!r&&Ao(a)?ye.some(Ep.moveToPosition(f)):ye.none()),fle=(t,r)=>$e(r)?ye.none():t&&ai(r.nextSibling)?ye.some(Ep.moveToElement(r.nextSibling)):!t&&ai(r.previousSibling)?ye.some(Ep.moveToElement(r.previousSibling)):ye.none(),ple=(t,r,a)=>a.fold(u=>ye.some(Ep.remove(u)),u=>ye.some(Ep.moveToElement(u)),u=>ov(r,u,t)?ye.none():ye.some(Ep.moveToPosition(u))),mle=(t,r,a,u)=>dle(r,a)?fle(r,a.getNode(!r)).orThunk(()=>q9(t,r,a,u)):q9(t,r,a,u).bind(f=>ple(t,a,f)),gle=(t,r,a,u)=>{const f=Dw(r?1:-1,t,a),b=gn.fromRangeStart(f),A=st.fromDom(t);return!r&&Rf(b)?ye.some(Ep.remove(b.getNode(!0))):r&&Ao(b)?ye.some(Ep.remove(b.getNode())):!r&&Ao(b)&&NM(A,b,u)?Vj(A,b,u).map(M=>Ep.remove(M.getNode())):r&&Rf(b)&&eF(A,b,u)?Lne(A,b,u).map(M=>Ep.remove(M.getNode())):mle(t,r,b,u)},vle=(t,r)=>a=>(t._selectionOverrides.hideFakeCaret(),q1(t,r,st.fromDom(a)),!0),yle=(t,r)=>a=>{const u=r?gn.before(a):gn.after(a);return t.selection.setRng(u.toRange()),!0},ble=t=>r=>(t.selection.setRng(r.toRange()),!0),K9=(t,r)=>ye.from(kC(t.getBody(),r)),Sle=(t,r)=>{const a=t.selection.getNode();return K9(t,a).filter(ai).fold(()=>gle(t.getBody(),r,t.selection.getRng(),t.schema).map(u=>()=>u.fold(vle(t,r),yle(t,r),ble(t))),()=>ye.some(St))},Cle=t=>{qe(Sn(t,".mce-offscreen-selection"),Ni)},Ele=(t,r)=>{const a=t.selection.getNode();return ai(a)&&!Zp(a)?K9(t,a.parentNode).filter(ai).fold(()=>ye.some(()=>{Cle(st.fromDom(t.getBody())),q1(t,r,st.fromDom(t.selection.getNode())),WM(t)}),()=>ye.some(St)):RH(t)?ye.some(()=>{c8(t,t.selection.getRng(),st.fromDom(t.getBody()))}):ye.none()},Z9=t=>{const r=t.dom,a=t.selection,u=kC(t.getBody(),a.getNode());if(au(u)&&r.isBlock(u)&&r.isEmpty(u)){const f=r.create("br",{"data-mce-bogus":"1"});r.setHTML(u,""),u.appendChild(f),a.setRng(gn.before(f).toRange())}return!0},kH=(t,r)=>t.selection.isCollapsed()?Sle(t,r):Ele(t,r),DH=(t,r)=>{const a=t.dom,u=a.getParent(t.selection.getStart(),a.isBlock),f=a.getParent(t.selection.getEnd(),a.isBlock),b=t.getBody();if(u?.nodeName?.toLowerCase()==="div"&&u&&f&&u===b.firstChild&&f===b.lastChild&&!a.isEmpty(b)){const M=u.cloneNode(!1),N=()=>{if(r?l8(t):zM(t),b.firstChild!==u){const G=Y1(t.selection.getRng(),()=>document.createElement("span"));Array.from(b.childNodes).forEach(le=>M.appendChild(le)),b.appendChild(M),t.selection.setRng(zc(G))}};return ye.some(N)}return ye.none()},wle=(t,r)=>{const a=gn.fromRangeStart(t.selection.getRng());return Af(r,t.getBody(),a).filter(u=>r?kne(u):Dne(u)).bind(u=>ls(r?0:-1,u)).map(u=>()=>t.selection.select(u))},MH=(t,r)=>t.selection.isCollapsed()?wle(t,r):ye.none(),lx=Wn,PH=t=>lx(t)&&t.data[0]===K,Y9=t=>lx(t)&&t.data[t.data.length-1]===K,X9=t=>(t.ownerDocument??document).createTextNode(K),J9=t=>{if(lx(t.previousSibling))return Y9(t.previousSibling)||t.previousSibling.appendData(K),t.previousSibling;if(lx(t))return PH(t)||t.insertData(0,K),t;{const r=X9(t);return t.parentNode?.insertBefore(r,t),r}},_le=t=>{if(lx(t.nextSibling))return PH(t.nextSibling)||t.nextSibling.insertData(0,K),t.nextSibling;if(lx(t))return Y9(t)||t.appendData(K),t;{const r=X9(t);return t.nextSibling?t.parentNode?.insertBefore(r,t.nextSibling):t.parentNode?.appendChild(r),r}},aN=(t,r)=>t?J9(r):_le(r),Tle=Xe(aN,!0),Ale=Xe(aN,!1),lN=(t,r)=>Wn(t.container())?aN(r,t.container()):aN(r,t.getNode()),NH=(t,r)=>{const a=r.get();return a&&t.container()===a&&Pe(a)},Q9=(t,r)=>r.fold(a=>{ty(t.get());const u=Tle(a);return t.set(u),ye.some(gn(u,u.length-1))},a=>hu(a).map(u=>{if(NH(u,t)){const f=t.get();return gn(f,1)}else{ty(t.get());const f=lN(u,!0);return t.set(f),gn(f,1)}}),a=>xf(a).map(u=>{if(NH(u,t)){const f=t.get();return gn(f,f.length-1)}else{ty(t.get());const f=lN(u,!1);return t.set(f),gn(f,f.length-1)}}),a=>{ty(t.get());const u=Ale(a);return t.set(u),ye.some(gn(u,1))}),cx=(t,r)=>{for(let a=0;a<t.length;a++){const u=t[a].apply(null,r);if(u.isSome())return u}return ye.none()},wp=oi.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),xle=(t,r)=>{const a=oy(r,t);return a||t},xSe=(t,r,a)=>{const u=r8(a),f=xle(r,u.container());return K1(t,f,u).fold(()=>jh(f,u).bind(Xe(K1,t,f)).map(b=>wp.before(b)),ye.none)},OSe=(t,r)=>S0(t,r)===null,by=(t,r,a)=>K1(t,r,a).filter(Xe(OSe,r)),PR=(t,r,a)=>{const u=i8(a);return by(t,r,u).bind(f=>du(f,u).isNone()?ye.some(wp.start(f)):ye.none())},Ob=(t,r,a)=>{const u=r8(a);return by(t,r,u).bind(f=>jh(f,u).isNone()?ye.some(wp.end(f)):ye.none())},m_=(t,r,a)=>{const u=i8(a),f=xle(r,u.container());return K1(t,f,u).fold(()=>du(f,u).bind(Xe(K1,t,f)).map(b=>wp.after(b)),ye.none)},cN=t=>!iF(g_(t)),Ib=(t,r,a)=>cx([xSe,PR,Ob,m_],[t,r,a]).filter(cN),g_=t=>t.fold(Ht,Ht,Ht,Ht),eG=t=>t.fold(it("before"),it("start"),it("end"),it("after")),NR=t=>t.fold(wp.before,wp.before,wp.after,wp.after),tG=t=>t.fold(wp.start,wp.start,wp.end,wp.end),Ole=(t,r)=>eG(t)===eG(r)&&g_(t)===g_(r),LR=(t,r,a,u,f,b)=>Ar(K1(r,a,u),K1(r,a,f),(A,M)=>A!==M&&o8(a,A,M)?wp.after(t?A:M):b).getOr(b),nG=(t,r)=>t.fold(un,a=>!Ole(a,r)),Ec=(t,r,a,u,f)=>{const b=av(t,f);return Af(t,a,b).map(Xe(av,t)).fold(()=>u.map(NR),N=>Ib(r,a,N).map(Xe(LR,t,r,a,b,N)).filter(Xe(nG,u))).filter(cN)},Ile=(t,r)=>t?r.fold(ee(ye.some,wp.start),ye.none,ee(ye.some,wp.after),ye.none):r.fold(ye.none,ee(ye.some,wp.before),ye.none,ee(ye.some,wp.end)),Rle=(t,r,a,u)=>{const f=av(t,u),b=Ib(r,a,f);return Ib(r,a,f).bind(Xe(Ile,t)).orThunk(()=>Ec(t,r,a,b,u))},ux=t=>_e(t.selection.getSel().modify),GC=(t,r,a)=>{const u=t?1:-1;return r.setRng(gn(a.container(),a.offset()+u).toRange()),r.getSel().modify("move",t?"forward":"backward","word"),!0},v_=(t,r)=>{const a=r.selection.getRng(),u=t?gn.fromRangeEnd(a):gn.fromRangeStart(a);return ux(r)?t&&gt(u)?GC(!0,r.selection,u):!t&&$t(u)?GC(!1,r.selection,u):!1:!1};var D0;(function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"})(D0||(D0={}));const uN=(t,r)=>t===-1?_s(r):r,LH=(t,r,a)=>t===1?r.next(a):r.prev(a),BH=(t,r,a,u)=>ga(u.getNode(r===1))?D0.Br:ov(a,u)===!1?D0.Block:D0.Wrap,FH=(t,r,a,u)=>{const f=rv(a);let b=u;const A=[];for(;b;){const M=LH(r,f,b);if(!M)break;if(ga(M.getNode(!1)))return r===1?{positions:uN(r,A).concat([M]),breakType:D0.Br,breakAt:ye.some(M)}:{positions:uN(r,A),breakType:D0.Br,breakAt:ye.some(M)};if(!M.isVisible()){b=M;continue}if(t(b,M)){const N=BH(a,r,b,M);return{positions:uN(r,A),breakType:N,breakAt:ye.some(M)}}A.push(M),b=M}return{positions:uN(r,A),breakType:D0.Eol,breakAt:ye.none()}},VH=(t,r,a,u)=>r(a,u).breakAt.map(f=>{const b=r(a,f).positions;return t===-1?b.concat(f):[f].concat(b)}).getOr([]),HH=(t,r)=>Gt(t,(a,u)=>a.fold(()=>ye.some(u),f=>Ar(je(f.getClientRects()),je(u.getClientRects()),(b,A)=>{const M=Math.abs(r-b.left);return Math.abs(r-A.left)<=M?u:f}).or(a)),ye.none()),dN=(t,r)=>je(r.getClientRects()).bind(a=>HH(t,a.left)),y_=Xe(FH,gn.isAbove,-1),BR=Xe(FH,gn.isBelow,1),oG=Xe(VH,-1,y_),sG=Xe(VH,1,BR),$H=(t,r)=>y_(t,r).breakAt.isNone(),UH=(t,r)=>BR(t,r).breakAt.isNone(),zH=t=>hu(t).map(r=>[r].concat(BR(t,r).positions)).getOr([]),rG=t=>xf(t).map(r=>y_(t,r).positions.concat(r)).getOr([]),iG=(t,r)=>dN(oG(t,r),r),aG=(t,r)=>dN(sG(t,r),r),dx=ai,jH=(t,r)=>Math.abs(t.left-r),lG=(t,r)=>Math.abs(t.right-r),cG=t=>es(t,"node"),uG=(t,r)=>Iu(t,(a,u)=>{const f=Math.min(jH(a,r),lG(a,r)),b=Math.min(jH(u,r),lG(u,r));return b===f&&cG(u)&&dx(u.node)||b<f?u:a}),dG=t=>{const r=a=>vn(a,u=>{const f=ts(u);return f.node=t,f});if(Ho(t))return r(t.getClientRects());if(Wn(t)){const a=t.ownerDocument.createRange();return a.setStart(t,0),a.setEnd(t,t.data.length),r(a.getClientRects())}else return[]},hG=t=>io(t,dG);var qC;(function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"})(qC||(qC={}));const fG=(t,r,a,u)=>{let f=u;for(;f=Iw(f,t,ZT,r);)if(a(f))return},WH=(t,r,a,u,f,b)=>{let A=0;const M=[],N=fe=>{let be=hG([fe]);t===qC.Up&&(be=be.reverse());for(let Le=0;Le<be.length;Le++){const Qe=be[Le];if(!a(Qe,G)){if(M.length>0&&r(Qe,He(M))&&A++,Qe.line=A,f(Qe))return!0;M.push(Qe)}}return!1},G=He(b.getClientRects());if(!G)return M;const le=b.getNode();return le&&(N(le),fG(t,u,N,le)),M},pG=(t,r)=>r.line>t,mG=(t,r)=>r.line===t,gG=Xe(WH,qC.Up,Rs,Qs),kle=Xe(WH,qC.Down,Qs,Rs),vG=t=>He(t.getClientRects()),Dle=(t,r,a,u)=>{const f=rv(r);let b,A,M,N;const G=[];let le=0;t===qC.Down?(b=f.next,A=Qs,M=Rs,N=gn.after(u)):(b=f.prev,A=Rs,M=Qs,N=gn.before(u));const fe=vG(N);do{if(!N.isVisible())continue;const be=vG(N);if(M(be,fe))continue;G.length>0&&A(be,He(G))&&le++;const Le=ts(be);if(Le.position=N,Le.line=le,a(Le))return G;G.push(Le)}while(N=b(N));return G},hN=t=>r=>pG(t,r),b_=t=>r=>mG(t,r),ag=(t,r)=>{t.selection.setRng(r),Uw(t,t.selection.getRng())},FR=(t,r,a)=>ye.some(AH(t,r,a)),GH=(t,r)=>{const a=t.getNode(r===-1);return Re(a)&&Rw(a)?ye.some(a):ye.none()},qH=(t,r)=>{const a=t.dom.createRng();return a.selectNode(r),a},VR=(t,r,a,u,f,b)=>{const A=r===1,M=rv(t.getBody()),N=Xe(AA,A?M.next:M.prev),G=A?u:f;if(!a.collapsed){const Qe=Sr(a);if(b(Qe))if(Rw(Qe)){const ze=sv(r,t.getBody(),a);return ye.from(N(ze)).map(nt=>nt.toRange())}else return rS(r,t,Qe,r===-1,!1);else if(RH(t)){const ze=a.cloneRange();return ze.collapse(r===-1),ye.from(ze)}}const le=sv(r,t.getBody(),a);if(G(le))return MR(t,le.getNode(!A));let fe=N(le);const be=So(a);if(fe)fe=av(A,fe);else return be?ye.some(a):ye.none();if(G(fe))return GH(fe,r).fold(()=>rS(r,t,fe?.getNode(!A),A,!1),Qe=>ye.some(qH(t,Qe)));const Le=N(fe);return Le&&G(Le)&&Mw(fe,Le)?GH(fe,r).fold(()=>rS(r,t,Le.getNode(!A),A,!1),Qe=>ye.some(qH(t,Qe))):be?FR(t,fe.toRange(),!1):ye.none()},yG=(t,r,a,u,f,b)=>{const A=sv(r,t.getBody(),a),M=He(A.getClientRects()),N=r===qC.Down,G=t.getBody();if(!M)return ye.none();if(RH(t)){const nt=N?gn.fromRangeEnd(a):gn.fromRangeStart(a);return(N?aG:iG)(G,nt).orThunk(()=>ye.from(nt)).map(Bt=>Bt.toRange())}const fe=(N?kle:gG)(G,hN(1),A),be=Ve(fe,b_(1)),Le=M.left,Qe=uG(be,Le);if(Qe&&b(Qe.node)){const nt=Math.abs(Le-Qe.left),Mt=Math.abs(Le-Qe.right);return rS(r,t,Qe.node,nt<Mt,!1)}let ze;if(u(A)?ze=A.getNode():f(A)?ze=A.getNode(!0):ze=Sr(a),ze){const nt=Dle(r,G,hN(1),ze);let Mt=uG(Ve(nt,b_(1)),Le);if(Mt||(Mt=He(Ve(nt,b_(0))),Mt))return FR(t,Mt.position.toRange(),!1)}return be.length===0?KH(t,N).filter(N?f:u).map(nt=>AH(t,nt.toRange(),!1)):ye.none()},KH=(t,r)=>{const a=t.selection.getRng(),u=r?gn.fromRangeEnd(a):gn.fromRangeStart(a),f=qD(u.container(),t.getBody());if(r){const b=BR(f,u);return rt(b.positions)}else{const b=y_(f,u);return je(b.positions)}},KC=(t,r,a)=>KH(t,r).filter(a).exists(u=>(t.selection.setRng(u.toRange()),!0)),hx=(t,r)=>{const a=t.dom.createRng();a.setStart(r.container(),r.offset()),a.setEnd(r.container(),r.offset()),t.selection.setRng(a)},ZH=(t,r)=>{t?r.setAttribute("data-mce-selected","inline-boundary"):r.removeAttribute("data-mce-selected")},fx=(t,r,a)=>Q9(r,a).map(u=>(hx(t,u),a)),bG=(t,r,a)=>{const u=gn.fromRangeStart(t);if(t.collapsed)return u;{const f=gn.fromRangeEnd(t);return a?du(r,f).getOr(f):jh(r,u).getOr(u)}},YH=(t,r,a)=>{const u=t.getBody(),f=bG(t.selection.getRng(),u,a),b=Xe(IC,t);return Rle(a,b,u,f).bind(M=>fx(t,r,M))},SG=(t,r,a)=>{const u=vn(Sn(st.fromDom(r.getRoot()),'*[data-mce-selected="inline-boundary"]'),A=>A.dom),f=Ve(u,t),b=Ve(a,t);qe(Wo(f,b),Xe(ZH,!1)),qe(Wo(b,f),Xe(ZH,!0))},CG=(t,r)=>{const a=r.get();if(t.selection.isCollapsed()&&!t.composing&&a){const u=gn.fromRangeStart(t.selection.getRng());gn.isTextPosition(u)&&!s8(u)&&(hx(t,wA(a,u)),r.set(null))}},Mle=(t,r,a,u)=>{if(r.selection.isCollapsed()){const f=Ve(u,t);qe(f,b=>{const A=gn.fromRangeStart(r.selection.getRng());Ib(t,r.getBody(),A).bind(M=>fx(r,a,M))})}},XH=(t,r,a)=>ey(t)?YH(t,r,a).isSome():!1,EG=(t,r,a)=>ey(r)?v_(t,r):!1,Ple=t=>{const r=zo(null),a=Xe(IC,t);return t.on("NodeChange",u=>{ey(t)&&(SG(a,t.dom,u.parents),CG(t,r),Mle(a,t,r,u.parents))}),r},Nle=Xe(EG,!0),Lle=Xe(EG,!1),px=(t,r,a)=>{if(ey(t)){const u=KH(t,r).getOrThunk(()=>{const f=t.selection.getRng();return r?gn.fromRangeEnd(f):gn.fromRangeStart(f)});return Ib(Xe(IC,t),t.getBody(),u).exists(f=>{const b=NR(f);return Q9(a,b).exists(A=>(hx(t,A),!0))})}else return!1},Ble=(t,r)=>{const a=document.createRange();return a.setStart(t.container(),t.offset()),a.setEnd(r.container(),r.offset()),a},wG=t=>Ar(hu(t),xf(t),(r,a)=>{const u=av(!0,r),f=av(!1,a);return jh(t,u).forall(b=>b.isEqual(f))}).getOr(!0),_G=(t,r)=>a=>Q9(r,a).map(u=>()=>hx(t,u)),TG=(t,r,a,u)=>{const f=t.getBody(),b=Xe(IC,t);t.undoManager.ignore(()=>{t.selection.setRng(Ble(a,u)),zM(t),Ib(b,f,gn.fromRangeStart(t.selection.getRng())).map(tG).bind(_G(t,r)).each(mn)}),t.nodeChanged()},Fle=(t,r)=>{const a=oy(r,t);return a||t},Vle=(t,r,a,u)=>{const f=Fle(t.getBody(),u.container()),b=Xe(IC,t),A=Ib(b,f,u);return A.bind(N=>a?N.fold(it(ye.some(tG(N))),ye.none,it(ye.some(NR(N))),ye.none):N.fold(ye.none,it(ye.some(NR(N))),ye.none,it(ye.some(tG(N))))).map(_G(t,r)).getOrThunk(()=>{const N=b0(a,f,u),G=N.bind(le=>Ib(b,f,le));return Ar(A,G,()=>K1(b,f,u).bind(le=>wG(le)?ye.some(()=>{q1(t,a,st.fromDom(le))}):ye.none())).getOrThunk(()=>G.bind(()=>N.map(le=>()=>{a?TG(t,r,u,le):TG(t,r,le,u)})))})},JH=(t,r,a)=>{if(t.selection.isCollapsed()&&ey(t)){const u=gn.fromRangeStart(t.selection.getRng());return Vle(t,r,a,u)}return ye.none()},Hle=t=>cf(t)>1,AG=(t,r)=>{const a=st.fromDom(t.getBody()),u=st.fromDom(t.selection.getStart()),f=T0(u,a);return Yn(f,r).fold(it(f),b=>f.slice(0,b))},$le=t=>cf(t)===1,Ule=t=>AG(t,r=>t.schema.isBlock(Us(r))||Hle(r)),zle=t=>AG(t,r=>t.schema.isBlock(Us(r))),xG=(t,r)=>{const a=Xe(bF,t);return io(r,u=>a(u)?[u.dom]:[])},fN=t=>{const r=zle(t);return xG(t,r)},jle=(t,r,a,u)=>{const f=xG(r,u);if(f.length===0)q1(r,t,a);else{const b=GA(a.dom,f);r.selection.setRng(b.toRange())}},pN=(t,r)=>{const a=Ve(Ule(t),$le);return rt(a).bind(u=>{const f=gn.fromRangeStart(t.selection.getRng());return soe(r,f,u.dom)&&!Si(u)?ye.some(()=>jle(r,t,u,a)):ye.none()})},qh=(t,r)=>{const a=r.parentElement;return ga(r)&&!V(a)&&t.dom.isEmpty(a)},Wle=t=>Si(st.fromDom(t)),HR=(t,r)=>{const a=t.selection.getStart(),u=qh(t,a)||Wle(a)?GA(a,r):QI(t.selection.getRng(),r);t.selection.setRng(u.toRange())},ZC=(t,r)=>{const a=Wo(r,fN(t));a.length>0&&HR(t,a)},QH=t=>Wn(t.startContainer),pm=t=>t.startOffset===0&&QH(t),S_=(t,r)=>{const a=r.startContainer.parentElement;return!V(a)&&bF(t,st.fromDom(a))},OG=t=>{const r=t.startContainer.parentNode,a=t.endContainer.parentNode;return!V(r)&&!V(a)&&r.isEqualNode(a)},Gle=t=>{const r=t.endContainer;return t.endOffset===(Wn(r)?r.length:r.childNodes.length)},IG=t=>OG(t)&&Gle(t),qle=t=>!t.endContainer.isEqualNode(t.commonAncestorContainer),RG=t=>IG(t)||qle(t),e$=t=>{const r=t.selection.getRng();return pm(r)&&S_(t,r)&&RG(r)},t$=t=>{if(e$(t)){const r=fN(t);return ye.some(()=>{zM(t),ZC(t,r)})}else return ye.none()},n$=(t,r)=>t.selection.isCollapsed()?pN(t,r):t$(t),Kle=(t,r)=>bo(t,a=>Jm(a.dom),a=>r.isBlock(Us(a))),kG=t=>Kle(st.fromDom(t.selection.getStart()),t.schema),Rb=t=>{const r=t.selection.getRng();return r.collapsed&&(QH(r)||t.dom.isEmpty(r.startContainer))&&!kG(t)},C_=t=>(Rb(t)&&HR(t,[]),!0),o$=(t,r,a)=>Re(a)?ye.some(()=>{t._selectionOverrides.hideFakeCaret(),q1(t,r,st.fromDom(a))}):ye.none(),mN=(t,r)=>{const a=r?GI:qI,f=sv(r?1:-1,t.getBody(),t.selection.getRng());return a(f)?o$(t,r,f.getNode(!r)):ye.from(av(r,f)).filter(b=>a(b)&&Mw(f,b)).bind(b=>o$(t,r,b.getNode(!r)))},s$=(t,r)=>{const a=t.selection.getNode();return $h(a)?o$(t,r,a):ye.none()},gN=(t,r)=>t.selection.isCollapsed()?mN(t,r):s$(t,r),DG=t=>Ti(t,r=>au(r.dom)||ai(r.dom)).exists(r=>au(r.dom)),vN=t=>of(t??"").getOr(0),MG=(t,r)=>{const a=t||qT(r)?"margin":"padding",u=Ha(r,"direction")==="rtl"?"-right":"-left";return a+u},Zle=(t,r,a,u,f,b)=>{const A=MG(a,st.fromDom(b)),M=vN(t.getStyle(b,A));if(r==="outdent"){const N=Math.max(0,M-u);t.setStyle(b,A,N?N+f:"")}else{const N=M+u+f;t.setStyle(b,A,N)}},Yle=(t,r)=>no(r,a=>{const u=MG(gw(t),a),f=yl(a,u).map(vN).getOr(0);return t.dom.getContentEditable(a.dom)!=="false"&&f>0}),PG=t=>{const r=NG(t);return!t.mode.isReadOnly()&&(r.length>1||Yle(t,r))},Xle=t=>!t.mode.isReadOnly()&&Cae(t),r$=t=>dC(t)||Km(t),Jle=t=>Ru(t).exists(r$),NG=t=>Ve(ch(t.selection.getSelectedBlocks()),r=>!r$(r)&&!Jle(r)&&DG(r)),LG=(t,r)=>{if(t.mode.isReadOnly())return;const{dom:a}=t,u=yI(t),f=/[a-z%]+$/i.exec(u)?.[0]??"px",b=vN(u),A=gw(t);qe(NG(t),M=>{Zle(a,r,A,b,f,M.dom)}),r==="indent"?O9(t):uH(t)},BG=t=>LG(t,"indent"),yN=t=>LG(t,"outdent"),bN=t=>{if(t.selection.isCollapsed()&&PG(t)){const r=t.dom,a=t.selection.getRng(),u=gn.fromRangeStart(a),f=r.getParent(a.startContainer,r.isBlock);if(f!==null&&QB(st.fromDom(f),u,t.schema))return ye.some(()=>yN(t))}return ye.none()},FG=(t,r)=>{const a=oP(t.selection.getRng());return _B(a)?ye.some(()=>q1(t,r,st.fromDom(t.selection.getNode()))):ye.none()},$R=(t,r)=>t.selection.isCollapsed()?ye.none():FG(t,r),i$=(t,r,a)=>Pt([bN,kH,OH,(u,f)=>JH(u,r,f),wH,pF,MH,gN,TH,n$,DH,$R],u=>u(t,a)).filter(u=>t.selection.isEditable()),SN=(t,r)=>{i$(t,r,!1).fold(()=>{t.selection.isEditable()&&(zM(t),WM(t))},mn),vH(t)&&eH(t.dom,t.getBody())},a$=(t,r)=>{i$(t,r,!0).fold(()=>{t.selection.isEditable()&&l8(t)},mn),vH(t)&&eH(t.dom,t.getBody())},VG=(t,r)=>{t.addCommand("delete",()=>{SN(t,r)}),t.addCommand("forwardDelete",()=>{a$(t,r)})},l$=5,HG=400,$G=t=>t.touches===void 0||t.touches.length!==1?ye.none():ye.some(t.touches[0]),Qle=(t,r)=>{const a=Math.abs(t.clientX-r.x),u=Math.abs(t.clientY-r.y);return a>l$||u>l$},CN=t=>{const r=Ac(),a=zo(!1),u=Ou(f=>{t.dispatch("longpress",{...f,type:"longpress"}),a.set(!0)},HG);t.on("touchstart",f=>{$G(f).each(b=>{u.cancel();const A={x:b.clientX,y:b.clientY,target:f.target};u.throttle(f),a.set(!1),r.set(A)})},!0),t.on("touchmove",f=>{u.cancel(),$G(f).each(b=>{r.on(A=>{Qle(b,A)&&(r.clear(),a.set(!1),t.dispatch("longpresscancel"))})})},!0),t.on("touchend touchcancel",f=>{u.cancel(),f.type!=="touchcancel"&&r.get().filter(b=>b.target.isEqualNode(f.target)).each(()=>{a.get()?f.preventDefault():t.dispatch("tap",{...f,type:"tap"})})},!0)},c$=(t,r)=>Xo(t,r.nodeName),UR=(t,r)=>Wn(r)?!0:Ho(r)?!c$(t.getBlockElements(),r)&&!am(r)&&!Nn(t,r)&&!ab(r)&&!qS(r):!1,ece=(t,r,a)=>cn(kM(st.fromDom(a),st.fromDom(r)),u=>c$(t,u.dom)),tce=(t,r)=>{if(Wn(r)){if(r.data.length===0)return!0;if(/^\s+$/.test(r.data))return!r.nextSibling||c$(t,r.nextSibling)||ab(r.nextSibling)}return!1},u$=t=>t.dom.create(zu(t),vC(t)),nce=t=>{const r=t.dom,a=t.selection,u=t.schema,f=u.getBlockElements(),b=a.getStart(),A=t.getBody();let M,N,G=null;const le=zu(t);if(!b||!Ho(b))return;const fe=A.nodeName.toLowerCase();if(!u.isValidChild(fe,le.toLowerCase())||ece(f,A,b))return;if(A.firstChild===A.lastChild&&ga(A.firstChild)){M=u$(t),M.appendChild(D().dom),A.replaceChild(M,A.firstChild),t.selection.setCursorLocation(M,0),t.nodeChanged();return}let be=A.firstChild;for(;be;)if(Ho(be)&&hd(u,be),UR(u,be)){if(tce(f,be)){N=be,be=be.nextSibling,r.remove(N);continue}if(!M){if(!G&&t.hasFocus()&&(G=Y1(t.selection.getRng(),()=>document.createElement("span"))),!be.parentNode){be=null;break}M=u$(t),A.insertBefore(M,be)}N=be,be=be.nextSibling,M.appendChild(N)}else M=null,be=be.nextSibling;G&&(t.selection.setRng(zc(G)),t.nodeChanged())},d$=(t,r,a)=>{const u=st.fromDom(u$(t)),f=D();zr(u,f),a(r,u);const b=document.createRange();return b.setStartBefore(f.dom),b.setEndBefore(f.dom),b},UG=t=>{t.on("NodeChange",()=>nce(t))},zG=t=>r=>(" "+r.attr("class")+" ").indexOf(t)!==-1,oce=(t,r,a)=>function(u){const f=arguments,b=f[f.length-2],A=b>0?r.charAt(b-1):"";if(A==='"')return u;if(A===">"){const M=r.lastIndexOf("<",b);if(M!==-1&&r.substring(M,b).indexOf('contenteditable="false"')!==-1)return u}return'<span class="'+a+'" data-mce-content="'+t.dom.encode(f[0])+'">'+t.dom.encode(typeof f[1]=="string"?f[1]:f[0])+"</span>"},sce=(t,r,a)=>{let u=r.length,f=a.content;if(a.format!=="raw"){for(;u--;)f=f.replace(r[u],oce(t,f,xI(t)));a.content=f}},rce=(t,r)=>no(t,a=>{const u=r.match(a);return u!==null&&u[0].length===r.length}),ice=t=>{const r="contenteditable",a=" "+Jn.trim(MD(t))+" ",u=" "+Jn.trim(xI(t))+" ",f=zG(a),b=zG(u),A=PD(t);A.length>0&&t.on("BeforeSetContent",M=>{sce(t,A,M)}),t.parser.addAttributeFilter("class",M=>{let N=M.length;for(;N--;){const G=M[N];f(G)?G.attr(r,"true"):b(G)&&G.attr(r,"false")}}),t.serializer.addAttributeFilter(r,M=>{let N=M.length;for(;N--;){const G=M[N];if(!f(G)&&!b(G))continue;const le=G.attr("data-mce-content");A.length>0&&le?rce(A,le)?(G.name="#text",G.type=3,G.raw=!0,G.value=le):G.remove():G.attr(r,null)}})},jG=t=>Hh(st.fromDom(t.getBody()),"*[data-mce-caret]").map(r=>r.dom).getOrNull(),ace=(t,r)=>{r.hasAttribute("data-mce-caret")&&(Kn(r),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(r))},lce=(t,r)=>{const a=jG(t);if(a){if(r.type==="compositionstart"){r.preventDefault(),r.stopPropagation(),ace(t,a);return}Ne(a)&&(ace(t,a),t.undoManager.add())}},cce=t=>{t.on("keyup compositionstart",Xe(lce,t))},WG=ai,uce=(t,r,a)=>VR(r,t,a,Ao,Rf,WG),dce=(t,r,a)=>yG(r,t,a,b=>Ao(b)||Nj(b),b=>Rf(b)||YB(b),WG),hce=t=>{const r=t.dom.create(zu(t));return r.innerHTML='<br data-mce-bogus="1">',r},GG=(t,r,a)=>{const u=rv(t.getBody()),f=Xe(AA,r===1?u.next:u.prev);if(a.collapsed){const b=t.dom.getParent(a.startContainer,"PRE");if(!b)return;if(!f(gn.fromRangeStart(a))){const M=st.fromDom(hce(t));r===1?ih(st.fromDom(b),M):Oc(st.fromDom(b),M),t.selection.select(M.dom,!0),t.selection.collapse()}}},qG=(t,r)=>{const a=r?1:-1,u=t.selection.getRng();return uce(a,t,u).orThunk(()=>(GG(t,a,u),ye.none()))},fce=(t,r)=>{const a=r?1:-1,u=t.selection.getRng();return dce(a,t,u).orThunk(()=>(GG(t,a,u),ye.none()))},pce=(t,r)=>{const a=r?t.getEnd(!0):t.getStart(!0);return iF(a)?!r:r},KG=(t,r)=>qG(t,pce(t.selection,r)).exists(a=>(ag(t,a),!0)),ZG=(t,r)=>fce(t,r).exists(a=>(ag(t,a),!0)),YG=(t,r)=>KC(t,r,r?Rf:Ao),EN=(t,r)=>IH(t,!r).map(a=>{const u=a.toRange(),f=t.selection.getRng();return r?u.setStart(f.startContainer,f.startOffset):u.setEnd(f.endContainer,f.endOffset),u}).exists(a=>(ag(t,a),!0)),XG=(t,r)=>{const a=A=>Lo(A,r),u=A=>au(A.dom),f=st.fromDom(t.container());return Ti(f,u,a).filter(A=>!a(A))},mce=(t,r,a)=>(a?aG:iG)(t.getBody(),r).map(f=>f.toRange()),gce=(t,r)=>{const a=gn.fromRangeStart(t.selection.getRng()),u=gn.fromRangeEnd(t.selection.getRng()),f=st.fromDom(t.getBody());return nh(Ar(XG(a,f),XG(u,f),(A,M)=>Lo(A,M)?ye.some(A):ye.none())).fold(Dt,A=>r&&UH(A.dom,u)||!r&&$H(A.dom,a)?mce(t,r?u:a,r).exists(M=>(ag(t,M),!0)):!1)},JG=(t,r)=>gce(t,r),QG=t=>xt(["figcaption"],Us(t)),vce=(t,r,a)=>{const u=Xe(Lo,r);return Ti(st.fromDom(t.container()),f=>a.isBlock(Us(f)),u).filter(QG)},yce=(t,r,a)=>r?UH(t.dom,a):$H(t.dom,a),bce=(t,r)=>{const a=st.fromDom(t.getBody()),u=gn.fromRangeStart(t.selection.getRng());return vce(u,a,t.schema).exists(()=>{if(yce(a,r,u)){const b=d$(t,a,r?zr:np);return t.selection.setRng(b),!0}else return!1})},zR=(t,r)=>t.selection.isCollapsed()?bce(t,r):!1,Sce=(t,r,a)=>{const u=t.selection.getRng(),f=gn.fromRangeStart(u);return t.getBody().firstChild===r&&$H(a,f)?(t.execCommand("InsertNewBlockBefore"),!0):!1},Cce=(t,r)=>{const a=t.selection.getRng(),u=gn.fromRangeStart(a);return t.getBody().lastChild===r&&UH(r,u)?(t.execCommand("InsertNewBlockAfter"),!0):!1},eq=(t,r)=>r?ye.from(t.dom.getParent(t.selection.getNode(),"details")).map(a=>Cce(t,a)).getOr(!1):ye.from(t.dom.getParent(t.selection.getNode(),"summary")).bind(a=>ye.from(t.dom.getParent(a,"details")).map(u=>Sce(t,u,a))).getOr(!1),wN=(t,r)=>eq(t,r),tq={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Ece=t=>vn(t,r=>({...tq,...r})),ISe=t=>vn(t,r=>({...tq,...r})),nq=(t,r)=>r.keyCode===t.keyCode&&r.shiftKey===t.shiftKey&&r.altKey===t.altKey&&r.ctrlKey===t.ctrlKey&&r.metaKey===t.metaKey,wce=(t,r)=>io(Ece(t),a=>nq(a,r)?[a]:[]),_ce=(t,r)=>io(ISe(t),a=>nq(a,r)?[a]:[]),Vs=(t,...r)=>()=>t.apply(null,r),jR=(t,r)=>Et(wce(t,r),a=>a.action()),oq=(t,r)=>Pt(_ce(t,r),a=>a.action()),sq=(t,r)=>{const a=r?1:-1,u=t.selection.getRng();return VR(t,a,u,GI,qI,$h).exists(f=>(ag(t,f),!0))},h$=(t,r)=>{const a=r?1:-1,u=t.selection.getRng();return yG(t,a,u,GI,qI,$h).exists(f=>(ag(t,f),!0))},iS=(t,r)=>KC(t,r,r?qI:GI),_p=(t,r)=>f$(t,r,un),f$=(t,r,a)=>io(yr(t),u=>mr(u,r)?a(u)?[u]:[]:f$(u,r,a)),WR=(t,r,a=Dt)=>{if(a(r))return ye.none();if(xt(t,Us(r)))return ye.some(r);const u=f=>mr(f,"table")||a(f);return Xa(r,t.join(","),u)},YC=(t,r)=>WR(["td","th"],t,r),M0=t=>_p(t,"th,td"),mx=(t,r)=>Ic(t,"table",r),_N=oi.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),gx={..._N,none:t=>_N.none(t)},TN=(t,r,a,u,f=un)=>{const b=u===1;if(!b&&a<=0)return gx.first(t[0]);if(b&&a>=t.length-1)return gx.last(t[t.length-1]);{const A=a+u,M=t[A];return f(M)?gx.middle(r,M):TN(t,r,A,u,f)}},iq=(t,r)=>mx(t,r).bind(a=>{const u=M0(a);return Yn(u,b=>Lo(t,b)).map(b=>({index:b,all:u}))}),Tce=(t,r,a)=>iq(t,a).fold(()=>gx.none(t),f=>TN(f.all,t,f.index,1,r)),aq=(t,r,a)=>iq(t,a).fold(()=>gx.none(),f=>TN(f.all,t,f.index,-1,r));var lq=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],cq=()=>{const t=G=>st.fromDom(G.dom.cloneNode(!1)),r=G=>su(G).dom,a=G=>sa(G)?Us(G)==="body"?!0:xt(lq,Us(G)):!1,u=G=>sa(G)?xt(["br","img","hr","input"],Us(G)):!1,f=G=>sa(G)&&aa(G,"contenteditable")==="false",b=(G,le)=>G.dom.compareDocumentPosition(le.dom),A=(G,le)=>{const fe=wr(G);Pa(le,fe)},M=G=>{const le=Us(G);return xt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],le)},N=G=>sa(G)?lh(G,"lang"):ye.none();return{up:it({selector:Xa,closest:Ic,predicate:Vh,all:Lc}),down:it({selector:Sn,predicate:Ye}),styles:it({get:Ha,getRaw:yl,set:Bc,remove:e0}),attrs:it({get:aa,set:ha,remove:vl,copyTo:A}),insert:it({before:Oc,after:ih,afterAll:Ky,append:zr,appendAll:ah,prepend:np,wrap:Bd}),remove:it({unwrap:Pu,remove:Ni}),create:it({nu:st.fromTag,clone:t,text:st.fromText}),query:it({comparePosition:b,prevSibling:Nd,nextSibling:Du}),property:it({children:yr,name:Us,parent:Ru,document:r,isText:ei,isComment:Za,isElement:sa,isSpecial:M,getLanguage:N,getText:bl,setText:t0,isBoundary:a,isEmptyTag:u,isNonEditable:f}),eq:Lo,is:Cl}};const p$=(t,r)=>({element:t,offset:r}),Ace=(t,r)=>{if(t.property().isText(r))return p$(r,t.property().getText(r).length);{const a=t.property().children(r);return a.length>0?Ace(t,a[a.length-1]):p$(r,a.length)}},xce=(t,r,a)=>{const u=t.property().children(r);return u.length>0&&a<u.length?xce(t,u[a],0):u.length>0&&t.property().isElement(r)&&u.length===a?Ace(t,u[u.length-1]):p$(r,a)},RSe=xce,Sy=cq(),Oce=(t,r)=>RSe(Sy,t,r),uq=pl("image"),E_=t=>{const r=t;return ye.from(r[uq])},dq=(t,r)=>{const a=t;a[uq]=r},m$=pl("event"),AN=t=>{const r=t;return ye.from(r[m$])},vx=t=>r=>{const a=r;a[m$]=t},hq=(t,r)=>vx(r)(t),g$=vx(0),Ice=vx(2),fq=vx(1),pq=(t=>r=>{const a=r;return ye.from(a[m$]).exists(u=>u===t)})(0),v$=()=>Object.freeze({length:0,item:t=>null}),y$=pl("mode"),kce=t=>{const r=t;return ye.from(r[y$])},xN=t=>r=>{const a=r;a[y$]=t},mq=(t,r)=>xN(r)(t),gq=xN(0),b$=xN(2),Dce=xN(1),vq=t=>r=>{const a=r;return ye.from(a[y$]).exists(u=>u===t)},w_=vq(0),yq=vq(1),aS=(t,r)=>({...r,get length(){return r.length},add:(a,u)=>{if(w_(t))if(se(a)){if(!et(u))return r.add(a,u)}else return r.add(a);return null},remove:a=>{w_(t)&&r.remove(a)},clear:()=>{w_(t)&&r.clear()}}),S$=["none","copy","link","move"],Mce=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],C$=()=>{const t=new window.DataTransfer;let r="move",a="all";const u={get dropEffect(){return r},set dropEffect(f){xt(S$,f)&&(r=f)},get effectAllowed(){return a},set effectAllowed(f){pq(u)&&xt(Mce,f)&&(a=f)},get items(){return aS(u,t.items)},get files(){return yq(u)?v$():t.files},get types(){return t.types},setDragImage:(f,b,A)=>{w_(u)&&(dq(u,{image:f,x:b,y:A}),t.setDragImage(f,b,A))},getData:f=>yq(u)?"":t.getData(f),setData:(f,b)=>{w_(u)&&t.setData(f,b)},clearData:f=>{w_(u)&&t.clearData(f)}};return gq(u),u},Pce=t=>{const r=C$(),a=kce(t);return b$(t),g$(r),r.dropEffect=t.dropEffect,r.effectAllowed=t.effectAllowed,E_(t).each(u=>r.setDragImage(u.image,u.x,u.y)),qe(t.types,u=>{u!=="Files"&&r.setData(u,t.getData(u))}),qe(t.files,u=>r.items.add(u)),AN(t).each(u=>{hq(r,u)}),a.each(u=>{mq(t,u),mq(r,u)}),r},E$=t=>{const r=t.getData("text/html");return r===""?ye.none():ye.some(r)},ON=(t,r)=>t.setData("text/html",r),bq=(t,r)=>({left:t.left-r,top:t.top-r,right:t.right+r*2,bottom:t.bottom+r*2,width:t.width+r,height:t.height+r}),Sq=(t,r)=>io(r,a=>{const u=bq(ts(a.getBoundingClientRect()),-1);return[{x:u.left,y:t(u),cell:a},{x:u.right,y:t(u),cell:a}]}),Cq=(t,r,a)=>Gt(t,(u,f)=>u.fold(()=>ye.some(f),b=>{const A=Math.sqrt(Math.abs(b.x-r)+Math.abs(b.y-a)),M=Math.sqrt(Math.abs(f.x-r)+Math.abs(f.y-a));return ye.some(M<A?f:b)}),ye.none()),Eq=(t,r,a,u,f)=>{const b=Sn(st.fromDom(a),"td,th,caption").map(M=>M.dom),A=Ve(Sq(t,b),M=>r(M,f));return Cq(A,u,f).map(M=>M.cell)},GR=t=>t.bottom,IN=t=>t.top,wq=(t,r)=>t.y<r,_q=(t,r)=>t.y>r,Tq=Xe(Eq,GR,wq),Aq=Xe(Eq,IN,_q),RN=(t,r)=>je(r.getClientRects()).bind(a=>Tq(t,a.left,a.top)).bind(a=>dN(rG(a),r)),w$=(t,r)=>rt(r.getClientRects()).bind(a=>Aq(t,a.left,a.top)).bind(a=>dN(zH(a),r)),qR=(t,r,a)=>a.breakAt.exists(u=>t(r,u).breakAt.isSome()),Nce=t=>t.breakType===D0.Wrap&&t.positions.length===0,xq=t=>t.breakType===D0.Br&&t.positions.length===1,Oq=(t,r,a)=>{const u=t(r,a);return Nce(u)||!ga(a.getNode())&&xq(u)?!qR(t,r,u):u.breakAt.isNone()},Lce=Xe(Oq,y_),Iq=Xe(Oq,BR),Bce=(t,r,a)=>{const u=gn.fromRangeStart(r);return wC(!t,a).exists(f=>f.isEqual(u))},Rq=(t,r,a,u)=>{const f=t.selection.getRng(),b=r?1:-1;return _A()&&Bce(r,f,a)?(rS(b,t,a,!r,!1).each(A=>{ag(t,A)}),!0):!1},kSe=(t,r,a)=>RN(r,a).orThunk(()=>je(a.getClientRects()).bind(u=>HH(oG(t,gn.before(r)),u.left))).getOr(gn.before(r)),Fce=(t,r,a)=>w$(r,a).orThunk(()=>je(a.getClientRects()).bind(u=>HH(sG(t,gn.after(r)),u.left))).getOr(gn.after(r)),kq=(t,r)=>{const a=r.getNode(t);return ap(a)?ye.some(a):ye.none()},Vce=(t,r,a)=>{r.undoManager.transact(()=>{const u=t?ih:Oc,f=d$(r,st.fromDom(a),u);ag(r,f)})},Dq=(t,r,a)=>{const u=kq(!!r,a),f=r===!1;u.fold(()=>ag(t,a.toRange()),b=>wC(f,t.getBody()).filter(A=>A.isEqual(a)).fold(()=>ag(t,a.toRange()),A=>Vce(r,t,b)))},Hce=(t,r,a,u)=>{const f=t.selection.getRng(),b=gn.fromRangeStart(f),A=t.getBody();if(!r&&Lce(u,b)){const M=kSe(A,a,b);return Dq(t,r,M),!0}else if(r&&Iq(u,b)){const M=Fce(A,a,b);return Dq(t,r,M),!0}else return!1},Mq=(t,r,a)=>ye.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(u=>ye.from(t.dom.getParent(u,"table")).map(f=>a(t,r,f,u))).getOr(!1),Pq=(t,r)=>Mq(t,r,Rq),KR=(t,r)=>Mq(t,r,Hce),$ce=t=>{const r=Lm.exact(t,0,t,0);return VE(r)},XC=t=>kb(t)||si(t).some(r=>Ph(r)&&kb(r)),_$=(t,r,a)=>a.fold(ye.none,ye.none,(u,f)=>Pm(f).map(b=>$ce(b)),u=>t.mode.isReadOnly()||!T$(u)||!XC(u)?ye.none():(t.execCommand("mceTableInsertRowAfter"),A$(t,r,u))),T$=t=>Ti(t,El("table")).exists(Lu),A$=(t,r,a)=>_$(t,r,Tce(a,kb)),x$=(t,r,a)=>_$(t,r,aq(a,kb)),kb=t=>Lu(t)||Ys(t,Nq),Nq=t=>Ph(t)&&Lu(t),lg=(t,r)=>{const a=["table","li","dl"],u=st.fromDom(t.getBody()),f=M=>{const N=Us(M);return Lo(M,u)||xt(a,N)},b=t.selection.getRng(),A=st.fromDom(r?b.endContainer:b.startContainer);return YC(A,f).map(M=>(mx(M,f).each(le=>{t.model.table.clearSelectedCells(le.dom)}),t.selection.collapse(!r),(r?A$:x$)(t,f,M).each(le=>{t.selection.setRng(le)}),!0)).getOr(!1)},__=(t,r,a)=>{const u=xr.os.isMacOS()||xr.os.isiOS(),f=xr.browser.isFirefox();jR([{keyCode:ko.RIGHT,action:Vs(KG,t,!0)},{keyCode:ko.LEFT,action:Vs(KG,t,!1)},{keyCode:ko.UP,action:Vs(ZG,t,!1)},{keyCode:ko.DOWN,action:Vs(ZG,t,!0)},...u?[{keyCode:ko.UP,action:Vs(EN,t,!1),metaKey:!0,shiftKey:!0},{keyCode:ko.DOWN,action:Vs(EN,t,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:ko.RIGHT,action:Vs(Pq,t,!0)},{keyCode:ko.LEFT,action:Vs(Pq,t,!1)},{keyCode:ko.UP,action:Vs(KR,t,!1)},{keyCode:ko.DOWN,action:Vs(KR,t,!0)},{keyCode:ko.UP,action:Vs(KR,t,!1)},{keyCode:ko.UP,action:Vs(wN,t,!1)},{keyCode:ko.DOWN,action:Vs(wN,t,!0)},{keyCode:ko.RIGHT,action:Vs(sq,t,!0)},{keyCode:ko.LEFT,action:Vs(sq,t,!1)},{keyCode:ko.UP,action:Vs(h$,t,!1)},{keyCode:ko.DOWN,action:Vs(h$,t,!0)},{keyCode:ko.RIGHT,action:Vs(XH,t,r,!0)},{keyCode:ko.LEFT,action:Vs(XH,t,r,!1)},{keyCode:ko.RIGHT,ctrlKey:!u,altKey:u,action:Vs(Nle,t,r)},{keyCode:ko.LEFT,ctrlKey:!u,altKey:u,action:Vs(Lle,t,r)},{keyCode:ko.UP,action:Vs(zR,t,!1)},{keyCode:ko.DOWN,action:Vs(zR,t,!0)},...f?[{keyCode:ko.UP,action:Vs(JG,t,!1)},{keyCode:ko.DOWN,action:Vs(JG,t,!0)}]:[]],a).each(b=>{a.preventDefault()})},Lq=(t,r)=>{t.on("keydown",a=>{a.isDefaultPrevented()||__(t,r,a)})},pv=(t,r)=>({container:t,offset:r}),kN=yi.DOM,ZR=t=>r=>t===r?-1:0,Uce=t=>r=>t.isBlock(r)||xt(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false",O$=(t,r,a)=>{if(Wn(t)&&r>=0)return ye.some(pv(t,r));{const u=sm(kN);return ye.from(u.backwards(t,r,ZR(t),a)).map(f=>pv(f.container,f.container.data.length))}},zce=(t,r,a)=>{if(Wn(t)&&r>=t.length)return ye.some(pv(t,r));{const u=sm(kN);return ye.from(u.forwards(t,r,ZR(t),a)).map(f=>pv(f.container,0))}},I$=(t,r,a)=>{if(!Wn(t))return ye.none();const u=t.data;if(r>=0&&r<=u.length)return ye.some(pv(t,r));{const f=sm(kN);return ye.from(f.backwards(t,r,ZR(t),a)).bind(b=>{const A=b.container.data;return I$(b.container,r+A.length,a)})}},Bq=(t,r,a)=>{if(!Wn(t))return ye.none();const u=t.data;if(r<=u.length)return ye.some(pv(t,r));{const f=sm(kN);return ye.from(f.forwards(t,r,ZR(t),a)).bind(b=>Bq(b.container,r-u.length,a))}},DN=(t,r,a,u,f)=>{const b=sm(t,Uce(t));return ye.from(b.backwards(r,a,u,f))},jce=t=>t.collapsed&&Wn(t.startContainer),Wce=t=>ue(t.toString().replace(/\u00A0/g," ")),T_=t=>t!==""&&` \uFEFF\f
\r	\v`.indexOf(t)!==-1,MN=(t,r)=>t.substring(r.length),Fq=(t,r,a,u=!1)=>{let f;const b=a.charAt(0);for(f=r-1;f>=0;f--){const A=t.charAt(f);if(!u&&T_(A))return ye.none();if(b===A&&na(t,a,f,r))break}return ye.some(f)},PN=(t,r,a,u=!1)=>{if(!jce(r))return ye.none();const f={text:"",offset:0},b=(M,N,G)=>(f.text=G+f.text,f.offset+=N,Fq(f.text,f.offset,a,u).getOr(N)),A=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return DN(t,r.startContainer,r.startOffset,b,A).bind(M=>{const N=r.cloneRange();if(N.setStart(M.container,M.offset),N.setEnd(r.endContainer,r.endOffset),N.collapsed)return ye.none();const G=Wce(N);return G.lastIndexOf(a)!==0?ye.none():ye.some({text:MN(G,a),range:N,trigger:a})})},R$=t=>t.nodeType===xs,Gce=t=>t.nodeType===Js,Vq=t=>{if(R$(t))return pv(t,t.data.length);{const r=t.childNodes;return r.length>0?Vq(r[r.length-1]):pv(t,r.length)}},Hq=(t,r)=>{const a=t.childNodes;return a.length>0&&r<a.length?Hq(a[r],0):a.length>0&&Gce(t)&&a.length===r?Vq(a[a.length-1]):pv(t,r)},$q=(t,r)=>{const a=t.getParent(r.container,t.isBlock)??t.getRoot();return DN(t,r.container,r.offset,(u,f)=>f===0?-1:f,a).filter(u=>{const f=u.container.data.charAt(u.offset-1);return!T_(f)}).isSome()},NN=t=>r=>{const a=Hq(r.startContainer,r.startOffset);return!$q(t,a)},Uq=(t,r,a)=>Pt(a.triggers,u=>PN(t,r,u)),LN=(t,r)=>{const a=r(),u=t.selection.getRng();return Uq(t.dom,u,a).bind(f=>zq(t,r,f))},zq=(t,r,a,u={})=>{const f=r(),A=t.selection.getRng().startContainer.nodeValue??"",M=Ve(f.lookupByTrigger(a.trigger),G=>a.text.length>=G.minChars&&G.matches.getOrThunk(()=>NN(t.dom))(a.range,A,a.text));if(M.length===0)return ye.none();const N=Promise.all(vn(M,G=>G.fetch(a.text,G.maxResults,u).then(fe=>({matchText:a.text,items:fe,columns:G.columns,onAction:G.onAction,highlightOn:G.highlightOn}))));return ye.some({lookupData:N,context:a})};var Cy;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Cy||(Cy={}));const k$=(t,r,a)=>t.stype===Cy.Error?r(t.serror):a(t.svalue),qce=t=>{const r=[],a=[];return qe(t,u=>{k$(u,f=>a.push(f),f=>r.push(f))}),{values:r,errors:a}},Kce=(t,r)=>t.stype===Cy.Error?{stype:Cy.Error,serror:r(t.serror)}:t,jq=(t,r)=>t.stype===Cy.Value?{stype:Cy.Value,svalue:r(t.svalue)}:t,Zce=(t,r)=>t.stype===Cy.Value?r(t.svalue):t,Yce=(t,r)=>t.stype===Cy.Error?r(t.serror):t,D$=t=>({stype:Cy.Value,svalue:t}),yx=t=>({stype:Cy.Error,serror:t}),Kh={fromResult:t=>t.fold(yx,D$),toResult:t=>k$(t,Ea.error,Ea.value),svalue:D$,partition:qce,serror:yx,bind:Zce,bindError:Yce,map:jq,mapError:Kce,fold:k$},M$=t=>Se(t)&&wt(t).length>100?" removed due to size":JSON.stringify(t,null,2),P$=t=>{const r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:it("... (only showing first ten failures)")}]):t;return vn(r,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},N$=(t,r)=>Kh.serror([{path:t,getErrorInfo:r}]),Jce=(t,r,a)=>N$(t,()=>'Could not find valid *required* value for "'+r+'" in '+M$(a)),Wq=(t,r)=>N$(t,it(r)),Gq=t=>{const r=(u,f)=>Kh.bindError(t(f),b=>Wq(u,b)),a=it("val");return{extract:r,toString:a}},Qce=Gq(Kh.svalue),L$=it(Qce),YR=(t,r)=>Gq(a=>{const u=typeof a;return t(a)?Kh.svalue(a):Kh.serror(`Expected type: ${r} but got: ${u}`)}),eue=YR(ut,"number"),B$=YR(se,"string"),XR=YR(_e,"function"),qq=()=>({tag:"required",process:{}}),F$=t=>({tag:"defaultedThunk",process:t}),V$=t=>F$(it(t)),H$=()=>({tag:"option",process:{}}),Kq=(t,r,a,u)=>({tag:"field",key:t,newKey:r,presence:a,prop:u}),Zq=(t,r,a)=>{switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return a(t.newKey,t.instantiator)}},tue=(t,r)=>Kh.svalue(th(r,xh.apply(void 0,t))),Yq=t=>ee(Kh.serror,ro)(t),nue={consolidateObj:(t,r)=>{const a=Kh.partition(t);return a.errors.length>0?Yq(a.errors):tue(a.values,r)},consolidateArr:t=>{const r=Kh.partition(t);return r.errors.length>0?Yq(r.errors):Kh.svalue(r.values)}},oue=(t,r,a,u)=>No(r,a).fold(()=>Jce(t,a,r),u),Xq=(t,r,a,u)=>{const f=No(t,r).getOrThunk(()=>a(t));return u(f)},U$=(t,r,a)=>a(No(t,r)),sue=(t,r,a,u)=>{const f=No(t,r).map(b=>b===!0?a(t):b);return u(f)},rue=(t,r,a,u,f)=>{const b=M=>f.extract(r.concat([u]),M),A=M=>M.fold(()=>Kh.svalue(ye.none()),N=>{const G=f.extract(r.concat([u]),N);return Kh.map(G,ye.some)});switch(t.tag){case"required":return oue(r,a,u,b);case"defaultedThunk":return Xq(a,u,t.process,b);case"option":return U$(a,u,A);case"defaultedOptionThunk":return sue(a,u,t.process,A);case"mergeWithThunk":return Xq(a,u,it({}),M=>{const N=th(t.process(a),M);return b(N)})}},Jq=(t,r,a)=>{const u={},f=[];for(const b of a)Zq(b,(A,M,N,G)=>{const le=rue(N,t,r,A,G);Kh.fold(le,fe=>{f.push(...fe)},fe=>{u[M]=fe})},(A,M)=>{u[A]=M(r)});return f.length>0?Kh.serror(f):Kh.svalue(u)},Qq=t=>({extract:(u,f)=>Jq(u,f,t),toString:()=>`obj{
`+vn(t,f=>Zq(f,(b,A,M,N)=>b+" -> "+N.toString(),(b,A)=>"state("+b+")")).join(`
`)+"}"}),iue=t=>({extract:(u,f)=>{const b=vn(f,(A,M)=>t.extract(u.concat(["["+M+"]"]),A));return nue.consolidateArr(b)},toString:()=>"array("+t.toString()+")"}),aue=(t,r,a)=>{const u=r.extract([t],a);return Kh.mapError(u,f=>({input:a,errors:f}))},eK=(t,r,a)=>Kh.toResult(aue(t,r,a)),tK=t=>`Errors: 
`+P$(t.errors).join(`
`)+`

Input object: `+M$(t.input),bx=Kq,z$=t=>bx(t,t,qq(),L$()),nK=(t,r)=>bx(t,t,qq(),r),j$=t=>nK(t,B$),oK=t=>nK(t,XR),lue=t=>bx(t,t,H$(),L$()),sK=(t,r)=>bx(t,t,H$(),r),rK=t=>sK(t,B$),Gc=t=>sK(t,XR),cue=(t,r)=>bx(t,t,V$(r),L$()),iK=(t,r,a)=>bx(t,t,V$(r),a),aK=(t,r)=>iK(t,r,eue),lK=(t,r,a)=>iK(t,r,iue(a)),W$=j$("type"),cK=oK("fetch"),JR=oK("onAction"),uue=t=>cue("columns",t),due=Qq([W$,j$("trigger"),aK("minChars",1),uue(1),aK("maxResults",10),Gc("matches"),cK,JR,lK("highlightOn",[],B$)]),hue=t=>eK("Autocompleter",due,t),fue=()=>{const t={},r={},a={},u={},f={},b={},A={},M={},N={},G=(Le,Qe)=>(ze,nt)=>{Le[ze.toLowerCase()]={...nt,type:Qe}},le=(Le,Qe)=>(ze,nt)=>{Le[ze.toLowerCase()]={type:Qe,...nt}},fe=(Le,Qe)=>u[Le.toLowerCase()]=Qe,be=(Le,Qe)=>A[Le.toLowerCase()]=Qe;return{addButton:G(t,"button"),addGroupToolbarButton:G(t,"grouptoolbarbutton"),addToggleButton:G(t,"togglebutton"),addMenuButton:G(t,"menubutton"),addSplitButton:G(t,"splitbutton"),addMenuItem:G(r,"menuitem"),addNestedMenuItem:G(r,"nestedmenuitem"),addToggleMenuItem:G(r,"togglemenuitem"),addAutocompleter:G(a,"autocompleter"),addContextMenu:G(f,"contextmenu"),addContextToolbar:G(b,"contexttoolbar"),addContextForm:le(b,"contextform"),addSidebar:G(M,"sidebar"),addView:G(N,"views"),addIcon:fe,addContext:be,getAll:()=>({buttons:t,menuItems:r,icons:u,popups:a,contextMenus:f,contextToolbars:b,sidebars:M,views:N,contexts:A})}},pue=t=>{const r=t.ui.registry.getAll().popups,a=jn(r,A=>hue(A).fold(M=>{throw new Error(tK(M))},Ht)),u=Xf(Hs(a,A=>A.trigger)),f=or(a);return{dataset:a,triggers:u,lookupByTrigger:A=>Ve(f,M=>M.trigger===A)}},mue=(t,r)=>{const a=Ou(r.load,50);t.on("input",u=>{u.inputType==="insertCompositionText"&&!t.composing||a.throttle()}),t.on("keydown",u=>{const f=u.which;f===8?a.throttle():f===27?(a.cancel(),r.cancelIfNecessary()):(f===38||f===40)&&a.cancel()},!0),t.on("remove",a.cancel)},gue=t=>{const r=Ac(),a=zo(!1),u=r.isSet,f=()=>{u()&&(dD(t),a.set(!1),r.clear())},b=fe=>{u()||r.set({trigger:fe.trigger,matchLength:fe.text.length})},A=Ml(()=>pue(t)),M=fe=>r.get().map(be=>PN(t.dom,t.selection.getRng(),be.trigger,!0).bind(Le=>zq(t,A,Le,fe))).getOrThunk(()=>LN(t,A)),N=fe=>{M(fe).fold(f,be=>{b(be.context),be.lookupData.then(Le=>{r.get().map(Qe=>{const ze=be.context;Qe.trigger===ze.trigger&&(r.set({...Qe,matchLength:ze.text.length}),a.get()?(pI(t,{range:ze.range}),Gs(t,{lookupData:Le})):(a.set(!0),pI(t,{range:ze.range}),V4(t,{lookupData:Le})))})})})},G=(fe,be)=>{const Le=fe.compareBoundaryPoints(window.Range.START_TO_START,be),Qe=fe.compareBoundaryPoints(window.Range.END_TO_END,be);return Le>=0&&Qe<=0},le=()=>r.get().bind(({trigger:fe})=>{const be=t.selection.getRng();return PN(t.dom,be,fe,a.get()).filter(({range:Le})=>G(be,Le)).map(({range:Le})=>Le)});t.addCommand("mceAutocompleterReload",(fe,be)=>{const Le=Se(be)?be.fetchOptions:{};N(Le)}),t.addCommand("mceAutocompleterClose",f),t.addCommand("mceAutocompleterRefreshActiveRange",()=>{le().each(fe=>{pI(t,{range:fe})})}),t.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>le().isSome()),mue(t,{cancelIfNecessary:f,load:N})},vue=Md().browser.isSafari(),uK=t=>F(st.fromDom(t)),dK=(t,r)=>t.startOffset===0&&t.endOffset===r.textContent?.length,BN=(t,r)=>ye.from(t.getParent(r.container(),"details")),hK=(t,r)=>BN(t,r).isSome(),yue=(t,r)=>{const a=ye.from(t.getParent(r.startContainer,"details")),u=ye.from(t.getParent(r.endContainer,"details"));if(a.isSome()||u.isSome()){const f=a.bind(b=>ye.from(t.select("summary",b)[0]));return ye.some({startSummary:f,startDetails:a,endDetails:u})}else return ye.none()},fK=(t,r)=>hu(r).exists(a=>a.isEqual(t)),pK=(t,r)=>xf(r).exists(a=>ga(a.getNode())&&du(r,a).exists(u=>u.isEqual(t))||a.isEqual(t)),mK=(t,r)=>r.startSummary.exists(a=>fK(t,a)),bue=(t,r)=>r.startSummary.exists(a=>pK(t,a)),Sue=(t,r)=>r.startDetails.exists(a=>du(a,t).forall(u=>r.startSummary.exists(f=>!f.contains(t.container())&&f.contains(u.container())))),Cue=(t,r,a)=>a.startDetails.exists(u=>jh(t,r).forall(f=>!u.contains(f.container()))),gK=(t,r)=>{const a=r.getNode();et(a)||t.selection.setCursorLocation(a,r.offset())},G$=(t,r,a)=>{const u=t.dom.getParent(r.container(),"details");if(u&&!u.open){const f=t.dom.select("summary",u)[0];f&&(a?hu(f):xf(f)).each(A=>gK(t,A))}else gK(t,r)},Eue=(t,r)=>{const a=N=>N.contains(t.startContainer),u=N=>N.contains(t.endContainer),f=r.startSummary.exists(a),b=r.startSummary.exists(u),A=r.startDetails.forall(N=>r.endDetails.forall(G=>N!==G));return(f||b)&&!(f&&b)||A},q$=(t,r,a)=>{const{dom:u,selection:f}=t,b=t.getBody();if(a==="character"){const A=gn.fromRangeStart(f.getRng()),M=u.getParent(A.container(),u.isBlock),N=BN(u,A),G=M&&u.isEmpty(M),le=V(M?.previousSibling),fe=V(M?.nextSibling);return G&&(r?fe:le)&&b0(!r,b,A).exists(Qe=>hK(u,Qe)&&!Oh(N,BN(u,Qe)))?!0:b0(r,b,A).fold(Dt,be=>{const Le=BN(u,be);if(hK(u,be)&&!Oh(N,Le)){if(r||G$(t,be,!1),M&&G){if(r&&le)return!0;if(!r&&fe)return!0;G$(t,be,r),t.dom.remove(M)}return!0}else return!1})}else return!1},wue=(t,r,a,u)=>{const b=t.selection.getRng(),A=gn.fromRangeStart(b),M=t.getBody();return u==="selection"?Eue(b,r):a?bue(A,r)||Cue(M,A,r):mK(A,r)||Sue(A,r)},vK=(t,r,a)=>yue(t.dom,t.selection.getRng()).fold(()=>q$(t,r,a),u=>wue(t,u,r,a)||q$(t,r,a)),yK=(t,r,a)=>{const u=t.selection,f=u.getNode(),b=u.getRng(),A=gn.fromRangeStart(b);return $i(f)?(a==="selection"&&dK(b,f)||soe(r,A,f)?uK(f):t.undoManager.transact(()=>{const M=u.getSel();let{anchorNode:N,anchorOffset:G,focusNode:le,focusOffset:fe}=M??{};const be=()=>{Re(N)&&Re(G)&&Re(le)&&Re(fe)&&M?.setBaseAndExtent(N,G,le,fe)},Le=()=>{N=M?.anchorNode,G=M?.anchorOffset,le=M?.focusNode,fe=M?.focusOffset},Qe=(nt,Mt)=>{qe(nt.childNodes,Bt=>{z1(Bt)&&Mt.appendChild(Bt)})},ze=t.dom.create("span",{"data-mce-bogus":"1"});Qe(f,ze),f.appendChild(ze),be(),(a==="word"||a==="line")&&M?.modify("extend",r?"right":"left",a),!u.isCollapsed()&&dK(u.getRng(),ze)?uK(f):(t.execCommand(r?"ForwardDelete":"Delete"),Le(),Qe(ze,f),be()),t.dom.remove(ze)}),!0):!1},A_=(t,r,a)=>vK(t,r,a)||vue&&yK(t,r,a)?ye.some(St):ye.none(),bK=t=>(r,a,u={})=>{const f=r.getBody(),b={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:f,currentTarget:f,eventPhase:Event.AT_TARGET,originalTarget:f,explicitOriginalTarget:f,isTrusted:!1,srcElement:f,cancelable:!1,preventDefault:St,inputType:a},A=h0(new InputEvent(t));return r.dispatch(t,{...A,...b,...u})},QR=bK("input"),FN=bK("beforeinput"),K$=Md(),SK=K$.os,CK=SK.isMacOS()||SK.isiOS(),Tue=K$.browser.isFirefox(),Aue=(t,r,a)=>{const u=a.keyCode===ko.BACKSPACE?"deleteContentBackward":"deleteContentForward",f=t.selection.isCollapsed(),b=f?"character":"selection",A=M=>f?M?"word":"line":"selection";oq([{keyCode:ko.BACKSPACE,action:Vs(bN,t)},{keyCode:ko.BACKSPACE,action:Vs(kH,t,!1)},{keyCode:ko.DELETE,action:Vs(kH,t,!0)},{keyCode:ko.BACKSPACE,action:Vs(OH,t,!1)},{keyCode:ko.DELETE,action:Vs(OH,t,!0)},{keyCode:ko.BACKSPACE,action:Vs(JH,t,r,!1)},{keyCode:ko.DELETE,action:Vs(JH,t,r,!0)},{keyCode:ko.BACKSPACE,action:Vs(pF,t,!1)},{keyCode:ko.DELETE,action:Vs(pF,t,!0)},{keyCode:ko.BACKSPACE,action:Vs(A_,t,!1,b)},{keyCode:ko.DELETE,action:Vs(A_,t,!0,b)},...CK?[{keyCode:ko.BACKSPACE,altKey:!0,action:Vs(A_,t,!1,A(!0))},{keyCode:ko.DELETE,altKey:!0,action:Vs(A_,t,!0,A(!0))},{keyCode:ko.BACKSPACE,metaKey:!0,action:Vs(A_,t,!1,A(!1))}]:[{keyCode:ko.BACKSPACE,ctrlKey:!0,action:Vs(A_,t,!1,A(!0))},{keyCode:ko.DELETE,ctrlKey:!0,action:Vs(A_,t,!0,A(!0))}],{keyCode:ko.BACKSPACE,action:Vs(MH,t,!1)},{keyCode:ko.DELETE,action:Vs(MH,t,!0)},{keyCode:ko.BACKSPACE,action:Vs(gN,t,!1)},{keyCode:ko.DELETE,action:Vs(gN,t,!0)},{keyCode:ko.BACKSPACE,action:Vs(TH,t,!1)},{keyCode:ko.DELETE,action:Vs(TH,t,!0)},{keyCode:ko.BACKSPACE,action:Vs(wH,t,!1)},{keyCode:ko.DELETE,action:Vs(wH,t,!0)},{keyCode:ko.BACKSPACE,action:Vs(n$,t,!1)},{keyCode:ko.DELETE,action:Vs(n$,t,!0)},{keyCode:ko.BACKSPACE,action:Vs(DH,t,!1)},{keyCode:ko.DELETE,action:Vs(DH,t,!0)},{keyCode:ko.BACKSPACE,action:Vs($R,t,!1)},{keyCode:ko.DELETE,action:Vs($R,t,!0)}],a).filter(M=>t.selection.isEditable()).each(M=>{a.preventDefault(),FN(t,u).isDefaultPrevented()||(M(),QR(t,u))})},EK=(t,r,a,u)=>jR([{keyCode:ko.BACKSPACE,action:Vs(Z9,t)},{keyCode:ko.DELETE,action:Vs(Z9,t)},...CK?[{keyCode:ko.BACKSPACE,altKey:!0,action:Vs(C_,t)},{keyCode:ko.DELETE,altKey:!0,action:Vs(C_,t)},...a?[{keyCode:Tue?224:91,action:Vs(()=>(ZC(t,u),C_(t)))}]:[]]:[{keyCode:ko.BACKSPACE,ctrlKey:!0,action:Vs(C_,t)},{keyCode:ko.DELETE,ctrlKey:!0,action:Vs(C_,t)}]],r),xue=(t,r)=>{let a=!1,u=[];t.on("keydown",f=>{a=f.keyCode===ko.BACKSPACE,u=fN(t),f.isDefaultPrevented()||Aue(t,r,f)}),t.on("keyup",f=>{f.isDefaultPrevented()||(EK(t,f,a,u),u.length=0),a=!1})},Oue=(t,r)=>{const a=st.fromDom(t),u=st.fromDom(r),f=El("span"),b=Xe(Lo,a),A=N=>sa(N)&&yl(N,"font-size").isSome(),M=[...A(u)?[u]:[],...ae(u,A,b)];qe(M.slice(1),N=>{e0(N,"font-size"),vl(N,"data-mce-style"),f(N)&&Pv(N)&&Pu(N)})},Iue=t=>{for(;t;){if(Ho(t)||Wn(t)&&t.data&&/[\r\n\s]/.test(t.data))return ye.from(st.fromDom(t));t=t.nextSibling}return ye.none()},x_=(t,r)=>{const a=t.dom,u=t.schema.getMoveCaretBeforeOnEnterElements();if(!r)return;if(/^(LI|DT|DD)$/.test(r.nodeName)){const b=N=>/^(ul|ol|dl)$/.test(Us(N)),A=N=>b(N)?ye.from(N):Fv(N,b),M=N=>a.isEmpty(N.dom);Iue(r.firstChild).each(N=>{A(N).fold(()=>{if(M(N)){const G=Oce(N,0).element;sa(G)&&!Ef(G)&&zr(G,st.fromText(Pi))}},G=>{Oc(G,st.fromText(Pi))})})}const f=a.createRng();if(r.normalize(),r.hasChildNodes()){const b=new Yi(r,r);let A=r,M;for(;M=b.current();){if(Wn(M)){f.setStart(M,0),f.setEnd(M,0);break}if(u[M.nodeName.toLowerCase()]){f.setStartBefore(M),f.setEndBefore(M);break}A=M,M=b.next()}M||(f.setStart(A,0),f.setEnd(A,0))}else ga(r)?r.nextSibling&&a.isBlock(r.nextSibling)?(f.setStartBefore(r),f.setEndBefore(r)):(f.setStartAfter(r),f.setEndAfter(r)):(f.setStart(r,0),f.setEnd(r,0));t.selection.setRng(f),Uw(t,f)},Sx=(t,r)=>{const a=t.getRoot();let u,f=r;for(;f!==a&&f&&t.getContentEditable(f)!=="false";){if(t.getContentEditable(f)==="true"){u=f;break}f=f.parentNode}return f!==a?u:a},Z$=t=>ye.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock)),Rue=t=>Z$(t).fold(it(""),r=>r.nodeName.toUpperCase()),kue=t=>Z$(t).filter(r=>Km(st.fromDom(r))).isSome(),Y$=t=>{t.innerHTML='<br data-mce-bogus="1">'},Due=(t,r,a)=>{const u=t.dom;ye.from(a.style).map(u.parseStyle).each(N=>{const le={...Rm(st.fromDom(r)),...N};u.setStyles(r,le)});const f=ye.from(a.class).map(N=>N.split(/\s+/)),b=ye.from(r.className).map(N=>Ve(N.split(/\s+/),G=>G!==""));Ar(f,b,(N,G)=>{const le=Ve(G,be=>!xt(N,be)),fe=[...N,...le];u.setAttrib(r,"class",fe.join(" "))});const A=["style","class"],M=Cs(a,(N,G)=>!xt(A,G));u.setAttribs(r,M)},ek=(t,r)=>{if(zu(t).toLowerCase()===r.tagName.toLowerCase()){const u=vC(t);Due(t,r,u)}},wK=(t,r,a,u,f=!0,b,A)=>{const M=t.dom,N=t.schema,G=zu(t),le=a?a.nodeName.toUpperCase():"";let fe=r;const be=N.getTextInlineElements();let Le;b||le==="TABLE"||le==="HR"?Le=M.create(b||G,A||{}):Le=a.cloneNode(!1);let Qe=Le;if(!f)M.setAttrib(Le,"style",null),M.setAttrib(Le,"class",null);else{do if(be[fe.nodeName]){if(Jm(fe)||am(fe))continue;const ze=fe.cloneNode(!1);M.setAttrib(ze,"id",""),Le.hasChildNodes()?(ze.appendChild(Le.firstChild),Le.appendChild(ze)):(Qe=ze,Le.appendChild(ze))}while((fe=fe.parentNode)&&fe!==u);Oue(Le,Qe)}return ek(t,Le),Y$(Qe),Le},Mue=(t,r)=>t.dom.getParent(r,i0),NSe=(t,r,a)=>{let u=r;for(;u&&u!==t&&V(u.nextSibling);){const f=u.parentElement;if(!f||!a(f))return i0(f);u=f}return!1},Pue=(t,r,a)=>!r&&a.nodeName.toLowerCase()===zu(t)&&t.dom.isEmpty(a)&&NSe(t.getBody(),a,u=>Xo(t.schema.getTextBlockElements(),u.nodeName.toLowerCase())),VN=(t,r,a)=>{const u=r(zu(t)),f=Mue(t,a);f&&(t.dom.insertAfter(u,f),x_(t,u),(a.parentElement?.childNodes?.length??0)>1&&t.dom.remove(a))},_K=(t,r)=>t.firstChild&&t.firstChild.nodeName===r,TK=t=>t.parentNode?.firstChild===t,AK=(t,r)=>{const a=t?.parentNode;return Re(a)&&a.nodeName===r},X$=t=>Re(t)&&/^(OL|UL|LI)$/.test(t.nodeName),HN=t=>Re(t)&&/^(LI|DT|DD)$/.test(t.nodeName),Nue=t=>X$(t)&&X$(t.parentNode),$N=t=>{const r=t.parentNode;return HN(r)?r:t},UN=(t,r,a)=>{let u=t[a?"firstChild":"lastChild"];for(;u&&!Ho(u);)u=u[a?"nextSibling":"previousSibling"];return u===r},J$=t=>Gt(Hs(Rm(st.fromDom(t)),(r,a)=>`${a}: ${r};`),(r,a)=>r+a,""),Lue=(t,r,a,u,f)=>{const b=t.dom,A=t.selection.getRng(),M=a.parentNode;if(a===t.getBody()||!M)return;Nue(a)&&(f="LI");const N=HN(u)?J$(u):void 0;let G=HN(u)&&N?r(f,{style:J$(u)}):r(f);if(UN(a,u,!0)&&UN(a,u,!1))if(AK(a,"LI")){const le=$N(a);b.insertAfter(G,le),TK(a)?b.remove(le):b.remove(a)}else b.replace(G,a);else if(UN(a,u,!0))AK(a,"LI")?(b.insertAfter(G,$N(a)),G.appendChild(b.doc.createTextNode(" ")),G.appendChild(a)):M.insertBefore(G,a),b.remove(u);else if(UN(a,u,!1))b.insertAfter(G,$N(a)),b.remove(u);else{a=$N(a);const le=A.cloneRange();le.setStartAfter(u),le.setEndAfter(a);const fe=le.extractContents();if(f==="LI"&&_K(fe,"LI")){const be=Ve(vn(G.children,st.fromDom),tn(El("br")));G=fe.firstChild,b.insertAfter(fe,a),qe(be,Le=>np(st.fromDom(G),Le)),N&&G.setAttribute("style",N)}else b.insertAfter(fe,a),b.insertAfter(G,a);b.remove(u)}x_(t,G)},Q$=t=>{qe(Ye(st.fromDom(t),ei),r=>{const a=r.dom;a.nodeValue=ue(a.data)})},Bue=(t,r)=>{const a=t.dom.getParent(r,"ol,ul,dl");return a!==null&&t.dom.getContentEditableParent(a)==="false"},Fue=(t,r)=>r&&r.nodeName==="A"&&t.isEmpty(r),eU=(t,r)=>t.nodeName===r||t.previousSibling&&t.previousSibling.nodeName===r,xK=(t,r)=>t.nodeName===r||t.nextSibling&&t.nextSibling.nodeName===r,tU=(t,r)=>Re(r)&&t.isBlock(r)&&!/^(TD|TH|CAPTION|FORM)$/.test(r.nodeName)&&!/^(fixed|absolute)/i.test(r.style.position)&&t.isEditable(r.parentNode)&&t.getContentEditable(r)!=="false",Vue=(t,r,a)=>{const u=[];if(!a)return;let f=a;for(;f=f.firstChild;){if(t.isBlock(f))return;Ho(f)&&!r[f.nodeName.toLowerCase()]&&u.push(f)}let b=u.length;for(;b--;)f=u[b],(!f.hasChildNodes()||f.firstChild===f.lastChild&&f.firstChild?.nodeValue===""||Fue(t,f))&&t.remove(f)},nU=(t,r,a)=>Wn(r)?t?a===1&&r.data.charAt(a-1)===K?0:a:a===r.data.length-1&&r.data.charAt(a)===K?r.data.length:a:a,Hue=t=>{const r=t.cloneRange();return r.setStart(t.startContainer,nU(!0,t.startContainer,t.startOffset)),r.setEnd(t.endContainer,nU(!1,t.endContainer,t.endOffset)),r},LSe=t=>{let r=t;do Wn(r)&&(r.data=r.data.replace(/^[\r\n]+/,"")),r=r.firstChild;while(r)},$ue=(t,r,a,u,f)=>{const b=t.dom,A=Sx(b,u)??b.getRoot();let M=b.getParent(u,b.isBlock);if(!M||!tU(b,M)){if(M=M||A,!M.hasChildNodes()){const fe=b.create(r);return ek(t,fe),M.appendChild(fe),a.setStart(fe,0),a.setEnd(fe,0),fe}let N=u;for(;N&&N.parentNode!==M;)N=N.parentNode;let G;for(;N&&!b.isBlock(N);)G=N,N=N.previousSibling;const le=G?.parentElement?.nodeName;if(G&&le&&t.schema.isValidChild(le,r.toLowerCase())){const fe=G.parentNode,be=b.create(r);for(ek(t,be),fe.insertBefore(be,G),N=G;N&&!b.isBlock(N);){const Le=N.nextSibling;be.appendChild(N),N=Le}a.setStart(u,f),a.setEnd(u,f)}}return u},Uue=(t,r)=>{r.normalize();const a=r.lastChild;(!a||Ho(a)&&/^(left|right)$/gi.test(t.getStyle(a,"float",!0)))&&t.add(r,"br")},zue=(t,r)=>{const a=Hz(t);return $e(r)?!1:se(a)?xt(Jn.explode(a),r.nodeName.toLowerCase()):a},oU={insert:(t,r)=>{let a,u,f,b,A=!1;const M=t.dom,N=t.schema,G=N.getNonEmptyElements(),le=t.selection.getRng(),fe=zu(t),be=st.fromDom(le.startContainer),Le=Lh(be,le.startOffset),Qe=Le.exists(Un=>Ph(Un)&&!Lu(Un)),ze=le.collapsed&&Qe,nt=(Un,Zo)=>wK(t,a,xo,$n,k1(t),Un,Zo),Mt=Un=>{const Zo=nU(Un,a,u);if(Wn(a)&&(Un?Zo>0:Zo<a.data.length))return!1;if((a.parentNode===xo||a===xo)&&A&&!Un||Un&&Ho(a)&&a===xo.firstChild)return!0;if(eU(a,"TABLE")||eU(a,"HR"))return xK(a,"BR")?!Un:A&&!Un||!A&&Un;const Ls=new Yi(a,xo);Wn(a)&&(Un&&Zo===0?Ls.prev():!Un&&Zo===a.data.length&&Ls.next());let gr;for(;gr=Ls.current();){if(Ho(gr)){if(!gr.getAttribute("data-mce-bogus")){const Lr=gr.nodeName.toLowerCase();if(G[Lr]&&Lr!=="br")return!1}}else if(Wn(gr)&&!Lg(gr.data))return!1;Un?Ls.prev():Ls.next()}return!0},Bt=()=>{let Un;return/^(H[1-6]|PRE|FIGURE)$/.test(f)&&oo!=="HGROUP"?Un=nt(fe):Un=nt(),zue(t,b)&&tU(M,b)&&M.isEmpty(xo,void 0,{includeZwsp:!0})?Un=M.split(b,xo):M.insertAfter(Un,xo),x_(t,Un),Un};$w(M,le).each(Un=>{le.setStart(Un.startContainer,Un.startOffset),le.setEnd(Un.endContainer,Un.endOffset)}),a=le.startContainer,u=le.startOffset;const zt=!!(r&&r.shiftKey),_n=!!(r&&r.ctrlKey);Ho(a)&&a.hasChildNodes()&&!ze&&(A=u>a.childNodes.length-1,a=a.childNodes[Math.min(u,a.childNodes.length-1)]||a,A&&Wn(a)?u=a.data.length:u=0);const $n=Sx(M,a);if(!$n||Bue(t,a))return;zt||(a=$ue(t,fe,le,a,u));let xo=M.getParent(a,M.isBlock)||M.getRoot();b=Re(xo?.parentNode)?M.getParent(xo.parentNode,M.isBlock):null,f=xo?xo.nodeName.toUpperCase():"";const oo=b?b.nodeName.toUpperCase():"";if(oo==="LI"&&!_n){const Un=b;xo=Un,b=Un.parentNode,f=oo}if(Ho(b)&&Pue(t,zt,xo))return VN(t,nt,xo);if(/^(LI|DT|DD)$/.test(f)&&Ho(b)&&M.isEmpty(xo)){Lue(t,nt,b,xo,fe);return}if(!ze&&(xo===t.getBody()||!tU(M,xo)))return;const An=xo.parentNode;let wn;if(ze)wn=nt(fe),Le.fold(()=>{zr(be,st.fromDom(wn))},Un=>{Oc(Un,st.fromDom(wn))}),t.selection.setCursorLocation(wn,0);else if(Ae(xo))wn=Kn(xo),M.isEmpty(xo)&&Y$(xo),ek(t,wn),x_(t,wn);else if(Mt(!1))wn=Bt();else if(Mt(!0)&&An){const Un=gn.fromRangeStart(le),Zo=YB(Un),Ls=st.fromDom(xo),Lr=NM(Ls,Un,t.schema)?Vj(Ls,Un,t.schema).bind(Ra=>ye.from(Ra.getNode())):ye.none();wn=An.insertBefore(nt(),xo);const Sa=eU(xo,"HR")||Zo?wn:Lr.getOr(xo);x_(t,Sa)}else{const Un=Hue(le).cloneRange();Un.setEndAfter(xo);const Zo=Un.extractContents();Q$(Zo),LSe(Zo),wn=Zo.firstChild,xo===wn?Re(An)&&M.insertAfter(Zo,An):M.insertAfter(Zo,xo),Vue(M,G,wn),Uue(M,xo),M.isEmpty(xo)&&Y$(xo),wn.normalize(),M.isEmpty(wn)?(M.remove(wn),Bt()):(ek(t,wn),x_(t,wn))}M.setAttrib(wn,"id",""),t.dispatch("NewBlock",{newBlock:wn})},fakeEventName:"insertParagraph"},jue=(t,r,a)=>{const u=new Yi(r,a);let f;const b=t.getNonEmptyElements();for(;f=u.next();)if(b[f.nodeName.toLowerCase()]||Wn(f)&&f.length>0)return!0;return!1},zN=(t,r,a)=>{const u=t.dom.createRng();a?(u.setStartBefore(r),u.setEndBefore(r)):(u.setStartAfter(r),u.setEndAfter(r)),t.selection.setRng(u),Uw(t,u)},P0=(t,r)=>{const a=t.selection,u=t.dom,f=a.getRng();let b,A=!1;$w(u,f).each(Le=>{f.setStart(Le.startContainer,Le.startOffset),f.setEnd(Le.endContainer,Le.endOffset)});let M=f.startOffset,N=f.startContainer;if(Ho(N)&&N.hasChildNodes()){const Le=M>N.childNodes.length-1;N=N.childNodes[Math.min(M,N.childNodes.length-1)]||N,Le&&Wn(N)?M=N.data.length:M=0}let G=u.getParent(N,u.isBlock);const le=G&&G.parentNode?u.getParent(G.parentNode,u.isBlock):null,fe=le?le.nodeName.toUpperCase():"",be=!!(r&&r.ctrlKey);fe==="LI"&&!be&&(G=le),Wn(N)&&M>=N.data.length&&(jue(t.schema,N,G||u.getRoot())||(b=u.create("br"),f.insertNode(b),f.setStartAfter(b),f.setEndAfter(b),A=!0)),b=u.create("br"),tA(u,f,b),zN(t,b,A),t.undoManager.add()},OK=(t,r)=>{const a=st.fromTag("br");Oc(st.fromDom(r),a),t.undoManager.add()},IK=(t,r)=>{jN(t.getBody(),r)||ih(st.fromDom(r),st.fromTag("br"));const a=st.fromTag("br");ih(st.fromDom(r),a),zN(t,a.dom,!1),t.undoManager.add()},Wue=t=>ga(t.getNode()),jN=(t,r)=>Wue(gn.after(r))?!0:jh(t,gn.after(r)).map(a=>ga(a.getNode())).getOr(!1),WN=t=>t&&t.nodeName==="A"&&"href"in t,RK=t=>t.fold(Dt,WN,WN,Dt),kK=t=>{const r=Xe(IC,t),a=gn.fromRangeStart(t.selection.getRng());return Ib(r,t.getBody(),a).filter(RK)},Gue=(t,r)=>{r.fold(St,Xe(OK,t),Xe(IK,t),St)},DK={insert:(t,r)=>{const a=kK(t);a.isSome()?a.each(Xe(Gue,t)):P0(t,r)},fakeEventName:"insertLineBreak"},MK=(t,r)=>Z$(t).filter(a=>r.length>0&&mr(st.fromDom(a),r)).isSome(),PK=t=>MK(t,jr(t)),que=t=>MK(t,tv(t)),cg=oi.generate([{br:[]},{block:[]},{none:[]}]),$Se=(t,r)=>que(t),GN=t=>(r,a)=>kue(r)===t,NK=(t,r)=>(a,u)=>Rue(a)===t.toUpperCase()===r,Kue=t=>{const r=Sx(t.dom,t.selection.getStart());return $e(r)},tk=t=>NK("pre",t),Zue=()=>NK("summary",!0),qN=t=>(r,a)=>U4(r)===t,Yue=(t,r)=>PK(t),KN=(t,r)=>r,Xue=t=>{const r=zu(t),a=Sx(t.dom,t.selection.getStart());return Re(a)&&t.schema.isValidChild(a.nodeName,r)},ZN=t=>{const r=t.selection.getRng(),a=st.fromDom(r.startContainer),f=Lh(a,r.startOffset).map(b=>Ph(b)&&!Lu(b));return r.collapsed&&f.getOr(!0)},mv=(t,r)=>(a,u)=>Gt(t,(b,A)=>b&&A(a,u),!0)?ye.some(r):ye.none(),Jue=(t,r)=>cx([mv([$Se],cg.none()),mv([tk(!0),Kue],cg.none()),mv([Zue()],cg.br()),mv([tk(!0),qN(!1),KN],cg.br()),mv([tk(!0),qN(!1)],cg.block()),mv([tk(!0),qN(!0),KN],cg.block()),mv([tk(!0),qN(!0)],cg.br()),mv([GN(!0),KN],cg.br()),mv([GN(!0)],cg.block()),mv([Yue],cg.br()),mv([KN],cg.br()),mv([Xue],cg.block()),mv([ZN],cg.block())],[t,!!(r&&r.shiftKey)]).getOr(cg.none()),Cx=(t,r,a)=>{r.mode.isReadOnly()||(r.selection.isCollapsed()||toe(r),!(Re(a)&&FN(r,t.fakeEventName).isDefaultPrevented())&&(t.insert(r,a),Re(a)&&QR(r,t.fakeEventName)))},YN=(t,r)=>{if(t.mode.isReadOnly())return;const a=()=>Cx(DK,t,r),u=()=>Cx(oU,t,r),f=Jue(t,r);switch(z4(t)){case"linebreak":f.fold(a,a,St);break;case"block":f.fold(u,u,St);break;case"invert":f.fold(u,a,St);break;default:f.fold(a,u,St);break}},LK=Md(),Que=LK.os.isiOS()&&LK.browser.isSafari(),sU=(t,r)=>{r.isDefaultPrevented()||(r.preventDefault(),mV(t.undoManager),t.undoManager.transact(()=>{YN(t,r)}))},ede=t=>{if(!t.collapsed)return!1;const r=t.startContainer;if(Wn(r)){const a=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,u=r.data.charAt(t.startOffset-1);return a.test(u)}else return!1},tde=t=>{let r=ye.none();const a=f=>{r=ye.some(f.selection.getBookmark()),f.undoManager.add()},u=(f,b)=>{f.undoManager.undo(),r.fold(St,A=>f.selection.moveToBookmark(A)),sU(f,b),r=ye.none()};t.on("keydown",f=>{f.keyCode===ko.ENTER&&(Que&&ede(t.selection.getRng())?a(t):sU(t,f))}),t.on("keyup",f=>{f.keyCode===ko.ENTER&&r.each(()=>u(t,f))})},nde=(t,r,a)=>{const u=xr.os.isMacOS()||xr.os.isiOS();jR([{keyCode:ko.END,action:Vs(YG,t,!0)},{keyCode:ko.HOME,action:Vs(YG,t,!1)},...u?[]:[{keyCode:ko.HOME,action:Vs(EN,t,!1),ctrlKey:!0,shiftKey:!0},{keyCode:ko.END,action:Vs(EN,t,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:ko.END,action:Vs(iS,t,!0)},{keyCode:ko.HOME,action:Vs(iS,t,!1)},{keyCode:ko.END,action:Vs(px,t,!0,r)},{keyCode:ko.HOME,action:Vs(px,t,!1,r)}],a).each(f=>{a.preventDefault()})},ode=(t,r)=>{t.on("keydown",a=>{a.isDefaultPrevented()||nde(t,r,a)})},sde=t=>{t.on("input",r=>{r.isComposing||qj(t)})},rde=Md(),BK=(t,r,a)=>{jR([{keyCode:ko.PAGE_UP,action:Vs(px,t,!1,r)},{keyCode:ko.PAGE_DOWN,action:Vs(px,t,!0,r)}],a)},nk=t=>t.stopImmediatePropagation(),rU=t=>t.keyCode===ko.PAGE_UP||t.keyCode===ko.PAGE_DOWN,iU=(t,r,a)=>{a&&!t.get()?r.on("NodeChange",nk,!0):!a&&t.get()&&r.off("NodeChange",nk),t.set(a)},ide=(t,r)=>{if(rde.os.isMacOS())return;const a=zo(!1);t.on("keydown",u=>{rU(u)&&iU(a,t,!0)}),t.on("keyup",u=>{u.isDefaultPrevented()||BK(t,r,u),rU(u)&&a.get()&&(iU(a,t,!1),t.nodeChanged())})},FK=(t,r)=>t===r||t.contains(r),XN=(t,r)=>!FK(t.getBody(),r.startContainer)||!FK(t.getBody(),r.endContainer)?!0:bj(t.dom,r),ade=t=>{t.on("beforeinput",r=>{(!t.selection.isEditable()||cn(r.getTargetRanges(),a=>!XN(t,a)))&&r.preventDefault()})},aU=(t,r)=>{const a=r.container(),u=r.offset();return Wn(a)?(a.insertData(u,t),ye.some(gn(a,u+t.length))):EC(r).map(f=>{const b=st.fromText(t);return r.isAtEnd()?ih(f,b):Oc(f,b),gn(b.dom,t.length)})},VK=Xe(aU,Pi),lU=Xe(aU," "),lde=(t,r,a)=>zj(t,r,a)?VK(r):lU(r),cde=t=>r=>r.fold(a=>du(t.dom,gn.before(a)),a=>hu(a),a=>xf(a),a=>jh(t.dom,gn.after(a))),ude=(t,r,a)=>u=>zj(t,u,a)?VK(r):lU(r),HK=t=>r=>{t.selection.setRng(r.toRange()),t.nodeChanged()},dde=(t,r)=>t.isEditable(t.getParent(r,"summary")),Ex=t=>{const r=gn.fromRangeStart(t.selection.getRng()),a=st.fromDom(t.getBody());if(t.selection.isCollapsed()){const u=Xe(IC,t),f=gn.fromRangeStart(t.selection.getRng());return Ib(u,t.getBody(),f).bind(cde(a)).map(b=>()=>ude(a,r,t.schema)(b).each(HK(t)))}else return ye.none()},hde=t=>{const r=()=>{const a=st.fromDom(t.getBody());t.selection.isCollapsed()||t.getDoc().execCommand("Delete");const u=gn.fromRangeStart(t.selection.getRng());lde(a,u,t.schema).each(HK(t))};return Tc(xr.browser.isFirefox()&&t.selection.isEditable()&&dde(t.dom,t.selection.getRng().startContainer),r)},fde=(t,r)=>{oq([{keyCode:ko.SPACEBAR,action:Vs(Ex,t)},{keyCode:ko.SPACEBAR,action:Vs(hde,t)}],r).each(a=>{r.preventDefault(),FN(t,"insertText",{data:" "}).isDefaultPrevented()||(a(),QR(t,"insertText",{data:" "}))})},$K=t=>{t.on("keydown",r=>{r.isDefaultPrevented()||fde(t,r)})},pde=t=>nB(t)?[{keyCode:ko.TAB,action:Vs(lg,t,!0)},{keyCode:ko.TAB,shiftKey:!0,action:Vs(lg,t,!1)}]:[],mde=(t,r)=>{jR([...pde(t)],r).each(a=>{r.preventDefault()})},gde=t=>{t.on("keydown",r=>{r.isDefaultPrevented()||mde(t,r)})},UK=t=>{if(t.addShortcut("Meta+P","","mcePrint"),gue(t),uv(t))return zo(null);{const r=Ple(t);return ade(t),cce(t),Lq(t,r),xue(t,r),tde(t),$K(t),sde(t),gde(t),ode(t,r),ide(t,r),r}},vde=(t,r)=>{const a=gy(t);a===null||iH(t,a)||t.undoManager.transact(()=>{Se(r.styles)&&t.dom.setStyles(a,r.styles),Se(r.attrs)&&en(r.attrs,(u,f)=>t.dom.setAttrib(a,f,u))})},cU=(t,r)=>()=>{const a=gy(t);return Re(a)&&a.nodeName===r},USe=t=>{t.addCommand("InsertUnorderedList",(r,a)=>{pH(t,"UL",a)}),t.addCommand("InsertOrderedList",(r,a)=>{pH(t,"OL",a)}),t.addCommand("InsertDefinitionList",(r,a)=>{pH(t,"DL",a)}),t.addCommand("RemoveList",()=>{nN(t)}),t.addCommand("mceListUpdate",(r,a)=>{Se(a)&&vde(t,a)}),t.addCommand("mceListBackspaceDelete",(r,a)=>{yH(t,a)}),t.addQueryStateHandler("InsertUnorderedList",cU(t,"UL")),t.addQueryStateHandler("InsertOrderedList",cU(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",cU(t,"DL"))},JN=t=>{t.on("keydown",r=>{r.keyCode===ko.BACKSPACE?yH(t,!1)&&r.preventDefault():r.keyCode===ko.DELETE&&yH(t,!0)&&r.preventDefault()})},zK=t=>t.type===3,jK=t=>t.length===0,yde=t=>{const r=(f,b)=>{const A=yh.create("li");qe(f,M=>A.append(M)),b?t.insert(A,b,!0):t.append(A)},a=(f,b)=>zK(b)?[...f,b]:!jK(f)&&!zK(b)?(r(f,b),[]):f,u=Gt(t.children(),a,[]);jK(u)||r(u)},bde=t=>{t.on("PreInit",()=>{const{parser:r}=t;r.addNodeFilter("ul,ol",a=>qe(a,yde))})},Sde=t=>{t.on("keydown",r=>{r.keyCode!==ko.TAB||ko.metaKeyPressed(r)||t.undoManager.transact(()=>{(r.shiftKey?uH(t):O9(t))&&r.preventDefault()})})},Cde=t=>{iB(t)&&Sde(t)},Ede=t=>{JN(t),USe(t),bde(t),Cde(t)};class wde{editor;lastPath=[];constructor(r){this.editor=r;let a;const u=this;"onselectionchange"in r.getDoc()||r.on("NodeChange click mouseup keyup focus",f=>{const b=r.selection.getRng(),A={startContainer:b.startContainer,startOffset:b.startOffset,endContainer:b.endContainer,endOffset:b.endOffset};(f.type==="nodechange"||!BB(A,a))&&r.dispatch("SelectionChange"),a=A}),r.on("contextmenu",()=>{SM(r),r.dispatch("SelectionChange")}),r.on("SelectionChange",()=>{const f=r.selection.getStart(!0);f&&NA(r)&&!u.isSameElementPath(f)&&r.dom.isChildOf(f,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("mouseup",f=>{!f.isDefaultPrevented()&&NA(r)&&(r.selection.getNode().nodeName==="IMG"?tg.setEditorTimeout(r,()=>{r.nodeChanged()}):r.nodeChanged())})}nodeChanged(r={}){const a=this.editor,u=a.selection;let f;if(a.initialized&&u&&!_D(a)&&!xw(a)){const b=a.getBody();f=u.getStart(!0)||b,(f.ownerDocument!==a.getDoc()||!a.dom.isChildOf(f,b))&&(f=b);const A=[];a.dom.getParent(f,M=>M===b?!0:(A.push(M),!1)),a.dispatch("NodeChange",{...r,element:f,parents:A})}}isSameElementPath(r){let a;const u=this.editor,f=_s(u.dom.getParents(r,un,u.getBody()));if(f.length===this.lastPath.length){for(a=f.length;a>=0&&f[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=f,!0}return this.lastPath=f,!1}}const WK="x-tinymce/html",QN=it(WK),uU="<!-- "+WK+" -->",_de=t=>uU+t,Tde=t=>t.replace(uU,""),qi=t=>t.indexOf(uU)!==-1,Ade=t=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t),GK=(t,r)=>{let a="<"+t;const u=Hs(r,(f,b)=>b+'="'+Gv.encodeAllRaw(f)+'"');return u.length&&(a+=" "+u.join(" ")),a+">"},xde=(t,r,a)=>{const u=t.split(/\n\n/),f=GK(r,a),b="</"+r+">",A=vn(u,N=>N.split(/\n/).join("<br />")),M=N=>f+N+b;return A.length===1?A[0]:vn(A,M).join("")},eL="%MCEPASTEBIN%",qK=(t,r)=>{const{dom:a,selection:u}=t,f=t.getBody();r.set(u.getRng());const b=a.add(t.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},eL);xr.browser.isFirefox()&&a.setStyle(b,"left",a.getStyle(f,"direction",!0)==="rtl"?65535:-65535),a.bind(b,"beforedeactivate focusin focusout",A=>{A.stopPropagation()}),b.focus(),u.select(b,!0)},Ode=(t,r)=>{const a=t.dom;if(dU(t)){let u;const f=r.get();for(;u=dU(t);)a.remove(u),a.unbind(u);f&&t.selection.setRng(f)}r.set(null)},dU=t=>t.dom.get("mcepastebin"),Ide=t=>Re(t)&&t.id==="mcepastebin",KK=t=>{const r=t.dom,a=(A,M)=>{A.appendChild(M),r.remove(M,!0)},[u,...f]=Ve(t.getBody().childNodes,Ide);qe(f,A=>{a(u,A)});const b=r.select("div[id=mcepastebin]",u);for(let A=b.length-1;A>=0;A--){const M=r.create("div");u.insertBefore(M,b[A]),a(M,b[A])}return u?u.innerHTML:""},ok=t=>t===eL,Rde=t=>{const r=zo(null);return{create:()=>qK(t,r),remove:()=>Ode(t,r),getEl:()=>dU(t),getHtml:()=>KK(t),getLastRng:r.get}},ZK=(t,r)=>(Jn.each(r,a=>{ce(a,RegExp)?t=t.replace(a,""):t=t.replace(a[0],a[1])}),t),hU=t=>{const r=Sf(),a=Yw({},r);let u="";const f=r.getVoidElements(),b=Jn.makeMap("script noscript style textarea video audio iframe object"," "),A=r.getBlockElements(),M=N=>{const G=N.name,le=N;if(G==="br"){u+=`
`;return}if(G!=="wbr"){if(f[G]&&(u+=" "),b[G]){u+=" ";return}if(N.type===3&&(u+=N.value),!(N.name in r.getVoidElements())){let fe=N.firstChild;if(fe)do M(fe);while(fe=fe.next)}A[G]&&le.next&&(u+=`
`,G==="p"&&(u+=`
`))}};return t=ZK(t,[/<!\[[^\]]+\]>/g]),M(a.parse(t)),u},YK=t=>(t=ZK(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(a,u,f)=>!u&&!f?" ":Pi],/<br class="Apple-interchange-newline">/g,/<br>$/i]),t),kde=t=>{let r=0;return()=>t+r++},Dde=t=>{const r=t.toLowerCase(),a={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Jn.hasOwn(a,r)?"image/"+a[r]:"image/"+r},Mde=(t,r)=>{const a=Yw({sanitize:OI(t),sandbox_iframes:yA(t),sandbox_iframes_exclusions:Tw(t),convert_unsafe_embeds:RI(t)},t.schema);a.addNodeFilter("meta",f=>{Jn.each(f,b=>{b.remove()})});const u=a.parse(r,{forced_root_block:!1,isRootContent:!0});return jw({validate:!0},t.schema).serialize(u)},fU=(t,r)=>({content:t,cancelled:r}),Pde=(t,r,a)=>{const u=t.dom.create("div",{style:"display:none"},r),f=H4(t,u,a);return fU(f.node.innerHTML,f.isDefaultPrevented())},Nde=(t,r,a)=>{const u=Fz(t,r,a),f=Mde(t,u.content);return t.hasEventListeners("PastePostProcess")&&!u.isDefaultPrevented()?Pde(t,f,a):fU(f,u.isDefaultPrevented())},XK=(t,r,a)=>Nde(t,r,a),pU=(t,r)=>(t.insertContent(r,{merge:X4(t),paste:!0}),!0),mU=t=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(t),Lde=(t,r)=>mU(r)&&cn(LD(t),a=>Wi(r.toLowerCase(),`.${a.toLowerCase()}`)),gU=(t,r,a)=>(t.undoManager.extra(()=>{a(t,r)},()=>{t.insertContent('<img src="'+r+'">')}),!0),Bde=(t,r,a)=>(t.undoManager.extra(()=>{a(t,r)},()=>{t.execCommand("mceInsertLink",!1,r)}),!0),JK=(t,r,a)=>!t.selection.isCollapsed()&&mU(r)?Bde(t,r,a):!1,Fde=(t,r,a)=>Lde(t,r)?gU(t,r,a):!1,vU=(t,r)=>{Jn.each([JK,Fde,pU],a=>!a(t,r,pU))},Vde=(t,r,a)=>{a||!DD(t)?pU(t,r):vU(t,r)},QK=kde("mceclip"),Hde=t=>{const r=C$();return ON(r,t),b$(r),r},eZ=(t,r,a,u,f)=>{const b=XK(t,r,a);if(!b.cancelled){const A=b.content,M=()=>Vde(t,A,u);f?FN(t,"insertFromPaste",{dataTransfer:Hde(A)}).isDefaultPrevented()||(M(),QR(t,"insertFromPaste")):M()}},tL=(t,r,a,u)=>{const f=a||qi(r);eZ(t,Tde(r),f,!1,u)},yU=(t,r,a)=>{const u=t.dom.encode(r).replace(/\r\n/g,`
`),f=qp(u,TI(t)),b=xde(f,zu(t),vC(t));eZ(t,b,!1,!0,a)},bU=t=>{const r={};if(t&&t.types)for(let a=0;a<t.types.length;a++){const u=t.types[a];try{r[u]=t.getData(u)}catch{r[u]=""}}return r},JC=(t,r)=>r in t&&t[r].length>0,SU=t=>JC(t,"text/html")||JC(t,"text/plain"),nL=(t,r)=>{const a=r.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Re(a)?t.dom.encode(a[1]):void 0},CU=(t,r,a,u)=>{const f=QK(),b=Kr(t)&&Re(a.name),A=b?nL(t,a.name):f,M=b?a.name:void 0,N=r.create(f,a,u,A,M);return r.add(N),N},EU=(t,r)=>{sP(r.uri).each(({data:a,type:u,base64Encoded:f})=>{const b=f?a:btoa(a),A=r.file,M=t.editorUpload.blobCache,G=M.getByData(b,u)??CU(t,M,A,b);tL(t,`<img src="${G.blobUri()}">`,!1,!0)})},$de=t=>t.type==="paste",Ude=t=>Promise.all(vn(t,r=>i7(r).then(a=>({file:r,uri:a})))),wx=t=>{const r=LD(t);return a=>As(a.type,"image/")&&cn(r,u=>Dde(u)===a.type)},zde=(t,r)=>{const a=r.items?io(Je(r.items),f=>f.kind==="file"?[f.getAsFile()]:[]):[],u=r.files?Je(r.files):[];return Ve(a.length>0?a:u,wx(t))},O_=(t,r,a)=>{const u=$de(r)?r.clipboardData:r.dataTransfer;if(N1(t)&&u){const f=zde(t,u);if(f.length>0)return r.preventDefault(),Ude(f).then(b=>{a&&t.selection.setRng(a),qe(b,A=>{EU(t,A)})}),!0}return!1},sk=t=>xr.os.isAndroid()&&t.clipboardData?.items?.length===0,jde=t=>ko.metaKeyPressed(t)&&t.keyCode===86||t.shiftKey&&t.keyCode===45,wU=(t,r,a,u,f)=>{let b=YK(a);const A=JC(r,QN())||qi(a),M=!A&&Ade(b),N=mU(b);(ok(b)||!b.length||M&&!N)&&(u=!0),(u||N)&&(JC(r,"text/plain")&&M?b=r["text/plain"]:b=hU(b)),!ok(b)&&(u?yU(t,b,f):tL(t,b,A,f))},_x=(t,r,a)=>{let u;const f=()=>r.getLastRng()||t.selection.getRng();t.on("keydown",b=>{jde(b)&&!b.isDefaultPrevented()&&(u=b.shiftKey&&b.keyCode===86)}),t.on("paste",b=>{if(b.isDefaultPrevented()||sk(b))return;const A=a.get()==="text"||u;u=!1;const M=bU(b.clipboardData);!SU(M)&&O_(t,b,f())||(JC(M,"text/html")?(b.preventDefault(),wU(t,M,M["text/html"],A,!0)):JC(M,"text/plain")&&JC(M,"text/uri-list")?(b.preventDefault(),wU(t,M,M["text/plain"],A,!0)):(r.create(),tg.setEditorTimeout(t,()=>{const N=r.getHtml();r.remove(),wU(t,M,N,A,!1)},0)))})},Wde=t=>{const r=f=>As(f,"webkit-fake-url"),a=f=>As(f,"data:"),u=f=>f.data?.paste===!0;t.parser.addNodeFilter("img",(f,b,A)=>{if(!N1(t)&&u(A))for(const M of f){const N=M.attr("src");se(N)&&!M.attr("data-mce-object")&&N!==xr.transparentSrc&&(r(N)||!vA(t)&&a(N))&&M.remove()}})},_U=(t,r,a)=>{_x(t,r,a),Wde(t)},Gde=(t,r)=>{r.get()==="text"?(r.set("html"),hD(t,!1)):(r.set("text"),hD(t,!0)),t.focus()},tZ=(t,r)=>{t.addCommand("mceTogglePlainTextPaste",()=>{Gde(t,r)}),t.addCommand("mceInsertClipboardContent",(a,u)=>{u.html&&tL(t,u.html,u.internal,!1),u.text&&yU(t,u.text,!1)})},nZ=(t,r,a)=>{if(t)try{return t.clearData(),t.setData("text/html",r),t.setData("text/plain",a),t.setData(QN(),r),!0}catch{return!1}else return!1},oL=(t,r,a,u)=>{nZ(t.clipboardData,r.html,r.text)?(t.preventDefault(),u()):a(r.html,u)},TU=t=>(r,a)=>{const{dom:u,selection:f}=t,b=u.create("div",{contenteditable:"false","data-mce-bogus":"all"}),A=u.create("div",{contenteditable:"true"},r);u.setStyles(b,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),b.appendChild(A),u.add(t.getBody(),b);const M=f.getRng();A.focus();const N=u.createRng();N.selectNodeContents(A),f.setRng(N),tg.setEditorTimeout(t,()=>{f.setRng(M),u.remove(b),a()},0)},oZ=t=>({html:_de(t.selection.getContent({contextual:!0})),text:t.selection.getContent({format:"text"})}),qde=t=>!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody()),AU=t=>!t.selection.isCollapsed()||qde(t),Kde=(t,r)=>a=>{!a.isDefaultPrevented()&&AU(t)&&t.selection.isEditable()&&oL(a,oZ(t),TU(t),()=>{if(xr.browser.isChromium()||xr.browser.isFirefox()){const u=t.selection.getRng();tg.setEditorTimeout(t,()=>{t.selection.setRng(u),SN(t,r)},0)}else SN(t,r)})},sZ=t=>r=>{!r.isDefaultPrevented()&&AU(t)&&oL(r,oZ(t),TU(t),St)},xU=(t,r)=>{t.on("cut",Kde(t,r)),t.on("copy",sZ(t))},OU=(t,r)=>_0.getCaretRangeFromPoint(r.clientX??0,r.clientY??0,t.getDoc()),Zde=t=>{const r=t["text/plain"];return r?r.indexOf("file://")===0:!1},rZ=(t,r)=>{r&&t.selection.setRng(r),t.focus()},Yde=t=>cn(t.files,r=>/^image\//.test(r.type)),iZ=(t,r,a,u)=>{const f=t.getParent(a,A=>Nn(r,A));if(!V(t.getParent(a,"summary")))return!0;if(f&&Xo(u,"text/html")){const A=new DOMParser().parseFromString(u["text/html"],"text/html").body;return!V(A.querySelector(f.nodeName.toLowerCase()))}else return!1},IU=t=>{t.on("input",r=>{const a=u=>V(u.querySelector("summary"));if(r.inputType==="deleteByDrag"){const u=Ve(t.dom.select("details"),a);qe(u,f=>{ga(f.firstChild)&&f.firstChild.remove();const b=t.dom.create("summary");b.appendChild(D().dom),f.prepend(b)})}})},Xde=(t,r)=>{P1(t)&&t.on("dragend dragover draggesture dragdrop drop drag",a=>{a.preventDefault(),a.stopPropagation()}),N1(t)||t.on("drop",a=>{const u=a.dataTransfer;u&&Yde(u)&&a.preventDefault()}),t.on("drop",a=>{if(a.isDefaultPrevented())return;const u=OU(t,a);if($e(u))return;const f=bU(a.dataTransfer),b=JC(f,QN());if((!SU(f)||Zde(f))&&O_(t,a,u))return;const A=f[QN()],M=A||f["text/html"]||f["text/plain"],N=iZ(t.dom,t.schema,u.startContainer,f),G=r.get();G&&!N||M&&(a.preventDefault(),tg.setEditorTimeout(t,()=>{t.undoManager.transact(()=>{(A||G&&N)&&t.execCommand("Delete"),rZ(t,u);const le=YK(M);f["text/html"]?tL(t,le,b,!0):yU(t,le,!0)})}))}),t.on("dragstart",a=>{r.set(!0)}),t.on("dragover dragend",a=>{N1(t)&&!r.get()&&(a.preventDefault(),rZ(t,OU(t,a))),a.type==="dragend"&&r.set(!1)}),IU(t)},aZ=t=>{const r=f=>b=>{f(t,b)},a=OD(t);_e(a)&&t.on("PastePreProcess",r(a));const u=ID(t);_e(u)&&t.on("PastePostProcess",r(u))},lZ=(t,r)=>{t.on("PastePreProcess",a=>{a.content=r(t,a.content,a.internal)})},Jde=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,RU=t=>Jn.trim(t).replace(Jde,pb).toLowerCase(),Qde=(t,r,a)=>{const u=mA(t);if(a||u==="all"||!kD(t))return r;const f=u?u.split(/[, ]/):[];if(f&&u!=="none"){const b=t.dom,A=t.selection.getNode();r=r.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(M,N,G,le)=>{const fe=b.parseStyle(b.decode(G)),be={};for(let Qe=0;Qe<f.length;Qe++){const ze=fe[f[Qe]];let nt=ze,Mt=b.getStyle(A,f[Qe],!0);/color/.test(f[Qe])&&(nt=RU(nt),Mt=RU(Mt)),Mt!==nt&&(be[f[Qe]]=ze)}const Le=b.serializeStyle(be,"span");return Le?N+' style="'+Le+'"'+le:N+le})}else r=r.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return r=r.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(b,A,M,N)=>A+' style="'+M+'"'+N),r},ehe=t=>{(xr.browser.isChromium()||xr.browser.isSafari())&&lZ(t,Qde)},sL=(t,r)=>{const a=zo(!1),u=zo(gA(t)?"text":"html"),f=Rde(t);ehe(t),tZ(t,u),aZ(t),t.addQueryStateHandler("mceTogglePlainTextPaste",()=>u.get()==="text"),t.on("PreInit",()=>{xU(t,r),Xde(t,a),_U(t,f,u)})},the=t=>{t.on("click",r=>{t.dom.getParent(r.target,"details")&&r.preventDefault()})},nhe=t=>{t.parser.addNodeFilter("details",r=>{const a=oB(t);qe(r,u=>{a==="expanded"?u.attr("open","open"):a==="collapsed"&&u.attr("open",null)})}),t.serializer.addNodeFilter("details",r=>{const a=sB(t);qe(r,u=>{a==="expanded"?u.attr("open","open"):a==="collapsed"&&u.attr("open",null)})})},cZ=t=>{the(t),nhe(t)},uZ=ga,dZ=Wn,ohe=t=>ai(t.dom),she=t=>au(t.dom),hZ=t=>r=>Lo(st.fromDom(t),r),rhe=(t,r,a)=>Ti(st.fromDom(t),u=>she(u)||a.isBlock(Us(u)),hZ(r)).getOr(st.fromDom(r)).dom,kU=(t,r)=>Ti(st.fromDom(t),ohe,hZ(r)),fZ=(t,r,a)=>{const u=new Yi(t,r),f=a?u.next.bind(u):u.prev.bind(u);let b=t;for(let A=a?t:f();A&&!uZ(A);A=f())Ui(A)&&(b=A);return b},ihe=(t,r,a)=>{const f=gn.fromRangeStart(t).getNode(),b=rhe(f,r,a),A=fZ(f,b,!1),M=fZ(f,b,!0),N=document.createRange();return kU(A,b).fold(()=>{dZ(A)?N.setStart(A,0):N.setStartBefore(A)},G=>N.setStartBefore(G.dom)),kU(M,b).fold(()=>{dZ(M)?N.setEnd(M,M.data.length):N.setEndAfter(M)},G=>N.setEndAfter(G.dom)),N},ahe=t=>{const r=ihe(t.selection.getRng(),t.getBody(),t.schema);t.selection.setRng(oP(r))},lhe=t=>{t.on("mousedown",r=>{r.detail>=3&&(r.preventDefault(),ahe(t))})};var Tx;(function(t){t.Before="before",t.After="after"})(Tx||(Tx={}));const che=(t,r)=>Math.abs(t.left-r),uhe=(t,r)=>Math.abs(t.right-r),dhe=(t,r)=>t>=r.top&&t<=r.bottom,pZ=(t,r)=>t.top<r.bottom&&t.bottom>r.top,mZ=(t,r)=>{const a=Mr(t,r)/Math.min(t.height,r.height);return pZ(t,r)&&a>.5},hhe=(t,r)=>{const a=Ve(t,u=>dhe(r,u));return Oi(a).fold(()=>[[],t],u=>{const{pass:f,fail:b}=Ft(t,A=>mZ(A,u));return[f,b]})},fhe=(t,r)=>({node:t.node,position:che(t,r)<uhe(t,r)?Tx.Before:Tx.After}),phe=(t,r,a)=>r>t.left&&r<t.right?0:Math.min(Math.abs(t.left-r),Math.abs(t.right-r)),I_=(t,r,a,u)=>{const f=fe=>Ui(fe.node)?ye.some(fe):Ho(fe.node)?I_(Je(fe.node.childNodes),r,a,!1):ye.none(),b=(fe,be,Le)=>f(be).filter(Qe=>Math.abs(Le(fe,r,a)-Le(Qe,r,a))<2&&Wn(Qe.node)),A=(fe,be)=>{const Le=Pn(fe,(Qe,ze)=>be(Qe,r,a)-be(ze,r,a));return Pt(Le,f).map(Qe=>u&&!Wn(Qe.node)&&Le.length>1?b(Qe,Le[1],be).getOr(Qe):Qe)},[M,N]=hhe(hG(t),a),{pass:G,fail:le}=Ft(N,fe=>fe.top<a);return A(M,phe).orThunk(()=>A(le,cu)).orThunk(()=>A(G,cu))},mhe=(t,r,a,u)=>{const f=(b,A)=>{const M=G=>Ho(G)&&G.classList.contains("mce-drag-container"),N=Ve(b.dom.childNodes,tn(M));return A.fold(()=>I_(N,a,u,!0),G=>{const le=Ve(N,fe=>fe!==G.dom);return I_(le,a,u,!0)}).orThunk(()=>(Lo(b,t)?ye.none():ku(b)).bind(le=>f(le,ye.some(b))))};return f(r,ye.none())},ghe=(t,r,a)=>{const u=st.fromDom(t),f=su(u),A=st.fromPoint(f,r,a).filter(M=>Qr(u,M)).getOr(u);return mhe(u,A,r,a)},DU=(t,r,a)=>ghe(t,r,a).filter(u=>Ow(u.node)).map(u=>fhe(u,r)),gZ=t=>{const r=t.getBoundingClientRect(),a=t.ownerDocument,u=a.documentElement,f=a.defaultView;return{top:r.top+(f?.scrollY??0)-u.clientTop,left:r.left+(f?.scrollX??0)-u.clientLeft}},vhe=t=>t.inline?gZ(t.getBody()):{left:0,top:0},yhe=t=>{const r=t.getBody();return t.inline?{left:r.scrollLeft,top:r.scrollTop}:{left:0,top:0}},bhe=t=>{const r=t.getBody(),a=t.getDoc().documentElement,u={left:r.scrollLeft,top:r.scrollTop},f={left:r.scrollLeft||a.scrollLeft,top:r.scrollTop||a.scrollTop};return t.inline?u:f},She=(t,r)=>{if(r.target.ownerDocument!==t.getDoc()){const a=gZ(t.getContentAreaContainer()),u=bhe(t);return{left:r.pageX-a.left+u.left,top:r.pageY-a.top+u.top}}return{left:r.pageX,top:r.pageY}},rL=(t,r,a)=>({pageX:a.left-t.left+r.left,pageY:a.top-t.top+r.top}),vZ=(t,r)=>rL(vhe(t),yhe(t),She(t,r)),MU=t=>({target:t,srcElement:t}),Che=(t,r,a,u)=>({...r,dataTransfer:u,type:t,...MU(a)}),Ehe=(t,r,a)=>{const u=eo("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:t,composedPath:u,initEvent:u,preventDefault:St,stopImmediatePropagation:St,stopPropagation:St,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:u,initMouseEvent:u,getModifierState:u,dataTransfer:a,...MU(r)}},whe=(t,r)=>{const a=Pce(t);return r==="dragstart"?(g$(a),gq(a)):r==="drop"?(Ice(a),b$(a)):(fq(a),Dce(a)),a},zSe=(t,r,a,u)=>{const f=whe(a,t);return et(u)?Ehe(t,r,f):Che(t,u,r,f)},iL=32,_he=100,Ax=8,R_=16,yZ=ai,The=Ii(yZ,au),Ahe=(t,r,a)=>yZ(a)&&a!==r&&t.isEditable(a.parentElement),bZ=(t,r,a)=>$e(r)||r===a||t.dom.isChildOf(r,a)?!1:t.dom.isEditable(r),xhe=(t,r,a,u)=>{const f=t.dom,b=r.cloneNode(!0);f.setStyles(b,{width:a,height:u}),f.setAttrib(b,"data-mce-selected",null);const A=f.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return f.setStyles(A,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:u}),f.setStyles(b,{margin:0,boxSizing:"border-box"}),A.appendChild(b),A},PU=(t,r)=>{t.parentNode!==r&&r.appendChild(t)},rk=(t,r)=>a=>()=>{const u=t==="left"?a.scrollX:a.scrollY;a.scroll({[t]:u+r,behavior:"smooth"})},SZ=rk("left",-iL),CZ=rk("left",iL),NU=rk("top",-iL),EZ=rk("top",iL),jSe=(t,r,a,u,f,b,A,M,N,G,le,fe)=>{let be=0,Le=0;t.style.left=r.pageX+"px",t.style.top=r.pageY+"px",r.pageX+a>f&&(be=r.pageX+a-f),r.pageY+u>b&&(Le=r.pageY+u-b),t.style.width=a-be+"px",t.style.height=u-Le+"px";const Qe=N.clientHeight,ze=N.clientWidth,nt=A+N.getBoundingClientRect().top,Mt=M+N.getBoundingClientRect().left;le.on(Bt=>{Bt.intervalId.clear(),Bt.dragging&&fe&&(A+Ax>=Qe?Bt.intervalId.set(EZ(G)):A-Ax<=0?Bt.intervalId.set(NU(G)):M+Ax>=ze?Bt.intervalId.set(CZ(G)):M-Ax<=0?Bt.intervalId.set(SZ(G)):nt+R_>=window.innerHeight?Bt.intervalId.set(EZ(window)):nt-R_<=0?Bt.intervalId.set(NU(window)):Mt+R_>=window.innerWidth?Bt.intervalId.set(CZ(window)):Mt-R_<=0&&Bt.intervalId.set(SZ(window)))})},wZ=t=>{t&&t.parentNode&&t.parentNode.removeChild(t)},Ohe=(t,r)=>{const a=t.getParent(r.parentNode,t.isBlock);wZ(r),a&&a!==t.getRoot()&&t.isEmpty(a)&&F(st.fromDom(a))},Ihe=t=>t.button===0,_Z=(t,r)=>({pageX:r.pageX-t.relX,pageY:r.pageY+5}),LU=(t,r)=>a=>{if(Ihe(a)){const u=Et(r.dom.getParents(a.target),The).getOr(null);if(Re(u)&&Ahe(r.dom,r.getBody(),u)){const f=r.dom.getPos(u),b=r.getBody(),A=r.getDoc().documentElement;t.set({element:u,dataTransfer:C$(),dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(r.inline?b.scrollWidth:A.offsetWidth)-2,maxY:(r.inline?b.scrollHeight:A.offsetHeight)-2,relX:a.pageX-f.x,relY:a.pageY-f.y,width:u.offsetWidth,height:u.offsetHeight,ghost:xhe(r,u,u.offsetWidth,u.offsetHeight),intervalId:Tm(_he)})}}},aL=(t,r,a)=>{t._selectionOverrides.hideFakeCaret(),DU(t.getBody(),r,a).fold(()=>t.selection.placeCaretAt(r,a),u=>{const f=t._selectionOverrides.showCaret(1,u.node,u.position===Tx.Before,!1);f?t.selection.setRng(f):t.selection.placeCaretAt(r,a)})},xx=(t,r,a,u,f)=>{r==="dragstart"&&ON(u,t.dom.getOuterHTML(a));const b=zSe(r,a,u,f);return t.dispatch(r,b)},Rhe=(t,r)=>{const a=yo((f,b)=>aL(r,f,b),0);r.on("remove",a.cancel);const u=t;return f=>t.on(b=>{const A=Math.max(Math.abs(f.screenX-b.screenX),Math.abs(f.screenY-b.screenY));if(!b.dragging&&A>10){const M=xx(r,"dragstart",b.element,b.dataTransfer,f);if(Re(M.dataTransfer)&&(b.dataTransfer=M.dataTransfer),M.isDefaultPrevented())return;b.dragging=!0,r.focus()}if(b.dragging){const M=f.currentTarget===r.getDoc().documentElement,N=_Z(b,vZ(r,f));PU(b.ghost,r.getBody()),jSe(b.ghost,N,b.width,b.height,b.maxX,b.maxY,f.clientY,f.clientX,r.getContentAreaContainer(),r.getWin(),u,M),a.throttle(f.clientX,f.clientY)}})},khe=t=>{const r=t.getSel();if(Re(r)){const u=r.getRangeAt(0).startContainer;return Wn(u)?u.parentNode:u}else return null},Dhe=(t,r)=>a=>{t.on(u=>{if(u.intervalId.clear(),u.dragging){if(bZ(r,khe(r.selection),u.element)){const f=r.getDoc().elementFromPoint(a.clientX,a.clientY)??r.getBody();xx(r,"drop",f,u.dataTransfer,a).isDefaultPrevented()||r.undoManager.transact(()=>{Ohe(r.dom,u.element),E$(u.dataTransfer).each(A=>r.insertContent(A)),r._selectionOverrides.hideFakeCaret()})}xx(r,"dragend",r.getBody(),u.dataTransfer,a)}}),xZ(t)},TZ=(t,r,a)=>{t.on(u=>{u.intervalId.clear(),u.dragging&&a.fold(()=>xx(r,"dragend",u.element,u.dataTransfer),f=>xx(r,"dragend",u.element,u.dataTransfer,f))}),xZ(t)},AZ=(t,r)=>a=>TZ(t,r,ye.some(a)),xZ=t=>{t.on(r=>{r.intervalId.clear(),wZ(r.ghost)}),t.clear()},OZ=t=>{const r=Ac(),a=yi.DOM,u=document,f=LU(r,t),b=Rhe(r,t),A=Dhe(r,t),M=AZ(r,t);t.on("mousedown",f),t.on("mousemove",b),t.on("mouseup",A),a.bind(u,"mousemove",b),a.bind(u,"mouseup",M),t.on("remove",()=>{a.unbind(u,"mousemove",b),a.unbind(u,"mouseup",M)}),t.on("keydown",N=>{N.keyCode===ko.ESC&&TZ(r,t,ye.none())})},Mhe=t=>{const r=f=>{if(!f.isDefaultPrevented()){const b=f.dataTransfer;b&&(xt(b.types,"Files")||b.files.length>0)&&(f.preventDefault(),f.type==="drop"&&$C(t,"Dropped file type is not supported"))}},a=f=>{EM(t,f.target)&&r(f)},u=()=>{const f=yi.DOM,b=t.dom,A=document,M=t.inline?t.getBody():t.getDoc(),N=["drop","dragover"];qe(N,G=>{f.bind(A,G,a),b.bind(M,G,r)}),t.on("remove",()=>{qe(N,G=>{f.unbind(A,G,a),b.unbind(M,G,r)})})};t.on("init",()=>{tg.setEditorTimeout(t,u,0)})},Phe=t=>{OZ(t),Ew(t)&&Mhe(t)},BU=t=>{const r=yo(()=>{if(!t.removed&&t.getBody().contains(document.activeElement)){const a=t.selection.getRng();if(a.collapsed){const u=AH(t,a,!1);t.selection.setRng(u)}}},0);t.on("focus",()=>{r.throttle()}),t.on("blur",()=>{r.cancel()})},IZ=t=>{t.on("init",()=>{t.on("focusin",r=>{const a=r.target;if($h(a)){const u=kC(t.getBody(),a),f=ai(u)?u:a;t.selection.getNode()!==f&&MR(t,f).each(b=>t.selection.setRng(b))}})})},lL=ai,RZ=(t,r)=>kC(t.getBody(),r),kZ=t=>{const r=t.selection,a=t.dom,u=t.getBody(),f=kI(t,u,a.isBlock,()=>ng(t)),b="sel-"+a.uniqueId(),A="data-mce-selected";let M;const N=oo=>Re(oo)&&a.hasClass(oo,"mce-offscreen-selection"),G=oo=>oo!==u&&(lL(oo)||$h(oo))&&a.isChildOf(oo,u)&&a.isEditable(oo.parentNode),le=oo=>{oo&&r.setRng(oo)},fe=(oo,An,wn,Un=!0)=>t.dispatch("ShowCaret",{target:An,direction:oo,before:wn}).isDefaultPrevented()?null:(Un&&r.scrollIntoView(An,oo===-1),f.show(wn,An)),be=oo=>{oo.hasAttribute("data-mce-caret")&&(Kn(oo),r.scrollIntoView(oo))},Le=()=>{t.on("click",An=>{a.isEditable(An.target)||(An.preventDefault(),t.focus())}),t.on("blur NewBlock",_n),t.on("ResizeWindow FullscreenStateChanged",f.reposition),t.on("tap",An=>{const wn=An.target,Un=RZ(t,wn);lL(Un)?(An.preventDefault(),MR(t,Un).each(zt)):G(wn)&&MR(t,wn).each(zt)},!0),t.on("mousedown",An=>{const wn=An.target;if(wn!==u&&wn.nodeName!=="HTML"&&!a.isChildOf(wn,u)||!CR(t,An.clientX,An.clientY))return;_n(),xo();const Un=RZ(t,wn);lL(Un)?(An.preventDefault(),MR(t,Un).each(zt)):DU(u,An.clientX,An.clientY).each(Zo=>{An.preventDefault();const Ls=fe(1,Zo.node,Zo.position===Tx.Before,!1);le(Ls),ma(Un)?Un.focus():t.getBody().focus()})}),t.on("keypress",An=>{ko.modifierPressed(An)||lL(r.getNode())&&An.preventDefault()}),t.on("GetSelectionRange",An=>{let wn=An.range;if(M){if(!M.parentNode){M=null;return}wn=wn.cloneRange(),wn.selectNode(M),An.range=wn}}),t.on("focusin",An=>{if(!$h(An.target)&&t.getBody().contains(An.target)&&An.target!==t.getBody()&&!t.dom.isEditable(An.target.parentNode)){f.isShowing()&&f.hide(),An.target.contains(t.selection.getNode())||(t.selection.select(An.target,!0),t.selection.collapse(!0));const wn=zt(t.selection.getRng(),!0);wn&&t.selection.setRng(wn)}}),t.on("SetSelectionRange",An=>{An.range=nt(An.range);const wn=zt(An.range,An.forward);wn&&(An.range=wn)});const oo=An=>Ho(An)&&An.id==="mcepastebin";t.on("AfterSetSelectionRange",An=>{const wn=An.range,Un=wn.startContainer.parentElement;!ze(wn)&&!oo(Un)&&xo(),N(Un)||_n()}),Phe(t),BU(t),IZ(t)},Qe=oo=>Fe(oo)||Kt(oo)||Yt(oo),ze=oo=>Qe(oo.startContainer)||Qe(oo.endContainer),nt=oo=>{const An=t.schema.getVoidElements(),wn=a.createRng(),Un=oo.startContainer,Zo=oo.startOffset,Ls=oo.endContainer,gr=oo.endOffset;return Xo(An,Un.nodeName.toLowerCase())?Zo===0?wn.setStartBefore(Un):wn.setStartAfter(Un):wn.setStart(Un,Zo),Xo(An,Ls.nodeName.toLowerCase())?gr===0?wn.setEndBefore(Ls):wn.setEndAfter(Ls):wn.setEnd(Ls,gr),wn},Mt=(oo,An)=>{const wn=st.fromDom(t.getBody()),Un=t.getDoc(),Zo=Hh(wn,"#"+b).getOrThunk(()=>{const Lr=st.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Un);return ha(Lr,"id",b),zr(wn,Lr),Lr}),Ls=a.createRng();id(Zo),ah(Zo,[st.fromText(Pi,Un),st.fromDom(An),st.fromText(Pi,Un)]),Ls.setStart(Zo.dom.firstChild,1),Ls.setEnd(Zo.dom.lastChild,0),ru(Zo,{top:a.getPos(oo,t.getBody()).y+"px"}),qy(Zo);const gr=r.getSel();return gr&&(gr.removeAllRanges(),gr.addRange(Ls)),Ls},Bt=oo=>{const An=oo.cloneNode(!0),wn=t.dispatch("ObjectSelected",{target:oo,targetClone:An});if(wn.isDefaultPrevented())return null;const Un=Mt(oo,wn.targetClone),Zo=st.fromDom(oo);return qe(Sn(st.fromDom(t.getBody()),`*[${A}]`),Ls=>{Lo(Zo,Ls)||vl(Ls,A)}),a.getAttrib(oo,A)||oo.setAttribute(A,"1"),M=oo,xo(),Un},zt=(oo,An)=>{if(!oo)return null;if(oo.collapsed){if(!ze(oo)){const Ls=An?1:-1,gr=sv(Ls,u,oo),Lr=gr.getNode(!An);if(Re(Lr)){if(Ow(Lr))return fe(Ls,Lr,An?!gr.isAtEnd():!1,!1);if(Pe(Lr)&&ai(Lr.nextSibling)){const Ra=a.createRng();return Ra.setStart(Lr,0),Ra.setEnd(Lr,0),Ra}}const Sa=gr.getNode(An);if(Re(Sa)){if(Ow(Sa))return fe(Ls,Sa,An?!1:!gr.isAtEnd(),!1);if(Pe(Sa)&&ai(Sa.previousSibling)){const Ra=a.createRng();return Ra.setStart(Sa,1),Ra.setEnd(Sa,1),Ra}}}return null}let wn=oo.startContainer,Un=oo.startOffset;const Zo=oo.endOffset;if(Wn(wn)&&Un===0&&lL(wn.parentNode)&&(wn=wn.parentNode,Un=a.nodeIndex(wn),wn=wn.parentNode),!Ho(wn))return null;if(Zo===Un+1&&wn===oo.endContainer){const Ls=wn.childNodes[Un];if(G(Ls))return Bt(Ls)}return null},_n=()=>{M&&M.removeAttribute(A),Hh(st.fromDom(t.getBody()),"#"+b).each(Ni),M=null},$n=()=>{f.destroy(),M=null},xo=()=>{f.hide()};return uv(t)||Le(),{showCaret:fe,showBlockCaretContainer:be,hideFakeCaret:xo,destroy:$n}},Nhe=(t,r)=>{let a=r;for(let u=t.previousSibling;Wn(u);u=u.previousSibling)a+=u.data.length;return a},cL=(t,r,a,u,f)=>{if(Wn(a)&&(u<0||u>a.data.length))return[];const b=f&&Wn(a)?[Nhe(a,u)]:[u];let A=a;for(;A!==r&&A.parentNode;)b.push(t.nodeIndex(A,f)),A=A.parentNode;return A===r?b.reverse():[]},FU=(t,r,a,u,f,b,A=!1)=>{const M=cL(t,r,a,u,A),N=cL(t,r,f,b,A);return{start:M,end:N}},DZ=(t,r)=>{const a=r.slice(),u=a.pop();return ut(u)?Gt(a,(b,A)=>b.bind(M=>ye.from(M.childNodes[A])),ye.some(t)).bind(b=>Wn(b)&&(u<0||u>b.data.length)?ye.none():ye.some({node:b,offset:u})):ye.none()},MZ=(t,r)=>DZ(t,r.start).bind(({node:a,offset:u})=>DZ(t,r.end).map(({node:f,offset:b})=>{const A=document.createRange();return A.setStart(a,u),A.setEnd(f,b),A})),PZ=(t,r,a,u=!1)=>FU(t,r,a.startContainer,a.startOffset,a.endContainer,a.endOffset,u),lS=(t,r,a)=>{if(r&&t.isEmpty(r)&&!a(r)){const u=r.parentNode;t.remove(r,Wn(r.firstChild)&&Lg(r.firstChild.data)),lS(t,u,a)}},ik=(t,r,a,u=!0)=>{const f=r.startContainer.parentNode,b=r.endContainer.parentNode;r.deleteContents(),u&&!a(r.startContainer)&&(Wn(r.startContainer)&&r.startContainer.data.length===0&&t.remove(r.startContainer),Wn(r.endContainer)&&r.endContainer.data.length===0&&t.remove(r.endContainer),lS(t,f,a),f!==b&&lS(t,b,a))},ak=(t,r)=>ye.from(t.dom.getParent(r.startContainer,t.dom.isBlock)),VU=(t,r,a)=>{const u=t.dynamicPatternsLookup({text:a,block:r});return{...t,blockPatterns:yb(u).concat(t.blockPatterns),inlinePatterns:O1(u).concat(t.inlinePatterns)}},HU=(t,r,a,u)=>{const f=t.createRng();return f.setStart(r,0),f.setEnd(a,u),f.toString()},$U=(t,r)=>t.create("span",{"data-mce-type":"bookmark",id:r}),uL=(t,r)=>{const a=t.createRng();return a.setStartAfter(r.start),a.setEndBefore(r.end),a},NZ=(t,r,a)=>{const u=MZ(t.getRoot(),a).getOrDie("Unable to resolve path range"),f=u.startContainer,b=u.endContainer,A=u.endOffset===0?b:b.splitText(u.endOffset),M=u.startOffset===0?f:f.splitText(u.startOffset),N=M.parentNode,G=A.parentNode;return{prefix:r,end:G.insertBefore($U(t,r+"-end"),A),start:N.insertBefore($U(t,r+"-start"),M)}},LZ=(t,r,a)=>{lS(t,t.get(r.prefix+"-end"),a),lS(t,t.get(r.prefix+"-start"),a)},lk=t=>t.start.length===0,Lhe=t=>(r,a)=>{const f=r.data.substring(0,a),b=f.lastIndexOf(t.charAt(t.length-1)),A=f.lastIndexOf(t);return A!==-1?A+t.length:b!==-1?b+1:-1},BZ=(t,r,a,u)=>{const f=r.start;return DN(t,u.container,u.offset,Lhe(f),a).bind(A=>{const M=a.textContent?.indexOf(f)??-1;if(M!==-1&&A.offset>=M+f.length){const G=t.createRng();return G.setStart(A.container,A.offset-f.length),G.setEnd(A.container,A.offset),ye.some(G)}else{const G=A.offset-f.length;return I$(A.container,G,a).map(le=>{const fe=t.createRng();return fe.setStart(le.container,le.offset),fe.setEnd(A.container,A.offset),fe}).filter(le=>le.toString()===f).orThunk(()=>BZ(t,r,a,pv(A.container,0)))}})},Bhe=(t,r,a,u,f,b=!1)=>{if(r.start.length===0&&!b){const A=t.createRng();return A.setStart(a,u),A.setEnd(a,u),ye.some(A)}return O$(a,u,f).bind(A=>BZ(t,r,f,A).bind(N=>{if(b){if(N.endContainer===A.container&&N.endOffset===A.offset)return ye.none();if(A.offset===0&&N.endContainer.textContent?.length===N.endOffset)return ye.none()}return ye.some(N)}))},Fhe=(t,r,a,u)=>{const f=t.dom,b=f.getRoot(),A=a.pattern,M=a.position.container,N=a.position.offset;return I$(M,N-a.pattern.end.length,r).bind(G=>{const le=FU(f,b,G.container,G.offset,M,N,u);if(lk(A))return ye.some({matches:[{pattern:A,startRng:le,endRng:le}],position:G});{const fe=dL(t,a.remainingPatterns,G.container,G.offset,r,u),be=fe.getOr({matches:[],position:G}),Le=be.position;return Bhe(f,A,Le.container,Le.offset,r,fe.isNone()).map(ze=>{const nt=PZ(f,b,ze,u);return{matches:be.matches.concat([{pattern:A,startRng:nt,endRng:le}]),position:pv(ze.startContainer,ze.startOffset)}})}})},dL=(t,r,a,u,f,b)=>{const A=t.dom;return O$(a,u,A.getRoot()).bind(M=>{const N=HU(A,f,a,u);for(let G=0;G<r.length;G++){const le=r[G];if(!Wi(N,le.end))continue;const fe=r.slice();fe.splice(G,1);const be=Fhe(t,f,{pattern:le,remainingPatterns:fe,position:M},b);if(be.isNone()&&u>0)return dL(t,r,a,u-1,f,b);if(be.isSome())return be}return ye.none()})},FZ=(t,r,a)=>{t.selection.setRng(a),r.type==="inline-format"?qe(r.format,u=>{t.formatter.apply(u)}):t.execCommand(r.cmd,!1,r.value)},UU=(t,r,a,u)=>{const f=uL(t.dom,a);ik(t.dom,f,u),FZ(t,r,f)},Vhe=(t,r,a,u,f)=>{const b=t.dom,A=uL(b,u),M=uL(b,a);ik(b,M,f),ik(b,A,f);const N={prefix:a.prefix,start:a.end,end:u.start},G=uL(b,N);FZ(t,r,G)},Hhe=(t,r)=>{const a=pl("mce_textpattern"),u=Nt(r,(f,b)=>{const A=NZ(t,a+`_end${f.length}`,b.endRng);return f.concat([{...b,endMarker:A}])},[]);return Nt(u,(f,b)=>{const A=u.length-f.length-1,M=lk(b.pattern)?b.endMarker:NZ(t,a+`_start${A}`,b.startRng);return f.concat([{...b,startMarker:M}])},[])},$he=t=>Pn(t,(r,a)=>a.end.length-r.end.length),VZ=(t,r)=>{const a=no(t,u=>cn(r,f=>u.pattern.start===f.pattern.start&&u.pattern.end===f.pattern.end));return t.length===r.length?a?t:r:t.length>r.length?t:r},HZ=(t,r,a,u,f,b)=>{const A=dL(t,f.inlinePatterns,a,u,r,b).fold(()=>[],N=>N.matches),M=dL(t,$he(f.inlinePatterns),a,u,r,b).fold(()=>[],N=>N.matches);return VZ(A,M)},$Z=(t,r)=>{if(r.length===0)return;const a=t.dom,u=t.selection.getBookmark(),f=Hhe(a,r);qe(f,b=>{const A=a.getParent(b.startMarker.start,a.isBlock),M=N=>N===A;lk(b.pattern)?UU(t,b.pattern,b.endMarker,M):Vhe(t,b.pattern,b.startMarker,b.endMarker,M),LZ(a,b.endMarker,M),LZ(a,b.startMarker,M)}),t.selection.moveToBookmark(u)},UZ=(t,r,a)=>zce(r,0,r).map(u=>{const f=u.container;return Bq(f,a.start.length,r).each(b=>{const A=t.createRng();A.setStart(f,0),A.setEnd(b.container,b.offset),ik(t,A,M=>M===r)}),f}),zZ=t=>(r,a)=>{const u=r.dom,f=a.pattern,b=MZ(u.getRoot(),a.range).getOrDie("Unable to resolve path range"),A=(M,N)=>{const G=N.get(M);return Te(G)&&je(G).exists(le=>Xo(le,"block"))};return ak(r,b).each(M=>{f.type==="block-format"?A(f.format,r.formatter)&&r.undoManager.transact(()=>{t(r.dom,M,f),r.formatter.apply(f.format)}):f.type==="block-command"&&r.undoManager.transact(()=>{t(r.dom,M,f),r.execCommand(f.cmd,!1,f.value)})}),!0},Uhe=t=>Pn(t,(r,a)=>a.start.length-r.start.length),jZ=t=>(r,a)=>{const u=Uhe(r),f=a.replace(Pi," ");return Et(u,b=>t(b,a,f))},WZ=(t,r)=>(a,u,f,b,A=u.textContent??"")=>{const M=a.dom,N=zu(a);return M.is(u,N)?t(f.blockPatterns,A).map(G=>r&&Jn.trim(A).length===G.start.length?[]:[{pattern:G,range:FU(M,M.getRoot(),u,0,u,0,b)}]).getOr([]):[]},zhe=t=>/^\s[^\s]/.test(t),Whe=zZ((t,r,a)=>{UZ(t,r,a).each(u=>{const f=st.fromDom(u),b=bl(f);zhe(b)&&t0(f,b.slice(1))})}),zU=jZ((t,r,a)=>r.indexOf(t.start)===0||a.indexOf(t.start)===0),Ghe=WZ(zU,!0),qhe=(t,r)=>{const a=t.selection.getRng();return ak(t,a).map(u=>{const f=Math.max(0,a.startOffset),b=VU(r,u,u.textContent??""),A=HZ(t,u,a.startContainer,f,b,!0),M=Ghe(t,u,b,!0);return{inlineMatches:A,blockMatches:M}}).filter(({inlineMatches:u,blockMatches:f})=>f.length>0||u.length>0)},Khe=(t,r)=>{if(r.length===0)return;const a=t.selection.getBookmark();qe(r,u=>Whe(t,u)),t.selection.moveToBookmark(a)},Zhe=zZ(UZ),Yhe=jZ((t,r,a)=>r===t.start||a===t.start),Xhe=WZ(Yhe,!1),hL=(t,r)=>{const a=t.selection.getRng();return ak(t,a).map(u=>{const f=Math.max(0,a.startOffset),b=HU(t.dom,u,a.startContainer,f),A=VU(r,u,b);return Xhe(t,u,A,!1,b)}).filter(u=>u.length>0)},Jhe=(t,r)=>{qe(r,a=>Zhe(t,a))},Qhe=(t,r)=>qhe(t,r).fold(Dt,({inlineMatches:a,blockMatches:u})=>(t.undoManager.add(),t.undoManager.extra(()=>{t.execCommand("mceInsertNewLine")},()=>{ie(t),$Z(t,a),Khe(t,u);const f=t.selection.getRng(),b=O$(f.startContainer,f.startOffset,t.dom.getRoot());t.execCommand("mceInsertNewLine"),b.each(A=>{const M=A.container;M.data.charAt(A.offset-1)===gc&&(M.deleteData(A.offset-1,1),lS(t.dom,M.parentNode,N=>N===t.dom.getRoot()))})}),!0)),efe=(t,r)=>{const a=t.selection.getRng();ak(t,a).map(u=>{const f=Math.max(0,a.startOffset-1),b=HU(t.dom,u,a.startContainer,f),A=VU(r,u,b),M=HZ(t,u,a.startContainer,f,A,!1);M.length>0&&t.undoManager.transact(()=>{$Z(t,M)})})},tfe=(t,r)=>hL(t,r).fold(Dt,a=>(t.undoManager.transact(()=>{Jhe(t,a)}),!0)),GZ=(t,r,a)=>{for(let u=0;u<t.length;u++)if(a(t[u],r))return!0;return!1},nfe=(t,r)=>GZ(t,r,(a,u)=>a===u.keyCode&&!ko.modifierPressed(u)),ofe=(t,r)=>GZ(t,r,(a,u)=>a.charCodeAt(0)===u.charCode),sfe=t=>{const r=[",",".",";",":","!","?"],a=[32],u=()=>I1(AI(t).filter(A=>A.type==="inline-command"||A.type==="block-command"?t.queryCommandSupported(A.cmd):!0),J4(t)),f=()=>eB(t);t.on("keydown",A=>{if(A.keyCode===13&&!ko.modifierPressed(A)&&t.selection.isCollapsed()&&t.selection.isEditable()){const M=dI(u(),"enter");(M.inlinePatterns.length>0||M.blockPatterns.length>0||f())&&Qhe(t,M)&&A.preventDefault()}},!0),t.on("keydown",A=>{if(A.keyCode===32&&t.selection.isCollapsed()&&t.selection.isEditable()){const M=dI(u(),"space");(M.blockPatterns.length>0||f())&&tfe(t,M)&&A.preventDefault()}},!0);const b=()=>{if(t.selection.isCollapsed()&&t.selection.isEditable()){const A=dI(u(),"space");(A.inlinePatterns.length>0||f())&&efe(t,A)}};t.on("keyup",A=>{nfe(a,A)&&b()}),t.on("keypress",A=>{ofe(r,A)&&tg.setEditorTimeout(t,b)})},rfe=t=>{sfe(t)},qZ=t=>{const r=Jn.each,a=ko.BACKSPACE,u=ko.DELETE,f=t.dom,b=t.selection,A=t.parser,M=xr.browser,N=M.isFirefox(),G=M.isChromium()||M.isSafari(),le=xr.deviceType.isiPhone()||xr.deviceType.isiPad(),fe=xr.os.isMacOS()||xr.os.isiOS(),be=(uo,Io)=>{try{t.getDoc().execCommand(uo,!1,String(Io))}catch{}},Le=uo=>uo.isDefaultPrevented(),Qe=()=>{const uo=Fs=>{const nr=f.create("body"),Ki=Fs.cloneContents();return nr.appendChild(Ki),b.serializer.serialize(nr,{format:"html"})},Io=Fs=>{const nr=uo(Fs),Ki=f.createRng();Ki.selectNode(t.getBody());const ka=uo(Ki);return nr===ka};t.on("keydown",Fs=>{const nr=Fs.keyCode;if(!Le(Fs)&&(nr===u||nr===a)&&t.selection.isEditable()){const Ki=t.selection.isCollapsed(),ka=t.getBody();if(Ki&&!gf(t.schema,ka)||!Ki&&!Io(t.selection.getRng()))return;Fs.preventDefault(),t.setContent(""),ka.firstChild&&f.isBlock(ka.firstChild)?t.selection.setCursorLocation(ka.firstChild,0):t.selection.setCursorLocation(ka,0),t.nodeChanged()}})},ze=()=>{t.shortcuts.add("meta+a",null,"SelectAll")},nt=()=>{t.inline||f.bind(t.getDoc(),"mousedown mouseup",uo=>{let Io;if(uo.target===t.getDoc().documentElement)if(Io=b.getRng(),t.getDoc().getSelection()?.anchorNode!==null&&t.getBody().focus(),uo.type==="mousedown"){if(Fe(Io.startContainer))return;b.placeCaretAt(uo.clientX,uo.clientY)}else b.setRng(Io)})},Mt=()=>{t.on("keydown",uo=>{if(!Le(uo)&&uo.keyCode===a){if(!t.getBody().getElementsByTagName("hr").length)return;if(b.isCollapsed()&&b.getRng().startOffset===0){const Io=b.getNode(),Fs=Io.previousSibling;if(Io.nodeName==="HR"){f.remove(Io),uo.preventDefault();return}Fs&&Fs.nodeName&&Fs.nodeName.toLowerCase()==="hr"&&(f.remove(Fs),uo.preventDefault())}}})},Bt=()=>{Range.prototype.getClientRects||t.on("mousedown",uo=>{if(!Le(uo)&&uo.target.nodeName==="HTML"){const Io=t.getBody();Io.blur(),tg.setEditorTimeout(t,()=>{Io.focus()})}})},zt=()=>{const uo=_I(t);t.on("click",Io=>{const Fs=Io.target;/^(IMG|HR)$/.test(Fs.nodeName)&&f.isEditable(Fs)&&(Io.preventDefault(),t.selection.select(Fs),t.nodeChanged()),Fs.nodeName==="A"&&f.hasClass(Fs,uo)&&Fs.childNodes.length===0&&f.isEditable(Fs.parentNode)&&(Io.preventDefault(),b.select(Fs))})},_n=()=>{const uo=Io=>Io.nodeName==="IMG"&&t.dom.isEditable(Io);t.on("mousedown",Io=>{Ar(ye.from(Io.clientX),ye.from(Io.clientY),(Fs,nr)=>{const Ki=t.getDoc().caretPositionFromPoint(Fs,nr),ka=Ki?.offsetNode?.childNodes[Ki.offset-(Ki.offset>0?1:0)]||Ki?.offsetNode;if(Re(ka)&&uo(ka)){const yv=ka.getBoundingClientRect();Io.preventDefault(),t.hasFocus()||t.focus(),t.selection.select(ka),Io.clientX<yv.left||Io.clientY<yv.top?t.selection.collapse(!0):(Io.clientX>yv.right||Io.clientY>yv.bottom)&&t.selection.collapse(!1)}})})},$n=()=>{const uo=()=>{const Fs=f.getAttribs(b.getStart().cloneNode(!1));return()=>{const nr=b.getStart();nr!==t.getBody()&&(f.setAttrib(nr,"style",null),r(Fs,Ki=>{nr.setAttributeNode(Ki.cloneNode(!0))}))}},Io=()=>!b.isCollapsed()&&f.getParent(b.getStart(),f.isBlock)!==f.getParent(b.getEnd(),f.isBlock);t.on("keypress",Fs=>{let nr;return!Le(Fs)&&(Fs.keyCode===8||Fs.keyCode===46)&&Io()?(nr=uo(),t.getDoc().execCommand("delete",!1),nr(),Fs.preventDefault(),!1):!0}),f.bind(t.getDoc(),"cut",Fs=>{if(!Le(Fs)&&Io()){const nr=uo();tg.setEditorTimeout(t,()=>{nr()})}})},xo=()=>{t.on("keydown",uo=>{if(!Le(uo)&&uo.keyCode===a&&b.isCollapsed()&&b.getRng().startOffset===0){const Io=b.getNode().previousSibling;if(Io&&Io.nodeName&&Io.nodeName.toLowerCase()==="table")return uo.preventDefault(),!1}return!0})},oo=()=>{t.on("keydown",uo=>{if(Le(uo)||uo.keyCode!==ko.BACKSPACE)return;let Io=b.getRng();const Fs=Io.startContainer,nr=Io.startOffset,Ki=f.getRoot();let ka=Fs;if(!(!Io.collapsed||nr!==0)){for(;ka.parentNode&&ka.parentNode.firstChild===ka&&ka.parentNode!==Ki;)ka=ka.parentNode;ka.nodeName==="BLOCKQUOTE"&&(t.formatter.toggle("blockquote",void 0,ka),Io=f.createRng(),Io.setStart(Fs,0),Io.setEnd(Fs,0),b.setRng(Io))}})},An=()=>{const uo=El("figcaption");t.on("keydown",Io=>{if(Io.keyCode===ko.LEFT||Io.keyCode===ko.RIGHT){const Fs=st.fromDom(t.selection.getNode());uo(Fs)&&t.selection.isCollapsed()&&Ru(Fs).bind(nr=>t.selection.getRng().startOffset===0&&Io.keyCode===ko.LEFT?Nd(nr):t.selection.getRng().endOffset===Fs.dom.textContent?.length&&Io.keyCode===ko.RIGHT?Du(nr):ye.none()).each(nr=>{t.selection.setCursorLocation(nr.dom,0)})}})},wn=()=>{const uo=()=>{be("StyleWithCSS",!1),be("enableInlineTableEditing",!1),CI(t)||be("enableObjectResizing",!1)};bw(t)||t.on("BeforeExecCommand mousedown",uo)},Un=()=>{const uo=()=>{r(f.select("a:not([data-mce-block])"),Io=>{let Fs=Io.parentNode;const nr=f.getRoot();if(Fs?.lastChild===Io){for(;Fs&&!f.isBlock(Fs);){if(Fs.parentNode?.lastChild!==Fs||Fs===nr)return;Fs=Fs.parentNode}f.add(Fs,"br",{"data-mce-bogus":1})}})};t.on("SetContent ExecCommand",Io=>{(Io.type==="setcontent"||Io.command==="mceInsertLink")&&uo()})},Zo=()=>{t.on("init",()=>{be("DefaultParagraphSeparator",zu(t))})},Ls=uo=>{const Io=uo.getBody(),Fs=uo.selection.getRng();return Fs.startContainer===Fs.endContainer&&Fs.startContainer===Io&&Fs.startOffset===0&&Fs.endOffset===Io.childNodes.length},gr=()=>{t.on("keyup focusin mouseup",uo=>{!ko.modifierPressed(uo)&&!Ls(t)&&b.normalize()},!0)},Lr=()=>{t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Sa=()=>{t.inline||t.on("keydown",()=>{document.activeElement===document.body&&t.getWin().focus()})},Ra=()=>{t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",uo=>{let Io;uo.target.nodeName==="HTML"&&(Io=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(Io),t.selection.normalize(),t.nodeChanged())}))},wc=()=>{fe&&t.on("keydown",uo=>{ko.metaKeyPressed(uo)&&!uo.shiftKey&&(uo.keyCode===37||uo.keyCode===39)&&(uo.preventDefault(),t.selection.getSel().modify("move",uo.keyCode===37?"backward":"forward","lineboundary"))})},qc=()=>{t.on("click",uo=>{let Io=uo.target;do if(Io.tagName==="A"){uo.preventDefault();return}while(Io=Io.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},vv=()=>{t.on("init",()=>{t.dom.bind(t.getBody(),"submit",uo=>{uo.preventDefault()})})},Mo=()=>{A.addNodeFilter("br",uo=>{let Io=uo.length;for(;Io--;)uo[Io].attr("class")==="Apple-interchange-newline"&&uo[Io].remove()})},ws=St,Bi=()=>{if(!N||t.removed)return!1;const uo=t.selection.getSel();return!uo||!uo.rangeCount||uo.rangeCount===0},Di=()=>{G&&(nt(),zt(),vv(),ze(),le&&(Sa(),Ra(),qc())),N&&(Bt(),wn(),Lr(),wc())},fs=()=>{oo(),Qe(),xr.windowsPhone||gr(),G&&(nt(),zt(),Zo(),vv(),xo(),Mo(),le?(Sa(),Ra(),qc()):ze()),N&&(An(),_n(),Mt(),Bt(),$n(),wn(),Un(),Lr(),wc(),xo())};return uv(t)?Di():fs(),{refreshContentEditable:ws,isHidden:Bi}};class KZ extends Error{url;constructor(r,a){super(r),this.url=a}}const fL={},ife=(t,r,a)=>new Promise((u,f)=>{const b=st.fromTag("script");Pa(b,{type:"text/javascript",src:t,...a});const A=()=>{Ni(b)};Gy(b,"load",()=>{A(),u()}),Gy(b,"error",()=>{A(),f(new Error(`Failed to load script url: ${t}`))}),zr(ll(r),b)}),ZZ=async(t,r)=>{const a=Vl.ScriptLoader.getScriptAttributes(t);return await ife(t,r,a).catch(()=>Promise.reject(new KZ(`Failed to load component url: ${t}`,t))),t},YZ=t=>Hs(t,(r,a)=>No(fL,r).getOrThunk(()=>{if($e(window.customElements.get(a))){const u=ZZ(r,Jb());return fL[r]=u,u}else return Promise.resolve(r)}).catch(u=>(delete fL[r],Promise.reject(u)))),ck=(t,r)=>{const a=kt(or(t));return vn(a,u=>ZZ(u,st.fromDom(r)))},afe=t=>{const r=t.schema.getComponentUrls();return t.inline?YZ(r):ck(r,t.getDoc())},XZ=async t=>{const r=afe(t),a=Ve(await Promise.allSettled(r),u=>u.status==="rejected");a.length>0&&qe(a,u=>{if(u.reason instanceof KZ){const{url:f}=u.reason;bie(t,f)}})},lfe=t=>{XZ(t)},jU=yi.DOM,cfe=(t,r)=>{const a=st.fromDom(t.getBody()),u=Yb(oc(a)),f=st.fromTag("style");ha(f,"type","text/css"),zr(f,st.fromText(r)),zr(u,f),t.on("remove",()=>{Ni(f)})},ufe=t=>t.inline?t.getElement().nodeName.toLowerCase():void 0,pL=t=>Cs(t,r=>et(r)===!1),JZ=t=>{const r=t.options.get,a=t.editorUpload.blobCache;return pL({allow_conditional_comments:r("allow_conditional_comments"),allow_html_data_urls:r("allow_html_data_urls"),allow_svg_data_urls:r("allow_svg_data_urls"),allow_html_in_named_anchor:r("allow_html_in_named_anchor"),allow_script_urls:r("allow_script_urls"),allow_html_in_comments:r("allow_html_in_comments"),allow_mathml_annotation_encodings:r("allow_mathml_annotation_encodings"),allow_unsafe_link_target:r("allow_unsafe_link_target"),convert_unsafe_embeds:r("convert_unsafe_embeds"),convert_fonts_to_spans:r("convert_fonts_to_spans"),extended_mathml_attributes:r("extended_mathml_attributes"),extended_mathml_elements:r("extended_mathml_elements"),fix_list_elements:r("fix_list_elements"),font_size_legacy_values:r("font_size_legacy_values"),forced_root_block:r("forced_root_block"),forced_root_block_attrs:r("forced_root_block_attrs"),preserve_cdata:r("preserve_cdata"),inline_styles:r("inline_styles"),root_name:ufe(t),sandbox_iframes:r("sandbox_iframes"),sandbox_iframes_exclusions:Tw(t),sanitize:r("xss_sanitization"),validate:!0,blob_cache:a,document:t.getDoc()})},WU=t=>{const r=t.options.get;return pL({custom_elements:r("custom_elements"),extended_valid_elements:r("extended_valid_elements"),invalid_elements:r("invalid_elements"),invalid_styles:r("invalid_styles"),schema:r("schema"),valid_children:r("valid_children"),valid_classes:r("valid_classes"),valid_elements:r("valid_elements"),valid_styles:r("valid_styles"),verify_html:r("verify_html"),padd_empty_block_inline_children:r("format_empty_lines")})},dfe=t=>{const r=t.options.get;return{...JZ(t),...WU(t),...pL({remove_trailing_brs:r("remove_trailing_brs"),pad_empty_with_br:r("pad_empty_with_br"),url_converter:r("url_converter"),url_converter_scope:r("url_converter_scope"),element_format:r("element_format"),entities:r("entities"),entity_encoding:r("entity_encoding"),indent:r("indent"),indent_after:r("indent_after"),indent_before:r("indent_before")})}},hfe=t=>{const r=Yw(JZ(t),t.schema);return r.addAttributeFilter("src,href,style,tabindex",(a,u)=>{const f=t.dom,b="data-mce-"+u;let A=a.length;for(;A--;){const M=a[A];let N=M.attr(u);if(N&&!M.attr(b)){if(N.indexOf("data:")===0||N.indexOf("blob:")===0)continue;u==="style"?(N=f.serializeStyle(f.parseStyle(N),M.name),N.length||(N=null),M.attr(b,N),M.attr(u,N)):u==="tabindex"?(M.attr(b,N),M.attr(u,null)):M.attr(b,t.convertURL(N,u,M.name))}}}),r.addNodeFilter("script",a=>{let u=a.length;for(;u--;){const f=a[u],b=f.attr("type")||"no/type";b.indexOf("mce-")!==0&&f.attr("type","mce-"+b)}}),_w(t)&&r.addNodeFilter("#cdata",a=>{let u=a.length;for(;u--;){const f=a[u];f.type=8,f.name="#comment",f.value="[CDATA["+t.dom.encode(f.value??"")+"]]"}}),r.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",a=>{let u=a.length;const f=t.schema.getNonEmptyElements();for(;u--;){const b=a[u];b.isEmpty(f)&&b.getAll("br").length===0&&b.append(new yh("br",1))}}),r},ffe=t=>{const r=Y4(t);r&&tg.setEditorTimeout(t,()=>{let a;r===!0?a=t:a=t.editorManager.get(r),a&&!a.destroyed&&(a.focus(),a.selection.scrollIntoView())},100)},pfe=t=>{const r=t.dom.getRoot();!t.inline&&(!NA(t)||t.selection.getStart(!0)===r)&&hu(r).each(a=>{const u=a.getNode(),f=ap(u)?hu(u).getOr(a):a;t.selection.setRng(f.toRange())})},mfe=t=>{t.bindPendingEventDelegates(),t.initialized=!0,B4(t),t.focus(!0),pfe(t),t.nodeChanged({initial:!0});const r=AD(t);_e(r)&&r.call(t,t),ffe(t),R0(t)&&zV(t,!0)},GU=t=>t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader,gfe=(t,r,a)=>{const{pass:u,fail:f}=Ft(r,M=>tinymce.Resource.has(_R(M))),A=[...u.map(M=>{const N=tinymce.Resource.get(_R(M));return se(N)?Promise.resolve(GU(t).loadRawCss(M,N)):Promise.resolve()}),GU(t).loadAll(f)];return t.inline?A:A.concat([t.ui.styleSheetLoader.loadAll(a)])},QZ=t=>{const r=GU(t),a=vD(t),u=t.contentCSS,f=()=>{r.unloadAll(u),t.inline||t.ui.styleSheetLoader.unloadAll(a)},b=()=>{t.removed?f():t.on("remove",f)};if(t.contentStyles.length>0){let N="";Jn.each(t.contentStyles,G=>{N+=G+`\r
`}),t.dom.addStyle(N)}const A=Promise.all(gfe(t,u,a)).then(b).catch(b),M=gD(t);return M&&cfe(t,M),A},vfe=t=>{const r=t.getDoc(),a=t.getBody();N4(t),pA(t)||(r.body.spellcheck=!1,jU.setAttrib(a,"spellcheck","false")),t.quirks=qZ(t),L4(t);const u=yD(t);u!==void 0&&(a.dir=u);const f=yC(t);f&&t.on("BeforeSetContent",b=>{Jn.each(f,A=>{b.content=b.content.replace(A,M=>"<!--mce:protected "+escape(M)+"-->")})}),t.on("SetContent",()=>{t.addVisual(t.getBody())}),t.on("compositionstart compositionend",b=>{t.composing=b.type==="compositionstart"})},eY=t=>{uv(t)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"})},uk=t=>{t.removed!==!0&&(eY(t),mfe(t))},tY=t=>{let r=!1;const a=setTimeout(()=>{r||t.setProgressState(!0)},500);return()=>{clearTimeout(a),r=!0,t.setProgressState(!1)}},qU=t=>{const r=t.getElement();let a=t.getDoc();t.inline&&(jU.addClass(r,"mce-content-body"),t.contentDocument=a=document,t.contentWindow=window,t.bodyElement=r,t.contentAreaContainer=r);const u=t.getBody();u.disabled=!0,t.readonly=bw(t),t._editableRoot=Sw(t),!xw(t)&&t.hasEditableRoot()&&(t.inline&&jU.getStyle(u,"position",!0)==="static"&&(u.style.position="relative"),u.contentEditable="true"),u.disabled=!1,t.editorUpload=Bie(t),t.schema=Sf(WU(t)),t.dom=yi(a,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,update_styles:!0,root_element:t.inline?t.getBody():null,collect:t.inline,schema:t.schema,contentCssCors:cA(t),referrerPolicy:vI(t),crossOrigin:mw(t),onSetAttrib:A=>{t.dispatch("SetAttrib",A)}}),t.parser=hfe(t),t.serializer=$P(dfe(t),t),t.selection=_V(t.dom,t.getWin(),t.serializer,t),t.annotator=RB(t),t.formatter=c9(t),t.undoManager=TR(t),t._nodeChangeDispatcher=new wde(t),t._selectionOverrides=kZ(t),Ede(t),CN(t),cZ(t),ice(t),uv(t)||(lhe(t),rfe(t));const f=UK(t);VG(t,f),UG(t),QV(t),sL(t,f);const b=vV(t);vfe(t),lfe(t),b.fold(()=>{const A=tY(t);QZ(t).then(()=>{uk(t),A()})},A=>{t.setProgressState(!0),QZ(t).then(()=>{A().then(M=>{t.setProgressState(!1),uk(t),SV(t)},M=>{t.notificationManager.open({type:"error",text:String(M)}),uk(t),SV(t)})})})},KU=yi.DOM,yfe=(t,r,a,u)=>{const f=st.fromTag("iframe");return u.each(b=>ha(f,"tabindex",b)),Pa(f,a),Pa(f,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",...xr.browser.isFirefox()?{title:r}:{}}),Al(f,"tox-edit-area__iframe"),f},bfe=t=>{let r=gC(t)+"<html><head>";fw(t)!==t.editorManager.documentBaseURL&&(r+='<base href="'+t.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const a=Cb(t),u=gd(t),f=t.translate(fA(t)),b=xr.browser.isFirefox()?"":`aria-label="${f}"`;return Qv(t)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+Qv(t)+'" />'),r+=`</head><body id="${a}" class="mce-content-body ${u}" data-id="${t.id}" ${b}><br></body></html>`,r},nY=(t,r)=>{const a=fA(t),u=t.translate(a),f=lh(st.fromDom(t.getElement()),"tabindex").bind(of),b=yfe(t.id,u,lA(t),f).dom;b.onload=()=>{b.onload=null,t.dispatch("load")},t.contentAreaContainer=r.iframeContainer,t.iframeElement=b,t.iframeHTML=bfe(t),KU.add(r.iframeContainer,b)},oY=t=>{const r=t.iframeElement,a=()=>{t.contentDocument=r.contentDocument,qU(t)};if(II(t)||xr.browser.isFirefox()){const u=t.getDoc();u.open(),u.write(t.iframeHTML),u.close(),a()}else{const u=Gy(st.fromDom(r),"load",()=>{u.unbind(),a()});r.srcdoc=t.iframeHTML}},Sfe=(t,r)=>{nY(t,r),r.editorContainer&&(r.editorContainer.style.display=t.orgDisplay,t.hidden=KU.isHidden(r.editorContainer)),t.getElement().style.display="none",KU.setAttrib(t.id,"aria-hidden","true"),t.getElement().style.visibility=t.orgVisibility,oY(t)},sY=yi.DOM,ZU=(t,r,a)=>{const u=I0.get(a),f=I0.urls[a]||t.editorManager.documentBaseURL.replace(/\/$/,"");if(a=Jn.trim(a),u&&Jn.inArray(r,a)===-1){if(t.plugins[a])return;try{const b=u(t,f)||{};t.plugins[a]=b,_e(b.init)&&(b.init(t,f),r.push(a))}catch(b){LV(t,a,b)}}},mL=t=>{const r=a=>{a.keyCode===ko.ESC&&!a.defaultPrevented&&fD(t).isDefaultPrevented()&&a.preventDefault()};document.addEventListener("keyup",r),t.inline||t.on("keyup",r),t.on("remove",()=>{document.removeEventListener("keyup",r),t.inline||t.off("keyup",r)})},rY=t=>t.replace(/^\-/,""),iY=t=>{const r=[];qe(M1(t),a=>{ZU(t,r,rY(a))})},aY=t=>{const r=Jn.trim(pD(t)),a=t.ui.registry.getAll().icons,u={...UP.get("default").icons,...UP.get(r).icons};en(u,(f,b)=>{Xo(a,b)||t.ui.registry.addIcon(b,f)})},Cfe=t=>{const r=im(t);if(se(r)){const a=e_.get(r);t.theme=a(t,e_.urls[r])||{},_e(t.theme.init)&&t.theme.init(t,e_.urls[r]||t.editorManager.documentBaseURL.replace(/\/$/,""))}else t.theme={}},Efe=t=>{const r=wI(t),a=tx.get(r);t.model=a(t,tx.urls[r])},wfe=t=>{$V.init(t)},_fe=t=>{const r=t.theme.renderUI;return r?r():XU(t)},N0=t=>{const r=t.getElement(),u=im(t)(t,r);return u.editorContainer.nodeType&&(u.editorContainer.id=u.editorContainer.id||t.id+"_parent"),u.iframeContainer&&u.iframeContainer.nodeType&&(u.iframeContainer.id=u.iframeContainer.id||t.id+"_iframecontainer"),u.height=u.iframeHeight?u.iframeHeight:r.offsetHeight,u},YU=(t,r)=>({editorContainer:t,iframeContainer:r,api:{}}),Tfe=t=>{const r=sY.create("div");return sY.insertAfter(r,t),YU(r,r)},XU=t=>{const r=t.getElement();return t.inline?YU(null):Tfe(r)},Afe=t=>{const r=t.getElement();return t.orgDisplay=r.style.display,se(im(t))?_fe(t):_e(im(t))?N0(t):XU(t)},xfe=(t,r)=>{const a={show:ye.from(r.show).getOr(St),hide:ye.from(r.hide).getOr(St),isEnabled:ye.from(r.isEnabled).getOr(un),setEnabled:u=>{u&&(t.mode.get()==="readonly"||R0(t))||ye.from(r.setEnabled).each(b=>b(u))}};t.ui={...t.ui,...a}},JU=async t=>{t.dispatch("ScriptsLoaded"),aY(t),mL(t),Cfe(t),Efe(t),wfe(t),iY(t);const r=await Afe(t);xfe(t,ye.from(r.api).getOr({})),t.editorContainer=r.editorContainer,kie(t),t.inline?qU(t):Sfe(t,{editorContainer:r.editorContainer,iframeContainer:r.iframeContainer})},L0=yi.DOM,lY=t=>t.charAt(0)==="-",Ofe=(t,r)=>{const a=mD(r),u=W4(r);if(!fp.hasCode(a)&&a!=="en"){const f=gi(u)?u:`${r.editorManager.baseURL}/langs/${a}.js`;t.add(f).catch(()=>{ER(r,f,a)})}},Ife=(t,r)=>{const a=im(t);if(se(a)&&!lY(a)&&!Xo(e_.urls,a)){const u=SD(t),f=u?t.documentBaseURI.toAbsolute(u):`themes/${a}/theme${r}.js`;e_.load(a,f).catch(()=>{UW(t,f,a)})}},cY=(t,r)=>{const a=wI(t);if(a!=="plugin"&&!Xo(tx.urls,a)){const u=G4(t),f=se(u)?t.documentBaseURI.toAbsolute(u):`models/${a}/model${r}.js`;tx.load(a,f).catch(()=>{PV(t,f,a)})}},Rfe=(t,r)=>{$V.load(t,r)},uY=t=>ye.from(Uz(t)).filter(gi).map(r=>({url:r,name:ye.none()})),dY=(t,r,a)=>ye.from(r).filter(u=>gi(u)&&!UP.has(u)).map(u=>({url:`${t.editorManager.baseURL}/icons/${u}/icons${a}.js`,name:ye.some(u)})),kfe=(t,r,a)=>{const u=dY(r,"default",a),f=uY(r).orThunk(()=>dY(r,pD(r),""));qe(Pc([u,f]),b=>{t.add(b.url).catch(()=>{tS(r,b.url,b.name.getOrUndefined())})})},Dfe=(t,r)=>{const a=(u,f)=>{u!=="licensekeymanager"&&I0.load(u,f).catch(()=>{yie(t,f,u)})};en(hA(t),(u,f)=>{a(f,u),t.options.set("plugins",M1(t).concat(f))}),qe(M1(t),u=>{u=Jn.trim(u),u&&!I0.urls[u]&&!lY(u)&&a(u,`plugins/${u}/plugin${r}.js`)})},Mfe=t=>{const r=im(t);return!se(r)||Re(e_.get(r))},Pfe=t=>{const r=wI(t);return Re(tx.get(r))},hY=(t,r)=>{const a=Vl.ScriptLoader,u=()=>{!t.removed&&Mfe(t)&&Pfe(t)&&JU(t)};Ife(t,r),cY(t,r),Rfe(t,r),Ofe(a,t),kfe(a,t,r),Dfe(t,r),a.loadQueue().then(u,u)},gL=(t,r)=>$u.forElement(t,{contentCssCors:Cw(r),referrerPolicy:vI(r)}),QU=t=>{const r=t.id;fp.setCode(mD(t));const a=()=>{L0.unbind(window,"ready",a),t.render()};if(!hp.Event.domLoaded){L0.bind(window,"ready",a);return}if(!t.getElement())return;const u=st.fromDom(t.getElement()),f=wr(u);t.on("remove",()=>{pt(u.dom.attributes,A=>vl(u,A.name)),Pa(u,f)}),t.ui.styleSheetLoader=gL(u,t),dA(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");const b=t.getElement().form||L0.getParent(r,"form");b&&(t.formElement=b,CD(t)&&!$E(t.getElement())&&(L0.insertAfter(L0.create("input",{type:"hidden",name:r}),r),t.hasHiddenInput=!0),t.formEventDelegate=A=>{t.dispatch(A.type,A)},L0.bind(b,"submit reset",t.formEventDelegate),t.on("reset",()=>{t.resetContent()}),Z4(t)&&!b.submit.nodeType&&!b.submit.length&&!b._mceOldSubmit&&(b._mceOldSubmit=b.submit,b.submit=()=>(t.editorManager.triggerSave(),t.setDirty(!1),b._mceOldSubmit(b)))),t.windowManager=py(t),t.notificationManager=MV(t),ND(t)&&t.on("GetContent",A=>{A.save&&(A.content=L0.encode(A.content))}),ED(t)&&t.on("submit",()=>{t.initialized&&t.save()}),Wz(t)&&(t._beforeUnload=()=>{t.initialized&&!t.destroyed&&!t.isHidden()&&t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),hY(t,t.suffix)},fY=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],pY=t=>Intl.Segmenter?`${new Intl.Segmenter().segment(t)[Symbol.iterator]().next().value?.segment}`:t.trim()[0],mY=(t,r)=>{let a=5381;for(let u=0;u<t.length;u++)a=(a<<5)+a+t.charCodeAt(u);return(a>>>0)%(r+1)},Nfe=t=>{const r=mY(t??"",fY.length-1);return fY[r]},gY=(t,r,a)=>{const u=a/2;return`<svg height="${a}" width="${a}" xmlns="http://www.w3.org/2000/svg"><circle cx="${u}" cy="${u}" r="${u}" fill="${r}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${u}">`+t+"</text></svg>"},Lfe=(t,r,a)=>"data:image/svg+xml,"+encodeURIComponent(gY(t,r,a)),e5=(t,r={size:36})=>Lfe(pY(t.name),Nfe(t.id),r.size),Bfe=Qq([z$("id"),rK("name"),rK("avatar"),lue("custom")]),Ffe=t=>{const r={};return en(t,(a,u)=>{a.each(f=>{r[u]=f})}),r},vY=t=>{if(!Array.isArray(t))throw new Error("fetch_users must return an array");const r=vn(t,f=>eK("Invalid user object",Bfe,f)),{errors:a,values:u}=al(r);if(a.length>0){const f=vn(a,(b,A)=>`User at index ${A}: ${tK(b)}`);console.warn(`User validation errors:
`+f.join(`
`))}return vn(u,f=>{const{id:b,name:A,avatar:M,...N}=f;return{id:b,name:A.getOr(b),avatar:M.getOr(e5({id:b,name:A.getOr(b)})),...Ffe(N)}})},yY=t=>{const r=new Map,a=new Map,u=G=>ye.from(r.get(G)),f=(G,le)=>{r.set(le,G)},b=(G,le)=>ye.from(a.get(G)).each(({reject:fe})=>{fe(le),a.delete(G)}),A=(G,le)=>ye.from(a.get(G)).each(({resolve:fe})=>{fe(le),a.delete(G)}),M=G=>{const le=bA(t);if(Array.isArray(G)){if(!le)return Bs(G,be=>Promise.resolve({id:be,name:be,avatar:e5({id:be,name:be})}))}else return{};const fe=kt(Ve(G,be=>!u(be).isSome()));return qe(fe,be=>{const Le=new Promise((Qe,ze)=>{a.set(be,{resolve:Qe,reject:ze})});f(Le,be)}),fe.length>0&&le(fe).then(vY).then(be=>{const Le=new Set(vn(be,Qe=>Qe.id));qe(be,Qe=>A(Qe.id,Qe)),qe(fe,Qe=>{Le.has(Qe)||b(Qe,new Error(`User ${Qe} not found`))})}).catch(be=>{qe(fe,Le=>b(Le,be instanceof Error?be:new Error("Network error")))}),Gt(G,(be,Le)=>(be[Le]=u(Le).getOr(Promise.resolve({id:Le,name:Le,avatar:e5({id:Le,name:Le})})),be),{})},N=rB(t);return Object.freeze({userId:N,fetchUsers:M})},bY=t=>yY(t),SY=(t,r)=>{t._editableRoot!==r&&(t._editableRoot=r,R0(t)||(t.getBody().contentEditable=String(t.hasEditableRoot()),t.nodeChanged()),Vz(t,r))},CY=t=>t._editableRoot,EY=(t,r)=>({sections:it(t),options:it(r)}),vL=Md().deviceType,t5=vL.isPhone(),wY=vL.isTablet(),Ox=t=>{if($e(t))return[];{const r=Te(t)?t:t.split(/[ ,]/),a=vn(r,Br);return Ve(a,gi)}},Vfe=(t,r)=>{const a=$o(r,(u,f)=>xt(t,f));return EY(a.t,a.f)},Hfe=(t,r,a={})=>{const u=t.sections(),f=No(u,r).getOr({});return Jn.extend({},a,f)},yL=(t,r)=>Xo(t.sections(),r),_Y=(t,r)=>yL(t,r)?t.sections()[r]:{},TY=(t,r)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:No(t,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...r?{menubar:!1}:{}}),AY=(t,r)=>{const a=r.external_plugins??{};return t&&t.external_plugins?Jn.extend({},t.external_plugins,a):a},n5=(t,r)=>[...Ox(t),...Ox(r)],o5=(t,r,a,u)=>t&&yL(r,"mobile")?u:a,bL=(t,r,a,u)=>{const f=Ox(a.forced_plugins),b=Ox(u.plugins),A=_Y(r,"mobile"),M=A.plugins?Ox(A.plugins):b,N=o5(t,r,b,M),G=n5(f,N);return Jn.extend(u,{forced_plugins:f,plugins:G})},xY=(t,r)=>t&&yL(r,"mobile"),OY=(t,r,a,u,f)=>{const b=t?{mobile:TY(f.mobile??{},r)}:{},A=Vfe(["mobile"],th(b,f)),M=Jn.extend(a,u,A.options(),xY(t,A)?Hfe(A,"mobile"):{},{external_plugins:AY(u,A.options())});return bL(t,A,u,M)},IY=(t,r)=>{const a=xh(r);return OY(t5||wY,t5,a,t,a)},s5=(t,r)=>OW(t,r),RY=t=>{const r=(u,f)=>{t.formatter.toggle(u,f),t.nodeChanged()},a=u=>()=>{qe("left,center,right,justify".split(","),f=>{u!==f&&t.formatter.remove("align"+f)}),u!=="none"&&r("align"+u)};t.editorCommands.addCommands({JustifyLeft:a("left"),JustifyCenter:a("center"),JustifyRight:a("right"),JustifyFull:a("justify"),JustifyNone:a("none")})},kY=t=>{const r=a=>()=>{const u=t.selection,f=u.isCollapsed()?[t.dom.getParent(u.getNode(),t.dom.isBlock)]:u.getSelectedBlocks();return cn(f,b=>Re(t.formatter.matchNode(b,a)))};t.editorCommands.addCommands({JustifyLeft:r("alignleft"),JustifyCenter:r("aligncenter"),JustifyRight:r("alignright"),JustifyFull:r("alignjustify")},"state")},$fe=t=>{RY(t),kY(t)},DY=t=>{t.editorCommands.addCommands({"Cut,Copy,Paste":r=>{const a=t.getDoc();let u;try{a.execCommand(r)}catch{u=!0}if(r==="paste"&&!a.queryCommandEnabled(r)&&(u=!0),u||!a.queryCommandSupported(r)){let f=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(xr.os.isMacOS()||xr.os.isiOS())&&(f=f.replace(/Ctrl\+/g,"+")),t.notificationManager.open({text:f,type:"error"})}}})},Ufe=(t,r,a,u)=>{const f=st.fromDom(t.getRoot());return ZI(f,gn.fromRangeStart(r),u)?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),$A(f,gn.fromRangeEnd(r),u)?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},zfe=t=>{if(typeof t!="string"){const r=Jn.extend({paste:t.paste,data:{paste:t.paste}},t);return{content:t.content,details:r}}return{content:t,details:{}}},jfe=(t,r)=>{const a=t.selection,u=t.dom;return/^ | $/.test(r)?Ufe(u,a.getRng(),r,t.schema):r},dk=(t,r)=>{if(t.selection.isEditable()){const{content:a,details:u}=zfe(r);fP(t,{...u,content:jfe(t,a),format:"html",set:!1,selection:!0}).each(f=>{const b=AW(t,f.content,u);pP(t,b,f),t.addVisual()})}},Wfe=t=>{t.editorCommands.addCommands({mceCleanup:()=>{const r=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(r)},insertImage:(r,a,u)=>{dk(t,t.dom.createHTML("img",{src:u}))},insertHorizontalRule:()=>{t.execCommand("mceInsertContent",!1,"<hr>")},insertText:(r,a,u)=>{dk(t,t.dom.encode(u))},insertHTML:(r,a,u)=>{dk(t,u)},mceInsertContent:(r,a,u)=>{dk(t,u)},mceSetContent:(r,a,u)=>{t.setContent(u)},mceReplaceContent:(r,a,u)=>{t.execCommand("mceInsertContent",!1,u.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceNewDocument:()=>{t.setContent(RD(t))}})},MY={"font-size":"size","font-family":"face"},SL=El("font"),Gfe=(t,r,a)=>{const u=b=>yl(b,t).orThunk(()=>SL(b)?No(MY,t).bind(A=>lh(b,A)):ye.none()),f=b=>Lo(st.fromDom(r),b);return Bu(st.fromDom(a),b=>u(b),f)},PY=t=>t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),qfe=(t,r)=>ye.from(yi.DOM.getStyle(r,t,!0)),r5=t=>(r,a)=>ye.from(a).map(st.fromDom).filter(sa).bind(u=>Gfe(t,r,u.dom).or(qfe(t,u.dom))).getOr(""),i5=r5("font-size"),Kfe=ee(PY,r5("font-family")),Zfe=t=>hu(t.getBody()).bind(r=>{const a=r.container();return ye.from(Wn(a)?a.parentNode:a)}),NY=t=>ye.from(t.selection.getRng()).bind(r=>{const a=t.getBody();return r.startContainer===a&&r.startOffset===0?ye.none():ye.from(t.selection.getStart(!0))}),Yfe=(t,r)=>NY(t).orThunk(Xe(Zfe,t)).map(st.fromDom).filter(sa).bind(r),a5=(t,r)=>Yfe(t,ln(ye.some,r)),LY=(t,r)=>{if(/^[0-9.]+$/.test(r)){const a=parseInt(r,10);if(a>=1&&a<=7){const u=tB(t),f=L1(t);return f.length>0?f[a-1]||r:u[a-1]||r}else return r}else return r},Xfe=t=>{const r=t.split(/\s*,\s*/);return vn(r,a=>a.indexOf(" ")!==-1&&!(As(a,'"')||As(a,"'"))?`'${a}'`:a).join(",")},Jfe=(t,r)=>{const a=LY(t,r);t.formatter.toggle("fontname",{value:Xfe(a)}),t.nodeChanged()},BY=t=>a5(t,r=>Kfe(t.getBody(),r.dom)).getOr(""),FY=(t,r)=>{t.formatter.toggle("fontsize",{value:LY(t,r)}),t.nodeChanged()},Qfe=t=>a5(t,r=>i5(t.getBody(),r.dom)).getOr(""),epe=t=>a5(t,r=>{const a=st.fromDom(t.getBody()),u=Bu(r,b=>yl(b,"line-height"),Xe(Lo,a)),f=()=>{const b=parseFloat(Ha(r,"line-height")),A=parseFloat(Ha(r,"font-size"));return String(b/A)};return u.getOrThunk(f)}).getOr(""),tpe=(t,r)=>{t.formatter.toggle("lineheight",{value:String(r)}),t.nodeChanged()},npe=t=>{const r=(a,u)=>{t.formatter.toggle(a,u),t.nodeChanged()};t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":a=>{r(a)},"ForeColor,HiliteColor":(a,u,f)=>{r(a,{value:f})},BackColor:(a,u,f)=>{r("hilitecolor",{value:f})},FontName:(a,u,f)=>{Jfe(t,f)},FontSize:(a,u,f)=>{FY(t,f)},LineHeight:(a,u,f)=>{tpe(t,f)},Lang:(a,u,f)=>{r(a,{value:f.code,customValue:f.customCode??null})},RemoveFormat:a=>{t.formatter.remove(a)},mceBlockQuote:()=>{r("blockquote")},FormatBlock:(a,u,f)=>{r(se(f)?f:"p")},mceToggleFormat:(a,u,f)=>{r(f)}})},s=t=>{const r=a=>t.formatter.match(a);t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":a=>r(a),mceBlockQuote:()=>r("blockquote")},"state"),t.editorCommands.addQueryValueHandler("FontName",()=>BY(t)),t.editorCommands.addQueryValueHandler("FontSize",()=>Qfe(t)),t.editorCommands.addQueryValueHandler("LineHeight",()=>epe(t))},l=t=>{npe(t),s(t)},h=t=>{t.editorCommands.addCommands({mceAddUndoLevel:()=>{t.undoManager.add()},mceEndUndoLevel:()=>{t.undoManager.add()},Undo:()=>{t.undoManager.undo()},Redo:()=>{t.undoManager.redo()}})},g=t=>{t.editorCommands.addCommands({Indent:()=>{BG(t)},Outdent:()=>{yN(t)}}),t.editorCommands.addCommands({Outdent:()=>PG(t),Indent:()=>Xle(t)},"state")},E=t=>{const r=(a,u,f)=>{if(t.mode.isReadOnly())return;const b=se(f)?{href:f}:f,A=t.dom.getParent(t.selection.getNode(),"a");Se(b)&&se(b.href)&&(b.href=b.href.replace(/ /g,"%20").replace(/&amp;/g,"&"),(!A||!b.href)&&t.formatter.remove("link"),b.href&&t.formatter.apply("link",b,A))};t.editorCommands.addCommands({unlink:()=>{if(t.selection.isEditable()){if(t.selection.isCollapsed()){const a=t.dom.getParent(t.selection.getStart(),"a");a&&t.dom.remove(a,!0);return}t.formatter.remove("link")}},mceInsertLink:r,createLink:r})},O=(t,r,a,u)=>{const f=t.dom,b=M=>f.isBlock(M)&&M.parentElement===a,A=b(r)?r:f.getParent(u,b,a);return ye.from(A).map(st.fromDom)},I=(t,r)=>{if(t.mode.isReadOnly())return;const a=t.dom,u=t.selection.getRng(),f=r?t.selection.getStart():t.selection.getEnd(),b=r?u.startContainer:u.endContainer,A=Sx(a,b);if(!A||!A.isContentEditable)return;const M=r?Oc:ih,N=zu(t);O(t,f,A,b).each(G=>{const le=wK(t,b,G.dom,A,!1,N);M(G,st.fromDom(le)),t.selection.setCursorLocation(le,0),t.dispatch("NewBlock",{newBlock:le}),QR(t,"insertParagraph")})},q=t=>I(t,!0),Y=t=>I(t,!1),oe=t=>{t.editorCommands.addCommands({InsertNewBlockBefore:()=>{q(t)},InsertNewBlockAfter:()=>{Y(t)}})},he=t=>{t.editorCommands.addCommands({insertParagraph:()=>{Cx(oU,t)},mceInsertNewLine:(r,a,u)=>{YN(t,u)},InsertLineBreak:(r,a,u)=>{Cx(DK,t)}})},ve=t=>{t.editorCommands.addCommands({mceSelectNodeDepth:(r,a,u)=>{let f=0;t.dom.getParent(t.selection.getNode(),b=>Ho(b)&&f++===u?(t.selection.select(b),!1):!0,t.getBody())},mceSelectNode:(r,a,u)=>{t.selection.select(u)},selectAll:()=>{const r=t.dom.getParent(t.selection.getStart(),au);if(r){const a=t.dom.createRng();a.selectNodeContents(r),t.selection.setRng(a)}}})},Me=t=>{t.editorCommands.addCommands({mceRemoveNode:(r,a,u)=>{const f=u??t.selection.getNode();if(f!==t.getBody()){const b=t.selection.getBookmark();t.dom.remove(f,!0),t.selection.moveToBookmark(b)}},mcePrint:()=>{t.getWin().print()},mceFocus:(r,a,u)=>{Xte(t,u===!0)},mceToggleVisualAid:()=>{t.hasVisual=!t.hasVisual,t.addVisual()}})},Ge=t=>{$fe(t),DY(t),h(t),ve(t),Wfe(t),E(t),g(t),oe(t),he(t),l(t),Me(t)},Ze=["toggleview"],at=t=>xt(Ze,t.toLowerCase());class yt{editor;commands={state:{},exec:{},value:{}};constructor(r){this.editor=r}execCommand(r,a=!1,u,f){const b=this.editor,A=r.toLowerCase(),M=f?.skip_focus;if(b.removed||(A!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(A)&&!M?b.focus():Ute(b)),b.dispatch("BeforeExecCommand",{command:r,ui:a,value:u}).isDefaultPrevented()))return!1;const G=this.commands.exec[A];return _e(G)?(G(A,a,u,f),b.dispatch("ExecCommand",{command:r,ui:a,value:u,args:f}),!0):!1}queryCommandState(r){if(!at(r)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const a=r.toLowerCase(),u=this.commands.state[a];return _e(u)?u(a):!1}queryCommandValue(r){if(!at(r)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const a=r.toLowerCase(),u=this.commands.value[a];return _e(u)?u(a):""}addCommands(r,a="exec"){const u=this.commands;en(r,(f,b)=>{qe(b.toLowerCase().split(","),A=>{u[a][A]=f})})}addCommand(r,a,u){const f=r.toLowerCase();this.commands.exec[f]=(b,A,M,N)=>a.call(u??this.editor,A,M,N)}queryCommandSupported(r){const a=r.toLowerCase();return!!this.commands.exec[a]}addQueryStateHandler(r,a,u){this.commands.state[r.toLowerCase()]=()=>a.call(u??this.editor)}addQueryValueHandler(r,a,u){this.commands.value[r.toLowerCase()]=()=>a.call(u??this.editor)}}const ot=Jn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class _t{static isNative(r){return!!ot[r.toLowerCase()]}settings;scope;toggleEvent;bindings={};constructor(r){this.settings=r||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Dt}fire(r,a){return this.dispatch(r,a)}dispatch(r,a){const u=r.toLowerCase(),f=y1(u,a??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(f);const b=this.bindings[u];if(b)for(let A=0,M=b.length;A<M;A++){const N=b[A];if(!N.removed){if(N.once&&this.off(u,N.func),f.isImmediatePropagationStopped())return f;if(N.func.call(this.scope,f)===!1)return f.preventDefault(),f}}return f}on(r,a,u,f){if(a===!1&&(a=Dt),a){const b={func:a,removed:!1};f&&Jn.extend(b,f);const A=r.toLowerCase().split(" ");let M=A.length;for(;M--;){const N=A[M];let G=this.bindings[N];G||(G=[],this.toggleEvent(N,!0)),u?G=[b,...G]:G=[...G,b],this.bindings[N]=G}}return this}off(r,a){if(r){const u=r.toLowerCase().split(" ");let f=u.length;for(;f--;){const b=u[f];let A=this.bindings[b];if(!b)return en(this.bindings,(M,N)=>{this.toggleEvent(N,!1),delete this.bindings[N]}),this;if(A){if(!a)A.length=0;else{const M=Ft(A,N=>N.func===a);A=M.fail,this.bindings[b]=A,qe(M.pass,N=>{N.removed=!0})}A.length||(this.toggleEvent(r,!1),delete this.bindings[b])}}}else en(this.bindings,(u,f)=>{this.toggleEvent(f,!1)}),this.bindings={};return this}once(r,a,u){return this.on(r,a,u,{once:!0})}has(r){r=r.toLowerCase();const a=this.bindings[r];return!(!a||a.length===0)}}const Lt=t=>(t._eventDispatcher||(t._eventDispatcher=new _t({scope:t,toggleEvent:(r,a)=>{_t.isNative(r)&&t.toggleNativeEvent&&t.toggleNativeEvent(r,a)}})),t._eventDispatcher),an={fire(t,r,a){return D7("fire"),this.dispatch(t,r,a)},dispatch(t,r,a){const u=this;if(u.removed&&t!=="remove"&&t!=="detach")return y1(t.toLowerCase(),r??{},u);const f=Lt(u).dispatch(t,r);if(a!==!1&&u.parent){let b=u.parent();for(;b&&!f.isPropagationStopped();)b.dispatch(t,f,!1),b=b.parent?b.parent():void 0}return f},on(t,r,a){return Lt(this).on(t,r,a)},off(t,r){return Lt(this).off(t,r)},once(t,r){return Lt(this).once(t,r)},hasEventListeners(t){return Lt(this).has(t)}},hn=yi.DOM;let vo;const Vn=(t,r)=>{if(r==="selectionchange")return t.getDoc();if(!t.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(r))return t.getDoc().documentElement;const a=uA(t);return a?(t.eventRoot||(t.eventRoot=hn.select(a)[0]),t.eventRoot):t.getBody()},Qn=t=>!t.hidden&&!R0(t),Gn=(t,r,a)=>{Qn(t)?t.dispatch(r,a):R0(t)&&ASe(t,a)},Es=(t,r)=>{if(t.delegates||(t.delegates={}),t.delegates[r]||t.removed)return;const a=Vn(t,r);if(uA(t)){if(vo||(vo={},t.editorManager.on("removeEditor",()=>{t.editorManager.activeEditor||vo&&(en(vo,(f,b)=>{t.dom.unbind(Vn(t,b))}),vo=null)})),vo[r])return;const u=f=>{const b=f.target,A=t.editorManager.get();let M=A.length;for(;M--;){const N=A[M].getBody();(N===b||hn.isChildOf(b,N))&&Gn(A[M],r,f)}};vo[r]=u,hn.bind(a,r,u)}else{const u=f=>{Gn(t,r,f)};hn.bind(a,r,u),t.delegates[r]=u}},os={...an,bindPendingEventDelegates(){const t=this;Jn.each(t._pendingNativeEvents,r=>{Es(t,r)})},toggleNativeEvent(t,r){const a=this;t==="focus"||t==="blur"||a.removed||(r?a.initialized?Es(a,t):a._pendingNativeEvents?a._pendingNativeEvents.push(t):a._pendingNativeEvents=[t]:a.initialized&&a.delegates&&(a.dom.unbind(Vn(a,t),t,a.delegates[t]),delete a.delegates[t]))},unbindAllNativeEvents(){const t=this,r=t.getBody(),a=t.dom;t.delegates&&(en(t.delegates,(u,f)=>{t.dom.unbind(Vn(t,f),f,u)}),delete t.delegates),!t.inline&&r&&a&&(r.onload=null,a.unbind(t.getWin()),a.unbind(t.getDoc())),a&&(a.unbind(r),a.unbind(t.getContainer()))}},Dr=t=>se(t)?{value:t.split(/[ ,]/),valid:!0}:ct(t,se)?{value:t,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},ks=t=>{const r=(()=>{switch(t){case"array":return Te;case"boolean":return ke;case"function":return _e;case"number":return ut;case"object":return Se;case"string":return se;case"string[]":return Dr;case"object[]":return a=>ct(a,Se);case"regexp":return a=>ce(a,RegExp);default:return un}})();return a=>mo(a,r,`The value must be a ${t}.`)},rr=t=>se(t.processor),ns=(t,r)=>{const a=mc(r.message)?"":`. ${r.message}`;return t+a},Bn=t=>t.valid,mo=(t,r,a="")=>{const u=r(t);return ke(u)?u?{value:t,valid:!0}:{valid:!1,message:a}:u},Ns=(t,r,a)=>{if(!et(r)){const u=mo(r,a);if(Bn(u))return u.value;console.error(ns(`Invalid default value passed for the "${t}" option`,u))}},ir=(t,r,a=r)=>{const u={},f={},b=(Le,Qe,ze)=>{const nt=mo(Qe,ze);return Bn(nt)?(f[Le]=nt.value,!0):(console.warn(ns(`Invalid value passed for the ${Le} option`,nt)),!1)},A=(Le,Qe)=>{const ze=rr(Qe)?ks(Qe.processor):Qe.processor,nt=Ns(Le,Qe.default,ze);u[Le]={...Qe,default:nt,processor:ze},No(f,Le).orThunk(()=>No(r,Le)).each(Bt=>b(Le,Bt,ze))},M=Le=>Xo(u,Le);return{register:A,isRegistered:M,get:Le=>No(f,Le).orThunk(()=>No(u,Le).map(Qe=>Qe.default)).getOrUndefined(),set:(Le,Qe)=>{if(M(Le)){const ze=u[Le];return ze.immutable?(console.error(`"${Le}" is an immutable option and cannot be updated`),!1):b(Le,Qe,ze.processor)}else return console.warn(`"${Le}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:Le=>{const Qe=M(Le);return Qe&&delete f[Le],Qe},isSet:Le=>Xo(f,Le),debug:()=>{try{console.log(JSON.parse(JSON.stringify(a,(Le,Qe)=>ke(Qe)||ut(Qe)||se(Qe)||V(Qe)||Te(Qe)||Ce(Qe)?Qe:Object.prototype.toString.call(Qe))))}catch(Le){console.error(Le)}}}},cs=(t,r)=>{t.dom.contentEditable="true"},tr=(t,r)=>{const a=st.fromDom(t.getBody());r?(t.readonly=!0,t.hasEditableRoot()&&cs(a),YP(t)):(t.readonly=!1,UV(t))},ki=t=>t.readonly,Ci=t=>{const r=t.undoManager.add();Re(r)&&(t.undoManager.undo(),t.undoManager.reset())},Zh=t=>cn(t,r=>r.type==="characterData"||r.type==="childList"),Wa=t=>{const r=u=>{ki(t)&&Zh(u)&&Ci(t)},a=new MutationObserver(r);t.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",u=>{ki(t)&&u.preventDefault()}),t.on("BeforeExecCommand",u=>{(u.command==="Undo"||u.command==="Redo")&&ki(t)&&u.preventDefault()}),t.on("compositionstart",()=>{ki(t)&&a.observe(t.getBody(),{characterData:!0,childList:!0,subtree:!0})}),t.on("compositionend",()=>{if(ki(t)){const u=a.takeRecords();r(u)}a.disconnect()})},Tp=["design","readonly"],mu=(t,r,a,u)=>{const f=a[r.get()],b=a[u];try{b.activate()}catch(A){console.error(`problem while activating editor mode ${u}:`,A);return}f.deactivate(),f.editorReadOnly!==b.editorReadOnly&&tr(t,b.editorReadOnly),r.set(u),M4(t,u)},ug=(t,r,a,u)=>{if(!(u===a.get()||t.initialized&&R0(t))){if(!Xo(r,u))throw new Error(`Editor mode '${u}' is invalid`);t.initialized?mu(t,a,r,u):t.on("init",()=>mu(t,a,r,u))}},Ap=(t,r,a)=>{if(xt(Tp,r))throw new Error(`Cannot override default mode ${r}`);return{...t,[r]:{...a,deactivate:()=>{try{a.deactivate()}catch(u){console.error(`problem while deactivating editor mode ${r}:`,u)}}}}},gv=t=>{const r=zo("design"),a=zo({design:{activate:St,deactivate:St,editorReadOnly:!1},readonly:{activate:St,deactivate:St,editorReadOnly:!0}});return Wa(t),WV(t),{isReadOnly:()=>ki(t),set:u=>ug(t,a.get(),r,u),get:()=>r.get(),register:(u,f)=>{a.set(Ap(a.get(),u,f))}}},B0=Jn.each,Ey=Jn.explode,Ix={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},F0=Jn.makeMap("alt,ctrl,shift,meta,access"),hk=t=>t in F0,l5=t=>{const r={},a=xr.os.isMacOS()||xr.os.isiOS();B0(Ey(t.toLowerCase(),"+"),b=>{hk(b)?r[b]=!0:/^[0-9]{2,}$/.test(b)?r.keyCode=parseInt(b,10):(r.charCode=b.charCodeAt(0),r.keyCode=Ix[b]||b.toUpperCase().charCodeAt(0))});const u=[r.keyCode];let f;for(f in F0)r[f]?u.push(f):r[f]=!1;return r.id=u.join(","),r.access&&(r.alt=!0,a?r.ctrl=!0:r.shift=!0),r.meta&&(a?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r};class k_{editor;shortcuts={};pendingPatterns=[];constructor(r){this.editor=r;const a=this;r.on("keyup keypress keydown",u=>{(a.hasModifier(u)||a.isFunctionKey(u))&&!u.isDefaultPrevented()&&(B0(a.shortcuts,f=>{a.matchShortcut(u,f)&&(a.pendingPatterns=f.subpatterns.slice(0),u.type==="keydown"&&a.executeShortcutAction(f))}),a.matchShortcut(u,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&u.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}add(r,a,u,f){const b=this,A=b.normalizeCommandFunc(u);return B0(Ey(Jn.trim(r)),M=>{const N=b.createShortcut(M,a,A,f);b.shortcuts[N.id]=N}),!0}remove(r){const a=this.createShortcut(r);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1}normalizeCommandFunc(r){const a=this,u=r;return typeof u=="string"?()=>{a.editor.execCommand(u,!1,null)}:Jn.isArray(u)?()=>{a.editor.execCommand(u[0],u[1],u[2])}:u}createShortcut(r,a,u,f){const b=Jn.map(Ey(r,">"),l5);return b[b.length-1]=Jn.extend(b[b.length-1],{func:u,scope:f||this.editor}),Jn.extend(b[0],{desc:this.editor.translate(a),subpatterns:b.slice(1)})}hasModifier(r){return r.altKey||r.ctrlKey||r.metaKey}isFunctionKey(r){return r.type==="keydown"&&r.keyCode>=112&&r.keyCode<=123}matchShortcut(r,a){return!a||a.ctrl!==r.ctrlKey||a.meta!==r.metaKey||a.alt!==r.altKey||a.shift!==r.shiftKey?!1:r.keyCode===a.keyCode||r.charCode&&r.charCode===a.charCode?(r.preventDefault(),!0):!1}executeShortcutAction(r){return r.func?r.func.call(r.scope):null}}const CL=()=>{const t=fue();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,addView:t.addView,addContext:t.addContext,getAll:t.getAll}},V0=yi.DOM,c5=Jn.extend,VY=Jn.each;class EL{baseUri;id;editorUid;plugins={};documentBaseURI;baseURI;contentCSS=[];contentStyles=[];ui;mode;options;editorUpload;userLookup;shortcuts;loadedCSS={};editorCommands;suffix;editorManager;hidden;inline;hasVisual;isNotDirty=!1;annotator;bodyElement;bookmark;composing=!1;container;contentAreaContainer;contentDocument;contentWindow;delegates;destroyed=!1;dom;editorContainer;eventRoot;formatter;formElement;formEventDelegate;hasHiddenInput=!1;iframeElement=null;iframeHTML;initialized=!1;notificationManager;orgDisplay;orgVisibility;parser;quirks;readonly=!1;removed=!1;schema;selection;serializer;startContent="";targetElm;theme;model;undoManager;windowManager;licenseKeyManager;_beforeUnload;_eventDispatcher;_nodeChangeDispatcher;_pendingNativeEvents=[];_selectionOverrides;_skinLoaded=!1;_editableRoot=!0;bindPendingEventDelegates;toggleNativeEvent;unbindAllNativeEvents;fire;dispatch;on;off;once;hasEventListeners;constructor(r,a,u){this.editorManager=u,c5(this,os);const f=this;this.id=r,this.editorUid=td(),this.hidden=!1;const b=IY(u.defaultOptions,a);this.options=ir(f,b,a),hw(f),this.userLookup=bY(this);const A=this.options.get;A("deprecation_warnings")&&Gse(a,b);const M=A("suffix");M&&(u.suffix=M),this.suffix=u.suffix;const N=A("base_url");N&&u._setBaseUrl(N),this.baseUri=u.baseURI;const G=vI(f);G&&(Vl.ScriptLoader._setReferrerPolicy(G),yi.DOM.styleSheetLoader._setReferrerPolicy(G)),Vl.ScriptLoader._setCrossOrigin(Le=>mw(f)(Le,"script")),yi.DOM.styleSheetLoader._setCrossOrigin(Le=>mw(f)(Le,"stylesheet"));const le=Cw(f);Re(le)&&yi.DOM.styleSheetLoader._setContentCssCors(le),$c.languageLoad=A("language_load"),$c.baseURL=u.baseURL,this.setDirty(!1),this.documentBaseURI=new uy(fw(f),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=dA(f),this.hasVisual=Eb(f),this.shortcuts=new k_(this),this.editorCommands=new yt(this),Ge(this);const fe=A("cache_suffix");fe&&(xr.cacheSuffix=fe.replace(/^[\?\&]+/,"")),this.ui={registry:CL(),styleSheetLoader:void 0,show:St,hide:St,setEnabled:St,isEnabled:un},this.mode=gv(f),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),u.dispatch("SetupEditor",{editor:this});const be=TD(f);_e(be)&&be.call(f,f)}render(){QU(this)}focus(r){this.execCommand("mceFocus",!1,r)}hasFocus(){return ng(this)}translate(r){return fp.translate(r)}getParam(r,a,u){const f=this.options;return f.isRegistered(r)||(Re(u)?f.register(r,{processor:u,default:a}):f.register(r,{processor:un,default:a})),!f.isSet(r)&&!et(a)?a:f.get(r)}hasPlugin(r,a){return xt(M1(this),r)?a?I0.get(r)!==void 0:!0:!1}nodeChanged(r){this._nodeChangeDispatcher.nodeChanged(r)}addCommand(r,a,u){this.editorCommands.addCommand(r,a,u)}addQueryStateHandler(r,a,u){this.editorCommands.addQueryStateHandler(r,a,u)}addQueryValueHandler(r,a,u){this.editorCommands.addQueryValueHandler(r,a,u)}addShortcut(r,a,u,f){this.shortcuts.add(r,a,u,f)}execCommand(r,a,u,f){return this.editorCommands.execCommand(r,a,u,f)}queryCommandState(r){return this.editorCommands.queryCommandState(r)}queryCommandValue(r){return this.editorCommands.queryCommandValue(r)}queryCommandSupported(r){return this.editorCommands.queryCommandSupported(r)}show(){const r=this;r.hidden&&(r.hidden=!1,r.inline?r.getBody().contentEditable="true":(V0.show(r.getContainer()),V0.hide(r.id)),r.load(),r.dispatch("show"))}hide(){const r=this;r.hidden||(r.save(),r.inline?(r.getBody().contentEditable="false",r===r.editorManager.focusedEditor&&(r.editorManager.focusedEditor=null)):(V0.hide(r.getContainer()),V0.setStyle(r.id,"display",r.orgDisplay)),r.hidden=!0,r.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(r,a){this.dispatch("ProgressState",{state:r,time:a})}load(r={}){const a=this,u=a.getElement();if(!a.removed&&u){const f={...r,load:!0},b=$E(u)?u.value:u.innerHTML;a.setContent(b,f),f.no_events||a.dispatch("LoadContent",{...f,element:u})}}save(r={}){const a=this;let u=a.getElement();if(!u||!a.initialized||a.removed)return"";const f={...r,save:!0,element:u};let b=a.getContent(f);const A={...f,content:b};if(A.no_events||a.dispatch("SaveContent",A),A.format==="raw"&&a.dispatch("RawSaveContent",A),b=A.content,$E(u))u.value=b;else{(r.is_removing||!a.inline)&&(u.innerHTML=b);const M=V0.getParent(a.id,"form");M&&VY(M.elements,N=>N.name===a.id?(N.value=b,!1):!0)}return A.element=f.element=u=null,A.set_dirty!==!1&&a.setDirty(!1),b}setContent(r,a){IV(this,r,a)}getContent(r){return VC(this,r)}insertContent(r,a){a&&(r=c5({content:r},a)),this.execCommand("mceInsertContent",!1,r)}resetContent(r){r===void 0?IV(this,this.startContent,{initial:!0,format:"raw"}):IV(this,r,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(r){const a=!this.isNotDirty;this.isNotDirty=!r,r&&r!==a&&this.dispatch("dirty")}getContainer(){const r=this;return r.container||(r.container=r.editorContainer||V0.get(r.id+"_parent")),r.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=V0.get(this.id)),this.targetElm}getWin(){const r=this;if(!r.contentWindow){const a=r.iframeElement;a&&(r.contentWindow=a.contentWindow)}return r.contentWindow}getDoc(){const r=this;if(!r.contentDocument){const a=r.getWin();a&&(r.contentDocument=a.document)}return r.contentDocument}getBody(){const r=this.getDoc();return this.bodyElement??r?.body??null}convertURL(r,a,u){const f=this,b=f.options.get,A=xD(f);if(_e(A))return A.call(f,r,u,!0,a);if(!b("convert_urls")||u==="link"||Se(u)&&u.nodeName==="LINK"||r.indexOf("file:")===0||r.length===0)return r;const M=new uy(r);return M.protocol!=="http"&&M.protocol!=="https"&&M.protocol!==""?r:b("relative_urls")?f.documentBaseURI.toRelative(r):(r=f.documentBaseURI.toAbsolute(r,b("remove_script_host")),r)}addVisual(r){s5(this,r)}setEditableRoot(r){SY(this,r)}hasEditableRoot(){return CY(this)}remove(){Qw(this)}destroy(r){FW(this,r)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const QC=yi.DOM,eE=Jn.each;let D_=!1,cS,Df=[];const fk=t=>{const r=t.type;eE(Db.get(),a=>{switch(r){case"scroll":a.dispatch("ScrollWindow",t);break;case"resize":a.dispatch("ResizeWindow",t);break}})},u5=t=>{if(t!==D_){const r=yi.DOM;t?(r.bind(window,"resize",fk),r.bind(window,"scroll",fk)):(r.unbind(window,"resize",fk),r.unbind(window,"scroll",fk)),D_=t}},wL=t=>{const r=Df;return Df=Ve(Df,a=>t!==a),Db.activeEditor===t&&(Db.activeEditor=Df.length>0?Df[0]:null),Db.focusedEditor===t&&(Db.focusedEditor=null),r.length!==Df.length},HY=t=>{t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(wL(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0)},_L=document.compatMode!=="CSS1Compat",Db={...an,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:td(),majorVersion:"8",minorVersion:"2.0",releaseDate:"2025-10-23",i18n:fp,activeEditor:null,focusedEditor:null,setup(){const t=this;let r="",a="",u=uy.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(u)&&(u=u.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(u)||(u+="/"));const f=window.tinymce||window.tinyMCEPreInit;if(f)r=f.base||f.baseURL,a=f.suffix;else{const b=document.getElementsByTagName("script");for(let A=0;A<b.length;A++){const M=b[A].src||"";if(M==="")continue;const N=M.substring(M.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(M)){N.indexOf(".min")!==-1&&(a=".min"),r=M.substring(0,M.lastIndexOf("/"));break}}if(!r&&document.currentScript){const A=document.currentScript.src;A.indexOf(".min")!==-1&&(a=".min"),r=A.substring(0,A.lastIndexOf("/"))}}t.baseURL=new uy(u).toAbsolute(r),t.documentBaseURL=u,t.baseURI=new uy(t.baseURL),t.suffix=a,oSe(t),qe(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],b=>Object.defineProperty(t,b,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(t){const r=t.base_url;r&&this._setBaseUrl(r);const a=t.suffix;a&&(this.suffix=a),this.defaultOptions=t;const u=t.plugin_base_urls;u!==void 0&&en(u,(f,b)=>{$c.PluginManager.urls[b]=f})},init(t){const r=this;let a;const u=Jn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),f=(le,fe)=>le.inline&&fe.tagName.toLowerCase()in u,b=le=>{let fe=le.id;return fe||(fe=No(le,"name").filter(be=>!QC.get(be)).getOrThunk(QC.uniqueId),le.setAttribute("id",fe)),fe},A=le=>{const fe=t[le];if(fe)return fe.apply(r,[])},M=le=>xr.browser.isIE()||xr.browser.isEdge()?(WP("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):_L?(WP("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):se(le.selector)?QC.select(le.selector):Re(le.target)?[le.target]:[];let N=le=>{a=le};const G=()=>{let le=0;const fe=[];let be;const Le=(Qe,ze,nt)=>{const Mt=new EL(Qe,ze,r);fe.push(Mt),Mt.on("init",()=>{++le===be.length&&N(fe)}),Mt.targetElm=Mt.targetElm||nt,Mt.render()};QC.unbind(window,"ready",G),A("onpageload"),be=kt(M(t)),Jn.each(be,Qe=>{HY(r.get(Qe.id))}),be=Jn.grep(be,Qe=>!r.get(Qe.id)),be.length===0?N([]):eE(be,Qe=>{f(t,Qe)?WP("Could not initialize inline editor on invalid inline target element",Qe):Le(b(Qe),t,Qe)})};return QC.bind(window,"ready",G),new Promise(le=>{a?le(a):N=fe=>{le(fe)}})},get(t){return arguments.length===0?Df.slice(0):se(t)?Et(Df,r=>r.id===t).getOr(null):ut(t)&&Df[t]?Df[t]:null},add(t){const r=this,a=r.get(t.id);return a===t||(a===null&&Df.push(t),u5(!0),r.activeEditor=t,r.dispatch("AddEditor",{editor:t}),cS||(cS=u=>{const f=r.dispatch("BeforeUnload");if(f.returnValue)return u.preventDefault(),u.returnValue=f.returnValue,f.returnValue},window.addEventListener("beforeunload",cS))),t},createEditor(t,r){return this.add(new EL(t,r,this))},remove(t){const r=this;let a;if(!t){for(let u=Df.length-1;u>=0;u--)r.remove(Df[u]);return}if(se(t)){eE(QC.select(t),u=>{a=r.get(u.id),a&&r.remove(a)});return}return a=t,V(r.get(a.id))?null:(wL(a)&&r.dispatch("RemoveEditor",{editor:a}),Df.length===0&&window.removeEventListener("beforeunload",cS),a.remove(),u5(Df.length>0),a)},execCommand(t,r,a){const u=this,f=Se(a)?a.id??a.index:a;switch(t){case"mceAddEditor":{if(!u.get(f)){const b=a.options;new EL(f,b,u).render()}return!0}case"mceRemoveEditor":{const b=u.get(f);return b&&b.remove(),!0}case"mceToggleEditor":{const b=u.get(f);return b?(b.isHidden()?b.show():b.hide(),!0):(u.execCommand("mceAddEditor",!1,a),!0)}}return u.activeEditor?u.activeEditor.execCommand(t,r,a):!1},triggerSave:()=>{eE(Df,t=>{t.save()})},addI18n:(t,r)=>{fp.add(t,r)},translate:t=>fp.translate(t),setActive(t){const r=this.activeEditor;this.activeEditor!==t&&(r&&r.dispatch("deactivate",{relatedTarget:t}),t.dispatch("activate",{relatedTarget:r})),this.activeEditor=t},_setBaseUrl(t){this.baseURL=new uy(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new uy(this.baseURL)},_addLicenseKeyManager:t=>$V.add(t)};Db.setup();const Rx=(()=>{const t=Ac(),r=b=>({items:b,types:wt(b),getType:A=>No(b,A).getOrUndefined()}),a=b=>{t.set(b)},u=()=>t.get().getOrUndefined(),f=t.clear;return{FakeClipboardItem:r,write:a,read:u,clear:f}})(),TL=Math.min,nE=Math.max,AL=Math.round,pk=(t,r,a)=>{let u=r.x,f=r.y;const b=t.w,A=t.h,M=r.w,N=r.h,G=(a||"").split("");return G[0]==="b"&&(f+=N),G[1]==="r"&&(u+=M),G[0]==="c"&&(f+=AL(N/2)),G[1]==="c"&&(u+=AL(M/2)),G[3]==="b"&&(f-=A),G[4]==="r"&&(u-=b),G[3]==="c"&&(f-=AL(A/2)),G[4]==="c"&&(u-=AL(b/2)),kx(u,f,b,A)},xL=(t,r,a,u)=>{for(let f=0;f<u.length;f++){const b=pk(t,r,u[f]);if(b.x>=a.x&&b.x+b.w<=a.w+a.x&&b.y>=a.y&&b.y+b.h<=a.h+a.y)return u[f]}return null},ope=(t,r,a)=>kx(t.x-r,t.y-a,t.w+r*2,t.h+a*2),mk=(t,r)=>{const a=nE(t.x,r.x),u=nE(t.y,r.y),f=TL(t.x+t.w,r.x+r.w),b=TL(t.y+t.h,r.y+r.h);return f-a<0||b-u<0?null:kx(a,u,f-a,b-u)},spe=(t,r,a)=>{let u=t.x,f=t.y,b=t.x+t.w,A=t.y+t.h;const M=r.x+r.w,N=r.y+r.h,G=nE(0,r.x-u),le=nE(0,r.y-f),fe=nE(0,b-M),be=nE(0,A-N);return u+=G,f+=le,a&&(b+=G,A+=le,u-=fe,f-=be),b-=fe,A-=be,kx(u,f,b-u,A-f)},kx=(t,r,a,u)=>({x:t,y:r,w:a,h:u}),Dx={inflate:ope,relativePosition:pk,findBestRelativePosition:xL,intersect:mk,clamp:spe,create:kx,fromClientRect:t=>kx(t.left,t.top,t.width,t.height)},rpe=(t,r,a=1e3)=>{let u=!1,f=null;const b=G=>(...le)=>{u||(u=!0,f!==null&&(window.clearTimeout(f),f=null),G.apply(null,le))},A=b(t),M=b(r);return{start:(...G)=>{!u&&f===null&&(f=window.setTimeout(()=>M.apply(null,G),a))},resolve:A,reject:M}},d5=(()=>{const t={},r={},a={};return{load:(N,G)=>{const le=`Script at URL "${G}" failed to load`,fe=`Script at URL "${G}" did not call \`tinymce.Resource.add('${N}', data)\` within 1 second`;if(t[N]!==void 0)return t[N];{const be=new Promise((Le,Qe)=>{const ze=rpe(Le,Qe);r[N]=ze.resolve,Vl.ScriptLoader.loadScript(G).then(()=>ze.start(fe),()=>ze.reject(le))});return t[N]=be,be}},add:(N,G)=>{r[N]!==void 0&&(r[N](G),delete r[N]),t[N]=Promise.resolve(G),a[N]=G},has:N=>N in a,get:N=>a[N],unload:N=>{delete t[N],delete a[N]}}})(),$Y=()=>(()=>{let t={},r=[];const a={getItem:u=>{const f=t[u];return f||null},setItem:(u,f)=>{r.push(u),t[u]=String(f)},key:u=>r[u],removeItem:u=>{r=r.filter(f=>f===u),delete t[u]},clear:()=>{r=[],t={}},length:0};return Object.defineProperty(a,"length",{get:()=>r.length,configurable:!1,enumerable:!1}),a})();let Mx;try{const t="__storage_test__";Mx=window.localStorage,Mx.setItem(t,t),Mx.removeItem(t)}catch{Mx=$Y()}var ape=Mx;const H0={geom:{Rect:Dx},util:{Delay:tg,Tools:Jn,VK:ko,URI:uy,EventDispatcher:_t,Observable:an,I18n:fp,LocalStorage:ape,ImageUploader:s9},dom:{EventUtils:hp,TreeWalker:Yi,TextSeeker:sm,DOMUtils:yi,ScriptLoader:Vl,RangeUtils:_0,Serializer:$P,StyleSheetLoader:$d,ControlSelection:oj,BookmarkManager:Hw,Selection:_V,Event:hp.Event},html:{Styles:mb,Entities:Gv,Node:yh,Schema:Sf,DomParser:Yw,Writer:Ene,Serializer:jw},Env:xr,AddOnManager:$c,Annotator:RB,Formatter:c9,UndoManager:TR,EditorCommands:yt,WindowManager:py,NotificationManager:MV,EditorObservable:os,Shortcuts:k_,Editor:EL,FocusManager:Jz,EditorManager:Db,DOM:yi.DOM,ScriptLoader:Vl.ScriptLoader,PluginManager:I0,ThemeManager:e_,ModelManager:tx,IconManager:UP,Resource:d5,FakeClipboard:Rx,trim:Jn.trim,isArray:Jn.isArray,is:Jn.is,toArray:Jn.toArray,makeMap:Jn.makeMap,each:Jn.each,map:Jn.map,grep:Jn.grep,inArray:Jn.inArray,extend:Jn.extend,walk:Jn.walk,resolve:Jn.resolve,explode:Jn.explode,_addCacheSuffix:Jn._addCacheSuffix},M_=Jn.extend(Db,H0),UY=t=>{try{e.exports=t}catch{}};(t=>{window.tinymce=t,window.tinyMCE=t})(M_),UY(M_)})()})(oge)),oge.exports}var MXe=DXe();const PXe=m4(MXe);var xIe={},OIe={},IIe;function NXe(){return IIe||(IIe=1,tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-gear-properties":'<svg height="24" width="24"><path d="M17.3 14.5a7.1 7.1 0 0 1 1.2.6l1.5-.5 1 1.8-1.2 1V18.7l1.2 1-1 1.6-1.5-.4a4.5 4.5 0 0 1-.6.3 7.1 7.1 0 0 1-.6.3L17 23h-2l-.3-1.5a7.4 7.4 0 0 1-.6-.3 4.5 4.5 0 0 1-.6-.3l-1.5.5-1-1.8 1.2-1a3.9 3.9 0 0 1 0-.6v-.7l-1.2-1 1-1.6 1.5.4a4.5 4.5 0 0 1 1.2-.6L15 13h2zM16 16a2 2 0 0 0-1.5.6A1.9 1.9 0 0 0 14 18c0 .6.2 1 .6 1.4s1 .6 1.5.6 1-.2 1.5-.6.6-.8.6-1.4-.2-1-.6-1.4A2 2 0 0 0 16 16z" fill-rule="evenodd"/><path d="M19 7.6V12h-2V9h-4V5H7v14h3v2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7.4z"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})),OIe}var RIe;function LXe(){return RIe||(RIe=1,NXe()),xIe}LXe();var kIe={},DIe={},MIe;function BXe(){return MIe||(MIe=1,(function(){const e=Object.getPrototypeOf,n=(s,l,h)=>h(s,l.prototype)?!0:s.constructor?.name===l.name,o=s=>{const l=typeof s;return s===null?"null":l==="object"&&Array.isArray(s)?"array":l==="object"&&n(s,String,(h,g)=>g.isPrototypeOf(h))?"string":l},i=s=>l=>o(l)===s,c=s=>l=>typeof l===s,d=s=>l=>s===l,p=(s,l)=>S(s)&&n(s,l,(h,g)=>e(h)===g),v=i("string"),S=i("object"),_=s=>p(s,Object),x=i("array"),P=d(null),B=c("boolean"),H=d(void 0),U=s=>s==null,z=s=>!U(s),Z=c("function"),te=c("number"),ce=(s,l)=>{if(x(s)){for(let h=0,g=s.length;h<g;++h)if(!l(s[h]))return!1;return!0}return!1},se=()=>{},Se=s=>()=>s(),Ce=(s,l)=>(...h)=>s(l.apply(null,h)),Te=(s,l)=>h=>s(l(h)),V=s=>()=>s,ke=s=>s,et=(s,l)=>s===l;function $e(s,...l){return(...h)=>{const g=l.concat(h);return s.apply(null,g)}}const Re=s=>l=>!s(l),_e=s=>()=>{throw new Error(s)},ut=s=>s(),ct=V(!1),St=V(!0);class ee{tag;value;static singletonNone=new ee(!1);constructor(l,h){this.tag=l,this.value=h}static some(l){return new ee(!0,l)}static none(){return ee.singletonNone}fold(l,h){return this.tag?h(this.value):l()}isSome(){return this.tag}isNone(){return!this.tag}map(l){return this.tag?ee.some(l(this.value)):ee.none()}bind(l){return this.tag?l(this.value):ee.none()}exists(l){return this.tag&&l(this.value)}forall(l){return!this.tag||l(this.value)}filter(l){return!this.tag||l(this.value)?this:ee.none()}getOr(l){return this.tag?this.value:l}or(l){return this.tag?this:l}getOrThunk(l){return this.tag?this.value:l()}orThunk(l){return this.tag?this:l()}getOrDie(l){if(this.tag)return this.value;throw new Error(l??"Called getOrDie on None")}static from(l){return z(l)?ee.some(l):ee.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(l){this.tag&&l(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ln=Array.prototype.slice,it=Array.prototype.indexOf,Ht=Array.prototype.push,Ut=(s,l)=>it.call(s,l),Xe=(s,l)=>{const h=Ut(s,l);return h===-1?ee.none():ee.some(h)},tn=(s,l)=>Ut(s,l)>-1,eo=(s,l)=>{for(let h=0,g=s.length;h<g;h++){const E=s[h];if(l(E,h))return!0}return!1},In=(s,l)=>{const h=[];for(let g=0;g<s;g++)h.push(l(g));return h},mn=(s,l)=>{const h=[];for(let g=0;g<s.length;g+=l){const E=ln.call(s,g,g+l);h.push(E)}return h},Dt=(s,l)=>{const h=s.length,g=new Array(h);for(let E=0;E<h;E++){const O=s[E];g[E]=l(O,E)}return g},un=(s,l)=>{for(let h=0,g=s.length;h<g;h++){const E=s[h];l(E,h)}},ye=(s,l)=>{for(let h=s.length-1;h>=0;h--){const g=s[h];l(g,h)}},ms=(s,l)=>{const h=[],g=[];for(let E=0,O=s.length;E<O;E++){const I=s[E];(l(I,E)?h:g).push(I)}return{pass:h,fail:g}},Vo=(s,l)=>{const h=[];for(let g=0,E=s.length;g<E;g++){const O=s[g];l(O,g)&&h.push(O)}return h},Eo=(s,l,h)=>(ye(s,(g,E)=>{h=l(h,g,E)}),h),Oo=(s,l,h)=>(un(s,(g,E)=>{h=l(h,g,E)}),h),Zn=(s,l,h)=>{for(let g=0,E=s.length;g<E;g++){const O=s[g];if(l(O,g))return ee.some(O);if(h(O,g))break}return ee.none()},xt=(s,l)=>Zn(s,l,ct),cn=(s,l)=>{for(let h=0,g=s.length;h<g;h++){const E=s[h];if(l(E,h))return ee.some(h)}return ee.none()},vn=s=>{const l=[];for(let h=0,g=s.length;h<g;++h){if(!x(s[h]))throw new Error("Arr.flatten item "+h+" was not an array, input: "+s);Ht.apply(l,s[h])}return l},qe=(s,l)=>vn(Dt(s,l)),pt=(s,l)=>{for(let h=0,g=s.length;h<g;++h){const E=s[h];if(l(E,h)!==!0)return!1}return!0},Ft=s=>{const l=ln.call(s,0);return l.reverse(),l},Ve=(s,l)=>Vo(s,h=>!tn(l,h)),Ot=(s,l)=>{const h={};for(let g=0,E=s.length;g<E;g++){const O=s[g];h[String(O)]=l(O,g)}return h},Nt=s=>[s],Gt=(s,l)=>{const h=ln.call(s,0);return h.sort(l),h},Tt=(s,l)=>l>=0&&l<s.length?ee.some(s[l]):ee.none(),Et=s=>Tt(s,0),Yn=s=>Tt(s,s.length-1),fo=Z(Array.from)?Array.from:s=>ln.call(s),ro=(s,l)=>{for(let h=0;h<s.length;h++){const g=l(s[h],h);if(g.isSome())return g}return ee.none()},io=Object.keys,no=Object.hasOwnProperty,_s=(s,l)=>{const h=io(s);for(let g=0,E=h.length;g<E;g++){const O=h[g],I=s[O];l(I,O)}},Wo=(s,l)=>Bs(s,(h,g)=>({k:g,v:l(h,g)})),Bs=(s,l)=>{const h={};return _s(s,(g,E)=>{const O=l(g,E);h[O.k]=O.v}),h},Pn=s=>(l,h)=>{s[h]=l},xe=(s,l,h,g)=>{_s(s,(E,O)=>{(l(E,O)?h:g)(E,O)})},je=(s,l)=>{const h={},g={};return xe(s,l,Pn(h),Pn(g)),{t:h,f:g}},rt=(s,l)=>{const h={};return xe(s,l,Pn(h),se),h},Je=(s,l)=>{const h=[];return _s(s,(g,E)=>{h.push(l(g,E))}),h},Pt=(s,l)=>{const h=io(s);for(let g=0,E=h.length;g<E;g++){const O=h[g],I=s[O];if(l(I,O,s))return ee.some(I)}return ee.none()},kt=s=>Je(s,ke),wt=(s,l)=>Zt(s,l)?ee.from(s[l]):ee.none(),Zt=(s,l)=>no.call(s,l),en=(s,l)=>Zt(s,l)&&s[l]!==void 0&&s[l]!==null,sn={generate:s=>{if(!x(s))throw new Error("cases must be an array");if(s.length===0)throw new Error("there must be at least one case");const l=[],h={};return un(s,(g,E)=>{const O=io(g);if(O.length!==1)throw new Error("one and only one name per case");const I=O[0],q=g[I];if(h[I]!==void 0)throw new Error("duplicate key detected:"+I);if(I==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(q))throw new Error("case arguments must be an array");l.push(I),h[I]=(...Y)=>{const oe=Y.length;if(oe!==q.length)throw new Error("Wrong number of arguments to case "+I+". Expected "+q.length+" ("+q+"), got "+oe);return{fold:(...ve)=>{if(ve.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+ve.length);return ve[E].apply(null,Y)},match:ve=>{const Me=io(ve);if(l.length!==Me.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+Me.join(","));if(!pt(l,Ze=>tn(Me,Ze)))throw new Error("Not all branches were specified when using match. Specified: "+Me.join(", ")+`
Required: `+l.join(", "));return ve[I].apply(null,Y)},log:ve=>{console.log(ve,{constructors:l,constructor:I,params:Y})}}}}),h}},Wt=s=>{let l=s;return{get:()=>l,set:E=>{l=E}}},_o=s=>{let l=ee.none(),h=[];const g=oe=>_o(he=>{E(ve=>{he(oe(ve))})}),E=oe=>{I()?Y(oe):h.push(oe)},O=oe=>{I()||(l=ee.some(oe),q(h),h=[])},I=()=>l.isSome(),q=oe=>{un(oe,Y)},Y=oe=>{l.each(he=>{setTimeout(()=>{oe(he)},0)})};return s(O),{get:E,map:g,isReady:I}},Cs={nu:_o,pure:s=>_o(l=>{l(s)})},Hs=s=>{setTimeout(()=>{throw s},0)},or=s=>{const l=Y=>{s().then(Y,Hs)};return{map:Y=>or(()=>s().then(Y)),bind:Y=>or(()=>s().then(oe=>Y(oe).toPromise())),anonBind:Y=>or(()=>s().then(()=>Y.toPromise())),toLazy:()=>Cs.nu(l),toCached:()=>{let Y=null;return or(()=>(Y===null&&(Y=s()),Y))},toPromise:s,get:l}},es={nu:s=>or(()=>new Promise(s)),pure:s=>or(()=>Promise.resolve(s))},Ma=s=>{const l=O=>O(s),h=V(s),g=()=>E,E={tag:!0,inner:s,fold:(O,I)=>I(s),isValue:St,isError:ct,map:O=>zo.value(O(s)),mapError:g,bind:l,exists:l,forall:l,getOr:h,or:g,getOrThunk:h,orThunk:g,getOrDie:h,each:O=>{O(s)},toOptional:()=>ee.some(s)};return E},kl=s=>{const l=()=>h,h={tag:!1,inner:s,fold:(g,E)=>g(s),isValue:ct,isError:St,map:l,mapError:g=>zo.error(g(s)),bind:l,exists:ct,forall:St,getOr:ke,or:ke,getOrThunk:ut,orThunk:ut,getOrDie:_e(String(s)),each:se,toOptional:ee.none};return h},zo={value:Ma,error:kl,fromOption:(s,l)=>s.fold(()=>kl(l),Ma)},il=s=>({...s,toCached:()=>il(s.toCached()),bindFuture:Y=>il(s.bind(oe=>oe.fold(he=>es.pure(zo.error(he)),he=>Y(he)))),bindResult:Y=>il(s.map(oe=>oe.bind(Y))),mapResult:Y=>il(s.map(oe=>oe.map(Y))),mapError:Y=>il(s.map(oe=>oe.mapError(Y))),foldResult:(Y,oe)=>s.map(he=>he.fold(Y,oe)),withTimeout:(Y,oe)=>il(es.nu(he=>{let ve=!1;const Me=setTimeout(()=>{ve=!0,he(zo.error(oe()))},Y);s.get(Ge=>{ve||(clearTimeout(Me),he(Ge))})}))}),da=s=>il(es.nu(s)),Qu=s=>il(es.pure(zo.value(s))),Id={nu:da,wrap:il,pure:Qu,value:Qu,error:s=>il(es.pure(zo.error(s))),fromResult:s=>il(es.pure(s)),fromFuture:s=>il(s.map(zo.value)),fromPromise:s=>da(l=>{s.then(h=>{l(zo.value(h))},h=>{l(zo.error(h))})})},ed=typeof window<"u"?window:Function("return this;")(),Xc=(s,l,h,g)=>{const E=s+l;return E>g?h:E<h?g:E},pl=(s,l,h)=>Math.min(Math.max(s,l),h),td=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Rd=0;const wo=s=>{const h=new Date().getTime(),g=Math.floor(td()*1e9);return Rd++,s+"_"+g+Rd+String(h)},Zf=(s,l)=>l,th=(s,l)=>_(s)&&_(l)?Xr(s,l):l,xh=s=>(...l)=>{if(l.length===0)throw new Error("Can't merge zero objects");const h={};for(let g=0;g<l.length;g++){const E=l[g];for(const O in E)Zt(E,O)&&(h[O]=s(h[O],E[O]))}return h},Xr=xh(th),Oh=xh(Zf),Pc=(s,l,h=et)=>s.exists(g=>h(g,l)),Ar=(s,l,h=et)=>Tc(s,l,h).getOr(s.isNone()&&l.isNone()),Au=s=>{const l=[],h=g=>{l.push(g)};for(let g=0;g<s.length;g++)s[g].each(h);return l},nh=s=>{const l=[];for(let h=0;h<s.length;h++){const g=s[h];if(g.isSome())l.push(g.getOrDie());else return ee.none()}return ee.some(l)},Tc=(s,l,h)=>s.isSome()&&l.isSome()?ee.some(h(s.getOrDie(),l.getOrDie())):ee.none(),Fi=(s,l,h,g)=>s.isSome()&&l.isSome()&&h.isSome()?ee.some(g(s.getOrDie(),l.getOrDie(),h.getOrDie())):ee.none(),pc=(s,l)=>s!=null?ee.some(l(s)):ee.none(),al=(s,l)=>s?ee.some(l):ee.none(),Vp=s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Tm=(s,l)=>{let h=l??ed;for(let g=0;g<s.length&&h!==void 0&&h!==null;++g)h=h[s[g]];return h},Ac=(s,l)=>{const h=s.split(".");return Tm(h,l)};sn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Jc=s=>{const l=[],h=[];return un(s,g=>{g.fold(E=>{l.push(E)},E=>{h.push(E)})}),{errors:l,values:h}},xu=s=>{const l=Wt(ee.none()),h=()=>l.get().each(s);return{clear:()=>{h(),l.set(ee.none())},isSet:()=>l.get().isSome(),get:()=>l.get(),set:q=>{h(),l.set(ee.some(q))}}},Ih=()=>xu(s=>s.destroy()),na=()=>xu(s=>s.unbind()),As=()=>{const s=xu(se);return{...s,on:h=>s.get().each(h)}},Wi=(s,l)=>s+l,Dl=(s,l)=>s.substring(l),Br=(s,l,h)=>l===""||s.length>=l.length&&s.substr(h,h+l.length)===l,oh=(s,l)=>mc(s,l)?Dl(s,l.length):s,Yf=(s,l)=>Nc(s,l)?s:Wi(s,l),gi=(s,l,h=0,g)=>{const E=s.indexOf(l,h);return E!==-1?H(g)?!0:E+l.length<=g:!1},mc=(s,l)=>Br(s,l,0),Nc=(s,l)=>Br(s,l,s.length-l.length),yo=(s=>l=>l.replace(s,""))(/^\s+|\s+$/g),Ou=s=>s.length>0,Ml=s=>!Ou(s),gc=s=>{const l=parseFloat(s);return isNaN(l)?ee.none():ee.some(l)},Pi=(s,l)=>{let h=null,g=null;return{cancel:()=>{P(h)||(clearTimeout(h),h=null,g=null)},throttle:(...I)=>{g=I,P(h)&&(h=setTimeout(()=>{const q=g;h=null,g=null,s.apply(null,q)},l))}}},Am=(s,l)=>{let h=null;return{cancel:()=>{P(h)||(clearTimeout(h),h=null)},throttle:(...O)=>{P(h)&&(h=setTimeout(()=>{h=null,s.apply(null,O)},l))}}},zl=(s,l)=>{let h=null;const g=()=>{P(h)||(clearTimeout(h),h=null)};return{cancel:g,throttle:(...O)=>{g(),h=setTimeout(()=>{h=null,s.apply(null,O)},l)}}},Qc=s=>{let l=!1,h;return(...g)=>(l||(l=!0,h=s.apply(null,g)),h)},Xf="\uFEFF",sf="",nd=(s,l)=>{const g=(l||document).createElement("div");if(g.innerHTML=s,!g.hasChildNodes()||g.childNodes.length>1){const E="HTML does not have a single root node";throw console.error(E,s),new Error(E)}return Dd(g.childNodes[0])},Jf=(s,l)=>{const g=(l||document).createElement(s);return Dd(g)},kd=(s,l)=>{const g=(l||document).createTextNode(s);return Dd(g)},Dd=s=>{if(s==null)throw new Error("Node cannot be null or undefined");return{dom:s}},po={fromHtml:nd,fromTag:Jf,fromText:kd,fromDom:Dd,fromPoint:(s,l,h)=>ee.from(s.dom.elementFromPoint(l,h)).map(Dd)},Iu=(s,l)=>{l.fold(h=>{s.setStartBefore(h.dom)},(h,g)=>{s.setStart(h.dom,g)},h=>{s.setStartAfter(h.dom)})},Rh=(s,l)=>{l.fold(h=>{s.setEndBefore(h.dom)},(h,g)=>{s.setEnd(h.dom,g)},h=>{s.setEndAfter(h.dom)})},He=(s,l,h)=>{const g=s.document.createRange();return Iu(g,l),Rh(g,h),g},ft=(s,l,h,g,E)=>{const O=s.document.createRange();return O.setStart(l.dom,h),O.setEnd(g.dom,E),O},jt=s=>({left:s.left,top:s.top,right:s.right,bottom:s.bottom,width:s.width,height:s.height}),Tn=s=>{const l=s.getClientRects(),h=l.length>0?l[0]:s.getBoundingClientRect();return h.width>0||h.height>0?ee.some(h).map(jt):ee.none()},go=s=>{const l=s.getBoundingClientRect();return l.width>0||l.height>0?ee.some(l).map(jt):ee.none()},jo=sn.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),pr=(s,l,h)=>l(po.fromDom(h.startContainer),h.startOffset,po.fromDom(h.endContainer),h.endOffset),js=(s,l)=>l.match({domRange:h=>({ltr:V(h),rtl:ee.none}),relative:(h,g)=>({ltr:Qc(()=>He(s,h,g)),rtl:Qc(()=>ee.some(He(s,g,h)))}),exact:(h,g,E,O)=>({ltr:Qc(()=>ft(s,h,g,E,O)),rtl:Qc(()=>ee.some(ft(s,E,O,h,g)))})}),Tr=(s,l)=>{const h=l.ltr();return h.collapsed?l.rtl().filter(E=>E.collapsed===!1).map(E=>jo.rtl(po.fromDom(E.endContainer),E.endOffset,po.fromDom(E.startContainer),E.startOffset)).getOrThunk(()=>pr(s,jo.ltr,h)):pr(s,jo.ltr,h)},we=(s,l)=>{const h=js(s,l);return Tr(s,h)},We=(s,l)=>we(s,l).match({ltr:(g,E,O,I)=>{const q=s.document.createRange();return q.setStart(g.dom,E),q.setEnd(O.dom,I),q},rtl:(g,E,O,I)=>{const q=s.document.createRange();return q.setStart(O.dom,I),q.setEnd(g.dom,E),q}});jo.ltr,jo.rtl;const mt=9,Cn=11,qo=1,Ws=3,L=(s,l)=>{const h=s.dom;if(h.nodeType!==qo)return!1;{const g=h;if(g.matches!==void 0)return g.matches(l);if(g.msMatchesSelector!==void 0)return g.msMatchesSelector(l);if(g.webkitMatchesSelector!==void 0)return g.webkitMatchesSelector(l);if(g.mozMatchesSelector!==void 0)return g.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")}},X=s=>s.nodeType!==qo&&s.nodeType!==mt&&s.nodeType!==Cn||s.childElementCount===0,de=(s,l)=>{const h=l===void 0?document:l.dom;return X(h)?[]:Dt(h.querySelectorAll(s),po.fromDom)},ge=(s,l)=>{const h=l===void 0?document:l.dom;return X(h)?ee.none():ee.from(h.querySelector(s)).map(po.fromDom)},Ie=(s,l)=>s.dom===l.dom,Be=(s,l)=>{const h=s.dom,g=l.dom;return h===g?!1:h.contains(g)},Ke=(s,l,h,g)=>{const E=s.isiOS()&&/ipad/i.test(h)===!0,O=s.isiOS()&&!E,I=s.isiOS()||s.isAndroid(),q=I||g("(pointer:coarse)"),Y=E||!O&&I&&g("(min-device-width:768px)"),oe=O||I&&!Y,he=l.isSafari()&&s.isiOS()&&/safari/i.test(h)===!1,ve=!oe&&!Y&&!he;return{isiPad:V(E),isiPhone:V(O),isTablet:V(Y),isPhone:V(oe),isTouch:V(q),isAndroid:s.isAndroid,isiOS:s.isiOS,isWebView:V(he),isDesktop:V(ve)}},Vt=(s,l)=>{for(let h=0;h<s.length;h++){const g=s[h];if(g.test(l))return g}},It=(s,l)=>{const h=Vt(s,l);if(!h)return{major:0,minor:0};const g=E=>Number(l.replace(h,"$"+E));return co(g(1),g(2))},rn=(s,l)=>{const h=String(l).toLowerCase();return s.length===0?Hn():It(s,h)},Hn=()=>co(0,0),co=(s,l)=>({major:s,minor:l}),Rn={nu:co,detect:rn,unknown:Hn},Ko=(s,l)=>ro(l.brands,h=>{const g=h.brand.toLowerCase();return xt(s,E=>g===E.brand?.toLowerCase()).map(E=>({current:E.name,version:Rn.nu(parseInt(h.version,10),0)}))}),kr=(s,l)=>{const h=String(l).toLowerCase();return xt(s,g=>g.search(h))},wi=(s,l)=>kr(s,l).map(h=>{const g=Rn.detect(h.versionRegexes,l);return{current:h.name,version:g}}),Wr=(s,l)=>kr(s,l).map(h=>{const g=Rn.detect(h.versionRegexes,l);return{current:h.name,version:g}}),jl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,wa=s=>l=>gi(l,s),od=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:s=>gi(s,"edge/")&&gi(s,"chrome")&&gi(s,"safari")&&gi(s,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,jl],search:s=>gi(s,"chrome")&&!gi(s,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:s=>gi(s,"msie")||gi(s,"trident")},{name:"Opera",versionRegexes:[jl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:wa("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:wa("firefox")},{name:"Safari",versionRegexes:[jl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:s=>(gi(s,"safari")||gi(s,"mobile/"))&&gi(s,"applewebkit")}],sh=[{name:"Windows",search:wa("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:s=>gi(s,"iphone")||gi(s,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:wa("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:wa("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:wa("linux"),versionRegexes:[]},{name:"Solaris",search:wa("sunos"),versionRegexes:[]},{name:"FreeBSD",search:wa("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:wa("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],vi={browsers:V(od),oses:V(sh)},yc="Edge",Vi="Chromium",ml="IE",Hp="Opera",Md="Firefox",kh="Safari",Og=()=>sd({current:void 0,version:Rn.unknown()}),sd=s=>{const l=s.current,h=s.version,g=E=>()=>l===E;return{current:l,version:h,isEdge:g(yc),isChromium:g(Vi),isIE:g(ml),isOpera:g(Hp),isFirefox:g(Md),isSafari:g(kh)}},eu={unknown:Og,nu:sd},Qf="Windows",rd="iOS",Ig="Android",bc="Linux",Pl="macOS",rf="Solaris",Uy="FreeBSD",xr="ChromeOS",Zi=()=>$p({current:void 0,version:Rn.unknown()}),$p=s=>{const l=s.current,h=s.version,g=E=>()=>l===E;return{current:l,version:h,isWindows:g(Qf),isiOS:g(rd),isAndroid:g(Ig),isMacOS:g(Pl),isLinux:g(bc),isSolaris:g(rf),isFreeBSD:g(Uy),isChromeOS:g(xr)}},_i={unknown:Zi,nu:$p},af={detect:(s,l,h)=>{const g=vi.browsers(),E=vi.oses(),O=l.bind(Y=>Ko(g,Y)).orThunk(()=>wi(g,s)).fold(eu.unknown,eu.nu),I=Wr(E,s).fold(_i.unknown,_i.nu),q=Ke(I,O,s,h);return{browser:O,os:I,deviceType:q}}},HS=s=>window.matchMedia(s).matches;let lf=Qc(()=>af.detect(window.navigator.userAgent,ee.from(window.navigator.userAgentData),HS));const Gi=()=>lf(),tu=(s,l)=>Ac(s,l),Pd=(s,l)=>{const h=tu(s,l);if(h==null)throw new Error(s+" not available on this browser");return h},Jn=Object.getPrototypeOf,Wl=s=>Pd("HTMLElement",s),Dh=s=>{const l=Ac("ownerDocument.defaultView",s);return S(s)&&(Wl(l).prototype.isPrototypeOf(s)||/^HTML\w*Element$/.test(Jn(s).constructor.name))},nu=s=>s.dom.nodeName.toLowerCase(),tp=s=>s.dom.nodeType,zy=s=>l=>tp(l)===s,st=s=>xc(s)&&Dh(s.dom),xc=zy(qo),Mh=zy(Ws),jy=zy(mt),ou=zy(Cn),ec=s=>l=>xc(l)&&nu(l)===s,vt=s=>po.fromDom(s.dom.ownerDocument),Jt=s=>jy(s)?s:vt(s),kn=s=>po.fromDom(Jt(s).dom.documentElement),Ln=s=>po.fromDom(Jt(s).dom.defaultView),to=s=>ee.from(s.dom.parentNode).map(po.fromDom),ds=s=>to(s),ys=s=>ee.from(s.dom.parentElement).map(po.fromDom),Js=(s,l)=>{const h=Z(l)?l:ct;let g=s.dom;const E=[];for(;g.parentNode!==null&&g.parentNode!==void 0;){const O=g.parentNode,I=po.fromDom(O);if(E.push(I),h(I)===!0)break;g=O}return E},xs=s=>ee.from(s.dom.offsetParent).map(po.fromDom),mr=s=>ee.from(s.dom.previousSibling).map(po.fromDom),Or=s=>ee.from(s.dom.nextSibling).map(po.fromDom),vr=s=>Dt(s.dom.childNodes,po.fromDom),Ur=(s,l)=>{const h=s.dom.childNodes;return ee.from(h[l]).map(po.fromDom)},Lo=s=>Ur(s,0),Qr=(s,l)=>({element:s,offset:l}),Cl=(s,l)=>{const h=vr(s);return h.length>0&&l<h.length?Qr(h[l],0):Qr(s,l)},tc=(s,l,h,g)=>{const O=vt(s).dom.createRange();return O.setStart(s.dom,l),O.setEnd(h.dom,g),O},Us=(s,l,h,g)=>{const E=tc(s,l,h,g),O=Ie(s,h)&&l===g;return E.collapsed&&!O},Nl=s=>ou(s)&&z(s.dom.host),oa=s=>po.fromDom(s.dom.getRootNode()),Za=s=>Nl(s)?s:po.fromDom(Jt(s).dom.body),Ph=s=>sa(s).isSome(),sa=s=>{const l=oa(s);return Nl(l)?ee.some(l):ee.none()},ei=s=>po.fromDom(s.dom.host),Zb=s=>{if(z(s.target)){const l=po.fromDom(s.target);if(xc(l)&&RE(l)&&s.composed&&s.composedPath){const h=s.composedPath();if(h)return Et(h)}}return ee.from(s.target)},RE=s=>z(s.dom.shadowRoot),El=(s,l,h,g,E,O,I)=>({target:s,x:l,y:h,stop:g,prevent:E,kill:O,raw:I}),nc=s=>{const l=po.fromDom(Zb(s).getOr(s.target)),h=()=>s.stopPropagation(),g=()=>s.preventDefault(),E=Ce(g,h);return El(l,s.clientX,s.clientY,h,g,E,s)},su=(s,l)=>h=>{s(h)&&l(nc(h))},wl=(s,l,h,g,E)=>{const O=su(h,g);return s.dom.addEventListener(l,O,E),{unbind:$e(ku,s,l,O,E)}},Nh=(s,l,h,g)=>wl(s,l,h,g,!1),Ru=(s,l,h,g)=>wl(s,l,h,g,!0),ku=(s,l,h,g)=>{s.dom.removeEventListener(l,h,g)},Lc=St,si=(s,l,h)=>Nh(s,l,Lc,h),Nd=(s,l,h)=>Ru(s,l,Lc,h),Du=nc,Gl=()=>po.fromDom(document),ra=(s,l=!1)=>s.dom.focus({preventScroll:l}),yr=s=>s.dom.blur(),Lh=s=>{const l=oa(s).dom;return s.dom===l.activeElement},ql=(s=Gl())=>ee.from(s.dom.activeElement).map(po.fromDom),Ya=s=>ql(oa(s)).filter(l=>s.dom.contains(l.dom)),cf=(s,l)=>{to(s).each(g=>{g.dom.insertBefore(l.dom,s.dom)})},ll=(s,l)=>{Or(s).fold(()=>{to(s).each(E=>{oc(E,l)})},g=>{cf(g,l)})},Wy=(s,l)=>{Lo(s).fold(()=>{oc(s,l)},g=>{s.dom.insertBefore(l.dom,g.dom)})},oc=(s,l)=>{s.dom.appendChild(l.dom)},Yb=(s,l,h)=>{Ur(s,h).fold(()=>{oc(s,l)},g=>{cf(g,l)})},br=(s,l)=>{un(l,h=>{oc(s,h)})},xm=(s,l,h)=>{if(v(h)||B(h)||te(h))s.setAttribute(l,h+"");else throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",h,":: Element ",s),new Error("Attribute value was not simple")},gs=(s,l,h)=>{xm(s.dom,l,h)},a1=(s,l)=>{const h=s.dom;_s(l,(g,E)=>{xm(h,E,g)})},gl=(s,l)=>{const h=s.dom.getAttribute(l);return h===null?void 0:h},lr=(s,l)=>ee.from(gl(s,l)),Ll=(s,l)=>{const h=s.dom;return h&&h.hasAttribute?h.hasAttribute(l):!1},ia=(s,l)=>{s.dom.removeAttribute(l)},Om=s=>Oo(s.dom.attributes,(l,h)=>(l[h.name]=h.value,l),{}),Xb=s=>{s.dom.textContent="",un(vr(s),l=>{Ld(l)})},Ld=s=>{const l=s.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},Mu=(s,l)=>po.fromDom(s.dom.cloneNode(l)),Gy=s=>Mu(s,!1),Jb=s=>Mu(s,!0),qy=(s,l)=>{const g=(l||document).createElement("div");return g.innerHTML=s,vr(po.fromDom(g))},rh=s=>s.dom.innerHTML,Bh=(s,l)=>{const g=vt(s).dom,E=po.fromDom(g.createDocumentFragment()),O=qy(l,g);br(E,O),Xb(s),oc(s,E)},Qb=s=>{const l=po.fromTag("div"),h=po.fromDom(s.dom.cloneNode(!0));return oc(l,h),rh(l)},Oc=s=>{if(Nl(s))return"#shadow-root";{const l=Gy(s);return Qb(l)}},ih=s=>new Promise((l,h)=>{const g=()=>{O(),l(s)},E=[si(s,"load",g),si(s,"error",()=>{O(),h("Unable to load data from image: "+s.dom.src)})],O=()=>un(E,I=>I.unbind());s.dom.complete&&g()}),np=s=>s.style!==void 0&&Z(s.style.getPropertyValue),zr=s=>{const l=Mh(s)?s.dom.parentNode:s.dom;if(l==null||l.ownerDocument===null)return!1;const h=l.ownerDocument;return sa(po.fromDom(l)).fold(()=>h.body.contains(l),Te(zr,ei))},Bd=()=>l1(po.fromDom(document)),l1=s=>{const l=s.dom.body;if(l==null)throw new Error("Body is not available yet");return po.fromDom(l)},Ky=(s,l,h)=>{if(!v(h))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",h,":: Element ",s),new Error("CSS value must be a string: "+h);np(s)&&s.style.setProperty(l,h)},ah=(s,l)=>{np(s)&&s.style.removeProperty(l)},Ds=(s,l,h)=>{const g=s.dom;Ky(g,l,h)},ha=(s,l)=>{const h=s.dom;_s(l,(g,E)=>{Ky(h,E,g)})},Pa=(s,l)=>{const h=s.dom;_s(l,(g,E)=>{g.fold(()=>{ah(h,E)},O=>{Ky(h,E,O)})})},aa=(s,l)=>{const h=s.dom,E=window.getComputedStyle(h).getPropertyValue(l);return E===""&&!zr(s)?lh(h,l):E},lh=(s,l)=>np(s)?s.style.getPropertyValue(l):"",fa=(s,l)=>{const h=s.dom,g=lh(h,l);return ee.from(g).filter(E=>E.length>0)},vl=s=>{const l={},h=s.dom;if(np(h))for(let g=0;g<h.style.length;g++){const E=h.style.item(g);l[E]=h.style[E]}return l},Pv=(s,l,h)=>{const g=po.fromTag(s);return Ds(g,l,h),fa(g,l).isSome()},wr=(s,l)=>{const h=s.dom;ah(h,l),Pc(lr(s,"style").map(yo),"")&&ia(s,"style")},id=s=>s.dom.offsetWidth,Ni=(s,l)=>{const h=(q,Y)=>{if(!te(Y)&&!Y.match(/^[0-9]+$/))throw new Error(s+".set accepts only positive integer values. Value was "+Y);const oe=q.dom;np(oe)&&(oe.style[s]=Y+"px")},g=q=>{const Y=l(q);if(Y<=0||Y===null){const oe=aa(q,s);return parseFloat(oe)||0}return Y},E=g,O=(q,Y)=>Oo(Y,(oe,he)=>{const ve=aa(q,he),Me=ve===void 0?0:parseInt(ve,10);return isNaN(Me)?oe:oe+Me},0);return{set:h,get:g,getOuter:E,aggregate:O,max:(q,Y,oe)=>{const he=O(q,oe);return Y>he?Y-he:0}}},Pu=Ni("height",s=>{const l=s.dom;return zr(s)?l.getBoundingClientRect().height:l.offsetHeight}),_l=s=>Pu.get(s),Tl=s=>Pu.getOuter(s),uf=(s,l)=>{const h=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],g=Pu.max(s,l,h);Ds(s,"max-height",g+"px")},Nv=s=>s.offsetWidth<=0&&s.offsetHeight<=0,Up=s=>!Nv(s.dom),Im=Ni("width",s=>{const l=s.dom;return zr(s)?l.getBoundingClientRect().width:l.offsetWidth}),ch=(s,l)=>Im.set(s,l),Sc=s=>Im.get(s),zp=s=>Im.getOuter(s),kE=(s,l)=>{const h=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],g=Im.max(s,l,h);Ds(s,"max-width",g+"px")},op=(s,l)=>({left:s,top:l,translate:(g,E)=>op(s+g,l+E)}),ri=op,c1=s=>{const l=s.getBoundingClientRect();return ri(l.left,l.top)},Lv=(s,l)=>s!==void 0?s:l!==void 0?l:0,Bc=s=>{const l=s.dom.ownerDocument,h=l.body,g=l.defaultView,E=l.documentElement;if(h===s.dom)return ri(h.offsetLeft,h.offsetTop);const O=Lv(g?.pageYOffset,E.scrollTop),I=Lv(g?.pageXOffset,E.scrollLeft),q=Lv(E.clientTop,h.clientTop),Y=Lv(E.clientLeft,h.clientLeft);return ru(s).translate(I-Y,O-q)},ru=s=>{const l=s.dom,g=l.ownerDocument.body;return g===l?ri(g.offsetLeft,g.offsetTop):zr(s)?c1(l):ri(0,0)},Ha=s=>{const l=s!==void 0?s.dom:document,h=l.body.scrollLeft||l.documentElement.scrollLeft,g=l.body.scrollTop||l.documentElement.scrollTop;return ri(h,g)},Fd=(s,l,h)=>{const E=(h!==void 0?h.dom:document).defaultView;E&&E.scrollTo(s,l)},Rm=((s,l)=>{const h=O=>{if(!s(O))throw new Error("Can only get "+l+" value of a "+l+" node");return g(O).getOr("")},g=O=>s(O)?ee.from(O.dom.nodeValue):ee.none();return{get:h,getOption:g,set:(O,I)=>{if(!s(O))throw new Error("Can only set raw "+l+" value of a "+l+" node");O.dom.nodeValue=I}}})(Mh,"text"),e0=s=>Rm.get(s),Zy=(s,l)=>h=>DE(h)==="rtl"?l:s,DE=s=>aa(s,"direction")==="rtl"?"rtl":"ltr",df=(s,l)=>{const h=gl(s,l);return h===void 0||h===""?[]:h.split(" ")},ME=(s,l,h)=>{const E=df(s,l).concat([h]);return gs(s,l,E.join(" ")),!0},u1=(s,l,h)=>{const g=Vo(df(s,l),E=>E!==h);return g.length>0?gs(s,l,g.join(" ")):ia(s,l),!1};var hf=(s,l,h,g,E)=>s(h,g)?ee.some(h):Z(E)&&E(h)?ee.none():l(h,g,E);const $S=(s,l,h)=>{let g=s.dom;const E=Z(h)?h:ct;for(;g.parentNode;){g=g.parentNode;const O=po.fromDom(g);if(l(O))return ee.some(O);if(E(O))break}return ee.none()},Bv=(s,l,h)=>hf((E,O)=>O(E),$S,s,l,h),km=(s,l)=>{const h=s.dom;return h.parentNode?Rg(po.fromDom(h.parentNode),g=>!Ie(s,g)&&l(g)):ee.none()},Rg=(s,l)=>{const h=E=>l(po.fromDom(E));return xt(s.dom.childNodes,h).map(po.fromDom)},d1=(s,l)=>{const h=g=>{for(let E=0;E<g.childNodes.length;E++){const O=po.fromDom(g.childNodes[E]);if(l(O))return ee.some(O);const I=h(g.childNodes[E]);if(I.isSome())return I}return ee.none()};return h(s.dom)},US=s=>ge(s),Fh=(s,l,h)=>$S(s,g=>L(g,l),h),Dm=(s,l)=>km(s,h=>L(h,l)),ff=(s,l)=>Rg(s,h=>L(h,l)),ii=(s,l)=>ge(l,s),bl=(s,l,h)=>hf((E,O)=>L(E,O),Fh,s,l,h),sp=(s,l)=>{s.dom.checked=l},t0=s=>s.dom.checked,Mm=s=>s.dom.classList!==void 0,kg=s=>df(s,"class"),jp=(s,l)=>ME(s,"class",l),rp=(s,l)=>u1(s,"class",l),Vh=(s,l)=>tn(kg(s),l)?rp(s,l):jp(s,l),Ti=(s,l)=>{Mm(s)?s.dom.classList.add(l):jp(s,l)},zS=s=>{(Mm(s)?s.dom.classList:kg(s)).length===0&&ia(s,"class")},ui=(s,l)=>{Mm(s)?s.dom.classList.remove(l):rp(s,l),zS(s)},Fv=(s,l)=>{const h=Mm(s)?s.dom.classList.toggle(l):Vh(s,l);return zS(s),h},Xa=(s,l)=>Mm(s)&&s.dom.classList.contains(l),Hh=(s,l)=>{un(l,h=>{Ti(s,h)})},Ic=(s,l)=>{un(l,h=>{ui(s,h)})},Nu=(s,l)=>{un(l,h=>{Fv(s,h)})},Dg=(s,l)=>pt(l,h=>Xa(s,h)),Vv=s=>{const l=s.dom.classList,h=new Array(l.length);for(let g=0;g<l.length;g++){const E=l.item(g);E!==null&&(h[g]=E)}return h},h1=s=>Mm(s)?Vv(s):kg(s),PE=s=>s.dom.textContent,Al=s=>s.dom.value,pf=(s,l)=>{if(l===void 0)throw new Error("Value.set was undefined");s.dom.value=l},cl=(s,l,h)=>Vo(Js(s,h),l),Ai=(s,l)=>de(l,s),Yy=(s,l,h)=>Bv(s,l,h).isSome(),Xy=(s,l,h)=>bl(s,l,h).isSome(),Jy=s=>Z(s)?s:ct,n0=(s,l,h)=>{let g=s.dom;const E=Jy(h);for(;g.parentNode;){g=g.parentNode;const O=po.fromDom(g),I=l(O);if(I.isSome())return I;if(E(O))break}return ee.none()},Lu=(s,l,h)=>{const g=l(s),E=Jy(h);return g.orThunk(()=>E(s)?ee.none():n0(s,l,E))},J={create:(s,l,h,g)=>({start:s,soffset:l,finish:h,foffset:g})},ae=sn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),De=(s,l,h,g)=>s.fold(l,h,g),Ye=s=>s.fold(ke,ke,ke),At=ae.before,Sn=ae.on,bo=ae.after,ss={before:At,on:Sn,after:bo,cata:De,getStart:Ye},Ys=sn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Is=s=>Ys.exact(s.start,s.soffset,s.finish,s.foffset),Hi=s=>s.match({domRange:l=>po.fromDom(l.startContainer),relative:(l,h)=>ss.getStart(l),exact:(l,h,g,E)=>l}),pa=Ys.domRange,Ja=Ys.relative,Bu=Ys.exact,Wp=s=>{const l=Hi(s);return Ln(l)},Gp=J.create,iu={domRange:pa,relative:Ja,exact:Bu,exactFromRange:Is,getWin:Wp,range:Gp},f1=s=>ee.from(s.getSelection()),Pm=s=>{if(s.rangeCount>0){const l=s.getRangeAt(0),h=s.getRangeAt(s.rangeCount-1);return ee.some(J.create(po.fromDom(l.startContainer),l.startOffset,po.fromDom(h.endContainer),h.endOffset))}else return ee.none()},Qy=s=>{if(s.anchorNode===null||s.focusNode===null)return Pm(s);{const l=po.fromDom(s.anchorNode),h=po.fromDom(s.focusNode);return Us(l,s.anchorOffset,h,s.focusOffset)?ee.some(J.create(l,s.anchorOffset,h,s.focusOffset)):Pm(s)}},Nm=s=>f1(s).filter(l=>l.rangeCount>0).bind(Qy),Mg=(s,l)=>{const h=We(s,l);return Tn(h)},s0=(s,l)=>{const h=We(s,l);return go(h)},Bl={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},NE=(()=>{const s="[0-9]+",h="[eE]"+("[+-]?"+s),g="\\.",E=q=>`(?:${q})?`,I=`[+-]?(?:${["Infinity",s+g+E(s)+E(h),g+s+E(h),s+E(h)].join("|")})`;return new RegExp(`^(${I})(.*)$`)})(),LE=(s,l)=>eo(l,h=>eo(Bl[h],g=>s===g)),Fr=(s,l)=>ee.from(NE.exec(s)).bind(g=>{const E=Number(g[1]),O=g[2];return LE(O,l)?ee.some({value:E,unit:O}):ee.none()}),xi=(s,l)=>Fr(s,l).map(({value:h,unit:g})=>h+g),Qa=s=>{const l=s===void 0?window:s;return Gi().browser.isFirefox()?ee.none():ee.from(l.visualViewport)},ad=(s,l,h,g)=>({x:s,y:l,width:h,height:g,right:s+h,bottom:l+g}),el=s=>{const l=s===void 0?window:s,h=l.document,g=Ha(po.fromDom(h));return Qa(l).fold(()=>{const E=l.document.documentElement,O=E.clientWidth,I=E.clientHeight;return ad(g.left,g.top,O,I)},E=>ad(Math.max(E.pageLeft,g.left),Math.max(E.pageTop,g.top),E.width,E.height))},eb=(s,l)=>s.view(l).fold(V([]),g=>{const E=s.owner(g),O=eb(s,E);return[g].concat(O)}),tb=(s,l)=>{const h=l.owner(s),g=eb(l,h);return ee.some(g)};var Sl=Object.freeze({__proto__:null,view:s=>(s.dom===document?ee.none():ee.from(s.dom.defaultView?.frameElement)).map(po.fromDom),owner:s=>vt(s)});const Lm=s=>{const l=Gl(),h=Ha(l);return tb(s,Sl).fold($e(Bc,s),E=>{const O=ru(s),I=Eo(E,(q,Y)=>{const oe=ru(Y);return{left:q.left+oe.left,top:q.top+oe.top}},{left:0,top:0});return ri(I.left+O.left+h.left,I.top+O.top+h.top)})},ob=(s,l,h)=>({point:s,width:l,height:h}),FE=(s,l,h,g)=>({x:s,y:l,width:h,height:g}),Gr=(s,l,h,g)=>({x:s,y:l,width:h,height:g,right:s+h,bottom:l+g}),Fl=s=>{const l=Bc(s),h=zp(s),g=Tl(s);return Gr(l.left,l.top,h,g)},ip=s=>{const l=Lm(s),h=zp(s),g=Tl(s);return Gr(l.left,l.top,h,g)},Vd=(s,l)=>{const h=Math.max(s.x,l.x),g=Math.max(s.y,l.y),E=Math.min(s.right,l.right),O=Math.min(s.bottom,l.bottom),I=E-h,q=O-g;return Gr(h,g,I,q)},ld=(s,l)=>Oo(l,(h,g)=>Vd(h,g),s),Fu=()=>el(window),VE=(s,l)=>Ie(s.element,l.event.target),Pg=s=>(Pc(fa(s,"position"),"fixed")?ee.none():xs(s)).orThunk(()=>{const g=po.fromTag("span");return to(s).bind(E=>{oc(E,g);const O=xs(g);return Ld(g),O})}),jS=s=>Pg(s).map(Bc).getOrThunk(()=>ri(0,0)),Hd=(s,l)=>{const h=ee.from(gl(s,"id")).getOrThunk(()=>{const g=wo("aria");return gs(l,"id",g),g});gs(s,"aria-describedby",h)},HE=s=>{ia(s,"aria-describedby")};var Yi;(function(s){s[s.Error=0]="Error",s[s.Value=1]="Value"})(Yi||(Yi={}));const Ng=(s,l,h)=>s.stype===Yi.Error?l(s.serror):h(s.svalue),Lg=s=>{const l=[],h=[];return un(s,g=>{Ng(g,E=>h.push(E),E=>l.push(E))}),{values:l,errors:h}},KO=(s,l)=>s.stype===Yi.Error?{stype:Yi.Error,serror:l(s.serror)}:s,WS=(s,l)=>s.stype===Yi.Value?{stype:Yi.Value,svalue:l(s.svalue)}:s,GS=(s,l)=>s.stype===Yi.Value?l(s.svalue):s,ZO=(s,l)=>s.stype===Yi.Error?l(s.serror):s,qp=s=>({stype:Yi.Value,svalue:s}),Bm=s=>({stype:Yi.Error,serror:s}),ma={fromResult:s=>s.fold(Bm,qp),toResult:s=>Ng(s,zo.error,zo.value),svalue:qp,partition:Lg,serror:Bm,bind:GS,bindError:ZO,map:WS,mapError:KO,fold:Ng},r0=s=>S(s)&&io(s).length>100?" removed due to size":JSON.stringify(s,null,2),sb=s=>{const l=s.length>10?s.slice(0,10).concat([{path:[],getErrorInfo:V("... (only showing first ten failures)")}]):s;return Dt(l,h=>"Failed path: ("+h.path.join(" > ")+`)
`+h.getErrorInfo())},Rc=(s,l)=>ma.serror([{path:s,getErrorInfo:l}]),Hv=(s,l,h)=>Rc(s,()=>'Could not find valid *required* value for "'+l+'" in '+r0(h)),TT=(s,l)=>Rc(s,()=>'Choice schema did not contain choice key: "'+l+'"'),Fg=(s,l,h)=>Rc(s,()=>'The chosen schema: "'+h+'" did not exist in branches: '+r0(l)),AT=(s,l)=>Rc(s,()=>"There are unsupported fields: ["+l.join(", ")+"] specified"),ap=(s,l)=>Rc(s,V(l)),Fm=s=>{const l=(g,E)=>ma.bindError(s(E),O=>ap(g,O)),h=V("val");return{extract:l,toString:h}},$E=Fm(ma.svalue),Wn=V($E),Vg=(s,l)=>Fm(h=>{const g=typeof h;return s(h)?ma.svalue(h):ma.serror(`Expected type: ${l} but got: ${g}`)}),rb=Vg(te,"number"),$a=Vg(v,"string"),Er=Vg(B,"boolean"),$v=Vg(Z,"function"),ga=s=>{if(Object(s)!==s)return!0;switch({}.toString.call(s).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(s).every(l=>ga(s[l]));default:return!1}},p1=Fm(s=>ga(s)?ma.svalue(s):ma.serror("Expected value to be acceptable for sending via postMessage")),mf=()=>({tag:"required",process:{}}),au=s=>({tag:"defaultedThunk",process:s}),ai=s=>au(V(s)),Kp=()=>({tag:"option",process:{}}),Zp=s=>({tag:"mergeWithThunk",process:s}),UE=s=>Zp(V(s)),qS=(s,l,h,g)=>({tag:"field",key:s,newKey:l,presence:h,prop:g}),$h=(s,l)=>({tag:"custom",newKey:s,instantiator:l}),Vm=(s,l,h)=>{switch(s.tag){case"field":return l(s.key,s.newKey,s.presence,s.prop);case"custom":return h(s.newKey,s.instantiator)}},i0=(s,l)=>ma.svalue(Xr(l,Oh.apply(void 0,s))),$i=s=>Ce(ma.serror,vn)(s),jE={consolidateObj:(s,l)=>{const h=ma.partition(s);return h.errors.length>0?$i(h.errors):i0(h.values,l)},consolidateArr:s=>{const l=ma.partition(s);return l.errors.length>0?$i(l.errors):ma.svalue(l.values)}},ib=(s,l,h,g)=>wt(l,h).fold(()=>Hv(s,h,l),g),KS=(s,l,h,g)=>{const E=wt(s,l).getOrThunk(()=>h(s));return g(E)},ZS=(s,l,h)=>h(wt(s,l)),Hm=(s,l,h,g)=>{const E=wt(s,l).map(O=>O===!0?h(s):O);return g(E)},m1=(s,l,h,g,E)=>{const O=q=>E.extract(l.concat([g]),q),I=q=>q.fold(()=>ma.svalue(ee.none()),Y=>{const oe=E.extract(l.concat([g]),Y);return ma.map(oe,ee.some)});switch(s.tag){case"required":return ib(l,h,g,O);case"defaultedThunk":return KS(h,g,s.process,O);case"option":return ZS(h,g,I);case"defaultedOptionThunk":return Hm(h,g,s.process,I);case"mergeWithThunk":return KS(h,g,V({}),q=>{const Y=Xr(s.process(h),q);return O(Y)})}},cd=(s,l,h)=>{const g={},E=[];for(const O of h)Vm(O,(I,q,Y,oe)=>{const he=m1(Y,s,l,I,oe);ma.fold(he,ve=>{E.push(...ve)},ve=>{g[q]=ve})},(I,q)=>{g[I]=q(l)});return E.length>0?ma.serror(E):ma.svalue(g)},gf=s=>({extract:(g,E)=>s().extract(g,E),toString:()=>s().toString()}),Vu=s=>io(rt(s,z)),uh=s=>{const l=Os(s),h=Eo(s,(E,O)=>Vm(O,I=>Xr(E,{[I]:!0}),V(E)),{});return{extract:(E,O)=>{const I=B(O)?[]:Vu(O),q=Vo(I,Y=>!en(h,Y));return q.length===0?l.extract(E,O):AT(E,q)},toString:l.toString}},Os=s=>({extract:(g,E)=>cd(g,E,s),toString:()=>`obj{
`+Dt(s,E=>Vm(E,(O,I,q,Y)=>O+" -> "+Y.toString(),(O,I)=>"state("+O+")")).join(`
`)+"}"}),ud=s=>({extract:(g,E)=>{const O=Dt(E,(I,q)=>s.extract(g.concat(["["+q+"]"]),I));return jE.consolidateArr(O)},toString:()=>"array("+s.toString()+")"}),ab=(s,l)=>{const h=l!==void 0?l:ke;return{extract:(O,I)=>{const q=[];for(const Y of s){const oe=Y.extract(O,I);if(oe.stype===Yi.Value)return{stype:Yi.Value,svalue:h(oe.svalue)};q.push(oe)}return jE.consolidateArr(q)},toString:()=>"oneOf("+Dt(s,O=>O.toString()).join(", ")+")"}},Hg=(s,l)=>{const h=(O,I)=>ud(Fm(s)).extract(O,I);return{extract:(O,I)=>{const q=io(I),Y=h(O,q);return ma.bind(Y,oe=>{const he=Dt(oe,ve=>qS(ve,ve,mf(),l));return Os(he).extract(O,I)})},toString:()=>"setOf("+l.toString()+")"}},YO=(s,l)=>{const h=Qc(l);return{extract:(O,I)=>h().extract(O,I),toString:()=>h().toString()}},YS=Ce(ud,Os),lp=(s,l,h,g)=>wt(h,g).fold(()=>Fg(s,h,g),O=>O.extract(s.concat(["branch: "+g]),l)),$m=(s,l)=>({extract:(E,O)=>wt(O,s).fold(()=>TT(E,s),q=>lp(E,O,l,q)),toString:()=>"chooseOn("+s+"). Possible values: "+io(l)}),a0=()=>ud($E),Um=s=>Fm(l=>s(l).fold(ma.serror,ma.svalue)),WE=(s,l)=>Hg(h=>ma.fromResult(s(h)),l),GE=(s,l,h)=>{const g=l.extract([s],h);return ma.mapError(g,E=>({input:h,errors:E}))},Na=(s,l,h)=>ma.toResult(GE(s,l,h)),cp=s=>s.fold(l=>{throw new Error(up(l))},ke),dd=(s,l,h)=>cp(Na(s,l,h)),up=s=>`Errors: 
`+sb(s.errors).join(`
`)+`

Input object: `+r0(s.input),hd=(s,l)=>$m(s,Wo(l,Os)),lb=(s,l)=>YO(s,l),Cc=qS,Fc=$h,Uv=s=>Um(l=>tn(s,l)?zo.value(l):zo.error(`Unsupported value: "${l}", choose one of "${s.join(", ")}".`)),Nn=s=>Cc(s,s,mf(),Wn()),Hu=(s,l)=>Cc(s,s,mf(),l),l0=s=>Hu(s,rb),sc=s=>Hu(s,$a),vf=(s,l)=>Cc(s,s,mf(),Uv(l)),Uh=s=>Hu(s,$v),c0=(s,l)=>Cc(s,s,Kp(),Fm(h=>ma.serror("The field: "+s+" is forbidden. "+l))),zm=(s,l)=>Cc(s,s,mf(),Os(l)),OT=(s,l)=>Cc(s,s,mf(),YS(l)),$d=(s,l)=>Cc(s,s,mf(),ud(l)),di=s=>Cc(s,s,Kp(),Wn()),$u=(s,l)=>Cc(s,s,Kp(),l),cb=s=>$u(s,rb),ul=s=>$u(s,$a),IT=(s,l)=>$u(s,Uv(l)),XS=s=>$u(s,Er),Yp=s=>$u(s,$v),qE=(s,l)=>$u(s,ud(l)),dh=(s,l)=>$u(s,Os(l)),KE=(s,l)=>$u(s,uh(l)),nn=(s,l)=>Cc(s,s,ai(l),Wn()),fd=(s,l,h)=>Cc(s,s,ai(l),h),u0=(s,l)=>fd(s,l,rb),Ua=(s,l)=>fd(s,l,$a),hh=(s,l,h)=>fd(s,l,Uv(h)),Vc=(s,l)=>fd(s,l,Er),hi=(s,l)=>fd(s,l,$v),JS=(s,l)=>fd(s,l,p1),zv=(s,l,h)=>fd(s,l,ud(h)),ZE=(s,l,h)=>fd(s,l,Os(h)),jv=(s,l)=>{const h={};return _s(s,(g,E)=>{tn(l,E)||(h[E]=g)}),h},$g=(s,l)=>({[s]:l}),QS=s=>{const l={};return un(s,h=>{l[h.key]=h.value}),l},YE=(s,l)=>jv(s,l),Ug=(s,l)=>$g(s,l),Wv=s=>QS(s),RT=(s,l)=>s.length===0?zo.value(l):zo.value(Xr(l,Oh.apply(void 0,s))),Gv=s=>zo.error(vn(s)),Hc=(s,l)=>{const h=Jc(s);return h.errors.length>0?Gv(h.errors):RT(h.values,l)},rc=V,zg=rc("touchstart"),jg=rc("touchmove"),Wg=rc("touchend"),d0=rc("touchcancel"),pd=rc("mousedown"),qv=rc("mousemove"),xl=rc("mouseout"),ub=rc("mouseup"),yf=rc("mouseover"),bf=rc("focusin"),g1=rc("focusout"),ic=rc("keydown"),Gg=rc("keyup"),Xp=rc("input"),Jp=rc("change"),jm=rc("click"),Kv=rc("transitioncancel"),md=rc("transitionend"),db=rc("transitionstart"),kT=rc("selectstart"),_a=s=>V("alloy."+s),XE={tap:_a("tap")},dp=_a("focus"),Sf=_a("blur.post"),Wm=_a("paste.post"),Qp=_a("receive"),lu=_a("execute"),hb=_a("focus.item"),em=XE.tap,JE=_a("longpress"),v1=_a("sandbox.close"),fb=_a("typeahead.cancel"),eC=_a("system.init"),tC=_a("system.touchmove"),DT=_a("system.touchend"),pb=_a("system.scroll"),mb=_a("system.resize"),tm=_a("system.attached"),qg=_a("system.detached"),Kg=_a("system.dismissRequested"),MT=_a("system.repositionRequested"),h0=_a("focusmanager.shifted"),y1=_a("slotcontainer.visibility"),PT=_a("system.external.element.scroll"),NT=_a("change.tab"),gb=_a("dismiss.tab"),Zv=_a("highlight"),nC=_a("dehighlight"),fh=s=>Oc(s),b1="unknown";var hp;(function(s){s[s.STOP=0]="STOP",s[s.NORMAL=1]="NORMAL",s[s.LOGGING=2]="LOGGING"})(hp||(hp={}));const f0=Wt({}),LT=(s,l)=>{const h=[],g=new Date().getTime();return{logEventCut:(E,O,I)=>{h.push({outcome:"cut",target:O,purpose:I})},logEventStopped:(E,O,I)=>{h.push({outcome:"stopped",target:O,purpose:I})},logNoParent:(E,O,I)=>{h.push({outcome:"no-parent",target:O,purpose:I})},logEventNoHandlers:(E,O)=>{h.push({outcome:"no-handlers-left",target:O})},logEventResponse:(E,O,I)=>{h.push({outcome:"response",purpose:I,target:O})},write:()=>{const E=new Date().getTime();tn(["mousemove","mouseover","mouseout",eC()],s)||console.log(s,{event:s,time:E-g,target:l.dom,sequence:Dt(h,O=>tn(["cut","stopped","response"],O.outcome)?"{"+O.purpose+"} "+O.outcome+" at ("+fh(O.target)+")":O.outcome)})}}},QE=(s,l,h)=>{switch(wt(f0.get(),s).orThunk(()=>{const E=io(f0.get());return ro(E,O=>s.indexOf(O)>-1?ee.some(f0.get()[O]):ee.none())}).getOr(hp.NORMAL)){case hp.NORMAL:return h(XO());case hp.LOGGING:{const E=LT(s,l),O=h(E);return E.write(),O}case hp.STOP:return!0}},ph=["alloy/data/Fields","alloy/debugging/Debugging"],S1=()=>{const s=new Error;if(s.stack!==void 0){const l=s.stack.split(`
`);return xt(l,h=>h.indexOf("alloy")>0&&!eo(ph,g=>h.indexOf(g)>-1)).getOr(b1)}else return b1},BT={logEventCut:se,logEventStopped:se,logNoParent:se,logEventNoHandlers:se,logEventResponse:se,write:se},Yv=(s,l,h)=>QE(s,l,h),XO=V(BT),FT=V([Nn("menu"),Nn("selectedMenu")]),ew=V([Nn("item"),Nn("selectedItem")]);V(Os(ew().concat(FT())));const VT=V(Os(ew())),yi=zm("initSize",[Nn("numColumns"),Nn("numRows")]),HT=()=>Hu("markers",VT()),tw=()=>zm("markers",[Nn("backgroundMenu")].concat(FT()).concat(ew())),mh=s=>zm("markers",Dt(s,Nn)),vb=(s,l,h)=>(S1(),Cc(l,l,h,Um(g=>zo.value((...E)=>g.apply(void 0,E))))),Pr=s=>vb("onHandler",s,ai(se)),Vl=s=>vb("onKeyboardHandler",s,ai(ee.none)),C1=s=>vb("onHandler",s,mf()),oC=s=>vb("onKeyboardHandler",s,mf()),la=(s,l)=>Fc(s,V(l)),p0=s=>Fc(s,ke),E1=V(yi),nw=(s,l,h)=>{const g=h.toString(),E=g.indexOf(")")+1,O=g.indexOf("("),I=g.substring(O+1,E-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:l,parameters:$T(I.slice(0,1).concat(I.slice(3)))}),s},$T=s=>Dt(s,l=>Nc(l,"/*")?l.substring(0,l.length-2):l),UT=(s,l)=>{const h=s.toString(),g=h.indexOf(")")+1,E=h.indexOf("("),O=h.substring(E+1,g-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:l,parameters:$T(O)}),s},Y2=(s,l)=>{const h=l.toString(),g=h.indexOf(")")+1,E=h.indexOf("("),O=h.substring(E+1,g-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:$T(O.slice(1))}),s},zT=(s,l)=>{let h=null;return{cancel:()=>{h!==null&&(clearTimeout(h),h=null)},schedule:(...O)=>{h=setTimeout(()=>{s.apply(null,O),h=null},l)}}},JO=5,jT=400,WT=s=>{const l=s.raw;return l.touches===void 0||l.touches.length!==1?ee.none():ee.some(l.touches[0])},fp=(s,l)=>{const h=Math.abs(s.clientX-l.x),g=Math.abs(s.clientY-l.y);return h>JO||g>JO},$c=s=>{const l=As(),h=Wt(!1),g=zT(oe=>{s.triggerEvent(JE(),oe),h.set(!0)},jT),E=oe=>(WT(oe).each(he=>{g.cancel();const ve={x:he.clientX,y:he.clientY,target:oe.target};g.schedule(oe),h.set(!1),l.set(ve)}),ee.none()),O=oe=>(g.cancel(),WT(oe).each(he=>{l.on(ve=>{fp(he,ve)&&l.clear()})}),ee.none()),I=oe=>{g.cancel();const he=ve=>Ie(ve.target,oe.target);return l.get().filter(he).map(ve=>h.get()?(oe.prevent(),!1):s.triggerEvent(em(),oe))},q=Wv([{key:zg(),value:E},{key:jg(),value:O},{key:Wg(),value:I}]);return{fireIfReady:(oe,he)=>wt(q,he).bind(ve=>ve(oe))}};var Cf;(function(s){s.OnFocusMode="onFocus",s.OnEnterOrSpaceMode="onEnterOrSpace",s.OnApiMode="onApi"})(Cf||(Cf={}));const nm="placeholder",om=sn.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Zg=s=>Zt(s,"uiType"),Gm=(s,l,h,g)=>s.exists(E=>E!==h.owner)?om.single(!0,V(h)):wt(g,h.name).fold(()=>{throw new Error("Unknown placeholder component: "+h.name+`
Known: [`+io(g)+`]
Namespace: `+s.getOr("none")+`
Spec: `+JSON.stringify(h,null,2))},E=>E.replace()),qm=(s,l,h,g)=>Zg(h)&&h.uiType===nm?Gm(s,l,h,g):om.single(!1,V(h)),ow=(s,l,h,g)=>qm(s,l,h,g).fold((O,I)=>{const q=Zg(h)?I(l,h.config,h.validated):I(l),Y=wt(q,"components").getOr([]),oe=qe(Y,he=>ow(s,l,he,g));return[{...q,components:oe}]},(O,I)=>{if(Zg(h)){const q=I(l,h.config,h.validated);return h.validated.preprocess.getOr(ke)(q)}else return I(l)}),sC=(s,l,h,g)=>qe(h,E=>ow(s,l,E,g)),QO=(s,l)=>{let h=!1;const g=()=>h,E=()=>{if(h)throw new Error("Trying to use the same placeholder more than once: "+s);return h=!0,l},O=()=>l.fold((I,q)=>I,(I,q)=>I);return{name:V(s),required:O,used:g,replace:E}},eI=(s,l,h,g)=>{const E=Wo(g,(I,q)=>QO(q,I)),O=sC(s,l,h,E);return _s(E,I=>{if(I.used()===!1&&I.required())throw new Error("Placeholder: "+I.name()+` was not found in components list
Namespace: `+s.getOr("none")+`
Components: `+JSON.stringify(l.components,null,2))}),O},w1=om.single,rC=om.multiple,iC=V(nm),aC=sn.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Yg=nn("factory",{sketch:ke}),m0=nn("schema",[]),sm=Nn("name"),lC=Cc("pname","pname",au(s=>"<alloy."+wo(s.name)+">"),Wn()),sw=Fc("schema",()=>[di("preprocess")]),cC=nn("defaults",V({})),uC=nn("overrides",V({})),GT=Os([Yg,m0,sm,lC,cC,uC]),tI=Os([Yg,m0,sm,cC,uC]),g0=Os([Yg,m0,sm,lC,cC,uC]),qT=Os([Yg,sw,sm,Nn("unit"),lC,cC,uC]),Ef=s=>s.fold(ee.some,ee.none,ee.some,ee.some),v0=s=>{const l=h=>h.name;return s.fold(l,l,l,l)},dC=s=>s.fold(ke,ke,ke,ke),Km=(s,l)=>h=>{const g=dd("Converting part type",l,h);return s(g)},Q=Km(aC.required,GT),m=Km(aC.external,tI),C=Km(aC.optional,g0),T=Km(aC.group,qT),R=V("entirety");var D=Object.freeze({__proto__:null,required:Q,external:m,optional:C,group:T,asNamedPart:Ef,name:v0,asCommon:dC,original:R});const F=(s,l,h,g)=>Xr(l.defaults(s,h,g),h,{uid:s.partUids[l.name]},l.overrides(s,h,g)),j=(s,l,h)=>{const g={},E={};return un(h,O=>{O.fold(I=>{g[I.pname]=w1(!0,(q,Y,oe)=>I.factory.sketch(F(q,I,Y,oe)))},I=>{const q=l.parts[I.name];E[I.name]=V(I.factory.sketch(F(l,I,q[R()]),q))},I=>{g[I.pname]=w1(!1,(q,Y,oe)=>I.factory.sketch(F(q,I,Y,oe)))},I=>{g[I.pname]=rC(!0,(q,Y,oe)=>{const he=q[I.name];return Dt(he,ve=>I.factory.sketch(Xr(I.defaults(q,ve,oe),ve,I.overrides(q,ve))))})})}),{internals:V(g),externals:V(E)}},K=(s,l)=>{const h={};return un(l,g=>{Ef(g).each(E=>{const O=ne(s,E.pname);h[E.name]=I=>{const q=dd("Part: "+E.name+" in "+s,Os(E.schema),I);return{...O,config:I,validated:q}}})}),h},ne=(s,l)=>({uiType:iC(),owner:s,name:l}),ue=(s,l,h)=>({uiType:iC(),owner:s,name:l,config:h,validated:{}}),ie=s=>qe(s,l=>l.fold(ee.none,ee.some,ee.none,ee.none).map(h=>zm(h.name,h.schema.concat([p0(R())]))).toArray()),me=s=>Dt(s,v0),Ee=(s,l,h)=>j(s,l,h),Ae=(s,l,h)=>eI(ee.some(s),l,l.components,h),Pe=(s,l,h)=>{const g=l.partUids[h];return s.getSystem().getByUid(g).toOptional()},Fe=(s,l,h)=>Pe(s,l,h).getOrDie("Could not find part: "+h),Ne=(s,l,h)=>{const g={},E=l.partUids,O=s.getSystem();return un(h,I=>{g[I]=V(O.getByUid(E[I]))}),g},lt=(s,l)=>{const h=s.getSystem();return Wo(l.partUids,(g,E)=>V(h.getByUid(g)))},gt=s=>io(s.partUids),$t=(s,l,h)=>{const g={},E=l.partUids,O=s.getSystem();return un(h,I=>{g[I]=V(O.getByUid(E[I]).getOrDie())}),g},qt=(s,l)=>{const h=me(l);return Wv(Dt(h,g=>({key:g,value:s+"-"+g})))},Kt=s=>Cc("partUids","partUids",Zp(l=>qt(l.uid,s)),Wn());var Yt=Object.freeze({__proto__:null,generate:K,generateOne:ue,schemas:ie,names:me,substitutes:Ee,components:Ae,defaultUids:qt,defaultUidsSchema:Kt,getAllParts:lt,getAllPartNames:gt,getPart:Pe,getPartOrDie:Fe,getParts:Ne,getPartsOrDie:$t});const Xt=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Kn=(s,l,h,g=1)=>{const E=s*g,O=l*g,I=Y=>wt(h,Y).getOr([]),q=(Y,oe,he)=>{const ve=Ve(Xt,he);return{offset:ri(Y,oe),classesOn:qe(he,I),classesOff:qe(ve,I)}};return{southeast:()=>q(-s,l,["top","alignLeft"]),southwest:()=>q(s,l,["top","alignRight"]),south:()=>q(-s/2,l,["top","alignCentre"]),northeast:()=>q(-s,-l,["bottom","alignLeft"]),northwest:()=>q(s,-l,["bottom","alignRight"]),north:()=>q(-s/2,-l,["bottom","alignCentre"]),east:()=>q(s,-l/2,["valignCentre","left"]),west:()=>q(-s,-l/2,["valignCentre","right"]),insetNortheast:()=>q(E,O,["top","alignLeft","inset"]),insetNorthwest:()=>q(-E,O,["top","alignRight","inset"]),insetNorth:()=>q(-E/2,O,["top","alignCentre","inset"]),insetSoutheast:()=>q(E,-O,["bottom","alignLeft","inset"]),insetSouthwest:()=>q(-E,-O,["bottom","alignRight","inset"]),insetSouth:()=>q(-E/2,-O,["bottom","alignCentre","inset"]),insetEast:()=>q(-E,-O/2,["valignCentre","right","inset"]),insetWest:()=>q(E,-O/2,["valignCentre","left","inset"])}},So=()=>Kn(0,0,{}),Dn=(s,l,h,g,E,O,I,q=!1)=>({x:s,y:l,bubble:h,direction:g,placement:E,restriction:O,label:`${I}-${E}`,alwaysFit:q}),ts=sn.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),sr=(s,l,h,g,E,O,I,q,Y)=>s.fold(l,h,g,E,O,I,q,Y),dr=(s,l,h,g)=>s.fold(l,l,g,g,l,g,h,h),hs=(s,l,h,g)=>s.fold(l,g,l,g,h,h,l,g),Rs=ts.southeast,Qs=ts.southwest,La=ts.northeast,Oi=ts.northwest,cu=ts.south,Mr=ts.north,Sr=ts.east,fi=ts.west,bi=(s,l)=>{switch(l){case 1:return s.x;case 0:return s.x+s.width;case 2:return s.y;case 3:return s.y+s.height}},qr=(s,l)=>Ot(["left","right","top","bottom"],h=>wt(l,h).map(g=>bi(s,g))),tl=(s,l,h)=>{const g=(Y,oe)=>l[Y].map(he=>{const ve=Y==="top"||Y==="bottom",Me=ve?h.top:h.left,Ze=(Y==="left"||Y==="top"?Math.max:Math.min)(he,oe)+Me;return ve?pl(Ze,s.y,s.bottom):pl(Ze,s.x,s.right)}).getOr(oe),E=g("left",s.x),O=g("top",s.y),I=g("right",s.right),q=g("bottom",s.bottom);return Gr(E,O,I-E,q-O)},Ii="layout",Hl=s=>s.x,Uu=(s,l)=>s.x+s.width/2-l.width/2,Ud=(s,l)=>s.x+s.width-l.width,pp=(s,l)=>s.y-l.height,wf=s=>s.y+s.height,zd=(s,l)=>s.y+s.height/2-l.height/2,rm=s=>s.x+s.width,mp=(s,l)=>s.x-l.width,za=(s,l,h)=>Dn(Hl(s),wf(s),h.southeast(),Rs(),"southeast",qr(s,{left:1,top:3}),Ii),Ui=(s,l,h)=>Dn(Ud(s,l),wf(s),h.southwest(),Qs(),"southwest",qr(s,{right:0,top:3}),Ii),ja=(s,l,h)=>Dn(Hl(s),pp(s,l),h.northeast(),La(),"northeast",qr(s,{left:1,bottom:2}),Ii),dl=(s,l,h)=>Dn(Ud(s,l),pp(s,l),h.northwest(),Oi(),"northwest",qr(s,{right:0,bottom:2}),Ii),ac=(s,l,h)=>Dn(Uu(s,l),pp(s,l),h.north(),Mr(),"north",qr(s,{bottom:2}),Ii),lc=(s,l,h)=>Dn(Uu(s,l),wf(s),h.south(),cu(),"south",qr(s,{top:3}),Ii),KT=(s,l,h)=>Dn(rm(s),zd(s,l),h.east(),Sr(),"east",qr(s,{left:0}),Ii),ZT=(s,l,h)=>Dn(mp(s,l),zd(s,l),h.west(),fi(),"west",qr(s,{right:1}),Ii),YT=()=>[za,Ui,ja,dl,lc,ac,KT,ZT],X2=()=>[Ui,za,dl,ja,lc,ac,KT,ZT],XT=()=>[ja,dl,za,Ui,ac,lc],J2=()=>[dl,ja,Ui,za,ac,lc],_1=()=>[za,Ui,ja,dl,lc,ac],nI=()=>[Ui,za,dl,ja,lc,ac],T1="data-alloy-placement",JT=(s,l)=>{gs(s,T1,l)},oI=s=>lr(s,T1),QT=s=>ia(s,T1),Xg="layout-inset",rw=s=>s.x,sI=(s,l)=>s.x+s.width/2-l.width/2,hC=(s,l)=>s.x+s.width-l.width,iw=s=>s.y,eA=(s,l)=>s.y+s.height-l.height,rI=(s,l)=>s.y+s.height/2-l.height/2,Zm=(s,l,h)=>Dn(hC(s,l),eA(s,l),h.insetSouthwest(),Oi(),"southwest",qr(s,{right:0,bottom:3}),Xg),Xv=(s,l,h)=>Dn(rw(s),eA(s,l),h.insetSoutheast(),La(),"southeast",qr(s,{left:1,bottom:3}),Xg),fC=(s,l,h)=>Dn(hC(s,l),iw(s),h.insetNorthwest(),Qs(),"northwest",qr(s,{right:0,top:2}),Xg),gn=(s,l,h)=>Dn(rw(s),iw(s),h.insetNortheast(),Rs(),"northeast",qr(s,{left:1,top:2}),Xg),zh=(s,l,h)=>Dn(sI(s,l),iw(s),h.insetNorth(),cu(),"north",qr(s,{top:2}),Xg),pC=(s,l,h)=>Dn(sI(s,l),eA(s,l),h.insetSouth(),Mr(),"south",qr(s,{bottom:3}),Xg),aw=(s,l,h)=>Dn(hC(s,l),rI(s,l),h.insetEast(),fi(),"east",qr(s,{right:0}),Xg),tA=(s,l,h)=>Dn(rw(s),rI(s,l),h.insetWest(),Sr(),"west",qr(s,{left:1}),Xg),Jg=s=>{switch(s){case"north":return zh;case"northeast":return gn;case"northwest":return fC;case"south":return pC;case"southeast":return Xv;case"southwest":return Zm;case"east":return aw;case"west":return tA}},jd=(s,l,h,g,E)=>oI(g).map(Jg).getOr(zh)(s,l,h,g,E),lw=s=>{switch(s){case"north":return pC;case"northeast":return Xv;case"northwest":return Zm;case"south":return zh;case"southeast":return gn;case"southwest":return fC;case"east":return tA;case"west":return aw}},Q2=(s,l,h,g,E)=>oI(g).map(lw).getOr(zh)(s,l,h,g,E),nA=(s,l)=>{uf(s,Math.floor(l))},eD=V((s,l)=>{nA(s,l),ha(s,{"overflow-x":"hidden","overflow-y":"auto"})}),A1=V((s,l)=>{nA(s,l)}),iI=V((s,l)=>{kE(s,Math.floor(l))});var Jv;(function(s){s.TopToBottom="toptobottom",s.BottomToTop="bottomtotop"})(Jv||(Jv={}));const aI="data-alloy-vertical-dir",tD=s=>Yy(s,l=>xc(l)&&gl(l,"data-alloy-vertical-dir")===Jv.BottomToTop);var Wd;(function(s){s[s.HighlightMenuAndItem=0]="HighlightMenuAndItem",s[s.HighlightJustMenu=1]="HighlightJustMenu",s[s.HighlightNone=2]="HighlightNone"})(Wd||(Wd={}));const Qg={init:()=>_f({readState:V("No State required")})},_f=s=>s,oA={can:St,abort:ct,run:se},mC=s=>{if(!en(s,"can")&&!en(s,"abort")&&!en(s,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(s,null,2)+" does not have can, abort, or run!");return{...oA,...s}},nD=(s,l)=>(...h)=>Oo(s,(g,E)=>g&&l(E).apply(void 0,h),!0),k4=(s,l)=>(...h)=>Oo(s,(g,E)=>g||l(E).apply(void 0,h),!1),lI=s=>Z(s)?{can:St,abort:ct,run:s}:s,oD=s=>{const l=nD(s,E=>E.can),h=k4(s,E=>E.abort);return{can:l,abort:h,run:(...E)=>{un(s,O=>{O.run.apply(void 0,E)})}}},_r=(s,l)=>{cI(s,s.element,l,{})},bs=(s,l,h)=>{cI(s,s.element,l,h)},cw=s=>{_r(s,lu())},sA=(s,l,h)=>{cI(s,l,h,{})},cI=(s,l,h,g)=>{const E={target:l,...g};s.getSystem().triggerEvent(h,l,E)},D4=(s,l,h,g)=>{const E={...g,target:l};s.getSystem().triggerEvent(h,l,E)},uI=(s,l,h,g)=>{s.getSystem().triggerEvent(h,l,g.event)},Ia=s=>Wv(s),rA=(s,l)=>({key:s,value:mC({abort:l})}),uw=(s,l)=>({key:s,value:mC({can:l})}),x1=s=>({key:s,value:mC({run:(l,h)=>{h.event.prevent()}})}),En=(s,l)=>({key:s,value:mC({run:l})}),iA=(s,l,h)=>({key:s,value:mC({run:(g,E)=>{l.apply(void 0,[g,E].concat(h))}})}),sD=s=>l=>En(s,l),aA=s=>l=>({key:s,value:mC({run:(h,g)=>{VE(h,g)&&l(h,g)}})}),rD=(s,l)=>En(s,(h,g)=>{h.getSystem().getByUid(l).each(E=>{uI(E,E.element,s,g)})}),yb=(s,l,h)=>{const g=l.partUids[h];return rD(s,g)},O1=(s,l)=>En(s,(h,g)=>{const E=g.event,O=h.getSystem().getByDom(E.target).getOrThunk(()=>Lu(E.target,q=>h.getSystem().getByDom(q).toOptional(),ct).getOr(h));l(h,O,g)}),I1=s=>En(s,(l,h)=>{h.cut()}),dI=s=>En(s,(l,h)=>{h.stop()}),R1=(s,l)=>aA(s)(l),Ta=aA(tm()),ev=aA(qg()),iD=aA(eC()),bb=sD(lu()),Ym=s=>({classes:H(s.classes)?[]:s.classes,attributes:H(s.attributes)?{}:s.attributes,styles:H(s.styles)?{}:s.styles}),M4=(s,l)=>({...s,attributes:{...s.attributes,...l.attributes},styles:{...s.styles,...l.styles},classes:s.classes.concat(l.classes)}),P4=(s,l,h)=>bb(g=>{h(g,s,l)}),hI=(s,l,h)=>iD((g,E)=>{h(g,s,l)}),N4=(s,l,h,g,E,O)=>{const I=uh(s),q=dh(l,[KE("config",s)]);return fI(I,q,l,h,g,E,O)},L4=(s,l,h,g,E,O)=>{const I=s,q=dh(l,[$u("config",s)]);return fI(I,q,l,h,g,E,O)},B4=(s,l,h)=>nw((E,...O)=>{const I=[E].concat(O);return E.config({name:V(s)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+s+". Using API: "+h)},q=>{const Y=Array.prototype.slice.call(I,1);return l.apply(void 0,[E,q.config,q.state].concat(Y))})},h,l),F4=s=>({key:s,value:void 0}),fI=(s,l,h,g,E,O,I)=>{const q=ve=>en(ve,h)?ve[h]():ee.none(),Y=Wo(E,(ve,Me)=>B4(h,ve,Me)),he={...Wo(O,(ve,Me)=>UT(ve,Me)),...Y,revoke:$e(F4,h),config:ve=>{const Me=dd(h+"-config",s,ve);return{key:h,value:{config:Me,me:he,configAsRaw:Qc(()=>dd(h+"-config",s,ve)),initialConfig:ve,state:I}}},schema:V(l),exhibit:(ve,Me)=>Tc(q(ve),wt(g,"exhibit"),(Ge,Ze)=>Ze(Me,Ge.config,Ge.state)).getOrThunk(()=>Ym({})),name:V(h),handlers:ve=>q(ve).map(Me=>wt(g,"events").getOr(()=>({}))(Me.config,Me.state)).getOr({})};return he},ho=s=>Wv(s),aD=uh([Nn("fields"),Nn("name"),nn("active",{}),nn("apis",{}),nn("state",Qg),nn("extra",{})]),uu=s=>{const l=dd("Creating behaviour: "+s.name,aD,s);return N4(l.fields,l.name,l.active,l.apis,l.extra,l.state)},lD=uh([Nn("branchKey"),Nn("branches"),Nn("name"),nn("active",{}),nn("apis",{}),nn("state",Qg),nn("extra",{})]),cD=s=>{const l=dd("Creating behaviour: "+s.name,lD,s);return L4(hd(l.branchKey,l.branches),l.name,l.active,l.apis,l.extra,l.state)},uD=V(void 0),V4=(s,l)=>{const h=Ia(l);return uu({fields:[Nn("enabled")],name:s,active:{events:V(h)}})},Gs=(s,l)=>{const h=V4(s,l);return{key:s,value:{config:{},me:h,configAsRaw:V({}),initialConfig:{},state:Qg}}},pI=s=>({init:()=>{const h=Wt(s);return{get:()=>h.get(),set:q=>h.set(q),clear:()=>h.set(s),readState:()=>h.get()}}}),dD=(s,l)=>{l.ignore||(ra(s.element),l.onFocus(s))};var hD=Object.freeze({__proto__:null,focus:dD,blur:(s,l)=>{l.ignore||yr(s.element)},isFocused:s=>Lh(s.element)}),fD=Object.freeze({__proto__:null,exhibit:(s,l)=>{const h=l.ignore?{}:{attributes:{tabindex:"-1"}};return Ym(h)},events:s=>Ia([En(dp(),(l,h)=>{dD(l,s),h.stop()})].concat(s.stopMousedown?[En(pd(),(l,h)=>{h.event.prevent()})]:[]))}),mI=[Pr("onFocus"),nn("stopMousedown",!1),nn("ignore",!1)];const qs=uu({fields:mI,name:"focusing",active:fD,apis:hD}),gI=[8],Sb=[9],gp=[13],Fo=[27],Gd=[32],dw=[37],hw=[38],lA=[39],gC=[40],fw=V("tooltipping.close.all"),Cb=V("dismiss.popups"),gd=V("reposition.popups"),Qv=V("mouse.released"),U4=(s,l,h)=>{const g=Ft(s.slice(0,l)),E=Ft(s.slice(l+1));return xt(g.concat(E),h)},zu=(s,l,h)=>{const g=Ft(s.slice(0,l));return xt(g,h)},vC=(s,l,h)=>{const g=s.slice(0,l),E=s.slice(l+1);return xt(E.concat(g),h)},z4=(s,l,h)=>{const g=s.slice(l+1);return xt(g,h)},jr=s=>l=>{const h=l.raw;return tn(s,h.which)},tv=s=>l=>pt(s,h=>h(l)),k1=s=>s.raw.shiftKey===!0,Hz=s=>s.raw.ctrlKey===!0,D1=Re(k1),Kr=(s,l)=>({matches:s,classification:l}),$z=(s,l)=>xt(s,g=>g.matches(l)).map(g=>g.classification),pD=(s,l,h,g)=>{const E=Ai(s.element,"."+l.highlightClass);un(E,O=>{eo(g,q=>Ie(q.element,O))||(ui(O,l.highlightClass),s.getSystem().getByDom(O).each(q=>{l.onDehighlight(s,q),_r(q,nC())}))})},Uz=(s,l,h)=>pD(s,l,h,[]),zz=(s,l,h,g)=>{mw(s,l,h,g)&&(ui(g.element,l.highlightClass),l.onDehighlight(s,g),_r(g,nC()))},pw=(s,l,h,g)=>{pD(s,l,h,[g]),mw(s,l,h,g)||(Ti(g.element,l.highlightClass),l.onHighlight(s,g),_r(g,Zv()))},j4=(s,l,h)=>{gw(s,l).each(g=>{pw(s,l,h,g)})},jz=(s,l,h)=>{yI(s,l).each(g=>{pw(s,l,h,g)})},cA=(s,l,h,g)=>{W4(s,l,h,g).fold(E=>{throw E},E=>{pw(s,l,h,E)})},vI=(s,l,h,g)=>{const E=yD(s,l);xt(E,g).each(I=>{pw(s,l,h,I)})},mw=(s,l,h,g)=>Xa(g.element,l.highlightClass),mD=(s,l,h)=>ii(s.element,"."+l.highlightClass).bind(g=>s.getSystem().getByDom(g).toOptional()),W4=(s,l,h,g)=>{const E=Ai(s.element,"."+l.itemClass);return ee.from(E[g]).fold(()=>zo.error(new Error("No element found with index "+g)),s.getSystem().getByDom)},gw=(s,l,h)=>ii(s.element,"."+l.itemClass).bind(g=>s.getSystem().getByDom(g).toOptional()),yI=(s,l,h)=>{const g=Ai(s.element,"."+l.itemClass);return(g.length>0?ee.some(g[g.length-1]):ee.none()).bind(O=>s.getSystem().getByDom(O).toOptional())},bI=(s,l,h,g)=>{const E=Ai(s.element,"."+l.itemClass);return cn(E,I=>Xa(I,l.highlightClass)).bind(I=>{const q=Xc(I,g,0,E.length-1);return s.getSystem().getByDom(E[q]).toOptional()})},gD=(s,l,h)=>bI(s,l,h,-1),vD=(s,l,h)=>bI(s,l,h,1),yD=(s,l,h)=>{const g=Ai(s.element,"."+l.itemClass);return Au(Dt(g,E=>s.getSystem().getByDom(E).toOptional()))};var SI=Object.freeze({__proto__:null,dehighlightAll:Uz,dehighlight:zz,highlight:pw,highlightFirst:j4,highlightLast:jz,highlightAt:cA,highlightBy:vI,isHighlighted:mw,getHighlighted:mD,getFirst:gw,getLast:yI,getPrevious:gD,getNext:vD,getCandidates:yD}),CI=[Nn("highlightClass"),Nn("itemClass"),Pr("onHighlight"),Pr("onDehighlight")];const li=uu({fields:CI,name:"highlighting",apis:SI}),bD=(s,l,h)=>{l.exists(E=>h.exists(O=>Ie(O,E)))||bs(s,h0(),{prevFocus:l,newFocus:h})},uA=()=>{const s=h=>Ya(h.element);return{get:s,set:(h,g)=>{const E=s(h);h.getSystem().triggerFocus(g,h.element);const O=s(h);bD(h,E,O)}}},EI=()=>{const s=h=>li.getHighlighted(h).map(g=>g.element);return{get:s,set:(h,g)=>{const E=s(h);h.getSystem().getByDom(g).fold(se,I=>{li.highlight(h,I)});const O=s(h);bD(h,E,O)}}},im=(s,l,h,g,E)=>{const O=()=>s.concat([nn("focusManager",uA()),fd("focusInside","onFocus",Um(oe=>tn(["onFocus","onEnterOrSpace","onApi"],oe)?zo.value(oe):zo.error("Invalid value for focusInside"))),la("handler",Y),la("state",l),la("sendFocusIn",E)]),I=(oe,he,ve,Me,Ge)=>{const Ze=ve(oe,he,Me,Ge);return $z(Ze,he.event).bind(at=>at(oe,he,Me,Ge))},Y={schema:O,processKey:I,toEvents:(oe,he)=>{const ve=oe.focusInside!==Cf.OnFocusMode?ee.none():E(oe).map(Ze=>En(dp(),(at,yt)=>{Ze(at,oe,he),yt.stop()})),Me=(Ze,at)=>{const yt=jr(Gd.concat(gp))(at.event);oe.focusInside===Cf.OnEnterOrSpaceMode&&yt&&VE(Ze,at)&&E(oe).each(ot=>{ot(Ze,oe,he),at.stop()})},Ge=[En(ic(),(Ze,at)=>{I(Ze,at,h,oe,he).fold(()=>{Me(Ze,at)},yt=>{at.stop()})}),En(Gg(),(Ze,at)=>{I(Ze,at,g,oe,he).each(yt=>{at.stop()})})];return Ia(ve.toArray().concat(Ge))}};return Y},SD=s=>{const l=[di("onEscape"),di("onEnter"),nn("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),nn("firstTabstop",0),nn("useTabstopAt",St),di("visibilitySelector")].concat([s]),h=(ot,_t)=>{const Lt=ot.visibilitySelector.bind(an=>bl(_t,an)).getOr(_t);return _l(Lt)>0},g=(ot,_t)=>{const Lt=Ai(ot.element,_t.selector),an=Vo(Lt,hn=>h(_t,hn));return ee.from(an[_t.firstTabstop])},E=(ot,_t)=>_t.focusManager.get(ot).bind(Lt=>bl(Lt,_t.selector)),O=(ot,_t)=>h(ot,_t)&&ot.useTabstopAt(_t),I=(ot,_t,Lt)=>{g(ot,_t).each(an=>{_t.focusManager.set(ot,an)})},q=(ot,_t,Lt,an,hn)=>hn(_t,Lt,vo=>O(an,vo)).fold(()=>an.cyclic?ee.some(!0):ee.none(),vo=>(an.focusManager.set(ot,vo),ee.some(!0))),Y=(ot,_t,Lt,an)=>{const hn=Vo(Ai(ot.element,Lt.selector),vo=>h(Lt,vo));return E(ot,Lt).bind(vo=>cn(hn,$e(Ie,vo)).bind(Qn=>q(ot,hn,Qn,Lt,an)))},oe=(ot,_t,Lt)=>{const an=Lt.cyclic?U4:zu;return Y(ot,_t,Lt,an)},he=(ot,_t,Lt)=>{const an=Lt.cyclic?vC:z4;return Y(ot,_t,Lt,an)},ve=ot=>ds(ot).bind(Lo).exists(_t=>Ie(_t,ot)),Me=(ot,_t,Lt)=>E(ot,Lt).filter(an=>!Lt.useTabstopAt(an)).bind(an=>(ve(an)?oe:he)(ot,_t,Lt)),Ge=(ot,_t,Lt)=>Lt.onEnter.bind(an=>an(ot,_t)),Ze=(ot,_t,Lt)=>(ot.getSystem().broadcastOn([fw()],{closedTooltip:()=>{_t.stop()}}),_t.isStopped()?ee.none():Lt.onEscape.bind(an=>an(ot,_t))),at=V([Kr(tv([k1,jr(Sb)]),oe),Kr(jr(Sb),he),Kr(tv([D1,jr(gp)]),Ge)]),yt=V([Kr(jr(Fo),Ze),Kr(jr(Sb),Me)]);return im(l,Qg.init,at,yt,()=>ee.some(I))};var wI=SD(Fc("cyclic",ct)),G4=SD(Fc("cyclic",St));const ey=s=>ec("input")(s)&&gl(s,"type")!=="radio"||ec("textarea")(s),q4=(s,l,h)=>(sA(s,h,lu()),ee.some(!0)),vw=(s,l,h)=>ey(h)&&jr(Gd)(l.event)?ee.none():q4(s,l,h),yw=(s,l)=>ee.some(!0),K4=[nn("execute",vw),nn("useSpace",!1),nn("useEnter",!0),nn("useControlEnter",!1),nn("useDown",!1)],y0=(s,l,h)=>h.execute(s,l,s.element),dA=(s,l,h,g)=>{const E=h.useSpace&&!ey(s.element)?Gd:[],O=h.useEnter?gp:[],I=h.useDown?gC:[],q=E.concat(O).concat(I);return[Kr(jr(q),y0)].concat(h.useControlEnter?[Kr(tv([Hz,jr(gp)]),y0)]:[])},CD=(s,l,h,g)=>h.useSpace&&!ey(s.element)?[Kr(jr(Gd),yw)]:[];var Z4=im(K4,Qg.init,dA,CD,()=>ee.none());const ED=()=>{const s=As();return _f({readState:()=>s.get().map(E=>({numRows:String(E.numRows),numColumns:String(E.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(E,O)=>{s.set({numRows:E,numColumns:O})},getNumRows:()=>s.get().map(E=>E.numRows),getNumColumns:()=>s.get().map(E=>E.numColumns)})};var wD=Object.freeze({__proto__:null,flatgrid:ED,init:s=>s.state(s)});const _D=s=>(l,h,g,E)=>{const O=s(l.element);return M1(O,l,h,g,E)},bw=(s,l)=>{const h=Zy(s,l);return _D(h)},Sw=(s,l)=>{const h=Zy(l,s);return _D(h)},Cw=s=>(l,h,g,E)=>M1(s,l,h,g,E),M1=(s,l,h,g,E)=>g.focusManager.get(l).bind(I=>s(l.element,I,g,E)).map(I=>(g.focusManager.set(l,I),!0)),hA=Cw,Ew=Cw,Eb=Cw,ww=(s,l)=>cn(s,l).map(h=>({index:h,candidates:s})),_I=(s,l,h)=>{const g=I=>Ie(I,l),E=Ai(s,h),O=Vo(E,Up);return ww(O,g)},fA=(s,l)=>cn(s,h=>Ie(l,h)),TD=(s,l,h,g)=>{const E=Math.floor(l/h),O=l%h;return g(E,O).bind(I=>{const q=I.row*h+I.column;return q>=0&&q<s.length?ee.some(s[q]):ee.none()})},AD=(s,l,h,g,E)=>TD(s,l,g,(O,I)=>{const Y=O===h-1?s.length-O*g:g,oe=Xc(I,E,0,Y-1);return ee.some({row:O,column:oe})}),xD=(s,l,h,g,E)=>TD(s,l,g,(O,I)=>{const q=Xc(O,E,0,h-1),oe=q===h-1?s.length-q*g:g,he=pl(I,0,oe-1);return ee.some({row:q,column:he})}),Y4=(s,l,h,g)=>AD(s,l,h,g,1),pA=(s,l,h,g)=>AD(s,l,h,g,-1),yC=(s,l,h,g)=>xD(s,l,h,g,-1),P1=(s,l,h,g)=>xD(s,l,h,g,1),N1=[Nn("selector"),nn("execute",vw),Vl("onEscape"),nn("captureTab",!1),E1()],OD=(s,l,h)=>{ii(s.element,l.selector).each(g=>{l.focusManager.set(s,g)})},ID=(s,l)=>l.focusManager.get(s).bind(h=>bl(h,l.selector)),RD=(s,l,h,g)=>ID(s,h).bind(E=>h.execute(s,l,E)),mA=s=>(l,h,g,E)=>_I(l,h,g.selector).bind(O=>s(O.candidates,O.index,E.getNumRows().getOr(g.initSize.numRows),E.getNumColumns().getOr(g.initSize.numColumns))),kD=(s,l,h)=>h.captureTab?ee.some(!0):ee.none(),X4=(s,l,h)=>h.onEscape(s,l),DD=mA(pA),gA=mA(Y4),TI=mA(yC),vA=mA(P1),AI=V([Kr(jr(dw),bw(DD,gA)),Kr(jr(lA),Sw(DD,gA)),Kr(jr(hw),hA(TI)),Kr(jr(gC),Ew(vA)),Kr(tv([k1,jr(Sb)]),kD),Kr(tv([D1,jr(Sb)]),kD),Kr(jr(Gd.concat(gp)),RD)]),J4=V([Kr(jr(Fo),X4),Kr(jr(Gd),yw)]);var xI=im(N1,ED,AI,J4,()=>ee.some(OD));const MD=(s,l,h,g,E)=>{const O=q=>nu(q)==="button"&&gl(q,"disabled")==="disabled",I=(q,Y,oe)=>E(q,Y,g,0,oe.length-1,oe[Y],he=>O(oe[he])?I(q,he,oe):ee.from(oe[he]));return _I(s,h,l).bind(q=>{const Y=q.index,oe=q.candidates;return I(Y,Y,oe)})},PD=(s,l,h,g)=>MD(s,l,h,g,(E,O,I,q,Y,oe,he)=>{const ve=pl(O+I,q,Y);return ve===E?ee.from(oe):he(ve)}),_w=(s,l,h,g)=>MD(s,l,h,g,(E,O,I,q,Y,oe,he)=>{const ve=Xc(O,I,q,Y);return ve===E?ee.none():he(ve)}),Q4=[Nn("selector"),nn("getInitial",ee.none),nn("execute",vw),Vl("onEscape"),nn("executeOnMove",!1),nn("allowVertical",!0),nn("allowHorizontal",!0),nn("cycles",!0)],OI=(s,l)=>l.focusManager.get(s).bind(h=>bl(h,l.selector)),II=(s,l,h)=>OI(s,h).bind(g=>h.execute(s,l,g)),eB=(s,l,h)=>{l.getInitial(s).orThunk(()=>ii(s.element,l.selector)).each(g=>{l.focusManager.set(s,g)})},tB=(s,l,h)=>(h.cycles?_w:PD)(s,h.selector,l,-1),L1=(s,l,h)=>(h.cycles?_w:PD)(s,h.selector,l,1),ND=s=>(l,h,g,E)=>s(l,h,g,E).bind(()=>g.executeOnMove?II(l,h,g):ee.some(!0)),LD=(s,l,h)=>h.onEscape(s,l),nB=(s,l,h,g)=>{const E=[...h.allowHorizontal?dw:[]].concat(h.allowVertical?hw:[]),O=[...h.allowHorizontal?lA:[]].concat(h.allowVertical?gC:[]);return[Kr(jr(E),ND(bw(tB,L1))),Kr(jr(O),ND(Sw(tB,L1))),Kr(jr(gp),II),Kr(jr(Gd),II)]},oB=V([Kr(jr(Gd),yw),Kr(jr(Fo),LD)]);var sB=im(Q4,Qg.init,nB,oB,()=>ee.some(eB));const yA=(s,l,h)=>ee.from(s[l]).bind(g=>ee.from(g[h]).map(E=>({rowIndex:l,columnIndex:h,cell:E}))),Tw=(s,l,h,g)=>{const O=s[l].length,I=Xc(h,g,0,O-1);return yA(s,l,I)},RI=(s,l,h,g)=>{const E=Xc(h,g,0,s.length-1),O=s[E].length,I=pl(l,0,O-1);return yA(s,E,I)},Aw=(s,l,h,g)=>{const O=s[l].length,I=pl(h+g,0,O-1);return yA(s,l,I)},BD=(s,l,h,g)=>{const E=pl(h+g,0,s.length-1),O=s[E].length,I=pl(l,0,O-1);return yA(s,E,I)},xw=(s,l,h)=>Tw(s,l,h,1),rB=(s,l,h)=>Tw(s,l,h,-1),bA=(s,l,h)=>RI(s,h,l,-1),iB=(s,l,h)=>RI(s,h,l,1),FD=(s,l,h)=>Aw(s,l,h,-1),Gz=(s,l,h)=>Aw(s,l,h,1),aB=(s,l,h)=>BD(s,h,l,-1),B1=(s,l,h)=>BD(s,h,l,1),SA=[zm("selectors",[Nn("row"),Nn("cell")]),nn("cycles",!0),nn("previousSelector",ee.none),nn("execute",vw)],CA=(s,l,h)=>{l.previousSelector(s).orThunk(()=>{const E=l.selectors;return ii(s.element,E.cell)}).each(E=>{l.focusManager.set(s,E)})},VD=(s,l,h)=>Ya(s.element).bind(g=>h.execute(s,l,g)),lB=(s,l)=>Dt(s,h=>Ai(h,l.selectors.cell)),EA=(s,l)=>(h,g,E)=>{const O=E.cycles?s:l;return bl(g,E.selectors.row).bind(I=>{const q=Ai(I,E.selectors.cell);return fA(q,g).bind(Y=>{const oe=Ai(h,E.selectors.row);return fA(oe,I).bind(he=>{const ve=lB(oe,E);return O(ve,he,Y).map(Me=>Me.cell)})})})},HD=EA(rB,FD),$D=EA(xw,Gz),wA=EA(bA,aB),ty=EA(iB,B1),UD=V([Kr(jr(dw),bw(HD,$D)),Kr(jr(lA),Sw(HD,$D)),Kr(jr(hw),hA(wA)),Kr(jr(gC),Ew(ty)),Kr(jr(Gd.concat(gp)),VD)]),cB=V([Kr(jr(Gd),yw)]);var uB=im(SA,Qg.init,UD,cB,()=>ee.some(CA));const dB=[Nn("selector"),nn("execute",vw),nn("moveOnTab",!1)],bC=(s,l,h)=>h.focusManager.get(s).bind(g=>h.execute(s,l,g)),zD=(s,l,h)=>{ii(s.element,l.selector).each(g=>{l.focusManager.set(s,g)})},kI=(s,l,h)=>_w(s,h.selector,l,-1),_A=(s,l,h)=>_w(s,h.selector,l,1),nv=(s,l,h,g)=>h.moveOnTab?Eb(kI)(s,l,h,g):ee.none(),Ow=(s,l,h,g)=>h.moveOnTab?Eb(_A)(s,l,h,g):ee.none(),ny=V([Kr(jr(hw),Eb(kI)),Kr(jr(gC),Eb(_A)),Kr(tv([k1,jr(Sb)]),nv),Kr(tv([D1,jr(Sb)]),Ow),Kr(jr(gp),bC),Kr(jr(Gd),bC)]),TA=V([Kr(jr(Gd),yw)]);var jD=im(dB,Qg.init,ny,TA,()=>ee.some(zD));const WD=[Vl("onSpace"),Vl("onEnter"),Vl("onShiftEnter"),Vl("onLeft"),Vl("onRight"),Vl("onTab"),Vl("onShiftTab"),Vl("onUp"),Vl("onDown"),Vl("onEscape"),nn("stopSpaceKeyup",!1),di("focusIn")],hB=(s,l,h)=>[Kr(jr(Gd),h.onSpace),Kr(tv([D1,jr(gp)]),h.onEnter),Kr(tv([k1,jr(gp)]),h.onShiftEnter),Kr(tv([k1,jr(Sb)]),h.onShiftTab),Kr(tv([D1,jr(Sb)]),h.onTab),Kr(jr(hw),h.onUp),Kr(jr(gC),h.onDown),Kr(jr(dw),h.onLeft),Kr(jr(lA),h.onRight),Kr(jr(Gd),h.onSpace)],GD=(s,l,h)=>[...h.stopSpaceKeyup?[Kr(jr(Gd),yw)]:[],Kr(jr(Fo),h.onEscape)];var fB=im(WD,Qg.init,hB,GD,s=>s.focusIn);const pB=wI.schema(),mB=G4.schema(),SC=sB.schema(),Iw=xI.schema(),qD=uB.schema(),Rw=Z4.schema(),gB=jD.schema(),vB=fB.schema();var oy=Object.freeze({__proto__:null,acyclic:pB,cyclic:mB,flow:SC,flatgrid:Iw,matrix:qD,execution:Rw,menu:gB,special:vB});const ov=s=>en(s,"setGridSize"),ls=cD({branchKey:"mode",branches:oy,name:"keying",active:{events:(s,l)=>s.handler.toEvents(s,l)},apis:{focusIn:(s,l,h)=>{l.sendFocusIn(l).fold(()=>{s.getSystem().triggerFocus(s.element,s.element)},g=>{g(s,l,h)})},setGridSize:(s,l,h,g,E)=>{ov(h)?h.setGridSize(g,E):console.error("Layout does not support setGridSize")}},state:wD}),kw=wo("alloy-premade"),KD=s=>(Object.defineProperty(s.element.dom,kw,{value:s.uid,writable:!0}),Ug(kw,s)),ZD=s=>Zt(s.dom,kw),F1=s=>wt(s,kw),wb=s=>Y2((l,...h)=>s(l.getApis(),l,...h),s),Dw=s=>s.getSystem().isConnected(),CC=s=>{_r(s,qg());const l=s.components();un(l,CC)},sv=s=>{const l=s.components();un(l,sv),_r(s,tm())},EC=(s,l)=>{s.getSystem().addToWorld(l),zr(s.element)&&sv(l)},DI=s=>{CC(s),s.getSystem().removeFromWorld(s)},AA=(s,l)=>{oc(s.element,l.element)},Mw=s=>{un(s.components(),l=>Ld(l.element)),Xb(s.element),s.syncComponents()},YD=(s,l,h)=>{const g=s.components();Mw(s);const E=h(l),O=Ve(g,E);un(O,I=>{CC(I),s.getSystem().removeFromWorld(I)}),un(E,I=>{Dw(I)?AA(s,I):(s.getSystem().addToWorld(I),AA(s,I),zr(s.element)&&sv(I))}),s.syncComponents()},Tf=(s,l,h)=>{const g=s.components(),E=qe(l,q=>F1(q).toArray());un(g,q=>{tn(E,q)||DI(q)});const O=h(l),I=Ve(g,O);un(I,q=>{Dw(q)&&DI(q)}),un(O,q=>{Dw(q)||EC(s,q)}),s.syncComponents()},sy=(s,l)=>{V1(s,l,oc)},V1=(s,l,h)=>{s.getSystem().addToWorld(l),h(s.element,l.element),zr(s.element)&&sv(l),s.syncComponents()},Xm=s=>{CC(s),Ld(s.element),s.getSystem().removeFromWorld(s)},ry=s=>{const l=to(s.element).bind(h=>s.getSystem().getByDom(h).toOptional());Xm(s),l.each(h=>{h.syncComponents()})},Pw=s=>{const l=s.components();un(l,Xm),Xb(s.element),s.syncComponents()},Nw=(s,l)=>{MI(s,l,oc)},iy=(s,l)=>{MI(s,l,ll)},MI=(s,l,h)=>{h(s,l.element);const g=vr(l.element);un(g,E=>{l.getByDom(E).each(sv)})},XD=s=>{const l=vr(s.element);un(l,h=>{s.getByDom(h).each(CC)}),Ld(s.element)},Lw=(s,l,h)=>Ur(s,l).map(E=>{if(h.exists(I=>!Ie(I,E))){const I=h.map(nu).getOr("span"),q=po.fromTag(I);return cf(E,q),q}else return E}),rv=(s,l,h)=>{h.fold(()=>oc(s,l),g=>{Ie(g,l)||(cf(g,l),Ld(g))})},JD=(s,l,h)=>{const g=Dt(l,h),E=vr(s);return un(E.slice(g.length),Ld),g},yB=(s,l,h,g)=>{const E=Ur(s,l),O=g(h,E),I=Lw(s,l,E);return rv(s,O.element,I),O},bB=(s,l,h)=>JD(s,l,(g,E)=>yB(s,E,g,h)),QD=(s,l)=>JD(s,l,(h,g)=>{const E=Ur(s,g);return rv(s,h,E),h}),H1=(s,l)=>{const h=oa(l),g=ql(h).bind(O=>{const I=q=>Ie(O,q);return I(l)?ee.some(l):d1(l,I)}),E=s(l);return g.each(O=>{ql(h).filter(I=>Ie(I,O)).fold(()=>{ra(O)},se)}),E},eM=(s,l)=>{H1(()=>{YD(s,l,()=>Dt(l,s.getSystem().build))},s.element)},tM=(s,l)=>{H1(()=>{Tf(s,l,()=>bB(s.element,l,s.getSystem().buildOrPatch))},s.element)},Af=(s,l,h,g)=>{DI(l);const E=yB(s.element,h,g,s.getSystem().buildOrPatch);EC(s,E),s.syncComponents()},b0=(s,l,h)=>{const g=s.getSystem().build(h);V1(s,g,l)},xA=(s,l,h,g)=>{ry(l),b0(s,(E,O)=>Yb(E,O,h),g)},wC=(s,l,h,g)=>(l.reuseDom?tM:eM)(s,g),jh=(s,l,h,g)=>{b0(s,oc,g)},du=(s,l,h,g)=>{b0(s,Wy,g)},hu=(s,l,h,g)=>{const E=xf(s);xt(E,I=>Ie(g.element,I.element)).each(ry)},xf=(s,l)=>s.components(),OA=(s,l,h,g,E)=>{const O=xf(s);return ee.from(O[g]).map(I=>(E.fold(()=>ry(I),q=>{(l.reuseDom?Af:xA)(s,I,g,q)}),I))};var S0=Object.freeze({__proto__:null,append:jh,prepend:du,remove:hu,replaceAt:OA,replaceBy:(s,l,h,g,E)=>{const O=xf(s);return cn(O,g).bind(I=>OA(s,l,h,I,E))},set:wC,contents:xf});const Xs=uu({fields:[Vc("reuseDom",!0)],name:"replacing",apis:S0}),PI=(s,l,h)=>Ie(l,s.element)&&!Ie(l,h),ay=Ia([uw(dp(),(s,l)=>{const h=l.event,g=h.originator,E=h.target;return PI(s,g,E)?(console.warn(dp()+` did not get interpreted by the desired target. 
Originator: `+fh(g)+`
Target: `+fh(E)+`
Check the `+dp()+" event handlers"),!1):!0})]);var nM=Object.freeze({__proto__:null,events:ay});const oM=V("alloy-id-"),IA=V("data-alloy-id"),sM=oM(),rM=IA(),iM=(s,l)=>{const h=wo(sM+s);return RA(l,h),h},RA=(s,l)=>{Object.defineProperty(s.dom,rM,{value:l,writable:!0})},iv=s=>{const l=xc(s)?s.dom[rM]:null;return ee.from(l)},$1=s=>wo(s),aM=ke,_C=s=>{const l=E=>`The component must be in a context to execute: ${E}`+(s?`
`+fh(s().element)+" is not in context.":""),h=E=>()=>{throw new Error(l(E))},g=E=>()=>{console.warn(l(E))};return{debugInfo:V("fake"),triggerEvent:g("triggerEvent"),triggerFocus:g("triggerFocus"),triggerEscape:g("triggerEscape"),broadcast:g("broadcast"),broadcastOn:g("broadcastOn"),broadcastEvent:g("broadcastEvent"),build:h("build"),buildOrPatch:h("buildOrPatch"),addToWorld:h("addToWorld"),removeFromWorld:h("removeFromWorld"),addToGui:h("addToGui"),removeFromGui:h("removeFromGui"),getByUid:h("getByUid"),getByDom:h("getByDom"),isConnected:ct}},lM=_C(),kA=(s,l)=>{const h=Dt(l,E=>dh(E.name(),[Nn("config"),nn("state",Qg)])),g=Na("component.behaviours",Os(h),s.behaviours).fold(E=>{throw new Error(up(E)+`
Complete spec:
`+JSON.stringify(s,null,2))},ke);return{list:l,data:Wo(g,E=>{const O=E.map(I=>({config:I.config,state:I.state.init(I.config)}));return V(O)})}},fu=s=>s.list,SB=s=>s.data,NI=(s,l)=>{const h={};return _s(s,(g,E)=>{_s(g,(O,I)=>{const q=wt(h,I).getOr([]);h[I]=q.concat([l(E,O)])})}),h},CB=(s,l,h,g)=>{const E={...l};un(h,he=>{E[he.name()]=he.exhibit(s,g)});const O=NI(E,(he,ve)=>({name:he,modification:ve})),I=he=>Eo(he,(ve,Me)=>({...Me.modification,...ve}),{}),q=Eo(O.classes,(he,ve)=>ve.modification.concat(he),[]),Y=I(O.attributes),oe=I(O.styles);return Ym({classes:q,attributes:Y,styles:oe})},EB=(s,l,h,g)=>{try{const E=Gt(h,(O,I)=>{const q=O[l],Y=I[l],oe=g.indexOf(q),he=g.indexOf(Y);if(oe===-1)throw new Error("The ordering for "+s+" does not have an entry for "+q+`.
Order specified: `+JSON.stringify(g,null,2));if(he===-1)throw new Error("The ordering for "+s+" does not have an entry for "+Y+`.
Order specified: `+JSON.stringify(g,null,2));return oe<he?-1:he<oe?1:0});return zo.value(E)}catch(E){return zo.error([E])}},am=(s,l)=>({handler:s,purpose:l}),qz=(s,l)=>({cHandler:s,purpose:l}),DA=(s,l)=>qz($e.apply(void 0,[s.handler].concat(l)),s.purpose),_b=s=>s.cHandler,LI=(s,l)=>({name:s,handler:l}),TC=(s,l)=>{const h={};return un(s,g=>{h[g.name()]=g.handlers(l)}),h},cM=(s,l,h)=>{const g={...h,...TC(l,s)};return NI(g,LI)},BI=(s,l,h,g)=>{const E=cM(s,h,g);return U1(E,l)},FI=s=>{const l=lI(s);return(h,g,...E)=>{const O=[h,g].concat(E);l.abort.apply(void 0,O)?g.stop():l.can.apply(void 0,O)&&l.run.apply(void 0,O)}},uM=(s,l)=>zo.error(["The event ("+s+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Dt(l,h=>h.name),null,2)]),MA=(s,l,h)=>{const g=l[h];return g?EB("Event: "+h,"name",s,g).map(E=>{const O=Dt(E,I=>I.handler);return oD(O)}):uM(h,s)},U1=(s,l)=>{const h=Je(s,(g,E)=>(g.length===1?zo.value(g[0].handler):MA(g,l,E)).map(I=>{const q=FI(I),Y=g.length>1?Vo(l[E],oe=>eo(g,he=>he.name===oe)).join(" > "):g[0].name;return Ug(E,am(q,Y))}));return Hc(h,{})},Qm="alloy.base.behaviour",dM=Os([Cc("dom","dom",mf(),Os([Nn("tag"),nn("styles",{}),nn("classes",[]),nn("attributes",{}),di("value"),di("innerHtml")])),Nn("components"),Nn("uid"),nn("events",{}),nn("apis",{}),Cc("eventOrder","eventOrder",UE({[lu()]:["disabling",Qm,"toggling","typeaheadevents"],[dp()]:[Qm,"focusing","keying"],[eC()]:[Qm,"disabling","toggling","representing","tooltipping"],[Xp()]:[Qm,"representing","streaming","invalidating"],[qg()]:[Qm,"representing","item-events","toolbar-button-events","tooltipping"],[pd()]:["focusing",Qm,"item-type-events"],[zg()]:["focusing",Qm,"item-type-events"],[yf()]:["item-type-events","tooltipping"],[Qp()]:["receiving","reflecting","tooltipping"]}),Wn()),di("domModification")]),wB=s=>Na("custom.definition",dM,s),VI=s=>({...s.dom,uid:s.uid,domChildren:Dt(s.components,l=>l.element)}),PA=s=>s.domModification.fold(()=>Ym({}),Ym),HI=s=>s.events,AC=(s,l)=>{const h=io(s),g=io(l),E=Ve(g,h),O=je(s,(I,q)=>!Zt(l,q)||I!==l[q]).t;return{toRemove:E,toSet:O}},NA=(s,l)=>{const{class:h,style:g,...E}=Om(l),{toSet:O,toRemove:I}=AC(s.attributes,E),q=()=>{un(I,Lt=>ia(l,Lt)),a1(l,O)},Y=vl(l),{toSet:oe,toRemove:he}=AC(s.styles,Y),ve=()=>{un(he,Lt=>wr(l,Lt)),ha(l,oe)},Me=h1(l),Ge=Ve(Me,s.classes),Ze=Ve(s.classes,Me),at=()=>{Hh(l,Ze),Ic(l,Ge)},yt=Lt=>{Bh(l,Lt)},ot=()=>{const Lt=s.domChildren;QD(l,Lt)},_t=()=>{const Lt=l,an=s.value.getOrUndefined();an!==Al(Lt)&&pf(Lt,an??"")};return q(),at(),ve(),s.innerHtml.fold(ot,yt),_t(),l},$I=s=>{const l=po.fromTag(s.tag);a1(l,s.attributes),Hh(l,s.classes),ha(l,s.styles),s.innerHtml.each(g=>Bh(l,g));const h=s.domChildren;return br(l,h),s.value.each(g=>{pf(l,g)}),l},hM=(s,l)=>{try{const h=NA(s,l);return ee.some(h)}catch{return ee.none()}},Bw=s=>s.innerHtml.isSome()&&s.domChildren.length>0,_B=(s,l)=>{const h=E=>nu(E)===s.tag&&!Bw(s)&&!ZD(E),g=l.filter(h).bind(E=>hM(s,E)).getOrThunk(()=>$I(s));return RA(g,s.uid),g},TB=s=>{const l=wt(s,"behaviours").getOr({});return qe(io(l),h=>{const g=l[h];return z(g)?[g.me]:[]})},fM=(s,l)=>kA(s,l),z1=s=>{const l=TB(s);return fM(s,l)},UI=(s,l,h)=>{const g=VI(s),E=PA(s),O={"alloy.base.modification":E},I=l.length>0?CB(h,O,l,g):E;return M4(g,I)},AB=(s,l,h)=>{const g={"alloy.base.behaviour":HI(s)};return BI(h,s.eventOrder,l,g).getOrDie()},pM=(s,l)=>{const h=()=>Lt,g=Wt(lM),E=cp(wB(s)),O=z1(s),I=fu(O),q=SB(O),Y=UI(E,I,q),oe=_B(Y,l),he=AB(E,I,q),ve=Wt(E.components),Me=an=>{g.set(an)},Ge=()=>{g.set(_C(h))},Ze=()=>{const an=vr(oe),hn=qe(an,vo=>g.get().getByDom(vo).fold(()=>[],Nt));ve.set(hn)},at=an=>{const hn=q;return(Z(hn[an.name()])?hn[an.name()]:()=>{throw new Error("Could not find "+an.name()+" in "+JSON.stringify(s,null,2))})()},yt=an=>Z(q[an.name()]),ot=()=>E.apis,_t=an=>q[an]().map(hn=>hn.state.readState()).getOr("not enabled"),Lt={uid:s.uid,getSystem:g.get,config:at,hasConfigured:yt,spec:s,readState:_t,getApis:ot,connect:Me,disconnect:Ge,element:oe,syncComponents:Ze,components:ve.get,events:he};return Lt},xB=(s,l)=>{const h=wt(s,"components").getOr([]);return l.fold(()=>Dt(h,k),g=>Dt(h,(E,O)=>w(E,Ur(g,O))))},mM=(s,l)=>{const{events:h,...g}=aM(s),E=xB(g,l),O={...g,events:{...nM,...h},components:E};return zo.value(pM(O,l))},va=s=>{const l=po.fromText(s);return j1({element:l})},j1=s=>{const l=dd("external.component",uh([Nn("element"),di("uid")]),s),h=Wt(_C()),g=q=>{h.set(q)},E=()=>{h.set(_C(()=>I))},O=l.uid.getOrThunk(()=>$1("external"));RA(l.element,O);const I={uid:O,getSystem:h.get,config:ee.none,hasConfigured:ct,connect:g,disconnect:E,getApis:()=>({}),element:l.element,spec:s,readState:V("No state"),syncComponents:se,components:V([]),events:{}};return KD(I)},zI=$1,y=s=>Zt(s,"uid"),w=(s,l)=>F1(s).getOrThunk(()=>{const h=y(s)?s:{uid:zI(""),...s};return mM(h,l).getOrDie()}),k=s=>w(s,ee.none()),W=KD;var Ue=Object.freeze({__proto__:null,block:(s,l,h,g)=>{gs(s.element,"aria-busy",!0);const E=l.getRoot(s).getOr(s),O=ho([ls.config({mode:"special",onTab:()=>ee.some(!0),onShiftTab:()=>ee.some(!0)}),qs.config({})]),I=g(E,O),q=E.getSystem().build(I);Xs.append(E,W(q)),q.hasConfigured(ls)&&l.focus&&ls.focusIn(q),h.isBlocked()||l.onBlock(s),h.blockWith(()=>Xs.remove(E,q))},unblock:(s,l,h)=>{ia(s.element,"aria-busy"),h.isBlocked()&&l.onUnblock(s),h.clear()},isBlocked:(s,l,h)=>h.isBlocked()}),tt=[hi("getRoot",ee.none),Vc("focus",!0),Pr("onBlock"),Pr("onUnblock")],Qt=Object.freeze({__proto__:null,init:()=>{const s=Ih(),l=h=>{s.set({destroy:h})};return _f({readState:s.isSet,blockWith:l,clear:s.clear,isBlocked:s.isSet})}});const zn=uu({fields:tt,name:"blocking",apis:Ue,state:Qt});var Ro=Object.freeze({__proto__:null,getCurrent:(s,l,h)=>l.find(s)});const ps=[Nn("find")],yn=uu({fields:ps,name:"composing",apis:Ro});var er=Object.freeze({__proto__:null,getCoupled:(s,l,h,g)=>h.getOrCreate(s,l,g),getExistingCoupled:(s,l,h,g)=>h.getExisting(s,l,g)}),Jo=[Hu("others",WE(zo.value,Wn()))],Si=Object.freeze({__proto__:null,init:()=>{const s={},l=(O,I)=>{if(io(O.others).length===0)throw new Error("Cannot find any known coupled components");return wt(s,I)},h=(O,I,q)=>l(I,q).getOrThunk(()=>{const oe=wt(I.others,q).getOrDie("No information found for coupled component: "+q)(O),he=O.getSystem().build(oe);return s[q]=he,he}),g=(O,I,q)=>l(I,q).orThunk(()=>(wt(I.others,q).getOrDie("No information found for coupled component: "+q),ee.none())),E=V({});return _f({readState:E,getExisting:g,getOrCreate:h})}});const Ks=uu({fields:Jo,name:"coupling",apis:er,state:Si}),Kl=["input","button","textarea","select"],vp=(s,l,h)=>{(l.disabled()?Wh:Ab)(s,l)},Tb=(s,l)=>l.useNative===!0&&tn(Kl,nu(s.element)),C0=s=>Ll(s.element,"disabled"),E0=s=>{gs(s.element,"disabled","disabled")},zi=s=>{ia(s.element,"disabled")},gh=s=>gl(s.element,"aria-disabled")==="true",vh=s=>{gs(s.element,"aria-disabled","true")},lm=s=>{gs(s.element,"aria-disabled","false")},Wh=(s,l,h)=>{l.disableClass.each(E=>{Ti(s.element,E)}),(Tb(s,l)?E0:vh)(s),l.onDisabled(s)},Ab=(s,l,h)=>{l.disableClass.each(E=>{ui(s.element,E)}),(Tb(s,l)?zi:lm)(s),l.onEnabled(s)},vd=(s,l)=>Tb(s,l)?C0(s):gh(s);var xC=Object.freeze({__proto__:null,enable:Ab,disable:Wh,isDisabled:vd,onLoad:vp,set:(s,l,h,g)=>{(g?Wh:Ab)(s,l)}}),OB=Object.freeze({__proto__:null,exhibit:(s,l)=>Ym({classes:l.disabled()?l.disableClass.toArray():[]}),events:(s,l)=>Ia([rA(lu(),(h,g)=>vd(h,s)),hI(s,l,vp)])}),IB=[hi("disabled",ct),nn("useNative",!0),di("disableClass"),Pr("onDisabled"),Pr("onEnabled")];const as=uu({fields:IB,name:"disabling",active:OB,apis:xC}),eg=(s,l,h,g,E)=>{const O=I=>I+"px";return{position:s,left:l.map(O),top:h.map(O),right:g.map(O),bottom:E.map(O)}},gM=s=>({...s,position:ee.some(s.position)}),LA=(s,l)=>{Pa(s,gM(l))},vM=(s,l)=>{const h=s.element;Ti(h,l.transitionClass),ui(h,l.fadeOutClass),Ti(h,l.fadeInClass),l.onShow(s)},Vw=(s,l)=>{const h=s.element;Ti(h,l.transitionClass),ui(h,l.fadeInClass),Ti(h,l.fadeOutClass),l.onHide(s)},Fte=(s,l)=>s.y<l.bottom&&s.bottom>l.y,RB=(s,l)=>s.y>=l.y,Hw=(s,l)=>s.bottom<=l.bottom,yM=(s,l,h)=>({location:"top",leftX:l,topY:h.bounds.y-s.y}),bM=(s,l,h)=>({location:"bottom",leftX:l,bottomY:s.bottom-h.bounds.bottom}),kB=s=>s.box.x-s.win.x,Kz=(s,l,h)=>{const g=l.win,E=l.box,O=kB(l);return ro(s,I=>{switch(I){case"bottom":return Hw(E,h.bounds)?ee.none():ee.some(bM(g,O,h));case"top":return RB(E,h.bounds)?ee.none():ee.some(yM(g,O,h));default:return ee.none()}}).getOr({location:"no-dock"})},Zz=(s,l,h)=>pt(s,g=>{switch(g){case"bottom":return Hw(l,h.bounds);case"top":return RB(l,h.bounds)}}),Vte=(s,l)=>{const h=l.optScrollEnv.fold(V(s.bounds.y),g=>g.scrollElmTop+(s.bounds.y-g.currentScrollTop));return ri(s.bounds.x,h)},Hte=(s,l)=>{const h=l.optScrollEnv.fold(V(s.y),g=>s.y+g.currentScrollTop-g.scrollElmTop);return ri(s.x,h)},DB=(s,l,h)=>h.getInitialPos().map(g=>{const E=Vte(g,l);return{box:Gr(E.left,E.top,Sc(s),_l(s)),location:g.location}}),Yz=(s,l,h,g,E)=>{const O=Hte(l,h),I=Gr(O.left,O.top,l.width,l.height);g.setInitialPos({style:vl(s),position:aa(s,"position")||"static",bounds:I,location:E.location})},$te=(s,l,h,g,E)=>{g.getInitialPos().fold(()=>Yz(s,l,h,g,E),()=>se)},Xz=(s,l,h)=>h.getInitialPos().bind(g=>{switch(h.clearInitialPos(),g.position){case"static":return ee.some({morph:"static"});case"absolute":const E=Pg(s).getOr(Bd()),O=Fl(E),I=E.dom.scrollTop??0;return ee.some({morph:"absolute",positionCss:eg("absolute",wt(g.style,"left").map(q=>l.x-O.x),wt(g.style,"top").map(q=>l.y-O.y+I),wt(g.style,"right").map(q=>O.right-l.right),wt(g.style,"bottom").map(q=>O.bottom-l.bottom))});default:return ee.none()}}),SM=(s,l,h)=>DB(s,l,h).filter(({box:g})=>Zz(h.getModes(),g,l)).bind(({box:g})=>Xz(s,g,h)),jI=s=>{switch(s.location){case"top":return ee.some({morph:"fixed",positionCss:eg("fixed",ee.some(s.leftX),ee.some(s.topY),ee.none(),ee.none())});case"bottom":return ee.some({morph:"fixed",positionCss:eg("fixed",ee.some(s.leftX),ee.none(),ee.none(),ee.some(s.bottomY))});default:return ee.none()}},Ute=(s,l,h)=>{const g=Fl(s),E=Fu(),O=Kz(h.getModes(),{win:E,box:g},l);return O.location==="top"||O.location==="bottom"?(Yz(s,g,l,h,O),jI(O)):ee.none()},eSe=(s,l,h)=>SM(s,l,h).orThunk(()=>l.optScrollEnv.bind(g=>DB(s,l,h)).bind(({box:g,location:E})=>{const O=Fu(),I=kB({win:O,box:g}),q=E==="top"?yM(O,I,l):bM(O,I,l);return jI(q)})),Jz=(s,l,h)=>{const g=s.element;return Pc(fa(g,"position"),"fixed")?eSe(g,l,h):Ute(g,l,h)},zte=(s,l,h)=>{const g=s.element;return DB(g,l,h).bind(({box:E})=>Xz(g,E,h))},jte=(s,l,h,g)=>{const E=Fl(s),O=Fu(),I=kB({win:O,box:E}),q=g(O,I,l);return q.location==="bottom"||q.location==="top"?($te(s,E,l,h,q),jI(q)):ee.none()},tg=(s,l,h)=>{h.setDocked(!1),un(["left","right","top","bottom","position"],g=>wr(s.element,g)),l.onUndocked(s)},MB=(s,l,h,g)=>{const E=g.position==="fixed";h.setDocked(E),LA(s.element,g),(E?l.onDocked:l.onUndocked)(s)},Qz=(s,l,h,g,E=!1)=>{l.contextual.each(O=>{O.lazyContext(s).each(I=>{const q=Fte(I,g.bounds);q!==h.isVisible()&&(h.setVisible(q),E&&!q?(Hh(s.element,[O.fadeOutClass]),O.onHide(s)):(q?vM:Vw)(s,O))})})},ej=(s,l,h,g,E)=>{Qz(s,l,h,g,!0),MB(s,l,h,E.positionCss)},Wte=(s,l,h,g,E)=>{switch(E.morph){case"static":return tg(s,l,h);case"absolute":return MB(s,l,h,E.positionCss);case"fixed":return ej(s,l,h,g,E)}},Gte=(s,l,h)=>{const g=l.lazyViewport(s);Qz(s,l,h,g),Jz(s,g,h).each(E=>{Wte(s,l,h,g,E)})},BA=(s,l,h)=>{const g=s.element;h.setDocked(!1);const E=l.lazyViewport(s);zte(s,E,h).each(O=>{switch(O.morph){case"static":{tg(s,l,h);break}case"absolute":{MB(s,l,h,O.positionCss);break}}}),h.setVisible(!0),l.contextual.each(O=>{Ic(g,[O.fadeInClass,O.fadeOutClass,O.transitionClass]),O.onShow(s)}),FA(s,l,h)},FA=(s,l,h)=>{s.getSystem().isConnected()&&Gte(s,l,h)},tj=(s,l,h)=>{h.isDocked()&&BA(s,l,h)},CM=s=>(l,h,g)=>{const E=h.lazyViewport(l);jte(l.element,E,g,s).each(I=>{ej(l,h,g,E,I)})},EM=CM(yM),PB=CM(bM);var qte=Object.freeze({__proto__:null,refresh:FA,reset:tj,isDocked:(s,l,h)=>h.isDocked(),getModes:(s,l,h)=>h.getModes(),setModes:(s,l,h,g)=>h.setModes(g),forceDockToTop:EM,forceDockToBottom:PB}),Kte=Object.freeze({__proto__:null,events:(s,l)=>Ia([R1(md(),(h,g)=>{s.contextual.each(E=>{Xa(h.element,E.transitionClass)&&(Ic(h.element,[E.transitionClass,E.fadeInClass]),(l.isVisible()?E.onShown:E.onHidden)(h)),g.stop()})}),En(pb(),(h,g)=>{FA(h,s,l)}),En(PT(),(h,g)=>{FA(h,s,l)}),En(mb(),(h,g)=>{tj(h,s,l)})])}),Zte=[dh("contextual",[sc("fadeInClass"),sc("fadeOutClass"),sc("transitionClass"),Uh("lazyContext"),Pr("onShow"),Pr("onShown"),Pr("onHide"),Pr("onHidden")]),hi("lazyViewport",()=>({bounds:Fu(),optScrollEnv:ee.none()})),zv("modes",["top","bottom"],$a),Pr("onDocked"),Pr("onUndocked")],wM=Object.freeze({__proto__:null,init:s=>{const l=Wt(!1),h=Wt(!0),g=As(),E=Wt(s.modes),O=()=>`docked:  ${l.get()}, visible: ${h.get()}, modes: ${E.get().join(",")}`;return _f({isDocked:l.get,setDocked:l.set,getInitialPos:g.get,setInitialPos:g.set,clearInitialPos:g.clear,isVisible:h.get,setVisible:h.set,getModes:E.get,setModes:E.set,readState:O})}});const nl=uu({fields:Zte,name:"docking",active:Kte,apis:qte,state:wM}),NB=sn.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),_M=s=>l=>l.translate(-s.left,-s.top),TM=s=>l=>l.translate(s.left,s.top),ng=s=>(l,h)=>Oo(s,(g,E)=>E(g),ri(l,h)),VA=(s,l,h)=>s.fold(ng([TM(h),_M(l)]),ng([_M(l)]),ng([])),HA=(s,l,h)=>s.fold(ng([TM(h)]),ng([]),ng([TM(l)])),AM=(s,l,h)=>s.fold(ng([]),ng([_M(h)]),ng([TM(l),_M(h)])),Xte=(s,l,h,g,E,O)=>{const I=HA(s,E,O),q=HA(l,E,O);return Math.abs(I.left-q.left)<=h&&Math.abs(I.top-q.top)<=g},ko=(s,l,h,g,E,O)=>{const I=HA(s,E,O),q=HA(l,E,O),Y=Math.abs(I.left-q.left),oe=Math.abs(I.top-q.top);return ri(Y,oe)},LB=(s,l,h)=>{const g=s.fold((E,O)=>({position:ee.some("absolute"),left:ee.some(E+"px"),top:ee.some(O+"px")}),(E,O)=>({position:ee.some("absolute"),left:ee.some(E-h.left+"px"),top:ee.some(O-h.top+"px")}),(E,O)=>({position:ee.some("fixed"),left:ee.some(E+"px"),top:ee.some(O+"px")}));return{right:ee.none(),bottom:ee.none(),...g}},nj=(s,l,h)=>s.fold((g,E)=>xM(g+l,E+h),(g,E)=>G1(g+l,E+h),(g,E)=>w0(g+l,E+h)),W1=(s,l,h,g)=>{const E=(O,I)=>(q,Y)=>{const oe=O(l,h,g);return I(q.getOr(oe.left),Y.getOr(oe.top))};return s.fold(E(AM,xM),E(HA,G1),E(VA,w0))},xM=NB.offset,G1=NB.absolute,w0=NB.fixed,OM=(s,l)=>{const h=gl(s,l);return H(h)?NaN:parseInt(h,10)},Jte=(s,l)=>{const h=s.element,g=OM(h,l.leftAttr),E=OM(h,l.topAttr);return isNaN(g)||isNaN(E)?ee.none():ee.some(ri(g,E))},oj=(s,l,h)=>{const g=s.element;gs(g,l.leftAttr,h.left+"px"),gs(g,l.topAttr,h.top+"px")},sj=(s,l)=>{const h=s.element;ia(h,l.leftAttr),ia(h,l.topAttr)},BB=(s,l,h,g)=>Jte(s,l).fold(()=>h,E=>w0(E.left+g.left,E.top+g.top)),Qte=(s,l,h,g,E,O)=>{const I=BB(s,l,h,g),q=l.mustSnap?ene(s,l,I,E,O):aj(s,l,I,E,O),Y=VA(I,E,O);return oj(s,l,Y),q.fold(()=>({coord:w0(Y.left,Y.top),extra:ee.none()}),oe=>({coord:oe.output,extra:oe.extra}))},rj=(s,l)=>{sj(s,l)},ij=(s,l,h,g)=>ro(s,E=>{const O=E.sensor;return Xte(l,O,E.range.left,E.range.top,h,g)?ee.some({output:W1(E.output,l,h,g),extra:E.extra}):ee.none()}),ene=(s,l,h,g,E)=>{const O=l.getSnapPoints(s);return ij(O,h,g,E).orThunk(()=>Oo(O,(Y,oe)=>{const he=oe.sensor,ve=ko(h,he,oe.range.left,oe.range.top,g,E);return Y.deltas.fold(()=>({deltas:ee.some(ve),snap:ee.some(oe)}),Me=>{const Ge=(ve.left+ve.top)/2,Ze=(Me.left+Me.top)/2;return Ge<=Ze?{deltas:ee.some(ve),snap:ee.some(oe)}:Y})},{deltas:ee.none(),snap:ee.none()}).snap.map(Y=>({output:W1(Y.output,h,g,E),extra:Y.extra})))},aj=(s,l,h,g,E)=>{const O=l.getSnapPoints(s);return ij(O,h,g,E)},tne=(s,l,h)=>({coord:W1(s.output,s.output,l,h),extra:s.extra});var FB=Object.freeze({__proto__:null,snapTo:(s,l,h,g)=>{const E=l.getTarget(s.element);if(l.repositionTarget){const O=vt(s.element),I=Ha(O),q=jS(E),Y=tne(g,I,q),oe=LB(Y.coord,I,q);Pa(E,oe)}}});const ju=(s,l)=>ZE(s,{},Dt(l,h=>c0(h.name(),"Cannot configure "+h.name()+" for "+s)).concat([Fc("dump",ke)])),$w=s=>s.dump,pu=(s,l)=>({...ho(l),...s.dump}),cm={field:ju,augment:pu,get:$w},_0=(s,l)=>(s.length>0?[zm("parts",s)]:[]).concat([Nn("uid"),nn("dom",{}),nn("components",[]),p0("originalSpec"),nn("debug.sketcher",{})]).concat(l),VB=(s,l,h,g,E)=>{const O=_0(g,E);return dd(s+" [SpecSchema]",uh(O.concat(l)),h)},nne=(s,l,h,g)=>{const E=cj(g),O=VB(s,l,E,[],[]);return h(O,E)},lj=(s,l,h,g,E)=>{const O=cj(E),I=ie(h),q=Kt(h),Y=VB(s,l,O,I,[q]),oe=Ee(s,Y,h),he=Ae(s,Y,oe.internals());return g(Y,he,O,oe.externals())},iSe=s=>Zt(s,"uid"),cj=s=>iSe(s)?s:{...s,uid:$1("uid")},one=s=>s.uid!==void 0,HB=uh([Nn("name"),Nn("factory"),Nn("configFields"),nn("apis",{}),nn("extraApis",{})]),sne=uh([Nn("name"),Nn("factory"),Nn("configFields"),Nn("partFields"),nn("apis",{}),nn("extraApis",{})]),og=s=>{const l=dd("Sketcher for "+s.name,HB,s),h=O=>nne(l.name,l.configFields,l.factory,O),g=Wo(l.apis,wb),E=Wo(l.extraApis,(O,I)=>UT(O,I));return{name:l.name,configFields:l.configFields,sketch:h,...g,...E}},If=s=>{const l=dd("Sketcher for "+s.name,sne,s),h=I=>lj(l.name,l.configFields,l.partFields,l.factory,I),g=K(l.name,l.partFields),E=Wo(l.apis,wb),O=Wo(l.extraApis,(I,q)=>UT(I,q));return{name:l.name,partFields:l.partFields,configFields:l.configFields,sketch:h,parts:g,...E,...O}},xb=og({name:"Container",factory:s=>{const{attributes:l,...h}=s.dom;return{uid:s.uid,dom:{tag:"div",attributes:{role:"presentation",...l},...h},components:s.components,behaviours:$w(s.containerBehaviours),events:s.events,domModification:s.domModification,eventOrder:s.eventOrder}},configFields:[nn("components",[]),ju("containerBehaviours",[]),nn("events",{}),nn("domModification",{}),nn("eventOrder",{})]}),$B="data-initial-z-index",uj=s=>{to(s.element).filter(xc).each(l=>{lr(l,$B).fold(()=>wr(l,"z-index"),h=>Ds(l,"z-index",h)),ia(l,$B)})},dj=s=>{to(s.element).filter(xc).each(l=>{fa(l,"z-index").each(h=>{gs(l,$B,h)}),Ds(l,"z-index",aa(s.element,"z-index"))})},hj=(s,l)=>{s.getSystem().addToGui(l),dj(l)},fj=s=>{uj(s),s.getSystem().removeFromGui(s)},pj=(s,l,h)=>s.getSystem().build(xb.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[l]},events:h}));var UB=dh("snaps",[Nn("getSnapPoints"),Pr("onSensor"),Nn("leftAttr"),Nn("topAttr"),nn("lazyViewport",Fu),nn("mustSnap",!1)]);const IM=[nn("useFixed",ct),Nn("blockerClass"),nn("getTarget",ke),nn("onDrag",se),nn("repositionTarget",!0),nn("onDrop",se),hi("getBounds",Fu),UB],mj=s=>Fi(fa(s,"left"),fa(s,"top"),fa(s,"position"),(l,h,g)=>(g==="fixed"?w0:xM)(parseInt(l,10),parseInt(h,10))).getOrThunk(()=>{const l=Bc(s);return G1(l.left,l.top)}),gj=(s,l,h,g,E)=>{const O=E.bounds,I=HA(l,h,g),q=pl(I.left,O.x,O.x+O.width-E.width),Y=pl(I.top,O.y,O.y+O.height-E.height),oe=G1(q,Y);return l.fold(()=>{const he=AM(oe,h,g);return xM(he.left,he.top)},V(oe),()=>{const he=VA(oe,h,g);return w0(he.left,he.top)})},ine=(s,l,h,g,E,O,I)=>{const q=l.fold(()=>{const Y=nj(h,O.left,O.top),oe=VA(Y,g,E);return w0(oe.left,oe.top)},Y=>{const oe=Qte(s,Y,h,O,g,E);return oe.extra.each(he=>{Y.onSensor(s,he)}),oe.coord});return gj(s,q,g,E,I)},ane=(s,l,h,g)=>{const E=l.getTarget(s.element);if(l.repositionTarget){const O=vt(s.element),I=Ha(O),q=jS(E),Y=mj(E),oe=ine(s,l.snaps,Y,I,q,g,h),he=LB(oe,I,q);Pa(E,he)}l.onDrag(s,E,g)},vj=(s,l)=>({bounds:s.getBounds(),height:Tl(l.element),width:zp(l.element)}),zB=(s,l,h,g,E)=>{const O=h.update(g,E),I=h.getStartData().getOrThunk(()=>vj(l,s));O.each(q=>{ane(s,l,I,q)})},yj=(s,l,h,g)=>{l.each(fj),h.snaps.each(O=>{rj(s,O)});const E=h.getTarget(s.element);g.reset(),h.onDrop(s,E)},Uw=s=>(l,h)=>{const g=E=>{h.setStartData(vj(l,E))};return Ia([En(pb(),E=>{h.getStartData().each(()=>g(E))}),...s(l,h,g)])},bj=s=>Ia([En(pd(),s.forceDrop),En(ub(),s.drop),En(qv(),(l,h)=>{s.move(h.event)}),En(xl(),s.delayDrop)]);var Sj=Object.freeze({__proto__:null,getData:s=>ee.from(ri(s.x,s.y)),getDelta:(s,l)=>ri(l.left-s.left,l.top-s.top)});const jB=(s,l,h)=>[En(pd(),(g,E)=>{if(E.event.raw.button!==0)return;E.stop();const I=()=>yj(g,ee.some(oe),s,l),q=zT(I,200),Y={drop:I,delayDrop:q.schedule,forceDrop:I,move:ve=>{q.cancel(),zB(g,s,l,Sj,ve)}},oe=pj(g,s.blockerClass,bj(Y));(()=>{h(g),hj(g,oe)})()})],une=[...IM,la("dragger",{handlers:Uw(jB)})],dne=s=>Ia([En(zg(),s.forceDrop),En(Wg(),s.drop),En(d0(),s.drop),En(jg(),(l,h)=>{s.move(h.event)})]),hne=s=>{const l=s[0];return ee.some(ri(l.clientX,l.clientY))};var WI=Object.freeze({__proto__:null,getData:s=>{const h=s.raw.touches;return h.length===1?hne(h):ee.none()},getDelta:(s,l)=>ri(l.left-s.left,l.top-s.top)});const Ej=(s,l,h)=>{const g=As(),E=O=>{yj(O,g.get(),s,l),g.clear()};return[En(zg(),(O,I)=>{I.stop();const q=()=>E(O),Y={drop:q,delayDrop:se,forceDrop:q,move:ve=>{zB(O,s,l,WI,ve)}},oe=pj(O,s.blockerClass,dne(Y));g.set(oe),(()=>{h(O),hj(O,oe)})()}),En(jg(),(O,I)=>{I.stop(),zB(O,s,l,WI,I.event)}),En(Wg(),(O,I)=>{I.stop(),E(O)}),En(d0(),E)]},wj=[...IM,la("dragger",{handlers:Uw(Ej)})],yh=(s,l,h)=>[...jB(s,l,h),...Ej(s,l,h)],fne=[...IM,la("dragger",{handlers:Uw(yh)})];var _j=Object.freeze({__proto__:null,mouse:une,touch:wj,mouseOrTouch:fne}),vne=Object.freeze({__proto__:null,init:()=>{let s=ee.none(),l=ee.none();const h=()=>{s=ee.none(),l=ee.none()},g=(Y,oe)=>{const he=s.map(ve=>Y.getDelta(ve,oe));return s=ee.some(oe),he},E=(Y,oe)=>Y.getData(oe).bind(he=>g(Y,he)),O=Y=>{l=ee.some(Y)},I=()=>l,q=V({});return _f({readState:q,reset:h,update:E,getStartData:I,setStartData:O})}});const zw=cD({branchKey:"mode",branches:_j,name:"dragging",active:{events:(s,l)=>s.dragger.handlers(s,l)},extra:{snap:s=>({sensor:s.sensor,range:s.range,output:s.output,extra:ee.from(s.extra)})},state:vne,apis:FB}),yne=["input","textarea"],Tj=s=>{const l=nu(s);return tn(yne,l)},WB=(s,l)=>{const h=l.getRoot(s).getOr(s.element);ui(h,l.invalidClass),l.notify.each(g=>{Tj(s.element)&&gs(s.element,"aria-invalid",!1),g.getContainer(s).each(E=>{Bh(E,g.validHtml)}),g.onValid(s)})},Aj=(s,l,h,g)=>{const E=l.getRoot(s).getOr(s.element);Ti(E,l.invalidClass),l.notify.each(O=>{Tj(s.element)&&gs(s.element,"aria-invalid",!0),O.getContainer(s).each(I=>{Bh(I,g)}),O.onInvalid(s,g)})},xj=(s,l,h)=>l.validator.fold(()=>es.pure(zo.value(!0)),g=>g.validate(s)),RM=(s,l,h)=>(l.notify.each(g=>{g.onValidate(s)}),xj(s,l).map(g=>s.getSystem().isConnected()?g.fold(E=>(Aj(s,l,h,E),zo.error(E)),E=>(WB(s,l),zo.value(E))):zo.error("No longer in system")));var Oj=Object.freeze({__proto__:null,markValid:WB,markInvalid:Aj,query:xj,run:RM,isInvalid:(s,l)=>{const h=l.getRoot(s).getOr(s.element);return Xa(h,l.invalidClass)}}),Sne=Object.freeze({__proto__:null,events:(s,l)=>s.validator.map(h=>Ia([En(h.onEvent,g=>{RM(g,s,l).get(ke)})].concat(h.validateOnLoad?[Ta(g=>{RM(g,s,l).get(se)})]:[]))).getOr({})}),Cne=[Nn("invalidClass"),nn("getRoot",ee.none),dh("notify",[nn("aria","alert"),nn("getContainer",ee.none),nn("validHtml",""),Pr("onValid"),Pr("onInvalid"),Pr("onValidate")]),dh("validator",[Nn("validate"),nn("onEvent","input"),nn("validateOnLoad",!0)])];const GB=(s,l,h)=>{l.store.manager.onLoad(s,l,h)},qB=(s,l,h)=>{l.store.manager.onUnload(s,l,h)};var Ij=Object.freeze({__proto__:null,onLoad:GB,onUnload:qB,setValue:(s,l,h,g)=>{l.store.manager.setValue(s,l,h,g)},getValue:(s,l,h)=>l.store.manager.getValue(s,l,h),getState:(s,l,h)=>h}),Tne=Object.freeze({__proto__:null,events:(s,l)=>{const h=s.resetOnDom?[Ta((g,E)=>{GB(g,s,l)}),ev((g,E)=>{qB(g,s,l)})]:[hI(s,l,GB)];return Ia(h)}});const Ww=()=>{const s=Wt(null),l=()=>({mode:"memory",value:s.get()}),h=()=>s.get()===null,g=()=>{s.set(null)};return _f({set:s.set,get:s.get,isNotSet:h,clear:g,readState:l})},Ane=()=>_f({readState:se}),Rj=()=>{const s=Wt({}),l=Wt({});return _f({readState:()=>({mode:"dataset",dataByValue:s.get(),dataByText:l.get()}),lookup:I=>wt(s.get(),I).orThunk(()=>wt(l.get(),I)),update:I=>{const q=s.get(),Y=l.get(),oe={},he={};un(I,ve=>{oe[ve.value]=ve,wt(ve,"meta").each(Me=>{wt(Me,"text").each(Ge=>{he[Ge]=ve})})}),s.set({...q,...oe}),l.set({...Y,...he})},clear:()=>{s.set({}),l.set({})}})};var One=Object.freeze({__proto__:null,memory:Ww,dataset:Rj,manual:Ane,init:s=>s.store.manager.state(s)});const kj=(s,l,h,g)=>{const E=l.store;h.update([g]),E.setValue(s,g),l.onSetValue(s,g)},Ine=(s,l,h)=>{const g=l.store,E=g.getDataKey(s);return h.lookup(E).getOrThunk(()=>g.getFallbackEntry(E))},Dj=(s,l,h)=>{l.store.initialValue.each(E=>{kj(s,l,h,E)})},KB=(s,l,h)=>{h.clear()};var ZB=[di("initialValue"),Nn("getFallbackEntry"),Nn("getDataKey"),Nn("setValue"),la("manager",{setValue:kj,getValue:Ine,onLoad:Dj,onUnload:KB,state:Rj})];const Rne=(s,l,h)=>l.store.getValue(s),OC=(s,l,h,g)=>{l.store.setValue(s,g),l.onSetValue(s,g)},Mj=(s,l,h)=>{l.store.initialValue.each(g=>{l.store.setValue(s,g)})};var Pj=[Nn("getValue"),nn("setValue",se),di("initialValue"),la("manager",{setValue:OC,getValue:Rne,onLoad:Mj,onUnload:se,state:Qg.init})];const kne=(s,l,h,g)=>{h.set(g),l.onSetValue(s,g)},Dne=(s,l,h)=>h.get(),GI=(s,l,h)=>{l.store.initialValue.each(g=>{h.isNotSet()&&h.set(g)})},qI=(s,l,h)=>{h.clear()};var Nj=[di("initialValue"),la("manager",{setValue:kne,getValue:Dne,onLoad:GI,onUnload:qI,state:Ww})],YB=[fd("store",{mode:"memory"},hd("mode",{memory:Nj,manual:Pj,dataset:ZB})),Pr("onSetValue"),nn("resetOnDom",!1)];const Ao=uu({fields:YB,name:"representing",active:Tne,apis:Ij,extra:{setValueFrom:(s,l)=>{const h=Ao.getValue(l);Ao.setValue(s,h)}},state:One}),Rf=uu({fields:Cne,name:"invalidating",active:Sne,apis:Oj,extra:{validation:s=>l=>{const h=Ao.getValue(l);return es.pure(s(h))}}});var Mne=Object.freeze({__proto__:null,exhibit:(s,l)=>Ym({classes:[],styles:l.useFixed()?{}:{position:"relative"}})});const kM=sn.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),T0=(s,l,h,g,E,O)=>{const I=l.rect,q=I.x-h,Y=I.y-g,oe=I.width,he=I.height,ve=E-(q+oe),Me=O-(Y+he),Ge=ee.some(q),Ze=ee.some(Y),at=ee.some(ve),yt=ee.some(Me),ot=ee.none();return sr(l.direction,()=>eg(s,Ge,Ze,ot,ot),()=>eg(s,ot,Ze,at,ot),()=>eg(s,Ge,ot,ot,yt),()=>eg(s,ot,ot,at,yt),()=>eg(s,Ge,Ze,ot,ot),()=>eg(s,Ge,ot,ot,yt),()=>eg(s,Ge,Ze,ot,ot),()=>eg(s,ot,Ze,at,ot))},DM=(s,l)=>s.fold(()=>{const h=l.rect;return eg("absolute",ee.some(h.x),ee.some(h.y),ee.none(),ee.none())},(h,g,E,O)=>T0("absolute",l,h,g,E,O),(h,g,E,O)=>T0("fixed",l,h,g,E,O)),XB=(s,l)=>{const h=$e(Lm,l),g=s.fold(h,h,()=>{const I=Ha();return Lm(l).translate(-I.left,-I.top)}),E=zp(l),O=Tl(l);return Gr(g.left,g.top,E,O)},Lj=(s,l)=>l.fold(()=>s.fold(Fu,Fu,Gr),h=>s.fold(V(h),V(h),()=>{const g=JB(s,h.x,h.y);return Gr(g.left,g.top,h.width,h.height)})),JB=(s,l,h)=>{const g=ri(l,h),E=()=>{const O=Ha();return g.translate(-O.left,-O.top)};return s.fold(V(g),V(g),E)},Bj=(s,l,h,g)=>s.fold(l,h,g);kM.none;const QB=kM.relative,Fj=kM.fixed,Pne=(s,l)=>({anchorBox:s,origin:l}),Nne=(s,l)=>Pne(s,l),MM=sn.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),PM=(s,l)=>{const{x:h,y:g,right:E,bottom:O}=l,{x:I,y:q,right:Y,bottom:oe,width:he,height:ve}=s,Me=I>=h&&I<=E,Ge=q>=g&&q<=O,Ze=Me&&Ge,at=Y<=E&&Y>=h,yt=oe<=O&&oe>=g,ot=at&&yt,_t=Math.min(he,I>=h?E-I:Y-h),Lt=Math.min(ve,q>=g?O-q:oe-g);return{originInBounds:Ze,sizeInBounds:ot,visibleW:_t,visibleH:Lt}},eF=(s,l)=>{const{x:h,y:g,right:E,bottom:O}=l,{x:I,y:q,width:Y,height:oe}=s,he=Math.max(h,E-Y),ve=Math.max(g,O-oe),Me=pl(I,h,he),Ge=pl(q,g,ve),Ze=Math.min(Me+Y,E)-Me,at=Math.min(Ge+oe,O)-Ge;return Gr(Me,Ge,Ze,at)},NM=(s,l,h)=>{const g=V(l.bottom-h.y),E=V(h.bottom-l.y),O=dr(s,E,E,g),I=V(l.right-h.x),q=V(h.right-l.x);return{maxWidth:hs(s,q,q,I),maxHeight:O}},Vj=(s,l,h,g)=>{const E=s.bubble,O=E.offset,I=tl(g,s.restriction,O),q=s.x+O.left,Y=s.y+O.top,oe=Gr(q,Y,l,h),{originInBounds:he,sizeInBounds:ve,visibleW:Me,visibleH:Ge}=PM(oe,I),Ze=he&&ve,at=Ze?oe:eF(oe,I),yt=at.width>0&&at.height>0,{maxWidth:ot,maxHeight:_t}=NM(s.direction,at,g),Lt={rect:at,maxHeight:_t,maxWidth:ot,direction:s.direction,placement:s.placement,classes:{on:E.classesOn,off:E.classesOff},layout:s.label,testY:Y};return Ze||s.alwaysFit?MM.fit(Lt):MM.nofit(Lt,Me,Ge,yt)},Lne=(s,l,h,g,E,O)=>{const I=g.width,q=g.height,Y=(he,ve,Me,Ge,Ze)=>{const at=he(h,g,E,s,O),yt=Vj(at,I,q,O);return yt.fold(V(yt),(ot,_t,Lt,an)=>(Ze===an?Lt>Ge||_t>Me:!Ze&&an)?yt:MM.nofit(ve,Me,Ge,Ze))};return Oo(l,(he,ve)=>{const Me=$e(Y,ve);return he.fold(V(he),Me)},MM.nofit({rect:h,maxHeight:g.height,maxWidth:g.width,direction:Rs(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:h.y},-1,-1,!1)).fold(ke,ke)},tF=["top","bottom","right","left"],KI="data-alloy-transition-timer",Hj=(s,l)=>Dg(s,l.classes),$j=(s,l,h)=>h.exists(g=>{const E=s.mode;return E==="all"?!0:g[E]!==l[E]}),Bne=(s,l)=>{const h=g=>parseFloat(g).toFixed(3);return Pt(l,(g,E)=>{const O=s[E].map(h),I=g.map(h);return!Ar(O,I)}).isSome()},nF=s=>{const l=O=>{const q=aa(s,O).split(/\s*,\s*/);return Vo(q,Ou)},h=O=>{if(v(O)&&/^[\d.]+/.test(O)){const I=parseFloat(O);return Nc(O,"ms")?I:I*1e3}else return 0},g=l("transition-delay"),E=l("transition-duration");return Oo(E,(O,I,q)=>{const Y=h(g[q])+h(I);return Math.max(O,Y)},0)},Fne=(s,l)=>{const h=na(),g=na();let E;const O=oe=>{const he=oe.raw.pseudoElement??"";return Ie(oe.target,s)&&Ml(he)&&tn(tF,oe.raw.propertyName)},I=oe=>{if(U(oe)||O(oe)){h.clear(),g.clear();const he=oe?.raw.type;(U(he)||he===md())&&(clearTimeout(E),ia(s,KI),Ic(s,l.classes))}},q=si(s,db(),oe=>{O(oe)&&(q.unbind(),h.set(si(s,md(),I)),g.set(si(s,Kv(),I)))}),Y=nF(s);window.requestAnimationFrame(()=>{E=setTimeout(I,Y+17),gs(s,KI,E)})},Vne=(s,l)=>{Hh(s,l.classes),lr(s,KI).each(h=>{clearTimeout(parseInt(h,10)),ia(s,KI)}),Fne(s,l)},Hne=(s,l,h,g,E,O)=>{const I=$j(g,E,O);if(I||Hj(s,g)){Ds(s,"position",h.position);const q=XB(l,s),Y=DM(l,{...E,rect:q}),oe=Ot(tF,he=>Y[he]);Bne(h,oe)&&(Pa(s,oe),I&&Vne(s,g),id(s))}else Ic(s,g.classes)},$ne=s=>({width:Math.ceil(zp(s)),height:Tl(s)}),Uj=(s,l,h,g)=>{wr(l,"max-height"),wr(l,"max-width");const E=$ne(l);return Lne(l,g.preference,s,E,h,g.bounds)},Une=(s,l)=>{const h=l.classes;Ic(s,h.off),Hh(s,h.on)},zne=(s,l,h)=>{const g=h.maxHeightFunction;g(s,l.maxHeight)},zj=(s,l,h)=>{const g=h.maxWidthFunction;g(s,l.maxWidth)},ZI=(s,l,h)=>{const g=DM(h.origin,l);h.transition.each(E=>{Hne(s,h.origin,g,E,l,h.lastPlacement)}),LA(s,g)},jne=(s,l)=>{JT(s,l.placement)},$A=(s,l,h)=>s[l]===void 0?h:s[l],oF=(s,l,h,g,E,O,I,q)=>{const Y=$A(I,"maxHeightFunction",eD()),oe=$A(I,"maxWidthFunction",se),he=s.anchorBox,ve=s.origin,Me={bounds:Lj(ve,O),origin:ve,preference:g,maxHeightFunction:Y,maxWidthFunction:oe,lastPlacement:E,transition:q};return jj(he,l,h,Me)},jj=(s,l,h,g)=>{const E=Uj(s,l,h,g);return ZI(l,E,g),jne(l,E),Une(l,E),zne(l,E,g),zj(l,E,g),{layout:E.layout,placement:E.placement}},YI=ke,Gw=()=>dh("layouts",[Nn("onLtr"),Nn("onRtl"),di("onBottomLtr"),di("onBottomRtl")]),LM=(s,l,h,g,E,O,I)=>{const q=I.map(tD).getOr(!1),Y=l.layouts.map(Ge=>Ge.onLtr(s)),oe=l.layouts.map(Ge=>Ge.onRtl(s)),he=q?l.layouts.bind(Ge=>Ge.onBottomLtr.map(Ze=>Ze(s))).or(Y).getOr(E):Y.getOr(h),ve=q?l.layouts.bind(Ge=>Ge.onBottomRtl.map(Ze=>Ze(s))).or(oe).getOr(O):oe.getOr(g);return Zy(he,ve)(s)},Wj=(s,l,h)=>{const g=l.hotspot,E=XB(h,g.element),O=LM(s.element,l,_1(),nI(),XT(),J2(),ee.some(l.hotspot.element));return ee.some(YI({anchorBox:E,bubble:l.bubble.getOr(So()),overrides:l.overrides,layouts:O}))};var Wne=[Nn("hotspot"),di("bubble"),nn("overrides",{}),Gw(),la("placement",Wj)];const Gj=(s,l,h)=>{const g=JB(h,l.x,l.y),E=Gr(g.left,g.top,l.width,l.height),O=LM(s.element,l,YT(),X2(),YT(),X2(),ee.none());return ee.some(YI({anchorBox:E,bubble:l.bubble,overrides:l.overrides,layouts:O}))};var Gne=[Nn("x"),Nn("y"),nn("height",0),nn("width",0),nn("bubble",So()),nn("overrides",{}),Gw(),la("placement",Gj)];const qj=sn.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Kj=s=>s.fold(ke,(l,h,g)=>l.translate(-h,-g)),BM=s=>s.fold(ke,ke),FM=s=>Oo(s,(l,h)=>l.translate(h.left,h.top),ri(0,0)),sF=s=>{const l=Dt(s,Kj);return FM(l)},Zj=s=>{const l=Dt(s,BM);return FM(l)},qne=qj.screen,Kne=qj.absolute,Zne=(s,l,h)=>{const g=Ln(h.root).dom,E=O=>{const I=vt(O),q=vt(s.element);return Ie(I,q)};return ee.from(g.frameElement).map(po.fromDom).filter(E).map(Bc)},rF=(s,l,h)=>{const g=vt(s.element),E=Ha(g),O=Zne(s,l,h).getOr(E);return Kne(O,E.left,E.top)},VM=(s,l,h,g)=>{const E=qne(ri(s,l));return ee.some(ob(E,h,g))},Yj=(s,l,h,g,E)=>s.map(O=>{const I=[l,O.point],q=Bj(g,()=>Zj(I),()=>Zj(I),()=>sF(I)),Y=FE(q.left,q.top,O.width,O.height),oe=h.showAbove?XT():_1(),he=h.showAbove?J2():nI(),ve=LM(E,h,oe,he,oe,he,ee.none());return YI({anchorBox:Y,bubble:h.bubble.getOr(So()),overrides:h.overrides,layouts:ve})}),Yne=(s,l,h)=>{const g=rF(s,h,l);return l.node.filter(zr).bind(E=>{const O=E.dom.getBoundingClientRect(),I=VM(O.left,O.top,O.width,O.height),q=l.node.getOr(s.element);return Yj(I,g,l,h,q)})};var Xne=[Nn("node"),Nn("root"),di("bubble"),Gw(),nn("overrides",{}),nn("showAbove",!1),la("placement",Yne)];const HM=(s,l)=>({element:s,offset:l}),Jne=(s,l)=>{const h=vr(s);if(h.length===0)return HM(s,l);if(l<h.length)return HM(h[l],0);{const g=h[h.length-1],E=Mh(g)?e0(g).length:vr(g).length;return HM(g,E)}},Xj=(s,l)=>Mh(s)?HM(s,l):Jne(s,l),$M=s=>s.foffset!==void 0,Jj=(s,l)=>l.getSelection.getOrThunk(()=>()=>Nm(s))().map(g=>{if($M(g)){const E=Xj(g.start,g.soffset),O=Xj(g.finish,g.foffset);return iu.range(E.element,E.offset,O.element,O.offset)}else return g}),Qne=(s,l,h)=>{const g=Ln(l.root).dom,E=rF(s,h,l),O=Jj(g,l).bind(Y=>{if($M(Y))return s0(g,iu.exactFromRange(Y)).orThunk(()=>{const he=po.fromText(Xf);cf(Y.start,he);const ve=Mg(g,iu.exact(he,0,he,1));return Ld(he),ve}).bind(he=>VM(he.left,he.top,he.width,he.height));{const oe=Wo(Y,ve=>ve.dom.getBoundingClientRect()),he={left:Math.min(oe.firstCell.left,oe.lastCell.left),right:Math.max(oe.firstCell.right,oe.lastCell.right),top:Math.min(oe.firstCell.top,oe.lastCell.top),bottom:Math.max(oe.firstCell.bottom,oe.lastCell.bottom)};return VM(he.left,he.top,he.right-he.left,he.bottom-he.top)}}),q=Jj(g,l).bind(Y=>$M(Y)?xc(Y.start)?ee.some(Y.start):ys(Y.start):ee.some(Y.firstCell)).getOr(s.element);return Yj(O,E,l,h,q)};var eoe=[di("getSelection"),Nn("root"),di("bubble"),Gw(),nn("overrides",{}),nn("showAbove",!1),la("placement",Qne)];const UM="link-layout",Qj=s=>s.x+s.width,q1=(s,l)=>s.x-l.width,e8=(s,l)=>s.y-l.height+s.height,t8=s=>s.y,IC=(s,l,h)=>Dn(Qj(s),t8(s),h.southeast(),Rs(),"southeast",qr(s,{left:0,top:2}),UM),iF=(s,l,h)=>Dn(q1(s,l),t8(s),h.southwest(),Qs(),"southwest",qr(s,{right:1,top:2}),UM),n8=(s,l,h)=>Dn(Qj(s),e8(s,l),h.northeast(),La(),"northeast",qr(s,{left:0,bottom:3}),UM),K1=(s,l,h)=>Dn(q1(s,l),e8(s,l),h.northwest(),Oi(),"northwest",qr(s,{right:1,bottom:3}),UM),o8=()=>[IC,iF,n8,K1],s8=()=>[iF,IC,K1,n8],av=(s,l,h)=>{const g=XB(h,l.item.element),E=LM(s.element,l,o8(),s8(),o8(),s8(),ee.none());return ee.some(YI({anchorBox:g,bubble:So(),overrides:l.overrides,layouts:E}))};var r8=[Nn("item"),Gw(),nn("overrides",{}),la("placement",av)],i8=hd("type",{selection:eoe,node:Xne,hotspot:Wne,submenu:r8,makeshift:Gne});const a8=[$d("classes",$a),hh("mode","all",["all","layout","placement"])],toe=[nn("useFixed",ct),di("getBounds")],zM=[Hu("anchor",i8),dh("transition",a8)],l8=()=>{const s=document.documentElement;return Fj(0,0,s.clientWidth,s.clientHeight)},noe=s=>{const l=Bc(s.element),h=s.element.dom.getBoundingClientRect();return QB(l.left,l.top,h.width,h.height)},ooe=(s,l,h,g,E,O)=>{const I=Nne(l.anchorBox,s);return oF(I,g.element,l.bubble,l.layouts,E,h,l.overrides,O)},jM=(s,l,h,g,E)=>{const O=ee.none();WM(s,l,h,g,E,O)},WM=(s,l,h,g,E,O)=>{const I=dd("placement.info",Os(zM),E),q=I.anchor,Y=g.element,oe=h.get(g.uid);H1(()=>{Ds(Y,"position","fixed");const he=fa(Y,"visibility");Ds(Y,"visibility","hidden");const ve=l.useFixed()?l8():noe(s);q.placement(s,q,ve).each(Me=>{const Ge=O.orThunk(()=>l.getBounds.map(ut)),Ze=ooe(ve,Me,Ge,g,oe,I.transition);h.set(g.uid,Ze)}),he.fold(()=>{wr(Y,"visibility")},Me=>{Ds(Y,"visibility",Me)}),fa(Y,"left").isNone()&&fa(Y,"top").isNone()&&fa(Y,"right").isNone()&&fa(Y,"bottom").isNone()&&Pc(fa(Y,"position"),"fixed")&&wr(Y,"position")},Y)};var c8=Object.freeze({__proto__:null,position:jM,positionWithinBounds:WM,getMode:(s,l,h)=>l.useFixed()?"fixed":"absolute",reset:(s,l,h,g)=>{const E=g.element;un(["position","left","right","top","bottom"],O=>wr(E,O)),QT(E),h.clear(g.uid)}}),aF=Object.freeze({__proto__:null,init:()=>{let s={};return _f({readState:()=>s,clear:E=>{z(E)?delete s[E]:s={}},set:(E,O)=>{s[E]=O},get:E=>wt(s,E)})}});const qd=uu({fields:toe,name:"positioning",active:Mne,apis:c8,state:aF}),ioe=(s,l)=>l.universal?s:Vo(s,h=>tn(l.channels,h));var aoe=Object.freeze({__proto__:null,events:s=>Ia([En(Qp(),(l,h)=>{const g=s.channels,E=io(g),O=h,I=ioe(E,O);un(I,q=>{const Y=g[q],oe=Y.schema,he=dd("channel["+q+`] data
Receiver: `+fh(l.element),oe,O.data);Y.onReceive(l,he)})})])}),lF=[Hu("channels",WE(zo.value,uh([C1("onReceive"),nn("schema",Wn())])))];const um=uu({fields:lF,name:"receiving",active:aoe});var qM=Object.freeze({__proto__:null,events:(s,l)=>{const h=(g,E)=>{s.updateState.each(O=>{const I=O(g,E);l.set(I)}),s.renderComponents.each(O=>{const I=O(E,l.get());(s.reuseDom?tM:eM)(g,I)})};return Ia([En(Qp(),(g,E)=>{const O=E;if(!O.universal){const I=s.channel;tn(O.channels,I)&&h(g,O.data)}}),Ta((g,E)=>{s.initialData.each(O=>{h(g,O)})})])}}),u8=Object.freeze({__proto__:null,getState:(s,l,h)=>h}),coe=[Nn("channel"),di("renderComponents"),di("updateState"),di("initialData"),Vc("reuseDom",!0)],uoe=Object.freeze({__proto__:null,init:()=>{const s=Wt(ee.none()),l=()=>s.set(ee.none());return{readState:()=>s.get().getOr("none"),get:s.get,set:s.set,clear:l}}});const dm=uu({fields:coe,name:"reflecting",active:qM,apis:u8,state:uoe}),KM=(s,l,h,g)=>{h.get().each(I=>{Pw(s)});const E=l.getAttachPoint(s);sy(E,s);const O=s.getSystem().build(g);return sy(s,O),h.set(O),O},cF=(s,l,h,g)=>{const E=KM(s,l,h,g);return l.onOpen(s,E),E},d8=(s,l,h,g)=>h.get().map(()=>KM(s,l,h,g)),uF=(s,l,h,g,E)=>{p8(s,l),cF(s,l,h,g),E(),ZM(s,l)},h8=(s,l,h)=>{h.get().each(g=>{Pw(s),ry(s),l.onClose(s,g),h.clear()})},dF=(s,l,h)=>h.isOpen(),doe=(s,l,h,g)=>dF(s,l,h)&&h.get().exists(E=>l.isPartOf(s,E,g)),hoe=(s,l,h)=>h.get(),foe=(s,l,h,g)=>{fa(s.element,l).fold(()=>{ia(s.element,h)},E=>{gs(s.element,h,E)}),Ds(s.element,l,g)},f8=(s,l,h)=>{lr(s.element,h).fold(()=>wr(s.element,l),g=>Ds(s.element,l,g))},p8=(s,l,h)=>{const g=l.getAttachPoint(s);Ds(s.element,"position",qd.getMode(g)),foe(s,"visibility",l.cloakVisibilityAttr,"hidden")},poe=s=>eo(["top","left","right","bottom"],l=>fa(s,l).isSome()),ZM=(s,l,h)=>{poe(s.element)||wr(s.element,"position"),f8(s,"visibility",l.cloakVisibilityAttr)};var m8=Object.freeze({__proto__:null,cloak:p8,decloak:ZM,open:cF,openWhileCloaked:uF,close:h8,isOpen:dF,isPartOf:doe,getState:hoe,setContent:d8}),goe=Object.freeze({__proto__:null,events:(s,l)=>Ia([En(v1(),(h,g)=>{h8(h,s,l)})])}),hF=[Pr("onOpen"),Pr("onClose"),Nn("isPartOf"),Nn("getAttachPoint"),nn("cloakVisibilityAttr","data-precloak-visibility")],voe=Object.freeze({__proto__:null,init:()=>{const s=As(),l=V("not-implemented");return _f({readState:l,isOpen:s.isSet,clear:s.clear,set:s.set,get:s.get})}});const ti=uu({fields:hF,name:"sandboxing",active:goe,apis:m8,state:voe}),XI=(s,l)=>l.getAnimationRoot.fold(()=>s.element,h=>h(s)),Z1=s=>s.dimension.property,RC=(s,l)=>s.dimension.getDimension(l),UA=(s,l)=>{const h=XI(s,l);Ic(h,[l.shrinkingClass,l.growingClass])},fF=(s,l)=>{ui(s.element,l.openClass),Ti(s.element,l.closedClass),Ds(s.element,Z1(l),"0px"),id(s.element)},zA=(s,l)=>{ui(s.element,l.closedClass),Ti(s.element,l.openClass),wr(s.element,Z1(l))},g8=(s,l,h,g)=>{h.setCollapsed(),Ds(s.element,Z1(l),RC(l,s.element)),UA(s,l),fF(s,l),l.onStartShrink(s),l.onShrunk(s)},yoe=(s,l,h,g)=>{const E=g.getOrThunk(()=>RC(l,s.element));h.setCollapsed(),Ds(s.element,Z1(l),E),id(s.element);const O=XI(s,l);ui(O,l.growingClass),Ti(O,l.shrinkingClass),fF(s,l),l.onStartShrink(s)},v8=(s,l,h)=>{const g=RC(l,s.element);(g==="0px"?g8:yoe)(s,l,h,ee.some(g))},y8=(s,l,h)=>{const g=XI(s,l),E=Xa(g,l.shrinkingClass),O=RC(l,s.element);zA(s,l);const I=RC(l,s.element);(E?()=>{Ds(s.element,Z1(l),O),id(s.element)}:()=>{fF(s,l)})(),ui(g,l.shrinkingClass),Ti(g,l.growingClass),zA(s,l),Ds(s.element,Z1(l),I),h.setExpanded(),l.onStartGrow(s)},boe=(s,l,h)=>{if(h.isExpanded()){wr(s.element,Z1(l));const g=RC(l,s.element);Ds(s.element,Z1(l),g)}},Soe=(s,l,h)=>{h.isExpanded()||y8(s,l,h)},b8=(s,l,h)=>{h.isExpanded()&&v8(s,l,h)},Coe=(s,l,h)=>{h.isExpanded()&&g8(s,l,h)},Eoe=(s,l,h)=>h.isExpanded(),pF=(s,l,h)=>h.isCollapsed(),kC=(s,l,h)=>{const g=XI(s,l);return Xa(g,l.growingClass)===!0},S8=(s,l,h)=>{const g=XI(s,l);return Xa(g,l.shrinkingClass)===!0};var _oe=Object.freeze({__proto__:null,refresh:boe,grow:Soe,shrink:b8,immediateShrink:Coe,hasGrown:Eoe,hasShrunk:pF,isGrowing:kC,isShrinking:S8,isTransitioning:(s,l,h)=>kC(s,l)||S8(s,l),toggleGrow:(s,l,h)=>{(h.isExpanded()?v8:y8)(s,l,h)},disableTransitions:UA,immediateGrow:(s,l,h)=>{h.isExpanded()||(zA(s,l),Ds(s.element,Z1(l),RC(l,s.element)),UA(s,l),h.setExpanded(),l.onStartGrow(s),l.onGrown(s))}}),E8=Object.freeze({__proto__:null,exhibit:(s,l,h)=>{const g=l.expanded;return Ym(g?{classes:[l.openClass],styles:{}}:{classes:[l.closedClass],styles:Ug(l.dimension.property,"0px")})},events:(s,l)=>Ia([R1(md(),(h,g)=>{g.event.raw.propertyName===s.dimension.property&&(UA(h,s),l.isExpanded()&&wr(h.element,s.dimension.property),(l.isExpanded()?s.onGrown:s.onShrunk)(h))})])}),w8=[Nn("closedClass"),Nn("openClass"),Nn("shrinkingClass"),Nn("growingClass"),di("getAnimationRoot"),Pr("onShrunk"),Pr("onStartShrink"),Pr("onGrown"),Pr("onStartGrow"),nn("expanded",!1),Hu("dimension",hd("property",{width:[la("property","width"),la("getDimension",s=>Sc(s)+"px")],height:[la("property","height"),la("getDimension",s=>_l(s)+"px")]}))],Y1=Object.freeze({__proto__:null,init:s=>{const l=Wt(s.expanded),h=()=>"expanded: "+l.get();return _f({isExpanded:()=>l.get()===!0,isCollapsed:()=>l.get()===!1,setCollapsed:$e(l.set,!1),setExpanded:$e(l.set,!0),readState:h})}});const zc=uu({fields:w8,name:"sliding",active:E8,apis:_oe,state:Y1});var jA=Object.freeze({__proto__:null,events:(s,l)=>{const g=s.stream.streams.setup(s,l);return Ia([En(s.event,g),ev(()=>l.cancel())].concat(s.cancelEvent.map(E=>[En(E,()=>l.cancel())]).getOr([])))}});const _8=s=>{const l=Wt(null);return _f({readState:()=>({timer:l.get()!==null?"set":"unset"}),setTimer:O=>{l.set(O)},cancel:()=>{const O=l.get();O!==null&&O.cancel()}})};var A8=Object.freeze({__proto__:null,throttle:_8,init:s=>s.stream.streams.state(s)});const mF=(s,l)=>{const h=s.stream,g=zl(s.onStream,h.delay);return l.setTimer(g),(E,O)=>{g.throttle(E,O),h.stopEvent&&O.stop()}};var XM=[Hu("stream",hd("mode",{throttle:[Nn("delay"),nn("stopEvent",!0),la("streams",{setup:mF,state:_8})]})),nn("event","input"),di("cancelEvent"),C1("onStream")];const JM=uu({fields:XM,name:"streaming",active:jA,state:A8});var gF=Object.freeze({__proto__:null,exhibit:(s,l)=>Ym({attributes:Wv([{key:l.tabAttr,value:"true"}])})}),xoe=[nn("tabAttr","data-alloy-tabstop")];const ya=uu({fields:xoe,name:"tabstopping",active:gF}),Ooe=(s,l,h)=>{const g=l.aria;g.update(s,g,h.get())},Ioe=(s,l,h)=>{l.toggleClass.each(g=>{h.get()?Ti(s.element,g):ui(s.element,g)})},X1=(s,l,h,g)=>{const E=h.get();h.set(g),Ioe(s,l,h),Ooe(s,l,h),E!==g&&l.onToggled(s,g)},x8=(s,l,h)=>{X1(s,l,h,!h.get())},O8=(s,l,h)=>{X1(s,l,h,!0)},vF=(s,l,h)=>{X1(s,l,h,!1)},Roe=(s,l,h)=>h.get(),QM=(s,l,h)=>{X1(s,l,h,l.selected)};var yF=Object.freeze({__proto__:null,onLoad:QM,toggle:x8,isOn:Roe,on:O8,off:vF,set:X1}),I8=Object.freeze({__proto__:null,exhibit:()=>Ym({}),events:(s,l)=>{const h=P4(s,l,x8),g=hI(s,l,QM);return Ia(vn([s.toggleOnExecute?[h]:[],[g]]))}});const Doe=(s,l,h)=>{gs(s.element,"aria-pressed",h),l.syncWithExpanded&&D8(s,l,h)},R8=(s,l,h)=>{gs(s.element,"aria-selected",h)},k8=(s,l,h)=>{gs(s.element,"aria-checked",h)},D8=(s,l,h)=>{gs(s.element,"aria-expanded",h)};var Moe=[nn("selected",!1),di("toggleClass"),nn("toggleOnExecute",!0),Pr("onToggled"),fd("aria",{mode:"none"},hd("mode",{pressed:[nn("syncWithExpanded",!1),la("update",Doe)],checked:[la("update",k8)],expanded:[la("update",D8)],selected:[la("update",R8)],none:[la("update",se)]}))];const Nr=uu({fields:Moe,name:"toggling",active:I8,apis:yF,state:pI(!1)}),M8=wo("tooltip.exclusive"),JI=wo("tooltip.show"),WA=wo("tooltip.hide"),GA=wo("tooltip.immediateHide"),QI=wo("tooltip.immediateShow"),bF=(s,l,h)=>{s.getSystem().broadcastOn([M8],{})};var P8=Object.freeze({__proto__:null,hideAllExclusive:bF,immediateOpenClose:(s,l,h,g)=>_r(s,g?QI:GA),isEnabled:(s,l,h)=>h.isEnabled(),setComponents:(s,l,h,g)=>{h.getTooltip().each(E=>{E.getSystem().isConnected()&&Xs.set(E,g)})},setEnabled:(s,l,h,g)=>h.setEnabled(g)}),N8=Object.freeze({__proto__:null,events:(s,l)=>{const h=I=>{l.getTooltip().each(q=>{q.getSystem().isConnected()&&(ry(q),s.onHide(I,q),l.clearTooltip())}),l.clearTimer()},g=I=>{if(!l.isShowing()&&l.isEnabled()){bF(I);const q=s.lazySink(I).getOrDie(),Y=I.getSystem().build({dom:s.tooltipDom,components:s.tooltipComponents,events:Ia(s.mode==="normal"?[En(yf(),oe=>{_r(I,JI)}),En(xl(),oe=>{_r(I,WA)})]:[]),behaviours:ho([Xs.config({})])});l.setTooltip(Y),sy(q,Y),s.onShow(I,Y),qd.position(q,Y,{anchor:s.anchor(I)})}},E=I=>{l.getTooltip().each(q=>{const Y=s.lazySink(I).getOrDie();qd.position(Y,q,{anchor:s.anchor(I)})})},O=()=>{switch(s.mode){case"normal":return[En(bf(),I=>{_r(I,QI)}),En(Sf(),I=>{_r(I,GA)}),En(yf(),I=>{_r(I,JI)}),En(xl(),I=>{_r(I,WA)})];case"follow-highlight":return[En(Zv(),(I,q)=>{_r(I,JI)}),En(nC(),I=>{_r(I,WA)})];case"children-normal":return[En(bf(),(I,q)=>{Ya(I.element).each(Y=>{L(q.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{_r(I,QI)},oe=>{l.isShowing()&&(s.onShow(I,oe),E(I))})})}),En(Sf(),I=>{Ya(I.element).fold(()=>{_r(I,GA)},se)}),En(yf(),I=>{ii(I.element,"[data-mce-tooltip]:hover").each(q=>{l.getTooltip().fold(()=>{_r(I,JI)},Y=>{l.isShowing()&&(s.onShow(I,Y),E(I))})})}),En(xl(),I=>{ii(I.element,"[data-mce-tooltip]:hover").fold(()=>{_r(I,WA)},se)})];default:return[En(bf(),(I,q)=>{Ya(I.element).each(Y=>{L(q.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{_r(I,QI)},oe=>{l.isShowing()&&(s.onShow(I,oe),E(I))})})}),En(Sf(),I=>{Ya(I.element).fold(()=>{_r(I,GA)},se)})]}};return Ia(vn([[iD(I=>{s.onSetup(I)}),En(JI,I=>{l.resetTimer(()=>{g(I)},s.delayForShow())}),En(WA,I=>{l.resetTimer(()=>{h(I)},s.delayForHide())}),En(QI,I=>{l.resetTimer(()=>{g(I)},0)}),En(GA,I=>{l.resetTimer(()=>{h(I)},0)}),En(Qp(),(I,q)=>{const Y=q;Y.universal||(tn(Y.channels,M8)||tn(Y.channels,fw()))&&(Y.data.closedTooltip&&l.isShowing()&&Y.data.closedTooltip(),h(I))}),ev(I=>{h(I)})],O()]))}}),Boe=[Nn("lazySink"),Nn("tooltipDom"),nn("exclusive",!0),nn("tooltipComponents",[]),hi("delayForShow",V(300)),hi("delayForHide",V(100)),hi("onSetup",se),hh("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),nn("anchor",s=>({type:"hotspot",hotspot:s,layouts:{onLtr:V([lc,ac,za,ja,Ui,dl]),onRtl:V([lc,ac,za,ja,Ui,dl])},bubble:Kn(0,-2,{})})),Pr("onHide"),Pr("onShow")],L8=Object.freeze({__proto__:null,init:()=>{const s=Wt(!0),l=As(),h=As(),g=()=>{l.on(clearTimeout)},E=(I,q)=>{g(),l.set(setTimeout(I,q))},O=V("not-implemented");return _f({getTooltip:h.get,isShowing:h.isSet,setTooltip:h.set,clearTooltip:h.clear,clearTimer:g,resetTimer:E,readState:O,isEnabled:()=>s.get(),setEnabled:I=>s.set(I)})}});const ba=uu({fields:Boe,name:"tooltipping",active:N8,state:L8,apis:P8});var F8=Object.freeze({__proto__:null,events:()=>Ia([rA(kT(),St)]),exhibit:()=>Ym({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const qA=uu({fields:[],name:"unselecting",active:F8}),Voe=s=>{const l=s.dom.attributes!==void 0?s.dom.attributes:[];return Oo(l,(h,g)=>g.name==="class"?h:{...h,[g.name]:g.value},{})},SF=s=>Array.prototype.slice.call(s.dom.classList,0),J1=s=>{const l=po.fromHtml(s),h=vr(l),g=Voe(l),E=SF(l),O=h.length===0?{}:{innerHtml:rh(l)};return{tag:nu(l),classes:E,attributes:g,...O}},pi=s=>{const l=one(s)&&en(s,"uid")?s.uid:$1("memento");return{get:O=>O.getSystem().getByUid(l).getOrDie(),getOpt:O=>O.getSystem().getByUid(l).toOptional(),asSpec:()=>({...s,uid:l})}},jc=Yt,yp=D,Hoe=(s,l)=>{const h=Wt(!1),g=Wt(!1);return{stop:()=>{h.set(!0)},cut:()=>{g.set(!0)},isStopped:h.get,isCut:g.get,event:s,setSource:l.set,getSource:l.get}},CF=s=>{const l=Wt(!1);return{stop:()=>{l.set(!0)},cut:se,isStopped:l.get,isCut:ct,event:s,setSource:_e("Cannot set source of a broadcasted event"),getSource:_e("Cannot get source of a broadcasted event")}},eP=s=>s.raw.which===gI[0]&&!tn(["input","textarea"],nu(s.target))&&!Xy(s.target,'[contenteditable="true"]'),$oe=(s,l)=>{const h={stopBackspace:!0,...l},g=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],E=$c(h),O=Dt(g.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),Ge=>si(s,Ge,Ze=>{E.fireIfReady(Ze,Ge).each(yt=>{yt&&Ze.kill()}),h.triggerEvent(Ge,Ze)&&Ze.kill()})),I=As(),q=si(s,"paste",Ge=>{E.fireIfReady(Ge,"paste").each(at=>{at&&Ge.kill()}),h.triggerEvent("paste",Ge)&&Ge.kill(),I.set(setTimeout(()=>{h.triggerEvent(Wm(),Ge)},0))}),Y=si(s,"keydown",Ge=>{h.triggerEvent("keydown",Ge)?Ge.kill():h.stopBackspace&&eP(Ge)&&Ge.prevent()}),oe=si(s,"focusin",Ge=>{h.triggerEvent("focusin",Ge)&&Ge.kill()}),he=As(),ve=si(s,"focusout",Ge=>{h.triggerEvent("focusout",Ge)&&Ge.kill(),he.set(setTimeout(()=>{h.triggerEvent(Sf(),Ge)},0))});return{unbind:()=>{un(O,Ge=>{Ge.unbind()}),Y.unbind(),oe.unbind(),ve.unbind(),q.unbind(),I.on(clearTimeout),he.on(clearTimeout)}}},EF=(s,l)=>{const h=wt(s,"target").getOr(l);return Wt(h)},KA=sn.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),wF=(s,l,h,g,E,O)=>{const I=s(l,g),q=Hoe(h,E);return I.fold(()=>(O.logEventNoHandlers(l,g),KA.complete()),Y=>{const oe=Y.descHandler;return _b(oe)(q),q.isStopped()?(O.logEventStopped(l,Y.element,oe.purpose),KA.stopped()):q.isCut()?(O.logEventCut(l,Y.element,oe.purpose),KA.complete()):to(Y.element).fold(()=>(O.logNoParent(l,Y.element,oe.purpose),KA.complete()),ve=>(O.logEventResponse(l,Y.element,oe.purpose),KA.resume(ve)))})},tP=(s,l,h,g,E,O)=>wF(s,l,h,g,E,O).fold(St,I=>tP(s,l,h,I,E,O),ct),V8=(s,l,h,g,E)=>{const O=EF(h,g);return wF(s,l,h,g,O,E)},Uoe=(s,l,h)=>{const g=CF(l);return un(s,E=>{const O=E.descHandler;_b(O)(g)}),g.isStopped()},H8=(s,l,h,g)=>_F(s,l,h,h.target,g),_F=(s,l,h,g,E)=>{const O=EF(h,g);return tP(s,l,h,g,O,E)},$8=(s,l)=>({element:s,descHandler:l}),U8=(s,l)=>({id:s,descHandler:l}),zoe=()=>{const s={},l=(I,q,Y)=>{_s(Y,(oe,he)=>{const ve=s[he]!==void 0?s[he]:{};ve[q]=DA(oe,I),s[he]=ve})},h=(I,q)=>iv(q).bind(Y=>wt(I,Y)).map(Y=>$8(q,Y));return{registerId:l,unregisterId:I=>{_s(s,(q,Y)=>{Zt(q,I)&&delete q[I]})},filterByType:I=>wt(s,I).map(q=>Je(q,(Y,oe)=>U8(oe,Y))).getOr([]),find:(I,q,Y)=>wt(s,q).bind(oe=>Lu(Y,he=>h(oe,he),I))}},TF=()=>{const s=zoe(),l={},h=oe=>{const he=oe.element;return iv(he).getOrThunk(()=>iM("uid-",oe.element))},g=(oe,he)=>{const ve=l[he];if(ve===oe)O(oe);else throw new Error('The tagId "'+he+'" is already used by: '+fh(ve.element)+`
Cannot use it for: `+fh(oe.element)+`
The conflicting element is`+(zr(ve.element)?" ":" not ")+"already in the DOM")},E=oe=>{const he=h(oe);en(l,he)&&g(oe,he);const ve=[oe];s.registerId(ve,he,oe.events),l[he]=oe},O=oe=>{iv(oe.element).each(he=>{delete l[he],s.unregisterId(he)})};return{find:(oe,he,ve)=>s.find(oe,he,ve),filter:oe=>s.filterByType(oe),register:E,unregister:O,getById:oe=>wt(l,oe)}},AF=s=>{const l=ot=>to(s.element).fold(St,_t=>Ie(ot,_t)),h=TF(),g=(ot,_t)=>h.find(l,ot,_t),E=$oe(s.element,{triggerEvent:(ot,_t)=>Yv(ot,_t.target,Lt=>H8(g,ot,_t,Lt))}),O={debugInfo:V("real"),triggerEvent:(ot,_t,Lt)=>{Yv(ot,_t,an=>_F(g,ot,Lt,_t,an))},triggerFocus:(ot,_t)=>{iv(ot).fold(()=>{ra(ot)},Lt=>{Yv(dp(),ot,an=>(V8(g,dp(),{originator:_t,kill:se,prevent:se,target:ot},ot,an),!1))})},triggerEscape:(ot,_t)=>{O.triggerEvent("keydown",ot.element,_t.event)},getByUid:ot=>at(ot),getByDom:ot=>yt(ot),build:k,buildOrPatch:w,addToGui:ot=>{Y(ot)},removeFromGui:ot=>{oe(ot)},addToWorld:ot=>{I(ot)},removeFromWorld:ot=>{q(ot)},broadcast:ot=>{Me(ot)},broadcastOn:(ot,_t)=>{Ge(ot,_t)},broadcastEvent:(ot,_t)=>{Ze(ot,_t)},isConnected:St},I=ot=>{ot.connect(O),Mh(ot.element)||(h.register(ot),un(ot.components(),I),O.triggerEvent(eC(),ot.element,{target:ot.element}))},q=ot=>{Mh(ot.element)||(un(ot.components(),q),h.unregister(ot)),ot.disconnect()},Y=ot=>{sy(s,ot)},oe=ot=>{ry(ot)},he=()=>{E.unbind(),Ld(s.element)},ve=ot=>{const _t=h.filter(Qp());un(_t,Lt=>{const an=Lt.descHandler;_b(an)(ot)})},Me=ot=>{ve({universal:!0,data:ot})},Ge=(ot,_t)=>{ve({universal:!1,channels:ot,data:_t})},Ze=(ot,_t)=>{const Lt=h.filter(ot);return Uoe(Lt,_t)},at=ot=>h.getById(ot).fold(()=>zo.error(new Error('Could not find component with uid: "'+ot+'" in system.')),zo.value),yt=ot=>{const _t=iv(ot).getOr("not found");return at(_t)};return I(s),{root:s,element:s.element,destroy:he,add:Y,remove:oe,getByUid:at,getByDom:yt,addToWorld:I,removeFromWorld:q,broadcast:Me,broadcastOn:Ge,broadcastEvent:Ze}},z8=()=>{const s=(l,h)=>{h.stop(),cw(l)};return[En(jm(),s),En(em(),s),I1(zg()),I1(pd())]},xF=s=>{const l=h=>bb((g,E)=>{h(g),E.stop()});return Ia(vn([s.map(l).toArray(),z8()]))},yd=og({name:"Button",factory:s=>{const l=xF(s.action),h=s.dom.tag,g=O=>wt(s.dom,"attributes").bind(I=>wt(I,O)),E=()=>{if(h==="button"){const O=g("type").getOr("button"),I=g("role").map(q=>({role:q})).getOr({});return{type:O,...I}}else return{role:s.role.getOr(g("role").getOr("button"))}};return{uid:s.uid,dom:s.dom,components:s.components,events:l,behaviours:cm.augment(s.buttonBehaviours,[qs.config({}),ls.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:E()},eventOrder:s.eventOrder}},configFields:[nn("uid",void 0),Nn("dom"),nn("components",[]),cm.field("buttonBehaviours",[qs,ls]),di("action"),di("role"),nn("eventOrder",{})]}),joe=V([nn("shell",!1),Nn("makeItem"),nn("setupItem",se),cm.field("listBehaviours",[Xs])]),j8=C({name:"items",overrides:()=>({behaviours:ho([Xs.config({})])})}),Woe=V([j8]),Goe=V("CustomList"),OF=(s,l,h,g)=>{const E=(q,Y)=>{I(q).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},oe=>{const he=Xs.contents(oe),ve=Y.length,Me=ve-he.length,Ge=Me>0?In(Me,()=>s.makeItem()):[],Ze=he.slice(ve);un(Ze,yt=>Xs.remove(oe,yt)),un(Ge,yt=>Xs.append(oe,yt));const at=Xs.contents(oe);un(at,(yt,ot)=>{s.setupItem(q,yt,Y[ot],ot)})})},O=s.shell?{behaviours:[Xs.config({})],components:[]}:{behaviours:[],components:l},I=q=>s.shell?ee.some(q):Pe(q,s,"items");return{uid:s.uid,dom:s.dom,components:O.components,behaviours:pu(s.listBehaviours,O.behaviours),apis:{setItems:E}}},W8=If({name:Goe(),configFields:joe(),partFields:Woe(),factory:OF,apis:{setItems:(s,l,h)=>{s.setItems(l,h)}}}),eR="aria-controls",qoe=s=>Bv(s,h=>{if(!xc(h))return!1;const g=gl(h,"id");return g!==void 0&&g.indexOf(eR)>-1}).bind(h=>{const g=gl(h,"id"),E=oa(h);return ii(E,`[${eR}="${g}"]`)}),G8=()=>{const s=wo(eR);return{id:s,link:g=>{gs(g,eR,s)},unlink:g=>{ia(g,eR)}}},Koe=(s,l)=>qoe(l).exists(h=>DC(s,h)),DC=(s,l)=>Yy(l,h=>Ie(h,s.element),ct)||Koe(s,l),q8="alloy.item-hover",K8="alloy.item-focus",Z8="alloy.item-toggled",IF=s=>{(Ya(s.element).isNone()||qs.isFocused(s))&&(qs.isFocused(s)||qs.focus(s),bs(s,q8,{item:s}))},Y8=s=>{bs(s,K8,{item:s})},Zoe=(s,l)=>{bs(s,Z8,{item:s,state:l})},RF=V(q8),Yoe=V(K8),X8=V(Z8),J8=s=>s.role.fold(()=>s.toggling.map(l=>l.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),ke),kF=(s,l)=>({aria:{mode:l?"selected":"checked"},...rt(s,(h,g)=>g!=="exclusive"),onToggled:(h,g)=>{Z(s.onToggled)&&s.onToggled(h,g),Zoe(h,g)}}),Xoe=s=>({dom:s.dom,domModification:{...s.domModification,attributes:{role:J8(s),...s.domModification.attributes,"aria-haspopup":s.hasSubmenu,...s.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:cm.augment(s.itemBehaviours,[s.toggling.fold(Nr.revoke,l=>Nr.config(kF(l,s.role.exists(h=>h==="option")))),qs.config({ignore:s.ignoreFocus,stopMousedown:s.ignoreFocus,onFocus:l=>{Y8(l)}}),ls.config({mode:"execution"}),Ao.config({store:{mode:"memory",initialValue:s.data}}),Gs("item-type-events",[...z8(),En(yf(),IF),En(hb(),qs.focus)])]),components:s.components,eventOrder:s.eventOrder});var Qoe=[Nn("data"),Nn("components"),Nn("dom"),nn("hasSubmenu",!1),di("toggling"),di("role"),cm.field("itemBehaviours",[Nr,qs,ls,Ao]),nn("ignoreFocus",!1),nn("domModification",{}),la("builder",Xoe),nn("eventOrder",{})];const tR=s=>({dom:s.dom,components:s.components,events:Ia([dI(hb())])});var ese=[Nn("dom"),Nn("components"),la("builder",tR)];const DF=V("item-widget"),nR=V([Q({name:"widget",overrides:s=>({behaviours:ho([Ao.config({store:{mode:"manual",getValue:l=>s.data,setValue:se}})])})})]),Q8=s=>{const l=Ee(DF(),s,nR()),h=Ae(DF(),s,l.internals()),g=O=>Pe(O,s,"widget").map(I=>(ls.focusIn(I),I)),E=(O,I)=>ey(I.event.target)?ee.none():(s.autofocus&&I.setSource(O.element),ee.none());return{dom:s.dom,components:h,domModification:s.domModification,events:Ia([bb((O,I)=>{g(O).each(q=>{I.stop()})}),En(yf(),IF),En(hb(),(O,I)=>{s.autofocus?g(O):qs.focus(O)})]),behaviours:cm.augment(s.widgetBehaviours,[Ao.config({store:{mode:"memory",initialValue:s.data}}),qs.config({ignore:s.ignoreFocus,onFocus:O=>{Y8(O)}}),ls.config({mode:"special",focusIn:s.autofocus?O=>{g(O)}:uD(),onLeft:E,onRight:E,onEscape:(O,I)=>!qs.isFocused(O)&&!s.autofocus?(qs.focus(O),ee.some(!0)):(s.autofocus&&I.setSource(O.element),ee.none())})])}};var MF=[Nn("uid"),Nn("data"),Nn("components"),Nn("dom"),nn("autofocus",!1),nn("ignoreFocus",!1),cm.field("widgetBehaviours",[Ao,qs,ls]),nn("domModification",{}),Kt(nR()),la("builder",Q8)];const tse=hd("type",{widget:MF,item:Qoe,separator:ese}),nse=(s,l)=>({mode:"flatgrid",selector:"."+s.markers.item,initSize:{numColumns:l.initSize.numColumns,numRows:l.initSize.numRows},focusManager:s.focusManager}),oP=(s,l)=>({mode:"matrix",selectors:{row:l.rowSelector,cell:"."+s.markers.item},previousSelector:l.previousSelector,focusManager:s.focusManager}),e7=(s,l)=>({mode:"menu",selector:"."+s.markers.item,moveOnTab:l.moveOnTab,focusManager:s.focusManager}),t7=V([T({factory:{sketch:s=>{const l=dd("menu.spec item",tse,s);return l.builder(l)}},name:"items",unit:"item",defaults:(s,l)=>Zt(l,"uid")?l:{...l,uid:$1("item")},overrides:(s,l)=>({type:l.type,ignoreFocus:s.fakeFocus,domModification:{classes:[s.markers.item]}})})]),ose=V([ul("role"),Nn("value"),Nn("items"),Nn("dom"),Nn("components"),nn("eventOrder",{}),ju("menuBehaviours",[li,Ao,yn,ls]),fd("movement",{mode:"menu",moveOnTab:!0},hd("mode",{grid:[E1(),la("config",nse)],matrix:[la("config",oP),Nn("rowSelector"),nn("previousSelector",ee.none)],menu:[nn("moveOnTab",!0),la("config",e7)]})),HT(),nn("fakeFocus",!1),nn("focusManager",uA()),Pr("onHighlight"),Pr("onDehighlight"),nn("showMenuRole",!0)]),n7=V("alloy.menu-focus"),sse=(s,l)=>{const h=Ai(s.element,'[role="menuitemradio"][aria-checked="true"]');un(h,g=>{Ie(g,l.element)||s.getSystem().getByDom(g).each(E=>{Nr.off(E)})})},rse=(s,l,h,g)=>({uid:s.uid,dom:s.dom,markers:s.markers,behaviours:pu(s.menuBehaviours,[li.config({highlightClass:s.markers.selectedItem,itemClass:s.markers.item,onHighlight:s.onHighlight,onDehighlight:s.onDehighlight}),Ao.config({store:{mode:"memory",initialValue:s.value}}),yn.config({find:ee.some}),ls.config(s.movement.config(s,s.movement))]),events:Ia([En(Yoe(),(E,O)=>{const I=O.event;E.getSystem().getByDom(I.target).each(q=>{li.highlight(E,q),O.stop(),bs(E,n7(),{menu:E,item:q})})}),En(RF(),(E,O)=>{const I=O.event.item;li.highlight(E,I)}),En(X8(),(E,O)=>{const{item:I,state:q}=O.event;q&&gl(I.element,"role")==="menuitemradio"&&sse(E,I)})]),components:l,eventOrder:s.eventOrder,...s.showMenuRole?{domModification:{attributes:{role:s.role.getOr("menu")}}}:{}}),Q1=If({name:"Menu",configFields:ose(),partFields:t7(),factory:rse}),ise=s=>Bs(s,(l,h)=>({k:l,v:h})),o7=(s,l,h,g)=>wt(h,g).bind(E=>wt(s,E).bind(O=>{const I=o7(s,l,h,O);return ee.some([O].concat(I))})).getOr([]),ase=(s,l)=>{const h={};_s(s,(I,q)=>{un(I,Y=>{h[Y]=q})});const g=l,E=ise(l),O=Wo(E,(I,q)=>[q].concat(o7(h,g,E,q)));return Wo(h,I=>wt(O,I).getOr([I]))},lse=()=>{const s=Wt({}),l=Wt({}),h=Wt({}),g=As(),E=Wt({}),O=()=>{s.set({}),l.set({}),h.set({}),g.clear()},I=()=>g.get().isNone(),q=(hn,vo)=>{l.set({...l.get(),[hn]:{type:"prepared",menu:vo}})},Y=(hn,vo,Vn,Qn)=>{g.set(hn),s.set(Vn),l.set(vo),E.set(Qn);const Gn=ase(Qn,Vn);h.set(Gn)},oe=hn=>Pt(s.get(),(vo,Vn)=>vo===hn),he=(hn,vo,Vn)=>at(hn).bind(Qn=>oe(hn).bind(Gn=>vo(Gn).map(Es=>({triggeredMenu:Qn,triggeringItem:Es,triggeringPath:Vn})))),ve=(hn,vo)=>{const Vn=Vo(ot(hn).toArray(),Qn=>at(Qn).isSome());return wt(h.get(),hn).bind(Qn=>{const Gn=Ft(Vn.concat(Qn)),Es=qe(Gn,(os,Dr)=>he(os,vo,Gn.slice(0,Dr+1)).fold(()=>Pc(g.get(),os)?[]:[ee.none()],ks=>[ee.some(ks)]));return nh(Es)})},Me=hn=>wt(s.get(),hn).map(vo=>{const Vn=wt(h.get(),hn).getOr([]);return[vo].concat(Vn)}),Ge=hn=>wt(h.get(),hn).bind(vo=>vo.length>1?ee.some(vo.slice(1)):ee.none()),Ze=hn=>wt(h.get(),hn),at=hn=>yt(hn).bind(s7),yt=hn=>wt(l.get(),hn),ot=hn=>wt(s.get(),hn);return{setMenuBuilt:q,setContents:Y,expand:Me,refresh:Ze,collapse:Ge,lookupMenu:yt,lookupItem:ot,otherMenus:hn=>{const vo=E.get();return Ve(io(vo),hn)},getPrimary:()=>g.get().bind(at),getMenus:()=>l.get(),clear:O,isClear:I,getTriggeringPath:ve}},s7=s=>s.type==="prepared"?ee.some(s.menu):ee.none(),sP={init:lse,extractPreparedMenu:s7},PF=wo("tiered-menu-item-highlight"),r7=wo("tiered-menu-item-dehighlight"),cse=(s,l)=>{const h=As(),g=(Bn,mo,Ns)=>Wo(Ns,(ir,cs)=>{const tr=()=>Q1.sketch({...ir,value:cs,markers:s.markers,fakeFocus:s.fakeFocus,onHighlight:(ki,Ci)=>{bs(ki,PF,{menuComp:ki,itemComp:Ci})},onDehighlight:(ki,Ci)=>{bs(ki,r7,{menuComp:ki,itemComp:Ci})},focusManager:s.fakeFocus?EI():uA()});return cs===mo?{type:"prepared",menu:Bn.getSystem().build(tr())}:{type:"notbuilt",nbMenu:tr}}),E=sP.init(),O=Bn=>{const mo=g(Bn,s.data.primary,s.data.menus),Ns=Y();return E.setContents(s.data.primary,mo,s.data.expansions,Ns),E.getPrimary()},I=Bn=>Ao.getValue(Bn).value,q=(Bn,mo,Ns)=>ro(mo,ir=>{if(!ir.getSystem().isConnected())return ee.none();const cs=li.getCandidates(ir);return xt(cs,tr=>I(tr)===Ns)}),Y=Bn=>Wo(s.data.menus,(mo,Ns)=>qe(mo.items,ir=>ir.type==="separator"?[]:[ir.data.value])),oe=li.highlight,he=(Bn,mo)=>{oe(Bn,mo),li.getHighlighted(mo).orThunk(()=>li.getFirst(mo)).each(Ns=>{s.fakeFocus?li.highlight(mo,Ns):sA(Bn,Ns.element,hb())})},ve=(Bn,mo)=>Au(Dt(mo,Ns=>Bn.lookupMenu(Ns).bind(ir=>ir.type==="prepared"?ee.some(ir.menu):ee.none()))),Me=(Bn,mo,Ns)=>{const ir=ve(mo,mo.otherMenus(Ns));un(ir,cs=>{Ic(cs.element,[s.markers.backgroundMenu]),s.stayInDom||Xs.remove(Bn,cs)})},Ge=Bn=>h.get().getOrThunk(()=>{const mo={},Ns=Ai(Bn.element,`.${s.markers.item}`),ir=Vo(Ns,cs=>gl(cs,"aria-haspopup")==="true");return un(ir,cs=>{Bn.getSystem().getByDom(cs).each(tr=>{const ki=I(tr);mo[ki]=tr})}),h.set(mo),mo}),Ze=(Bn,mo)=>{const Ns=Ge(Bn);_s(Ns,(ir,cs)=>{const tr=tn(mo,cs);gs(ir.element,"aria-expanded",tr)})},at=(Bn,mo,Ns)=>ee.from(Ns[0]).bind(ir=>mo.lookupMenu(ir).bind(cs=>{if(cs.type==="notbuilt")return ee.none();{const tr=cs.menu,ki=ve(mo,Ns.slice(1));return un(ki,Ci=>{Ti(Ci.element,s.markers.backgroundMenu)}),zr(tr.element)||Xs.append(Bn,W(tr)),Ic(tr.element,[s.markers.backgroundMenu]),he(Bn,tr),Me(Bn,mo,Ns),ee.some(tr)}}));let yt;(function(Bn){Bn[Bn.HighlightSubmenu=0]="HighlightSubmenu",Bn[Bn.HighlightParent=1]="HighlightParent"})(yt||(yt={}));const ot=(Bn,mo,Ns)=>{if(Ns.type==="notbuilt"){const ir=Bn.getSystem().build(Ns.nbMenu());return E.setMenuBuilt(mo,ir),ir}else return Ns.menu},_t=(Bn,mo,Ns=yt.HighlightSubmenu)=>{if(mo.hasConfigured(as)&&as.isDisabled(mo))return ee.some(mo);{const ir=I(mo);return E.expand(ir).bind(cs=>(Ze(Bn,cs),ee.from(cs[0]).bind(tr=>E.lookupMenu(tr).bind(ki=>{const Ci=ot(Bn,tr,ki);return zr(Ci.element)||Xs.append(Bn,W(Ci)),s.onOpenSubmenu(Bn,mo,Ci,Ft(cs)),Ns===yt.HighlightSubmenu?(li.highlightFirst(Ci),at(Bn,E,cs)):(li.dehighlightAll(Ci),ee.some(mo))}))))}},Lt=(Bn,mo)=>{const Ns=I(mo);return E.collapse(Ns).bind(ir=>(Ze(Bn,ir),at(Bn,E,ir).map(cs=>(s.onCollapseMenu(Bn,mo,cs),cs))))},an=(Bn,mo)=>{const Ns=I(mo);return E.refresh(Ns).bind(ir=>(Ze(Bn,ir),at(Bn,E,ir)))},hn=(Bn,mo)=>ey(mo.element)?ee.none():_t(Bn,mo,yt.HighlightSubmenu),vo=(Bn,mo)=>ey(mo.element)?ee.none():Lt(Bn,mo),Vn=(Bn,mo)=>Lt(Bn,mo).orThunk(()=>s.onEscape(Bn,mo).map(()=>Bn)),Qn=Bn=>(mo,Ns)=>bl(Ns.getSource(),`.${s.markers.item}`).bind(ir=>mo.getSystem().getByDom(ir).toOptional().bind(cs=>Bn(mo,cs).map(St))),Gn=Ia([En(n7(),(Bn,mo)=>{const Ns=mo.event.item;E.lookupItem(I(Ns)).each(()=>{const ir=mo.event.menu;li.highlight(Bn,ir);const cs=I(mo.event.item);E.refresh(cs).each(tr=>Me(Bn,E,tr))})}),bb((Bn,mo)=>{const Ns=mo.event.target;Bn.getSystem().getByDom(Ns).each(ir=>{I(ir).indexOf("collapse-item")===0&&Lt(Bn,ir),_t(Bn,ir,yt.HighlightSubmenu).fold(()=>{s.onExecute(Bn,ir)},se)})}),Ta((Bn,mo)=>{O(Bn).each(Ns=>{Xs.append(Bn,W(Ns)),s.onOpenMenu(Bn,Ns),s.highlightOnOpen===Wd.HighlightMenuAndItem?he(Bn,Ns):s.highlightOnOpen===Wd.HighlightJustMenu&&oe(Bn,Ns)})}),En(PF,(Bn,mo)=>{s.onHighlightItem(Bn,mo.event.menuComp,mo.event.itemComp)}),En(r7,(Bn,mo)=>{s.onDehighlightItem(Bn,mo.event.menuComp,mo.event.itemComp)}),...s.navigateOnHover?[En(RF(),(Bn,mo)=>{const Ns=mo.event.item;an(Bn,Ns),_t(Bn,Ns,yt.HighlightParent),s.onHover(Bn,Ns)})]:[]]),Es=Bn=>li.getHighlighted(Bn).bind(li.getHighlighted),os=Bn=>{Es(Bn).each(mo=>{Lt(Bn,mo)})},Dr=Bn=>{E.getPrimary().each(mo=>{he(Bn,mo)})},ks=Bn=>ee.from(Bn.components()[0]).filter(mo=>gl(mo.element,"role")==="menu"),ns={collapseMenu:os,highlightPrimary:Dr,repositionMenus:Bn=>{E.getPrimary().bind(Ns=>Es(Bn).bind(ir=>{const cs=I(ir),tr=kt(E.getMenus()),ki=Au(Dt(tr,sP.extractPreparedMenu));return E.getTriggeringPath(cs,Ci=>q(Bn,ki,Ci))}).map(ir=>({primary:Ns,triggeringPath:ir}))).fold(()=>{ks(Bn).each(Ns=>{s.onRepositionMenu(Bn,Ns,[])})},({primary:Ns,triggeringPath:ir})=>{s.onRepositionMenu(Bn,Ns,ir)})}};return{uid:s.uid,dom:s.dom,markers:s.markers,behaviours:pu(s.tmenuBehaviours,[ls.config({mode:"special",onRight:Qn(hn),onLeft:Qn(vo),onEscape:Qn(Vn),focusIn:(Bn,mo)=>{E.getPrimary().each(Ns=>{sA(Bn,Ns.element,hb())})}}),li.config({highlightClass:s.markers.selectedMenu,itemClass:s.markers.menu}),yn.config({find:Bn=>li.getHighlighted(Bn)}),Xs.config({})]),eventOrder:s.eventOrder,apis:ns,events:Gn}},i7=V("collapse-item"),use=(s,l,h)=>({primary:s,menus:l,expansions:h}),dse=(s,l)=>({primary:s,menus:Ug(s,l),expansions:{}}),a7=s=>({value:wo(i7()),meta:{text:s}}),MC=og({name:"TieredMenu",configFields:[oC("onExecute"),oC("onEscape"),C1("onOpenMenu"),C1("onOpenSubmenu"),Pr("onRepositionMenu"),Pr("onCollapseMenu"),nn("highlightOnOpen",Wd.HighlightMenuAndItem),zm("data",[Nn("primary"),Nn("menus"),Nn("expansions")]),nn("fakeFocus",!1),Pr("onHighlightItem"),Pr("onDehighlightItem"),Pr("onHover"),tw(),Nn("dom"),nn("navigateOnHover",!0),nn("stayInDom",!1),ju("tmenuBehaviours",[ls,li,yn,Xs]),nn("eventOrder",{})],apis:{collapseMenu:(s,l)=>{s.collapseMenu(l)},highlightPrimary:(s,l)=>{s.highlightPrimary(l)},repositionMenus:(s,l)=>{s.repositionMenus(l)}},factory:cse,extraApis:{tieredData:use,singleData:dse,collapseItem:a7}}),NF=V("sink"),hse=V(C({name:NF(),overrides:V({dom:{tag:"div"},behaviours:ho([qd.config({useFixed:St})]),events:Ia([I1(ic()),I1(pd()),I1(jm())])})})),fse=uh([nn("isExtraPart",ct),dh("fireEventInstead",[nn("event",Kg())])]),LF=s=>{const l=dd("Dismissal",fse,s);return{[Cb()]:{schema:uh([Nn("target")]),onReceive:(h,g)=>{ti.isOpen(h)&&(ti.isPartOf(h,g.target)||l.isExtraPart(h,g.target)||l.fireEventInstead.fold(()=>ti.close(h),O=>_r(h,O.event)))}}}},l7=uh([dh("fireEventInstead",[nn("event",MT())]),Uh("doReposition")]),oR=s=>{const l=dd("Reposition",l7,s);return{[gd()]:{onReceive:h=>{ti.isOpen(h)&&l.fireEventInstead.fold(()=>l.doReposition(h),g=>_r(h,g.event))}}}},c7=(s,l)=>{const h=s.getHotspot(l).getOr(l),g="hotspot",E=s.getAnchorOverrides();return s.layouts.fold(()=>({type:g,hotspot:h,overrides:E}),O=>({type:g,hotspot:h,overrides:E,layouts:O}))},pse=(s,l,h)=>{const g=s.fetch;return g(h).map(l)},mse=(s,l,h,g,E,O,I)=>{const q=pse(s,l,g),Y=BF(g,s);return q.map(oe=>oe.bind(he=>{const ve=he.menus[he.primary];return ee.from(ve).each(Me=>{s.listRole.each(Ge=>{Me.role=Ge})}),ee.from(MC.sketch({...O.menu(),uid:$1(""),data:he,highlightOnOpen:I,onOpenMenu:(Me,Ge)=>{const Ze=Y().getOrDie();qd.position(Ze,Ge,{anchor:h}),ti.decloak(E)},onOpenSubmenu:(Me,Ge,Ze)=>{const at=Y().getOrDie();qd.position(at,Ze,{anchor:{type:"submenu",item:Ge}}),ti.decloak(E)},onRepositionMenu:(Me,Ge,Ze)=>{const at=Y().getOrDie();qd.position(at,Ge,{anchor:h}),un(Ze,yt=>{qd.position(at,yt.triggeredMenu,{anchor:{type:"submenu",item:yt.triggeringItem}})})},onEscape:()=>(qs.focus(g),ti.close(E),ee.some(!0))}))}))},rP=(s,l,h,g,E,O,I)=>{const q=c7(s,h);return mse(s,l,q,h,g,E,I).map(oe=>(oe.fold(()=>{ti.isOpen(g)&&ti.close(g)},he=>{ti.cloak(g),ti.open(g,he),O(g)}),g))},gse=(s,l,h,g,E,O,I)=>(ti.close(g),es.pure(g)),u7=(s,l,h,g,E,O)=>{const I=Ks.getCoupled(h,"sandbox");return(ti.isOpen(I)?gse:rP)(s,l,h,I,g,E,O)},d7=(s,l,h)=>{const g=yn.getCurrent(l).getOr(l),E=Sc(s.element);h?Ds(g.element,"min-width",E+"px"):ch(g.element,E)},BF=(s,l)=>s.getSystem().getByUid(l.uid+"-"+NF()).map(h=>()=>zo.value(h)).getOrThunk(()=>l.lazySink.fold(()=>()=>zo.error(new Error("No internal sink is specified, nor could an external sink be found")),h=>()=>h(s))),h7=s=>{ti.getState(s).each(l=>{MC.repositionMenus(l)})},f7=(s,l,h)=>{const g=G8(),E=(q,Y)=>{const oe=c7(s,l);g.link(l.element),s.matchWidth&&d7(oe.hotspot,Y,s.useMinWidth),s.onOpen(oe,q,Y),h!==void 0&&h.onOpen!==void 0&&h.onOpen(q,Y)},O=(q,Y)=>{g.unlink(l.element),I().getOr(Y).element.dom.dispatchEvent(new window.FocusEvent("focusout")),h!==void 0&&h.onClose!==void 0&&h.onClose(q,Y)},I=BF(l,s);return{dom:{tag:"div",classes:s.sandboxClasses,attributes:{id:g.id}},behaviours:cm.augment(s.sandboxBehaviours,[Ao.config({store:{mode:"memory",initialValue:l}}),ti.config({onOpen:E,onClose:O,isPartOf:(q,Y,oe)=>DC(Y,oe)||DC(l,oe),getAttachPoint:()=>I().getOrDie()}),yn.config({find:q=>ti.getState(q).bind(Y=>yn.getCurrent(Y))}),um.config({channels:{...LF({isExtraPart:ct}),...oR({doReposition:h7})}})])}},vse=s=>{const l=Ks.getCoupled(s,"sandbox");h7(l)},bp=()=>[nn("sandboxClasses",[]),cm.field("sandboxBehaviours",[yn,um,ti,Ao])],cy=V([Nn("dom"),Nn("fetch"),Pr("onOpen"),Vl("onExecute"),nn("getHotspot",ee.some),nn("getAnchorOverrides",V({})),Gw(),ju("dropdownBehaviours",[Nr,Ks,ls,qs]),Nn("toggleClass"),nn("eventOrder",{}),di("lazySink"),nn("matchWidth",!1),nn("useMinWidth",!1),di("role"),di("listRole")].concat(bp())),p7=V([m({schema:[tw(),nn("fakeFocus",!1)],name:"menu",defaults:s=>({onExecute:s.onExecute})}),hse()]),FF=(s,l,h,g)=>{const E=he=>wt(s.dom,"attributes").bind(ve=>wt(ve,he)),O=he=>{ti.getState(he).each(ve=>{MC.highlightPrimary(ve)})},I=(he,ve,Me)=>u7(s,ke,he,g,ve,Me),q=he=>{I(he,O,Wd.HighlightMenuAndItem).get(se)},Y={expand:he=>{Nr.isOn(he)||I(he,se,Wd.HighlightNone).get(se)},open:he=>{Nr.isOn(he)||I(he,se,Wd.HighlightMenuAndItem).get(se)},refetch:he=>Ks.getExistingCoupled(he,"sandbox").fold(()=>I(he,se,Wd.HighlightMenuAndItem).map(se),Me=>rP(s,ke,he,Me,g,se,Wd.HighlightMenuAndItem).map(se)),isOpen:Nr.isOn,close:he=>{Nr.isOn(he)&&I(he,se,Wd.HighlightMenuAndItem).get(se)},repositionMenus:he=>{Nr.isOn(he)&&vse(he)}},oe=(he,ve)=>(cw(he),ee.some(!0));return{uid:s.uid,dom:s.dom,components:l,behaviours:pu(s.dropdownBehaviours,[Nr.config({toggleClass:s.toggleClass,aria:{mode:"expanded"}}),Ks.config({others:{sandbox:he=>f7(s,he,{onOpen:()=>Nr.on(he),onClose:()=>Nr.off(he)})}}),ls.config({mode:"special",onSpace:oe,onEnter:oe,onDown:(he,ve)=>{if(kf.isOpen(he)){const Me=Ks.getCoupled(he,"sandbox");O(Me)}else kf.open(he);return ee.some(!0)},onEscape:(he,ve)=>kf.isOpen(he)?(kf.close(he),ee.some(!0)):ee.none()}),qs.config({})]),events:xF(ee.some(q)),eventOrder:{...s.eventOrder,[lu()]:["disabling","toggling","alloy.base.behaviour"]},apis:Y,domModification:{attributes:{"aria-haspopup":s.listRole.getOr("true"),...s.role.fold(()=>({}),he=>({role:he})),...s.dom.tag==="button"?{type:E("type").getOr("button")}:{}}}}},kf=If({name:"Dropdown",configFields:cy(),partFields:p7(),factory:FF,apis:{open:(s,l)=>s.open(l),refetch:(s,l)=>s.refetch(l),expand:(s,l)=>s.expand(l),close:(s,l)=>s.close(l),isOpen:(s,l)=>s.isOpen(l),repositionMenus:(s,l)=>s.repositionMenus(l)}}),sR="form",yse=[ju("formBehaviours",[Ao])],VF=s=>"<alloy.field."+s+">",rR=s=>{const l=(()=>{const O=[];return{field:(q,Y)=>(O.push(q),ue(sR,VF(q),Y)),record:V(O)}})(),h=s(l),g=l.record(),E=Dt(g,O=>Q({name:O,pname:VF(O)}));return lj(sR,yse,E,iP,h)},bse=(s,l)=>s.fold(()=>zo.error(l),zo.value),iP=(s,l)=>({uid:s.uid,dom:s.dom,components:l,behaviours:pu(s.formBehaviours,[Ao.config({store:{mode:"manual",getValue:h=>{const g=lt(h,s);return Wo(g,(E,O)=>E().bind(I=>{const q=yn.getCurrent(I);return bse(q,new Error(`Cannot find a current component to extract the value from for form part '${O}': `+fh(I.element)))}).map(Ao.getValue))},setValue:(h,g)=>{_s(g,(E,O)=>{Pe(h,s,O).each(I=>{yn.getCurrent(I).each(q=>{Ao.setValue(q,E)})})})}}})]),apis:{getField:(h,g)=>Pe(h,s,g).bind(yn.getCurrent)}}),PC={getField:wb((s,l,h)=>s.getField(l,h)),sketch:rR},qw=V([Nn("dom"),nn("shell",!0),ju("toolbarBehaviours",[Xs])]),Sse=V([C({name:"groups",overrides:()=>({behaviours:ho([Xs.config({})])})})]),Cse=(s,l,h,g)=>{const E=(q,Y)=>{O(q).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},oe=>{Xs.set(oe,Y)})},O=q=>s.shell?ee.some(q):Pe(q,s,"groups"),I=s.shell?{behaviours:[Xs.config({})],components:[]}:{behaviours:[],components:l};return{uid:s.uid,dom:s.dom,components:I.components,behaviours:pu(s.toolbarBehaviours,I.behaviours),apis:{setGroups:E,refresh:se},domModification:{attributes:{role:"group"}}}},bd=If({name:"Toolbar",configFields:qw(),partFields:Sse(),factory:Cse,apis:{setGroups:(s,l,h)=>{s.setGroups(l,h)}}}),hm=V([mh(["toggledClass"]),Nn("lazySink"),Uh("fetch"),Yp("getBounds"),dh("fireDismissalEventInstead",[nn("event",Kg())]),Gw(),Pr("onToggled")]),iR=V([m({name:"button",overrides:s=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ho([Nr.config({toggleClass:s.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:s.onToggled})])})}),m({factory:bd,schema:qw(),name:"toolbar",overrides:s=>({toolbarBehaviours:ho([ls.config({mode:"cyclic",onEscape:l=>(Pe(l,s,"button").each(qs.focus),ee.none())})])})})]),Gh=As(),Ese=(s,l)=>{Gh.set(!0),ca(s,l),Gh.clear()},ca=(s,l)=>{const h=Ks.getCoupled(s,"toolbarSandbox");ti.isOpen(h)?ti.close(h):ti.open(h,l.toolbar())},HF=(s,l,h,g)=>{const E=h.getBounds.map(I=>I()),O=h.lazySink(s).getOrDie();qd.positionWithinBounds(O,l,{anchor:{type:"hotspot",hotspot:s,layouts:g,overrides:{maxWidthFunction:iI()}}},E)},A0=(s,l,h,g,E)=>{bd.setGroups(l,E),HF(s,l,h,g),Nr.on(s)},aR=(s,l,h)=>{const g=G8(),E=(I,q)=>{const Y=Gh.get().getOr(!1);h.fetch().get(oe=>{A0(s,q,h,l.layouts,oe),g.link(s.element),Y||ls.focusIn(q)})},O=()=>{Nr.off(s),Gh.get().getOr(!1)||qs.focus(s),g.unlink(s.element)};return{dom:{tag:"div",attributes:{id:g.id}},behaviours:ho([ls.config({mode:"special",onEscape:I=>(ti.close(I),ee.some(!0))}),ti.config({onOpen:E,onClose:O,isPartOf:(I,q,Y)=>DC(q,Y)||DC(s,Y),getAttachPoint:()=>h.lazySink(s).getOrDie()}),um.config({channels:{...LF({isExtraPart:ct,...h.fireDismissalEventInstead.map(I=>({fireEventInstead:{event:I.event}})).getOr({})}),...oR({doReposition:()=>{ti.getState(Ks.getCoupled(s,"toolbarSandbox")).each(I=>{HF(s,I,h,l.layouts)})}})}})])}},x0=If({name:"FloatingToolbarButton",factory:(s,l,h,g)=>({...yd.sketch({...g.button(),action:E=>{ca(E,g)},buttonBehaviours:cm.augment({dump:g.button().buttonBehaviours},[Ks.config({others:{toolbarSandbox:E=>aR(E,h,s)}})])}),apis:{setGroups:(E,O)=>{ti.getState(Ks.getCoupled(E,"toolbarSandbox")).each(I=>{A0(E,I,s,h.layouts,O)})},reposition:E=>{ti.getState(Ks.getCoupled(E,"toolbarSandbox")).each(O=>{HF(E,O,s,h.layouts)})},toggle:E=>{ca(E,g)},toggleWithoutFocusing:E=>{Ese(E,g)},getToolbar:E=>ti.getState(Ks.getCoupled(E,"toolbarSandbox")),isOpen:E=>ti.isOpen(Ks.getCoupled(E,"toolbarSandbox"))}}),configFields:hm(),partFields:iR(),apis:{setGroups:(s,l,h)=>{s.setGroups(l,h)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggleWithoutFocusing(l)},getToolbar:(s,l)=>s.getToolbar(l),isOpen:(s,l)=>s.isOpen(l)}}),$F=V([nn("prefix","form-field"),ju("fieldBehaviours",[yn,Ao])]),_se=V([C({schema:[Nn("dom")],name:"label"}),C({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Nn("text")],name:"aria-descriptor"}),Q({factory:{sketch:s=>{const l=YE(s,["factory"]);return s.factory.sketch(l)}},schema:[Nn("factory")],name:"field"})]),UF=(s,l,h,g)=>{const E=pu(s.fieldBehaviours,[yn.config({find:q=>Pe(q,s,"field")}),Ao.config({store:{mode:"manual",getValue:q=>yn.getCurrent(q).bind(Ao.getValue),setValue:(q,Y)=>{yn.getCurrent(q).each(oe=>{Ao.setValue(oe,Y)})}}})]),O=Ia([Ta((q,Y)=>{const oe=Ne(q,s,["label","field","aria-descriptor"]);oe.field().each(he=>{const ve=wo(s.prefix);oe.label().each(Me=>{gs(Me.element,"for",ve),gs(he.element,"id",ve)}),oe["aria-descriptor"]().each(Me=>{const Ge=wo(s.prefix);gs(Me.element,"id",Ge),gs(he.element,"aria-describedby",Ge)})})})]),I={getField:q=>Pe(q,s,"field"),getLabel:q=>Pe(q,s,"label")};return{uid:s.uid,dom:s.dom,components:l,behaviours:E,events:O,apis:I}},Ir=If({name:"FormField",configFields:$F(),partFields:_se(),factory:UF,apis:{getField:(s,l)=>s.getField(l),getLabel:(s,l)=>s.getLabel(l)}}),m7=V([nn("field1Name","field1"),nn("field2Name","field2"),C1("onLockedChange"),mh(["lockClass"]),nn("locked",!1),cm.field("coupledFieldBehaviours",[yn,Ao]),hi("onInput",se)]),g7=(s,l,h)=>Pe(s,l,h).bind(yn.getCurrent),lP=(s,l)=>Q({factory:Ir,name:s,overrides:h=>({fieldBehaviours:ho([Gs("coupled-input-behaviour",[En(Xp(),g=>{g7(g,h,l).each(E=>{Pe(g,h,"lock").each(O=>{Nr.isOn(O)&&h.onLockedChange(g,E,O),h.onInput(g)})})})])])})}),v7=V([lP("field1","field2"),lP("field2","field1"),Q({factory:yd,schema:[Nn("dom")],name:"lock",overrides:s=>({buttonBehaviours:ho([Nr.config({selected:s.locked,toggleClass:s.markers.lockClass,aria:{mode:"pressed"}})])})})]),cP=(s,l,h,g)=>({uid:s.uid,dom:s.dom,components:l,behaviours:cm.augment(s.coupledFieldBehaviours,[yn.config({find:ee.some}),Ao.config({store:{mode:"manual",getValue:E=>{const O=$t(E,s,["field1","field2"]);return{[s.field1Name]:Ao.getValue(O.field1()),[s.field2Name]:Ao.getValue(O.field2())}},setValue:(E,O)=>{const I=$t(E,s,["field1","field2"]);en(O,s.field1Name)&&Ao.setValue(I.field1(),O[s.field1Name]),en(O,s.field2Name)&&Ao.setValue(I.field2(),O[s.field2Name])}}})]),apis:{getField1:E=>Pe(E,s,"field1"),getField2:E=>Pe(E,s,"field2"),getLock:E=>Pe(E,s,"lock")}}),Zl=If({name:"FormCoupledInputs",configFields:m7(),partFields:v7(),factory:cP,apis:{getField1:(s,l)=>s.getField1(l),getField2:(s,l)=>s.getField2(l),getLock:(s,l)=>s.getLock(l)}}),Tse=(s,l)=>{const h=Dt(s.options,E=>({dom:{tag:"option",value:E.value,innerHtml:E.text}})),g=s.data.map(E=>Ug("initialValue",E)).getOr({});return{uid:s.uid,dom:{tag:"select",classes:s.selectClasses,attributes:s.selectAttributes},components:h,behaviours:pu(s.selectBehaviours,[qs.config({}),Ao.config({store:{mode:"manual",getValue:E=>Al(E.element),setValue:(E,O)=>{const I=Et(s.options);xt(s.options,Y=>Y.value===O).isSome()?pf(E.element,O):E.element.dom.selectedIndex===-1&&O===""&&I.each(Y=>pf(E.element,Y.value))},...g}})])}},Ase=og({name:"HtmlSelect",configFields:[Nn("options"),ju("selectBehaviours",[qs,Ao]),nn("selectClasses",[]),nn("selectAttributes",{}),di("data")],factory:Tse}),xse=(s,l,h,g,E)=>{const O=()=>s.lazySink(l),I=g.type==="horizontal"?{layouts:{onLtr:()=>_1(),onRtl:()=>nI()}}:{},q=oe=>oe.length===2,Y=oe=>q(oe)?I:{};return MC.sketch({dom:{tag:"div"},data:g.data,markers:g.menu.markers,highlightOnOpen:g.menu.highlightOnOpen,fakeFocus:g.menu.fakeFocus,onEscape:()=>(ti.close(l),s.onEscape.map(oe=>oe(l)),ee.some(!0)),onExecute:()=>ee.some(!0),onOpenMenu:(oe,he)=>{qd.positionWithinBounds(O().getOrDie(),he,h,E())},onOpenSubmenu:(oe,he,ve,Me)=>{const Ge=O().getOrDie();qd.position(Ge,ve,{anchor:{type:"submenu",item:he,...Y(Me)}})},onRepositionMenu:(oe,he,ve)=>{const Me=O().getOrDie();qd.positionWithinBounds(Me,he,h,E()),un(ve,Ge=>{const Ze=Y(Ge.triggeringPath);qd.position(Me,Ge.triggeredMenu,{anchor:{type:"submenu",item:Ge.triggeringItem,...Ze}})})}})},Ose=(s,l)=>{const h=(Me,Ge)=>s.getRelated(Me).exists(at=>DC(at,Ge)),g=(Me,Ge)=>{ti.setContent(Me,Ge)},E=(Me,Ge,Ze)=>{const at=ee.none;O(Me,Ge,Ze,at)},O=(Me,Ge,Ze,at)=>{const yt=s.lazySink(Me).getOrDie();ti.openWhileCloaked(Me,Ge,()=>qd.positionWithinBounds(yt,Me,Ze,at())),Ao.setValue(Me,ee.some({mode:"position",config:Ze,getBounds:at}))},I=(Me,Ge,Ze)=>{q(Me,Ge,Ze,ee.none)},q=(Me,Ge,Ze,at)=>{const yt=xse(s,Me,Ge,Ze,at);ti.open(Me,yt),Ao.setValue(Me,ee.some({mode:"menu",menu:yt}))},Y=Me=>{ti.isOpen(Me)&&(Ao.setValue(Me,ee.none()),ti.close(Me))},oe=Me=>ti.getState(Me),he=Me=>{ti.isOpen(Me)&&Ao.getValue(Me).each(Ge=>{switch(Ge.mode){case"menu":ti.getState(Me).each(MC.repositionMenus);break;case"position":const Ze=s.lazySink(Me).getOrDie();qd.positionWithinBounds(Ze,Me,Ge.config,Ge.getBounds());break}})},ve={setContent:g,showAt:E,showWithinBounds:O,showMenuAt:I,showMenuWithinBounds:q,hide:Y,getContent:oe,reposition:he,isOpen:ti.isOpen};return{uid:s.uid,dom:s.dom,behaviours:pu(s.inlineBehaviours,[ti.config({isPartOf:(Me,Ge,Ze)=>DC(Ge,Ze)||h(Me,Ze),getAttachPoint:Me=>s.lazySink(Me).getOrDie(),onOpen:Me=>{s.onShow(Me)},onClose:Me=>{s.onHide(Me)}}),Ao.config({store:{mode:"memory",initialValue:ee.none()}}),um.config({channels:{...LF({isExtraPart:l.isExtraPart,...s.fireDismissalEventInstead.map(Me=>({fireEventInstead:{event:Me.event}})).getOr({})}),...oR({...s.fireRepositionEventInstead.map(Me=>({fireEventInstead:{event:Me.event}})).getOr({}),doReposition:he})}})]),eventOrder:s.eventOrder,apis:ve}},ol=og({name:"InlineView",configFields:[Nn("lazySink"),Pr("onShow"),Pr("onHide"),Yp("onEscape"),ju("inlineBehaviours",[ti,Ao,um]),dh("fireDismissalEventInstead",[nn("event",Kg())]),dh("fireRepositionEventInstead",[nn("event",MT())]),nn("getRelated",ee.none),nn("isExtraPart",ct),nn("eventOrder",ee.none)],factory:Ose,apis:{showAt:(s,l,h,g)=>{s.showAt(l,h,g)},showWithinBounds:(s,l,h,g,E)=>{s.showWithinBounds(l,h,g,E)},showMenuAt:(s,l,h,g)=>{s.showMenuAt(l,h,g)},showMenuWithinBounds:(s,l,h,g,E)=>{s.showMenuWithinBounds(l,h,g,E)},hide:(s,l)=>{s.hide(l)},isOpen:(s,l)=>s.isOpen(l),getContent:(s,l)=>s.getContent(l),setContent:(s,l,h)=>{s.setContent(l,h)},reposition:(s,l)=>{s.reposition(l)}}}),y7=V([Ua("type","text"),di("data"),nn("inputAttributes",{}),nn("inputStyles",{}),nn("tag","input"),nn("inputClasses",[]),Pr("onSetValue"),hi("fromInputValue",ke),hi("toInputValue",ke),nn("styles",{}),nn("eventOrder",{}),ju("inputBehaviours",[Ao,qs]),nn("selectOnFocus",!0)]),b7=s=>ho([qs.config({onFocus:s.selectOnFocus?l=>{const h=l.element,g=Al(h);s.type!=="range"&&h.dom.setSelectionRange(0,g.length)}:se})]),S7=s=>({...b7(s),...pu(s.inputBehaviours,[Ao.config({store:{mode:"manual",...s.data.map(l=>({initialValue:l})).getOr({}),getValue:l=>s.fromInputValue(Al(l.element)),setValue:(l,h)=>{Al(l.element)!==h&&pf(l.element,s.toInputValue(h))}},onSetValue:s.onSetValue})])}),C7=s=>({tag:s.tag,attributes:{type:s.type,...s.inputAttributes},styles:s.inputStyles,classes:s.inputClasses}),E7=(s,l)=>({uid:s.uid,dom:C7(s),components:[],behaviours:S7(s),eventOrder:s.eventOrder}),lv=og({name:"Input",configFields:y7(),factory:E7}),zF=K(DF(),nR()),Ise=(s,l)=>{const h=lr(s,"id").fold(()=>{const g=wo("dialog-label");return gs(l,"id",g),g},ke);gs(s,"aria-labelledby",h)},w7=V([Nn("lazySink"),di("dragBlockClass"),hi("getBounds",Fu),nn("useTabstopAt",St),nn("firstTabstop",0),nn("eventOrder",{}),ju("modalBehaviours",[ls]),Vl("onExecute"),oC("onEscape")]),uP={sketch:ke},jF=V([C({name:"draghandle",overrides:(s,l)=>({behaviours:ho([zw.config({mode:"mouse",getTarget:h=>Fh(h,'[role="dialog"]').getOr(h),blockerClass:s.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(l,null,2)).message),getBounds:s.getDragBounds})])})}),Q({schema:[Nn("dom")],name:"title"}),Q({factory:uP,schema:[Nn("dom")],name:"close"}),Q({factory:uP,schema:[Nn("dom")],name:"body"}),C({factory:uP,schema:[Nn("dom")],name:"footer"}),m({factory:{sketch:(s,l)=>({...s,dom:l.dom,components:l.components})},schema:[nn("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),nn("components",[])],name:"blocker"})]),_7=(s,l,h,g)=>{const E=As(),O=Ze=>{E.set(Ze);const at=s.lazySink(Ze).getOrDie(),yt=g.blocker(),ot=at.getSystem().build({...yt,components:yt.components.concat([W(Ze)]),behaviours:ho([qs.config({}),Gs("dialog-blocker-events",[R1(bf(),()=>{zn.isBlocked(Ze)?se():ls.focusIn(Ze)})])])});sy(at,ot),ls.focusIn(Ze)},I=Ze=>{E.clear(),to(Ze.element).each(at=>{Ze.getSystem().getByDom(at).each(yt=>{ry(yt)})})},q=Ze=>Fe(Ze,s,"body"),Y=Ze=>Pe(Ze,s,"footer"),oe=(Ze,at)=>{zn.block(Ze,at)},he=Ze=>{zn.unblock(Ze)},ve=wo("modal-events"),Me={...s.eventOrder,[tm()]:[ve].concat(s.eventOrder["alloy.system.attached"]||[])},Ge=Gi();return{uid:s.uid,dom:s.dom,components:l,apis:{show:O,hide:I,getBody:q,getFooter:Y,setIdle:he,setBusy:oe},eventOrder:Me,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:pu(s.modalBehaviours,[Xs.config({}),ls.config({mode:"cyclic",onEnter:s.onExecute,onEscape:s.onEscape,useTabstopAt:s.useTabstopAt,firstTabstop:s.firstTabstop}),zn.config({getRoot:E.get}),Gs(ve,[Ta(Ze=>{const at=Fe(Ze,s,"title").element,yt=PE(at);Ge.os.isMacOS()&&z(yt)?gs(Ze.element,"aria-label",yt):Ise(Ze.element,at)})])])}},Wc=If({name:"ModalDialog",configFields:w7(),partFields:jF(),factory:_7,apis:{show:(s,l)=>{s.show(l)},hide:(s,l)=>{s.hide(l)},getBody:(s,l)=>s.getBody(l),getFooter:(s,l)=>s.getFooter(l),setBusy:(s,l,h)=>{s.setBusy(l,h)},setIdle:(s,l)=>{s.setIdle(l)}}}),Rse=C({schema:[Nn("dom")],name:"label"}),NC=s=>C({name:""+s+"-edge",overrides:l=>l.model.manager.edgeActions[s].fold(()=>({}),g=>({events:Ia([iA(zg(),(E,O,I)=>g(E,I),[l]),iA(pd(),(E,O,I)=>g(E,I),[l]),iA(qv(),(E,O,I)=>{I.mouseIsDown.get()&&g(E,I)},[l])])}))}),kse=NC("top-left"),Dse=NC("top"),Mse=NC("top-right"),T7=NC("right"),uy=NC("bottom-right"),Pse=NC("bottom"),WF=NC("bottom-left"),A7=NC("left"),x7=Q({name:"thumb",defaults:V({dom:{styles:{position:"absolute"}}}),overrides:s=>({events:Ia([yb(zg(),s,"spectrum"),yb(jg(),s,"spectrum"),yb(Wg(),s,"spectrum"),yb(pd(),s,"spectrum"),yb(qv(),s,"spectrum"),yb(ub(),s,"spectrum")])})}),dP=s=>k1(s.event),O7=Q({schema:[Fc("mouseIsDown",()=>Wt(!1))],name:"spectrum",overrides:s=>{const h=s.model.manager,g=(E,O)=>h.getValueFromEvent(O).map(I=>h.setValueFrom(E,s,I));return{behaviours:ho([ls.config({mode:"special",onLeft:(E,O)=>h.onLeft(E,s,dP(O)),onRight:(E,O)=>h.onRight(E,s,dP(O)),onUp:(E,O)=>h.onUp(E,s,dP(O)),onDown:(E,O)=>h.onDown(E,s,dP(O))}),ya.config({}),qs.config({})]),events:Ia([En(zg(),g),En(jg(),g),En(pd(),g),En(qv(),(E,O)=>{s.mouseIsDown.get()&&g(E,O)})])}}});var I7=[Rse,A7,T7,Dse,Pse,kse,Mse,WF,uy,x7,O7];const lR=V("slider.change.value"),Lse=s=>s.type.indexOf("touch")!==-1,GF=s=>{const l=s.event.raw;if(Lse(l)){const h=l;return h.touches!==void 0&&h.touches.length===1?ee.some(h.touches[0]).map(g=>ri(g.clientX,g.clientY)):ee.none()}else{const h=l;return h.clientX!==void 0?ee.some(h).map(g=>ri(g.clientX,g.clientY)):ee.none()}},Bse="top",Fse="right",Vse="bottom",Hse="left",LC=s=>s.model.minX,BC=s=>s.model.minY,cR=s=>s.model.minX-1,uR=s=>s.model.minY-1,Kw=s=>s.model.maxX,Zw=s=>s.model.maxY,hP=s=>s.model.maxX+1,dR=s=>s.model.maxY+1,Yw=(s,l,h)=>l(s)-h(s),ZA=s=>Yw(s,Kw,LC),qF=s=>Yw(s,Zw,BC),KF=s=>ZA(s)/2,ZF=s=>qF(s)/2,Xw=(s,l)=>l?s.stepSize*s.speedMultiplier:s.stepSize,YF=s=>s.snapToGrid,fP=s=>s.snapStart,pP=s=>s.rounded,mP=(s,l)=>s[l+"-edge"]!==void 0,R7=s=>mP(s,Hse),k7=s=>mP(s,Fse),XF=s=>mP(s,Bse),JF=s=>mP(s,Vse),eS=s=>s.model.value.get(),FC=(s,l)=>({x:s,y:l}),cv=(s,l)=>{bs(s,lR(),{value:l})},$se=(s,l)=>{cv(s,FC(cR(l),uR(l)))},Use=(s,l)=>{cv(s,uR(l))},zse=(s,l)=>{cv(s,FC(KF(l),uR(l)))},jse=(s,l)=>{cv(s,FC(hP(l),uR(l)))},Wse=(s,l)=>{cv(s,hP(l))},Gse=(s,l)=>{cv(s,FC(hP(l),ZF(l)))},qse=(s,l)=>{cv(s,FC(hP(l),dR(l)))},D7=(s,l)=>{cv(s,dR(l))},M7=(s,l)=>{cv(s,FC(KF(l),dR(l)))},Kse=(s,l)=>{cv(s,FC(cR(l),dR(l)))},Zse=(s,l)=>{cv(s,cR(l))},Yse=(s,l)=>{cv(s,FC(cR(l),ZF(l)))},gP=(s,l,h,g)=>s<l?s:s>h?h:s===l?l-1:Math.max(l,s-g),QF=(s,l,h,g)=>s>h?s:s<l?l:s===h?h+1:Math.min(h,s+g),P7=(s,l,h)=>Math.max(l,Math.min(h,s)),Xse=(s,l,h,g,E)=>E.fold(()=>{const O=s-l,I=Math.round(O/g)*g;return P7(l+I,l-1,h+1)},O=>{const I=(s-O)%g,q=Math.round(I/g),Y=Math.floor((s-O)/g),oe=Math.floor((h-O)/g),he=Math.min(oe,Y+q),ve=O+he*g;return Math.max(O,ve)}),vP=(s,l,h)=>Math.min(h,Math.max(s,l))-l,N7=s=>{const{min:l,max:h,range:g,value:E,step:O,snap:I,snapStart:q,rounded:Y,hasMinEdge:oe,hasMaxEdge:he,minBound:ve,maxBound:Me,screenRange:Ge}=s,Ze=oe?l-1:l,at=he?h+1:h;if(E<ve)return Ze;if(E>Me)return at;{const yt=vP(E,ve,Me),ot=P7(yt/Ge*g+l,Ze,at);return I&&ot>=l&&ot<=h?Xse(ot,l,h,O,q):Y?Math.round(ot):ot}},L7=s=>{const{min:l,max:h,range:g,value:E,hasMinEdge:O,hasMaxEdge:I,maxBound:q,maxOffset:Y,centerMinEdge:oe,centerMaxEdge:he}=s;return E<l?O?0:oe:E>h?I?q:he:(E-l)/g*Y},eV="top",B7="right",F7="bottom",tV="left",Jse="width",Qse="height",O0=s=>s.element.dom.getBoundingClientRect(),dy=(s,l)=>s[l],yP=s=>{const l=O0(s);return dy(l,tV)},V7=s=>{const l=O0(s);return dy(l,B7)},bP=s=>{const l=O0(s);return dy(l,eV)},SP=s=>{const l=O0(s);return dy(l,F7)},H7=s=>{const l=O0(s);return dy(l,Jse)},$7=s=>{const l=O0(s);return dy(l,Qse)},U7=(s,l,h)=>(s+l)/2-h,nV=(s,l)=>{const h=O0(s),g=O0(l),E=dy(h,tV),O=dy(h,B7),I=dy(g,tV);return U7(E,O,I)},z7=(s,l)=>{const h=O0(s),g=O0(l),E=dy(h,eV),O=dy(h,F7),I=dy(g,eV);return U7(E,O,I)},CP=(s,l)=>{bs(s,lR(),{value:l})},oV=(s,l,h)=>{const g={min:LC(l),max:Kw(l),range:ZA(l),value:h,step:Xw(l),snap:YF(l),snapStart:fP(l),rounded:pP(l),hasMinEdge:R7(l),hasMaxEdge:k7(l),minBound:yP(s),maxBound:V7(s),screenRange:H7(s)};return N7(g)},ere=(s,l,h)=>{const g=oV(s,l,h);return CP(s,g),g},tre=(s,l)=>{const h=LC(l);CP(s,h)},nre=(s,l)=>{const h=Kw(l);CP(s,h)},sV=(s,l,h,g)=>{const O=(s>0?QF:gP)(eS(h),LC(h),Kw(h),Xw(h,g));return CP(l,O),ee.some(O)},j7=s=>(l,h,g)=>sV(s,l,h,g).map(St),ore=s=>GF(s).map(h=>h.left),sre=(s,l,h,g,E)=>{const I=H7(s),q=g.bind(he=>ee.some(nV(he,s))).getOr(0),Y=E.bind(he=>ee.some(nV(he,s))).getOr(I),oe={min:LC(l),max:Kw(l),range:ZA(l),value:h,hasMinEdge:R7(l),hasMaxEdge:k7(l),minBound:yP(s),maxBound:V7(s),maxOffset:I,centerMinEdge:q,centerMaxEdge:Y};return L7(oe)},rV=(s,l,h,g,E,O)=>{const I=sre(l,O,h,g,E);return yP(l)-yP(s)+I},rre=(s,l,h,g)=>{const E=eS(h),O=rV(s,g.getSpectrum(s),E,g.getLeftEdge(s),g.getRightEdge(s),h),I=Sc(l.element)/2;Ds(l.element,"left",O-I+"px")},ire=j7(-1),are=j7(1),lre=ee.none,cre=ee.none,ure={"top-left":ee.none(),top:ee.none(),"top-right":ee.none(),right:ee.some(Wse),"bottom-right":ee.none(),bottom:ee.none(),"bottom-left":ee.none(),left:ee.some(Zse)};var dre=Object.freeze({__proto__:null,setValueFrom:ere,setToMin:tre,setToMax:nre,findValueOfOffset:oV,getValueFromEvent:ore,findPositionOfValue:rV,setPositionFromValue:rre,onLeft:ire,onRight:are,onUp:lre,onDown:cre,edgeActions:ure});const EP=(s,l)=>{bs(s,lR(),{value:l})},iV=(s,l,h)=>{const g={min:BC(l),max:Zw(l),range:qF(l),value:h,step:Xw(l),snap:YF(l),snapStart:fP(l),rounded:pP(l),hasMinEdge:XF(l),hasMaxEdge:JF(l),minBound:bP(s),maxBound:SP(s),screenRange:$7(s)};return N7(g)},hre=(s,l,h)=>{const g=iV(s,l,h);return EP(s,g),g},fre=(s,l)=>{const h=BC(l);EP(s,h)},aV=(s,l)=>{const h=Zw(l);EP(s,h)},pre=(s,l,h,g)=>{const O=(s>0?QF:gP)(eS(h),BC(h),Zw(h),Xw(h,g));return EP(l,O),ee.some(O)},W7=s=>(l,h,g)=>pre(s,l,h,g).map(St),mre=s=>GF(s).map(h=>h.top),hR=(s,l,h,g,E)=>{const I=$7(s),q=g.bind(he=>ee.some(z7(he,s))).getOr(0),Y=E.bind(he=>ee.some(z7(he,s))).getOr(I),oe={min:BC(l),max:Zw(l),range:qF(l),value:h,hasMinEdge:XF(l),hasMaxEdge:JF(l),minBound:bP(s),maxBound:SP(s),maxOffset:I,centerMinEdge:q,centerMaxEdge:Y};return L7(oe)},wP=(s,l,h,g,E,O)=>{const I=hR(l,O,h,g,E);return bP(l)-bP(s)+I},gre=(s,l,h,g)=>{const E=eS(h),O=wP(s,g.getSpectrum(s),E,g.getTopEdge(s),g.getBottomEdge(s),h),I=_l(l.element)/2;Ds(l.element,"top",O-I+"px")},vre=ee.none,G7=ee.none,yre=W7(-1),bre=W7(1),Sre={"top-left":ee.none(),top:ee.some(Use),"top-right":ee.none(),right:ee.none(),"bottom-right":ee.none(),bottom:ee.some(D7),"bottom-left":ee.none(),left:ee.none()};var Cre=Object.freeze({__proto__:null,setValueFrom:hre,setToMin:fre,setToMax:aV,findValueOfOffset:iV,getValueFromEvent:mre,findPositionOfValue:wP,setPositionFromValue:gre,onLeft:vre,onRight:G7,onUp:yre,onDown:bre,edgeActions:Sre});const _P=(s,l)=>{bs(s,lR(),{value:l})},TP=(s,l)=>({x:s,y:l}),Ere=(s,l,h)=>{const g=oV(s,l,h.left),E=iV(s,l,h.top),O=TP(g,E);return _P(s,O),O},wre=(s,l,h,g,E)=>{const O=s>0?QF:gP,I=l?eS(g).x:O(eS(g).x,LC(g),Kw(g),Xw(g,E)),q=l?O(eS(g).y,BC(g),Zw(g),Xw(g,E)):eS(g).y;return _P(h,TP(I,q)),ee.some(I)},fR=(s,l)=>(h,g,E)=>wre(s,l,h,g,E).map(St),q7=(s,l)=>{const h=LC(l),g=BC(l);_P(s,TP(h,g))},_re=(s,l)=>{const h=Kw(l),g=Zw(l);_P(s,TP(h,g))},K7=s=>GF(s),Z7=(s,l,h,g)=>{const E=eS(h),O=rV(s,g.getSpectrum(s),E.x,g.getLeftEdge(s),g.getRightEdge(s),h),I=wP(s,g.getSpectrum(s),E.y,g.getTopEdge(s),g.getBottomEdge(s),h),q=Sc(l.element)/2,Y=_l(l.element)/2;Ds(l.element,"left",O-q+"px"),Ds(l.element,"top",I-Y+"px")},Y7=fR(-1,!1),X7=fR(1,!1),Tre=fR(-1,!0),Are=fR(1,!0),xre={"top-left":ee.some($se),top:ee.some(zse),"top-right":ee.some(jse),right:ee.some(Gse),"bottom-right":ee.some(qse),bottom:ee.some(M7),"bottom-left":ee.some(Kse),left:ee.some(Yse)};var Ore=Object.freeze({__proto__:null,setValueFrom:Ere,setToMin:q7,setToMax:_re,getValueFromEvent:K7,setPositionFromValue:Z7,onLeft:Y7,onRight:X7,onUp:Tre,onDown:Are,edgeActions:xre});const lV=[nn("stepSize",1),nn("speedMultiplier",10),nn("onChange",se),nn("onChoose",se),nn("onInit",se),nn("onDragStart",se),nn("onDragEnd",se),nn("snapToGrid",!1),nn("rounded",!0),di("snapStart"),Hu("model",hd("mode",{x:[nn("minX",0),nn("maxX",100),Fc("value",s=>Wt(s.mode.minX)),Nn("getInitialValue"),la("manager",dre)],y:[nn("minY",0),nn("maxY",100),Fc("value",s=>Wt(s.mode.minY)),Nn("getInitialValue"),la("manager",Cre)],xy:[nn("minX",0),nn("maxX",100),nn("minY",0),nn("maxY",100),Fc("value",s=>Wt({x:s.mode.minX,y:s.mode.minY})),Nn("getInitialValue"),la("manager",Ore)]})),ju("sliderBehaviours",[ls,Ao]),Fc("mouseIsDown",()=>Wt(!1))],hy=If({name:"Slider",configFields:lV,partFields:I7,factory:(s,l,h,g)=>{const E=hn=>Fe(hn,s,"thumb"),O=hn=>Fe(hn,s,"spectrum"),I=hn=>Pe(hn,s,"left-edge"),q=hn=>Pe(hn,s,"right-edge"),Y=hn=>Pe(hn,s,"top-edge"),oe=hn=>Pe(hn,s,"bottom-edge"),he=s.model,ve=he.manager,Me=(hn,vo)=>{ve.setPositionFromValue(hn,vo,s,{getLeftEdge:I,getRightEdge:q,getTopEdge:Y,getBottomEdge:oe,getSpectrum:O})},Ge=(hn,vo)=>{he.value.set(vo);const Vn=E(hn);Me(hn,Vn)},Ze=(hn,vo)=>{Ge(hn,vo);const Vn=E(hn);return s.onChange(hn,Vn,vo),ee.some(!0)},at=hn=>{ve.setToMin(hn,s)},yt=hn=>{ve.setToMax(hn,s)},ot=hn=>{const vo=()=>{Pe(hn,s,"thumb").each(Qn=>{const Gn=he.value.get();s.onChoose(hn,Qn,Gn)})},Vn=s.mouseIsDown.get();s.mouseIsDown.set(!1),Vn&&vo()},_t=(hn,vo)=>{vo.stop(),s.mouseIsDown.set(!0),s.onDragStart(hn,E(hn))},Lt=(hn,vo)=>{vo.stop(),s.onDragEnd(hn,E(hn)),ot(hn)},an=hn=>{Pe(hn,s,"spectrum").map(ls.focusIn)};return{uid:s.uid,dom:s.dom,components:l,behaviours:pu(s.sliderBehaviours,[ls.config({mode:"special",focusIn:an}),Ao.config({store:{mode:"manual",getValue:hn=>he.value.get(),setValue:Ge}}),um.config({channels:{[Qv()]:{onReceive:ot}}})]),events:Ia([En(lR(),(hn,vo)=>{Ze(hn,vo.event.value)}),Ta((hn,vo)=>{const Vn=he.getInitialValue();he.value.set(Vn);const Qn=E(hn);Me(hn,Qn);const Gn=O(hn);s.onInit(hn,Qn,Gn,he.value.get())}),En(zg(),_t),En(Wg(),Lt),En(pd(),(hn,vo)=>{an(hn),_t(hn,vo)}),En(ub(),Lt)]),apis:{resetToMin:at,resetToMax:yt,setValue:Ge,refresh:Me},domModification:{styles:{position:"relative"}}}},apis:{setValue:(s,l,h)=>{s.setValue(l,h)},resetToMin:(s,l)=>{s.resetToMin(l)},resetToMax:(s,l)=>{s.resetToMax(l)},refresh:(s,l)=>{s.refresh(l)}}}),cV="container",Rre=[ju("slotBehaviours",[])],J7=s=>"<alloy.field."+s+">",kre=s=>{const l=(()=>{const O=[];return{slot:(q,Y)=>(O.push(q),ue(cV,J7(q),Y)),record:V(O)}})(),h=s(l),g=l.record(),E=Dt(g,O=>Q({name:O,pname:J7(O)}));return lj(cV,Rre,E,Q7,h)},Q7=(s,l)=>{const h=at=>gt(s),g=(at,yt)=>Pe(at,s,yt),E=(at,yt)=>(ot,_t)=>Pe(ot,s,_t).map(Lt=>at(Lt,_t)).getOr(yt),O=at=>(yt,ot)=>{un(ot,_t=>at(yt,_t))},I=(at,yt)=>gl(at.element,"aria-hidden")!=="true",q=(at,yt)=>{if(!I(at)){const ot=at.element;wr(ot,"display"),ia(ot,"aria-hidden"),bs(at,y1(),{name:yt,visible:!0})}},Y=(at,yt)=>{if(I(at)){const ot=at.element;Ds(ot,"display","none"),gs(ot,"aria-hidden","true"),bs(at,y1(),{name:yt,visible:!1})}},oe=E(I,!1),he=E(Y),ve=O(he),Me=at=>ve(at,h()),Ge=E(q),Ze={getSlotNames:h,getSlot:g,isShowing:oe,hideSlot:he,hideAllSlots:Me,showSlot:Ge};return{uid:s.uid,dom:s.dom,components:l,behaviours:$w(s.slotBehaviours),apis:Ze}},Kd={...Wo({getSlotNames:(s,l)=>s.getSlotNames(l),getSlot:(s,l,h)=>s.getSlot(l,h),isShowing:(s,l,h)=>s.isShowing(l,h),hideSlot:(s,l,h)=>s.hideSlot(l,h),hideAllSlots:(s,l)=>s.hideAllSlots(l),showSlot:(s,l,h)=>s.showSlot(l,h)},s=>wb(s)),sketch:kre},Mre=(s,l)=>Oo(s,(E,O)=>l(O,E.len).fold(V(E),q=>({len:q.finish,list:E.list.concat([q])})),{len:0,list:[]}).list,uV=(s,l,h)=>({within:s,extra:l,withinWidth:h}),eW=(s,l,h)=>{const g=Mre(s,(q,Y)=>{const oe=h(q);return ee.some({element:q,start:Y,finish:Y+oe,width:oe})}),E=Vo(g,q=>q.finish<=l),O=Eo(E,(q,Y)=>q+Y.width,0),I=g.slice(E.length);return{within:E,extra:I,withinWidth:O}},AP=s=>Dt(s,l=>l.element),Pre=(s,l,h)=>{const g=AP(s.concat(l));return uV(g,[],h)},Nre=(s,l,h,g)=>{const E=AP(s).concat([h]);return uV(E,AP(l),g)},Lre=(s,l,h)=>uV(AP(s),[],h),Bre=(s,l,h)=>{const g=eW(l,s,h);return g.extra.length===0?ee.some(g):ee.none()},Fre=(s,l,h,g)=>{const E=Bre(s,l,h).getOrThunk(()=>eW(l,s-h(g),h)),O=E.within,I=E.extra,q=E.withinWidth;return I.length===1&&I[0].width<=h(g)?Pre(O,I,q):I.length>=1?Nre(O,I,g,q):Lre(O,I,q)},tW=(s,l)=>{const h=Dt(l,g=>W(g));bd.setGroups(s,h)},Vre=s=>ro(s,l=>Ya(l.element).bind(h=>l.getSystem().getByDom(h).toOptional())),dV=(s,l,h)=>{const g=l.builtGroups.get();if(g.length===0)return;const E=Fe(s,l,"primary"),O=Ks.getCoupled(s,"overflowGroup");Ds(E.element,"visibility","hidden");const I=g.concat([O]),q=Vre(I);h([]),tW(E,I);const Y=Sc(E.element),oe=Fre(Y,l.builtGroups.get(),he=>Math.ceil(he.element.dom.getBoundingClientRect().width),O);oe.extra.length===0?(Xs.remove(E,O),h([])):(tW(E,oe.within),h(oe.extra)),wr(E.element,"visibility"),id(E.element),q.each(qs.focus)},nW=V([ju("splitToolbarBehaviours",[Ks]),Fc("builtGroups",()=>Wt([]))]),Hre=V([mh(["overflowToggledClass"]),Yp("getOverflowBounds"),Nn("lazySink"),Fc("overflowGroups",()=>Wt([])),Pr("onOpened"),Pr("onClosed")].concat(nW())),$re=V([Q({factory:bd,schema:qw(),name:"primary"}),m({schema:qw(),name:"overflow"}),m({name:"overflow-button"}),m({name:"overflow-group"})]),Ure=V([Nn("items"),mh(["itemSelector"]),ju("tgroupBehaviours",[ls])]),zre=V([T({name:"items",unit:"item"})]),xP=(s,l,h,g)=>({uid:s.uid,dom:s.dom,components:l,behaviours:pu(s.tgroupBehaviours,[ls.config({mode:"flow",selector:s.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),pR=If({name:"ToolbarGroup",configFields:Ure(),partFields:zre(),factory:xP}),oW=s=>Dt(s,l=>W(l)),sW=(s,l,h)=>{dV(s,h,g=>{h.overflowGroups.set(g),l.getOpt(s).each(E=>{x0.setGroups(E,oW(g))})})},jre=(s,l,h,g)=>{const E=pi(x0.sketch({fetch:()=>es.nu(O=>{O(oW(s.overflowGroups.get()))}),layouts:{onLtr:()=>[Ui,za],onRtl:()=>[za,Ui],onBottomLtr:()=>[dl,ja],onBottomRtl:()=>[ja,dl]},getBounds:h.getOverflowBounds,lazySink:s.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:s.markers.overflowToggledClass},parts:{button:g["overflow-button"](),toolbar:g.overflow()},onToggled:(O,I)=>s[I?"onOpened":"onClosed"](O)}));return{uid:s.uid,dom:s.dom,components:l,behaviours:pu(s.splitToolbarBehaviours,[Ks.config({others:{overflowGroup:()=>pR.sketch({...g["overflow-group"](),items:[E.asSpec()]})}})]),apis:{setGroups:(O,I)=>{s.builtGroups.set(Dt(I,O.getSystem().build)),sW(O,E,s)},refresh:O=>sW(O,E,s),toggle:O=>{E.getOpt(O).each(I=>{x0.toggle(I)})},toggleWithoutFocusing:O=>{E.getOpt(O).each(x0.toggleWithoutFocusing)},isOpen:O=>E.getOpt(O).map(x0.isOpen).getOr(!1),reposition:O=>{E.getOpt(O).each(I=>{x0.reposition(I)})},getOverflow:O=>E.getOpt(O).bind(x0.getToolbar)},domModification:{attributes:{role:"group"}}}},rW=If({name:"SplitFloatingToolbar",configFields:Hre(),partFields:$re(),factory:jre,apis:{setGroups:(s,l,h)=>{s.setGroups(l,h)},refresh:(s,l)=>{s.refresh(l)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l),getOverflow:(s,l)=>s.getOverflow(l)}}),Wre=V([mh(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Pr("onOpened"),Pr("onClosed")].concat(nW())),Gre=V([Q({factory:bd,schema:qw(),name:"primary"}),Q({factory:bd,schema:qw(),name:"overflow",overrides:s=>({toolbarBehaviours:ho([zc.config({dimension:{property:"height"},closedClass:s.markers.closedClass,openClass:s.markers.openClass,shrinkingClass:s.markers.shrinkingClass,growingClass:s.markers.growingClass,onShrunk:l=>{Pe(l,s,"overflow-button").each(h=>{Nr.off(h)}),s.onClosed(l)},onGrown:l=>{s.onOpened(l)},onStartGrow:l=>{Pe(l,s,"overflow-button").each(Nr.on)}}),ls.config({mode:"acyclic",onEscape:l=>(Pe(l,s,"overflow-button").each(qs.focus),ee.some(!0))})])})}),m({name:"overflow-button",overrides:s=>({buttonBehaviours:ho([Nr.config({toggleClass:s.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),m({name:"overflow-group"})]),hV=(s,l)=>Pe(s,l,"overflow").map(zc.hasGrown).getOr(!1),OP=(s,l,h)=>{Pe(s,l,"overflow-button").each(g=>{Pe(s,l,"overflow").each(E=>{if(IP(s,l),zc.hasShrunk(E)){const O=l.onOpened;l.onOpened=I=>{h||ls.focusIn(E),O(I),l.onOpened=O}}else{const O=l.onClosed;l.onClosed=I=>{h||qs.focus(g),O(I),l.onClosed=O}}zc.toggleGrow(E)})})},IP=(s,l)=>{Pe(s,l,"overflow").each(h=>{dV(s,l,g=>{const E=Dt(g,O=>W(O));bd.setGroups(h,E)}),Pe(s,l,"overflow-button").each(g=>{zc.hasGrown(h)&&Nr.on(g)}),zc.refresh(h)})},qre=(s,l,h,g)=>{const E="alloy.toolbar.toggle",O=(I,q)=>{const Y=Dt(q,I.getSystem().build);s.builtGroups.set(Y)};return{uid:s.uid,dom:s.dom,components:l,behaviours:pu(s.splitToolbarBehaviours,[Ks.config({others:{overflowGroup:I=>pR.sketch({...g["overflow-group"](),items:[yd.sketch({...g["overflow-button"](),action:q=>{_r(I,E)}})]})}}),Gs("toolbar-toggle-events",[En(E,I=>{OP(I,s,!1)})])]),apis:{setGroups:(I,q)=>{O(I,q),IP(I,s)},refresh:I=>IP(I,s),toggle:I=>{OP(I,s,!1)},toggleWithoutFocusing:I=>{OP(I,s,!0)},isOpen:I=>hV(I,s)},domModification:{attributes:{role:"group"}}}},RP=If({name:"SplitSlidingToolbar",configFields:Wre(),partFields:Gre(),factory:qre,apis:{setGroups:(s,l,h)=>{s.setGroups(l,h)},refresh:(s,l)=>{s.refresh(l)},toggle:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l)}}),Kre=(s,l)=>({uid:s.uid,dom:s.dom,components:s.components,events:xF(s.action),behaviours:pu(s.tabButtonBehaviours,[qs.config({}),ls.config({mode:"execution",useSpace:!0,useEnter:!0}),Ao.config({store:{mode:"memory",initialValue:s.value}})]),domModification:s.domModification}),Zre=og({name:"TabButton",configFields:[nn("uid",void 0),Nn("value"),Cc("dom","dom",Zp(()=>({attributes:{role:"tab",id:wo("aria"),"aria-selected":"false"}})),Wn()),di("action"),nn("domModification",{}),ju("tabButtonBehaviours",[qs,ls,Ao]),Nn("view")],factory:Kre}),Yre=V([Nn("tabs"),Nn("dom"),nn("clickToDismiss",!1),ju("tabbarBehaviours",[li,ls]),mh(["tabClass","selectedClass"])]),Xre=T({factory:Zre,name:"tabs",unit:"tab",overrides:s=>{const l=(g,E)=>{li.dehighlight(g,E),bs(g,gb(),{tabbar:g,button:E})},h=(g,E)=>{li.highlight(g,E),bs(g,NT(),{tabbar:g,button:E})};return{action:g=>{const E=g.getSystem().getByUid(s.uid).getOrDie(),O=li.isHighlighted(E,g);(O&&s.clickToDismiss?l:O?se:h)(E,g)},domModification:{classes:[s.markers.tabClass]}}}}),Jre=V([Xre]),Qre=(s,l,h,g)=>({uid:s.uid,dom:s.dom,components:l,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:pu(s.tabbarBehaviours,[li.config({highlightClass:s.markers.selectedClass,itemClass:s.markers.tabClass,onHighlight:(E,O)=>{gs(O.element,"aria-selected","true")},onDehighlight:(E,O)=>{gs(O.element,"aria-selected","false")}}),ls.config({mode:"flow",getInitial:E=>li.getHighlighted(E).map(O=>O.element),selector:"."+s.markers.tabClass,executeOnMove:!0})])}),iW=If({name:"Tabbar",configFields:Yre(),partFields:Jre(),factory:Qre}),eie=(s,l)=>({uid:s.uid,dom:s.dom,behaviours:pu(s.tabviewBehaviours,[Xs.config({})]),domModification:{attributes:{role:"tabpanel"}}}),tie=og({name:"Tabview",configFields:[ju("tabviewBehaviours",[Xs])],factory:eie}),nie=V([nn("selectFirst",!0),Pr("onChangeTab"),Pr("onDismissTab"),nn("tabs",[]),ju("tabSectionBehaviours",[])]),kP=Q({factory:iW,schema:[Nn("dom"),zm("markers",[Nn("tabClass"),Nn("selectedClass")])],name:"tabbar",defaults:s=>({tabs:s.tabs})}),fV=Q({factory:tie,name:"tabview"}),pV=V([kP,fV]),aW=(s,l,h,g)=>{const E=I=>{const q=Ao.getValue(I);Pe(I,s,"tabview").each(Y=>{xt(s.tabs,he=>he.value===q).each(he=>{const ve=he.view();lr(I.element,"id").each(Me=>{gs(Y.element,"aria-labelledby",Me)}),Xs.set(Y,ve),s.onChangeTab(Y,I,ve)})})},O=(I,q)=>{Pe(I,s,"tabbar").each(Y=>{q(Y).each(cw)})};return{uid:s.uid,dom:s.dom,components:l,behaviours:$w(s.tabSectionBehaviours),events:Ia(vn([s.selectFirst?[Ta((I,q)=>{O(I,li.getFirst)})]:[],[En(NT(),(I,q)=>{const Y=q.event.button;E(Y)}),En(gb(),(I,q)=>{const Y=q.event.button;s.onDismissTab(I,Y)})]])),apis:{getViewItems:I=>Pe(I,s,"tabview").map(q=>Xs.contents(q)).getOr([]),showTab:(I,q)=>{O(I,oe=>{const he=li.getCandidates(oe);return xt(he,Me=>Ao.getValue(Me)===q).filter(Me=>!li.isHighlighted(oe,Me))})}}}},YA=If({name:"TabSection",configFields:nie(),partFields:pV(),factory:aW,apis:{getViewItems:(s,l)=>s.getViewItems(l),showTab:(s,l,h)=>{s.showTab(l,h)}}}),DP=(s,l,h)=>{const g=Ao.getValue(h);Ao.setValue(l,g),PP(l)},MP=(s,l)=>{const h=s.element,g=Al(h),E=h.dom;gl(h,"type")!=="number"&&l(E,g)},PP=s=>{MP(s,(l,h)=>l.setSelectionRange(h.length,h.length))},NP=(s,l)=>{MP(s,(h,g)=>h.setSelectionRange(l,g.length))},lW=(s,l,h)=>{if(s.selectsOver){const g=Ao.getValue(l),E=s.getDisplayText(g),O=Ao.getValue(h);return s.getDisplayText(O).indexOf(E)===0?ee.some(()=>{DP(s,l,h),NP(l,E.length)}):ee.none()}else return ee.none()},mV=V("alloy.typeahead.itemexecute"),oie=(s,l,h,g)=>{const E=(ve,Me,Ge)=>{s.previewing.set(!1);const Ze=Ks.getCoupled(ve,"sandbox");if(ti.isOpen(Ze))yn.getCurrent(Ze).each(at=>{li.getHighlighted(at).fold(()=>{Ge(at)},()=>{uI(Ze,at.element,"keydown",Me)})});else{const at=yt=>{yn.getCurrent(yt).each(Ge)};rP(s,I(ve),ve,Ze,g,at,Wd.HighlightMenuAndItem).get(se)}},O=b7(s),I=ve=>Me=>Me.map(Ge=>{const Ze=kt(Ge.menus),at=qe(Ze,ot=>Vo(ot.items,_t=>_t.type==="item"));return Ao.getState(ve).update(Dt(at,ot=>ot.data)),Ge}),q=ve=>yn.getCurrent(ve),Y="typeaheadevents",oe=[qs.config({}),Ao.config({onSetValue:s.onSetValue,store:{mode:"dataset",getDataKey:ve=>Al(ve.element),getFallbackEntry:ve=>({value:ve,meta:{}}),setValue:(ve,Me)=>{pf(ve.element,s.model.getDisplayText(Me))},...s.initialData.map(ve=>Ug("initialValue",ve)).getOr({})}}),JM.config({stream:{mode:"throttle",delay:s.responseTime,stopEvent:!1},onStream:(ve,Me)=>{const Ge=Ks.getCoupled(ve,"sandbox");if(qs.isFocused(ve)&&Al(ve.element).length>=s.minChars){const at=q(Ge).bind(ot=>li.getHighlighted(ot).map(Ao.getValue));s.previewing.set(!0);const yt=ot=>{q(Ge).each(_t=>{at.fold(()=>{s.model.selectsOver&&li.highlightFirst(_t)},Lt=>{li.highlightBy(_t,an=>Ao.getValue(an).value===Lt.value),li.getHighlighted(_t).orThunk(()=>(li.highlightFirst(_t),ee.none()))})})};rP(s,I(ve),ve,Ge,g,yt,Wd.HighlightJustMenu).get(se)}},cancelEvent:fb()}),ls.config({mode:"special",onDown:(ve,Me)=>(E(ve,Me,li.highlightFirst),ee.some(!0)),onEscape:ve=>{const Me=Ks.getCoupled(ve,"sandbox");return ti.isOpen(Me)?(ti.close(Me),ee.some(!0)):ee.none()},onUp:(ve,Me)=>(E(ve,Me,li.highlightLast),ee.some(!0)),onEnter:ve=>{const Me=Ks.getCoupled(ve,"sandbox"),Ge=ti.isOpen(Me);if(Ge&&!s.previewing.get())return q(Me).bind(Ze=>li.getHighlighted(Ze)).map(Ze=>(bs(ve,mV(),{item:Ze}),!0));{const Ze=Ao.getValue(ve);return _r(ve,fb()),s.onExecute(Me,ve,Ze),Ge&&ti.close(Me),ee.some(!0)}}}),Nr.config({toggleClass:s.markers.openClass,aria:{mode:"expanded"}}),Ks.config({others:{sandbox:ve=>f7(s,ve,{onOpen:()=>Nr.on(ve),onClose:()=>{s.lazyTypeaheadComp.get().each(Me=>ia(Me.element,"aria-activedescendant")),Nr.off(ve)}})}}),Gs(Y,[Ta(ve=>{s.lazyTypeaheadComp.set(ee.some(ve))}),ev(ve=>{s.lazyTypeaheadComp.set(ee.none())}),bb(ve=>{const Me=se;u7(s,I(ve),ve,g,Me,Wd.HighlightMenuAndItem).get(se)}),En(mV(),(ve,Me)=>{const Ge=Ks.getCoupled(ve,"sandbox");DP(s.model,ve,Me.event.item),_r(ve,fb()),s.onItemExecute(ve,Ge,Me.event.item,Ao.getValue(ve)),ti.close(Ge),PP(ve)})].concat(s.dismissOnBlur?[En(Sf(),ve=>{const Me=Ks.getCoupled(ve,"sandbox");Ya(Me.element).isNone()&&ti.close(Me)})]:[]))],he={[qg()]:[Ao.name(),JM.name(),Y],...s.eventOrder};return{uid:s.uid,dom:C7(Xr(s,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...O,...pu(s.typeaheadBehaviours,oe)},eventOrder:he}},sie=V([di("lazySink"),Nn("fetch"),nn("minChars",5),nn("responseTime",1e3),Pr("onOpen"),nn("getHotspot",ee.some),nn("getAnchorOverrides",V({})),nn("layouts",ee.none()),nn("eventOrder",{}),ZE("model",{},[nn("getDisplayText",s=>s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.value),nn("selectsOver",!0),nn("populateFromBrowse",!0)]),Pr("onSetValue"),Vl("onExecute"),Pr("onItemExecute"),nn("inputClasses",[]),nn("inputAttributes",{}),nn("inputStyles",{}),nn("matchWidth",!0),nn("useMinWidth",!1),nn("dismissOnBlur",!0),mh(["openClass"]),di("initialData"),di("listRole"),ju("typeaheadBehaviours",[qs,Ao,JM,ls,Nr,Ks]),Fc("lazyTypeaheadComp",()=>Wt(ee.none)),Fc("previewing",()=>Wt(!0))].concat(y7()).concat(bp())),rie=V([m({schema:[tw()],name:"menu",overrides:s=>({fakeFocus:!0,onHighlightItem:(l,h,g)=>{s.previewing.get()?s.lazyTypeaheadComp.get().each(E=>{lW(s.model,E,g).fold(()=>{s.model.selectsOver?(li.dehighlight(h,g),s.previewing.set(!0)):s.previewing.set(!1)},(O=>{O(),s.previewing.set(!1)}))}):s.lazyTypeaheadComp.get().each(E=>{s.model.populateFromBrowse&&DP(s.model,E,g),lr(g.element,"id").each(O=>gs(E.element,"aria-activedescendant",O))})},onExecute:(l,h)=>s.lazyTypeaheadComp.get().map(g=>(bs(g,mV(),{item:h}),!0)),onHover:(l,h)=>{s.previewing.set(!1),s.lazyTypeaheadComp.get().each(g=>{s.model.populateFromBrowse&&DP(s.model,g,h)})}})})]),iie=If({name:"Typeahead",configFields:sie(),partFields:rie(),factory:oie});var aie=tinymce.util.Tools.resolve("tinymce.ThemeManager"),LP=tinymce.util.Tools.resolve("tinymce.util.Delay"),mR=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),lie=tinymce.util.Tools.resolve("tinymce.EditorManager"),XA=tinymce.util.Tools.resolve("tinymce.Env"),sg;(function(s){s.default="wrap",s.floating="floating",s.sliding="sliding",s.scrolling="scrolling"})(sg||(sg={}));var gR;(function(s){s.auto="auto",s.top="top",s.bottom="bottom"})(gR||(gR={}));const Xi=s=>l=>l.options.get(s),JA=s=>l=>ee.from(s(l)),cW=s=>{const l=XA.deviceType.isPhone(),h=XA.deviceType.isTablet()||l,g=s.options.register,E=I=>v(I)||I===!1,O=I=>v(I)||te(I);g("skin",{processor:I=>v(I)||I===!1,default:"oxide"}),g("skin_url",{processor:"string"}),g("height",{processor:O,default:Math.max(s.getElement().offsetHeight,400)}),g("width",{processor:O,default:mR.DOM.getStyle(s.getElement(),"width")}),g("min_height",{processor:"number",default:100}),g("min_width",{processor:"number"}),g("max_height",{processor:"number"}),g("max_width",{processor:"number"}),g("style_formats",{processor:"object[]"}),g("style_formats_merge",{processor:"boolean",default:!1}),g("style_formats_autohide",{processor:"boolean",default:!1}),g("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),g("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),g("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),g("font_size_input_default_unit",{processor:"string",default:"pt"}),g("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),g("content_langs",{processor:"object[]"}),g("removed_menuitems",{processor:"string",default:""}),g("menubar",{processor:I=>v(I)||B(I),default:!l}),g("menu",{processor:"object",default:{}}),g("toolbar",{processor:I=>B(I)||v(I)||x(I)?{value:I,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),In(9,I=>{g("toolbar"+(I+1),{processor:"string"})}),g("toolbar_mode",{processor:"string",default:h?"scrolling":"floating"}),g("toolbar_groups",{processor:"object",default:{}}),g("toolbar_location",{processor:"string",default:gR.auto}),g("toolbar_persist",{processor:"boolean",default:!1}),g("toolbar_sticky",{processor:"boolean",default:s.inline}),g("toolbar_sticky_offset",{processor:"number",default:0}),g("fixed_toolbar_container",{processor:"string",default:""}),g("fixed_toolbar_container_target",{processor:"object"}),g("ui_mode",{processor:"string",default:"combined"}),g("file_picker_callback",{processor:"function"}),g("file_picker_validator_handler",{processor:"function"}),g("file_picker_types",{processor:"string"}),g("typeahead_urls",{processor:"boolean",default:!0}),g("anchor_top",{processor:E,default:"#top"}),g("anchor_bottom",{processor:E,default:"#bottom"}),g("draggable_modal",{processor:"boolean",default:!1}),g("statusbar",{processor:"boolean",default:!0}),g("elementpath",{processor:"boolean",default:!0}),g("branding",{processor:"boolean",default:!0}),g("promotion",{processor:"boolean",default:!0}),g("resize",{processor:I=>I==="both"||B(I),default:!XA.deviceType.isTouch()}),g("sidebar_show",{processor:"string"}),g("help_accessibility",{processor:"boolean",default:s.hasPlugin("help")}),g("default_font_stack",{processor:"string[]",default:[]})},uW=Xi("readonly"),uv=Xi("disabled"),gV=Xi("height"),vV=Xi("width"),vR=JA(Xi("min_width")),kc=JA(Xi("min_height")),BP=JA(Xi("max_width")),yV=JA(Xi("max_height")),dW=JA(Xi("style_formats")),hW=Xi("style_formats_merge"),fW=Xi("style_formats_autohide"),pW=Xi("content_langs"),mW=Xi("removed_menuitems"),Jw=Xi("toolbar_mode"),gW=Xi("toolbar_groups"),bV=Xi("toolbar_location"),cie=Xi("fixed_toolbar_container"),uie=Xi("fixed_toolbar_container_target"),vW=Xi("toolbar_persist"),yW=Xi("toolbar_sticky_offset"),bW=Xi("menubar"),FP=Xi("toolbar"),SW=Xi("file_picker_callback"),CW=Xi("file_picker_validator_handler"),EW=Xi("font_size_input_default_unit"),wW=Xi("file_picker_types"),_W=Xi("typeahead_urls"),TW=Xi("anchor_top"),AW=Xi("anchor_bottom"),xW=Xi("draggable_modal"),OW=Xi("statusbar"),SV=Xi("elementpath"),CV=Xi("branding"),EV=Xi("resize"),IW=Xi("paste_as_text"),wV=Xi("sidebar_show"),RW=Xi("promotion"),_V=Xi("help_accessibility"),kW=Xi("default_font_stack"),DW=Xi("skin"),TV=s=>s.options.get("skin")===!1,VP=s=>s.options.get("menubar")!==!1,MW=s=>{const l=s.options.get("skin_url");if(TV(s))return l;if(l)return s.documentBaseURI.toAbsolute(l);{const h=s.options.get("skin");return lie.baseURL+"/skins/ui/"+h}},die=s=>ee.from(s.options.get("skin_url")),PW=s=>s.options.get("line_height_formats").split(" "),HP=s=>{const l=FP(s),h=v(l),g=x(l)&&l.length>0;return!yR(s)&&(g||h||l===!0)},AV=s=>{const l=In(9,g=>s.options.get("toolbar"+(g+1))),h=Vo(l,v);return al(h.length>0,h)},yR=s=>AV(s).fold(()=>{const l=FP(s);return ce(l,v)&&l.length>0},St),xV=s=>bV(s)===gR.bottom,NW=s=>{if(!s.inline)return ee.none();const l=cie(s)??"";if(l.length>0)return ii(Bd(),l);const h=uie(s);return z(h)?ee.some(po.fromDom(h)):ee.none()},QA=s=>s.inline&&NW(s).isSome(),$P=s=>NW(s).getOrThunk(()=>Za(oa(po.fromDom(s.getElement())))),OV=s=>s.inline&&!VP(s)&&!HP(s)&&!yR(s),ex=s=>(s.options.get("toolbar_sticky")||s.inline)&&!QA(s)&&!OV(s),VC=s=>!QA(s)&&s.options.get("ui_mode")==="split",LW=s=>{const l=s.options.get("menu");return Wo(l,h=>({...h,items:h.items}))};var hie=Object.freeze({__proto__:null,get ToolbarMode(){return sg},get ToolbarLocation(){return gR},register:cW,getSkinUrl:MW,getSkinUrlOption:die,isReadOnly:uW,isDisabled:uv,getSkin:DW,isSkinDisabled:TV,getHeightOption:gV,getWidthOption:vV,getMinWidthOption:vR,getMinHeightOption:kc,getMaxWidthOption:BP,getMaxHeightOption:yV,getUserStyleFormats:dW,shouldMergeStyleFormats:hW,shouldAutoHideStyleFormats:fW,getLineHeightFormats:PW,getContentLanguages:pW,getRemovedMenuItems:mW,isMenubarEnabled:VP,isMultipleToolbars:yR,isToolbarEnabled:HP,isToolbarPersist:vW,getMultipleToolbarsOption:AV,getUiContainer:$P,useFixedContainer:QA,isSplitUiMode:VC,getToolbarMode:Jw,isDraggableModal:xW,isDistractionFree:OV,isStickyToolbar:ex,getStickyToolbarOffset:yW,getToolbarLocation:bV,isToolbarLocationBottom:xV,getToolbarGroups:gW,getMenus:LW,getMenubar:bW,getToolbar:FP,getFilePickerCallback:SW,getFilePickerTypes:wW,useTypeaheadUrls:_W,getAnchorTop:TW,getAnchorBottom:AW,getFilePickerValidatorHandler:CW,getFontSizeInputDefaultUnit:EW,useStatusBar:OW,useElementPath:SV,promotionEnabled:RW,useBranding:CV,getResize:EV,getPasteAsText:IW,getSidebarShow:wV,useHelpAccessibility:_V,getDefaultFontStack:kW});const IV=["visible","hidden","clip"],bR=s=>yo(s).length>0&&!tn(IV,s),BW=s=>{if(st(s)){const l=aa(s,"overflow-x"),h=aa(s,"overflow-y");return bR(l)||bR(h)}else return!1},SR=s=>s.plugins.fullscreen&&s.plugins.fullscreen.isFullscreen(),fie=(s,l)=>{const h=cl(l,BW),g=h.length===0?sa(l).map(ei).map(E=>cl(E,BW)).getOr([]):h;return Et(g).map(E=>({element:E,others:g.slice(1),isFullscreen:()=>SR(s)}))},HC=(s,l)=>VC(s)?fie(s,l):ee.none(),Qw=s=>{const l=[...Dt(s.others,Fl),Fu()];return s.isFullscreen()?Fu():ld(Fl(s.element),l)};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:FW,setPrototypeOf:pie,isFrozen:UP,getPrototypeOf:tx,getOwnPropertyDescriptor:VW}=Object;let{freeze:Sp,seal:fy,create:HW}=Object,{apply:RV,construct:kV}=typeof Reflect<"u"&&Reflect;Sp||(Sp=function(l){return l}),fy||(fy=function(l){return l}),RV||(RV=function(l,h,g){return l.apply(h,g)}),kV||(kV=function(l,h){return new l(...h)});const zP=fm(Array.prototype.forEach),mie=fm(Array.prototype.lastIndexOf),$W=fm(Array.prototype.pop),CR=fm(Array.prototype.push),gie=fm(Array.prototype.splice),jP=fm(String.prototype.toLowerCase),DV=fm(String.prototype.toString),MV=fm(String.prototype.match),I0=fm(String.prototype.replace),e_=fm(String.prototype.indexOf),vie=fm(String.prototype.trim),py=fm(Object.prototype.hasOwnProperty),Cp=fm(RegExp.prototype.test),$C=t_(TypeError);function fm(s){return function(l){l instanceof RegExp&&(l.lastIndex=0);for(var h=arguments.length,g=new Array(h>1?h-1:0),E=1;E<h;E++)g[E-1]=arguments[E];return RV(s,l,g)}}function t_(s){return function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];return kV(s,h)}}function Li(s,l){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jP;pie&&pie(s,null);let g=l.length;for(;g--;){let E=l[g];if(typeof E=="string"){const O=h(E);O!==E&&(UP(l)||(l[g]=O),E=O)}s[E]=!0}return s}function yie(s){for(let l=0;l<s.length;l++)py(s,l)||(s[l]=null);return s}function tS(s){const l=HW(null);for(const[h,g]of FW(s))py(s,h)&&(Array.isArray(g)?l[h]=yie(g):g&&typeof g=="object"&&g.constructor===Object?l[h]=tS(g):l[h]=g);return l}function ER(s,l){for(;s!==null;){const g=VW(s,l);if(g){if(g.get)return fm(g.get);if(typeof g.value=="function")return fm(g.value)}s=tx(s)}function h(){return null}return h}const UW=Sp(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),PV=Sp(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),NV=Sp(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),bie=Sp(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),LV=Sp(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),WP=Sp(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),BV=Sp(["#text"]),zW=Sp(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),GP=Sp(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),jW=Sp(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qP=Sp(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),FV=fy(/\{\{[\w\W]*|[\w\W]*\}\}/gm),_Se=fy(/<%[\w\W]*|[\w\W]*%>/gm),VV=fy(/\$\{[\w\W]*/gm),Sie=fy(/^data-[\-\w.\u00B7-\uFFFF]+$/),Cie=fy(/^aria-[\-\w]+$/),WW=fy(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),GW=fy(/^(?:\w+script|data):/i),qW=fy(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),KW=fy(/^html$/i),Eie=fy(/^[a-z][.\w]*(-[.\w]+)+$/i);var HV=Object.freeze({__proto__:null,ARIA_ATTR:Cie,ATTR_WHITESPACE:qW,CUSTOM_ELEMENT:Eie,DATA_ATTR:Sie,DOCTYPE_NAME:KW,ERB_EXPR:_Se,IS_ALLOWED_URI:WW,IS_SCRIPT_OR_DATA:GW,MUSTACHE_EXPR:FV,TMPLIT_EXPR:VV});const wR={element:1,text:3,progressingInstruction:7,comment:8,document:9},wie=function(){return typeof window>"u"?null:window},KP=function(l,h){if(typeof l!="object"||typeof l.createPolicy!="function")return null;let g=null;const E="data-tt-policy-suffix";h&&h.hasAttribute(E)&&(g=h.getAttribute(E));const O="dompurify"+(g?"#"+g:"");try{return l.createPolicy(O,{createHTML(I){return I},createScriptURL(I){return I}})}catch{return console.warn("TrustedTypes policy "+O+" could not be created."),null}},ZW=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function _ie(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wie();const l=N=>_ie(N);if(l.version="3.2.6",l.removed=[],!s||!s.document||s.document.nodeType!==wR.document||!s.Element)return l.isSupported=!1,l;let{document:h}=s;const g=h,E=g.currentScript,{DocumentFragment:O,HTMLTemplateElement:I,Node:q,Element:Y,NodeFilter:oe,NamedNodeMap:he=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:ve,DOMParser:Me,trustedTypes:Ge}=s,Ze=Y.prototype,at=ER(Ze,"cloneNode"),yt=ER(Ze,"remove"),ot=ER(Ze,"nextSibling"),_t=ER(Ze,"childNodes"),Lt=ER(Ze,"parentNode");if(typeof I=="function"){const N=h.createElement("template");N.content&&N.content.ownerDocument&&(h=N.content.ownerDocument)}let an,hn="";const{implementation:vo,createNodeIterator:Vn,createDocumentFragment:Qn,getElementsByTagName:Gn}=h,{importNode:Es}=g;let os=ZW();l.isSupported=typeof FW=="function"&&typeof Lt=="function"&&vo&&vo.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Dr,ERB_EXPR:ks,TMPLIT_EXPR:rr,DATA_ATTR:ns,ARIA_ATTR:Bn,IS_SCRIPT_OR_DATA:mo,ATTR_WHITESPACE:Ns,CUSTOM_ELEMENT:ir}=HV;let{IS_ALLOWED_URI:cs}=HV,tr=null;const ki=Li({},[...UW,...PV,...NV,...LV,...BV]);let Ci=null;const Zh=Li({},[...zW,...GP,...jW,...qP]);let Wa=Object.seal(HW(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Tp=null,mu=null,ug=!0,Ap=!0,gv=!1,B0=!0,Ey=!1,Ix=!0,F0=!1,hk=!1,l5=!1,k_=!1,CL=!1,V0=!1,c5=!0,VY=!1;const EL="user-content-";let QC=!0,eE=!1,D_={},cS=null;const Df=Li({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let fk=null;const u5=Li({},["audio","video","img","source","image","track"]);let wL=null;const HY=Li({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_L="http://www.w3.org/1998/Math/MathML",Db="http://www.w3.org/2000/svg",tE="http://www.w3.org/1999/xhtml";let Rx=tE,TL=!1,nE=null;const AL=Li({},[_L,Db,tE],DV);let pk=Li({},["mi","mo","mn","ms","mtext"]),xL=Li({},["annotation-xml"]);const ope=Li({},["title","style","font","a","script"]);let mk=null;const spe=["application/xhtml+xml","text/html"],kx="text/html";let Mf=null,Dx=null;const rpe=h.createElement("form"),ipe=function(G){return G instanceof RegExp||G instanceof Function},d5=function(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Dx&&Dx===G)){if((!G||typeof G!="object")&&(G={}),G=tS(G),mk=spe.indexOf(G.PARSER_MEDIA_TYPE)===-1?kx:G.PARSER_MEDIA_TYPE,Mf=mk==="application/xhtml+xml"?DV:jP,tr=py(G,"ALLOWED_TAGS")?Li({},G.ALLOWED_TAGS,Mf):ki,Ci=py(G,"ALLOWED_ATTR")?Li({},G.ALLOWED_ATTR,Mf):Zh,nE=py(G,"ALLOWED_NAMESPACES")?Li({},G.ALLOWED_NAMESPACES,DV):AL,wL=py(G,"ADD_URI_SAFE_ATTR")?Li(tS(HY),G.ADD_URI_SAFE_ATTR,Mf):HY,fk=py(G,"ADD_DATA_URI_TAGS")?Li(tS(u5),G.ADD_DATA_URI_TAGS,Mf):u5,cS=py(G,"FORBID_CONTENTS")?Li({},G.FORBID_CONTENTS,Mf):Df,Tp=py(G,"FORBID_TAGS")?Li({},G.FORBID_TAGS,Mf):tS({}),mu=py(G,"FORBID_ATTR")?Li({},G.FORBID_ATTR,Mf):tS({}),D_=py(G,"USE_PROFILES")?G.USE_PROFILES:!1,ug=G.ALLOW_ARIA_ATTR!==!1,Ap=G.ALLOW_DATA_ATTR!==!1,gv=G.ALLOW_UNKNOWN_PROTOCOLS||!1,B0=G.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ey=G.SAFE_FOR_TEMPLATES||!1,Ix=G.SAFE_FOR_XML!==!1,F0=G.WHOLE_DOCUMENT||!1,k_=G.RETURN_DOM||!1,CL=G.RETURN_DOM_FRAGMENT||!1,V0=G.RETURN_TRUSTED_TYPE||!1,l5=G.FORCE_BODY||!1,c5=G.SANITIZE_DOM!==!1,VY=G.SANITIZE_NAMED_PROPS||!1,QC=G.KEEP_CONTENT!==!1,eE=G.IN_PLACE||!1,cs=G.ALLOWED_URI_REGEXP||WW,Rx=G.NAMESPACE||tE,pk=G.MATHML_TEXT_INTEGRATION_POINTS||pk,xL=G.HTML_INTEGRATION_POINTS||xL,Wa=G.CUSTOM_ELEMENT_HANDLING||{},G.CUSTOM_ELEMENT_HANDLING&&ipe(G.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Wa.tagNameCheck=G.CUSTOM_ELEMENT_HANDLING.tagNameCheck),G.CUSTOM_ELEMENT_HANDLING&&ipe(G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Wa.attributeNameCheck=G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),G.CUSTOM_ELEMENT_HANDLING&&typeof G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Wa.allowCustomizedBuiltInElements=G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ey&&(Ap=!1),CL&&(k_=!0),D_&&(tr=Li({},BV),Ci=[],D_.html===!0&&(Li(tr,UW),Li(Ci,zW)),D_.svg===!0&&(Li(tr,PV),Li(Ci,GP),Li(Ci,qP)),D_.svgFilters===!0&&(Li(tr,NV),Li(Ci,GP),Li(Ci,qP)),D_.mathMl===!0&&(Li(tr,LV),Li(Ci,jW),Li(Ci,qP))),G.ADD_TAGS&&(tr===ki&&(tr=tS(tr)),Li(tr,G.ADD_TAGS,Mf)),G.ADD_ATTR&&(Ci===Zh&&(Ci=tS(Ci)),Li(Ci,G.ADD_ATTR,Mf)),G.ADD_URI_SAFE_ATTR&&Li(wL,G.ADD_URI_SAFE_ATTR,Mf),G.FORBID_CONTENTS&&(cS===Df&&(cS=tS(cS)),Li(cS,G.FORBID_CONTENTS,Mf)),QC&&(tr["#text"]=!0),F0&&Li(tr,["html","head","body"]),tr.table&&(Li(tr,["tbody"]),delete Tp.tbody),G.TRUSTED_TYPES_POLICY){if(typeof G.TRUSTED_TYPES_POLICY.createHTML!="function")throw $C('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof G.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $C('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');an=G.TRUSTED_TYPES_POLICY,hn=an.createHTML("")}else an===void 0&&(an=KP(Ge,E)),an!==null&&typeof hn=="string"&&(hn=an.createHTML(""));Sp&&Sp(G),Dx=G}},$Y=Li({},[...PV,...NV,...bie]),Mx=Li({},[...LV,...WP]),ape=function(G){let le=Lt(G);(!le||!le.tagName)&&(le={namespaceURI:Rx,tagName:"template"});const fe=jP(G.tagName),be=jP(le.tagName);return nE[G.namespaceURI]?G.namespaceURI===Db?le.namespaceURI===tE?fe==="svg":le.namespaceURI===_L?fe==="svg"&&(be==="annotation-xml"||pk[be]):!!$Y[fe]:G.namespaceURI===_L?le.namespaceURI===tE?fe==="math":le.namespaceURI===Db?fe==="math"&&xL[be]:!!Mx[fe]:G.namespaceURI===tE?le.namespaceURI===Db&&!xL[be]||le.namespaceURI===_L&&!pk[be]?!1:!Mx[fe]&&(ope[fe]||!$Y[fe]):!!(mk==="application/xhtml+xml"&&nE[G.namespaceURI]):!1},H0=function(G){CR(l.removed,{element:G});try{Lt(G).removeChild(G)}catch{yt(G)}},M_=function(G,le){try{CR(l.removed,{attribute:le.getAttributeNode(G),from:le})}catch{CR(l.removed,{attribute:null,from:le})}if(le.removeAttribute(G),G==="is")if(k_||CL)try{H0(le)}catch{}else try{le.setAttribute(G,"")}catch{}},UY=function(G){let le=null,fe=null;if(l5)G="<remove></remove>"+G;else{const Qe=MV(G,/^[\r\n\t ]+/);fe=Qe&&Qe[0]}mk==="application/xhtml+xml"&&Rx===tE&&(G='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+G+"</body></html>");const be=an?an.createHTML(G):G;if(Rx===tE)try{le=new Me().parseFromString(be,mk)}catch{}if(!le||!le.documentElement){le=vo.createDocument(Rx,"template",null);try{le.documentElement.innerHTML=TL?hn:be}catch{}}const Le=le.body||le.documentElement;return G&&fe&&Le.insertBefore(h.createTextNode(fe),Le.childNodes[0]||null),Rx===tE?Gn.call(le,F0?"html":"body")[0]:F0?le.documentElement:Le},lpe=function(G){return Vn.call(G.ownerDocument||G,G,oe.SHOW_ELEMENT|oe.SHOW_COMMENT|oe.SHOW_TEXT|oe.SHOW_PROCESSING_INSTRUCTION|oe.SHOW_CDATA_SECTION,null)},t=function(G){return G instanceof ve&&(typeof G.nodeName!="string"||typeof G.textContent!="string"||typeof G.removeChild!="function"||!(G.attributes instanceof he)||typeof G.removeAttribute!="function"||typeof G.setAttribute!="function"||typeof G.namespaceURI!="string"||typeof G.insertBefore!="function"||typeof G.hasChildNodes!="function")},r=function(G){return typeof q=="function"&&G instanceof q};function a(N,G,le){zP(N,fe=>{fe.call(l,G,le,Dx)})}const u=function(G){let le=null;if(a(os.beforeSanitizeElements,G,null),t(G))return H0(G),!0;const fe=Mf(G.nodeName);if(a(os.uponSanitizeElement,G,{tagName:fe,allowedTags:tr}),Ix&&G.hasChildNodes()&&!r(G.firstElementChild)&&Cp(/<[/\w!]/g,G.innerHTML)&&Cp(/<[/\w!]/g,G.textContent)||G.nodeType===wR.progressingInstruction||Ix&&G.nodeType===wR.comment&&Cp(/<[/\w]/g,G.data))return H0(G),!0;if(!tr[fe]||Tp[fe]){if(!Tp[fe]&&b(fe)&&(Wa.tagNameCheck instanceof RegExp&&Cp(Wa.tagNameCheck,fe)||Wa.tagNameCheck instanceof Function&&Wa.tagNameCheck(fe)))return!1;if(QC&&!cS[fe]){const be=Lt(G)||G.parentNode,Le=_t(G)||G.childNodes;if(Le&&be){const Qe=Le.length;for(let ze=Qe-1;ze>=0;--ze){const nt=at(Le[ze],!0);nt.__removalCount=(G.__removalCount||0)+1,be.insertBefore(nt,ot(G))}}}return H0(G),!0}return G instanceof Y&&!ape(G)||(fe==="noscript"||fe==="noembed"||fe==="noframes")&&Cp(/<\/no(script|embed|frames)/i,G.innerHTML)?(H0(G),!0):(Ey&&G.nodeType===wR.text&&(le=G.textContent,zP([Dr,ks,rr],be=>{le=I0(le,be," ")}),G.textContent!==le&&(CR(l.removed,{element:G.cloneNode()}),G.textContent=le)),a(os.afterSanitizeElements,G,null),!1)},f=function(G,le,fe){if(c5&&(le==="id"||le==="name")&&(fe in h||fe in rpe))return!1;if(!(Ap&&!mu[le]&&Cp(ns,le))){if(!(ug&&Cp(Bn,le))){if(!Ci[le]||mu[le]){if(!(b(G)&&(Wa.tagNameCheck instanceof RegExp&&Cp(Wa.tagNameCheck,G)||Wa.tagNameCheck instanceof Function&&Wa.tagNameCheck(G))&&(Wa.attributeNameCheck instanceof RegExp&&Cp(Wa.attributeNameCheck,le)||Wa.attributeNameCheck instanceof Function&&Wa.attributeNameCheck(le))||le==="is"&&Wa.allowCustomizedBuiltInElements&&(Wa.tagNameCheck instanceof RegExp&&Cp(Wa.tagNameCheck,fe)||Wa.tagNameCheck instanceof Function&&Wa.tagNameCheck(fe))))return!1}else if(!wL[le]){if(!Cp(cs,I0(fe,Ns,""))){if(!((le==="src"||le==="xlink:href"||le==="href")&&G!=="script"&&e_(fe,"data:")===0&&fk[G])){if(!(gv&&!Cp(mo,I0(fe,Ns,"")))){if(fe)return!1}}}}}}return!0},b=function(G){return G!=="annotation-xml"&&MV(G,ir)},A=function(G){a(os.beforeSanitizeAttributes,G,null);const{attributes:le}=G;if(!le||t(G))return;const fe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ci,forceKeepAttr:void 0};let be=le.length;for(;be--;){const Le=le[be],{name:Qe,namespaceURI:ze,value:nt}=Le,Mt=Mf(Qe),Bt=nt;let zt=Qe==="value"?Bt:vie(Bt);if(fe.attrName=Mt,fe.attrValue=zt,fe.keepAttr=!0,fe.forceKeepAttr=void 0,a(os.uponSanitizeAttribute,G,fe),zt=fe.attrValue,VY&&(Mt==="id"||Mt==="name")&&(M_(Qe,G),zt=EL+zt),Ix&&Cp(/((--!?|])>)|<\/(style|title)/i,zt)){M_(Qe,G);continue}if(fe.forceKeepAttr)continue;if(!fe.keepAttr){M_(Qe,G);continue}if(!B0&&Cp(/\/>/i,zt)){M_(Qe,G);continue}Ey&&zP([Dr,ks,rr],$n=>{zt=I0(zt,$n," ")});const _n=Mf(G.nodeName);if(!f(_n,Mt,zt)){M_(Qe,G);continue}if(an&&typeof Ge=="object"&&typeof Ge.getAttributeType=="function"&&!ze)switch(Ge.getAttributeType(_n,Mt)){case"TrustedHTML":{zt=an.createHTML(zt);break}case"TrustedScriptURL":{zt=an.createScriptURL(zt);break}}if(zt!==Bt)try{ze?G.setAttributeNS(ze,Qe,zt):G.setAttribute(Qe,zt),t(G)?H0(G):$W(l.removed)}catch{M_(Qe,G)}}a(os.afterSanitizeAttributes,G,null)},M=function N(G){let le=null;const fe=lpe(G);for(a(os.beforeSanitizeShadowDOM,G,null);le=fe.nextNode();)a(os.uponSanitizeShadowNode,le,null),u(le),A(le),le.content instanceof O&&N(le.content);a(os.afterSanitizeShadowDOM,G,null)};return l.sanitize=function(N){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=null,fe=null,be=null,Le=null;if(TL=!N,TL&&(N="<!-->"),typeof N!="string"&&!r(N))if(typeof N.toString=="function"){if(N=N.toString(),typeof N!="string")throw $C("dirty is not a string, aborting")}else throw $C("toString is not a function");if(!l.isSupported)return N;if(hk||d5(G),l.removed=[],typeof N=="string"&&(eE=!1),eE){if(N.nodeName){const nt=Mf(N.nodeName);if(!tr[nt]||Tp[nt])throw $C("root node is forbidden and cannot be sanitized in-place")}}else if(N instanceof q)le=UY("<!---->"),fe=le.ownerDocument.importNode(N,!0),fe.nodeType===wR.element&&fe.nodeName==="BODY"||fe.nodeName==="HTML"?le=fe:le.appendChild(fe);else{if(!k_&&!Ey&&!F0&&N.indexOf("<")===-1)return an&&V0?an.createHTML(N):N;if(le=UY(N),!le)return k_?null:V0?hn:""}le&&l5&&H0(le.firstChild);const Qe=lpe(eE?N:le);for(;be=Qe.nextNode();)u(be),A(be),be.content instanceof O&&M(be.content);if(eE)return N;if(k_){if(CL)for(Le=Qn.call(le.ownerDocument);le.firstChild;)Le.appendChild(le.firstChild);else Le=le;return(Ci.shadowroot||Ci.shadowrootmode)&&(Le=Es.call(g,Le,!0)),Le}let ze=F0?le.outerHTML:le.innerHTML;return F0&&tr["!doctype"]&&le.ownerDocument&&le.ownerDocument.doctype&&le.ownerDocument.doctype.name&&Cp(KW,le.ownerDocument.doctype.name)&&(ze="<!DOCTYPE "+le.ownerDocument.doctype.name+`>
`+ze),Ey&&zP([Dr,ks,rr],nt=>{ze=I0(ze,nt," ")}),an&&V0?an.createHTML(ze):ze},l.setConfig=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};d5(N),hk=!0},l.clearConfig=function(){Dx=null,hk=!1},l.isValidAttribute=function(N,G,le){Dx||d5({});const fe=Mf(N),be=Mf(G);return f(fe,be,le)},l.addHook=function(N,G){typeof G=="function"&&CR(os[N],G)},l.removeHook=function(N,G){if(G!==void 0){const le=mie(os[N],G);return le===-1?void 0:gie(os[N],le,1)[0]}return $W(os[N])},l.removeHooks=function(N){os[N]=[]},l.removeAllHooks=function(){os=ZW()},l}var $V=_ie();const YW=s=>$V().sanitize(s);var Sd=tinymce.util.Tools.resolve("tinymce.util.I18n");const Tie={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},XW="temporary-placeholder",ZP=s=>()=>wt(s,XW).getOr("!not found!"),YP=(s,l)=>{const h=s.toLowerCase();if(Sd.isRtl()){const g=Yf(h,"-rtl");return Zt(l,g)?g:h}else return h},UV=(s,l)=>wt(l,YP(s,l)),R0=(s,l)=>{const h=l();return UV(s,h).getOrThunk(ZP(h))},n_=(s,l,h)=>{const g=l();return UV(s,g).or(h).getOrThunk(ZP(g))},Aie=s=>Sd.isRtl()?Zt(Tie,s):!1,JW=()=>Gs("add-focusable",[Ta(s=>{ff(s.element,"svg").each(l=>gs(l,"focusable","false"))})]),zV=(s,l,h,g)=>{const E=Aie(l)?["tox-icon--flip"]:[],O=wt(h,YP(l,h)).or(g).getOrThunk(ZP(h));return{dom:{tag:s.tag,attributes:s.attributes??{},classes:s.classes.concat(E),innerHtml:O},behaviours:ho([...s.behaviours??[],JW()]),eventOrder:s.eventOrder??{}}},rg=(s,l,h,g=ee.none())=>zV(l,s,h(),g),QW=(s,l,h)=>{const g=h(),E=xt(s,O=>Zt(g,YP(O,g)));return zV(l,E.getOr(XW),g,ee.none())},xie={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},jV=og({name:"Notification",factory:s=>{const l=wo("notification-text"),h=pi({dom:J1(`<p id=${l}>${YW(s.backstageProvider.translate(s.text))}</p>`),behaviours:ho([Xs.config({})])}),g=Ze=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${Ze}%`}}}),E=Ze=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${Ze}%`}}),O=pi({dom:{tag:"div",classes:s.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[g(0)]},E(0)],behaviours:ho([Xs.config({})])}),Y={updateProgress:(Ze,at)=>{Ze.getSystem().isConnected()&&O.getOpt(Ze).each(yt=>{Xs.set(yt,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[g(at)]},E(at)])})},updateText:(Ze,at)=>{if(Ze.getSystem().isConnected()){const yt=h.get(Ze);Xs.set(yt,[va(at)])}}},oe=vn([s.icon.toArray(),[s.level],ee.from(xie[s.level]).toArray()]),he=pi(yd.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":s.backstageProvider.translate("Close")}},components:[rg("close",{tag:"span",classes:["tox-icon"]},s.iconProvider)],buttonBehaviours:ho([ya.config({}),ba.config({...s.backstageProvider.tooltips.getConfig({tooltipText:s.backstageProvider.translate("Close")})})]),action:Ze=>{s.onAction(Ze)}})),ve=QW(oe,{tag:"div",classes:["tox-notification__icon"]},s.iconProvider),Me={dom:{tag:"div",classes:["tox-notification__body"]},components:[h.asSpec()],behaviours:ho([Xs.config({})])},Ge=[ve,Me];return{uid:s.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":l},classes:["tox-notification","tox-notification--in",`tox-notification--${s.level}`]},behaviours:ho([ya.config({}),qs.config({}),ls.config({mode:"special",onEscape:Ze=>(s.onAction(Ze),ee.some(!0))})]),components:Ge.concat(s.progress?[O.asSpec()]:[]).concat([he.asSpec()]),apis:Y}},configFields:[hh("level","info",["success","error","warning","warn","info"]),Nn("progress"),di("icon"),Nn("onAction"),Nn("text"),Nn("iconProvider"),Nn("backstageProvider")],apis:{updateProgress:(s,l,h)=>{s.updateProgress(l,h)},updateText:(s,l,h)=>{s.updateText(l,h)}}});var Oie=(s,l,h,g)=>{const E=l.backstage.shared,O=()=>po.fromDom(s.queryCommandValue("ToggleView")===""?s.getContentAreaContainer():s.getContainer()),I=()=>{const ve=Fl(O());return ee.some(ve)},q=ve=>{I().each(Me=>{un(ve,Ge=>{wr(Ge.element,"width"),Sc(Ge.element)>Me.width&&Ds(Ge.element,"width",Me.width+"px")})})};return{open:(ve,Me,Ge)=>{const Ze=()=>{const Lt=Vn=>{Xs.remove(Vn,yt),ot()},an=(Vn,Qn)=>{vr(Vn.element).length===0?hn(Vn,Qn):vo(Vn,Qn)},hn=(Vn,Qn)=>{ol.hide(Vn),g.clear(),Qn&&s.focus()},vo=(Vn,Qn)=>{Qn&&ls.focusIn(Vn)};g.on(Vn=>{Me();const Qn=Ge();Lt(Vn),an(Vn,Qn)})},at=()=>!ex(s)||!E.header.isPositionedAtTop(),yt=k(jV.sketch({text:ve.text,level:tn(["success","error","warning","warn","info"],ve.type)?ve.type:void 0,progress:ve.progressBar===!0,icon:ve.icon,onAction:Ze,iconProvider:E.providers.icons,backstageProvider:E.providers}));if(g.isSet()){const Lt=W(yt);g.on(an=>{Xs.append(an,Lt),ol.reposition(an),yt.hasConfigured(nl)&&nl.refresh(an),q(an.components())})}else{const Lt=k(ol.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:E.getSink,fireDismissalEventInstead:{},...E.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ho([ls.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Xs.config({}),...at()?[nl.config({contextual:{lazyContext:()=>ee.some(Fl(O())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:Vn=>HC(s,Vn.element).map(Gn=>({bounds:Qw(Gn),optScrollEnv:ee.some({currentScrollTop:Gn.element.dom.scrollTop,scrollElmTop:Bc(Gn.element).top})})).getOrThunk(()=>({bounds:Fu(),optScrollEnv:ee.none()}))})]:[]])})),an=W(yt),hn={maxHeightFunction:A1()},vo={...E.anchors.banner(),overrides:hn};g.set(Lt),h.add(Lt),ol.showWithinBounds(Lt,an,{anchor:vo},I)}te(ve.timeout)&&ve.timeout>0&&LP.setEditorTimeout(s,()=>{Ze()},ve.timeout);const ot=()=>{g.on(Lt=>{ol.reposition(Lt),Lt.hasConfigured(nl)&&nl.refresh(Lt),q(Lt.components())})};return{close:Ze,reposition:ot,text:Lt=>{jV.updateText(yt,Lt)},settings:ve,getEl:()=>yt.element.dom,progressBar:{value:Lt=>{jV.updateProgress(yt,Lt)}}}},close:ve=>{ve.close()},getArgs:ve=>ve.settings}};const Iie={setup:(s,l)=>{const h=(E,O)=>{bs(E,ic(),{raw:O})},g=()=>s.getMenu().bind(li.getHighlighted);l.on("keydown",E=>{const O=E.which;s.isActive()&&(s.isMenuOpen()?O===13?(g().each(cw),E.preventDefault()):O===40?(g().fold(()=>{s.getMenu().each(li.highlightFirst)},I=>{h(I,E)}),E.preventDefault(),E.stopImmediatePropagation()):(O===37||O===38||O===39)&&g().each(I=>{h(I,E),E.preventDefault(),E.stopImmediatePropagation()}):(O===13||O===38||O===40)&&s.cancelIfNecessary())}),l.on("NodeChange",()=>{s.isActive()&&!s.isProcessingAction()&&!l.queryCommandState("mceAutoCompleterInRange")&&s.cancelIfNecessary()})}};var WV;(function(s){s[s.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",s[s.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(WV||(WV={}));var my=WV;const _R="tox-menu-nav__js",XP="tox-collection__item",GV="tox-swatch",Rie={normal:_R,color:GV},JP="tox-collection__item--enabled",kie="tox-collection__group-heading",e9="tox-collection__item-icon",Die="tox-collection__item-image",t9="tox-collection__item-image-selector",qV="tox-collection__item-label",Mie="tox-collection__item-accessory",n9="tox-collection__item-caret",Pie="tox-collection__item-checkmark",o_="tox-collection__item--active",KV="tox-collection__item-container",o9="tox-collection__item-container--column",s9="tox-collection__item-container--row",Nie="tox-collection__item-container--align-right",Lie="tox-collection__item-container--align-left",Bie="tox-collection__item-container--valign-top",Fie="tox-collection__item-container--valign-middle",r9="tox-collection__item-container--valign-bottom",s_=s=>wt(Rie,s).getOr(_R),Vie=s=>s==="color"?"tox-swatches":"tox-menu",ZV=s=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Vie(s),tieredMenu:"tox-tiered-menu"}),UC=s=>{const l=ZV(s);return{backgroundMenu:l.backgroundMenu,selectedMenu:l.selectedMenu,menu:l.menu,selectedItem:l.selectedItem,item:s_(s)}},QP=(s,l,h)=>{const g=ZV(h);return{tag:"div",classes:vn([[g.menu,`tox-menu-${l}-column`],s?[g.hasIcons]:[]])}},dv=[Q1.parts.items({})],r_=(s,l,h)=>{const g=ZV(h);return{dom:{tag:"div",classes:vn([[g.tieredMenu]])},markers:UC(h)}},YV=wo("refetch-trigger-event"),i9=wo("redirect-menu-item-interaction"),a9="tox-menu__searcher",eN=s=>ii(s.element,`.${a9}`).bind(l=>s.getSystem().getByDom(l).toOptional()),l9=eN,c9=(s,l)=>{Ao.setValue(s,l.fetchPattern),s.element.dom.selectionStart=l.selectionStart,s.element.dom.selectionEnd=l.selectionEnd},XV=s=>{const l=Ao.getValue(s),h=s.element.dom.selectionStart,g=s.element.dom.selectionEnd;return{fetchPattern:l,selectionStart:h,selectionEnd:g}},Hie=(s,l)=>{lr(l.element,"id").each(h=>gs(s.element,"aria-activedescendant",h))},$ie=s=>{const l=(E,O)=>(O.cut(),ee.none()),h=(E,O)=>{const I={interactionEvent:O.event,eventType:O.event.raw.type};return bs(E,i9,I),ee.some(!0)},g="searcher-events";return{dom:{tag:"div",classes:[XP]},components:[lv.sketch({inputClasses:[a9,"tox-textfield"],inputAttributes:{...s.placeholder.map(E=>({placeholder:s.i18n(E)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:ho([Gs(g,[En(Xp(),E=>{_r(E,YV)}),En(ic(),(E,O)=>{O.event.raw.key==="Escape"&&O.stop()})]),ls.config({mode:"special",onLeft:l,onRight:l,onSpace:l,onEnter:h,onEscape:h,onUp:h,onDown:h})]),eventOrder:{keydown:[g,ls.name()]}})]}},TR="tox-collection--results__js",u9=s=>s.dom?{...s,dom:{...s.dom,attributes:{...s.dom.attributes??{},id:wo("aria-item-search-result-id"),"aria-selected":"false"}}}:s,JV="Use arrow keys to navigate.",AR=(s,l)=>h=>{const g=mn(h,l);return Dt(g,E=>({dom:s,components:E}))},d9=s=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":Sd.translate(JV)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Q1.parts.items({preprocess:s!=="auto"?AR({tag:"div",classes:["tox-swatches__row"]},s):ke})]}]}),Uie=s=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[Q1.parts.items({preprocess:s!=="auto"?AR({tag:"div",classes:["tox-image-selector__row"]},s):ke})]}]}),zie=s=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Q1.parts.items({preprocess:AR({tag:"div",classes:["tox-collection__group"]},s)})]}),h9=(s,l)=>{const h=[];let g=[];return un(s,(E,O)=>{l(E,O)?(g.length>0&&h.push(g),g=[],(Zt(E.dom,"innerHtml")||E.components&&E.components.length>0)&&g.push(E)):g.push(E)}),g.length>0&&h.push(g),Dt(h,E=>({dom:{tag:"div",classes:["tox-collection__group"]},components:E}))},QV=(s,l,h)=>Q1.parts.items({preprocess:g=>{const E=Dt(g,h);return s!=="auto"&&s>1?AR({tag:"div",classes:["tox-collection__group"]},s)(E):h9(E,(O,I)=>l[I].type==="separator")}}),jie=s=>eo(s,l=>l.type==="widget"),xR=(s,l,h=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(s===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...jie(l)?{"aria-label":Sd.translate(JV)}:{}}},components:[QV(s,l,ke)]}),k0=(s,l,h=!0)=>{const g=wo("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",TR].concat(s===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:g}},components:[QV(s,l,u9)]}},f9=(s,l,h)=>{const g=wo("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(s===1?["tox-collection--list"]:["tox-collection--grid"])},components:[$ie({i18n:Sd.translate,placeholder:h.placeholder}),{dom:{tag:"div",classes:[...s===1?["tox-collection--list"]:["tox-collection--grid"],TR],attributes:{id:g}},components:[QV(s,l,u9)]}]}},hv=(s,l=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Q1.parts.items({preprocess:h=>h9(h,(g,E)=>s[E].type==="separator")})]}),OR=s=>eo(s,l=>"icon"in l&&l.icon!==void 0),ig=s=>(console.error(up(s)),console.log(s),ee.none()),Wie=(s,l,h,g,E)=>{const O=hv(h);return{value:s,dom:O.dom,components:O.components,items:h}},nS=(s,l,h,g,E)=>{const O=()=>E.menuType!=="searchable"?xR(g,h):E.searchMode.searchMode==="search-with-field"?f9(g,h,E.searchMode):k0(g,h);if(E.menuType==="color"){const I=d9(g);return{value:s,dom:I.dom,components:I.components,items:h}}else if(E.menuType==="imageselector"&&g!=="auto"){const I=Uie(g);return{value:s,dom:I.dom,components:I.components,items:h}}else if(E.menuType==="normal"&&g==="auto"){const I=xR(g,h);return{value:s,dom:I.dom,components:I.components,items:h}}else if(E.menuType==="normal"||E.menuType==="searchable"){const I=O();return{value:s,dom:I.dom,components:I.components,items:h}}else if(E.menuType==="listpreview"&&g!=="auto"){const I=zie(g);return{value:s,dom:I.dom,components:I.components,items:h}}else return{value:s,dom:QP(l,g,E.menuType),components:dv,items:h}},$l=sc("type"),IR=sc("name"),nx=sc("label"),oS=sc("text"),p9=sc("title"),sS=sc("icon"),m9=sc("url"),i_=sc("value"),Gie=Uh("fetch"),eH=Uh("getSubmenuItems"),a_=Uh("onAction"),tH=Uh("onItemAction"),zC=hi("onSetup",()=>se),g9=ul("name"),gy=ul("text"),qie=ul("role"),fv=ul("icon"),l_=ul("tooltip"),Kie=ul("chevronTooltip"),c_=ul("label"),nH=ul("shortcut"),oH=Yp("select"),ox=Vc("active",!1),RR=Vc("borderless",!1),vy=Vc("enabled",!0),kR=Vc("primary",!1),v9=s=>nn("columns",s),sH=nn("meta",{}),rH=hi("onAction",se),u_=s=>Ua("type",s),sx=s=>Cc("name","name",au(()=>wo(`${s}-name`)),$a),y9=s=>Cc("value","value",au(()=>wo(`${s}-value`)),Wn()),Zie=[$l,oS,vf("level",["info","warn","error","success"]),sS,nn("url","")],iH=Os(Zie),d_=s=>[$l,s],b9=[$l,oS,vy,sx("button"),fv,RR,IT("buttonType",["primary","secondary","toolbar"]),kR,Ua("context","mode:design")],DR=Os(b9),rx=[$l,IR],yy=rx.concat([c_]),Yie=rx.concat([nx,vy,Ua("context","mode:design")]),Xie=Os(Yie),h_=Er,S9=yy.concat([v9("auto"),Ua("context","mode:design")]),Jie=Os(S9),C9=YS([i_,oS,sS]),Qie=yy.concat([Ua("storageKey","default"),Ua("context","mode:design")]),eae=Os(Qie),tae=$a,oae=Os(yy),sae=$a,rae=rx.concat([Ua("tag","textarea"),sc("scriptId"),sc("scriptUrl"),Yp("onFocus"),JS("settings",void 0)]),iae=rx.concat([Ua("tag","textarea"),Uh("init")]),aae=Um(s=>Na("customeditor.old",uh(iae),s).orThunk(()=>Na("customeditor.new",uh(rae),s))),lae=$a,jC=[vy,gy,qie,nH,y9("menuitem"),sH,Ua("context","mode:design")],cae=Os([$l,IR].concat(jC)),E9=Er,aH=[sx("button"),fv,hh("align","end",["start","end"]),kR,vy,IT("buttonType",["primary","secondary"]),Ua("context","mode:design")],w9=[...aH,oS],lH=[vf("type",["submit","cancel","custom"]),...w9],uae=[vf("type",["menu"]),gy,l_,fv,$d("items",cae),...aH],dae=[...aH,vf("type",["togglebutton"]),l_,fv,gy,Vc("active",!1)],hae=hd("type",{submit:lH,cancel:lH,custom:lH,menu:uae,togglebutton:dae}),_9=yy.concat([Ua("context","mode:design")]),T9=Os(_9),fae=a0(),tN=s=>[$l,l0("columns"),s],pae=[$l,sc("html"),hh("presets","presentation",["presentation","document"]),hi("onInit",se),Vc("stretched",!1)],mae=Os(pae),gae=yy.concat([Vc("border",!1),Vc("sandboxed",!0),Vc("streamContent",!1),Vc("transparent",!0)]),vae=Os(gae),yae=$a,bae=Os(rx.concat([ul("height")])),Sae=Os([sc("url"),cb("zoom"),cb("cachedWidth"),cb("cachedHeight")]),Cae=yy.concat([ul("inputMode"),ul("placeholder"),Vc("maximized",!1),vy,Ua("context","mode:design")]),WC=Os(Cae),Eae=$a,wae=s=>[$l,nx,s,hh("align","start",["start","center","end"]),ul("for")],A9=[oS,i_],_ae=[oS,$d("items",lb("items",()=>x9))],x9=ab([Os(A9),Os(_ae)]),Tae=yy.concat([$d("items",x9),vy,Ua("context","mode:design")]),Aae=Os(Tae),cH=$a,O9=yy.concat([OT("items",[oS,i_]),u0("size",1),vy,Ua("context","mode:design")]),uH=Os(O9),nN=$a,ix=yy.concat([Vc("constrain",!0),vy,Ua("context","mode:design")]),xae=Os(ix),dH=Os([sc("width"),sc("height")]),Oae=rx.concat([nx,u0("min",0),u0("max",0)]),ax=Os(Oae),Iae=rb,oN=[$l,$d("header",$a),$d("cells",ud($a))],hH=Os(oN),Rae=yy.concat([ul("placeholder"),Vc("maximized",!1),vy,Ua("context","mode:design"),XS("spellcheck")]),kae=Os(Rae),Dae=$a,fH=[Ua("buttonType","default"),ul("text"),ul("tooltip"),ul("icon"),fd("search",!1,ab([Er,Os([ul("placeholder")])],s=>B(s)?s?ee.some({placeholder:ee.none()}):ee.none():ee.some(s))),Uh("fetch"),hi("onSetup",()=>se),Ua("context","mode:design")],I9=Os([$l,...fH]),R9=s=>Na("menubutton",I9,s),k9=[vf("type",["directory","leaf"]),p9,sc("id"),$u("menu",I9),ul("customStateIcon"),ul("customStateIconTooltip")],sN=Os(k9),Pae=k9.concat([$d("children",lb("children",()=>$m("type",{directory:D9,leaf:sN})))]),D9=Os(Pae),Nae=$m("type",{directory:D9,leaf:sN}),M9=[$l,$d("items",Nae),Yp("onLeafAction"),Yp("onToggleExpand"),zv("defaultExpandedIds",[],$a),ul("defaultSelectedId")],Lae=Os(M9),pH=yy.concat([hh("filetype","file",["image","media","file"]),vy,ul("picker_text"),Ua("context","mode:design")]),P9=Os(pH),N9=Os([i_,sH]),mH=s=>Cc("items","items",mf(),ud(Um(l=>Na(`Checking item of ${s}`,gH,l).fold(h=>zo.error(up(h)),h=>zo.value(h))))),gH=gf(()=>$m("type",{alertbanner:iH,bar:Os(d_(mH("bar"))),button:DR,checkbox:Xie,colorinput:eae,colorpicker:oae,dropzone:T9,grid:Os(tN(mH("grid"))),iframe:vae,input:WC,listbox:Aae,selectbox:uH,sizeinput:xae,slider:ax,textarea:kae,urlinput:P9,customeditor:aae,htmlpanel:mae,imagepreview:bae,collection:Jie,label:Os(wae(mH("label"))),table:hH,tree:Lae,panel:rN})),L9=[$l,nn("classes",[]),$d("items",gH)],rN=Os(L9),Bae=[sx("tab"),p9,$d("items",gH)],Fae=[$l,OT("tabs",Bae)],Vae=Os(Fae),Hae=w9,$ae=hae,Uae=Os([sc("title"),Hu("body",$m("type",{panel:rN,tabpanel:Vae})),Ua("size","normal"),zv("buttons",[],$ae),nn("initialData",{}),hi("onAction",se),hi("onChange",se),hi("onSubmit",se),hi("onClose",se),hi("onCancel",se),hi("onTabChange",se)]),zae=s=>Na("dialog",Uae,s),vH=Os([vf("type",["cancel","custom"]),...Hae]),jae=Os([sc("title"),sc("url"),cb("height"),cb("width"),qE("buttons",vH),hi("onAction",se),hi("onCancel",se),hi("onClose",se),hi("onMessage",se)]),yH=s=>Na("dialog",jae,s),bH=s=>S(s)?[s].concat(qe(kt(s),bH)):x(s)?qe(s,bH):[],Wae=s=>v(s.type)&&v(s.name),SH={checkbox:h_,colorinput:tae,colorpicker:sae,dropzone:fae,input:Eae,iframe:yae,imagepreview:Sae,selectbox:nN,sizeinput:dH,slider:Iae,listbox:cH,size:dH,textarea:Dae,urlinput:N9,customeditor:lae,collection:C9,togglemenuitem:E9},Gae=s=>ee.from(SH[s.type]),qae=s=>Vo(bH(s),Wae),B9=s=>{const l=qae(s),h=qe(l,g=>Gae(g).fold(()=>[],E=>[Hu(g.name,E)]));return Os(h)},F9=s=>{const l=cp(zae(s)),h=B9(s),g=s.initialData??{};return{internalDialog:l,dataValidator:h,initialData:g}},f_={open:(s,l)=>{const h=F9(l);return s(h.internalDialog,h.initialData,h.dataValidator)},openUrl:(s,l)=>{const h=cp(yH(l));return s(h)},redial:s=>F9(s)},V9=Os([$l,gy]),Kae=s=>Na("separatormenuitem",V9,s),Zae=Os([u_("autocompleteitem"),ox,vy,sH,i_,gy,fv]),Yae=s=>Na("Autocompleter.Separator",V9,s),Xae=s=>Na("Autocompleter.Item",Zae,s),p_=[vy,l_,fv,gy,zC,Ua("context","mode:design")],H9=Os([$l,a_,nH].concat(p_)),CH=s=>Na("toolbarbutton",H9,s),EH=[ox].concat(p_),Jae=Os(EH.concat([$l,a_,nH])),$9=s=>Na("ToggleButton",Jae,s),iN=[hi("predicate",ct),hh("scope","node",["node","editor"]),hh("position","selection",["node","selection","line"])],Qae=p_.concat([u_("contextformbutton"),Ua("align","end"),kR,a_,Fc("original",ke)]),U9=EH.concat([u_("contextformbutton"),Ua("align","end"),kR,a_,Fc("original",ke)]),z9=p_.concat([u_("contextformbutton")]),j9=EH.concat([u_("contextformtogglebutton")]),wH=hd("type",{contextformbutton:Qae,contextformtogglebutton:U9}),_H=[c_,$d("commands",wH),$u("launch",hd("type",{contextformbutton:z9,contextformtogglebutton:j9})),hi("onInput",se),hi("onSetup",se)],W9=[...iN,..._H,vf("type",["contextform"]),hi("initValue",V("")),ul("placeholder")],ele=[...iN,..._H,vf("type",["contextsliderform"]),hi("initValue",V(0)),hi("min",V(0)),hi("max",V(100))],tle=[...iN,..._H,vf("type",["contextsizeinputform"]),hi("initValue",V({width:"",height:""}))],nle=hd("type",{contextform:W9,contextsliderform:ele,contextsizeinputform:tle}),ole=s=>Na("ContextForm",nle,s),TH=p_.concat([u_("contexttoolbarbutton")]),rS=Os([u_("contexttoolbar"),dh("launch",TH),Hu("items",ab([$a,YS([ul("name"),ul("label"),$d("items",$a)])]))].concat(iN)),sle=s=>({name:s.name.getOrUndefined(),label:s.label.getOrUndefined(),items:s.items}),MR=s=>({...s,launch:s.launch.getOrUndefined(),items:v(s.items)?s.items:Dt(s.items,sle)}),rle=s=>Na("ContextToolbar",rS,s),AH=[$l,sc("src"),ul("alt"),zv("classes",[],$a)],ile=Os(AH),ale=[$l,oS,g9,zv("classes",["tox-collection__item-label"],$a)],lle=Os(ale),xH=gf(()=>$m("type",{cardimage:ile,cardtext:lle,cardcontainer:cle})),cle=Os([$l,Ua("direction","horizontal"),Ua("align","left"),Ua("valign","middle"),$d("items",xH)]),OH=Os([$l,c_,$d("items",xH),zC,rH].concat(jC)),IH=s=>Na("cardmenuitem",OH,s),RH=Os([$l,ox,fv,c_].concat(jC)),ule=s=>Na("choicemenuitem",RH,s),Ep=[$l,sc("fancytype"),rH],dle=[nn("initData",{})].concat(Ep),hle=[Yp("select"),ZE("initData",{},[Vc("allowCustomColors",!0),Ua("storageKey","default"),qE("colors",Wn())])].concat(Ep),G9=[Yp("select"),zm("initData",[l0("columns"),zv("items",[],Wn())])].concat(Ep),q9=hd("fancytype",{inserttable:dle,colorswatch:hle,imageselect:G9}),fle=s=>Na("fancymenuitem",q9,s),ple=Os([$l,ox,m9,c_,l_].concat(jC)),mle=Os([$l,ox,sS,nx,l_,i_].concat(jC)),gle=s=>Na("imagemenuitem",ple,s),vle=s=>Na("resetimageitem",mle,s),yle=Os([$l,zC,rH,fv].concat(jC)),ble=s=>Na("menuitem",yle,s),K9=Os([$l,eH,zC,fv].concat(jC)),Sle=s=>Na("nestedmenuitem",K9,s),Cle=Os([$l,fv,ox,zC,a_].concat(jC)),Ele=s=>Na("togglemenuitem",Cle,s),Z9=Os([fv,l_,hi("onShow",se),hi("onHide",se),zC]),kH=s=>Na("sidebar",Z9,s),DH=Os([$l,Hu("items",ab([YS([IR,$d("items",$a)]),$a]))].concat(p_)),wle=s=>Na("GroupToolbarButton",DH,s),MH=Os([$l,l_,Kie,fv,gy,oH,Gie,zC,hh("presets","normal",["normal","color","listpreview"]),v9(1),a_,tH,Ua("context","mode:design")]),lx=s=>Na("SplitButton",MH,s),PH=[gy,fv,ul("tooltip"),hh("buttonType","secondary",["primary","secondary"]),Vc("borderless",!1),Uh("onAction"),Ua("context","mode:design")],Y9=[...PH,oS,vf("type",["button"])],X9=[...PH,Vc("active",!1),vf("type",["togglebutton"])],J9={button:Y9,togglebutton:X9},_le=[vf("type",["group"]),zv("buttons",[],hd("type",J9))],aN=hd("type",{...J9,group:_le}),Tle=Os([zv("buttons",[],aN),Uh("onShow"),Uh("onHide")]),Ale=s=>Na("view",Tle,s),lN=(s,l,h)=>{const g=Ai(s.element,"."+h);if(g.length>0){const E=cn(g,O=>{const I=O.dom.getBoundingClientRect().top,q=g[0].dom.getBoundingClientRect().top;return Math.abs(I-q)>l}).getOr(g.length);return ee.some({numColumns:E,numRows:Math.ceil(g.length/E)})}else return ee.none()},NH=(s,l)=>ho([Gs(s,l)]),cx={namedEvents:NH,unnamedEvents:s=>NH(wo("unnamed-events"),s)},by={item:s=>as.config({disabled:s,disableClass:"tox-collection__item--state-disabled"}),button:s=>as.config({disabled:s}),splitButton:s=>as.config({disabled:s,disableClass:"tox-tbtn--disabled"}),toolbarButton:s=>as.config({disabled:s,disableClass:"tox-tbtn--disabled",useNative:!1})},PR=(s,l)=>{const h=s.getApi(l);return g=>{g(h)}},Ob=(s,l)=>Ta(h=>{Z(s.onBeforeSetup)&&s.onBeforeSetup(h),PR(s,h)(E=>{const O=s.onSetup(E);Z(O)&&l.set(O)})}),m_=(s,l)=>ev(h=>PR(s,h)(l.get())),cN=(s,l,h)=>ev(g=>(h.set(Ao.getValue(g)),PR(s,g)(l.get()))),Ib="silver.uistate",g_="setDisabled",eG="setEnabled",NR="init",Ole=["switchmode",NR],LR=(s,l)=>{const h=s.mainUi.outerContainer,g=[s.mainUi.mothership,...s.uiMotherships];l===g_&&un(g,E=>{E.broadcastOn([Cb()],{target:h.element})}),un(g,E=>{E.broadcastOn([Ib],l)})},nG=(s,l)=>{s.on("init SwitchMode",h=>{LR(l,h.type)}),s.on("DisabledStateChange",h=>{if(!h.isDefaultPrevented()){const g=h.state?g_:NR;LR(l,g),h.state||s.nodeChanged()}}),s.on("NodeChange",h=>{const g=s.ui.isEnabled()?h.type:g_;LR(l,g)}),uW(s)&&s.mode.set("readonly")},Ec=s=>um.config({channels:{[Ib]:{onReceive:(l,h)=>{if(h===g_||h===eG){as.set(l,h===g_);return}const{contextType:g,shouldDisable:E}=s();g==="mode"&&!tn(Ole,h)||as.set(l,E)}}}}),Ile=(s,l)=>bb((h,g)=>{PR(s,h)(s.onAction),!s.triggersSubmenu&&l===my.CLOSE_ON_EXECUTE&&(h.getSystem().isConnected()&&_r(h,v1()),g.stop())}),Rle={[lu()]:["disabling","alloy.base.behaviour","toggling","item-events"]},ux=Au,GC=(s,l,h,g)=>{const E=Wt(se);return{type:"item",dom:l.dom,components:ux(l.optComponents),data:s.data,eventOrder:Rle,hasSubmenu:s.triggersSubmenu,itemBehaviours:ho([Gs("item-events",[Ile(s,h),Ob(s,E),m_(s,E)]),by.item(()=>!s.enabled||g.checkUiComponentContext(s.context).shouldDisable),Ec(()=>g.checkUiComponentContext(s.context)),Xs.config({})].concat(s.itemBehaviours))}},v_=s=>({value:s.value,meta:{text:s.text.getOr(""),...s.meta}}),D0=(s,l)=>{const h=po.fromTag("div");Ti(h,"tox-image-selector-loading-spinner");const g=O=>{Ti(O,"tox-image-selector-loading-spinner-wrapper"),oc(O,h)},E=O=>{ui(O,"tox-image-selector-loading-spinner-wrapper"),Ld(h)};return{dom:{tag:s.tag,attributes:s.attributes??{},classes:s.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:l},classes:["tox-image-selector-image-img"]}}]},...s.checkMark.toArray()],behaviours:ho([...s.behaviours??[],Gs("render-image-events",[Ta(O=>{g(O.element),ii(O.element,"img").each(I=>{ih(I).catch(q=>{console.error(q)}).finally(()=>{E(O.element)})})})])])}},uN=(s,l)=>D0(l,s),LH=s=>{const l=XA.os.isMacOS()||XA.os.isiOS(),E=l?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},O=s.split("+"),I=Dt(O,q=>{const Y=q.toLowerCase().trim();return Zt(E,Y)?E[Y]:q});return l?I.join(""):I.join("+")},BH=(s,l,h=[e9])=>rg(s,{tag:"div",classes:h},l),FH=s=>({dom:{tag:"div",classes:[qV]},components:[va(Sd.translate(s))]}),VH=(s,l)=>({dom:{tag:"div",classes:l,innerHtml:s}}),HH=(s,l)=>({dom:{tag:"div",classes:[qV]},components:[{dom:{tag:s.tag,styles:s.styles},components:[va(Sd.translate(l))]}]}),dN=s=>({dom:{tag:"div",classes:[Mie]},components:[va(LH(s))]}),y_=s=>BH("checkmark",s,[Pie]),BR=s=>BH("chevron-right",s,[n9]),oG=s=>BH("chevron-down",s,[n9]),sG=(s,l)=>{const h=s.direction==="vertical"?o9:s9,g=s.align==="left"?Lie:Nie;return{dom:{tag:"div",classes:[KV,h,g,(()=>{switch(s.valign){case"top":return Bie;case"middle":return Fie;case"bottom":return r9}})()]},components:l}},$H=(s,l,h)=>({dom:{tag:"img",classes:l,attributes:{src:s,alt:h.getOr("")}}}),UH=(s,l,h)=>{const g="custom",E="remove",O=s.value,I=s.iconContent.map(oe=>n_(oe,l.icons,h)),q=s.ariaLabel.map(oe=>({"aria-label":l.translate(oe),"data-mce-name":oe})).getOr({});return{dom:(()=>{const oe=GV,he=I.getOr(""),ve={tag:"div",attributes:q,classes:[oe]};return O===g?{...ve,tag:"button",classes:[...ve.classes,"tox-swatches__picker-btn"],innerHtml:he}:O===E?{...ve,classes:[...ve.classes,"tox-swatch--remove"],innerHtml:he}:z(O)?{...ve,attributes:{...ve.attributes,"data-mce-color":O},styles:{"background-color":O},innerHtml:he}:ve})(),optComponents:[]}},zH=(s,l)=>{const h=s.map(g=>({attributes:{id:wo("menu-item"),"aria-label":Sd.translate(g)}})).getOr({});return{tag:"div",classes:[_R,XP].concat(l),...h}},rG=s=>({dom:{tag:"label"},components:[va(s)]}),iG=(s,l,h,g)=>{const E={tag:"div",classes:[e9]},O=Me=>rg(Me,E,l.icons,g),I=()=>ee.some({dom:E}),q=h?s.iconContent.map(O).orThunk(I):ee.none(),Y=s.checkMark,oe=ee.from(s.meta).fold(()=>FH,Me=>Zt(Me,"style")?$e(HH,Me.style):FH),he=s.htmlContent.fold(()=>s.textContent.map(oe),Me=>ee.some(VH(Me,[qV])));return{dom:zH(s.ariaLabel,[]),optComponents:[q,he,s.shortcutContent.map(dN),Y,s.caret,s.labelContent.map(rG)]}},aG=s=>({dom:zH(s.ariaLabel,[t9]),optComponents:[ee.some(uN(s.iconContent.getOrDie(),{tag:"div",classes:[Die],checkMark:s.checkMark})),s.labelContent.map(rG)]}),dx=(s,l,h,g=ee.none())=>s.presets==="color"?UH(s,l,g):s.presets==="img"?aG(s):iG(s,l,h,g),jH=(s,l,h)=>wt(s,"tooltipWorker").map(g=>[ba.config({lazySink:l.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:E=>({type:"submenu",item:E,overrides:{maxHeightFunction:A1}}),mode:"follow-highlight",onShow:(E,O)=>{g(I=>{ba.setComponents(E,[j1({element:po.fromDom(I)})])})}})]).getOrThunk(()=>h.map(g=>[ba.config({...l.providers.tooltips.getConfig({tooltipText:g}),mode:"follow-highlight"})]).getOr([])),lG=s=>mR.DOM.encode(s),cG=(s,l)=>{const h=Sd.translate(s),g=lG(h);if(l.length>0){const E=new RegExp(Vp(l),"gi");return g.replace(E,O=>`<span class="tox-autocompleter-highlight">${O}</span>`)}else return g},uG=(s,l,h,g,E,O,I,q=!0)=>{const Y=dx({presets:g,textContent:ee.none(),htmlContent:h?s.text.map(he=>cG(he,l)):ee.none(),ariaLabel:s.text,labelContent:ee.none(),iconContent:s.icon,shortcutContent:ee.none(),checkMark:ee.none(),caret:ee.none(),value:s.value},I.providers,q,s.icon),oe=s.text.filter(he=>!h&&he!=="");return GC({context:"mode:design",data:v_(s),enabled:s.enabled,getApi:V({}),onAction:he=>E(s.value,s.meta),onSetup:V(se),triggersSubmenu:!1,itemBehaviours:jH(s,I,oe)},Y,O,I.providers)},dG=(s,l)=>Dt(s,h=>{switch(h.type){case"cardcontainer":return sG(h,dG(h.items,l));case"cardimage":return $H(h.src,h.classes,h.alt);case"cardtext":const E=h.name.exists(O=>tn(l.cardText.highlightOn,O))?ee.from(l.cardText.matchText).getOr(""):"";return VH(cG(h.text,E),h.classes)}}),hG=(s,l,h,g)=>{const E=I=>({isEnabled:()=>!as.isDisabled(I),setEnabled:q=>{as.set(I,!q),un(Ai(I.element,"*"),Y=>{I.getSystem().getByDom(Y).each(oe=>{oe.hasConfigured(as)&&as.set(oe,!q)})})}}),O={dom:zH(s.label,[]),optComponents:[ee.some({dom:{tag:"div",classes:[KV,s9]},components:dG(s.items,g)})]};return GC({context:"mode:design",data:v_({text:ee.none(),...s}),enabled:s.enabled,getApi:E,onAction:s.onAction,onSetup:s.onSetup,triggersSubmenu:!1,itemBehaviours:ee.from(g.itemBehaviours).getOr([])},O,l,h.providers)},qC=(s,l,h,g,E,O,I,q=!0)=>{const Y=ve=>({setActive:Me=>{Nr.set(ve,Me)},isActive:()=>Nr.isOn(ve),isEnabled:()=>!as.isDisabled(ve),setEnabled:Me=>as.set(ve,!Me)}),oe=dx({presets:h,textContent:l?s.text:ee.none(),htmlContent:ee.none(),labelContent:s.label,ariaLabel:s.text,iconContent:s.icon,shortcutContent:l?s.shortcut:ee.none(),checkMark:l?ee.some(y_(I.icons)):ee.none(),caret:ee.none(),value:s.value},I,q),he=s.text.filter(V(!l)).map(ve=>ba.config(I.tooltips.getConfig({tooltipText:I.translate(ve)})));return Xr(GC({context:s.context,data:v_(s),enabled:s.enabled,getApi:Y,onAction:ve=>g(s.value),onSetup:ve=>(ve.setActive(E),se),triggersSubmenu:!1,itemBehaviours:[...he.toArray()]},oe,O,I),{toggling:{toggleClass:JP,toggleOnExecute:!1,selected:s.active,exclusive:!0}})},fG=s=>({value:gG(s)}),WH=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,pG=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,mG=s=>WH.test(s)||pG.test(s),gG=s=>oh(s,"#").toUpperCase(),kle=s=>mG(s)?ee.some({value:gG(s)}):ee.none(),vG=s=>({value:s.value.replace(WH,(h,g,E,O)=>g+g+E+E+O+O)}),Dle=s=>{const l=vG(s),h=pG.exec(l.value);return h===null?["FFFFFF","FF","FF","FF"]:h},hN=s=>{const l=s.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},b_=s=>{const l=hN(s.red)+hN(s.green)+hN(s.blue);return fG(l)},ag=(s,l,h)=>({hue:s,saturation:l,value:h}),FR=s=>{let l=0,h=0,g=0;const E=s.red/255,O=s.green/255,I=s.blue/255,q=Math.min(E,Math.min(O,I)),Y=Math.max(E,Math.max(O,I));if(q===Y)return g=q,ag(0,0,g*100);const oe=E===q?O-I:I===q?E-O:I-E;return l=E===q?3:I===q?1:5,l=60*(l-oe/(Y-q)),h=(Y-q)/Y,g=Y,ag(Math.round(l),Math.round(h*100),Math.round(g*100))},GH=Math.min,qH=Math.max,VR=Math.round,yG=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,KH=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,KC=(s,l,h,g)=>({red:s,green:l,blue:h,alpha:g}),hx=s=>{const l=parseInt(s,10);return l.toString()===s&&l>=0&&l<=255},ZH=s=>{let l,h,g;const E=(s.hue||0)%360;let O=s.saturation/100,I=s.value/100;if(O=qH(0,GH(O,1)),I=qH(0,GH(I,1)),O===0)return l=h=g=VR(255*I),KC(l,h,g,1);const q=E/60,Y=I*O,oe=Y*(1-Math.abs(q%2-1)),he=I-Y;switch(Math.floor(q)){case 0:l=Y,h=oe,g=0;break;case 1:l=oe,h=Y,g=0;break;case 2:l=0,h=Y,g=oe;break;case 3:l=0,h=oe,g=Y;break;case 4:l=oe,h=0,g=Y;break;case 5:l=Y,h=0,g=oe;break;default:l=h=g=0}return l=VR(255*(l+he)),h=VR(255*(h+he)),g=VR(255*(g+he)),KC(l,h,g,1)},fx=s=>{const l=Dle(s),h=parseInt(l[1],16),g=parseInt(l[2],16),E=parseInt(l[3],16);return KC(h,g,E,1)},bG=(s,l,h,g)=>{const E=parseInt(s,10),O=parseInt(l,10),I=parseInt(h,10),q=parseFloat(g);return KC(E,O,I,q)},YH=s=>{const l=yG.exec(s);if(l!==null)return ee.some(bG(l[1],l[2],l[3],"1"));const h=KH.exec(s);return h!==null?ee.some(bG(h[1],h[2],h[3],h[4])):ee.none()},SG=s=>`rgba(${s.red},${s.green},${s.blue},${s.alpha})`,CG=KC(255,0,0,1),Mle=s=>FR(fx(s)),XH=s=>b_(ZH(s)),EG=s=>kle(s).orThunk(()=>YH(s).map(b_)).getOrThunk(()=>{const l=document.createElement("canvas");l.height=1,l.width=1;const h=l.getContext("2d");h.clearRect(0,0,l.width,l.height),h.fillStyle="#FFFFFF",h.fillStyle=s,h.fillRect(0,0,1,1);const g=h.getImageData(0,0,1,1).data,E=g[0],O=g[1],I=g[2],q=g[3];return b_(KC(E,O,I,q))}),Ple=s=>{s.dispatch("SkinLoaded")},Nle=(s,l)=>{s.dispatch("SkinLoadError",l)},Lle=s=>{s.dispatch("ResizeEditor")},px=(s,l)=>{s.dispatch("ResizeContent",l)},Ble=(s,l)=>{s.dispatch("ScrollContent",l)},wG=(s,l)=>{s.dispatch("TextColorChange",l)},_G=(s,l)=>{s.dispatch("AfterProgressState",{state:l})},TG=(s,l)=>s.dispatch("ResolveName",{name:l.nodeName.toLowerCase(),target:l}),Fle=(s,l)=>{s.dispatch("ToggleToolbarDrawer",{state:l})},Vle=(s,l)=>{s.dispatch("StylesTextUpdate",l)},JH=(s,l)=>{s.dispatch("AlignTextUpdate",l)},Hle=(s,l)=>{s.dispatch("FontSizeTextUpdate",l)},AG=(s,l)=>{s.dispatch("FontSizeInputTextUpdate",l)},$le=(s,l)=>{s.dispatch("BlocksTextUpdate",l)},Ule=(s,l)=>{s.dispatch("FontFamilyTextUpdate",l)},zle=s=>{s.dispatch("ToggleSidebar")},xG=s=>{s.dispatch("ToggleView")},fN=s=>{s.dispatch("ContextToolbarClose")},jle=s=>{s.dispatch("ContextFormSlideBack")},pN=(s,l)=>()=>{s(),l()},qh=(s,l=St)=>ZC(s,"NodeChange",h=>{h.setEnabled(s.selection.isEditable()&&l())}),Wle=(s,l)=>h=>{const g=na(),E=()=>{h.setActive(s.formatter.match(l));const O=s.formatter.formatChanged(l,h.setActive);g.set(O)};return s.initialized?E():s.once("init",E),()=>{s.off("init",E),g.clear()}},HR=(s,l)=>h=>{const g=qh(s)(h),E=Wle(s,l)(h);return()=>{g(),E()}},ZC=(s,l,h)=>g=>{const E=()=>h(g),O=()=>{h(g),s.on(l,E)};return s.initialized?O():s.once("init",O),()=>{s.off("init",O),s.off(l,E)}},QH=s=>l=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("mceToggleFormat",!1,l.format)})},pm=(s,l)=>()=>s.execCommand(l);var S_=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const OG={},Gle=(s,l=10)=>{const h=S_.getItem(s),g=v(h)?JSON.parse(h):[],O=(oe=>l-oe.length<0?oe.slice(0,l):oe)(g),I=oe=>{Xe(O,oe).each(q),O.unshift(oe),O.length>l&&O.pop(),S_.setItem(s,JSON.stringify(O))},q=oe=>{O.splice(oe,1)};return{add:I,state:()=>O.slice(0)}},IG=s=>wt(OG,s).getOrThunk(()=>{const l=`tinymce-custom-colors-${s}`,h=S_.getItem(l);if(U(h)){const E=S_.getItem("tinymce-custom-colors");S_.setItem(l,z(E)?E:"[]")}const g=Gle(l,10);return OG[s]=g,g}),qle=s=>Dt(IG(s).state(),l=>({type:"choiceitem",text:l,icon:"checkmark",value:l})),RG=(s,l)=>{IG(s).add(l)},e$="forecolor",t$="hilitecolor",n$=5,Kle=s=>kG(s.map((l,h)=>h%2===0?"#"+EG(l).value:l)),kG=s=>{const l=[];for(let h=0;h<s.length;h+=2)l.push({text:s[h+1],value:s[h],icon:"checkmark",type:"choiceitem"});return l},Rb=s=>l=>l.options.get(s),C_="#000000",o$=s=>{const l=s.options.register,h=O=>ce(O,v)?{value:Kle(O),valid:!0}:{valid:!1,message:"Must be an array of strings."},g=O=>ce(O,v)?{value:kG(O),valid:!0}:{valid:!1,message:"Must be an array of strings."},E=O=>te(O)&&O>0?{value:O,valid:!0}:{valid:!1,message:"Must be a positive number."};l("color_map",{processor:h,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),l("color_map_raw",{processor:g}),l("color_map_background",{processor:h}),l("color_map_foreground",{processor:h}),l("color_cols",{processor:E,default:s$(s)}),l("color_cols_foreground",{processor:E,default:gN(s,e$)}),l("color_cols_background",{processor:E,default:gN(s,t$)}),l("custom_colors",{processor:"boolean",default:!0}),l("color_default_foreground",{processor:"string",default:C_}),l("color_default_background",{processor:"string",default:C_})},mN=(s,l)=>l===e$&&s.options.isSet("color_map_foreground")?Rb("color_map_foreground")(s):l===t$&&s.options.isSet("color_map_background")?Rb("color_map_background")(s):s.options.isSet("color_map_raw")?Rb("color_map_raw")(s):Rb("color_map")(s),s$=(s,l="default")=>Math.max(n$,Math.ceil(Math.sqrt(mN(s,l).length))),gN=(s,l)=>{const h=Rb("color_cols")(s),g=s$(s,l);return h===s$(s)?g:h},DG=(s,l="default")=>Math.round(l===e$?Rb("color_cols_foreground")(s):l===t$?Rb("color_cols_background")(s):Rb("color_cols")(s)),vN=Rb("custom_colors"),MG=Rb("color_default_foreground"),Zle=Rb("color_default_background"),Yle="rgba(0, 0, 0, 0)",PG=s=>YH(s).exists(l=>l.alpha!==0),Xle=s=>Lu(s,l=>{if(xc(l)){const h=aa(l,"background-color");return al(PG(h),h)}else return ee.none()}).getOr(Yle),r$=(s,l)=>{const h=po.fromDom(s.selection.getStart()),g=l==="hilitecolor"?Xle(h):aa(h,"color");return YH(g).map(E=>"#"+b_(E).value)},Jle=(s,l,h)=>{s.undoManager.transact(()=>{s.focus(),s.formatter.apply(l,{value:h}),s.nodeChanged()})},NG=(s,l)=>{s.undoManager.transact(()=>{s.focus(),s.formatter.remove(l,{value:null},void 0,!0),s.nodeChanged()})},LG=s=>{s.addCommand("mceApplyTextcolor",(l,h)=>{Jle(s,l,h)}),s.addCommand("mceRemoveTextcolor",l=>{NG(s,l)})},BG=s=>{const l="choiceitem",h={type:l,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return s?[h,{type:l,text:"Custom color",icon:"color-picker",value:"custom"}]:[h]},yN=(s,l,h,g)=>{h==="custom"?HG(s)(O=>{O.each(I=>{RG(l,I),s.execCommand("mceApplyTextcolor",l,I),g(I)})},r$(s,l).getOr(C_)):h==="remove"?(g(""),s.execCommand("mceRemoveTextcolor",l)):(g(h),s.execCommand("mceApplyTextcolor",l,h))},bN=(s,l,h)=>s.concat(qle(l).concat(BG(h))),FG=(s,l,h)=>g=>{g(bN(s,l,h))},$R=(s,l,h)=>{const g=l==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";s.setIconFill(g,h)},i$=(s,l)=>{s.setTooltip(l)},SN=(s,l)=>h=>{const g=r$(s,l);return Pc(g,h.toUpperCase())},a$=(s,l,h)=>{if(Ml(h))return l==="forecolor"?"Text color":"Background color";const g=l==="forecolor"?"Text color {0}":"Background color {0}",E=bN(mN(s,l),l,!1),O=xt(E,I=>I.value===h).getOr({text:""}).text;return s.translate([g,s.translate(O)])},VG=(s,l,h,g)=>{s.ui.registry.addSplitButton(l,{tooltip:a$(s,h,g.get()),chevronTooltip:l==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:l==="forecolor"?"text-color":"highlight-bg-color",select:SN(s,h),columns:DG(s,h),fetch:FG(mN(s,h),h,vN(s)),onAction:E=>{yN(s,h,g.get(),se)},onItemAction:(E,O)=>{yN(s,h,O,I=>{g.set(I),wG(s,{name:l,color:I})})},onSetup:E=>{$R(E,l,g.get());const O=I=>{I.name===l&&($R(E,I.name,I.color),i$(E,a$(s,h,I.color)))};return s.on("TextColorChange",O),pN(qh(s)(E),()=>{s.off("TextColorChange",O)})}})},l$=(s,l,h,g,E)=>{s.ui.registry.addNestedMenuItem(l,{text:g,icon:l==="forecolor"?"text-color":"highlight-bg-color",onSetup:O=>(i$(O,a$(s,h,E.get())),$R(O,l,E.get()),qh(s)(O)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:SN(s,h),initData:{storageKey:h},onAction:O=>{yN(s,h,O.value,I=>{E.set(I),wG(s,{name:l,color:I})})}}]})},HG=s=>(l,h)=>{let g=!1;const E=q=>{const oe=q.getData().colorpicker;g?(l(ee.from(oe)),q.close()):s.windowManager.alert(s.translate(["Invalid hex color code: {0}",oe]))},O=(q,Y)=>{Y.name==="hex-valid"&&(g=Y.value)},I={colorpicker:h};s.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:I,onAction:O,onSubmit:E,onClose:se,onCancel:()=>{l(ee.none())}})},$G=s=>{LG(s);const l=MG(s),h=Zle(s),g=Wt(l),E=Wt(h);VG(s,"forecolor","forecolor",g),VG(s,"backcolor","hilitecolor",E),l$(s,"forecolor","forecolor","Text color",g),l$(s,"backcolor","hilitecolor","Background color",E)},Qle=(s,l,h,g,E)=>{const O=Y=>({setActive:oe=>{Nr.set(Y,oe)},isActive:()=>Nr.isOn(Y),isEnabled:()=>!as.isDisabled(Y),setEnabled:oe=>as.set(Y,!oe)}),I=dx({presets:"img",textContent:ee.none(),htmlContent:ee.none(),ariaLabel:s.tooltip,iconContent:ee.some(s.url),labelContent:s.label,shortcutContent:ee.none(),checkMark:ee.some(y_(E.icons)),caret:ee.none(),value:s.value},E,!0),q=s.tooltip.map(Y=>ba.config(E.tooltips.getConfig({tooltipText:E.translate(Y)})));return Xr(GC({context:s.context,data:v_(s),enabled:s.enabled,getApi:O,onAction:Y=>{l(s.value),Y.setActive(!0)},onSetup:Y=>(Y.setActive(h),se),triggersSubmenu:!1,itemBehaviours:[...q.toArray()]},I,g,E),{toggling:{toggleClass:JP,toggleOnExecute:!1,selected:s.active,exclusive:!0}})},CN=(s,l,h,g,E,O,I,q)=>{const Y=OR(l),he=c$(l,h,g,E!=="color"?"normal":"color",O,I,q);return nS(s,Y,he,g,{menuType:E})},c$=(s,l,h,g,E,O,I)=>Au(Dt(s,q=>q.type==="choiceitem"?ule(q).fold(ig,Y=>ee.some(qC(Y,h===1,g,l,O(Y.value),E,I,OR(s)))):q.type==="imageitem"?gle(q).fold(ig,Y=>ee.some(Qle(Y,l,O(Y.value),E,I))):q.type==="resetimage"?vle(q).fold(ig,Y=>ee.some(qC({...Y,text:Y.tooltip,icon:ee.some(Y.icon),label:ee.some(Y.label)},h===1,g,l,O(Y.value),E,I,OR(s)))):ee.none())),UR=(s,l)=>{const h=UC(l);return s===1?{mode:"menu",moveOnTab:!0}:s==="auto"?{mode:"grid",selector:"."+h.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[l],previousSelector:E=>l==="color"?ii(E.element,"[aria-checked=true]"):ee.none()}},ece=(s,l)=>s===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:s==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:l==="color"?".tox-swatches__row":".tox-collection__group",cell:l==="color"?`.${GV}`:`.${XP}`}},tce=(s,l)=>{const h=u$(s,l),g=l.colorinput.getColorCols(s.initData.storageKey),E="color",I={...CN(wo("menu-value"),h,q=>{s.onAction({value:q})},g,E,my.CLOSE_ON_EXECUTE,s.select.getOr(ct),l.shared.providers),markers:UC(E),movement:UR(g,E),showMenuRole:!1};return{type:"widget",data:{value:wo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[zF.widget(Q1.sketch(I))]}},u$=(s,l)=>{const h=s.initData.allowCustomColors&&l.colorinput.hasCustomColors();return s.initData.colors.fold(()=>bN(l.colorinput.getColors(s.initData.storageKey),s.initData.storageKey,h),g=>g.concat(BG(h)))},nce=(s,l)=>{const h="imageselector",g=s.initData.columns,O={...CN(wo("menu-value"),s.initData.items,I=>{s.onAction({value:I})},g,h,my.CLOSE_ON_EXECUTE,s.select.getOr(ct),l.shared.providers),markers:UC(h),movement:UR(g,h),showMenuRole:!1};return{type:"widget",data:{value:wo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[zF.widget(Q1.sketch(O))]}},d$=wo("cell-over"),UG=wo("cell-execute"),zG=s=>(l,h)=>s.shared.providers.translate(["{0} columns, {1} rows",h,l]),oce=(s,l,h)=>{const g=I=>bs(I,d$,{row:s,col:l}),E=I=>bs(I,UG,{row:s,col:l}),O=(I,q)=>{q.stop(),E(I)};return k({dom:{tag:"div",attributes:{role:"button","aria-label":h}},behaviours:ho([Gs("insert-table-picker-cell",[En(yf(),qs.focus),En(lu(),E),En(jm(),O),En(em(),O)]),Nr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),qs.config({onFocus:g})])})},sce=(s,l,h)=>{const g=[];for(let E=0;E<l;E++){const O=[];for(let I=0;I<h;I++){const q=s(E+1,I+1);O.push(oce(E,I,q))}g.push(O)}return g},rce=(s,l,h,g,E)=>{for(let O=0;O<g;O++)for(let I=0;I<E;I++)Nr.set(s[O][I],O<=l&&I<=h)},ice=s=>qe(s,l=>Dt(l,W)),jG=(s,l)=>va(`${l}x${s}`),lce={inserttable:(s,l)=>{const E=zG(l),O=sce(E,10,10),I=jG(0,0),q=pi({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[I],behaviours:ho([Xs.config({})])});return{type:"widget",data:{value:wo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[zF.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:ice(O).concat(q.asSpec()),behaviours:ho([Gs("insert-table-picker",[Ta(Y=>{Xs.set(q.get(Y),[I])}),O1(d$,(Y,oe,he)=>{const{row:ve,col:Me}=he.event;rce(O,ve,Me,10,10),Xs.set(q.get(Y),[jG(ve+1,Me+1)])}),O1(UG,(Y,oe,he)=>{const{row:ve,col:Me}=he.event;_r(Y,v1()),s.onAction({numRows:ve+1,numColumns:Me+1})})]),ls.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:tce,imageselect:nce},cce=(s,l)=>wt(lce,s.fancytype).map(h=>h(s,l)),WG=(s,l,h,g=!0,E=!1)=>{const O=E?oG(h.icons):BR(h.icons),I=Y=>({isEnabled:()=>!as.isDisabled(Y),setEnabled:oe=>as.set(Y,!oe),setIconFill:(oe,he)=>{ii(Y.element,`svg path[class="${oe}"], rect[class="${oe}"]`).each(ve=>{gs(ve,"fill",he)})},setTooltip:oe=>{const he=h.translate(oe);gs(Y.element,"aria-label",he)}}),q=dx({presets:"normal",iconContent:s.icon,textContent:s.text,htmlContent:ee.none(),ariaLabel:s.text,labelContent:ee.none(),caret:ee.some(O),checkMark:ee.none(),shortcutContent:s.shortcut},h,g);return GC({context:s.context,data:v_(s),getApi:I,enabled:s.enabled,onAction:se,onSetup:s.onSetup,triggersSubmenu:!0,itemBehaviours:[]},q,l,h)},uce=(s,l,h,g=!0)=>{const E=I=>({isEnabled:()=>!as.isDisabled(I),setEnabled:q=>as.set(I,!q)}),O=dx({presets:"normal",iconContent:s.icon,textContent:s.text,htmlContent:ee.none(),labelContent:ee.none(),ariaLabel:s.text,caret:ee.none(),checkMark:ee.none(),shortcutContent:s.shortcut},h,g);return GC({context:s.context,data:v_(s),getApi:E,enabled:s.enabled,onAction:s.onAction,onSetup:s.onSetup,triggersSubmenu:!1,itemBehaviours:[]},O,l,h)},dce=s=>({type:"separator",dom:{tag:"div",classes:[XP,kie]},components:s.text.map(va).toArray()}),hce=(s,l,h,g=!0)=>{const E=I=>({setActive:q=>{Nr.set(I,q)},isActive:()=>Nr.isOn(I),isEnabled:()=>!as.isDisabled(I),setEnabled:q=>as.set(I,!q)}),O=dx({iconContent:s.icon,textContent:s.text,htmlContent:ee.none(),labelContent:ee.none(),ariaLabel:s.text,checkMark:ee.some(y_(h.icons)),caret:ee.none(),shortcutContent:s.shortcut,presets:"normal",meta:s.meta},h,g);return Xr(GC({context:s.context,data:v_(s),enabled:s.enabled,getApi:E,onAction:s.onAction,onSetup:s.onSetup,triggersSubmenu:!1,itemBehaviours:[]},O,l,h),{toggling:{toggleClass:JP,toggleOnExecute:!1,selected:s.active},role:s.role.getOrUndefined()})},GG=uG,qG=dce,fce=uce,pce=WG,KG=hce,ZG=cce,YG=hG,EN=s=>{switch(s.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:s}}},XG=s=>{const l=Ao.getValue(s),h=eN(s).map(XV);kf.refetch(l).get(()=>{const g=Ks.getCoupled(l,"sandbox");h.each(E=>eN(g).each(O=>c9(O,E)))})},mce=(s,l)=>{gce(s).each(h=>{D4(s,h.element,l.event.eventType,l.event.interactionEvent)})},gce=s=>ti.getState(s).bind(li.getHighlighted).bind(li.getHighlighted),JG=s=>Xa(s.element,TR)?ee.some(s.element):ii(s.element,"."+TR),QG=(s,l,h)=>{l9(s).each(g=>{Hie(g,h),JG(l).each(O=>{lr(O,"id").each(I=>gs(g.element,"aria-controls",I))})}),gs(h.element,"aria-selected","true")},vce=(s,l,h)=>{gs(h.element,"aria-selected","false")},yce=s=>{l9(s).each(l=>qs.focus(l))},bce=s=>Ks.getExistingCoupled(s,"sandbox").bind(eN).map(XV).map(h=>h.fetchPattern).getOr("");var zR;(function(s){s[s.ContentFocus=0]="ContentFocus",s[s.UiFocus=1]="UiFocus"})(zR||(zR={}));const Sce=(s,l,h,g,E)=>{const O=h.shared.providers,I=q=>E?{...q,shortcut:ee.none(),icon:q.text.isSome()?ee.none():q.icon}:q;switch(s.type){case"menuitem":return ble(s).fold(ig,q=>ee.some(fce(I(q),l,O,g)));case"nestedmenuitem":return Sle(s).fold(ig,q=>ee.some(pce(I(q),l,O,g,E)));case"togglemenuitem":return Ele(s).fold(ig,q=>ee.some(KG(I(q),l,O,g)));case"separator":return Kae(s).fold(ig,q=>ee.some(qG(q)));case"fancymenuitem":return fle(s).fold(ig,q=>ZG(q,h));default:return console.error("Unknown item in general menu",s),ee.none()}},Cce=(s,l,h,g,E,O,I)=>{const q=g===1,Y=!q||OR(s);return Au(Dt(s,oe=>{switch(oe.type){case"separator":return Yae(oe).fold(ig,he=>ee.some(qG(he)));case"cardmenuitem":return IH(oe).fold(ig,he=>ee.some(YG({...he,onAction:ve=>{he.onAction(ve),h(he.value,he.meta)}},E,O,{itemBehaviours:jH(he.meta,O,ee.none()),cardText:{matchText:l,highlightOn:I}})));case"autocompleteitem":default:return Xae(oe).fold(ig,he=>ee.some(GG(he,l,q,"normal",h,E,O,Y)))}}))},eq=(s,l,h,g,E,O)=>{const I=OR(l),q=Au(Dt(l,he=>{const ve=Ge=>E?!Zt(Ge,"text"):I,Me=Ge=>Sce(Ge,h,g,ve(Ge),E);return he.type==="nestedmenuitem"&&he.getSubmenuItems().length<=0?Me({...he,enabled:!1}):Me(he)})),Y=EN(O);return(E?Wie:nS)(s,I,q,1,Y)},wN=s=>MC.singleData(s.value,s),tq=(s,l,h,g)=>{const E=UR(l,g),O=UC(g);return{data:wN({...s,movement:E,menuBehaviours:cx.unnamedEvents(l!=="auto"?[]:[Ta((I,q)=>{lN(I,4,O.item).each(({numColumns:Y,numRows:oe})=>{ls.setGridSize(I,oe,Y)})})])}),menu:{markers:UC(g),fakeFocus:h===zR.ContentFocus}}},Ece=s=>J.create(po.fromDom(s.startContainer),s.startOffset,po.fromDom(s.endContainer),s.endOffset),nq={register:(s,l)=>{const h=wo("autocompleter"),g=Wt(!1),E=Wt(!1),O=As(),I=k(ol.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:h}},components:[],fireDismissalEventInstead:{},inlineBehaviours:ho([Gs("dismissAutocompleter",[En(Kg(),()=>ve()),En(Zv(),(ot,_t)=>{lr(_t.event.target,"id").each(Lt=>gs(po.fromDom(s.getBody()),"aria-activedescendant",Lt))})])]),lazySink:l.getSink})),q=()=>ol.isOpen(I),Y=E.get,oe=()=>{if(q()){ol.hide(I),s.dom.remove(h,!1);const ot=po.fromDom(s.getBody());lr(ot,"aria-owns").filter(_t=>_t===h).each(()=>{ia(ot,"aria-owns"),ia(ot,"aria-activedescendant")})}},he=()=>ol.getContent(I).bind(ot=>Tt(ot.components(),0)),ve=()=>s.execCommand("mceAutocompleterClose"),Me=ot=>{const _t=ro(ot,Lt=>ee.from(Lt.columns)).getOr(1);return qe(ot,Lt=>{const an=Lt.items;return Cce(an,Lt.matchText,(hn,vo)=>{const Vn={hide:()=>ve(),reload:Qn=>{oe(),s.execCommand("mceAutocompleterReload",!1,{fetchOptions:Qn})}};s.execCommand("mceAutocompleterRefreshActiveRange"),O.get().each(Qn=>{g.set(!0),Lt.onAction(Vn,Qn,hn,vo),g.set(!1)})},_t,my.BUBBLE_TO_SANDBOX,l,Lt.highlightOn)})},Ge=(ot,_t)=>{const Lt=ro(ot,an=>ee.from(an.columns)).getOr(1);ol.showMenuAt(I,{anchor:{type:"selection",getSelection:()=>O.get().map(Ece),root:po.fromDom(s.getBody())}},tq(nS("autocompleter-value",!0,_t,Lt,{menuType:"normal"}),Lt,zR.ContentFocus,"normal")),he().each(li.highlightFirst)},Ze=ot=>{const _t=Me(ot);_t.length>0?(Ge(ot,_t),gs(po.fromDom(s.getBody()),"aria-owns",h),s.inline||at()):oe()},at=()=>{s.dom.get(h)&&s.dom.remove(h,!1);const ot=s.getDoc().documentElement,_t=s.selection.getNode(),Lt=Jb(I.element);ha(Lt,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${_t.offsetTop}px`,left:`${_t.offsetLeft}px`}),s.dom.add(ot,Lt.dom),ii(Lt,'[role="menu"]').each(an=>{wr(an,"position"),wr(an,"max-height")})};s.on("AutocompleterStart",({lookupData:ot})=>{E.set(!0),g.set(!1),Ze(ot)}),s.on("AutocompleterUpdate",({lookupData:ot})=>Ze(ot)),s.on("AutocompleterUpdateActiveRange",({range:ot})=>O.set(ot)),s.on("AutocompleterEnd",()=>{oe(),E.set(!1),g.set(!1),O.clear()});const yt={cancelIfNecessary:ve,isMenuOpen:q,isActive:Y,isProcessingAction:g.get,getMenu:he};Iie.setup(yt,s)}},wce=(s,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Dt(s.items,l.interpreter)});var _ce=tinymce.util.Tools.resolve("tinymce.html.Entities");const Vs=(s,l,h,g)=>{const E=oq(s,l,h,g);return Ir.sketch(E)},jR=(s,l)=>Vs(s,l,[],[]),oq=(s,l,h,g)=>({dom:h$(h),components:s.toArray().concat([l]),fieldBehaviours:ho(g)}),sq=()=>h$([]),h$=s=>({tag:"div",classes:["tox-form__group"].concat(s)}),iS=(s,l)=>Ir.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[va(l.translate(s))]}),_p=wo("form-component-change"),f$=wo("form-component-input"),WR=wo("form-close"),YC=wo("form-cancel"),M0=wo("form-action"),mx=wo("form-submit"),_N=wo("form-block"),rq=wo("form-unblock"),gx=wo("form-tabchange"),TN=wo("form-resize"),iq=(s,l,h)=>{const g=s.label.map(Ge=>iS(Ge,l)),E=l.icons(),O=Ge=>E[Ge]??Ge,I=Ge=>(Ze,at)=>{bl(at.event.target,"[data-collection-item-value]").each(yt=>{Ge(Ze,at,yt,gl(yt,"data-collection-item-value"))})},q=(Ge,Ze)=>{const yt=l.checkUiComponentContext("mode:design").shouldDisable||l.isDisabled()?" tox-collection__item--state-disabled":"",ot=Dt(Ze,an=>{const hn=Sd.translate(an.text),vo=s.columns===1?`<div class="tox-collection__item-label">${hn}</div>`:"",Vn=`<div class="tox-collection__item-icon">${O(an.icon)}</div>`,Qn={_:" "," - ":" ","-":" "},Gn=hn.replace(/\_| \- |\-/g,Es=>Qn[Es]);return`<div data-mce-tooltip="${Gn}" class="tox-collection__item${yt}" tabindex="-1" data-collection-item-value="${_ce.encodeAllRaw(an.value)}" aria-label="${Gn}">${Vn}${vo}</div>`}),_t=s.columns!=="auto"&&s.columns>1?mn(ot,s.columns):[ot],Lt=Dt(_t,an=>`<div class="tox-collection__group">${an.join("")}</div>`);Bh(Ge.element,Lt.join(""))},Y=I((Ge,Ze,at,yt)=>{Ze.stop(),l.checkUiComponentContext("mode:design").shouldDisable||l.isDisabled()||bs(Ge,M0,{name:s.name,value:yt})}),oe=[En(yf(),I((Ge,Ze,at)=>{ra(at,!0)})),En(jm(),Y),En(em(),Y),En(bf(),I((Ge,Ze,at)=>{ii(Ge.element,"."+o_).each(yt=>{ui(yt,o_)}),Ti(at,o_)})),En(g1(),I(Ge=>{ii(Ge.element,"."+o_).each(Ze=>{ui(Ze,o_),yr(Ze)})})),bb(I((Ge,Ze,at,yt)=>{bs(Ge,M0,{name:s.name,value:yt})}))],he=(Ge,Ze)=>Dt(Ai(Ge.element,".tox-collection__item"),Ze),ve=Ir.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(s.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:ke},behaviours:ho([as.config({disabled:()=>l.checkUiComponentContext(s.context).shouldDisable,onDisabled:Ge=>{he(Ge,Ze=>{Ti(Ze,"tox-collection__item--state-disabled"),gs(Ze,"aria-disabled",!0)})},onEnabled:Ge=>{he(Ge,Ze=>{ui(Ze,"tox-collection__item--state-disabled"),ia(Ze,"aria-disabled")})}}),Ec(()=>l.checkUiComponentContext(s.context)),Xs.config({}),ba.config({...l.tooltips.getConfig({tooltipText:"",onShow:Ge=>{ii(Ge.element,"."+o_+"[data-mce-tooltip]").each(Ze=>{lr(Ze,"data-mce-tooltip").each(at=>{ba.setComponents(Ge,l.tooltips.getComponents({tooltipText:at}))})})}}),mode:"children-keyboard-focus",anchor:Ge=>({type:"node",node:ii(Ge.element,"."+o_).orThunk(()=>US(".tox-collection__item")),root:Ge.element,layouts:{onLtr:V([lc,ac,za,ja,Ui,dl]),onRtl:V([lc,ac,za,ja,Ui,dl])},bubble:Kn(0,-2,{})})}),Ao.config({store:{mode:"memory",initialValue:h.getOr([])},onSetValue:(Ge,Ze)=>{q(Ge,Ze),s.columns==="auto"&&lN(Ge,5,"tox-collection__item").each(({numRows:at,numColumns:yt})=>{ls.setGridSize(Ge,at,yt)}),_r(Ge,TN)}}),ya.config({}),ls.config(ece(s.columns,"normal")),Gs("collection-events",oe)]),eventOrder:{[lu()]:["disabling","alloy.base.behaviour","collection-events"],[bf()]:["collection-events","tooltipping"]}});return Vs(g,ve,["tox-form__group--collection"],[])},Tce=(s,l)=>kf.sketch({dom:s.dom,components:s.components,toggleClass:"mce-active",dropdownBehaviours:ho([by.button(()=>l.providers.isDisabled()||l.providers.checkUiComponentContext(s.context).shouldDisable),Ec(()=>l.providers.checkUiComponentContext(s.context)),qA.config({}),ya.config({})]),layouts:s.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:l.getSink,fetch:h=>es.nu(g=>s.fetch(g)).map(g=>ee.from(wN(Xr(CN(wo("menu-value"),g,E=>{s.onItemAction(h,E)},s.columns,s.presets,my.CLOSE_ON_EXECUTE,ct,l.providers),{movement:UR(s.columns,s.presets)})))),parts:{menu:r_(!1,1,s.presets)}}),aq=wo("color-input-change"),lq=wo("color-swatch-change"),cq=wo("color-picker-cancel"),p$=(s,l,h,g)=>{const E=Ir.parts.field({factory:lv,inputClasses:["tox-textfield"],data:g,onSetValue:oe=>Rf.run(oe).get(se),inputBehaviours:ho([as.config({disabled:()=>l.providers.isDisabled()||l.providers.checkUiComponentContext(s.context).shouldDisable}),Ec(()=>l.providers.checkUiComponentContext(s.context)),ya.config({}),Rf.config({invalidClass:"tox-textbox-field-invalid",getRoot:oe=>ys(oe.element),notify:{onValid:oe=>{const he=Ao.getValue(oe);bs(oe,aq,{color:he})}},validator:{validateOnLoad:!1,validate:oe=>{const he=Ao.getValue(oe);if(he.length===0)return es.pure(zo.value(!0));{const ve=po.fromTag("span");Ds(ve,"background-color",he);const Me=fa(ve,"background-color").fold(()=>zo.error("blah"),Ge=>zo.value(he));return es.pure(Me)}}}})]),selectOnFocus:!1}),O=s.label.map(oe=>iS(oe,l.providers)),I=(oe,he)=>{bs(oe,lq,{value:he})},q=(oe,he)=>{Y.getOpt(oe).each(ve=>{he==="custom"?h.colorPicker(Me=>{Me.fold(()=>_r(ve,cq),Ge=>{I(ve,Ge),RG(s.storageKey,Ge)})},"#ffffff"):he==="remove"?I(ve,""):I(ve,he)})},Y=pi(Tce({dom:{tag:"span",attributes:{"aria-label":l.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ui,za,lc],onLtr:()=>[za,Ui,lc]},components:[],fetch:FG(h.getColors(s.storageKey),s.storageKey,h.hasCustomColors()),columns:h.getColorCols(s.storageKey),presets:"color",onItemAction:q,context:s.context},l));return Ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:O.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[E,Y.asSpec()]}]),fieldBehaviours:ho([Gs("form-field-events",[En(aq,(oe,he)=>{Y.getOpt(oe).each(ve=>{Ds(ve.element,"background-color",he.event.color)}),bs(oe,_p,{name:s.name})}),En(lq,(oe,he)=>{Ir.getField(oe).each(ve=>{Ao.setValue(ve,he.event.value),yn.getCurrent(oe).each(qs.focus)})}),En(cq,(oe,he)=>{Ir.getField(oe).each(ve=>{yn.getCurrent(oe).each(qs.focus)})})])])})},Sy={self:()=>yn.config({find:ee.some}),memento:s=>yn.config({find:s.getOpt}),childAt:s=>yn.config({find:l=>Ur(l.element,s).bind(h=>l.getSystem().getByDom(h).toOptional())})},Oce=Os([nn("preprocess",ke),nn("postprocess",ke)]),uq=(s,l)=>{const h=dd("RepresentingConfigs.memento processors",Oce,l);return Ao.config({store:{mode:"manual",getValue:g=>{const E=s.get(g),O=Ao.getValue(E);return h.postprocess(O)},setValue:(g,E)=>{const O=h.preprocess(E),I=s.get(g);Ao.setValue(I,O)}}})},E_=(s,l,h)=>Ao.config({store:{mode:"manual",...s.map(g=>({initialValue:g})).getOr({}),getValue:l,setValue:h}}),dq=(s,l,h)=>E_(s,g=>l(g.element),(g,E)=>h(g.element,E)),m$=s=>dq(s,rh,Bh),AN=s=>Ao.config({store:{mode:"memory",initialValue:s}}),vx=wo("rgb-hex-update"),hq=wo("slider-update"),g$=wo("palette-update"),Ice=(s,l)=>{const h=hy.parts.spectrum({dom:{tag:"div",classes:[l("hue-slider-spectrum")],attributes:{role:"presentation"}}}),g=hy.parts.thumb({dom:{tag:"div",classes:[l("hue-slider-thumb")],attributes:{role:"presentation"}}});return hy.sketch({dom:{tag:"div",classes:[l("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:V(0)},components:[h,g],sliderBehaviours:ho([qs.config({})]),onChange:(E,O,I)=>{gs(E.element,"aria-valuenow",Math.floor(360-I*3.6)),bs(E,hq,{value:I})}})},fq=wo("valid-input"),Rce=wo("invalid-input"),pq=wo("validating-input"),v$="colorcustom.rgb.",y$={isEnabled:St,setEnabled:se,immediatelyShow:se,immediatelyHide:se},kce=(s,l,h,g,E,O)=>{const I=(at,yt)=>{const ot=yt.get();at!==ot.isEnabled()&&(ot.setEnabled(at),at?ot.immediatelyShow():ot.immediatelyHide())},q=(at,yt,ot)=>Rf.config({invalidClass:l("invalid"),notify:{onValidate:_t=>{bs(_t,pq,{type:at})},onValid:_t=>{I(!1,ot),bs(_t,fq,{type:at,value:Ao.getValue(_t)})},onInvalid:_t=>{I(!0,ot),bs(_t,Rce,{type:at,value:Ao.getValue(_t)})}},validator:{validate:_t=>{const Lt=Ao.getValue(_t),an=yt(Lt)?zo.value(!0):zo.error(s("aria.input.invalid"));return es.pure(an)},validateOnLoad:!1}}),Y=(at,yt,ot,_t,Lt)=>{const an=Wt(y$),hn=s(v$+"range"),vo=Ir.parts.label({dom:{tag:"label"},components:[va(ot)]}),Vn=Ir.parts.field({data:Lt,factory:lv,inputAttributes:{type:"text","aria-label":_t,...yt==="hex"?{"aria-live":"polite"}:{}},inputClasses:[l("textfield")],inputBehaviours:ho([q(yt,at,an),ya.config({}),ba.config({...E({tooltipText:"",onSetup:rr=>{an.set({isEnabled:()=>ba.isEnabled(rr),setEnabled:ns=>ba.setEnabled(rr,ns),immediatelyShow:()=>ba.immediateOpenClose(rr,!0),immediatelyHide:()=>ba.immediateOpenClose(rr,!1)}),ba.setEnabled(rr,!1)},onShow:(rr,ns)=>{ba.setComponents(rr,[{dom:{tag:"p",classes:[l("rgb-warning-note")]},components:[va(s(yt==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:rr=>{Rf.isInvalid(rr)&&Rf.run(rr).get(se)}}),Qn=wo("aria-invalid"),Gn=pi(O("invalid",ee.some(Qn),"warning")),Es=pi({dom:{tag:"div",classes:[l("invalid-icon")]},components:[Gn.asSpec()]}),os=[vo,Vn,Es.asSpec()],Dr=yt!=="hex"?[Ir.parts["aria-descriptor"]({text:hn})]:[],ks=os.concat(Dr);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[l("rgb-container")]},components:ks}},oe=(at,yt)=>{const ot=b_(yt);return PC.getField(at,"hex").each(_t=>{qs.isFocused(_t)||Ao.setValue(at,{hex:ot.value})}),ot},he=(at,yt)=>{const ot=yt.red,_t=yt.green,Lt=yt.blue;Ao.setValue(at,{red:ot,green:_t,blue:Lt})},ve=pi({dom:{tag:"div",classes:[l("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),Me=(at,yt)=>{ve.getOpt(at).each(ot=>{Ds(ot.element,"background-color","#"+yt.value)})};return og({factory:()=>{const at={red:Wt(ee.some(255)),green:Wt(ee.some(255)),blue:Wt(ee.some(255)),hex:Wt(ee.some("ffffff"))},yt=(ns,Bn)=>{const mo=fx(Bn);he(ns,mo),an(mo)},ot=ns=>at[ns].get(),_t=(ns,Bn)=>{at[ns].set(Bn)},Lt=()=>ot("red").bind(ns=>ot("green").bind(Bn=>ot("blue").map(mo=>KC(ns,Bn,mo,1)))),an=ns=>{const Bn=ns.red,mo=ns.green,Ns=ns.blue;_t("red",ee.some(Bn)),_t("green",ee.some(mo)),_t("blue",ee.some(Ns))},hn=(ns,Bn)=>{const mo=Bn.event;mo.type!=="hex"?_t(mo.type,ee.none()):g(ns)},vo=(ns,Bn)=>{h(ns);const mo=fG(Bn);_t("hex",ee.some(mo.value));const Ns=fx(mo);he(ns,Ns),an(Ns),bs(ns,vx,{hex:mo}),Me(ns,mo)},Vn=(ns,Bn,mo)=>{const Ns=parseInt(mo,10);_t(Bn,ee.some(Ns)),Lt().each(ir=>{const cs=oe(ns,ir);bs(ns,vx,{hex:cs}),Me(ns,cs)})},Qn=ns=>ns.type==="hex",Gn=(ns,Bn)=>{const mo=Bn.event;Qn(mo)?vo(ns,mo.value):Vn(ns,mo.type,mo.value)},Es=ns=>({label:s(v$+ns+".label"),description:s(v$+ns+".description")}),os=Es("red"),Dr=Es("green"),ks=Es("blue"),rr=Es("hex");return Xr(PC.sketch(ns=>({dom:{tag:"form",classes:[l("rgb-form")],attributes:{"aria-label":s("aria.color.picker")}},components:[ns.field("red",Ir.sketch(Y(hx,"red",os.label,os.description,255))),ns.field("green",Ir.sketch(Y(hx,"green",Dr.label,Dr.description,255))),ns.field("blue",Ir.sketch(Y(hx,"blue",ks.label,ks.description,255))),ns.field("hex",Ir.sketch(Y(mG,"hex",rr.label,rr.description,"ffffff"))),ve.asSpec()],formBehaviours:ho([Rf.config({invalidClass:l("form-invalid")}),Gs("rgb-form-events",[En(fq,Gn),En(Rce,hn),En(pq,hn)])])})),{apis:{updateHex:(ns,Bn)=>{Ao.setValue(ns,{hex:Bn.value}),yt(ns,Bn),Me(ns,Bn)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(at,yt,ot)=>{at.updateHex(yt,ot)}},extraApis:{}})},xN=(s,l)=>{const h=hy.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[l("sv-palette-spectrum")]}}),g=hy.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[l("sv-palette-thumb")],innerHtml:`<div class=${l("sv-palette-inner-thumb")} role="presentation"></div>`}}),E=(oe,he)=>{const{width:ve,height:Me}=oe,Ge=oe.getContext("2d");if(Ge===null)return;Ge.fillStyle=he,Ge.fillRect(0,0,ve,Me);const Ze=Ge.createLinearGradient(0,0,ve,0);Ze.addColorStop(0,"rgba(255,255,255,1)"),Ze.addColorStop(1,"rgba(255,255,255,0)"),Ge.fillStyle=Ze,Ge.fillRect(0,0,ve,Me);const at=Ge.createLinearGradient(0,0,0,Me);at.addColorStop(0,"rgba(0,0,0,0)"),at.addColorStop(1,"rgba(0,0,0,1)"),Ge.fillStyle=at,Ge.fillRect(0,0,ve,Me)},O=(oe,he)=>{const ve=oe.components()[0].element.dom,Me=ag(he,100,100),Ge=ZH(Me);E(ve,SG(Ge))},I=(oe,he)=>{const ve=FR(fx(he));hy.setValue(oe,{x:ve.saturation,y:100-ve.value}),gs(oe.element,"aria-valuetext",s(["Saturation {0}%, Brightness {1}%",ve.saturation,ve.value]))};return og({factory:oe=>{const he=V({x:0,y:0}),ve=(Ze,at,yt)=>{te(yt)||gs(Ze.element,"aria-valuetext",s(["Saturation {0}%, Brightness {1}%",Math.floor(yt.x),Math.floor(100-yt.y)])),bs(Ze,g$,{value:yt})},Me=(Ze,at,yt,ot)=>{E(yt.element.dom,SG(CG))},Ge=ho([yn.config({find:ee.some}),qs.config({})]);return hy.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":s(["Saturation {0}%, Brightness {1}%",0,0])},classes:[l("sv-palette")]},model:{mode:"xy",getInitialValue:he},rounded:!1,components:[h,g],onChange:ve,onInit:Me,sliderBehaviours:Ge})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(oe,he,ve)=>{O(he,ve)},setThumb:(oe,he,ve)=>{I(he,ve)}},extraApis:{}})},mq=(s,l,h,g)=>{const E=I=>{const q=kce(s,l,I.onValidHex,I.onInvalidHex,h,g),Y=xN(s,l),oe=Qn=>(100-Qn)/100*360,he=Qn=>100-Qn/360*100,ve={paletteRgba:Wt(CG),paletteHue:Wt(0)},Me=pi(Ice(s,l)),Ge=pi(Y.sketch({})),Ze=pi(q.sketch({})),at=(Qn,Gn,Es)=>{Ge.getOpt(Qn).each(os=>{Y.setHue(os,Es)})},yt=(Qn,Gn)=>{Ze.getOpt(Qn).each(Es=>{q.updateHex(Es,Gn)})},ot=(Qn,Gn,Es)=>{Me.getOpt(Qn).each(os=>{hy.setValue(os,he(Es))})},_t=(Qn,Gn)=>{Ge.getOpt(Qn).each(Es=>{Y.setThumb(Es,Gn)})},Lt=(Qn,Gn)=>{const Es=fx(Qn);ve.paletteRgba.set(Es),ve.paletteHue.set(Gn)},an=(Qn,Gn,Es,os)=>{Lt(Gn,Es),un(os,Dr=>{Dr(Qn,Gn,Es)})},hn=()=>{const Qn=[yt];return(Gn,Es)=>{const os=Es.event.value,Dr=ve.paletteHue.get(),ks=ag(Dr,os.x,100-os.y),rr=XH(ks);an(Gn,rr,Dr,Qn)}},vo=()=>{const Qn=[at,yt];return(Gn,Es)=>{const os=oe(Es.event.value),Dr=ve.paletteRgba.get(),ks=FR(Dr),rr=ag(os,ks.saturation,ks.value),ns=XH(rr);an(Gn,ns,os,Qn)}},Vn=()=>{const Qn=[at,ot,_t];return(Gn,Es)=>{const os=Es.event.hex,Dr=Mle(os);an(Gn,os,Dr.hue,Qn)}};return{uid:I.uid,dom:I.dom,components:[Ge.asSpec(),Me.asSpec(),Ze.asSpec()],behaviours:ho([Gs("colour-picker-events",[En(vx,Vn()),En(g$,hn()),En(hq,vo())]),yn.config({find:Qn=>Ze.getOpt(Qn)}),ls.config({mode:"acyclic"})])}};return og({name:"ColourPicker",configFields:[Nn("dom"),nn("onValidHex",se),nn("onInvalidHex",se)],factory:E})},gq={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},b$=s=>l=>v(l)?s.translate(gq[l]):s.translate(l),Dce=(s,l,h)=>{const g=oe=>"tox-"+oe,E=(oe,he,ve=oe,Me=oe)=>rg(ve,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+oe],attributes:{title:l.translate(Me),"aria-live":"polite",...he.fold(()=>({}),Ge=>({id:Ge}))}},l.icons),O=mq(b$(l),g,l.tooltips.getConfig,E),I=oe=>{bs(oe,M0,{name:"hex-valid",value:!0})},q=oe=>{bs(oe,M0,{name:"hex-valid",value:!1})},Y=pi(O.sketch({dom:{tag:"div",classes:[g("color-picker-container")],attributes:{role:"presentation"}},onValidHex:I,onInvalidHex:q}));return{dom:{tag:"div"},components:[Y.asSpec()],behaviours:ho([E_(h,oe=>{const he=Y.get(oe);return yn.getCurrent(he).bind(Ge=>Ao.getValue(Ge).hex).map(Ge=>"#"+oh(Ge,"#")).getOr("")},(oe,he)=>{const ve=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,Me=ee.from(ve.exec(he)).bind(at=>Tt(at,1)),Ge=Y.get(oe);yn.getCurrent(Ge).fold(()=>{console.log("Can not find form")},at=>{Ao.setValue(at,{hex:Me.getOr("")}),PC.getField(at,"hex").each(yt=>{_r(yt,Xp())})})}),Sy.self()])}};var vq=tinymce.util.Tools.resolve("tinymce.Resource");const w_=s=>Zt(s,"init"),yq=s=>{const l=As(),h=pi({dom:{tag:s.tag}}),g=As(),E=!w_(s)&&s.onFocus.isSome()?[qs.config({onFocus:O=>{s.onFocus.each(I=>{I(O.element.dom)})}}),ya.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ho([Gs("custom-editor-events",[Ta(O=>{h.getOpt(O).each(I=>{(w_(s)?s.init(I.element.dom):vq.load(s.scriptId,s.scriptUrl).then(q=>q(I.element.dom,s.settings))).then(q=>{g.on(Y=>{q.setValue(Y)}),g.clear(),l.set(q)})})})]),E_(ee.none(),()=>l.get().fold(()=>g.get().getOr(""),O=>O.getValue()),(O,I)=>{l.get().fold(()=>g.set(I),q=>q.setValue(I))}),Sy.self()].concat(E)),components:[h.asSpec()]}};var aS=tinymce.util.Tools.resolve("tinymce.util.Tools");const S$=wo("browse.files.event"),Mce=(s,l)=>{const h=aS.explode(l.getOption("images_file_types")),g=E=>eo(h,O=>Nc(E.name.toLowerCase(),`.${O.toLowerCase()}`));return Vo(fo(s),g)},C$=(s,l,h)=>{const g=(Me,Ge)=>{Ge.stop()},E=Me=>(Ge,Ze)=>{un(Me,at=>{at(Ge,Ze)})},O=(Me,Ge)=>{if(!as.isDisabled(Me)){const Ze=Ge.event.raw;bs(Me,S$,{files:Ze.dataTransfer?.files})}},I=(Me,Ge)=>{const Ze=Ge.event.raw.target;bs(Me,S$,{files:Ze.files})},q=(Me,Ge)=>{Ge&&(Ao.setValue(Me,Mce(Ge,l)),bs(Me,_p,{name:s.name}))},Y=pi({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ho([Gs("input-file-events",[I1(jm()),I1(em())])])}),oe=s.label.map(Me=>iS(Me,l)),he=Ir.parts.field({factory:yd,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[va(l.translate("Browse for an image")),Y.asSpec()],action:Me=>{Y.get(Me).element.dom.click()},buttonBehaviours:ho([Sy.self(),AN(h.getOr([])),ya.config({}),by.button(()=>l.checkUiComponentContext(s.context).shouldDisable),Ec(()=>l.checkUiComponentContext(s.context))])}),ve={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ho([as.config({disabled:()=>l.checkUiComponentContext(s.context).shouldDisable}),Ec(()=>l.checkUiComponentContext(s.context)),Nr.config({toggleClass:"dragenter",toggleOnExecute:!1}),Gs("dropzone-events",[En("dragenter",E([g,Nr.toggle])),En("dragleave",E([g,Nr.toggle])),En("dragover",g),En("drop",E([g,O])),En(Jp(),I)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[va(l.translate("Drop an image here"))]},he]}]};return Vs(oe,ve,["tox-form__group--stretched"],[Gs("handle-files",[En(S$,(Me,Ge)=>{Ir.getField(Me).each(Ze=>{q(Ze,Ge.event.files)})})])])},Pce=(s,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${s.columns}col`]},components:Dt(s.items,l.interpreter)}),E$=wo("alloy-fake-before-tabstop"),ON=wo("alloy-fake-after-tabstop"),bq=s=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:s},behaviours:ho([qs.config({ignore:!0}),ya.config({})])}),Sq=(s,l)=>({dom:{tag:"div",classes:["tox-navobj",...s.getOr([])]},components:[bq([E$]),l,bq([ON])],behaviours:ho([Sy.childAt(1)])}),Cq=(s,l)=>{bs(s,ic(),{raw:{which:9,shiftKey:l}})},Eq=(s,l)=>{const h=l.element;Xa(h,E$)?Cq(s,!0):Xa(h,ON)&&Cq(s,!1)},GR=s=>Xy(s,["."+E$,"."+ON].join(","),ct),IN=wo("update-dialog"),wq=wo("update-title"),_q=wo("update-body"),Tq=wo("update-footer"),Aq=wo("body-send-message"),RN=wo("dialog-focus-shifted"),w$=Gi().browser,qR=w$.isSafari(),Nce=w$.isFirefox(),xq=qR||Nce,Oq=w$.isChromium(),Lce=({scrollTop:s,scrollHeight:l,clientHeight:h})=>Math.ceil(s)+h>=l,Iq=(s,l)=>s.scrollTo(0,l==="bottom"?99999999:l),Bce=(s,l)=>{const h=s.body;return ee.from(!/^<!DOCTYPE (html|HTML)/.test(l)&&(!Oq&&!qR||z(h)&&(h.scrollTop!==0||Math.abs(h.scrollHeight-h.clientHeight)>1))?h:s.documentElement)},Rq=(s,l,h)=>{const g=s.dom;ee.from(g.contentDocument).fold(h,E=>{let O=0;const I=Bce(E,l).map(Y=>(O=Y.scrollTop,Y)).forall(Lce),q=()=>{const Y=g.contentWindow;z(Y)&&(I?Iq(Y,"bottom"):!I&&xq&&O!==0&&Iq(Y,O))};qR&&g.addEventListener("load",q,{once:!0}),E.open(),E.write(l),E.close(),qR||q()})},Fce=al(xq,qR?500:200).map(s=>Pi(Rq,s)),kq=(s,l)=>{const h=Wt(s.getOr(""));return{getValue:g=>h.get(),setValue:(g,E)=>{if(h.get()!==E){const O=g.element,I=()=>gs(O,"srcdoc",E);l?Fce.fold(V(Rq),q=>q.throttle)(O,E,I):I()}h.set(E)}}},Vce=(s,l,h)=>{const g="tox-dialog__iframe",E=s.transparent?[]:[`${g}--opaque`],O=s.border?["tox-navobj-bordered"]:[],I={...s.label.map(ve=>({title:ve})).getOr({}),...h.map(ve=>({srcdoc:ve})).getOr({}),...s.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},q=kq(h,s.streamContent),Y=s.label.map(ve=>iS(ve,l)),oe=ve=>Sq(ee.from(O),{uid:ve.uid,dom:{tag:"iframe",attributes:I,classes:[g,...E]},behaviours:ho([ya.config({}),qs.config({}),E_(h,q.getValue,q.setValue),um.config({channels:{[RN]:{onReceive:(Me,Ge)=>{Ge.newFocus.each(Ze=>{ys(Me.element).each(at=>{(Ie(Me.element,Ze)?Ti:ui)(at,"tox-navobj-bordered-focus")})})}}}})])}),he=Ir.parts.field({factory:{sketch:oe}});return Vs(Y,he,["tox-form__group--stretched"],[])},Dq=(s,l,h,g,E)=>{const O=h*E,I=g*E,q=Math.max(0,s/2-O/2),Y=Math.max(0,l/2-I/2);return{left:q.toString()+"px",top:Y.toString()+"px",width:O.toString()+"px",height:I.toString()+"px"}},Hce=(s,l,h)=>{const g=Sc(s),E=_l(s);return Math.min(g/l,E/h,1)},Mq=(s,l)=>{const h=Wt(l.getOr({url:""})),g=pi({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:l.map(Y=>({src:Y.url})).getOr({})}}),E=pi({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[g.asSpec()]}),O=(Y,oe)=>{const he={url:oe.url};oe.zoom.each(Me=>he.zoom=Me),oe.cachedWidth.each(Me=>he.cachedWidth=Me),oe.cachedHeight.each(Me=>he.cachedHeight=Me),h.set(he);const ve=()=>{const{cachedWidth:Me,cachedHeight:Ge,zoom:Ze}=he;if(!H(Me)&&!H(Ge)){if(H(Ze)){const yt=Hce(Y.element,Me,Ge);he.zoom=yt}const at=Dq(Sc(Y.element),_l(Y.element),Me,Ge,he.zoom);E.getOpt(Y).each(yt=>{ha(yt.element,at)})}};g.getOpt(Y).each(Me=>{const Ge=Me.element;oe.url!==gl(Ge,"src")&&(gs(Ge,"src",oe.url),ui(Y.element,"tox-imagepreview__loaded")),ve(),ih(Ge).then(Ze=>{Y.getSystem().isConnected()&&(Ti(Y.element,"tox-imagepreview__loaded"),he.cachedWidth=Ze.dom.naturalWidth,he.cachedHeight=Ze.dom.naturalHeight,ve())})})},I={};s.height.each(Y=>I.height=Y);const q=l.map(Y=>({url:Y.url,zoom:ee.from(Y.zoom),cachedWidth:ee.from(Y.cachedWidth),cachedHeight:ee.from(Y.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:I,attributes:{role:"presentation"}},components:[E.asSpec()],behaviours:ho([Sy.self(),E_(q,()=>h.get(),O)])}},Pq=(s,l,h)=>{const g="tox-label",E=s.align==="center"?[`${g}--center`]:[],O=s.align==="end"?[`${g}--end`]:[],I=pi({dom:{tag:"label",classes:[g,...E,...O]},components:[va(l.providers.translate(s.label))]}),q=Dt(s.items,l.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[I.asSpec(),...q],behaviours:ho([Sy.self(),Xs.config({}),m$(ee.none()),ls.config({mode:"acyclic"}),Gs("label",[Ta(Y=>{s.for.each(oe=>{h(oe).each(he=>{I.getOpt(Y).each(ve=>{const Me=gl(he.element,"id")??wo("form-field");gs(he.element,"id",Me),gs(ve.element,"for",Me)})})})})])])}},KR=wo("toolbar.button.execute"),$ce=s=>bb((l,h)=>{PR(s,l)(g=>{bs(l,KR,{buttonApi:g}),s.onAction(g)})}),XC=wo("common-button-display-events"),_$={[lu()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[tm()]:["toolbar-button-events",XC],[qg()]:["toolbar-button-events","dropdown-events","tooltipping"],[pd()]:["focusing","alloy.base.behaviour",XC]},T$=s=>Ds(s.element,"width",aa(s.element,"width")),A$=(s,l,h)=>rg(s,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:h},l),x$=(s,l)=>A$(s,l,[]),kb=(s,l)=>A$(s,l,[Xs.config({})]),Nq=(s,l,h)=>({dom:{tag:"span",classes:[`${l}__select-label`]},components:[va(h.translate(s))],behaviours:ho([Xs.config({})])}),lg=wo("update-menu-text"),__=wo("update-menu-icon"),Lq=wo("update-tooltip-text"),pv=(s,l,h,g)=>{const E=Wt(se),O=Wt(s.tooltip),I=s.text.map(yt=>pi(Nq(yt,l,h.providers))),q=s.icon.map(yt=>pi(kb(yt,h.providers.icons))),Y=(yt,ot)=>{const _t=Ao.getValue(yt);return qs.focus(_t),bs(_t,"keydown",{raw:ot.event.raw}),kf.close(_t),ee.some(!0)},oe=s.role.fold(()=>({}),yt=>({role:yt})),he=ee.from(s.listRole).map(yt=>({listRole:yt})).getOr({}),ve=s.ariaLabel.fold(()=>({}),yt=>({"aria-label":h.providers.translate(yt)})),Me=rg("chevron-down",{tag:"div",classes:[`${l}__select-chevron`]},h.providers.icons),Ge=wo("common-button-display-events"),Ze="dropdown-events";return pi(kf.sketch({...s.uid?{uid:s.uid}:{},...oe,...he,dom:{tag:"button",classes:[l,`${l}--select`].concat(Dt(s.classes,yt=>`${l}--${yt}`)),attributes:{...ve,...z(g)?{"data-mce-name":g}:{}}},components:ux([q.map(yt=>yt.asSpec()),I.map(yt=>yt.asSpec()),ee.some(Me)]),matchWidth:!0,useMinWidth:!0,onOpen:(yt,ot,_t)=>{s.searchable&&yce(_t)},dropdownBehaviours:ho([...s.dropdownBehaviours,by.button(()=>s.disabled||h.providers.checkUiComponentContext(s.context).shouldDisable),Ec(()=>h.providers.checkUiComponentContext(s.context)),qA.config({}),Xs.config({}),...s.tooltip.map(yt=>ba.config(h.providers.tooltips.getConfig({tooltipText:h.providers.translate(yt),onShow:ot=>{if(Tc(O.get(),s.tooltip,(_t,Lt)=>Lt!==_t).getOr(!1)){const _t=h.providers.translate(O.get().getOr(""));ba.setComponents(ot,h.providers.tooltips.getComponents({tooltipText:_t}))}}}))).toArray(),Gs(Ze,[Ob(s,E),m_(s,E)]),Gs(Ge,[Ta((yt,ot)=>{s.listRole!=="listbox"&&T$(yt)})]),Gs("update-dropdown-width-variable",[En(mb(),(yt,ot)=>kf.close(yt))]),Gs("menubutton-update-display-text",[En(lg,(yt,ot)=>{I.bind(_t=>_t.getOpt(yt)).each(_t=>{Xs.set(_t,[va(h.providers.translate(ot.event.text))])})}),En(__,(yt,ot)=>{q.bind(_t=>_t.getOpt(yt)).each(_t=>{Xs.set(_t,[kb(ot.event.icon,h.providers.icons)])})}),En(Lq,(yt,ot)=>{const _t=h.providers.translate(ot.event.text);gs(yt.element,"aria-label",_t),O.set(ee.some(ot.event.text))})])]),eventOrder:Xr(_$,{[pd()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[tm()]:["toolbar-button-events",ba.name(),Ze,Ge]}),sandboxBehaviours:ho([ls.config({mode:"special",onLeft:Y,onRight:Y}),Gs("dropdown-sandbox-events",[En(YV,(yt,ot)=>{XG(yt),ot.stop()}),En(i9,(yt,ot)=>{mce(yt,ot),ot.stop()})])]),lazySink:h.getSink,toggleClass:`${l}--active`,parts:{menu:{...r_(!1,s.columns,s.presets),fakeFocus:s.searchable,...s.listRole==="listbox"?{}:{onHighlightItem:QG,onCollapseMenu:(yt,ot,_t)=>{li.getHighlighted(_t).each(Lt=>{QG(yt,_t,Lt)})},onDehighlightItem:vce}}},getAnchorOverrides:()=>({maxHeightFunction:(yt,ot)=>{eD()(yt,ot-10)}}),fetch:yt=>es.nu($e(s.fetch,yt))})).asSpec()},kN=s=>v(s),ZR=s=>s.type==="separator",Uce=s=>Zt(s,"getSubmenuItems"),O$={type:"separator"},zce=(s,l)=>{const h=Oo(s,(g,E)=>kN(E)?E===""?g:E==="|"?g.length>0&&!ZR(g[g.length-1])?g.concat([O$]):g:Zt(l,E.toLowerCase())?g.concat([l[E.toLowerCase()]]):g:g.concat([E]),[]);return h.length>0&&ZR(h[h.length-1])&&h.pop(),h},I$=(s,l)=>{const h=s.getSubmenuItems(),g=DN(h,l),E=Xr(g.menus,{[s.value]:g.items}),O=Xr(g.expansions,{[s.value]:s.value});return{item:s,menus:E,expansions:O}},Bq=s=>{const l=wt(s,"value").getOrThunk(()=>wo("generated-menu-item"));return Xr({value:l},s)},DN=(s,l)=>{const h=zce(v(s)?s.split(" "):s,l);return Eo(h,(g,E)=>{if(Uce(E)){const O=Bq(E),I=I$(O,l);return{menus:Xr(g.menus,I.menus),items:[I.item,...g.items],expansions:Xr(g.expansions,I.expansions)}}else return{...g,items:[E,...g.items]}},{menus:{},expansions:{},items:[]})},jce=s=>s.search.fold(()=>({searchMode:"no-search"}),l=>({searchMode:"search-with-field",placeholder:l.placeholder})),Wce=s=>s.search.fold(()=>({searchMode:"no-search"}),l=>({searchMode:"search-with-results"})),T_=(s,l,h,g)=>{const E=wo("primary-menu"),O=DN(s,h.shared.providers.menuItems());if(O.items.length===0)return ee.none();const I=jce(g),q=eq(E,O.items,l,h,g.isHorizontalMenu,I),Y=Wce(g),oe=Wo(O.menus,(ve,Me)=>eq(Me,ve,l,h,!1,Y)),he=Xr(oe,Ug(E,q));return ee.from(MC.tieredData(E,he,O.expansions))},MN=s=>!Zt(s,"items"),Fq="data-value",PN=(s,l,h,g,E)=>Dt(h,O=>MN(O)?{type:"togglemenuitem",...E?{}:{role:"option"},text:O.text,value:O.value,active:O.value===g,onAction:()=>{Ao.setValue(s,O.value),bs(s,_p,{name:l}),qs.focus(s)}}:{type:"nestedmenuitem",text:O.text,getSubmenuItems:()=>PN(s,l,O.items,g,E)}),R$=(s,l)=>ro(s,h=>MN(h)?al(h.value===l,h):R$(h.items,l)),Gce=(s,l,h)=>{const g=eo(s.items,oe=>!MN(oe)),E=l.shared.providers,O=h.bind(oe=>R$(s.items,oe)).orThunk(()=>Et(s.items).filter(MN)),I=s.label.map(oe=>iS(oe,E)),q=Ir.parts.field({dom:{},factory:{sketch:oe=>pv({context:s.context,uid:oe.uid,text:O.map(he=>he.text),icon:ee.none(),tooltip:ee.none(),role:al(!g,"combobox"),...g?{}:{listRole:"listbox"},ariaLabel:s.label,fetch:(he,ve)=>{const Me=PN(he,s.name,s.items,Ao.getValue(he),g);ve(T_(Me,my.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:ee.none()}))},onSetup:V(se),getApi:V({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ya.config({}),E_(O.map(he=>he.value),he=>gl(he.element,Fq),(he,ve)=>{R$(s.items,ve).each(Me=>{gs(he.element,Fq,Me.value),bs(he,lg,{text:Me.text})})})]},"tox-listbox",l.shared)}}),Y={dom:{tag:"div",classes:["tox-listboxfield"]},components:[q]};return Ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:vn([I.toArray(),[Y]]),fieldBehaviours:ho([as.config({disabled:()=>!s.enabled||E.checkUiComponentContext(s.context).shouldDisable,onDisabled:oe=>{Ir.getField(oe).each(as.disable)},onEnabled:oe=>{Ir.getField(oe).each(as.enable)}})])})},Vq=(s,l)=>({dom:{tag:"div",classes:s.classes},components:Dt(s.items,l.shared.interpreter)}),Hq=(s,l,h)=>{const g=Dt(s.items,Y=>({text:l.translate(Y.text),value:Y.value})),E=s.label.map(Y=>iS(Y,l)),O=Ir.parts.field({dom:{},...h.map(Y=>({data:Y})).getOr({}),selectAttributes:{size:s.size},options:g,factory:Ase,selectBehaviours:ho([as.config({disabled:()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable}),ya.config({}),Gs("selectbox-change",[En(Jp(),(Y,oe)=>{bs(Y,_p,{name:s.name})})])])}),I=s.size>1?ee.none():ee.some(rg("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},l.icons)),q={dom:{tag:"div",classes:["tox-selectfield"]},components:vn([[O],I.toArray()])};return Ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:vn([E.toArray(),[q]]),fieldBehaviours:ho([as.config({disabled:()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable,onDisabled:Y=>{Ir.getField(Y).each(as.disable)},onEnabled:Y=>{Ir.getField(Y).each(as.enable)}}),Ec(()=>l.checkUiComponentContext(s.context))])})},$q=s=>{const l={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},h=E=>E in l?l[E]:1;let g=s.value.toFixed(h(s.unit));return g.indexOf(".")!==-1&&(g=g.replace(/\.?0*$/,"")),g+s.unit},NN=s=>{const h=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(s);if(h!==null){const g=parseFloat(h[1]),E=h[2];return zo.value({value:g,unit:E})}else return zo.error(s)},Uq=(s,l)=>{const h={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},g=E=>Zt(h,E);return s.unit===l?ee.some(s.value):g(s.unit)&&g(l)?h[s.unit]===h[l]?ee.some(s.value):ee.some(s.value/h[s.unit]*h[l]):ee.none()},LN=s=>ee.none(),zq=(s,l)=>h=>Uq(h,l).map(g=>({value:g*s,unit:l})),Cy=(s,l)=>{const h=NN(s).toOptional(),g=NN(l).toOptional();return Tc(h,g,(E,O)=>Uq(E,O.unit).map(I=>O.value/I).map(I=>zq(I,O.unit)).getOr(LN)).getOr(LN)},k$=(s,l)=>{let h=LN;const g=wo("ratio-event"),E=at=>rg(at,{tag:"span",classes:["tox-icon","tox-lock-icon__"+at]},l.icons),O=()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable,I=Ec(()=>l.checkUiComponentContext(s.context)),q=s.label.getOr("Constrain proportions"),Y=l.translate(q),oe=Zl.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":Y,"data-mce-name":q}},components:[E("lock"),E("unlock")],buttonBehaviours:ho([as.config({disabled:O}),I,ya.config({}),ba.config(l.tooltips.getConfig({tooltipText:Y}))])}),he=at=>({dom:{tag:"div",classes:["tox-form__group"]},components:at}),ve=at=>Ir.parts.field({factory:lv,inputClasses:["tox-textfield"],inputBehaviours:ho([as.config({disabled:O}),I,ya.config({}),Gs("size-input-events",[En(bf(),(yt,ot)=>{bs(yt,g,{isField1:at})}),En(Jp(),(yt,ot)=>{bs(yt,_p,{name:s.name})})])]),selectOnFocus:!1}),Me=at=>({dom:{tag:"label",classes:["tox-label"]},components:[va(l.translate(at))]}),Ge=Zl.parts.field1(he([Ir.parts.label(Me("Width")),ve(!0)])),Ze=Zl.parts.field2(he([Ir.parts.label(Me("Height")),ve(!1)]));return Zl.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Ge,Ze,he([Me(sf),oe])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(at,yt,ot)=>{NN(Ao.getValue(at)).each(_t=>{h(_t).each(Lt=>{Ao.setValue(yt,$q(Lt))})})},coupledFieldBehaviours:ho([as.config({disabled:O,onDisabled:at=>{Zl.getField1(at).bind(Ir.getField).each(as.disable),Zl.getField2(at).bind(Ir.getField).each(as.disable),Zl.getLock(at).each(as.disable)},onEnabled:at=>{Zl.getField1(at).bind(Ir.getField).each(as.enable),Zl.getField2(at).bind(Ir.getField).each(as.enable),Zl.getLock(at).each(as.enable)}}),Ec(()=>l.checkUiComponentContext("mode:design")),Gs("size-input-events2",[En(g,(at,yt)=>{const ot=yt.event.isField1,_t=ot?Zl.getField1(at):Zl.getField2(at),Lt=ot?Zl.getField2(at):Zl.getField1(at),an=_t.map(Ao.getValue).getOr(""),hn=Lt.map(Ao.getValue).getOr("");h=Cy(an,hn)})])])})},qce=(s,l,h)=>{const g=hy.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[va(l.translate(s.label))]}),E=hy.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),O=hy.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return hy.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:s.min,maxX:s.max,getInitialValue:V(h.getOrThunk(()=>(Math.abs(s.max)-Math.abs(s.min))/2))},components:[g,E,O],sliderBehaviours:ho([Sy.self(),qs.config({})]),onChoose:(I,q,Y)=>{bs(I,_p,{name:s.name,value:Y})},onChange:(I,q,Y)=>{bs(I,_p,{name:s.name,value:Y})}})},Kce=(s,l)=>{const h=q=>({dom:{tag:"th",innerHtml:l.translate(q)}}),g=q=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Dt(q,h)}]}),E=q=>({dom:{tag:"td",innerHtml:l.translate(q)}}),O=q=>({dom:{tag:"tr"},components:Dt(q,E)}),I=q=>({dom:{tag:"tbody"},components:Dt(q,O)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[g(s.header),I(s.cells)],behaviours:ho([ya.config({}),qs.config({})])}},jq=(s,l)=>{const h=s.label.map(Ze=>iS(Ze,l)),g=[as.config({disabled:()=>s.disabled||l.checkUiComponentContext(s.context).shouldDisable}),Ec(()=>l.checkUiComponentContext(s.context)),ls.config({mode:"execution",useEnter:s.multiline!==!0,useControlEnter:s.multiline===!0,execute:Ze=>(_r(Ze,mx),ee.some(!0))}),Gs("textfield-change",[En(Xp(),(Ze,at)=>{bs(Ze,_p,{name:s.name})}),En(Wm(),(Ze,at)=>{bs(Ze,_p,{name:s.name})})]),ya.config({})],E=s.validation.map(Ze=>Rf.config({getRoot:at=>ys(at.element),invalidClass:"tox-invalid",validator:{validate:at=>{const yt=Ao.getValue(at),ot=Ze.validator(yt);return es.pure(ot===!0?zo.value(yt):zo.error(ot))},validateOnLoad:Ze.validateOnLoad}})).toArray(),O=s.placeholder.fold(V({}),Ze=>({placeholder:l.translate(Ze)})),I=s.inputMode.fold(V({}),Ze=>({inputmode:Ze})),Y={...s.spellcheck.fold(V({}),Ze=>({spellcheck:Ze})),...O,...I,"data-mce-name":s.name},oe=Ir.parts.field({tag:s.multiline===!0?"textarea":"input",...s.data.map(Ze=>({data:Ze})).getOr({}),inputAttributes:Y,inputClasses:[s.classname],inputBehaviours:ho(vn([g,E])),selectOnFocus:!1,factory:lv}),he=s.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[oe]}:oe,Me=(s.flex?["tox-form__group--stretched"]:[]).concat(s.maximized?["tox-form-group--maximize"]:[]),Ge=[as.config({disabled:()=>s.disabled||l.checkUiComponentContext(s.context).shouldDisable,onDisabled:Ze=>{Ir.getField(Ze).each(as.disable)},onEnabled:Ze=>{Ir.getField(Ze).each(as.enable)}}),Ec(()=>l.checkUiComponentContext(s.context))];return Vs(h,he,Me,Ge)},Zce=(s,l,h)=>jq({name:s.name,multiline:!1,label:s.label,inputMode:s.inputMode,placeholder:s.placeholder,flex:!1,disabled:!s.enabled,classname:"tox-textfield",validation:ee.none(),maximized:s.maximized,data:h,context:s.context,spellcheck:ee.none()},l),Yce=(s,l,h)=>jq({name:s.name,multiline:!0,label:s.label,inputMode:ee.none(),placeholder:s.placeholder,flex:!0,disabled:!s.enabled,classname:"tox-textarea",validation:ee.none(),maximized:s.maximized,data:h,context:s.context,spellcheck:s.spellcheck},l),D$=s=>({isEnabled:()=>!as.isDisabled(s),setEnabled:l=>as.set(s,!l),setActive:l=>{const h=s.element;l?(Ti(h,"tox-tbtn--enabled"),gs(h,"aria-pressed",!0)):(ui(h,"tox-tbtn--enabled"),ia(h,"aria-pressed"))},isActive:()=>Xa(s.element,"tox-tbtn--enabled"),setTooltip:l=>{bs(s,Lq,{text:l})},setText:l=>{bs(s,lg,{text:l})},setIcon:l=>bs(s,__,{icon:l})}),yx=(s,l,h,g,E=!0,O)=>{const I=s.buttonType==="bordered"?["bordered"]:[];return pv({text:s.text,icon:s.icon,tooltip:s.tooltip,ariaLabel:s.tooltip,searchable:s.search.isSome(),role:g,fetch:(q,Y)=>{const oe={pattern:s.search.isSome()?bce(q):""};s.fetch(he=>{Y(T_(he,my.CLOSE_ON_EXECUTE,h,{isHorizontalMenu:!1,search:s.search}))},oe,D$(q))},onSetup:s.onSetup,getApi:q=>D$(q),columns:1,presets:"normal",classes:I,dropdownBehaviours:[...E?[ya.config({})]:[]],context:s.context},l,h.shared,O)},DSe=(s,l,h)=>{const g=O=>I=>{const q=!I.isActive();I.setActive(q),O.storage.set(q),h.shared.getSink().each(Y=>{l().getOpt(Y).each(oe=>{ra(oe.element),bs(oe,M0,{name:O.name,value:O.storage.get()})})})},E=O=>I=>{I.setActive(O.storage.get())};return O=>{O(Dt(s,I=>{const q=I.text.fold(()=>({}),Y=>({text:Y}));return{type:I.type,active:!1,...q,context:I.context,onAction:g(I),onSetup:E(I)}}))}},Xce=s=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":s}},components:[va(s)]}),Kh=(s,l,h)=>{s.customStateIcon.each(g=>l.push(N$(g,h.shared.providers.icons,s.customStateIconTooltip.fold(()=>[],E=>[ba.config(h.shared.providers.tooltips.getConfig({tooltipText:E}))]),["tox-icon-custom-state"])))},M$=wo("leaf-label-event-id"),P$=({leaf:s,onLeafAction:l,visible:h,treeId:g,selectedId:E,backstage:O})=>{const I=s.menu.map(Y=>yx(Y,"tox-mbtn",O,ee.none(),h)),q=[Xce(s.title)];return Kh(s,q,O),I.each(Y=>q.push(Y)),yd.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(h?["tox-tree--leaf__label--visible"]:[])},components:q,role:"treeitem",action:Y=>{l(s.id),Y.getSystem().broadcastOn([`update-active-item-${g}`],{value:s.id})},eventOrder:{[ic()]:[M$,"keying"]},buttonBehaviours:ho([...h?[ya.config({})]:[],Nr.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),um.config({channels:{[`update-active-item-${g}`]:{onReceive:(Y,oe)=>{(oe.value===s.id?Nr.on:Nr.off)(Y)}}}}),Gs(M$,[Ta((Y,oe)=>{E.each(he=>{(he===s.id?Nr.on:Nr.off)(Y)})}),En(ic(),(Y,oe)=>{const he=oe.event.raw.code==="ArrowLeft",ve=oe.event.raw.code==="ArrowRight";he?(Fh(Y.element,".tox-tree--directory").each(Me=>{Y.getSystem().getByDom(Me).each(Ge=>{ff(Me,".tox-tree--directory__label").each(Ze=>{Ge.getSystem().getByDom(Ze).each(qs.focus)})})}),oe.stop()):ve&&oe.stop()})])])})},N$=(s,l,h,g,E)=>rg(s,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(g||[]),behaviours:h,attributes:E},l),Jce=(s,l)=>N$(s,l,[]),Wq=wo("directory-label-event-id"),Gq=({directory:s,visible:l,noChildren:h,backstage:g})=>{const E=s.menu.map(q=>yx(q,"tox-mbtn",g,ee.none())),O=[{dom:{tag:"div",classes:["tox-chevron"]},components:[Jce("chevron-right",g.shared.providers.icons)]},Xce(s.title)];Kh(s,O,g),E.each(q=>{O.push(q)});const I=q=>{Fh(q.element,".tox-tree--directory").each(Y=>{q.getSystem().getByDom(Y).each(oe=>{const he=!Nr.isOn(oe);Nr.toggle(oe),bs(q,"expand-tree-node",{expanded:he,node:s.id})})})};return yd.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(l?["tox-tree--directory__label--visible"]:[])},components:O,action:I,eventOrder:{[ic()]:[Wq,"keying"]},buttonBehaviours:ho([...l?[ya.config({})]:[],Gs(Wq,[En(ic(),(q,Y)=>{const oe=Y.event.raw.code==="ArrowRight",he=Y.event.raw.code==="ArrowLeft";oe&&h&&Y.stop(),(oe||he)&&Fh(q.element,".tox-tree--directory").each(ve=>{q.getSystem().getByDom(ve).each(Me=>{!Nr.isOn(Me)&&oe||Nr.isOn(Me)&&he?(I(q),Y.stop()):he&&!Nr.isOn(Me)&&(Fh(Me.element,".tox-tree--directory").each(Ge=>{ff(Ge,".tox-tree--directory__label").each(Ze=>{Me.getSystem().getByDom(Ze).each(qs.focus)})}),Y.stop())})})})])])})},Qce=({children:s,onLeafAction:l,visible:h,treeId:g,expandedIds:E,selectedId:O,backstage:I})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:s.map(q=>q.type==="leaf"?P$({leaf:q,selectedId:O,onLeafAction:l,visible:h,treeId:g,backstage:I}):YR({directory:q,expandedIds:E,selectedId:O,onLeafAction:l,labelTabstopping:h,treeId:g,backstage:I})),behaviours:ho([zc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:h}),Xs.config({})])}),L$=wo("directory-event-id"),YR=({directory:s,onLeafAction:l,labelTabstopping:h,treeId:g,backstage:E,expandedIds:O,selectedId:I})=>{const{children:q}=s,Y=Wt(O),oe=ve=>q.map(Me=>Me.type==="leaf"?P$({leaf:Me,selectedId:I,onLeafAction:l,visible:ve,treeId:g,backstage:E}):YR({directory:Me,expandedIds:Y.get(),selectedId:I,onLeafAction:l,labelTabstopping:ve,treeId:g,backstage:E})),he=O.includes(s.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[Gq({directory:s,visible:h,noChildren:s.children.length===0,backstage:E}),Qce({children:q,expandedIds:O,selectedId:I,onLeafAction:l,visible:he,treeId:g,backstage:E})],behaviours:ho([Gs(L$,[Ta((ve,Me)=>{Nr.set(ve,he)}),En("expand-tree-node",(ve,Me)=>{const{expanded:Ge,node:Ze}=Me.event;Y.set(Ge?[...Y.get(),Ze]:Y.get().filter(at=>at!==Ze))})]),Nr.config({...s.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(ve,Me)=>{const Ge=ve.components()[1],Ze=oe(Me);Me?zc.grow(Ge):zc.shrink(Ge),Xs.set(Ge,Ze)}})])}},eue=wo("tree-event-id"),B$=(s,l)=>{const h=s.onLeafAction.getOr(se),g=s.onToggleExpand.getOr(se),E=s.defaultExpandedIds,O=Wt(E),I=Wt(s.defaultSelectedId),q=wo("tree-id"),Y=(oe,he)=>s.items.map(ve=>ve.type==="leaf"?P$({leaf:ve,selectedId:oe,onLeafAction:h,visible:!0,treeId:q,backstage:l}):YR({directory:ve,selectedId:oe,onLeafAction:h,expandedIds:he,labelTabstopping:!0,treeId:q,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:Y(I.get(),O.get()),behaviours:ho([ls.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Gs(eue,[En("expand-tree-node",(oe,he)=>{const{expanded:ve,node:Me}=he.event;O.set(ve?[...O.get(),Me]:O.get().filter(Ge=>Ge!==Me)),g(O.get(),{expanded:ve,node:Me})})]),um.config({channels:{[`update-active-item-${q}`]:{onReceive:(oe,he)=>{I.set(ee.some(he.value)),Xs.set(oe,Y(ee.some(he.value),O.get()))}}}}),Xs.config({})])}},XR=(s,l,h=[],g,E,O,I)=>{const q=l.fold(()=>({}),he=>({action:he})),Y={buttonBehaviours:ho([by.item(()=>!s.enabled||I.checkUiComponentContext(s.context).shouldDisable),Ec(()=>I.checkUiComponentContext(s.context)),ya.config({}),...O.map(he=>ba.config(I.tooltips.getConfig({tooltipText:I.translate(he)}))).toArray(),Gs("button press",[x1("click")])].concat(h)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...q},oe=Xr(Y,{dom:g});return Xr(oe,{components:E})},qq=(s,l,h,g=[],E)=>{const O=s.tooltip.map(oe=>({"aria-label":h.translate(oe)})).getOr({}),I={tag:"button",classes:["tox-tbtn"],attributes:{...O,"data-mce-name":E}},q=s.icon.map(oe=>x$(oe,h.icons)),Y=ux([q]);return XR(s,l,g,I,Y,s.tooltip,h)},F$=s=>{switch(s){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},V$=(s,l,h,g=[],E=[])=>{const O=h.translate(s.text),I=s.icon.map(Ge=>x$(Ge,h.icons)),q=[I.getOrThunk(()=>va(O))],Y=s.buttonType.getOr(!s.primary&&!s.borderless?"secondary":"primary"),ve={tag:"button",classes:[...F$(Y),...I.isSome()?["tox-button--icon"]:[],...s.borderless?["tox-button--naked"]:[],...E],attributes:{"aria-label":O,"data-mce-name":s.text}},Me=s.icon.map(V(O));return XR(s,l,g,ve,q,Me,h)},H$=(s,l,h,g=[],E=[])=>{const O=V$(s,ee.some(l),h,g,E);return yd.sketch(O)},Kq=(s,l)=>h=>{l==="custom"?bs(h,M0,{name:s,value:{}}):l==="submit"?_r(h,mx):l==="cancel"?_r(h,YC):console.error("Unknown button type: ",l)},Zq=(s,l)=>l==="menu",tue=(s,l)=>l==="custom"||l==="cancel"||l==="submit",Yq=(s,l)=>l==="togglebutton",MSe=(s,l,h)=>{const g=s.icon.map(ot=>kb(ot,l.icons)).map(pi),E=ot=>{bs(ot,M0,{name:s.name,value:{setIcon:_t=>{g.map(Lt=>Lt.getOpt(ot).each(an=>{Xs.set(an,[kb(_t,l.icons)])}))}}})},O=s.buttonType.getOr(s.primary?"primary":"secondary"),I={...s,name:s.name??"",tooltip:s.tooltip,enabled:s.enabled??!1},q=I.tooltip.or(s.text).map(ot=>({"aria-label":l.translate(ot)})).getOr({}),Y=F$(O??"secondary"),oe=s.icon.isSome()&&s.text.isSome(),he={tag:"button",classes:[...Y.concat(s.icon.isSome()?["tox-button--icon"]:[]),...s.active?["tox-button--enabled"]:[],...oe?["tox-button--icon-and-text"]:[]],attributes:{...q,...z(h)?{"data-mce-name":h}:{}}},ve=[],Me=l.translate(s.text.getOr("")),Ge=va(Me),at=[...ux([g.map(ot=>ot.asSpec())]),...s.text.isSome()?[Ge]:[]],yt=XR(I,ee.some(E),ve,he,at,s.tooltip,l);return yd.sketch(yt)},$$=(s,l,h)=>{if(Zq(s,l)){const g=()=>I,E=s,O={...s,buttonType:"default",type:"menubutton",search:ee.none(),onSetup:q=>(q.setEnabled(s.enabled),se),fetch:DSe(E.items,g,h)},I=pi(yx(O,"tox-tbtn",h,ee.none(),!0,s.text.or(s.tooltip).getOrUndefined()));return I.asSpec()}else if(tue(s,l)){const g=Kq(s.name,l),E={...s,context:l==="cancel"?"any":s.context,borderless:!1};return H$(E,g,h.shared.providers,[])}else{if(Yq(s,l))return MSe(s,h.shared.providers,s.text.or(s.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",l),new Error("Unknown footer button type")}},nue=(s,l)=>{const h=Kq(s.name,"custom");return jR(ee.none(),Ir.parts.field({factory:yd,...V$(s,ee.some(h),l,[AN(""),Sy.self()])}))},oue={type:"separator"},Xq=s=>({type:"menuitem",value:s.url,text:s.title,meta:{attach:s.attach},onAction:se}),U$=(s,l)=>({type:"menuitem",value:l,text:s,meta:{attach:void 0},onAction:se}),sue=s=>Dt(s,Xq),rue=(s,l)=>Vo(l,h=>h.type===s),Jq=(s,l)=>sue(rue(s,l)),Qq=s=>Jq("header",s.targets),iue=s=>Jq("anchor",s.targets),aue=s=>ee.from(s.anchorTop).map(l=>U$("<top>",l)).toArray(),eK=s=>ee.from(s.anchorBottom).map(l=>U$("<bottom>",l)).toArray(),tK=s=>Dt(s,l=>U$(l,l)),bx=s=>Oo(s,(l,h)=>l.length===0||h.length===0?l.concat(h):l.concat(oue,h),[]),z$=(s,l)=>{const h=s.toLowerCase();return Vo(l,g=>{const E=g.meta!==void 0&&g.meta.text!==void 0?g.meta.text:g.text,O=g.value??"";return gi(E.toLowerCase(),h)||gi(O.toLowerCase(),h)})},nK=(s,l,h)=>{const g=Ao.getValue(l),E=g?.meta?.text??g.value;return h.getLinkInformation().fold(()=>[],I=>{const q=z$(E,tK(h.getHistory(s)));return s==="file"?bx([q,z$(E,Qq(I)),z$(E,vn([aue(I),iue(I),eK(I)]))]):q})},j$=wo("aria-invalid"),oK=(s,l,h,g)=>{const E=l.shared.providers,O=_t=>{const Lt=Ao.getValue(_t);h.addToHistory(Lt.value,s.filetype)},I={...g.map(_t=>({initialData:_t})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{type:"url"},minChars:0,responseTime:0,fetch:_t=>{const Lt=nK(s.filetype,_t,h),an=T_(Lt,my.BUBBLE_TO_SANDBOX,l,{isHorizontalMenu:!1,search:ee.none()});return es.pure(an)},getHotspot:_t=>Ze.getOpt(_t),onSetValue:(_t,Lt)=>{_t.hasConfigured(Rf)&&Rf.run(_t).get(se)},typeaheadBehaviours:ho([...h.getValidationHandler().map(_t=>Rf.config({getRoot:Lt=>ys(Lt.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Lt,an)=>{he.getOpt(Lt).each(hn=>{gs(hn.element,"title",E.translate(an))})}},validator:{validate:Lt=>{const an=Ao.getValue(Lt);return Id.nu(hn=>{_t({type:s.filetype,url:an.value},vo=>{if(vo.status==="invalid"){gs(Lt.element,"aria-errormessage",j$);const Vn=zo.error(vo.message);hn(Vn)}else{ia(Lt.element,"aria-errormessage");const Vn=zo.value(vo.message);hn(Vn)}})})},validateOnLoad:!1}})).toArray(),as.config({disabled:()=>!s.enabled||E.checkUiComponentContext(s.context).shouldDisable}),ya.config({}),Gs("urlinput-events",[En(Xp(),_t=>{const Lt=Al(_t.element),an=Lt.trim();an!==Lt&&pf(_t.element,an),s.filetype==="file"&&bs(_t,_p,{name:s.name})}),En(Jp(),_t=>{bs(_t,_p,{name:s.name}),O(_t)}),En(Wm(),_t=>{bs(_t,_p,{name:s.name}),O(_t)})])]),eventOrder:{[Xp()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:_t=>_t.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:l.shared.getSink,parts:{menu:r_(!1,1,"normal")},onExecute:(_t,Lt,an)=>{bs(Lt,mx,{})},onItemExecute:(_t,Lt,an,hn)=>{O(_t),bs(_t,_p,{name:s.name})}},q=Ir.parts.field({...I,factory:iie}),Y=s.label.map(_t=>iS(_t,E)),he=pi(((_t,Lt,an=_t,hn=_t)=>rg(an,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+_t],attributes:{title:E.translate(hn),"aria-live":"polite",...Lt.fold(()=>({}),vo=>({id:vo}))}},E.icons))("invalid",ee.some(j$),"warning")),ve=pi({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[he.asSpec()]}),Me=h.getUrlPicker(s.filetype),Ge=wo("browser.url.event"),Ze=pi({dom:{tag:"div",classes:["tox-control-wrap"]},components:[q,ve.asSpec()],behaviours:ho([as.config({disabled:()=>!s.enabled||E.checkUiComponentContext(s.context).shouldDisable})])}),at=pi(H$({context:s.context,name:s.name,icon:ee.some("browse"),text:s.picker_text.or(s.label).getOr(""),enabled:s.enabled,primary:!1,buttonType:ee.none(),borderless:!0},_t=>_r(_t,Ge),E,[],["tox-browse-url"])),yt=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:vn([[Ze.asSpec()],Me.map(()=>at.asSpec()).toArray()])}),ot=_t=>{yn.getCurrent(_t).each(Lt=>{const an=Ao.getValue(Lt),hn={fieldname:s.name,...an};Me.each(vo=>{vo(hn).get(Vn=>{Ao.setValue(Lt,Vn),bs(_t,_p,{name:s.name})})})})};return Ir.sketch({dom:sq(),components:Y.toArray().concat([yt()]),fieldBehaviours:ho([as.config({disabled:()=>!s.enabled||E.checkUiComponentContext(s.context).shouldDisable,onDisabled:_t=>{Ir.getField(_t).each(as.disable),at.getOpt(_t).each(as.disable)},onEnabled:_t=>{Ir.getField(_t).each(as.enable),at.getOpt(_t).each(as.enable)}}),Ec(()=>E.checkUiComponentContext(s.context)),Gs("url-input-events",[En(Ge,ot)])])})},lue=(s,l)=>{const h=R0(s.icon,l.icons);return xb.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${s.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:s.url?void 0:h},components:s.url?[yd.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:h,attributes:{title:l.translate(s.iconTooltip)}},action:g=>bs(g,M0,{name:"alert-banner",value:s.url}),buttonBehaviours:ho([JW()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(s.text)}}]})},sK=(s,l,h)=>{const g=Y=>(Y.element.dom.click(),ee.some(!0)),E=Ir.parts.field({factory:{sketch:ke},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ho([Sy.self(),as.config({disabled:()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable,onDisabled:Y=>{ys(Y.element).each(oe=>Ti(oe,"tox-checkbox--disabled"))},onEnabled:Y=>{ys(Y.element).each(oe=>ui(oe,"tox-checkbox--disabled"))}}),ya.config({}),qs.config({}),dq(h,t0,sp),ls.config({mode:"special",onEnter:g,onSpace:g,stopSpaceKeyup:!0}),Gs("checkbox-events",[En(Jp(),(Y,oe)=>{bs(Y,_p,{name:s.name})})])])}),O=Ir.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[va(l.translate(s.label))],behaviours:ho([qA.config({})])}),I=Y=>rg(Y==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+Y]},l.icons),q=pi({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[I("checked"),I("unchecked")]});return Ir.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[E,q.asSpec(),O],fieldBehaviours:ho([as.config({disabled:()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable}),Ec(()=>l.checkUiComponentContext(s.context))])})},rK=(s,l)=>{const h=["tox-form__group",...s.stretched?["tox-form__group--stretched"]:[]],g=Gs("htmlpanel",[Ta(E=>{s.onInit(E.element.dom)})]);return s.presets==="presentation"?xb.sketch({dom:{tag:"div",classes:h,innerHtml:s.html},containerBehaviours:ho([ba.config({...l.tooltips.getConfig({tooltipText:"",onShow:E=>{ii(E.element,"[data-mce-tooltip]:hover").orThunk(()=>Ya(E.element)).each(O=>{lr(O,"data-mce-tooltip").each(I=>{ba.setComponents(E,l.tooltips.getComponents({tooltipText:I}))})})}}),mode:"children-normal",anchor:E=>({type:"node",node:ii(E.element,"[data-mce-tooltip]:hover").orThunk(()=>Ya(E.element).filter(O=>lr(O,"data-mce-tooltip").isSome())),root:E.element,layouts:{onLtr:V([lc,ac,za,ja,Ui,dl]),onRtl:V([lc,ac,za,ja,Ui,dl])},bubble:Kn(0,-2,{})})}),g])}):xb.sketch({dom:{tag:"div",classes:h,innerHtml:s.html,attributes:{role:"document"}},containerBehaviours:ho([ya.config({}),qs.config({}),g])})},Gc=s=>(l,h,g,E,O)=>wt(h,"name").fold(()=>s(h,E,ee.none(),O),I=>l.field(I,s(h,E,wt(g,I),O))),cue=s=>(l,h,g,E,O)=>{const I=Xr(h,{source:"dynamic"});return Gc(s)(l,I,g,E,O)},iK={bar:Gc((s,l)=>wce(s,l.shared)),collection:Gc((s,l,h)=>iq(s,l.shared.providers,h)),alertbanner:Gc((s,l)=>lue(s,l.shared.providers)),input:Gc((s,l,h)=>Zce(s,l.shared.providers,h)),textarea:Gc((s,l,h)=>Yce(s,l.shared.providers,h)),label:Gc((s,l,h,g)=>Pq(s,l.shared,g)),iframe:cue((s,l,h)=>Vce(s,l.shared.providers,h)),button:Gc((s,l)=>nue(s,l.shared.providers)),checkbox:Gc((s,l,h)=>sK(s,l.shared.providers,h)),colorinput:Gc((s,l,h)=>p$(s,l.shared,l.colorinput,h)),colorpicker:Gc((s,l,h)=>Dce(s,l.shared.providers,h)),dropzone:Gc((s,l,h)=>C$(s,l.shared.providers,h)),grid:Gc((s,l)=>Pce(s,l.shared)),listbox:Gc((s,l,h)=>Gce(s,l,h)),selectbox:Gc((s,l,h)=>Hq(s,l.shared.providers,h)),sizeinput:Gc((s,l)=>k$(s,l.shared.providers)),slider:Gc((s,l,h)=>qce(s,l.shared.providers,h)),urlinput:Gc((s,l,h)=>oK(s,l,l.urlinput,h)),customeditor:Gc(yq),htmlpanel:Gc((s,l)=>rK(s,l.shared.providers)),imagepreview:Gc((s,l,h)=>Mq(s,h)),table:Gc((s,l)=>Kce(s,l.shared.providers)),tree:Gc((s,l)=>B$(s,l)),panel:Gc((s,l)=>Vq(s,l))},aK={field:(s,l)=>l,record:V([])},lK=(s,l,h,g,E)=>{const O=Xr(g,{shared:{interpreter:I=>W$(s,I,h,O,E)}});return W$(s,l,h,O,E)},W$=(s,l,h,g,E)=>wt(iK,l.type).fold(()=>(console.error(`Unknown factory type "${l.type}", defaulting to container: `,l),l),O=>O(s,l,h,g,E)),cK=(s,l,h,g)=>W$(aK,s,l,h,g),JR={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},uue=(s,l,h)=>{const E={maxHeightFunction:A1()},O=()=>({type:"node",root:Za(oa(s())),node:ee.from(s()),bubble:Kn(12,12,JR),layouts:{onRtl:()=>[gn],onLtr:()=>[fC]},overrides:E}),I=()=>({type:"hotspot",hotspot:l(),bubble:Kn(-12,12,JR),layouts:{onRtl:()=>[za,Ui,lc],onLtr:()=>[Ui,za,lc]},overrides:E});return()=>h()?O():I()},due=(s,l,h,g)=>{const O={maxHeightFunction:A1()},I=()=>({type:"node",root:Za(oa(l())),node:ee.from(l()),bubble:Kn(12,12,JR),layouts:{onRtl:()=>[zh],onLtr:()=>[zh]},overrides:O}),q=()=>s?{type:"node",root:Za(oa(l())),node:ee.from(l()),bubble:Kn(0,-Tl(l()),JR),layouts:{onRtl:()=>[ac],onLtr:()=>[ac]},overrides:O}:{type:"hotspot",hotspot:h(),bubble:Kn(0,0,JR),layouts:{onRtl:()=>[ac],onLtr:()=>[ac]},overrides:O};return()=>g()?I():q()},hue=(s,l,h)=>{const g=()=>({type:"node",root:Za(oa(s())),node:ee.from(s()),layouts:{onRtl:()=>[zh],onLtr:()=>[zh]}}),E=()=>({type:"hotspot",hotspot:l(),layouts:{onRtl:()=>[lc],onLtr:()=>[lc]}});return()=>h()?g():E()},fue=(s,l)=>()=>({type:"selection",root:l(),getSelection:()=>{const h=s.selection.getRng(),g=s.model.table.getSelectedCells();if(g.length>1){const E=g[0],O=g[g.length-1],I={firstCell:po.fromDom(E),lastCell:po.fromDom(O)};return ee.some(I)}return ee.some(iu.range(po.fromDom(h.startContainer),h.startOffset,po.fromDom(h.endContainer),h.endOffset))}}),pue=s=>l=>({type:"node",root:s(),node:l}),mue=(s,l,h,g)=>{const E=QA(s),O=()=>po.fromDom(s.getBody()),I=()=>po.fromDom(s.getContentAreaContainer()),q=()=>E||!g();return{inlineDialog:uue(I,l,q),inlineBottomDialog:due(s.inline,I,h,q),banner:hue(I,l,q),cursor:fue(s,O),node:pue(O)}},gue=s=>(l,h)=>{HG(s)(l,h)},PSe=s=>()=>vN(s),vue=s=>l=>mN(s,l),uK=s=>l=>DG(s,l),dK=s=>({colorPicker:gue(s),hasCustomColors:PSe(s),getColors:vue(s),getColorCols:uK(s)}),BN=s=>()=>xW(s),hK=s=>({isDraggableModal:BN(s)}),yue=s=>{const l=Wt(xV(s)?"bottom":"top");return{isPositionedAtTop:()=>l.get()==="top",getDockingMode:l.get,setDockingMode:l.set}},fK=s=>en(s,"items"),pK=s=>en(s,"format"),mK=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],bue=s=>Zt(s,"items"),Sue=s=>Zt(s,"block"),Cue=s=>Zt(s,"inline"),gK=s=>Zt(s,"selector"),G$=s=>Oo(s,(l,h)=>{if(bue(h)){const g=G$(h.items);return{customFormats:l.customFormats.concat(g.customFormats),formats:l.formats.concat([{title:h.title,items:g.formats}])}}else if(Cue(h)||Sue(h)||gK(h)){const E=`custom-${v(h.name)?h.name:h.title.toLowerCase()}`;return{customFormats:l.customFormats.concat([{name:E,format:h}]),formats:l.formats.concat([{title:h.title,format:E,icon:h.icon}])}}else return{...l,formats:l.formats.concat(h)}},{customFormats:[],formats:[]}),Eue=(s,l)=>{const h=G$(l),g=E=>{un(E,O=>{s.formatter.has(O.name)||s.formatter.register(O.name,O.format)})};return s.formatter?g(h.customFormats):s.on("init",()=>{g(h.customFormats)}),h.formats},q$=s=>dW(s).map(l=>{const h=Eue(s,l);return hW(s)?mK.concat(h):h}).getOr(mK),wue=s=>{const l=io(s);return l.length===1&&tn(l,"title")},vK=(s,l,h)=>({...s,type:"formatter",isSelected:l(s.format),getStylePreview:h(s.format)}),yK=(s,l,h,g)=>{const E=Y=>vK(Y,h,g),O=Y=>{const oe=q(Y.items);return{...Y,type:"submenu",getStyleItems:V(oe)}},I=Y=>{const oe=v(Y.name)?Y.name:wo(Y.title),he=`custom-${oe}`,ve={...Y,type:"formatter",format:he,isSelected:h(he),getStylePreview:g(he)};return s.formatter.register(oe,ve),ve},q=Y=>Dt(Y,oe=>fK(oe)?O(oe):pK(oe)?E(oe):wue(oe)?{...oe,type:"separator"}:I(oe));return q(l)},A_=s=>{const l=q=>()=>s.formatter.match(q),h=q=>()=>{const Y=s.formatter.get(q);return Y!==void 0?ee.some({tag:Y.length>0&&(Y[0].inline||Y[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(q))}):ee.none()},g=Wt([]),E=Wt([]),O=Wt(!1);return s.on("PreInit",q=>{const Y=q$(s),oe=yK(s,Y,l,h);g.set(oe)}),s.on("addStyleModifications",q=>{const Y=yK(s,q.items,l,h);E.set(Y),O.set(q.replace)}),{getData:()=>{const q=O.get()?[]:g.get(),Y=E.get();return q.concat(Y)}}},bK=s=>{let g=0;const E=()=>g>0,O=q=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[va(q.tooltipText)]}];return{getConfig:q=>({delayForShow:()=>E()?60:300,delayForHide:V(300),exclusive:!0,lazySink:s,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:O(q),onShow:(Y,oe)=>{g++,q.onShow&&q.onShow(Y,oe)},onHide:(Y,oe)=>{g--,q.onHide&&q.onHide(Y,oe)},onSetup:q.onSetup}),getComponents:O}},QR=s=>z(s)&&s.nodeType===1,FN=aS.trim,K$=s=>l=>!!(QR(l)&&(l.contentEditable===s||l.getAttribute("data-mce-contenteditable")===s)),SK=K$("true"),CK=K$("false"),_ue=(s,l,h,g,E)=>({type:s,title:l,url:h,level:g,attach:E}),Tue=s=>{let l=s;for(;l=l.parentNode;){const h=l.contentEditable;if(h&&h!=="inherit")return SK(l)}return!1},Aue=(s,l)=>Dt(Ai(po.fromDom(l),s),h=>h.dom),EK=s=>s.innerText||s.textContent,xue=s=>s.id?s.id:wo("h"),Oue=s=>s&&s.nodeName==="A"&&(s.id||s.name)!==void 0,Iue=s=>Oue(s)&&Sx(s),x_=s=>s&&/^(H[1-6])$/.test(s.nodeName),Sx=s=>Tue(s)&&!CK(s),Z$=s=>x_(s)&&Sx(s),Rue=s=>x_(s)?parseInt(s.nodeName.substr(1),10):0,kue=s=>{const l=xue(s),h=()=>{s.id=l};return _ue("header",EK(s)??"","#"+l,Rue(s),h)},Y$=s=>{const l=s.id||s.name,h=EK(s);return _ue("anchor",h||"#"+l,"#"+l,0,se)},Due=s=>Dt(Vo(s,Z$),kue),ek=s=>Dt(Vo(s,Iue),Y$),wK=s=>Aue("h1,h2,h3,h4,h5,h6,a:not([href])",s),Mue=s=>FN(s.title).length>0,Pue={find:s=>{const l=wK(s);return Vo(Due(l).concat(ek(l)),Mue)}},VN="tinymce-url-history",_K=5,TK=s=>v(s)&&/^https?/.test(s),AK=s=>x(s)&&s.length<=_K&&pt(s,TK),X$=s=>S(s)&&Pt(s,l=>!AK(l)).isNone(),HN=()=>{const s=S_.getItem(VN);if(s===null)return{};let l;try{l=JSON.parse(s)}catch(h){if(h instanceof SyntaxError)return console.log("Local storage "+VN+" was not valid JSON",h),{};throw h}return X$(l)?l:(console.log("Local storage "+VN+" was not valid format",l),{})},Nue=s=>{if(!X$(s))throw new Error(`Bad format for history:
`+JSON.stringify(s));S_.setItem(VN,JSON.stringify(s))},$N=s=>{const l=HN();return wt(l,s).getOr([])},UN=(s,l)=>{if(!TK(s))return;const h=HN(),g=wt(h,l).getOr([]),E=Vo(g,O=>O!==s);h[l]=[s].concat(E).slice(0,_K),Nue(h)},J$=s=>!!s,Lue=s=>Wo(aS.makeMap(s,/[, ]/),J$),Q$=s=>ee.from(SW(s)),Bue=s=>{const l=ee.from(wW(s)).filter(J$).map(Lue);return Q$(s).fold(ct,h=>l.fold(St,g=>io(g).length>0?g:!1))},Fue=(s,l)=>{const h=Bue(s);return B(h)?h?Q$(s):ee.none():h[l]?Q$(s):ee.none()},eU=(s,l)=>Fue(s,l).map(h=>g=>es.nu(E=>{const O=(q,Y)=>{if(!v(q))throw new Error("Expected value to be string");if(Y!==void 0&&!S(Y))throw new Error("Expected meta to be a object");E({value:q,meta:Y})},I={filetype:l,fieldname:g.fieldname,...ee.from(g.meta).getOr({})};h.call(s,O,g.value,I)})),xK=s=>ee.from(s).filter(v).getOrUndefined(),tU=s=>_W(s)?ee.some({targets:Pue.find(s.getBody()),anchorTop:xK(TW(s)),anchorBottom:xK(AW(s))}):ee.none(),Vue=s=>ee.from(CW(s)),nU=s=>({getHistory:$N,addToHistory:UN,getLinkInformation:()=>tU(s),getValidationHandler:()=>Vue(s),getUrlPicker:l=>eU(s,l)}),Hue=(s,l,h,g)=>{const E=Wt(!1),O=yue(l),I={icons:()=>l.ui.registry.getAll().icons,menuItems:()=>l.ui.registry.getAll().menuItems,translate:Sd.translate,isDisabled:()=>!l.ui.isEnabled(),getOption:l.options.get,tooltips:bK(s.dialog),checkUiComponentContext:ot=>{if(uv(l))return{contextType:"disabled",shouldDisable:!0};const[_t,Lt=""]=ot.split(":"),an=l.ui.registry.getAll().contexts,hn=wt(an,_t).fold(()=>wt(an,"mode").map(vo=>vo("design")).getOr(!1),vo=>Lt.charAt(0)==="!"?!vo(Lt.slice(1)):vo(Lt));return{contextType:_t,shouldDisable:!hn}}},q=nU(l),Y=A_(l),oe=dK(l),he=hK(l),ve=()=>E.get(),Me=ot=>E.set(ot),Ge={shared:{providers:I,anchors:mue(l,h,g,O.isPositionedAtTop),header:O},urlinput:q,styles:Y,colorinput:oe,dialog:he,isContextMenuOpen:ve,setContextMenuState:Me},Ze=ot=>ee.none(),at={...Ge,shared:{...Ge.shared,interpreter:ot=>cK(ot,{},at,Ze),getSink:s.popup}},yt={...Ge,shared:{...Ge.shared,interpreter:ot=>cK(ot,{},yt,Ze),getSink:s.dialog}};return{popup:at,dialog:yt}},$ue={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},Uue=s=>{console.warn($ue[s],new Error().stack)},zue=(s,l,h)=>{const g=(Gn,Es)=>{un([l,...h],os=>{os.broadcastEvent(Gn,Es)})},E=(Gn,Es)=>{un([l,...h],os=>{os.broadcastOn([Gn],Es)})},O=Gn=>E(Cb(),{target:Gn.target}),I=Gn=>{E(fw(),{closedTooltip:()=>{Gn.preventDefault()}})},q=Gl(),Y=si(q,"touchstart",O),oe=si(q,"touchmove",Gn=>g(tC(),Gn)),he=si(q,"touchend",Gn=>g(DT(),Gn)),ve=si(q,"mousedown",O),Me=si(q,"mouseup",Gn=>{Gn.raw.button===0&&E(Qv(),{target:Gn.target})}),Ge=Gn=>E(Cb(),{target:po.fromDom(Gn.target)}),Ze=Gn=>{Gn.button===0&&E(Qv(),{target:po.fromDom(Gn.target)})},at=()=>{un(s.editorManager.get(),Gn=>{s!==Gn&&Gn.dispatch("DismissPopups",{relatedTarget:s})})},yt=Gn=>g(pb(),Du(Gn)),ot=Gn=>{E(gd(),{}),g(mb(),Du(Gn))},_t=oa(po.fromDom(s.getElement())),Lt=Nd(_t,"scroll",Gn=>{requestAnimationFrame(()=>{const Es=s.getContainer();if(Es!=null){const Dr=HC(s,l.element).map(ks=>[ks.element,...ks.others]).getOr([]);eo(Dr,ks=>Ie(ks,Gn.target))&&(s.dispatch("ElementScroll",{target:Gn.target.dom}),g(PT(),Gn))}})}),an=()=>E(gd(),{}),hn=Gn=>{Gn.state&&E(Cb(),{target:po.fromDom(s.getContainer())})},vo=Gn=>{E(Cb(),{target:po.fromDom(Gn.relatedTarget.getContainer())})},Vn=Gn=>s.dispatch("focusin",Gn),Qn=Gn=>s.dispatch("focusout",Gn);s.on("PostRender",()=>{s.on("click",Ge),s.on("tap",Ge),s.on("mouseup",Ze),s.on("mousedown",at),s.on("ScrollWindow",yt),s.on("ResizeWindow",ot),s.on("ResizeEditor",an),s.on("AfterProgressState",hn),s.on("DismissPopups",vo),s.on("CloseActiveTooltips",I),un([l,...h],Gn=>{Gn.element.dom.addEventListener("focusin",Vn),Gn.element.dom.addEventListener("focusout",Qn)})}),s.on("remove",()=>{s.off("click",Ge),s.off("tap",Ge),s.off("mouseup",Ze),s.off("mousedown",at),s.off("ScrollWindow",yt),s.off("ResizeWindow",ot),s.off("ResizeEditor",an),s.off("AfterProgressState",hn),s.off("DismissPopups",vo),s.off("CloseActiveTooltips",I),un([l,...h],Gn=>{Gn.element.dom.removeEventListener("focusin",Vn),Gn.element.dom.removeEventListener("focusout",Qn)}),ve.unbind(),Y.unbind(),oe.unbind(),he.unbind(),Me.unbind(),Lt.unbind()}),s.on("detach",()=>{un([l,...h],XD),un([l,...h],Gn=>Gn.destroy())})},BSe=se,FSe=ct,oU=V([]);var jue=Object.freeze({__proto__:null,setup:BSe,isDocked:FSe,getBehaviours:oU});const zN=V(wo("toolbar-height-change")),P0={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},OK="tox-tinymce--toolbar-sticky-on",IK="tox-tinymce--toolbar-sticky-off",Wue=(s,l)=>{const h=vt(l),E=Ln(l).dom.innerHeight,O=Ha(h),I=po.fromDom(s.elm),q=ip(I),Y=_l(I),oe=q.y,he=oe+Y,ve=Bc(l),Me=_l(l),Ge=ve.top,Ze=Ge+Me,at=Math.abs(Ge-O.top)<2,yt=Math.abs(Ze-(O.top+E))<2;if(at&&oe<Ze)Fd(O.left,oe-Me,h);else if(yt&&he>Ge){const ot=oe-E+Y+Me;Fd(O.left,ot,h)}},jN=(s,l)=>tn(nl.getModes(s),l),WN=s=>{const l=g=>Tl(g)+(parseInt(aa(g,"margin-top"),10)||0)+(parseInt(aa(g,"margin-bottom"),10)||0),h=s.element;ys(h).each(g=>{const E="padding-"+nl.getModes(s)[0];if(nl.isDocked(s)){const O=Sc(g);Ds(h,"width",O+"px"),Ds(g,E,l(h)+"px")}else wr(h,"width"),wr(g,E)})},RK=(s,l)=>{l?(ui(s,P0.fadeOutClass),Hh(s,[P0.transitionClass,P0.fadeInClass])):(ui(s,P0.fadeInClass),Hh(s,[P0.fadeOutClass,P0.transitionClass]))},kK=(s,l)=>{const h=po.fromDom(s.getContainer());l?(Ti(h,OK),ui(h,IK)):(Ti(h,IK),ui(h,OK))},Gue=(s,l)=>{const h=vt(l);ql(h).filter(g=>!Ie(l,g)).filter(g=>Ie(g,po.fromDom(h.dom.body))||Be(s,g)).each(()=>ra(l))},VSe=(s,l)=>Ya(s).orThunk(()=>l().toOptional().bind(h=>Ya(h.element))),HSe=(s,l,h)=>{s.inline||(l.header.isPositionedAtTop()||s.on("ResizeEditor",()=>{h().each(nl.reset)}),s.on("ResizeWindow ResizeEditor",()=>{h().each(WN)}),s.on("SkinLoaded",()=>{h().each(g=>{nl.isDocked(g)?nl.reset(g):nl.refresh(g)})}),s.on("FullscreenStateChanged",()=>{h().each(nl.reset)})),s.on("AfterScrollIntoView",g=>{h().each(E=>{nl.refresh(E);const O=E.element;Up(O)&&Wue(g,O)})}),s.on("PostRender",()=>{kK(s,!1)})},DK=s=>s().map(nl.isDocked).getOr(!1),MK=()=>[um.config({channels:{[zN()]:{onReceive:WN}}})],PK=(s,l)=>{const h=As(),g=l.getSink,E=q=>{g().each(Y=>q(Y.element))},O=q=>{s.inline||WN(q),kK(s,nl.isDocked(q)),q.getSystem().broadcastOn([gd()],{}),g().each(Y=>Y.getSystem().broadcastOn([gd()],{}))},I=s.inline?[]:MK();return[qs.config({}),nl.config({contextual:{lazyContext:q=>{const Y=Tl(q.element),oe=s.inline?s.getContentAreaContainer():s.getContainer();return ee.from(oe).map(he=>{const ve=Fl(po.fromDom(he));return HC(s,q.element).fold(()=>{const Ge=ve.height-Y,Ze=ve.y+(jN(q,"top")?0:Y);return Gr(ve.x,Ze,ve.width,Ge)},Ge=>{const Ze=Vd(ve,Qw(Ge)),at=jN(q,"top")?Ze.y:Ze.y+Y;return Gr(Ze.x,at,Ze.width,Ze.height-Y)})})},onShow:()=>{E(q=>RK(q,!0))},onShown:q=>{E(Y=>Ic(Y,[P0.transitionClass,P0.fadeInClass])),h.get().each(Y=>{Gue(q.element,Y),h.clear()})},onHide:q=>{VSe(q.element,g).fold(h.clear,h.set),E(Y=>RK(Y,!1))},onHidden:()=>{E(q=>Ic(q,[P0.transitionClass]))},...P0},lazyViewport:q=>HC(s,q.element).fold(()=>{const oe=Fu(),he=yW(s),ve=oe.y+(jN(q,"top")&&!SR(s)?he:0),Me=oe.height-(jN(q,"bottom")?he:0);return{bounds:Gr(oe.x,ve,oe.width,Me),optScrollEnv:ee.none()}},oe=>({bounds:Qw(oe),optScrollEnv:ee.some({currentScrollTop:oe.element.dom.scrollTop,scrollElmTop:Bc(oe.element).top})})),modes:[l.header.getDockingMode()],onDocked:O,onUndocked:O}),...I]};var que=Object.freeze({__proto__:null,setup:HSe,isDocked:DK,getBehaviours:PK});const cg=s=>{const l=s.editor,h=s.sticky?PK:oU;return{uid:s.uid,dom:s.dom,components:s.components,behaviours:ho(h(l,s.sharedBackstage))}};var GN=og({factory:(s,l)=>{const h=(E,O)=>{const I=Dt(O,q=>{const Y={type:"menubutton",text:q.text,fetch:he=>{he(q.getItems())},context:"any"},oe=R9(Y).mapError(he=>up(he)).getOrDie();return yx(oe,"tox-mbtn",l.backstage,ee.some("menuitem"))});Xs.set(E,I)},g={focus:ls.focusIn,setMenus:h};return{uid:s.uid,dom:s.dom,components:[],behaviours:ho([Xs.config({}),Gs("menubar-events",[Ta(E=>{s.onSetup(E)}),En(yf(),(E,O)=>{ii(E.element,".tox-mbtn--active").each(I=>{bl(O.event.target,".tox-mbtn").each(q=>{Ie(I,q)||E.getSystem().getByDom(I).each(Y=>{E.getSystem().getByDom(q).each(oe=>{kf.expand(oe),kf.close(Y),qs.focus(oe)})})})})}),En(h0(),(E,O)=>{O.event.prevFocus.bind(I=>E.getSystem().getByDom(I).toOptional()).each(I=>{O.event.newFocus.bind(q=>E.getSystem().getByDom(q).toOptional()).each(q=>{kf.isOpen(I)&&(kf.expand(q),kf.close(I))})})})]),ls.config({mode:"flow",selector:".tox-mbtn",onEscape:E=>(s.onEscape(E),ee.some(!0))}),ya.config({})]),apis:g,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Nn("dom"),Nn("uid"),Nn("onEscape"),Nn("backstage"),nn("onSetup",se)],apis:{focus:(s,l)=>{s.focus(l)},setMenus:(s,l,h)=>{s.setMenus(l,h)}}});const NK=" Get all features",Kue="https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",tk=s=>{const l=s.promotionLink?[{dom:{tag:"a",attributes:{href:Kue,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:NK}}]:[];return{uid:s.uid,dom:s.dom,components:l}},Zue=s=>{const{sidebars:l}=s.ui.registry.getAll();un(io(l),h=>{const g=l[h],E=()=>Pc(ee.from(s.queryCommandValue("ToggleSidebar")),h);s.ui.registry.addToggleButton(h,{icon:g.icon,tooltip:g.tooltip,onAction:O=>{s.execCommand("ToggleSidebar",!1,h),O.setActive(E())},onSetup:O=>{O.setActive(E());const I=()=>O.setActive(E());return s.on("ToggleSidebar",I),()=>{s.off("ToggleSidebar",I)}},context:"any"})})},qN=s=>({element:()=>s.element.dom}),Yue=(s,l)=>{const h=Dt(io(l),g=>{const E=l[g],O=cp(kH(E));return{name:g,getApi:qN,onSetup:O.onSetup,onShow:O.onShow,onHide:O.onHide}});return Dt(h,g=>{const E=Wt(se);return s.slot(g.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:cx.unnamedEvents([Ob(g,E),m_(g,E),En(y1(),(O,I)=>{const q=I.event;xt(h,oe=>oe.name===q.name).each(oe=>{(q.visible?oe.onShow:oe.onHide)(oe.getApi(O))})})])})})},KN=s=>Kd.sketch(l=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:Yue(l,s),slotBehaviours:cx.unnamedEvents([Ta(h=>Kd.hideAllSlots(h))])})),Xue=(s,l,h)=>{yn.getCurrent(s).each(E=>{Xs.set(E,[KN(l)]);const O=h?.toLowerCase();v(O)&&Zt(l,O)&&yn.getCurrent(E).each(I=>{Kd.showSlot(I,O),zc.immediateGrow(E),wr(E.element,"width"),ZN(s.element,"region")})})},ZN=(s,l)=>{gs(s,"role",l)},mv=(s,l)=>{yn.getCurrent(s).each(g=>{yn.getCurrent(g).each(O=>{zc.hasGrown(g)?Kd.isShowing(O,l)?(zc.shrink(g),ZN(s.element,"presentation")):(Kd.hideAllSlots(O),Kd.showSlot(O,l),ZN(s.element,"region")):(Kd.hideAllSlots(O),Kd.showSlot(O,l),zc.grow(g),ZN(s.element,"region"))})})},Jue=s=>yn.getCurrent(s).bind(h=>zc.isGrowing(h)||zc.hasGrown(h)?yn.getCurrent(h).bind(O=>xt(Kd.getSlotNames(O),I=>Kd.isShowing(O,I))):ee.none()),Cx=wo("FixSizeEvent"),YN=wo("AutoSizeEvent"),LK=s=>({uid:s.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ho([ya.config({}),qs.config({}),zc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:l=>{yn.getCurrent(l).each(Kd.hideAllSlots),_r(l,YN)},onGrown:l=>{_r(l,YN)},onStartGrow:l=>{bs(l,Cx,{width:fa(l.element,"width").getOr("")})},onStartShrink:l=>{bs(l,Cx,{width:Sc(l.element)+"px"})}}),Xs.config({}),yn.config({find:l=>{const h=Xs.contents(l);return Et(h)}})])}],behaviours:ho([Sy.childAt(0),Gs("sidebar-sliding-events",[En(Cx,(l,h)=>{Ds(l.element,"width",h.event.width)}),En(YN,(l,h)=>{wr(l.element,"width")})])])}),Que=s=>(l,h)=>({dom:{tag:"div",attributes:{"aria-label":s.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:J1('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),sU=s=>yn.getCurrent(s).each(l=>ra(l.element,!0)),ede=(s,l)=>{const h="tabindex",g=`data-mce-${h}`;ee.from(s.iframeElement).map(po.fromDom).each(E=>{l?(lr(E,h).each(O=>gs(E,g,O)),gs(E,h,-1)):(ia(E,h),lr(E,g).each(O=>{gs(E,h,O),ia(E,g)}))})},tde=(s,l,h,g)=>{const E=l.element;if(ede(s,h),h)zn.block(l,Que(g)),wr(E,"display"),ia(E,"aria-hidden"),s.hasFocus()&&sU(l);else{const O=yn.getCurrent(l).exists(I=>Lh(I.element));zn.unblock(l),Ds(E,"display","none"),gs(E,"aria-hidden","true"),O&&s.focus()}},nde=s=>({uid:s.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ho([Xs.config({}),zn.config({focus:!1}),yn.config({find:l=>Et(l.components())})]),components:[]}),ode=s=>s.type==="focusin",sde=s=>ode(s)?(s.composed?Et(s.composedPath()):ee.from(s.target)).map(po.fromDom).filter(xc).exists(h=>Xa(h,"mce-pastebin")):!1,rde=(s,l,h)=>{const g=Wt(!1),E=As(),O=q=>{g.get()&&!sde(q)&&(q.preventDefault(),sU(l()),s.editorManager.setActive(s))};s.inline||s.on("PreInit",()=>{s.dom.bind(s.getWin(),"focusin",O),s.on("BeforeExecCommand",q=>{q.command.toLowerCase()==="mcefocus"&&q.value!==!0&&O(q)})});const I=q=>{q!==g.get()&&(g.set(q),tde(s,l(),q,h.providers),_G(s,q))};s.on("ProgressState",q=>{if(E.on(clearTimeout),te(q.time)){const Y=LP.setEditorTimeout(s,()=>I(q.state),q.time);E.set(Y)}else I(q.state),E.clear()})},BK=s=>{const l=s.label.isNone()?s.title.fold(()=>({}),h=>({attributes:{"aria-label":h}})):s.label.fold(()=>({}),h=>({attributes:{"aria-label":h}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(s.label.isSome()?["tox-toolbar__group_with_label"]:[]),...l},components:[...s.label.map(h=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[va(h)]})).toArray(),pR.parts.items({})],items:s.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:ho([ya.config({}),qs.config({ignore:!0})])}},nk=s=>pR.sketch(BK(s)),rU=(s,l)=>{const h=Ta(g=>{const E=Dt(s.initGroups,nk);bd.setGroups(g,E)});return ho([by.toolbarButton(()=>s.providers.checkUiComponentContext("any").shouldDisable),Ec(()=>s.providers.checkUiComponentContext("any")),ls.config({mode:l,onEscape:s.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),Gs("toolbar-events",[h])])},iU=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return{uid:s.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":BK({title:ee.none(),label:ee.none(),items:[]}),"overflow-button":qq({context:"any",icon:ee.some("more-drawer"),enabled:!0,tooltip:ee.some("Reveal or hide additional toolbar items")},ee.none(),s.providers,[],"overflow-button")},splitToolbarBehaviours:rU(s,l)}},ide=s=>{const l=iU(s),h=4,g=rW.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return rW.sketch({...l,lazySink:s.getSink,getOverflowBounds:()=>{const E=s.moreDrawerData.lazyHeader().element,O=ip(E),I=kn(E),q=ip(I),Y=Math.max(I.dom.scrollHeight,q.height);return Gr(O.x+h,q.y,O.width-h*2,Y)},parts:{...l.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s.attributes}}},components:[g],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:E=>s.onToggled(E,!0),onClosed:E=>s.onToggled(E,!1)})},FK=s=>{const l=RP.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),h=RP.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),g=iU(s);return RP.sketch({...g,components:[l,h],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:E=>{E.getSystem().broadcastOn([zN()],{type:"opened"}),s.onToggled(E,!0)},onClosed:E=>{E.getSystem().broadcastOn([zN()],{type:"closed"}),s.onToggled(E,!1)}})},XN=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return bd.sketch({uid:s.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(s.type===sg.scrolling?["tox-toolbar--scrolling"]:[])},components:[bd.parts.groups({})],toolbarBehaviours:rU(s,l)})},ade=(s,l)=>{const h=s.type==="togglebutton",g=s.icon.map(ot=>kb(ot,l.icons)).map(pi),O=ot=>{const _t=vo=>{g.map(Vn=>Vn.getOpt(ot).each(Qn=>{Xs.set(Qn,[kb(vo,l.icons)])}))},Lt=vo=>{const Vn=ot.element;vo?(Ti(Vn,"tox-button--enabled"),gs(Vn,"aria-pressed",!0)):(ui(Vn,"tox-button--enabled"),ia(Vn,"aria-pressed"))},an=()=>Xa(ot.element,"tox-button--enabled"),hn=()=>ra(ot.element);if(h)return s.onAction({setIcon:_t,setActive:Lt,isActive:an,focus:hn});if(s.type==="button")return s.onAction({setIcon:_t})},I={...s,name:h?s.text.getOr(s.icon.getOr("")):s.text??s.icon.getOr(""),primary:s.buttonType==="primary",buttonType:ee.from(s.buttonType),tooltip:s.tooltip,icon:s.icon,enabled:!0,borderless:s.borderless},q=F$(s.buttonType??"secondary"),Y=h?s.text.map(l.translate):ee.some(l.translate(s.text)),oe=Y.map(va),he=I.tooltip.or(Y).map(ot=>({"aria-label":l.translate(ot)})).getOr({}),ve=g.map(ot=>ot.asSpec()),Me=ux([ve,oe]),Ge=s.icon.isSome()&&oe.isSome(),Ze={tag:"button",classes:q.concat(...s.icon.isSome()&&!Ge?["tox-button--icon"]:[]).concat(...Ge?["tox-button--icon-and-text"]:[]).concat(...s.borderless?["tox-button--naked"]:[]).concat(...s.type==="togglebutton"&&s.active?["tox-button--enabled"]:[]),attributes:he},at=[],yt=XR(I,ee.some(O),at,Ze,Me,s.tooltip,l);return yd.sketch(yt)},aU=(s,l)=>ade(s,l),VK=(s,l)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Dt(s.buttons,h=>aU(h,l))}),lU=Gi().deviceType,lde=lU.isPhone(),cde=lU.isTablet(),ude=s=>{let l=!1;const h=Dt(s.buttons,g=>g.type==="group"?(l=!0,VK(g,s.providers)):aU(g,s.providers));return{uid:s.uid,dom:{tag:"div",classes:[l?"tox-view__toolbar":"tox-view__header",...lde||cde?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:ho([qs.config({}),ls.config({mode:"flow",selector:"button, .tox-button",focusInside:Cf.OnEnterOrSpaceMode})]),components:l?h:[xb.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),xb.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:h})]}},HK=s=>({uid:s.uid,behaviours:ho([qs.config({}),ya.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),dde=(s,l,h,g)=>{const E={getPane:O=>jc.getPart(O,s,"pane"),getOnShow:O=>s.viewConfig.onShow,getOnHide:O=>s.viewConfig.onHide};return{uid:s.uid,dom:s.dom,components:l,behaviours:ho([qs.config({}),ls.config({mode:"cyclic",focusInside:Cf.OnEnterOrSpaceMode})]),apis:E}};var Ex=If({name:"silver.View",configFields:[Nn("viewConfig")],partFields:[C({factory:{sketch:ude},schema:[Nn("buttons"),Nn("providers")],name:"header"}),C({factory:{sketch:HK},schema:[],name:"pane"})],factory:dde,apis:{getPane:(s,l)=>s.getPane(l),getOnShow:(s,l)=>s.getOnShow(l),getOnHide:(s,l)=>s.getOnHide(l)}});const hde=(s,l,h)=>Je(l,(g,E)=>{const O=cp(Ale(g));return s.slot(E,Ex.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:O,components:[...O.buttons.length>0?[Ex.parts.header({buttons:O.buttons,providers:h})]:[],Ex.parts.pane({})]}))}),fde=(s,l)=>Kd.sketch(h=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:hde(h,s,l),slotBehaviours:cx.unnamedEvents([Ta(g=>Kd.hideAllSlots(g))])})),$K=s=>xt(Kd.getSlotNames(s),l=>Kd.isShowing(s,l)),pde=s=>{const l=s.element;Ds(l,"display","none"),gs(l,"aria-hidden","true")},mde=s=>{const l=s.element;wr(l,"display"),ia(l,"aria-hidden")},gde=s=>({getContainer:V(s)}),UK=(s,l,h)=>{Kd.getSlot(s,l).each(g=>{Ex.getPane(g).each(E=>{h(g)(gde(E.element.dom))})})},vde=(s,l)=>UK(s,l,Ex.getOnShow),cU=(s,l)=>UK(s,l,Ex.getOnHide);var JN=og({factory:(s,l)=>{const O={setViews:(I,q)=>{Xs.set(I,[fde(q,l.backstage.shared.providers)])},whichView:I=>yn.getCurrent(I).bind($K),toggleView:(I,q,Y,oe)=>yn.getCurrent(I).exists(he=>{const ve=$K(he),Me=ve.exists(Ze=>oe===Ze),Ge=Kd.getSlot(he,oe).isSome();return Ge&&(Kd.hideAllSlots(he),Me?(pde(I),q()):(Y(),mde(I),Kd.showSlot(he,oe),vde(he,oe)),ve.each(Ze=>cU(he,Ze))),Ge})};return{uid:s.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:ho([Xs.config({}),yn.config({find:I=>{const q=Xs.contents(I);return Et(q)}})]),apis:O}},name:"silver.ViewWrapper",configFields:[Nn("backstage")],apis:{setViews:(s,l,h)=>s.setViews(l,h),toggleView:(s,l,h,g,E)=>s.toggleView(l,h,g,E),whichView:(s,l)=>s.whichView(l)}});const zK=(s,l,h)=>{let g=!1;const E=I=>{Dm(I,".tox-statusbar").each(q=>{aa(q,"display")==="none"&&gl(q,"aria-hidden")==="true"?(wr(q,"display"),ia(q,"aria-hidden")):(Ds(q,"display","none"),gs(q,"aria-hidden","true"))})},O={getSocket:I=>jc.getPart(I,s,"socket"),setSidebar:(I,q,Y)=>{jc.getPart(I,s,"sidebar").each(oe=>Xue(oe,q,Y))},toggleSidebar:(I,q)=>{jc.getPart(I,s,"sidebar").each(Y=>mv(Y,q))},whichSidebar:I=>jc.getPart(I,s,"sidebar").bind(Jue).getOrNull(),getHeader:I=>jc.getPart(I,s,"header"),getToolbar:I=>jc.getPart(I,s,"toolbar"),setToolbar:(I,q)=>{jc.getPart(I,s,"toolbar").each(Y=>{const oe=Dt(q,nk);Y.getApis().setGroups(Y,oe)})},setToolbars:(I,q)=>{jc.getPart(I,s,"multiple-toolbar").each(Y=>{const oe=Dt(q,he=>Dt(he,nk));W8.setItems(Y,oe)})},refreshToolbar:I=>{jc.getPart(I,s,"toolbar").each(Y=>Y.getApis().refresh(Y))},toggleToolbarDrawer:I=>{jc.getPart(I,s,"toolbar").each(q=>{pc(q.getApis().toggle,Y=>Y(q))})},toggleToolbarDrawerWithoutFocusing:I=>{jc.getPart(I,s,"toolbar").each(q=>{pc(q.getApis().toggleWithoutFocusing,Y=>Y(q))})},isToolbarDrawerToggled:I=>jc.getPart(I,s,"toolbar").bind(q=>ee.from(q.getApis().isOpen).map(Y=>Y(q))).getOr(!1),getThrobber:I=>jc.getPart(I,s,"throbber"),focusToolbar:I=>{jc.getPart(I,s,"toolbar").orThunk(()=>jc.getPart(I,s,"multiple-toolbar")).each(Y=>{ls.focusIn(Y)})},setMenubar:(I,q)=>{jc.getPart(I,s,"menubar").each(Y=>{GN.setMenus(Y,q)})},focusMenubar:I=>{jc.getPart(I,s,"menubar").each(q=>{GN.focus(q)})},setViews:(I,q)=>{jc.getPart(I,s,"viewWrapper").each(Y=>{JN.setViews(Y,q)})},toggleView:(I,q)=>jc.getPart(I,s,"viewWrapper").exists(Y=>JN.toggleView(Y,()=>O.showMainView(I),()=>O.hideMainView(I),q)),whichView:I=>jc.getPart(I,s,"viewWrapper").bind(JN.whichView).getOrNull(),hideMainView:I=>{g=O.isToolbarDrawerToggled(I),g&&O.toggleToolbarDrawer(I),jc.getPart(I,s,"editorContainer").each(q=>{const Y=q.element;E(Y),Ds(Y,"display","none"),gs(Y,"aria-hidden","true")})},showMainView:I=>{g&&O.toggleToolbarDrawer(I),jc.getPart(I,s,"editorContainer").each(q=>{const Y=q.element;E(Y),wr(Y,"display"),ia(Y,"aria-hidden")})}};return{uid:s.uid,dom:s.dom,components:l,apis:O,behaviours:s.behaviours}},jK=yp.optional({factory:GN,name:"menubar",schema:[Nn("backstage")]}),yde=s=>s.type===sg.sliding?FK:s.type===sg.floating?ide:XN,bde=yp.optional({factory:{sketch:s=>W8.sketch({uid:s.uid,dom:s.dom,listBehaviours:ho([ls.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>XN({type:s.type,uid:wo("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:s.providers,onEscape:()=>(s.onEscape(),ee.some(!0))}),setupItem:(l,h,g,E)=>{bd.setGroups(h,g)},shell:!0})},name:"multiple-toolbar",schema:[Nn("dom"),Nn("onEscape")]}),Sde=yp.optional({factory:{sketch:s=>{const l=yde(s),h={type:s.type,uid:s.uid,onEscape:()=>(s.onEscape(),ee.some(!0)),onToggled:(g,E)=>s.onToolbarToggled(E),cyclicKeying:!1,initGroups:[],getSink:s.getSink,providers:s.providers,moreDrawerData:{lazyToolbar:s.lazyToolbar,lazyMoreButton:s.lazyMoreButton,lazyHeader:s.lazyHeader},attributes:s.attributes};return l(h)}},name:"toolbar",schema:[Nn("dom"),Nn("onEscape"),Nn("getSink")]}),Cde=yp.optional({factory:{sketch:cg},name:"header",schema:[Nn("dom")]}),Ede=yp.optional({factory:{sketch:tk},name:"promotion",schema:[Nn("dom"),Nn("promotionLink")]}),wde=yp.optional({name:"socket",schema:[Nn("dom")]}),WK=yp.optional({factory:{sketch:LK},name:"sidebar",schema:[Nn("dom")]}),QN=yp.optional({factory:{sketch:nde},name:"throbber",schema:[Nn("dom")]}),uU=yp.optional({factory:JN,name:"viewWrapper",schema:[Nn("backstage")]}),_de=s=>({uid:s.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:s.components}),Tde=yp.optional({factory:{sketch:_de},name:"editorContainer",schema:[]});var qi=If({name:"OuterContainer",factory:zK,configFields:[Nn("dom"),Nn("behaviours")],partFields:[Cde,jK,Sde,bde,wde,WK,Ede,QN,uU,Tde],apis:{getSocket:(s,l)=>s.getSocket(l),setSidebar:(s,l,h,g)=>{s.setSidebar(l,h,g)},toggleSidebar:(s,l,h)=>{s.toggleSidebar(l,h)},whichSidebar:(s,l)=>s.whichSidebar(l),getHeader:(s,l)=>s.getHeader(l),getToolbar:(s,l)=>s.getToolbar(l),setToolbar:(s,l,h)=>{s.setToolbar(l,h)},setToolbars:(s,l,h)=>{s.setToolbars(l,h)},refreshToolbar:(s,l)=>s.refreshToolbar(l),toggleToolbarDrawer:(s,l)=>{s.toggleToolbarDrawer(l)},toggleToolbarDrawerWithoutFocusing:(s,l)=>{s.toggleToolbarDrawerWithoutFocusing(l)},isToolbarDrawerToggled:(s,l)=>s.isToolbarDrawerToggled(l),getThrobber:(s,l)=>s.getThrobber(l),setMenubar:(s,l,h)=>{s.setMenubar(l,h)},focusMenubar:(s,l)=>{s.focusMenubar(l)},focusToolbar:(s,l)=>{s.focusToolbar(l)},setViews:(s,l,h)=>{s.setViews(l,h)},toggleView:(s,l,h)=>s.toggleView(l,h),whichView:(s,l)=>s.whichView(l)}});const Ade="file edit view insert format tools table help",GK={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image video link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},xde=(s,l,h)=>{const g=mW(h).split(/[ ,]/);return{text:s.title,getItems:()=>qe(s.items,E=>{const O=E.toLowerCase();return O.trim().length===0?[]:eo(g,I=>I===O)?[]:O==="separator"||O==="|"?[{type:"separator"}]:l.menuItems[O]?[l.menuItems[O]]:[]})}},eL=s=>s.split(" "),qK=(s,l)=>{const h={...GK,...l.menus},g=io(l.menus).length>0,E=l.menubar===void 0||l.menubar===!0?eL(Ade):eL(l.menubar===!1?"":l.menubar),O=Vo(E,q=>{const Y=Zt(GK,q);return g?Y||wt(l.menus,q).exists(oe=>Zt(oe,"items")):Y}),I=Dt(O,q=>{const Y=h[q];return xde({title:Y.title,items:eL(Y.items)},l,s)});return Vo(I,q=>{const Y=oe=>v(oe)||oe.type!=="separator";return q.getItems().length>0&&eo(q.getItems(),Y)})},Ode=s=>{const l=()=>{s._skinLoaded=!0,Ple(s)};return()=>{s.initialized?l():s.on("init",l)}},dU=(s,l)=>()=>Nle(s,{message:l}),Ide=s=>{const l=DW(s);return l?ee.from(l):ee.none()},KK=(s,l,h)=>(s.on("remove",()=>h.unload(l)),h.load(l)),ok=(s,l,h,g)=>(s.on("remove",()=>g.unloadRawCss(l)),g.loadRawCss(l,h)),Rde=(s,l)=>"ui/"+s+"/"+l,ZK=s=>ee.from(tinymce.Resource.get(s)).filter(v),hU=(s,l,h="")=>{const g=Ide(s).map(O=>Rde(O,`${l}.css`)),E=g.bind(ZK);return Tc(g,E,(O,I)=>({_kind:"load-raw",key:O,css:I})).getOrThunk(()=>{const O=s.editorManager.suffix;return{_kind:"load-stylesheet",url:h+`/${l}${O}.css`}})},YK=(s,l)=>{const h=s.ui.styleSheetLoader,g=hU(s,"skin",l);switch(g._kind){case"load-raw":const{key:E,css:O}=g;return ok(s,E,O,h),Promise.resolve();case"load-stylesheet":const{url:I}=g;return KK(s,I,h);default:return Promise.resolve()}},kde=(s,l)=>{if(Ph(po.fromDom(s.getElement()))){const g=mR.DOM.styleSheetLoader,E=hU(s,"skin.shadowdom",l);switch(E._kind){case"load-raw":const{key:O,css:I}=E;return ok(s,O,I,g),Promise.resolve();case"load-stylesheet":const{url:q}=E;return KK(s,q,g);default:return Promise.resolve()}}else return Promise.resolve()},Dde=(s,l,h)=>{const E=hU(s,l?"content.inline":"content",h);switch(E._kind){case"load-raw":const{key:O,css:I}=E;return l?ok(s,O,I,s.ui.styleSheetLoader):s.on("PostRender",()=>{ok(s,O,I,s.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:q}=E;return h&&s.contentCSS.push(q),Promise.resolve();default:return Promise.resolve()}},Mde=async(s,l)=>{const h=MW(l);if(await Dde(l,s,h),!TV(l)&&v(h))return Promise.all([YK(l,h),kde(l,h)]).then()},fU=(s,l)=>Mde(s,l).then(Ode(l),dU(l,"Skin could not be loaded")),Pde=$e(fU,!1),Nde=$e(fU,!0),XK=s=>({isEnabled:()=>!as.isDisabled(s),setEnabled:l=>as.set(s,!l),setText:l=>bs(s,lg,{text:l}),setIcon:l=>bs(s,__,{icon:l})}),pU=s=>({setActive:l=>{Nr.set(s,l)},isActive:()=>Nr.isOn(s),isEnabled:()=>!as.isDisabled(s),setEnabled:l=>as.set(s,!l),setText:l=>bs(s,lg,{text:l}),setIcon:l=>bs(s,__,{icon:l})}),mU=(s,l)=>s.map(h=>({"aria-label":l.translate(h)})).getOr({}),Lde=wo("focus-button"),gU=(s,l,h,g,E,O,I)=>{const q=l.map(oe=>pi(Nq(oe,"tox-tbtn",E))),Y=s.map(oe=>pi(kb(oe,E.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(l.isSome()?["tox-tbtn--select"]:[]),attributes:{...mU(h,E),...z(I)?{"data-mce-name":I}:{}}},components:ux([Y.map(oe=>oe.asSpec()),q.map(oe=>oe.asSpec())]),eventOrder:{[pd()]:["focusing","alloy.base.behaviour",XC],[tm()]:[XC,"toolbar-group-button-events"],[qg()]:[XC,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:ho([by.toolbarButton(()=>E.checkUiComponentContext(O).shouldDisable),Ec(()=>E.checkUiComponentContext(O)),Gs(XC,[Ta((oe,he)=>T$(oe)),En(lg,(oe,he)=>{q.bind(ve=>ve.getOpt(oe)).each(ve=>{Xs.set(ve,[va(E.translate(he.event.text))])})}),En(__,(oe,he)=>{Y.bind(ve=>ve.getOpt(oe)).each(ve=>{Xs.set(ve,[kb(he.event.icon,E.icons)])})}),En(pd(),(oe,he)=>{he.event.prevent(),_r(oe,Lde)})])].concat(g.getOr([])))}},Bde=(s,l,h,g,E)=>{const O=l.shared,I=Wt(se),q={toolbarButtonBehaviours:[],getApi:XK,onSetup:s.onSetup},Y=[Gs("toolbar-group-button-events",[Ob(q,I),m_(q,I)]),...s.tooltip.map(oe=>ba.config(l.shared.providers.tooltips.getConfig({tooltipText:l.shared.providers.translate(oe)}))).toArray()];return x0.sketch({lazySink:O.getSink,fetch:()=>es.nu(oe=>{oe(Dt(h(s.items),nk))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:gU(s.icon,s.text,s.tooltip,ee.some(Y),O.providers,s.context,E),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:g}}}})},JK=(s,l,h,g)=>{const E=Wt(se),O=gU(s.icon,s.text,s.tooltip,ee.none(),h,s.context,g);return yd.sketch({dom:O.dom,components:O.components,eventOrder:_$,buttonBehaviours:{...ho([Gs("toolbar-button-events",[$ce({onAction:s.onAction,getApi:l.getApi}),Ob(l,E),m_(l,E)]),...s.tooltip.map(I=>ba.config(h.tooltips.getConfig({tooltipText:h.translate(I)+s.shortcut.map(q=>` (${LH(q)})`).getOr("")}))).toArray(),by.toolbarButton(()=>!s.enabled||h.checkUiComponentContext(s.context).shouldDisable),Ec(()=>h.checkUiComponentContext(s.context))].concat(l.toolbarButtonBehaviours)),[XC]:O.buttonBehaviours?.[XC]}})},Fde=(s,l,h)=>vU(s,l,[],h),vU=(s,l,h,g)=>JK(s,{toolbarButtonBehaviours:h.length>0?[Gs("toolbarButtonWith",h)]:[],getApi:XK,onSetup:s.onSetup},l,g),Vde=(s,l,h)=>QK(s,l,[],h),QK=(s,l,h,g)=>JK(s,{toolbarButtonBehaviours:[Xs.config({}),Nr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(h.length>0?[Gs("toolbarToggleButtonWith",h)]:[]),getApi:pU,onSetup:s.onSetup},l,g),Hde=(s,l,h)=>g=>es.nu(E=>l.fetch(E)).map(E=>ee.from(wN(Xr(CN(wo("menu-value"),E,O=>{l.onItemAction(s(g),O)},l.columns,l.presets,my.CLOSE_ON_EXECUTE,l.select.getOr(ct),h),{movement:UR(l.columns,l.presets),menuBehaviours:cx.unnamedEvents(l.columns!=="auto"?[]:[Ta((O,I)=>{lN(O,4,s_(l.presets)).each(({numRows:q,numColumns:Y})=>{ls.setGridSize(O,q,Y)})})])})))),eZ=(s,l,h)=>g=>{const E=g.getSystem(),O=g.element,I=()=>{const Y=Xa(O,"tox-split-button__chevron"),oe=Y?mr(O).bind(ve=>E.getByDom(ve).toOptional()):ee.some(g),he=Y?ee.some(g):Or(O).bind(ve=>E.getByDom(ve).toOptional().filter(Me=>Xa(Me.element,"tox-split-button__chevron")));return{mainOpt:oe,chevronOpt:he}},q=Y=>{const{mainOpt:oe,chevronOpt:he}=I();oe.each(Y),he.each(Y)};return{isEnabled:()=>{const{mainOpt:Y}=I();return Y.exists(oe=>!as.isDisabled(oe))},setEnabled:Y=>q(oe=>as.set(oe,!Y)),setText:Y=>{const{mainOpt:oe}=I();oe.each(he=>bs(he,lg,{text:Y}))},setIcon:Y=>{const{mainOpt:oe}=I();oe.each(he=>bs(he,__,{icon:Y}))},setIconFill:(Y,oe)=>q(he=>{ii(he.element,`svg path[class="${Y}"], rect[class="${Y}"]`).each(ve=>{gs(ve,"fill",oe)})}),isActive:()=>{const{mainOpt:Y}=I();return Y.exists(oe=>Nr.isOn(oe))},setActive:Y=>{const{mainOpt:oe}=I();oe.each(he=>Nr.set(he,Y))},setTooltip:Y=>{s.set(Y);const{mainOpt:oe,chevronOpt:he}=I();oe.each(Me=>gs(Me.element,"aria-label",l.providers.translate(Y)));const ve=h.chevronTooltip.map(Me=>l.providers.translate(Me)).getOr(l.providers.translate(`${Y} menu`));he.each(Me=>gs(Me.element,"aria-label",ve))}}},tL=(s,l,h)=>{const g=Wt(se),E=Wt(s.tooltip.getOr("")),O=eZ(E,l,s),I=wo("tox-split-menu"),q=Wt(!1),Y=()=>({"aria-haspopup":"menu","aria-expanded":String(q.get()),"aria-controls":I}),oe=()=>s.tooltip.map(at=>l.providers.translate(at)).getOr(l.providers.translate("Text color")),he=()=>s.chevronTooltip.map(at=>l.providers.translate(at)).getOrThunk(()=>{const at=oe();return l.providers.translate(["{0} menu",at])}),ve=(at,yt)=>{q.set(at),gs(yt.element,"aria-expanded",String(at))},Me=kf.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:R0("chevron-down",l.providers.icons),attributes:{"aria-label":he(),...z(h)?{"data-mce-name":h+"-chevron"}:{},...Y()}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:ho([Gs("split-dropdown-events",[Ta((at,yt)=>T$(at)),Ob({getApi:O,onSetup:s.onSetup},g),En("alloy-dropdown-open",at=>ve(!0,at)),En("alloy-dropdown-close",at=>ve(!1,at))]),by.toolbarButton(()=>l.providers.checkUiComponentContext(s.context).shouldDisable),Ec(()=>l.providers.checkUiComponentContext(s.context)),qA.config({}),ba.config(l.providers.tooltips.getConfig({tooltipText:he(),onShow:at=>{if(E.get()!==s.tooltip.getOr("")){const yt=s.chevronTooltip.map(ot=>l.providers.translate(ot)).getOr(`${l.providers.translate(E.get())} menu`);ba.setComponents(at,l.providers.tooltips.getComponents({tooltipText:yt}))}}}))]),lazySink:l.getSink,fetch:Hde(O,s,l.providers),getHotspot:at=>mr(at.element).bind(yt=>at.getSystem().getByDom(yt).toOptional()),onOpen:(at,yt,ot)=>{li.highlightBy(ot,_t=>Xa(_t.element,"tox-collection__item--active")),li.getHighlighted(ot).each(ls.focusIn)},parts:{menu:{...r_(!1,s.columns,s.presets),dom:{...r_(!1,s.columns,s.presets).dom,tag:"div",attributes:{id:I}}}}}),Ge=gU(s.icon,s.text,ee.none(),ee.some([Nr.config({toggleClass:"tox-tbtn--enabled",aria:s.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),...s.tooltip.isSome()?[ba.config(l.providers.tooltips.getConfig({tooltipText:l.providers.translate(s.tooltip.getOr("")),onShow:at=>{if(E.get()!==s.tooltip.getOr("")){const yt=l.providers.translate(E.get());ba.setComponents(at,l.providers.tooltips.getComponents({tooltipText:yt}))}}}))]:[]]),l.providers,s.context,h);return[yd.sketch({dom:{...Ge.dom,classes:["tox-tbtn","tox-split-button__main"].concat(s.text.isSome()?["tox-tbtn--select"]:[]),attributes:{"aria-label":oe(),...z(h)?{"data-mce-name":h}:{}}},components:Ge.components,eventOrder:Ge.eventOrder,buttonBehaviours:Ge.buttonBehaviours,action:at=>{if(s.onAction){const yt=O(at);yt.isEnabled()&&s.onAction(yt)}}}),Me]},yU=".tox-toolbar-slider__input,.tox-toolbar-textfield",bU=s=>{ol.getContent(s).each(l=>{ii(l.element,yU).fold(()=>ls.focusIn(l),ra)})},JC=s=>Ya(s.element).each(l=>{Fh(l,'[tabindex="-1"]').each(h=>{ra(h)})}),SU=wo("forward-slide"),nL=wo("backward-slide"),CU=wo("change-slide-event"),EU="tox-pop--resizing",$de=s=>{const l=Wt([]);return{sketch:ol.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:g=>{l.set([]),ol.getContent(g).each(E=>{wr(E.element,"visibility")}),ui(g.element,EU),wr(g.element,"width")},onHide:()=>{l.set([]),s.onHide()},inlineBehaviours:ho([Gs("context-toolbar-events",[R1(md(),(g,E)=>{E.event.raw.propertyName==="width"&&(ui(g.element,EU),wr(g.element,"width"))}),En(CU,(g,E)=>{const O=g.element;wr(O,"width");const I=Sc(O),q=Ya(g.element).isSome();wr(O,"left"),wr(O,"right"),wr(O,"max-width"),ol.setContent(g,E.event.contents),Ti(O,EU);const Y=Sc(O);Ds(O,"transition","none"),ol.reposition(g),wr(O,"transition"),Ds(O,"width",I+"px"),E.event.focus.fold(()=>{q&&bU(g)},oe=>{ql(oa(g.element)).fold(()=>ra(oe),he=>{Ie(he,oe)||s.focusElement(oe)})}),setTimeout(()=>{Ds(g.element,"width",Y+"px")},0)}),En(SU,(g,E)=>{ol.getContent(g).each(O=>{l.set(l.get().concat([{bar:O,focus:ql(oa(g.element))}]))}),bs(g,CU,{contents:E.event.forwardContents,focus:ee.none()})}),En(nL,(g,E)=>{s.onBack(),Yn(l.get()).each(O=>{l.set(l.get().slice(0,l.get().length-1)),bs(g,CU,{contents:W(O.bar),focus:O.focus})})})]),ls.config({mode:"special",onEscape:g=>Yn(l.get()).fold(()=>s.onEscape(),E=>(_r(g,nL),ee.some(!0)))})]),lazySink:()=>zo.value(s.sink)}),inSubtoolbar:()=>l.get().length>0}},Ude=(s,l)=>{const h=cp(CH({type:"button",icon:"chevron-left",tooltip:"Back",onAction:se}));return vU(h,l.shared.providers,[En(KR,g=>{_r(g,nL)})])},wx=(s,l,h)=>Ml(h)?s.translate(l):s.translate([l,s.translate(h)]),zde=(s,l)=>{const h=(I,q,Y,oe)=>{const he=s.shared.providers.translate(I.title);if(I.type==="separator")return ee.some({type:"separator",text:he});if(I.type==="submenu"){const ve=qe(I.getStyleItems(),Me=>g(Me,q,oe));return q===0&&ve.length<=0?ee.none():ee.some({type:"nestedmenuitem",text:he,enabled:ve.length>0,getSubmenuItems:()=>qe(I.getStyleItems(),Me=>g(Me,q,oe))})}else return ee.some({type:"togglemenuitem",text:he,icon:I.icon,active:I.isSelected(oe),enabled:!Y,onAction:l.onAction(I),...I.getStylePreview().fold(()=>({}),ve=>({meta:{style:ve}}))})},g=(I,q,Y)=>{const oe=I.type==="formatter"&&l.isInvalid(I);return q===0?oe?[]:h(I,q,!1,Y).toArray():h(I,q,oe,Y).toArray()},E=I=>{const q=l.getCurrentValue(),Y=l.shouldHide?0:1;return qe(I,oe=>g(oe,Y,q))};return{validateItems:E,getFetch:(I,q)=>(Y,oe)=>{const he=q(),ve=E(he),Me=T_(ve,my.CLOSE_ON_EXECUTE,I,{isHorizontalMenu:!1,search:ee.none()});oe(Me)}}},O_=(s,l)=>{const h=l.dataset,g=h.type==="basic"?()=>Dt(h.data,E=>vK(E,l.isSelectedFor,l.getPreviewFor)):h.getData;return{items:zde(s,l),getStyleItems:g}},sk=(s,l,h,g,E,O)=>{const{items:I,getStyleItems:q}=O_(l,h),Y=Wt(h.tooltip),oe=ve=>({getComponent:V(ve),setTooltip:Me=>{const Ge=l.shared.providers.translate(Me);gs(ve.element,"aria-label",Ge),Y.set(Me)}}),he=ve=>{const Me=Ge=>ve.setTooltip(wx(s,g(Ge.value),Ge.value));return s.on(E,Me),pN(ZC(s,"NodeChange",Ge=>{const Ze=Ge.getComponent();h.updateText(Ze),as.set(Ge.getComponent(),!s.selection.isEditable()||q().length===0)})(ve),()=>s.off(E,Me))};return pv({context:"mode:design",text:h.icon.isSome()?ee.none():h.text,icon:h.icon,ariaLabel:ee.some(h.tooltip),tooltip:ee.none(),role:ee.none(),fetch:I.getFetch(l,q),onSetup:he,getApi:oe,columns:1,presets:"normal",classes:h.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[ba.config({...l.shared.providers.tooltips.getConfig({tooltipText:l.shared.providers.translate(h.tooltip),onShow:ve=>{if(h.tooltip!==Y.get()){const Me=l.shared.providers.translate(Y.get());ba.setComponents(ve,l.shared.providers.tooltips.getComponents({tooltipText:Me}))}}})})]},"tox-tbtn",l.shared,O)},jde=s=>Dt(s,l=>{let h=l,g=l;const E=l.split("=");return E.length>1&&(h=E[0],g=E[1]),{title:h,format:g}}),wU=s=>({type:"basic",data:s});var _x;(function(s){s[s.SemiColon=0]="SemiColon",s[s.Space=1]="Space"})(_x||(_x={}));const Wde=(s,l)=>l===_x.SemiColon?s.replace(/;$/,"").split(";"):s.split(" "),_U=(s,l,h)=>{const g=s.options.get(l);return{type:"basic",data:jde(Wde(g,h))}},Gde="Align",tZ=V("Alignment {0}"),nZ="left",oL=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],TU=s=>{const l=()=>xt(oL,q=>s.formatter.match(q.format)),h=q=>()=>s.formatter.match(q),g=q=>ee.none,E=q=>{const oe=l().fold(V(nZ),he=>he.title.toLowerCase());bs(q,__,{icon:`align-${oe}`}),JH(s,{value:oe})},O=wU(oL),I=q=>()=>xt(oL,Y=>Y.format===q.format).each(Y=>s.execCommand(Y.command));return{tooltip:wx(s,tZ(),nZ),text:ee.none(),icon:ee.some("align-left"),isSelectedFor:h,getCurrentValue:ee.none,getPreviewFor:g,onAction:I,updateText:E,dataset:O,shouldHide:!1,isInvalid:q=>!s.formatter.canApply(q.format)}},oZ=(s,l)=>sk(s,l,TU(s),tZ,"AlignTextUpdate","align"),qde=(s,l)=>{const h=O_(l,TU(s));s.ui.registry.addNestedMenuItem("align",{text:l.shared.providers.translate(Gde),onSetup:qh(s),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})},AU=(s,l)=>{const h=l(),g=Dt(h,E=>E.format);return ee.from(s.formatter.closest(g)).bind(E=>xt(h,O=>O.format===E))},Kde="Blocks",sZ=V("Block {0}"),xU="Paragraph",OU=s=>{const l=O=>()=>s.formatter.match(O),h=O=>()=>{const I=s.formatter.get(O);return I?ee.some({tag:I.length>0&&(I[0].inline||I[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(O))}):ee.none()},g=O=>{const q=AU(s,()=>E.data).fold(V(xU),Y=>Y.title);bs(O,lg,{text:q}),$le(s,{value:q})},E=_U(s,"block_formats",_x.SemiColon);return{tooltip:wx(s,sZ(),xU),text:ee.some(xU),icon:ee.none(),isSelectedFor:l,getCurrentValue:ee.none,getPreviewFor:h,onAction:QH(s),updateText:g,dataset:E,shouldHide:!1,isInvalid:O=>!s.formatter.canApply(O.format)}},Zde=(s,l)=>sk(s,l,OU(s),sZ,"BlocksTextUpdate","blocks"),rZ=(s,l)=>{const h=O_(l,OU(s));s.ui.registry.addNestedMenuItem("blocks",{text:Kde,onSetup:qh(s),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})},Yde="Fonts",iZ=V("Font {0}"),IU="System Font",Xde=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],aZ=s=>{const l=s.split(/\s*,\s*/);return Dt(l,h=>h.replace(/^['"]+|['"]+$/g,""))},lZ=(s,l)=>l.length>0&&pt(l,h=>s.indexOf(h.toLowerCase())>-1),Jde=(s,l)=>{if(s.indexOf("-apple-system")===0||l.length>0){const h=aZ(s.toLowerCase());return lZ(h,Xde)||lZ(h,l)}else return!1},RU=s=>{const l=()=>{const Y=Ze=>Ze?aZ(Ze)[0]:"",oe=s.queryCommandValue("FontName"),he=q.data,ve=oe?oe.toLowerCase():"",Me=kW(s);return{matchOpt:xt(he,Ze=>{const at=Ze.format;return at.toLowerCase()===ve||Y(at).toLowerCase()===Y(ve).toLowerCase()}).orThunk(()=>al(Jde(ve,Me),{title:IU,format:ve})),font:oe}},h=Y=>oe=>oe.exists(he=>he.format===Y),g=()=>{const{matchOpt:Y}=l();return Y},E=Y=>()=>ee.some({tag:"div",styles:Y.indexOf("dings")===-1?{"font-family":Y}:{}}),O=Y=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontName",!1,Y.format)})},I=Y=>{const{matchOpt:oe,font:he}=l(),ve=oe.fold(V(he),Me=>Me.title);bs(Y,lg,{text:ve}),Ule(s,{value:ve})},q=_U(s,"font_family_formats",_x.SemiColon);return{tooltip:wx(s,iZ(),IU),text:ee.some(IU),icon:ee.none(),isSelectedFor:h,getCurrentValue:g,getPreviewFor:E,onAction:O,updateText:I,dataset:q,shouldHide:!1,isInvalid:ct}},Qde=(s,l)=>sk(s,l,RU(s),iZ,"FontFamilyTextUpdate","fontfamily"),ehe=(s,l)=>{const h=O_(l,RU(s));s.ui.registry.addNestedMenuItem("fontfamily",{text:l.shared.providers.translate(Yde),onSetup:qh(s),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})};var sL=tinymce.util.Tools.resolve("tinymce.util.VK");const the=(s,l,h,g)=>{let E=ee.none();const O=Lt=>Lt.map(an=>Ao.getValue(an)).getOr(""),I=ZC(s,"NodeChange SwitchMode DisabledStateChange",Lt=>{const an=Lt.getComponent();E=ee.some(an),h.updateInputValue(an),as.set(an,!s.selection.isEditable()||uv(s))}),q=Lt=>({getComponent:V(Lt)}),Y=Wt(se),oe=wo("custom-number-input-events"),he=(Lt,an,hn)=>{const vo=O(E),Vn=h.getNewValue(vo,Lt),Qn=vo.length-`${Vn}`.length,Gn=E.map(os=>os.element.dom.selectionStart-Qn),Es=E.map(os=>os.element.dom.selectionEnd-Qn);h.onAction(Vn,hn),E.each(os=>{Ao.setValue(os,Vn),an&&(Gn.each(Dr=>os.element.dom.selectionStart=Dr),Es.each(Dr=>os.element.dom.selectionEnd=Dr))})},ve=(Lt,an)=>he((hn,vo)=>hn-vo,Lt,an),Me=(Lt,an)=>he((hn,vo)=>hn+vo,Lt,an),Ge=Lt=>ys(Lt.element).fold(ee.none,an=>(ra(an),ee.some(!0))),Ze=Lt=>Lh(Lt.element)?(Lo(Lt.element).each(an=>ra(an)),ee.some(!0)):ee.none(),at=(Lt,an,hn,vo)=>{const Vn=Wt(se),Qn=l.shared.providers.translate(hn),Gn=wo("altExecuting"),Es=ZC(s,"NodeChange SwitchMode DisabledStateChange",Dr=>{as.set(Dr.getComponent(),!s.selection.isEditable()||uv(s))}),os=Dr=>{as.isDisabled(Dr)||Lt(!0)};return yd.sketch({dom:{tag:"button",attributes:{"aria-label":Qn,"data-mce-name":an},classes:vo.concat(an)},components:[x$(an,l.shared.providers.icons)],buttonBehaviours:ho([as.config({}),ba.config(l.shared.providers.tooltips.getConfig({tooltipText:Qn})),Gs(Gn,[Ob({onSetup:Es,getApi:q},Vn),m_({getApi:q},Vn),En(ic(),(Dr,ks)=>{(ks.event.raw.keyCode===sL.SPACEBAR||ks.event.raw.keyCode===sL.ENTER)&&(as.isDisabled(Dr)||Lt(!1))}),En(jm(),os),En(Wg(),os)])]),eventOrder:{[ic()]:[Gn,"keying"],[jm()]:[Gn,"alloy.base.behaviour"],[Wg()]:[Gn,"alloy.base.behaviour"],[tm()]:["alloy.base.behaviour",Gn,"tooltipping"],[qg()]:[Gn,"tooltipping"]}})},yt=pi(at(Lt=>ve(!1,Lt),"minus","Decrease font size",[])),ot=pi(at(Lt=>Me(!1,Lt),"plus","Increase font size",[])),_t=pi({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[lv.sketch({inputBehaviours:ho([as.config({}),Gs(oe,[Ob({onSetup:I,getApi:q},Y),m_({getApi:q},Y)]),Gs("input-update-display-text",[En(lg,(Lt,an)=>{Ao.setValue(Lt,an.event.text)}),En(g1(),Lt=>{h.onAction(Ao.getValue(Lt))}),En(Jp(),Lt=>{h.onAction(Ao.getValue(Lt))})]),ls.config({mode:"special",onEnter:Lt=>(he(ke,!0,!0),ee.some(!0)),onEscape:Ge,onUp:Lt=>(Me(!0,!1),ee.some(!0)),onDown:Lt=>(ve(!0,!1),ee.some(!0)),onLeft:(Lt,an)=>(an.cut(),ee.none()),onRight:(Lt,an)=>(an.cut(),ee.none())})])})],behaviours:ho([qs.config({}),ls.config({mode:"special",onEnter:Ze,onSpace:Ze,onEscape:Ge}),Gs("input-wrapper-events",[En(yf(),Lt=>{un([yt,ot],an=>{const hn=po.fromDom(an.get(Lt).element.dom);Lh(hn)&&yr(hn)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...z(g)?{"data-mce-name":g}:{}}},components:[yt.asSpec(),_t.asSpec(),ot.asSpec()],behaviours:ho([qs.config({}),ls.config({mode:"flow",focusInside:Cf.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Lt=>Lh(Lt.element)?ee.none():(ra(Lt.element),ee.some(!0))})])}},nhe="Font sizes",cZ=V("Font size {0}"),uZ="12pt",dZ={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},ohe={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},she=(s,l)=>{const h=Math.pow(10,l);return Math.round(s*h)/h},hZ=(s,l)=>/[0-9.]+px$/.test(s)?she(parseInt(s,10)*72/96,l||0)+"pt":wt(ohe,s).getOr(s),rhe=s=>wt(dZ,s).getOr(""),kU=s=>{const l=()=>{let Y=ee.none();const oe=q.data,he=s.queryCommandValue("FontSize");if(he)for(let ve=3;Y.isNone()&&ve>=0;ve--){const Me=hZ(he,ve),Ge=rhe(Me);Y=xt(oe,Ze=>Ze.format===he||Ze.format===Me||Ze.format===Ge)}return{matchOpt:Y,size:he}},h=Y=>oe=>oe.exists(he=>he.format===Y),g=()=>{const{matchOpt:Y}=l();return Y},E=V(ee.none),O=Y=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontSize",!1,Y.format)})},I=Y=>{const{matchOpt:oe,size:he}=l(),ve=oe.fold(V(he),Me=>Me.title);bs(Y,lg,{text:ve}),Hle(s,{value:ve})},q=_U(s,"font_size_formats",_x.Space);return{tooltip:wx(s,cZ(),uZ),text:ee.some(uZ),icon:ee.none(),isSelectedFor:h,getPreviewFor:E,getCurrentValue:g,onAction:O,updateText:I,dataset:q,shouldHide:!1,isInvalid:ct}},fZ=(s,l)=>sk(s,l,kU(s),cZ,"FontSizeTextUpdate","fontsize"),ihe=s=>{const l={step:1};return{em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[s]??l},ahe=16,lhe=s=>s>=0,Tx=s=>{const l=()=>s.queryCommandValue("FontSize");return{updateInputValue:g=>bs(g,lg,{text:l()}),onAction:(g,E)=>s.execCommand("FontSize",!1,g,{skip_focus:!E}),getNewValue:(g,E)=>{Fr(g,["unsupportedLength","empty"]);const O=l(),I=Fr(g,["unsupportedLength","empty"]).or(Fr(O,["unsupportedLength","empty"])),q=I.map(Me=>Me.value).getOr(ahe),Y=EW(s),oe=I.map(Me=>Me.unit).filter(Me=>Me!=="").getOr(Y),he=E(q,ihe(oe).step),ve=`${lhe(he)?he:q}${oe}`;return ve!==O&&AG(s,{value:ve}),ve}}},che=(s,l)=>the(s,l,Tx(s),"fontsizeinput"),uhe=(s,l)=>{const h=O_(l,kU(s));s.ui.registry.addNestedMenuItem("fontsize",{text:nhe,onSetup:qh(s),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})},dhe="Formats",pZ=s=>Ml(s)?"Formats":"Format {0}",mZ=(s,l)=>{const h="Formats",g=I=>()=>s.formatter.match(I),E=I=>()=>{const q=s.formatter.get(I);return q!==void 0?ee.some({tag:q.length>0&&(q[0].inline||q[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(I))}):ee.none()},O=I=>{const q=ve=>fK(ve)?qe(ve.items,q):pK(ve)?[{title:ve.title,format:ve.format}]:[],Y=qe(q$(s),q),he=AU(s,V(Y)).fold(V({title:h,tooltipLabel:""}),ve=>({title:ve.title,tooltipLabel:ve.title}));bs(I,lg,{text:he.title}),Vle(s,{value:he.tooltipLabel})};return{tooltip:wx(s,pZ(""),""),text:ee.some(h),icon:ee.none(),isSelectedFor:g,getCurrentValue:ee.none,getPreviewFor:E,onAction:QH(s),updateText:O,shouldHide:fW(s),isInvalid:I=>!s.formatter.canApply(I.format),dataset:l}},hhe=(s,l)=>{const h={type:"advanced",...l.styles};return sk(s,l,mZ(s,h),pZ,"StylesTextUpdate","styles")},fhe=(s,l)=>{const h={type:"advanced",...l.styles},g=O_(l,mZ(s,h));s.ui.registry.addNestedMenuItem("styles",{text:dhe,onSetup:qh(s,()=>g.getStyleItems().length>0),getSubmenuItems:()=>g.items.validateItems(g.getStyleItems())})},phe=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],I_=(s,l)=>(h,g,E,O)=>{const I=s(h).mapError(q=>up(q)).getOrDie();return l(I,g,E,O)},mhe={button:I_(CH,(s,l,h,g)=>Fde(s,l.shared.providers,g)),togglebutton:I_($9,(s,l,h,g)=>Vde(s,l.shared.providers,g)),menubutton:I_(R9,(s,l,h,g)=>yx(s,"tox-tbtn",l,ee.none(),!1,g)),splitbutton:I_(lx,(s,l,h,g)=>tL(s,l.shared,g)),grouptoolbarbutton:I_(wle,(s,l,h,g)=>{const E=h.ui.registry.getAll().buttons,O=q=>rL(h,{buttons:E,toolbar:q,allowToolbarGroups:!1},l,ee.none()),I={[aI]:l.shared.header.isPositionedAtTop()?Jv.TopToBottom:Jv.BottomToTop};switch(Jw(h)){case sg.floating:return Bde(s,l,O,I,g);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},ghe=(s,l,h,g)=>wt(mhe,s.type).fold(()=>(console.error("skipping button defined by",s),ee.none()),E=>ee.some(E(s,l,h,g))),DU={styles:hhe,fontsize:fZ,fontsizeinput:che,fontfamily:Qde,blocks:Zde,align:oZ,navigateback:Ude},gZ=s=>{const l=Dt(phe,h=>{const g=Vo(h.items,E=>Zt(s,E)||Zt(DU,E));return{name:h.name,items:g}});return Vo(l,h=>h.items.length>0)},vhe=s=>{const l=s.split("|");return Dt(l,h=>({items:h.trim().split(" ")}))},yhe=s=>ce(s,l=>(Zt(l,"name")||Zt(l,"label"))&&Zt(l,"items")),bhe=s=>{const l=s.toolbar,h=s.buttons;return l===!1?[]:l===void 0||l===!0?gZ(h):v(l)?vhe(l):yhe(l)?l:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},She=(s,l,h,g,E,O)=>wt(l,h.toLowerCase()).orThunk(()=>O.bind(I=>ro(I,q=>wt(l,q+h.toLowerCase())))).fold(()=>wt(DU,h.toLowerCase()).map(I=>I(s,E)),I=>I.type==="grouptoolbarbutton"&&!g?(console.warn(`Ignoring the '${h}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),ee.none()):ghe(I,E,s,h.toLowerCase())),rL=(s,l,h,g)=>{const E=bhe(l),O=Dt(E,I=>{const q=qe(I.items,Y=>Y.trim().length===0?[]:She(s,l.buttons,Y,l.allowToolbarGroups,h,g).map(oe=>Array.isArray(oe)?oe:[oe]).getOr([]));return{title:ee.from(s.translate(I.name)),label:al(I.label!==void 0,s.translate(I.label)),items:q}});return Vo(O,I=>I.items.length>0)},vZ=(s,l,h,g)=>{const E=l.mainUi.outerContainer,O=h.toolbar,I=h.buttons;if(ce(O,v)){const q=O.map(Y=>{const oe={toolbar:Y,buttons:I,allowToolbarGroups:h.allowToolbarGroups};return rL(s,oe,g,ee.none())});qi.setToolbars(E,q)}else qi.setToolbar(E,rL(s,h,g,ee.none()))},MU=Gi(),Che=MU.os.isiOS()&&MU.os.version.major<=12,Ehe=(s,l)=>{const{uiMotherships:h}=l,g=s.dom;let E=s.getWin();const O=s.getDoc().documentElement,I=Wt(ri(E.innerWidth,E.innerHeight)),q=Wt(ri(O.offsetWidth,O.offsetHeight)),Y=()=>{const Me=I.get();(Me.left!==E.innerWidth||Me.top!==E.innerHeight)&&(I.set(ri(E.innerWidth,E.innerHeight)),px(s))},oe=()=>{const Me=s.getDoc().documentElement,Ge=q.get();(Ge.left!==Me.offsetWidth||Ge.top!==Me.offsetHeight)&&(q.set(ri(Me.offsetWidth,Me.offsetHeight)),px(s))},he=Me=>{Ble(s,Me)};g.bind(E,"resize",Y),g.bind(E,"scroll",he);const ve=Nd(po.fromDom(s.getBody()),"load",oe);s.on("hide",()=>{un(h,Me=>{Ds(Me.element,"display","none")})}),s.on("show",()=>{un(h,Me=>{wr(Me.element,"display")})}),s.on("NodeChange",oe),s.on("remove",()=>{ve.unbind(),g.unbind(E,"resize",Y),g.unbind(E,"scroll",he),E=null})},whe=(s,l,h)=>{VC(s)&&iy(h.mainUi.mothership.element,h.popupUi.mothership),Nw(l,h.dialogUi.mothership)};var iL=Object.freeze({__proto__:null,render:(s,l,h,g,E)=>{const{mainUi:O,uiMotherships:I}=l,q=Wt(0),Y=O.outerContainer;Pde(s);const oe=po.fromDom(E.targetNode),he=Za(oa(oe));iy(oe,O.mothership),whe(s,he,l),s.on("PostRender",()=>{qi.setSidebar(Y,h.sidebar,wV(s))}),s.on("SkinLoaded",()=>{vZ(s,l,h,g),q.set(s.getWin().innerWidth),qi.setMenubar(Y,qK(s,h)),qi.setViews(Y,h.views),Ehe(s,l)});const ve=qi.getSocket(Y).getOrDie("Could not find expected socket element");if(Che){ha(ve.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const at=Am(()=>{s.dispatch("ScrollContent")},20),yt=si(ve.element,"scroll",at.throttle);s.on("remove",yt.unbind)}nG(s,l),s.addCommand("ToggleSidebar",(at,yt)=>{qi.toggleSidebar(Y,yt),zle(s)}),s.addQueryValueHandler("ToggleSidebar",()=>qi.whichSidebar(Y)??""),s.addCommand("ToggleView",(at,yt)=>{if(qi.toggleView(Y,yt)){const ot=Y.element;O.mothership.broadcastOn([Cb()],{target:ot}),un(I,_t=>{_t.broadcastOn([Cb()],{target:ot})}),P(qi.whichView(Y))&&(s.focus(),s.nodeChanged(),qi.refreshToolbar(Y)),xG(s)}}),s.addQueryValueHandler("ToggleView",()=>qi.whichView(Y)??"");const Me=Jw(s),Ge=()=>{qi.refreshToolbar(l.mainUi.outerContainer)};(Me===sg.sliding||Me===sg.floating)&&s.on("ResizeWindow ResizeEditor ResizeContent",()=>{const at=s.getWin().innerWidth;at!==q.get()&&(Ge(),q.set(at))});const Ze={setEnabled:at=>{LR(l,at?"setEnabled":"setDisabled")},isEnabled:()=>!as.isDisabled(Y)};return{iframeContainer:ve.element.dom,editorContainer:Y.element.dom,api:Ze}}});const _he=s=>/^[0-9\.]+(|px)$/i.test(""+s)?ee.some(parseInt(""+s,10)):ee.none(),Ax=s=>te(s)?s+"px":s,R_=(s,l,h)=>{const g=l.filter(O=>s<O),E=h.filter(O=>s>O);return g.or(E).getOr(s)},yZ=(s,l)=>{if(typeof l=="number")return ee.from(l);const h=/^([0-9.]+)(pt|em|px)$/.exec(l.trim());if(h){const g=h[2],E=Number.parseFloat(h[1]);if(Number.isNaN(E)||E<0)return ee.none();if(g==="em")return ee.from(E*Number.parseFloat(window.getComputedStyle(s.dom).fontSize));if(g==="pt")return ee.from(E*(72/96));if(g==="px")return ee.from(E)}return ee.none()},The=s=>{const l=yZ(po.fromDom(s.targetElm),gV(s)),h=kc(s),g=yV(s);return l.map(E=>R_(E,h,g))},Ahe=s=>The(s).getOr(gV(s)),bZ=s=>{const l=vV(s),h=vR(s),g=BP(s);return _he(l).map(E=>R_(E,h,g))},xhe=s=>bZ(s).getOr(vV(s)),{ToolbarLocation:PU,ToolbarMode:rk}=hie,SZ=40,CZ=(s,l,h,g,E)=>{const{mainUi:O,uiMotherships:I}=h,q=mR.DOM,Y=QA(s),oe=ex(s),he=BP(s).or(bZ(s)),ve=g.shared.header,Me=ve.isPositionedAtTop,Ge=150,Ze=Jw(s),at=Ze===rk.sliding||Ze===rk.floating,yt=Wt(!1),ot=()=>yt.get()&&!s.removed,_t=ns=>at?ns.fold(V(0),Bn=>Bn.components().length>1?_l(Bn.components()[1].element):0):0,Lt=ns=>{switch(bV(s)){case PU.auto:const Bn=qi.getToolbar(O.outerContainer),mo=_t(Bn),Ns=_l(ns.element)-mo,ir=Fl(l);if(ir.y>Ns)return"top";{const tr=kn(l),ki=Math.max(tr.dom.scrollHeight,_l(tr));return ir.bottom<ki-Ns||Fu().bottom<ir.bottom-Ns?"bottom":"top"}case PU.bottom:return"bottom";case PU.top:default:return"top"}},an=ns=>{E.on(Bn=>{nl.setModes(Bn,[ns]),ve.setDockingMode(ns);const mo=Me()?Jv.TopToBottom:Jv.BottomToTop;gs(Bn.element,aI,mo)})},hn=()=>{E.on(ns=>{const Bn=he.getOrThunk(()=>el().width-ru(l).left-10);Ds(ns.element,"max-width",Bn+"px")})},vo=(ns,Bn)=>{E.on(mo=>{const Ns=qi.getToolbar(O.outerContainer),ir=_t(Ns),cs=Fl(l),tr=Vn(s,O.outerContainer.element),ki=()=>tr.fold(()=>cs.x,mu=>{const ug=Fl(mu);return Ie(mu,Bd())?cs.x:cs.x-ug.x}),Ci=()=>tr.fold(()=>Me()?Math.max(cs.y-_l(mo.element)+ir,0):cs.bottom,mu=>{const ug=Fl(mu),Ap=mu.dom.scrollTop??0,B0=Ie(mu,Bd())?Math.max(cs.y-_l(mo.element)+ir,0):cs.y-ug.y+Ap-_l(mo.element)+ir;return Me()?B0:cs.bottom}),Zh=ki(),Wa=al(ns,Math.ceil(O.outerContainer.element.dom.getBoundingClientRect().width)).filter(mu=>mu>Ge).map(mu=>{const ug=Bn.getOr(Ha()),Ap=window.innerWidth-(Zh-ug.left),gv=Math.max(Math.min(mu,Ap),Ge);return Ap<mu&&Ds(O.outerContainer.element,"width",gv+"px"),{width:gv+"px"}}).getOr({width:"max-content"}),Tp={position:"absolute",left:Math.round(Zh)+"px",top:Ci()+"px"};ha(O.outerContainer.element,{...Tp,...Wa})})},Vn=(ns,Bn)=>VC(ns)?Pg(Bn):ee.none(),Qn=()=>{un(I,ns=>{ns.broadcastOn([gd()],{})})},Gn=()=>!Y&&(Bc(O.outerContainer.element).left+zp(O.outerContainer.element)>=window.innerWidth-SZ||fa(O.outerContainer.element,"width").isSome())?(Ds(O.outerContainer.element,"position","absolute"),Ds(O.outerContainer.element,"left","0px"),wr(O.outerContainer.element,"width"),!0):!1,Es=ns=>{if(!ot())return;Y||hn();const Bn=Ha(),mo=Y?!1:Gn();if(at&&qi.refreshToolbar(O.outerContainer),!Y){const Ns=Ha(),ir=al(Bn.left!==Ns.left,Bn);vo(mo,ir),ir.each(cs=>{Fd(cs.left,Ns.top)})}oe&&E.on(ns),Qn()},os=()=>Y||!oe||!ot()?!1:E.get().exists(ns=>{const Bn=ve.getDockingMode(),mo=Lt(ns);return mo!==Bn?(an(mo),!0):!1});return{isVisible:ot,isPositionedAtTop:Me,show:()=>{yt.set(!0),Ds(O.outerContainer.element,"display","flex"),q.addClass(s.getBody(),"mce-edit-focus"),un(I,ns=>{wr(ns.element,"display")}),os(),VC(s)?Es(ns=>nl.isDocked(ns)?nl.reset(ns):nl.refresh(ns)):Es(nl.refresh)},hide:()=>{yt.set(!1),Ds(O.outerContainer.element,"display","none"),q.removeClass(s.getBody(),"mce-edit-focus"),un(I,ns=>{Ds(ns.element,"display","none")})},update:Es,updateMode:()=>{os()&&Es(nl.reset)},repositionPopups:Qn}},NU=(s,l)=>{const h=Fl(s);return{pos:l?h.y:h.bottom,bounds:h}},EZ=(s,l,h,g)=>{const E=Wt(NU(l,h.isPositionedAtTop())),O=oe=>{const{pos:he,bounds:ve}=NU(l,h.isPositionedAtTop()),{pos:Me,bounds:Ge}=E.get(),Ze=ve.height!==Ge.height||ve.width!==Ge.width;E.set({pos:he,bounds:ve}),Ze&&px(s,oe),h.isVisible()&&(Me!==he?h.update(nl.reset):Ze&&(h.updateMode(),h.repositionPopups()))};g||(s.on("activate",h.show),s.on("deactivate",h.hide)),s.on("SkinLoaded ResizeWindow",()=>h.update(nl.reset)),s.on("NodeChange keydown",oe=>{requestAnimationFrame(()=>O(oe))});let I=0;const q=zl(()=>h.update(nl.refresh),33);s.on("ScrollWindow",()=>{const oe=Ha().left;oe!==I&&(I=oe,q.throttle()),h.updateMode()}),VC(s)&&s.on("ElementScroll",oe=>{h.update(nl.refresh)});const Y=na();Y.set(Nd(po.fromDom(s.getBody()),"load",oe=>O(oe.raw))),s.on("remove",()=>{Y.clear()})};var wZ=Object.freeze({__proto__:null,render:(s,l,h,g,E)=>{const{mainUi:O}=l,I=As(),q=po.fromDom(E.targetNode),Y=CZ(s,q,l,g,I),oe=vW(s);Nde(s);const he=()=>{if(I.isSet()){Y.show();return}I.set(qi.getHeader(O.outerContainer).getOrDie());const Me=$P(s);VC(s)?(iy(q,O.mothership),iy(q,l.popupUi.mothership)):Nw(Me,O.mothership),Nw(Me,l.dialogUi.mothership);const Ge=()=>{vZ(s,l,h,g),qi.setMenubar(O.outerContainer,qK(s,h)),Y.show(),EZ(s,q,Y,oe),s.nodeChanged()};oe?s.once("SkinLoaded",Ge):Ge()};s.on("show",he),s.on("hide",Y.hide),oe||(s.on("focus",he),s.on("blur",Y.hide)),s.on("init",()=>{(s.hasFocus()||oe)&&he()}),nG(s,l);const ve={show:he,hide:Y.hide,setEnabled:Me=>{LR(l,Me?"setEnabled":"setDisabled")},isEnabled:()=>!as.isDisabled(O.outerContainer)};return{editorContainer:O.outerContainer.element.dom,api:ve}}});const Ohe=()=>{const s=As(),l=As(),h=As();return{dialogUi:s,popupUi:l,mainUi:h,getUiMotherships:()=>{const O=s.get().map(q=>q.mothership),I=l.get().map(q=>q.mothership);return O.fold(()=>I.toArray(),q=>I.fold(()=>[q],Y=>Ie(q.element,Y.element)?[q]:[q,Y]))},lazyGetInOuterOrDie:(O,I)=>()=>h.get().bind(q=>I(q.outerContainer)).getOrDie(`Could not find ${O} element in OuterContainer`)}},Ihe="contexttoolbar-show",_Z="contexttoolbar-hide",LU=(s,l,h)=>({setInputEnabled:g=>{!g&&h&&ra(h),as.set(s,!g)},isInputEnabled:()=>!as.isDisabled(s),hide:()=>{_r(s,v1())},back:()=>{_r(s,nL)},getValue:()=>l.get().getOrThunk(()=>Ao.getValue(s)),setValue:g=>{s.getSystem().isConnected()?Ao.setValue(s,g):l.set(g)}}),aL=(s,l,h)=>{const E=to(s.element).bind(O=>s.getSystem().getByDom(O).toOptional());return LU(E.getOr(s),l,h)},xx=(s,l,h)=>En(KR,(g,E)=>{const O=s.get(g),I=LU(O,h,g.element);l.onAction(I,E.event.buttonApi)}),Rhe=(s,l,h,g)=>{const{primary:E,...O}=l.original,I=cp(CH({...O,type:"button",onAction:se}));return vU(I,h,[xx(s,l,g)])},khe=(s,l,h,g)=>{const{primary:E,...O}=l.original,I=cp($9({...O,type:"togglebutton",onAction:se}));return QK(I,h,[xx(s,l,g)])},Dhe=s=>s.type==="contextformtogglebutton",TZ=(s,l,h,g)=>Dhe(l)?khe(s,l,h,g):Rhe(s,l,h,g),AZ=(s,l,h,g)=>{const E=Dt(l,q=>pi(TZ(s,q,h,g)));return{asSpecs:()=>Dt(E,q=>q.asSpec()),findPrimary:q=>ro(l,(Y,oe)=>Y.primary?ee.from(E[oe]).bind(he=>he.getOpt(q)).filter(Re(as.isDisabled)):ee.none())}},xZ=(s,l,h,g)=>{const{width:E,height:O}=s.initValue();let I=LN;const q=wo("ratio-event"),Y=Vn=>LU(Vn,g),oe=Vn=>rg(Vn,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Vn]},l.icons),he=()=>!1,ve=s.label.getOr("Constrain proportions"),Me=l.translate(ve),Ge=Zl.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":Me,"data-mce-name":ve}},components:[oe("lock"),oe("unlock")],buttonBehaviours:ho([as.config({disabled:he}),ya.config({}),ba.config(l.tooltips.getConfig({tooltipText:Me}))])}),Ze=Vn=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:Vn}),at=Vn=>Fh(Vn.element,"div.tox-focusable-wrapper").fold(ee.none,Gn=>(ra(Gn),ee.some(!0))),yt=Vn=>Ir.parts.field({factory:lv,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:Vn?E:O,inputBehaviours:ho([as.config({disabled:he}),ya.config({}),Gs("size-input-toolbar-events",[En(bf(),(Qn,Gn)=>{bs(Qn,q,{isField1:Vn})})]),ls.config({mode:"special",onEnter:h,onEscape:at})]),selectOnFocus:!1}),ot=Vn=>({dom:{tag:"label",classes:["tox-label"]},components:[va(l.translate(Vn))]}),_t=Vn=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[Vn],behaviours:ho([ya.config({}),qs.config({}),ls.config({mode:"special",onEnter:Qn=>ii(Qn.element,"input").fold(ee.none,Es=>(ra(Es),ee.some(!0)))})])}),Lt=_t(Zl.parts.field1(Ze([Ir.parts.label(ot("Width:")),yt(!0)]))),an=_t(Zl.parts.field2(Ze([Ir.parts.label(ot("Height:")),yt(!1)]))),hn=Wt(se),vo=[Ob({onBeforeSetup:Vn=>ii(Vn.element,"input").each(ra),onSetup:s.onSetup,getApi:Y},hn),cN({getApi:Y},hn,g)];return Zl.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[Lt,Ze([Ge]),an],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Vn,Qn,Gn)=>{NN(Ao.getValue(Vn)).each(Es=>{I(Es).each(os=>{Ao.setValue(Qn,$q(os))})})},onInput:Vn=>_r(Vn,f$),coupledFieldBehaviours:ho([qs.config({}),ls.config({mode:"flow",focusInside:Cf.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),as.config({disabled:he,onDisabled:Vn=>{Zl.getField1(Vn).bind(Ir.getField).each(as.disable),Zl.getField2(Vn).bind(Ir.getField).each(as.disable),Zl.getLock(Vn).each(as.disable)},onEnabled:Vn=>{Zl.getField1(Vn).bind(Ir.getField).each(as.enable),Zl.getField2(Vn).bind(Ir.getField).each(as.enable),Zl.getLock(Vn).each(as.enable)}}),Ec(()=>l.checkUiComponentContext("mode:design")),Gs("size-input-toolbar-events2",[En(q,(Vn,Qn)=>{const Gn=Qn.event.isField1,Es=Gn?Zl.getField1(Vn):Zl.getField2(Vn),os=Gn?Zl.getField2(Vn):Zl.getField1(Vn),Dr=Es.map(Ao.getValue).getOr(""),ks=os.map(Ao.getValue).getOr("");I=Cy(Dr,ks)}),En(f$,Vn=>s.onInput(Y(Vn))),...vo])])})},OZ=(s,l,h)=>Ir.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...s.toArray(),l],fieldBehaviours:ho([as.config({disabled:()=>h.checkUiComponentContext("mode:design").shouldDisable,onDisabled:g=>{JC(g),Ir.getField(g).each(as.disable)},onEnabled:g=>{Ir.getField(g).each(as.enable)}})])}),Mhe=(s,l,h,g)=>{const E=Wt(se),O=Y=>aL(Y,g),I=s.label.map(Y=>Ir.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[va(l.translate(Y))]})),q=Ir.parts.field({factory:lv,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(s.min()),max:String(s.max())},data:s.initValue().toString(),fromInputValue:Y=>gc(Y).getOr(s.min()),toInputValue:Y=>String(Y),inputBehaviours:ho([as.config({disabled:()=>l.checkUiComponentContext("mode:design").shouldDisable}),Ec(()=>l.checkUiComponentContext("mode:design")),ls.config({mode:"special",onEnter:h,onLeft:(Y,oe)=>(oe.cut(),ee.none()),onRight:(Y,oe)=>(oe.cut(),ee.none())}),Gs("slider-events",[Ob({onSetup:s.onSetup,getApi:O,onBeforeSetup:ls.focusIn},E),cN({getApi:O},E,g),En(Xp(),Y=>{s.onInput(O(Y))})])])});return OZ(I,q,l)},Phe=(s,l,h,g)=>{const E=Wt(se),O=he=>aL(he,g),I=s.label.map(he=>Ir.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[va(l.translate(he))]})),Y={...s.placeholder.map(he=>({placeholder:l.translate(he)})).getOr({})},oe=Ir.parts.field({factory:lv,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:Y,data:s.initValue(),selectOnFocus:!0,inputBehaviours:ho([as.config({disabled:()=>l.checkUiComponentContext("mode:design").shouldDisable}),Ec(()=>l.checkUiComponentContext("mode:design")),ls.config({mode:"special",onEnter:h,onLeft:(he,ve)=>(ve.cut(),ee.none()),onRight:(he,ve)=>(ve.cut(),ee.none())}),Gs("input-events",[Ob({onSetup:s.onSetup,getApi:he=>Fh(he.element,".tox-toolbar").bind(Me=>ii(Me,"button:enabled")).fold(()=>aL(he,g),Me=>aL(he,g,Me)),onBeforeSetup:ls.focusIn},E),cN({getApi:O},E,g),En(Xp(),he=>{s.onInput(O(he))})])])});return OZ(I,oe,l)},BU=(s,l,h)=>{const g=As(),O=pi(s(h,oe=>q.findPrimary(oe).orThunk(()=>Y.findPrimary(oe)).map(he=>(cw(he),!0)),g)),I=ms(l.commands,oe=>oe.align==="start"),q=AZ(O,I.pass,h,g),Y=AZ(O,I.fail,h,g);return Vo([{title:ee.none(),label:ee.none(),items:q.asSpecs()},{title:ee.none(),label:ee.none(),items:[O.asSpec()]},{title:ee.none(),label:ee.none(),items:Y.asSpecs()}],oe=>oe.items.length>0)},IZ=(s,l)=>{switch(s.type){case"contextform":return BU($e(Phe,s),s,l);case"contextsliderform":return BU($e(Mhe,s),s,l);case"contextsizeinputform":return BU($e(xZ,s),s,l)}},RZ={renderContextForm:(s,l,h)=>XN({type:s,uid:wo("context-toolbar"),initGroups:IZ(l,h),onEscape:ee.none,cyclicKeying:!0,providers:h}),buildInitGroups:IZ},kZ=(s,l,h)=>l.bottom-s.y>=h&&s.bottom-l.y>=h,Nhe=s=>{const l=s.getBoundingClientRect();if(l.height<=0&&l.width<=0){const h=Cl(po.fromDom(s.startContainer),s.startOffset).element;return(Mh(h)?to(h):ee.some(h)).filter(xc).map(E=>E.dom.getBoundingClientRect()).getOr(l)}else return l},cL=s=>{const l=s.selection.getRng(),h=Nhe(l);if(s.inline){const g=Ha();return Gr(g.left+h.left,g.top+h.top,h.width,h.height)}else{const g=ip(po.fromDom(s.getBody()));return Gr(g.x+h.left,g.y+h.top,h.width,h.height)}},FU=(s,l)=>l.filter(h=>zr(h)&&st(h)).map(ip).getOrThunk(()=>cL(s)),DZ=(s,l,h)=>{const g=Math.max(s.x+h,l.x),E=Math.min(s.right-h,l.right);return{x:g,width:E-g}},MZ=(s,l,h,g,E,O)=>{const I=po.fromDom(s.getContainer()),q=ii(I,".tox-editor-header").getOr(I),Y=Fl(q),oe=Y.y>=l.bottom,he=g&&!oe;if(s.inline&&he)return{y:Math.max(Y.bottom+O,h.y),bottom:h.bottom};if(s.inline&&!he)return{y:h.y,bottom:Math.min(Y.y-O,h.bottom)};const ve=E==="line"?Fl(I):l;return he?{y:Math.max(Y.bottom+O,h.y),bottom:Math.min(ve.bottom-O,h.bottom)}:{y:Math.max(ve.y+O,h.y),bottom:Math.min(Y.y-O,h.bottom)}},PZ=(s,l,h,g=0)=>{const E=el(window),O=Fl(po.fromDom(s.getContentAreaContainer())),I=VP(s)||HP(s)||yR(s),{x:q,width:Y}=DZ(O,E,g);if(s.inline&&!I)return Gr(q,E.y,Y,E.height);{const oe=l.header.isPositionedAtTop(),{y:he,bottom:ve}=MZ(s,O,E,oe,h,g);return Gr(q,he,Y,ve-he)}},lS=12,ik={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},ak={maxHeightFunction:A1(),maxWidthFunction:iI()},VU=(s,l)=>{const h=s.selection.getRng(),g=Cl(po.fromDom(h.startContainer),h.startOffset);return h.startContainer===h.endContainer&&h.startOffset===h.endOffset-1&&Ie(g.element,l)},HU=(s,l,h)=>{const g=fa(s,"position");Ds(s,"position",l);const E=h(s);return g.each(O=>Ds(s,"position",O)),E},$U=s=>s==="node",uL=(s,l,h,g,E)=>{const O=cL(s),I=g.lastElement().exists(q=>Ie(h,q));if(VU(s,h))return I?jd:zh;if(I)return HU(l,g.getMode(),()=>kZ(O,Fl(l),-20)&&!g.isReposition()?Q2:jd);{const q=g.getMode()==="fixed"?E.y+Ha().top:E.y,Y=_l(l)+lS;return q+Y<=O.y?zh:pC}},NZ=(s,l,h,g)=>{const E=Y=>(oe,he,ve,Me,Ge)=>{const Ze=uL(s,Me,Y,h,Ge),at={...oe,y:Ge.y,height:Ge.height};return{...Ze(at,he,ve,Me,Ge),alwaysFit:!0}},O=Y=>$U(g)?[E(Y)]:[];return l?{onLtr:Y=>[lc,za,Ui,ja,dl,ac].concat(O(Y)),onRtl:Y=>[lc,Ui,za,dl,ja,ac].concat(O(Y))}:{onLtr:Y=>[ac,lc,ja,za,dl,Ui].concat(O(Y)),onRtl:Y=>[ac,lc,dl,Ui,ja,za].concat(O(Y))}},LZ=(s,l,h,g)=>l==="line"?{bubble:Kn(lS,0,ik),layouts:{onLtr:()=>[KT],onRtl:()=>[ZT]},overrides:ak}:{bubble:Kn(0,lS,ik,1/lS),layouts:NZ(s,h,g,l),overrides:ak},lk=(s,l)=>{const h=Vo(l,O=>O.predicate(s.dom)),{pass:g,fail:E}=ms(h,O=>O.type==="contexttoolbar");return{contextToolbars:g,contextForms:E}},Lhe=s=>{if(s.length<=1)return s;{const l=O=>eo(s,I=>I.position===O),h=O=>Vo(s,I=>I.position===O),g=l("selection"),E=l("node");if(g||E)if(E&&g){const O=h("node"),I=Dt(h("selection"),q=>({...q,position:"node"}));return O.concat(I)}else return h(g?"selection":"node");else return h("line")}},BZ=s=>{if(s.length<=1)return s;{const l=g=>xt(s,E=>E.position===g);return l("selection").orThunk(()=>l("node")).orThunk(()=>l("line")).map(g=>g.position).fold(()=>[],g=>Vo(s,E=>E.position===g))}},Bhe=(s,l,h)=>{const g=lk(s,l);if(g.contextForms.length>0)return ee.some({elem:s,toolbars:[g.contextForms[0]]});{const E=lk(s,h);if(E.contextForms.length>0)return ee.some({elem:s,toolbars:[E.contextForms[0]]});if(g.contextToolbars.length>0||E.contextToolbars.length>0){const O=Lhe(g.contextToolbars.concat(E.contextToolbars));return ee.some({elem:s,toolbars:O})}else return ee.none()}},Fhe=(s,l,h)=>s(l)?ee.none():n0(l,g=>{if(xc(g)){const{contextToolbars:E,contextForms:O}=lk(g,h.inNodeScope),I=O.length>0?O:BZ(E);return I.length>0?ee.some({elem:g,toolbars:I}):ee.none()}else return ee.none()},s),dL=(s,l)=>{const h=po.fromDom(l.getBody()),g=I=>Ie(I,h),E=I=>!g(I)&&!Be(h,I),O=po.fromDom(l.selection.getNode());return E(O)?ee.none():Bhe(O,s.inNodeScope,s.inEditorScope).orThunk(()=>Fhe(g,O,s))},FZ=(s,l)=>{const h={},g=[],E=[],O={},I={},q=(he,ve)=>{const Me=cp(ole(ve));h[he]=Me,Me.launch.map(Ge=>{O["form:"+he]={...ve.launch,type:Ge.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{l(Me)}}}),Me.scope==="editor"?E.push(Me):g.push(Me),I[he]=Me},Y=(he,ve)=>{rle(ve).each(Me=>{Me.launch.isSome()&&(O["toolbar:"+he]={...ve.launch,type:"button",onAction:()=>{l(Me)}}),ve.scope==="editor"?E.push(Me):g.push(Me),I[he]=Me})},oe=io(s);return un(oe,he=>{const ve=s[he];ve.type==="contextform"||ve.type==="contextsliderform"||ve.type==="contextsizeinputform"?q(he,ve):ve.type==="contexttoolbar"&&Y(he,ve)}),{forms:h,inNodeScope:g,inEditorScope:E,lookupTable:I,formNavigators:O}},UU="tox-pop--transition",Vhe=s=>s===sL.ENTER||s===sL.SPACEBAR,Hhe=(s,l,h,g)=>{const E=g.backstage,O=E.shared,I=Gi().deviceType.isTouch,q=As(),Y=As(),oe=As(),he=$de({sink:h,onEscape:()=>(s.focus(),fN(s),ee.some(!0)),onHide:()=>{fN(s)},onBack:()=>{jle(s)},focusElement:ks=>{s.getBody().contains(ks.dom)?s.focus():ra(ks)}}),ve=k(he.sketch),Me=()=>{const ks=oe.get().getOr("node"),rr=$U(ks)?1:0;return PZ(s,O,ks,rr)},Ge=()=>!s.removed&&!(I()&&E.isContextMenuOpen()),Ze=ks=>Pc(Tc(ks,q.get(),Ie),!0),at=()=>{if(Ge()){const ks=Me(),rr=Pc(oe.get(),"node")?FU(s,q.get()):cL(s);return ks.height<=0||!kZ(rr,ks,.01)}else return!0},yt=()=>{q.clear(),Y.clear(),oe.clear(),ol.hide(ve)},ot=()=>{if(ol.isOpen(ve)){const ks=ve.element;wr(ks,"display"),at()?Ds(ks,"display","none"):(Y.set(0),ol.reposition(ve))}},_t=ks=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[ks],behaviours:ho([ls.config({mode:"acyclic"}),Gs("pop-dialog-wrap-events",[Ta(rr=>{s.shortcuts.add("ctrl+F9","focus statusbar",()=>ls.focusIn(rr))}),ev(rr=>{s.shortcuts.remove("ctrl+F9")})])])}),Lt=ks=>{const rr=Vn([ks]);bs(ve,SU,{forwardContents:_t(rr)})},an=Qc(()=>FZ(l,Lt)),hn=(ks,rr)=>rL(s,{buttons:ks,toolbar:rr.items,allowToolbarGroups:!1},g.backstage,ee.some(["form:","toolbar:"])),vo=(ks,rr)=>RZ.buildInitGroups(ks,rr),Vn=ks=>{const{buttons:rr}=s.ui.registry.getAll(),ns=an(),Bn={...rr,...ns.formNavigators},mo=Jw(s)===sg.scrolling?sg.scrolling:sg.default,Ns=vn(Dt(ks,ir=>ir.type==="contexttoolbar"?hn(Bn,MR(ir)):vo(ir,O.providers)));return XN({type:mo,uid:wo("context-toolbar"),initGroups:Ns,onEscape:ee.none,cyclicKeying:!0,providers:O.providers})},Qn=(ks,rr)=>{const ns=ks==="node"?O.anchors.node(rr):O.anchors.cursor(),Bn=LZ(s,ks,I(),{lastElement:q.get,isReposition:()=>Pc(Y.get(),0),getMode:()=>qd.getMode(h)});return Xr(ns,Bn)},Gn=(ks,rr)=>{if(Dr.cancel(),!Ge())return;const ns=Vn(ks),Bn=ks[0].position,mo=Qn(Bn,rr);oe.set(Bn),Y.set(1);const Ns=ve.element;wr(Ns,"display"),Ze(rr)||(ui(Ns,UU),qd.reset(h,ve)),ol.showWithinBounds(ve,_t(ns),{anchor:mo,transition:{classes:[UU],mode:"placement"}},()=>ee.some(Me())),rr.fold(q.clear,q.set),at()&&Ds(Ns,"display","none")},Es=()=>{Ds(ve.element,"transition","none"),ot(),wr(ve.element,"transition")};let os=!1;const Dr=zl(()=>{if(!(!s.hasFocus()||s.removed||os))if(Xa(ve.element,UU))Dr.throttle();else{const ks=an();dL(ks,s).fold(yt,rr=>{Gn(rr.toolbars,ee.some(rr.elem))})}},17);s.on("init",()=>{s.on("remove",yt),s.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ot),s.on("click focus SetContent",Dr.throttle),s.on("keyup",ks=>{(!Vhe(ks.keyCode)||!he.inSubtoolbar())&&Dr.throttle()}),s.on(_Z,yt),s.on(Ihe,ks=>{const rr=an();wt(rr.lookupTable,ks.toolbarKey).each(ns=>{Gn([ns],al(ks.target!==s,ks.target)),bU(ve)})}),s.on("focusout",ks=>{LP.setEditorTimeout(s,()=>{Ya(h.element).isNone()&&Ya(ve.element).isNone()&&!s.hasFocus()&&yt()},0)}),s.on("SwitchMode",()=>{s.mode.isReadOnly()&&yt()}),s.on("DisabledStateChange",ks=>{ks.state&&yt()}),s.on("ExecCommand",({command:ks})=>{ks.toLowerCase()==="toggleview"&&yt()}),s.on("AfterProgressState",ks=>{ks.state?yt():s.hasFocus()&&Dr.throttle()}),s.on("dragstart",()=>{os=!0}),s.on("dragend drop",()=>{os=!1}),s.on("NodeChange",ks=>{he.inSubtoolbar()?Es():Ya(ve.element).fold(Dr.throttle,se)})})},$he=s=>{un([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],h=>{s.ui.registry.addToggleButton(h.name,{tooltip:h.text,icon:h.icon,onAction:pm(s,h.cmd),onSetup:HR(s,h.name)})}),s.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:qh(s),onAction:pm(s,"JustifyNone")})},VZ=(s,l)=>{const h=()=>{const g=l.getOptions(s),E=l.getCurrent(s).map(l.hash),O=As();return Dt(g,I=>({type:"togglemenuitem",text:l.display(I),onSetup:q=>{const Y=he=>{he&&(O.on(ve=>ve.setActive(!1)),O.set(q)),q.setActive(he)};Y(Pc(E,l.hash(I)));const oe=l.watcher(s,I,Y);return()=>{O.clear(),oe()}},onAction:()=>l.setCurrent(s,I)}))};s.ui.registry.addMenuButton(l.name,{tooltip:l.text,icon:l.icon,fetch:g=>g(h()),onSetup:l.onToolbarSetup}),s.ui.registry.addNestedMenuItem(l.name,{type:"nestedmenuitem",text:l.text,getSubmenuItems:h,onSetup:l.onMenuSetup})},HZ=s=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:PW,hash:l=>xi(l,["fixed","relative","empty"]).getOr(l),display:ke,watcher:(l,h,g)=>l.formatter.formatChanged("lineheight",g,!1,{value:h}).unbind,getCurrent:l=>ee.from(l.queryCommandValue("LineHeight")),setCurrent:(l,h)=>l.execCommand("LineHeight",!1,h),onToolbarSetup:qh(s),onMenuSetup:qh(s)}),$Z=s=>ee.from(pW(s)).map(h=>({name:"language",text:"Language",icon:"language",getOptions:V(h),hash:g=>H(g.customCode)?g.code:`${g.code}/${g.customCode}`,display:g=>g.title,watcher:(g,E,O)=>g.formatter.formatChanged("lang",O,!1,{value:E.code,customValue:E.customCode??null}).unbind,getCurrent:g=>{const E=po.fromDom(g.selection.getNode());return Lu(E,O=>ee.some(O).filter(xc).bind(I=>lr(I,"lang").map(Y=>{const oe=lr(I,"data-mce-lang").getOrUndefined();return{code:Y,customCode:oe,title:""}})))},setCurrent:(g,E)=>g.execCommand("Lang",!1,E),onToolbarSetup:g=>{const E=na();return g.setActive(s.formatter.match("lang",{},void 0,!0)),E.set(s.formatter.formatChanged("lang",g.setActive,!0)),pN(E.clear,qh(s)(g))},onMenuSetup:qh(s)})),UZ=s=>{VZ(s,HZ(s)),$Z(s).each(l=>VZ(s,l))},zZ=(s,l)=>{qde(s,l),ehe(s,l),fhe(s,l),rZ(s,l),uhe(s,l)},Uhe=s=>{s.ui.registry.addContext("editable",()=>s.selection.isEditable()),s.ui.registry.addContext("mode",l=>s.mode.get()===l),s.ui.registry.addContext("any",St),s.ui.registry.addContext("formatting",l=>s.formatter.canApply(l)),s.ui.registry.addContext("insert",l=>s.schema.isValidChild(s.selection.getNode().tagName,l))},jZ=s=>ZC(s,"NodeChange",l=>{l.setEnabled(s.queryCommandState("outdent")&&s.selection.isEditable())}),WZ=s=>{s.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:jZ(s),onAction:pm(s,"outdent")}),s.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:qh(s,()=>s.queryCommandState("indent")),onAction:pm(s,"indent")})},zhe=s=>{WZ(s)},jhe=(s,l)=>h=>{h.setActive(l.get());const g=E=>{l.set(E.state),h.setActive(E.state)};return s.on("PastePlainTextToggle",g),pN(()=>s.off("PastePlainTextToggle",g),qh(s)(h))},Whe=s=>{const l=Wt(IW(s)),h=()=>s.execCommand("mceTogglePlainTextPaste");s.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:h,onSetup:jhe(s,l)}),s.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:h,onSetup:jhe(s,l)})},zU=(s,l)=>()=>{s.execCommand("mceToggleFormat",!1,l)},Ghe=s=>{aS.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,h)=>{s.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:HR(s,l.name),onAction:zU(s,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const h="h"+l,g=`Access+${l}`;s.ui.registry.addToggleButton(h,{text:h.toUpperCase(),tooltip:"Heading "+l,onSetup:HR(s,h),onAction:zU(s,h),shortcut:g})}},qhe=s=>{aS.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{s.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:pm(s,l.action),shortcut:l.shortcut,context:l.context})}),aS.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{s.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:qh(s),onAction:pm(s,l.action)})})},Khe=s=>{aS.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{s.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:pm(s,l.action),onSetup:HR(s,l.name)})})},Zhe=s=>{Ghe(s),qhe(s),Khe(s)},Yhe=s=>{aS.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{s.ui.registry.addMenuItem(l.name,{text:l.text,icon:l.icon,shortcut:l.shortcut,onAction:pm(s,l.action),context:l.context})}),aS.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{s.ui.registry.addMenuItem(l.name,{text:l.text,icon:l.icon,shortcut:l.shortcut,onSetup:qh(s),onAction:pm(s,l.action)})}),s.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:qh(s),onAction:zU(s,"code")})},Xhe=s=>{Zhe(s),Yhe(s)},hL=(s,l)=>ZC(s,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",h=>{h.setEnabled(!s.mode.isReadOnly()&&s.undoManager[l]())}),Jhe=s=>{s.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:hL(s,"hasUndo"),onAction:pm(s,"undo")}),s.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:hL(s,"hasRedo"),onAction:pm(s,"redo")})},Qhe=s=>{s.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:hL(s,"hasUndo"),onAction:pm(s,"undo"),shortcut:"Meta+Z"}),s.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:hL(s,"hasRedo"),onAction:pm(s,"redo"),shortcut:"Meta+Y"})},efe=s=>{Jhe(s),Qhe(s)},tfe=s=>ZC(s,"VisualAid",l=>{l.setActive(s.hasVisual)}),GZ=s=>{s.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:tfe(s),onAction:pm(s,"mceToggleVisualAid"),context:"any"})},nfe=s=>{s.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:pm(s,"mceToggleVisualAid"),context:"any"})},ofe=s=>{nfe(s),GZ(s)},sfe=(s,l)=>{$he(s),Xhe(s),zZ(s,l),efe(s),$G(s),ofe(s),zhe(s),UZ(s),Whe(s),Uhe(s)},rfe=s=>v(s)?s.split(/[ ,]/):s,qZ=s=>l=>l.options.get(s),KZ=s=>{const l=s.options.register;l("contextmenu_avoid_overlap",{processor:"string",default:""}),l("contextmenu_never_use_native",{processor:"boolean",default:!1}),l("contextmenu",{processor:h=>h===!1?{value:[],valid:!0}:v(h)||ce(h,v)?{value:rfe(h),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},fL=qZ("contextmenu_never_use_native"),ife=qZ("contextmenu_avoid_overlap"),ZZ=s=>YZ(s).length===0,YZ=s=>{const l=s.ui.registry.getAll().contextMenus,h=s.options.get("contextmenu");return s.options.isSet("contextmenu")?h:Vo(h,g=>Zt(l,g))},ck=(s,l)=>({type:"makeshift",x:s,y:l}),afe=(s,l,h)=>ck(s.x+l,s.y+h),XZ=s=>s.type==="longpress"||s.type.indexOf("touch")===0,lfe=s=>{if(XZ(s)){const l=s.touches[0];return ck(l.pageX,l.pageY)}else return ck(s.pageX,s.pageY)},jU=s=>{if(XZ(s)){const l=s.touches[0];return ck(l.clientX,l.clientY)}else return ck(s.clientX,s.clientY)},cfe=(s,l)=>{const h=mR.DOM.getPos(s);return afe(l,h.x,h.y)},ufe=(s,l)=>l.type==="contextmenu"||l.type==="longpress"?s.inline?lfe(l):cfe(s.getContentAreaContainer(),jU(l)):pL(s),pL=s=>({type:"selection",root:po.fromDom(s.selection.getNode())}),JZ=s=>({type:"node",node:ee.some(po.fromDom(s.selection.getNode())),root:po.fromDom(s.getBody())}),WU=(s,l,h)=>{switch(h){case"node":return JZ(s);case"point":return ufe(s,l);case"selection":return pL(s)}},dfe=(s,l,h,g,E,O)=>{const I=h(),q=WU(s,l,O);T_(I,my.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!1,search:ee.none()}).map(Y=>{l.preventDefault(),ol.showMenuAt(E,{anchor:q},{menu:{markers:UC("normal")},data:Y})})},hfe={onLtr:()=>[lc,za,Ui,ja,dl,ac,zh,pC,gn,Xv,fC,Zm],onRtl:()=>[lc,Ui,za,dl,ja,ac,zh,pC,fC,Zm,gn,Xv]},ffe=12,pfe={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},mfe=(s,l)=>{const h=s.selection;if(h.isCollapsed()||l.touches.length<1)return!1;{const g=l.touches[0],E=h.getRng();return Mg(s.getWin(),iu.domRange(E)).exists(I=>I.left<=g.clientX&&I.right>=g.clientX&&I.top<=g.clientY&&I.bottom>=g.clientY)}},GU=s=>{const l=s.selection.getRng(),h=()=>{LP.setEditorTimeout(s,()=>{s.selection.setRng(l)},10),O()};s.once("touchend",h);const g=I=>{I.preventDefault(),I.stopImmediatePropagation()};s.on("mousedown",g,!0);const E=()=>O();s.once("longpresscancel",E);const O=()=>{s.off("touchend",h),s.off("longpresscancel",E),s.off("mousedown",g)}},gfe=(s,l,h)=>{const g=WU(s,l,h);return{bubble:Kn(0,h==="point"?ffe:0,pfe),layouts:hfe,overrides:{maxWidthFunction:iI(),maxHeightFunction:A1()},...g}},QZ=(s,l,h,g,E,O,I)=>{const q=gfe(s,l,O);T_(h,my.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!0,search:ee.none()}).map(Y=>{l.preventDefault();const oe=I?Wd.HighlightMenuAndItem:Wd.HighlightNone;ol.showMenuWithinBounds(E,{anchor:q},{menu:{markers:UC("normal"),highlightOnOpen:oe},data:Y,type:"horizontal"},()=>ee.some(PZ(s,g.shared,O==="node"?"node":"selection"))),s.dispatch(_Z)})},vfe=(s,l,h,g,E,O)=>{const I=Gi(),q=I.os.isiOS(),Y=I.os.isMacOS(),oe=I.os.isAndroid(),he=I.deviceType.isTouch(),ve=()=>!(oe||q||Y&&he),Me=()=>{const Ge=h();QZ(s,l,Ge,g,E,O,ve())};if((Y||q)&&O!=="node"){const Ge=()=>{GU(s),Me()};mfe(s,l)?Ge():(s.once("selectionchange",Ge),s.once("touchend",()=>s.off("selectionchange",Ge)))}else Me()},eY=s=>v(s)?s==="|":s.type==="separator",uk={type:"separator"},tY=s=>{const l=h=>({text:h.text,icon:h.icon,enabled:h.enabled,shortcut:h.shortcut});if(v(s))return s;switch(s.type){case"separator":return uk;case"submenu":return{type:"nestedmenuitem",...l(s),getSubmenuItems:()=>{const g=s.getSubmenuItems();return v(g)?g:Dt(g,tY)}};default:const h=s;return{type:"menuitem",...l(h),onAction:Se(h.onAction)}}},qU=(s,l)=>{if(l.length===0)return s;const g=Yn(s).filter(E=>!eY(E)).fold(()=>[],E=>[uk]);return s.concat(g).concat(l).concat([uk])},KU=(s,l,h)=>{const g=Oo(l,(E,O)=>wt(s,O.toLowerCase()).map(I=>{const q=I.update(h);if(v(q)&&Ou(yo(q)))return qU(E,q.split(" "));if(x(q)&&q.length>0){const Y=Dt(q,tY);return qU(E,Y)}else return E}).getOrThunk(()=>E.concat([O])),[]);return g.length>0&&eY(g[g.length-1])&&g.pop(),g},yfe=(s,l)=>l.ctrlKey&&!fL(s),bfe=s=>s.type==="longpress"||Zt(s,"touches"),nY=(s,l)=>!bfe(l)&&(l.button!==2||l.target===s.getBody()&&l.pointerType===""),oY=(s,l)=>nY(s,l)?s.selection.getStart(!0):l.target,Sfe=(s,l)=>{const h=ife(s),g=nY(s,l)?"selection":"point";if(Ou(h)){const E=oY(s,l);return Xy(po.fromDom(E),h)?"node":g}else return g},sY=(s,l,h)=>{const E=Gi().deviceType.isTouch,O=k(ol.sketch({dom:{tag:"div"},lazySink:l,onEscape:()=>s.focus(),onShow:()=>h.setContextMenuState(!0),onHide:()=>h.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:ho([Gs("dismissContextMenu",[En(Kg(),(Y,oe)=>{ti.close(Y),s.focus()})])])})),I=()=>ol.hide(O),q=Y=>{if(fL(s)&&Y.preventDefault(),yfe(s,Y)||ZZ(s))return;const oe=Sfe(s,Y),he=()=>{const Me=oY(s,Y),Ge=s.ui.registry.getAll(),Ze=YZ(s);return KU(Ge.contextMenus,Ze,Me)};(E()?vfe:dfe)(s,Y,he,h,O,oe)};s.on("init",()=>{const Y="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(E()?"":" ResizeWindow");s.on(Y,I),s.on("longpress contextmenu",q)})},ZU=40,mL=ZU/2,rY=(s,l,h,g,E,O)=>s.fold(()=>zw.snap({sensor:G1(h-mL,g-mL),range:ri(E,O),output:G1(ee.some(h),ee.some(g)),extra:{td:l}}),I=>{const q=h-mL,Y=g-mL,oe=ZU,he=ZU,ve=I.element.dom.getBoundingClientRect();return zw.snap({sensor:G1(q,Y),range:ri(oe,he),output:G1(ee.some(h-ve.width/2),ee.some(g-ve.height/2)),extra:{td:l}})}),iY=(s,l,h)=>{const g=(E,O)=>E.exists(I=>Ie(I,O));return{getSnapPoints:s,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(E,O)=>{const I=O.td;g(l.get(),I)||(l.set(I),h(I))},mustSnap:!0}},aY=s=>pi(yd.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:ho([zw.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:s}),qA.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),Cfe=(s,l)=>{const h=Wt([]),g=Wt([]),E=Wt(!1),O=As(),I=As(),q=Vn=>{const Qn=ip(Vn);return rY(Ge.getOpt(l),Vn,Qn.x,Qn.y,Qn.width,Qn.height)},Y=()=>Dt(h.get(),Vn=>q(Vn)),oe=Vn=>{const Qn=ip(Vn);return rY(Ze.getOpt(l),Vn,Qn.right,Qn.bottom,Qn.width,Qn.height)},he=()=>Dt(g.get(),Vn=>oe(Vn)),ve=iY(Y,O,Vn=>{I.get().each(Qn=>{s.dispatch("TableSelectorChange",{start:Vn,finish:Qn})})}),Me=iY(he,I,Vn=>{O.get().each(Qn=>{s.dispatch("TableSelectorChange",{start:Qn,finish:Vn})})}),Ge=aY(ve),Ze=aY(Me),at=k(Ge.asSpec()),yt=k(Ze.asSpec()),ot=(Vn,Qn,Gn,Es)=>{const os=Qn.dom.getBoundingClientRect();wr(Vn.element,"display");const Dr=Ln(po.fromDom(s.getBody())).dom.innerHeight,ks=Gn(os),rr=Es(os,Dr);(ks||rr)&&Ds(Vn.element,"display","none")},_t=(Vn,Qn,Gn,Es)=>{const os=Gn(Qn);zw.snapTo(Vn,os),ot(Vn,Qn,rr=>rr[Es]<0,(rr,ns)=>rr[Es]>ns)},Lt=Vn=>_t(at,Vn,q,"top"),an=()=>O.get().each(Lt),hn=Vn=>_t(yt,Vn,oe,"bottom"),vo=()=>I.get().each(hn);if(Gi().deviceType.isTouch()){const Vn=Qn=>Dt(Qn,po.fromDom);s.on("TableSelectionChange",Qn=>{E.get()||(sy(l,at),sy(l,yt),E.set(!0));const Gn=po.fromDom(Qn.start),Es=po.fromDom(Qn.finish);O.set(Gn),I.set(Es),ee.from(Qn.otherCells).each(os=>{h.set(Vn(os.upOrLeftCells)),g.set(Vn(os.downOrRightCells)),Lt(Gn),hn(Es)})}),s.on("ResizeEditor ResizeWindow ScrollContent",()=>{an(),vo()}),s.on("TableSelectionClear",()=>{E.get()&&(ry(at),ry(yt),E.set(!1)),O.clear(),I.clear()})}};var Efe=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const wfe=s=>s.nodeName==="BR"||!!s.getAttribute("data-mce-bogus")||s.getAttribute("data-mce-type")==="bookmark",_fe=(s,l,h)=>{const g=l.delimiter??"",E=(Y,oe,he)=>yd.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":he}},components:[va(Y)],action:ve=>{s.focus(),s.selection.select(oe),s.nodeChanged()},buttonBehaviours:ho([ba.config({...h.tooltips.getConfig({tooltipText:h.translate(["Select the {0} element",oe.nodeName.toLowerCase()]),onShow:(ve,Me)=>{Hd(ve.element,Me.element)},onHide:ve=>{HE(ve.element)}})}),by.button(h.isDisabled),Ec(()=>h.checkUiComponentContext("any"))])}),O=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[va(` ${g} `)]}),I=Y=>Oo(Y,(oe,he,ve)=>{const Me=E(he.name,he.element,ve);return ve===0?oe.concat([Me]):oe.concat([O(),Me])},[]),q=Y=>{const oe=[];let he=Y.length;for(;he-- >0;){const ve=Y[he];if(ve.nodeType===1&&!wfe(ve)){const Me=TG(s,ve);if(Me.isDefaultPrevented()||oe.push({name:Me.name,element:ve}),Me.isPropagationStopped())break}}return oe};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ho([ls.config({mode:"flow",selector:"div[role=button]"}),as.config({disabled:h.isDisabled}),Ec(()=>h.checkUiComponentContext("any")),ya.config({}),Xs.config({}),Gs("elementPathEvents",[Ta((Y,oe)=>{s.shortcuts.add("alt+F11","focus statusbar elementpath",()=>ls.focusIn(Y)),s.on("NodeChange",he=>{const ve=q(he.parents),Me=ve.length>0?I(ve):[];Xs.set(Y,Me)})})])]),components:[]}};var N0;(function(s){s[s.None=0]="None",s[s.Both=1]="Both",s[s.Vertical=2]="Vertical"})(N0||(N0={}));const YU=s=>{const l=po.fromDom(s.getContainer()),h=_l(l),g=Sc(l);return{height:h,width:g}},Tfe=(s,l,h,g)=>({height:R_(g.height+l.top,kc(s),yV(s)),width:h===N0.Both?R_(g.width+l.left,vR(s),BP(s)):g.width}),XU=(s,l,h)=>{const g=po.fromDom(s.getContainer()),E=YU(s),O=Tfe(s,l,h,E);return _s(O,(I,q)=>{te(I)&&Ds(g,q,Ax(I))}),Lle(s),O},Afe=s=>{const l=EV(s);return l===!1?N0.None:l==="both"?N0.Both:N0.Vertical},xfe=(s,l)=>l===N0.Both?Sd.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",s.height,s.width]):Sd.translate(["Editor's height: {0} pixels",s.height]),JU=(s,l,h)=>{gs(s.element,"aria-valuetext",xfe(l,h))},L0=(s,l,h,g,E)=>{const I=ri(g*20,E*20),q=XU(s,I,h);return JU(l,q,h),ee.some(!0)},lY=(s,l)=>{const h=Afe(s);if(h===N0.None)return ee.none();const g=h===N0.Both?Sd.translate("Press the arrow keys to resize the editor."):Sd.translate("Press the Up and Down arrow keys to resize the editor."),E=h===N0.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return ee.some(rg("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",E],attributes:{"aria-label":l.translate(g),"data-mce-name":"resize-handle",role:"separator"},behaviours:[zw.config({mode:"mouse",repositionTarget:!1,onDrag:(O,I,q)=>{const Y=XU(s,q,h);JU(O,Y,h)},blockerClass:"tox-blocker"}),ls.config({mode:"special",onLeft:O=>L0(s,O,h,-1,0),onRight:O=>L0(s,O,h,1,0),onUp:O=>L0(s,O,h,0,-1),onDown:O=>L0(s,O,h,0,1)}),ya.config({}),qs.config({}),ba.config(l.tooltips.getConfig({tooltipText:l.translate("Resize")})),Gs("set-aria-valuetext",[Ta(O=>{const I=()=>{JU(O,YU(s),h)};s._skinLoaded?I():s.once("SkinLoaded",I)})])],eventOrder:{[tm()]:["add-focusable","set-aria-valuetext"]}},l.icons))},Ofe=(s,l)=>{const h=(g,E,O)=>Xs.set(g,[va(l.translate(["{0} "+O,E[O]]))]);return yd.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ho([by.button(l.isDisabled),Ec(()=>l.checkUiComponentContext("any")),ya.config({}),Xs.config({}),Ao.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Gs("wordcount-events",[bb(g=>{const E=Ao.getValue(g),O=E.mode==="words"?"characters":"words";Ao.setValue(g,{mode:O,count:E.count}),h(g,E.count,O)}),Ta(g=>{s.on("wordCountUpdate",E=>{const{mode:O}=Ao.getValue(g);Ao.setValue(g,{mode:O,count:E.wordCount}),h(g,E.wordCount,O)})})])]),eventOrder:{[lu()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},Ife=(s,l)=>{const h=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":s.translate(["Build with {0}","TinyMCE"])},innerHtml:s.translate(["Build with {0}",Efe.trim()])},behaviours:ho([qs.config({})])}]}),g=()=>{const q=LH("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[va(Sd.translate(["Press {0} for help",q]))]}},E=()=>{const q=[];return s.hasPlugin("wordcount")&&q.push(Ofe(s,l)),CV(s)&&q.push(h()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:q}},O=()=>{const q=[],Y=_V(s),oe=SV(s),he=CV(s)||s.hasPlugin("wordcount"),ve=()=>{const Me="tox-statusbar__text-container--flex-start",Ge="tox-statusbar__text-container--flex-end",Ze="tox-statusbar__text-container--space-around";if(Y){const at="tox-statusbar__text-container-3-cols";return!he&&!oe?[at,Ze]:he&&!oe?[at,Ge]:[at,Me]}return[he&&!oe?Ge:Me]};return oe&&q.push(_fe(s,{},l)),Y&&q.push(g()),he&&q.push(E()),q.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...ve()]},components:q}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const q=O(),Y=lY(s,l);return q.concat(Y.toArray())})()}},cY=(s,l)=>l.get().getOrDie(`UI for ${s} has not been rendered`),Rfe=(s,l)=>{const h=s.inline,g=h?wZ:iL,E=ex(s)?que:jue,O=Ohe(),I=As(),q=As(),Y=As(),Me=Gi().deviceType.isTouch()?["tox-platform-touch"]:[],Ge=xV(s),Ze=Jw(s),at=pi({dom:{tag:"div",classes:["tox-anchorbar"]}}),yt=pi({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),ot=()=>O.mainUi.get().map(cs=>cs.outerContainer).bind(qi.getHeader),_t=()=>zo.fromOption(O.dialogUi.get().map(cs=>cs.sink),"UI has not been rendered"),Lt=()=>zo.fromOption(O.popupUi.get().map(cs=>cs.sink),"(popup) UI has not been rendered"),an=O.lazyGetInOuterOrDie("anchor bar",at.getOpt),hn=O.lazyGetInOuterOrDie("bottom anchor bar",yt.getOpt),vo=O.lazyGetInOuterOrDie("toolbar",qi.getToolbar),Vn=O.lazyGetInOuterOrDie("throbber",qi.getThrobber),Qn=Hue({popup:Lt,dialog:_t},s,an,hn),Gn=()=>{const cs={attributes:{[aI]:Ge?Jv.BottomToTop:Jv.TopToBottom}},tr=qi.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Qn.popup,onEscape:()=>{s.focus()}}),ki=qi.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Qn.popup.shared.getSink,providers:Qn.popup.shared.providers,onEscape:()=>{s.focus()},onToolbarToggled:Ey=>{Fle(s,Ey)},type:Ze,lazyToolbar:vo,lazyHeader:()=>ot().getOrDie("Could not find header element"),...cs}),Ci=qi.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Qn.popup.shared.providers,onEscape:()=>{s.focus()},type:Ze}),Zh=yR(s),Wa=HP(s),Tp=VP(s),mu=RW(s),ug=Es(mu),Ap=Zh||Wa||Tp,gv=()=>Zh?[Ci]:Wa?[ki]:[],B0=[ug,tr];return qi.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Ap?[]:["tox-editor-header--empty"]),...cs},components:vn([Tp?B0:[],gv(),QA(s)?[]:[at.asSpec()]]),sticky:ex(s),editor:s,sharedBackstage:Qn.popup.shared})},Es=cs=>qi.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:cs}),os=()=>{const cs=qi.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),tr=qi.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[cs,tr]}},Dr=()=>{const cs=$P(s),tr=Ie(Bd(),cs)&&aa(cs,"display")==="grid",ki={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(Me),attributes:{...Sd.isRtl()?{dir:"rtl"}:{}}},behaviours:ho([qd.config({useFixed:()=>E.isDocked(ot)})])},Ci={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ia([En(mb(),Tp=>{Ds(Tp.element,"width",document.body.clientWidth+"px")})])},Zh=k(Xr(ki,tr?Ci:{})),Wa=AF(Zh);return q.set(Wa),{sink:Zh,mothership:Wa}},ks=()=>{const cs={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(Me),attributes:{...Sd.isRtl()?{dir:"rtl"}:{}}},behaviours:ho([qd.config({useFixed:()=>E.isDocked(ot),getBounds:()=>l.getPopupSinkBounds()})])},tr=k(cs),ki=AF(tr);return Y.set(ki),{sink:tr,mothership:ki}},rr=()=>{const cs=Gn(),tr=os(),ki=qi.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Qn.popup}),Ci=qi.parts.viewWrapper({backstage:Qn.popup}),Zh=OW(s)&&!h?ee.some(Ife(s,Qn.popup.shared.providers)):ee.none(),Wa=vn([Ge?[]:[cs],h?[]:[tr],Ge?[cs]:[]]),Tp=qi.parts.editorContainer({components:vn([Wa,h?[]:[yt.asSpec()]])}),mu=OV(s),ug={role:"application",...Sd.isRtl()?{dir:"rtl"}:{},...mu?{"aria-hidden":"true"}:{}},Ap=k(qi.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(h?["tox-tinymce-inline"]:[]).concat(Ge?["tox-tinymce--toolbar-bottom"]:[]).concat(Me),styles:{visibility:"hidden",...mu?{opacity:"0",border:"0"}:{}},attributes:ug},components:[Tp,...h?[]:[Ci,...Zh.toArray()],ki],behaviours:ho([Ec(()=>Qn.popup.shared.providers.checkUiComponentContext("any")),as.config({disableClass:"tox-tinymce--disabled"}),ls.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),gv=AF(Ap);return I.set(gv),{mothership:gv,outerContainer:Ap}},ns=cs=>{const tr=Ax(Ahe(s)),ki=Ax(xhe(s));return s.inline||(Pv("div","width",ki)&&Ds(cs.element,"width",ki),Pv("div","height",tr)?Ds(cs.element,"height",tr):Ds(cs.element,"height","400px")),tr},Bn=cs=>{s.addShortcut("alt+F9","focus menubar",()=>{qi.focusMenubar(cs)}),s.addShortcut("alt+F10","focus toolbar",()=>{qi.focusToolbar(cs)}),s.addCommand("ToggleToolbarDrawer",(tr,ki,Ci)=>{ki?.skipFocus?(Uue("skipFocus"),qi.toggleToolbarDrawerWithoutFocusing(cs)):Ci?.skip_focus?qi.toggleToolbarDrawerWithoutFocusing(cs):qi.toggleToolbarDrawer(cs)}),s.addQueryStateHandler("ToggleToolbarDrawer",()=>qi.isToolbarDrawerToggled(cs)),s.on("blur",()=>{Jw(s)===sg.floating&&qi.isToolbarDrawerToggled(cs)&&qi.toggleToolbarDrawerWithoutFocusing(cs)})},mo=cs=>{const{mainUi:tr,popupUi:ki,uiMotherships:Ci}=cs;Wo(gW(s),(F0,hk)=>{s.ui.registry.addGroupToolbarButton(hk,F0)});const{buttons:Zh,menuItems:Wa,contextToolbars:Tp,sidebars:mu,views:ug}=s.ui.registry.getAll(),Ap=AV(s),gv={menuItems:Wa,menus:LW(s),menubar:bW(s),toolbar:Ap.getOrThunk(()=>FP(s)),allowToolbarGroups:Ze===sg.floating,buttons:Zh,sidebar:mu,views:ug};Bn(tr.outerContainer),zue(s,tr.mothership,Ci),E.setup(s,Qn.popup.shared,ot),sfe(s,Qn.popup),sY(s,Qn.popup.shared.getSink,Qn.popup),Zue(s),rde(s,Vn,Qn.popup.shared),Hhe(s,Tp,ki.sink,{backstage:Qn.popup}),Cfe(s,ki.sink);const B0=s.getElement(),Ey=ns(tr.outerContainer),Ix={targetNode:B0,height:Ey};return g.render(s,cs,gv,Qn.popup,Ix)},Ns=cs=>(Y.set(cs.mothership),cs),ir=()=>{const cs=rr(),tr=Dr(),ki=VC(s)?ks():Ns(tr);O.dialogUi.set(tr),O.popupUi.set(ki),O.mainUi.set(cs);const Ci={popupUi:ki,dialogUi:tr,mainUi:cs,uiMotherships:O.getUiMotherships()};return mo(Ci)};return{popups:{backstage:Qn.popup,getMothership:()=>cY("popups",Y)},dialogs:{backstage:Qn.dialog,getMothership:()=>cY("dialogs",q)},renderUI:ir}},uY=s=>{const l=[],h={};return _s(s,(g,E)=>{g.fold(()=>{l.push(E)},O=>{h[E]=O})}),l.length>0?zo.error(l):zo.value(h)},dY=(s,l,h,g)=>{const E=pi(PC.sketch(O=>({dom:{tag:"div",classes:["tox-form"].concat(s.classes)},components:Dt(s.items,I=>lK(O,I,l,h,g))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[E.asSpec()]}],behaviours:ho([ls.config({mode:"acyclic",useTabstopAt:Re(GR)}),Sy.memento(E),uq(E,{postprocess:O=>uY(O).fold(I=>(console.error(I),{}),ke)}),Gs("dialog-body-panel",[En(bf(),(O,I)=>{O.getSystem().broadcastOn([RN],{newFocus:ee.some(I.event.target)})})])])}},kfe=(s,l,h)=>Dt(s,(g,E)=>{Xs.set(h,s[E].view());const O=l.dom.getBoundingClientRect();return Xs.set(h,[]),O.height}),Dfe=s=>Et(Gt(s,(l,h)=>l>h?-1:l<h?1:0)),Mfe=(s,l,h)=>{const g=kn(s).dom,E=Fh(s,".tox-dialog-wrap").getOr(s),O=aa(E,"position")==="fixed";let I;O?I=Math.max(g.clientHeight,window.innerHeight):I=Math.max(g.offsetHeight,g.scrollHeight);const q=_l(l),oe=l.dom.offsetLeft>=h.dom.offsetLeft+Sc(h)?Math.max(_l(h),q):q,he=parseInt(aa(s,"margin-top"),10)||0,ve=parseInt(aa(s,"margin-bottom"),10)||0,Ge=_l(s)+he+ve-oe;return I-Ge},Pfe=(s,l)=>{Et(s).each(h=>YA.showTab(l,h.value))},hY=(s,l)=>{Ds(s,"height",l+"px"),Ds(s,"flex-basis",l+"px")},gL=(s,l,h)=>{Fh(s,'[role="dialog"]').each(g=>{ii(g,'[role="tablist"]').each(E=>{h.get().map(O=>(Ds(l,"height","0"),Ds(l,"flex-basis","0"),Math.min(O,Mfe(g,l,E)))).each(O=>{hY(l,O)})})})},QU=s=>ii(s,'[role="tabpanel"]'),fY=s=>{const l=As();return{extraEvents:[Ta(E=>{const O=E.element;QU(O).each(I=>{Ds(I,"visibility","hidden"),E.getSystem().getByDom(I).toOptional().each(q=>{const Y=kfe(s,I,q);Dfe(Y).fold(l.clear,l.set)}),gL(O,I,l),wr(I,"visibility"),Pfe(s,E),requestAnimationFrame(()=>{gL(O,I,l)})})}),En(mb(),E=>{const O=E.element;QU(O).each(I=>{gL(O,I,l)})}),En(TN,(E,O)=>{const I=E.element;QU(I).each(q=>{const Y=ql(oa(q));Ds(q,"visibility","hidden");const oe=fa(q,"height").map(Me=>parseInt(Me,10));wr(q,"height"),wr(q,"flex-basis");const he=q.dom.getBoundingClientRect().height;oe.forall(Me=>he>Me)?(l.set(he),gL(I,q,l)):oe.each(Me=>{hY(q,Me)}),wr(q,"visibility"),Y.each(ra)})})],selectFirst:!1}},pY="send-data-to-section",mY="send-data-to-view",Nfe=(s,l,h,g)=>{const E=Wt({}),O=he=>{const ve=Ao.getValue(he),Me=uY(ve).getOr({}),Ge=E.get(),Ze=Xr(Ge,Me);E.set(Ze)},I=he=>{const ve=E.get();Ao.setValue(he,ve)},q=Wt(null),Y=Dt(s.tabs,he=>({value:he.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[va(h.shared.providers.translate(he.title))],view:()=>[PC.sketch(ve=>({dom:{tag:"div",classes:["tox-form"]},components:Dt(he.items,Me=>lK(ve,Me,l,h,g)),formBehaviours:ho([ls.config({mode:"acyclic",useTabstopAt:Re(GR)}),Gs("TabView.form.events",[Ta(I),ev(O)]),um.config({channels:Wv([{key:pY,value:{onReceive:O}},{key:mY,value:{onReceive:I}}])})])}))]})),oe=fY(Y);return YA.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(he,ve,Me)=>{const Ge=Ao.getValue(ve);bs(he,gx,{name:Ge,oldName:q.get()}),q.set(Ge)},tabs:Y,components:[YA.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[iW.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ho([ya.config({})])}),YA.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:oe.selectFirst,tabSectionBehaviours:ho([Gs("tabpanel",oe.extraEvents),ls.config({mode:"acyclic"}),yn.config({find:he=>Et(YA.getViewItems(he))}),E_(ee.none(),he=>(he.getSystem().broadcastOn([pY],{}),E.get()),(he,ve)=>{E.set(ve),he.getSystem().broadcastOn([mY],{})})])})},gY=(s,l,h,g,E,O)=>{const I=oe=>{const he=oe.body;switch(he.type){case"tabpanel":return[Nfe(he,oe.initialData,g,O)];default:return[dY(he,oe.initialData,g,O)]}},q=(oe,he)=>ee.some({isTabPanel:()=>he.body.type==="tabpanel"}),Y={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...h.map(oe=>({id:oe})).getOr({}),...E?Y:{}}},components:[],behaviours:ho([Sy.childAt(0),dm.config({channel:`${_q}-${l}`,updateState:q,renderComponents:I,initialData:s})])}},Lfe=(s,l,h,g,E,O)=>gY(s,l,ee.some(h),g,E,O),e5=(s,l,h,g)=>{const E=gY(s,l,ee.none(),h,!1,g);return Wc.parts.body(E)},Bfe=s=>{const l={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[Sq(ee.none(),{dom:{tag:"iframe",attributes:{src:s.url}},behaviours:ho([ya.config({}),qs.config({})])})]}],behaviours:ho([ls.config({mode:"acyclic",useTabstopAt:Re(GR)})])};return Wc.parts.body(l)},Ffe=XA.deviceType.isTouch(),vY=(s,l)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[s,l]}),yY=(s,l)=>Wc.parts.close(yd.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":l.translate("Close")}},action:s,buttonBehaviours:ho([ya.config({})])})),bY=()=>Wc.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),SY=(s,l)=>Wc.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:J1(`<p>${YW(l.translate(s))}</p>`)}]}]}),CY=s=>Wc.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:s}),EY=(s,l)=>[xb.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:s}),xb.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:l})],vL=s=>{const l="tox-dialog",h=l+"-wrap",g=h+"__backdrop",E=l+"__disable-scroll";return Wc.sketch({lazySink:s.lazySink,onEscape:O=>(s.onEscape(O),ee.some(!0)),useTabstopAt:O=>!GR(O),firstTabstop:s.firstTabstop,dom:{tag:"div",classes:[l].concat(s.extraClasses),styles:{position:"relative",...s.extraStyles}},components:[s.header,s.body,...s.footer.toArray()],parts:{blocker:{dom:J1(`<div class="${h}"></div>`),components:[{dom:{tag:"div",classes:Ffe?[g,g+"--opaque"]:[g]}}]}},dragBlockClass:h,modalBehaviours:ho([qs.config({}),Gs("dialog-events",s.dialogEvents.concat([R1(bf(),(O,I)=>{zn.isBlocked(O)?se():ls.focusIn(O)}),En(h0(),(O,I)=>{O.getSystem().broadcastOn([RN],{newFocus:I.event.newFocus})})])),Gs("scroll-lock",[Ta(()=>{Ti(Bd(),E)}),ev(()=>{ui(Bd(),E)})]),...s.extraBehaviours]),eventOrder:{[lu()]:["dialog-events"],[tm()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[qg()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...s.eventOrder}})},t5=s=>yd.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:ho([ya.config({}),ba.config(s.tooltips.getConfig({tooltipText:s.translate("Close")}))]),components:[rg("close",{tag:"span",classes:["tox-icon"]},s.icons)],action:l=>{_r(l,YC)}}),wY=(s,l,h,g)=>{const E=O=>[va(g.translate(O.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...h.map(O=>({id:O})).getOr({})}},components:[],behaviours:ho([dm.config({channel:`${wq}-${l}`,initialData:s,renderComponents:E})])}},Ox=()=>({dom:J1('<div class="tox-dialog__draghandle"></div>')}),Vfe=(s,l,h,g)=>xb.sketch({dom:J1('<div class="tox-dialog__header"></div>'),components:[wY(s,l,ee.some(h),g),Ox(),t5(g)],containerBehaviours:ho([zw.config({mode:"mouse",blockerClass:"blocker",getTarget:E=>bl(E,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(E,O)=>{E.getSystem().broadcastOn([gd()],{target:O})}})])}),Hfe=(s,l,h)=>{const g=Wc.parts.title(wY(s,l,ee.none(),h)),E=Wc.parts.draghandle(Ox()),O=Wc.parts.close(t5(h)),I=[g].concat(s.draggable?[E]:[]).concat([O]);return xb.sketch({dom:J1('<div class="tox-dialog__header"></div>'),components:I})},yL=(s,l,h)=>Hfe({title:h.shared.providers.translate(s),draggable:h.dialog.isDraggableModal()},l,h.shared.providers),_Y=(s,l,h,g)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":h.translate(s)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${g.getOr(0)}px`,position:"absolute"}},behaviours:l,components:[{dom:J1('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),TY=(s,l,h)=>({onClose:()=>h.closeWindow(),onBlock:g=>{const E=ii(s().element,".tox-dialog__header").map(O=>_l(O));Wc.setBusy(s(),(O,I)=>_Y(g.message,I,l,E))},onUnblock:()=>{Wc.setIdle(s())}}),AY="tox-dialog--fullscreen",n5="tox-dialog--width-lg",o5="tox-dialog--width-md",bL=s=>{switch(s){case"large":return ee.some(n5);case"medium":return ee.some(o5);default:return ee.none()}},xY=(s,l)=>{const h=po.fromDom(l.element.dom);Xa(h,AY)||(Ic(h,[n5,o5]),bL(s).each(g=>Ti(h,g)))},OY=(s,l)=>{const h=po.fromDom(s.element.dom),g=h1(h),E=xt(g,O=>O===n5||O===o5).or(bL(l));Nu(h,[AY,...E.toArray()])},IY=(s,l,h)=>k(vL({...s,firstTabstop:1,lazySink:h.shared.getSink,extraBehaviours:[AN({}),...s.extraBehaviours],onEscape:g=>{_r(g,YC)},dialogEvents:l,eventOrder:{[Qp()]:[dm.name(),um.name()],[tm()]:["scroll-lock",dm.name(),"messages","dialog-events","alloy.base.behaviour"],[qg()]:["alloy.base.behaviour","dialog-events","messages",dm.name(),"scroll-lock"]}})),s5=(s,l={})=>{const h=g=>{const E=Dt(g.items,O=>{const I=wt(l,O.name).getOr(Wt(!1));return{...O,storage:I}});return{...g,items:E}};return Dt(s,g=>g.type==="menu"?h(g):g)},RY=s=>Oo(s,(l,h)=>h.type==="menu"?Oo(h.items,(E,O)=>(E[O.name]=O.storage,E),l):l,{}),kY=(s,l)=>[O1(bf(),Eq),s(WR,(h,g,E,O)=>{Lh(O.element)&&ql(oa(O.element)).each(yr),l.onClose(),g.onClose()}),s(YC,(h,g,E,O)=>{g.onCancel(h),_r(O,WR)}),En(rq,(h,g)=>l.onUnblock()),En(_N,(h,g)=>l.onBlock(g.event))],$fe=(s,l)=>{const h=(E,O)=>En(E,(I,q)=>{g(I,(Y,oe)=>{O(s(),Y,q.event,I)})}),g=(E,O)=>{dm.getState(E).get().each(I=>{O(I,E)})};return[...kY(h,l),h(M0,(E,O,I)=>{O.onAction(E,{name:I.name})})]},DY=(s,l,h)=>{const g=(O,I)=>En(O,(q,Y)=>{E(q,(oe,he)=>{I(s(),oe,Y.event,q)})}),E=(O,I)=>{dm.getState(O).get().each(q=>{I(q.internalDialog,O)})};return[...kY(g,l),g(mx,(O,I)=>I.onSubmit(O)),g(_p,(O,I,q)=>{I.onChange(O,{name:q.name})}),g(M0,(O,I,q,Y)=>{const oe=()=>Y.getSystem().isConnected()?ls.focusIn(Y):void 0,he=Ge=>Ll(Ge,"disabled")||lr(Ge,"aria-disabled").exists(Ze=>Ze==="true"),ve=oa(Y.element),Me=ql(ve);I.onAction(O,{name:q.name,value:q.value}),ql(ve).fold(oe,Ge=>{he(Ge)||Me.exists(Ze=>Be(Ge,Ze)&&he(Ze))?oe():h().toOptional().filter(Ze=>!Be(Ze.element,Ge)).each(oe)})}),g(gx,(O,I,q)=>{I.onTabChange(O,{newTabName:q.name,oldTabName:q.oldName})}),ev(O=>{const I=s();Ao.setValue(O,I.getData())})]},Ufe=(s,l)=>$$(s,s.type,l),zfe=(s,l,h)=>xt(l,g=>g.name===h).bind(g=>g.memento.getOpt(s)),jfe=(s,l)=>{const h=l.map(q=>q.footerButtons).getOr([]),g=ms(h,q=>q.align==="start"),E=(q,Y)=>xb.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${q}`]},components:Dt(Y,oe=>oe.memento.asSpec())}),O=E("start",g.pass),I=E("end",g.fail);return[O,I]},dk=(s,l,h)=>{const g=(E,O)=>{const I=Dt(O.buttons,Y=>{const oe=pi(Ufe(Y,h));return{name:Y.name,align:Y.align,memento:oe}}),q=Y=>zfe(E,I,Y);return ee.some({lookupByName:q,footerButtons:I})};return{dom:J1('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ho([dm.config({channel:`${Tq}-${l}`,initialData:s,updateState:g,renderComponents:jfe})])}},Wfe=(s,l,h)=>dk(s,l,h),MY=(s,l,h)=>Wc.parts.footer(dk(s,l,h)),SL=(s,l)=>{if(s.getRoot().getSystem().isConnected()){const g=yn.getCurrent(s.getFormWrapper()).getOr(s.getFormWrapper());return PC.getField(g,l).orThunk(()=>s.getFooter().bind(I=>dm.getState(I).get()).bind(I=>I.lookupByName(l)))}else return ee.none()},Gfe=(s,l)=>{const h=s.getRoot();return dm.getState(h).get().map(g=>cp(Na("data",g.dataValidator,l))).getOr(l)},PY=(s,l,h)=>{const g=Ze=>{const at=s.getRoot();at.getSystem().isConnected()&&Ze(at)},Ge={getData:()=>{const Ze=s.getRoot(),at=Ze.getSystem().isConnected()?s.getFormWrapper():Ze,yt=Ao.getValue(at),ot=Wo(h,_t=>_t.get());return{...yt,...ot}},setData:Ze=>{g(at=>{const yt=Ge.getData(),ot=Xr(yt,Ze),_t=Gfe(s,ot),Lt=s.getFormWrapper();Ao.setValue(Lt,_t),_s(h,(an,hn)=>{Zt(ot,hn)&&an.set(ot[hn])})})},setEnabled:(Ze,at)=>{SL(s,Ze).each(at?as.enable:as.disable)},focus:Ze=>{SL(s,Ze).each(qs.focus)},block:Ze=>{if(!v(Ze))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");g(at=>{bs(at,_N,{message:Ze})})},unblock:()=>{g(Ze=>{_r(Ze,rq)})},showTab:Ze=>{g(at=>{const yt=s.getBody();dm.getState(yt).get().exists(_t=>_t.isTabPanel())&&yn.getCurrent(yt).each(_t=>{YA.showTab(_t,Ze)})})},redial:Ze=>{g(at=>{const yt=s.getId(),ot=l(Ze),_t=s5(ot.internalDialog.buttons,h);at.getSystem().broadcastOn([`${IN}-${yt}`],ot),at.getSystem().broadcastOn([`${wq}-${yt}`],ot.internalDialog),at.getSystem().broadcastOn([`${_q}-${yt}`],ot.internalDialog),at.getSystem().broadcastOn([`${Tq}-${yt}`],{...ot.internalDialog,buttons:_t}),Ge.setData(ot.initialData)})},close:()=>{g(Ze=>{_r(Ze,WR)})},toggleFullscreen:s.toggleFullscreen};return Ge},qfe=(s,l,h)=>{const g=wo("dialog"),E=s.internalDialog,O=yL(E.title,g,h),I=Wt(E.size),q=Lt=>SL(ot,Lt),Y=bL(I.get()).toArray(),oe=(Lt,an)=>(I.set(an.internalDialog.size),xY(an.internalDialog.size,Lt),ee.some(an)),he=e5({body:E.body,initialData:E.initialData},g,h,q),ve=s5(E.buttons),Me=RY(ve),Ge=al(ve.length!==0,MY({buttons:ve},g,h)),Ze=DY(()=>_t,TY(()=>yt,h.shared.providers,l),h.shared.getSink),at={id:g,header:O,body:he,footer:Ge,extraClasses:Y,extraBehaviours:[dm.config({channel:`${IN}-${g}`,updateState:oe,initialData:s})],extraStyles:{}},yt=IY(at,Ze,h),ot=(()=>{const Lt=()=>{const hn=Wc.getBody(yt);return yn.getCurrent(hn).getOr(hn)},an=()=>{OY(yt,I.get())};return{getId:V(g),getRoot:V(yt),getBody:()=>Wc.getBody(yt),getFooter:()=>Wc.getFooter(yt),getFormWrapper:Lt,toggleFullscreen:an}})(),_t=PY(ot,l.redial,Me);return{dialog:yt,instanceApi:_t}},r5=(s,l,h,g=!1,E)=>{const O=wo("dialog"),I=wo("dialog-label"),q=wo("dialog-content"),Y=s.internalDialog,oe=Gn=>SL(Vn,Gn),he=Wt(Y.size),ve=bL(he.get()).toArray(),Me=(Gn,Es)=>(he.set(Es.internalDialog.size),xY(Es.internalDialog.size,Gn),E(),ee.some(Es)),Ge=pi(Vfe({title:Y.title,draggable:!0},O,I,h.shared.providers)),Ze=pi(Lfe({body:Y.body,initialData:Y.initialData},O,q,h,g,oe)),at=s5(Y.buttons),yt=RY(at),ot=al(at.length!==0,pi(Wfe({buttons:at},O,h))),_t=DY(()=>Qn,{onBlock:Gn=>{zn.block(hn,(Es,os)=>{const Dr=Ge.getOpt(hn).map(ks=>_l(ks.element));return _Y(Gn.message,os,h.shared.providers,Dr)})},onUnblock:()=>{zn.unblock(hn)},onClose:()=>l.closeWindow()},h.shared.getSink),Lt="tox-dialog-inline",an=Gi().os,hn=k({dom:{tag:"div",classes:["tox-dialog",Lt,...ve],attributes:{role:"dialog",...an.isMacOS()?{"aria-label":Y.title}:{"aria-labelledby":I}}},eventOrder:{[Qp()]:[dm.name(),um.name()],[lu()]:["execute-on-form"],[tm()]:["reflecting","execute-on-form"]},behaviours:ho([ls.config({mode:"cyclic",onEscape:Gn=>(_r(Gn,WR),ee.some(!0)),useTabstopAt:Gn=>!GR(Gn)&&(nu(Gn)!=="button"||gl(Gn,"disabled")!=="disabled"),firstTabstop:1}),dm.config({channel:`${IN}-${O}`,updateState:Me,initialData:s}),qs.config({}),Gs("execute-on-form",_t.concat([R1(bf(),(Gn,Es)=>{ls.focusIn(Gn)}),En(h0(),(Gn,Es)=>{Gn.getSystem().broadcastOn([RN],{newFocus:Es.event.newFocus})})])),zn.config({getRoot:()=>ee.some(hn)}),Xs.config({}),AN({})]),components:[Ge.asSpec(),Ze.asSpec(),...ot.map(Gn=>Gn.asSpec()).toArray()]}),vo=()=>{OY(hn,he.get())},Vn={getId:V(O),getRoot:V(hn),getFooter:()=>ot.map(Gn=>Gn.get(hn)),getBody:()=>Ze.get(hn),getFormWrapper:()=>{const Gn=Ze.get(hn);return yn.getCurrent(Gn).getOr(Gn)},toggleFullscreen:vo},Qn=PY(Vn,l.redial,yt);return{dialog:hn,instanceApi:Qn}};var i5=tinymce.util.Tools.resolve("tinymce.util.URI");const Kfe=s=>{const l=I=>{s.getSystem().isConnected()&&I(s)};return{block:I=>{if(!v(I))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(q=>{bs(q,_N,{message:I})})},unblock:()=>{l(I=>{_r(I,rq)})},close:()=>{l(I=>{_r(I,WR)})},sendMessage:I=>{l(q=>{q.getSystem().broadcastOn([Aq],I)})}}},Zfe=["insertContent","setContent","execCommand","close","block","unblock"],NY=s=>S(s)&&Zfe.indexOf(s.mceAction)!==-1,Yfe=s=>!NY(s)&&S(s)&&Zt(s,"mceAction"),a5=(s,l,h)=>{switch(h.mceAction){case"insertContent":s.insertContent(h.content);break;case"setContent":s.setContent(h.content);break;case"execCommand":const g=B(h.ui)?h.ui:!1;s.execCommand(h.cmd,g,h.value);break;case"close":l.close();break;case"block":l.block(h.message);break;case"unblock":l.unblock();break}},LY=(s,l,h,g)=>{const E=wo("dialog"),O=yL(s.title,E,g),I=Bfe(s),q=s.buttons.bind(Lt=>Lt.length===0?ee.none():ee.some(MY({buttons:Lt},E,g))),Y=$fe(()=>_t,TY(()=>ot,g.shared.providers,l)),oe={...s.height.fold(()=>({}),Lt=>({height:Lt+"px","max-height":Lt+"px"})),...s.width.fold(()=>({}),Lt=>({width:Lt+"px","max-width":Lt+"px"}))},he=s.width.isNone()&&s.height.isNone()?["tox-dialog--width-lg"]:[],ve=new i5(s.url,{base_uri:new i5(window.location.href)}),Me=`${ve.protocol}://${ve.host}${ve.port?":"+ve.port:""}`,Ge=na(),Ze=(Lt,an)=>ee.some(an),at=[dm.config({channel:`${IN}-${E}`,updateState:Ze,initialData:s}),Gs("messages",[Ta(()=>{const Lt=si(po.fromDom(window),"message",an=>{if(ve.isSameOrigin(new i5(an.raw.origin))){const hn=an.raw.data;NY(hn)?a5(h,_t,hn):Yfe(hn)&&s.onMessage(_t,hn)}});Ge.set(Lt)}),ev(Ge.clear)]),um.config({channels:{[Aq]:{onReceive:(Lt,an)=>{ii(Lt.element,"iframe").each(hn=>{const vo=hn.dom.contentWindow;z(vo)&&vo.postMessage(an,Me)})}}}})],ot=IY({id:E,header:O,body:I,footer:q,extraClasses:he,extraBehaviours:at,extraStyles:oe},Y,g),_t=Kfe(ot);return{dialog:ot,instanceApi:_t}},Xfe=s=>{const l=s.shared;return{open:(g,E)=>{const O=()=>{Wc.hide(oe),E()},I=pi($$({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:ee.some("primary"),align:"end",enabled:!0,icon:ee.none()},"cancel",s)),q=bY(),Y=yY(O,l.providers),oe=k(vL({lazySink:()=>l.getSink(),header:vY(q,Y),body:SY(g,l.providers),footer:ee.some(CY(EY([],[I.asSpec()]))),onEscape:O,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[En(YC,O)],eventOrder:{}}));Wc.show(oe);const he=I.get(oe);qs.focus(he)}}},Jfe=s=>{const l=s.shared;return{open:(g,E)=>{const O=Me=>{Wc.hide(he),E(Me)},I=pi($$({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:ee.some("primary"),align:"end",enabled:!0,icon:ee.none()},"submit",s)),q=$$({context:"any",name:"no",text:"No",primary:!1,buttonType:ee.some("secondary"),align:"end",enabled:!0,icon:ee.none()},"cancel",s),Y=bY(),oe=yY(()=>O(!1),l.providers),he=k(vL({lazySink:()=>l.getSink(),header:vY(Y,oe),body:SY(g,l.providers),footer:ee.some(CY(EY([],[q,I.asSpec()]))),onEscape:()=>O(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[En(YC,()=>O(!1)),En(mx,()=>O(!0))],eventOrder:{}}));Wc.show(he);const ve=I.get(he);qs.focus(ve)}}},BY=(s,l)=>cp(Na("data",l,s)),FY=s=>Xy(s,".tox-alert-dialog")||Xy(s,".tox-confirm-dialog"),Qfe=(s,l,h,g)=>l&&h?[]:[nl.config({contextual:{lazyContext:()=>ee.some(Fl(po.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:g},modes:["top"],lazyViewport:E=>HC(s,E.element).map(I=>({bounds:Qw(I),optScrollEnv:ee.some({currentScrollTop:I.element.dom.scrollTop,scrollElmTop:Bc(I.element).top})})).getOrThunk(()=>({bounds:Fu(),optScrollEnv:ee.none()}))})],epe=s=>{const l=s.editor,h=ex(l),g=Xfe(s.backstages.dialog),E=Jfe(s.backstages.dialog),O=(Ze,at,yt)=>{if(!H(at)){if(at.inline==="toolbar")return oe(Ze,s.backstages.popup.shared.anchors.inlineDialog(),yt,at);if(at.inline==="bottom")return he(Ze,s.backstages.popup.shared.anchors.inlineBottomDialog(),yt,at);if(at.inline==="cursor")return oe(Ze,s.backstages.popup.shared.anchors.cursor(),yt,at)}return Y(Ze,yt)},I=(Ze,at)=>q(Ze,at),q=(Ze,at)=>{const yt=ot=>{const _t=LY(ot,{closeWindow:()=>{Wc.hide(_t.dialog),at(_t.instanceApi)}},l,s.backstages.dialog);return Wc.show(_t.dialog),_t.instanceApi};return f_.openUrl(yt,Ze)},Y=(Ze,at)=>{const yt=(ot,_t,Lt)=>{const an=_t,vo=qfe({dataValidator:Lt,initialData:an,internalDialog:ot},{redial:f_.redial,closeWindow:()=>{Wc.hide(vo.dialog),at(vo.instanceApi)}},s.backstages.dialog);return Wc.show(vo.dialog),vo.instanceApi.setData(an),vo.instanceApi};return f_.open(yt,Ze)},oe=(Ze,at,yt,ot)=>{const _t=(Lt,an,hn)=>{const vo=BY(an,hn),Vn=As(),Qn=s.backstages.popup.shared.header.isPositionedAtTop(),Gn={dataValidator:hn,initialData:vo,internalDialog:Lt},Es=()=>Vn.on(Bn=>{ol.reposition(Bn),(!h||!Qn)&&nl.refresh(Bn)}),os=r5(Gn,{redial:f_.redial,closeWindow:()=>{Vn.on(ol.hide),l.off("ResizeEditor",Es),l.off("ScrollWindow",Dr),Vn.clear(),yt(os.instanceApi)}},s.backstages.popup,ot.ariaAttrs,Es),Dr=()=>os.dialog.getSystem().broadcastOn([gd()],{target:os.dialog.element}),ks=()=>os.dialog.getSystem().broadcastOn([Cb()],{target:os.dialog.element}),rr=k(ol.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:ot.persistent?{event:"doNotDismissYet"}:{},...Qn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ho([Gs("window-manager-inline-events",[En(Kg(),(Bn,mo)=>{_r(os.dialog,YC)})]),...Qfe(l,h,Qn,ks)]),isExtraPart:(Bn,mo)=>FY(mo)}));Vn.set(rr);const ns=()=>{const Bn=l.inline?Bd():po.fromDom(l.getContainer()),mo=Fl(Bn);return ee.some(mo)};return ol.showWithinBounds(rr,W(os.dialog),{anchor:at},ns),(!h||!Qn)&&(nl.refresh(rr),l.on("ResizeEditor",Es)),l.on("ScrollWindow",Dr),os.instanceApi.setData(vo),ls.focusIn(os.dialog),os.instanceApi};return f_.open(_t,Ze)},he=(Ze,at,yt,ot)=>{const _t=(Lt,an,hn)=>{const vo=BY(an,hn),Vn=As(),Qn=s.backstages.popup.shared.header.isPositionedAtTop(),Gn={dataValidator:hn,initialData:vo,internalDialog:Lt},Es=()=>Vn.on(rr=>{ol.reposition(rr),nl.refresh(rr)}),os=r5(Gn,{redial:f_.redial,closeWindow:()=>{Vn.on(ol.hide),l.off("ResizeEditor ScrollWindow ElementScroll",Es),Vn.clear(),yt(os.instanceApi)}},s.backstages.popup,ot.ariaAttrs,Es),Dr=k(ol.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:ot.persistent?{event:"doNotDismissYet"}:{},...Qn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ho([Gs("window-manager-inline-events",[En(Kg(),(rr,ns)=>{_r(os.dialog,YC)})]),nl.config({contextual:{lazyContext:()=>ee.some(Fl(po.fromDom(l.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:rr=>HC(l,rr.element).map(Bn=>({bounds:Qw(Bn),optScrollEnv:ee.some({currentScrollTop:Bn.element.dom.scrollTop,scrollElmTop:Bc(Bn.element).top})})).getOrThunk(()=>({bounds:Fu(),optScrollEnv:ee.none()}))})]),isExtraPart:(rr,ns)=>FY(ns)}));Vn.set(Dr);const ks=()=>s.backstages.popup.shared.getSink().toOptional().bind(rr=>{const ns=HC(l,rr.element),Bn=15,mo=ns.map(cs=>Qw(cs)).getOr(Fu()),Ns=Fl(po.fromDom(l.getContentAreaContainer())),ir=Vd(Ns,mo);return ee.some(Gr(ir.x,ir.y,ir.width,ir.height-Bn))});return ol.showWithinBounds(Dr,W(os.dialog),{anchor:at},ks),nl.refresh(Dr),l.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",Es),os.instanceApi.setData(vo),ls.focusIn(os.dialog),os.instanceApi};return f_.open(_t,Ze)};return{open:O,openUrl:I,alert:(Ze,at)=>{g.open(Ze,at)},close:Ze=>{Ze.close()},confirm:(Ze,at)=>{E.open(Ze,at)}}},tpe=s=>{cW(s),o$(s),KZ(s)};var npe=()=>{aie.add("silver",s=>{tpe(s);let l=()=>Fu();const{dialogs:h,popups:g,renderUI:E}=Rfe(s,{getPopupSinkBounds:()=>l()}),O=()=>{const he=E();return HC(s,g.getMothership().element).each(Me=>{l=()=>Qw(Me)}),he};nq.register(s,g.backstage.shared);const I=epe({editor:s,backstages:{popup:g.backstage,dialog:h.backstage}}),q=As(),Y=()=>Oie(s,{backstage:g.backstage},g.getMothership(),q),oe=()=>ii(po.fromDom(s.getContainer()),".tox-promotion").map(he=>he.dom).getOrNull();return{renderUI:O,getWindowManagerImpl:V(I),getNotificationManagerImpl:Y,getPromotionElement:oe}})};npe()})()),DIe}var PIe;function FXe(){return PIe||(PIe=1,BXe()),kIe}FXe();var NIe={},LIe;function VXe(){return LIe||(LIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const n=(y,w,k)=>k(y,w.prototype)?!0:y.constructor?.name===w.name,o=y=>{const w=typeof y;return y===null?"null":w==="object"&&Array.isArray(y)?"array":w==="object"&&n(y,String,(k,W)=>W.isPrototypeOf(k))?"string":w},i=y=>w=>o(w)===y,c=y=>w=>typeof w===y,d=y=>w=>y===w,p=i("string"),v=i("object"),S=i("array"),_=d(null),x=c("boolean"),P=d(void 0),B=y=>y==null,H=y=>!B(y),U=c("function"),z=c("number"),Z=()=>{},te=(y,w)=>(...k)=>y(w.apply(null,k)),ce=(y,w)=>k=>y(w(k)),se=y=>()=>y,Se=y=>y,Ce=(y,w)=>y===w;function Te(y,...w){return(...k)=>{const W=w.concat(k);return y.apply(null,W)}}const V=y=>w=>!y(w),ke=y=>()=>{throw new Error(y)},et=y=>y(),$e=se(!1),Re=se(!0);class _e{tag;value;static singletonNone=new _e(!1);constructor(w,k){this.tag=w,this.value=k}static some(w){return new _e(!0,w)}static none(){return _e.singletonNone}fold(w,k){return this.tag?k(this.value):w()}isSome(){return this.tag}isNone(){return!this.tag}map(w){return this.tag?_e.some(w(this.value)):_e.none()}bind(w){return this.tag?w(this.value):_e.none()}exists(w){return this.tag&&w(this.value)}forall(w){return!this.tag||w(this.value)}filter(w){return!this.tag||w(this.value)?this:_e.none()}getOr(w){return this.tag?this.value:w}or(w){return this.tag?this:w}getOrThunk(w){return this.tag?this.value:w()}orThunk(w){return this.tag?this:w()}getOrDie(w){if(this.tag)return this.value;throw new Error(w??"Called getOrDie on None")}static from(w){return H(w)?_e.some(w):_e.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(w){this.tag&&w(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ut=Array.prototype.slice,ct=Array.prototype.indexOf,St=Array.prototype.push,ee=(y,w)=>ct.call(y,w),ln=(y,w)=>ee(y,w)>-1,it=(y,w)=>{for(let k=0,W=y.length;k<W;k++){const re=y[k];if(w(re,k))return!0}return!1},Ht=(y,w)=>{const k=[];for(let W=0;W<y;W++)k.push(w(W));return k},Ut=(y,w)=>{const k=y.length,W=new Array(k);for(let re=0;re<k;re++){const pe=y[re];W[re]=w(pe,re)}return W},Xe=(y,w)=>{for(let k=0,W=y.length;k<W;k++){const re=y[k];w(re,k)}},tn=(y,w)=>{for(let k=y.length-1;k>=0;k--){const W=y[k];w(W,k)}},eo=(y,w)=>{const k=[],W=[];for(let re=0,pe=y.length;re<pe;re++){const Oe=y[re];(w(Oe,re)?k:W).push(Oe)}return{pass:k,fail:W}},In=(y,w)=>{const k=[];for(let W=0,re=y.length;W<re;W++){const pe=y[W];w(pe,W)&&k.push(pe)}return k},mn=(y,w,k)=>(tn(y,(W,re)=>{k=w(k,W,re)}),k),Dt=(y,w,k)=>(Xe(y,(W,re)=>{k=w(k,W,re)}),k),un=(y,w,k)=>{for(let W=0,re=y.length;W<re;W++){const pe=y[W];if(w(pe,W))return _e.some(pe);if(k(pe,W))break}return _e.none()},ye=(y,w)=>un(y,w,$e),ms=(y,w)=>{for(let k=0,W=y.length;k<W;k++){const re=y[k];if(w(re,k))return _e.some(k)}return _e.none()},Vo=y=>{const w=[];for(let k=0,W=y.length;k<W;++k){if(!S(y[k]))throw new Error("Arr.flatten item "+k+" was not an array, input: "+y);St.apply(w,y[k])}return w},Eo=(y,w)=>Vo(Ut(y,w)),Oo=(y,w)=>{for(let k=0,W=y.length;k<W;++k){const re=y[k];if(w(re,k)!==!0)return!1}return!0},Zn=y=>{const w=ut.call(y,0);return w.reverse(),w},xt=(y,w)=>{const k={};for(let W=0,re=y.length;W<re;W++){const pe=y[W];k[String(pe)]=w(pe,W)}return k},cn=(y,w)=>{const k=ut.call(y,0);return k.sort(w),k},vn=(y,w)=>w>=0&&w<y.length?_e.some(y[w]):_e.none(),qe=y=>vn(y,0),pt=y=>vn(y,y.length-1),Ft=(y,w)=>{for(let k=0;k<y.length;k++){const W=w(y[k],k);if(W.isSome())return W}return _e.none()},Ve=Object.keys,Ot=Object.hasOwnProperty,Nt=(y,w)=>{const k=Ve(y);for(let W=0,re=k.length;W<re;W++){const pe=k[W],Oe=y[pe];w(Oe,pe)}},Gt=(y,w)=>Tt(y,(k,W)=>({k:W,v:w(k,W)})),Tt=(y,w)=>{const k={};return Nt(y,(W,re)=>{const pe=w(W,re);k[pe.k]=pe.v}),k},Et=y=>(w,k)=>{y[k]=w},Yn=(y,w,k,W)=>{Nt(y,(re,pe)=>{(w(re,pe)?k:W)(re,pe)})},fo=(y,w)=>{const k={};return Yn(y,w,Et(k),Z),k},ro=(y,w)=>{const k=[];return Nt(y,(W,re)=>{k.push(w(W,re))}),k},io=y=>ro(y,Se),no=(y,w)=>_s(y,w)?_e.from(y[w]):_e.none(),_s=(y,w)=>Ot.call(y,w),Wo=(y,w)=>_s(y,w)&&y[w]!==void 0&&y[w]!==null,Bs=y=>{for(const w in y)if(Ot.call(y,w))return!1;return!0},xe={generate:y=>{if(!S(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const w=[],k={};return Xe(y,(W,re)=>{const pe=Ve(W);if(pe.length!==1)throw new Error("one and only one name per case");const Oe=pe[0],Ue=W[Oe];if(k[Oe]!==void 0)throw new Error("duplicate key detected:"+Oe);if(Oe==="cata")throw new Error("cannot have a case named cata (sorry)");if(!S(Ue))throw new Error("case arguments must be an array");w.push(Oe),k[Oe]=(...tt)=>{const Ct=tt.length;if(Ct!==Ue.length)throw new Error("Wrong number of arguments to case "+Oe+". Expected "+Ue.length+" ("+Ue+"), got "+Ct);return{fold:(...zn)=>{if(zn.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+zn.length);return zn[re].apply(null,tt)},match:zn=>{const To=Ve(zn);if(w.length!==To.length)throw new Error("Wrong number of arguments to match. Expected: "+w.join(",")+`
Actual: `+To.join(","));if(!Oo(w,ps=>ln(To,ps)))throw new Error("Not all branches were specified when using match. Specified: "+To.join(", ")+`
Required: `+w.join(", "));return zn[Oe].apply(null,tt)},log:zn=>{console.log(zn,{constructors:w,constructor:Oe,params:tt})}}}}),k}},je=y=>{let w=y;return{get:()=>w,set:re=>{w=re}}},rt=y=>y.slice(0).sort(),Je=(y,w)=>{throw new Error("All required keys ("+rt(y).join(", ")+") were not specified. Specified keys were: "+rt(w).join(", ")+".")},Pt=y=>{throw new Error("Unsupported keys for object: "+rt(y).join(", "))},kt=(y,w)=>{if(!S(w))throw new Error("The "+y+" fields must be an array. Was: "+w+".");Xe(w,k=>{if(!p(k))throw new Error("The value "+k+" in the "+y+" fields was not a string.")})},wt=(y,w)=>{throw new Error("All values need to be of type: "+w+". Keys ("+rt(y).join(", ")+") were not.")},Zt=y=>{const w=rt(y);ye(w,(W,re)=>re<w.length-1&&W===w[re+1]).each(W=>{throw new Error("The field: "+W+" occurs more than once in the combined fields: ["+w.join(", ")+"].")})},en=(y,w)=>jn(y,w,{validate:U,label:"function"}),jn=(y,w,k)=>{if(w.length===0)throw new Error("You must specify at least one required field.");return kt("required",w),Zt(w),W=>{const re=Ve(W);Oo(w,Ue=>ln(re,Ue))||Je(w,re),y(w,re);const Oe=In(w,Ue=>!k.validate(W[Ue],Ue));return Oe.length>0&&wt(Oe,k.label),W}},sn=(y,w)=>{const k=In(w,W=>!ln(y,W));k.length>0&&Pt(k)},Wt=y=>en(sn,y),_o=y=>{const w=pe=>pe(y),k=se(y),W=()=>re,re={tag:!0,inner:y,fold:(pe,Oe)=>Oe(y),isValue:Re,isError:$e,map:pe=>Hs.value(pe(y)),mapError:W,bind:w,exists:w,forall:w,getOr:k,or:W,getOrThunk:k,orThunk:W,getOrDie:k,each:pe=>{pe(y)},toOptional:()=>_e.some(y)};return re},$o=y=>{const w=()=>k,k={tag:!1,inner:y,fold:(W,re)=>W(y),isValue:$e,isError:Re,map:w,mapError:W=>Hs.error(W(y)),bind:w,exists:$e,forall:Re,getOr:Se,or:Se,getOrThunk:et,orThunk:et,getOrDie:ke(String(y)),each:Z,toOptional:_e.none};return k},Hs={value:_o,error:$o,fromOption:(y,w)=>y.fold(()=>$o(w),_o)},or=typeof window<"u"?window:Function("return this;")(),No=y=>{const w=y.replace(/\./g,"-");return{resolve:W=>w+"-"+W}},Xo=(y,w,k=Ce)=>y.exists(W=>k(W,w)),es=y=>{const w=[],k=W=>{w.push(W)};for(let W=0;W<y.length;W++)y[W].each(k);return w},Ma=(y,w)=>y!=null?w(y):_e.none(),kl=(y,w)=>y?_e.some(w):_e.none(),oi=(y,w)=>{let k=w??or;for(let W=0;W<y.length&&k!==void 0&&k!==null;++W)k=k[y[W]];return k},zo=(y,w)=>{const k=y.split(".");return oi(k,w)},il=y=>{const w=je(_e.none()),k=()=>w.get().each(y);return{clear:()=>{k(),w.set(_e.none())},isSet:()=>w.get().isSome(),get:()=>w.get(),set:Ue=>{k(),w.set(_e.some(Ue))}}},da=()=>{const y=il(Z);return{...y,on:k=>y.get().each(k)}},Qu=(y,w)=>y.substring(w),Ea=(y,w,k)=>w===""||y.length>=w.length&&y.substr(k,k+w.length)===w,fc=(y,w)=>Oa(y,w)?Qu(y,w.length):y,$r=(y,w,k=0,W)=>{const re=y.indexOf(w,k);return re!==-1?P(W)?!0:re+w.length<=W:!1},Oa=(y,w)=>Ea(y,w,0),Id=(y,w)=>Ea(y,w,y.length-w.length),Xc=(y=>w=>w.replace(y,""))(/^\s+|\s+$/g),pl=y=>y.length>0,td=y=>{const w=parseFloat(y);return isNaN(w)?_e.none():_e.some(w)},Rd=(y,w)=>{let k=null;const W=()=>{_(k)||(clearTimeout(k),k=null)};return{cancel:W,throttle:(...pe)=>{W(),k=setTimeout(()=>{k=null,y.apply(null,pe)},w)}}},wo=y=>{let w=!1,k;return(...W)=>(w||(w=!0,k=y.apply(null,W)),k)},Zf="",th=["tfoot","thead","tbody","colgroup"],xh=y=>ln(th,y),Xr=(y,w)=>({rows:y,columns:w}),Oh=(y,w)=>({row:y,column:w}),Pc=(y,w,k)=>({element:y,rowspan:w,colspan:k}),Ar=(y,w,k,W)=>({element:y,rowspan:w,colspan:k,isNew:W}),Au=(y,w,k,W,re,pe)=>({element:y,rowspan:w,colspan:k,row:W,column:re,isLocked:pe}),nh=(y,w,k)=>({element:y,cells:w,section:k}),Tc=(y,w,k,W)=>({element:y,cells:w,section:k,isNew:W}),Fi=(y,w,k)=>({element:y,isNew:w,isLocked:k}),pc=(y,w,k,W)=>({element:y,cells:w,section:k,isNew:W}),al=(y,w,k,W)=>({startRow:y,startCol:w,finishRow:k,finishCol:W}),Vp=(y,w,k)=>({element:y,colspan:w,column:k}),Tm=(y,w)=>({element:y,columns:w}),Ac=(y,w,k)=>{const W=y.cells,re=W.slice(0,w),pe=W.slice(w),Oe=re.concat(k).concat(pe);return Ih(y,Oe)},Jc=(y,w,k)=>Ac(y,w,[k]),xu=(y,w,k)=>{const W=y.cells;W[w]=k},Ih=(y,w)=>pc(y.element,w,y.section,y.isNew),na=(y,w)=>{const k=y.cells,W=Ut(k,w);return pc(y.element,W,y.section,y.isNew)},As=(y,w)=>y.cells[w],Wi=(y,w)=>As(y,w).element,Dl=y=>y.cells.length,Br=y=>{const w=eo(y,k=>k.section==="colgroup");return{rows:w.fail,cols:w.pass}},oh=(y,w,k)=>{const W=Ut(y.cells,k);return pc(w(y.element),W,y.section,!0)},Yf=(y,w)=>{const W=(w||document).createElement("div");if(W.innerHTML=y,!W.hasChildNodes()||W.childNodes.length>1){const re="HTML does not have a single root node";throw console.error(re,y),new Error(re)}return Nc(W.childNodes[0])},gi=(y,w)=>{const W=(w||document).createElement(y);return Nc(W)},mc=(y,w)=>{const W=(w||document).createTextNode(y);return Nc(W)},Nc=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},yo={fromHtml:Yf,fromTag:gi,fromText:mc,fromDom:Nc,fromPoint:(y,w,k)=>_e.from(y.dom.elementFromPoint(w,k)).map(Nc)},Ou=(y,w)=>{const k=y.document.createRange();return k.selectNode(w.dom),k},Ml=(y,w)=>{const k=y.document.createRange();return gc(k,w),k},gc=(y,w)=>y.selectNodeContents(w.dom),Pi=(y,w)=>{w.fold(k=>{y.setStartBefore(k.dom)},(k,W)=>{y.setStart(k.dom,W)},k=>{y.setStartAfter(k.dom)})},Am=(y,w)=>{w.fold(k=>{y.setEndBefore(k.dom)},(k,W)=>{y.setEnd(k.dom,W)},k=>{y.setEndAfter(k.dom)})},zl=(y,w,k)=>{const W=y.document.createRange();return Pi(W,w),Am(W,k),W},Qc=(y,w,k,W,re)=>{const pe=y.document.createRange();return pe.setStart(w.dom,k),pe.setEnd(W.dom,re),pe},Xf=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),sf=y=>{const w=y.getClientRects(),k=w.length>0?w[0]:y.getBoundingClientRect();return k.width>0||k.height>0?_e.some(k).map(Xf):_e.none()},nd=xe.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Jf=(y,w,k)=>w(yo.fromDom(k.startContainer),k.startOffset,yo.fromDom(k.endContainer),k.endOffset),kd=(y,w)=>w.match({domRange:k=>({ltr:se(k),rtl:_e.none}),relative:(k,W)=>({ltr:wo(()=>zl(y,k,W)),rtl:wo(()=>_e.some(zl(y,W,k)))}),exact:(k,W,re,pe)=>({ltr:wo(()=>Qc(y,k,W,re,pe)),rtl:wo(()=>_e.some(Qc(y,re,pe,k,W)))})}),Dd=(y,w)=>{const k=w.ltr();return k.collapsed?w.rtl().filter(re=>re.collapsed===!1).map(re=>nd.rtl(yo.fromDom(re.endContainer),re.endOffset,yo.fromDom(re.startContainer),re.startOffset)).getOrThunk(()=>Jf(y,nd.ltr,k)):Jf(y,nd.ltr,k)},vc=(y,w)=>{const k=kd(y,w);return Dd(y,k)},po=(y,w)=>vc(y,w).match({ltr:(W,re,pe,Oe)=>{const Ue=y.document.createRange();return Ue.setStart(W.dom,re),Ue.setEnd(pe.dom,Oe),Ue},rtl:(W,re,pe,Oe)=>{const Ue=y.document.createRange();return Ue.setStart(pe.dom,Oe),Ue.setEnd(W.dom,re),Ue}});nd.ltr,nd.rtl;const Iu=8,Rh=9,He=11,ft=1,jt=3,Tn=(y,w)=>{const k=y.dom;if(k.nodeType!==ft)return!1;{const W=k;if(W.matches!==void 0)return W.matches(w);if(W.msMatchesSelector!==void 0)return W.msMatchesSelector(w);if(W.webkitMatchesSelector!==void 0)return W.webkitMatchesSelector(w);if(W.mozMatchesSelector!==void 0)return W.mozMatchesSelector(w);throw new Error("Browser lacks native selectors")}},go=y=>y.nodeType!==ft&&y.nodeType!==Rh&&y.nodeType!==He||y.childElementCount===0,jo=(y,w)=>{const k=w===void 0?document:w.dom;return go(k)?[]:Ut(k.querySelectorAll(y),yo.fromDom)},pr=(y,w)=>{const k=w===void 0?document:w.dom;return go(k)?_e.none():_e.from(k.querySelector(y)).map(yo.fromDom)},js=(y,w)=>y.dom===w.dom,Tr=(y,w)=>{const k=y.dom,W=w.dom;return k===W?!1:k.contains(W)},we=Tn,We=(y,w,k,W)=>{const re=y.isiOS()&&/ipad/i.test(k)===!0,pe=y.isiOS()&&!re,Oe=y.isiOS()||y.isAndroid(),Ue=Oe||W("(pointer:coarse)"),tt=re||!pe&&Oe&&W("(min-device-width:768px)"),Ct=pe||Oe&&!tt,Qt=w.isSafari()&&y.isiOS()&&/safari/i.test(k)===!1,zn=!Ct&&!tt&&!Qt;return{isiPad:se(re),isiPhone:se(pe),isTablet:se(tt),isPhone:se(Ct),isTouch:se(Ue),isAndroid:y.isAndroid,isiOS:y.isiOS,isWebView:se(Qt),isDesktop:se(zn)}},mt=(y,w)=>{for(let k=0;k<y.length;k++){const W=y[k];if(W.test(w))return W}},Cn=(y,w)=>{const k=mt(y,w);if(!k)return{major:0,minor:0};const W=re=>Number(w.replace(k,"$"+re));return L(W(1),W(2))},qo=(y,w)=>{const k=String(w).toLowerCase();return y.length===0?Ws():Cn(y,k)},Ws=()=>L(0,0),L=(y,w)=>({major:y,minor:w}),X={nu:L,detect:qo,unknown:Ws},de=(y,w)=>Ft(w.brands,k=>{const W=k.brand.toLowerCase();return ye(y,re=>W===re.brand?.toLowerCase()).map(re=>({current:re.name,version:X.nu(parseInt(k.version,10),0)}))}),ge=(y,w)=>{const k=String(w).toLowerCase();return ye(y,W=>W.search(k))},Ie=(y,w)=>ge(y,w).map(k=>{const W=X.detect(k.versionRegexes,w);return{current:k.name,version:W}}),Be=(y,w)=>ge(y,w).map(k=>{const W=X.detect(k.versionRegexes,w);return{current:k.name,version:W}}),Ke=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Vt=y=>w=>$r(w,y),It=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>$r(y,"edge/")&&$r(y,"chrome")&&$r(y,"safari")&&$r(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ke],search:y=>$r(y,"chrome")&&!$r(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>$r(y,"msie")||$r(y,"trident")},{name:"Opera",versionRegexes:[Ke,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Vt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Vt("firefox")},{name:"Safari",versionRegexes:[Ke,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>($r(y,"safari")||$r(y,"mobile/"))&&$r(y,"applewebkit")}],rn=[{name:"Windows",search:Vt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>$r(y,"iphone")||$r(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Vt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Vt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Vt("linux"),versionRegexes:[]},{name:"Solaris",search:Vt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Vt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Vt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Hn={browsers:se(It),oses:se(rn)},co="Edge",Rn="Chromium",Ko="IE",kr="Opera",wi="Firefox",Wr="Safari",jl=()=>wa({current:void 0,version:X.unknown()}),wa=y=>{const w=y.current,k=y.version,W=re=>()=>w===re;return{current:w,version:k,isEdge:W(co),isChromium:W(Rn),isIE:W(Ko),isOpera:W(kr),isFirefox:W(wi),isSafari:W(Wr)}},od={unknown:jl,nu:wa},sh="Windows",vi="iOS",yc="Android",Vi="Linux",ml="macOS",Hp="Solaris",Md="FreeBSD",kh="ChromeOS",Og=()=>sd({current:void 0,version:X.unknown()}),sd=y=>{const w=y.current,k=y.version,W=re=>()=>w===re;return{current:w,version:k,isWindows:W(sh),isiOS:W(vi),isAndroid:W(yc),isMacOS:W(ml),isLinux:W(Vi),isSolaris:W(Hp),isFreeBSD:W(Md),isChromeOS:W(kh)}},eu={unknown:Og,nu:sd},rd={detect:(y,w,k)=>{const W=Hn.browsers(),re=Hn.oses(),pe=w.bind(tt=>de(W,tt)).orThunk(()=>Ie(W,y)).fold(od.unknown,od.nu),Oe=Be(re,y).fold(eu.unknown,eu.nu),Ue=We(Oe,pe,y,k);return{browser:pe,os:Oe,deviceType:Ue}}},Ig=y=>window.matchMedia(y).matches;let bc=wo(()=>rd.detect(window.navigator.userAgent,_e.from(window.navigator.userAgentData),Ig));const Pl=()=>bc(),rf=(y,w)=>zo(y,w),Uy=(y,w)=>{const k=rf(y,w);if(k==null)throw new Error(y+" not available on this browser");return k},xr=Object.getPrototypeOf,Zi=y=>Uy("HTMLElement",y),$p=y=>{const w=zo("ownerDocument.defaultView",y);return v(y)&&(Zi(w).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test(xr(y).constructor.name))},_i=y=>y.dom.nodeName.toLowerCase(),ep=y=>y.dom.nodeType,af=y=>w=>ep(w)===y,HS=y=>ep(y)===Iu||_i(y)==="#comment",lf=y=>Gi(y)&&$p(y.dom),Gi=af(ft),tu=af(jt),Pd=af(Rh),Jn=af(He),Wl=y=>w=>Gi(w)&&_i(w)===y,Dh=y=>yo.fromDom(y.dom.ownerDocument),nu=y=>Pd(y)?y:Dh(y),tp=y=>yo.fromDom(nu(y).dom.documentElement),zy=y=>yo.fromDom(nu(y).dom.defaultView),st=y=>_e.from(y.dom.parentNode).map(yo.fromDom),xc=y=>_e.from(y.dom.parentElement).map(yo.fromDom),Mh=(y,w)=>{const k=U(w)?w:$e;let W=y.dom;const re=[];for(;W.parentNode!==null&&W.parentNode!==void 0;){const pe=W.parentNode,Oe=yo.fromDom(pe);if(re.push(Oe),k(Oe)===!0)break;W=pe}return re},jy=y=>_e.from(y.dom.previousSibling).map(yo.fromDom),ou=y=>_e.from(y.dom.nextSibling).map(yo.fromDom),ec=y=>Ut(y.dom.childNodes,yo.fromDom),vt=(y,w)=>{const k=y.dom.childNodes;return _e.from(k[w]).map(yo.fromDom)},Jt=y=>vt(y,0),kn=(y,w,k,W)=>{const pe=Dh(y).dom.createRange();return pe.setStart(y.dom,w),pe.setEnd(k.dom,W),pe},Ln=(y,w,k,W)=>{const re=kn(y,w,k,W),pe=js(y,k)&&w===W;return re.collapsed&&!pe},to=y=>Jn(y)&&H(y.dom.host),ds=y=>yo.fromDom(y.dom.getRootNode()),ys=y=>to(y)?y:yo.fromDom(nu(y).dom.body),Js=y=>{const w=ds(y);return to(w)?_e.some(w):_e.none()},xs=y=>yo.fromDom(y.dom.host),mr=y=>{if(H(y.target)){const w=yo.fromDom(y.target);if(Gi(w)&&Or(w)&&y.composed&&y.composedPath){const k=y.composedPath();if(k)return qe(k)}}return _e.from(y.target)},Or=y=>H(y.dom.shadowRoot),vr=(y,w,k,W,re,pe,Oe)=>({target:y,x:w,y:k,stop:W,prevent:re,kill:pe,raw:Oe}),Ur=y=>{const w=yo.fromDom(mr(y).getOr(y.target)),k=()=>y.stopPropagation(),W=()=>y.preventDefault(),re=te(W,k);return vr(w,y.clientX,y.clientY,k,W,re,y)},Lo=(y,w)=>k=>{y(k)&&w(Ur(k))},Qr=(y,w,k,W,re)=>{const pe=Lo(k,W);return y.dom.addEventListener(w,pe,re),{unbind:Te(tc,y,w,pe,re)}},Cl=(y,w,k,W)=>Qr(y,w,k,W,!1),tc=(y,w,k,W)=>{y.dom.removeEventListener(w,k,W)},Us=Re,Nl=(y,w,k)=>Cl(y,w,Us,k),oa=Ur,Za=(y,w)=>{st(y).each(W=>{W.dom.insertBefore(w.dom,y.dom)})},Ph=(y,w)=>{ou(y).fold(()=>{st(y).each(re=>{ei(re,w)})},W=>{Za(W,w)})},sa=(y,w)=>{Jt(y).fold(()=>{ei(y,w)},W=>{y.dom.insertBefore(w.dom,W.dom)})},ei=(y,w)=>{y.dom.appendChild(w.dom)},Zb=(y,w,k)=>{vt(y,k).fold(()=>{ei(y,w)},W=>{Za(W,w)})},RE=(y,w)=>{Za(y,w),ei(w,y)},El=(y,w)=>{Xe(w,(k,W)=>{const re=W===0?y:w[W-1];Ph(re,k)})},nc=(y,w)=>{Xe(w,k=>{ei(y,k)})},su=(y,w,k)=>{if(p(k)||x(k)||z(k))y.setAttribute(w,k+"");else throw console.error("Invalid call to Attribute.set. Key ",w,":: Value ",k,":: Element ",y),new Error("Attribute value was not simple")},wl=(y,w,k)=>{su(y.dom,w,k)},Nh=(y,w)=>{const k=y.dom;Nt(w,(W,re)=>{su(k,re,W)})},Ru=(y,w)=>{Nt(w,(k,W)=>{k.fold(()=>{si(y,W)},re=>{su(y.dom,W,re)})})},ku=(y,w)=>{const k=y.dom.getAttribute(w);return k===null?void 0:k},Lc=(y,w)=>_e.from(ku(y,w)),si=(y,w)=>{y.dom.removeAttribute(w)},Nd=y=>Dt(y.dom.attributes,(w,k)=>(w[k.name]=k.value,w),{}),Du=y=>{y.dom.textContent="",Xe(ec(y),w=>{Gl(w)})},Gl=y=>{const w=y.dom;w.parentNode!==null&&w.parentNode.removeChild(w)},ra=y=>{const w=ec(y);w.length>0&&El(y,w),Gl(y)},yr=(y,w)=>yo.fromDom(y.dom.cloneNode(w)),Lh=y=>yr(y,!1),ql=y=>yr(y,!0),Ya=(y,w)=>{const k=yo.fromTag(w),W=Nd(y);return Nh(k,W),k},cf=(y,w)=>{const k=Ya(y,w),W=ec(ql(y));return nc(k,W),k},ll=(y,w)=>{const k=Ya(y,w);Ph(y,k);const W=ec(y);return nc(k,W),Gl(y),k},Wy=(y,w)=>{const W=document.createElement("div");return W.innerHTML=y,ec(yo.fromDom(W))},oc=y=>Ut(y,yo.fromDom),Yb=y=>y.dom.innerHTML,br=y=>{const w=yo.fromTag("div"),k=yo.fromDom(y.dom.cloneNode(!0));return ei(w,k),Yb(w)},xm=y=>y.style!==void 0&&U(y.style.getPropertyValue),gs=y=>{const w=tu(y)?y.dom.parentNode:y.dom;if(w==null||w.ownerDocument===null)return!1;const k=w.ownerDocument;return Js(yo.fromDom(w)).fold(()=>k.body.contains(w),ce(gs,xs))},a1=y=>{const w=y.dom.body;if(w==null)throw new Error("Body is not available yet");return yo.fromDom(w)},gl=(y,w,k)=>{if(!p(k))throw console.error("Invalid call to CSS.set. Property ",w,":: Value ",k,":: Element ",y),new Error("CSS value must be a string: "+k);xm(y)&&y.style.setProperty(w,k)},lr=(y,w)=>{xm(y)&&y.style.removeProperty(w)},Ll=(y,w,k)=>{const W=y.dom;gl(W,w,k)},ia=(y,w)=>{const k=y.dom;Nt(w,(W,re)=>{gl(k,re,W)})},Om=(y,w)=>{const k=y.dom,re=window.getComputedStyle(k).getPropertyValue(w);return re===""&&!gs(y)?Xb(k,w):re},Xb=(y,w)=>xm(y)?y.style.getPropertyValue(w):"",Ld=(y,w)=>{const k=y.dom,W=Xb(k,w);return _e.from(W).filter(re=>re.length>0)},Mu=(y,w)=>{const k=y.dom;lr(k,w),Xo(Lc(y,"style").map(Xc),"")&&si(y,"style")},Gy=(y,w)=>{const k=y.dom,W=w.dom;xm(k)&&xm(W)&&(W.style.cssText=k.style.cssText)},Jb=(y,w)=>{const k=(Ue,tt)=>{if(!z(tt)&&!tt.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+tt);const Ct=Ue.dom;xm(Ct)&&(Ct.style[y]=tt+"px")},W=Ue=>{const tt=w(Ue);if(tt<=0||tt===null){const Ct=Om(Ue,y);return parseFloat(Ct)||0}return tt},re=W,pe=(Ue,tt)=>Dt(tt,(Ct,Qt)=>{const zn=Om(Ue,Qt),To=zn===void 0?0:parseInt(zn,10);return isNaN(To)?Ct:Ct+To},0);return{set:k,get:W,getOuter:re,aggregate:pe,max:(Ue,tt,Ct)=>{const Qt=pe(Ue,Ct);return tt>Qt?tt-Qt:0}}},qy=(y,w)=>td(y).getOr(w),rh=(y,w,k)=>qy(Om(y,w),k),Bh=(y,w,k,W)=>{const re=rh(y,`padding-${k}`,0),pe=rh(y,`padding-${W}`,0),Oe=rh(y,`border-${k}-width`,0),Ue=rh(y,`border-${W}-width`,0);return w-re-pe-Oe-Ue},Qb=(y,w)=>{const k=y.dom,W=k.getBoundingClientRect().width||k.offsetWidth;return Bh(y,W,"left","right")},Oc=y=>rh(y,"height",y.dom.offsetHeight),ih=y=>rh(y,"width",y.dom.offsetWidth),np=y=>Qb(y),zr=Jb("height",y=>{const w=y.dom;return gs(y)?w.getBoundingClientRect().height:w.offsetHeight}),Bd=y=>zr.get(y),l1=y=>zr.getOuter(y),Ky=Oc,ah=Jb("width",y=>{const w=y.dom;return gs(y)?w.getBoundingClientRect().width:w.offsetWidth}),Ds=y=>ah.get(y),ha=y=>ah.getOuter(y),Pa=np,aa=ih,lh=(y,w)=>({left:y,top:w,translate:(W,re)=>lh(y+W,w+re)}),fa=lh,vl=y=>{const w=y.getBoundingClientRect();return fa(w.left,w.top)},Pv=(y,w)=>y!==void 0?y:w!==void 0?w:0,wr=y=>{const w=y.dom.ownerDocument,k=w.body,W=w.defaultView,re=w.documentElement;if(k===y.dom)return fa(k.offsetLeft,k.offsetTop);const pe=Pv(W?.pageYOffset,re.scrollTop),Oe=Pv(W?.pageXOffset,re.scrollLeft),Ue=Pv(re.clientTop,k.clientTop),tt=Pv(re.clientLeft,k.clientLeft);return id(y).translate(Oe-tt,pe-Ue)},id=y=>{const w=y.dom,W=w.ownerDocument.body;return W===w?fa(W.offsetLeft,W.offsetTop):gs(y)?vl(w):fa(0,0)},Ni=y=>{const w=y!==void 0?y.dom:document,k=w.body.scrollLeft||w.documentElement.scrollLeft,W=w.body.scrollTop||w.documentElement.scrollTop;return fa(k,W)},Pu=(y,w,k)=>{const re=(k!==void 0?k.dom:document).defaultView;re&&re.scrollBy(y,w)},Tl=((y,w)=>{const k=pe=>{if(!y(pe))throw new Error("Can only get "+w+" value of a "+w+" node");return W(pe).getOr("")},W=pe=>y(pe)?_e.from(pe.dom.nodeValue):_e.none();return{get:k,getOption:W,set:(pe,Oe)=>{if(!y(pe))throw new Error("Can only set raw "+w+" value of a "+w+" node");pe.dom.nodeValue=Oe}}})(tu,"text"),uf=y=>Tl.get(y),Nv=y=>Tl.getOption(y),Up=(y,w)=>Tl.set(y,w),Im=(y,w)=>k=>ch(k)==="rtl"?w:y,ch=y=>Om(y,"direction")==="rtl"?"rtl":"ltr",Sc=(y,w)=>{const k=ku(y,w);return k===void 0||k===""?[]:k.split(" ")},zp=(y,w,k)=>{const re=Sc(y,w).concat([k]);return wl(y,w,re.join(" ")),!0},kE=(y,w,k)=>{const W=In(Sc(y,w),re=>re!==k);return W.length>0?wl(y,w,W.join(" ")):si(y,w),!1};var op=(y,w,k,W,re)=>y(k,W)?_e.some(k):U(re)&&re(k)?_e.none():w(k,W,re);const ri=(y,w,k)=>{let W=y.dom;const re=U(k)?k:$e;for(;W.parentNode;){W=W.parentNode;const pe=yo.fromDom(W);if(w(pe))return _e.some(pe);if(re(pe))break}return _e.none()},c1=(y,w,k)=>op((re,pe)=>pe(re),ri,y,w,k),Lv=(y,w)=>{const k=re=>w(yo.fromDom(re));return ye(y.dom.childNodes,k).map(yo.fromDom)},Bc=(y,w)=>{const k=W=>{for(let re=0;re<W.childNodes.length;re++){const pe=yo.fromDom(W.childNodes[re]);if(w(pe))return _e.some(pe);const Oe=k(W.childNodes[re]);if(Oe.isSome())return Oe}return _e.none()};return k(y.dom)},ru=(y,w,k)=>ri(y,W=>Tn(W,w),k),Ha=(y,w)=>Lv(y,k=>Tn(k,w)),Fd=(y,w)=>pr(w,y),yl=(y,w,k)=>op((re,pe)=>Tn(re,pe),ru,y,w,k),Rm=y=>y.dom.classList!==void 0,e0=y=>Sc(y,"class"),Zy=(y,w)=>zp(y,"class",w),DE=(y,w)=>kE(y,"class",w),df=(y,w)=>{Rm(y)?y.dom.classList.add(w):Zy(y,w)},ME=y=>{(Rm(y)?y.dom.classList:e0(y)).length===0&&si(y,"class")},u1=(y,w)=>{Rm(y)?y.dom.classList.remove(w):DE(y,w),ME(y)},hf=(y,w)=>Rm(y)&&y.dom.classList.contains(w),$S=(y,w)=>{Xe(w,k=>{u1(y,k)})},Bv=y=>yl(y,"[contenteditable]"),km=(y,w=!1)=>gs(y)?y.dom.isContentEditable:Bv(y).fold(se(w),k=>Rg(k)==="true"),Rg=y=>y.dom.contentEditable,d1=y=>w=>{df(w,y)},US=y=>w=>{$S(w,y)},Fh=(y,w,k)=>In(Mh(y,k),w),Dm=(y,w)=>In(ec(y),w),ff=(y,w)=>{let k=[];return Xe(ec(y),W=>{w(W)&&(k=k.concat([W])),k=k.concat(ff(W,w))}),k},ii=(y,w,k)=>Fh(y,W=>Tn(W,w),k),bl=(y,w)=>Dm(y,k=>Tn(k,w)),sp=(y,w)=>jo(w,y),t0=(y,w,k,W)=>({parent:y,children:w,element:k,index:W}),Mm=y=>st(y).bind(w=>{const k=ec(w);return kg(k,y).map(W=>t0(w,k,y,W))}),kg=(y,w)=>ms(y,Te(js,w)),jp=(y,w,k)=>ri(y,w,k).isSome(),rp=y=>_i(y)==="img"?1:Nv(y).fold(()=>ec(y).length,w=>w.length),Vh=y=>Nv(y).filter(w=>w.trim().length!==0||w.indexOf(Zf)>-1).isSome(),Ti=y=>lf(y)&&ku(y,"contenteditable")==="false",zS=["img","br"],ui=y=>Vh(y)||ln(zS,_i(y))||Ti(y),Fv=y=>Bc(y,ui),Xa=y=>Hh(y,ui),Hh=(y,w)=>{const k=W=>{const re=ec(W);for(let pe=re.length-1;pe>=0;pe--){const Oe=re[pe];if(w(Oe))return _e.some(Oe);const Ue=k(Oe);if(Ue.isSome())return Ue}return _e.none()};return k(y)},Nu={create:(y,w,k,W)=>({start:y,soffset:w,finish:k,foffset:W})},Dg=xe.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Vv=(y,w,k,W)=>y.fold(w,k,W),h1=y=>y.fold(Se,Se,Se),PE=Dg.before,Al=Dg.on,pf=Dg.after,cl={before:PE,on:Al,after:pf,cata:Vv,getStart:h1},Ai=xe.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Yy=y=>Ai.exact(y.start,y.soffset,y.finish,y.foffset),Xy=y=>y.match({domRange:w=>yo.fromDom(w.startContainer),relative:(w,k)=>cl.getStart(w),exact:(w,k,W,re)=>w}),Jy=Ai.domRange,n0=Ai.relative,Lu=Ai.exact,o0=y=>{const w=Xy(y);return zy(w)},J=Nu.create,ae={domRange:Jy,relative:n0,exact:Lu,exactFromRange:Yy,getWin:o0,range:J},De=(y,w,k)=>_e.from(y.caretPositionFromPoint?.(w,k)).bind(W=>{if(W.offsetNode===null)return _e.none();const re=y.createRange();return re.setStart(W.offsetNode,W.offset),re.collapse(),_e.some(re)}),Ye=(y,w,k)=>_e.from(y.caretRangeFromPoint?.(w,k)),At=(y,w,k)=>y.caretPositionFromPoint?De(y,w,k):y.caretRangeFromPoint?Ye(y,w,k):_e.none(),Sn=(y,w,k)=>{const W=y.document;return At(W,w,k).map(re=>Nu.create(yo.fromDom(re.startContainer),re.startOffset,yo.fromDom(re.endContainer),re.endOffset))},bo=(y,w)=>{const k=_i(y);return k==="input"?cl.after(y):ln(["br","img"],k)?w===0?cl.before(y):cl.after(y):cl.on(y,w)},ss=(y,w)=>{const k=y.fold(cl.before,bo,cl.after),W=w.fold(cl.before,bo,cl.after);return ae.relative(k,W)},Ys=(y,w,k,W)=>{const re=bo(y,w),pe=bo(k,W);return ae.relative(re,pe)},Is=y=>_e.from(y.getSelection()),Hi=(y,w)=>{Is(y).each(k=>{k.removeAllRanges(),k.addRange(w)})},pa=(y,w,k,W,re)=>{const pe=Qc(y,w,k,W,re);Hi(y,pe)},Ja=(y,w,k,W,re,pe)=>{w.collapse(k.dom,W),w.extend(re.dom,pe)},Bu=(y,w)=>vc(y,w).match({ltr:(k,W,re,pe)=>{pa(y,k,W,re,pe)},rtl:(k,W,re,pe)=>{Is(y).each(Oe=>{if(Oe.setBaseAndExtent)Oe.setBaseAndExtent(k.dom,W,re.dom,pe);else if(Oe.extend)try{Ja(y,Oe,k,W,re,pe)}catch{pa(y,re,pe,k,W)}else pa(y,re,pe,k,W)})}}),Wp=(y,w,k,W,re)=>{const pe=Ys(w,k,W,re);Bu(y,pe)},Gp=(y,w,k)=>{const W=ss(w,k);Bu(y,W)},iu=y=>{if(y.rangeCount>0){const w=y.getRangeAt(0),k=y.getRangeAt(y.rangeCount-1);return _e.some(Nu.create(yo.fromDom(w.startContainer),w.startOffset,yo.fromDom(k.endContainer),k.endOffset))}else return _e.none()},f1=y=>{if(y.anchorNode===null||y.focusNode===null)return iu(y);{const w=yo.fromDom(y.anchorNode),k=yo.fromDom(y.focusNode);return Ln(w,y.anchorOffset,k,y.focusOffset)?_e.some(Nu.create(w,y.anchorOffset,k,y.focusOffset)):iu(y)}},Pm=(y,w,k=!0)=>{const re=(k?Ml:Ou)(y,w);Hi(y,re)},Qy=y=>Is(y).filter(w=>w.rangeCount>0).bind(f1),Nm=y=>Qy(y).map(w=>ae.exact(w.start,w.soffset,w.finish,w.foffset)),Mg=(y,w)=>{const k=po(y,w);return sf(k)},s0=(y,w,k)=>Sn(y,w,k),Bl=y=>{Is(y).each(w=>w.removeAllRanges())},NE={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},LE=(()=>{const y="[0-9]+",k="[eE]"+("[+-]?"+y),W="\\.",re=Ue=>`(?:${Ue})?`,Oe=`[+-]?(?:${["Infinity",y+W+re(y)+re(k),W+y+re(k),y+re(k)].join("|")})`;return new RegExp(`^(${Oe})(.*)$`)})(),Fr=(y,w)=>it(w,k=>it(NE[k],W=>y===W)),xi=(y,w)=>_e.from(LE.exec(y)).bind(W=>{const re=Number(W[1]),pe=W[2];return Fr(pe,w)?_e.some({value:re,unit:pe}):_e.none()}),Qa=y=>Ut(y,se(0)),ad=(y,w,k,W,re)=>re(y.slice(0,w)).concat(W).concat(re(y.slice(k))),el=y=>(w,k,W,re)=>{if(y(W)){const pe=Math.max(re,w[k]-Math.abs(W)),Oe=Math.abs(pe-w[k]);return W>=0?Oe:-Oe}else return W},eb=el(y=>y<0),tb=el(Re),nb=()=>{const y=(Ue,tt,Ct,Qt,zn)=>{const To=eb(Ue,tt,Qt,zn);return ad(Ue,tt,Ct+1,[To,0],Qa)},w=(Ue,tt,Ct,Qt)=>{const zn=(100+Ct)/100,To=Math.max(Qt,(Ue[tt]+Ct)/zn);return Ut(Ue,(Ro,ps)=>(ps===tt?To:Ro/zn)-Ro)},k=(Ue,tt,Ct,Qt,zn,To)=>To?w(Ue,tt,Qt,zn):y(Ue,tt,Ct,Qt,zn);return{resizeTable:(Ue,tt)=>Ue(tt),clampTableDelta:eb,calcLeftEdgeDeltas:k,calcMiddleDeltas:(Ue,tt,Ct,Qt,zn,To,Ro)=>k(Ue,Ct,Qt,zn,To,Ro),calcRightEdgeDeltas:(Ue,tt,Ct,Qt,zn,To)=>{if(To)return w(Ue,Ct,Qt,zn);{const Ro=eb(Ue,Ct,Qt,zn);return Qa(Ue.slice(0,Ct)).concat([Ro])}},calcRedestributedWidths:(Ue,tt,Ct,Qt)=>{if(Qt){const To=(tt+Ct)/tt,Ro=Ut(Ue,ps=>ps/To);return{delta:To*100-100,newSizes:Ro}}else return{delta:Ct,newSizes:Ue}}}},BE=()=>{const y=(Oe,Ue,tt,Ct,Qt)=>{const zn=Ct>=0?tt:Ue,To=tb(Oe,zn,Ct,Qt);return ad(Oe,Ue,tt+1,[To,-To],Qa)};return{resizeTable:(Oe,Ue,tt)=>{tt&&Oe(Ue)},clampTableDelta:(Oe,Ue,tt,Ct,Qt)=>{if(Qt){if(tt>=0)return tt;{const zn=Dt(Oe,(To,Ro)=>To+Ro-Ct,0);return Math.max(-zn,tt)}}else return eb(Oe,Ue,tt,Ct)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(Oe,Ue,tt,Ct,Qt,zn)=>y(Oe,tt,Ct,Qt,zn),calcRightEdgeDeltas:(Oe,Ue,tt,Ct,Qt,zn)=>{if(zn)return Qa(Oe);{const To=Ct/Oe.length;return Ut(Oe,se(To))}},calcRedestributedWidths:(Oe,Ue,tt,Ct)=>({delta:0,newSizes:Oe})}},Sl=(y,w,k=0)=>Lc(y,w).map(W=>parseInt(W,10)).getOr(k),Lm=(y,w)=>Sl(y,w,1),ob=y=>Wl("col")(y)?Sl(y,"span",1)>1:Lm(y,"colspan")>1,FE=y=>Lm(y,"rowspan")>1,Gr=(y,w)=>parseInt(Om(y,w),10),Fl=se(10),ip=se(10),Vd=(y,w)=>ld(y,w,Re),ld=(y,w,k)=>Eo(ec(y),W=>Tn(W,w)?k(W)?[W]:[]:ld(W,w,k)),Fu=(y,w,k=$e)=>{if(k(w))return _e.none();if(ln(y,_i(w)))return _e.some(w);const W=re=>Tn(re,"table")||k(re);return ru(w,y.join(","),W)},VE=(y,w)=>Fu(["td","th"],y,w),Pg=y=>Vd(y,"th,td"),jS=y=>Tn(y,"colgroup")?bl(y,"col"):Eo(Yi(y),w=>bl(w,"col")),Hd=(y,w)=>yl(y,"table",w),HE=y=>Vd(y,"tr"),Yi=y=>Hd(y).fold(se([]),w=>bl(w,"colgroup")),Ng=Wl("th"),Lg=y=>Oo(y,w=>Ng(w.element)),KO=(y,w)=>y&&w?"sectionCells":y?"section":"cells",WS=y=>{const w=y.section==="thead",k=Xo(GS(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:w||k?{type:"header",subType:KO(w,k)}:{type:"body"}},GS=y=>{const w=In(y,k=>Ng(k.element));return w.length===0?_e.some("td"):w.length===y.length?_e.some("th"):_e.none()},ZO=y=>{const w=Ut(y,re=>WS(re).type),k=ln(w,"header"),W=ln(w,"footer");if(!k&&!W)return _e.some("body");{const re=ln(w,"body");return k&&!re&&!W?_e.some("header"):!k&&!re&&W?_e.some("footer"):_e.none()}},qp=y=>Ft(y.all,w=>{const k=WS(w);return k.type==="header"?_e.from(k.subType):_e.none()}),Bm=(y,w)=>Ut(y,k=>{if(_i(k)==="colgroup"){const W=Ut(jS(k),re=>{const pe=Sl(re,"span",1);return Pc(re,1,pe)});return nh(k,W,"colgroup")}else{const W=Ut(Pg(k),re=>{const pe=Sl(re,"rowspan",1),Oe=Sl(re,"colspan",1);return Pc(re,pe,Oe)});return nh(k,W,w(k))}}),Bg=y=>st(y).map(w=>{const k=_i(w);return xh(k)?k:"tbody"}).getOr("tbody"),Ho=y=>{const w=HE(y),W=[...Yi(y),...w];return Bm(W,Bg)},ma=(y,w)=>Bm(y,()=>w),r0="data-snooker-locked-cols",sb=y=>Lc(y,r0).bind(w=>_e.from(w.match(/\d+/g))).map(w=>xt(w,Re)),Rc=y=>{const w=Dt(Br(y).rows,(W,re)=>(Xe(re.cells,(pe,Oe)=>{pe.isLocked&&(W[Oe]=!0)}),W),{}),k=ro(w,(W,re)=>parseInt(re,10));return cn(k)},Hv=(y,w)=>y+","+w,TT=(y,w,k)=>_e.from(y.access[Hv(w,k)]),Fg=(y,w,k)=>{const W=AT(y,re=>k(w,re.element));return W.length>0?_e.some(W[0]):_e.none()},AT=(y,w)=>{const k=Eo(y.all,W=>W.cells);return In(k,w)},ap=y=>{const w={};let k=0;return Xe(y.cells,W=>{const re=W.colspan;Ht(re,pe=>{const Oe=k+pe;w[Oe]=Vp(W.element,re,Oe)}),k+=re}),w},Fm=y=>{const w={},k=[],re=qe(y).map(Ro=>Ro.element).bind(Hd).bind(sb).getOr({});let pe=0,Oe=0,Ue=0;const{pass:tt,fail:Ct}=eo(y,Ro=>Ro.section==="colgroup");Xe(Ct,Ro=>{const ps=[];Xe(Ro.cells,yn=>{let On=0;for(;w[Hv(Ue,On)]!==void 0;)On++;const Ms=Wo(re,On.toString()),er=Au(yn.element,yn.rowspan,yn.colspan,Ue,On,Ms);for(let Jo=0;Jo<yn.colspan;Jo++)for(let Ri=0;Ri<yn.rowspan;Ri++){const Si=Ue+Ri,Ks=On+Jo,Kl=Hv(Si,Ks);w[Kl]=er,Oe=Math.max(Oe,Ks+1)}ps.push(er)}),pe++,k.push(nh(Ro.element,ps,Ro.section)),Ue++});const{columns:Qt,colgroups:zn}=pt(tt).map(Ro=>{const ps=ap(Ro);return{colgroups:[Tm(Ro.element,io(ps))],columns:ps}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Xr(pe,Oe),access:w,all:k,columns:Qt,colgroups:zn}},Er={fromTable:y=>{const w=Ho(y);return Fm(w)},generate:Fm,getAt:TT,findItem:Fg,filterItems:AT,justCells:y=>Eo(y.all,w=>w.cells),justColumns:y=>io(y.columns),hasColumns:y=>Ve(y.columns).length>0,getColumnAt:(y,w)=>_e.from(y.columns[w])},$v=(y,w,k)=>Fi(k(y.element,w),!0,y.isLocked),ga=(y,w)=>y.section!==w?pc(y.element,y.cells,w,y.isNew):y,p1=()=>({transformRow:ga,transformCell:(y,w,k)=>{const W=k(y.element,w),re=_i(W)!=="td"?ll(W,"td"):W;return Fi(re,y.isNew,y.isLocked)}}),mf=()=>({transformRow:ga,transformCell:$v}),au=()=>({transformRow:(y,w)=>ga(y,w==="thead"?"tbody":w),transformCell:$v}),Zp={getTableSectionType:(y,w)=>{const k=Er.fromTable(y);switch(qp(k).getOr(w)){case"section":return p1();case"sectionCells":return mf();case"cells":return au()}},section:p1,sectionCells:mf,cells:au,fallback:()=>({transformRow:Se,transformCell:$v})},UE=(y,w=Re)=>{const k=y.grid,W=Ht(k.columns,Se),re=Ht(k.rows,Se);return Ut(W,pe=>qS(()=>Eo(re,Ct=>Er.getAt(y,Ct,pe).filter(Qt=>Qt.column===pe).toArray()),Ct=>Ct.colspan===1&&w(Ct.element),()=>Er.getAt(y,0,pe)))},qS=(y,w,k)=>{const W=y();return ye(W,w).orThunk(()=>_e.from(W[0]).orThunk(k)).map(Oe=>Oe.element)},$h=y=>{const w=y.grid,k=Ht(w.rows,Se),W=Ht(w.columns,Se);return Ut(k,re=>qS(()=>Eo(W,tt=>Er.getAt(y,re,tt).filter(Ct=>Ct.row===re).fold(se([]),Ct=>[Ct])),tt=>tt.rowspan===1,()=>Er.getAt(y,re,0)))},Vm=(y,w)=>{if(w<0||w>=y.length-1)return _e.none();const k=y[w].fold(()=>{const re=Zn(y.slice(0,w));return Ft(re,(pe,Oe)=>pe.map(Ue=>({value:Ue,delta:Oe+1})))},re=>_e.some({value:re,delta:0})),W=y[w+1].fold(()=>{const re=y.slice(w+1);return Ft(re,(pe,Oe)=>pe.map(Ue=>({value:Ue,delta:Oe+1})))},re=>_e.some({value:re,delta:1}));return k.bind(re=>W.map(pe=>{const Oe=pe.delta+re.delta;return Math.abs(pe.value-re.value)/Oe}))},i0=(y,w)=>({row:y,y:w}),$i=(y,w)=>({col:y,x:w}),xT=y=>wr(y).left+ha(y),zE=y=>wr(y).left,jE=(y,w)=>$i(y,zE(w)),ib=(y,w)=>$i(y,xT(w)),KS=y=>wr(y).top,ZS=(y,w)=>i0(y,KS(w)),Hm=(y,w)=>i0(y,KS(w)+l1(w)),m1=(y,w,k)=>{if(k.length===0)return[];const W=Ut(k.slice(1),(pe,Oe)=>pe.map(Ue=>y(Oe,Ue))),re=k[k.length-1].map(pe=>w(k.length-1,pe));return W.concat([re])},cd=y=>-y,gf={delta:Se,positions:y=>m1(ZS,Hm,y),edge:KS},Os=Im({delta:Se,edge:zE,positions:y=>m1(jE,ib,y)},{delta:cd,edge:xT,positions:y=>m1(ib,jE,y)}),ud={delta:(y,w)=>Os(w).delta(y,w),positions:(y,w)=>Os(w).positions(y,w),edge:y=>Os(y).edge(y)},ab=/(\d+(\.\d+)?)%/,Hg=/(\d+(\.\d+)?)px|em/,YO=Wl("col"),YS=Wl("tr"),lp=(y,w,k)=>{const W=xc(y).getOrThunk(()=>a1(Dh(y)));return w(y)/k(W)*100},$m=(y,w)=>{Ll(y,"width",w+"px")},a0=(y,w)=>{Ll(y,"width",w+"%")},Um=(y,w)=>{Ll(y,"height",w+"px")},WE=y=>{Mu(y,"height")},GE=y=>Ky(y)+"px",Na=(y,w,k,W)=>{const re=Hd(y).map(pe=>{const Oe=k(pe);return Math.floor(w/100*Oe)}).getOr(w);return W(y,re),re},cp=(y,w,k,W)=>{const re=parseFloat(y);return Id(y,"%")&&_i(w)!=="table"?Na(w,re,k,W):re},dd=y=>{const w=GE(y);return w?cp(w,y,Bd,Um):Bd(y)},up=(y,w,k)=>{const W=k(y),re=Lm(y,w);return W/re},hd=(y,w)=>Ld(y,w).orThunk(()=>Lc(y,w).map(k=>k+"px")),lb=y=>hd(y,"width"),Cc=y=>hd(y,"height"),Fc=y=>lp(y,Ds,Pa),Uv=y=>YO(y)?Math.round(Ds(y)):aa(y),Nn=y=>YS(y)?Bd(y):up(y,"rowspan",dd),Hu=y=>lb(y).bind(k=>xi(k,["fixed","relative","empty"])),l0=(y,w,k)=>{Ll(y,"width",w+k)},sc=y=>Ds(y)+"px",vf=y=>Bd(y)+"px",Uh=y=>lp(y,Ds,Pa)+"%",c0=y=>lb(y).exists(w=>ab.test(w)),zm=y=>lb(y).exists(w=>Hg.test(w)),OT=y=>lb(y).isNone(),$d=se(ab),di=Wl("col"),$u=y=>lb(y).getOrThunk(()=>Uv(y)+"px"),cb=y=>Cc(y).getOrThunk(()=>Nn(y)+"px"),ul=y=>Ut(Er.justColumns(y),w=>_e.from(w.element)),IT=y=>{const w=Pl().browser,k=w.isChromium()||w.isFirefox();return di(y)?k:!0},XS=(y,w,k,W,re,pe)=>y.filter(W).fold(()=>pe(Vm(k,w)),Oe=>re(Oe)),Yp=(y,w,k,W)=>{const re=UE(y),pe=Er.hasColumns(y)?ul(y):re,Oe=[_e.some(ud.edge(w))].concat(Ut(ud.positions(re,w),tt=>tt.map(Ct=>Ct.x))),Ue=V(ob);return Ut(pe,(tt,Ct)=>XS(tt,Ct,Oe,Ue,Qt=>{if(IT(Qt))return k(Qt);{const zn=Ma(re[Ct],Se);return XS(zn,Ct,Oe,Ue,To=>W(_e.some(Math.round(Ds(To)))),W)}},W))},qE=y=>y.map(w=>w+"px").getOr(""),dh=(y,w)=>Yp(y,w,$u,qE),KE=(y,w,k)=>Yp(y,w,Fc,W=>W.fold(()=>k.minCellWidth(),re=>re/k.pixelWidth()*100)),nn=(y,w,k)=>Yp(y,w,Uv,W=>W.getOrThunk(k.minCellWidth)),fd=(y,w,k,W)=>{const re=$h(y),pe=Ut(y.all,Ue=>_e.some(Ue.element)),Oe=[_e.some(gf.edge(w))].concat(Ut(gf.positions(re,w),Ue=>Ue.map(tt=>tt.y)));return Ut(pe,(Ue,tt)=>XS(Ue,tt,Oe,Re,k,W))},u0=(y,w)=>fd(y,w,Nn,k=>k.getOrThunk(ip)),Ua=(y,w)=>fd(y,w,cb,qE),hh=(y,w)=>()=>gs(y)?w(y):parseFloat(Ld(y,"width").getOr("0")),Vc=y=>{const w=hh(y,Ds),k=se(0);return{width:w,pixelWidth:w,getWidths:(re,pe)=>nn(re,y,pe),getCellDelta:k,singleColumnWidth:se([0]),minCellWidth:k,setElementWidth:Z,adjustTableWidth:Z,isRelative:!0,label:"none"}},hi=y=>{const w=hh(y,tt=>parseFloat(Uh(tt))),k=hh(y,Ds);return{width:w,pixelWidth:k,getWidths:(tt,Ct)=>KE(tt,y,Ct),getCellDelta:tt=>tt/k()*100,singleColumnWidth:(tt,Ct)=>[100-tt],minCellWidth:()=>Fl()/k()*100,setElementWidth:a0,adjustTableWidth:tt=>{const Ct=w(),Qt=tt/100*Ct,zn=Ct+Qt;a0(y,zn)},isRelative:!0,label:"percent"}},JS=y=>{const w=hh(y,Ds);return{width:w,pixelWidth:w,getWidths:(Oe,Ue)=>nn(Oe,y,Ue),getCellDelta:Se,singleColumnWidth:(Oe,Ue)=>[Math.max(Fl(),Oe+Ue)-Oe],minCellWidth:Fl,setElementWidth:$m,adjustTableWidth:Oe=>{const Ue=w()+Oe;$m(y,Ue)},isRelative:!1,label:"pixel"}},zv=(y,w)=>$d().exec(w)!==null?hi(y):JS(y),jv={getTableSize:y=>lb(y).fold(()=>Vc(y),k=>zv(y,k)),pixelSize:JS,percentageSize:hi,noneSize:Vc},$g=(y,w,k,W)=>{k===W?si(y,w):wl(y,w,k)},QS=(y,w,k)=>{pt(bl(y,w)).fold(()=>sa(y,k),W=>Ph(W,k))},YE=(y,w)=>{const k=Ha(y,w).getOrThunk(()=>{const W=yo.fromTag(w,Dh(y).dom);return w==="thead"?QS(y,"caption,colgroup",W):w==="colgroup"?QS(y,"caption",W):ei(y,W),W});return Du(k),k},Ug=(y,w)=>{const k=[],W=[],re=Ro=>Ut(Ro,ps=>{ps.isNew&&k.push(ps.element);const yn=ps.element;return Du(yn),Xe(ps.cells,On=>{On.isNew&&W.push(On.element),$g(On.element,"colspan",On.colspan,1),$g(On.element,"rowspan",On.rowspan,1),ei(yn,On.element)}),yn}),pe=Ro=>Eo(Ro,ps=>Ut(ps.cells,yn=>($g(yn.element,"span",yn.colspan,1),yn.element))),Oe=(Ro,ps)=>{const yn=YE(y,ps),Ms=(ps==="colgroup"?pe:re)(Ro);nc(yn,Ms)},Ue=Ro=>{Ha(y,Ro).each(Gl)},tt=(Ro,ps)=>{Ro.length>0?Oe(Ro,ps):Ue(ps)},Ct=[],Qt=[],zn=[],To=[];return Xe(w,Ro=>{switch(Ro.section){case"thead":Ct.push(Ro);break;case"tbody":Qt.push(Ro);break;case"tfoot":zn.push(Ro);break;case"colgroup":To.push(Ro);break}}),tt(To,"colgroup"),tt(Ct,"thead"),tt(Qt,"tbody"),tt(zn,"tfoot"),{newRows:k,newCells:W}},Wv=y=>Ut(y,w=>{const k=Lh(w.element);return Xe(w.cells,W=>{const re=ql(W.element);$g(re,"colspan",W.colspan,1),$g(re,"rowspan",W.rowspan,1),ei(k,re)}),k}),RT=(y,w)=>Ut(y,k=>As(k,w)),Gv=(y,w)=>y[w],Hc=(y,w)=>{if(y.length===0)return 0;const k=y[0];return ms(y,re=>!w(k.element,re.element)).getOr(y.length)},rc=(y,w,k,W)=>{const re=Gv(y,w),pe=re.section==="colgroup",Oe=Hc(re.cells.slice(k),W),Ue=pe?1:Hc(RT(y.slice(w),k),W);return{colspan:Oe,rowspan:Ue}},zg=(y,w)=>{const k=Ut(y,re=>Ut(re.cells,$e)),W=(re,pe,Oe,Ue)=>{for(let tt=re;tt<re+Oe;tt++)for(let Ct=pe;Ct<pe+Ue;Ct++)k[tt][Ct]=!0};return Ut(y,(re,pe)=>{const Oe=Eo(re.cells,(Ue,tt)=>{if(k[pe][tt]===!1){const Ct=rc(y,pe,tt,w);return W(pe,tt,Ct.rowspan,Ct.colspan),[Ar(Ue.element,Ct.rowspan,Ct.colspan,Ue.isNew)]}else return[]});return Tc(re.element,Oe,re.section,re.isNew)})},jg=(y,w,k)=>{const W=[];Xe(y.colgroups,re=>{const pe=[];for(let Oe=0;Oe<y.grid.columns;Oe++){const Ue=Er.getColumnAt(y,Oe).map(tt=>Fi(tt.element,k,!1)).getOrThunk(()=>Fi(w.colGap(),!0,!1));pe.push(Ue)}W.push(pc(re.element,pe,"colgroup",k))});for(let re=0;re<y.grid.rows;re++){const pe=[];for(let tt=0;tt<y.grid.columns;tt++){const Ct=Er.getAt(y,re,tt).map(Qt=>Fi(Qt.element,k,Qt.isLocked)).getOrThunk(()=>Fi(w.gap(),!0,!1));pe.push(Ct)}const Oe=y.all[re],Ue=pc(Oe.element,pe,Oe.section,k);W.push(Ue)}return W},Wg=(y,w)=>jg(y,w,!1),d0=y=>zg(y,js),pd=(y,w)=>Ft(y.all,k=>ye(k.cells,W=>js(w,W.element))),qv=(y,w,k)=>{const W=Ut(w.selection,pe=>VE(pe).bind(Oe=>pd(y,Oe)).filter(k)),re=es(W);return kl(re.length>0,re)},xl=(y,w,k,W,re,pe,Oe,Ue,tt)=>{const Ct=Er.fromTable(pe),Qt=_e.from(tt?.section).getOrThunk(Zp.fallback);return w(Ct,Oe).map(To=>{const Ro=Wg(Ct,Ue),ps=y(Ro,To,js,re(Ue),Qt),yn=Rc(ps.grid),On=d0(ps.grid);return{info:To,grid:On,cursor:ps.cursor,lockedColumns:yn}}).bind(To=>{const Ro=Ug(pe,To.grid),ps=_e.from(tt?.sizing).getOrThunk(()=>jv.getTableSize(pe)),yn=_e.from(tt?.resize).getOrThunk(BE);return k(pe,To.grid,To.info,{sizing:ps,resize:yn,section:Qt}),W(pe),si(pe,r0),To.lockedColumns.length>0&&wl(pe,r0,To.lockedColumns.join(",")),_e.some({cursor:To.cursor,newRows:Ro.newRows,newCells:Ro.newCells})})},ub=(y,w)=>VE(w.element).bind(k=>pd(y,k).map(W=>({...W,generators:w.generators,clipboard:w.clipboard}))),yf=(y,w)=>qv(y,w,Re).map(k=>({cells:k,generators:w.generators,clipboard:w.clipboard})),bf=(y,w)=>w.mergable,g1=(y,w)=>w.unmergable,ic=(y,w)=>qv(y,w,Re),Gg=(y,w)=>qv(y,w,k=>!k.isLocked),Xp=(y,w)=>pd(y,w).exists(k=>!k.isLocked),Jp=(y,w)=>Oo(w,k=>Xp(y,k)),jm=(y,w)=>bf(y,w).filter(k=>Jp(y,k.cells)),Kv=(y,w)=>g1(y,w).filter(k=>Jp(y,k)),db={...xe.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},kT=(y,w)=>y.length===0?db.none():y.length===1?db.only(0):w===0?db.left(0,1):w===y.length-1?db.right(w-1,w):w>0&&w<y.length-1?db.middle(w-1,w,w+1):db.none(),_a=(y,w,k,W,re)=>{const pe=y.slice(0),Oe=kT(y,w),Ue=se(Ut(pe,se(0))),tt=To=>W.singleColumnWidth(pe[To],k),Ct=(To,Ro)=>re.calcLeftEdgeDeltas(pe,To,Ro,k,W.minCellWidth(),W.isRelative),Qt=(To,Ro,ps)=>re.calcMiddleDeltas(pe,To,Ro,ps,k,W.minCellWidth(),W.isRelative),zn=(To,Ro)=>re.calcRightEdgeDeltas(pe,To,Ro,k,W.minCellWidth(),W.isRelative);return Oe.fold(Ue,tt,Ct,Qt,zn)},XE=(y,w,k)=>{let W=0;for(let re=y;re<w;re++)W+=k[re]!==void 0?k[re]:0;return W},dp=(y,w)=>{const k=Er.justCells(y);return Ut(k,W=>{const re=XE(W.column,W.column+W.colspan,w);return{element:W.element,width:re,colspan:W.colspan}})},Sf=(y,w)=>{const k=Er.justColumns(y);return Ut(k,(W,re)=>({element:W.element,width:w[re],colspan:W.colspan}))},Wm=(y,w)=>Ut(y.all,(k,W)=>({element:k.element,height:w[W]})),Qp=y=>mn(y,(w,k)=>w+k,0),lu=(y,w)=>Er.hasColumns(y)?Sf(y,w):dp(y,w),hb=(y,w,k)=>{const W=lu(y,w);Xe(W,re=>{k.setElementWidth(re.element,re.width)})},em=(y,w,k,W,re)=>{const pe=Er.fromTable(y),Oe=re.getCellDelta(w),Ue=re.getWidths(pe,re),tt=k===pe.grid.columns-1,Ct=W.clampTableDelta(Ue,k,Oe,re.minCellWidth(),tt),Qt=_a(Ue,k,Ct,re,W),zn=Ut(Qt,(To,Ro)=>To+Ue[Ro]);hb(pe,zn,re),W.resizeTable(re.adjustTableWidth,Ct,tt)},JE=(y,w,k)=>{const W=Er.fromTable(y),re=u0(W,y),pe=Ut(re,(tt,Ct)=>k===Ct?Math.max(w+tt,ip()):tt),Oe=Wm(W,pe);Xe(Oe,tt=>{Um(tt.element,tt.height)}),Xe(Er.justCells(W),tt=>{WE(tt.element)});const Ue=Qp(pe);Um(y,Ue)},v1=(y,w,k,W,re)=>{const pe=Er.generate(w),Oe=W.getWidths(pe,W),Ue=W.pixelWidth(),{newSizes:tt,delta:Ct}=re.calcRedestributedWidths(Oe,Ue,k.pixelDelta,W.isRelative);hb(pe,tt,W),W.adjustTableWidth(Ct)},fb=(y,w,k,W)=>{const re=Er.generate(w),pe=W.getWidths(re,W);hb(re,pe,W)},eC=(y,w)=>{ob(y)||Hu(y).each(W=>{const re=W.value/2;l0(y,re,W.unit),l0(w,re,W.unit)})},tC=(y,w,k)=>{const W=Sl(y,w,1);k===1||W<=1?si(y,w):wl(y,w,Math.min(k,W))},DT=(y,w)=>k=>{const W=k.column+k.colspan-1,re=k.column;return W>=y&&re<w},pb=(y,w,k)=>{if(Er.hasColumns(y)){const W=In(Er.justColumns(y),DT(w,k)),re=Ut(W,Oe=>{const Ue=ql(Oe.element);return tC(Ue,"span",k-w),Ue}),pe=yo.fromTag("colgroup");return nc(pe,re),[pe]}else return[]},mb=(y,w,k)=>Ut(y.all,W=>{const re=In(W.cells,DT(w,k)),pe=Ut(re,Ue=>{const tt=ql(Ue.element);return tC(tt,"colspan",k-w),tt}),Oe=yo.fromTag("tr");return nc(Oe,pe),Oe}),tm=(y,w)=>{const k=Er.fromTable(y);return Gg(k,w).map(re=>{const pe=re[re.length-1],Oe=re[0].column,Ue=pe.column+pe.colspan,tt=pb(k,Oe,Ue),Ct=mb(k,Oe,Ue);return[...tt,...Ct]})},qg=(y,w,k)=>{const W=Er.fromTable(y);return ic(W,w).bind(pe=>{const Oe=jg(W,k,!1),tt=Br(Oe).rows.slice(pe[0].row,pe[pe.length-1].row+pe[pe.length-1].rowspan),Ct=Eo(tt,zn=>{const To=In(zn.cells,Ro=>!Ro.isLocked);return To.length>0?[{...zn,cells:To}]:[]}),Qt=d0(Ct);return kl(Qt.length>0,Qt)}).map(pe=>Wv(pe))},Kg=(y,w,k,W,re,pe)=>({minRow:y,minCol:w,maxRow:k,maxCol:W,allCells:re,selectedCells:pe}),MT=(y,w)=>{const k=y.grid.columns;let re=y.grid.rows,pe=k,Oe=0,Ue=0;const tt=[],Ct=[];return Nt(y.access,Qt=>{if(tt.push(Qt),w(Qt)){Ct.push(Qt);const zn=Qt.row,To=zn+Qt.rowspan-1,Ro=Qt.column,ps=Ro+Qt.colspan-1;zn<re?re=zn:To>Oe&&(Oe=To),Ro<pe?pe=Ro:ps>Ue&&(Ue=ps)}}),Kg(re,pe,Oe,Ue,tt,Ct)},h0=(y,w,k)=>{const W=y[k].element,re=yo.fromTag("td");ei(re,yo.fromTag("br")),(w?ei:sa)(W,re)},y1=(y,w,k,W)=>{const re=In(y,Ue=>Ue.section!=="colgroup"),pe=w.grid.columns,Oe=w.grid.rows;for(let Ue=0;Ue<Oe;Ue++){let tt=!1;for(let Ct=0;Ct<pe;Ct++)Ue<k.minRow||Ue>k.maxRow||Ct<k.minCol||Ct>k.maxCol||(Er.getAt(w,Ue,Ct).filter(W).isNone()?h0(re,tt,Ue):tt=!0)}},PT=(y,w,k,W)=>{Nt(k.columns,Oe=>{(Oe.column<w.minCol||Oe.column>w.maxCol)&&Gl(Oe.element)});const re=In(Vd(y,"tr"),Oe=>Oe.dom.childElementCount===0);Xe(re,Gl),(w.minCol===w.maxCol||w.minRow===w.maxRow)&&Xe(Vd(y,"th,td"),Oe=>{si(Oe,"rowspan"),si(Oe,"colspan")}),si(y,r0),si(y,"data-snooker-col-series"),jv.getTableSize(y).adjustTableWidth(W)},NT=(y,w,k,W)=>{if(W.minCol===0&&w.grid.columns===W.maxCol+1)return 0;const re=nn(w,y,k),pe=Dt(re,(Ct,Qt)=>Ct+Qt,0),tt=Dt(re.slice(W.minCol,W.maxCol+1),(Ct,Qt)=>Ct+Qt,0)/pe*k.pixelWidth()-k.pixelWidth();return k.getCellDelta(tt)},gb=(y,w)=>{const k=To=>Tn(To.element,w),W=ql(y),re=Ho(W),pe=jv.getTableSize(y),Oe=Er.generate(re),Ue=MT(Oe,k),tt="th:not("+w+"),td:not("+w+")",Ct=ld(W,"th,td",To=>Tn(To,tt));Xe(Ct,Gl),y1(re,Oe,Ue,k);const Qt=Er.fromTable(y),zn=NT(y,Qt,pe,Ue);return PT(W,Ue,Oe,zn),W},Zv=Wl("col"),nC=Wl("colgroup"),fh=y=>_i(y)==="tr"||nC(y),b1=y=>{const w=Sl(y,"colspan",1),k=Sl(y,"rowspan",1);return{element:y,colspan:w,rowspan:k}},hp=(y,w=b1)=>{const k=Ue=>Zv(Ue.element)?y.col(Ue):y.cell(Ue),W=Ue=>nC(Ue.element)?y.colgroup(Ue):y.row(Ue),re=Ue=>{if(fh(Ue))return W({element:Ue});{const tt=Ue,Ct=k(w(tt));return pe=_e.some({item:tt,replacement:Ct}),Ct}};let pe=_e.none();return{getOrInit:(Ue,tt)=>pe.fold(()=>re(Ue),Ct=>tt(Ue,Ct.item)?Ct.replacement:re(Ue))}},f0=y=>w=>{const k=[],W=(Oe,Ue)=>ye(k,tt=>Ue(tt.item,Oe)),re=Oe=>{const Ue=y==="td"?{scope:null}:{},tt=w.replace(Oe,y,Ue);return k.push({item:Oe,sub:tt}),tt};return{replaceOrInit:(Oe,Ue)=>{if(fh(Oe)||Zv(Oe))return Oe;{const tt=Oe;return W(tt,Ue).fold(()=>re(tt),Ct=>Ue(Oe,Ct.item)?Ct.sub:re(tt))}}}},LT=y=>Lc(y,"scope").map(w=>w.substr(0,3)),ph={modification:hp,transform:f0,merging:y=>({unmerge:W=>{const re=LT(W);return re.each(pe=>wl(W,"scope",pe)),()=>{const pe=y.cell({element:W,colspan:1,rowspan:1});return Mu(pe,"width"),Mu(W,"width"),re.each(Oe=>wl(pe,"scope",Oe)),pe}},merge:W=>{const re=()=>{const pe=es(Ut(W,LT));if(pe.length===0)return _e.none();{const Oe=pe[0],Ue=["row","col"];return it(pe,Ct=>Ct!==Oe&&ln(Ue,Ct))?_e.none():_e.from(Oe)}};return Mu(W[0],"width"),re().fold(()=>si(W[0],"scope"),pe=>wl(W[0],"scope",pe+"group")),se(W[0])}})},S1=(y,w)=>{const k=y.slice(0,w[w.length-1].row+1),W=d0(k);return Eo(W,re=>{const pe=re.cells.slice(0,w[w.length-1].column+1);return Ut(pe,Oe=>Oe.element)})},BT=(y,w)=>{const k=y.slice(w[0].row+w[0].rowspan-1,y.length),W=d0(k);return Eo(W,re=>{const pe=re.cells.slice(w[0].column+w[0].colspan-1,re.cells.length);return Ut(pe,Oe=>Oe.element)})},Yv=(y,w,k)=>{const W=Er.fromTable(y);return ic(W,w).map(pe=>{const Oe=jg(W,k,!1),{rows:Ue}=Br(Oe),tt=S1(Ue,pe),Ct=BT(Ue,pe);return{upOrLeftCells:tt,downOrRightCells:Ct}})},VT={only:(y,w)=>{const k=Pd(y)?tp(y):y;return{parent:se(k),view:se(y),dragContainer:se(k),origin:se(fa(0,0)),isResizable:w}},detached:(y,w,k)=>{const W=()=>wr(w);return{parent:se(w),view:se(y),dragContainer:se(w),origin:W,isResizable:k}},body:(y,w)=>({parent:se(y),view:se(y),dragContainer:se(y),origin:()=>wr(y),isResizable:w})},yi=xe.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),HT=(y,w,k)=>{const W=k.substring(0,k.length-y.length),re=parseFloat(W);return W===re.toString()?w(re):yi.invalid(k)},mh={...yi,from:y=>Id(y,"%")?HT("%",yi.percent,y):Id(y,"px")?HT("px",yi.pixels,y):yi.invalid(y)},vb=(y,w)=>Ut(y,k=>mh.from(k).fold(()=>k,re=>re/w*100+"%",re=>re+"%")),Pr=(y,w,k)=>{const W=k/w;return Ut(y,re=>mh.from(re).fold(()=>re,Oe=>Oe*W+"px",Oe=>Oe/100*k+"px"))},Vl=(y,w)=>{const k=y.fold(()=>se(""),W=>{const re=W/w;return se(re+"px")},()=>{const W=100/w;return se(W+"%")});return Ht(w,k)},C1=(y,w,k)=>y.fold(()=>w,W=>Pr(w,k,W),W=>vb(w,k)),oC=(y,w,k)=>{const W=mh.from(k),re=Oo(y,pe=>pe==="0px")?Vl(W,y.length):C1(W,y,w);return nw(re)},la=(y,w)=>y.length===0?w:mn(y,(k,W)=>mh.from(W).fold(se(0),Se,Se)+k,0),p0=(y,w)=>{const k=Math.floor(y);return{value:k+w,remainder:y-k}},E1=(y,w)=>mh.from(y).fold(se(y),k=>k+w+"px",k=>k+w+"%"),nw=y=>{if(y.length===0)return y;const w=mn(y,(W,re)=>{const pe=mh.from(re).fold(()=>({value:re,remainder:0}),Oe=>p0(Oe,"px"),Oe=>({value:Oe+"%",remainder:0}));return{output:[pe.value].concat(W.output),remainder:W.remainder+pe.remainder}},{output:[],remainder:0}),k=w.output;return k.slice(0,k.length-1).concat([E1(k[k.length-1],Math.round(w.remainder))])},$T=mh.from,UT=(y,w,k)=>{Xe(w,W=>{const re=y.slice(W.column,W.colspan+W.column),pe=la(re,Fl());Ll(W.element,"width",pe+k)})},Y2=(y,w,k)=>{Xe(w,(W,re)=>{const pe=la([y[re]],Fl());Ll(W.element,"width",pe+k)})},zT=(y,w,k)=>{Xe(k,W=>{Mu(W.element,"height")}),Xe(w,(W,re)=>{Ll(W.element,"height",y[re])})},JO=y=>$T(y).fold(se("px"),se("px"),se("%")),jT=(y,w,k)=>{const W=Er.fromTable(y),re=W.all,pe=Er.justCells(W),Oe=Er.justColumns(W);w.each(Ue=>{const tt=JO(Ue),Ct=Ds(y),Qt=dh(W,y),zn=oC(Qt,Ct,Ue);Er.hasColumns(W)?Y2(zn,Oe,tt):UT(zn,pe,tt),Ll(y,"width",Ue)}),k.each(Ue=>{const tt=Bd(y),Ct=Ua(W,y),Qt=oC(Ct,tt,Ue);zT(Qt,re,pe),Ll(y,"height",Ue)})},WT=c0,fp=zm,$c=OT;var Cf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],nm=()=>{const y=Ct=>yo.fromDom(Ct.dom.cloneNode(!1)),w=Ct=>nu(Ct).dom,k=Ct=>Gi(Ct)?_i(Ct)==="body"?!0:ln(Cf,_i(Ct)):!1,W=Ct=>Gi(Ct)?ln(["br","img","hr","input"],_i(Ct)):!1,re=Ct=>Gi(Ct)&&ku(Ct,"contenteditable")==="false",pe=(Ct,Qt)=>Ct.dom.compareDocumentPosition(Qt.dom),Oe=(Ct,Qt)=>{const zn=Nd(Ct);Nh(Qt,zn)},Ue=Ct=>{const Qt=_i(Ct);return ln(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Qt)},tt=Ct=>Gi(Ct)?Lc(Ct,"lang"):_e.none();return{up:se({selector:ru,closest:yl,predicate:ri,all:Mh}),down:se({selector:sp,predicate:ff}),styles:se({get:Om,getRaw:Ld,set:Ll,remove:Mu}),attrs:se({get:ku,set:wl,remove:si,copyTo:Oe}),insert:se({before:Za,after:Ph,afterAll:El,append:ei,appendAll:nc,prepend:sa,wrap:RE}),remove:se({unwrap:ra,remove:Gl}),create:se({nu:yo.fromTag,clone:y,text:yo.fromText}),query:se({comparePosition:pe,prevSibling:jy,nextSibling:ou}),property:se({children:ec,name:_i,parent:st,document:w,isText:tu,isComment:HS,isElement:Gi,isSpecial:Ue,getLanguage:tt,getText:uf,setText:Up,isBoundary:k,isEmptyTag:W,isNonEditable:re}),eq:js,is:we}};const om=(y,w)=>({item:y,mode:w}),Zg=(y,w,k,W=Gm)=>y.property().parent(w).map(re=>om(re,W)),Gm=(y,w,k,W=qm)=>k.sibling(y,w).map(re=>om(re,W)),qm=(y,w,k,W=qm)=>{const re=y.property().children(w);return k.first(re).map(Oe=>om(Oe,W))},ow=[{current:Zg,next:Gm,fallback:_e.none()},{current:Gm,next:qm,fallback:_e.some(Zg)},{current:qm,next:qm,fallback:_e.some(Gm)}],sC=(y,w,k,W,re=ow)=>ye(re,Oe=>Oe.current===k).bind(Oe=>Oe.current(y,w,W,Oe.next).orThunk(()=>Oe.fallback.bind(Ue=>sC(y,w,Ue,W)))),w1={left:()=>({sibling:(k,W)=>k.query().prevSibling(W),first:k=>k.length>0?_e.some(k[k.length-1]):_e.none()}),right:()=>({sibling:(k,W)=>k.query().nextSibling(W),first:k=>k.length>0?_e.some(k[0]):_e.none()})},rC=(y,w,k,W,re,pe)=>sC(y,w,W,re).bind(Ue=>pe(Ue.item)?_e.none():k(Ue.item)?_e.some(Ue.item):rC(y,Ue.item,k,Ue.mode,re,pe)),iC=(y,w,k,W)=>rC(y,w,k,Gm,w1.left(),W),aC=(y,w,k,W)=>rC(y,w,k,Gm,w1.right(),W),Yg=(y,w)=>({element:y,offset:w}),m0=(y,w,k)=>y.property().isText(w)&&y.property().getText(w).trim().length===0||y.property().isComment(w)?k(w).bind(W=>m0(y,W,k).orThunk(()=>_e.some(W))):_e.none(),sm=(y,w)=>y.property().isText(w)?y.property().getText(w).length:y.property().children(w).length,lC=(y,w)=>{const k=m0(y,w,y.query().prevSibling).getOr(w);if(y.property().isText(k))return Yg(k,sm(y,k));const W=y.property().children(k);return W.length>0?lC(y,W[W.length-1]):Yg(k,sm(y,k))},sw=lC,cC=nm(),uC=y=>sw(cC,y),GT=y=>w=>y.property().children(w).length===0,tI=(y,w,k)=>qT(y,w,GT(y),k),g0=(y,w,k)=>Ef(y,w,GT(y),k),qT=iC,Ef=aC,v0=nm(),dC=(y,w)=>tI(v0,y,w),Km=(y,w)=>g0(v0,y,w),Q=(y,w,k)=>qT(v0,y,w,k),m=(y,w,k)=>Ef(v0,y,w,k),C=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],T=(y,w)=>{const k=y.property().name(w);return ln(["ol","ul"],k)},R=(y,w)=>{const k=y.property().name(w);return ln(C,k)},D=(y,w)=>ln(["br","img","hr","input"],y.property().name(w)),F=(y,w,k,W)=>{const re=k[0],pe=k.slice(1);return W(y,w,re,pe)},j=(y,w,k)=>k.length>0?F(y,w,k,K):_e.none(),K=(y,w,k,W)=>{const re=w(y,k);return mn(W,(pe,Oe)=>{const Ue=w(y,Oe);return ne(y,pe,Ue)},re)},ne=(y,w,k)=>w.bind(W=>k.filter(Te(y.eq,W))),ue=(y,w)=>Te(y.eq,w),ie=(y,w,k,W=$e)=>{const re=[w].concat(y.up().all(w)),pe=[k].concat(y.up().all(k)),Oe=Qt=>ms(Qt,W).fold(()=>Qt,To=>Qt.slice(0,To+1)),Ue=Oe(re),tt=Oe(pe),Ct=ye(Ue,Qt=>it(tt,ue(y,Qt)));return{firstpath:Ue,secondpath:tt,shared:Ct}},me=j,Ee=ie,Ae=nm(),Pe=(y,w)=>me(Ae,(k,W)=>y(W),w),Fe=(y,w,k)=>Ee(Ae,y,w,k),Ne=nm(),lt=y=>R(Ne,y),gt=y=>T(Ne,y),$t=y=>D(Ne,y),qt=y=>{const w=Wl("br"),k=tt=>Oo(tt,Ct=>w(Ct)||tu(Ct)&&uf(Ct).trim().length===0),W=tt=>_i(tt)==="li"||ri(tt,gt).isSome(),re=tt=>ou(tt).map(Ct=>lt(Ct)?!0:$t(Ct)?_i(Ct)!=="img":!1).getOr(!1),pe=tt=>Xa(tt).bind(Ct=>{const Qt=re(Ct);return st(Ct).map(zn=>Qt===!0||W(zn)||w(Ct)||lt(zn)&&!js(tt,zn)?[]:[yo.fromTag("br")])}).getOr([]),Ue=(()=>{const tt=Eo(y,Ct=>{const Qt=ec(Ct);return k(Qt)?[]:Qt.concat(pe(Ct))});return tt.length===0?[yo.fromTag("br")]:tt})();Du(y[0]),nc(y[0],Ue)},Kt=y=>{si(y,"width"),si(y,"height")},Yt=y=>{const w=Uh(y);jT(y,_e.some(w),_e.none()),Kt(y)},Xt=y=>{const w=sc(y);jT(y,_e.some(w),_e.none()),Kt(y)},Kn=y=>{const w=vf(y);jT(y,_e.none(),_e.some(w)),Kt(y)},So=y=>{Mu(y,"width");const w=jS(y),k=w.length>0?w:Pg(y);Xe(k,W=>{Mu(W,"width"),Kt(W)}),Kt(y)},Dn={scope:["row","col"]},ts=y=>()=>{const w=yo.fromTag("td",y.dom);return ei(w,yo.fromTag("br",y.dom)),w},sr=y=>()=>yo.fromTag("col",y.dom),dr=y=>()=>yo.fromTag("colgroup",y.dom),hs=y=>()=>yo.fromTag("tr",y.dom),Rs=(y,w,k)=>{const W=cf(y,w);return Nt(k,(re,pe)=>{re===null?si(W,pe):wl(W,pe,re)}),W},Qs=y=>y,La=(y,w,k)=>Fv(y).map(re=>{const pe=k.join(","),Oe=ii(re,pe,Ue=>js(Ue,y));return mn(Oe,(Ue,tt)=>{const Ct=Lh(tt);return ei(Ue,Ct),Ct},w)}).getOr(w),Oi=(y,w)=>{Nt(Dn,(k,W)=>Lc(y,W).filter(re=>ln(k,re)).each(re=>wl(w,W,re)))},cu=(y,w,k)=>{const W=(Oe,Ue)=>{Gy(Oe.element,Ue),Mu(Ue,"height"),Oe.colspan!==1&&Mu(Ue,"width")},re=Oe=>{const Ue=yo.fromTag(_i(Oe.element),w.dom),tt=k.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Ct=tt.length>0?La(Oe.element,Ue,tt):Ue;return ei(Ct,yo.fromTag("br")),W(Oe,Ue),Oi(Oe.element,Ue),y(Oe.element,Ue),Ue};return{col:Oe=>{const Ue=yo.fromTag(_i(Oe.element),w.dom);return W(Oe,Ue),y(Oe.element,Ue),Ue},colgroup:dr(w),row:hs(w),cell:re,replace:Rs,colGap:sr(w),gap:ts(w)}},Mr=y=>({col:sr(y),colgroup:dr(y),row:hs(y),cell:ts(y),replace:Qs,colGap:sr(y),gap:ts(y)}),Sr=y=>Er.fromTable(y).grid,fi=(y,w,k,W)=>{const re=Br(y).rows;if(re.length===0)return y;for(let pe=w.startRow;pe<=w.finishRow;pe++)for(let Oe=w.startCol;Oe<=w.finishCol;Oe++){const Ue=re[pe],tt=As(Ue,Oe).isLocked;xu(Ue,Oe,Fi(W(),!1,tt))}return y},bi=(y,w,k,W)=>{const re=Br(y).rows;let pe=!0;for(let Oe=0;Oe<re.length;Oe++)for(let Ue=0;Ue<Dl(re[0]);Ue++){const tt=re[Oe],Ct=As(tt,Ue),Qt=Ct.element,zn=k(Qt,w);zn&&!pe?xu(tt,Ue,Fi(W(),!0,Ct.isLocked)):zn&&(pe=!1)}return y},qr=(y,w)=>Dt(y,(k,W)=>it(k,re=>w(re.element,W.element))?k:k.concat([W]),[]),tl=(y,w,k,W)=>(w>0&&w<y[0].cells.length&&Xe(y,re=>{const pe=re.cells[w-1];let Oe=0;const Ue=W();for(;re.cells.length>w+Oe&&k(pe.element,re.cells[w+Oe].element);)xu(re,w+Oe,Fi(Ue,!0,re.cells[w+Oe].isLocked)),Oe++}),y),Ii=(y,w,k,W)=>{const re=Br(y).rows;if(w>0&&w<re.length){const pe=re[w-1].cells,Oe=qr(pe,k);Xe(Oe,Ue=>{let tt=_e.none();for(let Ct=w;Ct<re.length;Ct++)for(let Qt=0;Qt<Dl(re[0]);Qt++){const zn=re[Ct],To=As(zn,Qt);k(To.element,Ue.element)&&(tt.isNone()&&(tt=_e.some(W())),tt.each(ps=>{xu(zn,Qt,Fi(ps,!0,To.isLocked))}))}})}return y},Hl=(y,w,k)=>{if(y.row>=w.length||y.column>Dl(w[0]))return Hs.error("invalid start address out of table bounds, row: "+y.row+", column: "+y.column);const W=w.slice(y.row),re=W[0].cells.slice(y.column),pe=Dl(k[0]),Oe=k.length;return Hs.value({rowDelta:W.length-Oe,colDelta:re.length-pe})},Uu=(y,w)=>{const k=Dl(y[0]),W=Dl(w[0]);return{rowDelta:0,colDelta:k-W}},Ud=(y,w)=>{const k=y.length,W=w.length;return{rowDelta:k-W,colDelta:0}},pp=(y,w,k,W)=>{const re=w.section==="colgroup"?k.col:k.cell;return Ht(y,pe=>Fi(re(),!0,W(pe)))},wf=(y,w,k,W)=>{const re=y[y.length-1];return y.concat(Ht(w,()=>{const pe=re.section==="colgroup"?k.colgroup:k.row,Oe=oh(re,pe,Se),Ue=pp(Oe.cells.length,Oe,k,tt=>_s(W,tt.toString()));return Ih(Oe,Ue)}))},zd=(y,w,k,W)=>Ut(y,re=>{const pe=pp(w,re,k,$e);return Ac(re,W,pe)}),rm=(y,w,k)=>Ut(y,W=>Dt(k,(re,pe)=>{const Oe=pp(1,W,w,Re)[0];return Jc(re,pe,Oe)},W)),mp=(y,w,k)=>{const W=w.colDelta<0?zd:Se,re=w.rowDelta<0?wf:Se,pe=Rc(y),Oe=Dl(y[0]),Ue=it(pe,Qt=>Qt===Oe-1),tt=W(y,Math.abs(w.colDelta),k,Ue?Oe-1:Oe),Ct=Rc(tt);return re(tt,Math.abs(w.rowDelta),k,xt(Ct,Re))},za=(y,w,k,W)=>{const re=As(y[w],k),pe=Te(W,re.element),Oe=y[w];return y.length>1&&Dl(Oe)>1&&(k>0&&pe(Wi(Oe,k-1))||k<Oe.cells.length-1&&pe(Wi(Oe,k+1))||w>0&&pe(Wi(y[w-1],k))||w<y.length-1&&pe(Wi(y[w+1],k)))},Ui=(y,w,k,W,re,pe)=>{const Oe=y.row,Ue=y.column,tt=k.length,Ct=Dl(k[0]),Qt=Oe+tt,zn=Ue+Ct+pe.length,To=xt(pe,Re);for(let Ro=Oe;Ro<Qt;Ro++){let ps=0;for(let yn=Ue;yn<zn;yn++){if(To[yn]){ps++;continue}za(w,Ro,yn,re)&&bi(w,Wi(w[Ro],yn),re,W.cell);const On=yn-Ue-ps,Ms=As(k[Ro-Oe],On),er=Ms.element,Jo=W.replace(er);xu(w[Ro],yn,Fi(Jo,!0,Ms.isLocked))}}return w},ja=(y,w,k)=>{const W=Dl(w[0]),re=Br(w).cols.length+y.row,pe=Ht(W-y.column,Ue=>Ue+y.column),Oe=ye(pe,Ue=>Oo(k,tt=>tt!==Ue)).getOr(W-1);return{row:re,column:Oe}},dl=(y,w,k)=>In(k,W=>W>=y.column&&W<=Dl(w[0])+y.column),ac=(y,w,k,W,re)=>{const pe=Rc(w),Oe=ja(y,w,pe),Ue=Br(k).rows,tt=dl(Oe,Ue,pe);return Hl(Oe,w,Ue).map(Qt=>{const zn={...Qt,colDelta:Qt.colDelta-tt.length},To=mp(w,zn,W),Ro=Rc(To),ps=dl(Oe,Ue,Ro);return Ui(Oe,To,Ue,W,re,ps)})},lc=(y,w,k,W,re)=>{tl(w,y,re,W.cell);const pe=Ud(k,w),Oe=mp(k,pe,W),Ue=Ud(w,Oe),tt=mp(w,Ue,W);return Ut(tt,(Ct,Qt)=>Ac(Ct,y,Oe[Qt].cells))},KT=(y,w,k,W,re)=>{Ii(w,y,re,W.cell);const pe=Rc(w),Oe=Uu(w,k),Ue={...Oe,colDelta:Oe.colDelta-pe.length},tt=mp(w,Ue,W),{cols:Ct,rows:Qt}=Br(tt),zn=Rc(tt),To=Uu(k,w),Ro={...To,colDelta:To.colDelta+zn.length},ps=rm(k,W,zn),yn=mp(ps,Ro,W);return[...Ct,...Qt.slice(0,y),...yn,...Qt.slice(y,Qt.length)]},ZT=(y,w,k,W)=>oh(y,re=>W(re,k),w),YT=(y,w,k,W,re)=>{const{rows:pe,cols:Oe}=Br(y),Ue=pe.slice(0,w),tt=pe.slice(w),Ct=ZT(pe[k],(Qt,zn)=>w>0&&w<pe.length&&W(Wi(pe[w-1],zn),Wi(pe[w],zn))?As(pe[w],zn):Fi(re(Qt.element,W),!0,Qt.isLocked),W,re);return[...Oe,...Ue,Ct,...tt]},X2=(y,w,k,W,re,pe,Oe)=>{if(k==="colgroup"||!W){const Ue=As(y,re);return Fi(Oe(Ue.element,pe),!0,!1)}else return As(y,w)},XT=(y,w,k,W,re)=>Ut(y,pe=>{const Oe=w>0&&w<Dl(pe)&&W(Wi(pe,w-1),Wi(pe,w)),Ue=X2(pe,w,pe.section,Oe,k,W,re);return Jc(pe,w,Ue)}),J2=(y,w)=>Eo(y,k=>{const W=k.cells,re=mn(w,(pe,Oe)=>Oe>=0&&Oe<pe.length?pe.slice(0,Oe).concat(pe.slice(Oe+1)):pe,W);return re.length>0?[pc(k.element,re,k.section,k.isNew)]:[]}),_1=(y,w,k)=>{const{rows:W,cols:re}=Br(y);return[...re,...W.slice(0,w),...W.slice(k+1)]},nI=(y,w,k,W)=>Wi(y[w],k)!==void 0&&w>0&&W(Wi(y[w-1],k),Wi(y[w],k)),T1=(y,w,k)=>w>0&&k(Wi(y,w-1),Wi(y,w)),JT=(y,w,k,W)=>nI(y,w,k,W)||T1(y[w],k,W),oI=(y,w)=>Oo(w,Se)&&Lg(y.cells)?Re:(W,re,pe)=>!(_i(W.element)==="th"&&w[pe]),QT=(y,w)=>Oo(w,Se)&&Lg(y)?Re:(W,re,pe)=>!(_i(W.element)==="th"&&w[re]),Xg=(y,w,k,W)=>{const re=Oe=>Oe==="row"?FE(w):ob(w),pe=Oe=>re(Oe)?`${Oe}group`:Oe;return y?Ng(w)?pe(k):null:W&&Ng(w)?pe(k==="row"?"col":"row"):null},rw=(y,w)=>(k,W,re)=>_e.some(Xg(y,k.element,"col",w[re])),sI=(y,w)=>(k,W)=>_e.some(Xg(y,k.element,"row",w[W])),hC=(y,w,k)=>Fi(k(y.element,w),!0,y.isLocked),iw=(y,w,k,W,re,pe,Oe)=>{const Ue=tt=>it(w,Ct=>k(tt.element,Ct.element));return Ut(y,(tt,Ct)=>na(tt,(Qt,zn)=>{if(Ue(Qt)){const To=Oe(Qt,Ct,zn)?re(Qt,k,W):Qt;return pe(To,Ct,zn).each(Ro=>{Ru(To.element,{scope:_e.from(Ro)})}),To}else return Qt}))},eA=(y,w,k)=>Eo(y,(W,re)=>JT(y,re,w,k)?[]:[As(W,w)]),rI=(y,w,k)=>{const W=y[w];return Eo(W.cells,(re,pe)=>JT(y,w,pe,k)?[]:[re])},Zm=(y,w,k,W,re)=>{const pe=Br(y).rows,Oe=Eo(w,Qt=>eA(pe,Qt,W)),Ue=Ut(pe,Qt=>Lg(Qt.cells)),tt=QT(Oe,Ue),Ct=sI(k,Ue);return iw(y,Oe,W,re,hC,Ct,tt)},Xv=(y,w,k,W,re,pe,Oe)=>{const{cols:Ue,rows:tt}=Br(y),Ct=tt[w[0]],Qt=Eo(w,On=>rI(tt,On,re)),zn=Ut(Ct.cells,(On,Ms)=>Lg(eA(tt,Ms,re))),To=[...tt];Xe(w,On=>{To[On]=Oe.transformRow(tt[On],k)});const Ro=[...Ue,...To],ps=oI(Ct,zn),yn=rw(W,zn);return iw(Ro,Qt,re,pe,Oe.transformCell,yn,ps)},fC=(y,w,k,W)=>{const re=Br(y).rows,pe=Ut(w,Oe=>As(re[Oe.row],Oe.column));return iw(y,pe,k,W,hC,_e.none,Re)},gn=y=>Dt(y,(k,W)=>it(k,pe=>pe.column===W.column)?k:k.concat([W]),[]).sort((k,W)=>k.column-W.column),zh=y=>km(y,!0),pC=y=>{Pg(y).length===0&&Gl(y)},aw=(y,w)=>({grid:y,cursor:w}),tA=y=>Ft(y,w=>Ft(w.cells,k=>{const W=k.element;return kl(zh(W),W)})),Jg=(y,w,k)=>{const W=Br(y).rows;return _e.from(W[w]?.cells[k]?.element).filter(zh).orThunk(()=>tA(W))},jd=(y,w,k)=>{const W=Jg(y,w,k);return aw(y,W)},lw=y=>Dt(y,(k,W)=>it(k,pe=>pe.row===W.row)?k:k.concat([W]),[]).sort((k,W)=>k.row-W.row),Q2=(y,w,k,W)=>{const re=w[0].row,pe=lw(w),Oe=mn(pe,(Ue,tt)=>({grid:YT(Ue.grid,re,tt.row+Ue.delta,k,W.getOrInit),delta:Ue.delta+1}),{grid:y,delta:0}).grid;return jd(Oe,re,w[0].column)},nA=(y,w,k,W)=>{const re=lw(w),pe=re[re.length-1],Oe=pe.row+pe.rowspan,Ue=mn(re,(tt,Ct)=>YT(tt,Oe,Ct.row,k,W.getOrInit),y);return jd(Ue,Oe,w[0].column)},eD=(y,w,k,W)=>{const re=w.details,pe=gn(re),Oe=pe[0].column,Ue=mn(pe,(tt,Ct)=>({grid:XT(tt.grid,Oe,Ct.column+tt.delta,k,W.getOrInit),delta:tt.delta+1}),{grid:y,delta:0}).grid;return jd(Ue,re[0].row,Oe)},A1=(y,w,k,W)=>{const re=w.details,pe=re[re.length-1],Oe=pe.column+pe.colspan,Ue=gn(re),tt=mn(Ue,(Ct,Qt)=>XT(Ct,Oe,Qt.column,k,W.getOrInit),y);return jd(tt,re[0].row,Oe)},iI=(y,w,k,W)=>{const re=gn(w),pe=Ut(re,Ue=>Ue.column),Oe=Zm(y,pe,!0,k,W.replaceOrInit);return jd(Oe,w[0].row,w[0].column)},Jv=(y,w,k,W)=>{const re=fC(y,w,k,W.replaceOrInit);return jd(re,w[0].row,w[0].column)},aI=(y,w,k,W)=>{const re=gn(w),pe=Ut(re,Ue=>Ue.column),Oe=Zm(y,pe,!1,k,W.replaceOrInit);return jd(Oe,w[0].row,w[0].column)},tD=(y,w,k,W)=>{const re=fC(y,w,k,W.replaceOrInit);return jd(re,w[0].row,w[0].column)},Wd=(y,w)=>(k,W,re,pe,Oe)=>{const Ue=lw(W),tt=Ut(Ue,Qt=>Qt.row),Ct=Xv(k,tt,y,w,re,pe.replaceOrInit,Oe);return jd(Ct,W[0].row,W[0].column)},Qg=Wd("thead",!0),_f=Wd("tbody",!1),oA=Wd("tfoot",!1),mC=(y,w,k,W)=>{const re=gn(w.details),pe=J2(y,Ut(re,Ue=>Ue.column)),Oe=pe.length>0?pe[0].cells.length-1:0;return jd(pe,re[0].row,Math.min(re[0].column,Oe))},nD=(y,w,k,W)=>{const re=lw(w),pe=_1(y,re[0].row,re[re.length-1].row),Oe=Math.max(Br(pe).rows.length-1,0);return jd(pe,Math.min(w[0].row,Oe),w[0].column)},k4=(y,w,k,W)=>{const re=w.cells;qt(re);const pe=fi(y,w.bounds,k,W.merge(re));return aw(pe,_e.from(re[0]))},lI=(y,w,k,W)=>{const pe=mn(w,(Oe,Ue)=>bi(Oe,Ue,k,W.unmerge(Ue)),y);return aw(pe,_e.from(w[0]))},oD=(y,w,k,W)=>{const pe=((tt,Ct)=>{const Qt=Er.fromTable(tt);return jg(Qt,Ct,!0)})(w.clipboard,w.generators),Oe=Oh(w.row,w.column);return ac(Oe,y,pe,w.generators,k).fold(()=>aw(y,_e.some(w.element)),tt=>jd(tt,w.row,w.column))},_r=(y,w,k)=>{const W=ma(y,k.section),re=Er.generate(W);return jg(re,w,!0)},bs=(y,w,k,W)=>{const re=Br(y).rows,pe=w.cells[0].column,Oe=re[w.cells[0].row],Ue=_r(w.clipboard,w.generators,Oe),tt=lc(pe,y,Ue,w.generators,k);return jd(tt,w.cells[0].row,w.cells[0].column)},cw=(y,w,k,W)=>{const re=Br(y).rows,pe=w.cells[w.cells.length-1].column+w.cells[w.cells.length-1].colspan,Oe=re[w.cells[0].row],Ue=_r(w.clipboard,w.generators,Oe),tt=lc(pe,y,Ue,w.generators,k);return jd(tt,w.cells[0].row,pe)},sA=(y,w,k,W)=>{const re=Br(y).rows,pe=w.cells[0].row,Oe=re[pe],Ue=_r(w.clipboard,w.generators,Oe),tt=KT(pe,y,Ue,w.generators,k);return jd(tt,w.cells[0].row,w.cells[0].column)},cI=(y,w,k,W)=>{const re=Br(y).rows,pe=w.cells[w.cells.length-1].row+w.cells[w.cells.length-1].rowspan,Oe=re[w.cells[0].row],Ue=_r(w.clipboard,w.generators,Oe),tt=KT(pe,y,Ue,w.generators,k);return jd(tt,pe,w.cells[0].column)},D4=(y,w)=>{const k=Er.fromTable(y);return ic(k,w).bind(re=>{const pe=re[re.length-1],Oe=re[0].column,Ue=pe.column+pe.colspan,tt=Vo(Ut(k.all,Ct=>In(Ct.cells,Qt=>Qt.column>=Oe&&Qt.column<Ue)));return GS(tt)}).getOr("")},uI=(y,w)=>{const k=Er.fromTable(y);return ic(k,w).bind(GS).getOr("")},Ia=(y,w)=>{const k=Er.fromTable(y);return ic(k,w).bind(re=>{const pe=re[re.length-1],Oe=re[0].row,Ue=pe.row+pe.rowspan,tt=k.all.slice(Oe,Ue);return ZO(tt)}).getOr("")},rA=(y,w,k,W)=>fb(y,w,k,W.sizing),uw=(y,w,k,W)=>v1(y,w,k,W.sizing,W.resize),x1=(y,w)=>it(w,k=>k.column===0&&k.isLocked),En=(y,w)=>it(w,k=>k.column+k.colspan>=y.grid.columns&&k.isLocked),iA=(y,w)=>{const k=UE(y),W=gn(w);return Dt(W,(re,pe)=>{const Ue=k[pe.column].map(ha).getOr(0);return re+Ue},0)},sD=y=>(w,k)=>ic(w,k).filter(W=>!(y?x1:En)(w,W)).map(W=>({details:W,pixelDelta:iA(w,W)})),aA=(y,w)=>Gg(y,w).map(k=>({details:k,pixelDelta:-iA(y,k)})),rD=y=>(w,k)=>yf(w,k).filter(W=>!(y?x1:En)(w,W.cells)),yb=ph.transform("th"),O1=ph.transform("td"),I1=(y,w,k,W)=>xl(Q2,ic,Z,Z,ph.modification,y,w,k,W),dI=(y,w,k,W)=>xl(nA,ic,Z,Z,ph.modification,y,w,k,W),R1=(y,w,k,W)=>xl(eD,sD(!0),uw,Z,ph.modification,y,w,k,W),Ta=(y,w,k,W)=>xl(A1,sD(!1),uw,Z,ph.modification,y,w,k,W),ev=(y,w,k,W)=>xl(mC,aA,uw,pC,ph.modification,y,w,k,W),iD=(y,w,k,W)=>xl(nD,ic,Z,pC,ph.modification,y,w,k,W),bb=(y,w,k,W)=>xl(iI,Gg,Z,Z,yb,y,w,k,W),Ym=(y,w,k,W)=>xl(aI,Gg,Z,Z,O1,y,w,k,W),M4=(y,w,k,W)=>xl(Qg,ic,Z,Z,yb,y,w,k,W),P4=(y,w,k,W)=>xl(_f,ic,Z,Z,O1,y,w,k,W),hI=(y,w,k,W)=>xl(oA,ic,Z,Z,O1,y,w,k,W),N4=(y,w,k,W)=>xl(Jv,Gg,Z,Z,yb,y,w,k,W),L4=(y,w,k,W)=>xl(tD,Gg,Z,Z,O1,y,w,k,W),B4=(y,w,k,W)=>xl(k4,jm,rA,Z,ph.merging,y,w,k,W),F4=(y,w,k,W)=>xl(lI,Kv,rA,Z,ph.merging,y,w,k,W),fI=(y,w,k,W)=>xl(oD,ub,rA,Z,ph.modification,y,w,k,W),ho=(y,w,k,W)=>xl(bs,rD(!0),Z,Z,ph.modification,y,w,k,W),aD=(y,w,k,W)=>xl(cw,rD(!1),Z,Z,ph.modification,y,w,k,W),uu=(y,w,k,W)=>xl(sA,yf,Z,Z,ph.modification,y,w,k,W),lD=(y,w,k,W)=>xl(cI,yf,Z,Z,ph.modification,y,w,k,W),cD=D4,uD=uI,V4=Ia,Gs=(y,w)=>{const k=w.column,W=w.column+w.colspan-1,re=w.row,pe=w.row+w.rowspan-1;return k<=y.finishCol&&W>=y.startCol&&re<=y.finishRow&&pe>=y.startRow},pI=(y,w)=>w.column>=y.startCol&&w.column+w.colspan-1<=y.finishCol&&w.row>=y.startRow&&w.row+w.rowspan-1<=y.finishRow,dD=(y,w)=>{let k=!0;const W=Te(pI,w);for(let re=w.startRow;re<=w.finishRow;re++)for(let pe=w.startCol;pe<=w.finishCol;pe++)k=k&&Er.getAt(y,re,pe).exists(W);return k?_e.some(w):_e.none()},Fz=(y,w)=>al(Math.min(y.row,w.row),Math.min(y.column,w.column),Math.max(y.row+y.rowspan-1,w.row+w.rowspan-1),Math.max(y.column+y.colspan-1,w.column+w.colspan-1)),H4=(y,w,k)=>{const W=Er.findItem(y,w,js),re=Er.findItem(y,k,js);return W.bind(pe=>re.map(Oe=>Fz(pe,Oe)))},hD=(y,w,k)=>H4(y,w,k).bind(W=>dD(y,W)),Vz=(y,w,k,W)=>Er.findItem(y,w,js).bind(re=>{const pe=k>0?re.row+re.rowspan-1:re.row,Oe=W>0?re.column+re.colspan-1:re.column;return Er.getAt(y,pe+k,Oe+W).map(tt=>tt.element)}),$4=(y,w,k)=>H4(y,w,k).map(W=>{const re=Er.filterItems(y,Te(Gs,W));return Ut(re,pe=>pe.element)}),fD=(y,w)=>{const k=(W,re)=>Tr(re,W);return Er.findItem(y,w,k).map(W=>W.element)},mI=(y,w,k)=>Hd(y).bind(W=>{const re=gp(W);return Vz(re,y,w,k)}),qs=(y,w,k)=>{const W=gp(y);return $4(W,w,k)},gI=(y,w,k,W,re)=>{const pe=gp(y),Oe=js(y,k)?_e.some(w):fD(pe,w),Ue=js(y,re)?_e.some(W):fD(pe,W);return Oe.bind(tt=>Ue.bind(Ct=>$4(pe,tt,Ct)))},Sb=(y,w,k)=>{const W=gp(y);return hD(W,w,k)},gp=Er.fromTable,Fo={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Gd=()=>yo.fromTag("th"),dw=()=>yo.fromTag("td"),hw=()=>yo.fromTag("col"),lA=(y,w,k,W)=>{const re=yo.fromTag("tr");for(let pe=0;pe<y;pe++){const Oe=W<w||pe<k?Gd():dw();pe<k&&wl(Oe,"scope","row"),W<w&&wl(Oe,"scope","col"),ei(Oe,yo.fromTag("br")),ei(re,Oe)}return re},gC=y=>{const w=yo.fromTag("colgroup");return Ht(y,()=>ei(w,hw())),w},fw=(y,w,k,W)=>Ht(y,re=>lA(w,k,W,re)),Cb=(y,w,k,W,re,pe=Fo)=>{const Oe=yo.fromTag("table"),Ue=re!=="cells";ia(Oe,pe.styles),Nh(Oe,pe.attributes),pe.colGroups&&ei(Oe,gC(w));const tt=Math.min(y,k);if(Ue&&k>0){const Ro=yo.fromTag("thead");ei(Oe,Ro);const yn=fw(k,w,re==="sectionCells"?tt:0,W);nc(Ro,yn)}const Ct=yo.fromTag("tbody");ei(Oe,Ct);const Qt=Ue?y-tt:y,To=fw(Qt,w,Ue?0:k,W);return nc(Ct,To),Oe},gd=y=>{let w=[];return{bind:pe=>{if(pe===void 0)throw new Error("Event bind error: undefined handler");w.push(pe)},unbind:pe=>{w=In(w,Oe=>Oe!==pe)},trigger:(...pe)=>{const Oe={};Xe(y,(Ue,tt)=>{Oe[Ue]=pe[tt]}),Xe(w,Ue=>{Ue(Oe)})}}},Qv=y=>{const w=Gt(y,W=>({bind:W.bind,unbind:W.unbind})),k=Gt(y,W=>W.trigger);return{registry:w,trigger:k}},U4=Wt(["compare","extract","mutate","sink"]),zu=Wt(["element","start","stop","destroy"]),vC=Wt(["forceDrop","drop","move","delayDrop"]),z4=()=>{let y=_e.none();const w=()=>{y=_e.none()},k=(pe,Oe)=>{const Ue=y.map(tt=>pe.compare(tt,Oe));return y=_e.some(Oe),Ue},W=(pe,Oe)=>{Oe.extract(pe).each(tt=>{k(Oe,tt).each(Qt=>{re.trigger.move(Qt)})})},re=Qv({move:gd(["info"])});return{onEvent:W,reset:w,events:re.registry}},jr=()=>{const y=Qv({move:gd(["info"])});return{onEvent:Z,reset:Z,events:y.registry}},tv=()=>{const y=jr(),w=z4();let k=y;return{on:()=>{k.reset(),k=w},off:()=>{k.reset(),k=y},isOn:()=>k===w,onEvent:(Ue,tt)=>{k.onEvent(Ue,tt)},events:w.events}},k1=(y,w,k)=>{let W=!1;const re=Qv({start:gd([]),stop:gd([])}),pe=tv(),Oe=()=>{ps.stop(),pe.isOn()&&(pe.off(),re.trigger.stop())},Ue=Rd(Oe,200),tt=On=>{ps.start(On),pe.on(),re.trigger.start()},Ct=On=>{Ue.cancel(),pe.onEvent(On,w)};pe.events.move.bind(On=>{w.mutate(y,On.info)});const Qt=()=>{W=!0},zn=()=>{W=!1},To=()=>W,Ro=On=>(...Ms)=>{W&&On.apply(null,Ms)},ps=w.sink(vC({forceDrop:Oe,drop:Ro(Oe),move:Ro(Ct),delayDrop:Ro(Ue.throttle)}),k),yn=()=>{ps.destroy()};return{element:ps.element,go:tt,on:Qt,off:zn,isActive:To,destroy:yn,events:re.registry}},D1=No("ephox-dragster").resolve,Kr=y=>{const w={layerClass:D1("blocker"),...y},k=yo.fromTag("div");return wl(k,"role","presentation"),wl(k,"data-mce-bogus","all"),ia(k,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),df(k,D1("blocker")),df(k,w.layerClass),{element:se(k),destroy:()=>{Gl(k)}}};var pw=U4({compare:(y,w)=>fa(w.left-y.left,w.top-y.top),extract:y=>_e.some(fa(y.x,y.y)),sink:(y,w)=>{const k=Kr(w),W=Nl(k.element(),"mousedown",y.forceDrop),re=Nl(k.element(),"mouseup",y.drop),pe=Nl(k.element(),"mousemove",y.move),Oe=Nl(k.element(),"mouseout",y.delayDrop),Ue=()=>{k.destroy(),re.unbind(),pe.unbind(),Oe.unbind(),W.unbind()},tt=Qt=>{ei(Qt,k.element())},Ct=()=>{Gl(k.element())};return zu({element:k.element,start:tt,stop:Ct,destroy:Ue})},mutate:(y,w)=>{y.mutate(w.left,w.top)}});const j4=(y,w={})=>{const k=w.mode??pw;return k1(y,k,w)},cA=No("ephox-snooker").resolve,vI=()=>{const y=Qv({drag:gd(["xDelta","yDelta"])});return{mutate:(k,W)=>{y.trigger.drag(k,W)},events:y.registry}},mw=()=>{const y=Qv({drag:gd(["xDelta","yDelta","target"])});let w=_e.none();const k=vI();return k.events.drag.bind(pe=>{w.each(Oe=>{y.trigger.drag(pe.xDelta,pe.yDelta,Oe)})}),{assign:pe=>{w=_e.some(pe)},get:()=>w,mutate:k.mutate,events:y.registry}},mD=(y,w,k,W,re)=>{const pe=yo.fromTag("div");return ia(pe,{position:"absolute",left:w-W/2+"px",top:k+"px",height:re+"px",width:W+"px"}),Nh(pe,{"data-mce-bogus":"all","data-column":y,role:"presentation"}),pe},W4=(y,w,k,W,re)=>{const pe=yo.fromTag("div");return ia(pe,{position:"absolute",left:w+"px",top:k-re/2+"px",height:re+"px",width:W+"px"}),Nh(pe,{"data-mce-bogus":"all","data-row":y,role:"presentation"}),pe},gw=cA("resizer-bar"),yI=cA("resizer-rows"),bI=cA("resizer-cols"),gD=7,vD=(y,w)=>Eo(y.all,(k,W)=>w(k.element)?[W]:[]),yD=(y,w)=>{const k=[];return Ht(y.grid.columns,W=>{Er.getColumnAt(y,W).map(pe=>pe.element).forall(w)&&k.push(W)}),In(k,W=>{const re=Er.filterItems(y,pe=>pe.column===W);return Oo(re,pe=>w(pe.element))})},SI=y=>{const w=sp(y.parent(),"."+gw);Xe(w,Gl)},CI=(y,w,k)=>{const W=y.origin();Xe(w,re=>{re.each(pe=>{const Oe=k(W,pe);df(Oe,gw),ei(y.parent(),Oe)})})},li=(y,w,k,W)=>{CI(y,w,(re,pe)=>{const Oe=mD(pe.col,pe.x-re.left,k.top-re.top,gD,W);return df(Oe,bI),Oe})},bD=(y,w,k,W)=>{CI(y,w,(re,pe)=>{const Oe=W4(pe.row,k.left-re.left,pe.y-re.top,W,gD);return df(Oe,yI),Oe})},uA=(y,w,k,W,re)=>{const pe=wr(k),Oe=w.isResizable,Ue=W.length>0?gf.positions(W,k):[],tt=Ue.length>0?vD(y,Oe):[],Ct=In(Ue,(Ro,ps)=>it(tt,yn=>ps===yn));bD(w,Ct,pe,ha(k));const Qt=re.length>0?ud.positions(re,k):[],zn=Qt.length>0?yD(y,Oe):[],To=In(Qt,(Ro,ps)=>it(zn,yn=>ps===yn));li(w,To,pe,l1(k))},EI=(y,w)=>{if(SI(y),y.isResizable(w)){const k=Er.fromTable(w),W=$h(k),re=UE(k);uA(k,y,w,W,re)}},im=(y,w)=>{const k=sp(y.parent(),"."+gw);Xe(k,w)},SD=y=>{im(y,w=>{Ll(w,"display","none")})},wI=y=>{im(y,w=>{Ll(w,"display","block")})},G4=y=>hf(y,yI),ey=y=>hf(y,bI),q4=cA("resizer-bar-dragging"),vw=y=>{const w=mw(),k=j4(w,{});let W=_e.none();const re=(yn,On)=>_e.from(ku(yn,On));w.events.drag.bind(yn=>{re(yn.target,"data-row").each(On=>{const Ms=Gr(yn.target,"top");Ll(yn.target,"top",Ms+yn.yDelta+"px")}),re(yn.target,"data-column").each(On=>{const Ms=Gr(yn.target,"left");Ll(yn.target,"left",Ms+yn.xDelta+"px")})});const pe=(yn,On)=>{const Ms=Gr(yn,On),er=Sl(yn,"data-initial-"+On,0);return Ms-er};k.events.stop.bind(()=>{w.get().each(yn=>{W.each(On=>{re(yn,"data-row").each(Ms=>{const er=pe(yn,"top");si(yn,"data-initial-top"),ps.trigger.adjustHeight(On,er,parseInt(Ms,10))}),re(yn,"data-column").each(Ms=>{const er=pe(yn,"left");si(yn,"data-initial-left"),ps.trigger.adjustWidth(On,er,parseInt(Ms,10))}),EI(y,On)})})});const Oe=(yn,On)=>{ps.trigger.startAdjust(),w.assign(yn),wl(yn,"data-initial-"+On,Gr(yn,On)),df(yn,q4),Ll(yn,"opacity","0.2"),k.go(y.dragContainer())},Ue=Nl(y.parent(),"mousedown",yn=>{G4(yn.target)&&Oe(yn.target,"top"),ey(yn.target)&&Oe(yn.target,"left")}),tt=yn=>js(yn,y.view()),Ct=yn=>yl(yn,"table",tt).filter(km),Qt=yn=>hf(yn,"ephox-snooker-resizer-bar")||hf(yn,"ephox-dragster-blocker"),zn=Nl(y.view(),"mouseover",yn=>{Ct(yn.target).fold(()=>{gs(yn.target)&&!Qt(yn.target)&&SI(y)},On=>{k.isActive()&&(W=_e.some(On),EI(y,On))})}),To=()=>{Ue.unbind(),zn.unbind(),k.destroy(),SI(y)},Ro=yn=>{EI(y,yn)},ps=Qv({adjustHeight:gd(["table","delta","row"]),adjustWidth:gd(["table","delta","column"]),startAdjust:gd([])});return{destroy:To,refresh:Ro,on:k.on,off:k.off,hideBars:Te(SD,y),showBars:Te(wI,y),events:ps.registry}},K4={create:(y,w,k)=>{const W=gf,re=ud,pe=vw(y),Oe=Qv({beforeResize:gd(["table","type"]),afterResize:gd(["table","type"]),startDrag:gd([])});return pe.events.adjustHeight.bind(Ue=>{const tt=Ue.table;Oe.trigger.beforeResize(tt,"row");const Ct=W.delta(Ue.delta,tt);JE(tt,Ct,Ue.row),Oe.trigger.afterResize(tt,"row")}),pe.events.startAdjust.bind(Ue=>{Oe.trigger.startDrag()}),pe.events.adjustWidth.bind(Ue=>{const tt=Ue.table;Oe.trigger.beforeResize(tt,"col");const Ct=re.delta(Ue.delta,tt),Qt=k(tt);em(tt,Ct,Ue.column,w,Qt),Oe.trigger.afterResize(tt,"col")}),{on:pe.on,off:pe.off,refreshBars:pe.refresh,hideBars:pe.hideBars,showBars:pe.showBars,destroy:pe.destroy,events:Oe.registry}}},y0=y=>w=>w.options.get(y),dA="100%",CD=y=>{const w=y.dom,k=w.getParent(y.selection.getStart(),w.isBlock)??y.getBody();return Pa(yo.fromDom(k))+"px"},Z4=(y,w)=>ww(y)||!fA(y)?w:Eb(y)?{...w,width:CD(y)}:{...w,width:dA},ED=(y,w)=>ww(y)||fA(y)?w:Eb(y)?{...w,width:CD(y)}:{...w,width:dA},Wz=y=>{const w=y.options.register;w("table_clone_elements",{processor:"string[]"}),w("table_use_colgroups",{processor:"boolean",default:!0}),w("table_header_type",{processor:k=>{const W=ln(["section","cells","sectionCells","auto"],k);return W?{value:k,valid:W}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),w("table_sizing_mode",{processor:"string",default:"auto"}),w("table_default_attributes",{processor:"object",default:{border:"1"}}),w("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),w("table_column_resizing",{processor:k=>{const W=ln(["preservetable","resizetable"],k);return W?{value:k,valid:W}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),w("table_resize_bars",{processor:"boolean",default:!0}),w("table_style_by_css",{processor:"boolean",default:!0}),w("table_merge_content_on_paste",{processor:"boolean",default:!0})},wD=y=>_e.from(y.options.get("table_clone_elements")),_D=y=>{const w=y.options.get("object_resizing");return ln(w.split(","),"table")},bw=y0("table_header_type"),Sw=y0("table_column_resizing"),Cw=y=>Sw(y)==="preservetable",M1=y=>Sw(y)==="resizetable",hA=y0("table_sizing_mode"),Ew=y=>hA(y)==="relative",Eb=y=>hA(y)==="fixed",ww=y=>hA(y)==="responsive",_I=y0("table_resize_bars"),fA=y0("table_style_by_css"),TD=y0("table_merge_content_on_paste"),AD=y=>{const w=y.options,k=w.get("table_default_attributes");return w.isSet("table_default_attributes")?k:ED(y,k)},xD=y=>{const w=y.options,k=w.get("table_default_styles");return w.isSet("table_default_styles")?k:Z4(y,k)},Y4=y0("table_use_colgroups"),pA=y=>yo.fromDom(y.getBody()),yC=y=>w=>js(w,pA(y)),P1=y=>{si(y,"data-mce-style");const w=k=>si(k,"data-mce-style");Xe(Pg(y),w),Xe(jS(y),w),Xe(HE(y),w)},N1=y=>yo.fromDom(y.selection.getStart()),OD=y=>y.getBoundingClientRect().width,ID=y=>y.getBoundingClientRect().height,RD=y=>(w,k)=>{const W=w.dom.getStyle(k,y)||w.dom.getAttrib(k,y);return _e.from(W).filter(pl)},mA=RD("width"),kD=RD("height"),X4=y=>/^(\d+(\.\d+)?)%$/.test(y),DD=y=>/^(\d+(\.\d+)?)px$/.test(y),gA=y=>c1(y,Wl("table")).exists(km),TI=y=>ru(y,"table"),vA=(y,w,k)=>{const W=re=>pe=>k!==void 0&&k(pe)||js(pe,re);return js(y,w)?_e.some({boxes:_e.some([y]),start:y,finish:w}):TI(y).bind(re=>TI(w).bind(pe=>{if(js(re,pe))return _e.some({boxes:qs(re,y,w),start:y,finish:w});if(Tr(re,pe)){const Oe=ii(w,"td,th",W(re)),Ue=Oe.length>0?Oe[Oe.length-1]:w;return _e.some({boxes:gI(re,y,re,w,pe),start:y,finish:Ue})}else if(Tr(pe,re)){const Oe=ii(y,"td,th",W(pe)),Ue=Oe.length>0?Oe[Oe.length-1]:y;return _e.some({boxes:gI(pe,y,re,w,pe),start:y,finish:Ue})}else return Fe(y,w).shared.bind(Oe=>yl(Oe,"table",k).bind(Ue=>{const tt=ii(w,"td,th",W(Ue)),Ct=tt.length>0?tt[tt.length-1]:w,Qt=ii(y,"td,th",W(Ue)),zn=Qt.length>0?Qt[Qt.length-1]:y;return _e.some({boxes:gI(Ue,y,re,w,pe),start:zn,finish:Ct})}))}))},AI=(y,w)=>{const k=sp(y,w);return k.length>0?_e.some(k):_e.none()},J4=(y,w)=>ye(y,k=>Tn(k,w)),xI=(y,w,k)=>Fd(y,w).bind(W=>Fd(y,k).bind(re=>Pe(TI,[W,re]).map(pe=>({first:W,last:re,table:pe})))),MD=(y,w)=>ru(y,"table").bind(k=>Fd(k,w).bind(W=>vA(W,y).bind(re=>re.boxes.map(pe=>({boxes:pe,start:re.start,finish:re.finish}))))),PD=(y,w,k,W,re)=>J4(y,re).bind(pe=>mI(pe,w,k).bind(Oe=>MD(Oe,W))),_w=(y,w)=>AI(y,w),Q4=(y,w,k)=>xI(y,w,k).bind(W=>{const re=tt=>js(y,tt),pe="thead,tfoot,tbody,table",Oe=ru(W.first,pe,re),Ue=ru(W.last,pe,re);return Oe.bind(tt=>Ue.bind(Ct=>js(tt,Ct)?Sb(W.table,W.first,W.last):_e.none()))}),OI=Se,II=y=>{const w=(W,re)=>Lc(W,re).exists(pe=>parseInt(pe,10)>1),k=W=>w(W,"rowspan")||w(W,"colspan");return y.length>0&&Oo(y,k)?_e.some(y):_e.none()},eB=(y,w,k)=>w.length<=1?_e.none():Q4(y,k.firstSelectedSelector,k.lastSelectedSelector).map(W=>({bounds:W,cells:w})),L1={create:(y,w)=>({selection:y,kill:w})},ND=(y,w,k,W)=>{switch(y.tag){case"none":return w();case"single":return W(y.element);case"multiple":return k(y.elements)}},LD=()=>({tag:"none"}),nB=y=>({tag:"multiple",elements:y}),oB=y=>({tag:"single",element:y}),sB=(y,w,k)=>({get:()=>_w(y(),k).fold(()=>w().fold(LD,oB),nB)}),Tw={create:(y,w,k,W)=>({start:cl.on(y,w),finish:cl.on(k,W)})},RI=(y,w)=>{const k=po(y,w);return Nu.create(yo.fromDom(k.startContainer),k.startOffset,yo.fromDom(k.endContainer),k.endOffset)},Aw=Tw.create,BD=(y,w,k,W,re,pe,Oe)=>js(k,re)&&W===pe?_e.none():yl(k,"td,th",w).bind(Ue=>yl(re,"td,th",w).bind(tt=>xw(y,w,Ue,tt,Oe))),xw=(y,w,k,W,re)=>js(k,W)?_e.none():vA(k,W,w).bind(pe=>{const Oe=pe.boxes.getOr([]);return Oe.length>1?(re(y,Oe,pe.start,pe.finish),_e.some(L1.create(_e.some(Aw(k,0,k,rp(k))),!0))):_e.none()}),rB=(y,w,k,W,re)=>{const pe=Oe=>(re.clearBeforeUpdate(k),re.selectRange(k,Oe.boxes,Oe.start,Oe.finish),Oe.boxes);return PD(W,y,w,re.firstSelectedSelector,re.lastSelectedSelector).map(pe)},bA=xe.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),iB=(y,w,k)=>{const W=y.getRect(w),re=y.getRect(k);return re.right>W.left&&re.left<W.right},FD=y=>yl(y,"tr"),B1={...bA,verify:(y,w,k,W,re,pe,Oe)=>yl(W,"td,th",Oe).bind(Ue=>yl(w,"td,th",Oe).map(tt=>js(Ue,tt)?js(W,Ue)&&rp(Ue)===re?pe(tt):bA.none("in same cell"):Pe(FD,[Ue,tt]).fold(()=>iB(y,tt,Ue)?bA.success():pe(tt),Ct=>pe(tt)))).getOr(bA.none("default")),cata:(y,w,k,W,re)=>y.fold(w,k,W,re)},SA=Wl("br"),CA=(y,w,k)=>w(y,k).bind(W=>tu(W)&&uf(W).trim().length===0?CA(W,w,k):_e.some(W)),VD=(y,w,k)=>k.traverse(w).orThunk(()=>CA(w,k.gather,y)).map(k.relative),lB=(y,w)=>vt(y,w).filter(SA).orThunk(()=>vt(y,w-1).filter(SA)),EA=(y,w,k,W)=>lB(w,k).bind(re=>W.traverse(re).fold(()=>CA(re,W.gather,y).map(W.relative),pe=>Mm(pe).map(Oe=>cl.on(Oe.parent,Oe.index)))),HD=(y,w,k,W)=>(SA(w)?VD(y,w,W):EA(y,w,k,W)).map(pe=>({start:pe,finish:pe})),$D=y=>B1.cata(y,w=>_e.none(),()=>_e.none(),w=>_e.some(Yg(w,0)),w=>_e.some(Yg(w,rp(w)))),wA=(y,w)=>({left:y.left,top:y.top+w,right:y.right,bottom:y.bottom+w}),ty=(y,w)=>({left:y.left,top:y.top-w,right:y.right,bottom:y.bottom-w}),UD=(y,w,k)=>({left:y.left+w,top:y.top+k,right:y.right+w,bottom:y.bottom+k}),cB=y=>y.top,uB=y=>y.bottom,dB=(y,w,k)=>k>=0&&k<rp(w)?y.getRangedRect(w,k,w,k+1):k>0?y.getRangedRect(w,k-1,w,k):_e.none(),bC=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),zD=(y,w)=>_e.some(y.getRect(w)),kI=(y,w,k)=>Gi(w)?zD(y,w).map(bC):tu(w)?dB(y,w,k).map(bC):_e.none(),_A=(y,w)=>Gi(w)?zD(y,w).map(bC):tu(w)?y.getRangedRect(w,0,w,rp(w)).map(bC):_e.none(),nv=5,Ow=100,ny=xe.generate([{none:[]},{retry:["caret"]}]),TA=(y,w)=>y.left<w.left||Math.abs(w.right-y.left)<1||y.left>w.right,jD=(y,w,k)=>c1(w,lt).fold($e,W=>_A(y,W).exists(re=>TA(k,re))),WD=(y,w,k,W,re)=>{const pe=wA(re,nv);return Math.abs(k.bottom-W.bottom)<1||k.top>re.bottom?ny.retry(pe):k.top===re.bottom?ny.retry(wA(re,1)):jD(y,w,re)?ny.retry(UD(pe,nv,0)):ny.none()},GD={point:cB,adjuster:(y,w,k,W,re)=>{const pe=ty(re,nv);return Math.abs(k.top-W.top)<1||k.bottom<re.top?ny.retry(pe):k.bottom===re.top?ny.retry(ty(re,1)):jD(y,w,re)?ny.retry(UD(pe,nv,0)):ny.none()},move:ty,gather:dC},fB={point:uB,adjuster:WD,move:wA,gather:Km},pB=(y,w,k)=>y.elementFromPoint(w,k).filter(W=>_i(W)==="table").isSome(),mB=(y,w,k,W,re)=>SC(y,w,k,w.move(W,nv),re),SC=(y,w,k,W,re)=>re===0?_e.some(W):pB(y,W.left,w.point(W))?mB(y,w,k,W,re-1):y.situsFromPoint(W.left,w.point(W)).bind(pe=>pe.start.fold(_e.none,Oe=>_A(y,Oe).bind(Ue=>w.adjuster(y,Oe,Ue,k,W).fold(_e.none,tt=>SC(y,w,k,tt,re-1))).orThunk(()=>_e.some(W)),_e.none)),Iw=(y,w,k)=>y.point(w)>k.getInnerHeight()?_e.some(y.point(w)-k.getInnerHeight()):y.point(w)<0?_e.some(-y.point(w)):_e.none(),qD=(y,w,k)=>{const W=y.move(k,nv),re=SC(w,y,k,W,Ow).getOr(W);return Iw(y,re,w).fold(()=>w.situsFromPoint(re.left,y.point(re)),pe=>(w.scrollBy(0,pe),w.situsFromPoint(re.left,y.point(re)-pe)))},Rw={tryUp:Te(qD,GD),tryDown:Te(qD,fB),getJumpSize:se(nv)},gB=20,vB=(y,w,k)=>y.getSelection().bind(W=>HD(w,W.finish,W.foffset,k).fold(()=>_e.some(Yg(W.finish,W.foffset)),re=>{const pe=y.fromSitus(re),Oe=B1.verify(y,W.finish,W.foffset,pe.finish,pe.foffset,k.failure,w);return $D(Oe)})),oy=(y,w,k,W,re,pe)=>pe===0?_e.none():kw(y,w,k,W,re).bind(Oe=>{const Ue=y.fromSitus(Oe),tt=B1.verify(y,k,W,Ue.finish,Ue.foffset,re.failure,w);return B1.cata(tt,()=>_e.none(),()=>_e.some(Oe),Ct=>js(k,Ct)&&W===0?ov(y,k,W,ty,re):oy(y,w,Ct,0,re,pe-1),Ct=>js(k,Ct)&&W===rp(Ct)?ov(y,k,W,wA,re):oy(y,w,Ct,rp(Ct),re,pe-1))}),ov=(y,w,k,W,re)=>kI(y,w,k).bind(pe=>ls(y,re,W(pe,Rw.getJumpSize()))),ls=(y,w,k)=>{const W=Pl().browser;return W.isChromium()||W.isSafari()||W.isFirefox()?w.retry(y,k):_e.none()},kw=(y,w,k,W,re)=>kI(y,k,W).bind(pe=>ls(y,re,pe)),KD=(y,w,k)=>vB(y,w,k).bind(W=>oy(y,w,W.element,W.offset,k,gB).map(y.fromSitus)),ZD=(y,w)=>jp(y,k=>st(k).exists(W=>js(W,w))),F1=(y,w,k,W,re)=>yl(W,"td,th",w).bind(pe=>yl(pe,"table",w).bind(Oe=>ZD(re,Oe)?KD(y,w,k).bind(Ue=>yl(Ue.finish,"td,th",w).map(tt=>({start:pe,finish:tt,range:Ue}))):_e.none())),wb=(y,w,k,W,re,pe)=>pe(W,w).orThunk(()=>F1(y,w,k,W,re).map(Oe=>{const Ue=Oe.range;return L1.create(_e.some(Aw(Ue.start,Ue.soffset,Ue.finish,Ue.foffset)),!0)})),Dw=(y,w)=>yl(y,"tr",w).bind(k=>yl(k,"table",w).bind(W=>{const re=sp(W,"tr");return js(k,re[0])?Q(W,pe=>Xa(pe).isSome(),w).map(pe=>{const Oe=rp(pe);return L1.create(_e.some(Aw(pe,Oe,pe,Oe)),!0)}):_e.none()})),CC=(y,w)=>yl(y,"tr",w).bind(k=>yl(k,"table",w).bind(W=>{const re=sp(W,"tr");return js(k,re[re.length-1])?m(W,pe=>Fv(pe).isSome(),w).map(pe=>L1.create(_e.some(Aw(pe,0,pe,0)),!0)):_e.none()})),sv=(y,w,k,W,re,pe,Oe)=>F1(y,k,W,re,pe).bind(Ue=>xw(w,k,Ue.start,Ue.finish,Oe)),EC=(y,w)=>yl(y,"td,th",w),DI=y=>xc(y).exists(km),AA=(y,w,k,W)=>{const re=da(),pe=re.clear,Oe=Qt=>{re.on(zn=>{W.clearBeforeUpdate(w),EC(Qt.target,k).each(To=>{vA(zn,To,k).each(Ro=>{const ps=Ro.boxes.getOr([]);if(ps.length===1){const yn=ps[0],On=Rg(yn)==="false",Ms=Xo(Bv(Qt.target),yn,js);On&&Ms&&W.selectRange(w,ps,yn,yn)}else ps.length>1&&(W.selectRange(w,ps,Ro.start,Ro.finish),y.selectContents(To))})})})};return{clearstate:pe,mousedown:Qt=>{W.clear(w),EC(Qt.target,k).filter(DI).each(re.set)},mouseover:Qt=>{Oe(Qt)},mouseup:Qt=>{Oe(Qt),pe()}}},Mw={traverse:ou,gather:Km,relative:cl.before,retry:Rw.tryDown,failure:B1.failedDown},YD={traverse:jy,gather:dC,relative:cl.before,retry:Rw.tryUp,failure:B1.failedUp},Tf=y=>w=>w===y,sy=Tf(38),V1=Tf(40),Xm=y=>y>=37&&y<=40,ry={isBackward:Tf(37),isForward:Tf(39)},Pw={isBackward:Tf(39),isForward:Tf(37)},Nw=y=>({elementFromPoint:(On,Ms)=>yo.fromPoint(yo.fromDom(y.document),On,Ms),getRect:On=>On.dom.getBoundingClientRect(),getRangedRect:(On,Ms,er,Jo)=>{const Ri=ae.exact(On,Ms,er,Jo);return Mg(y,Ri)},getSelection:()=>Nm(y).map(On=>RI(y,On)),fromSitus:On=>{const Ms=ae.relative(On.start,On.finish);return RI(y,Ms)},situsFromPoint:(On,Ms)=>s0(y,On,Ms).map(er=>Tw.create(er.start,er.soffset,er.finish,er.foffset)),clearSelection:()=>{Bl(y)},collapseSelection:(On=!1)=>{Nm(y).each(Ms=>Ms.fold(er=>er.collapse(On),(er,Jo)=>{const Ri=On?er:Jo;Gp(y,Ri,Ri)},(er,Jo,Ri,Si)=>{const Ks=On?er:Ri,Kl=On?Jo:Si;Wp(y,Ks,Kl,Ks,Kl)}))},setSelection:On=>{Wp(y,On.start,On.soffset,On.finish,On.foffset)},setRelativeSelection:(On,Ms)=>{Gp(y,On,Ms)},selectNode:On=>{Pm(y,On,!1)},selectContents:On=>{Pm(y,On)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>Ni(yo.fromDom(y.document)).top,scrollBy:(On,Ms)=>{Pu(On,Ms,yo.fromDom(y.document))}}),iy=(y,w)=>({rows:y,cols:w}),MI=(y,w,k,W)=>{const re=Nw(y),pe=AA(re,w,k,W);return{clearstate:pe.clearstate,mousedown:pe.mousedown,mouseover:pe.mouseover,mouseup:pe.mouseup}},XD=y=>c1(y,lf).exists(km),Lw=(y,w)=>XD(y)||XD(w),rv=(y,w,k,W)=>{const re=Nw(y),pe=()=>(W.clear(w),_e.none());return{keydown:(tt,Ct,Qt,zn,To,Ro)=>{const ps=tt.raw,yn=ps.which,On=ps.shiftKey===!0;return AI(w,W.selectedSelector).fold(()=>(Xm(yn)&&!On&&W.clearBeforeUpdate(w),Xm(yn)&&On&&!Lw(Ct,zn)?_e.none:V1(yn)&&On?Te(sv,re,w,k,Mw,zn,Ct,W.selectRange):sy(yn)&&On?Te(sv,re,w,k,YD,zn,Ct,W.selectRange):V1(yn)?Te(wb,re,k,Mw,zn,Ct,CC):sy(yn)?Te(wb,re,k,YD,zn,Ct,Dw):_e.none),er=>{const Jo=Ri=>()=>Ft(Ri,Ks=>rB(Ks.rows,Ks.cols,w,er,W)).fold(()=>xI(w,W.firstSelectedSelector,W.lastSelectedSelector).map(Ks=>{const Kl=V1(yn)||Ro.isForward(yn)?cl.after:cl.before;return re.setRelativeSelection(cl.on(Ks.first,0),Kl(Ks.table)),W.clear(w),L1.create(_e.none(),!0)}),Ks=>_e.some(L1.create(_e.none(),!0)));return Xm(yn)&&On&&!Lw(Ct,zn)?_e.none:V1(yn)&&On?Jo([iy(1,0)]):sy(yn)&&On?Jo([iy(-1,0)]):Ro.isBackward(yn)&&On?Jo([iy(0,-1),iy(-1,0)]):Ro.isForward(yn)&&On?Jo([iy(0,1),iy(1,0)]):Xm(yn)&&!On?pe:_e.none})()},keyup:(tt,Ct,Qt,zn,To)=>AI(w,W.selectedSelector).fold(()=>{const Ro=tt.raw,ps=Ro.which;return Ro.shiftKey===!0&&Xm(ps)&&Lw(Ct,zn)?BD(w,k,Ct,Qt,zn,To,W.selectRange):_e.none()},_e.none)}},JD=(y,w,k,W)=>{const re=Nw(y);return(pe,Oe)=>{W.clearBeforeUpdate(w),vA(pe,Oe,k).each(Ue=>{const tt=Ue.boxes.getOr([]);W.selectRange(w,tt,Ue.start,Ue.finish),re.selectContents(Oe),re.collapseSelection()})}},QD={byClass:y=>{const w=d1(y.selected),k=US([y.selected,y.lastSelected,y.firstSelected]),W=pe=>{const Oe=sp(pe,y.selectedSelector);Xe(Oe,k)};return{clearBeforeUpdate:W,clear:W,selectRange:(pe,Oe,Ue,tt)=>{W(pe),Xe(Oe,w),df(Ue,y.firstSelected),df(tt,y.lastSelected)},selectedSelector:y.selectedSelector,firstSelectedSelector:y.firstSelectedSelector,lastSelectedSelector:y.lastSelectedSelector}},byAttr:(y,w,k)=>{const W=tt=>{si(tt,y.selected),si(tt,y.firstSelected),si(tt,y.lastSelected)},re=tt=>{wl(tt,y.selected,"1")},pe=tt=>{Oe(tt),k()},Oe=tt=>{const Ct=sp(tt,`${y.selectedSelector},${y.firstSelectedSelector},${y.lastSelectedSelector}`);Xe(Ct,W)};return{clearBeforeUpdate:Oe,clear:pe,selectRange:(tt,Ct,Qt,zn)=>{pe(tt),Xe(Ct,re),wl(Qt,y.firstSelected,"1"),wl(zn,y.lastSelected,"1"),w(Ct,Qt,zn)},selectedSelector:y.selectedSelector,firstSelectedSelector:y.firstSelectedSelector,lastSelectedSelector:y.lastSelectedSelector}}},H1="data-mce-selected",eM="td["+H1+"],th["+H1+"]",tM="["+H1+"]",Af="data-mce-first-selected",b0="td["+Af+"],th["+Af+"]",xA="data-mce-last-selected",wC="td["+xA+"],th["+xA+"]",jh=tM,du={selected:H1,selectedSelector:eM,firstSelected:Af,firstSelectedSelector:b0,lastSelected:xA,lastSelectedSelector:wC},hu=(y,w,k)=>({element:k,mergable:eB(w,y,du),unmergable:II(y),selection:OI(y)}),xf=(y,w,k)=>({element:y,clipboard:w,generators:k}),OA=(y,w,k,W)=>({selection:OI(y),clipboard:k,generators:W}),Jm=y=>Hd(y).bind(w=>_w(w,du.firstSelectedSelector)).fold(se(y),w=>w[0]),S0=y=>(w,k)=>{const W=_i(w),re=W==="col"||W==="colgroup"?Jm(w):w;return yl(re,y,k)},Xs=S0("th,td,caption"),PI=S0("th,td"),ay=y=>oc(y.model.table.getSelectedCells()),nM=y=>In(ay(y),w=>Tn(w,du.selectedSelector)),oM=y=>Hd(y[0]).map(w=>{const k=gb(w,jh);return P1(k),[k]}),IA=(y,w)=>Ut(w,k=>y.selection.serializer.serialize(k.dom,{})).join(""),sM=(y,w)=>{const k=y.getDoc(),W=ds(yo.fromDom(y.getBody())),re=yo.fromTag("div",k);wl(re,"data-mce-bogus","all"),ia(re,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const pe=ys(W);nc(re,w),ei(pe,re);const Oe=re.dom.innerText;return Gl(re),Oe},rM=(y,w)=>{y.on("BeforeGetContent",k=>{const W=re=>{k.preventDefault(),oM(re).each(pe=>{const Oe=k.format==="text"?sM(y,pe):IA(y,pe);k.content=Oe})};if(k.selection===!0){const re=nM(y);re.length>=1&&W(re)}}),y.on("BeforeSetContent",k=>{if(k.selection===!0&&k.paste===!0){const W=ay(y);qe(W).each(re=>{Hd(re).each(pe=>{const Oe=In(Wy(k.content),tt=>_i(tt)!=="meta"),Ue=Wl("table");if(TD(y)&&Oe.length===1&&Ue(Oe[0])){k.preventDefault();const tt=yo.fromDom(y.getDoc()),Ct=Mr(tt),Qt=xf(re,Oe[0],Ct);w.pasteCells(pe,Qt).each(()=>{y.focus()})}})})}})},iM=(y,w)=>y.dispatch("NewRow",{node:w}),RA=(y,w)=>y.dispatch("NewCell",{node:w}),iv=(y,w,k)=>{y.dispatch("TableModified",{...k,table:w})},$1=(y,w,k,W,re)=>{y.dispatch("TableSelectionChange",{cells:w,start:k,finish:W,otherCells:re})},aM=y=>{y.dispatch("TableSelectionClear")},_C=(y,w,k,W,re)=>{y.dispatch("ObjectResizeStart",{target:w,width:k,height:W,origin:re})},lM=(y,w,k,W,re)=>{y.dispatch("ObjectResized",{target:w,width:k,height:W,origin:re})},kA={structure:!1,style:!0},fu={structure:!0,style:!1},SB={structure:!0,style:!0},NI=(y,w)=>Ew(y)?jv.percentageSize(w):Eb(y)?jv.pixelSize(w):jv.getTableSize(w),CB=(y,w,k)=>{const W=vd=>_i(pA(vd))==="table",re=vd=>!W(y)||Sr(vd).rows>1,pe=vd=>!W(y)||Sr(vd).columns>1,Oe=wD(y),Ue=M1(y)?Z:eC,tt=vd=>{switch(bw(y)){case"section":return Zp.section();case"sectionCells":return Zp.sectionCells();case"cells":return Zp.cells();default:return Zp.getTableSectionType(vd,"section")}},Ct=(vd,Fw)=>Fw.cursor.fold(()=>{const xC=Pg(vd);return qe(xC).filter(gs).map(Of=>{k.clearSelectedCells(vd.dom);const Uc=y.dom.createRng();return Uc.selectNode(Of.dom),y.selection.setRng(Uc),wl(Of,"data-mce-selected","1"),Uc})},xC=>{const Of=uC(xC),Uc=y.dom.createRng();return Uc.setStart(Of.element.dom,Of.offset),Uc.setEnd(Of.element.dom,Of.offset),y.selection.setRng(Uc),k.clearSelectedCells(vd.dom),_e.some(Uc)}),Qt=(vd,Fw,xC,Of)=>(Uc,OB,IB=!1)=>{P1(Uc);const as=yo.fromDom(y.getDoc()),eg=cu(xC,as,Oe),gM={sizing:NI(y,Uc),resize:M1(y)?nb():BE(),section:tt(Uc)};return Fw(Uc)?vd(Uc,OB,eg,gM).bind(LA=>{w.refresh(Uc.dom),Xe(LA.newRows,Vw=>{iM(y,Vw.dom)}),Xe(LA.newCells,Vw=>{RA(y,Vw.dom)});const vM=Ct(Uc,LA);return gs(Uc)&&(P1(Uc),IB||iv(y,Uc.dom,Of)),vM.map(Vw=>({rng:Vw,effect:Of}))}):_e.none()},zn=Qt(iD,re,Z,fu),To=Qt(ev,pe,Z,fu),Ro=Qt(I1,Re,Z,fu),ps=Qt(dI,Re,Z,fu),yn=Qt(R1,Re,Ue,fu),On=Qt(Ta,Re,Ue,fu),Ms=Qt(B4,Re,Z,fu),er=Qt(F4,Re,Z,fu),Jo=Qt(ho,Re,Z,fu),Ri=Qt(aD,Re,Z,fu),Si=Qt(uu,Re,Z,fu),Ks=Qt(lD,Re,Z,fu),Kl=Qt(fI,Re,Z,SB),vp=Qt(N4,Re,Z,fu),Tb=Qt(L4,Re,Z,fu),C0=Qt(bb,Re,Z,fu),E0=Qt(Ym,Re,Z,fu),zi=Qt(M4,Re,Z,fu),gh=Qt(P4,Re,Z,fu),vh=Qt(hI,Re,Z,fu);return{deleteRow:zn,deleteColumn:To,insertRowsBefore:Ro,insertRowsAfter:ps,insertColumnsBefore:yn,insertColumnsAfter:On,mergeCells:Ms,unmergeCells:er,pasteColsBefore:Jo,pasteColsAfter:Ri,pasteRowsBefore:Si,pasteRowsAfter:Ks,pasteCells:Kl,makeCellsHeader:vp,unmakeCellsHeader:Tb,makeColumnsHeader:C0,unmakeColumnsHeader:E0,makeRowsHeader:zi,makeRowsBody:gh,makeRowsFooter:vh,getTableRowType:V4,getTableCellType:uD,getTableColType:cD}},EB=(y,w)=>{y.selection.select(w.dom,!0),y.selection.collapse(!0)},am=(y,w)=>{Fd(w,"td,th").each(Te(EB,y))},qz=(y,w)=>{Xe(sp(w,"tr"),k=>{iM(y,k.dom),Xe(sp(k,"th,td"),W=>{RA(y,W.dom)})})},DA=y=>p(y)&&y.indexOf("%")!==-1,_b=(y,w,k,W,re)=>{const pe=xD(y),Oe={styles:pe,attributes:AD(y),colGroups:Y4(y)};return y.undoManager.ignore(()=>{const Ue=Cb(k,w,re,W,bw(y),Oe);wl(Ue,"data-mce-id","__mce");const tt=br(Ue);y.insertContent(tt),y.addVisual()}),Fd(pA(y),'table[data-mce-id="__mce"]').map(Ue=>(Eb(y)?Xt(Ue):ww(y)?So(Ue):(Ew(y)||DA(pe.width))&&Yt(Ue),P1(Ue),si(Ue,"data-mce-id"),qz(y,Ue),am(y,Ue),Ue.dom)).getOrNull()},LI=(y,w,k,W={})=>{const re=pe=>z(pe)&&pe>0;if(re(w)&&re(k)){const pe=W.headerRows||0,Oe=W.headerColumns||0;return _b(y,k,w,Oe,pe)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var TC=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const cM="x-tinymce/dom-table-",BI=cM+"rows",FI=cM+"columns",uM=y=>{const w=TC.FakeClipboardItem(y);TC.write([w])},MA=y=>{const w=TC.read()??[];return Ft(w,k=>_e.from(k.getType(y)))},U1=y=>{MA(y).isSome()&&TC.clear()},Qm=y=>{y.fold(wB,w=>uM({[BI]:w}))},dM=()=>MA(BI),wB=()=>U1(BI),VI=y=>{y.fold(HI,w=>uM({[FI]:w}))},PA=()=>MA(FI),HI=()=>U1(FI),AC=y=>Xs(N1(y),yC(y)).filter(gA),NA=y=>PI(N1(y),yC(y)).filter(gA),$I=(y,w)=>{const k=yC(y),W=()=>AC(y).each(On=>{Hd(On,k).filter(V(k)).each(Ms=>{const er=yo.fromText("");if(Ph(Ms,er),Gl(Ms),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const Jo=y.dom.createRng();Jo.setStart(er.dom,0),Jo.setEnd(er.dom,0),y.selection.setRng(Jo),y.nodeChanged()}})}),re=On=>AC(y).each(Ms=>{ww(y)||Eb(y)||Ew(y)||Hd(Ms,k).each(Jo=>{On==="relative"&&!WT(Jo)?Yt(Jo):On==="fixed"&&!fp(Jo)?Xt(Jo):On==="responsive"&&!$c(Jo)&&So(Jo),P1(Jo),iv(y,Jo.dom,fu)})}),pe=On=>Hd(On,k),Oe=On=>NA(y).bind(Ms=>pe(Ms).map(er=>On(er,Ms))),Ue=(On,Ms)=>{Oe(er=>{y.formatter.toggle("tableclass",{value:Ms},er.dom),iv(y,er.dom,kA)})},tt=(On,Ms)=>{Oe(er=>{const Jo=ay(y),Si=Oo(Jo,Ks=>y.formatter.match("tablecellclass",{value:Ms},Ks.dom))?y.formatter.remove:y.formatter.apply;Xe(Jo,Ks=>Si("tablecellclass",{value:Ms},Ks.dom)),iv(y,er.dom,kA)})},Ct=()=>{AC(y).each(On=>{Hd(On,k).each(Ms=>{Ha(Ms,"caption").fold(()=>{const er=yo.fromTag("caption");ei(er,yo.fromText("Caption")),Zb(Ms,er,0),y.selection.setCursorLocation(er.dom,0)},er=>{Wl("caption")(On)&&pr("td",Ms).each(Jo=>y.selection.setCursorLocation(Jo.dom,0)),Gl(er)}),iv(y,Ms.dom,fu)})})},Qt=On=>{y.focus()},zn=(On,Ms=!1)=>Oe((er,Jo)=>{const Ri=hu(ay(y),er,Jo);On(er,Ri,Ms).each(Qt)}),To=()=>Oe((On,Ms)=>{const er=hu(ay(y),On,Ms),Jo=cu(Z,yo.fromDom(y.getDoc()),_e.none());return qg(On,er,Jo)}),Ro=()=>Oe((On,Ms)=>{const er=hu(ay(y),On,Ms);return tm(On,er)}),ps=(On,Ms)=>Ms().each(er=>{const Jo=Ut(er,Ri=>ql(Ri));Oe((Ri,Si)=>{const Ks=Mr(yo.fromDom(y.getDoc())),Kl=OA(ay(y),Si,Jo,Ks);On(Ri,Kl).each(Qt)})}),yn=On=>(Ms,er)=>no(er,"type").each(Jo=>{zn(On(Jo),er.no_events)});Nt({mceTableSplitCells:()=>zn(w.unmergeCells),mceTableMergeCells:()=>zn(w.mergeCells),mceTableInsertRowBefore:()=>zn(w.insertRowsBefore),mceTableInsertRowAfter:()=>zn(w.insertRowsAfter),mceTableInsertColBefore:()=>zn(w.insertColumnsBefore),mceTableInsertColAfter:()=>zn(w.insertColumnsAfter),mceTableDeleteCol:()=>zn(w.deleteColumn),mceTableDeleteRow:()=>zn(w.deleteRow),mceTableCutCol:()=>Ro().each(On=>{VI(On),zn(w.deleteColumn)}),mceTableCutRow:()=>To().each(On=>{Qm(On),zn(w.deleteRow)}),mceTableCopyCol:()=>Ro().each(On=>VI(On)),mceTableCopyRow:()=>To().each(On=>Qm(On)),mceTablePasteColBefore:()=>ps(w.pasteColsBefore,PA),mceTablePasteColAfter:()=>ps(w.pasteColsAfter,PA),mceTablePasteRowBefore:()=>ps(w.pasteRowsBefore,dM),mceTablePasteRowAfter:()=>ps(w.pasteRowsAfter,dM),mceTableDelete:W,mceTableCellToggleClass:tt,mceTableToggleClass:Ue,mceTableToggleCaption:Ct,mceTableSizingMode:(On,Ms)=>re(Ms),mceTableCellType:yn(On=>On==="th"?w.makeCellsHeader:w.unmakeCellsHeader),mceTableColType:yn(On=>On==="th"?w.makeColumnsHeader:w.unmakeColumnsHeader),mceTableRowType:yn(On=>{switch(On){case"header":return w.makeRowsHeader;case"footer":return w.makeRowsFooter;default:return w.makeRowsBody}})},(On,Ms)=>y.addCommand(Ms,On)),y.addCommand("mceInsertTable",(On,Ms)=>{LI(y,Ms.rows,Ms.columns,Ms.options)}),y.addCommand("mceTableApplyCellStyle",(On,Ms)=>{const er=Si=>"tablecell"+Si.toLowerCase().replace("-","");if(!v(Ms))return;const Jo=In(ay(y),gA);if(Jo.length===0)return;const Ri=fo(Ms,(Si,Ks)=>y.formatter.has(er(Ks))&&p(Si));Bs(Ri)||(Nt(Ri,(Si,Ks)=>{const Kl=er(Ks);Xe(Jo,vp=>{Si===""?y.formatter.remove(Kl,{value:null},vp.dom,!0):y.formatter.apply(Kl,{value:Si},vp.dom)})}),pe(Jo[0]).each(Si=>iv(y,Si.dom,kA)))})},hM=(y,w)=>{const k=yC(y),W=re=>PI(N1(y)).bind(pe=>Hd(pe,k).map(Oe=>{const Ue=hu(ay(y),Oe,pe);return re(Oe,Ue)})).getOr("");Nt({mceTableRowType:()=>W(w.getTableRowType),mceTableCellType:()=>W(w.getTableCellType),mceTableColType:()=>W(w.getTableColType)},(re,pe)=>y.addQueryValueHandler(pe,re))},Bw=y=>!hf(yo.fromDom(y.target),"ephox-snooker-resizer-bar"),_B=(y,w)=>{const k=sB(()=>yo.fromDom(y.getBody()),()=>PI(N1(y),yC(y)),du.selectedSelector),W=(tt,Ct,Qt)=>{Hd(Ct).each(To=>{const Ro=Ut(tt,er=>er.dom),ps=wD(y),yn=cu(Z,yo.fromDom(y.getDoc()),ps),On=ay(y),Ms=Yv(To,{selection:On},yn).map(er=>Gt(er,Jo=>Ut(Jo,Ri=>Ri.dom))).getOrUndefined();$1(y,Ro,Ct.dom,Qt.dom,Ms)})},re=()=>aM(y),pe=QD.byAttr(du,W,re);return y.on("init",tt=>{const Ct=y.getWin(),Qt=pA(y),zn=yC(y),To=()=>{const zi=y.selection,gh=yo.fromDom(zi.getStart()),vh=yo.fromDom(zi.getEnd());Pe(Hd,[gh,vh]).fold(()=>pe.clear(Qt),Z)},Ro=MI(Ct,Qt,zn,pe),ps=rv(Ct,Qt,zn,pe),yn=JD(Ct,Qt,zn,pe),On=zi=>zi.raw.shiftKey===!0;y.on("TableSelectorChange",zi=>yn(zi.start,zi.finish));const Ms=(zi,gh)=>{On(zi)&&(gh.kill&&zi.kill(),gh.selection.each(vh=>{const lm=ae.relative(vh.start,vh.finish),Wh=po(Ct,lm);y.selection.setRng(Wh)}))},er=zi=>{const gh=oa(zi);if(gh.raw.shiftKey&&Xm(gh.raw.which)){const vh=y.selection.getRng(),lm=yo.fromDom(vh.startContainer),Wh=yo.fromDom(vh.endContainer);ps.keyup(gh,lm,vh.startOffset,Wh,vh.endOffset).each(Ab=>{Ms(gh,Ab)})}},Jo=zi=>{const gh=oa(zi);w.hide();const vh=y.selection.getRng(),lm=yo.fromDom(vh.startContainer),Wh=yo.fromDom(vh.endContainer),Ab=Im(ry,Pw)(yo.fromDom(y.selection.getStart()));ps.keydown(gh,lm,vh.startOffset,Wh,vh.endOffset,Ab).each(vd=>{Ms(gh,vd)}),w.show()},Ri=zi=>zi.button===0,Si=zi=>zi.buttons===void 0?!0:(zi.buttons&1)!==0,Ks=zi=>{Ro.clearstate()},Kl=zi=>{Ri(zi)&&Bw(zi)&&Ro.mousedown(oa(zi))},vp=zi=>{Si(zi)&&Bw(zi)&&Ro.mouseover(oa(zi))},Tb=zi=>{Ri(zi)&&Bw(zi)&&Ro.mouseup(oa(zi))},E0=(()=>{const zi=je(yo.fromDom(Qt)),gh=je(0);return{touchEnd:lm=>{const Wh=yo.fromDom(lm.target);if(Wl("td")(Wh)||Wl("th")(Wh)){const Ab=zi.get(),vd=gh.get();js(Ab,Wh)&&lm.timeStamp-vd<300&&(lm.preventDefault(),yn(Wh,Wh))}zi.set(Wh),gh.set(lm.timeStamp)}}})();y.on("dragstart",Ks),y.on("mousedown",Kl),y.on("mouseover",vp),y.on("mouseup",Tb),y.on("touchend",E0.touchEnd),y.on("keyup",er),y.on("keydown",Jo),y.on("NodeChange",To)}),y.on("PreInit",()=>{y.serializer.addTempAttr(du.firstSelected),y.serializer.addTempAttr(du.lastSelected)}),{getSelectedCells:()=>ND(k.get(),se([]),tt=>Ut(tt,Ct=>Ct.dom),tt=>[tt.dom]),clearSelectedCells:tt=>pe.clear(yo.fromDom(tt))}},TB=(y,w)=>{const k=yo.fromDom(y.getBody());return VT.body(k,w)},fM=y=>H(y)&&y.nodeName==="TABLE",z1="bar-",UI=y=>ku(y,"data-mce-resize")!=="false",AB=y=>{const w=Er.fromTable(y);Er.hasColumns(w)||Xe(Pg(y),k=>{const W=Om(k,"width");Ll(k,"width",W),si(k,"width")})},pM=y=>Oa(y,"corner-"),xB=y=>fc(y,"corner-"),mM=y=>{const w=da(),k=da(),W=da();let re,pe,Oe,Ue;const tt=Jo=>NI(y,Jo),Ct=()=>Cw(y)?BE():nb(),Qt=Jo=>Sr(Jo).columns,zn=Jo=>Sr(Jo).rows,To=(Jo,Ri,Si,Ks)=>{const Kl=xB(Ri),vp=Id(Kl,"e"),Tb=Oa(Kl,"n");if(pe===""&&Yt(Jo),Ue===""&&Kn(Jo),Si!==re&&pe!==""){Ll(Jo,"width",pe);const C0=Ct(),E0=tt(Jo),zi=Cw(y)||vp?Qt(Jo)-1:0;em(Jo,Si-re,zi,C0,E0)}else if(X4(pe)){const C0=parseFloat(pe.replace("%","")),E0=Si*C0/re;Ll(Jo,"width",E0+"%")}if(DD(pe)&&AB(Jo),Ks!==Oe&&Ue!==""){Ll(Jo,"height",Ue);const C0=Tb?0:zn(Jo)-1;JE(Jo,Ks-Oe,C0)}},Ro=()=>{k.on(Jo=>{Jo.destroy()})};y.on("init",()=>{const Jo=TB(y,UI);if(W.set(Jo),_D(y)&&_I(y)){const Ri=Ct(),Si=K4.create(Jo,Ri,tt);y.mode.isReadOnly()||Si.on(),Si.events.startDrag.bind(Ks=>{w.set(y.selection.getRng())}),Si.events.beforeResize.bind(Ks=>{const Kl=Ks.table.dom;_C(y,Kl,OD(Kl),ID(Kl),z1+Ks.type)}),Si.events.afterResize.bind(Ks=>{const Kl=Ks.table,vp=Kl.dom;P1(Kl),w.on(Tb=>{y.selection.setRng(Tb),y.focus()}),lM(y,vp,OD(vp),ID(vp),z1+Ks.type),y.undoManager.add()}),k.set(Si)}}),y.on("ObjectResizeStart",Jo=>{const Ri=Jo.target;if(fM(Ri)&&!y.mode.isReadOnly()){const Si=yo.fromDom(Ri);Xe(y.dom.select(".mce-clonedresizable"),Ks=>{y.dom.addClass(Ks,"mce-"+Sw(y)+"-columns")}),!fp(Si)&&Eb(y)?Xt(Si):!WT(Si)&&Ew(y)&&Yt(Si),$c(Si)&&Oa(Jo.origin,z1)&&Yt(Si),re=Jo.width,pe=ww(y)?"":mA(y,Ri).getOr(""),Oe=Jo.height,Ue=kD(y,Ri).getOr("")}}),y.on("ObjectResized",Jo=>{const Ri=Jo.target;if(fM(Ri)){const Si=yo.fromDom(Ri),Ks=Jo.origin;pM(Ks)&&To(Si,Ks,Jo.width,Jo.height),P1(Si),iv(y,Si.dom,kA)}});const ps=()=>{k.on(Jo=>{Jo.on(),Jo.showBars()})},yn=()=>{k.on(Jo=>{Jo.off(),Jo.hideBars()})};return y.on("DisabledStateChange",Jo=>{Jo.state?yn():ps()}),y.on("SwitchMode",()=>{y.mode.isReadOnly()?yn():ps()}),y.on("dragstart dragend",Jo=>{Jo.type==="dragstart"?yn():ps()}),y.on("remove",()=>{Ro()}),{refresh:Jo=>{k.on(Ri=>Ri.refreshBars(yo.fromDom(Jo)))},hide:()=>{k.on(Jo=>Jo.hideBars())},show:()=>{k.on(Jo=>Jo.showBars())}}},va=y=>{Wz(y);const w=mM(y),k=_B(y,w),W=CB(y,w,k);return $I(y,W),hM(y,W),rM(y,W),{getSelectedCells:k.getSelectedCells,clearSelectedCells:k.clearSelectedCells}},j1=y=>({table:va(y)});var zI=()=>{e.add("dom",j1)};zI()})()),NIe}VXe();var BIe={},FIe={},VIe;function HXe(){return VIe||(VIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=(He,ft,jt)=>jt(He,ft.prototype)?!0:He.constructor?.name===ft.name,o=He=>{const ft=typeof He;return He===null?"null":ft==="object"&&Array.isArray(He)?"array":ft==="object"&&n(He,String,(jt,Tn)=>Tn.isPrototypeOf(jt))?"string":ft},i=He=>ft=>o(ft)===He,c=He=>ft=>typeof ft===He,d=He=>ft=>He===ft,p=i("string"),v=i("object"),S=i("array"),_=d(null),x=c("boolean"),P=He=>He==null,B=He=>!P(He),H=c("function"),U=(He,ft)=>{if(S(He)){for(let jt=0,Tn=He.length;jt<Tn;++jt)if(!ft(He[jt]))return!1;return!0}return!1},z=()=>{},Z=He=>()=>He,te=(He,ft)=>He===ft;class ce{tag;value;static singletonNone=new ce(!1);constructor(ft,jt){this.tag=ft,this.value=jt}static some(ft){return new ce(!0,ft)}static none(){return ce.singletonNone}fold(ft,jt){return this.tag?jt(this.value):ft()}isSome(){return this.tag}isNone(){return!this.tag}map(ft){return this.tag?ce.some(ft(this.value)):ce.none()}bind(ft){return this.tag?ft(this.value):ce.none()}exists(ft){return this.tag&&ft(this.value)}forall(ft){return!this.tag||ft(this.value)}filter(ft){return!this.tag||ft(this.value)?this:ce.none()}getOr(ft){return this.tag?this.value:ft}or(ft){return this.tag?this:ft}getOrThunk(ft){return this.tag?this.value:ft()}orThunk(ft){return this.tag?this:ft()}getOrDie(ft){if(this.tag)return this.value;throw new Error(ft??"Called getOrDie on None")}static from(ft){return B(ft)?ce.some(ft):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ft){this.tag&&ft(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const se=Array.prototype.indexOf,Se=Array.prototype.push,Ce=(He,ft)=>se.call(He,ft),Te=(He,ft)=>Ce(He,ft)>-1,V=(He,ft)=>{const jt=He.length,Tn=new Array(jt);for(let go=0;go<jt;go++){const jo=He[go];Tn[go]=ft(jo,go)}return Tn},ke=(He,ft)=>{for(let jt=0,Tn=He.length;jt<Tn;jt++){const go=He[jt];ft(go,jt)}},et=(He,ft,jt)=>(ke(He,(Tn,go)=>{jt=ft(jt,Tn,go)}),jt),$e=He=>{const ft=[];for(let jt=0,Tn=He.length;jt<Tn;++jt){if(!S(He[jt]))throw new Error("Arr.flatten item "+jt+" was not an array, input: "+He);Se.apply(ft,He[jt])}return ft},Re=(He,ft)=>$e(V(He,ft)),_e=(He,ft)=>{for(let jt=0;jt<He.length;jt++){const Tn=ft(He[jt],jt);if(Tn.isSome())return Tn}return ce.none()},ut=Object.keys,ct=Object.hasOwnProperty,St=(He,ft)=>{const jt=ut(He);for(let Tn=0,go=jt.length;Tn<go;Tn++){const jo=jt[Tn],pr=He[jo];ft(pr,jo)}},ee=He=>(ft,jt)=>{He[jt]=ft},ln=(He,ft,jt,Tn)=>{St(He,(go,jo)=>{(ft(go,jo)?jt:Tn)(go,jo)})},it=(He,ft)=>{const jt={};return ln(He,ft,ee(jt),z),jt},Ht=(He,ft)=>ct.call(He,ft),Ut=(He,ft)=>Ht(He,ft)&&He[ft]!==void 0&&He[ft]!==null,Xe=He=>{let ft=He;return{get:()=>ft,set:go=>{ft=go}}},tn=(He,ft,jt=te)=>He.exists(Tn=>jt(Tn,ft)),eo=He=>{const ft=[],jt=Tn=>{ft.push(Tn)};for(let Tn=0;Tn<He.length;Tn++)He[Tn].each(jt);return ft},In=(He,ft)=>He?ce.some(ft):ce.none(),mn=He=>{const ft=Xe(ce.none()),jt=()=>ft.get().each(He);return{clear:()=>{jt(),ft.set(ce.none())},isSet:()=>ft.get().isSome(),get:()=>ft.get(),set:js=>{jt(),ft.set(ce.some(js))}}},Dt=()=>{const He=mn(z);return{...He,on:jt=>He.get().each(jt)}},un=(He,ft)=>He.substring(ft),ye=(He,ft,jt)=>ft===""||He.length>=ft.length&&He.substr(jt,jt+ft.length)===ft,ms=(He,ft)=>Vo(He,ft)?un(He,ft.length):He,Vo=(He,ft)=>ye(He,ft,0),Eo=He=>ft=>ft.options.get(He),Oo=He=>{const ft=He.options.register;ft("link_assume_external_targets",{processor:jt=>{const Tn=p(jt)||x(jt);return Tn?jt===!0?{value:1,valid:Tn}:jt==="http"||jt==="https"?{value:jt,valid:Tn}:{value:0,valid:Tn}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),ft("link_context_toolbar",{processor:"boolean",default:!1}),ft("link_list",{processor:jt=>p(jt)||H(jt)||U(jt,v)}),ft("link_default_target",{processor:"string"}),ft("link_default_protocol",{processor:"string",default:"https"}),ft("link_target_list",{processor:jt=>x(jt)||U(jt,v),default:!0}),ft("link_rel_list",{processor:"object[]",default:[]}),ft("link_class_list",{processor:"object[]",default:[]}),ft("link_title",{processor:"boolean",default:!0}),ft("allow_unsafe_link_target",{processor:"boolean",default:!1}),ft("link_quicklink",{processor:"boolean",default:!1}),ft("link_attributes_postprocess",{processor:"function"})},Zn=Eo("link_assume_external_targets"),xt=Eo("link_context_toolbar"),cn=Eo("link_list"),vn=Eo("link_default_target"),qe=Eo("link_default_protocol"),pt=Eo("link_target_list"),Ft=Eo("link_rel_list"),Ve=Eo("link_class_list"),Ot=Eo("link_title"),Nt=Eo("allow_unsafe_link_target"),Gt=Eo("link_quicklink"),Tt=Eo("link_attributes_postprocess");var Et=tinymce.util.Tools.resolve("tinymce.util.URI"),Yn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),fo=tinymce.util.Tools.resolve("tinymce.util.Tools");const ro=He=>B(He)&&He.nodeName.toLowerCase()==="a",io=He=>ro(He)&&!!Wo(He),no=(He,ft)=>{if(He.collapsed)return[];{const jt=He.cloneContents(),Tn=jt.firstChild,go=new Yn(Tn,jt),jo=[];let pr=Tn;do ft(pr)&&jo.push(pr);while(pr=go.next());return jo}},_s=He=>/^\w+:/i.test(He),Wo=He=>He.getAttribute("data-mce-href")??He.getAttribute("href")??"",Bs=(He,ft)=>{const jt=["noopener"],Tn=He?He.split(/\s+/):[],go=Tr=>fo.trim(Tr.sort().join(" ")),jo=Tr=>(Tr=pr(Tr),Tr.length>0?Tr.concat(jt):jt),pr=Tr=>Tr.filter(we=>fo.inArray(jt,we)===-1),js=ft?jo(Tn):pr(Tn);return js.length>0?go(js):""},Pn=He=>He.replace(/\uFEFF/g,""),xe=(He,ft)=>(ft=ft||Je(He.selection.getRng())[0]||He.selection.getNode(),en(ft)?ce.from(He.dom.select("a[href]",ft)[0]):ce.from(He.dom.getParent(ft,"a[href]"))),je=(He,ft)=>xe(He,ft).isSome(),rt=(He,ft)=>{const jt=ft.fold(()=>He.getContent({format:"text"}),Tn=>Tn.innerText||Tn.textContent||"");return Pn(jt)},Je=He=>no(He,io),Pt=He=>fo.grep(He,io),kt=He=>Pt(He).length>0,wt=He=>Je(He).length>0,Zt=He=>{const ft=He.schema.getTextInlineElements(),jt=jo=>jo.nodeType===1&&!ro(jo)&&!Ht(ft,jo.nodeName.toLowerCase());if(xe(He).exists(jo=>jo.hasAttribute("data-mce-block")))return!1;const go=He.selection.getRng();return go.collapsed?!0:no(go,jt).length===0},en=He=>B(He)&&He.nodeName==="FIGURE"&&/\bimage\b/i.test(He.className),jn=He=>et(["title","rel","class","target"],(jt,Tn)=>(He[Tn].each(go=>{jt[Tn]=go.length>0?go:null}),jt),{href:He.href}),sn=(He,ft)=>(ft==="http"||ft==="https")&&!_s(He)?ft+"://"+He:He,Wt=(He,ft)=>{const jt={...ft};if(Ft(He).length===0&&!Nt(He)){const Tn=Bs(jt.rel,jt.target==="_blank");jt.rel=Tn||null}return ce.from(jt.target).isNone()&&pt(He)===!1&&(jt.target=vn(He)),jt.href=sn(jt.href,Zn(He)),jt},_o=(He,ft,jt,Tn)=>{jt.each(jo=>{Ht(ft,"innerText")?ft.innerText=jo:ft.textContent=jo}),He.dom.setAttribs(ft,Tn);const go=He.dom.createRng();go.setStartAfter(ft),go.setEndAfter(ft),He.selection.setRng(go)},$o=(He,ft,jt,Tn)=>{const go=He.dom;en(ft)?oi(go,ft,Tn):jt.fold(()=>{He.execCommand("mceInsertLink",!1,Tn);const jo=He.selection.getEnd(),pr=go.createRng();pr.setStartAfter(jo),pr.setEndAfter(jo),He.selection.setRng(pr)},jo=>{He.insertContent(go.createHTML("a",Tn,go.encode(jo)))})},Cs=(He,ft,jt)=>{const Tn=He.selection.getNode(),go=xe(He,Tn),jo=Wt(He,jn(jt)),pr=Tt(He);B(pr)&&pr(jo),He.undoManager.transact(()=>{jt.href===ft.href&&ft.attach(),go.fold(()=>{$o(He,Tn,jt.text,jo)},js=>{He.focus(),_o(He,js,jt.text,jo)})})},Hs=He=>{const ft=He.dom,jt=He.selection,Tn=jt.getBookmark(),go=jt.getRng().cloneRange(),jo=ft.getParent(go.startContainer,"a[href]",He.getBody()),pr=ft.getParent(go.endContainer,"a[href]",He.getBody());jo&&go.setStartBefore(jo),pr&&go.setEndAfter(pr),jt.setRng(go),He.execCommand("unlink"),jt.moveToBookmark(Tn)},or=He=>{He.undoManager.transact(()=>{const ft=He.selection.getNode();en(ft)?kl(He,ft):Hs(He),He.focus()})},No=He=>{const{class:ft,href:jt,rel:Tn,target:go,text:jo,title:pr}=He;return it({class:ft.getOrNull(),href:jt,rel:Tn.getOrNull(),target:go.getOrNull(),text:jo.getOrNull(),title:pr.getOrNull()},(js,Tr)=>_(js)===!1)},Xo=(He,ft)=>{const jt=He.options.get,Tn={allow_html_data_urls:jt("allow_html_data_urls"),allow_script_urls:jt("allow_script_urls"),allow_svg_data_urls:jt("allow_svg_data_urls")},go=ft.href;return{...ft,href:Et.isDomSafe(go,"a",Tn)?go:""}},es=(He,ft,jt)=>{const Tn=Xo(He,jt);He.hasPlugin("rtc",!0)?He.execCommand("createlink",!1,No(Tn)):Cs(He,ft,Tn)},Ma=He=>{He.hasPlugin("rtc",!0)?He.execCommand("unlink"):or(He)},kl=(He,ft)=>{const jt=He.dom.select("img",ft)[0];if(jt){const Tn=He.dom.getParents(jt,"a[href]",ft)[0];Tn&&(Tn.parentNode?.insertBefore(jt,Tn),He.dom.remove(Tn))}},oi=(He,ft,jt)=>{const Tn=He.select("img",ft)[0];if(Tn){const go=He.create("a",jt);Tn.parentNode?.insertBefore(go,Tn),go.appendChild(Tn)}},zo=He=>p(He.value)?He.value:"",il=He=>p(He.text)?He.text:p(He.title)?He.title:"",da=(He,ft)=>{const jt=[];return fo.each(He,Tn=>{const go=il(Tn);if(Tn.menu!==void 0){const jo=da(Tn.menu,ft);jt.push({text:go,items:jo})}else{const jo=ft(Tn);jt.push({text:go,value:jo})}}),jt},Qu=(He=zo)=>ft=>ce.from(ft).map(jt=>da(jt,He)),$r={sanitize:He=>Qu(zo)(He),sanitizeWith:Qu,createUi:(He,ft)=>jt=>({name:He,type:"listbox",label:ft,items:jt}),getValue:zo},Oa=He=>Ut(He,"items"),Id=(He,ft)=>_e(ft,jt=>Oa(jt)?Id(He,jt.items):In(jt.value===He,jt)),ed=(He,ft,jt,Tn)=>{const go=Tn[ft],jo=He.length>0;return go!==void 0?Id(go,jt).map(pr=>({url:{value:pr.value,meta:{text:jo?He:pr.text,attach:z}},text:jo?He:pr.text})):ce.none()},Xc=(He,ft)=>ft==="link"?He.link:ft==="anchor"?He.anchor:ce.none(),td={init:(He,ft)=>{const jt={text:He.text,title:He.title},Tn=Tr=>In(jt.title.length<=0,ce.from(Tr.meta?.title).getOr("")),go=Tr=>In(jt.text.length<=0,ce.from(Tr.meta?.text).getOr(Tr.value)),jo=Tr=>{const we=go(Tr.url),We=Tn(Tr.url);return we.isSome()||We.isSome()?ce.some({...we.map(mt=>({text:mt})).getOr({}),...We.map(mt=>({title:mt})).getOr({})}):ce.none()},pr=(Tr,we)=>{const We=Xc(ft,we).getOr([]);return ed(jt.text,we,We,Tr)};return{onChange:(Tr,we)=>{const We=we.name;return We==="url"?jo(Tr()):Te(["anchor","link"],We)?pr(Tr(),We):((We==="text"||We==="title")&&(jt[We]=Tr()[We]),ce.none())}}},getDelta:ed};var Rd=tinymce.util.Tools.resolve("tinymce.util.Delay");const wo=(He,ft,jt)=>{const Tn=He.selection.getRng();Rd.setEditorTimeout(He,()=>{He.windowManager.confirm(ft,go=>{He.selection.setRng(Tn),jt(go)})})},Zf=He=>{const ft=He.href;return ft.indexOf("@")>0&&ft.indexOf("/")===-1&&ft.indexOf("mailto:")===-1?ce.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Tn=>({...Tn,href:"mailto:"+ft})}):ce.none()},th=(He,ft)=>jt=>{const Tn=jt.href;return He===1&&!_s(Tn)||He===0&&/^\s*www(\.|\d\.)/i.test(Tn)?ce.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${ft}:// prefix?`,preprocess:jo=>({...jo,href:ft+"://"+Tn})}):ce.none()},Xr={preprocess:(He,ft)=>_e([Zf,th(Zn(He),qe(He))],jt=>jt(ft)).fold(()=>Promise.resolve(ft),jt=>new Promise(Tn=>{wo(He,jt.message,go=>{Tn(go?jt.preprocess(ft):ft)})}))},Pc={getAnchors:He=>{const ft=He.dom.select("a:not([href])"),jt=Re(ft,Tn=>{const go=Tn.name||Tn.id;return go?[{text:go,value:"#"+go}]:[]});return jt.length>0?ce.some([{text:"None",value:""}].concat(jt)):ce.none()}},Au={getClasses:He=>{const ft=Ve(He);return ft.length>0?$r.sanitize(ft):ce.none()}},nh=He=>{try{return ce.some(JSON.parse(He))}catch{return ce.none()}},Fi={getLinks:He=>{const ft=Tn=>He.convertURL(Tn.value||Tn.url||"","href"),jt=cn(He);return new Promise(Tn=>{p(jt)?fetch(jt).then(go=>go.ok?go.text().then(nh):Promise.reject()).then(Tn,()=>Tn(ce.none())):H(jt)?jt(go=>Tn(ce.some(go))):Tn(ce.from(jt))}).then(Tn=>Tn.bind($r.sanitizeWith(ft)).map(go=>go.length>0?[{text:"None",value:""}].concat(go):go))}},al={getRels:(He,ft)=>{const jt=Ft(He);if(jt.length>0){const Tn=tn(ft,"_blank"),go=Nt(He)===!1,jo=js=>Bs($r.getValue(js),Tn);return(go?$r.sanitizeWith(jo):$r.sanitize)(jt)}return ce.none()}},Vp=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Ac={getTargets:He=>{const ft=pt(He);return S(ft)?$r.sanitize(ft).orThunk(()=>ce.some(Vp)):ft===!1?ce.none():ce.some(Vp)}},Jc=(He,ft,jt)=>{const Tn=He.getAttrib(ft,jt);return Tn!==null&&Tn.length>0?ce.some(Tn):ce.none()},xu=(He,ft)=>{const jt=He.dom,go=Zt(He)?ce.some(rt(He.selection,ft)):ce.none(),jo=ft.bind(We=>ce.from(jt.getAttrib(We,"href"))),pr=ft.bind(We=>ce.from(jt.getAttrib(We,"target"))),js=ft.bind(We=>Jc(jt,We,"rel")),Tr=ft.bind(We=>Jc(jt,We,"class")),we=ft.bind(We=>Jc(jt,We,"title"));return{url:jo,text:go,title:we,target:pr,rel:js,linkClass:Tr}},na={collect:(He,ft)=>Fi.getLinks(He).then(jt=>{const Tn=xu(He,ft);return{anchor:Tn,catalogs:{targets:Ac.getTargets(He),rels:al.getRels(He,Tn.target),classes:Au.getClasses(He),anchor:Pc.getAnchors(He),link:jt},optNode:ft,flags:{titleEnabled:Ot(He)}}})},As=(He,ft)=>jt=>{const Tn=jt.getData();if(!Tn.url.value){Ma(He),jt.close();return}const go=js=>ce.from(Tn[js]).filter(Tr=>!tn(ft.anchor[js],Tr)),jo={href:Tn.url.value,text:go("text"),target:go("target"),rel:go("rel"),class:go("linkClass"),title:go("title")},pr={href:Tn.url.value,attach:Tn.url.meta!==void 0&&Tn.url.meta.attach?Tn.url.meta.attach:z};Xr.preprocess(He,jo).then(js=>{es(He,pr,js)}),jt.close()},Wi=He=>{const ft=xe(He);return na.collect(He,ft)},Dl=(He,ft)=>{const jt=He.anchor,Tn=jt.url.getOr("");return{url:{value:Tn,meta:{original:{value:Tn}}},text:jt.text.getOr(""),title:jt.title.getOr(""),anchor:Tn,link:Tn,rel:jt.rel.getOr(""),target:jt.target.or(ft).getOr(""),linkClass:jt.linkClass.getOr("")}},Br=(He,ft,jt)=>{const Tn=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],go=He.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),jo=He.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],pr=ce.from(vn(jt)),js=Dl(He,pr),Tr=He.catalogs,we=td.init(js,Tr);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:$e([Tn,go,jo,eo([Tr.anchor.map($r.createUi("anchor","Anchors")),Tr.rels.map($r.createUi("rel","Rel")),Tr.targets.map($r.createUi("target","Open link in...")),Tr.link.map($r.createUi("link","Link list")),Tr.classes.map($r.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:js,onChange:(mt,{name:Cn})=>{we.onChange(mt.getData,{name:Cn}).each(qo=>{mt.setData(qo)})},onSubmit:ft}},oh=He=>{Wi(He).then(jt=>{const Tn=As(He,jt);return Br(jt,Tn,He)}).then(jt=>{He.windowManager.open(jt)})},Yf=He=>{He.addCommand("mceLink",(ft,jt)=>{jt?.dialog===!0||!Gt(He)?oh(He):He.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},gi=He=>{He.addShortcut("Meta+K","",()=>{He.execCommand("mceLink")})};var mc=tinymce.util.Tools.resolve("tinymce.util.VK");const Nc=(He,ft)=>{document.body.appendChild(He),He.dispatchEvent(ft),document.body.removeChild(He)},of=He=>{const ft=document.createElement("a");ft.target="_blank",ft.href=He,ft.rel="noreferrer noopener";const jt=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(jt),Nc(ft,jt)},yo=He=>He.altKey===!0&&He.shiftKey===!1&&He.ctrlKey===!1&&He.metaKey===!1,Ou=(He,ft)=>{if(ft){const jt=Wo(ft);if(/^#/.test(jt)){const Tn=He.dom.select(`${jt},[name="${ms(jt,"#")}"]`);Tn.length&&He.selection.scrollIntoView(Tn[0],!0)}else of(ft.href)}},Ml=He=>{const ft=He.selection.getRng(),jt=ft.startContainer;return io(jt)&&ft.startContainer===ft.endContainer&&He.dom.select("img",jt).length===1},gc=(He,ft)=>{const jt=Pt(He.dom.getParents(ft));return In(jt.length===1,jt[0])},Pi=He=>{const ft=Je(He.selection.getRng());return In(ft.length>0,ft[0]).or(gc(He,He.selection.getNode()))},Am=He=>He.selection.isCollapsed()||Ml(He)?gc(He,He.selection.getStart()):Pi(He),zl=He=>{const ft=Dt(),jt=()=>ft.get().or(Am(He)),Tn=()=>jt().each(go=>Ou(He,go));return He.on("contextmenu",go=>{gc(He,go.target).each(ft.set)}),He.on("SelectionChange",()=>{ft.isSet()||Am(He).each(ft.set)}),He.on("click",go=>{ft.clear();const jo=Pt(He.dom.getParents(go.target));jo.length===1&&mc.metaKeyPressed(go)&&(go.preventDefault(),Ou(He,jo[0]))}),He.on("keydown",go=>{ft.clear(),!go.isDefaultPrevented()&&go.keyCode===13&&yo(go)&&jt().each(jo=>{go.preventDefault(),Ou(He,jo)})}),{gotoSelectedLink:Tn}},Qc=He=>()=>{He.execCommand("mceLink",!1,{dialog:!0})},Xf=(He,ft)=>(He.on("NodeChange",ft),()=>He.off("NodeChange",ft)),sf=He=>ft=>{const jt=()=>{ft.setActive(!He.mode.isReadOnly()&&je(He,He.selection.getNode())),ft.setEnabled(He.selection.isEditable())};return jt(),Xf(He,jt)},nd=He=>ft=>{const jt=()=>{ft.setEnabled(He.selection.isEditable())};return jt(),Xf(He,jt)},Jf=He=>ft=>{const jt=jo=>kt(jo)||wt(He.selection.getRng()),Tn=He.dom.getParents(He.selection.getStart()),go=jo=>{ft.setEnabled(jt(jo)&&He.selection.isEditable())};return go(Tn),Xf(He,jo=>go(jo.parents))},kd=(He,ft)=>{He.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Qc(He),onSetup:sf(He)}),He.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:ft.gotoSelectedLink,onSetup:Jf(He)}),He.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Ma(He),onSetup:Jf(He)})},Dd=(He,ft)=>{He.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:ft.gotoSelectedLink,onSetup:Jf(He)}),He.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Qc(He),onSetup:nd(He)}),He.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Ma(He),onSetup:Jf(He)})},vc=He=>{const ft="link unlink openlink",jt="link";He.ui.registry.addContextMenu("link",{update:Tn=>He.dom.isEditable(Tn)?kt(He.dom.getParents(Tn,"a"))?ft:jt:""})},po=(He,ft)=>{const jt=jo=>{jo.selection.collapse(!1)},Tn=jo=>{const pr=He.selection.getNode();return jo.setEnabled(je(He,pr)&&He.selection.isEditable()),z},go=jo=>{const pr=xe(He),js=Zt(He);if(pr.isNone()&&js){const Tr=rt(He.selection,pr);return In(Tr.length===0,jo)}else return ce.none()};He.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:sf(He)},label:"Link",predicate:jo=>xt(He)&&je(He,jo),initValue:()=>xe(He).fold(Z(""),Wo),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:jo=>{const pr=He.selection.getNode();return jo.setActive(je(He,pr)),sf(He)(jo)},onAction:jo=>{const pr=jo.getValue(),js=go(pr);es(He,{href:pr,attach:z},{href:pr,text:js,title:ce.none(),rel:ce.none(),target:ce.from(vn(He)),class:ce.none()}),jt(He),jo.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Tn,onAction:jo=>{Ma(He),jo.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Tn,onAction:jo=>{ft.gotoSelectedLink(),jo.hide()}}]})},Iu=He=>{const ft=zl(He);kd(He,ft),Dd(He,ft),vc(He),po(He,ft)};var Rh=()=>{e.add("link",He=>{Oo(He),Yf(He),Iu(He),gi(He)})};Rh()})()),FIe}var HIe;function $Xe(){return HIe||(HIe=1,HXe()),BIe}$Xe();var $Ie={},UIe={},zIe;function UXe(){return zIe||(zIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=Object.getPrototypeOf,o=(we,We,mt)=>mt(we,We.prototype)?!0:we.constructor?.name===We.name,i=we=>{const We=typeof we;return we===null?"null":We==="object"&&Array.isArray(we)?"array":We==="object"&&o(we,String,(mt,Cn)=>Cn.isPrototypeOf(mt))?"string":We},c=we=>We=>i(We)===we,d=we=>We=>typeof We===we,p=we=>We=>we===We,v=(we,We)=>_(we)&&o(we,We,(mt,Cn)=>n(mt)===Cn),S=c("string"),_=c("object"),x=we=>v(we,Object),P=c("array"),B=p(null),H=d("boolean"),U=we=>we==null,z=we=>!U(we),Z=d("function"),te=d("number"),ce=(we,We)=>{if(P(we)){for(let mt=0,Cn=we.length;mt<Cn;++mt)if(!We(we[mt]))return!1;return!0}return!1},se=()=>{};class Se{tag;value;static singletonNone=new Se(!1);constructor(We,mt){this.tag=We,this.value=mt}static some(We){return new Se(!0,We)}static none(){return Se.singletonNone}fold(We,mt){return this.tag?mt(this.value):We()}isSome(){return this.tag}isNone(){return!this.tag}map(We){return this.tag?Se.some(We(this.value)):Se.none()}bind(We){return this.tag?We(this.value):Se.none()}exists(We){return this.tag&&We(this.value)}forall(We){return!this.tag||We(this.value)}filter(We){return!this.tag||We(this.value)?this:Se.none()}getOr(We){return this.tag?this.value:We}or(We){return this.tag?this:We}getOrThunk(We){return this.tag?this.value:We()}orThunk(We){return this.tag?this:We()}getOrDie(We){if(this.tag)return this.value;throw new Error(We??"Called getOrDie on None")}static from(We){return z(We)?Se.some(We):Se.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(We){this.tag&&We(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Ce=Array.prototype.push,Te=we=>{const We=[];for(let mt=0,Cn=we.length;mt<Cn;++mt){if(!P(we[mt]))throw new Error("Arr.flatten item "+mt+" was not an array, input: "+we);Ce.apply(We,we[mt])}return We},V=(we,We)=>We>=0&&We<we.length?Se.some(we[We]):Se.none(),ke=we=>V(we,0),et=(we,We)=>{for(let mt=0;mt<we.length;mt++){const Cn=We(we[mt],mt);if(Cn.isSome())return Cn}return Se.none()},$e=Object.keys,Re=Object.hasOwnProperty,_e=(we,We)=>{const mt=$e(we);for(let Cn=0,qo=mt.length;Cn<qo;Cn++){const Ws=mt[Cn],L=we[Ws];We(L,Ws)}},ut=we=>(We,mt)=>{we[mt]=We},ct=(we,We,mt,Cn)=>{_e(we,(qo,Ws)=>{(We(qo,Ws)?mt:Cn)(qo,Ws)})},St=(we,We)=>{const mt={};return ct(we,We,ut(mt),se),mt},ee=(we,We)=>Re.call(we,We),ln=(we,We)=>ee(we,We)&&we[We]!==void 0&&we[We]!==null,Ut=(we=>(...We)=>{if(We.length===0)throw new Error("Can't merge zero objects");const mt={};for(let Cn=0;Cn<We.length;Cn++){const qo=We[Cn];for(const Ws in qo)ee(qo,Ws)&&(mt[Ws]=we(mt[Ws],qo[Ws]))}return mt})((we,We)=>x(we)&&x(We)?Ut(we,We):We),Xe=we=>we.length>0,tn=(we,We)=>{const Cn=(We||document).createElement("div");if(Cn.innerHTML=we,!Cn.hasChildNodes()||Cn.childNodes.length>1){const qo="HTML does not have a single root node";throw console.error(qo,we),new Error(qo)}return mn(Cn.childNodes[0])},eo=(we,We)=>{const Cn=(We||document).createElement(we);return mn(Cn)},In=(we,We)=>{const Cn=(We||document).createTextNode(we);return mn(Cn)},mn=we=>{if(we==null)throw new Error("Node cannot be null or undefined");return{dom:we}},un={fromHtml:tn,fromTag:eo,fromText:In,fromDom:mn,fromPoint:(we,We,mt)=>Se.from(we.dom.elementFromPoint(We,mt)).map(mn)},ye=(we,We,mt)=>{if(S(mt)||H(mt)||te(mt))we.setAttribute(We,mt+"");else throw console.error("Invalid call to Attribute.set. Key ",We,":: Value ",mt,":: Element ",we),new Error("Attribute value was not simple")},ms=(we,We,mt)=>{ye(we.dom,We,mt)},Vo=(we,We)=>{we.dom.removeAttribute(We)};var Eo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Oo=tinymce.util.Tools.resolve("tinymce.util.URI");const Zn=we=>We=>We.options.get(we),xt=we=>{const We=we.options.register;We("image_dimensions",{processor:"boolean",default:!0}),We("image_advtab",{processor:"boolean",default:!1}),We("image_uploadtab",{processor:"boolean",default:!0}),We("image_prepend_url",{processor:"string",default:""}),We("image_class_list",{processor:"object[]"}),We("image_description",{processor:"boolean",default:!0}),We("image_title",{processor:"boolean",default:!1}),We("image_caption",{processor:"boolean",default:!1}),We("image_list",{processor:mt=>{const Cn=mt===!1||S(mt)||ce(mt,_)||Z(mt);return Cn?{value:mt,valid:Cn}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},cn=Zn("image_dimensions"),vn=Zn("image_advtab"),qe=Zn("image_uploadtab"),pt=Zn("image_prepend_url"),Ft=Zn("image_class_list"),Ve=Zn("image_description"),Ot=Zn("image_title"),Nt=Zn("image_caption"),Gt=Zn("image_list"),Tt=Zn("a11y_advanced_options"),Et=Zn("automatic_uploads"),Yn=we=>Xe(we.options.get("images_upload_url")),fo=we=>z(we.options.get("images_upload_handler")),ro=(we,We)=>Math.max(parseInt(we,10),parseInt(We,10)),io=we=>new Promise(We=>{const mt=document.createElement("img"),Cn=Ws=>{mt.parentNode&&mt.parentNode.removeChild(mt),We(Ws)};mt.addEventListener("load",()=>{const Ws=ro(mt.width,mt.clientWidth),L=ro(mt.height,mt.clientHeight),X={width:Ws,height:L};Cn(Promise.resolve(X))}),mt.addEventListener("error",()=>{Cn(Promise.reject(`Failed to get image dimensions for: ${we}`))});const qo=mt.style;qo.visibility="hidden",qo.position="fixed",qo.bottom=qo.left="0px",qo.width=qo.height="auto",document.body.appendChild(mt),mt.src=we}),no=we=>(we&&(we=we.replace(/px$/,"")),we),_s=we=>(we.length>0&&/^[0-9]+$/.test(we)&&(we+="px"),we),Wo=we=>{if(we.margin){const We=String(we.margin).split(" ");switch(We.length){case 1:we["margin-top"]=we["margin-top"]||We[0],we["margin-right"]=we["margin-right"]||We[0],we["margin-bottom"]=we["margin-bottom"]||We[0],we["margin-left"]=we["margin-left"]||We[0];break;case 2:we["margin-top"]=we["margin-top"]||We[0],we["margin-right"]=we["margin-right"]||We[1],we["margin-bottom"]=we["margin-bottom"]||We[0],we["margin-left"]=we["margin-left"]||We[1];break;case 3:we["margin-top"]=we["margin-top"]||We[0],we["margin-right"]=we["margin-right"]||We[1],we["margin-bottom"]=we["margin-bottom"]||We[2],we["margin-left"]=we["margin-left"]||We[1];break;case 4:we["margin-top"]=we["margin-top"]||We[0],we["margin-right"]=we["margin-right"]||We[1],we["margin-bottom"]=we["margin-bottom"]||We[2],we["margin-left"]=we["margin-left"]||We[3]}delete we.margin}return we},Bs=(we,We)=>{const mt=Gt(we);S(mt)?fetch(mt).then(Cn=>{Cn.ok&&Cn.json().then(We)}):Z(mt)?mt(We):We(mt)},Pn=(we,We,mt)=>{const Cn=()=>{mt.onload=mt.onerror=null,we.selection&&(we.selection.select(mt),we.nodeChanged())};mt.onload=()=>{!We.width&&!We.height&&cn(we)&&we.dom.setAttribs(mt,{width:String(mt.clientWidth),height:String(mt.clientHeight)}),Cn()},mt.onerror=Cn},xe=we=>new Promise((We,mt)=>{const Cn=new FileReader;Cn.onload=()=>{We(Cn.result)},Cn.onerror=()=>{mt(Cn.error?.message)},Cn.readAsDataURL(we)}),je=we=>we.nodeName==="IMG"&&(we.hasAttribute("data-mce-object")||we.hasAttribute("data-mce-placeholder")),rt=(we,We)=>{const mt=we.options.get;return Oo.isDomSafe(We,"img",{allow_html_data_urls:mt("allow_html_data_urls"),allow_script_urls:mt("allow_script_urls"),allow_svg_data_urls:mt("allow_svg_data_urls")})},Je=Eo.DOM,Pt=we=>we.style.marginLeft&&we.style.marginRight&&we.style.marginLeft===we.style.marginRight?no(we.style.marginLeft):"",kt=we=>we.style.marginTop&&we.style.marginBottom&&we.style.marginTop===we.style.marginBottom?no(we.style.marginTop):"",wt=we=>we.style.borderWidth?no(we.style.borderWidth):"",Zt=(we,We)=>we.hasAttribute(We)?we.getAttribute(We)??"":"",en=we=>we.parentNode!==null&&we.parentNode.nodeName==="FIGURE",jn=(we,We,mt)=>{mt===""||mt===null?we.removeAttribute(We):we.setAttribute(We,mt)},sn=we=>{const We=Je.create("figure",{class:"image"});Je.insertAfter(We,we),We.appendChild(we),We.appendChild(Je.create("figcaption",{contentEditable:"true"},"Caption")),We.contentEditable="false"},Wt=we=>{const We=we.parentNode;z(We)&&(Je.insertAfter(we,We),Je.remove(We))},_o=we=>{en(we)?Wt(we):sn(we)},$o=(we,We)=>{const mt=we.getAttribute("style"),Cn=We(mt!==null?mt:"");Cn.length>0?(we.setAttribute("style",Cn),we.setAttribute("data-mce-style",Cn)):we.removeAttribute("style")},Cs=(we,We)=>(mt,Cn,qo)=>{const Ws=mt.style;Ws[Cn]?(Ws[Cn]=_s(qo),$o(mt,We)):jn(mt,Cn,qo)},Hs=(we,We)=>we.style[We]?no(we.style[We]):Zt(we,We),or=(we,We)=>{const mt=_s(We);we.style.marginLeft=mt,we.style.marginRight=mt},No=(we,We)=>{const mt=_s(We);we.style.marginTop=mt,we.style.marginBottom=mt},Xo=(we,We)=>{const mt=_s(We);we.style.borderWidth=mt},es=(we,We)=>{we.style.borderStyle=We},Ma=we=>we.style.borderStyle??"",kl=we=>z(we)&&we.nodeName==="FIGURE",oi=we=>we.nodeName==="IMG",zo=we=>{const We=Je.getAttrib(we,"alt"),mt=Je.getAttrib(we,"role");return we.hasAttribute("alt")&&We.length===0||mt==="presentation"||mt==="none"},il=we=>zo(we)?"":Zt(we,"alt"),da=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Qu=(we,We)=>{const mt=document.createElement("img");return jn(mt,"style",We.style),(Pt(mt)||We.hspace!=="")&&or(mt,We.hspace),(kt(mt)||We.vspace!=="")&&No(mt,We.vspace),(wt(mt)||We.border!=="")&&Xo(mt,We.border),(Ma(mt)||We.borderStyle!=="")&&es(mt,We.borderStyle),we(mt.getAttribute("style")??"")},Ea=(we,We)=>{const mt=document.createElement("img");if(Xc(we,{...We,caption:!1},mt),Oa(mt,We.alt,We.isDecorative),We.caption){const Cn=Je.create("figure",{class:"image"});return Cn.appendChild(mt),Cn.appendChild(Je.create("figcaption",{contentEditable:"true"},"Caption")),Cn.contentEditable="false",Cn}else return mt},fc=(we,We)=>({src:Zt(We,"src"),alt:il(We),title:Zt(We,"title"),width:Hs(We,"width"),height:Hs(We,"height"),class:Zt(We,"class"),style:we(Zt(We,"style")),caption:en(We),hspace:Pt(We),vspace:kt(We),border:wt(We),borderStyle:Ma(We),isDecorative:zo(We)}),$r=(we,We,mt,Cn,qo)=>{mt[Cn]!==We[Cn]&&qo(we,Cn,String(mt[Cn]))},Oa=(we,We,mt)=>{if(mt){Je.setAttrib(we,"role","presentation");const Cn=un.fromDom(we);ms(Cn,"alt","")}else{if(B(We)){const Cn=un.fromDom(we);Vo(Cn,"alt")}else{const Cn=un.fromDom(we);ms(Cn,"alt",We)}Je.getAttrib(we,"role")==="presentation"&&Je.setAttrib(we,"role","")}},Id=(we,We,mt)=>{(mt.alt!==We.alt||mt.isDecorative!==We.isDecorative)&&Oa(we,mt.alt,mt.isDecorative)},ed=(we,We)=>(mt,Cn,qo)=>{we(mt,qo),$o(mt,We)},Xc=(we,We,mt)=>{const Cn=fc(we,mt);$r(mt,Cn,We,"caption",(qo,Ws,L)=>_o(qo)),$r(mt,Cn,We,"src",jn),$r(mt,Cn,We,"title",jn),$r(mt,Cn,We,"width",Cs("width",we)),$r(mt,Cn,We,"height",Cs("height",we)),$r(mt,Cn,We,"class",jn),$r(mt,Cn,We,"style",ed((qo,Ws)=>jn(qo,"style",Ws),we)),$r(mt,Cn,We,"hspace",ed(or,we)),$r(mt,Cn,We,"vspace",ed(No,we)),$r(mt,Cn,We,"border",ed(Xo,we)),$r(mt,Cn,We,"borderStyle",ed(es,we)),Id(mt,Cn,We)},pl=(we,We)=>{const mt=we.dom.styles.parse(We),Cn=Wo(mt),qo=we.dom.styles.parse(we.dom.styles.serialize(Cn));return we.dom.styles.serialize(qo)},td=we=>{const We=we.selection.getNode(),mt=we.dom.getParent(We,"figure.image");return mt?we.dom.select("img",mt)[0]:We&&(We.nodeName!=="IMG"||je(We))?null:We},Rd=(we,We)=>{const mt=we.dom,Cn=St(we.schema.getTextBlockElements(),(Ws,L)=>!we.schema.isValidChild(L,"figure")),qo=mt.getParent(We.parentNode,Ws=>ln(Cn,Ws.nodeName),we.getBody());return qo?mt.split(qo,We)??We:We},wo=we=>{const We=td(we);return We?fc(mt=>pl(we,mt),We):da()},Zf=(we,We)=>{const mt=Ea(qo=>pl(we,qo),We);we.dom.setAttrib(mt,"data-mce-id","__mcenew"),we.focus(),we.insertContent(mt.outerHTML);const Cn=we.dom.select('*[data-mce-id="__mcenew"]')[0];if(we.dom.setAttrib(Cn,"data-mce-id",null),kl(Cn)){const qo=Rd(we,Cn);we.selection.select(qo)}else we.selection.select(Cn)},th=(we,We)=>{we.dom.setAttrib(We,"src",We.getAttribute("src"))},xh=(we,We)=>{if(We){const mt=we.dom.is(We.parentNode,"figure.image")?We.parentNode:We;we.dom.remove(mt),we.focus(),we.nodeChanged(),we.dom.isEmpty(we.getBody())&&(we.setContent(""),we.selection.setCursorLocation())}},Xr=(we,We)=>{const mt=td(we);if(mt)if(Xc(Cn=>pl(we,Cn),We,mt),th(we,mt),kl(mt.parentNode)){we.dom.setStyle(mt,"float","");const Cn=mt.parentNode;Rd(we,Cn),we.selection.select(mt.parentNode)}else we.selection.select(mt),Pn(we,We,mt)},Oh=(we,We)=>{const mt=We.src;return{...We,src:rt(we,mt)?mt:""}},Pc=(we,We)=>{const mt=td(we);if(mt){const qo={...fc(L=>pl(we,L),mt),...We},Ws=Oh(we,qo);qo.src?Xr(we,Ws):xh(we,mt)}else We.src&&Zf(we,{...da(),...We})};var Ar=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Au=tinymce.util.Tools.resolve("tinymce.util.Tools");const nh=we=>S(we.value)?we.value:"",Tc=we=>S(we.text)?we.text:S(we.title)?we.title:"",Fi=(we,We)=>{const mt=[];return Au.each(we,Cn=>{const qo=Tc(Cn);if(Cn.menu!==void 0){const Ws=Fi(Cn.menu,We);mt.push({text:qo,items:Ws})}else{const Ws=We(Cn);mt.push({text:qo,value:Ws})}}),mt},pc=(we=nh)=>We=>We?Se.from(We).map(mt=>Fi(mt,we)):Se.none(),al=we=>pc(nh)(we),Vp=we=>ee(we,"items"),Tm=(we,We)=>et(we,mt=>Vp(mt)?Tm(mt.items,We):mt.value===We?Se.some(mt):Se.none()),Jc={sanitizer:pc,sanitize:al,findEntry:(we,We)=>we.bind(mt=>Tm(mt,We))},Ih={makeTab:we=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},na=we=>{const We=Jc.sanitizer(Hn=>we.convertURL(Hn.value||Hn.url||"","src")),mt=new Promise(Hn=>{Bs(we,co=>{Hn(We(co).map(Rn=>Te([[{text:"None",value:""}],Rn])))})}),Cn=Jc.sanitize(Ft(we)),qo=vn(we),Ws=qe(we),L=Yn(we),X=fo(we),de=wo(we),ge=Ve(we),Ie=Ot(we),Be=cn(we),Ke=Nt(we),Vt=Tt(we),It=Et(we),rn=Se.some(pt(we)).filter(Hn=>S(Hn)&&Hn.length>0);return mt.then(Hn=>({image:de,imageList:Hn,classList:Cn,hasAdvTab:qo,hasUploadTab:Ws,hasUploadUrl:L,hasUploadHandler:X,hasDescription:ge,hasImageTitle:Ie,hasDimensions:Be,hasImageCaption:Ke,prependURL:rn,hasAccessibilityOptions:Vt,automaticUploads:It}))},As=we=>{const We={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},mt=we.imageList.map(Ie=>({name:"images",type:"listbox",label:"Image list",items:Ie})),Cn={name:"alt",type:"input",label:"Alternative description",enabled:!(we.hasAccessibilityOptions&&we.image.isDecorative)},qo={name:"title",type:"input",label:"Image title"},Ws={name:"dimensions",type:"sizeinput"},L={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},X=we.classList.map(Ie=>({name:"classes",type:"listbox",label:"Class",items:Ie})),de={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},ge=Ie=>Ie?{type:"grid",columns:2}:{type:"panel"};return Te([[We],mt.toArray(),we.hasAccessibilityOptions&&we.hasDescription?[L]:[],we.hasDescription?[Cn]:[],we.hasImageTitle?[qo]:[],we.hasDimensions?[Ws]:[],[{...ge(we.classList.isSome()&&we.hasImageCaption),items:Te([X.toArray(),we.hasImageCaption?[de]:[]])}]])},Dl={makeTab:we=>({title:"General",name:"general",items:As(we)}),makeItems:As},oh={makeTab:we=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},Yf=we=>({prevImage:Jc.findEntry(we.imageList,we.image.src),prevAlt:we.image.alt,open:!0}),gi=we=>({src:{value:we.src,meta:{}},images:we.src,alt:we.alt,title:we.title,dimensions:{width:we.width,height:we.height},classes:we.class,caption:we.caption,style:we.style,vspace:we.vspace,border:we.border,hspace:we.hspace,borderstyle:we.borderStyle,fileinput:[],isDecorative:we.isDecorative}),mc=(we,We)=>({src:we.src.value,alt:(we.alt===null||we.alt.length===0)&&We?null:we.alt,title:we.title,width:we.dimensions.width,height:we.dimensions.height,class:we.classes,style:we.style,caption:we.caption,hspace:we.hspace,vspace:we.vspace,border:we.border,borderStyle:we.borderstyle,isDecorative:we.isDecorative}),Nc=(we,We)=>/^(?:[a-zA-Z]+:)?\/\//.test(We)?Se.none():we.prependURL.bind(mt=>We.substring(0,mt.length)!==mt?Se.some(mt+We):Se.none()),of=(we,We)=>{const mt=We.getData();Nc(we,mt.src.value).each(Cn=>{We.setData({src:{value:Cn,meta:mt.src.meta}})})},yo=(we,We,mt)=>{we.hasDescription&&S(mt.alt)&&(We.alt=mt.alt),we.hasAccessibilityOptions&&(We.isDecorative=mt.isDecorative||We.isDecorative||!1),we.hasImageTitle&&S(mt.title)&&(We.title=mt.title),we.hasDimensions&&(S(mt.width)&&(We.dimensions.width=mt.width),S(mt.height)&&(We.dimensions.height=mt.height)),S(mt.class)&&Jc.findEntry(we.classList,mt.class).each(Cn=>{We.classes=Cn.value}),we.hasImageCaption&&H(mt.caption)&&(We.caption=mt.caption),we.hasAdvTab&&(S(mt.style)&&(We.style=mt.style),S(mt.vspace)&&(We.vspace=mt.vspace),S(mt.border)&&(We.border=mt.border),S(mt.hspace)&&(We.hspace=mt.hspace),S(mt.borderstyle)&&(We.borderstyle=mt.borderstyle))},Ou=(we,We)=>{const mt=We.getData(),Cn=mt.src.meta;if(Cn!==void 0){const qo=Ut({},mt);yo(we,qo,Cn),We.setData(qo)}},Ml=(we,We,mt,Cn)=>{const qo=Cn.getData(),Ws=qo.src.value,L=qo.src.meta||{};!L.width&&!L.height&&We.hasDimensions&&(Xe(Ws)?we.imageSize(Ws).then(X=>{mt.open&&Cn.setData({dimensions:X})}).catch(X=>console.error(X)):Cn.setData({dimensions:{width:"",height:""}}))},gc=(we,We,mt)=>{const Cn=mt.getData(),qo=Jc.findEntry(we.imageList,Cn.src.value);We.prevImage=qo,mt.setData({images:qo.map(Ws=>Ws.value).getOr("")})},Pi=(we,We,mt,Cn)=>{of(We,Cn),Ou(We,Cn),Ml(we,We,mt,Cn),gc(We,mt,Cn)},Am=(we,We,mt,Cn)=>{const qo=Cn.getData(),Ws=Jc.findEntry(We.imageList,qo.images);Ws.each(L=>{qo.alt===""||mt.prevImage.map(de=>de.text===qo.alt).getOr(!1)?L.value===""?Cn.setData({src:L,alt:mt.prevAlt}):Cn.setData({src:L,alt:L.text}):Cn.setData({src:L})}),mt.prevImage=Ws,Pi(we,We,mt,Cn)},zl=(we,We,mt,Cn)=>{const qo=Cn.getData();Cn.block("Uploading image"),ke(qo.fileinput).fold(()=>{Cn.unblock()},Ws=>{const L=URL.createObjectURL(Ws),X=()=>{Cn.unblock(),URL.revokeObjectURL(L)},de=ge=>{Cn.setData({src:{value:ge,meta:{}}}),Cn.showTab("general"),Pi(we,We,mt,Cn),Cn.focus("src")};xe(Ws).then(ge=>{const Ie=we.createBlobCache(Ws,L,ge);We.automaticUploads?we.uploadImage(Ie).then(Be=>{de(Be.url),X()}).catch(Be=>{X(),we.alertErr(Be,()=>{Cn.focus("fileinput")})}):(we.addToBlobCache(Ie),de(Ie.blobUri()),Cn.unblock())})})},Qc=(we,We,mt)=>(Cn,qo)=>{qo.name==="src"?Pi(we,We,mt,Cn):qo.name==="images"?Am(we,We,mt,Cn):qo.name==="alt"?mt.prevAlt=Cn.getData().alt:qo.name==="fileinput"?zl(we,We,mt,Cn):qo.name==="isDecorative"&&Cn.setEnabled("alt",!Cn.getData().isDecorative)},Xf=we=>()=>{we.open=!1},sf=we=>we.hasAdvTab||we.hasUploadUrl||we.hasUploadHandler?{type:"tabpanel",tabs:Te([[Dl.makeTab(we)],we.hasAdvTab?[Ih.makeTab(we)]:[],we.hasUploadTab&&(we.hasUploadUrl||we.hasUploadHandler)?[oh.makeTab(we)]:[]])}:{type:"panel",items:Dl.makeItems(we)},nd=(we,We,mt)=>Cn=>{const qo=Ut(gi(We.image),Cn.getData()),Ws={...qo,style:Qu(mt.normalizeCss,mc(qo,!1))};we.execCommand("mceUpdateImage",!1,mc(Ws,We.hasAccessibilityOptions)),we.editorUpload.uploadImagesAuto(),Cn.close()},Jf=we=>We=>rt(we,We)?io(we.documentBaseURI.toAbsolute(We)).then(mt=>({width:String(mt.width),height:String(mt.height)})):Promise.resolve({width:"",height:""}),kd=we=>(We,mt,Cn)=>we.editorUpload.blobCache.create({blob:We,blobUri:mt,name:We.name?.replace(/\.[^\.]+$/,""),filename:We.name,base64:Cn.split(",")[1]}),Dd=we=>We=>{we.editorUpload.blobCache.add(We)},vc=we=>(We,mt)=>{we.windowManager.alert(We,mt)},po=we=>We=>pl(we,We),Iu=we=>We=>we.dom.parseStyle(We),Rh=we=>(We,mt)=>we.dom.serializeStyle(We,mt),He=we=>We=>Ar(we).upload([We],!1).then(mt=>mt.length===0?Promise.reject("Failed to upload image"):mt[0].status===!1?Promise.reject(mt[0].error?.message):mt[0]),ft=we=>{const We={imageSize:Jf(we),addToBlobCache:Dd(we),createBlobCache:kd(we),alertErr:vc(we),normalizeCss:po(we),parseStyle:Iu(we),serializeStyle:Rh(we),uploadImage:He(we)};return{open:()=>{na(we).then(Cn=>{const qo=Yf(Cn);return{title:"Insert/Edit Image",size:"normal",body:sf(Cn),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:gi(Cn.image),onSubmit:nd(we,Cn,We),onChange:Qc(We,Cn,qo),onClose:Xf(qo)}}).then(we.windowManager.open)}}},jt=we=>{we.addCommand("mceImage",ft(we).open),we.addCommand("mceUpdateImage",(We,mt)=>{we.undoManager.transact(()=>Pc(we,mt))})},Tn=we=>{const We=we.attr("class");return z(We)&&/\bimage\b/.test(We)},go=we=>We=>{let mt=We.length;const Cn=qo=>{qo.attr("contenteditable",we?"true":null)};for(;mt--;){const qo=We[mt];Tn(qo)&&(qo.attr("contenteditable",we?"false":null),Au.each(qo.getAll("figcaption"),Cn))}},jo=we=>{we.on("PreInit",()=>{we.parser.addNodeFilter("figure",go(!0)),we.serializer.addNodeFilter("figure",go(!1))})},pr=we=>We=>{const mt=()=>{We.setEnabled(we.selection.isEditable())};return we.on("NodeChange",mt),mt(),()=>{we.off("NodeChange",mt)}},js=we=>{we.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ft(we).open,onSetup:We=>{We.setActive(z(td(we)));const mt=we.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",We.setActive).unbind,Cn=pr(we)(We);return()=>{mt(),Cn()}}}),we.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ft(we).open,onSetup:pr(we)}),we.ui.registry.addContextMenu("image",{update:We=>we.selection.isEditable()&&(kl(We)||oi(We)&&!je(We))?["image"]:[]})};var Tr=()=>{e.add("image",we=>{xt(we),jo(we),js(we),jt(we)})};Tr()})()),UIe}var jIe;function zXe(){return jIe||(jIe=1,UXe()),$Ie}zXe();var WIe={},GIe={},qIe;function jXe(){return qIe||(qIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=(v,S)=>{v.focus(),v.undoManager.transact(()=>{v.setContent(S)}),v.selection.setCursorLocation(),v.nodeChanged()},o=v=>v.getContent({source_view:!0}),i=v=>{const S=o(v);v.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:S},onSubmit:_=>{n(v,_.getData().code),_.close()}})},c=v=>{v.addCommand("mceCodeEditor",()=>{i(v)})},d=v=>{const S=()=>v.execCommand("mceCodeEditor");v.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:S}),v.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:S})};var p=()=>{e.add("code",v=>(c(v),d(v),{}))};p()})()),GIe}var KIe;function WXe(){return KIe||(KIe=1,jXe()),WIe}WXe();var ZIe={},YIe={},XIe;function GXe(){return XIe||(XIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=(J,ae,De)=>De(J,ae.prototype)?!0:J.constructor?.name===ae.name,o=J=>{const ae=typeof J;return J===null?"null":ae==="object"&&Array.isArray(J)?"array":ae==="object"&&n(J,String,(De,Ye)=>Ye.isPrototypeOf(De))?"string":ae},i=J=>ae=>o(ae)===J,c=J=>ae=>typeof ae===J,d=J=>ae=>J===ae,p=i("string"),v=i("array"),S=c("boolean"),_=d(void 0),x=J=>J==null,P=J=>!x(J),B=c("function"),H=c("number"),U=()=>{},z=(J,ae)=>De=>J(ae(De)),Z=J=>()=>J,te=J=>J,ce=(J,ae)=>J===ae;function se(J,...ae){return(...De)=>{const Ye=ae.concat(De);return J.apply(null,Ye)}}const Se=J=>{J()},Ce=Z(!1),Te=Z(!0);class V{tag;value;static singletonNone=new V(!1);constructor(ae,De){this.tag=ae,this.value=De}static some(ae){return new V(!0,ae)}static none(){return V.singletonNone}fold(ae,De){return this.tag?De(this.value):ae()}isSome(){return this.tag}isNone(){return!this.tag}map(ae){return this.tag?V.some(ae(this.value)):V.none()}bind(ae){return this.tag?ae(this.value):V.none()}exists(ae){return this.tag&&ae(this.value)}forall(ae){return!this.tag||ae(this.value)}filter(ae){return!this.tag||ae(this.value)?this:V.none()}getOr(ae){return this.tag?this.value:ae}or(ae){return this.tag?this:ae}getOrThunk(ae){return this.tag?this.value:ae()}orThunk(ae){return this.tag?this:ae()}getOrDie(ae){if(this.tag)return this.value;throw new Error(ae??"Called getOrDie on None")}static from(ae){return P(ae)?V.some(ae):V.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ae){this.tag&&ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ke=Array.prototype.indexOf,et=Array.prototype.push,$e=(J,ae)=>ke.call(J,ae),Re=(J,ae)=>$e(J,ae)>-1,_e=(J,ae)=>{for(let De=0,Ye=J.length;De<Ye;De++){const At=J[De];if(ae(At,De))return!0}return!1},ut=(J,ae)=>{const De=[];for(let Ye=0;Ye<J;Ye++)De.push(ae(Ye));return De},ct=(J,ae)=>{const De=J.length,Ye=new Array(De);for(let At=0;At<De;At++){const Sn=J[At];Ye[At]=ae(Sn,At)}return Ye},St=(J,ae)=>{for(let De=0,Ye=J.length;De<Ye;De++){const At=J[De];ae(At,De)}},ee=(J,ae)=>{for(let De=J.length-1;De>=0;De--){const Ye=J[De];ae(Ye,De)}},ln=(J,ae)=>{const De=[],Ye=[];for(let At=0,Sn=J.length;At<Sn;At++){const bo=J[At];(ae(bo,At)?De:Ye).push(bo)}return{pass:De,fail:Ye}},it=(J,ae)=>{const De=[];for(let Ye=0,At=J.length;Ye<At;Ye++){const Sn=J[Ye];ae(Sn,Ye)&&De.push(Sn)}return De},Ht=(J,ae,De)=>(ee(J,(Ye,At)=>{De=ae(De,Ye,At)}),De),Ut=(J,ae,De)=>(St(J,(Ye,At)=>{De=ae(De,Ye,At)}),De),Xe=(J,ae,De)=>{for(let Ye=0,At=J.length;Ye<At;Ye++){const Sn=J[Ye];if(ae(Sn,Ye))return V.some(Sn);if(De(Sn,Ye))break}return V.none()},tn=(J,ae)=>Xe(J,ae,Ce),eo=J=>{const ae=[];for(let De=0,Ye=J.length;De<Ye;++De){if(!v(J[De]))throw new Error("Arr.flatten item "+De+" was not an array, input: "+J);et.apply(ae,J[De])}return ae},In=(J,ae)=>eo(ct(J,ae)),mn=(J,ae)=>{for(let De=0,Ye=J.length;De<Ye;++De){const At=J[De];if(ae(At,De)!==!0)return!1}return!0},Dt=(J,ae)=>{const De={};for(let Ye=0,At=J.length;Ye<At;Ye++){const Sn=J[Ye];De[String(Sn)]=ae(Sn,Ye)}return De},un=(J,ae)=>ae>=0&&ae<J.length?V.some(J[ae]):V.none(),ye=J=>un(J,0),ms=J=>un(J,J.length-1),Vo=(J,ae)=>{for(let De=0;De<J.length;De++){const Ye=ae(J[De],De);if(Ye.isSome())return Ye}return V.none()},Eo=Object.keys,Oo=Object.hasOwnProperty,Zn=(J,ae)=>{const De=Eo(J);for(let Ye=0,At=De.length;Ye<At;Ye++){const Sn=De[Ye],bo=J[Sn];ae(bo,Sn)}},xt=J=>(ae,De)=>{J[De]=ae},cn=(J,ae,De,Ye)=>{Zn(J,(At,Sn)=>{(ae(At,Sn)?De:Ye)(At,Sn)})},vn=(J,ae)=>{const De={};return cn(J,ae,xt(De),U),De},qe=(J,ae)=>{const De=[];return Zn(J,(Ye,At)=>{De.push(ae(Ye,At))}),De},pt=J=>qe(J,te),Ft=J=>Eo(J).length,Ve=(J,ae)=>Ot(J,ae)?V.from(J[ae]):V.none(),Ot=(J,ae)=>Oo.call(J,ae),Nt=(J,ae)=>Ot(J,ae)&&J[ae]!==void 0&&J[ae]!==null,Gt=J=>{for(const ae in J)if(Oo.call(J,ae))return!1;return!0},Tt=J=>{let ae=J;return{get:()=>ae,set:At=>{ae=At}}},Et=(J,ae,De=ce)=>J.exists(Ye=>De(Ye,ae)),Yn=J=>{const ae=[],De=Ye=>{ae.push(Ye)};for(let Ye=0;Ye<J.length;Ye++)J[Ye].each(De);return ae},fo=(J,ae,De)=>J.isSome()&&ae.isSome()?V.some(De(J.getOrDie(),ae.getOrDie())):V.none(),ro=J=>J.bind(te),io=(J,ae)=>J?V.some(ae):V.none(),no=J=>{const ae=Tt(V.none()),De=()=>ae.get().each(J);return{clear:()=>{De(),ae.set(V.none())},isSet:()=>ae.get().isSome(),get:()=>ae.get(),set:ss=>{De(),ae.set(V.some(ss))}}},_s=()=>no(J=>J.unbind()),Wo=(J,ae)=>J.substring(ae),Bs=(J,ae,De)=>ae===""||J.length>=ae.length&&J.substr(De,De+ae.length)===ae,Pn=(J,ae)=>xe(J,ae)?Wo(J,ae.length):J,xe=(J,ae)=>Bs(J,ae,0),rt=(J=>ae=>ae.replace(J,""))(/^\s+|\s+$/g),Je=J=>J.length>0,Pt=J=>!Je(J),kt=(J,ae=10)=>{const De=parseInt(J,ae);return isNaN(De)?V.none():V.some(De)},wt=J=>{const ae=parseFloat(J);return isNaN(ae)?V.none():V.some(ae)},Zt=J=>{let ae=!1,De;return(...Ye)=>(ae||(ae=!0,De=J.apply(null,Ye)),De)},en=(J,ae)=>{const Ye=(ae||document).createElement("div");if(Ye.innerHTML=J,!Ye.hasChildNodes()||Ye.childNodes.length>1){const At="HTML does not have a single root node";throw console.error(At,J),new Error(At)}return Wt(Ye.childNodes[0])},jn=(J,ae)=>{const Ye=(ae||document).createElement(J);return Wt(Ye)},sn=(J,ae)=>{const Ye=(ae||document).createTextNode(J);return Wt(Ye)},Wt=J=>{if(J==null)throw new Error("Node cannot be null or undefined");return{dom:J}},$o={fromHtml:en,fromTag:jn,fromText:sn,fromDom:Wt,fromPoint:(J,ae,De)=>V.from(J.dom.elementFromPoint(ae,De)).map(Wt)},Cs=8,Hs=9,or=11,No=1,Xo=3,es=(J,ae)=>{const De=J.dom;if(De.nodeType!==No)return!1;{const Ye=De;if(Ye.matches!==void 0)return Ye.matches(ae);if(Ye.msMatchesSelector!==void 0)return Ye.msMatchesSelector(ae);if(Ye.webkitMatchesSelector!==void 0)return Ye.webkitMatchesSelector(ae);if(Ye.mozMatchesSelector!==void 0)return Ye.mozMatchesSelector(ae);throw new Error("Browser lacks native selectors")}},Ma=J=>J.nodeType!==No&&J.nodeType!==Hs&&J.nodeType!==or||J.childElementCount===0,kl=(J,ae)=>{const De=ae===void 0?document:ae.dom;return Ma(De)?[]:ct(De.querySelectorAll(J),$o.fromDom)},oi=(J,ae)=>{const De=ae===void 0?document:ae.dom;return Ma(De)?V.none():V.from(De.querySelector(J)).map($o.fromDom)},zo=(J,ae)=>J.dom===ae.dom,il=es,da=J=>J.dom.nodeName.toLowerCase(),Qu=J=>J.dom.nodeType,Ea=J=>ae=>Qu(ae)===J,fc=J=>Qu(J)===Cs||da(J)==="#comment",$r=Ea(No),Oa=Ea(Xo),Id=Ea(Hs),ed=Ea(or),Xc=J=>ae=>$r(ae)&&da(ae)===J,pl=J=>$o.fromDom(J.dom.ownerDocument),td=J=>Id(J)?J:pl(J),Rd=J=>V.from(J.dom.parentNode).map($o.fromDom),wo=(J,ae)=>{const De=B(ae)?ae:Ce;let Ye=J.dom;const At=[];for(;Ye.parentNode!==null&&Ye.parentNode!==void 0;){const Sn=Ye.parentNode,bo=$o.fromDom(Sn);if(At.push(bo),De(bo)===!0)break;Ye=Sn}return At},Zf=J=>V.from(J.dom.previousSibling).map($o.fromDom),th=J=>V.from(J.dom.nextSibling).map($o.fromDom),xh=J=>ct(J.dom.childNodes,$o.fromDom),Xr=(J,ae)=>{const De=J.dom.childNodes;return V.from(De[ae]).map($o.fromDom)},Oh=J=>Xr(J,0),Pc=J=>ed(J)&&P(J.dom.host),Ar=J=>$o.fromDom(J.dom.getRootNode()),Au=J=>{const ae=Ar(J);return Pc(ae)?V.some(ae):V.none()},nh=J=>$o.fromDom(J.dom.host),Tc=(J,ae)=>{Rd(J).each(Ye=>{Ye.dom.insertBefore(ae.dom,J.dom)})},Fi=(J,ae)=>{th(J).fold(()=>{Rd(J).each(At=>{al(At,ae)})},Ye=>{Tc(Ye,ae)})},pc=(J,ae)=>{Oh(J).fold(()=>{al(J,ae)},Ye=>{J.dom.insertBefore(ae.dom,Ye.dom)})},al=(J,ae)=>{J.dom.appendChild(ae.dom)},Vp=(J,ae)=>{Tc(J,ae),al(ae,J)},Tm=(J,ae)=>{St(ae,(De,Ye)=>{const At=Ye===0?J:ae[Ye-1];Fi(At,De)})},Ac=(J,ae)=>{St(ae,De=>{al(J,De)})},Jc=(J,ae,De)=>{if(p(De)||S(De)||H(De))J.setAttribute(ae,De+"");else throw console.error("Invalid call to Attribute.set. Key ",ae,":: Value ",De,":: Element ",J),new Error("Attribute value was not simple")},xu=(J,ae,De)=>{Jc(J.dom,ae,De)},Ih=(J,ae)=>{const De=J.dom;Zn(ae,(Ye,At)=>{Jc(De,At,Ye)})},na=(J,ae)=>{const De=J.dom.getAttribute(ae);return De===null?void 0:De},As=(J,ae)=>V.from(na(J,ae)),Wi=(J,ae)=>{J.dom.removeAttribute(ae)},Dl=J=>Ut(J.dom.attributes,(ae,De)=>(ae[De.name]=De.value,ae),{}),Br=J=>{const ae=J.dom;ae.parentNode!==null&&ae.parentNode.removeChild(ae)},oh=J=>{const ae=xh(J);ae.length>0&&Tm(J,ae),Br(J)},Yf=J=>ct(J,$o.fromDom),gi=J=>J.style!==void 0&&B(J.style.getPropertyValue),mc=J=>{const ae=Oa(J)?J.dom.parentNode:J.dom;if(ae==null||ae.ownerDocument===null)return!1;const De=ae.ownerDocument;return Au($o.fromDom(ae)).fold(()=>De.body.contains(ae),z(mc,nh))},Nc=(J,ae,De)=>{if(!p(De))throw console.error("Invalid call to CSS.set. Property ",ae,":: Value ",De,":: Element ",J),new Error("CSS value must be a string: "+De);gi(J)&&J.style.setProperty(ae,De)},of=(J,ae)=>{gi(J)&&J.style.removeProperty(ae)},yo=(J,ae,De)=>{const Ye=J.dom;Nc(Ye,ae,De)},Ou=(J,ae)=>{const De=J.dom,At=window.getComputedStyle(De).getPropertyValue(ae);return At===""&&!mc(J)?Ml(De,ae):At},Ml=(J,ae)=>gi(J)?J.style.getPropertyValue(ae):"",gc=(J,ae)=>{const De=J.dom,Ye=Ml(De,ae);return V.from(Ye).filter(At=>At.length>0)},Pi=(J,ae)=>{const De=J.dom;of(De,ae),Et(As(J,"style").map(rt),"")&&Wi(J,"style")},Am=(J,ae)=>wt(J).getOr(ae),zl=(J,ae,De)=>Am(Ou(J,ae),De),Qc=(J,ae,De,Ye)=>{const At=zl(J,`padding-${De}`,0),Sn=zl(J,`padding-${Ye}`,0),bo=zl(J,`border-${De}-width`,0),ss=zl(J,`border-${Ye}-width`,0);return ae-At-Sn-bo-ss},Xf=(J,ae)=>{const De=J.dom,Ye=De.getBoundingClientRect().width||De.offsetWidth;return Qc(J,Ye,"left","right")},nd=J=>Xf(J),kd=((J,ae)=>{const De=Sn=>{if(!J(Sn))throw new Error("Can only get "+ae+" value of a "+ae+" node");return Ye(Sn).getOr("")},Ye=Sn=>J(Sn)?V.from(Sn.dom.nodeValue):V.none();return{get:De,getOption:Ye,set:(Sn,bo)=>{if(!J(Sn))throw new Error("Can only set raw "+ae+" value of a "+ae+" node");Sn.dom.nodeValue=bo}}})(Oa,"text"),Dd=J=>kd.get(J),vc=(J,ae)=>kd.set(J,ae);var po=(J,ae,De,Ye,At)=>J(De,Ye)?V.some(De):B(At)&&At(De)?V.none():ae(De,Ye,At);const Iu=(J,ae,De)=>{let Ye=J.dom;const At=B(De)?De:Ce;for(;Ye.parentNode;){Ye=Ye.parentNode;const Sn=$o.fromDom(Ye);if(ae(Sn))return V.some(Sn);if(At(Sn))break}return V.none()},Rh=(J,ae,De)=>po((At,Sn)=>Sn(At),Iu,J,ae,De),He=(J,ae)=>{const De=At=>ae($o.fromDom(At));return tn(J.dom.childNodes,De).map($o.fromDom)},ft=(J,ae,De)=>Iu(J,Ye=>es(Ye,ae),De),jt=(J,ae)=>He(J,De=>es(De,ae)),Tn=(J,ae)=>oi(ae,J),go=(J,ae,De)=>po((At,Sn)=>es(At,Sn),ft,J,ae,De),jo=J=>go(J,"[contenteditable]"),pr=(J,ae=!1)=>mc(J)?J.dom.isContentEditable:jo(J).fold(Z(ae),De=>js(De)==="true"),js=J=>J.dom.contentEditable,Tr=(J,ae)=>it(xh(J),ae),we=(J,ae)=>{let De=[];return St(xh(J),Ye=>{ae(Ye)&&(De=De.concat([Ye])),De=De.concat(we(Ye,ae))}),De},We=(J,ae)=>Tr(J,De=>es(De,ae)),mt=(J,ae)=>kl(ae,J),Cn=(J,ae)=>jt(J,ae).isSome(),qo=J=>J.nodeName.toLowerCase(),Ws=J=>$o.fromDom(J.getBody()),L=J=>ae=>zo(ae,Ws(J)),X=J=>J?J.replace(/px$/,""):"",de=J=>/^\d+(\.\d+)?$/.test(J)?J+"px":J,ge=J=>$o.fromDom(J.selection.getStart()),Ie=J=>$o.fromDom(J.selection.getEnd()),Be=J=>Rh(J,Xc("table")).forall(pr),Ke=["tfoot","thead","tbody","colgroup"],Vt=J=>Re(Ke,J),It=(J,ae)=>({rows:J,columns:ae}),rn=(J,ae,De)=>({element:J,rowspan:ae,colspan:De}),Hn=(J,ae,De,Ye,At,Sn)=>({element:J,rowspan:ae,colspan:De,row:Ye,column:At,isLocked:Sn}),co=(J,ae,De)=>({element:J,cells:ae,section:De}),Rn=(J,ae,De,Ye)=>({startRow:J,startCol:ae,finishRow:De,finishCol:Ye}),Ko=(J,ae,De)=>({element:J,colspan:ae,column:De}),kr=(J,ae)=>({element:J,columns:ae}),wi=(J,ae,De=0)=>As(J,ae).map(Ye=>parseInt(Ye,10)).getOr(De),Wr=(J,ae)=>jl(J,ae,Te),jl=(J,ae,De)=>In(xh(J),Ye=>es(Ye,ae)?De(Ye)?[Ye]:[]:jl(Ye,ae,De)),wa=(J,ae,De=Ce)=>{if(De(ae))return V.none();if(Re(J,da(ae)))return V.some(ae);const Ye=At=>es(At,"table")||De(At);return ft(ae,J.join(","),Ye)},od=(J,ae)=>wa(["td","th"],J,ae),sh=J=>Wr(J,"th,td"),vi=J=>es(J,"colgroup")?We(J,"col"):In(ml(J),ae=>We(ae,"col")),yc=(J,ae)=>go(J,"table",ae),Vi=J=>Wr(J,"tr"),ml=J=>yc(J).fold(Z([]),ae=>We(ae,"colgroup")),Hp=Xc("th"),Md=(J,ae)=>J&&ae?"sectionCells":J?"section":"cells",kh=J=>{const ae=J.section==="thead",De=Et(Og(J.cells),"th");return J.section==="tfoot"?{type:"footer"}:ae||De?{type:"header",subType:Md(ae,De)}:{type:"body"}},Og=J=>{const ae=it(J,De=>Hp(De.element));return ae.length===0?V.some("td"):ae.length===J.length?V.some("th"):V.none()},sd=J=>{const ae=ct(J,At=>kh(At).type),De=Re(ae,"header"),Ye=Re(ae,"footer");if(!De&&!Ye)return V.some("body");{const At=Re(ae,"body");return De&&!At&&!Ye?V.some("header"):!De&&!At&&Ye?V.some("footer"):V.none()}},eu=(J,ae)=>ct(J,De=>{if(da(De)==="colgroup"){const Ye=ct(vi(De),At=>{const Sn=wi(At,"span",1);return rn(At,1,Sn)});return co(De,Ye,"colgroup")}else{const Ye=ct(sh(De),At=>{const Sn=wi(At,"rowspan",1),bo=wi(At,"colspan",1);return rn(At,Sn,bo)});return co(De,Ye,ae(De))}}),Qf=J=>Rd(J).map(ae=>{const De=da(ae);return Vt(De)?De:"tbody"}).getOr("tbody"),rd=J=>{const ae=Vi(J),Ye=[...ml(J),...ae];return eu(Ye,Qf)},Ig="data-snooker-locked-cols",bc=J=>As(J,Ig).bind(ae=>V.from(ae.match(/\d+/g))).map(ae=>Dt(ae,Te)),Pl=(J,ae)=>J+","+ae,rf=(J,ae,De)=>V.from(J.access[Pl(ae,De)]),Uy=(J,ae,De)=>{const Ye=xr(J,At=>De(ae,At.element));return Ye.length>0?V.some(Ye[0]):V.none()},xr=(J,ae)=>{const De=In(J.all,Ye=>Ye.cells);return it(De,ae)},Zi=J=>{const ae={};let De=0;return St(J.cells,Ye=>{const At=Ye.colspan;ut(At,Sn=>{const bo=De+Sn;ae[bo]=Ko(Ye.element,At,bo)}),De+=At}),ae},$p=J=>{const ae={},De=[],At=ye(J).map(Bu=>Bu.element).bind(yc).bind(bc).getOr({});let Sn=0,bo=0,ss=0;const{pass:Ys,fail:Is}=ln(J,Bu=>Bu.section==="colgroup");St(Is,Bu=>{const Wp=[];St(Bu.cells,Gp=>{let iu=0;for(;ae[Pl(ss,iu)]!==void 0;)iu++;const f1=Nt(At,iu.toString()),Pm=Hn(Gp.element,Gp.rowspan,Gp.colspan,ss,iu,f1);for(let Qy=0;Qy<Gp.colspan;Qy++)for(let Nm=0;Nm<Gp.rowspan;Nm++){const Mg=ss+Nm,s0=iu+Qy,Bl=Pl(Mg,s0);ae[Bl]=Pm,bo=Math.max(bo,s0+1)}Wp.push(Pm)}),Sn++,De.push(co(Bu.element,Wp,Bu.section)),ss++});const{columns:Hi,colgroups:pa}=ms(Ys).map(Bu=>{const Wp=Zi(Bu);return{colgroups:[kr(Bu.element,pt(Wp))],columns:Wp}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:It(Sn,bo),access:ae,all:De,columns:Hi,colgroups:pa}},Gi={fromTable:J=>{const ae=rd(J);return $p(ae)},generate:$p,getAt:rf,findItem:Uy,filterItems:xr,justCells:J=>In(J.all,ae=>ae.cells),justColumns:J=>pt(J.columns),hasColumns:J=>Eo(J.columns).length>0,getColumnAt:(J,ae)=>V.from(J.columns[ae])},tu=(J,ae)=>Vo(J.all,De=>tn(De.cells,Ye=>zo(ae,Ye.element))),Pd=(J,ae,De)=>{const Ye=ct(ae.selection,Sn=>od(Sn).bind(bo=>tu(J,bo)).filter(De)),At=Yn(Ye);return io(At.length>0,At)},Jn=(J,ae)=>ae.mergable,Wl=(J,ae)=>ae.unmergable,Dh=(J,ae)=>Pd(J,ae,Te),nu=(J,ae)=>tu(J,ae).exists(De=>!De.isLocked),tp=(J,ae)=>mn(ae,De=>nu(J,De)),zy=(J,ae)=>Jn(J,ae).filter(De=>tp(J,De.cells)),st=(J,ae)=>Wl(J,ae).filter(De=>tp(J,De));var xc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Mh=()=>{const J=Is=>$o.fromDom(Is.dom.cloneNode(!1)),ae=Is=>td(Is).dom,De=Is=>$r(Is)?da(Is)==="body"?!0:Re(xc,da(Is)):!1,Ye=Is=>$r(Is)?Re(["br","img","hr","input"],da(Is)):!1,At=Is=>$r(Is)&&na(Is,"contenteditable")==="false",Sn=(Is,Hi)=>Is.dom.compareDocumentPosition(Hi.dom),bo=(Is,Hi)=>{const pa=Dl(Is);Ih(Hi,pa)},ss=Is=>{const Hi=da(Is);return Re(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Hi)},Ys=Is=>$r(Is)?As(Is,"lang"):V.none();return{up:Z({selector:ft,closest:go,predicate:Iu,all:wo}),down:Z({selector:mt,predicate:we}),styles:Z({get:Ou,getRaw:gc,set:yo,remove:Pi}),attrs:Z({get:na,set:xu,remove:Wi,copyTo:bo}),insert:Z({before:Tc,after:Fi,afterAll:Tm,append:al,appendAll:Ac,prepend:pc,wrap:Vp}),remove:Z({unwrap:oh,remove:Br}),create:Z({nu:$o.fromTag,clone:J,text:$o.fromText}),query:Z({comparePosition:Sn,prevSibling:Zf,nextSibling:th}),property:Z({children:xh,name:da,parent:Rd,document:ae,isText:Oa,isComment:fc,isElement:$r,isSpecial:ss,getLanguage:Ys,getText:Dd,setText:vc,isBoundary:De,isEmptyTag:Ye,isNonEditable:At}),eq:zo,is:il}};const jy=(J,ae,De,Ye)=>{const At=De[0],Sn=De.slice(1);return Ye(J,ae,At,Sn)},ou=(J,ae,De)=>De.length>0?jy(J,ae,De,ec):V.none(),ec=(J,ae,De,Ye)=>{const At=ae(J,De);return Ht(Ye,(Sn,bo)=>{const ss=ae(J,bo);return vt(J,Sn,ss)},At)},vt=(J,ae,De)=>ae.bind(Ye=>De.filter(se(J.eq,Ye))),Jt=ou,kn=Mh(),Ln=(J,ae)=>Jt(kn,(De,Ye)=>J(Ye),ae),ds=(J,ae)=>{const De=Gi.fromTable(J);return Dh(De,ae).bind(At=>{const Sn=At[At.length-1],bo=At[0].row,ss=Sn.row+Sn.rowspan,Ys=De.all.slice(bo,ss);return sd(Ys)}).getOr("")},ys=(J,ae)=>ae.column>=J.startCol&&ae.column+ae.colspan-1<=J.finishCol&&ae.row>=J.startRow&&ae.row+ae.rowspan-1<=J.finishRow,Js=(J,ae)=>{let De=!0;const Ye=se(ys,ae);for(let At=ae.startRow;At<=ae.finishRow;At++)for(let Sn=ae.startCol;Sn<=ae.finishCol;Sn++)De=De&&Gi.getAt(J,At,Sn).exists(Ye);return De?V.some(ae):V.none()},xs=(J,ae)=>Rn(Math.min(J.row,ae.row),Math.min(J.column,ae.column),Math.max(J.row+J.rowspan-1,ae.row+ae.rowspan-1),Math.max(J.column+J.colspan-1,ae.column+ae.colspan-1)),mr=(J,ae,De)=>{const Ye=Gi.findItem(J,ae,zo),At=Gi.findItem(J,De,zo);return Ye.bind(Sn=>At.map(bo=>xs(Sn,bo)))},Or=(J,ae,De)=>mr(J,ae,De).bind(Ye=>Js(J,Ye)),vr=(J,ae,De)=>{const Ye=Ur(J);return Or(Ye,ae,De)},Ur=Gi.fromTable;var Lo=tinymce.util.Tools.resolve("tinymce.util.Tools");const Qr=(J,ae,De)=>{const Ye=J.select("td,th",ae);let At;for(let Sn=0;Sn<Ye.length;Sn++){const bo=J.getStyle(Ye[Sn],De);if(_(At)&&(At=bo),At!==bo)return""}return At},Cl=(J,ae,De)=>{Lo.each("left center right".split(" "),Ye=>{Ye!==De&&J.formatter.remove("align"+Ye,{},ae)}),De&&J.formatter.apply("align"+De,{},ae)},tc=(J,ae,De)=>{Lo.each("top middle bottom".split(" "),Ye=>{Ye!==De&&J.formatter.remove("valign"+Ye,{},ae)}),De&&J.formatter.apply("valign"+De,{},ae)},Us=(J,ae,De)=>{J.dispatch("TableModified",{...De,table:ae})};var Nl=tinymce.util.Tools.resolve("tinymce.Env");const oa="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Za=ut(5,J=>{const ae=`${J+1}px`;return{title:ae,value:ae}}),Ph=ct(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],J=>({title:J,value:J.toLowerCase()})),sa="100%",ei=J=>{const ae=J.dom,De=ae.getParent(J.selection.getStart(),ae.isBlock)??J.getBody();return nd($o.fromDom(De))+"px"},Zb=(J,ae)=>ll(J)||!Du(J)?ae:cf(J)?{...ae,width:ei(J)}:{...ae,width:sa},RE=(J,ae)=>ll(J)||Du(J)?ae:cf(J)?{...ae,width:ei(J)}:{...ae,width:sa},El=J=>ae=>ae.options.get(J),nc=J=>{const ae=J.options.register;ae("table_border_widths",{processor:"object[]",default:Za}),ae("table_border_styles",{processor:"object[]",default:Ph}),ae("table_cell_advtab",{processor:"boolean",default:!0}),ae("table_row_advtab",{processor:"boolean",default:!0}),ae("table_advtab",{processor:"boolean",default:!0}),ae("table_appearance_options",{processor:"boolean",default:!0}),ae("table_grid",{processor:"boolean",default:!Nl.deviceType.isTouch()}),ae("table_cell_class_list",{processor:"object[]",default:[]}),ae("table_row_class_list",{processor:"object[]",default:[]}),ae("table_class_list",{processor:"object[]",default:[]}),ae("table_toolbar",{processor:"string",default:oa}),ae("table_background_color_map",{processor:"object[]",default:[]}),ae("table_border_color_map",{processor:"object[]",default:[]})},su=El("table_sizing_mode"),wl=El("table_border_widths"),Nh=El("table_border_styles"),Ru=El("table_cell_advtab"),ku=El("table_row_advtab"),Lc=El("table_advtab"),si=El("table_appearance_options"),Nd=El("table_grid"),Du=El("table_style_by_css"),Gl=El("table_cell_class_list"),ra=El("table_row_class_list"),yr=El("table_class_list"),Lh=El("table_toolbar"),ql=El("table_background_color_map"),Ya=El("table_border_color_map"),cf=J=>su(J)==="fixed",ll=J=>su(J)==="responsive",Wy=J=>{const ae=J.options,De=ae.get("table_default_styles");return ae.isSet("table_default_styles")?De:Zb(J,De)},oc=J=>{const ae=J.options,De=ae.get("table_default_attributes");return ae.isSet("table_default_attributes")?De:RE(J,De)},Yb=J=>ft(J,"table"),br=(J,ae)=>{const De=mt(J,ae);return De.length>0?V.some(De):V.none()},xm=(J,ae,De)=>Tn(J,ae).bind(Ye=>Tn(J,De).bind(At=>Ln(Yb,[Ye,At]).map(Sn=>({first:Ye,last:At,table:Sn})))),gs=(J,ae)=>br(J,ae),a1=(J,ae,De)=>xm(J,ae,De).bind(Ye=>{const At=Ys=>zo(J,Ys),Sn="thead,tfoot,tbody,table",bo=ft(Ye.first,Sn,At),ss=ft(Ye.last,Sn,At);return bo.bind(Ys=>ss.bind(Is=>zo(Ys,Is)?vr(Ye.table,Ye.first,Ye.last):V.none()))}),gl=te,lr=J=>{const ae=(Ye,At)=>As(Ye,At).exists(Sn=>parseInt(Sn,10)>1),De=Ye=>ae(Ye,"rowspan")||ae(Ye,"colspan");return J.length>0&&mn(J,De)?V.some(J):V.none()},Ll=(J,ae,De)=>ae.length<=1?V.none():a1(J,De.firstSelectedSelector,De.lastSelectedSelector).map(Ye=>({bounds:Ye,cells:ae})),ia="data-mce-selected",Om="data-mce-first-selected",Xb="td["+Om+"],th["+Om+"]",Ld="data-mce-last-selected",Mu="td["+Ld+"],th["+Ld+"]",Gy={selected:ia,firstSelectedSelector:Xb,lastSelectedSelector:Mu},Jb=J=>yc(J).bind(ae=>gs(ae,Gy.firstSelectedSelector)).fold(Z(J),ae=>ae[0]),qy=J=>(ae,De)=>{const Ye=da(ae),At=Ye==="col"||Ye==="colgroup"?Jb(ae):ae;return go(At,J,De)},rh=qy("th,td,caption"),Bh=qy("th,td"),Qb=J=>Yf(J.model.table.getSelectedCells()),Oc=(J,ae)=>{const De=Bh(J),Ye=De.bind(At=>yc(At)).map(At=>Vi(At));return fo(De,Ye,(At,Sn)=>it(Sn,bo=>_e(Yf(bo.dom.cells),ss=>na(ss,ae)==="1"||zo(ss,At)))).getOr([])},ih=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],np=J=>({value:Ky(J)}),zr=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Bd=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,l1=J=>zr.test(J)||Bd.test(J),Ky=J=>Pn(J,"#").toUpperCase(),ah=J=>l1(J)?V.some({value:Ky(J)}):V.none(),Ds=J=>{const ae=J.toString(16);return(ae.length===1?"0"+ae:ae).toUpperCase()},ha=J=>{const ae=Ds(J.red)+Ds(J.green)+Ds(J.blue);return np(ae)},Pa=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,aa=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,lh=(J,ae,De,Ye)=>({red:J,green:ae,blue:De,alpha:Ye}),fa=(J,ae,De,Ye)=>{const At=parseInt(J,10),Sn=parseInt(ae,10),bo=parseInt(De,10),ss=parseFloat(Ye);return lh(At,Sn,bo,ss)},vl=J=>{const ae=Pa.exec(J);if(ae!==null)return V.some(fa(ae[1],ae[2],ae[3],"1"));const De=aa.exec(J);return De!==null?V.some(fa(De[1],De[2],De[3],De[4])):V.none()},Pv=J=>ah(J).orThunk(()=>vl(J).map(ha)).getOrThunk(()=>{const ae=document.createElement("canvas");ae.height=1,ae.width=1;const De=ae.getContext("2d");De.clearRect(0,0,ae.width,ae.height),De.fillStyle="#FFFFFF",De.fillStyle=J,De.fillRect(0,0,1,1);const Ye=De.getImageData(0,0,1,1).data,At=Ye[0],Sn=Ye[1],bo=Ye[2],ss=Ye[3];return ha(lh(At,Sn,bo,ss))}),wr=J=>vl(J).map(ha).map(ae=>"#"+ae.value).getOr(J),id=(J,ae,De)=>Ye=>{const At=_s(),Sn=Pt(De),bo=()=>{const ss=Qb(J),Ys=Is=>J.formatter.match(ae,{value:De},Is.dom,Sn);Sn?(Ye.setActive(!_e(ss,Ys)),At.set(J.formatter.formatChanged(ae,Is=>Ye.setActive(!Is),!0))):(Ye.setActive(mn(ss,Ys)),At.set(J.formatter.formatChanged(ae,Ye.setActive,!1,{value:De})))};return J.initialized?bo():J.on("init",bo),At.clear},Ni=J=>Nt(J,"menu"),Pu=J=>ct(J,ae=>{const De=ae.text||ae.title||"";return Ni(ae)?{text:De,items:Pu(ae.menu)}:{text:De,value:ae.value}}),_l=J=>J.length?V.some(Pu([{text:"Select...",value:"mce-no-match"},...J])):V.none(),Tl=(J,ae,De,Ye)=>ct(ae,At=>{const Sn=At.text||At.title;return Ni(At)?{type:"nestedmenuitem",text:Sn,getSubmenuItems:()=>Tl(J,At.menu,De,Ye)}:{text:Sn,type:"togglemenuitem",onAction:()=>Ye(At.value),onSetup:id(J,De,At.value)}}),uf=(J,ae)=>De=>{J.execCommand("mceTableApplyCellStyle",!1,{[ae]:De})},Nv=J=>In(J,ae=>Ni(ae)?[{...ae,menu:Nv(ae.menu)}]:Je(ae.value)?[ae]:[]),Up=(J,ae,De,Ye)=>At=>At(Tl(J,ae,De,Ye)),Im=(J,ae,De)=>{const Ye=ct(ae,At=>({text:At.title,value:"#"+Pv(At.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:Ye.length>0?Ye:void 0,allowCustomColors:!1},onAction:At=>{const Sn=At.value==="remove"?"":At.value;J.execCommand("mceTableApplyCellStyle",!1,{[De]:Sn})}}]},ch=J=>()=>{const De=J.queryCommandValue("mceTableRowType")==="header"?"body":"header";J.execCommand("mceTableRowType",!1,{type:De})},Sc=J=>()=>{const De=J.queryCommandValue("mceTableColType")==="th"?"td":"th";J.execCommand("mceTableColType",!1,{type:De})},zp=J=>_l(Gl(J)).map(ae=>({name:"class",type:"listbox",label:"Class",items:ae})),kE=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:ih}],op=J=>kE.concat(zp(J).toArray()),ri=(J,ae)=>{const Ye=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Pu(Nh(J)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:ae==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(Ye):Ye}},Lv={normal:(J,ae)=>{const De=J.dom;return{setAttrib:(bo,ss)=>{De.setAttrib(ae,bo,ss)},setStyle:(bo,ss)=>{De.setStyle(ae,bo,ss)},setFormat:(bo,ss)=>{ss===""?J.formatter.remove(bo,{value:null},ae,!0):J.formatter.apply(bo,{value:ss},ae)}}}},Bc=J=>xe(J,"rgb")?wr(J):J,ru=J=>{const ae=$o.fromDom(J);return{borderwidth:gc(ae,"border-width").getOr(""),borderstyle:gc(ae,"border-style").getOr(""),bordercolor:gc(ae,"border-color").map(Bc).getOr(""),backgroundcolor:gc(ae,"background-color").map(Bc).getOr("")}},Ha=J=>{const ae=J[0],De=J.slice(1);return St(De,Ye=>{St(Eo(ae),At=>{Zn(Ye,(Sn,bo)=>{const ss=ae[At];ss!==""&&At===bo&&ss!==Sn&&(ae[At]=At==="class"?"mce-no-match":"")})})}),ae},Fd=(J,ae,De,Ye)=>tn(J,At=>!_(De.formatter.matchNode(Ye,ae+At))).getOr(""),yl=se(Fd,["left","center","right"],"align"),Rm=se(Fd,["top","middle","bottom"],"valign"),e0=(J,ae)=>{const De=Wy(J),Ye=oc(J),At=()=>({borderstyle:Ve(De,"border-style").getOr(""),bordercolor:Bc(Ve(De,"border-color").getOr("")),backgroundcolor:Bc(Ve(De,"background-color").getOr(""))}),Sn={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},bo=()=>{const Hi=De["border-width"];return Du(J)&&Hi?{border:Hi}:Ve(Ye,"border").fold(()=>({}),pa=>({border:pa}))},ss=ae?At():{},Ys=()=>{const Hi=Ve(De,"border-spacing").or(Ve(Ye,"cellspacing")).fold(()=>({}),Ja=>({cellspacing:Ja})),pa=Ve(De,"border-padding").or(Ve(Ye,"cellpadding")).fold(()=>({}),Ja=>({cellpadding:Ja}));return{...Hi,...pa}};return{...Sn,...De,...Ye,...ss,...bo(),...Ys()}},Zy=J=>yc($o.fromDom(J)).map(ae=>{const De={selection:Yf(J.cells)};return ds(ae,De)}).getOr(""),DE=(J,ae,De)=>{const Ye=(ss,Ys)=>{const Is=gc($o.fromDom(Ys),"border-width");return Du(J)&&Is.isSome()?Is.getOr(""):ss.getAttrib(Ys,"border")||Qr(J.dom,Ys,"border-width")||Qr(J.dom,Ys,"border")||""},At=J.dom,Sn=Du(J)?At.getStyle(ae,"border-spacing")||At.getAttrib(ae,"cellspacing"):At.getAttrib(ae,"cellspacing")||At.getStyle(ae,"border-spacing"),bo=Du(J)?Qr(At,ae,"padding")||At.getAttrib(ae,"cellpadding"):At.getAttrib(ae,"cellpadding")||Qr(At,ae,"padding");return{width:At.getStyle(ae,"width")||At.getAttrib(ae,"width"),height:At.getStyle(ae,"height")||At.getAttrib(ae,"height"),cellspacing:Sn??"",cellpadding:bo??"",border:Ye(At,ae),caption:!!At.select("caption",ae)[0],class:At.getAttrib(ae,"class",""),align:yl(J,ae),...De?ru(ae):{}}},df=(J,ae,De)=>{const Ye=J.dom;return{height:Ye.getStyle(ae,"height")||Ye.getAttrib(ae,"height"),class:Ye.getAttrib(ae,"class",""),type:Zy(ae),align:yl(J,ae),...De?ru(ae):{}}},ME=(J,ae,De,Ye)=>{const At=J.dom,Sn=Ye.getOr(ae);return{width:((ss,Ys)=>At.getStyle(ss,Ys)||At.getAttrib(ss,Ys))(Sn,"width"),scope:At.getAttrib(ae,"scope"),celltype:qo(ae),class:At.getAttrib(ae,"class",""),halign:yl(J,ae),valign:Rm(J,ae),...De?ru(ae):{}}},u1=(J,ae)=>{const De=Gi.fromTable(J),Ye=Gi.justCells(De),At=it(Ye,Sn=>_e(ae,bo=>zo(Sn.element,bo)));return ct(At,Sn=>({element:Sn.element.dom,column:Gi.getColumnAt(De,Sn.column).map(bo=>bo.element.dom)}))},hf=(J,ae,De,Ye)=>{Ye("scope")&&J.setAttrib("scope",De.scope),Ye("class")&&De.class!=="mce-no-match"&&J.setAttrib("class",De.class),Ye("width")&&ae.setStyle("width",de(De.width))},$S=(J,ae,De)=>{De("backgroundcolor")&&J.setFormat("tablecellbackgroundcolor",ae.backgroundcolor),De("bordercolor")&&J.setFormat("tablecellbordercolor",ae.bordercolor),De("borderstyle")&&J.setFormat("tablecellborderstyle",ae.borderstyle),De("borderwidth")&&J.setFormat("tablecellborderwidth",de(ae.borderwidth))},Bv=(J,ae,De,Ye)=>{const At=ae.length===1;St(ae,Sn=>{const bo=Sn.element,ss=At?Te:Ye,Ys=Lv.normal(J,bo),Is=Sn.column.map(Hi=>Lv.normal(J,Hi)).getOr(Ys);hf(Ys,Is,De,ss),Ru(J)&&$S(Ys,De,ss),Ye("halign")&&Cl(J,bo,De.halign),Ye("valign")&&tc(J,bo,De.valign)})},km=(J,ae)=>{J.execCommand("mceTableCellType",!1,{type:ae.celltype,no_events:!0})},Rg=(J,ae,De,Ye)=>{const At=vn(Ye,(Sn,bo)=>De[bo]!==Sn);Ft(At)>0&&ae.length>=1&&yc(ae[0]).each(Sn=>{const bo=u1(Sn,ae),ss=Ft(vn(At,(Is,Hi)=>Hi!=="scope"&&Hi!=="celltype"))>0,Ys=Ot(At,"celltype");(ss||Ot(At,"scope"))&&Bv(J,bo,Ye,se(Ot,At)),Ys&&km(J,Ye),Us(J,Sn.dom,{structure:Ys,style:ss})})},d1=(J,ae,De,Ye)=>{const At=Ye.getData();Ye.close(),J.undoManager.transact(()=>{Rg(J,ae,De,At),J.focus()})},US=(J,ae)=>{const De=yc(ae[0]).map(Ye=>ct(u1(Ye,ae),At=>ME(J,At.element,Ru(J),At.column)));return Ha(De.getOrDie())},Fh=J=>{const ae=Qb(J);if(ae.length===0)return;const De=US(J,ae),Ye={type:"tabpanel",tabs:[{title:"General",name:"general",items:op(J)},ri(J,"cell")]},At={type:"panel",items:[{type:"grid",columns:2,items:op(J)}]};J.windowManager.open({title:"Cell Properties",size:"normal",body:Ru(J)?Ye:At,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:De,onSubmit:se(d1,J,ae,De)})},Dm=J=>_l(ra(J)).map(ae=>({name:"class",type:"listbox",label:"Class",items:ae})),ff=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],ii=J=>ff.concat(Dm(J).toArray()),bl=(J,ae,De)=>{De("class")&&ae.class!=="mce-no-match"&&J.setAttrib("class",ae.class),De("height")&&J.setStyle("height",de(ae.height))},sp=(J,ae,De)=>{De("backgroundcolor")&&J.setStyle("background-color",ae.backgroundcolor),De("bordercolor")&&J.setStyle("border-color",ae.bordercolor),De("borderstyle")&&J.setStyle("border-style",ae.borderstyle)},t0=(J,ae,De,Ye)=>{const Sn=ae.length===1?Te:Ye;St(ae,bo=>{const ss=We($o.fromDom(bo),"td,th"),Ys=Lv.normal(J,bo);bl(Ys,De,Sn),ku(J)&&sp(Ys,De,Sn),Ye("height")&&St(ss,Is=>{J.dom.setStyle(Is.dom,"height",null)}),Ye("align")&&Cl(J,bo,De.align)})},Mm=(J,ae)=>{J.execCommand("mceTableRowType",!1,{type:ae.type,no_events:!0})},kg=(J,ae,De,Ye)=>{const At=vn(Ye,(Sn,bo)=>De[bo]!==Sn);if(Ft(At)>0){const Sn=Ot(At,"type"),bo=Sn?Ft(At)>1:!0;bo&&t0(J,ae,Ye,se(Ot,At)),Sn&&Mm(J,Ye),yc($o.fromDom(ae[0])).each(ss=>Us(J,ss.dom,{structure:Sn,style:bo}))}},jp=(J,ae,De,Ye)=>{const At=Ye.getData();Ye.close(),J.undoManager.transact(()=>{kg(J,ae,De,At),J.focus()})},rp=J=>{const ae=Oc(ge(J),Gy.selected);if(ae.length===0)return;const De=ct(ae,bo=>df(J,bo.dom,ku(J))),Ye=Ha(De),At={type:"tabpanel",tabs:[{title:"General",name:"general",items:ii(J)},ri(J,"row")]},Sn={type:"panel",items:[{type:"grid",columns:2,items:ii(J)}]};J.windowManager.open({title:"Row Properties",size:"normal",body:ku(J)?At:Sn,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ye,onSubmit:se(jp,J,ct(ae,bo=>bo.dom),Ye)})},Vh=(J,ae,De)=>{const Ye=De?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],At=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Sn=si(J)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],bo=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],ss=ae.length>0?[{name:"class",type:"listbox",label:"Class",items:ae}]:[];return Ye.concat(At).concat(Sn).concat(bo).concat(ss)},Ti=(J,ae,De,Ye)=>{if(ae.tagName==="TD"||ae.tagName==="TH")p(De)&&P(Ye)?J.setStyle(ae,De,Ye):J.setStyles(ae,De);else if(ae.children)for(let At=0;At<ae.children.length;At++)Ti(J,ae.children[At],De,Ye)},zS=(J,ae,De,Ye)=>{const At=J.dom,Sn={},bo={},ss=Du(J),Ys=Lc(J),Is=parseFloat(De.border)===0;if(!_(De.class)&&De.class!=="mce-no-match"&&(Sn.class=De.class),bo.height=de(De.height),ss?bo.width=de(De.width):At.getAttrib(ae,"width")&&(Sn.width=X(De.width)),ss?(Is?(Sn.border=0,bo["border-width"]=""):(bo["border-width"]=de(De.border),Sn.border=1),bo["border-spacing"]=de(De.cellspacing)):(Sn.border=Is?0:De.border,Sn.cellpadding=De.cellpadding,Sn.cellspacing=De.cellspacing),ss&&ae.children){const Hi={};if(Is?Hi["border-width"]="":Ye.border&&(Hi["border-width"]=de(De.border)),Ye.cellpadding&&(Hi.padding=de(De.cellpadding)),Ys&&Ye.bordercolor&&(Hi["border-color"]=De.bordercolor),!Gt(Hi))for(let pa=0;pa<ae.children.length;pa++)Ti(At,ae.children[pa],Hi)}if(Ys){const Hi=De;bo["background-color"]=Hi.backgroundcolor,bo["border-color"]=Hi.bordercolor,bo["border-style"]=Hi.borderstyle}At.setStyles(ae,{...Wy(J),...bo}),At.setAttribs(ae,{...oc(J),...Sn})},ui=(J,ae,De,Ye)=>{const At=J.dom,Sn=Ye.getData(),bo=vn(Sn,(ss,Ys)=>De[Ys]!==ss);Ye.close(),J.undoManager.transact(()=>{if(!ae){const ss=kt(Sn.cols).getOr(1),Ys=kt(Sn.rows).getOr(1);J.execCommand("mceInsertTable",!1,{rows:Ys,columns:ss}),ae=Bh(ge(J),L(J)).bind(Is=>yc(Is,L(J))).map(Is=>Is.dom).getOrDie()}if(Ft(bo)>0){const ss={border:Ot(bo,"border"),bordercolor:Ot(bo,"bordercolor"),cellpadding:Ot(bo,"cellpadding")};zS(J,ae,Sn,ss);const Ys=At.select("caption",ae)[0];(Ys&&!Sn.caption||!Ys&&Sn.caption)&&J.execCommand("mceTableToggleCaption"),Cl(J,ae,Sn.align)}if(J.focus(),J.addVisual(),Ft(bo)>0){const ss=Ot(bo,"caption"),Ys=ss?Ft(bo)>1:!0;Us(J,ae,{structure:ss,style:Ys})}})},Fv=(J,ae)=>{const De=J.dom;let Ye,At=e0(J,Lc(J));ae?(At.cols="1",At.rows="1",Lc(J)&&(At.borderstyle="",At.bordercolor="",At.backgroundcolor="")):(Ye=De.getParent(J.selection.getStart(),"table",J.getBody()),Ye?At=DE(J,Ye,Lc(J)):Lc(J)&&(At.borderstyle="",At.bordercolor="",At.backgroundcolor=""));const Sn=_l(yr(J));Sn.isSome()&&At.class&&(At.class=At.class.replace(/\s*mce\-item\-table\s*/g,""));const bo={type:"grid",columns:2,items:Vh(J,Sn.getOr([]),ae)},ss=()=>({type:"panel",items:[bo]}),Ys=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[bo]},ri(J,"table")]}),Is=Lc(J)?Ys():ss();J.windowManager.open({title:"Table Properties",size:"normal",body:Is,onSubmit:se(ui,J,Ye,At),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:At})},Xa=J=>{const ae=De=>{Be(ge(J))&&De()};Zn({mceTableProps:se(Fv,J,!1),mceTableRowProps:se(rp,J),mceTableCellProps:se(Fh,J),mceInsertTableDialog:se(Fv,J,!0)},(De,Ye)=>J.addCommand(Ye,()=>ae(De)))},Hh=J=>({element:J,mergable:V.none(),unmergable:V.none(),selection:[J]}),Ic=(J,ae,De)=>({element:De,mergable:Ll(ae,J,Gy),unmergable:lr(J),selection:gl(J)}),Nu=J=>{const ae=Tt(V.none()),De=Tt([]);let Ye=V.none();const At=Xc("caption"),Sn=Fr=>Ye.forall(xi=>!xi[Fr]),bo=()=>rh(ge(J),L(J)),ss=()=>rh(Ie(J),L(J)),Ys=()=>bo().bind(Fr=>ro(fo(yc(Fr),ss().bind(yc),(xi,Qa)=>zo(xi,Qa)?At(Fr)?V.some(Hh(Fr)):V.some(Ic(Qb(J),xi,Fr)):V.none()))),Is=Fr=>yc(Fr.element).map(Qa=>{const ad=Gi.fromTable(Qa),el=Dh(ad,Fr).getOr([]),eb=Ut(el,(tb,nb)=>(nb.isLocked&&(tb.onAny=!0,nb.column===0?tb.onFirst=!0:nb.column+nb.colspan>=ad.grid.columns&&(tb.onLast=!0)),tb),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:zy(ad,Fr).isSome(),unmergeable:st(ad,Fr).isSome(),locked:eb}}),Hi=()=>{ae.set(Zt(Ys)()),Ye=ae.get().bind(Is),St(De.get(),Se)},pa=Fr=>(Fr(),De.set(De.get().concat([Fr])),()=>{De.set(it(De.get(),xi=>xi!==Fr))}),Ja=(Fr,xi)=>pa(()=>ae.get().fold(()=>{Fr.setEnabled(!1)},Qa=>{Fr.setEnabled(!xi(Qa)&&J.selection.isEditable())})),Bu=(Fr,xi,Qa)=>pa(()=>ae.get().fold(()=>{Fr.setEnabled(!1),Fr.setActive(!1)},ad=>{Fr.setEnabled(!xi(ad)&&J.selection.isEditable()),Fr.setActive(Qa(ad))})),Wp=Fr=>Ye.exists(xi=>xi.locked[Fr]),Gp=Fr=>Ja(Fr,xi=>!1),iu=Fr=>Ja(Fr,xi=>At(xi.element)),f1=Fr=>xi=>Ja(xi,Qa=>At(Qa.element)||Wp(Fr)),Pm=Fr=>xi=>Ja(xi,Qa=>At(Qa.element)||Fr().isNone()),Qy=(Fr,xi)=>Qa=>Ja(Qa,ad=>At(ad.element)||Fr().isNone()||Wp(xi)),Nm=Fr=>Ja(Fr,xi=>Sn("mergeable")),Mg=Fr=>Ja(Fr,xi=>Sn("unmergeable")),s0=Fr=>Bu(Fr,Ce,xi=>yc(xi.element,L(J)).exists(ad=>Cn(ad,"caption"))),Bl=(Fr,xi)=>Qa=>Bu(Qa,ad=>At(ad.element),()=>J.queryCommandValue(Fr)===xi),NE=Bl("mceTableRowType","header"),LE=Bl("mceTableColType","th");return J.on("NodeChange ExecCommand TableSelectorChange",Hi),{onSetupTable:Gp,onSetupCellOrRow:iu,onSetupColumn:f1,onSetupPasteable:Pm,onSetupPasteableColumn:Qy,onSetupMergeable:Nm,onSetupUnmergeable:Mg,resetTargets:Hi,onSetupTableWithCaption:s0,onSetupTableRowHeaders:NE,onSetupTableColumnHeaders:LE,targets:ae.get}};var Dg=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Vv="x-tinymce/dom-table-",h1=Vv+"rows",PE=Vv+"columns",Al=J=>{const ae=Dg.read()??[];return Vo(ae,De=>V.from(De.getType(J)))},pf=()=>Al(h1),cl=()=>Al(PE),Ai=J=>ae=>{const De=()=>{ae.setEnabled(J.selection.isEditable())};return J.on("NodeChange",De),De(),()=>{J.off("NodeChange",De)}},Yy=(J,ae)=>{J.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Ai(J),fetch:ss=>ss("inserttable | cell row column | advtablesort | tableprops deletetable")});const De=ss=>()=>J.execCommand(ss),Ye=(ss,Ys)=>{J.queryCommandSupported(Ys.command)&&J.ui.registry.addButton(ss,{...Ys,onAction:B(Ys.onAction)?Ys.onAction:De(Ys.command)})},At=(ss,Ys)=>{J.queryCommandSupported(Ys.command)&&J.ui.registry.addToggleButton(ss,{...Ys,onAction:B(Ys.onAction)?Ys.onAction:De(Ys.command)})};Ye("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:ae.onSetupTable}),Ye("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:ae.onSetupTable}),Ye("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:ae.onSetupCellOrRow}),Ye("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:ae.onSetupMergeable}),Ye("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:ae.onSetupUnmergeable}),Ye("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:ae.onSetupCellOrRow}),Ye("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:ae.onSetupCellOrRow}),Ye("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:ae.onSetupCellOrRow}),Ye("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:ae.onSetupCellOrRow}),Ye("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:ae.onSetupColumn("onFirst")}),Ye("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:ae.onSetupColumn("onLast")}),Ye("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:ae.onSetupColumn("onAny")}),Ye("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:ae.onSetupCellOrRow}),Ye("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:ae.onSetupCellOrRow}),Ye("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:ae.onSetupPasteable(pf)}),Ye("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:ae.onSetupPasteable(pf)}),Ye("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:ae.onSetupColumn("onAny")}),Ye("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:ae.onSetupColumn("onAny")}),Ye("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:ae.onSetupPasteableColumn(cl,"onFirst")}),Ye("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:ae.onSetupPasteableColumn(cl,"onLast")}),Ye("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Ai(J)});const Sn=Nv(yr(J));Sn.length!==0&&J.queryCommandSupported("mceTableToggleClass")&&J.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Up(J,Sn,"tableclass",ss=>J.execCommand("mceTableToggleClass",!1,ss)),onSetup:ae.onSetupTable});const bo=Nv(Gl(J));bo.length!==0&&J.queryCommandSupported("mceTableCellToggleClass")&&J.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Up(J,bo,"tablecellclass",ss=>J.execCommand("mceTableCellToggleClass",!1,ss)),onSetup:ae.onSetupCellOrRow}),J.queryCommandSupported("mceTableApplyCellStyle")&&(J.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Up(J,ih,"tablecellverticalalign",uf(J,"vertical-align")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Up(J,wl(J),"tablecellborderwidth",uf(J,"border-width")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Up(J,Nh(J),"tablecellborderstyle",uf(J,"border-style")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:ss=>ss(Im(J,ql(J),"background-color")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:ss=>ss(Im(J,Ya(J),"border-color")),onSetup:ae.onSetupCellOrRow})),At("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:ae.onSetupTableWithCaption}),At("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:ch(J),onSetup:ae.onSetupTableRowHeaders}),At("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Sc(J),onSetup:ae.onSetupTableColumnHeaders})},Xy=J=>{const ae=Ye=>J.dom.is(Ye,"table")&&J.getBody().contains(Ye)&&J.dom.isEditable(Ye.parentNode),De=Lh(J);De.length>0&&J.ui.registry.addContextToolbar("table",{predicate:ae,items:De,scope:"node",position:"node"})},Jy=J=>ae=>{const De=()=>{ae.setEnabled(J.selection.isEditable())};return J.on("NodeChange",De),De(),()=>{J.off("NodeChange",De)}},n0=(J,ae)=>{const De=pa=>()=>J.execCommand(pa),Ye=(pa,Ja)=>J.queryCommandSupported(Ja.command)?(J.ui.registry.addMenuItem(pa,{...Ja,onAction:B(Ja.onAction)?Ja.onAction:De(Ja.command)}),!0):!1,At=(pa,Ja)=>{J.queryCommandSupported(Ja.command)&&J.ui.registry.addToggleMenuItem(pa,{...Ja,onAction:B(Ja.onAction)?Ja.onAction:De(Ja.command)})},Sn=pa=>{J.execCommand("mceInsertTable",!1,{rows:pa.numRows,columns:pa.numColumns})},bo=[Ye("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:ae.onSetupCellOrRow}),Ye("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:ae.onSetupCellOrRow}),Ye("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:ae.onSetupCellOrRow}),Ye("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:ae.onSetupCellOrRow}),Ye("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:ae.onSetupCellOrRow}),Ye("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:ae.onSetupCellOrRow}),Ye("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:ae.onSetupPasteable(pf)}),Ye("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:ae.onSetupPasteable(pf)})],ss=[Ye("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:ae.onSetupColumn("onFirst")}),Ye("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:ae.onSetupColumn("onLast")}),Ye("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:ae.onSetupColumn("onAny")}),Ye("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:ae.onSetupColumn("onAny")}),Ye("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:ae.onSetupColumn("onAny")}),Ye("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:ae.onSetupPasteableColumn(cl,"onFirst")}),Ye("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:ae.onSetupPasteableColumn(cl,"onLast")})],Ys=[Ye("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:ae.onSetupCellOrRow}),Ye("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:ae.onSetupMergeable}),Ye("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:ae.onSetupUnmergeable})];Nd(J)?J.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Sn}],onSetup:Jy(J)}):J.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:De("mceInsertTableDialog"),onSetup:Jy(J)}),J.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:De("mceInsertTableDialog"),onSetup:Jy(J)}),Ye("tableprops",{text:"Table properties",onSetup:ae.onSetupTable,command:"mceTableProps"}),Ye("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:ae.onSetupTable,command:"mceTableDelete"}),Re(bo,!0)&&J.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:Z("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Re(ss,!0)&&J.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:Z("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Re(Ys,!0)&&J.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:Z("tablecellprops tablemergecells tablesplitcells")}),J.ui.registry.addContextMenu("table",{update:()=>(ae.resetTargets(),ae.targets().fold(Z(""),pa=>da(pa.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Is=Nv(yr(J));Is.length!==0&&J.queryCommandSupported("mceTableToggleClass")&&J.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Tl(J,Is,"tableclass",pa=>J.execCommand("mceTableToggleClass",!1,pa)),onSetup:ae.onSetupTable});const Hi=Nv(Gl(J));Hi.length!==0&&J.queryCommandSupported("mceTableCellToggleClass")&&J.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Tl(J,Hi,"tablecellclass",pa=>J.execCommand("mceTableCellToggleClass",!1,pa)),onSetup:ae.onSetupCellOrRow}),J.queryCommandSupported("mceTableApplyCellStyle")&&(J.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Tl(J,ih,"tablecellverticalalign",uf(J,"vertical-align")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Tl(J,wl(J),"tablecellborderwidth",uf(J,"border-width")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Tl(J,Nh(J),"tablecellborderstyle",uf(J,"border-style")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Im(J,ql(J),"background-color"),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Im(J,Ya(J),"border-color"),onSetup:ae.onSetupCellOrRow})),At("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:ae.onSetupTableWithCaption}),At("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:ch(J),onSetup:ae.onSetupTableRowHeaders}),At("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Sc(J),onSetup:ae.onSetupTableRowHeaders})},Lu=J=>{const ae=Nu(J);nc(J),Xa(J),n0(J,ae),Yy(J,ae),Xy(J)};var o0=()=>{e.add("table",Lu)};o0()})()),YIe}var JIe;function qXe(){return JIe||(JIe=1,GXe()),ZIe}qXe();var QIe={},eRe={},tRe;function KXe(){return tRe||(tRe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=pt=>({backspaceDelete:Ft=>{pt.execCommand("mceListBackspaceDelete",!1,Ft)}}),o=pt=>pt==null,i=pt=>!o(pt),c=pt=>()=>pt,d=(pt,Ft)=>pt===Ft,p=c(!1);class v{tag;value;static singletonNone=new v(!1);constructor(Ft,Ve){this.tag=Ft,this.value=Ve}static some(Ft){return new v(!0,Ft)}static none(){return v.singletonNone}fold(Ft,Ve){return this.tag?Ve(this.value):Ft()}isSome(){return this.tag}isNone(){return!this.tag}map(Ft){return this.tag?v.some(Ft(this.value)):v.none()}bind(Ft){return this.tag?Ft(this.value):v.none()}exists(Ft){return this.tag&&Ft(this.value)}forall(Ft){return!this.tag||Ft(this.value)}filter(Ft){return!this.tag||Ft(this.value)?this:v.none()}getOr(Ft){return this.tag?this.value:Ft}or(Ft){return this.tag?this:Ft}getOrThunk(Ft){return this.tag?this.value:Ft()}orThunk(Ft){return this.tag?this:Ft()}getOrDie(Ft){if(this.tag)return this.value;throw new Error(Ft??"Called getOrDie on None")}static from(Ft){return i(Ft)?v.some(Ft):v.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ft){this.tag&&Ft(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const S=Array.prototype.slice,_=(pt,Ft)=>{for(let Ve=0,Ot=pt.length;Ve<Ot;Ve++){const Nt=pt[Ve];if(Ft(Nt,Ve))return!0}return!1},x=(pt,Ft)=>{const Ve=pt.length,Ot=new Array(Ve);for(let Nt=0;Nt<Ve;Nt++){const Gt=pt[Nt];Ot[Nt]=Ft(Gt,Nt)}return Ot},P=(pt,Ft)=>{for(let Ve=0,Ot=pt.length;Ve<Ot;Ve++){const Nt=pt[Ve];Ft(Nt,Ve)}},B=(pt,Ft,Ve)=>(P(pt,(Ot,Nt)=>{Ve=Ft(Ve,Ot,Nt)}),Ve),H=(pt,Ft,Ve)=>{for(let Ot=0,Nt=pt.length;Ot<Nt;Ot++){const Gt=pt[Ot];if(Ft(Gt,Ot))return v.some(Gt);if(Ve(Gt,Ot))break}return v.none()},U=(pt,Ft)=>H(pt,Ft,p),z=pt=>{const Ft=S.call(pt,0);return Ft.reverse(),Ft},Z=(pt,Ft,Ve=d)=>pt.exists(Ot=>Ve(Ot,Ft)),ce=(pt=>Ft=>Ft.replace(pt,""))(/^\s+|\s+$/g),se=pt=>pt.length>0,Se=pt=>!se(pt),Ce=pt=>{const Ft=z(ce(pt).split("")),Ve=x(Ft,(Ot,Nt)=>{const Gt=Ot.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Nt)*Gt});return B(Ve,(Ot,Nt)=>Ot+Nt,0)},Te=pt=>{if(pt--,pt<0)return"";{const Ft=pt%26,Ve=Math.floor(pt/26),Ot=Te(Ve),Nt=String.fromCharCode(65+Ft);return Ot+Nt}},V=pt=>/^[A-Z]+$/.test(pt),ke=pt=>/^[a-z]+$/.test(pt),et=pt=>/^[0-9]+$/.test(pt),$e=pt=>et(pt)?2:V(pt)?0:ke(pt)?1:Se(pt)?3:4,Re=pt=>{switch($e(pt)){case 2:return v.some({listStyleType:v.none(),start:pt});case 0:return v.some({listStyleType:v.some("upper-alpha"),start:Ce(pt).toString()});case 1:return v.some({listStyleType:v.some("lower-alpha"),start:Ce(pt).toString()});case 3:return v.some({listStyleType:v.none(),start:""});case 4:return v.none()}},_e=pt=>{const Ft=parseInt(pt.start,10);return Z(pt.listStyleType,"upper-alpha")?Te(Ft):Z(pt.listStyleType,"lower-alpha")?Te(Ft).toLowerCase():pt.start},ct=(pt=>Ft=>Ft.options.get(pt))("forced_root_block"),St=pt=>/\btox\-/.test(pt.className),ee=pt=>Ft=>i(Ft)&&pt.test(Ft.nodeName),ln=pt=>Ft=>i(Ft)&&Ft.nodeName.toLowerCase()===pt,it=ee(/^(OL|UL|DL)$/),Ht=ee(/^(TH|TD)$/),Ut=ee(/^(LI|DT|DD)$/),Xe=(pt,Ft)=>H(pt,it,Ht).exists(Ve=>Ve.nodeName===Ft&&!St(Ve)),tn=(pt,Ft)=>{const Ve=pt.selection.getNode();return Ft({parents:pt.dom.getParents(Ve),element:Ve}),pt.on("NodeChange",Ft),()=>pt.off("NodeChange",Ft)},eo=(pt,Ft)=>Ft!==null&&!pt.dom.isEditable(Ft),In=(pt,Ft)=>{const Ve=pt.dom.getParent(Ft,"ol,ul,dl");return eo(pt,Ve)||!pt.selection.isEditable()},mn=ln("ol"),Dt=["OL","UL","DL"],un=Dt.join(","),ye=(pt,Ft)=>{const Ve=Ft||pt.selection.getStart(!0);return pt.dom.getParent(Ve,un,ms(pt,Ve))},ms=(pt,Ft)=>{const Ve=pt.dom.getParents(Ft,pt.dom.isBlock),Ot=Gt=>Gt.nodeName.toLowerCase()!==ct(pt);return U(Ve,Gt=>Ot(Gt)&&Vo(pt.schema,Gt)).getOr(pt.getBody())},Vo=(pt,Ft)=>!it(Ft)&&!Ut(Ft)&&_(Dt,Ve=>pt.isValidChild(Ft.nodeName,Ve)),Eo=pt=>{const Ft=ye(pt);!mn(Ft)||In(pt,Ft)||pt.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:_e({start:pt.dom.getAttrib(Ft,"start","1"),listStyleType:v.from(pt.dom.getStyle(Ft,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Ve=>{const Ot=Ve.getData();Re(Ot.start).each(Nt=>{pt.execCommand("mceListUpdate",!1,{attrs:{start:Nt.start==="1"?"":Nt.start},styles:{"list-style-type":Nt.listStyleType.getOr("")}})}),Ve.close()}})},Oo=pt=>{pt.addCommand("mceListProps",()=>{Eo(pt)})},Zn=(pt,Ft)=>Ve=>{const Ot=Nt=>{Ve.setActive(Xe(Nt.parents,Ft)),Ve.setEnabled(!In(pt,Nt.element)&&pt.selection.isEditable())};return Ve.setEnabled(pt.selection.isEditable()),tn(pt,Ot)},xt=pt=>{const Ft=Ve=>()=>pt.execCommand(Ve);pt.hasPlugin("advlist")||(pt.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Ft("InsertOrderedList"),onSetup:Zn(pt,"OL")}),pt.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Ft("InsertUnorderedList"),onSetup:Zn(pt,"UL")}))},cn=(pt,Ft)=>Ve=>tn(pt,Nt=>Ve.setEnabled(Xe(Nt.parents,Ft)&&!In(pt,Nt.element))),vn=pt=>{const Ft={text:"List properties...",icon:"ordered-list",onAction:()=>pt.execCommand("mceListProps"),onSetup:cn(pt,"OL")};pt.ui.registry.addMenuItem("listprops",Ft),pt.ui.registry.addContextMenu("lists",{update:Ve=>{const Ot=ye(pt,Ve);return mn(Ot)?["listprops"]:[]}})};var qe=()=>{e.add("lists",pt=>(Oo(pt),xt(pt),vn(pt),n(pt)))};qe()})()),eRe}var nRe;function ZXe(){return nRe||(nRe=1,KXe()),QIe}ZXe();var oRe={},sRe={},rRe;function YXe(){return rRe||(rRe=1,(function(){const e=ce=>{let se=ce;return{get:()=>se,set:Te=>{se=Te}}};var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.Env");const i=ce=>ce.dispatch("ResizeEditor"),c=ce=>se=>se.options.get(ce),d=ce=>{const se=ce.options.register;se("autoresize_overflow_padding",{processor:"number",default:1}),se("autoresize_bottom_margin",{processor:"number",default:50})},p=c("min_height"),v=c("max_height"),S=c("autoresize_overflow_padding"),_=c("autoresize_bottom_margin"),x=ce=>ce.plugins.fullscreen&&ce.plugins.fullscreen.isFullscreen(),P=(ce,se)=>{const Se=ce.getBody();Se&&(Se.style.overflowY=se?"":"hidden",se||(Se.scrollTop=0))},B=(ce,se,Se,Ce)=>{const Te=parseInt(ce.getStyle(se,Se,Ce)??"",10);return isNaN(Te)?0:Te},H=ce=>{if(ce?.type.toLowerCase()==="setcontent"){const se=ce;return se.selection===!0||se.paste===!0}else return!1},U=(ce,se,Se,Ce)=>{const Te=ce.dom,V=ce.getDoc();if(!V)return;if(x(ce)){P(ce,!0);return}const ke=V.documentElement,et=Ce?Ce():S(ce),$e=p(ce)??ce.getElement().offsetHeight;let Re=$e;const _e=B(Te,ke,"margin-top",!0),ut=B(Te,ke,"margin-bottom",!0);let ct=ke.offsetHeight+_e+ut+et;ct<0&&(ct=0);const St=ce.getContainer().offsetHeight,ee=ce.getContentAreaContainer().offsetHeight,ln=St-ee;ct+ln>$e&&(Re=ct+ln);const it=v(ce);it&&Re>it?(Re=it,P(ce,!0)):P(ce,!1);const Ht=se.get();if(Ht.set&&(ce.dom.setStyles(ce.getDoc().documentElement,{"min-height":0}),ce.dom.setStyles(ce.getBody(),{"min-height":"inherit"})),Re!==Ht.totalHeight&&(ct-et!==Ht.contentHeight||!Ht.set)){const Ut=Re-Ht.totalHeight;if(Te.setStyle(ce.getContainer(),"height",Re+"px"),se.set({totalHeight:Re,contentHeight:ct,set:!0}),i(ce),o.browser.isSafari()&&(o.os.isMacOS()||o.os.isiOS())){const Xe=ce.getWin();Xe.scrollTo(Xe.pageXOffset,Xe.pageYOffset)}ce.hasFocus()&&H(Se)&&ce.selection.scrollIntoView(),(o.browser.isSafari()||o.browser.isChromium())&&Ut<0&&U(ce,se,Se,Ce)}},z=(ce,se)=>{const Se=()=>_(ce);ce.on("init",Ce=>{const Te=S(ce),V=ce.dom;V.setStyles(ce.getDoc().documentElement,{height:"auto"}),o.browser.isEdge()||o.browser.isIE()?V.setStyles(ce.getBody(),{paddingLeft:Te,paddingRight:Te,"min-height":0}):V.setStyles(ce.getBody(),{paddingLeft:Te,paddingRight:Te}),U(ce,se,Ce,Se)}),ce.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",Ce=>{U(ce,se,Ce,Se)})},Z=(ce,se)=>{ce.addCommand("mceAutoResize",()=>{U(ce,se)})};var te=()=>{n.add("autoresize",ce=>{if(d(ce),ce.options.isSet("resize")||ce.options.set("resize",!1),!ce.inline){const se=e({totalHeight:0,contentHeight:0,set:!1});Z(ce,se),z(ce,se)}})};te()})()),sRe}var iRe;function XXe(){return iRe||(iRe=1,YXe()),oRe}XXe();var sge={exports:{}},BJ={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var JXe=BJ.exports,aRe;function QXe(){return aRe||(aRe=1,(function(e){(function(n,o){e.exports=n.document?o(n,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return o(i)}})(typeof window<"u"?window:JXe,function(n,o){var i=[],c=Object.getPrototypeOf,d=i.slice,p=i.flat?function(L){return i.flat.call(L)}:function(L){return i.concat.apply([],L)},v=i.push,S=i.indexOf,_={},x=_.toString,P=_.hasOwnProperty,B=P.toString,H=B.call(Object),U={},z=function(X){return typeof X=="function"&&typeof X.nodeType!="number"&&typeof X.item!="function"},Z=function(X){return X!=null&&X===X.window},te=n.document,ce={type:!0,src:!0,nonce:!0,noModule:!0};function se(L,X,de){de=de||te;var ge,Ie,Be=de.createElement("script");if(Be.text=L,X)for(ge in ce)Ie=X[ge]||X.getAttribute&&X.getAttribute(ge),Ie&&Be.setAttribute(ge,Ie);de.head.appendChild(Be).parentNode.removeChild(Be)}function Se(L){return L==null?L+"":typeof L=="object"||typeof L=="function"?_[x.call(L)]||"object":typeof L}var Ce="3.7.1",Te=/HTML$/i,V=function(L,X){return new V.fn.init(L,X)};V.fn=V.prototype={jquery:Ce,constructor:V,length:0,toArray:function(){return d.call(this)},get:function(L){return L==null?d.call(this):L<0?this[L+this.length]:this[L]},pushStack:function(L){var X=V.merge(this.constructor(),L);return X.prevObject=this,X},each:function(L){return V.each(this,L)},map:function(L){return this.pushStack(V.map(this,function(X,de){return L.call(X,de,X)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(V.grep(this,function(L,X){return(X+1)%2}))},odd:function(){return this.pushStack(V.grep(this,function(L,X){return X%2}))},eq:function(L){var X=this.length,de=+L+(L<0?X:0);return this.pushStack(de>=0&&de<X?[this[de]]:[])},end:function(){return this.prevObject||this.constructor()},push:v,sort:i.sort,splice:i.splice},V.extend=V.fn.extend=function(){var L,X,de,ge,Ie,Be,Ke=arguments[0]||{},Vt=1,It=arguments.length,rn=!1;for(typeof Ke=="boolean"&&(rn=Ke,Ke=arguments[Vt]||{},Vt++),typeof Ke!="object"&&!z(Ke)&&(Ke={}),Vt===It&&(Ke=this,Vt--);Vt<It;Vt++)if((L=arguments[Vt])!=null)for(X in L)ge=L[X],!(X==="__proto__"||Ke===ge)&&(rn&&ge&&(V.isPlainObject(ge)||(Ie=Array.isArray(ge)))?(de=Ke[X],Ie&&!Array.isArray(de)?Be=[]:!Ie&&!V.isPlainObject(de)?Be={}:Be=de,Ie=!1,Ke[X]=V.extend(rn,Be,ge)):ge!==void 0&&(Ke[X]=ge));return Ke},V.extend({expando:"jQuery"+(Ce+Math.random()).replace(/\D/g,""),isReady:!0,error:function(L){throw new Error(L)},noop:function(){},isPlainObject:function(L){var X,de;return!L||x.call(L)!=="[object Object]"?!1:(X=c(L),X?(de=P.call(X,"constructor")&&X.constructor,typeof de=="function"&&B.call(de)===H):!0)},isEmptyObject:function(L){var X;for(X in L)return!1;return!0},globalEval:function(L,X,de){se(L,{nonce:X&&X.nonce},de)},each:function(L,X){var de,ge=0;if(ke(L))for(de=L.length;ge<de&&X.call(L[ge],ge,L[ge])!==!1;ge++);else for(ge in L)if(X.call(L[ge],ge,L[ge])===!1)break;return L},text:function(L){var X,de="",ge=0,Ie=L.nodeType;if(!Ie)for(;X=L[ge++];)de+=V.text(X);return Ie===1||Ie===11?L.textContent:Ie===9?L.documentElement.textContent:Ie===3||Ie===4?L.nodeValue:de},makeArray:function(L,X){var de=X||[];return L!=null&&(ke(Object(L))?V.merge(de,typeof L=="string"?[L]:L):v.call(de,L)),de},inArray:function(L,X,de){return X==null?-1:S.call(X,L,de)},isXMLDoc:function(L){var X=L&&L.namespaceURI,de=L&&(L.ownerDocument||L).documentElement;return!Te.test(X||de&&de.nodeName||"HTML")},merge:function(L,X){for(var de=+X.length,ge=0,Ie=L.length;ge<de;ge++)L[Ie++]=X[ge];return L.length=Ie,L},grep:function(L,X,de){for(var ge,Ie=[],Be=0,Ke=L.length,Vt=!de;Be<Ke;Be++)ge=!X(L[Be],Be),ge!==Vt&&Ie.push(L[Be]);return Ie},map:function(L,X,de){var ge,Ie,Be=0,Ke=[];if(ke(L))for(ge=L.length;Be<ge;Be++)Ie=X(L[Be],Be,de),Ie!=null&&Ke.push(Ie);else for(Be in L)Ie=X(L[Be],Be,de),Ie!=null&&Ke.push(Ie);return p(Ke)},guid:1,support:U}),typeof Symbol=="function"&&(V.fn[Symbol.iterator]=i[Symbol.iterator]),V.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(L,X){_["[object "+X+"]"]=X.toLowerCase()});function ke(L){var X=!!L&&"length"in L&&L.length,de=Se(L);return z(L)||Z(L)?!1:de==="array"||X===0||typeof X=="number"&&X>0&&X-1 in L}function et(L,X){return L.nodeName&&L.nodeName.toLowerCase()===X.toLowerCase()}var $e=i.pop,Re=i.sort,_e=i.splice,ut="[\\x20\\t\\r\\n\\f]",ct=new RegExp("^"+ut+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ut+"+$","g");V.contains=function(L,X){var de=X&&X.parentNode;return L===de||!!(de&&de.nodeType===1&&(L.contains?L.contains(de):L.compareDocumentPosition&&L.compareDocumentPosition(de)&16))};var St=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ee(L,X){return X?L==="\0"?"":L.slice(0,-1)+"\\"+L.charCodeAt(L.length-1).toString(16)+" ":"\\"+L}V.escapeSelector=function(L){return(L+"").replace(St,ee)};var ln=te,it=v;(function(){var L,X,de,ge,Ie,Be=it,Ke,Vt,It,rn,Hn,co=V.expando,Rn=0,Ko=0,kr=$p(),wi=$p(),Wr=$p(),jl=$p(),wa=function(vt,Jt){return vt===Jt&&(Ie=!0),0},od="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",sh="(?:\\\\[\\da-fA-F]{1,6}"+ut+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",vi="\\["+ut+"*("+sh+")(?:"+ut+"*([*^$|!~]?=)"+ut+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+sh+"))|)"+ut+"*\\]",yc=":("+sh+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+vi+")*)|.*)\\)|)",Vi=new RegExp(ut+"+","g"),ml=new RegExp("^"+ut+"*,"+ut+"*"),Hp=new RegExp("^"+ut+"*([>+~]|"+ut+")"+ut+"*"),Md=new RegExp(ut+"|>"),kh=new RegExp(yc),Og=new RegExp("^"+sh+"$"),sd={ID:new RegExp("^#("+sh+")"),CLASS:new RegExp("^\\.("+sh+")"),TAG:new RegExp("^("+sh+"|[*])"),ATTR:new RegExp("^"+vi),PSEUDO:new RegExp("^"+yc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ut+"*(even|odd|(([+-]|)(\\d*)n|)"+ut+"*(?:([+-]|)"+ut+"*(\\d+)|))"+ut+"*\\)|)","i"),bool:new RegExp("^(?:"+od+")$","i"),needsContext:new RegExp("^"+ut+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ut+"*((?:-\\d)?\\d*)"+ut+"*\\)|)(?=[^-]|$)","i")},eu=/^(?:input|select|textarea|button)$/i,Qf=/^h\d$/i,rd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ig=/[+~]/,bc=new RegExp("\\\\[\\da-fA-F]{1,6}"+ut+"?|\\\\([^\\r\\n\\f])","g"),Pl=function(vt,Jt){var kn="0x"+vt.slice(1)-65536;return Jt||(kn<0?String.fromCharCode(kn+65536):String.fromCharCode(kn>>10|55296,kn&1023|56320))},rf=function(){Pd()},Uy=nu(function(vt){return vt.disabled===!0&&et(vt,"fieldset")},{dir:"parentNode",next:"legend"});function xr(){try{return Ke.activeElement}catch{}}try{Be.apply(i=d.call(ln.childNodes),ln.childNodes),i[ln.childNodes.length].nodeType}catch{Be={apply:function(Jt,kn){it.apply(Jt,d.call(kn))},call:function(Jt){it.apply(Jt,d.call(arguments,1))}}}function Zi(vt,Jt,kn,Ln){var to,ds,ys,Js,xs,mr,Or,vr=Jt&&Jt.ownerDocument,Ur=Jt?Jt.nodeType:9;if(kn=kn||[],typeof vt!="string"||!vt||Ur!==1&&Ur!==9&&Ur!==11)return kn;if(!Ln&&(Pd(Jt),Jt=Jt||Ke,It)){if(Ur!==11&&(xs=rd.exec(vt)))if(to=xs[1]){if(Ur===9)if(ys=Jt.getElementById(to)){if(ys.id===to)return Be.call(kn,ys),kn}else return kn;else if(vr&&(ys=vr.getElementById(to))&&Zi.contains(Jt,ys)&&ys.id===to)return Be.call(kn,ys),kn}else{if(xs[2])return Be.apply(kn,Jt.getElementsByTagName(vt)),kn;if((to=xs[3])&&Jt.getElementsByClassName)return Be.apply(kn,Jt.getElementsByClassName(to)),kn}if(!jl[vt+" "]&&(!rn||!rn.test(vt))){if(Or=vt,vr=Jt,Ur===1&&(Md.test(vt)||Hp.test(vt))){for(vr=Ig.test(vt)&&tu(Jt.parentNode)||Jt,(vr!=Jt||!U.scope)&&((Js=Jt.getAttribute("id"))?Js=V.escapeSelector(Js):Jt.setAttribute("id",Js=co)),mr=Wl(vt),ds=mr.length;ds--;)mr[ds]=(Js?"#"+Js:":scope")+" "+Dh(mr[ds]);Or=mr.join(",")}try{return Be.apply(kn,vr.querySelectorAll(Or)),kn}catch{jl(vt,!0)}finally{Js===co&&Jt.removeAttribute("id")}}}return ec(vt.replace(ct,"$1"),Jt,kn,Ln)}function $p(){var vt=[];function Jt(kn,Ln){return vt.push(kn+" ")>X.cacheLength&&delete Jt[vt.shift()],Jt[kn+" "]=Ln}return Jt}function _i(vt){return vt[co]=!0,vt}function ep(vt){var Jt=Ke.createElement("fieldset");try{return!!vt(Jt)}catch{return!1}finally{Jt.parentNode&&Jt.parentNode.removeChild(Jt),Jt=null}}function af(vt){return function(Jt){return et(Jt,"input")&&Jt.type===vt}}function HS(vt){return function(Jt){return(et(Jt,"input")||et(Jt,"button"))&&Jt.type===vt}}function lf(vt){return function(Jt){return"form"in Jt?Jt.parentNode&&Jt.disabled===!1?"label"in Jt?"label"in Jt.parentNode?Jt.parentNode.disabled===vt:Jt.disabled===vt:Jt.isDisabled===vt||Jt.isDisabled!==!vt&&Uy(Jt)===vt:Jt.disabled===vt:"label"in Jt?Jt.disabled===vt:!1}}function Gi(vt){return _i(function(Jt){return Jt=+Jt,_i(function(kn,Ln){for(var to,ds=vt([],kn.length,Jt),ys=ds.length;ys--;)kn[to=ds[ys]]&&(kn[to]=!(Ln[to]=kn[to]))})})}function tu(vt){return vt&&typeof vt.getElementsByTagName<"u"&&vt}function Pd(vt){var Jt,kn=vt?vt.ownerDocument||vt:ln;return kn==Ke||kn.nodeType!==9||!kn.documentElement||(Ke=kn,Vt=Ke.documentElement,It=!V.isXMLDoc(Ke),Hn=Vt.matches||Vt.webkitMatchesSelector||Vt.msMatchesSelector,Vt.msMatchesSelector&&ln!=Ke&&(Jt=Ke.defaultView)&&Jt.top!==Jt&&Jt.addEventListener("unload",rf),U.getById=ep(function(Ln){return Vt.appendChild(Ln).id=V.expando,!Ke.getElementsByName||!Ke.getElementsByName(V.expando).length}),U.disconnectedMatch=ep(function(Ln){return Hn.call(Ln,"*")}),U.scope=ep(function(){return Ke.querySelectorAll(":scope")}),U.cssHas=ep(function(){try{return Ke.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),U.getById?(X.filter.ID=function(Ln){var to=Ln.replace(bc,Pl);return function(ds){return ds.getAttribute("id")===to}},X.find.ID=function(Ln,to){if(typeof to.getElementById<"u"&&It){var ds=to.getElementById(Ln);return ds?[ds]:[]}}):(X.filter.ID=function(Ln){var to=Ln.replace(bc,Pl);return function(ds){var ys=typeof ds.getAttributeNode<"u"&&ds.getAttributeNode("id");return ys&&ys.value===to}},X.find.ID=function(Ln,to){if(typeof to.getElementById<"u"&&It){var ds,ys,Js,xs=to.getElementById(Ln);if(xs){if(ds=xs.getAttributeNode("id"),ds&&ds.value===Ln)return[xs];for(Js=to.getElementsByName(Ln),ys=0;xs=Js[ys++];)if(ds=xs.getAttributeNode("id"),ds&&ds.value===Ln)return[xs]}return[]}}),X.find.TAG=function(Ln,to){return typeof to.getElementsByTagName<"u"?to.getElementsByTagName(Ln):to.querySelectorAll(Ln)},X.find.CLASS=function(Ln,to){if(typeof to.getElementsByClassName<"u"&&It)return to.getElementsByClassName(Ln)},rn=[],ep(function(Ln){var to;Vt.appendChild(Ln).innerHTML="<a id='"+co+"' href='' disabled='disabled'></a><select id='"+co+"-\r\\' disabled='disabled'><option selected=''></option></select>",Ln.querySelectorAll("[selected]").length||rn.push("\\["+ut+"*(?:value|"+od+")"),Ln.querySelectorAll("[id~="+co+"-]").length||rn.push("~="),Ln.querySelectorAll("a#"+co+"+*").length||rn.push(".#.+[+~]"),Ln.querySelectorAll(":checked").length||rn.push(":checked"),to=Ke.createElement("input"),to.setAttribute("type","hidden"),Ln.appendChild(to).setAttribute("name","D"),Vt.appendChild(Ln).disabled=!0,Ln.querySelectorAll(":disabled").length!==2&&rn.push(":enabled",":disabled"),to=Ke.createElement("input"),to.setAttribute("name",""),Ln.appendChild(to),Ln.querySelectorAll("[name='']").length||rn.push("\\["+ut+"*name"+ut+"*="+ut+`*(?:''|"")`)}),U.cssHas||rn.push(":has"),rn=rn.length&&new RegExp(rn.join("|")),wa=function(Ln,to){if(Ln===to)return Ie=!0,0;var ds=!Ln.compareDocumentPosition-!to.compareDocumentPosition;return ds||(ds=(Ln.ownerDocument||Ln)==(to.ownerDocument||to)?Ln.compareDocumentPosition(to):1,ds&1||!U.sortDetached&&to.compareDocumentPosition(Ln)===ds?Ln===Ke||Ln.ownerDocument==ln&&Zi.contains(ln,Ln)?-1:to===Ke||to.ownerDocument==ln&&Zi.contains(ln,to)?1:ge?S.call(ge,Ln)-S.call(ge,to):0:ds&4?-1:1)}),Ke}Zi.matches=function(vt,Jt){return Zi(vt,null,null,Jt)},Zi.matchesSelector=function(vt,Jt){if(Pd(vt),It&&!jl[Jt+" "]&&(!rn||!rn.test(Jt)))try{var kn=Hn.call(vt,Jt);if(kn||U.disconnectedMatch||vt.document&&vt.document.nodeType!==11)return kn}catch{jl(Jt,!0)}return Zi(Jt,Ke,null,[vt]).length>0},Zi.contains=function(vt,Jt){return(vt.ownerDocument||vt)!=Ke&&Pd(vt),V.contains(vt,Jt)},Zi.attr=function(vt,Jt){(vt.ownerDocument||vt)!=Ke&&Pd(vt);var kn=X.attrHandle[Jt.toLowerCase()],Ln=kn&&P.call(X.attrHandle,Jt.toLowerCase())?kn(vt,Jt,!It):void 0;return Ln!==void 0?Ln:vt.getAttribute(Jt)},Zi.error=function(vt){throw new Error("Syntax error, unrecognized expression: "+vt)},V.uniqueSort=function(vt){var Jt,kn=[],Ln=0,to=0;if(Ie=!U.sortStable,ge=!U.sortStable&&d.call(vt,0),Re.call(vt,wa),Ie){for(;Jt=vt[to++];)Jt===vt[to]&&(Ln=kn.push(to));for(;Ln--;)_e.call(vt,kn[Ln],1)}return ge=null,vt},V.fn.uniqueSort=function(){return this.pushStack(V.uniqueSort(d.apply(this)))},X=V.expr={cacheLength:50,createPseudo:_i,match:sd,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(vt){return vt[1]=vt[1].replace(bc,Pl),vt[3]=(vt[3]||vt[4]||vt[5]||"").replace(bc,Pl),vt[2]==="~="&&(vt[3]=" "+vt[3]+" "),vt.slice(0,4)},CHILD:function(vt){return vt[1]=vt[1].toLowerCase(),vt[1].slice(0,3)==="nth"?(vt[3]||Zi.error(vt[0]),vt[4]=+(vt[4]?vt[5]+(vt[6]||1):2*(vt[3]==="even"||vt[3]==="odd")),vt[5]=+(vt[7]+vt[8]||vt[3]==="odd")):vt[3]&&Zi.error(vt[0]),vt},PSEUDO:function(vt){var Jt,kn=!vt[6]&&vt[2];return sd.CHILD.test(vt[0])?null:(vt[3]?vt[2]=vt[4]||vt[5]||"":kn&&kh.test(kn)&&(Jt=Wl(kn,!0))&&(Jt=kn.indexOf(")",kn.length-Jt)-kn.length)&&(vt[0]=vt[0].slice(0,Jt),vt[2]=kn.slice(0,Jt)),vt.slice(0,3))}},filter:{TAG:function(vt){var Jt=vt.replace(bc,Pl).toLowerCase();return vt==="*"?function(){return!0}:function(kn){return et(kn,Jt)}},CLASS:function(vt){var Jt=kr[vt+" "];return Jt||(Jt=new RegExp("(^|"+ut+")"+vt+"("+ut+"|$)"))&&kr(vt,function(kn){return Jt.test(typeof kn.className=="string"&&kn.className||typeof kn.getAttribute<"u"&&kn.getAttribute("class")||"")})},ATTR:function(vt,Jt,kn){return function(Ln){var to=Zi.attr(Ln,vt);return to==null?Jt==="!=":Jt?(to+="",Jt==="="?to===kn:Jt==="!="?to!==kn:Jt==="^="?kn&&to.indexOf(kn)===0:Jt==="*="?kn&&to.indexOf(kn)>-1:Jt==="$="?kn&&to.slice(-kn.length)===kn:Jt==="~="?(" "+to.replace(Vi," ")+" ").indexOf(kn)>-1:Jt==="|="?to===kn||to.slice(0,kn.length+1)===kn+"-":!1):!0}},CHILD:function(vt,Jt,kn,Ln,to){var ds=vt.slice(0,3)!=="nth",ys=vt.slice(-4)!=="last",Js=Jt==="of-type";return Ln===1&&to===0?function(xs){return!!xs.parentNode}:function(xs,mr,Or){var vr,Ur,Lo,Qr,Cl,tc=ds!==ys?"nextSibling":"previousSibling",Us=xs.parentNode,Nl=Js&&xs.nodeName.toLowerCase(),oa=!Or&&!Js,Za=!1;if(Us){if(ds){for(;tc;){for(Lo=xs;Lo=Lo[tc];)if(Js?et(Lo,Nl):Lo.nodeType===1)return!1;Cl=tc=vt==="only"&&!Cl&&"nextSibling"}return!0}if(Cl=[ys?Us.firstChild:Us.lastChild],ys&&oa){for(Ur=Us[co]||(Us[co]={}),vr=Ur[vt]||[],Qr=vr[0]===Rn&&vr[1],Za=Qr&&vr[2],Lo=Qr&&Us.childNodes[Qr];Lo=++Qr&&Lo&&Lo[tc]||(Za=Qr=0)||Cl.pop();)if(Lo.nodeType===1&&++Za&&Lo===xs){Ur[vt]=[Rn,Qr,Za];break}}else if(oa&&(Ur=xs[co]||(xs[co]={}),vr=Ur[vt]||[],Qr=vr[0]===Rn&&vr[1],Za=Qr),Za===!1)for(;(Lo=++Qr&&Lo&&Lo[tc]||(Za=Qr=0)||Cl.pop())&&!((Js?et(Lo,Nl):Lo.nodeType===1)&&++Za&&(oa&&(Ur=Lo[co]||(Lo[co]={}),Ur[vt]=[Rn,Za]),Lo===xs)););return Za-=to,Za===Ln||Za%Ln===0&&Za/Ln>=0}}},PSEUDO:function(vt,Jt){var kn,Ln=X.pseudos[vt]||X.setFilters[vt.toLowerCase()]||Zi.error("unsupported pseudo: "+vt);return Ln[co]?Ln(Jt):Ln.length>1?(kn=[vt,vt,"",Jt],X.setFilters.hasOwnProperty(vt.toLowerCase())?_i(function(to,ds){for(var ys,Js=Ln(to,Jt),xs=Js.length;xs--;)ys=S.call(to,Js[xs]),to[ys]=!(ds[ys]=Js[xs])}):function(to){return Ln(to,0,kn)}):Ln}},pseudos:{not:_i(function(vt){var Jt=[],kn=[],Ln=ou(vt.replace(ct,"$1"));return Ln[co]?_i(function(to,ds,ys,Js){for(var xs,mr=Ln(to,null,Js,[]),Or=to.length;Or--;)(xs=mr[Or])&&(to[Or]=!(ds[Or]=xs))}):function(to,ds,ys){return Jt[0]=to,Ln(Jt,null,ys,kn),Jt[0]=null,!kn.pop()}}),has:_i(function(vt){return function(Jt){return Zi(vt,Jt).length>0}}),contains:_i(function(vt){return vt=vt.replace(bc,Pl),function(Jt){return(Jt.textContent||V.text(Jt)).indexOf(vt)>-1}}),lang:_i(function(vt){return Og.test(vt||"")||Zi.error("unsupported lang: "+vt),vt=vt.replace(bc,Pl).toLowerCase(),function(Jt){var kn;do if(kn=It?Jt.lang:Jt.getAttribute("xml:lang")||Jt.getAttribute("lang"))return kn=kn.toLowerCase(),kn===vt||kn.indexOf(vt+"-")===0;while((Jt=Jt.parentNode)&&Jt.nodeType===1);return!1}}),target:function(vt){var Jt=n.location&&n.location.hash;return Jt&&Jt.slice(1)===vt.id},root:function(vt){return vt===Vt},focus:function(vt){return vt===xr()&&Ke.hasFocus()&&!!(vt.type||vt.href||~vt.tabIndex)},enabled:lf(!1),disabled:lf(!0),checked:function(vt){return et(vt,"input")&&!!vt.checked||et(vt,"option")&&!!vt.selected},selected:function(vt){return vt.parentNode&&vt.parentNode.selectedIndex,vt.selected===!0},empty:function(vt){for(vt=vt.firstChild;vt;vt=vt.nextSibling)if(vt.nodeType<6)return!1;return!0},parent:function(vt){return!X.pseudos.empty(vt)},header:function(vt){return Qf.test(vt.nodeName)},input:function(vt){return eu.test(vt.nodeName)},button:function(vt){return et(vt,"input")&&vt.type==="button"||et(vt,"button")},text:function(vt){var Jt;return et(vt,"input")&&vt.type==="text"&&((Jt=vt.getAttribute("type"))==null||Jt.toLowerCase()==="text")},first:Gi(function(){return[0]}),last:Gi(function(vt,Jt){return[Jt-1]}),eq:Gi(function(vt,Jt,kn){return[kn<0?kn+Jt:kn]}),even:Gi(function(vt,Jt){for(var kn=0;kn<Jt;kn+=2)vt.push(kn);return vt}),odd:Gi(function(vt,Jt){for(var kn=1;kn<Jt;kn+=2)vt.push(kn);return vt}),lt:Gi(function(vt,Jt,kn){var Ln;for(kn<0?Ln=kn+Jt:kn>Jt?Ln=Jt:Ln=kn;--Ln>=0;)vt.push(Ln);return vt}),gt:Gi(function(vt,Jt,kn){for(var Ln=kn<0?kn+Jt:kn;++Ln<Jt;)vt.push(Ln);return vt})}},X.pseudos.nth=X.pseudos.eq;for(L in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})X.pseudos[L]=af(L);for(L in{submit:!0,reset:!0})X.pseudos[L]=HS(L);function Jn(){}Jn.prototype=X.filters=X.pseudos,X.setFilters=new Jn;function Wl(vt,Jt){var kn,Ln,to,ds,ys,Js,xs,mr=wi[vt+" "];if(mr)return Jt?0:mr.slice(0);for(ys=vt,Js=[],xs=X.preFilter;ys;){(!kn||(Ln=ml.exec(ys)))&&(Ln&&(ys=ys.slice(Ln[0].length)||ys),Js.push(to=[])),kn=!1,(Ln=Hp.exec(ys))&&(kn=Ln.shift(),to.push({value:kn,type:Ln[0].replace(ct," ")}),ys=ys.slice(kn.length));for(ds in X.filter)(Ln=sd[ds].exec(ys))&&(!xs[ds]||(Ln=xs[ds](Ln)))&&(kn=Ln.shift(),to.push({value:kn,type:ds,matches:Ln}),ys=ys.slice(kn.length));if(!kn)break}return Jt?ys.length:ys?Zi.error(vt):wi(vt,Js).slice(0)}function Dh(vt){for(var Jt=0,kn=vt.length,Ln="";Jt<kn;Jt++)Ln+=vt[Jt].value;return Ln}function nu(vt,Jt,kn){var Ln=Jt.dir,to=Jt.next,ds=to||Ln,ys=kn&&ds==="parentNode",Js=Ko++;return Jt.first?function(xs,mr,Or){for(;xs=xs[Ln];)if(xs.nodeType===1||ys)return vt(xs,mr,Or);return!1}:function(xs,mr,Or){var vr,Ur,Lo=[Rn,Js];if(Or){for(;xs=xs[Ln];)if((xs.nodeType===1||ys)&&vt(xs,mr,Or))return!0}else for(;xs=xs[Ln];)if(xs.nodeType===1||ys)if(Ur=xs[co]||(xs[co]={}),to&&et(xs,to))xs=xs[Ln]||xs;else{if((vr=Ur[ds])&&vr[0]===Rn&&vr[1]===Js)return Lo[2]=vr[2];if(Ur[ds]=Lo,Lo[2]=vt(xs,mr,Or))return!0}return!1}}function tp(vt){return vt.length>1?function(Jt,kn,Ln){for(var to=vt.length;to--;)if(!vt[to](Jt,kn,Ln))return!1;return!0}:vt[0]}function zy(vt,Jt,kn){for(var Ln=0,to=Jt.length;Ln<to;Ln++)Zi(vt,Jt[Ln],kn);return kn}function st(vt,Jt,kn,Ln,to){for(var ds,ys=[],Js=0,xs=vt.length,mr=Jt!=null;Js<xs;Js++)(ds=vt[Js])&&(!kn||kn(ds,Ln,to))&&(ys.push(ds),mr&&Jt.push(Js));return ys}function xc(vt,Jt,kn,Ln,to,ds){return Ln&&!Ln[co]&&(Ln=xc(Ln)),to&&!to[co]&&(to=xc(to,ds)),_i(function(ys,Js,xs,mr){var Or,vr,Ur,Lo,Qr=[],Cl=[],tc=Js.length,Us=ys||zy(Jt||"*",xs.nodeType?[xs]:xs,[]),Nl=vt&&(ys||!Jt)?st(Us,Qr,vt,xs,mr):Us;if(kn?(Lo=to||(ys?vt:tc||Ln)?[]:Js,kn(Nl,Lo,xs,mr)):Lo=Nl,Ln)for(Or=st(Lo,Cl),Ln(Or,[],xs,mr),vr=Or.length;vr--;)(Ur=Or[vr])&&(Lo[Cl[vr]]=!(Nl[Cl[vr]]=Ur));if(ys){if(to||vt){if(to){for(Or=[],vr=Lo.length;vr--;)(Ur=Lo[vr])&&Or.push(Nl[vr]=Ur);to(null,Lo=[],Or,mr)}for(vr=Lo.length;vr--;)(Ur=Lo[vr])&&(Or=to?S.call(ys,Ur):Qr[vr])>-1&&(ys[Or]=!(Js[Or]=Ur))}}else Lo=st(Lo===Js?Lo.splice(tc,Lo.length):Lo),to?to(null,Js,Lo,mr):Be.apply(Js,Lo)})}function Mh(vt){for(var Jt,kn,Ln,to=vt.length,ds=X.relative[vt[0].type],ys=ds||X.relative[" "],Js=ds?1:0,xs=nu(function(vr){return vr===Jt},ys,!0),mr=nu(function(vr){return S.call(Jt,vr)>-1},ys,!0),Or=[function(vr,Ur,Lo){var Qr=!ds&&(Lo||Ur!=de)||((Jt=Ur).nodeType?xs(vr,Ur,Lo):mr(vr,Ur,Lo));return Jt=null,Qr}];Js<to;Js++)if(kn=X.relative[vt[Js].type])Or=[nu(tp(Or),kn)];else{if(kn=X.filter[vt[Js].type].apply(null,vt[Js].matches),kn[co]){for(Ln=++Js;Ln<to&&!X.relative[vt[Ln].type];Ln++);return xc(Js>1&&tp(Or),Js>1&&Dh(vt.slice(0,Js-1).concat({value:vt[Js-2].type===" "?"*":""})).replace(ct,"$1"),kn,Js<Ln&&Mh(vt.slice(Js,Ln)),Ln<to&&Mh(vt=vt.slice(Ln)),Ln<to&&Dh(vt))}Or.push(kn)}return tp(Or)}function jy(vt,Jt){var kn=Jt.length>0,Ln=vt.length>0,to=function(ds,ys,Js,xs,mr){var Or,vr,Ur,Lo=0,Qr="0",Cl=ds&&[],tc=[],Us=de,Nl=ds||Ln&&X.find.TAG("*",mr),oa=Rn+=Us==null?1:Math.random()||.1,Za=Nl.length;for(mr&&(de=ys==Ke||ys||mr);Qr!==Za&&(Or=Nl[Qr])!=null;Qr++){if(Ln&&Or){for(vr=0,!ys&&Or.ownerDocument!=Ke&&(Pd(Or),Js=!It);Ur=vt[vr++];)if(Ur(Or,ys||Ke,Js)){Be.call(xs,Or);break}mr&&(Rn=oa)}kn&&((Or=!Ur&&Or)&&Lo--,ds&&Cl.push(Or))}if(Lo+=Qr,kn&&Qr!==Lo){for(vr=0;Ur=Jt[vr++];)Ur(Cl,tc,ys,Js);if(ds){if(Lo>0)for(;Qr--;)Cl[Qr]||tc[Qr]||(tc[Qr]=$e.call(xs));tc=st(tc)}Be.apply(xs,tc),mr&&!ds&&tc.length>0&&Lo+Jt.length>1&&V.uniqueSort(xs)}return mr&&(Rn=oa,de=Us),Cl};return kn?_i(to):to}function ou(vt,Jt){var kn,Ln=[],to=[],ds=Wr[vt+" "];if(!ds){for(Jt||(Jt=Wl(vt)),kn=Jt.length;kn--;)ds=Mh(Jt[kn]),ds[co]?Ln.push(ds):to.push(ds);ds=Wr(vt,jy(to,Ln)),ds.selector=vt}return ds}function ec(vt,Jt,kn,Ln){var to,ds,ys,Js,xs,mr=typeof vt=="function"&&vt,Or=!Ln&&Wl(vt=mr.selector||vt);if(kn=kn||[],Or.length===1){if(ds=Or[0]=Or[0].slice(0),ds.length>2&&(ys=ds[0]).type==="ID"&&Jt.nodeType===9&&It&&X.relative[ds[1].type]){if(Jt=(X.find.ID(ys.matches[0].replace(bc,Pl),Jt)||[])[0],Jt)mr&&(Jt=Jt.parentNode);else return kn;vt=vt.slice(ds.shift().value.length)}for(to=sd.needsContext.test(vt)?0:ds.length;to--&&(ys=ds[to],!X.relative[Js=ys.type]);)if((xs=X.find[Js])&&(Ln=xs(ys.matches[0].replace(bc,Pl),Ig.test(ds[0].type)&&tu(Jt.parentNode)||Jt))){if(ds.splice(to,1),vt=Ln.length&&Dh(ds),!vt)return Be.apply(kn,Ln),kn;break}}return(mr||ou(vt,Or))(Ln,Jt,!It,kn,!Jt||Ig.test(vt)&&tu(Jt.parentNode)||Jt),kn}U.sortStable=co.split("").sort(wa).join("")===co,Pd(),U.sortDetached=ep(function(vt){return vt.compareDocumentPosition(Ke.createElement("fieldset"))&1}),V.find=Zi,V.expr[":"]=V.expr.pseudos,V.unique=V.uniqueSort,Zi.compile=ou,Zi.select=ec,Zi.setDocument=Pd,Zi.tokenize=Wl,Zi.escape=V.escapeSelector,Zi.getText=V.text,Zi.isXML=V.isXMLDoc,Zi.selectors=V.expr,Zi.support=V.support,Zi.uniqueSort=V.uniqueSort})();var Ht=function(L,X,de){for(var ge=[],Ie=de!==void 0;(L=L[X])&&L.nodeType!==9;)if(L.nodeType===1){if(Ie&&V(L).is(de))break;ge.push(L)}return ge},Ut=function(L,X){for(var de=[];L;L=L.nextSibling)L.nodeType===1&&L!==X&&de.push(L);return de},Xe=V.expr.match.needsContext,tn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function eo(L,X,de){return z(X)?V.grep(L,function(ge,Ie){return!!X.call(ge,Ie,ge)!==de}):X.nodeType?V.grep(L,function(ge){return ge===X!==de}):typeof X!="string"?V.grep(L,function(ge){return S.call(X,ge)>-1!==de}):V.filter(X,L,de)}V.filter=function(L,X,de){var ge=X[0];return de&&(L=":not("+L+")"),X.length===1&&ge.nodeType===1?V.find.matchesSelector(ge,L)?[ge]:[]:V.find.matches(L,V.grep(X,function(Ie){return Ie.nodeType===1}))},V.fn.extend({find:function(L){var X,de,ge=this.length,Ie=this;if(typeof L!="string")return this.pushStack(V(L).filter(function(){for(X=0;X<ge;X++)if(V.contains(Ie[X],this))return!0}));for(de=this.pushStack([]),X=0;X<ge;X++)V.find(L,Ie[X],de);return ge>1?V.uniqueSort(de):de},filter:function(L){return this.pushStack(eo(this,L||[],!1))},not:function(L){return this.pushStack(eo(this,L||[],!0))},is:function(L){return!!eo(this,typeof L=="string"&&Xe.test(L)?V(L):L||[],!1).length}});var In,mn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Dt=V.fn.init=function(L,X,de){var ge,Ie;if(!L)return this;if(de=de||In,typeof L=="string")if(L[0]==="<"&&L[L.length-1]===">"&&L.length>=3?ge=[null,L,null]:ge=mn.exec(L),ge&&(ge[1]||!X))if(ge[1]){if(X=X instanceof V?X[0]:X,V.merge(this,V.parseHTML(ge[1],X&&X.nodeType?X.ownerDocument||X:te,!0)),tn.test(ge[1])&&V.isPlainObject(X))for(ge in X)z(this[ge])?this[ge](X[ge]):this.attr(ge,X[ge]);return this}else return Ie=te.getElementById(ge[2]),Ie&&(this[0]=Ie,this.length=1),this;else return!X||X.jquery?(X||de).find(L):this.constructor(X).find(L);else{if(L.nodeType)return this[0]=L,this.length=1,this;if(z(L))return de.ready!==void 0?de.ready(L):L(V)}return V.makeArray(L,this)};Dt.prototype=V.fn,In=V(te);var un=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};V.fn.extend({has:function(L){var X=V(L,this),de=X.length;return this.filter(function(){for(var ge=0;ge<de;ge++)if(V.contains(this,X[ge]))return!0})},closest:function(L,X){var de,ge=0,Ie=this.length,Be=[],Ke=typeof L!="string"&&V(L);if(!Xe.test(L)){for(;ge<Ie;ge++)for(de=this[ge];de&&de!==X;de=de.parentNode)if(de.nodeType<11&&(Ke?Ke.index(de)>-1:de.nodeType===1&&V.find.matchesSelector(de,L))){Be.push(de);break}}return this.pushStack(Be.length>1?V.uniqueSort(Be):Be)},index:function(L){return L?typeof L=="string"?S.call(V(L),this[0]):S.call(this,L.jquery?L[0]:L):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(L,X){return this.pushStack(V.uniqueSort(V.merge(this.get(),V(L,X))))},addBack:function(L){return this.add(L==null?this.prevObject:this.prevObject.filter(L))}});function ms(L,X){for(;(L=L[X])&&L.nodeType!==1;);return L}V.each({parent:function(L){var X=L.parentNode;return X&&X.nodeType!==11?X:null},parents:function(L){return Ht(L,"parentNode")},parentsUntil:function(L,X,de){return Ht(L,"parentNode",de)},next:function(L){return ms(L,"nextSibling")},prev:function(L){return ms(L,"previousSibling")},nextAll:function(L){return Ht(L,"nextSibling")},prevAll:function(L){return Ht(L,"previousSibling")},nextUntil:function(L,X,de){return Ht(L,"nextSibling",de)},prevUntil:function(L,X,de){return Ht(L,"previousSibling",de)},siblings:function(L){return Ut((L.parentNode||{}).firstChild,L)},children:function(L){return Ut(L.firstChild)},contents:function(L){return L.contentDocument!=null&&c(L.contentDocument)?L.contentDocument:(et(L,"template")&&(L=L.content||L),V.merge([],L.childNodes))}},function(L,X){V.fn[L]=function(de,ge){var Ie=V.map(this,X,de);return L.slice(-5)!=="Until"&&(ge=de),ge&&typeof ge=="string"&&(Ie=V.filter(ge,Ie)),this.length>1&&(ye[L]||V.uniqueSort(Ie),un.test(L)&&Ie.reverse()),this.pushStack(Ie)}});var Vo=/[^\x20\t\r\n\f]+/g;function Eo(L){var X={};return V.each(L.match(Vo)||[],function(de,ge){X[ge]=!0}),X}V.Callbacks=function(L){L=typeof L=="string"?Eo(L):V.extend({},L);var X,de,ge,Ie,Be=[],Ke=[],Vt=-1,It=function(){for(Ie=Ie||L.once,ge=X=!0;Ke.length;Vt=-1)for(de=Ke.shift();++Vt<Be.length;)Be[Vt].apply(de[0],de[1])===!1&&L.stopOnFalse&&(Vt=Be.length,de=!1);L.memory||(de=!1),X=!1,Ie&&(de?Be=[]:Be="")},rn={add:function(){return Be&&(de&&!X&&(Vt=Be.length-1,Ke.push(de)),(function Hn(co){V.each(co,function(Rn,Ko){z(Ko)?(!L.unique||!rn.has(Ko))&&Be.push(Ko):Ko&&Ko.length&&Se(Ko)!=="string"&&Hn(Ko)})})(arguments),de&&!X&&It()),this},remove:function(){return V.each(arguments,function(Hn,co){for(var Rn;(Rn=V.inArray(co,Be,Rn))>-1;)Be.splice(Rn,1),Rn<=Vt&&Vt--}),this},has:function(Hn){return Hn?V.inArray(Hn,Be)>-1:Be.length>0},empty:function(){return Be&&(Be=[]),this},disable:function(){return Ie=Ke=[],Be=de="",this},disabled:function(){return!Be},lock:function(){return Ie=Ke=[],!de&&!X&&(Be=de=""),this},locked:function(){return!!Ie},fireWith:function(Hn,co){return Ie||(co=co||[],co=[Hn,co.slice?co.slice():co],Ke.push(co),X||It()),this},fire:function(){return rn.fireWith(this,arguments),this},fired:function(){return!!ge}};return rn};function Oo(L){return L}function Zn(L){throw L}function xt(L,X,de,ge){var Ie;try{L&&z(Ie=L.promise)?Ie.call(L).done(X).fail(de):L&&z(Ie=L.then)?Ie.call(L,X,de):X.apply(void 0,[L].slice(ge))}catch(Be){de.apply(void 0,[Be])}}V.extend({Deferred:function(L){var X=[["notify","progress",V.Callbacks("memory"),V.Callbacks("memory"),2],["resolve","done",V.Callbacks("once memory"),V.Callbacks("once memory"),0,"resolved"],["reject","fail",V.Callbacks("once memory"),V.Callbacks("once memory"),1,"rejected"]],de="pending",ge={state:function(){return de},always:function(){return Ie.done(arguments).fail(arguments),this},catch:function(Be){return ge.then(null,Be)},pipe:function(){var Be=arguments;return V.Deferred(function(Ke){V.each(X,function(Vt,It){var rn=z(Be[It[4]])&&Be[It[4]];Ie[It[1]](function(){var Hn=rn&&rn.apply(this,arguments);Hn&&z(Hn.promise)?Hn.promise().progress(Ke.notify).done(Ke.resolve).fail(Ke.reject):Ke[It[0]+"With"](this,rn?[Hn]:arguments)})}),Be=null}).promise()},then:function(Be,Ke,Vt){var It=0;function rn(Hn,co,Rn,Ko){return function(){var kr=this,wi=arguments,Wr=function(){var wa,od;if(!(Hn<It)){if(wa=Rn.apply(kr,wi),wa===co.promise())throw new TypeError("Thenable self-resolution");od=wa&&(typeof wa=="object"||typeof wa=="function")&&wa.then,z(od)?Ko?od.call(wa,rn(It,co,Oo,Ko),rn(It,co,Zn,Ko)):(It++,od.call(wa,rn(It,co,Oo,Ko),rn(It,co,Zn,Ko),rn(It,co,Oo,co.notifyWith))):(Rn!==Oo&&(kr=void 0,wi=[wa]),(Ko||co.resolveWith)(kr,wi))}},jl=Ko?Wr:function(){try{Wr()}catch(wa){V.Deferred.exceptionHook&&V.Deferred.exceptionHook(wa,jl.error),Hn+1>=It&&(Rn!==Zn&&(kr=void 0,wi=[wa]),co.rejectWith(kr,wi))}};Hn?jl():(V.Deferred.getErrorHook?jl.error=V.Deferred.getErrorHook():V.Deferred.getStackHook&&(jl.error=V.Deferred.getStackHook()),n.setTimeout(jl))}}return V.Deferred(function(Hn){X[0][3].add(rn(0,Hn,z(Vt)?Vt:Oo,Hn.notifyWith)),X[1][3].add(rn(0,Hn,z(Be)?Be:Oo)),X[2][3].add(rn(0,Hn,z(Ke)?Ke:Zn))}).promise()},promise:function(Be){return Be!=null?V.extend(Be,ge):ge}},Ie={};return V.each(X,function(Be,Ke){var Vt=Ke[2],It=Ke[5];ge[Ke[1]]=Vt.add,It&&Vt.add(function(){de=It},X[3-Be][2].disable,X[3-Be][3].disable,X[0][2].lock,X[0][3].lock),Vt.add(Ke[3].fire),Ie[Ke[0]]=function(){return Ie[Ke[0]+"With"](this===Ie?void 0:this,arguments),this},Ie[Ke[0]+"With"]=Vt.fireWith}),ge.promise(Ie),L&&L.call(Ie,Ie),Ie},when:function(L){var X=arguments.length,de=X,ge=Array(de),Ie=d.call(arguments),Be=V.Deferred(),Ke=function(Vt){return function(It){ge[Vt]=this,Ie[Vt]=arguments.length>1?d.call(arguments):It,--X||Be.resolveWith(ge,Ie)}};if(X<=1&&(xt(L,Be.done(Ke(de)).resolve,Be.reject,!X),Be.state()==="pending"||z(Ie[de]&&Ie[de].then)))return Be.then();for(;de--;)xt(Ie[de],Ke(de),Be.reject);return Be.promise()}});var cn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;V.Deferred.exceptionHook=function(L,X){n.console&&n.console.warn&&L&&cn.test(L.name)&&n.console.warn("jQuery.Deferred exception: "+L.message,L.stack,X)},V.readyException=function(L){n.setTimeout(function(){throw L})};var vn=V.Deferred();V.fn.ready=function(L){return vn.then(L).catch(function(X){V.readyException(X)}),this},V.extend({isReady:!1,readyWait:1,ready:function(L){(L===!0?--V.readyWait:V.isReady)||(V.isReady=!0,!(L!==!0&&--V.readyWait>0)&&vn.resolveWith(te,[V]))}}),V.ready.then=vn.then;function qe(){te.removeEventListener("DOMContentLoaded",qe),n.removeEventListener("load",qe),V.ready()}te.readyState==="complete"||te.readyState!=="loading"&&!te.documentElement.doScroll?n.setTimeout(V.ready):(te.addEventListener("DOMContentLoaded",qe),n.addEventListener("load",qe));var pt=function(L,X,de,ge,Ie,Be,Ke){var Vt=0,It=L.length,rn=de==null;if(Se(de)==="object"){Ie=!0;for(Vt in de)pt(L,X,Vt,de[Vt],!0,Be,Ke)}else if(ge!==void 0&&(Ie=!0,z(ge)||(Ke=!0),rn&&(Ke?(X.call(L,ge),X=null):(rn=X,X=function(Hn,co,Rn){return rn.call(V(Hn),Rn)})),X))for(;Vt<It;Vt++)X(L[Vt],de,Ke?ge:ge.call(L[Vt],Vt,X(L[Vt],de)));return Ie?L:rn?X.call(L):It?X(L[0],de):Be},Ft=/^-ms-/,Ve=/-([a-z])/g;function Ot(L,X){return X.toUpperCase()}function Nt(L){return L.replace(Ft,"ms-").replace(Ve,Ot)}var Gt=function(L){return L.nodeType===1||L.nodeType===9||!+L.nodeType};function Tt(){this.expando=V.expando+Tt.uid++}Tt.uid=1,Tt.prototype={cache:function(L){var X=L[this.expando];return X||(X={},Gt(L)&&(L.nodeType?L[this.expando]=X:Object.defineProperty(L,this.expando,{value:X,configurable:!0}))),X},set:function(L,X,de){var ge,Ie=this.cache(L);if(typeof X=="string")Ie[Nt(X)]=de;else for(ge in X)Ie[Nt(ge)]=X[ge];return Ie},get:function(L,X){return X===void 0?this.cache(L):L[this.expando]&&L[this.expando][Nt(X)]},access:function(L,X,de){return X===void 0||X&&typeof X=="string"&&de===void 0?this.get(L,X):(this.set(L,X,de),de!==void 0?de:X)},remove:function(L,X){var de,ge=L[this.expando];if(ge!==void 0){if(X!==void 0)for(Array.isArray(X)?X=X.map(Nt):(X=Nt(X),X=X in ge?[X]:X.match(Vo)||[]),de=X.length;de--;)delete ge[X[de]];(X===void 0||V.isEmptyObject(ge))&&(L.nodeType?L[this.expando]=void 0:delete L[this.expando])}},hasData:function(L){var X=L[this.expando];return X!==void 0&&!V.isEmptyObject(X)}};var Et=new Tt,Yn=new Tt,fo=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ro=/[A-Z]/g;function io(L){return L==="true"?!0:L==="false"?!1:L==="null"?null:L===+L+""?+L:fo.test(L)?JSON.parse(L):L}function no(L,X,de){var ge;if(de===void 0&&L.nodeType===1)if(ge="data-"+X.replace(ro,"-$&").toLowerCase(),de=L.getAttribute(ge),typeof de=="string"){try{de=io(de)}catch{}Yn.set(L,X,de)}else de=void 0;return de}V.extend({hasData:function(L){return Yn.hasData(L)||Et.hasData(L)},data:function(L,X,de){return Yn.access(L,X,de)},removeData:function(L,X){Yn.remove(L,X)},_data:function(L,X,de){return Et.access(L,X,de)},_removeData:function(L,X){Et.remove(L,X)}}),V.fn.extend({data:function(L,X){var de,ge,Ie,Be=this[0],Ke=Be&&Be.attributes;if(L===void 0){if(this.length&&(Ie=Yn.get(Be),Be.nodeType===1&&!Et.get(Be,"hasDataAttrs"))){for(de=Ke.length;de--;)Ke[de]&&(ge=Ke[de].name,ge.indexOf("data-")===0&&(ge=Nt(ge.slice(5)),no(Be,ge,Ie[ge])));Et.set(Be,"hasDataAttrs",!0)}return Ie}return typeof L=="object"?this.each(function(){Yn.set(this,L)}):pt(this,function(Vt){var It;if(Be&&Vt===void 0)return It=Yn.get(Be,L),It!==void 0||(It=no(Be,L),It!==void 0)?It:void 0;this.each(function(){Yn.set(this,L,Vt)})},null,X,arguments.length>1,null,!0)},removeData:function(L){return this.each(function(){Yn.remove(this,L)})}}),V.extend({queue:function(L,X,de){var ge;if(L)return X=(X||"fx")+"queue",ge=Et.get(L,X),de&&(!ge||Array.isArray(de)?ge=Et.access(L,X,V.makeArray(de)):ge.push(de)),ge||[]},dequeue:function(L,X){X=X||"fx";var de=V.queue(L,X),ge=de.length,Ie=de.shift(),Be=V._queueHooks(L,X),Ke=function(){V.dequeue(L,X)};Ie==="inprogress"&&(Ie=de.shift(),ge--),Ie&&(X==="fx"&&de.unshift("inprogress"),delete Be.stop,Ie.call(L,Ke,Be)),!ge&&Be&&Be.empty.fire()},_queueHooks:function(L,X){var de=X+"queueHooks";return Et.get(L,de)||Et.access(L,de,{empty:V.Callbacks("once memory").add(function(){Et.remove(L,[X+"queue",de])})})}}),V.fn.extend({queue:function(L,X){var de=2;return typeof L!="string"&&(X=L,L="fx",de--),arguments.length<de?V.queue(this[0],L):X===void 0?this:this.each(function(){var ge=V.queue(this,L,X);V._queueHooks(this,L),L==="fx"&&ge[0]!=="inprogress"&&V.dequeue(this,L)})},dequeue:function(L){return this.each(function(){V.dequeue(this,L)})},clearQueue:function(L){return this.queue(L||"fx",[])},promise:function(L,X){var de,ge=1,Ie=V.Deferred(),Be=this,Ke=this.length,Vt=function(){--ge||Ie.resolveWith(Be,[Be])};for(typeof L!="string"&&(X=L,L=void 0),L=L||"fx";Ke--;)de=Et.get(Be[Ke],L+"queueHooks"),de&&de.empty&&(ge++,de.empty.add(Vt));return Vt(),Ie.promise(X)}});var _s=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Wo=new RegExp("^(?:([+-])=|)("+_s+")([a-z%]*)$","i"),Bs=["Top","Right","Bottom","Left"],Pn=te.documentElement,xe=function(L){return V.contains(L.ownerDocument,L)},je={composed:!0};Pn.getRootNode&&(xe=function(L){return V.contains(L.ownerDocument,L)||L.getRootNode(je)===L.ownerDocument});var rt=function(L,X){return L=X||L,L.style.display==="none"||L.style.display===""&&xe(L)&&V.css(L,"display")==="none"};function Je(L,X,de,ge){var Ie,Be,Ke=20,Vt=ge?function(){return ge.cur()}:function(){return V.css(L,X,"")},It=Vt(),rn=de&&de[3]||(V.cssNumber[X]?"":"px"),Hn=L.nodeType&&(V.cssNumber[X]||rn!=="px"&&+It)&&Wo.exec(V.css(L,X));if(Hn&&Hn[3]!==rn){for(It=It/2,rn=rn||Hn[3],Hn=+It||1;Ke--;)V.style(L,X,Hn+rn),(1-Be)*(1-(Be=Vt()/It||.5))<=0&&(Ke=0),Hn=Hn/Be;Hn=Hn*2,V.style(L,X,Hn+rn),de=de||[]}return de&&(Hn=+Hn||+It||0,Ie=de[1]?Hn+(de[1]+1)*de[2]:+de[2],ge&&(ge.unit=rn,ge.start=Hn,ge.end=Ie)),Ie}var Pt={};function kt(L){var X,de=L.ownerDocument,ge=L.nodeName,Ie=Pt[ge];return Ie||(X=de.body.appendChild(de.createElement(ge)),Ie=V.css(X,"display"),X.parentNode.removeChild(X),Ie==="none"&&(Ie="block"),Pt[ge]=Ie,Ie)}function wt(L,X){for(var de,ge,Ie=[],Be=0,Ke=L.length;Be<Ke;Be++)ge=L[Be],ge.style&&(de=ge.style.display,X?(de==="none"&&(Ie[Be]=Et.get(ge,"display")||null,Ie[Be]||(ge.style.display="")),ge.style.display===""&&rt(ge)&&(Ie[Be]=kt(ge))):de!=="none"&&(Ie[Be]="none",Et.set(ge,"display",de)));for(Be=0;Be<Ke;Be++)Ie[Be]!=null&&(L[Be].style.display=Ie[Be]);return L}V.fn.extend({show:function(){return wt(this,!0)},hide:function(){return wt(this)},toggle:function(L){return typeof L=="boolean"?L?this.show():this.hide():this.each(function(){rt(this)?V(this).show():V(this).hide()})}});var Zt=/^(?:checkbox|radio)$/i,en=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,jn=/^$|^module$|\/(?:java|ecma)script/i;(function(){var L=te.createDocumentFragment(),X=L.appendChild(te.createElement("div")),de=te.createElement("input");de.setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),X.appendChild(de),U.checkClone=X.cloneNode(!0).cloneNode(!0).lastChild.checked,X.innerHTML="<textarea>x</textarea>",U.noCloneChecked=!!X.cloneNode(!0).lastChild.defaultValue,X.innerHTML="<option></option>",U.option=!!X.lastChild})();var sn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,U.option||(sn.optgroup=sn.option=[1,"<select multiple='multiple'>","</select>"]);function Wt(L,X){var de;return typeof L.getElementsByTagName<"u"?de=L.getElementsByTagName(X||"*"):typeof L.querySelectorAll<"u"?de=L.querySelectorAll(X||"*"):de=[],X===void 0||X&&et(L,X)?V.merge([L],de):de}function _o(L,X){for(var de=0,ge=L.length;de<ge;de++)Et.set(L[de],"globalEval",!X||Et.get(X[de],"globalEval"))}var $o=/<|&#?\w+;/;function Cs(L,X,de,ge,Ie){for(var Be,Ke,Vt,It,rn,Hn,co=X.createDocumentFragment(),Rn=[],Ko=0,kr=L.length;Ko<kr;Ko++)if(Be=L[Ko],Be||Be===0)if(Se(Be)==="object")V.merge(Rn,Be.nodeType?[Be]:Be);else if(!$o.test(Be))Rn.push(X.createTextNode(Be));else{for(Ke=Ke||co.appendChild(X.createElement("div")),Vt=(en.exec(Be)||["",""])[1].toLowerCase(),It=sn[Vt]||sn._default,Ke.innerHTML=It[1]+V.htmlPrefilter(Be)+It[2],Hn=It[0];Hn--;)Ke=Ke.lastChild;V.merge(Rn,Ke.childNodes),Ke=co.firstChild,Ke.textContent=""}for(co.textContent="",Ko=0;Be=Rn[Ko++];){if(ge&&V.inArray(Be,ge)>-1){Ie&&Ie.push(Be);continue}if(rn=xe(Be),Ke=Wt(co.appendChild(Be),"script"),rn&&_o(Ke),de)for(Hn=0;Be=Ke[Hn++];)jn.test(Be.type||"")&&de.push(Be)}return co}var Hs=/^([^.]*)(?:\.(.+)|)/;function or(){return!0}function No(){return!1}function Xo(L,X,de,ge,Ie,Be){var Ke,Vt;if(typeof X=="object"){typeof de!="string"&&(ge=ge||de,de=void 0);for(Vt in X)Xo(L,Vt,de,ge,X[Vt],Be);return L}if(ge==null&&Ie==null?(Ie=de,ge=de=void 0):Ie==null&&(typeof de=="string"?(Ie=ge,ge=void 0):(Ie=ge,ge=de,de=void 0)),Ie===!1)Ie=No;else if(!Ie)return L;return Be===1&&(Ke=Ie,Ie=function(It){return V().off(It),Ke.apply(this,arguments)},Ie.guid=Ke.guid||(Ke.guid=V.guid++)),L.each(function(){V.event.add(this,X,Ie,ge,de)})}V.event={global:{},add:function(L,X,de,ge,Ie){var Be,Ke,Vt,It,rn,Hn,co,Rn,Ko,kr,wi,Wr=Et.get(L);if(Gt(L))for(de.handler&&(Be=de,de=Be.handler,Ie=Be.selector),Ie&&V.find.matchesSelector(Pn,Ie),de.guid||(de.guid=V.guid++),(It=Wr.events)||(It=Wr.events=Object.create(null)),(Ke=Wr.handle)||(Ke=Wr.handle=function(jl){return typeof V<"u"&&V.event.triggered!==jl.type?V.event.dispatch.apply(L,arguments):void 0}),X=(X||"").match(Vo)||[""],rn=X.length;rn--;)Vt=Hs.exec(X[rn])||[],Ko=wi=Vt[1],kr=(Vt[2]||"").split(".").sort(),Ko&&(co=V.event.special[Ko]||{},Ko=(Ie?co.delegateType:co.bindType)||Ko,co=V.event.special[Ko]||{},Hn=V.extend({type:Ko,origType:wi,data:ge,handler:de,guid:de.guid,selector:Ie,needsContext:Ie&&V.expr.match.needsContext.test(Ie),namespace:kr.join(".")},Be),(Rn=It[Ko])||(Rn=It[Ko]=[],Rn.delegateCount=0,(!co.setup||co.setup.call(L,ge,kr,Ke)===!1)&&L.addEventListener&&L.addEventListener(Ko,Ke)),co.add&&(co.add.call(L,Hn),Hn.handler.guid||(Hn.handler.guid=de.guid)),Ie?Rn.splice(Rn.delegateCount++,0,Hn):Rn.push(Hn),V.event.global[Ko]=!0)},remove:function(L,X,de,ge,Ie){var Be,Ke,Vt,It,rn,Hn,co,Rn,Ko,kr,wi,Wr=Et.hasData(L)&&Et.get(L);if(!(!Wr||!(It=Wr.events))){for(X=(X||"").match(Vo)||[""],rn=X.length;rn--;){if(Vt=Hs.exec(X[rn])||[],Ko=wi=Vt[1],kr=(Vt[2]||"").split(".").sort(),!Ko){for(Ko in It)V.event.remove(L,Ko+X[rn],de,ge,!0);continue}for(co=V.event.special[Ko]||{},Ko=(ge?co.delegateType:co.bindType)||Ko,Rn=It[Ko]||[],Vt=Vt[2]&&new RegExp("(^|\\.)"+kr.join("\\.(?:.*\\.|)")+"(\\.|$)"),Ke=Be=Rn.length;Be--;)Hn=Rn[Be],(Ie||wi===Hn.origType)&&(!de||de.guid===Hn.guid)&&(!Vt||Vt.test(Hn.namespace))&&(!ge||ge===Hn.selector||ge==="**"&&Hn.selector)&&(Rn.splice(Be,1),Hn.selector&&Rn.delegateCount--,co.remove&&co.remove.call(L,Hn));Ke&&!Rn.length&&((!co.teardown||co.teardown.call(L,kr,Wr.handle)===!1)&&V.removeEvent(L,Ko,Wr.handle),delete It[Ko])}V.isEmptyObject(It)&&Et.remove(L,"handle events")}},dispatch:function(L){var X,de,ge,Ie,Be,Ke,Vt=new Array(arguments.length),It=V.event.fix(L),rn=(Et.get(this,"events")||Object.create(null))[It.type]||[],Hn=V.event.special[It.type]||{};for(Vt[0]=It,X=1;X<arguments.length;X++)Vt[X]=arguments[X];if(It.delegateTarget=this,!(Hn.preDispatch&&Hn.preDispatch.call(this,It)===!1)){for(Ke=V.event.handlers.call(this,It,rn),X=0;(Ie=Ke[X++])&&!It.isPropagationStopped();)for(It.currentTarget=Ie.elem,de=0;(Be=Ie.handlers[de++])&&!It.isImmediatePropagationStopped();)(!It.rnamespace||Be.namespace===!1||It.rnamespace.test(Be.namespace))&&(It.handleObj=Be,It.data=Be.data,ge=((V.event.special[Be.origType]||{}).handle||Be.handler).apply(Ie.elem,Vt),ge!==void 0&&(It.result=ge)===!1&&(It.preventDefault(),It.stopPropagation()));return Hn.postDispatch&&Hn.postDispatch.call(this,It),It.result}},handlers:function(L,X){var de,ge,Ie,Be,Ke,Vt=[],It=X.delegateCount,rn=L.target;if(It&&rn.nodeType&&!(L.type==="click"&&L.button>=1)){for(;rn!==this;rn=rn.parentNode||this)if(rn.nodeType===1&&!(L.type==="click"&&rn.disabled===!0)){for(Be=[],Ke={},de=0;de<It;de++)ge=X[de],Ie=ge.selector+" ",Ke[Ie]===void 0&&(Ke[Ie]=ge.needsContext?V(Ie,this).index(rn)>-1:V.find(Ie,this,null,[rn]).length),Ke[Ie]&&Be.push(ge);Be.length&&Vt.push({elem:rn,handlers:Be})}}return rn=this,It<X.length&&Vt.push({elem:rn,handlers:X.slice(It)}),Vt},addProp:function(L,X){Object.defineProperty(V.Event.prototype,L,{enumerable:!0,configurable:!0,get:z(X)?function(){if(this.originalEvent)return X(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[L]},set:function(de){Object.defineProperty(this,L,{enumerable:!0,configurable:!0,writable:!0,value:de})}})},fix:function(L){return L[V.expando]?L:new V.Event(L)},special:{load:{noBubble:!0},click:{setup:function(L){var X=this||L;return Zt.test(X.type)&&X.click&&et(X,"input")&&es(X,"click",!0),!1},trigger:function(L){var X=this||L;return Zt.test(X.type)&&X.click&&et(X,"input")&&es(X,"click"),!0},_default:function(L){var X=L.target;return Zt.test(X.type)&&X.click&&et(X,"input")&&Et.get(X,"click")||et(X,"a")}},beforeunload:{postDispatch:function(L){L.result!==void 0&&L.originalEvent&&(L.originalEvent.returnValue=L.result)}}}};function es(L,X,de){if(!de){Et.get(L,X)===void 0&&V.event.add(L,X,or);return}Et.set(L,X,!1),V.event.add(L,X,{namespace:!1,handler:function(ge){var Ie,Be=Et.get(this,X);if(ge.isTrigger&1&&this[X]){if(Be)(V.event.special[X]||{}).delegateType&&ge.stopPropagation();else if(Be=d.call(arguments),Et.set(this,X,Be),this[X](),Ie=Et.get(this,X),Et.set(this,X,!1),Be!==Ie)return ge.stopImmediatePropagation(),ge.preventDefault(),Ie}else Be&&(Et.set(this,X,V.event.trigger(Be[0],Be.slice(1),this)),ge.stopPropagation(),ge.isImmediatePropagationStopped=or)}})}V.removeEvent=function(L,X,de){L.removeEventListener&&L.removeEventListener(X,de)},V.Event=function(L,X){if(!(this instanceof V.Event))return new V.Event(L,X);L&&L.type?(this.originalEvent=L,this.type=L.type,this.isDefaultPrevented=L.defaultPrevented||L.defaultPrevented===void 0&&L.returnValue===!1?or:No,this.target=L.target&&L.target.nodeType===3?L.target.parentNode:L.target,this.currentTarget=L.currentTarget,this.relatedTarget=L.relatedTarget):this.type=L,X&&V.extend(this,X),this.timeStamp=L&&L.timeStamp||Date.now(),this[V.expando]=!0},V.Event.prototype={constructor:V.Event,isDefaultPrevented:No,isPropagationStopped:No,isImmediatePropagationStopped:No,isSimulated:!1,preventDefault:function(){var L=this.originalEvent;this.isDefaultPrevented=or,L&&!this.isSimulated&&L.preventDefault()},stopPropagation:function(){var L=this.originalEvent;this.isPropagationStopped=or,L&&!this.isSimulated&&L.stopPropagation()},stopImmediatePropagation:function(){var L=this.originalEvent;this.isImmediatePropagationStopped=or,L&&!this.isSimulated&&L.stopImmediatePropagation(),this.stopPropagation()}},V.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},V.event.addProp),V.each({focus:"focusin",blur:"focusout"},function(L,X){function de(ge){if(te.documentMode){var Ie=Et.get(this,"handle"),Be=V.event.fix(ge);Be.type=ge.type==="focusin"?"focus":"blur",Be.isSimulated=!0,Ie(ge),Be.target===Be.currentTarget&&Ie(Be)}else V.event.simulate(X,ge.target,V.event.fix(ge))}V.event.special[L]={setup:function(){var ge;if(es(this,L,!0),te.documentMode)ge=Et.get(this,X),ge||this.addEventListener(X,de),Et.set(this,X,(ge||0)+1);else return!1},trigger:function(){return es(this,L),!0},teardown:function(){var ge;if(te.documentMode)ge=Et.get(this,X)-1,ge?Et.set(this,X,ge):(this.removeEventListener(X,de),Et.remove(this,X));else return!1},_default:function(ge){return Et.get(ge.target,L)},delegateType:X},V.event.special[X]={setup:function(){var ge=this.ownerDocument||this.document||this,Ie=te.documentMode?this:ge,Be=Et.get(Ie,X);Be||(te.documentMode?this.addEventListener(X,de):ge.addEventListener(L,de,!0)),Et.set(Ie,X,(Be||0)+1)},teardown:function(){var ge=this.ownerDocument||this.document||this,Ie=te.documentMode?this:ge,Be=Et.get(Ie,X)-1;Be?Et.set(Ie,X,Be):(te.documentMode?this.removeEventListener(X,de):ge.removeEventListener(L,de,!0),Et.remove(Ie,X))}}}),V.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(L,X){V.event.special[L]={delegateType:X,bindType:X,handle:function(de){var ge,Ie=this,Be=de.relatedTarget,Ke=de.handleObj;return(!Be||Be!==Ie&&!V.contains(Ie,Be))&&(de.type=Ke.origType,ge=Ke.handler.apply(this,arguments),de.type=X),ge}}}),V.fn.extend({on:function(L,X,de,ge){return Xo(this,L,X,de,ge)},one:function(L,X,de,ge){return Xo(this,L,X,de,ge,1)},off:function(L,X,de){var ge,Ie;if(L&&L.preventDefault&&L.handleObj)return ge=L.handleObj,V(L.delegateTarget).off(ge.namespace?ge.origType+"."+ge.namespace:ge.origType,ge.selector,ge.handler),this;if(typeof L=="object"){for(Ie in L)this.off(Ie,X,L[Ie]);return this}return(X===!1||typeof X=="function")&&(de=X,X=void 0),de===!1&&(de=No),this.each(function(){V.event.remove(this,L,de,X)})}});var Ma=/<script|<style|<link/i,kl=/checked\s*(?:[^=]|=\s*.checked.)/i,oi=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function zo(L,X){return et(L,"table")&&et(X.nodeType!==11?X:X.firstChild,"tr")&&V(L).children("tbody")[0]||L}function il(L){return L.type=(L.getAttribute("type")!==null)+"/"+L.type,L}function da(L){return(L.type||"").slice(0,5)==="true/"?L.type=L.type.slice(5):L.removeAttribute("type"),L}function Qu(L,X){var de,ge,Ie,Be,Ke,Vt,It;if(X.nodeType===1){if(Et.hasData(L)&&(Be=Et.get(L),It=Be.events,It)){Et.remove(X,"handle events");for(Ie in It)for(de=0,ge=It[Ie].length;de<ge;de++)V.event.add(X,Ie,It[Ie][de])}Yn.hasData(L)&&(Ke=Yn.access(L),Vt=V.extend({},Ke),Yn.set(X,Vt))}}function Ea(L,X){var de=X.nodeName.toLowerCase();de==="input"&&Zt.test(L.type)?X.checked=L.checked:(de==="input"||de==="textarea")&&(X.defaultValue=L.defaultValue)}function fc(L,X,de,ge){X=p(X);var Ie,Be,Ke,Vt,It,rn,Hn=0,co=L.length,Rn=co-1,Ko=X[0],kr=z(Ko);if(kr||co>1&&typeof Ko=="string"&&!U.checkClone&&kl.test(Ko))return L.each(function(wi){var Wr=L.eq(wi);kr&&(X[0]=Ko.call(this,wi,Wr.html())),fc(Wr,X,de,ge)});if(co&&(Ie=Cs(X,L[0].ownerDocument,!1,L,ge),Be=Ie.firstChild,Ie.childNodes.length===1&&(Ie=Be),Be||ge)){for(Ke=V.map(Wt(Ie,"script"),il),Vt=Ke.length;Hn<co;Hn++)It=Ie,Hn!==Rn&&(It=V.clone(It,!0,!0),Vt&&V.merge(Ke,Wt(It,"script"))),de.call(L[Hn],It,Hn);if(Vt)for(rn=Ke[Ke.length-1].ownerDocument,V.map(Ke,da),Hn=0;Hn<Vt;Hn++)It=Ke[Hn],jn.test(It.type||"")&&!Et.access(It,"globalEval")&&V.contains(rn,It)&&(It.src&&(It.type||"").toLowerCase()!=="module"?V._evalUrl&&!It.noModule&&V._evalUrl(It.src,{nonce:It.nonce||It.getAttribute("nonce")},rn):se(It.textContent.replace(oi,""),It,rn))}return L}function $r(L,X,de){for(var ge,Ie=X?V.filter(X,L):L,Be=0;(ge=Ie[Be])!=null;Be++)!de&&ge.nodeType===1&&V.cleanData(Wt(ge)),ge.parentNode&&(de&&xe(ge)&&_o(Wt(ge,"script")),ge.parentNode.removeChild(ge));return L}V.extend({htmlPrefilter:function(L){return L},clone:function(L,X,de){var ge,Ie,Be,Ke,Vt=L.cloneNode(!0),It=xe(L);if(!U.noCloneChecked&&(L.nodeType===1||L.nodeType===11)&&!V.isXMLDoc(L))for(Ke=Wt(Vt),Be=Wt(L),ge=0,Ie=Be.length;ge<Ie;ge++)Ea(Be[ge],Ke[ge]);if(X)if(de)for(Be=Be||Wt(L),Ke=Ke||Wt(Vt),ge=0,Ie=Be.length;ge<Ie;ge++)Qu(Be[ge],Ke[ge]);else Qu(L,Vt);return Ke=Wt(Vt,"script"),Ke.length>0&&_o(Ke,!It&&Wt(L,"script")),Vt},cleanData:function(L){for(var X,de,ge,Ie=V.event.special,Be=0;(de=L[Be])!==void 0;Be++)if(Gt(de)){if(X=de[Et.expando]){if(X.events)for(ge in X.events)Ie[ge]?V.event.remove(de,ge):V.removeEvent(de,ge,X.handle);de[Et.expando]=void 0}de[Yn.expando]&&(de[Yn.expando]=void 0)}}}),V.fn.extend({detach:function(L){return $r(this,L,!0)},remove:function(L){return $r(this,L)},text:function(L){return pt(this,function(X){return X===void 0?V.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=X)})},null,L,arguments.length)},append:function(){return fc(this,arguments,function(L){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var X=zo(this,L);X.appendChild(L)}})},prepend:function(){return fc(this,arguments,function(L){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var X=zo(this,L);X.insertBefore(L,X.firstChild)}})},before:function(){return fc(this,arguments,function(L){this.parentNode&&this.parentNode.insertBefore(L,this)})},after:function(){return fc(this,arguments,function(L){this.parentNode&&this.parentNode.insertBefore(L,this.nextSibling)})},empty:function(){for(var L,X=0;(L=this[X])!=null;X++)L.nodeType===1&&(V.cleanData(Wt(L,!1)),L.textContent="");return this},clone:function(L,X){return L=L??!1,X=X??L,this.map(function(){return V.clone(this,L,X)})},html:function(L){return pt(this,function(X){var de=this[0]||{},ge=0,Ie=this.length;if(X===void 0&&de.nodeType===1)return de.innerHTML;if(typeof X=="string"&&!Ma.test(X)&&!sn[(en.exec(X)||["",""])[1].toLowerCase()]){X=V.htmlPrefilter(X);try{for(;ge<Ie;ge++)de=this[ge]||{},de.nodeType===1&&(V.cleanData(Wt(de,!1)),de.innerHTML=X);de=0}catch{}}de&&this.empty().append(X)},null,L,arguments.length)},replaceWith:function(){var L=[];return fc(this,arguments,function(X){var de=this.parentNode;V.inArray(this,L)<0&&(V.cleanData(Wt(this)),de&&de.replaceChild(X,this))},L)}}),V.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(L,X){V.fn[L]=function(de){for(var ge,Ie=[],Be=V(de),Ke=Be.length-1,Vt=0;Vt<=Ke;Vt++)ge=Vt===Ke?this:this.clone(!0),V(Be[Vt])[X](ge),v.apply(Ie,ge.get());return this.pushStack(Ie)}});var Oa=new RegExp("^("+_s+")(?!px)[a-z%]+$","i"),Id=/^--/,ed=function(L){var X=L.ownerDocument.defaultView;return(!X||!X.opener)&&(X=n),X.getComputedStyle(L)},Xc=function(L,X,de){var ge,Ie,Be={};for(Ie in X)Be[Ie]=L.style[Ie],L.style[Ie]=X[Ie];ge=de.call(L);for(Ie in X)L.style[Ie]=Be[Ie];return ge},pl=new RegExp(Bs.join("|"),"i");(function(){function L(){if(rn){It.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",rn.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Pn.appendChild(It).appendChild(rn);var Hn=n.getComputedStyle(rn);de=Hn.top!=="1%",Vt=X(Hn.marginLeft)===12,rn.style.right="60%",Be=X(Hn.right)===36,ge=X(Hn.width)===36,rn.style.position="absolute",Ie=X(rn.offsetWidth/3)===12,Pn.removeChild(It),rn=null}}function X(Hn){return Math.round(parseFloat(Hn))}var de,ge,Ie,Be,Ke,Vt,It=te.createElement("div"),rn=te.createElement("div");rn.style&&(rn.style.backgroundClip="content-box",rn.cloneNode(!0).style.backgroundClip="",U.clearCloneStyle=rn.style.backgroundClip==="content-box",V.extend(U,{boxSizingReliable:function(){return L(),ge},pixelBoxStyles:function(){return L(),Be},pixelPosition:function(){return L(),de},reliableMarginLeft:function(){return L(),Vt},scrollboxSize:function(){return L(),Ie},reliableTrDimensions:function(){var Hn,co,Rn,Ko;return Ke==null&&(Hn=te.createElement("table"),co=te.createElement("tr"),Rn=te.createElement("div"),Hn.style.cssText="position:absolute;left:-11111px;border-collapse:separate",co.style.cssText="box-sizing:content-box;border:1px solid",co.style.height="1px",Rn.style.height="9px",Rn.style.display="block",Pn.appendChild(Hn).appendChild(co).appendChild(Rn),Ko=n.getComputedStyle(co),Ke=parseInt(Ko.height,10)+parseInt(Ko.borderTopWidth,10)+parseInt(Ko.borderBottomWidth,10)===co.offsetHeight,Pn.removeChild(Hn)),Ke}}))})();function td(L,X,de){var ge,Ie,Be,Ke,Vt=Id.test(X),It=L.style;return de=de||ed(L),de&&(Ke=de.getPropertyValue(X)||de[X],Vt&&Ke&&(Ke=Ke.replace(ct,"$1")||void 0),Ke===""&&!xe(L)&&(Ke=V.style(L,X)),!U.pixelBoxStyles()&&Oa.test(Ke)&&pl.test(X)&&(ge=It.width,Ie=It.minWidth,Be=It.maxWidth,It.minWidth=It.maxWidth=It.width=Ke,Ke=de.width,It.width=ge,It.minWidth=Ie,It.maxWidth=Be)),Ke!==void 0?Ke+"":Ke}function Rd(L,X){return{get:function(){if(L()){delete this.get;return}return(this.get=X).apply(this,arguments)}}}var wo=["Webkit","Moz","ms"],Zf=te.createElement("div").style,th={};function xh(L){for(var X=L[0].toUpperCase()+L.slice(1),de=wo.length;de--;)if(L=wo[de]+X,L in Zf)return L}function Xr(L){var X=V.cssProps[L]||th[L];return X||(L in Zf?L:th[L]=xh(L)||L)}var Oh=/^(none|table(?!-c[ea]).+)/,Pc={position:"absolute",visibility:"hidden",display:"block"},Ar={letterSpacing:"0",fontWeight:"400"};function Au(L,X,de){var ge=Wo.exec(X);return ge?Math.max(0,ge[2]-(de||0))+(ge[3]||"px"):X}function nh(L,X,de,ge,Ie,Be){var Ke=X==="width"?1:0,Vt=0,It=0,rn=0;if(de===(ge?"border":"content"))return 0;for(;Ke<4;Ke+=2)de==="margin"&&(rn+=V.css(L,de+Bs[Ke],!0,Ie)),ge?(de==="content"&&(It-=V.css(L,"padding"+Bs[Ke],!0,Ie)),de!=="margin"&&(It-=V.css(L,"border"+Bs[Ke]+"Width",!0,Ie))):(It+=V.css(L,"padding"+Bs[Ke],!0,Ie),de!=="padding"?It+=V.css(L,"border"+Bs[Ke]+"Width",!0,Ie):Vt+=V.css(L,"border"+Bs[Ke]+"Width",!0,Ie));return!ge&&Be>=0&&(It+=Math.max(0,Math.ceil(L["offset"+X[0].toUpperCase()+X.slice(1)]-Be-It-Vt-.5))||0),It+rn}function Tc(L,X,de){var ge=ed(L),Ie=!U.boxSizingReliable()||de,Be=Ie&&V.css(L,"boxSizing",!1,ge)==="border-box",Ke=Be,Vt=td(L,X,ge),It="offset"+X[0].toUpperCase()+X.slice(1);if(Oa.test(Vt)){if(!de)return Vt;Vt="auto"}return(!U.boxSizingReliable()&&Be||!U.reliableTrDimensions()&&et(L,"tr")||Vt==="auto"||!parseFloat(Vt)&&V.css(L,"display",!1,ge)==="inline")&&L.getClientRects().length&&(Be=V.css(L,"boxSizing",!1,ge)==="border-box",Ke=It in L,Ke&&(Vt=L[It])),Vt=parseFloat(Vt)||0,Vt+nh(L,X,de||(Be?"border":"content"),Ke,ge,Vt)+"px"}V.extend({cssHooks:{opacity:{get:function(L,X){if(X){var de=td(L,"opacity");return de===""?"1":de}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(L,X,de,ge){if(!(!L||L.nodeType===3||L.nodeType===8||!L.style)){var Ie,Be,Ke,Vt=Nt(X),It=Id.test(X),rn=L.style;if(It||(X=Xr(Vt)),Ke=V.cssHooks[X]||V.cssHooks[Vt],de!==void 0){if(Be=typeof de,Be==="string"&&(Ie=Wo.exec(de))&&Ie[1]&&(de=Je(L,X,Ie),Be="number"),de==null||de!==de)return;Be==="number"&&!It&&(de+=Ie&&Ie[3]||(V.cssNumber[Vt]?"":"px")),!U.clearCloneStyle&&de===""&&X.indexOf("background")===0&&(rn[X]="inherit"),(!Ke||!("set"in Ke)||(de=Ke.set(L,de,ge))!==void 0)&&(It?rn.setProperty(X,de):rn[X]=de)}else return Ke&&"get"in Ke&&(Ie=Ke.get(L,!1,ge))!==void 0?Ie:rn[X]}},css:function(L,X,de,ge){var Ie,Be,Ke,Vt=Nt(X),It=Id.test(X);return It||(X=Xr(Vt)),Ke=V.cssHooks[X]||V.cssHooks[Vt],Ke&&"get"in Ke&&(Ie=Ke.get(L,!0,de)),Ie===void 0&&(Ie=td(L,X,ge)),Ie==="normal"&&X in Ar&&(Ie=Ar[X]),de===""||de?(Be=parseFloat(Ie),de===!0||isFinite(Be)?Be||0:Ie):Ie}}),V.each(["height","width"],function(L,X){V.cssHooks[X]={get:function(de,ge,Ie){if(ge)return Oh.test(V.css(de,"display"))&&(!de.getClientRects().length||!de.getBoundingClientRect().width)?Xc(de,Pc,function(){return Tc(de,X,Ie)}):Tc(de,X,Ie)},set:function(de,ge,Ie){var Be,Ke=ed(de),Vt=!U.scrollboxSize()&&Ke.position==="absolute",It=Vt||Ie,rn=It&&V.css(de,"boxSizing",!1,Ke)==="border-box",Hn=Ie?nh(de,X,Ie,rn,Ke):0;return rn&&Vt&&(Hn-=Math.ceil(de["offset"+X[0].toUpperCase()+X.slice(1)]-parseFloat(Ke[X])-nh(de,X,"border",!1,Ke)-.5)),Hn&&(Be=Wo.exec(ge))&&(Be[3]||"px")!=="px"&&(de.style[X]=ge,ge=V.css(de,X)),Au(de,ge,Hn)}}}),V.cssHooks.marginLeft=Rd(U.reliableMarginLeft,function(L,X){if(X)return(parseFloat(td(L,"marginLeft"))||L.getBoundingClientRect().left-Xc(L,{marginLeft:0},function(){return L.getBoundingClientRect().left}))+"px"}),V.each({margin:"",padding:"",border:"Width"},function(L,X){V.cssHooks[L+X]={expand:function(de){for(var ge=0,Ie={},Be=typeof de=="string"?de.split(" "):[de];ge<4;ge++)Ie[L+Bs[ge]+X]=Be[ge]||Be[ge-2]||Be[0];return Ie}},L!=="margin"&&(V.cssHooks[L+X].set=Au)}),V.fn.extend({css:function(L,X){return pt(this,function(de,ge,Ie){var Be,Ke,Vt={},It=0;if(Array.isArray(ge)){for(Be=ed(de),Ke=ge.length;It<Ke;It++)Vt[ge[It]]=V.css(de,ge[It],!1,Be);return Vt}return Ie!==void 0?V.style(de,ge,Ie):V.css(de,ge)},L,X,arguments.length>1)}});function Fi(L,X,de,ge,Ie){return new Fi.prototype.init(L,X,de,ge,Ie)}V.Tween=Fi,Fi.prototype={constructor:Fi,init:function(L,X,de,ge,Ie,Be){this.elem=L,this.prop=de,this.easing=Ie||V.easing._default,this.options=X,this.start=this.now=this.cur(),this.end=ge,this.unit=Be||(V.cssNumber[de]?"":"px")},cur:function(){var L=Fi.propHooks[this.prop];return L&&L.get?L.get(this):Fi.propHooks._default.get(this)},run:function(L){var X,de=Fi.propHooks[this.prop];return this.options.duration?this.pos=X=V.easing[this.easing](L,this.options.duration*L,0,1,this.options.duration):this.pos=X=L,this.now=(this.end-this.start)*X+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),de&&de.set?de.set(this):Fi.propHooks._default.set(this),this}},Fi.prototype.init.prototype=Fi.prototype,Fi.propHooks={_default:{get:function(L){var X;return L.elem.nodeType!==1||L.elem[L.prop]!=null&&L.elem.style[L.prop]==null?L.elem[L.prop]:(X=V.css(L.elem,L.prop,""),!X||X==="auto"?0:X)},set:function(L){V.fx.step[L.prop]?V.fx.step[L.prop](L):L.elem.nodeType===1&&(V.cssHooks[L.prop]||L.elem.style[Xr(L.prop)]!=null)?V.style(L.elem,L.prop,L.now+L.unit):L.elem[L.prop]=L.now}}},Fi.propHooks.scrollTop=Fi.propHooks.scrollLeft={set:function(L){L.elem.nodeType&&L.elem.parentNode&&(L.elem[L.prop]=L.now)}},V.easing={linear:function(L){return L},swing:function(L){return .5-Math.cos(L*Math.PI)/2},_default:"swing"},V.fx=Fi.prototype.init,V.fx.step={};var pc,al,Vp=/^(?:toggle|show|hide)$/,Tm=/queueHooks$/;function Ac(){al&&(te.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(Ac):n.setTimeout(Ac,V.fx.interval),V.fx.tick())}function Jc(){return n.setTimeout(function(){pc=void 0}),pc=Date.now()}function xu(L,X){var de,ge=0,Ie={height:L};for(X=X?1:0;ge<4;ge+=2-X)de=Bs[ge],Ie["margin"+de]=Ie["padding"+de]=L;return X&&(Ie.opacity=Ie.width=L),Ie}function Ih(L,X,de){for(var ge,Ie=(Wi.tweeners[X]||[]).concat(Wi.tweeners["*"]),Be=0,Ke=Ie.length;Be<Ke;Be++)if(ge=Ie[Be].call(de,X,L))return ge}function na(L,X,de){var ge,Ie,Be,Ke,Vt,It,rn,Hn,co="width"in X||"height"in X,Rn=this,Ko={},kr=L.style,wi=L.nodeType&&rt(L),Wr=Et.get(L,"fxshow");de.queue||(Ke=V._queueHooks(L,"fx"),Ke.unqueued==null&&(Ke.unqueued=0,Vt=Ke.empty.fire,Ke.empty.fire=function(){Ke.unqueued||Vt()}),Ke.unqueued++,Rn.always(function(){Rn.always(function(){Ke.unqueued--,V.queue(L,"fx").length||Ke.empty.fire()})}));for(ge in X)if(Ie=X[ge],Vp.test(Ie)){if(delete X[ge],Be=Be||Ie==="toggle",Ie===(wi?"hide":"show"))if(Ie==="show"&&Wr&&Wr[ge]!==void 0)wi=!0;else continue;Ko[ge]=Wr&&Wr[ge]||V.style(L,ge)}if(It=!V.isEmptyObject(X),!(!It&&V.isEmptyObject(Ko))){co&&L.nodeType===1&&(de.overflow=[kr.overflow,kr.overflowX,kr.overflowY],rn=Wr&&Wr.display,rn==null&&(rn=Et.get(L,"display")),Hn=V.css(L,"display"),Hn==="none"&&(rn?Hn=rn:(wt([L],!0),rn=L.style.display||rn,Hn=V.css(L,"display"),wt([L]))),(Hn==="inline"||Hn==="inline-block"&&rn!=null)&&V.css(L,"float")==="none"&&(It||(Rn.done(function(){kr.display=rn}),rn==null&&(Hn=kr.display,rn=Hn==="none"?"":Hn)),kr.display="inline-block")),de.overflow&&(kr.overflow="hidden",Rn.always(function(){kr.overflow=de.overflow[0],kr.overflowX=de.overflow[1],kr.overflowY=de.overflow[2]})),It=!1;for(ge in Ko)It||(Wr?"hidden"in Wr&&(wi=Wr.hidden):Wr=Et.access(L,"fxshow",{display:rn}),Be&&(Wr.hidden=!wi),wi&&wt([L],!0),Rn.done(function(){wi||wt([L]),Et.remove(L,"fxshow");for(ge in Ko)V.style(L,ge,Ko[ge])})),It=Ih(wi?Wr[ge]:0,ge,Rn),ge in Wr||(Wr[ge]=It.start,wi&&(It.end=It.start,It.start=0))}}function As(L,X){var de,ge,Ie,Be,Ke;for(de in L)if(ge=Nt(de),Ie=X[ge],Be=L[de],Array.isArray(Be)&&(Ie=Be[1],Be=L[de]=Be[0]),de!==ge&&(L[ge]=Be,delete L[de]),Ke=V.cssHooks[ge],Ke&&"expand"in Ke){Be=Ke.expand(Be),delete L[ge];for(de in Be)de in L||(L[de]=Be[de],X[de]=Ie)}else X[ge]=Ie}function Wi(L,X,de){var ge,Ie,Be=0,Ke=Wi.prefilters.length,Vt=V.Deferred().always(function(){delete It.elem}),It=function(){if(Ie)return!1;for(var co=pc||Jc(),Rn=Math.max(0,rn.startTime+rn.duration-co),Ko=Rn/rn.duration||0,kr=1-Ko,wi=0,Wr=rn.tweens.length;wi<Wr;wi++)rn.tweens[wi].run(kr);return Vt.notifyWith(L,[rn,kr,Rn]),kr<1&&Wr?Rn:(Wr||Vt.notifyWith(L,[rn,1,0]),Vt.resolveWith(L,[rn]),!1)},rn=Vt.promise({elem:L,props:V.extend({},X),opts:V.extend(!0,{specialEasing:{},easing:V.easing._default},de),originalProperties:X,originalOptions:de,startTime:pc||Jc(),duration:de.duration,tweens:[],createTween:function(co,Rn){var Ko=V.Tween(L,rn.opts,co,Rn,rn.opts.specialEasing[co]||rn.opts.easing);return rn.tweens.push(Ko),Ko},stop:function(co){var Rn=0,Ko=co?rn.tweens.length:0;if(Ie)return this;for(Ie=!0;Rn<Ko;Rn++)rn.tweens[Rn].run(1);return co?(Vt.notifyWith(L,[rn,1,0]),Vt.resolveWith(L,[rn,co])):Vt.rejectWith(L,[rn,co]),this}}),Hn=rn.props;for(As(Hn,rn.opts.specialEasing);Be<Ke;Be++)if(ge=Wi.prefilters[Be].call(rn,L,Hn,rn.opts),ge)return z(ge.stop)&&(V._queueHooks(rn.elem,rn.opts.queue).stop=ge.stop.bind(ge)),ge;return V.map(Hn,Ih,rn),z(rn.opts.start)&&rn.opts.start.call(L,rn),rn.progress(rn.opts.progress).done(rn.opts.done,rn.opts.complete).fail(rn.opts.fail).always(rn.opts.always),V.fx.timer(V.extend(It,{elem:L,anim:rn,queue:rn.opts.queue})),rn}V.Animation=V.extend(Wi,{tweeners:{"*":[function(L,X){var de=this.createTween(L,X);return Je(de.elem,L,Wo.exec(X),de),de}]},tweener:function(L,X){z(L)?(X=L,L=["*"]):L=L.match(Vo);for(var de,ge=0,Ie=L.length;ge<Ie;ge++)de=L[ge],Wi.tweeners[de]=Wi.tweeners[de]||[],Wi.tweeners[de].unshift(X)},prefilters:[na],prefilter:function(L,X){X?Wi.prefilters.unshift(L):Wi.prefilters.push(L)}}),V.speed=function(L,X,de){var ge=L&&typeof L=="object"?V.extend({},L):{complete:de||!de&&X||z(L)&&L,duration:L,easing:de&&X||X&&!z(X)&&X};return V.fx.off?ge.duration=0:typeof ge.duration!="number"&&(ge.duration in V.fx.speeds?ge.duration=V.fx.speeds[ge.duration]:ge.duration=V.fx.speeds._default),(ge.queue==null||ge.queue===!0)&&(ge.queue="fx"),ge.old=ge.complete,ge.complete=function(){z(ge.old)&&ge.old.call(this),ge.queue&&V.dequeue(this,ge.queue)},ge},V.fn.extend({fadeTo:function(L,X,de,ge){return this.filter(rt).css("opacity",0).show().end().animate({opacity:X},L,de,ge)},animate:function(L,X,de,ge){var Ie=V.isEmptyObject(L),Be=V.speed(X,de,ge),Ke=function(){var Vt=Wi(this,V.extend({},L),Be);(Ie||Et.get(this,"finish"))&&Vt.stop(!0)};return Ke.finish=Ke,Ie||Be.queue===!1?this.each(Ke):this.queue(Be.queue,Ke)},stop:function(L,X,de){var ge=function(Ie){var Be=Ie.stop;delete Ie.stop,Be(de)};return typeof L!="string"&&(de=X,X=L,L=void 0),X&&this.queue(L||"fx",[]),this.each(function(){var Ie=!0,Be=L!=null&&L+"queueHooks",Ke=V.timers,Vt=Et.get(this);if(Be)Vt[Be]&&Vt[Be].stop&&ge(Vt[Be]);else for(Be in Vt)Vt[Be]&&Vt[Be].stop&&Tm.test(Be)&&ge(Vt[Be]);for(Be=Ke.length;Be--;)Ke[Be].elem===this&&(L==null||Ke[Be].queue===L)&&(Ke[Be].anim.stop(de),Ie=!1,Ke.splice(Be,1));(Ie||!de)&&V.dequeue(this,L)})},finish:function(L){return L!==!1&&(L=L||"fx"),this.each(function(){var X,de=Et.get(this),ge=de[L+"queue"],Ie=de[L+"queueHooks"],Be=V.timers,Ke=ge?ge.length:0;for(de.finish=!0,V.queue(this,L,[]),Ie&&Ie.stop&&Ie.stop.call(this,!0),X=Be.length;X--;)Be[X].elem===this&&Be[X].queue===L&&(Be[X].anim.stop(!0),Be.splice(X,1));for(X=0;X<Ke;X++)ge[X]&&ge[X].finish&&ge[X].finish.call(this);delete de.finish})}}),V.each(["toggle","show","hide"],function(L,X){var de=V.fn[X];V.fn[X]=function(ge,Ie,Be){return ge==null||typeof ge=="boolean"?de.apply(this,arguments):this.animate(xu(X,!0),ge,Ie,Be)}}),V.each({slideDown:xu("show"),slideUp:xu("hide"),slideToggle:xu("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(L,X){V.fn[L]=function(de,ge,Ie){return this.animate(X,de,ge,Ie)}}),V.timers=[],V.fx.tick=function(){var L,X=0,de=V.timers;for(pc=Date.now();X<de.length;X++)L=de[X],!L()&&de[X]===L&&de.splice(X--,1);de.length||V.fx.stop(),pc=void 0},V.fx.timer=function(L){V.timers.push(L),V.fx.start()},V.fx.interval=13,V.fx.start=function(){al||(al=!0,Ac())},V.fx.stop=function(){al=null},V.fx.speeds={slow:600,fast:200,_default:400},V.fn.delay=function(L,X){return L=V.fx&&V.fx.speeds[L]||L,X=X||"fx",this.queue(X,function(de,ge){var Ie=n.setTimeout(de,L);ge.stop=function(){n.clearTimeout(Ie)}})},(function(){var L=te.createElement("input"),X=te.createElement("select"),de=X.appendChild(te.createElement("option"));L.type="checkbox",U.checkOn=L.value!=="",U.optSelected=de.selected,L=te.createElement("input"),L.value="t",L.type="radio",U.radioValue=L.value==="t"})();var Dl,Br=V.expr.attrHandle;V.fn.extend({attr:function(L,X){return pt(this,V.attr,L,X,arguments.length>1)},removeAttr:function(L){return this.each(function(){V.removeAttr(this,L)})}}),V.extend({attr:function(L,X,de){var ge,Ie,Be=L.nodeType;if(!(Be===3||Be===8||Be===2)){if(typeof L.getAttribute>"u")return V.prop(L,X,de);if((Be!==1||!V.isXMLDoc(L))&&(Ie=V.attrHooks[X.toLowerCase()]||(V.expr.match.bool.test(X)?Dl:void 0)),de!==void 0){if(de===null){V.removeAttr(L,X);return}return Ie&&"set"in Ie&&(ge=Ie.set(L,de,X))!==void 0?ge:(L.setAttribute(X,de+""),de)}return Ie&&"get"in Ie&&(ge=Ie.get(L,X))!==null?ge:(ge=V.find.attr(L,X),ge??void 0)}},attrHooks:{type:{set:function(L,X){if(!U.radioValue&&X==="radio"&&et(L,"input")){var de=L.value;return L.setAttribute("type",X),de&&(L.value=de),X}}}},removeAttr:function(L,X){var de,ge=0,Ie=X&&X.match(Vo);if(Ie&&L.nodeType===1)for(;de=Ie[ge++];)L.removeAttribute(de)}}),Dl={set:function(L,X,de){return X===!1?V.removeAttr(L,de):L.setAttribute(de,de),de}},V.each(V.expr.match.bool.source.match(/\w+/g),function(L,X){var de=Br[X]||V.find.attr;Br[X]=function(ge,Ie,Be){var Ke,Vt,It=Ie.toLowerCase();return Be||(Vt=Br[It],Br[It]=Ke,Ke=de(ge,Ie,Be)!=null?It:null,Br[It]=Vt),Ke}});var oh=/^(?:input|select|textarea|button)$/i,Yf=/^(?:a|area)$/i;V.fn.extend({prop:function(L,X){return pt(this,V.prop,L,X,arguments.length>1)},removeProp:function(L){return this.each(function(){delete this[V.propFix[L]||L]})}}),V.extend({prop:function(L,X,de){var ge,Ie,Be=L.nodeType;if(!(Be===3||Be===8||Be===2))return(Be!==1||!V.isXMLDoc(L))&&(X=V.propFix[X]||X,Ie=V.propHooks[X]),de!==void 0?Ie&&"set"in Ie&&(ge=Ie.set(L,de,X))!==void 0?ge:L[X]=de:Ie&&"get"in Ie&&(ge=Ie.get(L,X))!==null?ge:L[X]},propHooks:{tabIndex:{get:function(L){var X=V.find.attr(L,"tabindex");return X?parseInt(X,10):oh.test(L.nodeName)||Yf.test(L.nodeName)&&L.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),U.optSelected||(V.propHooks.selected={get:function(L){var X=L.parentNode;return X&&X.parentNode&&X.parentNode.selectedIndex,null},set:function(L){var X=L.parentNode;X&&(X.selectedIndex,X.parentNode&&X.parentNode.selectedIndex)}}),V.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){V.propFix[this.toLowerCase()]=this});function gi(L){var X=L.match(Vo)||[];return X.join(" ")}function mc(L){return L.getAttribute&&L.getAttribute("class")||""}function Nc(L){return Array.isArray(L)?L:typeof L=="string"?L.match(Vo)||[]:[]}V.fn.extend({addClass:function(L){var X,de,ge,Ie,Be,Ke;return z(L)?this.each(function(Vt){V(this).addClass(L.call(this,Vt,mc(this)))}):(X=Nc(L),X.length?this.each(function(){if(ge=mc(this),de=this.nodeType===1&&" "+gi(ge)+" ",de){for(Be=0;Be<X.length;Be++)Ie=X[Be],de.indexOf(" "+Ie+" ")<0&&(de+=Ie+" ");Ke=gi(de),ge!==Ke&&this.setAttribute("class",Ke)}}):this)},removeClass:function(L){var X,de,ge,Ie,Be,Ke;return z(L)?this.each(function(Vt){V(this).removeClass(L.call(this,Vt,mc(this)))}):arguments.length?(X=Nc(L),X.length?this.each(function(){if(ge=mc(this),de=this.nodeType===1&&" "+gi(ge)+" ",de){for(Be=0;Be<X.length;Be++)for(Ie=X[Be];de.indexOf(" "+Ie+" ")>-1;)de=de.replace(" "+Ie+" "," ");Ke=gi(de),ge!==Ke&&this.setAttribute("class",Ke)}}):this):this.attr("class","")},toggleClass:function(L,X){var de,ge,Ie,Be,Ke=typeof L,Vt=Ke==="string"||Array.isArray(L);return z(L)?this.each(function(It){V(this).toggleClass(L.call(this,It,mc(this),X),X)}):typeof X=="boolean"&&Vt?X?this.addClass(L):this.removeClass(L):(de=Nc(L),this.each(function(){if(Vt)for(Be=V(this),Ie=0;Ie<de.length;Ie++)ge=de[Ie],Be.hasClass(ge)?Be.removeClass(ge):Be.addClass(ge);else(L===void 0||Ke==="boolean")&&(ge=mc(this),ge&&Et.set(this,"__className__",ge),this.setAttribute&&this.setAttribute("class",ge||L===!1?"":Et.get(this,"__className__")||""))}))},hasClass:function(L){var X,de,ge=0;for(X=" "+L+" ";de=this[ge++];)if(de.nodeType===1&&(" "+gi(mc(de))+" ").indexOf(X)>-1)return!0;return!1}});var of=/\r/g;V.fn.extend({val:function(L){var X,de,ge,Ie=this[0];return arguments.length?(ge=z(L),this.each(function(Be){var Ke;this.nodeType===1&&(ge?Ke=L.call(this,Be,V(this).val()):Ke=L,Ke==null?Ke="":typeof Ke=="number"?Ke+="":Array.isArray(Ke)&&(Ke=V.map(Ke,function(Vt){return Vt==null?"":Vt+""})),X=V.valHooks[this.type]||V.valHooks[this.nodeName.toLowerCase()],(!X||!("set"in X)||X.set(this,Ke,"value")===void 0)&&(this.value=Ke))})):Ie?(X=V.valHooks[Ie.type]||V.valHooks[Ie.nodeName.toLowerCase()],X&&"get"in X&&(de=X.get(Ie,"value"))!==void 0?de:(de=Ie.value,typeof de=="string"?de.replace(of,""):de??"")):void 0}}),V.extend({valHooks:{option:{get:function(L){var X=V.find.attr(L,"value");return X??gi(V.text(L))}},select:{get:function(L){var X,de,ge,Ie=L.options,Be=L.selectedIndex,Ke=L.type==="select-one",Vt=Ke?null:[],It=Ke?Be+1:Ie.length;for(Be<0?ge=It:ge=Ke?Be:0;ge<It;ge++)if(de=Ie[ge],(de.selected||ge===Be)&&!de.disabled&&(!de.parentNode.disabled||!et(de.parentNode,"optgroup"))){if(X=V(de).val(),Ke)return X;Vt.push(X)}return Vt},set:function(L,X){for(var de,ge,Ie=L.options,Be=V.makeArray(X),Ke=Ie.length;Ke--;)ge=Ie[Ke],(ge.selected=V.inArray(V.valHooks.option.get(ge),Be)>-1)&&(de=!0);return de||(L.selectedIndex=-1),Be}}}}),V.each(["radio","checkbox"],function(){V.valHooks[this]={set:function(L,X){if(Array.isArray(X))return L.checked=V.inArray(V(L).val(),X)>-1}},U.checkOn||(V.valHooks[this].get=function(L){return L.getAttribute("value")===null?"on":L.value})});var yo=n.location,Ou={guid:Date.now()},Ml=/\?/;V.parseXML=function(L){var X,de;if(!L||typeof L!="string")return null;try{X=new n.DOMParser().parseFromString(L,"text/xml")}catch{}return de=X&&X.getElementsByTagName("parsererror")[0],(!X||de)&&V.error("Invalid XML: "+(de?V.map(de.childNodes,function(ge){return ge.textContent}).join(`
`):L)),X};var gc=/^(?:focusinfocus|focusoutblur)$/,Pi=function(L){L.stopPropagation()};V.extend(V.event,{trigger:function(L,X,de,ge){var Ie,Be,Ke,Vt,It,rn,Hn,co,Rn=[de||te],Ko=P.call(L,"type")?L.type:L,kr=P.call(L,"namespace")?L.namespace.split("."):[];if(Be=co=Ke=de=de||te,!(de.nodeType===3||de.nodeType===8)&&!gc.test(Ko+V.event.triggered)&&(Ko.indexOf(".")>-1&&(kr=Ko.split("."),Ko=kr.shift(),kr.sort()),It=Ko.indexOf(":")<0&&"on"+Ko,L=L[V.expando]?L:new V.Event(Ko,typeof L=="object"&&L),L.isTrigger=ge?2:3,L.namespace=kr.join("."),L.rnamespace=L.namespace?new RegExp("(^|\\.)"+kr.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,L.result=void 0,L.target||(L.target=de),X=X==null?[L]:V.makeArray(X,[L]),Hn=V.event.special[Ko]||{},!(!ge&&Hn.trigger&&Hn.trigger.apply(de,X)===!1))){if(!ge&&!Hn.noBubble&&!Z(de)){for(Vt=Hn.delegateType||Ko,gc.test(Vt+Ko)||(Be=Be.parentNode);Be;Be=Be.parentNode)Rn.push(Be),Ke=Be;Ke===(de.ownerDocument||te)&&Rn.push(Ke.defaultView||Ke.parentWindow||n)}for(Ie=0;(Be=Rn[Ie++])&&!L.isPropagationStopped();)co=Be,L.type=Ie>1?Vt:Hn.bindType||Ko,rn=(Et.get(Be,"events")||Object.create(null))[L.type]&&Et.get(Be,"handle"),rn&&rn.apply(Be,X),rn=It&&Be[It],rn&&rn.apply&&Gt(Be)&&(L.result=rn.apply(Be,X),L.result===!1&&L.preventDefault());return L.type=Ko,!ge&&!L.isDefaultPrevented()&&(!Hn._default||Hn._default.apply(Rn.pop(),X)===!1)&&Gt(de)&&It&&z(de[Ko])&&!Z(de)&&(Ke=de[It],Ke&&(de[It]=null),V.event.triggered=Ko,L.isPropagationStopped()&&co.addEventListener(Ko,Pi),de[Ko](),L.isPropagationStopped()&&co.removeEventListener(Ko,Pi),V.event.triggered=void 0,Ke&&(de[It]=Ke)),L.result}},simulate:function(L,X,de){var ge=V.extend(new V.Event,de,{type:L,isSimulated:!0});V.event.trigger(ge,null,X)}}),V.fn.extend({trigger:function(L,X){return this.each(function(){V.event.trigger(L,X,this)})},triggerHandler:function(L,X){var de=this[0];if(de)return V.event.trigger(L,X,de,!0)}});var Am=/\[\]$/,zl=/\r?\n/g,Qc=/^(?:submit|button|image|reset|file)$/i,Xf=/^(?:input|select|textarea|keygen)/i;function sf(L,X,de,ge){var Ie;if(Array.isArray(X))V.each(X,function(Be,Ke){de||Am.test(L)?ge(L,Ke):sf(L+"["+(typeof Ke=="object"&&Ke!=null?Be:"")+"]",Ke,de,ge)});else if(!de&&Se(X)==="object")for(Ie in X)sf(L+"["+Ie+"]",X[Ie],de,ge);else ge(L,X)}V.param=function(L,X){var de,ge=[],Ie=function(Be,Ke){var Vt=z(Ke)?Ke():Ke;ge[ge.length]=encodeURIComponent(Be)+"="+encodeURIComponent(Vt??"")};if(L==null)return"";if(Array.isArray(L)||L.jquery&&!V.isPlainObject(L))V.each(L,function(){Ie(this.name,this.value)});else for(de in L)sf(de,L[de],X,Ie);return ge.join("&")},V.fn.extend({serialize:function(){return V.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var L=V.prop(this,"elements");return L?V.makeArray(L):this}).filter(function(){var L=this.type;return this.name&&!V(this).is(":disabled")&&Xf.test(this.nodeName)&&!Qc.test(L)&&(this.checked||!Zt.test(L))}).map(function(L,X){var de=V(this).val();return de==null?null:Array.isArray(de)?V.map(de,function(ge){return{name:X.name,value:ge.replace(zl,`\r
`)}}):{name:X.name,value:de.replace(zl,`\r
`)}}).get()}});var nd=/%20/g,Jf=/#.*$/,kd=/([?&])_=[^&]*/,Dd=/^(.*?):[ \t]*([^\r\n]*)$/mg,vc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,po=/^(?:GET|HEAD)$/,Iu=/^\/\//,Rh={},He={},ft="*/".concat("*"),jt=te.createElement("a");jt.href=yo.href;function Tn(L){return function(X,de){typeof X!="string"&&(de=X,X="*");var ge,Ie=0,Be=X.toLowerCase().match(Vo)||[];if(z(de))for(;ge=Be[Ie++];)ge[0]==="+"?(ge=ge.slice(1)||"*",(L[ge]=L[ge]||[]).unshift(de)):(L[ge]=L[ge]||[]).push(de)}}function go(L,X,de,ge){var Ie={},Be=L===He;function Ke(Vt){var It;return Ie[Vt]=!0,V.each(L[Vt]||[],function(rn,Hn){var co=Hn(X,de,ge);if(typeof co=="string"&&!Be&&!Ie[co])return X.dataTypes.unshift(co),Ke(co),!1;if(Be)return!(It=co)}),It}return Ke(X.dataTypes[0])||!Ie["*"]&&Ke("*")}function jo(L,X){var de,ge,Ie=V.ajaxSettings.flatOptions||{};for(de in X)X[de]!==void 0&&((Ie[de]?L:ge||(ge={}))[de]=X[de]);return ge&&V.extend(!0,L,ge),L}function pr(L,X,de){for(var ge,Ie,Be,Ke,Vt=L.contents,It=L.dataTypes;It[0]==="*";)It.shift(),ge===void 0&&(ge=L.mimeType||X.getResponseHeader("Content-Type"));if(ge){for(Ie in Vt)if(Vt[Ie]&&Vt[Ie].test(ge)){It.unshift(Ie);break}}if(It[0]in de)Be=It[0];else{for(Ie in de){if(!It[0]||L.converters[Ie+" "+It[0]]){Be=Ie;break}Ke||(Ke=Ie)}Be=Be||Ke}if(Be)return Be!==It[0]&&It.unshift(Be),de[Be]}function js(L,X,de,ge){var Ie,Be,Ke,Vt,It,rn={},Hn=L.dataTypes.slice();if(Hn[1])for(Ke in L.converters)rn[Ke.toLowerCase()]=L.converters[Ke];for(Be=Hn.shift();Be;)if(L.responseFields[Be]&&(de[L.responseFields[Be]]=X),!It&&ge&&L.dataFilter&&(X=L.dataFilter(X,L.dataType)),It=Be,Be=Hn.shift(),Be){if(Be==="*")Be=It;else if(It!=="*"&&It!==Be){if(Ke=rn[It+" "+Be]||rn["* "+Be],!Ke){for(Ie in rn)if(Vt=Ie.split(" "),Vt[1]===Be&&(Ke=rn[It+" "+Vt[0]]||rn["* "+Vt[0]],Ke)){Ke===!0?Ke=rn[Ie]:rn[Ie]!==!0&&(Be=Vt[0],Hn.unshift(Vt[1]));break}}if(Ke!==!0)if(Ke&&L.throws)X=Ke(X);else try{X=Ke(X)}catch(co){return{state:"parsererror",error:Ke?co:"No conversion from "+It+" to "+Be}}}}return{state:"success",data:X}}V.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yo.href,type:"GET",isLocal:vc.test(yo.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":V.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(L,X){return X?jo(jo(L,V.ajaxSettings),X):jo(V.ajaxSettings,L)},ajaxPrefilter:Tn(Rh),ajaxTransport:Tn(He),ajax:function(L,X){typeof L=="object"&&(X=L,L=void 0),X=X||{};var de,ge,Ie,Be,Ke,Vt,It,rn,Hn,co,Rn=V.ajaxSetup({},X),Ko=Rn.context||Rn,kr=Rn.context&&(Ko.nodeType||Ko.jquery)?V(Ko):V.event,wi=V.Deferred(),Wr=V.Callbacks("once memory"),jl=Rn.statusCode||{},wa={},od={},sh="canceled",vi={readyState:0,getResponseHeader:function(Vi){var ml;if(It){if(!Be)for(Be={};ml=Dd.exec(Ie);)Be[ml[1].toLowerCase()+" "]=(Be[ml[1].toLowerCase()+" "]||[]).concat(ml[2]);ml=Be[Vi.toLowerCase()+" "]}return ml==null?null:ml.join(", ")},getAllResponseHeaders:function(){return It?Ie:null},setRequestHeader:function(Vi,ml){return It==null&&(Vi=od[Vi.toLowerCase()]=od[Vi.toLowerCase()]||Vi,wa[Vi]=ml),this},overrideMimeType:function(Vi){return It==null&&(Rn.mimeType=Vi),this},statusCode:function(Vi){var ml;if(Vi)if(It)vi.always(Vi[vi.status]);else for(ml in Vi)jl[ml]=[jl[ml],Vi[ml]];return this},abort:function(Vi){var ml=Vi||sh;return de&&de.abort(ml),yc(0,ml),this}};if(wi.promise(vi),Rn.url=((L||Rn.url||yo.href)+"").replace(Iu,yo.protocol+"//"),Rn.type=X.method||X.type||Rn.method||Rn.type,Rn.dataTypes=(Rn.dataType||"*").toLowerCase().match(Vo)||[""],Rn.crossDomain==null){Vt=te.createElement("a");try{Vt.href=Rn.url,Vt.href=Vt.href,Rn.crossDomain=jt.protocol+"//"+jt.host!=Vt.protocol+"//"+Vt.host}catch{Rn.crossDomain=!0}}if(Rn.data&&Rn.processData&&typeof Rn.data!="string"&&(Rn.data=V.param(Rn.data,Rn.traditional)),go(Rh,Rn,X,vi),It)return vi;rn=V.event&&Rn.global,rn&&V.active++===0&&V.event.trigger("ajaxStart"),Rn.type=Rn.type.toUpperCase(),Rn.hasContent=!po.test(Rn.type),ge=Rn.url.replace(Jf,""),Rn.hasContent?Rn.data&&Rn.processData&&(Rn.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Rn.data=Rn.data.replace(nd,"+")):(co=Rn.url.slice(ge.length),Rn.data&&(Rn.processData||typeof Rn.data=="string")&&(ge+=(Ml.test(ge)?"&":"?")+Rn.data,delete Rn.data),Rn.cache===!1&&(ge=ge.replace(kd,"$1"),co=(Ml.test(ge)?"&":"?")+"_="+Ou.guid+++co),Rn.url=ge+co),Rn.ifModified&&(V.lastModified[ge]&&vi.setRequestHeader("If-Modified-Since",V.lastModified[ge]),V.etag[ge]&&vi.setRequestHeader("If-None-Match",V.etag[ge])),(Rn.data&&Rn.hasContent&&Rn.contentType!==!1||X.contentType)&&vi.setRequestHeader("Content-Type",Rn.contentType),vi.setRequestHeader("Accept",Rn.dataTypes[0]&&Rn.accepts[Rn.dataTypes[0]]?Rn.accepts[Rn.dataTypes[0]]+(Rn.dataTypes[0]!=="*"?", "+ft+"; q=0.01":""):Rn.accepts["*"]);for(Hn in Rn.headers)vi.setRequestHeader(Hn,Rn.headers[Hn]);if(Rn.beforeSend&&(Rn.beforeSend.call(Ko,vi,Rn)===!1||It))return vi.abort();if(sh="abort",Wr.add(Rn.complete),vi.done(Rn.success),vi.fail(Rn.error),de=go(He,Rn,X,vi),!de)yc(-1,"No Transport");else{if(vi.readyState=1,rn&&kr.trigger("ajaxSend",[vi,Rn]),It)return vi;Rn.async&&Rn.timeout>0&&(Ke=n.setTimeout(function(){vi.abort("timeout")},Rn.timeout));try{It=!1,de.send(wa,yc)}catch(Vi){if(It)throw Vi;yc(-1,Vi)}}function yc(Vi,ml,Hp,Md){var kh,Og,sd,eu,Qf,rd=ml;It||(It=!0,Ke&&n.clearTimeout(Ke),de=void 0,Ie=Md||"",vi.readyState=Vi>0?4:0,kh=Vi>=200&&Vi<300||Vi===304,Hp&&(eu=pr(Rn,vi,Hp)),!kh&&V.inArray("script",Rn.dataTypes)>-1&&V.inArray("json",Rn.dataTypes)<0&&(Rn.converters["text script"]=function(){}),eu=js(Rn,eu,vi,kh),kh?(Rn.ifModified&&(Qf=vi.getResponseHeader("Last-Modified"),Qf&&(V.lastModified[ge]=Qf),Qf=vi.getResponseHeader("etag"),Qf&&(V.etag[ge]=Qf)),Vi===204||Rn.type==="HEAD"?rd="nocontent":Vi===304?rd="notmodified":(rd=eu.state,Og=eu.data,sd=eu.error,kh=!sd)):(sd=rd,(Vi||!rd)&&(rd="error",Vi<0&&(Vi=0))),vi.status=Vi,vi.statusText=(ml||rd)+"",kh?wi.resolveWith(Ko,[Og,rd,vi]):wi.rejectWith(Ko,[vi,rd,sd]),vi.statusCode(jl),jl=void 0,rn&&kr.trigger(kh?"ajaxSuccess":"ajaxError",[vi,Rn,kh?Og:sd]),Wr.fireWith(Ko,[vi,rd]),rn&&(kr.trigger("ajaxComplete",[vi,Rn]),--V.active||V.event.trigger("ajaxStop")))}return vi},getJSON:function(L,X,de){return V.get(L,X,de,"json")},getScript:function(L,X){return V.get(L,void 0,X,"script")}}),V.each(["get","post"],function(L,X){V[X]=function(de,ge,Ie,Be){return z(ge)&&(Be=Be||Ie,Ie=ge,ge=void 0),V.ajax(V.extend({url:de,type:X,dataType:Be,data:ge,success:Ie},V.isPlainObject(de)&&de))}}),V.ajaxPrefilter(function(L){var X;for(X in L.headers)X.toLowerCase()==="content-type"&&(L.contentType=L.headers[X]||"")}),V._evalUrl=function(L,X,de){return V.ajax({url:L,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ge){V.globalEval(ge,X,de)}})},V.fn.extend({wrapAll:function(L){var X;return this[0]&&(z(L)&&(L=L.call(this[0])),X=V(L,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&X.insertBefore(this[0]),X.map(function(){for(var de=this;de.firstElementChild;)de=de.firstElementChild;return de}).append(this)),this},wrapInner:function(L){return z(L)?this.each(function(X){V(this).wrapInner(L.call(this,X))}):this.each(function(){var X=V(this),de=X.contents();de.length?de.wrapAll(L):X.append(L)})},wrap:function(L){var X=z(L);return this.each(function(de){V(this).wrapAll(X?L.call(this,de):L)})},unwrap:function(L){return this.parent(L).not("body").each(function(){V(this).replaceWith(this.childNodes)}),this}}),V.expr.pseudos.hidden=function(L){return!V.expr.pseudos.visible(L)},V.expr.pseudos.visible=function(L){return!!(L.offsetWidth||L.offsetHeight||L.getClientRects().length)},V.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch{}};var Tr={0:200,1223:204},we=V.ajaxSettings.xhr();U.cors=!!we&&"withCredentials"in we,U.ajax=we=!!we,V.ajaxTransport(function(L){var X,de;if(U.cors||we&&!L.crossDomain)return{send:function(ge,Ie){var Be,Ke=L.xhr();if(Ke.open(L.type,L.url,L.async,L.username,L.password),L.xhrFields)for(Be in L.xhrFields)Ke[Be]=L.xhrFields[Be];L.mimeType&&Ke.overrideMimeType&&Ke.overrideMimeType(L.mimeType),!L.crossDomain&&!ge["X-Requested-With"]&&(ge["X-Requested-With"]="XMLHttpRequest");for(Be in ge)Ke.setRequestHeader(Be,ge[Be]);X=function(Vt){return function(){X&&(X=de=Ke.onload=Ke.onerror=Ke.onabort=Ke.ontimeout=Ke.onreadystatechange=null,Vt==="abort"?Ke.abort():Vt==="error"?typeof Ke.status!="number"?Ie(0,"error"):Ie(Ke.status,Ke.statusText):Ie(Tr[Ke.status]||Ke.status,Ke.statusText,(Ke.responseType||"text")!=="text"||typeof Ke.responseText!="string"?{binary:Ke.response}:{text:Ke.responseText},Ke.getAllResponseHeaders()))}},Ke.onload=X(),de=Ke.onerror=Ke.ontimeout=X("error"),Ke.onabort!==void 0?Ke.onabort=de:Ke.onreadystatechange=function(){Ke.readyState===4&&n.setTimeout(function(){X&&de()})},X=X("abort");try{Ke.send(L.hasContent&&L.data||null)}catch(Vt){if(X)throw Vt}},abort:function(){X&&X()}}}),V.ajaxPrefilter(function(L){L.crossDomain&&(L.contents.script=!1)}),V.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(L){return V.globalEval(L),L}}}),V.ajaxPrefilter("script",function(L){L.cache===void 0&&(L.cache=!1),L.crossDomain&&(L.type="GET")}),V.ajaxTransport("script",function(L){if(L.crossDomain||L.scriptAttrs){var X,de;return{send:function(ge,Ie){X=V("<script>").attr(L.scriptAttrs||{}).prop({charset:L.scriptCharset,src:L.url}).on("load error",de=function(Be){X.remove(),de=null,Be&&Ie(Be.type==="error"?404:200,Be.type)}),te.head.appendChild(X[0])},abort:function(){de&&de()}}}});var We=[],mt=/(=)\?(?=&|$)|\?\?/;V.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var L=We.pop()||V.expando+"_"+Ou.guid++;return this[L]=!0,L}}),V.ajaxPrefilter("json jsonp",function(L,X,de){var ge,Ie,Be,Ke=L.jsonp!==!1&&(mt.test(L.url)?"url":typeof L.data=="string"&&(L.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&mt.test(L.data)&&"data");if(Ke||L.dataTypes[0]==="jsonp")return ge=L.jsonpCallback=z(L.jsonpCallback)?L.jsonpCallback():L.jsonpCallback,Ke?L[Ke]=L[Ke].replace(mt,"$1"+ge):L.jsonp!==!1&&(L.url+=(Ml.test(L.url)?"&":"?")+L.jsonp+"="+ge),L.converters["script json"]=function(){return Be||V.error(ge+" was not called"),Be[0]},L.dataTypes[0]="json",Ie=n[ge],n[ge]=function(){Be=arguments},de.always(function(){Ie===void 0?V(n).removeProp(ge):n[ge]=Ie,L[ge]&&(L.jsonpCallback=X.jsonpCallback,We.push(ge)),Be&&z(Ie)&&Ie(Be[0]),Be=Ie=void 0}),"script"}),U.createHTMLDocument=(function(){var L=te.implementation.createHTMLDocument("").body;return L.innerHTML="<form></form><form></form>",L.childNodes.length===2})(),V.parseHTML=function(L,X,de){if(typeof L!="string")return[];typeof X=="boolean"&&(de=X,X=!1);var ge,Ie,Be;return X||(U.createHTMLDocument?(X=te.implementation.createHTMLDocument(""),ge=X.createElement("base"),ge.href=te.location.href,X.head.appendChild(ge)):X=te),Ie=tn.exec(L),Be=!de&&[],Ie?[X.createElement(Ie[1])]:(Ie=Cs([L],X,Be),Be&&Be.length&&V(Be).remove(),V.merge([],Ie.childNodes))},V.fn.load=function(L,X,de){var ge,Ie,Be,Ke=this,Vt=L.indexOf(" ");return Vt>-1&&(ge=gi(L.slice(Vt)),L=L.slice(0,Vt)),z(X)?(de=X,X=void 0):X&&typeof X=="object"&&(Ie="POST"),Ke.length>0&&V.ajax({url:L,type:Ie||"GET",dataType:"html",data:X}).done(function(It){Be=arguments,Ke.html(ge?V("<div>").append(V.parseHTML(It)).find(ge):It)}).always(de&&function(It,rn){Ke.each(function(){de.apply(this,Be||[It.responseText,rn,It])})}),this},V.expr.pseudos.animated=function(L){return V.grep(V.timers,function(X){return L===X.elem}).length},V.offset={setOffset:function(L,X,de){var ge,Ie,Be,Ke,Vt,It,rn,Hn=V.css(L,"position"),co=V(L),Rn={};Hn==="static"&&(L.style.position="relative"),Vt=co.offset(),Be=V.css(L,"top"),It=V.css(L,"left"),rn=(Hn==="absolute"||Hn==="fixed")&&(Be+It).indexOf("auto")>-1,rn?(ge=co.position(),Ke=ge.top,Ie=ge.left):(Ke=parseFloat(Be)||0,Ie=parseFloat(It)||0),z(X)&&(X=X.call(L,de,V.extend({},Vt))),X.top!=null&&(Rn.top=X.top-Vt.top+Ke),X.left!=null&&(Rn.left=X.left-Vt.left+Ie),"using"in X?X.using.call(L,Rn):co.css(Rn)}},V.fn.extend({offset:function(L){if(arguments.length)return L===void 0?this:this.each(function(Ie){V.offset.setOffset(this,L,Ie)});var X,de,ge=this[0];if(ge)return ge.getClientRects().length?(X=ge.getBoundingClientRect(),de=ge.ownerDocument.defaultView,{top:X.top+de.pageYOffset,left:X.left+de.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var L,X,de,ge=this[0],Ie={top:0,left:0};if(V.css(ge,"position")==="fixed")X=ge.getBoundingClientRect();else{for(X=this.offset(),de=ge.ownerDocument,L=ge.offsetParent||de.documentElement;L&&(L===de.body||L===de.documentElement)&&V.css(L,"position")==="static";)L=L.parentNode;L&&L!==ge&&L.nodeType===1&&(Ie=V(L).offset(),Ie.top+=V.css(L,"borderTopWidth",!0),Ie.left+=V.css(L,"borderLeftWidth",!0))}return{top:X.top-Ie.top-V.css(ge,"marginTop",!0),left:X.left-Ie.left-V.css(ge,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var L=this.offsetParent;L&&V.css(L,"position")==="static";)L=L.offsetParent;return L||Pn})}}),V.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(L,X){var de=X==="pageYOffset";V.fn[L]=function(ge){return pt(this,function(Ie,Be,Ke){var Vt;if(Z(Ie)?Vt=Ie:Ie.nodeType===9&&(Vt=Ie.defaultView),Ke===void 0)return Vt?Vt[X]:Ie[Be];Vt?Vt.scrollTo(de?Vt.pageXOffset:Ke,de?Ke:Vt.pageYOffset):Ie[Be]=Ke},L,ge,arguments.length)}}),V.each(["top","left"],function(L,X){V.cssHooks[X]=Rd(U.pixelPosition,function(de,ge){if(ge)return ge=td(de,X),Oa.test(ge)?V(de).position()[X]+"px":ge})}),V.each({Height:"height",Width:"width"},function(L,X){V.each({padding:"inner"+L,content:X,"":"outer"+L},function(de,ge){V.fn[ge]=function(Ie,Be){var Ke=arguments.length&&(de||typeof Ie!="boolean"),Vt=de||(Ie===!0||Be===!0?"margin":"border");return pt(this,function(It,rn,Hn){var co;return Z(It)?ge.indexOf("outer")===0?It["inner"+L]:It.document.documentElement["client"+L]:It.nodeType===9?(co=It.documentElement,Math.max(It.body["scroll"+L],co["scroll"+L],It.body["offset"+L],co["offset"+L],co["client"+L])):Hn===void 0?V.css(It,rn,Vt):V.style(It,rn,Hn,Vt)},X,Ke?Ie:void 0,Ke)}})}),V.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(L,X){V.fn[X]=function(de){return this.on(X,de)}}),V.fn.extend({bind:function(L,X,de){return this.on(L,null,X,de)},unbind:function(L,X){return this.off(L,null,X)},delegate:function(L,X,de,ge){return this.on(X,L,de,ge)},undelegate:function(L,X,de){return arguments.length===1?this.off(L,"**"):this.off(X,L||"**",de)},hover:function(L,X){return this.on("mouseenter",L).on("mouseleave",X||L)}}),V.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(L,X){V.fn[X]=function(de,ge){return arguments.length>0?this.on(X,null,de,ge):this.trigger(X)}});var Cn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;V.proxy=function(L,X){var de,ge,Ie;if(typeof X=="string"&&(de=L[X],X=L,L=de),!!z(L))return ge=d.call(arguments,2),Ie=function(){return L.apply(X||this,ge.concat(d.call(arguments)))},Ie.guid=L.guid=L.guid||V.guid++,Ie},V.holdReady=function(L){L?V.readyWait++:V.ready(!0)},V.isArray=Array.isArray,V.parseJSON=JSON.parse,V.nodeName=et,V.isFunction=z,V.isWindow=Z,V.camelCase=Nt,V.type=Se,V.now=Date.now,V.isNumeric=function(L){var X=V.type(L);return(X==="number"||X==="string")&&!isNaN(L-parseFloat(L))},V.trim=function(L){return L==null?"":(L+"").replace(Cn,"$1")};var qo=n.jQuery,Ws=n.$;return V.noConflict=function(L){return n.$===V&&(n.$=Ws),L&&n.jQuery===V&&(n.jQuery=qo),V},typeof o>"u"&&(n.jQuery=n.$=V),V})})(BJ)),BJ.exports}var lRe;function eJe(){return lRe||(lRe=1,(function(e){(function(n){n(["jquery"],function(o){return(function(){var i,c,d=0,p={error:"error",info:"info",success:"success",warning:"warning"},v={clear:z,remove:Z,error:_,getContainer:x,info:P,options:{},subscribe:B,success:H,version:"2.1.4",warning:U},S;return v;function _(et,$e,Re){return Te({type:p.error,iconClass:V().iconClasses.error,message:et,optionsOverride:Re,title:$e})}function x(et,$e){return et||(et=V()),i=o("#"+et.containerId),i.length||$e&&(i=se(et)),i}function P(et,$e,Re){return Te({type:p.info,iconClass:V().iconClasses.info,message:et,optionsOverride:Re,title:$e})}function B(et){c=et}function H(et,$e,Re){return Te({type:p.success,iconClass:V().iconClasses.success,message:et,optionsOverride:Re,title:$e})}function U(et,$e,Re){return Te({type:p.warning,iconClass:V().iconClasses.warning,message:et,optionsOverride:Re,title:$e})}function z(et,$e){var Re=V();i||x(Re),ce(et,Re,$e)||te(Re)}function Z(et){var $e=V();if(i||x($e),et&&o(":focus",et).length===0){ke(et);return}i.children().length&&i.remove()}function te(et){for(var $e=i.children(),Re=$e.length-1;Re>=0;Re--)ce(o($e[Re]),et)}function ce(et,$e,Re){var _e=Re&&Re.force?Re.force:!1;return et&&(_e||o(":focus",et).length===0)?(et[$e.hideMethod]({duration:$e.hideDuration,easing:$e.hideEasing,complete:function(){ke(et)}}),!0):!1}function se(et){return i=o("<div/>").attr("id",et.containerId).addClass(et.positionClass),i.appendTo(o(et.target)),i}function Se(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function Ce(et){c&&c(et)}function Te(et){var $e=V(),Re=et.iconClass||$e.iconClass;if(typeof et.optionsOverride<"u"&&($e=o.extend($e,et.optionsOverride),Re=et.optionsOverride.iconClass||Re),Oo($e,et))return;d++,i=x($e,!0);var _e=null,ut=o("<div/>"),ct=o("<div/>"),St=o("<div/>"),ee=o("<div/>"),ln=o($e.closeHtml),it={intervalId:null,hideEta:null,maxHideTime:null},Ht={toastId:d,state:"visible",startTime:new Date,options:$e,map:et};return Xe(),In(),eo(),Ce(Ht),$e.debug&&console&&console.log(Ht),ut;function Ut(qe){return qe==null&&(qe=""),qe.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Xe(){mn(),un(),ye(),ms(),Vo(),Eo(),Dt(),tn()}function tn(){var qe="";switch(et.iconClass){case"toast-success":case"toast-info":qe="polite";break;default:qe="assertive"}ut.attr("aria-live",qe)}function eo(){$e.closeOnHover&&ut.hover(cn,xt),!$e.onclick&&$e.tapToDismiss&&ut.click(Zn),$e.closeButton&&ln&&ln.click(function(qe){qe.stopPropagation?qe.stopPropagation():qe.cancelBubble!==void 0&&qe.cancelBubble!==!0&&(qe.cancelBubble=!0),$e.onCloseClick&&$e.onCloseClick(qe),Zn(!0)}),$e.onclick&&ut.click(function(qe){$e.onclick(qe),Zn()})}function In(){ut.hide(),ut[$e.showMethod]({duration:$e.showDuration,easing:$e.showEasing,complete:$e.onShown}),$e.timeOut>0&&(_e=setTimeout(Zn,$e.timeOut),it.maxHideTime=parseFloat($e.timeOut),it.hideEta=new Date().getTime()+it.maxHideTime,$e.progressBar&&(it.intervalId=setInterval(vn,10)))}function mn(){et.iconClass&&ut.addClass($e.toastClass).addClass(Re)}function Dt(){$e.newestOnTop?i.prepend(ut):i.append(ut)}function un(){if(et.title){var qe=et.title;$e.escapeHtml&&(qe=Ut(et.title)),ct.append(qe).addClass($e.titleClass),ut.append(ct)}}function ye(){if(et.message){var qe=et.message;$e.escapeHtml&&(qe=Ut(et.message)),St.append(qe).addClass($e.messageClass),ut.append(St)}}function ms(){$e.closeButton&&(ln.addClass($e.closeClass).attr("role","button"),ut.prepend(ln))}function Vo(){$e.progressBar&&(ee.addClass($e.progressClass),ut.prepend(ee))}function Eo(){$e.rtl&&ut.addClass("rtl")}function Oo(qe,pt){if(qe.preventDuplicates){if(pt.message===S)return!0;S=pt.message}return!1}function Zn(qe){var pt=qe&&$e.closeMethod!==!1?$e.closeMethod:$e.hideMethod,Ft=qe&&$e.closeDuration!==!1?$e.closeDuration:$e.hideDuration,Ve=qe&&$e.closeEasing!==!1?$e.closeEasing:$e.hideEasing;if(!(o(":focus",ut).length&&!qe))return clearTimeout(it.intervalId),ut[pt]({duration:Ft,easing:Ve,complete:function(){ke(ut),clearTimeout(_e),$e.onHidden&&Ht.state!=="hidden"&&$e.onHidden(),Ht.state="hidden",Ht.endTime=new Date,Ce(Ht)}})}function xt(){($e.timeOut>0||$e.extendedTimeOut>0)&&(_e=setTimeout(Zn,$e.extendedTimeOut),it.maxHideTime=parseFloat($e.extendedTimeOut),it.hideEta=new Date().getTime()+it.maxHideTime)}function cn(){clearTimeout(_e),it.hideEta=0,ut.stop(!0,!0)[$e.showMethod]({duration:$e.showDuration,easing:$e.showEasing})}function vn(){var qe=(it.hideEta-new Date().getTime())/it.maxHideTime*100;ee.width(qe+"%")}}function V(){return o.extend({},Se(),v.options)}function ke(et){i||(i=x()),!et.is(":visible")&&(et.remove(),et=null,i.children().length===0&&(i.remove(),S=void 0))}})()})})(function(n,o){e.exports?e.exports=o(QXe()):window.toastr=o(window.jQuery)})})(sge)),sge.exports}var tJe=eJe();const ZBe=m4(tJe);window.Alpine=ADe;window.Highcharts=fte;h7e?.default?.(fte);g7e?.default?.(fte);S7e?.default?.(fte);window.moment=Ps;window.jQuery.moment=Ps;ADe.start();window.ZoomVideo=ibe;window.toastr=ZBe;qu.bind("[data-fancybox]",{animated:!0,dragToClose:!1,groupAll:!0});ZBe.options={closeButton:!0,progressBar:!0,timeOut:"5000",extendedTimeOut:"1000",positionClass:"toast-top-right",showDuration:"300",hideDuration:"1000",showMethod:"fadeIn",hideMethod:"fadeOut"};document.addEventListener("DOMContentLoaded",async()=>{const{default:e}=await QBe(async()=>{const{default:n}=await import("./daterangepicker-Bj0O4MG_.js").then(o=>o.d);return{default:n}},[]);$(".date-range").each(function(){var n=$(this),o={Today:[Ps(),Ps()],Yesterday:[Ps().subtract(1,"days"),Ps().subtract(1,"days")],"Last 7 Days":[Ps().subtract(6,"days"),Ps()],"Last 30 Days":[Ps().subtract(29,"days"),Ps()],"This Month":[Ps().startOf("month"),Ps().endOf("month")],"Last Month":[Ps().subtract(1,"month").startOf("month"),Ps().subtract(1,"month").endOf("month")]};n.daterangepicker({timePicker:!1,autoUpdateInput:!1,locale:{format:"YYYY-MM-DD",cancelLabel:"Clear",direction:$("html").attr("dir")==="rtl"?"rtl":"ltr"},ranges:o,opens:$("html").attr("dir")==="rtl"?"left":"right",drops:"down"}),n.on("apply.daterangepicker",function(i,c){$(this).val(c.startDate.format("YYYY-MM-DD")+" - "+c.endDate.format("YYYY-MM-DD"))}),n.on("cancel.daterangepicker",function(i,c){$(this).val("")})}),document.querySelectorAll(".tinymce-editor").forEach(function(n){PXe.init({target:n,directionality:n.getAttribute("dir")==="rtl"?"rtl":"ltr",height:400,license_key:"gpl",toolbar:"undo redo | bold italic underline removeformat | alignleft aligncenter alignright | link | bullist numlist | outdent indent | blockquote | table | code preview",plugins:"preview directionality code lists link table advlist",menubar:!0,branding:!1,statusbar:!0,base_url:"/tinymce",suffix:".min",setup:function(o){o.on("change",function(){o.save()})}})})});export{m4 as a,nJe as g,oJe as m,QXe as r};
