var Wae=(function(){function a(u,g){g===void 0&&(g=[]),this._eventType=u,this._eventFunctions=g}return a.prototype.init=function(){var u=this;this._eventFunctions.forEach(function(g){typeof window<"u"&&window.addEventListener(u._eventType,g)})},a})(),jae=(function(){function a(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{},Datepicker:{}}}return a.prototype.addInstance=function(u,g,b,x){if(x===void 0&&(x=!1),!this._instances[u])return console.warn("Flowbite: Component ".concat(u," does not exist.")),!1;if(this._instances[u][b]&&!x){console.warn("Flowbite: Instance with ID ".concat(b," already exists."));return}x&&this._instances[u][b]&&this._instances[u][b].destroyAndRemoveInstance(),this._instances[u][b||this._generateRandomId()]=g},a.prototype.getAllInstances=function(){return this._instances},a.prototype.getInstances=function(u){return this._instances[u]?this._instances[u]:(console.warn("Flowbite: Component ".concat(u," does not exist.")),!1)},a.prototype.getInstance=function(u,g){if(this._componentAndInstanceCheck(u,g)){if(!this._instances[u][g]){console.warn("Flowbite: Instance with ID ".concat(g," does not exist."));return}return this._instances[u][g]}},a.prototype.destroyAndRemoveInstance=function(u,g){this._componentAndInstanceCheck(u,g)&&(this.destroyInstanceObject(u,g),this.removeInstance(u,g))},a.prototype.removeInstance=function(u,g){this._componentAndInstanceCheck(u,g)&&delete this._instances[u][g]},a.prototype.destroyInstanceObject=function(u,g){this._componentAndInstanceCheck(u,g)&&this._instances[u][g].destroy()},a.prototype.instanceExists=function(u,g){return!(!this._instances[u]||!this._instances[u][g])},a.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},a.prototype._componentAndInstanceCheck=function(u,g){return this._instances[u]?this._instances[u][g]?!0:(console.warn("Flowbite: Instance with ID ".concat(g," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(u," does not exist.")),!1)},a})(),Cr=new jae;typeof window<"u"&&(window.FlowbiteInstances=Cr);var Sz=function(){return Sz=Object.assign||function(a){for(var u,g=1,b=arguments.length;g<b;g++){u=arguments[g];for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])}return a},Sz.apply(this,arguments)},Ez={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},Zae={id:null,override:!0},hre=(function(){function a(u,g,b,x){u===void 0&&(u=null),g===void 0&&(g=[]),b===void 0&&(b=Ez),x===void 0&&(x=Zae),this._instanceId=x.id?x.id:u.id,this._accordionEl=u,this._items=g,this._options=Sz(Sz({},Ez),b),this._initialized=!1,this.init(),Cr.addInstance("Accordion",this,this._instanceId,x.override)}return a.prototype.init=function(){var u=this;this._items.length&&!this._initialized&&(this._items.forEach(function(g){g.active&&u.open(g.id);var b=function(){u.toggle(g.id)};g.triggerEl.addEventListener("click",b),g.clickHandler=b}),this._initialized=!0)},a.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(u){u.triggerEl.removeEventListener("click",u.clickHandler),delete u.clickHandler}),this._initialized=!1)},a.prototype.removeInstance=function(){Cr.removeInstance("Accordion",this._instanceId)},a.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},a.prototype.getItem=function(u){return this._items.filter(function(g){return g.id===u})[0]},a.prototype.open=function(u){var g,b,x=this,D=this.getItem(u);this._options.alwaysOpen||this._items.map(function(P){var $,Z;P!==D&&(($=P.triggerEl.classList).remove.apply($,x._options.activeClasses.split(" ")),(Z=P.triggerEl.classList).add.apply(Z,x._options.inactiveClasses.split(" ")),P.targetEl.classList.add("hidden"),P.triggerEl.setAttribute("aria-expanded","false"),P.active=!1,P.iconEl&&P.iconEl.classList.add("rotate-180"))}),(g=D.triggerEl.classList).add.apply(g,this._options.activeClasses.split(" ")),(b=D.triggerEl.classList).remove.apply(b,this._options.inactiveClasses.split(" ")),D.triggerEl.setAttribute("aria-expanded","true"),D.targetEl.classList.remove("hidden"),D.active=!0,D.iconEl&&D.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,D)},a.prototype.toggle=function(u){var g=this.getItem(u);g.active?this.close(u):this.open(u),this._options.onToggle(this,g)},a.prototype.close=function(u){var g,b,x=this.getItem(u);(g=x.triggerEl.classList).remove.apply(g,this._options.activeClasses.split(" ")),(b=x.triggerEl.classList).add.apply(b,this._options.inactiveClasses.split(" ")),x.targetEl.classList.add("hidden"),x.triggerEl.setAttribute("aria-expanded","false"),x.active=!1,x.iconEl&&x.iconEl.classList.add("rotate-180"),this._options.onClose(this,x)},a.prototype.updateOnOpen=function(u){this._options.onOpen=u},a.prototype.updateOnClose=function(u){this._options.onClose=u},a.prototype.updateOnToggle=function(u){this._options.onToggle=u},a})();function $ee(){document.querySelectorAll("[data-accordion]").forEach(function(a){var u=a.getAttribute("data-accordion"),g=a.getAttribute("data-active-classes"),b=a.getAttribute("data-inactive-classes"),x=[];a.querySelectorAll("[data-accordion-target]").forEach(function(D){if(D.closest("[data-accordion]")===a){var P={id:D.getAttribute("data-accordion-target"),triggerEl:D,targetEl:document.querySelector(D.getAttribute("data-accordion-target")),iconEl:D.querySelector("[data-accordion-icon]"),active:D.getAttribute("aria-expanded")==="true"};x.push(P)}}),new hre(a,x,{alwaysOpen:u==="open",activeClasses:g||Ez.activeClasses,inactiveClasses:b||Ez.inactiveClasses})})}typeof window<"u"&&(window.Accordion=hre,window.initAccordions=$ee);var _z=function(){return _z=Object.assign||function(a){for(var u,g=1,b=arguments.length;g<b;g++){u=arguments[g];for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])}return a},_z.apply(this,arguments)},eoe={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},qae={id:null,override:!0},oee=(function(){function a(u,g,b,x){u===void 0&&(u=null),g===void 0&&(g=null),b===void 0&&(b=eoe),x===void 0&&(x=qae),this._instanceId=x.id?x.id:u.id,this._targetEl=u,this._triggerEl=g,this._options=_z(_z({},eoe),b),this._visible=!1,this._initialized=!1,this.init(),Cr.addInstance("Collapse",this,this._instanceId,x.override)}return a.prototype.init=function(){var u=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){u.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},a.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},a.prototype.removeInstance=function(){Cr.removeInstance("Collapse",this._instanceId)},a.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},a.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},a.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},a.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},a.prototype.updateOnCollapse=function(u){this._options.onCollapse=u},a.prototype.updateOnExpand=function(u){this._options.onExpand=u},a.prototype.updateOnToggle=function(u){this._options.onToggle=u},a})();function Fee(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(a){var u=a.getAttribute("data-collapse-toggle"),g=document.getElementById(u);g?Cr.instanceExists("Collapse",g.getAttribute("id"))?new oee(g,a,{},{id:g.getAttribute("id")+"_"+Cr._generateRandomId()}):new oee(g,a):console.error('The target element with id "'.concat(u,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=oee,window.initCollapses=Fee);var mS=function(){return mS=Object.assign||function(a){for(var u,g=1,b=arguments.length;g<b;g++){u=arguments[g];for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])}return a},mS.apply(this,arguments)},hz={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},Gae={id:null,override:!0},gre=(function(){function a(u,g,b,x){u===void 0&&(u=null),g===void 0&&(g=[]),b===void 0&&(b=hz),x===void 0&&(x=Gae),this._instanceId=x.id?x.id:u.id,this._carouselEl=u,this._items=g,this._options=mS(mS(mS({},hz),b),{indicators:mS(mS({},hz.indicators),b.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),Cr.addInstance("Carousel",this,this._instanceId,x.override)}return a.prototype.init=function(){var u=this;this._items.length&&!this._initialized&&(this._items.map(function(g){g.el.classList.add("absolute","inset-0","transition-transform","transform")}),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map(function(g,b){g.el.addEventListener("click",function(){u.slideTo(b)})}),this._initialized=!0)},a.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},a.prototype.removeInstance=function(){Cr.removeInstance("Carousel",this._instanceId)},a.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},a.prototype.getItem=function(u){return this._items[u]},a.prototype.slideTo=function(u){var g=this._items[u],b={left:g.position===0?this._items[this._items.length-1]:this._items[g.position-1],middle:g,right:g.position===this._items.length-1?this._items[0]:this._items[g.position+1]};this._rotate(b),this._setActiveItem(g),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},a.prototype.next=function(){var u=this.getActiveItem(),g=null;u.position===this._items.length-1?g=this._items[0]:g=this._items[u.position+1],this.slideTo(g.position),this._options.onNext(this)},a.prototype.prev=function(){var u=this.getActiveItem(),g=null;u.position===0?g=this._items[this._items.length-1]:g=this._items[u.position-1],this.slideTo(g.position),this._options.onPrev(this)},a.prototype._rotate=function(u){if(this._items.map(function(g){g.el.classList.add("hidden")}),this._items.length===1){u.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),u.middle.el.classList.add("translate-x-0","z-20");return}u.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),u.left.el.classList.add("-translate-x-full","z-10"),u.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),u.middle.el.classList.add("translate-x-0","z-30"),u.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),u.right.el.classList.add("translate-x-full","z-20")},a.prototype.cycle=function(){var u=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){u.next()},this._intervalDuration))},a.prototype.pause=function(){clearInterval(this._intervalInstance)},a.prototype.getActiveItem=function(){return this._activeItem},a.prototype._setActiveItem=function(u){var g,b,x=this;this._activeItem=u;var D=u.position;this._indicators.length&&(this._indicators.map(function(P){var $,Z;P.el.setAttribute("aria-current","false"),($=P.el.classList).remove.apply($,x._options.indicators.activeClasses.split(" ")),(Z=P.el.classList).add.apply(Z,x._options.indicators.inactiveClasses.split(" "))}),(g=this._indicators[D].el.classList).add.apply(g,this._options.indicators.activeClasses.split(" ")),(b=this._indicators[D].el.classList).remove.apply(b,this._options.indicators.inactiveClasses.split(" ")),this._indicators[D].el.setAttribute("aria-current","true"))},a.prototype.updateOnNext=function(u){this._options.onNext=u},a.prototype.updateOnPrev=function(u){this._options.onPrev=u},a.prototype.updateOnChange=function(u){this._options.onChange=u},a})();function Hee(){document.querySelectorAll("[data-carousel]").forEach(function(a){var u=a.getAttribute("data-carousel-interval"),g=a.getAttribute("data-carousel")==="slide",b=[],x=0;a.querySelectorAll("[data-carousel-item]").length&&Array.from(a.querySelectorAll("[data-carousel-item]")).map(function(ne,ee){b.push({position:ee,el:ne}),ne.getAttribute("data-carousel-item")==="active"&&(x=ee)});var D=[];a.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(a.querySelectorAll("[data-carousel-slide-to]")).map(function(ne){D.push({position:parseInt(ne.getAttribute("data-carousel-slide-to")),el:ne})});var P=new gre(a,b,{defaultPosition:x,indicators:{items:D},interval:u||hz.interval});g&&P.cycle();var $=a.querySelector("[data-carousel-next]"),Z=a.querySelector("[data-carousel-prev]");$&&$.addEventListener("click",function(){P.next()}),Z&&Z.addEventListener("click",function(){P.prev()})})}typeof window<"u"&&(window.Carousel=gre,window.initCarousels=Hee);var Tz=function(){return Tz=Object.assign||function(a){for(var u,g=1,b=arguments.length;g<b;g++){u=arguments[g];for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])}return a},Tz.apply(this,arguments)},toe={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},Kae={id:null,override:!0},pre=(function(){function a(u,g,b,x){u===void 0&&(u=null),g===void 0&&(g=null),b===void 0&&(b=toe),x===void 0&&(x=Kae),this._instanceId=x.id?x.id:u.id,this._targetEl=u,this._triggerEl=g,this._options=Tz(Tz({},toe),b),this._initialized=!1,this.init(),Cr.addInstance("Dismiss",this,this._instanceId,x.override)}return a.prototype.init=function(){var u=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){u.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},a.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},a.prototype.removeInstance=function(){Cr.removeInstance("Dismiss",this._instanceId)},a.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},a.prototype.hide=function(){var u=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){u._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},a.prototype.updateOnHide=function(u){this._options.onHide=u},a})();function zee(){document.querySelectorAll("[data-dismiss-target]").forEach(function(a){var u=a.getAttribute("data-dismiss-target"),g=document.querySelector(u);g?new pre(g,a):console.error('The dismiss element with id "'.concat(u,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=pre,window.initDismisses=zee);var pm="top",eg="bottom",tg="right",vm="left",Vee="auto",UL=[pm,eg,tg,vm],KA="start",IL="end",Yae="clippingParents",vre="viewport",vL="popper",Xae="reference",noe=UL.reduce(function(a,u){return a.concat([u+"-"+KA,u+"-"+IL])},[]),bre=[].concat(UL,[Vee]).reduce(function(a,u){return a.concat([u,u+"-"+KA,u+"-"+IL])},[]),Jae="beforeRead",Qae="read",ece="afterRead",tce="beforeMain",nce="main",oce="afterMain",sce="beforeWrite",rce="write",ice="afterWrite",ace=[Jae,Qae,ece,tce,nce,oce,sce,rce,ice];function j1(a){return a?(a.nodeName||"").toLowerCase():null}function ih(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var u=a.ownerDocument;return u&&u.defaultView||window}return a}function ES(a){var u=ih(a).Element;return a instanceof u||a instanceof Element}function Qh(a){var u=ih(a).HTMLElement;return a instanceof u||a instanceof HTMLElement}function Uee(a){if(typeof ShadowRoot>"u")return!1;var u=ih(a).ShadowRoot;return a instanceof u||a instanceof ShadowRoot}function cce(a){var u=a.state;Object.keys(u.elements).forEach(function(g){var b=u.styles[g]||{},x=u.attributes[g]||{},D=u.elements[g];!Qh(D)||!j1(D)||(Object.assign(D.style,b),Object.keys(x).forEach(function(P){var $=x[P];$===!1?D.removeAttribute(P):D.setAttribute(P,$===!0?"":$)}))})}function lce(a){var u=a.state,g={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,g.popper),u.styles=g,u.elements.arrow&&Object.assign(u.elements.arrow.style,g.arrow),function(){Object.keys(u.elements).forEach(function(b){var x=u.elements[b],D=u.attributes[b]||{},P=Object.keys(u.styles.hasOwnProperty(b)?u.styles[b]:g[b]),$=P.reduce(function(Z,ne){return Z[ne]="",Z},{});!Qh(x)||!j1(x)||(Object.assign(x.style,$),Object.keys(D).forEach(function(Z){x.removeAttribute(Z)}))})}}const uce={name:"applyStyles",enabled:!0,phase:"write",fn:cce,effect:lce,requires:["computeStyles"]};function W1(a){return a.split("-")[0]}var vS=Math.max,kz=Math.min,YA=Math.round;function see(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function yre(){return!/^((?!chrome|android).)*safari/i.test(see())}function XA(a,u,g){u===void 0&&(u=!1),g===void 0&&(g=!1);var b=a.getBoundingClientRect(),x=1,D=1;u&&Qh(a)&&(x=a.offsetWidth>0&&YA(b.width)/a.offsetWidth||1,D=a.offsetHeight>0&&YA(b.height)/a.offsetHeight||1);var P=ES(a)?ih(a):window,$=P.visualViewport,Z=!yre()&&g,ne=(b.left+(Z&&$?$.offsetLeft:0))/x,ee=(b.top+(Z&&$?$.offsetTop:0))/D,Se=b.width/x,ke=b.height/D;return{width:Se,height:ke,top:ee,right:ne+Se,bottom:ee+ke,left:ne,x:ne,y:ee}}function Wee(a){var u=XA(a),g=a.offsetWidth,b=a.offsetHeight;return Math.abs(u.width-g)<=1&&(g=u.width),Math.abs(u.height-b)<=1&&(b=u.height),{x:a.offsetLeft,y:a.offsetTop,width:g,height:b}}function wre(a,u){var g=u.getRootNode&&u.getRootNode();if(a.contains(u))return!0;if(g&&Uee(g)){var b=u;do{if(b&&a.isSameNode(b))return!0;b=b.parentNode||b.host}while(b)}return!1}function W0(a){return ih(a).getComputedStyle(a)}function dce(a){return["table","td","th"].indexOf(j1(a))>=0}function Iw(a){return((ES(a)?a.ownerDocument:a.document)||window.document).documentElement}function tV(a){return j1(a)==="html"?a:a.assignedSlot||a.parentNode||(Uee(a)?a.host:null)||Iw(a)}function ooe(a){return!Qh(a)||W0(a).position==="fixed"?null:a.offsetParent}function fce(a){var u=/firefox/i.test(see()),g=/Trident/i.test(see());if(g&&Qh(a)){var b=W0(a);if(b.position==="fixed")return null}var x=tV(a);for(Uee(x)&&(x=x.host);Qh(x)&&["html","body"].indexOf(j1(x))<0;){var D=W0(x);if(D.transform!=="none"||D.perspective!=="none"||D.contain==="paint"||["transform","perspective"].indexOf(D.willChange)!==-1||u&&D.willChange==="filter"||u&&D.filter&&D.filter!=="none")return x;x=x.parentNode}return null}function WL(a){for(var u=ih(a),g=ooe(a);g&&dce(g)&&W0(g).position==="static";)g=ooe(g);return g&&(j1(g)==="html"||j1(g)==="body"&&W0(g).position==="static")?u:g||fce(a)||u}function jee(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function AL(a,u,g){return vS(a,kz(u,g))}function mce(a,u,g){var b=AL(a,u,g);return b>g?g:b}function Cre(){return{top:0,right:0,bottom:0,left:0}}function xre(a){return Object.assign({},Cre(),a)}function Sre(a,u){return u.reduce(function(g,b){return g[b]=a,g},{})}var hce=function(u,g){return u=typeof u=="function"?u(Object.assign({},g.rects,{placement:g.placement})):u,xre(typeof u!="number"?u:Sre(u,UL))};function gce(a){var u,g=a.state,b=a.name,x=a.options,D=g.elements.arrow,P=g.modifiersData.popperOffsets,$=W1(g.placement),Z=jee($),ne=[vm,tg].indexOf($)>=0,ee=ne?"height":"width";if(!(!D||!P)){var Se=hce(x.padding,g),ke=Wee(D),ye=Z==="y"?pm:vm,be=Z==="y"?eg:tg,ve=g.rects.reference[ee]+g.rects.reference[Z]-P[Z]-g.rects.popper[ee],ue=P[Z]-g.rects.reference[Z],Be=WL(D),Le=Be?Z==="y"?Be.clientHeight||0:Be.clientWidth||0:0,oe=ve/2-ue/2,Oe=Se[ye],qe=Le-ke[ee]-Se[be],Xe=Le/2-ke[ee]/2+oe,k=AL(Oe,Xe,qe),Ot=Z;g.modifiersData[b]=(u={},u[Ot]=k,u.centerOffset=k-Xe,u)}}function pce(a){var u=a.state,g=a.options,b=g.element,x=b===void 0?"[data-popper-arrow]":b;x!=null&&(typeof x=="string"&&(x=u.elements.popper.querySelector(x),!x)||wre(u.elements.popper,x)&&(u.elements.arrow=x))}const vce={name:"arrow",enabled:!0,phase:"main",fn:gce,effect:pce,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function JA(a){return a.split("-")[1]}var bce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yce(a,u){var g=a.x,b=a.y,x=u.devicePixelRatio||1;return{x:YA(g*x)/x||0,y:YA(b*x)/x||0}}function soe(a){var u,g=a.popper,b=a.popperRect,x=a.placement,D=a.variation,P=a.offsets,$=a.position,Z=a.gpuAcceleration,ne=a.adaptive,ee=a.roundOffsets,Se=a.isFixed,ke=P.x,ye=ke===void 0?0:ke,be=P.y,ve=be===void 0?0:be,ue=typeof ee=="function"?ee({x:ye,y:ve}):{x:ye,y:ve};ye=ue.x,ve=ue.y;var Be=P.hasOwnProperty("x"),Le=P.hasOwnProperty("y"),oe=vm,Oe=pm,qe=window;if(ne){var Xe=WL(g),k="clientHeight",Ot="clientWidth";if(Xe===ih(g)&&(Xe=Iw(g),W0(Xe).position!=="static"&&$==="absolute"&&(k="scrollHeight",Ot="scrollWidth")),Xe=Xe,x===pm||(x===vm||x===tg)&&D===IL){Oe=eg;var ht=Se&&Xe===qe&&qe.visualViewport?qe.visualViewport.height:Xe[k];ve-=ht-b.height,ve*=Z?1:-1}if(x===vm||(x===pm||x===eg)&&D===IL){oe=tg;var Je=Se&&Xe===qe&&qe.visualViewport?qe.visualViewport.width:Xe[Ot];ye-=Je-b.width,ye*=Z?1:-1}}var Ie=Object.assign({position:$},ne&&bce),xe=ee===!0?yce({x:ye,y:ve},ih(g)):{x:ye,y:ve};if(ye=xe.x,ve=xe.y,Z){var qt;return Object.assign({},Ie,(qt={},qt[Oe]=Le?"0":"",qt[oe]=Be?"0":"",qt.transform=(qe.devicePixelRatio||1)<=1?"translate("+ye+"px, "+ve+"px)":"translate3d("+ye+"px, "+ve+"px, 0)",qt))}return Object.assign({},Ie,(u={},u[Oe]=Le?ve+"px":"",u[oe]=Be?ye+"px":"",u.transform="",u))}function wce(a){var u=a.state,g=a.options,b=g.gpuAcceleration,x=b===void 0?!0:b,D=g.adaptive,P=D===void 0?!0:D,$=g.roundOffsets,Z=$===void 0?!0:$,ne={placement:W1(u.placement),variation:JA(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:x,isFixed:u.options.strategy==="fixed"};u.modifiersData.popperOffsets!=null&&(u.styles.popper=Object.assign({},u.styles.popper,soe(Object.assign({},ne,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:P,roundOffsets:Z})))),u.modifiersData.arrow!=null&&(u.styles.arrow=Object.assign({},u.styles.arrow,soe(Object.assign({},ne,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Z})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})}const Cce={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:wce,data:{}};var XH={passive:!0};function xce(a){var u=a.state,g=a.instance,b=a.options,x=b.scroll,D=x===void 0?!0:x,P=b.resize,$=P===void 0?!0:P,Z=ih(u.elements.popper),ne=[].concat(u.scrollParents.reference,u.scrollParents.popper);return D&&ne.forEach(function(ee){ee.addEventListener("scroll",g.update,XH)}),$&&Z.addEventListener("resize",g.update,XH),function(){D&&ne.forEach(function(ee){ee.removeEventListener("scroll",g.update,XH)}),$&&Z.removeEventListener("resize",g.update,XH)}}const Sce={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xce,data:{}};var Ece={left:"right",right:"left",bottom:"top",top:"bottom"};function gz(a){return a.replace(/left|right|bottom|top/g,function(u){return Ece[u]})}var _ce={start:"end",end:"start"};function roe(a){return a.replace(/start|end/g,function(u){return _ce[u]})}function Zee(a){var u=ih(a),g=u.pageXOffset,b=u.pageYOffset;return{scrollLeft:g,scrollTop:b}}function qee(a){return XA(Iw(a)).left+Zee(a).scrollLeft}function Tce(a,u){var g=ih(a),b=Iw(a),x=g.visualViewport,D=b.clientWidth,P=b.clientHeight,$=0,Z=0;if(x){D=x.width,P=x.height;var ne=yre();(ne||!ne&&u==="fixed")&&($=x.offsetLeft,Z=x.offsetTop)}return{width:D,height:P,x:$+qee(a),y:Z}}function kce(a){var u,g=Iw(a),b=Zee(a),x=(u=a.ownerDocument)==null?void 0:u.body,D=vS(g.scrollWidth,g.clientWidth,x?x.scrollWidth:0,x?x.clientWidth:0),P=vS(g.scrollHeight,g.clientHeight,x?x.scrollHeight:0,x?x.clientHeight:0),$=-b.scrollLeft+qee(a),Z=-b.scrollTop;return W0(x||g).direction==="rtl"&&($+=vS(g.clientWidth,x?x.clientWidth:0)-D),{width:D,height:P,x:$,y:Z}}function Gee(a){var u=W0(a),g=u.overflow,b=u.overflowX,x=u.overflowY;return/auto|scroll|overlay|hidden/.test(g+x+b)}function Ere(a){return["html","body","#document"].indexOf(j1(a))>=0?a.ownerDocument.body:Qh(a)&&Gee(a)?a:Ere(tV(a))}function OL(a,u){var g;u===void 0&&(u=[]);var b=Ere(a),x=b===((g=a.ownerDocument)==null?void 0:g.body),D=ih(b),P=x?[D].concat(D.visualViewport||[],Gee(b)?b:[]):b,$=u.concat(P);return x?$:$.concat(OL(tV(P)))}function ree(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function Ace(a,u){var g=XA(a,!1,u==="fixed");return g.top=g.top+a.clientTop,g.left=g.left+a.clientLeft,g.bottom=g.top+a.clientHeight,g.right=g.left+a.clientWidth,g.width=a.clientWidth,g.height=a.clientHeight,g.x=g.left,g.y=g.top,g}function ioe(a,u,g){return u===vre?ree(Tce(a,g)):ES(u)?Ace(u,g):ree(kce(Iw(a)))}function Oce(a){var u=OL(tV(a)),g=["absolute","fixed"].indexOf(W0(a).position)>=0,b=g&&Qh(a)?WL(a):a;return ES(b)?u.filter(function(x){return ES(x)&&wre(x,b)&&j1(x)!=="body"}):[]}function Dce(a,u,g,b){var x=u==="clippingParents"?Oce(a):[].concat(u),D=[].concat(x,[g]),P=D[0],$=D.reduce(function(Z,ne){var ee=ioe(a,ne,b);return Z.top=vS(ee.top,Z.top),Z.right=kz(ee.right,Z.right),Z.bottom=kz(ee.bottom,Z.bottom),Z.left=vS(ee.left,Z.left),Z},ioe(a,P,b));return $.width=$.right-$.left,$.height=$.bottom-$.top,$.x=$.left,$.y=$.top,$}function _re(a){var u=a.reference,g=a.element,b=a.placement,x=b?W1(b):null,D=b?JA(b):null,P=u.x+u.width/2-g.width/2,$=u.y+u.height/2-g.height/2,Z;switch(x){case pm:Z={x:P,y:u.y-g.height};break;case eg:Z={x:P,y:u.y+u.height};break;case tg:Z={x:u.x+u.width,y:$};break;case vm:Z={x:u.x-g.width,y:$};break;default:Z={x:u.x,y:u.y}}var ne=x?jee(x):null;if(ne!=null){var ee=ne==="y"?"height":"width";switch(D){case KA:Z[ne]=Z[ne]-(u[ee]/2-g[ee]/2);break;case IL:Z[ne]=Z[ne]+(u[ee]/2-g[ee]/2);break}}return Z}function BL(a,u){u===void 0&&(u={});var g=u,b=g.placement,x=b===void 0?a.placement:b,D=g.strategy,P=D===void 0?a.strategy:D,$=g.boundary,Z=$===void 0?Yae:$,ne=g.rootBoundary,ee=ne===void 0?vre:ne,Se=g.elementContext,ke=Se===void 0?vL:Se,ye=g.altBoundary,be=ye===void 0?!1:ye,ve=g.padding,ue=ve===void 0?0:ve,Be=xre(typeof ue!="number"?ue:Sre(ue,UL)),Le=ke===vL?Xae:vL,oe=a.rects.popper,Oe=a.elements[be?Le:ke],qe=Dce(ES(Oe)?Oe:Oe.contextElement||Iw(a.elements.popper),Z,ee,P),Xe=XA(a.elements.reference),k=_re({reference:Xe,element:oe,placement:x}),Ot=ree(Object.assign({},oe,k)),ht=ke===vL?Ot:Xe,Je={top:qe.top-ht.top+Be.top,bottom:ht.bottom-qe.bottom+Be.bottom,left:qe.left-ht.left+Be.left,right:ht.right-qe.right+Be.right},Ie=a.modifiersData.offset;if(ke===vL&&Ie){var xe=Ie[x];Object.keys(Je).forEach(function(qt){var Ct=[tg,eg].indexOf(qt)>=0?1:-1,Nt=[pm,eg].indexOf(qt)>=0?"y":"x";Je[qt]+=xe[Nt]*Ct})}return Je}function Rce(a,u){u===void 0&&(u={});var g=u,b=g.placement,x=g.boundary,D=g.rootBoundary,P=g.padding,$=g.flipVariations,Z=g.allowedAutoPlacements,ne=Z===void 0?bre:Z,ee=JA(b),Se=ee?$?noe:noe.filter(function(be){return JA(be)===ee}):UL,ke=Se.filter(function(be){return ne.indexOf(be)>=0});ke.length===0&&(ke=Se);var ye=ke.reduce(function(be,ve){return be[ve]=BL(a,{placement:ve,boundary:x,rootBoundary:D,padding:P})[W1(ve)],be},{});return Object.keys(ye).sort(function(be,ve){return ye[be]-ye[ve]})}function Mce(a){if(W1(a)===Vee)return[];var u=gz(a);return[roe(a),u,roe(u)]}function Pce(a){var u=a.state,g=a.options,b=a.name;if(!u.modifiersData[b]._skip){for(var x=g.mainAxis,D=x===void 0?!0:x,P=g.altAxis,$=P===void 0?!0:P,Z=g.fallbackPlacements,ne=g.padding,ee=g.boundary,Se=g.rootBoundary,ke=g.altBoundary,ye=g.flipVariations,be=ye===void 0?!0:ye,ve=g.allowedAutoPlacements,ue=u.options.placement,Be=W1(ue),Le=Be===ue,oe=Z||(Le||!be?[gz(ue)]:Mce(ue)),Oe=[ue].concat(oe).reduce(function(ho,vo){return ho.concat(W1(vo)===Vee?Rce(u,{placement:vo,boundary:ee,rootBoundary:Se,padding:ne,flipVariations:be,allowedAutoPlacements:ve}):vo)},[]),qe=u.rects.reference,Xe=u.rects.popper,k=new Map,Ot=!0,ht=Oe[0],Je=0;Je<Oe.length;Je++){var Ie=Oe[Je],xe=W1(Ie),qt=JA(Ie)===KA,Ct=[pm,eg].indexOf(xe)>=0,Nt=Ct?"width":"height",B=BL(u,{placement:Ie,boundary:ee,rootBoundary:Se,altBoundary:ke,padding:ne}),Hn=Ct?qt?tg:vm:qt?eg:pm;qe[Nt]>Xe[Nt]&&(Hn=gz(Hn));var Qe=gz(Hn),ln=[];if(D&&ln.push(B[xe]<=0),$&&ln.push(B[Hn]<=0,B[Qe]<=0),ln.every(function(ho){return ho})){ht=Ie,Ot=!1;break}k.set(Ie,ln)}if(Ot)for(var $t=be?3:1,Ue=function(vo){var Tt=Oe.find(function(rn){var K=k.get(rn);if(K)return K.slice(0,vo).every(function(dr){return dr})});if(Tt)return ht=Tt,"break"},Pn=$t;Pn>0;Pn--){var jo=Ue(Pn);if(jo==="break")break}u.placement!==ht&&(u.modifiersData[b]._skip=!0,u.placement=ht,u.reset=!0)}}const Lce={name:"flip",enabled:!0,phase:"main",fn:Pce,requiresIfExists:["offset"],data:{_skip:!1}};function aoe(a,u,g){return g===void 0&&(g={x:0,y:0}),{top:a.top-u.height-g.y,right:a.right-u.width+g.x,bottom:a.bottom-u.height+g.y,left:a.left-u.width-g.x}}function coe(a){return[pm,tg,eg,vm].some(function(u){return a[u]>=0})}function Nce(a){var u=a.state,g=a.name,b=u.rects.reference,x=u.rects.popper,D=u.modifiersData.preventOverflow,P=BL(u,{elementContext:"reference"}),$=BL(u,{altBoundary:!0}),Z=aoe(P,b),ne=aoe($,x,D),ee=coe(Z),Se=coe(ne);u.modifiersData[g]={referenceClippingOffsets:Z,popperEscapeOffsets:ne,isReferenceHidden:ee,hasPopperEscaped:Se},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":ee,"data-popper-escaped":Se})}const Ice={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Nce};function Bce(a,u,g){var b=W1(a),x=[vm,pm].indexOf(b)>=0?-1:1,D=typeof g=="function"?g(Object.assign({},u,{placement:a})):g,P=D[0],$=D[1];return P=P||0,$=($||0)*x,[vm,tg].indexOf(b)>=0?{x:$,y:P}:{x:P,y:$}}function $ce(a){var u=a.state,g=a.options,b=a.name,x=g.offset,D=x===void 0?[0,0]:x,P=bre.reduce(function(ee,Se){return ee[Se]=Bce(Se,u.rects,D),ee},{}),$=P[u.placement],Z=$.x,ne=$.y;u.modifiersData.popperOffsets!=null&&(u.modifiersData.popperOffsets.x+=Z,u.modifiersData.popperOffsets.y+=ne),u.modifiersData[b]=P}const Fce={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$ce};function Hce(a){var u=a.state,g=a.name;u.modifiersData[g]=_re({reference:u.rects.reference,element:u.rects.popper,placement:u.placement})}const zce={name:"popperOffsets",enabled:!0,phase:"read",fn:Hce,data:{}};function Vce(a){return a==="x"?"y":"x"}function Uce(a){var u=a.state,g=a.options,b=a.name,x=g.mainAxis,D=x===void 0?!0:x,P=g.altAxis,$=P===void 0?!1:P,Z=g.boundary,ne=g.rootBoundary,ee=g.altBoundary,Se=g.padding,ke=g.tether,ye=ke===void 0?!0:ke,be=g.tetherOffset,ve=be===void 0?0:be,ue=BL(u,{boundary:Z,rootBoundary:ne,padding:Se,altBoundary:ee}),Be=W1(u.placement),Le=JA(u.placement),oe=!Le,Oe=jee(Be),qe=Vce(Oe),Xe=u.modifiersData.popperOffsets,k=u.rects.reference,Ot=u.rects.popper,ht=typeof ve=="function"?ve(Object.assign({},u.rects,{placement:u.placement})):ve,Je=typeof ht=="number"?{mainAxis:ht,altAxis:ht}:Object.assign({mainAxis:0,altAxis:0},ht),Ie=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,xe={x:0,y:0};if(Xe){if(D){var qt,Ct=Oe==="y"?pm:vm,Nt=Oe==="y"?eg:tg,B=Oe==="y"?"height":"width",Hn=Xe[Oe],Qe=Hn+ue[Ct],ln=Hn-ue[Nt],$t=ye?-Ot[B]/2:0,Ue=Le===KA?k[B]:Ot[B],Pn=Le===KA?-Ot[B]:-k[B],jo=u.elements.arrow,ho=ye&&jo?Wee(jo):{width:0,height:0},vo=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:Cre(),Tt=vo[Ct],rn=vo[Nt],K=AL(0,k[B],ho[B]),dr=oe?k[B]/2-$t-K-Tt-Je.mainAxis:Ue-K-Tt-Je.mainAxis,_o=oe?-k[B]/2+$t+K+rn+Je.mainAxis:Pn+K+rn+Je.mainAxis,wt=u.elements.arrow&&WL(u.elements.arrow),jt=wt?Oe==="y"?wt.clientTop||0:wt.clientLeft||0:0,$n=(qt=Ie==null?void 0:Ie[Oe])!=null?qt:0,ut=Hn+dr-$n-jt,Xt=Hn+_o-$n,Lt=AL(ye?kz(Qe,ut):Qe,Hn,ye?vS(ln,Xt):ln);Xe[Oe]=Lt,xe[Oe]=Lt-Hn}if($){var Re,et=Oe==="x"?pm:vm,St=Oe==="x"?eg:tg,pe=Xe[qe],at=qe==="y"?"height":"width",Dt=pe+ue[et],Ht=pe-ue[St],st=[pm,vm].indexOf(Be)!==-1,rt=(Re=Ie==null?void 0:Ie[qe])!=null?Re:0,ao=st?Dt:pe-k[at]-Ot[at]-rt+Je.altAxis,So=st?pe+k[at]+Ot[at]-rt-Je.altAxis:Ht,wo=ye&&st?mce(ao,pe,So):AL(ye?ao:Dt,pe,ye?So:Ht);Xe[qe]=wo,xe[qe]=wo-pe}u.modifiersData[b]=xe}}const Wce={name:"preventOverflow",enabled:!0,phase:"main",fn:Uce,requiresIfExists:["offset"]};function jce(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function Zce(a){return a===ih(a)||!Qh(a)?Zee(a):jce(a)}function qce(a){var u=a.getBoundingClientRect(),g=YA(u.width)/a.offsetWidth||1,b=YA(u.height)/a.offsetHeight||1;return g!==1||b!==1}function Gce(a,u,g){g===void 0&&(g=!1);var b=Qh(u),x=Qh(u)&&qce(u),D=Iw(u),P=XA(a,x,g),$={scrollLeft:0,scrollTop:0},Z={x:0,y:0};return(b||!b&&!g)&&((j1(u)!=="body"||Gee(D))&&($=Zce(u)),Qh(u)?(Z=XA(u,!0),Z.x+=u.clientLeft,Z.y+=u.clientTop):D&&(Z.x=qee(D))),{x:P.left+$.scrollLeft-Z.x,y:P.top+$.scrollTop-Z.y,width:P.width,height:P.height}}function Kce(a){var u=new Map,g=new Set,b=[];a.forEach(function(D){u.set(D.name,D)});function x(D){g.add(D.name);var P=[].concat(D.requires||[],D.requiresIfExists||[]);P.forEach(function($){if(!g.has($)){var Z=u.get($);Z&&x(Z)}}),b.push(D)}return a.forEach(function(D){g.has(D.name)||x(D)}),b}function Yce(a){var u=Kce(a);return ace.reduce(function(g,b){return g.concat(u.filter(function(x){return x.phase===b}))},[])}function Xce(a){var u;return function(){return u||(u=new Promise(function(g){Promise.resolve().then(function(){u=void 0,g(a())})})),u}}function Jce(a){var u=a.reduce(function(g,b){var x=g[b.name];return g[b.name]=x?Object.assign({},x,b,{options:Object.assign({},x.options,b.options),data:Object.assign({},x.data,b.data)}):b,g},{});return Object.keys(u).map(function(g){return u[g]})}var loe={placement:"bottom",modifiers:[],strategy:"absolute"};function uoe(){for(var a=arguments.length,u=new Array(a),g=0;g<a;g++)u[g]=arguments[g];return!u.some(function(b){return!(b&&typeof b.getBoundingClientRect=="function")})}function Qce(a){a===void 0&&(a={});var u=a,g=u.defaultModifiers,b=g===void 0?[]:g,x=u.defaultOptions,D=x===void 0?loe:x;return function($,Z,ne){ne===void 0&&(ne=D);var ee={placement:"bottom",orderedModifiers:[],options:Object.assign({},loe,D),modifiersData:{},elements:{reference:$,popper:Z},attributes:{},styles:{}},Se=[],ke=!1,ye={state:ee,setOptions:function(Be){var Le=typeof Be=="function"?Be(ee.options):Be;ve(),ee.options=Object.assign({},D,ee.options,Le),ee.scrollParents={reference:ES($)?OL($):$.contextElement?OL($.contextElement):[],popper:OL(Z)};var oe=Yce(Jce([].concat(b,ee.options.modifiers)));return ee.orderedModifiers=oe.filter(function(Oe){return Oe.enabled}),be(),ye.update()},forceUpdate:function(){if(!ke){var Be=ee.elements,Le=Be.reference,oe=Be.popper;if(uoe(Le,oe)){ee.rects={reference:Gce(Le,WL(oe),ee.options.strategy==="fixed"),popper:Wee(oe)},ee.reset=!1,ee.placement=ee.options.placement,ee.orderedModifiers.forEach(function(Je){return ee.modifiersData[Je.name]=Object.assign({},Je.data)});for(var Oe=0;Oe<ee.orderedModifiers.length;Oe++){if(ee.reset===!0){ee.reset=!1,Oe=-1;continue}var qe=ee.orderedModifiers[Oe],Xe=qe.fn,k=qe.options,Ot=k===void 0?{}:k,ht=qe.name;typeof Xe=="function"&&(ee=Xe({state:ee,options:Ot,name:ht,instance:ye})||ee)}}}},update:Xce(function(){return new Promise(function(ue){ye.forceUpdate(),ue(ee)})}),destroy:function(){ve(),ke=!0}};if(!uoe($,Z))return ye;ye.setOptions(ne).then(function(ue){!ke&&ne.onFirstUpdate&&ne.onFirstUpdate(ue)});function be(){ee.orderedModifiers.forEach(function(ue){var Be=ue.name,Le=ue.options,oe=Le===void 0?{}:Le,Oe=ue.effect;if(typeof Oe=="function"){var qe=Oe({state:ee,name:Be,instance:ye,options:oe}),Xe=function(){};Se.push(qe||Xe)}})}function ve(){Se.forEach(function(ue){return ue()}),Se=[]}return ye}}var ele=[Sce,zce,Cce,uce,Fce,Lce,Wce,vce,Ice],Kee=Qce({defaultModifiers:ele}),Ew=function(){return Ew=Object.assign||function(a){for(var u,g=1,b=arguments.length;g<b;g++){u=arguments[g];for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])}return a},Ew.apply(this,arguments)},JH=function(a,u,g){if(g||arguments.length===2)for(var b=0,x=u.length,D;b<x;b++)(D||!(b in u))&&(D||(D=Array.prototype.slice.call(u,0,b)),D[b]=u[b]);return a.concat(D||Array.prototype.slice.call(u))},_w={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},tle={id:null,override:!0},Tre=(function(){function a(u,g,b,x){u===void 0&&(u=null),g===void 0&&(g=null),b===void 0&&(b=_w),x===void 0&&(x=tle),this._instanceId=x.id?x.id:u.id,this._targetEl=u,this._triggerEl=g,this._options=Ew(Ew({},_w),b),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Cr.addInstance("Dropdown",this,this._instanceId,x.override)}return a.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},a.prototype.destroy=function(){var u=this,g=this._getTriggerEvents();this._options.triggerType==="click"&&g.showEvents.forEach(function(b){u._triggerEl.removeEventListener(b,u._clickHandler)}),this._options.triggerType==="hover"&&(g.showEvents.forEach(function(b){u._triggerEl.removeEventListener(b,u._hoverShowTriggerElHandler),u._targetEl.removeEventListener(b,u._hoverShowTargetElHandler)}),g.hideEvents.forEach(function(b){u._triggerEl.removeEventListener(b,u._hoverHideHandler),u._targetEl.removeEventListener(b,u._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},a.prototype.removeInstance=function(){Cr.removeInstance("Dropdown",this._instanceId)},a.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},a.prototype._setupEventListeners=function(){var u=this,g=this._getTriggerEvents();this._clickHandler=function(){u.toggle()},this._options.triggerType==="click"&&g.showEvents.forEach(function(b){u._triggerEl.addEventListener(b,u._clickHandler)}),this._hoverShowTriggerElHandler=function(b){b.type==="click"?u.toggle():setTimeout(function(){u.show()},u._options.delay)},this._hoverShowTargetElHandler=function(){u.show()},this._hoverHideHandler=function(){setTimeout(function(){u._targetEl.matches(":hover")||u.hide()},u._options.delay)},this._options.triggerType==="hover"&&(g.showEvents.forEach(function(b){u._triggerEl.addEventListener(b,u._hoverShowTriggerElHandler),u._targetEl.addEventListener(b,u._hoverShowTargetElHandler)}),g.hideEvents.forEach(function(b){u._triggerEl.addEventListener(b,u._hoverHideHandler),u._targetEl.addEventListener(b,u._hoverHideHandler)}))},a.prototype._createPopperInstance=function(){return Kee(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},a.prototype._setupClickOutsideListener=function(){var u=this;this._clickOutsideEventListener=function(g){u._handleClickOutside(g,u._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},a.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},a.prototype._handleClickOutside=function(u,g){var b=u.target,x=this._options.ignoreClickOutsideClass,D=!1;if(x){var P=document.querySelectorAll(".".concat(x));P.forEach(function($){if($.contains(b)){D=!0;return}})}b!==g&&!g.contains(b)&&!this._triggerEl.contains(b)&&!D&&this.isVisible()&&this.hide()},a.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},a.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},a.prototype.isVisible=function(){return this._visible},a.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._targetEl.removeAttribute("aria-hidden"),this._popperInstance.setOptions(function(u){return Ew(Ew({},u),{modifiers:JH(JH([],u.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},a.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._targetEl.setAttribute("aria-hidden","true"),this._popperInstance.setOptions(function(u){return Ew(Ew({},u),{modifiers:JH(JH([],u.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},a.prototype.updateOnShow=function(u){this._options.onShow=u},a.prototype.updateOnHide=function(u){this._options.onHide=u},a.prototype.updateOnToggle=function(u){this._options.onToggle=u},a})();function Yee(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(a){var u=a.getAttribute("data-dropdown-toggle"),g=document.getElementById(u);if(g){var b=a.getAttribute("data-dropdown-placement"),x=a.getAttribute("data-dropdown-offset-skidding"),D=a.getAttribute("data-dropdown-offset-distance"),P=a.getAttribute("data-dropdown-trigger"),$=a.getAttribute("data-dropdown-delay"),Z=a.getAttribute("data-dropdown-ignore-click-outside-class");new Tre(g,a,{placement:b||_w.placement,triggerType:P||_w.triggerType,offsetSkidding:x?parseInt(x):_w.offsetSkidding,offsetDistance:D?parseInt(D):_w.offsetDistance,delay:$?parseInt($):_w.delay,ignoreClickOutsideClass:Z||_w.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(u,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=Tre,window.initDropdowns=Yee);var Az=function(){return Az=Object.assign||function(a){for(var u,g=1,b=arguments.length;g<b;g++){u=arguments[g];for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])}return a},Az.apply(this,arguments)},Oz={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},nle={id:null,override:!0},kre=(function(){function a(u,g,b){u===void 0&&(u=null),g===void 0&&(g=Oz),b===void 0&&(b=nle),this._eventListenerInstances=[],this._instanceId=b.id?b.id:u.id,this._targetEl=u,this._options=Az(Az({},Oz),g),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),Cr.addInstance("Modal",this,this._instanceId,b.override)}return a.prototype.init=function(){var u=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(g){u._targetEl.classList.add(g)}),this._initialized=!0)},a.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},a.prototype.removeInstance=function(){Cr.removeInstance("Modal",this._instanceId)},a.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},a.prototype._createBackdrop=function(){var u;if(this._isHidden){var g=document.createElement("div");(u=g.classList).add.apply(u,this._options.backdropClasses.split(" ")),document.querySelector("body").append(g),this._backdropEl=g}},a.prototype._destroyBackdropEl=function(){!this._isHidden&&this._backdropEl&&(this._backdropEl.remove(),this._backdropEl=null)},a.prototype._setupModalCloseEventListeners=function(){var u=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(g){u._handleOutsideClick(g.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(g){g.key==="Escape"&&u.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},a.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},a.prototype._handleOutsideClick=function(u){(u===this._targetEl||u===this._backdropEl&&this.isVisible())&&this.hide()},a.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},a.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},a.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},a.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},a.prototype.isVisible=function(){return!this._isHidden},a.prototype.isHidden=function(){return this._isHidden},a.prototype.addEventListenerInstance=function(u,g,b){this._eventListenerInstances.push({element:u,type:g,handler:b})},a.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(u){u.element.removeEventListener(u.type,u.handler)}),this._eventListenerInstances=[]},a.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},a.prototype.updateOnShow=function(u){this._options.onShow=u},a.prototype.updateOnHide=function(u){this._options.onHide=u},a.prototype.updateOnToggle=function(u){this._options.onToggle=u},a})();function Xee(){document.querySelectorAll("[data-modal-target]").forEach(function(a){var u=a.getAttribute("data-modal-target"),g=document.getElementById(u);if(g){var b=g.getAttribute("data-modal-placement"),x=g.getAttribute("data-modal-backdrop");new kre(g,{placement:b||Oz.placement,backdrop:x||Oz.backdrop})}else console.error("Modal with id ".concat(u," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(a){var u=a.getAttribute("data-modal-toggle"),g=document.getElementById(u);if(g){var b=Cr.getInstance("Modal",u);if(b){var x=function(){b.toggle()};a.addEventListener("click",x),b.addEventListenerInstance(a,"click",x)}else console.error("Modal with id ".concat(u," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(u," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(a){var u=a.getAttribute("data-modal-show"),g=document.getElementById(u);if(g){var b=Cr.getInstance("Modal",u);if(b){var x=function(){b.show()};a.addEventListener("click",x),b.addEventListenerInstance(a,"click",x)}else console.error("Modal with id ".concat(u," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(u," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(a){var u=a.getAttribute("data-modal-hide"),g=document.getElementById(u);if(g){var b=Cr.getInstance("Modal",u);if(b){var x=function(){b.hide()};a.addEventListener("click",x),b.addEventListenerInstance(a,"click",x)}else console.error("Modal with id ".concat(u," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(u," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=kre,window.initModals=Xee);var Dz=function(){return Dz=Object.assign||function(a){for(var u,g=1,b=arguments.length;g<b;g++){u=arguments[g];for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])}return a},Dz.apply(this,arguments)},hS={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},ole={id:null,override:!0},Are=(function(){function a(u,g,b){u===void 0&&(u=null),g===void 0&&(g=hS),b===void 0&&(b=ole),this._eventListenerInstances=[],this._instanceId=b.id?b.id:u.id,this._targetEl=u,this._options=Dz(Dz({},hS),g),this._visible=!1,this._initialized=!1,this.init(),Cr.addInstance("Drawer",this,this._instanceId,b.override)}return a.prototype.init=function(){var u=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(g){u._targetEl.classList.add(g)}),this._handleEscapeKey=function(g){g.key==="Escape"&&u.isVisible()&&u.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},a.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},a.prototype.removeInstance=function(){Cr.removeInstance("Drawer",this._instanceId)},a.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},a.prototype.hide=function(){var u=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(g){u._targetEl.classList.remove(g)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(g){u._targetEl.classList.add(g)})):(this._getPlacementClasses(this._options.placement).active.map(function(g){u._targetEl.classList.remove(g)}),this._getPlacementClasses(this._options.placement).inactive.map(function(g){u._targetEl.classList.add(g)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},a.prototype.show=function(){var u=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(g){u._targetEl.classList.add(g)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(g){u._targetEl.classList.remove(g)})):(this._getPlacementClasses(this._options.placement).active.map(function(g){u._targetEl.classList.add(g)}),this._getPlacementClasses(this._options.placement).inactive.map(function(g){u._targetEl.classList.remove(g)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},a.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},a.prototype._createBackdrop=function(){var u,g=this;if(!this._visible){var b=document.createElement("div");b.setAttribute("drawer-backdrop",""),(u=b.classList).add.apply(u,this._options.backdropClasses.split(" ")),document.querySelector("body").append(b),b.addEventListener("click",function(){g.hide()})}},a.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]")!==null&&document.querySelector("[drawer-backdrop]").remove()},a.prototype._getPlacementClasses=function(u){switch(u){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},a.prototype.isHidden=function(){return!this._visible},a.prototype.isVisible=function(){return this._visible},a.prototype.addEventListenerInstance=function(u,g,b){this._eventListenerInstances.push({element:u,type:g,handler:b})},a.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(u){u.element.removeEventListener(u.type,u.handler)}),this._eventListenerInstances=[]},a.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},a.prototype.updateOnShow=function(u){this._options.onShow=u},a.prototype.updateOnHide=function(u){this._options.onHide=u},a.prototype.updateOnToggle=function(u){this._options.onToggle=u},a})();function Jee(){document.querySelectorAll("[data-drawer-target]").forEach(function(a){var u=a.getAttribute("data-drawer-target"),g=document.getElementById(u);if(g){var b=a.getAttribute("data-drawer-placement"),x=a.getAttribute("data-drawer-body-scrolling"),D=a.getAttribute("data-drawer-backdrop"),P=a.getAttribute("data-drawer-edge"),$=a.getAttribute("data-drawer-edge-offset");new Are(g,{placement:b||hS.placement,bodyScrolling:x?x==="true":hS.bodyScrolling,backdrop:D?D==="true":hS.backdrop,edge:P?P==="true":hS.edge,edgeOffset:$||hS.edgeOffset})}else console.error("Drawer with id ".concat(u," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(a){var u=a.getAttribute("data-drawer-toggle"),g=document.getElementById(u);if(g){var b=Cr.getInstance("Drawer",u);if(b){var x=function(){b.toggle()};a.addEventListener("click",x),b.addEventListenerInstance(a,"click",x)}else console.error("Drawer with id ".concat(u," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(u," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(a){var u=a.getAttribute("data-drawer-dismiss")?a.getAttribute("data-drawer-dismiss"):a.getAttribute("data-drawer-hide"),g=document.getElementById(u);if(g){var b=Cr.getInstance("Drawer",u);if(b){var x=function(){b.hide()};a.addEventListener("click",x),b.addEventListenerInstance(a,"click",x)}else console.error("Drawer with id ".concat(u," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(u," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(a){var u=a.getAttribute("data-drawer-show"),g=document.getElementById(u);if(g){var b=Cr.getInstance("Drawer",u);if(b){var x=function(){b.show()};a.addEventListener("click",x),b.addEventListenerInstance(a,"click",x)}else console.error("Drawer with id ".concat(u," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(u," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=Are,window.initDrawers=Jee);var Rz=function(){return Rz=Object.assign||function(a){for(var u,g=1,b=arguments.length;g<b;g++){u=arguments[g];for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])}return a},Rz.apply(this,arguments)},Mz={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},sle={id:null,override:!0},Ore=(function(){function a(u,g,b,x){u===void 0&&(u=null),g===void 0&&(g=[]),b===void 0&&(b=Mz),x===void 0&&(x=sle),this._instanceId=x.id?x.id:u.id,this._tabsEl=u,this._items=g,this._activeTab=b?this.getTab(b.defaultTabId):null,this._options=Rz(Rz({},Mz),b),this._initialized=!1,this.init(),Cr.addInstance("Tabs",this,this._instanceId,x.override)}return a.prototype.init=function(){var u=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(g){g.triggerEl.addEventListener("click",function(b){b.preventDefault(),u.show(g.id)})}))},a.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},a.prototype.removeInstance=function(){this.destroy(),Cr.removeInstance("Tabs",this._instanceId)},a.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},a.prototype.getActiveTab=function(){return this._activeTab},a.prototype.setActiveTab=function(u){this._activeTab=u},a.prototype.getTab=function(u){return this._items.filter(function(g){return g.id===u})[0]},a.prototype.show=function(u,g){var b,x,D=this;g===void 0&&(g=!1);var P=this.getTab(u);P===this._activeTab&&!g||(this._items.map(function($){var Z,ne;$!==P&&((Z=$.triggerEl.classList).remove.apply(Z,D._options.activeClasses.split(" ")),(ne=$.triggerEl.classList).add.apply(ne,D._options.inactiveClasses.split(" ")),$.targetEl.classList.add("hidden"),$.triggerEl.setAttribute("aria-selected","false"))}),(b=P.triggerEl.classList).add.apply(b,this._options.activeClasses.split(" ")),(x=P.triggerEl.classList).remove.apply(x,this._options.inactiveClasses.split(" ")),P.triggerEl.setAttribute("aria-selected","true"),P.targetEl.classList.remove("hidden"),this.setActiveTab(P),this._options.onShow(this,P))},a.prototype.updateOnShow=function(u){this._options.onShow=u},a})();function Qee(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(a){var u=[],g=a.getAttribute("data-tabs-active-classes"),b=a.getAttribute("data-tabs-inactive-classes"),x=null;a.querySelectorAll('[role="tab"]').forEach(function(D){var P=D.getAttribute("aria-selected")==="true",$={id:D.getAttribute("data-tabs-target"),triggerEl:D,targetEl:document.querySelector(D.getAttribute("data-tabs-target"))};u.push($),P&&(x=$.id)}),new Ore(a,u,{defaultTabId:x,activeClasses:g||Mz.activeClasses,inactiveClasses:b||Mz.inactiveClasses})})}typeof window<"u"&&(window.Tabs=Ore,window.initTabs=Qee);var Tw=function(){return Tw=Object.assign||function(a){for(var u,g=1,b=arguments.length;g<b;g++){u=arguments[g];for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])}return a},Tw.apply(this,arguments)},QH=function(a,u,g){if(g||arguments.length===2)for(var b=0,x=u.length,D;b<x;b++)(D||!(b in u))&&(D||(D=Array.prototype.slice.call(u,0,b)),D[b]=u[b]);return a.concat(D||Array.prototype.slice.call(u))},Pz={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},rle={id:null,override:!0},Dre=(function(){function a(u,g,b,x){u===void 0&&(u=null),g===void 0&&(g=null),b===void 0&&(b=Pz),x===void 0&&(x=rle),this._instanceId=x.id?x.id:u.id,this._targetEl=u,this._triggerEl=g,this._options=Tw(Tw({},Pz),b),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Cr.addInstance("Tooltip",this,this._instanceId,x.override)}return a.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},a.prototype.destroy=function(){var u=this;if(this._initialized){var g=this._getTriggerEvents();g.showEvents.forEach(function(b){u._triggerEl.removeEventListener(b,u._showHandler)}),g.hideEvents.forEach(function(b){u._triggerEl.removeEventListener(b,u._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},a.prototype.removeInstance=function(){Cr.removeInstance("Tooltip",this._instanceId)},a.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},a.prototype._setupEventListeners=function(){var u=this,g=this._getTriggerEvents();this._showHandler=function(){u.show()},this._hideHandler=function(){u.hide()},g.showEvents.forEach(function(b){u._triggerEl.addEventListener(b,u._showHandler)}),g.hideEvents.forEach(function(b){u._triggerEl.addEventListener(b,u._hideHandler)})},a.prototype._createPopperInstance=function(){return Kee(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},a.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},a.prototype._setupKeydownListener=function(){var u=this;this._keydownEventListener=function(g){g.key==="Escape"&&u.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},a.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},a.prototype._setupClickOutsideListener=function(){var u=this;this._clickOutsideEventListener=function(g){u._handleClickOutside(g,u._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},a.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},a.prototype._handleClickOutside=function(u,g){var b=u.target;b!==g&&!g.contains(b)&&!this._triggerEl.contains(b)&&this.isVisible()&&this.hide()},a.prototype.isVisible=function(){return this._visible},a.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},a.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(u){return Tw(Tw({},u),{modifiers:QH(QH([],u.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},a.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(u){return Tw(Tw({},u),{modifiers:QH(QH([],u.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},a.prototype.updateOnShow=function(u){this._options.onShow=u},a.prototype.updateOnHide=function(u){this._options.onHide=u},a.prototype.updateOnToggle=function(u){this._options.onToggle=u},a})();function ete(){document.querySelectorAll("[data-tooltip-target]").forEach(function(a){var u=a.getAttribute("data-tooltip-target"),g=document.getElementById(u);if(g){var b=a.getAttribute("data-tooltip-trigger"),x=a.getAttribute("data-tooltip-placement");new Dre(g,a,{placement:x||Pz.placement,triggerType:b||Pz.triggerType})}else console.error('The tooltip element with id "'.concat(u,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=Dre,window.initTooltips=ete);var kw=function(){return kw=Object.assign||function(a){for(var u,g=1,b=arguments.length;g<b;g++){u=arguments[g];for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])}return a},kw.apply(this,arguments)},ez=function(a,u,g){if(g||arguments.length===2)for(var b=0,x=u.length,D;b<x;b++)(D||!(b in u))&&(D||(D=Array.prototype.slice.call(u,0,b)),D[b]=u[b]);return a.concat(D||Array.prototype.slice.call(u))},DL={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},ile={id:null,override:!0},Rre=(function(){function a(u,g,b,x){u===void 0&&(u=null),g===void 0&&(g=null),b===void 0&&(b=DL),x===void 0&&(x=ile),this._instanceId=x.id?x.id:u.id,this._targetEl=u,this._triggerEl=g,this._options=kw(kw({},DL),b),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Cr.addInstance("Popover",this,x.id?x.id:this._targetEl.id,x.override)}return a.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},a.prototype.destroy=function(){var u=this;if(this._initialized){var g=this._getTriggerEvents();g.showEvents.forEach(function(b){u._triggerEl.removeEventListener(b,u._showHandler),u._targetEl.removeEventListener(b,u._showHandler)}),g.hideEvents.forEach(function(b){u._triggerEl.removeEventListener(b,u._hideHandler),u._targetEl.removeEventListener(b,u._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},a.prototype.removeInstance=function(){Cr.removeInstance("Popover",this._instanceId)},a.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},a.prototype._setupEventListeners=function(){var u=this,g=this._getTriggerEvents();this._showHandler=function(){u.show()},this._hideHandler=function(){setTimeout(function(){u._targetEl.matches(":hover")||u.hide()},100)},g.showEvents.forEach(function(b){u._triggerEl.addEventListener(b,u._showHandler),u._targetEl.addEventListener(b,u._showHandler)}),g.hideEvents.forEach(function(b){u._triggerEl.addEventListener(b,u._hideHandler),u._targetEl.addEventListener(b,u._hideHandler)})},a.prototype._createPopperInstance=function(){return Kee(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},a.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},a.prototype._setupKeydownListener=function(){var u=this;this._keydownEventListener=function(g){g.key==="Escape"&&u.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},a.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},a.prototype._setupClickOutsideListener=function(){var u=this;this._clickOutsideEventListener=function(g){u._handleClickOutside(g,u._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},a.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},a.prototype._handleClickOutside=function(u,g){var b=u.target;b!==g&&!g.contains(b)&&!this._triggerEl.contains(b)&&this.isVisible()&&this.hide()},a.prototype.isVisible=function(){return this._visible},a.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},a.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(u){return kw(kw({},u),{modifiers:ez(ez([],u.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},a.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(u){return kw(kw({},u),{modifiers:ez(ez([],u.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},a.prototype.updateOnShow=function(u){this._options.onShow=u},a.prototype.updateOnHide=function(u){this._options.onHide=u},a.prototype.updateOnToggle=function(u){this._options.onToggle=u},a})();function tte(){document.querySelectorAll("[data-popover-target]").forEach(function(a){var u=a.getAttribute("data-popover-target"),g=document.getElementById(u);if(g){var b=a.getAttribute("data-popover-trigger"),x=a.getAttribute("data-popover-placement"),D=a.getAttribute("data-popover-offset");new Rre(g,a,{placement:x||DL.placement,offset:D?parseInt(D):DL.offset,triggerType:b||DL.triggerType})}else console.error('The popover element with id "'.concat(u,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=Rre,window.initPopovers=tte);var Lz=function(){return Lz=Object.assign||function(a){for(var u,g=1,b=arguments.length;g<b;g++){u=arguments[g];for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])}return a},Lz.apply(this,arguments)},iee={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},ale={id:null,override:!0},Mre=(function(){function a(u,g,b,x,D){u===void 0&&(u=null),g===void 0&&(g=null),b===void 0&&(b=null),x===void 0&&(x=iee),D===void 0&&(D=ale),this._instanceId=D.id?D.id:b.id,this._parentEl=u,this._triggerEl=g,this._targetEl=b,this._options=Lz(Lz({},iee),x),this._visible=!1,this._initialized=!1,this.init(),Cr.addInstance("Dial",this,this._instanceId,D.override)}return a.prototype.init=function(){var u=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var g=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){u.show()},g.showEvents.forEach(function(b){u._triggerEl.addEventListener(b,u._showEventHandler),u._targetEl.addEventListener(b,u._showEventHandler)}),this._hideEventHandler=function(){u._parentEl.matches(":hover")||u.hide()},g.hideEvents.forEach(function(b){u._parentEl.addEventListener(b,u._hideEventHandler)}),this._initialized=!0}},a.prototype.destroy=function(){var u=this;if(this._initialized){var g=this._getTriggerEventTypes(this._options.triggerType);g.showEvents.forEach(function(b){u._triggerEl.removeEventListener(b,u._showEventHandler),u._targetEl.removeEventListener(b,u._showEventHandler)}),g.hideEvents.forEach(function(b){u._parentEl.removeEventListener(b,u._hideEventHandler)}),this._initialized=!1}},a.prototype.removeInstance=function(){Cr.removeInstance("Dial",this._instanceId)},a.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},a.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},a.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},a.prototype.toggle=function(){this._visible?this.hide():this.show()},a.prototype.isHidden=function(){return!this._visible},a.prototype.isVisible=function(){return this._visible},a.prototype._getTriggerEventTypes=function(u){switch(u){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},a.prototype.updateOnShow=function(u){this._options.onShow=u},a.prototype.updateOnHide=function(u){this._options.onHide=u},a.prototype.updateOnToggle=function(u){this._options.onToggle=u},a})();function nte(){document.querySelectorAll("[data-dial-init]").forEach(function(a){var u=a.querySelector("[data-dial-toggle]");if(u){var g=u.getAttribute("data-dial-toggle"),b=document.getElementById(g);if(b){var x=u.getAttribute("data-dial-trigger");new Mre(a,u,b,{triggerType:x||iee.triggerType})}else console.error("Dial with id ".concat(g," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(a.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=Mre,window.initDials=nte);var Nz=function(){return Nz=Object.assign||function(a){for(var u,g=1,b=arguments.length;g<b;g++){u=arguments[g];for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])}return a},Nz.apply(this,arguments)},doe={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},cle={id:null,override:!0},Pre=(function(){function a(u,g,b,x,D){u===void 0&&(u=null),g===void 0&&(g=null),b===void 0&&(b=null),x===void 0&&(x=doe),D===void 0&&(D=cle),this._instanceId=D.id?D.id:u.id,this._targetEl=u,this._incrementEl=g,this._decrementEl=b,this._options=Nz(Nz({},doe),x),this._initialized=!1,this.init(),Cr.addInstance("InputCounter",this,this._instanceId,D.override)}return a.prototype.init=function(){var u=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(g){{var b=g.target;/^\d*$/.test(b.value)||(b.value=b.value.replace(/[^\d]/g,"")),u._options.maxValue!==null&&parseInt(b.value)>u._options.maxValue&&(b.value=u._options.maxValue.toString()),u._options.minValue!==null&&parseInt(b.value)<u._options.minValue&&(b.value=u._options.minValue.toString())}},this._incrementClickHandler=function(){u.increment()},this._decrementClickHandler=function(){u.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},a.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},a.prototype.removeInstance=function(){Cr.removeInstance("InputCounter",this._instanceId)},a.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},a.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},a.prototype.increment=function(){this._options.maxValue!==null&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},a.prototype.decrement=function(){this._options.minValue!==null&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},a.prototype.updateOnIncrement=function(u){this._options.onIncrement=u},a.prototype.updateOnDecrement=function(u){this._options.onDecrement=u},a})();function ote(){document.querySelectorAll("[data-input-counter]").forEach(function(a){var u=a.id,g=document.querySelector('[data-input-counter-increment="'+u+'"]'),b=document.querySelector('[data-input-counter-decrement="'+u+'"]'),x=a.getAttribute("data-input-counter-min"),D=a.getAttribute("data-input-counter-max");a?Cr.instanceExists("InputCounter",a.getAttribute("id"))||new Pre(a,g||null,b||null,{minValue:x?parseInt(x):null,maxValue:D?parseInt(D):null}):console.error('The target element with id "'.concat(u,'" does not exist. Please check the data-input-counter attribute.'))})}typeof window<"u"&&(window.InputCounter=Pre,window.initInputCounters=ote);var Iz=function(){return Iz=Object.assign||function(a){for(var u,g=1,b=arguments.length;g<b;g++){u=arguments[g];for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])}return a},Iz.apply(this,arguments)},Bz={htmlEntities:!1,contentType:"input",onCopy:function(){}},lle={id:null,override:!0},Lre=(function(){function a(u,g,b,x){u===void 0&&(u=null),g===void 0&&(g=null),b===void 0&&(b=Bz),x===void 0&&(x=lle),this._instanceId=x.id?x.id:g.id,this._triggerEl=u,this._targetEl=g,this._options=Iz(Iz({},Bz),b),this._initialized=!1,this.init(),Cr.addInstance("CopyClipboard",this,this._instanceId,x.override)}return a.prototype.init=function(){var u=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){u.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},a.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},a.prototype.removeInstance=function(){Cr.removeInstance("CopyClipboard",this._instanceId)},a.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},a.prototype.getTargetValue=function(){if(this._options.contentType==="input")return this._targetEl.value;if(this._options.contentType==="innerHTML")return this._targetEl.innerHTML;if(this._options.contentType==="textContent")return this._targetEl.textContent.replace(/\s+/g," ").trim()},a.prototype.copy=function(){var u=this.getTargetValue();this._options.htmlEntities&&(u=this.decodeHTML(u));var g=document.createElement("textarea");return g.value=u,document.body.appendChild(g),g.select(),document.execCommand("copy"),document.body.removeChild(g),this._options.onCopy(this),u},a.prototype.decodeHTML=function(u){var g=document.createElement("textarea");return g.innerHTML=u,g.textContent},a.prototype.updateOnCopyCallback=function(u){this._options.onCopy=u},a})();function ste(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach(function(a){var u=a.getAttribute("data-copy-to-clipboard-target"),g=document.getElementById(u),b=a.getAttribute("data-copy-to-clipboard-content-type"),x=a.getAttribute("data-copy-to-clipboard-html-entities");g?Cr.instanceExists("CopyClipboard",g.getAttribute("id"))||new Lre(a,g,{htmlEntities:x&&x==="true"?!0:Bz.htmlEntities,contentType:b||Bz.contentType}):console.error('The target element with id "'.concat(u,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))})}typeof window<"u"&&(window.CopyClipboard=Lre,window.initClipboards=ste);function aee(a,u){(u==null||u>a.length)&&(u=a.length);for(var g=0,b=Array(u);g<u;g++)b[g]=a[g];return b}function ule(a){if(Array.isArray(a))return a}function dle(a){if(Array.isArray(a))return aee(a)}function fle(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function rte(a,u,g){return u=Rw(u),vle(a,Nre()?Reflect.construct(u,g||[],Rw(a).constructor):u.apply(a,g))}function AS(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}function foe(a,u){for(var g=0;g<u.length;g++){var b=u[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(a,wle(b.key),b)}}function OS(a,u,g){return u&&foe(a.prototype,u),g&&foe(a,g),Object.defineProperty(a,"prototype",{writable:!1}),a}function $L(){return $L=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,u,g){var b=ble(a,u);if(b){var x=Object.getOwnPropertyDescriptor(b,u);return x.get?x.get.call(arguments.length<3?a:g):x.value}},$L.apply(null,arguments)}function Rw(a){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},Rw(a)}function ite(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(u&&u.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),u&&cee(a,u)}function Nre(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nre=function(){return!!a})()}function mle(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function hle(a,u){var g=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(g!=null){var b,x,D,P,$=[],Z=!0,ne=!1;try{if(D=(g=g.call(a)).next,u===0){if(Object(g)!==g)return;Z=!1}else for(;!(Z=(b=D.call(g)).done)&&($.push(b.value),$.length!==u);Z=!0);}catch(ee){ne=!0,x=ee}finally{try{if(!Z&&g.return!=null&&(P=g.return(),Object(P)!==P))return}finally{if(ne)throw x}}return $}}function gle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ple(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vle(a,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fle(a)}function cee(a,u){return cee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},cee(a,u)}function rh(a,u){return ule(a)||hle(a,u)||Ire(a,u)||gle()}function ble(a,u){for(;!{}.hasOwnProperty.call(a,u)&&(a=Rw(a))!==null;);return a}function jL(a){return dle(a)||mle(a)||Ire(a)||ple()}function yle(a,u){if(typeof a!="object"||!a)return a;var g=a[Symbol.toPrimitive];if(g!==void 0){var b=g.call(a,u);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}function wle(a){var u=yle(a,"string");return typeof u=="symbol"?u:u+""}function $z(a){"@babel/helpers - typeof";return $z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},$z(a)}function Ire(a,u){if(a){if(typeof a=="string")return aee(a,u);var g={}.toString.call(a).slice(8,-1);return g==="Object"&&a.constructor&&(g=a.constructor.name),g==="Map"||g==="Set"?Array.from(a):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?aee(a,u):void 0}}function j0(a,u){return Object.prototype.hasOwnProperty.call(a,u)}function ate(a){return a[a.length-1]}function _S(a){for(var u=arguments.length,g=new Array(u>1?u-1:0),b=1;b<u;b++)g[b-1]=arguments[b];return g.forEach(function(x){a.includes(x)||a.push(x)}),a}function PQ(a,u){return a?a.split(u):[]}function cte(a,u,g){var b=u===void 0||a>=u,x=g===void 0||a<=g;return b&&x}function Bre(a,u,g){return a<u?u:a>g?g:a}function QA(a,u){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",D=Object.keys(g).reduce(function($,Z){var ne=g[Z];return typeof ne=="function"&&(ne=ne(b)),"".concat($," ").concat(Z,'="').concat(ne,'"')},a);x+="<".concat(D,"></").concat(a,">");var P=b+1;return P<u?QA(a,u,g,P,x):x}function lte(a){return a.replace(/>\s+/g,">").replace(/\s+</,"<")}function lee(a){return new Date(a).setHours(0,0,0,0)}function DS(){return new Date().setHours(0,0,0,0)}function Dw(){switch(arguments.length){case 0:return DS();case 1:return lee(arguments.length<=0?void 0:arguments[0])}var a=new Date(0);return a.setFullYear.apply(a,arguments),a.setHours(0,0,0,0)}function jA(a,u){var g=new Date(a);return g.setDate(g.getDate()+u)}function Cle(a,u){return jA(a,u*7)}function Fz(a,u){var g=new Date(a),b=g.getMonth()+u,x=b%12;x<0&&(x+=12);var D=g.setMonth(b);return g.getMonth()!==x?g.setDate(0):D}function ZA(a,u){var g=new Date(a),b=g.getMonth(),x=g.setFullYear(g.getFullYear()+u);return b===1&&g.getMonth()===2?g.setDate(0):x}function moe(a,u){return(a-u+7)%7}function Hz(a,u){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=new Date(a).getDay();return jA(a,moe(u,g)-moe(b,g))}function xle(a){var u=Hz(a,4,1),g=Hz(new Date(u).setMonth(0,4),4,1);return Math.round((u-g)/6048e5)+1}function dS(a,u){var g=new Date(a).getFullYear();return Math.floor(g/u)*u}var uee=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,Sle=/[\s!-/:-@[-`{-~]+/,LQ={},hoe={y:function(u,g){return new Date(u).setFullYear(parseInt(g,10))},m:function(u,g,b){var x=new Date(u),D=parseInt(g,10)-1;if(isNaN(D)){if(!g)return NaN;var P=g.toLowerCase(),$=function(ne){return ne.toLowerCase().startsWith(P)};if(D=b.monthsShort.findIndex($),D<0&&(D=b.months.findIndex($)),D<0)return NaN}return x.setMonth(D),x.getMonth()!==$re(D)?x.setDate(0):x.getTime()},d:function(u,g){return new Date(u).setDate(parseInt(g,10))}},Ele={d:function(u){return u.getDate()},dd:function(u){return tz(u.getDate(),2)},D:function(u,g){return g.daysShort[u.getDay()]},DD:function(u,g){return g.days[u.getDay()]},m:function(u){return u.getMonth()+1},mm:function(u){return tz(u.getMonth()+1,2)},M:function(u,g){return g.monthsShort[u.getMonth()]},MM:function(u,g){return g.months[u.getMonth()]},y:function(u){return u.getFullYear()},yy:function(u){return tz(u.getFullYear(),2).slice(-2)},yyyy:function(u){return tz(u.getFullYear(),4)}};function $re(a){return a>-1?a%12:$re(a+12)}function tz(a,u){return a.toString().padStart(u,"0")}function Fre(a){if(typeof a!="string")throw new Error("Invalid date format.");if(a in LQ)return LQ[a];var u=a.split(uee),g=a.match(new RegExp(uee,"g"));if(u.length===0||!g)throw new Error("Invalid date format.");var b=g.map(function(D){return Ele[D]}),x=Object.keys(hoe).reduce(function(D,P){var $=g.find(function(Z){return Z[0]!=="D"&&Z[0].toLowerCase()===P});return $&&D.push(P),D},[]);return LQ[a]={parser:function(P,$){var Z=P.split(Sle).reduce(function(ne,ee,Se){if(ee.length>0&&g[Se]){var ke=g[Se][0];ke==="M"?ne.m=ee:ke!=="D"&&(ne[ke]=ee)}return ne},{});return x.reduce(function(ne,ee){var Se=hoe[ee](ne,Z[ee],$);return isNaN(Se)?ne:Se},DS())},formatter:function(P,$){var Z=b.reduce(function(ne,ee,Se){return ne+="".concat(u[Se]).concat(ee(P,$))},"");return Z+=ate(u)}}}function FL(a,u,g){if(a instanceof Date||typeof a=="number"){var b=lee(a);return isNaN(b)?void 0:b}if(a){if(a==="today")return DS();if(u&&u.toValue){var x=u.toValue(a,u,g);return isNaN(x)?void 0:lee(x)}return Fre(u).parser(a,g)}}function HL(a,u,g){if(isNaN(a)||!a&&a!==0)return"";var b=typeof a=="number"?new Date(a):a;return u.toDisplay?u.toDisplay(b,u,g):Fre(u).formatter(b,g)}var zz=new WeakMap,Hre=EventTarget.prototype,goe=Hre.addEventListener,poe=Hre.removeEventListener;function ute(a,u){var g=zz.get(a);g||(g=[],zz.set(a,g)),u.forEach(function(b){goe.call.apply(goe,jL(b)),g.push(b)})}function zre(a){var u=zz.get(a);u&&(u.forEach(function(g){poe.call.apply(poe,jL(g))}),zz.delete(a))}if(!Event.prototype.composedPath){var _le=function a(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];g.push(u);var b;return u.parentNode?b=u.parentNode:u.host?b=u.host:u.defaultView&&(b=u.defaultView),b?a(b,g):g};Event.prototype.composedPath=function(){return _le(this.target)}}function Vre(a,u,g){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,x=a[b];return u(x)?x:x===g||!x.parentElement?void 0:Vre(a,u,g,b+1)}function Ure(a,u){var g=typeof u=="function"?u:function(b){return b.matches(u)};return Vre(a.composedPath(),g,a.currentTarget)}var bL={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},ZL={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},NQ=null;function Z0(a){return NQ==null&&(NQ=document.createRange()),NQ.createContextualFragment(a)}function RL(a){a.style.display!=="none"&&(a.style.display&&(a.dataset.styleDisplay=a.style.display),a.style.display="none")}function ML(a){a.style.display==="none"&&(a.dataset.styleDisplay?(a.style.display=a.dataset.styleDisplay,delete a.dataset.styleDisplay):a.style.display="")}function Vz(a){a.firstChild&&(a.removeChild(a.firstChild),Vz(a))}function Tle(a,u){Vz(a),u instanceof DocumentFragment?a.appendChild(u):typeof u=="string"?a.appendChild(Z0(u)):typeof u.forEach=="function"&&u.forEach(function(g){a.appendChild(g)})}var IQ=ZL.language,kle=ZL.format,Ale=ZL.weekStart;function voe(a,u){return a.length<6&&u>=0&&u<7?_S(a,u):a}function boe(a){return(a+6)%7}function yoe(a,u,g,b){var x=FL(a,u,g);return x!==void 0?x:b}function BQ(a,u){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,b=parseInt(a,10);return b>=0&&b<=g?b:u}function $Q(a,u){var g=Object.assign({},a),b={},x=u.constructor.locales,D=u.config||{},P=D.format,$=D.language,Z=D.locale,ne=D.maxDate,ee=D.maxView,Se=D.minDate,ke=D.pickLevel,ye=D.startView,be=D.weekStart;if(g.language){var ve;if(g.language!==$&&(x[g.language]?ve=g.language:(ve=g.language.split("-")[0],x[ve]===void 0&&(ve=!1))),delete g.language,ve){$=b.language=ve;var ue=Z||x[IQ];Z=Object.assign({format:kle,weekStart:Ale},x[IQ]),$!==IQ&&Object.assign(Z,x[$]),b.locale=Z,P===ue.format&&(P=b.format=Z.format),be===ue.weekStart&&(be=b.weekStart=Z.weekStart,b.weekEnd=boe(Z.weekStart))}}if(g.format){var Be=typeof g.format.toDisplay=="function",Le=typeof g.format.toValue=="function",oe=uee.test(g.format);(Be&&Le||oe)&&(P=b.format=g.format),delete g.format}var Oe=Se,qe=ne;if(g.minDate!==void 0&&(Oe=g.minDate===null?Dw(0,0,1):yoe(g.minDate,P,Z,Oe),delete g.minDate),g.maxDate!==void 0&&(qe=g.maxDate===null?void 0:yoe(g.maxDate,P,Z,qe),delete g.maxDate),qe<Oe?(Se=b.minDate=qe,ne=b.maxDate=Oe):(Se!==Oe&&(Se=b.minDate=Oe),ne!==qe&&(ne=b.maxDate=qe)),g.datesDisabled&&(b.datesDisabled=g.datesDisabled.reduce(function(Nt,B){var Hn=FL(B,P,Z);return Hn!==void 0?_S(Nt,Hn):Nt},[]),delete g.datesDisabled),g.defaultViewDate!==void 0){var Xe=FL(g.defaultViewDate,P,Z);Xe!==void 0&&(b.defaultViewDate=Xe),delete g.defaultViewDate}if(g.weekStart!==void 0){var k=Number(g.weekStart)%7;isNaN(k)||(be=b.weekStart=k,b.weekEnd=boe(k)),delete g.weekStart}if(g.daysOfWeekDisabled&&(b.daysOfWeekDisabled=g.daysOfWeekDisabled.reduce(voe,[]),delete g.daysOfWeekDisabled),g.daysOfWeekHighlighted&&(b.daysOfWeekHighlighted=g.daysOfWeekHighlighted.reduce(voe,[]),delete g.daysOfWeekHighlighted),g.maxNumberOfDates!==void 0){var Ot=parseInt(g.maxNumberOfDates,10);Ot>=0&&(b.maxNumberOfDates=Ot,b.multidate=Ot!==1),delete g.maxNumberOfDates}g.dateDelimiter&&(b.dateDelimiter=String(g.dateDelimiter),delete g.dateDelimiter);var ht=ke;g.pickLevel!==void 0&&(ht=BQ(g.pickLevel,2),delete g.pickLevel),ht!==ke&&(ke=b.pickLevel=ht);var Je=ee;g.maxView!==void 0&&(Je=BQ(g.maxView,ee),delete g.maxView),Je=ke>Je?ke:Je,Je!==ee&&(ee=b.maxView=Je);var Ie=ye;if(g.startView!==void 0&&(Ie=BQ(g.startView,Ie),delete g.startView),Ie<ke?Ie=ke:Ie>ee&&(Ie=ee),Ie!==ye&&(b.startView=Ie),g.prevArrow){var xe=Z0(g.prevArrow);xe.childNodes.length>0&&(b.prevArrow=xe.childNodes),delete g.prevArrow}if(g.nextArrow){var qt=Z0(g.nextArrow);qt.childNodes.length>0&&(b.nextArrow=qt.childNodes),delete g.nextArrow}if(g.disableTouchKeyboard!==void 0&&(b.disableTouchKeyboard="ontouchstart"in document&&!!g.disableTouchKeyboard,delete g.disableTouchKeyboard),g.orientation){var Ct=g.orientation.toLowerCase().split(/\s+/g);b.orientation={x:Ct.find(function(Nt){return Nt==="left"||Nt==="right"})||"auto",y:Ct.find(function(Nt){return Nt==="top"||Nt==="bottom"})||"auto"},delete g.orientation}if(g.todayBtnMode!==void 0){switch(g.todayBtnMode){case 0:case 1:b.todayBtnMode=g.todayBtnMode}delete g.todayBtnMode}return Object.keys(g).forEach(function(Nt){g[Nt]!==void 0&&j0(ZL,Nt)&&(b[Nt]=g[Nt])}),b}var Ole=lte(`<div class="datepicker hidden">
  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">
    <div class="datepicker-header">
      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>
      <div class="datepicker-controls flex justify-between mb-2">
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>
        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main p-1"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">
        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
      </div>
    </div>
  </div>
</div>`),Dle=lte(`<div class="days">
  <div class="days-of-week grid grid-cols-7 mb-1">`.concat(QA("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
  <div class="datepicker-grid w-64 grid grid-cols-7">`).concat(QA("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),`</div>
</div>`)),Rle=lte(`<div class="calendar-weeks">
  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>
  <div class="weeks">`.concat(QA("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
</div>`)),dte=(function(){function a(u,g){AS(this,a),Object.assign(this,g,{picker:u,element:Z0('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}return OS(a,[{key:"init",value:function(g){g.pickLevel!==void 0&&(this.isMinView=this.id===g.pickLevel),this.setOptions(g),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(g,b,x){var D=this.beforeShow(new Date(x));switch($z(D)){case"boolean":D={enabled:D};break;case"string":D={classes:D}}if(D){if(D.enabled===!1&&(g.classList.add("disabled"),_S(this.disabled,b)),D.classes){var P,$=D.classes.split(/\s+/);(P=g.classList).add.apply(P,jL($)),$.includes("disabled")&&_S(this.disabled,b)}D.content&&Tle(g,D.content)}}}])})(),Mle=(function(a){function u(g){return AS(this,u),rte(this,u,[g,{id:0,name:"days",cellClass:"day"}])}return ite(u,a),OS(u,[{key:"init",value:function(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(x){var D=Z0(Dle).firstChild;this.dow=D.firstChild,this.grid=D.lastChild,this.element.appendChild(D)}$L(Rw(u.prototype),"init",this).call(this,b)}},{key:"setOptions",value:function(b){var x=this,D;if(j0(b,"minDate")&&(this.minDate=b.minDate),j0(b,"maxDate")&&(this.maxDate=b.maxDate),b.datesDisabled&&(this.datesDisabled=b.datesDisabled),b.daysOfWeekDisabled&&(this.daysOfWeekDisabled=b.daysOfWeekDisabled,D=!0),b.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=b.daysOfWeekHighlighted),b.todayHighlight!==void 0&&(this.todayHighlight=b.todayHighlight),b.weekStart!==void 0&&(this.weekStart=b.weekStart,this.weekEnd=b.weekEnd,D=!0),b.locale){var P=this.locale=b.locale;this.dayNames=P.daysMin,this.switchLabelFormat=P.titleFormat,D=!0}if(b.beforeShowDay!==void 0&&(this.beforeShow=typeof b.beforeShowDay=="function"?b.beforeShowDay:void 0),b.calendarWeeks!==void 0)if(b.calendarWeeks&&!this.calendarWeeks){var $=Z0(Rle).firstChild;this.calendarWeeks={element:$,dow:$.firstChild,weeks:$.lastChild},this.element.insertBefore($,this.element.firstChild)}else this.calendarWeeks&&!b.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);b.showDaysOfWeek!==void 0&&(b.showDaysOfWeek?(ML(this.dow),this.calendarWeeks&&ML(this.calendarWeeks.dow)):(RL(this.dow),this.calendarWeeks&&RL(this.calendarWeeks.dow))),D&&Array.from(this.dow.children).forEach(function(Z,ne){var ee=(x.weekStart+ne)%7;Z.textContent=x.dayNames[ee],Z.className=x.daysOfWeekDisabled.includes(ee)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}},{key:"updateFocus",value:function(){var b=new Date(this.picker.viewDate),x=b.getFullYear(),D=b.getMonth(),P=Dw(x,D,1),$=Hz(P,this.weekStart,this.weekStart);this.first=P,this.last=Dw(x,D+1,0),this.start=$,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var b=this.picker.datepicker,x=b.dates,D=b.rangepicker;this.selected=x,D&&(this.range=D.dates)}},{key:"render",value:function(){var b=this;this.today=this.todayHighlight?DS():void 0,this.disabled=jL(this.datesDisabled);var x=HL(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(x),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var D=Hz(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach(function(P,$){P.textContent=xle(Cle(D,$))})}Array.from(this.grid.children).forEach(function(P,$){var Z=P.classList,ne=jA(b.start,$),ee=new Date(ne),Se=ee.getDay();if(P.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(b.cellClass),P.dataset.date=ne,P.textContent=ee.getDate(),ne<b.first?Z.add("prev","text-gray-500","dark:text-white"):ne>b.last&&Z.add("next","text-gray-500","dark:text-white"),b.today===ne&&Z.add("today","bg-gray-100","dark:bg-gray-600"),(ne<b.minDate||ne>b.maxDate||b.disabled.includes(ne))&&(Z.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),Z.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),b.daysOfWeekDisabled.includes(Se)&&(Z.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),Z.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),_S(b.disabled,ne)),b.daysOfWeekHighlighted.includes(Se)&&Z.add("highlighted"),b.range){var ke=rh(b.range,2),ye=ke[0],be=ke[1];ne>ye&&ne<be&&(Z.add("range","bg-gray-200","dark:bg-gray-600"),Z.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),ne===ye&&(Z.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),Z.remove("rounded-lg","rounded-r-lg")),ne===be&&(Z.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),Z.remove("rounded-lg","rounded-l-lg"))}b.selected.includes(ne)&&(Z.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),Z.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),ne===b.focused&&Z.add("focused"),b.beforeShow&&b.performBeforeHook(P,ne,ne)})}},{key:"refresh",value:function(){var b=this,x=this.range||[],D=rh(x,2),P=D[0],$=D[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(Z){Z.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),Z.classList.add("text-gray-900","rounded-lg","dark:text-white")}),Array.from(this.grid.children).forEach(function(Z){var ne=Number(Z.dataset.date),ee=Z.classList;ee.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),ne>P&&ne<$&&(ee.add("range","bg-gray-200","dark:bg-gray-600"),ee.remove("rounded-lg")),ne===P&&(ee.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),ee.remove("rounded-lg")),ne===$&&(ee.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),ee.remove("rounded-lg")),b.selected.includes(ne)&&(ee.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),ee.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),ne===b.focused&&ee.add("focused")})}},{key:"refreshFocus",value:function(){var b=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(function(x){x.classList.remove("focused")}),this.grid.children[b].classList.add("focused")}}])})(dte);function woe(a,u){if(!(!a||!a[0]||!a[1])){var g=rh(a,2),b=rh(g[0],2),x=b[0],D=b[1],P=rh(g[1],2),$=P[0],Z=P[1];if(!(x>u||$<u))return[x===u?D:-1,$===u?Z:12]}}var Ple=(function(a){function u(g){return AS(this,u),rte(this,u,[g,{id:1,name:"months",cellClass:"month"}])}return ite(u,a),OS(u,[{key:"init",value:function(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;x&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(Z0(QA("span",12,{"data-month":function(P){return P}})))),$L(Rw(u.prototype),"init",this).call(this,b)}},{key:"setOptions",value:function(b){if(b.locale&&(this.monthNames=b.locale.monthsShort),j0(b,"minDate"))if(b.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{var x=new Date(b.minDate);this.minYear=x.getFullYear(),this.minMonth=x.getMonth(),this.minDate=x.setDate(1)}if(j0(b,"maxDate"))if(b.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var D=new Date(b.maxDate);this.maxYear=D.getFullYear(),this.maxMonth=D.getMonth(),this.maxDate=Dw(this.maxYear,this.maxMonth+1,0)}b.beforeShowMonth!==void 0&&(this.beforeShow=typeof b.beforeShowMonth=="function"?b.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var b=new Date(this.picker.viewDate);this.year=b.getFullYear(),this.focused=b.getMonth()}},{key:"updateSelection",value:function(){var b=this.picker.datepicker,x=b.dates,D=b.rangepicker;this.selected=x.reduce(function(P,$){var Z=new Date($),ne=Z.getFullYear(),ee=Z.getMonth();return P[ne]===void 0?P[ne]=[ee]:_S(P[ne],ee),P},{}),D&&D.dates&&(this.range=D.dates.map(function(P){var $=new Date(P);return isNaN($)?void 0:[$.getFullYear(),$.getMonth()]}))}},{key:"render",value:function(){var b=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var x=this.selected[this.year]||[],D=this.year<this.minYear||this.year>this.maxYear,P=this.year===this.minYear,$=this.year===this.maxYear,Z=woe(this.range,this.year);Array.from(this.grid.children).forEach(function(ne,ee){var Se=ne.classList,ke=Dw(b.year,ee,1);if(ne.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(b.cellClass),b.isMinView&&(ne.dataset.date=ke),ne.textContent=b.monthNames[ee],(D||P&&ee<b.minMonth||$&&ee>b.maxMonth)&&Se.add("disabled"),Z){var ye=rh(Z,2),be=ye[0],ve=ye[1];ee>be&&ee<ve&&Se.add("range"),ee===be&&Se.add("range-start"),ee===ve&&Se.add("range-end")}x.includes(ee)&&(Se.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),Se.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),ee===b.focused&&Se.add("focused"),b.beforeShow&&b.performBeforeHook(ne,ee,ke)})}},{key:"refresh",value:function(){var b=this,x=this.selected[this.year]||[],D=woe(this.range,this.year)||[],P=rh(D,2),$=P[0],Z=P[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(ne){ne.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),ne.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")}),Array.from(this.grid.children).forEach(function(ne,ee){var Se=ne.classList;ee>$&&ee<Z&&Se.add("range"),ee===$&&Se.add("range-start"),ee===Z&&Se.add("range-end"),x.includes(ee)&&(Se.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),Se.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),ee===b.focused&&Se.add("focused")})}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach(function(b){b.classList.remove("focused")}),this.grid.children[this.focused].classList.add("focused")}}])})(dte);function Lle(a){return jL(a).reduce(function(u,g,b){return u+=b?g:g.toUpperCase()},"")}var Coe=(function(a){function u(g,b){return AS(this,u),rte(this,u,[g,b])}return ite(u,a),OS(u,[{key:"init",value:function(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;x&&(this.navStep=this.step*10,this.beforeShowOption="beforeShow".concat(Lle(this.cellClass)),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(Z0(QA("span",12)))),$L(Rw(u.prototype),"init",this).call(this,b)}},{key:"setOptions",value:function(b){if(j0(b,"minDate")&&(b.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=dS(b.minDate,this.step),this.minDate=Dw(this.minYear,0,1))),j0(b,"maxDate")&&(b.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=dS(b.maxDate,this.step),this.maxDate=Dw(this.maxYear,11,31))),b[this.beforeShowOption]!==void 0){var x=b[this.beforeShowOption];this.beforeShow=typeof x=="function"?x:void 0}}},{key:"updateFocus",value:function(){var b=new Date(this.picker.viewDate),x=dS(b,this.navStep),D=x+9*this.step;this.first=x,this.last=D,this.start=x-this.step,this.focused=dS(b,this.step)}},{key:"updateSelection",value:function(){var b=this,x=this.picker.datepicker,D=x.dates,P=x.rangepicker;this.selected=D.reduce(function($,Z){return _S($,dS(Z,b.step))},[]),P&&P.dates&&(this.range=P.dates.map(function($){if($!==void 0)return dS($,b.step)}))}},{key:"render",value:function(){var b=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach(function(x,D){var P=x.classList,$=b.start+D*b.step,Z=Dw($,0,1);if(x.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(b.cellClass),b.isMinView&&(x.dataset.date=Z),x.textContent=x.dataset.year=$,D===0?P.add("prev"):D===11&&P.add("next"),($<b.minYear||$>b.maxYear)&&P.add("disabled"),b.range){var ne=rh(b.range,2),ee=ne[0],Se=ne[1];$>ee&&$<Se&&P.add("range"),$===ee&&P.add("range-start"),$===Se&&P.add("range-end")}b.selected.includes($)&&(P.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),P.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),$===b.focused&&P.add("focused"),b.beforeShow&&b.performBeforeHook(x,$,Z)})}},{key:"refresh",value:function(){var b=this,x=this.range||[],D=rh(x,2),P=D[0],$=D[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(Z){Z.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")}),Array.from(this.grid.children).forEach(function(Z){var ne=Number(Z.textContent),ee=Z.classList;ne>P&&ne<$&&ee.add("range"),ne===P&&ee.add("range-start"),ne===$&&ee.add("range-end"),b.selected.includes(ne)&&(ee.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),ee.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),ne===b.focused&&ee.add("focused")})}},{key:"refreshFocus",value:function(){var b=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(function(x){x.classList.remove("focused")}),this.grid.children[b].classList.add("focused")}}])})(dte);function qA(a,u){var g={date:a.getDate(),viewDate:new Date(a.picker.viewDate),viewId:a.picker.currentView.id,datepicker:a};a.element.dispatchEvent(new CustomEvent(u,{detail:g}))}function Uz(a,u){var g=a.config,b=g.minDate,x=g.maxDate,D=a.picker,P=D.currentView,$=D.viewDate,Z;switch(P.id){case 0:Z=Fz($,u);break;case 1:Z=ZA($,u);break;default:Z=ZA($,u*P.navStep)}Z=Bre(Z,b,x),a.picker.changeFocus(Z).render()}function Wre(a){var u=a.picker.currentView.id;u!==a.config.maxView&&a.picker.changeView(u+1).render()}function jre(a){a.config.updateOnBlur?a.update({autohide:!0}):(a.refresh("input"),a.hide())}function xoe(a,u){var g=a.picker,b=new Date(g.viewDate),x=g.currentView.id,D=x===1?Fz(b,u-b.getMonth()):ZA(b,u-b.getFullYear());g.changeFocus(D).changeView(x-1).render()}function Nle(a){var u=a.picker,g=DS();if(a.config.todayBtnMode===1){if(a.config.autohide){a.setDate(g);return}a.setDate(g,{render:!1}),u.update()}u.viewDate!==g&&u.changeFocus(g),u.changeView(0).render()}function Ile(a){a.setDate({clear:!0})}function Ble(a){Wre(a)}function $le(a){Uz(a,-1)}function Fle(a){Uz(a,1)}function Hle(a,u){var g=Ure(u,".datepicker-cell");if(!(!g||g.classList.contains("disabled"))){var b=a.picker.currentView,x=b.id,D=b.isMinView;D?a.setDate(Number(g.dataset.date)):x===1?xoe(a,Number(g.dataset.month)):xoe(a,Number(g.dataset.year))}}function zle(a){!a.inline&&!a.config.disableTouchKeyboard&&a.inputField.focus()}function Soe(a,u){if(u.title!==void 0&&(u.title?(a.controls.title.textContent=u.title,ML(a.controls.title)):(a.controls.title.textContent="",RL(a.controls.title))),u.prevArrow){var g=a.controls.prevBtn;Vz(g),u.prevArrow.forEach(function($){g.appendChild($.cloneNode(!0))})}if(u.nextArrow){var b=a.controls.nextBtn;Vz(b),u.nextArrow.forEach(function($){b.appendChild($.cloneNode(!0))})}if(u.locale&&(a.controls.todayBtn.textContent=u.locale.today,a.controls.clearBtn.textContent=u.locale.clear),u.todayBtn!==void 0&&(u.todayBtn?ML(a.controls.todayBtn):RL(a.controls.todayBtn)),j0(u,"minDate")||j0(u,"maxDate")){var x=a.datepicker.config,D=x.minDate,P=x.maxDate;a.controls.todayBtn.disabled=!cte(DS(),D,P)}u.clearBtn!==void 0&&(u.clearBtn?ML(a.controls.clearBtn):RL(a.controls.clearBtn))}function Eoe(a){var u=a.dates,g=a.config,b=u.length>0?ate(u):g.defaultViewDate;return Bre(b,g.minDate,g.maxDate)}function _oe(a,u){var g=new Date(a.viewDate),b=new Date(u),x=a.currentView,D=x.id,P=x.year,$=x.first,Z=x.last,ne=b.getFullYear();switch(a.viewDate=u,ne!==g.getFullYear()&&qA(a.datepicker,"changeYear"),b.getMonth()!==g.getMonth()&&qA(a.datepicker,"changeMonth"),D){case 0:return u<$||u>Z;case 1:return ne!==P;default:return ne<$||ne>Z}}function FQ(a){return window.getComputedStyle(a).direction}var Vle=(function(){function a(u){AS(this,a),this.datepicker=u;var g=Ole.replace(/%buttonClass%/g,u.config.buttonClass),b=this.element=Z0(g).firstChild,x=rh(b.firstChild.children,3),D=x[0],P=x[1],$=x[2],Z=D.firstElementChild,ne=rh(D.lastElementChild.children,3),ee=ne[0],Se=ne[1],ke=ne[2],ye=rh($.firstChild.children,2),be=ye[0],ve=ye[1],ue={title:Z,prevBtn:ee,viewSwitch:Se,nextBtn:ke,todayBtn:be,clearBtn:ve};this.main=P,this.controls=ue;var Be=u.inline?"inline":"dropdown";b.classList.add("datepicker-".concat(Be)),Be==="dropdown"&&b.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),Soe(this,u.config),this.viewDate=Eoe(u),ute(u,[[b,"click",zle.bind(null,u),{capture:!0}],[P,"click",Hle.bind(null,u)],[ue.viewSwitch,"click",Ble.bind(null,u)],[ue.prevBtn,"click",$le.bind(null,u)],[ue.nextBtn,"click",Fle.bind(null,u)],[ue.todayBtn,"click",Nle.bind(null,u)],[ue.clearBtn,"click",Ile.bind(null,u)]]),this.views=[new Mle(this),new Ple(this),new Coe(this,{id:2,name:"years",cellClass:"year",step:1}),new Coe(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[u.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),u.config.container.appendChild(this.element)}return OS(a,[{key:"setOptions",value:function(g){Soe(this,g),this.views.forEach(function(b){b.init(g,!1)}),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var g=this.datepicker;if(!g.inline){var b=FQ(g.inputField);b!==FQ(g.config.container)?this.element.dir=b:this.element.dir&&this.element.removeAttribute("dir"),this.place(),g.config.disableTouchKeyboard&&g.inputField.blur()}qA(g,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,qA(this.datepicker,"hide"))}},{key:"place",value:function(){var g=this.element,b=g.classList,x=g.style,D=this.datepicker,P=D.config,$=D.inputField,Z=P.container,ne=this.element.getBoundingClientRect(),ee=ne.width,Se=ne.height,ke=Z.getBoundingClientRect(),ye=ke.left,be=ke.top,ve=ke.width,ue=$.getBoundingClientRect(),Be=ue.left,Le=ue.top,oe=ue.width,Oe=ue.height,qe=P.orientation,Xe=qe.x,k=qe.y,Ot,ht,Je;Z===document.body?(Ot=window.scrollY,ht=Be+window.scrollX,Je=Le+Ot):(Ot=Z.scrollTop,ht=Be-ye,Je=Le-be+Ot),Xe==="auto"&&(ht<0?(Xe="left",ht=10):ht+ee>ve?Xe="right":Xe=FQ($)==="rtl"?"right":"left"),Xe==="right"&&(ht-=ee-oe),k==="auto"&&(k=Je-Se<Ot?"bottom":"top"),k==="top"?Je-=Se:Je+=Oe,b.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),b.add("datepicker-orient-".concat(k),"datepicker-orient-".concat(Xe)),x.top=Je&&"".concat(Je,"px"),x.left=ht&&"".concat(ht,"px")}},{key:"setViewSwitchLabel",value:function(g){this.controls.viewSwitch.textContent=g}},{key:"setPrevBtnDisabled",value:function(g){this.controls.prevBtn.disabled=g}},{key:"setNextBtnDisabled",value:function(g){this.controls.nextBtn.disabled=g}},{key:"changeView",value:function(g){var b=this.currentView,x=this.views[g];return x.id!==b.id&&(this.currentView=x,this._renderMethod="render",qA(this.datepicker,"changeView"),this.main.replaceChild(x.element,b.element)),this}},{key:"changeFocus",value:function(g){return this._renderMethod=_oe(this,g)?"render":"refreshFocus",this.views.forEach(function(b){b.updateFocus()}),this}},{key:"update",value:function(){var g=Eoe(this.datepicker);return this._renderMethod=_oe(this,g)?"render":"refresh",this.views.forEach(function(b){b.updateFocus(),b.updateSelection()}),this}},{key:"render",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,b=g&&this._renderMethod||"render";delete this._renderMethod,this.currentView[b]()}}])})();function Zre(a,u,g,b,x,D){if(cte(a,x,D)){if(b(a)){var P=u(a,g);return Zre(P,u,g,b,x,D)}return a}}function nz(a,u,g,b){var x=a.picker,D=x.currentView,P=D.step||1,$=x.viewDate,Z,ne;switch(D.id){case 0:b?$=jA($,g*7):u.ctrlKey||u.metaKey?$=ZA($,g):$=jA($,g),Z=jA,ne=function(Se){return D.disabled.includes(Se)};break;case 1:$=Fz($,b?g*4:g),Z=Fz,ne=function(Se){var ke=new Date(Se),ye=D.year,be=D.disabled;return ke.getFullYear()===ye&&be.includes(ke.getMonth())};break;default:$=ZA($,g*(b?4:1)*P),Z=ZA,ne=function(Se){return D.disabled.includes(dS(Se,P))}}$=Zre($,Z,g<0?-P:P,ne,D.minDate,D.maxDate),$!==void 0&&x.changeFocus($).render()}function Ule(a,u){if(u.key==="Tab"){jre(a);return}var g=a.picker,b=g.currentView,x=b.id,D=b.isMinView;if(g.active)if(a.editMode)switch(u.key){case"Escape":g.hide();break;case"Enter":a.exitEditMode({update:!0,autohide:a.config.autohide});break;default:return}else switch(u.key){case"Escape":g.hide();break;case"ArrowLeft":if(u.ctrlKey||u.metaKey)Uz(a,-1);else if(u.shiftKey){a.enterEditMode();return}else nz(a,u,-1,!1);break;case"ArrowRight":if(u.ctrlKey||u.metaKey)Uz(a,1);else if(u.shiftKey){a.enterEditMode();return}else nz(a,u,1,!1);break;case"ArrowUp":if(u.ctrlKey||u.metaKey)Wre(a);else if(u.shiftKey){a.enterEditMode();return}else nz(a,u,-1,!0);break;case"ArrowDown":if(u.shiftKey&&!u.ctrlKey&&!u.metaKey){a.enterEditMode();return}nz(a,u,1,!0);break;case"Enter":D?a.setDate(g.viewDate):g.changeView(x-1).render();break;case"Backspace":case"Delete":a.enterEditMode();return;default:u.key.length===1&&!u.ctrlKey&&!u.metaKey&&a.enterEditMode();return}else switch(u.key){case"ArrowDown":case"Escape":g.show();break;case"Enter":a.update();break;default:return}u.preventDefault(),u.stopPropagation()}function Wle(a){a.config.showOnFocus&&!a._showing&&a.show()}function jle(a,u){var g=u.target;(a.picker.active||a.config.showOnClick)&&(g._active=g===document.activeElement,g._clicking=setTimeout(function(){delete g._active,delete g._clicking},2e3))}function Zle(a,u){var g=u.target;g._clicking&&(clearTimeout(g._clicking),delete g._clicking,g._active&&a.enterEditMode(),delete g._active,a.config.showOnClick&&a.show())}function qle(a,u){u.clipboardData.types.includes("text/plain")&&a.enterEditMode()}function Gle(a,u){var g=a.element;if(g===document.activeElement){var b=a.picker.element;Ure(u,function(x){return x===g||x===b})||jre(a)}}function qre(a,u){return a.map(function(g){return HL(g,u.format,u.locale)}).join(u.dateDelimiter)}function Gre(a,u){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=a.config,x=a.dates,D=a.rangepicker;if(u.length===0)return g?[]:void 0;var P=D&&a===D.datepickers[1],$=u.reduce(function(Z,ne){var ee=FL(ne,b.format,b.locale);if(ee===void 0)return Z;if(b.pickLevel>0){var Se=new Date(ee);b.pickLevel===1?ee=P?Se.setMonth(Se.getMonth()+1,0):Se.setDate(1):ee=P?Se.setFullYear(Se.getFullYear()+1,0,0):Se.setMonth(0,1)}return cte(ee,b.minDate,b.maxDate)&&!Z.includes(ee)&&!b.datesDisabled.includes(ee)&&!b.daysOfWeekDisabled.includes(new Date(ee).getDay())&&Z.push(ee),Z},[]);if($.length!==0)return b.multidate&&!g&&($=$.reduce(function(Z,ne){return x.includes(ne)||Z.push(ne),Z},x.filter(function(Z){return!$.includes(Z)}))),b.maxNumberOfDates&&$.length>b.maxNumberOfDates?$.slice(b.maxNumberOfDates*-1):$}function Wz(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,b=a.config,x=a.picker,D=a.inputField;if(u&2){var P=x.active?b.pickLevel:b.startView;x.update().changeView(P).render(g)}u&1&&D&&(D.value=qre(a.dates,b))}function Toe(a,u,g){var b=g.clear,x=g.render,D=g.autohide;x===void 0&&(x=!0),x?D===void 0&&(D=a.config.autohide):D=!1;var P=Gre(a,u,b);P&&(P.toString()!==a.dates.toString()?(a.dates=P,Wz(a,x?3:1),qA(a,"changeDate")):Wz(a,1),D&&a.hide())}var pz=(function(){function a(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;AS(this,a),u.datepicker=this,this.element=u;var x=this.config=Object.assign({buttonClass:g.buttonClass&&String(g.buttonClass)||"button",container:document.body,defaultViewDate:DS(),maxDate:void 0,minDate:void 0},$Q(ZL,this));this._options=g,Object.assign(x,$Q(g,this));var D=this.inline=u.tagName!=="INPUT",P,$;if(D)x.container=u,$=PQ(u.dataset.date,x.dateDelimiter),delete u.dataset.date;else{var Z=g.container?document.querySelector(g.container):null;Z&&(x.container=Z),P=this.inputField=u,P.classList.add("datepicker-input"),$=PQ(P.value,x.dateDelimiter)}if(b){var ne=b.inputs.indexOf(P),ee=b.datepickers;if(ne<0||ne>1||!Array.isArray(ee))throw Error("Invalid rangepicker object.");ee[ne]=this,Object.defineProperty(this,"rangepicker",{get:function(){return b}})}this.dates=[];var Se=Gre(this,$);Se&&Se.length>0&&(this.dates=Se),P&&(P.value=qre(this.dates,x));var ke=this.picker=new Vle(this);if(D)this.show();else{var ye=Gle.bind(null,this),be=[[P,"keydown",Ule.bind(null,this)],[P,"focus",Wle.bind(null,this)],[P,"mousedown",jle.bind(null,this)],[P,"click",Zle.bind(null,this)],[P,"paste",qle.bind(null,this)],[document,"mousedown",ye],[document,"touchstart",ye],[window,"resize",ke.place.bind(ke)]];ute(this,be)}}return OS(a,[{key:"active",get:function(){return!!(this.picker&&this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(g){var b=this.picker,x=$Q(g,this);Object.assign(this._options,g),Object.assign(this.config,x),b.setOptions(x),Wz(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),zre(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var g=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,x=b?function(D){return HL(D,b,g.config.locale)}:function(D){return new Date(D)};if(this.config.multidate)return this.dates.map(x);if(this.dates.length>0)return x(this.dates[0])}},{key:"setDate",value:function(){for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];var D=[].concat(b),P={},$=ate(b);$z($)==="object"&&!Array.isArray($)&&!($ instanceof Date)&&$&&Object.assign(P,D.pop());var Z=Array.isArray(D[0])?D[0]:D;Toe(this,Z,P)}},{key:"update",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!this.inline){var b={clear:!0,autohide:!!(g&&g.autohide)},x=PQ(this.inputField.value,this.config.dateDelimiter);Toe(this,x,b)}}},{key:"refresh",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;g&&typeof g!="string"&&(b=g,g=void 0);var x;g==="picker"?x=2:g==="input"?x=1:x=3,Wz(this,x,!b)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!(this.inline||!this.editMode)){var b=Object.assign({update:!1},g);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),b.update&&this.update(b)}}}],[{key:"formatDate",value:function(g,b,x){return HL(g,b,x&&bL[x]||bL.en)}},{key:"parseDate",value:function(g,b,x){return FL(g,b,x&&bL[x]||bL.en)}},{key:"locales",get:function(){return bL}}])})();function koe(a){var u=Object.assign({},a);return delete u.inputs,delete u.allowOneSidedRange,delete u.maxNumberOfDates,u}function Aoe(a,u,g,b){ute(a,[[g,"changeDate",u]]),new pz(g,b,a)}function yL(a,u){if(!a._updating){a._updating=!0;var g=u.target;if(g.datepicker!==void 0){var b=a.datepickers,x={render:!1},D=a.inputs.indexOf(g),P=D===0?1:0,$=b[D].dates[0],Z=b[P].dates[0];$!==void 0&&Z!==void 0?D===0&&$>Z?(b[0].setDate(Z,x),b[1].setDate($,x)):D===1&&$<Z&&(b[0].setDate($,x),b[1].setDate(Z,x)):a.allowOneSidedRange||($!==void 0||Z!==void 0)&&(x.clear=!0,b[P].setDate(b[D].dates,x)),b[0].picker.update().render(),b[1].picker.update().render(),delete a._updating}}}var HQ=(function(){function a(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};AS(this,a);var b=Array.isArray(g.inputs)?g.inputs:Array.from(u.querySelectorAll("input"));if(!(b.length<2)){u.rangepicker=this,this.element=u,this.inputs=b.slice(0,2),this.allowOneSidedRange=!!g.allowOneSidedRange;var x=yL.bind(null,this),D=koe(g),P=[];Object.defineProperty(this,"datepickers",{get:function(){return P}}),Aoe(this,x,this.inputs[0],D),Aoe(this,x,this.inputs[1],D),Object.freeze(P),P[0].dates.length>0?yL(this,{target:this.inputs[0]}):P[1].dates.length>0&&yL(this,{target:this.inputs[1]})}}return OS(a,[{key:"dates",get:function(){return this.datepickers.length===2?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}},{key:"setOptions",value:function(g){this.allowOneSidedRange=!!g.allowOneSidedRange;var b=koe(g);this.datepickers[0].setOptions(b),this.datepickers[1].setOptions(b)}},{key:"destroy",value:function(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),zre(this),delete this.element.rangepicker}},{key:"getDates",value:function(){var g=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,x=b?function(D){return HL(D,b,g.datepickers[0].config.locale)}:function(D){return new Date(D)};return this.dates.map(function(D){return D===void 0?D:x(D)})}},{key:"setDates",value:function(g,b){var x=rh(this.datepickers,2),D=x[0],P=x[1],$=this.dates;this._updating=!0,D.setDate(g),P.setDate(b),delete this._updating,P.dates[0]!==$[1]?yL(this,{target:this.inputs[1]}):D.dates[0]!==$[0]&&yL(this,{target:this.inputs[0]})}}])})(),jz=function(){return jz=Object.assign||function(a){for(var u,g=1,b=arguments.length;g<b;g++){u=arguments[g];for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])}return a},jz.apply(this,arguments)},Xh={defaultDatepickerId:null,autohide:!1,format:"mm/dd/yyyy",maxDate:null,minDate:null,orientation:"bottom",buttons:!1,autoSelectToday:0,title:null,language:"en",rangePicker:!1,onShow:function(){},onHide:function(){}},Kle={id:null,override:!0},Kre=(function(){function a(u,g,b){u===void 0&&(u=null),g===void 0&&(g=Xh),b===void 0&&(b=Kle),this._instanceId=b.id?b.id:u.id,this._datepickerEl=u,this._datepickerInstance=null,this._options=jz(jz({},Xh),g),this._initialized=!1,this.init(),Cr.addInstance("Datepicker",this,this._instanceId,b.override)}return a.prototype.init=function(){this._datepickerEl&&!this._initialized&&(this._options.rangePicker?this._datepickerInstance=new HQ(this._datepickerEl,this._getDatepickerOptions(this._options)):this._datepickerInstance=new pz(this._datepickerEl,this._getDatepickerOptions(this._options)),this._initialized=!0)},a.prototype.destroy=function(){this._initialized&&(this._initialized=!1,this._datepickerInstance.destroy())},a.prototype.removeInstance=function(){this.destroy(),Cr.removeInstance("Datepicker",this._instanceId)},a.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},a.prototype.getDatepickerInstance=function(){return this._datepickerInstance},a.prototype.getDate=function(){if(this._options.rangePicker&&this._datepickerInstance instanceof HQ)return this._datepickerInstance.getDates();if(!this._options.rangePicker&&this._datepickerInstance instanceof pz)return this._datepickerInstance.getDate()},a.prototype.setDate=function(u){if(this._options.rangePicker&&this._datepickerInstance instanceof HQ)return this._datepickerInstance.setDates(u);if(!this._options.rangePicker&&this._datepickerInstance instanceof pz)return this._datepickerInstance.setDate(u)},a.prototype.show=function(){this._datepickerInstance.show(),this._options.onShow(this)},a.prototype.hide=function(){this._datepickerInstance.hide(),this._options.onHide(this)},a.prototype._getDatepickerOptions=function(u){var g={};return u.buttons&&(g.todayBtn=!0,g.clearBtn=!0,u.autoSelectToday&&(g.todayBtnMode=1)),u.autohide&&(g.autohide=!0),u.format&&(g.format=u.format),u.maxDate&&(g.maxDate=u.maxDate),u.minDate&&(g.minDate=u.minDate),u.orientation&&(g.orientation=u.orientation),u.title&&(g.title=u.title),u.language&&(g.language=u.language),g},a.prototype.updateOnShow=function(u){this._options.onShow=u},a.prototype.updateOnHide=function(u){this._options.onHide=u},a})();function fte(){document.querySelectorAll("[datepicker], [inline-datepicker], [date-rangepicker]").forEach(function(a){if(a){var u=a.hasAttribute("datepicker-buttons"),g=a.hasAttribute("datepicker-autoselect-today"),b=a.hasAttribute("datepicker-autohide"),x=a.getAttribute("datepicker-format"),D=a.getAttribute("datepicker-max-date"),P=a.getAttribute("datepicker-min-date"),$=a.getAttribute("datepicker-orientation"),Z=a.getAttribute("datepicker-title"),ne=a.getAttribute("datepicker-language"),ee=a.hasAttribute("date-rangepicker");new Kre(a,{buttons:u||Xh.buttons,autoSelectToday:g||Xh.autoSelectToday,autohide:b||Xh.autohide,format:x||Xh.format,maxDate:D||Xh.maxDate,minDate:P||Xh.minDate,orientation:$||Xh.orientation,title:Z||Xh.title,language:ne||Xh.language,rangePicker:ee||Xh.rangePicker})}else console.error("The datepicker element does not exist. Please check the datepicker attribute.")})}typeof window<"u"&&(window.Datepicker=Kre,window.initDatepickers=fte);function Yle(){$ee(),Fee(),Hee(),zee(),Yee(),Xee(),Jee(),Qee(),ete(),tte(),nte(),ote(),ste(),fte()}typeof window<"u"&&(window.initFlowbite=Yle);var Xle=new Wae("load",[$ee,Fee,Hee,zee,Yee,Xee,Jee,Qee,ete,tte,nte,ote,ste,fte]);Xle.init();/*! License details at fancyapps.com/license */const au=a=>typeof a=="string";/*! License details at fancyapps.com/license */const UA=a=>a&&a!==null&&a instanceof Element&&"nodeType"in a;/*! License details at fancyapps.com/license */const Jle=function(a){if(!(a&&a instanceof Element&&a.offsetParent))return!1;const u=a.scrollHeight>a.clientHeight,g=window.getComputedStyle(a).overflowY,b=g.indexOf("hidden")!==-1,x=g.indexOf("visible")!==-1;return u&&!b&&!x},bS=function(a,u=void 0){return!a||a===document.body||u&&a===u?null:Jle(a)?a:bS(a.parentElement,u)};/*! License details at fancyapps.com/license */const Mw=function(a){var u=new DOMParser().parseFromString(a,"text/html").body;if(u.childElementCount>1){for(var g=document.createElement("div");u.firstChild;)g.appendChild(u.firstChild);return g}let b=u.firstChild;return!b||b instanceof HTMLElement?b:((g=document.createElement("div")).appendChild(b),g)};/*! License details at fancyapps.com/license */const Xr=function(a=0,u=0,g=0){return Math.max(Math.min(u,g),a)};/*! License details at fancyapps.com/license */const Dd=a=>typeof a=="object"&&a!==null&&a.constructor===Object&&Object.prototype.toString.call(a)==="[object Object]";/*! License details at fancyapps.com/license */function Ooe(a){return Dd(a)||Array.isArray(a)}function zL(a,u){const g=Object.keys(a),b=Object.keys(u);return g.length===b.length&&g.every((x=>{const D=a[x],P=u[x];return typeof D=="function"?`${D}`==`${P}`:Ooe(D)&&Ooe(P)?zL(D,P):D===P}))}/*! License details at fancyapps.com/license */const Yre=function(a){for(const u of Zz)u.getState()===wf.Running&&u.tick(zQ?a-zQ:0);zQ=a,GA=window.requestAnimationFrame(Yre)};var wf,Aw,WA;(function(a){a[a.Initializing=0]="Initializing",a[a.Running=1]="Running",a[a.Paused=2]="Paused",a[a.Completed=3]="Completed",a[a.Destroyed=4]="Destroyed"})(wf||(wf={})),(function(a){a[a.Spring=0]="Spring",a[a.Ease=1]="Ease"})(Aw||(Aw={})),(function(a){a[a.Loop=0]="Loop",a[a.Reverse=1]="Reverse"})(WA||(WA={}));const Zz=new Set;let GA=null,zQ=0;function Pw(){let a=wf.Initializing,u=Aw.Ease,g=0,b=0,x=Pw.Easings.Linear,D=500,P=0,$=0,Z=0,ne=0,ee=1/0,Se=.01,ke=.01,ye=!1,be={},ve=null,ue={},Be={},Le={},oe=0,Oe=0,qe=WA.Loop,Xe=Pw.Easings.Linear;const k=new Map;function Ot(qt,...Ct){for(const Nt of k.get(qt)||[])Nt(...Ct)}function ht(qt){return b=0,qt?ve=setTimeout((()=>{Je()}),qt):Je(),xe}function Je(){a=wf.Running,Ot("start",ue,Be)}function Ie(){if(a=wf.Completed,Le={},Ot("end",ue),a===wf.Completed)if(g<oe){if(g++,qe===WA.Reverse){const qt=Object.assign({},be);be=Object.assign({},Be),Be=qt}ht(Oe)}else g=0;return xe}const xe={getState:function(){return a},easing:function(qt){return x=qt,u=Aw.Ease,Le={},xe},duration:function(qt){return D=qt,xe},spring:function(qt={}){u=Aw.Spring;const Ct={velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0},{velocity:Nt,mass:B,tension:Hn,friction:Qe,restDelta:ln,restSpeed:$t,maxSpeed:Ue,clamp:Pn}=Object.assign(Object.assign({},Ct),qt);return P=Nt,$=B,Z=Hn,ne=Qe,ke=ln,Se=$t,ee=Ue,ye=Pn,Le={},xe},isRunning:function(){return a===wf.Running},isSpring:function(){return u===Aw.Spring},from:function(qt){return ue=Object.assign({},qt),xe},to:function(qt){return Be=qt,xe},repeat:function(qt,Ct=0,Nt=WA.Loop,B){return oe=qt,Oe=Ct,qe=Nt,Xe=B||x,xe},on:function(qt,Ct){var Nt,B;return Nt=qt,B=Ct,k.set(Nt,[...k.get(Nt)||[],B]),xe},off:function(qt,Ct){var Nt,B;return Nt=qt,B=Ct,k.has(Nt)&&k.set(Nt,k.get(Nt).filter((Hn=>Hn!==B))),xe},start:function(qt){return a=wf.Initializing,be=Object.assign({},ue),zL(be,Be)||(Zz.add(this),GA||(GA=window.requestAnimationFrame(Yre)),ht(qt)),xe},pause:function(){return ve&&(clearTimeout(ve),ve=null),a===wf.Running&&(a=wf.Paused,Ot("pause",ue)),xe},end:Ie,tick:function(qt){qt>50&&(qt=50),b+=qt;let Ct=0,Nt=!1;if(a!==wf.Running)return xe;if(u===Aw.Ease){Ct=Xr(0,b/D,1),Nt=Ct===1;const Hn=qe===WA.Reverse?Xe:x;for(const Qe in ue)ue[Qe]=be[Qe]+(Be[Qe]-be[Qe])*Hn(Ct)}if(u===Aw.Spring){const Hn=.001*qt;let Qe=0;for(const ln in ue){const $t=Be[ln];let Ue=ue[ln];if(typeof $t!="number"||isNaN($t)||typeof Ue!="number"||isNaN(Ue))continue;if(Math.abs($t-Ue)<=ke){ue[ln]=$t,Le[ln]=0;continue}Le[ln]||(typeof P=="object"&&typeof P[ln]=="number"?Le[ln]=P[ln]:Le[ln]=typeof P=="number"?P:0);let Pn=Le[ln];Pn=Xr(-1*Math.abs(ee),Pn,Math.abs(ee));const jo=Pn*$*ne;Pn+=((Ue>$t?-1:1)*(Math.abs($t-Ue)*Z)-jo)/$*Hn,Ue+=Pn*Hn;const ho=ue[ln]>$t?Ue<$t:Ue>$t;let vo=Math.abs(Pn)<Se&&Math.abs($t-Ue)<=ke;ye&&ho&&(vo=!0),vo?(Ue=$t,Pn=0):Qe++,ue[ln]=Ue,Le[ln]=Pn}Nt=!Qe}const B=Object.assign({},Be);return Ot("step",ue,be,Be,Ct),Nt&&a===wf.Running&&zL(Be,B)&&(a=wf.Completed,Ie()),xe},getStartValues:function(){return be},getCurrentValues:function(){return ue},getCurrentVelocities:function(){return Le},getEndValues:function(){return Be},destroy:function(){a=wf.Destroyed,ve&&(clearTimeout(ve),ve=null),be=ue=Be={},Zz.delete(this)}};return xe}Pw.destroy=()=>{for(const a of Zz)a.destroy();GA&&(cancelAnimationFrame(GA),GA=null)},Pw.Easings={Linear:function(a){return a},EaseIn:function(a){return a===0?0:Math.pow(2,10*a-10)},EaseOut:function(a){return a===1?1:1-Math.pow(2,-10*a)},EaseInOut:function(a){return a===0?0:a===1?1:a<.5?Math.pow(2,20*a-10)/2:(2-Math.pow(2,-20*a+10))/2}};/*! License details at fancyapps.com/license */function VQ(a){const u=[],g=typeof TouchEvent<"u"&&a instanceof TouchEvent?a.touches:a instanceof MouseEvent&&a.type!=="mouseup"?[a]:[];for(const b of g)u.push({x:b.clientX,y:b.clientY,ts:Date.now()});return u}function Xre(a){const u=[],g=typeof TouchEvent<"u"&&a instanceof TouchEvent?a.changedTouches:a instanceof MouseEvent?[a]:[];for(const b of g)u.push({x:b.clientX,y:b.clientY,ts:Date.now()});return u}function Sw(a){const u=a[0],g=a[1]||u;return{x:(u.x+g.x)/2,y:(u.y+g.y)/2,ts:g.ts}}function oz(a){const u=a[0],g=a[1]||a[0];return u&&g?-1*Math.sqrt((g.x-u.x)*(g.x-u.x)+(g.y-u.y)*(g.y-u.y)):0}const Doe=a=>{a.cancelable&&a.preventDefault()},Cw={passive:!1},Qle={panThreshold:5,swipeThreshold:3,ignore:["textarea","input","select","[contenteditable]","[data-selectable]","[data-draggable]"]};let sz=!1,_L=!0;const eO=(a,u)=>{let g,b,x,D=Object.assign(Object.assign({},Qle),u),P=[],$=[],Z=[],ne=!1,ee=!1,Se=!1,ke=0,ye=0,be=0,ve=0,ue=0,Be=0,Le=0,oe=0,Oe=0,qe=[],Xe=0,k=0;const Ot=new Map;function ht(ln){const $t=oz($),Ue=oz(Z),Pn=$t&&Ue?$t/Ue:0,jo=Math.abs(Le)>Math.abs(oe)?Le:oe,ho={srcEvent:g,isPanRecognized:ne,isSwipeRecognized:ee,firstTouch:P,previousTouch:Z,currentTouch:$,deltaX:be,deltaY:ve,offsetX:ue,offsetY:Be,velocityX:Le,velocityY:oe,velocity:jo,angle:Oe,axis:x,scale:Pn,center:b};for(const vo of Ot.get(ln)||[])vo(ho)}function Je(ln){const $t=Date.now();qe=qe.filter((Ue=>!Ue.ts||Ue.ts>$t-100)),ln&&qe.push(ln)}function Ie(){if(Le=0,oe=0,qe.length>3){const ln=qe[0],$t=qe[qe.length-1];if(ln&&$t){const Ue=$t.x-ln.x,Pn=$t.y-ln.y,jo=ln.ts&&$t.ts?$t.ts-ln.ts:0;jo>0&&(Le=Math.abs(Ue)>3?Ue/(jo/30):0,oe=Math.abs(Pn)>3?Pn/(jo/30):0)}}}function xe(ln){if(ln instanceof MouseEvent){if(sz)return}else sz=!0;const $t=ln.composedPath()[0],Ue=D.ignore.join(",");if($t.matches(Ue)||$t.closest(Ue)||typeof MouseEvent<"u"&&ln instanceof MouseEvent&&(!ln.buttons||ln.button!==0))return;ln instanceof MouseEvent&&Doe(ln);const Pn=Date.now(),jo=Pn-(ke||Pn);Se=jo>0&&jo<=250,ke=Pn,clearTimeout(Xe),g=ln,ln instanceof MouseEvent&&(window.addEventListener("mousemove",qt),window.addEventListener("mouseup",Ct)),window.addEventListener("blur",Nt),$=VQ(ln),P=[...$],Z=[],ye=$.length,b=Sw($),ye===1&&(ne=!1,ee=!1),ye&&Je(Sw($)),ht("start")}function qt(ln){var $t;if(!P.length||ln.defaultPrevented)return;g=ln,Z=[...$],$=VQ(ln),ye=$.length,b=Sw($);const Ue=b,Pn=Sw(Z);if(be=Ue.x-Pn.x,ve=Ue.y-Pn.y,Je(Ue),Ie(),ht("move"),$.length>1){const jo=oz($),ho=oz(Z);Math.abs(jo-ho)>=.1&&ht("pinch")}if(!ne&&P.length){const jo=Sw(P);ue=Ue.x-jo.x,Be=Ue.y-jo.y,ne=Math.abs(ue)>D.panThreshold||Math.abs(Be)>D.panThreshold,ne&&(_L=!1,clearTimeout(k),k=0,Oe=Math.abs(180*Math.atan2(Be,ue)/Math.PI),x=Oe>45&&Oe<135?"y":"x",P=[...$],Z=[...$],($t=window.getSelection())===null||$t===void 0||$t.removeAllRanges(),ht("panstart"))}ne&&(be||ve)&&ht("pan")}function Ct(ln){if(g=ln,!P.length)return;const $t=VQ(ln),Ue=Xre(ln);if(ye=$t.length,b=Sw(Ue),Ue.length&&Je(Sw(Ue)),Ie(),Z=[...$],$=[...$t],P=[...$t],$t.length>0)ht("end"),ne=!1,ee=!1,qe=[];else{const Pn=D.swipeThreshold;(Math.abs(Le)>Pn||Math.abs(oe)>Pn)&&(ee=!0),ne&&ht("panend"),ee&&ht("swipe"),ne||ee||(ht("tap"),Se?ht("doubleTap"):Xe=setTimeout((function(){ht("singleTap")}),250)),ht("end"),B()}}function Nt(){clearTimeout(Xe),B(),ne&&ht("panend"),ht("end")}function B(){sz=!1,ne=!1,ee=!1,Se=!1,ye=0,qe=[],$=[],Z=[],P=[],be=0,ve=0,ue=0,Be=0,Le=0,oe=0,Oe=0,x=void 0,window.removeEventListener("mousemove",qt),window.removeEventListener("mouseup",Ct),window.removeEventListener("blur",Nt),_L||k||(k=setTimeout((()=>{_L=!0,k=0}),100))}function Hn(ln){const $t=ln.target;sz=!1,$t&&!ln.defaultPrevented&&(_L||(Doe(ln),ln.stopPropagation()))}const Qe={init:function(){if(a)return a.addEventListener("click",Hn,Cw),a.addEventListener("mousedown",xe,Cw),a.addEventListener("touchstart",xe,Cw),a.addEventListener("touchmove",qt,Cw),a.addEventListener("touchend",Ct),a.addEventListener("touchcancel",Ct),Qe},on:function(ln,$t){return(function(Ue,Pn){Ot.set(Ue,[...Ot.get(Ue)||[],Pn])})(ln,$t),Qe},off:function(ln,$t){return Ot.has(ln)&&Ot.set(ln,Ot.get(ln).filter((Ue=>Ue!==$t))),Qe},isPointerDown:()=>ye>0,destroy:function(){clearTimeout(Xe),clearTimeout(k),k=0,a&&(a.removeEventListener("click",Hn,Cw),a.removeEventListener("mousedown",xe,Cw),a.removeEventListener("touchstart",xe,Cw),a.removeEventListener("touchmove",qt,Cw),a.removeEventListener("touchend",Ct),a.removeEventListener("touchcancel",Ct)),a=null,B()}};return Qe};eO.isClickAllowed=()=>_L;/*! License details at fancyapps.com/license */const mte={IMAGE_ERROR:"This image couldn't be loaded. <br /> Please try again later.",MOVE_UP:"Move up",MOVE_DOWN:"Move down",MOVE_LEFT:"Move left",MOVE_RIGHT:"Move right",ZOOM_IN:"Zoom in",ZOOM_OUT:"Zoom out",TOGGLE_FULL:"Toggle zoom level",TOGGLE_1TO1:"Toggle zoom level",ITERATE_ZOOM:"Toggle zoom level",ROTATE_CCW:"Rotate counterclockwise",ROTATE_CW:"Rotate clockwise",FLIP_X:"Flip horizontally",FLIP_Y:"Flip vertically",RESET:"Reset",TOGGLE_FS:"Toggle fullscreen"};/*! License details at fancyapps.com/license */const wr=(a,u="")=>{a&&a.classList&&u.split(" ").forEach((g=>{g&&a.classList.add(g)}))};/*! License details at fancyapps.com/license */const z1=(a,u="")=>{a&&a.classList&&u.split(" ").forEach((g=>{g&&a.classList.remove(g)}))};/*! License details at fancyapps.com/license */const Ad=(a,u="",g)=>{a&&a.classList&&u.split(" ").forEach((b=>{b&&a.classList.toggle(b,g||!1)}))};/*! License details at fancyapps.com/license */const uS=a=>{a.cancelable&&a.preventDefault()},yf=(a,u=1e4)=>(a=parseFloat(a+"")||0,Math.round((a+Number.EPSILON)*u)/u),F1=a=>a instanceof HTMLImageElement;var qo,Roe;(function(a){a.Reset="reset",a.Zoom="zoom",a.ZoomIn="zoomIn",a.ZoomOut="zoomOut",a.ZoomTo="zoomTo",a.ToggleCover="toggleCover",a.ToggleFull="toggleFull",a.ToggleMax="toggleMax",a.IterateZoom="iterateZoom",a.Pan="pan",a.Swipe="swipe",a.Move="move",a.MoveLeft="moveLeft",a.MoveRight="moveRight",a.MoveUp="moveUp",a.MoveDown="moveDown",a.RotateCCW="rotateCCW",a.RotateCW="rotateCW",a.FlipX="flipX",a.FlipY="flipY",a.ToggleFS="toggleFS"})(qo||(qo={})),(function(a){a.Cover="cover",a.Full="full",a.Max="max"})(Roe||(Roe={}));const bp={x:0,y:0,scale:1,angle:0,flipX:1,flipY:1},dee={bounds:!0,classes:{container:"f-panzoom",wrapper:"f-panzoom__wrapper",content:"f-panzoom__content",viewport:"f-panzoom__viewport"},clickAction:qo.ToggleFull,dblClickAction:!1,gestures:{},height:"auto",l10n:mte,maxScale:4,minScale:1,mouseMoveFactor:1,panMode:"drag",protected:!1,singleClickAction:!1,spinnerTpl:'<div class="f-spinner"></div>',wheelAction:qo.Zoom,width:"auto"};let rz,Moe=0,Poe=0,iz=0;const fee=(a,u={},g={})=>{let b,x,D,P,$,Z,ne,ee,Se=0,ke=Object.assign(Object.assign({},dee),u),ye={},be=Object.assign({},bp),ve=Object.assign({},bp);const ue=[];function Be(pe){let at=ke[pe];return at&&typeof at=="function"?at(St):at}function Le(){return a&&a.parentElement&&b&&Se===3}const oe=new Map;function Oe(pe,...at){const Dt=[...oe.get(pe)||[]];ke.on&&Dt.push(ke.on[pe]);for(const Ht of Dt)Ht&&Ht instanceof Function&&Ht(St,...at);pe!=="*"&&Oe("*",pe,...at)}function qe(pe){if(!Le())return;const at=pe.target;if(bS(at))return;const Dt=Date.now(),Ht=[-pe.deltaX||0,-pe.deltaY||0,-pe.detail||0].reduce((function(wo,Rn){return Math.abs(Rn)>Math.abs(wo)?Rn:wo})),st=Xr(-1,Ht,1);Oe("wheel",pe,st);const rt=Be("wheelAction");if(!rt||pe.defaultPrevented)return;const ao=ve.scale;let So=ao*(st>0?1.5:.5);if(rt===qo.Zoom){const wo=Math.abs(pe.deltaY)<100&&Math.abs(pe.deltaX)<100;if(Dt-Poe<(wo?200:45))return void uS(pe);Poe=Dt;const Rn=Hn(),Zo=Ue();if(yf(So)<yf(Rn)&&yf(ao)<=yf(Rn)?(iz+=Math.abs(st),So=Rn):yf(So)>yf(Zo)&&yf(ao)>=yf(Zo)?(iz+=Math.abs(st),So=Zo):(iz=0,So=Xr(Rn,So,Zo)),iz>7)return}switch(uS(pe),rt){case qo.Pan:vo(rt,{srcEvent:pe,deltaX:2*-pe.deltaX,deltaY:2*-pe.deltaY});break;case qo.Zoom:vo(qo.ZoomTo,{srcEvent:pe,scale:So,center:{x:pe.clientX,y:pe.clientY}});break;default:vo(rt,{srcEvent:pe})}}function Xe(pe){var at,Dt;const Ht=pe.composedPath()[0];if(!eO.isClickAllowed()||!UA(Ht)||pe.defaultPrevented||!(a!=null&&a.contains(Ht))||Ht.hasAttribute("disabled")||Ht.hasAttribute("aria-disabled"))return;const st=Ht.closest("[data-panzoom-action]"),rt=(at=st==null?void 0:st.dataset)===null||at===void 0?void 0:at.panzoomAction,ao=((Dt=st==null?void 0:st.dataset)===null||Dt===void 0?void 0:Dt.panzoomValue)||"";if(rt){switch(uS(pe),rt){case qo.ZoomTo:case qo.ZoomIn:case qo.ZoomOut:vo(rt,{scale:parseFloat(ao||"")||void 0});break;case qo.MoveLeft:case qo.MoveRight:vo(rt,{deltaX:parseFloat(ao||"")||void 0});break;case qo.MoveUp:case qo.MoveDown:vo(rt,{deltaY:parseFloat(ao||"")||void 0});break;case qo.ToggleFS:Re();break;default:vo(rt)}return}if(!(b!=null&&b.contains(Ht)))return;const So={srcEvent:pe};if(vo(Be("clickAction"),So),Be("dblClickAction")){const wo=Date.now(),Rn=wo-(Moe||wo);Moe=wo,Rn>0&&Rn<=250?(rz&&(clearTimeout(rz),rz=void 0),vo(Be("dblClickAction"),So)):rz=setTimeout((()=>{vo(Be("singleClickAction"),So)}),250)}}function k(pe){if(ee=pe,!Le()||!Ct()||be.scale<=1||ve.scale<=1||((b==null?void 0:b.dataset.animationName)||"").indexOf("zoom")>-1)return;const at=Nt(ve.scale);if(!at)return;const{x:Dt,y:Ht}=at;vo(qo.Pan,{deltaX:Dt-ve.x,deltaY:Ht-ve.y})}function Ot(){var pe;a&&(z1(a,"is-loading"),(pe=a.querySelector(".f-spinner"))===null||pe===void 0||pe.remove())}function ht(){if(!a||!x)return;if(Ot(),F1(x)&&(!x.complete||!x.naturalWidth))return Se=2,b==null||b.classList.add("has-error"),void Oe("error");Oe("loaded");const{width:pe,height:at}=xe();F1(x)&&(x.setAttribute("width",pe+""),x.setAttribute("height",at+"")),b&&(z1(b,"has-error"),F1(x)&&(b.setAttribute("width",pe+""),b.setAttribute("height",at+""),b.style.aspectRatio=`${pe/at||""}`)),Z=Pw().on("start",((Ht,st)=>{st.angle!==void 0&&(st.angle=90*Math.round(st.angle/90)),st.flipX!==void 0&&(st.flipX=st.flipX>0?1:-1),st.flipY!==void 0&&(st.flipY=st.flipY>0?1:-1),ve=Object.assign(Object.assign({},bp),st),ho(),Oe("animationStart")})).on("pause",(Ht=>{ve=Object.assign(Object.assign({},bp),Ht)})).on("step",(Ht=>{if(!Le())return void(Z==null||Z.end());if(be=Object.assign(Object.assign({},bp),Ht),Ct()||!Be("bounds")||ut()||ve.scale>be.scale||ve.scale<Qe())return void Tt();const st=Pn(ve.scale);let rt=!1,ao=!1,So=!1,wo=!1;be.x<st.x[0]&&(rt=!0),be.x>st.x[1]&&(ao=!0),be.y<st.y[0]&&(wo=!0),be.y>st.y[1]&&(So=!0);let Rn=!1,Zo=!1,Vo=!1,Oo=!1;ve.x<st.x[0]&&(Rn=!0),ve.x>st.x[1]&&(Zo=!0),ve.y<st.y[0]&&(Oo=!0),ve.y>st.y[1]&&(Vo=!0);let No=!1;(ao&&Zo||rt&&Rn)&&(ve.x=Xr(st.x[0],ve.x,st.x[1]),No=!0),(So&&Vo||wo&&Oo)&&(ve.y=Xr(st.y[0],ve.y,st.y[1]),No=!0),No&&Z&&Z.spring({tension:94,friction:17,maxSpeed:555*ve.scale,restDelta:.1,restSpeed:.1,velocity:Z.getCurrentVelocities()}).from(be).to(ve).start(),Tt()})).on("end",(()=>{jo(),Z!=null&&Z.isRunning()||(ho(),Oe("animationEnd"))})),(function(){const Ht=Be("gestures");Ht&&P&&x&&($=eO(P,Ht).on("start",(st=>{if(!Z)return;const rt=st.srcEvent;Ct()||((be.scale>1||st.currentTouch.length>1)&&(rt==null||rt.stopPropagation(),Z.pause()),st.currentTouch.length===1&&Oe("touchStart"))})).on("move",(st=>{var rt;Ct()||(ve.scale!==1||st.currentTouch.length>1)&&(uS(st.srcEvent),(rt=st.srcEvent)===null||rt===void 0||rt.stopPropagation())})).on("pan",(st=>{if(!Le()||Ct())return;const rt=st.srcEvent;(ve.scale!==1||st.currentTouch.length>1)&&(uS(rt),vo(qo.Pan,st))})).on("swipe",(st=>{Le()&&!Ct()&&ve.scale>1&&vo(qo.Swipe,st)})).on("tap",(st=>{Oe("click",st)})).on("singleTap",(st=>{Oe("singleClick",st)})).on("doubleTap",(st=>{Oe("dblClick",st)})).on("pinch",(st=>{Ct()||(st.scale>Qe()?vo(qo.ZoomIn,st):st.scale<Qe()?vo(qo.ZoomOut,st):vo(qo.Pan,st))})).on("end",(st=>{Ct()||(st.currentTouch.length?(st.srcEvent.stopPropagation(),uS(st.srcEvent),Z==null||Z.end()):(ho(),jo(),Oe("touchEnd")))})).init())})(),P&&(P.addEventListener("wheel",qe,{passive:!1}),ue.push((()=>{P==null||P.removeEventListener("wheel",qe,{passive:!1})}))),a==null||a.addEventListener("click",Xe),document==null||document.addEventListener("mousemove",k),ue.push((()=>{a==null||a.removeEventListener("click",Xe),document==null||document.removeEventListener("mousemove",k)}));const Dt=Je();be=Object.assign({},Dt),ve=Object.assign({},Dt),Se=3,Tt(),ho(),Oe("ready"),requestAnimationFrame((()=>{Ot(),P&&(P.style.visibility="")}))}function Je(){const pe=Object.assign({},Be("startPos")||{});let at=pe.scale,Dt=1;Dt=typeof at=="string"?B(at):typeof at=="number"?at:Qe();const Ht=Object.assign(Object.assign(Object.assign({},bp),pe),{scale:Dt}),st=Ct()?Nt(Dt):void 0;if(st){const{x:rt,y:ao}=st;Ht.x=rt,Ht.y=ao}return Ht}function Ie(){const pe={top:0,left:0,width:0,height:0};if(b){const at=b.getBoundingClientRect();ve.angle%180==90?(pe.top=at.top+.5*at.height-.5*at.width,pe.left=at.left+.5*at.width-.5*at.height,pe.width=at.height,pe.height=at.width):(pe.top=at.top,pe.left=at.left,pe.width=at.width,pe.height=at.height)}return pe}function xe(){let pe=Be("width"),at=Be("height");if(x&&pe==="auto"){const Dt=x.getAttribute("width");pe=Dt?parseFloat(Dt+""):x.dataset.width!==void 0?parseFloat(x.dataset.width+""):F1(P)?P.naturalWidth:F1(x)?x.naturalWidth:x.getBoundingClientRect().width}else pe=au(pe)?parseFloat(pe):pe;if(x&&at==="auto"){const Dt=x.getAttribute("height");at=Dt?parseFloat(Dt+""):x.dataset.height!==void 0?parseFloat(x.dataset.height+""):F1(P)?P.naturalHeight:F1(x)?x.naturalHeight:x.getBoundingClientRect().height}else at=au(at)?parseFloat(at):at;return{width:pe,height:at}}function qt(){const pe=Ie();return{width:pe.width,height:pe.height}}function Ct(){return Be("panMode")==="mousemove"&&matchMedia("(hover: hover)").matches}function Nt(pe){const at=ee||Be("event"),Dt=b==null?void 0:b.getBoundingClientRect();if(!at||!Dt||pe<=1)return{x:0,y:0};const Ht=(at.clientX||0)-Dt.left,st=(at.clientY||0)-Dt.top,{width:rt,height:ao}=qt(),So=Pn(pe);if(pe>1){const Oo=Be("mouseMoveFactor");Oo>1&&(pe*=Oo)}let wo=rt*pe,Rn=ao*pe,Zo=.5*(wo-rt)-Ht/rt*100/100*(wo-rt),Vo=.5*(Rn-ao)-st/ao*100/100*(Rn-ao);return Zo=Xr(So.x[0],Zo,So.x[1]),Vo=Xr(So.y[0],Vo,So.y[1]),{x:Zo,y:Vo}}function B(pe="base"){if(!a)return 1;const at=a.getBoundingClientRect(),Dt=Ie(),{width:Ht,height:st}=xe(),rt=Zo=>{if(typeof Zo=="number")return Zo;switch(Zo){case"min":case"base":return 1;case"cover":return Math.max(at.height/Dt.height,at.width/Dt.width)||1;case"full":case"max":{const Vo=ve.angle%180==90?st:Ht;return Vo&&Dt.width?Vo/Dt.width:1}}},ao=Be("minScale"),So=Be("maxScale"),wo=Math.min(rt("full"),rt(ao)),Rn=typeof So=="number"?rt("full")*So:Math.min(rt("full"),rt(So));switch(pe){case"min":return wo;case"base":return Xr(wo,1,Rn);case"cover":return rt("cover");case"full":return Math.min(Rn,rt("full"));case"max":return Rn}}function Hn(){return B("min")}function Qe(){return B("base")}function ln(){return B("cover")}function $t(){return B("full")}function Ue(){return B("max")}function Pn(pe){const at={x:[0,0],y:[0,0]},Dt=a==null?void 0:a.getBoundingClientRect();if(!Dt)return at;const Ht=Ie(),st=Dt.width,rt=Dt.height;let ao=Ht.width,So=Ht.height,wo=pe=pe===void 0?ve.scale:pe,Rn=pe;if(Ct()&&pe>1){const Zo=Be("mouseMoveFactor");Zo>1&&(ao*pe>st+.01&&(wo*=Zo),So*pe>rt+.01&&(Rn*=Zo))}return ao*=wo,So*=Rn,pe>1&&(ao>st&&(at.x[0]=.5*(st-ao),at.x[1]=.5*(ao-st)),at.x[0]-=.5*(Ht.left-Dt.left),at.x[1]-=.5*(Ht.left-Dt.left),at.x[0]-=.5*(Ht.left+Ht.width-Dt.right),at.x[1]-=.5*(Ht.left+Ht.width-Dt.right),So>rt&&(at.y[0]=.5*(rt-So),at.y[1]=.5*(So-rt)),at.y[0]-=.5*(Ht.top-Dt.top),at.y[1]-=.5*(Ht.top-Dt.top),at.y[0]-=.5*(Ht.top+Ht.height-Dt.bottom),at.y[1]-=.5*(Ht.top+Ht.height-Dt.bottom)),at}function jo(){if(!Le()||!Be("bounds")||!Z)return;const pe=Hn(),at=Ue(),Dt=Xr(pe,ve.scale,at);if(ve.scale<pe-.01||ve.scale>at+.01)return void vo(qo.ZoomTo,{scale:Dt});if(Z.isRunning()||ut())return;const Ht=Pn(Dt);ve.x<Ht.x[0]||ve.x>Ht.x[1]||ve.y<Ht.y[0]||ve.y>Ht.y[1]?(ve.x=Xr(Ht.x[0],ve.x,Ht.x[1]),ve.y=Xr(Ht.y[0],ve.y,Ht.y[1]),Z.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:Z.getCurrentVelocities()}),Z.from(be).to(ve).start()):Tt()}function ho(pe){var at;if(!Le())return;const Dt=$n(),Ht=ut(),st=Xt(),rt=Lt(),ao=K(),So=dr();Ad(b,"is-fullsize",rt),Ad(b,"is-expanded",st),Ad(b,"is-dragging",Ht),Ad(b,"can-drag",Dt),Ad(b,"will-zoom-in",ao),Ad(b,"will-zoom-out",So);const wo=wt(),Rn=jt(),Zo=_o(),Vo=!Le();for(const Oo of((at=pe||a)===null||at===void 0?void 0:at.querySelectorAll("[data-panzoom-action]"))||[]){const No=Oo.dataset.panzoomAction;let je=!1;if(Vo)je=!0;else switch(No){case qo.ZoomIn:wo||(je=!0);break;case qo.ZoomOut:Zo||(je=!0);break;case qo.ToggleFull:{Rn||Zo||(je=!0);const tt=Oo.querySelector("g");tt&&(tt.style.display=rt&&!je?"none":"");break}case qo.IterateZoom:{wo||Zo||(je=!0);const tt=Oo.querySelector("g");tt&&(tt.style.display=wo||je?"":"none");break}case qo.ToggleCover:case qo.ToggleMax:wo||Zo||(je=!0)}je?(Oo.setAttribute("aria-disabled",""),Oo.setAttribute("tabindex","-1")):(Oo.removeAttribute("aria-disabled"),Oo.removeAttribute("tabindex"))}}function vo(pe,at){var Dt;if(!a||!x||!Z||pe===qo.Swipe&&Math.abs(Z.getCurrentVelocities().scale)>.01)return;const Ht=Object.assign({},ve);let st=Object.assign({},ve),rt=Pn(Ct()?Ht.scale:be.scale);const ao=Z.getCurrentVelocities(),So=Ie(),wo=(((Dt=(at=at||{}).currentTouch)===null||Dt===void 0?void 0:Dt.length)||0)>1,Rn=at.velocityX||0,Zo=at.velocityY||0;let Vo=at.center;!Vo&&at.srcEvent&&(Vo=Sw(Xre(at.srcEvent)));let Oo=at.deltaX||0,No=at.deltaY||0;switch(pe){case qo.MoveRight:Oo=at.deltaX||100;break;case qo.MoveLeft:Oo=at.deltaX||-100;break;case qo.MoveUp:No=at.deltaY||-100;break;case qo.MoveDown:No=at.deltaY||100}let je=[];switch(pe){case qo.Reset:st=Object.assign({},bp),st.scale=Qe();break;case qo.Pan:case qo.Move:case qo.MoveLeft:case qo.MoveRight:case qo.MoveUp:case qo.MoveDown:if(ut()){let bt=1,bn=1;st.x<=rt.x[0]&&Rn<=0&&(bt=Math.max(.01,1-Math.abs(1/So.width*Math.abs(st.x-rt.x[0]))),bt*=.2),st.x>=rt.x[1]&&Rn>=0&&(bt=Math.max(.01,1-Math.abs(1/So.width*Math.abs(st.x-rt.x[1]))),bt*=.2),st.y<=rt.y[0]&&Zo<=0&&(bn=Math.max(.01,1-Math.abs(1/So.height*Math.abs(st.y-rt.y[0]))),bn*=.2),st.y>=rt.y[1]&&Zo>=0&&(bn=Math.max(.01,1-Math.abs(1/So.height*Math.abs(st.y-rt.y[1]))),bn*=.2),st.x+=Oo*bt,st.y+=No*bn}else st.x=Xr(rt.x[0],st.x+Oo,rt.x[1]),st.y=Xr(rt.y[0],st.y+No,rt.y[1]);break;case qo.Swipe:const tt=(bt=0)=>Math.sign(bt)*Math.pow(Math.abs(bt),1.5);st.x+=Xr(-1e3,tt(Rn),1e3),st.y+=Xr(-1e3,tt(Zo),1e3),Zo&&!Rn&&(st.x=Xr(rt.x[0],st.x,rt.x[1])),!Zo&&Rn&&(st.y=Xr(rt.y[0],st.y,rt.y[1])),ao.x=Rn,ao.y=Zo;break;case qo.ZoomTo:st.scale=at.scale||1;break;case qo.ZoomIn:st.scale=st.scale*(at.scale||2),wo||(st.scale=Math.min(st.scale,Ue()));break;case qo.ZoomOut:st.scale=st.scale*(at.scale||.5),wo||(st.scale=Math.max(st.scale,Hn()));break;case qo.ToggleCover:je=[Qe(),ln()];break;case qo.ToggleFull:je=[Qe(),$t()];break;case qo.ToggleMax:je=[Qe(),Ue()];break;case qo.IterateZoom:je=[Qe(),$t(),Ue()];break;case qo.Zoom:const gt=$t();st.scale>=gt-.05?st.scale=Qe():st.scale=Math.min(gt,st.scale*(at.scale||2));break;case qo.RotateCW:st.angle+=90;break;case qo.RotateCCW:st.angle-=90;break;case qo.FlipX:st.flipX*=-1;break;case qo.FlipY:st.flipY*=-1}if(be.angle!==void 0&&Math.abs(be.angle)>=360&&(st.angle-=360*Math.floor(be.angle/360),be.angle-=360*Math.floor(be.angle/360)),je.length){const tt=je.findIndex((gt=>gt>st.scale+1e-4));st.scale=je[tt]||je[0]}if(wo&&(st.scale=Xr(Hn()*(wo?.8:1),st.scale,Ue()*(wo?1.6:1))),Ct()){const tt=Nt(st.scale);if(tt){const{x:gt,y:bt}=tt;st.x=gt,st.y=bt}}else if(Math.abs(st.scale-Ht.scale)>1e-4){let tt=0,gt=0;if(Vo)tt=Vo.x,gt=Vo.y;else{const _t=a.getBoundingClientRect();tt=_t.x+.5*_t.width,gt=_t.y+.5*_t.height}let bt=tt-So.left,bn=gt-So.top;bt-=.5*So.width,bn-=.5*So.height;const _n=(bt-Ht.x)/Ht.scale,zn=(bn-Ht.y)/Ht.scale;st.x=bt-_n*st.scale,st.y=bn-zn*st.scale,!wo&&Be("bounds")&&(rt=Pn(st.scale),st.x=Xr(rt.x[0],st.x,rt.x[1]),st.y=Xr(rt.y[0],st.y,rt.y[1]))}if(pe===qo.Swipe){let tt=94,gt=17,bt=500*st.scale,bn=ao;Z.spring({tension:tt,friction:gt,maxSpeed:bt,restDelta:.1,restSpeed:.1,velocity:bn})}else pe===qo.Pan||wo?Z.spring({tension:900,friction:17,restDelta:.01,restSpeed:.01,maxSpeed:1}):Z.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:ao});if(at.velocity===0||zL(be,st))be=Object.assign({},st),ve=Object.assign({},st),Z.end(),Tt(),ho();else{if(zL(ve,st))return;Z.from(be).to(st).start()}Oe("action",pe)}function Tt(){if(!x||!b||!P)return;const{width:pe,height:at}=xe();Object.assign(b.style,{maxWidth:`min(${pe}px, 100%)`,maxHeight:`min(${at}px, 100%)`});const Dt=(function(){const{width:Oo,height:No}=xe(),{width:je,height:tt}=qt();if(!a)return{x:0,y:0,width:0,height:0,scale:0,flipX:0,flipY:0,angle:0,fitWidth:je,fitHeight:tt,fullWidth:Oo,fullHeight:No};let{x:gt,y:bt,scale:bn,angle:_n,flipX:zn,flipY:_t}=be,yn=1/$t(),cn=Oo,ro=No,Do=be.scale*yn,Qt=ve.scale*yn;const Us=Math.max(je,tt),Xo=Math.min(je,tt);Oo>No?(cn=Us,ro=Xo):(cn=Xo,ro=Us),Do=Oo>No?Us*bn/Oo||1:Us*bn/No||1;let si=cn?Oo*Qt:0,Nr=ro?No*Qt:0,mr=cn&&ro?Oo*Do/si:0;return gt=gt+.5*cn-.5*si,bt=bt+.5*ro-.5*Nr,{x:gt,y:bt,width:si,height:Nr,scale:mr,flipX:zn,flipY:_t,angle:_n,fitWidth:je,fitHeight:tt,fullWidth:Oo,fullHeight:No}})(),{x:Ht,y:st,width:rt,height:ao,scale:So,angle:wo,flipX:Rn,flipY:Zo}=Dt;let Vo=`translate(${yf(Ht)}px, ${yf(st)}px)`;Vo+=Rn!==1||Zo!==1?` scaleX(${yf(So*Rn)}) scaleY(${yf(So*Zo)})`:` scale(${yf(So)})`,wo!==0&&(Vo+=` rotate(${wo}deg)`),P.style.width=`${yf(rt)}px`,P.style.height=`${yf(ao)}px`,P.style.transform=`${Vo}`,Oe("render")}function rn(){let pe=ve.scale;const at=Be("clickAction");let Dt=Qe();if(at){let Ht=[];switch(at){case qo.ZoomIn:Dt=2*pe;break;case qo.ZoomOut:Dt=.5*pe;break;case qo.ToggleCover:Ht=[Qe(),ln()];break;case qo.ToggleFull:Ht=[Qe(),$t()];break;case qo.ToggleMax:Ht=[Qe(),Ue()];break;case qo.IterateZoom:Ht=[Qe(),$t(),Ue()];break;case qo.Zoom:const st=$t();Dt=pe>=st-.05?Qe():Math.min(st,2*pe)}if(Ht.length){const st=Ht.findIndex((rt=>rt>pe+1e-4));Dt=Ht[st]||Qe()}}return Dt=Xr(Hn(),Dt,Ue()),Dt}function K(){return!!(Le()&&rn()>ve.scale)}function dr(){return!!(Le()&&rn()<ve.scale)}function _o(){return!!(Le()&&ve.scale>Hn())}function wt(){return!!(Le()&&ve.scale<Ue())}function jt(){return!!(Le()&&ve.scale<$t())}function $n(){return!(!(Le()&&Xt()&&$)||Ct())}function ut(){return!(!Le()||!($!=null&&$.isPointerDown())||Ct())}function Xt(){return!!(Le()&&ve.scale>Qe())}function Lt(){return!!(Le()&&ve.scale>=$t())}function Re(){const pe="in-fullscreen",at="with-panzoom-in-fullscreen";a==null||a.classList.toggle(pe);const Dt=a==null?void 0:a.classList.contains(pe);Dt?(document.documentElement.classList.add(at),document.addEventListener("keydown",et,!0)):(document.documentElement.classList.remove(at),document.removeEventListener("keydown",et,!0)),Tt(),Oe(Dt?"enterFS":"exitFS")}function et(pe){pe.key!=="Escape"||pe.defaultPrevented||Re()}const St={canDrag:$n,canZoomIn:wt,canZoomOut:_o,canZoomToFull:jt,destroy:function(){Oe("destroy");for(const pe of Object.values(ye))pe==null||pe.destroy(St);for(const pe of ue)pe();return b&&(b.style.aspectRatio="",b.style.maxWidth="",b.style.maxHeight=""),P&&(P.style.width="",P.style.height="",P.style.transform=""),b=void 0,x=void 0,P=void 0,be=Object.assign({},bp),ve=Object.assign({},bp),Z==null||Z.destroy(),Z=void 0,$==null||$.destroy(),$=void 0,Se=4,St},emit:Oe,execute:vo,getBoundaries:Pn,getContainer:function(){return a},getContent:function(){return x},getFullDim:xe,getGestures:function(){return $},getMousemovePos:Nt,getOptions:function(){return ke},getPlugins:function(){return ye},getScale:B,getStartPosition:Je,getState:function(){return Se},getTransform:function(pe){return pe===!0?ve:be},getTween:function(){return Z},getViewport:function(){return P},getWrapper:function(){return b},init:function(){return Se=0,Oe("init"),(function(){for(const[pe,at]of Object.entries(Object.assign(Object.assign({},g),ke.plugins||{})))if(pe&&!ye[pe]&&at instanceof Function){const Dt=at();Dt.init(St),ye[pe]=Dt}Oe("initPlugins")})(),(function(){const pe=Object.assign(Object.assign({},dee.classes),Be("classes"));if(a&&(wr(a,pe.container),x=a.querySelector("."+pe.content),!!x)){if(x.setAttribute("draggable","false"),b=a.querySelector("."+pe.wrapper),b||(b=document.createElement("div"),wr(b,pe.wrapper),x.insertAdjacentElement("beforebegin",b),b.insertAdjacentElement("afterbegin",x)),P=a.querySelector("."+pe.viewport),P||(P=document.createElement("div"),wr(P,pe.viewport),P.insertAdjacentElement("afterbegin",x),b.insertAdjacentElement("beforeend",P)),D=x.cloneNode(!0),D.removeAttribute("id"),b.insertAdjacentElement("afterbegin",D),x instanceof HTMLPictureElement&&(x=x.querySelector("img")),D instanceof HTMLPictureElement&&(D=D.querySelector("img")),P instanceof HTMLPictureElement&&(P=P.querySelector("img")),P&&(P.style.visibility="hidden",Be("protected"))){P.addEventListener("contextmenu",(Dt=>{uS(Dt)}));const at=document.createElement("div");wr(at,"f-panzoom__protected"),P.appendChild(at)}Oe("initLayout")}})(),(function(){if(a&&b&&!ne){let pe=null;ne=new ResizeObserver((()=>{Le()&&(pe=pe||requestAnimationFrame((()=>{Le()&&(ho(),jo(),Oe("refresh")),pe=null})))})),ne.observe(b),ue.push((()=>{ne==null||ne.disconnect(),ne=void 0,pe&&(cancelAnimationFrame(pe),pe=null)}))}})(),(function(){if(!a||!x)return;if(!F1(x)||!F1(D))return void ht();const pe=()=>{x&&F1(x)&&x.decode().then((()=>{ht()})).catch((()=>{ht()}))};if(Se=1,a.classList.add("is-loading"),Oe("loading"),D.src&&D.complete)return void pe();(function(){if(!a||a!=null&&a.querySelector(".f-spinner"))return;const at=Be("spinnerTpl"),Dt=Mw(at);Dt&&(Dt.classList.add("f-spinner"),a.classList.add("is-loading"),b==null||b.insertAdjacentElement("afterbegin",Dt))})(),D.addEventListener("load",pe,!1),D.addEventListener("error",pe,!1),ue.push((()=>{D==null||D.removeEventListener("load",pe,!1),D==null||D.removeEventListener("error",pe,!1)}))})(),St},isDragging:ut,isExpanded:Xt,isFullsize:Lt,localize:function(pe,at=[]){const Dt=Be("l10n")||{};pe=String(pe).replace(/\{\{(\w+)\}\}/g,((Ht,st)=>Dt[st]||Ht));for(let Ht=0;Ht<at.length;Ht++)pe=pe.split(at[Ht][0]).join(at[Ht][1]);return pe=pe.replace(/\{\{(.*?)\}\}/g,((Ht,st)=>st))},off:function(pe,at){for(const Dt of pe instanceof Array?pe:[pe])oe.has(Dt)&&oe.set(Dt,oe.get(Dt).filter((Ht=>Ht!==at)));return St},on:function(pe,at){for(const Dt of pe instanceof Array?pe:[pe])oe.set(Dt,[...oe.get(Dt)||[],at]);return St},toggleFS:Re,updateControls:ho,version:"6.0.32",willZoomIn:K,willZoomOut:dr};return St};fee.l10n={en_EN:mte},fee.getDefaults=()=>dee;/*! License details at fancyapps.com/license */const UQ=(a,u)=>{let g=[];return a.childNodes.forEach((b=>{b.nodeType!==Node.ELEMENT_NODE||u&&!b.matches(u)||g.push(b)})),g};/*! License details at fancyapps.com/license */const gm=(a,...u)=>{const g=u.length;for(let b=0;b<g;b++){const x=u[b]||{};Object.entries(x).forEach((([D,P])=>{const $=Array.isArray(P)?[]:{};a[D]||Object.assign(a,{[D]:$}),Dd(P)?Object.assign(a[D],gm(a[D],P)):Array.isArray(P)?Object.assign(a,{[D]:[...P]}):Object.assign(a,{[D]:P})}))}return a};/*! License details at fancyapps.com/license */const mee=function(a=0,u=0,g=0,b=0,x=0,D=!1){const P=(a-u)/(g-u)*(x-b)+b;return D?b<x?Xr(b,P,x):Xr(x,P,b):P};/*! License details at fancyapps.com/license */const hte=Object.assign(Object.assign({},mte),{ERROR:"Something went wrong. <br /> Please try again later.",NEXT:"Next page",PREV:"Previous page",GOTO:"Go to page #%d",DOWNLOAD:"Download",TOGGLE_FULLSCREEN:"Toggle full-screen mode",TOGGLE_EXPAND:"Toggle full-size mode",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_AUTOPLAY:"Toggle slideshow"});/*! License details at fancyapps.com/license */const wL=a=>{a.cancelable&&a.preventDefault()},VA={adaptiveHeight:!1,center:!0,classes:{container:"f-carousel",isEnabled:"is-enabled",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",hasAdaptiveHeight:"has-adaptive-height",viewport:"f-carousel__viewport",slide:"f-carousel__slide",isSelected:"is-selected"},dragFree:!1,enabled:!0,errorTpl:'<div class="f-html">{{ERROR}}</div>',fill:!1,infinite:!0,initialPage:0,l10n:hte,rtl:!1,slides:[],slidesPerPage:"auto",spinnerTpl:'<div class="f-spinner"></div>',transition:"fade",tween:{clamp:!0,mass:1,tension:160,friction:25,restDelta:1,restSpeed:1,velocity:0},vertical:!1};let Loe,Noe=0;const qz=(a,u={},g={})=>{Noe++;let b,x,D,P,$,Z=0,ne=Object.assign({},VA),ee=Object.assign({},VA),Se={},ke=null,ye=null,be=!1,ve=!1,ue=!1,Be=!1,Le="height",oe=0,Oe=!0,qe=0,Xe=0,k=0,Ot=0,ht="*",Je=[],Ie=[];const xe=new Set;let qt=[],Ct=[],Nt=0,B=0,Hn=0;function Qe(je,...tt){let gt=ee[je];return gt&&gt instanceof Function?gt(No,...tt):gt}function ln(je,tt=[]){const gt=Qe("l10n")||{};je=String(je).replace(/\{\{(\w+)\}\}/g,((bt,bn)=>gt[bn]||bt));for(let bt=0;bt<tt.length;bt++)je=je.split(tt[bt][0]).join(tt[bt][1]);return je=je.replace(/\{\{(.*?)\}\}/g,((bt,bn)=>bn))}const $t=new Map;function Ue(je,...tt){const gt=[...$t.get(je)||[]];ee.on&&gt.push(ee.on[je]);for(const bt of gt)bt&&bt instanceof Function&&bt(No,...tt);je!=="*"&&Ue("*",je,...tt)}function Pn(){var je,tt;const gt=gm({},VA,ne);gm(gt,VA,ne);let bt="";const bn=ne.breakpoints||{};if(bn)for(const[_n,zn]of Object.entries(bn))window.matchMedia(_n).matches&&(bt+=_n,gm(gt,zn));if($===void 0||bt!==$){if($=bt,Z!==0){let _n=(tt=(je=Ct[qe])===null||je===void 0?void 0:je.slides[0])===null||tt===void 0?void 0:tt.index;_n===void 0&&(_n=ee.initialSlide),gt.initialSlide=_n,gt.slides=[];for(const zn of Je)zn.isVirtual&&gt.slides.push(zn)}Zo(),ee=gt,ee.enabled!==!1&&(Z=0,Ue("init"),(function(){for(const[_n,zn]of Object.entries(Object.assign(Object.assign({},g),ee.plugins||{})))if(_n&&!Se[_n]&&zn instanceof Function){const _t=zn();_t.init(No,qz),Se[_n]=_t}Ue("initPlugins")})(),(function(){if(!ke)return;const _n=Qe("classes")||{};wr(ke,_n.container);const zn=Qe("style");if(zn&&Dd(zn))for(const[_t,yn]of Object.entries(zn))ke.style.setProperty(_t,yn);ye=ke.querySelector(`.${_n.viewport}`),ye||(ye=document.createElement("div"),wr(ye,_n.viewport),ye.append(...UQ(ke,`.${_n.slide}`)),ke.insertAdjacentElement("afterbegin",ye)),ke.carousel=No,Ue("initLayout")})(),(function(){if(!ye)return;const _n=Qe("classes")||{};Je=[],[...UQ(ye,`.${_n.slide}`)].forEach((zn=>{zn.parentElement&&Je.push(Xt(Object.assign({el:zn,isVirtual:!1},zn.dataset||{})))})),ut(Qe("slides"));for(const zn of Je)Ue("addSlide",zn);for(const zn of Je){const _t=zn.el;_t!=null&&_t.parentElement&&(wr(_t,ee.classes.slide),wr(_t,zn.class),So(zn),Ue("attachSlideEl",zn))}Ue("initSlides")})(),pe(),(function(){if(ke&&(ke.addEventListener("click",st,{passive:!1}),document.addEventListener("mousemove",jo),!D)){let _n=null;D=new ResizeObserver((zn=>{_n||(_n=requestAnimationFrame((()=>{(function(_t){var yn;if(!ke)return;if(Z===0){const Us=(yn=_t[0])===null||yn===void 0?void 0:yn.contentBoxSize[0],Xo=(Us==null?void 0:Us.blockSize)||0,si=(Us==null?void 0:Us.inlineSize)||0;return Nt=Xo,B=si,Z=1,wr(ke,(Qe("classes")||{}).isEnabled),Rn(),x=Pw().on("start",(()=>{b&&b.isPointerDown()||(Tt(),Rn())})).on("step",(Nr=>{const mr=oe;oe=Nr.pos,oe!==mr&&(Oe=!1,Rn())})).on("end",(Nr=>{b!=null&&b.isPointerDown()||(oe=Nr.pos,x&&!ve&&(oe<k||oe>Ot)?x.spring({clamp:!0,mass:1,tension:200,friction:25,velocity:0,restDelta:1,restSpeed:1}).from({pos:oe}).to({pos:Xr(k,oe,Ot)}).start():Oe||(Oe=!0,Ue("settle")))})),ho(),rn(),void Ue("ready")}if(Z!==1)return;const cn=Ct.length;pe(),ho();const ro=ke.getBoundingClientRect(),Do=ro.height,Qt=ro.width;cn>1&&(Be&&Math.abs(Do-Nt)<.5||!Be&&Math.abs(Qt-B)<.5)||(Nt=Do,B=Qt,Be&&!Do||!Be&&!Qt||ke&&ye&&(cn===Ct.length&&(b!=null&&b.isPointerDown())||(Qe("dragFree")&&(ve||oe>k&&oe<Ot)?(Tt(),Rn()):wo(qe,{transition:!1}))))})(zn),_n=null})))})),D.observe(ke)}})())}}function jo(je){Loe=je}function ho(){if(!ye)return;const je=Qe("gestures");je!==!1?b||(b=eO(ye,je).on("start",(tt=>{var gt,bt;if(!x)return;const{srcEvent:bn}=tt;Be&&bS(bn.target),x.pause(),x.getCurrentVelocities().pos=0;const _n=(gt=Ct[qe])===null||gt===void 0?void 0:gt.slides[0];_n&&xe.has(_n.index)&&_n.el&&(oe=_n.offset||0,oe+=((function(zn){const _t=window.getComputedStyle(zn),yn=new DOMMatrixReadOnly(_t.transform);return{width:yn.m41||0,height:yn.m42||0}})(_n.el)[Le]||0)*(ue&&!Be?1:-1)),Dt(),!ve&&(oe<k||oe>Ot)&&x.spring({clamp:!0,mass:1,tension:500,friction:25,velocity:((bt=x.getCurrentVelocities())===null||bt===void 0?void 0:bt.pos)||0,restDelta:1,restSpeed:1}).from({pos:oe}).to({pos:Xr(k,oe,Ot)}).start()})).on("move",(tt=>{const{srcEvent:gt,axis:bt}=tt,bn=tt.srcEvent.target;bn&&bS(bn)||(bt||(gt.stopPropagation(),gt.stopImmediatePropagation()),(bt==="y"&&Be||bt==="x"&&!Be)&&(wL(gt),gt.stopPropagation()))})).on("panstart",(tt=>{(tt==null?void 0:tt.axis)===(Be?"y":"x")&&wr(ye,"is-dragging")})).on("panend",(()=>{z1(ye,"is-dragging")})).on("pan",(tt=>{var gt;const{deltaX:bt,deltaY:bn,currentTouch:_n,axis:zn}=tt;if(!x||_n.length>1||zn==="y"&&!Be||zn==="x"&&Be)return;const _t=ue&&!Be?1:-1;let yn=Be?bn:bt,cn=x!=null&&x.isRunning()?x.getEndValues().pos:oe,ro=1;ve||(cn<=k&&yn*_t<0?(ro=Math.max(.01,1-Math.abs(1/wt()*Math.abs(cn-k))),ro*=.2):cn>=Ot&&yn*_t>0&&(ro=Math.max(.01,1-Math.abs(1/wt()*Math.abs(cn-Ot))),ro*=.2)),cn+=yn*ro*_t,x.spring({clamp:!0,mass:1,tension:700,friction:25,velocity:((gt=x.getCurrentVelocities())===null||gt===void 0?void 0:gt.pos)||0,restDelta:1,restSpeed:1}).from({pos:oe}).to({pos:cn}).start()})).on("end",(tt=>{var gt,bt;const{axis:bn,velocityX:_n,velocityY:zn,currentTouch:_t}=tt,yn=Ct.length,cn=Qe("dragFree");if(_t.length>0||!x||!yn)return;const ro=Qe("vertical")?zn:_n;let Do=x!=null&&x.isRunning()?x.getEndValues().pos:oe;const Qt=ue&&!Be?1:-1;if(Do+=ro*(cn?5:1)*Qt,!ve&&(ro*Qt<=0&&Do<k||ro*Qt>=0&&Do>Ot)){let Xo=0;return Math.abs(ro)>0&&(Xo=2*Math.abs(ro),Xo=Math.min(.3*wt(),Xo)),Do=Xr(k+-1*Xo,Do,Ot+Xo),void x.spring({clamp:!0,mass:1,tension:380,friction:25,velocity:-1*ro,restDelta:1,restSpeed:1}).from({pos:oe}).to({pos:Do}).start()}if(cn||!((gt=Se.Autoscroll)===null||gt===void 0)&&gt.isEnabled())return void(Math.abs(ro)>10?x.spring({clamp:!0,mass:1,tension:150,friction:25,velocity:-1*ro,restDelta:1,restSpeed:1}).from({pos:oe}).to({pos:Do}).start():x.isRunning()||Oe||(Oe=!0,Ue("settle")));if(!cn&&!(!((bt=Se.Autoscroll)===null||bt===void 0)&&bt.isEnabled())&&(!tt.offsetX&&!tt.offsetY||bn==="y"&&!Be||bn==="x"&&Be))return void wo(qe,{transition:"tween"});let Us=dr(Do);Math.abs(ro)>10&&Us===qe&&(Us+=ro>0?ue&&!Be?1:-1:ue&&!Be?-1:1),wo(Us,{transition:"tween",tween:{velocity:-1*ro}})})).init()):b&&(b.destroy(),b=void 0)}function vo(je="*"){var tt;const gt=[];for(const bt of Je)(je==="*"||bt.class&&bt.class.includes(je)||bt.el&&(!((tt=bt.el)===null||tt===void 0)&&tt.classList.contains(je)))&&gt.push(bt);P=void 0,ht=je,Ie=[...gt]}function Tt(){if(!x)return;const je=dr(x!=null&&x.isRunning()?x.getEndValues().pos:oe);je!==qe&&(P=qe,qe=je,So(),rn(),K(),Ue("change",qe,P))}function rn(){var je;if(!ke)return;Ad(ye,"is-draggable",!!b&&Ct.length>0);for(const bt of ke.querySelectorAll("[data-carousel-index]"))bt.innerHTML=qe+"";for(const bt of ke.querySelectorAll("[data-carousel-page]"))bt.innerHTML=qe+1+"";for(const bt of ke.querySelectorAll("[data-carousel-pages]"))bt.innerHTML=Ct.length+"";for(const bt of ke.querySelectorAll("[data-carousel-go-prev]"))bt.toggleAttribute("aria-disabled",!Vo()),Vo()?bt.removeAttribute("tabindex"):bt.setAttribute("tabindex","-1");for(const bt of ke.querySelectorAll("[data-carousel-go-next]"))bt.toggleAttribute("aria-disabled",!Oo()),Oo()?bt.removeAttribute("tabindex"):bt.setAttribute("tabindex","-1");let tt=!1;const gt=(je=Ct[qe])===null||je===void 0?void 0:je.slides[0];gt&&(gt.downloadSrc||gt.type==="image"&&gt.src)&&(tt=!0);for(const bt of ke.querySelectorAll("[data-carousel-download]"))bt.toggleAttribute("aria-disabled",!tt)}function K(je){var tt;je||(je=(tt=Ct[qe])===null||tt===void 0?void 0:tt.slides[0]);const gt=je.el;if(gt)for(const bt of gt.querySelectorAll("[data-slide-index]"))bt.innerHTML=je.index+1+""}function dr(je){var tt,gt,bt;if(!Ct.length||!x)return 0;const bn=jt();let _n=je;ve?_n-=Math.floor((je-((tt=Ct[0])===null||tt===void 0?void 0:tt.pos))/bn)*bn:_n=Xr((gt=Ct[0])===null||gt===void 0?void 0:gt.pos,je,(bt=Ct[Ct.length-1])===null||bt===void 0?void 0:bt.pos);const zn=new Map;let _t=0;for(const cn of Ct){const ro=Math.abs(cn.pos-_n),Do=Math.abs(cn.pos-_n-bn),Qt=Math.abs(cn.pos-_n+bn),Us=Math.min(ro,Do,Qt);zn.set(_t,Us),_t++}const yn=zn.size>0?[...zn.entries()].reduce(((cn,ro)=>ro[1]<cn[1]?ro:cn)):[qe,0];return parseInt(yn[0])}function _o(){return Hn}function wt(){return ye&&ye.getBoundingClientRect()[Le]||0}function jt(je=!0){return Ie.reduce(((tt,gt)=>tt+gt.dim),0)+(Ie.length-(ve&&je?0:1))*Hn}function $n(je){const tt=jt();let gt=wt();if(!ye)return[];const bt=[];if(!tt||!gt)return[];je=je===void 0?oe:je,ve&&(je-=Math.floor(je/tt)*tt);let bn=0,_n=0;if(be){const _t=ye.getBoundingClientRect();bn=Math.abs(_t.left),_n=Math.abs(window.innerWidth-_t.right)}let zn=0;for(let _t of Ie){const yn=(cn=0)=>{bt.indexOf(_t)>-1||(_t.pos=zn-je+cn||0,_t.offset+cn>je-_t.dim-bn+.51&&_t.offset+cn<je+gt+_n-.51&&bt.push(_t))};_t.offset=zn,ve&&(yn(tt),yn(-1*tt)),yn(),zn+=_t.dim+Hn}return bt}function ut(je,tt){const gt=[];for(const bt of Array.isArray(je)?je:[je]){const bn=Xt(Object.assign(Object.assign({},bt),{isVirtual:!0}));gt.push(bn)}Je.splice(tt===void 0?Je.length:tt,0,...gt),St();for(const bt of gt)Lt(bt);return vo(ht),gt}function Xt(je){return(au(je)||je instanceof HTMLElement)&&(je={html:je}),Object.assign({index:-1,el:void 0,class:"",isVirtual:!0,dim:0,pos:0,offset:0,html:"",src:""},je)}function Lt(je){if(!je)return;let tt=je.el;tt||(tt=document.createElement("div"),je.el=tt);const gt=je.html?je.html instanceof HTMLElement?je.html:Mw(je.html):void 0;gt&&(wr(gt,"f-html"),je.htmlEl=gt,wr(tt,"has-html"),tt.append(gt),Ue("contentReady",je))}function Re(je){if(!ye||!je)return;let tt=je.el;if(tt){if(tt.setAttribute("index",je.index+""),tt.parentElement!==ye){let gt;wr(tt,ee.classes.slide),wr(tt,je.class),So(je);for(const bt of Je)if(bt.index>je.index){gt=bt.el;break}ye.insertBefore(tt,gt&&ye.contains(gt)?gt:null),Ue("attachSlideEl",je)}return K(je),tt}}function et(je){const tt=je==null?void 0:je.el;tt&&(tt.remove(),at(tt),Ue("detachSlideEl",je))}function St(){for(let je=0;je<Je.length;je++){const tt=Je[je],gt=tt.el;gt&&(tt.index!==je&&at(gt),gt.setAttribute("index",`${je}`)),tt.index=je}}function pe(){var je,tt,gt,bt,bn;if(!ke||!ye)return;ue=Qe("rtl"),Be=Qe("vertical"),Le=Be?"height":"width";const _n=Qe("classes");Ad(ke,_n.isLTR,!ue),Ad(ke,_n.isRTL,ue),Ad(ke,_n.isHorizontal,!Be),Ad(ke,_n.isVertical,Be),Ad(ke,_n.hasAdaptiveHeight,Qe("adaptiveHeight")),be=window.getComputedStyle(ye).getPropertyValue("overflow-"+(Be?"y":"x"))==="visible";const zn=ye.getBoundingClientRect();if(!zn.width&&!zn.height)return;Hn=ye&&parseFloat(getComputedStyle(ye).getPropertyValue("--f-carousel-gap"))||0;const _t=(function(){let yn=0;if(ye){let cn=document.createElement("div");wr(cn,ee.classes.slide),ye.appendChild(cn),yn=cn.getBoundingClientRect()[Le],cn.remove(),cn=void 0}return yn})();for(const yn of Ie){const cn=yn.el;let ro=0;if(!yn.isVirtual&&cn&&UA(cn)){let Do=!1;cn.parentElement&&cn.parentElement===ye||(ye.appendChild(cn),Do=!0),ro=cn.getBoundingClientRect()[Le],Do&&((je=cn.parentElement)===null||je===void 0||je.removeChild(cn))}else ro=_t;yn.dim=ro}if(ve=!1,Qe("infinite")){ve=!0;const yn=jt();let cn=wt();if(be){const ro=ye.getBoundingClientRect();cn+=ro.left,cn+=ro.right-ro.width}for(let ro=0;ro<Ie.length;ro++){const Do=((tt=Ie[ro])===null||tt===void 0?void 0:tt.dim)+Hn;if(yn-Do<cn&&yn-Do-cn<Do){ve=!1;break}}}if((function(){var yn;if(!ke)return;St();const cn=wt(),ro=jt(!1);let Do=Qe("slidesPerPage");Do=Do==="auto"?1/0:parseFloat(Do+""),Ct=[];let Qt=0,Us=0;for(const jn of Ie)(!Ct.length||Qt+jn.dim-cn>.05||Us>=Do)&&(Ct.push({index:Ct.length,slides:[],dim:0,offset:0,pos:0}),Qt=0,Us=0),(yn=Ct[Ct.length-1])===null||yn===void 0||yn.slides.push(jn),Qt+=jn.dim+Hn,Us++;const Xo=Qe("center"),si=Qe("fill");let Nr=0;for(const jn of Ct){jn.dim=(jn.slides.length-1)*Hn;for(const Qo of jn.slides)jn.dim+=Qo.dim;jn.offset=Nr,jn.pos=Nr,Xo!==!1&&(jn.pos-=.5*(cn-jn.dim)),si&&!ve&&ro>cn&&(jn.pos=Xr(0,jn.pos,ro-cn)),Nr+=jn.dim+Hn}const mr=[];let Jo;for(const jn of Ct){const Qo=Object.assign({},jn);Jo&&Math.abs(Qo.pos-Jo.pos)<.1?(Jo.dim+=Qo.dim,Jo.slides=[...Jo.slides,...Qo.slides]):(Jo=Qo,Qo.index=mr.length,mr.push(Qo))}Ct=mr,rn()})(),k=((gt=Ct[0])===null||gt===void 0?void 0:gt.pos)||0,Ot=((bt=Ct[Ct.length-1])===null||bt===void 0?void 0:bt.pos)||0,Z===0)(function(){var yn;P=void 0,qe=Qe("initialPage");const cn=Qe("initialSlide")||void 0;cn!==void 0&&(qe=No.getPageIndex(cn)||0),qe=Xr(0,qe,Ct.length-1),oe=((yn=Ct[qe])===null||yn===void 0?void 0:yn.pos)||0,Xe=oe})();else{const yn=x!=null&&x.isRunning()?x.getEndValues().pos:oe;(yn<k||yn>Ot)&&(qe=Xr(0,qe,Ct.length-1),Xe=((bn=Ct[qe||0])===null||bn===void 0?void 0:bn.pos)||0)}Ue("refresh")}function at(je){if(!je||!UA(je))return;const tt=parseInt(je.getAttribute("index")||"-1");let gt="";for(const bn of Array.from(je.classList)){const _n=bn.match(/^f-(\w+)(Out|In)$/);_n&&_n[1]&&(gt=_n[1]+"")}if(!je||!gt)return;const bt=[`f-${gt}Out`,`f-${gt}In`,"to-prev","to-next","from-prev","from-next"];je.removeEventListener("animationend",Ht),z1(je,bt.join(" ")),xe.delete(tt)}function Dt(){if(!ye)return;const je=xe.size;for(const tt of Ie)at(tt.el);xe.clear(),je&&Rn()}function Ht(je){je.animationName.substring(0,2)==="f-"&&(at(je.target),xe.size||(z1(ke,"in-transition"),!Oe&&Math.abs(No.getPosition(!0)-Xe)<.5&&(Oe=!0,Ue("settle"))),Rn())}function st(je){var tt;if(je.defaultPrevented)return;const gt=je.composedPath()[0];if(gt.closest("[data-carousel-go-prev]"))return wL(je),void No.prev();if(gt.closest("[data-carousel-go-next]"))return wL(je),void No.next();const bt=gt.closest("[data-carousel-go-to]");if(bt)return wL(je),void No.goTo(parseFloat(bt.dataset.carouselGoTo||"")||0);if(gt.closest("[data-carousel-download]")){wL(je);const bn=(tt=Ct[qe])===null||tt===void 0?void 0:tt.slides[0];if(bn&&(bn.downloadSrc||bn.type==="image"&&bn.src)){const _n=bn.downloadFilename,zn=document.createElement("a"),_t=bn.downloadSrc||bn.src||"";zn.href=_t,zn.target="_blank",zn.download=_n||_t,zn.click()}}else Ue("click",je)}function rt(je){var tt;const gt=je.el;gt&&((tt=gt.querySelector(".f-spinner"))===null||tt===void 0||tt.remove())}function ao(je){var tt;const gt=je.el;gt&&((tt=gt.querySelector(".f-html.is-error"))===null||tt===void 0||tt.remove(),z1(gt,"has-error"))}function So(je){var tt;je||(je=(tt=Ct[qe])===null||tt===void 0?void 0:tt.slides[0]);const gt=je==null?void 0:je.el;if(!gt)return;let bt=Qe("formatCaption",je);bt===void 0&&(bt=je.caption),bt=bt||"";const bn=Qe("captionEl");if(bn&&bn instanceof HTMLElement){if(je.index!==qe)return;if(au(bt)&&(bn.innerHTML=ln(bt+"")),bt instanceof HTMLElement){if(bt.parentElement===bn)return;bn.innerHTML="",bt.parentElement&&(bt=bt.cloneNode(!0)),bn.append(bt)}return}if(!bt)return;let _n=je.captionEl||gt.querySelector(".f-caption");!_n&&bt instanceof HTMLElement&&bt.classList.contains("f-caption")&&(_n=bt),_n||(_n=document.createElement("div"),wr(_n,"f-caption"),au(bt)?_n.innerHTML=ln(bt+""):bt instanceof HTMLElement&&(bt.parentElement&&(bt=bt.cloneNode(!0)),_n.append(bt)));const zn=`f-caption-${Noe}_${je.index}`;_n.setAttribute("id",zn),_n.dataset.selectable="true",wr(gt,"has-caption"),gt.setAttribute("aria-labelledby",zn),je.captionEl=_n,gt.insertAdjacentElement("beforeend",_n)}function wo(je,tt={}){var gt,bt;let{transition:bn,tween:_n}=Object.assign({transition:ee.transition,tween:ee.tween},tt||{});if(!ke||!x)return;const zn=Ct.length;if(!zn||(function(yn,cn){var ro,Do,Qt,Us;if(!(ke&&x&&cn&&au(cn)&&cn!=="tween")||((ro=Ct[qe])===null||ro===void 0?void 0:ro.slides.length)>1)return!1;const Xo=Ct.length;let si=yn>qe?1:-1;yn=ve?(yn%Xo+Xo)%Xo:Xr(0,yn,Xo-1),ue&&(si*=-1);const Nr=(Do=Ct[qe])===null||Do===void 0?void 0:Do.slides[0],mr=Nr==null?void 0:Nr.index,Jo=(Qt=Ct[yn])===null||Qt===void 0?void 0:Qt.slides[0],jn=Jo==null?void 0:Jo.index,Qo=(Us=Ct[yn])===null||Us===void 0?void 0:Us.pos;if(jn===void 0||mr===void 0||mr===jn||oe===Qo||Math.abs(wt()-((Jo==null?void 0:Jo.dim)||0))>1)return!1;Oe=!1,x.pause(),Dt(),wr(ke,"in-transition"),oe=Xe=Qo;const Ji=Re(Nr),Pa=Re(Jo);return Tt(),Ji&&(xe.add(mr),Ji.style.transform="",Ji.addEventListener("animationend",Ht),z1(Ji,ee.classes.isSelected),Ji.inert=!1,wr(Ji,`f-${cn}Out to-${si>0?"next":"prev"}`)),Pa&&(xe.add(jn),Pa.style.transform="",Pa.addEventListener("animationend",Ht),wr(Pa,ee.classes.isSelected),Pa.inert=!1,wr(Pa,`f-${cn}In from-${si>0?"prev":"next"}`)),Rn(),!0})(je,bn))return;je=ve?(je%zn+zn)%zn:Xr(0,je,zn-1),Xe=((gt=Ct[je||0])===null||gt===void 0?void 0:gt.pos)||0;const _t=x.isRunning()?x.getEndValues().pos:oe;if(Math.abs(Xe-_t)<1)return oe=Xe,qe!==je&&(So(),rn(),K(),P=qe,qe=je,Ue("change",qe,P)),Rn(),void(Oe||(Oe=!0,Ue("settle")));if(x.pause(),Dt(),ve){const yn=jt(),cn=Math.floor((_t-((bt=Ct[0])===null||bt===void 0?void 0:bt.pos))/yn),ro=Xe+cn*yn;Xe=[ro+yn,ro,ro-yn].reduce((function(Do,Qt){return Math.abs(Qt-_t)<Math.abs(Do-_t)?Qt:Do}))}bn!==!1&&Dd(_n)?x.spring(gm({},ee.tween,_n)).from({pos:oe}).to({pos:Xe}).start():(oe=Xe,Tt(),Rn(),Oe||(Oe=!0,Ue("settle")))}function Rn(){var je;if(!ke||!ye)return;const tt=Ct[qe];qt=$n();const gt=new Set;let bt;const bn=[];for(const _n of Ie){if(_n.isVirtual&&!xe.has(_n.index)&&qt.indexOf(_n)<0)continue;let zn=Re(_n);if(!zn)continue;bn.push(_n);const _t=((je=tt==null?void 0:tt.slides)===null||je===void 0?void 0:je.indexOf(_n))>-1;if(_t&&gt.add(zn),Qe("adaptiveHeight")&&_t){const yn=(zn.firstElementChild||zn).getBoundingClientRect().height;bt=bt==null?yn:Math.max(bt,yn)}}ye&&bt&&(ye.style.height=`${bt}px`),[...UQ(ye,`.${ee.classes.slide}`)].forEach((_n=>{const zn=parseInt(_n.getAttribute("index")||"-1"),_t=Je[zn];_t||_n.remove();const yn=gt.has(_n);if(Ad(_n,ee.classes.isSelected,yn),_n.inert=qt.indexOf(_t)<0,_t.isVirtual&&!xe.has(_t.index)&&qt.indexOf(_t)<0)return void et(_t);let cn=_t.pos?Math.round(1e4*_t.pos)/1e4:0,ro=0,Do=0,Qt=0,Us=0,Xo=ee.setTransform||void 0;xe.has(_t.index)||(ro=Be?0:ue?-1*cn:cn,Do=Be?cn:0,Qt=mee(ro,0,_t.dim,0,100),Us=mee(Do,0,_t.dim,0,100)),Xo instanceof Function&&!xe.has(_t.index)?Xo(No,_t,{x:ro,y:Do,xPercent:Qt,yPercent:Us}):_n.style.transform=ro||Do?`translate3d(${Qt}%, ${Us}%,0)`:""})),Ue("render",bn)}function Zo(){var je;ke==null||ke.removeEventListener("click",st),Dt(),document.removeEventListener("mousemove",jo),D==null||D.disconnect(),D=void 0;for(const tt of Je)tt.el&&UA(tt.el)&&(tt.state=void 0,rt(tt),ao(tt),et(tt),tt.isVirtual?((je=tt.el)===null||je===void 0||je.remove(),tt.el=void 0):(tt.el.style.transform="",ye==null||ye.appendChild(tt.el)));for(const tt of Object.values(Se))tt==null||tt.destroy();Se={},b==null||b.destroy(),b=void 0,x==null||x.destroy(),x=void 0;for(const[tt,gt]of Object.entries(ee.classes||{}))tt!=="container"&&z1(ke,gt);z1(ye,"is-draggable")}function Vo(){return ve||qe>0}function Oo(){return ve||qe<Ct.length-1}const No={add:function(je,tt){var gt,bt;let bn=oe;const _n=qe,zn=jt(),_t=x!=null&&x.isRunning()?x.getEndValues().pos:oe,yn=Math.floor((_t-((gt=Ct[0])===null||gt===void 0?void 0:gt.pos))/zn),cn=ut(je,tt);for(const ro of cn)Ue("addSlide",ro);return vo(ht),pe(),x&&(_n===qe&&(bn-=yn*zn),Xe=((bt=Ct[qe||0])===null||bt===void 0?void 0:bt.pos)||0,bn===Xe?oe=Xe:x.spring({clamp:!0,mass:1,tension:300,friction:25,restDelta:1,restSpeed:1}).from({pos:bn}).to({pos:Xe}).start()),Rn(),No},canGoPrev:Vo,canGoNext:Oo,destroy:function(){return Ue("destroy"),window.removeEventListener("resize",Pn),Zo(),$t.clear(),ke=null,Ct=[],Je=[],ee=Object.assign({},VA),Se={},Ie=[],$="",ht="*",Z=2,No},emit:Ue,filter:function(je="*"){return vo(je),pe(),Rn(),Ue("filter",je),No},getContainer:function(){return ke},getGapDim:_o,getGestures:function(){return b},getLastMouseMove:function(){return Loe},getOption:function(je){return Qe(je)},getOptions:function(){return ee},getPage:function(){return Ct[qe]},getPageIndex:function(je){if(je!==void 0){for(const tt of Ct||[])for(const gt of tt.slides)if(gt.index===je)return tt.index;return-1}return qe},getPageProgress:function(je,tt){var gt;je===void 0&&(je=qe);const bt=Ct[je];if(!bt)return je>qe?-1:1;const bn=jt(),_n=_o();let zn=bt.pos,_t=No.getPosition();if(ve&&tt!==!0){const yn=Math.floor((_t-((gt=Ct[0])===null||gt===void 0?void 0:gt.pos))/bn);_t-=yn*bn,zn=[zn+bn,zn,zn-bn].reduce((function(cn,ro){return Math.abs(ro-_t)<Math.abs(cn-_t)?ro:cn}))}return(_t-zn)/(bt.dim+_n)},getPageVisibility:function(je){var tt;je===void 0&&(je=qe);const gt=Ct[je];if(!gt)return je>qe?-1:1;const bt=No.getPosition(),bn=wt();let _n=gt.pos;if(ve){const zn=No.getPosition(),_t=jt(),yn=_n+Math.floor((zn-((tt=Ct[0])===null||tt===void 0?void 0:tt.pos))/_t)*_t;_n=[yn+_t,yn,yn-_t].reduce((function(cn,ro){return Math.abs(ro-zn)<Math.abs(cn-zn)?ro:cn}))}return _n>bt&&_n+gt.dim<bt+bn?1:_n<bt?(_n+gt.dim-bt)/gt.dim:_n+gt.dim>bt+bn?(bt+bn-_n)/gt.dim:0},getPages:function(){return Ct},getPlugins:function(){return Se},getPosition:function(je){var tt;let gt=oe;if(ve&&je!==!0){const bt=jt();gt-=Math.floor((oe-((tt=Ct[0])===null||tt===void 0?void 0:tt.pos)||0)/bt)*bt}return gt},getSlides:function(){return Je},getState:function(){return Z},getTotalSlideDim:jt,getTween:function(){return x},getViewport:function(){return ye},getViewportDim:wt,getVisibleSlides:function(je){return je===void 0?qt:$n(je)},goTo:wo,hasNavigated:function(){return P!==void 0},hideError:ao,hideLoading:rt,init:function(){if(!a||!UA(a))throw new Error("No Element found");return Z!==0&&(Zo(),Z=0),ke=a,ne=u,window.removeEventListener("resize",Pn),ne.breakpoints&&window.addEventListener("resize",Pn),Pn(),No},isInfinite:function(){return ve},isInTransition:function(){return xe.size>0},isRTL:function(){return ue},isSettled:function(){return Oe},isVertical:function(){return Be},localize:function(je,tt=[]){return ln(je,tt)},next:function(je={}){return wo(qe+1,je),No},off:function(je,tt){for(const gt of je instanceof Array?je:[je])$t.has(gt)&&$t.set(gt,$t.get(gt).filter((bt=>bt!==tt)));return No},on:function(je,tt){for(const gt of je instanceof Array?je:[je])$t.set(gt,[...$t.get(gt)||[],tt]);return No},prev:function(je={}){return wo(qe-1,je),No},remove:function(je){je===void 0&&(je=Je.length-1);const tt=Je[je];return tt&&(Ue("removeSlide",tt),tt.el&&(at(tt.el),tt.el.remove(),tt.el=void 0),Je.splice(je,1),vo(ht),pe(),Rn()),No},setPosition:function(je){oe=je,Tt(),Rn()},showError:function(je,tt){rt(je),ao(je);const gt=je.el;if(gt){const bt=document.createElement("div");wr(bt,"f-html"),wr(bt,"is-error"),bt.innerHTML=ln(tt||"<p>{{ERROR}}</p>"),je.htmlEl=bt,wr(gt,"has-html"),wr(gt,"has-error"),gt.insertAdjacentElement("afterbegin",bt),Ue("contentReady",je)}return No},showLoading:function(je){const tt=je.el,gt=tt==null?void 0:tt.querySelector(".f-spinner");if(!tt||gt)return No;const bt=Qe("spinnerTpl"),bn=Mw(bt);return bn&&(wr(bn,"f-spinner"),tt.insertAdjacentElement("beforeend",bn)),No},version:"6.0.32"};return No};qz.l10n={en_EN:hte},qz.getDefaults=()=>VA;/*! License details at fancyapps.com/license */const Ioe=(a=!0,u="--f-scrollbar-compensate",g="--f-body-margin",b="hide-scrollbar")=>{const x=document,D=x.body,P=x.documentElement;if(a){if(D.classList.contains(b))return;let $=window.innerWidth-P.getBoundingClientRect().width;$<0&&($=0),P.style.setProperty(u,`${$}px`);const Z=parseFloat(window.getComputedStyle(D).marginRight);Z&&D.style.setProperty(g,`${Z}px`),D.classList.add(b)}else D.classList.remove(b),D.style.setProperty(g,""),x.documentElement.style.setProperty(u,"")};/*! License details at fancyapps.com/license */function Jre(){return!(typeof window>"u"||!window.document||!window.document.createElement)}/*! License details at fancyapps.com/license */const Ow=function(a="",u="",g=""){return a.split(u).join(g)};/*! License details at fancyapps.com/license */const Boe={tpl:a=>`<img class="f-panzoom__content" 
    ${a.srcset?'data-lazy-srcset="{{srcset}}"':""} 
    ${a.sizes?'data-lazy-sizes="{{sizes}}"':""} 
    data-lazy-src="{{src}}" alt="{{alt}}" />`},eue=()=>{let a;function u(ee,Se){const ke=a==null?void 0:a.getOptions().Zoomable;let ye=(Dd(ke)?Object.assign(Object.assign({},Boe),ke):Boe)[ee];return ye&&typeof ye=="function"&&Se?ye(Se):ye}function g(){a&&(a.on("addSlide",D),a.on("removeSlide",P),a.on("attachSlideEl",$),a.on("click",x),a.on("change",b),a.on("ready",b))}function b(){Z();const ee=(a==null?void 0:a.getVisibleSlides())||[];if(ee.length>1||(a==null?void 0:a.getOption("transition"))==="slide")for(const Se of ee){const ke=Se.panzoomRef;ke&&((a==null?void 0:a.getPage().slides)||[]).indexOf(Se)<0&&ke.execute(qo.ZoomTo,Object.assign({},ke.getStartPosition()))}}function x(ee,Se){const ke=Se.target;ke&&!Se.defaultPrevented&&ke.dataset.panzoomAction&&ne(ke.dataset.panzoomAction)}function D(ee,Se){if(!a)return;const ke=Se.el;if(!ke)return;const ye=Se.src||Se.lazySrc||"",be=Se.alt||Se.caption||`Image #${Se.index}`,ve=Se.srcset||Se.lazySrcset||"",ue=Se.sizes||Se.lazySizes||"";if(ye&&au(ye)&&!Se.html&&(!Se.type||Se.type==="image")){Se.type="image",Se.thumbSrc=Se.thumbSrc||ye;let Oe=u("tpl",Se);Oe=Ow(Oe,"{{src}}",ye+""),Oe=Ow(Oe,"{{alt}}",be+""),Oe=Ow(Oe,"{{srcset}}",ve+""),Oe=Ow(Oe,"{{sizes}}",ue+""),ke.insertAdjacentHTML("afterbegin",Oe)}if(!ke.querySelector(".f-panzoom__content"))return;const Be=Se.width&&Se.width!=="auto"?parseFloat(Se.width+""):"auto",Le=Se.height&&Se.height!=="auto"?parseFloat(Se.height+""):"auto",oe=fee(ke,Object.assign({width:Be,height:Le,classes:{container:"f-zoomable"},event:()=>a==null?void 0:a.getLastMouseMove(),spinnerTpl:()=>(a==null?void 0:a.getOption("spinnerTpl"))||""},u("Panzoom")));oe.on("*",((Oe,qe,...Xe)=>{a&&(qe==="loading"&&(Se.state=0),qe==="loaded"&&(Se.state=1),qe==="error"&&(Se.state=2,a==null||a.showError(Se,"{{IMAGE_ERROR}}")),a.emit(`panzoom:${qe}`,Se,...Xe),qe==="ready"&&a.emit("contentReady",Se),Se.index===(a==null?void 0:a.getPageIndex())&&Z())})),Se.panzoomRef=oe}function P(ee,Se){Se.panzoomRef&&(Se.panzoomRef.destroy(),Se.panzoomRef=void 0)}function $(ee,Se){const ke=Se.panzoomRef;if(ke)switch(ke.getState()){case 0:ke.init();break;case 3:ke.execute(qo.ZoomTo,Object.assign(Object.assign({},ke.getStartPosition()),{velocity:0}))}}function Z(){var ee,Se;const ke=(a==null?void 0:a.getContainer())||void 0,ye=(Se=(ee=a==null?void 0:a.getPage())===null||ee===void 0?void 0:ee.slides[0])===null||Se===void 0?void 0:Se.panzoomRef;if(ke)if(ye)ye.updateControls(ke);else for(const be of ke.querySelectorAll("[data-panzoom-action]")||[])be.setAttribute("aria-disabled",""),be.setAttribute("tabindex","-1")}function ne(ee,...Se){var ke;(ke=a==null?void 0:a.getPage().slides[0].panzoomRef)===null||ke===void 0||ke.execute(ee,...Se)}return{init:function(ee){a=ee,a.getOptions().Zoomable!==!1&&a.on("initPlugins",g)},destroy:function(){if(a){a.off("addSlide",D),a.off("removeSlide",P),a.off("attachSlideEl",$),a.off("click",x),a.off("change",b),a.off("ready",b);for(const ee of a.getSlides())P(0,ee)}a=void 0},execute:ne}};/*! License details at fancyapps.com/license */const $oe={syncOnChange:!1,syncOnClick:!0,syncOnHover:!1},Qre=()=>{let a,u;function g(){const ye=a==null?void 0:a.getOptions().Sync;return Dd(ye)?Object.assign(Object.assign({},$oe),ye):$oe}function b(ye){var be,ve,ue;a&&ye&&(u=ye,a.getOptions().classes=Object.assign(Object.assign({},a.getOptions().classes),{isSelected:""}),a.getOptions().initialSlide=((ve=(be=u.getPage())===null||be===void 0?void 0:be.slides[0])===null||ve===void 0?void 0:ve.index)||0,g().syncOnChange&&a.on("change",P),g().syncOnClick&&a.on("click",Z),g().syncOnHover&&((ue=a.getViewport())===null||ue===void 0||ue.addEventListener("mouseover",ne)),(function(){!a||!u||(a.on("ready",D),a.on("refresh",ee),u.on("change",$),u.on("filter",Se))})())}function x(){const ye=g().target;a&&ye&&b(ye)}function D(){ke()}function P(){var ye;if(a&&u){const be=((ye=a.getPage())===null||ye===void 0?void 0:ye.slides)||[],ve=u.getPageIndex(be[0].index||0);ve>-1&&u.goTo(ve,a.hasNavigated()?void 0:{tween:!1,transition:!1}),ke()}}function $(){var ye;if(a&&u){const be=a.getPageIndex(((ye=u.getPage())===null||ye===void 0?void 0:ye.slides[0].index)||0);be>-1&&a.goTo(be,u.hasNavigated()?void 0:{tween:!1,transition:!1}),ke()}}function Z(ye,be){var ve;if(!a||!u||!((ve=a.getTween())===null||ve===void 0)&&ve.isRunning())return;const ue=a==null?void 0:a.getOptions().classes.slide;if(!ue)return;const Be=ue?be.target.closest(`.${ue}`):null;if(Be){const Le=parseInt(Be.getAttribute("index")||"")||0,oe=u.getPageIndex(Le);u.goTo(oe)}}function ne(ye){a&&Z(0,ye)}function ee(){var ye;if(a&&u){const be=a.getPageIndex(((ye=u.getPage())===null||ye===void 0?void 0:ye.slides[0].index)||0);be>-1&&a.goTo(be,{tween:!1,transition:!1}),ke()}}function Se(ye,be){a&&u&&(a.filter(be),$())}function ke(){var ye,be,ve;if(!u)return;const ue=((be=(ye=u.getPage())===null||ye===void 0?void 0:ye.slides[0])===null||be===void 0?void 0:be.index)||0;for(const Be of(a==null?void 0:a.getSlides())||[])(ve=Be.el)===null||ve===void 0||ve.classList.toggle("is-selected",Be.index===ue)}return{init:function(ye){a=ye,a.on("initSlides",x)},destroy:function(){var ye;a==null||a.off("ready",D),a==null||a.off("refresh",ee),a==null||a.off("change",P),a==null||a.off("click",Z),(ye=a==null?void 0:a.getViewport())===null||ye===void 0||ye.removeEventListener("mouseover",ne),u==null||u.off("change",$),u==null||u.off("filter",Se),u=void 0,a==null||a.off("initSlides",x),a=void 0},getTarget:function(){return u}}};/*! License details at fancyapps.com/license */const Foe={showLoading:!0,preload:1},az="is-lazyloading",Hoe="is-lazyloaded",eie=()=>{let a;function u(){const x=a==null?void 0:a.getOptions().Lazyload;return Dd(x)?Object.assign(Object.assign({},Foe),x):Foe}function g(x){var D;const P=x.el;if(!P)return;const $="[data-lazy-src],[data-lazy-srcset],[data-lazy-bg]",Z=Array.from(P.querySelectorAll($));P.matches($)&&Z.push(P);for(const ne of Z){const ee=ne.dataset.lazySrc,Se=ne.dataset.lazySrcset,ke=ne.dataset.lazySizes,ye=ne.dataset.lazyBg,be=(ne instanceof HTMLImageElement||ne instanceof HTMLSourceElement)&&(ee||Se),ve=ne instanceof HTMLElement&&ye;if(!be&&!ve)continue;const ue=ee||Se||ye;if(ue){if(be&&ue){const Be=(D=ne.parentElement)===null||D===void 0?void 0:D.classList.contains("f-panzoom__wrapper");u().showLoading&&(a==null||a.showLoading(x)),ne.addEventListener("load",(()=>{a==null||a.hideLoading(x),ne instanceof HTMLImageElement?ne.decode().then((()=>{ne.classList.remove(az),ne.classList.add(Hoe)})):(ne.classList.remove(az),ne.classList.add(Hoe)),Be||a==null||a.emit("lazyLoad:loaded",x,ne,ue)})),ne.addEventListener("error",(()=>{a==null||a.hideLoading(x),ne.classList.remove(az),ne.classList.add("has-lazyerror"),Be||a==null||a.emit("lazyLoad:error",x,ne,ue)})),ne.classList.add("f-lazyload"),ne.classList.add(az),Be||a==null||a.emit("lazyLoad:load",x,ne,ue),ee&&(ne.src=ee),Se&&(ne.srcset=Se),ke&&(ne.sizes=ke)}else ve&&(document.body.contains(ne)||(document.createElement("img").src=ye),ne.style.backgroundImage=`url('${ye}')`);delete ne.dataset.lazySrc,delete ne.dataset.lazySrcset,delete ne.dataset.lazySizes,delete ne.dataset.lazyBg}}}function b(){if(!a)return;const x=[...a.getVisibleSlides()],D=u().preload;if(D>0){const P=a.getPosition(),$=a.getViewportDim();x.push(...a.getVisibleSlides(P+$*D),...a.getVisibleSlides(P-$*D))}for(const P of x)g(P)}return{init:function(x){a=x,a.on("render",b)},destroy:function(){a==null||a.off("render",b),a=void 0}}};/*! License details at fancyapps.com/license */const zoe={prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"></path></svg>',nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"></path></svg>'},tue=()=>{let a,u,g;function b(){const $=a==null?void 0:a.getOptions().Arrows;return Dd($)?Object.assign(Object.assign({},zoe),$):zoe}function x($){if(!a)return;const Z=`<button data-carousel-go-${$} tabindex="0" class="f-button is-arrow is-${$}" title="{{${$.toUpperCase()}}}">`+b()[`${$}Tpl`]+"</button",ne=Mw(a.localize(Z))||void 0;return ne&&wr(ne,b()[`${$}Class`]),ne}function D(){var $;u==null||u.remove(),u=void 0,g==null||g.remove(),g=void 0,($=a==null?void 0:a.getContainer())===null||$===void 0||$.classList.remove("has-arrows")}function P(){a&&a.getOptions().Arrows!==!1&&a.getPages().length>1?((function(){if(!a)return;const $=a.getViewport();$&&(u||(u=x("prev"),u&&$.insertAdjacentElement("beforebegin",u)),g||(g=x("next"),g&&$.insertAdjacentElement("afterend",g)),Ad(a.getContainer(),"has-arrows",!(!u&&!g)))})(),a&&(u==null||u.toggleAttribute("aria-disabled",!a.canGoPrev()),g==null||g.toggleAttribute("aria-disabled",!a.canGoNext()))):D()}return{init:function($){a=$.on(["change","refresh"],P)},destroy:function(){D(),a==null||a.off(["change","refresh"],P),a=void 0}}};/*! License details at fancyapps.com/license */const tie='<circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/>',WQ='<g><line x1="11" y1="8" x2="11" y2="14"></line></g>'+tie,nue={moveLeft:["moveLeft","MOVE_LEFT",'<path d="M5 12h14M5 12l6 6M5 12l6-6"/>'],moveRight:["moveRight","MOVE_RIGHT",'<path d="M5 12h14M13 18l6-6M13 6l6 6"/>'],moveUp:["moveUp","MOVE_UP",'<path d="M12 5v14M18 11l-6-6M6 11l6-6"/>'],moveDown:["moveDown","MOVE_DOWN",'<path d="M12 5v14M18 13l-6 6M6 13l6 6"/>'],zoomOut:["zoomOut","ZOOM_OUT",tie],zoomIn:["zoomIn","ZOOM_IN",WQ],toggleFull:["toggleFull","TOGGLE_FULL",WQ],iterateZoom:["iterateZoom","ITERATE_ZOOM",WQ],toggle1to1:["toggleFull","TOGGLE_FULL",'<path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/>'],rotateCCW:["rotateCCW","ROTATE_CCW",'<path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/>'],rotateCW:["rotateCW","ROTATE_CW",'<path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/>'],flipX:["flipX","FLIP_X",'<path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/>'],flipY:["flipY","FLIP_Y",'<path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/>'],reset:["reset","RESET",'<path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/>'],toggleFS:["toggleFS","TOGGLE_FS",'<g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g>']},gte={};for(const[a,u]of Object.entries(nue))gte[a]={tpl:`<button data-panzoom-action="${u[0]}" class="f-button" title="{{${u[1]}}}"><svg>${u[2]}</svg></button>`};/*! License details at fancyapps.com/license */var Voe;(function(a){a.Left="left",a.middle="middle",a.right="right"})(Voe||(Voe={}));const Uoe=Object.assign({counter:{tpl:'<div class="f-counter"><span data-carousel-page></span>/<span data-carousel-pages></span></div>'},download:{tpl:'<button data-carousel-download class="f-button" title="{{DOWNLOAD}}"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></button>'},autoplay:{tpl:'<button data-autoplay-action="toggle" class="f-button" title="{{TOGGLE_AUTOPLAY}}"><svg><g><path d="M5 3.5 19 12 5 20.5Z"/></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},thumbs:{tpl:'<button data-thumbs-action="toggle" class="f-button" title="{{TOGGLE_THUMBS}}"><svg><rect width="18" height="14" x="3" y="3" rx="2"/><path d="M4 21h1M9 21h1M14 21h1M19 21h1"/></svg></button>'}},gte),Woe={absolute:!1,display:{left:[],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY","reset"],right:[]},enabled:"auto",items:{}},nie=()=>{let a,u;function g(x){const D=a==null?void 0:a.getOptions().Toolbar;let P=(Dd(D)?Object.assign(Object.assign({},Woe),D):Woe)[x];return P&&typeof P=="function"&&a?P(a):P}function b(){var x,D;if(!(a!=null&&a.getOptions().Toolbar)||!a||u)return;const P=a.getContainer();if(!P)return;let $=g("enabled");if(!$)return;const Z=g("absolute"),ne=a.getSlides().length>1;let ee=!1,Se=!1;for(const Be of a.getSlides())Be.panzoomRef&&(ee=!0),(Be.downloadSrc||Be.type==="image"&&Be.src)&&(Se=!0);const ke=((x=a.getPlugins().Thumbs)===null||x===void 0?void 0:x.isEnabled())||!1,ye=ne&&a.getPlugins().Autoplay||!1,be=a.getPlugins().Fullscreen&&(document.fullscreenEnabled||document.webkitFullscreenEnabled);if($==="auto"&&($=ee),!$)return;u=P.querySelector(".f-carousel__toolbar")||void 0,u||(u=document.createElement("div"),u.classList.add("f-carousel__toolbar"));const ve=g("display"),ue=gm({},Uoe,g("items"));for(const Be of["left","middle","right"]){const Le=ve[Be]||[],oe=document.createElement("div");oe.classList.add("f-carousel__toolbar__column"),oe.classList.add(`is-${Be}`);for(const Oe of Le){let qe;if(au(Oe)){if(Oe==="counter"&&!ne||Oe==="autoplay"&&!ye||gte[Oe]&&!ee||Oe==="fullscreen"&&!be||Oe==="thumbs"&&!ke||Oe==="download"&&!Se)continue;qe=ue[Oe]}if(Dd(Oe)&&(qe=Oe),qe&&qe.tpl){let Xe=a.localize(qe.tpl);Xe=Xe.split("<svg>").join('<svg tabindex="-1" width="24" height="24" viewBox="0 0 24 24">');const k=Mw(Xe);k&&(typeof qe.click=="function"&&a&&k.addEventListener("click",(Ot=>{Ot.preventDefault(),Ot.stopPropagation(),typeof qe.click=="function"&&a&&qe.click(a,Ot)})),oe.append(k))}}u.append(oe)}if(u.childElementCount){if(Z===!0&&u.classList.add("is-absolute"),!u.parentElement){const Be=g("parentEl");Be?Be.insertAdjacentElement("afterbegin",u):(D=a.getViewport())===null||D===void 0||D.insertAdjacentElement("beforebegin",u)}P.contains(u)&&P.classList.add("has-toolbar")}}return{init:function(x){a=x,a.on("initSlides",b)},destroy:function(){var x;a==null||a.off("initSlides",b),(x=a==null?void 0:a.getContainer())===null||x===void 0||x.classList.remove("has-toolbar"),u==null||u.remove(),u=void 0},add:function(x,D){Uoe[x]=D},isEnabled:function(){return!!u}}};/*! License details at fancyapps.com/license */const joe={autoStart:!0,pauseOnHover:!0,showProgressbar:!0,timeout:2e3},oue=()=>{let a,u,g=!1,b=!1,x=!1,D=null;function P(qe){const Xe=a==null?void 0:a.getOptions().Autoplay;let k=(Dd(Xe)?Object.assign(Object.assign({},joe),Xe):joe)[qe];return k&&typeof k=="function"&&a?k(a):k}function $(){clearTimeout(u),u=void 0}function Z(){if(!g||x||b||u||!(a!=null&&a.isSettled())||(function(){var Xe;const k=((Xe=a==null?void 0:a.getPage())===null||Xe===void 0?void 0:Xe.slides)||[];for(const Ot of k)if(Ot.state===0)return!0;return!1})())return;(function(){var Xe,k,Ot,ht;if(!a||(Se(),!P("showProgressbar")))return;let Je=P("progressbarParentEl");if(!Je&&(!((Xe=a.getPlugins().Toolbar)===null||Xe===void 0)&&Xe.isEnabled())&&(Je=a.getContainer()),!Je&&((k=a.getPlugins().Toolbar)===null||k===void 0?void 0:k.isEnabled())!==!0){const xe=((Ot=a.getPages()[0])===null||Ot===void 0?void 0:Ot.slides)||[],qt=((ht=a.getPage())===null||ht===void 0?void 0:ht.slides)||[];xe.length===1&&qt.length===1&&(Je=qt[0].el)}if(Je||(Je=a.getViewport()),!Je)return;D=document.createElement("div"),D.classList.add("f-progressbar"),Je.prepend(D);const Ie=P("timeout")||1e3;D.style.animationDuration=`${Ie}ms`})();const qe=P("timeout");u=setTimeout((()=>{a&&g&&!b&&(a.isInfinite()||a.getPageIndex()!==a.getPages().length-1?a.next():a.goTo(0))}),qe)}function ne(){var qe,Xe;if(!a||a.getPages().length<2||a.getOptions().Autoplay===!1||g)return;g=!0,a.emit("autoplay:start",P("timeout")),(qe=a.getContainer())===null||qe===void 0||qe.classList.add("has-autoplay"),(Xe=a.getTween())===null||Xe===void 0||Xe.on("start",Be);const k=a==null?void 0:a.getContainer();k&&P("pauseOnHover")&&matchMedia("(hover: hover)").matches&&(k.addEventListener("mouseenter",Le,!1),k.addEventListener("mouseleave",oe,!1)),a.on("change",ve),a.on("settle",ue),a.on("contentReady",ye),a.on("panzoom:touchStart",ee),a.on("panzoom:wheel",ee),a.isSettled()&&Z()}function ee(){var qe,Xe;if($(),Se(),g&&a){a.emit("autoplay:end"),(qe=a.getContainer())===null||qe===void 0||qe.classList.remove("has-autoplay"),(Xe=a.getTween())===null||Xe===void 0||Xe.off("start",Be);const k=a==null?void 0:a.getContainer();k&&(k.removeEventListener("mouseenter",Le,!1),k.removeEventListener("mouseleave",oe,!1))}a&&(a.off("change",ve),a.off("settle",ue),a.off("contentReady",ye),a.off("panzoom:touchStart",ee),a.off("panzoom:wheel",ee)),g=!1,b=!1}function Se(){D&&(D.remove(),D=null)}function ke(){a&&a.getPages().length>1&&P("autoStart")&&ne()}function ye(){a&&Z()}function be(qe,Xe){const k=Xe.target;k&&!Xe.defaultPrevented&&k.dataset.autoplayAction==="toggle"&&Oe.toggle()}function ve(){!a||!(a!=null&&a.isInfinite())&&a.getPageIndex()===a.getPages().length-1?ee():(Se(),$())}function ue(){Z()}function Be(){$(),Se()}function Le(){x=!0,g&&(Se(),$())}function oe(){x=!1,g&&!b&&(a!=null&&a.isSettled())&&Z()}const Oe={init:function(qe){a=qe,a.on("ready",ke),a.on("click",be)},destroy:function(){ee(),a==null||a.off("ready",ke),a==null||a.off("click",be),a=void 0},isEnabled:()=>g,pause:function(){b=!0,$()},resume:function(){b=!1,g&&!x&&Z()},start(){ne()},stop(){ee()},toggle(){g?ee():ne()}};return Oe};/*! License details at fancyapps.com/license */const jQ={Carousel:{Lazyload:{showLoading:!1}},minCount:2,showOnStart:!0,thumbTpl:'<button aria-label="Slide to #{{page}}"><img draggable="false" alt="{{alt}}" data-lazy-src="{{src}}" /></button>',type:"modern"};let ZQ;const sue=()=>{let a,u,g,b=0,x=0,D=!0;function P(Oe){const qe=a==null?void 0:a.getOptions().Thumbs;let Xe=(Dd(qe)?Object.assign(Object.assign({},jQ),qe):jQ)[Oe];return Xe&&typeof Xe=="function"&&a?Xe(a):Xe}function $(){if(!a||(a==null?void 0:a.getOptions().Thumbs)===!1)return!1;let Oe=0;for(const qe of a.getSlides())qe.thumbSrc&&Oe++;return Oe>=P("minCount")}function Z(){return P("type")==="modern"}function ne(Oe=!1){var qe;const Xe=a==null?void 0:a.getContainer();if(!a||!Xe||g||!$())return;const k=((qe=P("Carousel"))===null||qe===void 0?void 0:qe.classes)||{};if(k.container=k.container||"f-thumbs",!g){const Ot=Xe.nextElementSibling;Ot!=null&&Ot.classList.contains(k.container)&&(g=Ot)}if(!g){g=document.createElement("div");const Ot=P("parentEl");Ot?Ot.insertAdjacentElement("beforeend",g):Xe.insertAdjacentElement("afterend",g)}wr(g,k.container),wr(g,"f-thumbs"),wr(g,`is-${P("type")}`),wr(g,"is-syncing"),Oe&&(g.style.maxHeight="0px")}function ee(Oe){const qe=Oe.thumb?Oe.thumb instanceof HTMLImageElement?Oe.thumb.src:Oe.thumb:Oe.thumbSrc||void 0,Xe=Oe.thumbAlt===void 0?`Thumbnail #${Oe.index}`:Oe.thumbAlt+"";let k=P("thumbTpl");return k=Ow(k,"{{alt}}",Xe),k=Ow(k,"{{src}}",qe+""),k=Ow(k,"{{index}}",`${Oe.index}`),k=Ow(k,"{{page}}",`${Oe.index||1}`),{html:k,class:Oe.thumbClass}}function Se(){var Oe;if(!ZQ||!a||!g||u)return;const qe=[];for(const Xe of a.getSlides())qe.push(ee(Xe));qe.length&&(u=ZQ(g,gm({},{Sync:{target:a},Lazyload:{preload:1},slides:qe,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",slide:"f-thumbs__slide"},center:!0,fill:!Z(),infinite:!1,dragFree:!0,rtl:a.getOptions().rtl||!1,slidesPerPage:Xe=>{let k=0;return Z()&&((function(){if(!Z()||!g)return;const Ot=ht=>g&&parseFloat(getComputedStyle(g).getPropertyValue("--f-thumb-"+ht))||0;b=Ot("width"),x=Ot("clip-width")})(),k=4*(b-x)),Xe&&Xe.getTotalSlideDim()<=Xe.getViewportDim()-k?1/0:1}},jQ.Carousel||{},P("Carousel")||{}),{Sync:Qre,Lazyload:eie}),u.on("ready",(()=>{a==null||a.emit("thumbs:ready")})),u.on("destroy",(()=>{a==null||a.emit("thumbs:destroy")})),u.init(),(Oe=u.getGestures())===null||Oe===void 0||Oe.on("start",(()=>{D=!1})),u.on("click",((Xe,k)=>{const Ot=k.target;if(Ot){const ht=Ot.matches("button")?Ot:Ot.firstElementChild;ht&&ht.matches("button")&&(k.preventDefault(),ht.focus({preventScroll:!0}))}})),wr(a.getContainer(),"has-thumbs"),oe())}function ke(){$()&&P("showOnStart")&&(ne(),Se())}function ye(){var Oe;$()&&(a==null||a.on("addSlide",Be),a==null||a.on("click",Le),(Oe=a==null?void 0:a.getGestures())===null||Oe===void 0||Oe.on("start",be))}function be(){var Oe,qe;D=!0,!((Oe=document.activeElement)===null||Oe===void 0)&&Oe.closest(".f-thumbs")&&((qe=document.activeElement)===null||qe===void 0||qe.blur())}function ve(){var Oe,qe;g==null||g.classList.toggle("is-syncing",(a==null?void 0:a.hasNavigated())===!1||((Oe=a==null?void 0:a.getTween())===null||Oe===void 0?void 0:Oe.isRunning())),oe(),!((qe=a==null?void 0:a.getGestures())===null||qe===void 0)&&qe.isPointerDown()&&(function(){if(!Z()||!a||!u||!D)return;const Xe=u.getTween(),k=u.getPages(),Ot=a.getPageIndex()||0,ht=a.getPageProgress()||0;if(!(a&&k&&k[Ot]&&Xe))return;const Je=Xe.isRunning()?Xe.getCurrentValues().pos:u.getPosition();if(Je===void 0)return;let Ie=k[Ot].pos+ht*(b-x);Ie=Xr(k[0].pos,Ie,k[k.length-1].pos),Xe.from({pos:Je}).to({pos:Ie}).start()})()}function ue(){D=!0}function Be(Oe,qe){u==null||u.add(ee(qe),qe.index)}function Le(Oe,qe){const Xe=qe.target;Xe&&!qe.defaultPrevented&&Xe.dataset.thumbsAction==="toggle"&&(function(){if(g||(ne(!0),Se()),!g)return;const k=u!=null&&u.isVertical()?"maxWidth":"maxHeight",Ot=g.style[k];g.style[k]=Ot?"":"0px"})()}function oe(){if(!Z()||!a||!u)return;const Oe=(u==null?void 0:u.getSlides())||[];let qe=-.5*b;for(const Xe of Oe){const k=Xe.el;if(!k)continue;let Ot=a.getPageProgress(Xe.index)||0;Ot=Math.max(-1,Math.min(1,Ot)),Ot>-1&&Ot<1&&(qe+=.5*b*(1-Math.abs(Ot))),Ot=Math.round(1e4*Ot)/1e4,qe=Math.round(1e4*qe)/1e4,k.style.setProperty("--progress",`${Math.abs(Ot)}`),k.style.setProperty("--shift",`${a!=null&&a.isRTL()?-1*qe:qe}px`),Ot>-1&&Ot<1&&(qe+=.5*b*(1-Math.abs(Ot)))}}return{init:function(Oe,qe){ZQ=qe,a=Oe,a.on("ready",ye),a.on("initSlides",ke),a.on("render",ve),a.on("change",ue)},destroy:function(){var Oe,qe;a==null||a.off("ready",ye),a==null||a.off("initSlides",ke),a==null||a.off("render",ve),a==null||a.off("change",ue),a==null||a.off("addSlide",Be),a==null||a.off("click",Le),(Oe=a==null?void 0:a.getGestures())===null||Oe===void 0||Oe.off("start",be),(qe=a==null?void 0:a.getContainer())===null||qe===void 0||qe.classList.remove("has-thumbs"),a=void 0,u==null||u.destroy(),u=void 0,g==null||g.remove(),g=void 0},getCarousel:function(){return u},getContainer:function(){return g},isEnabled:function(){return $()}}};/*! License details at fancyapps.com/license */const Zoe={iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"}},rue=()=>{let a;function u(x,D){let P=D.src;if(!au(P))return;let $=D.type;if(!$){if($||(P.charAt(0)==="#"?$="inline":P.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.((a)?png|avif|gif|jp(g|eg)|pjp(eg)?|jfif|svg|webp|bmp|ico|tif(f)?)((\?|#).*)?$)/i)?$="image":P.match(/\.(pdf)((\?|#).*)?$/i)?$="pdf":P.match(/\.(html|php)((\?|#).*)?$/i)&&($="iframe")),!$){const Z=P.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i);Z&&(P=`https://maps.google.${Z[1]}/?ll=${(Z[2]?Z[2]+"&z="+Math.floor(parseFloat(Z[3]))+(Z[4]?Z[4].replace(/^\//,"&"):""):Z[4]+"").replace(/\?/,"&")}&output=${Z[4]&&Z[4].indexOf("layer=c")>0?"svembed":"embed"}`,$="gmap")}if(!$){const Z=P.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i);Z&&(P=`https://maps.google.${Z[1]}/maps?q=${Z[2].replace("query=","q=").replace("api=1","")}&output=embed`,$="gmap")}D.src=P,D.type=$}}function g(x,D){D.type!=="iframe"&&D.type!=="pdf"&&D.type!=="gmap"||(function(P){if(!a||!P.el||!P.src)return;const $=document.createElement("iframe");$.classList.add("f-iframe");for(const[ne,ee]of Object.entries((function(){const Se=a==null?void 0:a.getOptions().Html;return Dd(Se)?Object.assign(Object.assign({},Zoe),Se):Zoe})().iframeAttr||{}))$.setAttribute(ne,ee);$.onerror=()=>{a&&a.getState()===1&&a.showError(P,"{{IFRAME_ERROR}}")},$.src=P.src;const Z=document.createElement("div");if(Z.classList.add("f-html"),Z.append($),P.width){let ne=`${P.width}`;ne.match(/^\d+$/)&&(ne+="px"),Z.style.maxWidth=`${ne}`}if(P.height){let ne=`${P.height}`;ne.match(/^\d+$/)&&(ne+="px"),Z.style.maxHeight=`${ne}`}if(P.aspectRatio){const ne=P.el.getBoundingClientRect();Z.style.aspectRatio=`${P.aspectRatio}`,Z.style[ne.width>ne.height?"width":"height"]="auto",Z.style[ne.width>ne.height?"maxWidth":"maxHeight"]="none"}P.contentEl=$,P.htmlEl=Z,P.el.classList.add("has-html"),P.el.classList.add("has-iframe"),P.el.classList.add(`has-${P.type}`),P.el.prepend(Z),a.emit("contentReady",P)})(D)}function b(x,D){var P,$;D.type!=="iframe"&&D.type!=="pdf"&&D.type!=="gmap"||(a==null||a.hideError(D),(P=D.contentEl)===null||P===void 0||P.remove(),D.contentEl=void 0,($=D.htmlEl)===null||$===void 0||$.remove(),D.htmlEl=void 0)}return{init:function(x){a=x,a.on("addSlide",u),a.on("attachSlideEl",g),a.on("detachSlideEl",b)},destroy:function(){a==null||a.off("addSlide",u),a==null||a.off("attachSlideEl",g),a==null||a.off("detachSlideEl",b),a=void 0}}};/*! License details at fancyapps.com/license */const qoe=(a,u={})=>{const g=new URL(a),b=new URLSearchParams(g.search),x=new URLSearchParams;for(const[$,Z]of[...b,...Object.entries(u)]){let ne=Z+"";if($==="t"){let ee=ne.match(/((\d*)m)?(\d*)s?/);ee&&x.set("start",60*parseInt(ee[2]||"0")+parseInt(ee[3]||"0")+"")}else x.set($,ne)}let D=x+"",P=a.match(/#t=((.*)?\d+s)/);return P&&(D+=`#t=${P[1]}`),D},Goe={autoplay:!1,html5videoTpl:`<video class="f-html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
    <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto",credentialless:""},vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},iue=()=>{let a,u=!1;function g(){const ke=a==null?void 0:a.getOptions().Video;return Dd(ke)?Object.assign(Object.assign({},Goe),ke):Goe}function b(){var ke;return(ke=a==null?void 0:a.getPage())===null||ke===void 0?void 0:ke.slides[0]}const x=ke=>{var ye;try{let be=JSON.parse(ke.data);if(ke.origin==="https://player.vimeo.com"){if(be.event==="ready")for(let ve of Array.from(((ye=a==null?void 0:a.getContainer())===null||ye===void 0?void 0:ye.getElementsByClassName("f-iframe"))||[]))ve instanceof HTMLIFrameElement&&ve.contentWindow===ke.source&&(ve.dataset.ready="true")}else if(ke.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&be.event==="onReady"){const ve=document.getElementById(be.id);ve&&(ve.dataset.ready="true")}}catch{}};function D(ke,ye){const be=ye.src;if(!au(be))return;let ve=ye.type;if(!ve||ve==="html5video"){const ue=be.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i);ue&&(ve="html5video",ye.html5videoFormat=ye.html5videoFormat||"video/"+(ue[1]==="ogv"?"ogg":ue[1]))}if(!ve||ve==="youtube"){const ue=be.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i);if(ue){const Be=Object.assign(Object.assign({},g().youtube),ye.youtube||{}),Le=`www.youtube${Be.nocookie?"-nocookie":""}.com`,oe=qoe(be,Be),Oe=encodeURIComponent(ue[2]);ye.videoId=Oe,ye.src=`https://${Le}/embed/${Oe}?${oe}`,ye.thumb=ye.thumb||`https://i.ytimg.com/vi/${Oe}/mqdefault.jpg`,ve="youtube"}}if(!ve||ve==="vimeo"){const ue=be.match(/^.+vimeo.com\/(?:\/)?(video\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/);if(ue){const Be=Object.assign(Object.assign({},g().vimeo),ye.vimeo||{}),Le=qoe(be,Be),oe=encodeURIComponent(ue[2]),Oe=ue[5]||"";ye.videoId=oe,ye.src=`https://player.vimeo.com/video/${oe}?${Oe?`h=${Oe}${Le?"&":""}`:""}${Le}`,ve="vimeo"}}ye.type=ve}function P(ke,ye){ye.type==="html5video"&&(function(be){if(!a||!be.el||!be.src)return;const{el:ve,src:ue}=be;if(!ve||!ue)return;const Be=be.html5videoTpl||g().html5videoTpl,Le=be.html5videoFormat||g().html5videoFormat;if(!Be)return;const oe=be.poster||(be.thumb&&au(be.thumb)?be.thumb:""),Oe=Mw(Be.replace(/\{\{src\}\}/gi,ue+"").replace(/\{\{format\}\}/gi,Le||"").replace(/\{\{poster\}\}/gi,oe+""));if(!Oe)return;const qe=document.createElement("div");qe.classList.add("f-html"),qe.append(Oe),be.contentEl=Oe,be.htmlEl=qe,ve.classList.add(`has-${be.type}`),ve.prepend(qe),ee(be),a.emit("contentReady",be)})(ye),ye.type!=="youtube"&&ye.type!=="vimeo"||(function(be){if(!a||!be.el||!be.src)return;const ve=document.createElement("iframe");ve.classList.add("f-iframe"),ve.setAttribute("id",`f-iframe_${be.videoId}`);for(const[Be,Le]of Object.entries(g().iframeAttr||{}))ve.setAttribute(Be,Le);ve.onload=()=>{var Be;a&&a.getState()===1&&be.type==="youtube"&&((Be=ve.contentWindow)===null||Be===void 0||Be.postMessage(JSON.stringify({event:"listening",id:ve.getAttribute("id")}),"*"))},ve.onerror=()=>{a&&a.getState()===1&&(a==null||a.showError(be,"{{IFRAME_ERROR}}"))},ve.src=be.src;const ue=document.createElement("div");ue.classList.add("f-html"),ue.append(ve),be.contentEl=ve,be.htmlEl=ue,be.el.classList.add("has-html"),be.el.classList.add("has-iframe"),be.el.classList.add(`has-${be.type}`),be.el.prepend(ue),ee(be),a.emit("contentReady",be)})(ye)}function $(ke,ye){var be,ve;ye.type!=="html5video"&&ye.type!=="youtube"&&ye.type!=="vimeo"||((be=ye.contentEl)===null||be===void 0||be.remove(),ye.contentEl=void 0,(ve=ye.htmlEl)===null||ve===void 0||ve.remove(),ye.htmlEl=void 0),ye.poller&&clearTimeout(ye.poller)}function Z(){u=!1}function ne(){if(u)return;u=!0;const ke=b();(ke&&ke.autoplay!==void 0?ke.autoplay:g().autoplay)&&((function(){var ye;const be=b(),ve=be==null?void 0:be.el;if(ve&&(be==null?void 0:be.type)==="html5video")try{const Be=ve.querySelector("video");if(Be){const Le=Be.play();Le!==void 0&&Le.then((()=>{})).catch((oe=>{Be.muted=!0,Be.play()}))}}catch{}const ue=be==null?void 0:be.htmlEl;ue instanceof HTMLIFrameElement&&((ye=ue.contentWindow)===null||ye===void 0||ye.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"))})(),(function(){const ye=b(),be=ye==null?void 0:ye.type;if(!(ye!=null&&ye.el)||be!=="youtube"&&be!=="vimeo")return;const ve=()=>{if(ye.contentEl&&ye.contentEl instanceof HTMLIFrameElement&&ye.contentEl.contentWindow){let ue;if(ye.contentEl.dataset.ready==="true")return ue=ye.type==="youtube"?{event:"command",func:"playVideo"}:{method:"play",value:"true"},ue&&ye.contentEl.contentWindow.postMessage(JSON.stringify(ue),"*"),void(ye.poller=void 0);ye.type==="youtube"&&(ue={event:"listening",id:ye.contentEl.getAttribute("id")},ye.contentEl.contentWindow.postMessage(JSON.stringify(ue),"*"))}ye.poller=setTimeout(ve,250)};ve()})())}function ee(ke){const ye=ke==null?void 0:ke.htmlEl;if(ke&&ye&&(ke.type==="html5video"||ke.type==="youtube"||ke.type==="vimeo")){if(ye.style.aspectRatio="",ye.style.width="",ye.style.height="",ye.style.maxWidth="",ye.style.maxHeight="",ke.width){let be=`${ke.width}`;be.match(/^\d+$/)&&(be+="px"),ye.style.maxWidth=`${be}`}if(ke.height){let be=`${ke.height}`;be.match(/^\d+$/)&&(be+="px"),ye.style.maxHeight=`${be}`}if(ke.aspectRatio){const be=ke.aspectRatio.split("/"),ve=parseFloat(be[0].trim()),ue=be[1]?parseFloat(be[1].trim()):0,Be=ve&&ue?ve/ue:ve;ye.offsetHeight;const Le=ye.getBoundingClientRect(),oe=Be<(Le.width||1)/(Le.height||1);ye.style.aspectRatio=`${ke.aspectRatio}`,ye.style.width=oe?"auto":"",ye.style.height=oe?"":"auto"}}}function Se(){ee(b())}return{init:function(ke){a=ke,a.on("addSlide",D),a.on("attachSlideEl",P),a.on("detachSlideEl",$),a.on("ready",ne),a.on("change",Z),a.on("settle",ne),a.on("refresh",Se),window.addEventListener("message",x)},destroy:function(){a==null||a.off("addSlide",D),a==null||a.off("attachSlideEl",P),a==null||a.off("detachSlideEl",$),a==null||a.off("ready",ne),a==null||a.off("change",Z),a==null||a.off("settle",ne),a==null||a.off("refresh",Se),window.removeEventListener("message",x),a=void 0}}};/*! License details at fancyapps.com/license */const Koe={autoStart:!1,btnTpl:'<button data-fullscreen-action="toggle" class="f-button" title="{{TOGGLE_FULLSCREEN}}"><svg><g><path d="M8 3H5a2 2 0 0 0-2 2v3M21 8V5a2 2 0 0 0-2-2h-3M3 16v3a2 2 0 0 0 2 2h3M16 21h3a2 2 0 0 0 2-2v-3"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},Yoe="in-fullscreen-mode",aue=()=>{let a;function u(ee){const Se=a==null?void 0:a.getOptions().Fullscreen;let ke=(Dd(Se)?Object.assign(Object.assign({},Koe),Se):Koe)[ee];return ke&&typeof ke=="function"&&a?ke(a):ke}function g(){var ee;(ee=a==null?void 0:a.getPlugins().Toolbar)===null||ee===void 0||ee.add("fullscreen",{tpl:u("btnTpl")})}function b(){if(u("autoStart")){const ee=D();ee&&$(ee)}}function x(ee,Se){const ke=Se.target;ke&&!Se.defaultPrevented&&ke.dataset.fullscreenAction==="toggle"&&ne()}function D(){return u("el")||(a==null?void 0:a.getContainer())||void 0}function P(){const ee=document;return ee.fullscreenEnabled?!!ee.fullscreenElement:!!ee.webkitFullscreenEnabled&&!!ee.webkitFullscreenElement}function $(ee){const Se=document;let ke;return ee||(ee=Se.documentElement),Se.fullscreenEnabled?ke=ee.requestFullscreen():Se.webkitFullscreenEnabled&&(ke=ee.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)),ke&&ke.then((()=>{ee.classList.add(Yoe)})),ke}function Z(){const ee=document;let Se;return ee.fullscreenEnabled?Se=ee.fullscreenElement&&ee.exitFullscreen():ee.webkitFullscreenEnabled&&(Se=ee.webkitFullscreenElement&&ee.webkitExitFullscreen()),Se&&Se.then((()=>{var ke;(ke=D())===null||ke===void 0||ke.classList.remove(Yoe)})),Se}function ne(){const ee=D();ee&&(P()?Z():$(ee))}return{init:function(ee){a=ee,a.on("initPlugins",g),a.on("ready",b),a.on("click",x)},destroy:function(){a==null||a.off("initPlugins",g),a==null||a.off("ready",b),a==null||a.off("click",x)},exit:Z,inFullscreen:P,request:$,toggle:ne}};/*! License details at fancyapps.com/license */let U1,Gz=!1,Xoe=!1,TL=!1,hee=!1;const Kz=()=>{const a=new URL(document.URL).hash,u=a.slice(1).split("-"),g=u[u.length-1],b=g&&/^\+?\d+$/.test(g)&&parseInt(u.pop()||"1",10)||1;return{hash:a,slug:u.join("-"),index:b}},pte=()=>{if(!U1||U1.getInstance())return;const{slug:a,index:u}=Kz();if(!a||!U1||U1.getInstance())return;const g=document.querySelectorAll(`[data-fancybox="${a}"]`);if(!g.length)return;const b=g[u-1];b&&b.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0}))},cue=()=>{var a,u;if(!U1||TL)return;const g=U1==null?void 0:U1.getInstance();if((g==null?void 0:g.getOptions().Hash)===!1)return;const{slug:b,index:x}=Kz(),D=((a=g==null?void 0:g.getSlide())===null||a===void 0?void 0:a.fancybox)||void 0;g&&D&&(b===D?(u=g.getCarousel())===null||u===void 0||u.goTo(x-1):(hee=!0,g.close(),hee=!1)),pte()},Joe=()=>{U1&&setTimeout((()=>{Gz=!0,pte(),Gz=!1,window.addEventListener("hashchange",cue,!1)}),300)},gee=()=>{let a,u="auto",g="";function b(){var P,$;if(!a||!a.isTopMost()||a.getOptions().Hash===!1)return;const Z=a.getCarousel();if(!Z)return;const{hash:ne,slug:ee}=Kz(),Se=a.getSlide();if(!Se)return;let ke=Se.fancybox||"",ye=parseInt(Se.index+"",10)+1;if(!ke)return;let be=`#${ke}-${ye}`;if(((($=(P=a.getCarousel())===null||P===void 0?void 0:P.getPages())===null||$===void 0?void 0:$.length)||0)<2&&(be=`#${ke}`),ne!==be&&(g=ne),history.scrollRestoration&&(u=history.scrollRestoration,history.scrollRestoration="manual"),Z.on("change",x),!Gz)if(ke===ee)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+be)}catch{}else try{window.history.pushState({},document.title,window.location.pathname+window.location.search+be),Xoe=!0}catch{}}function x(){if(!a||!a.isTopMost()||a.getOptions().Hash===!1)return;const{slug:P}=Kz(),$=a.getSlide();if(!$)return;let Z=$.fancybox||"",ne=`#${Z}-${$.index+1}`;if(Z===P){TL=!0;try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+ne)}catch{}TL=!1}}function D(){if(hee||!a||!a.isTopMost()||a.getOptions().Hash===!1)return;const P=a.getSlide();if(P&&P.fancybox){TL=!0;try{!Xoe||Gz||(function(){if(window.parent===window)return!1;try{var $=window.frameElement}catch{$=null}return $===null?location.protocol==="data:":$.hasAttribute("sandbox")})()?window.history.replaceState({},document.title,window.location.pathname+window.location.search+g):window.history.back()}catch{}TL=!1}}return{init:function(P){a=P,a.on("ready",b),a.on("close",D)},destroy:function(){a==null||a.off("ready",b),a==null||a.off("close",D);const P=a==null?void 0:a.getCarousel();P&&P.off("change",x),a=void 0,history.scrollRestoration&&u&&(history.scrollRestoration=u)}}};gee.startFromUrl=pte,gee.setup=function(a){U1||(U1=a,Jre()&&(/complete|interactive|loaded/.test(document.readyState)?Joe():document.addEventListener("DOMContentLoaded",Joe)))};/*! License details at fancyapps.com/license */const lue=Object.assign(Object.assign({},hte),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ELEMENT_NOT_FOUND:"HTML Element Not Found",IFRAME_ERROR:"Error Loading Page"});/*! License details at fancyapps.com/license */const oie='<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="M19.286 4.714 4.714 19.286M4.714 4.714l14.572 14.572" /></svg></button>';nie().add("close",{tpl:oie});const sie=a=>{a&&a.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:a}))},Qoe=(a=null,u="",g)=>{if(!a||!a.parentElement||!u)return void(g&&g());sie(a);const b=x=>{x.target===a&&a.dataset.animationName&&(a.removeEventListener("animationend",b),delete a.dataset.animationName,g&&g(),a.classList.remove(u))};a.dataset.animationName=u,a.addEventListener("animationend",b),wr(a,u)};var ll;(function(a){a[a.Init=0]="Init",a[a.Ready=1]="Ready",a[a.Closing=2]="Closing",a[a.Destroyed=3]="Destroyed"})(ll||(ll={}));const PL={ajax:null,backdropClick:"close",Carousel:{},closeButton:"auto",closeExisting:!1,delegateEl:void 0,dragToClose:!0,fadeEffect:!0,groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,id:void 0,idle:!1,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:lue,mainClass:"",mainStyle:{},mainTpl:`<dialog class="fancybox__dialog">
    <div class="fancybox__container" tabindex="0" aria-label="{{MODAL}}">
      <div class="fancybox__backdrop"></div>
      <div class="fancybox__carousel"></div>
    </div>
  </dialog>`,on:{},parentEl:void 0,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,sync:void 0,theme:"dark",triggerEl:void 0,triggerEvent:void 0,zoomEffect:!0},U0=new Map;let uue=0;const ese="with-fancybox",due=()=>{let a,u,g,b,x,D=ll.Init,P=Object.assign({},PL),$=-1,Z={},ne=[],ee=!1,Se=!0,ke=0;function ye(wt,...jt){let $n=P[wt];return $n&&typeof $n=="function"?$n(_o,...jt):$n}function be(wt,jt=[]){const $n=ye("l10n")||{};wt=String(wt).replace(/\{\{(\w+)\}\}/g,((ut,Xt)=>$n[Xt]||ut));for(let ut=0;ut<jt.length;ut++)wt=wt.split(jt[ut][0]).join(jt[ut][1]);return wt=wt.replace(/\{\{(.*?)\}\}/g,((ut,Xt)=>Xt))}const ve=new Map;function ue(wt,...jt){const $n=[...ve.get(wt)||[]];for(const[ut,Xt]of Object.entries(P.on||{}))(ut===wt||ut.split(" ").indexOf(wt)>-1)&&$n.push(Xt);for(const ut of $n)ut&&typeof ut=="function"&&ut(_o,...jt);wt!=="*"&&ue("*",wt,...jt)}function Be(wt=[],jt={}){D!==ll.Init&&(_o.destroy(),D=ll.Init),P=gm({},PL,jt),$=ye("id")||"fancybox-"+ ++uue;const $n=U0.get($);if($n&&$n.destroy(),U0.set($,_o),ue("init"),(function(){for(const[ut,Xt]of Object.entries(Object.assign(Object.assign({},Za.Plugins),P.plugins||{})))if(ut&&!Z[ut]&&Xt instanceof Function){const Lt=Xt();Lt.init(_o),Z[ut]=Lt}ue("initPlugins")})(),(function(ut=[]){ue("initSlides",ut),ne=[...ut]})(wt),(function(){const ut=ye("parentEl")||document.body;if(!(ut&&ut instanceof HTMLElement))return;const Xt=be(ye("mainTpl")||"");if(a=Mw(Xt)||void 0,!a||(u=a.querySelector(".fancybox__container"),!(u&&u instanceof HTMLElement)))return;const Lt=ye("mainClass");Lt&&wr(u,Lt);const Re=ye("mainStyle");if(Re&&Dd(Re))for(const[pe,at]of Object.entries(Re))u.style.setProperty(pe,at);const et=ye("theme"),St=et==="auto"?window.matchMedia("(prefers-color-scheme:light)").matches:et==="light";u.setAttribute("theme",St?"light":"dark"),a.setAttribute("id",`${$}`),a.addEventListener("keydown",(pe=>{pe.key==="Escape"&&pe.preventDefault()})),a.addEventListener("wheel",(pe=>{const at=pe.target;let Dt=ye("wheel",pe);at.closest(".f-thumbs")&&(Dt="slide");const Ht=Dt==="slide",st=[-pe.deltaX||0,-pe.deltaY||0,-pe.detail||0].reduce((function(So,wo){return Math.abs(wo)>Math.abs(So)?wo:So})),rt=Math.max(-1,Math.min(1,st)),ao=Date.now();ke&&ao-ke<300?Ht&&pe.preventDefault():(ke=ao,ue("wheel",pe,rt),pe.defaultPrevented||(Dt==="close"?rn(pe):Dt==="slide"&&b&&!bS(at)&&(pe.preventDefault(),b[rt>0?"prev":"next"]())))}),{capture:!0,passive:!1}),a.addEventListener("cancel",(pe=>{rn(pe)})),ut.append(a),U0.size===1&&(ye("hideScrollbar")&&Ioe(!0),document.documentElement.classList.add(ese)),a instanceof HTMLDialogElement&&a.showModal(),ue("initLayout")})(),(function(){if(g=(a==null?void 0:a.querySelector(".fancybox__carousel"))||void 0,!g)return;g.fancybox=_o;const ut=gm({},{Autoplay:{autoStart:!1,pauseOnHover:!1,progressbarParentEl:Xt=>{const Lt=Xt.getContainer();return(Lt==null?void 0:Lt.querySelector(".f-carousel__toolbar [data-autoplay-action]"))||Lt}},Fullscreen:{el:u},Toolbar:{absolute:!0,items:{counter:{tpl:'<div class="f-counter"><span data-fancybox-page></span>/<span data-fancybox-pages></span></div>'}},display:{left:["counter"],right:["toggleFull","autoplay","fullscreen","thumbs","close"]}},Video:{autoplay:!0},Thumbs:{minCount:2,Carousel:{classes:{container:"fancybox__thumbs"}}},classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",slide:"fancybox__slide"},spinnerTpl:'<div class="f-spinner" data-fancybox-close></div>',dragFree:!1,slidesPerPage:1,plugins:{Sync:Qre,Arrows:tue,Lazyload:eie,Zoomable:eue,Html:rue,Video:iue,Autoplay:oue,Fullscreen:aue,Thumbs:sue,Toolbar:nie}},ye("Carousel")||{},{slides:ne,enabled:!0,initialPage:ye("startIndex")||0,l10n:ye("l10n")});b=qz(g,ut),ue("initCarousel",b),b.on("*",((Xt,Lt,...Re)=>{ue(`Carousel.${Lt}`,Xt,...Re)})),b.on("attachSlideEl",oe),b.on("detachSlideEl",Oe),b.on("contentReady",ht),b.on("ready",k),b.on("change",Xe),b.on("settle",Ot),b.on("thumbs:ready",Je),b.on("thumbs:destroy",Je),b.init()})(),a&&u){if(ye("closeExisting"))for(const[ut,Xt]of U0.entries())ut!==$&&Xt.close();ye("fadeEffect")?(setTimeout((()=>{Le()}),500),wr(u,"is-revealing")):Le(),u.classList.add("is-ready"),D=ll.Ready,ue("ready")}}function Le(){z1(u,"is-revealing");try{document.activeElement===a&&((u==null?void 0:u.querySelector("[autofocus]"))||u).focus()}catch{}}function oe(wt,jt){var $n;B(jt),Ie(),($n=jt.el)===null||$n===void 0||$n.addEventListener("click",qe),jt.type!=="inline"&&jt.type!=="clone"||(function(ut){if(!b||!ut||!ut.el)return;let Xt=null;if(au(ut.src)){const Lt=ut.src.split("#",2).pop();Xt=Lt?document.getElementById(Lt):null}if(Xt){if(wr(Xt,"f-html"),ut.type==="clone"||Xt.closest(".fancybox__carousel")){Xt=Xt.cloneNode(!0);const Lt=Xt.dataset.animationName;Lt&&(Xt.classList.remove(Lt),delete Xt.dataset.animationName);let Re=Xt.getAttribute("id");Re=Re?`${Re}--clone`:`clone-${$}-${ut.index}`,Xt.setAttribute("id",Re)}else if(Xt.parentNode){const Lt=document.createElement("div");Lt.inert=!0,Xt.parentNode.insertBefore(Lt,Xt),ut.placeholderEl=Lt}ut.htmlEl=Xt,wr(ut.el,"has-html"),ut.el.prepend(Xt),Xt.classList.remove("hidden"),Xt.style.display==="none"&&(Xt.style.display=""),getComputedStyle(Xt).getPropertyValue("display")==="none"&&(Xt.style.display=Xt.dataset.display||"flex"),b==null||b.emit("contentReady",ut)}else b==null||b.showError(ut,"{{ELEMENT_NOT_FOUND}}")})(jt),jt.type==="ajax"&&(function(ut){const Xt=ut.el;if(!Xt||ut.htmlEl||ut.xhr)return;b==null||b.showLoading(ut),ut.state=0;const Lt=new XMLHttpRequest;Lt.onreadystatechange=function(){if(Lt.readyState===XMLHttpRequest.DONE&&D===ll.Ready)if(b==null||b.hideLoading(ut),ut.state=1,Lt.status===200){let et=Lt.responseText+"",St=null,pe=null;if(ut.filter){const at=document.createElement("div");at.innerHTML=et,pe=at.querySelector(ut.filter+"")}pe&&pe instanceof HTMLElement?St=pe:(St=document.createElement("div"),St.innerHTML=et),St.classList.add("f-html"),ut.htmlEl=St,Xt.classList.add("has-html"),Xt.classList.add("has-ajax"),Xt.prepend(St),b==null||b.emit("contentReady",ut)}else b==null||b.showError(ut)};const Re=ye("ajax")||null;Lt.open(Re?"POST":"GET",ut.src+""),Lt.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),Lt.setRequestHeader("X-Requested-With","XMLHttpRequest"),Lt.send(Re),ut.xhr=Lt})(jt)}function Oe(wt,jt){var $n;(function(ut){ut.closeButtonEl&&(ut.closeButtonEl.remove(),ut.closeButtonEl=void 0)})(jt),($n=jt.el)===null||$n===void 0||$n.removeEventListener("click",qe),jt.type!=="inline"&&jt.type!=="clone"||(function(ut){const Xt=ut.htmlEl,Lt=ut.placeholderEl;Xt&&(getComputedStyle(Xt).getPropertyValue("display")!=="none"&&(Xt.style.display="none"),Xt.offsetHeight),Lt&&(Xt&&Lt.parentNode&&Lt.parentNode.insertBefore(Xt,Lt),Lt.remove()),ut.htmlEl=void 0,ut.placeholderEl=void 0})(jt),jt.xhr&&(jt.xhr.abort(),jt.xhr=void 0)}function qe(wt){if(!Qe())return;if(D!==ll.Ready)return wt.preventDefault(),void wt.stopPropagation();if(wt.defaultPrevented||!eO.isClickAllowed())return;const jt=wt.composedPath()[0];jt.closest(".fancybox__carousel")&&jt.classList.contains("fancybox__slide")&&xe(wt)}function Xe(){Se=!1,u&&b&&u.classList.remove("is-revealing"),Ie();const wt=ye("sync");if(b&&wt){const jt=wt.getPageIndex(b.getPageIndex())||0;wt.goTo(jt,{transition:!1})}}function k(){var wt;if(D!==ll.Ready)return;Hn(ln()),(function(){if(!ye("dragToClose")||!b)return;const $n=b.getViewport();if(!$n)return;const ut=eO($n).init();if(!ut)return;let Xt=0,Lt=0,Re=Pw().on("step",(et=>{Xt=et.y;const St=b==null?void 0:b.getViewport();if(u&&St){const pe=mee(Math.abs(Xt),0,.5*St.getBoundingClientRect().height,1,.5);u.style.setProperty("--f-drag-opacity",pe+""),u.style.setProperty("--f-drag-offset",Xt+"px")}}));ut.on("start",(function(){Re.pause(),Lt=Xt})).on("panstart",(et=>{var St;const pe=et.srcEvent.target;pe&&!bS(pe)&&((St=b==null?void 0:b.getViewport())===null||St===void 0||St.classList.add("is-dragging"))})).on("pan",(function(et){const St=et.srcEvent.target;St&&bS(St)||b!=null&&b.getViewport()&&et.axis==="y"&&(Lt+=et.deltaY,Re.spring({clamp:!0,mass:1,tension:860,friction:17,restDelta:.01,restSpeed:.01}).from({y:Xt}).to({y:Lt}).start())})).on("end",(function(et){Re.pause(),et.axis==="y"&&Math.abs(et.velocityY)>5&&Math.abs(Lt)>0&&(rn(et.srcEvent,"f-throwOut"+(et.velocityY>0?"Down":"Up")),D===ll.Closing)||Xt!==0&&(Lt=0,Re.spring({clamp:!0,mass:1,tension:140,friction:25,restDelta:.1,restSpeed:.1,maxSpeed:1/0}).from({y:Xt}).to({y:0}).start())}))})(),document.body.addEventListener("click",Nt),document.body.addEventListener("keydown",Ct,{passive:!1,capture:!0}),Ie(),jo();const jt=ye("sync");jt&&((wt=jt.getTween())===null||wt===void 0||wt.start())}function Ot(){b!=null&&b.canGoNext()?jo():Tt()}function ht(wt,jt){B(jt),Hn(jt)}function Je(){var wt;const jt=b==null?void 0:b.getPlugins().Thumbs;Ad(u,"has-thumbs",(jt==null?void 0:jt.isEnabled())||!1),Ad(u,"has-vertical-thumbs",((wt=jt==null?void 0:jt.getCarousel())===null||wt===void 0?void 0:wt.isVertical())||!1)}function Ie(){if(u){const wt=(b==null?void 0:b.getPages())||[],jt=(b==null?void 0:b.getPageIndex())||0;for(const $n of u.querySelectorAll("[data-fancybox-index]"))$n.innerHTML=jt+"";for(const $n of u.querySelectorAll("[data-fancybox-page]"))$n.innerHTML=jt+1+"";for(const $n of u.querySelectorAll("[data-fancybox-pages]"))$n.innerHTML=wt.length+""}}function xe(wt){if(wt.composedPath()[0].closest("[data-fancybox-close]"))return void rn(wt);ue("backdropClick",wt),!wt.defaultPrevented&&ye("backdropClick")&&rn(wt)}function qt(){vo()}function Ct(wt){if(!Qe()||D!==ll.Ready)return;const jt=wt.key,$n=ye("keyboard");if(!$n||wt.ctrlKey||wt.altKey||wt.shiftKey)return;const ut=wt.composedPath()[0];if(!UA(ut)||jt!=="Escape"&&(Lt=>{const Re=["input","textarea","select","option","video","iframe","[contenteditable]","[data-selectable]","[data-draggable]"].join(",");return Lt.matches(Re)||Lt.closest(Re)})(ut)||(ue("keydown",wt),wt.defaultPrevented))return;const Xt=$n[jt];if(Xt)switch(Xt){case"close":rn(wt);break;case"next":wt.preventDefault(),b==null||b.next();break;case"prev":wt.preventDefault(),b==null||b.prev()}}function Nt(wt){if(!Qe()||D!==ll.Ready||(vo(),wt.defaultPrevented))return;const jt=wt.composedPath()[0],$n=!!jt.closest("[data-fancybox-close]"),ut=jt.classList.contains("fancybox__backdrop");($n||ut)&&xe(wt)}function B(wt){var jt;const{el:$n,htmlEl:ut,closeButtonEl:Xt}=wt;if(!$n||!ut||Xt)return;let Lt=ye("closeButton");if(Lt==="auto"&&(Lt=((jt=b==null?void 0:b.getPlugins().Toolbar)===null||jt===void 0?void 0:jt.isEnabled())!==!0),Lt){const Re=Mw(be(oie));Re&&(wr(Re,"is-close-button"),wt.closeButtonEl=ut.insertAdjacentElement("afterbegin",Re),$n.classList.add("has-close-btn"))}}function Hn(wt){if(!(Se&&b&&b.getState()===1&&wt&&wt.index===b.getOptions().initialPage&&wt.el&&wt.el.parentElement)||wt.state!==void 0&&wt.state!==1)return;Se=!1;const jt=wt.panzoomRef,$n=jt==null?void 0:jt.getTween(),ut=ye("zoomEffect")&&$n?Ue(wt):void 0;if(jt&&$n&&ut){const{x:Lt,y:Re,scale:et}=jt.getStartPosition();return void $n.spring({tension:215,friction:25,restDelta:.001,restSpeed:.001,maxSpeed:1/0}).from(ut).to({x:Lt,y:Re,scale:et}).start()}const Xt=(jt==null?void 0:jt.getContent())||wt.htmlEl;Xt&&Qoe(Xt,ye("showClass",wt))}function Qe(){var wt;return((wt=Za.getInstance())===null||wt===void 0?void 0:wt.getId())===$}function ln(){var wt;return(wt=b==null?void 0:b.getPage())===null||wt===void 0?void 0:wt.slides[0]}function $t(){const wt=ln();return wt?wt.triggerEl||ye("triggerEl"):void 0}function Ue(wt){var jt,$n;const ut=wt.thumbEl;if(!ut||!(Ht=>{const st=Ht.getBoundingClientRect(),rt=Ht.closest("[style]"),ao=rt==null?void 0:rt.parentElement;if(rt&&rt.style.transform&&ao){const Rn=ao.getBoundingClientRect();if(st.left<Rn.left||st.left>Rn.left+Rn.width-st.width||st.top<Rn.top||st.top>Rn.top+Rn.height-st.height)return!1}const So=Math.max(document.documentElement.clientHeight,window.innerHeight),wo=Math.max(document.documentElement.clientWidth,window.innerWidth);return!(st.bottom<0||st.top-So>=0||st.right<0||st.left-wo>=0)})(ut))return;const Xt=($n=(jt=wt.panzoomRef)===null||jt===void 0?void 0:jt.getWrapper())===null||$n===void 0?void 0:$n.getBoundingClientRect(),Lt=Xt==null?void 0:Xt.width,Re=Xt==null?void 0:Xt.height;if(!Lt||!Re)return;const et=ut.getBoundingClientRect();let St=et.width,pe=et.height,at=et.left,Dt=et.top;if(!(!et||!St||!pe)){if(ut instanceof HTMLImageElement){const Ht=window.getComputedStyle(ut).getPropertyValue("object-fit");if(Ht==="contain"||Ht==="scale-down"){const{width:st,height:rt}=((ao,So,wo,Rn,Zo="contain")=>{if(Zo==="contain"||ao>wo||So>Rn){const Vo=wo/ao,Oo=Rn/So,No=Math.min(Vo,Oo);ao*=No,So*=No}return{width:ao,height:So}})(ut.naturalWidth,ut.naturalHeight,St,pe,Ht);at+=.5*(St-st),Dt+=.5*(pe-rt),St=st,pe=rt}}if(!(Math.abs(Lt/Re-St/pe)>.1))return{x:at+.5*St-(Xt.left+.5*Lt),y:Dt+.5*pe-(Xt.top+.5*Re),scale:St/Lt}}}function Pn(){x&&clearTimeout(x),x=void 0,document.removeEventListener("mousemove",qt)}function jo(){if(ee||x)return;const wt=ye("idle");wt&&(x=setTimeout(ho,wt))}function ho(){u&&(Pn(),wr(u,"is-idle"),document.addEventListener("mousemove",qt),ee=!0)}function vo(){ee&&(Tt(),jo())}function Tt(){Pn(),u==null||u.classList.remove("is-idle"),ee=!1}function rn(wt,jt){var $n,ut,Xt,Lt,Re,et,St;if(D===ll.Closing||D===ll.Destroyed)return;const pe=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(ue("shouldClose",pe,wt),pe.defaultPrevented)return;if(Pn(),wt){if(wt.defaultPrevented)return;wt.cancelable&&wt.preventDefault(),wt.stopPropagation(),wt.stopImmediatePropagation()}if(D=ll.Closing,b){($n=b.getGestures())===null||$n===void 0||$n.destroy(),(ut=b.getTween())===null||ut===void 0||ut.pause();const Ht=ln(),st=Ht==null?void 0:Ht.panzoomRef;Ht&&st&&gm(st.getOptions(),{clickAction:!1,wheelAction:!1,bounds:!1,minScale:0,maxScale:1/0});for(const rt of b.getSlides())(Lt=(Xt=rt.panzoomRef)===null||Xt===void 0?void 0:Xt.getGestures())===null||Lt===void 0||Lt.destroy(),(et=(Re=rt.panzoomRef)===null||Re===void 0?void 0:Re.getTween())===null||et===void 0||et.pause()}const at=b==null?void 0:b.getPlugins();(St=at==null?void 0:at.Autoplay)===null||St===void 0||St.stop();const Dt=at==null?void 0:at.Fullscreen;Dt&&Dt.inFullscreen()?Promise.resolve(Dt.exit()).then((()=>{setTimeout((()=>{K(wt,jt)}),150)})):K(wt,jt)}function K(wt,jt){var $n,ut,Xt,Lt,Re;if(D!==ll.Closing)return;if(ue("close",wt),document.body.removeEventListener("click",Nt),document.body.removeEventListener("keydown",Ct,{passive:!1,capture:!0}),ye("placeFocusBack")){const rt=$t();!rt||(Re=rt.getBoundingClientRect()).bottom>0&&Re.right>0&&Re.left<(window.innerWidth||document.documentElement.clientWidth)&&Re.top<(window.innerHeight||document.documentElement.clientHeight)||rt.scrollIntoView({behavior:"instant",block:"center",inline:"center"})}ye("fadeEffect")&&(u==null||u.classList.remove("is-ready"),u==null||u.classList.add("is-hiding")),u==null||u.classList.add("is-closing");const et=ln(),St=et==null?void 0:et.panzoomRef,pe=($n=et==null?void 0:et.panzoomRef)===null||$n===void 0?void 0:$n.getTween(),at=jt||ye("hideClass");let Dt=!1,Ht=!1;if(b&&et&&St&&pe){let rt;ye("zoomEffect")&&(((Xt=(ut=b.getTween())===null||ut===void 0?void 0:ut.getCurrentVelocities())===null||Xt===void 0?void 0:Xt.pos)||0)<700&&et.state===1&&(rt=Ue(et)),rt&&(Dt=!0,b.on("refresh",(()=>{const ao=Ue(et);ao&&pe.to(Object.assign(Object.assign({},bp),ao))})),pe.easing(Pw.Easings.EaseOut).duration(350).from(Object.assign({},St.getTransform())).to(Object.assign(Object.assign({},bp),rt)).start())}const st=(et==null?void 0:et.htmlEl)||((Lt=et==null?void 0:et.panzoomRef)===null||Lt===void 0?void 0:Lt.getWrapper());st&&sie(st),!Dt&&at&&st&&(Ht=!0,Qoe(st,at,(()=>{dr()}))),Dt||Ht?setTimeout((()=>{dr()}),350):dr()}function dr(){var wt,jt,$n,ut,Xt;if(D===ll.Destroyed)return;D=ll.Destroyed;const Lt=$t();ue("destroy"),(jt=(wt=ye("sync"))===null||wt===void 0?void 0:wt.getPlugins().Autoplay)===null||jt===void 0||jt.resume(),(ut=($n=ye("sync"))===null||$n===void 0?void 0:$n.getPlugins().Autoscroll)===null||ut===void 0||ut.resume(),a instanceof HTMLDialogElement&&a.close(),(Xt=b==null?void 0:b.getContainer())===null||Xt===void 0||Xt.classList.remove("is-idle"),b==null||b.destroy();for(const Re of Object.values(Z))Re==null||Re.destroy();if(Z={},a==null||a.remove(),a=void 0,u=void 0,b=void 0,U0.delete($),!U0.size&&(Ioe(!1),document.documentElement.classList.remove(ese),ye("placeFocusBack")))try{Lt==null||Lt.focus({preventScroll:!0})}catch{}}const _o={close:rn,destroy:dr,getCarousel:function(){return b},getContainer:function(){return u},getId:function(){return $},getOptions:function(){return P},getPlugins:function(){return Z},getSlide:function(){return ln()},getState:function(){return D},init:function(wt=[],jt={}){return Be(wt,jt),_o},isCurrentSlide:function(wt){const jt=ln();return!(!wt||!jt)&&jt.index===wt.index},isTopMost:function(){return Qe()},off:function(wt,jt){return ve.has(wt)&&ve.set(wt,ve.get(wt).filter(($n=>$n!==jt))),_o},on:function(wt,jt){return ve.set(wt,[...ve.get(wt)||[],jt]),_o},toggleIdle(wt){(ee||wt===!0)&&ho(),ee&&wt!==!1||Tt()}};return _o},Za={Plugins:{Hash:gee},version:"6.0.32",openers:new Map,bind:function(a,u,g){if(!Jre())return;let b=document.body,x="[data-fancybox]",D={};if(au(a)?(b=document.body,x=a,typeof u=="object"&&(D=u||{})):a instanceof Element&&(b=a,au(u)&&(x=u),typeof g=="object"&&(D=g||{})),!(b&&b instanceof Element&&x))return!1;const P=Za.openers.get(b)||new Map;if(P.set(x,D),Za.openers.set(b,P),P.size===1){b.addEventListener("click",Za.fromEvent);for(const $ of Object.values(Za.Plugins)){const Z=$.setup;typeof Z=="function"&&Z(Za)}}return!0},close:function(a=!0,...u){if(a)for(const g of U0.values())g.close(...u);else{const g=Za.getInstance();g&&g.close(...u)}},destroy:function(){let a;for(;a=Za.getInstance();)a.destroy();for(const u of Za.openers.keys())u.removeEventListener("click",Za.fromEvent);Za.openers.clear()},fromEvent:function(a){var u,g,b;if(a.defaultPrevented||a.button&&a.button!==0||a.ctrlKey||a.metaKey||a.shiftKey)return;let x=a.composedPath()[0];if(x.closest(".fancybox__container.is-hiding"))return a.preventDefault(),void a.stopPropagation();const D=x.closest("[data-fancybox-delegate]")||void 0;if(D){const ue=D.dataset.fancyboxDelegate||"",Be=document.querySelectorAll(`[data-fancybox="${ue}"]`);x=Be[parseInt(D.dataset.fancyboxIndex||"",10)||0]||Be[0]}if(!(x&&x instanceof Element))return;let P,$,Z={};for(const[ue,Be]of Za.openers)if(Be&&ue.contains(x))for(const[Le,oe]of Be){let Oe=null;try{Oe=x.closest(Le)}catch{}Oe&&(x=Oe,P=ue,$=Le,gm(Z,oe||{}))}if(!P||!$)return;a.preventDefault();const ne=gm({},PL,{triggerEvent:a,triggerEl:x,delegateEl:D},Z),ee=ne.groupAll,Se=ne.groupAttr,ke=Se&&x?x.getAttribute(`${Se}`):"";let ye=[];const be=(u=x.closest(".f-carousel"))===null||u===void 0?void 0:u.carousel;if(be){const ue=[];for(const Be of be==null?void 0:be.getSlides()){const Le=Be.el;Le&&(Le.matches($)?ue.push(Le):ue.push(...[].slice.call(Le.querySelectorAll($))))}ue.length&&(ye=[...ue],(g=be.getPlugins().Autoplay)===null||g===void 0||g.pause(),(b=be.getPlugins().Autoscroll)===null||b===void 0||b.pause(),ne.sync=be)}else(!x||ke||ee)&&(ye=[].slice.call(P.querySelectorAll($)));if(x&&!ee&&(ye=Se&&ke?ye.filter((ue=>ue.getAttribute(`${Se}`)===ke)):[x]),!ye.length)return;const ve=Za.getInstance();if(ve){const ue=ve.getOptions().triggerEl;if(ue&&ye.indexOf(ue)>-1)return}return Object.assign({},ne.Carousel||{}).rtl&&(ye=ye.reverse()),x&&(ne.startIndex=ye.indexOf(x)),Za.fromNodes(ye,ne)},fromNodes:function(a,u){u=gm({},PL,u||{});const g=[],b=x=>x instanceof HTMLImageElement?x:x instanceof HTMLElement?x.querySelector("img:not([aria-hidden])"):void 0;for(const x of a){const D=x.dataset||{},P=u.delegateEl&&a.indexOf(x)===u.startIndex?u.delegateEl:void 0,$=b(P)||b(x)||void 0,Z=D.src||x.getAttribute("href")||x.getAttribute("currentSrc")||x.getAttribute("src")||void 0,ne=D.thumb||D.thumbSrc||($==null?void 0:$.getAttribute("currentSrc"))||($==null?void 0:$.getAttribute("src"))||($==null?void 0:$.dataset.lazySrc)||void 0,ee={src:Z,alt:D.alt||($==null?void 0:$.getAttribute("alt"))||void 0,thumbSrc:ne,thumbEl:$,triggerEl:x,delegateEl:P};for(const Se in D){let ke=D[Se]+"";ke=ke!=="false"&&(ke==="true"||ke),ee[Se]=ke}g.push(ee)}return Za.show(g,u)},fromSelector:function(a,u,g){let b=document.body,x="",D={};if(au(a)?x=a:a instanceof Element&&(b=a,au(u)&&(x=u),typeof g=="object"&&(D=g||{})),!(b&&b instanceof Element&&x))return;const P=Za.openers.get(b);return P?(D=gm({},P.get(x)||{},D),D?Za.fromNodes(Array.from(b.querySelectorAll(x)),D):void 0):void 0},getCarousel:function(){var a;return((a=Za.getInstance())===null||a===void 0?void 0:a.getCarousel())||void 0},getDefaults:function(){return PL},getInstance:function(a){if(a){const u=U0.get(a);return u&&u.getState()!==ll.Destroyed?u:void 0}return Array.from(U0.values()).reverse().find((u=>{if(u.getState()!==ll.Destroyed)return u}))||void 0},getSlide:function(){var a;return((a=Za.getInstance())===null||a===void 0?void 0:a.getSlide())||void 0},show:function(a=[],u={}){return due().init(a,u)},unbind:function(a,u){let g=document.body,b="";if(au(a)?b=a:a instanceof Element&&(g=a,au(u)&&(b=u)),g){const x=Za.openers.get(g);x&&b&&x.delete(b),x!=null&&x.size&&b||Za.openers.delete(g),g.removeEventListener("click",Za.fromEvent)}}};function rie(a,u){return function(){return a.apply(u,arguments)}}const{toString:fue}=Object.prototype,{getPrototypeOf:vte}=Object,{iterator:nV,toStringTag:iie}=Symbol,oV=(a=>u=>{const g=fue.call(u);return a[g]||(a[g]=g.slice(8,-1).toLowerCase())})(Object.create(null)),wp=a=>(a=a.toLowerCase(),u=>oV(u)===a),sV=a=>u=>typeof u===a,{isArray:sO}=Array,tO=sV("undefined");function qL(a){return a!==null&&!tO(a)&&a.constructor!==null&&!tO(a.constructor)&&bm(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const aie=wp("ArrayBuffer");function mue(a){let u;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?u=ArrayBuffer.isView(a):u=a&&a.buffer&&aie(a.buffer),u}const hue=sV("string"),bm=sV("function"),cie=sV("number"),GL=a=>a!==null&&typeof a=="object",gue=a=>a===!0||a===!1,vz=a=>{if(oV(a)!=="object")return!1;const u=vte(a);return(u===null||u===Object.prototype||Object.getPrototypeOf(u)===null)&&!(iie in a)&&!(nV in a)},pue=a=>{if(!GL(a)||qL(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},vue=wp("Date"),bue=wp("File"),yue=wp("Blob"),wue=wp("FileList"),Cue=a=>GL(a)&&bm(a.pipe),xue=a=>{let u;return a&&(typeof FormData=="function"&&a instanceof FormData||bm(a.append)&&((u=oV(a))==="formdata"||u==="object"&&bm(a.toString)&&a.toString()==="[object FormData]"))},Sue=wp("URLSearchParams"),[Eue,_ue,Tue,kue]=["ReadableStream","Request","Response","Headers"].map(wp),Aue=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function KL(a,u,{allOwnKeys:g=!1}={}){if(a===null||typeof a>"u")return;let b,x;if(typeof a!="object"&&(a=[a]),sO(a))for(b=0,x=a.length;b<x;b++)u.call(null,a[b],b,a);else{if(qL(a))return;const D=g?Object.getOwnPropertyNames(a):Object.keys(a),P=D.length;let $;for(b=0;b<P;b++)$=D[b],u.call(null,a[$],$,a)}}function lie(a,u){if(qL(a))return null;u=u.toLowerCase();const g=Object.keys(a);let b=g.length,x;for(;b-- >0;)if(x=g[b],u===x.toLowerCase())return x;return null}const gS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uie=a=>!tO(a)&&a!==gS;function pee(){const{caseless:a,skipUndefined:u}=uie(this)&&this||{},g={},b=(x,D)=>{const P=a&&lie(g,D)||D;vz(g[P])&&vz(x)?g[P]=pee(g[P],x):vz(x)?g[P]=pee({},x):sO(x)?g[P]=x.slice():(!u||!tO(x))&&(g[P]=x)};for(let x=0,D=arguments.length;x<D;x++)arguments[x]&&KL(arguments[x],b);return g}const Oue=(a,u,g,{allOwnKeys:b}={})=>(KL(u,(x,D)=>{g&&bm(x)?a[D]=rie(x,g):a[D]=x},{allOwnKeys:b}),a),Due=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),Rue=(a,u,g,b)=>{a.prototype=Object.create(u.prototype,b),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:u.prototype}),g&&Object.assign(a.prototype,g)},Mue=(a,u,g,b)=>{let x,D,P;const $={};if(u=u||{},a==null)return u;do{for(x=Object.getOwnPropertyNames(a),D=x.length;D-- >0;)P=x[D],(!b||b(P,a,u))&&!$[P]&&(u[P]=a[P],$[P]=!0);a=g!==!1&&vte(a)}while(a&&(!g||g(a,u))&&a!==Object.prototype);return u},Pue=(a,u,g)=>{a=String(a),(g===void 0||g>a.length)&&(g=a.length),g-=u.length;const b=a.indexOf(u,g);return b!==-1&&b===g},Lue=a=>{if(!a)return null;if(sO(a))return a;let u=a.length;if(!cie(u))return null;const g=new Array(u);for(;u-- >0;)g[u]=a[u];return g},Nue=(a=>u=>a&&u instanceof a)(typeof Uint8Array<"u"&&vte(Uint8Array)),Iue=(a,u)=>{const b=(a&&a[nV]).call(a);let x;for(;(x=b.next())&&!x.done;){const D=x.value;u.call(a,D[0],D[1])}},Bue=(a,u)=>{let g;const b=[];for(;(g=a.exec(u))!==null;)b.push(g);return b},$ue=wp("HTMLFormElement"),Fue=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(g,b,x){return b.toUpperCase()+x}),tse=(({hasOwnProperty:a})=>(u,g)=>a.call(u,g))(Object.prototype),Hue=wp("RegExp"),die=(a,u)=>{const g=Object.getOwnPropertyDescriptors(a),b={};KL(g,(x,D)=>{let P;(P=u(x,D,a))!==!1&&(b[D]=P||x)}),Object.defineProperties(a,b)},zue=a=>{die(a,(u,g)=>{if(bm(a)&&["arguments","caller","callee"].indexOf(g)!==-1)return!1;const b=a[g];if(bm(b)){if(u.enumerable=!1,"writable"in u){u.writable=!1;return}u.set||(u.set=()=>{throw Error("Can not rewrite read-only method '"+g+"'")})}})},Vue=(a,u)=>{const g={},b=x=>{x.forEach(D=>{g[D]=!0})};return sO(a)?b(a):b(String(a).split(u)),g},Uue=()=>{},Wue=(a,u)=>a!=null&&Number.isFinite(a=+a)?a:u;function jue(a){return!!(a&&bm(a.append)&&a[iie]==="FormData"&&a[nV])}const Zue=a=>{const u=new Array(10),g=(b,x)=>{if(GL(b)){if(u.indexOf(b)>=0)return;if(qL(b))return b;if(!("toJSON"in b)){u[x]=b;const D=sO(b)?[]:{};return KL(b,(P,$)=>{const Z=g(P,x+1);!tO(Z)&&(D[$]=Z)}),u[x]=void 0,D}}return b};return g(a,0)},que=wp("AsyncFunction"),Gue=a=>a&&(GL(a)||bm(a))&&bm(a.then)&&bm(a.catch),fie=((a,u)=>a?setImmediate:u?((g,b)=>(gS.addEventListener("message",({source:x,data:D})=>{x===gS&&D===g&&b.length&&b.shift()()},!1),x=>{b.push(x),gS.postMessage(g,"*")}))(`axios@${Math.random()}`,[]):g=>setTimeout(g))(typeof setImmediate=="function",bm(gS.postMessage)),Kue=typeof queueMicrotask<"u"?queueMicrotask.bind(gS):typeof process<"u"&&process.nextTick||fie,Yue=a=>a!=null&&bm(a[nV]),an={isArray:sO,isArrayBuffer:aie,isBuffer:qL,isFormData:xue,isArrayBufferView:mue,isString:hue,isNumber:cie,isBoolean:gue,isObject:GL,isPlainObject:vz,isEmptyObject:pue,isReadableStream:Eue,isRequest:_ue,isResponse:Tue,isHeaders:kue,isUndefined:tO,isDate:vue,isFile:bue,isBlob:yue,isRegExp:Hue,isFunction:bm,isStream:Cue,isURLSearchParams:Sue,isTypedArray:Nue,isFileList:wue,forEach:KL,merge:pee,extend:Oue,trim:Aue,stripBOM:Due,inherits:Rue,toFlatObject:Mue,kindOf:oV,kindOfTest:wp,endsWith:Pue,toArray:Lue,forEachEntry:Iue,matchAll:Bue,isHTMLForm:$ue,hasOwnProperty:tse,hasOwnProp:tse,reduceDescriptors:die,freezeMethods:zue,toObjectSet:Vue,toCamelCase:Fue,noop:Uue,toFiniteNumber:Wue,findKey:lie,global:gS,isContextDefined:uie,isSpecCompliantForm:jue,toJSONObject:Zue,isAsyncFn:que,isThenable:Gue,setImmediate:fie,asap:Kue,isIterable:Yue};function ar(a,u,g,b,x){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",u&&(this.code=u),g&&(this.config=g),b&&(this.request=b),x&&(this.response=x,this.status=x.status?x.status:null)}an.inherits(ar,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:an.toJSONObject(this.config),code:this.code,status:this.status}}});const mie=ar.prototype,hie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{hie[a]={value:a}});Object.defineProperties(ar,hie);Object.defineProperty(mie,"isAxiosError",{value:!0});ar.from=(a,u,g,b,x,D)=>{const P=Object.create(mie);an.toFlatObject(a,P,function(ee){return ee!==Error.prototype},ne=>ne!=="isAxiosError");const $=a&&a.message?a.message:"Error",Z=u==null&&a?a.code:u;return ar.call(P,$,Z,g,b,x),a&&P.cause==null&&Object.defineProperty(P,"cause",{value:a,configurable:!0}),P.name=a&&a.name||"Error",D&&Object.assign(P,D),P};const Xue=null;function vee(a){return an.isPlainObject(a)||an.isArray(a)}function gie(a){return an.endsWith(a,"[]")?a.slice(0,-2):a}function nse(a,u,g){return a?a.concat(u).map(function(x,D){return x=gie(x),!g&&D?"["+x+"]":x}).join(g?".":""):u}function Jue(a){return an.isArray(a)&&!a.some(vee)}const Que=an.toFlatObject(an,{},null,function(u){return/^is[A-Z]/.test(u)});function rV(a,u,g){if(!an.isObject(a))throw new TypeError("target must be an object");u=u||new FormData,g=an.toFlatObject(g,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ve,ue){return!an.isUndefined(ue[ve])});const b=g.metaTokens,x=g.visitor||ee,D=g.dots,P=g.indexes,Z=(g.Blob||typeof Blob<"u"&&Blob)&&an.isSpecCompliantForm(u);if(!an.isFunction(x))throw new TypeError("visitor must be a function");function ne(be){if(be===null)return"";if(an.isDate(be))return be.toISOString();if(an.isBoolean(be))return be.toString();if(!Z&&an.isBlob(be))throw new ar("Blob is not supported. Use a Buffer instead.");return an.isArrayBuffer(be)||an.isTypedArray(be)?Z&&typeof Blob=="function"?new Blob([be]):Buffer.from(be):be}function ee(be,ve,ue){let Be=be;if(be&&!ue&&typeof be=="object"){if(an.endsWith(ve,"{}"))ve=b?ve:ve.slice(0,-2),be=JSON.stringify(be);else if(an.isArray(be)&&Jue(be)||(an.isFileList(be)||an.endsWith(ve,"[]"))&&(Be=an.toArray(be)))return ve=gie(ve),Be.forEach(function(oe,Oe){!(an.isUndefined(oe)||oe===null)&&u.append(P===!0?nse([ve],Oe,D):P===null?ve:ve+"[]",ne(oe))}),!1}return vee(be)?!0:(u.append(nse(ue,ve,D),ne(be)),!1)}const Se=[],ke=Object.assign(Que,{defaultVisitor:ee,convertValue:ne,isVisitable:vee});function ye(be,ve){if(!an.isUndefined(be)){if(Se.indexOf(be)!==-1)throw Error("Circular reference detected in "+ve.join("."));Se.push(be),an.forEach(be,function(Be,Le){(!(an.isUndefined(Be)||Be===null)&&x.call(u,Be,an.isString(Le)?Le.trim():Le,ve,ke))===!0&&ye(Be,ve?ve.concat(Le):[Le])}),Se.pop()}}if(!an.isObject(a))throw new TypeError("data must be an object");return ye(a),u}function ose(a){const u={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(b){return u[b]})}function bte(a,u){this._pairs=[],a&&rV(a,this,u)}const pie=bte.prototype;pie.append=function(u,g){this._pairs.push([u,g])};pie.toString=function(u){const g=u?function(b){return u.call(this,b,ose)}:ose;return this._pairs.map(function(x){return g(x[0])+"="+g(x[1])},"").join("&")};function ede(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vie(a,u,g){if(!u)return a;const b=g&&g.encode||ede;an.isFunction(g)&&(g={serialize:g});const x=g&&g.serialize;let D;if(x?D=x(u,g):D=an.isURLSearchParams(u)?u.toString():new bte(u,g).toString(b),D){const P=a.indexOf("#");P!==-1&&(a=a.slice(0,P)),a+=(a.indexOf("?")===-1?"?":"&")+D}return a}class sse{constructor(){this.handlers=[]}use(u,g,b){return this.handlers.push({fulfilled:u,rejected:g,synchronous:b?b.synchronous:!1,runWhen:b?b.runWhen:null}),this.handlers.length-1}eject(u){this.handlers[u]&&(this.handlers[u]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(u){an.forEach(this.handlers,function(b){b!==null&&u(b)})}}const bie={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tde=typeof URLSearchParams<"u"?URLSearchParams:bte,nde=typeof FormData<"u"?FormData:null,ode=typeof Blob<"u"?Blob:null,sde={isBrowser:!0,classes:{URLSearchParams:tde,FormData:nde,Blob:ode},protocols:["http","https","file","blob","url","data"]},yte=typeof window<"u"&&typeof document<"u",bee=typeof navigator=="object"&&navigator||void 0,rde=yte&&(!bee||["ReactNative","NativeScript","NS"].indexOf(bee.product)<0),ide=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ade=yte&&window.location.href||"http://localhost",cde=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yte,hasStandardBrowserEnv:rde,hasStandardBrowserWebWorkerEnv:ide,navigator:bee,origin:ade},Symbol.toStringTag,{value:"Module"})),Od={...cde,...sde};function lde(a,u){return rV(a,new Od.classes.URLSearchParams,{visitor:function(g,b,x,D){return Od.isNode&&an.isBuffer(g)?(this.append(b,g.toString("base64")),!1):D.defaultVisitor.apply(this,arguments)},...u})}function ude(a){return an.matchAll(/\w+|\[(\w*)]/g,a).map(u=>u[0]==="[]"?"":u[1]||u[0])}function dde(a){const u={},g=Object.keys(a);let b;const x=g.length;let D;for(b=0;b<x;b++)D=g[b],u[D]=a[D];return u}function yie(a){function u(g,b,x,D){let P=g[D++];if(P==="__proto__")return!0;const $=Number.isFinite(+P),Z=D>=g.length;return P=!P&&an.isArray(x)?x.length:P,Z?(an.hasOwnProp(x,P)?x[P]=[x[P],b]:x[P]=b,!$):((!x[P]||!an.isObject(x[P]))&&(x[P]=[]),u(g,b,x[P],D)&&an.isArray(x[P])&&(x[P]=dde(x[P])),!$)}if(an.isFormData(a)&&an.isFunction(a.entries)){const g={};return an.forEachEntry(a,(b,x)=>{u(ude(b),x,g,0)}),g}return null}function fde(a,u,g){if(an.isString(a))try{return(u||JSON.parse)(a),an.trim(a)}catch(b){if(b.name!=="SyntaxError")throw b}return(g||JSON.stringify)(a)}const YL={transitional:bie,adapter:["xhr","http","fetch"],transformRequest:[function(u,g){const b=g.getContentType()||"",x=b.indexOf("application/json")>-1,D=an.isObject(u);if(D&&an.isHTMLForm(u)&&(u=new FormData(u)),an.isFormData(u))return x?JSON.stringify(yie(u)):u;if(an.isArrayBuffer(u)||an.isBuffer(u)||an.isStream(u)||an.isFile(u)||an.isBlob(u)||an.isReadableStream(u))return u;if(an.isArrayBufferView(u))return u.buffer;if(an.isURLSearchParams(u))return g.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),u.toString();let $;if(D){if(b.indexOf("application/x-www-form-urlencoded")>-1)return lde(u,this.formSerializer).toString();if(($=an.isFileList(u))||b.indexOf("multipart/form-data")>-1){const Z=this.env&&this.env.FormData;return rV($?{"files[]":u}:u,Z&&new Z,this.formSerializer)}}return D||x?(g.setContentType("application/json",!1),fde(u)):u}],transformResponse:[function(u){const g=this.transitional||YL.transitional,b=g&&g.forcedJSONParsing,x=this.responseType==="json";if(an.isResponse(u)||an.isReadableStream(u))return u;if(u&&an.isString(u)&&(b&&!this.responseType||x)){const P=!(g&&g.silentJSONParsing)&&x;try{return JSON.parse(u,this.parseReviver)}catch($){if(P)throw $.name==="SyntaxError"?ar.from($,ar.ERR_BAD_RESPONSE,this,null,this.response):$}}return u}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Od.classes.FormData,Blob:Od.classes.Blob},validateStatus:function(u){return u>=200&&u<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};an.forEach(["delete","get","head","post","put","patch"],a=>{YL.headers[a]={}});const mde=an.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hde=a=>{const u={};let g,b,x;return a&&a.split(`
`).forEach(function(P){x=P.indexOf(":"),g=P.substring(0,x).trim().toLowerCase(),b=P.substring(x+1).trim(),!(!g||u[g]&&mde[g])&&(g==="set-cookie"?u[g]?u[g].push(b):u[g]=[b]:u[g]=u[g]?u[g]+", "+b:b)}),u},rse=Symbol("internals");function CL(a){return a&&String(a).trim().toLowerCase()}function bz(a){return a===!1||a==null?a:an.isArray(a)?a.map(bz):String(a)}function gde(a){const u=Object.create(null),g=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let b;for(;b=g.exec(a);)u[b[1]]=b[2];return u}const pde=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function qQ(a,u,g,b,x){if(an.isFunction(b))return b.call(this,u,g);if(x&&(u=g),!!an.isString(u)){if(an.isString(b))return u.indexOf(b)!==-1;if(an.isRegExp(b))return b.test(u)}}function vde(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(u,g,b)=>g.toUpperCase()+b)}function bde(a,u){const g=an.toCamelCase(" "+u);["get","set","has"].forEach(b=>{Object.defineProperty(a,b+g,{value:function(x,D,P){return this[b].call(this,u,x,D,P)},configurable:!0})})}let ym=class{constructor(u){u&&this.set(u)}set(u,g,b){const x=this;function D($,Z,ne){const ee=CL(Z);if(!ee)throw new Error("header name must be a non-empty string");const Se=an.findKey(x,ee);(!Se||x[Se]===void 0||ne===!0||ne===void 0&&x[Se]!==!1)&&(x[Se||Z]=bz($))}const P=($,Z)=>an.forEach($,(ne,ee)=>D(ne,ee,Z));if(an.isPlainObject(u)||u instanceof this.constructor)P(u,g);else if(an.isString(u)&&(u=u.trim())&&!pde(u))P(hde(u),g);else if(an.isObject(u)&&an.isIterable(u)){let $={},Z,ne;for(const ee of u){if(!an.isArray(ee))throw TypeError("Object iterator must return a key-value pair");$[ne=ee[0]]=(Z=$[ne])?an.isArray(Z)?[...Z,ee[1]]:[Z,ee[1]]:ee[1]}P($,g)}else u!=null&&D(g,u,b);return this}get(u,g){if(u=CL(u),u){const b=an.findKey(this,u);if(b){const x=this[b];if(!g)return x;if(g===!0)return gde(x);if(an.isFunction(g))return g.call(this,x,b);if(an.isRegExp(g))return g.exec(x);throw new TypeError("parser must be boolean|regexp|function")}}}has(u,g){if(u=CL(u),u){const b=an.findKey(this,u);return!!(b&&this[b]!==void 0&&(!g||qQ(this,this[b],b,g)))}return!1}delete(u,g){const b=this;let x=!1;function D(P){if(P=CL(P),P){const $=an.findKey(b,P);$&&(!g||qQ(b,b[$],$,g))&&(delete b[$],x=!0)}}return an.isArray(u)?u.forEach(D):D(u),x}clear(u){const g=Object.keys(this);let b=g.length,x=!1;for(;b--;){const D=g[b];(!u||qQ(this,this[D],D,u,!0))&&(delete this[D],x=!0)}return x}normalize(u){const g=this,b={};return an.forEach(this,(x,D)=>{const P=an.findKey(b,D);if(P){g[P]=bz(x),delete g[D];return}const $=u?vde(D):String(D).trim();$!==D&&delete g[D],g[$]=bz(x),b[$]=!0}),this}concat(...u){return this.constructor.concat(this,...u)}toJSON(u){const g=Object.create(null);return an.forEach(this,(b,x)=>{b!=null&&b!==!1&&(g[x]=u&&an.isArray(b)?b.join(", "):b)}),g}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([u,g])=>u+": "+g).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(u){return u instanceof this?u:new this(u)}static concat(u,...g){const b=new this(u);return g.forEach(x=>b.set(x)),b}static accessor(u){const b=(this[rse]=this[rse]={accessors:{}}).accessors,x=this.prototype;function D(P){const $=CL(P);b[$]||(bde(x,P),b[$]=!0)}return an.isArray(u)?u.forEach(D):D(u),this}};ym.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);an.reduceDescriptors(ym.prototype,({value:a},u)=>{let g=u[0].toUpperCase()+u.slice(1);return{get:()=>a,set(b){this[g]=b}}});an.freezeMethods(ym);function GQ(a,u){const g=this||YL,b=u||g,x=ym.from(b.headers);let D=b.data;return an.forEach(a,function($){D=$.call(g,D,x.normalize(),u?u.status:void 0)}),x.normalize(),D}function wie(a){return!!(a&&a.__CANCEL__)}function rO(a,u,g){ar.call(this,a??"canceled",ar.ERR_CANCELED,u,g),this.name="CanceledError"}an.inherits(rO,ar,{__CANCEL__:!0});function Cie(a,u,g){const b=g.config.validateStatus;!g.status||!b||b(g.status)?a(g):u(new ar("Request failed with status code "+g.status,[ar.ERR_BAD_REQUEST,ar.ERR_BAD_RESPONSE][Math.floor(g.status/100)-4],g.config,g.request,g))}function yde(a){const u=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return u&&u[1]||""}function wde(a,u){a=a||10;const g=new Array(a),b=new Array(a);let x=0,D=0,P;return u=u!==void 0?u:1e3,function(Z){const ne=Date.now(),ee=b[D];P||(P=ne),g[x]=Z,b[x]=ne;let Se=D,ke=0;for(;Se!==x;)ke+=g[Se++],Se=Se%a;if(x=(x+1)%a,x===D&&(D=(D+1)%a),ne-P<u)return;const ye=ee&&ne-ee;return ye?Math.round(ke*1e3/ye):void 0}}function Cde(a,u){let g=0,b=1e3/u,x,D;const P=(ne,ee=Date.now())=>{g=ee,x=null,D&&(clearTimeout(D),D=null),a(...ne)};return[(...ne)=>{const ee=Date.now(),Se=ee-g;Se>=b?P(ne,ee):(x=ne,D||(D=setTimeout(()=>{D=null,P(x)},b-Se)))},()=>x&&P(x)]}const Yz=(a,u,g=3)=>{let b=0;const x=wde(50,250);return Cde(D=>{const P=D.loaded,$=D.lengthComputable?D.total:void 0,Z=P-b,ne=x(Z),ee=P<=$;b=P;const Se={loaded:P,total:$,progress:$?P/$:void 0,bytes:Z,rate:ne||void 0,estimated:ne&&$&&ee?($-P)/ne:void 0,event:D,lengthComputable:$!=null,[u?"download":"upload"]:!0};a(Se)},g)},ise=(a,u)=>{const g=a!=null;return[b=>u[0]({lengthComputable:g,total:a,loaded:b}),u[1]]},ase=a=>(...u)=>an.asap(()=>a(...u)),xde=Od.hasStandardBrowserEnv?((a,u)=>g=>(g=new URL(g,Od.origin),a.protocol===g.protocol&&a.host===g.host&&(u||a.port===g.port)))(new URL(Od.origin),Od.navigator&&/(msie|trident)/i.test(Od.navigator.userAgent)):()=>!0,Sde=Od.hasStandardBrowserEnv?{write(a,u,g,b,x,D){const P=[a+"="+encodeURIComponent(u)];an.isNumber(g)&&P.push("expires="+new Date(g).toGMTString()),an.isString(b)&&P.push("path="+b),an.isString(x)&&P.push("domain="+x),D===!0&&P.push("secure"),document.cookie=P.join("; ")},read(a){const u=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ede(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function _de(a,u){return u?a.replace(/\/?\/$/,"")+"/"+u.replace(/^\/+/,""):a}function xie(a,u,g){let b=!Ede(u);return a&&(b||g==!1)?_de(a,u):u}const cse=a=>a instanceof ym?{...a}:a;function TS(a,u){u=u||{};const g={};function b(ne,ee,Se,ke){return an.isPlainObject(ne)&&an.isPlainObject(ee)?an.merge.call({caseless:ke},ne,ee):an.isPlainObject(ee)?an.merge({},ee):an.isArray(ee)?ee.slice():ee}function x(ne,ee,Se,ke){if(an.isUndefined(ee)){if(!an.isUndefined(ne))return b(void 0,ne,Se,ke)}else return b(ne,ee,Se,ke)}function D(ne,ee){if(!an.isUndefined(ee))return b(void 0,ee)}function P(ne,ee){if(an.isUndefined(ee)){if(!an.isUndefined(ne))return b(void 0,ne)}else return b(void 0,ee)}function $(ne,ee,Se){if(Se in u)return b(ne,ee);if(Se in a)return b(void 0,ne)}const Z={url:D,method:D,data:D,baseURL:P,transformRequest:P,transformResponse:P,paramsSerializer:P,timeout:P,timeoutMessage:P,withCredentials:P,withXSRFToken:P,adapter:P,responseType:P,xsrfCookieName:P,xsrfHeaderName:P,onUploadProgress:P,onDownloadProgress:P,decompress:P,maxContentLength:P,maxBodyLength:P,beforeRedirect:P,transport:P,httpAgent:P,httpsAgent:P,cancelToken:P,socketPath:P,responseEncoding:P,validateStatus:$,headers:(ne,ee,Se)=>x(cse(ne),cse(ee),Se,!0)};return an.forEach(Object.keys({...a,...u}),function(ee){const Se=Z[ee]||x,ke=Se(a[ee],u[ee],ee);an.isUndefined(ke)&&Se!==$||(g[ee]=ke)}),g}const Sie=a=>{const u=TS({},a);let{data:g,withXSRFToken:b,xsrfHeaderName:x,xsrfCookieName:D,headers:P,auth:$}=u;if(u.headers=P=ym.from(P),u.url=vie(xie(u.baseURL,u.url,u.allowAbsoluteUrls),a.params,a.paramsSerializer),$&&P.set("Authorization","Basic "+btoa(($.username||"")+":"+($.password?unescape(encodeURIComponent($.password)):""))),an.isFormData(g)){if(Od.hasStandardBrowserEnv||Od.hasStandardBrowserWebWorkerEnv)P.setContentType(void 0);else if(an.isFunction(g.getHeaders)){const Z=g.getHeaders(),ne=["content-type","content-length"];Object.entries(Z).forEach(([ee,Se])=>{ne.includes(ee.toLowerCase())&&P.set(ee,Se)})}}if(Od.hasStandardBrowserEnv&&(b&&an.isFunction(b)&&(b=b(u)),b||b!==!1&&xde(u.url))){const Z=x&&D&&Sde.read(D);Z&&P.set(x,Z)}return u},Tde=typeof XMLHttpRequest<"u",kde=Tde&&function(a){return new Promise(function(g,b){const x=Sie(a);let D=x.data;const P=ym.from(x.headers).normalize();let{responseType:$,onUploadProgress:Z,onDownloadProgress:ne}=x,ee,Se,ke,ye,be;function ve(){ye&&ye(),be&&be(),x.cancelToken&&x.cancelToken.unsubscribe(ee),x.signal&&x.signal.removeEventListener("abort",ee)}let ue=new XMLHttpRequest;ue.open(x.method.toUpperCase(),x.url,!0),ue.timeout=x.timeout;function Be(){if(!ue)return;const oe=ym.from("getAllResponseHeaders"in ue&&ue.getAllResponseHeaders()),qe={data:!$||$==="text"||$==="json"?ue.responseText:ue.response,status:ue.status,statusText:ue.statusText,headers:oe,config:a,request:ue};Cie(function(k){g(k),ve()},function(k){b(k),ve()},qe),ue=null}"onloadend"in ue?ue.onloadend=Be:ue.onreadystatechange=function(){!ue||ue.readyState!==4||ue.status===0&&!(ue.responseURL&&ue.responseURL.indexOf("file:")===0)||setTimeout(Be)},ue.onabort=function(){ue&&(b(new ar("Request aborted",ar.ECONNABORTED,a,ue)),ue=null)},ue.onerror=function(Oe){const qe=Oe&&Oe.message?Oe.message:"Network Error",Xe=new ar(qe,ar.ERR_NETWORK,a,ue);Xe.event=Oe||null,b(Xe),ue=null},ue.ontimeout=function(){let Oe=x.timeout?"timeout of "+x.timeout+"ms exceeded":"timeout exceeded";const qe=x.transitional||bie;x.timeoutErrorMessage&&(Oe=x.timeoutErrorMessage),b(new ar(Oe,qe.clarifyTimeoutError?ar.ETIMEDOUT:ar.ECONNABORTED,a,ue)),ue=null},D===void 0&&P.setContentType(null),"setRequestHeader"in ue&&an.forEach(P.toJSON(),function(Oe,qe){ue.setRequestHeader(qe,Oe)}),an.isUndefined(x.withCredentials)||(ue.withCredentials=!!x.withCredentials),$&&$!=="json"&&(ue.responseType=x.responseType),ne&&([ke,be]=Yz(ne,!0),ue.addEventListener("progress",ke)),Z&&ue.upload&&([Se,ye]=Yz(Z),ue.upload.addEventListener("progress",Se),ue.upload.addEventListener("loadend",ye)),(x.cancelToken||x.signal)&&(ee=oe=>{ue&&(b(!oe||oe.type?new rO(null,a,ue):oe),ue.abort(),ue=null)},x.cancelToken&&x.cancelToken.subscribe(ee),x.signal&&(x.signal.aborted?ee():x.signal.addEventListener("abort",ee)));const Le=yde(x.url);if(Le&&Od.protocols.indexOf(Le)===-1){b(new ar("Unsupported protocol "+Le+":",ar.ERR_BAD_REQUEST,a));return}ue.send(D||null)})},Ade=(a,u)=>{const{length:g}=a=a?a.filter(Boolean):[];if(u||g){let b=new AbortController,x;const D=function(ne){if(!x){x=!0,$();const ee=ne instanceof Error?ne:this.reason;b.abort(ee instanceof ar?ee:new rO(ee instanceof Error?ee.message:ee))}};let P=u&&setTimeout(()=>{P=null,D(new ar(`timeout ${u} of ms exceeded`,ar.ETIMEDOUT))},u);const $=()=>{a&&(P&&clearTimeout(P),P=null,a.forEach(ne=>{ne.unsubscribe?ne.unsubscribe(D):ne.removeEventListener("abort",D)}),a=null)};a.forEach(ne=>ne.addEventListener("abort",D));const{signal:Z}=b;return Z.unsubscribe=()=>an.asap($),Z}},Ode=function*(a,u){let g=a.byteLength;if(g<u){yield a;return}let b=0,x;for(;b<g;)x=b+u,yield a.slice(b,x),b=x},Dde=async function*(a,u){for await(const g of Rde(a))yield*Ode(g,u)},Rde=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const u=a.getReader();try{for(;;){const{done:g,value:b}=await u.read();if(g)break;yield b}}finally{await u.cancel()}},lse=(a,u,g,b)=>{const x=Dde(a,u);let D=0,P,$=Z=>{P||(P=!0,b&&b(Z))};return new ReadableStream({async pull(Z){try{const{done:ne,value:ee}=await x.next();if(ne){$(),Z.close();return}let Se=ee.byteLength;if(g){let ke=D+=Se;g(ke)}Z.enqueue(new Uint8Array(ee))}catch(ne){throw $(ne),ne}},cancel(Z){return $(Z),x.return()}},{highWaterMark:2})},use=64*1024,{isFunction:cz}=an,Mde=(({Request:a,Response:u})=>({Request:a,Response:u}))(an.global),{ReadableStream:dse,TextEncoder:fse}=an.global,mse=(a,...u)=>{try{return!!a(...u)}catch{return!1}},Pde=a=>{a=an.merge.call({skipUndefined:!0},Mde,a);const{fetch:u,Request:g,Response:b}=a,x=u?cz(u):typeof fetch=="function",D=cz(g),P=cz(b);if(!x)return!1;const $=x&&cz(dse),Z=x&&(typeof fse=="function"?(be=>ve=>be.encode(ve))(new fse):async be=>new Uint8Array(await new g(be).arrayBuffer())),ne=D&&$&&mse(()=>{let be=!1;const ve=new g(Od.origin,{body:new dse,method:"POST",get duplex(){return be=!0,"half"}}).headers.has("Content-Type");return be&&!ve}),ee=P&&$&&mse(()=>an.isReadableStream(new b("").body)),Se={stream:ee&&(be=>be.body)};x&&["text","arrayBuffer","blob","formData","stream"].forEach(be=>{!Se[be]&&(Se[be]=(ve,ue)=>{let Be=ve&&ve[be];if(Be)return Be.call(ve);throw new ar(`Response type '${be}' is not supported`,ar.ERR_NOT_SUPPORT,ue)})});const ke=async be=>{if(be==null)return 0;if(an.isBlob(be))return be.size;if(an.isSpecCompliantForm(be))return(await new g(Od.origin,{method:"POST",body:be}).arrayBuffer()).byteLength;if(an.isArrayBufferView(be)||an.isArrayBuffer(be))return be.byteLength;if(an.isURLSearchParams(be)&&(be=be+""),an.isString(be))return(await Z(be)).byteLength},ye=async(be,ve)=>{const ue=an.toFiniteNumber(be.getContentLength());return ue??ke(ve)};return async be=>{let{url:ve,method:ue,data:Be,signal:Le,cancelToken:oe,timeout:Oe,onDownloadProgress:qe,onUploadProgress:Xe,responseType:k,headers:Ot,withCredentials:ht="same-origin",fetchOptions:Je}=Sie(be),Ie=u||fetch;k=k?(k+"").toLowerCase():"text";let xe=Ade([Le,oe&&oe.toAbortSignal()],Oe),qt=null;const Ct=xe&&xe.unsubscribe&&(()=>{xe.unsubscribe()});let Nt;try{if(Xe&&ne&&ue!=="get"&&ue!=="head"&&(Nt=await ye(Ot,Be))!==0){let Ue=new g(ve,{method:"POST",body:Be,duplex:"half"}),Pn;if(an.isFormData(Be)&&(Pn=Ue.headers.get("content-type"))&&Ot.setContentType(Pn),Ue.body){const[jo,ho]=ise(Nt,Yz(ase(Xe)));Be=lse(Ue.body,use,jo,ho)}}an.isString(ht)||(ht=ht?"include":"omit");const B=D&&"credentials"in g.prototype,Hn={...Je,signal:xe,method:ue.toUpperCase(),headers:Ot.normalize().toJSON(),body:Be,duplex:"half",credentials:B?ht:void 0};qt=D&&new g(ve,Hn);let Qe=await(D?Ie(qt,Je):Ie(ve,Hn));const ln=ee&&(k==="stream"||k==="response");if(ee&&(qe||ln&&Ct)){const Ue={};["status","statusText","headers"].forEach(vo=>{Ue[vo]=Qe[vo]});const Pn=an.toFiniteNumber(Qe.headers.get("content-length")),[jo,ho]=qe&&ise(Pn,Yz(ase(qe),!0))||[];Qe=new b(lse(Qe.body,use,jo,()=>{ho&&ho(),Ct&&Ct()}),Ue)}k=k||"text";let $t=await Se[an.findKey(Se,k)||"text"](Qe,be);return!ln&&Ct&&Ct(),await new Promise((Ue,Pn)=>{Cie(Ue,Pn,{data:$t,headers:ym.from(Qe.headers),status:Qe.status,statusText:Qe.statusText,config:be,request:qt})})}catch(B){throw Ct&&Ct(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new ar("Network Error",ar.ERR_NETWORK,be,qt),{cause:B.cause||B}):ar.from(B,B&&B.code,be,qt)}}},Lde=new Map,Eie=a=>{let u=a?a.env:{};const{fetch:g,Request:b,Response:x}=u,D=[b,x,g];let P=D.length,$=P,Z,ne,ee=Lde;for(;$--;)Z=D[$],ne=ee.get(Z),ne===void 0&&ee.set(Z,ne=$?new Map:Pde(u)),ee=ne;return ne};Eie();const yee={http:Xue,xhr:kde,fetch:{get:Eie}};an.forEach(yee,(a,u)=>{if(a){try{Object.defineProperty(a,"name",{value:u})}catch{}Object.defineProperty(a,"adapterName",{value:u})}});const hse=a=>`- ${a}`,Nde=a=>an.isFunction(a)||a===null||a===!1,_ie={getAdapter:(a,u)=>{a=an.isArray(a)?a:[a];const{length:g}=a;let b,x;const D={};for(let P=0;P<g;P++){b=a[P];let $;if(x=b,!Nde(b)&&(x=yee[($=String(b)).toLowerCase()],x===void 0))throw new ar(`Unknown adapter '${$}'`);if(x&&(an.isFunction(x)||(x=x.get(u))))break;D[$||"#"+P]=x}if(!x){const P=Object.entries(D).map(([Z,ne])=>`adapter ${Z} `+(ne===!1?"is not supported by the environment":"is not available in the build"));let $=g?P.length>1?`since :
`+P.map(hse).join(`
`):" "+hse(P[0]):"as no adapter specified";throw new ar("There is no suitable adapter to dispatch the request "+$,"ERR_NOT_SUPPORT")}return x},adapters:yee};function KQ(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new rO(null,a)}function gse(a){return KQ(a),a.headers=ym.from(a.headers),a.data=GQ.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),_ie.getAdapter(a.adapter||YL.adapter,a)(a).then(function(b){return KQ(a),b.data=GQ.call(a,a.transformResponse,b),b.headers=ym.from(b.headers),b},function(b){return wie(b)||(KQ(a),b&&b.response&&(b.response.data=GQ.call(a,a.transformResponse,b.response),b.response.headers=ym.from(b.response.headers))),Promise.reject(b)})}const Tie="1.12.2",iV={};["object","boolean","number","function","string","symbol"].forEach((a,u)=>{iV[a]=function(b){return typeof b===a||"a"+(u<1?"n ":" ")+a}});const pse={};iV.transitional=function(u,g,b){function x(D,P){return"[Axios v"+Tie+"] Transitional option '"+D+"'"+P+(b?". "+b:"")}return(D,P,$)=>{if(u===!1)throw new ar(x(P," has been removed"+(g?" in "+g:"")),ar.ERR_DEPRECATED);return g&&!pse[P]&&(pse[P]=!0,console.warn(x(P," has been deprecated since v"+g+" and will be removed in the near future"))),u?u(D,P,$):!0}};iV.spelling=function(u){return(g,b)=>(console.warn(`${b} is likely a misspelling of ${u}`),!0)};function Ide(a,u,g){if(typeof a!="object")throw new ar("options must be an object",ar.ERR_BAD_OPTION_VALUE);const b=Object.keys(a);let x=b.length;for(;x-- >0;){const D=b[x],P=u[D];if(P){const $=a[D],Z=$===void 0||P($,D,a);if(Z!==!0)throw new ar("option "+D+" must be "+Z,ar.ERR_BAD_OPTION_VALUE);continue}if(g!==!0)throw new ar("Unknown option "+D,ar.ERR_BAD_OPTION)}}const yz={assertOptions:Ide,validators:iV},H1=yz.validators;let yS=class{constructor(u){this.defaults=u||{},this.interceptors={request:new sse,response:new sse}}async request(u,g){try{return await this._request(u,g)}catch(b){if(b instanceof Error){let x={};Error.captureStackTrace?Error.captureStackTrace(x):x=new Error;const D=x.stack?x.stack.replace(/^.+\n/,""):"";try{b.stack?D&&!String(b.stack).endsWith(D.replace(/^.+\n.+\n/,""))&&(b.stack+=`
`+D):b.stack=D}catch{}}throw b}}_request(u,g){typeof u=="string"?(g=g||{},g.url=u):g=u||{},g=TS(this.defaults,g);const{transitional:b,paramsSerializer:x,headers:D}=g;b!==void 0&&yz.assertOptions(b,{silentJSONParsing:H1.transitional(H1.boolean),forcedJSONParsing:H1.transitional(H1.boolean),clarifyTimeoutError:H1.transitional(H1.boolean)},!1),x!=null&&(an.isFunction(x)?g.paramsSerializer={serialize:x}:yz.assertOptions(x,{encode:H1.function,serialize:H1.function},!0)),g.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?g.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:g.allowAbsoluteUrls=!0),yz.assertOptions(g,{baseUrl:H1.spelling("baseURL"),withXsrfToken:H1.spelling("withXSRFToken")},!0),g.method=(g.method||this.defaults.method||"get").toLowerCase();let P=D&&an.merge(D.common,D[g.method]);D&&an.forEach(["delete","get","head","post","put","patch","common"],be=>{delete D[be]}),g.headers=ym.concat(P,D);const $=[];let Z=!0;this.interceptors.request.forEach(function(ve){typeof ve.runWhen=="function"&&ve.runWhen(g)===!1||(Z=Z&&ve.synchronous,$.unshift(ve.fulfilled,ve.rejected))});const ne=[];this.interceptors.response.forEach(function(ve){ne.push(ve.fulfilled,ve.rejected)});let ee,Se=0,ke;if(!Z){const be=[gse.bind(this),void 0];for(be.unshift(...$),be.push(...ne),ke=be.length,ee=Promise.resolve(g);Se<ke;)ee=ee.then(be[Se++],be[Se++]);return ee}ke=$.length;let ye=g;for(;Se<ke;){const be=$[Se++],ve=$[Se++];try{ye=be(ye)}catch(ue){ve.call(this,ue);break}}try{ee=gse.call(this,ye)}catch(be){return Promise.reject(be)}for(Se=0,ke=ne.length;Se<ke;)ee=ee.then(ne[Se++],ne[Se++]);return ee}getUri(u){u=TS(this.defaults,u);const g=xie(u.baseURL,u.url,u.allowAbsoluteUrls);return vie(g,u.params,u.paramsSerializer)}};an.forEach(["delete","get","head","options"],function(u){yS.prototype[u]=function(g,b){return this.request(TS(b||{},{method:u,url:g,data:(b||{}).data}))}});an.forEach(["post","put","patch"],function(u){function g(b){return function(D,P,$){return this.request(TS($||{},{method:u,headers:b?{"Content-Type":"multipart/form-data"}:{},url:D,data:P}))}}yS.prototype[u]=g(),yS.prototype[u+"Form"]=g(!0)});let Bde=class kie{constructor(u){if(typeof u!="function")throw new TypeError("executor must be a function.");let g;this.promise=new Promise(function(D){g=D});const b=this;this.promise.then(x=>{if(!b._listeners)return;let D=b._listeners.length;for(;D-- >0;)b._listeners[D](x);b._listeners=null}),this.promise.then=x=>{let D;const P=new Promise($=>{b.subscribe($),D=$}).then(x);return P.cancel=function(){b.unsubscribe(D)},P},u(function(D,P,$){b.reason||(b.reason=new rO(D,P,$),g(b.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(u){if(this.reason){u(this.reason);return}this._listeners?this._listeners.push(u):this._listeners=[u]}unsubscribe(u){if(!this._listeners)return;const g=this._listeners.indexOf(u);g!==-1&&this._listeners.splice(g,1)}toAbortSignal(){const u=new AbortController,g=b=>{u.abort(b)};return this.subscribe(g),u.signal.unsubscribe=()=>this.unsubscribe(g),u.signal}static source(){let u;return{token:new kie(function(x){u=x}),cancel:u}}};function $de(a){return function(g){return a.apply(null,g)}}function Fde(a){return an.isObject(a)&&a.isAxiosError===!0}const wee={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wee).forEach(([a,u])=>{wee[u]=a});function Aie(a){const u=new yS(a),g=rie(yS.prototype.request,u);return an.extend(g,yS.prototype,u,{allOwnKeys:!0}),an.extend(g,u,null,{allOwnKeys:!0}),g.create=function(x){return Aie(TS(a,x))},g}const qc=Aie(YL);qc.Axios=yS;qc.CanceledError=rO;qc.CancelToken=Bde;qc.isCancel=wie;qc.VERSION=Tie;qc.toFormData=rV;qc.AxiosError=ar;qc.Cancel=qc.CanceledError;qc.all=function(u){return Promise.all(u)};qc.spread=$de;qc.isAxiosError=Fde;qc.mergeConfig=TS;qc.AxiosHeaders=ym;qc.formToJSON=a=>yie(an.isHTMLForm(a)?new FormData(a):a);qc.getAdapter=_ie.getAdapter;qc.HttpStatusCode=wee;qc.default=qc;const{Axios:Che,AxiosError:xhe,CanceledError:She,isCancel:Ehe,CancelToken:_he,VERSION:The,all:khe,Cancel:Ahe,isAxiosError:Ohe,spread:Dhe,toFormData:Rhe,AxiosHeaders:Mhe,HttpStatusCode:Phe,formToJSON:Lhe,getAdapter:Nhe,mergeConfig:Ihe}=qc;window.axios=qc;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Cee=!1,xee=!1,wS=[],See=-1;function Hde(a){zde(a)}function zde(a){wS.includes(a)||wS.push(a),Ude()}function Vde(a){let u=wS.indexOf(a);u!==-1&&u>See&&wS.splice(u,1)}function Ude(){!xee&&!Cee&&(Cee=!0,queueMicrotask(Wde))}function Wde(){Cee=!1,xee=!0;for(let a=0;a<wS.length;a++)wS[a](),See=a;wS.length=0,See=-1,xee=!1}var iO,RS,aO,Oie,Eee=!0;function jde(a){Eee=!1,a(),Eee=!0}function Zde(a){iO=a.reactive,aO=a.release,RS=u=>a.effect(u,{scheduler:g=>{Eee?Hde(g):g()}}),Oie=a.raw}function vse(a){RS=a}function qde(a){let u=()=>{};return[b=>{let x=RS(b);return a._x_effects||(a._x_effects=new Set,a._x_runEffects=()=>{a._x_effects.forEach(D=>D())}),a._x_effects.add(x),u=()=>{x!==void 0&&(a._x_effects.delete(x),aO(x))},x},()=>{u()}]}function Die(a,u){let g=!0,b,x=RS(()=>{let D=a();JSON.stringify(D),g?b=D:queueMicrotask(()=>{u(D,b),b=D}),g=!1});return()=>aO(x)}var Rie=[],Mie=[],Pie=[];function Gde(a){Pie.push(a)}function wte(a,u){typeof u=="function"?(a._x_cleanups||(a._x_cleanups=[]),a._x_cleanups.push(u)):(u=a,Mie.push(u))}function Lie(a){Rie.push(a)}function Nie(a,u,g){a._x_attributeCleanups||(a._x_attributeCleanups={}),a._x_attributeCleanups[u]||(a._x_attributeCleanups[u]=[]),a._x_attributeCleanups[u].push(g)}function Iie(a,u){a._x_attributeCleanups&&Object.entries(a._x_attributeCleanups).forEach(([g,b])=>{(u===void 0||u.includes(g))&&(b.forEach(x=>x()),delete a._x_attributeCleanups[g])})}function Kde(a){var u,g;for((u=a._x_effects)==null||u.forEach(Vde);(g=a._x_cleanups)!=null&&g.length;)a._x_cleanups.pop()()}var Cte=new MutationObserver(_te),xte=!1;function Ste(){Cte.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),xte=!0}function Bie(){Yde(),Cte.disconnect(),xte=!1}var xL=[];function Yde(){let a=Cte.takeRecords();xL.push(()=>a.length>0&&_te(a));let u=xL.length;queueMicrotask(()=>{if(xL.length===u)for(;xL.length>0;)xL.shift()()})}function oc(a){if(!xte)return a();Bie();let u=a();return Ste(),u}var Ete=!1,Xz=[];function Xde(){Ete=!0}function Jde(){Ete=!1,_te(Xz),Xz=[]}function _te(a){if(Ete){Xz=Xz.concat(a);return}let u=[],g=new Set,b=new Map,x=new Map;for(let D=0;D<a.length;D++)if(!a[D].target._x_ignoreMutationObserver&&(a[D].type==="childList"&&(a[D].removedNodes.forEach(P=>{P.nodeType===1&&P._x_marker&&g.add(P)}),a[D].addedNodes.forEach(P=>{if(P.nodeType===1){if(g.has(P)){g.delete(P);return}P._x_marker||u.push(P)}})),a[D].type==="attributes")){let P=a[D].target,$=a[D].attributeName,Z=a[D].oldValue,ne=()=>{b.has(P)||b.set(P,[]),b.get(P).push({name:$,value:P.getAttribute($)})},ee=()=>{x.has(P)||x.set(P,[]),x.get(P).push($)};P.hasAttribute($)&&Z===null?ne():P.hasAttribute($)?(ee(),ne()):ee()}x.forEach((D,P)=>{Iie(P,D)}),b.forEach((D,P)=>{Rie.forEach($=>$(P,D))});for(let D of g)u.some(P=>P.contains(D))||Mie.forEach(P=>P(D));for(let D of u)D.isConnected&&Pie.forEach(P=>P(D));u=null,g=null,b=null,x=null}function $ie(a){return JL(nO(a))}function XL(a,u,g){return a._x_dataStack=[u,...nO(g||a)],()=>{a._x_dataStack=a._x_dataStack.filter(b=>b!==u)}}function nO(a){return a._x_dataStack?a._x_dataStack:typeof ShadowRoot=="function"&&a instanceof ShadowRoot?nO(a.host):a.parentNode?nO(a.parentNode):[]}function JL(a){return new Proxy({objects:a},Qde)}var Qde={ownKeys({objects:a}){return Array.from(new Set(a.flatMap(u=>Object.keys(u))))},has({objects:a},u){return u==Symbol.unscopables?!1:a.some(g=>Object.prototype.hasOwnProperty.call(g,u)||Reflect.has(g,u))},get({objects:a},u,g){return u=="toJSON"?efe:Reflect.get(a.find(b=>Reflect.has(b,u))||{},u,g)},set({objects:a},u,g,b){const x=a.find(P=>Object.prototype.hasOwnProperty.call(P,u))||a[a.length-1],D=Object.getOwnPropertyDescriptor(x,u);return D!=null&&D.set&&(D!=null&&D.get)?D.set.call(b,g)||!0:Reflect.set(x,u,g)}};function efe(){return Reflect.ownKeys(this).reduce((u,g)=>(u[g]=Reflect.get(this,g),u),{})}function Fie(a){let u=b=>typeof b=="object"&&!Array.isArray(b)&&b!==null,g=(b,x="")=>{Object.entries(Object.getOwnPropertyDescriptors(b)).forEach(([D,{value:P,enumerable:$}])=>{if($===!1||P===void 0||typeof P=="object"&&P!==null&&P.__v_skip)return;let Z=x===""?D:`${x}.${D}`;typeof P=="object"&&P!==null&&P._x_interceptor?b[D]=P.initialize(a,Z,D):u(P)&&P!==b&&!(P instanceof Element)&&g(P,Z)})};return g(a)}function Hie(a,u=()=>{}){let g={initialValue:void 0,_x_interceptor:!0,initialize(b,x,D){return a(this.initialValue,()=>tfe(b,x),P=>_ee(b,x,P),x,D)}};return u(g),b=>{if(typeof b=="object"&&b!==null&&b._x_interceptor){let x=g.initialize.bind(g);g.initialize=(D,P,$)=>{let Z=b.initialize(D,P,$);return g.initialValue=Z,x(D,P,$)}}else g.initialValue=b;return g}}function tfe(a,u){return u.split(".").reduce((g,b)=>g[b],a)}function _ee(a,u,g){if(typeof u=="string"&&(u=u.split(".")),u.length===1)a[u[0]]=g;else{if(u.length===0)throw error;return a[u[0]]||(a[u[0]]={}),_ee(a[u[0]],u.slice(1),g)}}var zie={};function Cp(a,u){zie[a]=u}function Tee(a,u){let g=nfe(u);return Object.entries(zie).forEach(([b,x])=>{Object.defineProperty(a,`$${b}`,{get(){return x(u,g)},enumerable:!1})}),a}function nfe(a){let[u,g]=qie(a),b={interceptor:Hie,...u};return wte(a,g),b}function ofe(a,u,g,...b){try{return g(...b)}catch(x){VL(x,a,u)}}function VL(a,u,g=void 0){a=Object.assign(a??{message:"No error message given."},{el:u,expression:g}),console.warn(`Alpine Expression Error: ${a.message}

${g?'Expression: "'+g+`"

`:""}`,u),setTimeout(()=>{throw a},0)}var wz=!0;function Vie(a){let u=wz;wz=!1;let g=a();return wz=u,g}function CS(a,u,g={}){let b;return Cf(a,u)(x=>b=x,g),b}function Cf(...a){return Uie(...a)}var Uie=Wie;function sfe(a){Uie=a}function Wie(a,u){let g={};Tee(g,a);let b=[g,...nO(a)],x=typeof u=="function"?rfe(b,u):afe(b,u,a);return ofe.bind(null,a,u,x)}function rfe(a,u){return(g=()=>{},{scope:b={},params:x=[],context:D}={})=>{let P=u.apply(JL([b,...a]),x);Jz(g,P)}}var YQ={};function ife(a,u){if(YQ[a])return YQ[a];let g=Object.getPrototypeOf(async function(){}).constructor,b=/^[\n\s]*if.*\(.*\)/.test(a.trim())||/^(let|const)\s/.test(a.trim())?`(async()=>{ ${a} })()`:a,D=(()=>{try{let P=new g(["__self","scope"],`with (scope) { __self.result = ${b} }; __self.finished = true; return __self.result;`);return Object.defineProperty(P,"name",{value:`[Alpine] ${a}`}),P}catch(P){return VL(P,u,a),Promise.resolve()}})();return YQ[a]=D,D}function afe(a,u,g){let b=ife(u,g);return(x=()=>{},{scope:D={},params:P=[],context:$}={})=>{b.result=void 0,b.finished=!1;let Z=JL([D,...a]);if(typeof b=="function"){let ne=b.call($,b,Z).catch(ee=>VL(ee,g,u));b.finished?(Jz(x,b.result,Z,P,g),b.result=void 0):ne.then(ee=>{Jz(x,ee,Z,P,g)}).catch(ee=>VL(ee,g,u)).finally(()=>b.result=void 0)}}}function Jz(a,u,g,b,x){if(wz&&typeof u=="function"){let D=u.apply(g,b);D instanceof Promise?D.then(P=>Jz(a,P,g,b)).catch(P=>VL(P,x,u)):a(D)}else typeof u=="object"&&u instanceof Promise?u.then(D=>a(D)):a(u)}var Tte="x-";function cO(a=""){return Tte+a}function cfe(a){Tte=a}var Qz={};function ul(a,u){return Qz[a]=u,{before(g){if(!Qz[g]){console.warn(String.raw`Cannot find directive \`${g}\`. \`${a}\` will use the default order of execution`);return}const b=pS.indexOf(g);pS.splice(b>=0?b:pS.indexOf("DEFAULT"),0,a)}}}function lfe(a){return Object.keys(Qz).includes(a)}function kte(a,u,g){if(u=Array.from(u),a._x_virtualDirectives){let D=Object.entries(a._x_virtualDirectives).map(([$,Z])=>({name:$,value:Z})),P=jie(D);D=D.map($=>P.find(Z=>Z.name===$.name)?{name:`x-bind:${$.name}`,value:`"${$.value}"`}:$),u=u.concat(D)}let b={};return u.map(Yie((D,P)=>b[D]=P)).filter(Jie).map(ffe(b,g)).sort(mfe).map(D=>dfe(a,D))}function jie(a){return Array.from(a).map(Yie()).filter(u=>!Jie(u))}var kee=!1,kL=new Map,Zie=Symbol();function ufe(a){kee=!0;let u=Symbol();Zie=u,kL.set(u,[]);let g=()=>{for(;kL.get(u).length;)kL.get(u).shift()();kL.delete(u)},b=()=>{kee=!1,g()};a(g),b()}function qie(a){let u=[],g=$=>u.push($),[b,x]=qde(a);return u.push(x),[{Alpine:QL,effect:b,cleanup:g,evaluateLater:Cf.bind(Cf,a),evaluate:CS.bind(CS,a)},()=>u.forEach($=>$())]}function dfe(a,u){let g=()=>{},b=Qz[u.type]||g,[x,D]=qie(a);Nie(a,u.original,D);let P=()=>{a._x_ignore||a._x_ignoreSelf||(b.inline&&b.inline(a,u,x),b=b.bind(b,a,u,x),kee?kL.get(Zie).push(b):b())};return P.runCleanups=D,P}var Gie=(a,u)=>({name:g,value:b})=>(g.startsWith(a)&&(g=g.replace(a,u)),{name:g,value:b}),Kie=a=>a;function Yie(a=()=>{}){return({name:u,value:g})=>{let{name:b,value:x}=Xie.reduce((D,P)=>P(D),{name:u,value:g});return b!==u&&a(b,u),{name:b,value:x}}}var Xie=[];function Ate(a){Xie.push(a)}function Jie({name:a}){return Qie().test(a)}var Qie=()=>new RegExp(`^${Tte}([^:^.]+)\\b`);function ffe(a,u){return({name:g,value:b})=>{let x=g.match(Qie()),D=g.match(/:([a-zA-Z0-9\-_:]+)/),P=g.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],$=u||a[g]||g;return{type:x?x[1]:null,value:D?D[1]:null,modifiers:P.map(Z=>Z.replace(".","")),expression:b,original:$}}}var Aee="DEFAULT",pS=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Aee,"teleport"];function mfe(a,u){let g=pS.indexOf(a.type)===-1?Aee:a.type,b=pS.indexOf(u.type)===-1?Aee:u.type;return pS.indexOf(g)-pS.indexOf(b)}function LL(a,u,g={}){a.dispatchEvent(new CustomEvent(u,{detail:g,bubbles:!0,composed:!0,cancelable:!0}))}function kS(a,u){if(typeof ShadowRoot=="function"&&a instanceof ShadowRoot){Array.from(a.children).forEach(x=>kS(x,u));return}let g=!1;if(u(a,()=>g=!0),g)return;let b=a.firstElementChild;for(;b;)kS(b,u),b=b.nextElementSibling}function Jh(a,...u){console.warn(`Alpine Warning: ${a}`,...u)}var bse=!1;function hfe(){bse&&Jh("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),bse=!0,document.body||Jh("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),LL(document,"alpine:init"),LL(document,"alpine:initializing"),Ste(),Gde(u=>q0(u,kS)),wte(u=>uO(u)),Lie((u,g)=>{kte(u,g).forEach(b=>b())});let a=u=>!aV(u.parentElement,!0);Array.from(document.querySelectorAll(nae().join(","))).filter(a).forEach(u=>{q0(u)}),LL(document,"alpine:initialized"),setTimeout(()=>{bfe()})}var Ote=[],eae=[];function tae(){return Ote.map(a=>a())}function nae(){return Ote.concat(eae).map(a=>a())}function oae(a){Ote.push(a)}function sae(a){eae.push(a)}function aV(a,u=!1){return lO(a,g=>{if((u?nae():tae()).some(x=>g.matches(x)))return!0})}function lO(a,u){if(a){if(u(a))return a;if(a._x_teleportBack&&(a=a._x_teleportBack),!!a.parentElement)return lO(a.parentElement,u)}}function gfe(a){return tae().some(u=>a.matches(u))}var rae=[];function pfe(a){rae.push(a)}var vfe=1;function q0(a,u=kS,g=()=>{}){lO(a,b=>b._x_ignore)||ufe(()=>{u(a,(b,x)=>{b._x_marker||(g(b,x),rae.forEach(D=>D(b,x)),kte(b,b.attributes).forEach(D=>D()),b._x_ignore||(b._x_marker=vfe++),b._x_ignore&&x())})})}function uO(a,u=kS){u(a,g=>{Kde(g),Iie(g),delete g._x_marker})}function bfe(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([u,g,b])=>{lfe(g)||b.some(x=>{if(document.querySelector(x))return Jh(`found "${x}", but missing ${u} plugin`),!0})})}var Oee=[],Dte=!1;function Rte(a=()=>{}){return queueMicrotask(()=>{Dte||setTimeout(()=>{Dee()})}),new Promise(u=>{Oee.push(()=>{a(),u()})})}function Dee(){for(Dte=!1;Oee.length;)Oee.shift()()}function yfe(){Dte=!0}function Mte(a,u){return Array.isArray(u)?yse(a,u.join(" ")):typeof u=="object"&&u!==null?wfe(a,u):typeof u=="function"?Mte(a,u()):yse(a,u)}function yse(a,u){let g=x=>x.split(" ").filter(D=>!a.classList.contains(D)).filter(Boolean),b=x=>(a.classList.add(...x),()=>{a.classList.remove(...x)});return u=u===!0?u="":u||"",b(g(u))}function wfe(a,u){let g=$=>$.split(" ").filter(Boolean),b=Object.entries(u).flatMap(([$,Z])=>Z?g($):!1).filter(Boolean),x=Object.entries(u).flatMap(([$,Z])=>Z?!1:g($)).filter(Boolean),D=[],P=[];return x.forEach($=>{a.classList.contains($)&&(a.classList.remove($),P.push($))}),b.forEach($=>{a.classList.contains($)||(a.classList.add($),D.push($))}),()=>{P.forEach($=>a.classList.add($)),D.forEach($=>a.classList.remove($))}}function cV(a,u){return typeof u=="object"&&u!==null?Cfe(a,u):xfe(a,u)}function Cfe(a,u){let g={};return Object.entries(u).forEach(([b,x])=>{g[b]=a.style[b],b.startsWith("--")||(b=Sfe(b)),a.style.setProperty(b,x)}),setTimeout(()=>{a.style.length===0&&a.removeAttribute("style")}),()=>{cV(a,g)}}function xfe(a,u){let g=a.getAttribute("style",u);return a.setAttribute("style",u),()=>{a.setAttribute("style",g||"")}}function Sfe(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ree(a,u=()=>{}){let g=!1;return function(){g?u.apply(this,arguments):(g=!0,a.apply(this,arguments))}}ul("transition",(a,{value:u,modifiers:g,expression:b},{evaluate:x})=>{typeof b=="function"&&(b=x(b)),b!==!1&&(!b||typeof b=="boolean"?_fe(a,g,u):Efe(a,b,u))});function Efe(a,u,g){iae(a,Mte,""),{enter:x=>{a._x_transition.enter.during=x},"enter-start":x=>{a._x_transition.enter.start=x},"enter-end":x=>{a._x_transition.enter.end=x},leave:x=>{a._x_transition.leave.during=x},"leave-start":x=>{a._x_transition.leave.start=x},"leave-end":x=>{a._x_transition.leave.end=x}}[g](u)}function _fe(a,u,g){iae(a,cV);let b=!u.includes("in")&&!u.includes("out")&&!g,x=b||u.includes("in")||["enter"].includes(g),D=b||u.includes("out")||["leave"].includes(g);u.includes("in")&&!b&&(u=u.filter((Be,Le)=>Le<u.indexOf("out"))),u.includes("out")&&!b&&(u=u.filter((Be,Le)=>Le>u.indexOf("out")));let P=!u.includes("opacity")&&!u.includes("scale"),$=P||u.includes("opacity"),Z=P||u.includes("scale"),ne=$?0:1,ee=Z?SL(u,"scale",95)/100:1,Se=SL(u,"delay",0)/1e3,ke=SL(u,"origin","center"),ye="opacity, transform",be=SL(u,"duration",150)/1e3,ve=SL(u,"duration",75)/1e3,ue="cubic-bezier(0.4, 0.0, 0.2, 1)";x&&(a._x_transition.enter.during={transformOrigin:ke,transitionDelay:`${Se}s`,transitionProperty:ye,transitionDuration:`${be}s`,transitionTimingFunction:ue},a._x_transition.enter.start={opacity:ne,transform:`scale(${ee})`},a._x_transition.enter.end={opacity:1,transform:"scale(1)"}),D&&(a._x_transition.leave.during={transformOrigin:ke,transitionDelay:`${Se}s`,transitionProperty:ye,transitionDuration:`${ve}s`,transitionTimingFunction:ue},a._x_transition.leave.start={opacity:1,transform:"scale(1)"},a._x_transition.leave.end={opacity:ne,transform:`scale(${ee})`})}function iae(a,u,g={}){a._x_transition||(a._x_transition={enter:{during:g,start:g,end:g},leave:{during:g,start:g,end:g},in(b=()=>{},x=()=>{}){Mee(a,u,{during:this.enter.during,start:this.enter.start,end:this.enter.end},b,x)},out(b=()=>{},x=()=>{}){Mee(a,u,{during:this.leave.during,start:this.leave.start,end:this.leave.end},b,x)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(a,u,g,b){const x=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let D=()=>x(g);if(u){a._x_transition&&(a._x_transition.enter||a._x_transition.leave)?a._x_transition.enter&&(Object.entries(a._x_transition.enter.during).length||Object.entries(a._x_transition.enter.start).length||Object.entries(a._x_transition.enter.end).length)?a._x_transition.in(g):D():a._x_transition?a._x_transition.in(g):D();return}a._x_hidePromise=a._x_transition?new Promise((P,$)=>{a._x_transition.out(()=>{},()=>P(b)),a._x_transitioning&&a._x_transitioning.beforeCancel(()=>$({isFromCancelledTransition:!0}))}):Promise.resolve(b),queueMicrotask(()=>{let P=aae(a);P?(P._x_hideChildren||(P._x_hideChildren=[]),P._x_hideChildren.push(a)):x(()=>{let $=Z=>{let ne=Promise.all([Z._x_hidePromise,...(Z._x_hideChildren||[]).map($)]).then(([ee])=>ee==null?void 0:ee());return delete Z._x_hidePromise,delete Z._x_hideChildren,ne};$(a).catch(Z=>{if(!Z.isFromCancelledTransition)throw Z})})})};function aae(a){let u=a.parentNode;if(u)return u._x_hidePromise?u:aae(u)}function Mee(a,u,{during:g,start:b,end:x}={},D=()=>{},P=()=>{}){if(a._x_transitioning&&a._x_transitioning.cancel(),Object.keys(g).length===0&&Object.keys(b).length===0&&Object.keys(x).length===0){D(),P();return}let $,Z,ne;Tfe(a,{start(){$=u(a,b)},during(){Z=u(a,g)},before:D,end(){$(),ne=u(a,x)},after:P,cleanup(){Z(),ne()}})}function Tfe(a,u){let g,b,x,D=Ree(()=>{oc(()=>{g=!0,b||u.before(),x||(u.end(),Dee()),u.after(),a.isConnected&&u.cleanup(),delete a._x_transitioning})});a._x_transitioning={beforeCancels:[],beforeCancel(P){this.beforeCancels.push(P)},cancel:Ree(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();D()}),finish:D},oc(()=>{u.start(),u.during()}),yfe(),requestAnimationFrame(()=>{if(g)return;let P=Number(getComputedStyle(a).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,$=Number(getComputedStyle(a).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;P===0&&(P=Number(getComputedStyle(a).animationDuration.replace("s",""))*1e3),oc(()=>{u.before()}),b=!0,requestAnimationFrame(()=>{g||(oc(()=>{u.end()}),Dee(),setTimeout(a._x_transitioning.finish,P+$),x=!0)})})}function SL(a,u,g){if(a.indexOf(u)===-1)return g;const b=a[a.indexOf(u)+1];if(!b||u==="scale"&&isNaN(b))return g;if(u==="duration"||u==="delay"){let x=b.match(/([0-9]+)ms/);if(x)return x[1]}return u==="origin"&&["top","right","left","center","bottom"].includes(a[a.indexOf(u)+2])?[b,a[a.indexOf(u)+2]].join(" "):b}var Lw=!1;function Bw(a,u=()=>{}){return(...g)=>Lw?u(...g):a(...g)}function kfe(a){return(...u)=>Lw&&a(...u)}var cae=[];function lV(a){cae.push(a)}function Afe(a,u){cae.forEach(g=>g(a,u)),Lw=!0,lae(()=>{q0(u,(g,b)=>{b(g,()=>{})})}),Lw=!1}var Pee=!1;function Ofe(a,u){u._x_dataStack||(u._x_dataStack=a._x_dataStack),Lw=!0,Pee=!0,lae(()=>{Dfe(u)}),Lw=!1,Pee=!1}function Dfe(a){let u=!1;q0(a,(b,x)=>{kS(b,(D,P)=>{if(u&&gfe(D))return P();u=!0,x(D,P)})})}function lae(a){let u=RS;vse((g,b)=>{let x=u(g);return aO(x),()=>{}}),a(),vse(u)}function uae(a,u,g,b=[]){switch(a._x_bindings||(a._x_bindings=iO({})),a._x_bindings[u]=g,u=b.includes("camel")?$fe(u):u,u){case"value":Rfe(a,g);break;case"style":Pfe(a,g);break;case"class":Mfe(a,g);break;case"selected":case"checked":Lfe(a,u,g);break;default:dae(a,u,g);break}}function Rfe(a,u){if(hae(a))a.attributes.value===void 0&&(a.value=u),window.fromModel&&(typeof u=="boolean"?a.checked=Cz(a.value)===u:a.checked=wse(a.value,u));else if(Pte(a))Number.isInteger(u)?a.value=u:!Array.isArray(u)&&typeof u!="boolean"&&![null,void 0].includes(u)?a.value=String(u):Array.isArray(u)?a.checked=u.some(g=>wse(g,a.value)):a.checked=!!u;else if(a.tagName==="SELECT")Bfe(a,u);else{if(a.value===u)return;a.value=u===void 0?"":u}}function Mfe(a,u){a._x_undoAddedClasses&&a._x_undoAddedClasses(),a._x_undoAddedClasses=Mte(a,u)}function Pfe(a,u){a._x_undoAddedStyles&&a._x_undoAddedStyles(),a._x_undoAddedStyles=cV(a,u)}function Lfe(a,u,g){dae(a,u,g),Ife(a,u,g)}function dae(a,u,g){[null,void 0,!1].includes(g)&&Hfe(u)?a.removeAttribute(u):(fae(u)&&(g=u),Nfe(a,u,g))}function Nfe(a,u,g){a.getAttribute(u)!=g&&a.setAttribute(u,g)}function Ife(a,u,g){a[u]!==g&&(a[u]=g)}function Bfe(a,u){const g=[].concat(u).map(b=>b+"");Array.from(a.options).forEach(b=>{b.selected=g.includes(b.value)})}function $fe(a){return a.toLowerCase().replace(/-(\w)/g,(u,g)=>g.toUpperCase())}function wse(a,u){return a==u}function Cz(a){return[1,"1","true","on","yes",!0].includes(a)?!0:[0,"0","false","off","no",!1].includes(a)?!1:a?!!a:null}var Ffe=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function fae(a){return Ffe.has(a)}function Hfe(a){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(a)}function zfe(a,u,g){return a._x_bindings&&a._x_bindings[u]!==void 0?a._x_bindings[u]:mae(a,u,g)}function Vfe(a,u,g,b=!0){if(a._x_bindings&&a._x_bindings[u]!==void 0)return a._x_bindings[u];if(a._x_inlineBindings&&a._x_inlineBindings[u]!==void 0){let x=a._x_inlineBindings[u];return x.extract=b,Vie(()=>CS(a,x.expression))}return mae(a,u,g)}function mae(a,u,g){let b=a.getAttribute(u);return b===null?typeof g=="function"?g():g:b===""?!0:fae(u)?!![u,"true"].includes(b):b}function Pte(a){return a.type==="checkbox"||a.localName==="ui-checkbox"||a.localName==="ui-switch"}function hae(a){return a.type==="radio"||a.localName==="ui-radio"}function gae(a,u){let g;return function(){const b=this,x=arguments,D=function(){g=null,a.apply(b,x)};clearTimeout(g),g=setTimeout(D,u)}}function pae(a,u){let g;return function(){let b=this,x=arguments;g||(a.apply(b,x),g=!0,setTimeout(()=>g=!1,u))}}function vae({get:a,set:u},{get:g,set:b}){let x=!0,D,P=RS(()=>{let $=a(),Z=g();if(x)b(XQ($)),x=!1;else{let ne=JSON.stringify($),ee=JSON.stringify(Z);ne!==D?b(XQ($)):ne!==ee&&u(XQ(Z))}D=JSON.stringify(a()),JSON.stringify(g())});return()=>{aO(P)}}function XQ(a){return typeof a=="object"?JSON.parse(JSON.stringify(a)):a}function Ufe(a){(Array.isArray(a)?a:[a]).forEach(g=>g(QL))}var fS={},Cse=!1;function Wfe(a,u){if(Cse||(fS=iO(fS),Cse=!0),u===void 0)return fS[a];fS[a]=u,Fie(fS[a]),typeof u=="object"&&u!==null&&u.hasOwnProperty("init")&&typeof u.init=="function"&&fS[a].init()}function jfe(){return fS}var bae={};function Zfe(a,u){let g=typeof u!="function"?()=>u:u;return a instanceof Element?yae(a,g()):(bae[a]=g,()=>{})}function qfe(a){return Object.entries(bae).forEach(([u,g])=>{Object.defineProperty(a,u,{get(){return(...b)=>g(...b)}})}),a}function yae(a,u,g){let b=[];for(;b.length;)b.pop()();let x=Object.entries(u).map(([P,$])=>({name:P,value:$})),D=jie(x);return x=x.map(P=>D.find($=>$.name===P.name)?{name:`x-bind:${P.name}`,value:`"${P.value}"`}:P),kte(a,x,g).map(P=>{b.push(P.runCleanups),P()}),()=>{for(;b.length;)b.pop()()}}var wae={};function Gfe(a,u){wae[a]=u}function Kfe(a,u){return Object.entries(wae).forEach(([g,b])=>{Object.defineProperty(a,g,{get(){return(...x)=>b.bind(u)(...x)},enumerable:!1})}),a}var Yfe={get reactive(){return iO},get release(){return aO},get effect(){return RS},get raw(){return Oie},version:"3.15.0",flushAndStopDeferringMutations:Jde,dontAutoEvaluateFunctions:Vie,disableEffectScheduling:jde,startObservingMutations:Ste,stopObservingMutations:Bie,setReactivityEngine:Zde,onAttributeRemoved:Nie,onAttributesAdded:Lie,closestDataStack:nO,skipDuringClone:Bw,onlyDuringClone:kfe,addRootSelector:oae,addInitSelector:sae,interceptClone:lV,addScopeToNode:XL,deferMutations:Xde,mapAttributes:Ate,evaluateLater:Cf,interceptInit:pfe,setEvaluator:sfe,mergeProxies:JL,extractProp:Vfe,findClosest:lO,onElRemoved:wte,closestRoot:aV,destroyTree:uO,interceptor:Hie,transition:Mee,setStyles:cV,mutateDom:oc,directive:ul,entangle:vae,throttle:pae,debounce:gae,evaluate:CS,initTree:q0,nextTick:Rte,prefixed:cO,prefix:cfe,plugin:Ufe,magic:Cp,store:Wfe,start:hfe,clone:Ofe,cloneNode:Afe,bound:zfe,$data:$ie,watch:Die,walk:kS,data:Gfe,bind:Zfe},QL=Yfe;function Xfe(a,u){const g=Object.create(null),b=a.split(",");for(let x=0;x<b.length;x++)g[b[x]]=!0;return x=>!!g[x]}var Jfe=Object.freeze({}),Qfe=Object.prototype.hasOwnProperty,uV=(a,u)=>Qfe.call(a,u),xS=Array.isArray,NL=a=>Cae(a)==="[object Map]",eme=a=>typeof a=="string",Lte=a=>typeof a=="symbol",dV=a=>a!==null&&typeof a=="object",tme=Object.prototype.toString,Cae=a=>tme.call(a),xae=a=>Cae(a).slice(8,-1),Nte=a=>eme(a)&&a!=="NaN"&&a[0]!=="-"&&""+parseInt(a,10)===a,nme=a=>{const u=Object.create(null);return g=>u[g]||(u[g]=a(g))},ome=nme(a=>a.charAt(0).toUpperCase()+a.slice(1)),Sae=(a,u)=>a!==u&&(a===a||u===u),Lee=new WeakMap,EL=[],V1,SS=Symbol("iterate"),Nee=Symbol("Map key iterate");function sme(a){return a&&a._isEffect===!0}function rme(a,u=Jfe){sme(a)&&(a=a.raw);const g=cme(a,u);return u.lazy||g(),g}function ime(a){a.active&&(Eae(a),a.options.onStop&&a.options.onStop(),a.active=!1)}var ame=0;function cme(a,u){const g=function(){if(!g.active)return a();if(!EL.includes(g)){Eae(g);try{return ume(),EL.push(g),V1=g,a()}finally{EL.pop(),_ae(),V1=EL[EL.length-1]}}};return g.id=ame++,g.allowRecurse=!!u.allowRecurse,g._isEffect=!0,g.active=!0,g.raw=a,g.deps=[],g.options=u,g}function Eae(a){const{deps:u}=a;if(u.length){for(let g=0;g<u.length;g++)u[g].delete(a);u.length=0}}var oO=!0,Ite=[];function lme(){Ite.push(oO),oO=!1}function ume(){Ite.push(oO),oO=!0}function _ae(){const a=Ite.pop();oO=a===void 0?!0:a}function yp(a,u,g){if(!oO||V1===void 0)return;let b=Lee.get(a);b||Lee.set(a,b=new Map);let x=b.get(g);x||b.set(g,x=new Set),x.has(V1)||(x.add(V1),V1.deps.push(x),V1.options.onTrack&&V1.options.onTrack({effect:V1,target:a,type:u,key:g}))}function Nw(a,u,g,b,x,D){const P=Lee.get(a);if(!P)return;const $=new Set,Z=ee=>{ee&&ee.forEach(Se=>{(Se!==V1||Se.allowRecurse)&&$.add(Se)})};if(u==="clear")P.forEach(Z);else if(g==="length"&&xS(a))P.forEach((ee,Se)=>{(Se==="length"||Se>=b)&&Z(ee)});else switch(g!==void 0&&Z(P.get(g)),u){case"add":xS(a)?Nte(g)&&Z(P.get("length")):(Z(P.get(SS)),NL(a)&&Z(P.get(Nee)));break;case"delete":xS(a)||(Z(P.get(SS)),NL(a)&&Z(P.get(Nee)));break;case"set":NL(a)&&Z(P.get(SS));break}const ne=ee=>{ee.options.onTrigger&&ee.options.onTrigger({effect:ee,target:a,key:g,type:u,newValue:b,oldValue:x,oldTarget:D}),ee.options.scheduler?ee.options.scheduler(ee):ee()};$.forEach(ne)}var dme=Xfe("__proto__,__v_isRef,__isVue"),Tae=new Set(Object.getOwnPropertyNames(Symbol).map(a=>Symbol[a]).filter(Lte)),fme=kae(),mme=kae(!0),xse=hme();function hme(){const a={};return["includes","indexOf","lastIndexOf"].forEach(u=>{a[u]=function(...g){const b=Ma(this);for(let D=0,P=this.length;D<P;D++)yp(b,"get",D+"");const x=b[u](...g);return x===-1||x===!1?b[u](...g.map(Ma)):x}}),["push","pop","shift","unshift","splice"].forEach(u=>{a[u]=function(...g){lme();const b=Ma(this)[u].apply(this,g);return _ae(),b}}),a}function kae(a=!1,u=!1){return function(b,x,D){if(x==="__v_isReactive")return!a;if(x==="__v_isReadonly")return a;if(x==="__v_raw"&&D===(a?u?Ame:Rae:u?kme:Dae).get(b))return b;const P=xS(b);if(!a&&P&&uV(xse,x))return Reflect.get(xse,x,D);const $=Reflect.get(b,x,D);return(Lte(x)?Tae.has(x):dme(x))||(a||yp(b,"get",x),u)?$:Iee($)?!P||!Nte(x)?$.value:$:dV($)?a?Mae($):Hte($):$}}var gme=pme();function pme(a=!1){return function(g,b,x,D){let P=g[b];if(!a&&(x=Ma(x),P=Ma(P),!xS(g)&&Iee(P)&&!Iee(x)))return P.value=x,!0;const $=xS(g)&&Nte(b)?Number(b)<g.length:uV(g,b),Z=Reflect.set(g,b,x,D);return g===Ma(D)&&($?Sae(x,P)&&Nw(g,"set",b,x,P):Nw(g,"add",b,x)),Z}}function vme(a,u){const g=uV(a,u),b=a[u],x=Reflect.deleteProperty(a,u);return x&&g&&Nw(a,"delete",u,void 0,b),x}function bme(a,u){const g=Reflect.has(a,u);return(!Lte(u)||!Tae.has(u))&&yp(a,"has",u),g}function yme(a){return yp(a,"iterate",xS(a)?"length":SS),Reflect.ownKeys(a)}var wme={get:fme,set:gme,deleteProperty:vme,has:bme,ownKeys:yme},Cme={get:mme,set(a,u){return console.warn(`Set operation on key "${String(u)}" failed: target is readonly.`,a),!0},deleteProperty(a,u){return console.warn(`Delete operation on key "${String(u)}" failed: target is readonly.`,a),!0}},Bte=a=>dV(a)?Hte(a):a,$te=a=>dV(a)?Mae(a):a,Fte=a=>a,fV=a=>Reflect.getPrototypeOf(a);function lz(a,u,g=!1,b=!1){a=a.__v_raw;const x=Ma(a),D=Ma(u);u!==D&&!g&&yp(x,"get",u),!g&&yp(x,"get",D);const{has:P}=fV(x),$=b?Fte:g?$te:Bte;if(P.call(x,u))return $(a.get(u));if(P.call(x,D))return $(a.get(D));a!==x&&a.get(u)}function uz(a,u=!1){const g=this.__v_raw,b=Ma(g),x=Ma(a);return a!==x&&!u&&yp(b,"has",a),!u&&yp(b,"has",x),a===x?g.has(a):g.has(a)||g.has(x)}function dz(a,u=!1){return a=a.__v_raw,!u&&yp(Ma(a),"iterate",SS),Reflect.get(a,"size",a)}function Sse(a){a=Ma(a);const u=Ma(this);return fV(u).has.call(u,a)||(u.add(a),Nw(u,"add",a,a)),this}function Ese(a,u){u=Ma(u);const g=Ma(this),{has:b,get:x}=fV(g);let D=b.call(g,a);D?Oae(g,b,a):(a=Ma(a),D=b.call(g,a));const P=x.call(g,a);return g.set(a,u),D?Sae(u,P)&&Nw(g,"set",a,u,P):Nw(g,"add",a,u),this}function _se(a){const u=Ma(this),{has:g,get:b}=fV(u);let x=g.call(u,a);x?Oae(u,g,a):(a=Ma(a),x=g.call(u,a));const D=b?b.call(u,a):void 0,P=u.delete(a);return x&&Nw(u,"delete",a,void 0,D),P}function Tse(){const a=Ma(this),u=a.size!==0,g=NL(a)?new Map(a):new Set(a),b=a.clear();return u&&Nw(a,"clear",void 0,void 0,g),b}function fz(a,u){return function(b,x){const D=this,P=D.__v_raw,$=Ma(P),Z=u?Fte:a?$te:Bte;return!a&&yp($,"iterate",SS),P.forEach((ne,ee)=>b.call(x,Z(ne),Z(ee),D))}}function mz(a,u,g){return function(...b){const x=this.__v_raw,D=Ma(x),P=NL(D),$=a==="entries"||a===Symbol.iterator&&P,Z=a==="keys"&&P,ne=x[a](...b),ee=g?Fte:u?$te:Bte;return!u&&yp(D,"iterate",Z?Nee:SS),{next(){const{value:Se,done:ke}=ne.next();return ke?{value:Se,done:ke}:{value:$?[ee(Se[0]),ee(Se[1])]:ee(Se),done:ke}},[Symbol.iterator](){return this}}}}function xw(a){return function(...u){{const g=u[0]?`on key "${u[0]}" `:"";console.warn(`${ome(a)} operation ${g}failed: target is readonly.`,Ma(this))}return a==="delete"?!1:this}}function xme(){const a={get(D){return lz(this,D)},get size(){return dz(this)},has:uz,add:Sse,set:Ese,delete:_se,clear:Tse,forEach:fz(!1,!1)},u={get(D){return lz(this,D,!1,!0)},get size(){return dz(this)},has:uz,add:Sse,set:Ese,delete:_se,clear:Tse,forEach:fz(!1,!0)},g={get(D){return lz(this,D,!0)},get size(){return dz(this,!0)},has(D){return uz.call(this,D,!0)},add:xw("add"),set:xw("set"),delete:xw("delete"),clear:xw("clear"),forEach:fz(!0,!1)},b={get(D){return lz(this,D,!0,!0)},get size(){return dz(this,!0)},has(D){return uz.call(this,D,!0)},add:xw("add"),set:xw("set"),delete:xw("delete"),clear:xw("clear"),forEach:fz(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(D=>{a[D]=mz(D,!1,!1),g[D]=mz(D,!0,!1),u[D]=mz(D,!1,!0),b[D]=mz(D,!0,!0)}),[a,g,u,b]}var[Sme,Eme]=xme();function Aae(a,u){const g=a?Eme:Sme;return(b,x,D)=>x==="__v_isReactive"?!a:x==="__v_isReadonly"?a:x==="__v_raw"?b:Reflect.get(uV(g,x)&&x in b?g:b,x,D)}var _me={get:Aae(!1)},Tme={get:Aae(!0)};function Oae(a,u,g){const b=Ma(g);if(b!==g&&u.call(a,b)){const x=xae(a);console.warn(`Reactive ${x} contains both the raw and reactive versions of the same object${x==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Dae=new WeakMap,kme=new WeakMap,Rae=new WeakMap,Ame=new WeakMap;function Ome(a){switch(a){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dme(a){return a.__v_skip||!Object.isExtensible(a)?0:Ome(xae(a))}function Hte(a){return a&&a.__v_isReadonly?a:Pae(a,!1,wme,_me,Dae)}function Mae(a){return Pae(a,!0,Cme,Tme,Rae)}function Pae(a,u,g,b,x){if(!dV(a))return console.warn(`value cannot be made reactive: ${String(a)}`),a;if(a.__v_raw&&!(u&&a.__v_isReactive))return a;const D=x.get(a);if(D)return D;const P=Dme(a);if(P===0)return a;const $=new Proxy(a,P===2?b:g);return x.set(a,$),$}function Ma(a){return a&&Ma(a.__v_raw)||a}function Iee(a){return!!(a&&a.__v_isRef===!0)}Cp("nextTick",()=>Rte);Cp("dispatch",a=>LL.bind(LL,a));Cp("watch",(a,{evaluateLater:u,cleanup:g})=>(b,x)=>{let D=u(b),$=Die(()=>{let Z;return D(ne=>Z=ne),Z},x);g($)});Cp("store",jfe);Cp("data",a=>$ie(a));Cp("root",a=>aV(a));Cp("refs",a=>(a._x_refs_proxy||(a._x_refs_proxy=JL(Rme(a))),a._x_refs_proxy));function Rme(a){let u=[];return lO(a,g=>{g._x_refs&&u.push(g._x_refs)}),u}var JQ={};function Lae(a){return JQ[a]||(JQ[a]=0),++JQ[a]}function Mme(a,u){return lO(a,g=>{if(g._x_ids&&g._x_ids[u])return!0})}function Pme(a,u){a._x_ids||(a._x_ids={}),a._x_ids[u]||(a._x_ids[u]=Lae(u))}Cp("id",(a,{cleanup:u})=>(g,b=null)=>{let x=`${g}${b?`-${b}`:""}`;return Lme(a,x,u,()=>{let D=Mme(a,g),P=D?D._x_ids[g]:Lae(g);return b?`${g}-${P}-${b}`:`${g}-${P}`})});lV((a,u)=>{a._x_id&&(u._x_id=a._x_id)});function Lme(a,u,g,b){if(a._x_id||(a._x_id={}),a._x_id[u])return a._x_id[u];let x=b();return a._x_id[u]=x,g(()=>{delete a._x_id[u]}),x}Cp("el",a=>a);Nae("Focus","focus","focus");Nae("Persist","persist","persist");function Nae(a,u,g){Cp(u,b=>Jh(`You can't use [$${u}] without first installing the "${a}" plugin here: https://alpinejs.dev/plugins/${g}`,b))}ul("modelable",(a,{expression:u},{effect:g,evaluateLater:b,cleanup:x})=>{let D=b(u),P=()=>{let ee;return D(Se=>ee=Se),ee},$=b(`${u} = __placeholder`),Z=ee=>$(()=>{},{scope:{__placeholder:ee}}),ne=P();Z(ne),queueMicrotask(()=>{if(!a._x_model)return;a._x_removeModelListeners.default();let ee=a._x_model.get,Se=a._x_model.set,ke=vae({get(){return ee()},set(ye){Se(ye)}},{get(){return P()},set(ye){Z(ye)}});x(ke)})});ul("teleport",(a,{modifiers:u,expression:g},{cleanup:b})=>{a.tagName.toLowerCase()!=="template"&&Jh("x-teleport can only be used on a <template> tag",a);let x=kse(g),D=a.content.cloneNode(!0).firstElementChild;a._x_teleport=D,D._x_teleportBack=a,a.setAttribute("data-teleport-template",!0),D.setAttribute("data-teleport-target",!0),a._x_forwardEvents&&a._x_forwardEvents.forEach($=>{D.addEventListener($,Z=>{Z.stopPropagation(),a.dispatchEvent(new Z.constructor(Z.type,Z))})}),XL(D,{},a);let P=($,Z,ne)=>{ne.includes("prepend")?Z.parentNode.insertBefore($,Z):ne.includes("append")?Z.parentNode.insertBefore($,Z.nextSibling):Z.appendChild($)};oc(()=>{P(D,x,u),Bw(()=>{q0(D)})()}),a._x_teleportPutBack=()=>{let $=kse(g);oc(()=>{P(a._x_teleport,$,u)})},b(()=>oc(()=>{D.remove(),uO(D)}))});var Nme=document.createElement("div");function kse(a){let u=Bw(()=>document.querySelector(a),()=>Nme)();return u||Jh(`Cannot find x-teleport element for selector: "${a}"`),u}var Iae=()=>{};Iae.inline=(a,{modifiers:u},{cleanup:g})=>{u.includes("self")?a._x_ignoreSelf=!0:a._x_ignore=!0,g(()=>{u.includes("self")?delete a._x_ignoreSelf:delete a._x_ignore})};ul("ignore",Iae);ul("effect",Bw((a,{expression:u},{effect:g})=>{g(Cf(a,u))}));function Bee(a,u,g,b){let x=a,D=Z=>b(Z),P={},$=(Z,ne)=>ee=>ne(Z,ee);if(g.includes("dot")&&(u=Ime(u)),g.includes("camel")&&(u=Bme(u)),g.includes("passive")&&(P.passive=!0),g.includes("capture")&&(P.capture=!0),g.includes("window")&&(x=window),g.includes("document")&&(x=document),g.includes("debounce")){let Z=g[g.indexOf("debounce")+1]||"invalid-wait",ne=eV(Z.split("ms")[0])?Number(Z.split("ms")[0]):250;D=gae(D,ne)}if(g.includes("throttle")){let Z=g[g.indexOf("throttle")+1]||"invalid-wait",ne=eV(Z.split("ms")[0])?Number(Z.split("ms")[0]):250;D=pae(D,ne)}return g.includes("prevent")&&(D=$(D,(Z,ne)=>{ne.preventDefault(),Z(ne)})),g.includes("stop")&&(D=$(D,(Z,ne)=>{ne.stopPropagation(),Z(ne)})),g.includes("once")&&(D=$(D,(Z,ne)=>{Z(ne),x.removeEventListener(u,D,P)})),(g.includes("away")||g.includes("outside"))&&(x=document,D=$(D,(Z,ne)=>{a.contains(ne.target)||ne.target.isConnected!==!1&&(a.offsetWidth<1&&a.offsetHeight<1||a._x_isShown!==!1&&Z(ne))})),g.includes("self")&&(D=$(D,(Z,ne)=>{ne.target===a&&Z(ne)})),(Fme(u)||Bae(u))&&(D=$(D,(Z,ne)=>{Hme(ne,g)||Z(ne)})),x.addEventListener(u,D,P),()=>{x.removeEventListener(u,D,P)}}function Ime(a){return a.replace(/-/g,".")}function Bme(a){return a.toLowerCase().replace(/-(\w)/g,(u,g)=>g.toUpperCase())}function eV(a){return!Array.isArray(a)&&!isNaN(a)}function $me(a){return[" ","_"].includes(a)?a:a.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Fme(a){return["keydown","keyup"].includes(a)}function Bae(a){return["contextmenu","click","mouse"].some(u=>a.includes(u))}function Hme(a,u){let g=u.filter(D=>!["window","document","prevent","stop","once","capture","self","away","outside","passive","preserve-scroll"].includes(D));if(g.includes("debounce")){let D=g.indexOf("debounce");g.splice(D,eV((g[D+1]||"invalid-wait").split("ms")[0])?2:1)}if(g.includes("throttle")){let D=g.indexOf("throttle");g.splice(D,eV((g[D+1]||"invalid-wait").split("ms")[0])?2:1)}if(g.length===0||g.length===1&&Ase(a.key).includes(g[0]))return!1;const x=["ctrl","shift","alt","meta","cmd","super"].filter(D=>g.includes(D));return g=g.filter(D=>!x.includes(D)),!(x.length>0&&x.filter(P=>((P==="cmd"||P==="super")&&(P="meta"),a[`${P}Key`])).length===x.length&&(Bae(a.type)||Ase(a.key).includes(g[0])))}function Ase(a){if(!a)return[];a=$me(a);let u={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return u[a]=a,Object.keys(u).map(g=>{if(u[g]===a)return g}).filter(g=>g)}ul("model",(a,{modifiers:u,expression:g},{effect:b,cleanup:x})=>{let D=a;u.includes("parent")&&(D=a.parentNode);let P=Cf(D,g),$;typeof g=="string"?$=Cf(D,`${g} = __placeholder`):typeof g=="function"&&typeof g()=="string"?$=Cf(D,`${g()} = __placeholder`):$=()=>{};let Z=()=>{let ke;return P(ye=>ke=ye),Ose(ke)?ke.get():ke},ne=ke=>{let ye;P(be=>ye=be),Ose(ye)?ye.set(ke):$(()=>{},{scope:{__placeholder:ke}})};typeof g=="string"&&a.type==="radio"&&oc(()=>{a.hasAttribute("name")||a.setAttribute("name",g)});let ee=a.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(a.type)||u.includes("lazy")?"change":"input",Se=Lw?()=>{}:Bee(a,ee,u,ke=>{ne(QQ(a,u,ke,Z()))});if(u.includes("fill")&&([void 0,null,""].includes(Z())||Pte(a)&&Array.isArray(Z())||a.tagName.toLowerCase()==="select"&&a.multiple)&&ne(QQ(a,u,{target:a},Z())),a._x_removeModelListeners||(a._x_removeModelListeners={}),a._x_removeModelListeners.default=Se,x(()=>a._x_removeModelListeners.default()),a.form){let ke=Bee(a.form,"reset",[],ye=>{Rte(()=>a._x_model&&a._x_model.set(QQ(a,u,{target:a},Z())))});x(()=>ke())}a._x_model={get(){return Z()},set(ke){ne(ke)}},a._x_forceModelUpdate=ke=>{ke===void 0&&typeof g=="string"&&g.match(/\./)&&(ke=""),window.fromModel=!0,oc(()=>uae(a,"value",ke)),delete window.fromModel},b(()=>{let ke=Z();u.includes("unintrusive")&&document.activeElement.isSameNode(a)||a._x_forceModelUpdate(ke)})});function QQ(a,u,g,b){return oc(()=>{if(g instanceof CustomEvent&&g.detail!==void 0)return g.detail!==null&&g.detail!==void 0?g.detail:g.target.value;if(Pte(a))if(Array.isArray(b)){let x=null;return u.includes("number")?x=eee(g.target.value):u.includes("boolean")?x=Cz(g.target.value):x=g.target.value,g.target.checked?b.includes(x)?b:b.concat([x]):b.filter(D=>!zme(D,x))}else return g.target.checked;else{if(a.tagName.toLowerCase()==="select"&&a.multiple)return u.includes("number")?Array.from(g.target.selectedOptions).map(x=>{let D=x.value||x.text;return eee(D)}):u.includes("boolean")?Array.from(g.target.selectedOptions).map(x=>{let D=x.value||x.text;return Cz(D)}):Array.from(g.target.selectedOptions).map(x=>x.value||x.text);{let x;return hae(a)?g.target.checked?x=g.target.value:x=b:x=g.target.value,u.includes("number")?eee(x):u.includes("boolean")?Cz(x):u.includes("trim")?x.trim():x}}})}function eee(a){let u=a?parseFloat(a):null;return Vme(u)?u:a}function zme(a,u){return a==u}function Vme(a){return!Array.isArray(a)&&!isNaN(a)}function Ose(a){return a!==null&&typeof a=="object"&&typeof a.get=="function"&&typeof a.set=="function"}ul("cloak",a=>queueMicrotask(()=>oc(()=>a.removeAttribute(cO("cloak")))));sae(()=>`[${cO("init")}]`);ul("init",Bw((a,{expression:u},{evaluate:g})=>typeof u=="string"?!!u.trim()&&g(u,{},!1):g(u,{},!1)));ul("text",(a,{expression:u},{effect:g,evaluateLater:b})=>{let x=b(u);g(()=>{x(D=>{oc(()=>{a.textContent=D})})})});ul("html",(a,{expression:u},{effect:g,evaluateLater:b})=>{let x=b(u);g(()=>{x(D=>{oc(()=>{a.innerHTML=D,a._x_ignoreSelf=!0,q0(a),delete a._x_ignoreSelf})})})});Ate(Gie(":",Kie(cO("bind:"))));var $ae=(a,{value:u,modifiers:g,expression:b,original:x},{effect:D,cleanup:P})=>{if(!u){let Z={};qfe(Z),Cf(a,b)(ee=>{yae(a,ee,x)},{scope:Z});return}if(u==="key")return Ume(a,b);if(a._x_inlineBindings&&a._x_inlineBindings[u]&&a._x_inlineBindings[u].extract)return;let $=Cf(a,b);D(()=>$(Z=>{Z===void 0&&typeof b=="string"&&b.match(/\./)&&(Z=""),oc(()=>uae(a,u,Z,g))})),P(()=>{a._x_undoAddedClasses&&a._x_undoAddedClasses(),a._x_undoAddedStyles&&a._x_undoAddedStyles()})};$ae.inline=(a,{value:u,modifiers:g,expression:b})=>{u&&(a._x_inlineBindings||(a._x_inlineBindings={}),a._x_inlineBindings[u]={expression:b,extract:!1})};ul("bind",$ae);function Ume(a,u){a._x_keyExpression=u}oae(()=>`[${cO("data")}]`);ul("data",(a,{expression:u},{cleanup:g})=>{if(Wme(a))return;u=u===""?"{}":u;let b={};Tee(b,a);let x={};Kfe(x,b);let D=CS(a,u,{scope:x});(D===void 0||D===!0)&&(D={}),Tee(D,a);let P=iO(D);Fie(P);let $=XL(a,P);P.init&&CS(a,P.init),g(()=>{P.destroy&&CS(a,P.destroy),$()})});lV((a,u)=>{a._x_dataStack&&(u._x_dataStack=a._x_dataStack,u.setAttribute("data-has-alpine-state",!0))});function Wme(a){return Lw?Pee?!0:a.hasAttribute("data-has-alpine-state"):!1}ul("show",(a,{modifiers:u,expression:g},{effect:b})=>{let x=Cf(a,g);a._x_doHide||(a._x_doHide=()=>{oc(()=>{a.style.setProperty("display","none",u.includes("important")?"important":void 0)})}),a._x_doShow||(a._x_doShow=()=>{oc(()=>{a.style.length===1&&a.style.display==="none"?a.removeAttribute("style"):a.style.removeProperty("display")})});let D=()=>{a._x_doHide(),a._x_isShown=!1},P=()=>{a._x_doShow(),a._x_isShown=!0},$=()=>setTimeout(P),Z=Ree(Se=>Se?P():D(),Se=>{typeof a._x_toggleAndCascadeWithTransitions=="function"?a._x_toggleAndCascadeWithTransitions(a,Se,P,D):Se?$():D()}),ne,ee=!0;b(()=>x(Se=>{!ee&&Se===ne||(u.includes("immediate")&&(Se?$():D()),Z(Se),ne=Se,ee=!1)}))});ul("for",(a,{expression:u},{effect:g,cleanup:b})=>{let x=Zme(u),D=Cf(a,x.items),P=Cf(a,a._x_keyExpression||"index");a._x_prevKeys=[],a._x_lookup={},g(()=>jme(a,x,D,P)),b(()=>{Object.values(a._x_lookup).forEach($=>oc(()=>{uO($),$.remove()})),delete a._x_prevKeys,delete a._x_lookup})});function jme(a,u,g,b){let x=P=>typeof P=="object"&&!Array.isArray(P),D=a;g(P=>{qme(P)&&P>=0&&(P=Array.from(Array(P).keys(),ue=>ue+1)),P===void 0&&(P=[]);let $=a._x_lookup,Z=a._x_prevKeys,ne=[],ee=[];if(x(P))P=Object.entries(P).map(([ue,Be])=>{let Le=Dse(u,Be,ue,P);b(oe=>{ee.includes(oe)&&Jh("Duplicate key on x-for",a),ee.push(oe)},{scope:{index:ue,...Le}}),ne.push(Le)});else for(let ue=0;ue<P.length;ue++){let Be=Dse(u,P[ue],ue,P);b(Le=>{ee.includes(Le)&&Jh("Duplicate key on x-for",a),ee.push(Le)},{scope:{index:ue,...Be}}),ne.push(Be)}let Se=[],ke=[],ye=[],be=[];for(let ue=0;ue<Z.length;ue++){let Be=Z[ue];ee.indexOf(Be)===-1&&ye.push(Be)}Z=Z.filter(ue=>!ye.includes(ue));let ve="template";for(let ue=0;ue<ee.length;ue++){let Be=ee[ue],Le=Z.indexOf(Be);if(Le===-1)Z.splice(ue,0,Be),Se.push([ve,ue]);else if(Le!==ue){let oe=Z.splice(ue,1)[0],Oe=Z.splice(Le-1,1)[0];Z.splice(ue,0,Oe),Z.splice(Le,0,oe),ke.push([oe,Oe])}else be.push(Be);ve=Be}for(let ue=0;ue<ye.length;ue++){let Be=ye[ue];Be in $&&(oc(()=>{uO($[Be]),$[Be].remove()}),delete $[Be])}for(let ue=0;ue<ke.length;ue++){let[Be,Le]=ke[ue],oe=$[Be],Oe=$[Le],qe=document.createElement("div");oc(()=>{Oe||Jh('x-for ":key" is undefined or invalid',D,Le,$),Oe.after(qe),oe.after(Oe),Oe._x_currentIfEl&&Oe.after(Oe._x_currentIfEl),qe.before(oe),oe._x_currentIfEl&&oe.after(oe._x_currentIfEl),qe.remove()}),Oe._x_refreshXForScope(ne[ee.indexOf(Le)])}for(let ue=0;ue<Se.length;ue++){let[Be,Le]=Se[ue],oe=Be==="template"?D:$[Be];oe._x_currentIfEl&&(oe=oe._x_currentIfEl);let Oe=ne[Le],qe=ee[Le],Xe=document.importNode(D.content,!0).firstElementChild,k=iO(Oe);XL(Xe,k,D),Xe._x_refreshXForScope=Ot=>{Object.entries(Ot).forEach(([ht,Je])=>{k[ht]=Je})},oc(()=>{oe.after(Xe),Bw(()=>q0(Xe))()}),typeof qe=="object"&&Jh("x-for key cannot be an object, it must be a string or an integer",D),$[qe]=Xe}for(let ue=0;ue<be.length;ue++)$[be[ue]]._x_refreshXForScope(ne[ee.indexOf(be[ue])]);D._x_prevKeys=ee})}function Zme(a){let u=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,g=/^\s*\(|\)\s*$/g,b=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,x=a.match(b);if(!x)return;let D={};D.items=x[2].trim();let P=x[1].replace(g,"").trim(),$=P.match(u);return $?(D.item=P.replace(u,"").trim(),D.index=$[1].trim(),$[2]&&(D.collection=$[2].trim())):D.item=P,D}function Dse(a,u,g,b){let x={};return/^\[.*\]$/.test(a.item)&&Array.isArray(u)?a.item.replace("[","").replace("]","").split(",").map(P=>P.trim()).forEach((P,$)=>{x[P]=u[$]}):/^\{.*\}$/.test(a.item)&&!Array.isArray(u)&&typeof u=="object"?a.item.replace("{","").replace("}","").split(",").map(P=>P.trim()).forEach(P=>{x[P]=u[P]}):x[a.item]=u,a.index&&(x[a.index]=g),a.collection&&(x[a.collection]=b),x}function qme(a){return!Array.isArray(a)&&!isNaN(a)}function Fae(){}Fae.inline=(a,{expression:u},{cleanup:g})=>{let b=aV(a);b._x_refs||(b._x_refs={}),b._x_refs[u]=a,g(()=>delete b._x_refs[u])};ul("ref",Fae);ul("if",(a,{expression:u},{effect:g,cleanup:b})=>{a.tagName.toLowerCase()!=="template"&&Jh("x-if can only be used on a <template> tag",a);let x=Cf(a,u),D=()=>{if(a._x_currentIfEl)return a._x_currentIfEl;let $=a.content.cloneNode(!0).firstElementChild;return XL($,{},a),oc(()=>{a.after($),Bw(()=>q0($))()}),a._x_currentIfEl=$,a._x_undoIf=()=>{oc(()=>{uO($),$.remove()}),delete a._x_currentIfEl},$},P=()=>{a._x_undoIf&&(a._x_undoIf(),delete a._x_undoIf)};g(()=>x($=>{$?D():P()})),b(()=>a._x_undoIf&&a._x_undoIf())});ul("id",(a,{expression:u},{evaluate:g})=>{g(u).forEach(x=>Pme(a,x))});lV((a,u)=>{a._x_ids&&(u._x_ids=a._x_ids)});Ate(Gie("@",Kie(cO("on:"))));ul("on",Bw((a,{value:u,modifiers:g,expression:b},{cleanup:x})=>{let D=b?Cf(a,b):()=>{};a.tagName.toLowerCase()==="template"&&(a._x_forwardEvents||(a._x_forwardEvents=[]),a._x_forwardEvents.includes(u)||a._x_forwardEvents.push(u));let P=Bee(a,u,g,$=>{D(()=>{},{scope:{$event:$},params:[$]})});x(()=>P())}));mV("Collapse","collapse","collapse");mV("Intersect","intersect","intersect");mV("Focus","trap","focus");mV("Mask","mask","mask");function mV(a,u,g){ul(u,b=>Jh(`You can't use [x-${u}] without first installing the "${a}" plugin here: https://alpinejs.dev/plugins/${g}`,b))}QL.setEvaluator(Wie);QL.setReactivityEngine({reactive:Hte,effect:rme,release:ime,raw:Ma});var Gme=QL,Hae=Gme;function zae(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var tee={exports:{}},Rse;function Kme(){return Rse||(Rse=1,(function(a){(function(){var u=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},g=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},b=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},x=function(e,n){return D(function(o,r){return e.eq(n(o),n(r))})},D=function(e){return{eq:e}},P=D(function(e,n){return e===n}),$=P,Z=function(e){return D(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,c=0;c<r;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},ne=function(e,n){return x(Z(e),function(o){return b(o,n)})},ee=function(e){return D(function(n,o){var r=Object.keys(n),c=Object.keys(o);if(!ne($).eq(r,c))return!1;for(var f=r.length,p=0;p<f;p++){var C=r[p];if(!e.eq(n[C],o[C]))return!1}return!0})},Se=D(function(e,n){if(e===n)return!0;var o=u(e),r=u(n);return o!==r?!1:g(o)?e===n:o==="array"?Z(Se).eq(e,n):o==="object"?ee(Se).eq(e,n):!1});const ke=Object.getPrototypeOf,ye=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},be=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&ye(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},ve=e=>n=>be(n)===e,ue=e=>n=>typeof n===e,Be=e=>n=>e===n,Le=(e,n)=>Oe(e)&&ye(e,n,(o,r)=>ke(o)===r),oe=ve("string"),Oe=ve("object"),qe=e=>Le(e,Object),Xe=ve("array"),k=Be(null),Ot=ue("boolean"),ht=Be(void 0),Je=e=>e==null,Ie=e=>!Je(e),xe=ue("function"),qt=ue("number"),Ct=(e,n)=>{if(Xe(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},Nt=()=>{},B=(e,n)=>(...o)=>e(n.apply(null,o)),Hn=(e,n)=>o=>e(n(o)),Qe=e=>()=>e,ln=e=>e,$t=(e,n)=>e===n;function Ue(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const Pn=e=>n=>!e(n),jo=e=>()=>{throw new Error(e)},ho=e=>e(),vo=e=>{e()},Tt=Qe(!1),rn=Qe(!0);class K{constructor(n,o){this.tag=n,this.value=o}static some(n){return new K(!0,n)}static none(){return K.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?K.some(n(this.value)):K.none()}bind(n){return this.tag?n(this.value):K.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:K.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Ie(n)?K.some(n):K.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}K.singletonNone=new K(!1);const dr=Array.prototype.slice,_o=Array.prototype.indexOf,wt=Array.prototype.push,jt=(e,n)=>_o.call(e,n),$n=(e,n)=>{const o=jt(e,n);return o===-1?K.none():K.some(o)},ut=(e,n)=>jt(e,n)>-1,Xt=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(n(c,o))return!0}return!1},Lt=(e,n)=>{const o=e.length,r=new Array(o);for(let c=0;c<o;c++){const f=e[c];r[c]=n(f,c)}return r},Re=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];n(c,o)}},et=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},St=(e,n)=>{const o=[],r=[];for(let c=0,f=e.length;c<f;c++){const p=e[c];(n(p,c)?o:r).push(p)}return{pass:o,fail:r}},pe=(e,n)=>{const o=[];for(let r=0,c=e.length;r<c;r++){const f=e[r];n(f,r)&&o.push(f)}return o},at=(e,n)=>{if(e.length===0)return[];{let o=n(e[0]);const r=[];let c=[];for(let f=0,p=e.length;f<p;f++){const C=e[f],E=n(C);E!==o&&(r.push(c),c=[]),o=E,c.push(C)}return c.length!==0&&r.push(c),r}},Dt=(e,n,o)=>(et(e,(r,c)=>{o=n(o,r,c)}),o),Ht=(e,n,o)=>(Re(e,(r,c)=>{o=n(o,r,c)}),o),st=(e,n,o)=>{for(let r=0,c=e.length;r<c;r++){const f=e[r];if(n(f,r))return K.some(f);if(o(f,r))break}return K.none()},rt=(e,n)=>st(e,n,Tt),ao=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(n(c,o))return K.some(o)}return K.none()},So=(e,n)=>{for(let o=e.length-1;o>=0;o--)if(n(e[o],o))return K.some(o);return K.none()},wo=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!Xe(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);wt.apply(n,e[o])}return n},Rn=(e,n)=>wo(Lt(e,n)),Zo=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},Vo=e=>{const n=dr.call(e,0);return n.reverse(),n},Oo=(e,n)=>pe(e,o=>!ut(n,o)),No=(e,n)=>{const o={};for(let r=0,c=e.length;r<c;r++){const f=e[r];o[String(f)]=n(f,r)}return o},je=(e,n)=>{const o=dr.call(e,0);return o.sort(n),o},tt=(e,n)=>n>=0&&n<e.length?K.some(e[n]):K.none(),gt=e=>tt(e,0),bt=e=>tt(e,e.length-1),bn=xe(Array.from)?Array.from:e=>dr.call(e),_n=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return K.none()},zn=(e,n)=>{const o=[],r=xe(n)?c=>Xt(o,f=>n(f,c)):c=>ut(o,c);for(let c=0,f=e.length;c<f;c++){const p=e[c];r(p)||o.push(p)}return o},_t=Object.keys,yn=Object.hasOwnProperty,cn=(e,n)=>{const o=_t(e);for(let r=0,c=o.length;r<c;r++){const f=o[r],p=e[f];n(p,f)}},ro=(e,n)=>Do(e,(o,r)=>({k:r,v:n(o,r)})),Do=(e,n)=>{const o={};return cn(e,(r,c)=>{const f=n(r,c);o[f.k]=f.v}),o},Qt=e=>(n,o)=>{e[o]=n},Us=(e,n,o,r)=>{cn(e,(c,f)=>{(n(c,f)?o:r)(c,f)})},Xo=(e,n)=>{const o={},r={};return Us(e,n,Qt(o),Qt(r)),{t:o,f:r}},si=(e,n)=>{const o={};return Us(e,n,Qt(o),Nt),o},Nr=(e,n)=>{const o=[];return cn(e,(r,c)=>{o.push(n(r,c))}),o},mr=e=>Nr(e,ln),Jo=(e,n)=>jn(e,n)?K.from(e[n]):K.none(),jn=(e,n)=>yn.call(e,n),Qo=(e,n)=>jn(e,n)&&e[n]!==void 0&&e[n]!==null,Ji=(e,n,o=Se)=>ee(o).eq(e,n),Tc={generate:e=>{if(!Xe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return Re(e,(r,c)=>{const f=_t(r);if(f.length!==1)throw new Error("one and only one name per case");const p=f[0],C=r[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Xe(C))throw new Error("case arguments must be an array");n.push(p),o[p]=(...E)=>{const O=E.length;if(O!==C.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+C.length+" ("+C+"), got "+O);return{fold:(...U)=>{if(U.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+U.length);return U[c].apply(null,E)},match:U=>{const q=_t(U);if(n.length!==q.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+q.join(","));if(!Zo(n,ge=>ut(q,ge)))throw new Error("Not all branches were specified when using match. Specified: "+q.join(", ")+`
Required: `+n.join(", "));return U[p].apply(null,E)},log:U=>{console.log(U,{constructors:n,constructor:p,params:E})}}}}),o}},Un=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},ha=e=>{const n=f=>f(e),o=Qe(e),r=()=>c,c={tag:!0,inner:e,fold:(f,p)=>p(e),isValue:rn,isError:Tt,map:f=>Ri.value(f(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:f=>{f(e)},toOptional:()=>K.some(e)};return c},ri=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,c)=>r(e),isValue:Tt,isError:rn,map:n,mapError:r=>Ri.error(r(e)),bind:n,exists:Tt,forall:rn,getOr:ln,or:ln,getOrThunk:ho,orThunk:ho,getOrDie:jo(String(e)),each:Nt,toOptional:K.none};return o},Ri={value:ha,error:ri,fromOption:(e,n)=>e.fold(()=>ri(n),ha)},Nl=typeof window<"u"?window:Function("return this;")(),ws=()=>{const e=window.crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e},Gc=()=>{const e=ws(),n=(o,r)=>{let c="";for(let f=o;f<=r;++f){const p=e[f].toString(16).padStart(2,"0");c+=p}return c};return`${n(0,3)}-${n(4,5)}-${n(6,7)}-${n(8,9)}-${n(10,15)}`},dl=(e,n,o)=>Math.min(Math.max(e,n),o),kc=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let qa=0;const ii=e=>{const o=new Date().getTime(),r=Math.floor(kc()*1e9);return qa++,e+"_"+r+qa+String(o)},Ac=()=>window.isSecureContext?window.crypto.randomUUID():Gc(),fl=(e,n)=>n,Tn=(e,n)=>qe(e)&&qe(n)?Il(e,n):n,Rd=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const c=n[r];for(const f in c)jn(c,f)&&(o[f]=e(o[f],c[f]))}return o},Il=Rd(Tn),Bl=Rd(fl),Is=(e,n,o=$t)=>e.exists(r=>o(r,n)),Md=(e,n,o=$t)=>Gr(e,n,o).getOr(e.isNone()&&n.isNone()),La=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},Gr=(e,n,o)=>e.isSome()&&n.isSome()?K.some(o(e.getOrDie(),n.getOrDie())):K.none(),Oc=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?K.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):K.none(),$l=e=>e.bind(ln),ga=(e,n)=>e?K.some(n):K.none(),er=(e,n)=>{let o=n??Nl;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},Qi=(e,n)=>{const o=e.split(".");return er(o,n)};Tc.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ti=e=>{const n=[],o=[];return Re(e,r=>{r.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},xf=e=>{const n=Un(K.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(K.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:C=>{o(),n.set(K.some(C))}}},Sf=e=>{const n=Un(K.none()),o=()=>n.get().each(C=>clearInterval(C));return{clear:()=>{o(),n.set(K.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:C=>{o(),n.set(K.some(setInterval(C,e)))}}},pa=()=>{const e=xf(Nt);return{...e,on:o=>e.get().each(o)}},Ga=(e,n)=>e.substring(n),sc=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Pd=(e,n)=>go(e,n)?Ga(e,n.length):e,xr=(e,n,o=0,r)=>{const c=e.indexOf(n,o);return c!==-1?ht(r)?!0:c+n.length<=r:!1},go=(e,n)=>sc(e,n,0),Sr=(e,n)=>sc(e,n,e.length-n.length),Mi=e=>n=>n.replace(e,""),tr=Mi(/^\s+|\s+$/g),Ld=Mi(/^\s+/g),ju=Mi(/\s+$/g),Ws=e=>e.length>0,ea=e=>!Ws(e),rc=(e,n)=>n<=0?"":new Array(n+1).join(e),Ef=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?K.none():K.some(o)},Sn=(e,n)=>{let o=null;return{cancel:()=>{k(o)||(clearTimeout(o),o=null)},throttle:(...f)=>{k(o)&&(o=setTimeout(()=>{o=null,e.apply(null,f)},n))}}},ic=(e,n)=>{let o=null;const r=()=>{k(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...f)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,f)},n)}}},Pi=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},va="\uFEFF",Er="",_f="",ba=e=>e===va,Ka=e=>e.replace(/\uFEFF/g,""),Zu=e=>{const n={};return Re(e,o=>{n[o]={}}),_t(n)},cu=e=>e.length!==void 0,ml=Array.isArray,qu=e=>{if(ml(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},lu=(e,n,o)=>{if(!e)return!1;if(o=o||e,cu(e)){for(let r=0,c=e.length;r<c;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(jn(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},hl=(e,n)=>{const o=[];return lu(e,(r,c)=>{o.push(n(r,c,e))}),o},uu=(e,n)=>{const o=[];return lu(e,(r,c)=>{(!n||n(r,c,e))&&o.push(r)}),o},pn=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},Fl=(e,n,o,r)=>{let c=ht(o)?e[0]:o;for(let f=0;f<e.length;f++)c=n.call(r,c,e[f],f);return c},Gu=(e,n,o)=>{for(let r=0,c=e.length;r<c;r++)if(n.call(o,e[r],r,e))return r;return-1},re=e=>e[e.length-1],Ae=(e,n,o,r)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,f=e.isiOS()&&!c,p=e.isiOS()||e.isAndroid(),C=p||r("(pointer:coarse)"),E=c||!f&&p&&r("(min-device-width:768px)"),O=f||p&&!E,F=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,U=!O&&!E&&!F;return{isiPad:Qe(c),isiPhone:Qe(f),isTablet:Qe(E),isPhone:Qe(O),isTouch:Qe(C),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Qe(F),isDesktop:Qe(U)}},Ge=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},Rt=(e,n)=>{const o=Ge(e,n);if(!o)return{major:0,minor:0};const r=c=>Number(n.replace(o,"$"+c));return es(r(1),r(2))},mn=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Fn():Rt(e,o)},Fn=()=>es(0,0),es=(e,n)=>({major:e,minor:n}),Uo={nu:es,detect:mn,unknown:Fn},Cs=(e,n)=>_n(n.brands,o=>{const r=o.brand.toLowerCase();return rt(e,c=>{var f;return r===((f=c.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(c=>({current:c.name,version:Uo.nu(parseInt(o.version,10),0)}))}),G=(e,n)=>{const o=String(n).toLowerCase();return rt(e,r=>r.search(o))},ce=(e,n)=>G(e,n).map(o=>{const r=Uo.detect(o.versionRegexes,n);return{current:o.name,version:r}}),De=(e,n)=>G(e,n).map(o=>{const r=Uo.detect(o.versionRegexes,n);return{current:o.name,version:r}}),ft=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,In=e=>n=>xr(n,e),as=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>xr(e,"edge/")&&xr(e,"chrome")&&xr(e,"safari")&&xr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ft],search:e=>xr(e,"chrome")&&!xr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>xr(e,"msie")||xr(e,"trident")},{name:"Opera",versionRegexes:[ft,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:In("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:In("firefox")},{name:"Safari",versionRegexes:[ft,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(xr(e,"safari")||xr(e,"mobile/"))&&xr(e,"applewebkit")}],S=[{name:"Windows",search:In("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>xr(e,"iphone")||xr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:In("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:In("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:In("linux"),versionRegexes:[]},{name:"Solaris",search:In("sunos"),versionRegexes:[]},{name:"FreeBSD",search:In("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:In("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],R={browsers:Qe(as),oses:Qe(S)},H="Edge",W="Chromium",X="IE",se="Opera",me="Firefox",Ze="Safari",We=()=>pt({current:void 0,version:Uo.unknown()}),pt=e=>{const n=e.current,o=e.version,r=c=>()=>n===c;return{current:n,version:o,isEdge:r(H),isChromium:r(W),isIE:r(X),isOpera:r(se),isFirefox:r(me),isSafari:r(Ze)}},Ut={unknown:We,nu:pt},hn="Windows",It="iOS",Vn="Android",ds="Linux",Ys="macOS",Ds="Solaris",Li="FreeBSD",Fr="ChromeOS",gl=()=>pl({current:void 0,version:Uo.unknown()}),pl=e=>{const n=e.current,o=e.version,r=c=>()=>n===c;return{current:n,version:o,isWindows:r(hn),isiOS:r(It),isAndroid:r(Vn),isMacOS:r(Ys),isLinux:r(ds),isSolaris:r(Ds),isFreeBSD:r(Li),isChromeOS:r(Fr)}},js={unknown:gl,nu:pl},nr={detect:(e,n,o)=>{const r=R.browsers(),c=R.oses(),f=n.bind(E=>Cs(r,E)).orThunk(()=>ce(r,e)).fold(Ut.unknown,Ut.nu),p=De(c,e).fold(js.unknown,js.nu),C=Ae(p,f,e,o);return{browser:f,os:p,deviceType:C}}},ai=e=>window.matchMedia(e).matches;let wm=Pi(()=>nr.detect(window.navigator.userAgent,K.from(window.navigator.userAgentData),ai));const Dc=()=>wm(),Hl=(e,n)=>Qi(e,n),Cm=(e,n)=>{const o=Hl(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Kc=Object.getPrototypeOf,zl=e=>Cm("HTMLElement",e),Nd=e=>{const n=Qi("ownerDocument.defaultView",e);return Oe(e)&&(zl(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Kc(e).constructor.name))},Yc=window.navigator.userAgent,xm=Dc(),na=xm.browser,xi=xm.os,Id=xm.deviceType,Z1=Yc.indexOf("Windows Phone")!==-1,fs={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:na.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!na.isIE(),windowsPhone:Z1,browser:{current:na.current,version:na.version,isChromium:na.isChromium,isEdge:na.isEdge,isFirefox:na.isFirefox,isIE:na.isIE,isOpera:na.isOpera,isSafari:na.isSafari},os:{current:xi.current,version:xi.version,isAndroid:xi.isAndroid,isChromeOS:xi.isChromeOS,isFreeBSD:xi.isFreeBSD,isiOS:xi.isiOS,isLinux:xi.isLinux,isMacOS:xi.isMacOS,isSolaris:xi.isSolaris,isWindows:xi.isWindows},deviceType:{isDesktop:Id.isDesktop,isiPad:Id.isiPad,isiPhone:Id.isiPhone,isPhone:Id.isPhone,isTablet:Id.isTablet,isTouch:Id.isTouch,isWebView:Id.isWebView}},Ir=/^\s*|\s*$/g,Bd=e=>Je(e)?"":(""+e).replace(Ir,""),Xs=(e,n)=>n?n==="array"&&ml(e)?!0:typeof e===n:e!==void 0,Sm=(e,n,o={})=>{const r=oe(e)?e.split(n||","):e||[];let c=r.length;for(;c--;)o[r[c]]={};return o},ng=jn,G0=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const c in r)if(jn(r,c)){const f=r[c];f!==void 0&&(e[c]=f)}}return e},og=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),lu(e,(c,f)=>n.call(r,c,f,o)===!1?!1:(og(c,n,o,r),!0)))},on={trim:Bd,isArray:ml,is:Xs,toArray:qu,makeMap:Sm,each:lu,map:hl,grep:uu,inArray:pn,hasOwn:ng,extend:G0,walk:og,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,c=o.length;r<c&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>Xe(e)?e:e===""?[]:hl(e.split(n||","),Bd),_addCacheSuffix:e=>{const n=fs.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},oa=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return Xu(r.childNodes[0])},Yu=(e,n)=>{const r=(n||document).createElement(e);return Xu(r)},Ya=(e,n)=>{const r=(n||document).createTextNode(e);return Xu(r)},Xu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ee={fromHtml:oa,fromTag:Yu,fromText:Ya,fromDom:Xu,fromPoint:(e,n,o)=>K.from(e.dom.elementFromPoint(n,o)).map(Xu)},ya=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},Vl=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},rg=(e,n,o)=>{const r=e.document.createRange();return ya(r,n),Vl(r,o),r},Ju=(e,n,o,r,c)=>{const f=e.document.createRange();return f.setStart(n.dom,o),f.setEnd(r.dom,c),f},Vi=Tc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Me=(e,n,o)=>n(Ee.fromDom(o.startContainer),o.startOffset,Ee.fromDom(o.endContainer),o.endOffset),nt=(e,n)=>n.match({domRange:o=>({ltr:Qe(o),rtl:K.none}),relative:(o,r)=>({ltr:Pi(()=>rg(e,o,r)),rtl:Pi(()=>K.some(rg(e,r,o)))}),exact:(o,r,c,f)=>({ltr:Pi(()=>Ju(e,o,r,c,f)),rtl:Pi(()=>K.some(Ju(e,c,f,o,r)))})}),Bt=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>Vi.rtl(Ee.fromDom(c.endContainer),c.endOffset,Ee.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>Me(e,Vi.ltr,o)):Me(e,Vi.ltr,o)},Zt=(e,n)=>{const o=nt(e,n);return Bt(e,o)};Vi.ltr,Vi.rtl;const sn=8,eo=9,co=11,Ho=1,xo=3,cs=(e,n)=>{const o=e.dom;if(o.nodeType!==Ho)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},ls=e=>e.nodeType!==Ho&&e.nodeType!==eo&&e.nodeType!==co||e.childElementCount===0,Go=(e,n)=>{const o=n===void 0?document:n.dom;return ls(o)?[]:Lt(o.querySelectorAll(e),Ee.fromDom)},bs=(e,n)=>{const o=n===void 0?document:n.dom;return ls(o)?K.none():K.from(o.querySelector(e)).map(Ee.fromDom)},Nn=(e,n)=>e.dom===n.dom,Rs=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},Ui=cs,wa=(e,n)=>{const o=[],r=f=>(o.push(f),n(f));let c=n(e);do c=c.bind(r);while(c.isSome());return o},ko=e=>e.dom.nodeName.toLowerCase(),sa=e=>e.dom.nodeType,Br=e=>n=>sa(n)===e,Jr=e=>sa(e)===sn||ko(e)==="#comment",fu=e=>Ur(e)&&Nd(e.dom),Ur=Br(Ho),Ms=Br(xo),$w=Br(eo),Fw=Br(co),vi=e=>n=>Ur(n)&&ko(n)===e,Ul=e=>Ee.fromDom(e.dom.ownerDocument),Wl=e=>$w(e)?e:Ul(e),Si=e=>Ee.fromDom(Wl(e).dom.documentElement),mu=e=>Ee.fromDom(Wl(e).dom.defaultView),ac=e=>K.from(e.dom.parentNode).map(Ee.fromDom),Xc=e=>K.from(e.dom.parentElement).map(Ee.fromDom),Na=(e,n)=>{const o=xe(n)?n:Tt;let r=e.dom;const c=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const f=r.parentNode,p=Ee.fromDom(f);if(c.push(p),o(p)===!0)break;r=f}return c},Bs=e=>{const n=o=>pe(o,r=>!Nn(e,r));return ac(e).map(Hr).map(n).getOr([])},vl=e=>K.from(e.dom.previousSibling).map(Ee.fromDom),cc=e=>K.from(e.dom.nextSibling).map(Ee.fromDom),ra=e=>Vo(wa(e,vl)),Wi=e=>wa(e,cc),Hr=e=>Lt(e.dom.childNodes,Ee.fromDom),jl=(e,n)=>{const o=e.dom.childNodes;return K.from(o[n]).map(Ee.fromDom)},ji=e=>jl(e,0),ci=e=>jl(e,e.dom.childNodes.length-1),Tf=e=>e.dom.childNodes.length,K0=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Ee.fromDom(n)},xp=e=>Fw(e)&&Ie(e.dom.host),Zi=e=>Ee.fromDom(e.dom.getRootNode()),q1=e=>xp(e)?e:K0(Wl(e)),Y0=e=>xp(e)?e:Ee.fromDom(Wl(e).dom.body),Em=e=>{const n=Zi(e);return xp(n)?K.some(n):K.none()},lo=e=>Ee.fromDom(e.dom.host),G1=e=>{if(Ie(e.target)){const n=Ee.fromDom(e.target);if(Ur(n)&&Ni(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return gt(o)}}return K.from(e.target)},Ni=e=>Ie(e.dom.shadowRoot),ia=(e,n,o,r,c,f,p)=>({target:e,x:n,y:o,stop:r,prevent:c,kill:f,raw:p}),aa=e=>{const n=Ee.fromDom(G1(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),c=B(r,o);return ia(n,e.clientX,e.clientY,o,r,c,e)},hr=(e,n)=>o=>{e(o)&&n(aa(o))},kf=(e,n,o,r,c)=>{const f=hr(o,r);return e.dom.addEventListener(n,f,c),{unbind:Ue(bl,e,n,f,c)}},Sp=(e,n,o,r)=>kf(e,n,o,r,!1),bl=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},hu=rn,K1=(e,n,o)=>Sp(e,n,hu,o),Y1=()=>Ee.fromDom(document),ig=(e,n=!1)=>e.dom.focus({preventScroll:n}),Qu=e=>{const n=Zi(e).dom;return e.dom===n.activeElement},Zl=(e=Y1())=>K.from(e.dom.activeElement).map(Ee.fromDom),X1=e=>Zl(Zi(e)).filter(n=>e.dom.contains(n.dom)),Ca=(e,n)=>{ac(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},yl=(e,n)=>{cc(e).fold(()=>{ac(e).each(c=>{xs(c,n)})},r=>{Ca(r,n)})},ed=(e,n)=>{ji(e).fold(()=>{xs(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},xs=(e,n)=>{e.dom.appendChild(n.dom)},Jc=(e,n)=>{Ca(e,n),xs(n,e)},X0=(e,n)=>{Re(n,o=>{Ca(e,o)})},ag=(e,n)=>{Re(n,(o,r)=>{const c=r===0?e:n[r-1];yl(c,o)})},wl=(e,n)=>{Re(n,o=>{xs(e,o)})},bo=(e,n,o)=>{if(oe(o)||Ot(o)||qt(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},$r=(e,n,o)=>{bo(e.dom,n,o)},xa=(e,n)=>{const o=e.dom;cn(n,(r,c)=>{bo(o,c,r)})},gr=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},Cl=(e,n)=>K.from(gr(e,n)),_r=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},bi=(e,n)=>{e.dom.removeAttribute(n)},ah=e=>{const n=e.dom.attributes;return n==null||n.length===0},os=e=>Ht(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),ql=e=>{e.dom.textContent="",Re(Hr(e),n=>{or(n)})},or=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Rc=e=>{const n=Hr(e);n.length>0&&ag(e,n),or(e)},yi=(e,n)=>Ee.fromDom(e.dom.cloneNode(n)),wi=e=>yi(e,!1),td=e=>yi(e,!0),ch=(e,n)=>{const o=Ee.fromTag(n),r=os(e);return xa(o,r),o},$d=(e,n)=>{const o=ch(e,n);yl(e,o);const r=Hr(e);return wl(o,r),or(e),o},Af=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,Hr(Ee.fromDom(r))},Of=e=>Lt(e,Ee.fromDom),Sa=e=>e.dom.innerHTML,Fd=(e,n)=>{const r=Ul(e).dom,c=Ee.fromDom(r.createDocumentFragment()),f=Af(n,r);wl(c,f),ql(e),xs(e,c)},Hw=e=>{const n=Ee.fromTag("div"),o=Ee.fromDom(e.dom.cloneNode(!0));return xs(n,o),Sa(n)},Df=e=>e.style!==void 0&&xe(e.style.getPropertyValue),$s=e=>{const n=Ms(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return Em(Ee.fromDom(n)).fold(()=>o.body.contains(n),Hn($s,lo))},J1=(e,n,o)=>{if(!oe(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Df(e)&&e.style.setProperty(n,o)},lh=(e,n)=>{Df(e)&&e.style.removeProperty(n)},Ia=(e,n,o)=>{const r=e.dom;J1(r,n,o)},Mc=(e,n)=>{const o=e.dom;cn(n,(r,c)=>{J1(o,c,r)})},Qr=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!$s(e)?Hd(o,n):c},Hd=(e,n)=>Df(e)?e.style.getPropertyValue(n):"",li=(e,n)=>{const o=e.dom,r=Hd(o,n);return K.from(r).filter(c=>c.length>0)},uh=e=>{const n={},o=e.dom;if(Df(o))for(let r=0;r<o.style.length;r++){const c=o.style.item(r);n[c]=o.style[c]}return n},Ep=(e,n)=>{const o=e.dom;lh(o,n),Is(Cl(e,"style").map(tr),"")&&bi(e,"style")},Q1=e=>e.dom.offsetWidth,gu=((e,n)=>{const o=(C,E)=>{if(!qt(E)&&!E.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+E);const O=C.dom;Df(O)&&(O.style[e]=E+"px")},r=C=>{const E=n(C);if(E<=0||E===null){const O=Qr(C,e);return parseFloat(O)||0}return E},c=r,f=(C,E)=>Ht(E,(O,F)=>{const U=Qr(C,F),q=U===void 0?0:parseInt(U,10);return isNaN(q)?O:O+q},0);return{set:o,get:r,getOuter:c,aggregate:f,max:(C,E,O)=>{const F=f(C,O);return E>F?E-F:0}}})("height",e=>{const n=e.dom;return $s(e)?n.getBoundingClientRect().height:n.offsetHeight}),zw=e=>gu.get(e),ev=(e,n)=>({left:e,top:n,translate:(r,c)=>ev(e+r,n+c)}),pu=ev,J0=e=>{const n=e.getBoundingClientRect();return pu(n.left,n.top)},dh=(e,n)=>e!==void 0?e:n!==void 0?n:0,cg=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,c=n.documentElement;if(o===e.dom)return pu(o.offsetLeft,o.offsetTop);const f=dh(r==null?void 0:r.pageYOffset,c.scrollTop),p=dh(r==null?void 0:r.pageXOffset,c.scrollLeft),C=dh(c.clientTop,o.clientTop),E=dh(c.clientLeft,o.clientLeft);return lg(e).translate(p-E,f-C)},lg=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?pu(r.offsetLeft,r.offsetTop):$s(e)?J0(n):pu(0,0)},tv=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return pu(o,r)},Q0=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},Gl=(e,n)=>{Dc().browser.isSafari()&&xe(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Vw=(e,n)=>{const o=f=>{if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return r(f).getOr("")},r=f=>e(f)?K.from(f.dom.nodeValue):K.none();return{get:o,getOption:r,set:(f,p)=>{if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=p}}},Rf=(e,n)=>{const r=document.createDocumentFragment();return Re(e,c=>{r.appendChild(c.dom)}),Ee.fromDom(r)},Fs=Vw(Ms,"text"),Ba=e=>Fs.get(e),nd=e=>Fs.getOption(e),nv=(e,n)=>Fs.set(e,n),Mf=(e,n)=>{const o=gr(e,n);return o===void 0||o===""?[]:o.split(" ")},ov=(e,n,o)=>{const c=Mf(e,n).concat([o]);return $r(e,n,c.join(" ")),!0},eb=(e,n,o)=>{const r=pe(Mf(e,n),c=>c!==o);return r.length>0?$r(e,n,r.join(" ")):bi(e,n),!1};var od=(e,n,o,r,c)=>e(o,r)?K.some(o):xe(c)&&c(o)?K.none():n(o,r,c);const sd=(e,n,o)=>{let r=e.dom;const c=xe(o)?o:Tt;for(;r.parentNode;){r=r.parentNode;const f=Ee.fromDom(r);if(n(f))return K.some(f);if(c(f))break}return K.none()},Gs=(e,n,o)=>od((c,f)=>f(c),sd,e,n,o),tb=(e,n)=>{const o=e.dom;return o.parentNode?zr(Ee.fromDom(o.parentNode),r=>!Nn(e,r)&&n(r)):K.none()},zr=(e,n)=>{const o=c=>n(Ee.fromDom(c));return rt(e.dom.childNodes,o).map(Ee.fromDom)},fh=(e,n)=>{const o=r=>{for(let c=0;c<r.childNodes.length;c++){const f=Ee.fromDom(r.childNodes[c]);if(n(f))return K.some(f);const p=o(r.childNodes[c]);if(p.isSome())return p}return K.none()};return o(e.dom)},ui=(e,n,o)=>sd(e,r=>cs(r,n),o),rd=(e,n)=>bs(n,e),$a=(e,n,o)=>od((c,f)=>cs(c,f),ui,e,n,o),zd=e=>e.dom.classList!==void 0,_p=e=>Mf(e,"class"),sv=(e,n)=>ov(e,"class",n),rv=(e,n)=>eb(e,"class",n),Uw=(e,n)=>ut(_p(e),n)?rv(e,n):sv(e,n),Pc=(e,n)=>{zd(e)?e.dom.classList.add(n):sv(e,n)},vu=e=>{(zd(e)?e.dom.classList:_p(e)).length===0&&bi(e,"class")},di=(e,n)=>{zd(e)?e.dom.classList.remove(n):rv(e,n),vu(e)},qi=(e,n)=>{const o=zd(e)?e.dom.classList.toggle(n):Uw(e,n);return vu(e),o},Tp=(e,n)=>zd(e)&&e.dom.classList.contains(n),ug=(e,n)=>{Re(n,o=>{Pc(e,o)})},kp=(e,n)=>{Re(n,o=>{di(e,o)})},nb=e=>$a(e,"[contenteditable]"),Kl=(e,n=!1)=>$s(e)?e.dom.isContentEditable:nb(e).fold(Qe(n),o=>PS(o)==="true"),PS=e=>e.dom.contentEditable,M=(e,n)=>{e.dom.contentEditable=n?"true":"false"},I=(e,n,o)=>pe(Na(e,o),n),te=(e,n)=>pe(Hr(e),n),he=(e,n)=>{let o=[];return Re(Hr(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(he(r,n))}),o},Fe=(e,n,o)=>I(e,r=>cs(r,n),o),kt=(e,n)=>Go(n,e),xn=(e,n,o)=>sd(e,n,o).isSome(),Gn=(e,n)=>tb(e,n).isSome(),Bo=(e,n)=>fh(e,n).isSome(),Ko=(e,n)=>xn(e,Ue(Nn,n)),lr=(e,n,o)=>ui(e,n,o).isSome(),Tr=e=>xe(e)?e:Tt,Ci=(e,n,o)=>{let r=e.dom;const c=Tr(o);for(;r.parentNode;){r=r.parentNode;const f=Ee.fromDom(r),p=n(f);if(p.isSome())return p;if(c(f))break}return K.none()},lc=(e,n,o)=>{const r=n(e),c=Tr(o);return r.orThunk(()=>c(e)?K.none():Ci(e,n,c))},Vd=e=>nd(e).filter(n=>n.trim().length!==0||n.indexOf(Er)>-1).isSome(),Ud=e=>fu(e)&&gr(e,"contenteditable")==="false",Yl=["img","br"],iv=e=>Vd(e)||ut(Yl,ko(e))||Ud(e),mh=e=>fh(e,iv),_m={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},hh=Tc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Op=(e,n,o,r)=>e.fold(n,o,r),Dp=e=>e.fold(ln,ln,ln),Ww=hh.before,jw=hh.on,ys=hh.after,sr={before:Ww,on:jw,after:ys,cata:Op,getStart:Dp},Ii=Tc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Lc=e=>Ii.exact(e.start,e.soffset,e.finish,e.foffset),Rp=e=>e.match({domRange:n=>Ee.fromDom(n.startContainer),relative:(n,o)=>sr.getStart(n),exact:(n,o,r,c)=>n}),dg=Ii.domRange,Mp=Ii.relative,Pp=Ii.exact,LS=e=>{const n=Rp(e);return mu(n)},Tm=_m.create,Pf={domRange:dg,relative:Mp,exact:Pp,exactFromRange:Lc,getWin:LS,range:Tm},Zw=(e,n,o)=>{var r;return K.from((r=e.caretPositionFromPoint)===null||r===void 0?void 0:r.call(e,n,o)).bind(c=>{if(c.offsetNode===null)return K.none();const f=e.createRange();return f.setStart(c.offsetNode,c.offset),f.collapse(),K.some(f)})},dO=(e,n,o)=>{var r;return K.from((r=e.caretRangeFromPoint)===null||r===void 0?void 0:r.call(e,n,o))},Bi=(e,n,o)=>e.caretPositionFromPoint?Zw(e,n,o):e.caretRangeFromPoint?dO(e,n,o):K.none(),Ei=(e,n,o)=>{const r=e.document;return Bi(r,n,o).map(c=>_m.create(Ee.fromDom(c.startContainer),c.startOffset,Ee.fromDom(c.endContainer),c.endOffset))},Wd=(e,n)=>{const o=ko(e);return o==="input"?sr.after(e):ut(["br","img"],o)?n===0?sr.before(e):sr.after(e):sr.on(e,n)},Lp=(e,n)=>{const o=e.fold(sr.before,Wd,sr.after),r=n.fold(sr.before,Wd,sr.after);return Pf.relative(o,r)},ob=(e,n,o,r)=>{const c=Wd(e,n),f=Wd(o,r);return Pf.relative(c,f)},uc=e=>e.match({domRange:n=>{const o=Ee.fromDom(n.startContainer),r=Ee.fromDom(n.endContainer);return ob(o,n.startOffset,r,n.endOffset)},relative:Lp,exact:ob}),qw=e=>{const n=Pf.getWin(e).dom,o=(c,f,p,C)=>Ju(n,c,f,p,C),r=uc(e);return Zt(n,r).match({ltr:o,rtl:o})},gh=(e,n,o)=>Ei(e,n,o),sb=e=>{const n=e===void 0?window:e;return Dc().browser.isFirefox()?K.none():K.from(n.visualViewport)},xl=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),rb=e=>{const n=e===void 0?window:e,o=n.document,r=tv(Ee.fromDom(o));return sb(n).fold(()=>{const c=n.document.documentElement,f=c.clientWidth,p=c.clientHeight;return xl(r.left,r.top,f,p)},c=>xl(Math.max(c.pageLeft,r.left),Math.max(c.pageTop,r.top),c.width,c.height))};class fr{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let f=n[r];if(f)return f;for(let p=n.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(f=p[r],f)return f}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let f=r.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return r}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const Np=/^[ \t\r\n]*$/,km=e=>Np.test(e),fO=e=>{for(const n of e)if(!ba(n))return!1;return!0},NS=e=>" \f	\v".indexOf(e)!==-1,ib=e=>e===`
`||e==="\r",mO=(e,n)=>n<e.length&&n>=0?ib(e[n]):!1,Gw=(e,n=4,o=!0,r=!0)=>{const c=rc(" ",n),f=e.replace(/\t/g,c);return Ht(f,(C,E)=>NS(E)||E===Er?C.pcIsSpace||C.str===""&&o||C.str.length===f.length-1&&r||mO(f,C.str.length+1)?{pcIsSpace:!1,str:C.str+Er}:{pcIsSpace:!0,str:C.str+" "}:{pcIsSpace:ib(E),str:C.str+E},{pcIsSpace:!1,str:""}).str},Am=e=>n=>!!n&&n.nodeType===e,Kw=e=>!!e&&!Object.getPrototypeOf(e),qn=Am(1),kr=e=>qn(e)&&fu(Ee.fromDom(e)),Ip=e=>qn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",fg=e=>{const n=e.toLowerCase();return o=>Ie(o)&&o.nodeName.toLowerCase()===n},Ea=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return ut(n,r)}return!1}},Bp=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(qn(r)){const c=r.ownerDocument.defaultView;if(c)for(let f=0;f<o.length;f++){const p=c.getComputedStyle(r,null);if((p?p.getPropertyValue(e):null)===o[f])return!0}}return!1}},hO=e=>n=>qn(n)&&n.hasAttribute(e),mg=e=>qn(e)&&e.hasAttribute("data-mce-bogus"),IS=e=>qn(e)&&e.getAttribute("data-mce-bogus")==="all",Lf=e=>qn(e)&&e.tagName==="TABLE",ph=e=>n=>!!(kr(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Yw=Ea(["textarea","input"]),en=Am(3),Xw=Am(4),Jw=Am(7),ei=Am(8),ns=Am(9),hg=Am(11),Vr=fg("br"),Qw=fg("img"),id=fg("a"),Nc=ph("true"),Ar=ph("false"),ab=e=>kr(e)&&e.isContentEditable&&Ie(e.parentElement)&&!e.parentElement.isContentEditable,Nf=Ea(["td","th"]),e2=Ea(["td","th","caption"]),cb=fg("template"),ad=Ea(["video","audio","object","embed"]),t2=fg("li"),lb=fg("details"),n2=fg("summary"),BS={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},gO=(e,n,o)=>{const r=Ee.fromDom(n),c=Ee.fromDom(e),f=o.getWhitespaceElements();return xn(c,C=>jn(f,ko(C)),Ue(Nn,r))},o2=e=>qn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),$S=(e,n)=>qn(e)&&jn(n.getNonEmptyElements(),e.nodeName),ub=hO("data-mce-bookmark"),pO=e=>Xc(Ee.fromDom(e)).exists(n=>!Kl(n)),vO=(e,n,o)=>km(e.data)&&!gO(e,n,o),s2=(e,n,o,r)=>en(e)&&!vO(e,n,o)&&(!r.includeZwsp||!fO(e.data)),r2=(e,n,o,r)=>xe(r.isContent)&&r.isContent(n)||$S(n,e)||ub(n)||o2(n)||s2(n,o,e,r)||Ar(n)||Nc(n)&&pO(n),bu=(e,n,o)=>{const r={...BS,...o};if(r.checkRootAsContent&&r2(e,n,n,r))return!1;let c=n.firstChild,f=0;if(!c)return!0;const p=new fr(c,n);do{if(r.skipBogus&&qn(c)){const C=c.getAttribute("data-mce-bogus");if(C){c=p.next(C==="all");continue}}if(ei(c)){c=p.next(!0);continue}if(Vr(c)){f++,c=p.next();continue}if(r2(e,c,n,r))return!1;c=p.next()}while(c);return f<=1},Ic=(e,n,o)=>bu(e,n.dom,{checkRootAsContent:!0,...o}),Xl=(e,n,o)=>r2(e,n,n,{includeZwsp:BS.includeZwsp,...o}),yo=e=>{const n=e.toLowerCase();return n==="svg"?"svg":n==="math"?"math":"html"},Bc=e=>yo(e)!=="html",gg=e=>Bc(e.nodeName),FS=e=>yo(e.nodeName),bO=["svg","math"],db=()=>{const e=pa(),n=()=>e.get().map(FS).getOr("html");return{track:c=>(gg(c)?e.set(c):e.get().exists(f=>!f.contains(c))&&e.clear(),n()),current:n,reset:()=>{e.clear()}}},av="data-mce-block",pg=e=>pe(_t(e),n=>!/[A-Z]/.test(n)),fb=e=>Lt(pg(e),n=>{const o=CSS.escape(n);return`${o}:`+Lt(bO,r=>`not(${r} ${o})`).join(":")}).join(","),vh=(e,n)=>Ie(n.querySelector(e))?(n.setAttribute(av,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(av),!1),i2=(e,n)=>{const o=fb(e.getTransparentElements()),r=fb(e.getBlockElements());return pe(n.querySelectorAll(o),c=>vh(r,c))},HS=(e,n,o)=>{var r;const c=o?"lastChild":"firstChild";for(let f=n[c];f;f=f[c])if(bu(e,f,{checkRootAsContent:!0})){(r=f.parentNode)===null||r===void 0||r.removeChild(f);return}},Kr=(e,n,o)=>{const r=document.createRange(),c=n.parentNode;if(c){r.setStartBefore(n),r.setEndBefore(o);const f=r.extractContents();HS(e,f,!0),r.setStartAfter(o),r.setEndAfter(n);const p=r.extractContents();HS(e,p,!1),bu(e,f,{checkRootAsContent:!0})||c.insertBefore(f,n),bu(e,o,{checkRootAsContent:!0})||c.insertBefore(o,n),bu(e,p,{checkRootAsContent:!0})||c.insertBefore(p,n),c.removeChild(n)}},cd=(e,n,o)=>{const r=e.getBlockElements(),c=Ee.fromDom(n),f=C=>ko(C)in r,p=C=>Nn(C,c);Re(Of(o),C=>{sd(C,f,p).each(E=>{const O=te(C,F=>f(F)&&!e.isValidChild(ko(E),ko(F)));if(O.length>0){const F=Xc(E);Re(O,U=>{sd(U,f,p).each(q=>{Kr(e,q.dom,U.dom)})}),F.each(U=>i2(e,U.dom))}})})},Qc=(e,n,o)=>{Re([...o,...Vt(e,n)?[n]:[]],r=>Re(kt(Ee.fromDom(r),r.nodeName.toLowerCase()),c=>{Jl(e,c.dom)&&Rc(c)}))},bh=(e,n)=>{const o=i2(e,n);cd(e,n,o),Qc(e,n,o)},$c=(e,n)=>{if($p(e,n)){const o=fb(e.getBlockElements());vh(o,n)}},vg=(e,n,o)=>{const r=f=>Nn(f,Ee.fromDom(n)),c=Na(Ee.fromDom(o),r);tt(c,c.length-2).filter(Ur).fold(()=>bh(e,n),f=>bh(e,f.dom))},ca=e=>e.hasAttribute(av),Xa=(e,n)=>jn(e.getTransparentElements(),n),$p=(e,n)=>qn(n)&&Xa(e,n.nodeName),Vt=(e,n)=>$p(e,n)&&ca(n),Jl=(e,n)=>$p(e,n)&&!ca(n),cv=(e,n)=>n.type===1&&Xa(e,n.name)&&oe(n.attr(av)),Gi=Dc().browser,yu=e=>rt(e,Ur),wu=e=>Gi.isFirefox()&&ko(e)==="table"?yu(Hr(e)).filter(n=>ko(n)==="caption").bind(n=>yu(Wi(n)).map(o=>{const r=o.dom.offsetTop,c=n.dom.offsetTop,f=n.dom.offsetHeight;return r<=c?-f:0})).getOr(0):0,zS=(e,n)=>e.children&&ut(e.children,n),Om=(e,n,o)=>{let r=0,c=0;const f=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&Qr(Ee.fromDom(e),"position")==="static"){const C=n.getBoundingClientRect();return r=C.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,c=C.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:r,y:c}}let p=n;for(;p&&p!==o&&p.nodeType&&!zS(p,o);){const C=p;r+=C.offsetLeft||0,c+=C.offsetTop||0,p=C.offsetParent}for(p=n.parentNode;p&&p!==o&&p.nodeType&&!zS(p,o);)r-=p.scrollLeft||0,c-=p.scrollTop||0,p=p.parentNode;c+=wu(Ee.fromDom(n))}return{x:r,y:c}},VS=(e,n)=>{const o=n.crossOrigin;return n.contentCssCors?"anonymous":xe(o)?o(e):void 0},el=(e,n={})=>{let o=0;const r={},c=Ee.fromDom(e),f=Wl(c),p=ze=>{n.referrerPolicy=ze},C=ze=>{n.contentCssCors=ze},E=ze=>{n.crossOrigin=ze},O=ze=>{xs(q1(c),ze)},F=ze=>{const Ye=q1(c);rd(Ye,"#"+ze).each(or)},U=ze=>Jo(r,ze).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),q=ze=>new Promise((Ye,lt)=>{let Ft;const vn=on._addCacheSuffix(ze),nn=U(vn);r[vn]=nn,nn.count++;const Pt=(Qn,Po)=>{Re(Qn,vo),nn.status=Po,nn.passed=[],nn.failed=[],Ft&&(Ft.onload=null,Ft.onerror=null,Ft=null)},Ke=()=>Pt(nn.passed,2),Ce=()=>Pt(nn.failed,3);if(Ye&&nn.passed.push(Ye),lt&&nn.failed.push(lt),nn.status===1)return;if(nn.status===2){Ke();return}if(nn.status===3){Ce();return}nn.status=1;const dt=Ee.fromTag("link",f.dom);xa(dt,{rel:"stylesheet",type:"text/css",id:nn.id});const tn=VS(ze,n);tn!==void 0&&$r(dt,"crossOrigin",tn),n.referrerPolicy&&$r(dt,"referrerpolicy",n.referrerPolicy),Ft=dt.dom,Ft.onload=Ke,Ft.onerror=Ce,O(dt),$r(dt,"href",vn)}),J=(ze,Ye)=>{const lt=U(ze);r[ze]=lt,lt.count++;const Ft=Ee.fromTag("style",f.dom);xa(Ft,{rel:"stylesheet",type:"text/css",id:lt.id,"data-mce-key":ze}),Ft.dom.innerHTML=Ye,O(Ft)},ge=ze=>Promise.allSettled(Lt(ze,lt=>q(lt).then(Qe(lt)))).then(lt=>{const Ft=St(lt,vn=>vn.status==="fulfilled");return Ft.fail.length>0?Promise.reject(Lt(Ft.fail,vn=>vn.reason)):Lt(Ft.pass,vn=>vn.value)}),fe=ze=>{const Ye=on._addCacheSuffix(ze);Jo(r,Ye).each(lt=>{--lt.count===0&&(delete r[Ye],F(lt.id))})};return{load:q,loadRawCss:J,loadAll:ge,unload:fe,unloadRawCss:ze=>{Jo(r,ze).each(Ye=>{--Ye.count===0&&(delete r[ze],F(Ye.id))})},unloadAll:ze=>{Re(ze,Ye=>{fe(Ye)})},_setReferrerPolicy:p,_setContentCssCors:C,_setCrossOrigin:E}},ld=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const f=Zi(o).dom;return K.from(e.get(f)).getOrThunk(()=>{const p=el(f,r);return e.set(f,p),p})}}})(),lv=e=>e.nodeName.toLowerCase()==="span",ni=(e,n)=>Ie(e)&&(Xl(n,e)||n.isInline(e.nodeName.toLowerCase())),US=(e,n,o)=>{const r=new fr(e,n).prev(!1),c=new fr(e,n).next(!1),f=ht(r)||ni(r,o),p=ht(c)||ni(c,o);return f&&p},mb=e=>lv(e)&&e.getAttribute("data-mce-type")==="bookmark",jd=(e,n,o)=>en(e)&&e.data.length>0&&US(e,n,o),a2=e=>qn(e)?e.childNodes.length>0:!1,Sl=e=>hg(e)||ns(e),c2=(e,n,o,r)=>{var c;const f=r||n;if(qn(n)&&mb(n))return n;const p=n.childNodes;for(let C=p.length-1;C>=0;C--)c2(e,p[C],o,f);if(qn(n)){const C=n.childNodes;C.length===1&&mb(C[0])&&((c=n.parentNode)===null||c===void 0||c.insertBefore(C[0],n))}return!Sl(n)&&!Xl(o,n)&&!a2(n)&&!jd(n,f,o)&&e.remove(n),n},ct=on.makeMap,Fc=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fp=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yr=/[<>&\"\']/g,Ql=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Fa={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Zs={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},WS={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},yh=e=>{const n=Ee.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},l2=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let c=0;c<r.length;c+=2){const f=String.fromCharCode(parseInt(r[c],n));if(!Zs[f]){const p="&"+r[c+1]+";";o[f]=p,o[p]=f}}return o}else return},wh=l2("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Hp=(e,n)=>e.replace(n?Fc:Fp,o=>Zs[o]||o),jS=e=>(""+e).replace(Yr,n=>Zs[n]||n),ZS=(e,n)=>e.replace(n?Fc:Fp,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Zs[o]||"&#"+o.charCodeAt(0)+";"),Dm=(e,n,o)=>{const r=o||wh;return e.replace(n?Fc:Fp,c=>Zs[c]||r[c]||c)},bg={encodeRaw:Hp,encodeAllRaw:jS,encodeNumeric:ZS,encodeNamed:Dm,getEncodeFunc:(e,n)=>{const o=l2(n)||wh,r=(p,C)=>p.replace(C?Fc:Fp,E=>Zs[E]!==void 0?Zs[E]:o[E]!==void 0?o[E]:E.length>1?"&#"+((E.charCodeAt(0)-55296)*1024+(E.charCodeAt(1)-56320)+65536)+";":"&#"+E.charCodeAt(0)+";"),c=(p,C)=>Dm(p,C,o),f=ct(e.replace(/\+/g,","));return f.named&&f.numeric?r:f.named?n?c:Dm:f.numeric?ZS:Hp},decode:e=>e.replace(Ql,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Fa[o]||String.fromCharCode(o)):WS[n]||wh[n]||yh(n))},Ha=(e,n)=>(e=on.trim(e),e?e.split(n||" "):[]),_a=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Rm=e=>Oe(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",Mm=e=>{const n=o=>Xe(o)?Lt(o,n):Rm(o)?new RegExp(o.source,o.flags):Oe(o)?ro(o,n):o;return n(e)},yg=e=>{const n=/^(~)?(.+)$/;return Rn(Ha(e,","),o=>{const r=n.exec(o);if(r){const f=r[1]==="~"?"span":"div",p=r[2];return[{cloneName:f,name:p}]}else return[]})},zp=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Hc=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const r=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:r}},Ch=e=>{const{blockContent:n,phrasingContent:o,flowContent:r}=Hc(e),c=f=>Object.freeze(f.split(" "));return Object.freeze({blockContent:c(n),phrasingContent:c(o),flowContent:c(r)})},Ki={html4:Pi(()=>Ch("html4")),html5:Pi(()=>Ch("html5")),"html5-strict":Pi(()=>Ch("html5-strict"))},hb=(e,n)=>{const{blockContent:o,phrasingContent:r,flowContent:c}=Ki[e]();return n==="blocks"?K.some(o):n==="phrasing"?K.some(r):n==="flow"?K.some(c):K.none()},ud=e=>{const n=zp(e),{phrasingContent:o,flowContent:r}=Hc(e),c={},f=(E,O,F)=>{c[E]={attributes:No(O,Qe({})),attributesOrder:O,children:No(F,Qe({}))}},p=(E,O="",F="")=>{const U=Ha(F),q=Ha(E);let J=q.length;const ge=[...n,...Ha(O)];for(;J--;)f(q[J],ge.slice(),U)},C=(E,O)=>{const F=Ha(E),U=Ha(O);let q=F.length;for(;q--;){const J=c[F[q]];for(let ge=0,fe=U.length;ge<fe;ge++)J.attributes[U[ge]]={},J.attributesOrder.push(U[ge])}};return e!=="html5-strict"&&(Re(Ha("acronym applet basefont big font strike tt"),F=>{p(F,"",o)}),Re(Ha("center dir isindex noframes"),F=>{p(F,"",r)})),p("html","manifest","head body"),p("head","","base command link meta noscript script style title"),p("title hr noscript br"),p("base","href target"),p("link","href rel media hreflang type sizes hreflang"),p("meta","name http-equiv content charset"),p("style","media type scoped"),p("script","src async defer type charset"),p("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),p("dd div","",r),p("address dt caption","",e==="html4"?o:r),p("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),p("blockquote","cite",r),p("ol","reversed start type","li"),p("ul","","li"),p("li","value",r),p("dl","","dt dd"),p("a","href target rel media hreflang type",e==="html4"?o:r),p("q","cite",o),p("ins del","cite datetime",r),p("img","src sizes srcset alt usemap ismap width height"),p("iframe","src name width height",r),p("embed","src type width height"),p("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),p("param","name value"),p("map","name",[r,"area"].join(" ")),p("area","alt coords shape href target rel media hreflang type"),p("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),p("colgroup","span","col"),p("col","span"),p("tbody thead tfoot","","tr"),p("tr","","td th"),p("td","colspan rowspan headers",r),p("th","colspan rowspan headers scope abbr",r),p("form","accept-charset action autocomplete enctype method name novalidate target",r),p("fieldset","disabled form name",[r,"legend"].join(" ")),p("label","form for",o),p("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),p("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),p("select","disabled form multiple name required size","option optgroup"),p("optgroup","disabled label","option"),p("option","disabled label selected value"),p("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),p("menu","type label",[r,"li"].join(" ")),p("noscript","",r),e!=="html4"&&(p("wbr"),p("ruby","",[o,"rt rp"].join(" ")),p("figcaption","",r),p("mark rt rp bdi","",o),p("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),p("canvas","width height",r),p("data","value",o),p("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),p("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),p("picture","","img source"),p("source","src srcset type media sizes"),p("track","kind src srclang label default"),p("datalist","",[o,"option"].join(" ")),p("article section nav aside main header footer","",r),p("hgroup","","h1 h2 h3 h4 h5 h6"),p("figure","",[r,"figcaption"].join(" ")),p("time","datetime",o),p("dialog","open",r),p("command","type label icon disabled checked radiogroup command"),p("output","for form name",o),p("progress","value max",o),p("meter","value min max low high optimum",o),p("details","open",[r,"summary"].join(" ")),p("keygen","autofocus challenge disabled form keytype name"),f("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(C("script","language xml:space"),C("style","xml:space"),C("object","declare classid code codebase codetype archive standby align border hspace vspace"),C("embed","align name hspace vspace"),C("param","valuetype type"),C("a","charset name rev shape coords"),C("br","clear"),C("applet","codebase archive code object alt name width height align hspace vspace"),C("img","name longdesc align border hspace vspace"),C("iframe","longdesc frameborder marginwidth marginheight scrolling align"),C("font basefont","size color face"),C("input","usemap align"),C("select"),C("textarea"),C("h1 h2 h3 h4 h5 h6 div p legend caption","align"),C("ul","type compact"),C("li","type"),C("ol dl menu dir","compact"),C("pre","width xml:space"),C("hr","align noshade size width"),C("isindex","prompt"),C("table","summary width frame rules cellspacing cellpadding align bgcolor"),C("col","width align char charoff valign"),C("colgroup","width align char charoff valign"),C("thead","align char charoff valign"),C("tr","align char charoff valign bgcolor"),C("th","axis align char charoff valign nowrap bgcolor width height"),C("form","accept"),C("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),C("tfoot","align char charoff valign"),C("tbody","align char charoff valign"),C("area","nohref"),C("body","background bgcolor text link vlink alink")),e!=="html4"&&(C("input button select textarea","autofocus"),C("input textarea","placeholder"),C("a","download"),C("link script img","crossorigin"),C("img","loading"),C("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&Re([c.video,c.audio],E=>{delete E.children.audio,delete E.children.video}),Re(Ha("a form meter progress dfn"),E=>{c[E]&&delete c[E].children[E]}),delete c.caption.children.table,delete c.script,c},dd=e=>e==="-"?"remove":"add",gb=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return K.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},la=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Rn(Ha(e,","),o=>{const r=n.exec(o);if(r){const c=r[1],f=c?dd(c):"replace",p=r[2],C=Rn(Ha(r[3],"|"),E=>gb(E).toArray());return[{operation:f,name:p,validChildren:C}]}else return[]})},Vp=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:c,attributesOrder:f}=n;return Re(Ha(e,"|"),p=>{const C=o.exec(p);if(C){const E={},O=C[1],F=C[2].replace(/[\\:]:/g,":"),U=C[3],q=C[4];if(O==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(F),E.required=!0),O==="-"){delete c[F],f.splice(on.inArray(f,F),1);return}if(U&&(U==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:F,value:q}),E.defaultValue=q):U==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:F,value:q}),E.forcedValue=q):U==="<"&&(E.validValues=on.makeMap(q,"?"))),r.test(F)){const J=E;n.attributePatterns=n.attributePatterns||[],J.pattern=_a(F),n.attributePatterns.push(J)}else c[F]||f.push(F),c[F]=E}})},Pm=(e,n)=>{cn(e.attributes,(o,r)=>{n.attributes[r]=o}),n.attributesOrder.push(...e.attributesOrder)},wg=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Rn(Ha(n,","),r=>{const c=o.exec(r);if(c){const f=c[1],p=c[2],C=c[3],E=c[4],O=c[5],F={attributes:{},attributesOrder:[]};if(e.each(U=>Pm(U,F)),f==="#"?F.paddEmpty=!0:f==="-"&&(F.removeEmpty=!0),E==="!"&&(F.removeEmptyAttrs=!0),O&&Vp(O,F),C&&(F.outputName=p),p==="@")if(e.isNone())e=K.some(F);else return[];return[C?{name:p,element:F,aliasName:C}:{name:p,element:F}]}else return[]})},If={},dv=on.makeMap,eu=on.each,Cg=on.extend,qS=on.explode,fi=(e,n={})=>{const o=dv(e," ",dv(e.toUpperCase()," "));return Cg(o,n)},GS=e=>fi("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Bf=(e,n)=>{if(e){const o={};return oe(e)&&(e={"*":e}),eu(e,(r,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?dv(r,/[, ]/):qS(r,/[, ]/)}),o}else return},fd=(e={})=>{var n;const o={},r={};let c=[];const f={},p={},C=(mo,ks,Oi)=>{const Wa=e[mo];if(Wa)return dv(Wa,/[, ]/,dv(Wa.toUpperCase(),/[, ]/));{let nc=If[mo];return nc||(nc=fi(ks,Oi),If[mo]=nc),nc}},E=(n=e.schema)!==null&&n!==void 0?n:"html5",O=ud(E);e.verify_html===!1&&(e.valid_elements="*[*]");const F=Bf(e.valid_styles),U=Bf(e.invalid_styles,"map"),q=Bf(e.valid_classes,"map"),J=C("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ge=C("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),fe=C("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),de=C("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),He="td th iframe video audio object script code",ze=C("non_empty_elements",He+" pre svg textarea summary",fe),Ye=C("move_caret_before_on_enter_elements",He+" table",fe),lt="h1 h2 h3 h4 h5 h6",Ft=C("text_block_elements",lt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),vn=C("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",Ft),nn=C("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Pt=C("transparent_elements","a ins del canvas map"),Ke=C("wrap_block_elements","pre "+lt);eu("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),mo=>{p[mo]=new RegExp("</"+mo+"[^>]*>","gi")});const Ce=mo=>{const ks=K.from(o["@"]),Oi=/[*?+]/;Re(wg(ks,mo??""),({name:Wa,element:nc,aliasName:Ra})=>{if(Ra&&(o[Ra]=nc),Oi.test(Wa)){const gi=nc;gi.pattern=_a(Wa),c.push(gi)}else o[Wa]=nc})},dt=mo=>{c=[],Re(_t(o),ks=>{delete o[ks]}),Ce(mo)},tn=(mo,ks)=>{var Oi,Wa;delete If.text_block_elements,delete If.block_elements;const nc=ks.extends?!iu(ks.extends):!1,Ra=ks.extends;if(r[mo]=Ra?r[Ra]:{},f[mo]=Ra??mo,ze[mo.toUpperCase()]={},ze[mo]={},nc||(vn[mo.toUpperCase()]={},vn[mo]={}),Ra&&!o[mo]&&o[Ra]){const gi=Mm(o[Ra]);delete gi.removeEmptyAttrs,delete gi.removeEmpty,o[mo]=gi}else o[mo]={attributesOrder:[],attributes:{}};if(Xe(ks.attributes)){const gi=Uu=>{pi.attributesOrder.push(Uu),pi.attributes[Uu]={}},pi=(Oi=o[mo])!==null&&Oi!==void 0?Oi:{};delete pi.attributesDefault,delete pi.attributesForced,delete pi.attributePatterns,delete pi.attributesRequired,pi.attributesOrder=[],pi.attributes={},Re(ks.attributes,Uu=>{const Gh=zp(E);gb(Uu).each(({preset:$1,name:pp})=>{$1?pp==="global"&&Re(Gh,gi):gi(pp)})}),o[mo]=pi}if(Ot(ks.padEmpty)){const gi=(Wa=o[mo])!==null&&Wa!==void 0?Wa:{};gi.paddEmpty=ks.padEmpty,o[mo]=gi}if(Xe(ks.children)){const gi={},pi=Gh=>{gi[Gh]={}},Uu=Gh=>{hb(E,Gh).each($1=>{Re($1,pi)})};Re(ks.children,Gh=>{gb(Gh).each(({preset:$1,name:pp})=>{$1?Uu(pp):pi(pp)})}),r[mo]=gi}Ra&&cn(r,(gi,pi)=>{gi[Ra]&&(r[pi]=gi=Cg({},r[pi]),gi[mo]=gi[Ra])})},Qn=mo=>{Re(yg(mo??""),({name:ks,cloneName:Oi})=>{tn(ks,{extends:Oi})})},Po=mo=>{Oe(mo)?cn(mo,(ks,Oi)=>tn(Oi,ks)):oe(mo)&&Qn(mo)},ss=mo=>{Re(la(mo??""),({operation:ks,name:Oi,validChildren:Wa})=>{const nc=ks==="replace"?{"#comment":{}}:r[Oi],Ra=pi=>{ks==="remove"?delete nc[pi]:nc[pi]={}},gi=pi=>{hb(E,pi).each(Uu=>{Re(Uu,Ra)})};Re(Wa,({preset:pi,name:Uu})=>{pi?gi(Uu):Ra(Uu)}),r[Oi]=nc})},vs=mo=>{const ks=o[mo];if(ks)return ks;let Oi=c.length;for(;Oi--;){const Wa=c[Oi];if(Wa.pattern.test(mo))return Wa}},Zr=()=>{e.valid_elements?(dt(e.valid_elements),eu(O,(mo,ks)=>{r[ks]=mo.children})):(eu(O,(mo,ks)=>{o[ks]={attributes:mo.attributes,attributesOrder:mo.attributesOrder},r[ks]=mo.children}),eu(Ha("strong/b em/i"),mo=>{const ks=Ha(mo,"/");o[ks[1]].outputName=ks[0]}),eu(nn,(mo,ks)=>{o[ks]&&(e.padd_empty_block_inline_children&&(o[ks].paddInEmptyBlock=!0),o[ks].removeEmpty=!0)}),eu(Ha("ol ul blockquote a table tbody"),mo=>{o[mo]&&(o[mo].removeEmpty=!0)}),eu(Ha("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),mo=>{o[mo]&&(o[mo].paddEmpty=!0)}),eu(Ha("span"),mo=>{o[mo].removeEmptyAttrs=!0})),delete o.svg,Po(e.custom_elements),ss(e.valid_children),Ce(e.extended_valid_elements),ss("+ol[ul|ol],+ul[ul|ol]"),eu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(mo,ks)=>{o[ks]&&(o[ks].parentsRequired=Ha(mo))}),e.invalid_elements&&eu(qS(e.invalid_elements),mo=>{o[mo]&&delete o[mo]}),vs("span")||Ce("span[!data-mce-type|*]")},qr=Qe(F),tc=Qe(U),fn=Qe(q),no=Qe(de),Ts=Qe(vn),Vs=Qe(Ft),Xn=Qe(nn),gn=Qe(Object.seal(fe)),Mn=Qe(ge),Co=Qe(ze),Lo=Qe(Ye),Qs=Qe(J),yr=Qe(Pt),bf=Qe(Ke),_c=Qe(Object.seal(p)),oh=(mo,ks)=>{const Oi=r[mo.toLowerCase()];return!!(Oi&&Oi[ks.toLowerCase()])},mm=(mo,ks)=>{const Oi=vs(mo);if(Oi)if(ks){if(Oi.attributes[ks])return!0;const Wa=Oi.attributePatterns;if(Wa){let nc=Wa.length;for(;nc--;)if(Wa[nc].pattern.test(ks))return!0}}else return!0;return!1},iu=mo=>jn(Ts(),mo),Vu=mo=>!go(mo,"#")&&mm(mo)&&!iu(mo),sh=mo=>jn(bf(),mo)||Vu(mo),bw=Qe(f);return Zr(),{type:E,children:r,elements:o,getValidStyles:qr,getValidClasses:fn,getBlockElements:Ts,getInvalidStyles:tc,getVoidElements:gn,getTextBlockElements:Vs,getTextInlineElements:Xn,getBoolAttrs:no,getElementRule:vs,getSelfClosingElements:Mn,getNonEmptyElements:Co,getMoveCaretBeforeOnEnterElements:Lo,getWhitespaceElements:Qs,getTransparentElements:yr,getSpecialElements:_c,isValidChild:oh,isValid:mm,isBlock:iu,isInline:Vu,isWrapper:sh,getCustomElements:bw,addValidElements:Ce,setValidElements:dt,addCustomElements:Po,addValidChildren:ss}},u2=e=>({value:xg(e)}),xg=e=>Pd(e,"#").toUpperCase(),El=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},Sg=e=>{const n=El(e.red)+El(e.green)+El(e.blue);return u2(n)},Eg=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,d2=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,pb=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),vb=(e,n,o,r)=>{const c=parseInt(e,10),f=parseInt(n,10),p=parseInt(o,10),C=parseFloat(r);return pb(c,f,p,C)},bb=e=>Eg.test(e)?"rgb":d2.test(e)?"rgba":"other",f2=e=>{const n=Eg.exec(e);if(n!==null)return K.some(vb(n[1],n[2],n[3],"1"));const o=d2.exec(e);return o!==null?K.some(vb(o[1],o[2],o[3],o[4])):K.none()},KS=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,_g=e=>f2(e).map(Sg).map(n=>"#"+n.value).getOr(e),Tg=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,f={};let p,C;const E=va;n&&(p=n.getValidStyles(),C=n.getInvalidStyles());const O=(`\\" \\' \\; \\: ; : `+E).split(" ");for(let U=0;U<O.length;U++)f[O[U]]=E+U,f[E+U]=O[U];const F={parse:U=>{const q={};let J=!1;const ge=e.url_converter,fe=e.url_converter_scope||F,de=(Pt,Ke,Ce)=>{const dt=q[Pt+"-top"+Ke];if(!dt)return;const tn=q[Pt+"-right"+Ke];if(!tn)return;const Qn=q[Pt+"-bottom"+Ke];if(!Qn)return;const Po=q[Pt+"-left"+Ke];if(!Po)return;const ss=[dt,tn,Qn,Po];let vs=ss.length-1;for(;vs--&&ss[vs]===ss[vs+1];);vs>-1&&Ce||(q[Pt+Ke]=vs===-1?ss[0]:ss.join(" "),delete q[Pt+"-top"+Ke],delete q[Pt+"-right"+Ke],delete q[Pt+"-bottom"+Ke],delete q[Pt+"-left"+Ke])},He=Pt=>{const Ke=q[Pt];if(!Ke)return;const Ce=Ke.indexOf(",")>-1?[Ke]:Ke.split(" ");let dt=Ce.length;for(;dt--;)if(Ce[dt]!==Ce[0])return!1;return q[Pt]=Ce[0],!0},ze=(Pt,Ke,Ce,dt)=>{He(Ke)&&He(Ce)&&He(dt)&&(q[Pt]=q[Ke]+" "+q[Ce]+" "+q[dt],delete q[Ke],delete q[Ce],delete q[dt])},Ye=Pt=>(J=!0,f[Pt]),lt=(Pt,Ke)=>(J&&(Pt=Pt.replace(/\uFEFF[0-9]/g,Ce=>f[Ce])),Ke||(Pt=Pt.replace(/\\([\'\";:])/g,"$1")),Pt),Ft=Pt=>String.fromCharCode(parseInt(Pt.slice(1),16)),vn=Pt=>Pt.replace(/\\[0-9a-f]+/gi,Ft),nn=(Pt,Ke,Ce,dt,tn,Qn)=>{if(tn=tn||Qn,tn)return tn=lt(tn),"'"+tn.replace(/\'/g,"\\'")+"'";if(Ke=lt(Ke||Ce||dt||""),!e.allow_script_urls){const Po=Ke.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Po)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Po))return""}return ge&&(Ke=ge.call(fe,Ke,"style")),"url('"+Ke.replace(/\'/g,"\\'")+"')"};if(U){U=U.replace(/[\u0000-\u001F]/g,""),U=U.replace(/\\[\"\';:\uFEFF]/g,Ye).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ke=>Ke.replace(/[;:]/g,Ye));let Pt;for(;Pt=r.exec(U);){r.lastIndex=Pt.index+Pt[0].length;let Ke=Pt[1].replace(c,"").toLowerCase(),Ce=Pt[2].replace(c,"");if(Ke&&Ce){if(Ke=vn(Ke),Ce=vn(Ce),Ke.indexOf(E)!==-1||Ke.indexOf('"')!==-1||!e.allow_script_urls&&(Ke==="behavior"||/expression\s*\(|\/\*|\*\//.test(Ce)))continue;Ke==="font-weight"&&Ce==="700"?Ce="bold":(Ke==="color"||Ke==="background-color")&&(Ce=Ce.toLowerCase()),bb(Ce)==="rgb"&&f2(Ce).each(dt=>{Ce=_g(KS(dt)).toLowerCase()}),Ce=Ce.replace(o,nn),q[Ke]=J?lt(Ce,!0):Ce}}de("border","",!0),de("border","-width"),de("border","-color"),de("border","-style"),de("padding",""),de("margin",""),ze("border","border-width","border-style","border-color"),q.border==="medium none"&&delete q.border,q["border-image"]==="none"&&delete q["border-image"]}return q},serialize:(U,q)=>{let J="";const ge=(de,He)=>{const ze=He[de];if(ze)for(let Ye=0,lt=ze.length;Ye<lt;Ye++){const Ft=ze[Ye],vn=U[Ft];vn&&(J+=(J.length>0?" ":"")+Ft+": "+vn+";")}},fe=(de,He)=>{if(!C||!He)return!0;let ze=C["*"];return ze&&ze[de]?!1:(ze=C[He],!(ze&&ze[de]))};return q&&p?(ge("*",p),ge(q,p)):cn(U,(de,He)=>{de&&fe(He,q)&&(J+=(J.length>0?" ":"")+He+": "+de+";")}),J}};return F},Zd={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Lm=e=>e instanceof Event||xe(e.initEvent),kg=e=>e.isDefaultPrevented===rn||e.isDefaultPrevented===Tt,YS=e=>Je(e.preventDefault)||Lm(e),fv=(e,n)=>{const o=n??{};for(const r in e)jn(Zd,r)||(o[r]=e[r]);return Ie(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Ie(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),Ie(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},mv=(e,n,o,r)=>{var c;const f=fv(n,r);return f.type=e,Je(f.target)&&(f.target=(c=f.srcElement)!==null&&c!==void 0?c:o),YS(n)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=rn,xe(n.preventDefault)&&n.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=rn,xe(n.stopPropagation)&&n.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=rn,f.stopPropagation()},kg(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?rn:Tt,f.isPropagationStopped=f.cancelBubble===!0?rn:Tt,f.isImmediatePropagationStopped=Tt)),f},XS="mce-data-",JS=/^(?:mouse|contextmenu)|click/,yb=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},Ag=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},wb=e=>Ie(e)&&JS.test(e.type),Cu=(e,n)=>{const o=mv(e.type,e,document,n);if(wb(e)&&ht(e.pageX)&&!ht(e.clientX)){const r=o.target.ownerDocument||document,c=r.documentElement,f=r.body,p=o;p.pageX=e.clientX+(c&&c.scrollLeft||f&&f.scrollLeft||0)-(c&&c.clientLeft||f&&f.clientLeft||0),p.pageY=e.clientY+(c&&c.scrollTop||f&&f.scrollTop||0)-(c&&c.clientTop||f&&f.clientTop||0)}return o},QS=(e,n,o)=>{const r=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const f=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,p=()=>{Ag(e,"DOMContentLoaded",p),Ag(e,"load",p),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};f()?p():yb(e,"DOMContentLoaded",p),o.domLoaded||yb(e,"load",p)};class md{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=XS+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,c){const f=this;let p;const C=window,E=q=>{f.executeHandlers(Cu(q||C.event),O)};if(!n||en(n)||ei(n))return r;let O;n[f.expando]?O=n[f.expando]:(O=f.count++,n[f.expando]=O,f.events[O]={}),c=c||n;const F=o.split(" ");let U=F.length;for(;U--;){let q=F[U],J=E,ge=!1,fe=!1;if(q==="DOMContentLoaded"&&(q="ready"),f.domLoaded&&q==="ready"&&n.readyState==="complete"){r.call(c,Cu({type:q}));continue}!f.hasFocusIn&&(q==="focusin"||q==="focusout")&&(ge=!0,fe=q==="focusin"?"focus":"blur",J=de=>{const He=Cu(de||C.event);He.type=He.type==="focus"?"focusin":"focusout",f.executeHandlers(He,O)}),p=f.events[O][q],p?q==="ready"&&f.domLoaded?r(Cu({type:q})):p.push({func:r,scope:c}):(f.events[O][q]=p=[{func:r,scope:c}],p.fakeName=fe,p.capture=ge,p.nativeHandler=J,q==="ready"?QS(n,J,f):yb(n,fe||q,J,ge))}return n=p=null,r}unbind(n,o,r){if(!n||en(n)||ei(n))return this;const c=n[this.expando];if(c){let f=this.events[c];if(o){const p=o.split(" ");let C=p.length;for(;C--;){const E=p[C],O=f[E];if(O){if(r){let F=O.length;for(;F--;)if(O[F].func===r){const U=O.nativeHandler,q=O.fakeName,J=O.capture,ge=O.slice(0,F).concat(O.slice(F+1));ge.nativeHandler=U,ge.fakeName=q,ge.capture=J,f[E]=ge}}(!r||O.length===0)&&(delete f[E],Ag(n,O.fakeName||E,O.nativeHandler,O.capture))}}}else cn(f,(p,C)=>{Ag(n,p.fakeName||C,p.nativeHandler,p.capture)}),f={};for(const p in f)if(jn(f,p))return this;delete this.events[c];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||en(n)||ei(n))return this;const c=Cu({type:o,target:n},r);do{const f=n[this.expando];f&&this.executeHandlers(c,f),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||en(n)||ei(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],c=r&&r[n.type];if(c)for(let f=0,p=c.length;f<p;f++){const C=c[f];if(C&&C.func.call(C.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}md.Event=new md;const hv=on.each,eE=on.grep,tE="data-mce-style",_l=on.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),gv=(e,n,o)=>{Je(o)||o===""?bi(e,n):$r(e,n,o)},nE=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),xh=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const f=c.nodeType;n&&en(c)&&(f===r||!c.data.length)||(o++,r=f)}return o},yO=(e,n)=>{const o=gr(n,"style"),r=e.serialize(e.parse(o),ko(n));gv(n,tE,r)},wO=(e,n)=>qt(e)?jn(_l,n)?e+"":e+"px":e,m2=(e,n,o)=>{const r=nE(n);Je(o)||o===""?Ep(e,r):Ia(e,r,wO(o,r))},CO=(e,n,o)=>{const r=n.keep_values,c={set:(p,C,E)=>{const O=Ee.fromDom(p);xe(n.url_converter)&&Ie(C)&&(C=n.url_converter.call(n.url_converter_scope||o(),String(C),E,p));const F="data-mce-"+E;gv(O,F,C),gv(O,E,C)},get:(p,C)=>{const E=Ee.fromDom(p);return gr(E,"data-mce-"+C)||gr(E,C)}},f={style:{set:(p,C)=>{const E=Ee.fromDom(p);r&&gv(E,tE,C),bi(E,"style"),oe(C)&&Mc(E,e.parse(C))},get:p=>{const C=Ee.fromDom(p),E=gr(C,tE)||gr(C,"style");return e.serialize(e.parse(E),ko(C))}}};return r&&(f.href=f.src=c),f},qs=(e,n={})=>{const o={},r=window,c={};let f=0;const p=!0,C=!0,E=ld.forElement(Ee.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy,crossOrigin:it=>{const yt=n.crossOrigin;if(xe(yt))return yt(it,"stylesheet")}}),O=[],F=n.schema?n.schema:fd({}),U=Tg({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),q=n.ownEvents?new md:md.Event,J=F.getBlockElements(),ge=it=>oe(it)?jn(J,it):qn(it)&&(jn(J,it.nodeName)||Vt(F,it)),fe=it=>it&&e&&oe(it)?e.getElementById(it):it,de=it=>{const yt=fe(it);return Ie(yt)?Ee.fromDom(yt):null},He=(it,yt,On="")=>{let Cn;const Eo=de(it);if(Ie(Eo)&&Ur(Eo)){const Ns=YH[yt];Ns&&Ns.get?Cn=Ns.get(Eo.dom,yt):Cn=gr(Eo,yt)}return Ie(Cn)?Cn:On},ze=it=>{const yt=fe(it);return Je(yt)?[]:yt.attributes},Ye=(it,yt,On)=>{no(it,Cn=>{if(qn(Cn)){const Eo=Ee.fromDom(Cn),Ns=On===""?null:On,Di=gr(Eo,yt),vp=YH[yt];vp&&vp.set?vp.set(Eo.dom,Ns,yt):gv(Eo,yt,Ns),Di!==Ns&&n.onSetAttrib&&n.onSetAttrib({attrElm:Eo.dom,attrName:yt,attrValue:Ns})}})},lt=(it,yt)=>it.cloneNode(yt),Ft=()=>n.root_element||e.body,vn=it=>{const yt=rb(it);return{x:yt.x,y:yt.y,w:yt.width,h:yt.height}},nn=(it,yt)=>Om(e.body,fe(it),yt),Pt=(it,yt,On)=>{no(it,Cn=>{const Eo=Ee.fromDom(Cn);m2(Eo,yt,On),n.update_styles&&yO(U,Eo)})},Ke=(it,yt)=>{no(it,On=>{const Cn=Ee.fromDom(On);cn(yt,(Eo,Ns)=>{m2(Cn,Ns,Eo)}),n.update_styles&&yO(U,Cn)})},Ce=(it,yt,On)=>{const Cn=fe(it);if(!(Je(Cn)||!kr(Cn)&&!Ip(Cn)))return On?Qr(Ee.fromDom(Cn),nE(yt)):(yt=yt.replace(/-(\D)/g,(Eo,Ns)=>Ns.toUpperCase()),yt==="float"&&(yt="cssFloat"),Cn.style?Cn.style[yt]:void 0)},dt=it=>{const yt=fe(it);if(!yt)return{w:0,h:0};let On=Ce(yt,"width"),Cn=Ce(yt,"height");return(!On||On.indexOf("px")===-1)&&(On="0"),(!Cn||Cn.indexOf("px")===-1)&&(Cn="0"),{w:parseInt(On,10)||yt.offsetWidth||yt.clientWidth,h:parseInt(Cn,10)||yt.offsetHeight||yt.clientHeight}},tn=it=>{const yt=fe(it),On=nn(yt),Cn=dt(yt);return{x:On.x,y:On.y,w:Cn.w,h:Cn.h}},Qn=(it,yt)=>{if(!it)return!1;const On=Xe(it)?it:[it];return Xt(On,Cn=>cs(Ee.fromDom(Cn),yt))},Po=(it,yt,On,Cn)=>{const Eo=[];let Ns=fe(it);Cn=Cn===void 0;const Di=On||(Ft().nodeName!=="BODY"?Ft().parentNode:null);if(oe(yt))if(yt==="*")yt=qn;else{const vp=yt;yt=Yh=>Qn(Yh,vp)}for(;Ns&&!(Ns===Di||Je(Ns.nodeType)||ns(Ns)||hg(Ns));){if(!yt||yt(Ns))if(Cn)Eo.push(Ns);else return[Ns];Ns=Ns.parentNode}return Cn?Eo:null},ss=(it,yt,On)=>{const Cn=Po(it,yt,On,!1);return Cn&&Cn.length>0?Cn[0]:null},vs=(it,yt,On)=>{let Cn=yt;if(it){oe(yt)&&(Cn=Eo=>Qn(Eo,yt));for(let Eo=it[On];Eo;Eo=Eo[On])if(xe(Cn)&&Cn(Eo))return Eo}return null},Zr=(it,yt)=>vs(it,yt,"nextSibling"),qr=(it,yt)=>vs(it,yt,"previousSibling"),tc=it=>xe(it.querySelectorAll),fn=(it,yt)=>{var On,Cn;const Eo=(Cn=(On=fe(yt))!==null&&On!==void 0?On:n.root_element)!==null&&Cn!==void 0?Cn:e;return tc(Eo)?bn(Eo.querySelectorAll(it)):[]},no=function(it,yt,On){const Cn=On??this;if(Xe(it)){const Eo=[];return hv(it,(Ns,Di)=>{const vp=fe(Ns);vp&&Eo.push(yt.call(Cn,vp,Di))}),Eo}else{const Eo=fe(it);return Eo?yt.call(Cn,Eo):!1}},Ts=(it,yt)=>{no(it,On=>{cn(yt,(Cn,Eo)=>{Ye(On,Eo,Cn)})})},Vs=(it,yt)=>{no(it,On=>{const Cn=Ee.fromDom(On);Fd(Cn,yt)})},Xn=(it,yt,On,Cn,Eo)=>no(it,Ns=>{const Di=oe(yt)?e.createElement(yt):yt;return Ie(On)&&Ts(Di,On),Cn&&(!oe(Cn)&&Cn.nodeType?Di.appendChild(Cn):oe(Cn)&&Vs(Di,Cn)),Eo?Di:Ns.appendChild(Di)}),gn=(it,yt,On)=>Xn(e.createElement(it),it,yt,On,!0),Mn=bg.decode,Co=bg.encodeAllRaw,Lo=(it,yt,On="")=>{let Cn="<"+it;for(const Eo in yt)Qo(yt,Eo)&&(Cn+=" "+Eo+'="'+Co(yt[Eo])+'"');return ea(On)&&jn(F.getVoidElements(),it)?Cn+" />":Cn+">"+On+"</"+it+">"},Qs=it=>{const yt=e.createElement("div"),On=e.createDocumentFragment();On.appendChild(yt),it&&(yt.innerHTML=it);let Cn;for(;Cn=yt.firstChild;)On.appendChild(Cn);return On.removeChild(yt),On},yr=(it,yt)=>no(it,On=>{const Cn=Ee.fromDom(On);return yt&&Re(Hr(Cn),Eo=>{Ms(Eo)&&Eo.dom.length===0?or(Eo):Ca(Cn,Eo)}),or(Cn),Cn.dom}),bf=it=>no(it,yt=>{const On=yt.attributes;for(let Cn=On.length-1;Cn>=0;Cn--)yt.removeAttributeNode(On.item(Cn))}),_c=it=>U.parse(it),oh=(it,yt)=>U.serialize(it,yt),mm=it=>{if(ww!==qs.DOM&&e===document){if(o[it])return;o[it]=!0}let yt=e.getElementById("mceDefaultStyles");if(!yt){yt=e.createElement("style"),yt.id="mceDefaultStyles",yt.type="text/css";const On=e.head;On.firstChild?On.insertBefore(yt,On.firstChild):On.appendChild(yt)}yt.styleSheet?yt.styleSheet.cssText+=it:yt.appendChild(e.createTextNode(it))},iu=it=>{it||(it=""),Re(it.split(","),yt=>{c[yt]=!0,E.load(yt).catch(Nt)})},Vu=(it,yt,On)=>{no(it,Cn=>{if(qn(Cn)){const Eo=Ee.fromDom(Cn),Ns=yt.split(" ");Re(Ns,Di=>{Ie(On)?(On?Pc:di)(Eo,Di):qi(Eo,Di)})}})},sh=(it,yt)=>{Vu(it,yt,!0)},bw=(it,yt)=>{Vu(it,yt,!1)},mo=(it,yt)=>{const On=de(it),Cn=yt.split(" ");return Ie(On)&&Zo(Cn,Eo=>Tp(On,Eo))},ks=it=>{no(it,yt=>Ep(Ee.fromDom(yt),"display"))},Oi=it=>{no(it,yt=>Ia(Ee.fromDom(yt),"display","none"))},Wa=it=>{const yt=de(it);return Ie(yt)&&Is(li(yt,"display"),"none")},nc=it=>(it||"mce_")+f++,Ra=it=>{const yt=de(it);return Ie(yt)?qn(yt.dom)?yt.dom.outerHTML:Hw(yt):""},gi=(it,yt)=>{no(it,On=>{qn(On)&&(On.outerHTML=yt)})},pi=(it,yt)=>{const On=fe(yt);return no(it,Cn=>{const Eo=On==null?void 0:On.parentNode,Ns=On==null?void 0:On.nextSibling;return Eo&&(Ns?Eo.insertBefore(Cn,Ns):Eo.appendChild(Cn)),Cn})},Uu=(it,yt,On)=>no(yt,Cn=>{var Eo;const Ns=Xe(yt)?it.cloneNode(!0):it;return On&&hv(eE(Cn.childNodes),Di=>{Ns.appendChild(Di)}),(Eo=Cn.parentNode)===null||Eo===void 0||Eo.replaceChild(Ns,Cn),Cn}),Gh=(it,yt)=>{if(it.nodeName!==yt.toUpperCase()){const On=gn(yt);return hv(ze(it),Cn=>{Ye(On,Cn.nodeName,He(it,Cn.nodeName))}),Uu(On,it,!0),On}else return it},$1=(it,yt)=>{let On=it;for(;On;){let Cn=yt;for(;Cn&&On!==Cn;)Cn=Cn.parentNode;if(On===Cn)break;On=On.parentNode}return!On&&it.ownerDocument?it.ownerDocument.documentElement:On},pp=(it,yt,On)=>qe(yt)?bu(F,it,{...On,isContent:Eo=>{const Ns=Eo.nodeName.toLowerCase();return!!yt[Ns]}}):bu(F,it,On),BA=()=>e.createRange(),$A=(it,yt,On)=>{let Cn=BA(),Eo,Ns;if(it&&yt&&it.parentNode&&yt.parentNode){const Di=it.parentNode;return Cn.setStart(Di,xh(it)),Cn.setEnd(yt.parentNode,xh(yt)),Eo=Cn.extractContents(),Cn=BA(),Cn.setStart(yt.parentNode,xh(yt)+1),Cn.setEnd(Di,xh(it)+1),Ns=Cn.extractContents(),Di.insertBefore(c2(ww,Eo,F),it),On?Di.insertBefore(On,it):Di.insertBefore(yt,it),Di.insertBefore(c2(ww,Ns,F),it),yr(it),On||yt}else return},lS=(it,yt,On,Cn)=>{if(Xe(it)){let Eo=it.length;const Ns=[];for(;Eo--;)Ns[Eo]=lS(it[Eo],yt,On,Cn);return Ns}else return n.collect&&(it===e||it===r)&&O.push([it,yt,On,Cn]),q.bind(it,yt,On,Cn||ww)},Kh=(it,yt,On)=>{if(Xe(it)){let Cn=it.length;const Eo=[];for(;Cn--;)Eo[Cn]=Kh(it[Cn],yt,On);return Eo}else{if(O.length>0&&(it===e||it===r)){let Cn=O.length;for(;Cn--;){const[Eo,Ns,Di]=O[Cn];it===Eo&&(!yt||yt===Ns)&&(!On||On===Di)&&q.unbind(Eo,Ns,Di)}}return q.unbind(it,yt,On)}},yw=(it,yt,On)=>q.dispatch(it,yt,On),mL=(it,yt,On)=>q.dispatch(it,yt,On),FA=it=>{if(it&&kr(it)){const yt=it.getAttribute("data-mce-contenteditable");return yt&&yt!=="inherit"?yt:it.contentEditable!=="inherit"?it.contentEditable:null}else return null},ww={doc:e,settings:n,win:r,files:c,stdMode:p,boxModel:C,styleSheetLoader:E,boundEvents:O,styles:U,schema:F,events:q,isBlock:ge,root:null,clone:lt,getRoot:Ft,getViewPort:vn,getRect:tn,getSize:dt,getParent:ss,getParents:Po,get:fe,getNext:Zr,getPrev:qr,select:fn,is:Qn,add:Xn,create:gn,createHTML:Lo,createFragment:Qs,remove:yr,setStyle:Pt,getStyle:Ce,setStyles:Ke,removeAllAttribs:bf,setAttrib:Ye,setAttribs:Ts,getAttrib:He,getPos:nn,parseStyle:_c,serializeStyle:oh,addStyle:mm,loadCSS:iu,addClass:sh,removeClass:bw,hasClass:mo,toggleClass:Vu,show:ks,hide:Oi,isHidden:Wa,uniqueId:nc,setHTML:Vs,getOuterHTML:Ra,setOuterHTML:gi,decode:Mn,encode:Co,insertAfter:pi,replace:Uu,rename:Gh,findCommonAncestor:$1,run:no,getAttribs:ze,isEmpty:pp,createRng:BA,nodeIndex:xh,split:$A,bind:lS,unbind:Kh,fire:mL,dispatch:yw,getContentEditable:FA,getContentEditableParent:it=>{const yt=Ft();let On=null;for(let Cn=it;Cn&&Cn!==yt&&(On=FA(Cn),On===null);Cn=Cn.parentNode);return On},isEditable:it=>{if(Ie(it)){const yt=qn(it)?it:it.parentElement;return Ie(yt)&&kr(yt)&&Kl(Ee.fromDom(yt))}else return!1},destroy:()=>{if(O.length>0){let it=O.length;for(;it--;){const[yt,On,Cn]=O[it];q.unbind(yt,On,Cn)}}cn(c,(it,yt)=>{E.unload(yt),delete c[yt]})},isChildOf:(it,yt)=>it===yt||yt.contains(it),dumpRng:it=>"startContainer: "+it.startContainer.nodeName+", startOffset: "+it.startOffset+", endContainer: "+it.endContainer.nodeName+", endOffset: "+it.endOffset},YH=CO(U,n,Qe(ww));return ww};qs.DOM=qs(document),qs.nodeIndex=xh;const oE=qs.DOM,sE=0,xu=1,Og=2,gs=3;class $i{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}_setCrossOrigin(n){this.settings.crossOrigin=n}loadScript(n){return new Promise((o,r)=>{const c=oE;let f;const p=()=>{c.remove(O),f&&(f.onerror=f.onload=f=null)},C=()=>{p(),o()},E=()=>{p(),r("Failed to load script: "+n)},O=c.uniqueId();f=document.createElement("script"),f.id=O,f.type="text/javascript",f.src=on._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy);const F=this.settings.crossOrigin;if(xe(F)){const U=F(n);U!==void 0&&c.setAttrib(f,"crossorigin",U)}f.onload=C,f.onerror=E,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(n){return this.states[n]===Og}markDone(n){this.states[n]=Og}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=sE),new Promise((c,f)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:f})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(E,O)=>{Jo(o.scriptLoadedCallbacks,O).each(F=>{Re(F,U=>U[E](O))}),delete o.scriptLoadedCallbacks[O]},c=E=>{const O=pe(E,F=>F.status==="rejected");return O.length>0?Promise.reject(Rn(O,({reason:F})=>Xe(F)?F:[F])):Promise.resolve()},f=E=>Promise.allSettled(Lt(E,O=>o.states[O]===Og?(r("resolve",O),Promise.resolve()):o.states[O]===gs?(r("reject",O),Promise.reject(O)):(o.states[O]=xu,o.loadScript(O).then(()=>{o.states[O]=Og,r("resolve",O);const F=o.queue;return F.length>0?(o.queue=[],f(F).then(c)):Promise.resolve()},()=>(o.states[O]=gs,r("reject",O),Promise.reject(O)))))),p=E=>(o.loading=!0,f(E).then(O=>{o.loading=!1;const F=o.queueLoadedCallbacks.shift();return K.from(F).each(vo),c(O)})),C=Zu(n);return o.loading?new Promise((E,O)=>{o.queueLoadedCallbacks.push(()=>{p(C).then(E,O)})}):p(C)}}$i.ScriptLoader=new $i;const pv=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},Cb=e=>Oe(e)&&jn(e,"raw"),Or=e=>Xe(e)&&e.length>1,Up={},xb=Un("en"),rE=()=>Jo(Up,xb.get()),hd={getData:()=>ro(Up,e=>({...e})),setCode:e=>{e&&xb.set(e)},getCode:()=>xb.get(),add:(e,n)=>{let o=Up[e];o||(Up[e]=o={});const r=Lt(_t(n),c=>c.toLowerCase());cn(n,(c,f)=>{const p=f.toLowerCase();p!==f&&pv(r,p)?(jn(n,p)||(o[p]=c),o[f]=c):o[p]=c})},translate:e=>{const n=rE().getOr({}),o=C=>xe(C)?Object.prototype.toString.call(C):r(C)?"":""+C,r=C=>C===""||C===null||C===void 0,c=C=>{const E=o(C);return jn(n,E)?o(n[E]):Jo(n,E.toLowerCase()).map(o).getOr(E)},f=C=>C.replace(/{context:\w+}$/,""),p=C=>C.replaceAll("...",_f);if(r(e))return"";if(Cb(e))return p(o(e.raw));if(Or(e)){const C=e.slice(1),E=c(e[0]).replace(/\{([0-9]+)\}/g,(O,F)=>jn(C,F)?o(C[F]):O);return p(f(E))}return p(f(c(e)))},isRtl:()=>rE().bind(e=>Jo(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>jn(Up,e)},Ja=()=>{const e=[],n={},o={},r=[],c=(fe,de)=>{const He=pe(r,ze=>ze.name===fe&&ze.state===de);Re(He,ze=>ze.resolve())},f=fe=>jn(n,fe),p=fe=>jn(o,fe),C=fe=>{if(o[fe])return o[fe].instance},E=(fe,de)=>{const He=hd.getCode(),ze=","+(de||"")+",";!He||de&&ze.indexOf(","+He+",")===-1||$i.ScriptLoader.add(n[fe]+"/langs/"+He+".js")},O=(fe,de)=>{Ja.languageLoad!==!1&&(f(fe)?E(fe,de):ge(fe,"loaded").then(()=>E(fe,de)))},F=(fe,de)=>(e.push(de),o[fe]={instance:de},c(fe,"added"),de),U=fe=>{delete n[fe],delete o[fe]},q=(fe,de)=>oe(de)?oe(fe)?{prefix:"",resource:de,suffix:""}:{prefix:fe.prefix,resource:de,suffix:fe.suffix}:de,J=(fe,de)=>{if(n[fe])return Promise.resolve();let He=oe(de)?de:de.prefix+de.resource+de.suffix;He.indexOf("/")!==0&&He.indexOf("://")===-1&&(He=Ja.baseURL+"/"+He),n[fe]=He.substring(0,He.lastIndexOf("/"));const ze=()=>(c(fe,"loaded"),Promise.resolve());return o[fe]?ze():$i.ScriptLoader.add(He).then(ze)},ge=(fe,de="added")=>de==="added"&&p(fe)||de==="loaded"&&f(fe)?Promise.resolve():new Promise(He=>{r.push({name:fe,state:de,resolve:He})});return{items:e,urls:n,lookup:o,get:C,requireLangPack:O,add:F,remove:U,createUrl:q,load:J,waitFor:ge}};Ja.languageLoad=!0,Ja.baseURL="",Ja.PluginManager=Ja(),Ja.ThemeManager=Ja(),Ja.ModelManager=Ja();const gd=Qe("mce-annotation"),qd=Qe("data-mce-annotation"),Gd=Qe("data-mce-annotation-uid"),Sh=Qe("data-mce-annotation-active"),$f=Qe("data-mce-annotation-classes"),Nm=Qe("data-mce-annotation-attrs"),h2=e=>n=>Nn(n,e),g2=(e,n)=>{const o=e.selection.getRng(),r=Ee.fromDom(o.startContainer),c=Ee.fromDom(e.getBody()),f=n.fold(()=>"."+gd(),E=>`[${qd()}="${E}"]`),p=jl(r,o.startOffset).getOr(r);return $a(p,f,h2(c)).bind(E=>Cl(E,`${Gd()}`).bind(O=>Cl(E,`${qd()}`).map(F=>{const U=Sb(e,O);return{uid:O,name:F,elements:U}})))},nN=e=>Ur(e)&&Tp(e,gd()),EO=(e,n)=>_r(e,"data-mce-bogus")||lr(e,'[data-mce-bogus="all"]',h2(n)),Sb=(e,n)=>{const o=Ee.fromDom(e.getBody()),r=kt(o,`[${Gd()}="${n}"]`);return pe(r,c=>!EO(c,o))},Eb=(e,n)=>{const o=Ee.fromDom(e.getBody()),r=kt(o,`[${qd()}="${n}"]`),c={};return Re(r,f=>{if(!EO(f,o)){const p=gr(f,Gd()),C=Jo(c,p).getOr([]);c[p]=C.concat([f])}}),c},uE=(e,n)=>{const o=Un({}),r=()=>({listeners:[],previous:pa()}),c=(U,q)=>{f(U,J=>(q(J),J))},f=(U,q)=>{const J=o.get(),ge=Jo(J,U).getOrThunk(r),fe=q(ge);J[U]=fe,o.set(J)},p=(U,q,J)=>{c(U,ge=>{Re(ge.listeners,fe=>fe(!0,U,{uid:q,nodes:Lt(J,de=>de.dom)}))})},C=U=>{c(U,q=>{Re(q.listeners,J=>J(!1,U))})},E=(U,q)=>{Re(Sb(e,U),J=>{q?$r(J,Sh(),"true"):bi(J,Sh())})},O=ic(()=>{const U=je(n.getNames());Re(U,q=>{f(q,J=>{const ge=J.previous.get();return g2(e,K.some(q)).fold(()=>{ge.each(fe=>{C(q),J.previous.clear(),E(fe,!1)})},({uid:fe,name:de,elements:He})=>{Is(ge,fe)||(ge.each(ze=>E(ze,!1)),p(de,fe,He),J.previous.set(fe),E(fe,!0))}),{previous:J.previous,listeners:J.listeners}})})},30);return e.on("remove",()=>{O.cancel()}),e.on("NodeChange",()=>{O.throttle()}),{addListener:(U,q)=>{f(U,J=>({previous:J.previous,listeners:J.listeners.concat([q])}))}}},_b=(e,n)=>{const o=qd(),r=f=>K.from(f.attr(o)).bind(n.lookup),c=f=>{var p,C;f.attr(Gd(),null),f.attr(qd(),null),f.attr(Sh(),null);const E=K.from(f.attr(Nm())).map(q=>q.split(",")).getOr([]),O=K.from(f.attr($f())).map(q=>q.split(",")).getOr([]);Re(E,q=>f.attr(q,null));const F=(C=(p=f.attr("class"))===null||p===void 0?void 0:p.split(" "))!==null&&C!==void 0?C:[],U=Oo(F,[gd()].concat(O));f.attr("class",U.length>0?U.join(" "):null),f.attr($f(),null),f.attr(Nm(),null)};e.serializer.addTempAttr(Sh()),e.serializer.addAttributeFilter(o,f=>{for(const p of f)r(p).each(C=>{C.persistent===!1&&(p.name==="span"?p.unwrap():c(p))})})},Eh=()=>{const e={};return{register:(c,f)=>{e[c]={name:c,settings:f}},lookup:c=>Jo(e,c).map(f=>f.settings),getNames:()=>_t(e)}},vv=(e,n,o=Tt)=>{const r=new fr(e,n),c=f=>{let p;do p=r[f]();while(p&&!en(p)&&!o(p));return K.from(p).filter(en)};return{current:()=>K.from(r.current()).filter(en),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},Kd=(e,n)=>{const o=n||(p=>e.isBlock(p)||Vr(p)||Ar(p)),r=(p,C,E,O)=>{if(en(p)){const F=O(p,C,p.data);if(F!==-1)return K.some({container:p,offset:F})}return E().bind(F=>r(F.container,F.offset,E,O))};return{backwards:(p,C,E,O)=>{const F=vv(p,O??e.getRoot(),o);return r(p,C,()=>F.prev().map(U=>({container:U,offset:U.length})),E).getOrNull()},forwards:(p,C,E,O)=>{const F=vv(p,O??e.getRoot(),o);return r(p,C,()=>F.next().map(U=>({container:U,offset:0})),E).getOrNull()}}},Tb=["td","th"],_O=["thead","tbody","tfoot"],kb=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Ab=["li","dd","dt"],dE=["ul","ol","dl"],TO=["pre","script","textarea","style"],Wp=e=>{let n;return o=>(n=n||No(e,rn),jn(n,ko(o)))},fE=e=>ko(e)==="table",Ff=e=>Ur(e)&&ko(e)==="br",jp=Wp(kb),Ob=Wp(dE),Hf=Wp(Ab),zc=Wp(_O),Tl=Wp(Tb),kl=Wp(TO),Db=e=>{const n=[];let o=e.dom;for(;o;)n.push(Ee.fromDom(o)),o=o.lastChild;return n},p2=e=>{const n=kt(e,"br"),o=pe(Db(e).slice(-1),Ff);n.length===o.length&&Re(o,or)},Zp=()=>{const e=Ee.fromTag("br");return $r(e,"data-mce-bogus","1"),e},zf=e=>{ql(e),xs(e,Zp())},kO=(e,n)=>{ci(e).each(o=>{vl(o).each(r=>{n.isBlock(ko(e))&&Ff(o)&&n.isBlock(ko(r))&&or(o)})})},Fi=va,Rb=ba,tl=Ka,mE=e=>e.insertContent(Fi,{preserve_zwsp:!0}),hE=qn,_h=en,Im=e=>(_h(e)&&(e=e.parentNode),hE(e)&&e.hasAttribute("data-mce-caret")),Ps=e=>_h(e)&&Rb(e.data),dc=e=>Im(e)||Ps(e),bv=e=>e.firstChild!==e.lastChild||!Vr(e.firstChild),Mb=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Fi),f=e.parentNode;if(n){const p=e.previousSibling;if(_h(p)){if(dc(p))return p;if(Th(p))return p.splitText(p.data.length-1)}f==null||f.insertBefore(c,e)}else{const p=e.nextSibling;if(_h(p)){if(dc(p))return p;if(Vf(p))return p.splitText(1),p}e.nextSibling?f==null||f.insertBefore(c,e.nextSibling):f==null||f.appendChild(c)}return c},Pb=e=>{const n=e.container();return en(n)?n.data.charAt(e.offset())===Fi||e.isAtStart()&&Ps(n.previousSibling):!1},yv=e=>{const n=e.container();return en(n)?n.data.charAt(e.offset()-1)===Fi||e.isAtEnd()&&Ps(n.nextSibling):!1},gE=(e,n,o)=>{var r;const f=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);f.setAttribute("data-mce-caret",o?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(Zp().dom);const p=n.parentNode;return o?p==null||p.insertBefore(f,n):n.nextSibling?p==null||p.insertBefore(f,n.nextSibling):p==null||p.appendChild(f),f},Vf=e=>_h(e)&&e.data[0]===Fi,Th=e=>_h(e)&&e.data[e.data.length-1]===Fi,v2=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];mg(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},tu=e=>e&&e.hasAttribute("data-mce-caret")?(v2(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,qp=e=>Im(e.startContainer),_i=Math.round,nl=e=>e?{left:_i(e.left),top:_i(e.top),bottom:_i(e.bottom),right:_i(e.right),width:_i(e.width),height:_i(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Lb=(e,n)=>(e=nl(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),pE=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,b2=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,kh=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:b2(n.top-e.bottom,e,n)},Dg=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:b2(n.bottom-e.top,e,n),y2=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,w2=e=>Ht(e,(n,o)=>n.fold(()=>K.some(o),r=>{const c=Math.min(o.left,r.left),f=Math.min(o.top,r.top),p=Math.max(o.right,r.right),C=Math.max(o.bottom,r.bottom);return K.some({top:f,right:p,bottom:C,left:c,width:p-c,height:C-f})}),K.none()),wv=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-c)*(o-c))},C2=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),Ah=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Bm=(e,n)=>{if(qn(e)&&e.hasChildNodes()){const o=e.childNodes,r=dl(n,0,o.length-1);return o[r]}else return e},vE=(e,n)=>{if(!(n<0&&qn(e)&&e.hasChildNodes()))return Bm(e,n)},za=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),bE=e=>oe(e)&&e.charCodeAt(0)>=768&&za.test(e),Oh=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},yE=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},Nb=Nc,x2=Ar,Cv=Vr,S2=en,wE=Ea(["script","style","textarea"]),CE=Ea(["img","input","textarea","hr","iframe","video","audio","object","embed"]),xv=Ea(["table"]),Hi=dc,Dr=e=>Hi(e)?!1:S2(e)?!wE(e.parentNode):CE(e)||Cv(e)||xv(e)||Yi(e),Va=e=>qn(e)&&e.getAttribute("unselectable")==="true",Yi=e=>!Va(e)&&x2(e),ua=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(Yi(o))return!1;if(Nb(o))return!0}return!0},Ti=e=>Yi(e)?!Ht(bn(e.getElementsByTagName("*")),(n,o)=>n||Nb(o),!1):!1,Ib=e=>CE(e)||Ti(e),Bb=(e,n)=>Dr(e)&&ua(e,n),$b=qn,xE=Dr,Fb=Bp("display","block table"),SE=Bp("float","left right"),Rg=yE($b,xE,Pn(SE)),E2=Pn(Bp("white-space","pre pre-line pre-wrap")),Mg=en,Hb=Vr,_2=qs.nodeIndex,zb=vE,Yd=e=>e?e.createRange():qs.DOM.createRng(),Sv=e=>oe(e)&&/[\r\n\t ]/.test(e),T2=e=>!!e.setStart&&!!e.setEnd,Gp=e=>{const n=e.startContainer,o=e.startOffset;if(Sv(e.toString())&&E2(n.parentNode)&&en(n)){const r=n.data;if(Sv(r[o-1])||Sv(r[o+1]))return!0}return!1},Ev=e=>{const n=e.ownerDocument,o=Yd(n),r=n.createTextNode(Er),c=e.parentNode;c.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const f=nl(o.getBoundingClientRect());return c.removeChild(r),f},Vb=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,c=e.endOffset;if(n===o&&en(o)&&r===0&&c===1){const f=e.cloneRange();return f.setEndAfter(o),pd(f)}else return null},k2=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,pd=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=nl(r[0]):o=nl(e.getBoundingClientRect()),!T2(e)&&Hb(e)&&k2(o)?Ev(e):k2(o)&&T2(e)&&(n=Vb(e))!==null&&n!==void 0?n:o},Uf=(e,n)=>{const o=Lb(e,n);return o.width=1,o.right=o.left+1,o},Kp=e=>{const n=[],o=p=>{p.height!==0&&(n.length>0&&pE(p,n[n.length-1])||n.push(p))},r=(p,C)=>{const E=Yd(p.ownerDocument);if(C<p.data.length){if(bE(p.data[C]))return;if(bE(p.data[C-1])&&(E.setStart(p,C),E.setEnd(p,C+1),!Gp(E))){o(Uf(pd(E),!1));return}}C>0&&(E.setStart(p,C-1),E.setEnd(p,C),Gp(E)||o(Uf(pd(E),!1))),C<p.data.length&&(E.setStart(p,C),E.setEnd(p,C+1),Gp(E)||o(Uf(pd(E),!0)))},c=e.container(),f=e.offset();if(Mg(c))return r(c,f),n;if($b(c))if(e.isAtEnd()){const p=zb(c,f);Mg(p)&&r(p,p.data.length),Rg(p)&&!Hb(p)&&o(Uf(pd(p),!1))}else{const p=zb(c,f);if(Mg(p)&&r(p,0),Rg(p)&&e.isAtEnd())return o(Uf(pd(p),!1)),n;const C=zb(e.container(),e.offset()-1);Rg(C)&&!Hb(C)&&(Fb(C)||Fb(p)||!Rg(p))&&o(Uf(pd(C),!1)),Rg(p)&&o(Uf(pd(p),!0))}return n},Et=(e,n,o)=>{const r=()=>(Mg(e),n===0),c=()=>Mg(e)?n>=e.data.length:n>=e.childNodes.length,f=()=>{const F=Yd(e.ownerDocument);return F.setStart(e,n),F.setEnd(e,n),F},p=()=>(o||(o=Kp(Et(e,n))),o),C=()=>p().length>0,E=F=>F&&e===F.container()&&n===F.offset(),O=F=>zb(e,F?n-1:n);return{container:Qe(e),offset:Qe(n),toRange:f,getClientRects:p,isVisible:C,isAtStart:r,isAtEnd:c,isEqual:E,getNode:O}};Et.fromRangeStart=e=>Et(e.startContainer,e.startOffset),Et.fromRangeEnd=e=>Et(e.endContainer,e.endOffset),Et.after=e=>Et(e.parentNode,_2(e)+1),Et.before=e=>Et(e.parentNode,_2(e)),Et.isAbove=(e,n)=>Gr(gt(n.getClientRects()),bt(e.getClientRects()),kh).getOr(!1),Et.isBelow=(e,n)=>Gr(bt(n.getClientRects()),gt(e.getClientRects()),Dg).getOr(!1),Et.isAtStart=e=>e?e.isAtStart():!1,Et.isAtEnd=e=>e?e.isAtEnd():!1,Et.isTextPosition=e=>e?en(e.container()):!1,Et.isElementPosition=e=>!Et.isTextPosition(e);const ol=(e,n)=>{en(n)&&n.data.length===0&&e.remove(n)},Yp=(e,n,o)=>{n.insertNode(o),ol(e,o.previousSibling),ol(e,o.nextSibling)},_v=(e,n,o)=>{const r=K.from(o.firstChild),c=K.from(o.lastChild);n.insertNode(o),r.each(f=>ol(e,f.previousSibling)),c.each(f=>ol(e,f.nextSibling))},Ub=(e,n,o)=>{hg(o)?_v(e,n,o):Yp(e,n,o)},Xd=en,fc=mg,Tv=qs.nodeIndex,EE=e=>{const n=e.parentNode;return fc(n)?EE(n):n},Wb=e=>e?Fl(e.childNodes,(n,o)=>(fc(o)&&o.nodeName!=="BR"?n=n.concat(Wb(o)):n.push(o),n),[]):[],_E=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Xd(o);)n+=o.data.length;return n},Pg=e=>n=>e===n,A2=e=>{let n,o;n=Wb(EE(e)),o=Gu(n,Pg(e),e),n=n.slice(0,o+1);const r=Fl(n,(c,f,p)=>(Xd(f)&&Xd(n[p-1])&&c++,c),0);return n=uu(n,Ea([e.nodeName])),o=Gu(n,Pg(e),e),o-r},Wf=e=>(Xd(e)?"text()":e.nodeName.toLowerCase())+"["+A2(e)+"]",O2=(e,n,o)=>{const r=[];for(let c=n.parentNode;c&&c!==e;c=c.parentNode)r.push(c);return r},TE=(e,n)=>{let o=[],r=n.container(),c=n.offset(),f;if(Xd(r))f=_E(r,c);else{const C=r.childNodes;c>=C.length?(f="after",c=C.length-1):f="before",r=C[c]}o.push(Wf(r));let p=O2(e,r);return p=uu(p,Pn(mg)),o=o.concat(hl(p,C=>Wf(C))),o.reverse().join("/")+","+f},mc=(e,n,o)=>{let r=Wb(e);return r=uu(r,(c,f)=>!Xd(c)||!Xd(r[f-1])),r=uu(r,Ea([n])),r[o]},Jd=(e,n)=>{let o=e,r=0;for(;Xd(o);){const c=o.data.length;if(n>=r&&n<=r+c){e=o,n=n-r;break}if(!Xd(o.nextSibling)){e=o,n=c;break}r+=c,o=o.nextSibling}return Xd(e)&&n>e.data.length&&(n=e.data.length),Et(e,n)},Al=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),c=o.length>1?o[1]:"before",f=Fl(r,(p,C)=>{const E=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(C);return E?(E[1]==="text()"&&(E[1]="#text"),mc(p,E[1],parseInt(E[2],10))):null},e);if(!f)return null;if(!Xd(f)&&f.parentNode){let p;return c==="after"?p=Tv(f)+1:p=Tv(f),Et(f.parentNode,p)}return Jd(f,parseInt(c,10))},jb=Ar,Xp=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&en(c);c=c.previousSibling)r+=e(c.data).length;return r},kE=(e,n,o,r,c)=>{const f=c?r.startContainer:r.endContainer;let p=c?r.startOffset:r.endOffset;const C=[],E=e.getRoot();if(en(f))C.push(o?Xp(n,f,p):p);else{let O=0;const F=f.childNodes;p>=F.length&&F.length&&(O=1,p=Math.max(0,F.length-1)),C.push(e.nodeIndex(F[p],o)+O)}for(let O=f;O&&O!==E;O=O.parentNode)C.push(e.nodeIndex(O,o));return C},AO=(e,n,o,r)=>{const c=n.dom,f=kE(c,e,o,r,!0),p=n.isForward(),C=qp(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:f,forward:p,...C};{const E=kE(c,e,o,r,!1);return{start:f,end:E,forward:p,...C}}},D2=(e,n,o)=>{let r=0;return on.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;r++;return}}),r},AE=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(qn(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?r:r-1,c.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},ts=e=>(AE(e,!0),AE(e,!1),e),so=(e,n)=>{if(qn(e)&&(e=Bm(e,n),jb(e)))return e;if(dc(e)){en(e)&&Im(e)&&(e=e.parentNode);let o=e.previousSibling;if(jb(o)||(o=e.nextSibling,jb(o)))return o}},kv=e=>so(e.startContainer,e.startOffset)||so(e.endContainer,e.endOffset),Zb=(e,n,o)=>{const r=o.getNode(),c=o.getRng();if(r.nodeName==="IMG"||jb(r)){const p=r.nodeName;return{name:p,index:D2(o.dom,p,r)}}const f=kv(c);if(f){const p=f.tagName;return{name:p,index:D2(o.dom,p,f)}}return AO(e,o,n,c)},R2=e=>{const n=e.getRng();return{start:TE(e.dom.getRoot(),Et.fromRangeStart(n)),end:TE(e.dom.getRoot(),Et.fromRangeEnd(n)),forward:e.isForward()}},OO=e=>({rng:e.getRng(),forward:e.isForward()}),M2=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Rr=(e,n)=>{const o=e.dom;let r=e.getRng();const c=o.uniqueId(),f=e.isCollapsed(),p=e.getNode(),C=p.nodeName,E=e.isForward();if(C==="IMG")return{name:C,index:D2(o,C,p)};const O=ts(r.cloneRange());if(!f){O.collapse(!1);const U=M2(o,c+"_end",n);Ub(o,O,U)}r=ts(r),r.collapse(!0);const F=M2(o,c+"_start",n);return Ub(o,r,F),e.moveToBookmark({id:c,keep:!0,forward:E}),{id:c,forward:E}},qb=(e,n,o=!1)=>n===2?Zb(tl,o,e):n===3?R2(e):n?OO(e):Rr(e,!1),Av=Ue(Zb,ln,!0),Lg=e=>e===1,At=e=>e===-1,Gb=e=>e.type==="inline-command"||e.type==="inline-format",OE=e=>e.type==="block-command"||e.type==="block-format",Kb=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,DE=e=>{var n;const o=c=>Ri.error({message:c,pattern:e}),r=(c,f,p)=>{if(e.format!==void 0){let C;if(Xe(e.format)){if(!Zo(e.format,oe))return o(c+" pattern has non-string items in the `format` array");C=e.format}else if(oe(e.format))C=[e.format];else return o(c+" pattern has non-string `format` parameter");return Ri.value(f(C))}else return e.cmd!==void 0?oe(e.cmd)?Ri.value(p(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!Oe(e))return o("Raw pattern is not an object");if(!oe(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!oe(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,f=e.end;return f.length===0&&(f=c,c=""),r("Inline",p=>({type:"inline-format",start:c,end:f,format:p}),(p,C)=>({type:"inline-command",start:c,end:f,cmd:p,value:C}))}else{if(e.replacement!==void 0)return oe(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):Ri.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(n=e.trigger)!==null&&n!==void 0?n:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):r("Block",f=>({type:"block-format",start:e.start,format:f[0],trigger:c}),(f,p)=>({type:"block-command",start:e.start,cmd:f,value:p,trigger:c}))}}},$m=e=>pe(e,OE),Ng=e=>pe(e,Gb),Ig=(e,n)=>({inlinePatterns:Ng(e),blockPatterns:$m(e),dynamicPatternsLookup:n}),P2=(e,n)=>({...e,blockPatterns:pe(e.blockPatterns,o=>Kb(o,n))}),Bg=e=>{const n=ti(Lt(e,DE));return Re(n.errors,o=>console.error(o.message,o.pattern)),n.values},pr=e=>n=>{const o=e(n);return Bg(o)},Qd=(e,n)=>e.dispatch("PreProcess",n),RE=(e,n)=>e.dispatch("PostProcess",n),Fm=e=>{e.dispatch("remove")},vd=e=>{e.dispatch("detach")},DO=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},RO=(e,n,o,r,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:c})},L2=(e,n,o,r,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:c})},MO=e=>{e.dispatch("PreInit")},PO=e=>{e.dispatch("PostRender")},LO=e=>{e.dispatch("Init")},NO=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},N2=(e,n,o)=>{e.dispatch(n,o)},un=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},ME=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},Ta=(e,n)=>e.dispatch("BeforeSetContent",n),PE=(e,n)=>e.dispatch("SetContent",n),LE=(e,n)=>e.dispatch("BeforeGetContent",n),NE=(e,n)=>e.dispatch("GetContent",n),IO=(e,n)=>{e.dispatch("AutocompleterStart",n)},Ao=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},I2=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},IE=e=>{e.dispatch("AutocompleterEnd")},oN=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),BO=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),BE=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),sN=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),$O=(e,n)=>e.dispatch("DisabledStateChange",{state:n}),$E=e=>e.dispatch("CloseActiveTooltips"),B2=Dc().deviceType,Ro=B2.isTouch(),$2=qs.DOM,Hm=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Ht(n,(o,r)=>{const c=r.split("="),f=c[0],p=c.length>1?c[1]:f;return o[tr(f)]=tr(p),o},{})},nu=e=>Le(e,RegExp),Ln=e=>n=>n.options.get(e),hc=e=>oe(e)||Oe(e),Ov=(e,n="")=>o=>{const r=oe(o);if(r)if(o.indexOf("=")!==-1){const c=Hm(o);return{value:Jo(c,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},Dv=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("crossorigin",{processor:"function",default:Qe(void 0)}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.editorManager.documentBaseURL}),n("body_id",{processor:Ov(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:Ov(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=oe(o)&&Ws(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=ut(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>Ot(o)?{valid:!0,value:o}:oe(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||oe(o)||Ct(o,oe);return r?oe(o)?{value:Lt(o.split(","),tr),valid:r}:Xe(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Qb(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=oe(o)||Ct(o,oe);return r?{value:Xe(o)?o:Lt(o.split(","),tr),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("extended_mathml_attributes",{processor:"string[]"}),n("extended_mathml_elements",{processor:"string[]"}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=Ot(o)||oe(o);return r?o===!1||B2.isiPhone()||B2.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!Ro}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("onboarding",{processor:"boolean",default:!0}),n("tiny_cloud_entry_url",{processor:"string"}),n("theme",{processor:o=>o===!1||oe(o)||xe(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||oe(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("disabled",{processor:o=>Ot(o)?(e.initialized&&jv(e)!==o&&Promise.resolve().then(()=>{$O(e,o)}),{valid:!0,value:o}):{valid:!1,message:"The value must be a boolean."},default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_html_in_comments",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("allow_mathml_annotation_encodings",{processor:o=>{const r=Ct(o,oe);return r?{value:o,valid:r}:{valid:!1,message:"Must be an array of strings."}},default:[]}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:hc}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:hc}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:hc}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:hc}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>oe(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>Ct(o,Oe)||o===!1?{value:Bg(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>xe(o)?{value:pr(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>Ct(o,nu)?{value:o,valid:!0}:nu(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=ut(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=ut(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),n("user_id",{processor:"string",default:"Anonymous"}),n("fetch_users",{processor:o=>o===void 0?{valid:!0,value:void 0}:xe(o)?{valid:!0,value:o}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:hd.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:$2.getAttrib(e.getElement(),"placeholder")})}),n("lists_indent_on_tab",{processor:"boolean",default:!0}),n("list_max_depth",{processor:o=>{const r=qt(o);if(r){if(o<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:o,valid:r}}else return{valid:!1,message:"Must be a number"}}})},Yb=Ln("iframe_attrs"),Jp=Ln("doctype"),Rv=Ln("document_base_url"),zm=Ln("body_id"),Qa=Ln("body_class"),jf=Ln("content_security_policy"),FO=Ln("br_in_pre"),Ua=Ln("forced_root_block"),Qp=Ln("forced_root_block_attrs"),HO=Ln("newline_behavior"),hs=Ln("br_newline_selector"),ef=Ln("no_newline_selector"),$g=Ln("keep_styles"),rN=Ln("end_container_on_empty_block"),Fg=Ln("automatic_uploads"),ps=Ln("images_reuse_filename"),iN=Ln("images_replace_blob_uris"),FE=Ln("icons"),aN=Ln("icons_url"),cN=Ln("images_upload_url"),Mv=Ln("images_upload_base_path"),zO=Ln("images_upload_credentials"),lN=Ln("images_upload_handler"),Xb=Ln("content_css_cors"),F2=Ln("referrer_policy"),Pv=Ln("crossorigin"),HE=Ln("language"),VO=Ln("language_url"),Lv=Ln("indent_use_margin"),H2=Ln("indentation"),z2=Ln("content_css"),zE=Ln("content_style"),VE=Ln("font_css"),UE=Ln("directionality"),V2=Ln("inline_boundaries_selector"),U2=Ln("object_resizing"),As=Ln("resize_img_proportional"),WE=Ln("placeholder"),Jb=Ln("event_root"),W2=Ln("service_message"),Su=Ln("theme"),jE=Ln("theme_url"),j2=Ln("model"),UO=Ln("model_url"),Zf=Ln("inline_boundaries"),WO=Ln("formats"),Nv=Ln("preview_styles"),Iv=Ln("format_empty_lines"),jO=Ln("format_noneditable_selector"),Dh=Ln("custom_ui_selector"),Qb=Ln("inline"),ZE=Ln("hidden_input"),ZO=Ln("submit_patch"),qE=Ln("add_form_submit_trigger"),uN=Ln("add_unload_trigger"),GE=Ln("custom_undo_redo_levels"),KE=Ln("disable_nodechange"),Bv=Ln("readonly"),$v=Ln("editable_root"),Fv=Ln("content_css_cors"),Hg=Ln("plugins"),ey=Ln("external_plugins"),Hv=Ln("block_unsupported_drop"),Vm=Ln("visual"),zv=Ln("visual_table_class"),Z2=Ln("visual_anchor_class"),ty=Ln("iframe_aria_text"),YE=Ln("setup"),XE=Ln("init_instance_callback"),JE=Ln("urlconverter_callback"),qO=Ln("auto_focus"),ny=Ln("browser_spellcheck"),e1=Ln("protect"),zg=Ln("paste_block_drop"),Vg=Ln("paste_data_images"),QE=Ln("paste_preprocess"),e_=Ln("paste_postprocess"),t_=Ln("newdocument_content"),oy=Ln("paste_webkit_styles"),n_=Ln("paste_remove_styles_if_webkit"),GO=Ln("paste_merge_formats"),o_=Ln("smart_paste"),sy=Ln("paste_as_text"),q2=Ln("paste_tab_spaces"),ry=Ln("allow_html_data_urls"),G2=Ln("text_patterns"),KO=Ln("text_patterns_lookup"),K2=Ln("noneditable_class"),s_=Ln("editable_class"),r_=Ln("noneditable_regexp"),Vv=Ln("preserve_cdata"),YO=Ln("highlight_on_focus"),Y2=Ln("xss_sanitization"),X2=Ln("init_content_sync"),XO=e=>e.options.isSet("text_patterns_lookup"),JO=e=>on.explode(e.options.get("font_size_style_values")),Ug=e=>on.explode(e.options.get("font_size_classes")),i_=e=>e.options.get("encoding")==="xml",a_=e=>on.explode(e.options.get("images_file_types")),QO=Ln("table_tab_navigation"),e4=Ln("details_initial_state"),t4=Ln("details_serialized_state"),iy=Ln("sandbox_iframes"),Uv=e=>e.options.get("sandbox_iframes_exclusions"),J2=Ln("convert_unsafe_embeds"),Wv=Ln("license_key"),c_=Ln("api_key"),jv=Ln("disabled"),n4=Ln("user_id"),ay=Ln("fetch_users"),o4=Ln("lists_indent_on_tab"),l_=e=>K.from(e.options.get("list_max_depth")),dN=qn,s4=en,Wg=e=>{const n=e.parentNode;n&&n.removeChild(e)},cy=e=>{const n=tl(e);return{count:e.length-n.length,text:n}},ly=e=>{let n;for(;(n=e.data.lastIndexOf(Fi))!==-1;)e.deleteData(n,1)},u_=(e,n)=>(qf(e),n),r4=(e,n)=>{const o=cy(e.data.substr(0,n.offset())),r=cy(e.data.substr(n.offset()));return(o.text+r.text).length>0?(ly(e),Et(e,n.offset()-o.count)):n},uy=(e,n)=>{const o=n.container(),r=$n(bn(o.childNodes),e).map(c=>c<n.offset()?Et(o,n.offset()-1):n).getOr(n);return qf(e),r},d_=(e,n)=>s4(e)&&n.container()===e?r4(e,n):u_(e,n),f_=(e,n)=>n.container()===e.parentNode?uy(e,n):u_(e,n),dy=(e,n)=>Et.isTextPosition(n)?d_(e,n):f_(e,n),qf=e=>{dN(e)&&dc(e)&&(bv(e)?e.removeAttribute("data-mce-caret"):Wg(e)),s4(e)&&(ly(e),e.data.length===0&&Wg(e))},m_=Ar,i4=ad,a4=Nf,c4="*[contentEditable=false],video,audio,embed,object",t1=(e,n,o)=>{const r=Lb(n.getBoundingClientRect(),o);let c,f;if(e.tagName==="BODY"){const C=e.ownerDocument.documentElement;c=e.scrollLeft||C.scrollLeft,f=e.scrollTop||C.scrollTop}else{const C=e.getBoundingClientRect();c=e.scrollLeft-C.left,f=e.scrollTop-C.top}r.left+=c,r.right+=c,r.top+=f,r.bottom+=f,r.width=1;let p=n.offsetWidth-n.clientWidth;return p>0&&(o&&(p*=-1),r.left+=p,r.right+=p),r},h_=e=>{var n,o;const r=kt(Ee.fromDom(e),c4);for(let c=0;c<r.length;c++){const f=r[c].dom;let p=f.previousSibling;if(Th(p)){const C=p.data;C.length===1?(n=p.parentNode)===null||n===void 0||n.removeChild(p):p.deleteData(C.length-1,1)}p=f.nextSibling,Vf(p)&&(p.data.length===1?(o=p.parentNode)===null||o===void 0||o.removeChild(p):p.deleteData(0,1))}},Q2=(e,n,o,r)=>{const c=pa();let f,p;const C=Ua(e),E=e.dom,O=(fe,de)=>{let He;if(F(),a4(de))return null;if(o(de)){const ze=gE(C,de,fe),Ye=t1(n,de,fe);E.setStyle(ze,"top",Ye.top),E.setStyle(ze,"caret-color","transparent"),p=ze;const lt=E.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});E.setStyles(lt,{...Ye}),E.add(n,lt),c.set({caret:lt,element:de,before:fe}),fe&&E.addClass(lt,"mce-visual-caret-before"),U(),He=de.ownerDocument.createRange(),He.setStart(ze,0),He.setEnd(ze,0)}else return p=Mb(de,fe),He=de.ownerDocument.createRange(),tf(p.nextSibling)?(He.setStart(p,0),He.setEnd(p,0)):(He.setStart(p,1),He.setEnd(p,1)),He;return He},F=()=>{h_(n),p&&(qf(p),p=null),c.on(fe=>{E.remove(fe.caret),c.clear()}),f&&(clearInterval(f),f=void 0)},U=()=>{f=window.setInterval(()=>{c.on(fe=>{r()?E.toggleClass(fe.caret,"mce-visual-caret-hidden"):E.addClass(fe.caret,"mce-visual-caret-hidden")})},500)},q=()=>{c.on(fe=>{const de=t1(n,fe.element,fe.before);E.setStyles(fe.caret,{...de})})},J=()=>clearInterval(f),ge=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:c.isSet,show:O,hide:F,getCss:ge,reposition:q,destroy:J}},fy=()=>fs.browser.isFirefox(),tf=e=>m_(e)||i4(e),Zv=e=>(tf(e)||Lf(e)&&fy())&&Xc(Ee.fromDom(e)).exists(Kl),Gf=Nc,eC=Ar,g_=ad,p_=Bp("display","block table table-cell table-row table-caption list-item"),l4=dc,v_=Im,u4=qn,d4=en,f4=Dr,n1=(e,n)=>{let o;for(;o=e(n);)if(!v_(o))return o;return null},qv=(e,n,o,r,c)=>{const f=new fr(e,r),p=eC(e)||v_(e);let C;if(At(n)){if(p&&(C=n1(f.prev.bind(f),!0),o(C)))return C;for(;C=n1(f.prev.bind(f),c);)if(o(C))return C}if(Lg(n)){if(p&&(C=n1(f.next.bind(f),!0),o(C)))return C;for(;C=n1(f.next.bind(f),c);)if(o(C))return C}return null},b_=(e,n)=>{const o=c=>Gf(c.dom),r=c=>c.dom===n;return sd(Ee.fromDom(e),o,r).map(c=>c.dom).getOr(n)},Kf=(e,n)=>{for(;e&&e!==n;){if(p_(e))return e;e=e.parentNode}return null},Yf=(e,n,o)=>Kf(e.container(),o)===Kf(n.container(),o),tC=(e,n)=>{if(!n)return K.none();const o=n.container(),r=n.offset();return u4(o)?K.from(o.childNodes[r+e]):K.none()},my=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},y_=(e,n,o)=>Kf(n,e)===Kf(o,e),Jn=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let f=c[r];if(f&&l4(f)&&(f=f[r]),eC(f)||g_(f)){if(y_(n,f,c))return f;break}if(f4(f))break;c=c.parentNode}return null},Rh=Ue(my,!0),o1=Ue(my,!1),nC=(e,n,o)=>{let r;const c=Ue(Jn,!0,n),f=Ue(Jn,!1,n),p=o.startContainer,C=o.startOffset;if(Im(p)){const E=d4(p)?p.parentNode:p,O=E.getAttribute("data-mce-caret");if(O==="before"&&(r=E.nextSibling,Zv(r)))return Rh(r);if(O==="after"&&(r=E.previousSibling,Zv(r)))return o1(r)}if(!o.collapsed)return o;if(en(p)){if(l4(p)){if(e===1){if(r=f(p),r)return Rh(r);if(r=c(p),r)return o1(r)}if(e===-1){if(r=c(p),r)return o1(r);if(r=f(p),r)return Rh(r)}return o}if(Th(p)&&C>=p.data.length-1)return e===1&&(r=f(p),r)?Rh(r):o;if(Vf(p)&&C<=1)return e===-1&&(r=c(p),r)?o1(r):o;if(C===p.data.length)return r=f(p),r?Rh(r):o;if(C===0)return r=c(p),r?o1(r):o}return o},hy=(e,n)=>tC(e?0:-1,n).filter(eC),Um=(e,n,o)=>{const r=nC(e,n,o);return e===-1?Et.fromRangeStart(r):Et.fromRangeEnd(r)},s1=e=>K.from(e.getNode()).map(Ee.fromDom),Gv=e=>K.from(e.getNode(!0)).map(Ee.fromDom),Mh=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},r1=(e,n)=>{const o=Yf(e,n);return!o&&Vr(e.getNode())?!0:o},oC=Ar,nf=en,sC=qn,gy=Vr,of=Dr,Xf=Ib,Ph=Bb,jg=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},Jf=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,rC=(e,n)=>{if(Lg(e)){if(of(n.previousSibling)&&!nf(n.previousSibling))return Et.before(n);if(nf(n))return Et(n,0)}if(At(e)){if(of(n.nextSibling)&&!nf(n.nextSibling))return Et.after(n);if(nf(n))return Et(n,n.data.length)}return At(e)?gy(n)?Et.before(n):Et.after(n):Et.before(n)},Kv=(e,n)=>{const o=n.nextSibling;return o&&of(o)?nf(o)?Et(o,0):Et.before(o):sf(1,Et.after(n),e)},sf=(e,n,o)=>{let r,c,f,p;if(!sC(o)||!n)return null;if(n.isEqual(Et.after(o))&&o.lastChild){if(p=Et.after(o.lastChild),At(e)&&of(o.lastChild)&&sC(o.lastChild))return gy(o.lastChild)?Et.before(o.lastChild):p}else p=n;const C=p.container();let E=p.offset();if(nf(C)){if(At(e)&&E>0)return Et(C,--E);if(Lg(e)&&E<C.length)return Et(C,++E);r=C}else{if(At(e)&&E>0&&(c=Jf(C,E-1),of(c)))return!Xf(c)&&(f=qv(c,e,Ph,c),f)?nf(f)?Et(f,f.data.length):Et.after(f):nf(c)?Et(c,c.data.length):Et.before(c);if(Lg(e)&&E<C.childNodes.length&&(c=Jf(C,E),of(c)))return gy(c)?Kv(o,c):!Xf(c)&&(f=qv(c,e,Ph,c),f)?nf(f)?Et(f,0):Et.before(f):nf(c)?Et(c,0):Et.after(c);r=c||p.getNode()}if(r&&(Lg(e)&&p.isAtEnd()||At(e)&&p.isAtStart())&&(r=qv(r,e,rn,o,!0),Ph(r,o)))return rC(e,r);c=r&&qv(r,e,Ph,o);const O=re(pe(jg(C,o),oC));return O&&(!c||!O.contains(c))?(Lg(e)?p=Et.after(O):p=Et.before(O),p):c?rC(e,c):null},rf=e=>({next:n=>sf(1,n,e),prev:n=>sf(-1,n,e)}),w_=(e,n,o)=>{const r=e?Et.before(o):Et.after(o);return gc(e,n,r)},iC=e=>Vr(e)?Et.before(e):Et.after(e),aC=e=>Et.isTextPosition(e)?e.offset()===0:Dr(e.getNode()),cC=e=>{if(Et.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return Dr(e.getNode(!0))},C_=(e,n)=>!Et.isTextPosition(e)&&!Et.isTextPosition(n)&&e.getNode()===n.getNode(!0),fN=e=>!Et.isTextPosition(e)&&Vr(e.getNode()),m4=(e,n,o)=>e?!C_(n,o)&&!fN(n)&&cC(n)&&aC(o):!C_(o,n)&&aC(n)&&cC(o),gc=(e,n,o)=>{const r=rf(n);return K.from(e?r.next(o):r.prev(o))},Zg=(e,n,o)=>gc(e,n,o).bind(r=>Yf(o,r,n)&&m4(e,o,r)?gc(e,n,r):K.some(r)),lC=(e,n,o,r)=>Zg(e,n,o).bind(c=>r(c)?lC(e,n,c,r):K.some(c)),Lh=(e,n)=>{const o=e?n.firstChild:n.lastChild;return en(o)?K.some(Et(o,e?0:o.data.length)):o?Dr(o)?K.some(e?Et.before(o):iC(o)):w_(e,n,o):K.none()},pc=Ue(gc,!0),Vc=Ue(gc,!1),vc=Ue(Lh,!0),bd=Ue(Lh,!1),Wm="_mce_caret",sl=e=>qn(e)&&e.id===Wm,Qf=(e,n)=>{let o=n;for(;o&&o!==e;){if(sl(o))return o;o=o.parentNode}return null},x_=e=>oe(e.start),mN=e=>jn(e,"rng"),S_=e=>jn(e,"id"),Mo=e=>jn(e,"name"),py=e=>on.isArray(e.start),Eu=e=>!Mo(e)&&Ot(e.forward)?e.forward:!0,E_=(e,n)=>(qn(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),h4=(e,n)=>{const o=K.from(Al(e.getRoot(),n.start)),r=K.from(Al(e.getRoot(),n.end));return Gr(o,r,(c,f)=>{const p=e.createRng();return p.setStart(c.container(),c.offset()),p.setEnd(f.container(),f.offset()),{range:p,forward:Eu(n)}})},g4=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Fi);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},p4=e=>!e.hasChildNodes(),__=(e,n)=>bd(e).fold(Tt,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),uC=(e,n,o)=>p4(n)&&Qf(e,n)?(g4(n,o),!0):!1,Yv=(e,n,o,r)=>{const c=o[n?"start":"end"],f=e.getRoot();if(c){let p=f,C=c[0];for(let E=c.length-1;p&&E>=1;E--){const O=p.childNodes;if(uC(f,p,r))return!0;if(c[E]>O.length-1)return uC(f,p,r)?!0:__(p,r);p=O[c[E]]}en(p)&&(C=Math.min(c[0],p.data.length)),qn(p)&&(C=Math.min(c[0],p.childNodes.length)),n?r.setStart(p,C):r.setEnd(p,C)}return!0},_u=e=>en(e)&&e.data.length>0,qg=(e,n,o)=>{const r=e.get(o.id+"_"+n),c=r==null?void 0:r.parentNode,f=o.keep;if(r&&c){let p,C;if(n==="start"?f?r.hasChildNodes()?(p=r.firstChild,C=1):_u(r.nextSibling)?(p=r.nextSibling,C=0):_u(r.previousSibling)?(p=r.previousSibling,C=r.previousSibling.data.length):(p=c,C=e.nodeIndex(r)+1):(p=c,C=e.nodeIndex(r)):f?r.hasChildNodes()?(p=r.firstChild,C=1):_u(r.previousSibling)?(p=r.previousSibling,C=r.previousSibling.data.length):(p=c,C=e.nodeIndex(r)):(p=c,C=e.nodeIndex(r)),!f){const E=r.previousSibling,O=r.nextSibling;on.each(on.grep(r.childNodes),U=>{en(U)&&(U.data=U.data.replace(/\uFEFF/g,""))});let F;for(;F=e.get(o.id+"_"+n);)e.remove(F,!0);if(en(O)&&en(E)&&!fs.browser.isOpera()){const U=E.data.length;E.appendData(O.data),e.remove(O),p=E,C=U}}return K.some(Et(p,C))}else return K.none()},v4=(e,n)=>{const o=e.createRng();return Yv(e,!0,n,o)&&Yv(e,!1,n,o)?K.some({range:o,forward:Eu(n)}):K.none()},vy=(e,n)=>{const o=qg(e,"start",n),r=qg(e,"end",n);return Gr(o,r.or(o),(c,f)=>{const p=e.createRng();return p.setStart(E_(e,c.container()),c.offset()),p.setEnd(E_(e,f.container()),f.offset()),{range:p,forward:Eu(n)}})},b4=(e,n)=>K.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),by=(e,n)=>{const o=e.dom;if(n){if(py(n))return v4(o,n);if(x_(n))return h4(o,n);if(S_(n))return vy(o,n);if(Mo(n))return b4(o,n);if(mN(n))return K.some({range:n.rng,forward:Eu(n)})}return K.none()},ka=(e,n,o)=>qb(e,n,o),y4=(e,n)=>{by(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Ol=e=>qn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",yy=(e=>n=>e===n)(Er),Gg=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,dC=e=>!Gg(e)&&!yy(e)&&!ba(e),fC=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},mC=e=>Rn(e,n=>{const o=Ah(n);return o?[Ee.fromDom(o)]:[]}),w4=e=>fC(e).length>1,wy=e=>pe(mC(e),Tl),T_=e=>kt(e,"td[data-mce-selected],th[data-mce-selected]"),Cy=(e,n)=>{const o=T_(n);return o.length>0?o:wy(e)},Nh=e=>Cy(fC(e.selection.getSel()),Ee.fromDom(e.getBody())),i1=(e,n)=>ui(e,"table",n),hC=e=>{const n=e.startContainer,o=e.startOffset;return en(n)?o===0?K.some(Ee.fromDom(n)):K.none():K.from(n.childNodes[o]).map(Ee.fromDom)},k_=e=>{const n=e.endContainer,o=e.endOffset;return en(n)?o===n.data.length?K.some(Ee.fromDom(n)):K.none():K.from(n.childNodes[o-1]).map(Ee.fromDom)},jm=e=>ji(e).fold(Qe([e]),n=>[e].concat(jm(n))),xy=e=>ci(e).fold(Qe([e]),n=>ko(n)==="br"?vl(n).map(o=>[e].concat(xy(o))).getOr([]):[e].concat(xy(n))),gC=(e,n)=>Gr(hC(n),k_(n),(o,r)=>{const c=rt(jm(e),Ue(Nn,o)),f=rt(xy(e),Ue(Nn,r));return c.isSome()&&f.isSome()}).getOr(!1),Sy=(e,n,o,r)=>{const c=o,f=new fr(o,c),p=si(e.schema.getMoveCaretBeforeOnEnterElements(),(E,O)=>!ut(["td","th","table"],O.toLowerCase()));let C=o;do{if(en(C)&&on.trim(C.data).length!==0){r?n.setStart(C,0):n.setEnd(C,C.data.length);return}if(p[C.nodeName]){r?n.setStartBefore(C):C.nodeName==="BR"?n.setEndBefore(C):n.setEndAfter(C);return}}while(C=r?f.next():f.prev());c.nodeName==="BODY"&&(r?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},Xv=e=>{const n=e.selection.getSel();return Ie(n)&&n.rangeCount>0},pC=(e,n)=>{const o=Nh(e);o.length>0?Re(o,r=>{const c=r.dom,f=e.dom.createRng();f.setStartBefore(c),f.setEndAfter(c),n(f,!0)}):n(e.selection.getRng(),!1)},Jv=(e,n,o)=>{const r=Rr(e,n);o(r),e.moveToBookmark(r)},vC=(e,n)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&n(e.startContainer.childNodes[e.startOffset]),C4=e=>vC(e,kr),x4=e=>vC(e,en),bC=e=>vC(e,id),Qv=e=>qt(e==null?void 0:e.nodeType),yC=e=>qn(e)&&!Ol(e)&&!sl(e)&&!mg(e),A_=(e,n)=>{if(yC(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},Ey=(e,n,o)=>{const{selection:r,dom:c}=e,f=r.getNode(),p=Ar(f);Jv(r,!0,()=>{n()}),p&&Ar(f)&&c.isChildOf(f,e.getBody())?e.selection.select(f):o(r.getStart())&&S4(c,r)},S4=(e,n)=>{var o,r;const c=n.getRng(),{startContainer:f,startOffset:p}=c,C=n.getNode();if(!A_(e,C)&&qn(f)){const E=f.childNodes,O=e.getRoot();let F;if(p<E.length){const U=E[p];F=new fr(U,(o=e.getParent(U,e.isBlock))!==null&&o!==void 0?o:O)}else{const U=E[E.length-1];F=new fr(U,(r=e.getParent(U,e.isBlock))!==null&&r!==void 0?r:O),F.next(!0)}for(let U=F.current();U;U=F.next()){if(e.getContentEditable(U)==="false")return;if(en(U)&&!CC(U)){c.setStart(U,0),n.setRng(c);return}}}},O_=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(qn(e)||!CC(e))return e}},wC=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||Vt(e,n),a1=(e,n,o)=>e.schema.isValidChild(n,o),CC=(e,n=!1)=>{if(Ie(e)&&en(e)){const o=n?e.data.replace(/ /g,""):e.data;return km(o)}else return!1},Mr=e=>Ie(e)&&en(e)&&e.length===0,D_=(e,n)=>{const o="[data-mce-cef-wrappable]",r=jO(e),c=ea(r)?o:`${o},${r}`;return cs(Ee.fromDom(n),c)},R_=(e,n)=>{const o=e.dom;return yC(n)&&o.getContentEditable(n)==="false"&&D_(e,n)&&o.select('[contenteditable="true"]',n).length===0},d=(e,n)=>xe(e)?e(n):(Ie(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),h=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),w=(e,n)=>{if(Je(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=_g(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},_=(e,n,o)=>{const r=e.getStyle(n,o);return w(r,o)},N=(e,n)=>{let o;return e.getParent(n,r=>qn(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},V=(e,n,o)=>e.getParents(n,o,e.getRoot()),Y=(e,n,o)=>{const r=e.formatter.get(n);return Ie(r)&&Xt(r,o)},ie=(e,n)=>Y(e,n,r=>{const c=f=>xe(f)||f.length>1&&f.charAt(0)==="%";return Xt(["styles","attributes"],f=>Jo(r,f).exists(p=>{const C=Xe(p)?p:mr(p);return Xt(C,c)}))}),we=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],c=f=>si(f,(p,C)=>Xt(r,E=>E===C));return Y(e,n,f=>{const p=c(f);return Y(e,o,C=>{const E=c(C);return Ji(p,E)})})},Pe=e=>Qo(e,"block"),ot=e=>Pe(e)&&e.wrapper===!0,Gt=e=>Pe(e)&&e.wrapper!==!0,En=e=>Qo(e,"selector"),dn=e=>Qo(e,"inline"),to=e=>En(e)&&dn(e)&&Is(Jo(e,"mixed"),!0),Mt=e=>En(e)&&e.expand!==!1&&!dn(e),Kt=e=>{const n=[];let o=e;for(;o;){if(en(o)&&o.data!==Fi||o.childNodes.length>1)return[];qn(o)&&n.push(o),o=o.firstChild}return n},uo=e=>Kt(e).length>0,$o=e=>sl(e.dom)&&uo(e.dom),Bn=Ol,Hs=V,zs=CC,Wo=wC,ki=e=>Vr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,ou=(e,n)=>{let o=n;for(;o;){if(qn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},em=(e,n,o,r)=>{const c=n.data;if(e){for(let f=o;f>0;f--)if(r(c.charAt(f-1)))return f}else for(let f=o;f<c.length;f++)if(r(c.charAt(f)))return f;return-1},Ih=(e,n,o)=>em(e,n,o,r=>yy(r)||Gg(r)),Kg=(e,n,o)=>em(e,n,o,dC),Js=(e,n,o,r,c,f)=>{let p;const C=e.getParent(o,U=>ab(U)||e.isBlock(U)),E=Ie(C)?C:n,O=(U,q,J)=>{const ge=Kd(e),fe=c?ge.backwards:ge.forwards;return K.from(fe(U,q,(de,He)=>Bn(de.parentNode)?-1:(p=de,J(c,de,He)),E))};return O(o,r,Ih).bind(U=>f?O(U.container,U.offset+(c?-1:0),Kg):K.some(U)).orThunk(()=>p?K.some({container:p,offset:c?0:p.length}):K.none())},bc=(e,n,o,r,c)=>{const f=r[c];en(r)&&ea(r.data)&&f&&(r=f);const p=Hs(e,r);for(let C=0;C<p.length;C++)for(let E=0;E<n.length;E++){const O=n[E];if(!(Ie(O.collapsed)&&O.collapsed!==o.collapsed)&&En(O)&&e.is(p[C],O.selector))return p[C]}return r},yc=(e,n,o,r)=>{var c;let f=o;const p=e.getRoot(),C=n[0];if(Pe(C)&&(f=C.wrapper?null:e.getParent(o,C.block,p)),!f){const E=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:p;f=e.getParent(en(o)?o.parentNode:o,O=>O!==p&&Wo(e.schema,O),E)}if(f&&Pe(C)&&C.wrapper&&(f=Hs(e,f,"ul,ol").reverse()[0]||f),!f)for(f=o;f&&f[r]&&!e.isBlock(f[r])&&(f=f[r],!h(f,"br")););return f||o},Tu=(e,n,o,r)=>{const c=o.parentNode;return Ie(o[r])?!1:c===n||Je(c)||e.isBlock(c)?!0:Tu(e,n,c,r)},wc=(e,n,o,r,c,f)=>{let p=o;const C=c?"previousSibling":"nextSibling",E=e.getRoot();if(en(o)&&!zs(o)&&(c?r>0:r<o.data.length))return o;for(;p;){if(ab(p))return o;if(!n[0].block_expand&&e.isBlock(p))return f?p:o;for(let O=p[C];O;O=O[C]){const F=en(O)&&!Tu(e,E,O,C);if(!Bn(O)&&!ki(O)&&!zs(O,F))return p}if(p===E||p.parentNode===E){o=p;break}p=p.parentNode}return o},Zm=e=>Bn(e.parentNode)||Bn(e),zi=(e,n,o,r={})=>{const{includeTrailingSpace:c=!1,expandToBlock:f=!0}=r,p=e.getParent(n.commonAncestorContainer,J=>ab(J)),C=Ie(p)?p:e.getRoot();let{startContainer:E,startOffset:O,endContainer:F,endOffset:U}=n;const q=o[0];return qn(E)&&E.hasChildNodes()&&(E=Bm(E,O),en(E)&&(O=0)),qn(F)&&F.hasChildNodes()&&(F=Bm(F,n.collapsed?U:U-1),en(F)&&(U=F.data.length)),E=ou(e,E),F=ou(e,F),Zm(E)&&(E=Bn(E)?E:E.parentNode,n.collapsed?E=E.previousSibling||E:E=E.nextSibling||E,en(E)&&(O=n.collapsed?E.length:0)),Zm(F)&&(F=Bn(F)?F:F.parentNode,n.collapsed?F=F.nextSibling||F:F=F.previousSibling||F,en(F)&&(U=n.collapsed?0:F.length)),n.collapsed&&(Js(e,C,E,O,!0,c).each(({container:fe,offset:de})=>{E=fe,O=de}),Js(e,C,F,U,!1,c).each(({container:fe,offset:de})=>{F=fe,U=de})),(dn(q)||q.block_expand)&&((!dn(q)||!en(E)||O===0)&&(E=wc(e,o,E,O,!0,f)),(!dn(q)||!en(F)||U===F.data.length)&&(F=wc(e,o,F,U,!1,f))),Mt(q)&&(E=bc(e,o,n,E,"previousSibling"),F=bc(e,o,n,F,"nextSibling")),(Pe(q)||En(q))&&(E=yc(e,o,E,"previousSibling"),F=yc(e,o,F,"nextSibling"),Pe(q)&&(e.isBlock(E)||(E=wc(e,o,E,O,!0,f),en(E)&&(O=0)),e.isBlock(F)||(F=wc(e,o,F,U,!1,f),en(F)&&(U=F.data.length)))),qn(E)&&E.parentNode&&(O=e.nodeIndex(E),E=E.parentNode),qn(F)&&F.parentNode&&(U=e.nodeIndex(F)+1,F=F.parentNode),{startContainer:E,startOffset:O,endContainer:F,endOffset:U}},c1=(e,n,o)=>{var r;const c=n.startOffset,f=Bm(n.startContainer,c),p=n.endOffset,C=Bm(n.endContainer,p-1),E=de=>{const He=de[0];en(He)&&He===f&&c>=He.data.length&&de.splice(0,1);const ze=de[de.length-1];return p===0&&de.length>0&&ze===C&&en(ze)&&de.splice(de.length-1,1),de},O=(de,He,ze)=>{const Ye=[];for(;de&&de!==ze;de=de[He])Ye.push(de);return Ye},F=(de,He)=>e.getParent(de,ze=>ze.parentNode===He,He),U=(de,He,ze)=>{const Ye=ze?"nextSibling":"previousSibling";for(let lt=de,Ft=lt.parentNode;lt&&lt!==He;lt=Ft){Ft=lt.parentNode;const vn=O(lt===de?lt:lt[Ye],Ye);vn.length&&(ze||vn.reverse(),o(E(vn)))}};if(f===C)return o(E([f]));const q=(r=e.findCommonAncestor(f,C))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(f,C))return U(f,q,!0);if(e.isChildOf(C,f))return U(C,q);const J=F(f,q)||f,ge=F(C,q)||C;U(f,J,!0);const fe=O(J===f?J:J.nextSibling,"nextSibling",ge===C?ge.nextSibling:ge);fe.length&&o(E(fe)),U(C,ge)},e0=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],qm=e=>Ms(e)&&Ba(e)===Fi,Cc=(e,n,o,r)=>Xc(n).fold(()=>"skipping",c=>r==="br"||qm(n)?"valid":nN(n)?"existing":sl(n.dom)?"caret":Xt(e0,f=>cs(n,f))?"valid-block":!a1(e,o,r)||!a1(e,ko(c),o)?"invalid-child":"valid"),E4=(e,n)=>{const o=zi(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},M_=(e,n,o,r,c,f)=>{const{uid:p=n,...C}=o;Pc(e,gd()),$r(e,`${Gd()}`,p),$r(e,`${qd()}`,r);const{attributes:E={},classes:O=[]}=c(p,C);if(xa(e,E),ug(e,O),f){O.length>0&&$r(e,`${$f()}`,O.join(","));const F=_t(E);F.length>0&&$r(e,`${Nm()}`,F.join(","))}},Kn=e=>{di(e,gd()),bi(e,`${Gd()}`),bi(e,`${qd()}`),bi(e,`${Sh()}`);const n=Cl(e,`${Nm()}`).map(r=>r.split(",")).getOr([]),o=Cl(e,`${$f()}`).map(r=>r.split(",")).getOr([]);Re(n,r=>bi(e,r)),kp(e,o),bi(e,`${$f()}`),bi(e,`${Nm()}`)},ku=(e,n,o,r,c)=>{const f=Ee.fromTag("span",e);return M_(f,n,o,r,c,!1),f},_4=(e,n,o,r,c,f)=>{const p=[],C=ku(e.getDoc(),o,f,r,c),E=pa(),O=()=>{E.clear()},F=()=>E.get().getOrThunk(()=>{const ge=wi(C);return p.push(ge),E.set(ge),ge}),U=ge=>{Re(ge,q)},q=ge=>{switch(Cc(e,ge,"span",ko(ge))){case"invalid-child":{O();const de=Hr(ge);U(de),O();break}case"valid-block":{O(),M_(ge,o,f,r,c,!0);break}case"valid":{const de=F();Jc(ge,de);break}}},J=ge=>{const fe=Lt(ge,Ee.fromDom);U(fe)};return c1(e.dom,n,ge=>{O(),J(ge)}),p},_y=(e,n,o,r)=>{e.undoManager.transact(()=>{const c=e.selection,f=c.getRng(),p=Nh(e).length>0,C=ii("mce-annotation");if(f.collapsed&&!p&&E4(e,f),c.getRng().collapsed&&!p){const E=ku(e.getDoc(),C,r,n,o.decorate);Fd(E,Er),c.getRng().insertNode(E.dom),c.select(E.dom)}else Jv(c,!1,()=>{pC(e,E=>{_4(e,E,C,n,o.decorate,r)})})})},P_=e=>{const n=Eh();_b(e,n);const o=uE(e,n),r=vi("span"),c=f=>{Re(f,p=>{r(p)?Rc(p):Kn(p)})};return{register:(f,p)=>{n.register(f,p)},annotate:(f,p)=>{n.lookup(f).each(C=>{_y(e,f,C,p)})},annotationChanged:(f,p)=>{o.addListener(f,p)},remove:f=>{g2(e,K.some(f)).each(({elements:p})=>{const C=e.selection.getBookmark();c(p),e.selection.moveToBookmark(C)})},removeAll:f=>{const p=e.selection.getBookmark();cn(Eb(e,f),(C,E)=>{c(C)}),e.selection.moveToBookmark(p)},getAll:f=>{const p=Eb(e,f);return ro(p,C=>Lt(C,E=>E.dom))}}},tm=e=>({getBookmark:Ue(ka,e),moveToBookmark:Ue(y4,e)});tm.isBookmarkNode=Ol;const gN=(e,n,o)=>o.collapsed?!1:Xt(o.getClientRects(),r=>y2(r,e,n)),T4=(e,n)=>{const o=Ms(n)?Ba(n).length:Hr(n).length+1;return e>o?o:e<0?0:e},pN=e=>Pf.range(e.start,T4(e.soffset,e.start),e.finish,T4(e.foffset,e.finish)),L_=(e,n)=>!Kw(n.dom)&&(Rs(e,n)||Nn(e,n)),N_=e=>n=>L_(e,n.start)&&L_(e,n.finish),k4=e=>e.inline||fs.browser.isFirefox(),hV=e=>Pf.range(Ee.fromDom(e.startContainer),e.startOffset,Ee.fromDom(e.endContainer),e.endOffset),gV=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?K.none():K.from(n.getRangeAt(0))).map(hV)},pV=e=>{const n=mu(e);return gV(n.dom).filter(N_(e))},vV=(e,n)=>K.from(n).filter(N_(e)).map(pN),A4=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),K.some(n)}catch{return K.none()}},xC=e=>{const n=k4(e)?pV(Ee.fromDom(e.getBody())):K.none();e.bookmark=n.isSome()?n:e.bookmark},O4=e=>(e.bookmark?e.bookmark:K.none()).bind(o=>vV(Ee.fromDom(e.getBody()),o)).bind(A4),vN=e=>{O4(e).each(n=>e.selection.setRng(n))},I_={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},bV=(e,n)=>(qt(n)||(n=0),window.setTimeout(e,n)),yV=(e,n)=>(qt(n)||(n=0),window.setInterval(e,n)),af={setEditorTimeout:(e,n,o)=>bV(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=yV(()=>{e.removed?window.clearInterval(r):n()},o);return r}},bN=(e,n)=>e.view(n).fold(Qe([]),r=>{const c=e.owner(r),f=bN(e,c);return[r].concat(f)}),wV=(e,n)=>{const o=n.owner(e);return bN(n,o)};var wN=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?K.none():K.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Ee.fromDom)},owner:e=>Wl(e)});const D4=e=>{const n=Y1(),o=tv(n),r=wV(e,wN),c=lg(e),f=Dt(r,(p,C)=>{const E=lg(C);return{left:p.left+E.left,top:p.top+E.top}},{left:0,top:0});return pu(f.left+c.left+o.left,f.top+c.top+o.top)},xV=e=>e.type==="nodechange"&&e.selectionChange,SV=(e,n)=>{const o=()=>{n.throttle()};qs.DOM.bind(document,"mouseup",o),e.on("remove",()=>{qs.DOM.unbind(document,"mouseup",o)})},EV=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},B_=(e,n)=>{EV(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{xV(o)||xC(e)})},CN=e=>{const n=Sn(()=>{xC(e)},0);e.on("init",()=>{e.inline&&SV(e,n),B_(e,n)}),e.on("remove",()=>{n.cancel()})};let t0;const R4=qs.DOM,_V=e=>qn(e)&&I_.isEditorUIElement(e),xN=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},M4=(e,n)=>{const o=Dh(e);return R4.getParent(n,c=>_V(c)||(o?e.dom.is(c,o):!1))!==null},SN=e=>{try{const n=Zi(Ee.fromDom(e.getElement()));return Zl(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},TV=(e,n)=>{const o=n.editor;CN(o);const r=(f,p)=>{if(YO(f)&&f.inline!==!0){const C=Ee.fromDom(f.getContainer());p(C,"tox-edit-focus")}},c=f=>{if(!f.iframeElement)return;const C=Ee.fromDom(f.iframeElement),E=D4(C),O=rb(window);(E.top<O.y||E.top>O.bottom-25)&&C.dom.scrollIntoView({block:"center"})};o.on("focusin",()=>{const f=e.focusedEditor;if(xN(SN(o))&&r(o,Pc),f!==o){f&&f.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:f}),o.focus(!0);const p=Dc().browser;o.inline!==!0&&(p.isSafari()||p.isChromium())&&c(o)}}),o.on("focusout",()=>{af.setEditorTimeout(o,()=>{const f=e.focusedEditor;(!xN(SN(o))||f!==o)&&r(o,di),!M4(o,SN(o))&&f===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),t0||(t0=f=>{const p=e.activeEditor;p&&G1(f).each(C=>{const E=C;E.ownerDocument===document&&E!==document.body&&!M4(p,E)&&e.focusedEditor===p&&(p.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},R4.bind(document,"focusin",t0))},Vte=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&t0&&(R4.unbind(document,"focusin",t0),t0=null)},kV=e=>{e.on("AddEditor",Ue(TV,e)),e.on("RemoveEditor",Ue(Vte,e))},AV=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),Ute=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="false")!==null,OV=e=>e.collapsed?K.from(Bm(e.startContainer,e.startOffset)).map(Ee.fromDom):K.none(),Wr=(e,n)=>OV(n).bind(o=>zc(o)?K.some(o):Rs(e,o)?K.none():K.some(e)),$_=(e,n)=>{Wr(Ee.fromDom(e.getBody()),n).bind(o=>vc(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},n0=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},F_=e=>Qu(e)||X1(e).isSome(),Yg=e=>Ie(e.iframeElement)&&Qu(Ee.fromDom(e.iframeElement)),H_=e=>{const n=e.getBody();return n&&F_(Ee.fromDom(n))},Ty=e=>{const n=Zi(Ee.fromDom(e.getElement()));return Zl(n).filter(o=>!xN(o.dom)&&M4(e,o.dom)).isSome()},o0=e=>e.inline?H_(e):Yg(e),P4=e=>o0(e)||Ty(e),DV=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable();const c=p=>{O4(p).each(C=>{p.selection.setRng(C),r=C})};!o0(e)&&e.hasEditableRoot()&&c(e);const f=AV(e,n.getNode());if(f&&e.dom.isChildOf(f,o)){Ute(e,f)||n0(o),n0(f),e.hasEditableRoot()||c(e),$_(e,r),z_(e);return}e.inline||(fs.browser.isOpera()||n0(o),e.getWin().focus()),(fs.browser.isFirefox()||e.inline)&&(n0(o),$_(e,r)),z_(e)},z_=e=>e.editorManager.setActive(e),RV=(e,n)=>{e.removed||(n?z_(e):DV(e))},Dn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Dn.metaKeyPressed(e),metaKeyPressed:e=>fs.os.isMacOS()||fs.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Bh="data-mce-selected",l1="table,img,figure.image,hr,video,span.mce-preview-object,details",u1=Math.abs,SC=Math.round,L4={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},MV=e=>e.type==="longpress"||e.type.indexOf("touch")===0,EN=(e,n)=>{const o=n.dom,r=n.getDoc(),c=document,f=n.getBody();let p,C,E,O,F,U,q,J,ge,fe,de,He,ze,Ye,lt;const Ft=Xn=>Ie(Xn)&&(Qw(Xn)||o.is(Xn,"figure.image")),vn=Xn=>ad(Xn)||o.hasClass(Xn,"mce-preview-object"),nn=(Xn,gn)=>{if(MV(Xn)){const Mn=Xn.touches[0];return Ft(Xn.target)&&!gN(Mn.clientX,Mn.clientY,gn)}else return Ft(Xn.target)&&!gN(Xn.clientX,Xn.clientY,gn)},Pt=Xn=>{const gn=Xn.target;nn(Xn,n.selection.getRng())&&!Xn.isDefaultPrevented()&&n.selection.select(gn)},Ke=Xn=>o.hasClass(Xn,"mce-preview-object")&&Ie(Xn.firstElementChild)?[Xn,Xn.firstElementChild]:o.is(Xn,"figure.image")?[Xn.querySelector("img")]:[Xn],Ce=Xn=>{const gn=U2(n);return!gn||n.mode.isReadOnly()||Xn.getAttribute("data-mce-resize")==="false"||Xn===n.getBody()?!1:o.hasClass(Xn,"mce-preview-object")&&Ie(Xn.firstElementChild)?cs(Ee.fromDom(Xn.firstElementChild),gn):cs(Ee.fromDom(Xn),gn)},dt=(Xn,gn)=>{if(vn(gn))return Xn.create("img",{src:fs.transparentSrc});if(Lf(gn)){const Co=go(O.name,"n")?gt:bt,Lo=gn.cloneNode(!0);return Co(Xn.select("tr",Lo)).each(Qs=>{const yr=Xn.select("td,th",Qs);Xn.setStyle(Qs,"height",null),Re(yr,bf=>Xn.setStyle(bf,"height",null))}),Lo}else return gn.cloneNode(!0)},tn=(Xn,gn,Mn)=>{if(Ie(Mn)){const Co=Ke(Xn);Re(Co,Lo=>{Lo.style[gn]||!n.schema.isValid(Lo.nodeName.toLowerCase(),gn)?o.setStyle(Lo,gn,Mn):o.setAttrib(Lo,gn,""+Mn)})}},Qn=(Xn,gn,Mn)=>{tn(Xn,"width",gn),tn(Xn,"height",Mn)},Po=Xn=>{let gn,Mn,Co,Lo,Qs;gn=Xn.screenX-U,Mn=Xn.screenY-q,He=gn*O[2]+J,ze=Mn*O[3]+ge,He=He<5?5:He,ze=ze<5?5:ze,(Ft(p)||vn(p))&&As(n)!==!1?Co=!Dn.modifierPressed(Xn):Co=Dn.modifierPressed(Xn),Co&&(u1(gn)>u1(Mn)?(ze=SC(He*fe),He=SC(ze/fe)):(He=SC(ze/fe),ze=SC(He*fe))),Qn(C,He,ze),Lo=O.startPos.x+gn,Qs=O.startPos.y+Mn,Lo=Lo>0?Lo:0,Qs=Qs>0?Qs:0,o.setStyles(E,{left:Lo,top:Qs,display:"block"}),E.innerHTML=He+" &times; "+ze,gn=f.scrollWidth-Ye,Mn=f.scrollHeight-lt,gn+Mn!==0&&o.setStyles(E,{left:Lo-gn,top:Qs-Mn}),de||(RO(n,p,J,ge,"corner-"+O.name),de=!0)},ss=()=>{const Xn=de;de=!1,Xn&&(tn(p,"width",He),tn(p,"height",ze)),o.unbind(r,"mousemove",Po),o.unbind(r,"mouseup",ss),c!==r&&(o.unbind(c,"mousemove",Po),o.unbind(c,"mouseup",ss)),o.remove(C),o.remove(E),o.remove(F),vs(p),Xn&&(L2(n,p,He,ze,"corner-"+O.name),o.setAttrib(p,"style",o.getAttrib(p,"style"))),n.nodeChanged()},vs=Xn=>{no();const gn=o.getPos(Xn,f),Mn=gn.x,Co=gn.y,Lo=Xn.getBoundingClientRect(),Qs=Lo.width||Lo.right-Lo.left,yr=Lo.height||Lo.bottom-Lo.top;p!==Xn&&(qr(),p=Xn,He=ze=0);const bf=n.dispatch("ObjectSelected",{target:Xn});Ce(Xn)&&!bf.isDefaultPrevented()?cn(L4,(_c,oh)=>{const mm=Vu=>{const sh=Ke(p)[0];U=Vu.screenX,q=Vu.screenY,J=sh.clientWidth,ge=sh.clientHeight,fe=ge/J,O=_c,O.name=oh,O.startPos={x:Qs*_c[0]+Mn,y:yr*_c[1]+Co},Ye=f.scrollWidth,lt=f.scrollHeight,F=o.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(F,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),C=dt(o,p),o.addClass(C,"mce-clonedresizable"),o.setAttrib(C,"data-mce-bogus","all"),C.contentEditable="false",o.setStyles(C,{left:Mn,top:Co,margin:0}),Qn(C,Qs,yr),C.removeAttribute(Bh),f.appendChild(C),o.bind(r,"mousemove",Po),o.bind(r,"mouseup",ss),c!==r&&(o.bind(c,"mousemove",Po),o.bind(c,"mouseup",ss)),E=o.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},J+" &times; "+ge)};let iu=o.get("mceResizeHandle"+oh);iu&&o.remove(iu),iu=o.add(f,"div",{id:"mceResizeHandle"+oh,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+oh+"-resize; margin:0; padding:0"}),o.bind(iu,"mousedown",Vu=>{Vu.stopImmediatePropagation(),Vu.preventDefault(),mm(Vu)}),_c.elm=iu,o.setStyles(iu,{left:Qs*_c[0]+Mn-iu.offsetWidth/2,top:yr*_c[1]+Co-iu.offsetHeight/2})}):qr(!1)},Zr=Sn(vs,0),qr=(Xn=!0)=>{Zr.cancel(),no(),p&&Xn&&p.removeAttribute(Bh),cn(L4,(gn,Mn)=>{const Co=o.get("mceResizeHandle"+Mn);Co&&(o.unbind(Co),o.remove(Co))})},tc=(Xn,gn)=>o.isChildOf(Xn,gn),fn=Xn=>{if(de||n.removed||n.composing)return;const gn=Xn.type==="mousedown"?Xn.target:e.getNode(),Mn=$a(Ee.fromDom(gn),l1).map(Lo=>Lo.dom).filter(Lo=>o.isEditable(Lo.parentElement)||Lo.nodeName==="IMG"&&o.isEditable(Lo)).getOrUndefined(),Co=Ie(Mn)?o.getAttrib(Mn,Bh,"1"):"1";if(Re(o.select(`img[${Bh}],hr[${Bh}]`),Lo=>{Lo.removeAttribute(Bh)}),Ie(Mn)&&tc(Mn,f)&&P4(n)){Ts();const Lo=e.getStart(!0);if(tc(Lo,Mn)&&tc(e.getEnd(!0),Mn)){o.setAttrib(Mn,Bh,Co),Zr.throttle(Mn);return}}qr()},no=()=>{cn(L4,Xn=>{Xn.elm&&(o.unbind(Xn.elm),delete Xn.elm)})},Ts=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{Ts(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",fn),n.on("keyup compositionend",Xn=>{p&&p.nodeName==="TABLE"&&fn(Xn)}),n.on("hide blur",qr),n.on("contextmenu longpress",Pt,!0)}),n.on("remove",no),{isResizable:Ce,showResizeRect:vs,hideResizeRect:qr,updateResizeRect:fn,destroy:()=>{Zr.cancel(),p=C=F=null}}},_N=(e,n,o)=>{const r=mu(Ee.fromDom(o));return gh(r.dom,e,n).map(c=>{const f=o.createRange();return f.setStart(c.start.dom,c.soffset),f.setEnd(c.finish.dom,c.foffset),f}).getOrUndefined()},N4=(e,n)=>Ie(e)&&Ie(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,PV=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},I4=(e,n,o)=>PV(e,n,o)!==null,LV=(e,n,o)=>I4(e,n,r=>r.nodeName===o),NV=(e,n)=>dc(e)&&!I4(e,n,sl),TN=(e,n,o)=>{const r=n.parentNode;if(r){const c=new fr(n,e.getParent(r,e.isBlock)||e.getRoot());let f;for(;f=c[o?"prev":"next"]();)if(Vr(f))return!0}return!1},Wte=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},IV=(e,n)=>{let o=n;for(;o&&o!==e;){if(Ar(o))return!0;o=o.parentNode}return!1},Aa=(e,n,o,r,c)=>{const f=e.getRoot(),p=e.schema.getNonEmptyElements(),C=c.parentNode;let E,O;if(!C)return K.none();const F=e.getParent(C,e.isBlock)||f;if(r&&Vr(c)&&n&&e.isEmpty(F))return K.some(Et(C,e.nodeIndex(c)));const U=new fr(c,F);for(;O=U[r?"prev":"next"]();){if(e.getContentEditableParent(O)==="false"||NV(O,f))return K.none();if(en(O)&&O.data.length>0)return LV(O,f,"A")?K.none():K.some(Et(O,r?O.data.length:0));if(e.isBlock(O)||p[O.nodeName.toLowerCase()])return K.none();E=O}return ei(E)?K.none():o&&E?K.some(Et(E,0)):K.none()},EC=(e,n,o,r)=>{const c=e.getRoot();let f,p=!1,C=o?r.startContainer:r.endContainer,E=o?r.startOffset:r.endOffset;const O=qn(C)&&E===C.childNodes.length,F=e.schema.getNonEmptyElements();let U=o;if(dc(C))return K.none();if(qn(C)&&E>C.childNodes.length-1&&(U=!1),ns(C)&&(C=c,E=0),C===c){if(U&&(f=C.childNodes[E>0?E-1:0],f&&(dc(f)||F[f.nodeName]||Lf(f))))return K.none();if(C.hasChildNodes()){if(E=Math.min(!U&&E>0?E-1:E,C.childNodes.length-1),C=C.childNodes[E],E=en(C)&&O?C.data.length:0,!n&&C===c.lastChild&&Lf(C)||IV(c,C)||dc(C)||lb(C))return K.none();if(C.hasChildNodes()&&!Lf(C)){f=C;const q=new fr(C,c);do{if(Ar(f)||dc(f)){p=!1;break}if(en(f)&&f.data.length>0){E=U?0:f.data.length,C=f,p=!0;break}if(F[f.nodeName.toLowerCase()]&&!e2(f)){E=e.nodeIndex(f),C=f.parentNode,U||E++,p=!0;break}}while(f=U?q.next():q.prev())}}}return n&&(en(C)&&E===0&&Aa(e,O,n,!0,C).each(q=>{C=q.container(),E=q.offset(),p=!0}),qn(C)&&(f=C.childNodes[E],f||(f=C.childNodes[E-1]),f&&Vr(f)&&!Wte(f,"A")&&!TN(e,f,!1)&&!TN(e,f,!0)&&Aa(e,O,n,!0,f).each(q=>{C=q.container(),E=q.offset(),p=!0}))),U&&!n&&en(C)&&E===C.data.length&&Aa(e,O,n,!1,C).each(q=>{C=q.container(),E=q.offset(),p=!0}),p&&C?K.some(Et(C,E)):K.none()},Oa=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),c=Et.fromRangeStart(n);return EC(e,o,!0,r).each(f=>{(!o||!Et.isAbove(c,f))&&r.setStart(f.container(),f.offset())}),o||EC(e,o,!1,r).each(f=>{r.setEnd(f.container(),f.offset())}),o&&r.collapse(!0),N4(n,r)?K.none():K.some(r)},Au=(e,n)=>e.splitText(n),V_=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,c=e.endOffset;if(n===r&&en(n)){if(o>0&&o<n.data.length)if(r=Au(n,o),n=r.previousSibling,c>o){c=c-o;const f=Au(r,c).previousSibling;n=r=f,c=f.data.length,o=0}else c=0}else if(en(n)&&o>0&&o<n.data.length&&(n=Au(n,o),o=0),en(r)&&c>0&&c<r.data.length){const f=Au(r,c).previousSibling;r=f,c=f.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:c}},Gm=e=>({walk:(f,p)=>c1(e,f,p),split:V_,expand:(f,p={type:"word"})=>{if(p.type==="word"){const C=zi(e,f,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),E=e.createRng();return E.setStart(C.startContainer,C.startOffset),E.setEnd(C.endContainer,C.endOffset),E}return f},normalize:f=>Oa(e,f).fold(Tt,p=>(f.setStart(p.startContainer,p.startOffset),f.setEnd(p.endContainer,p.endOffset),!0))});Gm.compareRanges=N4,Gm.getCaretRangeFromPoint=_N,Gm.getSelectedNode=Ah,Gm.getNode=Bm;const B4=e=>ko(e)==="textarea",$4=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),BV=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},kN=(e,n)=>{const o=Hr(e);if(o.length===0||B4(e))return{element:e,offset:n};if(n<o.length&&!B4(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return B4(r)?{element:e,offset:n}:ko(r)==="img"?{element:r,offset:1}:Ms(r)?{element:r,offset:Ba(r).length}:{element:r,offset:Hr(r).length}}},AN=(e,n)=>{const o=cg(e),r=zw(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},$V=(e,n)=>{const o=kN(e,n),r=Ee.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Fi+"</span>");return Ca(o.element,r),AN(r,()=>or(r))},FV=e=>AN(Ee.fromDom(e),Nt),Ou=(e,n,o,r)=>{F4(e,(c,f)=>jte(e,n,o,r),o)},rl=(e,n,o,r,c)=>{const f={elm:r.element.dom,alignToTop:c};if($4(e,f))return;const p=tv(n).top;o(e,n,p,r,c),BV(e,f)},jte=(e,n,o,r)=>{const c=Ee.fromDom(e.getBody()),f=Ee.fromDom(e.getDoc());Q1(c);const p=$V(Ee.fromDom(o.startContainer),o.startOffset);rl(e,f,n,p,r),p.cleanup()},nm=(e,n,o,r)=>{const c=Ee.fromDom(e.getDoc());rl(e,c,o,FV(n),r)},F4=(e,n,o)=>{const r=o.startContainer,c=o.startOffset,f=o.endContainer,p=o.endOffset;n(Ee.fromDom(r),Ee.fromDom(f));const C=e.dom.createRng();C.setStart(r,c),C.setEnd(f,p),e.selection.setRng(o)},H4=(e,n,o,r,c)=>{const f=n.pos,p=30;if(r)Q0(f.left,Math.max(0,f.top-p),c);else{const C=f.top-o+n.height+p;Q0(-e.getBody().getBoundingClientRect().left,C,c)}},ON=(e,n,o,r,c,f)=>{const p=r+o,C=c.pos.top,E=c.bottom,O=E-C>=r;C<o?H4(e,c,r,f!==!1,n):C>p?H4(e,c,r,O?f!==!1:f===!0,n):E>p&&!O&&H4(e,c,r,f===!0,n)},z4=(e,n,o,r,c)=>{const f=mu(n).dom.innerHeight;ON(e,n,o,f,r,c)},DN=(e,n,o,r,c)=>{const f=mu(n).dom.innerHeight;ON(e,n,o,f,r,c);const p=D4(r.element),C=rb(window);p.top<C.y?Gl(r.element,c!==!1):p.top>C.bottom&&Gl(r.element,c===!0)},RN=(e,n,o)=>Ou(e,z4,n,o),HV=(e,n,o)=>nm(e,n,z4,o),V4=(e,n,o)=>Ou(e,DN,n,o),zV=(e,n,o)=>nm(e,n,DN,o),VV=(e,n,o)=>{(e.inline?HV:zV)(e,n,o)},_C=(e,n,o)=>{(e.inline?RN:V4)(e,n,o)},MN=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),U4=(e,n,o,r,c)=>{const f=o?n.startContainer:n.endContainer,p=o?n.startOffset:n.endOffset;return K.from(f).map(Ee.fromDom).map(C=>!r||!n.collapsed?jl(C,c(C,p)).getOr(C):C).bind(C=>Ur(C)?K.some(C):ac(C).filter(Ur)).map(C=>C.dom).getOr(e)},U_=(e,n,o=!1)=>U4(e,n,!0,o,(r,c)=>Math.min(Tf(r),c)),W4=(e,n,o=!1)=>U4(e,n,!1,o,(r,c)=>c>0?c-1:c),W_=(e,n)=>{const o=e;for(;e&&en(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},UV=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const c=n.startOffset,f=n.endOffset;let p=n.commonAncestorContainer;n.collapsed||(o===r&&f-c<2&&o.hasChildNodes()&&(p=o.childNodes[c]),en(o)&&en(r)&&(o.length===c?o=W_(o.nextSibling,!0):o=o.parentNode,f===0?r=W_(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(p=o)));const C=en(p)?p.parentNode:p;return kr(C)?C:e},Zte=(e,n,o,r)=>{const c=[],f=e.getRoot(),p=e.getParent(o||U_(f,n,n.collapsed),e.isBlock),C=e.getParent(r||W4(f,n,n.collapsed),e.isBlock);if(p&&p!==f&&c.push(p),p&&C&&p!==C){let E;const O=new fr(p,f);for(;(E=O.next())&&E!==C;)e.isBlock(E)&&c.push(E)}return C&&p!==C&&C!==f&&c.push(C),c},qte=(e,n,o)=>K.from(n).bind(r=>K.from(r.parentNode).map(c=>{const f=e.nodeIndex(r),p=e.createRng();return p.setStart(c,f),p.setEnd(c,f+1),o&&(Sy(e,p,r,!0),Sy(e,p,r,!1)),p})),j4=(e,n)=>Lt(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),PN={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},j_=(e,n,o)=>{const r=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[r])return e[r];if(e!==n){let f=e[c];if(f)return f;for(let p=e.parent;p&&p!==n;p=p.parent)if(f=p[c],f)return f}},WV=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!km(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},LN=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class il{static create(n,o){const r=new il(n,PN[n]||1);return o&&cn(o,(c,f)=>{r.attr(f,c)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!oe(n))return Ie(n)&&cn(n,(f,p)=>{r.attr(p,f)}),r;const c=r.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let f=c.length;for(;f--;)if(c[f].name===n)return c.splice(f,1),r}return r}if(n in c.map){let f=c.length;for(;f--;)if(c[f].name===n){c[f].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,r}return c.map[n]}}clone(){const n=this,o=new il(n.name,n.type),r=n.attributes;if(r){const c=[];c.map={};for(let f=0,p=r.length;f<p;f++){const C=r[f];C.name!=="id"&&(c[c.length]={name:C.name,value:C.value},c.map[C.name]=C.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):c&&(c.next=r),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):r&&(r.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const c=o.parent||this;return r?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,r=[];for(let c=o.firstChild;c;c=j_(c,o))c.name===n&&r.push(c);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=j_(c,n))o.push(c);let r=o.length;for(;r--;){const c=o[r];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var c;const f=this;let p=f.firstChild;if(LN(f))return!1;if(p)do{if(p.type===1){if(p.attr("data-mce-bogus"))continue;if(n[p.name]||LN(p))return!1}if(p.type===8||p.type===3&&!WV(p)||p.type===3&&p.parent&&o[p.parent.name]&&km((c=p.value)!==null&&c!==void 0?c:"")||r&&r(p))return!1}while(p=j_(p,f));return!0}walk(n){return j_(this,null,n)}}const Gte=on.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),Z4=e=>oe(e.nodeValue)&&e.nodeValue.includes(Fi),q4=e=>`${e.length===0?"":`${Lt(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,jV=(e,n)=>n.querySelectorAll(q4(e)),NN=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>Z4(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),IN=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(Z4(n)){const o=n.parentNode;return o&&jn(Gte,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),Kte=e=>NN(e).nextNode()!==null,Yte=e=>IN(e).nextNode()!==null,Xte=(e,n)=>n.querySelector(q4(e))!==null,ZV=(e,n)=>{Re(jV(e,n),o=>{const r=Ee.fromDom(o);gr(r,"data-mce-bogus")==="all"?or(r):Re(e,c=>{_r(r,c)&&bi(r,c)})})},qV=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},GV=B(qV,NN),s0=B(qV,IN),BN=(e,n)=>{const o=[{condition:Ue(Xte,n),action:Ue(ZV,n)},{condition:Kte,action:GV},{condition:Yte,action:s0}];let r=e,c=!1;return Re(o,({condition:f,action:p})=>{f(r)&&(c||(r=e.cloneNode(!0),c=!0),p(r))}),r},G4=e=>{const n=kt(e,"[data-mce-bogus]");Re(n,o=>{gr(o,"data-mce-bogus")==="all"?or(o):Ff(o)?(Ca(o,Ee.fromText(va)),or(o)):Rc(o)})},K4=e=>{const n=kt(e,"input");Re(n,o=>{bi(o,"name")})},$N=(e,n)=>{const o=Ua(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},FN=(e,n)=>{const o=e.getDoc(),r=Zi(Ee.fromDom(e.getBody())),c=Ee.fromTag("div",o);$r(c,"data-mce-bogus","all"),Mc(c,{position:"fixed",left:"-9999999px",top:"0"}),Fd(c,n.innerHTML),G4(c),K4(c);const f=Y0(r);xs(f,c);const p=tl(c.dom.innerText);return or(c),p},Y4=(e,n,o)=>{let r;return n.format==="raw"?r=on.trim(tl(BN(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?r=FN(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=$N(e,e.serializer.serialize(o,n)),n.format!=="text"&&!kl(Ee.fromDom(o))&&oe(r)?on.trim(r):r},Jte=(e,n)=>K.from(e.getBody()).fold(Qe(n.format==="tree"?new il("body",11):""),o=>Y4(e,n,o)),HN=on.makeMap,KV=e=>{const n=[];e=e||{};const o=e.indent,r=HN(e.indent_before||""),c=HN(e.indent_after||""),f=bg.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format!=="xhtml";return{start:(C,E,O)=>{if(o&&r[C]&&n.length>0){const F=n[n.length-1];F.length>0&&F!==`
`&&n.push(`
`)}if(n.push("<",C),E)for(let F=0,U=E.length;F<U;F++){const q=E[F];n.push(" ",q.name,'="',f(q.value,!0),'"')}if(!O||p?n[n.length]=">":n[n.length]=" />",O&&o&&c[C]&&n.length>0){const F=n[n.length-1];F.length>0&&F!==`
`&&n.push(`
`)}},end:C=>{let E;n.push("</",C,">"),o&&c[C]&&n.length>0&&(E=n[n.length-1],E.length>0&&E!==`
`&&n.push(`
`))},text:(C,E)=>{C.length>0&&(n[n.length]=E?C:f(C))},cdata:C=>{n.push("<![CDATA[",C,"]]>")},comment:C=>{n.push("<!--",C,"-->")},pi:(C,E)=>{E?n.push("<?",C," ",f(E),"?>"):n.push("<?",C,"?>"),o&&n.push(`
`)},doctype:C=>{n.push("<!DOCTYPE",C,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},d1=(e={},n=fd())=>{const o=KV(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const f=e.validate,p={3:E=>{var O;o.text((O=E.value)!==null&&O!==void 0?O:"",E.raw)},8:E=>{var O;o.comment((O=E.value)!==null&&O!==void 0?O:"")},7:E=>{o.pi(E.name,E.value)},10:E=>{var O;o.doctype((O=E.value)!==null&&O!==void 0?O:"")},4:E=>{var O;o.cdata((O=E.value)!==null&&O!==void 0?O:"")},11:E=>{let O=E;if(O=O.firstChild)do C(O);while(O=O.next)}};o.reset();const C=E=>{var O;const F=p[E.type];if(F)F(E);else{const U=E.name,q=U in n.getVoidElements();let J=E.attributes;if(f&&J&&J.length>1){const ge=[];ge.map={};const fe=n.getElementRule(E.name);if(fe){for(let de=0,He=fe.attributesOrder.length;de<He;de++){const ze=fe.attributesOrder[de];if(ze in J.map){const Ye=J.map[ze];ge.map[ze]=Ye,ge.push({name:ze,value:Ye})}}for(let de=0,He=J.length;de<He;de++){const ze=J[de].name;if(!(ze in ge.map)){const Ye=J.map[ze];ge.map[ze]=Ye,ge.push({name:ze,value:Ye})}}J=ge}}if(o.start(U,J,q),Bc(U))oe(E.value)&&o.text(E.value,!0),o.end(U);else if(!q){let ge=E.firstChild;if(ge){(U==="pre"||U==="textarea")&&ge.type===3&&((O=ge.value)===null||O===void 0?void 0:O[0])===`
`&&o.text(`
`,!0);do C(ge);while(ge=ge.next)}o.end(U)}}};return c.type===1&&!e.inner?C(c):c.type===3?p[3](c):p[11](c),o.getContent()}}},zN=new Set;Re(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{zN.add(n)});const Z_=new Set;Re(["background-color"],n=>{Z_.add(n)});const X4=["font","text-decoration","text-emphasis"],Qte=(e,n)=>e.parseStyle(e.getAttrib(n,"style")),TC=(e,n)=>_t(Qte(e,n)),ene=e=>zN.has(e),YV=e=>Z_.has(e),XV=(e,n)=>Xt(TC(e,n),o=>ene(o)),JV=(e,n)=>XV(e,n)&&Xt(TC(e,n),o=>YV(o)),VN=e=>pe(e,n=>Xt(X4,o=>go(n,o))),QV=(e,n,o)=>{const r=TC(e,n),c=TC(e,o),f=p=>{var C,E;const O=(C=e.getStyle(n,p))!==null&&C!==void 0?C:"",F=(E=e.getStyle(o,p))!==null&&E!==void 0?E:"";return Ws(O)&&Ws(F)&&O!==F};return Xt(r,p=>{const C=E=>Xt(E,O=>O===p);if(!C(c)&&C(X4)){const E=VN(c);return Xt(E,f)}else return f(p)})},J4=(e,n,o)=>K.from(o.container()).filter(en).exists(r=>{const c=e?0:-1;return n(r.data.charAt(o.offset()+c))}),UN=Ue(J4,!0,Gg),Q4=Ue(J4,!1,Gg),WN=e=>{const n=e.container();return en(n)&&(n.data.length===0||Rb(n.data)&&tm.isBookmarkNode(n.parentNode))},f1=(e,n)=>o=>tC(e?0:-1,o).filter(n).isSome(),jN=e=>Qw(e)&&Qr(Ee.fromDom(e),"display")==="block",ZN=e=>Ar(e)&&!IS(e),e9=f1(!0,jN),t9=f1(!1,jN),kC=f1(!0,ad),AC=f1(!1,ad),qN=f1(!0,Lf),eD=f1(!1,Lf),m1=f1(!0,ZN),h1=f1(!1,ZN),n9=e=>e.slice(0,-1),o9=(e,n,o)=>Rs(n,e)?n9(Na(e,r=>o(r)||Nn(r,n))):[],GN=(e,n)=>o9(e,n,Tt),An=(e,n)=>[e].concat(GN(e,n)),om=(e,n,o)=>lC(e,n,o,WN),tne=e=>n=>e.isBlock(ko(n)),KN=(e,n,o)=>rt(An(Ee.fromDom(n.container()),e),tne(o)),q_=(e,n,o,r)=>om(e,n.dom,o).forall(c=>KN(n,o,r).fold(()=>!Yf(c,o,n.dom),f=>!Yf(c,o,n.dom)&&Rs(f,Ee.fromDom(c.container())))),tD=(e,n,o,r)=>KN(n,o,r).fold(()=>om(e,n.dom,o).forall(c=>!Yf(c,o,n.dom)),c=>om(e,c.dom,o).isNone()),G_=Ue(tD,!1),K_=Ue(tD,!0),s9=Ue(q_,!1),YN=Ue(q_,!0),r9=e=>s1(e).exists(Ff),Y_=(e,n,o,r)=>{const c=pe(An(Ee.fromDom(o.container()),n),p=>r.isBlock(ko(p))),f=gt(c).getOr(n);return gc(e,f.dom,o).filter(r9)},nD=(e,n,o)=>s1(n).exists(Ff)||Y_(!0,e,n,o).isSome(),X_=(e,n,o)=>Gv(n).exists(Ff)||Y_(!1,e,n,o).isSome(),XN=Ue(Y_,!1),J_=Ue(Y_,!0),JN=e=>Et.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),QN=(e,n,o)=>{const r=pe(An(Ee.fromDom(n.container()),e),c=>o.isBlock(ko(c)));return gt(r).getOr(e)},eI=(e,n,o)=>JN(n)?Q4(n):Q4(n)||Vc(QN(e,n,o).dom,n).exists(Q4),tI=(e,n,o)=>JN(n)?UN(n):UN(n)||pc(QN(e,n,o).dom,n).exists(UN),i9=e=>ut(["pre","pre-wrap"],e),Q_=e=>s1(e).bind(n=>Gs(n,Ur)).exists(n=>i9(Qr(n,"white-space"))),eT=(e,n)=>Vc(e.dom,n).isNone(),a9=(e,n)=>pc(e.dom,n).isNone(),c9=(e,n,o)=>eT(e,n)||a9(e,n)||G_(e,n,o)||K_(e,n,o)||X_(e,n,o)||nD(e,n,o),l9=e=>Ie(e)&&Ar(e)&&p_(e),nI=(e,n)=>o=>l9(new fr(o,e)[n]()),u9=(e,n)=>{const o=pc(e.dom,n).getOr(n),r=nI(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},d9=(e,n)=>{const o=Vc(e.dom,n).getOr(n),r=nI(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},oI=(e,n,o)=>Q_(n)?!1:c9(e,n,o)||eI(e,n,o)||tI(e,n,o),OC=(e,n,o)=>Q_(n)?!1:G_(e,n,o)||s9(e,n,o)||X_(e,n,o)||eI(e,n,o)||d9(e,n),f9=e=>{const n=e.container(),o=e.offset();return en(n)&&o<n.data.length?Et(n,o+1):e},DC=(e,n,o)=>Q_(n)?!1:K_(e,n,o)||YN(e,n,o)||nD(e,n,o)||tI(e,n,o)||u9(e,n),oD=(e,n,o)=>OC(e,n,o)||DC(e,f9(n),o),sI=(e,n)=>yy(e.charAt(n)),rI=(e,n)=>Gg(e.charAt(n)),m9=e=>{const n=e.container();return en(n)&&xr(n.data,Er)},iI=e=>{const n=e.split("");return Lt(n,(o,r)=>yy(o)&&r>0&&r<n.length-1&&dC(n[r-1])&&dC(n[r+1])?" ":o).join("")},aI=(e,n,o,r)=>{const c=n.data,f=Et(n,0);return!o&&sI(c,0)&&!oD(e,f,r)?(n.data=" "+c.slice(1),!0):o&&rI(c,0)&&OC(e,f,r)?(n.data=Er+c.slice(1),!0):!1},h9=e=>{const n=e.data,o=iI(n);return o!==n?(e.data=o,!0):!1},RC=(e,n,o,r)=>{const c=n.data,f=Et(n,c.length-1);return!o&&sI(c,c.length-1)&&!oD(e,f,r)?(n.data=c.slice(0,-1)+" ",!0):o&&rI(c,c.length-1)&&DC(e,f,r)?(n.data=c.slice(0,-1)+Er,!0):!1},r0=(e,n,o)=>{const r=n.container();if(!en(r))return K.none();if(m9(n)){const c=aI(e,r,!1,o)||h9(r)||RC(e,r,!1,o);return ga(c,n)}else if(oD(e,n,o)){const c=aI(e,r,!0,o)||RC(e,r,!0,o);return ga(c,n)}else return K.none()},tT=e=>{const n=Ee.fromDom(e.getBody());e.selection.isCollapsed()&&r0(n,Et.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},cI=(e,n,o,r)=>{if(o===0)return;const c=Ee.fromDom(e),f=sd(c,O=>r.isBlock(ko(O))).getOr(c),p=e.data.slice(n,n+o),C=n+o>=e.data.length&&DC(f,Et(e,e.data.length),r),E=n===0&&OC(f,Et(e,0),r);e.replaceData(n,o,Gw(p,4,E,C))},nT=(e,n,o)=>{const r=e.data.slice(n),c=r.length-Ld(r).length;cI(e,n,c,o)},sD=(e,n,o)=>{const r=e.data.slice(0,n),c=r.length-ju(r).length;cI(e,n-c,c,o)},rD=(e,n,o,r,c=!0)=>{const f=ju(e.data).length,p=c?e:n,C=c?n:e;return c?p.appendData(C.data):p.insertData(0,C.data),or(Ee.fromDom(C)),r&&nT(p,f,o),p},lI=(e,n)=>{const o=e.container(),r=e.offset();return!Et.isTextPosition(e)&&o===n.parentNode&&r>Et.before(n).offset()},g9=(e,n)=>lI(n,e)?Et(n.container(),n.offset()-1):n,p9=e=>en(e)?Et(e,0):Et.before(e),uI=e=>en(e)?Et(e,e.data.length):Et.after(e),dI=e=>Dr(e.previousSibling)?K.some(uI(e.previousSibling)):e.previousSibling?bd(e.previousSibling):K.none(),iD=e=>Dr(e.nextSibling)?K.some(p9(e.nextSibling)):e.nextSibling?vc(e.nextSibling):K.none(),v9=(e,n)=>K.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>Vc(e,Et.before(o))).orThunk(()=>pc(e,Et.after(n))),b9=(e,n)=>pc(e,Et.after(n)).orThunk(()=>Vc(e,Et.before(n))),y9=(e,n)=>dI(n).orThunk(()=>iD(n)).orThunk(()=>v9(e,n)),fI=(e,n)=>iD(n).orThunk(()=>dI(n)).orThunk(()=>b9(e,n)),aD=(e,n,o)=>e?fI(n,o):y9(n,o),mI=(e,n,o)=>aD(e,n,o).map(Ue(g9,o)),hI=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},w9=e=>n=>n.dom===e,oT=(e,n)=>n&&jn(e.schema.getBlockElements(),ko(n)),C9=(e,n,o)=>{if(Ic(e,n)){const r=Ee.fromHtml('<br data-mce-bogus="1">');return o?Re(Hr(n),c=>{$o(c)||or(c)}):ql(n),xs(n,r),K.some(Et.before(r.dom))}else return K.none()},gI=(e,n,o,r)=>{const c=vl(e).filter(Ms),f=cc(e).filter(Ms);return or(e),Oc(c,f,n,(p,C,E)=>{const O=p.dom,F=C.dom,U=O.data.length;return rD(O,F,o,r),E.container()===F?Et(O,U):E}).orThunk(()=>(r&&(c.each(p=>sD(p.dom,p.dom.length,o)),f.each(p=>nT(p.dom,0,o))),n))},cD=(e,n)=>jn(e.schema.getTextInlineElements(),ko(n)),Xg=(e,n,o,r=!0,c=!1)=>{const f=mI(n,e.getBody(),o.dom),p=sd(o,Ue(oT,e),w9(e.getBody())),C=gI(o,f,e.schema,cD(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):p.bind(E=>C9(e.schema,E,c)).fold(()=>{r&&hI(e,n,C)},E=>{r&&hI(e,n,K.some(E))})},x9=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,S9=e=>x9.test(e),$h=(e,n)=>cs(Ee.fromDom(n),V2(e))&&!Vt(e.schema,n)&&e.dom.isEditable(n),lD=e=>{var n;return qs.DOM.getStyle(e,"direction",!0)==="rtl"||S9((n=e.textContent)!==null&&n!==void 0?n:"")},pI=(e,n,o)=>pe(qs.DOM.getParents(o.container(),"*",n),e),Jg=(e,n,o)=>{const r=pI(e,n,o);return K.from(r[r.length-1])},vI=(e,n,o)=>{const r=Kf(n,e),c=Kf(o,e);return Ie(r)&&r===c},bI=e=>Pb(e)||yv(e),yd=(e,n)=>{const o=n.container(),r=n.offset();return e?Ps(o)?en(o.nextSibling)?Et(o.nextSibling,0):Et.after(o):Pb(n)?Et(o,r+1):n:Ps(o)?en(o.previousSibling)?Et(o.previousSibling,o.previousSibling.data.length):Et.before(o):yv(n)?Et(o,r-1):n},uD=Ue(yd,!0),dD=Ue(yd,!1),fD=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},yI=e=>{e.execCommand("delete")},sT=e=>fD(e,"Delete"),wI=e=>fD(e,"ForwardDelete"),E9=e=>n=>Is(ac(n),e,Nn),_9=e=>jp(e)||Hf(e),rT=(e,n)=>Rs(e,n)?Gs(n,_9,E9(e)):K.none(),mD=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},CI=(e,n,o)=>Gr(vc(o),bd(o),(r,c)=>{const f=yd(!0,r),p=yd(!1,c),C=yd(!1,n);return e?pc(o,C).exists(E=>E.isEqual(p)&&n.isEqual(f)):Vc(o,C).exists(E=>E.isEqual(f)&&n.isEqual(p))}).getOr(!0),xI=e=>(Jr(e)?vl(e):ci(e)).bind(xI).orThunk(()=>K.some(e)),SI=(e,n,o,r=!0)=>{var c;n.deleteContents();const f=xI(o).getOr(o),p=Ee.fromDom((c=e.dom.getParent(f.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(p.dom===e.getBody()?mD(e,r):Ic(e.schema,p,{checkRootAsContent:!1})&&(zf(p),r&&e.selection.setCursorLocation(p.dom,0)),!Nn(o,p)){const C=Is(ac(p),o)?[]:Bs(p);Re(C.concat(Hr(o)),E=>{!Nn(E,p)&&!Rs(E,p)&&Ic(e.schema,E)&&or(E)})}},T9=e=>n=>Nn(e,n),iT=e=>kt(e,"td,th"),k9=(e,n)=>i1(Ee.fromDom(e),n),nne=e=>Gr(e.startTable,e.endTable,(n,o)=>{const r=Bo(n,f=>Nn(f,o)),c=Bo(o,f=>Nn(f,n));return!r&&!c?e:{...e,startTable:r?K.none():e.startTable,endTable:c?K.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),A9=e=>nne(e),one=(e,n)=>{const o=k9(e.startContainer,n),r=k9(e.endContainer,n),c=o.isSome(),f=r.isSome(),p=Gr(o,r,Nn).getOr(!1);return A9({startTable:o,endTable:r,isStartInTable:c,isEndInTable:f,isSameTable:p,isMultiTable:!p&&c&&f})},hD=(e,n)=>({start:e,end:n}),Uc=(e,n,o)=>({rng:e,table:n,cells:o}),MC=Tc.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),gD=(e,n)=>$a(Ee.fromDom(e),"td,th",n),EI=e=>!Nn(e.start,e.end),_I=(e,n)=>i1(e.start,n).bind(o=>i1(e.end,n).bind(r=>ga(Nn(o,r),o))),Du=(e,n)=>!EI(e)&&_I(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),sne=(e,n)=>{const o=gD(e.startContainer,n),r=gD(e.endContainer,n);return Gr(o,r,hD)},O9=e=>n=>i1(n,e).bind(o=>bt(iT(o)).map(r=>hD(n,r))),rne=e=>n=>i1(n,e).bind(o=>gt(iT(o)).map(r=>hD(r,n))),pD=e=>n=>_I(n,e).map(o=>Uc(n,o,iT(o))),TI=(e,n,o,r)=>{if(o.collapsed||!e.forall(EI))return K.none();if(n.isSameTable){const c=e.bind(pD(r));return K.some({start:c,end:c})}else{const c=gD(o.startContainer,r),f=gD(o.endContainer,r),p=c.bind(O9(r)).bind(pD(r)),C=f.bind(rne(r)).bind(pD(r));return K.some({start:p,end:C})}},D9=(e,n)=>ao(e,o=>Nn(o,n)),vD=e=>Gr(D9(e.cells,e.rng.start),D9(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),Ru=(e,n,o)=>e.exists(r=>Du(r,o)&&gC(r.start,n)),bD=(e,n)=>{const{startTable:o,endTable:r}=n,c=e.cloneRange();return o.each(f=>c.setStartAfter(f.dom)),r.each(f=>c.setEndBefore(f.dom)),c},kI=(e,n,o,r)=>TI(e,n,o,r).bind(({start:c,end:f})=>c.or(f)).bind(c=>{const{isSameTable:f}=n,p=vD(c).getOr([]);if(f&&c.cells.length===p.length)return K.some(MC.fullTable(c.table));if(p.length>0){if(f)return K.some(MC.partialTable(p,K.none()));{const C=bD(o,n);return K.some(MC.partialTable(p,K.some({...n,rng:C})))}}else return K.none()}),R9=(e,n,o,r)=>TI(e,n,o,r).bind(({start:c,end:f})=>{const p=c.bind(vD).getOr([]),C=f.bind(vD).getOr([]);if(p.length>0&&C.length>0){const E=bD(o,n);return K.some(MC.multiTable(p,C,E))}else return K.none()}),M9=(e,n)=>{const o=T9(e),r=sne(n,o),c=one(n,o);return Ru(r,n,o)?r.map(f=>MC.singleCellTable(n,f.start)):c.isMultiTable?R9(r,c,n,o):kI(r,c,n,o)},yD=e=>Re(e,n=>{bi(n,"contenteditable"),zf(n)}),AI=(e,n)=>K.from(e.dom.getParent(n,e.dom.isBlock)).map(Ee.fromDom),P9=(e,n,o)=>{o.each(r=>{n?or(r):(zf(r),e.selection.setCursorLocation(r.dom,0))})},wD=(e,n,o,r)=>{const c=o.cloneRange();r?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),CD(e,c,n,!1).each(f=>f())},OI=e=>{const n=Nh(e),o=Ee.fromDom(e.selection.getNode());Nf(o.dom)&&Ic(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&Xt(n,r=>Nn(r,o))&&$r(o,"data-mce-selected","1")},DI=(e,n,o)=>K.some(()=>{const r=e.selection.getRng(),c=o.bind(({rng:f,isStartInTable:p})=>{const C=AI(e,p?f.endContainer:f.startContainer);f.deleteContents(),P9(e,p,C.filter(Ue(Ic,e.schema)));const E=p?n[0]:n[n.length-1];return wD(e,E,r,p),Ic(e.schema,E)?K.none():K.some(p?n.slice(1):n.slice(0,-1))}).getOr(n);yD(c),OI(e)}),RI=(e,n,o,r)=>K.some(()=>{const c=e.selection.getRng(),f=n[0],p=o[o.length-1];wD(e,f,c,!0),wD(e,p,c,!1);const C=Ic(e.schema,f)?n:n.slice(1),E=Ic(e.schema,p)?o:o.slice(0,-1);yD(C.concat(E)),r.deleteContents(),OI(e)}),CD=(e,n,o,r=!0)=>K.some(()=>{SI(e,n,o,r)}),MI=(e,n)=>K.some(()=>Xg(e,!1,n)),L9=(e,n,o)=>M9(n,o).bind(r=>r.fold(Ue(CD,e),Ue(MI,e),Ue(DI,e),Ue(RI,e))),ine=(e,n)=>g1(e,n),N9=(e,n,o,r)=>xD(n,r).fold(()=>L9(e,n,o),c=>ine(e,c)),I9=(e,n,o)=>{const r=Ee.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?DI(e,o,K.none()):N9(e,r,c,n)},B9=(e,n)=>rt(An(n,e),Tl),xD=(e,n)=>rt(An(n,e),vi("caption")),Ss=(e,n,o,r,c)=>Zg(o,e.getBody(),c).bind(f=>B9(n,Ee.fromDom(f.getNode())).bind(p=>Nn(p,r)?K.none():K.some(Nt))),g1=(e,n)=>K.some(()=>{zf(n),e.selection.setCursorLocation(n.dom,0)}),Qg=(e,n,o,r)=>vc(e.dom).bind(c=>bd(e.dom).map(f=>n?o.isEqual(c)&&r.isEqual(f):o.isEqual(f)&&r.isEqual(c))).getOr(!0),i0=(e,n)=>g1(e,n),aT=(e,n,o)=>xD(e,Ee.fromDom(o.getNode())).fold(()=>K.some(Nt),r=>ga(!Nn(r,n),Nt)),SD=(e,n,o,r,c)=>Zg(o,e.getBody(),c).fold(()=>K.some(Nt),f=>Qg(r,o,c,f)?i0(e,r):aT(n,r,f)),ED=(e,n,o,r)=>{const c=Et.fromRangeStart(e.selection.getRng());return B9(o,r).bind(f=>Ic(e.schema,f,{checkRootAsContent:!1})?g1(e,f):Ss(e,o,n,f,c))},PI=(e,n,o,r)=>{const c=Et.fromRangeStart(e.selection.getRng());return Ic(e.schema,r)?g1(e,r):SD(e,o,n,r,c)},LI=(e,n)=>e?qN(n):eD(n),NI=(e,n)=>{const o=Et.fromRangeStart(e.selection.getRng());return LI(n,o)||gc(n,e.getBody(),o).exists(r=>LI(n,r))},II=(e,n,o)=>{const r=Ee.fromDom(e.getBody());return xD(r,o).fold(()=>ED(e,n,r,o).orThunk(()=>ga(NI(e,n),Nt)),c=>PI(e,n,r,c))},_D=(e,n)=>{const o=Ee.fromDom(e.selection.getStart(!0)),r=Nh(e);return e.selection.isCollapsed()&&r.length===0?II(e,n,o):I9(e,o,r)},a0=(e,n)=>{let o=n;for(;o&&o!==e;){if(Nc(o)||Ar(o))return o;o=o.parentNode}return null},$9=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],F9=on.each,TD=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(f,p)=>{if(f.nodeName!==p.nodeName||f.nodeType!==p.nodeType)return!1;const C=O=>{const F={};return F9(n.getAttribs(O),U=>{const q=U.nodeName.toLowerCase();q!=="style"&&!c(q)&&(F[q]=n.getAttrib(O,q))}),F},E=(O,F)=>{for(const U in O)if(jn(O,U)){const q=F[U];if(ht(q)||O[U]!==q)return!1;delete F[U]}for(const U in F)if(jn(F,U))return!1;return!0};return qn(f)&&qn(p)&&(!E(C(f),C(p))||!E(n.parseStyle(n.getAttrib(f,"style")),n.parseStyle(n.getAttrib(p,"style"))))?!1:!Ol(f)&&!Ol(p)},c=f=>Xt($9,p=>go(f,p))||o.has(f);return{compare:r,isAttributeInternal:c}},BI=(e,n)=>{if(en(e))return{container:e,offset:n};const o=Gm.getNode(e,n);return en(o)?{container:o,offset:n>=e.childNodes.length?o.data.length:0}:o.previousSibling&&en(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&en(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:n}},$I=e=>{const n=e.cloneRange(),o=BI(e.startContainer,e.startOffset);n.setStart(o.container,o.offset);const r=BI(e.endContainer,e.endOffset);return n.setEnd(r.container,r.offset),n},ky=qs.DOM,ane=()=>ky.create("span",{"data-mce-type":"bookmark"}),H9=(e,n,o)=>{if(qn(e)){const r=o();return e.hasChildNodes()?n===e.childNodes.length?e.appendChild(r):e.insertBefore(r,e.childNodes[n]):e.appendChild(r),{container:r,offset:0}}else return{container:e,offset:n}},z9=(e,n)=>{const o=r=>{var c;let f=(c=r.parentNode)===null||c===void 0?void 0:c.firstChild,p=0;for(;f;){if(f===r)return p;(!qn(f)||f.getAttribute("data-mce-type")!=="bookmark")&&p++,f=f.nextSibling}return-1};if(qn(e)&&Ie(e.parentNode)){const r=e;n=o(e),e=e.parentNode,ky.remove(r),!e.hasChildNodes()&&ky.isBlock(e)&&e.appendChild(ky.create("br"))}return{container:e,offset:n}},FI=(e,n,o,r)=>{const c=ky.createRng();return c.setStart(e,n),c.setEnd(o,r),$I(c)},p1=(e,n=ane)=>{const{container:o,offset:r}=H9(e.startContainer,e.startOffset,n);if(e.collapsed)return{startContainer:o,startOffset:r};{const{container:c,offset:f}=H9(e.endContainer,e.endOffset,n);return{startContainer:o,startOffset:r,endContainer:c,endOffset:f}}},v1=e=>{const{container:n,offset:o}=z9(e.startContainer,e.startOffset);if(!ht(e.endContainer)&&!ht(e.endOffset)){const{container:r,offset:c}=z9(e.endContainer,e.endOffset);return FI(n,o,r,c)}else return FI(n,o,n,o)},HI=(e,n,o,r)=>{if(on.each(o.styles,(c,f)=>{e.setStyle(n,f,d(c,r))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},Ay=(e,n,o,r,c)=>{const f=e.dom;xe(o.onformat)&&o.onformat(n,o,r,c),HI(f,n,o,r),on.each(o.attributes,(p,C)=>{f.setAttrib(n,C,d(p,r))}),on.each(o.classes,p=>{const C=d(p,r);f.hasClass(n,C)||f.addClass(n,C)})},cne=e=>!Xe(e.attributes)&&!Xe(e.styles),kD=h,Dl=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let c=0;c<r.length;c++){const f=r[c];if(En(f)&&f.inherit===!1&&e.dom.is(n,f.selector))return!0}return!1},zI=(e,n,o,r,c)=>{const f=e.dom.getRoot();if(n===f)return!1;const p=e.dom.getParent(n,C=>Dl(e,C,o)?!0:C.parentNode===f||!!sm(e,C,o,r,!0));return!!sm(e,p,o,r,c)},cT=(e,n,o)=>dn(o)&&kD(n,o.inline)||Pe(o)&&kD(n,o.block)?!0:En(o)?qn(n)&&e.is(n,o.selector):!1,AD=(e,n,o,r,c,f)=>{const p=o[r],C=r==="attributes";if(xe(o.onmatch))return o.onmatch(n,o,r);if(p){if(cu(p)){for(let E=0;E<p.length;E++)if(C?e.getAttrib(n,p[E]):_(e,n,p[E]))return!0}else for(const E in p)if(jn(p,E)){const O=C?e.getAttrib(n,E):_(e,n,E),F=d(p[E],f),U=Je(O)||ea(O);if(U&&Je(F))continue;if(c&&U&&!o.exact||(!c||o.exact)&&!kD(O,w(F,E)))return!1}}return!0},sm=(e,n,o,r,c)=>{const f=e.formatter.get(o),p=e.dom;if(f&&qn(n))for(let C=0;C<f.length;C++){const E=f[C];if(cT(e.dom,n,E)&&AD(p,n,E,"attributes",c,r)&&AD(p,n,E,"styles",c,r)){const O=E.classes;if(O){for(let F=0;F<O.length;F++)if(!e.dom.hasClass(n,d(O[F],r)))return}return E}}},OD=(e,n,o,r,c)=>{if(r)return zI(e,r,n,o,c);if(r=e.selection.getNode(),zI(e,r,n,o,c))return!0;const f=e.selection.getStart();return!!(f!==r&&zI(e,f,n,o,c))},V9=(e,n,o)=>{const r=[],c={},f=e.selection.getStart();return e.dom.getParent(f,p=>{for(let C=0;C<n.length;C++){const E=n[C];!c[E]&&sm(e,p,E,o)&&(c[E]=!0,r.push(E))}},e.dom.getRoot()),r},U9=(e,n)=>{const o=c=>Nn(c,Ee.fromDom(e.getBody())),r=(c,f)=>sm(e,c.dom,f)?K.some(f):K.none();return K.from(e.selection.getStart(!0)).bind(c=>lc(Ee.fromDom(c),f=>_n(n,p=>r(f,p)),o)).getOrNull()},DD=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),f=V(r,c);for(let p=o.length-1;p>=0;p--){const C=o[p];if(!En(C))return!0;for(let E=f.length-1;E>=0;E--)if(r.is(f[E],C.selector))return!0}}return!1},lne=(e,n,o)=>Ht(o,(r,c)=>{const f=ie(e,c);return e.formatter.matchNode(n,c,{},f)?r.concat([c]):r},[]),PC=Fi,W9=(e,n)=>e.importNode(n,!0),ur=e=>{if(e){const n=new fr(e,e);for(let o=n.current();o;o=n.next())if(en(o))return o}return null},RD=e=>{const n=Ee.fromTag("span");return xa(n,{id:Wm,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&xs(n,Ee.fromText(PC)),n},j9=e=>{const n=ur(e);return n&&n.data.charAt(0)===PC&&n.deleteData(0,1),n},c0=(e,n,o)=>{const r=e.dom,c=e.selection;if(uo(n))Xg(e,!1,Ee.fromDom(n),o,!0);else{const f=c.getRng(),p=r.getParent(n,r.isBlock),C=f.startContainer,E=f.startOffset,O=f.endContainer,F=f.endOffset,U=j9(n);r.remove(n,!0),C===U&&E>0&&f.setStart(U,E-1),O===U&&F>0&&f.setEnd(U,F-1),p&&r.isEmpty(p)&&zf(Ee.fromDom(p)),c.setRng(f)}},lT=(e,n,o)=>{const r=e.dom,c=e.selection;if(n)c0(e,n,o);else if(n=Qf(e.getBody(),c.getStart()),!n)for(;n=r.get(Wm);)c0(e,n,o)},Z9=(e,n,o)=>{var r,c;const f=e.dom,p=f.getParent(o,Ue(wC,e.schema));p&&f.isEmpty(p)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(p2(Ee.fromDom(o)),f.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):f.insertAfter(n,o))},VI=(e,n)=>(e.appendChild(n),n),UI=(e,n)=>{var o;const r=Dt(e,(f,p)=>VI(f,p.cloneNode(!1)),n),c=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return VI(r,c.createTextNode(PC))},WI=(e,n,o,r,c,f)=>{const p=e.formatter,C=e.dom,E=pe(_t(p.get()),U=>U!==r&&!xr(U,"removeformat")),O=lne(e,o,E);if(pe(O,U=>!we(e,U,r)).length>0){const U=o.cloneNode(!1);return C.add(n,U),p.remove(r,c,U,f),C.remove(U),K.some(U)}else return K.none()},jI=e=>nv(e,Ba(e).replace(new RegExp(`${Er}$`)," ")),q9=(e,n)=>{const o=()=>{n!==null&&!e.dom.isEmpty(n)&&vl(Ee.fromDom(n)).each(r=>{Ms(r)?jI(r):fh(r,c=>Ms(c)).each(c=>{Ms(c)&&jI(c)})})};e.once("input",r=>{r.data&&!Gg(r.data)&&(r.isComposing?e.once("compositionend",()=>{o()}):o())})},une=(e,n,o)=>{let r;const c=e.selection,f=e.formatter.get(n);if(!f)return;const p=c.getRng();let C=p.startOffset;const O=p.startContainer.nodeValue;r=Qf(e.getBody(),c.getStart());const F=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(O&&C>0&&C<O.length&&F.test(O.charAt(C))&&F.test(O.charAt(C-1))){const U=c.getBookmark();p.collapse(!0);let q=zi(e.dom,p,f);q=V_(q),e.formatter.apply(n,o,q),c.moveToBookmark(U)}else{let U=r?ur(r):null;(!r||(U==null?void 0:U.data)!==PC)&&(r=W9(e.getDoc(),RD(!0).dom),U=r.firstChild,p.insertNode(r),C=1,q9(e,r)),e.formatter.apply(n,o,r),c.setCursorLocation(U,C)}},G9=(e,n,o,r)=>{const c=e.dom,f=e.selection;let p=!1;const C=e.formatter.get(n);if(!C)return;const E=f.getRng(),O=E.startContainer,F=E.startOffset;let U=O;en(O)&&(F!==O.data.length&&(p=!0),U=U.parentNode);const q=[];let J;for(;U;){if(sm(e,U,n,o,r)){J=U;break}U.nextSibling&&(p=!0),q.push(U),U=U.parentNode}if(J)if(p){const ge=f.getBookmark();E.collapse(!0);let fe=zi(c,E,C,{includeTrailingSpace:!0});fe=V_(fe),e.formatter.remove(n,o,fe,r),f.moveToBookmark(ge)}else{const ge=Qf(e.getBody(),J),fe=Ie(ge)?c.getParents(J.parentNode,rn,ge):[],de=RD(!1).dom;Z9(e,de,ge??J);const He=WI(e,de,J,n,o,r),ze=UI([...q,...He.toArray(),...fe],de);ge&&c0(e,ge,Ie(ge)),f.setCursorLocation(ze,1),q9(e,de),c.isEmpty(J)&&c.remove(J)}},K9=(e,n,o)=>{const r=e.selection,c=e.getBody();lT(e,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===PC&&lT(e,Qf(c,r.getStart()),!0),(n===37||n===39)&&lT(e,Qf(c,r.getStart()),!0)},Y9=e=>en(e)&&Sr(e.data,Er),X9=e=>{e.on("mouseup keydown",n=>{K9(e,n.keyCode,Y9(e.selection.getRng().endContainer))})},MD=e=>{const n=RD(!1),o=UI(e,n.dom);return{caretContainer:n,caretPosition:Et(o,0)}},ZI=(e,n)=>{const{caretContainer:o,caretPosition:r}=MD(n);return Ca(Ee.fromDom(e),o),or(Ee.fromDom(e)),r},us=(e,n)=>{const{caretContainer:o,caretPosition:r}=MD(n);return e.insertNode(o.dom),r},PD=(e,n)=>{if(sl(n.dom))return!1;const o=e.schema.getTextInlineElements();return jn(o,ko(n))&&!sl(n.dom)&&!mg(n.dom)},Oy=["fontWeight","fontStyle","color","fontSize","fontFamily"],LC=e=>Oe(e.styles)&&Xt(_t(e.styles),n=>ut(Oy,n)),NC=e=>rt(e,n=>dn(n)&&n.inline==="span"&&LC(n)),Dy=(e,n)=>{const o=e.get(n);return Xe(o)?NC(o):K.none()},LD=(e,n)=>Vc(n,Et.fromRangeStart(e)).isNone(),J9=(e,n)=>pc(n,Et.fromRangeEnd(e)).exists(o=>!Vr(o.getNode())||pc(n,o).isSome())===!1,Q9=e=>n=>t2(n)&&e.isEditable(n),dne=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return LD(o,n[0])&&J9(o,n[0])?n:[];{const r=gt(n).filter(p=>LD(o,p)).toArray(),c=bt(n).filter(p=>J9(o,p)).toArray(),f=n.slice(1,-1);return r.concat(f).concat(c)}},fne=e=>pe(dne(e),Q9(e.dom)),qI=e=>pe(e.getSelectedBlocks(),Q9(e.dom)),GI=on.each,ND=e=>qn(e)&&!Ol(e)&&!sl(e)&&!mg(e),KI=(e,n)=>{for(let o=e;o;o=o[n]){if(en(o)&&Ws(o.data))return e;if(qn(o)&&!Ol(o))return o}return e},eU=(e,n,o)=>{const r=TD(e),c=kr(n)&&e.dom.isEditable(n),f=kr(o)&&e.dom.isEditable(o);if(c&&f){const p=KI(n,"previousSibling"),C=KI(o,"nextSibling");if(r.compare(p,C)){for(let E=p.nextSibling;E&&E!==C;){const O=E;E=E.nextSibling,p.appendChild(O)}return e.dom.remove(C),on.each(on.grep(C.childNodes),E=>{p.appendChild(E)}),p}}return o},YI=(e,n,o,r)=>{var c;if(r&&n.merge_siblings!==!1){const f=(c=eU(e,O_(r),r))!==null&&c!==void 0?c:r;eU(e,f,O_(f,!0))}},Pr=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";GI(e.select(r,o),c=>{ND(c)&&e.isEditable(c)&&GI(n.styles,(f,p)=>{e.setStyle(c,p,"")})})}},XI=(e,n,o)=>{GI(e.childNodes,r=>{ND(r)&&(n(r)&&o(r),r.hasChildNodes()&&XI(r,n,o))})},mne=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},JI=(e,n)=>o=>!!(o&&_(e,o,n)),Ry=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),mne(e,r)},l0=Tc.generate([{keep:[]},{rename:["name"]},{removed:[]}]),tU=/^(src|href|style)$/,Km=on.each,Es=h,Da=e=>/^(TR|TH|TD)$/.test(e.nodeName),Ym=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),QI=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(qn(r)){const f=r.childNodes.length-1;!o&&c&&c--,r=r.childNodes[c>f?f:c]}return en(r)&&o&&c>=r.data.length&&(r=new fr(r,e.getBody()).next()||r),en(r)&&!o&&c===0&&(r=new fr(r,e.getBody()).prev()||r),r},e5=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return Da(e)&&r?e.nodeName==="TR"&&r[o]||r:e},ID=(e,n,o,r)=>{var c;const f=e.create(o,r);return(c=n.parentNode)===null||c===void 0||c.insertBefore(f,n),f.appendChild(n),f},t5=(e,n,o,r,c)=>{const f=Ee.fromDom(n),p=Ee.fromDom(e.create(r,c)),C=o?Wi(f):ra(f);return wl(p,C),o?(Ca(f,p),ed(p,f)):(yl(f,p),xs(p,f)),p.dom},n5=(e,n)=>n.links&&e.nodeName==="A",My=(e,n,o)=>{const r=n.parentNode;let c;const f=e.dom,p=Ua(e);Pe(o)&&r===f.getRoot()&&(!o.list_block||!Es(n,o.list_block))&&Re(bn(n.childNodes),C=>{a1(e,p,C.nodeName.toLowerCase())?c?c.appendChild(C):(c=ID(f,C,p),f.setAttribs(c,Qp(e))):c=null}),!(to(o)&&!Es(o.inline,n))&&f.remove(n,!0)},BD=(e,n,o)=>qt(e)?{name:n,value:null}:{name:e,value:d(n,o)},$D=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},o5=(e,n,o,r,c)=>{let f=!1;Km(o.styles,(p,C)=>{const{name:E,value:O}=BD(C,p,r),F=w(O,E);(o.remove_similar||k(O)||!qn(c)||Es(_(e,c,E),F))&&e.setStyle(n,E,""),f=!0}),f&&$D(e,n)},nU=(e,n,o)=>{n==="removeformat"?Re(qI(e.selection),r=>{Re(Oy,c=>e.dom.setStyle(r,c,"")),$D(e.dom,r)}):Dy(e.formatter,n).each(r=>{Re(qI(e.selection),c=>o5(e.dom,c,r,o,null))})},FD=(e,n,o,r,c)=>{const f=e.dom,p=TD(e),C=e.schema;if(dn(n)&&Xa(C,n.inline)&&Vt(C,r)&&r.parentElement===e.getBody())return My(e,r,n),l0.removed();if(!n.ceFalseOverride&&r&&f.getContentEditableParent(r)==="false"||r&&!cT(f,r,n)&&!n5(r,n))return l0.keep();const E=r,O=n.preserve_attributes;if(dn(n)&&n.remove==="all"&&Xe(O)){const F=pe(f.getAttribs(E),U=>ut(O,U.name.toLowerCase()));if(f.removeAllAttribs(E),Re(F,U=>f.setAttrib(E,U.name,U.value)),F.length>0)return l0.rename("span")}if(n.remove!=="all"){o5(f,E,n,o,c),Km(n.attributes,(U,q)=>{const{name:J,value:ge}=BD(q,U,o);if(n.remove_similar||k(ge)||!qn(c)||Es(f.getAttrib(c,J),ge)){if(J==="class"){const fe=f.getAttrib(E,J);if(fe){let de="";if(Re(fe.split(/\s+/),He=>{/mce\-\w+/.test(He)&&(de+=(de?" ":"")+He)}),de){f.setAttrib(E,J,de);return}}}if(tU.test(J)&&E.removeAttribute("data-mce-"+J),J==="style"&&Ea(["li"])(E)&&f.getStyle(E,"list-style-type")==="none"){E.removeAttribute(J),f.setStyle(E,"list-style-type","none");return}J==="class"&&E.removeAttribute("className"),E.removeAttribute(J)}}),Km(n.classes,U=>{U=d(U,o),(!qn(c)||f.hasClass(c,U))&&f.removeClass(E,U)});const F=f.getAttribs(E);for(let U=0;U<F.length;U++){const q=F[U].nodeName;if(!p.isAttributeInternal(q))return l0.keep()}}return n.remove!=="none"?(My(e,E,n),l0.removed()):l0.keep()},s5=(e,n,o,r,c)=>{let f;return n.parentNode&&Re(V(e.dom,n.parentNode).reverse(),p=>{if(!f&&qn(p)&&p.id!=="_start"&&p.id!=="_end"){const C=sm(e,p,o,r,c);C&&C.split!==!1&&(f=p)}}),f},oU=(e,n,o,r)=>FD(e,n,o,r,r).fold(Qe(r),c=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,c)),Qe(null)),sU=(e,n,o,r,c,f,p,C)=>{var E,O;let F,U;const q=e.dom;if(o){const J=o.parentNode;for(let ge=r.parentNode;ge&&ge!==J;ge=ge.parentNode){let fe=q.clone(ge,!1);for(let de=0;de<n.length&&(fe=oU(e,n[de],C,fe),fe!==null);de++);fe&&(F&&fe.appendChild(F),U||(U=fe),F=fe)}(!p.mixed||!q.isBlock(o))&&(r=(E=q.split(o,r))!==null&&E!==void 0?E:r),F&&U&&((O=c.parentNode)===null||O===void 0||O.insertBefore(F,c),U.appendChild(c),dn(p)&&YI(e,p,C,F))}return r},rU=(e,n,o,r,c)=>{const f=e.formatter.get(n),p=f[0],C=e.dom,E=e.selection,O=fe=>{const de=s5(e,fe,n,o,c);return sU(e,f,de,fe,fe,!0,p,o)},F=fe=>Ol(fe)&&qn(fe)&&(fe.id==="_start"||fe.id==="_end"),U=fe=>Xt(f,de=>Py(e,de,o,fe,fe)),q=fe=>{const de=bn(fe.childNodes),ze=U(fe)||Xt(f,Ft=>cT(C,fe,Ft)),Ye=fe.parentNode;if(!ze&&Ie(Ye)&&Mt(p)&&U(Ye),p.deep&&de.length)for(let Ft=0;Ft<de.length;Ft++)q(de[Ft]);Re(["underline","line-through","overline"],Ft=>{qn(fe)&&e.dom.getStyle(fe,"text-decoration")===Ft&&fe.parentNode&&N(C,fe.parentNode)===Ft&&Py(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Ft}},void 0,fe)})},J=fe=>{const de=C.get(fe?"_start":"_end");if(de){let He=de[fe?"firstChild":"lastChild"];return F(He)&&(He=He[fe?"firstChild":"lastChild"]),en(He)&&He.data.length===0&&(He=fe?de.previousSibling||de.nextSibling:de.nextSibling||de.previousSibling),C.remove(de,!0),He}else return null},ge=fe=>{let de,He,ze=zi(C,fe,f,{includeTrailingSpace:fe.collapsed});if(p.split){if(ze=V_(ze),de=QI(e,ze,!0),He=QI(e,ze),de!==He){if(de=e5(de,!0),He=e5(He,!1),Ym(C,de,He)){const lt=K.from(de.firstChild).getOr(de);O(t5(C,lt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),J(!0);return}if(Ym(C,He,de)){const lt=K.from(He.lastChild).getOr(He);O(t5(C,lt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),J(!1);return}de=ID(C,de,"span",{id:"_start","data-mce-type":"bookmark"}),He=ID(C,He,"span",{id:"_end","data-mce-type":"bookmark"});const Ye=C.createRng();Ye.setStartAfter(de),Ye.setEndBefore(He),c1(C,Ye,lt=>{Re(lt,Ft=>{!Ol(Ft)&&!Ol(Ft.parentNode)&&O(Ft)})}),O(de),O(He),de=J(!0),He=J()}else de=He=O(de);ze.startContainer=de.parentNode?de.parentNode:de,ze.startOffset=C.nodeIndex(de),ze.endContainer=He.parentNode?He.parentNode:He,ze.endOffset=C.nodeIndex(He)+1}c1(C,ze,Ye=>{Re(Ye,q)})};if(r){if(Qv(r)){const fe=C.createRng();fe.setStartBefore(r),fe.setEndAfter(r),ge(fe)}else ge(r);ME(e,n,r,o);return}!E.isCollapsed()||!dn(p)||Nh(e).length?(Ey(e,()=>pC(e,ge),fe=>dn(p)&&OD(e,n,o,fe)),e.nodeChanged()):G9(e,n,o,c),nU(e,n,o),ME(e,n,r,o)},r5=(e,n,o,r,c)=>{(r||e.selection.isEditable())&&rU(e,n,o,r,c)},HD=(e,n,o,r)=>FD(e,n,o,r).fold(()=>K.some(r),c=>K.some(e.dom.rename(r,c)),K.none),Py=(e,n,o,r,c)=>FD(e,n,o,r,c).fold(Tt,f=>(e.dom.rename(r,f),!0),rn),uT=["fontsize","subscript","superscript"],hne=["strikethrough",...uT],xc=(e,n,o)=>Ie(e.matchNode(n.dom,o,{},o==="fontsize")),zD=(e,n)=>Xt(uT,o=>xc(e,n,o)),gne=e=>ut(hne,e),iU=(e,n,o,r,c)=>{const f=Na(n,e).filter(Ur);return So(f,o).map(p=>{const C=f[p],E=r(C),O=[...c(wi(C)).toArray(),...Rn(f.slice(0,p),F=>o(F)?c(F).toArray():[wi(F)])];return{container:C,innerWrapper:E,outerWrappers:O}})},aU=(e,n,o,r)=>{Re(Hr(e),c=>{Ur(c)&&o(c)&&r(c).isNone()&&Rc(c)}),Re(Hr(e),c=>xs(n,c)),ed(e,n)},cU=(e,n)=>{if(n.length>0){const o=n[n.length-1];Ca(e,o);const r=Ht(n.slice(0,n.length-1),(c,f)=>(xs(c,f),f),o);xs(r,e)}},lU=(e,n,o,r,c)=>{const f=p=>Nn(Ee.fromDom(e.getRoot()),p)||e.isBlock(p.dom);Re(n,p=>{iU(f,p,o,r,c).each(({container:C,innerWrapper:E,outerWrappers:O})=>{e.split(C.dom,p.dom),aU(p,E,o,c),cU(p,O)})})},VD=(e,n,o)=>{const r=C=>Ie(sm(e,C.dom,n)),c=C=>{const E=Ee.fromTag(ko(C)),O=sm(e,C.dom,n,{});return Ie(O)&&cne(O)&&Ay(e,E.dom,O),E},f=C=>{const E=sm(e,C.dom,n,{});return Ie(E)?HD(e,E,{},C.dom).map(Ee.fromDom):K.some(C)},p=p1(e.selection.getRng());lU(e.dom,o,r,c,f),e.selection.setRng(v1(p))},IC=(e,n)=>Rn(n,o=>{const r=he(o,c=>zD(e,c));return zD(e,o)?[o,...r]:r}),uU=(e,n,o)=>{if(gne(n)){const r=IC(e.formatter,o);VD(e,"strikethrough",r)}},i5=(e,n)=>{const o=pe(n,r=>zD(e.formatter,r));VD(e,"strikethrough",o)},a5=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),u0=e=>e.name==="summary",c5=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},UD=(e,n,o,r)=>{const c=o.name;for(let f=0,p=e.length;f<p;f++){const C=e[f];if(C.name===c){const E=r.nodes[c];E?E.nodes.push(o):r.nodes[c]={filter:C,nodes:[o]}}}if(o.attributes)for(let f=0,p=n.length;f<p;f++){const C=n[f],E=C.name;if(E in o.attributes.map){const O=r.attributes[E];O?O.nodes.push(o):r.attributes[E]={filter:C,nodes:[o]}}}},l5=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&c5(o,c=>{UD(e,n,c,r)}),r},WD=(e,n)=>{const o=(r,c)=>{cn(r,f=>{const p=bn(f.nodes);Re(f.filter.callbacks,C=>{for(let E=p.length-1;E>=0;E--){const O=p[E];(!(c?O.attr(f.filter.name)!==void 0:O.name===f.filter.name)||Je(O.parent))&&p.splice(E,1)}p.length>0&&C(p,f.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},jD=(e,n,o,r={})=>{const c=l5(e,n,o);WD(c,r)},ZD=(e,n,o,r)=>{if((e.pad_empty_with_br||n.insert)&&o(r)){const f=new il("br",1);n.insert&&f.attr("data-mce-bogus","1"),r.empty().append(f)}else r.empty().append(new il("#text",3)).value=Er},u5=e=>{var n;return d5(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===Er},d5=(e,n)=>{const o=e==null?void 0:e.firstChild;return Ie(o)&&o===e.lastChild&&o.name===n},dU=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},BC=(e,n,o,r)=>r.isEmpty(n,o,c=>dU(e,c)),fU=(e,n)=>Ie(e)&&(n(e)||e.name==="br"),mU=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return K.from(n)},pne=e=>{const n=[];for(let o=e.firstChild;Ie(o);o=o.walk())n.push(o);return n},qD=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const c of r)o&&!n.isValidChild(o.name,c.name)&&qD(c,n,o);e.unwrap()}},f5=(e,n,o,r=Nt)=>{const c=n.getTextBlockElements(),f=n.getNonEmptyElements(),p=n.getWhitespaceElements(),C=on.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),E=new Set,O=F=>F!==o&&!C[F.name];for(let F=0;F<e.length;F++){const U=e[F];let q,J,ge;if(!U.parent||E.has(U))continue;if(c[U.name]&&U.parent.name==="li"){let de=U.next;for(;de&&c[de.name];){de.name="li",E.add(de),U.parent.insert(de,U.parent);de=de.next}U.unwrap();continue}const fe=[U];for(q=U.parent;q&&!n.isValidChild(q.name,U.name)&&O(q);q=q.parent)fe.push(q);if(q&&fe.length>1)if(GD(n,U,q))qD(U,n);else{fe.reverse(),J=fe[0].clone(),r(J);let de=J;for(let He=0;He<fe.length-1;He++){n.isValidChild(de.name,fe[He].name)&&He>0?(ge=fe[He].clone(),r(ge),de.append(ge)):ge=de;for(let ze=fe[He].firstChild;ze&&ze!==fe[He+1];){const Ye=ze.next;ge.append(ze),ze=Ye}de=ge}BC(n,f,p,J)?q.insert(U,fe[0],!0):(q.insert(J,fe[0],!0),q.insert(U,J)),q=fe[0],(BC(n,f,p,q)||d5(q,"br"))&&q.empty().remove()}else if(U.parent){if(U.name==="li"){let de=U.prev;if(de&&(de.name==="ul"||de.name==="ol")){de.append(U);continue}if(de=U.next,de&&(de.name==="ul"||de.name==="ol")&&de.firstChild){de.insert(U,de.firstChild,!0);continue}const He=new il("ul",1);r(He),U.wrap(He);continue}if(n.isValidChild(U.parent.name,"div")&&n.isValidChild("div",U.name)){const de=new il("div",1);r(de),U.wrap(de)}else qD(U,n)}}},vne=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},GD=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&vne(o,"a")?!0:u0(o)&&a5(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,KD=(e,n,o,r)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,r),c},YD=e=>{const n=Et.fromRangeStart(e),o=Et.fromRangeEnd(e),r=e.commonAncestorContainer;return gc(!1,r,o).map(c=>!Yf(n,o,r)&&Yf(n,c,r)?KD(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},dT=e=>e.collapsed?e:YD(e),hU=on.explode,m5=()=>{const e={};return{addFilter:(c,f)=>{Re(hU(c),p=>{jn(e,p)||(e[p]={name:p,callbacks:[]}),e[p].callbacks.push(f)})},getFilters:()=>mr(e),removeFilter:(c,f)=>{Re(hU(c),p=>{if(jn(e,p))if(Ie(f)){const C=e[p],E=pe(C.callbacks,O=>O!==f);E.length>0?C.callbacks=E:delete e[p]}else delete e[p]})}}},gU=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),pU=e=>e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),vU=(e,n)=>{Re(n,o=>{e.attr(o,null)})},bU=(e,n,o)=>{e.addNodeFilter("font",r=>{Re(r,c=>{const f=n.parse(c.attr("style")),p=c.attr("color"),C=c.attr("face"),E=c.attr("size");p&&(f.color=p),C&&(f["font-family"]=C),E&&Ef(E).each(O=>{f["font-size"]=o[O-1]}),c.name="span",c.attr("style",n.serialize(f)),vU(c,["color","face","size"])})})},yU=(e,n,o)=>{e.addNodeFilter("strike",r=>{const c=n.type!=="html4";Re(r,f=>{if(c)f.name="s";else{const p=o.parse(f.attr("style"));p["text-decoration"]="line-through",f.name="span",f.attr("style",o.serialize(p))}})})},wU=(e,n,o)=>{var r;const c=Tg();n.convert_fonts_to_spans&&bU(e,c,on.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),yU(e,o,c)},h5=(e,n,o)=>{n.inline_styles&&wU(e,n,o)},CU=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),xU=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},ep=e=>{try{return decodeURIComponent(e)}catch{return e}},XD=e=>{const[n,...o]=e.split(","),r=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const f=c[2]===";base64",p=ep(r),C=f?xU(p):p;return K.some({type:c[1],data:C,base64Encoded:f})}else return K.none()},JD=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return K.none()}const c=new Uint8Array(r.length);for(let f=0;f<c.length;f++)c[f]=r.charCodeAt(f);return K.some(new Blob([c],{type:e}))},SU=e=>new Promise((n,o)=>{XD(e).bind(({type:r,data:c,base64Encoded:f})=>JD(r,c,f)).fold(()=>o("Invalid data URI"),n)}),EU=e=>go(e,"blob:")?CU(e):go(e,"data:")?SU(e):Promise.reject("Unknown URI format"),QD=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var c;o((c=r.error)===null||c===void 0?void 0:c.message)},r.readAsDataURL(e)});let g5=0;const p5=e=>"blobid"+g5++,e3=(e,n,o)=>XD(e).bind(({data:r,type:c,base64Encoded:f})=>{if(n&&!f)return K.none();{const p=f?r:btoa(r);return o(p,c)}}),v5=(e,n,o)=>{const r=e.create(p5(),n,o);return e.add(r),r},b5=(e,n,o=!1)=>e3(n,o,(r,c)=>K.from(e.getByData(r,c)).orThunk(()=>JD(c,r).map(f=>v5(e,f,r)))),_U=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(go(n,"blob:")){const r=e.getByUri(n);return Ie(r)?Promise.resolve(r):EU(n).then(c=>QD(c).then(f=>e3(f,!1,p=>K.some(v5(e,c,p))).getOrThunk(o)))}else return go(n,"data:")?b5(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},TU=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,kU=e=>K.from(e.match(TU)).bind(n=>tt(n,1)).map(n=>go(n,"www.")?n.substring(4):n),b1=(e,n)=>{K.from(e.attr("src")).bind(kU).forall(o=>!ut(n,o))&&e.attr("sandbox","")},fT=(e,n)=>go(e,`${n}/`),AU=e=>ht(e)?"iframe":fT(e,"image")?"img":fT(e,"video")?"video":fT(e,"audio")?"audio":"iframe",OU=({type:e,src:n,width:o,height:r}={},c,f)=>{const p=AU(e),C=new il(p,1);return C.attr(p==="audio"?{src:n}:{src:n,width:o,height:r}),(p==="audio"||p==="video")&&C.attr("controls",""),p==="iframe"&&c&&b1(C,f),C},t3=e=>Ie(e.attr("data-mce-bogus")),DU=e=>e.attr("src")===fs.transparentSrc||Ie(e.attr("data-mce-placeholder")),n3=(e,n)=>{const{blob_cache:o}=n;if(o){const r=c=>{const f=c.attr("src");DU(c)||t3(c)||Je(f)||b5(o,f,!0).each(p=>{c.attr("src",p.blobUri())})};e.addAttributeFilter("src",c=>Re(c,r))}},y5=(e,n)=>{var o,r;const c=e.schema;e.addAttributeFilter("href",E=>{let O=E.length;const F=q=>q.split(" ").filter(ge=>ge.length>0).concat(["noopener"]).sort().join(" "),U=q=>{const J=q?on.trim(q):"";return/\b(noopener)\b/g.test(J)?J:F(J)};if(!n.allow_unsafe_link_target)for(;O--;){const q=E[O];q.name==="a"&&q.attr("target")==="_blank"&&q.attr("rel",U(q.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",E=>{let O=E.length,F,U,q,J;for(;O--;)if(J=E[O],J.name==="a"&&J.firstChild&&!J.attr("href"))for(q=J.parent,F=J.lastChild;F&&q;)U=F.prev,q.insert(F,J),F=U}),n.fix_list_elements&&e.addNodeFilter("ul,ol",E=>{let O=E.length,F,U;for(;O--;)if(F=E[O],U=F.parent,U&&(U.name==="ul"||U.name==="ol"))if(F.prev&&F.prev.name==="li")F.prev.append(F);else{const q=new il("li",1);q.attr("style","list-style-type: none"),F.wrap(q)}});const f=c.getValidClasses();n.validate&&f&&e.addAttributeFilter("class",E=>{var O;let F=E.length;for(;F--;){const U=E[F],q=(O=U.attr("class"))!==null&&O!==void 0?O:"",J=on.explode(q," ");let ge="";for(let fe=0;fe<J.length;fe++){const de=J[fe];let He=!1,ze=f["*"];ze&&ze[de]&&(He=!0),ze=f[U.name],!He&&ze&&ze[de]&&(He=!0),He&&(ge&&(ge+=" "),ge+=de)}ge.length||(ge=null),U.attr("class",ge)}}),n3(e,n);const p=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,C=zn((r=n.sandbox_iframes_exclusions)!==null&&r!==void 0?r:[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",E=>Re(E,O=>{O.replace(OU({type:O.attr("type"),src:O.name==="object"?O.attr("data"):O.attr("src"),width:O.attr("width"),height:O.attr("height")},p,C))})),p&&e.addNodeFilter("iframe",E=>Re(E,O=>b1(O,C)))};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:w5,setPrototypeOf:C5,isFrozen:mT,getPrototypeOf:RU,getOwnPropertyDescriptor:x5}=Object;let{freeze:Mu,seal:cf,create:o3}=Object,{apply:hT,construct:s3}=typeof Reflect<"u"&&Reflect;Mu||(Mu=function(n){return n}),cf||(cf=function(n){return n}),hT||(hT=function(n,o,r){return n.apply(o,r)}),s3||(s3=function(n,o){return new n(...o)});const $C=Lu(Array.prototype.forEach),MU=Lu(Array.prototype.lastIndexOf),S5=Lu(Array.prototype.pop),FC=Lu(Array.prototype.push),Pu=Lu(Array.prototype.splice),HC=Lu(String.prototype.toLowerCase),r3=Lu(String.prototype.toString),i3=Lu(String.prototype.match),zC=Lu(String.prototype.replace),PU=Lu(String.prototype.indexOf),LU=Lu(String.prototype.trim),su=Lu(Object.prototype.hasOwnProperty),Sc=Lu(RegExp.prototype.test),gT=NU(TypeError);function Lu(e){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var o=arguments.length,r=new Array(o>1?o-1:0),c=1;c<o;c++)r[c-1]=arguments[c];return hT(e,n,r)}}function NU(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return s3(e,o)}}function Ls(e,n){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:HC;C5&&C5(e,null);let r=n.length;for(;r--;){let c=n[r];if(typeof c=="string"){const f=o(c);f!==c&&(mT(n)||(n[r]=f),c=f)}e[c]=!0}return e}function IU(e){for(let n=0;n<e.length;n++)su(e,n)||(e[n]=null);return e}function tp(e){const n=o3(null);for(const[o,r]of w5(e))su(e,o)&&(Array.isArray(r)?n[o]=IU(r):r&&typeof r=="object"&&r.constructor===Object?n[o]=tp(r):n[o]=r);return n}function y1(e,n){for(;e!==null;){const r=x5(e,n);if(r){if(r.get)return Lu(r.get);if(typeof r.value=="function")return Lu(r.value)}e=RU(e)}function o(){return null}return o}const E5=Mu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),VC=Mu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),UC=Mu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),_5=Mu(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),a3=Mu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),bne=Mu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),np=Mu(["#text"]),T5=Mu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),c3=Mu(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),k5=Mu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Yo=Mu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),BU=cf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$U=cf(/<%[\w\W]*|[\w\W]*%>/gm),A5=cf(/\$\{[\w\W]*/gm),FU=cf(/^data-[\-\w.\u00B7-\uFFFF]+$/),HU=cf(/^aria-[\-\w]+$/),mi=cf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zU=cf(/^(?:\w+script|data):/i),VU=cf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),O5=cf(/^html$/i),UU=cf(/^[a-z][.\w]*(-[.\w]+)+$/i);var jr=Object.freeze({__proto__:null,ARIA_ATTR:HU,ATTR_WHITESPACE:VU,CUSTOM_ELEMENT:UU,DATA_ATTR:FU,DOCTYPE_NAME:O5,ERB_EXPR:$U,IS_ALLOWED_URI:mi,IS_SCRIPT_OR_DATA:zU,MUSTACHE_EXPR:BU,TMPLIT_EXPR:A5});const Ly={element:1,text:3,progressingInstruction:7,comment:8,document:9},D5=function(){return typeof window>"u"?null:window},WU=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let r=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(r=o.getAttribute(c));const f="dompurify"+(r?"#"+r:"");try{return n.createPolicy(f,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}},l3=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function R5(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D5();const n=ms=>R5(ms);if(n.version="3.2.6",n.removed=[],!e||!e.document||e.document.nodeType!==Ly.document||!e.Element)return n.isSupported=!1,n;let{document:o}=e;const r=o,c=r.currentScript,{DocumentFragment:f,HTMLTemplateElement:p,Node:C,Element:E,NodeFilter:O,NamedNodeMap:F=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:U,DOMParser:q,trustedTypes:J}=e,ge=E.prototype,fe=y1(ge,"cloneNode"),de=y1(ge,"remove"),He=y1(ge,"nextSibling"),ze=y1(ge,"childNodes"),Ye=y1(ge,"parentNode");if(typeof p=="function"){const ms=o.createElement("template");ms.content&&ms.content.ownerDocument&&(o=ms.content.ownerDocument)}let lt,Ft="";const{implementation:vn,createNodeIterator:nn,createDocumentFragment:Pt,getElementsByTagName:Ke}=o,{importNode:Ce}=r;let dt=l3();n.isSupported=typeof w5=="function"&&typeof Ye=="function"&&vn&&vn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:tn,ERB_EXPR:Qn,TMPLIT_EXPR:Po,DATA_ATTR:ss,ARIA_ATTR:vs,IS_SCRIPT_OR_DATA:Zr,ATTR_WHITESPACE:qr,CUSTOM_ELEMENT:tc}=jr;let{IS_ALLOWED_URI:fn}=jr,no=null;const Ts=Ls({},[...E5,...VC,...UC,...a3,...np]);let Vs=null;const Xn=Ls({},[...T5,...c3,...k5,...Yo]);let gn=Object.seal(o3(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Mn=null,Co=null,Lo=!0,Qs=!0,yr=!1,bf=!0,_c=!1,oh=!0,mm=!1,iu=!1,Vu=!1,sh=!1,bw=!1,mo=!1,ks=!0,Oi=!1;const Wa="user-content-";let nc=!0,Ra=!1,gi={},pi=null;const Uu=Ls({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Gh=null;const $1=Ls({},["audio","video","img","source","image","track"]);let pp=null;const BA=Ls({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$A="http://www.w3.org/1998/Math/MathML",lS="http://www.w3.org/2000/svg",Kh="http://www.w3.org/1999/xhtml";let yw=Kh,mL=!1,FA=null;const Une=Ls({},[$A,lS,Kh],r3);let hL=Ls({},["mi","mo","mn","ms","mtext"]),gL=Ls({},["annotation-xml"]);const Wne=Ls({},["title","style","font","a","script"]);let HA=null;const ww=["application/xhtml+xml","text/html"],YH="text/html";let it=null,yt=null;const On=o.createElement("form"),Cn=function(xt){return xt instanceof RegExp||xt instanceof Function},Eo=function(){let xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(yt&&yt===xt)){if((!xt||typeof xt!="object")&&(xt={}),xt=tp(xt),HA=ww.indexOf(xt.PARSER_MEDIA_TYPE)===-1?YH:xt.PARSER_MEDIA_TYPE,it=HA==="application/xhtml+xml"?r3:HC,no=su(xt,"ALLOWED_TAGS")?Ls({},xt.ALLOWED_TAGS,it):Ts,Vs=su(xt,"ALLOWED_ATTR")?Ls({},xt.ALLOWED_ATTR,it):Xn,FA=su(xt,"ALLOWED_NAMESPACES")?Ls({},xt.ALLOWED_NAMESPACES,r3):Une,pp=su(xt,"ADD_URI_SAFE_ATTR")?Ls(tp(BA),xt.ADD_URI_SAFE_ATTR,it):BA,Gh=su(xt,"ADD_DATA_URI_TAGS")?Ls(tp($1),xt.ADD_DATA_URI_TAGS,it):$1,pi=su(xt,"FORBID_CONTENTS")?Ls({},xt.FORBID_CONTENTS,it):Uu,Mn=su(xt,"FORBID_TAGS")?Ls({},xt.FORBID_TAGS,it):tp({}),Co=su(xt,"FORBID_ATTR")?Ls({},xt.FORBID_ATTR,it):tp({}),gi=su(xt,"USE_PROFILES")?xt.USE_PROFILES:!1,Lo=xt.ALLOW_ARIA_ATTR!==!1,Qs=xt.ALLOW_DATA_ATTR!==!1,yr=xt.ALLOW_UNKNOWN_PROTOCOLS||!1,bf=xt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_c=xt.SAFE_FOR_TEMPLATES||!1,oh=xt.SAFE_FOR_XML!==!1,mm=xt.WHOLE_DOCUMENT||!1,sh=xt.RETURN_DOM||!1,bw=xt.RETURN_DOM_FRAGMENT||!1,mo=xt.RETURN_TRUSTED_TYPE||!1,Vu=xt.FORCE_BODY||!1,ks=xt.SANITIZE_DOM!==!1,Oi=xt.SANITIZE_NAMED_PROPS||!1,nc=xt.KEEP_CONTENT!==!1,Ra=xt.IN_PLACE||!1,fn=xt.ALLOWED_URI_REGEXP||mi,yw=xt.NAMESPACE||Kh,hL=xt.MATHML_TEXT_INTEGRATION_POINTS||hL,gL=xt.HTML_INTEGRATION_POINTS||gL,gn=xt.CUSTOM_ELEMENT_HANDLING||{},xt.CUSTOM_ELEMENT_HANDLING&&Cn(xt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(gn.tagNameCheck=xt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),xt.CUSTOM_ELEMENT_HANDLING&&Cn(xt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(gn.attributeNameCheck=xt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),xt.CUSTOM_ELEMENT_HANDLING&&typeof xt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(gn.allowCustomizedBuiltInElements=xt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_c&&(Qs=!1),bw&&(sh=!0),gi&&(no=Ls({},np),Vs=[],gi.html===!0&&(Ls(no,E5),Ls(Vs,T5)),gi.svg===!0&&(Ls(no,VC),Ls(Vs,c3),Ls(Vs,Yo)),gi.svgFilters===!0&&(Ls(no,UC),Ls(Vs,c3),Ls(Vs,Yo)),gi.mathMl===!0&&(Ls(no,a3),Ls(Vs,k5),Ls(Vs,Yo))),xt.ADD_TAGS&&(no===Ts&&(no=tp(no)),Ls(no,xt.ADD_TAGS,it)),xt.ADD_ATTR&&(Vs===Xn&&(Vs=tp(Vs)),Ls(Vs,xt.ADD_ATTR,it)),xt.ADD_URI_SAFE_ATTR&&Ls(pp,xt.ADD_URI_SAFE_ATTR,it),xt.FORBID_CONTENTS&&(pi===Uu&&(pi=tp(pi)),Ls(pi,xt.FORBID_CONTENTS,it)),nc&&(no["#text"]=!0),mm&&Ls(no,["html","head","body"]),no.table&&(Ls(no,["tbody"]),delete Mn.tbody),xt.TRUSTED_TYPES_POLICY){if(typeof xt.TRUSTED_TYPES_POLICY.createHTML!="function")throw gT('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof xt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw gT('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');lt=xt.TRUSTED_TYPES_POLICY,Ft=lt.createHTML("")}else lt===void 0&&(lt=WU(J,c)),lt!==null&&typeof Ft=="string"&&(Ft=lt.createHTML(""));Mu&&Mu(xt),yt=xt}},Ns=Ls({},[...VC,...UC,..._5]),Di=Ls({},[...a3,...bne]),vp=function(xt){let io=Ye(xt);(!io||!io.tagName)&&(io={namespaceURI:yw,tagName:"template"});const rs=HC(xt.tagName),ja=HC(io.tagName);return FA[xt.namespaceURI]?xt.namespaceURI===lS?io.namespaceURI===Kh?rs==="svg":io.namespaceURI===$A?rs==="svg"&&(ja==="annotation-xml"||hL[ja]):!!Ns[rs]:xt.namespaceURI===$A?io.namespaceURI===Kh?rs==="math":io.namespaceURI===lS?rs==="math"&&gL[ja]:!!Di[rs]:xt.namespaceURI===Kh?io.namespaceURI===lS&&!gL[ja]||io.namespaceURI===$A&&!hL[ja]?!1:!Di[rs]&&(Wne[rs]||!Ns[rs]):!!(HA==="application/xhtml+xml"&&FA[xt.namespaceURI]):!1},Yh=function(xt){FC(n.removed,{element:xt});try{Ye(xt).removeChild(xt)}catch{de(xt)}},zA=function(xt,io){try{FC(n.removed,{attribute:io.getAttributeNode(xt),from:io})}catch{FC(n.removed,{attribute:null,from:io})}if(io.removeAttribute(xt),xt==="is")if(sh||bw)try{Yh(io)}catch{}else try{io.setAttribute(xt,"")}catch{}},jne=function(xt){let io=null,rs=null;if(Vu)xt="<remove></remove>"+xt;else{const Ll=i3(xt,/^[\r\n\t ]+/);rs=Ll&&Ll[0]}HA==="application/xhtml+xml"&&yw===Kh&&(xt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+xt+"</body></html>");const ja=lt?lt.createHTML(xt):xt;if(yw===Kh)try{io=new q().parseFromString(ja,HA)}catch{}if(!io||!io.documentElement){io=vn.createDocument(yw,"template",null);try{io.documentElement.innerHTML=mL?Ft:ja}catch{}}const Td=io.body||io.documentElement;return xt&&rs&&Td.insertBefore(o.createTextNode(rs),Td.childNodes[0]||null),yw===Kh?Ke.call(io,mm?"html":"body")[0]:mm?io.documentElement:Td},Zne=function(xt){return nn.call(xt.ownerDocument||xt,xt,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT|O.SHOW_PROCESSING_INSTRUCTION|O.SHOW_CDATA_SECTION,null)},RQ=function(xt){return xt instanceof U&&(typeof xt.nodeName!="string"||typeof xt.textContent!="string"||typeof xt.removeChild!="function"||!(xt.attributes instanceof F)||typeof xt.removeAttribute!="function"||typeof xt.setAttribute!="function"||typeof xt.namespaceURI!="string"||typeof xt.insertBefore!="function"||typeof xt.hasChildNodes!="function")},qne=function(xt){return typeof C=="function"&&xt instanceof C};function z0(ms,xt,io){$C(ms,rs=>{rs.call(n,xt,io,yt)})}const Gne=function(xt){let io=null;if(z0(dt.beforeSanitizeElements,xt,null),RQ(xt))return Yh(xt),!0;const rs=it(xt.nodeName);if(z0(dt.uponSanitizeElement,xt,{tagName:rs,allowedTags:no}),oh&&xt.hasChildNodes()&&!qne(xt.firstElementChild)&&Sc(/<[/\w!]/g,xt.innerHTML)&&Sc(/<[/\w!]/g,xt.textContent)||xt.nodeType===Ly.progressingInstruction||oh&&xt.nodeType===Ly.comment&&Sc(/<[/\w]/g,xt.data))return Yh(xt),!0;if(!no[rs]||Mn[rs]){if(!Mn[rs]&&Yne(rs)&&(gn.tagNameCheck instanceof RegExp&&Sc(gn.tagNameCheck,rs)||gn.tagNameCheck instanceof Function&&gn.tagNameCheck(rs)))return!1;if(nc&&!pi[rs]){const ja=Ye(xt)||xt.parentNode,Td=ze(xt)||xt.childNodes;if(Td&&ja){const Ll=Td.length;for(let hm=Ll-1;hm>=0;--hm){const V0=fe(Td[hm],!0);V0.__removalCount=(xt.__removalCount||0)+1,ja.insertBefore(V0,He(xt))}}}return Yh(xt),!0}return xt instanceof E&&!vp(xt)||(rs==="noscript"||rs==="noembed"||rs==="noframes")&&Sc(/<\/no(script|embed|frames)/i,xt.innerHTML)?(Yh(xt),!0):(_c&&xt.nodeType===Ly.text&&(io=xt.textContent,$C([tn,Qn,Po],ja=>{io=zC(io,ja," ")}),xt.textContent!==io&&(FC(n.removed,{element:xt.cloneNode()}),xt.textContent=io)),z0(dt.afterSanitizeElements,xt,null),!1)},Kne=function(xt,io,rs){if(ks&&(io==="id"||io==="name")&&(rs in o||rs in On))return!1;if(!(Qs&&!Co[io]&&Sc(ss,io))){if(!(Lo&&Sc(vs,io))){if(!Vs[io]||Co[io]){if(!(Yne(xt)&&(gn.tagNameCheck instanceof RegExp&&Sc(gn.tagNameCheck,xt)||gn.tagNameCheck instanceof Function&&gn.tagNameCheck(xt))&&(gn.attributeNameCheck instanceof RegExp&&Sc(gn.attributeNameCheck,io)||gn.attributeNameCheck instanceof Function&&gn.attributeNameCheck(io))||io==="is"&&gn.allowCustomizedBuiltInElements&&(gn.tagNameCheck instanceof RegExp&&Sc(gn.tagNameCheck,rs)||gn.tagNameCheck instanceof Function&&gn.tagNameCheck(rs))))return!1}else if(!pp[io]){if(!Sc(fn,zC(rs,qr,""))){if(!((io==="src"||io==="xlink:href"||io==="href")&&xt!=="script"&&PU(rs,"data:")===0&&Gh[xt])){if(!(yr&&!Sc(Zr,zC(rs,qr,"")))){if(rs)return!1}}}}}}return!0},Yne=function(xt){return xt!=="annotation-xml"&&i3(xt,tc)},Xne=function(xt){z0(dt.beforeSanitizeAttributes,xt,null);const{attributes:io}=xt;if(!io||RQ(xt))return;const rs={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Vs,forceKeepAttr:void 0};let ja=io.length;for(;ja--;){const Td=io[ja],{name:Ll,namespaceURI:hm,value:V0}=Td,pL=it(Ll),MQ=V0;let kd=Ll==="value"?MQ:LU(MQ);if(rs.attrName=pL,rs.attrValue=kd,rs.keepAttr=!0,rs.forceKeepAttr=void 0,z0(dt.uponSanitizeAttribute,xt,rs),kd=rs.attrValue,Oi&&(pL==="id"||pL==="name")&&(zA(Ll,xt),kd=Wa+kd),oh&&Sc(/((--!?|])>)|<\/(style|title)/i,kd)){zA(Ll,xt);continue}if(rs.forceKeepAttr)continue;if(!rs.keepAttr){zA(Ll,xt);continue}if(!bf&&Sc(/\/>/i,kd)){zA(Ll,xt);continue}_c&&$C([tn,Qn,Po],Qne=>{kd=zC(kd,Qne," ")});const Jne=it(xt.nodeName);if(!Kne(Jne,pL,kd)){zA(Ll,xt);continue}if(lt&&typeof J=="object"&&typeof J.getAttributeType=="function"&&!hm)switch(J.getAttributeType(Jne,pL)){case"TrustedHTML":{kd=lt.createHTML(kd);break}case"TrustedScriptURL":{kd=lt.createScriptURL(kd);break}}if(kd!==MQ)try{hm?xt.setAttributeNS(hm,Ll,kd):xt.setAttribute(Ll,kd),RQ(xt)?Yh(xt):S5(n.removed)}catch{zA(Ll,xt)}}z0(dt.afterSanitizeAttributes,xt,null)},Uae=function ms(xt){let io=null;const rs=Zne(xt);for(z0(dt.beforeSanitizeShadowDOM,xt,null);io=rs.nextNode();)z0(dt.uponSanitizeShadowNode,io,null),Gne(io),Xne(io),io.content instanceof f&&ms(io.content);z0(dt.afterSanitizeShadowDOM,xt,null)};return n.sanitize=function(ms){let xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},io=null,rs=null,ja=null,Td=null;if(mL=!ms,mL&&(ms="<!-->"),typeof ms!="string"&&!qne(ms))if(typeof ms.toString=="function"){if(ms=ms.toString(),typeof ms!="string")throw gT("dirty is not a string, aborting")}else throw gT("toString is not a function");if(!n.isSupported)return ms;if(iu||Eo(xt),n.removed=[],typeof ms=="string"&&(Ra=!1),Ra){if(ms.nodeName){const V0=it(ms.nodeName);if(!no[V0]||Mn[V0])throw gT("root node is forbidden and cannot be sanitized in-place")}}else if(ms instanceof C)io=jne("<!---->"),rs=io.ownerDocument.importNode(ms,!0),rs.nodeType===Ly.element&&rs.nodeName==="BODY"||rs.nodeName==="HTML"?io=rs:io.appendChild(rs);else{if(!sh&&!_c&&!mm&&ms.indexOf("<")===-1)return lt&&mo?lt.createHTML(ms):ms;if(io=jne(ms),!io)return sh?null:mo?Ft:""}io&&Vu&&Yh(io.firstChild);const Ll=Zne(Ra?ms:io);for(;ja=Ll.nextNode();)Gne(ja),Xne(ja),ja.content instanceof f&&Uae(ja.content);if(Ra)return ms;if(sh){if(bw)for(Td=Pt.call(io.ownerDocument);io.firstChild;)Td.appendChild(io.firstChild);else Td=io;return(Vs.shadowroot||Vs.shadowrootmode)&&(Td=Ce.call(r,Td,!0)),Td}let hm=mm?io.outerHTML:io.innerHTML;return mm&&no["!doctype"]&&io.ownerDocument&&io.ownerDocument.doctype&&io.ownerDocument.doctype.name&&Sc(O5,io.ownerDocument.doctype.name)&&(hm="<!DOCTYPE "+io.ownerDocument.doctype.name+`>
`+hm),_c&&$C([tn,Qn,Po],V0=>{hm=zC(hm,V0," ")}),lt&&mo?lt.createHTML(hm):hm},n.setConfig=function(){let ms=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Eo(ms),iu=!0},n.clearConfig=function(){yt=null,iu=!1},n.isValidAttribute=function(ms,xt,io){yt||Eo({});const rs=it(ms),ja=it(xt);return Kne(rs,ja,io)},n.addHook=function(ms,xt){typeof xt=="function"&&FC(dt[ms],xt)},n.removeHook=function(ms,xt){if(xt!==void 0){const io=MU(dt[ms],xt);return io===-1?void 0:Pu(dt[ms],io,1)[0]}return S5(dt[ms])},n.removeHooks=function(ms){dt[ms]=[]},n.removeAllHooks=function(){dt=l3()},n}var Xm=R5();const pT=on.each,jU=on.trim,ZU=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],u3={ftp:21,http:80,https:443,mailto:25},qU=["img","video"],GU=(e,n)=>Ie(e)?!e:Ie(n)?!ut(qU,n):!0,da=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},M5=(e,n,o)=>{const r=da(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?GU(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Wc{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(r[0]);return c&&(o=c[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const c=bg.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!M5(r,c,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=jU(n),this.settings=o;const r=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const C=r?r.path:new Wc(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+c.toAbsPath(C,n);else{const E=/([^#?]*)([#?]?.*)/.exec(n);E&&(n=(r&&r.protocol||"http")+"://mce_host"+c.toAbsPath(C,E[1])+E[2])}}n=n.replace(/@@/g,"(mce_at)");const p=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);p&&pT(ZU,(C,E)=>{let O=p[E];O&&(O=O.replace(/\(mce_at\)/g,"@@")),c[C]=O}),r&&(c.protocol||(c.protocol=r.protocol),c.userInfo||(c.userInfo=r.userInfo),!c.port&&c.host==="mce_host"&&(c.port=r.port),(!c.host||c.host==="mce_host")&&(c.host=r.host),c.source=""),f&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new Wc(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),c=o.getURI();if(r===c||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===c)return r;let f=this.toRelPath(this.path,o.path);return o.query&&(f+="?"+o.query),o.anchor&&(f+="#"+o.anchor),f}toAbsolute(n,o){const r=new Wc(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?u3[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,c="",f,p;const C=n.substring(0,n.lastIndexOf("/")).split("/"),E=o.split("/");if(C.length>=E.length){for(f=0,p=C.length;f<p;f++)if(f>=E.length||C[f]!==E[f]){r=f+1;break}}if(C.length<E.length){for(f=0,p=E.length;f<p;f++)if(f>=C.length||C[f]!==E[f]){r=f+1;break}}if(r===1)return o;for(f=0,p=C.length-(r-1);f<p;f++)c+="../";for(f=r-1,p=E.length;f<p;f++)f!==r-1?c+="/"+E[f]:c+=E[f];return c}toAbsPath(n,o){let r=0;const c=/\/$/.test(o)?"/":"",f=n.split("/"),p=o.split("/"),C=[];pT(f,U=>{U&&C.push(U)});const E=[];for(let U=p.length-1;U>=0;U--)if(!(p[U].length===0||p[U]===".")){if(p[U]===".."){r++;continue}if(r>0){r--;continue}E.push(p[U])}const O=C.length-r;let F;return O<=0?F=Vo(E).join("/"):F=C.slice(0,O).join("/")+"/"+Vo(E).join("/"),F.indexOf("/")!==0&&(F="/"+F),c&&F.lastIndexOf("/")!==F.length-1&&(F+=c),F}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const KU=on.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),d3="data-mce-type";let P5=0;const L5=(e,n,o,r,c)=>{var f,p,C,E;const O=n.validate,F=o.getSpecialElements();e.nodeType===sn&&(!n.allow_conditional_comments&&/^\[if/i.test((f=e.nodeValue)!==null&&f!==void 0?f:"")&&(e.nodeValue=" "+e.nodeValue),n.sanitize&&n.allow_html_in_comments&&oe(e.nodeValue)&&(e.nodeValue=gU(e.nodeValue)));const U=(p=c==null?void 0:c.tagName)!==null&&p!==void 0?p:e.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){Ie(c)&&(c.allowedTags[U]=!0);return}if(e.nodeType!==Ho||U==="body")return;const q=Ee.fromDom(e),J=_r(q,d3),ge=gr(q,"data-mce-bogus");if(!J&&oe(ge)){ge==="all"?or(q):Rc(q);return}const fe=o.getElementRule(U);if(O&&!fe){jn(F,U)?or(q):Rc(q);return}else Ie(c)&&(c.allowedTags[U]=!0);if(O&&fe&&!J){if(Re((C=fe.attributesForced)!==null&&C!==void 0?C:[],de=>{$r(q,de.name,de.value==="{$uid}"?`mce_${P5++}`:de.value)}),Re((E=fe.attributesDefault)!==null&&E!==void 0?E:[],de=>{_r(q,de.name)||$r(q,de.name,de.value==="{$uid}"?`mce_${P5++}`:de.value)}),fe.attributesRequired&&!Xt(fe.attributesRequired,de=>_r(q,de))){Rc(q);return}if(fe.removeEmptyAttrs&&ah(q)){Rc(q);return}fe.outputName&&fe.outputName!==U&&$d(q,fe.outputName)}},YU=(e,n,o,r,c)=>{const f=e.tagName.toLowerCase(),{attrName:p,attrValue:C}=c;c.keepAttr=N5(n,o,r,f,p,C),c.keepAttr?(c.allowedAttributes[p]=!0,B5(p,o)&&(c.attrValue=p),n.allow_svg_data_urls&&go(C,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):I5(e,p)&&(c.forceKeepAttr=!0)},N5=(e,n,o,r,c,f)=>o!=="html"&&!Bc(r)?!0:!(c in KU&&M5(e,f,r))&&(!e.validate||n.isValid(r,c)||go(c,"data-")||go(c,"aria-")),I5=(e,n)=>e.hasAttribute(d3)&&(n==="id"||n==="class"||n==="style"),B5=(e,n)=>e in n.getBoolAttrs(),XU=(e,n,o,r)=>{const{attributes:c}=e;for(let f=c.length-1;f>=0;f--){const p=c[f],C=p.name,E=p.value;!N5(n,o,r,e.tagName.toLowerCase(),C,E)&&!I5(e,C)?e.removeAttribute(C):B5(C,o)&&e.setAttribute(C,C)}},vT=(e,n,o)=>{const r=Xm();return r.addHook("uponSanitizeElement",(c,f)=>{L5(c,e,n,o.track(c),f)}),r.addHook("uponSanitizeAttribute",(c,f)=>{YU(c,e,n,o.current(),f)}),r},JU=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body","html"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},QU=e=>{const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};Xm().sanitize(e,o)},yne=(e,n)=>{const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},r=Xm(),c=n.allow_mathml_annotation_encodings,f=Xe(c)&&c.length>0,p=E=>{const O=E.getAttribute("encoding");return f&&oe(O)&&ut(c,O)},C=(E,O)=>f&&O==="semantics"?K.some(!0):O==="annotation"?K.some(qn(E)&&p(E)):Xe(n.extended_mathml_elements)&&n.extended_mathml_elements.includes(O)?K.from(!0):K.none();r.addHook("uponSanitizeElement",(E,O)=>{var F;const U=(F=O.tagName)!==null&&F!==void 0?F:E.nodeName.toLowerCase();C(E,U).each(J=>{O.allowedTags[U]=J,!J&&n.sanitize&&qn(E)&&E.remove()})}),r.addHook("uponSanitizeAttribute",(E,O)=>{Xe(n.extended_mathml_attributes)&&n.extended_mathml_attributes.includes(O.attrName)&&(O.forceKeepAttr=!0)}),r.sanitize(e,o)},WC=e=>n=>{const o=FS(n);if(o==="svg")QU(n);else if(o==="math")yne(n,e);else throw new Error("Not a namespace element")},eW=(e,n)=>{const o=db();if(e.sanitize){const r=vT(e,n,o);return{sanitizeHtmlElement:(f,p)=>{r.sanitize(f,JU(e,p)),r.removed=[],o.reset()},sanitizeNamespaceElement:WC(e)}}else return{sanitizeHtmlElement:(f,p)=>{const C=document.createNodeIterator(f,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let E;for(;E=C.nextNode();){const O=o.track(E);L5(E,e,n,O),qn(E)&&XU(E,e,n,O)}o.reset()},sanitizeNamespaceElement:Nt}},bT=["script","style","template","param"],$5=on.makeMap,F5=on.extend,H5=(e,n,o,r,c)=>{const f=e.name,p=f in o&&f!=="title"&&f!=="textarea"&&f!=="noscript",C=n.childNodes;for(let E=0,O=C.length;E<O;E++){const F=C[E],U=new il(F.nodeName.toLowerCase(),F.nodeType);if(qn(F)){const q=F.attributes;for(let J=0,ge=q.length;J<ge;J++){const fe=q[J];U.attr(fe.name,fe.value)}Bc(U.name)&&(r(F),U.value=F.innerHTML)}else en(F)?(U.value=F.data,p&&(U.raw=!0)):ei(F)?U.value=c?pU(F.data):F.data:(Xw(F)||Jw(F))&&(U.value=F.data);if(cb(F)){const q=il.create("#text");q.value=F.innerHTML,q.raw=!0,U.append(q)}else Bc(U.name)||H5(U,F,o,r,c);e.append(U)}},tW=(e,n,o)=>{const r=[];for(let c=e,f=c;c;f=c,c=c.walk()){const p=c;Re(n,C=>C(p)),Je(p.parent)&&p!==e?c=f:r.push(p)}for(let c=r.length-1;c>=0;c--){const f=r[c];Re(o,p=>p(f))}},d0=(e,n,o,r)=>{const c=o.validate,f=n.getNonEmptyElements(),p=n.getWhitespaceElements(),C=F5($5(bT),n.getBlockElements()),E=GS(n),O=/[ \t\r\n]+/g,F=/^[ \t\r\n]+/,U=/[ \t\r\n]+$/,q=ze=>{let Ye=ze.parent;for(;Ie(Ye);){if(Ye.name in p)return!0;Ye=Ye.parent}return!1},J=ze=>{let Ye=ze;for(;Ie(Ye);){if(Ye.name in E)return BC(n,f,p,Ye);Ye=Ye.parent}return!1},ge=ze=>ze.name in C||cv(n,ze)||Bc(ze.name)&&ze.parent===e,fe=(ze,Ye)=>{const lt=Ye?ze.prev:ze.next;return Ie(lt)||Je(ze.parent)?!1:ge(ze.parent)&&(ze.parent!==e||r.isRootContent===!0)};return[ze=>{var Ye;if(ze.type===3&&!q(ze)){let lt=(Ye=ze.value)!==null&&Ye!==void 0?Ye:"";lt=lt.replace(O," "),(fU(ze.prev,ge)||fe(ze,!0))&&(lt=lt.replace(F,"")),lt.length===0||lt===" "&&ze.prev&&ze.prev.type===sn&&ze.next&&ze.next.type===sn?ze.remove():ze.value=lt}},ze=>{var Ye;if(ze.type===1){const lt=n.getElementRule(ze.name);if(c&&lt){const Ft=BC(n,f,p,ze);lt.paddInEmptyBlock&&Ft&&J(ze)?ZD(o,r,ge,ze):lt.removeEmpty&&Ft?ge(ze)?ze.remove():ze.unwrap():lt.paddEmpty&&(Ft||u5(ze))&&ZD(o,r,ge,ze)}}else if(ze.type===3&&!q(ze)){let lt=(Ye=ze.value)!==null&&Ye!==void 0?Ye:"";(ze.next&&ge(ze.next)||fe(ze,!1))&&(lt=lt.replace(U,"")),lt.length===0?ze.remove():ze.value=lt}}]},f0=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},jC=' xmlns="http://www.w3.org/1999/xhtml"',op=(e={},n=fd())=>{const o=m5(),r=m5(),c={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...e},f=new DOMParser,p=eW(c,n),C=(Ye,lt,Ft="html",vn=!1)=>{const nn=Ft==="xhtml",Pt=nn?"application/xhtml+xml":"text/html",Ke=jn(n.getSpecialElements(),lt.toLowerCase()),Ce=Ke?`<${lt}>${Ye}</${lt}>`:Ye,dt=()=>/^[\s]*<head/i.test(Ye)||/^[\s]*<html/i.test(Ye)||/^[\s]*<!DOCTYPE/i.test(Ye)?`<html${nn?jC:""}>${Ce}</html>`:nn?`<html${jC}><head></head><body>${Ce}</body></html>`:`<body>${Ce}</body>`,tn=f.parseFromString(dt(),Pt),Qn=vn?tn.documentElement:tn.body;return p.sanitizeHtmlElement(Qn,Pt),Ke?Qn.firstChild:Qn},E=o.addFilter,O=o.getFilters,F=o.removeFilter,U=r.addFilter,q=r.getFilters,J=r.removeFilter,ge=(Ye,lt)=>{GD(n,Ye)&&lt.push(Ye)},fe=(Ye,lt)=>{const Ft=oe(lt.attr(d3)),vn=lt.type===1&&!jn(Ye,lt.name)&&!cv(n,lt)&&!Bc(lt.name);return lt.type===3||vn&&!Ft},de=(Ye,lt)=>{const Ft=F5($5(bT),n.getBlockElements()),vn=/^[ \t\r\n]+/,nn=/[ \t\r\n]+$/;let Pt=Ye.firstChild,Ke=null;const Ce=dt=>{var tn,Qn;dt&&(Pt=dt.firstChild,Pt&&Pt.type===3&&(Pt.value=(tn=Pt.value)===null||tn===void 0?void 0:tn.replace(vn,"")),Pt=dt.lastChild,Pt&&Pt.type===3&&(Pt.value=(Qn=Pt.value)===null||Qn===void 0?void 0:Qn.replace(nn,"")))};if(n.isValidChild(Ye.name,lt.toLowerCase())){for(;Pt;){const dt=Pt.next;fe(Ft,Pt)?(Ke||(Ke=new il(lt,1),Ke.attr(c.forced_root_block_attrs),Ye.insert(Ke,Pt)),Ke.append(Pt)):(Ce(Ke),Ke=null),Pt=dt}Ce(Ke)}},ze={schema:n,addAttributeFilter:U,getAttributeFilters:q,removeAttributeFilter:J,addNodeFilter:E,getNodeFilters:O,removeNodeFilter:F,parse:(Ye,lt={})=>{var Ft,vn;const nn=c.validate,Pt=((Ft=lt.context)!==null&&Ft!==void 0?Ft:c.root_name)==="#document",Ke=(vn=lt.context)!==null&&vn!==void 0?vn:Pt?"html":c.root_name,Ce=C(Ye,Ke,lt.format,Pt);bh(n,Ce);const dt=new il(Ke,11);H5(dt,Ce,n.getSpecialElements(),p.sanitizeNamespaceElement,c.sanitize&&c.allow_html_in_comments),Ce.innerHTML="";const[tn,Qn]=d0(dt,n,c,lt),Po=[],ss=nn?tc=>ge(tc,Po):Nt,vs={nodes:{},attributes:{}},Zr=tc=>UD(O(),q(),tc,vs);tW(dt,[tn,Zr],[Qn,ss]),Po.reverse(),nn&&Po.length>0&&(lt.context?lt.invalid=!0:f5(Po,n,dt,Zr));const qr=f0(c,lt);return qr&&(dt.name==="body"||lt.isRootContent)&&de(dt,qr),lt.invalid||WD(vs,lt),dt}};return y5(ze,c),h5(ze,c,n),ze},Fh=e=>e instanceof il,m0=e=>Fh(e)?d1({validate:!1}).serialize(e):e,ZC=(e,n,o)=>{const r=m0(e),c=n(r);if(c.isDefaultPrevented())return c;if(Fh(e))if(c.content!==r){const f=op({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:f}}else return{...c,content:e};else return c},qC=e=>({sanitize:Y2(e),sandbox_iframes:iy(e),sandbox_iframes_exclusions:Uv(e)}),f3=(e,n)=>{if(n.no_events)return Ri.value(n);{const o=LE(e,n);return o.isDefaultPrevented()?Ri.error(NE(e,{content:"",...o}).content):Ri.value(o)}},yT=(e,n,o)=>o.no_events?n:ZC(n,c=>NE(e,{...o,content:c}),qC(e)).content,GC=(e,n)=>{if(n.no_events)return Ri.value(n);{const o=ZC(n.content,r=>Ta(e,{...n,content:r}),qC(e));return o.isDefaultPrevented()?(PE(e,o),Ri.error(void 0)):Ri.value(o)}},wT=(e,n,o)=>{o.no_events||PE(e,{...o,content:n})},z5="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),Ny=["content_css_cors"],V5="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),m3=[{name:"export",replacedWith:"Export to PDF"}],h3=(e,n)=>{const o=pe(n,r=>jn(e,r));return je(o)},CT=e=>{const n=h3(e,z5),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),je(n)},U5=e=>h3(e,Ny),g3=(e,n)=>{const o=on.makeMap(e.plugins," "),c=pe(n,f=>jn(o,f));return je(c)},W5=e=>g3(e,V5),j5=e=>g3(e,m3.map(n=>n.name)),sp=(e,n)=>{const o=CT(e),r=W5(n),c=r.length>0,f=o.length>0,p=n.theme==="mobile";if(c||f||p){const E=p?`

Themes:
- mobile`:"",O=c?`

Plugins:
- ${r.join(`
- `)}`:"",F=f?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+E+O+F)}},w1=e=>rt(m3,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),rm=(e,n)=>{const o=U5(e),r=j5(n),c=r.length>0,f=o.length>0;if(c||f){const C=c?`

Plugins:
- ${r.map(w1).join(`
- `)}`:"",E=f?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+C+E)}},nW=(e,n)=>{sp(e,n),rm(e,n)},oW={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},Z5=e=>{console.warn(oW[e],new Error().stack)},q5=e=>e.dom.length===0?(or(e),K.none()):K.some(e),sW=(e,n)=>e.filter(o=>tm.isBookmarkNode(o.dom)).bind(n?cc:vl),rW=(e,n,o,r,c)=>{const f=e.dom,p=n.dom,C=r?f.length:p.length;r?(rD(f,p,c,!1,!r),o.setStart(p,C)):(rD(p,f,c,!1,!r),o.setEnd(p,C))},iW=(e,n,o)=>{ac(e).each(r=>{const c=e.dom;n&&OC(r,Et(c,0),o)?nT(c,0,o):!n&&DC(r,Et(c,c.length),o)&&sD(c,c.length,o)})},G5=(e,n,o,r,c)=>{e.bind(f=>((r?sD:nT)(f.dom,r?f.dom.length:0,c),n.filter(Ms).map(C=>rW(f,C,o,r,c)))).orThunk(()=>sW(n,r).or(n).filter(Ms).map(p=>iW(p,r,c)))},aW=(e,n,o)=>{const r=K.from(n.firstChild).map(Ee.fromDom),c=K.from(n.lastChild).map(Ee.fromDom);e.deleteContents(),e.insertNode(n);const f=r.bind(vl).filter(Ms).bind(q5),p=c.bind(cc).filter(Ms).bind(q5);G5(f,r,e,!0,o),G5(p,c,e,!1,o),e.collapse(!1)},cW=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),lW=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=r?{context:r.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,{forced_root_block:!1,...c,...n});return d1({validate:!1},e.schema).serialize(f)}else return n.content},xT=(e,n,o={})=>{const r=cW(o,n);GC(e,r).each(c=>{const f=lW(e,c),p=e.selection.getRng();aW(p,p.createContextualFragment(f),e.schema),e.selection.setRng(p),_C(e,p),wT(e,f,c)})},p3=(e,n,o={})=>{Z5("selectionSetContent"),xT(e,n,o)},v3=e=>Ie(e.firstChild)&&e.firstChild===e.lastChild,K5=e=>e.name==="br"||e.value===Er,uW=(e,n)=>e.getBlockElements()[n.name]&&v3(n)&&K5(n.firstChild),dW=(e,n)=>{const o=e.getNonEmptyElements();return Ie(n)&&(n.isEmpty(o)||uW(e,n))},Y5=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),dW(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},X5=e=>{var n,o;const r=e.firstChild,c=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},b3=(e,n,o)=>{const r=n.serialize(o),c=e.createFragment(r);return X5(c)},J5=e=>{var n;return pe((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},Q5=e=>e.data===Er||Vr(e),y3=e=>Ie(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&Q5(e.firstChild),fW=e=>!e.firstChild||y3(e),mW=e=>e.length>0&&fW(e[e.length-1])?e.slice(0,-1):e,im=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},am=(e,n)=>!!im(e,n),ST=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},eB=(e,n)=>{const o=Et.before(e),c=rf(n).next(o);return c?c.toRange():null},KC=(e,n)=>{const o=Et.after(e),c=rf(n).prev(o);return c?c.toRange():null},tB=(e,n,o,r)=>{const c=ST(e,r),f=e.parentNode;return f&&(f.insertBefore(c[0],e),on.each(n,p=>{f.insertBefore(p,e)}),f.insertBefore(c[1],e),f.removeChild(e)),KC(n[n.length-1],o)},nB=(e,n,o)=>{const r=e.parentNode;return r&&on.each(n,c=>{r.insertBefore(c,e)}),eB(e,o)},oB=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),KC(n[0],o)),sB=(e,n,o,r)=>{const c=b3(n,e,r),f=im(n,o.startContainer),p=mW(J5(c.firstChild)),C=1,E=2,O=n.getRoot(),F=U=>{const q=Et.fromRangeStart(o),J=rf(n.getRoot()),ge=U===C?J.prev(q):J.next(q),fe=ge==null?void 0:ge.getNode();return fe?im(n,fe)!==f:!0};return f?F(C)?nB(f,p,O):F(E)?oB(f,p,O,n):tB(f,p,O,o):null},rB=["pre"],iB=(e,n,o,r)=>{var c;const f=n.firstChild,p=n.lastChild,C=p.attr("data-mce-type")==="bookmark"?p.prev:p,E=f===C,O=ut(rB,f.name);if(E&&O){const F=f.attr("contenteditable")!=="false",U=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===f.name,q=K.from(a0(r,o)).forall(Nc);return F&&U&&q}else return!1},Iy=Nf,w3=(e,n,o)=>{if(Ie(o)){const r=e.getParent(n.endContainer,Iy);return o===r&&gC(Ee.fromDom(o),n)}else return!1},hW=(e,n)=>{if(e.isBlock(n)&&e.isEditable(n)){const o=n.childNodes;return o.length===1&&Vr(o[0])||o.length===0}else return!1},gW=(e,n,o)=>{var r;o.getAttribute("data-mce-bogus")==="all"?(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o):hW(e.dom,o)?e.dom.setHTML(o,n):xT(e,n,{no_events:!0})},pW=(e,n,o)=>{K.from(e.getParent(n,"td,th")).map(Ee.fromDom).each(r=>kO(r,o))},vW=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const c=e.getBody(),f=TD(e),p="*[data-mce-fragment]",C=r.select(p);on.each(C,E=>{const O=q=>Ie(o[q.nodeName.toLowerCase()]),F=q=>q.childNodes.length===1;if((q=>!(XV(r,q)||JV(r,q)))(E)&&O(E)&&F(E)){const q=TC(r,E),J=(He,ze)=>Zo(He,Ye=>ut(ze,Ye)),ge=He=>F(E)&&r.is(He,p)&&O(He)&&(He.nodeName===E.nodeName&&J(q,TC(r,He))||ge(He.children[0])),fe=He=>Ie(He)&&He!==c&&(f.compare(E,He)||fe(He.parentElement)),de=He=>Ie(He)&&He!==c&&r.is(He,p)&&(QV(r,E,He)||de(He.parentElement));(ge(E.children[0])||fe(E.parentElement)&&!de(E.parentElement))&&r.remove(E,!0)}}),i5(e,Of(C))}},aB=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},bW=e=>{on.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},yW=e=>!!e.getAttribute("data-mce-fragment"),C3=(e,n)=>Ie(n)&&!e.schema.getVoidElements()[n.nodeName],wW=(e,n)=>{var o,r,c;let f;const p=e.dom,C=e.selection;if(!n)return;C.scrollIntoView(n);const E=a0(e.getBody(),n);if(E&&p.getContentEditable(E)==="false"){p.remove(n),C.select(E);return}let O=p.createRng();const F=n.previousSibling;if(en(F)){O.setStart(F,(r=(o=F.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const J=n.nextSibling;en(J)&&(F.appendData(J.data),(c=J.parentNode)===null||c===void 0||c.removeChild(J))}else O.setStartBefore(n),O.setEndBefore(n);const U=J=>{let ge=Et.fromRangeStart(J);return ge=rf(e.getBody()).next(ge),ge==null?void 0:ge.toRange()},q=p.getParent(n,p.isBlock);if(p.remove(n),q&&p.isEmpty(q)){const J=Iy(q);ql(Ee.fromDom(q)),O.setStart(q,0),O.setEnd(q,0),!J&&!yW(q)&&(f=U(O))?(O=f,p.remove(q)):p.add(q,p.create("br",J?{}:{"data-mce-bogus":"1"}))}C.setRng(O)},CW=e=>{const n=e.dom,o=dT(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,Iy);w3(n,o,r)?CD(e,o,Ee.fromDom(r)):bC(o)||x4(o)?o.deleteContents():e.getDoc().execCommand("Delete",!1)},xW=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return K.some(n);return K.none()},SW=(e,n,o)=>{var r;return Xt(o.children(),a5)&&((r=e.getParent(n,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},EW=(e,n,o)=>{var r;const c=e.selection,f=e.dom,p=e.parser,C=o.merge,E=d1({validate:!0},e.schema),O='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=tl(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,O);let F=c.getRng();const U=F.startContainer,q=e.getBody();U===q&&c.isCollapsed()&&f.isBlock(q.firstChild)&&C3(e,q.firstChild)&&f.isEmpty(q.firstChild)&&(F=f.createRng(),F.setStart(q.firstChild,0),F.setEnd(q.firstChild,0),c.setRng(F)),c.isCollapsed()||CW(e);const J=c.getNode(),ge={context:J.nodeName.toLowerCase(),data:o.data,insert:!0},fe=p.parse(n,ge);if(o.paste===!0&&Y5(e.schema,fe)&&am(f,J))return F=sB(E,f,c.getRng(),fe),F&&c.setRng(F),n;o.paste===!0&&iB(f,fe,J,e.getBody())&&((r=fe.firstChild)===null||r===void 0||r.unwrap()),aB(fe);let de=fe.lastChild;if(de&&de.attr("id")==="mce_marker"){const He=de;for(de=de.prev;de&&de.name!=="table";de=de.walk(!0))if(de.type===3||!f.isBlock(de.name)){de.parent&&e.schema.isValidChild(de.parent.name,"span")&&de.parent.insert(He,de,de.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(J),!ge.invalid&&!SW(f,J,fe))n=E.serialize(fe),gW(e,n,J);else{xT(e,O);let He=c.getNode(),ze;const Ye=e.getBody();for(ns(He)?He=ze=Ye:ze=He;ze&&ze!==Ye;)He=ze,ze=ze.parentNode;n=He===Ye?Ye.innerHTML:f.getOuterHTML(He);const lt=p.parse(n),Ft=xW(lt),vn=Ft.bind(mU).getOr(lt);Ft.each(Ke=>Ke.replace(fe));const nn=pne(fe);fe.unwrap();const Pt=pe(nn,Ke=>GD(e.schema,Ke));f5(Pt,e.schema,vn),jD(p.getNodeFilters(),p.getAttributeFilters(),lt),n=E.serialize(lt),He===Ye?f.setHTML(Ye,n):f.setOuterHTML(He,n)}return vW(e,C),wW(e,f.get("mce_marker")),bW(e.getBody()),pW(f,c.getStart(),e.schema),vg(e.schema,e.getBody(),c.getStart()),n},_W=e=>{o0(e)&&vc(e.getBody()).each(n=>{const o=n.getNode(),r=Lf(o)?vc(o).getOr(n):n;e.selection.setRng(r.toRange())})},x3=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&_W(e)},ET=(e,n,o,r)=>{if(o=tl(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const f=Ua(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),f.toLowerCase())?(o=c,o=e.dom.createHTML(f,Qp(e),o)):o||(o=c),x3(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=d1({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=kl(Ee.fromDom(n))?o:on.trim(o);return x3(e,c,r.no_selection),{content:c,html:c}}},S3=(e,n,o,r)=>{jD(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=d1({validate:!1},e.schema).serialize(o),f=tl(kl(Ee.fromDom(n))?c:on.trim(c));return x3(e,f,r.no_selection),{content:o,html:f}},TW=(e,n,o)=>K.from(e.getBody()).map(r=>Fh(n)?S3(e,r,n,o):ET(e,r,n,o)).getOr({content:n,html:Fh(o.content)?"":o.content}),YC={},cB=Ea(["pre"]),kW=(e,n)=>{YC[e]||(YC[e]=[]),YC[e].push(n)},lB=(e,n)=>{jn(YC,e)&&Re(YC[e],o=>{o(n)})};kW("pre",e=>{const n=e.selection.getRng(),o=c=>f=>{const p=f.previousSibling;return cB(p)&&ut(c,p)},r=(c,f)=>{const p=Ee.fromDom(f),C=Wl(p).dom;or(p),wl(Ee.fromDom(c),[Ee.fromTag("br",C),Ee.fromTag("br",C),...Hr(p)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),f=pe(pe(c,cB),o(c));Re(f,p=>{r(p.previousSibling,p)})}});const uB=on.each,AW=(e,n,o,r)=>{const c=f=>{if(kr(f)&&qn(f.parentNode)&&e.isEditable(f)){const p=N(e,f.parentNode);e.getStyle(f,"color")&&p?e.setStyle(f,"text-decoration",p):e.getStyle(f,"text-decoration")===p&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(on.walk(r,c,"childNodes"),c(r))},E3=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const c=JI(e,"fontSize");XI(r,f=>c(f)&&e.isEditable(f),Ry(e,"backgroundColor",d(n.styles.backgroundColor,o)))}},OW=(e,n,o,r)=>{if(dn(n)&&(n.inline==="sub"||n.inline==="sup")){const c=JI(e,"fontSize");XI(r,p=>c(p)&&e.isEditable(p),Ry(e,"fontSize",""));const f=pe(e.select(n.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(f,!0)}},DW=(e,n,o,r)=>{uB(n,c=>{dn(c)&&uB(e.dom.select(c.inline,r),f=>{ND(f)&&Py(e,c,o,f,c.exact?f:null)}),Pr(e.dom,c,r)})},RW=(e,n,o,r,c)=>{const f=c.parentNode;sm(e,f,o,r)&&Py(e,n,r,c)||n.merge_with_parents&&f&&e.dom.getParent(f,p=>sm(e,p,o,r)?(Py(e,n,r,c),!0):!1)},MW=on.each,PW=(e,n,o,r)=>{if(Iv(e)&&dn(n)&&o.parentNode){const c=GS(e.schema),f=Gn(Ee.fromDom(o),p=>sl(p.dom));return Qo(c,r)&&bu(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!f}else return!1},LW=(e,n,o,r)=>{const c=e.formatter.get(n),f=c[0],p=!r&&e.selection.isCollapsed(),C=e.dom,E=e.selection,O=(J,ge)=>{let fe=!1;return MW(J,de=>En(de)?C.getContentEditable(ge)==="false"&&!de.ceFalseOverride||Ie(de.collapsed)&&de.collapsed!==p?!0:C.is(ge,de.selector)&&!sl(ge)?(Ay(e,ge,de,o,ge),fe=!0,!1):!0:!1),fe},F=J=>{if(oe(J)){const ge=C.create(J);return Ay(e,ge,f,o,r),ge}else return null},U=(J,ge,fe)=>{const de=[];let He=!0;const ze=f.inline||f.block,Ye=F(ze),lt=nn=>ot(f)&&sm(e,nn,n,o),Ft=(nn,Pt,Ke)=>{const Ce=Gt(f)&&wC(e.schema,nn)&&a1(e,Pt,ze);return Ke&&Ce},vn=(nn,Pt,Ke,Ce)=>{const dt=nn.nodeName.toLowerCase(),tn=a1(e,ze,dt)&&a1(e,Pt,ze),Qn=!fe&&en(nn)&&Rb(nn.data),Po=sl(nn),ss=!dn(f)||!J.isBlock(nn);return(Ke||Ce)&&tn&&!Qn&&!Po&&ss};c1(J,ge,nn=>{let Pt;const Ke=Ce=>{let dt=!1,tn=He,Qn=!1;const Po=Ce.parentNode,ss=Po.nodeName.toLowerCase(),vs=J.getContentEditable(Ce);Ie(vs)&&(tn=He,He=vs==="true",dt=!0,Qn=R_(e,Ce));const Zr=He&&!dt;if(Vr(Ce)&&!PW(e,f,Ce,ss)){Pt=null,Pe(f)&&J.remove(Ce);return}if(lt(Ce)){Pt=null;return}if(Ft(Ce,ss,Zr)){const qr=J.rename(Ce,ze);Ay(e,qr,f,o,Ce),de.push(qr),Pt=null;return}if(En(f)){let qr=O(c,Ce);if(!qr&&Ie(Po)&&Mt(f)&&(qr=O(c,Po)),!dn(f)||qr){Pt=null;return}}Ie(Ye)&&vn(Ce,ss,Zr,Qn)?(Pt||(Pt=J.clone(Ye,!1),Po.insertBefore(Pt,Ce),de.push(Pt)),Qn&&dt&&(He=tn),Pt.appendChild(Ce)):(Pt=null,Re(bn(Ce.childNodes),Ke),dt&&(He=tn),Pt=null)};Re(nn,Ke)}),f.links===!0&&Re(de,nn=>{const Pt=Ke=>{Ke.nodeName==="A"&&Ay(e,Ke,f,o,r),Re(bn(Ke.childNodes),Pt)};Pt(nn)}),uU(e,n,Of(de)),Re(de,nn=>{const Pt=dt=>{let tn=0;return Re(dt.childNodes,Qn=>{!Mr(Qn)&&!Ol(Qn)&&tn++}),tn},Ke=dt=>rt(dt.childNodes,yC).filter(Qn=>J.getContentEditable(Qn)!=="false"&&cT(J,Qn,f)).map(Qn=>{const Po=J.clone(Qn,!1);return Ay(e,Po,f,o,dt),J.replace(Po,dt,!0),J.remove(Qn,!0),Po}).getOr(dt),Ce=Pt(nn);if((de.length>1||!J.isBlock(nn))&&Ce===0){J.remove(nn,!0);return}(dn(f)||Pe(f)&&f.wrapper)&&(!f.exact&&Ce===1&&(nn=Ke(nn)),DW(e,c,o,nn),RW(e,f,n,o,nn),E3(J,f,o,nn),AW(J,f,o,nn),OW(J,f,o,nn),YI(e,f,o,nn))})},q=Qv(r)?r:E.getNode();if(C.getContentEditable(q)==="false"&&!R_(e,q)){r=q,O(c,r),un(e,n,r,o);return}if(f){if(r)if(Qv(r)){if(!O(c,r)){const J=C.createRng();J.setStartBefore(r),J.setEndAfter(r),U(C,zi(C,J,c),!0)}}else U(C,r,!0);else!p||!dn(f)||Nh(e).length?(E.setRng(dT(E.getRng())),Ey(e,()=>{pC(e,(J,ge)=>{const fe=ge?J:zi(C,J,c);U(C,fe,!1)})},rn),e.nodeChanged()):une(e,n,o),Dy(e.formatter,n).each(J=>{Re(fne(e.selection),ge=>HI(C,ge,J,o))});lB(n,e)}un(e,n,r,o)},dB=(e,n,o,r)=>{(r||e.selection.isEditable())&&LW(e,n,o,r)},XC=e=>jn(e,"vars"),_T=(e,n)=>{e.set({}),n.on("NodeChange",o=>{hB(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=K.from(o.node).map(c=>Qv(c)?c:c.startContainer).bind(c=>qn(c)?K.some(c):K.from(c.parentElement)).getOrThunk(()=>fB(n));hB(n,r,e.get())})},fB=e=>e.selection.getStart(),mB=(e,n,o,r,c)=>st(n,C=>{const E=e.formatter.matchNode(C,o,c??{},r);return!ht(E)},C=>Dl(e,C,o)?!0:r?!1:Ie(e.formatter.matchNode(C,o,c,!0))),JC=(e,n)=>{const o=n??fB(e);return pe(V(e.dom,o),r=>qn(r)&&!mg(r))},hB=(e,n,o)=>{const r=JC(e,n);cn(o,(c,f)=>{const p=C=>{const E=mB(e,r,f,C.similar,XC(C)?C.vars:void 0),O=E.isSome();if(C.state.get()!==O){C.state.set(O);const F=E.getOr(n);XC(C)?C.callback(O,{node:F,format:f,parents:r}):Re(C.callbacks,U=>U(O,{node:F,format:f,parents:r}))}};Re([c.withSimilar,c.withoutSimilar],p),Re(c.withVars,p)})},NW=(e,n,o,r,c,f)=>{const p=n.get();Re(o.split(","),C=>{const E=Jo(p,C).getOrThunk(()=>{const F={withSimilar:{state:Un(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Un(!1),similar:!1,callbacks:[]},withVars:[]};return p[C]=F,F}),O=()=>{const F=JC(e);return mB(e,F,C,c,f).isSome()};if(ht(f)){const F=c?E.withSimilar:E.withoutSimilar;F.callbacks.push(r),F.callbacks.length===1&&F.state.set(O())}else E.withVars.push({state:Un(O()),similar:c,vars:f,callback:r})}),n.set(p)},IW=(e,n,o)=>{const r=e.get();Re(n.split(","),c=>Jo(r,c).each(f=>{r[c]={withSimilar:{...f.withSimilar,callbacks:pe(f.withSimilar.callbacks,p=>p!==o)},withoutSimilar:{...f.withoutSimilar,callbacks:pe(f.withoutSimilar.callbacks,p=>p!==o)},withVars:pe(f.withVars,p=>p.callback!==o)}})),e.set(r)},BW=(e,n,o,r,c,f)=>(NW(e,n,o,r,c,f),{unbind:()=>IW(n,o,r)}),$W=(e,n,o,r)=>{const c=e.formatter.get(n);c&&(OD(e,n,o,r)&&(!("toggle"in c[0])||c[0].toggle)?r5(e,n,o,r):dB(e,n,o,r))},_3=(e,n,o)=>({element:e,width:n,rows:o}),gB=(e,n)=>({element:e,cells:n}),FW=(e,n)=>({x:e,y:n}),pB=(e,n)=>Cl(e,n).bind(Ef).getOr(1),HW=(e,n,o,r,c)=>{const f=pB(c,"rowspan"),p=pB(c,"colspan"),C=e.rows;for(let E=o;E<o+f;E++){C[E]||(C[E]=gB(td(r),[]));for(let O=n;O<n+p;O++){const F=C[E].cells;F[O]=E===o&&O===n?c:wi(c)}}},zW=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},wne=(e,n,o)=>{for(;zW(e,n,o);)n++;return n},lf=e=>Ht(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),T3=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const c=o[r].cells;for(let f=0;f<c.length;f++)if(Nn(c[f],n))return K.some(FW(f,r))}return K.none()},vB=(e,n,o,r,c)=>{const f=[],p=e.rows;for(let C=o;C<=c;C++){const E=p[C].cells,O=n<r?E.slice(n,r+1):E.slice(r,n+1);f.push(gB(p[C].element,O))}return f},bB=(e,n,o)=>{const r=n.x,c=n.y,f=o.x,p=o.y,C=c<p?vB(e,r,c,f,p):vB(e,r,p,f,c);return _3(e.element,lf(C),C)},VW=(e,n)=>{const o=wi(e.element),r=Ee.fromTag("tbody");return wl(r,n),xs(o,r),o},UW=e=>Lt(e.rows,n=>{const o=Lt(n.cells,c=>{const f=td(c);return bi(f,"colspan"),bi(f,"rowspan"),f}),r=wi(n.element);return wl(r,o),r}),Cne=e=>{const n=_3(wi(e),0,[]);return Re(kt(e,"tr"),(o,r)=>{Re(kt(o,"td,th"),(c,f)=>{HW(n,wne(n,f,r),r,o,c)})}),_3(n.element,lf(n.rows),n.rows)},jc=e=>VW(e,UW(e)),WW=(e,n,o)=>T3(e,n).bind(r=>T3(e,o).map(c=>bB(e,r,c))),k3=e=>rt(e,n=>ko(n)==="ul"||ko(n)==="ol"),yB=(e,n)=>rt(e,o=>ko(o)==="li"&&gC(o,n)).fold(Qe([]),o=>k3(e).map(r=>{const c=Ee.fromTag(ko(r)),f=si(uh(r),(p,C)=>go(C,"list-style"));return Mc(c,f),[Ee.fromTag("li"),c]}).getOr([])),TT=(e,n)=>{const o=Ht(n,(r,c)=>(xs(c,r),c),e);return n.length>0?Rf([o]):o},jW=e=>Hf(e)?ac(e).filter(Ob).fold(Qe([]),n=>[e,n]):Ob(e)?[e]:[],ZW=(e,n,o)=>{const r=Ee.fromDom(n.commonAncestorContainer),c=An(r,e),f=pe(c,E=>o.isWrapper(ko(E))),p=yB(c,n),C=f.concat(p.length?p:jW(r));return Lt(C,wi)},wB=()=>Rf([]),qW=(e,n,o)=>TT(Ee.fromDom(n.cloneContents()),ZW(e,n,o)),GW=(e,n)=>ui(n,"table",Ue(Nn,e)),CB=(e,n)=>GW(e,n[0]).bind(o=>{const r=n[0],c=n[n.length-1],f=Cne(o);return WW(f,r,c).map(p=>Rf([jc(p)]))}).getOrThunk(wB),KW=(e,n,o)=>n.length>0&&n[0].collapsed?wB():qW(e,n[0],o),xB=(e,n,o)=>{const r=Cy(n,e);return r.length>0?CB(e,r):KW(e,n,o)},QC=(e,n)=>n>=0&&n<e.length&&Gg(e.charAt(n)),SB=e=>tl(e.innerText),YW=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),XW=e=>K.from(e.selection.getRng()).map(n=>{var o;const r=K.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),f=YW(r),p=Ee.fromDom(n.cloneContents());G4(p),K4(p);const C=e.dom.add(c,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},p.dom),E=SB(C),O=tl((o=C.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(C),QC(O,0)||QC(O,O.length-1)){const F=r.getOr(c),U=SB(F),q=U.indexOf(E);if(q===-1)return E;{const J=QC(U,q-1),ge=QC(U,q+E.length);return(J?" ":"")+E+(ge?" ":"")}}else return E}).getOr(""),JW=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),c=e.selection.getSel(),f=j4(e,fC(c)),p=n.contextual?xB(Ee.fromDom(e.getBody()),f,e.schema).dom:o.cloneContents();return p&&r.appendChild(p),e.selection.serializer.serialize(r,n)},QW=(e,n)=>{if(n.format==="text")return XW(e);{const o=JW(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},kT=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),EB=(e,n,o={})=>{const r=kT(o,n);return f3(e,r).fold(ln,c=>{const f=QW(e,c);return yT(e,f,c)})},AT=0,_B=1,A3=2,ej=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),c=new Array(o),f=(F,U,q)=>({start:F,end:U,diag:q}),p=(F,U,q,J,ge)=>{const fe=E(F,U,q,J);if(fe===null||fe.start===U&&fe.diag===U-J||fe.end===F&&fe.diag===F-q){let de=F,He=q;for(;de<U||He<J;)de<U&&He<J&&e[de]===n[He]?(ge.push([AT,e[de]]),++de,++He):U-F>J-q?(ge.push([A3,e[de]]),++de):(ge.push([_B,n[He]]),++He)}else{p(F,fe.start,q,fe.start-fe.diag,ge);for(let de=fe.start;de<fe.end;++de)ge.push([AT,e[de]]);p(fe.end,U,fe.end-fe.diag,J,ge)}},C=(F,U,q,J)=>{let ge=F;for(;ge-U<J&&ge<q&&e[ge]===n[ge-U];)++ge;return f(F,ge,U)},E=(F,U,q,J)=>{const ge=U-F,fe=J-q;if(ge===0||fe===0)return null;const de=ge-fe,He=fe+ge,ze=(He%2===0?He:He+1)/2;r[1+ze]=F,c[1+ze]=U+1;let Ye,lt,Ft,vn,nn;for(Ye=0;Ye<=ze;++Ye){for(lt=-Ye;lt<=Ye;lt+=2){for(Ft=lt+ze,lt===-Ye||lt!==Ye&&r[Ft-1]<r[Ft+1]?r[Ft]=r[Ft+1]:r[Ft]=r[Ft-1]+1,vn=r[Ft],nn=vn-F+q-lt;vn<U&&nn<J&&e[vn]===n[nn];)r[Ft]=++vn,++nn;if(de%2!==0&&de-Ye<=lt&&lt<=de+Ye&&c[Ft-de]<=r[Ft])return C(c[Ft-de],lt+F-q,U,J)}for(lt=de-Ye;lt<=de+Ye;lt+=2){for(Ft=lt+ze-de,lt===de-Ye||lt!==de+Ye&&c[Ft+1]<=c[Ft-1]?c[Ft]=c[Ft+1]-1:c[Ft]=c[Ft-1],vn=c[Ft]-1,nn=vn-F+q-lt;vn>=F&&nn>=q&&e[vn]===n[nn];)c[Ft]=vn--,nn--;if(de%2===0&&-Ye<=lt&&lt<=Ye&&c[Ft]<=r[Ft+de])return C(c[Ft],lt+F-q,U,J)}}return null},O=[];return p(0,e.length,0,n.length,O),O},TB=e=>qn(e)?e.outerHTML:en(e)?bg.encodeRaw(e.data,!1):ei(e)?"<!--"+e.data+"-->":"",tj=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},O3=(e,n,o)=>{const r=tj(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(r,c)}else e.appendChild(r)},D3=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},nj=(e,n)=>{let o=0;Re(e,r=>{r[0]===AT?o++:r[0]===_B?(O3(n,r[1],o),o++):r[0]===A3&&D3(n,o)})},R3=(e,n)=>pe(Lt(bn(e.childNodes),B(tl,TB)),o=>o.length>0),oj=(e,n)=>{const o=Lt(bn(n.childNodes),TB);return nj(ej(o,e),n),n},sj=Pi(()=>document.implementation.createHTMLDocument("undo")),rj=e=>e.querySelector("iframe")!==null,ij=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),aj=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),OT=e=>{const n=e.serializer.getTempAttrs(),o=BN(e.getBody(),n);return rj(o)?ij(R3(o)):aj(tl(o.innerHTML))},DT=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?oj(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Ie(r)&&py(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},M3=e=>e.type==="fragmented"?e.fragments.join(""):e.content,kB=e=>{const n=Ee.fromTag("body",sj());return Fd(n,M3(e)),Re(kt(n,"*[data-mce-bogus]"),Rc),Sa(n)},cj=(e,n)=>M3(e)===M3(n),lj=(e,n)=>kB(e)===kB(n),P3=(e,n)=>!e||!n?!1:cj(e,n)?!0:lj(e,n),L3=e=>e.get()===0,RT=(e,n,o)=>{L3(o)&&(e.typing=n)},h0=(e,n)=>{e.typing&&(RT(e,!1,n),e.add())},MT=e=>{e.typing&&(e.typing=!1,e.add())},AB=(e,n,o)=>{L3(n)&&o.set(Av(e.selection))},OB=(e,n,o,r,c,f,p)=>{const C=OT(e),E=on.extend(f||{},C);if(!L3(r)||e.removed)return null;const O=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:E,lastLevel:O,originalEvent:p}).isDefaultPrevented()||O&&P3(O,E))return null;n.data[o.get()]&&c.get().each(q=>{n.data[o.get()].beforeBookmark=q});const F=GE(e);if(F&&n.data.length>F){for(let q=0;q<n.data.length-1;q++)n.data[q]=n.data[q+1];n.data.length--,o.set(n.data.length)}E.bookmark=Av(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(E),o.set(n.data.length-1);const U={level:E,lastLevel:O,originalEvent:p};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",U),e.dispatch("change",U)):e.dispatch("AddUndo",U),E},uj=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},dj=(e,n,o,r,c)=>{if(n.transact(r)){const f=n.data[o.get()].bookmark,p=n.data[o.get()-1];DT(e,p,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=f)}},N3=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],DT(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},fj=(e,n,o,r)=>{let c;return n.typing&&(n.add(),n.typing=!1,RT(n,!1,o)),r.get()>0&&(r.set(r.get()-1),c=n.data[r.get()],DT(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},mj=e=>{e.clear(),e.add()},hj=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!P3(OT(e),n.data[0]),gj=(e,n)=>n.get()<e.data.length-1&&!e.typing,pj=(e,n,o)=>(h0(e,n),e.beforeChange(),e.ignore(o),e.add()),PT=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},ex=(e,n)=>{const o=e.dom,r=Ie(n)?n:e.getBody();Re(o.select("table,a",r),c=>{switch(c.nodeName){case"TABLE":const f=zv(e),p=o.getAttrib(c,"border");(!p||p==="0")&&e.hasVisual?o.addClass(c,f):o.removeClass(c,f);break;case"A":if(!o.getAttrib(c,"href")){const C=o.getAttrib(c,"name")||c.id,E=Z2(e);C&&e.hasVisual?o.addClass(c,E):o.removeClass(c,E)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},DB=e=>({init:{bindEvents:Nt},undoManager:{beforeChange:(n,o)=>AB(e,n,o),add:(n,o,r,c,f,p)=>OB(e,n,o,r,c,f,p),undo:(n,o,r)=>fj(e,n,o,r),redo:(n,o)=>N3(e,n,o),clear:(n,o)=>uj(e,n,o),reset:n=>mj(n),hasUndo:(n,o)=>hj(e,n,o),hasRedo:(n,o)=>gj(n,o),transact:(n,o,r)=>pj(n,o,r),ignore:(n,o)=>PT(n,o),extra:(n,o,r,c)=>dj(e,n,o,r,c)},formatter:{match:(n,o,r,c)=>OD(e,n,o,r,c),matchAll:(n,o)=>V9(e,n,o),matchNode:(n,o,r,c)=>sm(e,n,o,r,c),canApply:n=>DD(e,n),closest:n=>U9(e,n),apply:(n,o,r)=>dB(e,n,o,r),remove:(n,o,r,c)=>r5(e,n,o,r,c),toggle:(n,o,r)=>$W(e,n,o,r),formatChanged:(n,o,r,c,f)=>BW(e,n,o,r,c,f)},editor:{getContent:n=>Jte(e,n),setContent:(n,o)=>TW(e,n,o),insertContent:(n,o)=>EW(e,n,o),addVisual:n=>ex(e,n)},selection:{getContent:(n,o)=>EB(e,n,o)},autocompleter:{addDecoration:Nt,removeDecoration:Nt},raw:{getModel:()=>K.none()}}),By=e=>{const n=O=>Oe(O)?O:{},{init:o,undoManager:r,formatter:c,editor:f,selection:p,autocompleter:C,raw:E}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(O,F,U)=>r.transact(U),ignore:(O,F)=>r.ignore(F),extra:(O,F,U,q)=>r.extra(U,q)},formatter:{match:(O,F,U,q)=>c.match(O,n(F),q),matchAll:c.matchAll,matchNode:c.matchNode,canApply:O=>c.canApply(O),closest:O=>c.closest(O),apply:(O,F,U)=>c.apply(O,n(F)),remove:(O,F,U,q)=>c.remove(O,n(F)),toggle:(O,F,U)=>c.toggle(O,n(F)),formatChanged:(O,F,U,q,J)=>c.formatChanged(F,U,q,J)},editor:{getContent:O=>f.getContent(O),setContent:(O,F)=>({content:f.setContent(O,F),html:""}),insertContent:(O,F)=>(f.insertContent(O),""),addVisual:f.addVisual},selection:{getContent:(O,F)=>p.getContent(F)},autocompleter:{addDecoration:C.addDecoration,removeDecoration:C.removeDecoration},raw:{getModel:()=>K.some(E.getRawModel())}}},wd=()=>{const e=Qe(null),n=Qe("");return{init:{bindEvents:Nt},undoManager:{beforeChange:Nt,add:e,undo:e,redo:e,clear:Nt,reset:Nt,hasUndo:Tt,hasRedo:Tt,transact:e,ignore:Nt,extra:Nt},formatter:{match:Tt,matchAll:Qe([]),matchNode:Qe(void 0),canApply:Tt,closest:n,apply:Nt,remove:Nt,toggle:Nt,formatChanged:Qe({unbind:Nt})},editor:{getContent:n,setContent:Qe({content:"",html:""}),insertContent:Qe(""),addVisual:Nt},selection:{getContent:n},autocompleter:{addDecoration:Nt,removeDecoration:Nt},raw:{getModel:Qe(K.none())}}},Cd=e=>jn(e.plugins,"rtc"),rr=e=>Jo(e.plugins,"rtc").bind(n=>K.from(n.setup)),tx=e=>{const n=e;return rr(e).fold(()=>(n.rtcInstance=DB(e),K.none()),o=>(n.rtcInstance=wd(),K.some(()=>o().then(r=>(n.rtcInstance=By(r),r.rtc.isRemote)))))},LT=e=>e.rtcInstance?e.rtcInstance:DB(e),fa=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},NT=(e,n,o)=>{fa(e).undoManager.beforeChange(n,o)},I3=(e,n,o,r,c,f,p)=>fa(e).undoManager.add(n,o,r,c,f,p),B3=(e,n,o,r)=>fa(e).undoManager.undo(n,o,r),$3=(e,n,o)=>fa(e).undoManager.redo(n,o),F3=(e,n,o)=>{fa(e).undoManager.clear(n,o)},IT=(e,n)=>{fa(e).undoManager.reset(n)},H3=(e,n,o)=>fa(e).undoManager.hasUndo(n,o),RB=(e,n,o)=>fa(e).undoManager.hasRedo(n,o),MB=(e,n,o,r)=>fa(e).undoManager.transact(n,o,r),PB=(e,n,o)=>{fa(e).undoManager.ignore(n,o)},LB=(e,n,o,r,c)=>{fa(e).undoManager.extra(n,o,r,c)},NB=(e,n,o,r,c)=>fa(e).formatter.match(n,o,r,c),g0=(e,n,o)=>fa(e).formatter.matchAll(n,o),IB=(e,n,o,r,c)=>fa(e).formatter.matchNode(n,o,r,c),z3=(e,n)=>fa(e).formatter.canApply(n),vj=(e,n)=>fa(e).formatter.closest(n),bj=(e,n,o,r)=>{fa(e).formatter.apply(n,o,r)},BB=(e,n,o,r,c)=>{fa(e).formatter.remove(n,o,r,c)},$B=(e,n,o,r)=>{fa(e).formatter.toggle(n,o,r)},FB=(e,n,o,r,c,f)=>fa(e).formatter.formatChanged(n,o,r,c,f),BT=(e,n)=>LT(e).editor.getContent(n),HB=(e,n,o)=>LT(e).editor.setContent(n,o),zB=(e,n,o)=>LT(e).editor.insertContent(n,o),VB=(e,n,o)=>fa(e).selection.getContent(n,o),UB=(e,n)=>fa(e).editor.addVisual(n),V3=e=>fa(e).init.bindEvents(),WB=(e,n={})=>{const o=n.format?n.format:"html";return VB(e,o,n)},U3=(e,n,o)=>{if(jn(e,n)){const r=pe(e[n],c=>c!==o);r.length===0?delete e[n]:e[n]=r}};var jB=(e,n)=>{let o,r;const c=(C,E)=>rt(E,O=>e.is(O,C)),f=C=>e.getParents(C,void 0,e.getRoot()),p=()=>{o={},r={},n.on("NodeChange",C=>{const E=C.element,O=f(E),F={};cn(o,(U,q)=>{c(q,O).each(J=>{r[q]||(Re(U,ge=>{ge(!0,{node:J,selector:q,parents:O})}),r[q]=U),F[q]=U})}),cn(r,(U,q)=>{F[q]||(delete r[q],Re(U,J=>{J(!1,{node:E,selector:q,parents:O})}))})})};return{selectorChangedWithUnbind:(C,E)=>(o||p(),o[C]||(o[C]=[]),o[C].push(E),c(C,f(n.selection.getStart())).each(()=>{r[C]=o[C]}),{unbind:()=>{U3(o,C,E),U3(r,C,E)}})}};const W3=e=>!!(e&&e.ownerDocument)&&Rs(Ee.fromDom(e.ownerDocument),Ee.fromDom(e)),ZB=e=>e?W3(e.startContainer)&&W3(e.endContainer):!1,$T=(e,n,o,r)=>{let c,f;const{selectorChangedWithUnbind:p}=jB(e,r),C=(fn,no)=>{const Ts=e.createRng();Ie(fn)&&Ie(no)?(Ts.setStart(fn,no),Ts.setEnd(fn,no),lt(Ts),He(!1)):(Sy(e,Ts,r.getBody(),!0),lt(Ts))},E=fn=>WB(r,fn),O=(fn,no)=>p3(r,fn,no),F=fn=>U_(r.getBody(),Ye(),fn),U=fn=>W4(r.getBody(),Ye(),fn),q=(fn,no)=>qr.getBookmark(fn,no),J=fn=>qr.moveToBookmark(fn),ge=(fn,no)=>(qte(e,fn,no).each(lt),fn),fe=()=>{const fn=Ye(),no=ze();return!fn||fn.item?!1:fn.compareEndPoints?fn.compareEndPoints("StartToEnd",fn)===0:!no||fn.collapsed},de=()=>{if(r.mode.isReadOnly())return!1;const fn=Ye(),no=r.getBody().querySelectorAll('[data-mce-selected="1"]');return no.length>0?Zo(no,Ts=>e.isEditable(Ts.parentElement)):MN(e,fn)},He=fn=>{const no=Ye();no.collapse(!!fn),lt(no)},ze=()=>n.getSelection?n.getSelection():n.document.selection,Ye=()=>{let fn;const no=(Vs,Xn,gn)=>{try{return Xn.compareBoundaryPoints(Vs,gn)}catch{return-1}},Ts=n.document;if(Ie(r.bookmark)&&!o0(r)){const Vs=O4(r);if(Vs.isSome())return Vs.map(Xn=>j4(r,[Xn])[0]).getOr(Ts.createRange())}try{const Vs=ze();Vs&&!Kw(Vs.anchorNode)&&(Vs.rangeCount>0?fn=Vs.getRangeAt(0):fn=Ts.createRange(),fn=j4(r,[fn])[0])}catch{}if(fn||(fn=Ts.createRange()),ns(fn.startContainer)&&fn.collapsed){const Vs=e.getRoot();fn.setStart(Vs,0),fn.setEnd(Vs,0)}return c&&f&&(no(fn.START_TO_START,fn,c)===0&&no(fn.END_TO_END,fn,c)===0?fn=f:(c=null,f=null)),fn},lt=(fn,no)=>{if(!ZB(fn))return;const Ts=ze();if(fn=r.dispatch("SetSelectionRange",{range:fn,forward:no}).range,Ts){f=fn;try{Ts.removeAllRanges(),Ts.addRange(fn)}catch{}no===!1&&Ts.extend&&(Ts.collapse(fn.endContainer,fn.endOffset),Ts.extend(fn.startContainer,fn.startOffset)),c=Ts.rangeCount>0?Ts.getRangeAt(0):null}if(!fn.collapsed&&fn.startContainer===fn.endContainer&&(Ts!=null&&Ts.setBaseAndExtent)&&fn.endOffset-fn.startOffset<2&&fn.startContainer.hasChildNodes()){const Xn=fn.startContainer.childNodes[fn.startOffset];Xn&&Xn.nodeName==="IMG"&&(Ts.setBaseAndExtent(fn.startContainer,fn.startOffset,fn.endContainer,fn.endOffset),(Ts.anchorNode!==fn.startContainer||Ts.focusNode!==fn.endContainer)&&Ts.setBaseAndExtent(Xn,0,Xn,1))}r.dispatch("AfterSetSelectionRange",{range:fn,forward:no})},Ft=fn=>(xT(r,e.getOuterHTML(fn)),fn),vn=()=>UV(r.getBody(),Ye()),nn=(fn,no)=>Zte(e,Ye(),fn,no),Pt=()=>{const fn=ze(),no=fn==null?void 0:fn.anchorNode,Ts=fn==null?void 0:fn.focusNode;if(!fn||!no||!Ts||Kw(no)||Kw(Ts))return!0;const Vs=e.createRng(),Xn=e.createRng();try{Vs.setStart(no,fn.anchorOffset),Vs.collapse(!0),Xn.setStart(Ts,fn.focusOffset),Xn.collapse(!0)}catch{return!0}return Vs.compareBoundaryPoints(Vs.START_TO_START,Xn)<=0},Zr={dom:e,win:n,serializer:o,editor:r,expand:(fn={type:"word"})=>lt(Gm(e).expand(Ye(),fn)),collapse:He,setCursorLocation:C,getContent:E,setContent:O,getBookmark:q,moveToBookmark:J,select:ge,isCollapsed:fe,isEditable:de,isForward:Pt,setNode:Ft,getNode:vn,getSel:ze,setRng:lt,getRng:Ye,getStart:F,getEnd:U,getSelectedBlocks:nn,normalize:()=>{const fn=Ye(),no=ze();if(!w4(no)&&Xv(r)){const Ts=Oa(e,fn);return Ts.each(Vs=>{lt(Vs,Pt())}),Ts.getOr(fn)}return fn},selectorChanged:(fn,no)=>(p(fn,no),Zr),selectorChangedWithUnbind:p,getScrollContainer:()=>{let fn,no=e.getRoot();for(;no&&no.nodeName!=="BODY";){if(no.scrollHeight>no.clientHeight){fn=no;break}no=no.parentNode}return fn},scrollIntoView:(fn,no)=>{Ie(fn)?VV(r,fn,no):_C(r,Ye(),no)},placeCaretAt:(fn,no)=>lt(_N(fn,no,r.getDoc())),getBoundingClientRect:()=>{const fn=Ye();return fn.collapsed?Et.fromRangeStart(fn).getClientRects()[0]:fn.getBoundingClientRect()},destroy:()=>{n=c=f=null,tc.destroy()}},qr=tm(Zr),tc=EN(Zr,r);return Zr.bookmarkManager=qr,Zr.controlSelection=tc,Zr},qB=(e,n,o)=>{n.addNodeFilter("br",(r,c,f)=>{const p=on.extend({},o.getBlockElements()),C=o.getNonEmptyElements(),E=o.getWhitespaceElements();p.body=1;const O=F=>F.name in p||cv(o,F);for(let F=0,U=r.length;F<U;F++){let q=r[F],J=q.parent;if(J&&O(J)&&q===J.lastChild){let ge=q.prev;for(;ge;){const fe=ge.name;if(fe!=="span"||ge.attr("data-mce-type")!=="bookmark"){fe==="br"&&(q=null);break}ge=ge.prev}if(q&&(q.remove(),BC(o,C,E,J))){const fe=o.getElementRule(J.name);fe&&(fe.removeEmpty?J.remove():fe.paddEmpty&&ZD(e,f,O,J))}}else{let ge=q;for(;J&&J.firstChild===ge&&J.lastChild===ge&&(ge=J,!p[J.name]);)J=J.parent;if(ge===J){const fe=new il("#text",3);fe.value=Er,q.replace(fe)}}}})},GB=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,c)=>{let f=r.length;for(;f--;){const p=r[f];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(c,null)}}),e.addAttributeFilter("src,href,style",(r,c)=>{const f="data-mce-"+c,p=n.url_converter,C=n.url_converter_scope;let E=r.length;for(;E--;){const O=r[E];let F=O.attr(f);F!==void 0?(O.attr(c,F.length>0?F:null),O.attr(f,null)):(F=O.attr(c),c==="style"?F=o.serializeStyle(o.parseStyle(F),O.name):p&&(F=p.call(C,F,c,O.name)),O.attr(c,F.length>0?F:null))}}),e.addAttributeFilter("class",r=>{let c=r.length;for(;c--;){const f=r[c];let p=f.attr("class");p&&(p=p.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",(r,c,f)=>{let p=r.length;for(;p--;){const C=r[p];C.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(K.from(C.firstChild).exists(O=>{var F;return!Rb((F=O.value)!==null&&F!==void 0?F:"")})?C.unwrap():C.remove())}}),e.addNodeFilter("script,style",(r,c)=>{var f;const p=E=>E.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let C=r.length;for(;C--;){const E=r[C],O=E.firstChild,F=(f=O==null?void 0:O.value)!==null&&f!==void 0?f:"";if(c==="script"){const U=E.attr("type");U&&E.attr("type",U==="mce-no/type"?null:U.replace(/^mce\-/,"")),n.element_format==="xhtml"&&O&&F.length>0&&(O.value=`// <![CDATA[
`+p(F)+`
// ]]>`)}else n.element_format==="xhtml"&&O&&F.length>0&&(O.value=`<!--
`+p(F)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let c=r.length;for(;c--;){const f=r[c],p=f.value;n.preserve_cdata&&(p==null?void 0:p.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=o.decode(p.replace(/^\[CDATA\[|\]\]$/g,""))):(p==null?void 0:p.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(p).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,c)=>{let f=r.length;for(;f--;){const p=r[f];p.type===7?p.remove():p.type===1&&c==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{Re(r,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,c)=>{let f=r.length;for(;f--;)r[f].attr(c,null)}),n.remove_trailing_brs&&qB(n,e,e.schema)},KB=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},YB=(e,n,o)=>{let r;const c=e.dom;let f=n.cloneNode(!0);const p=document.implementation;if(p.createHTMLDocument){const C=p.createHTMLDocument("");on.each(f.nodeName==="BODY"?f.childNodes:[f],E=>{C.body.appendChild(C.importNode(E,!0))}),f.nodeName!=="BODY"?f=C.body.firstChild:f=C.body,r=c.doc,c.doc=C}return Qd(e,{...o,node:f}),r&&(c.doc=r),f},XB=(e,n)=>Ie(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,JB=(e,n,o)=>XB(e,o)?YB(e,n,o):n,QB=(e,n,o)=>{on.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,c)=>{let f=r.length;for(;f--;)r[f].attr(c,null)}),n.push(o))},j3=(e,n,o)=>!n.no_events&&e?RE(e,{...n,content:o}).content:o,FT=(e,n,o)=>{const r=tl(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||kl(Ee.fromDom(n))?r:on.trim(r)},e$=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(n,r);return KB(c),c},yj=(e,n,o)=>d1(e,n).serialize(o),t$=(e,n,o,r,c)=>{const f=yj(n,o,r);return j3(e,c,f)},HT=(e,n)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=n&&n.dom?n.dom:qs.DOM,f=n&&n.schema?n.schema:fd(r),p=op(r,f);GB(p,r,c);const C=(E,O={})=>{const{indent:F,entity_encoding:U,...q}=O,J={format:"html",...q},ge=JB(n,E,J),fe=FT(c,ge,J),de=e$(p,fe,J);if(J.format==="tree")return de;const He={...r,...Ie(F)?{indent:F}:{},...Ie(U)?{entity_encoding:U}:{}};return t$(n,He,f,de,J)};return{schema:f,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,serialize:C,addRules:f.addValidElements,setRules:f.setValidElements,addTempAttr:Ue(QB,p,o),getTempAttrs:Qe(o),getNodeFilters:p.getNodeFilters,getAttributeFilters:p.getAttributeFilters,removeNodeFilter:p.removeNodeFilter,removeAttributeFilter:p.removeAttributeFilter}},zT=(e,n)=>{const o=HT(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},nx="html",Z3=(e,n)=>({...e,format:n,get:!0,getInner:!0}),n$=(e,n={})=>{const o=n.format?n.format:nx,r=Z3(n,o);return f3(e,r).fold(ln,c=>{const f=BT(e,c);return yT(e,f,c)})},$y="html",q3=(e,n)=>({format:$y,...e,set:!0,content:n}),ox=(e,n,o={})=>{const r=q3(o,n);GC(e,r).each(c=>{const f=HB(e,c.content,c);wT(e,f.html,c)})},rp=qs.DOM,C1=e=>{rp.setStyle(e.id,"display",e.orgDisplay)},sx=e=>K.from(e).each(n=>n.destroy()),wj=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},Cj=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),rp.unbind(n,"submit reset",e.formEventDelegate))},o$=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),c=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ie(c==null?void 0:c.nextSibling)&&rp.remove(c.nextSibling),Fm(e),e.editorManager.remove(e),!e.inline&&r&&C1(e),vd(e),rp.remove(e.getContainer()),sx(n),sx(o),e.destroy()}},s$=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),sx(o),sx(r)),Cj(e),wj(e),e.destroyed=!0}},VT=(()=>{const e={};return{add:(c,f)=>{e[c]=f},get:c=>e[c]?e[c]:{icons:{}},has:c=>jn(e,c)}})(),uf=Ja.ModelManager,x1=(e,n)=>n.dom[e],G3=(e,n)=>parseInt(Qr(n,e),10),r$=Ue(x1,"clientWidth"),Sj=Ue(x1,"clientHeight"),Ej=Ue(G3,"margin-top"),_j=Ue(G3,"margin-left"),Nu=e=>e.dom.getBoundingClientRect(),cm=(e,n,o)=>{const r=r$(e),c=Sj(e);return n>=0&&o>=0&&n<=r&&o<=c},i$=(e,n,o,r)=>{const c=Nu(n),f=e?c.left+n.dom.clientLeft+_j(n):0,p=e?c.top+n.dom.clientTop+Ej(n):0,C=o-f,E=r-p;return{x:C,y:E}},K3=(e,n,o)=>{const r=Ee.fromDom(e.getBody()),c=e.inline?r:Si(r),f=i$(e.inline,c,n,o);return cm(c,f.x,f.y)},Y3=e=>K.from(e).map(Ee.fromDom),UT=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return Y3(n).map($s).getOr(!1)};var Tj=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const X3=e=>{const n=[],o=()=>{const q=e.theme;return q&&q.getNotificationManagerImpl?q.getNotificationManagerImpl():Tj()},r=()=>K.from(n[0]),c=(q,J)=>q.type===J.type&&q.text===J.text&&!q.progressBar&&!q.timeout&&!J.progressBar&&!J.timeout,f=()=>{r().each(q=>{q.reposition()})},p=q=>{n.push(q)},C=q=>{ao(n,J=>J===q).each(J=>{n.splice(J,1)})},E=(q,J=!0)=>e.removed||!UT(e)?{}:(J&&e.dispatch("BeforeOpenNotification",{notification:q}),rt(n,ge=>c(o().getArgs(ge),q)).getOrThunk(()=>{e.editorManager.setActive(e);const ge=o().open(q,()=>{C(ge)},()=>P4(e));return p(ge),f(),e.dispatch("OpenNotification",{notification:{...ge}}),ge})),O=()=>{r().each(q=>{o().close(q),C(q),f()})},F=Qe(n);return(q=>{q.on("SkinLoaded",()=>{const J=W2(q);J&&E({text:J,type:"warning",timeout:0},!1),f()}),q.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(f)}),q.on("remove",()=>{Re(n.slice(),J=>{o().close(J)})}),q.on("keydown",J=>{var ge;const fe=((ge=J.key)===null||ge===void 0?void 0:ge.toLowerCase())==="f12"||J.keyCode===123;J.altKey&&fe&&(J.preventDefault(),r().map(de=>Ee.fromDom(de.getEl())).each(de=>ig(de)))})})(e),{open:E,close:O,getNotifications:F}},Hh=Ja.PluginManager,p0=Ja.ThemeManager;var WT=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const jT=e=>{let n=[];const o=()=>{const de=e.theme;return de&&de.getWindowManagerImpl?de.getWindowManagerImpl():WT()},r=(de,He)=>(...ze)=>He?He.apply(de,ze):void 0,c=de=>{e.dispatch("OpenWindow",{dialog:de})},f=de=>{e.dispatch("CloseWindow",{dialog:de})},p=(de,He)=>{n.push({instanceApi:de,triggerElement:He}),c(de)},C=de=>{f(de);const He=_n(n,({instanceApi:ze,triggerElement:Ye})=>ze===de?Ye:K.none());n=pe(n,({instanceApi:ze})=>ze!==de),n.length===0?e.focus():He.filter($s).each(ig)},E=()=>K.from(n[n.length-1]),O=de=>{e.editorManager.setActive(e),xC(e);const He=Zl();e.ui.show();const ze=de();return p(ze,He),ze},F=(de,He)=>O(()=>o().open(de,He,C)),U=de=>O(()=>o().openUrl(de,C)),q=de=>{n.length!==0&&de.each(He=>ig(He))},J=(de,He,ze)=>{const Ye=Zl(),lt=o();lt.alert(de,r(ze||lt,()=>{q(Ye),He==null||He()}))},ge=(de,He,ze)=>{const Ye=Zl(),lt=o();lt.confirm(de,r(ze||lt,Ft=>{q(Ye),He==null||He(Ft)}))},fe=()=>{E().each(({instanceApi:de})=>{o().close(de),C(de)})};return e.on("remove",()=>{Re(n,({instanceApi:de})=>{o().close(de)})}),{open:F,openUrl:U,alert:J,confirm:ge,close:fe}},J3=(e,n)=>{e.notificationManager.open({type:"error",text:n})},S1=(e,n)=>{e._skinLoaded?J3(e,n):e.on("SkinLoaded",()=>{J3(e,n)})},kj=(e,n)=>{S1(e,hd.translate(["Failed to upload image: {0}",n]))},Fy=(e,n,o)=>{N2(e,n,{message:o}),console.error(o)},ru=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,Iu=(e,n,o)=>{Fy(e,"PluginLoadError",ru("plugin",n,o))},rx=(e,n,o)=>{Fy(e,"IconsLoadError",ru("icons",n,o))},Bu=(e,n,o)=>{Fy(e,"LanguageLoadError",ru("language",n,o))},Aj=(e,n,o)=>{Fy(e,"ThemeLoadError",ru("theme",n,o))},vr=(e,n,o)=>{Fy(e,"ModelLoadError",ru("model",n,o))},Oj=(e,n)=>{Fy(e,"LicenseKeyManagerLoadError",ru("license key manager",n))},ip=(e,n,o)=>{const r=hd.translate(["Failed to initialize plugin: {0}",n]);N2(e,"PluginLoadError",{message:r}),E1(r,o),S1(e,r)},E1=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},Q3=new WeakMap,eR=e=>{if(Q3.has(e))return;Q3.set(e,!0);const n=()=>{e.on("SwitchMode",r=>{const{mode:c}=r;c!=="readonly"&&e.mode.set("readonly")})},o=()=>{e.on("DisabledStateChange",r=>{const{state:c}=r;c||r.preventDefault()},!0)};e.initialized?(e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)):e.on("init",()=>{e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)}),o(),n()},ZT=(e,n)=>{const{type:o,message:r}=n;e.notificationManager.open({type:o,text:r})},Dj=e=>{switch(e){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;case"log":default:return console.log}},tR=e=>{Dj(e.type)(e.message)},nR=(e,n)=>{const{console:o,editor:r}=n;Ie(r)&&(e._skinLoaded?ZT(e,r):e.on("SkinLoaded",()=>{ZT(e,r)})),Ie(o)&&tR(o)},qT="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",oR="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",a$=e=>{const n="The editor is disabled because a TinyMCE license key has not been provided.";nR(e,{console:{type:"error",message:[`${n}`,oR,qT].join(" ")},editor:{type:"warning",message:`${n}`}})},GT=(e,n)=>{const o=`${n==="online"?"API":"license"} key`,r=`The editor is disabled because the TinyMCE ${o} could not be validated.`;nR(e,{console:{type:"error",message:[`${r}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${o} to be validated but could not be loaded.`,qT].join(" ")},editor:{type:"warning",message:`${r}`}})},c$=(e,n)=>{const o=`The "${n}" plugin requires a valid TinyMCE license key.`;nR(e,{console:{type:"error",message:[`${o}`,qT].join(" ")}})},l$="licensekeymanager",Mj=e=>oe(c_(e))?"online":"offline",Pj=e=>{var n;const o=(n=Wv(e))===null||n===void 0?void 0:n.toLowerCase();return o==="gpl"?"gpl":Je(o)?"no_key":"non_gpl"},u$=e=>{const n=Mj(e),o=Pj(e),r=new Set(Hg(e)).has(l$);return o!=="gpl"||n==="online"||r?{type:"use_plugin",onlineStatus:n,licenseKeyType:o,forcePlugin:r}:{type:"use_gpl",onlineStatus:n,licenseKeyType:o,forcePlugin:r}},d$=e=>({validate:n=>{const{plugin:o}=n;return oe(o)&&c$(e,o),Promise.resolve(!1)}}),Lj=e=>({validate:n=>{const{plugin:o}=n,r=oe(o);return r&&c$(e,o),Promise.resolve(!r)}}),KT="manager",f$=l$,YT=(()=>{const e=Ja();return{load:(c,f)=>{if(u$(c).type==="use_plugin"){const C=`plugins/${f$}/plugin${f}.js`;e.load(KT,C).catch(()=>{Oj(c,C)})}},add:c=>{e.add(KT,c)},init:c=>{const f=E=>{Object.defineProperty(c,"licenseKeyManager",{value:E,writable:!1,configurable:!1,enumerable:!0})},p=u$(c),C=e.get(KT);if(Ie(C)){const E=C(c,e.urls[KT]);f(E)}else switch(p.type){case"use_gpl":{f(Lj(c));break}case"use_plugin":{eR(c),f(d$(c)),p.onlineStatus==="offline"&&p.licenseKeyType==="no_key"?a$(c):GT(c,p.onlineStatus);break}}c.licenseKeyManager.validate({})}}})(),ix=e=>{K.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},sR=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},Nj=(e,n)=>{sR(e,"StyleWithCSS",n),sR(e,"enableInlineTableEditing",n),sR(e,"enableObjectResizing",n)},m$=e=>{e.selection.setRng(e.selection.getRng())},rR=(e,n,o)=>{Tp(e,n)&&!o?di(e,n):o&&Pc(e,n)},h$=e=>{const n=Ee.fromDom(e.getBody());rR(n,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),ix(e)},iR=e=>{const n=Ee.fromDom(e.getBody());rR(n,"mce-content-readonly",!1),e.hasEditableRoot()&&M(n,!0),Nj(e,!1),P4(e)&&e.focus(),m$(e),e.nodeChanged()},Ai=e=>jv(e),v0="data-mce-contenteditable",g$=e=>{Re(kt(e,'*[contenteditable="true"]'),n=>{$r(n,v0,"true"),M(n,!1)})},aR=e=>{Re(kt(e,`*[${v0}="true"]`),n=>{bi(n,v0),M(n,!0)})},XT=(e,n)=>{const o=Ee.fromDom(e.getBody());n?(h$(e),M(o,!1),g$(o)):(aR(o),iR(e))},p$=e=>{e.serializer?cR(e):e.on("PreInit",()=>{cR(e)})},cR=e=>{e.parser.addAttributeFilter("contenteditable",n=>{Ai(e)&&Re(n,o=>{o.attr(v0,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(v0,n=>{Ai(e)&&Re(n,o=>{o.attr("contenteditable",o.attr(v0))})}),e.serializer.addTempAttr(v0)},Ij=e=>e.type==="click",Bj=["copy"],v$=e=>ut(Bj,e.type),b$=(e,n)=>$a(n,"a",r=>Nn(r,Ee.fromDom(e.getBody()))).bind(r=>Cl(r,"href")),xd=(e,n)=>{if(Ij(n)&&!Dn.metaKeyPressed(n)){const o=Ee.fromDom(n.target);b$(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const c=e.dom.select(`${r},[name="${Pd(r,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else v$(n)&&e.dispatch(n.type,n)},$j=e=>{e.on("ShowCaret ObjectSelected",n=>{Ai(e)&&n.preventDefault()}),e.on("DisabledStateChange",n=>{n.isDefaultPrevented()||XT(e,n.state)})},Fj=e=>{p$(e),$j(e)},Sne=e=>/^[a-z0-9\-]+$/i.test(e),ax=e=>"content/"+e+"/content.css",Hj=e=>tinymce.Resource.has(ax(e)),Ene=e=>JT(e,z2(e)),zj=e=>JT(e,VE(e)),JT=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return Lt(n,f=>Hj(f)?f:Sne(f)&&!e.inline?`${o}/${f}/${c}`:e.documentBaseURI.toAbsolute(f))},lm=e=>{e.contentCSS=e.contentCSS.concat(Ene(e),zj(e))},lR=e=>e?bn(e.getElementsByTagName("img")):[],QT=(e,n)=>{const o={};return{findAll:(c,f=rn)=>{const p=pe(lR(c),E=>{const O=E.src;return E.hasAttribute("data-mce-bogus")||E.hasAttribute("data-mce-placeholder")||!O||O===fs.transparentSrc?!1:go(O,"blob:")?!e.isUploaded(O)&&f(E):go(O,"data:")?f(E):!1}),C=Lt(p,E=>{const O=E.src;if(jn(o,O))return o[O].then(F=>oe(F)?F:{image:E,blobInfo:F.blobInfo});{const F=_U(n,O).then(U=>(delete o[O],{image:E,blobInfo:U})).catch(U=>(delete o[O],U));return o[O]=F,F}});return Promise.all(C)}}},ek=()=>{let o={};const r=(q,J)=>({status:q,resultUri:J}),c=q=>q in o;return{hasBlobUri:c,getResultUri:q=>{const J=o[q];return J?J.resultUri:null},isPending:q=>c(q)?o[q].status===1:!1,isUploaded:q=>c(q)?o[q].status===2:!1,markPending:q=>{o[q]=r(1,null)},markUploaded:(q,J)=>{o[q]=r(2,J)},removeFailed:q=>{delete o[q]},destroy:()=>{o={}}}};let Vj=0;const uR=()=>{const e=()=>Math.round(kc()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},Uj=e=>e+Vj+++uR(),y$=()=>{let e=[];const n=U=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[U.toLowerCase()]||"dat",o=(U,q,J,ge,fe)=>{if(oe(U))return r({id:U,name:ge,filename:fe,blob:q,base64:J});if(Oe(U))return r(U);throw new Error("Unknown input type")},r=U=>{if(!U.blob||!U.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const q=U.id||Uj("blobid"),J=U.name||q,ge=U.blob;return{id:Qe(q),name:Qe(J),filename:Qe(U.filename||J+"."+n(ge.type)),blob:Qe(ge),base64:Qe(U.base64),blobUri:Qe(U.blobUri||URL.createObjectURL(ge)),uri:Qe(U.uri)}},c=U=>{p(U.id())||e.push(U)},f=U=>rt(e,U).getOrUndefined(),p=U=>f(q=>q.id()===U);return{create:o,add:c,get:p,getByUri:U=>f(q=>q.blobUri()===U),getByData:(U,q)=>f(J=>J.base64()===U&&J.blob().type===q),findFirst:f,removeByUri:U=>{e=pe(e,q=>q.blobUri()===U?(URL.revokeObjectURL(q.blobUri()),!1):!0)},destroy:()=>{Re(e,U=>{URL.revokeObjectURL(U.blobUri())}),e=[]}}},Wj=(e,n)=>{const o={},r=(fe,de)=>fe?fe.replace(/\/$/,"")+"/"+de.replace(/^\//,""):de,c=(fe,de)=>new Promise((He,ze)=>{const Ye=new XMLHttpRequest;Ye.open("POST",n.url),Ye.withCredentials=n.credentials,Ye.upload.onprogress=Ft=>{de(Ft.loaded/Ft.total*100)},Ye.onerror=()=>{ze("Image upload failed due to a XHR Transport error. Code: "+Ye.status)},Ye.onload=()=>{if(Ye.status<200||Ye.status>=300){ze("HTTP Error: "+Ye.status);return}const Ft=JSON.parse(Ye.responseText);if(!Ft||!oe(Ft.location)){ze("Invalid JSON: "+Ye.responseText);return}He(r(n.basePath,Ft.location))};const lt=new FormData;lt.append("file",fe.blob(),fe.filename()),Ye.send(lt)}),f=xe(n.handler)?n.handler:c,p=()=>new Promise(fe=>{fe([])}),C=(fe,de)=>({url:de,blobInfo:fe,status:!0}),E=(fe,de)=>({url:"",blobInfo:fe,status:!1,error:de}),O=(fe,de)=>{on.each(o[fe],He=>{He(de)}),delete o[fe]},F=(fe,de,He)=>(e.markPending(fe.blobUri()),new Promise(ze=>{let Ye,lt;try{const Ft=()=>{Ye&&(Ye.close(),lt=Nt)},vn=Pt=>{Ft(),e.markUploaded(fe.blobUri(),Pt),O(fe.blobUri(),C(fe,Pt)),ze(C(fe,Pt))},nn=Pt=>{Ft(),e.removeFailed(fe.blobUri()),O(fe.blobUri(),E(fe,Pt)),ze(E(fe,Pt))};lt=Pt=>{Pt<0||Pt>100||K.from(Ye).orThunk(()=>K.from(He).map(ho)).each(Ke=>{Ye=Ke,Ke.progressBar.value(Pt)})},de(fe,lt).then(vn,Pt=>{nn(oe(Pt)?{message:Pt}:Pt)})}catch(Ft){ze(E(fe,Ft))}})),U=fe=>fe===c,q=fe=>{const de=fe.blobUri();return new Promise(He=>{o[de]=o[de]||[],o[de].push(He)})},J=(fe,de)=>(fe=on.grep(fe,He=>!e.isUploaded(He.blobUri())),Promise.all(on.map(fe,He=>e.isPending(He.blobUri())?q(He):F(He,f,de))));return{upload:(fe,de)=>!n.url&&U(f)?p():J(fe,de)}},w$=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),tk=(e,n)=>Wj(n,{url:cN(e),basePath:Mv(e),credentials:zO(e),handler:lN(e)}),jj=e=>{const n=ek(),o=tk(e,n);return{upload:(r,c=!0)=>o.upload(r,c?w$(e):void 0)}},C$=(e,n)=>e.dom.isEmpty(n.dom)&&Ie(e.schema.getTextBlockElements()[ko(n)]),Zj=e=>n=>{C$(e,n)&&xs(n,Ee.fromHtml('<br data-mce-bogus="1" />'))},b0=e=>{const n=y$();let o,r;const c=ek(),f=[],p=Ye=>lt=>e.selection?Ye(lt):[],C=Ye=>Ye+(Ye.indexOf("?")===-1?"?":"&")+new Date().getTime(),E=(Ye,lt,Ft)=>{let vn=0;do vn=Ye.indexOf(lt,vn),vn!==-1&&(Ye=Ye.substring(0,vn)+Ft+Ye.substr(vn+lt.length),vn+=Ft.length-lt.length+1);while(vn!==-1);return Ye},O=(Ye,lt,Ft)=>{const vn=`src="${Ft}"${Ft===fs.transparentSrc?' data-mce-placeholder="1"':""}`;return Ye=E(Ye,`src="${lt}"`,vn),Ye=E(Ye,'data-mce-src="'+lt+'"','data-mce-src="'+Ft+'"'),Ye},F=(Ye,lt)=>{Re(e.undoManager.data,Ft=>{Ft.type==="fragmented"?Ft.fragments=Lt(Ft.fragments,vn=>O(vn,Ye,lt)):Ft.content=O(Ft.content,Ye,lt)})},U=(Ye,lt)=>{const Ft=e.convertURL(lt,"src");F(Ye.src,lt),xa(Ee.fromDom(Ye),{src:ps(e)?C(lt):lt,"data-mce-src":Ft})},q=()=>(o||(o=tk(e,c)),de().then(p(Ye=>{const lt=Lt(Ye,Ft=>Ft.blobInfo);return o.upload(lt,w$(e)).then(p(Ft=>{const vn=[];let nn=!1;const Pt=Lt(Ft,(Ke,Ce)=>{const{blobInfo:dt,image:tn}=Ye[Ce];let Qn=!1;return Ke.status&&iN(e)?(Ke.url&&!xr(tn.src,Ke.url)&&(nn=!0),n.removeByUri(tn.src),Cd(e)||U(tn,Ke.url)):Ke.error&&(Ke.error.remove&&(F(tn.src,fs.transparentSrc),vn.push(tn),Qn=!0),kj(e,Ke.error.message)),{element:tn,status:Ke.status,uploadUri:Ke.url,blobInfo:dt,removed:Qn}});return vn.length>0&&!Cd(e)?e.undoManager.transact(()=>{Re(Of(vn),Ke=>{const Ce=ac(Ke);or(Ke),Ce.each(Zj(e)),n.removeByUri(Ke.dom.src)})}):nn&&e.undoManager.dispatchChange(),Pt}))}))),J=()=>Fg(e)?q():Promise.resolve([]),ge=Ye=>Zo(f,lt=>lt(Ye)),fe=Ye=>{f.push(Ye)},de=()=>(r||(r=QT(c,n)),r.findAll(e.getBody(),ge).then(p(Ye=>{const lt=pe(Ye,Ft=>oe(Ft)?(S1(e,Ft),!1):Ft.uriType!=="blob");return Cd(e)||Re(lt,Ft=>{F(Ft.image.src,Ft.blobInfo.blobUri()),Ft.image.src=Ft.blobInfo.blobUri(),Ft.image.removeAttribute("data-mce-src")}),lt}))),He=()=>{n.destroy(),c.destroy(),r=o=null},ze=Ye=>Ye.replace(/src="(blob:[^"]+)"/g,(lt,Ft)=>{const vn=c.getResultUri(Ft);if(vn)return'src="'+vn+'"';let nn=n.getByUri(Ft);return nn||(nn=Ht(e.editorManager.get(),(Pt,Ke)=>Pt||Ke.editorUpload&&Ke.editorUpload.blobCache.getByUri(Ft),void 0)),nn?'src="data:'+nn.blob().type+";base64,"+nn.base64()+'"':lt});return e.on("SetContent",()=>{Fg(e)?J():de()}),e.on("RawSaveContent",Ye=>{Ye.content=ze(Ye.content)}),e.on("GetContent",Ye=>{Ye.source_view||Ye.format==="raw"||Ye.format==="tree"||(Ye.content=ze(Ye.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Ye=>{Re(Ye,lt=>{const Ft=lt.attr("src");if(!Ft||n.getByUri(Ft))return;const vn=c.getResultUri(Ft);vn&&lt.attr("src",vn)})})}),{blobCache:n,addFilter:fe,uploadImages:q,uploadImagesAuto:J,scanForImages:de,destroy:He}},x$=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},p={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[p,c,f]:[c,p,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,f,p)=>qn(c)&&c.hasAttribute("href"),onformat:(c,f,p)=>{on.each(p,(C,E)=>{n.setAttrib(c,E,C)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var f;return(f=c==null?void 0:c.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return on.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),c=>{r[c]={block:c,remove:"all"}}),r},S$={remove_similar:!0,inherit:!1},y0={selector:"td,th",...S$},qj={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...y0},tablecellverticalalign:{styles:{"vertical-align":"%value"},...y0},tablecellbordercolor:{styles:{borderColor:"%value"},...y0},tablecellclass:{classes:["%value"],...y0},tableclass:{selector:"table",classes:["%value"],...S$},tablecellborderstyle:{styles:{borderStyle:"%value"},...y0},tablecellborderwidth:{styles:{borderWidth:"%value"},...y0}},Gj=Qe(qj),Kj=e=>{const n={},o=p=>Ie(p)?n[p]:n,r=p=>jn(n,p),c=(p,C)=>{p&&(oe(p)?(Xe(C)||(C=[C]),Re(C,E=>{ht(E.deep)&&(E.deep=!En(E)),ht(E.split)&&(E.split=!En(E)||dn(E)),ht(E.remove)&&En(E)&&!dn(E)&&(E.remove="none"),En(E)&&dn(E)&&(E.mixed=!0,E.block_expand=!0),oe(E.classes)&&(E.classes=E.classes.split(/\s+/))}),n[p]=C):cn(p,(E,O)=>{c(O,E)}))},f=p=>(p&&n[p]&&delete n[p],n);return c(x$(e)),c(Gj()),c(WO(e)),{get:o,has:r,register:c,unregister:f}},nk=on.each,df=qs.DOM,ok=e=>Ie(e)&&Oe(e),E$=(e,n)=>{const o=n&&n.schema||fd({}),r=(E,O)=>{O.classes.length>0&&df.addClass(E,O.classes.join(" ")),df.setAttribs(E,O.attrs)},c=E=>{const O=oe(E)?{name:E,classes:[],attrs:{}}:E,F=df.create(O.name);return r(F,O),F},f=(E,O)=>{const F=o.getElementRule(E.nodeName.toLowerCase()),U=F==null?void 0:F.parentsRequired;return U&&U.length?O&&ut(U,O)?O:U[0]:!1},p=(E,O,F)=>{let U;const q=O[0],J=ok(q)?q.name:void 0,ge=f(E,J);if(ge)J===ge?(U=q,O=O.slice(1)):U=ge;else if(q)U=q,O=O.slice(1);else if(!F)return E;const fe=U?c(U):df.create("div");fe.appendChild(E),F&&on.each(F,He=>{const ze=c(He);fe.insertBefore(ze,E)});const de=ok(U)?U.siblings:void 0;return p(fe,O,de)},C=df.create("div");if(e.length>0){const E=e[0],O=c(E),F=ok(E)?E.siblings:void 0;C.appendChild(p(O,e.slice(1),F))}return C},dR=e=>{e=on.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,c,f,p,C)=>{switch(c){case"#":o.attrs.id=f;break;case".":o.classes.push(f);break;case":":on.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(o.attrs[f]=f);break}if(p==="["){const E=C.match(/([\w\-]+)(?:\=\"([^\"]+))?/);E&&(o.attrs[E[1]]=E[2])}return""})),o.name=n||"div",o},_1=e=>oe(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),on.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=on.map(n.split(/(?:~\+|~|\+)/),dR),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],Yj=(e,n)=>{let o="",r=Nv(e);if(r==="")return"";const c=q=>oe(q)?q.replace(/%(\w+)/g,""):"",f=(q,J)=>df.getStyle(J??e.getBody(),q,!0);if(oe(n)){const q=e.formatter.get(n);if(!q)return"";n=q[0]}if("preview"in n){const q=n.preview;if(q===!1)return"";r=q||r}let p=n.block||n.inline||"span",C;const E=_1(n.selector);E.length>0?(E[0].name||(E[0].name=p),p=n.selector,C=E$(E,e)):C=E$([p],e);const O=df.select(p,C)[0]||C.firstChild;nk(n.styles,(q,J)=>{const ge=c(q);ge&&df.setStyle(O,J,ge)}),nk(n.attributes,(q,J)=>{const ge=c(q);ge&&df.setAttrib(O,J,ge)}),nk(n.classes,q=>{const J=c(q);df.hasClass(O,J)||df.addClass(O,J)}),e.dispatch("PreviewFormats"),df.setStyles(C,{position:"absolute",left:-65535}),e.getBody().appendChild(C);const F=f("fontSize"),U=/px$/.test(F)?parseInt(F,10):0;return nk(r.split(" "),q=>{let J=f(q,O);if(!(q==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(J)&&(J=f(q),_g(J).toLowerCase()==="#ffffff"))&&!(q==="color"&&_g(J).toLowerCase()==="#000000")){if(q==="font-size"&&/em|%$/.test(J)){if(U===0)return;J=parseFloat(J)/(/%$/.test(J)?100:1)*U+"px"}q==="border"&&J&&(o+="padding:0 2px;"),o+=q+":"+J+";"}}),e.dispatch("AfterPreviewFormats"),df.remove(C),o},Xj=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Hy=e=>{const n=Kj(e),o=Un({});return Xj(e),X9(e),Cd(e)||_T(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,c,f)=>{bj(e,r,c,f)},remove:(r,c,f,p)=>{BB(e,r,c,f,p)},toggle:(r,c,f)=>{$B(e,r,c,f)},match:(r,c,f,p)=>NB(e,r,c,f,p),closest:r=>vj(e,r),matchAll:(r,c)=>g0(e,r,c),matchNode:(r,c,f,p)=>IB(e,r,c,f,p),canApply:r=>z3(e,r),formatChanged:(r,c,f,p)=>FB(e,o,r,c,f,p),getCssText:Ue(Yj,e)}},fR=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},_$=(e,n,o)=>{const r=Un(!1),c=E=>{RT(n,!1,o),n.add({},E)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",E=>{const O=E.command;fR(O)||(h0(n,o),n.beforeChange())}),e.on("ExecCommand",E=>{const O=E.command;fR(O)||c(E)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",E=>{const O=E.keyCode;if(E.isDefaultPrevented())return;const F=fs.os.isMacOS()&&E.key==="Meta";(O>=33&&O<=36||O>=37&&O<=40||O===45||E.ctrlKey||F)&&(c(),e.nodeChanged()),(O===46||O===8)&&e.nodeChanged(),r.get()&&n.typing&&!P3(OT(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",E=>{const O=E.keyCode;if(E.isDefaultPrevented())return;if(O>=33&&O<=36||O>=37&&O<=40||O===45){n.typing&&c(E);return}const F=E.ctrlKey&&!E.altKey||E.metaKey;if((O<16||O>20)&&O!==224&&O!==91&&!n.typing&&!F){n.beforeChange(),RT(n,!0,o),n.add({},E),r.set(!0);return}(fs.os.isMacOS()?E.metaKey:E.ctrlKey&&!E.altKey)&&n.beforeChange()}),e.on("mousedown",E=>{n.typing&&c(E)});const f=E=>E.inputType==="insertReplacementText",p=E=>E.inputType==="insertText"&&E.data===null,C=E=>E.inputType==="insertFromPaste"||E.inputType==="insertFromDrop";e.on("input",E=>{E.inputType&&(f(E)||p(E)||C(E))&&c(E)}),e.on("AddUndo Undo Redo ClearUndos",E=>{E.isDefaultPrevented()||e.nodeChanged()})},T$=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},cx=e=>{const n=pa(),o=Un(0),r=Un(0),c={data:[],typing:!1,beforeChange:()=>{NT(e,o,n)},add:(f,p)=>I3(e,c,r,o,n,f,p),dispatchChange:()=>{e.setDirty(!0);const f=OT(e);f.bookmark=Av(e.selection),e.dispatch("change",{level:f,lastLevel:tt(c.data,r.get()).getOrUndefined()})},undo:()=>B3(e,c,o,r),redo:()=>$3(e,r,c.data),clear:()=>{F3(e,c,r)},reset:()=>{IT(e,c)},hasUndo:()=>H3(e,c,r),hasRedo:()=>RB(e,c,r),transact:f=>MB(e,c,o,f),ignore:f=>{PB(e,o,f)},extra:(f,p)=>{LB(e,c,r,f,p)}};return Cd(e)||_$(e,c,o),T$(e),c},k$=[9,27,Dn.HOME,Dn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Dn.DOWN,Dn.UP,Dn.LEFT,Dn.RIGHT].concat(fs.browser.isFirefox()?[224]:[]),A$="data-mce-placeholder",mR=e=>e.type==="keydown"||e.type==="keyup",O$=e=>{const n=e.keyCode;return n===Dn.BACKSPACE||n===Dn.DELETE},Jj=e=>{if(mR(e)){const n=e.keyCode;return!O$(e)&&(Dn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||ut(k$,n))}else return!1},sk=e=>mR(e)&&!(O$(e)||e.type==="keyup"&&e.keyCode===229),D$=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},R$=e=>{var n;const o=e.dom,r=Ua(e),c=(n=WE(e))!==null&&n!==void 0?n:"",f=(p,C)=>{if(Jj(p))return;const E=e.getBody(),O=sk(p)?!1:D$(o,E,r);(o.getAttrib(E,A$)!==""!==O||C)&&(o.setAttrib(E,A$,O?c:null),NO(e,O),e.on(O?"keydown":"keyup",f),e.off(O?"keyup":"keydown",f))};Ws(c)&&e.on("init",p=>{f(p,!0),e.on("change SetContent ExecCommand",f),e.on("paste",C=>af.setEditorTimeout(e,()=>f(C)))})},rk=e=>n=>Ie(n)&&n.nodeName.toLowerCase()===e,ik=e=>n=>Ie(n)&&e.test(n.nodeName),zh=e=>Ie(e)&&e.nodeType===3,M$=e=>Ie(e)&&e.nodeType===1,Sd=ik(/^(OL|UL|DL)$/),hR=ik(/^(OL|UL)$/),ak=ik(/^(LI|DT|DD)$/),P$=ik(/^(DT|DD)$/),w0=rk("br"),Qj=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},gR=(e,n)=>Ie(n)&&n.nodeName in e.schema.getTextBlockElements(),C0=(e,n)=>Ie(e)&&e.nodeName in n,Jm=(e,n)=>Ie(n)&&n.nodeName in e.schema.getVoidElements(),eZ=(e,n)=>w0(n)?e.isBlock(n.nextSibling)&&!w0(n.previousSibling):!1,ap=(e,n,o)=>{const r=e.isEmpty(n);return o&&e.select("span[data-mce-type=bookmark]",n).length>0?!1:r},oi=(e,n)=>e.isChildOf(n,e.getRoot()),ck=qs.DOM,lk=(e,n)=>{const o=n.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===n){const r=o.previousSibling;r&&r.nodeName==="LI"?(r.appendChild(n),ap(e,o)&&ck.remove(o)):ck.setStyle(o,"listStyleType","none")}if(Sd(o)){const r=o.previousSibling;r&&r.nodeName==="LI"&&r.appendChild(n)}},Qm=(e,n)=>{const o=on.grep(e.select("ol,ul",n));on.each(o,r=>{lk(e,r)})},pR=(e,n)=>{if(zh(e))return{container:e,offset:n};const o=Gm.getNode(e,n);return zh(o)?{container:o,offset:n>=e.childNodes.length?o.data.length:0}:o.previousSibling&&zh(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&zh(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:n}},lx=e=>{const n=e.cloneRange(),o=pR(e.startContainer,e.startOffset);n.setStart(o.container,o.offset);const r=pR(e.endContainer,e.endOffset);return n.setEnd(r.container,r.offset),n},L$=["OL","UL","DL"],x0=L$.join(","),ux=(e,n)=>{const o=e.selection.getStart(!0);return e.dom.getParent(o,x0,eh(e,o))},tZ=(e,n)=>Ie(e)&&n.length===1&&n[0]===e,zy=e=>pe(e.querySelectorAll(x0),Sd),nZ=e=>{const n=ux(e),o=e.selection.getSelectedBlocks();return tZ(n,o)?zy(n):pe(o,r=>Sd(r)&&n!==r)},S0=(e,n)=>{const o=on.map(n,r=>{const c=e.dom.getParent(r,"li,dd,dt",eh(e,r));return c||r});return zn(o)},vR=e=>{const n=e.selection.getSelectedBlocks();return pe(S0(e,n),ak)},T1=e=>pe(vR(e),P$),bR=(e,n)=>{const o=e.dom.getParents(n,"TD,TH");return o.length>0?o[0]:e.getBody()},ff=(e,n)=>!Sd(n)&&!ak(n)&&Xt(L$,o=>e.isValidChild(n.nodeName,o)),eh=(e,n)=>{const o=e.dom.getParents(n,e.dom.isBlock),r=f=>f.nodeName.toLowerCase()!==Ua(e);return rt(o,f=>r(f)&&ff(e.schema,f)).getOr(e.getBody())},oZ=e=>ac(e).exists(n=>ak(n.dom)&&ji(n).exists(o=>!Sd(o.dom))&&ci(n).exists(o=>!Sd(o.dom))),Vy=(e,n)=>{const o=e.dom.getParents(n,"ol,ul",eh(e,n));return bt(o)},yR=e=>{const n=Vy(e,e.selection.getStart()),o=pe(e.selection.getSelectedBlocks(),hR);return n.toArray().concat(o)},sZ=e=>{const n=e.selection.getStart();return e.dom.getParents(n,"ol,ul",eh(e,n))},Uy=e=>{const n=yR(e),o=sZ(e);return rt(o,r=>oZ(Ee.fromDom(r))).fold(()=>rZ(e,n),r=>[r])},rZ=(e,n)=>{const o=Lt(n,r=>Vy(e,r).getOr(r));return zn(o)},$u=e=>/\btox\-/.test(e.className),dx=(e,n)=>n!==null&&!e.dom.isEditable(n),N$=e=>{const n=ux(e);return dx(e,n)||!e.selection.isEditable()},fx=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return dx(e,o)||!e.selection.isEditable()},cp=(e,n,o)=>e.dispatch("ListMutation",{action:n,element:o}),k1=(e,n,o={})=>{const r=e.dom,c=e.schema.getBlockElements(),f=r.createFragment(),p=Ua(e),C=Qp(e);let E,O,F=!1;for(O=r.create(p,{...C,...o.style?{style:o.style}:{}}),C0(n.firstChild,c)||f.appendChild(O);E=n.firstChild;){const U=E.nodeName;!F&&(U!=="SPAN"||E.getAttribute("data-mce-type")!=="bookmark")&&(F=!0),C0(E,c)?(f.appendChild(E),O=null):(O||(O=r.create(p,C),f.appendChild(O)),O.appendChild(E))}return!F&&O&&O.appendChild(r.create("br",{"data-mce-bogus":"1"})),f},E0=e=>Ui(e,"OL,UL"),iZ=e=>Ui(e,"LI"),I$=e=>ji(e).exists(E0),aZ=e=>ci(e).exists(E0),cZ=(e,n)=>l_(e).map(o=>o>=n).getOr(!0),_0=e=>"listAttributes"in e,B$=e=>"isComment"in e,Wy=e=>"isFragment"in e,um=e=>e.depth>0,lZ=e=>e.isSelected,uZ=e=>{const n=Hr(e),o=aZ(e)?n.slice(0,-1):n;return Lt(o,td)},dZ=(e,n,o)=>ac(e).filter(Ur).map(r=>({depth:n,dirty:!1,isSelected:o,content:uZ(e),itemAttributes:os(e),listAttributes:os(r),listType:ko(r),isInPreviousLi:!1})),$$=(e,n)=>{xs(e.item,n.list)},fZ=e=>{for(let n=1;n<e.length;n++)$$(e[n-1],e[n])},mZ=(e,n)=>{Gr(bt(e),gt(n),$$)},hZ=(e,n)=>{const o={list:Ee.fromTag(n,e),item:Ee.fromTag("li",e)};return xs(o.list,o.item),o},gZ=(e,n,o)=>{const r=[];for(let c=0;c<o;c++)r.push(hZ(e,_0(n)?n.listType:n.parentListType));return r},pZ=(e,n)=>{for(let o=0;o<e.length-1;o++)Ia(e[o].item,"list-style-type","none");bt(e).each(o=>{_0(n)&&(xa(o.list,n.listAttributes),xa(o.item,n.itemAttributes)),wl(o.item,n.content)})},_ne=(e,n)=>{ko(e.list)!==n.listType&&(e.list=$d(e.list,n.listType)),xa(e.list,n.listAttributes)},vZ=(e,n,o)=>{const r=Ee.fromTag("li",e);return xa(r,n),wl(r,o),r},bZ=(e,n)=>{xs(e.list,n),e.item=n},F$=(e,n,o)=>{const r=n.slice(0,o.depth);return bt(r).each(c=>{if(_0(o)){const f=vZ(e,o.itemAttributes,o.content);bZ(c,f),_ne(c,o)}else if(Wy(o))wl(c.item,o.content);else{const f=Ee.fromHtml(`<!--${o.content}-->`);xs(c.list,f)}}),r},yZ=(e,n,o)=>{const r=gZ(e,o,o.depth-n.length);return fZ(r),pZ(r,o),mZ(n,r),n.concat(r)},wZ=(e,n)=>{let o=K.none();const r=Ht(n,(c,f,p)=>B$(f)?p===0?(o=K.some(f),c):F$(e,c,f):f.depth>c.length?yZ(e,c,f):F$(e,c,f),[]);return o.each(c=>{const f=Ee.fromHtml(`<!--${c.content}-->`);gt(r).each(p=>{ed(p.list,f)})}),gt(r).map(c=>c.list)},CZ=(e,n,o)=>{switch(n){case"Indent":if(cZ(e,o.depth))o.depth++;else return;break;case"Outdent":o.depth--;break;case"Flatten":o.depth=0}o.dirty=!0},A1=(e,n)=>{_0(e)&&_0(n)&&(e.listType=n.listType,e.listAttributes={...n.listAttributes})},xZ=e=>{e.listAttributes=si(e.listAttributes,(n,o)=>o!=="start")},SZ=(e,n)=>{const o=e[n].depth,r=f=>f.depth===o&&!f.dirty,c=f=>f.depth<o;return st(Vo(e.slice(0,n)),r,c).orThunk(()=>st(e.slice(n+1),r,c))},uk=e=>(Re(e,(n,o)=>{SZ(e,o).fold(()=>{n.dirty&&_0(n)&&xZ(n)},r=>A1(n,r))}),e),wR=(e,n,o,r)=>{var c;if(Jr(r))return[{depth:e+1,content:(c=r.dom.nodeValue)!==null&&c!==void 0?c:"",dirty:!1,isSelected:!1,isComment:!0}];n.each(C=>{Nn(C.start,r)&&o.set(!0)});const f=dZ(r,e,o.get());n.each(C=>{Nn(C.end,r)&&o.set(!1)});const p=ci(r).filter(E0).map(C=>dk(e,n,o,C)).getOr([]);return f.toArray().concat(p)},CR=(e,n,o,r)=>ji(r).filter(E0).fold(()=>wR(e,n,o,r),c=>{const f=Ht(Hr(r),(p,C,E)=>{if(E===0)return p;if(iZ(C))return p.concat(wR(e,n,o,C));{const O={isFragment:!0,depth:e,content:[C],isSelected:!1,dirty:!1,parentListType:ko(c)};return p.concat(O)}},[]);return dk(e,n,o,c).concat(f)}),dk=(e,n,o,r)=>Rn(Hr(r),c=>{const f=E0(c)?dk:CR,p=e+1;return f(p,n,o,c)}),EZ=(e,n)=>{const o=Un(!1),r=0;return Lt(e,c=>({sourceList:c,entries:dk(r,n,o,c)}))},_Z=(e,n)=>{const o=uk(n);return Lt(o,r=>{const c=B$(r)?Rf([Ee.fromHtml(`<!--${r.content}-->`)]):Rf(r.content),f=_0(r)?r.itemAttributes:{};return Ee.fromDom(k1(e,c.dom,f))})},TZ=(e,n)=>{const o=uk(n);return wZ(e.contentDocument,o).toArray()},kZ=(e,n)=>Rn(at(n,um),o=>gt(o).exists(um)?TZ(e,o):_Z(e,o)),AZ=(e,n,o)=>{Re(pe(n,lZ),r=>CZ(e,o,r))},OZ=e=>{const n=Lt(vR(e),Ee.fromDom);return Gr(rt(n,Pn(I$)),rt(Vo(n),Pn(I$)),(o,r)=>({start:o,end:r}))},DZ=(e,n,o)=>{const r=EZ(n,OZ(e));Re(r,c=>{AZ(e,c.entries,o);const f=kZ(e,c.entries);Re(f,p=>{cp(e,o==="Indent"?"IndentList":"OutdentList",p.dom)}),X0(c.sourceList,f),or(c.sourceList)})},RZ=e=>l_(e).forall(n=>{const o=e.selection.getSelectedBlocks();return Xt(o,r=>$a(Ee.fromDom(r),"li").forall(c=>Fe(c,"ol,ul").length<=n))}),O1=qs.DOM,MZ=(e,n,o)=>{const r=O=>{const F=O.parentNode;F&&on.each(c,U=>{F.insertBefore(U,o.parentNode)}),O1.remove(O)},c=O1.select('span[data-mce-type="bookmark"]',n),f=k1(e,o),p=O1.createRng();p.setStartAfter(o),p.setEndAfter(n);const C=p.extractContents();for(let O=C.firstChild;O;O=O.firstChild)if(O.nodeName==="LI"&&e.dom.isEmpty(O)){O1.remove(O);break}e.dom.isEmpty(C)||O1.insertAfter(C,n),O1.insertAfter(f,n);const E=o.parentElement;E&&ap(e.dom,E)&&r(E),O1.remove(o),ap(e.dom,n)&&O1.remove(n)},PZ=vi("dd"),H$=vi("dt"),LZ=(e,n)=>{PZ(n)?$d(n,"dt"):H$(n)&&Xc(n).each(o=>MZ(e,o.dom,n.dom))},NZ=e=>{H$(e)&&$d(e,"dd")},IZ=(e,n,o)=>{n==="Indent"?Re(o,NZ):Re(o,r=>LZ(e,r))},BZ=(e,n)=>{const o=Of(Uy(e)),r=Of(T1(e));let c=!1;if(o.length||r.length){const f=e.selection.getBookmark();DZ(e,o,n),IZ(e,n,r),e.selection.moveToBookmark(f),e.selection.setRng(lx(e.selection.getRng())),e.nodeChanged(),c=!0}return c},xR=(e,n)=>!N$(e)&&BZ(e,n),z$=e=>xR(e,"Indent"),SR=e=>xR(e,"Outdent"),mx=e=>xR(e,"Flatten"),jy=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},$Z=(e,n,o)=>{const r=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(n,"list-style-type",r)},V$=(e,n)=>{on.each(n,(o,r)=>{e.setAttribute(r,o)})},FZ=(e,n,o)=>{V$(n,o["list-attributes"]),on.each(e.select("li",n),r=>{V$(r,o["list-item-attributes"])})},Zy=(e,n,o)=>{$Z(e,n,o),FZ(e,n,o)},HZ=(e,n,o)=>{on.each(o,r=>e.setStyle(n,r,""))},fk=(e,n)=>Ie(n)&&!C0(n,e.schema.getBlockElements()),ER=(e,n,o,r)=>{let c=n[o?"startContainer":"endContainer"];const f=n[o?"startOffset":"endOffset"];M$(c)&&(c=c.childNodes[Math.min(f,c.childNodes.length-1)]||c),!o&&w0(c.nextSibling)&&(c=c.nextSibling);const p=E=>{for(;!e.dom.isBlock(E)&&E.parentNode&&r!==E;)E=E.parentNode;return E},C=(E,O)=>{var F;const U=new fr(E,p(E)),q=O?"next":"prev";let J;for(;J=U[q]();)if(!(Jm(e,J)||ba(J.textContent)||((F=J.textContent)===null||F===void 0?void 0:F.length)===0))return K.some(J);return K.none()};if(o&&zh(c))if(ba(c.textContent))c=C(c,!1).getOr(c);else for(c.parentNode!==null&&fk(e,c.parentNode)&&(c=c.parentNode);c.previousSibling!==null&&(fk(e,c.previousSibling)||zh(c.previousSibling));)c=c.previousSibling;if(!o&&zh(c))if(ba(c.textContent))c=C(c,!0).getOr(c);else for(c.parentNode!==null&&fk(e,c.parentNode)&&(c=c.parentNode);c.nextSibling!==null&&(fk(e,c.nextSibling)||zh(c.nextSibling));)c=c.nextSibling;for(;c.parentNode!==r;){const E=c.parentNode;if(gR(e,c)||/^(TD|TH)$/.test(E.nodeName))return c;c=E}return c},U$=(e,n,o)=>{const r=[],c=e.dom,f=ER(e,n,!0,o),p=ER(e,n,!1,o);let C;const E=[];for(let O=f;O&&(E.push(O),O!==p);O=O.nextSibling);return on.each(E,O=>{var F;if(gR(e,O)){r.push(O),C=null;return}if(c.isBlock(O)||w0(O)){w0(O)&&c.remove(O),C=null;return}const U=O.nextSibling;if(tm.isBookmarkNode(O)&&(Sd(U)||gR(e,U)||!U&&O.parentNode===o)){C=null;return}C||(C=c.create("p"),(F=O.parentNode)===null||F===void 0||F.insertBefore(C,O),r.push(C)),C.appendChild(O)}),r},zZ=(e,n,o)=>{const r=e.getStyle(n,"list-style-type");let c=o?o["list-style-type"]:"";return c=c===null?"":c,r===c},VZ=(e,n)=>{const o=e.selection.getStart(!0),r=ER(e,n,!0,e.getBody());return Ko(Ee.fromDom(r),Ee.fromDom(n.commonAncestorContainer))?n.commonAncestorContainer:o},_R=(e,n,o)=>{const r=e.selection.getRng();let c="LI";const f=eh(e,VZ(e,r)),p=e.dom;if(p.getContentEditable(e.selection.getNode())==="false")return;n=n.toUpperCase(),n==="DL"&&(c="DT");const C=p1(r),E=pe(U$(e,r,f),e.dom.isEditable);on.each(E,O=>{let F;const U=O.previousSibling,q=O.parentNode;ak(q)||(U&&Sd(U)&&U.nodeName===n&&zZ(p,U,o)?(F=U,O=p.rename(O,c),U.appendChild(O)):(F=p.create(n),q.insertBefore(F,O),F.appendChild(O),O=p.rename(O,c)),HZ(p,O,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Zy(p,F,o),TR(e.dom,F))}),e.selection.setRng(v1(C))},UZ=(e,n)=>Sd(e)&&e.nodeName===(n==null?void 0:n.nodeName),WZ=(e,n,o)=>{const r=e.getStyle(n,"list-style-type",!0),c=e.getStyle(o,"list-style-type",!0);return r===c},jZ=(e,n)=>e.className===n.className,W$=(e,n,o)=>UZ(n,o)&&WZ(e,n,o)&&jZ(n,o),TR=(e,n)=>{let o,r=n.nextSibling;if(W$(e,n,r)){const c=r;for(;o=c.firstChild;)n.appendChild(o);e.remove(c)}if(r=n.previousSibling,W$(e,n,r)){const c=r;for(;o=c.lastChild;)n.insertBefore(o,n.firstChild);e.remove(c)}},ZZ=(e,n,o,r)=>{if(n.nodeName!==o){const c=e.dom.rename(n,o);Zy(e.dom,c,r),cp(e,jy(o),c)}else Zy(e.dom,n,r),cp(e,jy(o),n)},j$=(e,n,o,r)=>{if(n.classList.forEach((c,f,p)=>{c.startsWith("tox-")&&(p.remove(c),p.length===0&&n.removeAttribute("class"))}),n.nodeName!==o){const c=e.dom.rename(n,o);Zy(e.dom,c,r),cp(e,jy(o),c)}else Zy(e.dom,n,r),cp(e,jy(o),n)},Z$=(e,n,o,r,c)=>{const f=Sd(n);if(f&&n.nodeName===r&&!kR(c)&&!$u(n))mx(e);else{_R(e,r,c);const p=p1(e.selection.getRng()),C=f?[n,...o]:o,E=f&&$u(n)?j$:ZZ;on.each(C,O=>{E(e,O,r,c)}),e.selection.setRng(v1(p))}},kR=e=>"list-style-type"in e,Tne=(e,n,o,r)=>{if(n!==e.getBody())if(n)if(n.nodeName===o&&!kR(r)&&!$u(n))mx(e);else{const c=p1(e.selection.getRng());$u(n)&&n.classList.forEach((p,C,E)=>{p.startsWith("tox-")&&(E.remove(p),E.length===0&&n.removeAttribute("class"))}),Zy(e.dom,n,r);const f=e.dom.rename(n,o);TR(e.dom,f),e.selection.setRng(v1(c)),_R(e,o,r),cp(e,jy(o),f)}else _R(e,o,r),cp(e,jy(o),n)},mk=(e,n,o)=>{const r=ux(e);if(fx(e,r))return;const c=nZ(e),f=Oe(o)?o:{};c.length>0?Z$(e,r,c,n,f):Tne(e,r,n,f)},q$=(e,n,o,r)=>{let c=n.startContainer;const f=n.startOffset;if(zh(c)&&(o?f<c.data.length:f>0))return c;const p=e.schema.getNonEmptyElements();M$(c)&&(c=Gm.getNode(c,f));const C=new fr(c,r);o&&eZ(e.dom,c)&&C.next();const E=o?C.next.bind(C):C.prev2.bind(C);for(;c=E();)if(c.nodeName==="LI"&&!c.hasChildNodes()||p[c.nodeName]||zh(c)&&c.data.length>0)return c;return null},AR=(e,n)=>{const o=n.childNodes;return o.length===1&&!Sd(o[0])&&e.isBlock(o[0])},qZ=e=>K.from(e).map(Ee.fromDom).filter(fu).exists(n=>Kl(n)&&!ut(["details"],ko(n))),GZ=(e,n)=>{AR(e,n)&&qZ(n.firstChild)&&e.remove(n.firstChild,!0)},G$=(e,n,o)=>{let r;const c=AR(e,o)?o.firstChild:o;if(GZ(e,n),!ap(e,n,!0))for(;r=n.firstChild;)c.appendChild(r)},OR=(e,n,o)=>{let r;const c=n.parentNode;if(!oi(e,n)||!oi(e,o))return;Sd(o.lastChild)&&(r=o.lastChild),c===o.lastChild&&w0(c.previousSibling)&&e.remove(c.previousSibling);const f=o.lastChild;f&&w0(f)&&n.hasChildNodes()&&e.remove(f),ap(e,o,!0)&&ql(Ee.fromDom(o)),G$(e,n,o),r&&o.appendChild(r);const C=Rs(Ee.fromDom(o),Ee.fromDom(n))?e.getParents(n,Sd,o):[];e.remove(n),Re(C,E=>{ap(e,E)&&E!==e.getRoot()&&e.remove(E)})},KZ=(e,n,o)=>{ql(Ee.fromDom(o)),OR(e.dom,n,o),e.selection.setCursorLocation(o,0)},YZ=(e,n,o,r)=>{const c=e.dom;if(c.isEmpty(r))KZ(e,o,r);else{const f=p1(n);OR(c,o,r),e.selection.setRng(v1(f))}},DR=(e,n,o,r)=>{const c=p1(n);OR(e.dom,o,r);const f=v1(c);e.selection.setRng(f)},RR=(e,n)=>{const o=e.dom,r=e.selection,c=r.getStart(),f=bR(e,c),p=o.getParent(r.getStart(),"LI",f);if(p){const C=p.parentElement;if(C===e.getBody()&&ap(o,C))return!0;const E=lx(r.getRng()),O=o.getParent(q$(e,E,n,f),"LI",f),F=O&&(n?o.isChildOf(p,O):o.isChildOf(O,p));if(O&&O!==p&&!F)return e.undoManager.transact(()=>{n?YZ(e,E,O,p):Qj(p)?SR(e):DR(e,E,p,O)}),!0;if(F&&!n&&O!==p){const U=E.commonAncestorContainer.parentElement;return!U||o.isChildOf(O,U)?!1:(e.undoManager.transact(()=>{const q=p1(E);G$(o,U,O),U.remove();const J=v1(q);e.selection.setRng(J)}),!0)}else if(!O&&!n&&E.startOffset===0&&E.endOffset===0)return e.undoManager.transact(()=>{mx(e)}),!0}return!1},XZ=(e,n,o)=>{const r=e.getParent(n.parentNode,e.isBlock,o);e.remove(n),r&&e.isEmpty(r)&&e.remove(r)},K$=(e,n)=>{const o=e.dom,r=e.selection.getStart(),c=bR(e,r),f=o.getParent(r,o.isBlock,c);if(f&&o.isEmpty(f,void 0,{checkRootAsContent:!0})){const p=lx(e.selection.getRng()),C=q$(e,p,n,c),E=o.getParent(C,"LI",c);if(C&&E){const O=J=>ut(["td","th","caption"],ko(J)),F=J=>J.dom===c,U=Gs(Ee.fromDom(E),O,F),q=Gs(Ee.fromDom(p.startContainer),O,F);return Md(U,q,Nn)?(e.undoManager.transact(()=>{const J=E.parentNode;XZ(o,f,c),TR(o,J),e.selection.select(C,!0),e.selection.collapse(n)}),!0):!1}}return!1},JZ=(e,n)=>RR(e,n)||K$(e,n),MR=e=>{const n=e.selection.getStart(),o=bR(e,n),r=e.dom.getParent(n,"LI,DT,DD",o);return Ie(r)||vR(e).length>0},QZ=e=>MR(e)?(e.undoManager.transact(()=>{let n=!0;const o=()=>n=!1;e.on("input",o),e.execCommand("Delete"),e.off("input",o),n&&e.dispatch("input"),Qm(e.dom,e.getBody())}),!0):!1,PR=(e,n)=>{const o=e.selection;return!fx(e,o.getNode())&&(o.isCollapsed()?JZ(e,n):QZ(e))},eq=(e,n)=>({block:e,position:n}),tq=(e,n)=>({from:e,to:n}),LR=(e,n)=>{const o=Ee.fromDom(e),r=Ee.fromDom(n.container());return rT(o,r).map(c=>eq(c,n))},nq=e=>!(Rs(e.to.block,e.from.block)||Rs(e.from.block,e.to.block)),oq=e=>!Nn(e.from.block,e.to.block),Y$=(e,n)=>Gs(n,c=>Tl(c)||Nc(c.dom),c=>Nn(c,e)).filter(Ur).getOr(e),NR=(e,n)=>{const o=Ee.fromDom(e);return Nn(Y$(o,n.from.block),Y$(o,n.to.block))},sq=e=>Ar(e.from.block.dom)===!1&&Ar(e.to.block.dom)===!1,rq=e=>{const n=o=>jp(o)||ca(o.dom)||Hf(o);return n(e.from.block)&&n(e.to.block)},iq=(e,n,o,r)=>Vr(r.position.getNode())&&!Ic(e,r.block)?Lh(!1,r.block.dom).bind(c=>c.isEqual(r.position)?gc(o,n,c).bind(f=>LR(n,f)):K.some(r)).getOr(r):r,aq=(e,n,o,r)=>{const c=LR(n,Et.fromRangeStart(r)),f=c.bind(p=>gc(o,n,p.position).bind(C=>LR(n,C).map(E=>iq(e,n,o,E))));return Gr(c,f,tq).filter(p=>oq(p)&&NR(n,p)&&sq(p)&&rq(p)&&nq(p))},cq=(e,n,o,r)=>r.collapsed?aq(e,n,o,r):K.none(),X$=(e,n)=>{const o=Hr(e);return ao(o,r=>n.isBlock(ko(r))).fold(Qe(o),r=>o.slice(0,r))},D1=(e,n)=>{const o=X$(e,n);return Re(o,or),o},IR=(e,n,o)=>{const r=An(o,n);return rt(r.reverse(),c=>Ic(e,c)).each(or)},lq=(e,n)=>pe(ra(n),o=>!Ic(e,o)).length===0,uq=(e,n,o,r,c)=>{if(Ic(r,o))return zf(o),vc(o.dom);lq(r,c)&&Ic(r,n)&&Ca(c,Ee.fromTag("br"));const f=Vc(o.dom,Et.before(c.dom));return Re(D1(n,r),p=>{Ca(c,p)}),IR(r,e,n),f},dq=(e,n)=>e.isInline(ko(n)),fq=(e,n,o,r)=>{if(Ic(r,o)){if(Ic(r,n)){const p=Dt((C=>{const E=(O,F)=>ji(O).fold(()=>F,U=>dq(r,U)?E(U,F.concat(wi(U))):F);return E(C,[])})(o),(C,E)=>(Jc(C,E),E),Zp());ql(n),xs(n,p)}return or(o),vc(n.dom)}const c=bd(o.dom);return Re(D1(n,r),f=>{xs(o,f)}),IR(r,e,n),c},qy=(e,n)=>{const o=An(n,e);return K.from(o[o.length-1])},mq=(e,n)=>Rs(n,e)?qy(n,e):K.none(),hk=(e,n)=>{Lh(e,n.dom).bind(o=>K.from(o.getNode())).map(Ee.fromDom).filter(Ff).each(or)},gk=(e,n,o,r)=>(hk(!0,n),hk(!1,o),mq(n,o).fold(Ue(fq,e,n,o,r),Ue(uq,e,n,o,r))),J$=(e,n,o,r,c)=>n?gk(e,r,o,c):gk(e,o,r,c),pk=(e,n)=>{const o=Ee.fromDom(e.getBody());return cq(e.schema,o.dom,n,e.selection.getRng()).map(c=>()=>{J$(o,n,c.from.block,c.to.block,e.schema).each(f=>{e.selection.setRng(f.toRange())})})},vk=(e,n,o)=>{const r=n.getRng();return Gr(rT(e,Ee.fromDom(r.startContainer)),rT(e,Ee.fromDom(r.endContainer)),(c,f)=>Nn(c,f)?K.none():K.some(()=>{r.deleteContents(),J$(e,!0,c,f,o).each(p=>{n.setRng(p.toRange())})})).getOr(K.none())},Q$=(e,n)=>{const o=Ee.fromDom(n),r=Ue(Nn,e);return sd(o,Tl,r).isSome()},hq=(e,n)=>Q$(e,n.startContainer)||Q$(e,n.endContainer),gq=(e,n)=>{const o=Vc(e.dom,Et.fromRangeStart(n)).isNone(),r=pc(e.dom,Et.fromRangeEnd(n)).isNone();return!hq(e,n)&&o&&r},pq=e=>K.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),vq=e=>{const n=Ee.fromDom(e.getBody()),o=e.selection.getRng();return gq(n,o)?pq(e):vk(n,e.selection,e.schema)},hx=(e,n)=>e.selection.isCollapsed()?K.none():vq(e),lp=(e,n,o,r,c)=>K.from(n._selectionOverrides.showCaret(e,o,r,c)),bq=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},gx=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?K.none():K.some(bq(n)),yq=(e,n,o)=>{const r=nC(1,e.getBody(),n),c=Et.fromRangeStart(r),f=c.getNode();if(tf(f))return lp(1,e,f,!c.isAtEnd(),!1);const p=c.getNode(!0);if(tf(p))return lp(1,e,p,!1,!1);const C=a0(e.dom.getRoot(),c.getNode());return tf(C)?lp(1,e,C,!1,o):K.none()},BR=(e,n,o)=>n.collapsed?yq(e,n,o).getOr(n):n,wq=e=>m1(e)||kC(e),Cq=e=>h1(e)||AC(e),xq=(e,n)=>{en(n)&&n.data.length===0&&e.remove(n)},e6=(e,n,o,r,c,f)=>{lp(r,e,f.getNode(!c),c,!0).each(p=>{if(n.collapsed){const C=n.cloneRange();c?C.setEnd(p.startContainer,p.startOffset):C.setStart(p.endContainer,p.endOffset),C.deleteContents()}else n.deleteContents();e.selection.setRng(p)}),xq(e.dom,o)},Sq=(e,n)=>{const o=e.selection.getRng();if(!en(o.commonAncestorContainer))return K.none();const r=n?1:-1,c=rf(e.getBody()),f=Ue(Mh,n?c.next:c.prev),p=n?wq:Cq,C=Um(r,e.getBody(),o),E=f(C),O=E&&yd(n,E);if(!O||!r1(C,O))return K.none();if(p(O))return K.some(()=>e6(e,o,C.getNode(),r,n,O));const F=f(O);return F&&p(F)&&r1(O,F)?K.some(()=>e6(e,o,C.getNode(),r,n,F)):K.none()},$R=(e,n)=>Sq(e,n),FR=(e,n)=>{const o=e.getBody();return n?vc(o).filter(m1):bd(o).filter(h1)},HR=e=>{const n=e.selection.getRng();return!n.collapsed&&(FR(e,!0).exists(o=>o.isEqual(Et.fromRangeStart(n)))||FR(e,!1).exists(o=>o.isEqual(Et.fromRangeEnd(n))))},Eq=e=>Ie(e)&&(Tl(Ee.fromDom(e))||Hf(Ee.fromDom(e))),Fu=Tc.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),_q=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return qn(o)&&o.getAttribute("data-mce-caret")===r},Tq=(e,n,o,r,c)=>{const f=p=>c.isInline(p.nodeName.toLowerCase())&&!Yf(o,r,e);return hy(!n,o).fold(()=>hy(n,r).fold(Tt,f),f)},t6=(e,n,o,r,c)=>{const f=c.getNode(!o);return rT(Ee.fromDom(n),Ee.fromDom(r.getNode())).map(p=>Ic(e,p)?Fu.remove(p.dom):Fu.moveToElement(f)).orThunk(()=>K.some(Fu.moveToElement(f)))},n6=(e,n,o,r)=>gc(n,e,o).bind(c=>Eq(c.getNode())||Tq(e,n,o,c,r)?K.none():n&&Ar(c.getNode())||!n&&Ar(c.getNode(!0))?t6(r,e,n,o,c):n&&h1(o)||!n&&m1(o)?K.some(Fu.moveToPosition(c)):K.none()),kq=(e,n)=>Je(n)?K.none():e&&Ar(n.nextSibling)?K.some(Fu.moveToElement(n.nextSibling)):!e&&Ar(n.previousSibling)?K.some(Fu.moveToElement(n.previousSibling)):K.none(),zR=(e,n,o)=>o.fold(r=>K.some(Fu.remove(r)),r=>K.some(Fu.moveToElement(r)),r=>Yf(n,r,e)?K.none():K.some(Fu.moveToPosition(r))),Aq=(e,n,o,r)=>_q(n,o)?kq(n,o.getNode(!n)).orThunk(()=>n6(e,n,o,r)):n6(e,n,o,r).bind(c=>zR(e,o,c)),Oq=(e,n,o,r)=>{const c=nC(n?1:-1,e,o),f=Et.fromRangeStart(c),p=Ee.fromDom(e);return!n&&h1(f)?K.some(Fu.remove(f.getNode(!0))):n&&m1(f)?K.some(Fu.remove(f.getNode())):!n&&m1(f)&&X_(p,f,r)?XN(p,f,r).map(C=>Fu.remove(C.getNode())):n&&h1(f)&&nD(p,f,r)?J_(p,f,r).map(C=>Fu.remove(C.getNode())):Aq(e,n,f,r)},Dq=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),Xg(e,n,Ee.fromDom(o)),!0),Rq=(e,n)=>o=>{const r=n?Et.before(o):Et.after(o);return e.selection.setRng(r.toRange()),!0},Mq=e=>n=>(e.selection.setRng(n.toRange()),!0),o6=(e,n)=>K.from(a0(e.getBody(),n)),Pq=(e,n)=>{const o=e.selection.getNode();return o6(e,o).filter(Ar).fold(()=>Oq(e.getBody(),n,e.selection.getRng(),e.schema).map(r=>()=>r.fold(Dq(e,n),Rq(e,n),Mq(e))),()=>K.some(Nt))},Lq=e=>{Re(kt(e,".mce-offscreen-selection"),or)},Nq=(e,n)=>{const o=e.selection.getNode();return Ar(o)&&!Nf(o)?o6(e,o.parentNode).filter(Ar).fold(()=>K.some(()=>{Lq(Ee.fromDom(e.getBody())),Xg(e,n,Ee.fromDom(e.selection.getNode())),mD(e)}),()=>K.some(Nt)):HR(e)?K.some(()=>{SI(e,e.selection.getRng(),Ee.fromDom(e.getBody()))}):K.none()},s6=e=>{const n=e.dom,o=e.selection,r=a0(e.getBody(),o.getNode());if(Nc(r)&&n.isBlock(r)&&n.isEmpty(r)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(c),o.setRng(Et.before(c).toRange())}return!0},VR=(e,n)=>e.selection.isCollapsed()?Pq(e,n):Nq(e,n),UR=(e,n)=>{var o;const r=e.dom,c=r.getParent(e.selection.getStart(),r.isBlock),f=r.getParent(e.selection.getEnd(),r.isBlock),p=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&f&&c===p.firstChild&&f===p.lastChild&&!r.isEmpty(p)){const E=c.cloneNode(!1),O=()=>{if(n?wI(e):sT(e),p.firstChild!==c){const F=p1(e.selection.getRng(),()=>document.createElement("span"));Array.from(p.childNodes).forEach(U=>E.appendChild(U)),p.appendChild(E),e.selection.setRng(v1(F))}};return K.some(O)}return K.none()},Iq=(e,n)=>{const o=Et.fromRangeStart(e.selection.getRng());return gc(n,e.getBody(),o).filter(r=>n?e9(r):t9(r)).bind(r=>tC(n?0:-1,r)).map(r=>()=>e.selection.select(r))},WR=(e,n)=>e.selection.isCollapsed()?Iq(e,n):K.none(),Gy=en,r6=e=>Gy(e)&&e.data[0]===Fi,i6=e=>Gy(e)&&e.data[e.data.length-1]===Fi,a6=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Fi)},Bq=e=>{var n;if(Gy(e.previousSibling))return i6(e.previousSibling)||e.previousSibling.appendData(Fi),e.previousSibling;if(Gy(e))return r6(e)||e.insertData(0,Fi),e;{const o=a6(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},$q=e=>{var n,o;if(Gy(e.nextSibling))return r6(e.nextSibling)||e.nextSibling.insertData(0,Fi),e.nextSibling;if(Gy(e))return i6(e)||e.appendData(Fi),e;{const r=a6(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},bk=(e,n)=>e?Bq(n):$q(n),c6=Ue(bk,!0),Fq=Ue(bk,!1),l6=(e,n)=>en(e.container())?bk(n,e.container()):bk(n,e.getNode()),jR=(e,n)=>{const o=n.get();return o&&e.container()===o&&Ps(o)},ZR=(e,n)=>n.fold(o=>{qf(e.get());const r=c6(o);return e.set(r),K.some(Et(r,r.length-1))},o=>vc(o).map(r=>{if(jR(r,e)){const c=e.get();return Et(c,1)}else{qf(e.get());const c=l6(r,!0);return e.set(c),Et(c,1)}}),o=>bd(o).map(r=>{if(jR(r,e)){const c=e.get();return Et(c,c.length-1)}else{qf(e.get());const c=l6(r,!1);return e.set(c),Et(c,c.length-1)}}),o=>{qf(e.get());const r=Fq(o);return e.set(r),K.some(Et(r,1))}),u6=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return K.none()},Rl=Tc.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),d6=(e,n)=>{const o=Kf(n,e);return o||e},qR=(e,n,o)=>{const r=uD(o),c=d6(n,r.container());return Jg(e,c,r).fold(()=>pc(c,r).bind(Ue(Jg,e,c)).map(f=>Rl.before(f)),K.none)},f6=(e,n)=>Qf(e,n)===null,Hq=(e,n,o)=>Jg(e,n,o).filter(Ue(f6,n)),px=(e,n,o)=>{const r=dD(o);return Hq(e,n,r).bind(c=>Vc(c,r).isNone()?K.some(Rl.start(c)):K.none())},kne=(e,n,o)=>{const r=uD(o);return Hq(e,n,r).bind(c=>pc(c,r).isNone()?K.some(Rl.end(c)):K.none())},Ane=(e,n,o)=>{const r=dD(o),c=d6(n,r.container());return Jg(e,c,r).fold(()=>Vc(c,r).bind(Ue(Jg,e,c)).map(f=>Rl.after(f)),K.none)},zq=e=>!lD(Ed(e)),up=(e,n,o)=>u6([qR,px,kne,Ane],[e,n,o]).filter(zq),Ed=e=>e.fold(ln,ln,ln,ln),Ky=e=>e.fold(Qe("before"),Qe("start"),Qe("end"),Qe("after")),_d=e=>e.fold(Rl.before,Rl.before,Rl.after,Rl.after),dp=e=>e.fold(Rl.start,Rl.start,Rl.end,Rl.end),GR=(e,n)=>Ky(e)===Ky(n)&&Ed(e)===Ed(n),m6=(e,n,o,r,c,f)=>Gr(Jg(n,o,r),Jg(n,o,c),(p,C)=>p!==C&&vI(o,p,C)?Rl.after(e?p:C):f).getOr(f),vx=(e,n)=>e.fold(rn,o=>!GR(o,n)),Vq=(e,n,o,r,c)=>{const f=yd(e,c);return gc(e,o,f).map(Ue(yd,e)).fold(()=>r.map(_d),E=>up(n,o,E).map(Ue(m6,e,n,o,f,E)).filter(Ue(vx,r))).filter(zq)},h6=(e,n)=>e?n.fold(B(K.some,Rl.start),K.none,B(K.some,Rl.after),K.none):n.fold(K.none,B(K.some,Rl.before),K.none,B(K.some,Rl.end)),One=(e,n,o,r)=>{const c=yd(e,r),f=up(n,o,c);return up(n,o,c).bind(Ue(h6,e)).orThunk(()=>Vq(e,n,o,f,r))},Uq=e=>xe(e.selection.getSel().modify),Yy=(e,n,o)=>{const r=e?1:-1;return n.setRng(Et(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},g6=(e,n)=>{const o=n.selection.getRng(),r=e?Et.fromRangeEnd(o):Et.fromRangeStart(o);return Uq(n)?e&&Pb(r)?Yy(!0,n.selection,r):!e&&yv(r)?Yy(!1,n.selection,r):!1:!1};var Lr;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Lr||(Lr={}));const yk=(e,n)=>e===-1?Vo(n):n,Wq=(e,n,o)=>e===1?n.next(o):n.prev(o),Xy=(e,n,o,r)=>Vr(r.getNode(n===1))?Lr.Br:Yf(o,r)===!1?Lr.Block:Lr.Wrap,R1=(e,n,o,r)=>{const c=rf(o);let f=r;const p=[];for(;f;){const C=Wq(n,c,f);if(!C)break;if(Vr(C.getNode(!1)))return n===1?{positions:yk(n,p).concat([C]),breakType:Lr.Br,breakAt:K.some(C)}:{positions:yk(n,p),breakType:Lr.Br,breakAt:K.some(C)};if(!C.isVisible()){f=C;continue}if(e(f,C)){const E=Xy(o,n,f,C);return{positions:yk(n,p),breakType:E,breakAt:K.some(C)}}p.push(C),f=C}return{positions:yk(n,p),breakType:Lr.Eol,breakAt:K.none()}},M1=(e,n,o,r)=>n(o,r).breakAt.map(c=>{const f=n(o,c).positions;return e===-1?f.concat(c):[c].concat(f)}).getOr([]),KR=(e,n)=>Ht(e,(o,r)=>o.fold(()=>K.some(r),c=>Gr(gt(c.getClientRects()),gt(r.getClientRects()),(f,p)=>{const C=Math.abs(n-f.left);return Math.abs(n-p.left)<=C?r:c}).or(o)),K.none()),wk=(e,n)=>gt(n.getClientRects()).bind(o=>KR(e,o.left)),T0=Ue(R1,Et.isAbove,-1),k0=Ue(R1,Et.isBelow,1),YR=Ue(M1,-1,T0),XR=Ue(M1,1,k0),JR=(e,n)=>T0(e,n).breakAt.isNone(),QR=(e,n)=>k0(e,n).breakAt.isNone(),eM=e=>vc(e).map(n=>[n].concat(k0(e,n).positions)).getOr([]),jq=e=>bd(e).map(n=>T0(e,n).positions.concat(n)).getOr([]),p6=(e,n)=>wk(YR(e,n),n),v6=(e,n)=>wk(XR(e,n),n),Zq=Ar,b6=(e,n)=>Math.abs(e.left-n),Ck=(e,n)=>Math.abs(e.right-n),y6=e=>Qo(e,"node"),w6=(e,n)=>Fl(e,(o,r)=>{const c=Math.min(b6(o,n),Ck(o,n)),f=Math.min(b6(r,n),Ck(r,n));return f===c&&y6(r)&&Zq(r.node)||f<c?r:o}),qq=e=>{const n=o=>Lt(o,r=>{const c=nl(r);return c.node=e,c});if(qn(e))return n(e.getClientRects());if(en(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},A0=e=>Rn(e,qq);var P1;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(P1||(P1={}));const Gq=(e,n,o,r)=>{let c=r;for(;c=qv(c,e,Bb,n);)if(o(c))return},tM=(e,n,o,r,c,f)=>{let p=0;const C=[],E=U=>{let q=A0([U]);e===P1.Up&&(q=q.reverse());for(let J=0;J<q.length;J++){const ge=q[J];if(!o(ge,O)){if(C.length>0&&n(ge,re(C))&&p++,ge.line=p,c(ge))return!0;C.push(ge)}}return!1},O=re(f.getClientRects());if(!O)return C;const F=f.getNode();return F&&(E(F),Gq(e,r,E,F)),C},Kq=(e,n)=>n.line>e,C6=(e,n)=>n.line===e,Yq=Ue(tM,P1.Up,kh,Dg),x6=Ue(tM,P1.Down,Dg,kh),nM=e=>re(e.getClientRects()),S6=(e,n,o,r)=>{const c=rf(n);let f,p,C,E;const O=[];let F=0;e===P1.Down?(f=c.next,p=Dg,C=kh,E=Et.after(r)):(f=c.prev,p=kh,C=Dg,E=Et.before(r));const U=nM(E);do{if(!E.isVisible())continue;const q=nM(E);if(C(q,U))continue;O.length>0&&p(q,re(O))&&F++;const J=nl(q);if(J.position=E,J.line=F,o(J))return O;O.push(J)}while(E=f(E));return O},oM=e=>n=>Kq(e,n),xk=e=>n=>C6(e,n),th=(e,n)=>{e.selection.setRng(n),_C(e,e.selection.getRng())},sM=(e,n,o)=>K.some(BR(e,n,o)),E6=(e,n,o,r,c,f)=>{const p=n===1,C=rf(e.getBody()),E=Ue(Mh,p?C.next:C.prev),O=p?r:c;if(!o.collapsed){const ge=Ah(o);if(f(ge))return lp(n,e,ge,n===-1,!1);if(HR(e)){const fe=o.cloneRange();return fe.collapse(n===-1),K.from(fe)}}const F=Um(n,e.getBody(),o);if(O(F))return gx(e,F.getNode(!p));let U=E(F);const q=qp(o);if(U)U=yd(p,U);else return q?K.some(o):K.none();if(O(U))return lp(n,e,U.getNode(!p),p,!1);const J=E(U);return J&&O(J)&&r1(U,J)?lp(n,e,J.getNode(!p),p,!1):q?sM(e,U.toRange(),!1):K.none()},_6=(e,n,o,r,c,f)=>{const p=Um(n,e.getBody(),o),C=re(p.getClientRects()),E=n===P1.Down,O=e.getBody();if(!C)return K.none();if(HR(e)){const de=E?Et.fromRangeEnd(o):Et.fromRangeStart(o);return(E?v6:p6)(O,de).orThunk(()=>K.from(de)).map(ze=>ze.toRange())}const U=(E?x6:Yq)(O,oM(1),p),q=pe(U,xk(1)),J=C.left,ge=w6(q,J);if(ge&&f(ge.node)){const de=Math.abs(J-ge.left),He=Math.abs(J-ge.right);return lp(n,e,ge.node,de<He,!1)}let fe;if(r(p)?fe=p.getNode():c(p)?fe=p.getNode(!0):fe=Ah(o),fe){const de=S6(n,O,oM(1),fe);let He=w6(pe(de,xk(1)),J);if(He||(He=re(pe(de,xk(0))),He))return sM(e,He.position.toRange(),!1)}return q.length===0?bx(e,E).filter(E?c:r).map(de=>BR(e,de.toRange(),!1)):K.none()},bx=(e,n)=>{const o=e.selection.getRng(),r=n?Et.fromRangeEnd(o):Et.fromRangeStart(o),c=b_(r.container(),e.getBody());if(n){const f=k0(c,r);return bt(f.positions)}else{const f=T0(c,r);return gt(f.positions)}},Jy=(e,n,o)=>bx(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),L1=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},Sk=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},rM=(e,n,o)=>ZR(n,o).map(r=>(L1(e,r),o)),T6=(e,n,o)=>{const r=Et.fromRangeStart(e);if(e.collapsed)return r;{const c=Et.fromRangeEnd(e);return o?Vc(n,c).getOr(c):pc(n,r).getOr(r)}},Ek=(e,n,o)=>{const r=e.getBody(),c=T6(e.selection.getRng(),r,o),f=Ue($h,e);return One(o,f,r,c).bind(C=>rM(e,n,C))},Xq=(e,n,o)=>{const r=Lt(kt(Ee.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),p=>p.dom),c=pe(r,e),f=pe(o,e);Re(Oo(c,f),Ue(Sk,!1)),Re(Oo(f,c),Ue(Sk,!0))},Jq=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=Et.fromRangeStart(e.selection.getRng());Et.isTextPosition(r)&&!bI(r)&&(L1(e,dy(o,r)),n.set(null))}},O0=(e,n,o,r)=>{if(n.selection.isCollapsed()){const c=pe(r,e);Re(c,f=>{const p=Et.fromRangeStart(n.selection.getRng());up(e,n.getBody(),p).bind(C=>rM(n,o,C))})}},_k=(e,n,o)=>Zf(e)?Ek(e,n,o).isSome():!1,iM=(e,n,o)=>Zf(n)?g6(e,n):!1,yx=e=>{const n=Un(null),o=Ue($h,e);return e.on("NodeChange",r=>{Zf(e)&&(Xq(o,e.dom,r.parents),Jq(e,n),O0(o,e,n,r.parents))}),n},k6=Ue(iM,!0),aM=Ue(iM,!1),wx=(e,n,o)=>{if(Zf(e)){const r=bx(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?Et.fromRangeEnd(c):Et.fromRangeStart(c)});return up(Ue($h,e),e.getBody(),r).exists(c=>{const f=_d(c);return ZR(o,f).exists(p=>(L1(e,p),!0))})}else return!1},A6=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},Qq=e=>Gr(vc(e),bd(e),(n,o)=>{const r=yd(!0,n),c=yd(!1,o);return pc(e,r).forall(f=>f.isEqual(c))}).getOr(!0),cM=(e,n)=>o=>ZR(n,o).map(r=>()=>L1(e,r)),O6=(e,n,o,r)=>{const c=e.getBody(),f=Ue($h,e);e.undoManager.ignore(()=>{e.selection.setRng(A6(o,r)),sT(e),up(f,c,Et.fromRangeStart(e.selection.getRng())).map(dp).bind(cM(e,n)).each(vo)}),e.nodeChanged()},eG=(e,n)=>{const o=Kf(n,e);return o||e},tG=(e,n,o,r)=>{const c=eG(e.getBody(),r.container()),f=Ue($h,e),p=up(f,c,r);return p.bind(E=>o?E.fold(Qe(K.some(dp(E))),K.none,Qe(K.some(_d(E))),K.none):E.fold(K.none,Qe(K.some(_d(E))),K.none,Qe(K.some(dp(E))))).map(cM(e,n)).getOrThunk(()=>{const E=Zg(o,c,r),O=E.bind(F=>up(f,c,F));return Gr(p,O,()=>Jg(f,c,r).bind(F=>Qq(F)?K.some(()=>{Xg(e,o,Ee.fromDom(F))}):K.none())).getOrThunk(()=>O.bind(()=>E.map(F=>()=>{o?O6(e,n,r,F):O6(e,n,F,r)})))})},lM=(e,n,o)=>{if(e.selection.isCollapsed()&&Zf(e)){const r=Et.fromRangeStart(e.selection.getRng());return tG(e,n,o,r)}return K.none()},uM=e=>Tf(e)>1,D6=(e,n)=>{const o=Ee.fromDom(e.getBody()),r=Ee.fromDom(e.selection.getStart()),c=An(r,o);return ao(c,n).fold(Qe(c),f=>c.slice(0,f))},R6=e=>Tf(e)===1,nG=e=>D6(e,n=>e.schema.isBlock(ko(n))||uM(n)),oG=e=>D6(e,n=>e.schema.isBlock(ko(n))),M6=(e,n)=>{const o=Ue(PD,e);return Rn(n,r=>o(r)?[r.dom]:[])},dM=e=>{const n=oG(e);return M6(e,n)},sG=(e,n,o,r)=>{const c=M6(n,r);if(c.length===0)Xg(n,e,o);else{const f=ZI(o.dom,c);n.selection.setRng(f.toRange())}},rG=(e,n)=>{const o=pe(nG(e),R6);return bt(o).bind(r=>{const c=Et.fromRangeStart(e.selection.getRng());return CI(n,c,r.dom)&&!$o(r)?K.some(()=>sG(n,e,r,o)):K.none()})},iG=(e,n)=>{const o=n.parentElement;return Vr(n)&&!k(o)&&e.dom.isEmpty(o)},aG=e=>$o(Ee.fromDom(e)),P6=(e,n)=>{const o=e.selection.getStart(),r=iG(e,o)||aG(o)?ZI(o,n):us(e.selection.getRng(),n);e.selection.setRng(r.toRange())},L6=(e,n)=>{const o=Oo(n,dM(e));o.length>0&&P6(e,o)},N6=e=>en(e.startContainer),I6=e=>e.startOffset===0&&N6(e),cG=(e,n)=>{const o=n.startContainer.parentElement;return!k(o)&&PD(e,Ee.fromDom(o))},Tk=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!k(n)&&!k(o)&&n.isEqualNode(o)},al=e=>{const n=e.endContainer;return e.endOffset===(en(n)?n.length:n.childNodes.length)},lG=e=>Tk(e)&&al(e),kk=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),D0=e=>lG(e)||kk(e),B6=e=>{const n=e.selection.getRng();return I6(n)&&cG(e,n)&&D0(n)},Hu=e=>{if(B6(e)){const n=dM(e);return K.some(()=>{sT(e),L6(e,n)})}else return K.none()},fp=(e,n)=>e.selection.isCollapsed()?rG(e,n):Hu(e),$6=(e,n)=>xn(e,o=>sl(o.dom),o=>n.isBlock(ko(o))),uG=e=>$6(Ee.fromDom(e.selection.getStart()),e.schema),F6=e=>{const n=e.selection.getRng();return n.collapsed&&(N6(n)||e.dom.isEmpty(n.startContainer))&&!uG(e)},Cx=e=>(F6(e)&&P6(e,[]),!0),Ak=(e,n,o)=>Ie(o)?K.some(()=>{e._selectionOverrides.hideFakeCaret(),Xg(e,n,Ee.fromDom(o))}):K.none(),fM=(e,n)=>{const o=n?kC:AC,c=Um(n?1:-1,e.getBody(),e.selection.getRng());return o(c)?Ak(e,n,c.getNode(!n)):K.from(yd(n,c)).filter(f=>o(f)&&r1(c,f)).bind(f=>Ak(e,n,f.getNode(!n)))},mM=(e,n)=>{const o=e.selection.getNode();return ad(o)?Ak(e,n,o):K.none()},hM=(e,n)=>e.selection.isCollapsed()?fM(e,n):mM(e,n),dG=e=>Gs(e,n=>Nc(n.dom)||Ar(n.dom)).exists(n=>Nc(n.dom)),Ok=e=>Ef(e??"").getOr(0),dm=(e,n)=>{const o=e||fE(n)?"margin":"padding",r=Qr(n,"direction")==="rtl"?"-right":"-left";return o+r},gM=(e,n,o,r,c,f)=>{const p=dm(o,Ee.fromDom(f)),C=Ok(e.getStyle(f,p));if(n==="outdent"){const E=Math.max(0,C-r);e.setStyle(f,p,E?E+c:"")}else{const E=C+r+c;e.setStyle(f,p,E)}},fG=(e,n)=>Zo(n,o=>{const r=dm(Lv(e),o),c=li(o,r).map(Ok).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),xx=e=>{const n=bM(e);return!e.mode.isReadOnly()&&(n.length>1||fG(e,n))},pM=e=>!e.mode.isReadOnly()&&RZ(e),vM=e=>Ob(e)||Hf(e),H6=e=>ac(e).exists(vM),bM=e=>pe(Of(e.selection.getSelectedBlocks()),n=>!vM(n)&&!H6(n)&&dG(n)),z6=(e,n)=>{var o,r;if(e.mode.isReadOnly())return;const{dom:c}=e,f=H2(e),p=(r=(o=/[a-z%]+$/i.exec(f))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",C=Ok(f),E=Lv(e);Re(bM(e),O=>{gM(c,n,E,C,p,O.dom)}),n==="indent"?z$(e):SR(e)},mG=e=>z6(e,"indent"),V6=e=>z6(e,"outdent"),U6=e=>{if(e.selection.isCollapsed()&&xx(e)){const n=e.dom,o=e.selection.getRng(),r=Et.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&G_(Ee.fromDom(c),r,e.schema))return K.some(()=>V6(e))}return K.none()},hG=(e,n)=>{const o=dT(e.selection.getRng());return C4(o)?K.some(()=>Xg(e,n,Ee.fromDom(e.selection.getNode()))):K.none()},Dk=(e,n)=>e.selection.isCollapsed()?K.none():hG(e,n),W6=(e,n,o)=>_n([U6,VR,$R,(r,c)=>lM(r,n,c),pk,_D,WR,hM,hx,fp,UR,Dk],r=>r(e,o)).filter(r=>e.selection.isEditable()),yM=(e,n)=>{W6(e,n,!1).fold(()=>{e.selection.isEditable()&&(sT(e),mD(e))},vo),MR(e)&&Qm(e.dom,e.getBody())},gG=(e,n)=>{W6(e,n,!0).fold(()=>{e.selection.isEditable()&&wI(e)},vo),MR(e)&&Qm(e.dom,e.getBody())},j6=(e,n)=>{e.addCommand("delete",()=>{yM(e,n)}),e.addCommand("forwardDelete",()=>{gG(e,n)})},Rk=5,wM=400,CM=e=>e.touches===void 0||e.touches.length!==1?K.none():K.some(e.touches[0]),xM=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>Rk||r>Rk},Z6=e=>{const n=pa(),o=Un(!1),r=ic(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},wM);e.on("touchstart",c=>{CM(c).each(f=>{r.cancel();const p={x:f.clientX,y:f.clientY,target:c.target};r.throttle(c),o.set(!1),n.set(p)})},!0),e.on("touchmove",c=>{r.cancel(),CM(c).each(f=>{n.on(p=>{xM(f,p)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{r.cancel(),c.type!=="touchcancel"&&n.get().filter(f=>f.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},Mk=(e,n)=>jn(e,n.nodeName),SM=(e,n)=>en(n)?!0:qn(n)?!Mk(e.getBlockElements(),n)&&!Ol(n)&&!Vt(e,n)&&!gg(n)&&!cb(n):!1,q6=(e,n,o)=>Xt(GN(Ee.fromDom(o),Ee.fromDom(n)),r=>Mk(e,r.dom)),G6=(e,n)=>{if(en(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||Mk(e,n.nextSibling)||gg(n.nextSibling)}return!1},Pk=e=>e.dom.create(Ua(e),Qp(e)),pG=e=>{const n=e.dom,o=e.selection,r=e.schema,c=r.getBlockElements(),f=o.getStart(),p=e.getBody();let C,E,O=null;const F=Ua(e);if(!f||!qn(f))return;const U=p.nodeName.toLowerCase();if(!r.isValidChild(U,F.toLowerCase())||q6(c,p,f))return;if(p.firstChild===p.lastChild&&Vr(p.firstChild)){C=Pk(e),C.appendChild(Zp().dom),p.replaceChild(C,p.firstChild),e.selection.setCursorLocation(C,0),e.nodeChanged();return}let q=p.firstChild;for(;q;)if(qn(q)&&$c(r,q),SM(r,q)){if(G6(c,q)){E=q,q=q.nextSibling,n.remove(E);continue}if(!C){if(!O&&e.hasFocus()&&(O=p1(e.selection.getRng(),()=>document.createElement("span"))),!q.parentNode){q=null;break}C=Pk(e),p.insertBefore(C,q)}E=q,q=q.nextSibling,C.appendChild(E)}else C=null,q=q.nextSibling;O&&(e.selection.setRng(v1(O)),e.nodeChanged())},K6=(e,n,o)=>{const r=Ee.fromDom(Pk(e)),c=Zp();xs(r,c),o(n,r);const f=document.createRange();return f.setStartBefore(c.dom),f.setEndBefore(c.dom),f},Lk=e=>{e.on("NodeChange",()=>pG(e))},Y6=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,Sx=(e,n,o)=>function(r){const c=arguments,f=c[c.length-2],p=f>0?n.charAt(f-1):"";if(p==='"')return r;if(p===">"){const C=n.lastIndexOf("<",f);if(C!==-1&&n.substring(C,f).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},vG=(e,n,o)=>{let r=n.length,c=o.content;if(o.format!=="raw"){for(;r--;)c=c.replace(n[r],Sx(e,c,K2(e)));o.content=c}},bG=(e,n)=>Zo(e,o=>{const r=n.match(o);return r!==null&&r[0].length===n.length}),yG=e=>{const n="contenteditable",o=" "+on.trim(s_(e))+" ",r=" "+on.trim(K2(e))+" ",c=Y6(o),f=Y6(r),p=r_(e);p.length>0&&e.on("BeforeSetContent",C=>{vG(e,p,C)}),e.parser.addAttributeFilter("class",C=>{let E=C.length;for(;E--;){const O=C[E];c(O)?O.attr(n,"true"):f(O)&&O.attr(n,"false")}}),e.serializer.addAttributeFilter(n,C=>{let E=C.length;for(;E--;){const O=C[E];if(!c(O)&&!f(O))continue;const F=O.attr("data-mce-content");p.length>0&&F?bG(p,F)?(O.name="#text",O.type=3,O.raw=!0,O.value=F):O.remove():O.attr(n,null)}})},wG=e=>rd(Ee.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),EM=(e,n)=>{n.hasAttribute("data-mce-caret")&&(tu(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},X6=(e,n)=>{const o=wG(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),EM(e,o);return}bv(o)&&(EM(e,o),e.undoManager.add())}},CG=e=>{e.on("keyup compositionstart",Ue(X6,e))},J6=Ar,xG=(e,n,o)=>E6(n,e,o,m1,h1,J6),SG=(e,n,o)=>_6(n,e,o,f=>m1(f)||qN(f),f=>h1(f)||eD(f),J6),EG=e=>{const n=e.dom.create(Ua(e));return n.innerHTML='<br data-mce-bogus="1">',n},_M=(e,n,o)=>{const r=rf(e.getBody()),c=Ue(Mh,n===1?r.next:r.prev);if(o.collapsed){const f=e.dom.getParent(o.startContainer,"PRE");if(!f)return;if(!c(Et.fromRangeStart(o))){const C=Ee.fromDom(EG(e));n===1?yl(Ee.fromDom(f),C):Ca(Ee.fromDom(f),C),e.selection.select(C.dom,!0),e.selection.collapse()}}},Dne=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return xG(o,e,r).orThunk(()=>(_M(e,o,r),K.none()))},_G=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return SG(o,e,r).orThunk(()=>(_M(e,o,r),K.none()))},TG=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return lD(o)?!n:n},Q6=(e,n)=>Dne(e,TG(e.selection,n)).exists(o=>(th(e,o),!0)),eF=(e,n)=>_G(e,n).exists(o=>(th(e,o),!0)),tF=(e,n)=>Jy(e,n,n?h1:m1),Nk=(e,n)=>FR(e,!n).map(o=>{const r=o.toRange(),c=e.selection.getRng();return n?r.setStart(c.startContainer,c.startOffset):r.setEnd(c.endContainer,c.endOffset),r}).exists(o=>(th(e,o),!0)),nF=(e,n)=>{const o=p=>Nn(p,n),r=p=>Nc(p.dom),c=Ee.fromDom(e.container());return Gs(c,r,o).filter(p=>!o(p))},oF=(e,n,o)=>(o?v6:p6)(e.getBody(),n).map(c=>c.toRange()),kG=(e,n)=>{const o=Et.fromRangeStart(e.selection.getRng()),r=Et.fromRangeEnd(e.selection.getRng()),c=Ee.fromDom(e.getBody());return $l(Gr(nF(o,c),nF(r,c),(p,C)=>Nn(p,C)?K.some(p):K.none())).fold(Tt,p=>n&&QR(p.dom,r)||!n&&JR(p.dom,o)?oF(e,n?r:o,n).exists(C=>(th(e,C),!0)):!1)},sF=(e,n)=>kG(e,n),AG=e=>ut(["figcaption"],ko(e)),OG=(e,n,o)=>{const r=Ue(Nn,n);return Gs(Ee.fromDom(e.container()),c=>o.isBlock(ko(c)),r).filter(AG)},DG=(e,n,o)=>n?QR(e.dom,o):JR(e.dom,o),RG=(e,n)=>{const o=Ee.fromDom(e.getBody()),r=Et.fromRangeStart(e.selection.getRng());return OG(r,o,e.schema).exists(()=>{if(DG(o,n,r)){const f=K6(e,o,n?xs:ed);return e.selection.setRng(f),!0}else return!1})},rF=(e,n)=>e.selection.isCollapsed()?RG(e,n):!1,MG=(e,n,o)=>{const r=e.selection.getRng(),c=Et.fromRangeStart(r);return e.getBody().firstChild===n&&JR(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},PG=(e,n)=>{const o=e.selection.getRng(),r=Et.fromRangeStart(o);return e.getBody().lastChild===n&&QR(n,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},LG=(e,n)=>n?K.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>PG(e,o)).getOr(!1):K.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>K.from(e.dom.getParent(o,"details")).map(r=>MG(e,r,o))).getOr(!1),TM=(e,n)=>LG(e,n),iF={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},NG=e=>Lt(e,n=>({...iF,...n})),IG=e=>Lt(e,n=>({...iF,...n})),Ex=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,BG=(e,n)=>Rn(NG(e),o=>Ex(o,n)?[o]:[]),$G=(e,n)=>Rn(IG(e),o=>Ex(o,n)?[o]:[]),To=(e,...n)=>()=>e.apply(null,n),R0=(e,n)=>rt(BG(e,n),o=>o.action()),aF=(e,n)=>_n($G(e,n),o=>o.action()),cF=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return E6(e,o,r,kC,AC,ad).exists(c=>(th(e,c),!0))},FG=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return _6(e,o,r,kC,AC,ad).exists(c=>(th(e,c),!0))},lF=(e,n)=>Jy(e,n,n?AC:kC),HG=(e,n)=>uF(e,n,rn),uF=(e,n,o)=>Rn(Hr(e),r=>cs(r,n)?o(r)?[r]:[]:uF(r,n,o)),_x=(e,n,o=Tt)=>{if(o(n))return K.none();if(ut(e,ko(n)))return K.some(n);const r=c=>cs(c,"table")||o(c);return ui(n,e.join(","),r)},zG=(e,n)=>_x(["td","th"],e,n),VG=e=>HG(e,"th,td"),dF=(e,n)=>$a(e,"table",n),kM=Tc.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Ec={...kM,none:e=>kM.none(e)},Ik=(e,n,o,r,c=rn)=>{const f=r===1;if(!f&&o<=0)return Ec.first(e[0]);if(f&&o>=e.length-1)return Ec.last(e[e.length-1]);{const p=o+r,C=e[p];return c(C)?Ec.middle(n,C):Ik(e,n,p,r,c)}},Qy=(e,n)=>dF(e,n).bind(o=>{const r=VG(o);return ao(r,f=>Nn(e,f)).map(f=>({index:f,all:r}))}),N1=(e,n,o)=>Qy(e,o).fold(()=>Ec.none(e),c=>Ik(c.all,e,c.index,1,n)),Vh=(e,n,o)=>Qy(e,o).fold(()=>Ec.none(),c=>Ik(c.all,e,c.index,-1,n));var Tx=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],AM=()=>{const e=O=>Ee.fromDom(O.dom.cloneNode(!1)),n=O=>Wl(O).dom,o=O=>Ur(O)?ko(O)==="body"?!0:ut(Tx,ko(O)):!1,r=O=>Ur(O)?ut(["br","img","hr","input"],ko(O)):!1,c=O=>Ur(O)&&gr(O,"contenteditable")==="false",f=(O,F)=>O.dom.compareDocumentPosition(F.dom),p=(O,F)=>{const U=os(O);xa(F,U)},C=O=>{const F=ko(O);return ut(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],F)},E=O=>Ur(O)?Cl(O,"lang"):K.none();return{up:Qe({selector:ui,closest:$a,predicate:sd,all:Na}),down:Qe({selector:kt,predicate:he}),styles:Qe({get:Qr,getRaw:li,set:Ia,remove:Ep}),attrs:Qe({get:gr,set:$r,remove:bi,copyTo:p}),insert:Qe({before:Ca,after:yl,afterAll:ag,append:xs,appendAll:wl,prepend:ed,wrap:Jc}),remove:Qe({unwrap:Rc,remove:or}),create:Qe({nu:Ee.fromTag,clone:e,text:Ee.fromText}),query:Qe({comparePosition:f,prevSibling:vl,nextSibling:cc}),property:Qe({children:Hr,name:ko,parent:ac,document:n,isText:Ms,isComment:Jr,isElement:Ur,isSpecial:C,getLanguage:E,getText:Ba,setText:nv,isBoundary:o,isEmptyTag:r,isNonEditable:c}),eq:Nn,is:Ui}};const kx=(e,n)=>({element:e,offset:n}),OM=(e,n)=>{if(e.property().isText(n))return kx(n,e.property().getText(n).length);{const o=e.property().children(n);return o.length>0?OM(e,o[o.length-1]):kx(n,o.length)}},DM=(e,n,o)=>{const r=e.property().children(n);return r.length>0&&o<r.length?DM(e,r[o],0):r.length>0&&e.property().isElement(n)&&r.length===o?OM(e,r[r.length-1]):kx(n,o)},UG=DM,WG=AM(),fF=(e,n)=>UG(WG,e,n),RM=ii("image"),mF=e=>{const n=e;return K.from(n[RM])},jG=(e,n)=>{const o=e;o[RM]=n},hF=ii("event"),Rne=e=>{const n=e;return K.from(n[hF])},MM=e=>n=>{const o=n;o[hF]=e},fm=(e,n)=>MM(n)(e),gF=MM(0),ZG=MM(2),P0=MM(1),GG=(e=>n=>{const o=n;return K.from(o[hF]).exists(r=>r===e)})(0),Bk=()=>Object.freeze({length:0,item:e=>null}),Ax=ii("mode"),pF=e=>{const n=e;return K.from(n[Ax])},Ox=e=>n=>{const o=n;o[Ax]=e},vF=(e,n)=>Ox(n)(e),PM=Ox(0),$k=Ox(2),bF=Ox(1),Fk=e=>n=>{const o=n;return K.from(o[Ax]).exists(r=>r===e)},ew=Fk(0),yF=Fk(1),KG=(e,n)=>({...n,get length(){return n.length},add:(o,r)=>{if(ew(e))if(oe(o)){if(!ht(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{ew(e)&&n.remove(o)},clear:()=>{ew(e)&&n.clear()}}),YG=["none","copy","link","move"],XG=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],LM=()=>{const e=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(c){ut(YG,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){GG(r)&&ut(XG,c)&&(o=c)},get items(){return KG(r,e.items)},get files(){return yF(r)?Bk():e.files},get types(){return e.types},setDragImage:(c,f,p)=>{ew(r)&&(jG(r,{image:c,x:f,y:p}),e.setDragImage(c,f,p))},getData:c=>yF(r)?"":e.getData(c),setData:(c,f)=>{ew(r)&&e.setData(c,f)},clearData:c=>{ew(r)&&e.clearData(c)}};return PM(r),r},JG=e=>{const n=LM(),o=pF(e);return $k(e),gF(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,mF(e).each(r=>n.setDragImage(r.image,r.x,r.y)),Re(e.types,r=>{r!=="Files"&&n.setData(r,e.getData(r))}),Re(e.files,r=>n.items.add(r)),Rne(e).each(r=>{fm(n,r)}),o.each(r=>{vF(e,r),vF(n,r)}),n},QG=e=>{const n=e.getData("text/html");return n===""?K.none():K.some(n)},NM=(e,n)=>e.setData("text/html",n),eK=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),mp=(e,n)=>Rn(n,o=>{const r=eK(nl(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),IM=(e,n,o)=>Ht(e,(r,c)=>r.fold(()=>K.some(c),f=>{const p=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-o)),C=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return K.some(C<p?c:f)}),K.none()),wF=(e,n,o,r,c)=>{const f=kt(Ee.fromDom(o),"td,th,caption").map(C=>C.dom),p=pe(mp(e,f),C=>n(C,c));return IM(p,r,c).map(C=>C.cell)},tK=e=>e.bottom,nK=e=>e.top,BM=(e,n)=>e.y<n,$M=(e,n)=>e.y>n,CF=Ue(wF,tK,BM),xF=Ue(wF,nK,$M),SF=(e,n)=>gt(n.getClientRects()).bind(o=>CF(e,o.left,o.top)).bind(o=>wk(jq(o),n)),oK=(e,n)=>bt(n.getClientRects()).bind(o=>xF(e,o.left,o.top)).bind(o=>wk(eM(o),n)),Dx=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),Hk=e=>e.breakType===Lr.Wrap&&e.positions.length===0,EF=e=>e.breakType===Lr.Br&&e.positions.length===1,FM=(e,n,o)=>{const r=e(n,o);return Hk(r)||!Vr(o.getNode())&&EF(r)?!Dx(e,n,r):r.breakAt.isNone()},_F=Ue(FM,T0),TF=Ue(FM,k0),zk=(e,n,o)=>{const r=Et.fromRangeStart(n);return Lh(!e,o).exists(c=>c.isEqual(r))},HM=(e,n,o,r)=>{const c=e.selection.getRng(),f=n?1:-1;return fy()&&zk(n,c,o)?(lp(f,e,o,!n,!1).each(p=>{th(e,p)}),!0):!1},Rx=(e,n,o)=>SF(n,o).orThunk(()=>gt(o.getClientRects()).bind(r=>KR(YR(e,Et.before(n)),r.left))).getOr(Et.before(n)),sK=(e,n,o)=>oK(n,o).orThunk(()=>gt(o.getClientRects()).bind(r=>KR(XR(e,Et.after(n)),r.left))).getOr(Et.after(n)),zM=(e,n)=>{const o=n.getNode(e);return Lf(o)?K.some(o):K.none()},rK=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?yl:Ca,c=K6(n,Ee.fromDom(o),r);th(n,c)})},kF=(e,n,o)=>{const r=zM(!!n,o),c=n===!1;r.fold(()=>th(e,o.toRange()),f=>Lh(c,e.getBody()).filter(p=>p.isEqual(o)).fold(()=>th(e,o.toRange()),p=>rK(n,e,f)))},AF=(e,n,o,r)=>{const c=e.selection.getRng(),f=Et.fromRangeStart(c),p=e.getBody();if(!n&&_F(r,f)){const C=Rx(p,o,f);return kF(e,n,C),!0}else if(n&&TF(r,f)){const C=sK(p,o,f);return kF(e,n,C),!0}else return!1},OF=(e,n,o)=>K.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>K.from(e.dom.getParent(r,"table")).map(c=>o(e,n,c,r))).getOr(!1),VM=(e,n)=>OF(e,n,HM),DF=(e,n)=>OF(e,n,AF),iK=e=>{const n=Pf.exact(e,0,e,0);return qw(n)},aK=e=>Vk(e)||Bs(e).some(n=>fu(n)&&Vk(n)),RF=(e,n,o)=>o.fold(K.none,K.none,(r,c)=>mh(c).map(f=>iK(f)),r=>e.mode.isReadOnly()||!cK(r)||!aK(r)?K.none():(e.execCommand("mceTableInsertRowAfter"),MF(e,n,r))),cK=e=>Gs(e,vi("table")).exists(Kl),MF=(e,n,o)=>RF(e,n,N1(o,Vk)),lK=(e,n,o)=>RF(e,n,Vh(o,Vk)),Vk=e=>Kl(e)||Bo(e,UM),UM=e=>fu(e)&&Kl(e),PF=(e,n)=>{const o=["table","li","dl"],r=Ee.fromDom(e.getBody()),c=C=>{const E=ko(C);return Nn(C,r)||ut(o,E)},f=e.selection.getRng(),p=Ee.fromDom(n?f.endContainer:f.startContainer);return zG(p,c).map(C=>(dF(C,c).each(F=>{e.model.table.clearSelectedCells(F.dom)}),e.selection.collapse(!n),(n?MF:lK)(e,c,C).each(F=>{e.selection.setRng(F)}),!0)).getOr(!1)},I1=(e,n,o)=>{const r=fs.os.isMacOS()||fs.os.isiOS(),c=fs.browser.isFirefox();R0([{keyCode:Dn.RIGHT,action:To(Q6,e,!0)},{keyCode:Dn.LEFT,action:To(Q6,e,!1)},{keyCode:Dn.UP,action:To(eF,e,!1)},{keyCode:Dn.DOWN,action:To(eF,e,!0)},...r?[{keyCode:Dn.UP,action:To(Nk,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Dn.DOWN,action:To(Nk,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Dn.RIGHT,action:To(VM,e,!0)},{keyCode:Dn.LEFT,action:To(VM,e,!1)},{keyCode:Dn.UP,action:To(DF,e,!1)},{keyCode:Dn.DOWN,action:To(DF,e,!0)},{keyCode:Dn.UP,action:To(DF,e,!1)},{keyCode:Dn.UP,action:To(TM,e,!1)},{keyCode:Dn.DOWN,action:To(TM,e,!0)},{keyCode:Dn.RIGHT,action:To(cF,e,!0)},{keyCode:Dn.LEFT,action:To(cF,e,!1)},{keyCode:Dn.UP,action:To(FG,e,!1)},{keyCode:Dn.DOWN,action:To(FG,e,!0)},{keyCode:Dn.RIGHT,action:To(_k,e,n,!0)},{keyCode:Dn.LEFT,action:To(_k,e,n,!1)},{keyCode:Dn.RIGHT,ctrlKey:!r,altKey:r,action:To(k6,e,n)},{keyCode:Dn.LEFT,ctrlKey:!r,altKey:r,action:To(aM,e,n)},{keyCode:Dn.UP,action:To(rF,e,!1)},{keyCode:Dn.DOWN,action:To(rF,e,!0)},...c?[{keyCode:Dn.UP,action:To(sF,e,!1)},{keyCode:Dn.DOWN,action:To(sF,e,!0)}]:[]],o).each(f=>{o.preventDefault()})},LF=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||I1(e,n,o)})},mf=(e,n)=>({container:e,offset:n}),Mx=qs.DOM,tw=e=>n=>e===n?-1:0,B1=e=>n=>e.isBlock(n)||ut(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",Uk=(e,n,o)=>{if(en(e)&&n>=0)return K.some(mf(e,n));{const r=Kd(Mx);return K.from(r.backwards(e,n,tw(e),o)).map(c=>mf(c.container,c.container.data.length))}},hf=(e,n,o)=>{if(en(e)&&n>=e.length)return K.some(mf(e,n));{const r=Kd(Mx);return K.from(r.forwards(e,n,tw(e),o)).map(c=>mf(c.container,0))}},hp=(e,n,o)=>{if(!en(e))return K.none();const r=e.data;if(n>=0&&n<=r.length)return K.some(mf(e,n));{const c=Kd(Mx);return K.from(c.backwards(e,n,tw(e),o)).bind(f=>{const p=f.container.data;return hp(f.container,n+p.length,o)})}},WM=(e,n,o)=>{if(!en(e))return K.none();const r=e.data;if(n<=r.length)return K.some(mf(e,n));{const c=Kd(Mx);return K.from(c.forwards(e,n,tw(e),o)).bind(f=>WM(f.container,n-r.length,o))}},Px=(e,n,o,r,c)=>{const f=Kd(e,B1(e));return K.from(f.backwards(n,o,r,c))},uK=e=>e.collapsed&&en(e.startContainer),NF=e=>tl(e.toString().replace(/\u00A0/g," ")),IF=e=>e!==""&&` \uFEFF\f
\r	\v`.indexOf(e)!==-1,dK=(e,n)=>e.substring(n.length),fK=(e,n,o,r=!1)=>{let c;const f=o.charAt(0);for(c=n-1;c>=0;c--){const p=e.charAt(c);if(!r&&IF(p))return K.none();if(f===p&&xr(e,o,c,n))break}return K.some(c)},jM=(e,n,o,r=!1)=>{if(!uK(n))return K.none();const c={text:"",offset:0},f=(C,E,O)=>(c.text=O+c.text,c.offset+=E,fK(c.text,c.offset,o,r).getOr(E)),p=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return Px(e,n.startContainer,n.startOffset,f,p).bind(C=>{const E=n.cloneRange();if(E.setStart(C.container,C.offset),E.setEnd(n.endContainer,n.endOffset),E.collapsed)return K.none();const O=NF(E);return O.lastIndexOf(o)!==0?K.none():K.some({text:dK(O,o),range:E,trigger:o})})},mK=e=>e.nodeType===xo,BF=e=>e.nodeType===Ho,$F=e=>{if(mK(e))return mf(e,e.data.length);{const n=e.childNodes;return n.length>0?$F(n[n.length-1]):mf(e,n.length)}},FF=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?FF(o[n],0):o.length>0&&BF(e)&&o.length===n?$F(o[o.length-1]):mf(e,n)},nw=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return Px(e,n.container,n.offset,(c,f)=>f===0?-1:f,r).filter(c=>{const f=c.container.data.charAt(c.offset-1);return!IF(f)}).isSome()},Wk=e=>n=>{const o=FF(n.startContainer,n.startOffset);return!nw(e,o)},HF=(e,n,o)=>_n(o.triggers,r=>jM(e,n,r)),zF=(e,n)=>{const o=n(),r=e.selection.getRng();return HF(e.dom,r,o).bind(c=>jk(e,n,c))},jk=(e,n,o,r={})=>{var c;const f=n(),C=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",E=pe(f.lookupByTrigger(o.trigger),F=>o.text.length>=F.minChars&&F.matches.getOrThunk(()=>Wk(e.dom))(o.range,C,o.text));if(E.length===0)return K.none();const O=Promise.all(Lt(E,F=>F.fetch(o.text,F.maxResults,r).then(q=>({matchText:o.text,items:q,columns:F.columns,onAction:F.onAction,highlightOn:F.highlightOn}))));return K.some({lookupData:O,context:o})};var nh;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(nh||(nh={}));const ZM=(e,n,o)=>e.stype===nh.Error?n(e.serror):o(e.svalue),hK=e=>{const n=[],o=[];return Re(e,r=>{ZM(r,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},VF=(e,n)=>e.stype===nh.Error?{stype:nh.Error,serror:n(e.serror)}:e,Zk=(e,n)=>e.stype===nh.Value?{stype:nh.Value,svalue:n(e.svalue)}:e,UF=(e,n)=>e.stype===nh.Value?n(e.svalue):e,qk=(e,n)=>e.stype===nh.Error?n(e.serror):e,WF=e=>({stype:nh.Value,svalue:e}),qM=e=>({stype:nh.Error,serror:e}),Ml={fromResult:e=>e.fold(qM,WF),toResult:e=>ZM(e,Ri.error,Ri.value),svalue:WF,partition:hK,serror:qM,bind:UF,bindError:qk,map:Zk,mapError:VF,fold:ZM},GM=e=>Oe(e)&&_t(e).length>100?" removed due to size":JSON.stringify(e,null,2),gK=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Qe("... (only showing first ten failures)")}]):e;return Lt(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},jF=(e,n)=>Ml.serror([{path:e,getErrorInfo:n}]),ZF=(e,n,o)=>jF(e,()=>'Could not find valid *required* value for "'+n+'" in '+GM(o)),Lx=(e,n)=>jF(e,Qe(n)),qF=e=>{const n=(r,c)=>Ml.bindError(e(c),f=>Lx(r,f)),o=Qe("val");return{extract:n,toString:o}},GF=qF(Ml.svalue),Gk=Qe(GF),Kk=(e,n)=>qF(o=>{const r=typeof o;return e(o)?Ml.svalue(o):Ml.serror(`Expected type: ${n} but got: ${r}`)}),KM=Kk(qt,"number"),Yk=Kk(oe,"string"),KF=Kk(xe,"function"),YM=()=>({tag:"required",process:{}}),pK=e=>({tag:"defaultedThunk",process:e}),YF=e=>pK(Qe(e)),XF=()=>({tag:"option",process:{}}),XM=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),JF=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},vK=(e,n)=>Ml.svalue(Il(n,Bl.apply(void 0,e))),Nx=e=>B(Ml.serror,wo)(e),e8={consolidateObj:(e,n)=>{const o=Ml.partition(e);return o.errors.length>0?Nx(o.errors):vK(o.values,n)},consolidateArr:e=>{const n=Ml.partition(e);return n.errors.length>0?Nx(n.errors):Ml.svalue(n.values)}},t8=(e,n,o,r)=>Jo(n,o).fold(()=>ZF(e,o,n),r),JM=(e,n,o,r)=>{const c=Jo(e,n).getOrThunk(()=>o(e));return r(c)},bK=(e,n,o)=>o(Jo(e,n)),yK=(e,n,o,r)=>{const c=Jo(e,n).map(f=>f===!0?o(e):f);return r(c)},wK=(e,n,o,r,c)=>{const f=C=>c.extract(n.concat([r]),C),p=C=>C.fold(()=>Ml.svalue(K.none()),E=>{const O=c.extract(n.concat([r]),E);return Ml.map(O,K.some)});switch(e.tag){case"required":return t8(n,o,r,f);case"defaultedThunk":return JM(o,r,e.process,f);case"option":return bK(o,r,p);case"defaultedOptionThunk":return yK(o,r,e.process,p);case"mergeWithThunk":return JM(o,r,Qe({}),C=>{const E=Il(e.process(o),C);return f(E)})}},CK=(e,n,o)=>{const r={},c=[];for(const f of o)JF(f,(p,C,E,O)=>{const F=wK(E,e,n,p,O);Ml.fold(F,U=>{c.push(...U)},U=>{r[C]=U})},(p,C)=>{r[p]=C(n)});return c.length>0?Ml.serror(c):Ml.svalue(r)},Ix=e=>({extract:(r,c)=>CK(r,c,e),toString:()=>`obj{
`+Lt(e,c=>JF(c,(f,p,C,E)=>f+" -> "+E.toString(),(f,p)=>"state("+f+")")).join(`
`)+"}"}),xK=e=>({extract:(r,c)=>{const f=Lt(c,(p,C)=>e.extract(r.concat(["["+C+"]"]),p));return e8.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),SK=(e,n,o)=>{const r=n.extract([e],o);return Ml.mapError(r,c=>({input:o,errors:c}))},n8=(e,n,o)=>Ml.toResult(SK(e,n,o)),Xk=e=>`Errors: 
`+gK(e.errors).join(`
`)+`

Input object: `+GM(e.input),ow=XM,EK=e=>ow(e,e,YM(),Gk()),QM=(e,n)=>ow(e,e,YM(),n),o8=e=>QM(e,Yk),s8=e=>QM(e,KF),_K=e=>ow(e,e,XF(),Gk()),r8=(e,n)=>ow(e,e,XF(),n),i8=e=>r8(e,Yk),TK=e=>r8(e,KF),eP=(e,n)=>ow(e,e,YF(n),Gk()),a8=(e,n,o)=>ow(e,e,YF(n),o),tP=(e,n)=>a8(e,n,KM),kK=(e,n,o)=>a8(e,n,xK(o)),AK=o8("type"),OK=s8("fetch"),DK=s8("onAction"),ma=e=>eP("columns",e),RK=Ix([AK,o8("trigger"),tP("minChars",1),ma(1),tP("maxResults",10),TK("matches"),OK,DK,kK("highlightOn",[],Yk)]),MK=e=>n8("Autocompleter",RK,e),PK=()=>{const e={},n={},o={},r={},c={},f={},p={},C={},E={},O=(J,ge)=>(fe,de)=>{J[fe.toLowerCase()]={...de,type:ge}},F=(J,ge)=>(fe,de)=>{J[fe.toLowerCase()]={type:ge,...de}},U=(J,ge)=>r[J.toLowerCase()]=ge,q=(J,ge)=>p[J.toLowerCase()]=ge;return{addButton:O(e,"button"),addGroupToolbarButton:O(e,"grouptoolbarbutton"),addToggleButton:O(e,"togglebutton"),addMenuButton:O(e,"menubutton"),addSplitButton:O(e,"splitbutton"),addMenuItem:O(n,"menuitem"),addNestedMenuItem:O(n,"nestedmenuitem"),addToggleMenuItem:O(n,"togglemenuitem"),addAutocompleter:O(o,"autocompleter"),addContextMenu:O(c,"contextmenu"),addContextToolbar:O(f,"contexttoolbar"),addContextForm:F(f,"contextform"),addSidebar:O(C,"sidebar"),addView:O(E,"views"),addIcon:U,addContext:q,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:c,contextToolbars:f,sidebars:C,views:E,contexts:p})}},c8=e=>{const n=e.ui.registry.getAll().popups,o=ro(n,p=>MK(p).fold(C=>{throw new Error(Xk(C))},ln)),r=Zu(Nr(o,p=>p.trigger)),c=mr(o);return{dataset:o,triggers:r,lookupByTrigger:p=>pe(c,C=>C.trigger===p)}},nP=(e,n)=>{const o=ic(n.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",r=>{const c=r.which;c===8?o.throttle():c===27?(o.cancel(),n.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},l8=e=>{const n=pa(),o=Un(!1),r=n.isSet,c=()=>{r()&&(IE(e),o.set(!1),n.clear())},f=U=>{r()||n.set({trigger:U.trigger,matchLength:U.text.length})},p=Pi(()=>c8(e)),C=U=>n.get().map(q=>jM(e.dom,e.selection.getRng(),q.trigger,!0).bind(J=>jk(e,p,J,U))).getOrThunk(()=>zF(e,p)),E=U=>{C(U).fold(c,q=>{f(q.context),q.lookupData.then(J=>{n.get().map(ge=>{const fe=q.context;ge.trigger===fe.trigger&&(n.set({...ge,matchLength:fe.text.length}),o.get()?(I2(e,{range:fe.range}),Ao(e,{lookupData:J})):(o.set(!0),I2(e,{range:fe.range}),IO(e,{lookupData:J})))})})})},O=(U,q)=>{const J=U.compareBoundaryPoints(window.Range.START_TO_START,q),ge=U.compareBoundaryPoints(window.Range.END_TO_END,q);return J>=0&&ge<=0},F=()=>n.get().bind(({trigger:U})=>{const q=e.selection.getRng();return jM(e.dom,q,U,o.get()).filter(({range:J})=>O(q,J)).map(({range:J})=>J)});e.addCommand("mceAutocompleterReload",(U,q)=>{const J=Oe(q)?q.fetchOptions:{};E(J)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{F().each(U=>{I2(e,{range:U})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>F().isSome()),nP(e,{cancelIfNecessary:c,load:E})},LK=Dc().browser.isSafari(),u8=e=>zf(Ee.fromDom(e)),d8=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},Qk=(e,n)=>K.from(e.getParent(n.container(),"details")),f8=(e,n)=>Qk(e,n).isSome(),NK=(e,n)=>{const o=K.from(e.getParent(n.startContainer,"details")),r=K.from(e.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const c=o.bind(f=>K.from(e.select("summary",f)[0]));return K.some({startSummary:c,startDetails:o,endDetails:r})}else return K.none()},IK=(e,n)=>vc(n).exists(o=>o.isEqual(e)),BK=(e,n)=>bd(n).exists(o=>Vr(o.getNode())&&Vc(n,o).exists(r=>r.isEqual(e))||o.isEqual(e)),$K=(e,n)=>n.startSummary.exists(o=>IK(e,o)),FK=(e,n)=>n.startSummary.exists(o=>BK(e,o)),HK=(e,n)=>n.startDetails.exists(o=>Vc(o,e).forall(r=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(r.container())))),zK=(e,n,o)=>o.startDetails.exists(r=>pc(e,n).forall(c=>!r.contains(c.container()))),m8=(e,n)=>{const o=n.getNode();ht(o)||e.selection.setCursorLocation(o,n.offset())},h8=(e,n,o)=>{const r=e.dom.getParent(n.container(),"details");if(r&&!r.open){const c=e.dom.select("summary",r)[0];c&&(o?vc(c):bd(c)).each(p=>m8(e,p))}else m8(e,n)},g8=(e,n)=>{const o=E=>E.contains(e.startContainer),r=E=>E.contains(e.endContainer),c=n.startSummary.exists(o),f=n.startSummary.exists(r),p=n.startDetails.forall(E=>n.endDetails.forall(O=>E!==O));return(c||f)&&!(c&&f)||p},oP=(e,n,o)=>{const{dom:r,selection:c}=e,f=e.getBody();if(o==="character"){const p=Et.fromRangeStart(c.getRng()),C=r.getParent(p.container(),r.isBlock),E=Qk(r,p),O=C&&r.isEmpty(C),F=k(C==null?void 0:C.previousSibling),U=k(C==null?void 0:C.nextSibling);return O&&(n?U:F)&&Zg(!n,f,p).exists(ge=>f8(r,ge)&&!Md(E,Qk(r,ge)))?!0:Zg(n,f,p).fold(Tt,q=>{const J=Qk(r,q);if(f8(r,q)&&!Md(E,J)){if(n||h8(e,q,!1),C&&O){if(n&&F)return!0;if(!n&&U)return!0;h8(e,q,n),e.dom.remove(C)}return!0}else return!1})}else return!1},p8=(e,n,o,r)=>{const f=e.selection.getRng(),p=Et.fromRangeStart(f),C=e.getBody();return r==="selection"?g8(f,n):o?FK(p,n)||zK(C,p,n):$K(p,n)||HK(p,n)},VK=(e,n,o)=>NK(e.dom,e.selection.getRng()).fold(()=>oP(e,n,o),r=>p8(e,r,n,o)||oP(e,n,o)),UK=(e,n,o)=>{const r=e.selection,c=r.getNode(),f=r.getRng(),p=Et.fromRangeStart(f);return n2(c)?(o==="selection"&&d8(f,c)||CI(n,p,c)?u8(c):e.undoManager.transact(()=>{const C=r.getSel();let{anchorNode:E,anchorOffset:O,focusNode:F,focusOffset:U}=C??{};const q=()=>{Ie(E)&&Ie(O)&&Ie(F)&&Ie(U)&&(C==null||C.setBaseAndExtent(E,O,F,U))},J=()=>{E=C==null?void 0:C.anchorNode,O=C==null?void 0:C.anchorOffset,F=C==null?void 0:C.focusNode,U=C==null?void 0:C.focusOffset},ge=(de,He)=>{Re(de.childNodes,ze=>{Qv(ze)&&He.appendChild(ze)})},fe=e.dom.create("span",{"data-mce-bogus":"1"});ge(c,fe),c.appendChild(fe),q(),(o==="word"||o==="line")&&(C==null||C.modify("extend",n?"right":"left",o)),!r.isCollapsed()&&d8(r.getRng(),fe)?u8(c):(e.execCommand(n?"ForwardDelete":"Delete"),J(),ge(fe,c),q()),e.dom.remove(fe)}),!0):!1},L0=(e,n,o)=>VK(e,n,o)||LK&&UK(e,n,o)?K.some(Nt):K.none(),v8=e=>(n,o,r={})=>{const c=n.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:Nt,inputType:o},p=fv(new InputEvent(e));return n.dispatch(e,{...p,...f,...r})},sw=v8("input"),eA=v8("beforeinput"),sP=Dc(),b8=sP.os,rP=b8.isMacOS()||b8.isiOS(),jK=sP.browser.isFirefox(),ZK=(e,n,o)=>{const r=o.keyCode===Dn.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),f=c?"character":"selection",p=C=>c?C?"word":"line":"selection";aF([{keyCode:Dn.BACKSPACE,action:To(U6,e)},{keyCode:Dn.BACKSPACE,action:To(VR,e,!1)},{keyCode:Dn.DELETE,action:To(VR,e,!0)},{keyCode:Dn.BACKSPACE,action:To($R,e,!1)},{keyCode:Dn.DELETE,action:To($R,e,!0)},{keyCode:Dn.BACKSPACE,action:To(lM,e,n,!1)},{keyCode:Dn.DELETE,action:To(lM,e,n,!0)},{keyCode:Dn.BACKSPACE,action:To(_D,e,!1)},{keyCode:Dn.DELETE,action:To(_D,e,!0)},{keyCode:Dn.BACKSPACE,action:To(L0,e,!1,f)},{keyCode:Dn.DELETE,action:To(L0,e,!0,f)},...rP?[{keyCode:Dn.BACKSPACE,altKey:!0,action:To(L0,e,!1,p(!0))},{keyCode:Dn.DELETE,altKey:!0,action:To(L0,e,!0,p(!0))},{keyCode:Dn.BACKSPACE,metaKey:!0,action:To(L0,e,!1,p(!1))}]:[{keyCode:Dn.BACKSPACE,ctrlKey:!0,action:To(L0,e,!1,p(!0))},{keyCode:Dn.DELETE,ctrlKey:!0,action:To(L0,e,!0,p(!0))}],{keyCode:Dn.BACKSPACE,action:To(WR,e,!1)},{keyCode:Dn.DELETE,action:To(WR,e,!0)},{keyCode:Dn.BACKSPACE,action:To(hM,e,!1)},{keyCode:Dn.DELETE,action:To(hM,e,!0)},{keyCode:Dn.BACKSPACE,action:To(hx,e,!1)},{keyCode:Dn.DELETE,action:To(hx,e,!0)},{keyCode:Dn.BACKSPACE,action:To(pk,e,!1)},{keyCode:Dn.DELETE,action:To(pk,e,!0)},{keyCode:Dn.BACKSPACE,action:To(fp,e,!1)},{keyCode:Dn.DELETE,action:To(fp,e,!0)},{keyCode:Dn.BACKSPACE,action:To(UR,e,!1)},{keyCode:Dn.DELETE,action:To(UR,e,!0)},{keyCode:Dn.BACKSPACE,action:To(Dk,e,!1)},{keyCode:Dn.DELETE,action:To(Dk,e,!0)}],o).filter(C=>e.selection.isEditable()).each(C=>{o.preventDefault(),eA(e,r).isDefaultPrevented()||(C(),sw(e,r))})},qK=(e,n,o,r)=>R0([{keyCode:Dn.BACKSPACE,action:To(s6,e)},{keyCode:Dn.DELETE,action:To(s6,e)},...rP?[{keyCode:Dn.BACKSPACE,altKey:!0,action:To(Cx,e)},{keyCode:Dn.DELETE,altKey:!0,action:To(Cx,e)},...o?[{keyCode:jK?224:91,action:To(()=>(L6(e,r),Cx(e)))}]:[]]:[{keyCode:Dn.BACKSPACE,ctrlKey:!0,action:To(Cx,e)},{keyCode:Dn.DELETE,ctrlKey:!0,action:To(Cx,e)}]],n),GK=(e,n)=>{let o=!1,r=[];e.on("keydown",c=>{o=c.keyCode===Dn.BACKSPACE,r=dM(e),c.isDefaultPrevented()||ZK(e,n,c)}),e.on("keyup",c=>{c.isDefaultPrevented()||(qK(e,c,o,r),r.length=0),o=!1})},y8=(e,n)=>{const o=Ee.fromDom(e),r=Ee.fromDom(n),c=vi("span"),f=Ue(Nn,o),p=E=>Ur(E)&&li(E,"font-size").isSome(),C=[...p(r)?[r]:[],...I(r,p,f)];Re(C.slice(1),E=>{Ep(E,"font-size"),bi(E,"data-mce-style"),c(E)&&ah(E)&&Rc(E)})},KK=e=>{for(;e;){if(qn(e)||en(e)&&e.data&&/[\r\n\s]/.test(e.data))return K.from(Ee.fromDom(e));e=e.nextSibling}return K.none()},rw=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const f=E=>/^(ul|ol|dl)$/.test(ko(E)),p=E=>f(E)?K.from(E):fh(E,f),C=E=>o.isEmpty(E.dom);KK(n.firstChild).each(E=>{p(E).fold(()=>{if(C(E)){const O=fF(E,0).element;Ur(O)&&!Ff(O)&&xs(O,Ee.fromText(Er))}},O=>{Ca(O,Ee.fromText(Er))})})}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const f=new fr(n,n);let p=n,C;for(;C=f.current();){if(en(C)){c.setStart(C,0),c.setEnd(C,0);break}if(r[C.nodeName.toLowerCase()]){c.setStartBefore(C),c.setEndBefore(C);break}p=C,C=f.next()}C||(c.setStart(p,0),c.setEnd(p,0))}else Vr(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),_C(e,c)},iw=(e,n)=>{const o=e.getRoot();let r,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){r=c;break}c=c.parentNode}return c!==o?r:o},iP=e=>K.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),YK=e=>iP(e).fold(Qe(""),n=>n.nodeName.toUpperCase()),w8=e=>iP(e).filter(n=>Hf(Ee.fromDom(n))).isSome(),aP=e=>{e.innerHTML='<br data-mce-bogus="1">'},XK=(e,n,o)=>{const r=e.dom;K.from(o.style).map(r.parseStyle).each(E=>{const F={...uh(Ee.fromDom(n)),...E};r.setStyles(n,F)});const c=K.from(o.class).map(E=>E.split(/\s+/)),f=K.from(n.className).map(E=>pe(E.split(/\s+/),O=>O!==""));Gr(c,f,(E,O)=>{const F=pe(O,q=>!ut(E,q)),U=[...E,...F];r.setAttrib(n,"class",U.join(" "))});const p=["style","class"],C=si(o,(E,O)=>!ut(p,O));r.setAttribs(n,C)},Bx=(e,n)=>{if(Ua(e).toLowerCase()===n.tagName.toLowerCase()){const r=Qp(e);XK(e,n,r)}},cP=(e,n,o,r,c=!0,f,p)=>{const C=e.dom,E=e.schema,O=Ua(e),F=o?o.nodeName.toUpperCase():"";let U=n;const q=E.getTextInlineElements();let J;f||F==="TABLE"||F==="HR"?J=C.create(f||O,p||{}):J=o.cloneNode(!1);let ge=J;if(!c)C.setAttrib(J,"style",null),C.setAttrib(J,"class",null);else{do if(q[U.nodeName]){if(sl(U)||Ol(U))continue;const fe=U.cloneNode(!1);C.setAttrib(fe,"id",""),J.hasChildNodes()?(fe.appendChild(J.firstChild),J.appendChild(fe)):(ge=fe,J.appendChild(fe))}while((U=U.parentNode)&&U!==r);y8(J,ge)}return Bx(e,J),aP(ge),J},C8=(e,n)=>e.dom.getParent(n,lb),JK=(e,n,o)=>{let r=n;for(;r&&r!==e&&k(r.nextSibling);){const c=r.parentElement;if(!c||!o(c))return lb(c);r=c}return!1},QK=(e,n,o)=>!n&&o.nodeName.toLowerCase()===Ua(e)&&e.dom.isEmpty(o)&&JK(e.getBody(),o,r=>jn(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),eY=(e,n,o)=>{var r,c,f;const p=n(Ua(e)),C=C8(e,o);C&&(e.dom.insertAfter(p,C),rw(e,p),((f=(c=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||c===void 0?void 0:c.length)!==null&&f!==void 0?f:0)>1&&e.dom.remove(o))},tY=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,nY=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},x8=(e,n)=>{const o=e==null?void 0:e.parentNode;return Ie(o)&&o.nodeName===n},S8=e=>Ie(e)&&/^(OL|UL|LI)$/.test(e.nodeName),lP=e=>Ie(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Nne=e=>S8(e)&&S8(e.parentNode),tA=e=>{const n=e.parentNode;return lP(n)?n:e},N0=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!qn(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},uP=e=>Ht(Nr(uh(Ee.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),E8=(e,n,o,r,c)=>{const f=e.dom,p=e.selection.getRng(),C=o.parentNode;if(o===e.getBody()||!C)return;Nne(o)&&(c="LI");const E=lP(r)?uP(r):void 0;let O=lP(r)&&E?n(c,{style:uP(r)}):n(c);if(N0(o,r,!0)&&N0(o,r,!1))if(x8(o,"LI")){const F=tA(o);f.insertAfter(O,F),nY(o)?f.remove(F):f.remove(o)}else f.replace(O,o);else if(N0(o,r,!0))x8(o,"LI")?(f.insertAfter(O,tA(o)),O.appendChild(f.doc.createTextNode(" ")),O.appendChild(o)):C.insertBefore(O,o),f.remove(r);else if(N0(o,r,!1))f.insertAfter(O,tA(o)),f.remove(r);else{o=tA(o);const F=p.cloneRange();F.setStartAfter(r),F.setEndAfter(o);const U=F.extractContents();if(c==="LI"&&tY(U,"LI")){const q=pe(Lt(O.children,Ee.fromDom),Pn(vi("br")));O=U.firstChild,f.insertAfter(U,o),Re(q,J=>ed(Ee.fromDom(O),J)),E&&O.setAttribute("style",E)}else f.insertAfter(U,o),f.insertAfter(O,o);f.remove(r)}rw(e,O)},oY=e=>{Re(he(Ee.fromDom(e),Ms),n=>{const o=n.dom;o.nodeValue=tl(o.data)})},_8=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},T8=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),dP=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,sY=(e,n)=>e.nodeName===n||e.nextSibling&&e.nextSibling.nodeName===n,fP=(e,n)=>Ie(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",k8=(e,n,o)=>{var r;const c=[];if(!o)return;let f=o;for(;f=f.firstChild;){if(e.isBlock(f))return;qn(f)&&!n[f.nodeName.toLowerCase()]&&c.push(f)}let p=c.length;for(;p--;)f=c[p],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((r=f.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||T8(e,f))&&e.remove(f)},mP=(e,n,o)=>en(n)?e?o===1&&n.data.charAt(o-1)===Fi?0:o:o===n.data.length-1&&n.data.charAt(o)===Fi?n.data.length:o:o,hP=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,mP(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,mP(!1,e.endContainer,e.endOffset)),n},rY=e=>{let n=e;do en(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},iY=(e,n,o,r,c)=>{var f,p;const C=e.dom,E=(f=iw(C,r))!==null&&f!==void 0?f:C.getRoot();let O=C.getParent(r,C.isBlock);if(!O||!fP(C,O)){if(O=O||E,!O.hasChildNodes()){const J=C.create(n);return Bx(e,J),O.appendChild(J),o.setStart(J,0),o.setEnd(J,0),J}let F=r;for(;F&&F.parentNode!==O;)F=F.parentNode;let U;for(;F&&!C.isBlock(F);)U=F,F=F.previousSibling;const q=(p=U==null?void 0:U.parentElement)===null||p===void 0?void 0:p.nodeName;if(U&&q&&e.schema.isValidChild(q,n.toLowerCase())){const J=U.parentNode,ge=C.create(n);for(Bx(e,ge),J.insertBefore(ge,U),F=U;F&&!C.isBlock(F);){const fe=F.nextSibling;ge.appendChild(F),F=fe}o.setStart(r,c),o.setEnd(r,c)}}return r},aY=(e,n)=>{n.normalize();const o=n.lastChild;(!o||qn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},A8=(e,n)=>{const o=rN(e);return Je(n)?!1:oe(o)?ut(on.explode(o),n.nodeName.toLowerCase()):o},O8={insert:(e,n)=>{let o,r,c,f,p=!1;const C=e.dom,E=e.schema,O=E.getNonEmptyElements(),F=e.selection.getRng(),U=Ua(e),q=Ee.fromDom(F.startContainer),J=jl(q,F.startOffset),ge=J.exists(Ce=>fu(Ce)&&!Kl(Ce)),fe=F.collapsed&&ge,de=(Ce,dt)=>cP(e,o,vn,Ft,$g(e),Ce,dt),He=Ce=>{const dt=mP(Ce,o,r);if(en(o)&&(Ce?dt>0:dt<o.data.length))return!1;if((o.parentNode===vn||o===vn)&&p&&!Ce||Ce&&qn(o)&&o===vn.firstChild)return!0;if(dP(o,"TABLE")||dP(o,"HR"))return sY(o,"BR")?!Ce:p&&!Ce||!p&&Ce;const tn=new fr(o,vn);en(o)&&(Ce&&dt===0?tn.prev():!Ce&&dt===o.data.length&&tn.next());let Qn;for(;Qn=tn.current();){if(qn(Qn)){if(!Qn.getAttribute("data-mce-bogus")){const Po=Qn.nodeName.toLowerCase();if(O[Po]&&Po!=="br")return!1}}else if(en(Qn)&&!km(Qn.data))return!1;Ce?tn.prev():tn.next()}return!0},ze=()=>{let Ce;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&nn!=="HGROUP"?Ce=de(U):Ce=de(),A8(e,f)&&fP(C,f)&&C.isEmpty(vn,void 0,{includeZwsp:!0})?Ce=C.split(f,vn):C.insertAfter(Ce,vn),rw(e,Ce),Ce};Oa(C,F).each(Ce=>{F.setStart(Ce.startContainer,Ce.startOffset),F.setEnd(Ce.endContainer,Ce.endOffset)}),o=F.startContainer,r=F.startOffset;const Ye=!!(n&&n.shiftKey),lt=!!(n&&n.ctrlKey);qn(o)&&o.hasChildNodes()&&!fe&&(p=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,p&&en(o)?r=o.data.length:r=0);const Ft=iw(C,o);if(!Ft||_8(e,o))return;Ye||(o=iY(e,U,F,o,r));let vn=C.getParent(o,C.isBlock)||C.getRoot();f=Ie(vn==null?void 0:vn.parentNode)?C.getParent(vn.parentNode,C.isBlock):null,c=vn?vn.nodeName.toUpperCase():"";const nn=f?f.nodeName.toUpperCase():"";if(nn==="LI"&&!lt){const Ce=f;vn=Ce,f=Ce.parentNode,c=nn}if(qn(f)&&QK(e,Ye,vn))return eY(e,de,vn);if(/^(LI|DT|DD)$/.test(c)&&qn(f)&&C.isEmpty(vn)){E8(e,de,f,vn,U);return}if(!fe&&(vn===e.getBody()||!fP(C,vn)))return;const Pt=vn.parentNode;let Ke;if(fe)Ke=de(U),J.fold(()=>{xs(q,Ee.fromDom(Ke))},Ce=>{Ca(Ce,Ee.fromDom(Ke))}),e.selection.setCursorLocation(Ke,0);else if(Im(vn))Ke=tu(vn),C.isEmpty(vn)&&aP(vn),Bx(e,Ke),rw(e,Ke);else if(He(!1))Ke=ze();else if(He(!0)&&Pt){const Ce=Et.fromRangeStart(F),dt=eD(Ce),tn=Ee.fromDom(vn),Po=X_(tn,Ce,e.schema)?XN(tn,Ce,e.schema).bind(vs=>K.from(vs.getNode())):K.none();Ke=Pt.insertBefore(de(),vn);const ss=dP(vn,"HR")||dt?Ke:Po.getOr(vn);rw(e,ss)}else{const Ce=hP(F).cloneRange();Ce.setEndAfter(vn);const dt=Ce.extractContents();oY(dt),rY(dt),Ke=dt.firstChild,vn===Ke?Ie(Pt)&&C.insertAfter(dt,Pt):C.insertAfter(dt,vn),k8(C,O,Ke),aY(C,vn),C.isEmpty(vn)&&aP(vn),Ke.normalize(),C.isEmpty(Ke)?(C.remove(Ke),ze()):(Bx(e,Ke),rw(e,Ke))}C.setAttrib(Ke,"id",""),e.dispatch("NewBlock",{newBlock:Ke})},fakeEventName:"insertParagraph"},cY=(e,n,o)=>{const r=new fr(n,o);let c;const f=e.getNonEmptyElements();for(;c=r.next();)if(f[c.nodeName.toLowerCase()]||en(c)&&c.length>0)return!0;return!1},lY=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),_C(e,r)},uY=(e,n)=>{const o=e.selection,r=e.dom,c=o.getRng();let f,p=!1;Oa(r,c).each(J=>{c.setStart(J.startContainer,J.startOffset),c.setEnd(J.endContainer,J.endOffset)});let C=c.startOffset,E=c.startContainer;if(qn(E)&&E.hasChildNodes()){const J=C>E.childNodes.length-1;E=E.childNodes[Math.min(C,E.childNodes.length-1)]||E,J&&en(E)?C=E.data.length:C=0}let O=r.getParent(E,r.isBlock);const F=O&&O.parentNode?r.getParent(O.parentNode,r.isBlock):null,U=F?F.nodeName.toUpperCase():"",q=!!(n&&n.ctrlKey);U==="LI"&&!q&&(O=F),en(E)&&C>=E.data.length&&(cY(e.schema,E,O||r.getRoot())||(f=r.create("br"),c.insertNode(f),c.setStartAfter(f),c.setEndAfter(f),p=!0)),f=r.create("br"),Ub(r,c,f),lY(e,f,p),e.undoManager.add()},dY=(e,n)=>{const o=Ee.fromTag("br");Ca(Ee.fromDom(n),o),e.undoManager.add()},fY=(e,n)=>{hY(e.getBody(),n)||yl(Ee.fromDom(n),Ee.fromTag("br"));const o=Ee.fromTag("br");yl(Ee.fromDom(n),o),lY(e,o.dom,!1),e.undoManager.add()},mY=e=>Vr(e.getNode()),hY=(e,n)=>mY(Et.after(n))?!0:pc(e,Et.after(n)).map(o=>Vr(o.getNode())).getOr(!1),gP=e=>e&&e.nodeName==="A"&&"href"in e,gY=e=>e.fold(Tt,gP,gP,Tt),pP=e=>{const n=Ue($h,e),o=Et.fromRangeStart(e.selection.getRng());return up(n,e.getBody(),o).filter(gY)},Uh=(e,n)=>{n.fold(Nt,Ue(dY,e),Ue(fY,e),Nt)},D8={insert:(e,n)=>{const o=pP(e);o.isSome()?o.each(Ue(Uh,e)):uY(e,n)},fakeEventName:"insertLineBreak"},$x=(e,n)=>iP(e).filter(o=>n.length>0&&cs(Ee.fromDom(o),n)).isSome(),vP=e=>$x(e,hs(e)),R8=e=>$x(e,ef(e)),zu=Tc.generate([{br:[]},{block:[]},{none:[]}]),bY=(e,n)=>R8(e),M8=e=>(n,o)=>w8(n)===e,P8=(e,n)=>(o,r)=>YK(o)===e.toUpperCase()===n,yY=e=>{const n=iw(e.dom,e.selection.getStart());return Je(n)},Fx=e=>P8("pre",e),L8=()=>P8("summary",!0),nA=e=>(n,o)=>FO(n)===e,wY=(e,n)=>vP(e),bP=(e,n)=>n,yP=e=>{const n=Ua(e),o=iw(e.dom,e.selection.getStart());return Ie(o)&&e.schema.isValidChild(o.nodeName,n)},CY=e=>{const n=e.selection.getRng(),o=Ee.fromDom(n.startContainer),c=jl(o,n.startOffset).map(f=>fu(f)&&!Kl(f));return n.collapsed&&c.getOr(!0)},gf=(e,n)=>(o,r)=>Ht(e,(f,p)=>f&&p(o,r),!0)?K.some(n):K.none(),xY=(e,n)=>u6([gf([bY],zu.none()),gf([Fx(!0),yY],zu.none()),gf([L8()],zu.br()),gf([Fx(!0),nA(!1),bP],zu.br()),gf([Fx(!0),nA(!1)],zu.block()),gf([Fx(!0),nA(!0),bP],zu.block()),gf([Fx(!0),nA(!0)],zu.br()),gf([M8(!0),bP],zu.br()),gf([M8(!0)],zu.block()),gf([wY],zu.br()),gf([bP],zu.br()),gf([yP],zu.block()),gf([CY],zu.block())],[e,!!(n&&n.shiftKey)]).getOr(zu.none()),oA=(e,n,o)=>{n.mode.isReadOnly()||(n.selection.isCollapsed()||yI(n),!(Ie(o)&&eA(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Ie(o)&&sw(n,e.fakeEventName)))},N8=(e,n)=>{if(e.mode.isReadOnly())return;const o=()=>oA(D8,e,n),r=()=>oA(O8,e,n),c=xY(e,n);switch(HO(e)){case"linebreak":c.fold(o,o,Nt);break;case"block":c.fold(r,r,Nt);break;case"invert":c.fold(r,o,Nt);break;default:c.fold(o,r,Nt);break}},I8=Dc(),SY=I8.os.isiOS()&&I8.browser.isSafari(),B8=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),MT(e.undoManager),e.undoManager.transact(()=>{N8(e,n)}))},sA=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(en(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(e.startOffset-1);return o.test(r)}else return!1},EY=e=>{let n=K.none();const o=c=>{n=K.some(c.selection.getBookmark()),c.undoManager.add()},r=(c,f)=>{c.undoManager.undo(),n.fold(Nt,p=>c.selection.moveToBookmark(p)),B8(c,f),n=K.none()};e.on("keydown",c=>{c.keyCode===Dn.ENTER&&(SY&&sA(e.selection.getRng())?o(e):B8(e,c))}),e.on("keyup",c=>{c.keyCode===Dn.ENTER&&n.each(()=>r(e,c))})},_Y=(e,n,o)=>{const r=fs.os.isMacOS()||fs.os.isiOS();R0([{keyCode:Dn.END,action:To(tF,e,!0)},{keyCode:Dn.HOME,action:To(tF,e,!1)},...r?[]:[{keyCode:Dn.HOME,action:To(Nk,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Dn.END,action:To(Nk,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Dn.END,action:To(lF,e,!0)},{keyCode:Dn.HOME,action:To(lF,e,!1)},{keyCode:Dn.END,action:To(wx,e,!0,n)},{keyCode:Dn.HOME,action:To(wx,e,!1,n)}],o).each(c=>{o.preventDefault()})},wP=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||_Y(e,n,o)})},CP=e=>{e.on("input",n=>{n.isComposing||tT(e)})},TY=Dc(),kY=(e,n,o)=>{R0([{keyCode:Dn.PAGE_UP,action:To(wx,e,!1,n)},{keyCode:Dn.PAGE_DOWN,action:To(wx,e,!0,n)}],o)},xP=e=>e.stopImmediatePropagation(),$8=e=>e.keyCode===Dn.PAGE_UP||e.keyCode===Dn.PAGE_DOWN,F8=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",xP,!0):!o&&e.get()&&n.off("NodeChange",xP),e.set(o)},AY=(e,n)=>{if(TY.os.isMacOS())return;const o=Un(!1);e.on("keydown",r=>{$8(r)&&F8(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||kY(e,n,r),$8(r)&&o.get()&&(F8(o,e,!1),e.nodeChanged())})},H8=(e,n)=>e===n||e.contains(n),OY=(e,n)=>!H8(e.getBody(),n.startContainer)||!H8(e.getBody(),n.endContainer)?!0:MN(e.dom,n),DY=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||Xt(n.getTargetRanges(),o=>!OY(e,o)))&&n.preventDefault()})},SP=(e,n)=>{const o=n.container(),r=n.offset();return en(o)?(o.insertData(r,e),K.some(Et(o,r+e.length))):s1(n).map(c=>{const f=Ee.fromText(e);return n.isAtEnd()?yl(c,f):Ca(c,f),Et(f.dom,e.length)})},Hx=Ue(SP,Er),EP=Ue(SP," "),z8=(e,n,o)=>oI(e,n,o)?Hx(n):EP(n),RY=e=>n=>n.fold(o=>Vc(e.dom,Et.before(o)),o=>vc(o),o=>bd(o),o=>pc(e.dom,Et.after(o))),MY=(e,n,o)=>r=>oI(e,r,o)?Hx(n):EP(n),zx=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},PY=(e,n)=>e.isEditable(e.getParent(n,"summary")),V8=e=>{const n=Et.fromRangeStart(e.selection.getRng()),o=Ee.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=Ue($h,e),c=Et.fromRangeStart(e.selection.getRng());return up(r,e.getBody(),c).bind(RY(o)).map(f=>()=>MY(o,n,e.schema)(f).each(zx(e)))}else return K.none()},LY=e=>{const n=()=>{const o=Ee.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=Et.fromRangeStart(e.selection.getRng());z8(o,r,e.schema).each(zx(e))};return ga(fs.browser.isFirefox()&&e.selection.isEditable()&&PY(e.dom,e.selection.getRng().startContainer),n)},U8=(e,n)=>{aF([{keyCode:Dn.SPACEBAR,action:To(V8,e)},{keyCode:Dn.SPACEBAR,action:To(LY,e)}],n).each(o=>{n.preventDefault(),eA(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),sw(e,"insertText",{data:" "}))})},NY=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||U8(e,n)})},IY=e=>QO(e)?[{keyCode:Dn.TAB,action:To(PF,e,!0)},{keyCode:Dn.TAB,shiftKey:!0,action:To(PF,e,!1)}]:[],BY=(e,n)=>{R0([...IY(e)],n).each(o=>{n.preventDefault()})},$Y=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||BY(e,n)})},FY=e=>{if(e.addShortcut("Meta+P","","mcePrint"),l8(e),Cd(e))return Un(null);{const n=yx(e);return DY(e),CG(e),LF(e,n),GK(e,n),EY(e),NY(e),CP(e),$Y(e),wP(e,n),AY(e,n),n}},aw=(e,n)=>{const o=ux(e);o===null||fx(e,o)||e.undoManager.transact(()=>{Oe(n.styles)&&e.dom.setStyles(o,n.styles),Oe(n.attrs)&&cn(n.attrs,(r,c)=>e.dom.setAttrib(o,c,r))})},_P=(e,n)=>()=>{const o=ux(e);return Ie(o)&&o.nodeName===n},HY=e=>{e.addCommand("InsertUnorderedList",(n,o)=>{mk(e,"UL",o)}),e.addCommand("InsertOrderedList",(n,o)=>{mk(e,"OL",o)}),e.addCommand("InsertDefinitionList",(n,o)=>{mk(e,"DL",o)}),e.addCommand("RemoveList",()=>{mx(e)}),e.addCommand("mceListUpdate",(n,o)=>{Oe(o)&&aw(e,o)}),e.addCommand("mceListBackspaceDelete",(n,o)=>{PR(e,o)}),e.addQueryStateHandler("InsertUnorderedList",_P(e,"UL")),e.addQueryStateHandler("InsertOrderedList",_P(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",_P(e,"DL"))},W8=e=>{e.on("keydown",n=>{n.keyCode===Dn.BACKSPACE?PR(e,!1)&&n.preventDefault():n.keyCode===Dn.DELETE&&PR(e,!0)&&n.preventDefault()})},j8=e=>e.type===3,Z8=e=>e.length===0,zY=e=>{const n=(c,f)=>{const p=il.create("li");Re(c,C=>p.append(C)),f?e.insert(p,f,!0):e.append(p)},o=(c,f)=>j8(f)?[...c,f]:!Z8(c)&&!j8(f)?(n(c,f),[]):c,r=Ht(e.children(),o,[]);Z8(r)||n(r)},q8=e=>{e.on("PreInit",()=>{const{parser:n}=e;n.addNodeFilter("ul,ol",o=>Re(o,zY))})},VY=e=>{e.on("keydown",n=>{n.keyCode!==Dn.TAB||Dn.metaKeyPressed(n)||e.undoManager.transact(()=>{(n.shiftKey?SR(e):z$(e))&&n.preventDefault()})})},UY=e=>{o4(e)&&VY(e)},$ne=e=>{W8(e),HY(e),q8(e),UY(e)};class rA{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const f=n.selection.getRng(),p={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(c.type==="nodechange"||!N4(p,o))&&n.dispatch("SelectionChange"),o=p}),n.on("contextmenu",()=>{xC(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&Xv(n)&&!r.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&Xv(n)&&(n.selection.getNode().nodeName==="IMG"?af.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor,r=o.selection;let c;if(o.initialized&&r&&!KE(o)&&!jv(o)){const f=o.getBody();c=r.getStart(!0)||f,(c.ownerDocument!==o.getDoc()||!o.dom.isChildOf(c,f))&&(c=f);const p=[];o.dom.getParent(c,C=>C===f?!0:(p.push(C),!1)),o.dispatch("NodeChange",{...n,element:c,parents:p})}}isSameElementPath(n){let o;const r=this.editor,c=Vo(r.dom.getParents(n,rn,r.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const G8="x-tinymce/html",iA=Qe(G8),TP="<!-- "+G8+" -->",WY=e=>TP+e,jY=e=>e.replace(TP,""),K8=e=>e.indexOf(TP)!==-1,ZY=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),qY=(e,n)=>{let o="<"+e;const r=Nr(n,(c,f)=>f+'="'+bg.encodeAllRaw(c)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},GY=(e,n,o)=>{const r=e.split(/\n\n/),c=qY(n,o),f="</"+n+">",p=Lt(r,E=>E.split(/\n/).join("<br />")),C=E=>c+E+f;return p.length===1?p[0]:Lt(p,C).join("")},Y8="%MCEPASTEBIN%",KY=(e,n)=>{const{dom:o,selection:r}=e,c=e.getBody();n.set(r.getRng());const f=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Y8);fs.browser.isFirefox()&&o.setStyle(f,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(f,"beforedeactivate focusin focusout",p=>{p.stopPropagation()}),f.focus(),r.select(f,!0)},YY=(e,n)=>{const o=e.dom;if(kP(e)){let r;const c=n.get();for(;r=kP(e);)o.remove(r),o.unbind(r);c&&e.selection.setRng(c)}n.set(null)},kP=e=>e.dom.get("mcepastebin"),ir=e=>Ie(e)&&e.id==="mcepastebin",XY=e=>{const n=e.dom,o=(p,C)=>{p.appendChild(C),n.remove(C,!0)},[r,...c]=pe(e.getBody().childNodes,ir);Re(c,p=>{o(r,p)});const f=n.select("div[id=mcepastebin]",r);for(let p=f.length-1;p>=0;p--){const C=n.create("div");r.insertBefore(C,f[p]),o(C,f[p])}return r?r.innerHTML:""},AP=e=>e===Y8,JY=e=>{const n=Un(null);return{create:()=>KY(e,n),remove:()=>YY(e,n),getEl:()=>kP(e),getHtml:()=>XY(e),getLastRng:n.get}},aA=(e,n)=>(on.each(n,o=>{Le(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),X8=e=>{const n=fd(),o=op({},n);let r="";const c=n.getVoidElements(),f=on.makeMap("script noscript style textarea video audio iframe object"," "),p=n.getBlockElements(),C=E=>{const O=E.name,F=E;if(O==="br"){r+=`
`;return}if(O!=="wbr"){if(c[O]&&(r+=" "),f[O]){r+=" ";return}if(E.type===3&&(r+=E.value),!(E.name in n.getVoidElements())){let U=E.firstChild;if(U)do C(U);while(U=U.next)}p[O]&&F.next&&(r+=`
`,O==="p"&&(r+=`
`))}};return e=aA(e,[/<!\[[^\]]+\]>/g]),C(o.parse(e)),r},J8=e=>(e=aA(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,c)=>!r&&!c?" ":Er],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),QY=e=>{let n=0;return()=>e+n++},eX=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return on.hasOwn(o,n)?"image/"+o[n]:"image/"+n},Q8=(e,n)=>{const o=op({sanitize:Y2(e),sandbox_iframes:iy(e),sandbox_iframes_exclusions:Uv(e),convert_unsafe_embeds:J2(e)},e.schema);o.addNodeFilter("meta",c=>{on.each(c,f=>{f.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return d1({validate:!0},e.schema).serialize(r)},Vx=(e,n)=>({content:e,cancelled:n}),tX=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),c=BO(e,r,o);return Vx(c.node.innerHTML,c.isDefaultPrevented())},nX=(e,n,o)=>{const r=oN(e,n,o),c=Q8(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?tX(e,c,o):Vx(c,r.isDefaultPrevented())},OP=(e,n,o)=>nX(e,n,o),DP=(e,n)=>(e.insertContent(n,{merge:GO(e),paste:!0}),!0),RP=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),oX=(e,n)=>RP(n)&&Xt(a_(e),o=>Sr(n.toLowerCase(),`.${o.toLowerCase()}`)),sX=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),e7=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),rX=(e,n,o)=>!e.selection.isCollapsed()&&RP(n)?e7(e,n,o):!1,iX=(e,n,o)=>oX(e,n)?sX(e,n,o):!1,t7=(e,n)=>{on.each([rX,iX,DP],o=>!o(e,n,DP))},aX=(e,n,o)=>{o||!o_(e)?DP(e,n):t7(e,n)},cX=QY("mceclip"),lX=e=>{const n=LM();return NM(n,e),$k(n),n},Ux=(e,n,o,r,c)=>{const f=OP(e,n,o);if(!f.cancelled){const p=f.content,C=()=>aX(e,p,r);c?eA(e,"insertFromPaste",{dataTransfer:lX(p)}).isDefaultPrevented()||(C(),sw(e,"insertFromPaste")):C()}},cA=(e,n,o,r)=>{const c=o||K8(n);Ux(e,jY(n),c,!1,r)},lA=(e,n,o)=>{const r=e.dom.encode(n).replace(/\r\n/g,`
`),c=Gw(r,q2(e)),f=GY(c,Ua(e),Qp(e));Ux(e,f,!1,!0,o)},n7=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},Wh=(e,n)=>n in e&&e[n].length>0,o7=e=>Wh(e,"text/html")||Wh(e,"text/plain"),s7=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ie(o)?e.dom.encode(o[1]):void 0},uX=(e,n,o,r)=>{const c=cX(),f=ps(e)&&Ie(o.name),p=f?s7(e,o.name):c,C=f?o.name:void 0,E=n.create(c,o,r,p,C);return n.add(E),E},dX=(e,n)=>{XD(n.uri).each(({data:o,type:r,base64Encoded:c})=>{const f=c?o:btoa(o),p=n.file,C=e.editorUpload.blobCache,E=C.getByData(f,r),O=E??uX(e,C,p,f);cA(e,`<img src="${O.blobUri()}">`,!1,!0)})},fX=e=>e.type==="paste",mX=e=>Promise.all(Lt(e,n=>QD(n).then(o=>({file:n,uri:o})))),r7=e=>{const n=a_(e);return o=>go(o.type,"image/")&&Xt(n,r=>eX(r)===o.type)},hX=(e,n)=>{const o=n.items?Rn(bn(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],r=n.files?bn(n.files):[];return pe(o.length>0?o:r,r7(e))},MP=(e,n,o)=>{const r=fX(n)?n.clipboardData:n.dataTransfer;if(Vg(e)&&r){const c=hX(e,r);if(c.length>0)return n.preventDefault(),mX(c).then(f=>{o&&e.selection.setRng(o),Re(f,p=>{dX(e,p)})}),!0}return!1},uA=e=>{var n,o;return fs.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},PP=e=>Dn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,Wx=(e,n,o,r,c)=>{let f=J8(o);const p=Wh(n,iA())||K8(o),C=!p&&ZY(f),E=RP(f);(AP(f)||!f.length||C&&!E)&&(r=!0),(r||E)&&(Wh(n,"text/plain")&&C?f=n["text/plain"]:f=X8(f)),!AP(f)&&(r?lA(e,f,c):cA(e,f,p,c))},gX=(e,n,o)=>{let r;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",f=>{PP(f)&&!f.isDefaultPrevented()&&(r=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||uA(f))return;const p=o.get()==="text"||r;r=!1;const C=n7(f.clipboardData);!o7(C)&&MP(e,f,c())||(Wh(C,"text/html")?(f.preventDefault(),Wx(e,C,C["text/html"],p,!0)):Wh(C,"text/plain")&&Wh(C,"text/uri-list")?(f.preventDefault(),Wx(e,C,C["text/plain"],p,!0)):(n.create(),af.setEditorTimeout(e,()=>{const E=n.getHtml();n.remove(),Wx(e,C,E,p,!1)},0)))})},pX=e=>{const n=c=>go(c,"webkit-fake-url"),o=c=>go(c,"data:"),r=c=>{var f;return((f=c.data)===null||f===void 0?void 0:f.paste)===!0};e.parser.addNodeFilter("img",(c,f,p)=>{if(!Vg(e)&&r(p))for(const C of c){const E=C.attr("src");oe(E)&&!C.attr("data-mce-object")&&E!==fs.transparentSrc&&(n(E)||!ry(e)&&o(E))&&C.remove()}})},cw=(e,n,o)=>{gX(e,n,o),pX(e)},vX=(e,n)=>{n.get()==="text"?(n.set("html"),BE(e,!1)):(n.set("text"),BE(e,!0)),e.focus()},lw=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{vX(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&cA(e,r.html,r.internal,!1),r.text&&lA(e,r.text,!1)})},jx=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(iA(),n),!0}catch{return!1}else return!1},i7=(e,n,o,r)=>{jx(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},a7=e=>(n,o)=>{const{dom:r,selection:c}=e,f=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),p=r.create("div",{contenteditable:"true"},n);r.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(p),r.add(e.getBody(),f);const C=c.getRng();p.focus();const E=r.createRng();E.selectNodeContents(p),c.setRng(E),af.setEditorTimeout(e,()=>{c.setRng(C),r.remove(f),o()},0)},I0=e=>({html:WY(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),bX=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),dA=e=>!e.selection.isCollapsed()||bX(e),yX=(e,n)=>o=>{!o.isDefaultPrevented()&&dA(e)&&e.selection.isEditable()&&i7(o,I0(e),a7(e),()=>{if(fs.browser.isChromium()||fs.browser.isFirefox()){const r=e.selection.getRng();af.setEditorTimeout(e,()=>{e.selection.setRng(r),yM(e,n)},0)}else yM(e,n)})},c7=e=>n=>{!n.isDefaultPrevented()&&dA(e)&&i7(n,I0(e),a7(e),Nt)},l7=(e,n)=>{e.on("cut",yX(e,n)),e.on("copy",c7(e))},fA=(e,n)=>{var o,r;return Gm.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},u7=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},d7=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},wX=e=>Xt(e.files,n=>/^image\//.test(n.type)),f7=(e,n,o,r)=>{const c=e.getParent(o,p=>Vt(n,p));if(!k(e.getParent(o,"summary")))return!0;if(c&&jn(r,"text/html")){const p=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!k(p.querySelector(c.nodeName.toLowerCase()))}else return!1},CX=e=>{e.on("input",n=>{const o=r=>k(r.querySelector("summary"));if(n.inputType==="deleteByDrag"){const r=pe(e.dom.select("details"),o);Re(r,c=>{Vr(c.firstChild)&&c.firstChild.remove();const f=e.dom.create("summary");f.appendChild(Zp().dom),c.prepend(f)})}})},m7=(e,n)=>{zg(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),Vg(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&wX(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=fA(e,o);if(Je(r))return;const c=n7(o.dataTransfer),f=Wh(c,iA());if((!o7(c)||u7(c))&&MP(e,o,r))return;const p=c[iA()],C=p||c["text/html"]||c["text/plain"],E=f7(e.dom,e.schema,r.startContainer,c),O=n.get();O&&!E||C&&(o.preventDefault(),af.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(p||O&&E)&&e.execCommand("Delete"),d7(e,r);const F=J8(C);c["text/html"]?cA(e,F,f,!0):lA(e,F,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{Vg(e)&&!n.get()&&(o.preventDefault(),d7(e,fA(e,o))),o.type==="dragend"&&n.set(!1)}),CX(e)},LP=e=>{const n=c=>f=>{c(e,f)},o=QE(e);xe(o)&&e.on("PastePreProcess",n(o));const r=e_(e);xe(r)&&e.on("PastePostProcess",n(r))},h7=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},xX=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,g7=e=>on.trim(e).replace(xX,_g).toLowerCase(),SX=(e,n,o)=>{const r=oy(e);if(o||r==="all"||!n_(e))return n;const c=r?r.split(/[, ]/):[];if(c&&r!=="none"){const f=e.dom,p=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(C,E,O,F)=>{const U=f.parseStyle(f.decode(O)),q={};for(let ge=0;ge<c.length;ge++){const fe=U[c[ge]];let de=fe,He=f.getStyle(p,c[ge],!0);/color/.test(c[ge])&&(de=g7(de),He=g7(He)),He!==de&&(q[c[ge]]=fe)}const J=f.serializeStyle(q,"span");return J?E+' style="'+J+'"'+F:E+F})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,p,C,E)=>p+' style="'+C+'"'+E),n},p7=e=>{(fs.browser.isChromium()||fs.browser.isSafari())&&h7(e,SX)},NP=(e,n)=>{const o=Un(!1),r=Un(sy(e)?"text":"html"),c=JY(e);p7(e),lw(e,r),LP(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>r.get()==="text"),e.on("PreInit",()=>{l7(e,n),m7(e,o),cw(e,c,r)})},EX=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},v7=e=>{e.parser.addNodeFilter("details",n=>{const o=e4(e);Re(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=t4(e);Re(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},b7=e=>{EX(e),v7(e)},_X=Vr,IP=en,TX=e=>Ar(e.dom),kX=e=>Nc(e.dom),Zx=e=>n=>Nn(Ee.fromDom(e),n),AX=(e,n,o)=>Gs(Ee.fromDom(e),r=>kX(r)||o.isBlock(ko(r)),Zx(n)).getOr(Ee.fromDom(n)).dom,y7=(e,n)=>Gs(Ee.fromDom(e),TX,Zx(n)),BP=(e,n,o)=>{const r=new fr(e,n),c=o?r.next.bind(r):r.prev.bind(r);let f=e;for(let p=o?e:c();p&&!_X(p);p=c())Dr(p)&&(f=p);return f},w7=(e,n,o)=>{const c=Et.fromRangeStart(e).getNode(),f=AX(c,n,o),p=BP(c,f,!1),C=BP(c,f,!0),E=document.createRange();return y7(p,f).fold(()=>{IP(p)?E.setStart(p,0):E.setStartBefore(p)},O=>E.setStartBefore(O.dom)),y7(C,f).fold(()=>{IP(C)?E.setEnd(C,C.data.length):E.setEndAfter(C)},O=>E.setEndAfter(O.dom)),E},OX=e=>{const n=w7(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(dT(n))},DX=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),OX(e))})};var uw;(function(e){e.Before="before",e.After="after"})(uw||(uw={}));const RX=(e,n)=>Math.abs(e.left-n),MX=(e,n)=>Math.abs(e.right-n),C7=(e,n)=>e>=n.top&&e<=n.bottom,PX=(e,n)=>e.top<n.bottom&&e.bottom>n.top,LX=(e,n)=>{const o=C2(e,n)/Math.min(e.height,n.height);return PX(e,n)&&o>.5},NX=(e,n)=>{const o=pe(e,r=>C7(n,r));return w2(o).fold(()=>[[],e],r=>{const{pass:c,fail:f}=St(e,p=>LX(p,r));return[c,f]})},IX=(e,n)=>({node:e.node,position:RX(e,n)<MX(e,n)?uw.Before:uw.After}),BX=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),$P=(e,n,o,r)=>{const c=U=>Dr(U.node)?K.some(U):qn(U.node)?$P(bn(U.node.childNodes),n,o,!1):K.none(),f=(U,q,J)=>c(q).filter(ge=>Math.abs(J(U,n,o)-J(ge,n,o))<2&&en(ge.node)),p=(U,q)=>{const J=je(U,(ge,fe)=>q(ge,n,o)-q(fe,n,o));return _n(J,c).map(ge=>r&&!en(ge.node)&&J.length>1?f(ge,J[1],q).getOr(ge):ge)},[C,E]=NX(A0(e),o),{pass:O,fail:F}=St(E,U=>U.top<o);return p(C,BX).orThunk(()=>p(F,wv)).orThunk(()=>p(O,wv))},$X=(e,n,o,r)=>{const c=(f,p)=>{const C=O=>qn(O)&&O.classList.contains("mce-drag-container"),E=pe(f.dom.childNodes,Pn(C));return p.fold(()=>$P(E,o,r,!0),O=>{const F=pe(E,U=>U!==O.dom);return $P(F,o,r,!0)}).orThunk(()=>(Nn(f,e)?K.none():Xc(f)).bind(F=>c(F,K.some(f))))};return c(n,K.none())},FX=(e,n,o)=>{const r=Ee.fromDom(e),c=Wl(r),p=Ee.fromPoint(c,n,o).filter(C=>Rs(r,C)).getOr(r);return $X(r,p,n,o)},FP=(e,n,o)=>FX(e,n,o).filter(r=>Zv(r.node)).map(r=>IX(r,n)),HP=e=>{var n,o;const r=e.getBoundingClientRect(),c=e.ownerDocument,f=c.documentElement,p=c.defaultView;return{top:r.top+((n=p==null?void 0:p.scrollY)!==null&&n!==void 0?n:0)-f.clientTop,left:r.left+((o=p==null?void 0:p.scrollX)!==null&&o!==void 0?o:0)-f.clientLeft}},HX=e=>e.inline?HP(e.getBody()):{left:0,top:0},zX=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},VX=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:c},qx=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=HP(e.getContentAreaContainer()),r=VX(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},UX=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),WX=(e,n)=>UX(HX(e),zX(e),qx(e,n)),zP=e=>({target:e,srcElement:e}),jX=(e,n,o,r)=>({...n,dataTransfer:r,type:e,...zP(o)}),ZX=(e,n,o)=>{const r=jo("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:Nt,stopImmediatePropagation:Nt,stopPropagation:Nt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...zP(n)}},qX=(e,n)=>{const o=JG(e);return n==="dragstart"?(gF(o),PM(o)):n==="drop"?(ZG(o),$k(o)):(P0(o),bF(o)),o},GX=(e,n,o,r)=>{const c=qX(o,e);return ht(r)?ZX(e,n,c):jX(e,r,n,c)},mA=32,hA=100,Gx=8,Kx=16,x7=Ar,KX=Oh(x7,Nc),YX=(e,n,o)=>x7(o)&&o!==n&&e.isEditable(o.parentElement),Fne=(e,n,o)=>Je(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),XX=(e,n,o,r)=>{const c=e.dom,f=n.cloneNode(!0);c.setStyles(f,{width:o,height:r}),c.setAttrib(f,"data-mce-selected",null);const p=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),c.setStyles(f,{margin:0,boxSizing:"border-box"}),p.appendChild(f),p},JX=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},dw=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},Yx=dw("left",-mA),S7=dw("left",mA),E7=dw("top",-mA),_7=dw("top",mA),T7=(e,n,o,r,c,f,p,C,E,O,F,U)=>{let q=0,J=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(q=n.pageX+o-c),n.pageY+r>f&&(J=n.pageY+r-f),e.style.width=o-q+"px",e.style.height=r-J+"px";const ge=E.clientHeight,fe=E.clientWidth,de=p+E.getBoundingClientRect().top,He=C+E.getBoundingClientRect().left;F.on(ze=>{ze.intervalId.clear(),ze.dragging&&U&&(p+Gx>=ge?ze.intervalId.set(_7(O)):p-Gx<=0?ze.intervalId.set(E7(O)):C+Gx>=fe?ze.intervalId.set(S7(O)):C-Gx<=0?ze.intervalId.set(Yx(O)):de+Kx>=window.innerHeight?ze.intervalId.set(_7(window)):de-Kx<=0?ze.intervalId.set(E7(window)):He+Kx>=window.innerWidth?ze.intervalId.set(S7(window)):He-Kx<=0&&ze.intervalId.set(Yx(window)))})},k7=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},VP=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);k7(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&zf(Ee.fromDom(o))},A7=e=>e.button===0,QX=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),eJ=(e,n)=>o=>{if(A7(o)){const r=rt(n.dom.getParents(o.target),KX).getOr(null);if(Ie(r)&&YX(n.dom,n.getBody(),r)){const c=n.dom.getPos(r),f=n.getBody(),p=n.getDoc().documentElement;e.set({element:r,dataTransfer:LM(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?f.scrollWidth:p.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:p.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:r.offsetWidth,height:r.offsetHeight,ghost:XX(n,r,r.offsetWidth,r.offsetHeight),intervalId:Sf(hA)})}}},O7=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),FP(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const c=e._selectionOverrides.showCaret(1,r.node,r.position===uw.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},Xx=(e,n,o,r,c)=>{n==="dragstart"&&NM(r,e.dom.getOuterHTML(o));const f=GX(n,o,r,c);return e.dispatch(n,f)},Hne=(e,n)=>{const o=Sn((c,f)=>O7(n,c,f),0);n.on("remove",o.cancel);const r=e;return c=>e.on(f=>{const p=Math.max(Math.abs(c.screenX-f.screenX),Math.abs(c.screenY-f.screenY));if(!f.dragging&&p>10){const C=Xx(n,"dragstart",f.element,f.dataTransfer,c);if(Ie(C.dataTransfer)&&(f.dataTransfer=C.dataTransfer),C.isDefaultPrevented())return;f.dragging=!0,n.focus()}if(f.dragging){const C=c.currentTarget===n.getDoc().documentElement,E=QX(f,WX(n,c));JX(f.ghost,n.getBody()),T7(f.ghost,E,f.width,f.height,f.maxX,f.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),r,C),o.throttle(c.clientX,c.clientY)}})},tJ=e=>{const n=e.getSel();if(Ie(n)){const r=n.getRangeAt(0).startContainer;return en(r)?r.parentNode:r}else return null},nJ=(e,n)=>o=>{e.on(r=>{var c;if(r.intervalId.clear(),r.dragging){if(Fne(n,tJ(n.selection),r.element)){const f=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();Xx(n,"drop",f,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{VP(n.dom,r.element),QG(r.dataTransfer).each(C=>n.insertContent(C)),n._selectionOverrides.hideFakeCaret()})}Xx(n,"dragend",n.getBody(),r.dataTransfer,o)}}),gA(e)},D7=(e,n,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>Xx(n,"dragend",r.element,r.dataTransfer),c=>Xx(n,"dragend",r.element,r.dataTransfer,c))}),gA(e)},R7=(e,n)=>o=>D7(e,n,K.some(o)),gA=e=>{e.on(n=>{n.intervalId.clear(),k7(n.ghost)}),e.clear()},pA=e=>{const n=pa(),o=qs.DOM,r=document,c=eJ(n,e),f=Hne(n,e),p=nJ(n,e),C=R7(n,e);e.on("mousedown",c),e.on("mousemove",f),e.on("mouseup",p),o.bind(r,"mousemove",f),o.bind(r,"mouseup",C),e.on("remove",()=>{o.unbind(r,"mousemove",f),o.unbind(r,"mouseup",C)}),e.on("keydown",E=>{E.keyCode===Dn.ESC&&D7(n,e,K.none())})},M7=e=>{const n=c=>{if(!c.isDefaultPrevented()){const f=c.dataTransfer;f&&(ut(f.types,"Files")||f.files.length>0)&&(c.preventDefault(),c.type==="drop"&&S1(e,"Dropped file type is not supported"))}},o=c=>{M4(e,c.target)&&n(c)},r=()=>{const c=qs.DOM,f=e.dom,p=document,C=e.inline?e.getBody():e.getDoc(),E=["drop","dragover"];Re(E,O=>{c.bind(p,O,o),f.bind(C,O,n)}),e.on("remove",()=>{Re(E,O=>{c.unbind(p,O,o),f.unbind(C,O,n)})})};e.on("init",()=>{af.setEditorTimeout(e,r,0)})},oJ=e=>{pA(e),Hv(e)&&M7(e)},sJ=e=>{const n=Sn(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=BR(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},rJ=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(ad(o)){const r=a0(e.getBody(),o),c=Ar(r)?r:o;e.selection.getNode()!==c&&gx(e,c).each(f=>e.selection.setRng(f))}})})},Jx=Ar,UP=(e,n)=>a0(e.getBody(),n),iJ=e=>{const n=e.selection,o=e.dom,r=e.getBody(),c=Q2(e,r,o.isBlock,()=>o0(e)),f="sel-"+o.uniqueId(),p="data-mce-selected";let C;const E=nn=>Ie(nn)&&o.hasClass(nn,"mce-offscreen-selection"),O=nn=>nn!==r&&(Jx(nn)||ad(nn))&&o.isChildOf(nn,r)&&o.isEditable(nn.parentNode),F=nn=>{nn&&n.setRng(nn)},U=(nn,Pt,Ke,Ce=!0)=>e.dispatch("ShowCaret",{target:Pt,direction:nn,before:Ke}).isDefaultPrevented()?null:(Ce&&n.scrollIntoView(Pt,nn===-1),c.show(Ke,Pt)),q=nn=>{nn.hasAttribute("data-mce-caret")&&(tu(nn),n.scrollIntoView(nn))},J=()=>{e.on("click",Pt=>{o.isEditable(Pt.target)||(Pt.preventDefault(),e.focus())}),e.on("blur NewBlock",lt),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",Pt=>{const Ke=Pt.target,Ce=UP(e,Ke);Jx(Ce)?(Pt.preventDefault(),gx(e,Ce).each(Ye)):O(Ke)&&gx(e,Ke).each(Ye)},!0),e.on("mousedown",Pt=>{const Ke=Pt.target;if(Ke!==r&&Ke.nodeName!=="HTML"&&!o.isChildOf(Ke,r)||!K3(e,Pt.clientX,Pt.clientY))return;lt(),vn();const Ce=UP(e,Ke);Jx(Ce)?(Pt.preventDefault(),gx(e,Ce).each(Ye)):FP(r,Pt.clientX,Pt.clientY).each(dt=>{Pt.preventDefault();const tn=U(1,dt.node,dt.position===uw.Before,!1);F(tn),kr(Ce)?Ce.focus():e.getBody().focus()})}),e.on("keypress",Pt=>{Dn.modifierPressed(Pt)||Jx(n.getNode())&&Pt.preventDefault()}),e.on("GetSelectionRange",Pt=>{let Ke=Pt.range;if(C){if(!C.parentNode){C=null;return}Ke=Ke.cloneRange(),Ke.selectNode(C),Pt.range=Ke}}),e.on("focusin",Pt=>{if(!ad(Pt.target)&&e.getBody().contains(Pt.target)&&Pt.target!==e.getBody()&&!e.dom.isEditable(Pt.target.parentNode)){c.isShowing()&&c.hide(),Pt.target.contains(e.selection.getNode())||(e.selection.select(Pt.target,!0),e.selection.collapse(!0));const Ke=Ye(e.selection.getRng(),!0);Ke&&e.selection.setRng(Ke)}}),e.on("SetSelectionRange",Pt=>{Pt.range=de(Pt.range);const Ke=Ye(Pt.range,Pt.forward);Ke&&(Pt.range=Ke)});const nn=Pt=>qn(Pt)&&Pt.id==="mcepastebin";e.on("AfterSetSelectionRange",Pt=>{const Ke=Pt.range,Ce=Ke.startContainer.parentElement;!fe(Ke)&&!nn(Ce)&&vn(),E(Ce)||lt()}),oJ(e),sJ(e),rJ(e)},ge=nn=>dc(nn)||Vf(nn)||Th(nn),fe=nn=>ge(nn.startContainer)||ge(nn.endContainer),de=nn=>{const Pt=e.schema.getVoidElements(),Ke=o.createRng(),Ce=nn.startContainer,dt=nn.startOffset,tn=nn.endContainer,Qn=nn.endOffset;return jn(Pt,Ce.nodeName.toLowerCase())?dt===0?Ke.setStartBefore(Ce):Ke.setStartAfter(Ce):Ke.setStart(Ce,dt),jn(Pt,tn.nodeName.toLowerCase())?Qn===0?Ke.setEndBefore(tn):Ke.setEndAfter(tn):Ke.setEnd(tn,Qn),Ke},He=(nn,Pt)=>{const Ke=Ee.fromDom(e.getBody()),Ce=e.getDoc(),dt=rd(Ke,"#"+f).getOrThunk(()=>{const Po=Ee.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Ce);return $r(Po,"id",f),xs(Ke,Po),Po}),tn=o.createRng();ql(dt),wl(dt,[Ee.fromText(Er,Ce),Ee.fromDom(Pt),Ee.fromText(Er,Ce)]),tn.setStart(dt.dom.firstChild,1),tn.setEnd(dt.dom.lastChild,0),Mc(dt,{top:o.getPos(nn,e.getBody()).y+"px"}),ig(dt);const Qn=n.getSel();return Qn&&(Qn.removeAllRanges(),Qn.addRange(tn)),tn},ze=nn=>{const Pt=nn.cloneNode(!0),Ke=e.dispatch("ObjectSelected",{target:nn,targetClone:Pt});if(Ke.isDefaultPrevented())return null;const Ce=He(nn,Ke.targetClone),dt=Ee.fromDom(nn);return Re(kt(Ee.fromDom(e.getBody()),`*[${p}]`),tn=>{Nn(dt,tn)||bi(tn,p)}),o.getAttrib(nn,p)||nn.setAttribute(p,"1"),C=nn,vn(),Ce},Ye=(nn,Pt)=>{if(!nn)return null;if(nn.collapsed){if(!fe(nn)){const tn=Pt?1:-1,Qn=Um(tn,r,nn),Po=Qn.getNode(!Pt);if(Ie(Po)){if(Zv(Po))return U(tn,Po,Pt?!Qn.isAtEnd():!1,!1);if(Ps(Po)&&Ar(Po.nextSibling)){const vs=o.createRng();return vs.setStart(Po,0),vs.setEnd(Po,0),vs}}const ss=Qn.getNode(Pt);if(Ie(ss)){if(Zv(ss))return U(tn,ss,Pt?!1:!Qn.isAtEnd(),!1);if(Ps(ss)&&Ar(ss.previousSibling)){const vs=o.createRng();return vs.setStart(ss,1),vs.setEnd(ss,1),vs}}}return null}let Ke=nn.startContainer,Ce=nn.startOffset;const dt=nn.endOffset;if(en(Ke)&&Ce===0&&Jx(Ke.parentNode)&&(Ke=Ke.parentNode,Ce=o.nodeIndex(Ke),Ke=Ke.parentNode),!qn(Ke))return null;if(dt===Ce+1&&Ke===nn.endContainer){const tn=Ke.childNodes[Ce];if(O(tn))return ze(tn)}return null},lt=()=>{C&&C.removeAttribute(p),rd(Ee.fromDom(e.getBody()),"#"+f).each(or),C=null},Ft=()=>{c.destroy(),C=null},vn=()=>{c.hide()};return Cd(e)||J(),{showCaret:U,showBlockCaretContainer:q,hideFakeCaret:vn,destroy:Ft}},P7=(e,n)=>{let o=n;for(let r=e.previousSibling;en(r);r=r.previousSibling)o+=r.data.length;return o},L7=(e,n,o,r,c)=>{if(en(o)&&(r<0||r>o.data.length))return[];const f=c&&en(o)?[P7(o,r)]:[r];let p=o;for(;p!==n&&p.parentNode;)f.push(e.nodeIndex(p,c)),p=p.parentNode;return p===n?f.reverse():[]},WP=(e,n,o,r,c,f,p=!1)=>{const C=L7(e,n,o,r,p),E=L7(e,n,c,f,p);return{start:C,end:E}},vA=(e,n)=>{const o=n.slice(),r=o.pop();return qt(r)?Ht(o,(f,p)=>f.bind(C=>K.from(C.childNodes[p])),K.some(e)).bind(f=>en(f)&&(r<0||r>f.data.length)?K.none():K.some({node:f,offset:r})):K.none()},jP=(e,n)=>vA(e,n.start).bind(({node:o,offset:r})=>vA(e,n.end).map(({node:c,offset:f})=>{const p=document.createRange();return p.setStart(o,r),p.setEnd(c,f),p})),zne=(e,n,o,r=!1)=>WP(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),fw=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n,en(n.firstChild)&&km(n.firstChild.data)),fw(e,r,o)}},Qx=(e,n,o,r=!0)=>{const c=n.startContainer.parentNode,f=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(en(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),en(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),fw(e,c,o),c!==f&&fw(e,f,o))},bA=(e,n)=>K.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),eS=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:$m(r).concat(e.blockPatterns),inlinePatterns:Ng(r).concat(e.inlinePatterns)}},ZP=(e,n,o,r)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,r),c.toString()},N7=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),yA=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},qP=(e,n,o)=>{const r=jP(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=r.startContainer,f=r.endContainer,p=r.endOffset===0?f:f.splitText(r.endOffset),C=r.startOffset===0?c:c.splitText(r.startOffset),E=C.parentNode,O=p.parentNode;return{prefix:n,end:O.insertBefore(N7(e,n+"-end"),p),start:E.insertBefore(N7(e,n+"-start"),C)}},tS=(e,n,o)=>{fw(e,e.get(n.prefix+"-end"),o),fw(e,e.get(n.prefix+"-start"),o)},wA=e=>e.start.length===0,I7=e=>(n,o)=>{const c=n.data.substring(0,o),f=c.lastIndexOf(e.charAt(e.length-1)),p=c.lastIndexOf(e);return p!==-1?p+e.length:f!==-1?f+1:-1},B7=(e,n,o,r)=>{const c=n.start;return Px(e,r.container,r.offset,I7(c),o).bind(p=>{var C,E;const O=(E=(C=o.textContent)===null||C===void 0?void 0:C.indexOf(c))!==null&&E!==void 0?E:-1;if(O!==-1&&p.offset>=O+c.length){const U=e.createRng();return U.setStart(p.container,p.offset-c.length),U.setEnd(p.container,p.offset),K.some(U)}else{const U=p.offset-c.length;return hp(p.container,U,o).map(q=>{const J=e.createRng();return J.setStart(q.container,q.offset),J.setEnd(p.container,p.offset),J}).filter(q=>q.toString()===c).orThunk(()=>B7(e,n,o,mf(p.container,0)))}})},aJ=(e,n,o,r,c,f=!1)=>{if(n.start.length===0&&!f){const p=e.createRng();return p.setStart(o,r),p.setEnd(o,r),K.some(p)}return Uk(o,r,c).bind(p=>B7(e,n,c,p).bind(E=>{var O;if(f){if(E.endContainer===p.container&&E.endOffset===p.offset)return K.none();if(p.offset===0&&((O=E.endContainer.textContent)===null||O===void 0?void 0:O.length)===E.endOffset)return K.none()}return K.some(E)}))},$7=(e,n,o,r)=>{const c=e.dom,f=c.getRoot(),p=o.pattern,C=o.position.container,E=o.position.offset;return hp(C,E-o.pattern.end.length,n).bind(O=>{const F=WP(c,f,O.container,O.offset,C,E,r);if(wA(p))return K.some({matches:[{pattern:p,startRng:F,endRng:F}],position:O});{const U=CA(e,o.remainingPatterns,O.container,O.offset,n,r),q=U.getOr({matches:[],position:O}),J=q.position;return aJ(c,p,J.container,J.offset,n,U.isNone()).map(fe=>{const de=zne(c,f,fe,r);return{matches:q.matches.concat([{pattern:p,startRng:de,endRng:F}]),position:mf(fe.startContainer,fe.startOffset)}})}})},CA=(e,n,o,r,c,f)=>{const p=e.dom;return Uk(o,r,p.getRoot()).bind(C=>{const E=ZP(p,c,o,r);for(let O=0;O<n.length;O++){const F=n[O];if(!Sr(E,F.end))continue;const U=n.slice();U.splice(O,1);const q=$7(e,c,{pattern:F,remainingPatterns:U,position:C},f);if(q.isNone()&&r>0)return CA(e,n,o,r-1,c,f);if(q.isSome())return q}return K.none()})},F7=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?Re(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},cJ=(e,n,o,r)=>{const c=yA(e.dom,o);Qx(e.dom,c,r),F7(e,n,c)},GP=(e,n,o,r,c)=>{const f=e.dom,p=yA(f,r),C=yA(f,o);Qx(f,C,c),Qx(f,p,c);const E={prefix:o.prefix,start:o.end,end:r.start},O=yA(f,E);F7(e,n,O)},lJ=(e,n)=>{const o=ii("mce_textpattern"),r=Dt(n,(c,f)=>{const p=qP(e,o+`_end${c.length}`,f.endRng);return c.concat([{...f,endMarker:p}])},[]);return Dt(r,(c,f)=>{const p=r.length-c.length-1,C=wA(f.pattern)?f.endMarker:qP(e,o+`_start${p}`,f.startRng);return c.concat([{...f,startMarker:C}])},[])},uJ=e=>je(e,(n,o)=>o.end.length-n.end.length),dJ=(e,n)=>{const o=Zo(e,r=>Xt(n,c=>r.pattern.start===c.pattern.start&&r.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},H7=(e,n,o,r,c,f)=>{const p=CA(e,c.inlinePatterns,o,r,n,f).fold(()=>[],E=>E.matches),C=CA(e,uJ(c.inlinePatterns),o,r,n,f).fold(()=>[],E=>E.matches);return dJ(p,C)},z7=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),c=lJ(o,n);Re(c,f=>{const p=o.getParent(f.startMarker.start,o.isBlock),C=E=>E===p;wA(f.pattern)?cJ(e,f.pattern,f.endMarker,C):GP(e,f.pattern,f.startMarker,f.endMarker,C),tS(o,f.endMarker,C),tS(o,f.startMarker,C)}),e.selection.moveToBookmark(r)},V7=(e,n,o)=>hf(n,0,n).map(r=>{const c=r.container;return WM(c,o.start.length,n).each(f=>{const p=e.createRng();p.setStart(c,0),p.setEnd(f.container,f.offset),Qx(e,p,C=>C===n)}),c}),xA=e=>(n,o)=>{const r=n.dom,c=o.pattern,f=jP(r.getRoot(),o.range).getOrDie("Unable to resolve path range"),p=(C,E)=>{const O=E.get(C);return Xe(O)&&gt(O).exists(F=>jn(F,"block"))};return bA(n,f).each(C=>{c.type==="block-format"?p(c.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,C,c),n.formatter.apply(c.format)}):c.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,C,c),n.execCommand(c.cmd,!1,c.value)})}),!0},fJ=e=>je(e,(n,o)=>o.start.length-n.start.length),U7=e=>(n,o)=>{const r=fJ(n),c=o.replace(Er," ");return rt(r,f=>e(f,o,c))},W7=(e,n)=>(o,r,c,f,p)=>{var C;p===void 0&&(p=(C=r.textContent)!==null&&C!==void 0?C:"");const E=o.dom,O=Ua(o);return E.is(r,O)?e(c.blockPatterns,p).map(F=>n&&on.trim(p).length===F.start.length?[]:[{pattern:F,range:WP(E,E.getRoot(),r,0,r,0,f)}]).getOr([]):[]},j7=e=>/^\s[^\s]/.test(e),mJ=xA((e,n,o)=>{V7(e,n,o).each(r=>{const c=Ee.fromDom(r),f=Ba(c);j7(f)&&nv(c,f.slice(1))})}),hJ=U7((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),gJ=W7(hJ,!0),pJ=(e,n)=>{const o=e.selection.getRng();return bA(e,o).map(r=>{var c;const f=Math.max(0,o.startOffset),p=eS(n,r,(c=r.textContent)!==null&&c!==void 0?c:""),C=H7(e,r,o.startContainer,f,p,!0),E=gJ(e,r,p,!0);return{inlineMatches:C,blockMatches:E}}).filter(({inlineMatches:r,blockMatches:c})=>c.length>0||r.length>0)},vJ=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();Re(n,r=>mJ(e,r)),e.selection.moveToBookmark(o)},bJ=xA(V7),yJ=U7((e,n,o)=>n===e.start||o===e.start),Z7=W7(yJ,!1),wJ=(e,n)=>{const o=e.selection.getRng();return bA(e,o).map(r=>{const c=Math.max(0,o.startOffset),f=ZP(e.dom,r,o.startContainer,c),p=eS(n,r,f);return Z7(e,r,p,!1,f)}).filter(r=>r.length>0)},KP=(e,n)=>{Re(n,o=>bJ(e,o))},CJ=(e,n)=>pJ(e,n).fold(Tt,({inlineMatches:o,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{mE(e),z7(e,o),vJ(e,r);const c=e.selection.getRng(),f=Uk(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),f.each(p=>{const C=p.container;C.data.charAt(p.offset-1)===va&&(C.deleteData(p.offset-1,1),fw(e.dom,C.parentNode,E=>E===e.dom.getRoot()))})}),!0)),xJ=(e,n)=>{const o=e.selection.getRng();bA(e,o).map(r=>{const c=Math.max(0,o.startOffset-1),f=ZP(e.dom,r,o.startContainer,c),p=eS(n,r,f),C=H7(e,r,o.startContainer,c,p,!1);C.length>0&&e.undoManager.transact(()=>{z7(e,C)})})},SJ=(e,n)=>wJ(e,n).fold(Tt,o=>(e.undoManager.transact(()=>{KP(e,o)}),!0)),q7=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},EJ=(e,n)=>q7(e,n,(o,r)=>o===r.keyCode&&!Dn.modifierPressed(r)),_J=(e,n)=>q7(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),SA=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>Ig(G2(e).filter(p=>p.type==="inline-command"||p.type==="block-command"?e.queryCommandSupported(p.cmd):!0),KO(e)),c=()=>XO(e);e.on("keydown",p=>{if(p.keyCode===13&&!Dn.modifierPressed(p)&&e.selection.isCollapsed()&&e.selection.isEditable()){const C=P2(r(),"enter");(C.inlinePatterns.length>0||C.blockPatterns.length>0||c())&&CJ(e,C)&&p.preventDefault()}},!0),e.on("keydown",p=>{if(p.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const C=P2(r(),"space");(C.blockPatterns.length>0||c())&&SJ(e,C)&&p.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const p=P2(r(),"space");(p.inlinePatterns.length>0||c())&&xJ(e,p)}};e.on("keyup",p=>{EJ(o,p)&&f()}),e.on("keypress",p=>{_J(n,p)&&af.setEditorTimeout(e,f)})},TJ=e=>{SA(e)},kJ=e=>{const n=on.each,o=Dn.BACKSPACE,r=Dn.DELETE,c=e.dom,f=e.selection,p=e.parser,C=fs.browser,E=C.isFirefox(),O=C.isChromium()||C.isSafari(),F=fs.deviceType.isiPhone()||fs.deviceType.isiPad(),U=fs.os.isMacOS()||fs.os.isiOS(),q=(gn,Mn)=>{try{e.getDoc().execCommand(gn,!1,String(Mn))}catch{}},J=gn=>gn.isDefaultPrevented(),ge=()=>{const gn=Co=>{const Lo=c.create("body"),Qs=Co.cloneContents();return Lo.appendChild(Qs),f.serializer.serialize(Lo,{format:"html"})},Mn=Co=>{const Lo=gn(Co),Qs=c.createRng();Qs.selectNode(e.getBody());const yr=gn(Qs);return Lo===yr};e.on("keydown",Co=>{const Lo=Co.keyCode;if(!J(Co)&&(Lo===r||Lo===o)&&e.selection.isEditable()){const Qs=e.selection.isCollapsed(),yr=e.getBody();if(Qs&&!bu(e.schema,yr)||!Qs&&!Mn(e.selection.getRng()))return;Co.preventDefault(),e.setContent(""),yr.firstChild&&c.isBlock(yr.firstChild)?e.selection.setCursorLocation(yr.firstChild,0):e.selection.setCursorLocation(yr,0),e.nodeChanged()}})},fe=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},de=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",gn=>{var Mn;let Co;if(gn.target===e.getDoc().documentElement)if(Co=f.getRng(),((Mn=e.getDoc().getSelection())===null||Mn===void 0?void 0:Mn.anchorNode)!==null&&e.getBody().focus(),gn.type==="mousedown"){if(dc(Co.startContainer))return;f.placeCaretAt(gn.clientX,gn.clientY)}else f.setRng(Co)})},He=()=>{e.on("keydown",gn=>{if(!J(gn)&&gn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const Mn=f.getNode(),Co=Mn.previousSibling;if(Mn.nodeName==="HR"){c.remove(Mn),gn.preventDefault();return}Co&&Co.nodeName&&Co.nodeName.toLowerCase()==="hr"&&(c.remove(Co),gn.preventDefault())}}})},ze=()=>{Range.prototype.getClientRects||e.on("mousedown",gn=>{if(!J(gn)&&gn.target.nodeName==="HTML"){const Mn=e.getBody();Mn.blur(),af.setEditorTimeout(e,()=>{Mn.focus()})}})},Ye=()=>{const gn=Z2(e);e.on("click",Mn=>{const Co=Mn.target;/^(IMG|HR)$/.test(Co.nodeName)&&c.isEditable(Co)&&(Mn.preventDefault(),e.selection.select(Co),e.nodeChanged()),Co.nodeName==="A"&&c.hasClass(Co,gn)&&Co.childNodes.length===0&&c.isEditable(Co.parentNode)&&(Mn.preventDefault(),f.select(Co))})},lt=()=>{const gn=Mn=>Mn.nodeName==="IMG"&&e.dom.isEditable(Mn);e.on("mousedown",Mn=>{Gr(K.from(Mn.clientX),K.from(Mn.clientY),(Co,Lo)=>{var Qs;const yr=e.getDoc().caretPositionFromPoint(Co,Lo),bf=((Qs=yr==null?void 0:yr.offsetNode)===null||Qs===void 0?void 0:Qs.childNodes[yr.offset-(yr.offset>0?1:0)])||(yr==null?void 0:yr.offsetNode);if(Ie(bf)&&gn(bf)){const _c=bf.getBoundingClientRect();Mn.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(bf),Mn.clientX<_c.left||Mn.clientY<_c.top?e.selection.collapse(!0):(Mn.clientX>_c.right||Mn.clientY>_c.bottom)&&e.selection.collapse(!1)}})})},Ft=()=>{const gn=()=>{const Co=c.getAttribs(f.getStart().cloneNode(!1));return()=>{const Lo=f.getStart();Lo!==e.getBody()&&(c.setAttrib(Lo,"style",null),n(Co,Qs=>{Lo.setAttributeNode(Qs.cloneNode(!0))}))}},Mn=()=>!f.isCollapsed()&&c.getParent(f.getStart(),c.isBlock)!==c.getParent(f.getEnd(),c.isBlock);e.on("keypress",Co=>{let Lo;return!J(Co)&&(Co.keyCode===8||Co.keyCode===46)&&Mn()?(Lo=gn(),e.getDoc().execCommand("delete",!1),Lo(),Co.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",Co=>{if(!J(Co)&&Mn()){const Lo=gn();af.setEditorTimeout(e,()=>{Lo()})}})},vn=()=>{e.on("keydown",gn=>{if(!J(gn)&&gn.keyCode===o&&f.isCollapsed()&&f.getRng().startOffset===0){const Mn=f.getNode().previousSibling;if(Mn&&Mn.nodeName&&Mn.nodeName.toLowerCase()==="table")return gn.preventDefault(),!1}return!0})},nn=()=>{e.on("keydown",gn=>{if(J(gn)||gn.keyCode!==Dn.BACKSPACE)return;let Mn=f.getRng();const Co=Mn.startContainer,Lo=Mn.startOffset,Qs=c.getRoot();let yr=Co;if(!(!Mn.collapsed||Lo!==0)){for(;yr.parentNode&&yr.parentNode.firstChild===yr&&yr.parentNode!==Qs;)yr=yr.parentNode;yr.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,yr),Mn=c.createRng(),Mn.setStart(Co,0),Mn.setEnd(Co,0),f.setRng(Mn))}})},Pt=()=>{const gn=vi("figcaption");e.on("keydown",Mn=>{if(Mn.keyCode===Dn.LEFT||Mn.keyCode===Dn.RIGHT){const Co=Ee.fromDom(e.selection.getNode());gn(Co)&&e.selection.isCollapsed()&&ac(Co).bind(Lo=>{var Qs;return e.selection.getRng().startOffset===0&&Mn.keyCode===Dn.LEFT?vl(Lo):e.selection.getRng().endOffset===((Qs=Co.dom.textContent)===null||Qs===void 0?void 0:Qs.length)&&Mn.keyCode===Dn.RIGHT?cc(Lo):K.none()}).each(Lo=>{e.selection.setCursorLocation(Lo.dom,0)})}})},Ke=()=>{const gn=()=>{q("StyleWithCSS",!1),q("enableInlineTableEditing",!1),U2(e)||q("enableObjectResizing",!1)};Bv(e)||e.on("BeforeExecCommand mousedown",gn)},Ce=()=>{const gn=()=>{n(c.select("a:not([data-mce-block])"),Mn=>{var Co;let Lo=Mn.parentNode;const Qs=c.getRoot();if((Lo==null?void 0:Lo.lastChild)===Mn){for(;Lo&&!c.isBlock(Lo);){if(((Co=Lo.parentNode)===null||Co===void 0?void 0:Co.lastChild)!==Lo||Lo===Qs)return;Lo=Lo.parentNode}c.add(Lo,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Mn=>{(Mn.type==="setcontent"||Mn.command==="mceInsertLink")&&gn()})},dt=()=>{e.on("init",()=>{q("DefaultParagraphSeparator",Ua(e))})},tn=gn=>{const Mn=gn.getBody(),Co=gn.selection.getRng();return Co.startContainer===Co.endContainer&&Co.startContainer===Mn&&Co.startOffset===0&&Co.endOffset===Mn.childNodes.length},Qn=()=>{e.on("keyup focusin mouseup",gn=>{!Dn.modifierPressed(gn)&&!tn(e)&&f.normalize()},!0)},Po=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ss=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},vs=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",gn=>{let Mn;gn.target.nodeName==="HTML"&&(Mn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Mn),e.selection.normalize(),e.nodeChanged())}))},Zr=()=>{U&&e.on("keydown",gn=>{Dn.metaKeyPressed(gn)&&!gn.shiftKey&&(gn.keyCode===37||gn.keyCode===39)&&(gn.preventDefault(),e.selection.getSel().modify("move",gn.keyCode===37?"backward":"forward","lineboundary"))})},qr=()=>{e.on("click",gn=>{let Mn=gn.target;do if(Mn.tagName==="A"){gn.preventDefault();return}while(Mn=Mn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},tc=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",gn=>{gn.preventDefault()})})},fn=()=>{p.addNodeFilter("br",gn=>{let Mn=gn.length;for(;Mn--;)gn[Mn].attr("class")==="Apple-interchange-newline"&&gn[Mn].remove()})},no=Nt,Ts=()=>{if(!E||e.removed)return!1;const gn=e.selection.getSel();return!gn||!gn.rangeCount||gn.rangeCount===0},Vs=()=>{O&&(de(),Ye(),tc(),fe(),F&&(ss(),vs(),qr())),E&&(ze(),Ke(),Po(),Zr())},Xn=()=>{nn(),ge(),fs.windowsPhone||Qn(),O&&(de(),Ye(),dt(),tc(),vn(),fn(),F?(ss(),vs(),qr()):fe()),E&&(Pt(),lt(),He(),ze(),Ft(),Ke(),Ce(),Po(),Zr(),vn())};return Cd(e)?Vs():Xn(),{refreshContentEditable:no,isHidden:Ts}},YP=qs.DOM,AJ=(e,n)=>{const o=Ee.fromDom(e.getBody()),r=q1(Zi(o)),c=Ee.fromTag("style");$r(c,"type","text/css"),xs(c,Ee.fromText(n)),xs(r,c),e.on("remove",()=>{or(c)})},OJ=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,XP=e=>si(e,n=>ht(n)===!1),G7=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return XP({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_html_in_comments:n("allow_html_in_comments"),allow_mathml_annotation_encodings:n("allow_mathml_annotation_encodings"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),extended_mathml_attributes:n("extended_mathml_attributes"),extended_mathml_elements:n("extended_mathml_elements"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:OJ(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:Uv(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},K7=e=>{const n=e.options.get;return XP({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},DJ=e=>{const n=e.options.get;return{...G7(e),...K7(e),...XP({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},Y7=e=>{const n=op(G7(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const c=e.dom,f="data-mce-"+r;let p=o.length;for(;p--;){const C=o[p];let E=C.attr(r);if(E&&!C.attr(f)){if(E.indexOf("data:")===0||E.indexOf("blob:")===0)continue;r==="style"?(E=c.serializeStyle(c.parseStyle(E),C.name),E.length||(E=null),C.attr(f,E),C.attr(r,E)):r==="tabindex"?(C.attr(f,E),C.attr(r,null)):C.attr(f,e.convertURL(E,r,C.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const c=o[r],f=c.attr("type")||"no/type";f.indexOf("mce-")!==0&&c.attr("type","mce-"+f)}}),Vv(e)&&n.addNodeFilter("#cdata",o=>{var r;let c=o.length;for(;c--;){const f=o[c];f.type=8,f.name="#comment",f.value="[CDATA["+e.dom.encode((r=f.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const c=e.schema.getNonEmptyElements();for(;r--;){const f=o[r];f.isEmpty(c)&&f.getAll("br").length===0&&f.append(new il("br",1))}}),n},RJ=e=>{const n=qO(e);n&&af.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},X7=e=>{const n=e.dom.getRoot();!e.inline&&(!Xv(e)||e.selection.getStart(!0)===n)&&vc(n).each(o=>{const r=o.getNode(),c=Lf(r)?vc(r).getOr(o):o;e.selection.setRng(c.toRange())})},MJ=e=>{e.bindPendingEventDelegates(),e.initialized=!0,LO(e),e.focus(!0),X7(e),e.nodeChanged({initial:!0});const n=XE(e);xe(n)&&n.call(e,e),RJ(e),Ai(e)&&XT(e,!0)},JP=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,J7=(e,n,o)=>{const{pass:r,fail:c}=St(n,C=>tinymce.Resource.has(ax(C))),p=[...r.map(C=>{const E=tinymce.Resource.get(ax(C));return oe(E)?Promise.resolve(JP(e).loadRawCss(C,E)):Promise.resolve()}),JP(e).loadAll(c)];return e.inline?p:p.concat([e.ui.styleSheetLoader.loadAll(o)])},mw=e=>{const n=JP(e),o=VE(e),r=e.contentCSS,c=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},f=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let E="";on.each(e.contentStyles,O=>{E+=O+`\r
`}),e.dom.addStyle(E)}const p=Promise.all(J7(e,r,o)).then(f).catch(f),C=zE(e);return C&&AJ(e,C),p},PJ=e=>{const n=e.getDoc(),o=e.getBody();MO(e),ny(e)||(n.body.spellcheck=!1,YP.setAttrib(o,"spellcheck","false")),e.quirks=kJ(e),PO(e);const r=UE(e);r!==void 0&&(o.dir=r);const c=e1(e);c&&e.on("BeforeSetContent",f=>{on.each(c,p=>{f.content=f.content.replace(p,C=>"<!--mce:protected "+escape(C)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},Q7=e=>{Cd(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},QP=e=>{e.removed!==!0&&(Q7(e),MJ(e))},LJ=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},eH=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(YP.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=Bv(e),e._editableRoot=$v(e),!jv(e)&&e.hasEditableRoot()&&(e.inline&&YP.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=b0(e),e.schema=fd(K7(e)),e.dom=qs(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Xb(e),referrerPolicy:F2(e),crossOrigin:Pv(e),onSetAttrib:p=>{e.dispatch("SetAttrib",p)}}),e.parser=Y7(e),e.serializer=zT(DJ(e),e),e.selection=$T(e.dom,e.getWin(),e.serializer,e),e.annotator=P_(e),e.formatter=Hy(e),e.undoManager=cx(e),e._nodeChangeDispatcher=new rA(e),e._selectionOverrides=iJ(e),$ne(e),Z6(e),b7(e),yG(e),Cd(e)||(DX(e),TJ(e));const c=FY(e);j6(e,c),Lk(e),R$(e),NP(e,c);const f=tx(e);PJ(e),f.fold(()=>{const p=LJ(e);mw(e).then(()=>{QP(e),p()})},p=>{e.setProgressState(!0),mw(e).then(()=>{p().then(C=>{e.setProgressState(!1),QP(e),V3(e)},C=>{e.notificationManager.open({type:"error",text:String(C)}),QP(e),V3(e)})})})},eL=qs.DOM,tH=(e,n,o,r)=>{const c=Ee.fromTag("iframe");return r.each(f=>$r(c,"tabindex",f)),xa(c,o),xa(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",...fs.browser.isFirefox()?{title:n}:{}}),Pc(c,"tox-edit-area__iframe"),c},NJ=e=>{let n=Jp(e)+"<html><head>";Rv(e)!==e.editorManager.documentBaseURL&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=zm(e),r=Qa(e),c=e.translate(ty(e)),f=fs.browser.isFirefox()?"":`aria-label="${c}"`;return jf(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+jf(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" ${f}><br></body></html>`,n},nH=(e,n)=>{const o=ty(e),r=e.translate(o),c=Cl(Ee.fromDom(e.getElement()),"tabindex").bind(Ef),f=tH(e.id,r,Yb(e),c).dom;f.onload=()=>{f.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=f,e.iframeHTML=NJ(e),eL.add(n.iframeContainer,f)},IJ=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,eH(e)};if(X2(e)||fs.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=K1(Ee.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=e.iframeHTML}},BJ=(e,n)=>{nH(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=eL.isHidden(n.editorContainer)),e.getElement().style.display="none",eL.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,IJ(e)},oH=qs.DOM,$J=(e,n,o)=>{const r=Hh.get(o),c=Hh.urls[o]||e.editorManager.documentBaseURL.replace(/\/$/,"");if(o=on.trim(o),r&&on.inArray(n,o)===-1){if(e.plugins[o])return;try{const f=r(e,c)||{};e.plugins[o]=f,xe(f.init)&&(f.init(e,c),n.push(o))}catch(f){ip(e,o,f)}}},FJ=e=>{const n=o=>{o.keyCode===Dn.ESC&&!o.defaultPrevented&&$E(e).isDefaultPrevented()&&o.preventDefault()};document.addEventListener("keyup",n),e.inline||e.on("keyup",n),e.on("remove",()=>{document.removeEventListener("keyup",n),e.inline||e.off("keyup",n)})},HJ=e=>e.replace(/^\-/,""),zJ=e=>{const n=[];Re(Hg(e),o=>{$J(e,n,HJ(o))})},VJ=e=>{const n=on.trim(FE(e)),o=e.ui.registry.getAll().icons,r={...VT.get("default").icons,...VT.get(n).icons};cn(r,(c,f)=>{jn(o,f)||e.ui.registry.addIcon(f,c)})},UJ=e=>{const n=Su(e);if(oe(n)){const o=p0.get(n);e.theme=o(e,p0.urls[n])||{},xe(e.theme.init)&&e.theme.init(e,p0.urls[n]||e.editorManager.documentBaseURL.replace(/\/$/,""))}else e.theme={}},sH=e=>{const n=j2(e),o=uf.get(n);e.model=o(e,uf.urls[n])},tL=e=>{YT.init(e)},rH=e=>{const n=e.theme.renderUI;return n?n():cH(e)},iH=e=>{const n=e.getElement(),r=Su(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},aH=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),WJ=e=>{const n=oH.create("div");return oH.insertAfter(n,e),aH(n,n)},cH=e=>{const n=e.getElement();return e.inline?aH(null):WJ(n)},lH=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,oe(Su(e))?rH(e):xe(Su(e))?iH(e):cH(e)},uH=(e,n)=>{const o={show:K.from(n.show).getOr(Nt),hide:K.from(n.hide).getOr(Nt),isEnabled:K.from(n.isEnabled).getOr(rn),setEnabled:r=>{r&&(e.mode.get()==="readonly"||Ai(e))||K.from(n.setEnabled).each(f=>f(r))}};e.ui={...e.ui,...o}},jJ=async e=>{e.dispatch("ScriptsLoaded"),VJ(e),FJ(e),UJ(e),sH(e),tL(e),zJ(e);const n=await lH(e);uH(e,K.from(n.api).getOr({})),e.editorContainer=n.editorContainer,lm(e),e.inline?eH(e):BJ(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},B0=qs.DOM,EA=e=>e.charAt(0)==="-",_A=(e,n)=>{const o=HE(n),r=VO(n);if(!hd.hasCode(o)&&o!=="en"){const c=Ws(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{Bu(n,c,o)})}},dH=(e,n)=>{const o=Su(e);if(oe(o)&&!EA(o)&&!jn(p0.urls,o)){const r=jE(e),c=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;p0.load(o,c).catch(()=>{Aj(e,c,o)})}},fH=(e,n)=>{const o=j2(e);if(o!=="plugin"&&!jn(uf.urls,o)){const r=UO(e),c=oe(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;uf.load(o,c).catch(()=>{vr(e,c,o)})}},mH=(e,n)=>{YT.load(e,n)},ZJ=e=>K.from(aN(e)).filter(Ws).map(n=>({url:n,name:K.none()})),hH=(e,n,o)=>K.from(n).filter(r=>Ws(r)&&!VT.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:K.some(r)})),qJ=(e,n,o)=>{const r=hH(n,"default",o),c=ZJ(n).orThunk(()=>hH(n,FE(n),""));Re(La([r,c]),f=>{e.add(f.url).catch(()=>{rx(n,f.url,f.name.getOrUndefined())})})},GJ=(e,n)=>{const o=(r,c)=>{r!=="licensekeymanager"&&Hh.load(r,c).catch(()=>{Iu(e,c,r)})};cn(ey(e),(r,c)=>{o(c,r),e.options.set("plugins",Hg(e).concat(c))}),Re(Hg(e),r=>{r=on.trim(r),r&&!Hh.urls[r]&&!EA(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},jh=e=>{const n=Su(e);return!oe(n)||Ie(p0.get(n))},gH=e=>{const n=j2(e);return Ie(uf.get(n))},KJ=(e,n)=>{const o=$i.ScriptLoader,r=()=>{!e.removed&&jh(e)&&gH(e)&&jJ(e)};dH(e,n),fH(e,n),mH(e,n),_A(o,e),qJ(o,e,n),GJ(e,n),o.loadQueue().then(r,r)},pH=(e,n)=>ld.forElement(e,{contentCssCors:Fv(n),referrerPolicy:F2(n)}),YJ=e=>{const n=e.id;hd.setCode(HE(e));const o=()=>{B0.unbind(window,"ready",o),e.render()};if(!md.Event.domLoaded){B0.bind(window,"ready",o);return}if(!e.getElement())return;const r=Ee.fromDom(e.getElement()),c=os(r);e.on("remove",()=>{et(r.dom.attributes,p=>bi(r,p.name)),xa(r,c)}),e.ui.styleSheetLoader=pH(r,e),Qb(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||B0.getParent(n,"form");f&&(e.formElement=f,ZE(e)&&!Yw(e.getElement())&&(B0.insertAfter(B0.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=p=>{e.dispatch(p.type,p)},B0.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),ZO(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=jT(e),e.notificationManager=X3(e),i_(e)&&e.on("GetContent",p=>{p.save&&(p.content=B0.encode(p.content))}),qE(e)&&e.on("submit",()=>{e.initialized&&e.save()}),uN(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),KJ(e,e.suffix)},vH=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],nL=e=>{var n;return Intl.Segmenter?`${(n=new Intl.Segmenter().segment(e)[Symbol.iterator]().next().value)===null||n===void 0?void 0:n.segment}`:e.trim()[0]},TA=(e,n)=>{let o=5381;for(let r=0;r<e.length;r++)o=(o<<5)+o+e.charCodeAt(r);return(o>>>0)%(n+1)},XJ=e=>{const n=TA(e??"",vH.length-1);return vH[n]},JJ=(e,n,o)=>{const r=o/2;return`<svg height="${o}" width="${o}" xmlns="http://www.w3.org/2000/svg"><circle cx="${r}" cy="${r}" r="${r}" fill="${n}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${r}">`+e+"</text></svg>"},QJ=(e,n,o)=>"data:image/svg+xml,"+encodeURIComponent(JJ(e,n,o)),kA=(e,n={size:36})=>QJ(nL(e.name),XJ(e.id),n.size),eQ=Ix([EK("id"),i8("name"),i8("avatar"),_K("custom")]),bH=e=>{const n={};return cn(e,(o,r)=>{o.each(c=>{n[r]=c})}),n},tQ=e=>{if(!Array.isArray(e))throw new Error("fetch_users must return an array");const n=Lt(e,c=>n8("Invalid user object",eQ,c)),{errors:o,values:r}=ti(n);if(o.length>0){const c=Lt(o,(f,p)=>`User at index ${p}: ${Xk(f)}`);console.warn(`User validation errors:
`+c.join(`
`))}return Lt(r,c=>{const{id:f,name:p,avatar:C,...E}=c;return{id:f,name:p.getOr(f),avatar:C.getOr(kA({id:f,name:p.getOr(f)})),...bH(E)}})},nQ=e=>{const n=new Map,o=new Map,r=O=>K.from(n.get(O)),c=(O,F)=>{n.set(F,O)},f=(O,F)=>K.from(o.get(O)).each(({reject:U})=>{U(F),o.delete(O)}),p=(O,F)=>K.from(o.get(O)).each(({resolve:U})=>{U(F),o.delete(O)}),C=O=>{const F=ay(e);if(Array.isArray(O)){if(!F)return No(O,q=>Promise.resolve({id:q,name:q,avatar:kA({id:q,name:q})}))}else return{};const U=zn(pe(O,q=>!r(q).isSome()));return Re(U,q=>{const J=new Promise((ge,fe)=>{o.set(q,{resolve:ge,reject:fe})});c(J,q)}),U.length>0&&F(U).then(tQ).then(q=>{const J=new Set(Lt(q,ge=>ge.id));Re(q,ge=>p(ge.id,ge)),Re(U,ge=>{J.has(ge)||f(ge,new Error(`User ${ge} not found`))})}).catch(q=>{Re(U,J=>f(J,q instanceof Error?q:new Error("Network error")))}),Ht(O,(q,J)=>(q[J]=r(J).getOr(Promise.resolve({id:J,name:J,avatar:kA({id:J,name:J})})),q),{})},E=n4(e);return Object.freeze({userId:E,fetchUsers:C})},oQ=e=>nQ(e),sQ=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,Ai(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),sN(e,n))},rQ=e=>e._editableRoot,yH=(e,n)=>({sections:Qe(e),options:Qe(n)}),nS=Dc().deviceType,AA=nS.isPhone(),iQ=nS.isTablet(),hw=e=>{if(Je(e))return[];{const n=Xe(e)?e:e.split(/[ ,]/),o=Lt(n,tr);return pe(o,Ws)}},wH=(e,n)=>{const o=Xo(n,(r,c)=>ut(e,c));return yH(o.t,o.f)},aQ=(e,n,o={})=>{const r=e.sections(),c=Jo(r,n).getOr({});return on.extend({},o,c)},OA=(e,n)=>jn(e.sections(),n),cQ=(e,n)=>OA(e,n)?e.sections()[n]:{},lQ=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Jo(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),uQ=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?on.extend({},e.external_plugins,r):r},dQ=(e,n)=>[...hw(e),...hw(n)],CH=(e,n,o,r)=>e&&OA(n,"mobile")?r:o,xH=(e,n,o,r)=>{const c=hw(o.forced_plugins),f=hw(r.plugins),p=cQ(n,"mobile"),C=p.plugins?hw(p.plugins):f,E=CH(e,n,f,C),O=dQ(c,E);return on.extend(r,{forced_plugins:c,plugins:O})},SH=(e,n)=>e&&OA(n,"mobile"),EH=(e,n,o,r,c)=>{var f;const p=e?{mobile:lQ((f=c.mobile)!==null&&f!==void 0?f:{},n)}:{},C=wH(["mobile"],Il(p,c)),E=on.extend(o,r,C.options(),SH(e,C)?aQ(C,"mobile"):{},{external_plugins:uQ(r,C.options())});return xH(e,C,r,E)},_H=(e,n)=>{const o=Bl(n);return EH(AA||iQ,AA,o,e,o)},TH=(e,n)=>UB(e,n),oL=e=>{const n=(r,c)=>{e.formatter.toggle(r,c),e.nodeChanged()},o=r=>()=>{Re("left,center,right,justify".split(","),c=>{r!==c&&e.formatter.remove("align"+c)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},kH=e=>{const n=o=>()=>{const r=e.selection,c=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Xt(c,f=>Ie(e.formatter.matchNode(f,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},AH=e=>{oL(e),kH(e)},OH=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(fs.os.isMacOS()||fs.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:c,type:"error"})}}})},fQ=(e,n,o,r)=>{const c=Ee.fromDom(e.getRoot());return OC(c,Et.fromRangeStart(n),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),DC(c,Et.fromRangeEnd(n),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},mQ=e=>{if(typeof e!="string"){const n=on.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},DH=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?fQ(r,o.getRng(),n,e.schema):n},oS=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=mQ(n);GC(e,{...r,content:DH(e,o),format:"html",set:!1,selection:!0}).each(c=>{const f=zB(e,c.content,r);wT(e,f,c),e.addVisual()})}},RH=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{oS(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{oS(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{oS(e,r)},mceInsertContent:(n,o,r)=>{oS(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(t_(e))}})},MH={"font-size":"size","font-family":"face"},sL=vi("font"),rL=(e,n,o)=>{const r=f=>li(f,e).orThunk(()=>sL(f)?Jo(MH,e).bind(p=>Cl(f,p)):K.none()),c=f=>Nn(Ee.fromDom(n),f);return lc(Ee.fromDom(o),f=>r(f),c)},DA=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),PH=(e,n)=>K.from(qs.DOM.getStyle(n,e,!0)),iL=e=>(n,o)=>K.from(o).map(Ee.fromDom).filter(Ur).bind(r=>rL(e,n,r.dom).or(PH(e,r.dom))).getOr(""),LH=iL("font-size"),aL=B(DA,iL("font-family")),NH=e=>vc(e.getBody()).bind(n=>{const o=n.container();return K.from(en(o)?o.parentNode:o)}),IH=e=>K.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?K.none():K.from(e.selection.getStart(!0))}),hQ=(e,n)=>IH(e).orThunk(Ue(NH,e)).map(Ee.fromDom).filter(Ur).bind(n),RA=(e,n)=>hQ(e,Hn(K.some,n)),BH=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=JO(e),c=Ug(e);return c.length>0?c[o-1]||n:r[o-1]||n}else return n}else return n},gQ=e=>{const n=e.split(/\s*,\s*/);return Lt(n,o=>o.indexOf(" ")!==-1&&!(go(o,'"')||go(o,"'"))?`'${o}'`:o).join(",")},pQ=(e,n)=>{const o=BH(e,n);e.formatter.toggle("fontname",{value:gQ(o)}),e.nodeChanged()},$H=e=>RA(e,n=>aL(e.getBody(),n.dom)).getOr(""),vQ=(e,n)=>{e.formatter.toggle("fontsize",{value:BH(e,n)}),e.nodeChanged()},FH=e=>RA(e,n=>LH(e.getBody(),n.dom)).getOr(""),MA=e=>RA(e,n=>{const o=Ee.fromDom(e.getBody()),r=lc(n,f=>li(f,"line-height"),Ue(Nn,o)),c=()=>{const f=parseFloat(Qr(n,"line-height")),p=parseFloat(Qr(n,"font-size"));return String(f/p)};return r.getOrThunk(c)}).getOr(""),bQ=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},HH=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,c)=>{n(o,{value:c})},BackColor:(o,r,c)=>{n("hilitecolor",{value:c})},FontName:(o,r,c)=>{pQ(e,c)},FontSize:(o,r,c)=>{vQ(e,c)},LineHeight:(o,r,c)=>{bQ(e,c)},Lang:(o,r,c)=>{var f;n(o,{value:c.code,customValue:(f=c.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,c)=>{n(oe(c)?c:"p")},mceToggleFormat:(o,r,c)=>{n(c)}})},yQ=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>$H(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>FH(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>MA(e))},zH=e=>{HH(e),yQ(e)},cL=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},wQ=e=>{e.editorCommands.addCommands({Indent:()=>{mG(e)},Outdent:()=>{V6(e)}}),e.editorCommands.addCommands({Outdent:()=>xx(e),Indent:()=>pM(e)},"state")},CQ=e=>{const n=(o,r,c)=>{if(e.mode.isReadOnly())return;const f=oe(c)?{href:c}:c,p=e.dom.getParent(e.selection.getNode(),"a");Oe(f)&&oe(f.href)&&(f.href=f.href.replace(/ /g,"%20").replace(/&amp;/g,"&"),(!p||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,p))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},VH=(e,n,o,r)=>{const c=e.dom,f=C=>c.isBlock(C)&&C.parentElement===o,p=f(n)?n:c.getParent(r,f,o);return K.from(p).map(Ee.fromDom)},UH=(e,n)=>{if(e.mode.isReadOnly())return;const o=e.dom,r=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),f=n?r.startContainer:r.endContainer,p=iw(o,f);if(!p||!p.isContentEditable)return;const C=n?Ca:yl,E=Ua(e);VH(e,c,p,f).each(O=>{const F=cP(e,f,O.dom,p,!1,E);C(O,Ee.fromDom(F)),e.selection.setCursorLocation(F,0),e.dispatch("NewBlock",{newBlock:F}),sw(e,"insertParagraph")})},xQ=e=>UH(e,!0),SQ=e=>UH(e,!1),EQ=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{xQ(e)},InsertNewBlockAfter:()=>{SQ(e)}})},_Q=e=>{e.editorCommands.addCommands({insertParagraph:()=>{oA(O8,e)},mceInsertNewLine:(n,o,r)=>{N8(e,r)},InsertLineBreak:(n,o,r)=>{oA(D8,e)}})},WH=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let c=0;e.dom.getParent(e.selection.getNode(),f=>qn(f)&&c++===r?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),Nc);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},jH=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const c=r??e.selection.getNode();if(c!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{RV(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},TQ=e=>{AH(e),OH(e),cL(e),WH(e),RH(e),CQ(e),wQ(e),EQ(e),_Q(e),zH(e),jH(e)},kQ=["toggleview"],ZH=e=>ut(kQ,e.toLowerCase());class qH{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,c){const f=this.editor,p=n.toLowerCase(),C=c==null?void 0:c.skip_focus;if(f.removed||(p!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(p)&&!C?f.focus():vN(f)),f.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const O=this.commands.exec[p];return xe(O)?(O(p,o,r,c),f.dispatch("ExecCommand",{command:n,ui:o,value:r,args:c}),!0):!1}queryCommandState(n){if(!ZH(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return xe(r)?r(o):!1}queryCommandValue(n){if(!ZH(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return xe(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;cn(n,(c,f)=>{Re(f.toLowerCase().split(","),p=>{r[o][p]=c})})}addCommand(n,o,r){const c=n.toLowerCase();this.commands.exec[c]=(f,p,C,E)=>o.call(r??this.editor,p,C,E)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const t=on.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class s{static isNative(n){return!!t[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Tt}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),c=mv(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const f=this.bindings[r];if(f)for(let p=0,C=f.length;p<C;p++){const E=f[p];if(!E.removed){if(E.once&&this.off(r,E.func),c.isImmediatePropagationStopped())return c;if(E.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,r,c){if(o===!1&&(o=Tt),o){const f={func:o,removed:!1};c&&on.extend(f,c);const p=n.toLowerCase().split(" ");let C=p.length;for(;C--;){const E=p[C];let O=this.bindings[E];O||(O=[],this.toggleEvent(E,!0)),r?O=[f,...O]:O=[...O,f],this.bindings[E]=O}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let c=r.length;for(;c--;){const f=r[c];let p=this.bindings[f];if(!f)return cn(this.bindings,(C,E)=>{this.toggleEvent(E,!1),delete this.bindings[E]}),this;if(p){if(!o)p.length=0;else{const C=St(p,E=>E.func===o);p=C.fail,this.bindings[f]=p,Re(C.pass,E=>{E.removed=!0})}p.length||(this.toggleEvent(n,!1),delete this.bindings[f])}}}else cn(this.bindings,(r,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const i=e=>(e._eventDispatcher||(e._eventDispatcher=new s({scope:e,toggleEvent:(n,o)=>{s.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),l={fire(e,n,o){return Z5("fire"),this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return mv(e.toLowerCase(),n??{},r);const c=i(r).dispatch(e,n);if(o!==!1&&r.parent){let f=r.parent();for(;f&&!c.isPropagationStopped();)f.dispatch(e,c,!1),f=f.parent?f.parent():void 0}return c},on(e,n,o){return i(this).on(e,n,o)},off(e,n){return i(this).off(e,n)},once(e,n){return i(this).once(e,n)},hasEventListeners(e){return i(this).has(e)}},m=qs.DOM;let v;const y=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=Jb(e);return o?(e.eventRoot||(e.eventRoot=m.select(o)[0]),e.eventRoot):e.getBody()},T=e=>!e.hidden&&!Ai(e),A=(e,n,o)=>{T(e)?e.dispatch(n,o):Ai(e)&&xd(e,o)},L=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=y(e,n);if(Jb(e)){if(v||(v={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||v&&(cn(v,(c,f)=>{e.dom.unbind(y(e,f))}),v=null)})),v[n])return;const r=c=>{const f=c.target,p=e.editorManager.get();let C=p.length;for(;C--;){const E=p[C].getBody();(E===f||m.isChildOf(f,E))&&A(p[C],n,c)}};v[n]=r,m.bind(o,n,r)}else{const r=c=>{A(e,n,c)};m.bind(o,n,r),e.delegates[n]=r}},z={...l,bindPendingEventDelegates(){const e=this;on.each(e._pendingNativeEvents,n=>{L(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?L(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(y(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(cn(e.delegates,(r,c)=>{e.dom.unbind(y(e,c),c,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},j=e=>oe(e)?{value:e.split(/[ ,]/),valid:!0}:Ct(e,oe)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Q=e=>{const n=(()=>{switch(e){case"array":return Xe;case"boolean":return Ot;case"function":return xe;case"number":return qt;case"object":return Oe;case"string":return oe;case"string[]":return j;case"object[]":return o=>Ct(o,Oe);case"regexp":return o=>Le(o,RegExp);default:return rn}})();return o=>Ne(o,n,`The value must be a ${e}.`)},le=e=>oe(e.processor),ae=(e,n)=>{const o=ea(n.message)?"":`. ${n.message}`;return e+o},_e=e=>e.valid,Ne=(e,n,o="")=>{const r=n(e);return Ot(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},Te=(e,n,o)=>{if(!ht(n)){const r=Ne(n,o);if(_e(r))return r.value;console.error(ae(`Invalid default value passed for the "${e}" option`,r))}},$e=(e,n,o=n)=>{const r={},c={},f=(J,ge,fe)=>{const de=Ne(ge,fe);return _e(de)?(c[J]=de.value,!0):(console.warn(ae(`Invalid value passed for the ${J} option`,de)),!1)},p=(J,ge)=>{const fe=le(ge)?Q(ge.processor):ge.processor,de=Te(J,ge.default,fe);r[J]={...ge,default:de,processor:fe},Jo(c,J).orThunk(()=>Jo(n,J)).each(ze=>f(J,ze,fe))},C=J=>jn(r,J);return{register:p,isRegistered:C,get:J=>Jo(c,J).orThunk(()=>Jo(r,J).map(ge=>ge.default)).getOrUndefined(),set:(J,ge)=>{if(C(J)){const fe=r[J];return fe.immutable?(console.error(`"${J}" is an immutable option and cannot be updated`),!1):f(J,ge,fe.processor)}else return console.warn(`"${J}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:J=>{const ge=C(J);return ge&&delete c[J],ge},isSet:J=>jn(c,J),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(J,ge)=>Ot(ge)||qt(ge)||oe(ge)||k(ge)||Xe(ge)||qe(ge)?ge:Object.prototype.toString.call(ge))))}catch(J){console.error(J)}}}},Ve=(e,n)=>{e.dom.contentEditable="true"},mt=(e,n)=>{const o=Ee.fromDom(e.getBody());n?(e.readonly=!0,e.hasEditableRoot()&&Ve(o),h$(e)):(e.readonly=!1,iR(e))},vt=e=>e.readonly,kn=e=>{const n=e.undoManager.add();Ie(n)&&(e.undoManager.undo(),e.undoManager.reset())},Yt=e=>Xt(e,n=>n.type==="characterData"||n.type==="childList"),Jt=e=>{const n=r=>{vt(e)&&Yt(r)&&kn(e)},o=new MutationObserver(n);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",r=>{vt(e)&&r.preventDefault()}),e.on("BeforeExecCommand",r=>{(r.command==="Undo"||r.command==="Redo")&&vt(e)&&r.preventDefault()}),e.on("compositionstart",()=>{vt(e)&&o.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(vt(e)){const r=o.takeRecords();n(r)}o.disconnect()})},Wt=["design","readonly"],oo=(e,n,o,r)=>{const c=o[n.get()],f=o[r];try{f.activate()}catch(p){console.error(`problem while activating editor mode ${r}:`,p);return}c.deactivate(),c.editorReadOnly!==f.editorReadOnly&&mt(e,f.editorReadOnly),n.set(r),DO(e,r)},Zn=(e,n,o,r)=>{if(!(r===o.get()||e.initialized&&Ai(e))){if(!jn(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?oo(e,o,n,r):e.on("init",()=>oo(e,o,n,r))}},is=(e,n,o)=>{if(ut(Wt,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},fo=e=>{const n=Un("design"),o=Un({design:{activate:Nt,deactivate:Nt,editorReadOnly:!1},readonly:{activate:Nt,deactivate:Nt,editorReadOnly:!0}});return Jt(e),Fj(e),{isReadOnly:()=>vt(e),set:r=>Zn(e,o.get(),n,r),get:()=>n.get(),register:(r,c)=>{o.set(is(o.get(),r,c))}}},Io=on.each,Wn=on.explode,zt={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},wn=on.makeMap("alt,ctrl,shift,meta,access"),po=e=>e in wn,zo=e=>{const n={},o=fs.os.isMacOS()||fs.os.isiOS();Io(Wn(e.toLowerCase(),"+"),f=>{po(f)?n[f]=!0:/^[0-9]{2,}$/.test(f)?n.keyCode=parseInt(f,10):(n.charCode=f.charCodeAt(0),n.keyCode=zt[f]||f.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let c;for(c in wn)n[c]?r.push(c):n[c]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class Yn{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(Io(o.shortcuts,c=>{o.matchShortcut(r,c)&&(o.pendingPatterns=c.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,c){const f=this,p=f.normalizeCommandFunc(r);return Io(Wn(on.trim(n)),C=>{const E=f.createShortcut(C,o,p,c);f.shortcuts[E.id]=E}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:on.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,c){const f=on.map(Wn(n,">"),zo);return f[f.length-1]=on.extend(f[f.length-1],{func:r,scope:c||this.editor}),on.extend(f[0],{desc:this.editor.translate(o),subpatterns:f.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const Fo=()=>{const e=PK();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},Os=qs.DOM,_s=on.extend,cl=on.each;class br{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,_s(this,z);const c=this;this.id=n,this.editorUid=Ac(),this.hidden=!1;const f=_H(r.defaultOptions,o);this.options=$e(c,f,o),Dv(c),this.userLookup=oQ(this);const p=this.options.get;p("deprecation_warnings")&&nW(o,f);const C=p("suffix");C&&(r.suffix=C),this.suffix=r.suffix;const E=p("base_url");E&&r._setBaseUrl(E),this.baseUri=r.baseURI;const O=F2(c);O&&($i.ScriptLoader._setReferrerPolicy(O),qs.DOM.styleSheetLoader._setReferrerPolicy(O)),$i.ScriptLoader._setCrossOrigin(J=>Pv(c)(J,"script")),qs.DOM.styleSheetLoader._setCrossOrigin(J=>Pv(c)(J,"stylesheet"));const F=Fv(c);Ie(F)&&qs.DOM.styleSheetLoader._setContentCssCors(F),Ja.languageLoad=p("language_load"),Ja.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Wc(Rv(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Qb(c),this.hasVisual=Vm(c),this.shortcuts=new Yn(this),this.editorCommands=new qH(this),TQ(this);const U=p("cache_suffix");U&&(fs.cacheSuffix=U.replace(/^[\?\&]+/,"")),this.ui={registry:Fo(),styleSheetLoader:void 0,show:Nt,hide:Nt,setEnabled:Nt,isEnabled:rn},this.mode=fo(c),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),r.dispatch("SetupEditor",{editor:this});const q=YE(c);xe(q)&&q.call(c,c)}render(){YJ(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return o0(this)}translate(n){return hd.translate(n)}getParam(n,o,r){const c=this.options;return c.isRegistered(n)||(Ie(r)?c.register(n,{processor:r,default:o}):c.register(n,{processor:rn,default:o})),!c.isSet(n)&&!ht(o)?o:c.get(n)}hasPlugin(n,o){return ut(Hg(this),n)?o?Hh.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,c){this.shortcuts.add(n,o,r,c)}execCommand(n,o,r,c){return this.editorCommands.execCommand(n,o,r,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Os.show(n.getContainer()),Os.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Os.hide(n.getContainer()),Os.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(!o.removed&&r){const c={...n,load:!0},f=Yw(r)?r.value:r.innerHTML;o.setContent(f,c),c.no_events||o.dispatch("LoadContent",{...c,element:r})}}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const c={...n,save:!0,element:r};let f=o.getContent(c);const p={...c,content:f};if(p.no_events||o.dispatch("SaveContent",p),p.format==="raw"&&o.dispatch("RawSaveContent",p),f=p.content,Yw(r))r.value=f;else{(n.is_removing||!o.inline)&&(r.innerHTML=f);const C=Os.getParent(o.id,"form");C&&cl(C.elements,E=>E.name===o.id?(E.value=f,!1):!0)}return p.element=c.element=r=null,p.set_dirty!==!1&&o.setDirty(!1),f}setContent(n,o){ox(this,n,o)}getContent(n){return n$(this,n)}insertContent(n,o){o&&(n=_s({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?ox(this,this.startContent,{initial:!0,format:"raw"}):ox(this,n,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||Os.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Os.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const c=this,f=c.options.get,p=JE(c);if(xe(p))return p.call(c,n,r,!0,o);if(!f("convert_urls")||r==="link"||Oe(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const C=new Wc(n);return C.protocol!=="http"&&C.protocol!=="https"&&C.protocol!==""?n:f("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,f("remove_script_host")),n)}addVisual(n){TH(this,n)}setEditableRoot(n){sQ(this,n)}hasEditableRoot(){return rQ(this)}remove(){o$(this)}destroy(n){s$(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const ec=qs.DOM,Xi=on.each;let Pl=!1,Zc,hi=[];const Zh=e=>{const n=e.type;Xi(qh.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},pf=e=>{if(e!==Pl){const n=qs.DOM;e?(n.bind(window,"resize",Zh),n.bind(window,"scroll",Zh)):(n.unbind(window,"resize",Zh),n.unbind(window,"scroll",Zh)),Pl=e}},$0=e=>{const n=hi;return hi=pe(hi,o=>e!==o),qh.activeEditor===e&&(qh.activeEditor=hi.length>0?hi[0]:null),qh.focusedEditor===e&&(qh.focusedEditor=null),n.length!==hi.length},gp=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&($0(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},sS=document.compatMode!=="CSS1Compat",qh={...l,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:Ac(),majorVersion:"8",minorVersion:"1.2",releaseDate:"TBD",i18n:hd,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=Wc.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const f=document.getElementsByTagName("script");for(let p=0;p<f.length;p++){const C=f[p].src||"";if(C==="")continue;const E=C.substring(C.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(C)){E.indexOf(".min")!==-1&&(o=".min"),n=C.substring(0,C.lastIndexOf("/"));break}}if(!n&&document.currentScript){const p=document.currentScript.src;p.indexOf(".min")!==-1&&(o=".min"),n=p.substring(0,p.lastIndexOf("/"))}}e.baseURL=new Wc(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new Wc(e.baseURL),e.suffix=o,kV(e),Re(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],f=>Object.defineProperty(e,f,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&cn(r,(c,f)=>{Ja.PluginManager.urls[f]=c})},init(e){const n=this;let o;const r=on.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(F,U)=>F.inline&&U.tagName.toLowerCase()in r,f=F=>{let U=F.id;return U||(U=Jo(F,"name").filter(q=>!ec.get(q)).getOrThunk(ec.uniqueId),F.setAttribute("id",U)),U},p=F=>{const U=e[F];if(U)return U.apply(n,[])},C=F=>fs.browser.isIE()||fs.browser.isEdge()?(E1("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):sS?(E1("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):oe(F.selector)?ec.select(F.selector):Ie(F.target)?[F.target]:[];let E=F=>{o=F};const O=()=>{let F=0;const U=[];let q;const J=(ge,fe,de)=>{const He=new br(ge,fe,n);U.push(He),He.on("init",()=>{++F===q.length&&E(U)}),He.targetElm=He.targetElm||de,He.render()};ec.unbind(window,"ready",O),p("onpageload"),q=zn(C(e)),on.each(q,ge=>{gp(n.get(ge.id))}),q=on.grep(q,ge=>!n.get(ge.id)),q.length===0?E([]):Xi(q,ge=>{c(e,ge)?E1("Could not initialize inline editor on invalid inline target element",ge):J(f(ge),e,ge)})};return ec.bind(window,"ready",O),new Promise(F=>{o?F(o):E=U=>{F(U)}})},get(e){return arguments.length===0?hi.slice(0):oe(e)?rt(hi,n=>n.id===e).getOr(null):qt(e)&&hi[e]?hi[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&hi.push(e),pf(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),Zc||(Zc=r=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return r.preventDefault(),r.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",Zc))),e},createEditor(e,n){return this.add(new br(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=hi.length-1;r>=0;r--)n.remove(hi[r]);return}if(oe(e)){Xi(ec.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,k(n.get(o.id))?null:($0(o)&&n.dispatch("RemoveEditor",{editor:o}),hi.length===0&&window.removeEventListener("beforeunload",Zc),o.remove(),pf(hi.length>0),o)},execCommand(e,n,o){var r;const c=this,f=Oe(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(f)){const p=o.options;new br(f,p,c).render()}return!0}case"mceRemoveEditor":{const p=c.get(f);return p&&p.remove(),!0}case"mceToggleEditor":{const p=c.get(f);return p?(p.isHidden()?p.show():p.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{Xi(hi,e=>{e.save()})},addI18n:(e,n)=>{hd.add(e,n)},translate:e=>hd.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Wc(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Wc(this.baseURL)},_addLicenseKeyManager:e=>YT.add(e)};qh.setup();const PA=(()=>{const e=pa(),n=f=>({items:f,types:_t(f),getType:p=>Jo(f,p).getOrUndefined()}),o=f=>{e.set(f)},r=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:c}})(),iS=Math.min,F0=Math.max,aS=Math.round,GH=(e,n,o)=>{let r=n.x,c=n.y;const f=e.w,p=e.h,C=n.w,E=n.h,O=(o||"").split("");return O[0]==="b"&&(c+=E),O[1]==="r"&&(r+=C),O[0]==="c"&&(c+=aS(E/2)),O[1]==="c"&&(r+=aS(C/2)),O[3]==="b"&&(c-=p),O[4]==="r"&&(r-=f),O[3]==="c"&&(c-=aS(p/2)),O[4]==="c"&&(r-=aS(f/2)),H0(r,c,f,p)},lL=(e,n,o,r)=>{for(let c=0;c<r.length;c++){const f=GH(e,n,r[c]);if(f.x>=o.x&&f.x+f.w<=o.w+o.x&&f.y>=o.y&&f.y+f.h<=o.h+o.y)return r[c]}return null},cS=(e,n,o)=>H0(e.x-n,e.y-o,e.w+n*2,e.h+o*2),gw=(e,n)=>{const o=F0(e.x,n.x),r=F0(e.y,n.y),c=iS(e.x+e.w,n.x+n.w),f=iS(e.y+e.h,n.y+n.h);return c-o<0||f-r<0?null:H0(o,r,c-o,f-r)},pw=(e,n,o)=>{let r=e.x,c=e.y,f=e.x+e.w,p=e.y+e.h;const C=n.x+n.w,E=n.y+n.h,O=F0(0,n.x-r),F=F0(0,n.y-c),U=F0(0,f-C),q=F0(0,p-E);return r+=O,c+=F,o&&(f+=O,p+=F,r-=U,c-=q),f-=U,p-=q,H0(r,c,f-r,p-c)},H0=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),KH={inflate:cS,relativePosition:GH,findBestRelativePosition:lL,intersect:gw,clamp:pw,create:H0,fromClientRect:e=>H0(e.left,e.top,e.width,e.height)},uL=(e,n,o=1e3)=>{let r=!1,c=null;const f=O=>(...F)=>{r||(r=!0,c!==null&&(window.clearTimeout(c),c=null),O.apply(null,F))},p=f(e),C=f(n);return{start:(...O)=>{!r&&c===null&&(c=window.setTimeout(()=>C.apply(null,O),o))},resolve:p,reject:C}},LA=(()=>{const e={},n={},o={};return{load:(E,O)=>{const F=`Script at URL "${O}" failed to load`,U=`Script at URL "${O}" did not call \`tinymce.Resource.add('${E}', data)\` within 1 second`;if(e[E]!==void 0)return e[E];{const q=new Promise((J,ge)=>{const fe=uL(J,ge);n[E]=fe.resolve,$i.ScriptLoader.loadScript(O).then(()=>fe.start(U),()=>fe.reject(F))});return e[E]=q,q}},add:(E,O)=>{n[E]!==void 0&&(n[E](O),delete n[E]),e[E]=Promise.resolve(O),o[E]=O},has:E=>E in o,get:E=>o[E],unload:E=>{delete e[E],delete o[E]}}})(),NA=()=>(()=>{let e={},n=[];const o={getItem:r=>{const c=e[r];return c||null},setItem:(r,c)=>{n.push(r),e[r]=String(c)},key:r=>n[r],removeItem:r=>{n=n.filter(c=>c===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let vf;try{const e="__storage_test__";vf=window.localStorage,vf.setItem(e,e),vf.removeItem(e)}catch{vf=NA()}var vw=vf;const dL={geom:{Rect:KH},util:{Delay:af,Tools:on,VK:Dn,URI:Wc,EventDispatcher:s,Observable:l,I18n:hd,LocalStorage:vw,ImageUploader:jj},dom:{EventUtils:md,TreeWalker:fr,TextSeeker:Kd,DOMUtils:qs,ScriptLoader:$i,RangeUtils:Gm,Serializer:zT,StyleSheetLoader:el,ControlSelection:EN,BookmarkManager:tm,Selection:$T,Event:md.Event},html:{Styles:Tg,Entities:bg,Node:il,Schema:fd,DomParser:op,Writer:KV,Serializer:d1},Env:fs,AddOnManager:Ja,Annotator:P_,Formatter:Hy,UndoManager:cx,EditorCommands:qH,WindowManager:jT,NotificationManager:X3,EditorObservable:z,Shortcuts:Yn,Editor:br,FocusManager:I_,EditorManager:qh,DOM:qs.DOM,ScriptLoader:$i.ScriptLoader,PluginManager:Hh,ThemeManager:p0,ModelManager:uf,IconManager:VT,Resource:LA,FakeClipboard:PA,trim:on.trim,isArray:on.isArray,is:on.is,toArray:on.toArray,makeMap:on.makeMap,each:on.each,map:on.map,grep:on.grep,inArray:on.inArray,extend:on.extend,walk:on.walk,resolve:on.resolve,explode:on.explode,_addCacheSuffix:on._addCacheSuffix},IA=on.extend(qh,dL),DQ=e=>{try{a.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(IA),DQ(IA)})()})(tee)),tee.exports}var Yme=Kme();const Xme=zae(Yme);var Mse={},Pse={},Lse;function Jme(){return Lse||(Lse=1,tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-gear-properties":'<svg height="24" width="24"><path d="M17.3 14.5a7.1 7.1 0 0 1 1.2.6l1.5-.5 1 1.8-1.2 1V18.7l1.2 1-1 1.6-1.5-.4a4.5 4.5 0 0 1-.6.3 7.1 7.1 0 0 1-.6.3L17 23h-2l-.3-1.5a7.4 7.4 0 0 1-.6-.3 4.5 4.5 0 0 1-.6-.3l-1.5.5-1-1.8 1.2-1a3.9 3.9 0 0 1 0-.6v-.7l-1.2-1 1-1.6 1.5.4a4.5 4.5 0 0 1 1.2-.6L15 13h2zM16 16a2 2 0 0 0-1.5.6A1.9 1.9 0 0 0 14 18c0 .6.2 1 .6 1.4s1 .6 1.5.6 1-.2 1.5-.6.6-.8.6-1.4-.2-1-.6-1.4A2 2 0 0 0 16 16z" fill-rule="evenodd"/><path d="M19 7.6V12h-2V9h-4V5H7v14h3v2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7.4z"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})),Pse}var Nse;function Qme(){return Nse||(Nse=1,Jme()),Mse}Qme();var Ise={},Bse={},$se;function ehe(){return $se||($se=1,(function(){const a=Object.getPrototypeOf,u=(t,s,i)=>{var l;return i(t,s.prototype)?!0:((l=t.constructor)===null||l===void 0?void 0:l.name)===s.name},g=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&u(t,String,(i,l)=>l.isPrototypeOf(i))?"string":s},b=t=>s=>g(s)===t,x=t=>s=>typeof s===t,D=t=>s=>t===s,P=(t,s)=>Z(t)&&u(t,s,(i,l)=>a(i)===l),$=b("string"),Z=b("object"),ne=t=>P(t,Object),ee=b("array"),Se=D(null),ke=x("boolean"),ye=D(void 0),be=t=>t==null,ve=t=>!be(t),ue=x("function"),Be=x("number"),Le=(t,s)=>{if(ee(t)){for(let i=0,l=t.length;i<l;++i)if(!s(t[i]))return!1;return!0}return!1},oe=()=>{},Oe=t=>()=>t(),qe=(t,s)=>(...i)=>t(s.apply(null,i)),Xe=(t,s)=>i=>t(s(i)),k=t=>()=>t,Ot=t=>t,ht=(t,s)=>t===s;function Je(t,...s){return(...i)=>{const l=s.concat(i);return t.apply(null,l)}}const Ie=t=>s=>!t(s),xe=t=>()=>{throw new Error(t)},qt=t=>t(),Ct=k(!1),Nt=k(!0);class B{constructor(s,i){this.tag=s,this.value=i}static some(s){return new B(!0,s)}static none(){return B.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?B.some(s(this.value)):B.none()}bind(s){return this.tag?s(this.value):B.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:B.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return ve(s)?B.some(s):B.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}B.singletonNone=new B(!1);const Hn=Array.prototype.slice,Qe=Array.prototype.indexOf,ln=Array.prototype.push,$t=(t,s)=>Qe.call(t,s),Ue=(t,s)=>{const i=$t(t,s);return i===-1?B.none():B.some(i)},Pn=(t,s)=>$t(t,s)>-1,jo=(t,s)=>{for(let i=0,l=t.length;i<l;i++){const m=t[i];if(s(m,i))return!0}return!1},ho=(t,s)=>{const i=[];for(let l=0;l<t;l++)i.push(s(l));return i},vo=(t,s)=>{const i=[];for(let l=0;l<t.length;l+=s){const m=Hn.call(t,l,l+s);i.push(m)}return i},Tt=(t,s)=>{const i=t.length,l=new Array(i);for(let m=0;m<i;m++){const v=t[m];l[m]=s(v,m)}return l},rn=(t,s)=>{for(let i=0,l=t.length;i<l;i++){const m=t[i];s(m,i)}},K=(t,s)=>{for(let i=t.length-1;i>=0;i--){const l=t[i];s(l,i)}},dr=(t,s)=>{const i=[],l=[];for(let m=0,v=t.length;m<v;m++){const y=t[m];(s(y,m)?i:l).push(y)}return{pass:i,fail:l}},_o=(t,s)=>{const i=[];for(let l=0,m=t.length;l<m;l++){const v=t[l];s(v,l)&&i.push(v)}return i},wt=(t,s,i)=>(K(t,(l,m)=>{i=s(i,l,m)}),i),jt=(t,s,i)=>(rn(t,(l,m)=>{i=s(i,l,m)}),i),$n=(t,s,i)=>{for(let l=0,m=t.length;l<m;l++){const v=t[l];if(s(v,l))return B.some(v);if(i(v,l))break}return B.none()},ut=(t,s)=>$n(t,s,Ct),Xt=(t,s)=>{for(let i=0,l=t.length;i<l;i++){const m=t[i];if(s(m,i))return B.some(i)}return B.none()},Lt=t=>{const s=[];for(let i=0,l=t.length;i<l;++i){if(!ee(t[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+t);ln.apply(s,t[i])}return s},Re=(t,s)=>Lt(Tt(t,s)),et=(t,s)=>{for(let i=0,l=t.length;i<l;++i){const m=t[i];if(s(m,i)!==!0)return!1}return!0},St=t=>{const s=Hn.call(t,0);return s.reverse(),s},pe=(t,s)=>_o(t,i=>!Pn(s,i)),at=(t,s)=>{const i={};for(let l=0,m=t.length;l<m;l++){const v=t[l];i[String(v)]=s(v,l)}return i},Dt=t=>[t],Ht=(t,s)=>{const i=Hn.call(t,0);return i.sort(s),i},st=(t,s)=>s>=0&&s<t.length?B.some(t[s]):B.none(),rt=t=>st(t,0),ao=t=>st(t,t.length-1),So=ue(Array.from)?Array.from:t=>Hn.call(t),wo=(t,s)=>{for(let i=0;i<t.length;i++){const l=s(t[i],i);if(l.isSome())return l}return B.none()},Rn=Object.keys,Zo=Object.hasOwnProperty,Vo=(t,s)=>{const i=Rn(t);for(let l=0,m=i.length;l<m;l++){const v=i[l],y=t[v];s(y,v)}},Oo=(t,s)=>No(t,(i,l)=>({k:l,v:s(i,l)})),No=(t,s)=>{const i={};return Vo(t,(l,m)=>{const v=s(l,m);i[v.k]=v.v}),i},je=t=>(s,i)=>{t[i]=s},tt=(t,s,i,l)=>{Vo(t,(m,v)=>{(s(m,v)?i:l)(m,v)})},gt=(t,s)=>{const i={},l={};return tt(t,s,je(i),je(l)),{t:i,f:l}},bt=(t,s)=>{const i={};return tt(t,s,je(i),oe),i},bn=(t,s)=>{const i=[];return Vo(t,(l,m)=>{i.push(s(l,m))}),i},_n=(t,s)=>{const i=Rn(t);for(let l=0,m=i.length;l<m;l++){const v=i[l],y=t[v];if(s(y,v,t))return B.some(y)}return B.none()},zn=t=>bn(t,Ot),_t=(t,s)=>yn(t,s)?B.from(t[s]):B.none(),yn=(t,s)=>Zo.call(t,s),cn=(t,s)=>yn(t,s)&&t[s]!==void 0&&t[s]!==null,Do={generate:t=>{if(!ee(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],i={};return rn(t,(l,m)=>{const v=Rn(l);if(v.length!==1)throw new Error("one and only one name per case");const y=v[0],T=l[y];if(i[y]!==void 0)throw new Error("duplicate key detected:"+y);if(y==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ee(T))throw new Error("case arguments must be an array");s.push(y),i[y]=(...A)=>{const L=A.length;if(L!==T.length)throw new Error("Wrong number of arguments to case "+y+". Expected "+T.length+" ("+T+"), got "+L);return{fold:(...j)=>{if(j.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+j.length);return j[m].apply(null,A)},match:j=>{const Q=Rn(j);if(s.length!==Q.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+Q.join(","));if(!et(s,ae=>Pn(Q,ae)))throw new Error("Not all branches were specified when using match. Specified: "+Q.join(", ")+`
Required: `+s.join(", "));return j[y].apply(null,A)},log:j=>{console.log(j,{constructors:s,constructor:y,params:A})}}}}),i}},Qt=t=>{let s=t;return{get:()=>s,set:m=>{s=m}}},Us=t=>{let s=B.none(),i=[];const l=L=>Us(z=>{m(j=>{z(L(j))})}),m=L=>{y()?A(L):i.push(L)},v=L=>{y()||(s=B.some(L),T(i),i=[])},y=()=>s.isSome(),T=L=>{rn(L,A)},A=L=>{s.each(z=>{setTimeout(()=>{L(z)},0)})};return t(v),{get:m,map:l,isReady:y}},si={nu:Us,pure:t=>Us(s=>{s(t)})},Nr=t=>{setTimeout(()=>{throw t},0)},mr=t=>{const s=A=>{t().then(A,Nr)};return{map:A=>mr(()=>t().then(A)),bind:A=>mr(()=>t().then(L=>A(L).toPromise())),anonBind:A=>mr(()=>t().then(()=>A.toPromise())),toLazy:()=>si.nu(s),toCached:()=>{let A=null;return mr(()=>(A===null&&(A=t()),A))},toPromise:t,get:s}},Qo={nu:t=>mr(()=>new Promise(t)),pure:t=>mr(()=>Promise.resolve(t))},Ji=t=>{const s=v=>v(t),i=k(t),l=()=>m,m={tag:!0,inner:t,fold:(v,y)=>y(t),isValue:Nt,isError:Ct,map:v=>Un.value(v(t)),mapError:l,bind:s,exists:s,forall:s,getOr:i,or:l,getOrThunk:i,orThunk:l,getOrDie:i,each:v=>{v(t)},toOptional:()=>B.some(t)};return m},Pa=t=>{const s=()=>i,i={tag:!1,inner:t,fold:(l,m)=>l(t),isValue:Ct,isError:Nt,map:s,mapError:l=>Un.error(l(t)),bind:s,exists:Ct,forall:Nt,getOr:Ot,or:Ot,getOrThunk:qt,orThunk:qt,getOrDie:xe(String(t)),each:oe,toOptional:B.none};return i},Un={value:Ji,error:Pa,fromOption:(t,s)=>t.fold(()=>Pa(s),Ji)},ha=t=>({...t,toCached:()=>ha(t.toCached()),bindFuture:A=>ha(t.bind(L=>L.fold(z=>Qo.pure(Un.error(z)),z=>A(z)))),bindResult:A=>ha(t.map(L=>L.bind(A))),mapResult:A=>ha(t.map(L=>L.map(A))),mapError:A=>ha(t.map(L=>L.mapError(A))),foldResult:(A,L)=>t.map(z=>z.fold(A,L)),withTimeout:(A,L)=>ha(Qo.nu(z=>{let j=!1;const Q=setTimeout(()=>{j=!0,z(Un.error(L()))},A);t.get(le=>{j||(clearTimeout(Q),z(le))})}))}),ri=t=>ha(Qo.nu(t)),Wu=t=>ha(Qo.pure(Un.value(t))),dl={nu:ri,wrap:ha,pure:Wu,value:Wu,error:t=>ha(Qo.pure(Un.error(t))),fromResult:t=>ha(Qo.pure(t)),fromFuture:t=>ha(t.map(Un.value)),fromPromise:t=>ri(s=>{t.then(i=>{s(Un.value(i))},i=>{s(Un.error(i))})})},kc=typeof window<"u"?window:Function("return this;")(),qa=(t,s,i,l)=>{const m=t+s;return m>l?i:m<i?l:m},ii=(t,s,i)=>Math.min(Math.max(t,s),i),Ac=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let fl=0;const Tn=t=>{const i=new Date().getTime(),l=Math.floor(Ac()*1e9);return fl++,t+"_"+l+fl+String(i)},Rd=(t,s)=>s,Il=(t,s)=>ne(t)&&ne(s)?Is(t,s):s,Bl=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let l=0;l<s.length;l++){const m=s[l];for(const v in m)yn(m,v)&&(i[v]=t(i[v],m[v]))}return i},Is=Bl(Il),Md=Bl(Rd),La=(t,s,i=ht)=>t.exists(l=>i(l,s)),Gr=(t,s,i=ht)=>ga(t,s,i).getOr(t.isNone()&&s.isNone()),Oc=t=>{const s=[],i=l=>{s.push(l)};for(let l=0;l<t.length;l++)t[l].each(i);return s},$l=t=>{const s=[];for(let i=0;i<t.length;i++){const l=t[i];if(l.isSome())s.push(l.getOrDie());else return B.none()}return B.some(s)},ga=(t,s,i)=>t.isSome()&&s.isSome()?B.some(i(t.getOrDie(),s.getOrDie())):B.none(),er=(t,s,i,l)=>t.isSome()&&s.isSome()&&i.isSome()?B.some(l(t.getOrDie(),s.getOrDie(),i.getOrDie())):B.none(),Qi=(t,s)=>t!=null?B.some(s(t)):B.none(),ti=(t,s)=>t?B.some(s):B.none(),xf=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Sf=(t,s)=>{let i=s??kc;for(let l=0;l<t.length&&i!==void 0&&i!==null;++l)i=i[t[l]];return i},pa=(t,s)=>{const i=t.split(".");return Sf(i,s)};Do.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ga=t=>{const s=[],i=[];return rn(t,l=>{l.fold(m=>{s.push(m)},m=>{i.push(m)})}),{errors:s,values:i}},sc=t=>{const s=Qt(B.none()),i=()=>s.get().each(t);return{clear:()=>{i(),s.set(B.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:T=>{i(),s.set(B.some(T))}}},Pd=()=>sc(t=>t.destroy()),xr=()=>sc(t=>t.unbind()),go=()=>{const t=sc(oe);return{...t,on:i=>t.get().each(i)}},Sr=(t,s)=>t+s,Mi=(t,s)=>t.substring(s),tr=(t,s,i)=>s===""||t.length>=s.length&&t.substr(i,i+s.length)===s,Ld=(t,s)=>ea(t,s)?Mi(t,s.length):t,ju=(t,s)=>rc(t,s)?t:Sr(t,s),Ws=(t,s,i=0,l)=>{const m=t.indexOf(s,i);return m!==-1?ye(l)?!0:m+s.length<=l:!1},ea=(t,s)=>tr(t,s,0),rc=(t,s)=>tr(t,s,t.length-s.length),Sn=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),ic=t=>t.length>0,Pi=t=>!ic(t),va=t=>{const s=parseFloat(t);return isNaN(s)?B.none():B.some(s)},Er=(t,s)=>{let i=null,l=null;return{cancel:()=>{Se(i)||(clearTimeout(i),i=null,l=null)},throttle:(...y)=>{l=y,Se(i)&&(i=setTimeout(()=>{const T=l;i=null,l=null,t.apply(null,T)},s))}}},_f=(t,s)=>{let i=null;return{cancel:()=>{Se(i)||(clearTimeout(i),i=null)},throttle:(...v)=>{Se(i)&&(i=setTimeout(()=>{i=null,t.apply(null,v)},s))}}},ba=(t,s)=>{let i=null;const l=()=>{Se(i)||(clearTimeout(i),i=null)};return{cancel:l,throttle:(...v)=>{l(),i=setTimeout(()=>{i=null,t.apply(null,v)},s)}}},Ka=t=>{let s=!1,i;return(...l)=>(s||(s=!0,i=t.apply(null,l)),i)},Zu="\uFEFF",cu="",ml=(t,s)=>{const l=(s||document).createElement("div");if(l.innerHTML=t,!l.hasChildNodes()||l.childNodes.length>1){const m="HTML does not have a single root node";throw console.error(m,t),new Error(m)}return hl(l.childNodes[0])},qu=(t,s)=>{const l=(s||document).createElement(t);return hl(l)},lu=(t,s)=>{const l=(s||document).createTextNode(t);return hl(l)},hl=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},pn={fromHtml:ml,fromTag:qu,fromText:lu,fromDom:hl,fromPoint:(t,s,i)=>B.from(t.dom.elementFromPoint(s,i)).map(hl)},Fl=(t,s)=>{s.fold(i=>{t.setStartBefore(i.dom)},(i,l)=>{t.setStart(i.dom,l)},i=>{t.setStartAfter(i.dom)})},Gu=(t,s)=>{s.fold(i=>{t.setEndBefore(i.dom)},(i,l)=>{t.setEnd(i.dom,l)},i=>{t.setEndAfter(i.dom)})},re=(t,s,i)=>{const l=t.document.createRange();return Fl(l,s),Gu(l,i),l},Ae=(t,s,i,l,m)=>{const v=t.document.createRange();return v.setStart(s.dom,i),v.setEnd(l.dom,m),v},Ge=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),Rt=t=>{const s=t.getClientRects(),i=s.length>0?s[0]:t.getBoundingClientRect();return i.width>0||i.height>0?B.some(i).map(Ge):B.none()},mn=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?B.some(s).map(Ge):B.none()},Fn=Do.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),es=(t,s,i)=>s(pn.fromDom(i.startContainer),i.startOffset,pn.fromDom(i.endContainer),i.endOffset),Uo=(t,s)=>s.match({domRange:i=>({ltr:k(i),rtl:B.none}),relative:(i,l)=>({ltr:Ka(()=>re(t,i,l)),rtl:Ka(()=>B.some(re(t,l,i)))}),exact:(i,l,m,v)=>({ltr:Ka(()=>Ae(t,i,l,m,v)),rtl:Ka(()=>B.some(Ae(t,m,v,i,l)))})}),Cs=(t,s)=>{const i=s.ltr();return i.collapsed?s.rtl().filter(m=>m.collapsed===!1).map(m=>Fn.rtl(pn.fromDom(m.endContainer),m.endOffset,pn.fromDom(m.startContainer),m.startOffset)).getOrThunk(()=>es(t,Fn.ltr,i)):es(t,Fn.ltr,i)},G=(t,s)=>{const i=Uo(t,s);return Cs(t,i)},ce=(t,s)=>G(t,s).match({ltr:(l,m,v,y)=>{const T=t.document.createRange();return T.setStart(l.dom,m),T.setEnd(v.dom,y),T},rtl:(l,m,v,y)=>{const T=t.document.createRange();return T.setStart(v.dom,y),T.setEnd(l.dom,m),T}});Fn.ltr,Fn.rtl;const De=9,ft=11,In=1,as=3,S=(t,s)=>{const i=t.dom;if(i.nodeType!==In)return!1;{const l=i;if(l.matches!==void 0)return l.matches(s);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(s);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(s);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},R=t=>t.nodeType!==In&&t.nodeType!==De&&t.nodeType!==ft||t.childElementCount===0,H=(t,s)=>{const i=s===void 0?document:s.dom;return R(i)?[]:Tt(i.querySelectorAll(t),pn.fromDom)},W=(t,s)=>{const i=s===void 0?document:s.dom;return R(i)?B.none():B.from(i.querySelector(t)).map(pn.fromDom)},X=(t,s)=>t.dom===s.dom,se=(t,s)=>{const i=t.dom,l=s.dom;return i===l?!1:i.contains(l)},me=(t,s,i,l)=>{const m=t.isiOS()&&/ipad/i.test(i)===!0,v=t.isiOS()&&!m,y=t.isiOS()||t.isAndroid(),T=y||l("(pointer:coarse)"),A=m||!v&&y&&l("(min-device-width:768px)"),L=v||y&&!A,z=s.isSafari()&&t.isiOS()&&/safari/i.test(i)===!1,j=!L&&!A&&!z;return{isiPad:k(m),isiPhone:k(v),isTablet:k(A),isPhone:k(L),isTouch:k(T),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:k(z),isDesktop:k(j)}},Ze=(t,s)=>{for(let i=0;i<t.length;i++){const l=t[i];if(l.test(s))return l}},We=(t,s)=>{const i=Ze(t,s);if(!i)return{major:0,minor:0};const l=m=>Number(s.replace(i,"$"+m));return hn(l(1),l(2))},pt=(t,s)=>{const i=String(s).toLowerCase();return t.length===0?Ut():We(t,i)},Ut=()=>hn(0,0),hn=(t,s)=>({major:t,minor:s}),It={nu:hn,detect:pt,unknown:Ut},Vn=(t,s)=>wo(s.brands,i=>{const l=i.brand.toLowerCase();return ut(t,m=>{var v;return l===((v=m.brand)===null||v===void 0?void 0:v.toLowerCase())}).map(m=>({current:m.name,version:It.nu(parseInt(i.version,10),0)}))}),ds=(t,s)=>{const i=String(s).toLowerCase();return ut(t,l=>l.search(i))},Ys=(t,s)=>ds(t,s).map(i=>{const l=It.detect(i.versionRegexes,s);return{current:i.name,version:l}}),Ds=(t,s)=>ds(t,s).map(i=>{const l=It.detect(i.versionRegexes,s);return{current:i.name,version:l}}),Li=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Fr=t=>s=>Ws(s,t),gl=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Ws(t,"edge/")&&Ws(t,"chrome")&&Ws(t,"safari")&&Ws(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Li],search:t=>Ws(t,"chrome")&&!Ws(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Ws(t,"msie")||Ws(t,"trident")},{name:"Opera",versionRegexes:[Li,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Fr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Fr("firefox")},{name:"Safari",versionRegexes:[Li,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Ws(t,"safari")||Ws(t,"mobile/"))&&Ws(t,"applewebkit")}],pl=[{name:"Windows",search:Fr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Ws(t,"iphone")||Ws(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Fr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Fr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Fr("linux"),versionRegexes:[]},{name:"Solaris",search:Fr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Fr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Fr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],js={browsers:k(gl),oses:k(pl)},ta="Edge",nr="Chromium",ai="IE",wm="Opera",Dc="Firefox",Hl="Safari",Cm=()=>Kc({current:void 0,version:It.unknown()}),Kc=t=>{const s=t.current,i=t.version,l=m=>()=>s===m;return{current:s,version:i,isEdge:l(ta),isChromium:l(nr),isIE:l(ai),isOpera:l(wm),isFirefox:l(Dc),isSafari:l(Hl)}},zl={unknown:Cm,nu:Kc},Nd="Windows",Yc="iOS",xm="Android",na="Linux",xi="macOS",Id="Solaris",Z1="FreeBSD",fs="ChromeOS",Ir=()=>Bd({current:void 0,version:It.unknown()}),Bd=t=>{const s=t.current,i=t.version,l=m=>()=>s===m;return{current:s,version:i,isWindows:l(Nd),isiOS:l(Yc),isAndroid:l(xm),isMacOS:l(xi),isLinux:l(na),isSolaris:l(Id),isFreeBSD:l(Z1),isChromeOS:l(fs)}},Xs={unknown:Ir,nu:Bd},ng={detect:(t,s,i)=>{const l=js.browsers(),m=js.oses(),v=s.bind(A=>Vn(l,A)).orThunk(()=>Ys(l,t)).fold(zl.unknown,zl.nu),y=Ds(m,t).fold(Xs.unknown,Xs.nu),T=me(y,v,t,i);return{browser:v,os:y,deviceType:T}}},G0=t=>window.matchMedia(t).matches;let og=Ka(()=>ng.detect(window.navigator.userAgent,B.from(window.navigator.userAgentData),G0));const cr=()=>og(),du=(t,s)=>pa(t,s),Ku=(t,s)=>{const i=du(t,s);if(i==null)throw new Error(t+" not available on this browser");return i},on=Object.getPrototypeOf,oa=t=>Ku("HTMLElement",t),Yu=t=>{const s=pa("ownerDocument.defaultView",t);return Z(t)&&(oa(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(on(t).constructor.name))},Ya=t=>t.dom.nodeName.toLowerCase(),Xu=t=>t.dom.nodeType,sg=t=>s=>Xu(s)===t,Ee=t=>ya(t)&&Yu(t.dom),ya=sg(In),Vl=sg(as),rg=sg(De),Ju=sg(ft),Vi=t=>s=>ya(s)&&Ya(s)===t,Me=t=>pn.fromDom(t.dom.ownerDocument),nt=t=>rg(t)?t:Me(t),Bt=t=>pn.fromDom(nt(t).dom.documentElement),Zt=t=>pn.fromDom(nt(t).dom.defaultView),sn=t=>B.from(t.dom.parentNode).map(pn.fromDom),eo=t=>sn(t),co=t=>B.from(t.dom.parentElement).map(pn.fromDom),Ho=(t,s)=>{const i=ue(s)?s:Ct;let l=t.dom;const m=[];for(;l.parentNode!==null&&l.parentNode!==void 0;){const v=l.parentNode,y=pn.fromDom(v);if(m.push(y),i(y)===!0)break;l=v}return m},xo=t=>B.from(t.dom.offsetParent).map(pn.fromDom),cs=t=>B.from(t.dom.previousSibling).map(pn.fromDom),ls=t=>B.from(t.dom.nextSibling).map(pn.fromDom),Go=t=>Tt(t.dom.childNodes,pn.fromDom),bs=(t,s)=>{const i=t.dom.childNodes;return B.from(i[s]).map(pn.fromDom)},Nn=t=>bs(t,0),Rs=(t,s)=>({element:t,offset:s}),Ui=(t,s)=>{const i=Go(t);return i.length>0&&s<i.length?Rs(i[s],0):Rs(t,s)},wa=(t,s,i,l)=>{const v=Me(t).dom.createRange();return v.setStart(t.dom,s),v.setEnd(i.dom,l),v},ko=(t,s,i,l)=>{const m=wa(t,s,i,l),v=X(t,i)&&s===l;return m.collapsed&&!v},sa=t=>Ju(t)&&ve(t.dom.host),Br=t=>pn.fromDom(t.dom.getRootNode()),Jr=t=>sa(t)?t:pn.fromDom(nt(t).dom.body),fu=t=>Ur(t).isSome(),Ur=t=>{const s=Br(t);return sa(s)?B.some(s):B.none()},Ms=t=>pn.fromDom(t.dom.host),$w=t=>{if(ve(t.target)){const s=pn.fromDom(t.target);if(ya(s)&&Fw(s)&&t.composed&&t.composedPath){const i=t.composedPath();if(i)return rt(i)}}return B.from(t.target)},Fw=t=>ve(t.dom.shadowRoot),vi=(t,s,i,l,m,v,y)=>({target:t,x:s,y:i,stop:l,prevent:m,kill:v,raw:y}),Ul=t=>{const s=pn.fromDom($w(t).getOr(t.target)),i=()=>t.stopPropagation(),l=()=>t.preventDefault(),m=qe(l,i);return vi(s,t.clientX,t.clientY,i,l,m,t)},Wl=(t,s)=>i=>{t(i)&&s(Ul(i))},Si=(t,s,i,l,m)=>{const v=Wl(i,l);return t.dom.addEventListener(s,v,m),{unbind:Je(Xc,t,s,v,m)}},mu=(t,s,i,l)=>Si(t,s,i,l,!1),ac=(t,s,i,l)=>Si(t,s,i,l,!0),Xc=(t,s,i,l)=>{t.dom.removeEventListener(s,i,l)},Na=Nt,Bs=(t,s,i)=>mu(t,s,Na,i),vl=(t,s,i)=>ac(t,s,Na,i),cc=Ul,ra=()=>pn.fromDom(document),Wi=(t,s=!1)=>t.dom.focus({preventScroll:s}),Hr=t=>t.dom.blur(),jl=t=>{const s=Br(t).dom;return t.dom===s.activeElement},ji=(t=ra())=>B.from(t.dom.activeElement).map(pn.fromDom),ci=t=>ji(Br(t)).filter(s=>t.dom.contains(s.dom)),Tf=(t,s)=>{sn(t).each(l=>{l.dom.insertBefore(s.dom,t.dom)})},K0=(t,s)=>{ls(t).fold(()=>{sn(t).each(m=>{Zi(m,s)})},l=>{Tf(l,s)})},xp=(t,s)=>{Nn(t).fold(()=>{Zi(t,s)},l=>{t.dom.insertBefore(s.dom,l.dom)})},Zi=(t,s)=>{t.dom.appendChild(s.dom)},q1=(t,s,i)=>{bs(t,i).fold(()=>{Zi(t,s)},l=>{Tf(l,s)})},Y0=(t,s)=>{rn(s,i=>{Zi(t,i)})},Em=(t,s,i)=>{if($(i)||ke(i)||Be(i))t.setAttribute(s,i+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",t),new Error("Attribute value was not simple")},lo=(t,s,i)=>{Em(t.dom,s,i)},G1=(t,s)=>{const i=t.dom;Vo(s,(l,m)=>{Em(i,m,l)})},Ni=(t,s)=>{const i=t.dom.getAttribute(s);return i===null?void 0:i},ia=(t,s)=>B.from(Ni(t,s)),aa=(t,s)=>{const i=t.dom;return i&&i.hasAttribute?i.hasAttribute(s):!1},hr=(t,s)=>{t.dom.removeAttribute(s)},kf=t=>jt(t.dom.attributes,(s,i)=>(s[i.name]=i.value,s),{}),Sp=t=>{t.dom.textContent="",rn(Go(t),s=>{bl(s)})},bl=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},hu=(t,s)=>pn.fromDom(t.dom.cloneNode(s)),K1=t=>hu(t,!1),Y1=t=>hu(t,!0),ig=(t,s)=>{const l=(s||document).createElement("div");return l.innerHTML=t,Go(pn.fromDom(l))},Qu=t=>t.dom.innerHTML,Zl=(t,s)=>{const l=Me(t).dom,m=pn.fromDom(l.createDocumentFragment()),v=ig(s,l);Y0(m,v),Sp(t),Zi(t,m)},X1=t=>{const s=pn.fromTag("div"),i=pn.fromDom(t.dom.cloneNode(!0));return Zi(s,i),Qu(s)},Ca=t=>{if(sa(t))return"#shadow-root";{const s=K1(t);return X1(s)}},yl=t=>new Promise((s,i)=>{const l=()=>{v(),s(t)},m=[Bs(t,"load",l),Bs(t,"error",()=>{v(),i("Unable to load data from image: "+t.dom.src)})],v=()=>rn(m,y=>y.unbind());t.dom.complete&&l()}),ed=t=>t.style!==void 0&&ue(t.style.getPropertyValue),xs=t=>{const s=Vl(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return Ur(pn.fromDom(s)).fold(()=>i.body.contains(s),Xe(xs,Ms))},Jc=()=>X0(pn.fromDom(document)),X0=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return pn.fromDom(s)},ag=(t,s,i)=>{if(!$(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",t),new Error("CSS value must be a string: "+i);ed(t)&&t.style.setProperty(s,i)},wl=(t,s)=>{ed(t)&&t.style.removeProperty(s)},bo=(t,s,i)=>{const l=t.dom;ag(l,s,i)},$r=(t,s)=>{const i=t.dom;Vo(s,(l,m)=>{ag(i,m,l)})},xa=(t,s)=>{const i=t.dom;Vo(s,(l,m)=>{l.fold(()=>{wl(i,m)},v=>{ag(i,m,v)})})},gr=(t,s)=>{const i=t.dom,m=window.getComputedStyle(i).getPropertyValue(s);return m===""&&!xs(t)?Cl(i,s):m},Cl=(t,s)=>ed(t)?t.style.getPropertyValue(s):"",_r=(t,s)=>{const i=t.dom,l=Cl(i,s);return B.from(l).filter(m=>m.length>0)},bi=t=>{const s={},i=t.dom;if(ed(i))for(let l=0;l<i.style.length;l++){const m=i.style.item(l);s[m]=i.style[m]}return s},ah=(t,s,i)=>{const l=pn.fromTag(t);return bo(l,s,i),_r(l,s).isSome()},os=(t,s)=>{const i=t.dom;wl(i,s),La(ia(t,"style").map(Sn),"")&&hr(t,"style")},ql=t=>t.dom.offsetWidth,or=(t,s)=>{const i=(T,A)=>{if(!Be(A)&&!A.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+A);const L=T.dom;ed(L)&&(L.style[t]=A+"px")},l=T=>{const A=s(T);if(A<=0||A===null){const L=gr(T,t);return parseFloat(L)||0}return A},m=l,v=(T,A)=>jt(A,(L,z)=>{const j=gr(T,z),Q=j===void 0?0:parseInt(j,10);return isNaN(Q)?L:L+Q},0);return{set:i,get:l,getOuter:m,aggregate:v,max:(T,A,L)=>{const z=v(T,L);return A>z?A-z:0}}},Rc=or("height",t=>{const s=t.dom;return xs(t)?s.getBoundingClientRect().height:s.offsetHeight}),yi=t=>Rc.get(t),wi=t=>Rc.getOuter(t),td=(t,s)=>{const i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],l=Rc.max(t,s,i);bo(t,"max-height",l+"px")},ch=t=>t.offsetWidth<=0&&t.offsetHeight<=0,$d=t=>!ch(t.dom),Af=or("width",t=>{const s=t.dom;return xs(t)?s.getBoundingClientRect().width:s.offsetWidth}),Of=(t,s)=>Af.set(t,s),Sa=t=>Af.get(t),Fd=t=>Af.getOuter(t),Hw=(t,s)=>{const i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],l=Af.max(t,s,i);bo(t,"max-width",l+"px")},Df=(t,s)=>({left:t,top:s,translate:(l,m)=>Df(t+l,s+m)}),$s=Df,J1=t=>{const s=t.getBoundingClientRect();return $s(s.left,s.top)},lh=(t,s)=>t!==void 0?t:s!==void 0?s:0,Ia=t=>{const s=t.dom.ownerDocument,i=s.body,l=s.defaultView,m=s.documentElement;if(i===t.dom)return $s(i.offsetLeft,i.offsetTop);const v=lh(l==null?void 0:l.pageYOffset,m.scrollTop),y=lh(l==null?void 0:l.pageXOffset,m.scrollLeft),T=lh(m.clientTop,i.clientTop),A=lh(m.clientLeft,i.clientLeft);return Mc(t).translate(y-A,v-T)},Mc=t=>{const s=t.dom,l=s.ownerDocument.body;return l===s?$s(l.offsetLeft,l.offsetTop):xs(t)?J1(s):$s(0,0)},Qr=t=>{const s=t!==void 0?t.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,l=s.body.scrollTop||s.documentElement.scrollTop;return $s(i,l)},Hd=(t,s,i)=>{const m=(i!==void 0?i.dom:document).defaultView;m&&m.scrollTo(t,s)},uh=((t,s)=>{const i=v=>{if(!t(v))throw new Error("Can only get "+s+" value of a "+s+" node");return l(v).getOr("")},l=v=>t(v)?B.from(v.dom.nodeValue):B.none();return{get:i,getOption:l,set:(v,y)=>{if(!t(v))throw new Error("Can only set raw "+s+" value of a "+s+" node");v.dom.nodeValue=y}}})(Vl,"text"),Ep=t=>uh.get(t),Q1=(t,s)=>i=>MS(i)==="rtl"?s:t,MS=t=>gr(t,"direction")==="rtl"?"rtl":"ltr",gu=(t,s)=>{const i=Ni(t,s);return i===void 0||i===""?[]:i.split(" ")},zw=(t,s,i)=>{const m=gu(t,s).concat([i]);return lo(t,s,m.join(" ")),!0},ev=(t,s,i)=>{const l=_o(gu(t,s),m=>m!==i);return l.length>0?lo(t,s,l.join(" ")):hr(t,s),!1};var pu=(t,s,i,l,m)=>t(i,l)?B.some(i):ue(m)&&m(i)?B.none():s(i,l,m);const J0=(t,s,i)=>{let l=t.dom;const m=ue(i)?i:Ct;for(;l.parentNode;){l=l.parentNode;const v=pn.fromDom(l);if(s(v))return B.some(v);if(m(v))break}return B.none()},dh=(t,s,i)=>pu((m,v)=>v(m),J0,t,s,i),cg=(t,s)=>{const i=t.dom;return i.parentNode?lg(pn.fromDom(i.parentNode),l=>!X(t,l)&&s(l)):B.none()},lg=(t,s)=>{const i=m=>s(pn.fromDom(m));return ut(t.dom.childNodes,i).map(pn.fromDom)},tv=(t,s)=>{const i=l=>{for(let m=0;m<l.childNodes.length;m++){const v=pn.fromDom(l.childNodes[m]);if(s(v))return B.some(v);const y=i(l.childNodes[m]);if(y.isSome())return y}return B.none()};return i(t.dom)},Q0=t=>W(t),Gl=(t,s,i)=>J0(t,l=>S(l,s),i),Vw=(t,s)=>cg(t,i=>S(i,s)),Rf=(t,s)=>lg(t,i=>S(i,s)),Fs=(t,s)=>W(s,t),Ba=(t,s,i)=>pu((m,v)=>S(m,v),Gl,t,s,i),nd=(t,s)=>{t.dom.checked=s},nv=t=>t.dom.checked,Mf=t=>t.dom.classList!==void 0,ov=t=>gu(t,"class"),eb=(t,s)=>zw(t,"class",s),od=(t,s)=>ev(t,"class",s),sd=(t,s)=>Pn(ov(t),s)?od(t,s):eb(t,s),Gs=(t,s)=>{Mf(t)?t.dom.classList.add(s):eb(t,s)},tb=t=>{(Mf(t)?t.dom.classList:ov(t)).length===0&&hr(t,"class")},zr=(t,s)=>{Mf(t)?t.dom.classList.remove(s):od(t,s),tb(t)},fh=(t,s)=>{const i=Mf(t)?t.dom.classList.toggle(s):sd(t,s);return tb(t),i},ui=(t,s)=>Mf(t)&&t.dom.classList.contains(s),rd=(t,s)=>{rn(s,i=>{Gs(t,i)})},$a=(t,s)=>{rn(s,i=>{zr(t,i)})},zd=(t,s)=>{rn(s,i=>{fh(t,i)})},_p=(t,s)=>et(s,i=>ui(t,i)),sv=t=>{const s=t.dom.classList,i=new Array(s.length);for(let l=0;l<s.length;l++){const m=s.item(l);m!==null&&(i[l]=m)}return i},rv=t=>Mf(t)?sv(t):ov(t),Uw=t=>t.dom.textContent,Pc=t=>t.dom.value,vu=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},di=(t,s,i)=>_o(Ho(t,i),s),qi=(t,s)=>H(s,t),Tp=(t,s,i)=>dh(t,s,i).isSome(),ug=(t,s,i)=>Ba(t,s,i).isSome(),kp=t=>ue(t)?t:Ct,nb=(t,s,i)=>{let l=t.dom;const m=kp(i);for(;l.parentNode;){l=l.parentNode;const v=pn.fromDom(l),y=s(v);if(y.isSome())return y;if(m(v))break}return B.none()},Kl=(t,s,i)=>{const l=s(t),m=kp(i);return l.orThunk(()=>m(t)?B.none():nb(t,s,m))},M={create:(t,s,i,l)=>({start:t,soffset:s,finish:i,foffset:l})},I=Do.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),te=(t,s,i,l)=>t.fold(s,i,l),he=t=>t.fold(Ot,Ot,Ot),Fe=I.before,kt=I.on,xn=I.after,Gn={before:Fe,on:kt,after:xn,cata:te,getStart:he},Bo=Do.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ko=t=>Bo.exact(t.start,t.soffset,t.finish,t.foffset),lr=t=>t.match({domRange:s=>pn.fromDom(s.startContainer),relative:(s,i)=>Gn.getStart(s),exact:(s,i,l,m)=>s}),Tr=Bo.domRange,Ci=Bo.relative,lc=Bo.exact,Vd=t=>{const s=lr(t);return Zt(s)},Ud=M.create,Yl={domRange:Tr,relative:Ci,exact:lc,exactFromRange:Ko,getWin:Vd,range:Ud},iv=t=>B.from(t.getSelection()),mh=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),i=t.getRangeAt(t.rangeCount-1);return B.some(M.create(pn.fromDom(s.startContainer),s.startOffset,pn.fromDom(i.endContainer),i.endOffset))}else return B.none()},Ap=t=>{if(t.anchorNode===null||t.focusNode===null)return mh(t);{const s=pn.fromDom(t.anchorNode),i=pn.fromDom(t.focusNode);return ko(s,t.anchorOffset,i,t.focusOffset)?B.some(M.create(s,t.anchorOffset,i,t.focusOffset)):mh(t)}},_m=t=>iv(t).filter(s=>s.rangeCount>0).bind(Ap),hh=(t,s)=>{const i=ce(t,s);return Rt(i)},Op=(t,s)=>{const i=ce(t,s);return mn(i)},Dp={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Ww=(()=>{const t="[0-9]+",i="[eE]"+("[+-]?"+t),l="\\.",m=T=>`(?:${T})?`,y=`[+-]?(?:${["Infinity",t+l+m(t)+m(i),l+t+m(i),t+m(i)].join("|")})`;return new RegExp(`^(${y})(.*)$`)})(),jw=(t,s)=>jo(s,i=>jo(Dp[i],l=>t===l)),ys=(t,s)=>B.from(Ww.exec(t)).bind(l=>{const m=Number(l[1]),v=l[2];return jw(v,s)?B.some({value:m,unit:v}):B.none()}),sr=(t,s)=>ys(t,s).map(({value:i,unit:l})=>i+l),Ii=t=>{const s=t===void 0?window:t;return cr().browser.isFirefox()?B.none():B.from(s.visualViewport)},Lc=(t,s,i,l)=>({x:t,y:s,width:i,height:l,right:t+i,bottom:s+l}),Rp=t=>{const s=t===void 0?window:t,i=s.document,l=Qr(pn.fromDom(i));return Ii(s).fold(()=>{const m=s.document.documentElement,v=m.clientWidth,y=m.clientHeight;return Lc(l.left,l.top,v,y)},m=>Lc(Math.max(m.pageLeft,l.left),Math.max(m.pageTop,l.top),m.width,m.height))},dg=(t,s)=>t.view(s).fold(k([]),l=>{const m=t.owner(l),v=dg(t,m);return[l].concat(v)}),Mp=(t,s)=>{const i=s.owner(t),l=dg(s,i);return B.some(l)};var Tm=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?B.none():B.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(pn.fromDom)},owner:t=>Me(t)});const Pf=t=>{const s=ra(),i=Qr(s);return Mp(t,Tm).fold(Je(Ia,t),m=>{const v=Mc(t),y=wt(m,(T,A)=>{const L=Mc(A);return{left:T.left+L.left,top:T.top+L.top}},{left:0,top:0});return $s(y.left+v.left+i.left,y.top+v.top+i.top)})},Zw=(t,s,i)=>({point:t,width:s,height:i}),dO=(t,s,i,l)=>({x:t,y:s,width:i,height:l}),Bi=(t,s,i,l)=>({x:t,y:s,width:i,height:l,right:t+i,bottom:s+l}),Ei=t=>{const s=Ia(t),i=Fd(t),l=wi(t);return Bi(s.left,s.top,i,l)},Wd=t=>{const s=Pf(t),i=Fd(t),l=wi(t);return Bi(s.left,s.top,i,l)},Lp=(t,s)=>{const i=Math.max(t.x,s.x),l=Math.max(t.y,s.y),m=Math.min(t.right,s.right),v=Math.min(t.bottom,s.bottom),y=m-i,T=v-l;return Bi(i,l,y,T)},ob=(t,s)=>jt(s,(i,l)=>Lp(i,l),t),uc=()=>Rp(window),qw=(t,s)=>X(t.element,s.event.target),gh=t=>(La(_r(t,"position"),"fixed")?B.none():xo(t)).orThunk(()=>{const l=pn.fromTag("span");return sn(t).bind(m=>{Zi(m,l);const v=xo(l);return bl(l),v})}),sb=t=>gh(t).map(Ia).getOrThunk(()=>$s(0,0)),xl=(t,s)=>{const i=B.from(Ni(t,"id")).getOrThunk(()=>{const l=Tn("aria");return lo(s,"id",l),l});lo(t,"aria-describedby",i)},rb=t=>{hr(t,"aria-describedby")};var fr;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(fr||(fr={}));const Np=(t,s,i)=>t.stype===fr.Error?s(t.serror):i(t.svalue),km=t=>{const s=[],i=[];return rn(t,l=>{Np(l,m=>i.push(m),m=>s.push(m))}),{values:s,errors:i}},fO=(t,s)=>t.stype===fr.Error?{stype:fr.Error,serror:s(t.serror)}:t,NS=(t,s)=>t.stype===fr.Value?{stype:fr.Value,svalue:s(t.svalue)}:t,ib=(t,s)=>t.stype===fr.Value?s(t.svalue):t,mO=(t,s)=>t.stype===fr.Error?s(t.serror):t,Gw=t=>({stype:fr.Value,svalue:t}),Am=t=>({stype:fr.Error,serror:t}),kr={fromResult:t=>t.fold(Am,Gw),toResult:t=>Np(t,Un.error,Un.value),svalue:Gw,partition:km,serror:Am,bind:ib,bindError:mO,map:NS,mapError:fO,fold:Np},Ip=t=>Z(t)&&Rn(t).length>100?" removed due to size":JSON.stringify(t,null,2),fg=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:k("... (only showing first ten failures)")}]):t;return Tt(s,i=>"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo())},Ea=(t,s)=>kr.serror([{path:t,getErrorInfo:s}]),Bp=(t,s,i)=>Ea(t,()=>'Could not find valid *required* value for "'+s+'" in '+Ip(i)),hO=(t,s)=>Ea(t,()=>'Choice schema did not contain choice key: "'+s+'"'),mg=(t,s,i)=>Ea(t,()=>'The chosen schema: "'+i+'" did not exist in branches: '+Ip(s)),IS=(t,s)=>Ea(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),Lf=(t,s)=>Ea(t,k(s)),ph=t=>{const s=(l,m)=>kr.bindError(t(m),v=>Lf(l,v)),i=k("val");return{extract:s,toString:i}},Yw=ph(kr.svalue),en=k(Yw),Xw=(t,s)=>ph(i=>{const l=typeof i;return t(i)?kr.svalue(i):kr.serror(`Expected type: ${s} but got: ${l}`)}),Jw=Xw(Be,"number"),ei=Xw($,"string"),ns=Xw(ke,"boolean"),hg=Xw(ue,"function"),Vr=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>Vr(t[s]));default:return!1}},Qw=ph(t=>Vr(t)?kr.svalue(t):kr.serror("Expected value to be acceptable for sending via postMessage")),id=()=>({tag:"required",process:{}}),Nc=t=>({tag:"defaultedThunk",process:t}),Ar=t=>Nc(k(t)),ab=()=>({tag:"option",process:{}}),Nf=t=>({tag:"mergeWithThunk",process:t}),e2=t=>Nf(k(t)),cb=(t,s,i,l)=>({tag:"field",key:t,newKey:s,presence:i,prop:l}),ad=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),t2=(t,s,i)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return i(t.newKey,t.instantiator)}},lb=(t,s)=>kr.svalue(Is(s,Md.apply(void 0,t))),n2=t=>qe(kr.serror,Lt)(t),o2={consolidateObj:(t,s)=>{const i=kr.partition(t);return i.errors.length>0?n2(i.errors):lb(i.values,s)},consolidateArr:t=>{const s=kr.partition(t);return s.errors.length>0?n2(s.errors):kr.svalue(s.values)}},$S=(t,s,i,l)=>_t(s,i).fold(()=>Bp(t,i,s),l),ub=(t,s,i,l)=>{const m=_t(t,s).getOrThunk(()=>i(t));return l(m)},pO=(t,s,i)=>i(_t(t,s)),vO=(t,s,i,l)=>{const m=_t(t,s).map(v=>v===!0?i(t):v);return l(m)},s2=(t,s,i,l,m)=>{const v=T=>m.extract(s.concat([l]),T),y=T=>T.fold(()=>kr.svalue(B.none()),A=>{const L=m.extract(s.concat([l]),A);return kr.map(L,B.some)});switch(t.tag){case"required":return $S(s,i,l,v);case"defaultedThunk":return ub(i,l,t.process,v);case"option":return pO(i,l,y);case"defaultedOptionThunk":return vO(i,l,t.process,y);case"mergeWithThunk":return ub(i,l,k({}),T=>{const A=Is(t.process(i),T);return v(A)})}},r2=(t,s,i)=>{const l={},m=[];for(const v of i)t2(v,(y,T,A,L)=>{const z=s2(A,t,s,y,L);kr.fold(z,j=>{m.push(...j)},j=>{l[T]=j})},(y,T)=>{l[y]=T(s)});return m.length>0?kr.serror(m):kr.svalue(l)},bu=t=>({extract:(l,m)=>t().extract(l,m),toString:()=>t().toString()}),Ic=t=>Rn(bt(t,ve)),Xl=t=>{const s=yo(t),i=wt(t,(m,v)=>t2(v,y=>Is(m,{[y]:!0}),k(m)),{});return{extract:(m,v)=>{const y=ke(v)?[]:Ic(v),T=_o(y,A=>!cn(i,A));return T.length===0?s.extract(m,v):IS(m,T)},toString:s.toString}},yo=t=>({extract:(l,m)=>r2(l,m,t),toString:()=>`obj{
`+Tt(t,m=>t2(m,(v,y,T,A)=>v+" -> "+A.toString(),(v,y)=>"state("+v+")")).join(`
`)+"}"}),Bc=t=>({extract:(l,m)=>{const v=Tt(m,(y,T)=>t.extract(l.concat(["["+T+"]"]),y));return o2.consolidateArr(v)},toString:()=>"array("+t.toString()+")"}),gg=(t,s)=>{const i=s!==void 0?s:Ot;return{extract:(v,y)=>{const T=[];for(const A of t){const L=A.extract(v,y);if(L.stype===fr.Value)return{stype:fr.Value,svalue:i(L.svalue)};T.push(L)}return o2.consolidateArr(T)},toString:()=>"oneOf("+Tt(t,v=>v.toString()).join(", ")+")"}},FS=(t,s)=>{const i=(v,y)=>Bc(ph(t)).extract(v,y);return{extract:(v,y)=>{const T=Rn(y),A=i(v,T);return kr.bind(A,L=>{const z=Tt(L,j=>cb(j,j,id(),s));return yo(z).extract(v,y)})},toString:()=>"setOf("+s.toString()+")"}},bO=(t,s)=>{const i=Ka(s);return{extract:(v,y)=>i().extract(v,y),toString:()=>i().toString()}},db=qe(Bc,yo),av=(t,s,i,l)=>_t(i,l).fold(()=>mg(t,i,l),v=>v.extract(t.concat(["branch: "+l]),s)),pg=(t,s)=>({extract:(m,v)=>_t(v,t).fold(()=>hO(m,t),T=>av(m,v,s,T)),toString:()=>"chooseOn("+t+"). Possible values: "+Rn(s)}),fb=()=>Bc(Yw),vh=t=>ph(s=>t(s).fold(kr.serror,kr.svalue)),i2=(t,s)=>FS(i=>kr.fromResult(t(i)),s),HS=(t,s,i)=>{const l=s.extract([t],i);return kr.mapError(l,m=>({input:i,errors:m}))},Kr=(t,s,i)=>kr.toResult(HS(t,s,i)),cd=t=>t.fold(s=>{throw new Error(bh(s))},Ot),Qc=(t,s,i)=>cd(Kr(t,s,i)),bh=t=>`Errors: 
`+fg(t.errors).join(`
`)+`

Input object: `+Ip(t.input),$c=(t,s)=>pg(t,Oo(s,yo)),vg=(t,s)=>bO(t,s),ca=cb,Xa=ad,$p=t=>vh(s=>Pn(t,s)?Un.value(s):Un.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),Vt=t=>ca(t,t,id(),en()),Jl=(t,s)=>ca(t,t,id(),s),cv=t=>Jl(t,Jw),Gi=t=>Jl(t,ei),yu=(t,s)=>ca(t,t,id(),$p(s)),wu=t=>Jl(t,hg),zS=(t,s)=>ca(t,t,ab(),ph(i=>kr.serror("The field: "+t+" is forbidden. "+s))),Om=(t,s)=>ca(t,t,id(),yo(s)),VS=(t,s)=>ca(t,t,id(),db(s)),el=(t,s)=>ca(t,t,id(),Bc(s)),Ks=t=>ca(t,t,ab(),en()),ld=(t,s)=>ca(t,t,ab(),s),lv=t=>ld(t,Jw),ni=t=>ld(t,ei),US=(t,s)=>ld(t,$p(s)),mb=t=>ld(t,ns),jd=t=>ld(t,hg),a2=(t,s)=>ld(t,Bc(s)),Sl=(t,s)=>ld(t,yo(s)),c2=(t,s)=>ld(t,Xl(s)),ct=(t,s)=>ca(t,t,Ar(s),en()),Fc=(t,s,i)=>ca(t,t,Ar(s),i),Fp=(t,s)=>Fc(t,s,Jw),Yr=(t,s)=>Fc(t,s,ei),Ql=(t,s,i)=>Fc(t,s,$p(i)),Fa=(t,s)=>Fc(t,s,ns),Zs=(t,s)=>Fc(t,s,hg),WS=(t,s)=>Fc(t,s,Qw),yh=(t,s,i)=>Fc(t,s,Bc(i)),l2=(t,s,i)=>Fc(t,s,yo(i)),wh=(t,s)=>{const i={};return Vo(t,(l,m)=>{Pn(s,m)||(i[m]=l)}),i},Hp=(t,s)=>({[t]:s}),jS=t=>{const s={};return rn(t,i=>{s[i.key]=i.value}),s},ZS=(t,s)=>wh(t,s),Dm=(t,s)=>Hp(t,s),uv=t=>jS(t),eN=(t,s)=>t.length===0?Un.value(s):Un.value(Is(s,Md.apply(void 0,t))),bg=t=>Un.error(Lt(t)),Ha=(t,s)=>{const i=Ga(t);return i.errors.length>0?bg(i.errors):eN(i.values,s)},_a=k,Rm=_a("touchstart"),Mm=_a("touchmove"),yg=_a("touchend"),zp=_a("touchcancel"),Hc=_a("mousedown"),Ch=_a("mousemove"),Ki=_a("mouseout"),hb=_a("mouseup"),ud=_a("mouseover"),dd=_a("focusin"),gb=_a("focusout"),la=_a("keydown"),Vp=_a("keyup"),Pm=_a("input"),wg=_a("change"),If=_a("click"),dv=_a("transitioncancel"),eu=_a("transitionend"),Cg=_a("transitionstart"),qS=_a("selectstart"),fi=t=>k("alloy."+t),GS={tap:fi("tap")},Bf=fi("focus"),fd=fi("blur.post"),u2=fi("paste.post"),xg=fi("receive"),El=fi("execute"),Sg=fi("focus.item"),Eg=GS.tap,d2=fi("longpress"),pb=fi("sandbox.close"),vb=fi("typeahead.cancel"),bb=fi("system.init"),f2=fi("system.touchmove"),KS=fi("system.touchend"),_g=fi("system.scroll"),Tg=fi("system.resize"),Zd=fi("system.attached"),Lm=fi("system.detached"),kg=fi("system.dismissRequested"),YS=fi("system.repositionRequested"),fv=fi("focusmanager.shifted"),mv=fi("slotcontainer.visibility"),XS=fi("system.external.element.scroll"),JS=fi("change.tab"),yb=fi("dismiss.tab"),Ag=fi("highlight"),wb=fi("dehighlight"),Cu=t=>Ca(t),QS="unknown";var md;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(md||(md={}));const hv=Qt({}),eE=(t,s)=>{const i=[],l=new Date().getTime();return{logEventCut:(m,v,y)=>{i.push({outcome:"cut",target:v,purpose:y})},logEventStopped:(m,v,y)=>{i.push({outcome:"stopped",target:v,purpose:y})},logNoParent:(m,v,y)=>{i.push({outcome:"no-parent",target:v,purpose:y})},logEventNoHandlers:(m,v)=>{i.push({outcome:"no-handlers-left",target:v})},logEventResponse:(m,v,y)=>{i.push({outcome:"response",purpose:y,target:v})},write:()=>{const m=new Date().getTime();Pn(["mousemove","mouseover","mouseout",bb()],t)||console.log(t,{event:t,time:m-l,target:s.dom,sequence:Tt(i,v=>Pn(["cut","stopped","response"],v.outcome)?"{"+v.purpose+"} "+v.outcome+" at ("+Cu(v.target)+")":v.outcome)})}}},tE=(t,s,i)=>{switch(_t(hv.get(),t).orThunk(()=>{const m=Rn(hv.get());return wo(m,v=>t.indexOf(v)>-1?B.some(hv.get()[v]):B.none())}).getOr(md.NORMAL)){case md.NORMAL:return i(yO());case md.LOGGING:{const m=eE(t,s),v=i(m);return m.write(),v}case md.STOP:return!0}},_l=["alloy/data/Fields","alloy/debugging/Debugging"],gv=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return ut(s,i=>i.indexOf("alloy")>0&&!jo(_l,l=>i.indexOf(l)>-1)).getOr(QS)}else return QS},nE={logEventCut:oe,logEventStopped:oe,logNoParent:oe,logEventNoHandlers:oe,logEventResponse:oe,write:oe},xh=(t,s,i)=>tE(t,s,i),yO=k(nE),wO=k([Vt("menu"),Vt("selectedMenu")]),m2=k([Vt("item"),Vt("selectedItem")]);k(yo(m2().concat(wO())));const CO=k(yo(m2())),qs=Om("initSize",[Vt("numColumns"),Vt("numRows")]),oE=()=>Jl("markers",CO()),sE=()=>Om("markers",[Vt("backgroundMenu")].concat(wO()).concat(m2())),xu=t=>Om("markers",Tt(t,Vt)),Og=(t,s,i)=>(gv(),ca(s,s,i,vh(l=>Un.value((...m)=>l.apply(void 0,m))))),gs=t=>Og("onHandler",t,Ar(oe)),$i=t=>Og("onKeyboardHandler",t,Ar(B.none)),pv=t=>Og("onHandler",t,id()),Cb=t=>Og("onKeyboardHandler",t,id()),Or=(t,s)=>Xa(t,k(s)),Up=t=>Xa(t,Ot),xb=k(qs),rE=(t,s,i)=>{const l=i.toString(),m=l.indexOf(")")+1,v=l.indexOf("("),y=l.substring(v+1,m-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:iE(y.slice(0,1).concat(y.slice(3)))}),t},iE=t=>Tt(t,s=>rc(s,"/*")?s.substring(0,s.length-2):s),aE=(t,s)=>{const i=t.toString(),l=i.indexOf(")")+1,m=i.indexOf("("),v=i.substring(m+1,l-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:iE(v)}),t},tN=(t,s)=>{const i=s.toString(),l=i.indexOf(")")+1,m=i.indexOf("("),v=i.substring(m+1,l-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:iE(v.slice(1))}),t},xO=(t,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...v)=>{i=setTimeout(()=>{t.apply(null,v),i=null},s)}}},SO=5,cE=400,lE=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?B.none():B.some(s.touches[0])},hd=(t,s)=>{const i=Math.abs(t.clientX-s.x),l=Math.abs(t.clientY-s.y);return i>SO||l>SO},Ja=t=>{const s=go(),i=Qt(!1),l=xO(L=>{t.triggerEvent(d2(),L),i.set(!0)},cE),m=L=>(lE(L).each(z=>{l.cancel();const j={x:z.clientX,y:z.clientY,target:L.target};l.schedule(L),i.set(!1),s.set(j)}),B.none()),v=L=>(l.cancel(),lE(L).each(z=>{s.on(j=>{hd(z,j)&&s.clear()})}),B.none()),y=L=>{l.cancel();const z=j=>X(j.target,L.target);return s.get().filter(z).map(j=>i.get()?(L.prevent(),!1):t.triggerEvent(Eg(),L))},T=uv([{key:Rm(),value:m},{key:Mm(),value:v},{key:yg(),value:y}]);return{fireIfReady:(L,z)=>_t(T,z).bind(j=>j(L))}};var gd;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(gd||(gd={}));const qd="placeholder",Gd=Do.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Sh=t=>yn(t,"uiType"),$f=(t,s,i,l)=>t.exists(m=>m!==i.owner)?Gd.single(!0,k(i)):_t(l,i.name).fold(()=>{throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+Rn(l)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},m=>m.replace()),Nm=(t,s,i,l)=>Sh(i)&&i.uiType===qd?$f(t,s,i,l):Gd.single(!1,k(i)),h2=(t,s,i,l)=>Nm(t,s,i,l).fold((v,y)=>{const T=Sh(i)?y(s,i.config,i.validated):y(s),A=_t(T,"components").getOr([]),L=Re(A,z=>h2(t,s,z,l));return[{...T,components:L}]},(v,y)=>{if(Sh(i)){const T=y(s,i.config,i.validated);return i.validated.preprocess.getOr(Ot)(T)}else return y(s)}),g2=(t,s,i,l)=>Re(i,m=>h2(t,s,m,l)),nN=(t,s)=>{let i=!1;const l=()=>i,m=()=>{if(i)throw new Error("Trying to use the same placeholder more than once: "+t);return i=!0,s},v=()=>s.fold((y,T)=>y,(y,T)=>y);return{name:k(t),required:v,used:l,replace:m}},EO=(t,s,i,l)=>{const m=Oo(l,(y,T)=>nN(T,y)),v=g2(t,s,i,m);return Vo(m,y=>{if(y.used()===!1&&y.required())throw new Error("Placeholder: "+y.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),v},Sb=Gd.single,Eb=Gd.multiple,uE=k(qd),_b=Do.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Eh=ct("factory",{sketch:Ot}),vv=ct("schema",[]),Kd=Vt("name"),Tb=ca("pname","pname",Nc(t=>"<alloy."+Tn(t.name)+">"),en()),_O=Xa("schema",()=>[Ks("preprocess")]),kb=ct("defaults",k({})),Ab=ct("overrides",k({})),dE=yo([Eh,vv,Kd,Tb,kb,Ab]),TO=yo([Eh,vv,Kd,kb,Ab]),Wp=yo([Eh,vv,Kd,Tb,kb,Ab]),fE=yo([Eh,_O,Kd,Vt("unit"),Tb,kb,Ab]),Ff=t=>t.fold(B.some,B.none,B.some,B.some),jp=t=>{const s=i=>i.name;return t.fold(s,s,s,s)},Ob=t=>t.fold(Ot,Ot,Ot,Ot),Hf=(t,s)=>i=>{const l=Qc("Converting part type",s,i);return t(l)},zc=Hf(_b.required,dE),Tl=Hf(_b.external,TO),kl=Hf(_b.optional,Wp),Db=Hf(_b.group,fE),p2=k("entirety");var Zp=Object.freeze({__proto__:null,required:zc,external:Tl,optional:kl,group:Db,asNamedPart:Ff,name:jp,asCommon:Ob,original:p2});const zf=(t,s,i,l)=>Is(s.defaults(t,i,l),i,{uid:t.partUids[s.name]},s.overrides(t,i,l)),kO=(t,s,i)=>{const l={},m={};return rn(i,v=>{v.fold(y=>{l[y.pname]=Sb(!0,(T,A,L)=>y.factory.sketch(zf(T,y,A,L)))},y=>{const T=s.parts[y.name];m[y.name]=k(y.factory.sketch(zf(s,y,T[p2()]),T))},y=>{l[y.pname]=Sb(!1,(T,A,L)=>y.factory.sketch(zf(T,y,A,L)))},y=>{l[y.pname]=Eb(!0,(T,A,L)=>{const z=T[y.name];return Tt(z,j=>y.factory.sketch(Is(y.defaults(T,j,L),j,y.overrides(T,j))))})})}),{internals:k(l),externals:k(m)}},Fi=(t,s)=>{const i={};return rn(s,l=>{Ff(l).each(m=>{const v=Rb(t,m.pname);i[m.name]=y=>{const T=Qc("Part: "+m.name+" in "+t,yo(m.schema),y);return{...v,config:y,validated:T}}})}),i},Rb=(t,s)=>({uiType:uE(),owner:t,name:s}),tl=(t,s,i)=>({uiType:uE(),owner:t,name:s,config:i,validated:{}}),mE=t=>Re(t,s=>s.fold(B.none,B.some,B.none,B.none).map(i=>Om(i.name,i.schema.concat([Up(p2())]))).toArray()),hE=t=>Tt(t,jp),_h=(t,s,i)=>kO(t,s,i),Im=(t,s,i)=>EO(B.some(t),s,s.components,i),Ps=(t,s,i)=>{const l=s.partUids[i];return t.getSystem().getByUid(l).toOptional()},dc=(t,s,i)=>Ps(t,s,i).getOrDie("Could not find part: "+i),bv=(t,s,i)=>{const l={},m=s.partUids,v=t.getSystem();return rn(i,y=>{l[y]=k(v.getByUid(m[y]))}),l},Mb=(t,s)=>{const i=t.getSystem();return Oo(s.partUids,(l,m)=>k(i.getByUid(l)))},Pb=t=>Rn(t.partUids),yv=(t,s,i)=>{const l={},m=s.partUids,v=t.getSystem();return rn(i,y=>{l[y]=k(v.getByUid(m[y]).getOrDie())}),l},gE=(t,s)=>{const i=hE(s);return uv(Tt(i,l=>({key:l,value:t+"-"+l})))},Vf=t=>ca("partUids","partUids",Nf(s=>gE(s.uid,t)),en());var Th=Object.freeze({__proto__:null,generate:Fi,generateOne:tl,schemas:mE,names:hE,substitutes:_h,components:Im,defaultUids:gE,defaultUidsSchema:Vf,getAllParts:Mb,getAllPartNames:Pb,getPart:Ps,getPartOrDie:dc,getParts:bv,getPartsOrDie:yv});const v2=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],tu=(t,s,i,l=1)=>{const m=t*l,v=s*l,y=A=>_t(i,A).getOr([]),T=(A,L,z)=>{const j=pe(v2,z);return{offset:$s(A,L),classesOn:Re(z,y),classesOff:Re(j,y)}};return{southeast:()=>T(-t,s,["top","alignLeft"]),southwest:()=>T(t,s,["top","alignRight"]),south:()=>T(-t/2,s,["top","alignCentre"]),northeast:()=>T(-t,-s,["bottom","alignLeft"]),northwest:()=>T(t,-s,["bottom","alignRight"]),north:()=>T(-t/2,-s,["bottom","alignCentre"]),east:()=>T(t,-s/2,["valignCentre","left"]),west:()=>T(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>T(m,v,["top","alignLeft","inset"]),insetNorthwest:()=>T(-m,v,["top","alignRight","inset"]),insetNorth:()=>T(-m/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>T(m,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>T(-m,-v,["bottom","alignRight","inset"]),insetSouth:()=>T(-m/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>T(-m,-v/2,["valignCentre","right","inset"]),insetWest:()=>T(m,-v/2,["valignCentre","left","inset"])}},qp=()=>tu(0,0,{}),_i=(t,s,i,l,m,v,y,T=!1)=>({x:t,y:s,bubble:i,direction:l,placement:m,restriction:v,label:`${y}-${m}`,alwaysFit:T}),nl=Do.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Lb=(t,s,i,l,m,v,y,T,A)=>t.fold(s,i,l,m,v,y,T,A),pE=(t,s,i,l)=>t.fold(s,s,l,l,s,l,i,i),b2=(t,s,i,l)=>t.fold(s,l,s,l,i,i,s,l),kh=nl.southeast,Dg=nl.southwest,y2=nl.northeast,w2=nl.northwest,wv=nl.south,C2=nl.north,Ah=nl.east,Bm=nl.west,vE=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},za=(t,s)=>at(["left","right","top","bottom"],i=>_t(s,i).map(l=>vE(t,l))),bE=(t,s,i)=>{const l=(A,L)=>s[A].map(z=>{const j=A==="top"||A==="bottom",Q=j?i.top:i.left,ae=(A==="left"||A==="top"?Math.max:Math.min)(z,L)+Q;return j?ii(ae,t.y,t.bottom):ii(ae,t.x,t.right)}).getOr(L),m=l("left",t.x),v=l("top",t.y),y=l("right",t.right),T=l("bottom",t.bottom);return Bi(m,v,y-m,T-v)},Oh="layout",yE=t=>t.x,Nb=(t,s)=>t.x+t.width/2-s.width/2,x2=(t,s)=>t.x+t.width-s.width,Cv=(t,s)=>t.y-s.height,S2=t=>t.y+t.height,wE=(t,s)=>t.y+t.height/2-s.height/2,CE=t=>t.x+t.width,xv=(t,s)=>t.x-s.width,Hi=(t,s,i)=>_i(yE(t),S2(t),i.southeast(),kh(),"southeast",za(t,{left:1,top:3}),Oh),Dr=(t,s,i)=>_i(x2(t,s),S2(t),i.southwest(),Dg(),"southwest",za(t,{right:0,top:3}),Oh),Va=(t,s,i)=>_i(yE(t),Cv(t,s),i.northeast(),y2(),"northeast",za(t,{left:1,bottom:2}),Oh),Yi=(t,s,i)=>_i(x2(t,s),Cv(t,s),i.northwest(),w2(),"northwest",za(t,{right:0,bottom:2}),Oh),ua=(t,s,i)=>_i(Nb(t,s),Cv(t,s),i.north(),C2(),"north",za(t,{bottom:2}),Oh),Ti=(t,s,i)=>_i(Nb(t,s),S2(t),i.south(),wv(),"south",za(t,{top:3}),Oh),Ib=(t,s,i)=>_i(CE(t),wE(t,s),i.east(),Ah(),"east",za(t,{left:0}),Oh),Bb=(t,s,i)=>_i(xv(t,s),wE(t,s),i.west(),Bm(),"west",za(t,{right:1}),Oh),$b=()=>[Hi,Dr,Va,Yi,Ti,ua,Ib,Bb],xE=()=>[Dr,Hi,Yi,Va,Ti,ua,Ib,Bb],Fb=()=>[Va,Yi,Hi,Dr,ua,Ti],SE=()=>[Yi,Va,Dr,Hi,ua,Ti],Rg=()=>[Hi,Dr,Va,Yi,Ti,ua],E2=()=>[Dr,Hi,Yi,Va,Ti,ua],Mg="data-alloy-placement",Hb=(t,s)=>{lo(t,Mg,s)},_2=t=>ia(t,Mg),zb=t=>hr(t,Mg),Yd="layout-inset",Sv=t=>t.x,T2=(t,s)=>t.x+t.width/2-s.width/2,Gp=(t,s)=>t.x+t.width-s.width,Ev=t=>t.y,Vb=(t,s)=>t.y+t.height-s.height,k2=(t,s)=>t.y+t.height/2-s.height/2,pd=(t,s,i)=>_i(Gp(t,s),Vb(t,s),i.insetSouthwest(),w2(),"southwest",za(t,{right:0,bottom:3}),Yd),Uf=(t,s,i)=>_i(Sv(t),Vb(t,s),i.insetSoutheast(),y2(),"southeast",za(t,{left:1,bottom:3}),Yd),Kp=(t,s,i)=>_i(Gp(t,s),Ev(t),i.insetNorthwest(),Dg(),"northwest",za(t,{right:0,top:2}),Yd),Et=(t,s,i)=>_i(Sv(t),Ev(t),i.insetNortheast(),kh(),"northeast",za(t,{left:1,top:2}),Yd),ol=(t,s,i)=>_i(T2(t,s),Ev(t),i.insetNorth(),wv(),"north",za(t,{top:2}),Yd),Yp=(t,s,i)=>_i(T2(t,s),Vb(t,s),i.insetSouth(),C2(),"south",za(t,{bottom:3}),Yd),_v=(t,s,i)=>_i(Gp(t,s),k2(t,s),i.insetEast(),Bm(),"east",za(t,{right:0}),Yd),Ub=(t,s,i)=>_i(Sv(t),k2(t,s),i.insetWest(),Ah(),"west",za(t,{left:1}),Yd),Xd=t=>{switch(t){case"north":return ol;case"northeast":return Et;case"northwest":return Kp;case"south":return Yp;case"southeast":return Uf;case"southwest":return pd;case"east":return _v;case"west":return Ub}},fc=(t,s,i,l,m)=>_2(l).map(Xd).getOr(ol)(t,s,i,l,m),Tv=t=>{switch(t){case"north":return Yp;case"northeast":return Uf;case"northwest":return pd;case"south":return ol;case"southeast":return Et;case"southwest":return Kp;case"east":return Ub;case"west":return _v}},EE=(t,s,i,l,m)=>_2(l).map(Tv).getOr(ol)(t,s,i,l,m),Wb=(t,s)=>{td(t,Math.floor(s))},_E=k((t,s)=>{Wb(t,s),$r(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Pg=k((t,s)=>{Wb(t,s)}),A2=k((t,s)=>{Hw(t,Math.floor(s))});var Wf;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Wf||(Wf={}));const O2="data-alloy-vertical-dir",TE=t=>Tp(t,s=>ya(s)&&Ni(s,"data-alloy-vertical-dir")===Wf.BottomToTop);var mc;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(mc||(mc={}));const Jd={init:()=>Al({readState:k("No State required")})},Al=t=>t,jb={can:Nt,abort:Ct,run:oe},Xp=t=>{if(!cn(t,"can")&&!cn(t,"abort")&&!cn(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...jb,...t}},kE=(t,s)=>(...i)=>jt(t,(l,m)=>l&&s(m).apply(void 0,i),!0),AO=(t,s)=>(...i)=>jt(t,(l,m)=>l||s(m).apply(void 0,i),!1),D2=t=>ue(t)?{can:Nt,abort:Ct,run:t}:t,AE=t=>{const s=kE(t,m=>m.can),i=AO(t,m=>m.abort);return{can:s,abort:i,run:(...m)=>{rn(t,v=>{v.run.apply(void 0,m)})}}},ts=(t,s)=>{R2(t,t.element,s,{})},so=(t,s,i)=>{R2(t,t.element,s,i)},kv=t=>{ts(t,El())},Zb=(t,s,i)=>{R2(t,s,i,{})},R2=(t,s,i,l)=>{const m={target:s,...l};t.getSystem().triggerEvent(i,s,m)},OO=(t,s,i,l)=>{const m={...l,target:s};t.getSystem().triggerEvent(i,s,m)},M2=(t,s,i,l)=>{t.getSystem().triggerEvent(i,s,l.event)},Rr=t=>uv(t),qb=(t,s)=>({key:t,value:Xp({abort:s})}),Av=(t,s)=>({key:t,value:Xp({can:s})}),Lg=t=>({key:t,value:Xp({run:(s,i)=>{i.event.prevent()}})}),At=(t,s)=>({key:t,value:Xp({run:s})}),Gb=(t,s,i)=>({key:t,value:Xp({run:(l,m)=>{s.apply(void 0,[l,m].concat(i))}})}),OE=t=>s=>At(t,s),Kb=t=>s=>({key:t,value:Xp({run:(i,l)=>{qw(i,l)&&s(i,l)}})}),DE=(t,s)=>At(t,(i,l)=>{i.getSystem().getByUid(s).each(m=>{M2(m,m.element,t,l)})}),$m=(t,s,i)=>{const l=s.partUids[i];return DE(t,l)},Ng=(t,s)=>At(t,(i,l)=>{const m=l.event,v=i.getSystem().getByDom(m.target).getOrThunk(()=>Kl(m.target,T=>i.getSystem().getByDom(T).toOptional(),Ct).getOr(i));s(i,v,l)}),Ig=t=>At(t,(s,i)=>{i.cut()}),P2=t=>At(t,(s,i)=>{i.stop()}),Bg=(t,s)=>Kb(t)(s),pr=Kb(Zd()),Qd=Kb(Lm()),RE=Kb(bb()),Fm=OE(El()),vd=t=>({classes:ye(t.classes)?[]:t.classes,attributes:ye(t.attributes)?{}:t.attributes,styles:ye(t.styles)?{}:t.styles}),DO=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),RO=(t,s,i)=>Fm(l=>{i(l,t,s)}),L2=(t,s,i)=>RE((l,m)=>{i(l,t,s)}),MO=(t,s,i,l,m,v)=>{const y=Xl(t),T=Sl(s,[c2("config",t)]);return N2(y,T,s,i,l,m,v)},PO=(t,s,i,l,m,v)=>{const y=t,T=Sl(s,[ld("config",t)]);return N2(y,T,s,i,l,m,v)},LO=(t,s,i)=>rE((m,...v)=>{const y=[m].concat(v);return m.config({name:k(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+i)},T=>{const A=Array.prototype.slice.call(y,1);return s.apply(void 0,[m,T.config,T.state].concat(A))})},i,s),NO=t=>({key:t,value:void 0}),N2=(t,s,i,l,m,v,y)=>{const T=j=>cn(j,i)?j[i]():B.none(),A=Oo(m,(j,Q)=>LO(i,j,Q)),z={...Oo(v,(j,Q)=>aE(j,Q)),...A,revoke:Je(NO,i),config:j=>{const Q=Qc(i+"-config",t,j);return{key:i,value:{config:Q,me:z,configAsRaw:Ka(()=>Qc(i+"-config",t,j)),initialConfig:j,state:y}}},schema:k(s),exhibit:(j,Q)=>ga(T(j),_t(l,"exhibit"),(le,ae)=>ae(Q,le.config,le.state)).getOrThunk(()=>vd({})),name:k(i),handlers:j=>T(j).map(Q=>_t(l,"events").getOr(()=>({}))(Q.config,Q.state)).getOr({})};return z},un=t=>uv(t),ME=Xl([Vt("fields"),Vt("name"),ct("active",{}),ct("apis",{}),ct("state",Jd),ct("extra",{})]),Ta=t=>{const s=Qc("Creating behaviour: "+t.name,ME,t);return MO(s.fields,s.name,s.active,s.apis,s.extra,s.state)},PE=Xl([Vt("branchKey"),Vt("branches"),Vt("name"),ct("active",{}),ct("apis",{}),ct("state",Jd),ct("extra",{})]),LE=t=>{const s=Qc("Creating behaviour: "+t.name,PE,t);return PO($c(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},NE=k(void 0),IO=(t,s)=>{const i=Rr(s);return Ta({fields:[Vt("enabled")],name:t,active:{events:k(i)}})},Ao=(t,s)=>{const i=IO(t,s);return{key:t,value:{config:{},me:i,configAsRaw:k({}),initialConfig:{},state:Jd}}},I2=t=>({init:()=>{const i=Qt(t);return{get:()=>i.get(),set:T=>i.set(T),clear:()=>i.set(t),readState:()=>i.get()}}}),IE=(t,s)=>{s.ignore||(Wi(t.element),s.onFocus(t))};var BE=Object.freeze({__proto__:null,focus:IE,blur:(t,s)=>{s.ignore||Hr(t.element)},isFocused:t=>jl(t.element)}),$E=Object.freeze({__proto__:null,exhibit:(t,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return vd(i)},events:t=>Rr([At(Bf(),(s,i)=>{IE(s,t),i.stop()})].concat(t.stopMousedown?[At(Hc(),(s,i)=>{i.event.prevent()})]:[]))}),B2=[gs("onFocus"),ct("stopMousedown",!1),ct("ignore",!1)];const Ro=Ta({fields:B2,name:"focusing",active:$E,apis:BE}),$2=[8],Hm=[9],nu=[13],Ln=[27],hc=[32],Ov=[37],Dv=[38],Yb=[39],Jp=[40],Rv=k("tooltipping.close.all"),zm=k("dismiss.popups"),Qa=k("reposition.popups"),jf=k("mouse.released"),FO=(t,s,i)=>{const l=St(t.slice(0,s)),m=St(t.slice(s+1));return ut(l.concat(m),i)},Ua=(t,s,i)=>{const l=St(t.slice(0,s));return ut(l,i)},Qp=(t,s,i)=>{const l=t.slice(0,s),m=t.slice(s+1);return ut(m.concat(l),i)},HO=(t,s,i)=>{const l=t.slice(s+1);return ut(l,i)},hs=t=>s=>{const i=s.raw;return Pn(t,i.which)},ef=t=>s=>et(t,i=>i(s)),$g=t=>t.raw.shiftKey===!0,rN=t=>t.raw.ctrlKey===!0,Fg=Ie($g),ps=(t,s)=>({matches:t,classification:s}),iN=(t,s)=>ut(t,l=>l.matches(s)).map(l=>l.classification),FE=(t,s,i,l)=>{const m=qi(t.element,"."+s.highlightClass);rn(m,v=>{jo(l,T=>X(T.element,v))||(zr(v,s.highlightClass),t.getSystem().getByDom(v).each(T=>{s.onDehighlight(t,T),ts(T,wb())}))})},aN=(t,s,i)=>FE(t,s,i,[]),cN=(t,s,i,l)=>{Pv(t,s,i,l)&&(zr(l.element,s.highlightClass),s.onDehighlight(t,l),ts(l,wb()))},Mv=(t,s,i,l)=>{FE(t,s,i,[l]),Pv(t,s,i,l)||(Gs(l.element,s.highlightClass),s.onHighlight(t,l),ts(l,Ag()))},zO=(t,s,i)=>{Lv(t,s).each(l=>{Mv(t,s,i,l)})},lN=(t,s,i)=>{H2(t,s).each(l=>{Mv(t,s,i,l)})},Xb=(t,s,i,l)=>{VO(t,s,i,l).fold(m=>{throw m},m=>{Mv(t,s,i,m)})},F2=(t,s,i,l)=>{const m=UE(t,s);ut(m,l).each(y=>{Mv(t,s,i,y)})},Pv=(t,s,i,l)=>ui(l.element,s.highlightClass),HE=(t,s,i)=>Fs(t.element,"."+s.highlightClass).bind(l=>t.getSystem().getByDom(l).toOptional()),VO=(t,s,i,l)=>{const m=qi(t.element,"."+s.itemClass);return B.from(m[l]).fold(()=>Un.error(new Error("No element found with index "+l)),t.getSystem().getByDom)},Lv=(t,s,i)=>Fs(t.element,"."+s.itemClass).bind(l=>t.getSystem().getByDom(l).toOptional()),H2=(t,s,i)=>{const l=qi(t.element,"."+s.itemClass);return(l.length>0?B.some(l[l.length-1]):B.none()).bind(v=>t.getSystem().getByDom(v).toOptional())},z2=(t,s,i,l)=>{const m=qi(t.element,"."+s.itemClass);return Xt(m,y=>ui(y,s.highlightClass)).bind(y=>{const T=qa(y,l,0,m.length-1);return t.getSystem().getByDom(m[T]).toOptional()})},zE=(t,s,i)=>z2(t,s,i,-1),VE=(t,s,i)=>z2(t,s,i,1),UE=(t,s,i)=>{const l=qi(t.element,"."+s.itemClass);return Oc(Tt(l,m=>t.getSystem().getByDom(m).toOptional()))};var V2=Object.freeze({__proto__:null,dehighlightAll:aN,dehighlight:cN,highlight:Mv,highlightFirst:zO,highlightLast:lN,highlightAt:Xb,highlightBy:F2,isHighlighted:Pv,getHighlighted:HE,getFirst:Lv,getLast:H2,getPrevious:zE,getNext:VE,getCandidates:UE}),U2=[Vt("highlightClass"),Vt("itemClass"),gs("onHighlight"),gs("onDehighlight")];const As=Ta({fields:U2,name:"highlighting",apis:V2}),WE=(t,s,i)=>{s.exists(m=>i.exists(v=>X(v,m)))||so(t,fv(),{prevFocus:s,newFocus:i})},Jb=()=>{const t=i=>ci(i.element);return{get:t,set:(i,l)=>{const m=t(i);i.getSystem().triggerFocus(l,i.element);const v=t(i);WE(i,m,v)}}},W2=()=>{const t=i=>As.getHighlighted(i).map(l=>l.element);return{get:t,set:(i,l)=>{const m=t(i);i.getSystem().getByDom(l).fold(oe,y=>{As.highlight(i,y)});const v=t(i);WE(i,m,v)}}},Su=(t,s,i,l,m)=>{const v=()=>t.concat([ct("focusManager",Jb()),Fc("focusInside","onFocus",vh(L=>Pn(["onFocus","onEnterOrSpace","onApi"],L)?Un.value(L):Un.error("Invalid value for focusInside"))),Or("handler",A),Or("state",s),Or("sendFocusIn",m)]),y=(L,z,j,Q,le)=>{const ae=j(L,z,Q,le);return iN(ae,z.event).bind(_e=>_e(L,z,Q,le))},A={schema:v,processKey:y,toEvents:(L,z)=>{const j=L.focusInside!==gd.OnFocusMode?B.none():m(L).map(ae=>At(Bf(),(_e,Ne)=>{ae(_e,L,z),Ne.stop()})),Q=(ae,_e)=>{const Ne=hs(hc.concat(nu))(_e.event);L.focusInside===gd.OnEnterOrSpaceMode&&Ne&&qw(ae,_e)&&m(L).each(Te=>{Te(ae,L,z),_e.stop()})},le=[At(la(),(ae,_e)=>{y(ae,_e,i,L,z).fold(()=>{Q(ae,_e)},Ne=>{_e.stop()})}),At(Vp(),(ae,_e)=>{y(ae,_e,l,L,z).each(Ne=>{_e.stop()})})];return Rr(j.toArray().concat(le))}};return A},jE=t=>{const s=[Ks("onEscape"),Ks("onEnter"),ct("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ct("firstTabstop",0),ct("useTabstopAt",Nt),Ks("visibilitySelector")].concat([t]),i=(Te,$e)=>{const Ve=Te.visibilitySelector.bind(mt=>Ba($e,mt)).getOr($e);return yi(Ve)>0},l=(Te,$e)=>{const Ve=qi(Te.element,$e.selector),mt=_o(Ve,vt=>i($e,vt));return B.from(mt[$e.firstTabstop])},m=(Te,$e)=>$e.focusManager.get(Te).bind(Ve=>Ba(Ve,$e.selector)),v=(Te,$e)=>i(Te,$e)&&Te.useTabstopAt($e),y=(Te,$e,Ve)=>{l(Te,$e).each(mt=>{$e.focusManager.set(Te,mt)})},T=(Te,$e,Ve,mt,vt)=>vt($e,Ve,kn=>v(mt,kn)).fold(()=>mt.cyclic?B.some(!0):B.none(),kn=>(mt.focusManager.set(Te,kn),B.some(!0))),A=(Te,$e,Ve,mt)=>{const vt=_o(qi(Te.element,Ve.selector),kn=>i(Ve,kn));return m(Te,Ve).bind(kn=>Xt(vt,Je(X,kn)).bind(Jt=>T(Te,vt,Jt,Ve,mt)))},L=(Te,$e,Ve)=>{const mt=Ve.cyclic?FO:Ua;return A(Te,$e,Ve,mt)},z=(Te,$e,Ve)=>{const mt=Ve.cyclic?Qp:HO;return A(Te,$e,Ve,mt)},j=Te=>eo(Te).bind(Nn).exists($e=>X($e,Te)),Q=(Te,$e,Ve)=>m(Te,Ve).filter(mt=>!Ve.useTabstopAt(mt)).bind(mt=>(j(mt)?L:z)(Te,$e,Ve)),le=(Te,$e,Ve)=>Ve.onEnter.bind(mt=>mt(Te,$e)),ae=(Te,$e,Ve)=>(Te.getSystem().broadcastOn([Rv()],{closedTooltip:()=>{$e.stop()}}),$e.isStopped()?B.none():Ve.onEscape.bind(mt=>mt(Te,$e))),_e=k([ps(ef([$g,hs(Hm)]),L),ps(hs(Hm),z),ps(ef([Fg,hs(nu)]),le)]),Ne=k([ps(hs(Ln),ae),ps(hs(Hm),Q)]);return Su(s,Jd.init,_e,Ne,()=>B.some(y))};var j2=jE(Xa("cyclic",Ct)),UO=jE(Xa("cyclic",Nt));const Zf=t=>Vi("input")(t)&&Ni(t,"type")!=="radio"||Vi("textarea")(t),WO=(t,s,i)=>(Zb(t,i,El()),B.some(!0)),Nv=(t,s,i)=>Zf(i)&&hs(hc)(s.event)?B.none():WO(t,s,i),Iv=(t,s)=>B.some(!0),jO=[ct("execute",Nv),ct("useSpace",!1),ct("useEnter",!0),ct("useControlEnter",!1),ct("useDown",!1)],Dh=(t,s,i)=>i.execute(t,s,t.element),Qb=(t,s,i,l)=>{const m=i.useSpace&&!Zf(t.element)?hc:[],v=i.useEnter?nu:[],y=i.useDown?Jp:[],T=m.concat(v).concat(y);return[ps(hs(T),Dh)].concat(i.useControlEnter?[ps(ef([rN,hs(nu)]),Dh)]:[])},ZE=(t,s,i,l)=>i.useSpace&&!Zf(t.element)?[ps(hs(hc),Iv)]:[];var ZO=Su(jO,Jd.init,Qb,ZE,()=>B.none());const qE=()=>{const t=go();return Al({readState:()=>t.get().map(m=>({numRows:String(m.numRows),numColumns:String(m.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(m,v)=>{t.set({numRows:m,numColumns:v})},getNumRows:()=>t.get().map(m=>m.numRows),getNumColumns:()=>t.get().map(m=>m.numColumns)})};var GE=Object.freeze({__proto__:null,flatgrid:qE,init:t=>t.state(t)});const KE=t=>(s,i,l,m)=>{const v=t(s.element);return Hg(v,s,i,l,m)},Bv=(t,s)=>{const i=Q1(t,s);return KE(i)},$v=(t,s)=>{const i=Q1(s,t);return KE(i)},Fv=t=>(s,i,l,m)=>Hg(t,s,i,l,m),Hg=(t,s,i,l,m)=>l.focusManager.get(s).bind(y=>t(s.element,y,l,m)).map(y=>(l.focusManager.set(s,y),!0)),ey=Fv,Hv=Fv,Vm=Fv,zv=(t,s)=>Xt(t,s).map(i=>({index:i,candidates:t})),Z2=(t,s,i)=>{const l=y=>X(y,s),m=qi(t,i),v=_o(m,$d);return zv(v,l)},ty=(t,s)=>Xt(t,i=>X(s,i)),YE=(t,s,i,l)=>{const m=Math.floor(s/i),v=s%i;return l(m,v).bind(y=>{const T=y.row*i+y.column;return T>=0&&T<t.length?B.some(t[T]):B.none()})},XE=(t,s,i,l,m)=>YE(t,s,l,(v,y)=>{const A=v===i-1?t.length-v*l:l,L=qa(y,m,0,A-1);return B.some({row:v,column:L})}),JE=(t,s,i,l,m)=>YE(t,s,l,(v,y)=>{const T=qa(v,m,0,i-1),L=T===i-1?t.length-T*l:l,z=ii(y,0,L-1);return B.some({row:T,column:z})}),qO=(t,s,i,l)=>XE(t,s,i,l,1),ny=(t,s,i,l)=>XE(t,s,i,l,-1),e1=(t,s,i,l)=>JE(t,s,i,l,-1),zg=(t,s,i,l)=>JE(t,s,i,l,1),Vg=[Vt("selector"),ct("execute",Nv),$i("onEscape"),ct("captureTab",!1),xb()],QE=(t,s,i)=>{Fs(t.element,s.selector).each(l=>{s.focusManager.set(t,l)})},e_=(t,s)=>s.focusManager.get(t).bind(i=>Ba(i,s.selector)),t_=(t,s,i,l)=>e_(t,i).bind(m=>i.execute(t,s,m)),oy=t=>(s,i,l,m)=>Z2(s,i,l.selector).bind(v=>t(v.candidates,v.index,m.getNumRows().getOr(l.initSize.numRows),m.getNumColumns().getOr(l.initSize.numColumns))),n_=(t,s,i)=>i.captureTab?B.some(!0):B.none(),GO=(t,s,i)=>i.onEscape(t,s),o_=oy(ny),sy=oy(qO),q2=oy(e1),ry=oy(zg),G2=k([ps(hs(Ov),Bv(o_,sy)),ps(hs(Yb),$v(o_,sy)),ps(hs(Dv),ey(q2)),ps(hs(Jp),Hv(ry)),ps(ef([$g,hs(Hm)]),n_),ps(ef([Fg,hs(Hm)]),n_),ps(hs(hc.concat(nu)),t_)]),KO=k([ps(hs(Ln),GO),ps(hs(hc),Iv)]);var K2=Su(Vg,qE,G2,KO,()=>B.some(QE));const s_=(t,s,i,l,m)=>{const v=T=>Ya(T)==="button"&&Ni(T,"disabled")==="disabled",y=(T,A,L)=>m(T,A,l,0,L.length-1,L[A],z=>v(L[z])?y(T,z,L):B.from(L[z]));return Z2(t,i,s).bind(T=>{const A=T.index,L=T.candidates;return y(A,A,L)})},r_=(t,s,i,l)=>s_(t,s,i,l,(m,v,y,T,A,L,z)=>{const j=ii(v+y,T,A);return j===m?B.from(L):z(j)}),Vv=(t,s,i,l)=>s_(t,s,i,l,(m,v,y,T,A,L,z)=>{const j=qa(v,y,T,A);return j===m?B.none():z(j)}),YO=[Vt("selector"),ct("getInitial",B.none),ct("execute",Nv),$i("onEscape"),ct("executeOnMove",!1),ct("allowVertical",!0),ct("allowHorizontal",!0),ct("cycles",!0)],Y2=(t,s)=>s.focusManager.get(t).bind(i=>Ba(i,s.selector)),X2=(t,s,i)=>Y2(t,i).bind(l=>i.execute(t,s,l)),XO=(t,s,i)=>{s.getInitial(t).orThunk(()=>Fs(t.element,s.selector)).each(l=>{s.focusManager.set(t,l)})},JO=(t,s,i)=>(i.cycles?Vv:r_)(t,i.selector,s,-1),Ug=(t,s,i)=>(i.cycles?Vv:r_)(t,i.selector,s,1),i_=t=>(s,i,l,m)=>t(s,i,l,m).bind(()=>l.executeOnMove?X2(s,i,l):B.some(!0)),a_=(t,s,i)=>i.onEscape(t,s),QO=(t,s,i,l)=>{const m=[...i.allowHorizontal?Ov:[]].concat(i.allowVertical?Dv:[]),v=[...i.allowHorizontal?Yb:[]].concat(i.allowVertical?Jp:[]);return[ps(hs(m),i_(Bv(JO,Ug))),ps(hs(v),i_($v(JO,Ug))),ps(hs(nu),X2),ps(hs(hc),X2)]},e4=k([ps(hs(hc),Iv),ps(hs(Ln),a_)]);var t4=Su(YO,Jd.init,QO,e4,()=>B.some(XO));const iy=(t,s,i)=>B.from(t[s]).bind(l=>B.from(l[i]).map(m=>({rowIndex:s,columnIndex:i,cell:m}))),Uv=(t,s,i,l)=>{const v=t[s].length,y=qa(i,l,0,v-1);return iy(t,s,y)},J2=(t,s,i,l)=>{const m=qa(i,l,0,t.length-1),v=t[m].length,y=ii(s,0,v-1);return iy(t,m,y)},Wv=(t,s,i,l)=>{const v=t[s].length,y=ii(i+l,0,v-1);return iy(t,s,y)},c_=(t,s,i,l)=>{const m=ii(i+l,0,t.length-1),v=t[m].length,y=ii(s,0,v-1);return iy(t,m,y)},jv=(t,s,i)=>Uv(t,s,i,1),n4=(t,s,i)=>Uv(t,s,i,-1),ay=(t,s,i)=>J2(t,i,s,-1),o4=(t,s,i)=>J2(t,i,s,1),l_=(t,s,i)=>Wv(t,s,i,-1),dN=(t,s,i)=>Wv(t,s,i,1),s4=(t,s,i)=>c_(t,i,s,-1),Wg=(t,s,i)=>c_(t,i,s,1),cy=[Om("selectors",[Vt("row"),Vt("cell")]),ct("cycles",!0),ct("previousSelector",B.none),ct("execute",Nv)],ly=(t,s,i)=>{s.previousSelector(t).orThunk(()=>{const m=s.selectors;return Fs(t.element,m.cell)}).each(m=>{s.focusManager.set(t,m)})},u_=(t,s,i)=>ci(t.element).bind(l=>i.execute(t,s,l)),r4=(t,s)=>Tt(t,i=>qi(i,s.selectors.cell)),uy=(t,s)=>(i,l,m)=>{const v=m.cycles?t:s;return Ba(l,m.selectors.row).bind(y=>{const T=qi(y,m.selectors.cell);return ty(T,l).bind(A=>{const L=qi(i,m.selectors.row);return ty(L,y).bind(z=>{const j=r4(L,m);return v(j,z,A).map(Q=>Q.cell)})})})},d_=uy(n4,l_),f_=uy(jv,dN),dy=uy(ay,s4),qf=uy(o4,Wg),m_=k([ps(hs(Ov),Bv(d_,f_)),ps(hs(Yb),$v(d_,f_)),ps(hs(Dv),ey(dy)),ps(hs(Jp),Hv(qf)),ps(hs(hc.concat(nu)),u_)]),i4=k([ps(hs(hc),Iv)]);var a4=Su(cy,Jd.init,m_,i4,()=>B.some(ly));const c4=[Vt("selector"),ct("execute",Nv),ct("moveOnTab",!1)],t1=(t,s,i)=>i.focusManager.get(t).bind(l=>i.execute(t,s,l)),h_=(t,s,i)=>{Fs(t.element,s.selector).each(l=>{s.focusManager.set(t,l)})},Q2=(t,s,i)=>Vv(t,i.selector,s,-1),fy=(t,s,i)=>Vv(t,i.selector,s,1),tf=(t,s,i,l)=>i.moveOnTab?Vm(Q2)(t,s,i,l):B.none(),Zv=(t,s,i,l)=>i.moveOnTab?Vm(fy)(t,s,i,l):B.none(),Gf=k([ps(hs(Dv),Vm(Q2)),ps(hs(Jp),Vm(fy)),ps(ef([$g,hs(Hm)]),tf),ps(ef([Fg,hs(Hm)]),Zv),ps(hs(nu),t1),ps(hs(hc),t1)]),eC=k([ps(hs(hc),Iv)]);var g_=Su(c4,Jd.init,Gf,eC,()=>B.some(h_));const p_=[$i("onSpace"),$i("onEnter"),$i("onShiftEnter"),$i("onLeft"),$i("onRight"),$i("onTab"),$i("onShiftTab"),$i("onUp"),$i("onDown"),$i("onEscape"),ct("stopSpaceKeyup",!1),Ks("focusIn")],l4=(t,s,i)=>[ps(hs(hc),i.onSpace),ps(ef([Fg,hs(nu)]),i.onEnter),ps(ef([$g,hs(nu)]),i.onShiftEnter),ps(ef([$g,hs(Hm)]),i.onShiftTab),ps(ef([Fg,hs(Hm)]),i.onTab),ps(hs(Dv),i.onUp),ps(hs(Jp),i.onDown),ps(hs(Ov),i.onLeft),ps(hs(Yb),i.onRight),ps(hs(hc),i.onSpace)],v_=(t,s,i)=>[...i.stopSpaceKeyup?[ps(hs(hc),Iv)]:[],ps(hs(Ln),i.onEscape)];var u4=Su(p_,Jd.init,l4,v_,t=>t.focusIn);const d4=j2.schema(),f4=UO.schema(),n1=t4.schema(),qv=K2.schema(),b_=a4.schema(),Kf=ZO.schema(),Yf=g_.schema(),tC=u4.schema();var my=Object.freeze({__proto__:null,acyclic:d4,cyclic:f4,flow:n1,flatgrid:qv,matrix:b_,execution:Kf,menu:Yf,special:tC});const y_=t=>cn(t,"setGridSize"),Jn=LE({branchKey:"mode",branches:my,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,i)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},l=>{l(t,s,i)})},setGridSize:(t,s,i,l,m)=>{y_(i)?i.setGridSize(l,m):console.error("Layout does not support setGridSize")}},state:GE}),Rh=Tn("alloy-premade"),o1=t=>(Object.defineProperty(t.element.dom,Rh,{value:t.uid,writable:!0}),Dm(Rh,t)),nC=t=>yn(t.dom,Rh),hy=t=>_t(t,Rh),Um=t=>tN((s,...i)=>t(s.getApis(),s,...i),t),s1=t=>t.getSystem().isConnected(),Gv=t=>{ts(t,Lm());const s=t.components();rn(s,Gv)},Mh=t=>{const s=t.components();rn(s,Mh),ts(t,Zd())},r1=(t,s)=>{t.getSystem().addToWorld(s),xs(t.element)&&Mh(s)},oC=t=>{Gv(t),t.getSystem().removeFromWorld(t)},nf=(t,s)=>{Zi(t.element,s.element)},sC=t=>{rn(t.components(),s=>bl(s.element)),Sp(t.element),t.syncComponents()},gy=(t,s,i)=>{const l=t.components();sC(t);const m=i(s),v=pe(l,m);rn(v,y=>{Gv(y),t.getSystem().removeFromWorld(y)}),rn(m,y=>{s1(y)?nf(t,y):(t.getSystem().addToWorld(y),nf(t,y),xs(t.element)&&Mh(y))}),t.syncComponents()},of=(t,s,i)=>{const l=t.components(),m=Re(s,T=>hy(T).toArray());rn(l,T=>{Pn(m,T)||oC(T)});const v=i(s),y=pe(l,v);rn(y,T=>{s1(T)&&oC(T)}),rn(v,T=>{s1(T)||r1(t,T)}),t.syncComponents()},Xf=(t,s)=>{Ph(t,s,Zi)},Ph=(t,s,i)=>{t.getSystem().addToWorld(s),i(t.element,s.element),xs(t.element)&&Mh(s),t.syncComponents()},jg=t=>{Gv(t),bl(t.element),t.getSystem().removeFromWorld(t)},Jf=t=>{const s=sn(t.element).bind(i=>t.getSystem().getByDom(i).toOptional());jg(t),s.each(i=>{i.syncComponents()})},rC=t=>{const s=t.components();rn(s,jg),Sp(t.element),t.syncComponents()},Kv=(t,s)=>{rf(t,s,Zi)},sf=(t,s)=>{rf(t,s,K0)},rf=(t,s,i)=>{i(t,s.element);const l=Go(s.element);rn(l,m=>{s.getByDom(m).each(Mh)})},w_=t=>{const s=Go(t.element);rn(s,i=>{t.getByDom(i).each(Gv)}),bl(t.element)},iC=(t,s,i)=>bs(t,s).map(m=>{if(i.exists(y=>!X(y,m))){const y=i.map(Ya).getOr("span"),T=pn.fromTag(y);return Tf(m,T),T}else return m}),aC=(t,s,i)=>{i.fold(()=>Zi(t,s),l=>{X(l,s)||(Tf(l,s),bl(l))})},cC=(t,s,i)=>{const l=Tt(s,i),m=Go(t);return rn(m.slice(l.length),bl),l},C_=(t,s,i,l)=>{const m=bs(t,s),v=l(i,m),y=iC(t,s,m);return aC(t,v.element,y),v},fN=(t,s,i)=>cC(t,s,(l,m)=>C_(t,m,l,i)),m4=(t,s)=>cC(t,s,(i,l)=>{const m=bs(t,l);return aC(t,i,m),i}),gc=(t,s)=>{const i=Br(s),l=ji(i).bind(v=>{const y=T=>X(v,T);return y(s)?B.some(s):tv(s,y)}),m=t(s);return l.each(v=>{ji(i).filter(y=>X(y,v)).fold(()=>{Wi(v)},oe)}),m},Zg=(t,s)=>{gc(()=>{gy(t,s,()=>Tt(s,t.getSystem().build))},t.element)},lC=(t,s)=>{gc(()=>{of(t,s,()=>fN(t.element,s,t.getSystem().buildOrPatch))},t.element)},Lh=(t,s,i,l)=>{oC(s);const m=C_(t.element,i,l,t.getSystem().buildOrPatch);r1(t,m),t.syncComponents()},pc=(t,s,i)=>{const l=t.getSystem().build(i);Ph(t,l,s)},Vc=(t,s,i,l)=>{Jf(s),pc(t,(m,v)=>q1(m,v,i),l)},vc=(t,s,i,l)=>(s.reuseDom?lC:Zg)(t,l),bd=(t,s,i,l)=>{pc(t,Zi,l)},Wm=(t,s,i,l)=>{pc(t,xp,l)},sl=(t,s,i,l)=>{const m=Qf(t);ut(m,y=>X(l.element,y.element)).each(Jf)},Qf=(t,s)=>t.components(),x_=(t,s,i,l,m)=>{const v=Qf(t);return B.from(v[l]).map(y=>(m.fold(()=>Jf(y),T=>{(s.reuseDom?Lh:Vc)(t,y,l,T)}),y))};var S_=Object.freeze({__proto__:null,append:bd,prepend:Wm,remove:sl,replaceAt:x_,replaceBy:(t,s,i,l,m)=>{const v=Qf(t);return Xt(v,l).bind(y=>x_(t,s,i,y,m))},set:vc,contents:Qf});const Mo=Ta({fields:[Fa("reuseDom",!0)],name:"replacing",apis:S_}),py=(t,s,i)=>X(s,t.element)&&!X(s,i),Eu=Rr([Av(Bf(),(t,s)=>{const i=s.event,l=i.originator,m=i.target;return py(t,l,m)?(console.warn(Bf()+` did not get interpreted by the desired target. 
Originator: `+Cu(l)+`
Target: `+Cu(m)+`
Check the `+Bf()+" event handlers"),!1):!0})]);var E_=Object.freeze({__proto__:null,events:Eu});const h4=k("alloy-id-"),g4=k("data-alloy-id"),p4=h4(),__=g4(),uC=(t,s)=>{const i=Tn(p4+t);return Yv(s,i),i},Yv=(t,s)=>{Object.defineProperty(t.dom,__,{value:s,writable:!0})},_u=t=>{const s=ya(t)?t.dom[__]:null;return B.from(s)},qg=t=>Tn(t),v4=Ot,vy=t=>{const s=m=>`The component must be in a context to execute: ${m}`+(t?`
`+Cu(t().element)+" is not in context.":""),i=m=>()=>{throw new Error(s(m))},l=m=>()=>{console.warn(s(m))};return{debugInfo:k("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:Ct}},b4=vy(),by=(t,s)=>{const i=Tt(s,m=>Sl(m.name(),[Vt("config"),ct("state",Jd)])),l=Kr("component.behaviours",yo(i),t.behaviours).fold(m=>{throw new Error(bh(m)+`
Complete spec:
`+JSON.stringify(t,null,2))},Ot);return{list:s,data:Oo(l,m=>{const v=m.map(y=>({config:y.config,state:y.state.init(y.config)}));return k(v)})}},ka=t=>t.list,y4=t=>t.data,Ol=(t,s)=>{const i={};return Vo(t,(l,m)=>{Vo(l,(v,y)=>{const T=_t(i,y).getOr([]);i[y]=T.concat([s(m,v)])})}),i},hN=(t,s,i,l)=>{const m={...s};rn(i,z=>{m[z.name()]=z.exhibit(t,l)});const v=Ol(m,(z,j)=>({name:z,modification:j})),y=z=>wt(z,(j,Q)=>({...Q.modification,...j}),{}),T=wt(v.classes,(z,j)=>j.modification.concat(z),[]),A=y(v.attributes),L=y(v.styles);return vd({classes:T,attributes:A,styles:L})},yy=(t,s,i,l)=>{try{const m=Ht(i,(v,y)=>{const T=v[s],A=y[s],L=l.indexOf(T),z=l.indexOf(A);if(L===-1)throw new Error("The ordering for "+t+" does not have an entry for "+T+`.
Order specified: `+JSON.stringify(l,null,2));if(z===-1)throw new Error("The ordering for "+t+" does not have an entry for "+A+`.
Order specified: `+JSON.stringify(l,null,2));return L<z?-1:z<L?1:0});return Un.value(m)}catch(m){return Un.error([m])}},Gg=(t,s)=>({handler:t,purpose:s}),dC=(t,s)=>({cHandler:t,purpose:s}),fC=(t,s)=>dC(Je.apply(void 0,[t.handler].concat(s)),t.purpose),mC=t=>t.cHandler,w4=(t,s)=>({name:t,handler:s}),wy=(t,s)=>{const i={};return rn(t,l=>{i[l.name()]=l.handlers(s)}),i},T_=(t,s,i)=>{const l={...i,...wy(s,t)};return Ol(l,w4)},Cy=(t,s,i,l)=>{const m=T_(t,i,l);return k_(m,s)},Nh=t=>{const s=D2(t);return(i,l,...m)=>{const v=[i,l].concat(m);s.abort.apply(void 0,v)?l.stop():s.can.apply(void 0,v)&&s.run.apply(void 0,v)}},i1=(t,s)=>Un.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Tt(s,i=>i.name),null,2)]),hC=(t,s,i)=>{const l=s[i];return l?yy("Event: "+i,"name",t,l).map(m=>{const v=Tt(m,y=>y.handler);return AE(v)}):i1(i,t)},k_=(t,s)=>{const i=bn(t,(l,m)=>(l.length===1?Un.value(l[0].handler):hC(l,s,m)).map(y=>{const T=Nh(y),A=l.length>1?_o(s[m],L=>jo(l,z=>z.name===L)).join(" > "):l[0].name;return Dm(m,Gg(T,A))}));return Ha(i,{})},jm="alloy.base.behaviour",xy=yo([ca("dom","dom",id(),yo([Vt("tag"),ct("styles",{}),ct("classes",[]),ct("attributes",{}),Ks("value"),Ks("innerHtml")])),Vt("components"),Vt("uid"),ct("events",{}),ct("apis",{}),ca("eventOrder","eventOrder",e2({[El()]:["disabling",jm,"toggling","typeaheadevents"],[Bf()]:[jm,"focusing","keying"],[bb()]:[jm,"disabling","toggling","representing","tooltipping"],[Pm()]:[jm,"representing","streaming","invalidating"],[Lm()]:[jm,"representing","item-events","toolbar-button-events","tooltipping"],[Hc()]:["focusing",jm,"item-type-events"],[Rm()]:["focusing",jm,"item-type-events"],[ud()]:["item-type-events","tooltipping"],[xg()]:["receiving","reflecting","tooltipping"]}),en()),Ks("domModification")]),gC=t=>Kr("custom.definition",xy,t),Sy=t=>({...t.dom,uid:t.uid,domChildren:Tt(t.components,s=>s.element)}),Xv=t=>t.domModification.fold(()=>vd({}),vd),pC=t=>t.events,Jv=(t,s)=>{const i=Rn(t),l=Rn(s),m=pe(l,i),v=gt(t,(y,T)=>!yn(s,T)||y!==s[T]).t;return{toRemove:m,toSet:v}},vC=(t,s)=>{const{class:i,style:l,...m}=kf(s),{toSet:v,toRemove:y}=Jv(t.attributes,m),T=()=>{rn(y,Ve=>hr(s,Ve)),G1(s,v)},A=bi(s),{toSet:L,toRemove:z}=Jv(t.styles,A),j=()=>{rn(z,Ve=>os(s,Ve)),$r(s,L)},Q=rv(s),le=pe(Q,t.classes),ae=pe(t.classes,Q),_e=()=>{rd(s,ae),$a(s,le)},Ne=Ve=>{Zl(s,Ve)},Te=()=>{const Ve=t.domChildren;m4(s,Ve)},$e=()=>{const Ve=s,mt=t.value.getOrUndefined();mt!==Pc(Ve)&&vu(Ve,mt??"")};return T(),_e(),j(),t.innerHtml.fold(Te,Ne),$e(),s},C4=t=>{const s=pn.fromTag(t.tag);G1(s,t.attributes),rd(s,t.classes),$r(s,t.styles),t.innerHtml.each(l=>Zl(s,l));const i=t.domChildren;return Y0(s,i),t.value.each(l=>{vu(s,l)}),s},x4=(t,s)=>{try{const i=vC(t,s);return B.some(i)}catch{return B.none()}},bC=t=>t.innerHtml.isSome()&&t.domChildren.length>0,Qv=(t,s)=>{const i=m=>Ya(m)===t.tag&&!bC(t)&&!nC(m),l=s.filter(i).bind(m=>x4(t,m)).getOrThunk(()=>C4(t));return Yv(l,t.uid),l},yC=t=>{const s=_t(t,"behaviours").getOr({});return Re(Rn(s),i=>{const l=s[i];return ve(l)?[l.me]:[]})},A_=(t,s)=>by(t,s),Ey=t=>{const s=yC(t);return A_(t,s)},S4=(t,s,i)=>{const l=Sy(t),m=Xv(t),v={"alloy.base.modification":m},y=s.length>0?hN(i,v,s,l):m;return DO(l,y)},O_=(t,s,i)=>{const l={"alloy.base.behaviour":pC(t)};return Cy(i,t.eventOrder,s,l).getOrDie()},wC=(t,s)=>{const i=()=>Ve,l=Qt(b4),m=cd(gC(t)),v=Ey(t),y=ka(v),T=y4(v),A=S4(m,y,T),L=Qv(A,s),z=O_(m,y,T),j=Qt(m.components),Q=mt=>{l.set(mt)},le=()=>{l.set(vy(i))},ae=()=>{const mt=Go(L),vt=Re(mt,kn=>l.get().getByDom(kn).fold(()=>[],Dt));j.set(vt)},_e=mt=>{const vt=T;return(ue(vt[mt.name()])?vt[mt.name()]:()=>{throw new Error("Could not find "+mt.name()+" in "+JSON.stringify(t,null,2))})()},Ne=mt=>ue(T[mt.name()]),Te=()=>m.apis,$e=mt=>T[mt]().map(vt=>vt.state.readState()).getOr("not enabled"),Ve={uid:t.uid,getSystem:l.get,config:_e,hasConfigured:Ne,spec:t,readState:$e,getApis:Te,connect:Q,disconnect:le,element:L,syncComponents:ae,components:j.get,events:z};return Ve},a1=(t,s)=>{const i=_t(t,"components").getOr([]);return s.fold(()=>Tt(i,w),l=>Tt(i,(m,v)=>h(m,bs(l,v))))},CC=(t,s)=>{const{events:i,...l}=v4(t),m=a1(l,s),v={...l,events:{...E_,...i},components:m};return Un.value(wC(v,s))},Mr=t=>{const s=pn.fromText(t);return D_({element:s})},D_=t=>{const s=Qc("external.component",Xl([Vt("element"),Ks("uid")]),t),i=Qt(vy()),l=T=>{i.set(T)},m=()=>{i.set(vy(()=>y))},v=s.uid.getOrThunk(()=>qg("external"));Yv(s.element,v);const y={uid:v,getSystem:i.get,config:B.none,hasConfigured:Ct,connect:l,disconnect:m,getApis:()=>({}),element:s.element,spec:t,readState:k("No state"),syncComponents:oe,components:k([]),events:{}};return o1(y)},R_=qg,d=t=>yn(t,"uid"),h=(t,s)=>hy(t).getOrThunk(()=>{const i=d(t)?t:{uid:R_(""),...t};return CC(i,s).getOrDie()}),w=t=>h(t,B.none()),_=o1;var ie=Object.freeze({__proto__:null,block:(t,s,i,l)=>{lo(t.element,"aria-busy",!0);const m=s.getRoot(t).getOr(t),v=un([Jn.config({mode:"special",onTab:()=>B.some(!0),onShiftTab:()=>B.some(!0)}),Ro.config({})]),y=l(m,v),T=m.getSystem().build(y);Mo.append(m,_(T)),T.hasConfigured(Jn)&&s.focus&&Jn.focusIn(T),i.isBlocked()||s.onBlock(t),i.blockWith(()=>Mo.remove(m,T))},unblock:(t,s,i)=>{hr(t.element,"aria-busy"),i.isBlocked()&&s.onUnblock(t),i.clear()},isBlocked:(t,s,i)=>i.isBlocked()}),we=[Zs("getRoot",B.none),Fa("focus",!0),gs("onBlock"),gs("onUnblock")],ot=Object.freeze({__proto__:null,init:()=>{const t=Pd(),s=i=>{t.set({destroy:i})};return Al({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const Gt=Ta({fields:we,name:"blocking",apis:ie,state:ot});var dn=Object.freeze({__proto__:null,getCurrent:(t,s,i)=>s.find(t)});const to=[Vt("find")],Mt=Ta({fields:to,name:"composing",apis:dn});var $o=Object.freeze({__proto__:null,getCoupled:(t,s,i,l)=>i.getOrCreate(t,s,l),getExistingCoupled:(t,s,i,l)=>i.getExisting(t,s,l)}),Bn=[Jl("others",i2(Un.value,en()))],zs=Object.freeze({__proto__:null,init:()=>{const t={},s=(v,y)=>{if(Rn(v.others).length===0)throw new Error("Cannot find any known coupled components");return _t(t,y)},i=(v,y,T)=>s(y,T).getOrThunk(()=>{const L=_t(y.others,T).getOrDie("No information found for coupled component: "+T)(v),z=v.getSystem().build(L);return t[T]=z,z}),l=(v,y,T)=>s(y,T).orThunk(()=>(_t(y.others,T).getOrDie("No information found for coupled component: "+T),B.none())),m=k({});return Al({readState:m,getExisting:l,getOrCreate:i})}});const Wo=Ta({fields:Bn,name:"coupling",apis:$o,state:zs}),ki=["input","button","textarea","select"],ou=(t,s,i)=>{(s.disabled()?wc:Zm)(t,s)},em=(t,s)=>s.useNative===!0&&Pn(ki,Ya(t.element)),Ih=t=>aa(t.element,"disabled"),Kg=t=>{lo(t.element,"disabled","disabled")},Js=t=>{hr(t.element,"disabled")},bc=t=>Ni(t.element,"aria-disabled")==="true",yc=t=>{lo(t.element,"aria-disabled","true")},Tu=t=>{lo(t.element,"aria-disabled","false")},wc=(t,s,i)=>{s.disableClass.each(m=>{Gs(t.element,m)}),(em(t,s)?Kg:yc)(t),s.onDisabled(t)},Zm=(t,s,i)=>{s.disableClass.each(m=>{zr(t.element,m)}),(em(t,s)?Js:Tu)(t),s.onEnabled(t)},zi=(t,s)=>em(t,s)?Ih(t):bc(t);var e0=Object.freeze({__proto__:null,enable:Zm,disable:wc,isDisabled:zi,onLoad:ou,set:(t,s,i,l)=>{(l?wc:Zm)(t,s)}}),E4=Object.freeze({__proto__:null,exhibit:(t,s)=>vd({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Rr([qb(El(),(i,l)=>zi(i,t)),L2(t,s,ou)])}),M_=[Zs("disabled",Ct),ct("useNative",!0),Ks("disableClass"),gs("onDisabled"),gs("onEnabled")];const Kn=Ta({fields:M_,name:"disabling",active:E4,apis:e0}),ku=(t,s,i,l,m)=>{const v=y=>y+"px";return{position:t,left:s.map(v),top:i.map(v),right:l.map(v),bottom:m.map(v)}},_4=t=>({...t,position:B.some(t.position)}),_y=(t,s)=>{xa(t,_4(s))},P_=(t,s)=>{const i=t.element;Gs(i,s.transitionClass),zr(i,s.fadeOutClass),Gs(i,s.fadeInClass),s.onShow(t)},tm=(t,s)=>{const i=t.element;Gs(i,s.transitionClass),zr(i,s.fadeInClass),Gs(i,s.fadeOutClass),s.onHide(t)},gN=(t,s)=>t.y<s.bottom&&t.bottom>s.y,T4=(t,s)=>t.y>=s.y,pN=(t,s)=>t.bottom<=s.bottom,L_=(t,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-t.y}),N_=(t,s,i)=>({location:"bottom",leftX:s,bottomY:t.bottom-i.bounds.bottom}),k4=t=>t.box.x-t.win.x,hV=(t,s,i)=>{const l=s.win,m=s.box,v=k4(s);return wo(t,y=>{switch(y){case"bottom":return pN(m,i.bounds)?B.none():B.some(N_(l,v,i));case"top":return T4(m,i.bounds)?B.none():B.some(L_(l,v,i));default:return B.none()}}).getOr({location:"no-dock"})},gV=(t,s,i)=>et(t,l=>{switch(l){case"bottom":return pN(s,i.bounds);case"top":return T4(s,i.bounds)}}),pV=(t,s)=>{const i=s.optScrollEnv.fold(k(t.bounds.y),l=>l.scrollElmTop+(t.bounds.y-l.currentScrollTop));return $s(t.bounds.x,i)},vV=(t,s)=>{const i=s.optScrollEnv.fold(k(t.y),l=>t.y+l.currentScrollTop-l.scrollElmTop);return $s(t.x,i)},A4=(t,s,i)=>i.getInitialPos().map(l=>{const m=pV(l,s);return{box:Bi(m.left,m.top,Sa(t),yi(t)),location:l.location}}),xC=(t,s,i,l,m)=>{const v=vV(s,i),y=Bi(v.left,v.top,s.width,s.height);l.setInitialPos({style:bi(t),position:gr(t,"position")||"static",bounds:y,location:m.location})},O4=(t,s,i,l,m)=>{l.getInitialPos().fold(()=>xC(t,s,i,l,m),()=>oe)},vN=(t,s,i)=>i.getInitialPos().bind(l=>{var m;switch(i.clearInitialPos(),l.position){case"static":return B.some({morph:"static"});case"absolute":const v=gh(t).getOr(Jc()),y=Ei(v),T=(m=v.dom.scrollTop)!==null&&m!==void 0?m:0;return B.some({morph:"absolute",positionCss:ku("absolute",_t(l.style,"left").map(A=>s.x-y.x),_t(l.style,"top").map(A=>s.y-y.y+T),_t(l.style,"right").map(A=>y.right-s.right),_t(l.style,"bottom").map(A=>y.bottom-s.bottom))});default:return B.none()}}),zte=(t,s,i)=>A4(t,s,i).filter(({box:l})=>gV(i.getModes(),l,s)).bind(({box:l})=>vN(t,l,i)),I_=t=>{switch(t.location){case"top":return B.some({morph:"fixed",positionCss:ku("fixed",B.some(t.leftX),B.some(t.topY),B.none(),B.none())});case"bottom":return B.some({morph:"fixed",positionCss:ku("fixed",B.some(t.leftX),B.none(),B.none(),B.some(t.bottomY))});default:return B.none()}},bV=(t,s,i)=>{const l=Ei(t),m=uc(),v=hV(i.getModes(),{win:m,box:l},s);return v.location==="top"||v.location==="bottom"?(xC(t,l,s,i,v),I_(v)):B.none()},yV=(t,s,i)=>zte(t,s,i).orThunk(()=>s.optScrollEnv.bind(l=>A4(t,s,i)).bind(({box:l,location:m})=>{const v=uc(),y=k4({win:v,box:l}),T=m==="top"?L_(v,y,s):N_(v,y,s);return I_(T)})),af=(t,s,i)=>{const l=t.element;return La(_r(l,"position"),"fixed")?yV(l,s,i):bV(l,s,i)},bN=(t,s,i)=>{const l=t.element;return A4(l,s,i).bind(({box:m})=>vN(l,m,i))},wV=(t,s,i,l)=>{const m=Ei(t),v=uc(),y=k4({win:v,box:m}),T=l(v,y,s);return T.location==="bottom"||T.location==="top"?(O4(t,m,s,i,T),I_(T)):B.none()},CV=(t,s,i)=>{i.setDocked(!1),rn(["left","right","top","bottom","position"],l=>os(t.element,l)),s.onUndocked(t)},yN=(t,s,i,l)=>{const m=l.position==="fixed";i.setDocked(m),_y(t.element,l),(m?s.onDocked:s.onUndocked)(t)},wN=(t,s,i,l,m=!1)=>{s.contextual.each(v=>{v.lazyContext(t).each(y=>{const T=gN(y,l.bounds);T!==i.isVisible()&&(i.setVisible(T),m&&!T?(rd(t.element,[v.fadeOutClass]),v.onHide(t)):(T?P_:tm)(t,v))})})},D4=(t,s,i,l,m)=>{wN(t,s,i,l,!0),yN(t,s,i,m.positionCss)},xV=(t,s,i,l,m)=>{switch(m.morph){case"static":return CV(t,s,i);case"absolute":return yN(t,s,i,m.positionCss);case"fixed":return D4(t,s,i,l,m)}},SV=(t,s,i)=>{const l=s.lazyViewport(t);wN(t,s,i,l),af(t,l,i).each(m=>{xV(t,s,i,l,m)})},EV=(t,s,i)=>{const l=t.element;i.setDocked(!1);const m=s.lazyViewport(t);bN(t,m,i).each(v=>{switch(v.morph){case"static":{CV(t,s,i);break}case"absolute":{yN(t,s,i,v.positionCss);break}}}),i.setVisible(!0),s.contextual.each(v=>{$a(l,[v.fadeInClass,v.fadeOutClass,v.transitionClass]),v.onShow(t)}),B_(t,s,i)},B_=(t,s,i)=>{t.getSystem().isConnected()&&SV(t,s,i)},CN=(t,s,i)=>{i.isDocked()&&EV(t,s,i)},t0=t=>(s,i,l)=>{const m=i.lazyViewport(s);wV(s.element,m,l,t).each(y=>{D4(s,i,l,m,y)})},R4=t0(L_),_V=t0(N_);var TV=Object.freeze({__proto__:null,refresh:B_,reset:CN,isDocked:(t,s,i)=>i.isDocked(),getModes:(t,s,i)=>i.getModes(),setModes:(t,s,i,l)=>i.setModes(l),forceDockToTop:R4,forceDockToBottom:_V}),kV=Object.freeze({__proto__:null,events:(t,s)=>Rr([Bg(eu(),(i,l)=>{t.contextual.each(m=>{ui(i.element,m.transitionClass)&&($a(i.element,[m.transitionClass,m.fadeInClass]),(s.isVisible()?m.onShown:m.onHidden)(i)),l.stop()})}),At(_g(),(i,l)=>{B_(i,t,s)}),At(XS(),(i,l)=>{B_(i,t,s)}),At(Tg(),(i,l)=>{CN(i,t,s)})])}),AV=[Sl("contextual",[Gi("fadeInClass"),Gi("fadeOutClass"),Gi("transitionClass"),wu("lazyContext"),gs("onShow"),gs("onShown"),gs("onHide"),gs("onHidden")]),Zs("lazyViewport",()=>({bounds:uc(),optScrollEnv:B.none()})),yh("modes",["top","bottom"],ei),gs("onDocked"),gs("onUndocked")],OV=Object.freeze({__proto__:null,init:t=>{const s=Qt(!1),i=Qt(!0),l=go(),m=Qt(t.modes),v=()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${m.get().join(",")}`;return Al({isDocked:s.get,setDocked:s.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:i.get,setVisible:i.set,getModes:m.get,setModes:m.set,readState:v})}});const Wr=Ta({fields:AV,name:"docking",active:kV,apis:TV,state:OV}),$_=Do.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),n0=t=>s=>s.translate(-t.left,-t.top),F_=t=>s=>s.translate(t.left,t.top),Yg=t=>(s,i)=>jt(t,(l,m)=>m(l),$s(s,i)),H_=(t,s,i)=>t.fold(Yg([F_(i),n0(s)]),Yg([n0(s)]),Yg([])),Ty=(t,s,i)=>t.fold(Yg([F_(i)]),Yg([]),Yg([F_(s)])),o0=(t,s,i)=>t.fold(Yg([]),Yg([n0(i)]),Yg([F_(s),n0(i)])),P4=(t,s,i,l,m,v)=>{const y=Ty(t,m,v),T=Ty(s,m,v);return Math.abs(y.left-T.left)<=i&&Math.abs(y.top-T.top)<=l},DV=(t,s,i,l,m,v)=>{const y=Ty(t,m,v),T=Ty(s,m,v),A=Math.abs(y.left-T.left),L=Math.abs(y.top-T.top);return $s(A,L)},z_=(t,s,i)=>{const l=t.fold((m,v)=>({position:B.some("absolute"),left:B.some(m+"px"),top:B.some(v+"px")}),(m,v)=>({position:B.some("absolute"),left:B.some(m-i.left+"px"),top:B.some(v-i.top+"px")}),(m,v)=>({position:B.some("fixed"),left:B.some(m+"px"),top:B.some(v+"px")}));return{right:B.none(),bottom:B.none(),...l}},RV=(t,s,i)=>t.fold((l,m)=>Bh(l+s,m+i),(l,m)=>l1(l+s,m+i),(l,m)=>u1(l+s,m+i)),Dn=(t,s,i,l)=>{const m=(v,y)=>(T,A)=>{const L=v(s,i,l);return y(T.getOr(L.left),A.getOr(L.top))};return t.fold(m(o0,Bh),m(Ty,l1),m(H_,u1))},Bh=$_.offset,l1=$_.absolute,u1=$_.fixed,SC=(t,s)=>{const i=Ni(t,s);return ye(i)?NaN:parseInt(i,10)},L4=(t,s)=>{const i=t.element,l=SC(i,s.leftAttr),m=SC(i,s.topAttr);return isNaN(l)||isNaN(m)?B.none():B.some($s(l,m))},MV=(t,s,i)=>{const l=t.element;lo(l,s.leftAttr,i.left+"px"),lo(l,s.topAttr,i.top+"px")},EN=(t,s)=>{const i=t.element;hr(i,s.leftAttr),hr(i,s.topAttr)},_N=(t,s,i,l)=>L4(t,s).fold(()=>i,m=>u1(m.left+l.left,m.top+l.top)),N4=(t,s,i,l,m,v)=>{const y=_N(t,s,i,l),T=s.mustSnap?LV(t,s,y,m,v):NV(t,s,y,m,v),A=H_(y,m,v);return MV(t,s,A),T.fold(()=>({coord:u1(A.left,A.top),extra:B.none()}),L=>({coord:L.output,extra:L.extra}))},PV=(t,s)=>{EN(t,s)},I4=(t,s,i,l)=>wo(t,m=>{const v=m.sensor;return P4(s,v,m.range.left,m.range.top,i,l)?B.some({output:Dn(m.output,s,i,l),extra:m.extra}):B.none()}),LV=(t,s,i,l,m)=>{const v=s.getSnapPoints(t);return I4(v,i,l,m).orThunk(()=>jt(v,(A,L)=>{const z=L.sensor,j=DV(i,z,L.range.left,L.range.top,l,m);return A.deltas.fold(()=>({deltas:B.some(j),snap:B.some(L)}),Q=>{const le=(j.left+j.top)/2,ae=(Q.left+Q.top)/2;return le<=ae?{deltas:B.some(j),snap:B.some(L)}:A})},{deltas:B.none(),snap:B.none()}).snap.map(A=>({output:Dn(A.output,i,l,m),extra:A.extra})))},NV=(t,s,i,l,m)=>{const v=s.getSnapPoints(t);return I4(v,i,l,m)},TN=(t,s,i)=>({coord:Dn(t.output,t.output,s,i),extra:t.extra});var IV=Object.freeze({__proto__:null,snapTo:(t,s,i,l)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const v=Me(t.element),y=Qr(v),T=sb(m),A=TN(l,y,T),L=z_(A.coord,y,T);xa(m,L)}}});const Aa=(t,s)=>l2(t,{},Tt(s,i=>zS(i.name(),"Cannot configure "+i.name()+" for "+t)).concat([Xa("dump",Ot)])),EC=t=>t.dump,Oa=(t,s)=>({...un(s),...t.dump}),Au={field:Aa,augment:Oa,get:EC},V_=(t,s)=>(t.length>0?[Om("parts",t)]:[]).concat([Vt("uid"),ct("dom",{}),ct("components",[]),Up("originalSpec"),ct("debug.sketcher",{})]).concat(s),Gm=(t,s,i,l,m)=>{const v=V_(l,m);return Qc(t+" [SpecSchema]",Xl(v.concat(s)),i)},B4=(t,s,i,l)=>{const m=kN(l),v=Gm(t,s,m,[],[]);return i(v,m)},$4=(t,s,i,l,m)=>{const v=kN(m),y=mE(i),T=Vf(i),A=Gm(t,s,v,y,[T]),L=_h(t,A,i),z=Im(t,A,L.internals());return l(A,z,v,L.externals())},BV=t=>yn(t,"uid"),kN=t=>BV(t)?t:{...t,uid:qg("uid")},AN=t=>t.uid!==void 0,$V=Xl([Vt("name"),Vt("factory"),Vt("configFields"),ct("apis",{}),ct("extraApis",{})]),FV=Xl([Vt("name"),Vt("factory"),Vt("configFields"),Vt("partFields"),ct("apis",{}),ct("extraApis",{})]),Ou=t=>{const s=Qc("Sketcher for "+t.name,$V,t),i=v=>B4(s.name,s.configFields,s.factory,v),l=Oo(s.apis,Um),m=Oo(s.extraApis,(v,y)=>aE(v,y));return{name:s.name,configFields:s.configFields,sketch:i,...l,...m}},rl=t=>{const s=Qc("Sketcher for "+t.name,FV,t),i=y=>$4(s.name,s.configFields,s.partFields,s.factory,y),l=Fi(s.name,s.partFields),m=Oo(s.apis,Um),v=Oo(s.extraApis,(y,T)=>aE(y,T));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:i,parts:l,...m,...v}},nm=Ou({name:"Container",factory:t=>{const{attributes:s,...i}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:t.components,behaviours:EC(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[ct("components",[]),Aa("containerBehaviours",[]),ct("events",{}),ct("domModification",{}),ct("eventOrder",{})]}),F4="data-initial-z-index",H4=t=>{sn(t.element).filter(ya).each(s=>{ia(s,F4).fold(()=>os(s,"z-index"),i=>bo(s,"z-index",i)),hr(s,F4)})},ON=t=>{sn(t.element).filter(ya).each(s=>{_r(s,"z-index").each(i=>{lo(s,F4,i)}),bo(s,"z-index",gr(t.element,"z-index"))})},z4=(t,s)=>{t.getSystem().addToGui(s),ON(s)},DN=t=>{H4(t),t.getSystem().removeFromGui(t)},RN=(t,s,i)=>t.getSystem().build(nm.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var HV=Sl("snaps",[Vt("getSnapPoints"),gs("onSensor"),Vt("leftAttr"),Vt("topAttr"),ct("lazyViewport",uc),ct("mustSnap",!1)]);const V4=[ct("useFixed",Ct),Vt("blockerClass"),ct("getTarget",Ot),ct("onDrag",oe),ct("repositionTarget",!0),ct("onDrop",oe),Zs("getBounds",uc),HV],zV=t=>er(_r(t,"left"),_r(t,"top"),_r(t,"position"),(s,i,l)=>(l==="fixed"?u1:Bh)(parseInt(s,10),parseInt(i,10))).getOrThunk(()=>{const s=Ia(t);return l1(s.left,s.top)}),VV=(t,s,i,l,m)=>{const v=m.bounds,y=Ty(s,i,l),T=ii(y.left,v.x,v.x+v.width-m.width),A=ii(y.top,v.y,v.y+v.height-m.height),L=l1(T,A);return s.fold(()=>{const z=o0(L,i,l);return Bh(z.left,z.top)},k(L),()=>{const z=H_(L,i,l);return u1(z.left,z.top)})},_C=(t,s,i,l,m,v,y)=>{const T=s.fold(()=>{const A=RV(i,v.left,v.top),L=H_(A,l,m);return u1(L.left,L.top)},A=>{const L=N4(t,A,i,v,l,m);return L.extra.each(z=>{A.onSensor(t,z)}),L.coord});return VV(t,T,l,m,y)},MN=(t,s,i,l)=>{const m=s.getTarget(t.element);if(s.repositionTarget){const v=Me(t.element),y=Qr(v),T=sb(m),A=zV(m),L=_C(t,s.snaps,A,y,T,l,i),z=z_(L,y,T);xa(m,z)}s.onDrag(t,m,l)},U4=(t,s)=>({bounds:t.getBounds(),height:wi(s.element),width:Fd(s.element)}),U_=(t,s,i,l,m)=>{const v=i.update(l,m),y=i.getStartData().getOrThunk(()=>U4(s,t));v.each(T=>{MN(t,s,y,T)})},W4=(t,s,i,l)=>{s.each(DN),i.snaps.each(v=>{PV(t,v)});const m=i.getTarget(t.element);l.reset(),i.onDrop(t,m)},W_=t=>(s,i)=>{const l=m=>{i.setStartData(U4(s,m))};return Rr([At(_g(),m=>{i.getStartData().each(()=>l(m))}),...t(s,i,l)])},UV=t=>Rr([At(Hc(),t.forceDrop),At(hb(),t.drop),At(Ch(),(s,i)=>{t.move(i.event)}),At(Ki(),t.delayDrop)]);var j4=Object.freeze({__proto__:null,getData:t=>B.from($s(t.x,t.y)),getDelta:(t,s)=>$s(s.left-t.left,s.top-t.top)});const PN=(t,s,i)=>[At(Hc(),(l,m)=>{if(m.event.raw.button!==0)return;m.stop();const y=()=>W4(l,B.some(L),t,s),T=xO(y,200),A={drop:y,delayDrop:T.schedule,forceDrop:y,move:j=>{T.cancel(),U_(l,t,s,j4,j)}},L=RN(l,t.blockerClass,UV(A));(()=>{i(l),z4(l,L)})()})],j_=[...V4,Or("dragger",{handlers:W_(PN)})],WV=t=>Rr([At(Rm(),t.forceDrop),At(yg(),t.drop),At(zp(),t.drop),At(Mm(),(s,i)=>{t.move(i.event)})]),LN=t=>{const s=t[0];return B.some($s(s.clientX,s.clientY))};var Z4=Object.freeze({__proto__:null,getData:t=>{const i=t.raw.touches;return i.length===1?LN(i):B.none()},getDelta:(t,s)=>$s(s.left-t.left,s.top-t.top)});const q4=(t,s,i)=>{const l=go(),m=v=>{W4(v,l.get(),t,s),l.clear()};return[At(Rm(),(v,y)=>{y.stop();const T=()=>m(v),A={drop:T,delayDrop:oe,forceDrop:T,move:j=>{U_(v,t,s,Z4,j)}},L=RN(v,t.blockerClass,WV(A));l.set(L),(()=>{i(v),z4(v,L)})()}),At(Mm(),(v,y)=>{y.stop(),U_(v,t,s,Z4,y.event)}),At(yg(),(v,y)=>{y.stop(),m(v)}),At(zp(),m)]},jV=[...V4,Or("dragger",{handlers:W_(q4)})],NN=(t,s,i)=>[...PN(t,s,i),...q4(t,s,i)],IN=[...V4,Or("dragger",{handlers:W_(NN)})];var ZV=Object.freeze({__proto__:null,mouse:j_,touch:jV,mouseOrTouch:IN}),GV=Object.freeze({__proto__:null,init:()=>{let t=B.none(),s=B.none();const i=()=>{t=B.none(),s=B.none()},l=(A,L)=>{const z=t.map(j=>A.getDelta(j,L));return t=B.some(L),z},m=(A,L)=>A.getData(L).bind(z=>l(A,z)),v=A=>{s=B.some(A)},y=()=>s,T=k({});return Al({readState:T,reset:i,update:m,getStartData:y,setStartData:v})}});const s0=LE({branchKey:"mode",branches:ZV,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:B.from(t.extra)})},state:GV,apis:IV}),BN=["input","textarea"],G4=t=>{const s=Ya(t);return Pn(BN,s)},K4=(t,s)=>{const i=s.getRoot(t).getOr(t.element);zr(i,s.invalidClass),s.notify.each(l=>{G4(t.element)&&lo(t.element,"aria-invalid",!1),l.getContainer(t).each(m=>{Zl(m,l.validHtml)}),l.onValid(t)})},$N=(t,s,i,l)=>{const m=s.getRoot(t).getOr(t.element);Gs(m,s.invalidClass),s.notify.each(v=>{G4(t.element)&&lo(t.element,"aria-invalid",!0),v.getContainer(t).each(y=>{Zl(y,l)}),v.onInvalid(t,l)})},FN=(t,s,i)=>s.validator.fold(()=>Qo.pure(Un.value(!0)),l=>l.validate(t)),Y4=(t,s,i)=>(s.notify.each(l=>{l.onValidate(t)}),FN(t,s).map(l=>t.getSystem().isConnected()?l.fold(m=>($N(t,s,i,m),Un.error(m)),m=>(K4(t,s),Un.value(m))):Un.error("No longer in system")));var HN=Object.freeze({__proto__:null,markValid:K4,markInvalid:$N,query:FN,run:Y4,isInvalid:(t,s)=>{const i=s.getRoot(t).getOr(t.element);return ui(i,s.invalidClass)}}),d1=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(i=>Rr([At(i.onEvent,l=>{Y4(l,t,s).get(Ot)})].concat(i.validateOnLoad?[pr(l=>{Y4(l,t,s).get(oe)})]:[]))).getOr({})}),zN=[Vt("invalidClass"),ct("getRoot",B.none),Sl("notify",[ct("aria","alert"),ct("getContainer",B.none),ct("validHtml",""),gs("onValid"),gs("onInvalid"),gs("onValidate")]),Sl("validator",[Vt("validate"),ct("onEvent","input"),ct("validateOnLoad",!0)])];const Z_=(t,s,i)=>{s.store.manager.onLoad(t,s,i)},X4=(t,s,i)=>{s.store.manager.onUnload(t,s,i)};var YV=Object.freeze({__proto__:null,onLoad:Z_,onUnload:X4,setValue:(t,s,i,l)=>{s.store.manager.setValue(t,s,i,l)},getValue:(t,s,i)=>s.store.manager.getValue(t,s,i),getState:(t,s,i)=>i}),JV=Object.freeze({__proto__:null,events:(t,s)=>{const i=t.resetOnDom?[pr((l,m)=>{Z_(l,t,s)}),Qd((l,m)=>{X4(l,t,s)})]:[L2(t,s,Z_)];return Rr(i)}});const VN=()=>{const t=Qt(null),s=()=>({mode:"memory",value:t.get()}),i=()=>t.get()===null,l=()=>{t.set(null)};return Al({set:t.set,get:t.get,isNotSet:i,clear:l,readState:s})},QV=()=>Al({readState:oe}),J4=()=>{const t=Qt({}),s=Qt({});return Al({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:y=>_t(t.get(),y).orThunk(()=>_t(s.get(),y)),update:y=>{const T=t.get(),A=s.get(),L={},z={};rn(y,j=>{L[j.value]=j,_t(j,"meta").each(Q=>{_t(Q,"text").each(le=>{z[le]=j})})}),t.set({...T,...L}),s.set({...A,...z})},clear:()=>{t.set({}),s.set({})}})};var Q4=Object.freeze({__proto__:null,memory:VN,dataset:J4,manual:QV,init:t=>t.store.manager.state(t)});const WN=(t,s,i,l)=>{const m=s.store;i.update([l]),m.setValue(t,l),s.onSetValue(t,l)},f1=(t,s,i)=>{const l=s.store,m=l.getDataKey(t);return i.lookup(m).getOrThunk(()=>l.getFallbackEntry(m))},jN=(t,s,i)=>{s.store.initialValue.each(m=>{WN(t,s,i,m)})},ZN=(t,s,i)=>{i.clear()};var e9=[Ks("initialValue"),Vt("getFallbackEntry"),Vt("getDataKey"),Vt("setValue"),Or("manager",{setValue:WN,getValue:f1,onLoad:jN,onUnload:ZN,state:J4})];const t9=(t,s,i)=>s.store.getValue(t),kC=(t,s,i,l)=>{s.store.setValue(t,l),s.onSetValue(t,l)},AC=(t,s,i)=>{s.store.initialValue.each(l=>{s.store.setValue(t,l)})};var qN=[Vt("getValue"),ct("setValue",oe),Ks("initialValue"),Or("manager",{setValue:kC,getValue:t9,onLoad:AC,onUnload:oe,state:Jd.init})];const eD=(t,s,i,l)=>{i.set(l),s.onSetValue(t,l)},m1=(t,s,i)=>i.get(),h1=(t,s,i)=>{s.store.initialValue.each(l=>{i.isNotSet()&&i.set(l)})},n9=(t,s,i)=>{i.clear()};var o9=[Ks("initialValue"),Or("manager",{setValue:eD,getValue:m1,onLoad:h1,onUnload:n9,state:VN})],GN=[Fc("store",{mode:"memory"},$c("mode",{memory:o9,manual:qN,dataset:e9})),gs("onSetValue"),ct("resetOnDom",!1)];const An=Ta({fields:GN,name:"representing",active:JV,apis:YV,extra:{setValueFrom:(t,s)=>{const i=An.getValue(s);An.setValue(t,i)}},state:Q4}),om=Ta({fields:zN,name:"invalidating",active:d1,apis:HN,extra:{validation:t=>s=>{const i=An.getValue(s);return Qo.pure(t(i))}}});var KN=Object.freeze({__proto__:null,exhibit:(t,s)=>vd({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const q_=Do.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),tD=(t,s,i,l,m,v)=>{const y=s.rect,T=y.x-i,A=y.y-l,L=y.width,z=y.height,j=m-(T+L),Q=v-(A+z),le=B.some(T),ae=B.some(A),_e=B.some(j),Ne=B.some(Q),Te=B.none();return Lb(s.direction,()=>ku(t,le,ae,Te,Te),()=>ku(t,Te,ae,_e,Te),()=>ku(t,le,Te,Te,Ne),()=>ku(t,Te,Te,_e,Ne),()=>ku(t,le,ae,Te,Te),()=>ku(t,le,Te,Te,Ne),()=>ku(t,le,ae,Te,Te),()=>ku(t,Te,ae,_e,Te))},G_=(t,s)=>t.fold(()=>{const i=s.rect;return ku("absolute",B.some(i.x),B.some(i.y),B.none(),B.none())},(i,l,m,v)=>tD("absolute",s,i,l,m,v),(i,l,m,v)=>tD("fixed",s,i,l,m,v)),K_=(t,s)=>{const i=Je(Pf,s),l=t.fold(i,i,()=>{const y=Qr();return Pf(s).translate(-y.left,-y.top)}),m=Fd(s),v=wi(s);return Bi(l.left,l.top,m,v)},s9=(t,s)=>s.fold(()=>t.fold(uc,uc,Bi),i=>t.fold(k(i),k(i),()=>{const l=YN(t,i.x,i.y);return Bi(l.left,l.top,i.width,i.height)})),YN=(t,s,i)=>{const l=$s(s,i),m=()=>{const v=Qr();return l.translate(-v.left,-v.top)};return t.fold(k(l),k(l),m)},r9=(t,s,i,l)=>t.fold(s,i,l);q_.none;const Y_=q_.relative,nD=q_.fixed,X_=(t,s)=>({anchorBox:t,origin:s}),XN=(t,s)=>X_(t,s),J_=Do.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),JN=(t,s)=>{const{x:i,y:l,right:m,bottom:v}=s,{x:y,y:T,right:A,bottom:L,width:z,height:j}=t,Q=y>=i&&y<=m,le=T>=l&&T<=v,ae=Q&&le,_e=A<=m&&A>=i,Ne=L<=v&&L>=l,Te=_e&&Ne,$e=Math.min(z,y>=i?m-y:A-i),Ve=Math.min(j,T>=l?v-T:L-l);return{originInBounds:ae,sizeInBounds:Te,visibleW:$e,visibleH:Ve}},QN=(t,s)=>{const{x:i,y:l,right:m,bottom:v}=s,{x:y,y:T,width:A,height:L}=t,z=Math.max(i,m-A),j=Math.max(l,v-L),Q=ii(y,i,z),le=ii(T,l,j),ae=Math.min(Q+A,m)-Q,_e=Math.min(le+L,v)-le;return Bi(Q,le,ae,_e)},eI=(t,s,i)=>{const l=k(s.bottom-i.y),m=k(i.bottom-s.y),v=pE(t,m,m,l),y=k(s.right-i.x),T=k(i.right-s.x);return{maxWidth:b2(t,T,T,y),maxHeight:v}},tI=(t,s,i,l)=>{const m=t.bubble,v=m.offset,y=bE(l,t.restriction,v),T=t.x+v.left,A=t.y+v.top,L=Bi(T,A,s,i),{originInBounds:z,sizeInBounds:j,visibleW:Q,visibleH:le}=JN(L,y),ae=z&&j,_e=ae?L:QN(L,y),Ne=_e.width>0&&_e.height>0,{maxWidth:Te,maxHeight:$e}=eI(t.direction,_e,l),Ve={rect:_e,maxHeight:$e,maxWidth:Te,direction:t.direction,placement:t.placement,classes:{on:m.classesOn,off:m.classesOff},layout:t.label,testY:A};return ae||t.alwaysFit?J_.fit(Ve):J_.nofit(Ve,Q,le,Ne)},i9=(t,s,i,l,m,v)=>{const y=l.width,T=l.height,A=(z,j,Q,le,ae)=>{const _e=z(i,l,m,t,v),Ne=tI(_e,y,T,v);return Ne.fold(k(Ne),(Te,$e,Ve,mt)=>(ae===mt?Ve>le||$e>Q:!ae&&mt)?Ne:J_.nofit(j,Q,le,ae))};return jt(s,(z,j)=>{const Q=Je(A,j);return z.fold(k(z),Q)},J_.nofit({rect:i,maxHeight:l.height,maxWidth:l.width,direction:kh(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1)).fold(Ot,Ot)},Q_=["top","bottom","right","left"],eT="data-alloy-transition-timer",a9=(t,s)=>_p(t,s.classes),c9=(t,s,i)=>i.exists(l=>{const m=t.mode;return m==="all"?!0:l[m]!==s[m]}),l9=(t,s)=>{const i=l=>parseFloat(l).toFixed(3);return _n(s,(l,m)=>{const v=t[m].map(i),y=l.map(i);return!Gr(v,y)}).isSome()},nI=t=>{const s=v=>{const T=gr(t,v).split(/\s*,\s*/);return _o(T,ic)},i=v=>{if($(v)&&/^[\d.]+/.test(v)){const y=parseFloat(v);return rc(v,"ms")?y:y*1e3}else return 0},l=s("transition-delay"),m=s("transition-duration");return jt(m,(v,y,T)=>{const A=i(l[T])+i(y);return Math.max(v,A)},0)},u9=(t,s)=>{const i=xr(),l=xr();let m;const v=L=>{var z;const j=(z=L.raw.pseudoElement)!==null&&z!==void 0?z:"";return X(L.target,t)&&Pi(j)&&Pn(Q_,L.raw.propertyName)},y=L=>{if(be(L)||v(L)){i.clear(),l.clear();const z=L==null?void 0:L.raw.type;(be(z)||z===eu())&&(clearTimeout(m),hr(t,eT),$a(t,s.classes))}},T=Bs(t,Cg(),L=>{v(L)&&(T.unbind(),i.set(Bs(t,eu(),y)),l.set(Bs(t,dv(),y)))}),A=nI(t);window.requestAnimationFrame(()=>{m=setTimeout(y,A+17),lo(t,eT,m)})},d9=(t,s)=>{rd(t,s.classes),ia(t,eT).each(i=>{clearTimeout(parseInt(i,10)),hr(t,eT)}),u9(t,s)},oI=(t,s,i,l,m,v)=>{const y=c9(l,m,v);if(y||a9(t,l)){bo(t,"position",i.position);const T=K_(s,t),A=G_(s,{...m,rect:T}),L=at(Q_,z=>A[z]);l9(i,L)&&(xa(t,L),y&&d9(t,l),ql(t))}else $a(t,l.classes)},OC=t=>({width:Math.ceil(Fd(t)),height:wi(t)}),f9=(t,s,i,l)=>{os(s,"max-height"),os(s,"max-width");const m=OC(s);return i9(s,l.preference,t,m,i,l.bounds)},DC=(t,s)=>{const i=s.classes;$a(t,i.off),rd(t,i.on)},oD=(t,s,i)=>{const l=i.maxHeightFunction;l(t,s.maxHeight)},sI=(t,s,i)=>{const l=i.maxWidthFunction;l(t,s.maxWidth)},rI=(t,s,i)=>{const l=G_(i.origin,s);i.transition.each(m=>{oI(t,i.origin,l,m,s,i.lastPlacement)}),_y(t,l)},m9=(t,s)=>{Hb(t,s.placement)},iI=(t,s,i)=>t[s]===void 0?i:t[s],aI=(t,s,i,l,m,v,y,T)=>{const A=iI(y,"maxHeightFunction",_E()),L=iI(y,"maxWidthFunction",oe),z=t.anchorBox,j=t.origin,Q={bounds:s9(j,v),origin:j,preference:l,maxHeightFunction:A,maxWidthFunction:L,lastPlacement:m,transition:T};return h9(z,s,i,Q)},h9=(t,s,i,l)=>{const m=f9(t,s,i,l);return rI(s,m,l),m9(s,m),DC(s,m),oD(s,m,l),sI(s,m,l),{layout:m.layout,placement:m.placement}},RC=Ot,r0=()=>Sl("layouts",[Vt("onLtr"),Vt("onRtl"),Ks("onBottomLtr"),Ks("onBottomRtl")]),tT=(t,s,i,l,m,v,y)=>{const T=y.map(TE).getOr(!1),A=s.layouts.map(le=>le.onLtr(t)),L=s.layouts.map(le=>le.onRtl(t)),z=T?s.layouts.bind(le=>le.onBottomLtr.map(ae=>ae(t))).or(A).getOr(m):A.getOr(i),j=T?s.layouts.bind(le=>le.onBottomRtl.map(ae=>ae(t))).or(L).getOr(v):L.getOr(l);return Q1(z,j)(t)},cI=(t,s,i)=>{const l=s.hotspot,m=K_(i,l.element),v=tT(t.element,s,Rg(),E2(),Fb(),SE(),B.some(s.hotspot.element));return B.some(RC({anchorBox:m,bubble:s.bubble.getOr(qp()),overrides:s.overrides,layouts:v}))};var nT=[Vt("hotspot"),Ks("bubble"),ct("overrides",{}),r0(),Or("placement",cI)];const sD=(t,s,i)=>{const l=YN(i,s.x,s.y),m=Bi(l.left,l.top,s.width,s.height),v=tT(t.element,s,$b(),xE(),$b(),xE(),B.none());return B.some(RC({anchorBox:m,bubble:s.bubble,overrides:s.overrides,layouts:v}))};var rD=[Vt("x"),Vt("y"),ct("height",0),ct("width",0),ct("bubble",qp()),ct("overrides",{}),r0(),Or("placement",sD)];const lI=Do.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),g9=t=>t.fold(Ot,(s,i,l)=>s.translate(-i,-l)),p9=t=>t.fold(Ot,Ot),uI=t=>jt(t,(s,i)=>s.translate(i.left,i.top),$s(0,0)),dI=t=>{const s=Tt(t,g9);return uI(s)},iD=t=>{const s=Tt(t,p9);return uI(s)},v9=lI.screen,b9=lI.absolute,y9=(t,s,i)=>{const l=Zt(i.root).dom,m=v=>{const y=Me(v),T=Me(t.element);return X(y,T)};return B.from(l.frameElement).map(pn.fromDom).filter(m).map(Ia)},fI=(t,s,i)=>{const l=Me(t.element),m=Qr(l),v=y9(t,s,i).getOr(m);return b9(v,m.left,m.top)},aD=(t,s,i,l)=>{const m=v9($s(t,s));return B.some(Zw(m,i,l))},mI=(t,s,i,l,m)=>t.map(v=>{const y=[s,v.point],T=r9(l,()=>iD(y),()=>iD(y),()=>dI(y)),A=dO(T.left,T.top,v.width,v.height),L=i.showAbove?Fb():Rg(),z=i.showAbove?SE():E2(),j=tT(m,i,L,z,L,z,B.none());return RC({anchorBox:A,bubble:i.bubble.getOr(qp()),overrides:i.overrides,layouts:j})}),hI=(t,s,i)=>{const l=fI(t,i,s);return s.node.filter(xs).bind(m=>{const v=m.dom.getBoundingClientRect(),y=aD(v.left,v.top,v.width,v.height),T=s.node.getOr(t.element);return mI(y,l,s,i,T)})};var w9=[Vt("node"),Vt("root"),Ks("bubble"),r0(),ct("overrides",{}),ct("showAbove",!1),Or("placement",hI)];const oT=(t,s)=>({element:t,offset:s}),C9=(t,s)=>{const i=Go(t);if(i.length===0)return oT(t,s);if(s<i.length)return oT(i[s],0);{const l=i[i.length-1],m=Vl(l)?Ep(l).length:Go(l).length;return oT(l,m)}},gI=(t,s)=>Vl(t)?oT(t,s):C9(t,s),cD=t=>t.foffset!==void 0,Xg=(t,s)=>s.getSelection.getOrThunk(()=>()=>_m(t))().map(l=>{if(cD(l)){const m=gI(l.start,l.soffset),v=gI(l.finish,l.foffset);return Yl.range(m.element,m.offset,v.element,v.offset)}else return l}),x9=(t,s,i)=>{const l=Zt(s.root).dom,m=fI(t,i,s),v=Xg(l,s).bind(A=>{if(cD(A))return Op(l,Yl.exactFromRange(A)).orThunk(()=>{const z=pn.fromText(Zu);Tf(A.start,z);const j=hh(l,Yl.exact(z,0,z,1));return bl(z),j}).bind(z=>aD(z.left,z.top,z.width,z.height));{const L=Oo(A,j=>j.dom.getBoundingClientRect()),z={left:Math.min(L.firstCell.left,L.lastCell.left),right:Math.max(L.firstCell.right,L.lastCell.right),top:Math.min(L.firstCell.top,L.lastCell.top),bottom:Math.max(L.firstCell.bottom,L.lastCell.bottom)};return aD(z.left,z.top,z.right-z.left,z.bottom-z.top)}}),T=Xg(l,s).bind(A=>cD(A)?ya(A.start)?B.some(A.start):co(A.start):B.some(A.firstCell)).getOr(t.element);return mI(v,m,s,i,T)};var S9=[Ks("getSelection"),Vt("root"),Ks("bubble"),r0(),ct("overrides",{}),ct("showAbove",!1),Or("placement",x9)];const $h="link-layout",lD=t=>t.x+t.width,pI=(t,s)=>t.x-s.width,Jg=(t,s)=>t.y-s.height+t.height,vI=t=>t.y,bI=(t,s,i)=>_i(lD(t),vI(t),i.southeast(),kh(),"southeast",za(t,{left:0,top:2}),$h),yd=(t,s,i)=>_i(pI(t,s),vI(t),i.southwest(),Dg(),"southwest",za(t,{right:1,top:2}),$h),uD=(t,s,i)=>_i(lD(t),Jg(t,s),i.northeast(),y2(),"northeast",za(t,{left:0,bottom:3}),$h),dD=(t,s,i)=>_i(pI(t,s),Jg(t,s),i.northwest(),w2(),"northwest",za(t,{right:1,bottom:3}),$h),fD=()=>[bI,yd,uD,dD],yI=()=>[yd,bI,dD,uD],sT=(t,s,i)=>{const l=K_(i,s.item.element),m=tT(t.element,s,fD(),yI(),fD(),yI(),B.none());return B.some(RC({anchorBox:l,bubble:qp(),overrides:s.overrides,layouts:m}))};var wI=[Vt("item"),r0(),ct("overrides",{}),Or("placement",sT)],E9=$c("type",{selection:S9,node:w9,hotspot:nT,submenu:wI,makeshift:rD});const _9=[el("classes",ei),Ql("mode","all",["all","layout","placement"])],rT=[ct("useFixed",Ct),Ks("getBounds")],mD=[Jl("anchor",E9),Sl("transition",_9)],CI=()=>{const t=document.documentElement;return nD(0,0,t.clientWidth,t.clientHeight)},xI=t=>{const s=Ia(t.element),i=t.element.dom.getBoundingClientRect();return Y_(s.left,s.top,i.width,i.height)},SI=(t,s,i,l,m,v)=>{const y=XN(s.anchorBox,t);return aI(y,l.element,s.bubble,s.layouts,m,i,s.overrides,v)},T9=(t,s,i,l,m)=>{const v=B.none();iT(t,s,i,l,m,v)},iT=(t,s,i,l,m,v)=>{const y=Qc("placement.info",yo(mD),m),T=y.anchor,A=l.element,L=i.get(l.uid);gc(()=>{bo(A,"position","fixed");const z=_r(A,"visibility");bo(A,"visibility","hidden");const j=s.useFixed()?CI():xI(t);T.placement(t,T,j).each(Q=>{const le=v.orThunk(()=>s.getBounds.map(qt)),ae=SI(j,Q,le,l,L,y.transition);i.set(l.uid,ae)}),z.fold(()=>{os(A,"visibility")},Q=>{bo(A,"visibility",Q)}),_r(A,"left").isNone()&&_r(A,"top").isNone()&&_r(A,"right").isNone()&&_r(A,"bottom").isNone()&&La(_r(A,"position"),"fixed")&&os(A,"position")},A)};var A9=Object.freeze({__proto__:null,position:T9,positionWithinBounds:iT,getMode:(t,s,i)=>s.useFixed()?"fixed":"absolute",reset:(t,s,i,l)=>{const m=l.element;rn(["position","left","right","top","bottom"],v=>os(m,v)),zb(m),i.clear(l.uid)}}),hD=Object.freeze({__proto__:null,init:()=>{let t={};return Al({readState:()=>t,clear:m=>{ve(m)?delete t[m]:t={}},set:(m,v)=>{t[m]=v},get:m=>_t(t,m)})}});const Uc=Ta({fields:rT,name:"positioning",active:KN,apis:A9,state:hD}),MC=(t,s)=>s.universal?t:_o(t,i=>Pn(s.channels,i));var EI=Object.freeze({__proto__:null,events:t=>Rr([At(xg(),(s,i)=>{const l=t.channels,m=Rn(l),v=i,y=MC(m,v);rn(y,T=>{const A=l[T],L=A.schema,z=Qc("channel["+T+`] data
Receiver: `+Cu(s.element),L,v.data);A.onReceive(s,z)})})])}),_I=[Jl("channels",i2(Un.value,Xl([pv("onReceive"),ct("schema",en())])))];const Du=Ta({fields:_I,name:"receiving",active:EI});var O9=Object.freeze({__proto__:null,events:(t,s)=>{const i=(l,m)=>{t.updateState.each(v=>{const y=v(l,m);s.set(y)}),t.renderComponents.each(v=>{const y=v(m,s.get());(t.reuseDom?lC:Zg)(l,y)})};return Rr([At(xg(),(l,m)=>{const v=m;if(!v.universal){const y=t.channel;Pn(v.channels,y)&&i(l,v.data)}}),pr((l,m)=>{t.initialData.each(v=>{i(l,v)})})])}}),pD=Object.freeze({__proto__:null,getState:(t,s,i)=>i}),TI=[Vt("channel"),Ks("renderComponents"),Ks("updateState"),Ks("initialData"),Fa("reuseDom",!0)],vD=Object.freeze({__proto__:null,init:()=>{const t=Qt(B.none()),s=()=>t.set(B.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const Ru=Ta({fields:TI,name:"reflecting",active:O9,apis:pD,state:vD}),bD=(t,s,i,l)=>{i.get().each(y=>{rC(t)});const m=s.getAttachPoint(t);Xf(m,t);const v=t.getSystem().build(l);return Xf(t,v),i.set(v),v},kI=(t,s,i,l)=>{const m=bD(t,s,i,l);return s.onOpen(t,m),m},R9=(t,s,i,l)=>i.get().map(()=>bD(t,s,i,l)),M9=(t,s,i,l,m)=>{RI(t,s),kI(t,s,i,l),m(),MI(t,s)},yD=(t,s,i)=>{i.get().each(l=>{rC(t),Jf(t),s.onClose(t,l),i.clear()})},AI=(t,s,i)=>i.isOpen(),P9=(t,s,i,l)=>AI(t,s,i)&&i.get().exists(m=>s.isPartOf(t,m,l)),wD=(t,s,i)=>i.get(),OI=(t,s,i,l)=>{_r(t.element,s).fold(()=>{hr(t.element,i)},m=>{lo(t.element,i,m)}),bo(t.element,s,l)},DI=(t,s,i)=>{ia(t.element,i).fold(()=>os(t.element,s),l=>bo(t.element,s,l))},RI=(t,s,i)=>{const l=s.getAttachPoint(t);bo(t.element,"position",Uc.getMode(l)),OI(t,"visibility",s.cloakVisibilityAttr,"hidden")},CD=t=>jo(["top","left","right","bottom"],s=>_r(t,s).isSome()),MI=(t,s,i)=>{CD(t.element)||os(t.element,"position"),DI(t,"visibility",s.cloakVisibilityAttr)};var L9=Object.freeze({__proto__:null,cloak:RI,decloak:MI,open:kI,openWhileCloaked:M9,close:yD,isOpen:AI,isPartOf:P9,getState:wD,setContent:R9}),N9=Object.freeze({__proto__:null,events:(t,s)=>Rr([At(pb(),(i,l)=>{yD(i,t,s)})])}),I9=[gs("onOpen"),gs("onClose"),Vt("isPartOf"),Vt("getAttachPoint"),ct("cloakVisibilityAttr","data-precloak-visibility")],xD=Object.freeze({__proto__:null,init:()=>{const t=go(),s=k("not-implemented");return Al({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Ss=Ta({fields:I9,name:"sandboxing",active:N9,apis:L9,state:xD}),g1=(t,s)=>s.getAnimationRoot.fold(()=>t.element,i=>i(t)),Qg=t=>t.dimension.property,i0=(t,s)=>t.dimension.getDimension(s),aT=(t,s)=>{const i=g1(t,s);$a(i,[s.shrinkingClass,s.growingClass])},SD=(t,s)=>{zr(t.element,s.openClass),Gs(t.element,s.closedClass),bo(t.element,Qg(s),"0px"),ql(t.element)},ED=(t,s)=>{zr(t.element,s.closedClass),Gs(t.element,s.openClass),os(t.element,Qg(s))},PI=(t,s,i,l)=>{i.setCollapsed(),bo(t.element,Qg(s),i0(s,t.element)),aT(t,s),SD(t,s),s.onStartShrink(t),s.onShrunk(t)},LI=(t,s,i,l)=>{const m=l.getOrThunk(()=>i0(s,t.element));i.setCollapsed(),bo(t.element,Qg(s),m),ql(t.element);const v=g1(t,s);zr(v,s.growingClass),Gs(v,s.shrinkingClass),SD(t,s),s.onStartShrink(t)},NI=(t,s,i)=>{const l=i0(s,t.element);(l==="0px"?PI:LI)(t,s,i,B.some(l))},II=(t,s,i)=>{const l=g1(t,s),m=ui(l,s.shrinkingClass),v=i0(s,t.element);ED(t,s);const y=i0(s,t.element);(m?()=>{bo(t.element,Qg(s),v),ql(t.element)}:()=>{SD(t,s)})(),zr(l,s.shrinkingClass),Gs(l,s.growingClass),ED(t,s),bo(t.element,Qg(s),y),i.setExpanded(),s.onStartGrow(t)},_D=(t,s,i)=>{if(i.isExpanded()){os(t.element,Qg(s));const l=i0(s,t.element);bo(t.element,Qg(s),l)}},a0=(t,s,i)=>{i.isExpanded()||II(t,s,i)},$9=(t,s,i)=>{i.isExpanded()&&NI(t,s,i)},F9=(t,s,i)=>{i.isExpanded()&&PI(t,s,i)},TD=(t,s,i)=>i.isExpanded(),BI=(t,s,i)=>i.isCollapsed(),$I=(t,s,i)=>{const l=g1(t,s);return ui(l,s.growingClass)===!0},ky=(t,s,i)=>{const l=g1(t,s);return ui(l,s.shrinkingClass)===!0};var FI=Object.freeze({__proto__:null,refresh:_D,grow:a0,shrink:$9,immediateShrink:F9,hasGrown:TD,hasShrunk:BI,isGrowing:$I,isShrinking:ky,isTransitioning:(t,s,i)=>$I(t,s)||ky(t,s),toggleGrow:(t,s,i)=>{(i.isExpanded()?NI:II)(t,s,i)},disableTransitions:aT,immediateGrow:(t,s,i)=>{i.isExpanded()||(ED(t,s),bo(t.element,Qg(s),i0(s,t.element)),aT(t,s),i.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),HI=Object.freeze({__proto__:null,exhibit:(t,s,i)=>{const l=s.expanded;return vd(l?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:Dm(s.dimension.property,"0px")})},events:(t,s)=>Rr([Bg(eu(),(i,l)=>{l.event.raw.propertyName===t.dimension.property&&(aT(i,t),s.isExpanded()&&os(i.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(i))})])}),Ay=[Vt("closedClass"),Vt("openClass"),Vt("shrinkingClass"),Vt("growingClass"),Ks("getAnimationRoot"),gs("onShrunk"),gs("onStartShrink"),gs("onGrown"),gs("onStartGrow"),ct("expanded",!1),Jl("dimension",$c("property",{width:[Or("property","width"),Or("getDimension",t=>Sa(t)+"px")],height:[Or("property","height"),Or("getDimension",t=>yi(t)+"px")]}))],kD=Object.freeze({__proto__:null,init:t=>{const s=Qt(t.expanded),i=()=>"expanded: "+s.get();return Al({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:Je(s.set,!1),setExpanded:Je(s.set,!0),readState:i})}});const Dl=Ta({fields:Ay,name:"sliding",active:HI,apis:FI,state:kD});var cT=Object.freeze({__proto__:null,events:(t,s)=>{const l=t.stream.streams.setup(t,s);return Rr([At(t.event,l),Qd(()=>s.cancel())].concat(t.cancelEvent.map(m=>[At(m,()=>s.cancel())]).getOr([])))}});const AD=t=>{const s=Qt(null);return Al({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:v=>{s.set(v)},cancel:()=>{const v=s.get();v!==null&&v.cancel()}})};var OD=Object.freeze({__proto__:null,throttle:AD,init:t=>t.stream.streams.state(t)});const V9=(t,s)=>{const i=t.stream,l=ba(t.onStream,i.delay);return s.setTimer(l),(m,v)=>{l.throttle(m,v),i.stopEvent&&v.stop()}};var U9=[Jl("stream",$c("mode",{throttle:[Vt("delay"),ct("stopEvent",!0),Or("streams",{setup:V9,state:AD})]})),ct("event","input"),Ks("cancelEvent"),pv("onStream")];const DD=Ta({fields:U9,name:"streaming",active:cT,state:OD});var PC=Object.freeze({__proto__:null,exhibit:(t,s)=>vd({attributes:uv([{key:s.tabAttr,value:"true"}])})}),W9=[ct("tabAttr","data-alloy-tabstop")];const ur=Ta({fields:W9,name:"tabstopping",active:PC}),RD=(t,s,i)=>{const l=s.aria;l.update(t,l,i.get())},j9=(t,s,i)=>{s.toggleClass.each(l=>{i.get()?Gs(t.element,l):zr(t.element,l)})},c0=(t,s,i,l)=>{const m=i.get();i.set(l),j9(t,s,i),RD(t,s,i),m!==l&&s.onToggled(t,l)},lT=(t,s,i)=>{c0(t,s,i,!i.get())},Z9=(t,s,i)=>{c0(t,s,i,!0)},VI=(t,s,i)=>{c0(t,s,i,!1)},UI=(t,s,i)=>i.get(),WI=(t,s,i)=>{c0(t,s,i,s.selected)};var jI=Object.freeze({__proto__:null,onLoad:WI,toggle:lT,isOn:UI,on:Z9,off:VI,set:c0}),G9=Object.freeze({__proto__:null,exhibit:()=>vd({}),events:(t,s)=>{const i=RO(t,s,lT),l=L2(t,s,WI);return Rr(Lt([t.toggleOnExecute?[i]:[],[l]]))}});const K9=(t,s,i)=>{lo(t.element,"aria-pressed",i),s.syncWithExpanded&&MD(t,s,i)},Y9=(t,s,i)=>{lo(t.element,"aria-selected",i)},X9=(t,s,i)=>{lo(t.element,"aria-checked",i)},MD=(t,s,i)=>{lo(t.element,"aria-expanded",i)};var ZI=[ct("selected",!1),Ks("toggleClass"),ct("toggleOnExecute",!0),gs("onToggled"),Fc("aria",{mode:"none"},$c("mode",{pressed:[ct("syncWithExpanded",!1),Or("update",K9)],checked:[Or("update",X9)],expanded:[Or("update",MD)],selected:[Or("update",Y9)],none:[Or("update",oe)]}))];const us=Ta({fields:ZI,name:"toggling",active:G9,apis:jI,state:I2(!1)}),PD=Tn("tooltip.exclusive"),Oy=Tn("tooltip.show"),LC=Tn("tooltip.hide"),NC=Tn("tooltip.immediateHide"),Dy=Tn("tooltip.immediateShow"),LD=(t,s,i)=>{t.getSystem().broadcastOn([PD],{})};var qI=Object.freeze({__proto__:null,hideAllExclusive:LD,immediateOpenClose:(t,s,i,l)=>ts(t,l?Dy:NC),isEnabled:(t,s,i)=>i.isEnabled(),setComponents:(t,s,i,l)=>{i.getTooltip().each(m=>{m.getSystem().isConnected()&&Mo.set(m,l)})},setEnabled:(t,s,i,l)=>i.setEnabled(l)}),ND=Object.freeze({__proto__:null,events:(t,s)=>{const i=y=>{s.getTooltip().each(T=>{T.getSystem().isConnected()&&(Jf(T),t.onHide(y,T),s.clearTooltip())}),s.clearTimer()},l=y=>{if(!s.isShowing()&&s.isEnabled()){LD(y);const T=t.lazySink(y).getOrDie(),A=y.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Rr(t.mode==="normal"?[At(ud(),L=>{ts(y,Oy)}),At(Ki(),L=>{ts(y,LC)})]:[]),behaviours:un([Mo.config({})])});s.setTooltip(A),Xf(T,A),t.onShow(y,A),Uc.position(T,A,{anchor:t.anchor(y)})}},m=y=>{s.getTooltip().each(T=>{const A=t.lazySink(y).getOrDie();Uc.position(A,T,{anchor:t.anchor(y)})})},v=()=>{switch(t.mode){case"normal":return[At(dd(),y=>{ts(y,Dy)}),At(fd(),y=>{ts(y,NC)}),At(ud(),y=>{ts(y,Oy)}),At(Ki(),y=>{ts(y,LC)})];case"follow-highlight":return[At(Ag(),(y,T)=>{ts(y,Oy)}),At(wb(),y=>{ts(y,LC)})];case"children-normal":return[At(dd(),(y,T)=>{ci(y.element).each(A=>{S(T.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{ts(y,Dy)},L=>{s.isShowing()&&(t.onShow(y,L),m(y))})})}),At(fd(),y=>{ci(y.element).fold(()=>{ts(y,NC)},oe)}),At(ud(),y=>{Fs(y.element,"[data-mce-tooltip]:hover").each(T=>{s.getTooltip().fold(()=>{ts(y,Oy)},A=>{s.isShowing()&&(t.onShow(y,A),m(y))})})}),At(Ki(),y=>{Fs(y.element,"[data-mce-tooltip]:hover").fold(()=>{ts(y,LC)},oe)})];default:return[At(dd(),(y,T)=>{ci(y.element).each(A=>{S(T.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{ts(y,Dy)},L=>{s.isShowing()&&(t.onShow(y,L),m(y))})})}),At(fd(),y=>{ci(y.element).fold(()=>{ts(y,NC)},oe)})]}};return Rr(Lt([[RE(y=>{t.onSetup(y)}),At(Oy,y=>{s.resetTimer(()=>{l(y)},t.delayForShow())}),At(LC,y=>{s.resetTimer(()=>{i(y)},t.delayForHide())}),At(Dy,y=>{s.resetTimer(()=>{l(y)},0)}),At(NC,y=>{s.resetTimer(()=>{i(y)},0)}),At(xg(),(y,T)=>{const A=T;A.universal||(Pn(A.channels,PD)||Pn(A.channels,Rv()))&&(A.data.closedTooltip&&s.isShowing()&&A.data.closedTooltip(),i(y))}),Qd(y=>{i(y)})],v()]))}}),KI=[Vt("lazySink"),Vt("tooltipDom"),ct("exclusive",!0),ct("tooltipComponents",[]),Zs("delayForShow",k(300)),Zs("delayForHide",k(100)),Zs("onSetup",oe),Ql("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),ct("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:k([Ti,ua,Hi,Va,Dr,Yi]),onRtl:k([Ti,ua,Hi,Va,Dr,Yi])},bubble:tu(0,-2,{})})),gs("onHide"),gs("onShow")],YI=Object.freeze({__proto__:null,init:()=>{const t=Qt(!0),s=go(),i=go(),l=()=>{s.on(clearTimeout)},m=(y,T)=>{l(),s.set(setTimeout(y,T))},v=k("not-implemented");return Al({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:l,resetTimer:m,readState:v,isEnabled:()=>t.get(),setEnabled:y=>t.set(y)})}});const Pr=Ta({fields:KI,name:"tooltipping",active:ND,state:YI,apis:qI});var JI=Object.freeze({__proto__:null,events:()=>Rr([qb(qS(),Nt)]),exhibit:()=>vd({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const Ry=Ta({fields:[],name:"unselecting",active:JI}),l0=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return jt(s,(i,l)=>l.name==="class"?i:{...i,[l.name]:l.value},{})},tU=t=>Array.prototype.slice.call(t.dom.classList,0),Km=t=>{const s=pn.fromHtml(t),i=Go(s),l=l0(s),m=tU(s),v=i.length===0?{}:{innerHtml:Qu(s)};return{tag:Ya(s),classes:m,attributes:l,...v}},Es=t=>{const s=AN(t)&&cn(t,"uid")?t.uid:qg("memento");return{get:v=>v.getSystem().getByUid(s).getOrDie(),getOpt:v=>v.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}},Da=Th,Ym=Zp,QI=(t,s)=>{const i=Qt(!1),l=Qt(!1);return{stop:()=>{i.set(!0)},cut:()=>{l.set(!0)},isStopped:i.get,isCut:l.get,event:t,setSource:s.set,getSource:s.get}},e5=t=>{const s=Qt(!1);return{stop:()=>{s.set(!0)},cut:oe,isStopped:s.get,isCut:Ct,event:t,setSource:xe("Cannot set source of a broadcasted event"),getSource:xe("Cannot get source of a broadcasted event")}},ID=t=>t.raw.which===$2[0]&&!Pn(["input","textarea"],Ya(t.target))&&!ug(t.target,'[contenteditable="true"]'),t5=(t,s)=>{const i={stopBackspace:!0,...s},l=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],m=Ja(i),v=Tt(l.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),le=>Bs(t,le,ae=>{m.fireIfReady(ae,le).each(Ne=>{Ne&&ae.kill()}),i.triggerEvent(le,ae)&&ae.kill()})),y=go(),T=Bs(t,"paste",le=>{m.fireIfReady(le,"paste").each(_e=>{_e&&le.kill()}),i.triggerEvent("paste",le)&&le.kill(),y.set(setTimeout(()=>{i.triggerEvent(u2(),le)},0))}),A=Bs(t,"keydown",le=>{i.triggerEvent("keydown",le)?le.kill():i.stopBackspace&&ID(le)&&le.prevent()}),L=Bs(t,"focusin",le=>{i.triggerEvent("focusin",le)&&le.kill()}),z=go(),j=Bs(t,"focusout",le=>{i.triggerEvent("focusout",le)&&le.kill(),z.set(setTimeout(()=>{i.triggerEvent(fd(),le)},0))});return{unbind:()=>{rn(v,le=>{le.unbind()}),A.unbind(),L.unbind(),j.unbind(),T.unbind(),y.on(clearTimeout),z.on(clearTimeout)}}},n5=(t,s)=>{const i=_t(t,"target").getOr(s);return Qt(i)},My=Do.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),BD=(t,s,i,l,m,v)=>{const y=t(s,l),T=QI(i,m);return y.fold(()=>(v.logEventNoHandlers(s,l),My.complete()),A=>{const L=A.descHandler;return mC(L)(T),T.isStopped()?(v.logEventStopped(s,A.element,L.purpose),My.stopped()):T.isCut()?(v.logEventCut(s,A.element,L.purpose),My.complete()):sn(A.element).fold(()=>(v.logNoParent(s,A.element,L.purpose),My.complete()),j=>(v.logEventResponse(s,A.element,L.purpose),My.resume(j)))})},$D=(t,s,i,l,m,v)=>BD(t,s,i,l,m,v).fold(Nt,y=>$D(t,s,i,y,m,v),Ct),o5=(t,s,i,l,m)=>{const v=n5(i,l);return BD(t,s,i,l,v,m)},nU=(t,s,i)=>{const l=e5(s);return rn(t,m=>{const v=m.descHandler;mC(v)(l)}),l.isStopped()},FD=(t,s,i,l)=>s5(t,s,i,i.target,l),s5=(t,s,i,l,m)=>{const v=n5(i,l);return $D(t,s,i,l,v,m)},oU=(t,s)=>({element:t,descHandler:s}),sU=(t,s)=>({id:t,descHandler:s}),rU=()=>{const t={},s=(y,T,A)=>{Vo(A,(L,z)=>{const j=t[z]!==void 0?t[z]:{};j[T]=fC(L,y),t[z]=j})},i=(y,T)=>_u(T).bind(A=>_t(y,A)).map(A=>oU(T,A));return{registerId:s,unregisterId:y=>{Vo(t,(T,A)=>{yn(T,y)&&delete T[y]})},filterByType:y=>_t(t,y).map(T=>bn(T,(A,L)=>sU(L,A))).getOr([]),find:(y,T,A)=>_t(t,T).bind(L=>Kl(A,z=>i(L,z),y))}},r5=()=>{const t=rU(),s={},i=L=>{const z=L.element;return _u(z).getOrThunk(()=>uC("uid-",L.element))},l=(L,z)=>{const j=s[z];if(j===L)v(L);else throw new Error('The tagId "'+z+'" is already used by: '+Cu(j.element)+`
Cannot use it for: `+Cu(L.element)+`
The conflicting element is`+(xs(j.element)?" ":" not ")+"already in the DOM")},m=L=>{const z=i(L);cn(s,z)&&l(L,z);const j=[L];t.registerId(j,z,L.events),s[z]=L},v=L=>{_u(L.element).each(z=>{delete s[z],t.unregisterId(z)})};return{find:(L,z,j)=>t.find(L,z,j),filter:L=>t.filterByType(L),register:m,unregister:v,getById:L=>_t(s,L)}},HD=t=>{const s=Te=>sn(t.element).fold(Nt,$e=>X(Te,$e)),i=r5(),l=(Te,$e)=>i.find(s,Te,$e),m=t5(t.element,{triggerEvent:(Te,$e)=>xh(Te,$e.target,Ve=>FD(l,Te,$e,Ve))}),v={debugInfo:k("real"),triggerEvent:(Te,$e,Ve)=>{xh(Te,$e,mt=>s5(l,Te,Ve,$e,mt))},triggerFocus:(Te,$e)=>{_u(Te).fold(()=>{Wi(Te)},Ve=>{xh(Bf(),Te,mt=>(o5(l,Bf(),{originator:$e,kill:oe,prevent:oe,target:Te},Te,mt),!1))})},triggerEscape:(Te,$e)=>{v.triggerEvent("keydown",Te.element,$e.event)},getByUid:Te=>_e(Te),getByDom:Te=>Ne(Te),build:w,buildOrPatch:h,addToGui:Te=>{A(Te)},removeFromGui:Te=>{L(Te)},addToWorld:Te=>{y(Te)},removeFromWorld:Te=>{T(Te)},broadcast:Te=>{Q(Te)},broadcastOn:(Te,$e)=>{le(Te,$e)},broadcastEvent:(Te,$e)=>{ae(Te,$e)},isConnected:Nt},y=Te=>{Te.connect(v),Vl(Te.element)||(i.register(Te),rn(Te.components(),y),v.triggerEvent(bb(),Te.element,{target:Te.element}))},T=Te=>{Vl(Te.element)||(rn(Te.components(),T),i.unregister(Te)),Te.disconnect()},A=Te=>{Xf(t,Te)},L=Te=>{Jf(Te)},z=()=>{m.unbind(),bl(t.element)},j=Te=>{const $e=i.filter(xg());rn($e,Ve=>{const mt=Ve.descHandler;mC(mt)(Te)})},Q=Te=>{j({universal:!0,data:Te})},le=(Te,$e)=>{j({universal:!1,channels:Te,data:$e})},ae=(Te,$e)=>{const Ve=i.filter(Te);return nU(Ve,$e)},_e=Te=>i.getById(Te).fold(()=>Un.error(new Error('Could not find component with uid: "'+Te+'" in system.')),Un.value),Ne=Te=>{const $e=_u(Te).getOr("not found");return _e($e)};return y(t),{root:t,element:t.element,destroy:z,add:A,remove:L,getByUid:_e,getByDom:Ne,addToWorld:y,removeFromWorld:T,broadcast:Q,broadcastOn:le,broadcastEvent:ae}},Py=()=>{const t=(s,i)=>{i.stop(),kv(s)};return[At(If(),t),At(Eg(),t),Ig(Rm()),Ig(Hc())]},uT=t=>{const s=i=>Fm((l,m)=>{i(l),m.stop()});return Rr(Lt([t.map(s).toArray(),Py()]))},xc=Ou({name:"Button",factory:t=>{const s=uT(t.action),i=t.dom.tag,l=v=>_t(t.dom,"attributes").bind(y=>_t(y,v)),m=()=>{if(i==="button"){const v=l("type").getOr("button"),y=l("role").map(T=>({role:T})).getOr({});return{type:v,...y}}else return{role:t.role.getOr(l("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:Au.augment(t.buttonBehaviours,[Ro.config({}),Jn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:m()},eventOrder:t.eventOrder}},configFields:[ct("uid",void 0),Vt("dom"),ct("components",[]),Au.field("buttonBehaviours",[Ro,Jn]),Ks("action"),Ks("role"),ct("eventOrder",{})]}),zD=k([ct("shell",!1),Vt("makeItem"),ct("setupItem",oe),Au.field("listBehaviours",[Mo])]),iU=kl({name:"items",overrides:()=>({behaviours:un([Mo.config({})])})}),aU=k([iU]),cU=k("CustomList"),lU=(t,s,i,l)=>{const m=(T,A)=>{y(T).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},L=>{const z=Mo.contents(L),j=A.length,Q=j-z.length,le=Q>0?ho(Q,()=>t.makeItem()):[],ae=z.slice(j);rn(ae,Ne=>Mo.remove(L,Ne)),rn(le,Ne=>Mo.append(L,Ne));const _e=Mo.contents(L);rn(_e,(Ne,Te)=>{t.setupItem(T,Ne,A[Te],Te)})})},v=t.shell?{behaviours:[Mo.config({})],components:[]}:{behaviours:[],components:s},y=T=>t.shell?B.some(T):Ps(T,t,"items");return{uid:t.uid,dom:t.dom,components:v.components,behaviours:Oa(t.listBehaviours,v.behaviours),apis:{setItems:m}}},VD=rl({name:cU(),configFields:zD(),partFields:aU(),factory:lU,apis:{setItems:(t,s,i)=>{t.setItems(s,i)}}}),IC="aria-controls",uU=t=>dh(t,i=>{if(!ya(i))return!1;const l=Ni(i,"id");return l!==void 0&&l.indexOf(IC)>-1}).bind(i=>{const l=Ni(i,"id"),m=Br(i);return Fs(m,`[${IC}="${l}"]`)}),i5=()=>{const t=Tn(IC);return{id:t,link:l=>{lo(l,IC,t)},unlink:l=>{hr(l,IC)}}},a5=(t,s)=>uU(s).exists(i=>u0(t,i)),u0=(t,s)=>Tp(s,i=>X(i,t.element),Ct)||a5(t,s),c5="alloy.item-hover",UD="alloy.item-focus",l5="alloy.item-toggled",WD=t=>{(ci(t.element).isNone()||Ro.isFocused(t))&&(Ro.isFocused(t)||Ro.focus(t),so(t,c5,{item:t}))},jD=t=>{so(t,UD,{item:t})},ZD=(t,s)=>{so(t,l5,{item:t,state:s})},u5=k(c5),d5=k(UD),dU=k(l5),BC=t=>t.role.fold(()=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ot),fU=(t,s)=>({aria:{mode:s?"selected":"checked"},...bt(t,(i,l)=>l!=="exclusive"),onToggled:(i,l)=>{ue(t.onToggled)&&t.onToggled(i,l),ZD(i,l)}}),mU=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:BC(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Au.augment(t.itemBehaviours,[t.toggling.fold(us.revoke,s=>us.config(fU(s,t.role.exists(i=>i==="option")))),Ro.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{jD(s)}}),Jn.config({mode:"execution"}),An.config({store:{mode:"memory",initialValue:t.data}}),Ao("item-type-events",[...Py(),At(ud(),WD),At(Sg(),Ro.focus)])]),components:t.components,eventOrder:t.eventOrder});var qD=[Vt("data"),Vt("components"),Vt("dom"),ct("hasSubmenu",!1),Ks("toggling"),Ks("role"),Au.field("itemBehaviours",[us,Ro,Jn,An]),ct("ignoreFocus",!1),ct("domModification",{}),Or("builder",mU),ct("eventOrder",{})];const f5=t=>({dom:t.dom,components:t.components,events:Rr([P2(Sg())])});var GD=[Vt("dom"),Vt("components"),Or("builder",f5)];const KD=k("item-widget"),YD=k([zc({name:"widget",overrides:t=>({behaviours:un([An.config({store:{mode:"manual",getValue:s=>t.data,setValue:oe}})])})})]),dT=t=>{const s=_h(KD(),t,YD()),i=Im(KD(),t,s.internals()),l=v=>Ps(v,t,"widget").map(y=>(Jn.focusIn(y),y)),m=(v,y)=>Zf(y.event.target)?B.none():(t.autofocus&&y.setSource(v.element),B.none());return{dom:t.dom,components:i,domModification:t.domModification,events:Rr([Fm((v,y)=>{l(v).each(T=>{y.stop()})}),At(ud(),WD),At(Sg(),(v,y)=>{t.autofocus?l(v):Ro.focus(v)})]),behaviours:Au.augment(t.widgetBehaviours,[An.config({store:{mode:"memory",initialValue:t.data}}),Ro.config({ignore:t.ignoreFocus,onFocus:v=>{jD(v)}}),Jn.config({mode:"special",focusIn:t.autofocus?v=>{l(v)}:NE(),onLeft:m,onRight:m,onEscape:(v,y)=>!Ro.isFocused(v)&&!t.autofocus?(Ro.focus(v),B.some(!0)):(t.autofocus&&y.setSource(v.element),B.none())})])}};var m5=[Vt("uid"),Vt("data"),Vt("components"),Vt("dom"),ct("autofocus",!1),ct("ignoreFocus",!1),Au.field("widgetBehaviours",[An,Ro,Jn]),ct("domModification",{}),Vf(YD()),Or("builder",dT)];const gU=$c("type",{widget:m5,item:qD,separator:GD}),pU=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),vU=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),bU=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),yU=k([Db({factory:{sketch:t=>{const s=Qc("menu.spec item",gU,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>yn(s,"uid")?s:{...s,uid:qg("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),wU=k([ni("role"),Vt("value"),Vt("items"),Vt("dom"),Vt("components"),ct("eventOrder",{}),Aa("menuBehaviours",[As,An,Mt,Jn]),Fc("movement",{mode:"menu",moveOnTab:!0},$c("mode",{grid:[xb(),Or("config",pU)],matrix:[Or("config",vU),Vt("rowSelector"),ct("previousSelector",B.none)],menu:[ct("moveOnTab",!0),Or("config",bU)]})),oE(),ct("fakeFocus",!1),ct("focusManager",Jb()),gs("onHighlight"),gs("onDehighlight"),ct("showMenuRole",!0)]),h5=k("alloy.menu-focus"),CU=(t,s)=>{const i=qi(t.element,'[role="menuitemradio"][aria-checked="true"]');rn(i,l=>{X(l,s.element)||t.getSystem().getByDom(l).each(m=>{us.off(m)})})},xU=(t,s,i,l)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Oa(t.menuBehaviours,[As.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),An.config({store:{mode:"memory",initialValue:t.value}}),Mt.config({find:B.some}),Jn.config(t.movement.config(t,t.movement))]),events:Rr([At(d5(),(m,v)=>{const y=v.event;m.getSystem().getByDom(y.target).each(T=>{As.highlight(m,T),v.stop(),so(m,h5(),{menu:m,item:T})})}),At(u5(),(m,v)=>{const y=v.event.item;As.highlight(m,y)}),At(dU(),(m,v)=>{const{item:y,state:T}=v.event;T&&Ni(y.element,"role")==="menuitemradio"&&CU(m,y)})]),components:s,eventOrder:t.eventOrder,...t.showMenuRole?{domModification:{attributes:{role:t.role.getOr("menu")}}}:{}}),ep=rl({name:"Menu",configFields:wU(),partFields:yU(),factory:xU}),XD=t=>No(t,(s,i)=>({k:s,v:i})),JD=(t,s,i,l)=>_t(i,l).bind(m=>_t(t,m).bind(v=>{const y=JD(t,s,i,v);return B.some([v].concat(y))})).getOr([]),SU=(t,s)=>{const i={};Vo(t,(y,T)=>{rn(y,A=>{i[A]=T})});const l=s,m=XD(s),v=Oo(m,(y,T)=>[T].concat(JD(i,l,m,T)));return Oo(i,y=>_t(v,y).getOr([y]))},EU=()=>{const t=Qt({}),s=Qt({}),i=Qt({}),l=go(),m=Qt({}),v=()=>{t.set({}),s.set({}),i.set({}),l.clear()},y=()=>l.get().isNone(),T=(vt,kn)=>{s.set({...s.get(),[vt]:{type:"prepared",menu:kn}})},A=(vt,kn,Yt,Jt)=>{l.set(vt),t.set(Yt),s.set(kn),m.set(Jt);const Wt=SU(Jt,Yt);i.set(Wt)},L=vt=>_n(t.get(),(kn,Yt)=>kn===vt),z=(vt,kn,Yt)=>_e(vt).bind(Jt=>L(vt).bind(Wt=>kn(Wt).map(oo=>({triggeredMenu:Jt,triggeringItem:oo,triggeringPath:Yt})))),j=(vt,kn)=>{const Yt=_o(Te(vt).toArray(),Jt=>_e(Jt).isSome());return _t(i.get(),vt).bind(Jt=>{const Wt=St(Yt.concat(Jt)),oo=Re(Wt,(Zn,is)=>z(Zn,kn,Wt.slice(0,is+1)).fold(()=>La(l.get(),Zn)?[]:[B.none()],fo=>[B.some(fo)]));return $l(oo)})},Q=vt=>_t(t.get(),vt).map(kn=>{const Yt=_t(i.get(),vt).getOr([]);return[kn].concat(Yt)}),le=vt=>_t(i.get(),vt).bind(kn=>kn.length>1?B.some(kn.slice(1)):B.none()),ae=vt=>_t(i.get(),vt),_e=vt=>Ne(vt).bind(QD),Ne=vt=>_t(s.get(),vt),Te=vt=>_t(t.get(),vt);return{setMenuBuilt:T,setContents:A,expand:Q,refresh:ae,collapse:le,lookupMenu:Ne,lookupItem:Te,otherMenus:vt=>{const kn=m.get();return pe(Rn(kn),vt)},getPrimary:()=>l.get().bind(_e),getMenus:()=>s.get(),clear:v,isClear:y,getTriggeringPath:j}},QD=t=>t.type==="prepared"?B.some(t.menu):B.none(),g5={init:EU,extractPreparedMenu:QD},p5=Tn("tiered-menu-item-highlight"),e3=Tn("tiered-menu-item-dehighlight"),v5=(t,s)=>{const i=go(),l=(zt,wn,po)=>Oo(po,(zo,Yn)=>{const Fo=()=>ep.sketch({...zo,value:Yn,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(Os,_s)=>{so(Os,p5,{menuComp:Os,itemComp:_s})},onDehighlight:(Os,_s)=>{so(Os,e3,{menuComp:Os,itemComp:_s})},focusManager:t.fakeFocus?W2():Jb()});return Yn===wn?{type:"prepared",menu:zt.getSystem().build(Fo())}:{type:"notbuilt",nbMenu:Fo}}),m=g5.init(),v=zt=>{const wn=l(zt,t.data.primary,t.data.menus),po=A();return m.setContents(t.data.primary,wn,t.data.expansions,po),m.getPrimary()},y=zt=>An.getValue(zt).value,T=(zt,wn,po)=>wo(wn,zo=>{if(!zo.getSystem().isConnected())return B.none();const Yn=As.getCandidates(zo);return ut(Yn,Fo=>y(Fo)===po)}),A=zt=>Oo(t.data.menus,(wn,po)=>Re(wn.items,zo=>zo.type==="separator"?[]:[zo.data.value])),L=As.highlight,z=(zt,wn)=>{L(zt,wn),As.getHighlighted(wn).orThunk(()=>As.getFirst(wn)).each(po=>{t.fakeFocus?As.highlight(wn,po):Zb(zt,po.element,Sg())})},j=(zt,wn)=>Oc(Tt(wn,po=>zt.lookupMenu(po).bind(zo=>zo.type==="prepared"?B.some(zo.menu):B.none()))),Q=(zt,wn,po)=>{const zo=j(wn,wn.otherMenus(po));rn(zo,Yn=>{$a(Yn.element,[t.markers.backgroundMenu]),t.stayInDom||Mo.remove(zt,Yn)})},le=zt=>i.get().getOrThunk(()=>{const wn={},po=qi(zt.element,`.${t.markers.item}`),zo=_o(po,Yn=>Ni(Yn,"aria-haspopup")==="true");return rn(zo,Yn=>{zt.getSystem().getByDom(Yn).each(Fo=>{const Os=y(Fo);wn[Os]=Fo})}),i.set(wn),wn}),ae=(zt,wn)=>{const po=le(zt);Vo(po,(zo,Yn)=>{const Fo=Pn(wn,Yn);lo(zo.element,"aria-expanded",Fo)})},_e=(zt,wn,po)=>B.from(po[0]).bind(zo=>wn.lookupMenu(zo).bind(Yn=>{if(Yn.type==="notbuilt")return B.none();{const Fo=Yn.menu,Os=j(wn,po.slice(1));return rn(Os,_s=>{Gs(_s.element,t.markers.backgroundMenu)}),xs(Fo.element)||Mo.append(zt,_(Fo)),$a(Fo.element,[t.markers.backgroundMenu]),z(zt,Fo),Q(zt,wn,po),B.some(Fo)}}));let Ne;(function(zt){zt[zt.HighlightSubmenu=0]="HighlightSubmenu",zt[zt.HighlightParent=1]="HighlightParent"})(Ne||(Ne={}));const Te=(zt,wn,po)=>{if(po.type==="notbuilt"){const zo=zt.getSystem().build(po.nbMenu());return m.setMenuBuilt(wn,zo),zo}else return po.menu},$e=(zt,wn,po=Ne.HighlightSubmenu)=>{if(wn.hasConfigured(Kn)&&Kn.isDisabled(wn))return B.some(wn);{const zo=y(wn);return m.expand(zo).bind(Yn=>(ae(zt,Yn),B.from(Yn[0]).bind(Fo=>m.lookupMenu(Fo).bind(Os=>{const _s=Te(zt,Fo,Os);return xs(_s.element)||Mo.append(zt,_(_s)),t.onOpenSubmenu(zt,wn,_s,St(Yn)),po===Ne.HighlightSubmenu?(As.highlightFirst(_s),_e(zt,m,Yn)):(As.dehighlightAll(_s),B.some(wn))}))))}},Ve=(zt,wn)=>{const po=y(wn);return m.collapse(po).bind(zo=>(ae(zt,zo),_e(zt,m,zo).map(Yn=>(t.onCollapseMenu(zt,wn,Yn),Yn))))},mt=(zt,wn)=>{const po=y(wn);return m.refresh(po).bind(zo=>(ae(zt,zo),_e(zt,m,zo)))},vt=(zt,wn)=>Zf(wn.element)?B.none():$e(zt,wn,Ne.HighlightSubmenu),kn=(zt,wn)=>Zf(wn.element)?B.none():Ve(zt,wn),Yt=(zt,wn)=>Ve(zt,wn).orThunk(()=>t.onEscape(zt,wn).map(()=>zt)),Jt=zt=>(wn,po)=>Ba(po.getSource(),`.${t.markers.item}`).bind(zo=>wn.getSystem().getByDom(zo).toOptional().bind(Yn=>zt(wn,Yn).map(Nt))),Wt=Rr([At(h5(),(zt,wn)=>{const po=wn.event.item;m.lookupItem(y(po)).each(()=>{const zo=wn.event.menu;As.highlight(zt,zo);const Yn=y(wn.event.item);m.refresh(Yn).each(Fo=>Q(zt,m,Fo))})}),Fm((zt,wn)=>{const po=wn.event.target;zt.getSystem().getByDom(po).each(zo=>{y(zo).indexOf("collapse-item")===0&&Ve(zt,zo),$e(zt,zo,Ne.HighlightSubmenu).fold(()=>{t.onExecute(zt,zo)},oe)})}),pr((zt,wn)=>{v(zt).each(po=>{Mo.append(zt,_(po)),t.onOpenMenu(zt,po),t.highlightOnOpen===mc.HighlightMenuAndItem?z(zt,po):t.highlightOnOpen===mc.HighlightJustMenu&&L(zt,po)})}),At(p5,(zt,wn)=>{t.onHighlightItem(zt,wn.event.menuComp,wn.event.itemComp)}),At(e3,(zt,wn)=>{t.onDehighlightItem(zt,wn.event.menuComp,wn.event.itemComp)}),...t.navigateOnHover?[At(u5(),(zt,wn)=>{const po=wn.event.item;mt(zt,po),$e(zt,po,Ne.HighlightParent),t.onHover(zt,po)})]:[]]),oo=zt=>As.getHighlighted(zt).bind(As.getHighlighted),Zn=zt=>{oo(zt).each(wn=>{Ve(zt,wn)})},is=zt=>{m.getPrimary().each(wn=>{z(zt,wn)})},fo=zt=>B.from(zt.components()[0]).filter(wn=>Ni(wn.element,"role")==="menu"),Wn={collapseMenu:Zn,highlightPrimary:is,repositionMenus:zt=>{m.getPrimary().bind(po=>oo(zt).bind(zo=>{const Yn=y(zo),Fo=zn(m.getMenus()),Os=Oc(Tt(Fo,g5.extractPreparedMenu));return m.getTriggeringPath(Yn,_s=>T(zt,Os,_s))}).map(zo=>({primary:po,triggeringPath:zo}))).fold(()=>{fo(zt).each(po=>{t.onRepositionMenu(zt,po,[])})},({primary:po,triggeringPath:zo})=>{t.onRepositionMenu(zt,po,zo)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Oa(t.tmenuBehaviours,[Jn.config({mode:"special",onRight:Jt(vt),onLeft:Jt(kn),onEscape:Jt(Yt),focusIn:(zt,wn)=>{m.getPrimary().each(po=>{Zb(zt,po.element,Sg())})}}),As.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Mt.config({find:zt=>As.getHighlighted(zt)}),Mo.config({})]),eventOrder:t.eventOrder,apis:Wn,events:Wt}},b5=k("collapse-item"),_U=(t,s,i)=>({primary:t,menus:s,expansions:i}),TU=(t,s)=>({primary:t,menus:Dm(t,s),expansions:{}}),kU=t=>({value:Tn(b5()),meta:{text:t}}),b1=Ou({name:"TieredMenu",configFields:[Cb("onExecute"),Cb("onEscape"),pv("onOpenMenu"),pv("onOpenSubmenu"),gs("onRepositionMenu"),gs("onCollapseMenu"),ct("highlightOnOpen",mc.HighlightMenuAndItem),Om("data",[Vt("primary"),Vt("menus"),Vt("expansions")]),ct("fakeFocus",!1),gs("onHighlightItem"),gs("onDehighlightItem"),gs("onHover"),sE(),Vt("dom"),ct("navigateOnHover",!0),ct("stayInDom",!1),Aa("tmenuBehaviours",[Jn,As,Mt,Mo]),ct("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:v5,extraApis:{tieredData:_U,singleData:TU,collapseItem:kU}}),fT=k("sink"),AU=k(kl({name:fT(),overrides:k({dom:{tag:"div"},behaviours:un([Uc.config({useFixed:Nt})]),events:Rr([Ig(la()),Ig(Hc()),Ig(If())])})})),OU=Xl([ct("isExtraPart",Ct),Sl("fireEventInstead",[ct("event",kg())])]),t3=t=>{const s=Qc("Dismissal",OU,t);return{[zm()]:{schema:Xl([Vt("target")]),onReceive:(i,l)=>{Ss.isOpen(i)&&(Ss.isPartOf(i,l.target)||s.isExtraPart(i,l.target)||s.fireEventInstead.fold(()=>Ss.close(i),v=>ts(i,v.event)))}}}},DU=Xl([Sl("fireEventInstead",[ct("event",YS())]),wu("doReposition")]),n3=t=>{const s=Qc("Reposition",DU,t);return{[Qa()]:{onReceive:i=>{Ss.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),l=>ts(i,l.event))}}}},y5=(t,s)=>{const i=t.getHotspot(s).getOr(s),l="hotspot",m=t.getAnchorOverrides();return t.layouts.fold(()=>({type:l,hotspot:i,overrides:m}),v=>({type:l,hotspot:i,overrides:m,layouts:v}))},w5=(t,s,i)=>{const l=t.fetch;return l(i).map(s)},C5=(t,s,i,l,m,v,y)=>{const T=w5(t,s,l),A=cf(l,t);return T.map(L=>L.bind(z=>{const j=z.menus[z.primary];return B.from(j).each(Q=>{t.listRole.each(le=>{Q.role=le})}),B.from(b1.sketch({...v.menu(),uid:qg(""),data:z,highlightOnOpen:y,onOpenMenu:(Q,le)=>{const ae=A().getOrDie();Uc.position(ae,le,{anchor:i}),Ss.decloak(m)},onOpenSubmenu:(Q,le,ae)=>{const _e=A().getOrDie();Uc.position(_e,ae,{anchor:{type:"submenu",item:le}}),Ss.decloak(m)},onRepositionMenu:(Q,le,ae)=>{const _e=A().getOrDie();Uc.position(_e,le,{anchor:i}),rn(ae,Ne=>{Uc.position(_e,Ne.triggeredMenu,{anchor:{type:"submenu",item:Ne.triggeringItem}})})},onEscape:()=>(Ro.focus(l),Ss.close(m),B.some(!0))}))}))},mT=(t,s,i,l,m,v,y)=>{const T=y5(t,i);return C5(t,s,T,i,l,m,y).map(L=>(L.fold(()=>{Ss.isOpen(l)&&Ss.close(l)},z=>{Ss.cloak(l),Ss.open(l,z),v(l)}),l))},RU=(t,s,i,l,m,v,y)=>(Ss.close(l),Qo.pure(l)),x5=(t,s,i,l,m,v)=>{const y=Wo.getCoupled(i,"sandbox");return(Ss.isOpen(y)?RU:mT)(t,s,i,y,l,m,v)},Mu=(t,s,i)=>{const l=Mt.getCurrent(s).getOr(s),m=Sa(t.element);i?bo(l.element,"min-width",m+"px"):Of(l.element,m)},cf=(t,s)=>t.getSystem().getByUid(s.uid+"-"+fT()).map(i=>()=>Un.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>Un.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(t))),o3=t=>{Ss.getState(t).each(s=>{b1.repositionMenus(s)})},hT=(t,s,i)=>{const l=i5(),m=(T,A)=>{const L=y5(t,s);l.link(s.element),t.matchWidth&&Mu(L.hotspot,A,t.useMinWidth),t.onOpen(L,T,A),i!==void 0&&i.onOpen!==void 0&&i.onOpen(T,A)},v=(T,A)=>{l.unlink(s.element),y().getOr(A).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(T,A)},y=cf(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:l.id}},behaviours:Au.augment(t.sandboxBehaviours,[An.config({store:{mode:"memory",initialValue:s}}),Ss.config({onOpen:m,onClose:v,isPartOf:(T,A,L)=>u0(A,L)||u0(s,L),getAttachPoint:()=>y().getOrDie()}),Mt.config({find:T=>Ss.getState(T).bind(A=>Mt.getCurrent(A))}),Du.config({channels:{...t3({isExtraPart:Ct}),...n3({doReposition:o3})}})])}},s3=t=>{const s=Wo.getCoupled(t,"sandbox");o3(s)},$C=()=>[ct("sandboxClasses",[]),Au.field("sandboxBehaviours",[Mt,Du,Ss,An])],MU=k([Vt("dom"),Vt("fetch"),gs("onOpen"),$i("onExecute"),ct("getHotspot",B.some),ct("getAnchorOverrides",k({})),r0(),Aa("dropdownBehaviours",[us,Wo,Jn,Ro]),Vt("toggleClass"),ct("eventOrder",{}),Ks("lazySink"),ct("matchWidth",!1),ct("useMinWidth",!1),Ks("role"),Ks("listRole")].concat($C())),S5=k([Tl({schema:[sE(),ct("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),AU()]),FC=(t,s,i,l)=>{const m=z=>_t(t.dom,"attributes").bind(j=>_t(j,z)),v=z=>{Ss.getState(z).each(j=>{b1.highlightPrimary(j)})},y=(z,j,Q)=>x5(t,Ot,z,l,j,Q),T=z=>{y(z,v,mc.HighlightMenuAndItem).get(oe)},A={expand:z=>{us.isOn(z)||y(z,oe,mc.HighlightNone).get(oe)},open:z=>{us.isOn(z)||y(z,oe,mc.HighlightMenuAndItem).get(oe)},refetch:z=>Wo.getExistingCoupled(z,"sandbox").fold(()=>y(z,oe,mc.HighlightMenuAndItem).map(oe),Q=>mT(t,Ot,z,Q,l,oe,mc.HighlightMenuAndItem).map(oe)),isOpen:us.isOn,close:z=>{us.isOn(z)&&y(z,oe,mc.HighlightMenuAndItem).get(oe)},repositionMenus:z=>{us.isOn(z)&&s3(z)}},L=(z,j)=>(kv(z),B.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:Oa(t.dropdownBehaviours,[us.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Wo.config({others:{sandbox:z=>hT(t,z,{onOpen:()=>us.on(z),onClose:()=>us.off(z)})}}),Jn.config({mode:"special",onSpace:L,onEnter:L,onDown:(z,j)=>{if(Pu.isOpen(z)){const Q=Wo.getCoupled(z,"sandbox");v(Q)}else Pu.open(z);return B.some(!0)},onEscape:(z,j)=>Pu.isOpen(z)?(Pu.close(z),B.some(!0)):B.none()}),Ro.config({})]),events:uT(B.some(T)),eventOrder:{...t.eventOrder,[El()]:["disabling","toggling","alloy.base.behaviour"]},apis:A,domModification:{attributes:{"aria-haspopup":t.listRole.getOr("true"),...t.role.fold(()=>({}),z=>({role:z})),...t.dom.tag==="button"?{type:m("type").getOr("button")}:{}}}}},Pu=rl({name:"Dropdown",configFields:MU(),partFields:S5(),factory:FC,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),HC="form",r3=[Aa("formBehaviours",[An])],i3=t=>"<alloy.field."+t+">",zC=t=>{const s=(()=>{const v=[];return{field:(T,A)=>(v.push(T),tl(HC,i3(T),A)),record:k(v)}})(),i=t(s),l=s.record(),m=Tt(l,v=>zc({name:v,pname:i3(v)}));return $4(HC,r3,m,LU,i)},PU=(t,s)=>t.fold(()=>Un.error(s),Un.value),LU=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Oa(t.formBehaviours,[An.config({store:{mode:"manual",getValue:i=>{const l=Mb(i,t);return Oo(l,(m,v)=>m().bind(y=>{const T=Mt.getCurrent(y);return PU(T,new Error(`Cannot find a current component to extract the value from for form part '${v}': `+Cu(y.element)))}).map(An.getValue))},setValue:(i,l)=>{Vo(l,(m,v)=>{Ps(i,t,v).each(y=>{Mt.getCurrent(y).each(T=>{An.setValue(T,m)})})})}}})]),apis:{getField:(i,l)=>Ps(i,t,l).bind(Mt.getCurrent)}}),su={getField:Um((t,s,i)=>t.getField(s,i)),sketch:zC},Sc=k([Vt("dom"),ct("shell",!0),Aa("toolbarBehaviours",[Mo])]),Lu=k([kl({name:"groups",overrides:()=>({behaviours:un([Mo.config({})])})})]),NU=(t,s,i,l)=>{const m=(T,A)=>{v(T).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},L=>{Mo.set(L,A)})},v=T=>t.shell?B.some(T):Ps(T,t,"groups"),y=t.shell?{behaviours:[Mo.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:y.components,behaviours:Oa(t.toolbarBehaviours,y.behaviours),apis:{setGroups:m,refresh:oe},domModification:{attributes:{role:"group"}}}},Ls=rl({name:"Toolbar",configFields:Sc(),partFields:Lu(),factory:NU,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)}}}),IU=k([xu(["toggledClass"]),Vt("lazySink"),wu("fetch"),jd("getBounds"),Sl("fireDismissalEventInstead",[ct("event",kg())]),r0(),gs("onToggled")]),tp=k([Tl({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:un([us.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),Tl({factory:Ls,schema:Sc(),name:"toolbar",overrides:t=>({toolbarBehaviours:un([Jn.config({mode:"cyclic",onEscape:s=>(Ps(s,t,"button").each(Ro.focus),B.none())})])})})]),y1=go(),E5=(t,s)=>{y1.set(!0),VC(t,s),y1.clear()},VC=(t,s)=>{const i=Wo.getCoupled(t,"toolbarSandbox");Ss.isOpen(i)?Ss.close(i):Ss.open(i,s.toolbar())},UC=(t,s,i,l)=>{const m=i.getBounds.map(y=>y()),v=i.lazySink(t).getOrDie();Uc.positionWithinBounds(v,s,{anchor:{type:"hotspot",hotspot:t,layouts:l,overrides:{maxWidthFunction:A2()}}},m)},_5=(t,s,i,l,m)=>{Ls.setGroups(s,m),UC(t,s,i,l),us.on(t)},a3=(t,s,i)=>{const l=i5(),m=(y,T)=>{const A=y1.get().getOr(!1);i.fetch().get(L=>{_5(t,T,i,s.layouts,L),l.link(t.element),A||Jn.focusIn(T)})},v=()=>{us.off(t),y1.get().getOr(!1)||Ro.focus(t),l.unlink(t.element)};return{dom:{tag:"div",attributes:{id:l.id}},behaviours:un([Jn.config({mode:"special",onEscape:y=>(Ss.close(y),B.some(!0))}),Ss.config({onOpen:m,onClose:v,isPartOf:(y,T,A)=>u0(T,A)||u0(t,A),getAttachPoint:()=>i.lazySink(t).getOrDie()}),Du.config({channels:{...t3({isExtraPart:Ct,...i.fireDismissalEventInstead.map(y=>({fireEventInstead:{event:y.event}})).getOr({})}),...n3({doReposition:()=>{Ss.getState(Wo.getCoupled(t,"toolbarSandbox")).each(y=>{UC(t,y,i,s.layouts)})}})}})])}},np=rl({name:"FloatingToolbarButton",factory:(t,s,i,l)=>({...xc.sketch({...l.button(),action:m=>{VC(m,l)},buttonBehaviours:Au.augment({dump:l.button().buttonBehaviours},[Wo.config({others:{toolbarSandbox:m=>a3(m,i,t)}})])}),apis:{setGroups:(m,v)=>{Ss.getState(Wo.getCoupled(m,"toolbarSandbox")).each(y=>{_5(m,y,t,i.layouts,v)})},reposition:m=>{Ss.getState(Wo.getCoupled(m,"toolbarSandbox")).each(v=>{UC(m,v,t,i.layouts)})},toggle:m=>{VC(m,l)},toggleWithoutFocusing:m=>{E5(m,l)},getToolbar:m=>Ss.getState(Wo.getCoupled(m,"toolbarSandbox")),isOpen:m=>Ss.isOpen(Wo.getCoupled(m,"toolbarSandbox"))}}),configFields:IU(),partFields:tp(),apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),T5=k([ct("prefix","form-field"),Aa("fieldBehaviours",[Mt,An])]),c3=k([kl({schema:[Vt("dom")],name:"label"}),kl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Vt("text")],name:"aria-descriptor"}),zc({factory:{sketch:t=>{const s=ZS(t,["factory"]);return t.factory.sketch(s)}},schema:[Vt("factory")],name:"field"})]),k5=(t,s,i,l)=>{const m=Oa(t.fieldBehaviours,[Mt.config({find:T=>Ps(T,t,"field")}),An.config({store:{mode:"manual",getValue:T=>Mt.getCurrent(T).bind(An.getValue),setValue:(T,A)=>{Mt.getCurrent(T).each(L=>{An.setValue(L,A)})}}})]),v=Rr([pr((T,A)=>{const L=bv(T,t,["label","field","aria-descriptor"]);L.field().each(z=>{const j=Tn(t.prefix);L.label().each(Q=>{lo(Q.element,"for",j),lo(z.element,"id",j)}),L["aria-descriptor"]().each(Q=>{const le=Tn(t.prefix);lo(Q.element,"id",le),lo(z.element,"aria-describedby",le)})})})]),y={getField:T=>Ps(T,t,"field"),getLabel:T=>Ps(T,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:m,events:v,apis:y}},Yo=rl({name:"FormField",configFields:T5(),partFields:c3(),factory:k5,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}}),BU=k([ct("field1Name","field1"),ct("field2Name","field2"),pv("onLockedChange"),xu(["lockClass"]),ct("locked",!1),Au.field("coupledFieldBehaviours",[Mt,An]),Zs("onInput",oe)]),$U=(t,s,i)=>Ps(t,s,i).bind(Mt.getCurrent),A5=(t,s)=>zc({factory:Yo,name:t,overrides:i=>({fieldBehaviours:un([Ao("coupled-input-behaviour",[At(Pm(),l=>{$U(l,i,s).each(m=>{Ps(l,i,"lock").each(v=>{us.isOn(v)&&i.onLockedChange(l,m,v),i.onInput(l)})})})])])})}),FU=k([A5("field1","field2"),A5("field2","field1"),zc({factory:xc,schema:[Vt("dom")],name:"lock",overrides:t=>({buttonBehaviours:un([us.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),HU=(t,s,i,l)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Au.augment(t.coupledFieldBehaviours,[Mt.config({find:B.some}),An.config({store:{mode:"manual",getValue:m=>{const v=yv(m,t,["field1","field2"]);return{[t.field1Name]:An.getValue(v.field1()),[t.field2Name]:An.getValue(v.field2())}},setValue:(m,v)=>{const y=yv(m,t,["field1","field2"]);cn(v,t.field1Name)&&An.setValue(y.field1(),v[t.field1Name]),cn(v,t.field2Name)&&An.setValue(y.field2(),v[t.field2Name])}}})]),apis:{getField1:m=>Ps(m,t,"field1"),getField2:m=>Ps(m,t,"field2"),getLock:m=>Ps(m,t,"lock")}}),mi=rl({name:"FormCoupledInputs",configFields:BU(),partFields:FU(),factory:HU,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),zU=(t,s)=>{const i=Tt(t.options,m=>({dom:{tag:"option",value:m.value,innerHtml:m.text}})),l=t.data.map(m=>Dm("initialValue",m)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:i,behaviours:Oa(t.selectBehaviours,[Ro.config({}),An.config({store:{mode:"manual",getValue:m=>Pc(m.element),setValue:(m,v)=>{const y=rt(t.options);ut(t.options,A=>A.value===v).isSome()?vu(m.element,v):m.element.dom.selectedIndex===-1&&v===""&&y.each(A=>vu(m.element,A.value))},...l}})])}},VU=Ou({name:"HtmlSelect",configFields:[Vt("options"),Aa("selectBehaviours",[Ro,An]),ct("selectClasses",[]),ct("selectAttributes",{}),Ks("data")],factory:zU}),O5=(t,s,i,l,m)=>{const v=()=>t.lazySink(s),y=l.type==="horizontal"?{layouts:{onLtr:()=>Rg(),onRtl:()=>E2()}}:{},T=L=>L.length===2,A=L=>T(L)?y:{};return b1.sketch({dom:{tag:"div"},data:l.data,markers:l.menu.markers,highlightOnOpen:l.menu.highlightOnOpen,fakeFocus:l.menu.fakeFocus,onEscape:()=>(Ss.close(s),t.onEscape.map(L=>L(s)),B.some(!0)),onExecute:()=>B.some(!0),onOpenMenu:(L,z)=>{Uc.positionWithinBounds(v().getOrDie(),z,i,m())},onOpenSubmenu:(L,z,j,Q)=>{const le=v().getOrDie();Uc.position(le,j,{anchor:{type:"submenu",item:z,...A(Q)}})},onRepositionMenu:(L,z,j)=>{const Q=v().getOrDie();Uc.positionWithinBounds(Q,z,i,m()),rn(j,le=>{const ae=A(le.triggeringPath);Uc.position(Q,le.triggeredMenu,{anchor:{type:"submenu",item:le.triggeringItem,...ae}})})}})},UU=(t,s)=>{const i=(Q,le)=>t.getRelated(Q).exists(_e=>u0(_e,le)),l=(Q,le)=>{Ss.setContent(Q,le)},m=(Q,le,ae)=>{const _e=B.none;v(Q,le,ae,_e)},v=(Q,le,ae,_e)=>{const Ne=t.lazySink(Q).getOrDie();Ss.openWhileCloaked(Q,le,()=>Uc.positionWithinBounds(Ne,Q,ae,_e())),An.setValue(Q,B.some({mode:"position",config:ae,getBounds:_e}))},y=(Q,le,ae)=>{T(Q,le,ae,B.none)},T=(Q,le,ae,_e)=>{const Ne=O5(t,Q,le,ae,_e);Ss.open(Q,Ne),An.setValue(Q,B.some({mode:"menu",menu:Ne}))},A=Q=>{Ss.isOpen(Q)&&(An.setValue(Q,B.none()),Ss.close(Q))},L=Q=>Ss.getState(Q),z=Q=>{Ss.isOpen(Q)&&An.getValue(Q).each(le=>{switch(le.mode){case"menu":Ss.getState(Q).each(b1.repositionMenus);break;case"position":const ae=t.lazySink(Q).getOrDie();Uc.positionWithinBounds(ae,Q,le.config,le.getBounds());break}})},j={setContent:l,showAt:m,showWithinBounds:v,showMenuAt:y,showMenuWithinBounds:T,hide:A,getContent:L,reposition:z,isOpen:Ss.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Oa(t.inlineBehaviours,[Ss.config({isPartOf:(Q,le,ae)=>u0(le,ae)||i(Q,ae),getAttachPoint:Q=>t.lazySink(Q).getOrDie(),onOpen:Q=>{t.onShow(Q)},onClose:Q=>{t.onHide(Q)}}),An.config({store:{mode:"memory",initialValue:B.none()}}),Du.config({channels:{...t3({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(Q=>({fireEventInstead:{event:Q.event}})).getOr({})}),...n3({...t.fireRepositionEventInstead.map(Q=>({fireEventInstead:{event:Q.event}})).getOr({}),doReposition:z})}})]),eventOrder:t.eventOrder,apis:j}},jr=Ou({name:"InlineView",configFields:[Vt("lazySink"),gs("onShow"),gs("onHide"),jd("onEscape"),Aa("inlineBehaviours",[Ss,An,Du]),Sl("fireDismissalEventInstead",[ct("event",kg())]),Sl("fireRepositionEventInstead",[ct("event",YS())]),ct("getRelated",B.none),ct("isExtraPart",Ct),ct("eventOrder",B.none)],factory:UU,apis:{showAt:(t,s,i,l)=>{t.showAt(s,i,l)},showWithinBounds:(t,s,i,l,m)=>{t.showWithinBounds(s,i,l,m)},showMenuAt:(t,s,i,l)=>{t.showMenuAt(s,i,l)},showMenuWithinBounds:(t,s,i,l,m)=>{t.showMenuWithinBounds(s,i,l,m)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,i)=>{t.setContent(s,i)},reposition:(t,s)=>{t.reposition(s)}}}),Ly=k([Yr("type","text"),Ks("data"),ct("inputAttributes",{}),ct("inputStyles",{}),ct("tag","input"),ct("inputClasses",[]),gs("onSetValue"),Zs("fromInputValue",Ot),Zs("toInputValue",Ot),ct("styles",{}),ct("eventOrder",{}),Aa("inputBehaviours",[An,Ro]),ct("selectOnFocus",!0)]),D5=t=>un([Ro.config({onFocus:t.selectOnFocus?s=>{const i=s.element,l=Pc(i);t.type!=="range"&&i.dom.setSelectionRange(0,l.length)}:oe})]),WU=t=>({...D5(t),...Oa(t.inputBehaviours,[An.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>t.fromInputValue(Pc(s.element)),setValue:(s,i)=>{Pc(s.element)!==i&&vu(s.element,t.toInputValue(i))}},onSetValue:t.onSetValue})])}),l3=t=>({tag:t.tag,attributes:{type:t.type,...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),R5=(t,s)=>({uid:t.uid,dom:l3(t),components:[],behaviours:WU(t),eventOrder:t.eventOrder}),Xm=Ou({name:"Input",configFields:Ly(),factory:R5}),pT=Fi(KD(),YD()),jU=(t,s)=>{const i=ia(t,"id").fold(()=>{const l=Tn("dialog-label");return lo(s,"id",l),l},Ot);lo(t,"aria-labelledby",i)},ZU=k([Vt("lazySink"),Ks("dragBlockClass"),Zs("getBounds",uc),ct("useTabstopAt",Nt),ct("firstTabstop",0),ct("eventOrder",{}),Aa("modalBehaviours",[Jn]),$i("onExecute"),Cb("onEscape")]),u3={sketch:Ot},qU=k([kl({name:"draghandle",overrides:(t,s)=>({behaviours:un([s0.config({mode:"mouse",getTarget:i=>Gl(i,'[role="dialog"]').getOr(i),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),zc({schema:[Vt("dom")],name:"title"}),zc({factory:u3,schema:[Vt("dom")],name:"close"}),zc({factory:u3,schema:[Vt("dom")],name:"body"}),kl({factory:u3,schema:[Vt("dom")],name:"footer"}),Tl({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[ct("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ct("components",[])],name:"blocker"})]),GU=(t,s,i,l)=>{const m=go(),v=ae=>{m.set(ae);const _e=t.lazySink(ae).getOrDie(),Ne=l.blocker(),Te=_e.getSystem().build({...Ne,components:Ne.components.concat([_(ae)]),behaviours:un([Ro.config({}),Ao("dialog-blocker-events",[Bg(dd(),()=>{Gt.isBlocked(ae)?oe():Jn.focusIn(ae)})])])});Xf(_e,Te),Jn.focusIn(ae)},y=ae=>{m.clear(),sn(ae.element).each(_e=>{ae.getSystem().getByDom(_e).each(Ne=>{Jf(Ne)})})},T=ae=>dc(ae,t,"body"),A=ae=>Ps(ae,t,"footer"),L=(ae,_e)=>{Gt.block(ae,_e)},z=ae=>{Gt.unblock(ae)},j=Tn("modal-events"),Q={...t.eventOrder,[Zd()]:[j].concat(t.eventOrder["alloy.system.attached"]||[])},le=cr();return{uid:t.uid,dom:t.dom,components:s,apis:{show:v,hide:y,getBody:T,getFooter:A,setIdle:z,setBusy:L},eventOrder:Q,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Oa(t.modalBehaviours,[Mo.config({}),Jn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),Gt.config({getRoot:m.get}),Ao(j,[pr(ae=>{const _e=dc(ae,t,"title").element,Ne=Uw(_e);le.os.isMacOS()&&ve(Ne)?lo(ae.element,"aria-label",Ne):jU(ae.element,_e)})])])}},da=rl({name:"ModalDialog",configFields:ZU(),partFields:qU(),factory:GU,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,i)=>{t.setBusy(s,i)},setIdle:(t,s)=>{t.setIdle(s)}}}),M5=kl({schema:[Vt("dom")],name:"label"}),Wc=t=>kl({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),l=>({events:Rr([Gb(Rm(),(m,v,y)=>l(m,y),[s]),Gb(Hc(),(m,v,y)=>l(m,y),[s]),Gb(Ch(),(m,v,y)=>{y.mouseIsDown.get()&&l(m,y)},[s])])}))}),KU=Wc("top-left"),d3=Wc("top"),P5=Wc("top-right"),L5=Wc("right"),YU=Wc("bottom-right"),N5=Wc("bottom"),I5=Wc("bottom-left"),B5=Wc("left"),XU=zc({name:"thumb",defaults:k({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Rr([$m(Rm(),t,"spectrum"),$m(Mm(),t,"spectrum"),$m(yg(),t,"spectrum"),$m(Hc(),t,"spectrum"),$m(Ch(),t,"spectrum"),$m(hb(),t,"spectrum")])})}),vT=t=>$g(t.event),JU=zc({schema:[Xa("mouseIsDown",()=>Qt(!1))],name:"spectrum",overrides:t=>{const i=t.model.manager,l=(m,v)=>i.getValueFromEvent(v).map(y=>i.setValueFrom(m,t,y));return{behaviours:un([Jn.config({mode:"special",onLeft:(m,v)=>i.onLeft(m,t,vT(v)),onRight:(m,v)=>i.onRight(m,t,vT(v)),onUp:(m,v)=>i.onUp(m,t,vT(v)),onDown:(m,v)=>i.onDown(m,t,vT(v))}),ur.config({}),Ro.config({})]),events:Rr([At(Rm(),l),At(Mm(),l),At(Hc(),l),At(Ch(),(m,v)=>{t.mouseIsDown.get()&&l(m,v)})])}}});var QU=[M5,B5,L5,d3,N5,KU,P5,I5,YU,XU,JU];const WC=k("slider.change.value"),eW=t=>t.type.indexOf("touch")!==-1,bT=t=>{const s=t.event.raw;if(eW(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?B.some(i.touches[0]).map(l=>$s(l.clientX,l.clientY)):B.none()}else{const i=s;return i.clientX!==void 0?B.some(i).map(l=>$s(l.clientX,l.clientY)):B.none()}},$5="top",F5="right",H5="bottom",tW="left",d0=t=>t.model.minX,f0=t=>t.model.minY,jC=t=>t.model.minX-1,op=t=>t.model.minY-1,Fh=t=>t.model.maxX,m0=t=>t.model.maxY,ZC=t=>t.model.maxX+1,qC=t=>t.model.maxY+1,f3=(t,s,i)=>s(t)-i(t),yT=t=>f3(t,Fh,d0),GC=t=>f3(t,m0,f0),wT=t=>yT(t)/2,z5=t=>GC(t)/2,Ny=(t,s)=>s?t.stepSize*t.speedMultiplier:t.stepSize,V5=t=>t.snapToGrid,m3=t=>t.snapStart,h3=t=>t.rounded,CT=(t,s)=>t[s+"-edge"]!==void 0,U5=t=>CT(t,tW),g3=t=>CT(t,F5),W5=t=>CT(t,$5),j5=t=>CT(t,H5),sp=t=>t.model.value.get(),w1=(t,s)=>({x:t,y:s}),rm=(t,s)=>{so(t,WC(),{value:s})},nW=(t,s)=>{rm(t,w1(jC(s),op(s)))},oW=(t,s)=>{rm(t,op(s))},Z5=(t,s)=>{rm(t,w1(wT(s),op(s)))},q5=(t,s)=>{rm(t,w1(ZC(s),op(s)))},sW=(t,s)=>{rm(t,ZC(s))},rW=(t,s)=>{rm(t,w1(ZC(s),z5(s)))},iW=(t,s)=>{rm(t,w1(ZC(s),qC(s)))},G5=(t,s)=>{rm(t,qC(s))},aW=(t,s)=>{rm(t,w1(wT(s),qC(s)))},cW=(t,s)=>{rm(t,w1(jC(s),qC(s)))},lW=(t,s)=>{rm(t,jC(s))},xT=(t,s)=>{rm(t,w1(jC(s),z5(s)))},p3=(t,s,i,l)=>t<s?t:t>i?i:t===s?s-1:Math.max(s,t-l),v3=(t,s,i,l)=>t>i?t:t<s?s:t===i?i+1:Math.min(i,t+l),K5=(t,s,i)=>Math.max(s,Math.min(i,t)),uW=(t,s,i,l,m)=>m.fold(()=>{const v=t-s,y=Math.round(v/l)*l;return K5(s+y,s-1,i+1)},v=>{const y=(t-v)%l,T=Math.round(y/l),A=Math.floor((t-v)/l),L=Math.floor((i-v)/l),z=Math.min(L,A+T),j=v+z*l;return Math.max(v,j)}),dW=(t,s,i)=>Math.min(i,Math.max(t,s))-s,Y5=t=>{const{min:s,max:i,range:l,value:m,step:v,snap:y,snapStart:T,rounded:A,hasMinEdge:L,hasMaxEdge:z,minBound:j,maxBound:Q,screenRange:le}=t,ae=L?s-1:s,_e=z?i+1:i;if(m<j)return ae;if(m>Q)return _e;{const Ne=dW(m,j,Q),Te=K5(Ne/le*l+s,ae,_e);return y&&Te>=s&&Te<=i?uW(Te,s,i,v,T):A?Math.round(Te):Te}},X5=t=>{const{min:s,max:i,range:l,value:m,hasMinEdge:v,hasMaxEdge:y,maxBound:T,maxOffset:A,centerMinEdge:L,centerMaxEdge:z}=t;return m<s?v?0:L:m>i?y?T:z:(m-s)/l*A},b3="top",J5="right",Q5="bottom",y3="left",fW="width",mW="height",im=t=>t.element.dom.getBoundingClientRect(),am=(t,s)=>t[s],ST=t=>{const s=im(t);return am(s,y3)},eB=t=>{const s=im(t);return am(s,J5)},KC=t=>{const s=im(t);return am(s,b3)},tB=t=>{const s=im(t);return am(s,Q5)},nB=t=>{const s=im(t);return am(s,fW)},oB=t=>{const s=im(t);return am(s,mW)},sB=(t,s,i)=>(t+s)/2-i,rB=(t,s)=>{const i=im(t),l=im(s),m=am(i,y3),v=am(i,J5),y=am(l,y3);return sB(m,v,y)},iB=(t,s)=>{const i=im(t),l=im(s),m=am(i,b3),v=am(i,Q5),y=am(l,b3);return sB(m,v,y)},Iy=(t,s)=>{so(t,WC(),{value:s})},w3=(t,s,i)=>{const l={min:d0(s),max:Fh(s),range:yT(s),value:i,step:Ny(s),snap:V5(s),snapStart:m3(s),rounded:h3(s),hasMinEdge:U5(s),hasMaxEdge:g3(s),minBound:ST(t),maxBound:eB(t),screenRange:nB(t)};return Y5(l)},hW=(t,s,i)=>{const l=w3(t,s,i);return Iy(t,l),l},gW=(t,s)=>{const i=d0(s);Iy(t,i)},pW=(t,s)=>{const i=Fh(s);Iy(t,i)},vW=(t,s,i,l)=>{const v=(t>0?v3:p3)(sp(i),d0(i),Fh(i),Ny(i,l));return Iy(s,v),B.some(v)},aB=t=>(s,i,l)=>vW(t,s,i,l).map(Nt),bW=t=>bT(t).map(i=>i.left),yW=(t,s,i,l,m)=>{const y=nB(t),T=l.bind(z=>B.some(rB(z,t))).getOr(0),A=m.bind(z=>B.some(rB(z,t))).getOr(y),L={min:d0(s),max:Fh(s),range:yT(s),value:i,hasMinEdge:U5(s),hasMaxEdge:g3(s),minBound:ST(t),maxBound:eB(t),maxOffset:y,centerMinEdge:T,centerMaxEdge:A};return X5(L)},C3=(t,s,i,l,m,v)=>{const y=yW(s,v,i,l,m);return ST(s)-ST(t)+y},wW=(t,s,i,l)=>{const m=sp(i),v=C3(t,l.getSpectrum(t),m,l.getLeftEdge(t),l.getRightEdge(t),i),y=Sa(s.element)/2;bo(s.element,"left",v-y+"px")},CW=aB(-1),xW=aB(1),SW=B.none,EW=B.none,_W={"top-left":B.none(),top:B.none(),"top-right":B.none(),right:B.some(sW),"bottom-right":B.none(),bottom:B.none(),"bottom-left":B.none(),left:B.some(lW)};var x3=Object.freeze({__proto__:null,setValueFrom:hW,setToMin:gW,setToMax:pW,findValueOfOffset:w3,getValueFromEvent:bW,findPositionOfValue:C3,setPositionFromValue:wW,onLeft:CW,onRight:xW,onUp:SW,onDown:EW,edgeActions:_W});const ET=(t,s)=>{so(t,WC(),{value:s})},S3=(t,s,i)=>{const l={min:f0(s),max:m0(s),range:GC(s),value:i,step:Ny(s),snap:V5(s),snapStart:m3(s),rounded:h3(s),hasMinEdge:W5(s),hasMaxEdge:j5(s),minBound:KC(t),maxBound:tB(t),screenRange:oB(t)};return Y5(l)},TW=(t,s,i)=>{const l=S3(t,s,i);return ET(t,l),l},YC=(t,s)=>{const i=f0(s);ET(t,i)},cB=(t,s)=>{const i=m0(s);ET(t,i)},kW=(t,s,i,l)=>{const v=(t>0?v3:p3)(sp(i),f0(i),m0(i),Ny(i,l));return ET(s,v),B.some(v)},lB=t=>(s,i,l)=>kW(t,s,i,l).map(Nt),uB=t=>bT(t).map(i=>i.top),AW=(t,s,i,l,m)=>{const y=oB(t),T=l.bind(z=>B.some(iB(z,t))).getOr(0),A=m.bind(z=>B.some(iB(z,t))).getOr(y),L={min:f0(s),max:m0(s),range:GC(s),value:i,hasMinEdge:W5(s),hasMaxEdge:j5(s),minBound:KC(t),maxBound:tB(t),maxOffset:y,centerMinEdge:T,centerMaxEdge:A};return X5(L)},E3=(t,s,i,l,m,v)=>{const y=AW(s,v,i,l,m);return KC(s)-KC(t)+y},OW=(t,s,i,l)=>{const m=sp(i),v=E3(t,l.getSpectrum(t),m,l.getTopEdge(t),l.getBottomEdge(t),i),y=yi(s.element)/2;bo(s.element,"top",v-y+"px")},DW=B.none,RW=B.none,MW=lB(-1),PW=lB(1),LW={"top-left":B.none(),top:B.some(oW),"top-right":B.none(),right:B.none(),"bottom-right":B.none(),bottom:B.some(G5),"bottom-left":B.none(),left:B.none()};var dB=Object.freeze({__proto__:null,setValueFrom:TW,setToMin:YC,setToMax:cB,findValueOfOffset:S3,getValueFromEvent:uB,findPositionOfValue:E3,setPositionFromValue:OW,onLeft:DW,onRight:RW,onUp:MW,onDown:PW,edgeActions:LW});const XC=(t,s)=>{so(t,WC(),{value:s})},_T=(t,s)=>({x:t,y:s}),fB=(t,s,i)=>{const l=w3(t,s,i.left),m=S3(t,s,i.top),v=_T(l,m);return XC(t,v),v},mB=(t,s,i,l,m)=>{const v=t>0?v3:p3,y=s?sp(l).x:v(sp(l).x,d0(l),Fh(l),Ny(l,m)),T=s?v(sp(l).y,f0(l),m0(l),Ny(l,m)):sp(l).y;return XC(i,_T(y,T)),B.some(y)},JC=(t,s)=>(i,l,m)=>mB(t,s,i,l,m).map(Nt),hB=(t,s)=>{const i=d0(s),l=f0(s);XC(t,_T(i,l))},NW=(t,s)=>{const i=Fh(s),l=m0(s);XC(t,_T(i,l))},IW=t=>bT(t),BW=(t,s,i,l)=>{const m=sp(i),v=C3(t,l.getSpectrum(t),m.x,l.getLeftEdge(t),l.getRightEdge(t),i),y=E3(t,l.getSpectrum(t),m.y,l.getTopEdge(t),l.getBottomEdge(t),i),T=Sa(s.element)/2,A=yi(s.element)/2;bo(s.element,"left",v-T+"px"),bo(s.element,"top",y-A+"px")},$W=JC(-1,!1),_3=JC(1,!1),gB=JC(-1,!0),FW=JC(1,!0),pB={"top-left":B.some(nW),top:B.some(Z5),"top-right":B.some(q5),right:B.some(rW),"bottom-right":B.some(iW),bottom:B.some(aW),"bottom-left":B.some(cW),left:B.some(xT)};var HW=Object.freeze({__proto__:null,setValueFrom:fB,setToMin:hB,setToMax:NW,getValueFromEvent:IW,setPositionFromValue:BW,onLeft:$W,onRight:_3,onUp:gB,onDown:FW,edgeActions:pB});const zW=[ct("stepSize",1),ct("speedMultiplier",10),ct("onChange",oe),ct("onChoose",oe),ct("onInit",oe),ct("onDragStart",oe),ct("onDragEnd",oe),ct("snapToGrid",!1),ct("rounded",!0),Ks("snapStart"),Jl("model",$c("mode",{x:[ct("minX",0),ct("maxX",100),Xa("value",t=>Qt(t.mode.minX)),Vt("getInitialValue"),Or("manager",x3)],y:[ct("minY",0),ct("maxY",100),Xa("value",t=>Qt(t.mode.minY)),Vt("getInitialValue"),Or("manager",dB)],xy:[ct("minX",0),ct("maxX",100),ct("minY",0),ct("maxY",100),Xa("value",t=>Qt({x:t.mode.minX,y:t.mode.minY})),Vt("getInitialValue"),Or("manager",HW)]})),Aa("sliderBehaviours",[Jn,An]),Xa("mouseIsDown",()=>Qt(!1))],lf=rl({name:"Slider",configFields:zW,partFields:QU,factory:(t,s,i,l)=>{const m=vt=>dc(vt,t,"thumb"),v=vt=>dc(vt,t,"spectrum"),y=vt=>Ps(vt,t,"left-edge"),T=vt=>Ps(vt,t,"right-edge"),A=vt=>Ps(vt,t,"top-edge"),L=vt=>Ps(vt,t,"bottom-edge"),z=t.model,j=z.manager,Q=(vt,kn)=>{j.setPositionFromValue(vt,kn,t,{getLeftEdge:y,getRightEdge:T,getTopEdge:A,getBottomEdge:L,getSpectrum:v})},le=(vt,kn)=>{z.value.set(kn);const Yt=m(vt);Q(vt,Yt)},ae=(vt,kn)=>{le(vt,kn);const Yt=m(vt);return t.onChange(vt,Yt,kn),B.some(!0)},_e=vt=>{j.setToMin(vt,t)},Ne=vt=>{j.setToMax(vt,t)},Te=vt=>{const kn=()=>{Ps(vt,t,"thumb").each(Jt=>{const Wt=z.value.get();t.onChoose(vt,Jt,Wt)})},Yt=t.mouseIsDown.get();t.mouseIsDown.set(!1),Yt&&kn()},$e=(vt,kn)=>{kn.stop(),t.mouseIsDown.set(!0),t.onDragStart(vt,m(vt))},Ve=(vt,kn)=>{kn.stop(),t.onDragEnd(vt,m(vt)),Te(vt)},mt=vt=>{Ps(vt,t,"spectrum").map(Jn.focusIn)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Oa(t.sliderBehaviours,[Jn.config({mode:"special",focusIn:mt}),An.config({store:{mode:"manual",getValue:vt=>z.value.get(),setValue:le}}),Du.config({channels:{[jf()]:{onReceive:Te}}})]),events:Rr([At(WC(),(vt,kn)=>{ae(vt,kn.event.value)}),pr((vt,kn)=>{const Yt=z.getInitialValue();z.value.set(Yt);const Jt=m(vt);Q(vt,Jt);const Wt=v(vt);t.onInit(vt,Jt,Wt,z.value.get())}),At(Rm(),$e),At(yg(),Ve),At(Hc(),(vt,kn)=>{mt(vt),$e(vt,kn)}),At(hb(),Ve)]),apis:{resetToMin:_e,resetToMax:Ne,setValue:le,refresh:Q},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,i)=>{t.setValue(s,i)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),T3="container",vB=[Aa("slotBehaviours",[])],bB=t=>"<alloy.field."+t+">",VW=t=>{const s=(()=>{const v=[];return{slot:(T,A)=>(v.push(T),tl(T3,bB(T),A)),record:k(v)}})(),i=t(s),l=s.record(),m=Tt(l,v=>zc({name:v,pname:bB(v)}));return $4(T3,vB,m,UW,i)},UW=(t,s)=>{const i=_e=>Pb(t),l=(_e,Ne)=>Ps(_e,t,Ne),m=(_e,Ne)=>(Te,$e)=>Ps(Te,t,$e).map(Ve=>_e(Ve,$e)).getOr(Ne),v=_e=>(Ne,Te)=>{rn(Te,$e=>_e(Ne,$e))},y=(_e,Ne)=>Ni(_e.element,"aria-hidden")!=="true",T=(_e,Ne)=>{if(!y(_e)){const Te=_e.element;os(Te,"display"),hr(Te,"aria-hidden"),so(_e,mv(),{name:Ne,visible:!0})}},A=(_e,Ne)=>{if(y(_e)){const Te=_e.element;bo(Te,"display","none"),lo(Te,"aria-hidden","true"),so(_e,mv(),{name:Ne,visible:!1})}},L=m(y,!1),z=m(A),j=v(z),Q=_e=>j(_e,i()),le=m(T),ae={getSlotNames:i,getSlot:l,isShowing:L,hideSlot:z,hideAllSlots:Q,showSlot:le};return{uid:t.uid,dom:t.dom,components:s,behaviours:EC(t.slotBehaviours),apis:ae}},jc={...Oo({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,i)=>t.getSlot(s,i),isShowing:(t,s,i)=>t.isShowing(s,i),hideSlot:(t,s,i)=>t.hideSlot(s,i),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,i)=>t.showSlot(s,i)},t=>Um(t)),sketch:VW},WW=(t,s)=>jt(t,(m,v)=>s(v,m.len).fold(k(m),T=>({len:T.finish,list:m.list.concat([T])})),{len:0,list:[]}).list,k3=(t,s,i)=>({within:t,extra:s,withinWidth:i}),yB=(t,s,i)=>{const l=WW(t,(T,A)=>{const L=i(T);return B.some({element:T,start:A,finish:A+L,width:L})}),m=_o(l,T=>T.finish<=s),v=wt(m,(T,A)=>T+A.width,0),y=l.slice(m.length);return{within:m,extra:y,withinWidth:v}},TT=t=>Tt(t,s=>s.element),jW=(t,s,i)=>{const l=TT(t.concat(s));return k3(l,[],i)},ZW=(t,s,i,l)=>{const m=TT(t).concat([i]);return k3(m,TT(s),l)},wB=(t,s,i)=>k3(TT(t),[],i),qW=(t,s,i)=>{const l=yB(s,t,i);return l.extra.length===0?B.some(l):B.none()},GW=(t,s,i,l)=>{const m=qW(t,s,i).getOrThunk(()=>yB(s,t-i(l),i)),v=m.within,y=m.extra,T=m.withinWidth;return y.length===1&&y[0].width<=i(l)?jW(v,y,T):y.length>=1?ZW(v,y,l,T):wB(v,y,T)},CB=(t,s)=>{const i=Tt(s,l=>_(l));Ls.setGroups(t,i)},KW=t=>wo(t,s=>ci(s.element).bind(i=>s.getSystem().getByDom(i).toOptional())),xB=(t,s,i)=>{const l=s.builtGroups.get();if(l.length===0)return;const m=dc(t,s,"primary"),v=Wo.getCoupled(t,"overflowGroup");bo(m.element,"visibility","hidden");const y=l.concat([v]),T=KW(y);i([]),CB(m,y);const A=Sa(m.element),L=GW(A,s.builtGroups.get(),z=>Math.ceil(z.element.dom.getBoundingClientRect().width),v);L.extra.length===0?(Mo.remove(m,v),i([])):(CB(m,L.within),i(L.extra)),os(m.element,"visibility"),ql(m.element),T.each(Ro.focus)},QC=k([Aa("splitToolbarBehaviours",[Wo]),Xa("builtGroups",()=>Qt([]))]),SB=k([xu(["overflowToggledClass"]),jd("getOverflowBounds"),Vt("lazySink"),Xa("overflowGroups",()=>Qt([])),gs("onOpened"),gs("onClosed")].concat(QC())),YW=k([zc({factory:Ls,schema:Sc(),name:"primary"}),Tl({schema:Sc(),name:"overflow"}),Tl({name:"overflow-button"}),Tl({name:"overflow-group"})]),XW=k([Vt("items"),xu(["itemSelector"]),Aa("tgroupBehaviours",[Jn])]),JW=k([Db({name:"items",unit:"item"})]),QW=(t,s,i,l)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Oa(t.tgroupBehaviours,[Jn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),kT=rl({name:"ToolbarGroup",configFields:XW(),partFields:JW(),factory:QW}),EB=t=>Tt(t,s=>_(s)),AT=(t,s,i)=>{xB(t,i,l=>{i.overflowGroups.set(l),s.getOpt(t).each(m=>{np.setGroups(m,EB(l))})})},_B=(t,s,i,l)=>{const m=Es(np.sketch({fetch:()=>Qo.nu(v=>{v(EB(t.overflowGroups.get()))}),layouts:{onLtr:()=>[Dr,Hi],onRtl:()=>[Hi,Dr],onBottomLtr:()=>[Yi,Va],onBottomRtl:()=>[Va,Yi]},getBounds:i.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(v,y)=>t[y?"onOpened":"onClosed"](v)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:Oa(t.splitToolbarBehaviours,[Wo.config({others:{overflowGroup:()=>kT.sketch({...l["overflow-group"](),items:[m.asSpec()]})}})]),apis:{setGroups:(v,y)=>{t.builtGroups.set(Tt(y,v.getSystem().build)),AT(v,m,t)},refresh:v=>AT(v,m,t),toggle:v=>{m.getOpt(v).each(y=>{np.toggle(y)})},toggleWithoutFocusing:v=>{m.getOpt(v).each(np.toggleWithoutFocusing)},isOpen:v=>m.getOpt(v).map(np.isOpen).getOr(!1),reposition:v=>{m.getOpt(v).each(y=>{np.reposition(y)})},getOverflow:v=>m.getOpt(v).bind(np.getToolbar)},domModification:{attributes:{role:"group"}}}},A3=rl({name:"SplitFloatingToolbar",configFields:SB(),partFields:YW(),factory:_B,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),ej=k([xu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),gs("onOpened"),gs("onClosed")].concat(QC())),TB=k([zc({factory:Ls,schema:Sc(),name:"primary"}),zc({factory:Ls,schema:Sc(),name:"overflow",overrides:t=>({toolbarBehaviours:un([Dl.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{Ps(s,t,"overflow-button").each(i=>{us.off(i)}),t.onClosed(s)},onGrown:s=>{t.onOpened(s)},onStartGrow:s=>{Ps(s,t,"overflow-button").each(us.on)}}),Jn.config({mode:"acyclic",onEscape:s=>(Ps(s,t,"overflow-button").each(Ro.focus),B.some(!0))})])})}),Tl({name:"overflow-button",overrides:t=>({buttonBehaviours:un([us.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Tl({name:"overflow-group"})]),tj=(t,s)=>Ps(t,s,"overflow").map(Dl.hasGrown).getOr(!1),O3=(t,s,i)=>{Ps(t,s,"overflow-button").each(l=>{Ps(t,s,"overflow").each(m=>{if(D3(t,s),Dl.hasShrunk(m)){const v=s.onOpened;s.onOpened=y=>{i||Jn.focusIn(m),v(y),s.onOpened=v}}else{const v=s.onClosed;s.onClosed=y=>{i||Ro.focus(l),v(y),s.onClosed=v}}Dl.toggleGrow(m)})})},D3=(t,s)=>{Ps(t,s,"overflow").each(i=>{xB(t,s,l=>{const m=Tt(l,v=>_(v));Ls.setGroups(i,m)}),Ps(t,s,"overflow-button").each(l=>{Dl.hasGrown(i)&&us.on(l)}),Dl.refresh(i)})},nj=(t,s,i,l)=>{const m="alloy.toolbar.toggle",v=(y,T)=>{const A=Tt(T,y.getSystem().build);t.builtGroups.set(A)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Oa(t.splitToolbarBehaviours,[Wo.config({others:{overflowGroup:y=>kT.sketch({...l["overflow-group"](),items:[xc.sketch({...l["overflow-button"](),action:T=>{ts(y,m)}})]})}}),Ao("toolbar-toggle-events",[At(m,y=>{O3(y,t,!1)})])]),apis:{setGroups:(y,T)=>{v(y,T),D3(y,t)},refresh:y=>D3(y,t),toggle:y=>{O3(y,t,!1)},toggleWithoutFocusing:y=>{O3(y,t,!0)},isOpen:y=>tj(y,t)},domModification:{attributes:{role:"group"}}}},R3=rl({name:"SplitSlidingToolbar",configFields:ej(),partFields:TB(),factory:nj,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),oj=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:uT(t.action),behaviours:Oa(t.tabButtonBehaviours,[Ro.config({}),Jn.config({mode:"execution",useSpace:!0,useEnter:!0}),An.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),sj=Ou({name:"TabButton",configFields:[ct("uid",void 0),Vt("value"),ca("dom","dom",Nf(()=>({attributes:{role:"tab",id:Tn("aria"),"aria-selected":"false"}})),en()),Ks("action"),ct("domModification",{}),Aa("tabButtonBehaviours",[Ro,Jn,An]),Vt("view")],factory:oj}),rj=k([Vt("tabs"),Vt("dom"),ct("clickToDismiss",!1),Aa("tabbarBehaviours",[As,Jn]),xu(["tabClass","selectedClass"])]),ij=Db({factory:sj,name:"tabs",unit:"tab",overrides:t=>{const s=(l,m)=>{As.dehighlight(l,m),so(l,yb(),{tabbar:l,button:m})},i=(l,m)=>{As.highlight(l,m),so(l,JS(),{tabbar:l,button:m})};return{action:l=>{const m=l.getSystem().getByUid(t.uid).getOrDie(),v=As.isHighlighted(m,l);(v&&t.clickToDismiss?s:v?oe:i)(m,l)},domModification:{classes:[t.markers.tabClass]}}}}),aj=k([ij]),OT=(t,s,i,l)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Oa(t.tabbarBehaviours,[As.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(m,v)=>{lo(v.element,"aria-selected","true")},onDehighlight:(m,v)=>{lo(v.element,"aria-selected","false")}}),Jn.config({mode:"flow",getInitial:m=>As.getHighlighted(m).map(v=>v.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),DT=rl({name:"Tabbar",configFields:rj(),partFields:aj(),factory:OT}),M3=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:Oa(t.tabviewBehaviours,[Mo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),kB=Ou({name:"Tabview",configFields:[Aa("tabviewBehaviours",[Mo])],factory:M3}),cj=k([ct("selectFirst",!0),gs("onChangeTab"),gs("onDismissTab"),ct("tabs",[]),Aa("tabSectionBehaviours",[])]),lj=zc({factory:DT,schema:[Vt("dom"),Om("markers",[Vt("tabClass"),Vt("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),P3=zc({factory:kB,name:"tabview"}),L3=k([lj,P3]),RT=(t,s,i,l)=>{const m=y=>{const T=An.getValue(y);Ps(y,t,"tabview").each(A=>{ut(t.tabs,z=>z.value===T).each(z=>{const j=z.view();ia(y.element,"id").each(Q=>{lo(A.element,"aria-labelledby",Q)}),Mo.set(A,j),t.onChangeTab(A,y,j)})})},v=(y,T)=>{Ps(y,t,"tabbar").each(A=>{T(A).each(kv)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:EC(t.tabSectionBehaviours),events:Rr(Lt([t.selectFirst?[pr((y,T)=>{v(y,As.getFirst)})]:[],[At(JS(),(y,T)=>{const A=T.event.button;m(A)}),At(yb(),(y,T)=>{const A=T.event.button;t.onDismissTab(y,A)})]])),apis:{getViewItems:y=>Ps(y,t,"tabview").map(T=>Mo.contents(T)).getOr([]),showTab:(y,T)=>{v(y,L=>{const z=As.getCandidates(L);return ut(z,Q=>An.getValue(Q)===T).filter(Q=>!As.isHighlighted(L,Q))})}}}},h0=rl({name:"TabSection",configFields:cj(),partFields:L3(),factory:RT,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,i)=>{t.showTab(s,i)}}}),MT=(t,s,i)=>{const l=An.getValue(i);An.setValue(s,l),OB(s)},AB=(t,s)=>{const i=t.element,l=Pc(i),m=i.dom;Ni(i,"type")!=="number"&&s(m,l)},OB=t=>{AB(t,(s,i)=>s.setSelectionRange(i.length,i.length))},uj=(t,s)=>{AB(t,(i,l)=>i.setSelectionRange(s,l.length))},dj=(t,s,i)=>{if(t.selectsOver){const l=An.getValue(s),m=t.getDisplayText(l),v=An.getValue(i);return t.getDisplayText(v).indexOf(m)===0?B.some(()=>{MT(t,s,i),uj(s,m.length)}):B.none()}else return B.none()},N3=k("alloy.typeahead.itemexecute"),fj=(t,s,i,l)=>{const m=(j,Q,le)=>{t.previewing.set(!1);const ae=Wo.getCoupled(j,"sandbox");if(Ss.isOpen(ae))Mt.getCurrent(ae).each(_e=>{As.getHighlighted(_e).fold(()=>{le(_e)},()=>{M2(ae,_e.element,"keydown",Q)})});else{const _e=Ne=>{Mt.getCurrent(Ne).each(le)};mT(t,y(j),j,ae,l,_e,mc.HighlightMenuAndItem).get(oe)}},v=D5(t),y=j=>Q=>Q.map(le=>{const ae=zn(le.menus),_e=Re(ae,Te=>_o(Te.items,$e=>$e.type==="item"));return An.getState(j).update(Tt(_e,Te=>Te.data)),le}),T=j=>Mt.getCurrent(j),A="typeaheadevents",L=[Ro.config({}),An.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:j=>Pc(j.element),getFallbackEntry:j=>({value:j,meta:{}}),setValue:(j,Q)=>{vu(j.element,t.model.getDisplayText(Q))},...t.initialData.map(j=>Dm("initialValue",j)).getOr({})}}),DD.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(j,Q)=>{const le=Wo.getCoupled(j,"sandbox");if(Ro.isFocused(j)&&Pc(j.element).length>=t.minChars){const _e=T(le).bind(Te=>As.getHighlighted(Te).map(An.getValue));t.previewing.set(!0);const Ne=Te=>{T(le).each($e=>{_e.fold(()=>{t.model.selectsOver&&As.highlightFirst($e)},Ve=>{As.highlightBy($e,mt=>An.getValue(mt).value===Ve.value),As.getHighlighted($e).orThunk(()=>(As.highlightFirst($e),B.none()))})})};mT(t,y(j),j,le,l,Ne,mc.HighlightJustMenu).get(oe)}},cancelEvent:vb()}),Jn.config({mode:"special",onDown:(j,Q)=>(m(j,Q,As.highlightFirst),B.some(!0)),onEscape:j=>{const Q=Wo.getCoupled(j,"sandbox");return Ss.isOpen(Q)?(Ss.close(Q),B.some(!0)):B.none()},onUp:(j,Q)=>(m(j,Q,As.highlightLast),B.some(!0)),onEnter:j=>{const Q=Wo.getCoupled(j,"sandbox"),le=Ss.isOpen(Q);if(le&&!t.previewing.get())return T(Q).bind(ae=>As.getHighlighted(ae)).map(ae=>(so(j,N3(),{item:ae}),!0));{const ae=An.getValue(j);return ts(j,vb()),t.onExecute(Q,j,ae),le&&Ss.close(Q),B.some(!0)}}}),us.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Wo.config({others:{sandbox:j=>hT(t,j,{onOpen:()=>us.on(j),onClose:()=>{t.lazyTypeaheadComp.get().each(Q=>hr(Q.element,"aria-activedescendant")),us.off(j)}})}}),Ao(A,[pr(j=>{t.lazyTypeaheadComp.set(B.some(j))}),Qd(j=>{t.lazyTypeaheadComp.set(B.none())}),Fm(j=>{const Q=oe;x5(t,y(j),j,l,Q,mc.HighlightMenuAndItem).get(oe)}),At(N3(),(j,Q)=>{const le=Wo.getCoupled(j,"sandbox");MT(t.model,j,Q.event.item),ts(j,vb()),t.onItemExecute(j,le,Q.event.item,An.getValue(j)),Ss.close(le),OB(j)})].concat(t.dismissOnBlur?[At(fd(),j=>{const Q=Wo.getCoupled(j,"sandbox");ci(Q.element).isNone()&&Ss.close(Q)})]:[]))],z={[Lm()]:[An.name(),DD.name(),A],...t.eventOrder};return{uid:t.uid,dom:l3(Is(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...Oa(t.typeaheadBehaviours,L)},eventOrder:z}},mj=k([Ks("lazySink"),Vt("fetch"),ct("minChars",5),ct("responseTime",1e3),gs("onOpen"),ct("getHotspot",B.some),ct("getAnchorOverrides",k({})),ct("layouts",B.none()),ct("eventOrder",{}),l2("model",{},[ct("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),ct("selectsOver",!0),ct("populateFromBrowse",!0)]),gs("onSetValue"),$i("onExecute"),gs("onItemExecute"),ct("inputClasses",[]),ct("inputAttributes",{}),ct("inputStyles",{}),ct("matchWidth",!0),ct("useMinWidth",!1),ct("dismissOnBlur",!0),xu(["openClass"]),Ks("initialData"),Ks("listRole"),Aa("typeaheadBehaviours",[Ro,An,DD,Jn,us,Wo]),Xa("lazyTypeaheadComp",()=>Qt(B.none)),Xa("previewing",()=>Qt(!0))].concat(Ly()).concat($C())),hj=k([Tl({schema:[sE()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,i,l)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(m=>{dj(t.model,m,l).fold(()=>{t.model.selectsOver?(As.dehighlight(i,l),t.previewing.set(!0)):t.previewing.set(!1)},(v=>{v(),t.previewing.set(!1)}))}):t.lazyTypeaheadComp.get().each(m=>{t.model.populateFromBrowse&&MT(t.model,m,l),ia(l.element,"id").each(v=>lo(m.element,"aria-activedescendant",v))})},onExecute:(s,i)=>t.lazyTypeaheadComp.get().map(l=>(so(l,N3(),{item:i}),!0)),onHover:(s,i)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(l=>{t.model.populateFromBrowse&&MT(t.model,l,i)})}})})]),gj=rl({name:"Typeahead",configFields:mj(),partFields:hj(),factory:fj});var pj=tinymce.util.Tools.resolve("tinymce.ThemeManager"),PT=tinymce.util.Tools.resolve("tinymce.util.Delay"),ex=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),DB=tinymce.util.Tools.resolve("tinymce.EditorManager"),By=tinymce.util.Tools.resolve("tinymce.Env"),wd;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(wd||(wd={}));var Cd;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(Cd||(Cd={}));const rr=t=>s=>s.options.get(t),tx=t=>s=>B.from(t(s)),LT=t=>{const s=By.deviceType.isPhone(),i=By.deviceType.isTablet()||s,l=t.options.register,m=y=>$(y)||y===!1,v=y=>$(y)||Be(y);l("skin",{processor:y=>$(y)||y===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:v,default:Math.max(t.getElement().offsetHeight,400)}),l("width",{processor:v,default:ex.DOM.getStyle(t.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:y=>$(y)||ke(y),default:!s}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:y=>ke(y)||$(y)||ee(y)?{value:y,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),ho(9,y=>{l("toolbar"+(y+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:Cd.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:t.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:m,default:"#top"}),l("anchor_bottom",{processor:m,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:y=>y==="both"||ke(y),default:!By.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},fa=rr("readonly"),NT=rr("disabled"),I3=rr("height"),B3=rr("width"),$3=tx(rr("min_width")),F3=tx(rr("min_height")),IT=tx(rr("max_width")),H3=tx(rr("max_height")),RB=tx(rr("style_formats")),MB=rr("style_formats_merge"),PB=rr("style_formats_autohide"),LB=rr("content_langs"),NB=rr("removed_menuitems"),g0=rr("toolbar_mode"),IB=rr("toolbar_groups"),z3=rr("toolbar_location"),vj=rr("fixed_toolbar_container"),bj=rr("fixed_toolbar_container_target"),BB=rr("toolbar_persist"),$B=rr("toolbar_sticky_offset"),FB=rr("menubar"),BT=rr("toolbar"),HB=rr("file_picker_callback"),zB=rr("file_picker_validator_handler"),VB=rr("font_size_input_default_unit"),UB=rr("file_picker_types"),V3=rr("typeahead_urls"),WB=rr("anchor_top"),U3=rr("anchor_bottom"),jB=rr("draggable_modal"),W3=rr("statusbar"),ZB=rr("elementpath"),$T=rr("branding"),qB=rr("resize"),GB=rr("paste_as_text"),KB=rr("sidebar_show"),YB=rr("promotion"),XB=rr("help_accessibility"),JB=rr("default_font_stack"),QB=rr("skin"),j3=t=>t.options.get("skin")===!1,FT=t=>t.options.get("menubar")!==!1,e$=t=>{const s=t.options.get("skin_url");if(j3(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const i=t.options.get("skin");return DB.baseURL+"/skins/ui/"+i}},yj=t=>B.from(t.options.get("skin_url")),t$=t=>t.options.get("line_height_formats").split(" "),HT=t=>{const s=BT(t),i=$(s),l=ee(s)&&s.length>0;return!nx(t)&&(l||i||s===!0)},zT=t=>{const s=ho(9,l=>t.options.get("toolbar"+(l+1))),i=_o(s,$);return ti(i.length>0,i)},nx=t=>zT(t).fold(()=>{const s=BT(t);return Le(s,$)&&s.length>0},Nt),Z3=t=>z3(t)===Cd.bottom,n$=t=>{var s;if(!t.inline)return B.none();const i=(s=vj(t))!==null&&s!==void 0?s:"";if(i.length>0)return Fs(Jc(),i);const l=bj(t);return ve(l)?B.some(pn.fromDom(l)):B.none()},$y=t=>t.inline&&n$(t).isSome(),q3=t=>n$(t).getOrThunk(()=>Jr(Br(pn.fromDom(t.getElement())))),ox=t=>t.inline&&!FT(t)&&!HT(t)&&!nx(t),rp=t=>(t.options.get("toolbar_sticky")||t.inline)&&!$y(t)&&!ox(t),C1=t=>!$y(t)&&t.options.get("ui_mode")==="split",sx=t=>{const s=t.options.get("menu");return Oo(s,i=>({...i,items:i.items}))};var wj=Object.freeze({__proto__:null,get ToolbarMode(){return wd},get ToolbarLocation(){return Cd},register:LT,getSkinUrl:e$,getSkinUrlOption:yj,isReadOnly:fa,isDisabled:NT,getSkin:QB,isSkinDisabled:j3,getHeightOption:I3,getWidthOption:B3,getMinWidthOption:$3,getMinHeightOption:F3,getMaxWidthOption:IT,getMaxHeightOption:H3,getUserStyleFormats:RB,shouldMergeStyleFormats:MB,shouldAutoHideStyleFormats:PB,getLineHeightFormats:t$,getContentLanguages:LB,getRemovedMenuItems:NB,isMenubarEnabled:FT,isMultipleToolbars:nx,isToolbarEnabled:HT,isToolbarPersist:BB,getMultipleToolbarsOption:zT,getUiContainer:q3,useFixedContainer:$y,isSplitUiMode:C1,getToolbarMode:g0,isDraggableModal:jB,isDistractionFree:ox,isStickyToolbar:rp,getStickyToolbarOffset:$B,getToolbarLocation:z3,isToolbarLocationBottom:Z3,getToolbarGroups:IB,getMenus:sx,getMenubar:FB,getToolbar:BT,getFilePickerCallback:HB,getFilePickerTypes:UB,useTypeaheadUrls:V3,getAnchorTop:WB,getAnchorBottom:U3,getFilePickerValidatorHandler:zB,getFontSizeInputDefaultUnit:VB,useStatusBar:W3,useElementPath:ZB,promotionEnabled:YB,useBranding:$T,getResize:qB,getPasteAsText:GB,getSidebarShow:KB,useHelpAccessibility:XB,getDefaultFontStack:JB});const Cj=["visible","hidden","clip"],o$=t=>Sn(t).length>0&&!Pn(Cj,t),s$=t=>{if(Ee(t)){const s=gr(t,"overflow-x"),i=gr(t,"overflow-y");return o$(s)||o$(i)}else return!1},xj=t=>t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen(),VT=(t,s)=>{const i=di(s,s$),l=i.length===0?Ur(s).map(Ms).map(m=>di(m,s$)).getOr([]):i;return rt(l).map(m=>({element:m,others:l.slice(1),isFullscreen:()=>xj(t)}))},uf=(t,s)=>C1(t)?VT(t,s):B.none(),x1=t=>{const s=[...Tt(t.others,Ei),uc()];return t.isFullscreen()?uc():ob(Ei(t.element),s)};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:G3,setPrototypeOf:r$,isFrozen:Sj,getPrototypeOf:Ej,getOwnPropertyDescriptor:_j}=Object;let{freeze:Nu,seal:cm,create:i$}=Object,{apply:K3,construct:Y3}=typeof Reflect<"u"&&Reflect;Nu||(Nu=function(s){return s}),cm||(cm=function(s){return s}),K3||(K3=function(s,i,l){return s.apply(i,l)}),Y3||(Y3=function(s,i){return new s(...i)});const UT=Bu(Array.prototype.forEach),Tj=Bu(Array.prototype.lastIndexOf),X3=Bu(Array.prototype.pop),Hh=Bu(Array.prototype.push),p0=Bu(Array.prototype.splice),WT=Bu(String.prototype.toLowerCase),jT=Bu(String.prototype.toString),J3=Bu(String.prototype.match),S1=Bu(String.prototype.replace),kj=Bu(String.prototype.indexOf),Fy=Bu(String.prototype.trim),ru=Bu(Object.prototype.hasOwnProperty),Iu=Bu(RegExp.prototype.test),rx=Aj(TypeError);function Bu(t){return function(s){s instanceof RegExp&&(s.lastIndex=0);for(var i=arguments.length,l=new Array(i>1?i-1:0),m=1;m<i;m++)l[m-1]=arguments[m];return K3(t,s,l)}}function Aj(t){return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return Y3(t,i)}}function vr(t,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:WT;r$&&r$(t,null);let l=s.length;for(;l--;){let m=s[l];if(typeof m=="string"){const v=i(m);v!==m&&(Sj(s)||(s[l]=v),m=v)}t[m]=!0}return t}function Oj(t){for(let s=0;s<t.length;s++)ru(t,s)||(t[s]=null);return t}function ip(t){const s=i$(null);for(const[i,l]of G3(t))ru(t,i)&&(Array.isArray(l)?s[i]=Oj(l):l&&typeof l=="object"&&l.constructor===Object?s[i]=ip(l):s[i]=l);return s}function E1(t,s){for(;t!==null;){const l=_j(t,s);if(l){if(l.get)return Bu(l.get);if(typeof l.value=="function")return Bu(l.value)}t=Ej(t)}function i(){return null}return i}const Q3=Nu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),eR=Nu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ZT=Nu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Dj=Nu(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),tR=Nu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),nR=Nu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Rj=Nu(["#text"]),qT=Nu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),oR=Nu(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),a$=Nu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),GT=Nu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),c$=cm(/\{\{[\w\W]*|[\w\W]*\}\}/gm),l$=cm(/<%[\w\W]*|[\w\W]*%>/gm),Mj=cm(/\$\{[\w\W]*/gm),Pj=cm(/^data-[\-\w.\u00B7-\uFFFF]+$/),u$=cm(/^aria-[\-\w]+$/),d$=cm(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Lj=cm(/^(?:\w+script|data):/i),KT=cm(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),f$=cm(/^html$/i),xne=cm(/^[a-z][.\w]*(-[.\w]+)+$/i);var YT=Object.freeze({__proto__:null,ARIA_ATTR:u$,ATTR_WHITESPACE:KT,CUSTOM_ELEMENT:xne,DATA_ATTR:Pj,DOCTYPE_NAME:f$,ERB_EXPR:l$,IS_ALLOWED_URI:d$,IS_SCRIPT_OR_DATA:Lj,MUSTACHE_EXPR:c$,TMPLIT_EXPR:Mj});const ix={element:1,text:3,progressingInstruction:7,comment:8,document:9},sR=function(){return typeof window>"u"?null:window},Nj=function(s,i){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let l=null;const m="data-tt-policy-suffix";i&&i.hasAttribute(m)&&(l=i.getAttribute(m));const v="dompurify"+(l?"#"+l:"");try{return s.createPolicy(v,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+v+" could not be created."),null}},m$=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function rR(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sR();const s=Ke=>rR(Ke);if(s.version="3.2.6",s.removed=[],!t||!t.document||t.document.nodeType!==ix.document||!t.Element)return s.isSupported=!1,s;let{document:i}=t;const l=i,m=l.currentScript,{DocumentFragment:v,HTMLTemplateElement:y,Node:T,Element:A,NodeFilter:L,NamedNodeMap:z=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:j,DOMParser:Q,trustedTypes:le}=t,ae=A.prototype,_e=E1(ae,"cloneNode"),Ne=E1(ae,"remove"),Te=E1(ae,"nextSibling"),$e=E1(ae,"childNodes"),Ve=E1(ae,"parentNode");if(typeof y=="function"){const Ke=i.createElement("template");Ke.content&&Ke.content.ownerDocument&&(i=Ke.content.ownerDocument)}let mt,vt="";const{implementation:kn,createNodeIterator:Yt,createDocumentFragment:Jt,getElementsByTagName:Wt}=i,{importNode:oo}=l;let Zn=m$();s.isSupported=typeof G3=="function"&&typeof Ve=="function"&&kn&&kn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:is,ERB_EXPR:fo,TMPLIT_EXPR:Io,DATA_ATTR:Wn,ARIA_ATTR:zt,IS_SCRIPT_OR_DATA:wn,ATTR_WHITESPACE:po,CUSTOM_ELEMENT:zo}=YT;let{IS_ALLOWED_URI:Yn}=YT,Fo=null;const Os=vr({},[...Q3,...eR,...ZT,...tR,...Rj]);let _s=null;const cl=vr({},[...qT,...oR,...a$,...GT]);let br=Object.seal(i$(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ec=null,Xi=null,Pl=!0,Zc=!0,hi=!1,Zh=!0,pf=!1,$0=!0,gp=!1,sS=!1,qh=!1,rS=!1,PA=!1,iS=!1,F0=!0,aS=!1;const GH="user-content-";let lL=!0,cS=!1,gw={},pw=null;const H0=vr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let AQ=null;const KH=vr({},["audio","video","img","source","image","track"]);let uL=null;const OQ=vr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),LA="http://www.w3.org/1998/Math/MathML",NA="http://www.w3.org/2000/svg",vf="http://www.w3.org/1999/xhtml";let vw=vf,dL=!1,IA=null;const DQ=vr({},[LA,NA,vf],jT);let fL=vr({},["mi","mo","mn","ms","mtext"]),e=vr({},["annotation-xml"]);const n=vr({},["title","style","font","a","script"]);let o=null;const r=["application/xhtml+xml","text/html"],c="text/html";let f=null,p=null;const C=i.createElement("form"),E=function(Ce){return Ce instanceof RegExp||Ce instanceof Function},O=function(){let Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(p&&p===Ce)){if((!Ce||typeof Ce!="object")&&(Ce={}),Ce=ip(Ce),o=r.indexOf(Ce.PARSER_MEDIA_TYPE)===-1?c:Ce.PARSER_MEDIA_TYPE,f=o==="application/xhtml+xml"?jT:WT,Fo=ru(Ce,"ALLOWED_TAGS")?vr({},Ce.ALLOWED_TAGS,f):Os,_s=ru(Ce,"ALLOWED_ATTR")?vr({},Ce.ALLOWED_ATTR,f):cl,IA=ru(Ce,"ALLOWED_NAMESPACES")?vr({},Ce.ALLOWED_NAMESPACES,jT):DQ,uL=ru(Ce,"ADD_URI_SAFE_ATTR")?vr(ip(OQ),Ce.ADD_URI_SAFE_ATTR,f):OQ,AQ=ru(Ce,"ADD_DATA_URI_TAGS")?vr(ip(KH),Ce.ADD_DATA_URI_TAGS,f):KH,pw=ru(Ce,"FORBID_CONTENTS")?vr({},Ce.FORBID_CONTENTS,f):H0,ec=ru(Ce,"FORBID_TAGS")?vr({},Ce.FORBID_TAGS,f):ip({}),Xi=ru(Ce,"FORBID_ATTR")?vr({},Ce.FORBID_ATTR,f):ip({}),gw=ru(Ce,"USE_PROFILES")?Ce.USE_PROFILES:!1,Pl=Ce.ALLOW_ARIA_ATTR!==!1,Zc=Ce.ALLOW_DATA_ATTR!==!1,hi=Ce.ALLOW_UNKNOWN_PROTOCOLS||!1,Zh=Ce.ALLOW_SELF_CLOSE_IN_ATTR!==!1,pf=Ce.SAFE_FOR_TEMPLATES||!1,$0=Ce.SAFE_FOR_XML!==!1,gp=Ce.WHOLE_DOCUMENT||!1,rS=Ce.RETURN_DOM||!1,PA=Ce.RETURN_DOM_FRAGMENT||!1,iS=Ce.RETURN_TRUSTED_TYPE||!1,qh=Ce.FORCE_BODY||!1,F0=Ce.SANITIZE_DOM!==!1,aS=Ce.SANITIZE_NAMED_PROPS||!1,lL=Ce.KEEP_CONTENT!==!1,cS=Ce.IN_PLACE||!1,Yn=Ce.ALLOWED_URI_REGEXP||d$,vw=Ce.NAMESPACE||vf,fL=Ce.MATHML_TEXT_INTEGRATION_POINTS||fL,e=Ce.HTML_INTEGRATION_POINTS||e,br=Ce.CUSTOM_ELEMENT_HANDLING||{},Ce.CUSTOM_ELEMENT_HANDLING&&E(Ce.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(br.tagNameCheck=Ce.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ce.CUSTOM_ELEMENT_HANDLING&&E(Ce.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(br.attributeNameCheck=Ce.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ce.CUSTOM_ELEMENT_HANDLING&&typeof Ce.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(br.allowCustomizedBuiltInElements=Ce.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pf&&(Zc=!1),PA&&(rS=!0),gw&&(Fo=vr({},Rj),_s=[],gw.html===!0&&(vr(Fo,Q3),vr(_s,qT)),gw.svg===!0&&(vr(Fo,eR),vr(_s,oR),vr(_s,GT)),gw.svgFilters===!0&&(vr(Fo,ZT),vr(_s,oR),vr(_s,GT)),gw.mathMl===!0&&(vr(Fo,tR),vr(_s,a$),vr(_s,GT))),Ce.ADD_TAGS&&(Fo===Os&&(Fo=ip(Fo)),vr(Fo,Ce.ADD_TAGS,f)),Ce.ADD_ATTR&&(_s===cl&&(_s=ip(_s)),vr(_s,Ce.ADD_ATTR,f)),Ce.ADD_URI_SAFE_ATTR&&vr(uL,Ce.ADD_URI_SAFE_ATTR,f),Ce.FORBID_CONTENTS&&(pw===H0&&(pw=ip(pw)),vr(pw,Ce.FORBID_CONTENTS,f)),lL&&(Fo["#text"]=!0),gp&&vr(Fo,["html","head","body"]),Fo.table&&(vr(Fo,["tbody"]),delete ec.tbody),Ce.TRUSTED_TYPES_POLICY){if(typeof Ce.TRUSTED_TYPES_POLICY.createHTML!="function")throw rx('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ce.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw rx('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');mt=Ce.TRUSTED_TYPES_POLICY,vt=mt.createHTML("")}else mt===void 0&&(mt=Nj(le,m)),mt!==null&&typeof vt=="string"&&(vt=mt.createHTML(""));Nu&&Nu(Ce),p=Ce}},F=vr({},[...eR,...ZT,...Dj]),U=vr({},[...tR,...nR]),q=function(Ce){let dt=Ve(Ce);(!dt||!dt.tagName)&&(dt={namespaceURI:vw,tagName:"template"});const tn=WT(Ce.tagName),Qn=WT(dt.tagName);return IA[Ce.namespaceURI]?Ce.namespaceURI===NA?dt.namespaceURI===vf?tn==="svg":dt.namespaceURI===LA?tn==="svg"&&(Qn==="annotation-xml"||fL[Qn]):!!F[tn]:Ce.namespaceURI===LA?dt.namespaceURI===vf?tn==="math":dt.namespaceURI===NA?tn==="math"&&e[Qn]:!!U[tn]:Ce.namespaceURI===vf?dt.namespaceURI===NA&&!e[Qn]||dt.namespaceURI===LA&&!fL[Qn]?!1:!U[tn]&&(n[tn]||!F[tn]):!!(o==="application/xhtml+xml"&&IA[Ce.namespaceURI]):!1},J=function(Ce){Hh(s.removed,{element:Ce});try{Ve(Ce).removeChild(Ce)}catch{Ne(Ce)}},ge=function(Ce,dt){try{Hh(s.removed,{attribute:dt.getAttributeNode(Ce),from:dt})}catch{Hh(s.removed,{attribute:null,from:dt})}if(dt.removeAttribute(Ce),Ce==="is")if(rS||PA)try{J(dt)}catch{}else try{dt.setAttribute(Ce,"")}catch{}},fe=function(Ce){let dt=null,tn=null;if(qh)Ce="<remove></remove>"+Ce;else{const ss=J3(Ce,/^[\r\n\t ]+/);tn=ss&&ss[0]}o==="application/xhtml+xml"&&vw===vf&&(Ce='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ce+"</body></html>");const Qn=mt?mt.createHTML(Ce):Ce;if(vw===vf)try{dt=new Q().parseFromString(Qn,o)}catch{}if(!dt||!dt.documentElement){dt=kn.createDocument(vw,"template",null);try{dt.documentElement.innerHTML=dL?vt:Qn}catch{}}const Po=dt.body||dt.documentElement;return Ce&&tn&&Po.insertBefore(i.createTextNode(tn),Po.childNodes[0]||null),vw===vf?Wt.call(dt,gp?"html":"body")[0]:gp?dt.documentElement:Po},de=function(Ce){return Yt.call(Ce.ownerDocument||Ce,Ce,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT|L.SHOW_PROCESSING_INSTRUCTION|L.SHOW_CDATA_SECTION,null)},He=function(Ce){return Ce instanceof j&&(typeof Ce.nodeName!="string"||typeof Ce.textContent!="string"||typeof Ce.removeChild!="function"||!(Ce.attributes instanceof z)||typeof Ce.removeAttribute!="function"||typeof Ce.setAttribute!="function"||typeof Ce.namespaceURI!="string"||typeof Ce.insertBefore!="function"||typeof Ce.hasChildNodes!="function")},ze=function(Ce){return typeof T=="function"&&Ce instanceof T};function Ye(Ke,Ce,dt){UT(Ke,tn=>{tn.call(s,Ce,dt,p)})}const lt=function(Ce){let dt=null;if(Ye(Zn.beforeSanitizeElements,Ce,null),He(Ce))return J(Ce),!0;const tn=f(Ce.nodeName);if(Ye(Zn.uponSanitizeElement,Ce,{tagName:tn,allowedTags:Fo}),$0&&Ce.hasChildNodes()&&!ze(Ce.firstElementChild)&&Iu(/<[/\w!]/g,Ce.innerHTML)&&Iu(/<[/\w!]/g,Ce.textContent)||Ce.nodeType===ix.progressingInstruction||$0&&Ce.nodeType===ix.comment&&Iu(/<[/\w]/g,Ce.data))return J(Ce),!0;if(!Fo[tn]||ec[tn]){if(!ec[tn]&&vn(tn)&&(br.tagNameCheck instanceof RegExp&&Iu(br.tagNameCheck,tn)||br.tagNameCheck instanceof Function&&br.tagNameCheck(tn)))return!1;if(lL&&!pw[tn]){const Qn=Ve(Ce)||Ce.parentNode,Po=$e(Ce)||Ce.childNodes;if(Po&&Qn){const ss=Po.length;for(let vs=ss-1;vs>=0;--vs){const Zr=_e(Po[vs],!0);Zr.__removalCount=(Ce.__removalCount||0)+1,Qn.insertBefore(Zr,Te(Ce))}}}return J(Ce),!0}return Ce instanceof A&&!q(Ce)||(tn==="noscript"||tn==="noembed"||tn==="noframes")&&Iu(/<\/no(script|embed|frames)/i,Ce.innerHTML)?(J(Ce),!0):(pf&&Ce.nodeType===ix.text&&(dt=Ce.textContent,UT([is,fo,Io],Qn=>{dt=S1(dt,Qn," ")}),Ce.textContent!==dt&&(Hh(s.removed,{element:Ce.cloneNode()}),Ce.textContent=dt)),Ye(Zn.afterSanitizeElements,Ce,null),!1)},Ft=function(Ce,dt,tn){if(F0&&(dt==="id"||dt==="name")&&(tn in i||tn in C))return!1;if(!(Zc&&!Xi[dt]&&Iu(Wn,dt))){if(!(Pl&&Iu(zt,dt))){if(!_s[dt]||Xi[dt]){if(!(vn(Ce)&&(br.tagNameCheck instanceof RegExp&&Iu(br.tagNameCheck,Ce)||br.tagNameCheck instanceof Function&&br.tagNameCheck(Ce))&&(br.attributeNameCheck instanceof RegExp&&Iu(br.attributeNameCheck,dt)||br.attributeNameCheck instanceof Function&&br.attributeNameCheck(dt))||dt==="is"&&br.allowCustomizedBuiltInElements&&(br.tagNameCheck instanceof RegExp&&Iu(br.tagNameCheck,tn)||br.tagNameCheck instanceof Function&&br.tagNameCheck(tn))))return!1}else if(!uL[dt]){if(!Iu(Yn,S1(tn,po,""))){if(!((dt==="src"||dt==="xlink:href"||dt==="href")&&Ce!=="script"&&kj(tn,"data:")===0&&AQ[Ce])){if(!(hi&&!Iu(wn,S1(tn,po,"")))){if(tn)return!1}}}}}}return!0},vn=function(Ce){return Ce!=="annotation-xml"&&J3(Ce,zo)},nn=function(Ce){Ye(Zn.beforeSanitizeAttributes,Ce,null);const{attributes:dt}=Ce;if(!dt||He(Ce))return;const tn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_s,forceKeepAttr:void 0};let Qn=dt.length;for(;Qn--;){const Po=dt[Qn],{name:ss,namespaceURI:vs,value:Zr}=Po,qr=f(ss),tc=Zr;let fn=ss==="value"?tc:Fy(tc);if(tn.attrName=qr,tn.attrValue=fn,tn.keepAttr=!0,tn.forceKeepAttr=void 0,Ye(Zn.uponSanitizeAttribute,Ce,tn),fn=tn.attrValue,aS&&(qr==="id"||qr==="name")&&(ge(ss,Ce),fn=GH+fn),$0&&Iu(/((--!?|])>)|<\/(style|title)/i,fn)){ge(ss,Ce);continue}if(tn.forceKeepAttr)continue;if(!tn.keepAttr){ge(ss,Ce);continue}if(!Zh&&Iu(/\/>/i,fn)){ge(ss,Ce);continue}pf&&UT([is,fo,Io],Ts=>{fn=S1(fn,Ts," ")});const no=f(Ce.nodeName);if(!Ft(no,qr,fn)){ge(ss,Ce);continue}if(mt&&typeof le=="object"&&typeof le.getAttributeType=="function"&&!vs)switch(le.getAttributeType(no,qr)){case"TrustedHTML":{fn=mt.createHTML(fn);break}case"TrustedScriptURL":{fn=mt.createScriptURL(fn);break}}if(fn!==tc)try{vs?Ce.setAttributeNS(vs,ss,fn):Ce.setAttribute(ss,fn),He(Ce)?J(Ce):X3(s.removed)}catch{ge(ss,Ce)}}Ye(Zn.afterSanitizeAttributes,Ce,null)},Pt=function Ke(Ce){let dt=null;const tn=de(Ce);for(Ye(Zn.beforeSanitizeShadowDOM,Ce,null);dt=tn.nextNode();)Ye(Zn.uponSanitizeShadowNode,dt,null),lt(dt),nn(dt),dt.content instanceof v&&Ke(dt.content);Ye(Zn.afterSanitizeShadowDOM,Ce,null)};return s.sanitize=function(Ke){let Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},dt=null,tn=null,Qn=null,Po=null;if(dL=!Ke,dL&&(Ke="<!-->"),typeof Ke!="string"&&!ze(Ke))if(typeof Ke.toString=="function"){if(Ke=Ke.toString(),typeof Ke!="string")throw rx("dirty is not a string, aborting")}else throw rx("toString is not a function");if(!s.isSupported)return Ke;if(sS||O(Ce),s.removed=[],typeof Ke=="string"&&(cS=!1),cS){if(Ke.nodeName){const Zr=f(Ke.nodeName);if(!Fo[Zr]||ec[Zr])throw rx("root node is forbidden and cannot be sanitized in-place")}}else if(Ke instanceof T)dt=fe("<!---->"),tn=dt.ownerDocument.importNode(Ke,!0),tn.nodeType===ix.element&&tn.nodeName==="BODY"||tn.nodeName==="HTML"?dt=tn:dt.appendChild(tn);else{if(!rS&&!pf&&!gp&&Ke.indexOf("<")===-1)return mt&&iS?mt.createHTML(Ke):Ke;if(dt=fe(Ke),!dt)return rS?null:iS?vt:""}dt&&qh&&J(dt.firstChild);const ss=de(cS?Ke:dt);for(;Qn=ss.nextNode();)lt(Qn),nn(Qn),Qn.content instanceof v&&Pt(Qn.content);if(cS)return Ke;if(rS){if(PA)for(Po=Jt.call(dt.ownerDocument);dt.firstChild;)Po.appendChild(dt.firstChild);else Po=dt;return(_s.shadowroot||_s.shadowrootmode)&&(Po=oo.call(l,Po,!0)),Po}let vs=gp?dt.outerHTML:dt.innerHTML;return gp&&Fo["!doctype"]&&dt.ownerDocument&&dt.ownerDocument.doctype&&dt.ownerDocument.doctype.name&&Iu(f$,dt.ownerDocument.doctype.name)&&(vs="<!DOCTYPE "+dt.ownerDocument.doctype.name+`>
`+vs),pf&&UT([is,fo,Io],Zr=>{vs=S1(vs,Zr," ")}),mt&&iS?mt.createHTML(vs):vs},s.setConfig=function(){let Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};O(Ke),sS=!0},s.clearConfig=function(){p=null,sS=!1},s.isValidAttribute=function(Ke,Ce,dt){p||O({});const tn=f(Ke),Qn=f(Ce);return Ft(tn,Qn,dt)},s.addHook=function(Ke,Ce){typeof Ce=="function"&&Hh(Zn[Ke],Ce)},s.removeHook=function(Ke,Ce){if(Ce!==void 0){const dt=Tj(Zn[Ke],Ce);return dt===-1?void 0:p0(Zn[Ke],dt,1)[0]}return X3(Zn[Ke])},s.removeHooks=function(Ke){Zn[Ke]=[]},s.removeAllHooks=function(){Zn=m$()},s}var h$=rR();const iR=t=>h$().sanitize(t);var Ai=tinymce.util.Tools.resolve("tinymce.util.I18n");const v0={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},g$="temporary-placeholder",aR=t=>()=>_t(t,g$).getOr("!not found!"),XT=(t,s)=>{const i=t.toLowerCase();if(Ai.isRtl()){const l=ju(i,"-rtl");return yn(s,l)?l:i}else return i},p$=(t,s)=>_t(s,XT(t,s)),cR=(t,s)=>{const i=s();return p$(t,i).getOrThunk(aR(i))},Ij=(t,s,i)=>{const l=s();return p$(t,l).or(i).getOrThunk(aR(l))},Bj=t=>Ai.isRtl()?yn(v0,t):!1,v$=()=>Ao("add-focusable",[pr(t=>{Rf(t.element,"svg").each(s=>lo(s,"focusable","false"))})]),b$=(t,s,i,l)=>{var m,v,y;const T=Bj(s)?["tox-icon--flip"]:[],A=_t(i,XT(s,i)).or(l).getOrThunk(aR(i));return{dom:{tag:t.tag,attributes:(m=t.attributes)!==null&&m!==void 0?m:{},classes:t.classes.concat(T),innerHtml:A},behaviours:un([...(v=t.behaviours)!==null&&v!==void 0?v:[],v$()]),eventOrder:(y=t.eventOrder)!==null&&y!==void 0?y:{}}},xd=(t,s,i,l=B.none())=>b$(s,t,i(),l),$j=(t,s,i)=>{const l=i(),m=ut(t,v=>yn(l,XT(v,l)));return b$(s,m.getOr(g$),l,B.none())},Fj={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},ax=Ou({name:"Notification",factory:t=>{const s=Tn("notification-text"),i=Es({dom:Km(`<p id=${s}>${iR(t.backstageProvider.translate(t.text))}</p>`),behaviours:un([Mo.config({})])}),l=ae=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${ae}%`}}}),m=ae=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${ae}%`}}),v=Es({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},m(0)],behaviours:un([Mo.config({})])}),A={updateProgress:(ae,_e)=>{ae.getSystem().isConnected()&&v.getOpt(ae).each(Ne=>{Mo.set(Ne,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(_e)]},m(_e)])})},updateText:(ae,_e)=>{if(ae.getSystem().isConnected()){const Ne=i.get(ae);Mo.set(Ne,[Mr(_e)])}}},L=Lt([t.icon.toArray(),[t.level],B.from(Fj[t.level]).toArray()]),z=Es(xc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":t.backstageProvider.translate("Close")}},components:[xd("close",{tag:"span",classes:["tox-icon"]},t.iconProvider)],buttonBehaviours:un([ur.config({}),Pr.config({...t.backstageProvider.tooltips.getConfig({tooltipText:t.backstageProvider.translate("Close")})})]),action:ae=>{t.onAction(ae)}})),j=$j(L,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),Q={dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:un([Mo.config({})])},le=[j,Q];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},behaviours:un([ur.config({}),Ro.config({}),Jn.config({mode:"special",onEscape:ae=>(t.onAction(ae),B.some(!0))})]),components:le.concat(t.progress?[v.asSpec()]:[]).concat([z.asSpec()]),apis:A}},configFields:[Ql("level","info",["success","error","warning","warn","info"]),Vt("progress"),Ks("icon"),Vt("onAction"),Vt("text"),Vt("iconProvider"),Vt("backstageProvider")],apis:{updateProgress:(t,s,i)=>{t.updateProgress(s,i)},updateText:(t,s,i)=>{t.updateText(s,i)}}});var Hj=(t,s,i,l)=>{const m=s.backstage.shared,v=()=>pn.fromDom(t.queryCommandValue("ToggleView")===""?t.getContentAreaContainer():t.getContainer()),y=()=>{const j=Ei(v());return B.some(j)},T=j=>{y().each(Q=>{rn(j,le=>{os(le.element,"width"),Sa(le.element)>Q.width&&bo(le.element,"width",Q.width+"px")})})};return{open:(j,Q,le)=>{const ae=()=>{const Ve=Yt=>{Mo.remove(Yt,Ne),Te()},mt=(Yt,Jt)=>{Go(Yt.element).length===0?vt(Yt,Jt):kn(Yt,Jt)},vt=(Yt,Jt)=>{jr.hide(Yt),l.clear(),Jt&&t.focus()},kn=(Yt,Jt)=>{Jt&&Jn.focusIn(Yt)};l.on(Yt=>{Q();const Jt=le();Ve(Yt),mt(Yt,Jt)})},_e=()=>!rp(t)||!m.header.isPositionedAtTop(),Ne=w(ax.sketch({text:j.text,level:Pn(["success","error","warning","warn","info"],j.type)?j.type:void 0,progress:j.progressBar===!0,icon:j.icon,onAction:ae,iconProvider:m.providers.icons,backstageProvider:m.providers}));if(l.isSet()){const Ve=_(Ne);l.on(mt=>{Mo.append(mt,Ve),jr.reposition(mt),Ne.hasConfigured(Wr)&&Wr.refresh(mt),T(mt.components())})}else{const Ve=w(jr.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:m.getSink,fireDismissalEventInstead:{},...m.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:un([Jn.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Mo.config({}),..._e()?[Wr.config({contextual:{lazyContext:()=>B.some(Ei(v())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:Yt=>uf(t,Yt.element).map(Wt=>({bounds:x1(Wt),optScrollEnv:B.some({currentScrollTop:Wt.element.dom.scrollTop,scrollElmTop:Ia(Wt.element).top})})).getOrThunk(()=>({bounds:uc(),optScrollEnv:B.none()}))})]:[]])})),mt=_(Ne),vt={maxHeightFunction:Pg()},kn={...m.anchors.banner(),overrides:vt};l.set(Ve),i.add(Ve),jr.showWithinBounds(Ve,mt,{anchor:kn},y)}Be(j.timeout)&&j.timeout>0&&PT.setEditorTimeout(t,()=>{ae()},j.timeout);const Te=()=>{l.on(Ve=>{jr.reposition(Ve),Ve.hasConfigured(Wr)&&Wr.refresh(Ve),T(Ve.components())})};return{close:ae,reposition:Te,text:Ve=>{ax.updateText(Ne,Ve)},settings:j,getEl:()=>Ne.element.dom,progressBar:{value:Ve=>{ax.updateProgress(Ne,Ve)}}}},close:j=>{j.close()},getArgs:j=>j.settings}};const zj={setup:(t,s)=>{const i=(m,v)=>{so(m,la(),{raw:v})},l=()=>t.getMenu().bind(As.getHighlighted);s.on("keydown",m=>{const v=m.which;t.isActive()&&(t.isMenuOpen()?v===13?(l().each(kv),m.preventDefault()):v===40?(l().fold(()=>{t.getMenu().each(As.highlightFirst)},y=>{i(y,m)}),m.preventDefault(),m.stopImmediatePropagation()):(v===37||v===38||v===39)&&l().each(y=>{i(y,m),m.preventDefault(),m.stopImmediatePropagation()}):(v===13||v===38||v===40)&&t.cancelIfNecessary())}),s.on("NodeChange",()=>{t.isActive()&&!t.isProcessingAction()&&!s.queryCommandState("mceAutoCompleterInRange")&&t.cancelIfNecessary()})}};var JT;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(JT||(JT={}));var lm=JT;const lR="tox-menu-nav__js",QT="tox-collection__item",ek="tox-swatch",Vj={normal:lR,color:ek},uR="tox-collection__item--enabled",Uj="tox-collection__group-heading",y$="tox-collection__item-icon",Wj="tox-collection__item-image",w$="tox-collection__item-image-selector",tk="tox-collection__item-label",jj="tox-collection__item-accessory",C$="tox-collection__item-caret",Zj="tox-collection__item-checkmark",b0="tox-collection__item--active",x$="tox-collection__item-container",S$="tox-collection__item-container--column",y0="tox-collection__item-container--row",qj="tox-collection__item-container--align-right",Gj="tox-collection__item-container--align-left",Kj="tox-collection__item-container--valign-top",nk="tox-collection__item-container--valign-middle",df="tox-collection__item-container--valign-bottom",ok=t=>_t(Vj,t).getOr(lR),E$=t=>t==="color"?"tox-swatches":"tox-menu",dR=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:E$(t),tieredMenu:"tox-tiered-menu"}),_1=t=>{const s=dR(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:ok(t)}},Yj=(t,s,i)=>{const l=dR(i);return{tag:"div",classes:Lt([[l.menu,`tox-menu-${s}-column`],t?[l.hasIcons]:[]])}},Xj=[ep.parts.items({})],Hy=(t,s,i)=>{const l=dR(i);return{dom:{tag:"div",classes:Lt([[l.tieredMenu]])},markers:_1(i)}},fR=Tn("refetch-trigger-event"),_$=Tn("redirect-menu-item-interaction"),T$="tox-menu__searcher",cx=t=>Fs(t.element,`.${T$}`).bind(s=>t.getSystem().getByDom(s).toOptional()),k$=cx,A$=(t,s)=>{An.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},mR=t=>{const s=An.getValue(t),i=t.element.dom.selectionStart,l=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:i,selectionEnd:l}},O$=(t,s)=>{ia(s.element,"id").each(i=>lo(t.element,"aria-activedescendant",i))},Jj=t=>{const s=(m,v)=>(v.cut(),B.none()),i=(m,v)=>{const y={interactionEvent:v.event,eventType:v.event.raw.type};return so(m,_$,y),B.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[QT]},components:[Xm.sketch({inputClasses:[T$,"tox-textfield"],inputAttributes:{...t.placeholder.map(m=>({placeholder:t.i18n(m)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:un([Ao(l,[At(Pm(),m=>{ts(m,fR)}),At(la(),(m,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),Jn.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[l,Jn.name()]}})]}},sk="tox-collection--results__js",D$=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:Tn("aria-item-search-result-id"),"aria-selected":"false"}}}:t},R$="Use arrow keys to navigate.",rk=(t,s)=>i=>{const l=vo(i,s);return Tt(l,m=>({dom:t,components:m}))},ik=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":Ai.translate(R$)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[ep.parts.items({preprocess:t!=="auto"?rk({tag:"div",classes:["tox-swatches__row"]},t):Ot})]}]}),zh=t=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[ep.parts.items({preprocess:t!=="auto"?rk({tag:"div",classes:["tox-image-selector__row"]},t):Ot})]}]}),M$=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[ep.parts.items({preprocess:rk({tag:"div",classes:["tox-collection__group"]},t)})]}),Sd=(t,s)=>{const i=[];let l=[];return rn(t,(m,v)=>{s(m,v)?(l.length>0&&i.push(l),l=[],(yn(m.dom,"innerHtml")||m.components&&m.components.length>0)&&l.push(m)):l.push(m)}),l.length>0&&i.push(l),Tt(i,m=>({dom:{tag:"div",classes:["tox-collection__group"]},components:m}))},hR=(t,s,i)=>ep.parts.items({preprocess:l=>{const m=Tt(l,i);return t!=="auto"&&t>1?rk({tag:"div",classes:["tox-collection__group"]},t)(m):Sd(m,(v,y)=>s[y].type==="separator")}}),ak=t=>jo(t,s=>s.type==="widget"),P$=(t,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...ak(s)?{"aria-label":Ai.translate(R$)}:{}}},components:[hR(t,s,Ot)]}),w0=(t,s,i=!0)=>{const l=Tn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",sk].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:l}},components:[hR(t,s,D$)]}},Qj=(t,s,i)=>{const l=Tn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Jj({i18n:Ai.translate,placeholder:i.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],sk],attributes:{id:l}},components:[hR(t,s,D$)]}]}},gR=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[ep.parts.items({preprocess:i=>Sd(i,(l,m)=>t[m].type==="separator")})]}),C0=t=>jo(t,s=>"icon"in s&&s.icon!==void 0),Jm=t=>(console.error(bh(t)),console.log(t),B.none()),eZ=(t,s,i,l,m)=>{const v=gR(i);return{value:t,dom:v.dom,components:v.components,items:i}},ap=(t,s,i,l,m)=>{const v=()=>m.menuType!=="searchable"?P$(l,i):m.searchMode.searchMode==="search-with-field"?Qj(l,i,m.searchMode):w0(l,i);if(m.menuType==="color"){const y=ik(l);return{value:t,dom:y.dom,components:y.components,items:i}}else if(m.menuType==="imageselector"&&l!=="auto"){const y=zh(l);return{value:t,dom:y.dom,components:y.components,items:i}}else if(m.menuType==="normal"&&l==="auto"){const y=P$(l,i);return{value:t,dom:y.dom,components:y.components,items:i}}else if(m.menuType==="normal"||m.menuType==="searchable"){const y=v();return{value:t,dom:y.dom,components:y.components,items:i}}else if(m.menuType==="listpreview"&&l!=="auto"){const y=M$(l);return{value:t,dom:y.dom,components:y.components,items:i}}else return{value:t,dom:Yj(s,l,m.menuType),components:Xj,items:i}},oi=Gi("type"),ck=Gi("name"),lk=Gi("label"),Qm=Gi("text"),pR=Gi("title"),lx=Gi("icon"),L$=Gi("url"),x0=Gi("value"),ux=wu("fetch"),tZ=wu("getSubmenuItems"),zy=wu("onAction"),nZ=wu("onItemAction"),S0=Zs("onSetup",()=>oe),vR=ni("name"),T1=ni("text"),bR=ni("role"),ff=ni("icon"),eh=ni("tooltip"),oZ=ni("chevronTooltip"),Vy=ni("label"),yR=ni("shortcut"),sZ=jd("select"),Uy=Fa("active",!1),rZ=Fa("borderless",!1),$u=Fa("enabled",!0),dx=Fa("primary",!1),N$=t=>ct("columns",t),fx=ct("meta",{}),cp=Zs("onAction",oe),k1=t=>Yr("type",t),E0=t=>ca("name","name",Nc(()=>Tn(`${t}-name`)),ei),iZ=t=>ca("value","value",Nc(()=>Tn(`${t}-value`)),en()),I$=[oi,Qm,yu("level",["info","warn","error","success"]),lx,ct("url","")],aZ=yo(I$),cZ=t=>[oi,t],_0=[oi,Qm,$u,E0("button"),ff,rZ,US("buttonType",["primary","secondary","toolbar"]),dx,Yr("context","mode:design")],B$=yo(_0),Wy=[oi,ck],um=Wy.concat([Vy]),lZ=Wy.concat([lk,$u,Yr("context","mode:design")]),uZ=yo(lZ),dZ=ns,$$=um.concat([N$("auto"),Yr("context","mode:design")]),fZ=yo($$),mZ=db([x0,Qm,lx]),hZ=um.concat([Yr("storageKey","default"),Yr("context","mode:design")]),gZ=yo(hZ),pZ=ei,vZ=yo(um),bZ=ei,F$=Wy.concat([Yr("tag","textarea"),Gi("scriptId"),Gi("scriptUrl"),jd("onFocus"),WS("settings",void 0)]),yZ=Wy.concat([Yr("tag","textarea"),wu("init")]),wZ=vh(t=>Kr("customeditor.old",Xl(yZ),t).orThunk(()=>Kr("customeditor.new",Xl(F$),t))),CZ=ei,A1=[$u,T1,bR,yR,iZ("menuitem"),fx,Yr("context","mode:design")],xZ=yo([oi,ck].concat(A1)),SZ=ns,uk=[E0("button"),ff,Ql("align","end",["start","end"]),dx,$u,US("buttonType",["primary","secondary"]),Yr("context","mode:design")],wR=[...uk,Qm],CR=[yu("type",["submit","cancel","custom"]),...wR],dk=[yu("type",["menu"]),T1,eh,ff,el("items",xZ),...uk],EZ=[...uk,yu("type",["togglebutton"]),eh,ff,T1,Fa("active",!1)],_Z=$c("type",{submit:CR,cancel:CR,custom:CR,menu:dk,togglebutton:EZ}),TZ=um.concat([Yr("context","mode:design")]),kZ=yo(TZ),AZ=fb(),OZ=t=>[oi,cv("columns"),t],DZ=[oi,Gi("html"),Ql("presets","presentation",["presentation","document"]),Zs("onInit",oe),Fa("stretched",!1)],RZ=yo(DZ),O1=um.concat([Fa("border",!1),Fa("sandboxed",!0),Fa("streamContent",!1),Fa("transparent",!0)]),MZ=yo(O1),PZ=ei,H$=yo(Wy.concat([ni("height")])),LZ=yo([Gi("url"),lv("zoom"),lv("cachedWidth"),lv("cachedHeight")]),NZ=um.concat([ni("inputMode"),ni("placeholder"),Fa("maximized",!1),$u,Yr("context","mode:design")]),IZ=yo(NZ),BZ=ei,xR=t=>[oi,lk,t,Ql("align","start",["start","center","end"]),ni("for")],z$=[Qm,x0],SR=[Qm,el("items",vg("items",()=>mx))],mx=gg([yo(z$),yo(SR)]),jy=um.concat([el("items",mx),$u,Yr("context","mode:design")]),$Z=yo(jy),V$=ei,FZ=um.concat([VS("items",[Qm,x0]),Fp("size",1),$u,Yr("context","mode:design")]),Zy=yo(FZ),HZ=ei,fk=um.concat([Fa("constrain",!0),$u,Yr("context","mode:design")]),ER=yo(fk),U$=yo([Gi("width"),Gi("height")]),zZ=Wy.concat([lk,Fp("min",0),Fp("max",0)]),VZ=yo(zZ),_R=Jw,UZ=[oi,el("header",ei),el("cells",Bc(ei))],WZ=yo(UZ),jZ=um.concat([ni("placeholder"),Fa("maximized",!1),$u,Yr("context","mode:design"),mb("spellcheck")]),W$=yo(jZ),TR=ei,ZZ=[Yr("buttonType","default"),ni("text"),ni("tooltip"),ni("icon"),Fc("search",!1,gg([ns,yo([ni("placeholder")])],t=>ke(t)?t?B.some({placeholder:B.none()}):B.none():B.some(t))),wu("fetch"),Zs("onSetup",()=>oe),Yr("context","mode:design")],j$=yo([oi,...ZZ]),Z$=t=>Kr("menubutton",j$,t),kR=[yu("type",["directory","leaf"]),pR,Gi("id"),ld("menu",j$),ni("customStateIcon"),ni("customStateIconTooltip")],mk=yo(kR),q$=kR.concat([el("children",vg("children",()=>pg("type",{directory:AR,leaf:mk})))]),AR=yo(q$),qZ=pg("type",{directory:AR,leaf:mk}),GZ=[oi,el("items",qZ),jd("onLeafAction"),jd("onToggleExpand"),yh("defaultExpandedIds",[],ei),ni("defaultSelectedId")],G$=yo(GZ),OR=um.concat([Ql("filetype","file",["image","media","file"]),$u,ni("picker_text"),Yr("context","mode:design")]),KZ=yo(OR),YZ=yo([x0,fx]),DR=t=>ca("items","items",id(),Bc(vh(s=>Kr(`Checking item of ${t}`,RR,s).fold(i=>Un.error(bh(i)),i=>Un.value(i))))),RR=bu(()=>pg("type",{alertbanner:aZ,bar:yo(cZ(DR("bar"))),button:B$,checkbox:uZ,colorinput:gZ,colorpicker:vZ,dropzone:kZ,grid:yo(OZ(DR("grid"))),iframe:MZ,input:IZ,listbox:$Z,selectbox:Zy,sizeinput:ER,slider:VZ,textarea:W$,urlinput:KZ,customeditor:wZ,htmlpanel:RZ,imagepreview:H$,collection:fZ,label:yo(xR(DR("label"))),table:WZ,tree:G$,panel:K$})),XZ=[oi,ct("classes",[]),el("items",RR)],K$=yo(XZ),JZ=[E0("tab"),pR,el("items",RR)],MR=[oi,VS("tabs",JZ)],QZ=yo(MR),PR=wR,eq=_Z,tq=yo([Gi("title"),Jl("body",pg("type",{panel:K$,tabpanel:QZ})),Yr("size","normal"),yh("buttons",[],eq),ct("initialData",{}),Zs("onAction",oe),Zs("onChange",oe),Zs("onSubmit",oe),Zs("onClose",oe),Zs("onCancel",oe),Zs("onTabChange",oe)]),LR=t=>Kr("dialog",tq,t),nq=yo([yu("type",["cancel","custom"]),...PR]),oq=yo([Gi("title"),Gi("url"),lv("height"),lv("width"),a2("buttons",nq),Zs("onAction",oe),Zs("onCancel",oe),Zs("onClose",oe),Zs("onMessage",oe)]),Y$=t=>Kr("dialog",oq,t),NR=t=>Z(t)?[t].concat(Re(zn(t),NR)):ee(t)?Re(t,NR):[],sq=t=>$(t.type)&&$(t.name),rq={checkbox:dZ,colorinput:pZ,colorpicker:bZ,dropzone:AZ,input:BZ,iframe:PZ,imagepreview:LZ,selectbox:HZ,sizeinput:U$,slider:_R,listbox:V$,size:U$,textarea:TR,urlinput:YZ,customeditor:CZ,collection:mZ,togglemenuitem:SZ},iq=t=>B.from(rq[t.type]),aq=t=>_o(NR(t),sq),cq=t=>{const s=aq(t),i=Re(s,l=>iq(l).fold(()=>[],m=>[Jl(l.name,m)]));return yo(i)},X$=t=>{var s;const i=cd(LR(t)),l=cq(t),m=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:i,dataValidator:l,initialData:m}},D1={open:(t,s)=>{const i=X$(s);return t(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(t,s)=>{const i=cd(Y$(s));return t(i)},redial:t=>X$(t)},IR=yo([oi,T1]),lq=t=>Kr("separatormenuitem",IR,t),uq=yo([k1("autocompleteitem"),Uy,$u,fx,x0,T1,ff]),dq=t=>Kr("Autocompleter.Separator",IR,t),fq=t=>Kr("Autocompleter.Item",uq,t),qy=[$u,eh,ff,T1,S0,Yr("context","mode:design")],mq=yo([oi,zy,yR].concat(qy)),hk=t=>Kr("toolbarbutton",mq,t),gk=[Uy].concat(qy),J$=yo(gk.concat([oi,zy,yR])),pk=t=>Kr("ToggleButton",J$,t),vk=[Zs("predicate",Ct),Ql("scope","node",["node","editor"]),Ql("position","selection",["node","selection","line"])],Q$=qy.concat([k1("contextformbutton"),Yr("align","end"),dx,zy,Xa("original",Ot)]),hq=gk.concat([k1("contextformbutton"),Yr("align","end"),dx,zy,Xa("original",Ot)]),gq=qy.concat([k1("contextformbutton")]),pq=gk.concat([k1("contextformtogglebutton")]),vq=$c("type",{contextformbutton:Q$,contextformtogglebutton:hq}),hx=[Vy,el("commands",vq),ld("launch",$c("type",{contextformbutton:gq,contextformtogglebutton:pq})),Zs("onInput",oe),Zs("onSetup",oe)],lp=[...vk,...hx,yu("type",["contextform"]),Zs("initValue",k("")),ni("placeholder")],bq=[...vk,...hx,yu("type",["contextsliderform"]),Zs("initValue",k(0)),Zs("min",k(0)),Zs("max",k(100))],gx=[...vk,...hx,yu("type",["contextsizeinputform"]),Zs("initValue",k({width:"",height:""}))],yq=$c("type",{contextform:lp,contextsliderform:bq,contextsizeinputform:gx}),BR=t=>Kr("ContextForm",yq,t),wq=qy.concat([k1("contexttoolbarbutton")]),Cq=yo([k1("contexttoolbar"),Sl("launch",wq),Jl("items",gg([ei,db([ni("name"),ni("label"),el("items",ei)])]))].concat(vk)),xq=t=>({name:t.name.getOrUndefined(),label:t.label.getOrUndefined(),items:t.items}),e6=t=>({...t,launch:t.launch.getOrUndefined(),items:$(t.items)?t.items:Tt(t.items,xq)}),Sq=t=>Kr("ContextToolbar",Cq,t),$R=[oi,Gi("src"),ni("alt"),yh("classes",[],ei)],FR=yo($R),HR=[oi,Qm,vR,yh("classes",["tox-collection__item-label"],ei)],Eq=yo(HR),Fu=bu(()=>pg("type",{cardimage:FR,cardtext:Eq,cardcontainer:_q})),_q=yo([oi,Yr("direction","horizontal"),Yr("align","left"),Yr("valign","middle"),el("items",Fu)]),Tq=yo([oi,Vy,el("items",Fu),S0,cp].concat(A1)),t6=t=>Kr("cardmenuitem",Tq,t),n6=yo([oi,Uy,ff,Vy].concat(A1)),kq=t=>Kr("choicemenuitem",n6,t),zR=[oi,Gi("fancytype"),cp],Aq=[ct("initData",{})].concat(zR),Oq=[jd("select"),l2("initData",{},[Fa("allowCustomColors",!0),Yr("storageKey","default"),a2("colors",en())])].concat(zR),Dq=[jd("select"),Om("initData",[cv("columns"),yh("items",[],en())])].concat(zR),Rq=$c("fancytype",{inserttable:Aq,colorswatch:Oq,imageselect:Dq}),Mq=t=>Kr("fancymenuitem",Rq,t),o6=yo([oi,Uy,L$,Vy,eh].concat(A1)),Pq=yo([oi,Uy,lx,lk,eh,x0].concat(A1)),Lq=t=>Kr("imagemenuitem",o6,t),Nq=t=>Kr("resetimageitem",Pq,t),s6=yo([oi,S0,cp,ff].concat(A1)),VR=t=>Kr("menuitem",s6,t),UR=yo([oi,tZ,S0,ff].concat(A1)),Iq=t=>Kr("nestedmenuitem",UR,t),WR=yo([oi,ff,Uy,S0,zy].concat(A1)),Gy=t=>Kr("togglemenuitem",WR,t),r6=yo([ff,eh,Zs("onShow",oe),Zs("onHide",oe),S0]),i6=t=>Kr("sidebar",r6,t),a6=yo([oi,Jl("items",gg([db([ck,el("items",ei)]),ei]))].concat(qy)),Bq=t=>Kr("GroupToolbarButton",a6,t),$q=yo([oi,eh,oZ,ff,T1,sZ,ux,S0,Ql("presets","normal",["normal","color","listpreview"]),N$(1),zy,nZ,Yr("context","mode:design")]),bk=t=>Kr("SplitButton",$q,t),c6=[T1,ff,ni("tooltip"),Ql("buttonType","secondary",["primary","secondary"]),Fa("borderless",!1),wu("onAction"),Yr("context","mode:design")],Fq=[...c6,Qm,yu("type",["button"])],l6=[...c6,Fa("active",!1),yu("type",["togglebutton"])],jR={button:Fq,togglebutton:l6},ZR=[yu("type",["group"]),yh("buttons",[],$c("type",jR))],u6=$c("type",{...jR,group:ZR}),Rl=yo([yh("buttons",[],u6),wu("onShow"),wu("onHide")]),d6=t=>Kr("view",Rl,t),qR=(t,s,i)=>{const l=qi(t.element,"."+i);if(l.length>0){const m=Xt(l,v=>{const y=v.dom.getBoundingClientRect().top,T=l[0].dom.getBoundingClientRect().top;return Math.abs(y-T)>s}).getOr(l.length);return B.some({numColumns:m,numRows:Math.ceil(l.length/m)})}else return B.none()},f6=(t,s)=>un([Ao(t,s)]),px={namedEvents:f6,unnamedEvents:t=>f6(Tn("unnamed-events"),t)},Ed={item:t=>Kn.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>Kn.config({disabled:t}),splitButton:t=>Kn.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>Kn.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Ky=(t,s)=>{const i=t.getApi(s);return l=>{l(i)}},_d=(t,s)=>pr(i=>{ue(t.onBeforeSetup)&&t.onBeforeSetup(i),Ky(t,i)(m=>{const v=t.onSetup(m);ue(v)&&s.set(v)})}),dp=(t,s)=>Qd(i=>Ky(t,i)(s.get())),GR=(t,s,i)=>Qd(l=>(i.set(An.getValue(l)),Ky(t,l)(s.get()))),m6="silver.uistate",vx="setDisabled",Vq="setEnabled",h6="init",Uq=["switchmode",h6],Yy=(t,s)=>{const i=t.mainUi.outerContainer,l=[t.mainUi.mothership,...t.uiMotherships];s===vx&&rn(l,m=>{m.broadcastOn([zm()],{target:i.element})}),rn(l,m=>{m.broadcastOn([m6],s)})},g6=(t,s)=>{t.on("init SwitchMode",i=>{Yy(s,i.type)}),t.on("DisabledStateChange",i=>{if(!i.isDefaultPrevented()){const l=i.state?vx:h6;Yy(s,l),i.state||t.nodeChanged()}}),t.on("NodeChange",i=>{const l=t.ui.isEnabled()?i.type:vx;Yy(s,l)}),fa(t)&&t.mode.set("readonly")},Lr=t=>Du.config({channels:{[m6]:{onReceive:(s,i)=>{if(i===vx||i===Vq){Kn.set(s,i===vx);return}const{contextType:l,shouldDisable:m}=t();l==="mode"&&!Pn(Uq,i)||Kn.set(s,m)}}}}),yk=(t,s)=>Fm((i,l)=>{Ky(t,i)(t.onAction),!t.triggersSubmenu&&s===lm.CLOSE_ON_EXECUTE&&(i.getSystem().isConnected()&&ts(i,pb()),l.stop())}),Wq={[El()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Xy=Oc,R1=(t,s,i,l)=>{const m=Qt(oe);return{type:"item",dom:s.dom,components:Xy(s.optComponents),data:t.data,eventOrder:Wq,hasSubmenu:t.triggersSubmenu,itemBehaviours:un([Ao("item-events",[yk(t,i),_d(t,m),dp(t,m)]),Ed.item(()=>!t.enabled||l.checkUiComponentContext(t.context).shouldDisable),Lr(()=>l.checkUiComponentContext(t.context)),Mo.config({})].concat(t.itemBehaviours))}},M1=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),KR=(t,s)=>{var i,l;const m=pn.fromTag("div");Gs(m,"tox-image-selector-loading-spinner");const v=T=>{Gs(T,"tox-image-selector-loading-spinner-wrapper"),Zi(T,m)},y=T=>{zr(T,"tox-image-selector-loading-spinner-wrapper"),bl(m)};return{dom:{tag:t.tag,attributes:(i=t.attributes)!==null&&i!==void 0?i:{},classes:t.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:s},classes:["tox-image-selector-image-img"]}}]},...t.checkMark.toArray()],behaviours:un([...(l=t.behaviours)!==null&&l!==void 0?l:[],Ao("render-image-events",[pr(T=>{v(T.element),Fs(T.element,"img").each(A=>{yl(A).catch(L=>{console.error(L)}).finally(()=>{y(T.element)})})})])])}},wk=(t,s)=>KR(s,t),T0=t=>{const s=By.os.isMacOS()||By.os.isiOS(),m=s?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},v=t.split("+"),y=Tt(v,T=>{const A=T.toLowerCase().trim();return yn(m,A)?m[A]:T});return s?y.join(""):y.join("+")},k0=(t,s,i=[y$])=>xd(t,{tag:"div",classes:i},s),YR=t=>({dom:{tag:"div",classes:[tk]},components:[Mr(Ai.translate(t))]}),XR=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),JR=(t,s)=>({dom:{tag:"div",classes:[tk]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Mr(Ai.translate(s))]}]}),QR=t=>({dom:{tag:"div",classes:[jj]},components:[Mr(T0(t))]}),eM=t=>k0("checkmark",t,[Zj]),jq=t=>k0("chevron-right",t,[C$]),p6=t=>k0("chevron-down",t,[C$]),v6=(t,s)=>{const i=t.direction==="vertical"?S$:y0,l=t.align==="left"?Gj:qj;return{dom:{tag:"div",classes:[x$,i,l,(()=>{switch(t.valign){case"top":return Kj;case"middle":return nk;case"bottom":return df}})()]},components:s}},Zq=(t,s,i)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:i.getOr("")}}}),b6=(t,s,i)=>{const l="custom",m="remove",v=t.value,y=t.iconContent.map(L=>Ij(L,s.icons,i)),T=t.ariaLabel.map(L=>({"aria-label":s.translate(L),"data-mce-name":L})).getOr({});return{dom:(()=>{const L=ek,z=y.getOr(""),j={tag:"div",attributes:T,classes:[L]};return v===l?{...j,tag:"button",classes:[...j.classes,"tox-swatches__picker-btn"],innerHtml:z}:v===m?{...j,classes:[...j.classes,"tox-swatch--remove"],innerHtml:z}:ve(v)?{...j,attributes:{...j.attributes,"data-mce-color":v},styles:{"background-color":v},innerHtml:z}:j})(),optComponents:[]}},Ck=(t,s)=>{const i=t.map(l=>({attributes:{id:Tn("menu-item"),"aria-label":Ai.translate(l)}})).getOr({});return{tag:"div",classes:[lR,QT].concat(s),...i}},y6=t=>({dom:{tag:"label"},components:[Mr(t)]}),w6=(t,s,i,l)=>{const m={tag:"div",classes:[y$]},v=Q=>xd(Q,m,s.icons,l),y=()=>B.some({dom:m}),T=i?t.iconContent.map(v).orThunk(y):B.none(),A=t.checkMark,L=B.from(t.meta).fold(()=>YR,Q=>yn(Q,"style")?Je(JR,Q.style):YR),z=t.htmlContent.fold(()=>t.textContent.map(L),Q=>B.some(XR(Q,[tk])));return{dom:Ck(t.ariaLabel,[]),optComponents:[T,z,t.shortcutContent.map(QR),A,t.caret,t.labelContent.map(y6)]}},qq=t=>({dom:Ck(t.ariaLabel,[w$]),optComponents:[B.some(wk(t.iconContent.getOrDie(),{tag:"div",classes:[Wj],checkMark:t.checkMark})),t.labelContent.map(y6)]}),A0=(t,s,i,l=B.none())=>t.presets==="color"?b6(t,s,l):t.presets==="img"?qq(t):w6(t,s,i,l),P1=(t,s,i)=>_t(t,"tooltipWorker").map(l=>[Pr.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:m=>({type:"submenu",item:m,overrides:{maxHeightFunction:Pg}}),mode:"follow-highlight",onShow:(m,v)=>{l(y=>{Pr.setComponents(m,[D_({element:pn.fromDom(y)})])})}})]).getOrThunk(()=>i.map(l=>[Pr.config({...s.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),Gq=t=>ex.DOM.encode(t),tM=(t,s)=>{const i=Ai.translate(t),l=Gq(i);if(s.length>0){const m=new RegExp(xf(s),"gi");return l.replace(m,v=>`<span class="tox-autocompleter-highlight">${v}</span>`)}else return l},Kq=(t,s,i,l,m,v,y,T=!0)=>{const A=A0({presets:l,textContent:B.none(),htmlContent:i?t.text.map(z=>tM(z,s)):B.none(),ariaLabel:t.text,labelContent:B.none(),iconContent:t.icon,shortcutContent:B.none(),checkMark:B.none(),caret:B.none(),value:t.value},y.providers,T,t.icon),L=t.text.filter(z=>!i&&z!=="");return R1({context:"mode:design",data:M1(t),enabled:t.enabled,getApi:k({}),onAction:z=>m(t.value,t.meta),onSetup:k(oe),triggersSubmenu:!1,itemBehaviours:P1(t,y,L)},A,v,y.providers)},C6=(t,s)=>Tt(t,i=>{switch(i.type){case"cardcontainer":return v6(i,C6(i.items,s));case"cardimage":return Zq(i.src,i.classes,i.alt);case"cardtext":const m=i.name.exists(v=>Pn(s.cardText.highlightOn,v))?B.from(s.cardText.matchText).getOr(""):"";return XR(tM(i.text,m),i.classes)}}),Yq=(t,s,i,l)=>{const m=y=>({isEnabled:()=>!Kn.isDisabled(y),setEnabled:T=>{Kn.set(y,!T),rn(qi(y.element,"*"),A=>{y.getSystem().getByDom(A).each(L=>{L.hasConfigured(Kn)&&Kn.set(L,!T)})})}}),v={dom:Ck(t.label,[]),optComponents:[B.some({dom:{tag:"div",classes:[x$,y0]},components:C6(t.items,l)})]};return R1({context:"mode:design",data:M1({text:B.none(),...t}),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:B.from(l.itemBehaviours).getOr([])},v,s,i.providers)},x6=(t,s,i,l,m,v,y,T=!0)=>{const A=j=>({setActive:Q=>{us.set(j,Q)},isActive:()=>us.isOn(j),isEnabled:()=>!Kn.isDisabled(j),setEnabled:Q=>Kn.set(j,!Q)}),L=A0({presets:i,textContent:s?t.text:B.none(),htmlContent:B.none(),labelContent:t.label,ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:B.none(),checkMark:s?B.some(eM(y.icons)):B.none(),caret:B.none(),value:t.value},y,T),z=t.text.filter(k(!s)).map(j=>Pr.config(y.tooltips.getConfig({tooltipText:y.translate(j)})));return Is(R1({context:t.context,data:M1(t),enabled:t.enabled,getApi:A,onAction:j=>l(t.value),onSetup:j=>(j.setActive(m),oe),triggersSubmenu:!1,itemBehaviours:[...z.toArray()]},L,v,y),{toggling:{toggleClass:uR,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},nM=t=>({value:th(t)}),S6=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,oM=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,xk=t=>S6.test(t)||oM.test(t),th=t=>Ld(t,"#").toUpperCase(),sM=t=>xk(t)?B.some({value:th(t)}):B.none(),E6=t=>({value:t.value.replace(S6,(i,l,m,v)=>l+l+m+m+v+v)}),_6=t=>{const s=E6(t),i=oM.exec(s.value);return i===null?["FFFFFF","FF","FF","FF"]:i},bx=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},Jy=t=>{const s=bx(t.red)+bx(t.green)+bx(t.blue);return nM(s)},L1=(t,s,i)=>({hue:t,saturation:s,value:i}),Sk=t=>{let s=0,i=0,l=0;const m=t.red/255,v=t.green/255,y=t.blue/255,T=Math.min(m,Math.min(v,y)),A=Math.max(m,Math.max(v,y));if(T===A)return l=T,L1(0,0,l*100);const L=m===T?v-y:y===T?m-v:y-m;return s=m===T?3:y===T?1:5,s=60*(s-L/(A-T)),i=(A-T)/A,l=A,L1(Math.round(s),Math.round(i*100),Math.round(l*100))},rM=Math.min,T6=Math.max,Ek=Math.round,Xq=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Jq=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,O0=(t,s,i,l)=>({red:t,green:s,blue:i,alpha:l}),_k=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},iM=t=>{let s,i,l;const m=(t.hue||0)%360;let v=t.saturation/100,y=t.value/100;if(v=T6(0,rM(v,1)),y=T6(0,rM(y,1)),v===0)return s=i=l=Ek(255*y),O0(s,i,l,1);const T=m/60,A=y*v,L=A*(1-Math.abs(T%2-1)),z=y-A;switch(Math.floor(T)){case 0:s=A,i=L,l=0;break;case 1:s=L,i=A,l=0;break;case 2:s=0,i=A,l=L;break;case 3:s=0,i=L,l=A;break;case 4:s=L,i=0,l=A;break;case 5:s=A,i=0,l=L;break;default:s=i=l=0}return s=Ek(255*(s+z)),i=Ek(255*(i+z)),l=Ek(255*(l+z)),O0(s,i,l,1)},yx=t=>{const s=_6(t),i=parseInt(s[1],16),l=parseInt(s[2],16),m=parseInt(s[3],16);return O0(i,l,m,1)},k6=(t,s,i,l)=>{const m=parseInt(t,10),v=parseInt(s,10),y=parseInt(i,10),T=parseFloat(l);return O0(m,v,y,T)},aM=t=>{const s=Xq.exec(t);if(s!==null)return B.some(k6(s[1],s[2],s[3],"1"));const i=Jq.exec(t);return i!==null?B.some(k6(i[1],i[2],i[3],i[4])):B.none()},wx=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,A6=O0(255,0,0,1),Qq=t=>Sk(yx(t)),cM=t=>Jy(iM(t)),O6=t=>sM(t).orThunk(()=>aM(t).map(Jy)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const i=s.getContext("2d");i.clearRect(0,0,s.width,s.height),i.fillStyle="#FFFFFF",i.fillStyle=t,i.fillRect(0,0,1,1);const l=i.getImageData(0,0,1,1).data,m=l[0],v=l[1],y=l[2],T=l[3];return Jy(O0(m,v,y,T))}),eG=t=>{t.dispatch("SkinLoaded")},tG=(t,s)=>{t.dispatch("SkinLoadError",s)},lM=t=>{t.dispatch("ResizeEditor")},uM=(t,s)=>{t.dispatch("ResizeContent",s)},D6=(t,s)=>{t.dispatch("ScrollContent",s)},R6=(t,s)=>{t.dispatch("TextColorChange",s)},nG=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},oG=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),M6=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},dM=(t,s)=>{t.dispatch("StylesTextUpdate",s)},sG=(t,s)=>{t.dispatch("AlignTextUpdate",s)},rG=(t,s)=>{t.dispatch("FontSizeTextUpdate",s)},iG=(t,s)=>{t.dispatch("FontSizeInputTextUpdate",s)},aG=(t,s)=>{t.dispatch("BlocksTextUpdate",s)},P6=(t,s)=>{t.dispatch("FontFamilyTextUpdate",s)},L6=t=>{t.dispatch("ToggleSidebar")},N6=t=>{t.dispatch("ToggleView")},I6=t=>{t.dispatch("ContextToolbarClose")},cG=t=>{t.dispatch("ContextFormSlideBack")},Tk=(t,s)=>()=>{t(),s()},al=(t,s=Nt)=>D0(t,"NodeChange",i=>{i.setEnabled(t.selection.isEditable()&&s())}),lG=(t,s)=>i=>{const l=xr(),m=()=>{i.setActive(t.formatter.match(s));const v=t.formatter.formatChanged(s,i.setActive);l.set(v)};return t.initialized?m():t.once("init",m),()=>{t.off("init",m),l.clear()}},kk=(t,s)=>i=>{const l=al(t)(i),m=lG(t,s)(i);return()=>{l(),m()}},D0=(t,s,i)=>l=>{const m=()=>i(l),v=()=>{i(l),t.on(s,m)};return t.initialized?v():t.once("init",v),()=>{t.off("init",v),t.off(s,m)}},B6=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Hu=(t,s)=>()=>t.execCommand(s);var fp=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const $6={},uG=(t,s=10)=>{const i=fp.getItem(t),l=$(i)?JSON.parse(i):[],v=(L=>s-L.length<0?L.slice(0,s):L)(l),y=L=>{Ue(v,L).each(T),v.unshift(L),v.length>s&&v.pop(),fp.setItem(t,JSON.stringify(v))},T=L=>{v.splice(L,1)};return{add:y,state:()=>v.slice(0)}},F6=t=>_t($6,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,i=fp.getItem(s);if(be(i)){const m=fp.getItem("tinymce-custom-colors");fp.setItem(s,ve(m)?m:"[]")}const l=uG(s,10);return $6[t]=l,l}),Cx=t=>Tt(F6(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),Ak=(t,s)=>{F6(t).add(s)},fM="forecolor",mM="hilitecolor",hM=5,dG=t=>Ok(t.map((s,i)=>i%2===0?"#"+O6(s).value:s)),Ok=t=>{const s=[];for(let i=0;i<t.length;i+=2)s.push({text:t[i+1],value:t[i],icon:"checkmark",type:"choiceitem"});return s},dm=t=>s=>s.options.get(t),gM="#000000",fG=t=>{const s=t.options.register,i=v=>Le(v,$)?{value:dG(v),valid:!0}:{valid:!1,message:"Must be an array of strings."},l=v=>Le(v,$)?{value:Ok(v),valid:!0}:{valid:!1,message:"Must be an array of strings."},m=v=>Be(v)&&v>0?{value:v,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:i,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_raw",{processor:l}),s("color_map_background",{processor:i}),s("color_map_foreground",{processor:i}),s("color_cols",{processor:m,default:pM(t)}),s("color_cols_foreground",{processor:m,default:vM(t,fM)}),s("color_cols_background",{processor:m,default:vM(t,mM)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:gM}),s("color_default_background",{processor:"string",default:gM})},xx=(t,s)=>s===fM&&t.options.isSet("color_map_foreground")?dm("color_map_foreground")(t):s===mM&&t.options.isSet("color_map_background")?dm("color_map_background")(t):t.options.isSet("color_map_raw")?dm("color_map_raw")(t):dm("color_map")(t),pM=(t,s="default")=>Math.max(hM,Math.ceil(Math.sqrt(xx(t,s).length))),vM=(t,s)=>{const i=dm("color_cols")(t),l=pM(t,s);return i===pM(t)?l:i},H6=(t,s="default")=>Math.round(s===fM?dm("color_cols_foreground")(t):s===mM?dm("color_cols_background")(t):dm("color_cols")(t)),bM=dm("custom_colors"),z6=dm("color_default_foreground"),mG=dm("color_default_background"),V6="rgba(0, 0, 0, 0)",U6=t=>aM(t).exists(s=>s.alpha!==0),hG=t=>Kl(t,s=>{if(ya(s)){const i=gr(s,"background-color");return ti(U6(i),i)}else return B.none()}).getOr(V6),Dk=(t,s)=>{const i=pn.fromDom(t.selection.getStart()),l=s==="hilitecolor"?hG(i):gr(i,"color");return aM(l).map(m=>"#"+Jy(m).value)},W6=(t,s,i)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:i}),t.nodeChanged()})},yM=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},gG=t=>{t.addCommand("mceApplyTextcolor",(s,i)=>{W6(t,s,i)}),t.addCommand("mceRemoveTextcolor",s=>{yM(t,s)})},j6=t=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},Rk=(t,s,i,l)=>{i==="custom"?Pk(t)(v=>{v.each(y=>{Ak(s,y),t.execCommand("mceApplyTextcolor",s,y),l(y)})},Dk(t,s).getOr(gM)):i==="remove"?(l(""),t.execCommand("mceRemoveTextcolor",s)):(l(i),t.execCommand("mceApplyTextcolor",s,i))},wM=(t,s,i)=>t.concat(Cx(s).concat(j6(i))),CM=(t,s,i)=>l=>{l(wM(t,s,i))},xM=(t,s,i)=>{const l=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(l,i)},Z6=(t,s)=>{t.setTooltip(s)},Mk=(t,s)=>i=>{const l=Dk(t,s);return La(l,i.toUpperCase())},SM=(t,s,i)=>{if(Pi(i))return s==="forecolor"?"Text color":"Background color";const l=s==="forecolor"?"Text color {0}":"Background color {0}",m=wM(xx(t,s),s,!1),v=ut(m,y=>y.value===i).getOr({text:""}).text;return t.translate([l,t.translate(v)])},q6=(t,s,i,l)=>{t.ui.registry.addSplitButton(s,{tooltip:SM(t,i,l.get()),chevronTooltip:s==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:Mk(t,i),columns:H6(t,i),fetch:CM(xx(t,i),i,bM(t)),onAction:m=>{Rk(t,i,l.get(),oe)},onItemAction:(m,v)=>{Rk(t,i,v,y=>{l.set(y),R6(t,{name:s,color:y})})},onSetup:m=>{xM(m,s,l.get());const v=y=>{y.name===s&&(xM(m,y.name,y.color),Z6(m,SM(t,i,y.color)))};return t.on("TextColorChange",v),Tk(al(t)(m),()=>{t.off("TextColorChange",v)})}})},G6=(t,s,i,l,m)=>{t.ui.registry.addNestedMenuItem(s,{text:l,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(Z6(v,SM(t,i,m.get())),xM(v,s,m.get()),al(t)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:Mk(t,i),initData:{storageKey:i},onAction:v=>{Rk(t,i,v.value,y=>{m.set(y),R6(t,{name:s,color:y})})}}]})},Pk=t=>(s,i)=>{let l=!1;const m=T=>{const L=T.getData().colorpicker;l?(s(B.from(L)),T.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",L]))},v=(T,A)=>{A.name==="hex-valid"&&(l=A.value)},y={colorpicker:i};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:y,onAction:v,onSubmit:m,onClose:oe,onCancel:()=>{s(B.none())}})},pG=t=>{gG(t);const s=z6(t),i=mG(t),l=Qt(s),m=Qt(i);q6(t,"forecolor","forecolor",l),q6(t,"backcolor","hilitecolor",m),G6(t,"forecolor","forecolor","Text color",l),G6(t,"backcolor","hilitecolor","Background color",m)},K6=(t,s,i,l,m)=>{const v=A=>({setActive:L=>{us.set(A,L)},isActive:()=>us.isOn(A),isEnabled:()=>!Kn.isDisabled(A),setEnabled:L=>Kn.set(A,!L)}),y=A0({presets:"img",textContent:B.none(),htmlContent:B.none(),ariaLabel:t.tooltip,iconContent:B.some(t.url),labelContent:t.label,shortcutContent:B.none(),checkMark:B.some(eM(m.icons)),caret:B.none(),value:t.value},m,!0),T=t.tooltip.map(A=>Pr.config(m.tooltips.getConfig({tooltipText:m.translate(A)})));return Is(R1({context:t.context,data:M1(t),enabled:t.enabled,getApi:v,onAction:A=>{s(t.value),A.setActive(!0)},onSetup:A=>(A.setActive(i),oe),triggersSubmenu:!1,itemBehaviours:[...T.toArray()]},y,l,m),{toggling:{toggleClass:uR,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},Lk=(t,s,i,l,m,v,y,T)=>{const A=C0(s),z=Y6(s,i,l,m!=="color"?"normal":"color",v,y,T);return ap(t,A,z,l,{menuType:m})},Y6=(t,s,i,l,m,v,y)=>Oc(Tt(t,T=>T.type==="choiceitem"?kq(T).fold(Jm,A=>B.some(x6(A,i===1,l,s,v(A.value),m,y,C0(t)))):T.type==="imageitem"?Lq(T).fold(Jm,A=>B.some(K6(A,s,v(A.value),m,y))):T.type==="resetimage"?Nq(T).fold(Jm,A=>B.some(x6({...A,text:A.tooltip,icon:B.some(A.icon),label:B.some(A.label)},i===1,l,s,v(A.value),m,y,C0(t)))):B.none())),Sx=(t,s)=>{const i=_1(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[s],previousSelector:m=>s==="color"?Fs(m.element,"[aria-checked=true]"):B.none()}},vG=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${ek}`:`.${QT}`}},bG=(t,s)=>{const i=yG(t,s),l=s.colorinput.getColorCols(t.initData.storageKey),m="color",y={...Lk(Tn("menu-value"),i,T=>{t.onAction({value:T})},l,m,lm.CLOSE_ON_EXECUTE,t.select.getOr(Ct),s.shared.providers),markers:_1(m),movement:Sx(l,m),showMenuRole:!1};return{type:"widget",data:{value:Tn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[pT.widget(ep.sketch(y))]}},yG=(t,s)=>{const i=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>wM(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,i),l=>l.concat(j6(i)))},wG=(t,s)=>{const i="imageselector",l=t.initData.columns,v={...Lk(Tn("menu-value"),t.initData.items,y=>{t.onAction({value:y})},l,i,lm.CLOSE_ON_EXECUTE,t.select.getOr(Ct),s.shared.providers),markers:_1(i),movement:Sx(l,i),showMenuRole:!1};return{type:"widget",data:{value:Tn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[pT.widget(ep.sketch(v))]}},EM=Tn("cell-over"),X6=Tn("cell-execute"),CG=t=>(s,i)=>t.shared.providers.translate(["{0} columns, {1} rows",i,s]),J6=(t,s,i)=>{const l=y=>so(y,EM,{row:t,col:s}),m=y=>so(y,X6,{row:t,col:s}),v=(y,T)=>{T.stop(),m(y)};return w({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:un([Ao("insert-table-picker-cell",[At(ud(),Ro.focus),At(El(),m),At(If(),v),At(Eg(),v)]),us.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Ro.config({onFocus:l})])})},xG=(t,s,i)=>{const l=[];for(let m=0;m<s;m++){const v=[];for(let y=0;y<i;y++){const T=t(m+1,y+1);v.push(J6(m,y,T))}l.push(v)}return l},SG=(t,s,i,l,m)=>{for(let v=0;v<l;v++)for(let y=0;y<m;y++)us.set(t[v][y],v<=s&&y<=i)},EG=t=>Re(t,s=>Tt(s,_)),_M=(t,s)=>Mr(`${s}x${t}`),_G={inserttable:(t,s)=>{const m=CG(s),v=xG(m,10,10),y=_M(0,0),T=Es({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[y],behaviours:un([Mo.config({})])});return{type:"widget",data:{value:Tn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[pT.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:EG(v).concat(T.asSpec()),behaviours:un([Ao("insert-table-picker",[pr(A=>{Mo.set(T.get(A),[y])}),Ng(EM,(A,L,z)=>{const{row:j,col:Q}=z.event;SG(v,j,Q,10,10),Mo.set(T.get(A),[_M(j+1,Q+1)])}),Ng(X6,(A,L,z)=>{const{row:j,col:Q}=z.event;ts(A,pb()),t.onAction({numRows:j+1,numColumns:Q+1})})]),Jn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:bG,imageselect:wG},TG=(t,s)=>_t(_G,t.fancytype).map(i=>i(t,s)),Q6=(t,s,i,l=!0,m=!1)=>{const v=m?p6(i.icons):jq(i.icons),y=A=>({isEnabled:()=>!Kn.isDisabled(A),setEnabled:L=>Kn.set(A,!L),setIconFill:(L,z)=>{Fs(A.element,`svg path[class="${L}"], rect[class="${L}"]`).each(j=>{lo(j,"fill",z)})},setTooltip:L=>{const z=i.translate(L);lo(A.element,"aria-label",z)}}),T=A0({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,labelContent:B.none(),caret:B.some(v),checkMark:B.none(),shortcutContent:t.shortcut},i,l);return R1({context:t.context,data:M1(t),getApi:y,enabled:t.enabled,onAction:oe,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},T,s,i)},eF=(t,s,i,l=!0)=>{const m=y=>({isEnabled:()=>!Kn.isDisabled(y),setEnabled:T=>Kn.set(y,!T)}),v=A0({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:B.none(),labelContent:B.none(),ariaLabel:t.text,caret:B.none(),checkMark:B.none(),shortcutContent:t.shortcut},i,l);return R1({context:t.context,data:M1(t),getApi:m,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},v,s,i)},tF=t=>({type:"separator",dom:{tag:"div",classes:[QT,Uj]},components:t.text.map(Mr).toArray()}),Nk=(t,s,i,l=!0)=>{const m=y=>({setActive:T=>{us.set(y,T)},isActive:()=>us.isOn(y),isEnabled:()=>!Kn.isDisabled(y),setEnabled:T=>Kn.set(y,!T)}),v=A0({iconContent:t.icon,textContent:t.text,htmlContent:B.none(),labelContent:B.none(),ariaLabel:t.text,checkMark:B.some(eM(i.icons)),caret:B.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},i,l);return Is(R1({context:t.context,data:M1(t),enabled:t.enabled,getApi:m,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},v,s,i),{toggling:{toggleClass:uR,toggleOnExecute:!1,selected:t.active},role:t.role.getOrUndefined()})},nF=Kq,oF=tF,kG=eF,sF=Q6,AG=Nk,OG=TG,DG=Yq,RG=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},rF=t=>{const s=An.getValue(t),i=cx(t).map(mR);Pu.refetch(s).get(()=>{const l=Wo.getCoupled(s,"sandbox");i.each(m=>cx(l).each(v=>A$(v,m)))})},MG=(t,s)=>{PG(t).each(i=>{OO(t,i.element,s.event.eventType,s.event.interactionEvent)})},PG=t=>Ss.getState(t).bind(As.getHighlighted).bind(As.getHighlighted),LG=t=>ui(t.element,sk)?B.some(t.element):Fs(t.element,"."+sk),TM=(t,s,i)=>{k$(t).each(l=>{O$(l,i),LG(s).each(v=>{ia(v,"id").each(y=>lo(l.element,"aria-controls",y))})}),lo(i.element,"aria-selected","true")},iF=(t,s,i)=>{lo(i.element,"aria-selected","false")},NG=t=>{k$(t).each(s=>Ro.focus(s))},IG=t=>Wo.getExistingCoupled(t,"sandbox").bind(cx).map(mR).map(i=>i.fetchPattern).getOr("");var Ex;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(Ex||(Ex={}));const BG=(t,s,i,l,m)=>{const v=i.shared.providers,y=T=>m?{...T,shortcut:B.none(),icon:T.text.isSome()?B.none():T.icon}:T;switch(t.type){case"menuitem":return VR(t).fold(Jm,T=>B.some(kG(y(T),s,v,l)));case"nestedmenuitem":return Iq(t).fold(Jm,T=>B.some(sF(y(T),s,v,l,m)));case"togglemenuitem":return Gy(t).fold(Jm,T=>B.some(AG(y(T),s,v,l)));case"separator":return lq(t).fold(Jm,T=>B.some(oF(T)));case"fancymenuitem":return Mq(t).fold(Jm,T=>OG(T,i));default:return console.error("Unknown item in general menu",t),B.none()}},$G=(t,s,i,l,m,v,y)=>{const T=l===1,A=!T||C0(t);return Oc(Tt(t,L=>{switch(L.type){case"separator":return dq(L).fold(Jm,z=>B.some(oF(z)));case"cardmenuitem":return t6(L).fold(Jm,z=>B.some(DG({...z,onAction:j=>{z.onAction(j),i(z.value,z.meta)}},m,v,{itemBehaviours:P1(z.meta,v,B.none()),cardText:{matchText:s,highlightOn:y}})));case"autocompleteitem":default:return fq(L).fold(Jm,z=>B.some(nF(z,s,T,"normal",i,m,v,A)))}}))},To=(t,s,i,l,m,v)=>{const y=C0(s),T=Oc(Tt(s,z=>{const j=le=>m?!yn(le,"text"):y,Q=le=>BG(le,i,l,j(le),m);return z.type==="nestedmenuitem"&&z.getSubmenuItems().length<=0?Q({...z,enabled:!1}):Q(z)})),A=RG(v);return(m?eZ:ap)(t,y,T,1,A)},R0=t=>b1.singleData(t.value,t),aF=(t,s,i,l)=>{const m=Sx(s,l),v=_1(l);return{data:R0({...t,movement:m,menuBehaviours:px.unnamedEvents(s!=="auto"?[]:[pr((y,T)=>{qR(y,4,v.item).each(({numColumns:A,numRows:L})=>{Jn.setGridSize(y,L,A)})})])}),menu:{markers:_1(l),fakeFocus:i===Ex.ContentFocus}}},cF=t=>M.create(pn.fromDom(t.startContainer),t.startOffset,pn.fromDom(t.endContainer),t.endOffset),lF={register:(t,s)=>{const i=Tn("autocompleter"),l=Qt(!1),m=Qt(!1),v=go(),y=w(jr.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:un([Ao("dismissAutocompleter",[At(kg(),()=>j()),At(Ag(),(Te,$e)=>{ia($e.event.target,"id").each(Ve=>lo(pn.fromDom(t.getBody()),"aria-activedescendant",Ve))})])]),lazySink:s.getSink})),T=()=>jr.isOpen(y),A=m.get,L=()=>{if(T()){jr.hide(y),t.dom.remove(i,!1);const Te=pn.fromDom(t.getBody());ia(Te,"aria-owns").filter($e=>$e===i).each(()=>{hr(Te,"aria-owns"),hr(Te,"aria-activedescendant")})}},z=()=>jr.getContent(y).bind(Te=>st(Te.components(),0)),j=()=>t.execCommand("mceAutocompleterClose"),Q=Te=>{const $e=wo(Te,Ve=>B.from(Ve.columns)).getOr(1);return Re(Te,Ve=>{const mt=Ve.items;return $G(mt,Ve.matchText,(vt,kn)=>{const Yt={hide:()=>j(),reload:Jt=>{L(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:Jt})}};t.execCommand("mceAutocompleterRefreshActiveRange"),v.get().each(Jt=>{l.set(!0),Ve.onAction(Yt,Jt,vt,kn),l.set(!1)})},$e,lm.BUBBLE_TO_SANDBOX,s,Ve.highlightOn)})},le=(Te,$e)=>{const Ve=wo(Te,mt=>B.from(mt.columns)).getOr(1);jr.showMenuAt(y,{anchor:{type:"selection",getSelection:()=>v.get().map(cF),root:pn.fromDom(t.getBody())}},aF(ap("autocompleter-value",!0,$e,Ve,{menuType:"normal"}),Ve,Ex.ContentFocus,"normal")),z().each(As.highlightFirst)},ae=Te=>{const $e=Q(Te);$e.length>0?(le(Te,$e),lo(pn.fromDom(t.getBody()),"aria-owns",i),t.inline||_e()):L()},_e=()=>{t.dom.get(i)&&t.dom.remove(i,!1);const Te=t.getDoc().documentElement,$e=t.selection.getNode(),Ve=Y1(y.element);$r(Ve,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${$e.offsetTop}px`,left:`${$e.offsetLeft}px`}),t.dom.add(Te,Ve.dom),Fs(Ve,'[role="menu"]').each(mt=>{os(mt,"position"),os(mt,"max-height")})};t.on("AutocompleterStart",({lookupData:Te})=>{m.set(!0),l.set(!1),ae(Te)}),t.on("AutocompleterUpdate",({lookupData:Te})=>ae(Te)),t.on("AutocompleterUpdateActiveRange",({range:Te})=>v.set(Te)),t.on("AutocompleterEnd",()=>{L(),m.set(!1),l.set(!1),v.clear()});const Ne={cancelIfNecessary:j,isMenuOpen:T,isActive:A,isProcessingAction:l.get,getMenu:z};zj.setup(Ne,t)}},HG=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Tt(t.items,s.interpreter)});var uF=tinymce.util.Tools.resolve("tinymce.html.Entities");const _x=(t,s,i,l)=>{const m=VG(t,s,i,l);return Yo.sketch(m)},zG=(t,s)=>_x(t,s,[],[]),VG=(t,s,i,l)=>({dom:kM(i),components:t.toArray().concat([s]),fieldBehaviours:un(l)}),dF=()=>kM([]),kM=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),M0=(t,s)=>Yo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Mr(s.translate(t))]}),Ec=Tn("form-component-change"),Ik=Tn("form-component-input"),Qy=Tn("form-close"),N1=Tn("form-cancel"),Vh=Tn("form-action"),Tx=Tn("form-submit"),AM=Tn("form-block"),kx=Tn("form-unblock"),OM=Tn("form-tabchange"),DM=Tn("form-resize"),UG=(t,s,i)=>{const l=t.label.map(le=>M0(le,s)),m=s.icons(),v=le=>{var ae;return(ae=m[le])!==null&&ae!==void 0?ae:le},y=le=>(ae,_e)=>{Ba(_e.event.target,"[data-collection-item-value]").each(Ne=>{le(ae,_e,Ne,Ni(Ne,"data-collection-item-value"))})},T=(le,ae)=>{const Ne=s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()?" tox-collection__item--state-disabled":"",Te=Tt(ae,mt=>{const vt=Ai.translate(mt.text),kn=t.columns===1?`<div class="tox-collection__item-label">${vt}</div>`:"",Yt=`<div class="tox-collection__item-icon">${v(mt.icon)}</div>`,Jt={_:" "," - ":" ","-":" "},Wt=vt.replace(/\_| \- |\-/g,oo=>Jt[oo]);return`<div data-mce-tooltip="${Wt}" class="tox-collection__item${Ne}" tabindex="-1" data-collection-item-value="${uF.encodeAllRaw(mt.value)}" aria-label="${Wt}">${Yt}${kn}</div>`}),$e=t.columns!=="auto"&&t.columns>1?vo(Te,t.columns):[Te],Ve=Tt($e,mt=>`<div class="tox-collection__group">${mt.join("")}</div>`);Zl(le.element,Ve.join(""))},A=y((le,ae,_e,Ne)=>{ae.stop(),s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()||so(le,Vh,{name:t.name,value:Ne})}),L=[At(ud(),y((le,ae,_e)=>{Wi(_e,!0)})),At(If(),A),At(Eg(),A),At(dd(),y((le,ae,_e)=>{Fs(le.element,"."+b0).each(Ne=>{zr(Ne,b0)}),Gs(_e,b0)})),At(gb(),y(le=>{Fs(le.element,"."+b0).each(ae=>{zr(ae,b0),Hr(ae)})})),Fm(y((le,ae,_e,Ne)=>{so(le,Vh,{name:t.name,value:Ne})}))],z=(le,ae)=>Tt(qi(le.element,".tox-collection__item"),ae),j=Yo.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ot},behaviours:un([Kn.config({disabled:()=>s.checkUiComponentContext(t.context).shouldDisable,onDisabled:le=>{z(le,ae=>{Gs(ae,"tox-collection__item--state-disabled"),lo(ae,"aria-disabled",!0)})},onEnabled:le=>{z(le,ae=>{zr(ae,"tox-collection__item--state-disabled"),hr(ae,"aria-disabled")})}}),Lr(()=>s.checkUiComponentContext(t.context)),Mo.config({}),Pr.config({...s.tooltips.getConfig({tooltipText:"",onShow:le=>{Fs(le.element,"."+b0+"[data-mce-tooltip]").each(ae=>{ia(ae,"data-mce-tooltip").each(_e=>{Pr.setComponents(le,s.tooltips.getComponents({tooltipText:_e}))})})}}),mode:"children-keyboard-focus",anchor:le=>({type:"node",node:Fs(le.element,"."+b0).orThunk(()=>Q0(".tox-collection__item")),root:le.element,layouts:{onLtr:k([Ti,ua,Hi,Va,Dr,Yi]),onRtl:k([Ti,ua,Hi,Va,Dr,Yi])},bubble:tu(0,-2,{})})}),An.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(le,ae)=>{T(le,ae),t.columns==="auto"&&qR(le,5,"tox-collection__item").each(({numRows:_e,numColumns:Ne})=>{Jn.setGridSize(le,_e,Ne)}),ts(le,DM)}}),ur.config({}),Jn.config(vG(t.columns,"normal")),Ao("collection-events",L)]),eventOrder:{[El()]:["disabling","alloy.base.behaviour","collection-events"],[dd()]:["collection-events","tooltipping"]}});return _x(l,j,["tox-form__group--collection"],[])},WG=(t,s)=>Pu.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:un([Ed.button(()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(t.context).shouldDisable),Lr(()=>s.providers.checkUiComponentContext(t.context)),Ry.config({}),ur.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:i=>Qo.nu(l=>t.fetch(l)).map(l=>B.from(R0(Is(Lk(Tn("menu-value"),l,m=>{t.onItemAction(i,m)},t.columns,t.presets,lm.CLOSE_ON_EXECUTE,Ct,s.providers),{movement:Sx(t.columns,t.presets)})))),parts:{menu:Hy(!1,1,t.presets)}}),fF=Tn("color-input-change"),RM=Tn("color-swatch-change"),mF=Tn("color-picker-cancel"),jG=(t,s,i,l)=>{const m=Yo.parts.field({factory:Xm,inputClasses:["tox-textfield"],data:l,onSetValue:L=>om.run(L).get(oe),inputBehaviours:un([Kn.config({disabled:()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(t.context).shouldDisable}),Lr(()=>s.providers.checkUiComponentContext(t.context)),ur.config({}),om.config({invalidClass:"tox-textbox-field-invalid",getRoot:L=>co(L.element),notify:{onValid:L=>{const z=An.getValue(L);so(L,fF,{color:z})}},validator:{validateOnLoad:!1,validate:L=>{const z=An.getValue(L);if(z.length===0)return Qo.pure(Un.value(!0));{const j=pn.fromTag("span");bo(j,"background-color",z);const Q=_r(j,"background-color").fold(()=>Un.error("blah"),le=>Un.value(z));return Qo.pure(Q)}}}})]),selectOnFocus:!1}),v=t.label.map(L=>M0(L,s.providers)),y=(L,z)=>{so(L,RM,{value:z})},T=(L,z)=>{A.getOpt(L).each(j=>{z==="custom"?i.colorPicker(Q=>{Q.fold(()=>ts(j,mF),le=>{y(j,le),Ak(t.storageKey,le)})},"#ffffff"):z==="remove"?y(j,""):y(j,z)})},A=Es(WG({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Dr,Hi,Ti],onLtr:()=>[Hi,Dr,Ti]},components:[],fetch:CM(i.getColors(t.storageKey),t.storageKey,i.hasCustomColors()),columns:i.getColorCols(t.storageKey),presets:"color",onItemAction:T,context:t.context},s));return Yo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:v.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[m,A.asSpec()]}]),fieldBehaviours:un([Ao("form-field-events",[At(fF,(L,z)=>{A.getOpt(L).each(j=>{bo(j.element,"background-color",z.event.color)}),so(L,Ec,{name:t.name})}),At(RM,(L,z)=>{Yo.getField(L).each(j=>{An.setValue(j,z.event.value),Mt.getCurrent(L).each(Ro.focus)})}),At(mF,(L,z)=>{Yo.getField(L).each(j=>{Mt.getCurrent(L).each(Ro.focus)})})])])})},fm={self:()=>Mt.config({find:B.some}),memento:t=>Mt.config({find:t.getOpt}),childAt:t=>Mt.config({find:s=>bs(s.element,t).bind(i=>s.getSystem().getByDom(i).toOptional())})},gF=yo([ct("preprocess",Ot),ct("postprocess",Ot)]),ZG=(t,s)=>{const i=Qc("RepresentingConfigs.memento processors",gF,s);return An.config({store:{mode:"manual",getValue:l=>{const m=t.get(l),v=An.getValue(m);return i.postprocess(v)},setValue:(l,m)=>{const v=i.preprocess(m),y=t.get(l);An.setValue(y,v)}}})},P0=(t,s,i)=>An.config({store:{mode:"manual",...t.map(l=>({initialValue:l})).getOr({}),getValue:s,setValue:i}}),qG=(t,s,i)=>P0(t,l=>s(l.element),(l,m)=>i(l.element,m)),GG=t=>qG(t,Qu,Zl),Bk=t=>An.config({store:{mode:"memory",initialValue:t}}),Ax=Tn("rgb-hex-update"),pF=Tn("slider-update"),Ox=Tn("palette-update"),vF=(t,s)=>{const i=lf.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),l=lf.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return lf.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:k(0)},components:[i,l],sliderBehaviours:un([Ro.config({})]),onChange:(m,v,y)=>{lo(m.element,"aria-valuenow",Math.floor(360-y*3.6)),so(m,pF,{value:y})}})},PM=Tn("valid-input"),$k=Tn("invalid-input"),bF=Tn("validating-input"),Fk="colorcustom.rgb.",ew={isEnabled:Nt,setEnabled:oe,immediatelyShow:oe,immediatelyHide:oe},yF=(t,s,i,l,m,v)=>{const y=(_e,Ne)=>{const Te=Ne.get();_e!==Te.isEnabled()&&(Te.setEnabled(_e),_e?Te.immediatelyShow():Te.immediatelyHide())},T=(_e,Ne,Te)=>om.config({invalidClass:s("invalid"),notify:{onValidate:$e=>{so($e,bF,{type:_e})},onValid:$e=>{y(!1,Te),so($e,PM,{type:_e,value:An.getValue($e)})},onInvalid:$e=>{y(!0,Te),so($e,$k,{type:_e,value:An.getValue($e)})}},validator:{validate:$e=>{const Ve=An.getValue($e),mt=Ne(Ve)?Un.value(!0):Un.error(t("aria.input.invalid"));return Qo.pure(mt)},validateOnLoad:!1}}),A=(_e,Ne,Te,$e,Ve)=>{const mt=Qt(ew),vt=t(Fk+"range"),kn=Yo.parts.label({dom:{tag:"label"},components:[Mr(Te)]}),Yt=Yo.parts.field({data:Ve,factory:Xm,inputAttributes:{type:"text","aria-label":$e,...Ne==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:un([T(Ne,_e,mt),ur.config({}),Pr.config({...m({tooltipText:"",onSetup:Io=>{mt.set({isEnabled:()=>Pr.isEnabled(Io),setEnabled:Wn=>Pr.setEnabled(Io,Wn),immediatelyShow:()=>Pr.immediateOpenClose(Io,!0),immediatelyHide:()=>Pr.immediateOpenClose(Io,!1)}),Pr.setEnabled(Io,!1)},onShow:(Io,Wn)=>{Pr.setComponents(Io,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[Mr(t(Ne==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Io=>{om.isInvalid(Io)&&om.run(Io).get(oe)}}),Jt=Tn("aria-invalid"),Wt=Es(v("invalid",B.some(Jt),"warning")),oo=Es({dom:{tag:"div",classes:[s("invalid-icon")]},components:[Wt.asSpec()]}),Zn=[kn,Yt,oo.asSpec()],is=Ne!=="hex"?[Yo.parts["aria-descriptor"]({text:vt})]:[],fo=Zn.concat(is);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:fo}},L=(_e,Ne)=>{const Te=Jy(Ne);return su.getField(_e,"hex").each($e=>{Ro.isFocused($e)||An.setValue(_e,{hex:Te.value})}),Te},z=(_e,Ne)=>{const Te=Ne.red,$e=Ne.green,Ve=Ne.blue;An.setValue(_e,{red:Te,green:$e,blue:Ve})},j=Es({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),Q=(_e,Ne)=>{j.getOpt(_e).each(Te=>{bo(Te.element,"background-color","#"+Ne.value)})};return Ou({factory:()=>{const _e={red:Qt(B.some(255)),green:Qt(B.some(255)),blue:Qt(B.some(255)),hex:Qt(B.some("ffffff"))},Ne=(Wn,zt)=>{const wn=yx(zt);z(Wn,wn),mt(wn)},Te=Wn=>_e[Wn].get(),$e=(Wn,zt)=>{_e[Wn].set(zt)},Ve=()=>Te("red").bind(Wn=>Te("green").bind(zt=>Te("blue").map(wn=>O0(Wn,zt,wn,1)))),mt=Wn=>{const zt=Wn.red,wn=Wn.green,po=Wn.blue;$e("red",B.some(zt)),$e("green",B.some(wn)),$e("blue",B.some(po))},vt=(Wn,zt)=>{const wn=zt.event;wn.type!=="hex"?$e(wn.type,B.none()):l(Wn)},kn=(Wn,zt)=>{i(Wn);const wn=nM(zt);$e("hex",B.some(wn.value));const po=yx(wn);z(Wn,po),mt(po),so(Wn,Ax,{hex:wn}),Q(Wn,wn)},Yt=(Wn,zt,wn)=>{const po=parseInt(wn,10);$e(zt,B.some(po)),Ve().each(zo=>{const Yn=L(Wn,zo);so(Wn,Ax,{hex:Yn}),Q(Wn,Yn)})},Jt=Wn=>Wn.type==="hex",Wt=(Wn,zt)=>{const wn=zt.event;Jt(wn)?kn(Wn,wn.value):Yt(Wn,wn.type,wn.value)},oo=Wn=>({label:t(Fk+Wn+".label"),description:t(Fk+Wn+".description")}),Zn=oo("red"),is=oo("green"),fo=oo("blue"),Io=oo("hex");return Is(su.sketch(Wn=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Wn.field("red",Yo.sketch(A(_k,"red",Zn.label,Zn.description,255))),Wn.field("green",Yo.sketch(A(_k,"green",is.label,is.description,255))),Wn.field("blue",Yo.sketch(A(_k,"blue",fo.label,fo.description,255))),Wn.field("hex",Yo.sketch(A(xk,"hex",Io.label,Io.description,"ffffff"))),j.asSpec()],formBehaviours:un([om.config({invalidClass:s("form-invalid")}),Ao("rgb-form-events",[At(PM,Wt),At($k,vt),At(bF,vt)])])})),{apis:{updateHex:(Wn,zt)=>{An.setValue(Wn,{hex:zt.value}),Ne(Wn,zt),Q(Wn,zt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(_e,Ne,Te)=>{_e.updateHex(Ne,Te)}},extraApis:{}})},KG=(t,s)=>{const i=lf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),l=lf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),m=(L,z)=>{const{width:j,height:Q}=L,le=L.getContext("2d");if(le===null)return;le.fillStyle=z,le.fillRect(0,0,j,Q);const ae=le.createLinearGradient(0,0,j,0);ae.addColorStop(0,"rgba(255,255,255,1)"),ae.addColorStop(1,"rgba(255,255,255,0)"),le.fillStyle=ae,le.fillRect(0,0,j,Q);const _e=le.createLinearGradient(0,0,0,Q);_e.addColorStop(0,"rgba(0,0,0,0)"),_e.addColorStop(1,"rgba(0,0,0,1)"),le.fillStyle=_e,le.fillRect(0,0,j,Q)},v=(L,z)=>{const j=L.components()[0].element.dom,Q=L1(z,100,100),le=iM(Q);m(j,wx(le))},y=(L,z)=>{const j=Sk(yx(z));lf.setValue(L,{x:j.saturation,y:100-j.value}),lo(L.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",j.saturation,j.value]))};return Ou({factory:L=>{const z=k({x:0,y:0}),j=(ae,_e,Ne)=>{Be(Ne)||lo(ae.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Math.floor(Ne.x),Math.floor(100-Ne.y)])),so(ae,Ox,{value:Ne})},Q=(ae,_e,Ne,Te)=>{m(Ne.element.dom,wx(A6))},le=un([Mt.config({find:B.some}),Ro.config({})]);return lf.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":t(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:z},rounded:!1,components:[i,l],onChange:j,onInit:Q,sliderBehaviours:le})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(L,z,j)=>{v(z,j)},setThumb:(L,z,j)=>{y(z,j)}},extraApis:{}})},YG=(t,s,i,l)=>{const m=y=>{const T=yF(t,s,y.onValidHex,y.onInvalidHex,i,l),A=KG(t,s),L=Jt=>(100-Jt)/100*360,z=Jt=>100-Jt/360*100,j={paletteRgba:Qt(A6),paletteHue:Qt(0)},Q=Es(vF(t,s)),le=Es(A.sketch({})),ae=Es(T.sketch({})),_e=(Jt,Wt,oo)=>{le.getOpt(Jt).each(Zn=>{A.setHue(Zn,oo)})},Ne=(Jt,Wt)=>{ae.getOpt(Jt).each(oo=>{T.updateHex(oo,Wt)})},Te=(Jt,Wt,oo)=>{Q.getOpt(Jt).each(Zn=>{lf.setValue(Zn,z(oo))})},$e=(Jt,Wt)=>{le.getOpt(Jt).each(oo=>{A.setThumb(oo,Wt)})},Ve=(Jt,Wt)=>{const oo=yx(Jt);j.paletteRgba.set(oo),j.paletteHue.set(Wt)},mt=(Jt,Wt,oo,Zn)=>{Ve(Wt,oo),rn(Zn,is=>{is(Jt,Wt,oo)})},vt=()=>{const Jt=[Ne];return(Wt,oo)=>{const Zn=oo.event.value,is=j.paletteHue.get(),fo=L1(is,Zn.x,100-Zn.y),Io=cM(fo);mt(Wt,Io,is,Jt)}},kn=()=>{const Jt=[_e,Ne];return(Wt,oo)=>{const Zn=L(oo.event.value),is=j.paletteRgba.get(),fo=Sk(is),Io=L1(Zn,fo.saturation,fo.value),Wn=cM(Io);mt(Wt,Wn,Zn,Jt)}},Yt=()=>{const Jt=[_e,Te,$e];return(Wt,oo)=>{const Zn=oo.event.hex,is=Qq(Zn);mt(Wt,Zn,is.hue,Jt)}};return{uid:y.uid,dom:y.dom,components:[le.asSpec(),Q.asSpec(),ae.asSpec()],behaviours:un([Ao("colour-picker-events",[At(Ax,Yt()),At(Ox,vt()),At(pF,kn())]),Mt.config({find:Jt=>ae.getOpt(Jt)}),Jn.config({mode:"acyclic"})])}};return Ou({name:"ColourPicker",configFields:[Vt("dom"),ct("onValidHex",oe),ct("onInvalidHex",oe)],factory:m})},XG={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},LM=t=>s=>$(s)?t.translate(XG[s]):t.translate(s),JG=(t,s,i)=>{const l=L=>"tox-"+L,m=(L,z,j=L,Q=L)=>xd(j,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+L],attributes:{title:s.translate(Q),"aria-live":"polite",...z.fold(()=>({}),le=>({id:le}))}},s.icons),v=YG(LM(s),l,s.tooltips.getConfig,m),y=L=>{so(L,Vh,{name:"hex-valid",value:!0})},T=L=>{so(L,Vh,{name:"hex-valid",value:!1})},A=Es(v.sketch({dom:{tag:"div",classes:[l("color-picker-container")],attributes:{role:"presentation"}},onValidHex:y,onInvalidHex:T}));return{dom:{tag:"div"},components:[A.asSpec()],behaviours:un([P0(i,L=>{const z=A.get(L);return Mt.getCurrent(z).bind(le=>An.getValue(le).hex).map(le=>"#"+Ld(le,"#")).getOr("")},(L,z)=>{const j=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,Q=B.from(j.exec(z)).bind(_e=>st(_e,1)),le=A.get(L);Mt.getCurrent(le).fold(()=>{console.log("Can not find form")},_e=>{An.setValue(_e,{hex:Q.getOr("")}),su.getField(_e,"hex").each(Ne=>{ts(Ne,Pm())})})}),fm.self()])}};var QG=tinymce.util.Tools.resolve("tinymce.Resource");const NM=t=>yn(t,"init"),eK=t=>{const s=go(),i=Es({dom:{tag:t.tag}}),l=go(),m=!NM(t)&&t.onFocus.isSome()?[Ro.config({onFocus:v=>{t.onFocus.each(y=>{y(v.element.dom)})}}),ur.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:un([Ao("custom-editor-events",[pr(v=>{i.getOpt(v).each(y=>{(NM(t)?t.init(y.element.dom):QG.load(t.scriptId,t.scriptUrl).then(T=>T(y.element.dom,t.settings))).then(T=>{l.on(A=>{T.setValue(A)}),l.clear(),s.set(T)})})})]),P0(B.none(),()=>s.get().fold(()=>l.get().getOr(""),v=>v.getValue()),(v,y)=>{s.get().fold(()=>l.set(y),T=>T.setValue(y))}),fm.self()].concat(m)),components:[i.asSpec()]}};var mp=tinymce.util.Tools.resolve("tinymce.util.Tools");const IM=Tn("browse.files.event"),wF=(t,s)=>{const i=mp.explode(s.getOption("images_file_types")),l=m=>jo(i,v=>rc(m.name.toLowerCase(),`.${v.toLowerCase()}`));return _o(So(t),l)},tK=(t,s,i)=>{const l=(Q,le)=>{le.stop()},m=Q=>(le,ae)=>{rn(Q,_e=>{_e(le,ae)})},v=(Q,le)=>{var ae;if(!Kn.isDisabled(Q)){const _e=le.event.raw;so(Q,IM,{files:(ae=_e.dataTransfer)===null||ae===void 0?void 0:ae.files})}},y=(Q,le)=>{const ae=le.event.raw.target;so(Q,IM,{files:ae.files})},T=(Q,le)=>{le&&(An.setValue(Q,wF(le,s)),so(Q,Ec,{name:t.name}))},A=Es({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:un([Ao("input-file-events",[Ig(If()),Ig(Eg())])])}),L=t.label.map(Q=>M0(Q,s)),z=Yo.parts.field({factory:xc,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Mr(s.translate("Browse for an image")),A.asSpec()],action:Q=>{A.get(Q).element.dom.click()},buttonBehaviours:un([fm.self(),Bk(i.getOr([])),ur.config({}),Ed.button(()=>s.checkUiComponentContext(t.context).shouldDisable),Lr(()=>s.checkUiComponentContext(t.context))])}),j={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:un([Kn.config({disabled:()=>s.checkUiComponentContext(t.context).shouldDisable}),Lr(()=>s.checkUiComponentContext(t.context)),us.config({toggleClass:"dragenter",toggleOnExecute:!1}),Ao("dropzone-events",[At("dragenter",m([l,us.toggle])),At("dragleave",m([l,us.toggle])),At("dragover",l),At("drop",m([l,v])),At(wg(),y)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Mr(s.translate("Drop an image here"))]},z]}]};return _x(L,j,["tox-form__group--stretched"],[Ao("handle-files",[At(IM,(Q,le)=>{Yo.getField(Q).each(ae=>{T(ae,le.event.files)})})])])},nK=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:Tt(t.items,s.interpreter)}),BM=Tn("alloy-fake-before-tabstop"),$M=Tn("alloy-fake-after-tabstop"),CF=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:un([Ro.config({ignore:!0}),ur.config({})])}),xF=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[CF([BM]),s,CF([$M])],behaviours:un([fm.childAt(1)])}),SF=(t,s)=>{so(t,la(),{raw:{which:9,shiftKey:s}})},oK=(t,s)=>{const i=s.element;ui(i,BM)?SF(t,!0):ui(i,$M)&&SF(t,!1)},Dx=t=>ug(t,["."+BM,"."+$M].join(","),Ct),Hk=Tn("update-dialog"),EF=Tn("update-title"),FM=Tn("update-body"),_F=Tn("update-footer"),TF=Tn("body-send-message"),zk=Tn("dialog-focus-shifted"),HM=cr().browser,Rx=HM.isSafari(),sK=HM.isFirefox(),zM=Rx||sK,rK=HM.isChromium(),kF=({scrollTop:t,scrollHeight:s,clientHeight:i})=>Math.ceil(t)+i>=s,AF=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),OF=(t,s)=>{const i=t.body;return B.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!rK&&!Rx||ve(i)&&(i.scrollTop!==0||Math.abs(i.scrollHeight-i.clientHeight)>1))?i:t.documentElement)},VM=(t,s,i)=>{const l=t.dom;B.from(l.contentDocument).fold(i,m=>{let v=0;const y=OF(m,s).map(A=>(v=A.scrollTop,A)).forall(kF),T=()=>{const A=l.contentWindow;ve(A)&&(y?AF(A,"bottom"):!y&&zM&&v!==0&&AF(A,v))};Rx&&l.addEventListener("load",T,{once:!0}),m.open(),m.write(s),m.close(),Rx||T()})},iK=ti(zM,Rx?500:200).map(t=>Er(VM,t)),aK=(t,s)=>{const i=Qt(t.getOr(""));return{getValue:l=>i.get(),setValue:(l,m)=>{if(i.get()!==m){const v=l.element,y=()=>lo(v,"srcdoc",m);s?iK.fold(k(VM),T=>T.throttle)(v,m,y):y()}i.set(m)}}},RF=(t,s,i)=>{const l="tox-dialog__iframe",m=t.transparent?[]:[`${l}--opaque`],v=t.border?["tox-navobj-bordered"]:[],y={...t.label.map(j=>({title:j})).getOr({}),...i.map(j=>({srcdoc:j})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},T=aK(i,t.streamContent),A=t.label.map(j=>M0(j,s)),L=j=>xF(B.from(v),{uid:j.uid,dom:{tag:"iframe",attributes:y,classes:[l,...m]},behaviours:un([ur.config({}),Ro.config({}),P0(i,T.getValue,T.setValue),Du.config({channels:{[zk]:{onReceive:(Q,le)=>{le.newFocus.each(ae=>{co(Q.element).each(_e=>{(X(Q.element,ae)?Gs:zr)(_e,"tox-navobj-bordered-focus")})})}}}})])}),z=Yo.parts.field({factory:{sketch:L}});return _x(A,z,["tox-form__group--stretched"],[])},cK=(t,s,i,l,m)=>{const v=i*m,y=l*m,T=Math.max(0,t/2-v/2),A=Math.max(0,s/2-y/2);return{left:T.toString()+"px",top:A.toString()+"px",width:v.toString()+"px",height:y.toString()+"px"}},MF=(t,s,i)=>{const l=Sa(t),m=yi(t);return Math.min(l/s,m/i,1)},lK=(t,s)=>{const i=Qt(s.getOr({url:""})),l=Es({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(A=>({src:A.url})).getOr({})}}),m=Es({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[l.asSpec()]}),v=(A,L)=>{const z={url:L.url};L.zoom.each(Q=>z.zoom=Q),L.cachedWidth.each(Q=>z.cachedWidth=Q),L.cachedHeight.each(Q=>z.cachedHeight=Q),i.set(z);const j=()=>{const{cachedWidth:Q,cachedHeight:le,zoom:ae}=z;if(!ye(Q)&&!ye(le)){if(ye(ae)){const Ne=MF(A.element,Q,le);z.zoom=Ne}const _e=cK(Sa(A.element),yi(A.element),Q,le,z.zoom);m.getOpt(A).each(Ne=>{$r(Ne.element,_e)})}};l.getOpt(A).each(Q=>{const le=Q.element;L.url!==Ni(le,"src")&&(lo(le,"src",L.url),zr(A.element,"tox-imagepreview__loaded")),j(),yl(le).then(ae=>{A.getSystem().isConnected()&&(Gs(A.element,"tox-imagepreview__loaded"),z.cachedWidth=ae.dom.naturalWidth,z.cachedHeight=ae.dom.naturalHeight,j())})})},y={};t.height.each(A=>y.height=A);const T=s.map(A=>({url:A.url,zoom:B.from(A.zoom),cachedWidth:B.from(A.cachedWidth),cachedHeight:B.from(A.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:y,attributes:{role:"presentation"}},components:[m.asSpec()],behaviours:un([fm.self(),P0(T,()=>i.get(),v)])}},Vk=(t,s,i)=>{const l="tox-label",m=t.align==="center"?[`${l}--center`]:[],v=t.align==="end"?[`${l}--end`]:[],y=Es({dom:{tag:"label",classes:[l,...m,...v]},components:[Mr(s.providers.translate(t.label))]}),T=Tt(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[y.asSpec(),...T],behaviours:un([fm.self(),Mo.config({}),GG(B.none()),Jn.config({mode:"acyclic"}),Ao("label",[pr(A=>{t.for.each(L=>{i(L).each(z=>{y.getOpt(A).each(j=>{var Q;const le=(Q=Ni(z.element,"id"))!==null&&Q!==void 0?Q:Tn("form-field");lo(z.element,"id",le),lo(j.element,"for",le)})})})})])])}},UM=Tn("toolbar.button.execute"),PF=t=>Fm((s,i)=>{Ky(t,s)(l=>{so(s,UM,{buttonApi:l}),t.onAction(l)})}),I1=Tn("common-button-display-events"),LF={[El()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Zd()]:["toolbar-button-events",I1],[Lm()]:["toolbar-button-events","dropdown-events","tooltipping"],[Hc()]:["focusing","alloy.base.behaviour",I1]},mf=t=>bo(t.element,"width",gr(t.element,"width")),Mx=(t,s,i)=>xd(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),tw=(t,s)=>Mx(t,s,[]),B1=(t,s)=>Mx(t,s,[Mo.config({})]),Uk=(t,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Mr(i.translate(t))],behaviours:un([Mo.config({})])}),hf=Tn("update-menu-text"),hp=Tn("update-menu-icon"),WM=Tn("update-tooltip-text"),Px=(t,s,i,l)=>{const m=Qt(oe),v=Qt(t.tooltip),y=t.text.map(Ne=>Es(Uk(Ne,s,i.providers))),T=t.icon.map(Ne=>Es(B1(Ne,i.providers.icons))),A=(Ne,Te)=>{const $e=An.getValue(Ne);return Ro.focus($e),so($e,"keydown",{raw:Te.event.raw}),Pu.close($e),B.some(!0)},L=t.role.fold(()=>({}),Ne=>({role:Ne})),z=B.from(t.listRole).map(Ne=>({listRole:Ne})).getOr({}),j=t.ariaLabel.fold(()=>({}),Ne=>({"aria-label":i.providers.translate(Ne)})),Q=xd("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),le=Tn("common-button-display-events"),ae="dropdown-events";return Es(Pu.sketch({...t.uid?{uid:t.uid}:{},...L,...z,dom:{tag:"button",classes:[s,`${s}--select`].concat(Tt(t.classes,Ne=>`${s}--${Ne}`)),attributes:{...j,...ve(l)?{"data-mce-name":l}:{}}},components:Xy([T.map(Ne=>Ne.asSpec()),y.map(Ne=>Ne.asSpec()),B.some(Q)]),matchWidth:!0,useMinWidth:!0,onOpen:(Ne,Te,$e)=>{t.searchable&&NG($e)},dropdownBehaviours:un([...t.dropdownBehaviours,Ed.button(()=>t.disabled||i.providers.checkUiComponentContext(t.context).shouldDisable),Lr(()=>i.providers.checkUiComponentContext(t.context)),Ry.config({}),Mo.config({}),...t.tooltip.map(Ne=>Pr.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(Ne),onShow:Te=>{if(ga(v.get(),t.tooltip,($e,Ve)=>Ve!==$e).getOr(!1)){const $e=i.providers.translate(v.get().getOr(""));Pr.setComponents(Te,i.providers.tooltips.getComponents({tooltipText:$e}))}}}))).toArray(),Ao(ae,[_d(t,m),dp(t,m)]),Ao(le,[pr((Ne,Te)=>{t.listRole!=="listbox"&&mf(Ne)})]),Ao("update-dropdown-width-variable",[At(Tg(),(Ne,Te)=>Pu.close(Ne))]),Ao("menubutton-update-display-text",[At(hf,(Ne,Te)=>{y.bind($e=>$e.getOpt(Ne)).each($e=>{Mo.set($e,[Mr(i.providers.translate(Te.event.text))])})}),At(hp,(Ne,Te)=>{T.bind($e=>$e.getOpt(Ne)).each($e=>{Mo.set($e,[B1(Te.event.icon,i.providers.icons)])})}),At(WM,(Ne,Te)=>{const $e=i.providers.translate(Te.event.text);lo(Ne.element,"aria-label",$e),v.set(B.some(Te.event.text))})])]),eventOrder:Is(LF,{[Hc()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Zd()]:["toolbar-button-events",Pr.name(),ae,le]}),sandboxBehaviours:un([Jn.config({mode:"special",onLeft:A,onRight:A}),Ao("dropdown-sandbox-events",[At(fR,(Ne,Te)=>{rF(Ne),Te.stop()}),At(_$,(Ne,Te)=>{MG(Ne,Te),Te.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...Hy(!1,t.columns,t.presets),fakeFocus:t.searchable,...t.listRole==="listbox"?{}:{onHighlightItem:TM,onCollapseMenu:(Ne,Te,$e)=>{As.getHighlighted($e).each(Ve=>{TM(Ne,$e,Ve)})},onDehighlightItem:iF}}},getAnchorOverrides:()=>({maxHeightFunction:(Ne,Te)=>{_E()(Ne,Te-10)}}),fetch:Ne=>Qo.nu(Je(t.fetch,Ne))})).asSpec()},uK=t=>$(t),NF=t=>t.type==="separator",IF=t=>yn(t,"getSubmenuItems"),dK={type:"separator"},fK=(t,s)=>{const i=jt(t,(l,m)=>uK(m)?m===""?l:m==="|"?l.length>0&&!NF(l[l.length-1])?l.concat([dK]):l:yn(s,m.toLowerCase())?l.concat([s[m.toLowerCase()]]):l:l.concat([m]),[]);return i.length>0&&NF(i[i.length-1])&&i.pop(),i},jM=(t,s)=>{const i=t.getSubmenuItems(),l=BF(i,s),m=Is(l.menus,{[t.value]:l.items}),v=Is(l.expansions,{[t.value]:t.value});return{item:t,menus:m,expansions:v}},mK=t=>{const s=_t(t,"value").getOrThunk(()=>Tn("generated-menu-item"));return Is({value:s},t)},BF=(t,s)=>{const i=fK($(t)?t.split(" "):t,s);return wt(i,(l,m)=>{if(IF(m)){const v=mK(m),y=jM(v,s);return{menus:Is(l.menus,y.menus),items:[y.item,...l.items],expansions:Is(l.expansions,y.expansions)}}else return{...l,items:[m,...l.items]}},{menus:{},expansions:{},items:[]})},$F=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),FF=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),nw=(t,s,i,l)=>{const m=Tn("primary-menu"),v=BF(t,i.shared.providers.menuItems());if(v.items.length===0)return B.none();const y=$F(l),T=To(m,v.items,s,i,l.isHorizontalMenu,y),A=FF(l),L=Oo(v.menus,(j,Q)=>To(Q,j,s,i,!1,A)),z=Is(L,Dm(m,T));return B.from(b1.tieredData(m,z,v.expansions))},Wk=t=>!yn(t,"items"),HF="data-value",zF=(t,s,i,l,m)=>Tt(i,v=>Wk(v)?{type:"togglemenuitem",...m?{}:{role:"option"},text:v.text,value:v.value,active:v.value===l,onAction:()=>{An.setValue(t,v.value),so(t,Ec,{name:s}),Ro.focus(t)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:()=>zF(t,s,v.items,l,m)}),jk=(t,s)=>wo(t,i=>Wk(i)?ti(i.value===s,i):jk(i.items,s)),nh=(t,s,i)=>{const l=jo(t.items,L=>!Wk(L)),m=s.shared.providers,v=i.bind(L=>jk(t.items,L)).orThunk(()=>rt(t.items).filter(Wk)),y=t.label.map(L=>M0(L,m)),T=Yo.parts.field({dom:{},factory:{sketch:L=>Px({context:t.context,uid:L.uid,text:v.map(z=>z.text),icon:B.none(),tooltip:B.none(),role:ti(!l,"combobox"),...l?{}:{listRole:"listbox"},ariaLabel:t.label,fetch:(z,j)=>{const Q=zF(z,t.name,t.items,An.getValue(z),l);j(nw(Q,lm.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:B.none()}))},onSetup:k(oe),getApi:k({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ur.config({}),P0(v.map(z=>z.value),z=>Ni(z.element,HF),(z,j)=>{jk(t.items,j).each(Q=>{lo(z.element,HF,Q.value),so(z,hf,{text:Q.text})})})]},"tox-listbox",s.shared)}}),A={dom:{tag:"div",classes:["tox-listboxfield"]},components:[T]};return Yo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Lt([y.toArray(),[A]]),fieldBehaviours:un([Kn.config({disabled:()=>!t.enabled||m.checkUiComponentContext(t.context).shouldDisable,onDisabled:L=>{Yo.getField(L).each(Kn.disable)},onEnabled:L=>{Yo.getField(L).each(Kn.enable)}})])})},ZM=(t,s)=>({dom:{tag:"div",classes:t.classes},components:Tt(t.items,s.shared.interpreter)}),hK=(t,s,i)=>{const l=Tt(t.items,A=>({text:s.translate(A.text),value:A.value})),m=t.label.map(A=>M0(A,s)),v=Yo.parts.field({dom:{},...i.map(A=>({data:A})).getOr({}),selectAttributes:{size:t.size},options:l,factory:VU,selectBehaviours:un([Kn.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable}),ur.config({}),Ao("selectbox-change",[At(wg(),(A,L)=>{so(A,Ec,{name:t.name})})])])}),y=t.size>1?B.none():B.some(xd("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),T={dom:{tag:"div",classes:["tox-selectfield"]},components:Lt([[v],y.toArray()])};return Yo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Lt([m.toArray(),[T]]),fieldBehaviours:un([Kn.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:A=>{Yo.getField(A).each(Kn.disable)},onEnabled:A=>{Yo.getField(A).each(Kn.enable)}}),Lr(()=>s.checkUiComponentContext(t.context))])})},VF=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=m=>m in s?s[m]:1;let l=t.value.toFixed(i(t.unit));return l.indexOf(".")!==-1&&(l=l.replace(/\.?0*$/,"")),l+t.unit},Zk=t=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(i!==null){const l=parseFloat(i[1]),m=i[2];return Un.value({value:l,unit:m})}else return Un.error(t)},UF=(t,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=m=>yn(i,m);return t.unit===s?B.some(t.value):l(t.unit)&&l(s)?i[t.unit]===i[s]?B.some(t.value):B.some(t.value/i[t.unit]*i[s]):B.none()},qk=t=>B.none(),WF=(t,s)=>i=>UF(i,s).map(l=>({value:l*t,unit:s})),qM=(t,s)=>{const i=Zk(t).toOptional(),l=Zk(s).toOptional();return ga(i,l,(m,v)=>UF(m,v.unit).map(y=>v.value/y).map(y=>WF(y,v.unit)).getOr(qk)).getOr(qk)},Mne=(t,s)=>{let i=qk;const l=Tn("ratio-event"),m=_e=>xd(_e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+_e]},s.icons),v=()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,y=Lr(()=>s.checkUiComponentContext(t.context)),T=t.label.getOr("Constrain proportions"),A=s.translate(T),L=mi.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":A,"data-mce-name":T}},components:[m("lock"),m("unlock")],buttonBehaviours:un([Kn.config({disabled:v}),y,ur.config({}),Pr.config(s.tooltips.getConfig({tooltipText:A}))])}),z=_e=>({dom:{tag:"div",classes:["tox-form__group"]},components:_e}),j=_e=>Yo.parts.field({factory:Xm,inputClasses:["tox-textfield"],inputBehaviours:un([Kn.config({disabled:v}),y,ur.config({}),Ao("size-input-events",[At(dd(),(Ne,Te)=>{so(Ne,l,{isField1:_e})}),At(wg(),(Ne,Te)=>{so(Ne,Ec,{name:t.name})})])]),selectOnFocus:!1}),Q=_e=>({dom:{tag:"label",classes:["tox-label"]},components:[Mr(s.translate(_e))]}),le=mi.parts.field1(z([Yo.parts.label(Q("Width")),j(!0)])),ae=mi.parts.field2(z([Yo.parts.label(Q("Height")),j(!1)]));return mi.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[le,ae,z([Q(cu),L])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(_e,Ne,Te)=>{Zk(An.getValue(_e)).each($e=>{i($e).each(Ve=>{An.setValue(Ne,VF(Ve))})})},coupledFieldBehaviours:un([Kn.config({disabled:v,onDisabled:_e=>{mi.getField1(_e).bind(Yo.getField).each(Kn.disable),mi.getField2(_e).bind(Yo.getField).each(Kn.disable),mi.getLock(_e).each(Kn.disable)},onEnabled:_e=>{mi.getField1(_e).bind(Yo.getField).each(Kn.enable),mi.getField2(_e).bind(Yo.getField).each(Kn.enable),mi.getLock(_e).each(Kn.enable)}}),Lr(()=>s.checkUiComponentContext("mode:design")),Ao("size-input-events2",[At(l,(_e,Ne)=>{const Te=Ne.event.isField1,$e=Te?mi.getField1(_e):mi.getField2(_e),Ve=Te?mi.getField2(_e):mi.getField1(_e),mt=$e.map(An.getValue).getOr(""),vt=Ve.map(An.getValue).getOr("");i=qM(mt,vt)})])])})},Pne=(t,s,i)=>{const l=lf.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Mr(s.translate(t.label))]}),m=lf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),v=lf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return lf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:k(i.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[l,m,v],sliderBehaviours:un([fm.self(),Ro.config({})]),onChoose:(y,T,A)=>{so(y,Ec,{name:t.name,value:A})},onChange:(y,T,A)=>{so(y,Ec,{name:t.name,value:A})}})},Ml=(t,s)=>{const i=T=>({dom:{tag:"th",innerHtml:s.translate(T)}}),l=T=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Tt(T,i)}]}),m=T=>({dom:{tag:"td",innerHtml:s.translate(T)}}),v=T=>({dom:{tag:"tr"},components:Tt(T,m)}),y=T=>({dom:{tag:"tbody"},components:Tt(T,v)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[l(t.header),y(t.cells)],behaviours:un([ur.config({}),Ro.config({})])}},GM=(t,s)=>{const i=t.label.map(ae=>M0(ae,s)),l=[Kn.config({disabled:()=>t.disabled||s.checkUiComponentContext(t.context).shouldDisable}),Lr(()=>s.checkUiComponentContext(t.context)),Jn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:ae=>(ts(ae,Tx),B.some(!0))}),Ao("textfield-change",[At(Pm(),(ae,_e)=>{so(ae,Ec,{name:t.name})}),At(u2(),(ae,_e)=>{so(ae,Ec,{name:t.name})})]),ur.config({})],m=t.validation.map(ae=>om.config({getRoot:_e=>co(_e.element),invalidClass:"tox-invalid",validator:{validate:_e=>{const Ne=An.getValue(_e),Te=ae.validator(Ne);return Qo.pure(Te===!0?Un.value(Ne):Un.error(Te))},validateOnLoad:ae.validateOnLoad}})).toArray(),v=t.placeholder.fold(k({}),ae=>({placeholder:s.translate(ae)})),y=t.inputMode.fold(k({}),ae=>({inputmode:ae})),A={...t.spellcheck.fold(k({}),ae=>({spellcheck:ae})),...v,...y,"data-mce-name":t.name},L=Yo.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(ae=>({data:ae})).getOr({}),inputAttributes:A,inputClasses:[t.classname],inputBehaviours:un(Lt([l,m])),selectOnFocus:!1,factory:Xm}),z=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[L]}:L,Q=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),le=[Kn.config({disabled:()=>t.disabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:ae=>{Yo.getField(ae).each(Kn.disable)},onEnabled:ae=>{Yo.getField(ae).each(Kn.enable)}}),Lr(()=>s.checkUiComponentContext(t.context))];return _x(i,z,Q,le)},gK=(t,s,i)=>GM({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:B.none(),maximized:t.maximized,data:i,context:t.context,spellcheck:B.none()},s),jF=(t,s,i)=>GM({name:t.name,multiline:!0,label:t.label,inputMode:B.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:B.none(),maximized:t.maximized,data:i,context:t.context,spellcheck:t.spellcheck},s),ZF=t=>({isEnabled:()=>!Kn.isDisabled(t),setEnabled:s=>Kn.set(t,!s),setActive:s=>{const i=t.element;s?(Gs(i,"tox-tbtn--enabled"),lo(i,"aria-pressed",!0)):(zr(i,"tox-tbtn--enabled"),hr(i,"aria-pressed"))},isActive:()=>ui(t.element,"tox-tbtn--enabled"),setTooltip:s=>{so(t,WM,{text:s})},setText:s=>{so(t,hf,{text:s})},setIcon:s=>so(t,hp,{icon:s})}),Lx=(t,s,i,l,m=!0,v)=>{const y=t.buttonType==="bordered"?["bordered"]:[];return Px({text:t.text,icon:t.icon,tooltip:t.tooltip,ariaLabel:t.tooltip,searchable:t.search.isSome(),role:l,fetch:(T,A)=>{const L={pattern:t.search.isSome()?IG(T):""};t.fetch(z=>{A(nw(z,lm.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:t.search}))},L,ZF(T))},onSetup:t.onSetup,getApi:T=>ZF(T),columns:1,presets:"normal",classes:y,dropdownBehaviours:[...m?[ur.config({})]:[]],context:t.context},s,i.shared,v)},qF=(t,s,i)=>{const l=v=>y=>{const T=!y.isActive();y.setActive(T),v.storage.set(T),i.shared.getSink().each(A=>{s().getOpt(A).each(L=>{Wi(L.element),so(L,Vh,{name:v.name,value:v.storage.get()})})})},m=v=>y=>{y.setActive(v.storage.get())};return v=>{v(Tt(t,y=>{const T=y.text.fold(()=>({}),A=>({text:A}));return{type:y.type,active:!1,...T,context:y.context,onAction:l(y),onSetup:m(y)}}))}},GF=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":t}},components:[Mr(t)]}),Gk=(t,s,i)=>{t.customStateIcon.each(l=>s.push(Yk(l,i.shared.providers.icons,t.customStateIconTooltip.fold(()=>[],m=>[Pr.config(i.shared.providers.tooltips.getConfig({tooltipText:m}))]),["tox-icon-custom-state"])))},Kk=Tn("leaf-label-event-id"),KM=({leaf:t,onLeafAction:s,visible:i,treeId:l,selectedId:m,backstage:v})=>{const y=t.menu.map(A=>Lx(A,"tox-mbtn",v,B.none(),i)),T=[GF(t.title)];return Gk(t,T,v),y.each(A=>T.push(A)),xc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:T,role:"treeitem",action:A=>{s(t.id),A.getSystem().broadcastOn([`update-active-item-${l}`],{value:t.id})},eventOrder:{[la()]:[Kk,"keying"]},buttonBehaviours:un([...i?[ur.config({})]:[],us.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Du.config({channels:{[`update-active-item-${l}`]:{onReceive:(A,L)=>{(L.value===t.id?us.on:us.off)(A)}}}}),Ao(Kk,[pr((A,L)=>{m.each(z=>{(z===t.id?us.on:us.off)(A)})}),At(la(),(A,L)=>{const z=L.event.raw.code==="ArrowLeft",j=L.event.raw.code==="ArrowRight";z?(Gl(A.element,".tox-tree--directory").each(Q=>{A.getSystem().getByDom(Q).each(le=>{Rf(Q,".tox-tree--directory__label").each(ae=>{le.getSystem().getByDom(ae).each(Ro.focus)})})}),L.stop()):j&&L.stop()})])])})},Yk=(t,s,i,l,m)=>xd(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(l||[]),behaviours:i,attributes:m},s),KF=(t,s)=>Yk(t,s,[]),YM=Tn("directory-label-event-id"),pK=({directory:t,visible:s,noChildren:i,backstage:l})=>{const m=t.menu.map(T=>Lx(T,"tox-mbtn",l,B.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[KF("chevron-right",l.shared.providers.icons)]},GF(t.title)];Gk(t,v,l),m.each(T=>{v.push(T)});const y=T=>{Gl(T.element,".tox-tree--directory").each(A=>{T.getSystem().getByDom(A).each(L=>{const z=!us.isOn(L);us.toggle(L),so(T,"expand-tree-node",{expanded:z,node:t.id})})})};return xc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:v,action:y,eventOrder:{[la()]:[YM,"keying"]},buttonBehaviours:un([...s?[ur.config({})]:[],Ao(YM,[At(la(),(T,A)=>{const L=A.event.raw.code==="ArrowRight",z=A.event.raw.code==="ArrowLeft";L&&i&&A.stop(),(L||z)&&Gl(T.element,".tox-tree--directory").each(j=>{T.getSystem().getByDom(j).each(Q=>{!us.isOn(Q)&&L||us.isOn(Q)&&z?(y(T),A.stop()):z&&!us.isOn(Q)&&(Gl(Q.element,".tox-tree--directory").each(le=>{Rf(le,".tox-tree--directory__label").each(ae=>{Q.getSystem().getByDom(ae).each(Ro.focus)})}),A.stop())})})})])])})},YF=({children:t,onLeafAction:s,visible:i,treeId:l,expandedIds:m,selectedId:v,backstage:y})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(T=>T.type==="leaf"?KM({leaf:T,selectedId:v,onLeafAction:s,visible:i,treeId:l,backstage:y}):XM({directory:T,expandedIds:m,selectedId:v,onLeafAction:s,labelTabstopping:i,treeId:l,backstage:y})),behaviours:un([Dl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),Mo.config({})])}),XF=Tn("directory-event-id"),XM=({directory:t,onLeafAction:s,labelTabstopping:i,treeId:l,backstage:m,expandedIds:v,selectedId:y})=>{const{children:T}=t,A=Qt(v),L=j=>T.map(Q=>Q.type==="leaf"?KM({leaf:Q,selectedId:y,onLeafAction:s,visible:j,treeId:l,backstage:m}):XM({directory:Q,expandedIds:A.get(),selectedId:y,onLeafAction:s,labelTabstopping:j,treeId:l,backstage:m})),z=v.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[pK({directory:t,visible:i,noChildren:t.children.length===0,backstage:m}),YF({children:T,expandedIds:v,selectedId:y,onLeafAction:s,visible:z,treeId:l,backstage:m})],behaviours:un([Ao(XF,[pr((j,Q)=>{us.set(j,z)}),At("expand-tree-node",(j,Q)=>{const{expanded:le,node:ae}=Q.event;A.set(le?[...A.get(),ae]:A.get().filter(_e=>_e!==ae))})]),us.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(j,Q)=>{const le=j.components()[1],ae=L(Q);Q?Dl.grow(le):Dl.shrink(le),Mo.set(le,ae)}})])}},JF=Tn("tree-event-id"),vK=(t,s)=>{const i=t.onLeafAction.getOr(oe),l=t.onToggleExpand.getOr(oe),m=t.defaultExpandedIds,v=Qt(m),y=Qt(t.defaultSelectedId),T=Tn("tree-id"),A=(L,z)=>t.items.map(j=>j.type==="leaf"?KM({leaf:j,selectedId:L,onLeafAction:i,visible:!0,treeId:T,backstage:s}):XM({directory:j,selectedId:L,onLeafAction:i,expandedIds:z,labelTabstopping:!0,treeId:T,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:A(y.get(),v.get()),behaviours:un([Jn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Ao(JF,[At("expand-tree-node",(L,z)=>{const{expanded:j,node:Q}=z.event;v.set(j?[...v.get(),Q]:v.get().filter(le=>le!==Q)),l(v.get(),{expanded:j,node:Q})})]),Du.config({channels:{[`update-active-item-${T}`]:{onReceive:(L,z)=>{y.set(B.some(z.value)),Mo.set(L,A(B.some(z.value),v.get()))}}}}),Mo.config({})])}},Nx=(t,s,i=[],l,m,v,y)=>{const T=s.fold(()=>({}),z=>({action:z})),A={buttonBehaviours:un([Ed.item(()=>!t.enabled||y.checkUiComponentContext(t.context).shouldDisable),Lr(()=>y.checkUiComponentContext(t.context)),ur.config({}),...v.map(z=>Pr.config(y.tooltips.getConfig({tooltipText:y.translate(z)}))).toArray(),Ao("button press",[Lg("click")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...T},L=Is(A,{dom:l});return Is(L,{components:m})},Lne=(t,s,i,l=[],m)=>{const v=t.tooltip.map(L=>({"aria-label":i.translate(L)})).getOr({}),y={tag:"button",classes:["tox-tbtn"],attributes:{...v,"data-mce-name":m}},T=t.icon.map(L=>tw(L,i.icons)),A=Xy([T]);return Nx(t,s,l,y,A,t.tooltip,i)},QF=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},e8=(t,s,i,l=[],m=[])=>{const v=i.translate(t.text),y=t.icon.map(le=>tw(le,i.icons)),T=[y.getOrThunk(()=>Mr(v))],A=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),j={tag:"button",classes:[...QF(A),...y.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...m],attributes:{"aria-label":v,"data-mce-name":t.text}},Q=t.icon.map(k(v));return Nx(t,s,l,j,T,Q,i)},t8=(t,s,i,l=[],m=[])=>{const v=e8(t,B.some(s),i,l,m);return xc.sketch(v)},JM=(t,s)=>i=>{s==="custom"?so(i,Vh,{name:t,value:{}}):s==="submit"?ts(i,Tx):s==="cancel"?ts(i,N1):console.error("Unknown button type: ",s)},bK=(t,s)=>s==="menu",yK=(t,s)=>s==="custom"||s==="cancel"||s==="submit",wK=(t,s)=>s==="togglebutton",CK=(t,s,i)=>{var l,m;const v=t.icon.map(Ve=>B1(Ve,s.icons)).map(Es),y=Ve=>{so(Ve,Vh,{name:t.name,value:{setIcon:mt=>{v.map(vt=>vt.getOpt(Ve).each(kn=>{Mo.set(kn,[B1(mt,s.icons)])}))}}})},T=t.buttonType.getOr(t.primary?"primary":"secondary"),A={...t,name:(l=t.name)!==null&&l!==void 0?l:"",tooltip:t.tooltip,enabled:(m=t.enabled)!==null&&m!==void 0?m:!1},L=A.tooltip.or(t.text).map(Ve=>({"aria-label":s.translate(Ve)})).getOr({}),z=QF(T??"secondary"),j=t.icon.isSome()&&t.text.isSome(),Q={tag:"button",classes:[...z.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...j?["tox-button--icon-and-text"]:[]],attributes:{...L,...ve(i)?{"data-mce-name":i}:{}}},le=[],ae=s.translate(t.text.getOr("")),_e=Mr(ae),Te=[...Xy([v.map(Ve=>Ve.asSpec())]),...t.text.isSome()?[_e]:[]],$e=Nx(A,B.some(y),le,Q,Te,t.tooltip,s);return xc.sketch($e)},Ix=(t,s,i)=>{if(bK(t,s)){const l=()=>y,m=t,v={...t,buttonType:"default",type:"menubutton",search:B.none(),onSetup:T=>(T.setEnabled(t.enabled),oe),fetch:qF(m.items,l,i)},y=Es(Lx(v,"tox-tbtn",i,B.none(),!0,t.text.or(t.tooltip).getOrUndefined()));return y.asSpec()}else if(yK(t,s)){const l=JM(t.name,s),m={...t,context:s==="cancel"?"any":t.context,borderless:!1};return t8(m,l,i.shared.providers,[])}else{if(wK(t,s))return CK(t,i.shared.providers,t.text.or(t.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},xK=(t,s)=>{const i=JM(t.name,"custom");return zG(B.none(),Yo.parts.field({factory:xc,...e8(t,B.some(i),s,[Bk(""),fm.self()])}))},SK={type:"separator"},n8=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:oe}),Xk=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:oe}),ow=t=>Tt(t,n8),EK=(t,s)=>_o(s,i=>i.type===t),QM=(t,s)=>ow(EK(t,s)),o8=t=>QM("header",t.targets),s8=t=>QM("anchor",t.targets),_K=t=>B.from(t.anchorTop).map(s=>Xk("<top>",s)).toArray(),r8=t=>B.from(t.anchorBottom).map(s=>Xk("<bottom>",s)).toArray(),i8=t=>Tt(t,s=>Xk(s,s)),TK=t=>jt(t,(s,i)=>s.length===0||i.length===0?s.concat(i):s.concat(SK,i),[]),eP=(t,s)=>{const i=t.toLowerCase();return _o(s,l=>{var m;const v=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,y=(m=l.value)!==null&&m!==void 0?m:"";return Ws(v.toLowerCase(),i)||Ws(y.toLowerCase(),i)})},a8=(t,s,i)=>{var l,m;const v=An.getValue(s),y=(m=(l=v==null?void 0:v.meta)===null||l===void 0?void 0:l.text)!==null&&m!==void 0?m:v.value;return i.getLinkInformation().fold(()=>[],A=>{const L=eP(y,i8(i.getHistory(t)));return t==="file"?TK([L,eP(y,o8(A)),eP(y,Lt([_K(A),s8(A),r8(A)]))]):L})},tP=Tn("aria-invalid"),kK=(t,s,i,l)=>{const m=s.shared.providers,v=$e=>{const Ve=An.getValue($e);i.addToHistory(Ve.value,t.filetype)},y={...l.map($e=>({initialData:$e})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{type:"url"},minChars:0,responseTime:0,fetch:$e=>{const Ve=a8(t.filetype,$e,i),mt=nw(Ve,lm.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:B.none()});return Qo.pure(mt)},getHotspot:$e=>ae.getOpt($e),onSetValue:($e,Ve)=>{$e.hasConfigured(om)&&om.run($e).get(oe)},typeaheadBehaviours:un([...i.getValidationHandler().map($e=>om.config({getRoot:Ve=>co(Ve.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Ve,mt)=>{z.getOpt(Ve).each(vt=>{lo(vt.element,"title",m.translate(mt))})}},validator:{validate:Ve=>{const mt=An.getValue(Ve);return dl.nu(vt=>{$e({type:t.filetype,url:mt.value},kn=>{if(kn.status==="invalid"){lo(Ve.element,"aria-errormessage",tP);const Yt=Un.error(kn.message);vt(Yt)}else{hr(Ve.element,"aria-errormessage");const Yt=Un.value(kn.message);vt(Yt)}})})},validateOnLoad:!1}})).toArray(),Kn.config({disabled:()=>!t.enabled||m.checkUiComponentContext(t.context).shouldDisable}),ur.config({}),Ao("urlinput-events",[At(Pm(),$e=>{const Ve=Pc($e.element),mt=Ve.trim();mt!==Ve&&vu($e.element,mt),t.filetype==="file"&&so($e,Ec,{name:t.name})}),At(wg(),$e=>{so($e,Ec,{name:t.name}),v($e)}),At(u2(),$e=>{so($e,Ec,{name:t.name}),v($e)})])]),eventOrder:{[Pm()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:$e=>$e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:Hy(!1,1,"normal")},onExecute:($e,Ve,mt)=>{so(Ve,Tx,{})},onItemExecute:($e,Ve,mt,vt)=>{v($e),so($e,Ec,{name:t.name})}},T=Yo.parts.field({...y,factory:gj}),A=t.label.map($e=>M0($e,m)),z=Es((($e,Ve,mt=$e,vt=$e)=>xd(mt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+$e],attributes:{title:m.translate(vt),"aria-live":"polite",...Ve.fold(()=>({}),kn=>({id:kn}))}},m.icons))("invalid",B.some(tP),"warning")),j=Es({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[z.asSpec()]}),Q=i.getUrlPicker(t.filetype),le=Tn("browser.url.event"),ae=Es({dom:{tag:"div",classes:["tox-control-wrap"]},components:[T,j.asSpec()],behaviours:un([Kn.config({disabled:()=>!t.enabled||m.checkUiComponentContext(t.context).shouldDisable})])}),_e=Es(t8({context:t.context,name:t.name,icon:B.some("browse"),text:t.picker_text.or(t.label).getOr(""),enabled:t.enabled,primary:!1,buttonType:B.none(),borderless:!0},$e=>ts($e,le),m,[],["tox-browse-url"])),Ne=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Lt([[ae.asSpec()],Q.map(()=>_e.asSpec()).toArray()])}),Te=$e=>{Mt.getCurrent($e).each(Ve=>{const mt=An.getValue(Ve),vt={fieldname:t.name,...mt};Q.each(kn=>{kn(vt).get(Yt=>{An.setValue(Ve,Yt),so($e,Ec,{name:t.name})})})})};return Yo.sketch({dom:dF(),components:A.toArray().concat([Ne()]),fieldBehaviours:un([Kn.config({disabled:()=>!t.enabled||m.checkUiComponentContext(t.context).shouldDisable,onDisabled:$e=>{Yo.getField($e).each(Kn.disable),_e.getOpt($e).each(Kn.disable)},onEnabled:$e=>{Yo.getField($e).each(Kn.enable),_e.getOpt($e).each(Kn.enable)}}),Lr(()=>m.checkUiComponentContext(t.context)),Ao("url-input-events",[At(le,Te)])])})},AK=(t,s)=>{const i=cR(t.icon,s.icons);return nm.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:i},components:t.url?[xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:i,attributes:{title:s.translate(t.iconTooltip)}},action:l=>so(l,Vh,{name:"alert-banner",value:t.url}),buttonBehaviours:un([v$()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},OK=(t,s,i)=>{const l=A=>(A.element.dom.click(),B.some(!0)),m=Yo.parts.field({factory:{sketch:Ot},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:un([fm.self(),Kn.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:A=>{co(A.element).each(L=>Gs(L,"tox-checkbox--disabled"))},onEnabled:A=>{co(A.element).each(L=>zr(L,"tox-checkbox--disabled"))}}),ur.config({}),Ro.config({}),qG(i,nv,nd),Jn.config({mode:"special",onEnter:l,onSpace:l,stopSpaceKeyup:!0}),Ao("checkbox-events",[At(wg(),(A,L)=>{so(A,Ec,{name:t.name})})])])}),v=Yo.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Mr(s.translate(t.label))],behaviours:un([Ry.config({})])}),y=A=>xd(A==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+A]},s.icons),T=Es({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[y("checked"),y("unchecked")]});return Yo.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[m,T.asSpec(),v],fieldBehaviours:un([Kn.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable}),Lr(()=>s.checkUiComponentContext(t.context))])})},DK=(t,s)=>{const i=["tox-form__group",...t.stretched?["tox-form__group--stretched"]:[]],l=Ao("htmlpanel",[pr(m=>{t.onInit(m.element.dom)})]);return t.presets==="presentation"?nm.sketch({dom:{tag:"div",classes:i,innerHtml:t.html},containerBehaviours:un([Pr.config({...s.tooltips.getConfig({tooltipText:"",onShow:m=>{Fs(m.element,"[data-mce-tooltip]:hover").orThunk(()=>ci(m.element)).each(v=>{ia(v,"data-mce-tooltip").each(y=>{Pr.setComponents(m,s.tooltips.getComponents({tooltipText:y}))})})}}),mode:"children-normal",anchor:m=>({type:"node",node:Fs(m.element,"[data-mce-tooltip]:hover").orThunk(()=>ci(m.element).filter(v=>ia(v,"data-mce-tooltip").isSome())),root:m.element,layouts:{onLtr:k([Ti,ua,Hi,Va,Dr,Yi]),onRtl:k([Ti,ua,Hi,Va,Dr,Yi])},bubble:tu(0,-2,{})})}),l])}):nm.sketch({dom:{tag:"div",classes:i,innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:un([ur.config({}),Ro.config({}),l])})},ma=t=>(s,i,l,m,v)=>_t(i,"name").fold(()=>t(i,m,B.none(),v),y=>s.field(y,t(i,m,_t(l,y),v))),RK=t=>(s,i,l,m,v)=>{const y=Is(i,{source:"dynamic"});return ma(t)(s,y,l,m,v)},MK={bar:ma((t,s)=>HG(t,s.shared)),collection:ma((t,s,i)=>UG(t,s.shared.providers,i)),alertbanner:ma((t,s)=>AK(t,s.shared.providers)),input:ma((t,s,i)=>gK(t,s.shared.providers,i)),textarea:ma((t,s,i)=>jF(t,s.shared.providers,i)),label:ma((t,s,i,l)=>Vk(t,s.shared,l)),iframe:RK((t,s,i)=>RF(t,s.shared.providers,i)),button:ma((t,s)=>xK(t,s.shared.providers)),checkbox:ma((t,s,i)=>OK(t,s.shared.providers,i)),colorinput:ma((t,s,i)=>jG(t,s.shared,s.colorinput,i)),colorpicker:ma((t,s,i)=>JG(t,s.shared.providers,i)),dropzone:ma((t,s,i)=>tK(t,s.shared.providers,i)),grid:ma((t,s)=>nK(t,s.shared)),listbox:ma((t,s,i)=>nh(t,s,i)),selectbox:ma((t,s,i)=>hK(t,s.shared.providers,i)),sizeinput:ma((t,s)=>Mne(t,s.shared.providers)),slider:ma((t,s,i)=>Pne(t,s.shared.providers,i)),urlinput:ma((t,s,i)=>kK(t,s,s.urlinput,i)),customeditor:ma(eK),htmlpanel:ma((t,s)=>DK(t,s.shared.providers)),imagepreview:ma((t,s,i)=>lK(t,i)),table:ma((t,s)=>Ml(t,s.shared.providers)),tree:ma((t,s)=>vK(t,s)),panel:ma((t,s)=>ZM(t,s))},PK={field:(t,s)=>s,record:k([])},c8=(t,s,i,l,m)=>{const v=Is(l,{shared:{interpreter:y=>nP(t,y,i,v,m)}});return nP(t,s,i,v,m)},nP=(t,s,i,l,m)=>_t(MK,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),v=>v(t,s,i,l,m)),l8=(t,s,i,l)=>nP(PK,t,s,i,l),Jk={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},LK=(t,s,i)=>{const m={maxHeightFunction:Pg()},v=()=>({type:"node",root:Jr(Br(t())),node:B.from(t()),bubble:tu(12,12,Jk),layouts:{onRtl:()=>[Et],onLtr:()=>[Kp]},overrides:m}),y=()=>({type:"hotspot",hotspot:s(),bubble:tu(-12,12,Jk),layouts:{onRtl:()=>[Hi,Dr,Ti],onLtr:()=>[Dr,Hi,Ti]},overrides:m});return()=>i()?v():y()},u8=(t,s,i,l)=>{const v={maxHeightFunction:Pg()},y=()=>({type:"node",root:Jr(Br(s())),node:B.from(s()),bubble:tu(12,12,Jk),layouts:{onRtl:()=>[ol],onLtr:()=>[ol]},overrides:v}),T=()=>t?{type:"node",root:Jr(Br(s())),node:B.from(s()),bubble:tu(0,-wi(s()),Jk),layouts:{onRtl:()=>[ua],onLtr:()=>[ua]},overrides:v}:{type:"hotspot",hotspot:i(),bubble:tu(0,0,Jk),layouts:{onRtl:()=>[ua],onLtr:()=>[ua]},overrides:v};return()=>l()?y():T()},d8=(t,s,i)=>{const l=()=>({type:"node",root:Jr(Br(t())),node:B.from(t()),layouts:{onRtl:()=>[ol],onLtr:()=>[ol]}}),m=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[Ti],onLtr:()=>[Ti]}});return()=>i()?l():m()},Qk=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=t.selection.getRng(),l=t.model.table.getSelectedCells();if(l.length>1){const m=l[0],v=l[l.length-1],y={firstCell:pn.fromDom(m),lastCell:pn.fromDom(v)};return B.some(y)}return B.some(Yl.range(pn.fromDom(i.startContainer),i.startOffset,pn.fromDom(i.endContainer),i.endOffset))}}),f8=t=>s=>({type:"node",root:t(),node:s}),NK=(t,s,i,l)=>{const m=$y(t),v=()=>pn.fromDom(t.getBody()),y=()=>pn.fromDom(t.getContentAreaContainer()),T=()=>m||!l();return{inlineDialog:LK(y,s,T),inlineBottomDialog:u8(t.inline,y,i,T),banner:d8(y,s,T),cursor:Qk(t,v),node:f8(v)}},IK=t=>(s,i)=>{Pk(t)(s,i)},BK=t=>()=>bM(t),$K=t=>s=>xx(t,s),FK=t=>s=>H6(t,s),HK=t=>({colorPicker:IK(t),hasCustomColors:BK(t),getColors:$K(t),getColorCols:FK(t)}),zK=t=>()=>jB(t),m8=t=>({isDraggableModal:zK(t)}),h8=t=>{const s=Qt(Z3(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},g8=t=>cn(t,"items"),oP=t=>cn(t,"format"),p8=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],VK=t=>yn(t,"items"),UK=t=>yn(t,"block"),L0=t=>yn(t,"inline"),v8=t=>yn(t,"selector"),sw=t=>jt(t,(s,i)=>{if(VK(i)){const l=sw(i.items);return{customFormats:s.customFormats.concat(l.customFormats),formats:s.formats.concat([{title:i.title,items:l.formats}])}}else if(L0(i)||UK(i)||v8(i)){const m=`custom-${$(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:m,format:i}]),formats:s.formats.concat([{title:i.title,format:m,icon:i.icon}])}}else return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),eA=(t,s)=>{const i=sw(s),l=m=>{rn(m,v=>{t.formatter.has(v.name)||t.formatter.register(v.name,v.format)})};return t.formatter?l(i.customFormats):t.on("init",()=>{l(i.customFormats)}),i.formats},sP=t=>RB(t).map(s=>{const i=eA(t,s);return MB(t)?p8.concat(i):i}).getOr(p8),b8=t=>{const s=Rn(t);return s.length===1&&Pn(s,"title")},rP=(t,s,i)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:i(t.format)}),WK=(t,s,i,l)=>{const m=A=>rP(A,i,l),v=A=>{const L=T(A.items);return{...A,type:"submenu",getStyleItems:k(L)}},y=A=>{const L=$(A.name)?A.name:Tn(A.title),z=`custom-${L}`,j={...A,type:"formatter",format:z,isSelected:i(z),getStylePreview:l(z)};return t.formatter.register(L,j),j},T=A=>Tt(A,L=>g8(L)?v(L):oP(L)?m(L):b8(L)?{...L,type:"separator"}:y(L));return T(s)},jK=t=>{const s=T=>()=>t.formatter.match(T),i=T=>()=>{const A=t.formatter.get(T);return A!==void 0?B.some({tag:A.length>0&&(A[0].inline||A[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(T))}):B.none()},l=Qt([]),m=Qt([]),v=Qt(!1);return t.on("PreInit",T=>{const A=sP(t),L=WK(t,A,s,i);l.set(L)}),t.on("addStyleModifications",T=>{const A=WK(t,T.items,s,i);m.set(A),v.set(T.replace)}),{getData:()=>{const T=v.get()?[]:l.get(),A=m.get();return T.concat(A)}}},ZK=t=>{let l=0;const m=()=>l>0,v=T=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Mr(T.tooltipText)]}];return{getConfig:T=>({delayForShow:()=>m()?60:300,delayForHide:k(300),exclusive:!0,lazySink:t,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:v(T),onShow:(A,L)=>{l++,T.onShow&&T.onShow(A,L)},onHide:(A,L)=>{l--,T.onHide&&T.onHide(A,L)},onSetup:T.onSetup}),getComponents:v}},qK=t=>ve(t)&&t.nodeType===1,GK=mp.trim,y8=t=>s=>!!(qK(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),KK=y8("true"),rw=y8("false"),iw=(t,s,i,l,m)=>({type:t,title:s,url:i,level:l,attach:m}),iP=t=>{let s=t;for(;s=s.parentNode;){const i=s.contentEditable;if(i&&i!=="inherit")return KK(s)}return!1},YK=(t,s)=>Tt(qi(pn.fromDom(s),t),i=>i.dom),w8=t=>t.innerText||t.textContent,aP=t=>t.id?t.id:Tn("h"),XK=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,Bx=t=>XK(t)&&C8(t),cP=t=>t&&/^(H[1-6])$/.test(t.nodeName),C8=t=>iP(t)&&!rw(t),JK=t=>cP(t)&&C8(t),QK=t=>cP(t)?parseInt(t.nodeName.substr(1),10):0,eY=t=>{var s;const i=aP(t),l=()=>{t.id=i};return iw("header",(s=w8(t))!==null&&s!==void 0?s:"","#"+i,QK(t),l)},tY=t=>{const s=t.id||t.name,i=w8(t);return iw("anchor",i||"#"+s,"#"+s,0,oe)},nY=t=>Tt(_o(t,JK),eY),x8=t=>Tt(_o(t,Bx),tY),S8=t=>YK("h1,h2,h3,h4,h5,h6,a:not([href])",t),lP=t=>GK(t.title).length>0,tA={find:t=>{const s=S8(t);return _o(nY(s).concat(x8(s)),lP)}},N0="tinymce-url-history",uP=5,E8=t=>$(t)&&/^https?/.test(t),oY=t=>ee(t)&&t.length<=uP&&et(t,E8),_8=t=>Z(t)&&_n(t,s=>!oY(s)).isNone(),T8=()=>{const t=fp.getItem(N0);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+N0+" was not valid JSON",i),{};throw i}return _8(s)?s:(console.log("Local storage "+N0+" was not valid format",s),{})},dP=t=>{if(!_8(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));fp.setItem(N0,JSON.stringify(t))},sY=t=>{const s=T8();return _t(s,t).getOr([])},fP=(t,s)=>{if(!E8(t))return;const i=T8(),l=_t(i,s).getOr([]),m=_o(l,v=>v!==t);i[s]=[t].concat(m).slice(0,uP),dP(i)},k8=t=>!!t,mP=t=>Oo(mp.makeMap(t,/[, ]/),k8),hP=t=>B.from(HB(t)),rY=t=>{const s=B.from(UB(t)).filter(k8).map(mP);return hP(t).fold(Ct,i=>s.fold(Nt,l=>Rn(l).length>0?l:!1))},iY=(t,s)=>{const i=rY(t);return ke(i)?i?hP(t):B.none():i[s]?hP(t):B.none()},aY=(t,s)=>iY(t,s).map(i=>l=>Qo.nu(m=>{const v=(T,A)=>{if(!$(T))throw new Error("Expected value to be string");if(A!==void 0&&!Z(A))throw new Error("Expected meta to be a object");m({value:T,meta:A})},y={filetype:s,fieldname:l.fieldname,...B.from(l.meta).getOr({})};i.call(t,v,l.value,y)})),A8=t=>B.from(t).filter($).getOrUndefined(),Ine=t=>V3(t)?B.some({targets:tA.find(t.getBody()),anchorTop:A8(WB(t)),anchorBottom:A8(U3(t))}):B.none(),Bne=t=>B.from(zB(t)),O8=t=>({getHistory:sY,addToHistory:fP,getLinkInformation:()=>Ine(t),getValidationHandler:()=>Bne(t),getUrlPicker:s=>aY(t,s)}),cY=(t,s,i,l)=>{const m=Qt(!1),v=h8(s),y={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:Ai.translate,isDisabled:()=>!s.ui.isEnabled(),getOption:s.options.get,tooltips:ZK(t.dialog),checkUiComponentContext:Te=>{if(NT(s))return{contextType:"disabled",shouldDisable:!0};const[$e,Ve=""]=Te.split(":"),mt=s.ui.registry.getAll().contexts,vt=_t(mt,$e).fold(()=>_t(mt,"mode").map(kn=>kn("design")).getOr(!1),kn=>Ve.charAt(0)==="!"?!kn(Ve.slice(1)):kn(Ve));return{contextType:$e,shouldDisable:!vt}}},T=O8(s),A=jK(s),L=HK(s),z=m8(s),j=()=>m.get(),Q=Te=>m.set(Te),le={shared:{providers:y,anchors:NK(s,i,l,v.isPositionedAtTop),header:v},urlinput:T,styles:A,colorinput:L,dialog:z,isContextMenuOpen:j,setContextMenuState:Q},ae=Te=>B.none(),_e={...le,shared:{...le.shared,interpreter:Te=>l8(Te,{},_e,ae),getSink:t.popup}},Ne={...le,shared:{...le.shared,interpreter:Te=>l8(Te,{},Ne,ae),getSink:t.dialog}};return{popup:_e,dialog:Ne}},uY={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},dY=t=>{console.warn(uY[t],new Error().stack)},fY=(t,s,i)=>{const l=(Wt,oo)=>{rn([s,...i],Zn=>{Zn.broadcastEvent(Wt,oo)})},m=(Wt,oo)=>{rn([s,...i],Zn=>{Zn.broadcastOn([Wt],oo)})},v=Wt=>m(zm(),{target:Wt.target}),y=Wt=>{m(Rv(),{closedTooltip:()=>{Wt.preventDefault()}})},T=ra(),A=Bs(T,"touchstart",v),L=Bs(T,"touchmove",Wt=>l(f2(),Wt)),z=Bs(T,"touchend",Wt=>l(KS(),Wt)),j=Bs(T,"mousedown",v),Q=Bs(T,"mouseup",Wt=>{Wt.raw.button===0&&m(jf(),{target:Wt.target})}),le=Wt=>m(zm(),{target:pn.fromDom(Wt.target)}),ae=Wt=>{Wt.button===0&&m(jf(),{target:pn.fromDom(Wt.target)})},_e=()=>{rn(t.editorManager.get(),Wt=>{t!==Wt&&Wt.dispatch("DismissPopups",{relatedTarget:t})})},Ne=Wt=>l(_g(),cc(Wt)),Te=Wt=>{m(Qa(),{}),l(Tg(),cc(Wt))},$e=Br(pn.fromDom(t.getElement())),Ve=vl($e,"scroll",Wt=>{requestAnimationFrame(()=>{const oo=t.getContainer();if(oo!=null){const is=uf(t,s.element).map(fo=>[fo.element,...fo.others]).getOr([]);jo(is,fo=>X(fo,Wt.target))&&(t.dispatch("ElementScroll",{target:Wt.target.dom}),l(XS(),Wt))}})}),mt=()=>m(Qa(),{}),vt=Wt=>{Wt.state&&m(zm(),{target:pn.fromDom(t.getContainer())})},kn=Wt=>{m(zm(),{target:pn.fromDom(Wt.relatedTarget.getContainer())})},Yt=Wt=>t.dispatch("focusin",Wt),Jt=Wt=>t.dispatch("focusout",Wt);t.on("PostRender",()=>{t.on("click",le),t.on("tap",le),t.on("mouseup",ae),t.on("mousedown",_e),t.on("ScrollWindow",Ne),t.on("ResizeWindow",Te),t.on("ResizeEditor",mt),t.on("AfterProgressState",vt),t.on("DismissPopups",kn),t.on("CloseActiveTooltips",y),rn([s,...i],Wt=>{Wt.element.dom.addEventListener("focusin",Yt),Wt.element.dom.addEventListener("focusout",Jt)})}),t.on("remove",()=>{t.off("click",le),t.off("tap",le),t.off("mouseup",ae),t.off("mousedown",_e),t.off("ScrollWindow",Ne),t.off("ResizeWindow",Te),t.off("ResizeEditor",mt),t.off("AfterProgressState",vt),t.off("DismissPopups",kn),t.off("CloseActiveTooltips",y),rn([s,...i],Wt=>{Wt.element.dom.removeEventListener("focusin",Yt),Wt.element.dom.removeEventListener("focusout",Jt)}),j.unbind(),A.unbind(),L.unbind(),z.unbind(),Q.unbind(),Ve.unbind()}),t.on("detach",()=>{rn([s,...i],w_),rn([s,...i],Wt=>Wt.destroy())})},mY=oe,hY=Ct,gP=k([]);var gY=Object.freeze({__proto__:null,setup:mY,isDocked:hY,getBehaviours:gP});const pP=k(Tn("toolbar-height-change")),Uh={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},pY="tox-tinymce--toolbar-sticky-on",vY="tox-tinymce--toolbar-sticky-off",D8=(t,s)=>{const i=Me(s),m=Zt(s).dom.innerHeight,v=Qr(i),y=pn.fromDom(t.elm),T=Wd(y),A=yi(y),L=T.y,z=L+A,j=Ia(s),Q=yi(s),le=j.top,ae=le+Q,_e=Math.abs(le-v.top)<2,Ne=Math.abs(ae-(v.top+m))<2;if(_e&&L<ae)Hd(v.left,L-Q,i);else if(Ne&&z>le){const Te=L-m+A+Q;Hd(v.left,Te,i)}},$x=(t,s)=>Pn(Wr.getModes(t),s),vP=t=>{const s=l=>wi(l)+(parseInt(gr(l,"margin-top"),10)||0)+(parseInt(gr(l,"margin-bottom"),10)||0),i=t.element;co(i).each(l=>{const m="padding-"+Wr.getModes(t)[0];if(Wr.isDocked(t)){const v=Sa(l);bo(i,"width",v+"px"),bo(l,m,s(i)+"px")}else os(i,"width"),os(l,m)})},R8=(t,s)=>{s?(zr(t,Uh.fadeOutClass),rd(t,[Uh.transitionClass,Uh.fadeInClass])):(zr(t,Uh.fadeInClass),rd(t,[Uh.fadeOutClass,Uh.transitionClass]))},zu=(t,s)=>{const i=pn.fromDom(t.getContainer());s?(Gs(i,pY),zr(i,vY)):(Gs(i,vY),zr(i,pY))},bY=(t,s)=>{const i=Me(s);ji(i).filter(l=>!X(s,l)).filter(l=>X(l,pn.fromDom(i.dom.body))||se(t,l)).each(()=>Wi(s))},M8=(t,s)=>ci(t).orThunk(()=>s().toOptional().bind(i=>ci(i.element))),P8=(t,s,i)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{i().each(Wr.reset)}),t.on("ResizeWindow ResizeEditor",()=>{i().each(vP)}),t.on("SkinLoaded",()=>{i().each(l=>{Wr.isDocked(l)?Wr.reset(l):Wr.refresh(l)})}),t.on("FullscreenStateChanged",()=>{i().each(Wr.reset)})),t.on("AfterScrollIntoView",l=>{i().each(m=>{Wr.refresh(m);const v=m.element;$d(v)&&D8(l,v)})}),t.on("PostRender",()=>{zu(t,!1)})},yY=t=>t().map(Wr.isDocked).getOr(!1),Fx=()=>[Du.config({channels:{[pP()]:{onReceive:vP}}})],L8=(t,s)=>{const i=go(),l=s.getSink,m=T=>{l().each(A=>T(A.element))},v=T=>{t.inline||vP(T),zu(t,Wr.isDocked(T)),T.getSystem().broadcastOn([Qa()],{}),l().each(A=>A.getSystem().broadcastOn([Qa()],{}))},y=t.inline?[]:Fx();return[Ro.config({}),Wr.config({contextual:{lazyContext:T=>{const A=wi(T.element),L=t.inline?t.getContentAreaContainer():t.getContainer();return B.from(L).map(z=>{const j=Ei(pn.fromDom(z));return uf(t,T.element).fold(()=>{const le=j.height-A,ae=j.y+($x(T,"top")?0:A);return Bi(j.x,ae,j.width,le)},le=>{const ae=Lp(j,x1(le)),_e=$x(T,"top")?ae.y:ae.y+A;return Bi(ae.x,_e,ae.width,ae.height-A)})})},onShow:()=>{m(T=>R8(T,!0))},onShown:T=>{m(A=>$a(A,[Uh.transitionClass,Uh.fadeInClass])),i.get().each(A=>{bY(T.element,A),i.clear()})},onHide:T=>{M8(T.element,l).fold(i.clear,i.set),m(A=>R8(A,!1))},onHidden:()=>{m(T=>$a(T,[Uh.transitionClass]))},...Uh},lazyViewport:T=>uf(t,T.element).fold(()=>{const L=uc(),z=$B(t),j=L.y+($x(T,"top")&&!xj(t)?z:0),Q=L.height-($x(T,"bottom")?z:0);return{bounds:Bi(L.x,j,L.width,Q),optScrollEnv:B.none()}},L=>({bounds:x1(L),optScrollEnv:B.some({currentScrollTop:L.element.dom.scrollTop,scrollElmTop:Ia(L.element).top})})),modes:[s.header.getDockingMode()],onDocked:v,onUndocked:v}),...y]};var nA=Object.freeze({__proto__:null,setup:P8,isDocked:yY,getBehaviours:L8});const wY=t=>{const s=t.editor,i=t.sticky?L8:gP;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:un(i(s,t.sharedBackstage))}};var yP=Ou({factory:(t,s)=>{const i=(m,v)=>{const y=Tt(v,T=>{const A={type:"menubutton",text:T.text,fetch:z=>{z(T.getItems())},context:"any"},L=Z$(A).mapError(z=>bh(z)).getOrDie();return Lx(L,"tox-mbtn",s.backstage,B.some("menuitem"))});Mo.set(m,y)},l={focus:Jn.focusIn,setMenus:i};return{uid:t.uid,dom:t.dom,components:[],behaviours:un([Mo.config({}),Ao("menubar-events",[pr(m=>{t.onSetup(m)}),At(ud(),(m,v)=>{Fs(m.element,".tox-mbtn--active").each(y=>{Ba(v.event.target,".tox-mbtn").each(T=>{X(y,T)||m.getSystem().getByDom(y).each(A=>{m.getSystem().getByDom(T).each(L=>{Pu.expand(L),Pu.close(A),Ro.focus(L)})})})})}),At(fv(),(m,v)=>{v.event.prevFocus.bind(y=>m.getSystem().getByDom(y).toOptional()).each(y=>{v.event.newFocus.bind(T=>m.getSystem().getByDom(T).toOptional()).each(T=>{Pu.isOpen(y)&&(Pu.expand(T),Pu.close(y))})})})]),Jn.config({mode:"flow",selector:".tox-mbtn",onEscape:m=>(t.onEscape(m),B.some(!0))}),ur.config({})]),apis:l,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Vt("dom"),Vt("uid"),Vt("onEscape"),Vt("backstage"),ct("onSetup",oe)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,i)=>{t.setMenus(s,i)}}});const CY=" Get all features",gf="https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",xY=t=>{const s=t.promotionLink?[{dom:{tag:"a",attributes:{href:gf,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:CY}}]:[];return{uid:t.uid,dom:t.dom,components:s}},oA=t=>{const{sidebars:s}=t.ui.registry.getAll();rn(Rn(s),i=>{const l=s[i],m=()=>La(B.from(t.queryCommandValue("ToggleSidebar")),i);t.ui.registry.addToggleButton(i,{icon:l.icon,tooltip:l.tooltip,onAction:v=>{t.execCommand("ToggleSidebar",!1,i),v.setActive(m())},onSetup:v=>{v.setActive(m());const y=()=>v.setActive(m());return t.on("ToggleSidebar",y),()=>{t.off("ToggleSidebar",y)}},context:"any"})})},N8=t=>({element:()=>t.element.dom}),I8=(t,s)=>{const i=Tt(Rn(s),l=>{const m=s[l],v=cd(i6(m));return{name:l,getApi:N8,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return Tt(i,l=>{const m=Qt(oe);return t.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:px.unnamedEvents([_d(l,m),dp(l,m),At(mv(),(v,y)=>{const T=y.event;ut(i,L=>L.name===T.name).each(L=>{(T.visible?L.onShow:L.onHide)(L.getApi(v))})})])})})},SY=t=>jc.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:I8(s,t),slotBehaviours:px.unnamedEvents([pr(i=>jc.hideAllSlots(i))])})),B8=(t,s,i)=>{Mt.getCurrent(t).each(m=>{Mo.set(m,[SY(s)]);const v=i==null?void 0:i.toLowerCase();$(v)&&yn(s,v)&&Mt.getCurrent(m).each(y=>{jc.showSlot(y,v),Dl.immediateGrow(m),os(m.element,"width"),sA(t.element,"region")})})},sA=(t,s)=>{lo(t,"role",s)},EY=(t,s)=>{Mt.getCurrent(t).each(l=>{Mt.getCurrent(l).each(v=>{Dl.hasGrown(l)?jc.isShowing(v,s)?(Dl.shrink(l),sA(t.element,"presentation")):(jc.hideAllSlots(v),jc.showSlot(v,s),sA(t.element,"region")):(jc.hideAllSlots(v),jc.showSlot(v,s),Dl.grow(l),sA(t.element,"region"))})})},_Y=t=>Mt.getCurrent(t).bind(i=>Dl.isGrowing(i)||Dl.hasGrown(i)?Mt.getCurrent(i).bind(v=>ut(jc.getSlotNames(v),y=>jc.isShowing(v,y))):B.none()),wP=Tn("FixSizeEvent"),CP=Tn("AutoSizeEvent"),TY=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:un([ur.config({}),Ro.config({}),Dl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Mt.getCurrent(s).each(jc.hideAllSlots),ts(s,CP)},onGrown:s=>{ts(s,CP)},onStartGrow:s=>{so(s,wP,{width:_r(s.element,"width").getOr("")})},onStartShrink:s=>{so(s,wP,{width:Sa(s.element)+"px"})}}),Mo.config({}),Mt.config({find:s=>{const i=Mo.contents(s);return rt(i)}})])}],behaviours:un([fm.childAt(0),Ao("sidebar-sliding-events",[At(wP,(s,i)=>{bo(s.element,"width",i.event.width)}),At(CP,(s,i)=>{os(s.element,"width")})])])}),kY=t=>(s,i)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Km('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),xP=t=>Mt.getCurrent(t).each(s=>Wi(s.element,!0)),$8=(t,s)=>{const i="tabindex",l=`data-mce-${i}`;B.from(t.iframeElement).map(pn.fromDom).each(m=>{s?(ia(m,i).each(v=>lo(m,l,v)),lo(m,i,-1)):(hr(m,i),ia(m,l).each(v=>{lo(m,i,v),hr(m,l)}))})},F8=(t,s,i,l)=>{const m=s.element;if($8(t,i),i)Gt.block(s,kY(l)),os(m,"display"),hr(m,"aria-hidden"),t.hasFocus()&&xP(s);else{const v=Mt.getCurrent(s).exists(y=>jl(y.element));Gt.unblock(s),bo(m,"display","none"),lo(m,"aria-hidden","true"),v&&t.focus()}},AY=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:un([Mo.config({}),Gt.config({focus:!1}),Mt.config({find:s=>rt(s.components())})]),components:[]}),H8=t=>t.type==="focusin",OY=t=>H8(t)?(t.composed?rt(t.composedPath()):B.from(t.target)).map(pn.fromDom).filter(ya).exists(i=>ui(i,"mce-pastebin")):!1,DY=(t,s,i)=>{const l=Qt(!1),m=go(),v=T=>{l.get()&&!OY(T)&&(T.preventDefault(),xP(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",v),t.on("BeforeExecCommand",T=>{T.command.toLowerCase()==="mcefocus"&&T.value!==!0&&v(T)})});const y=T=>{T!==l.get()&&(l.set(T),F8(t,s(),T,i.providers),nG(t,T))};t.on("ProgressState",T=>{if(m.on(clearTimeout),Be(T.time)){const A=PT.setEditorTimeout(t,()=>y(T.state),T.time);m.set(A)}else y(T.state),m.clear()})},SP=t=>{const s=t.label.isNone()?t.title.fold(()=>({}),i=>({attributes:{"aria-label":i}})):t.label.fold(()=>({}),i=>({attributes:{"aria-label":i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(t.label.isSome()?["tox-toolbar__group_with_label"]:[]),...s},components:[...t.label.map(i=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Mr(i)]})).toArray(),kT.parts.items({})],items:t.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:un([ur.config({}),Ro.config({ignore:!0})])}},Hx=t=>kT.sketch(SP(t)),EP=(t,s)=>{const i=pr(l=>{const m=Tt(t.initGroups,Hx);Ls.setGroups(l,m)});return un([Ed.toolbarButton(()=>t.providers.checkUiComponentContext("any").shouldDisable),Lr(()=>t.providers.checkUiComponentContext("any")),Jn.config({mode:s,onEscape:t.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),Ao("toolbar-events",[i])])},z8=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":SP({title:B.none(),label:B.none(),items:[]}),"overflow-button":Lne({context:"any",icon:B.some("more-drawer"),enabled:!0,tooltip:B.some("Reveal or hide additional toolbar items")},B.none(),t.providers,[],"overflow-button")},splitToolbarBehaviours:EP(t,s)}},RY=t=>{const s=z8(t),i=4,l=A3.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return A3.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const m=t.moreDrawerData.lazyHeader().element,v=Wd(m),y=Bt(m),T=Wd(y),A=Math.max(y.dom.scrollHeight,T.height);return Bi(v.x+i,T.y,v.width-i*2,A)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[l],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>t.onToggled(m,!0),onClosed:m=>t.onToggled(m,!1)})},MY=t=>{const s=R3.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=R3.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=z8(t);return R3.sketch({...l,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>{m.getSystem().broadcastOn([pP()],{type:"opened"}),t.onToggled(m,!0)},onClosed:m=>{m.getSystem().broadcastOn([pP()],{type:"closed"}),t.onToggled(m,!1)}})},zx=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return Ls.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===wd.scrolling?["tox-toolbar--scrolling"]:[])},components:[Ls.parts.groups({})],toolbarBehaviours:EP(t,s)})},PY=(t,s)=>{var i,l;const m=t.type==="togglebutton",v=t.icon.map(Ve=>B1(Ve,s.icons)).map(Es),T=Ve=>{const mt=Jt=>{v.map(Wt=>Wt.getOpt(Ve).each(oo=>{Mo.set(oo,[B1(Jt,s.icons)])}))},vt=Jt=>{const Wt=Ve.element;Jt?(Gs(Wt,"tox-button--enabled"),lo(Wt,"aria-pressed",!0)):(zr(Wt,"tox-button--enabled"),hr(Wt,"aria-pressed"))},kn=()=>ui(Ve.element,"tox-button--enabled"),Yt=()=>Wi(Ve.element);if(m)return t.onAction({setIcon:mt,setActive:vt,isActive:kn,focus:Yt});if(t.type==="button")return t.onAction({setIcon:mt})},A={...t,name:m?t.text.getOr(t.icon.getOr("")):(i=t.text)!==null&&i!==void 0?i:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:B.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},L=QF((l=t.buttonType)!==null&&l!==void 0?l:"secondary"),z=m?t.text.map(s.translate):B.some(s.translate(t.text)),j=z.map(Mr),Q=A.tooltip.or(z).map(Ve=>({"aria-label":s.translate(Ve)})).getOr({}),le=v.map(Ve=>Ve.asSpec()),ae=Xy([le,j]),_e=t.icon.isSome()&&j.isSome(),Ne={tag:"button",classes:L.concat(...t.icon.isSome()&&!_e?["tox-button--icon"]:[]).concat(..._e?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:Q},Te=[],$e=Nx(A,B.some(T),Te,Ne,ae,t.tooltip,s);return xc.sketch($e)},V8=(t,s)=>PY(t,s),LY=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Tt(t.buttons,i=>V8(i,s))}),U8=cr().deviceType,NY=U8.isPhone(),IY=U8.isTablet(),BY=t=>{let s=!1;const i=Tt(t.buttons,l=>l.type==="group"?(s=!0,LY(l,t.providers)):V8(l,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...NY||IY?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:un([Ro.config({}),Jn.config({mode:"flow",selector:"button, .tox-button",focusInside:gd.OnEnterOrSpaceMode})]),components:s?i:[nm.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),nm.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}},$Y=t=>({uid:t.uid,behaviours:un([Ro.config({}),ur.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),FY=(t,s,i,l)=>{const m={getPane:v=>Da.getPart(v,t,"pane"),getOnShow:v=>t.viewConfig.onShow,getOnHide:v=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,behaviours:un([Ro.config({}),Jn.config({mode:"cyclic",focusInside:gd.OnEnterOrSpaceMode})]),apis:m}};var aw=rl({name:"silver.View",configFields:[Vt("viewConfig")],partFields:[kl({factory:{sketch:BY},schema:[Vt("buttons"),Vt("providers")],name:"header"}),kl({factory:{sketch:$Y},schema:[],name:"pane"})],factory:FY,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const _P=(t,s,i)=>bn(s,(l,m)=>{const v=cd(d6(l));return t.slot(m,aw.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[aw.parts.header({buttons:v.buttons,providers:i})]:[],aw.parts.pane({})]}))}),HY=(t,s)=>jc.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:_P(i,t,s),slotBehaviours:px.unnamedEvents([pr(l=>jc.hideAllSlots(l))])})),W8=t=>ut(jc.getSlotNames(t),s=>jc.isShowing(t,s)),j8=t=>{const s=t.element;bo(s,"display","none"),lo(s,"aria-hidden","true")},Z8=t=>{const s=t.element;os(s,"display"),hr(s,"aria-hidden")},zY=t=>({getContainer:k(t)}),q8=(t,s,i)=>{jc.getSlot(t,s).each(l=>{aw.getPane(l).each(m=>{i(l)(zY(m.element.dom))})})},VY=(t,s)=>q8(t,s,aw.getOnShow),UY=(t,s)=>q8(t,s,aw.getOnHide);var rA=Ou({factory:(t,s)=>{const v={setViews:(y,T)=>{Mo.set(y,[HY(T,s.backstage.shared.providers)])},whichView:y=>Mt.getCurrent(y).bind(W8),toggleView:(y,T,A,L)=>Mt.getCurrent(y).exists(z=>{const j=W8(z),Q=j.exists(ae=>L===ae),le=jc.getSlot(z,L).isSome();return le&&(jc.hideAllSlots(z),Q?(j8(y),T()):(A(),Z8(y),jc.showSlot(z,L),VY(z,L)),j.each(ae=>UY(z,ae))),le})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:un([Mo.config({}),Mt.config({find:y=>{const T=Mo.contents(y);return rt(T)}})]),apis:v}},name:"silver.ViewWrapper",configFields:[Vt("backstage")],apis:{setViews:(t,s,i)=>t.setViews(s,i),toggleView:(t,s,i,l,m)=>t.toggleView(s,i,l,m),whichView:(t,s)=>t.whichView(s)}});const G8=(t,s,i)=>{let l=!1;const m=y=>{Vw(y,".tox-statusbar").each(T=>{gr(T,"display")==="none"&&Ni(T,"aria-hidden")==="true"?(os(T,"display"),hr(T,"aria-hidden")):(bo(T,"display","none"),lo(T,"aria-hidden","true"))})},v={getSocket:y=>Da.getPart(y,t,"socket"),setSidebar:(y,T,A)=>{Da.getPart(y,t,"sidebar").each(L=>B8(L,T,A))},toggleSidebar:(y,T)=>{Da.getPart(y,t,"sidebar").each(A=>EY(A,T))},whichSidebar:y=>Da.getPart(y,t,"sidebar").bind(_Y).getOrNull(),getHeader:y=>Da.getPart(y,t,"header"),getToolbar:y=>Da.getPart(y,t,"toolbar"),setToolbar:(y,T)=>{Da.getPart(y,t,"toolbar").each(A=>{const L=Tt(T,Hx);A.getApis().setGroups(A,L)})},setToolbars:(y,T)=>{Da.getPart(y,t,"multiple-toolbar").each(A=>{const L=Tt(T,z=>Tt(z,Hx));VD.setItems(A,L)})},refreshToolbar:y=>{Da.getPart(y,t,"toolbar").each(A=>A.getApis().refresh(A))},toggleToolbarDrawer:y=>{Da.getPart(y,t,"toolbar").each(T=>{Qi(T.getApis().toggle,A=>A(T))})},toggleToolbarDrawerWithoutFocusing:y=>{Da.getPart(y,t,"toolbar").each(T=>{Qi(T.getApis().toggleWithoutFocusing,A=>A(T))})},isToolbarDrawerToggled:y=>Da.getPart(y,t,"toolbar").bind(T=>B.from(T.getApis().isOpen).map(A=>A(T))).getOr(!1),getThrobber:y=>Da.getPart(y,t,"throbber"),focusToolbar:y=>{Da.getPart(y,t,"toolbar").orThunk(()=>Da.getPart(y,t,"multiple-toolbar")).each(A=>{Jn.focusIn(A)})},setMenubar:(y,T)=>{Da.getPart(y,t,"menubar").each(A=>{yP.setMenus(A,T)})},focusMenubar:y=>{Da.getPart(y,t,"menubar").each(T=>{yP.focus(T)})},setViews:(y,T)=>{Da.getPart(y,t,"viewWrapper").each(A=>{rA.setViews(A,T)})},toggleView:(y,T)=>Da.getPart(y,t,"viewWrapper").exists(A=>rA.toggleView(A,()=>v.showMainView(y),()=>v.hideMainView(y),T)),whichView:y=>Da.getPart(y,t,"viewWrapper").bind(rA.whichView).getOrNull(),hideMainView:y=>{l=v.isToolbarDrawerToggled(y),l&&v.toggleToolbarDrawer(y),Da.getPart(y,t,"editorContainer").each(T=>{const A=T.element;m(A),bo(A,"display","none"),lo(A,"aria-hidden","true")})},showMainView:y=>{l&&v.toggleToolbarDrawer(y),Da.getPart(y,t,"editorContainer").each(T=>{const A=T.element;m(A),os(A,"display"),hr(A,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:v,behaviours:t.behaviours}},iA=Ym.optional({factory:yP,name:"menubar",schema:[Vt("backstage")]}),TP=t=>t.type===wd.sliding?MY:t.type===wd.floating?RY:zx,WY=Ym.optional({factory:{sketch:t=>VD.sketch({uid:t.uid,dom:t.dom,listBehaviours:un([Jn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>zx({type:t.type,uid:Tn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),B.some(!0))}),setupItem:(s,i,l,m)=>{Ls.setGroups(i,l)},shell:!0})},name:"multiple-toolbar",schema:[Vt("dom"),Vt("onEscape")]}),jY=Ym.optional({factory:{sketch:t=>{const s=TP(t),i={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),B.some(!0)),onToggled:(l,m)=>t.onToolbarToggled(m),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(i)}},name:"toolbar",schema:[Vt("dom"),Vt("onEscape"),Vt("getSink")]}),K8=Ym.optional({factory:{sketch:wY},name:"header",schema:[Vt("dom")]}),ZY=Ym.optional({factory:{sketch:xY},name:"promotion",schema:[Vt("dom"),Vt("promotionLink")]}),qY=Ym.optional({name:"socket",schema:[Vt("dom")]}),GY=Ym.optional({factory:{sketch:TY},name:"sidebar",schema:[Vt("dom")]}),Y8=Ym.optional({factory:{sketch:AY},name:"throbber",schema:[Vt("dom")]}),KY=Ym.optional({factory:rA,name:"viewWrapper",schema:[Vt("backstage")]}),YY=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),kP=Ym.optional({factory:{sketch:YY},name:"editorContainer",schema:[]});var ir=rl({name:"OuterContainer",factory:G8,configFields:[Vt("dom"),Vt("behaviours")],partFields:[K8,iA,jY,WY,qY,GY,ZY,Y8,KY,kP],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,i,l)=>{t.setSidebar(s,i,l)},toggleSidebar:(t,s,i)=>{t.toggleSidebar(s,i)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,i)=>{t.setToolbar(s,i)},setToolbars:(t,s,i)=>{t.setToolbars(s,i)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,i)=>{t.setMenubar(s,i)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,i)=>{t.setViews(s,i)},toggleView:(t,s,i)=>t.toggleView(s,i),whichView:(t,s)=>t.whichView(s)}});const XY="file edit view insert format tools table help",AP={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},JY=(t,s,i)=>{const l=NB(i).split(/[ ,]/);return{text:t.title,getItems:()=>Re(t.items,m=>{const v=m.toLowerCase();return v.trim().length===0?[]:jo(l,y=>y===v)?[]:v==="separator"||v==="|"?[{type:"separator"}]:s.menuItems[v]?[s.menuItems[v]]:[]})}},aA=t=>t.split(" "),X8=(t,s)=>{const i={...AP,...s.menus},l=Rn(s.menus).length>0,m=s.menubar===void 0||s.menubar===!0?aA(XY):aA(s.menubar===!1?"":s.menubar),v=_o(m,T=>{const A=yn(AP,T);return l?A||_t(s.menus,T).exists(L=>yn(L,"items")):A}),y=Tt(v,T=>{const A=i[T];return JY({title:A.title,items:aA(A.items)},s,t)});return _o(y,T=>{const A=L=>$(L)||L.type!=="separator";return T.getItems().length>0&&jo(T.getItems(),A)})},J8=t=>{const s=()=>{t._skinLoaded=!0,eG(t)};return()=>{t.initialized?s():t.on("init",s)}},QY=(t,s)=>()=>tG(t,{message:s}),eX=t=>{const s=QB(t);return s?B.from(s):B.none()},Q8=(t,s,i)=>(t.on("remove",()=>i.unload(s)),i.load(s)),Vx=(t,s,i,l)=>(t.on("remove",()=>l.unloadRawCss(s)),l.loadRawCss(s,i)),tX=(t,s)=>"ui/"+t+"/"+s,nX=t=>B.from(tinymce.Resource.get(t)).filter($),OP=(t,s,i="")=>{const l=eX(t).map(v=>tX(v,`${s}.css`)),m=l.bind(nX);return ga(l,m,(v,y)=>({_kind:"load-raw",key:v,css:y})).getOrThunk(()=>{const v=t.editorManager.suffix;return{_kind:"load-stylesheet",url:i+`/${s}${v}.css`}})},DP=(t,s)=>{const i=t.ui.styleSheetLoader,l=OP(t,"skin",s);switch(l._kind){case"load-raw":const{key:m,css:v}=l;return Vx(t,m,v,i),Promise.resolve();case"load-stylesheet":const{url:y}=l;return Q8(t,y,i);default:return Promise.resolve()}},RP=(t,s)=>{if(fu(pn.fromDom(t.getElement()))){const l=ex.DOM.styleSheetLoader,m=OP(t,"skin.shadowdom",s);switch(m._kind){case"load-raw":const{key:v,css:y}=m;return Vx(t,v,y,l),Promise.resolve();case"load-stylesheet":const{url:T}=m;return Q8(t,T,l);default:return Promise.resolve()}}else return Promise.resolve()},oX=(t,s,i)=>{const m=OP(t,s?"content.inline":"content",i);switch(m._kind){case"load-raw":const{key:v,css:y}=m;return s?Vx(t,v,y,t.ui.styleSheetLoader):t.on("PostRender",()=>{Vx(t,v,y,t.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:T}=m;return i&&t.contentCSS.push(T),Promise.resolve();default:return Promise.resolve()}},sX=async(t,s)=>{const i=e$(s);if(await oX(s,t,i),!j3(s)&&$(i))return Promise.all([DP(s,i),RP(s,i)]).then()},e7=(t,s)=>sX(t,s).then(J8(s),QY(s,"Skin could not be loaded")),rX=Je(e7,!1),iX=Je(e7,!0),t7=t=>({isEnabled:()=>!Kn.isDisabled(t),setEnabled:s=>Kn.set(t,!s),setText:s=>so(t,hf,{text:s}),setIcon:s=>so(t,hp,{icon:s})}),aX=t=>({setActive:s=>{us.set(t,s)},isActive:()=>us.isOn(t),isEnabled:()=>!Kn.isDisabled(t),setEnabled:s=>Kn.set(t,!s),setText:s=>so(t,hf,{text:s}),setIcon:s=>so(t,hp,{icon:s})}),cX=(t,s)=>t.map(i=>({"aria-label":s.translate(i)})).getOr({}),lX=Tn("focus-button"),Ux=(t,s,i,l,m,v,y)=>{const T=s.map(L=>Es(Uk(L,"tox-tbtn",m))),A=t.map(L=>Es(B1(L,m.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...cX(i,m),...ve(y)?{"data-mce-name":y}:{}}},components:Xy([A.map(L=>L.asSpec()),T.map(L=>L.asSpec())]),eventOrder:{[Hc()]:["focusing","alloy.base.behaviour",I1],[Zd()]:[I1,"toolbar-group-button-events"],[Lm()]:[I1,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:un([Ed.toolbarButton(()=>m.checkUiComponentContext(v).shouldDisable),Lr(()=>m.checkUiComponentContext(v)),Ao(I1,[pr((L,z)=>mf(L)),At(hf,(L,z)=>{T.bind(j=>j.getOpt(L)).each(j=>{Mo.set(j,[Mr(m.translate(z.event.text))])})}),At(hp,(L,z)=>{A.bind(j=>j.getOpt(L)).each(j=>{Mo.set(j,[B1(z.event.icon,m.icons)])})}),At(Hc(),(L,z)=>{z.event.prevent(),ts(L,lX)})])].concat(l.getOr([])))}},cA=(t,s,i,l,m)=>{const v=s.shared,y=Qt(oe),T={toolbarButtonBehaviours:[],getApi:t7,onSetup:t.onSetup},A=[Ao("toolbar-group-button-events",[_d(T,y),dp(T,y)]),...t.tooltip.map(L=>Pr.config(s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(L)}))).toArray()];return np.sketch({lazySink:v.getSink,fetch:()=>Qo.nu(L=>{L(Tt(i(t.items),Hx))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Ux(t.icon,t.text,t.tooltip,B.some(A),v.providers,t.context,m),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:l}}}})},lA=(t,s,i,l)=>{var m;const v=Qt(oe),y=Ux(t.icon,t.text,t.tooltip,B.none(),i,t.context,l);return xc.sketch({dom:y.dom,components:y.components,eventOrder:LF,buttonBehaviours:{...un([Ao("toolbar-button-events",[PF({onAction:t.onAction,getApi:s.getApi}),_d(s,v),dp(s,v)]),...t.tooltip.map(T=>Pr.config(i.tooltips.getConfig({tooltipText:i.translate(T)+t.shortcut.map(A=>` (${T0(A)})`).getOr("")}))).toArray(),Ed.toolbarButton(()=>!t.enabled||i.checkUiComponentContext(t.context).shouldDisable),Lr(()=>i.checkUiComponentContext(t.context))].concat(s.toolbarButtonBehaviours)),[I1]:(m=y.buttonBehaviours)===null||m===void 0?void 0:m[I1]}})},n7=(t,s,i)=>Wh(t,s,[],i),Wh=(t,s,i,l)=>lA(t,{toolbarButtonBehaviours:i.length>0?[Ao("toolbarButtonWith",i)]:[],getApi:t7,onSetup:t.onSetup},s,l),o7=(t,s,i)=>s7(t,s,[],i),s7=(t,s,i,l)=>lA(t,{toolbarButtonBehaviours:[Mo.config({}),us.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[Ao("toolbarToggleButtonWith",i)]:[]),getApi:aX,onSetup:t.onSetup},s,l),uX=(t,s,i)=>l=>Qo.nu(m=>s.fetch(m)).map(m=>B.from(R0(Is(Lk(Tn("menu-value"),m,v=>{s.onItemAction(t(l),v)},s.columns,s.presets,lm.CLOSE_ON_EXECUTE,s.select.getOr(Ct),i),{movement:Sx(s.columns,s.presets),menuBehaviours:px.unnamedEvents(s.columns!=="auto"?[]:[pr((v,y)=>{qR(v,4,ok(s.presets)).each(({numRows:T,numColumns:A})=>{Jn.setGridSize(v,T,A)})})])})))),dX=(t,s,i)=>l=>{const m=l.getSystem(),v=l.element,y=()=>{const A=ui(v,"tox-split-button__chevron"),L=A?cs(v).bind(j=>m.getByDom(j).toOptional()):B.some(l),z=A?B.some(l):ls(v).bind(j=>m.getByDom(j).toOptional().filter(Q=>ui(Q.element,"tox-split-button__chevron")));return{mainOpt:L,chevronOpt:z}},T=A=>{const{mainOpt:L,chevronOpt:z}=y();L.each(A),z.each(A)};return{isEnabled:()=>{const{mainOpt:A}=y();return A.exists(L=>!Kn.isDisabled(L))},setEnabled:A=>T(L=>Kn.set(L,!A)),setText:A=>{const{mainOpt:L}=y();L.each(z=>so(z,hf,{text:A}))},setIcon:A=>{const{mainOpt:L}=y();L.each(z=>so(z,hp,{icon:A}))},setIconFill:(A,L)=>T(z=>{Fs(z.element,`svg path[class="${A}"], rect[class="${A}"]`).each(j=>{lo(j,"fill",L)})}),isActive:()=>{const{mainOpt:A}=y();return A.exists(L=>us.isOn(L))},setActive:A=>{const{mainOpt:L}=y();L.each(z=>us.set(z,A))},setTooltip:A=>{t.set(A);const{mainOpt:L,chevronOpt:z}=y();L.each(Q=>lo(Q.element,"aria-label",s.providers.translate(A)));const j=i.chevronTooltip.map(Q=>s.providers.translate(Q)).getOr(s.providers.translate(`${A} menu`));z.each(Q=>lo(Q.element,"aria-label",j))}}},fX=(t,s,i)=>{const l=Qt(oe),m=Qt(t.tooltip.getOr("")),v=dX(m,s,t),y=Tn("tox-split-menu"),T=Qt(!1),A=()=>({"aria-haspopup":"menu","aria-expanded":String(T.get()),"aria-controls":y}),L=()=>t.tooltip.map(ae=>s.providers.translate(ae)).getOr(s.providers.translate("Text color")),z=()=>t.chevronTooltip.map(ae=>s.providers.translate(ae)).getOrThunk(()=>{const ae=L();return s.providers.translate(["{0} menu",ae])}),j=(ae,_e)=>{T.set(ae),lo(_e.element,"aria-expanded",String(ae))},Q=Pu.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:cR("chevron-down",s.providers.icons),attributes:{"aria-label":z(),...ve(i)?{"data-mce-name":i+"-chevron"}:{},...A()}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:un([Ao("split-dropdown-events",[pr((ae,_e)=>mf(ae)),_d({getApi:v,onSetup:t.onSetup},l),At("alloy-dropdown-open",ae=>j(!0,ae)),At("alloy-dropdown-close",ae=>j(!1,ae))]),Ed.toolbarButton(()=>s.providers.checkUiComponentContext(t.context).shouldDisable),Lr(()=>s.providers.checkUiComponentContext(t.context)),Ry.config({}),Pr.config(s.providers.tooltips.getConfig({tooltipText:z(),onShow:ae=>{if(m.get()!==t.tooltip.getOr("")){const _e=t.chevronTooltip.map(Ne=>s.providers.translate(Ne)).getOr(`${s.providers.translate(m.get())} menu`);Pr.setComponents(ae,s.providers.tooltips.getComponents({tooltipText:_e}))}}}))]),lazySink:s.getSink,fetch:uX(v,t,s.providers),getHotspot:ae=>cs(ae.element).bind(_e=>ae.getSystem().getByDom(_e).toOptional()),onOpen:(ae,_e,Ne)=>{As.highlightBy(Ne,Te=>ui(Te.element,"tox-collection__item--active")),As.getHighlighted(Ne).each(Jn.focusIn)},parts:{menu:{...Hy(!1,t.columns,t.presets),dom:{...Hy(!1,t.columns,t.presets).dom,tag:"div",attributes:{id:y}}}}});return[xc.sketch({...Ux(t.icon,t.text,B.none(),B.some([us.config({toggleClass:"tox-tbtn--enabled",aria:t.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),Ed.toolbarButton(()=>s.providers.checkUiComponentContext(t.context).shouldDisable),Lr(()=>s.providers.checkUiComponentContext(t.context)),Ao("split-main-aria-events",[]),...t.tooltip.isSome()?[Pr.config(s.providers.tooltips.getConfig({tooltipText:s.providers.translate(t.tooltip.getOr("")),onShow:ae=>{if(m.get()!==t.tooltip.getOr("")){const _e=s.providers.translate(m.get());Pr.setComponents(ae,s.providers.tooltips.getComponents({tooltipText:_e}))}}}))]:[]]),s.providers,t.context,i),dom:{...Ux(t.icon,t.text,B.none(),B.none(),s.providers,t.context,i).dom,classes:["tox-tbtn","tox-split-button__main"],attributes:{"aria-label":L(),...ve(i)?{"data-mce-name":i}:{}}},action:ae=>{if(t.onAction){const _e=v(ae);_e.isEnabled()&&t.onAction(_e)}}}),Q]},mX=".tox-toolbar-slider__input,.tox-toolbar-textfield",r7=t=>{jr.getContent(t).each(s=>{Fs(s.element,mX).fold(()=>Jn.focusIn(s),Wi)})},hX=t=>ci(t.element).each(s=>{Gl(s,'[tabindex="-1"]').each(i=>{Wi(i)})}),MP=Tn("forward-slide"),uA=Tn("backward-slide"),PP=Tn("change-slide-event"),Wx="tox-pop--resizing",gX=t=>{const s=Qt([]);return{sketch:jr.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:l=>{s.set([]),jr.getContent(l).each(m=>{os(m.element,"visibility")}),zr(l.element,Wx),os(l.element,"width")},onHide:()=>{s.set([]),t.onHide()},inlineBehaviours:un([Ao("context-toolbar-events",[Bg(eu(),(l,m)=>{m.event.raw.propertyName==="width"&&(zr(l.element,Wx),os(l.element,"width"))}),At(PP,(l,m)=>{const v=l.element;os(v,"width");const y=Sa(v),T=ci(l.element).isSome();os(v,"left"),os(v,"right"),os(v,"max-width"),jr.setContent(l,m.event.contents),Gs(v,Wx);const A=Sa(v);bo(v,"transition","none"),jr.reposition(l),os(v,"transition"),bo(v,"width",y+"px"),m.event.focus.fold(()=>{T&&r7(l)},L=>{ji(Br(l.element)).fold(()=>Wi(L),z=>{X(z,L)||t.focusElement(L)})}),setTimeout(()=>{bo(l.element,"width",A+"px")},0)}),At(MP,(l,m)=>{jr.getContent(l).each(v=>{s.set(s.get().concat([{bar:v,focus:ji(Br(l.element))}]))}),so(l,PP,{contents:m.event.forwardContents,focus:B.none()})}),At(uA,(l,m)=>{t.onBack(),ao(s.get()).each(v=>{s.set(s.get().slice(0,s.get().length-1)),so(l,PP,{contents:_(v.bar),focus:v.focus})})})]),Jn.config({mode:"special",onEscape:l=>ao(s.get()).fold(()=>t.onEscape(),m=>(ts(l,uA),B.some(!0)))})]),lazySink:()=>Un.value(t.sink)}),inSubtoolbar:()=>s.get().length>0}},pX=(t,s)=>{const i=cd(hk({type:"button",icon:"chevron-left",tooltip:"Back",onAction:oe}));return Wh(i,s.shared.providers,[At(UM,l=>{ts(l,uA)})])},cw=(t,s,i)=>Pi(i)?t.translate(s):t.translate([s,t.translate(i)]),vX=(t,s)=>{const i=(y,T,A,L)=>{const z=t.shared.providers.translate(y.title);if(y.type==="separator")return B.some({type:"separator",text:z});if(y.type==="submenu"){const j=Re(y.getStyleItems(),Q=>l(Q,T,L));return T===0&&j.length<=0?B.none():B.some({type:"nestedmenuitem",text:z,enabled:j.length>0,getSubmenuItems:()=>Re(y.getStyleItems(),Q=>l(Q,T,L))})}else return B.some({type:"togglemenuitem",text:z,icon:y.icon,active:y.isSelected(L),enabled:!A,onAction:s.onAction(y),...y.getStylePreview().fold(()=>({}),j=>({meta:{style:j}}))})},l=(y,T,A)=>{const L=y.type==="formatter"&&s.isInvalid(y);return T===0?L?[]:i(y,T,!1,A).toArray():i(y,T,L,A).toArray()},m=y=>{const T=s.getCurrentValue(),A=s.shouldHide?0:1;return Re(y,L=>l(L,A,T))};return{validateItems:m,getFetch:(y,T)=>(A,L)=>{const z=T(),j=m(z),Q=nw(j,lm.CLOSE_ON_EXECUTE,y,{isHorizontalMenu:!1,search:B.none()});L(Q)}}},lw=(t,s)=>{const i=s.dataset,l=i.type==="basic"?()=>Tt(i.data,m=>rP(m,s.isSelectedFor,s.getPreviewFor)):i.getData;return{items:vX(t,s),getStyleItems:l}},jx=(t,s,i,l,m,v)=>{const{items:y,getStyleItems:T}=lw(s,i),A=Qt(i.tooltip),L=j=>({getComponent:k(j),setTooltip:Q=>{const le=s.shared.providers.translate(Q);lo(j.element,"aria-label",le),A.set(Q)}}),z=j=>{const Q=le=>j.setTooltip(cw(t,l(le.value),le.value));return t.on(m,Q),Tk(D0(t,"NodeChange",le=>{const ae=le.getComponent();i.updateText(ae),Kn.set(le.getComponent(),!t.selection.isEditable()||T().length===0)})(j),()=>t.off(m,Q))};return Px({context:"mode:design",text:i.icon.isSome()?B.none():i.text,icon:i.icon,ariaLabel:B.some(i.tooltip),tooltip:B.none(),role:B.none(),fetch:y.getFetch(s,T),onSetup:z,getApi:L,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Pr.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(i.tooltip),onShow:j=>{if(i.tooltip!==A.get()){const Q=s.shared.providers.translate(A.get());Pr.setComponents(j,s.shared.providers.tooltips.getComponents({tooltipText:Q}))}}})})]},"tox-tbtn",s.shared,v)},i7=t=>Tt(t,s=>{let i=s,l=s;const m=s.split("=");return m.length>1&&(i=m[0],l=m[1]),{title:i,format:l}}),a7=t=>({type:"basic",data:t});var I0;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(I0||(I0={}));const bX=(t,s)=>s===I0.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),dA=(t,s,i)=>{const l=t.options.get(s);return{type:"basic",data:i7(bX(l,i))}},yX="Align",c7=k("Alignment {0}"),l7="left",fA=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],u7=t=>{const s=()=>ut(fA,T=>t.formatter.match(T.format)),i=T=>()=>t.formatter.match(T),l=T=>B.none,m=T=>{const L=s().fold(k(l7),z=>z.title.toLowerCase());so(T,hp,{icon:`align-${L}`}),sG(t,{value:L})},v=a7(fA),y=T=>()=>ut(fA,A=>A.format===T.format).each(A=>t.execCommand(A.command));return{tooltip:cw(t,c7(),l7),text:B.none(),icon:B.some("align-left"),isSelectedFor:i,getCurrentValue:B.none,getPreviewFor:l,onAction:y,updateText:m,dataset:v,shouldHide:!1,isInvalid:T=>!t.formatter.canApply(T.format)}},d7=(t,s)=>jx(t,s,u7(t),c7,"AlignTextUpdate","align"),wX=(t,s)=>{const i=lw(s,u7(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate(yX),onSetup:al(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},f7=(t,s)=>{const i=s(),l=Tt(i,m=>m.format);return B.from(t.formatter.closest(l)).bind(m=>ut(i,v=>v.format===m))},CX="Blocks",m7=k("Block {0}"),LP="Paragraph",h7=t=>{const s=v=>()=>t.formatter.match(v),i=v=>()=>{const y=t.formatter.get(v);return y?B.some({tag:y.length>0&&(y[0].inline||y[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(v))}):B.none()},l=v=>{const T=f7(t,()=>m.data).fold(k(LP),A=>A.title);so(v,hf,{text:T}),aG(t,{value:T})},m=dA(t,"block_formats",I0.SemiColon);return{tooltip:cw(t,m7(),LP),text:B.some(LP),icon:B.none(),isSelectedFor:s,getCurrentValue:B.none,getPreviewFor:i,onAction:B6(t),updateText:l,dataset:m,shouldHide:!1,isInvalid:v=>!t.formatter.canApply(v.format)}},xX=(t,s)=>jx(t,s,h7(t),m7,"BlocksTextUpdate","blocks"),g7=(t,s)=>{const i=lw(s,h7(t));t.ui.registry.addNestedMenuItem("blocks",{text:CX,onSetup:al(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},SX="Fonts",p7=k("Font {0}"),NP="System Font",EX=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],v7=t=>{const s=t.split(/\s*,\s*/);return Tt(s,i=>i.replace(/^['"]+|['"]+$/g,""))},b7=(t,s)=>s.length>0&&et(s,i=>t.indexOf(i.toLowerCase())>-1),_X=(t,s)=>{if(t.indexOf("-apple-system")===0||s.length>0){const i=v7(t.toLowerCase());return b7(i,EX)||b7(i,s)}else return!1},IP=t=>{const s=()=>{const A=ae=>ae?v7(ae)[0]:"",L=t.queryCommandValue("FontName"),z=T.data,j=L?L.toLowerCase():"",Q=JB(t);return{matchOpt:ut(z,ae=>{const _e=ae.format;return _e.toLowerCase()===j||A(_e).toLowerCase()===A(j).toLowerCase()}).orThunk(()=>ti(_X(j,Q),{title:NP,format:j})),font:L}},i=A=>L=>L.exists(z=>z.format===A),l=()=>{const{matchOpt:A}=s();return A},m=A=>()=>B.some({tag:"div",styles:A.indexOf("dings")===-1?{"font-family":A}:{}}),v=A=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,A.format)})},y=A=>{const{matchOpt:L,font:z}=s(),j=L.fold(k(z),Q=>Q.title);so(A,hf,{text:j}),P6(t,{value:j})},T=dA(t,"font_family_formats",I0.SemiColon);return{tooltip:cw(t,p7(),NP),text:B.some(NP),icon:B.none(),isSelectedFor:i,getCurrentValue:l,getPreviewFor:m,onAction:v,updateText:y,dataset:T,shouldHide:!1,isInvalid:Ct}},TX=(t,s)=>jx(t,s,IP(t),p7,"FontFamilyTextUpdate","fontfamily"),kX=(t,s)=>{const i=lw(s,IP(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(SX),onSetup:al(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})};var Zx=tinymce.util.Tools.resolve("tinymce.util.VK");const AX=(t,s,i,l)=>{let m=B.none();const v=Ve=>Ve.map(mt=>An.getValue(mt)).getOr(""),y=D0(t,"NodeChange SwitchMode DisabledStateChange",Ve=>{const mt=Ve.getComponent();m=B.some(mt),i.updateInputValue(mt),Kn.set(mt,!t.selection.isEditable()||NT(t))}),T=Ve=>({getComponent:k(Ve)}),A=Qt(oe),L=Tn("custom-number-input-events"),z=(Ve,mt,vt)=>{const kn=v(m),Yt=i.getNewValue(kn,Ve),Jt=kn.length-`${Yt}`.length,Wt=m.map(Zn=>Zn.element.dom.selectionStart-Jt),oo=m.map(Zn=>Zn.element.dom.selectionEnd-Jt);i.onAction(Yt,vt),m.each(Zn=>{An.setValue(Zn,Yt),mt&&(Wt.each(is=>Zn.element.dom.selectionStart=is),oo.each(is=>Zn.element.dom.selectionEnd=is))})},j=(Ve,mt)=>z((vt,kn)=>vt-kn,Ve,mt),Q=(Ve,mt)=>z((vt,kn)=>vt+kn,Ve,mt),le=Ve=>co(Ve.element).fold(B.none,mt=>(Wi(mt),B.some(!0))),ae=Ve=>jl(Ve.element)?(Nn(Ve.element).each(mt=>Wi(mt)),B.some(!0)):B.none(),_e=(Ve,mt,vt,kn)=>{const Yt=Qt(oe),Jt=s.shared.providers.translate(vt),Wt=Tn("altExecuting"),oo=D0(t,"NodeChange SwitchMode DisabledStateChange",is=>{Kn.set(is.getComponent(),!t.selection.isEditable()||NT(t))}),Zn=is=>{Kn.isDisabled(is)||Ve(!0)};return xc.sketch({dom:{tag:"button",attributes:{"aria-label":Jt,"data-mce-name":mt},classes:kn.concat(mt)},components:[tw(mt,s.shared.providers.icons)],buttonBehaviours:un([Kn.config({}),Pr.config(s.shared.providers.tooltips.getConfig({tooltipText:Jt})),Ao(Wt,[_d({onSetup:oo,getApi:T},Yt),dp({getApi:T},Yt),At(la(),(is,fo)=>{(fo.event.raw.keyCode===Zx.SPACEBAR||fo.event.raw.keyCode===Zx.ENTER)&&(Kn.isDisabled(is)||Ve(!1))}),At(If(),Zn),At(yg(),Zn)])]),eventOrder:{[la()]:[Wt,"keying"],[If()]:[Wt,"alloy.base.behaviour"],[yg()]:[Wt,"alloy.base.behaviour"],[Zd()]:["alloy.base.behaviour",Wt,"tooltipping"],[Lm()]:[Wt,"tooltipping"]}})},Ne=Es(_e(Ve=>j(!1,Ve),"minus","Decrease font size",[])),Te=Es(_e(Ve=>Q(!1,Ve),"plus","Increase font size",[])),$e=Es({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Xm.sketch({inputBehaviours:un([Kn.config({}),Ao(L,[_d({onSetup:y,getApi:T},A),dp({getApi:T},A)]),Ao("input-update-display-text",[At(hf,(Ve,mt)=>{An.setValue(Ve,mt.event.text)}),At(gb(),Ve=>{i.onAction(An.getValue(Ve))}),At(wg(),Ve=>{i.onAction(An.getValue(Ve))})]),Jn.config({mode:"special",onEnter:Ve=>(z(Ot,!0,!0),B.some(!0)),onEscape:le,onUp:Ve=>(Q(!0,!1),B.some(!0)),onDown:Ve=>(j(!0,!1),B.some(!0)),onLeft:(Ve,mt)=>(mt.cut(),B.none()),onRight:(Ve,mt)=>(mt.cut(),B.none())})])})],behaviours:un([Ro.config({}),Jn.config({mode:"special",onEnter:ae,onSpace:ae,onEscape:le}),Ao("input-wrapper-events",[At(ud(),Ve=>{rn([Ne,Te],mt=>{const vt=pn.fromDom(mt.get(Ve).element.dom);jl(vt)&&Hr(vt)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...ve(l)?{"data-mce-name":l}:{}}},components:[Ne.asSpec(),$e.asSpec(),Te.asSpec()],behaviours:un([Ro.config({}),Jn.config({mode:"flow",focusInside:gd.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ve=>jl(Ve.element)?B.none():(Wi(Ve.element),B.some(!0))})])}},y7="Font sizes",BP=k("Font size {0}"),w7="12pt",OX={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},DX={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},uw=(t,s)=>{const i=Math.pow(10,s);return Math.round(t*i)/i},RX=(t,s)=>/[0-9.]+px$/.test(t)?uw(parseInt(t,10)*72/96,s||0)+"pt":_t(DX,t).getOr(t),MX=t=>_t(OX,t).getOr(""),C7=t=>{const s=()=>{let A=B.none();const L=T.data,z=t.queryCommandValue("FontSize");if(z)for(let j=3;A.isNone()&&j>=0;j--){const Q=RX(z,j),le=MX(Q);A=ut(L,ae=>ae.format===z||ae.format===Q||ae.format===le)}return{matchOpt:A,size:z}},i=A=>L=>L.exists(z=>z.format===A),l=()=>{const{matchOpt:A}=s();return A},m=k(B.none),v=A=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,A.format)})},y=A=>{const{matchOpt:L,size:z}=s(),j=L.fold(k(z),Q=>Q.title);so(A,hf,{text:j}),rG(t,{value:j})},T=dA(t,"font_size_formats",I0.Space);return{tooltip:cw(t,BP(),w7),text:B.some(w7),icon:B.none(),isSelectedFor:i,getPreviewFor:m,getCurrentValue:l,onAction:v,updateText:y,dataset:T,shouldHide:!1,isInvalid:Ct}},PX=(t,s)=>jx(t,s,C7(t),BP,"FontSizeTextUpdate","fontsize"),LX=t=>{var s;const i={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:i},NX=16,IX=t=>t>=0,BX=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:l=>so(l,hf,{text:s()}),onAction:(l,m)=>t.execCommand("FontSize",!1,l,{skip_focus:!m}),getNewValue:(l,m)=>{ys(l,["unsupportedLength","empty"]);const v=s(),y=ys(l,["unsupportedLength","empty"]).or(ys(v,["unsupportedLength","empty"])),T=y.map(Q=>Q.value).getOr(NX),A=VB(t),L=y.map(Q=>Q.unit).filter(Q=>Q!=="").getOr(A),z=m(T,LX(L).step),j=`${IX(z)?z:T}${L}`;return j!==v&&iG(t,{value:j}),j}}},$P=(t,s)=>AX(t,s,BX(t),"fontsizeinput"),$X=(t,s)=>{const i=lw(s,C7(t));t.ui.registry.addNestedMenuItem("fontsize",{text:y7,onSetup:al(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},FX="Formats",FP=t=>Pi(t)?"Formats":"Format {0}",HP=(t,s)=>{const i="Formats",l=y=>()=>t.formatter.match(y),m=y=>()=>{const T=t.formatter.get(y);return T!==void 0?B.some({tag:T.length>0&&(T[0].inline||T[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(y))}):B.none()},v=y=>{const T=j=>g8(j)?Re(j.items,T):oP(j)?[{title:j.title,format:j.format}]:[],A=Re(sP(t),T),z=f7(t,k(A)).fold(k({title:i,tooltipLabel:""}),j=>({title:j.title,tooltipLabel:j.title}));so(y,hf,{text:z.title}),dM(t,{value:z.tooltipLabel})};return{tooltip:cw(t,FP(""),""),text:B.some(i),icon:B.none(),isSelectedFor:l,getCurrentValue:B.none,getPreviewFor:m,onAction:B6(t),updateText:v,shouldHide:PB(t),isInvalid:y=>!t.formatter.canApply(y.format),dataset:s}},HX=(t,s)=>{const i={type:"advanced",...s.styles};return jx(t,s,HP(t,i),FP,"StylesTextUpdate","styles")},zX=(t,s)=>{const i={type:"advanced",...s.styles},l=lw(s,HP(t,i));t.ui.registry.addNestedMenuItem("styles",{text:FX,onSetup:al(t,()=>l.getStyleItems().length>0),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})},VX=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],qx=(t,s)=>(i,l,m,v)=>{const y=t(i).mapError(T=>bh(T)).getOrDie();return s(y,l,m,v)},UX={button:qx(hk,(t,s,i,l)=>n7(t,s.shared.providers,l)),togglebutton:qx(pk,(t,s,i,l)=>o7(t,s.shared.providers,l)),menubutton:qx(Z$,(t,s,i,l)=>Lx(t,"tox-tbtn",s,B.none(),!1,l)),splitbutton:qx(bk,(t,s,i,l)=>fX(t,s.shared,l)),grouptoolbarbutton:qx(Bq,(t,s,i,l)=>{const m=i.ui.registry.getAll().buttons,v=T=>hA(i,{buttons:m,toolbar:T,allowToolbarGroups:!1},s,B.none()),y={[O2]:s.shared.header.isPositionedAtTop()?Wf.TopToBottom:Wf.BottomToTop};switch(g0(i)){case wd.floating:return cA(t,s,v,y,l);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},WX=(t,s,i,l)=>_t(UX,t.type).fold(()=>(console.error("skipping button defined by",t),B.none()),m=>B.some(m(t,s,i,l))),zP={styles:HX,fontsize:PX,fontsizeinput:$P,fontfamily:TX,blocks:xX,align:d7,navigateback:pX},jX=t=>{const s=Tt(VX,i=>{const l=_o(i.items,m=>yn(t,m)||yn(zP,m));return{name:i.name,items:l}});return _o(s,i=>i.items.length>0)},ZX=t=>{const s=t.split("|");return Tt(s,i=>({items:i.trim().split(" ")}))},qX=t=>Le(t,s=>(yn(s,"name")||yn(s,"label"))&&yn(s,"items")),GX=t=>{const s=t.toolbar,i=t.buttons;return s===!1?[]:s===void 0||s===!0?jX(i):$(s)?ZX(s):qX(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},mA=(t,s,i,l,m,v)=>_t(s,i.toLowerCase()).orThunk(()=>v.bind(y=>wo(y,T=>_t(s,T+i.toLowerCase())))).fold(()=>_t(zP,i.toLowerCase()).map(y=>y(t,m)),y=>y.type==="grouptoolbarbutton"&&!l?(console.warn(`Ignoring the '${i}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),B.none()):WX(y,m,t,i.toLowerCase())),hA=(t,s,i,l)=>{const m=GX(s),v=Tt(m,y=>{const T=Re(y.items,A=>A.trim().length===0?[]:mA(t,s.buttons,A,s.allowToolbarGroups,i,l).map(L=>Array.isArray(L)?L:[L]).getOr([]));return{title:B.from(t.translate(y.name)),label:ti(y.label!==void 0,t.translate(y.label)),items:T}});return _o(v,y=>y.items.length>0)},Gx=(t,s,i,l)=>{const m=s.mainUi.outerContainer,v=i.toolbar,y=i.buttons;if(Le(v,$)){const T=v.map(A=>{const L={toolbar:A,buttons:y,allowToolbarGroups:i.allowToolbarGroups};return hA(t,L,l,B.none())});ir.setToolbars(m,T)}else ir.setToolbar(m,hA(t,i,l,B.none()))},Kx=cr(),x7=Kx.os.isiOS()&&Kx.os.version.major<=12,KX=(t,s)=>{const{uiMotherships:i}=s,l=t.dom;let m=t.getWin();const v=t.getDoc().documentElement,y=Qt($s(m.innerWidth,m.innerHeight)),T=Qt($s(v.offsetWidth,v.offsetHeight)),A=()=>{const Q=y.get();(Q.left!==m.innerWidth||Q.top!==m.innerHeight)&&(y.set($s(m.innerWidth,m.innerHeight)),uM(t))},L=()=>{const Q=t.getDoc().documentElement,le=T.get();(le.left!==Q.offsetWidth||le.top!==Q.offsetHeight)&&(T.set($s(Q.offsetWidth,Q.offsetHeight)),uM(t))},z=Q=>{D6(t,Q)};l.bind(m,"resize",A),l.bind(m,"scroll",z);const j=vl(pn.fromDom(t.getBody()),"load",L);t.on("hide",()=>{rn(i,Q=>{bo(Q.element,"display","none")})}),t.on("show",()=>{rn(i,Q=>{os(Q.element,"display")})}),t.on("NodeChange",L),t.on("remove",()=>{j.unbind(),l.unbind(m,"resize",A),l.unbind(m,"scroll",z),m=null})},YX=(t,s,i)=>{C1(t)&&sf(i.mainUi.mothership.element,i.popupUi.mothership),Kv(s,i.dialogUi.mothership)};var XX=Object.freeze({__proto__:null,render:(t,s,i,l,m)=>{const{mainUi:v,uiMotherships:y}=s,T=Qt(0),A=v.outerContainer;rX(t);const L=pn.fromDom(m.targetNode),z=Jr(Br(L));sf(L,v.mothership),YX(t,z,s),t.on("PostRender",()=>{ir.setSidebar(A,i.sidebar,KB(t))}),t.on("SkinLoaded",()=>{Gx(t,s,i,l),T.set(t.getWin().innerWidth),ir.setMenubar(A,X8(t,i)),ir.setViews(A,i.views),KX(t,s)});const j=ir.getSocket(A).getOrDie("Could not find expected socket element");if(x7){$r(j.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const _e=_f(()=>{t.dispatch("ScrollContent")},20),Ne=Bs(j.element,"scroll",_e.throttle);t.on("remove",Ne.unbind)}g6(t,s),t.addCommand("ToggleSidebar",(_e,Ne)=>{ir.toggleSidebar(A,Ne),L6(t)}),t.addQueryValueHandler("ToggleSidebar",()=>{var _e;return(_e=ir.whichSidebar(A))!==null&&_e!==void 0?_e:""}),t.addCommand("ToggleView",(_e,Ne)=>{if(ir.toggleView(A,Ne)){const Te=A.element;v.mothership.broadcastOn([zm()],{target:Te}),rn(y,$e=>{$e.broadcastOn([zm()],{target:Te})}),Se(ir.whichView(A))&&(t.focus(),t.nodeChanged(),ir.refreshToolbar(A)),N6(t)}}),t.addQueryValueHandler("ToggleView",()=>{var _e;return(_e=ir.whichView(A))!==null&&_e!==void 0?_e:""});const Q=g0(t),le=()=>{ir.refreshToolbar(s.mainUi.outerContainer)};(Q===wd.sliding||Q===wd.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const _e=t.getWin().innerWidth;_e!==T.get()&&(le(),T.set(_e))});const ae={setEnabled:_e=>{Yy(s,_e?"setEnabled":"setDisabled")},isEnabled:()=>!Kn.isDisabled(A)};return{iframeContainer:j.element.dom,editorContainer:A.element.dom,api:ae}}});const JX=t=>/^[0-9\.]+(|px)$/i.test(""+t)?B.some(parseInt(""+t,10)):B.none(),dw=t=>Be(t)?t+"px":t,Yx=(t,s,i)=>{const l=s.filter(v=>t<v),m=i.filter(v=>t>v);return l.or(m).getOr(t)},S7=(t,s)=>{if(typeof s=="number")return B.from(s);const i=/^([0-9.]+)(pt|em|px)$/.exec(s.trim());if(i){const l=i[2],m=Number.parseFloat(i[1]);if(Number.isNaN(m)||m<0)return B.none();if(l==="em")return B.from(m*Number.parseFloat(window.getComputedStyle(t.dom).fontSize));if(l==="pt")return B.from(m*(72/96));if(l==="px")return B.from(m)}return B.none()},E7=t=>{const s=S7(pn.fromDom(t.targetElm),I3(t)),i=F3(t),l=H3(t);return s.map(m=>Yx(m,i,l))},_7=t=>E7(t).getOr(I3(t)),T7=t=>{const s=B3(t),i=$3(t),l=IT(t);return JX(s).map(m=>Yx(m,i,l))},k7=t=>T7(t).getOr(B3(t)),{ToolbarLocation:VP,ToolbarMode:A7}=wj,QX=40,eJ=(t,s,i,l,m)=>{const{mainUi:v,uiMotherships:y}=i,T=ex.DOM,A=$y(t),L=rp(t),z=IT(t).or(T7(t)),j=l.shared.header,Q=j.isPositionedAtTop,le=150,ae=g0(t),_e=ae===A7.sliding||ae===A7.floating,Ne=Qt(!1),Te=()=>Ne.get()&&!t.removed,$e=Wn=>_e?Wn.fold(k(0),zt=>zt.components().length>1?yi(zt.components()[1].element):0):0,Ve=Wn=>{switch(z3(t)){case VP.auto:const zt=ir.getToolbar(v.outerContainer),wn=$e(zt),po=yi(Wn.element)-wn,zo=Ei(s);if(zo.y>po)return"top";{const Fo=Bt(s),Os=Math.max(Fo.dom.scrollHeight,yi(Fo));return zo.bottom<Os-po||uc().bottom<zo.bottom-po?"bottom":"top"}case VP.bottom:return"bottom";case VP.top:default:return"top"}},mt=Wn=>{m.on(zt=>{Wr.setModes(zt,[Wn]),j.setDockingMode(Wn);const wn=Q()?Wf.TopToBottom:Wf.BottomToTop;lo(zt.element,O2,wn)})},vt=()=>{m.on(Wn=>{const zt=z.getOrThunk(()=>Rp().width-Mc(s).left-10);bo(Wn.element,"max-width",zt+"px")})},kn=(Wn,zt)=>{m.on(wn=>{const po=ir.getToolbar(v.outerContainer),zo=$e(po),Yn=Ei(s),Fo=Yt(t,v.outerContainer.element),Os=()=>Fo.fold(()=>Yn.x,Xi=>{const Pl=Ei(Xi);return X(Xi,Jc())?Yn.x:Yn.x-Pl.x}),_s=()=>Fo.fold(()=>Q()?Math.max(Yn.y-yi(wn.element)+zo,0):Yn.bottom,Xi=>{var Pl;const Zc=Ei(Xi),hi=(Pl=Xi.dom.scrollTop)!==null&&Pl!==void 0?Pl:0,pf=X(Xi,Jc())?Math.max(Yn.y-yi(wn.element)+zo,0):Yn.y-Zc.y+hi-yi(wn.element)+zo;return Q()?pf:Yn.bottom}),cl=Os(),br=ti(Wn,Math.ceil(v.outerContainer.element.dom.getBoundingClientRect().width)).filter(Xi=>Xi>le).map(Xi=>{const Pl=zt.getOr(Qr()),Zc=window.innerWidth-(cl-Pl.left),hi=Math.max(Math.min(Xi,Zc),le);return Zc<Xi&&bo(v.outerContainer.element,"width",hi+"px"),{width:hi+"px"}}).getOr({width:"max-content"}),ec={position:"absolute",left:Math.round(cl)+"px",top:_s()+"px"};$r(v.outerContainer.element,{...ec,...br})})},Yt=(Wn,zt)=>C1(Wn)?gh(zt):B.none(),Jt=()=>{rn(y,Wn=>{Wn.broadcastOn([Qa()],{})})},Wt=()=>!A&&(Ia(v.outerContainer.element).left+Fd(v.outerContainer.element)>=window.innerWidth-QX||_r(v.outerContainer.element,"width").isSome())?(bo(v.outerContainer.element,"position","absolute"),bo(v.outerContainer.element,"left","0px"),os(v.outerContainer.element,"width"),!0):!1,oo=Wn=>{if(!Te())return;A||vt();const zt=Qr(),wn=A?!1:Wt();if(_e&&ir.refreshToolbar(v.outerContainer),!A){const po=Qr(),zo=ti(zt.left!==po.left,zt);kn(wn,zo),zo.each(Yn=>{Hd(Yn.left,po.top)})}L&&m.on(Wn),Jt()},Zn=()=>A||!L||!Te()?!1:m.get().exists(Wn=>{const zt=j.getDockingMode(),wn=Ve(Wn);return wn!==zt?(mt(wn),!0):!1});return{isVisible:Te,isPositionedAtTop:Q,show:()=>{Ne.set(!0),bo(v.outerContainer.element,"display","flex"),T.addClass(t.getBody(),"mce-edit-focus"),rn(y,Wn=>{os(Wn.element,"display")}),Zn(),C1(t)?oo(Wn=>Wr.isDocked(Wn)?Wr.reset(Wn):Wr.refresh(Wn)):oo(Wr.refresh)},hide:()=>{Ne.set(!1),bo(v.outerContainer.element,"display","none"),T.removeClass(t.getBody(),"mce-edit-focus"),rn(y,Wn=>{bo(Wn.element,"display","none")})},update:oo,updateMode:()=>{Zn()&&oo(Wr.reset)},repositionPopups:Jt}},O7=(t,s)=>{const i=Ei(t);return{pos:s?i.y:i.bottom,bounds:i}},Xx=(t,s,i,l)=>{const m=Qt(O7(s,i.isPositionedAtTop())),v=L=>{const{pos:z,bounds:j}=O7(s,i.isPositionedAtTop()),{pos:Q,bounds:le}=m.get(),ae=j.height!==le.height||j.width!==le.width;m.set({pos:z,bounds:j}),ae&&uM(t,L),i.isVisible()&&(Q!==z?i.update(Wr.reset):ae&&(i.updateMode(),i.repositionPopups()))};l||(t.on("activate",i.show),t.on("deactivate",i.hide)),t.on("SkinLoaded ResizeWindow",()=>i.update(Wr.reset)),t.on("NodeChange keydown",L=>{requestAnimationFrame(()=>v(L))});let y=0;const T=ba(()=>i.update(Wr.refresh),33);t.on("ScrollWindow",()=>{const L=Qr().left;L!==y&&(y=L,T.throttle()),i.updateMode()}),C1(t)&&t.on("ElementScroll",L=>{i.update(Wr.refresh)});const A=xr();A.set(vl(pn.fromDom(t.getBody()),"load",L=>v(L.raw))),t.on("remove",()=>{A.clear()})};var tJ=Object.freeze({__proto__:null,render:(t,s,i,l,m)=>{const{mainUi:v}=s,y=go(),T=pn.fromDom(m.targetNode),A=eJ(t,T,s,l,y),L=BB(t);iX(t);const z=()=>{if(y.isSet()){A.show();return}y.set(ir.getHeader(v.outerContainer).getOrDie());const Q=q3(t);C1(t)?(sf(T,v.mothership),sf(T,s.popupUi.mothership)):Kv(Q,v.mothership),Kv(Q,s.dialogUi.mothership);const le=()=>{Gx(t,s,i,l),ir.setMenubar(v.outerContainer,X8(t,i)),A.show(),Xx(t,T,A,L),t.nodeChanged()};L?t.once("SkinLoaded",le):le()};t.on("show",z),t.on("hide",A.hide),L||(t.on("focus",z),t.on("blur",A.hide)),t.on("init",()=>{(t.hasFocus()||L)&&z()}),g6(t,s);const j={show:z,hide:A.hide,setEnabled:Q=>{Yy(s,Q?"setEnabled":"setDisabled")},isEnabled:()=>!Kn.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:j}}});const nJ=()=>{const t=go(),s=go(),i=go();return{dialogUi:t,popupUi:s,mainUi:i,getUiMotherships:()=>{const v=t.get().map(T=>T.mothership),y=s.get().map(T=>T.mothership);return v.fold(()=>y.toArray(),T=>y.fold(()=>[T],A=>X(T.element,A.element)?[T]:[T,A]))},lazyGetInOuterOrDie:(v,y)=>()=>i.get().bind(T=>y(T.outerContainer)).getOrDie(`Could not find ${v} element in OuterContainer`)}},D7="contexttoolbar-show",R7="contexttoolbar-hide",gA=(t,s,i)=>({setInputEnabled:l=>{!l&&i&&Wi(i),Kn.set(t,!l)},isInputEnabled:()=>!Kn.isDisabled(t),hide:()=>{ts(t,pb())},back:()=>{ts(t,uA)},getValue:()=>s.get().getOrThunk(()=>An.getValue(t)),setValue:l=>{t.getSystem().isConnected()?An.setValue(t,l):s.set(l)}}),pA=(t,s,i)=>{const m=sn(t.element).bind(v=>t.getSystem().getByDom(v).toOptional());return gA(m.getOr(t),s,i)},M7=(t,s,i)=>At(UM,(l,m)=>{const v=t.get(l),y=gA(v,i,l.element);s.onAction(y,m.event.buttonApi)}),oJ=(t,s,i,l)=>{const{primary:m,...v}=s.original,y=cd(hk({...v,type:"button",onAction:oe}));return Wh(y,i,[M7(t,s,l)])},sJ=(t,s,i,l)=>{const{primary:m,...v}=s.original,y=cd(pk({...v,type:"togglebutton",onAction:oe}));return s7(y,i,[M7(t,s,l)])},rJ=t=>t.type==="contextformtogglebutton",Jx=(t,s,i,l)=>rJ(s)?sJ(t,s,i,l):oJ(t,s,i,l),UP=(t,s,i,l)=>{const m=Tt(s,T=>Es(Jx(t,T,i,l)));return{asSpecs:()=>Tt(m,T=>T.asSpec()),findPrimary:T=>wo(s,(A,L)=>A.primary?B.from(m[L]).bind(z=>z.getOpt(T)).filter(Ie(Kn.isDisabled)):B.none())}},iJ=(t,s,i,l)=>{const{width:m,height:v}=t.initValue();let y=qk;const T=Tn("ratio-event"),A=Yt=>gA(Yt,l),L=Yt=>xd(Yt,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Yt]},s.icons),z=()=>!1,j=t.label.getOr("Constrain proportions"),Q=s.translate(j),le=mi.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":Q,"data-mce-name":j}},components:[L("lock"),L("unlock")],buttonBehaviours:un([Kn.config({disabled:z}),ur.config({}),Pr.config(s.tooltips.getConfig({tooltipText:Q}))])}),ae=Yt=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:Yt}),_e=Yt=>Gl(Yt.element,"div.tox-focusable-wrapper").fold(B.none,Wt=>(Wi(Wt),B.some(!0))),Ne=Yt=>Yo.parts.field({factory:Xm,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:Yt?m:v,inputBehaviours:un([Kn.config({disabled:z}),ur.config({}),Ao("size-input-toolbar-events",[At(dd(),(Jt,Wt)=>{so(Jt,T,{isField1:Yt})})]),Jn.config({mode:"special",onEnter:i,onEscape:_e})]),selectOnFocus:!1}),Te=Yt=>({dom:{tag:"label",classes:["tox-label"]},components:[Mr(s.translate(Yt))]}),$e=Yt=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[Yt],behaviours:un([ur.config({}),Ro.config({}),Jn.config({mode:"special",onEnter:Jt=>Fs(Jt.element,"input").fold(B.none,oo=>(Wi(oo),B.some(!0)))})])}),Ve=$e(mi.parts.field1(ae([Yo.parts.label(Te("Width:")),Ne(!0)]))),mt=$e(mi.parts.field2(ae([Yo.parts.label(Te("Height:")),Ne(!1)]))),vt=Qt(oe),kn=[_d({onBeforeSetup:Yt=>Fs(Yt.element,"input").each(Wi),onSetup:t.onSetup,getApi:A},vt),GR({getApi:A},vt,l)];return mi.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[Ve,ae([le]),mt],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Yt,Jt,Wt)=>{Zk(An.getValue(Yt)).each(oo=>{y(oo).each(Zn=>{An.setValue(Jt,VF(Zn))})})},onInput:Yt=>ts(Yt,Ik),coupledFieldBehaviours:un([Ro.config({}),Jn.config({mode:"flow",focusInside:gd.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),Kn.config({disabled:z,onDisabled:Yt=>{mi.getField1(Yt).bind(Yo.getField).each(Kn.disable),mi.getField2(Yt).bind(Yo.getField).each(Kn.disable),mi.getLock(Yt).each(Kn.disable)},onEnabled:Yt=>{mi.getField1(Yt).bind(Yo.getField).each(Kn.enable),mi.getField2(Yt).bind(Yo.getField).each(Kn.enable),mi.getLock(Yt).each(Kn.enable)}}),Lr(()=>s.checkUiComponentContext("mode:design")),Ao("size-input-toolbar-events2",[At(T,(Yt,Jt)=>{const Wt=Jt.event.isField1,oo=Wt?mi.getField1(Yt):mi.getField2(Yt),Zn=Wt?mi.getField2(Yt):mi.getField1(Yt),is=oo.map(An.getValue).getOr(""),fo=Zn.map(An.getValue).getOr("");y=qM(is,fo)}),At(Ik,Yt=>t.onInput(A(Yt))),...kn])])})},P7=(t,s,i)=>Yo.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...t.toArray(),s],fieldBehaviours:un([Kn.config({disabled:()=>i.checkUiComponentContext("mode:design").shouldDisable,onDisabled:l=>{hX(l),Yo.getField(l).each(Kn.disable)},onEnabled:l=>{Yo.getField(l).each(Kn.enable)}})])}),L7=(t,s,i,l)=>{const m=Qt(oe),v=A=>pA(A,l),y=t.label.map(A=>Yo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Mr(s.translate(A))]})),T=Yo.parts.field({factory:Xm,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(t.min()),max:String(t.max())},data:t.initValue().toString(),fromInputValue:A=>va(A).getOr(t.min()),toInputValue:A=>String(A),inputBehaviours:un([Kn.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),Lr(()=>s.checkUiComponentContext("mode:design")),Jn.config({mode:"special",onEnter:i,onLeft:(A,L)=>(L.cut(),B.none()),onRight:(A,L)=>(L.cut(),B.none())}),Ao("slider-events",[_d({onSetup:t.onSetup,getApi:v,onBeforeSetup:Jn.focusIn},m),GR({getApi:v},m,l),At(Pm(),A=>{t.onInput(v(A))})])])});return P7(y,T,s)},WP=(t,s,i,l)=>{const m=Qt(oe),v=z=>pA(z,l),y=t.label.map(z=>Yo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Mr(s.translate(z))]})),A={...t.placeholder.map(z=>({placeholder:s.translate(z)})).getOr({})},L=Yo.parts.field({factory:Xm,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:A,data:t.initValue(),selectOnFocus:!0,inputBehaviours:un([Kn.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),Lr(()=>s.checkUiComponentContext("mode:design")),Jn.config({mode:"special",onEnter:i,onLeft:(z,j)=>(j.cut(),B.none()),onRight:(z,j)=>(j.cut(),B.none())}),Ao("input-events",[_d({onSetup:t.onSetup,getApi:z=>Gl(z.element,".tox-toolbar").bind(Q=>Fs(Q,"button:enabled")).fold(()=>pA(z,l),Q=>pA(z,l,Q)),onBeforeSetup:Jn.focusIn},m),GR({getApi:v},m,l),At(Pm(),z=>{t.onInput(v(z))})])])});return P7(y,L,s)},vA=(t,s,i)=>{const l=go(),v=Es(t(i,L=>T.findPrimary(L).orThunk(()=>A.findPrimary(L)).map(z=>(kv(z),!0)),l)),y=dr(s.commands,L=>L.align==="start"),T=UP(v,y.pass,i,l),A=UP(v,y.fail,i,l);return _o([{title:B.none(),label:B.none(),items:T.asSpecs()},{title:B.none(),label:B.none(),items:[v.asSpec()]},{title:B.none(),label:B.none(),items:A.asSpecs()}],L=>L.items.length>0)},jP=(t,s)=>{switch(t.type){case"contextform":return vA(Je(WP,t),t,s);case"contextsliderform":return vA(Je(L7,t),t,s);case"contextsizeinputform":return vA(Je(iJ,t),t,s)}},fw={renderContextForm:(t,s,i)=>zx({type:t,uid:Tn("context-toolbar"),initGroups:jP(s,i),onEscape:B.none,cyclicKeying:!0,providers:i}),buildInitGroups:jP},Qx=(t,s,i)=>s.bottom-t.y>=i&&t.bottom-s.y>=i,bA=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const i=Ui(pn.fromDom(t.startContainer),t.startOffset).element;return(Vl(i)?sn(i):B.some(i)).filter(ya).map(m=>m.dom.getBoundingClientRect()).getOr(s)}else return s},eS=t=>{const s=t.selection.getRng(),i=bA(s);if(t.inline){const l=Qr();return Bi(l.left+i.left,l.top+i.top,i.width,i.height)}else{const l=Wd(pn.fromDom(t.getBody()));return Bi(l.x+i.left,l.y+i.top,i.width,i.height)}},ZP=(t,s)=>s.filter(i=>xs(i)&&Ee(i)).map(Wd).getOrThunk(()=>eS(t)),N7=(t,s,i)=>{const l=Math.max(t.x+i,s.x),m=Math.min(t.right-i,s.right);return{x:l,width:m-l}},yA=(t,s,i,l,m,v)=>{const y=pn.fromDom(t.getContainer()),T=Fs(y,".tox-editor-header").getOr(y),A=Ei(T),L=A.y>=s.bottom,z=l&&!L;if(t.inline&&z)return{y:Math.max(A.bottom+v,i.y),bottom:i.bottom};if(t.inline&&!z)return{y:i.y,bottom:Math.min(A.y-v,i.bottom)};const j=m==="line"?Ei(y):s;return z?{y:Math.max(A.bottom+v,i.y),bottom:Math.min(j.bottom-v,i.bottom)}:{y:Math.max(j.y+v,i.y),bottom:Math.min(A.y-v,i.bottom)}},qP=(t,s,i,l=0)=>{const m=Rp(window),v=Ei(pn.fromDom(t.getContentAreaContainer())),y=FT(t)||HT(t)||nx(t),{x:T,width:A}=N7(v,m,l);if(t.inline&&!y)return Bi(T,m.y,A,m.height);{const L=s.header.isPositionedAtTop(),{y:z,bottom:j}=yA(t,v,m,L,i,l);return Bi(T,z,A,j-z)}},tS=12,wA={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},I7={maxHeightFunction:Pg(),maxWidthFunction:A2()},B7=(t,s)=>{const i=t.selection.getRng(),l=Ui(pn.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&X(l.element,s)},aJ=(t,s,i)=>{const l=_r(t,"position");bo(t,"position",s);const m=i(t);return l.each(v=>bo(t,"position",v)),m},$7=t=>t==="node",CA=(t,s,i,l,m)=>{const v=eS(t),y=l.lastElement().exists(T=>X(i,T));if(B7(t,i))return y?fc:ol;if(y)return aJ(s,l.getMode(),()=>Qx(v,Ei(s),-20)&&!l.isReposition()?EE:fc);{const T=l.getMode()==="fixed"?m.y+Qr().top:m.y,A=yi(s)+tS;return T+A<=v.y?ol:Yp}},F7=(t,s,i,l)=>{const m=A=>(L,z,j,Q,le)=>{const ae=CA(t,Q,A,i,le),_e={...L,y:le.y,height:le.height};return{...ae(_e,z,j,Q,le),alwaysFit:!0}},v=A=>$7(l)?[m(A)]:[];return s?{onLtr:A=>[Ti,Hi,Dr,Va,Yi,ua].concat(v(A)),onRtl:A=>[Ti,Dr,Hi,Yi,Va,ua].concat(v(A))}:{onLtr:A=>[ua,Ti,Va,Hi,Yi,Dr].concat(v(A)),onRtl:A=>[ua,Ti,Yi,Dr,Va,Hi].concat(v(A))}},cJ=(t,s,i,l)=>s==="line"?{bubble:tu(tS,0,wA),layouts:{onLtr:()=>[Ib],onRtl:()=>[Bb]},overrides:I7}:{bubble:tu(0,tS,wA,1/tS),layouts:F7(t,i,l,s),overrides:I7},GP=(t,s)=>{const i=_o(s,v=>v.predicate(t.dom)),{pass:l,fail:m}=dr(i,v=>v.type==="contexttoolbar");return{contextToolbars:l,contextForms:m}},lJ=t=>{if(t.length<=1)return t;{const s=v=>jo(t,y=>y.position===v),i=v=>_o(t,y=>y.position===v),l=s("selection"),m=s("node");if(l||m)if(m&&l){const v=i("node"),y=Tt(i("selection"),T=>({...T,position:"node"}));return v.concat(y)}else return i(l?"selection":"node");else return i("line")}},uJ=t=>{if(t.length<=1)return t;{const s=l=>ut(t,m=>m.position===l);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(l=>l.position).fold(()=>[],l=>_o(t,m=>m.position===l))}},dJ=(t,s,i)=>{const l=GP(t,s);if(l.contextForms.length>0)return B.some({elem:t,toolbars:[l.contextForms[0]]});{const m=GP(t,i);if(m.contextForms.length>0)return B.some({elem:t,toolbars:[m.contextForms[0]]});if(l.contextToolbars.length>0||m.contextToolbars.length>0){const v=lJ(l.contextToolbars.concat(m.contextToolbars));return B.some({elem:t,toolbars:v})}else return B.none()}},H7=(t,s,i)=>t(s)?B.none():nb(s,l=>{if(ya(l)){const{contextToolbars:m,contextForms:v}=GP(l,i.inNodeScope),y=v.length>0?v:uJ(m);return y.length>0?B.some({elem:l,toolbars:y}):B.none()}else return B.none()},t),z7=(t,s)=>{const i=pn.fromDom(s.getBody()),l=y=>X(y,i),m=y=>!l(y)&&!se(i,y),v=pn.fromDom(s.selection.getNode());return m(v)?B.none():dJ(v,t.inNodeScope,t.inEditorScope).orThunk(()=>H7(l,v,t))},V7=(t,s)=>{const i={},l=[],m=[],v={},y={},T=(z,j)=>{const Q=cd(BR(j));i[z]=Q,Q.launch.map(le=>{v["form:"+z]={...j.launch,type:le.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(Q)}}}),Q.scope==="editor"?m.push(Q):l.push(Q),y[z]=Q},A=(z,j)=>{Sq(j).each(Q=>{Q.launch.isSome()&&(v["toolbar:"+z]={...j.launch,type:"button",onAction:()=>{s(Q)}}),j.scope==="editor"?m.push(Q):l.push(Q),y[z]=Q})},L=Rn(t);return rn(L,z=>{const j=t[z];j.type==="contextform"||j.type==="contextsliderform"||j.type==="contextsizeinputform"?T(z,j):j.type==="contexttoolbar"&&A(z,j)}),{forms:i,inNodeScope:l,inEditorScope:m,lookupTable:y,formNavigators:v}},xA="tox-pop--transition",fJ=t=>t===Zx.ENTER||t===Zx.SPACEBAR,U7=(t,s,i,l)=>{const m=l.backstage,v=m.shared,y=cr().deviceType.isTouch,T=go(),A=go(),L=go(),z=gX({sink:i,onEscape:()=>(t.focus(),I6(t),B.some(!0)),onHide:()=>{I6(t)},onBack:()=>{cG(t)},focusElement:fo=>{t.getBody().contains(fo.dom)?t.focus():Wi(fo)}}),j=w(z.sketch),Q=()=>{const fo=L.get().getOr("node"),Io=$7(fo)?1:0;return qP(t,v,fo,Io)},le=()=>!t.removed&&!(y()&&m.isContextMenuOpen()),ae=fo=>La(ga(fo,T.get(),X),!0),_e=()=>{if(le()){const fo=Q(),Io=La(L.get(),"node")?ZP(t,T.get()):eS(t);return fo.height<=0||!Qx(Io,fo,.01)}else return!0},Ne=()=>{T.clear(),A.clear(),L.clear(),jr.hide(j)},Te=()=>{if(jr.isOpen(j)){const fo=j.element;os(fo,"display"),_e()?bo(fo,"display","none"):(A.set(0),jr.reposition(j))}},$e=fo=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[fo],behaviours:un([Jn.config({mode:"acyclic"}),Ao("pop-dialog-wrap-events",[pr(Io=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>Jn.focusIn(Io))}),Qd(Io=>{t.shortcuts.remove("ctrl+F9")})])])}),Ve=fo=>{const Io=Yt([fo]);so(j,MP,{forwardContents:$e(Io)})},mt=Ka(()=>V7(s,Ve)),vt=(fo,Io)=>hA(t,{buttons:fo,toolbar:Io.items,allowToolbarGroups:!1},l.backstage,B.some(["form:","toolbar:"])),kn=(fo,Io)=>fw.buildInitGroups(fo,Io),Yt=fo=>{const{buttons:Io}=t.ui.registry.getAll(),Wn=mt(),zt={...Io,...Wn.formNavigators},wn=g0(t)===wd.scrolling?wd.scrolling:wd.default,po=Lt(Tt(fo,zo=>zo.type==="contexttoolbar"?vt(zt,e6(zo)):kn(zo,v.providers)));return zx({type:wn,uid:Tn("context-toolbar"),initGroups:po,onEscape:B.none,cyclicKeying:!0,providers:v.providers})},Jt=(fo,Io)=>{const Wn=fo==="node"?v.anchors.node(Io):v.anchors.cursor(),zt=cJ(t,fo,y(),{lastElement:T.get,isReposition:()=>La(A.get(),0),getMode:()=>Uc.getMode(i)});return Is(Wn,zt)},Wt=(fo,Io)=>{if(is.cancel(),!le())return;const Wn=Yt(fo),zt=fo[0].position,wn=Jt(zt,Io);L.set(zt),A.set(1);const po=j.element;os(po,"display"),ae(Io)||(zr(po,xA),Uc.reset(i,j)),jr.showWithinBounds(j,$e(Wn),{anchor:wn,transition:{classes:[xA],mode:"placement"}},()=>B.some(Q())),Io.fold(T.clear,T.set),_e()&&bo(po,"display","none")},oo=()=>{bo(j.element,"transition","none"),Te(),os(j.element,"transition")};let Zn=!1;const is=ba(()=>{if(!(!t.hasFocus()||t.removed||Zn))if(ui(j.element,xA))is.throttle();else{const fo=mt();z7(fo,t).fold(Ne,Io=>{Wt(Io.toolbars,B.some(Io.elem))})}},17);t.on("init",()=>{t.on("remove",Ne),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Te),t.on("click focus SetContent",is.throttle),t.on("keyup",fo=>{(!fJ(fo.keyCode)||!z.inSubtoolbar())&&is.throttle()}),t.on(R7,Ne),t.on(D7,fo=>{const Io=mt();_t(Io.lookupTable,fo.toolbarKey).each(Wn=>{Wt([Wn],ti(fo.target!==t,fo.target)),r7(j)})}),t.on("focusout",fo=>{PT.setEditorTimeout(t,()=>{ci(i.element).isNone()&&ci(j.element).isNone()&&!t.hasFocus()&&Ne()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&Ne()}),t.on("DisabledStateChange",fo=>{fo.state&&Ne()}),t.on("ExecCommand",({command:fo})=>{fo.toLowerCase()==="toggleview"&&Ne()}),t.on("AfterProgressState",fo=>{fo.state?Ne():t.hasFocus()&&is.throttle()}),t.on("dragstart",()=>{Zn=!0}),t.on("dragend drop",()=>{Zn=!1}),t.on("NodeChange",fo=>{z.inSubtoolbar()?oo():ci(j.element).fold(is.throttle,oe)})})},W7=t=>{rn([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],i=>{t.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:Hu(t,i.cmd),onSetup:kk(t,i.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:al(t),onAction:Hu(t,"JustifyNone")})},j7=(t,s)=>{const i=()=>{const l=s.getOptions(t),m=s.getCurrent(t).map(s.hash),v=go();return Tt(l,y=>({type:"togglemenuitem",text:s.display(y),onSetup:T=>{const A=z=>{z&&(v.on(j=>j.setActive(!1)),v.set(T)),T.setActive(z)};A(La(m,s.hash(y)));const L=s.watcher(t,y,A);return()=>{v.clear(),L()}},onAction:()=>s.setCurrent(t,y)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:l=>l(i()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},Vne=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:t$,hash:s=>sr(s,["fixed","relative","empty"]).getOr(s),display:Ot,watcher:(s,i,l)=>s.formatter.formatChanged("lineheight",l,!1,{value:i}).unbind,getCurrent:s=>B.from(s.queryCommandValue("LineHeight")),setCurrent:(s,i)=>s.execCommand("LineHeight",!1,i),onToolbarSetup:al(t),onMenuSetup:al(t)}),mJ=t=>B.from(LB(t)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:k(i),hash:l=>ye(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,m,v)=>{var y;return l.formatter.formatChanged("lang",v,!1,{value:m.code,customValue:(y=m.customCode)!==null&&y!==void 0?y:null}).unbind},getCurrent:l=>{const m=pn.fromDom(l.selection.getNode());return Kl(m,v=>B.some(v).filter(ya).bind(y=>ia(y,"lang").map(A=>{const L=ia(y,"data-mce-lang").getOrUndefined();return{code:A,customCode:L,title:""}})))},setCurrent:(l,m)=>l.execCommand("Lang",!1,m),onToolbarSetup:l=>{const m=xr();return l.setActive(t.formatter.match("lang",{},void 0,!0)),m.set(t.formatter.formatChanged("lang",l.setActive,!0)),Tk(m.clear,al(t)(l))},onMenuSetup:al(t)})),hJ=t=>{j7(t,Vne(t)),mJ(t).each(s=>j7(t,s))},gJ=(t,s)=>{wX(t,s),kX(t,s),zX(t,s),g7(t,s),$X(t,s)},pJ=t=>{t.ui.registry.addContext("editable",()=>t.selection.isEditable()),t.ui.registry.addContext("mode",s=>t.mode.get()===s),t.ui.registry.addContext("any",Nt),t.ui.registry.addContext("formatting",s=>t.formatter.canApply(s)),t.ui.registry.addContext("insert",s=>t.schema.isValidChild(t.selection.getNode().tagName,s))},vJ=t=>D0(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),bJ=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:vJ(t),onAction:Hu(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:al(t,()=>t.queryCommandState("indent")),onAction:Hu(t,"indent")})},yJ=t=>{bJ(t)},Z7=(t,s)=>i=>{i.setActive(s.get());const l=m=>{s.set(m.state),i.setActive(m.state)};return t.on("PastePlainTextToggle",l),Tk(()=>t.off("PastePlainTextToggle",l),al(t)(i))},wJ=t=>{const s=Qt(GB(t)),i=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:i,onSetup:Z7(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:i,onSetup:Z7(t,s)})},KP=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},CJ=t=>{mp.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,i)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:kk(t,s.name),onAction:KP(t,s.name),shortcut:s.shortcut})});for(let s=1;s<=6;s++){const i="h"+s,l=`Access+${s}`;t.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+s,onSetup:kk(t,i),onAction:KP(t,i),shortcut:l})}},xJ=t=>{mp.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Hu(t,s.action),shortcut:s.shortcut,context:s.context})}),mp.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:al(t),onAction:Hu(t,s.action)})})},SJ=t=>{mp.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Hu(t,s.action),onSetup:kk(t,s.name)})})},q7=t=>{CJ(t),xJ(t),SJ(t)},EJ=t=>{mp.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Hu(t,s.action),context:s.context})}),mp.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:al(t),onAction:Hu(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:al(t),onAction:KP(t,"code")})},_J=t=>{q7(t),EJ(t)},SA=(t,s)=>D0(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),TJ=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:SA(t,"hasUndo"),onAction:Hu(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:SA(t,"hasRedo"),onAction:Hu(t,"redo")})},kJ=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:SA(t,"hasUndo"),onAction:Hu(t,"undo"),shortcut:"Meta+Z"}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:SA(t,"hasRedo"),onAction:Hu(t,"redo"),shortcut:"Meta+Y"})},YP=t=>{TJ(t),kJ(t)},AJ=t=>D0(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),OJ=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:AJ(t),onAction:Hu(t,"mceToggleVisualAid"),context:"any"})},XP=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Hu(t,"mceToggleVisualAid"),context:"any"})},G7=t=>{XP(t),OJ(t)},K7=(t,s)=>{W7(t),_J(t),gJ(t,s),YP(t),pG(t),G7(t),yJ(t),hJ(t),wJ(t),pJ(t)},DJ=t=>$(t)?t.split(/[ ,]/):t,Y7=t=>s=>s.options.get(t),RJ=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:i=>i===!1?{value:[],valid:!0}:$(i)||Le(i,$)?{value:DJ(i),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},X7=Y7("contextmenu_never_use_native"),MJ=Y7("contextmenu_avoid_overlap"),JP=t=>J7(t).length===0,J7=t=>{const s=t.ui.registry.getAll().contextMenus,i=t.options.get("contextmenu");return t.options.isSet("contextmenu")?i:_o(i,l=>yn(s,l))},mw=(t,s)=>({type:"makeshift",x:t,y:s}),PJ=(t,s,i)=>mw(t.x+s,t.y+i),Q7=t=>t.type==="longpress"||t.type.indexOf("touch")===0,QP=t=>{if(Q7(t)){const s=t.touches[0];return mw(s.pageX,s.pageY)}else return mw(t.pageX,t.pageY)},LJ=t=>{if(Q7(t)){const s=t.touches[0];return mw(s.clientX,s.clientY)}else return mw(t.clientX,t.clientY)},eH=(t,s)=>{const i=ex.DOM.getPos(t);return PJ(s,i.x,i.y)},eL=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?QP(s):eH(t.getContentAreaContainer(),LJ(s)):tH(t),tH=t=>({type:"selection",root:pn.fromDom(t.selection.getNode())}),NJ=t=>({type:"node",node:B.some(pn.fromDom(t.selection.getNode())),root:pn.fromDom(t.getBody())}),nH=(t,s,i)=>{switch(i){case"node":return NJ(t);case"point":return eL(t,s);case"selection":return tH(t)}},IJ=(t,s,i,l,m,v)=>{const y=i(),T=nH(t,s,v);nw(y,lm.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:B.none()}).map(A=>{s.preventDefault(),jr.showMenuAt(m,{anchor:T},{menu:{markers:_1("normal")},data:A})})},BJ={onLtr:()=>[Ti,Hi,Dr,Va,Yi,ua,ol,Yp,Et,Uf,Kp,pd],onRtl:()=>[Ti,Dr,Hi,Yi,Va,ua,ol,Yp,Kp,pd,Et,Uf]},oH=12,$J={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},FJ=(t,s)=>{const i=t.selection;if(i.isCollapsed()||s.touches.length<1)return!1;{const l=s.touches[0],m=i.getRng();return hh(t.getWin(),Yl.domRange(m)).exists(y=>y.left<=l.clientX&&y.right>=l.clientX&&y.top<=l.clientY&&y.bottom>=l.clientY)}},HJ=t=>{const s=t.selection.getRng(),i=()=>{PT.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),v()};t.once("touchend",i);const l=y=>{y.preventDefault(),y.stopImmediatePropagation()};t.on("mousedown",l,!0);const m=()=>v();t.once("longpresscancel",m);const v=()=>{t.off("touchend",i),t.off("longpresscancel",m),t.off("mousedown",l)}},zJ=(t,s,i)=>{const l=nH(t,s,i);return{bubble:tu(0,i==="point"?oH:0,$J),layouts:BJ,overrides:{maxWidthFunction:A2(),maxHeightFunction:Pg()},...l}},VJ=(t,s,i,l,m,v,y)=>{const T=zJ(t,s,v);nw(i,lm.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!0,search:B.none()}).map(A=>{s.preventDefault();const L=y?mc.HighlightMenuAndItem:mc.HighlightNone;jr.showMenuWithinBounds(m,{anchor:T},{menu:{markers:_1("normal"),highlightOnOpen:L},data:A,type:"horizontal"},()=>B.some(qP(t,l.shared,v==="node"?"node":"selection"))),t.dispatch(R7)})},UJ=(t,s,i,l,m,v)=>{const y=cr(),T=y.os.isiOS(),A=y.os.isMacOS(),L=y.os.isAndroid(),z=y.deviceType.isTouch(),j=()=>!(L||T||A&&z),Q=()=>{const le=i();VJ(t,s,le,l,m,v,j())};if((A||T)&&v!=="node"){const le=()=>{HJ(t),Q()};FJ(t,s)?le():(t.once("selectionchange",le),t.once("touchend",()=>t.off("selectionchange",le)))}else Q()},sH=t=>$(t)?t==="|":t.type==="separator",tL={type:"separator"},rH=t=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if($(t))return t;switch(t.type){case"separator":return tL;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const l=t.getSubmenuItems();return $(l)?l:Tt(l,rH)}};default:const i=t;return{type:"menuitem",...s(i),onAction:Oe(i.onAction)}}},iH=(t,s)=>{if(s.length===0)return t;const l=ao(t).filter(m=>!sH(m)).fold(()=>[],m=>[tL]);return t.concat(l).concat(s).concat([tL])},aH=(t,s,i)=>{const l=jt(s,(m,v)=>_t(t,v.toLowerCase()).map(y=>{const T=y.update(i);if($(T)&&ic(Sn(T)))return iH(m,T.split(" "));if(ee(T)&&T.length>0){const A=Tt(T,rH);return iH(m,A)}else return m}).getOrThunk(()=>m.concat([v])),[]);return l.length>0&&sH(l[l.length-1])&&l.pop(),l},WJ=(t,s)=>s.ctrlKey&&!X7(t),cH=t=>t.type==="longpress"||yn(t,"touches"),lH=(t,s)=>!cH(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),uH=(t,s)=>lH(t,s)?t.selection.getStart(!0):s.target,jJ=(t,s)=>{const i=MJ(t),l=lH(t,s)?"selection":"point";if(ic(i)){const m=uH(t,s);return ug(pn.fromDom(m),i)?"node":l}else return l},B0=(t,s,i)=>{const m=cr().deviceType.isTouch,v=w(jr.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:un([Ao("dismissContextMenu",[At(kg(),(A,L)=>{Ss.close(A),t.focus()})])])})),y=()=>jr.hide(v),T=A=>{if(X7(t)&&A.preventDefault(),WJ(t,A)||JP(t))return;const L=jJ(t,A),z=()=>{const Q=uH(t,A),le=t.ui.registry.getAll(),ae=J7(t);return aH(le.contextMenus,ae,Q)};(m()?UJ:IJ)(t,A,z,i,v,L)};t.on("init",()=>{const A="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(m()?"":" ResizeWindow");t.on(A,y),t.on("longpress contextmenu",T)})},EA=40,_A=EA/2,dH=(t,s,i,l,m,v)=>t.fold(()=>s0.snap({sensor:l1(i-_A,l-_A),range:$s(m,v),output:l1(B.some(i),B.some(l)),extra:{td:s}}),y=>{const T=i-_A,A=l-_A,L=EA,z=EA,j=y.element.dom.getBoundingClientRect();return s0.snap({sensor:l1(T,A),range:$s(L,z),output:l1(B.some(i-j.width/2),B.some(l-j.height/2)),extra:{td:s}})}),fH=(t,s,i)=>{const l=(m,v)=>m.exists(y=>X(y,v));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(m,v)=>{const y=v.td;l(s.get(),y)||(s.set(y),i(y))},mustSnap:!0}},mH=t=>Es(xc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:un([s0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),Ry.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),ZJ=(t,s)=>{const i=Qt([]),l=Qt([]),m=Qt(!1),v=go(),y=go(),T=Yt=>{const Jt=Wd(Yt);return dH(le.getOpt(s),Yt,Jt.x,Jt.y,Jt.width,Jt.height)},A=()=>Tt(i.get(),Yt=>T(Yt)),L=Yt=>{const Jt=Wd(Yt);return dH(ae.getOpt(s),Yt,Jt.right,Jt.bottom,Jt.width,Jt.height)},z=()=>Tt(l.get(),Yt=>L(Yt)),j=fH(A,v,Yt=>{y.get().each(Jt=>{t.dispatch("TableSelectorChange",{start:Yt,finish:Jt})})}),Q=fH(z,y,Yt=>{v.get().each(Jt=>{t.dispatch("TableSelectorChange",{start:Jt,finish:Yt})})}),le=mH(j),ae=mH(Q),_e=w(le.asSpec()),Ne=w(ae.asSpec()),Te=(Yt,Jt,Wt,oo)=>{const Zn=Jt.dom.getBoundingClientRect();os(Yt.element,"display");const is=Zt(pn.fromDom(t.getBody())).dom.innerHeight,fo=Wt(Zn),Io=oo(Zn,is);(fo||Io)&&bo(Yt.element,"display","none")},$e=(Yt,Jt,Wt,oo)=>{const Zn=Wt(Jt);s0.snapTo(Yt,Zn),Te(Yt,Jt,Io=>Io[oo]<0,(Io,Wn)=>Io[oo]>Wn)},Ve=Yt=>$e(_e,Yt,T,"top"),mt=()=>v.get().each(Ve),vt=Yt=>$e(Ne,Yt,L,"bottom"),kn=()=>y.get().each(vt);if(cr().deviceType.isTouch()){const Yt=Jt=>Tt(Jt,pn.fromDom);t.on("TableSelectionChange",Jt=>{m.get()||(Xf(s,_e),Xf(s,Ne),m.set(!0));const Wt=pn.fromDom(Jt.start),oo=pn.fromDom(Jt.finish);v.set(Wt),y.set(oo),B.from(Jt.otherCells).each(Zn=>{i.set(Yt(Zn.upOrLeftCells)),l.set(Yt(Zn.downOrRightCells)),Ve(Wt),vt(oo)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{mt(),kn()}),t.on("TableSelectionClear",()=>{m.get()&&(Jf(_e),Jf(Ne),m.set(!1)),v.clear(),y.clear()})}};var hH=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const qJ=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",GJ=(t,s,i)=>{var l;const m=(l=s.delimiter)!==null&&l!==void 0?l:"",v=(L,z,j)=>xc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":j}},components:[Mr(L)],action:Q=>{t.focus(),t.selection.select(z),t.nodeChanged()},buttonBehaviours:un([Pr.config({...i.tooltips.getConfig({tooltipText:i.translate(["Select the {0} element",z.nodeName.toLowerCase()]),onShow:(Q,le)=>{xl(Q.element,le.element)},onHide:Q=>{rb(Q.element)}})}),Ed.button(i.isDisabled),Lr(()=>i.checkUiComponentContext("any"))])}),y=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Mr(` ${m} `)]}),T=L=>jt(L,(z,j,Q)=>{const le=v(j.name,j.element,Q);return Q===0?z.concat([le]):z.concat([y(),le])},[]),A=L=>{const z=[];let j=L.length;for(;j-- >0;){const Q=L[j];if(Q.nodeType===1&&!qJ(Q)){const le=oG(t,Q);if(le.isDefaultPrevented()||z.push({name:le.name,element:Q}),le.isPropagationStopped())break}}return z};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:un([Jn.config({mode:"flow",selector:"div[role=button]"}),Kn.config({disabled:i.isDisabled}),Lr(()=>i.checkUiComponentContext("any")),ur.config({}),Mo.config({}),Ao("elementPathEvents",[pr((L,z)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Jn.focusIn(L)),t.on("NodeChange",j=>{const Q=A(j.parents),le=Q.length>0?T(Q):[];Mo.set(L,le)})})])]),components:[]}};var jh;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(jh||(jh={}));const gH=t=>{const s=pn.fromDom(t.getContainer()),i=yi(s),l=Sa(s);return{height:i,width:l}},KJ=(t,s,i,l)=>({height:Yx(l.height+s.top,F3(t),H3(t)),width:i===jh.Both?Yx(l.width+s.left,$3(t),IT(t)):l.width}),pH=(t,s,i)=>{const l=pn.fromDom(t.getContainer()),m=gH(t),v=KJ(t,s,i,m);return Vo(v,(y,T)=>{Be(y)&&bo(l,T,dw(y))}),lM(t),v},YJ=t=>{const s=qB(t);return s===!1?jh.None:s==="both"?jh.Both:jh.Vertical},vH=(t,s)=>s===jh.Both?Ai.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",t.height,t.width]):Ai.translate(["Editor's height: {0} pixels",t.height]),nL=(t,s,i)=>{lo(t.element,"aria-valuetext",vH(s,i))},TA=(t,s,i,l,m)=>{const y=$s(l*20,m*20),T=pH(t,y,i);return nL(s,T,i),B.some(!0)},XJ=(t,s)=>{const i=YJ(t);if(i===jh.None)return B.none();const l=i===jh.Both?Ai.translate("Press the arrow keys to resize the editor."):Ai.translate("Press the Up and Down arrow keys to resize the editor."),m=i===jh.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return B.some(xd("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",m],attributes:{"aria-label":s.translate(l),"data-mce-name":"resize-handle",role:"separator"},behaviours:[s0.config({mode:"mouse",repositionTarget:!1,onDrag:(v,y,T)=>{const A=pH(t,T,i);nL(v,A,i)},blockerClass:"tox-blocker"}),Jn.config({mode:"special",onLeft:v=>TA(t,v,i,-1,0),onRight:v=>TA(t,v,i,1,0),onUp:v=>TA(t,v,i,0,-1),onDown:v=>TA(t,v,i,0,1)}),ur.config({}),Ro.config({}),Pr.config(s.tooltips.getConfig({tooltipText:s.translate("Resize")})),Ao("set-aria-valuetext",[pr(v=>{const y=()=>{nL(v,gH(t),i)};t._skinLoaded?y():t.once("SkinLoaded",y)})])],eventOrder:{[Zd()]:["add-focusable","set-aria-valuetext"]}},s.icons))},JJ=(t,s)=>{const i=(l,m,v)=>Mo.set(l,[Mr(s.translate(["{0} "+v,m[v]]))]);return xc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:un([Ed.button(s.isDisabled),Lr(()=>s.checkUiComponentContext("any")),ur.config({}),Mo.config({}),An.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Ao("wordcount-events",[Fm(l=>{const m=An.getValue(l),v=m.mode==="words"?"characters":"words";An.setValue(l,{mode:v,count:m.count}),i(l,m.count,v)}),pr(l=>{t.on("wordCountUpdate",m=>{const{mode:v}=An.getValue(l);An.setValue(l,{mode:v,count:m.wordCount}),i(l,m.wordCount,v)})})])]),eventOrder:{[El()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},QJ=(t,s)=>{const i=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":t.translate(["Build with {0}","TinyMCE"])},innerHtml:t.translate(["Build with {0}",hH.trim()])},behaviours:un([Ro.config({})])}]}),l=()=>{const T=T0("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Mr(Ai.translate(["Press {0} for help",T]))]}},m=()=>{const T=[];return t.hasPlugin("wordcount")&&T.push(JJ(t,s)),$T(t)&&T.push(i()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:T}},v=()=>{const T=[],A=XB(t),L=ZB(t),z=$T(t)||t.hasPlugin("wordcount"),j=()=>{const Q="tox-statusbar__text-container--flex-start",le="tox-statusbar__text-container--flex-end",ae="tox-statusbar__text-container--space-around";if(A){const _e="tox-statusbar__text-container-3-cols";return!z&&!L?[_e,ae]:z&&!L?[_e,le]:[_e,Q]}return[z&&!L?le:Q]};return L&&T.push(GJ(t,{},s)),A&&T.push(l()),z&&T.push(m()),T.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...j()]},components:T}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const T=v(),A=XJ(t,s);return T.concat(A.toArray())})()}},kA=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),eQ=(t,s)=>{const i=t.inline,l=i?tJ:XX,m=rp(t)?nA:gY,v=nJ(),y=go(),T=go(),A=go(),Q=cr().deviceType.isTouch()?["tox-platform-touch"]:[],le=Z3(t),ae=g0(t),_e=Es({dom:{tag:"div",classes:["tox-anchorbar"]}}),Ne=Es({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Te=()=>v.mainUi.get().map(Yn=>Yn.outerContainer).bind(ir.getHeader),$e=()=>Un.fromOption(v.dialogUi.get().map(Yn=>Yn.sink),"UI has not been rendered"),Ve=()=>Un.fromOption(v.popupUi.get().map(Yn=>Yn.sink),"(popup) UI has not been rendered"),mt=v.lazyGetInOuterOrDie("anchor bar",_e.getOpt),vt=v.lazyGetInOuterOrDie("bottom anchor bar",Ne.getOpt),kn=v.lazyGetInOuterOrDie("toolbar",ir.getToolbar),Yt=v.lazyGetInOuterOrDie("throbber",ir.getThrobber),Jt=cY({popup:Ve,dialog:$e},t,mt,vt),Wt=()=>{const Yn={attributes:{[O2]:le?Wf.BottomToTop:Wf.TopToBottom}},Fo=ir.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Jt.popup,onEscape:()=>{t.focus()}}),Os=ir.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Jt.popup.shared.getSink,providers:Jt.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:pf=>{M6(t,pf)},type:ae,lazyToolbar:kn,lazyHeader:()=>Te().getOrDie("Could not find header element"),...Yn}),_s=ir.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Jt.popup.shared.providers,onEscape:()=>{t.focus()},type:ae}),cl=nx(t),br=HT(t),ec=FT(t),Xi=YB(t),Pl=oo(Xi),Zc=cl||br||ec,hi=()=>cl?[_s]:br?[Os]:[],Zh=[Pl,Fo];return ir.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Zc?[]:["tox-editor-header--empty"]),...Yn},components:Lt([ec?Zh:[],hi(),$y(t)?[]:[_e.asSpec()]]),sticky:rp(t),editor:t,sharedBackstage:Jt.popup.shared})},oo=Yn=>ir.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:Yn}),Zn=()=>{const Yn=ir.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Fo=ir.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Yn,Fo]}},is=()=>{const Yn=q3(t),Fo=X(Jc(),Yn)&&gr(Yn,"display")==="grid",Os={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(Q),attributes:{...Ai.isRtl()?{dir:"rtl"}:{}}},behaviours:un([Uc.config({useFixed:()=>m.isDocked(Te)})])},_s={dom:{styles:{width:document.body.clientWidth+"px"}},events:Rr([At(Tg(),ec=>{bo(ec.element,"width",document.body.clientWidth+"px")})])},cl=w(Is(Os,Fo?_s:{})),br=HD(cl);return T.set(br),{sink:cl,mothership:br}},fo=()=>{const Yn={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(Q),attributes:{...Ai.isRtl()?{dir:"rtl"}:{}}},behaviours:un([Uc.config({useFixed:()=>m.isDocked(Te),getBounds:()=>s.getPopupSinkBounds()})])},Fo=w(Yn),Os=HD(Fo);return A.set(Os),{sink:Fo,mothership:Os}},Io=()=>{const Yn=Wt(),Fo=Zn(),Os=ir.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Jt.popup}),_s=ir.parts.viewWrapper({backstage:Jt.popup}),cl=W3(t)&&!i?B.some(QJ(t,Jt.popup.shared.providers)):B.none(),br=Lt([le?[]:[Yn],i?[]:[Fo],le?[Yn]:[]]),ec=ir.parts.editorContainer({components:Lt([br,i?[]:[Ne.asSpec()]])}),Xi=ox(t),Pl={role:"application",...Ai.isRtl()?{dir:"rtl"}:{},...Xi?{"aria-hidden":"true"}:{}},Zc=w(ir.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(le?["tox-tinymce--toolbar-bottom"]:[]).concat(Q),styles:{visibility:"hidden",...Xi?{opacity:"0",border:"0"}:{}},attributes:Pl},components:[ec,...i?[]:[_s,...cl.toArray()],Os],behaviours:un([Lr(()=>Jt.popup.shared.providers.checkUiComponentContext("any")),Kn.config({disableClass:"tox-tinymce--disabled"}),Jn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),hi=HD(Zc);return y.set(hi),{mothership:hi,outerContainer:Zc}},Wn=Yn=>{const Fo=dw(_7(t)),Os=dw(k7(t));return t.inline||(ah("div","width",Os)&&bo(Yn.element,"width",Os),ah("div","height",Fo)?bo(Yn.element,"height",Fo):bo(Yn.element,"height","400px")),Fo},zt=Yn=>{t.addShortcut("alt+F9","focus menubar",()=>{ir.focusMenubar(Yn)}),t.addShortcut("alt+F10","focus toolbar",()=>{ir.focusToolbar(Yn)}),t.addCommand("ToggleToolbarDrawer",(Fo,Os,_s)=>{Os!=null&&Os.skipFocus?(dY("skipFocus"),ir.toggleToolbarDrawerWithoutFocusing(Yn)):_s!=null&&_s.skip_focus?ir.toggleToolbarDrawerWithoutFocusing(Yn):ir.toggleToolbarDrawer(Yn)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>ir.isToolbarDrawerToggled(Yn)),t.on("blur",()=>{g0(t)===wd.floating&&ir.isToolbarDrawerToggled(Yn)&&ir.toggleToolbarDrawerWithoutFocusing(Yn)})},wn=Yn=>{const{mainUi:Fo,popupUi:Os,uiMotherships:_s}=Yn;Oo(IB(t),(gp,sS)=>{t.ui.registry.addGroupToolbarButton(sS,gp)});const{buttons:cl,menuItems:br,contextToolbars:ec,sidebars:Xi,views:Pl}=t.ui.registry.getAll(),Zc=zT(t),hi={menuItems:br,menus:sx(t),menubar:FB(t),toolbar:Zc.getOrThunk(()=>BT(t)),allowToolbarGroups:ae===wd.floating,buttons:cl,sidebar:Xi,views:Pl};zt(Fo.outerContainer),fY(t,Fo.mothership,_s),m.setup(t,Jt.popup.shared,Te),K7(t,Jt.popup),B0(t,Jt.popup.shared.getSink,Jt.popup),oA(t),DY(t,Yt,Jt.popup.shared),U7(t,ec,Os.sink,{backstage:Jt.popup}),ZJ(t,Os.sink);const Zh=t.getElement(),pf=Wn(Fo.outerContainer),$0={targetNode:Zh,height:pf};return l.render(t,Yn,hi,Jt.popup,$0)},po=Yn=>(A.set(Yn.mothership),Yn),zo=()=>{const Yn=Io(),Fo=is(),Os=C1(t)?fo():po(Fo);v.dialogUi.set(Fo),v.popupUi.set(Os),v.mainUi.set(Yn);const _s={popupUi:Os,dialogUi:Fo,mainUi:Yn,uiMotherships:v.getUiMotherships()};return wn(_s)};return{popups:{backstage:Jt.popup,getMothership:()=>kA("popups",A)},dialogs:{backstage:Jt.dialog,getMothership:()=>kA("dialogs",T)},renderUI:zo}},bH=t=>{const s=[],i={};return Vo(t,(l,m)=>{l.fold(()=>{s.push(m)},v=>{i[m]=v})}),s.length>0?Un.error(s):Un.value(i)},tQ=(t,s,i,l)=>{const m=Es(su.sketch(v=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Tt(t.items,y=>c8(v,y,s,i,l))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[m.asSpec()]}],behaviours:un([Jn.config({mode:"acyclic",useTabstopAt:Ie(Dx)}),fm.memento(m),ZG(m,{postprocess:v=>bH(v).fold(y=>(console.error(y),{}),Ot)}),Ao("dialog-body-panel",[At(dd(),(v,y)=>{v.getSystem().broadcastOn([zk],{newFocus:B.some(y.event.target)})})])])}},nQ=(t,s,i)=>Tt(t,(l,m)=>{Mo.set(i,t[m].view());const v=s.dom.getBoundingClientRect();return Mo.set(i,[]),v.height}),oQ=t=>rt(Ht(t,(s,i)=>s>i?-1:s<i?1:0)),sQ=(t,s,i)=>{const l=Bt(t).dom,m=Gl(t,".tox-dialog-wrap").getOr(t),v=gr(m,"position")==="fixed";let y;v?y=Math.max(l.clientHeight,window.innerHeight):y=Math.max(l.offsetHeight,l.scrollHeight);const T=yi(s),L=s.dom.offsetLeft>=i.dom.offsetLeft+Sa(i)?Math.max(yi(i),T):T,z=parseInt(gr(t,"margin-top"),10)||0,j=parseInt(gr(t,"margin-bottom"),10)||0,le=yi(t)+z+j-L;return y-le},rQ=(t,s)=>{rt(t).each(i=>h0.showTab(s,i.value))},yH=(t,s)=>{bo(t,"height",s+"px"),bo(t,"flex-basis",s+"px")},nS=(t,s,i)=>{Gl(t,'[role="dialog"]').each(l=>{Fs(l,'[role="tablist"]').each(m=>{i.get().map(v=>(bo(s,"height","0"),bo(s,"flex-basis","0"),Math.min(v,sQ(l,s,m)))).each(v=>{yH(s,v)})})})},AA=t=>Fs(t,'[role="tabpanel"]'),iQ=t=>{const s=go();return{extraEvents:[pr(m=>{const v=m.element;AA(v).each(y=>{bo(y,"visibility","hidden"),m.getSystem().getByDom(y).toOptional().each(T=>{const A=nQ(t,y,T);oQ(A).fold(s.clear,s.set)}),nS(v,y,s),os(y,"visibility"),rQ(t,m),requestAnimationFrame(()=>{nS(v,y,s)})})}),At(Tg(),m=>{const v=m.element;AA(v).each(y=>{nS(v,y,s)})}),At(DM,(m,v)=>{const y=m.element;AA(y).each(T=>{const A=ji(Br(T));bo(T,"visibility","hidden");const L=_r(T,"height").map(Q=>parseInt(Q,10));os(T,"height"),os(T,"flex-basis");const z=T.dom.getBoundingClientRect().height;L.forall(Q=>z>Q)?(s.set(z),nS(y,T,s)):L.each(Q=>{yH(T,Q)}),os(T,"visibility"),A.each(Wi)})})],selectFirst:!1}},hw="send-data-to-section",wH="send-data-to-view",aQ=(t,s,i,l)=>{const m=Qt({}),v=z=>{const j=An.getValue(z),Q=bH(j).getOr({}),le=m.get(),ae=Is(le,Q);m.set(ae)},y=z=>{const j=m.get();An.setValue(z,j)},T=Qt(null),A=Tt(t.tabs,z=>({value:z.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Mr(i.shared.providers.translate(z.title))],view:()=>[su.sketch(j=>({dom:{tag:"div",classes:["tox-form"]},components:Tt(z.items,Q=>c8(j,Q,s,i,l)),formBehaviours:un([Jn.config({mode:"acyclic",useTabstopAt:Ie(Dx)}),Ao("TabView.form.events",[pr(y),Qd(v)]),Du.config({channels:uv([{key:hw,value:{onReceive:v}},{key:wH,value:{onReceive:y}}])})])}))]})),L=iQ(A);return h0.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(z,j,Q)=>{const le=An.getValue(j);so(z,OM,{name:le,oldName:T.get()}),T.set(le)},tabs:A,components:[h0.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[DT.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:un([ur.config({})])}),h0.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:L.selectFirst,tabSectionBehaviours:un([Ao("tabpanel",L.extraEvents),Jn.config({mode:"acyclic"}),Mt.config({find:z=>rt(h0.getViewItems(z))}),P0(B.none(),z=>(z.getSystem().broadcastOn([hw],{}),m.get()),(z,j)=>{m.set(j),z.getSystem().broadcastOn([wH],{})})])})},OA=(t,s,i,l,m,v)=>{const y=L=>{const z=L.body;switch(z.type){case"tabpanel":return[aQ(z,L.initialData,l,v)];default:return[tQ(z,L.initialData,l,v)]}},T=(L,z)=>B.some({isTabPanel:()=>z.body.type==="tabpanel"}),A={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(L=>({id:L})).getOr({}),...m?A:{}}},components:[],behaviours:un([fm.childAt(0),Ru.config({channel:`${FM}-${s}`,updateState:T,renderComponents:y,initialData:t})])}},cQ=(t,s,i,l,m,v)=>OA(t,s,B.some(i),l,m,v),lQ=(t,s,i,l)=>{const m=OA(t,s,B.none(),i,!1,l);return da.parts.body(m)},uQ=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[xF(B.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:un([ur.config({}),Ro.config({})])})]}],behaviours:un([Jn.config({mode:"acyclic",useTabstopAt:Ie(Dx)})])};return da.parts.body(s)},dQ=By.deviceType.isTouch(),CH=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),xH=(t,s)=>da.parts.close(xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:un([ur.config({})])})),SH=()=>da.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),EH=(t,s)=>da.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Km(`<p>${iR(s.translate(t))}</p>`)}]}]}),_H=t=>da.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),TH=(t,s)=>[nm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),nm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],oL=t=>{const s="tox-dialog",i=s+"-wrap",l=i+"__backdrop",m=s+"__disable-scroll";return da.sketch({lazySink:t.lazySink,onEscape:v=>(t.onEscape(v),B.some(!0)),useTabstopAt:v=>!Dx(v),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:Km(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:dQ?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:i,modalBehaviours:un([Ro.config({}),Ao("dialog-events",t.dialogEvents.concat([Bg(dd(),(v,y)=>{Gt.isBlocked(v)?oe():Jn.focusIn(v)}),At(fv(),(v,y)=>{v.getSystem().broadcastOn([zk],{newFocus:y.event.newFocus})})])),Ao("scroll-lock",[pr(()=>{Gs(Jc(),m)}),Qd(()=>{zr(Jc(),m)})]),...t.extraBehaviours]),eventOrder:{[El()]:["dialog-events"],[Zd()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Lm()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},kH=t=>xc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:un([ur.config({}),Pr.config(t.tooltips.getConfig({tooltipText:t.translate("Close")}))]),components:[xd("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{ts(s,N1)}}),AH=(t,s,i,l)=>{const m=v=>[Mr(l.translate(v.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...i.map(v=>({id:v})).getOr({})}},components:[],behaviours:un([Ru.config({channel:`${EF}-${s}`,initialData:t,renderComponents:m})])}},OH=()=>({dom:Km('<div class="tox-dialog__draghandle"></div>')}),fQ=(t,s,i,l)=>nm.sketch({dom:Km('<div class="tox-dialog__header"></div>'),components:[AH(t,s,B.some(i),l),OH(),kH(l)],containerBehaviours:un([s0.config({mode:"mouse",blockerClass:"blocker",getTarget:m=>Ba(m,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(m,v)=>{m.getSystem().broadcastOn([Qa()],{target:v})}})])}),mQ=(t,s,i)=>{const l=da.parts.title(AH(t,s,B.none(),i)),m=da.parts.draghandle(OH()),v=da.parts.close(kH(i)),y=[l].concat(t.draggable?[m]:[]).concat([v]);return nm.sketch({dom:Km('<div class="tox-dialog__header"></div>'),components:y})},DH=(t,s,i)=>mQ({title:i.shared.providers.translate(t),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),oS=(t,s,i,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:Km('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),RH=(t,s,i)=>({onClose:()=>i.closeWindow(),onBlock:l=>{const m=Fs(t().element,".tox-dialog__header").map(v=>yi(v));da.setBusy(t(),(v,y)=>oS(l.message,y,s,m))},onUnblock:()=>{da.setIdle(t())}}),MH="tox-dialog--fullscreen",sL="tox-dialog--width-lg",rL="tox-dialog--width-md",DA=t=>{switch(t){case"large":return B.some(sL);case"medium":return B.some(rL);default:return B.none()}},PH=(t,s)=>{const i=pn.fromDom(s.element.dom);ui(i,MH)||($a(i,[sL,rL]),DA(t).each(l=>Gs(i,l)))},iL=(t,s)=>{const i=pn.fromDom(t.element.dom),l=rv(i),m=ut(l,v=>v===sL||v===rL).or(DA(s));zd(i,[MH,...m.toArray()])},LH=(t,s,i)=>w(oL({...t,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[Bk({}),...t.extraBehaviours],onEscape:l=>{ts(l,N1)},dialogEvents:s,eventOrder:{[xg()]:[Ru.name(),Du.name()],[Zd()]:["scroll-lock",Ru.name(),"messages","dialog-events","alloy.base.behaviour"],[Lm()]:["alloy.base.behaviour","dialog-events","messages",Ru.name(),"scroll-lock"]}})),aL=(t,s={})=>{const i=l=>{const m=Tt(l.items,v=>{const y=_t(s,v.name).getOr(Qt(!1));return{...v,storage:y}});return{...l,items:m}};return Tt(t,l=>l.type==="menu"?i(l):l)},NH=t=>jt(t,(s,i)=>i.type==="menu"?jt(i.items,(m,v)=>(m[v.name]=v.storage,m),s):s,{}),IH=(t,s)=>[Ng(dd(),oK),t(Qy,(i,l,m,v)=>{jl(v.element)&&ji(Br(v.element)).each(Hr),s.onClose(),l.onClose()}),t(N1,(i,l,m,v)=>{l.onCancel(i),ts(v,Qy)}),At(kx,(i,l)=>s.onUnblock()),At(AM,(i,l)=>s.onBlock(l.event))],hQ=(t,s)=>{const i=(m,v)=>At(m,(y,T)=>{l(y,(A,L)=>{v(t(),A,T.event,y)})}),l=(m,v)=>{Ru.getState(m).get().each(y=>{v(y,m)})};return[...IH(i,s),i(Vh,(m,v,y)=>{v.onAction(m,{name:y.name})})]},RA=(t,s,i)=>{const l=(v,y)=>At(v,(T,A)=>{m(T,(L,z)=>{y(t(),L,A.event,T)})}),m=(v,y)=>{Ru.getState(v).get().each(T=>{y(T.internalDialog,v)})};return[...IH(l,s),l(Tx,(v,y)=>y.onSubmit(v)),l(Ec,(v,y,T)=>{y.onChange(v,{name:T.name})}),l(Vh,(v,y,T,A)=>{const L=()=>A.getSystem().isConnected()?Jn.focusIn(A):void 0,z=le=>aa(le,"disabled")||ia(le,"aria-disabled").exists(ae=>ae==="true"),j=Br(A.element),Q=ji(j);y.onAction(v,{name:T.name,value:T.value}),ji(j).fold(L,le=>{z(le)||Q.exists(ae=>se(le,ae)&&z(ae))?L():i().toOptional().filter(ae=>!se(ae.element,le)).each(L)})}),l(OM,(v,y,T)=>{y.onTabChange(v,{newTabName:T.name,oldTabName:T.oldName})}),Qd(v=>{const y=t();An.setValue(v,y.getData())})]},BH=(t,s)=>Ix(t,t.type,s),gQ=(t,s,i)=>ut(s,l=>l.name===i).bind(l=>l.memento.getOpt(t)),pQ=(t,s)=>{const i=s.map(T=>T.footerButtons).getOr([]),l=dr(i,T=>T.align==="start"),m=(T,A)=>nm.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${T}`]},components:Tt(A,L=>L.memento.asSpec())}),v=m("start",l.pass),y=m("end",l.fail);return[v,y]},$H=(t,s,i)=>{const l=(m,v)=>{const y=Tt(v.buttons,A=>{const L=Es(BH(A,i));return{name:A.name,align:A.align,memento:L}}),T=A=>gQ(m,y,A);return B.some({lookupByName:T,footerButtons:y})};return{dom:Km('<div class="tox-dialog__footer"></div>'),components:[],behaviours:un([Ru.config({channel:`${_F}-${s}`,initialData:t,updateState:l,renderComponents:pQ})])}},vQ=(t,s,i)=>$H(t,s,i),FH=(t,s,i)=>da.parts.footer($H(t,s,i)),MA=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const l=Mt.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return su.getField(l,s).orThunk(()=>t.getFooter().bind(y=>Ru.getState(y).get()).bind(y=>y.lookupByName(s)))}else return B.none()},bQ=(t,s)=>{const i=t.getRoot();return Ru.getState(i).get().map(l=>cd(Kr("data",l.dataValidator,s))).getOr(s)},HH=(t,s,i)=>{const l=ae=>{const _e=t.getRoot();_e.getSystem().isConnected()&&ae(_e)},le={getData:()=>{const ae=t.getRoot(),_e=ae.getSystem().isConnected()?t.getFormWrapper():ae,Ne=An.getValue(_e),Te=Oo(i,$e=>$e.get());return{...Ne,...Te}},setData:ae=>{l(_e=>{const Ne=le.getData(),Te=Is(Ne,ae),$e=bQ(t,Te),Ve=t.getFormWrapper();An.setValue(Ve,$e),Vo(i,(mt,vt)=>{yn(Te,vt)&&mt.set(Te[vt])})})},setEnabled:(ae,_e)=>{MA(t,ae).each(_e?Kn.enable:Kn.disable)},focus:ae=>{MA(t,ae).each(Ro.focus)},block:ae=>{if(!$(ae))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(_e=>{so(_e,AM,{message:ae})})},unblock:()=>{l(ae=>{ts(ae,kx)})},showTab:ae=>{l(_e=>{const Ne=t.getBody();Ru.getState(Ne).get().exists($e=>$e.isTabPanel())&&Mt.getCurrent(Ne).each($e=>{h0.showTab($e,ae)})})},redial:ae=>{l(_e=>{const Ne=t.getId(),Te=s(ae),$e=aL(Te.internalDialog.buttons,i);_e.getSystem().broadcastOn([`${Hk}-${Ne}`],Te),_e.getSystem().broadcastOn([`${EF}-${Ne}`],Te.internalDialog),_e.getSystem().broadcastOn([`${FM}-${Ne}`],Te.internalDialog),_e.getSystem().broadcastOn([`${_F}-${Ne}`],{...Te.internalDialog,buttons:$e}),le.setData(Te.initialData)})},close:()=>{l(ae=>{ts(ae,Qy)})},toggleFullscreen:t.toggleFullscreen};return le},yQ=(t,s,i)=>{const l=Tn("dialog"),m=t.internalDialog,v=DH(m.title,l,i),y=Qt(m.size),T=Ve=>MA(Te,Ve),A=DA(y.get()).toArray(),L=(Ve,mt)=>(y.set(mt.internalDialog.size),PH(mt.internalDialog.size,Ve),B.some(mt)),z=lQ({body:m.body,initialData:m.initialData},l,i,T),j=aL(m.buttons),Q=NH(j),le=ti(j.length!==0,FH({buttons:j},l,i)),ae=RA(()=>$e,RH(()=>Ne,i.shared.providers,s),i.shared.getSink),_e={id:l,header:v,body:z,footer:le,extraClasses:A,extraBehaviours:[Ru.config({channel:`${Hk}-${l}`,updateState:L,initialData:t})],extraStyles:{}},Ne=LH(_e,ae,i),Te=(()=>{const Ve=()=>{const vt=da.getBody(Ne);return Mt.getCurrent(vt).getOr(vt)},mt=()=>{iL(Ne,y.get())};return{getId:k(l),getRoot:k(Ne),getBody:()=>da.getBody(Ne),getFooter:()=>da.getFooter(Ne),getFormWrapper:Ve,toggleFullscreen:mt}})(),$e=HH(Te,s.redial,Q);return{dialog:Ne,instanceApi:$e}},zH=(t,s,i,l=!1,m)=>{const v=Tn("dialog"),y=Tn("dialog-label"),T=Tn("dialog-content"),A=t.internalDialog,L=Wt=>MA(Yt,Wt),z=Qt(A.size),j=DA(z.get()).toArray(),Q=(Wt,oo)=>(z.set(oo.internalDialog.size),PH(oo.internalDialog.size,Wt),m(),B.some(oo)),le=Es(fQ({title:A.title,draggable:!0},v,y,i.shared.providers)),ae=Es(cQ({body:A.body,initialData:A.initialData},v,T,i,l,L)),_e=aL(A.buttons),Ne=NH(_e),Te=ti(_e.length!==0,Es(vQ({buttons:_e},v,i))),$e=RA(()=>Jt,{onBlock:Wt=>{Gt.block(vt,(oo,Zn)=>{const is=le.getOpt(vt).map(fo=>yi(fo.element));return oS(Wt.message,Zn,i.shared.providers,is)})},onUnblock:()=>{Gt.unblock(vt)},onClose:()=>s.closeWindow()},i.shared.getSink),Ve="tox-dialog-inline",mt=cr().os,vt=w({dom:{tag:"div",classes:["tox-dialog",Ve,...j],attributes:{role:"dialog",...mt.isMacOS()?{"aria-label":A.title}:{"aria-labelledby":y}}},eventOrder:{[xg()]:[Ru.name(),Du.name()],[El()]:["execute-on-form"],[Zd()]:["reflecting","execute-on-form"]},behaviours:un([Jn.config({mode:"cyclic",onEscape:Wt=>(ts(Wt,Qy),B.some(!0)),useTabstopAt:Wt=>!Dx(Wt)&&(Ya(Wt)!=="button"||Ni(Wt,"disabled")!=="disabled"),firstTabstop:1}),Ru.config({channel:`${Hk}-${v}`,updateState:Q,initialData:t}),Ro.config({}),Ao("execute-on-form",$e.concat([Bg(dd(),(Wt,oo)=>{Jn.focusIn(Wt)}),At(fv(),(Wt,oo)=>{Wt.getSystem().broadcastOn([zk],{newFocus:oo.event.newFocus})})])),Gt.config({getRoot:()=>B.some(vt)}),Mo.config({}),Bk({})]),components:[le.asSpec(),ae.asSpec(),...Te.map(Wt=>Wt.asSpec()).toArray()]}),kn=()=>{iL(vt,z.get())},Yt={getId:k(v),getRoot:k(vt),getFooter:()=>Te.map(Wt=>Wt.get(vt)),getBody:()=>ae.get(vt),getFormWrapper:()=>{const Wt=ae.get(vt);return Mt.getCurrent(Wt).getOr(Wt)},toggleFullscreen:kn},Jt=HH(Yt,s.redial,Ne);return{dialog:vt,instanceApi:Jt}};var cL=tinymce.util.Tools.resolve("tinymce.util.URI");const wQ=t=>{const s=y=>{t.getSystem().isConnected()&&y(t)};return{block:y=>{if(!$(y))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(T=>{so(T,AM,{message:y})})},unblock:()=>{s(y=>{ts(y,kx)})},close:()=>{s(y=>{ts(y,Qy)})},sendMessage:y=>{s(T=>{T.getSystem().broadcastOn([TF],y)})}}},CQ=["insertContent","setContent","execCommand","close","block","unblock"],VH=t=>Z(t)&&CQ.indexOf(t.mceAction)!==-1,UH=t=>!VH(t)&&Z(t)&&yn(t,"mceAction"),xQ=(t,s,i)=>{switch(i.mceAction){case"insertContent":t.insertContent(i.content);break;case"setContent":t.setContent(i.content);break;case"execCommand":const l=ke(i.ui)?i.ui:!1;t.execCommand(i.cmd,l,i.value);break;case"close":s.close();break;case"block":s.block(i.message);break;case"unblock":s.unblock();break}},SQ=(t,s,i,l)=>{const m=Tn("dialog"),v=DH(t.title,m,l),y=uQ(t),T=t.buttons.bind(Ve=>Ve.length===0?B.none():B.some(FH({buttons:Ve},m,l))),A=hQ(()=>$e,RH(()=>Te,l.shared.providers,s)),L={...t.height.fold(()=>({}),Ve=>({height:Ve+"px","max-height":Ve+"px"})),...t.width.fold(()=>({}),Ve=>({width:Ve+"px","max-width":Ve+"px"}))},z=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],j=new cL(t.url,{base_uri:new cL(window.location.href)}),Q=`${j.protocol}://${j.host}${j.port?":"+j.port:""}`,le=xr(),ae=(Ve,mt)=>B.some(mt),_e=[Ru.config({channel:`${Hk}-${m}`,updateState:ae,initialData:t}),Ao("messages",[pr(()=>{const Ve=Bs(pn.fromDom(window),"message",mt=>{if(j.isSameOrigin(new cL(mt.raw.origin))){const vt=mt.raw.data;VH(vt)?xQ(i,$e,vt):UH(vt)&&t.onMessage($e,vt)}});le.set(Ve)}),Qd(le.clear)]),Du.config({channels:{[TF]:{onReceive:(Ve,mt)=>{Fs(Ve.element,"iframe").each(vt=>{const kn=vt.dom.contentWindow;ve(kn)&&kn.postMessage(mt,Q)})}}}})],Te=LH({id:m,header:v,body:y,footer:T,extraClasses:z,extraBehaviours:_e,extraStyles:L},A,l),$e=wQ(Te);return{dialog:Te,instanceApi:$e}},EQ=t=>{const s=t.shared;return{open:(l,m)=>{const v=()=>{da.hide(L),m()},y=Es(Ix({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:B.some("primary"),align:"end",enabled:!0,icon:B.none()},"cancel",t)),T=SH(),A=xH(v,s.providers),L=w(oL({lazySink:()=>s.getSink(),header:CH(T,A),body:EH(l,s.providers),footer:B.some(_H(TH([],[y.asSpec()]))),onEscape:v,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[At(N1,v)],eventOrder:{}}));da.show(L);const z=y.get(L);Ro.focus(z)}}},_Q=t=>{const s=t.shared;return{open:(l,m)=>{const v=Q=>{da.hide(z),m(Q)},y=Es(Ix({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:B.some("primary"),align:"end",enabled:!0,icon:B.none()},"submit",t)),T=Ix({context:"any",name:"no",text:"No",primary:!1,buttonType:B.some("secondary"),align:"end",enabled:!0,icon:B.none()},"cancel",t),A=SH(),L=xH(()=>v(!1),s.providers),z=w(oL({lazySink:()=>s.getSink(),header:CH(A,L),body:EH(l,s.providers),footer:B.some(_H(TH([],[T,y.asSpec()]))),onEscape:()=>v(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[At(N1,()=>v(!1)),At(Tx,()=>v(!0))],eventOrder:{}}));da.show(z);const j=y.get(z);Ro.focus(j)}}},WH=(t,s)=>cd(Kr("data",s,t)),jH=t=>ug(t,".tox-alert-dialog")||ug(t,".tox-confirm-dialog"),TQ=(t,s,i,l)=>s&&i?[]:[Wr.config({contextual:{lazyContext:()=>B.some(Ei(pn.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:l},modes:["top"],lazyViewport:m=>uf(t,m.element).map(y=>({bounds:x1(y),optScrollEnv:B.some({currentScrollTop:y.element.dom.scrollTop,scrollElmTop:Ia(y.element).top})})).getOrThunk(()=>({bounds:uc(),optScrollEnv:B.none()}))})],kQ=t=>{const s=t.editor,i=rp(s),l=EQ(t.backstages.dialog),m=_Q(t.backstages.dialog),v=(ae,_e,Ne)=>{if(!ye(_e)){if(_e.inline==="toolbar")return L(ae,t.backstages.popup.shared.anchors.inlineDialog(),Ne,_e);if(_e.inline==="bottom")return z(ae,t.backstages.popup.shared.anchors.inlineBottomDialog(),Ne,_e);if(_e.inline==="cursor")return L(ae,t.backstages.popup.shared.anchors.cursor(),Ne,_e)}return A(ae,Ne)},y=(ae,_e)=>T(ae,_e),T=(ae,_e)=>{const Ne=Te=>{const $e=SQ(Te,{closeWindow:()=>{da.hide($e.dialog),_e($e.instanceApi)}},s,t.backstages.dialog);return da.show($e.dialog),$e.instanceApi};return D1.openUrl(Ne,ae)},A=(ae,_e)=>{const Ne=(Te,$e,Ve)=>{const mt=$e,kn=yQ({dataValidator:Ve,initialData:mt,internalDialog:Te},{redial:D1.redial,closeWindow:()=>{da.hide(kn.dialog),_e(kn.instanceApi)}},t.backstages.dialog);return da.show(kn.dialog),kn.instanceApi.setData(mt),kn.instanceApi};return D1.open(Ne,ae)},L=(ae,_e,Ne,Te)=>{const $e=(Ve,mt,vt)=>{const kn=WH(mt,vt),Yt=go(),Jt=t.backstages.popup.shared.header.isPositionedAtTop(),Wt={dataValidator:vt,initialData:kn,internalDialog:Ve},oo=()=>Yt.on(zt=>{jr.reposition(zt),(!i||!Jt)&&Wr.refresh(zt)}),Zn=zH(Wt,{redial:D1.redial,closeWindow:()=>{Yt.on(jr.hide),s.off("ResizeEditor",oo),s.off("ScrollWindow",is),Yt.clear(),Ne(Zn.instanceApi)}},t.backstages.popup,Te.ariaAttrs,oo),is=()=>Zn.dialog.getSystem().broadcastOn([Qa()],{target:Zn.dialog.element}),fo=()=>Zn.dialog.getSystem().broadcastOn([zm()],{target:Zn.dialog.element}),Io=w(jr.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Te.persistent?{event:"doNotDismissYet"}:{},...Jt?{}:{fireRepositionEventInstead:{}},inlineBehaviours:un([Ao("window-manager-inline-events",[At(kg(),(zt,wn)=>{ts(Zn.dialog,N1)})]),...TQ(s,i,Jt,fo)]),isExtraPart:(zt,wn)=>jH(wn)}));Yt.set(Io);const Wn=()=>{const zt=s.inline?Jc():pn.fromDom(s.getContainer()),wn=Ei(zt);return B.some(wn)};return jr.showWithinBounds(Io,_(Zn.dialog),{anchor:_e},Wn),(!i||!Jt)&&(Wr.refresh(Io),s.on("ResizeEditor",oo)),s.on("ScrollWindow",is),Zn.instanceApi.setData(kn),Jn.focusIn(Zn.dialog),Zn.instanceApi};return D1.open($e,ae)},z=(ae,_e,Ne,Te)=>{const $e=(Ve,mt,vt)=>{const kn=WH(mt,vt),Yt=go(),Jt=t.backstages.popup.shared.header.isPositionedAtTop(),Wt={dataValidator:vt,initialData:kn,internalDialog:Ve},oo=()=>Yt.on(Io=>{jr.reposition(Io),Wr.refresh(Io)}),Zn=zH(Wt,{redial:D1.redial,closeWindow:()=>{Yt.on(jr.hide),s.off("ResizeEditor ScrollWindow ElementScroll",oo),Yt.clear(),Ne(Zn.instanceApi)}},t.backstages.popup,Te.ariaAttrs,oo),is=w(jr.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Te.persistent?{event:"doNotDismissYet"}:{},...Jt?{}:{fireRepositionEventInstead:{}},inlineBehaviours:un([Ao("window-manager-inline-events",[At(kg(),(Io,Wn)=>{ts(Zn.dialog,N1)})]),Wr.config({contextual:{lazyContext:()=>B.some(Ei(pn.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Io=>uf(s,Io.element).map(zt=>({bounds:x1(zt),optScrollEnv:B.some({currentScrollTop:zt.element.dom.scrollTop,scrollElmTop:Ia(zt.element).top})})).getOrThunk(()=>({bounds:uc(),optScrollEnv:B.none()}))})]),isExtraPart:(Io,Wn)=>jH(Wn)}));Yt.set(is);const fo=()=>t.backstages.popup.shared.getSink().toOptional().bind(Io=>{const Wn=uf(s,Io.element),zt=15,wn=Wn.map(Yn=>x1(Yn)).getOr(uc()),po=Ei(pn.fromDom(s.getContentAreaContainer())),zo=Lp(po,wn);return B.some(Bi(zo.x,zo.y,zo.width,zo.height-zt))});return jr.showWithinBounds(is,_(Zn.dialog),{anchor:_e},fo),Wr.refresh(is),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",oo),Zn.instanceApi.setData(kn),Jn.focusIn(Zn.dialog),Zn.instanceApi};return D1.open($e,ae)};return{open:v,openUrl:y,alert:(ae,_e)=>{l.open(ae,_e)},close:ae=>{ae.close()},confirm:(ae,_e)=>{m.open(ae,_e)}}},ZH=t=>{LT(t),fG(t),RJ(t)};var qH=()=>{pj.add("silver",t=>{ZH(t);let s=()=>uc();const{dialogs:i,popups:l,renderUI:m}=eQ(t,{getPopupSinkBounds:()=>s()}),v=()=>{const z=m();return uf(t,l.getMothership().element).each(Q=>{s=()=>x1(Q)}),z};lF.register(t,l.backstage.shared);const y=kQ({editor:t,backstages:{popup:l.backstage,dialog:i.backstage}}),T=go(),A=()=>Hj(t,{backstage:l.backstage},l.getMothership(),T),L=()=>Fs(pn.fromDom(t.getContainer()),".tox-promotion").map(z=>z.dom).getOrNull();return{renderUI:v,getWindowManagerImpl:k(y),getNotificationManagerImpl:A,getPromotionElement:L}})};qH()})()),Bse}var Fse;function the(){return Fse||(Fse=1,ehe()),Ise}the();var Hse={},zse;function nhe(){return zse||(zse=1,(function(){var a=tinymce.util.Tools.resolve("tinymce.ModelManager");const u=(d,h,w)=>{var _;return w(d,h.prototype)?!0:((_=d.constructor)===null||_===void 0?void 0:_.name)===h.name},g=d=>{const h=typeof d;return d===null?"null":h==="object"&&Array.isArray(d)?"array":h==="object"&&u(d,String,(w,_)=>_.isPrototypeOf(w))?"string":h},b=d=>h=>g(h)===d,x=d=>h=>typeof h===d,D=d=>h=>d===h,P=b("string"),$=b("object"),Z=b("array"),ne=D(null),ee=x("boolean"),Se=D(void 0),ke=d=>d==null,ye=d=>!ke(d),be=x("function"),ve=x("number"),ue=()=>{},Be=(d,h)=>(...w)=>d(h.apply(null,w)),Le=(d,h)=>w=>d(h(w)),oe=d=>()=>d,Oe=d=>d,qe=(d,h)=>d===h;function Xe(d,...h){return(...w)=>{const _=h.concat(w);return d.apply(null,_)}}const k=d=>h=>!d(h),Ot=d=>()=>{throw new Error(d)},ht=d=>d(),Je=oe(!1),Ie=oe(!0);class xe{constructor(h,w){this.tag=h,this.value=w}static some(h){return new xe(!0,h)}static none(){return xe.singletonNone}fold(h,w){return this.tag?w(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?xe.some(h(this.value)):xe.none()}bind(h){return this.tag?h(this.value):xe.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:xe.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return ye(h)?xe.some(h):xe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}xe.singletonNone=new xe(!1);const qt=Array.prototype.slice,Ct=Array.prototype.indexOf,Nt=Array.prototype.push,B=(d,h)=>Ct.call(d,h),Hn=(d,h)=>B(d,h)>-1,Qe=(d,h)=>{for(let w=0,_=d.length;w<_;w++){const N=d[w];if(h(N,w))return!0}return!1},ln=(d,h)=>{const w=[];for(let _=0;_<d;_++)w.push(h(_));return w},$t=(d,h)=>{const w=d.length,_=new Array(w);for(let N=0;N<w;N++){const V=d[N];_[N]=h(V,N)}return _},Ue=(d,h)=>{for(let w=0,_=d.length;w<_;w++){const N=d[w];h(N,w)}},Pn=(d,h)=>{for(let w=d.length-1;w>=0;w--){const _=d[w];h(_,w)}},jo=(d,h)=>{const w=[],_=[];for(let N=0,V=d.length;N<V;N++){const Y=d[N];(h(Y,N)?w:_).push(Y)}return{pass:w,fail:_}},ho=(d,h)=>{const w=[];for(let _=0,N=d.length;_<N;_++){const V=d[_];h(V,_)&&w.push(V)}return w},vo=(d,h,w)=>(Pn(d,(_,N)=>{w=h(w,_,N)}),w),Tt=(d,h,w)=>(Ue(d,(_,N)=>{w=h(w,_,N)}),w),rn=(d,h,w)=>{for(let _=0,N=d.length;_<N;_++){const V=d[_];if(h(V,_))return xe.some(V);if(w(V,_))break}return xe.none()},K=(d,h)=>rn(d,h,Je),dr=(d,h)=>{for(let w=0,_=d.length;w<_;w++){const N=d[w];if(h(N,w))return xe.some(w)}return xe.none()},_o=d=>{const h=[];for(let w=0,_=d.length;w<_;++w){if(!Z(d[w]))throw new Error("Arr.flatten item "+w+" was not an array, input: "+d);Nt.apply(h,d[w])}return h},wt=(d,h)=>_o($t(d,h)),jt=(d,h)=>{for(let w=0,_=d.length;w<_;++w){const N=d[w];if(h(N,w)!==!0)return!1}return!0},$n=d=>{const h=qt.call(d,0);return h.reverse(),h},ut=(d,h)=>{const w={};for(let _=0,N=d.length;_<N;_++){const V=d[_];w[String(V)]=h(V,_)}return w},Xt=(d,h)=>{const w=qt.call(d,0);return w.sort(h),w},Lt=(d,h)=>h>=0&&h<d.length?xe.some(d[h]):xe.none(),Re=d=>Lt(d,0),et=d=>Lt(d,d.length-1),St=(d,h)=>{for(let w=0;w<d.length;w++){const _=h(d[w],w);if(_.isSome())return _}return xe.none()},pe=Object.keys,at=Object.hasOwnProperty,Dt=(d,h)=>{const w=pe(d);for(let _=0,N=w.length;_<N;_++){const V=w[_],Y=d[V];h(Y,V)}},Ht=(d,h)=>st(d,(w,_)=>({k:_,v:h(w,_)})),st=(d,h)=>{const w={};return Dt(d,(_,N)=>{const V=h(_,N);w[V.k]=V.v}),w},rt=d=>(h,w)=>{d[w]=h},ao=(d,h,w,_)=>{Dt(d,(N,V)=>{(h(N,V)?w:_)(N,V)})},So=(d,h)=>{const w={};return ao(d,h,rt(w),ue),w},wo=(d,h)=>{const w=[];return Dt(d,(_,N)=>{w.push(h(_,N))}),w},Rn=d=>wo(d,Oe),Zo=(d,h)=>Vo(d,h)?xe.from(d[h]):xe.none(),Vo=(d,h)=>at.call(d,h),Oo=(d,h)=>Vo(d,h)&&d[h]!==void 0&&d[h]!==null,No=d=>{for(const h in d)if(at.call(d,h))return!1;return!0},tt={generate:d=>{if(!Z(d))throw new Error("cases must be an array");if(d.length===0)throw new Error("there must be at least one case");const h=[],w={};return Ue(d,(_,N)=>{const V=pe(_);if(V.length!==1)throw new Error("one and only one name per case");const Y=V[0],ie=_[Y];if(w[Y]!==void 0)throw new Error("duplicate key detected:"+Y);if(Y==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Z(ie))throw new Error("case arguments must be an array");h.push(Y),w[Y]=(...we)=>{const Pe=we.length;if(Pe!==ie.length)throw new Error("Wrong number of arguments to case "+Y+". Expected "+ie.length+" ("+ie+"), got "+Pe);return{fold:(...Gt)=>{if(Gt.length!==d.length)throw new Error("Wrong number of arguments to fold. Expected "+d.length+", got "+Gt.length);return Gt[N].apply(null,we)},match:Gt=>{const En=pe(Gt);if(h.length!==En.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+En.join(","));if(!jt(h,to=>Hn(En,to)))throw new Error("Not all branches were specified when using match. Specified: "+En.join(", ")+`
Required: `+h.join(", "));return Gt[Y].apply(null,we)},log:Gt=>{console.log(Gt,{constructors:h,constructor:Y,params:we})}}}}),w}},gt=d=>{let h=d;return{get:()=>h,set:N=>{h=N}}},bt=d=>d.slice(0).sort(),bn=(d,h)=>{throw new Error("All required keys ("+bt(d).join(", ")+") were not specified. Specified keys were: "+bt(h).join(", ")+".")},_n=d=>{throw new Error("Unsupported keys for object: "+bt(d).join(", "))},zn=(d,h)=>{if(!Z(h))throw new Error("The "+d+" fields must be an array. Was: "+h+".");Ue(h,w=>{if(!P(w))throw new Error("The value "+w+" in the "+d+" fields was not a string.")})},_t=(d,h)=>{throw new Error("All values need to be of type: "+h+". Keys ("+bt(d).join(", ")+") were not.")},yn=d=>{const h=bt(d);K(h,(_,N)=>N<h.length-1&&_===h[N+1]).each(_=>{throw new Error("The field: "+_+" occurs more than once in the combined fields: ["+h.join(", ")+"].")})},cn=(d,h)=>ro(d,h,{validate:be,label:"function"}),ro=(d,h,w)=>{if(h.length===0)throw new Error("You must specify at least one required field.");return zn("required",h),yn(h),_=>{const N=pe(_);jt(h,ie=>Hn(N,ie))||bn(h,N),d(h,N);const Y=ho(h,ie=>!w.validate(_[ie],ie));return Y.length>0&&_t(Y,w.label),_}},Do=(d,h)=>{const w=ho(h,_=>!Hn(d,_));w.length>0&&_n(w)},Qt=d=>cn(Do,d),Us=d=>{const h=V=>V(d),w=oe(d),_=()=>N,N={tag:!0,inner:d,fold:(V,Y)=>Y(d),isValue:Ie,isError:Je,map:V=>Nr.value(V(d)),mapError:_,bind:h,exists:h,forall:h,getOr:w,or:_,getOrThunk:w,orThunk:_,getOrDie:w,each:V=>{V(d)},toOptional:()=>xe.some(d)};return N},Xo=d=>{const h=()=>w,w={tag:!1,inner:d,fold:(_,N)=>_(d),isValue:Je,isError:Ie,map:h,mapError:_=>Nr.error(_(d)),bind:h,exists:Je,forall:Ie,getOr:Oe,or:Oe,getOrThunk:ht,orThunk:ht,getOrDie:Ot(String(d)),each:ue,toOptional:xe.none};return w},Nr={value:Us,error:Xo,fromOption:(d,h)=>d.fold(()=>Xo(h),Us)},mr=typeof window<"u"?window:Function("return this;")(),Jo=d=>{const h=d.replace(/\./g,"-");return{resolve:_=>h+"-"+_}},jn=(d,h,w=qe)=>d.exists(_=>w(_,h)),Qo=d=>{const h=[],w=_=>{h.push(_)};for(let _=0;_<d.length;_++)d[_].each(w);return h},Ji=(d,h)=>d!=null?h(d):xe.none(),Pa=(d,h)=>d?xe.some(h):xe.none(),Tc=(d,h)=>{let w=h??mr;for(let _=0;_<d.length&&w!==void 0&&w!==null;++_)w=w[d[_]];return w},Un=(d,h)=>{const w=d.split(".");return Tc(w,h)},ha=d=>{const h=gt(xe.none()),w=()=>h.get().each(d);return{clear:()=>{w(),h.set(xe.none())},isSet:()=>h.get().isSome(),get:()=>h.get(),set:ie=>{w(),h.set(xe.some(ie))}}},ri=()=>{const d=ha(ue);return{...d,on:w=>d.get().each(w)}},Wu=(d,h)=>d.substring(h),Ri=(d,h,w)=>h===""||d.length>=h.length&&d.substr(w,w+h.length)===h,Nl=(d,h)=>Gc(d,h)?Wu(d,h.length):d,ws=(d,h,w=0,_)=>{const N=d.indexOf(h,w);return N!==-1?Se(_)?!0:N+h.length<=_:!1},Gc=(d,h)=>Ri(d,h,0),dl=(d,h)=>Ri(d,h,d.length-h.length),qa=(d=>h=>h.replace(d,""))(/^\s+|\s+$/g),ii=d=>d.length>0,Ac=d=>{const h=parseFloat(d);return isNaN(h)?xe.none():xe.some(h)},fl=(d,h)=>{let w=null;const _=()=>{ne(w)||(clearTimeout(w),w=null)};return{cancel:_,throttle:(...V)=>{_(),w=setTimeout(()=>{w=null,d.apply(null,V)},h)}}},Tn=d=>{let h=!1,w;return(..._)=>(h||(h=!0,w=d.apply(null,_)),w)},Rd="",Il=["tfoot","thead","tbody","colgroup"],Bl=d=>Hn(Il,d),Is=(d,h)=>({rows:d,columns:h}),Md=(d,h)=>({row:d,column:h}),La=(d,h,w)=>({element:d,rowspan:h,colspan:w}),Gr=(d,h,w,_)=>({element:d,rowspan:h,colspan:w,isNew:_}),Oc=(d,h,w,_,N,V)=>({element:d,rowspan:h,colspan:w,row:_,column:N,isLocked:V}),$l=(d,h,w)=>({element:d,cells:h,section:w}),ga=(d,h,w,_)=>({element:d,cells:h,section:w,isNew:_}),er=(d,h,w)=>({element:d,isNew:h,isLocked:w}),Qi=(d,h,w,_)=>({element:d,cells:h,section:w,isNew:_}),ti=(d,h,w,_)=>({startRow:d,startCol:h,finishRow:w,finishCol:_}),xf=(d,h,w)=>({element:d,colspan:h,column:w}),Sf=(d,h)=>({element:d,columns:h}),pa=(d,h,w)=>{const _=d.cells,N=_.slice(0,h),V=_.slice(h),Y=N.concat(w).concat(V);return Pd(d,Y)},Ga=(d,h,w)=>pa(d,h,[w]),sc=(d,h,w)=>{const _=d.cells;_[h]=w},Pd=(d,h)=>Qi(d.element,h,d.section,d.isNew),xr=(d,h)=>{const w=d.cells,_=$t(w,h);return Qi(d.element,_,d.section,d.isNew)},go=(d,h)=>d.cells[h],Sr=(d,h)=>go(d,h).element,Mi=d=>d.cells.length,tr=d=>{const h=jo(d,w=>w.section==="colgroup");return{rows:h.fail,cols:h.pass}},Ld=(d,h,w)=>{const _=$t(d.cells,w);return Qi(h(d.element),_,d.section,!0)},ju=(d,h)=>{const _=(h||document).createElement("div");if(_.innerHTML=d,!_.hasChildNodes()||_.childNodes.length>1){const N="HTML does not have a single root node";throw console.error(N,d),new Error(N)}return rc(_.childNodes[0])},Ws=(d,h)=>{const _=(h||document).createElement(d);return rc(_)},ea=(d,h)=>{const _=(h||document).createTextNode(d);return rc(_)},rc=d=>{if(d==null)throw new Error("Node cannot be null or undefined");return{dom:d}},Sn={fromHtml:ju,fromTag:Ws,fromText:ea,fromDom:rc,fromPoint:(d,h,w)=>xe.from(d.dom.elementFromPoint(h,w)).map(rc)},ic=(d,h)=>{const w=d.document.createRange();return w.selectNode(h.dom),w},Pi=(d,h)=>{const w=d.document.createRange();return va(w,h),w},va=(d,h)=>d.selectNodeContents(h.dom),Er=(d,h)=>{h.fold(w=>{d.setStartBefore(w.dom)},(w,_)=>{d.setStart(w.dom,_)},w=>{d.setStartAfter(w.dom)})},_f=(d,h)=>{h.fold(w=>{d.setEndBefore(w.dom)},(w,_)=>{d.setEnd(w.dom,_)},w=>{d.setEndAfter(w.dom)})},ba=(d,h,w)=>{const _=d.document.createRange();return Er(_,h),_f(_,w),_},Ka=(d,h,w,_,N)=>{const V=d.document.createRange();return V.setStart(h.dom,w),V.setEnd(_.dom,N),V},Zu=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom,width:d.width,height:d.height}),cu=d=>{const h=d.getClientRects(),w=h.length>0?h[0]:d.getBoundingClientRect();return w.width>0||w.height>0?xe.some(w).map(Zu):xe.none()},ml=tt.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),qu=(d,h,w)=>h(Sn.fromDom(w.startContainer),w.startOffset,Sn.fromDom(w.endContainer),w.endOffset),lu=(d,h)=>h.match({domRange:w=>({ltr:oe(w),rtl:xe.none}),relative:(w,_)=>({ltr:Tn(()=>ba(d,w,_)),rtl:Tn(()=>xe.some(ba(d,_,w)))}),exact:(w,_,N,V)=>({ltr:Tn(()=>Ka(d,w,_,N,V)),rtl:Tn(()=>xe.some(Ka(d,N,V,w,_)))})}),hl=(d,h)=>{const w=h.ltr();return w.collapsed?h.rtl().filter(N=>N.collapsed===!1).map(N=>ml.rtl(Sn.fromDom(N.endContainer),N.endOffset,Sn.fromDom(N.startContainer),N.startOffset)).getOrThunk(()=>qu(d,ml.ltr,w)):qu(d,ml.ltr,w)},uu=(d,h)=>{const w=lu(d,h);return hl(d,w)},pn=(d,h)=>uu(d,h).match({ltr:(_,N,V,Y)=>{const ie=d.document.createRange();return ie.setStart(_.dom,N),ie.setEnd(V.dom,Y),ie},rtl:(_,N,V,Y)=>{const ie=d.document.createRange();return ie.setStart(V.dom,Y),ie.setEnd(_.dom,N),ie}});ml.ltr,ml.rtl;const Fl=8,Gu=9,re=11,Ae=1,Ge=3,Rt=(d,h)=>{const w=d.dom;if(w.nodeType!==Ae)return!1;{const _=w;if(_.matches!==void 0)return _.matches(h);if(_.msMatchesSelector!==void 0)return _.msMatchesSelector(h);if(_.webkitMatchesSelector!==void 0)return _.webkitMatchesSelector(h);if(_.mozMatchesSelector!==void 0)return _.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},mn=d=>d.nodeType!==Ae&&d.nodeType!==Gu&&d.nodeType!==re||d.childElementCount===0,Fn=(d,h)=>{const w=h===void 0?document:h.dom;return mn(w)?[]:$t(w.querySelectorAll(d),Sn.fromDom)},es=(d,h)=>{const w=h===void 0?document:h.dom;return mn(w)?xe.none():xe.from(w.querySelector(d)).map(Sn.fromDom)},Uo=(d,h)=>d.dom===h.dom,Cs=(d,h)=>{const w=d.dom,_=h.dom;return w===_?!1:w.contains(_)},G=Rt,ce=(d,h,w,_)=>{const N=d.isiOS()&&/ipad/i.test(w)===!0,V=d.isiOS()&&!N,Y=d.isiOS()||d.isAndroid(),ie=Y||_("(pointer:coarse)"),we=N||!V&&Y&&_("(min-device-width:768px)"),Pe=V||Y&&!we,ot=h.isSafari()&&d.isiOS()&&/safari/i.test(w)===!1,Gt=!Pe&&!we&&!ot;return{isiPad:oe(N),isiPhone:oe(V),isTablet:oe(we),isPhone:oe(Pe),isTouch:oe(ie),isAndroid:d.isAndroid,isiOS:d.isiOS,isWebView:oe(ot),isDesktop:oe(Gt)}},De=(d,h)=>{for(let w=0;w<d.length;w++){const _=d[w];if(_.test(h))return _}},ft=(d,h)=>{const w=De(d,h);if(!w)return{major:0,minor:0};const _=N=>Number(h.replace(w,"$"+N));return S(_(1),_(2))},In=(d,h)=>{const w=String(h).toLowerCase();return d.length===0?as():ft(d,w)},as=()=>S(0,0),S=(d,h)=>({major:d,minor:h}),R={nu:S,detect:In,unknown:as},H=(d,h)=>St(h.brands,w=>{const _=w.brand.toLowerCase();return K(d,N=>{var V;return _===((V=N.brand)===null||V===void 0?void 0:V.toLowerCase())}).map(N=>({current:N.name,version:R.nu(parseInt(w.version,10),0)}))}),W=(d,h)=>{const w=String(h).toLowerCase();return K(d,_=>_.search(w))},X=(d,h)=>W(d,h).map(w=>{const _=R.detect(w.versionRegexes,h);return{current:w.name,version:_}}),se=(d,h)=>W(d,h).map(w=>{const _=R.detect(w.versionRegexes,h);return{current:w.name,version:_}}),me=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ze=d=>h=>ws(h,d),We=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:d=>ws(d,"edge/")&&ws(d,"chrome")&&ws(d,"safari")&&ws(d,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,me],search:d=>ws(d,"chrome")&&!ws(d,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:d=>ws(d,"msie")||ws(d,"trident")},{name:"Opera",versionRegexes:[me,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ze("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ze("firefox")},{name:"Safari",versionRegexes:[me,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:d=>(ws(d,"safari")||ws(d,"mobile/"))&&ws(d,"applewebkit")}],pt=[{name:"Windows",search:Ze("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:d=>ws(d,"iphone")||ws(d,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ze("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ze("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ze("linux"),versionRegexes:[]},{name:"Solaris",search:Ze("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ze("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ze("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ut={browsers:oe(We),oses:oe(pt)},hn="Edge",It="Chromium",Vn="IE",ds="Opera",Ys="Firefox",Ds="Safari",Li=()=>Fr({current:void 0,version:R.unknown()}),Fr=d=>{const h=d.current,w=d.version,_=N=>()=>h===N;return{current:h,version:w,isEdge:_(hn),isChromium:_(It),isIE:_(Vn),isOpera:_(ds),isFirefox:_(Ys),isSafari:_(Ds)}},gl={unknown:Li,nu:Fr},pl="Windows",js="iOS",ta="Android",nr="Linux",ai="macOS",wm="Solaris",Dc="FreeBSD",Hl="ChromeOS",Cm=()=>Kc({current:void 0,version:R.unknown()}),Kc=d=>{const h=d.current,w=d.version,_=N=>()=>h===N;return{current:h,version:w,isWindows:_(pl),isiOS:_(js),isAndroid:_(ta),isMacOS:_(ai),isLinux:_(nr),isSolaris:_(wm),isFreeBSD:_(Dc),isChromeOS:_(Hl)}},zl={unknown:Cm,nu:Kc},Yc={detect:(d,h,w)=>{const _=Ut.browsers(),N=Ut.oses(),V=h.bind(we=>H(_,we)).orThunk(()=>X(_,d)).fold(gl.unknown,gl.nu),Y=se(N,d).fold(zl.unknown,zl.nu),ie=ce(Y,V,d,w);return{browser:V,os:Y,deviceType:ie}}},xm=d=>window.matchMedia(d).matches;let na=Tn(()=>Yc.detect(window.navigator.userAgent,xe.from(window.navigator.userAgentData),xm));const xi=()=>na(),Id=(d,h)=>Un(d,h),Z1=(d,h)=>{const w=Id(d,h);if(w==null)throw new Error(d+" not available on this browser");return w},fs=Object.getPrototypeOf,Ir=d=>Z1("HTMLElement",d),Bd=d=>{const h=Un("ownerDocument.defaultView",d);return $(d)&&(Ir(h).prototype.isPrototypeOf(d)||/^HTML\w*Element$/.test(fs(d).constructor.name))},Xs=d=>d.dom.nodeName.toLowerCase(),Sm=d=>d.dom.nodeType,ng=d=>h=>Sm(h)===d,G0=d=>Sm(d)===Fl||Xs(d)==="#comment",og=d=>cr(d)&&Bd(d.dom),cr=ng(Ae),du=ng(Ge),Ku=ng(Gu),on=ng(re),oa=d=>h=>cr(h)&&Xs(h)===d,Yu=d=>Sn.fromDom(d.dom.ownerDocument),Ya=d=>Ku(d)?d:Yu(d),Xu=d=>Sn.fromDom(Ya(d).dom.documentElement),sg=d=>Sn.fromDom(Ya(d).dom.defaultView),Ee=d=>xe.from(d.dom.parentNode).map(Sn.fromDom),ya=d=>xe.from(d.dom.parentElement).map(Sn.fromDom),Vl=(d,h)=>{const w=be(h)?h:Je;let _=d.dom;const N=[];for(;_.parentNode!==null&&_.parentNode!==void 0;){const V=_.parentNode,Y=Sn.fromDom(V);if(N.push(Y),w(Y)===!0)break;_=V}return N},rg=d=>xe.from(d.dom.previousSibling).map(Sn.fromDom),Ju=d=>xe.from(d.dom.nextSibling).map(Sn.fromDom),Vi=d=>$t(d.dom.childNodes,Sn.fromDom),Me=(d,h)=>{const w=d.dom.childNodes;return xe.from(w[h]).map(Sn.fromDom)},nt=d=>Me(d,0),Bt=(d,h,w,_)=>{const V=Yu(d).dom.createRange();return V.setStart(d.dom,h),V.setEnd(w.dom,_),V},Zt=(d,h,w,_)=>{const N=Bt(d,h,w,_),V=Uo(d,w)&&h===_;return N.collapsed&&!V},sn=d=>on(d)&&ye(d.dom.host),eo=d=>Sn.fromDom(d.dom.getRootNode()),co=d=>sn(d)?d:Sn.fromDom(Ya(d).dom.body),Ho=d=>{const h=eo(d);return sn(h)?xe.some(h):xe.none()},xo=d=>Sn.fromDom(d.dom.host),cs=d=>{if(ye(d.target)){const h=Sn.fromDom(d.target);if(cr(h)&&ls(h)&&d.composed&&d.composedPath){const w=d.composedPath();if(w)return Re(w)}}return xe.from(d.target)},ls=d=>ye(d.dom.shadowRoot),Go=(d,h,w,_,N,V,Y)=>({target:d,x:h,y:w,stop:_,prevent:N,kill:V,raw:Y}),bs=d=>{const h=Sn.fromDom(cs(d).getOr(d.target)),w=()=>d.stopPropagation(),_=()=>d.preventDefault(),N=Be(_,w);return Go(h,d.clientX,d.clientY,w,_,N,d)},Nn=(d,h)=>w=>{d(w)&&h(bs(w))},Rs=(d,h,w,_,N)=>{const V=Nn(w,_);return d.dom.addEventListener(h,V,N),{unbind:Xe(wa,d,h,V,N)}},Ui=(d,h,w,_)=>Rs(d,h,w,_,!1),wa=(d,h,w,_)=>{d.dom.removeEventListener(h,w,_)},ko=Ie,sa=(d,h,w)=>Ui(d,h,ko,w),Br=bs,Jr=(d,h)=>{Ee(d).each(_=>{_.dom.insertBefore(h.dom,d.dom)})},fu=(d,h)=>{Ju(d).fold(()=>{Ee(d).each(N=>{Ms(N,h)})},_=>{Jr(_,h)})},Ur=(d,h)=>{nt(d).fold(()=>{Ms(d,h)},_=>{d.dom.insertBefore(h.dom,_.dom)})},Ms=(d,h)=>{d.dom.appendChild(h.dom)},$w=(d,h,w)=>{Me(d,w).fold(()=>{Ms(d,h)},_=>{Jr(_,h)})},Fw=(d,h)=>{Jr(d,h),Ms(h,d)},vi=(d,h)=>{Ue(h,(w,_)=>{const N=_===0?d:h[_-1];fu(N,w)})},Ul=(d,h)=>{Ue(h,w=>{Ms(d,w)})},Wl=(d,h,w)=>{if(P(w)||ee(w)||ve(w))d.setAttribute(h,w+"");else throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",w,":: Element ",d),new Error("Attribute value was not simple")},Si=(d,h,w)=>{Wl(d.dom,h,w)},mu=(d,h)=>{const w=d.dom;Dt(h,(_,N)=>{Wl(w,N,_)})},ac=(d,h)=>{Dt(h,(w,_)=>{w.fold(()=>{Bs(d,_)},N=>{Wl(d.dom,_,N)})})},Xc=(d,h)=>{const w=d.dom.getAttribute(h);return w===null?void 0:w},Na=(d,h)=>xe.from(Xc(d,h)),Bs=(d,h)=>{d.dom.removeAttribute(h)},vl=d=>Tt(d.dom.attributes,(h,w)=>(h[w.name]=w.value,h),{}),cc=d=>{d.dom.textContent="",Ue(Vi(d),h=>{ra(h)})},ra=d=>{const h=d.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},Wi=d=>{const h=Vi(d);h.length>0&&vi(d,h),ra(d)},Hr=(d,h)=>Sn.fromDom(d.dom.cloneNode(h)),jl=d=>Hr(d,!1),ji=d=>Hr(d,!0),ci=(d,h)=>{const w=Sn.fromTag(h),_=vl(d);return mu(w,_),w},Tf=(d,h)=>{const w=ci(d,h),_=Vi(ji(d));return Ul(w,_),w},K0=(d,h)=>{const w=ci(d,h);fu(d,w);const _=Vi(d);return Ul(w,_),ra(d),w},xp=(d,h)=>{const _=document.createElement("div");return _.innerHTML=d,Vi(Sn.fromDom(_))},Zi=d=>$t(d,Sn.fromDom),q1=d=>d.dom.innerHTML,Y0=d=>{const h=Sn.fromTag("div"),w=Sn.fromDom(d.dom.cloneNode(!0));return Ms(h,w),q1(h)},Em=d=>d.style!==void 0&&be(d.style.getPropertyValue),lo=d=>{const h=du(d)?d.dom.parentNode:d.dom;if(h==null||h.ownerDocument===null)return!1;const w=h.ownerDocument;return Ho(Sn.fromDom(h)).fold(()=>w.body.contains(h),Le(lo,xo))},G1=d=>{const h=d.dom.body;if(h==null)throw new Error("Body is not available yet");return Sn.fromDom(h)},Ni=(d,h,w)=>{if(!P(w))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",w,":: Element ",d),new Error("CSS value must be a string: "+w);Em(d)&&d.style.setProperty(h,w)},ia=(d,h)=>{Em(d)&&d.style.removeProperty(h)},aa=(d,h,w)=>{const _=d.dom;Ni(_,h,w)},hr=(d,h)=>{const w=d.dom;Dt(h,(_,N)=>{Ni(w,N,_)})},kf=(d,h)=>{const w=d.dom,N=window.getComputedStyle(w).getPropertyValue(h);return N===""&&!lo(d)?Sp(w,h):N},Sp=(d,h)=>Em(d)?d.style.getPropertyValue(h):"",bl=(d,h)=>{const w=d.dom,_=Sp(w,h);return xe.from(_).filter(N=>N.length>0)},hu=(d,h)=>{const w=d.dom;ia(w,h),jn(Na(d,"style").map(qa),"")&&Bs(d,"style")},K1=(d,h)=>{const w=d.dom,_=h.dom;Em(w)&&Em(_)&&(_.style.cssText=w.style.cssText)},Y1=(d,h)=>{const w=(ie,we)=>{if(!ve(we)&&!we.match(/^[0-9]+$/))throw new Error(d+".set accepts only positive integer values. Value was "+we);const Pe=ie.dom;Em(Pe)&&(Pe.style[d]=we+"px")},_=ie=>{const we=h(ie);if(we<=0||we===null){const Pe=kf(ie,d);return parseFloat(Pe)||0}return we},N=_,V=(ie,we)=>Tt(we,(Pe,ot)=>{const Gt=kf(ie,ot),En=Gt===void 0?0:parseInt(Gt,10);return isNaN(En)?Pe:Pe+En},0);return{set:w,get:_,getOuter:N,aggregate:V,max:(ie,we,Pe)=>{const ot=V(ie,Pe);return we>ot?we-ot:0}}},ig=(d,h)=>Ac(d).getOr(h),Qu=(d,h,w)=>ig(kf(d,h),w),Zl=(d,h,w,_)=>{const N=Qu(d,`padding-${w}`,0),V=Qu(d,`padding-${_}`,0),Y=Qu(d,`border-${w}-width`,0),ie=Qu(d,`border-${_}-width`,0);return h-N-V-Y-ie},X1=(d,h)=>{const w=d.dom,_=w.getBoundingClientRect().width||w.offsetWidth;return Zl(d,_,"left","right")},Ca=d=>Qu(d,"height",d.dom.offsetHeight),yl=d=>Qu(d,"width",d.dom.offsetWidth),ed=d=>X1(d),xs=Y1("height",d=>{const h=d.dom;return lo(d)?h.getBoundingClientRect().height:h.offsetHeight}),Jc=d=>xs.get(d),X0=d=>xs.getOuter(d),ag=Ca,wl=Y1("width",d=>{const h=d.dom;return lo(d)?h.getBoundingClientRect().width:h.offsetWidth}),bo=d=>wl.get(d),$r=d=>wl.getOuter(d),xa=ed,gr=yl,Cl=(d,h)=>({left:d,top:h,translate:(_,N)=>Cl(d+_,h+N)}),_r=Cl,bi=d=>{const h=d.getBoundingClientRect();return _r(h.left,h.top)},ah=(d,h)=>d!==void 0?d:h!==void 0?h:0,os=d=>{const h=d.dom.ownerDocument,w=h.body,_=h.defaultView,N=h.documentElement;if(w===d.dom)return _r(w.offsetLeft,w.offsetTop);const V=ah(_==null?void 0:_.pageYOffset,N.scrollTop),Y=ah(_==null?void 0:_.pageXOffset,N.scrollLeft),ie=ah(N.clientTop,w.clientTop),we=ah(N.clientLeft,w.clientLeft);return ql(d).translate(Y-we,V-ie)},ql=d=>{const h=d.dom,_=h.ownerDocument.body;return _===h?_r(_.offsetLeft,_.offsetTop):lo(d)?bi(h):_r(0,0)},or=d=>{const h=d!==void 0?d.dom:document,w=h.body.scrollLeft||h.documentElement.scrollLeft,_=h.body.scrollTop||h.documentElement.scrollTop;return _r(w,_)},Rc=(d,h,w)=>{const N=(w!==void 0?w.dom:document).defaultView;N&&N.scrollBy(d,h)},wi=((d,h)=>{const w=V=>{if(!d(V))throw new Error("Can only get "+h+" value of a "+h+" node");return _(V).getOr("")},_=V=>d(V)?xe.from(V.dom.nodeValue):xe.none();return{get:w,getOption:_,set:(V,Y)=>{if(!d(V))throw new Error("Can only set raw "+h+" value of a "+h+" node");V.dom.nodeValue=Y}}})(du,"text"),td=d=>wi.get(d),ch=d=>wi.getOption(d),$d=(d,h)=>wi.set(d,h),Af=(d,h)=>w=>Of(w)==="rtl"?h:d,Of=d=>kf(d,"direction")==="rtl"?"rtl":"ltr",Sa=(d,h)=>{const w=Xc(d,h);return w===void 0||w===""?[]:w.split(" ")},Fd=(d,h,w)=>{const N=Sa(d,h).concat([w]);return Si(d,h,N.join(" ")),!0},Hw=(d,h,w)=>{const _=ho(Sa(d,h),N=>N!==w);return _.length>0?Si(d,h,_.join(" ")):Bs(d,h),!1};var Df=(d,h,w,_,N)=>d(w,_)?xe.some(w):be(N)&&N(w)?xe.none():h(w,_,N);const $s=(d,h,w)=>{let _=d.dom;const N=be(w)?w:Je;for(;_.parentNode;){_=_.parentNode;const V=Sn.fromDom(_);if(h(V))return xe.some(V);if(N(V))break}return xe.none()},J1=(d,h,w)=>Df((N,V)=>V(N),$s,d,h,w),lh=(d,h)=>{const w=N=>h(Sn.fromDom(N));return K(d.dom.childNodes,w).map(Sn.fromDom)},Ia=(d,h)=>{const w=_=>{for(let N=0;N<_.childNodes.length;N++){const V=Sn.fromDom(_.childNodes[N]);if(h(V))return xe.some(V);const Y=w(_.childNodes[N]);if(Y.isSome())return Y}return xe.none()};return w(d.dom)},Mc=(d,h,w)=>$s(d,_=>Rt(_,h),w),Qr=(d,h)=>lh(d,w=>Rt(w,h)),Hd=(d,h)=>es(h,d),li=(d,h,w)=>Df((N,V)=>Rt(N,V),Mc,d,h,w),uh=d=>d.dom.classList!==void 0,Ep=d=>Sa(d,"class"),Q1=(d,h)=>Fd(d,"class",h),MS=(d,h)=>Hw(d,"class",h),gu=(d,h)=>{uh(d)?d.dom.classList.add(h):Q1(d,h)},zw=d=>{(uh(d)?d.dom.classList:Ep(d)).length===0&&Bs(d,"class")},ev=(d,h)=>{uh(d)?d.dom.classList.remove(h):MS(d,h),zw(d)},pu=(d,h)=>uh(d)&&d.dom.classList.contains(h),J0=(d,h)=>{Ue(h,w=>{ev(d,w)})},dh=d=>li(d,"[contenteditable]"),cg=(d,h=!1)=>lo(d)?d.dom.isContentEditable:dh(d).fold(oe(h),w=>lg(w)==="true"),lg=d=>d.dom.contentEditable,tv=d=>h=>{gu(h,d)},Q0=d=>h=>{J0(h,d)},Gl=(d,h,w)=>ho(Vl(d,w),h),Vw=(d,h)=>ho(Vi(d),h),Rf=(d,h)=>{let w=[];return Ue(Vi(d),_=>{h(_)&&(w=w.concat([_])),w=w.concat(Rf(_,h))}),w},Fs=(d,h,w)=>Gl(d,_=>Rt(_,h),w),Ba=(d,h)=>Vw(d,w=>Rt(w,h)),nd=(d,h)=>Fn(h,d),nv=(d,h,w,_)=>({parent:d,children:h,element:w,index:_}),Mf=d=>Ee(d).bind(h=>{const w=Vi(h);return ov(w,d).map(_=>nv(h,w,d,_))}),ov=(d,h)=>dr(d,Xe(Uo,h)),eb=(d,h,w)=>$s(d,h,w).isSome(),od=d=>Xs(d)==="img"?1:ch(d).fold(()=>Vi(d).length,h=>h.length),sd=d=>ch(d).filter(h=>h.trim().length!==0||h.indexOf(Rd)>-1).isSome(),Gs=d=>og(d)&&Xc(d,"contenteditable")==="false",tb=["img","br"],zr=d=>sd(d)||Hn(tb,Xs(d))||Gs(d),fh=d=>Ia(d,zr),ui=d=>rd(d,zr),rd=(d,h)=>{const w=_=>{const N=Vi(_);for(let V=N.length-1;V>=0;V--){const Y=N[V];if(h(Y))return xe.some(Y);const ie=w(Y);if(ie.isSome())return ie}return xe.none()};return w(d)},zd={create:(d,h,w,_)=>({start:d,soffset:h,finish:w,foffset:_})},_p=tt.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),sv=(d,h,w,_)=>d.fold(h,w,_),rv=d=>d.fold(Oe,Oe,Oe),Uw=_p.before,Pc=_p.on,vu=_p.after,di={before:Uw,on:Pc,after:vu,cata:sv,getStart:rv},qi=tt.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Tp=d=>qi.exact(d.start,d.soffset,d.finish,d.foffset),ug=d=>d.match({domRange:h=>Sn.fromDom(h.startContainer),relative:(h,w)=>di.getStart(h),exact:(h,w,_,N)=>h}),kp=qi.domRange,nb=qi.relative,Kl=qi.exact,PS=d=>{const h=ug(d);return sg(h)},M=zd.create,I={domRange:kp,relative:nb,exact:Kl,exactFromRange:Tp,getWin:PS,range:M},te=(d,h,w)=>{var _;return xe.from((_=d.caretPositionFromPoint)===null||_===void 0?void 0:_.call(d,h,w)).bind(N=>{if(N.offsetNode===null)return xe.none();const V=d.createRange();return V.setStart(N.offsetNode,N.offset),V.collapse(),xe.some(V)})},he=(d,h,w)=>{var _;return xe.from((_=d.caretRangeFromPoint)===null||_===void 0?void 0:_.call(d,h,w))},Fe=(d,h,w)=>d.caretPositionFromPoint?te(d,h,w):d.caretRangeFromPoint?he(d,h,w):xe.none(),kt=(d,h,w)=>{const _=d.document;return Fe(_,h,w).map(N=>zd.create(Sn.fromDom(N.startContainer),N.startOffset,Sn.fromDom(N.endContainer),N.endOffset))},xn=(d,h)=>{const w=Xs(d);return w==="input"?di.after(d):Hn(["br","img"],w)?h===0?di.before(d):di.after(d):di.on(d,h)},Gn=(d,h)=>{const w=d.fold(di.before,xn,di.after),_=h.fold(di.before,xn,di.after);return I.relative(w,_)},Bo=(d,h,w,_)=>{const N=xn(d,h),V=xn(w,_);return I.relative(N,V)},Ko=d=>xe.from(d.getSelection()),lr=(d,h)=>{Ko(d).each(w=>{w.removeAllRanges(),w.addRange(h)})},Tr=(d,h,w,_,N)=>{const V=Ka(d,h,w,_,N);lr(d,V)},Ci=(d,h,w,_,N,V)=>{h.collapse(w.dom,_),h.extend(N.dom,V)},lc=(d,h)=>uu(d,h).match({ltr:(w,_,N,V)=>{Tr(d,w,_,N,V)},rtl:(w,_,N,V)=>{Ko(d).each(Y=>{if(Y.setBaseAndExtent)Y.setBaseAndExtent(w.dom,_,N.dom,V);else if(Y.extend)try{Ci(d,Y,w,_,N,V)}catch{Tr(d,N,V,w,_)}else Tr(d,N,V,w,_)})}}),Vd=(d,h,w,_,N)=>{const V=Bo(h,w,_,N);lc(d,V)},Ud=(d,h,w)=>{const _=Gn(h,w);lc(d,_)},Yl=d=>{if(d.rangeCount>0){const h=d.getRangeAt(0),w=d.getRangeAt(d.rangeCount-1);return xe.some(zd.create(Sn.fromDom(h.startContainer),h.startOffset,Sn.fromDom(w.endContainer),w.endOffset))}else return xe.none()},iv=d=>{if(d.anchorNode===null||d.focusNode===null)return Yl(d);{const h=Sn.fromDom(d.anchorNode),w=Sn.fromDom(d.focusNode);return Zt(h,d.anchorOffset,w,d.focusOffset)?xe.some(zd.create(h,d.anchorOffset,w,d.focusOffset)):Yl(d)}},mh=(d,h,w=!0)=>{const N=(w?Pi:ic)(d,h);lr(d,N)},Ap=d=>Ko(d).filter(h=>h.rangeCount>0).bind(iv),_m=d=>Ap(d).map(h=>I.exact(h.start,h.soffset,h.finish,h.foffset)),hh=(d,h)=>{const w=pn(d,h);return cu(w)},Op=(d,h,w)=>kt(d,h,w),Dp=d=>{Ko(d).each(h=>h.removeAllRanges())},Ww={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},jw=(()=>{const d="[0-9]+",w="[eE]"+("[+-]?"+d),_="\\.",N=ie=>`(?:${ie})?`,Y=`[+-]?(?:${["Infinity",d+_+N(d)+N(w),_+d+N(w),d+N(w)].join("|")})`;return new RegExp(`^(${Y})(.*)$`)})(),ys=(d,h)=>Qe(h,w=>Qe(Ww[w],_=>d===_)),sr=(d,h)=>xe.from(jw.exec(d)).bind(_=>{const N=Number(_[1]),V=_[2];return ys(V,h)?xe.some({value:N,unit:V}):xe.none()}),Ii=d=>$t(d,oe(0)),Lc=(d,h,w,_,N)=>N(d.slice(0,h)).concat(_).concat(N(d.slice(w))),Rp=d=>(h,w,_,N)=>{if(d(_)){const V=Math.max(N,h[w]-Math.abs(_)),Y=Math.abs(V-h[w]);return _>=0?Y:-Y}else return _},dg=Rp(d=>d<0),Mp=Rp(Ie),Pp=()=>{const d=(ie,we,Pe,ot,Gt)=>{const En=dg(ie,we,ot,Gt);return Lc(ie,we,Pe+1,[En,0],Ii)},h=(ie,we,Pe,ot)=>{const Gt=(100+Pe)/100,En=Math.max(ot,(ie[we]+Pe)/Gt);return $t(ie,(dn,to)=>(to===we?En:dn/Gt)-dn)},w=(ie,we,Pe,ot,Gt,En)=>En?h(ie,we,ot,Gt):d(ie,we,Pe,ot,Gt);return{resizeTable:(ie,we)=>ie(we),clampTableDelta:dg,calcLeftEdgeDeltas:w,calcMiddleDeltas:(ie,we,Pe,ot,Gt,En,dn)=>w(ie,Pe,ot,Gt,En,dn),calcRightEdgeDeltas:(ie,we,Pe,ot,Gt,En)=>{if(En)return h(ie,Pe,ot,Gt);{const dn=dg(ie,Pe,ot,Gt);return Ii(ie.slice(0,Pe)).concat([dn])}},calcRedestributedWidths:(ie,we,Pe,ot)=>{if(ot){const En=(we+Pe)/we,dn=$t(ie,to=>to/En);return{delta:En*100-100,newSizes:dn}}else return{delta:Pe,newSizes:ie}}}},LS=()=>{const d=(Y,ie,we,Pe,ot)=>{const Gt=Pe>=0?we:ie,En=Mp(Y,Gt,Pe,ot);return Lc(Y,ie,we+1,[En,-En],Ii)};return{resizeTable:(Y,ie,we)=>{we&&Y(ie)},clampTableDelta:(Y,ie,we,Pe,ot)=>{if(ot){if(we>=0)return we;{const Gt=Tt(Y,(En,dn)=>En+dn-Pe,0);return Math.max(-Gt,we)}}else return dg(Y,ie,we,Pe)},calcLeftEdgeDeltas:d,calcMiddleDeltas:(Y,ie,we,Pe,ot,Gt)=>d(Y,we,Pe,ot,Gt),calcRightEdgeDeltas:(Y,ie,we,Pe,ot,Gt)=>{if(Gt)return Ii(Y);{const En=Pe/Y.length;return $t(Y,oe(En))}},calcRedestributedWidths:(Y,ie,we,Pe)=>({delta:0,newSizes:Y})}},Tm=(d,h,w=0)=>Na(d,h).map(_=>parseInt(_,10)).getOr(w),Pf=(d,h)=>Tm(d,h,1),Zw=d=>oa("col")(d)?Tm(d,"span",1)>1:Pf(d,"colspan")>1,dO=d=>Pf(d,"rowspan")>1,Bi=(d,h)=>parseInt(kf(d,h),10),Ei=oe(10),Wd=oe(10),Lp=(d,h)=>ob(d,h,Ie),ob=(d,h,w)=>wt(Vi(d),_=>Rt(_,h)?w(_)?[_]:[]:ob(_,h,w)),uc=(d,h,w=Je)=>{if(w(h))return xe.none();if(Hn(d,Xs(h)))return xe.some(h);const _=N=>Rt(N,"table")||w(N);return Mc(h,d.join(","),_)},qw=(d,h)=>uc(["td","th"],d,h),gh=d=>Lp(d,"th,td"),sb=d=>Rt(d,"colgroup")?Ba(d,"col"):wt(fr(d),h=>Ba(h,"col")),xl=(d,h)=>li(d,"table",h),rb=d=>Lp(d,"tr"),fr=d=>xl(d).fold(oe([]),h=>Ba(h,"colgroup")),Np=oa("th"),km=d=>jt(d,h=>Np(h.element)),fO=(d,h)=>d&&h?"sectionCells":d?"section":"cells",NS=d=>{const h=d.section==="thead",w=jn(ib(d.cells),"th");return d.section==="tfoot"?{type:"footer"}:h||w?{type:"header",subType:fO(h,w)}:{type:"body"}},ib=d=>{const h=ho(d,w=>Np(w.element));return h.length===0?xe.some("td"):h.length===d.length?xe.some("th"):xe.none()},mO=d=>{const h=$t(d,N=>NS(N).type),w=Hn(h,"header"),_=Hn(h,"footer");if(!w&&!_)return xe.some("body");{const N=Hn(h,"body");return w&&!N&&!_?xe.some("header"):!w&&!N&&_?xe.some("footer"):xe.none()}},Gw=d=>St(d.all,h=>{const w=NS(h);return w.type==="header"?xe.from(w.subType):xe.none()}),Am=(d,h)=>$t(d,w=>{if(Xs(w)==="colgroup"){const _=$t(sb(w),N=>{const V=Tm(N,"span",1);return La(N,1,V)});return $l(w,_,"colgroup")}else{const _=$t(gh(w),N=>{const V=Tm(N,"rowspan",1),Y=Tm(N,"colspan",1);return La(N,V,Y)});return $l(w,_,h(w))}}),Kw=d=>Ee(d).map(h=>{const w=Xs(h);return Bl(w)?w:"tbody"}).getOr("tbody"),qn=d=>{const h=rb(d),_=[...fr(d),...h];return Am(_,Kw)},kr=(d,h)=>Am(d,()=>h),Ip="data-snooker-locked-cols",fg=d=>Na(d,Ip).bind(h=>xe.from(h.match(/\d+/g))).map(h=>ut(h,Ie)),Ea=d=>{const h=Tt(tr(d).rows,(_,N)=>(Ue(N.cells,(V,Y)=>{V.isLocked&&(_[Y]=!0)}),_),{}),w=wo(h,(_,N)=>parseInt(N,10));return Xt(w)},Bp=(d,h)=>d+","+h,hO=(d,h,w)=>xe.from(d.access[Bp(h,w)]),mg=(d,h,w)=>{const _=IS(d,N=>w(h,N.element));return _.length>0?xe.some(_[0]):xe.none()},IS=(d,h)=>{const w=wt(d.all,_=>_.cells);return ho(w,h)},Lf=d=>{const h={};let w=0;return Ue(d.cells,_=>{const N=_.colspan;ln(N,V=>{const Y=w+V;h[Y]=xf(_.element,N,Y)}),w+=N}),h},ph=d=>{const h={},w=[],N=Re(d).map(dn=>dn.element).bind(xl).bind(fg).getOr({});let V=0,Y=0,ie=0;const{pass:we,fail:Pe}=jo(d,dn=>dn.section==="colgroup");Ue(Pe,dn=>{const to=[];Ue(dn.cells,Mt=>{let Kt=0;for(;h[Bp(ie,Kt)]!==void 0;)Kt++;const uo=Oo(N,Kt.toString()),$o=Oc(Mt.element,Mt.rowspan,Mt.colspan,ie,Kt,uo);for(let Bn=0;Bn<Mt.colspan;Bn++)for(let Hs=0;Hs<Mt.rowspan;Hs++){const zs=ie+Hs,Wo=Kt+Bn,ki=Bp(zs,Wo);h[ki]=$o,Y=Math.max(Y,Wo+1)}to.push($o)}),V++,w.push($l(dn.element,to,dn.section)),ie++});const{columns:ot,colgroups:Gt}=et(we).map(dn=>{const to=Lf(dn);return{colgroups:[Sf(dn.element,Rn(to))],columns:to}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Is(V,Y),access:h,all:w,columns:ot,colgroups:Gt}},ns={fromTable:d=>{const h=qn(d);return ph(h)},generate:ph,getAt:hO,findItem:mg,filterItems:IS,justCells:d=>wt(d.all,h=>h.cells),justColumns:d=>Rn(d.columns),hasColumns:d=>pe(d.columns).length>0,getColumnAt:(d,h)=>xe.from(d.columns[h])},hg=(d,h,w)=>er(w(d.element,h),!0,d.isLocked),Vr=(d,h)=>d.section!==h?Qi(d.element,d.cells,h,d.isNew):d,Qw=()=>({transformRow:Vr,transformCell:(d,h,w)=>{const _=w(d.element,h),N=Xs(_)!=="td"?K0(_,"td"):_;return er(N,d.isNew,d.isLocked)}}),id=()=>({transformRow:Vr,transformCell:hg}),Nc=()=>({transformRow:(d,h)=>Vr(d,h==="thead"?"tbody":h),transformCell:hg}),Nf={getTableSectionType:(d,h)=>{const w=ns.fromTable(d);switch(Gw(w).getOr(h)){case"section":return Qw();case"sectionCells":return id();case"cells":return Nc()}},section:Qw,sectionCells:id,cells:Nc,fallback:()=>({transformRow:Oe,transformCell:hg})},e2=(d,h=Ie)=>{const w=d.grid,_=ln(w.columns,Oe),N=ln(w.rows,Oe);return $t(_,V=>cb(()=>wt(N,Pe=>ns.getAt(d,Pe,V).filter(ot=>ot.column===V).toArray()),Pe=>Pe.colspan===1&&h(Pe.element),()=>ns.getAt(d,0,V)))},cb=(d,h,w)=>{const _=d();return K(_,h).orThunk(()=>xe.from(_[0]).orThunk(w)).map(Y=>Y.element)},ad=d=>{const h=d.grid,w=ln(h.rows,Oe),_=ln(h.columns,Oe);return $t(w,N=>cb(()=>wt(_,we=>ns.getAt(d,N,we).filter(Pe=>Pe.row===N).fold(oe([]),Pe=>[Pe])),we=>we.rowspan===1,()=>ns.getAt(d,N,0)))},t2=(d,h)=>{if(h<0||h>=d.length-1)return xe.none();const w=d[h].fold(()=>{const N=$n(d.slice(0,h));return St(N,(V,Y)=>V.map(ie=>({value:ie,delta:Y+1})))},N=>xe.some({value:N,delta:0})),_=d[h+1].fold(()=>{const N=d.slice(h+1);return St(N,(V,Y)=>V.map(ie=>({value:ie,delta:Y+1})))},N=>xe.some({value:N,delta:1}));return w.bind(N=>_.map(V=>{const Y=V.delta+N.delta;return Math.abs(V.value-N.value)/Y}))},lb=(d,h)=>({row:d,y:h}),n2=(d,h)=>({col:d,x:h}),BS=d=>os(d).left+$r(d),gO=d=>os(d).left,o2=(d,h)=>n2(d,gO(h)),$S=(d,h)=>n2(d,BS(h)),ub=d=>os(d).top,pO=(d,h)=>lb(d,ub(h)),vO=(d,h)=>lb(d,ub(h)+X0(h)),s2=(d,h,w)=>{if(w.length===0)return[];const _=$t(w.slice(1),(V,Y)=>V.map(ie=>d(Y,ie))),N=w[w.length-1].map(V=>h(w.length-1,V));return _.concat([N])},r2=d=>-d,bu={delta:Oe,positions:d=>s2(pO,vO,d),edge:ub},yo=Af({delta:Oe,edge:gO,positions:d=>s2(o2,$S,d)},{delta:r2,edge:BS,positions:d=>s2($S,o2,d)}),Bc={delta:(d,h)=>yo(h).delta(d,h),positions:(d,h)=>yo(h).positions(d,h),edge:d=>yo(d).edge(d)},gg=/(\d+(\.\d+)?)%/,FS=/(\d+(\.\d+)?)px|em/,bO=oa("col"),db=oa("tr"),av=(d,h,w)=>{const _=ya(d).getOrThunk(()=>G1(Yu(d)));return h(d)/w(_)*100},pg=(d,h)=>{aa(d,"width",h+"px")},fb=(d,h)=>{aa(d,"width",h+"%")},vh=(d,h)=>{aa(d,"height",h+"px")},i2=d=>{hu(d,"height")},HS=d=>ag(d)+"px",Kr=(d,h,w,_)=>{const N=xl(d).map(V=>{const Y=w(V);return Math.floor(h/100*Y)}).getOr(h);return _(d,N),N},cd=(d,h,w,_)=>{const N=parseFloat(d);return dl(d,"%")&&Xs(h)!=="table"?Kr(h,N,w,_):N},Qc=d=>{const h=HS(d);return h?cd(h,d,Jc,vh):Jc(d)},bh=(d,h,w)=>{const _=w(d),N=Pf(d,h);return _/N},$c=(d,h)=>bl(d,h).orThunk(()=>Na(d,h).map(w=>w+"px")),vg=d=>$c(d,"width"),ca=d=>$c(d,"height"),Xa=d=>av(d,bo,xa),$p=d=>bO(d)?Math.round(bo(d)):gr(d),Vt=d=>db(d)?Jc(d):bh(d,"rowspan",Qc),Jl=d=>vg(d).bind(w=>sr(w,["fixed","relative","empty"])),cv=(d,h,w)=>{aa(d,"width",h+w)},Gi=d=>bo(d)+"px",yu=d=>Jc(d)+"px",wu=d=>av(d,bo,xa)+"%",zS=d=>vg(d).exists(h=>gg.test(h)),Om=d=>vg(d).exists(h=>FS.test(h)),VS=d=>vg(d).isNone(),el=oe(gg),Ks=oa("col"),ld=d=>vg(d).getOrThunk(()=>$p(d)+"px"),lv=d=>ca(d).getOrThunk(()=>Vt(d)+"px"),ni=d=>$t(ns.justColumns(d),h=>xe.from(h.element)),US=d=>{const h=xi().browser,w=h.isChromium()||h.isFirefox();return Ks(d)?w:!0},mb=(d,h,w,_,N,V)=>d.filter(_).fold(()=>V(t2(w,h)),Y=>N(Y)),jd=(d,h,w,_)=>{const N=e2(d),V=ns.hasColumns(d)?ni(d):N,Y=[xe.some(Bc.edge(h))].concat($t(Bc.positions(N,h),we=>we.map(Pe=>Pe.x))),ie=k(Zw);return $t(V,(we,Pe)=>mb(we,Pe,Y,ie,ot=>{if(US(ot))return w(ot);{const Gt=Ji(N[Pe],Oe);return mb(Gt,Pe,Y,ie,En=>_(xe.some(Math.round(bo(En)))),_)}},_))},a2=d=>d.map(h=>h+"px").getOr(""),Sl=(d,h)=>jd(d,h,ld,a2),c2=(d,h,w)=>jd(d,h,Xa,_=>_.fold(()=>w.minCellWidth(),N=>N/w.pixelWidth()*100)),ct=(d,h,w)=>jd(d,h,$p,_=>_.getOrThunk(w.minCellWidth)),Fc=(d,h,w,_)=>{const N=ad(d),V=$t(d.all,ie=>xe.some(ie.element)),Y=[xe.some(bu.edge(h))].concat($t(bu.positions(N,h),ie=>ie.map(we=>we.y)));return $t(V,(ie,we)=>mb(ie,we,Y,Ie,w,_))},Fp=(d,h)=>Fc(d,h,Vt,w=>w.getOrThunk(Wd)),Yr=(d,h)=>Fc(d,h,lv,a2),Ql=(d,h)=>()=>lo(d)?h(d):parseFloat(bl(d,"width").getOr("0")),Fa=d=>{const h=Ql(d,bo),w=oe(0);return{width:h,pixelWidth:h,getWidths:(N,V)=>ct(N,d,V),getCellDelta:w,singleColumnWidth:oe([0]),minCellWidth:w,setElementWidth:ue,adjustTableWidth:ue,isRelative:!0,label:"none"}},Zs=d=>{const h=Ql(d,we=>parseFloat(wu(we))),w=Ql(d,bo);return{width:h,pixelWidth:w,getWidths:(we,Pe)=>c2(we,d,Pe),getCellDelta:we=>we/w()*100,singleColumnWidth:(we,Pe)=>[100-we],minCellWidth:()=>Ei()/w()*100,setElementWidth:fb,adjustTableWidth:we=>{const Pe=h(),ot=we/100*Pe,Gt=Pe+ot;fb(d,Gt)},isRelative:!0,label:"percent"}},WS=d=>{const h=Ql(d,bo);return{width:h,pixelWidth:h,getWidths:(Y,ie)=>ct(Y,d,ie),getCellDelta:Oe,singleColumnWidth:(Y,ie)=>[Math.max(Ei(),Y+ie)-Y],minCellWidth:Ei,setElementWidth:pg,adjustTableWidth:Y=>{const ie=h()+Y;pg(d,ie)},isRelative:!1,label:"pixel"}},yh=(d,h)=>el().exec(h)!==null?Zs(d):WS(d),wh={getTableSize:d=>vg(d).fold(()=>Fa(d),w=>yh(d,w)),pixelSize:WS,percentageSize:Zs,noneSize:Fa},Hp=(d,h,w,_)=>{w===_?Bs(d,h):Si(d,h,w)},jS=(d,h,w)=>{et(Ba(d,h)).fold(()=>Ur(d,w),_=>fu(_,w))},ZS=(d,h)=>{const w=Qr(d,h).getOrThunk(()=>{const _=Sn.fromTag(h,Yu(d).dom);return h==="thead"?jS(d,"caption,colgroup",_):h==="colgroup"?jS(d,"caption",_):Ms(d,_),_});return cc(w),w},Dm=(d,h)=>{const w=[],_=[],N=dn=>$t(dn,to=>{to.isNew&&w.push(to.element);const Mt=to.element;return cc(Mt),Ue(to.cells,Kt=>{Kt.isNew&&_.push(Kt.element),Hp(Kt.element,"colspan",Kt.colspan,1),Hp(Kt.element,"rowspan",Kt.rowspan,1),Ms(Mt,Kt.element)}),Mt}),V=dn=>wt(dn,to=>$t(to.cells,Mt=>(Hp(Mt.element,"span",Mt.colspan,1),Mt.element))),Y=(dn,to)=>{const Mt=ZS(d,to),uo=(to==="colgroup"?V:N)(dn);Ul(Mt,uo)},ie=dn=>{Qr(d,dn).each(ra)},we=(dn,to)=>{dn.length>0?Y(dn,to):ie(to)},Pe=[],ot=[],Gt=[],En=[];return Ue(h,dn=>{switch(dn.section){case"thead":Pe.push(dn);break;case"tbody":ot.push(dn);break;case"tfoot":Gt.push(dn);break;case"colgroup":En.push(dn);break}}),we(En,"colgroup"),we(Pe,"thead"),we(ot,"tbody"),we(Gt,"tfoot"),{newRows:w,newCells:_}},uv=d=>$t(d,h=>{const w=jl(h.element);return Ue(h.cells,_=>{const N=ji(_.element);Hp(N,"colspan",_.colspan,1),Hp(N,"rowspan",_.rowspan,1),Ms(w,N)}),w}),eN=(d,h)=>$t(d,w=>go(w,h)),bg=(d,h)=>d[h],Ha=(d,h)=>{if(d.length===0)return 0;const w=d[0];return dr(d,N=>!h(w.element,N.element)).getOr(d.length)},_a=(d,h,w,_)=>{const N=bg(d,h),V=N.section==="colgroup",Y=Ha(N.cells.slice(w),_),ie=V?1:Ha(eN(d.slice(h),w),_);return{colspan:Y,rowspan:ie}},Rm=(d,h)=>{const w=$t(d,N=>$t(N.cells,Je)),_=(N,V,Y,ie)=>{for(let we=N;we<N+Y;we++)for(let Pe=V;Pe<V+ie;Pe++)w[we][Pe]=!0};return $t(d,(N,V)=>{const Y=wt(N.cells,(ie,we)=>{if(w[V][we]===!1){const Pe=_a(d,V,we,h);return _(V,we,Pe.rowspan,Pe.colspan),[Gr(ie.element,Pe.rowspan,Pe.colspan,ie.isNew)]}else return[]});return ga(N.element,Y,N.section,N.isNew)})},Mm=(d,h,w)=>{const _=[];Ue(d.colgroups,N=>{const V=[];for(let Y=0;Y<d.grid.columns;Y++){const ie=ns.getColumnAt(d,Y).map(we=>er(we.element,w,!1)).getOrThunk(()=>er(h.colGap(),!0,!1));V.push(ie)}_.push(Qi(N.element,V,"colgroup",w))});for(let N=0;N<d.grid.rows;N++){const V=[];for(let we=0;we<d.grid.columns;we++){const Pe=ns.getAt(d,N,we).map(ot=>er(ot.element,w,ot.isLocked)).getOrThunk(()=>er(h.gap(),!0,!1));V.push(Pe)}const Y=d.all[N],ie=Qi(Y.element,V,Y.section,w);_.push(ie)}return _},yg=(d,h)=>Mm(d,h,!1),zp=d=>Rm(d,Uo),Hc=(d,h)=>St(d.all,w=>K(w.cells,_=>Uo(h,_.element))),Ch=(d,h,w)=>{const _=$t(h.selection,V=>qw(V).bind(Y=>Hc(d,Y)).filter(w)),N=Qo(_);return Pa(N.length>0,N)},Ki=(d,h,w,_,N,V,Y,ie,we)=>{const Pe=ns.fromTable(V),ot=xe.from(we==null?void 0:we.section).getOrThunk(Nf.fallback);return h(Pe,Y).map(En=>{const dn=yg(Pe,ie),to=d(dn,En,Uo,N(ie),ot),Mt=Ea(to.grid),Kt=zp(to.grid);return{info:En,grid:Kt,cursor:to.cursor,lockedColumns:Mt}}).bind(En=>{const dn=Dm(V,En.grid),to=xe.from(we==null?void 0:we.sizing).getOrThunk(()=>wh.getTableSize(V)),Mt=xe.from(we==null?void 0:we.resize).getOrThunk(LS);return w(V,En.grid,En.info,{sizing:to,resize:Mt,section:ot}),_(V),Bs(V,Ip),En.lockedColumns.length>0&&Si(V,Ip,En.lockedColumns.join(",")),xe.some({cursor:En.cursor,newRows:dn.newRows,newCells:dn.newCells})})},hb=(d,h)=>qw(h.element).bind(w=>Hc(d,w).map(_=>({..._,generators:h.generators,clipboard:h.clipboard}))),ud=(d,h)=>Ch(d,h,Ie).map(w=>({cells:w,generators:h.generators,clipboard:h.clipboard})),dd=(d,h)=>h.mergable,gb=(d,h)=>h.unmergable,la=(d,h)=>Ch(d,h,Ie),Vp=(d,h)=>Ch(d,h,w=>!w.isLocked),Pm=(d,h)=>Hc(d,h).exists(w=>!w.isLocked),wg=(d,h)=>jt(h,w=>Pm(d,w)),If=(d,h)=>dd(d,h).filter(w=>wg(d,w.cells)),dv=(d,h)=>gb(d,h).filter(w=>wg(d,w)),Cg={...tt.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},qS=(d,h)=>d.length===0?Cg.none():d.length===1?Cg.only(0):h===0?Cg.left(0,1):h===d.length-1?Cg.right(h-1,h):h>0&&h<d.length-1?Cg.middle(h-1,h,h+1):Cg.none(),fi=(d,h,w,_,N)=>{const V=d.slice(0),Y=qS(d,h),ie=oe($t(V,oe(0))),we=En=>_.singleColumnWidth(V[En],w),Pe=(En,dn)=>N.calcLeftEdgeDeltas(V,En,dn,w,_.minCellWidth(),_.isRelative),ot=(En,dn,to)=>N.calcMiddleDeltas(V,En,dn,to,w,_.minCellWidth(),_.isRelative),Gt=(En,dn)=>N.calcRightEdgeDeltas(V,En,dn,w,_.minCellWidth(),_.isRelative);return Y.fold(ie,we,Pe,ot,Gt)},GS=(d,h,w)=>{let _=0;for(let N=d;N<h;N++)_+=w[N]!==void 0?w[N]:0;return _},Bf=(d,h)=>{const w=ns.justCells(d);return $t(w,_=>{const N=GS(_.column,_.column+_.colspan,h);return{element:_.element,width:N,colspan:_.colspan}})},fd=(d,h)=>{const w=ns.justColumns(d);return $t(w,(_,N)=>({element:_.element,width:h[N],colspan:_.colspan}))},u2=(d,h)=>$t(d.all,(w,_)=>({element:w.element,height:h[_]})),xg=d=>vo(d,(h,w)=>h+w,0),El=(d,h)=>ns.hasColumns(d)?fd(d,h):Bf(d,h),Sg=(d,h,w)=>{const _=El(d,h);Ue(_,N=>{w.setElementWidth(N.element,N.width)})},Eg=(d,h,w,_,N)=>{const V=ns.fromTable(d),Y=N.getCellDelta(h),ie=N.getWidths(V,N),we=w===V.grid.columns-1,Pe=_.clampTableDelta(ie,w,Y,N.minCellWidth(),we),ot=fi(ie,w,Pe,N,_),Gt=$t(ot,(En,dn)=>En+ie[dn]);Sg(V,Gt,N),_.resizeTable(N.adjustTableWidth,Pe,we)},d2=(d,h,w)=>{const _=ns.fromTable(d),N=Fp(_,d),V=$t(N,(we,Pe)=>w===Pe?Math.max(h+we,Wd()):we),Y=u2(_,V);Ue(Y,we=>{vh(we.element,we.height)}),Ue(ns.justCells(_),we=>{i2(we.element)});const ie=xg(V);vh(d,ie)},pb=(d,h,w,_,N)=>{const V=ns.generate(h),Y=_.getWidths(V,_),ie=_.pixelWidth(),{newSizes:we,delta:Pe}=N.calcRedestributedWidths(Y,ie,w.pixelDelta,_.isRelative);Sg(V,we,_),_.adjustTableWidth(Pe)},vb=(d,h,w,_)=>{const N=ns.generate(h),V=_.getWidths(N,_);Sg(N,V,_)},bb=(d,h)=>{Zw(d)||Jl(d).each(_=>{const N=_.value/2;cv(d,N,_.unit),cv(h,N,_.unit)})},f2=(d,h,w)=>{const _=Tm(d,h,1);w===1||_<=1?Bs(d,h):Si(d,h,Math.min(w,_))},KS=(d,h)=>w=>{const _=w.column+w.colspan-1,N=w.column;return _>=d&&N<h},_g=(d,h,w)=>{if(ns.hasColumns(d)){const _=ho(ns.justColumns(d),KS(h,w)),N=$t(_,Y=>{const ie=ji(Y.element);return f2(ie,"span",w-h),ie}),V=Sn.fromTag("colgroup");return Ul(V,N),[V]}else return[]},Tg=(d,h,w)=>$t(d.all,_=>{const N=ho(_.cells,KS(h,w)),V=$t(N,ie=>{const we=ji(ie.element);return f2(we,"colspan",w-h),we}),Y=Sn.fromTag("tr");return Ul(Y,V),Y}),Zd=(d,h)=>{const w=ns.fromTable(d);return Vp(w,h).map(N=>{const V=N[N.length-1],Y=N[0].column,ie=V.column+V.colspan,we=_g(w,Y,ie),Pe=Tg(w,Y,ie);return[...we,...Pe]})},Lm=(d,h,w)=>{const _=ns.fromTable(d);return la(_,h).bind(V=>{const Y=Mm(_,w,!1),we=tr(Y).rows.slice(V[0].row,V[V.length-1].row+V[V.length-1].rowspan),Pe=wt(we,Gt=>{const En=ho(Gt.cells,dn=>!dn.isLocked);return En.length>0?[{...Gt,cells:En}]:[]}),ot=zp(Pe);return Pa(ot.length>0,ot)}).map(V=>uv(V))},kg=(d,h,w,_,N,V)=>({minRow:d,minCol:h,maxRow:w,maxCol:_,allCells:N,selectedCells:V}),YS=(d,h)=>{const w=d.grid.columns;let N=d.grid.rows,V=w,Y=0,ie=0;const we=[],Pe=[];return Dt(d.access,ot=>{if(we.push(ot),h(ot)){Pe.push(ot);const Gt=ot.row,En=Gt+ot.rowspan-1,dn=ot.column,to=dn+ot.colspan-1;Gt<N?N=Gt:En>Y&&(Y=En),dn<V?V=dn:to>ie&&(ie=to)}}),kg(N,V,Y,ie,we,Pe)},fv=(d,h,w)=>{const _=d[w].element,N=Sn.fromTag("td");Ms(N,Sn.fromTag("br")),(h?Ms:Ur)(_,N)},mv=(d,h,w,_)=>{const N=ho(d,ie=>ie.section!=="colgroup"),V=h.grid.columns,Y=h.grid.rows;for(let ie=0;ie<Y;ie++){let we=!1;for(let Pe=0;Pe<V;Pe++)ie<w.minRow||ie>w.maxRow||Pe<w.minCol||Pe>w.maxCol||(ns.getAt(h,ie,Pe).filter(_).isNone()?fv(N,we,ie):we=!0)}},XS=(d,h,w,_)=>{Dt(w.columns,Y=>{(Y.column<h.minCol||Y.column>h.maxCol)&&ra(Y.element)});const N=ho(Lp(d,"tr"),Y=>Y.dom.childElementCount===0);Ue(N,ra),(h.minCol===h.maxCol||h.minRow===h.maxRow)&&Ue(Lp(d,"th,td"),Y=>{Bs(Y,"rowspan"),Bs(Y,"colspan")}),Bs(d,Ip),Bs(d,"data-snooker-col-series"),wh.getTableSize(d).adjustTableWidth(_)},JS=(d,h,w,_)=>{if(_.minCol===0&&h.grid.columns===_.maxCol+1)return 0;const N=ct(h,d,w),V=Tt(N,(Pe,ot)=>Pe+ot,0),we=Tt(N.slice(_.minCol,_.maxCol+1),(Pe,ot)=>Pe+ot,0)/V*w.pixelWidth()-w.pixelWidth();return w.getCellDelta(we)},yb=(d,h)=>{const w=En=>Rt(En.element,h),_=ji(d),N=qn(_),V=wh.getTableSize(d),Y=ns.generate(N),ie=YS(Y,w),we="th:not("+h+"),td:not("+h+")",Pe=ob(_,"th,td",En=>Rt(En,we));Ue(Pe,ra),mv(N,Y,ie,w);const ot=ns.fromTable(d),Gt=JS(d,ot,V,ie);return XS(_,ie,Y,Gt),_},Ag=oa("col"),wb=oa("colgroup"),Cu=d=>Xs(d)==="tr"||wb(d),QS=d=>{const h=Tm(d,"colspan",1),w=Tm(d,"rowspan",1);return{element:d,colspan:h,rowspan:w}},md=(d,h=QS)=>{const w=ie=>Ag(ie.element)?d.col(ie):d.cell(ie),_=ie=>wb(ie.element)?d.colgroup(ie):d.row(ie),N=ie=>{if(Cu(ie))return _({element:ie});{const we=ie,Pe=w(h(we));return V=xe.some({item:we,replacement:Pe}),Pe}};let V=xe.none();return{getOrInit:(ie,we)=>V.fold(()=>N(ie),Pe=>we(ie,Pe.item)?Pe.replacement:N(ie))}},hv=d=>h=>{const w=[],_=(Y,ie)=>K(w,we=>ie(we.item,Y)),N=Y=>{const ie=d==="td"?{scope:null}:{},we=h.replace(Y,d,ie);return w.push({item:Y,sub:we}),we};return{replaceOrInit:(Y,ie)=>{if(Cu(Y)||Ag(Y))return Y;{const we=Y;return _(we,ie).fold(()=>N(we),Pe=>ie(Y,Pe.item)?Pe.sub:N(we))}}}},eE=d=>Na(d,"scope").map(h=>h.substr(0,3)),_l={modification:md,transform:hv,merging:d=>({unmerge:_=>{const N=eE(_);return N.each(V=>Si(_,"scope",V)),()=>{const V=d.cell({element:_,colspan:1,rowspan:1});return hu(V,"width"),hu(_,"width"),N.each(Y=>Si(V,"scope",Y)),V}},merge:_=>{const N=()=>{const V=Qo($t(_,eE));if(V.length===0)return xe.none();{const Y=V[0],ie=["row","col"];return Qe(V,Pe=>Pe!==Y&&Hn(ie,Pe))?xe.none():xe.from(Y)}};return hu(_[0],"width"),N().fold(()=>Bs(_[0],"scope"),V=>Si(_[0],"scope",V+"group")),oe(_[0])}})},gv=(d,h)=>{const w=d.slice(0,h[h.length-1].row+1),_=zp(w);return wt(_,N=>{const V=N.cells.slice(0,h[h.length-1].column+1);return $t(V,Y=>Y.element)})},nE=(d,h)=>{const w=d.slice(h[0].row+h[0].rowspan-1,d.length),_=zp(w);return wt(_,N=>{const V=N.cells.slice(h[0].column+h[0].colspan-1,N.cells.length);return $t(V,Y=>Y.element)})},xh=(d,h,w)=>{const _=ns.fromTable(d);return la(_,h).map(V=>{const Y=Mm(_,w,!1),{rows:ie}=tr(Y),we=gv(ie,V),Pe=nE(ie,V);return{upOrLeftCells:we,downOrRightCells:Pe}})},CO={only:(d,h)=>{const w=Ku(d)?Xu(d):d;return{parent:oe(w),view:oe(d),dragContainer:oe(w),origin:oe(_r(0,0)),isResizable:h}},detached:(d,h,w)=>{const _=()=>os(h);return{parent:oe(h),view:oe(d),dragContainer:oe(h),origin:_,isResizable:w}},body:(d,h)=>({parent:oe(d),view:oe(d),dragContainer:oe(d),origin:()=>os(d),isResizable:h})},qs=tt.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),oE=(d,h,w)=>{const _=w.substring(0,w.length-d.length),N=parseFloat(_);return _===N.toString()?h(N):qs.invalid(w)},xu={...qs,from:d=>dl(d,"%")?oE("%",qs.percent,d):dl(d,"px")?oE("px",qs.pixels,d):qs.invalid(d)},Og=(d,h)=>$t(d,w=>xu.from(w).fold(()=>w,N=>N/h*100+"%",N=>N+"%")),gs=(d,h,w)=>{const _=w/h;return $t(d,N=>xu.from(N).fold(()=>N,Y=>Y*_+"px",Y=>Y/100*w+"px"))},$i=(d,h)=>{const w=d.fold(()=>oe(""),_=>{const N=_/h;return oe(N+"px")},()=>{const _=100/h;return oe(_+"%")});return ln(h,w)},pv=(d,h,w)=>d.fold(()=>h,_=>gs(h,w,_),_=>Og(h,w)),Cb=(d,h,w)=>{const _=xu.from(w),N=jt(d,V=>V==="0px")?$i(_,d.length):pv(_,d,h);return rE(N)},Or=(d,h)=>d.length===0?h:vo(d,(w,_)=>xu.from(_).fold(oe(0),Oe,Oe)+w,0),Up=(d,h)=>{const w=Math.floor(d);return{value:w+h,remainder:d-w}},xb=(d,h)=>xu.from(d).fold(oe(d),w=>w+h+"px",w=>w+h+"%"),rE=d=>{if(d.length===0)return d;const h=vo(d,(_,N)=>{const V=xu.from(N).fold(()=>({value:N,remainder:0}),Y=>Up(Y,"px"),Y=>({value:Y+"%",remainder:0}));return{output:[V.value].concat(_.output),remainder:_.remainder+V.remainder}},{output:[],remainder:0}),w=h.output;return w.slice(0,w.length-1).concat([xb(w[w.length-1],Math.round(h.remainder))])},iE=xu.from,aE=(d,h,w)=>{Ue(h,_=>{const N=d.slice(_.column,_.colspan+_.column),V=Or(N,Ei());aa(_.element,"width",V+w)})},tN=(d,h,w)=>{Ue(h,(_,N)=>{const V=Or([d[N]],Ei());aa(_.element,"width",V+w)})},xO=(d,h,w)=>{Ue(w,_=>{hu(_.element,"height")}),Ue(h,(_,N)=>{aa(_.element,"height",d[N])})},SO=d=>iE(d).fold(oe("px"),oe("px"),oe("%")),cE=(d,h,w)=>{const _=ns.fromTable(d),N=_.all,V=ns.justCells(_),Y=ns.justColumns(_);h.each(ie=>{const we=SO(ie),Pe=bo(d),ot=Sl(_,d),Gt=Cb(ot,Pe,ie);ns.hasColumns(_)?tN(Gt,Y,we):aE(Gt,V,we),aa(d,"width",ie)}),w.each(ie=>{const we=Jc(d),Pe=Yr(_,d),ot=Cb(Pe,we,ie);xO(ot,N,V),aa(d,"height",ie)})},lE=zS,hd=Om,Ja=VS;var gd=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],qd=()=>{const d=Pe=>Sn.fromDom(Pe.dom.cloneNode(!1)),h=Pe=>Ya(Pe).dom,w=Pe=>cr(Pe)?Xs(Pe)==="body"?!0:Hn(gd,Xs(Pe)):!1,_=Pe=>cr(Pe)?Hn(["br","img","hr","input"],Xs(Pe)):!1,N=Pe=>cr(Pe)&&Xc(Pe,"contenteditable")==="false",V=(Pe,ot)=>Pe.dom.compareDocumentPosition(ot.dom),Y=(Pe,ot)=>{const Gt=vl(Pe);mu(ot,Gt)},ie=Pe=>{const ot=Xs(Pe);return Hn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ot)},we=Pe=>cr(Pe)?Na(Pe,"lang"):xe.none();return{up:oe({selector:Mc,closest:li,predicate:$s,all:Vl}),down:oe({selector:nd,predicate:Rf}),styles:oe({get:kf,getRaw:bl,set:aa,remove:hu}),attrs:oe({get:Xc,set:Si,remove:Bs,copyTo:Y}),insert:oe({before:Jr,after:fu,afterAll:vi,append:Ms,appendAll:Ul,prepend:Ur,wrap:Fw}),remove:oe({unwrap:Wi,remove:ra}),create:oe({nu:Sn.fromTag,clone:d,text:Sn.fromText}),query:oe({comparePosition:V,prevSibling:rg,nextSibling:Ju}),property:oe({children:Vi,name:Xs,parent:Ee,document:h,isText:du,isComment:G0,isElement:cr,isSpecial:ie,getLanguage:we,getText:td,setText:$d,isBoundary:w,isEmptyTag:_,isNonEditable:N}),eq:Uo,is:G}};const Gd=(d,h)=>({item:d,mode:h}),Sh=(d,h,w,_=$f)=>d.property().parent(h).map(N=>Gd(N,_)),$f=(d,h,w,_=Nm)=>w.sibling(d,h).map(N=>Gd(N,_)),Nm=(d,h,w,_=Nm)=>{const N=d.property().children(h);return w.first(N).map(Y=>Gd(Y,_))},h2=[{current:Sh,next:$f,fallback:xe.none()},{current:$f,next:Nm,fallback:xe.some(Sh)},{current:Nm,next:Nm,fallback:xe.some($f)}],g2=(d,h,w,_,N=h2)=>K(N,Y=>Y.current===w).bind(Y=>Y.current(d,h,_,Y.next).orThunk(()=>Y.fallback.bind(ie=>g2(d,h,ie,_)))),Sb={left:()=>({sibling:(w,_)=>w.query().prevSibling(_),first:w=>w.length>0?xe.some(w[w.length-1]):xe.none()}),right:()=>({sibling:(w,_)=>w.query().nextSibling(_),first:w=>w.length>0?xe.some(w[0]):xe.none()})},Eb=(d,h,w,_,N,V)=>g2(d,h,_,N).bind(ie=>V(ie.item)?xe.none():w(ie.item)?xe.some(ie.item):Eb(d,ie.item,w,ie.mode,N,V)),uE=(d,h,w,_)=>Eb(d,h,w,$f,Sb.left(),_),_b=(d,h,w,_)=>Eb(d,h,w,$f,Sb.right(),_),Eh=(d,h)=>({element:d,offset:h}),vv=(d,h,w)=>d.property().isText(h)&&d.property().getText(h).trim().length===0||d.property().isComment(h)?w(h).bind(_=>vv(d,_,w).orThunk(()=>xe.some(_))):xe.none(),Kd=(d,h)=>d.property().isText(h)?d.property().getText(h).length:d.property().children(h).length,Tb=(d,h)=>{const w=vv(d,h,d.query().prevSibling).getOr(h);if(d.property().isText(w))return Eh(w,Kd(d,w));const _=d.property().children(w);return _.length>0?Tb(d,_[_.length-1]):Eh(w,Kd(d,w))},_O=Tb,kb=qd(),Ab=d=>_O(kb,d),dE=d=>h=>d.property().children(h).length===0,TO=(d,h,w)=>fE(d,h,dE(d),w),Wp=(d,h,w)=>Ff(d,h,dE(d),w),fE=uE,Ff=_b,jp=qd(),Ob=(d,h)=>TO(jp,d,h),Hf=(d,h)=>Wp(jp,d,h),zc=(d,h,w)=>fE(jp,d,h,w),Tl=(d,h,w)=>Ff(jp,d,h,w),kl=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Db=(d,h)=>{const w=d.property().name(h);return Hn(["ol","ul"],w)},p2=(d,h)=>{const w=d.property().name(h);return Hn(kl,w)},Zp=(d,h)=>Hn(["br","img","hr","input"],d.property().name(h)),zf=(d,h,w,_)=>{const N=w[0],V=w.slice(1);return _(d,h,N,V)},kO=(d,h,w)=>w.length>0?zf(d,h,w,Fi):xe.none(),Fi=(d,h,w,_)=>{const N=h(d,w);return vo(_,(V,Y)=>{const ie=h(d,Y);return Rb(d,V,ie)},N)},Rb=(d,h,w)=>h.bind(_=>w.filter(Xe(d.eq,_))),tl=(d,h)=>Xe(d.eq,h),mE=(d,h,w,_=Je)=>{const N=[h].concat(d.up().all(h)),V=[w].concat(d.up().all(w)),Y=ot=>dr(ot,_).fold(()=>ot,En=>ot.slice(0,En+1)),ie=Y(N),we=Y(V),Pe=K(ie,ot=>Qe(we,tl(d,ot)));return{firstpath:ie,secondpath:we,shared:Pe}},hE=kO,_h=mE,Im=qd(),Ps=(d,h)=>hE(Im,(w,_)=>d(_),h),dc=(d,h,w)=>_h(Im,d,h,w),bv=qd(),Mb=d=>p2(bv,d),Pb=d=>Db(bv,d),yv=d=>Zp(bv,d),gE=d=>{const h=oa("br"),w=we=>jt(we,Pe=>h(Pe)||du(Pe)&&td(Pe).trim().length===0),_=we=>Xs(we)==="li"||$s(we,Pb).isSome(),N=we=>Ju(we).map(Pe=>Mb(Pe)?!0:yv(Pe)?Xs(Pe)!=="img":!1).getOr(!1),V=we=>ui(we).bind(Pe=>{const ot=N(Pe);return Ee(Pe).map(Gt=>ot===!0||_(Gt)||h(Pe)||Mb(Gt)&&!Uo(we,Gt)?[]:[Sn.fromTag("br")])}).getOr([]),ie=(()=>{const we=wt(d,Pe=>{const ot=Vi(Pe);return w(ot)?[]:ot.concat(V(Pe))});return we.length===0?[Sn.fromTag("br")]:we})();cc(d[0]),Ul(d[0],ie)},Vf=d=>{Bs(d,"width"),Bs(d,"height")},Th=d=>{const h=wu(d);cE(d,xe.some(h),xe.none()),Vf(d)},v2=d=>{const h=Gi(d);cE(d,xe.some(h),xe.none()),Vf(d)},tu=d=>{const h=yu(d);cE(d,xe.none(),xe.some(h)),Vf(d)},qp=d=>{hu(d,"width");const h=sb(d),w=h.length>0?h:gh(d);Ue(w,_=>{hu(_,"width"),Vf(_)}),Vf(d)},_i={scope:["row","col"]},nl=d=>()=>{const h=Sn.fromTag("td",d.dom);return Ms(h,Sn.fromTag("br",d.dom)),h},Lb=d=>()=>Sn.fromTag("col",d.dom),pE=d=>()=>Sn.fromTag("colgroup",d.dom),b2=d=>()=>Sn.fromTag("tr",d.dom),kh=(d,h,w)=>{const _=Tf(d,h);return Dt(w,(N,V)=>{N===null?Bs(_,V):Si(_,V,N)}),_},Dg=d=>d,y2=(d,h,w)=>fh(d).map(N=>{const V=w.join(","),Y=Fs(N,V,ie=>Uo(ie,d));return vo(Y,(ie,we)=>{const Pe=jl(we);return Ms(ie,Pe),Pe},h)}).getOr(h),w2=(d,h)=>{Dt(_i,(w,_)=>Na(d,_).filter(N=>Hn(w,N)).each(N=>Si(h,_,N)))},wv=(d,h,w)=>{const _=(Y,ie)=>{K1(Y.element,ie),hu(ie,"height"),Y.colspan!==1&&hu(ie,"width")},N=Y=>{const ie=Sn.fromTag(Xs(Y.element),h.dom),we=w.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Pe=we.length>0?y2(Y.element,ie,we):ie;return Ms(Pe,Sn.fromTag("br")),_(Y,ie),w2(Y.element,ie),d(Y.element,ie),ie};return{col:Y=>{const ie=Sn.fromTag(Xs(Y.element),h.dom);return _(Y,ie),d(Y.element,ie),ie},colgroup:pE(h),row:b2(h),cell:N,replace:kh,colGap:Lb(h),gap:nl(h)}},C2=d=>({col:Lb(d),colgroup:pE(d),row:b2(d),cell:nl(d),replace:Dg,colGap:Lb(d),gap:nl(d)}),Ah=d=>ns.fromTable(d).grid,Bm=(d,h,w,_)=>{const N=tr(d).rows;if(N.length===0)return d;for(let V=h.startRow;V<=h.finishRow;V++)for(let Y=h.startCol;Y<=h.finishCol;Y++){const ie=N[V],we=go(ie,Y).isLocked;sc(ie,Y,er(_(),!1,we))}return d},vE=(d,h,w,_)=>{const N=tr(d).rows;let V=!0;for(let Y=0;Y<N.length;Y++)for(let ie=0;ie<Mi(N[0]);ie++){const we=N[Y],Pe=go(we,ie),ot=Pe.element,Gt=w(ot,h);Gt&&!V?sc(we,ie,er(_(),!0,Pe.isLocked)):Gt&&(V=!1)}return d},za=(d,h)=>Tt(d,(w,_)=>Qe(w,N=>h(N.element,_.element))?w:w.concat([_]),[]),bE=(d,h,w,_)=>(h>0&&h<d[0].cells.length&&Ue(d,N=>{const V=N.cells[h-1];let Y=0;const ie=_();for(;N.cells.length>h+Y&&w(V.element,N.cells[h+Y].element);)sc(N,h+Y,er(ie,!0,N.cells[h+Y].isLocked)),Y++}),d),Oh=(d,h,w,_)=>{const N=tr(d).rows;if(h>0&&h<N.length){const V=N[h-1].cells,Y=za(V,w);Ue(Y,ie=>{let we=xe.none();for(let Pe=h;Pe<N.length;Pe++)for(let ot=0;ot<Mi(N[0]);ot++){const Gt=N[Pe],En=go(Gt,ot);w(En.element,ie.element)&&(we.isNone()&&(we=xe.some(_())),we.each(to=>{sc(Gt,ot,er(to,!0,En.isLocked))}))}})}return d},yE=(d,h,w)=>{if(d.row>=h.length||d.column>Mi(h[0]))return Nr.error("invalid start address out of table bounds, row: "+d.row+", column: "+d.column);const _=h.slice(d.row),N=_[0].cells.slice(d.column),V=Mi(w[0]),Y=w.length;return Nr.value({rowDelta:_.length-Y,colDelta:N.length-V})},Nb=(d,h)=>{const w=Mi(d[0]),_=Mi(h[0]);return{rowDelta:0,colDelta:w-_}},x2=(d,h)=>{const w=d.length,_=h.length;return{rowDelta:w-_,colDelta:0}},Cv=(d,h,w,_)=>{const N=h.section==="colgroup"?w.col:w.cell;return ln(d,V=>er(N(),!0,_(V)))},S2=(d,h,w,_)=>{const N=d[d.length-1];return d.concat(ln(h,()=>{const V=N.section==="colgroup"?w.colgroup:w.row,Y=Ld(N,V,Oe),ie=Cv(Y.cells.length,Y,w,we=>Vo(_,we.toString()));return Pd(Y,ie)}))},wE=(d,h,w,_)=>$t(d,N=>{const V=Cv(h,N,w,Je);return pa(N,_,V)}),CE=(d,h,w)=>$t(d,_=>Tt(w,(N,V)=>{const Y=Cv(1,_,h,Ie)[0];return Ga(N,V,Y)},_)),xv=(d,h,w)=>{const _=h.colDelta<0?wE:Oe,N=h.rowDelta<0?S2:Oe,V=Ea(d),Y=Mi(d[0]),ie=Qe(V,ot=>ot===Y-1),we=_(d,Math.abs(h.colDelta),w,ie?Y-1:Y),Pe=Ea(we);return N(we,Math.abs(h.rowDelta),w,ut(Pe,Ie))},Hi=(d,h,w,_)=>{const N=go(d[h],w),V=Xe(_,N.element),Y=d[h];return d.length>1&&Mi(Y)>1&&(w>0&&V(Sr(Y,w-1))||w<Y.cells.length-1&&V(Sr(Y,w+1))||h>0&&V(Sr(d[h-1],w))||h<d.length-1&&V(Sr(d[h+1],w)))},Dr=(d,h,w,_,N,V)=>{const Y=d.row,ie=d.column,we=w.length,Pe=Mi(w[0]),ot=Y+we,Gt=ie+Pe+V.length,En=ut(V,Ie);for(let dn=Y;dn<ot;dn++){let to=0;for(let Mt=ie;Mt<Gt;Mt++){if(En[Mt]){to++;continue}Hi(h,dn,Mt,N)&&vE(h,Sr(h[dn],Mt),N,_.cell);const Kt=Mt-ie-to,uo=go(w[dn-Y],Kt),$o=uo.element,Bn=_.replace($o);sc(h[dn],Mt,er(Bn,!0,uo.isLocked))}}return h},Va=(d,h,w)=>{const _=Mi(h[0]),N=tr(h).cols.length+d.row,V=ln(_-d.column,ie=>ie+d.column),Y=K(V,ie=>jt(w,we=>we!==ie)).getOr(_-1);return{row:N,column:Y}},Yi=(d,h,w)=>ho(w,_=>_>=d.column&&_<=Mi(h[0])+d.column),ua=(d,h,w,_,N)=>{const V=Ea(h),Y=Va(d,h,V),ie=tr(w).rows,we=Yi(Y,ie,V);return yE(Y,h,ie).map(ot=>{const Gt={...ot,colDelta:ot.colDelta-we.length},En=xv(h,Gt,_),dn=Ea(En),to=Yi(Y,ie,dn);return Dr(Y,En,ie,_,N,to)})},Ti=(d,h,w,_,N)=>{bE(h,d,N,_.cell);const V=x2(w,h),Y=xv(w,V,_),ie=x2(h,Y),we=xv(h,ie,_);return $t(we,(Pe,ot)=>pa(Pe,d,Y[ot].cells))},Ib=(d,h,w,_,N)=>{Oh(h,d,N,_.cell);const V=Ea(h),Y=Nb(h,w),ie={...Y,colDelta:Y.colDelta-V.length},we=xv(h,ie,_),{cols:Pe,rows:ot}=tr(we),Gt=Ea(we),En=Nb(w,h),dn={...En,colDelta:En.colDelta+Gt.length},to=CE(w,_,Gt),Mt=xv(to,dn,_);return[...Pe,...ot.slice(0,d),...Mt,...ot.slice(d,ot.length)]},Bb=(d,h,w,_)=>Ld(d,N=>_(N,w),h),$b=(d,h,w,_,N)=>{const{rows:V,cols:Y}=tr(d),ie=V.slice(0,h),we=V.slice(h),Pe=Bb(V[w],(ot,Gt)=>h>0&&h<V.length&&_(Sr(V[h-1],Gt),Sr(V[h],Gt))?go(V[h],Gt):er(N(ot.element,_),!0,ot.isLocked),_,N);return[...Y,...ie,Pe,...we]},xE=(d,h,w,_,N,V,Y)=>{if(w==="colgroup"||!_){const ie=go(d,N);return er(Y(ie.element,V),!0,!1)}else return go(d,h)},Fb=(d,h,w,_,N)=>$t(d,V=>{const Y=h>0&&h<Mi(V)&&_(Sr(V,h-1),Sr(V,h)),ie=xE(V,h,V.section,Y,w,_,N);return Ga(V,h,ie)}),SE=(d,h)=>wt(d,w=>{const _=w.cells,N=vo(h,(V,Y)=>Y>=0&&Y<V.length?V.slice(0,Y).concat(V.slice(Y+1)):V,_);return N.length>0?[Qi(w.element,N,w.section,w.isNew)]:[]}),Rg=(d,h,w)=>{const{rows:_,cols:N}=tr(d);return[...N,..._.slice(0,h),..._.slice(w+1)]},E2=(d,h,w,_)=>Sr(d[h],w)!==void 0&&h>0&&_(Sr(d[h-1],w),Sr(d[h],w)),Mg=(d,h,w)=>h>0&&w(Sr(d,h-1),Sr(d,h)),Hb=(d,h,w,_)=>E2(d,h,w,_)||Mg(d[h],w,_),_2=(d,h)=>jt(h,Oe)&&km(d.cells)?Ie:(_,N,V)=>!(Xs(_.element)==="th"&&h[V]),zb=(d,h)=>jt(h,Oe)&&km(d)?Ie:(_,N,V)=>!(Xs(_.element)==="th"&&h[N]),Yd=(d,h,w,_)=>{const N=Y=>Y==="row"?dO(h):Zw(h),V=Y=>N(Y)?`${Y}group`:Y;return d?Np(h)?V(w):null:_&&Np(h)?V(w==="row"?"col":"row"):null},Sv=(d,h)=>(w,_,N)=>xe.some(Yd(d,w.element,"col",h[N])),T2=(d,h)=>(w,_)=>xe.some(Yd(d,w.element,"row",h[_])),Gp=(d,h,w)=>er(w(d.element,h),!0,d.isLocked),Ev=(d,h,w,_,N,V,Y)=>{const ie=we=>Qe(h,Pe=>w(we.element,Pe.element));return $t(d,(we,Pe)=>xr(we,(ot,Gt)=>{if(ie(ot)){const En=Y(ot,Pe,Gt)?N(ot,w,_):ot;return V(En,Pe,Gt).each(dn=>{ac(En.element,{scope:xe.from(dn)})}),En}else return ot}))},Vb=(d,h,w)=>wt(d,(_,N)=>Hb(d,N,h,w)?[]:[go(_,h)]),k2=(d,h,w)=>{const _=d[h];return wt(_.cells,(N,V)=>Hb(d,h,V,w)?[]:[N])},pd=(d,h,w,_,N)=>{const V=tr(d).rows,Y=wt(h,ot=>Vb(V,ot,_)),ie=$t(V,ot=>km(ot.cells)),we=zb(Y,ie),Pe=T2(w,ie);return Ev(d,Y,_,N,Gp,Pe,we)},Uf=(d,h,w,_,N,V,Y)=>{const{cols:ie,rows:we}=tr(d),Pe=we[h[0]],ot=wt(h,Kt=>k2(we,Kt,N)),Gt=$t(Pe.cells,(Kt,uo)=>km(Vb(we,uo,N))),En=[...we];Ue(h,Kt=>{En[Kt]=Y.transformRow(we[Kt],w)});const dn=[...ie,...En],to=_2(Pe,Gt),Mt=Sv(_,Gt);return Ev(dn,ot,N,V,Y.transformCell,Mt,to)},Kp=(d,h,w,_)=>{const N=tr(d).rows,V=$t(h,Y=>go(N[Y.row],Y.column));return Ev(d,V,w,_,Gp,xe.none,Ie)},Et=d=>Tt(d,(w,_)=>Qe(w,V=>V.column===_.column)?w:w.concat([_]),[]).sort((w,_)=>w.column-_.column),ol=d=>cg(d,!0),Yp=d=>{gh(d).length===0&&ra(d)},_v=(d,h)=>({grid:d,cursor:h}),Ub=d=>St(d,h=>St(h.cells,w=>{const _=w.element;return Pa(ol(_),_)})),Xd=(d,h,w)=>{var _,N;const V=tr(d).rows;return xe.from((N=(_=V[h])===null||_===void 0?void 0:_.cells[w])===null||N===void 0?void 0:N.element).filter(ol).orThunk(()=>Ub(V))},fc=(d,h,w)=>{const _=Xd(d,h,w);return _v(d,_)},Tv=d=>Tt(d,(w,_)=>Qe(w,V=>V.row===_.row)?w:w.concat([_]),[]).sort((w,_)=>w.row-_.row),EE=(d,h,w,_)=>{const N=h[0].row,V=Tv(h),Y=vo(V,(ie,we)=>({grid:$b(ie.grid,N,we.row+ie.delta,w,_.getOrInit),delta:ie.delta+1}),{grid:d,delta:0}).grid;return fc(Y,N,h[0].column)},Wb=(d,h,w,_)=>{const N=Tv(h),V=N[N.length-1],Y=V.row+V.rowspan,ie=vo(N,(we,Pe)=>$b(we,Y,Pe.row,w,_.getOrInit),d);return fc(ie,Y,h[0].column)},_E=(d,h,w,_)=>{const N=h.details,V=Et(N),Y=V[0].column,ie=vo(V,(we,Pe)=>({grid:Fb(we.grid,Y,Pe.column+we.delta,w,_.getOrInit),delta:we.delta+1}),{grid:d,delta:0}).grid;return fc(ie,N[0].row,Y)},Pg=(d,h,w,_)=>{const N=h.details,V=N[N.length-1],Y=V.column+V.colspan,ie=Et(N),we=vo(ie,(Pe,ot)=>Fb(Pe,Y,ot.column,w,_.getOrInit),d);return fc(we,N[0].row,Y)},A2=(d,h,w,_)=>{const N=Et(h),V=$t(N,ie=>ie.column),Y=pd(d,V,!0,w,_.replaceOrInit);return fc(Y,h[0].row,h[0].column)},Wf=(d,h,w,_)=>{const N=Kp(d,h,w,_.replaceOrInit);return fc(N,h[0].row,h[0].column)},O2=(d,h,w,_)=>{const N=Et(h),V=$t(N,ie=>ie.column),Y=pd(d,V,!1,w,_.replaceOrInit);return fc(Y,h[0].row,h[0].column)},TE=(d,h,w,_)=>{const N=Kp(d,h,w,_.replaceOrInit);return fc(N,h[0].row,h[0].column)},mc=(d,h)=>(w,_,N,V,Y)=>{const ie=Tv(_),we=$t(ie,ot=>ot.row),Pe=Uf(w,we,d,h,N,V.replaceOrInit,Y);return fc(Pe,_[0].row,_[0].column)},Jd=mc("thead",!0),Al=mc("tbody",!1),jb=mc("tfoot",!1),Xp=(d,h,w,_)=>{const N=Et(h.details),V=SE(d,$t(N,ie=>ie.column)),Y=V.length>0?V[0].cells.length-1:0;return fc(V,N[0].row,Math.min(N[0].column,Y))},kE=(d,h,w,_)=>{const N=Tv(h),V=Rg(d,N[0].row,N[N.length-1].row),Y=Math.max(tr(V).rows.length-1,0);return fc(V,Math.min(h[0].row,Y),h[0].column)},AO=(d,h,w,_)=>{const N=h.cells;gE(N);const V=Bm(d,h.bounds,w,_.merge(N));return _v(V,xe.from(N[0]))},D2=(d,h,w,_)=>{const V=vo(h,(Y,ie)=>vE(Y,ie,w,_.unmerge(ie)),d);return _v(V,xe.from(h[0]))},AE=(d,h,w,_)=>{const V=((we,Pe)=>{const ot=ns.fromTable(we);return Mm(ot,Pe,!0)})(h.clipboard,h.generators),Y=Md(h.row,h.column);return ua(Y,d,V,h.generators,w).fold(()=>_v(d,xe.some(h.element)),we=>fc(we,h.row,h.column))},ts=(d,h,w)=>{const _=kr(d,w.section),N=ns.generate(_);return Mm(N,h,!0)},so=(d,h,w,_)=>{const N=tr(d).rows,V=h.cells[0].column,Y=N[h.cells[0].row],ie=ts(h.clipboard,h.generators,Y),we=Ti(V,d,ie,h.generators,w);return fc(we,h.cells[0].row,h.cells[0].column)},kv=(d,h,w,_)=>{const N=tr(d).rows,V=h.cells[h.cells.length-1].column+h.cells[h.cells.length-1].colspan,Y=N[h.cells[0].row],ie=ts(h.clipboard,h.generators,Y),we=Ti(V,d,ie,h.generators,w);return fc(we,h.cells[0].row,V)},Zb=(d,h,w,_)=>{const N=tr(d).rows,V=h.cells[0].row,Y=N[V],ie=ts(h.clipboard,h.generators,Y),we=Ib(V,d,ie,h.generators,w);return fc(we,h.cells[0].row,h.cells[0].column)},R2=(d,h,w,_)=>{const N=tr(d).rows,V=h.cells[h.cells.length-1].row+h.cells[h.cells.length-1].rowspan,Y=N[h.cells[0].row],ie=ts(h.clipboard,h.generators,Y),we=Ib(V,d,ie,h.generators,w);return fc(we,V,h.cells[0].column)},OO=(d,h)=>{const w=ns.fromTable(d);return la(w,h).bind(N=>{const V=N[N.length-1],Y=N[0].column,ie=V.column+V.colspan,we=_o($t(w.all,Pe=>ho(Pe.cells,ot=>ot.column>=Y&&ot.column<ie)));return ib(we)}).getOr("")},M2=(d,h)=>{const w=ns.fromTable(d);return la(w,h).bind(ib).getOr("")},Rr=(d,h)=>{const w=ns.fromTable(d);return la(w,h).bind(N=>{const V=N[N.length-1],Y=N[0].row,ie=V.row+V.rowspan,we=w.all.slice(Y,ie);return mO(we)}).getOr("")},qb=(d,h,w,_)=>vb(d,h,w,_.sizing),Av=(d,h,w,_)=>pb(d,h,w,_.sizing,_.resize),Lg=(d,h)=>Qe(h,w=>w.column===0&&w.isLocked),At=(d,h)=>Qe(h,w=>w.column+w.colspan>=d.grid.columns&&w.isLocked),Gb=(d,h)=>{const w=e2(d),_=Et(h);return Tt(_,(N,V)=>{const ie=w[V.column].map($r).getOr(0);return N+ie},0)},OE=d=>(h,w)=>la(h,w).filter(_=>!(d?Lg:At)(h,_)).map(_=>({details:_,pixelDelta:Gb(h,_)})),Kb=(d,h)=>Vp(d,h).map(w=>({details:w,pixelDelta:-Gb(d,w)})),DE=d=>(h,w)=>ud(h,w).filter(_=>!(d?Lg:At)(h,_.cells)),$m=_l.transform("th"),Ng=_l.transform("td"),Ig=(d,h,w,_)=>Ki(EE,la,ue,ue,_l.modification,d,h,w,_),P2=(d,h,w,_)=>Ki(Wb,la,ue,ue,_l.modification,d,h,w,_),Bg=(d,h,w,_)=>Ki(_E,OE(!0),Av,ue,_l.modification,d,h,w,_),pr=(d,h,w,_)=>Ki(Pg,OE(!1),Av,ue,_l.modification,d,h,w,_),Qd=(d,h,w,_)=>Ki(Xp,Kb,Av,Yp,_l.modification,d,h,w,_),RE=(d,h,w,_)=>Ki(kE,la,ue,Yp,_l.modification,d,h,w,_),Fm=(d,h,w,_)=>Ki(A2,Vp,ue,ue,$m,d,h,w,_),vd=(d,h,w,_)=>Ki(O2,Vp,ue,ue,Ng,d,h,w,_),DO=(d,h,w,_)=>Ki(Jd,la,ue,ue,$m,d,h,w,_),RO=(d,h,w,_)=>Ki(Al,la,ue,ue,Ng,d,h,w,_),L2=(d,h,w,_)=>Ki(jb,la,ue,ue,Ng,d,h,w,_),MO=(d,h,w,_)=>Ki(Wf,Vp,ue,ue,$m,d,h,w,_),PO=(d,h,w,_)=>Ki(TE,Vp,ue,ue,Ng,d,h,w,_),LO=(d,h,w,_)=>Ki(AO,If,qb,ue,_l.merging,d,h,w,_),NO=(d,h,w,_)=>Ki(D2,dv,qb,ue,_l.merging,d,h,w,_),N2=(d,h,w,_)=>Ki(AE,hb,qb,ue,_l.modification,d,h,w,_),un=(d,h,w,_)=>Ki(so,DE(!0),ue,ue,_l.modification,d,h,w,_),ME=(d,h,w,_)=>Ki(kv,DE(!1),ue,ue,_l.modification,d,h,w,_),Ta=(d,h,w,_)=>Ki(Zb,ud,ue,ue,_l.modification,d,h,w,_),PE=(d,h,w,_)=>Ki(R2,ud,ue,ue,_l.modification,d,h,w,_),LE=OO,NE=M2,IO=Rr,Ao=(d,h)=>{const w=h.column,_=h.column+h.colspan-1,N=h.row,V=h.row+h.rowspan-1;return w<=d.finishCol&&_>=d.startCol&&N<=d.finishRow&&V>=d.startRow},I2=(d,h)=>h.column>=d.startCol&&h.column+h.colspan-1<=d.finishCol&&h.row>=d.startRow&&h.row+h.rowspan-1<=d.finishRow,IE=(d,h)=>{let w=!0;const _=Xe(I2,h);for(let N=h.startRow;N<=h.finishRow;N++)for(let V=h.startCol;V<=h.finishCol;V++)w=w&&ns.getAt(d,N,V).exists(_);return w?xe.some(h):xe.none()},oN=(d,h)=>ti(Math.min(d.row,h.row),Math.min(d.column,h.column),Math.max(d.row+d.rowspan-1,h.row+h.rowspan-1),Math.max(d.column+d.colspan-1,h.column+h.colspan-1)),BO=(d,h,w)=>{const _=ns.findItem(d,h,Uo),N=ns.findItem(d,w,Uo);return _.bind(V=>N.map(Y=>oN(V,Y)))},BE=(d,h,w)=>BO(d,h,w).bind(_=>IE(d,_)),sN=(d,h,w,_)=>ns.findItem(d,h,Uo).bind(N=>{const V=w>0?N.row+N.rowspan-1:N.row,Y=_>0?N.column+N.colspan-1:N.column;return ns.getAt(d,V+w,Y+_).map(we=>we.element)}),$O=(d,h,w)=>BO(d,h,w).map(_=>{const N=ns.filterItems(d,Xe(Ao,_));return $t(N,V=>V.element)}),$E=(d,h)=>{const w=(_,N)=>Cs(N,_);return ns.findItem(d,h,w).map(_=>_.element)},B2=(d,h,w)=>xl(d).bind(_=>{const N=nu(_);return sN(N,d,h,w)}),Ro=(d,h,w)=>{const _=nu(d);return $O(_,h,w)},$2=(d,h,w,_,N)=>{const V=nu(d),Y=Uo(d,w)?xe.some(h):$E(V,h),ie=Uo(d,N)?xe.some(_):$E(V,_);return Y.bind(we=>ie.bind(Pe=>$O(V,we,Pe)))},Hm=(d,h,w)=>{const _=nu(d);return BE(_,h,w)},nu=ns.fromTable,Ln={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},hc=()=>Sn.fromTag("th"),Ov=()=>Sn.fromTag("td"),Dv=()=>Sn.fromTag("col"),Yb=(d,h,w,_)=>{const N=Sn.fromTag("tr");for(let V=0;V<d;V++){const Y=_<h||V<w?hc():Ov();V<w&&Si(Y,"scope","row"),_<h&&Si(Y,"scope","col"),Ms(Y,Sn.fromTag("br")),Ms(N,Y)}return N},Jp=d=>{const h=Sn.fromTag("colgroup");return ln(d,()=>Ms(h,Dv())),h},Rv=(d,h,w,_)=>ln(d,N=>Yb(h,w,_,N)),zm=(d,h,w,_,N,V=Ln)=>{const Y=Sn.fromTag("table"),ie=N!=="cells";hr(Y,V.styles),mu(Y,V.attributes),V.colGroups&&Ms(Y,Jp(h));const we=Math.min(d,w);if(ie&&w>0){const dn=Sn.fromTag("thead");Ms(Y,dn);const Mt=Rv(w,h,N==="sectionCells"?we:0,_);Ul(dn,Mt)}const Pe=Sn.fromTag("tbody");Ms(Y,Pe);const ot=ie?d-we:d,En=Rv(ot,h,ie?0:w,_);return Ul(Pe,En),Y},Qa=d=>{let h=[];return{bind:V=>{if(V===void 0)throw new Error("Event bind error: undefined handler");h.push(V)},unbind:V=>{h=ho(h,Y=>Y!==V)},trigger:(...V)=>{const Y={};Ue(d,(ie,we)=>{Y[ie]=V[we]}),Ue(h,ie=>{ie(Y)})}}},jf=d=>{const h=Ht(d,_=>({bind:_.bind,unbind:_.unbind})),w=Ht(d,_=>_.trigger);return{registry:h,trigger:w}},FO=Qt(["compare","extract","mutate","sink"]),Ua=Qt(["element","start","stop","destroy"]),Qp=Qt(["forceDrop","drop","move","delayDrop"]),HO=()=>{let d=xe.none();const h=()=>{d=xe.none()},w=(V,Y)=>{const ie=d.map(we=>V.compare(we,Y));return d=xe.some(Y),ie},_=(V,Y)=>{Y.extract(V).each(we=>{w(Y,we).each(ot=>{N.trigger.move(ot)})})},N=jf({move:Qa(["info"])});return{onEvent:_,reset:h,events:N.registry}},hs=()=>{const d=jf({move:Qa(["info"])});return{onEvent:ue,reset:ue,events:d.registry}},ef=()=>{const d=hs(),h=HO();let w=d;return{on:()=>{w.reset(),w=h},off:()=>{w.reset(),w=d},isOn:()=>w===h,onEvent:(ie,we)=>{w.onEvent(ie,we)},events:h.events}},$g=(d,h,w)=>{let _=!1;const N=jf({start:Qa([]),stop:Qa([])}),V=ef(),Y=()=>{to.stop(),V.isOn()&&(V.off(),N.trigger.stop())},ie=fl(Y,200),we=Kt=>{to.start(Kt),V.on(),N.trigger.start()},Pe=Kt=>{ie.cancel(),V.onEvent(Kt,h)};V.events.move.bind(Kt=>{h.mutate(d,Kt.info)});const ot=()=>{_=!0},Gt=()=>{_=!1},En=()=>_,dn=Kt=>(...uo)=>{_&&Kt.apply(null,uo)},to=h.sink(Qp({forceDrop:Y,drop:dn(Y),move:dn(Pe),delayDrop:dn(ie.throttle)}),w),Mt=()=>{to.destroy()};return{element:to.element,go:we,on:ot,off:Gt,isActive:En,destroy:Mt,events:N.registry}},Fg=Jo("ephox-dragster").resolve,ps=d=>{const h={layerClass:Fg("blocker"),...d},w=Sn.fromTag("div");return Si(w,"role","presentation"),hr(w,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),gu(w,Fg("blocker")),gu(w,h.layerClass),{element:oe(w),destroy:()=>{ra(w)}}};var Mv=FO({compare:(d,h)=>_r(h.left-d.left,h.top-d.top),extract:d=>xe.some(_r(d.x,d.y)),sink:(d,h)=>{const w=ps(h),_=sa(w.element(),"mousedown",d.forceDrop),N=sa(w.element(),"mouseup",d.drop),V=sa(w.element(),"mousemove",d.move),Y=sa(w.element(),"mouseout",d.delayDrop),ie=()=>{w.destroy(),N.unbind(),V.unbind(),Y.unbind(),_.unbind()},we=ot=>{Ms(ot,w.element())},Pe=()=>{ra(w.element())};return Ua({element:w.element,start:we,stop:Pe,destroy:ie})},mutate:(d,h)=>{d.mutate(h.left,h.top)}});const zO=(d,h={})=>{var w;const _=(w=h.mode)!==null&&w!==void 0?w:Mv;return $g(d,_,h)},Xb=Jo("ephox-snooker").resolve,F2=()=>{const d=jf({drag:Qa(["xDelta","yDelta"])});return{mutate:(w,_)=>{d.trigger.drag(w,_)},events:d.registry}},Pv=()=>{const d=jf({drag:Qa(["xDelta","yDelta","target"])});let h=xe.none();const w=F2();return w.events.drag.bind(V=>{h.each(Y=>{d.trigger.drag(V.xDelta,V.yDelta,Y)})}),{assign:V=>{h=xe.some(V)},get:()=>h,mutate:w.mutate,events:d.registry}},HE=(d,h,w,_,N)=>{const V=Sn.fromTag("div");return hr(V,{position:"absolute",left:h-_/2+"px",top:w+"px",height:N+"px",width:_+"px"}),mu(V,{"data-mce-bogus":"all","data-column":d,role:"presentation"}),V},VO=(d,h,w,_,N)=>{const V=Sn.fromTag("div");return hr(V,{position:"absolute",left:h+"px",top:w-N/2+"px",height:N+"px",width:_+"px"}),mu(V,{"data-mce-bogus":"all","data-row":d,role:"presentation"}),V},Lv=Xb("resizer-bar"),H2=Xb("resizer-rows"),z2=Xb("resizer-cols"),zE=7,VE=(d,h)=>wt(d.all,(w,_)=>h(w.element)?[_]:[]),UE=(d,h)=>{const w=[];return ln(d.grid.columns,_=>{ns.getColumnAt(d,_).map(V=>V.element).forall(h)&&w.push(_)}),ho(w,_=>{const N=ns.filterItems(d,V=>V.column===_);return jt(N,V=>h(V.element))})},V2=d=>{const h=nd(d.parent(),"."+Lv);Ue(h,ra)},U2=(d,h,w)=>{const _=d.origin();Ue(h,N=>{N.each(V=>{const Y=w(_,V);gu(Y,Lv),Ms(d.parent(),Y)})})},As=(d,h,w,_)=>{U2(d,h,(N,V)=>{const Y=HE(V.col,V.x-N.left,w.top-N.top,zE,_);return gu(Y,z2),Y})},WE=(d,h,w,_)=>{U2(d,h,(N,V)=>{const Y=VO(V.row,w.left-N.left,V.y-N.top,_,zE);return gu(Y,H2),Y})},Jb=(d,h,w,_,N)=>{const V=os(w),Y=h.isResizable,ie=_.length>0?bu.positions(_,w):[],we=ie.length>0?VE(d,Y):[],Pe=ho(ie,(dn,to)=>Qe(we,Mt=>to===Mt));WE(h,Pe,V,$r(w));const ot=N.length>0?Bc.positions(N,w):[],Gt=ot.length>0?UE(d,Y):[],En=ho(ot,(dn,to)=>Qe(Gt,Mt=>to===Mt));As(h,En,V,X0(w))},W2=(d,h)=>{if(V2(d),d.isResizable(h)){const w=ns.fromTable(h),_=ad(w),N=e2(w);Jb(w,d,h,_,N)}},Su=(d,h)=>{const w=nd(d.parent(),"."+Lv);Ue(w,h)},jE=d=>{Su(d,h=>{aa(h,"display","none")})},j2=d=>{Su(d,h=>{aa(h,"display","block")})},UO=d=>pu(d,H2),Zf=d=>pu(d,z2),WO=Xb("resizer-bar-dragging"),Nv=d=>{const h=Pv(),w=zO(h,{});let _=xe.none();const N=(Mt,Kt)=>xe.from(Xc(Mt,Kt));h.events.drag.bind(Mt=>{N(Mt.target,"data-row").each(Kt=>{const uo=Bi(Mt.target,"top");aa(Mt.target,"top",uo+Mt.yDelta+"px")}),N(Mt.target,"data-column").each(Kt=>{const uo=Bi(Mt.target,"left");aa(Mt.target,"left",uo+Mt.xDelta+"px")})});const V=(Mt,Kt)=>{const uo=Bi(Mt,Kt),$o=Tm(Mt,"data-initial-"+Kt,0);return uo-$o};w.events.stop.bind(()=>{h.get().each(Mt=>{_.each(Kt=>{N(Mt,"data-row").each(uo=>{const $o=V(Mt,"top");Bs(Mt,"data-initial-top"),to.trigger.adjustHeight(Kt,$o,parseInt(uo,10))}),N(Mt,"data-column").each(uo=>{const $o=V(Mt,"left");Bs(Mt,"data-initial-left"),to.trigger.adjustWidth(Kt,$o,parseInt(uo,10))}),W2(d,Kt)})})});const Y=(Mt,Kt)=>{to.trigger.startAdjust(),h.assign(Mt),Si(Mt,"data-initial-"+Kt,Bi(Mt,Kt)),gu(Mt,WO),aa(Mt,"opacity","0.2"),w.go(d.dragContainer())},ie=sa(d.parent(),"mousedown",Mt=>{UO(Mt.target)&&Y(Mt.target,"top"),Zf(Mt.target)&&Y(Mt.target,"left")}),we=Mt=>Uo(Mt,d.view()),Pe=Mt=>li(Mt,"table",we).filter(cg),ot=Mt=>pu(Mt,"ephox-snooker-resizer-bar")||pu(Mt,"ephox-dragster-blocker"),Gt=sa(d.view(),"mouseover",Mt=>{Pe(Mt.target).fold(()=>{lo(Mt.target)&&!ot(Mt.target)&&V2(d)},Kt=>{w.isActive()&&(_=xe.some(Kt),W2(d,Kt))})}),En=()=>{ie.unbind(),Gt.unbind(),w.destroy(),V2(d)},dn=Mt=>{W2(d,Mt)},to=jf({adjustHeight:Qa(["table","delta","row"]),adjustWidth:Qa(["table","delta","column"]),startAdjust:Qa([])});return{destroy:En,refresh:dn,on:w.on,off:w.off,hideBars:Xe(jE,d),showBars:Xe(j2,d),events:to.registry}},jO={create:(d,h,w)=>{const _=bu,N=Bc,V=Nv(d),Y=jf({beforeResize:Qa(["table","type"]),afterResize:Qa(["table","type"]),startDrag:Qa([])});return V.events.adjustHeight.bind(ie=>{const we=ie.table;Y.trigger.beforeResize(we,"row");const Pe=_.delta(ie.delta,we);d2(we,Pe,ie.row),Y.trigger.afterResize(we,"row")}),V.events.startAdjust.bind(ie=>{Y.trigger.startDrag()}),V.events.adjustWidth.bind(ie=>{const we=ie.table;Y.trigger.beforeResize(we,"col");const Pe=N.delta(ie.delta,we),ot=w(we);Eg(we,Pe,ie.column,h,ot),Y.trigger.afterResize(we,"col")}),{on:V.on,off:V.off,refreshBars:V.refresh,hideBars:V.hideBars,showBars:V.showBars,destroy:V.destroy,events:Y.registry}}},Dh=d=>h=>h.options.get(d),Qb="100%",ZE=d=>{var h;const w=d.dom,_=(h=w.getParent(d.selection.getStart(),w.isBlock))!==null&&h!==void 0?h:d.getBody();return xa(Sn.fromDom(_))+"px"},ZO=(d,h)=>zv(d)||!ty(d)?h:Vm(d)?{...h,width:ZE(d)}:{...h,width:Qb},qE=(d,h)=>zv(d)||ty(d)?h:Vm(d)?{...h,width:ZE(d)}:{...h,width:Qb},uN=d=>{const h=d.options.register;h("table_clone_elements",{processor:"string[]"}),h("table_use_colgroups",{processor:"boolean",default:!0}),h("table_header_type",{processor:w=>{const _=Hn(["section","cells","sectionCells","auto"],w);return _?{value:w,valid:_}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),h("table_sizing_mode",{processor:"string",default:"auto"}),h("table_default_attributes",{processor:"object",default:{border:"1"}}),h("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),h("table_column_resizing",{processor:w=>{const _=Hn(["preservetable","resizetable"],w);return _?{value:w,valid:_}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),h("table_resize_bars",{processor:"boolean",default:!0}),h("table_style_by_css",{processor:"boolean",default:!0}),h("table_merge_content_on_paste",{processor:"boolean",default:!0})},GE=d=>xe.from(d.options.get("table_clone_elements")),KE=d=>{const h=d.options.get("object_resizing");return Hn(h.split(","),"table")},Bv=Dh("table_header_type"),$v=Dh("table_column_resizing"),Fv=d=>$v(d)==="preservetable",Hg=d=>$v(d)==="resizetable",ey=Dh("table_sizing_mode"),Hv=d=>ey(d)==="relative",Vm=d=>ey(d)==="fixed",zv=d=>ey(d)==="responsive",Z2=Dh("table_resize_bars"),ty=Dh("table_style_by_css"),YE=Dh("table_merge_content_on_paste"),XE=d=>{const h=d.options,w=h.get("table_default_attributes");return h.isSet("table_default_attributes")?w:qE(d,w)},JE=d=>{const h=d.options,w=h.get("table_default_styles");return h.isSet("table_default_styles")?w:ZO(d,w)},qO=Dh("table_use_colgroups"),ny=d=>Sn.fromDom(d.getBody()),e1=d=>h=>Uo(h,ny(d)),zg=d=>{Bs(d,"data-mce-style");const h=w=>Bs(w,"data-mce-style");Ue(gh(d),h),Ue(sb(d),h),Ue(rb(d),h)},Vg=d=>Sn.fromDom(d.selection.getStart()),QE=d=>d.getBoundingClientRect().width,e_=d=>d.getBoundingClientRect().height,t_=d=>(h,w)=>{const _=h.dom.getStyle(w,d)||h.dom.getAttrib(w,d);return xe.from(_).filter(ii)},oy=t_("width"),n_=t_("height"),GO=d=>/^(\d+(\.\d+)?)%$/.test(d),o_=d=>/^(\d+(\.\d+)?)px$/.test(d),sy=d=>J1(d,oa("table")).exists(cg),q2=d=>Mc(d,"table"),ry=(d,h,w)=>{const _=N=>V=>w!==void 0&&w(V)||Uo(V,N);return Uo(d,h)?xe.some({boxes:xe.some([d]),start:d,finish:h}):q2(d).bind(N=>q2(h).bind(V=>{if(Uo(N,V))return xe.some({boxes:Ro(N,d,h),start:d,finish:h});if(Cs(N,V)){const Y=Fs(h,"td,th",_(N)),ie=Y.length>0?Y[Y.length-1]:h;return xe.some({boxes:$2(N,d,N,h,V),start:d,finish:ie})}else if(Cs(V,N)){const Y=Fs(d,"td,th",_(V)),ie=Y.length>0?Y[Y.length-1]:d;return xe.some({boxes:$2(V,d,N,h,V),start:d,finish:ie})}else return dc(d,h).shared.bind(Y=>li(Y,"table",w).bind(ie=>{const we=Fs(h,"td,th",_(ie)),Pe=we.length>0?we[we.length-1]:h,ot=Fs(d,"td,th",_(ie)),Gt=ot.length>0?ot[ot.length-1]:d;return xe.some({boxes:$2(ie,d,N,h,V),start:Gt,finish:Pe})}))}))},G2=(d,h)=>{const w=nd(d,h);return w.length>0?xe.some(w):xe.none()},KO=(d,h)=>K(d,w=>Rt(w,h)),K2=(d,h,w)=>Hd(d,h).bind(_=>Hd(d,w).bind(N=>Ps(q2,[_,N]).map(V=>({first:_,last:N,table:V})))),s_=(d,h)=>Mc(d,"table").bind(w=>Hd(w,h).bind(_=>ry(_,d).bind(N=>N.boxes.map(V=>({boxes:V,start:N.start,finish:N.finish}))))),r_=(d,h,w,_,N)=>KO(d,N).bind(V=>B2(V,h,w).bind(Y=>s_(Y,_))),Vv=(d,h)=>G2(d,h),YO=(d,h,w)=>K2(d,h,w).bind(_=>{const N=we=>Uo(d,we),V="thead,tfoot,tbody,table",Y=Mc(_.first,V,N),ie=Mc(_.last,V,N);return Y.bind(we=>ie.bind(Pe=>Uo(we,Pe)?Hm(_.table,_.first,_.last):xe.none()))}),Y2=Oe,X2=d=>{const h=(_,N)=>Na(_,N).exists(V=>parseInt(V,10)>1),w=_=>h(_,"rowspan")||h(_,"colspan");return d.length>0&&jt(d,w)?xe.some(d):xe.none()},XO=(d,h,w)=>h.length<=1?xe.none():YO(d,w.firstSelectedSelector,w.lastSelectedSelector).map(_=>({bounds:_,cells:h})),Ug={create:(d,h)=>({selection:d,kill:h})},i_=(d,h,w,_)=>{switch(d.tag){case"none":return h();case"single":return _(d.element);case"multiple":return w(d.elements)}},a_=()=>({tag:"none"}),QO=d=>({tag:"multiple",elements:d}),e4=d=>({tag:"single",element:d}),t4=(d,h,w)=>({get:()=>Vv(d(),w).fold(()=>h().fold(a_,e4),QO)}),Uv={create:(d,h,w,_)=>({start:di.on(d,h),finish:di.on(w,_)})},J2=(d,h)=>{const w=pn(d,h);return zd.create(Sn.fromDom(w.startContainer),w.startOffset,Sn.fromDom(w.endContainer),w.endOffset)},Wv=Uv.create,c_=(d,h,w,_,N,V,Y)=>Uo(w,N)&&_===V?xe.none():li(w,"td,th",h).bind(ie=>li(N,"td,th",h).bind(we=>jv(d,h,ie,we,Y))),jv=(d,h,w,_,N)=>Uo(w,_)?xe.none():ry(w,_,h).bind(V=>{const Y=V.boxes.getOr([]);return Y.length>1?(N(d,Y,V.start,V.finish),xe.some(Ug.create(xe.some(Wv(w,0,w,od(w))),!0))):xe.none()}),n4=(d,h,w,_,N)=>{const V=Y=>(N.clearBeforeUpdate(w),N.selectRange(w,Y.boxes,Y.start,Y.finish),Y.boxes);return r_(_,d,h,N.firstSelectedSelector,N.lastSelectedSelector).map(V)},ay=tt.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),o4=(d,h,w)=>{const _=d.getRect(h),N=d.getRect(w);return N.right>_.left&&N.left<_.right},l_=d=>li(d,"tr"),Wg={...ay,verify:(d,h,w,_,N,V,Y)=>li(_,"td,th",Y).bind(ie=>li(h,"td,th",Y).map(we=>Uo(ie,we)?Uo(_,ie)&&od(ie)===N?V(we):ay.none("in same cell"):Ps(l_,[ie,we]).fold(()=>o4(d,we,ie)?ay.success():V(we),Pe=>V(we)))).getOr(ay.none("default")),cata:(d,h,w,_,N)=>d.fold(h,w,_,N)},cy=oa("br"),ly=(d,h,w)=>h(d,w).bind(_=>du(_)&&td(_).trim().length===0?ly(_,h,w):xe.some(_)),u_=(d,h,w)=>w.traverse(h).orThunk(()=>ly(h,w.gather,d)).map(w.relative),r4=(d,h)=>Me(d,h).filter(cy).orThunk(()=>Me(d,h-1).filter(cy)),uy=(d,h,w,_)=>r4(h,w).bind(N=>_.traverse(N).fold(()=>ly(N,_.gather,d).map(_.relative),V=>Mf(V).map(Y=>di.on(Y.parent,Y.index)))),d_=(d,h,w,_)=>(cy(h)?u_(d,h,_):uy(d,h,w,_)).map(V=>({start:V,finish:V})),f_=d=>Wg.cata(d,h=>xe.none(),()=>xe.none(),h=>xe.some(Eh(h,0)),h=>xe.some(Eh(h,od(h)))),dy=(d,h)=>({left:d.left,top:d.top+h,right:d.right,bottom:d.bottom+h}),qf=(d,h)=>({left:d.left,top:d.top-h,right:d.right,bottom:d.bottom-h}),m_=(d,h,w)=>({left:d.left+h,top:d.top+w,right:d.right+h,bottom:d.bottom+w}),i4=d=>d.top,a4=d=>d.bottom,c4=(d,h,w)=>w>=0&&w<od(h)?d.getRangedRect(h,w,h,w+1):w>0?d.getRangedRect(h,w-1,h,w):xe.none(),t1=d=>({left:d.left,top:d.top,right:d.right,bottom:d.bottom}),h_=(d,h)=>xe.some(d.getRect(h)),Q2=(d,h,w)=>cr(h)?h_(d,h).map(t1):du(h)?c4(d,h,w).map(t1):xe.none(),fy=(d,h)=>cr(h)?h_(d,h).map(t1):du(h)?d.getRangedRect(h,0,h,od(h)).map(t1):xe.none(),tf=5,Zv=100,Gf=tt.generate([{none:[]},{retry:["caret"]}]),eC=(d,h)=>d.left<h.left||Math.abs(h.right-d.left)<1||d.left>h.right,g_=(d,h,w)=>J1(h,Mb).fold(Je,_=>fy(d,_).exists(N=>eC(w,N))),p_=(d,h,w,_,N)=>{const V=dy(N,tf);return Math.abs(w.bottom-_.bottom)<1||w.top>N.bottom?Gf.retry(V):w.top===N.bottom?Gf.retry(dy(N,1)):g_(d,h,N)?Gf.retry(m_(V,tf,0)):Gf.none()},v_={point:i4,adjuster:(d,h,w,_,N)=>{const V=qf(N,tf);return Math.abs(w.top-_.top)<1||w.bottom<N.top?Gf.retry(V):w.bottom===N.top?Gf.retry(qf(N,1)):g_(d,h,N)?Gf.retry(m_(V,tf,0)):Gf.none()},move:qf,gather:Ob},u4={point:a4,adjuster:p_,move:dy,gather:Hf},d4=(d,h,w)=>d.elementFromPoint(h,w).filter(_=>Xs(_)==="table").isSome(),f4=(d,h,w,_,N)=>n1(d,h,w,h.move(_,tf),N),n1=(d,h,w,_,N)=>N===0?xe.some(_):d4(d,_.left,h.point(_))?f4(d,h,w,_,N-1):d.situsFromPoint(_.left,h.point(_)).bind(V=>V.start.fold(xe.none,Y=>fy(d,Y).bind(ie=>h.adjuster(d,Y,ie,w,_).fold(xe.none,we=>n1(d,h,w,we,N-1))).orThunk(()=>xe.some(_)),xe.none)),qv=(d,h,w)=>d.point(h)>w.getInnerHeight()?xe.some(d.point(h)-w.getInnerHeight()):d.point(h)<0?xe.some(-d.point(h)):xe.none(),b_=(d,h,w)=>{const _=d.move(w,tf),N=n1(h,d,w,_,Zv).getOr(_);return qv(d,N,h).fold(()=>h.situsFromPoint(N.left,d.point(N)),V=>(h.scrollBy(0,V),h.situsFromPoint(N.left,d.point(N)-V)))},Kf={tryUp:Xe(b_,v_),tryDown:Xe(b_,u4),getJumpSize:oe(tf)},Yf=20,tC=(d,h,w)=>d.getSelection().bind(_=>d_(h,_.finish,_.foffset,w).fold(()=>xe.some(Eh(_.finish,_.foffset)),N=>{const V=d.fromSitus(N),Y=Wg.verify(d,_.finish,_.foffset,V.finish,V.foffset,w.failure,h);return f_(Y)})),my=(d,h,w,_,N,V)=>V===0?xe.none():Rh(d,h,w,_,N).bind(Y=>{const ie=d.fromSitus(Y),we=Wg.verify(d,w,_,ie.finish,ie.foffset,N.failure,h);return Wg.cata(we,()=>xe.none(),()=>xe.some(Y),Pe=>Uo(w,Pe)&&_===0?y_(d,w,_,qf,N):my(d,h,Pe,0,N,V-1),Pe=>Uo(w,Pe)&&_===od(Pe)?y_(d,w,_,dy,N):my(d,h,Pe,od(Pe),N,V-1))}),y_=(d,h,w,_,N)=>Q2(d,h,w).bind(V=>Jn(d,N,_(V,Kf.getJumpSize()))),Jn=(d,h,w)=>{const _=xi().browser;return _.isChromium()||_.isSafari()||_.isFirefox()?h.retry(d,w):xe.none()},Rh=(d,h,w,_,N)=>Q2(d,w,_).bind(V=>Jn(d,N,V)),o1=(d,h,w)=>tC(d,h,w).bind(_=>my(d,h,_.element,_.offset,w,Yf).map(d.fromSitus)),nC=(d,h)=>eb(d,w=>Ee(w).exists(_=>Uo(_,h))),hy=(d,h,w,_,N)=>li(_,"td,th",h).bind(V=>li(V,"table",h).bind(Y=>nC(N,Y)?o1(d,h,w).bind(ie=>li(ie.finish,"td,th",h).map(we=>({start:V,finish:we,range:ie}))):xe.none())),Um=(d,h,w,_,N,V)=>V(_,h).orThunk(()=>hy(d,h,w,_,N).map(Y=>{const ie=Y.range;return Ug.create(xe.some(Wv(ie.start,ie.soffset,ie.finish,ie.foffset)),!0)})),s1=(d,h)=>li(d,"tr",h).bind(w=>li(w,"table",h).bind(_=>{const N=nd(_,"tr");return Uo(w,N[0])?zc(_,V=>ui(V).isSome(),h).map(V=>{const Y=od(V);return Ug.create(xe.some(Wv(V,Y,V,Y)),!0)}):xe.none()})),Gv=(d,h)=>li(d,"tr",h).bind(w=>li(w,"table",h).bind(_=>{const N=nd(_,"tr");return Uo(w,N[N.length-1])?Tl(_,V=>fh(V).isSome(),h).map(V=>Ug.create(xe.some(Wv(V,0,V,0)),!0)):xe.none()})),Mh=(d,h,w,_,N,V,Y)=>hy(d,w,_,N,V).bind(ie=>jv(h,w,ie.start,ie.finish,Y)),r1=(d,h)=>li(d,"td,th",h),oC=d=>ya(d).exists(cg),nf=(d,h,w,_)=>{const N=ri(),V=N.clear,Y=ot=>{N.on(Gt=>{_.clearBeforeUpdate(h),r1(ot.target,w).each(En=>{ry(Gt,En,w).each(dn=>{const to=dn.boxes.getOr([]);if(to.length===1){const Mt=to[0],Kt=lg(Mt)==="false",uo=jn(dh(ot.target),Mt,Uo);Kt&&uo&&_.selectRange(h,to,Mt,Mt)}else to.length>1&&(_.selectRange(h,to,dn.start,dn.finish),d.selectContents(En))})})})};return{clearstate:V,mousedown:ot=>{_.clear(h),r1(ot.target,w).filter(oC).each(N.set)},mouseover:ot=>{Y(ot)},mouseup:ot=>{Y(ot),V()}}},sC={traverse:Ju,gather:Hf,relative:di.before,retry:Kf.tryDown,failure:Wg.failedDown},gy={traverse:rg,gather:Ob,relative:di.before,retry:Kf.tryUp,failure:Wg.failedUp},of=d=>h=>h===d,Xf=of(38),Ph=of(40),jg=d=>d>=37&&d<=40,Jf={isBackward:of(37),isForward:of(39)},rC={isBackward:of(39),isForward:of(37)},Kv=d=>({elementFromPoint:(Kt,uo)=>Sn.fromPoint(Sn.fromDom(d.document),Kt,uo),getRect:Kt=>Kt.dom.getBoundingClientRect(),getRangedRect:(Kt,uo,$o,Bn)=>{const Hs=I.exact(Kt,uo,$o,Bn);return hh(d,Hs)},getSelection:()=>_m(d).map(Kt=>J2(d,Kt)),fromSitus:Kt=>{const uo=I.relative(Kt.start,Kt.finish);return J2(d,uo)},situsFromPoint:(Kt,uo)=>Op(d,Kt,uo).map($o=>Uv.create($o.start,$o.soffset,$o.finish,$o.foffset)),clearSelection:()=>{Dp(d)},collapseSelection:(Kt=!1)=>{_m(d).each(uo=>uo.fold($o=>$o.collapse(Kt),($o,Bn)=>{const Hs=Kt?$o:Bn;Ud(d,Hs,Hs)},($o,Bn,Hs,zs)=>{const Wo=Kt?$o:Hs,ki=Kt?Bn:zs;Vd(d,Wo,ki,Wo,ki)}))},setSelection:Kt=>{Vd(d,Kt.start,Kt.soffset,Kt.finish,Kt.foffset)},setRelativeSelection:(Kt,uo)=>{Ud(d,Kt,uo)},selectNode:Kt=>{mh(d,Kt,!1)},selectContents:Kt=>{mh(d,Kt)},getInnerHeight:()=>d.innerHeight,getScrollY:()=>or(Sn.fromDom(d.document)).top,scrollBy:(Kt,uo)=>{Rc(Kt,uo,Sn.fromDom(d.document))}}),sf=(d,h)=>({rows:d,cols:h}),rf=(d,h,w,_)=>{const N=Kv(d),V=nf(N,h,w,_);return{clearstate:V.clearstate,mousedown:V.mousedown,mouseover:V.mouseover,mouseup:V.mouseup}},w_=d=>J1(d,og).exists(cg),iC=(d,h)=>w_(d)||w_(h),aC=(d,h,w,_)=>{const N=Kv(d),V=()=>(_.clear(h),xe.none());return{keydown:(we,Pe,ot,Gt,En,dn)=>{const to=we.raw,Mt=to.which,Kt=to.shiftKey===!0;return G2(h,_.selectedSelector).fold(()=>(jg(Mt)&&!Kt&&_.clearBeforeUpdate(h),jg(Mt)&&Kt&&!iC(Pe,Gt)?xe.none:Ph(Mt)&&Kt?Xe(Mh,N,h,w,sC,Gt,Pe,_.selectRange):Xf(Mt)&&Kt?Xe(Mh,N,h,w,gy,Gt,Pe,_.selectRange):Ph(Mt)?Xe(Um,N,w,sC,Gt,Pe,Gv):Xf(Mt)?Xe(Um,N,w,gy,Gt,Pe,s1):xe.none),$o=>{const Bn=Hs=>()=>St(Hs,Wo=>n4(Wo.rows,Wo.cols,h,$o,_)).fold(()=>K2(h,_.firstSelectedSelector,_.lastSelectedSelector).map(Wo=>{const ki=Ph(Mt)||dn.isForward(Mt)?di.after:di.before;return N.setRelativeSelection(di.on(Wo.first,0),ki(Wo.table)),_.clear(h),Ug.create(xe.none(),!0)}),Wo=>xe.some(Ug.create(xe.none(),!0)));return jg(Mt)&&Kt&&!iC(Pe,Gt)?xe.none:Ph(Mt)&&Kt?Bn([sf(1,0)]):Xf(Mt)&&Kt?Bn([sf(-1,0)]):dn.isBackward(Mt)&&Kt?Bn([sf(0,-1),sf(-1,0)]):dn.isForward(Mt)&&Kt?Bn([sf(0,1),sf(1,0)]):jg(Mt)&&!Kt?V:xe.none})()},keyup:(we,Pe,ot,Gt,En)=>G2(h,_.selectedSelector).fold(()=>{const dn=we.raw,to=dn.which;return dn.shiftKey===!0&&jg(to)&&iC(Pe,Gt)?c_(h,w,Pe,ot,Gt,En,_.selectRange):xe.none()},xe.none)}},cC=(d,h,w,_)=>{const N=Kv(d);return(V,Y)=>{_.clearBeforeUpdate(h),ry(V,Y,w).each(ie=>{const we=ie.boxes.getOr([]);_.selectRange(h,we,ie.start,ie.finish),N.selectContents(Y),N.collapseSelection()})}},m4={byClass:d=>{const h=tv(d.selected),w=Q0([d.selected,d.lastSelected,d.firstSelected]),_=V=>{const Y=nd(V,d.selectedSelector);Ue(Y,w)};return{clearBeforeUpdate:_,clear:_,selectRange:(V,Y,ie,we)=>{_(V),Ue(Y,h),gu(ie,d.firstSelected),gu(we,d.lastSelected)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}},byAttr:(d,h,w)=>{const _=we=>{Bs(we,d.selected),Bs(we,d.firstSelected),Bs(we,d.lastSelected)},N=we=>{Si(we,d.selected,"1")},V=we=>{Y(we),w()},Y=we=>{const Pe=nd(we,`${d.selectedSelector},${d.firstSelectedSelector},${d.lastSelectedSelector}`);Ue(Pe,_)};return{clearBeforeUpdate:Y,clear:V,selectRange:(we,Pe,ot,Gt)=>{V(we),Ue(Pe,N),Si(ot,d.firstSelected,"1"),Si(Gt,d.lastSelected,"1"),h(Pe,ot,Gt)},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}}},gc="data-mce-selected",Zg="td["+gc+"],th["+gc+"]",lC="["+gc+"]",Lh="data-mce-first-selected",pc="td["+Lh+"],th["+Lh+"]",Vc="data-mce-last-selected",vc="td["+Vc+"],th["+Vc+"]",bd=lC,Wm={selected:gc,selectedSelector:Zg,firstSelected:Lh,firstSelectedSelector:pc,lastSelected:Vc,lastSelectedSelector:vc},sl=(d,h,w)=>({element:w,mergable:XO(h,d,Wm),unmergable:X2(d),selection:Y2(d)}),Qf=(d,h,w)=>({element:d,clipboard:h,generators:w}),x_=(d,h,w,_)=>({selection:Y2(d),clipboard:w,generators:_}),mN=d=>xl(d).bind(h=>Vv(h,Wm.firstSelectedSelector)).fold(oe(d),h=>h[0]),S_=d=>(h,w)=>{const _=Xs(h),N=_==="col"||_==="colgroup"?mN(h):h;return li(N,d,w)},Mo=S_("th,td,caption"),py=S_("th,td"),Eu=d=>Zi(d.model.table.getSelectedCells()),E_=d=>ho(Eu(d),h=>Rt(h,Wm.selectedSelector)),h4=d=>xl(d[0]).map(h=>{const w=yb(h,bd);return zg(w),[w]}),g4=(d,h)=>$t(h,w=>d.selection.serializer.serialize(w.dom,{})).join(""),p4=(d,h)=>{const w=d.getDoc(),_=eo(Sn.fromDom(d.getBody())),N=Sn.fromTag("div",w);Si(N,"data-mce-bogus","all"),hr(N,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const V=co(_);Ul(N,h),Ms(V,N);const Y=N.dom.innerText;return ra(N),Y},__=(d,h)=>{d.on("BeforeGetContent",w=>{const _=N=>{w.preventDefault(),h4(N).each(V=>{const Y=w.format==="text"?p4(d,V):g4(d,V);w.content=Y})};if(w.selection===!0){const N=E_(d);N.length>=1&&_(N)}}),d.on("BeforeSetContent",w=>{if(w.selection===!0&&w.paste===!0){const _=Eu(d);Re(_).each(N=>{xl(N).each(V=>{const Y=ho(xp(w.content),we=>Xs(we)!=="meta"),ie=oa("table");if(YE(d)&&Y.length===1&&ie(Y[0])){w.preventDefault();const we=Sn.fromDom(d.getDoc()),Pe=C2(we),ot=Qf(N,Y[0],Pe);h.pasteCells(V,ot).each(()=>{d.focus()})}})})}})},uC=(d,h)=>d.dispatch("NewRow",{node:h}),Yv=(d,h)=>d.dispatch("NewCell",{node:h}),_u=(d,h,w)=>{d.dispatch("TableModified",{...w,table:h})},qg=(d,h,w,_,N)=>{d.dispatch("TableSelectionChange",{cells:h,start:w,finish:_,otherCells:N})},v4=d=>{d.dispatch("TableSelectionClear")},vy=(d,h,w,_,N)=>{d.dispatch("ObjectResizeStart",{target:h,width:w,height:_,origin:N})},b4=(d,h,w,_,N)=>{d.dispatch("ObjectResized",{target:h,width:w,height:_,origin:N})},by={structure:!1,style:!0},ka={structure:!0,style:!1},y4={structure:!0,style:!0},Ol=(d,h)=>Hv(d)?wh.percentageSize(h):Vm(d)?wh.pixelSize(h):wh.getTableSize(h),hN=(d,h,w)=>{const _=zi=>Xs(ny(zi))==="table",N=zi=>!_(d)||Ah(zi).rows>1,V=zi=>!_(d)||Ah(zi).columns>1,Y=GE(d),ie=Hg(d)?ue:bb,we=zi=>{switch(Bv(d)){case"section":return Nf.section();case"sectionCells":return Nf.sectionCells();case"cells":return Nf.cells();default:return Nf.getTableSectionType(zi,"section")}},Pe=(zi,c1)=>c1.cursor.fold(()=>{const e0=gh(zi);return Re(e0).filter(lo).map(qm=>{w.clearSelectedCells(zi.dom);const Cc=d.dom.createRng();return Cc.selectNode(qm.dom),d.selection.setRng(Cc),Si(qm,"data-mce-selected","1"),Cc})},e0=>{const qm=Ab(e0),Cc=d.dom.createRng();return Cc.setStart(qm.element.dom,qm.offset),Cc.setEnd(qm.element.dom,qm.offset),d.selection.setRng(Cc),w.clearSelectedCells(zi.dom),xe.some(Cc)}),ot=(zi,c1,e0,qm)=>(Cc,E4,M_=!1)=>{zg(Cc);const Kn=Sn.fromDom(d.getDoc()),ku=wv(e0,Kn,Y),_4={sizing:Ol(d,Cc),resize:Hg(d)?Pp():LS(),section:we(Cc)};return c1(Cc)?zi(Cc,E4,ku,_4).bind(_y=>{h.refresh(Cc.dom),Ue(_y.newRows,tm=>{uC(d,tm.dom)}),Ue(_y.newCells,tm=>{Yv(d,tm.dom)});const P_=Pe(Cc,_y);return lo(Cc)&&(zg(Cc),M_||_u(d,Cc.dom,qm)),P_.map(tm=>({rng:tm,effect:qm}))}):xe.none()},Gt=ot(RE,N,ue,ka),En=ot(Qd,V,ue,ka),dn=ot(Ig,Ie,ue,ka),to=ot(P2,Ie,ue,ka),Mt=ot(Bg,Ie,ie,ka),Kt=ot(pr,Ie,ie,ka),uo=ot(LO,Ie,ue,ka),$o=ot(NO,Ie,ue,ka),Bn=ot(un,Ie,ue,ka),Hs=ot(ME,Ie,ue,ka),zs=ot(Ta,Ie,ue,ka),Wo=ot(PE,Ie,ue,ka),ki=ot(N2,Ie,ue,y4),ou=ot(MO,Ie,ue,ka),em=ot(PO,Ie,ue,ka),Ih=ot(Fm,Ie,ue,ka),Kg=ot(vd,Ie,ue,ka),Js=ot(DO,Ie,ue,ka),bc=ot(RO,Ie,ue,ka),yc=ot(L2,Ie,ue,ka);return{deleteRow:Gt,deleteColumn:En,insertRowsBefore:dn,insertRowsAfter:to,insertColumnsBefore:Mt,insertColumnsAfter:Kt,mergeCells:uo,unmergeCells:$o,pasteColsBefore:Bn,pasteColsAfter:Hs,pasteRowsBefore:zs,pasteRowsAfter:Wo,pasteCells:ki,makeCellsHeader:ou,unmakeCellsHeader:em,makeColumnsHeader:Ih,unmakeColumnsHeader:Kg,makeRowsHeader:Js,makeRowsBody:bc,makeRowsFooter:yc,getTableRowType:IO,getTableCellType:NE,getTableColType:LE}},yy=(d,h)=>{d.selection.select(h.dom,!0),d.selection.collapse(!0)},Gg=(d,h)=>{Hd(h,"td,th").each(Xe(yy,d))},dC=(d,h)=>{Ue(nd(h,"tr"),w=>{uC(d,w.dom),Ue(nd(w,"th,td"),_=>{Yv(d,_.dom)})})},fC=d=>P(d)&&d.indexOf("%")!==-1,mC=(d,h,w,_,N)=>{const V=JE(d),Y={styles:V,attributes:XE(d),colGroups:qO(d)};return d.undoManager.ignore(()=>{const ie=zm(w,h,N,_,Bv(d),Y);Si(ie,"data-mce-id","__mce");const we=Y0(ie);d.insertContent(we),d.addVisual()}),Hd(ny(d),'table[data-mce-id="__mce"]').map(ie=>(Vm(d)?v2(ie):zv(d)?qp(ie):(Hv(d)||fC(V.width))&&Th(ie),zg(ie),Bs(ie,"data-mce-id"),dC(d,ie),Gg(d,ie),ie.dom)).getOrNull()},w4=(d,h,w,_={})=>{const N=V=>ve(V)&&V>0;if(N(h)&&N(w)){const V=_.headerRows||0,Y=_.headerColumns||0;return mC(d,w,h,Y,V)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var wy=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const T_="x-tinymce/dom-table-",Cy=T_+"rows",Nh=T_+"columns",i1=d=>{const h=wy.FakeClipboardItem(d);wy.write([h])},hC=d=>{var h;const w=(h=wy.read())!==null&&h!==void 0?h:[];return St(w,_=>xe.from(_.getType(d)))},k_=d=>{hC(d).isSome()&&wy.clear()},jm=d=>{d.fold(gC,h=>i1({[Cy]:h}))},xy=()=>hC(Cy),gC=()=>k_(Cy),Sy=d=>{d.fold(pC,h=>i1({[Nh]:h}))},Xv=()=>hC(Nh),pC=()=>k_(Nh),Jv=d=>Mo(Vg(d),e1(d)).filter(sy),vC=d=>py(Vg(d),e1(d)).filter(sy),C4=(d,h)=>{const w=e1(d),_=()=>Jv(d).each(Kt=>{xl(Kt,w).filter(k(w)).each(uo=>{const $o=Sn.fromText("");if(fu(uo,$o),ra(uo),d.dom.isEmpty(d.getBody()))d.setContent(""),d.selection.setCursorLocation();else{const Bn=d.dom.createRng();Bn.setStart($o.dom,0),Bn.setEnd($o.dom,0),d.selection.setRng(Bn),d.nodeChanged()}})}),N=Kt=>Jv(d).each(uo=>{zv(d)||Vm(d)||Hv(d)||xl(uo,w).each(Bn=>{Kt==="relative"&&!lE(Bn)?Th(Bn):Kt==="fixed"&&!hd(Bn)?v2(Bn):Kt==="responsive"&&!Ja(Bn)&&qp(Bn),zg(Bn),_u(d,Bn.dom,ka)})}),V=Kt=>xl(Kt,w),Y=Kt=>vC(d).bind(uo=>V(uo).map($o=>Kt($o,uo))),ie=(Kt,uo)=>{Y($o=>{d.formatter.toggle("tableclass",{value:uo},$o.dom),_u(d,$o.dom,by)})},we=(Kt,uo)=>{Y($o=>{const Bn=Eu(d),zs=jt(Bn,Wo=>d.formatter.match("tablecellclass",{value:uo},Wo.dom))?d.formatter.remove:d.formatter.apply;Ue(Bn,Wo=>zs("tablecellclass",{value:uo},Wo.dom)),_u(d,$o.dom,by)})},Pe=()=>{Jv(d).each(Kt=>{xl(Kt,w).each(uo=>{Qr(uo,"caption").fold(()=>{const $o=Sn.fromTag("caption");Ms($o,Sn.fromText("Caption")),$w(uo,$o,0),d.selection.setCursorLocation($o.dom,0)},$o=>{oa("caption")(Kt)&&es("td",uo).each(Bn=>d.selection.setCursorLocation(Bn.dom,0)),ra($o)}),_u(d,uo.dom,ka)})})},ot=Kt=>{d.focus()},Gt=(Kt,uo=!1)=>Y(($o,Bn)=>{const Hs=sl(Eu(d),$o,Bn);Kt($o,Hs,uo).each(ot)}),En=()=>Y((Kt,uo)=>{const $o=sl(Eu(d),Kt,uo),Bn=wv(ue,Sn.fromDom(d.getDoc()),xe.none());return Lm(Kt,$o,Bn)}),dn=()=>Y((Kt,uo)=>{const $o=sl(Eu(d),Kt,uo);return Zd(Kt,$o)}),to=(Kt,uo)=>uo().each($o=>{const Bn=$t($o,Hs=>ji(Hs));Y((Hs,zs)=>{const Wo=C2(Sn.fromDom(d.getDoc())),ki=x_(Eu(d),zs,Bn,Wo);Kt(Hs,ki).each(ot)})}),Mt=Kt=>(uo,$o)=>Zo($o,"type").each(Bn=>{Gt(Kt(Bn),$o.no_events)});Dt({mceTableSplitCells:()=>Gt(h.unmergeCells),mceTableMergeCells:()=>Gt(h.mergeCells),mceTableInsertRowBefore:()=>Gt(h.insertRowsBefore),mceTableInsertRowAfter:()=>Gt(h.insertRowsAfter),mceTableInsertColBefore:()=>Gt(h.insertColumnsBefore),mceTableInsertColAfter:()=>Gt(h.insertColumnsAfter),mceTableDeleteCol:()=>Gt(h.deleteColumn),mceTableDeleteRow:()=>Gt(h.deleteRow),mceTableCutCol:()=>dn().each(Kt=>{Sy(Kt),Gt(h.deleteColumn)}),mceTableCutRow:()=>En().each(Kt=>{jm(Kt),Gt(h.deleteRow)}),mceTableCopyCol:()=>dn().each(Kt=>Sy(Kt)),mceTableCopyRow:()=>En().each(Kt=>jm(Kt)),mceTablePasteColBefore:()=>to(h.pasteColsBefore,Xv),mceTablePasteColAfter:()=>to(h.pasteColsAfter,Xv),mceTablePasteRowBefore:()=>to(h.pasteRowsBefore,xy),mceTablePasteRowAfter:()=>to(h.pasteRowsAfter,xy),mceTableDelete:_,mceTableCellToggleClass:we,mceTableToggleClass:ie,mceTableToggleCaption:Pe,mceTableSizingMode:(Kt,uo)=>N(uo),mceTableCellType:Mt(Kt=>Kt==="th"?h.makeCellsHeader:h.unmakeCellsHeader),mceTableColType:Mt(Kt=>Kt==="th"?h.makeColumnsHeader:h.unmakeColumnsHeader),mceTableRowType:Mt(Kt=>{switch(Kt){case"header":return h.makeRowsHeader;case"footer":return h.makeRowsFooter;default:return h.makeRowsBody}})},(Kt,uo)=>d.addCommand(uo,Kt)),d.addCommand("mceInsertTable",(Kt,uo)=>{w4(d,uo.rows,uo.columns,uo.options)}),d.addCommand("mceTableApplyCellStyle",(Kt,uo)=>{const $o=zs=>"tablecell"+zs.toLowerCase().replace("-","");if(!$(uo))return;const Bn=ho(Eu(d),sy);if(Bn.length===0)return;const Hs=So(uo,(zs,Wo)=>d.formatter.has($o(Wo))&&P(zs));No(Hs)||(Dt(Hs,(zs,Wo)=>{const ki=$o(Wo);Ue(Bn,ou=>{zs===""?d.formatter.remove(ki,{value:null},ou.dom,!0):d.formatter.apply(ki,{value:zs},ou.dom)})}),V(Bn[0]).each(zs=>_u(d,zs.dom,by)))})},x4=(d,h)=>{const w=e1(d),_=N=>py(Vg(d)).bind(V=>xl(V,w).map(Y=>{const ie=sl(Eu(d),Y,V);return N(Y,ie)})).getOr("");Dt({mceTableRowType:()=>_(h.getTableRowType),mceTableCellType:()=>_(h.getTableCellType),mceTableColType:()=>_(h.getTableColType)},(N,V)=>d.addQueryValueHandler(V,N))},bC=d=>!pu(Sn.fromDom(d.target),"ephox-snooker-resizer-bar"),Qv=(d,h)=>{const w=t4(()=>Sn.fromDom(d.getBody()),()=>py(Vg(d),e1(d)),Wm.selectedSelector),_=(we,Pe,ot)=>{xl(Pe).each(En=>{const dn=$t(we,$o=>$o.dom),to=GE(d),Mt=wv(ue,Sn.fromDom(d.getDoc()),to),Kt=Eu(d),uo=xh(En,{selection:Kt},Mt).map($o=>Ht($o,Bn=>$t(Bn,Hs=>Hs.dom))).getOrUndefined();qg(d,dn,Pe.dom,ot.dom,uo)})},N=()=>v4(d),V=m4.byAttr(Wm,_,N);return d.on("init",we=>{const Pe=d.getWin(),ot=ny(d),Gt=e1(d),En=()=>{const Js=d.selection,bc=Sn.fromDom(Js.getStart()),yc=Sn.fromDom(Js.getEnd());Ps(xl,[bc,yc]).fold(()=>V.clear(ot),ue)},dn=rf(Pe,ot,Gt,V),to=aC(Pe,ot,Gt,V),Mt=cC(Pe,ot,Gt,V),Kt=Js=>Js.raw.shiftKey===!0;d.on("TableSelectorChange",Js=>Mt(Js.start,Js.finish));const uo=(Js,bc)=>{Kt(Js)&&(bc.kill&&Js.kill(),bc.selection.each(yc=>{const Tu=I.relative(yc.start,yc.finish),wc=pn(Pe,Tu);d.selection.setRng(wc)}))},$o=Js=>{const bc=Br(Js);if(bc.raw.shiftKey&&jg(bc.raw.which)){const yc=d.selection.getRng(),Tu=Sn.fromDom(yc.startContainer),wc=Sn.fromDom(yc.endContainer);to.keyup(bc,Tu,yc.startOffset,wc,yc.endOffset).each(Zm=>{uo(bc,Zm)})}},Bn=Js=>{const bc=Br(Js);h.hide();const yc=d.selection.getRng(),Tu=Sn.fromDom(yc.startContainer),wc=Sn.fromDom(yc.endContainer),Zm=Af(Jf,rC)(Sn.fromDom(d.selection.getStart()));to.keydown(bc,Tu,yc.startOffset,wc,yc.endOffset,Zm).each(zi=>{uo(bc,zi)}),h.show()},Hs=Js=>Js.button===0,zs=Js=>Js.buttons===void 0?!0:(Js.buttons&1)!==0,Wo=Js=>{dn.clearstate()},ki=Js=>{Hs(Js)&&bC(Js)&&dn.mousedown(Br(Js))},ou=Js=>{zs(Js)&&bC(Js)&&dn.mouseover(Br(Js))},em=Js=>{Hs(Js)&&bC(Js)&&dn.mouseup(Br(Js))},Kg=(()=>{const Js=gt(Sn.fromDom(ot)),bc=gt(0);return{touchEnd:Tu=>{const wc=Sn.fromDom(Tu.target);if(oa("td")(wc)||oa("th")(wc)){const Zm=Js.get(),zi=bc.get();Uo(Zm,wc)&&Tu.timeStamp-zi<300&&(Tu.preventDefault(),Mt(wc,wc))}Js.set(wc),bc.set(Tu.timeStamp)}}})();d.on("dragstart",Wo),d.on("mousedown",ki),d.on("mouseover",ou),d.on("mouseup",em),d.on("touchend",Kg.touchEnd),d.on("keyup",$o),d.on("keydown",Bn),d.on("NodeChange",En)}),d.on("PreInit",()=>{d.serializer.addTempAttr(Wm.firstSelected),d.serializer.addTempAttr(Wm.lastSelected)}),{getSelectedCells:()=>i_(w.get(),oe([]),we=>$t(we,Pe=>Pe.dom),we=>[we.dom]),clearSelectedCells:we=>V.clear(Sn.fromDom(we))}},yC=(d,h)=>{const w=Sn.fromDom(d.getBody());return CO.body(w,h)},A_=d=>ye(d)&&d.nodeName==="TABLE",Ey="bar-",S4=d=>Xc(d,"data-mce-resize")!=="false",O_=d=>{const h=ns.fromTable(d);ns.hasColumns(h)||Ue(gh(d),w=>{const _=kf(w,"width");aa(w,"width",_),Bs(w,"width")})},wC=d=>Gc(d,"corner-"),a1=d=>Nl(d,"corner-"),CC=d=>{const h=ri(),w=ri(),_=ri();let N,V,Y,ie;const we=Bn=>Ol(d,Bn),Pe=()=>Fv(d)?LS():Pp(),ot=Bn=>Ah(Bn).columns,Gt=Bn=>Ah(Bn).rows,En=(Bn,Hs,zs,Wo)=>{const ki=a1(Hs),ou=dl(ki,"e"),em=Gc(ki,"n");if(V===""&&Th(Bn),ie===""&&tu(Bn),zs!==N&&V!==""){aa(Bn,"width",V);const Ih=Pe(),Kg=we(Bn),Js=Fv(d)||ou?ot(Bn)-1:0;Eg(Bn,zs-N,Js,Ih,Kg)}else if(GO(V)){const Ih=parseFloat(V.replace("%","")),Kg=zs*Ih/N;aa(Bn,"width",Kg+"%")}if(o_(V)&&O_(Bn),Wo!==Y&&ie!==""){aa(Bn,"height",ie);const Ih=em?0:Gt(Bn)-1;d2(Bn,Wo-Y,Ih)}},dn=()=>{w.on(Bn=>{Bn.destroy()})};d.on("init",()=>{const Bn=yC(d,S4);if(_.set(Bn),KE(d)&&Z2(d)){const Hs=Pe(),zs=jO.create(Bn,Hs,we);d.mode.isReadOnly()||zs.on(),zs.events.startDrag.bind(Wo=>{h.set(d.selection.getRng())}),zs.events.beforeResize.bind(Wo=>{const ki=Wo.table.dom;vy(d,ki,QE(ki),e_(ki),Ey+Wo.type)}),zs.events.afterResize.bind(Wo=>{const ki=Wo.table,ou=ki.dom;zg(ki),h.on(em=>{d.selection.setRng(em),d.focus()}),b4(d,ou,QE(ou),e_(ou),Ey+Wo.type),d.undoManager.add()}),w.set(zs)}}),d.on("ObjectResizeStart",Bn=>{const Hs=Bn.target;if(A_(Hs)&&!d.mode.isReadOnly()){const zs=Sn.fromDom(Hs);Ue(d.dom.select(".mce-clonedresizable"),Wo=>{d.dom.addClass(Wo,"mce-"+$v(d)+"-columns")}),!hd(zs)&&Vm(d)?v2(zs):!lE(zs)&&Hv(d)&&Th(zs),Ja(zs)&&Gc(Bn.origin,Ey)&&Th(zs),N=Bn.width,V=zv(d)?"":oy(d,Hs).getOr(""),Y=Bn.height,ie=n_(d,Hs).getOr("")}}),d.on("ObjectResized",Bn=>{const Hs=Bn.target;if(A_(Hs)){const zs=Sn.fromDom(Hs),Wo=Bn.origin;wC(Wo)&&En(zs,Wo,Bn.width,Bn.height),zg(zs),_u(d,zs.dom,by)}});const to=()=>{w.on(Bn=>{Bn.on(),Bn.showBars()})},Mt=()=>{w.on(Bn=>{Bn.off(),Bn.hideBars()})};return d.on("DisabledStateChange",Bn=>{Bn.state?Mt():to()}),d.on("SwitchMode",()=>{d.mode.isReadOnly()?Mt():to()}),d.on("dragstart dragend",Bn=>{Bn.type==="dragstart"?Mt():to()}),d.on("remove",()=>{dn()}),{refresh:Bn=>{w.on(Hs=>Hs.refreshBars(Sn.fromDom(Bn)))},hide:()=>{w.on(Bn=>Bn.hideBars())},show:()=>{w.on(Bn=>Bn.showBars())}}},Mr=d=>{uN(d);const h=CC(d),w=Qv(d,h),_=hN(d,h,w);return C4(d,_),x4(d,_),__(d,_),{getSelectedCells:w.getSelectedCells,clearSelectedCells:w.clearSelectedCells}},D_=d=>({table:Mr(d)});var R_=()=>{a.add("dom",D_)};R_()})()),Hse}nhe();var Vse={},Use={},Wse;function ohe(){return Wse||(Wse=1,(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(re,Ae,Ge)=>{var Rt;return Ge(re,Ae.prototype)?!0:((Rt=re.constructor)===null||Rt===void 0?void 0:Rt.name)===Ae.name},g=re=>{const Ae=typeof re;return re===null?"null":Ae==="object"&&Array.isArray(re)?"array":Ae==="object"&&u(re,String,(Ge,Rt)=>Rt.isPrototypeOf(Ge))?"string":Ae},b=re=>Ae=>g(Ae)===re,x=re=>Ae=>typeof Ae===re,D=re=>Ae=>re===Ae,P=b("string"),$=b("object"),Z=b("array"),ne=D(null),ee=x("boolean"),Se=re=>re==null,ke=re=>!Se(re),ye=x("function"),be=(re,Ae)=>{if(Z(re)){for(let Ge=0,Rt=re.length;Ge<Rt;++Ge)if(!Ae(re[Ge]))return!1;return!0}return!1},ve=()=>{},ue=re=>()=>re,Be=(re,Ae)=>re===Ae;class Le{constructor(Ae,Ge){this.tag=Ae,this.value=Ge}static some(Ae){return new Le(!0,Ae)}static none(){return Le.singletonNone}fold(Ae,Ge){return this.tag?Ge(this.value):Ae()}isSome(){return this.tag}isNone(){return!this.tag}map(Ae){return this.tag?Le.some(Ae(this.value)):Le.none()}bind(Ae){return this.tag?Ae(this.value):Le.none()}exists(Ae){return this.tag&&Ae(this.value)}forall(Ae){return!this.tag||Ae(this.value)}filter(Ae){return!this.tag||Ae(this.value)?this:Le.none()}getOr(Ae){return this.tag?this.value:Ae}or(Ae){return this.tag?this:Ae}getOrThunk(Ae){return this.tag?this.value:Ae()}orThunk(Ae){return this.tag?this:Ae()}getOrDie(Ae){if(this.tag)return this.value;throw new Error(Ae??"Called getOrDie on None")}static from(Ae){return ke(Ae)?Le.some(Ae):Le.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ae){this.tag&&Ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Le.singletonNone=new Le(!1);const oe=Array.prototype.indexOf,Oe=Array.prototype.push,qe=(re,Ae)=>oe.call(re,Ae),Xe=(re,Ae)=>qe(re,Ae)>-1,k=(re,Ae)=>{const Ge=re.length,Rt=new Array(Ge);for(let mn=0;mn<Ge;mn++){const Fn=re[mn];Rt[mn]=Ae(Fn,mn)}return Rt},Ot=(re,Ae)=>{for(let Ge=0,Rt=re.length;Ge<Rt;Ge++){const mn=re[Ge];Ae(mn,Ge)}},ht=(re,Ae,Ge)=>(Ot(re,(Rt,mn)=>{Ge=Ae(Ge,Rt,mn)}),Ge),Je=re=>{const Ae=[];for(let Ge=0,Rt=re.length;Ge<Rt;++Ge){if(!Z(re[Ge]))throw new Error("Arr.flatten item "+Ge+" was not an array, input: "+re);Oe.apply(Ae,re[Ge])}return Ae},Ie=(re,Ae)=>Je(k(re,Ae)),xe=(re,Ae)=>{for(let Ge=0;Ge<re.length;Ge++){const Rt=Ae(re[Ge],Ge);if(Rt.isSome())return Rt}return Le.none()},qt=Object.keys,Ct=Object.hasOwnProperty,Nt=(re,Ae)=>{const Ge=qt(re);for(let Rt=0,mn=Ge.length;Rt<mn;Rt++){const Fn=Ge[Rt],es=re[Fn];Ae(es,Fn)}},B=re=>(Ae,Ge)=>{re[Ge]=Ae},Hn=(re,Ae,Ge,Rt)=>{Nt(re,(mn,Fn)=>{(Ae(mn,Fn)?Ge:Rt)(mn,Fn)})},Qe=(re,Ae)=>{const Ge={};return Hn(re,Ae,B(Ge),ve),Ge},ln=(re,Ae)=>Ct.call(re,Ae),$t=(re,Ae)=>ln(re,Ae)&&re[Ae]!==void 0&&re[Ae]!==null,Ue=re=>{let Ae=re;return{get:()=>Ae,set:mn=>{Ae=mn}}},Pn=(re,Ae,Ge=Be)=>re.exists(Rt=>Ge(Rt,Ae)),jo=re=>{const Ae=[],Ge=Rt=>{Ae.push(Rt)};for(let Rt=0;Rt<re.length;Rt++)re[Rt].each(Ge);return Ae},ho=(re,Ae)=>re?Le.some(Ae):Le.none(),vo=re=>{const Ae=Ue(Le.none()),Ge=()=>Ae.get().each(re);return{clear:()=>{Ge(),Ae.set(Le.none())},isSet:()=>Ae.get().isSome(),get:()=>Ae.get(),set:Uo=>{Ge(),Ae.set(Le.some(Uo))}}},Tt=()=>{const re=vo(ve);return{...re,on:Ge=>re.get().each(Ge)}},rn=(re,Ae)=>re.substring(Ae),K=(re,Ae,Ge)=>Ae===""||re.length>=Ae.length&&re.substr(Ge,Ge+Ae.length)===Ae,dr=(re,Ae)=>_o(re,Ae)?rn(re,Ae.length):re,_o=(re,Ae)=>K(re,Ae,0),wt=re=>Ae=>Ae.options.get(re),jt=re=>{const Ae=re.options.register;Ae("link_assume_external_targets",{processor:Ge=>{const Rt=P(Ge)||ee(Ge);return Rt?Ge===!0?{value:1,valid:Rt}:Ge==="http"||Ge==="https"?{value:Ge,valid:Rt}:{value:0,valid:Rt}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),Ae("link_context_toolbar",{processor:"boolean",default:!1}),Ae("link_list",{processor:Ge=>P(Ge)||ye(Ge)||be(Ge,$)}),Ae("link_default_target",{processor:"string"}),Ae("link_default_protocol",{processor:"string",default:"https"}),Ae("link_target_list",{processor:Ge=>ee(Ge)||be(Ge,$),default:!0}),Ae("link_rel_list",{processor:"object[]",default:[]}),Ae("link_class_list",{processor:"object[]",default:[]}),Ae("link_title",{processor:"boolean",default:!0}),Ae("allow_unsafe_link_target",{processor:"boolean",default:!1}),Ae("link_quicklink",{processor:"boolean",default:!1}),Ae("link_attributes_postprocess",{processor:"function"})},$n=wt("link_assume_external_targets"),ut=wt("link_context_toolbar"),Xt=wt("link_list"),Lt=wt("link_default_target"),Re=wt("link_default_protocol"),et=wt("link_target_list"),St=wt("link_rel_list"),pe=wt("link_class_list"),at=wt("link_title"),Dt=wt("allow_unsafe_link_target"),Ht=wt("link_quicklink"),st=wt("link_attributes_postprocess");var rt=tinymce.util.Tools.resolve("tinymce.util.URI"),ao=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),So=tinymce.util.Tools.resolve("tinymce.util.Tools");const wo=re=>ke(re)&&re.nodeName.toLowerCase()==="a",Rn=re=>wo(re)&&!!Oo(re),Zo=(re,Ae)=>{if(re.collapsed)return[];{const Ge=re.cloneContents(),Rt=Ge.firstChild,mn=new ao(Rt,Ge),Fn=[];let es=Rt;do Ae(es)&&Fn.push(es);while(es=mn.next());return Fn}},Vo=re=>/^\w+:/i.test(re),Oo=re=>{var Ae,Ge;return(Ge=(Ae=re.getAttribute("data-mce-href"))!==null&&Ae!==void 0?Ae:re.getAttribute("href"))!==null&&Ge!==void 0?Ge:""},No=(re,Ae)=>{const Ge=["noopener"],Rt=re?re.split(/\s+/):[],mn=Cs=>So.trim(Cs.sort().join(" ")),Fn=Cs=>(Cs=es(Cs),Cs.length>0?Cs.concat(Ge):Ge),es=Cs=>Cs.filter(G=>So.inArray(Ge,G)===-1),Uo=Ae?Fn(Rt):es(Rt);return Uo.length>0?mn(Uo):""},je=re=>re.replace(/\uFEFF/g,""),tt=(re,Ae)=>(Ae=Ae||bn(re.selection.getRng())[0]||re.selection.getNode(),cn(Ae)?Le.from(re.dom.select("a[href]",Ae)[0]):Le.from(re.dom.getParent(Ae,"a[href]"))),gt=(re,Ae)=>tt(re,Ae).isSome(),bt=(re,Ae)=>{const Ge=Ae.fold(()=>re.getContent({format:"text"}),Rt=>Rt.innerText||Rt.textContent||"");return je(Ge)},bn=re=>Zo(re,Rn),_n=re=>So.grep(re,Rn),zn=re=>_n(re).length>0,_t=re=>bn(re).length>0,yn=re=>{const Ae=re.schema.getTextInlineElements(),Ge=Fn=>Fn.nodeType===1&&!wo(Fn)&&!ln(Ae,Fn.nodeName.toLowerCase());if(tt(re).exists(Fn=>Fn.hasAttribute("data-mce-block")))return!1;const mn=re.selection.getRng();return mn.collapsed?!0:Zo(mn,Ge).length===0},cn=re=>ke(re)&&re.nodeName==="FIGURE"&&/\bimage\b/i.test(re.className),ro=re=>ht(["title","rel","class","target"],(Ge,Rt)=>(re[Rt].each(mn=>{Ge[Rt]=mn.length>0?mn:null}),Ge),{href:re.href}),Do=(re,Ae)=>(Ae==="http"||Ae==="https")&&!Vo(re)?Ae+"://"+re:re,Qt=(re,Ae)=>{const Ge={...Ae};if(St(re).length===0&&!Dt(re)){const Rt=No(Ge.rel,Ge.target==="_blank");Ge.rel=Rt||null}return Le.from(Ge.target).isNone()&&et(re)===!1&&(Ge.target=Lt(re)),Ge.href=Do(Ge.href,$n(re)),Ge},Us=(re,Ae,Ge,Rt)=>{Ge.each(Fn=>{ln(Ae,"innerText")?Ae.innerText=Fn:Ae.textContent=Fn}),re.dom.setAttribs(Ae,Rt);const mn=re.dom.createRng();mn.setStartAfter(Ae),mn.setEndAfter(Ae),re.selection.setRng(mn)},Xo=(re,Ae,Ge,Rt)=>{const mn=re.dom;cn(Ae)?Tc(mn,Ae,Rt):Ge.fold(()=>{re.execCommand("mceInsertLink",!1,Rt);const Fn=re.selection.getEnd(),es=mn.createRng();es.setStartAfter(Fn),es.setEndAfter(Fn),re.selection.setRng(es)},Fn=>{re.insertContent(mn.createHTML("a",Rt,mn.encode(Fn)))})},si=(re,Ae,Ge)=>{const Rt=re.selection.getNode(),mn=tt(re,Rt),Fn=Qt(re,ro(Ge)),es=st(re);ke(es)&&es(Fn),re.undoManager.transact(()=>{Ge.href===Ae.href&&Ae.attach(),mn.fold(()=>{Xo(re,Rt,Ge.text,Fn)},Uo=>{re.focus(),Us(re,Uo,Ge.text,Fn)})})},Nr=re=>{const Ae=re.dom,Ge=re.selection,Rt=Ge.getBookmark(),mn=Ge.getRng().cloneRange(),Fn=Ae.getParent(mn.startContainer,"a[href]",re.getBody()),es=Ae.getParent(mn.endContainer,"a[href]",re.getBody());Fn&&mn.setStartBefore(Fn),es&&mn.setEndAfter(es),Ge.setRng(mn),re.execCommand("unlink"),Ge.moveToBookmark(Rt)},mr=re=>{re.undoManager.transact(()=>{const Ae=re.selection.getNode();cn(Ae)?Pa(re,Ae):Nr(re),re.focus()})},Jo=re=>{const{class:Ae,href:Ge,rel:Rt,target:mn,text:Fn,title:es}=re;return Qe({class:Ae.getOrNull(),href:Ge,rel:Rt.getOrNull(),target:mn.getOrNull(),text:Fn.getOrNull(),title:es.getOrNull()},(Uo,Cs)=>ne(Uo)===!1)},jn=(re,Ae)=>{const Ge=re.options.get,Rt={allow_html_data_urls:Ge("allow_html_data_urls"),allow_script_urls:Ge("allow_script_urls"),allow_svg_data_urls:Ge("allow_svg_data_urls")},mn=Ae.href;return{...Ae,href:rt.isDomSafe(mn,"a",Rt)?mn:""}},Qo=(re,Ae,Ge)=>{const Rt=jn(re,Ge);re.hasPlugin("rtc",!0)?re.execCommand("createlink",!1,Jo(Rt)):si(re,Ae,Rt)},Ji=re=>{re.hasPlugin("rtc",!0)?re.execCommand("unlink"):mr(re)},Pa=(re,Ae)=>{var Ge;const Rt=re.dom.select("img",Ae)[0];if(Rt){const mn=re.dom.getParents(Rt,"a[href]",Ae)[0];mn&&((Ge=mn.parentNode)===null||Ge===void 0||Ge.insertBefore(Rt,mn),re.dom.remove(mn))}},Tc=(re,Ae,Ge)=>{var Rt;const mn=re.select("img",Ae)[0];if(mn){const Fn=re.create("a",Ge);(Rt=mn.parentNode)===null||Rt===void 0||Rt.insertBefore(Fn,mn),Fn.appendChild(mn)}},Un=re=>P(re.value)?re.value:"",ha=re=>P(re.text)?re.text:P(re.title)?re.title:"",ri=(re,Ae)=>{const Ge=[];return So.each(re,Rt=>{const mn=ha(Rt);if(Rt.menu!==void 0){const Fn=ri(Rt.menu,Ae);Ge.push({text:mn,items:Fn})}else{const Fn=Ae(Rt);Ge.push({text:mn,value:Fn})}}),Ge},Wu=(re=Un)=>Ae=>Le.from(Ae).map(Ge=>ri(Ge,re)),ws={sanitize:re=>Wu(Un)(re),sanitizeWith:Wu,createUi:(re,Ae)=>Ge=>({name:re,type:"listbox",label:Ae,items:Ge}),getValue:Un},Gc=re=>$t(re,"items"),dl=(re,Ae)=>xe(Ae,Ge=>Gc(Ge)?dl(re,Ge.items):ho(Ge.value===re,Ge)),kc=(re,Ae,Ge,Rt)=>{const mn=Rt[Ae],Fn=re.length>0;return mn!==void 0?dl(mn,Ge).map(es=>({url:{value:es.value,meta:{text:Fn?re:es.text,attach:ve}},text:Fn?re:es.text})):Le.none()},qa=(re,Ae)=>Ae==="link"?re.link:Ae==="anchor"?re.anchor:Le.none(),Ac={init:(re,Ae)=>{const Ge={text:re.text,title:re.title},Rt=Cs=>{var G;return ho(Ge.title.length<=0,Le.from((G=Cs.meta)===null||G===void 0?void 0:G.title).getOr(""))},mn=Cs=>{var G;return ho(Ge.text.length<=0,Le.from((G=Cs.meta)===null||G===void 0?void 0:G.text).getOr(Cs.value))},Fn=Cs=>{const G=mn(Cs.url),ce=Rt(Cs.url);return G.isSome()||ce.isSome()?Le.some({...G.map(De=>({text:De})).getOr({}),...ce.map(De=>({title:De})).getOr({})}):Le.none()},es=(Cs,G)=>{const ce=qa(Ae,G).getOr([]);return kc(Ge.text,G,ce,Cs)};return{onChange:(Cs,G)=>{const ce=G.name;return ce==="url"?Fn(Cs()):Xe(["anchor","link"],ce)?es(Cs(),ce):((ce==="text"||ce==="title")&&(Ge[ce]=Cs()[ce]),Le.none())}}},getDelta:kc};var fl=tinymce.util.Tools.resolve("tinymce.util.Delay");const Tn=(re,Ae,Ge)=>{const Rt=re.selection.getRng();fl.setEditorTimeout(re,()=>{re.windowManager.confirm(Ae,mn=>{re.selection.setRng(Rt),Ge(mn)})})},Rd=re=>{const Ae=re.href;return Ae.indexOf("@")>0&&Ae.indexOf("/")===-1&&Ae.indexOf("mailto:")===-1?Le.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Rt=>({...Rt,href:"mailto:"+Ae})}):Le.none()},Il=(re,Ae)=>Ge=>{const Rt=Ge.href;return re===1&&!Vo(Rt)||re===0&&/^\s*www(\.|\d\.)/i.test(Rt)?Le.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${Ae}:// prefix?`,preprocess:Fn=>({...Fn,href:Ae+"://"+Rt})}):Le.none()},Is={preprocess:(re,Ae)=>xe([Rd,Il($n(re),Re(re))],Ge=>Ge(Ae)).fold(()=>Promise.resolve(Ae),Ge=>new Promise(Rt=>{Tn(re,Ge.message,mn=>{Rt(mn?Ge.preprocess(Ae):Ae)})}))},La={getAnchors:re=>{const Ae=re.dom.select("a:not([href])"),Ge=Ie(Ae,Rt=>{const mn=Rt.name||Rt.id;return mn?[{text:mn,value:"#"+mn}]:[]});return Ge.length>0?Le.some([{text:"None",value:""}].concat(Ge)):Le.none()}},Oc={getClasses:re=>{const Ae=pe(re);return Ae.length>0?ws.sanitize(Ae):Le.none()}},$l=re=>{try{return Le.some(JSON.parse(re))}catch{return Le.none()}},er={getLinks:re=>{const Ae=Rt=>re.convertURL(Rt.value||Rt.url||"","href"),Ge=Xt(re);return new Promise(Rt=>{P(Ge)?fetch(Ge).then(mn=>mn.ok?mn.text().then($l):Promise.reject()).then(Rt,()=>Rt(Le.none())):ye(Ge)?Ge(mn=>Rt(Le.some(mn))):Rt(Le.from(Ge))}).then(Rt=>Rt.bind(ws.sanitizeWith(Ae)).map(mn=>mn.length>0?[{text:"None",value:""}].concat(mn):mn))}},ti={getRels:(re,Ae)=>{const Ge=St(re);if(Ge.length>0){const Rt=Pn(Ae,"_blank"),mn=Dt(re)===!1,Fn=Uo=>No(ws.getValue(Uo),Rt);return(mn?ws.sanitizeWith(Fn):ws.sanitize)(Ge)}return Le.none()}},xf=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],pa={getTargets:re=>{const Ae=et(re);return Z(Ae)?ws.sanitize(Ae).orThunk(()=>Le.some(xf)):Ae===!1?Le.none():Le.some(xf)}},Ga=(re,Ae,Ge)=>{const Rt=re.getAttrib(Ae,Ge);return Rt!==null&&Rt.length>0?Le.some(Rt):Le.none()},sc=(re,Ae)=>{const Ge=re.dom,mn=yn(re)?Le.some(bt(re.selection,Ae)):Le.none(),Fn=Ae.bind(ce=>Le.from(Ge.getAttrib(ce,"href"))),es=Ae.bind(ce=>Le.from(Ge.getAttrib(ce,"target"))),Uo=Ae.bind(ce=>Ga(Ge,ce,"rel")),Cs=Ae.bind(ce=>Ga(Ge,ce,"class")),G=Ae.bind(ce=>Ga(Ge,ce,"title"));return{url:Fn,text:mn,title:G,target:es,rel:Uo,linkClass:Cs}},xr={collect:(re,Ae)=>er.getLinks(re).then(Ge=>{const Rt=sc(re,Ae);return{anchor:Rt,catalogs:{targets:pa.getTargets(re),rels:ti.getRels(re,Rt.target),classes:Oc.getClasses(re),anchor:La.getAnchors(re),link:Ge},optNode:Ae,flags:{titleEnabled:at(re)}}})},go=(re,Ae)=>Ge=>{const Rt=Ge.getData();if(!Rt.url.value){Ji(re),Ge.close();return}const mn=Uo=>Le.from(Rt[Uo]).filter(Cs=>!Pn(Ae.anchor[Uo],Cs)),Fn={href:Rt.url.value,text:mn("text"),target:mn("target"),rel:mn("rel"),class:mn("linkClass"),title:mn("title")},es={href:Rt.url.value,attach:Rt.url.meta!==void 0&&Rt.url.meta.attach?Rt.url.meta.attach:ve};Is.preprocess(re,Fn).then(Uo=>{Qo(re,es,Uo)}),Ge.close()},Sr=re=>{const Ae=tt(re);return xr.collect(re,Ae)},Mi=(re,Ae)=>{const Ge=re.anchor,Rt=Ge.url.getOr("");return{url:{value:Rt,meta:{original:{value:Rt}}},text:Ge.text.getOr(""),title:Ge.title.getOr(""),anchor:Rt,link:Rt,rel:Ge.rel.getOr(""),target:Ge.target.or(Ae).getOr(""),linkClass:Ge.linkClass.getOr("")}},tr=(re,Ae,Ge)=>{const Rt=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],mn=re.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Fn=re.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],es=Le.from(Lt(Ge)),Uo=Mi(re,es),Cs=re.catalogs,G=Ac.init(Uo,Cs);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Je([Rt,mn,Fn,jo([Cs.anchor.map(ws.createUi("anchor","Anchors")),Cs.rels.map(ws.createUi("rel","Rel")),Cs.targets.map(ws.createUi("target","Open link in...")),Cs.link.map(ws.createUi("link","Link list")),Cs.classes.map(ws.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Uo,onChange:(De,{name:ft})=>{G.onChange(De.getData,{name:ft}).each(In=>{De.setData(In)})},onSubmit:Ae}},Ld=re=>{Sr(re).then(Ge=>{const Rt=go(re,Ge);return tr(Ge,Rt,re)}).then(Ge=>{re.windowManager.open(Ge)})},ju=re=>{re.addCommand("mceLink",(Ae,Ge)=>{(Ge==null?void 0:Ge.dialog)===!0||!Ht(re)?Ld(re):re.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},Ws=re=>{re.addShortcut("Meta+K","",()=>{re.execCommand("mceLink")})};var ea=tinymce.util.Tools.resolve("tinymce.util.VK");const rc=(re,Ae)=>{document.body.appendChild(re),re.dispatchEvent(Ae),document.body.removeChild(re)},Ef=re=>{const Ae=document.createElement("a");Ae.target="_blank",Ae.href=re,Ae.rel="noreferrer noopener";const Ge=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Ge),rc(Ae,Ge)},Sn=re=>re.altKey===!0&&re.shiftKey===!1&&re.ctrlKey===!1&&re.metaKey===!1,ic=(re,Ae)=>{if(Ae){const Ge=Oo(Ae);if(/^#/.test(Ge)){const Rt=re.dom.select(`${Ge},[name="${dr(Ge,"#")}"]`);Rt.length&&re.selection.scrollIntoView(Rt[0],!0)}else Ef(Ae.href)}},Pi=re=>{const Ae=re.selection.getRng(),Ge=Ae.startContainer;return Rn(Ge)&&Ae.startContainer===Ae.endContainer&&re.dom.select("img",Ge).length===1},va=(re,Ae)=>{const Ge=_n(re.dom.getParents(Ae));return ho(Ge.length===1,Ge[0])},Er=re=>{const Ae=bn(re.selection.getRng());return ho(Ae.length>0,Ae[0]).or(va(re,re.selection.getNode()))},_f=re=>re.selection.isCollapsed()||Pi(re)?va(re,re.selection.getStart()):Er(re),ba=re=>{const Ae=Tt(),Ge=()=>Ae.get().or(_f(re)),Rt=()=>Ge().each(mn=>ic(re,mn));return re.on("contextmenu",mn=>{va(re,mn.target).each(Ae.set)}),re.on("SelectionChange",()=>{Ae.isSet()||_f(re).each(Ae.set)}),re.on("click",mn=>{Ae.clear();const Fn=_n(re.dom.getParents(mn.target));Fn.length===1&&ea.metaKeyPressed(mn)&&(mn.preventDefault(),ic(re,Fn[0]))}),re.on("keydown",mn=>{Ae.clear(),!mn.isDefaultPrevented()&&mn.keyCode===13&&Sn(mn)&&Ge().each(Fn=>{mn.preventDefault(),ic(re,Fn)})}),{gotoSelectedLink:Rt}},Ka=re=>()=>{re.execCommand("mceLink",!1,{dialog:!0})},Zu=(re,Ae)=>(re.on("NodeChange",Ae),()=>re.off("NodeChange",Ae)),cu=re=>Ae=>{const Ge=()=>{Ae.setActive(!re.mode.isReadOnly()&&gt(re,re.selection.getNode())),Ae.setEnabled(re.selection.isEditable())};return Ge(),Zu(re,Ge)},ml=re=>Ae=>{const Ge=()=>{Ae.setEnabled(re.selection.isEditable())};return Ge(),Zu(re,Ge)},qu=re=>Ae=>{const Ge=Fn=>zn(Fn)||_t(re.selection.getRng()),Rt=re.dom.getParents(re.selection.getStart()),mn=Fn=>{Ae.setEnabled(Ge(Fn)&&re.selection.isEditable())};return mn(Rt),Zu(re,Fn=>mn(Fn.parents))},lu=(re,Ae)=>{re.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Ka(re),onSetup:cu(re)}),re.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Ae.gotoSelectedLink,onSetup:qu(re)}),re.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Ji(re),onSetup:qu(re)})},hl=(re,Ae)=>{re.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Ae.gotoSelectedLink,onSetup:qu(re)}),re.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ka(re),onSetup:ml(re)}),re.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Ji(re),onSetup:qu(re)})},uu=re=>{const Ae="link unlink openlink",Ge="link";re.ui.registry.addContextMenu("link",{update:Rt=>re.dom.isEditable(Rt)?zn(re.dom.getParents(Rt,"a"))?Ae:Ge:""})},pn=(re,Ae)=>{const Ge=Fn=>{Fn.selection.collapse(!1)},Rt=Fn=>{const es=re.selection.getNode();return Fn.setEnabled(gt(re,es)&&re.selection.isEditable()),ve},mn=Fn=>{const es=tt(re),Uo=yn(re);if(es.isNone()&&Uo){const Cs=bt(re.selection,es);return ho(Cs.length===0,Fn)}else return Le.none()};re.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:cu(re)},label:"Link",predicate:Fn=>ut(re)&&gt(re,Fn),initValue:()=>tt(re).fold(ue(""),Oo),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Fn=>{const es=re.selection.getNode();return Fn.setActive(gt(re,es)),cu(re)(Fn)},onAction:Fn=>{const es=Fn.getValue(),Uo=mn(es);Qo(re,{href:es,attach:ve},{href:es,text:Uo,title:Le.none(),rel:Le.none(),target:Le.from(Lt(re)),class:Le.none()}),Ge(re),Fn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Rt,onAction:Fn=>{Ji(re),Fn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Rt,onAction:Fn=>{Ae.gotoSelectedLink(),Fn.hide()}}]})},Fl=re=>{const Ae=ba(re);lu(re,Ae),hl(re,Ae),uu(re),pn(re,Ae)};var Gu=()=>{a.add("link",re=>{jt(re),ju(re),Fl(re),Ws(re)})};Gu()})()),Use}var jse;function she(){return jse||(jse=1,ohe()),Vse}she();var Zse={},qse={},Gse;function rhe(){return Gse||(Gse=1,(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=Object.getPrototypeOf,g=(G,ce,De)=>{var ft;return De(G,ce.prototype)?!0:((ft=G.constructor)===null||ft===void 0?void 0:ft.name)===ce.name},b=G=>{const ce=typeof G;return G===null?"null":ce==="object"&&Array.isArray(G)?"array":ce==="object"&&g(G,String,(De,ft)=>ft.isPrototypeOf(De))?"string":ce},x=G=>ce=>b(ce)===G,D=G=>ce=>typeof ce===G,P=G=>ce=>G===ce,$=(G,ce)=>ne(G)&&g(G,ce,(De,ft)=>u(De)===ft),Z=x("string"),ne=x("object"),ee=G=>$(G,Object),Se=x("array"),ke=P(null),ye=D("boolean"),be=G=>G==null,ve=G=>!be(G),ue=D("function"),Be=D("number"),Le=(G,ce)=>{if(Se(G)){for(let De=0,ft=G.length;De<ft;++De)if(!ce(G[De]))return!1;return!0}return!1},oe=()=>{};class Oe{constructor(ce,De){this.tag=ce,this.value=De}static some(ce){return new Oe(!0,ce)}static none(){return Oe.singletonNone}fold(ce,De){return this.tag?De(this.value):ce()}isSome(){return this.tag}isNone(){return!this.tag}map(ce){return this.tag?Oe.some(ce(this.value)):Oe.none()}bind(ce){return this.tag?ce(this.value):Oe.none()}exists(ce){return this.tag&&ce(this.value)}forall(ce){return!this.tag||ce(this.value)}filter(ce){return!this.tag||ce(this.value)?this:Oe.none()}getOr(ce){return this.tag?this.value:ce}or(ce){return this.tag?this:ce}getOrThunk(ce){return this.tag?this.value:ce()}orThunk(ce){return this.tag?this:ce()}getOrDie(ce){if(this.tag)return this.value;throw new Error(ce??"Called getOrDie on None")}static from(ce){return ve(ce)?Oe.some(ce):Oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ce){this.tag&&ce(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Oe.singletonNone=new Oe(!1);const qe=Array.prototype.push,Xe=G=>{const ce=[];for(let De=0,ft=G.length;De<ft;++De){if(!Se(G[De]))throw new Error("Arr.flatten item "+De+" was not an array, input: "+G);qe.apply(ce,G[De])}return ce},k=(G,ce)=>ce>=0&&ce<G.length?Oe.some(G[ce]):Oe.none(),Ot=G=>k(G,0),ht=(G,ce)=>{for(let De=0;De<G.length;De++){const ft=ce(G[De],De);if(ft.isSome())return ft}return Oe.none()},Je=Object.keys,Ie=Object.hasOwnProperty,xe=(G,ce)=>{const De=Je(G);for(let ft=0,In=De.length;ft<In;ft++){const as=De[ft],S=G[as];ce(S,as)}},qt=G=>(ce,De)=>{G[De]=ce},Ct=(G,ce,De,ft)=>{xe(G,(In,as)=>{(ce(In,as)?De:ft)(In,as)})},Nt=(G,ce)=>{const De={};return Ct(G,ce,qt(De),oe),De},B=(G,ce)=>Ie.call(G,ce),Hn=(G,ce)=>B(G,ce)&&G[ce]!==void 0&&G[ce]!==null,$t=(G=>(...ce)=>{if(ce.length===0)throw new Error("Can't merge zero objects");const De={};for(let ft=0;ft<ce.length;ft++){const In=ce[ft];for(const as in In)B(In,as)&&(De[as]=G(De[as],In[as]))}return De})((G,ce)=>ee(G)&&ee(ce)?$t(G,ce):ce),Ue=G=>G.length>0,Pn=(G,ce)=>{const ft=(ce||document).createElement("div");if(ft.innerHTML=G,!ft.hasChildNodes()||ft.childNodes.length>1){const In="HTML does not have a single root node";throw console.error(In,G),new Error(In)}return vo(ft.childNodes[0])},jo=(G,ce)=>{const ft=(ce||document).createElement(G);return vo(ft)},ho=(G,ce)=>{const ft=(ce||document).createTextNode(G);return vo(ft)},vo=G=>{if(G==null)throw new Error("Node cannot be null or undefined");return{dom:G}},rn={fromHtml:Pn,fromTag:jo,fromText:ho,fromDom:vo,fromPoint:(G,ce,De)=>Oe.from(G.dom.elementFromPoint(ce,De)).map(vo)},K=(G,ce,De)=>{if(Z(De)||ye(De)||Be(De))G.setAttribute(ce,De+"");else throw console.error("Invalid call to Attribute.set. Key ",ce,":: Value ",De,":: Element ",G),new Error("Attribute value was not simple")},dr=(G,ce,De)=>{K(G.dom,ce,De)},_o=(G,ce)=>{G.dom.removeAttribute(ce)};var wt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),jt=tinymce.util.Tools.resolve("tinymce.util.URI");const $n=G=>ce=>ce.options.get(G),ut=G=>{const ce=G.options.register;ce("image_dimensions",{processor:"boolean",default:!0}),ce("image_advtab",{processor:"boolean",default:!1}),ce("image_uploadtab",{processor:"boolean",default:!0}),ce("image_prepend_url",{processor:"string",default:""}),ce("image_class_list",{processor:"object[]"}),ce("image_description",{processor:"boolean",default:!0}),ce("image_title",{processor:"boolean",default:!1}),ce("image_caption",{processor:"boolean",default:!1}),ce("image_list",{processor:De=>{const ft=De===!1||Z(De)||Le(De,ne)||ue(De);return ft?{value:De,valid:ft}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Xt=$n("image_dimensions"),Lt=$n("image_advtab"),Re=$n("image_uploadtab"),et=$n("image_prepend_url"),St=$n("image_class_list"),pe=$n("image_description"),at=$n("image_title"),Dt=$n("image_caption"),Ht=$n("image_list"),st=$n("a11y_advanced_options"),rt=$n("automatic_uploads"),ao=G=>Ue(G.options.get("images_upload_url")),So=G=>ve(G.options.get("images_upload_handler")),wo=(G,ce)=>Math.max(parseInt(G,10),parseInt(ce,10)),Rn=G=>new Promise(ce=>{const De=document.createElement("img"),ft=as=>{De.parentNode&&De.parentNode.removeChild(De),ce(as)};De.addEventListener("load",()=>{const as=wo(De.width,De.clientWidth),S=wo(De.height,De.clientHeight),R={width:as,height:S};ft(Promise.resolve(R))}),De.addEventListener("error",()=>{ft(Promise.reject(`Failed to get image dimensions for: ${G}`))});const In=De.style;In.visibility="hidden",In.position="fixed",In.bottom=In.left="0px",In.width=In.height="auto",document.body.appendChild(De),De.src=G}),Zo=G=>(G&&(G=G.replace(/px$/,"")),G),Vo=G=>(G.length>0&&/^[0-9]+$/.test(G)&&(G+="px"),G),Oo=G=>{if(G.margin){const ce=String(G.margin).split(" ");switch(ce.length){case 1:G["margin-top"]=G["margin-top"]||ce[0],G["margin-right"]=G["margin-right"]||ce[0],G["margin-bottom"]=G["margin-bottom"]||ce[0],G["margin-left"]=G["margin-left"]||ce[0];break;case 2:G["margin-top"]=G["margin-top"]||ce[0],G["margin-right"]=G["margin-right"]||ce[1],G["margin-bottom"]=G["margin-bottom"]||ce[0],G["margin-left"]=G["margin-left"]||ce[1];break;case 3:G["margin-top"]=G["margin-top"]||ce[0],G["margin-right"]=G["margin-right"]||ce[1],G["margin-bottom"]=G["margin-bottom"]||ce[2],G["margin-left"]=G["margin-left"]||ce[1];break;case 4:G["margin-top"]=G["margin-top"]||ce[0],G["margin-right"]=G["margin-right"]||ce[1],G["margin-bottom"]=G["margin-bottom"]||ce[2],G["margin-left"]=G["margin-left"]||ce[3]}delete G.margin}return G},No=(G,ce)=>{const De=Ht(G);Z(De)?fetch(De).then(ft=>{ft.ok&&ft.json().then(ce)}):ue(De)?De(ce):ce(De)},je=(G,ce,De)=>{const ft=()=>{De.onload=De.onerror=null,G.selection&&(G.selection.select(De),G.nodeChanged())};De.onload=()=>{!ce.width&&!ce.height&&Xt(G)&&G.dom.setAttribs(De,{width:String(De.clientWidth),height:String(De.clientHeight)}),ft()},De.onerror=ft},tt=G=>new Promise((ce,De)=>{const ft=new FileReader;ft.onload=()=>{ce(ft.result)},ft.onerror=()=>{var In;De((In=ft.error)===null||In===void 0?void 0:In.message)},ft.readAsDataURL(G)}),gt=G=>G.nodeName==="IMG"&&(G.hasAttribute("data-mce-object")||G.hasAttribute("data-mce-placeholder")),bt=(G,ce)=>{const De=G.options.get;return jt.isDomSafe(ce,"img",{allow_html_data_urls:De("allow_html_data_urls"),allow_script_urls:De("allow_script_urls"),allow_svg_data_urls:De("allow_svg_data_urls")})},bn=wt.DOM,_n=G=>G.style.marginLeft&&G.style.marginRight&&G.style.marginLeft===G.style.marginRight?Zo(G.style.marginLeft):"",zn=G=>G.style.marginTop&&G.style.marginBottom&&G.style.marginTop===G.style.marginBottom?Zo(G.style.marginTop):"",_t=G=>G.style.borderWidth?Zo(G.style.borderWidth):"",yn=(G,ce)=>{var De;return G.hasAttribute(ce)&&(De=G.getAttribute(ce))!==null&&De!==void 0?De:""},cn=G=>G.parentNode!==null&&G.parentNode.nodeName==="FIGURE",ro=(G,ce,De)=>{De===""||De===null?G.removeAttribute(ce):G.setAttribute(ce,De)},Do=G=>{const ce=bn.create("figure",{class:"image"});bn.insertAfter(ce,G),ce.appendChild(G),ce.appendChild(bn.create("figcaption",{contentEditable:"true"},"Caption")),ce.contentEditable="false"},Qt=G=>{const ce=G.parentNode;ve(ce)&&(bn.insertAfter(G,ce),bn.remove(ce))},Us=G=>{cn(G)?Qt(G):Do(G)},Xo=(G,ce)=>{const De=G.getAttribute("style"),ft=ce(De!==null?De:"");ft.length>0?(G.setAttribute("style",ft),G.setAttribute("data-mce-style",ft)):G.removeAttribute("style")},si=(G,ce)=>(De,ft,In)=>{const as=De.style;as[ft]?(as[ft]=Vo(In),Xo(De,ce)):ro(De,ft,In)},Nr=(G,ce)=>G.style[ce]?Zo(G.style[ce]):yn(G,ce),mr=(G,ce)=>{const De=Vo(ce);G.style.marginLeft=De,G.style.marginRight=De},Jo=(G,ce)=>{const De=Vo(ce);G.style.marginTop=De,G.style.marginBottom=De},jn=(G,ce)=>{const De=Vo(ce);G.style.borderWidth=De},Qo=(G,ce)=>{G.style.borderStyle=ce},Ji=G=>{var ce;return(ce=G.style.borderStyle)!==null&&ce!==void 0?ce:""},Pa=G=>ve(G)&&G.nodeName==="FIGURE",Tc=G=>G.nodeName==="IMG",Un=G=>{const ce=bn.getAttrib(G,"alt"),De=bn.getAttrib(G,"role");return G.hasAttribute("alt")&&ce.length===0||De==="presentation"||De==="none"},ha=G=>Un(G)?"":yn(G,"alt"),ri=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Wu=(G,ce)=>{var De;const ft=document.createElement("img");return ro(ft,"style",ce.style),(_n(ft)||ce.hspace!=="")&&mr(ft,ce.hspace),(zn(ft)||ce.vspace!=="")&&Jo(ft,ce.vspace),(_t(ft)||ce.border!=="")&&jn(ft,ce.border),(Ji(ft)||ce.borderStyle!=="")&&Qo(ft,ce.borderStyle),G((De=ft.getAttribute("style"))!==null&&De!==void 0?De:"")},Ri=(G,ce)=>{const De=document.createElement("img");if(qa(G,{...ce,caption:!1},De),Gc(De,ce.alt,ce.isDecorative),ce.caption){const ft=bn.create("figure",{class:"image"});return ft.appendChild(De),ft.appendChild(bn.create("figcaption",{contentEditable:"true"},"Caption")),ft.contentEditable="false",ft}else return De},Nl=(G,ce)=>({src:yn(ce,"src"),alt:ha(ce),title:yn(ce,"title"),width:Nr(ce,"width"),height:Nr(ce,"height"),class:yn(ce,"class"),style:G(yn(ce,"style")),caption:cn(ce),hspace:_n(ce),vspace:zn(ce),border:_t(ce),borderStyle:Ji(ce),isDecorative:Un(ce)}),ws=(G,ce,De,ft,In)=>{De[ft]!==ce[ft]&&In(G,ft,String(De[ft]))},Gc=(G,ce,De)=>{if(De){bn.setAttrib(G,"role","presentation");const ft=rn.fromDom(G);dr(ft,"alt","")}else{if(ke(ce)){const ft=rn.fromDom(G);_o(ft,"alt")}else{const ft=rn.fromDom(G);dr(ft,"alt",ce)}bn.getAttrib(G,"role")==="presentation"&&bn.setAttrib(G,"role","")}},dl=(G,ce,De)=>{(De.alt!==ce.alt||De.isDecorative!==ce.isDecorative)&&Gc(G,De.alt,De.isDecorative)},kc=(G,ce)=>(De,ft,In)=>{G(De,In),Xo(De,ce)},qa=(G,ce,De)=>{const ft=Nl(G,De);ws(De,ft,ce,"caption",(In,as,S)=>Us(In)),ws(De,ft,ce,"src",ro),ws(De,ft,ce,"title",ro),ws(De,ft,ce,"width",si("width",G)),ws(De,ft,ce,"height",si("height",G)),ws(De,ft,ce,"class",ro),ws(De,ft,ce,"style",kc((In,as)=>ro(In,"style",as),G)),ws(De,ft,ce,"hspace",kc(mr,G)),ws(De,ft,ce,"vspace",kc(Jo,G)),ws(De,ft,ce,"border",kc(jn,G)),ws(De,ft,ce,"borderStyle",kc(Qo,G)),dl(De,ft,ce)},ii=(G,ce)=>{const De=G.dom.styles.parse(ce),ft=Oo(De),In=G.dom.styles.parse(G.dom.styles.serialize(ft));return G.dom.styles.serialize(In)},Ac=G=>{const ce=G.selection.getNode(),De=G.dom.getParent(ce,"figure.image");return De?G.dom.select("img",De)[0]:ce&&(ce.nodeName!=="IMG"||gt(ce))?null:ce},fl=(G,ce)=>{var De;const ft=G.dom,In=Nt(G.schema.getTextBlockElements(),(S,R)=>!G.schema.isValidChild(R,"figure")),as=ft.getParent(ce.parentNode,S=>Hn(In,S.nodeName),G.getBody());return as&&(De=ft.split(as,ce))!==null&&De!==void 0?De:ce},Tn=G=>{const ce=Ac(G);return ce?Nl(De=>ii(G,De),ce):ri()},Rd=(G,ce)=>{const De=Ri(In=>ii(G,In),ce);G.dom.setAttrib(De,"data-mce-id","__mcenew"),G.focus(),G.insertContent(De.outerHTML);const ft=G.dom.select('*[data-mce-id="__mcenew"]')[0];if(G.dom.setAttrib(ft,"data-mce-id",null),Pa(ft)){const In=fl(G,ft);G.selection.select(In)}else G.selection.select(ft)},Il=(G,ce)=>{G.dom.setAttrib(ce,"src",ce.getAttribute("src"))},Bl=(G,ce)=>{if(ce){const De=G.dom.is(ce.parentNode,"figure.image")?ce.parentNode:ce;G.dom.remove(De),G.focus(),G.nodeChanged(),G.dom.isEmpty(G.getBody())&&(G.setContent(""),G.selection.setCursorLocation())}},Is=(G,ce)=>{const De=Ac(G);if(De)if(qa(ft=>ii(G,ft),ce,De),Il(G,De),Pa(De.parentNode)){G.dom.setStyle(De,"float","");const ft=De.parentNode;fl(G,ft),G.selection.select(De.parentNode)}else G.selection.select(De),je(G,ce,De)},Md=(G,ce)=>{const De=ce.src;return{...ce,src:bt(G,De)?De:""}},La=(G,ce)=>{const De=Ac(G);if(De){const In={...Nl(S=>ii(G,S),De),...ce},as=Md(G,In);In.src?Is(G,as):Bl(G,De)}else ce.src&&Rd(G,{...ri(),...ce})};var Gr=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Oc=tinymce.util.Tools.resolve("tinymce.util.Tools");const $l=G=>Z(G.value)?G.value:"",ga=G=>Z(G.text)?G.text:Z(G.title)?G.title:"",er=(G,ce)=>{const De=[];return Oc.each(G,ft=>{const In=ga(ft);if(ft.menu!==void 0){const as=er(ft.menu,ce);De.push({text:In,items:as})}else{const as=ce(ft);De.push({text:In,value:as})}}),De},Qi=(G=$l)=>ce=>ce?Oe.from(ce).map(De=>er(De,G)):Oe.none(),ti=G=>Qi($l)(G),xf=G=>B(G,"items"),Sf=(G,ce)=>ht(G,De=>xf(De)?Sf(De.items,ce):De.value===ce?Oe.some(De):Oe.none()),Ga={sanitizer:Qi,sanitize:ti,findEntry:(G,ce)=>G.bind(De=>Sf(De,ce))},Pd={makeTab:G=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},xr=G=>{const ce=Ga.sanitizer(Ut=>G.convertURL(Ut.value||Ut.url||"","src")),De=new Promise(Ut=>{No(G,hn=>{Ut(ce(hn).map(It=>Xe([[{text:"None",value:""}],It])))})}),ft=Ga.sanitize(St(G)),In=Lt(G),as=Re(G),S=ao(G),R=So(G),H=Tn(G),W=pe(G),X=at(G),se=Xt(G),me=Dt(G),Ze=st(G),We=rt(G),pt=Oe.some(et(G)).filter(Ut=>Z(Ut)&&Ut.length>0);return De.then(Ut=>({image:H,imageList:Ut,classList:ft,hasAdvTab:In,hasUploadTab:as,hasUploadUrl:S,hasUploadHandler:R,hasDescription:W,hasImageTitle:X,hasDimensions:se,hasImageCaption:me,prependURL:pt,hasAccessibilityOptions:Ze,automaticUploads:We}))},go=G=>{const ce={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},De=G.imageList.map(X=>({name:"images",type:"listbox",label:"Image list",items:X})),ft={name:"alt",type:"input",label:"Alternative description",enabled:!(G.hasAccessibilityOptions&&G.image.isDecorative)},In={name:"title",type:"input",label:"Image title"},as={name:"dimensions",type:"sizeinput"},S={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},R=G.classList.map(X=>({name:"classes",type:"listbox",label:"Class",items:X})),H={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},W=X=>X?{type:"grid",columns:2}:{type:"panel"};return Xe([[ce],De.toArray(),G.hasAccessibilityOptions&&G.hasDescription?[S]:[],G.hasDescription?[ft]:[],G.hasImageTitle?[In]:[],G.hasDimensions?[as]:[],[{...W(G.classList.isSome()&&G.hasImageCaption),items:Xe([R.toArray(),G.hasImageCaption?[H]:[]])}]])},Mi={makeTab:G=>({title:"General",name:"general",items:go(G)}),makeItems:go},Ld={makeTab:G=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},ju=G=>({prevImage:Ga.findEntry(G.imageList,G.image.src),prevAlt:G.image.alt,open:!0}),Ws=G=>({src:{value:G.src,meta:{}},images:G.src,alt:G.alt,title:G.title,dimensions:{width:G.width,height:G.height},classes:G.class,caption:G.caption,style:G.style,vspace:G.vspace,border:G.border,hspace:G.hspace,borderstyle:G.borderStyle,fileinput:[],isDecorative:G.isDecorative}),ea=(G,ce)=>({src:G.src.value,alt:(G.alt===null||G.alt.length===0)&&ce?null:G.alt,title:G.title,width:G.dimensions.width,height:G.dimensions.height,class:G.classes,style:G.style,caption:G.caption,hspace:G.hspace,vspace:G.vspace,border:G.border,borderStyle:G.borderstyle,isDecorative:G.isDecorative}),rc=(G,ce)=>/^(?:[a-zA-Z]+:)?\/\//.test(ce)?Oe.none():G.prependURL.bind(De=>ce.substring(0,De.length)!==De?Oe.some(De+ce):Oe.none()),Ef=(G,ce)=>{const De=ce.getData();rc(G,De.src.value).each(ft=>{ce.setData({src:{value:ft,meta:De.src.meta}})})},Sn=(G,ce,De)=>{G.hasDescription&&Z(De.alt)&&(ce.alt=De.alt),G.hasAccessibilityOptions&&(ce.isDecorative=De.isDecorative||ce.isDecorative||!1),G.hasImageTitle&&Z(De.title)&&(ce.title=De.title),G.hasDimensions&&(Z(De.width)&&(ce.dimensions.width=De.width),Z(De.height)&&(ce.dimensions.height=De.height)),Z(De.class)&&Ga.findEntry(G.classList,De.class).each(ft=>{ce.classes=ft.value}),G.hasImageCaption&&ye(De.caption)&&(ce.caption=De.caption),G.hasAdvTab&&(Z(De.style)&&(ce.style=De.style),Z(De.vspace)&&(ce.vspace=De.vspace),Z(De.border)&&(ce.border=De.border),Z(De.hspace)&&(ce.hspace=De.hspace),Z(De.borderstyle)&&(ce.borderstyle=De.borderstyle))},ic=(G,ce)=>{const De=ce.getData(),ft=De.src.meta;if(ft!==void 0){const In=$t({},De);Sn(G,In,ft),ce.setData(In)}},Pi=(G,ce,De,ft)=>{const In=ft.getData(),as=In.src.value,S=In.src.meta||{};!S.width&&!S.height&&ce.hasDimensions&&(Ue(as)?G.imageSize(as).then(R=>{De.open&&ft.setData({dimensions:R})}).catch(R=>console.error(R)):ft.setData({dimensions:{width:"",height:""}}))},va=(G,ce,De)=>{const ft=De.getData(),In=Ga.findEntry(G.imageList,ft.src.value);ce.prevImage=In,De.setData({images:In.map(as=>as.value).getOr("")})},Er=(G,ce,De,ft)=>{Ef(ce,ft),ic(ce,ft),Pi(G,ce,De,ft),va(ce,De,ft)},_f=(G,ce,De,ft)=>{const In=ft.getData(),as=Ga.findEntry(ce.imageList,In.images);as.each(S=>{In.alt===""||De.prevImage.map(H=>H.text===In.alt).getOr(!1)?S.value===""?ft.setData({src:S,alt:De.prevAlt}):ft.setData({src:S,alt:S.text}):ft.setData({src:S})}),De.prevImage=as,Er(G,ce,De,ft)},ba=(G,ce,De,ft)=>{const In=ft.getData();ft.block("Uploading image"),Ot(In.fileinput).fold(()=>{ft.unblock()},as=>{const S=URL.createObjectURL(as),R=()=>{ft.unblock(),URL.revokeObjectURL(S)},H=W=>{ft.setData({src:{value:W,meta:{}}}),ft.showTab("general"),Er(G,ce,De,ft),ft.focus("src")};tt(as).then(W=>{const X=G.createBlobCache(as,S,W);ce.automaticUploads?G.uploadImage(X).then(se=>{H(se.url),R()}).catch(se=>{R(),G.alertErr(se,()=>{ft.focus("fileinput")})}):(G.addToBlobCache(X),H(X.blobUri()),ft.unblock())})})},Ka=(G,ce,De)=>(ft,In)=>{In.name==="src"?Er(G,ce,De,ft):In.name==="images"?_f(G,ce,De,ft):In.name==="alt"?De.prevAlt=ft.getData().alt:In.name==="fileinput"?ba(G,ce,De,ft):In.name==="isDecorative"&&ft.setEnabled("alt",!ft.getData().isDecorative)},Zu=G=>()=>{G.open=!1},cu=G=>G.hasAdvTab||G.hasUploadUrl||G.hasUploadHandler?{type:"tabpanel",tabs:Xe([[Mi.makeTab(G)],G.hasAdvTab?[Pd.makeTab(G)]:[],G.hasUploadTab&&(G.hasUploadUrl||G.hasUploadHandler)?[Ld.makeTab(G)]:[]])}:{type:"panel",items:Mi.makeItems(G)},ml=(G,ce,De)=>ft=>{const In=$t(Ws(ce.image),ft.getData()),as={...In,style:Wu(De.normalizeCss,ea(In,!1))};G.execCommand("mceUpdateImage",!1,ea(as,ce.hasAccessibilityOptions)),G.editorUpload.uploadImagesAuto(),ft.close()},qu=G=>ce=>bt(G,ce)?Rn(G.documentBaseURI.toAbsolute(ce)).then(De=>({width:String(De.width),height:String(De.height)})):Promise.resolve({width:"",height:""}),lu=G=>(ce,De,ft)=>{var In;return G.editorUpload.blobCache.create({blob:ce,blobUri:De,name:(In=ce.name)===null||In===void 0?void 0:In.replace(/\.[^\.]+$/,""),filename:ce.name,base64:ft.split(",")[1]})},hl=G=>ce=>{G.editorUpload.blobCache.add(ce)},uu=G=>(ce,De)=>{G.windowManager.alert(ce,De)},pn=G=>ce=>ii(G,ce),Fl=G=>ce=>G.dom.parseStyle(ce),Gu=G=>(ce,De)=>G.dom.serializeStyle(ce,De),re=G=>ce=>Gr(G).upload([ce],!1).then(De=>{var ft;return De.length===0?Promise.reject("Failed to upload image"):De[0].status===!1?Promise.reject((ft=De[0].error)===null||ft===void 0?void 0:ft.message):De[0]}),Ae=G=>{const ce={imageSize:qu(G),addToBlobCache:hl(G),createBlobCache:lu(G),alertErr:uu(G),normalizeCss:pn(G),parseStyle:Fl(G),serializeStyle:Gu(G),uploadImage:re(G)};return{open:()=>{xr(G).then(ft=>{const In=ju(ft);return{title:"Insert/Edit Image",size:"normal",body:cu(ft),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ws(ft.image),onSubmit:ml(G,ft,ce),onChange:Ka(ce,ft,In),onClose:Zu(In)}}).then(G.windowManager.open)}}},Ge=G=>{G.addCommand("mceImage",Ae(G).open),G.addCommand("mceUpdateImage",(ce,De)=>{G.undoManager.transact(()=>La(G,De))})},Rt=G=>{const ce=G.attr("class");return ve(ce)&&/\bimage\b/.test(ce)},mn=G=>ce=>{let De=ce.length;const ft=In=>{In.attr("contenteditable",G?"true":null)};for(;De--;){const In=ce[De];Rt(In)&&(In.attr("contenteditable",G?"false":null),Oc.each(In.getAll("figcaption"),ft))}},Fn=G=>{G.on("PreInit",()=>{G.parser.addNodeFilter("figure",mn(!0)),G.serializer.addNodeFilter("figure",mn(!1))})},es=G=>ce=>{const De=()=>{ce.setEnabled(G.selection.isEditable())};return G.on("NodeChange",De),De(),()=>{G.off("NodeChange",De)}},Uo=G=>{G.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Ae(G).open,onSetup:ce=>{ce.setActive(ve(Ac(G)));const De=G.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",ce.setActive).unbind,ft=es(G)(ce);return()=>{De(),ft()}}}),G.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Ae(G).open,onSetup:es(G)}),G.ui.registry.addContextMenu("image",{update:ce=>G.selection.isEditable()&&(Pa(ce)||Tc(ce)&&!gt(ce))?["image"]:[]})};var Cs=()=>{a.add("image",G=>{ut(G),Fn(G),Uo(G),Ge(G)})};Cs()})()),qse}var Kse;function ihe(){return Kse||(Kse=1,rhe()),Zse}ihe();var Yse={},Xse={},Jse;function ahe(){return Jse||(Jse=1,(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=($,Z)=>{$.focus(),$.undoManager.transact(()=>{$.setContent(Z)}),$.selection.setCursorLocation(),$.nodeChanged()},g=$=>$.getContent({source_view:!0}),b=$=>{const Z=g($);$.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Z},onSubmit:ne=>{u($,ne.getData().code),ne.close()}})},x=$=>{$.addCommand("mceCodeEditor",()=>{b($)})},D=$=>{const Z=()=>$.execCommand("mceCodeEditor");$.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Z}),$.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Z})};var P=()=>{a.add("code",$=>(x($),D($),{}))};P()})()),Xse}var Qse;function che(){return Qse||(Qse=1,ahe()),Yse}che();var ere={},tre={},nre;function lhe(){return nre||(nre=1,(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(M,I,te)=>{var he;return te(M,I.prototype)?!0:((he=M.constructor)===null||he===void 0?void 0:he.name)===I.name},g=M=>{const I=typeof M;return M===null?"null":I==="object"&&Array.isArray(M)?"array":I==="object"&&u(M,String,(te,he)=>he.isPrototypeOf(te))?"string":I},b=M=>I=>g(I)===M,x=M=>I=>typeof I===M,D=M=>I=>M===I,P=b("string"),$=b("array"),Z=x("boolean"),ne=D(void 0),ee=M=>M==null,Se=M=>!ee(M),ke=x("function"),ye=x("number"),be=()=>{},ve=(M,I)=>te=>M(I(te)),ue=M=>()=>M,Be=M=>M,Le=(M,I)=>M===I;function oe(M,...I){return(...te)=>{const he=I.concat(te);return M.apply(null,he)}}const Oe=M=>{M()},qe=ue(!1),Xe=ue(!0);class k{constructor(I,te){this.tag=I,this.value=te}static some(I){return new k(!0,I)}static none(){return k.singletonNone}fold(I,te){return this.tag?te(this.value):I()}isSome(){return this.tag}isNone(){return!this.tag}map(I){return this.tag?k.some(I(this.value)):k.none()}bind(I){return this.tag?I(this.value):k.none()}exists(I){return this.tag&&I(this.value)}forall(I){return!this.tag||I(this.value)}filter(I){return!this.tag||I(this.value)?this:k.none()}getOr(I){return this.tag?this.value:I}or(I){return this.tag?this:I}getOrThunk(I){return this.tag?this.value:I()}orThunk(I){return this.tag?this:I()}getOrDie(I){if(this.tag)return this.value;throw new Error(I??"Called getOrDie on None")}static from(I){return Se(I)?k.some(I):k.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(I){this.tag&&I(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}k.singletonNone=new k(!1);const Ot=Array.prototype.indexOf,ht=Array.prototype.push,Je=(M,I)=>Ot.call(M,I),Ie=(M,I)=>Je(M,I)>-1,xe=(M,I)=>{for(let te=0,he=M.length;te<he;te++){const Fe=M[te];if(I(Fe,te))return!0}return!1},qt=(M,I)=>{const te=[];for(let he=0;he<M;he++)te.push(I(he));return te},Ct=(M,I)=>{const te=M.length,he=new Array(te);for(let Fe=0;Fe<te;Fe++){const kt=M[Fe];he[Fe]=I(kt,Fe)}return he},Nt=(M,I)=>{for(let te=0,he=M.length;te<he;te++){const Fe=M[te];I(Fe,te)}},B=(M,I)=>{for(let te=M.length-1;te>=0;te--){const he=M[te];I(he,te)}},Hn=(M,I)=>{const te=[],he=[];for(let Fe=0,kt=M.length;Fe<kt;Fe++){const xn=M[Fe];(I(xn,Fe)?te:he).push(xn)}return{pass:te,fail:he}},Qe=(M,I)=>{const te=[];for(let he=0,Fe=M.length;he<Fe;he++){const kt=M[he];I(kt,he)&&te.push(kt)}return te},ln=(M,I,te)=>(B(M,(he,Fe)=>{te=I(te,he,Fe)}),te),$t=(M,I,te)=>(Nt(M,(he,Fe)=>{te=I(te,he,Fe)}),te),Ue=(M,I,te)=>{for(let he=0,Fe=M.length;he<Fe;he++){const kt=M[he];if(I(kt,he))return k.some(kt);if(te(kt,he))break}return k.none()},Pn=(M,I)=>Ue(M,I,qe),jo=M=>{const I=[];for(let te=0,he=M.length;te<he;++te){if(!$(M[te]))throw new Error("Arr.flatten item "+te+" was not an array, input: "+M);ht.apply(I,M[te])}return I},ho=(M,I)=>jo(Ct(M,I)),vo=(M,I)=>{for(let te=0,he=M.length;te<he;++te){const Fe=M[te];if(I(Fe,te)!==!0)return!1}return!0},Tt=(M,I)=>{const te={};for(let he=0,Fe=M.length;he<Fe;he++){const kt=M[he];te[String(kt)]=I(kt,he)}return te},rn=(M,I)=>I>=0&&I<M.length?k.some(M[I]):k.none(),K=M=>rn(M,0),dr=M=>rn(M,M.length-1),_o=(M,I)=>{for(let te=0;te<M.length;te++){const he=I(M[te],te);if(he.isSome())return he}return k.none()},wt=Object.keys,jt=Object.hasOwnProperty,$n=(M,I)=>{const te=wt(M);for(let he=0,Fe=te.length;he<Fe;he++){const kt=te[he],xn=M[kt];I(xn,kt)}},ut=M=>(I,te)=>{M[te]=I},Xt=(M,I,te,he)=>{$n(M,(Fe,kt)=>{(I(Fe,kt)?te:he)(Fe,kt)})},Lt=(M,I)=>{const te={};return Xt(M,I,ut(te),be),te},Re=(M,I)=>{const te=[];return $n(M,(he,Fe)=>{te.push(I(he,Fe))}),te},et=M=>Re(M,Be),St=M=>wt(M).length,pe=(M,I)=>at(M,I)?k.from(M[I]):k.none(),at=(M,I)=>jt.call(M,I),Dt=(M,I)=>at(M,I)&&M[I]!==void 0&&M[I]!==null,Ht=M=>{for(const I in M)if(jt.call(M,I))return!1;return!0},st=M=>{let I=M;return{get:()=>I,set:Fe=>{I=Fe}}},rt=(M,I,te=Le)=>M.exists(he=>te(he,I)),ao=M=>{const I=[],te=he=>{I.push(he)};for(let he=0;he<M.length;he++)M[he].each(te);return I},So=(M,I,te)=>M.isSome()&&I.isSome()?k.some(te(M.getOrDie(),I.getOrDie())):k.none(),wo=M=>M.bind(Be),Rn=(M,I)=>M?k.some(I):k.none(),Zo=M=>{const I=st(k.none()),te=()=>I.get().each(M);return{clear:()=>{te(),I.set(k.none())},isSet:()=>I.get().isSome(),get:()=>I.get(),set:Gn=>{te(),I.set(k.some(Gn))}}},Vo=()=>Zo(M=>M.unbind()),Oo=(M,I)=>M.substring(I),No=(M,I,te)=>I===""||M.length>=I.length&&M.substr(te,te+I.length)===I,je=(M,I)=>tt(M,I)?Oo(M,I.length):M,tt=(M,I)=>No(M,I,0),bt=(M=>I=>I.replace(M,""))(/^\s+|\s+$/g),bn=M=>M.length>0,_n=M=>!bn(M),zn=(M,I=10)=>{const te=parseInt(M,I);return isNaN(te)?k.none():k.some(te)},_t=M=>{const I=parseFloat(M);return isNaN(I)?k.none():k.some(I)},yn=M=>{let I=!1,te;return(...he)=>(I||(I=!0,te=M.apply(null,he)),te)},cn=(M,I)=>{const he=(I||document).createElement("div");if(he.innerHTML=M,!he.hasChildNodes()||he.childNodes.length>1){const Fe="HTML does not have a single root node";throw console.error(Fe,M),new Error(Fe)}return Qt(he.childNodes[0])},ro=(M,I)=>{const he=(I||document).createElement(M);return Qt(he)},Do=(M,I)=>{const he=(I||document).createTextNode(M);return Qt(he)},Qt=M=>{if(M==null)throw new Error("Node cannot be null or undefined");return{dom:M}},Xo={fromHtml:cn,fromTag:ro,fromText:Do,fromDom:Qt,fromPoint:(M,I,te)=>k.from(M.dom.elementFromPoint(I,te)).map(Qt)},si=8,Nr=9,mr=11,Jo=1,jn=3,Qo=(M,I)=>{const te=M.dom;if(te.nodeType!==Jo)return!1;{const he=te;if(he.matches!==void 0)return he.matches(I);if(he.msMatchesSelector!==void 0)return he.msMatchesSelector(I);if(he.webkitMatchesSelector!==void 0)return he.webkitMatchesSelector(I);if(he.mozMatchesSelector!==void 0)return he.mozMatchesSelector(I);throw new Error("Browser lacks native selectors")}},Ji=M=>M.nodeType!==Jo&&M.nodeType!==Nr&&M.nodeType!==mr||M.childElementCount===0,Pa=(M,I)=>{const te=I===void 0?document:I.dom;return Ji(te)?[]:Ct(te.querySelectorAll(M),Xo.fromDom)},Tc=(M,I)=>{const te=I===void 0?document:I.dom;return Ji(te)?k.none():k.from(te.querySelector(M)).map(Xo.fromDom)},Un=(M,I)=>M.dom===I.dom,ha=Qo,ri=M=>M.dom.nodeName.toLowerCase(),Wu=M=>M.dom.nodeType,Ri=M=>I=>Wu(I)===M,Nl=M=>Wu(M)===si||ri(M)==="#comment",ws=Ri(Jo),Gc=Ri(jn),dl=Ri(Nr),kc=Ri(mr),qa=M=>I=>ws(I)&&ri(I)===M,ii=M=>Xo.fromDom(M.dom.ownerDocument),Ac=M=>dl(M)?M:ii(M),fl=M=>k.from(M.dom.parentNode).map(Xo.fromDom),Tn=(M,I)=>{const te=ke(I)?I:qe;let he=M.dom;const Fe=[];for(;he.parentNode!==null&&he.parentNode!==void 0;){const kt=he.parentNode,xn=Xo.fromDom(kt);if(Fe.push(xn),te(xn)===!0)break;he=kt}return Fe},Rd=M=>k.from(M.dom.previousSibling).map(Xo.fromDom),Il=M=>k.from(M.dom.nextSibling).map(Xo.fromDom),Bl=M=>Ct(M.dom.childNodes,Xo.fromDom),Is=(M,I)=>{const te=M.dom.childNodes;return k.from(te[I]).map(Xo.fromDom)},Md=M=>Is(M,0),La=M=>kc(M)&&Se(M.dom.host),Gr=M=>Xo.fromDom(M.dom.getRootNode()),Oc=M=>{const I=Gr(M);return La(I)?k.some(I):k.none()},$l=M=>Xo.fromDom(M.dom.host),ga=(M,I)=>{fl(M).each(he=>{he.dom.insertBefore(I.dom,M.dom)})},er=(M,I)=>{Il(M).fold(()=>{fl(M).each(Fe=>{ti(Fe,I)})},he=>{ga(he,I)})},Qi=(M,I)=>{Md(M).fold(()=>{ti(M,I)},he=>{M.dom.insertBefore(I.dom,he.dom)})},ti=(M,I)=>{M.dom.appendChild(I.dom)},xf=(M,I)=>{ga(M,I),ti(I,M)},Sf=(M,I)=>{Nt(I,(te,he)=>{const Fe=he===0?M:I[he-1];er(Fe,te)})},pa=(M,I)=>{Nt(I,te=>{ti(M,te)})},Ga=(M,I,te)=>{if(P(te)||Z(te)||ye(te))M.setAttribute(I,te+"");else throw console.error("Invalid call to Attribute.set. Key ",I,":: Value ",te,":: Element ",M),new Error("Attribute value was not simple")},sc=(M,I,te)=>{Ga(M.dom,I,te)},Pd=(M,I)=>{const te=M.dom;$n(I,(he,Fe)=>{Ga(te,Fe,he)})},xr=(M,I)=>{const te=M.dom.getAttribute(I);return te===null?void 0:te},go=(M,I)=>k.from(xr(M,I)),Sr=(M,I)=>{M.dom.removeAttribute(I)},Mi=M=>$t(M.dom.attributes,(I,te)=>(I[te.name]=te.value,I),{}),tr=M=>{const I=M.dom;I.parentNode!==null&&I.parentNode.removeChild(I)},Ld=M=>{const I=Bl(M);I.length>0&&Sf(M,I),tr(M)},ju=M=>Ct(M,Xo.fromDom),Ws=M=>M.style!==void 0&&ke(M.style.getPropertyValue),ea=M=>{const I=Gc(M)?M.dom.parentNode:M.dom;if(I==null||I.ownerDocument===null)return!1;const te=I.ownerDocument;return Oc(Xo.fromDom(I)).fold(()=>te.body.contains(I),ve(ea,$l))},rc=(M,I,te)=>{if(!P(te))throw console.error("Invalid call to CSS.set. Property ",I,":: Value ",te,":: Element ",M),new Error("CSS value must be a string: "+te);Ws(M)&&M.style.setProperty(I,te)},Ef=(M,I)=>{Ws(M)&&M.style.removeProperty(I)},Sn=(M,I,te)=>{const he=M.dom;rc(he,I,te)},ic=(M,I)=>{const te=M.dom,Fe=window.getComputedStyle(te).getPropertyValue(I);return Fe===""&&!ea(M)?Pi(te,I):Fe},Pi=(M,I)=>Ws(M)?M.style.getPropertyValue(I):"",va=(M,I)=>{const te=M.dom,he=Pi(te,I);return k.from(he).filter(Fe=>Fe.length>0)},Er=(M,I)=>{const te=M.dom;Ef(te,I),rt(go(M,"style").map(bt),"")&&Sr(M,"style")},_f=(M,I)=>_t(M).getOr(I),ba=(M,I,te)=>_f(ic(M,I),te),Ka=(M,I,te,he)=>{const Fe=ba(M,`padding-${te}`,0),kt=ba(M,`padding-${he}`,0),xn=ba(M,`border-${te}-width`,0),Gn=ba(M,`border-${he}-width`,0);return I-Fe-kt-xn-Gn},Zu=(M,I)=>{const te=M.dom,he=te.getBoundingClientRect().width||te.offsetWidth;return Ka(M,he,"left","right")},ml=M=>Zu(M),lu=((M,I)=>{const te=kt=>{if(!M(kt))throw new Error("Can only get "+I+" value of a "+I+" node");return he(kt).getOr("")},he=kt=>M(kt)?k.from(kt.dom.nodeValue):k.none();return{get:te,getOption:he,set:(kt,xn)=>{if(!M(kt))throw new Error("Can only set raw "+I+" value of a "+I+" node");kt.dom.nodeValue=xn}}})(Gc,"text"),hl=M=>lu.get(M),uu=(M,I)=>lu.set(M,I);var pn=(M,I,te,he,Fe)=>M(te,he)?k.some(te):ke(Fe)&&Fe(te)?k.none():I(te,he,Fe);const Fl=(M,I,te)=>{let he=M.dom;const Fe=ke(te)?te:qe;for(;he.parentNode;){he=he.parentNode;const kt=Xo.fromDom(he);if(I(kt))return k.some(kt);if(Fe(kt))break}return k.none()},Gu=(M,I,te)=>pn((Fe,kt)=>kt(Fe),Fl,M,I,te),re=(M,I)=>{const te=Fe=>I(Xo.fromDom(Fe));return Pn(M.dom.childNodes,te).map(Xo.fromDom)},Ae=(M,I,te)=>Fl(M,he=>Qo(he,I),te),Ge=(M,I)=>re(M,te=>Qo(te,I)),Rt=(M,I)=>Tc(I,M),mn=(M,I,te)=>pn((Fe,kt)=>Qo(Fe,kt),Ae,M,I,te),Fn=M=>mn(M,"[contenteditable]"),es=(M,I=!1)=>ea(M)?M.dom.isContentEditable:Fn(M).fold(ue(I),te=>Uo(te)==="true"),Uo=M=>M.dom.contentEditable,Cs=(M,I)=>Qe(Bl(M),I),G=(M,I)=>{let te=[];return Nt(Bl(M),he=>{I(he)&&(te=te.concat([he])),te=te.concat(G(he,I))}),te},ce=(M,I)=>Cs(M,te=>Qo(te,I)),De=(M,I)=>Pa(I,M),ft=(M,I)=>Ge(M,I).isSome(),In=M=>M.nodeName.toLowerCase(),as=M=>Xo.fromDom(M.getBody()),S=M=>I=>Un(I,as(M)),R=M=>M?M.replace(/px$/,""):"",H=M=>/^\d+(\.\d+)?$/.test(M)?M+"px":M,W=M=>Xo.fromDom(M.selection.getStart()),X=M=>Xo.fromDom(M.selection.getEnd()),se=M=>Gu(M,qa("table")).forall(es),me=["tfoot","thead","tbody","colgroup"],Ze=M=>Ie(me,M),We=(M,I)=>({rows:M,columns:I}),pt=(M,I,te)=>({element:M,rowspan:I,colspan:te}),Ut=(M,I,te,he,Fe,kt)=>({element:M,rowspan:I,colspan:te,row:he,column:Fe,isLocked:kt}),hn=(M,I,te)=>({element:M,cells:I,section:te}),It=(M,I,te,he)=>({startRow:M,startCol:I,finishRow:te,finishCol:he}),Vn=(M,I,te)=>({element:M,colspan:I,column:te}),ds=(M,I)=>({element:M,columns:I}),Ys=(M,I,te=0)=>go(M,I).map(he=>parseInt(he,10)).getOr(te),Ds=(M,I)=>Li(M,I,Xe),Li=(M,I,te)=>ho(Bl(M),he=>Qo(he,I)?te(he)?[he]:[]:Li(he,I,te)),Fr=(M,I,te=qe)=>{if(te(I))return k.none();if(Ie(M,ri(I)))return k.some(I);const he=Fe=>Qo(Fe,"table")||te(Fe);return Ae(I,M.join(","),he)},gl=(M,I)=>Fr(["td","th"],M,I),pl=M=>Ds(M,"th,td"),js=M=>Qo(M,"colgroup")?ce(M,"col"):ho(ai(M),I=>ce(I,"col")),ta=(M,I)=>mn(M,"table",I),nr=M=>Ds(M,"tr"),ai=M=>ta(M).fold(ue([]),I=>ce(I,"colgroup")),wm=qa("th"),Dc=(M,I)=>M&&I?"sectionCells":M?"section":"cells",Hl=M=>{const I=M.section==="thead",te=rt(Cm(M.cells),"th");return M.section==="tfoot"?{type:"footer"}:I||te?{type:"header",subType:Dc(I,te)}:{type:"body"}},Cm=M=>{const I=Qe(M,te=>wm(te.element));return I.length===0?k.some("td"):I.length===M.length?k.some("th"):k.none()},Kc=M=>{const I=Ct(M,Fe=>Hl(Fe).type),te=Ie(I,"header"),he=Ie(I,"footer");if(!te&&!he)return k.some("body");{const Fe=Ie(I,"body");return te&&!Fe&&!he?k.some("header"):!te&&!Fe&&he?k.some("footer"):k.none()}},zl=(M,I)=>Ct(M,te=>{if(ri(te)==="colgroup"){const he=Ct(js(te),Fe=>{const kt=Ys(Fe,"span",1);return pt(Fe,1,kt)});return hn(te,he,"colgroup")}else{const he=Ct(pl(te),Fe=>{const kt=Ys(Fe,"rowspan",1),xn=Ys(Fe,"colspan",1);return pt(Fe,kt,xn)});return hn(te,he,I(te))}}),Nd=M=>fl(M).map(I=>{const te=ri(I);return Ze(te)?te:"tbody"}).getOr("tbody"),Yc=M=>{const I=nr(M),he=[...ai(M),...I];return zl(he,Nd)},xm="data-snooker-locked-cols",na=M=>go(M,xm).bind(I=>k.from(I.match(/\d+/g))).map(I=>Tt(I,Xe)),xi=(M,I)=>M+","+I,Id=(M,I,te)=>k.from(M.access[xi(I,te)]),Z1=(M,I,te)=>{const he=fs(M,Fe=>te(I,Fe.element));return he.length>0?k.some(he[0]):k.none()},fs=(M,I)=>{const te=ho(M.all,he=>he.cells);return Qe(te,I)},Ir=M=>{const I={};let te=0;return Nt(M.cells,he=>{const Fe=he.colspan;qt(Fe,kt=>{const xn=te+kt;I[xn]=Vn(he.element,Fe,xn)}),te+=Fe}),I},Bd=M=>{const I={},te=[],Fe=K(M).map(lc=>lc.element).bind(ta).bind(na).getOr({});let kt=0,xn=0,Gn=0;const{pass:Bo,fail:Ko}=Hn(M,lc=>lc.section==="colgroup");Nt(Ko,lc=>{const Vd=[];Nt(lc.cells,Ud=>{let Yl=0;for(;I[xi(Gn,Yl)]!==void 0;)Yl++;const iv=Dt(Fe,Yl.toString()),mh=Ut(Ud.element,Ud.rowspan,Ud.colspan,Gn,Yl,iv);for(let Ap=0;Ap<Ud.colspan;Ap++)for(let _m=0;_m<Ud.rowspan;_m++){const hh=Gn+_m,Op=Yl+Ap,Dp=xi(hh,Op);I[Dp]=mh,xn=Math.max(xn,Op+1)}Vd.push(mh)}),kt++,te.push(hn(lc.element,Vd,lc.section)),Gn++});const{columns:lr,colgroups:Tr}=dr(Bo).map(lc=>{const Vd=Ir(lc);return{colgroups:[ds(lc.element,et(Vd))],columns:Vd}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:We(kt,xn),access:I,all:te,columns:lr,colgroups:Tr}},cr={fromTable:M=>{const I=Yc(M);return Bd(I)},generate:Bd,getAt:Id,findItem:Z1,filterItems:fs,justCells:M=>ho(M.all,I=>I.cells),justColumns:M=>et(M.columns),hasColumns:M=>wt(M.columns).length>0,getColumnAt:(M,I)=>k.from(M.columns[I])},du=(M,I)=>_o(M.all,te=>Pn(te.cells,he=>Un(I,he.element))),Ku=(M,I,te)=>{const he=Ct(I.selection,kt=>gl(kt).bind(xn=>du(M,xn)).filter(te)),Fe=ao(he);return Rn(Fe.length>0,Fe)},on=(M,I)=>I.mergable,oa=(M,I)=>I.unmergable,Yu=(M,I)=>Ku(M,I,Xe),Ya=(M,I)=>du(M,I).exists(te=>!te.isLocked),Xu=(M,I)=>vo(I,te=>Ya(M,te)),sg=(M,I)=>on(M,I).filter(te=>Xu(M,te.cells)),Ee=(M,I)=>oa(M,I).filter(te=>Xu(M,te));var ya=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Vl=()=>{const M=Ko=>Xo.fromDom(Ko.dom.cloneNode(!1)),I=Ko=>Ac(Ko).dom,te=Ko=>ws(Ko)?ri(Ko)==="body"?!0:Ie(ya,ri(Ko)):!1,he=Ko=>ws(Ko)?Ie(["br","img","hr","input"],ri(Ko)):!1,Fe=Ko=>ws(Ko)&&xr(Ko,"contenteditable")==="false",kt=(Ko,lr)=>Ko.dom.compareDocumentPosition(lr.dom),xn=(Ko,lr)=>{const Tr=Mi(Ko);Pd(lr,Tr)},Gn=Ko=>{const lr=ri(Ko);return Ie(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],lr)},Bo=Ko=>ws(Ko)?go(Ko,"lang"):k.none();return{up:ue({selector:Ae,closest:mn,predicate:Fl,all:Tn}),down:ue({selector:De,predicate:G}),styles:ue({get:ic,getRaw:va,set:Sn,remove:Er}),attrs:ue({get:xr,set:sc,remove:Sr,copyTo:xn}),insert:ue({before:ga,after:er,afterAll:Sf,append:ti,appendAll:pa,prepend:Qi,wrap:xf}),remove:ue({unwrap:Ld,remove:tr}),create:ue({nu:Xo.fromTag,clone:M,text:Xo.fromText}),query:ue({comparePosition:kt,prevSibling:Rd,nextSibling:Il}),property:ue({children:Bl,name:ri,parent:fl,document:I,isText:Gc,isComment:Nl,isElement:ws,isSpecial:Gn,getLanguage:Bo,getText:hl,setText:uu,isBoundary:te,isEmptyTag:he,isNonEditable:Fe}),eq:Un,is:ha}};const rg=(M,I,te,he)=>{const Fe=te[0],kt=te.slice(1);return he(M,I,Fe,kt)},Ju=(M,I,te)=>te.length>0?rg(M,I,te,Vi):k.none(),Vi=(M,I,te,he)=>{const Fe=I(M,te);return ln(he,(kt,xn)=>{const Gn=I(M,xn);return Me(M,kt,Gn)},Fe)},Me=(M,I,te)=>I.bind(he=>te.filter(oe(M.eq,he))),nt=Ju,Bt=Vl(),Zt=(M,I)=>nt(Bt,(te,he)=>M(he),I),eo=(M,I)=>{const te=cr.fromTable(M);return Yu(te,I).bind(Fe=>{const kt=Fe[Fe.length-1],xn=Fe[0].row,Gn=kt.row+kt.rowspan,Bo=te.all.slice(xn,Gn);return Kc(Bo)}).getOr("")},co=(M,I)=>I.column>=M.startCol&&I.column+I.colspan-1<=M.finishCol&&I.row>=M.startRow&&I.row+I.rowspan-1<=M.finishRow,Ho=(M,I)=>{let te=!0;const he=oe(co,I);for(let Fe=I.startRow;Fe<=I.finishRow;Fe++)for(let kt=I.startCol;kt<=I.finishCol;kt++)te=te&&cr.getAt(M,Fe,kt).exists(he);return te?k.some(I):k.none()},xo=(M,I)=>It(Math.min(M.row,I.row),Math.min(M.column,I.column),Math.max(M.row+M.rowspan-1,I.row+I.rowspan-1),Math.max(M.column+M.colspan-1,I.column+I.colspan-1)),cs=(M,I,te)=>{const he=cr.findItem(M,I,Un),Fe=cr.findItem(M,te,Un);return he.bind(kt=>Fe.map(xn=>xo(kt,xn)))},ls=(M,I,te)=>cs(M,I,te).bind(he=>Ho(M,he)),Go=(M,I,te)=>{const he=bs(M);return ls(he,I,te)},bs=cr.fromTable;var Nn=tinymce.util.Tools.resolve("tinymce.util.Tools");const Rs=(M,I,te)=>{const he=M.select("td,th",I);let Fe;for(let kt=0;kt<he.length;kt++){const xn=M.getStyle(he[kt],te);if(ne(Fe)&&(Fe=xn),Fe!==xn)return""}return Fe},Ui=(M,I,te)=>{Nn.each("left center right".split(" "),he=>{he!==te&&M.formatter.remove("align"+he,{},I)}),te&&M.formatter.apply("align"+te,{},I)},wa=(M,I,te)=>{Nn.each("top middle bottom".split(" "),he=>{he!==te&&M.formatter.remove("valign"+he,{},I)}),te&&M.formatter.apply("valign"+te,{},I)},ko=(M,I,te)=>{M.dispatch("TableModified",{...te,table:I})};var sa=tinymce.util.Tools.resolve("tinymce.Env");const Br="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Jr=qt(5,M=>{const I=`${M+1}px`;return{title:I,value:I}}),fu=Ct(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],M=>({title:M,value:M.toLowerCase()})),Ur="100%",Ms=M=>{var I;const te=M.dom,he=(I=te.getParent(M.selection.getStart(),te.isBlock))!==null&&I!==void 0?I:M.getBody();return ml(Xo.fromDom(he))+"px"},$w=(M,I)=>K0(M)||!cc(M)?I:Tf(M)?{...I,width:Ms(M)}:{...I,width:Ur},Fw=(M,I)=>K0(M)||cc(M)?I:Tf(M)?{...I,width:Ms(M)}:{...I,width:Ur},vi=M=>I=>I.options.get(M),Ul=M=>{const I=M.options.register;I("table_border_widths",{processor:"object[]",default:Jr}),I("table_border_styles",{processor:"object[]",default:fu}),I("table_cell_advtab",{processor:"boolean",default:!0}),I("table_row_advtab",{processor:"boolean",default:!0}),I("table_advtab",{processor:"boolean",default:!0}),I("table_appearance_options",{processor:"boolean",default:!0}),I("table_grid",{processor:"boolean",default:!sa.deviceType.isTouch()}),I("table_cell_class_list",{processor:"object[]",default:[]}),I("table_row_class_list",{processor:"object[]",default:[]}),I("table_class_list",{processor:"object[]",default:[]}),I("table_toolbar",{processor:"string",default:Br}),I("table_background_color_map",{processor:"object[]",default:[]}),I("table_border_color_map",{processor:"object[]",default:[]})},Wl=vi("table_sizing_mode"),Si=vi("table_border_widths"),mu=vi("table_border_styles"),ac=vi("table_cell_advtab"),Xc=vi("table_row_advtab"),Na=vi("table_advtab"),Bs=vi("table_appearance_options"),vl=vi("table_grid"),cc=vi("table_style_by_css"),ra=vi("table_cell_class_list"),Wi=vi("table_row_class_list"),Hr=vi("table_class_list"),jl=vi("table_toolbar"),ji=vi("table_background_color_map"),ci=vi("table_border_color_map"),Tf=M=>Wl(M)==="fixed",K0=M=>Wl(M)==="responsive",xp=M=>{const I=M.options,te=I.get("table_default_styles");return I.isSet("table_default_styles")?te:$w(M,te)},Zi=M=>{const I=M.options,te=I.get("table_default_attributes");return I.isSet("table_default_attributes")?te:Fw(M,te)},q1=M=>Ae(M,"table"),Y0=(M,I)=>{const te=De(M,I);return te.length>0?k.some(te):k.none()},Em=(M,I,te)=>Rt(M,I).bind(he=>Rt(M,te).bind(Fe=>Zt(q1,[he,Fe]).map(kt=>({first:he,last:Fe,table:kt})))),lo=(M,I)=>Y0(M,I),G1=(M,I,te)=>Em(M,I,te).bind(he=>{const Fe=Bo=>Un(M,Bo),kt="thead,tfoot,tbody,table",xn=Ae(he.first,kt,Fe),Gn=Ae(he.last,kt,Fe);return xn.bind(Bo=>Gn.bind(Ko=>Un(Bo,Ko)?Go(he.table,he.first,he.last):k.none()))}),Ni=Be,ia=M=>{const I=(he,Fe)=>go(he,Fe).exists(kt=>parseInt(kt,10)>1),te=he=>I(he,"rowspan")||I(he,"colspan");return M.length>0&&vo(M,te)?k.some(M):k.none()},aa=(M,I,te)=>I.length<=1?k.none():G1(M,te.firstSelectedSelector,te.lastSelectedSelector).map(he=>({bounds:he,cells:I})),hr="data-mce-selected",kf="data-mce-first-selected",Sp="td["+kf+"],th["+kf+"]",bl="data-mce-last-selected",hu="td["+bl+"],th["+bl+"]",K1={selected:hr,firstSelectedSelector:Sp,lastSelectedSelector:hu},Y1=M=>ta(M).bind(I=>lo(I,K1.firstSelectedSelector)).fold(ue(M),I=>I[0]),ig=M=>(I,te)=>{const he=ri(I),Fe=he==="col"||he==="colgroup"?Y1(I):I;return mn(Fe,M,te)},Qu=ig("th,td,caption"),Zl=ig("th,td"),X1=M=>ju(M.model.table.getSelectedCells()),Ca=(M,I)=>{const te=Zl(M),he=te.bind(Fe=>ta(Fe)).map(Fe=>nr(Fe));return So(te,he,(Fe,kt)=>Qe(kt,xn=>xe(ju(xn.dom.cells),Gn=>xr(Gn,I)==="1"||Un(Gn,Fe)))).getOr([])},yl=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],ed=M=>({value:ag(M)}),xs=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Jc=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,X0=M=>xs.test(M)||Jc.test(M),ag=M=>je(M,"#").toUpperCase(),wl=M=>X0(M)?k.some({value:ag(M)}):k.none(),bo=M=>{const I=M.toString(16);return(I.length===1?"0"+I:I).toUpperCase()},$r=M=>{const I=bo(M.red)+bo(M.green)+bo(M.blue);return ed(I)},xa=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,gr=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Cl=(M,I,te,he)=>({red:M,green:I,blue:te,alpha:he}),_r=(M,I,te,he)=>{const Fe=parseInt(M,10),kt=parseInt(I,10),xn=parseInt(te,10),Gn=parseFloat(he);return Cl(Fe,kt,xn,Gn)},bi=M=>{const I=xa.exec(M);if(I!==null)return k.some(_r(I[1],I[2],I[3],"1"));const te=gr.exec(M);return te!==null?k.some(_r(te[1],te[2],te[3],te[4])):k.none()},ah=M=>wl(M).orThunk(()=>bi(M).map($r)).getOrThunk(()=>{const I=document.createElement("canvas");I.height=1,I.width=1;const te=I.getContext("2d");te.clearRect(0,0,I.width,I.height),te.fillStyle="#FFFFFF",te.fillStyle=M,te.fillRect(0,0,1,1);const he=te.getImageData(0,0,1,1).data,Fe=he[0],kt=he[1],xn=he[2],Gn=he[3];return $r(Cl(Fe,kt,xn,Gn))}),os=M=>bi(M).map($r).map(I=>"#"+I.value).getOr(M),ql=(M,I,te)=>he=>{const Fe=Vo(),kt=_n(te),xn=()=>{const Gn=X1(M),Bo=Ko=>M.formatter.match(I,{value:te},Ko.dom,kt);kt?(he.setActive(!xe(Gn,Bo)),Fe.set(M.formatter.formatChanged(I,Ko=>he.setActive(!Ko),!0))):(he.setActive(vo(Gn,Bo)),Fe.set(M.formatter.formatChanged(I,he.setActive,!1,{value:te})))};return M.initialized?xn():M.on("init",xn),Fe.clear},or=M=>Dt(M,"menu"),Rc=M=>Ct(M,I=>{const te=I.text||I.title||"";return or(I)?{text:te,items:Rc(I.menu)}:{text:te,value:I.value}}),yi=M=>M.length?k.some(Rc([{text:"Select...",value:"mce-no-match"},...M])):k.none(),wi=(M,I,te,he)=>Ct(I,Fe=>{const kt=Fe.text||Fe.title;return or(Fe)?{type:"nestedmenuitem",text:kt,getSubmenuItems:()=>wi(M,Fe.menu,te,he)}:{text:kt,type:"togglemenuitem",onAction:()=>he(Fe.value),onSetup:ql(M,te,Fe.value)}}),td=(M,I)=>te=>{M.execCommand("mceTableApplyCellStyle",!1,{[I]:te})},ch=M=>ho(M,I=>or(I)?[{...I,menu:ch(I.menu)}]:bn(I.value)?[I]:[]),$d=(M,I,te,he)=>Fe=>Fe(wi(M,I,te,he)),Af=(M,I,te)=>{const he=Ct(I,Fe=>({text:Fe.title,value:"#"+ah(Fe.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:he.length>0?he:void 0,allowCustomColors:!1},onAction:Fe=>{const kt=Fe.value==="remove"?"":Fe.value;M.execCommand("mceTableApplyCellStyle",!1,{[te]:kt})}}]},Of=M=>()=>{const te=M.queryCommandValue("mceTableRowType")==="header"?"body":"header";M.execCommand("mceTableRowType",!1,{type:te})},Sa=M=>()=>{const te=M.queryCommandValue("mceTableColType")==="th"?"td":"th";M.execCommand("mceTableColType",!1,{type:te})},Fd=M=>yi(ra(M)).map(I=>({name:"class",type:"listbox",label:"Class",items:I})),Hw=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:yl}],Df=M=>Hw.concat(Fd(M).toArray()),$s=(M,I)=>{const he=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Rc(mu(M)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:I==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(he):he}},lh={normal:(M,I)=>{const te=M.dom;return{setAttrib:(xn,Gn)=>{te.setAttrib(I,xn,Gn)},setStyle:(xn,Gn)=>{te.setStyle(I,xn,Gn)},setFormat:(xn,Gn)=>{Gn===""?M.formatter.remove(xn,{value:null},I,!0):M.formatter.apply(xn,{value:Gn},I)}}}},Ia=M=>tt(M,"rgb")?os(M):M,Mc=M=>{const I=Xo.fromDom(M);return{borderwidth:va(I,"border-width").getOr(""),borderstyle:va(I,"border-style").getOr(""),bordercolor:va(I,"border-color").map(Ia).getOr(""),backgroundcolor:va(I,"background-color").map(Ia).getOr("")}},Qr=M=>{const I=M[0],te=M.slice(1);return Nt(te,he=>{Nt(wt(I),Fe=>{$n(he,(kt,xn)=>{const Gn=I[Fe];Gn!==""&&Fe===xn&&Gn!==kt&&(I[Fe]=Fe==="class"?"mce-no-match":"")})})}),I},Hd=(M,I,te,he)=>Pn(M,Fe=>!ne(te.formatter.matchNode(he,I+Fe))).getOr(""),li=oe(Hd,["left","center","right"],"align"),uh=oe(Hd,["top","middle","bottom"],"valign"),Ep=(M,I)=>{const te=xp(M),he=Zi(M),Fe=()=>({borderstyle:pe(te,"border-style").getOr(""),bordercolor:Ia(pe(te,"border-color").getOr("")),backgroundcolor:Ia(pe(te,"background-color").getOr(""))}),kt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},xn=()=>{const lr=te["border-width"];return cc(M)&&lr?{border:lr}:pe(he,"border").fold(()=>({}),Tr=>({border:Tr}))},Gn=I?Fe():{},Bo=()=>{const lr=pe(te,"border-spacing").or(pe(he,"cellspacing")).fold(()=>({}),Ci=>({cellspacing:Ci})),Tr=pe(te,"border-padding").or(pe(he,"cellpadding")).fold(()=>({}),Ci=>({cellpadding:Ci}));return{...lr,...Tr}};return{...kt,...te,...he,...Gn,...xn(),...Bo()}},Q1=M=>ta(Xo.fromDom(M)).map(I=>{const te={selection:ju(M.cells)};return eo(I,te)}).getOr(""),MS=(M,I,te)=>{const he=(Gn,Bo)=>{const Ko=va(Xo.fromDom(Bo),"border-width");return cc(M)&&Ko.isSome()?Ko.getOr(""):Gn.getAttrib(Bo,"border")||Rs(M.dom,Bo,"border-width")||Rs(M.dom,Bo,"border")||""},Fe=M.dom,kt=cc(M)?Fe.getStyle(I,"border-spacing")||Fe.getAttrib(I,"cellspacing"):Fe.getAttrib(I,"cellspacing")||Fe.getStyle(I,"border-spacing"),xn=cc(M)?Rs(Fe,I,"padding")||Fe.getAttrib(I,"cellpadding"):Fe.getAttrib(I,"cellpadding")||Rs(Fe,I,"padding");return{width:Fe.getStyle(I,"width")||Fe.getAttrib(I,"width"),height:Fe.getStyle(I,"height")||Fe.getAttrib(I,"height"),cellspacing:kt??"",cellpadding:xn??"",border:he(Fe,I),caption:!!Fe.select("caption",I)[0],class:Fe.getAttrib(I,"class",""),align:li(M,I),...te?Mc(I):{}}},gu=(M,I,te)=>{const he=M.dom;return{height:he.getStyle(I,"height")||he.getAttrib(I,"height"),class:he.getAttrib(I,"class",""),type:Q1(I),align:li(M,I),...te?Mc(I):{}}},zw=(M,I,te,he)=>{const Fe=M.dom,kt=he.getOr(I);return{width:((Gn,Bo)=>Fe.getStyle(Gn,Bo)||Fe.getAttrib(Gn,Bo))(kt,"width"),scope:Fe.getAttrib(I,"scope"),celltype:In(I),class:Fe.getAttrib(I,"class",""),halign:li(M,I),valign:uh(M,I),...te?Mc(I):{}}},ev=(M,I)=>{const te=cr.fromTable(M),he=cr.justCells(te),Fe=Qe(he,kt=>xe(I,xn=>Un(kt.element,xn)));return Ct(Fe,kt=>({element:kt.element.dom,column:cr.getColumnAt(te,kt.column).map(xn=>xn.element.dom)}))},pu=(M,I,te,he)=>{he("scope")&&M.setAttrib("scope",te.scope),he("class")&&te.class!=="mce-no-match"&&M.setAttrib("class",te.class),he("width")&&I.setStyle("width",H(te.width))},J0=(M,I,te)=>{te("backgroundcolor")&&M.setFormat("tablecellbackgroundcolor",I.backgroundcolor),te("bordercolor")&&M.setFormat("tablecellbordercolor",I.bordercolor),te("borderstyle")&&M.setFormat("tablecellborderstyle",I.borderstyle),te("borderwidth")&&M.setFormat("tablecellborderwidth",H(I.borderwidth))},dh=(M,I,te,he)=>{const Fe=I.length===1;Nt(I,kt=>{const xn=kt.element,Gn=Fe?Xe:he,Bo=lh.normal(M,xn),Ko=kt.column.map(lr=>lh.normal(M,lr)).getOr(Bo);pu(Bo,Ko,te,Gn),ac(M)&&J0(Bo,te,Gn),he("halign")&&Ui(M,xn,te.halign),he("valign")&&wa(M,xn,te.valign)})},cg=(M,I)=>{M.execCommand("mceTableCellType",!1,{type:I.celltype,no_events:!0})},lg=(M,I,te,he)=>{const Fe=Lt(he,(kt,xn)=>te[xn]!==kt);St(Fe)>0&&I.length>=1&&ta(I[0]).each(kt=>{const xn=ev(kt,I),Gn=St(Lt(Fe,(Ko,lr)=>lr!=="scope"&&lr!=="celltype"))>0,Bo=at(Fe,"celltype");(Gn||at(Fe,"scope"))&&dh(M,xn,he,oe(at,Fe)),Bo&&cg(M,he),ko(M,kt.dom,{structure:Bo,style:Gn})})},tv=(M,I,te,he)=>{const Fe=he.getData();he.close(),M.undoManager.transact(()=>{lg(M,I,te,Fe),M.focus()})},Q0=(M,I)=>{const te=ta(I[0]).map(he=>Ct(ev(he,I),Fe=>zw(M,Fe.element,ac(M),Fe.column)));return Qr(te.getOrDie())},Gl=M=>{const I=X1(M);if(I.length===0)return;const te=Q0(M,I),he={type:"tabpanel",tabs:[{title:"General",name:"general",items:Df(M)},$s(M,"cell")]},Fe={type:"panel",items:[{type:"grid",columns:2,items:Df(M)}]};M.windowManager.open({title:"Cell Properties",size:"normal",body:ac(M)?he:Fe,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:te,onSubmit:oe(tv,M,I,te)})},Vw=M=>yi(Wi(M)).map(I=>({name:"class",type:"listbox",label:"Class",items:I})),Rf=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Fs=M=>Rf.concat(Vw(M).toArray()),Ba=(M,I,te)=>{te("class")&&I.class!=="mce-no-match"&&M.setAttrib("class",I.class),te("height")&&M.setStyle("height",H(I.height))},nd=(M,I,te)=>{te("backgroundcolor")&&M.setStyle("background-color",I.backgroundcolor),te("bordercolor")&&M.setStyle("border-color",I.bordercolor),te("borderstyle")&&M.setStyle("border-style",I.borderstyle)},nv=(M,I,te,he)=>{const kt=I.length===1?Xe:he;Nt(I,xn=>{const Gn=ce(Xo.fromDom(xn),"td,th"),Bo=lh.normal(M,xn);Ba(Bo,te,kt),Xc(M)&&nd(Bo,te,kt),he("height")&&Nt(Gn,Ko=>{M.dom.setStyle(Ko.dom,"height",null)}),he("align")&&Ui(M,xn,te.align)})},Mf=(M,I)=>{M.execCommand("mceTableRowType",!1,{type:I.type,no_events:!0})},ov=(M,I,te,he)=>{const Fe=Lt(he,(kt,xn)=>te[xn]!==kt);if(St(Fe)>0){const kt=at(Fe,"type"),xn=kt?St(Fe)>1:!0;xn&&nv(M,I,he,oe(at,Fe)),kt&&Mf(M,he),ta(Xo.fromDom(I[0])).each(Gn=>ko(M,Gn.dom,{structure:kt,style:xn}))}},eb=(M,I,te,he)=>{const Fe=he.getData();he.close(),M.undoManager.transact(()=>{ov(M,I,te,Fe),M.focus()})},od=M=>{const I=Ca(W(M),K1.selected);if(I.length===0)return;const te=Ct(I,xn=>gu(M,xn.dom,Xc(M))),he=Qr(te),Fe={type:"tabpanel",tabs:[{title:"General",name:"general",items:Fs(M)},$s(M,"row")]},kt={type:"panel",items:[{type:"grid",columns:2,items:Fs(M)}]};M.windowManager.open({title:"Row Properties",size:"normal",body:Xc(M)?Fe:kt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:he,onSubmit:oe(eb,M,Ct(I,xn=>xn.dom),he)})},sd=(M,I,te)=>{const he=te?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Fe=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],kt=Bs(M)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],xn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Gn=I.length>0?[{name:"class",type:"listbox",label:"Class",items:I}]:[];return he.concat(Fe).concat(kt).concat(xn).concat(Gn)},Gs=(M,I,te,he)=>{if(I.tagName==="TD"||I.tagName==="TH")P(te)&&Se(he)?M.setStyle(I,te,he):M.setStyles(I,te);else if(I.children)for(let Fe=0;Fe<I.children.length;Fe++)Gs(M,I.children[Fe],te,he)},tb=(M,I,te,he)=>{const Fe=M.dom,kt={},xn={},Gn=cc(M),Bo=Na(M),Ko=parseFloat(te.border)===0;if(!ne(te.class)&&te.class!=="mce-no-match"&&(kt.class=te.class),xn.height=H(te.height),Gn?xn.width=H(te.width):Fe.getAttrib(I,"width")&&(kt.width=R(te.width)),Gn?(Ko?(kt.border=0,xn["border-width"]=""):(xn["border-width"]=H(te.border),kt.border=1),xn["border-spacing"]=H(te.cellspacing)):(kt.border=Ko?0:te.border,kt.cellpadding=te.cellpadding,kt.cellspacing=te.cellspacing),Gn&&I.children){const lr={};if(Ko?lr["border-width"]="":he.border&&(lr["border-width"]=H(te.border)),he.cellpadding&&(lr.padding=H(te.cellpadding)),Bo&&he.bordercolor&&(lr["border-color"]=te.bordercolor),!Ht(lr))for(let Tr=0;Tr<I.children.length;Tr++)Gs(Fe,I.children[Tr],lr)}if(Bo){const lr=te;xn["background-color"]=lr.backgroundcolor,xn["border-color"]=lr.bordercolor,xn["border-style"]=lr.borderstyle}Fe.setStyles(I,{...xp(M),...xn}),Fe.setAttribs(I,{...Zi(M),...kt})},zr=(M,I,te,he)=>{const Fe=M.dom,kt=he.getData(),xn=Lt(kt,(Gn,Bo)=>te[Bo]!==Gn);he.close(),M.undoManager.transact(()=>{if(!I){const Gn=zn(kt.cols).getOr(1),Bo=zn(kt.rows).getOr(1);M.execCommand("mceInsertTable",!1,{rows:Bo,columns:Gn}),I=Zl(W(M),S(M)).bind(Ko=>ta(Ko,S(M))).map(Ko=>Ko.dom).getOrDie()}if(St(xn)>0){const Gn={border:at(xn,"border"),bordercolor:at(xn,"bordercolor"),cellpadding:at(xn,"cellpadding")};tb(M,I,kt,Gn);const Bo=Fe.select("caption",I)[0];(Bo&&!kt.caption||!Bo&&kt.caption)&&M.execCommand("mceTableToggleCaption"),Ui(M,I,kt.align)}if(M.focus(),M.addVisual(),St(xn)>0){const Gn=at(xn,"caption"),Bo=Gn?St(xn)>1:!0;ko(M,I,{structure:Gn,style:Bo})}})},fh=(M,I)=>{const te=M.dom;let he,Fe=Ep(M,Na(M));I?(Fe.cols="1",Fe.rows="1",Na(M)&&(Fe.borderstyle="",Fe.bordercolor="",Fe.backgroundcolor="")):(he=te.getParent(M.selection.getStart(),"table",M.getBody()),he?Fe=MS(M,he,Na(M)):Na(M)&&(Fe.borderstyle="",Fe.bordercolor="",Fe.backgroundcolor=""));const kt=yi(Hr(M));kt.isSome()&&Fe.class&&(Fe.class=Fe.class.replace(/\s*mce\-item\-table\s*/g,""));const xn={type:"grid",columns:2,items:sd(M,kt.getOr([]),I)},Gn=()=>({type:"panel",items:[xn]}),Bo=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[xn]},$s(M,"table")]}),Ko=Na(M)?Bo():Gn();M.windowManager.open({title:"Table Properties",size:"normal",body:Ko,onSubmit:oe(zr,M,he,Fe),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Fe})},ui=M=>{const I=te=>{se(W(M))&&te()};$n({mceTableProps:oe(fh,M,!1),mceTableRowProps:oe(od,M),mceTableCellProps:oe(Gl,M),mceInsertTableDialog:oe(fh,M,!0)},(te,he)=>M.addCommand(he,()=>I(te)))},rd=M=>({element:M,mergable:k.none(),unmergable:k.none(),selection:[M]}),$a=(M,I,te)=>({element:te,mergable:aa(I,M,K1),unmergable:ia(M),selection:Ni(M)}),zd=M=>{const I=st(k.none()),te=st([]);let he=k.none();const Fe=qa("caption"),kt=ys=>he.forall(sr=>!sr[ys]),xn=()=>Qu(W(M),S(M)),Gn=()=>Qu(X(M),S(M)),Bo=()=>xn().bind(ys=>wo(So(ta(ys),Gn().bind(ta),(sr,Ii)=>Un(sr,Ii)?Fe(ys)?k.some(rd(ys)):k.some($a(X1(M),sr,ys)):k.none()))),Ko=ys=>ta(ys.element).map(Ii=>{const Lc=cr.fromTable(Ii),Rp=Yu(Lc,ys).getOr([]),dg=$t(Rp,(Mp,Pp)=>(Pp.isLocked&&(Mp.onAny=!0,Pp.column===0?Mp.onFirst=!0:Pp.column+Pp.colspan>=Lc.grid.columns&&(Mp.onLast=!0)),Mp),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:sg(Lc,ys).isSome(),unmergeable:Ee(Lc,ys).isSome(),locked:dg}}),lr=()=>{I.set(yn(Bo)()),he=I.get().bind(Ko),Nt(te.get(),Oe)},Tr=ys=>(ys(),te.set(te.get().concat([ys])),()=>{te.set(Qe(te.get(),sr=>sr!==ys))}),Ci=(ys,sr)=>Tr(()=>I.get().fold(()=>{ys.setEnabled(!1)},Ii=>{ys.setEnabled(!sr(Ii)&&M.selection.isEditable())})),lc=(ys,sr,Ii)=>Tr(()=>I.get().fold(()=>{ys.setEnabled(!1),ys.setActive(!1)},Lc=>{ys.setEnabled(!sr(Lc)&&M.selection.isEditable()),ys.setActive(Ii(Lc))})),Vd=ys=>he.exists(sr=>sr.locked[ys]),Ud=ys=>Ci(ys,sr=>!1),Yl=ys=>Ci(ys,sr=>Fe(sr.element)),iv=ys=>sr=>Ci(sr,Ii=>Fe(Ii.element)||Vd(ys)),mh=ys=>sr=>Ci(sr,Ii=>Fe(Ii.element)||ys().isNone()),Ap=(ys,sr)=>Ii=>Ci(Ii,Lc=>Fe(Lc.element)||ys().isNone()||Vd(sr)),_m=ys=>Ci(ys,sr=>kt("mergeable")),hh=ys=>Ci(ys,sr=>kt("unmergeable")),Op=ys=>lc(ys,qe,sr=>ta(sr.element,S(M)).exists(Lc=>ft(Lc,"caption"))),Dp=(ys,sr)=>Ii=>lc(Ii,Lc=>Fe(Lc.element),()=>M.queryCommandValue(ys)===sr),Ww=Dp("mceTableRowType","header"),jw=Dp("mceTableColType","th");return M.on("NodeChange ExecCommand TableSelectorChange",lr),{onSetupTable:Ud,onSetupCellOrRow:Yl,onSetupColumn:iv,onSetupPasteable:mh,onSetupPasteableColumn:Ap,onSetupMergeable:_m,onSetupUnmergeable:hh,resetTargets:lr,onSetupTableWithCaption:Op,onSetupTableRowHeaders:Ww,onSetupTableColumnHeaders:jw,targets:I.get}};var _p=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const sv="x-tinymce/dom-table-",rv=sv+"rows",Uw=sv+"columns",Pc=M=>{var I;const te=(I=_p.read())!==null&&I!==void 0?I:[];return _o(te,he=>k.from(he.getType(M)))},vu=()=>Pc(rv),di=()=>Pc(Uw),qi=M=>I=>{const te=()=>{I.setEnabled(M.selection.isEditable())};return M.on("NodeChange",te),te(),()=>{M.off("NodeChange",te)}},Tp=(M,I)=>{M.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:qi(M),fetch:Gn=>Gn("inserttable | cell row column | advtablesort | tableprops deletetable")});const te=Gn=>()=>M.execCommand(Gn),he=(Gn,Bo)=>{M.queryCommandSupported(Bo.command)&&M.ui.registry.addButton(Gn,{...Bo,onAction:ke(Bo.onAction)?Bo.onAction:te(Bo.command)})},Fe=(Gn,Bo)=>{M.queryCommandSupported(Bo.command)&&M.ui.registry.addToggleButton(Gn,{...Bo,onAction:ke(Bo.onAction)?Bo.onAction:te(Bo.command)})};he("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:I.onSetupTable}),he("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:I.onSetupTable}),he("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:I.onSetupCellOrRow}),he("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:I.onSetupMergeable}),he("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:I.onSetupUnmergeable}),he("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:I.onSetupCellOrRow}),he("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:I.onSetupCellOrRow}),he("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:I.onSetupCellOrRow}),he("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:I.onSetupCellOrRow}),he("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:I.onSetupColumn("onFirst")}),he("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:I.onSetupColumn("onLast")}),he("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:I.onSetupColumn("onAny")}),he("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:I.onSetupCellOrRow}),he("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:I.onSetupCellOrRow}),he("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:I.onSetupPasteable(vu)}),he("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:I.onSetupPasteable(vu)}),he("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:I.onSetupColumn("onAny")}),he("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:I.onSetupColumn("onAny")}),he("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:I.onSetupPasteableColumn(di,"onFirst")}),he("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:I.onSetupPasteableColumn(di,"onLast")}),he("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:qi(M)});const kt=ch(Hr(M));kt.length!==0&&M.queryCommandSupported("mceTableToggleClass")&&M.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:$d(M,kt,"tableclass",Gn=>M.execCommand("mceTableToggleClass",!1,Gn)),onSetup:I.onSetupTable});const xn=ch(ra(M));xn.length!==0&&M.queryCommandSupported("mceTableCellToggleClass")&&M.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:$d(M,xn,"tablecellclass",Gn=>M.execCommand("mceTableCellToggleClass",!1,Gn)),onSetup:I.onSetupCellOrRow}),M.queryCommandSupported("mceTableApplyCellStyle")&&(M.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:$d(M,yl,"tablecellverticalalign",td(M,"vertical-align")),onSetup:I.onSetupCellOrRow}),M.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:$d(M,Si(M),"tablecellborderwidth",td(M,"border-width")),onSetup:I.onSetupCellOrRow}),M.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:$d(M,mu(M),"tablecellborderstyle",td(M,"border-style")),onSetup:I.onSetupCellOrRow}),M.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Gn=>Gn(Af(M,ji(M),"background-color")),onSetup:I.onSetupCellOrRow}),M.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Gn=>Gn(Af(M,ci(M),"border-color")),onSetup:I.onSetupCellOrRow})),Fe("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:I.onSetupTableWithCaption}),Fe("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Of(M),onSetup:I.onSetupTableRowHeaders}),Fe("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Sa(M),onSetup:I.onSetupTableColumnHeaders})},ug=M=>{const I=he=>M.dom.is(he,"table")&&M.getBody().contains(he)&&M.dom.isEditable(he.parentNode),te=jl(M);te.length>0&&M.ui.registry.addContextToolbar("table",{predicate:I,items:te,scope:"node",position:"node"})},kp=M=>I=>{const te=()=>{I.setEnabled(M.selection.isEditable())};return M.on("NodeChange",te),te(),()=>{M.off("NodeChange",te)}},nb=(M,I)=>{const te=Tr=>()=>M.execCommand(Tr),he=(Tr,Ci)=>M.queryCommandSupported(Ci.command)?(M.ui.registry.addMenuItem(Tr,{...Ci,onAction:ke(Ci.onAction)?Ci.onAction:te(Ci.command)}),!0):!1,Fe=(Tr,Ci)=>{M.queryCommandSupported(Ci.command)&&M.ui.registry.addToggleMenuItem(Tr,{...Ci,onAction:ke(Ci.onAction)?Ci.onAction:te(Ci.command)})},kt=Tr=>{M.execCommand("mceInsertTable",!1,{rows:Tr.numRows,columns:Tr.numColumns})},xn=[he("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:I.onSetupCellOrRow}),he("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:I.onSetupCellOrRow}),he("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:I.onSetupCellOrRow}),he("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:I.onSetupCellOrRow}),he("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:I.onSetupCellOrRow}),he("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:I.onSetupCellOrRow}),he("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:I.onSetupPasteable(vu)}),he("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:I.onSetupPasteable(vu)})],Gn=[he("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:I.onSetupColumn("onFirst")}),he("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:I.onSetupColumn("onLast")}),he("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:I.onSetupColumn("onAny")}),he("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:I.onSetupColumn("onAny")}),he("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:I.onSetupColumn("onAny")}),he("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:I.onSetupPasteableColumn(di,"onFirst")}),he("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:I.onSetupPasteableColumn(di,"onLast")})],Bo=[he("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:I.onSetupCellOrRow}),he("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:I.onSetupMergeable}),he("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:I.onSetupUnmergeable})];vl(M)?M.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:kt}],onSetup:kp(M)}):M.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:te("mceInsertTableDialog"),onSetup:kp(M)}),M.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:te("mceInsertTableDialog"),onSetup:kp(M)}),he("tableprops",{text:"Table properties",onSetup:I.onSetupTable,command:"mceTableProps"}),he("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:I.onSetupTable,command:"mceTableDelete"}),Ie(xn,!0)&&M.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:ue("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Ie(Gn,!0)&&M.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:ue("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Ie(Bo,!0)&&M.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:ue("tablecellprops tablemergecells tablesplitcells")}),M.ui.registry.addContextMenu("table",{update:()=>(I.resetTargets(),I.targets().fold(ue(""),Tr=>ri(Tr.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Ko=ch(Hr(M));Ko.length!==0&&M.queryCommandSupported("mceTableToggleClass")&&M.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>wi(M,Ko,"tableclass",Tr=>M.execCommand("mceTableToggleClass",!1,Tr)),onSetup:I.onSetupTable});const lr=ch(ra(M));lr.length!==0&&M.queryCommandSupported("mceTableCellToggleClass")&&M.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>wi(M,lr,"tablecellclass",Tr=>M.execCommand("mceTableCellToggleClass",!1,Tr)),onSetup:I.onSetupCellOrRow}),M.queryCommandSupported("mceTableApplyCellStyle")&&(M.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>wi(M,yl,"tablecellverticalalign",td(M,"vertical-align")),onSetup:I.onSetupCellOrRow}),M.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>wi(M,Si(M),"tablecellborderwidth",td(M,"border-width")),onSetup:I.onSetupCellOrRow}),M.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>wi(M,mu(M),"tablecellborderstyle",td(M,"border-style")),onSetup:I.onSetupCellOrRow}),M.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Af(M,ji(M),"background-color"),onSetup:I.onSetupCellOrRow}),M.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Af(M,ci(M),"border-color"),onSetup:I.onSetupCellOrRow})),Fe("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:I.onSetupTableWithCaption}),Fe("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Of(M),onSetup:I.onSetupTableRowHeaders}),Fe("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Sa(M),onSetup:I.onSetupTableRowHeaders})},Kl=M=>{const I=zd(M);Ul(M),ui(M),nb(M,I),Tp(M,I),ug(M)};var PS=()=>{a.add("table",Kl)};PS()})()),tre}var ore;function uhe(){return ore||(ore=1,lhe()),ere}uhe();var sre={},rre={},ire;function dhe(){return ire||(ire=1,(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=et=>({backspaceDelete:St=>{et.execCommand("mceListBackspaceDelete",!1,St)}}),g=et=>et==null,b=et=>!g(et),x=et=>()=>et,D=(et,St)=>et===St,P=x(!1);class ${constructor(St,pe){this.tag=St,this.value=pe}static some(St){return new $(!0,St)}static none(){return $.singletonNone}fold(St,pe){return this.tag?pe(this.value):St()}isSome(){return this.tag}isNone(){return!this.tag}map(St){return this.tag?$.some(St(this.value)):$.none()}bind(St){return this.tag?St(this.value):$.none()}exists(St){return this.tag&&St(this.value)}forall(St){return!this.tag||St(this.value)}filter(St){return!this.tag||St(this.value)?this:$.none()}getOr(St){return this.tag?this.value:St}or(St){return this.tag?this:St}getOrThunk(St){return this.tag?this.value:St()}orThunk(St){return this.tag?this:St()}getOrDie(St){if(this.tag)return this.value;throw new Error(St??"Called getOrDie on None")}static from(St){return b(St)?$.some(St):$.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(St){this.tag&&St(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}$.singletonNone=new $(!1);const Z=Array.prototype.slice,ne=(et,St)=>{for(let pe=0,at=et.length;pe<at;pe++){const Dt=et[pe];if(St(Dt,pe))return!0}return!1},ee=(et,St)=>{const pe=et.length,at=new Array(pe);for(let Dt=0;Dt<pe;Dt++){const Ht=et[Dt];at[Dt]=St(Ht,Dt)}return at},Se=(et,St)=>{for(let pe=0,at=et.length;pe<at;pe++){const Dt=et[pe];St(Dt,pe)}},ke=(et,St,pe)=>(Se(et,(at,Dt)=>{pe=St(pe,at,Dt)}),pe),ye=(et,St,pe)=>{for(let at=0,Dt=et.length;at<Dt;at++){const Ht=et[at];if(St(Ht,at))return $.some(Ht);if(pe(Ht,at))break}return $.none()},be=(et,St)=>ye(et,St,P),ve=et=>{const St=Z.call(et,0);return St.reverse(),St},ue=(et,St,pe=D)=>et.exists(at=>pe(at,St)),Le=(et=>St=>St.replace(et,""))(/^\s+|\s+$/g),oe=et=>et.length>0,Oe=et=>!oe(et),qe=et=>{const St=ve(Le(et).split("")),pe=ee(St,(at,Dt)=>{const Ht=at.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Dt)*Ht});return ke(pe,(at,Dt)=>at+Dt,0)},Xe=et=>{if(et--,et<0)return"";{const St=et%26,pe=Math.floor(et/26),at=Xe(pe),Dt=String.fromCharCode(65+St);return at+Dt}},k=et=>/^[A-Z]+$/.test(et),Ot=et=>/^[a-z]+$/.test(et),ht=et=>/^[0-9]+$/.test(et),Je=et=>ht(et)?2:k(et)?0:Ot(et)?1:Oe(et)?3:4,Ie=et=>{switch(Je(et)){case 2:return $.some({listStyleType:$.none(),start:et});case 0:return $.some({listStyleType:$.some("upper-alpha"),start:qe(et).toString()});case 1:return $.some({listStyleType:$.some("lower-alpha"),start:qe(et).toString()});case 3:return $.some({listStyleType:$.none(),start:""});case 4:return $.none()}},xe=et=>{const St=parseInt(et.start,10);return ue(et.listStyleType,"upper-alpha")?Xe(St):ue(et.listStyleType,"lower-alpha")?Xe(St).toLowerCase():et.start},Ct=(et=>St=>St.options.get(et))("forced_root_block"),Nt=et=>/\btox\-/.test(et.className),B=et=>St=>b(St)&&et.test(St.nodeName),Hn=et=>St=>b(St)&&St.nodeName.toLowerCase()===et,Qe=B(/^(OL|UL|DL)$/),ln=B(/^(TH|TD)$/),$t=B(/^(LI|DT|DD)$/),Ue=(et,St)=>ye(et,Qe,ln).exists(pe=>pe.nodeName===St&&!Nt(pe)),Pn=(et,St)=>{const pe=et.selection.getNode();return St({parents:et.dom.getParents(pe),element:pe}),et.on("NodeChange",St),()=>et.off("NodeChange",St)},jo=(et,St)=>St!==null&&!et.dom.isEditable(St),ho=(et,St)=>{const pe=et.dom.getParent(St,"ol,ul,dl");return jo(et,pe)||!et.selection.isEditable()},vo=Hn("ol"),Tt=["OL","UL","DL"],rn=Tt.join(","),K=(et,St)=>{const pe=St||et.selection.getStart(!0);return et.dom.getParent(pe,rn,dr(et,pe))},dr=(et,St)=>{const pe=et.dom.getParents(St,et.dom.isBlock),at=Ht=>Ht.nodeName.toLowerCase()!==Ct(et);return be(pe,Ht=>at(Ht)&&_o(et.schema,Ht)).getOr(et.getBody())},_o=(et,St)=>!Qe(St)&&!$t(St)&&ne(Tt,pe=>et.isValidChild(St.nodeName,pe)),wt=et=>{const St=K(et);!vo(St)||ho(et,St)||et.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:xe({start:et.dom.getAttrib(St,"start","1"),listStyleType:$.from(et.dom.getStyle(St,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:pe=>{const at=pe.getData();Ie(at.start).each(Dt=>{et.execCommand("mceListUpdate",!1,{attrs:{start:Dt.start==="1"?"":Dt.start},styles:{"list-style-type":Dt.listStyleType.getOr("")}})}),pe.close()}})},jt=et=>{et.addCommand("mceListProps",()=>{wt(et)})},$n=(et,St)=>pe=>{const at=Dt=>{pe.setActive(Ue(Dt.parents,St)),pe.setEnabled(!ho(et,Dt.element)&&et.selection.isEditable())};return pe.setEnabled(et.selection.isEditable()),Pn(et,at)},ut=et=>{const St=pe=>()=>et.execCommand(pe);et.hasPlugin("advlist")||(et.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:St("InsertOrderedList"),onSetup:$n(et,"OL")}),et.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:St("InsertUnorderedList"),onSetup:$n(et,"UL")}))},Xt=(et,St)=>pe=>Pn(et,Dt=>pe.setEnabled(Ue(Dt.parents,St)&&!ho(et,Dt.element))),Lt=et=>{const St={text:"List properties...",icon:"ordered-list",onAction:()=>et.execCommand("mceListProps"),onSetup:Xt(et,"OL")};et.ui.registry.addMenuItem("listprops",St),et.ui.registry.addContextMenu("lists",{update:pe=>{const at=K(et,pe);return vo(at)?["listprops"]:[]}})};var Re=()=>{a.add("lists",et=>(jt(et),ut(et),Lt(et),u(et)))};Re()})()),rre}var are;function fhe(){return are||(are=1,dhe()),sre}fhe();var cre={},lre={},ure;function mhe(){return ure||(ure=1,(function(){const a=Le=>{let oe=Le;return{get:()=>oe,set:Xe=>{oe=Xe}}};var u=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=tinymce.util.Tools.resolve("tinymce.Env");const b=Le=>Le.dispatch("ResizeEditor"),x=Le=>oe=>oe.options.get(Le),D=Le=>{const oe=Le.options.register;oe("autoresize_overflow_padding",{processor:"number",default:1}),oe("autoresize_bottom_margin",{processor:"number",default:50})},P=x("min_height"),$=x("max_height"),Z=x("autoresize_overflow_padding"),ne=x("autoresize_bottom_margin"),ee=Le=>Le.plugins.fullscreen&&Le.plugins.fullscreen.isFullscreen(),Se=(Le,oe)=>{const Oe=Le.getBody();Oe&&(Oe.style.overflowY=oe?"":"hidden",oe||(Oe.scrollTop=0))},ke=(Le,oe,Oe,qe)=>{var Xe;const k=parseInt((Xe=Le.getStyle(oe,Oe,qe))!==null&&Xe!==void 0?Xe:"",10);return isNaN(k)?0:k},ye=Le=>{if((Le==null?void 0:Le.type.toLowerCase())==="setcontent"){const oe=Le;return oe.selection===!0||oe.paste===!0}else return!1},be=(Le,oe,Oe,qe)=>{var Xe;const k=Le.dom,Ot=Le.getDoc();if(!Ot)return;if(ee(Le)){Se(Le,!0);return}const ht=Ot.documentElement,Je=qe?qe():Z(Le),Ie=(Xe=P(Le))!==null&&Xe!==void 0?Xe:Le.getElement().offsetHeight;let xe=Ie;const qt=ke(k,ht,"margin-top",!0),Ct=ke(k,ht,"margin-bottom",!0);let Nt=ht.offsetHeight+qt+Ct+Je;Nt<0&&(Nt=0);const B=Le.getContainer().offsetHeight,Hn=Le.getContentAreaContainer().offsetHeight,Qe=B-Hn;Nt+Qe>Ie&&(xe=Nt+Qe);const ln=$(Le);ln&&xe>ln?(xe=ln,Se(Le,!0)):Se(Le,!1);const $t=oe.get();if($t.set&&(Le.dom.setStyles(Le.getDoc().documentElement,{"min-height":0}),Le.dom.setStyles(Le.getBody(),{"min-height":"inherit"})),xe!==$t.totalHeight&&(Nt-Je!==$t.contentHeight||!$t.set)){const Ue=xe-$t.totalHeight;if(k.setStyle(Le.getContainer(),"height",xe+"px"),oe.set({totalHeight:xe,contentHeight:Nt,set:!0}),b(Le),g.browser.isSafari()&&(g.os.isMacOS()||g.os.isiOS())){const Pn=Le.getWin();Pn.scrollTo(Pn.pageXOffset,Pn.pageYOffset)}Le.hasFocus()&&ye(Oe)&&Le.selection.scrollIntoView(),(g.browser.isSafari()||g.browser.isChromium())&&Ue<0&&be(Le,oe,Oe,qe)}},ve=(Le,oe)=>{const Oe=()=>ne(Le);Le.on("init",qe=>{const Xe=Z(Le),k=Le.dom;k.setStyles(Le.getDoc().documentElement,{height:"auto"}),g.browser.isEdge()||g.browser.isIE()?k.setStyles(Le.getBody(),{paddingLeft:Xe,paddingRight:Xe,"min-height":0}):k.setStyles(Le.getBody(),{paddingLeft:Xe,paddingRight:Xe}),be(Le,oe,qe,Oe)}),Le.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",qe=>{be(Le,oe,qe,Oe)})},ue=(Le,oe)=>{Le.addCommand("mceAutoResize",()=>{be(Le,oe)})};var Be=()=>{u.add("autoresize",Le=>{if(D(Le),Le.options.isSet("resize")||Le.options.set("resize",!1),!Le.inline){const oe=a({totalHeight:0,contentHeight:0,set:!1});ue(Le,oe),ve(Le,oe)}})};Be()})()),lre}var dre;function hhe(){return dre||(dre=1,mhe()),cre}hhe();var nee={exports:{}},xz={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var ghe=xz.exports,fre;function phe(){return fre||(fre=1,(function(a){(function(u,g){a.exports=u.document?g(u,!0):function(b){if(!b.document)throw new Error("jQuery requires a window with a document");return g(b)}})(typeof window<"u"?window:ghe,function(u,g){var b=[],x=Object.getPrototypeOf,D=b.slice,P=b.flat?function(S){return b.flat.call(S)}:function(S){return b.concat.apply([],S)},$=b.push,Z=b.indexOf,ne={},ee=ne.toString,Se=ne.hasOwnProperty,ke=Se.toString,ye=ke.call(Object),be={},ve=function(R){return typeof R=="function"&&typeof R.nodeType!="number"&&typeof R.item!="function"},ue=function(R){return R!=null&&R===R.window},Be=u.document,Le={type:!0,src:!0,nonce:!0,noModule:!0};function oe(S,R,H){H=H||Be;var W,X,se=H.createElement("script");if(se.text=S,R)for(W in Le)X=R[W]||R.getAttribute&&R.getAttribute(W),X&&se.setAttribute(W,X);H.head.appendChild(se).parentNode.removeChild(se)}function Oe(S){return S==null?S+"":typeof S=="object"||typeof S=="function"?ne[ee.call(S)]||"object":typeof S}var qe="3.7.1",Xe=/HTML$/i,k=function(S,R){return new k.fn.init(S,R)};k.fn=k.prototype={jquery:qe,constructor:k,length:0,toArray:function(){return D.call(this)},get:function(S){return S==null?D.call(this):S<0?this[S+this.length]:this[S]},pushStack:function(S){var R=k.merge(this.constructor(),S);return R.prevObject=this,R},each:function(S){return k.each(this,S)},map:function(S){return this.pushStack(k.map(this,function(R,H){return S.call(R,H,R)}))},slice:function(){return this.pushStack(D.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,function(S,R){return(R+1)%2}))},odd:function(){return this.pushStack(k.grep(this,function(S,R){return R%2}))},eq:function(S){var R=this.length,H=+S+(S<0?R:0);return this.pushStack(H>=0&&H<R?[this[H]]:[])},end:function(){return this.prevObject||this.constructor()},push:$,sort:b.sort,splice:b.splice},k.extend=k.fn.extend=function(){var S,R,H,W,X,se,me=arguments[0]||{},Ze=1,We=arguments.length,pt=!1;for(typeof me=="boolean"&&(pt=me,me=arguments[Ze]||{},Ze++),typeof me!="object"&&!ve(me)&&(me={}),Ze===We&&(me=this,Ze--);Ze<We;Ze++)if((S=arguments[Ze])!=null)for(R in S)W=S[R],!(R==="__proto__"||me===W)&&(pt&&W&&(k.isPlainObject(W)||(X=Array.isArray(W)))?(H=me[R],X&&!Array.isArray(H)?se=[]:!X&&!k.isPlainObject(H)?se={}:se=H,X=!1,me[R]=k.extend(pt,se,W)):W!==void 0&&(me[R]=W));return me},k.extend({expando:"jQuery"+(qe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(S){throw new Error(S)},noop:function(){},isPlainObject:function(S){var R,H;return!S||ee.call(S)!=="[object Object]"?!1:(R=x(S),R?(H=Se.call(R,"constructor")&&R.constructor,typeof H=="function"&&ke.call(H)===ye):!0)},isEmptyObject:function(S){var R;for(R in S)return!1;return!0},globalEval:function(S,R,H){oe(S,{nonce:R&&R.nonce},H)},each:function(S,R){var H,W=0;if(Ot(S))for(H=S.length;W<H&&R.call(S[W],W,S[W])!==!1;W++);else for(W in S)if(R.call(S[W],W,S[W])===!1)break;return S},text:function(S){var R,H="",W=0,X=S.nodeType;if(!X)for(;R=S[W++];)H+=k.text(R);return X===1||X===11?S.textContent:X===9?S.documentElement.textContent:X===3||X===4?S.nodeValue:H},makeArray:function(S,R){var H=R||[];return S!=null&&(Ot(Object(S))?k.merge(H,typeof S=="string"?[S]:S):$.call(H,S)),H},inArray:function(S,R,H){return R==null?-1:Z.call(R,S,H)},isXMLDoc:function(S){var R=S&&S.namespaceURI,H=S&&(S.ownerDocument||S).documentElement;return!Xe.test(R||H&&H.nodeName||"HTML")},merge:function(S,R){for(var H=+R.length,W=0,X=S.length;W<H;W++)S[X++]=R[W];return S.length=X,S},grep:function(S,R,H){for(var W,X=[],se=0,me=S.length,Ze=!H;se<me;se++)W=!R(S[se],se),W!==Ze&&X.push(S[se]);return X},map:function(S,R,H){var W,X,se=0,me=[];if(Ot(S))for(W=S.length;se<W;se++)X=R(S[se],se,H),X!=null&&me.push(X);else for(se in S)X=R(S[se],se,H),X!=null&&me.push(X);return P(me)},guid:1,support:be}),typeof Symbol=="function"&&(k.fn[Symbol.iterator]=b[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(S,R){ne["[object "+R+"]"]=R.toLowerCase()});function Ot(S){var R=!!S&&"length"in S&&S.length,H=Oe(S);return ve(S)||ue(S)?!1:H==="array"||R===0||typeof R=="number"&&R>0&&R-1 in S}function ht(S,R){return S.nodeName&&S.nodeName.toLowerCase()===R.toLowerCase()}var Je=b.pop,Ie=b.sort,xe=b.splice,qt="[\\x20\\t\\r\\n\\f]",Ct=new RegExp("^"+qt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+qt+"+$","g");k.contains=function(S,R){var H=R&&R.parentNode;return S===H||!!(H&&H.nodeType===1&&(S.contains?S.contains(H):S.compareDocumentPosition&&S.compareDocumentPosition(H)&16))};var Nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function B(S,R){return R?S==="\0"?"":S.slice(0,-1)+"\\"+S.charCodeAt(S.length-1).toString(16)+" ":"\\"+S}k.escapeSelector=function(S){return(S+"").replace(Nt,B)};var Hn=Be,Qe=$;(function(){var S,R,H,W,X,se=Qe,me,Ze,We,pt,Ut,hn=k.expando,It=0,Vn=0,ds=Bd(),Ys=Bd(),Ds=Bd(),Li=Bd(),Fr=function(Me,nt){return Me===nt&&(X=!0),0},gl="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",pl="(?:\\\\[\\da-fA-F]{1,6}"+qt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",js="\\["+qt+"*("+pl+")(?:"+qt+"*([*^$|!~]?=)"+qt+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+pl+"))|)"+qt+"*\\]",ta=":("+pl+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+js+")*)|.*)\\)|)",nr=new RegExp(qt+"+","g"),ai=new RegExp("^"+qt+"*,"+qt+"*"),wm=new RegExp("^"+qt+"*([>+~]|"+qt+")"+qt+"*"),Dc=new RegExp(qt+"|>"),Hl=new RegExp(ta),Cm=new RegExp("^"+pl+"$"),Kc={ID:new RegExp("^#("+pl+")"),CLASS:new RegExp("^\\.("+pl+")"),TAG:new RegExp("^("+pl+"|[*])"),ATTR:new RegExp("^"+js),PSEUDO:new RegExp("^"+ta),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+qt+"*(even|odd|(([+-]|)(\\d*)n|)"+qt+"*(?:([+-]|)"+qt+"*(\\d+)|))"+qt+"*\\)|)","i"),bool:new RegExp("^(?:"+gl+")$","i"),needsContext:new RegExp("^"+qt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+qt+"*((?:-\\d)?\\d*)"+qt+"*\\)|)(?=[^-]|$)","i")},zl=/^(?:input|select|textarea|button)$/i,Nd=/^h\d$/i,Yc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xm=/[+~]/,na=new RegExp("\\\\[\\da-fA-F]{1,6}"+qt+"?|\\\\([^\\r\\n\\f])","g"),xi=function(Me,nt){var Bt="0x"+Me.slice(1)-65536;return nt||(Bt<0?String.fromCharCode(Bt+65536):String.fromCharCode(Bt>>10|55296,Bt&1023|56320))},Id=function(){Ku()},Z1=Ya(function(Me){return Me.disabled===!0&&ht(Me,"fieldset")},{dir:"parentNode",next:"legend"});function fs(){try{return me.activeElement}catch{}}try{se.apply(b=D.call(Hn.childNodes),Hn.childNodes),b[Hn.childNodes.length].nodeType}catch{se={apply:function(nt,Bt){Qe.apply(nt,D.call(Bt))},call:function(nt){Qe.apply(nt,D.call(arguments,1))}}}function Ir(Me,nt,Bt,Zt){var sn,eo,co,Ho,xo,cs,ls,Go=nt&&nt.ownerDocument,bs=nt?nt.nodeType:9;if(Bt=Bt||[],typeof Me!="string"||!Me||bs!==1&&bs!==9&&bs!==11)return Bt;if(!Zt&&(Ku(nt),nt=nt||me,We)){if(bs!==11&&(xo=Yc.exec(Me)))if(sn=xo[1]){if(bs===9)if(co=nt.getElementById(sn)){if(co.id===sn)return se.call(Bt,co),Bt}else return Bt;else if(Go&&(co=Go.getElementById(sn))&&Ir.contains(nt,co)&&co.id===sn)return se.call(Bt,co),Bt}else{if(xo[2])return se.apply(Bt,nt.getElementsByTagName(Me)),Bt;if((sn=xo[3])&&nt.getElementsByClassName)return se.apply(Bt,nt.getElementsByClassName(sn)),Bt}if(!Li[Me+" "]&&(!pt||!pt.test(Me))){if(ls=Me,Go=nt,bs===1&&(Dc.test(Me)||wm.test(Me))){for(Go=xm.test(Me)&&du(nt.parentNode)||nt,(Go!=nt||!be.scope)&&((Ho=nt.getAttribute("id"))?Ho=k.escapeSelector(Ho):nt.setAttribute("id",Ho=hn)),cs=oa(Me),eo=cs.length;eo--;)cs[eo]=(Ho?"#"+Ho:":scope")+" "+Yu(cs[eo]);ls=cs.join(",")}try{return se.apply(Bt,Go.querySelectorAll(ls)),Bt}catch{Li(Me,!0)}finally{Ho===hn&&nt.removeAttribute("id")}}}return Vi(Me.replace(Ct,"$1"),nt,Bt,Zt)}function Bd(){var Me=[];function nt(Bt,Zt){return Me.push(Bt+" ")>R.cacheLength&&delete nt[Me.shift()],nt[Bt+" "]=Zt}return nt}function Xs(Me){return Me[hn]=!0,Me}function Sm(Me){var nt=me.createElement("fieldset");try{return!!Me(nt)}catch{return!1}finally{nt.parentNode&&nt.parentNode.removeChild(nt),nt=null}}function ng(Me){return function(nt){return ht(nt,"input")&&nt.type===Me}}function G0(Me){return function(nt){return(ht(nt,"input")||ht(nt,"button"))&&nt.type===Me}}function og(Me){return function(nt){return"form"in nt?nt.parentNode&&nt.disabled===!1?"label"in nt?"label"in nt.parentNode?nt.parentNode.disabled===Me:nt.disabled===Me:nt.isDisabled===Me||nt.isDisabled!==!Me&&Z1(nt)===Me:nt.disabled===Me:"label"in nt?nt.disabled===Me:!1}}function cr(Me){return Xs(function(nt){return nt=+nt,Xs(function(Bt,Zt){for(var sn,eo=Me([],Bt.length,nt),co=eo.length;co--;)Bt[sn=eo[co]]&&(Bt[sn]=!(Zt[sn]=Bt[sn]))})})}function du(Me){return Me&&typeof Me.getElementsByTagName<"u"&&Me}function Ku(Me){var nt,Bt=Me?Me.ownerDocument||Me:Hn;return Bt==me||Bt.nodeType!==9||!Bt.documentElement||(me=Bt,Ze=me.documentElement,We=!k.isXMLDoc(me),Ut=Ze.matches||Ze.webkitMatchesSelector||Ze.msMatchesSelector,Ze.msMatchesSelector&&Hn!=me&&(nt=me.defaultView)&&nt.top!==nt&&nt.addEventListener("unload",Id),be.getById=Sm(function(Zt){return Ze.appendChild(Zt).id=k.expando,!me.getElementsByName||!me.getElementsByName(k.expando).length}),be.disconnectedMatch=Sm(function(Zt){return Ut.call(Zt,"*")}),be.scope=Sm(function(){return me.querySelectorAll(":scope")}),be.cssHas=Sm(function(){try{return me.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),be.getById?(R.filter.ID=function(Zt){var sn=Zt.replace(na,xi);return function(eo){return eo.getAttribute("id")===sn}},R.find.ID=function(Zt,sn){if(typeof sn.getElementById<"u"&&We){var eo=sn.getElementById(Zt);return eo?[eo]:[]}}):(R.filter.ID=function(Zt){var sn=Zt.replace(na,xi);return function(eo){var co=typeof eo.getAttributeNode<"u"&&eo.getAttributeNode("id");return co&&co.value===sn}},R.find.ID=function(Zt,sn){if(typeof sn.getElementById<"u"&&We){var eo,co,Ho,xo=sn.getElementById(Zt);if(xo){if(eo=xo.getAttributeNode("id"),eo&&eo.value===Zt)return[xo];for(Ho=sn.getElementsByName(Zt),co=0;xo=Ho[co++];)if(eo=xo.getAttributeNode("id"),eo&&eo.value===Zt)return[xo]}return[]}}),R.find.TAG=function(Zt,sn){return typeof sn.getElementsByTagName<"u"?sn.getElementsByTagName(Zt):sn.querySelectorAll(Zt)},R.find.CLASS=function(Zt,sn){if(typeof sn.getElementsByClassName<"u"&&We)return sn.getElementsByClassName(Zt)},pt=[],Sm(function(Zt){var sn;Ze.appendChild(Zt).innerHTML="<a id='"+hn+"' href='' disabled='disabled'></a><select id='"+hn+"-\r\\' disabled='disabled'><option selected=''></option></select>",Zt.querySelectorAll("[selected]").length||pt.push("\\["+qt+"*(?:value|"+gl+")"),Zt.querySelectorAll("[id~="+hn+"-]").length||pt.push("~="),Zt.querySelectorAll("a#"+hn+"+*").length||pt.push(".#.+[+~]"),Zt.querySelectorAll(":checked").length||pt.push(":checked"),sn=me.createElement("input"),sn.setAttribute("type","hidden"),Zt.appendChild(sn).setAttribute("name","D"),Ze.appendChild(Zt).disabled=!0,Zt.querySelectorAll(":disabled").length!==2&&pt.push(":enabled",":disabled"),sn=me.createElement("input"),sn.setAttribute("name",""),Zt.appendChild(sn),Zt.querySelectorAll("[name='']").length||pt.push("\\["+qt+"*name"+qt+"*="+qt+`*(?:''|"")`)}),be.cssHas||pt.push(":has"),pt=pt.length&&new RegExp(pt.join("|")),Fr=function(Zt,sn){if(Zt===sn)return X=!0,0;var eo=!Zt.compareDocumentPosition-!sn.compareDocumentPosition;return eo||(eo=(Zt.ownerDocument||Zt)==(sn.ownerDocument||sn)?Zt.compareDocumentPosition(sn):1,eo&1||!be.sortDetached&&sn.compareDocumentPosition(Zt)===eo?Zt===me||Zt.ownerDocument==Hn&&Ir.contains(Hn,Zt)?-1:sn===me||sn.ownerDocument==Hn&&Ir.contains(Hn,sn)?1:W?Z.call(W,Zt)-Z.call(W,sn):0:eo&4?-1:1)}),me}Ir.matches=function(Me,nt){return Ir(Me,null,null,nt)},Ir.matchesSelector=function(Me,nt){if(Ku(Me),We&&!Li[nt+" "]&&(!pt||!pt.test(nt)))try{var Bt=Ut.call(Me,nt);if(Bt||be.disconnectedMatch||Me.document&&Me.document.nodeType!==11)return Bt}catch{Li(nt,!0)}return Ir(nt,me,null,[Me]).length>0},Ir.contains=function(Me,nt){return(Me.ownerDocument||Me)!=me&&Ku(Me),k.contains(Me,nt)},Ir.attr=function(Me,nt){(Me.ownerDocument||Me)!=me&&Ku(Me);var Bt=R.attrHandle[nt.toLowerCase()],Zt=Bt&&Se.call(R.attrHandle,nt.toLowerCase())?Bt(Me,nt,!We):void 0;return Zt!==void 0?Zt:Me.getAttribute(nt)},Ir.error=function(Me){throw new Error("Syntax error, unrecognized expression: "+Me)},k.uniqueSort=function(Me){var nt,Bt=[],Zt=0,sn=0;if(X=!be.sortStable,W=!be.sortStable&&D.call(Me,0),Ie.call(Me,Fr),X){for(;nt=Me[sn++];)nt===Me[sn]&&(Zt=Bt.push(sn));for(;Zt--;)xe.call(Me,Bt[Zt],1)}return W=null,Me},k.fn.uniqueSort=function(){return this.pushStack(k.uniqueSort(D.apply(this)))},R=k.expr={cacheLength:50,createPseudo:Xs,match:Kc,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Me){return Me[1]=Me[1].replace(na,xi),Me[3]=(Me[3]||Me[4]||Me[5]||"").replace(na,xi),Me[2]==="~="&&(Me[3]=" "+Me[3]+" "),Me.slice(0,4)},CHILD:function(Me){return Me[1]=Me[1].toLowerCase(),Me[1].slice(0,3)==="nth"?(Me[3]||Ir.error(Me[0]),Me[4]=+(Me[4]?Me[5]+(Me[6]||1):2*(Me[3]==="even"||Me[3]==="odd")),Me[5]=+(Me[7]+Me[8]||Me[3]==="odd")):Me[3]&&Ir.error(Me[0]),Me},PSEUDO:function(Me){var nt,Bt=!Me[6]&&Me[2];return Kc.CHILD.test(Me[0])?null:(Me[3]?Me[2]=Me[4]||Me[5]||"":Bt&&Hl.test(Bt)&&(nt=oa(Bt,!0))&&(nt=Bt.indexOf(")",Bt.length-nt)-Bt.length)&&(Me[0]=Me[0].slice(0,nt),Me[2]=Bt.slice(0,nt)),Me.slice(0,3))}},filter:{TAG:function(Me){var nt=Me.replace(na,xi).toLowerCase();return Me==="*"?function(){return!0}:function(Bt){return ht(Bt,nt)}},CLASS:function(Me){var nt=ds[Me+" "];return nt||(nt=new RegExp("(^|"+qt+")"+Me+"("+qt+"|$)"))&&ds(Me,function(Bt){return nt.test(typeof Bt.className=="string"&&Bt.className||typeof Bt.getAttribute<"u"&&Bt.getAttribute("class")||"")})},ATTR:function(Me,nt,Bt){return function(Zt){var sn=Ir.attr(Zt,Me);return sn==null?nt==="!=":nt?(sn+="",nt==="="?sn===Bt:nt==="!="?sn!==Bt:nt==="^="?Bt&&sn.indexOf(Bt)===0:nt==="*="?Bt&&sn.indexOf(Bt)>-1:nt==="$="?Bt&&sn.slice(-Bt.length)===Bt:nt==="~="?(" "+sn.replace(nr," ")+" ").indexOf(Bt)>-1:nt==="|="?sn===Bt||sn.slice(0,Bt.length+1)===Bt+"-":!1):!0}},CHILD:function(Me,nt,Bt,Zt,sn){var eo=Me.slice(0,3)!=="nth",co=Me.slice(-4)!=="last",Ho=nt==="of-type";return Zt===1&&sn===0?function(xo){return!!xo.parentNode}:function(xo,cs,ls){var Go,bs,Nn,Rs,Ui,wa=eo!==co?"nextSibling":"previousSibling",ko=xo.parentNode,sa=Ho&&xo.nodeName.toLowerCase(),Br=!ls&&!Ho,Jr=!1;if(ko){if(eo){for(;wa;){for(Nn=xo;Nn=Nn[wa];)if(Ho?ht(Nn,sa):Nn.nodeType===1)return!1;Ui=wa=Me==="only"&&!Ui&&"nextSibling"}return!0}if(Ui=[co?ko.firstChild:ko.lastChild],co&&Br){for(bs=ko[hn]||(ko[hn]={}),Go=bs[Me]||[],Rs=Go[0]===It&&Go[1],Jr=Rs&&Go[2],Nn=Rs&&ko.childNodes[Rs];Nn=++Rs&&Nn&&Nn[wa]||(Jr=Rs=0)||Ui.pop();)if(Nn.nodeType===1&&++Jr&&Nn===xo){bs[Me]=[It,Rs,Jr];break}}else if(Br&&(bs=xo[hn]||(xo[hn]={}),Go=bs[Me]||[],Rs=Go[0]===It&&Go[1],Jr=Rs),Jr===!1)for(;(Nn=++Rs&&Nn&&Nn[wa]||(Jr=Rs=0)||Ui.pop())&&!((Ho?ht(Nn,sa):Nn.nodeType===1)&&++Jr&&(Br&&(bs=Nn[hn]||(Nn[hn]={}),bs[Me]=[It,Jr]),Nn===xo)););return Jr-=sn,Jr===Zt||Jr%Zt===0&&Jr/Zt>=0}}},PSEUDO:function(Me,nt){var Bt,Zt=R.pseudos[Me]||R.setFilters[Me.toLowerCase()]||Ir.error("unsupported pseudo: "+Me);return Zt[hn]?Zt(nt):Zt.length>1?(Bt=[Me,Me,"",nt],R.setFilters.hasOwnProperty(Me.toLowerCase())?Xs(function(sn,eo){for(var co,Ho=Zt(sn,nt),xo=Ho.length;xo--;)co=Z.call(sn,Ho[xo]),sn[co]=!(eo[co]=Ho[xo])}):function(sn){return Zt(sn,0,Bt)}):Zt}},pseudos:{not:Xs(function(Me){var nt=[],Bt=[],Zt=Ju(Me.replace(Ct,"$1"));return Zt[hn]?Xs(function(sn,eo,co,Ho){for(var xo,cs=Zt(sn,null,Ho,[]),ls=sn.length;ls--;)(xo=cs[ls])&&(sn[ls]=!(eo[ls]=xo))}):function(sn,eo,co){return nt[0]=sn,Zt(nt,null,co,Bt),nt[0]=null,!Bt.pop()}}),has:Xs(function(Me){return function(nt){return Ir(Me,nt).length>0}}),contains:Xs(function(Me){return Me=Me.replace(na,xi),function(nt){return(nt.textContent||k.text(nt)).indexOf(Me)>-1}}),lang:Xs(function(Me){return Cm.test(Me||"")||Ir.error("unsupported lang: "+Me),Me=Me.replace(na,xi).toLowerCase(),function(nt){var Bt;do if(Bt=We?nt.lang:nt.getAttribute("xml:lang")||nt.getAttribute("lang"))return Bt=Bt.toLowerCase(),Bt===Me||Bt.indexOf(Me+"-")===0;while((nt=nt.parentNode)&&nt.nodeType===1);return!1}}),target:function(Me){var nt=u.location&&u.location.hash;return nt&&nt.slice(1)===Me.id},root:function(Me){return Me===Ze},focus:function(Me){return Me===fs()&&me.hasFocus()&&!!(Me.type||Me.href||~Me.tabIndex)},enabled:og(!1),disabled:og(!0),checked:function(Me){return ht(Me,"input")&&!!Me.checked||ht(Me,"option")&&!!Me.selected},selected:function(Me){return Me.parentNode&&Me.parentNode.selectedIndex,Me.selected===!0},empty:function(Me){for(Me=Me.firstChild;Me;Me=Me.nextSibling)if(Me.nodeType<6)return!1;return!0},parent:function(Me){return!R.pseudos.empty(Me)},header:function(Me){return Nd.test(Me.nodeName)},input:function(Me){return zl.test(Me.nodeName)},button:function(Me){return ht(Me,"input")&&Me.type==="button"||ht(Me,"button")},text:function(Me){var nt;return ht(Me,"input")&&Me.type==="text"&&((nt=Me.getAttribute("type"))==null||nt.toLowerCase()==="text")},first:cr(function(){return[0]}),last:cr(function(Me,nt){return[nt-1]}),eq:cr(function(Me,nt,Bt){return[Bt<0?Bt+nt:Bt]}),even:cr(function(Me,nt){for(var Bt=0;Bt<nt;Bt+=2)Me.push(Bt);return Me}),odd:cr(function(Me,nt){for(var Bt=1;Bt<nt;Bt+=2)Me.push(Bt);return Me}),lt:cr(function(Me,nt,Bt){var Zt;for(Bt<0?Zt=Bt+nt:Bt>nt?Zt=nt:Zt=Bt;--Zt>=0;)Me.push(Zt);return Me}),gt:cr(function(Me,nt,Bt){for(var Zt=Bt<0?Bt+nt:Bt;++Zt<nt;)Me.push(Zt);return Me})}},R.pseudos.nth=R.pseudos.eq;for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})R.pseudos[S]=ng(S);for(S in{submit:!0,reset:!0})R.pseudos[S]=G0(S);function on(){}on.prototype=R.filters=R.pseudos,R.setFilters=new on;function oa(Me,nt){var Bt,Zt,sn,eo,co,Ho,xo,cs=Ys[Me+" "];if(cs)return nt?0:cs.slice(0);for(co=Me,Ho=[],xo=R.preFilter;co;){(!Bt||(Zt=ai.exec(co)))&&(Zt&&(co=co.slice(Zt[0].length)||co),Ho.push(sn=[])),Bt=!1,(Zt=wm.exec(co))&&(Bt=Zt.shift(),sn.push({value:Bt,type:Zt[0].replace(Ct," ")}),co=co.slice(Bt.length));for(eo in R.filter)(Zt=Kc[eo].exec(co))&&(!xo[eo]||(Zt=xo[eo](Zt)))&&(Bt=Zt.shift(),sn.push({value:Bt,type:eo,matches:Zt}),co=co.slice(Bt.length));if(!Bt)break}return nt?co.length:co?Ir.error(Me):Ys(Me,Ho).slice(0)}function Yu(Me){for(var nt=0,Bt=Me.length,Zt="";nt<Bt;nt++)Zt+=Me[nt].value;return Zt}function Ya(Me,nt,Bt){var Zt=nt.dir,sn=nt.next,eo=sn||Zt,co=Bt&&eo==="parentNode",Ho=Vn++;return nt.first?function(xo,cs,ls){for(;xo=xo[Zt];)if(xo.nodeType===1||co)return Me(xo,cs,ls);return!1}:function(xo,cs,ls){var Go,bs,Nn=[It,Ho];if(ls){for(;xo=xo[Zt];)if((xo.nodeType===1||co)&&Me(xo,cs,ls))return!0}else for(;xo=xo[Zt];)if(xo.nodeType===1||co)if(bs=xo[hn]||(xo[hn]={}),sn&&ht(xo,sn))xo=xo[Zt]||xo;else{if((Go=bs[eo])&&Go[0]===It&&Go[1]===Ho)return Nn[2]=Go[2];if(bs[eo]=Nn,Nn[2]=Me(xo,cs,ls))return!0}return!1}}function Xu(Me){return Me.length>1?function(nt,Bt,Zt){for(var sn=Me.length;sn--;)if(!Me[sn](nt,Bt,Zt))return!1;return!0}:Me[0]}function sg(Me,nt,Bt){for(var Zt=0,sn=nt.length;Zt<sn;Zt++)Ir(Me,nt[Zt],Bt);return Bt}function Ee(Me,nt,Bt,Zt,sn){for(var eo,co=[],Ho=0,xo=Me.length,cs=nt!=null;Ho<xo;Ho++)(eo=Me[Ho])&&(!Bt||Bt(eo,Zt,sn))&&(co.push(eo),cs&&nt.push(Ho));return co}function ya(Me,nt,Bt,Zt,sn,eo){return Zt&&!Zt[hn]&&(Zt=ya(Zt)),sn&&!sn[hn]&&(sn=ya(sn,eo)),Xs(function(co,Ho,xo,cs){var ls,Go,bs,Nn,Rs=[],Ui=[],wa=Ho.length,ko=co||sg(nt||"*",xo.nodeType?[xo]:xo,[]),sa=Me&&(co||!nt)?Ee(ko,Rs,Me,xo,cs):ko;if(Bt?(Nn=sn||(co?Me:wa||Zt)?[]:Ho,Bt(sa,Nn,xo,cs)):Nn=sa,Zt)for(ls=Ee(Nn,Ui),Zt(ls,[],xo,cs),Go=ls.length;Go--;)(bs=ls[Go])&&(Nn[Ui[Go]]=!(sa[Ui[Go]]=bs));if(co){if(sn||Me){if(sn){for(ls=[],Go=Nn.length;Go--;)(bs=Nn[Go])&&ls.push(sa[Go]=bs);sn(null,Nn=[],ls,cs)}for(Go=Nn.length;Go--;)(bs=Nn[Go])&&(ls=sn?Z.call(co,bs):Rs[Go])>-1&&(co[ls]=!(Ho[ls]=bs))}}else Nn=Ee(Nn===Ho?Nn.splice(wa,Nn.length):Nn),sn?sn(null,Ho,Nn,cs):se.apply(Ho,Nn)})}function Vl(Me){for(var nt,Bt,Zt,sn=Me.length,eo=R.relative[Me[0].type],co=eo||R.relative[" "],Ho=eo?1:0,xo=Ya(function(Go){return Go===nt},co,!0),cs=Ya(function(Go){return Z.call(nt,Go)>-1},co,!0),ls=[function(Go,bs,Nn){var Rs=!eo&&(Nn||bs!=H)||((nt=bs).nodeType?xo(Go,bs,Nn):cs(Go,bs,Nn));return nt=null,Rs}];Ho<sn;Ho++)if(Bt=R.relative[Me[Ho].type])ls=[Ya(Xu(ls),Bt)];else{if(Bt=R.filter[Me[Ho].type].apply(null,Me[Ho].matches),Bt[hn]){for(Zt=++Ho;Zt<sn&&!R.relative[Me[Zt].type];Zt++);return ya(Ho>1&&Xu(ls),Ho>1&&Yu(Me.slice(0,Ho-1).concat({value:Me[Ho-2].type===" "?"*":""})).replace(Ct,"$1"),Bt,Ho<Zt&&Vl(Me.slice(Ho,Zt)),Zt<sn&&Vl(Me=Me.slice(Zt)),Zt<sn&&Yu(Me))}ls.push(Bt)}return Xu(ls)}function rg(Me,nt){var Bt=nt.length>0,Zt=Me.length>0,sn=function(eo,co,Ho,xo,cs){var ls,Go,bs,Nn=0,Rs="0",Ui=eo&&[],wa=[],ko=H,sa=eo||Zt&&R.find.TAG("*",cs),Br=It+=ko==null?1:Math.random()||.1,Jr=sa.length;for(cs&&(H=co==me||co||cs);Rs!==Jr&&(ls=sa[Rs])!=null;Rs++){if(Zt&&ls){for(Go=0,!co&&ls.ownerDocument!=me&&(Ku(ls),Ho=!We);bs=Me[Go++];)if(bs(ls,co||me,Ho)){se.call(xo,ls);break}cs&&(It=Br)}Bt&&((ls=!bs&&ls)&&Nn--,eo&&Ui.push(ls))}if(Nn+=Rs,Bt&&Rs!==Nn){for(Go=0;bs=nt[Go++];)bs(Ui,wa,co,Ho);if(eo){if(Nn>0)for(;Rs--;)Ui[Rs]||wa[Rs]||(wa[Rs]=Je.call(xo));wa=Ee(wa)}se.apply(xo,wa),cs&&!eo&&wa.length>0&&Nn+nt.length>1&&k.uniqueSort(xo)}return cs&&(It=Br,H=ko),Ui};return Bt?Xs(sn):sn}function Ju(Me,nt){var Bt,Zt=[],sn=[],eo=Ds[Me+" "];if(!eo){for(nt||(nt=oa(Me)),Bt=nt.length;Bt--;)eo=Vl(nt[Bt]),eo[hn]?Zt.push(eo):sn.push(eo);eo=Ds(Me,rg(sn,Zt)),eo.selector=Me}return eo}function Vi(Me,nt,Bt,Zt){var sn,eo,co,Ho,xo,cs=typeof Me=="function"&&Me,ls=!Zt&&oa(Me=cs.selector||Me);if(Bt=Bt||[],ls.length===1){if(eo=ls[0]=ls[0].slice(0),eo.length>2&&(co=eo[0]).type==="ID"&&nt.nodeType===9&&We&&R.relative[eo[1].type]){if(nt=(R.find.ID(co.matches[0].replace(na,xi),nt)||[])[0],nt)cs&&(nt=nt.parentNode);else return Bt;Me=Me.slice(eo.shift().value.length)}for(sn=Kc.needsContext.test(Me)?0:eo.length;sn--&&(co=eo[sn],!R.relative[Ho=co.type]);)if((xo=R.find[Ho])&&(Zt=xo(co.matches[0].replace(na,xi),xm.test(eo[0].type)&&du(nt.parentNode)||nt))){if(eo.splice(sn,1),Me=Zt.length&&Yu(eo),!Me)return se.apply(Bt,Zt),Bt;break}}return(cs||Ju(Me,ls))(Zt,nt,!We,Bt,!nt||xm.test(Me)&&du(nt.parentNode)||nt),Bt}be.sortStable=hn.split("").sort(Fr).join("")===hn,Ku(),be.sortDetached=Sm(function(Me){return Me.compareDocumentPosition(me.createElement("fieldset"))&1}),k.find=Ir,k.expr[":"]=k.expr.pseudos,k.unique=k.uniqueSort,Ir.compile=Ju,Ir.select=Vi,Ir.setDocument=Ku,Ir.tokenize=oa,Ir.escape=k.escapeSelector,Ir.getText=k.text,Ir.isXML=k.isXMLDoc,Ir.selectors=k.expr,Ir.support=k.support,Ir.uniqueSort=k.uniqueSort})();var ln=function(S,R,H){for(var W=[],X=H!==void 0;(S=S[R])&&S.nodeType!==9;)if(S.nodeType===1){if(X&&k(S).is(H))break;W.push(S)}return W},$t=function(S,R){for(var H=[];S;S=S.nextSibling)S.nodeType===1&&S!==R&&H.push(S);return H},Ue=k.expr.match.needsContext,Pn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function jo(S,R,H){return ve(R)?k.grep(S,function(W,X){return!!R.call(W,X,W)!==H}):R.nodeType?k.grep(S,function(W){return W===R!==H}):typeof R!="string"?k.grep(S,function(W){return Z.call(R,W)>-1!==H}):k.filter(R,S,H)}k.filter=function(S,R,H){var W=R[0];return H&&(S=":not("+S+")"),R.length===1&&W.nodeType===1?k.find.matchesSelector(W,S)?[W]:[]:k.find.matches(S,k.grep(R,function(X){return X.nodeType===1}))},k.fn.extend({find:function(S){var R,H,W=this.length,X=this;if(typeof S!="string")return this.pushStack(k(S).filter(function(){for(R=0;R<W;R++)if(k.contains(X[R],this))return!0}));for(H=this.pushStack([]),R=0;R<W;R++)k.find(S,X[R],H);return W>1?k.uniqueSort(H):H},filter:function(S){return this.pushStack(jo(this,S||[],!1))},not:function(S){return this.pushStack(jo(this,S||[],!0))},is:function(S){return!!jo(this,typeof S=="string"&&Ue.test(S)?k(S):S||[],!1).length}});var ho,vo=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Tt=k.fn.init=function(S,R,H){var W,X;if(!S)return this;if(H=H||ho,typeof S=="string")if(S[0]==="<"&&S[S.length-1]===">"&&S.length>=3?W=[null,S,null]:W=vo.exec(S),W&&(W[1]||!R))if(W[1]){if(R=R instanceof k?R[0]:R,k.merge(this,k.parseHTML(W[1],R&&R.nodeType?R.ownerDocument||R:Be,!0)),Pn.test(W[1])&&k.isPlainObject(R))for(W in R)ve(this[W])?this[W](R[W]):this.attr(W,R[W]);return this}else return X=Be.getElementById(W[2]),X&&(this[0]=X,this.length=1),this;else return!R||R.jquery?(R||H).find(S):this.constructor(R).find(S);else{if(S.nodeType)return this[0]=S,this.length=1,this;if(ve(S))return H.ready!==void 0?H.ready(S):S(k)}return k.makeArray(S,this)};Tt.prototype=k.fn,ho=k(Be);var rn=/^(?:parents|prev(?:Until|All))/,K={children:!0,contents:!0,next:!0,prev:!0};k.fn.extend({has:function(S){var R=k(S,this),H=R.length;return this.filter(function(){for(var W=0;W<H;W++)if(k.contains(this,R[W]))return!0})},closest:function(S,R){var H,W=0,X=this.length,se=[],me=typeof S!="string"&&k(S);if(!Ue.test(S)){for(;W<X;W++)for(H=this[W];H&&H!==R;H=H.parentNode)if(H.nodeType<11&&(me?me.index(H)>-1:H.nodeType===1&&k.find.matchesSelector(H,S))){se.push(H);break}}return this.pushStack(se.length>1?k.uniqueSort(se):se)},index:function(S){return S?typeof S=="string"?Z.call(k(S),this[0]):Z.call(this,S.jquery?S[0]:S):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(S,R){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(S,R))))},addBack:function(S){return this.add(S==null?this.prevObject:this.prevObject.filter(S))}});function dr(S,R){for(;(S=S[R])&&S.nodeType!==1;);return S}k.each({parent:function(S){var R=S.parentNode;return R&&R.nodeType!==11?R:null},parents:function(S){return ln(S,"parentNode")},parentsUntil:function(S,R,H){return ln(S,"parentNode",H)},next:function(S){return dr(S,"nextSibling")},prev:function(S){return dr(S,"previousSibling")},nextAll:function(S){return ln(S,"nextSibling")},prevAll:function(S){return ln(S,"previousSibling")},nextUntil:function(S,R,H){return ln(S,"nextSibling",H)},prevUntil:function(S,R,H){return ln(S,"previousSibling",H)},siblings:function(S){return $t((S.parentNode||{}).firstChild,S)},children:function(S){return $t(S.firstChild)},contents:function(S){return S.contentDocument!=null&&x(S.contentDocument)?S.contentDocument:(ht(S,"template")&&(S=S.content||S),k.merge([],S.childNodes))}},function(S,R){k.fn[S]=function(H,W){var X=k.map(this,R,H);return S.slice(-5)!=="Until"&&(W=H),W&&typeof W=="string"&&(X=k.filter(W,X)),this.length>1&&(K[S]||k.uniqueSort(X),rn.test(S)&&X.reverse()),this.pushStack(X)}});var _o=/[^\x20\t\r\n\f]+/g;function wt(S){var R={};return k.each(S.match(_o)||[],function(H,W){R[W]=!0}),R}k.Callbacks=function(S){S=typeof S=="string"?wt(S):k.extend({},S);var R,H,W,X,se=[],me=[],Ze=-1,We=function(){for(X=X||S.once,W=R=!0;me.length;Ze=-1)for(H=me.shift();++Ze<se.length;)se[Ze].apply(H[0],H[1])===!1&&S.stopOnFalse&&(Ze=se.length,H=!1);S.memory||(H=!1),R=!1,X&&(H?se=[]:se="")},pt={add:function(){return se&&(H&&!R&&(Ze=se.length-1,me.push(H)),(function Ut(hn){k.each(hn,function(It,Vn){ve(Vn)?(!S.unique||!pt.has(Vn))&&se.push(Vn):Vn&&Vn.length&&Oe(Vn)!=="string"&&Ut(Vn)})})(arguments),H&&!R&&We()),this},remove:function(){return k.each(arguments,function(Ut,hn){for(var It;(It=k.inArray(hn,se,It))>-1;)se.splice(It,1),It<=Ze&&Ze--}),this},has:function(Ut){return Ut?k.inArray(Ut,se)>-1:se.length>0},empty:function(){return se&&(se=[]),this},disable:function(){return X=me=[],se=H="",this},disabled:function(){return!se},lock:function(){return X=me=[],!H&&!R&&(se=H=""),this},locked:function(){return!!X},fireWith:function(Ut,hn){return X||(hn=hn||[],hn=[Ut,hn.slice?hn.slice():hn],me.push(hn),R||We()),this},fire:function(){return pt.fireWith(this,arguments),this},fired:function(){return!!W}};return pt};function jt(S){return S}function $n(S){throw S}function ut(S,R,H,W){var X;try{S&&ve(X=S.promise)?X.call(S).done(R).fail(H):S&&ve(X=S.then)?X.call(S,R,H):R.apply(void 0,[S].slice(W))}catch(se){H.apply(void 0,[se])}}k.extend({Deferred:function(S){var R=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],H="pending",W={state:function(){return H},always:function(){return X.done(arguments).fail(arguments),this},catch:function(se){return W.then(null,se)},pipe:function(){var se=arguments;return k.Deferred(function(me){k.each(R,function(Ze,We){var pt=ve(se[We[4]])&&se[We[4]];X[We[1]](function(){var Ut=pt&&pt.apply(this,arguments);Ut&&ve(Ut.promise)?Ut.promise().progress(me.notify).done(me.resolve).fail(me.reject):me[We[0]+"With"](this,pt?[Ut]:arguments)})}),se=null}).promise()},then:function(se,me,Ze){var We=0;function pt(Ut,hn,It,Vn){return function(){var ds=this,Ys=arguments,Ds=function(){var Fr,gl;if(!(Ut<We)){if(Fr=It.apply(ds,Ys),Fr===hn.promise())throw new TypeError("Thenable self-resolution");gl=Fr&&(typeof Fr=="object"||typeof Fr=="function")&&Fr.then,ve(gl)?Vn?gl.call(Fr,pt(We,hn,jt,Vn),pt(We,hn,$n,Vn)):(We++,gl.call(Fr,pt(We,hn,jt,Vn),pt(We,hn,$n,Vn),pt(We,hn,jt,hn.notifyWith))):(It!==jt&&(ds=void 0,Ys=[Fr]),(Vn||hn.resolveWith)(ds,Ys))}},Li=Vn?Ds:function(){try{Ds()}catch(Fr){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(Fr,Li.error),Ut+1>=We&&(It!==$n&&(ds=void 0,Ys=[Fr]),hn.rejectWith(ds,Ys))}};Ut?Li():(k.Deferred.getErrorHook?Li.error=k.Deferred.getErrorHook():k.Deferred.getStackHook&&(Li.error=k.Deferred.getStackHook()),u.setTimeout(Li))}}return k.Deferred(function(Ut){R[0][3].add(pt(0,Ut,ve(Ze)?Ze:jt,Ut.notifyWith)),R[1][3].add(pt(0,Ut,ve(se)?se:jt)),R[2][3].add(pt(0,Ut,ve(me)?me:$n))}).promise()},promise:function(se){return se!=null?k.extend(se,W):W}},X={};return k.each(R,function(se,me){var Ze=me[2],We=me[5];W[me[1]]=Ze.add,We&&Ze.add(function(){H=We},R[3-se][2].disable,R[3-se][3].disable,R[0][2].lock,R[0][3].lock),Ze.add(me[3].fire),X[me[0]]=function(){return X[me[0]+"With"](this===X?void 0:this,arguments),this},X[me[0]+"With"]=Ze.fireWith}),W.promise(X),S&&S.call(X,X),X},when:function(S){var R=arguments.length,H=R,W=Array(H),X=D.call(arguments),se=k.Deferred(),me=function(Ze){return function(We){W[Ze]=this,X[Ze]=arguments.length>1?D.call(arguments):We,--R||se.resolveWith(W,X)}};if(R<=1&&(ut(S,se.done(me(H)).resolve,se.reject,!R),se.state()==="pending"||ve(X[H]&&X[H].then)))return se.then();for(;H--;)ut(X[H],me(H),se.reject);return se.promise()}});var Xt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(S,R){u.console&&u.console.warn&&S&&Xt.test(S.name)&&u.console.warn("jQuery.Deferred exception: "+S.message,S.stack,R)},k.readyException=function(S){u.setTimeout(function(){throw S})};var Lt=k.Deferred();k.fn.ready=function(S){return Lt.then(S).catch(function(R){k.readyException(R)}),this},k.extend({isReady:!1,readyWait:1,ready:function(S){(S===!0?--k.readyWait:k.isReady)||(k.isReady=!0,!(S!==!0&&--k.readyWait>0)&&Lt.resolveWith(Be,[k]))}}),k.ready.then=Lt.then;function Re(){Be.removeEventListener("DOMContentLoaded",Re),u.removeEventListener("load",Re),k.ready()}Be.readyState==="complete"||Be.readyState!=="loading"&&!Be.documentElement.doScroll?u.setTimeout(k.ready):(Be.addEventListener("DOMContentLoaded",Re),u.addEventListener("load",Re));var et=function(S,R,H,W,X,se,me){var Ze=0,We=S.length,pt=H==null;if(Oe(H)==="object"){X=!0;for(Ze in H)et(S,R,Ze,H[Ze],!0,se,me)}else if(W!==void 0&&(X=!0,ve(W)||(me=!0),pt&&(me?(R.call(S,W),R=null):(pt=R,R=function(Ut,hn,It){return pt.call(k(Ut),It)})),R))for(;Ze<We;Ze++)R(S[Ze],H,me?W:W.call(S[Ze],Ze,R(S[Ze],H)));return X?S:pt?R.call(S):We?R(S[0],H):se},St=/^-ms-/,pe=/-([a-z])/g;function at(S,R){return R.toUpperCase()}function Dt(S){return S.replace(St,"ms-").replace(pe,at)}var Ht=function(S){return S.nodeType===1||S.nodeType===9||!+S.nodeType};function st(){this.expando=k.expando+st.uid++}st.uid=1,st.prototype={cache:function(S){var R=S[this.expando];return R||(R={},Ht(S)&&(S.nodeType?S[this.expando]=R:Object.defineProperty(S,this.expando,{value:R,configurable:!0}))),R},set:function(S,R,H){var W,X=this.cache(S);if(typeof R=="string")X[Dt(R)]=H;else for(W in R)X[Dt(W)]=R[W];return X},get:function(S,R){return R===void 0?this.cache(S):S[this.expando]&&S[this.expando][Dt(R)]},access:function(S,R,H){return R===void 0||R&&typeof R=="string"&&H===void 0?this.get(S,R):(this.set(S,R,H),H!==void 0?H:R)},remove:function(S,R){var H,W=S[this.expando];if(W!==void 0){if(R!==void 0)for(Array.isArray(R)?R=R.map(Dt):(R=Dt(R),R=R in W?[R]:R.match(_o)||[]),H=R.length;H--;)delete W[R[H]];(R===void 0||k.isEmptyObject(W))&&(S.nodeType?S[this.expando]=void 0:delete S[this.expando])}},hasData:function(S){var R=S[this.expando];return R!==void 0&&!k.isEmptyObject(R)}};var rt=new st,ao=new st,So=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wo=/[A-Z]/g;function Rn(S){return S==="true"?!0:S==="false"?!1:S==="null"?null:S===+S+""?+S:So.test(S)?JSON.parse(S):S}function Zo(S,R,H){var W;if(H===void 0&&S.nodeType===1)if(W="data-"+R.replace(wo,"-$&").toLowerCase(),H=S.getAttribute(W),typeof H=="string"){try{H=Rn(H)}catch{}ao.set(S,R,H)}else H=void 0;return H}k.extend({hasData:function(S){return ao.hasData(S)||rt.hasData(S)},data:function(S,R,H){return ao.access(S,R,H)},removeData:function(S,R){ao.remove(S,R)},_data:function(S,R,H){return rt.access(S,R,H)},_removeData:function(S,R){rt.remove(S,R)}}),k.fn.extend({data:function(S,R){var H,W,X,se=this[0],me=se&&se.attributes;if(S===void 0){if(this.length&&(X=ao.get(se),se.nodeType===1&&!rt.get(se,"hasDataAttrs"))){for(H=me.length;H--;)me[H]&&(W=me[H].name,W.indexOf("data-")===0&&(W=Dt(W.slice(5)),Zo(se,W,X[W])));rt.set(se,"hasDataAttrs",!0)}return X}return typeof S=="object"?this.each(function(){ao.set(this,S)}):et(this,function(Ze){var We;if(se&&Ze===void 0)return We=ao.get(se,S),We!==void 0||(We=Zo(se,S),We!==void 0)?We:void 0;this.each(function(){ao.set(this,S,Ze)})},null,R,arguments.length>1,null,!0)},removeData:function(S){return this.each(function(){ao.remove(this,S)})}}),k.extend({queue:function(S,R,H){var W;if(S)return R=(R||"fx")+"queue",W=rt.get(S,R),H&&(!W||Array.isArray(H)?W=rt.access(S,R,k.makeArray(H)):W.push(H)),W||[]},dequeue:function(S,R){R=R||"fx";var H=k.queue(S,R),W=H.length,X=H.shift(),se=k._queueHooks(S,R),me=function(){k.dequeue(S,R)};X==="inprogress"&&(X=H.shift(),W--),X&&(R==="fx"&&H.unshift("inprogress"),delete se.stop,X.call(S,me,se)),!W&&se&&se.empty.fire()},_queueHooks:function(S,R){var H=R+"queueHooks";return rt.get(S,H)||rt.access(S,H,{empty:k.Callbacks("once memory").add(function(){rt.remove(S,[R+"queue",H])})})}}),k.fn.extend({queue:function(S,R){var H=2;return typeof S!="string"&&(R=S,S="fx",H--),arguments.length<H?k.queue(this[0],S):R===void 0?this:this.each(function(){var W=k.queue(this,S,R);k._queueHooks(this,S),S==="fx"&&W[0]!=="inprogress"&&k.dequeue(this,S)})},dequeue:function(S){return this.each(function(){k.dequeue(this,S)})},clearQueue:function(S){return this.queue(S||"fx",[])},promise:function(S,R){var H,W=1,X=k.Deferred(),se=this,me=this.length,Ze=function(){--W||X.resolveWith(se,[se])};for(typeof S!="string"&&(R=S,S=void 0),S=S||"fx";me--;)H=rt.get(se[me],S+"queueHooks"),H&&H.empty&&(W++,H.empty.add(Ze));return Ze(),X.promise(R)}});var Vo=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oo=new RegExp("^(?:([+-])=|)("+Vo+")([a-z%]*)$","i"),No=["Top","Right","Bottom","Left"],je=Be.documentElement,tt=function(S){return k.contains(S.ownerDocument,S)},gt={composed:!0};je.getRootNode&&(tt=function(S){return k.contains(S.ownerDocument,S)||S.getRootNode(gt)===S.ownerDocument});var bt=function(S,R){return S=R||S,S.style.display==="none"||S.style.display===""&&tt(S)&&k.css(S,"display")==="none"};function bn(S,R,H,W){var X,se,me=20,Ze=W?function(){return W.cur()}:function(){return k.css(S,R,"")},We=Ze(),pt=H&&H[3]||(k.cssNumber[R]?"":"px"),Ut=S.nodeType&&(k.cssNumber[R]||pt!=="px"&&+We)&&Oo.exec(k.css(S,R));if(Ut&&Ut[3]!==pt){for(We=We/2,pt=pt||Ut[3],Ut=+We||1;me--;)k.style(S,R,Ut+pt),(1-se)*(1-(se=Ze()/We||.5))<=0&&(me=0),Ut=Ut/se;Ut=Ut*2,k.style(S,R,Ut+pt),H=H||[]}return H&&(Ut=+Ut||+We||0,X=H[1]?Ut+(H[1]+1)*H[2]:+H[2],W&&(W.unit=pt,W.start=Ut,W.end=X)),X}var _n={};function zn(S){var R,H=S.ownerDocument,W=S.nodeName,X=_n[W];return X||(R=H.body.appendChild(H.createElement(W)),X=k.css(R,"display"),R.parentNode.removeChild(R),X==="none"&&(X="block"),_n[W]=X,X)}function _t(S,R){for(var H,W,X=[],se=0,me=S.length;se<me;se++)W=S[se],W.style&&(H=W.style.display,R?(H==="none"&&(X[se]=rt.get(W,"display")||null,X[se]||(W.style.display="")),W.style.display===""&&bt(W)&&(X[se]=zn(W))):H!=="none"&&(X[se]="none",rt.set(W,"display",H)));for(se=0;se<me;se++)X[se]!=null&&(S[se].style.display=X[se]);return S}k.fn.extend({show:function(){return _t(this,!0)},hide:function(){return _t(this)},toggle:function(S){return typeof S=="boolean"?S?this.show():this.hide():this.each(function(){bt(this)?k(this).show():k(this).hide()})}});var yn=/^(?:checkbox|radio)$/i,cn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ro=/^$|^module$|\/(?:java|ecma)script/i;(function(){var S=Be.createDocumentFragment(),R=S.appendChild(Be.createElement("div")),H=Be.createElement("input");H.setAttribute("type","radio"),H.setAttribute("checked","checked"),H.setAttribute("name","t"),R.appendChild(H),be.checkClone=R.cloneNode(!0).cloneNode(!0).lastChild.checked,R.innerHTML="<textarea>x</textarea>",be.noCloneChecked=!!R.cloneNode(!0).lastChild.defaultValue,R.innerHTML="<option></option>",be.option=!!R.lastChild})();var Do={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Do.tbody=Do.tfoot=Do.colgroup=Do.caption=Do.thead,Do.th=Do.td,be.option||(Do.optgroup=Do.option=[1,"<select multiple='multiple'>","</select>"]);function Qt(S,R){var H;return typeof S.getElementsByTagName<"u"?H=S.getElementsByTagName(R||"*"):typeof S.querySelectorAll<"u"?H=S.querySelectorAll(R||"*"):H=[],R===void 0||R&&ht(S,R)?k.merge([S],H):H}function Us(S,R){for(var H=0,W=S.length;H<W;H++)rt.set(S[H],"globalEval",!R||rt.get(R[H],"globalEval"))}var Xo=/<|&#?\w+;/;function si(S,R,H,W,X){for(var se,me,Ze,We,pt,Ut,hn=R.createDocumentFragment(),It=[],Vn=0,ds=S.length;Vn<ds;Vn++)if(se=S[Vn],se||se===0)if(Oe(se)==="object")k.merge(It,se.nodeType?[se]:se);else if(!Xo.test(se))It.push(R.createTextNode(se));else{for(me=me||hn.appendChild(R.createElement("div")),Ze=(cn.exec(se)||["",""])[1].toLowerCase(),We=Do[Ze]||Do._default,me.innerHTML=We[1]+k.htmlPrefilter(se)+We[2],Ut=We[0];Ut--;)me=me.lastChild;k.merge(It,me.childNodes),me=hn.firstChild,me.textContent=""}for(hn.textContent="",Vn=0;se=It[Vn++];){if(W&&k.inArray(se,W)>-1){X&&X.push(se);continue}if(pt=tt(se),me=Qt(hn.appendChild(se),"script"),pt&&Us(me),H)for(Ut=0;se=me[Ut++];)ro.test(se.type||"")&&H.push(se)}return hn}var Nr=/^([^.]*)(?:\.(.+)|)/;function mr(){return!0}function Jo(){return!1}function jn(S,R,H,W,X,se){var me,Ze;if(typeof R=="object"){typeof H!="string"&&(W=W||H,H=void 0);for(Ze in R)jn(S,Ze,H,W,R[Ze],se);return S}if(W==null&&X==null?(X=H,W=H=void 0):X==null&&(typeof H=="string"?(X=W,W=void 0):(X=W,W=H,H=void 0)),X===!1)X=Jo;else if(!X)return S;return se===1&&(me=X,X=function(We){return k().off(We),me.apply(this,arguments)},X.guid=me.guid||(me.guid=k.guid++)),S.each(function(){k.event.add(this,R,X,W,H)})}k.event={global:{},add:function(S,R,H,W,X){var se,me,Ze,We,pt,Ut,hn,It,Vn,ds,Ys,Ds=rt.get(S);if(Ht(S))for(H.handler&&(se=H,H=se.handler,X=se.selector),X&&k.find.matchesSelector(je,X),H.guid||(H.guid=k.guid++),(We=Ds.events)||(We=Ds.events=Object.create(null)),(me=Ds.handle)||(me=Ds.handle=function(Li){return typeof k<"u"&&k.event.triggered!==Li.type?k.event.dispatch.apply(S,arguments):void 0}),R=(R||"").match(_o)||[""],pt=R.length;pt--;)Ze=Nr.exec(R[pt])||[],Vn=Ys=Ze[1],ds=(Ze[2]||"").split(".").sort(),Vn&&(hn=k.event.special[Vn]||{},Vn=(X?hn.delegateType:hn.bindType)||Vn,hn=k.event.special[Vn]||{},Ut=k.extend({type:Vn,origType:Ys,data:W,handler:H,guid:H.guid,selector:X,needsContext:X&&k.expr.match.needsContext.test(X),namespace:ds.join(".")},se),(It=We[Vn])||(It=We[Vn]=[],It.delegateCount=0,(!hn.setup||hn.setup.call(S,W,ds,me)===!1)&&S.addEventListener&&S.addEventListener(Vn,me)),hn.add&&(hn.add.call(S,Ut),Ut.handler.guid||(Ut.handler.guid=H.guid)),X?It.splice(It.delegateCount++,0,Ut):It.push(Ut),k.event.global[Vn]=!0)},remove:function(S,R,H,W,X){var se,me,Ze,We,pt,Ut,hn,It,Vn,ds,Ys,Ds=rt.hasData(S)&&rt.get(S);if(!(!Ds||!(We=Ds.events))){for(R=(R||"").match(_o)||[""],pt=R.length;pt--;){if(Ze=Nr.exec(R[pt])||[],Vn=Ys=Ze[1],ds=(Ze[2]||"").split(".").sort(),!Vn){for(Vn in We)k.event.remove(S,Vn+R[pt],H,W,!0);continue}for(hn=k.event.special[Vn]||{},Vn=(W?hn.delegateType:hn.bindType)||Vn,It=We[Vn]||[],Ze=Ze[2]&&new RegExp("(^|\\.)"+ds.join("\\.(?:.*\\.|)")+"(\\.|$)"),me=se=It.length;se--;)Ut=It[se],(X||Ys===Ut.origType)&&(!H||H.guid===Ut.guid)&&(!Ze||Ze.test(Ut.namespace))&&(!W||W===Ut.selector||W==="**"&&Ut.selector)&&(It.splice(se,1),Ut.selector&&It.delegateCount--,hn.remove&&hn.remove.call(S,Ut));me&&!It.length&&((!hn.teardown||hn.teardown.call(S,ds,Ds.handle)===!1)&&k.removeEvent(S,Vn,Ds.handle),delete We[Vn])}k.isEmptyObject(We)&&rt.remove(S,"handle events")}},dispatch:function(S){var R,H,W,X,se,me,Ze=new Array(arguments.length),We=k.event.fix(S),pt=(rt.get(this,"events")||Object.create(null))[We.type]||[],Ut=k.event.special[We.type]||{};for(Ze[0]=We,R=1;R<arguments.length;R++)Ze[R]=arguments[R];if(We.delegateTarget=this,!(Ut.preDispatch&&Ut.preDispatch.call(this,We)===!1)){for(me=k.event.handlers.call(this,We,pt),R=0;(X=me[R++])&&!We.isPropagationStopped();)for(We.currentTarget=X.elem,H=0;(se=X.handlers[H++])&&!We.isImmediatePropagationStopped();)(!We.rnamespace||se.namespace===!1||We.rnamespace.test(se.namespace))&&(We.handleObj=se,We.data=se.data,W=((k.event.special[se.origType]||{}).handle||se.handler).apply(X.elem,Ze),W!==void 0&&(We.result=W)===!1&&(We.preventDefault(),We.stopPropagation()));return Ut.postDispatch&&Ut.postDispatch.call(this,We),We.result}},handlers:function(S,R){var H,W,X,se,me,Ze=[],We=R.delegateCount,pt=S.target;if(We&&pt.nodeType&&!(S.type==="click"&&S.button>=1)){for(;pt!==this;pt=pt.parentNode||this)if(pt.nodeType===1&&!(S.type==="click"&&pt.disabled===!0)){for(se=[],me={},H=0;H<We;H++)W=R[H],X=W.selector+" ",me[X]===void 0&&(me[X]=W.needsContext?k(X,this).index(pt)>-1:k.find(X,this,null,[pt]).length),me[X]&&se.push(W);se.length&&Ze.push({elem:pt,handlers:se})}}return pt=this,We<R.length&&Ze.push({elem:pt,handlers:R.slice(We)}),Ze},addProp:function(S,R){Object.defineProperty(k.Event.prototype,S,{enumerable:!0,configurable:!0,get:ve(R)?function(){if(this.originalEvent)return R(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[S]},set:function(H){Object.defineProperty(this,S,{enumerable:!0,configurable:!0,writable:!0,value:H})}})},fix:function(S){return S[k.expando]?S:new k.Event(S)},special:{load:{noBubble:!0},click:{setup:function(S){var R=this||S;return yn.test(R.type)&&R.click&&ht(R,"input")&&Qo(R,"click",!0),!1},trigger:function(S){var R=this||S;return yn.test(R.type)&&R.click&&ht(R,"input")&&Qo(R,"click"),!0},_default:function(S){var R=S.target;return yn.test(R.type)&&R.click&&ht(R,"input")&&rt.get(R,"click")||ht(R,"a")}},beforeunload:{postDispatch:function(S){S.result!==void 0&&S.originalEvent&&(S.originalEvent.returnValue=S.result)}}}};function Qo(S,R,H){if(!H){rt.get(S,R)===void 0&&k.event.add(S,R,mr);return}rt.set(S,R,!1),k.event.add(S,R,{namespace:!1,handler:function(W){var X,se=rt.get(this,R);if(W.isTrigger&1&&this[R]){if(se)(k.event.special[R]||{}).delegateType&&W.stopPropagation();else if(se=D.call(arguments),rt.set(this,R,se),this[R](),X=rt.get(this,R),rt.set(this,R,!1),se!==X)return W.stopImmediatePropagation(),W.preventDefault(),X}else se&&(rt.set(this,R,k.event.trigger(se[0],se.slice(1),this)),W.stopPropagation(),W.isImmediatePropagationStopped=mr)}})}k.removeEvent=function(S,R,H){S.removeEventListener&&S.removeEventListener(R,H)},k.Event=function(S,R){if(!(this instanceof k.Event))return new k.Event(S,R);S&&S.type?(this.originalEvent=S,this.type=S.type,this.isDefaultPrevented=S.defaultPrevented||S.defaultPrevented===void 0&&S.returnValue===!1?mr:Jo,this.target=S.target&&S.target.nodeType===3?S.target.parentNode:S.target,this.currentTarget=S.currentTarget,this.relatedTarget=S.relatedTarget):this.type=S,R&&k.extend(this,R),this.timeStamp=S&&S.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Jo,isPropagationStopped:Jo,isImmediatePropagationStopped:Jo,isSimulated:!1,preventDefault:function(){var S=this.originalEvent;this.isDefaultPrevented=mr,S&&!this.isSimulated&&S.preventDefault()},stopPropagation:function(){var S=this.originalEvent;this.isPropagationStopped=mr,S&&!this.isSimulated&&S.stopPropagation()},stopImmediatePropagation:function(){var S=this.originalEvent;this.isImmediatePropagationStopped=mr,S&&!this.isSimulated&&S.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(S,R){function H(W){if(Be.documentMode){var X=rt.get(this,"handle"),se=k.event.fix(W);se.type=W.type==="focusin"?"focus":"blur",se.isSimulated=!0,X(W),se.target===se.currentTarget&&X(se)}else k.event.simulate(R,W.target,k.event.fix(W))}k.event.special[S]={setup:function(){var W;if(Qo(this,S,!0),Be.documentMode)W=rt.get(this,R),W||this.addEventListener(R,H),rt.set(this,R,(W||0)+1);else return!1},trigger:function(){return Qo(this,S),!0},teardown:function(){var W;if(Be.documentMode)W=rt.get(this,R)-1,W?rt.set(this,R,W):(this.removeEventListener(R,H),rt.remove(this,R));else return!1},_default:function(W){return rt.get(W.target,S)},delegateType:R},k.event.special[R]={setup:function(){var W=this.ownerDocument||this.document||this,X=Be.documentMode?this:W,se=rt.get(X,R);se||(Be.documentMode?this.addEventListener(R,H):W.addEventListener(S,H,!0)),rt.set(X,R,(se||0)+1)},teardown:function(){var W=this.ownerDocument||this.document||this,X=Be.documentMode?this:W,se=rt.get(X,R)-1;se?rt.set(X,R,se):(Be.documentMode?this.removeEventListener(R,H):W.removeEventListener(S,H,!0),rt.remove(X,R))}}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(S,R){k.event.special[S]={delegateType:R,bindType:R,handle:function(H){var W,X=this,se=H.relatedTarget,me=H.handleObj;return(!se||se!==X&&!k.contains(X,se))&&(H.type=me.origType,W=me.handler.apply(this,arguments),H.type=R),W}}}),k.fn.extend({on:function(S,R,H,W){return jn(this,S,R,H,W)},one:function(S,R,H,W){return jn(this,S,R,H,W,1)},off:function(S,R,H){var W,X;if(S&&S.preventDefault&&S.handleObj)return W=S.handleObj,k(S.delegateTarget).off(W.namespace?W.origType+"."+W.namespace:W.origType,W.selector,W.handler),this;if(typeof S=="object"){for(X in S)this.off(X,R,S[X]);return this}return(R===!1||typeof R=="function")&&(H=R,R=void 0),H===!1&&(H=Jo),this.each(function(){k.event.remove(this,S,H,R)})}});var Ji=/<script|<style|<link/i,Pa=/checked\s*(?:[^=]|=\s*.checked.)/i,Tc=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Un(S,R){return ht(S,"table")&&ht(R.nodeType!==11?R:R.firstChild,"tr")&&k(S).children("tbody")[0]||S}function ha(S){return S.type=(S.getAttribute("type")!==null)+"/"+S.type,S}function ri(S){return(S.type||"").slice(0,5)==="true/"?S.type=S.type.slice(5):S.removeAttribute("type"),S}function Wu(S,R){var H,W,X,se,me,Ze,We;if(R.nodeType===1){if(rt.hasData(S)&&(se=rt.get(S),We=se.events,We)){rt.remove(R,"handle events");for(X in We)for(H=0,W=We[X].length;H<W;H++)k.event.add(R,X,We[X][H])}ao.hasData(S)&&(me=ao.access(S),Ze=k.extend({},me),ao.set(R,Ze))}}function Ri(S,R){var H=R.nodeName.toLowerCase();H==="input"&&yn.test(S.type)?R.checked=S.checked:(H==="input"||H==="textarea")&&(R.defaultValue=S.defaultValue)}function Nl(S,R,H,W){R=P(R);var X,se,me,Ze,We,pt,Ut=0,hn=S.length,It=hn-1,Vn=R[0],ds=ve(Vn);if(ds||hn>1&&typeof Vn=="string"&&!be.checkClone&&Pa.test(Vn))return S.each(function(Ys){var Ds=S.eq(Ys);ds&&(R[0]=Vn.call(this,Ys,Ds.html())),Nl(Ds,R,H,W)});if(hn&&(X=si(R,S[0].ownerDocument,!1,S,W),se=X.firstChild,X.childNodes.length===1&&(X=se),se||W)){for(me=k.map(Qt(X,"script"),ha),Ze=me.length;Ut<hn;Ut++)We=X,Ut!==It&&(We=k.clone(We,!0,!0),Ze&&k.merge(me,Qt(We,"script"))),H.call(S[Ut],We,Ut);if(Ze)for(pt=me[me.length-1].ownerDocument,k.map(me,ri),Ut=0;Ut<Ze;Ut++)We=me[Ut],ro.test(We.type||"")&&!rt.access(We,"globalEval")&&k.contains(pt,We)&&(We.src&&(We.type||"").toLowerCase()!=="module"?k._evalUrl&&!We.noModule&&k._evalUrl(We.src,{nonce:We.nonce||We.getAttribute("nonce")},pt):oe(We.textContent.replace(Tc,""),We,pt))}return S}function ws(S,R,H){for(var W,X=R?k.filter(R,S):S,se=0;(W=X[se])!=null;se++)!H&&W.nodeType===1&&k.cleanData(Qt(W)),W.parentNode&&(H&&tt(W)&&Us(Qt(W,"script")),W.parentNode.removeChild(W));return S}k.extend({htmlPrefilter:function(S){return S},clone:function(S,R,H){var W,X,se,me,Ze=S.cloneNode(!0),We=tt(S);if(!be.noCloneChecked&&(S.nodeType===1||S.nodeType===11)&&!k.isXMLDoc(S))for(me=Qt(Ze),se=Qt(S),W=0,X=se.length;W<X;W++)Ri(se[W],me[W]);if(R)if(H)for(se=se||Qt(S),me=me||Qt(Ze),W=0,X=se.length;W<X;W++)Wu(se[W],me[W]);else Wu(S,Ze);return me=Qt(Ze,"script"),me.length>0&&Us(me,!We&&Qt(S,"script")),Ze},cleanData:function(S){for(var R,H,W,X=k.event.special,se=0;(H=S[se])!==void 0;se++)if(Ht(H)){if(R=H[rt.expando]){if(R.events)for(W in R.events)X[W]?k.event.remove(H,W):k.removeEvent(H,W,R.handle);H[rt.expando]=void 0}H[ao.expando]&&(H[ao.expando]=void 0)}}}),k.fn.extend({detach:function(S){return ws(this,S,!0)},remove:function(S){return ws(this,S)},text:function(S){return et(this,function(R){return R===void 0?k.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=R)})},null,S,arguments.length)},append:function(){return Nl(this,arguments,function(S){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var R=Un(this,S);R.appendChild(S)}})},prepend:function(){return Nl(this,arguments,function(S){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var R=Un(this,S);R.insertBefore(S,R.firstChild)}})},before:function(){return Nl(this,arguments,function(S){this.parentNode&&this.parentNode.insertBefore(S,this)})},after:function(){return Nl(this,arguments,function(S){this.parentNode&&this.parentNode.insertBefore(S,this.nextSibling)})},empty:function(){for(var S,R=0;(S=this[R])!=null;R++)S.nodeType===1&&(k.cleanData(Qt(S,!1)),S.textContent="");return this},clone:function(S,R){return S=S??!1,R=R??S,this.map(function(){return k.clone(this,S,R)})},html:function(S){return et(this,function(R){var H=this[0]||{},W=0,X=this.length;if(R===void 0&&H.nodeType===1)return H.innerHTML;if(typeof R=="string"&&!Ji.test(R)&&!Do[(cn.exec(R)||["",""])[1].toLowerCase()]){R=k.htmlPrefilter(R);try{for(;W<X;W++)H=this[W]||{},H.nodeType===1&&(k.cleanData(Qt(H,!1)),H.innerHTML=R);H=0}catch{}}H&&this.empty().append(R)},null,S,arguments.length)},replaceWith:function(){var S=[];return Nl(this,arguments,function(R){var H=this.parentNode;k.inArray(this,S)<0&&(k.cleanData(Qt(this)),H&&H.replaceChild(R,this))},S)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(S,R){k.fn[S]=function(H){for(var W,X=[],se=k(H),me=se.length-1,Ze=0;Ze<=me;Ze++)W=Ze===me?this:this.clone(!0),k(se[Ze])[R](W),$.apply(X,W.get());return this.pushStack(X)}});var Gc=new RegExp("^("+Vo+")(?!px)[a-z%]+$","i"),dl=/^--/,kc=function(S){var R=S.ownerDocument.defaultView;return(!R||!R.opener)&&(R=u),R.getComputedStyle(S)},qa=function(S,R,H){var W,X,se={};for(X in R)se[X]=S.style[X],S.style[X]=R[X];W=H.call(S);for(X in R)S.style[X]=se[X];return W},ii=new RegExp(No.join("|"),"i");(function(){function S(){if(pt){We.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",pt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",je.appendChild(We).appendChild(pt);var Ut=u.getComputedStyle(pt);H=Ut.top!=="1%",Ze=R(Ut.marginLeft)===12,pt.style.right="60%",se=R(Ut.right)===36,W=R(Ut.width)===36,pt.style.position="absolute",X=R(pt.offsetWidth/3)===12,je.removeChild(We),pt=null}}function R(Ut){return Math.round(parseFloat(Ut))}var H,W,X,se,me,Ze,We=Be.createElement("div"),pt=Be.createElement("div");pt.style&&(pt.style.backgroundClip="content-box",pt.cloneNode(!0).style.backgroundClip="",be.clearCloneStyle=pt.style.backgroundClip==="content-box",k.extend(be,{boxSizingReliable:function(){return S(),W},pixelBoxStyles:function(){return S(),se},pixelPosition:function(){return S(),H},reliableMarginLeft:function(){return S(),Ze},scrollboxSize:function(){return S(),X},reliableTrDimensions:function(){var Ut,hn,It,Vn;return me==null&&(Ut=Be.createElement("table"),hn=Be.createElement("tr"),It=Be.createElement("div"),Ut.style.cssText="position:absolute;left:-11111px;border-collapse:separate",hn.style.cssText="box-sizing:content-box;border:1px solid",hn.style.height="1px",It.style.height="9px",It.style.display="block",je.appendChild(Ut).appendChild(hn).appendChild(It),Vn=u.getComputedStyle(hn),me=parseInt(Vn.height,10)+parseInt(Vn.borderTopWidth,10)+parseInt(Vn.borderBottomWidth,10)===hn.offsetHeight,je.removeChild(Ut)),me}}))})();function Ac(S,R,H){var W,X,se,me,Ze=dl.test(R),We=S.style;return H=H||kc(S),H&&(me=H.getPropertyValue(R)||H[R],Ze&&me&&(me=me.replace(Ct,"$1")||void 0),me===""&&!tt(S)&&(me=k.style(S,R)),!be.pixelBoxStyles()&&Gc.test(me)&&ii.test(R)&&(W=We.width,X=We.minWidth,se=We.maxWidth,We.minWidth=We.maxWidth=We.width=me,me=H.width,We.width=W,We.minWidth=X,We.maxWidth=se)),me!==void 0?me+"":me}function fl(S,R){return{get:function(){if(S()){delete this.get;return}return(this.get=R).apply(this,arguments)}}}var Tn=["Webkit","Moz","ms"],Rd=Be.createElement("div").style,Il={};function Bl(S){for(var R=S[0].toUpperCase()+S.slice(1),H=Tn.length;H--;)if(S=Tn[H]+R,S in Rd)return S}function Is(S){var R=k.cssProps[S]||Il[S];return R||(S in Rd?S:Il[S]=Bl(S)||S)}var Md=/^(none|table(?!-c[ea]).+)/,La={position:"absolute",visibility:"hidden",display:"block"},Gr={letterSpacing:"0",fontWeight:"400"};function Oc(S,R,H){var W=Oo.exec(R);return W?Math.max(0,W[2]-(H||0))+(W[3]||"px"):R}function $l(S,R,H,W,X,se){var me=R==="width"?1:0,Ze=0,We=0,pt=0;if(H===(W?"border":"content"))return 0;for(;me<4;me+=2)H==="margin"&&(pt+=k.css(S,H+No[me],!0,X)),W?(H==="content"&&(We-=k.css(S,"padding"+No[me],!0,X)),H!=="margin"&&(We-=k.css(S,"border"+No[me]+"Width",!0,X))):(We+=k.css(S,"padding"+No[me],!0,X),H!=="padding"?We+=k.css(S,"border"+No[me]+"Width",!0,X):Ze+=k.css(S,"border"+No[me]+"Width",!0,X));return!W&&se>=0&&(We+=Math.max(0,Math.ceil(S["offset"+R[0].toUpperCase()+R.slice(1)]-se-We-Ze-.5))||0),We+pt}function ga(S,R,H){var W=kc(S),X=!be.boxSizingReliable()||H,se=X&&k.css(S,"boxSizing",!1,W)==="border-box",me=se,Ze=Ac(S,R,W),We="offset"+R[0].toUpperCase()+R.slice(1);if(Gc.test(Ze)){if(!H)return Ze;Ze="auto"}return(!be.boxSizingReliable()&&se||!be.reliableTrDimensions()&&ht(S,"tr")||Ze==="auto"||!parseFloat(Ze)&&k.css(S,"display",!1,W)==="inline")&&S.getClientRects().length&&(se=k.css(S,"boxSizing",!1,W)==="border-box",me=We in S,me&&(Ze=S[We])),Ze=parseFloat(Ze)||0,Ze+$l(S,R,H||(se?"border":"content"),me,W,Ze)+"px"}k.extend({cssHooks:{opacity:{get:function(S,R){if(R){var H=Ac(S,"opacity");return H===""?"1":H}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(S,R,H,W){if(!(!S||S.nodeType===3||S.nodeType===8||!S.style)){var X,se,me,Ze=Dt(R),We=dl.test(R),pt=S.style;if(We||(R=Is(Ze)),me=k.cssHooks[R]||k.cssHooks[Ze],H!==void 0){if(se=typeof H,se==="string"&&(X=Oo.exec(H))&&X[1]&&(H=bn(S,R,X),se="number"),H==null||H!==H)return;se==="number"&&!We&&(H+=X&&X[3]||(k.cssNumber[Ze]?"":"px")),!be.clearCloneStyle&&H===""&&R.indexOf("background")===0&&(pt[R]="inherit"),(!me||!("set"in me)||(H=me.set(S,H,W))!==void 0)&&(We?pt.setProperty(R,H):pt[R]=H)}else return me&&"get"in me&&(X=me.get(S,!1,W))!==void 0?X:pt[R]}},css:function(S,R,H,W){var X,se,me,Ze=Dt(R),We=dl.test(R);return We||(R=Is(Ze)),me=k.cssHooks[R]||k.cssHooks[Ze],me&&"get"in me&&(X=me.get(S,!0,H)),X===void 0&&(X=Ac(S,R,W)),X==="normal"&&R in Gr&&(X=Gr[R]),H===""||H?(se=parseFloat(X),H===!0||isFinite(se)?se||0:X):X}}),k.each(["height","width"],function(S,R){k.cssHooks[R]={get:function(H,W,X){if(W)return Md.test(k.css(H,"display"))&&(!H.getClientRects().length||!H.getBoundingClientRect().width)?qa(H,La,function(){return ga(H,R,X)}):ga(H,R,X)},set:function(H,W,X){var se,me=kc(H),Ze=!be.scrollboxSize()&&me.position==="absolute",We=Ze||X,pt=We&&k.css(H,"boxSizing",!1,me)==="border-box",Ut=X?$l(H,R,X,pt,me):0;return pt&&Ze&&(Ut-=Math.ceil(H["offset"+R[0].toUpperCase()+R.slice(1)]-parseFloat(me[R])-$l(H,R,"border",!1,me)-.5)),Ut&&(se=Oo.exec(W))&&(se[3]||"px")!=="px"&&(H.style[R]=W,W=k.css(H,R)),Oc(H,W,Ut)}}}),k.cssHooks.marginLeft=fl(be.reliableMarginLeft,function(S,R){if(R)return(parseFloat(Ac(S,"marginLeft"))||S.getBoundingClientRect().left-qa(S,{marginLeft:0},function(){return S.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(S,R){k.cssHooks[S+R]={expand:function(H){for(var W=0,X={},se=typeof H=="string"?H.split(" "):[H];W<4;W++)X[S+No[W]+R]=se[W]||se[W-2]||se[0];return X}},S!=="margin"&&(k.cssHooks[S+R].set=Oc)}),k.fn.extend({css:function(S,R){return et(this,function(H,W,X){var se,me,Ze={},We=0;if(Array.isArray(W)){for(se=kc(H),me=W.length;We<me;We++)Ze[W[We]]=k.css(H,W[We],!1,se);return Ze}return X!==void 0?k.style(H,W,X):k.css(H,W)},S,R,arguments.length>1)}});function er(S,R,H,W,X){return new er.prototype.init(S,R,H,W,X)}k.Tween=er,er.prototype={constructor:er,init:function(S,R,H,W,X,se){this.elem=S,this.prop=H,this.easing=X||k.easing._default,this.options=R,this.start=this.now=this.cur(),this.end=W,this.unit=se||(k.cssNumber[H]?"":"px")},cur:function(){var S=er.propHooks[this.prop];return S&&S.get?S.get(this):er.propHooks._default.get(this)},run:function(S){var R,H=er.propHooks[this.prop];return this.options.duration?this.pos=R=k.easing[this.easing](S,this.options.duration*S,0,1,this.options.duration):this.pos=R=S,this.now=(this.end-this.start)*R+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),H&&H.set?H.set(this):er.propHooks._default.set(this),this}},er.prototype.init.prototype=er.prototype,er.propHooks={_default:{get:function(S){var R;return S.elem.nodeType!==1||S.elem[S.prop]!=null&&S.elem.style[S.prop]==null?S.elem[S.prop]:(R=k.css(S.elem,S.prop,""),!R||R==="auto"?0:R)},set:function(S){k.fx.step[S.prop]?k.fx.step[S.prop](S):S.elem.nodeType===1&&(k.cssHooks[S.prop]||S.elem.style[Is(S.prop)]!=null)?k.style(S.elem,S.prop,S.now+S.unit):S.elem[S.prop]=S.now}}},er.propHooks.scrollTop=er.propHooks.scrollLeft={set:function(S){S.elem.nodeType&&S.elem.parentNode&&(S.elem[S.prop]=S.now)}},k.easing={linear:function(S){return S},swing:function(S){return .5-Math.cos(S*Math.PI)/2},_default:"swing"},k.fx=er.prototype.init,k.fx.step={};var Qi,ti,xf=/^(?:toggle|show|hide)$/,Sf=/queueHooks$/;function pa(){ti&&(Be.hidden===!1&&u.requestAnimationFrame?u.requestAnimationFrame(pa):u.setTimeout(pa,k.fx.interval),k.fx.tick())}function Ga(){return u.setTimeout(function(){Qi=void 0}),Qi=Date.now()}function sc(S,R){var H,W=0,X={height:S};for(R=R?1:0;W<4;W+=2-R)H=No[W],X["margin"+H]=X["padding"+H]=S;return R&&(X.opacity=X.width=S),X}function Pd(S,R,H){for(var W,X=(Sr.tweeners[R]||[]).concat(Sr.tweeners["*"]),se=0,me=X.length;se<me;se++)if(W=X[se].call(H,R,S))return W}function xr(S,R,H){var W,X,se,me,Ze,We,pt,Ut,hn="width"in R||"height"in R,It=this,Vn={},ds=S.style,Ys=S.nodeType&&bt(S),Ds=rt.get(S,"fxshow");H.queue||(me=k._queueHooks(S,"fx"),me.unqueued==null&&(me.unqueued=0,Ze=me.empty.fire,me.empty.fire=function(){me.unqueued||Ze()}),me.unqueued++,It.always(function(){It.always(function(){me.unqueued--,k.queue(S,"fx").length||me.empty.fire()})}));for(W in R)if(X=R[W],xf.test(X)){if(delete R[W],se=se||X==="toggle",X===(Ys?"hide":"show"))if(X==="show"&&Ds&&Ds[W]!==void 0)Ys=!0;else continue;Vn[W]=Ds&&Ds[W]||k.style(S,W)}if(We=!k.isEmptyObject(R),!(!We&&k.isEmptyObject(Vn))){hn&&S.nodeType===1&&(H.overflow=[ds.overflow,ds.overflowX,ds.overflowY],pt=Ds&&Ds.display,pt==null&&(pt=rt.get(S,"display")),Ut=k.css(S,"display"),Ut==="none"&&(pt?Ut=pt:(_t([S],!0),pt=S.style.display||pt,Ut=k.css(S,"display"),_t([S]))),(Ut==="inline"||Ut==="inline-block"&&pt!=null)&&k.css(S,"float")==="none"&&(We||(It.done(function(){ds.display=pt}),pt==null&&(Ut=ds.display,pt=Ut==="none"?"":Ut)),ds.display="inline-block")),H.overflow&&(ds.overflow="hidden",It.always(function(){ds.overflow=H.overflow[0],ds.overflowX=H.overflow[1],ds.overflowY=H.overflow[2]})),We=!1;for(W in Vn)We||(Ds?"hidden"in Ds&&(Ys=Ds.hidden):Ds=rt.access(S,"fxshow",{display:pt}),se&&(Ds.hidden=!Ys),Ys&&_t([S],!0),It.done(function(){Ys||_t([S]),rt.remove(S,"fxshow");for(W in Vn)k.style(S,W,Vn[W])})),We=Pd(Ys?Ds[W]:0,W,It),W in Ds||(Ds[W]=We.start,Ys&&(We.end=We.start,We.start=0))}}function go(S,R){var H,W,X,se,me;for(H in S)if(W=Dt(H),X=R[W],se=S[H],Array.isArray(se)&&(X=se[1],se=S[H]=se[0]),H!==W&&(S[W]=se,delete S[H]),me=k.cssHooks[W],me&&"expand"in me){se=me.expand(se),delete S[W];for(H in se)H in S||(S[H]=se[H],R[H]=X)}else R[W]=X}function Sr(S,R,H){var W,X,se=0,me=Sr.prefilters.length,Ze=k.Deferred().always(function(){delete We.elem}),We=function(){if(X)return!1;for(var hn=Qi||Ga(),It=Math.max(0,pt.startTime+pt.duration-hn),Vn=It/pt.duration||0,ds=1-Vn,Ys=0,Ds=pt.tweens.length;Ys<Ds;Ys++)pt.tweens[Ys].run(ds);return Ze.notifyWith(S,[pt,ds,It]),ds<1&&Ds?It:(Ds||Ze.notifyWith(S,[pt,1,0]),Ze.resolveWith(S,[pt]),!1)},pt=Ze.promise({elem:S,props:k.extend({},R),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},H),originalProperties:R,originalOptions:H,startTime:Qi||Ga(),duration:H.duration,tweens:[],createTween:function(hn,It){var Vn=k.Tween(S,pt.opts,hn,It,pt.opts.specialEasing[hn]||pt.opts.easing);return pt.tweens.push(Vn),Vn},stop:function(hn){var It=0,Vn=hn?pt.tweens.length:0;if(X)return this;for(X=!0;It<Vn;It++)pt.tweens[It].run(1);return hn?(Ze.notifyWith(S,[pt,1,0]),Ze.resolveWith(S,[pt,hn])):Ze.rejectWith(S,[pt,hn]),this}}),Ut=pt.props;for(go(Ut,pt.opts.specialEasing);se<me;se++)if(W=Sr.prefilters[se].call(pt,S,Ut,pt.opts),W)return ve(W.stop)&&(k._queueHooks(pt.elem,pt.opts.queue).stop=W.stop.bind(W)),W;return k.map(Ut,Pd,pt),ve(pt.opts.start)&&pt.opts.start.call(S,pt),pt.progress(pt.opts.progress).done(pt.opts.done,pt.opts.complete).fail(pt.opts.fail).always(pt.opts.always),k.fx.timer(k.extend(We,{elem:S,anim:pt,queue:pt.opts.queue})),pt}k.Animation=k.extend(Sr,{tweeners:{"*":[function(S,R){var H=this.createTween(S,R);return bn(H.elem,S,Oo.exec(R),H),H}]},tweener:function(S,R){ve(S)?(R=S,S=["*"]):S=S.match(_o);for(var H,W=0,X=S.length;W<X;W++)H=S[W],Sr.tweeners[H]=Sr.tweeners[H]||[],Sr.tweeners[H].unshift(R)},prefilters:[xr],prefilter:function(S,R){R?Sr.prefilters.unshift(S):Sr.prefilters.push(S)}}),k.speed=function(S,R,H){var W=S&&typeof S=="object"?k.extend({},S):{complete:H||!H&&R||ve(S)&&S,duration:S,easing:H&&R||R&&!ve(R)&&R};return k.fx.off?W.duration=0:typeof W.duration!="number"&&(W.duration in k.fx.speeds?W.duration=k.fx.speeds[W.duration]:W.duration=k.fx.speeds._default),(W.queue==null||W.queue===!0)&&(W.queue="fx"),W.old=W.complete,W.complete=function(){ve(W.old)&&W.old.call(this),W.queue&&k.dequeue(this,W.queue)},W},k.fn.extend({fadeTo:function(S,R,H,W){return this.filter(bt).css("opacity",0).show().end().animate({opacity:R},S,H,W)},animate:function(S,R,H,W){var X=k.isEmptyObject(S),se=k.speed(R,H,W),me=function(){var Ze=Sr(this,k.extend({},S),se);(X||rt.get(this,"finish"))&&Ze.stop(!0)};return me.finish=me,X||se.queue===!1?this.each(me):this.queue(se.queue,me)},stop:function(S,R,H){var W=function(X){var se=X.stop;delete X.stop,se(H)};return typeof S!="string"&&(H=R,R=S,S=void 0),R&&this.queue(S||"fx",[]),this.each(function(){var X=!0,se=S!=null&&S+"queueHooks",me=k.timers,Ze=rt.get(this);if(se)Ze[se]&&Ze[se].stop&&W(Ze[se]);else for(se in Ze)Ze[se]&&Ze[se].stop&&Sf.test(se)&&W(Ze[se]);for(se=me.length;se--;)me[se].elem===this&&(S==null||me[se].queue===S)&&(me[se].anim.stop(H),X=!1,me.splice(se,1));(X||!H)&&k.dequeue(this,S)})},finish:function(S){return S!==!1&&(S=S||"fx"),this.each(function(){var R,H=rt.get(this),W=H[S+"queue"],X=H[S+"queueHooks"],se=k.timers,me=W?W.length:0;for(H.finish=!0,k.queue(this,S,[]),X&&X.stop&&X.stop.call(this,!0),R=se.length;R--;)se[R].elem===this&&se[R].queue===S&&(se[R].anim.stop(!0),se.splice(R,1));for(R=0;R<me;R++)W[R]&&W[R].finish&&W[R].finish.call(this);delete H.finish})}}),k.each(["toggle","show","hide"],function(S,R){var H=k.fn[R];k.fn[R]=function(W,X,se){return W==null||typeof W=="boolean"?H.apply(this,arguments):this.animate(sc(R,!0),W,X,se)}}),k.each({slideDown:sc("show"),slideUp:sc("hide"),slideToggle:sc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(S,R){k.fn[S]=function(H,W,X){return this.animate(R,H,W,X)}}),k.timers=[],k.fx.tick=function(){var S,R=0,H=k.timers;for(Qi=Date.now();R<H.length;R++)S=H[R],!S()&&H[R]===S&&H.splice(R--,1);H.length||k.fx.stop(),Qi=void 0},k.fx.timer=function(S){k.timers.push(S),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ti||(ti=!0,pa())},k.fx.stop=function(){ti=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(S,R){return S=k.fx&&k.fx.speeds[S]||S,R=R||"fx",this.queue(R,function(H,W){var X=u.setTimeout(H,S);W.stop=function(){u.clearTimeout(X)}})},(function(){var S=Be.createElement("input"),R=Be.createElement("select"),H=R.appendChild(Be.createElement("option"));S.type="checkbox",be.checkOn=S.value!=="",be.optSelected=H.selected,S=Be.createElement("input"),S.value="t",S.type="radio",be.radioValue=S.value==="t"})();var Mi,tr=k.expr.attrHandle;k.fn.extend({attr:function(S,R){return et(this,k.attr,S,R,arguments.length>1)},removeAttr:function(S){return this.each(function(){k.removeAttr(this,S)})}}),k.extend({attr:function(S,R,H){var W,X,se=S.nodeType;if(!(se===3||se===8||se===2)){if(typeof S.getAttribute>"u")return k.prop(S,R,H);if((se!==1||!k.isXMLDoc(S))&&(X=k.attrHooks[R.toLowerCase()]||(k.expr.match.bool.test(R)?Mi:void 0)),H!==void 0){if(H===null){k.removeAttr(S,R);return}return X&&"set"in X&&(W=X.set(S,H,R))!==void 0?W:(S.setAttribute(R,H+""),H)}return X&&"get"in X&&(W=X.get(S,R))!==null?W:(W=k.find.attr(S,R),W??void 0)}},attrHooks:{type:{set:function(S,R){if(!be.radioValue&&R==="radio"&&ht(S,"input")){var H=S.value;return S.setAttribute("type",R),H&&(S.value=H),R}}}},removeAttr:function(S,R){var H,W=0,X=R&&R.match(_o);if(X&&S.nodeType===1)for(;H=X[W++];)S.removeAttribute(H)}}),Mi={set:function(S,R,H){return R===!1?k.removeAttr(S,H):S.setAttribute(H,H),H}},k.each(k.expr.match.bool.source.match(/\w+/g),function(S,R){var H=tr[R]||k.find.attr;tr[R]=function(W,X,se){var me,Ze,We=X.toLowerCase();return se||(Ze=tr[We],tr[We]=me,me=H(W,X,se)!=null?We:null,tr[We]=Ze),me}});var Ld=/^(?:input|select|textarea|button)$/i,ju=/^(?:a|area)$/i;k.fn.extend({prop:function(S,R){return et(this,k.prop,S,R,arguments.length>1)},removeProp:function(S){return this.each(function(){delete this[k.propFix[S]||S]})}}),k.extend({prop:function(S,R,H){var W,X,se=S.nodeType;if(!(se===3||se===8||se===2))return(se!==1||!k.isXMLDoc(S))&&(R=k.propFix[R]||R,X=k.propHooks[R]),H!==void 0?X&&"set"in X&&(W=X.set(S,H,R))!==void 0?W:S[R]=H:X&&"get"in X&&(W=X.get(S,R))!==null?W:S[R]},propHooks:{tabIndex:{get:function(S){var R=k.find.attr(S,"tabindex");return R?parseInt(R,10):Ld.test(S.nodeName)||ju.test(S.nodeName)&&S.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),be.optSelected||(k.propHooks.selected={get:function(S){var R=S.parentNode;return R&&R.parentNode&&R.parentNode.selectedIndex,null},set:function(S){var R=S.parentNode;R&&(R.selectedIndex,R.parentNode&&R.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this});function Ws(S){var R=S.match(_o)||[];return R.join(" ")}function ea(S){return S.getAttribute&&S.getAttribute("class")||""}function rc(S){return Array.isArray(S)?S:typeof S=="string"?S.match(_o)||[]:[]}k.fn.extend({addClass:function(S){var R,H,W,X,se,me;return ve(S)?this.each(function(Ze){k(this).addClass(S.call(this,Ze,ea(this)))}):(R=rc(S),R.length?this.each(function(){if(W=ea(this),H=this.nodeType===1&&" "+Ws(W)+" ",H){for(se=0;se<R.length;se++)X=R[se],H.indexOf(" "+X+" ")<0&&(H+=X+" ");me=Ws(H),W!==me&&this.setAttribute("class",me)}}):this)},removeClass:function(S){var R,H,W,X,se,me;return ve(S)?this.each(function(Ze){k(this).removeClass(S.call(this,Ze,ea(this)))}):arguments.length?(R=rc(S),R.length?this.each(function(){if(W=ea(this),H=this.nodeType===1&&" "+Ws(W)+" ",H){for(se=0;se<R.length;se++)for(X=R[se];H.indexOf(" "+X+" ")>-1;)H=H.replace(" "+X+" "," ");me=Ws(H),W!==me&&this.setAttribute("class",me)}}):this):this.attr("class","")},toggleClass:function(S,R){var H,W,X,se,me=typeof S,Ze=me==="string"||Array.isArray(S);return ve(S)?this.each(function(We){k(this).toggleClass(S.call(this,We,ea(this),R),R)}):typeof R=="boolean"&&Ze?R?this.addClass(S):this.removeClass(S):(H=rc(S),this.each(function(){if(Ze)for(se=k(this),X=0;X<H.length;X++)W=H[X],se.hasClass(W)?se.removeClass(W):se.addClass(W);else(S===void 0||me==="boolean")&&(W=ea(this),W&&rt.set(this,"__className__",W),this.setAttribute&&this.setAttribute("class",W||S===!1?"":rt.get(this,"__className__")||""))}))},hasClass:function(S){var R,H,W=0;for(R=" "+S+" ";H=this[W++];)if(H.nodeType===1&&(" "+Ws(ea(H))+" ").indexOf(R)>-1)return!0;return!1}});var Ef=/\r/g;k.fn.extend({val:function(S){var R,H,W,X=this[0];return arguments.length?(W=ve(S),this.each(function(se){var me;this.nodeType===1&&(W?me=S.call(this,se,k(this).val()):me=S,me==null?me="":typeof me=="number"?me+="":Array.isArray(me)&&(me=k.map(me,function(Ze){return Ze==null?"":Ze+""})),R=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()],(!R||!("set"in R)||R.set(this,me,"value")===void 0)&&(this.value=me))})):X?(R=k.valHooks[X.type]||k.valHooks[X.nodeName.toLowerCase()],R&&"get"in R&&(H=R.get(X,"value"))!==void 0?H:(H=X.value,typeof H=="string"?H.replace(Ef,""):H??"")):void 0}}),k.extend({valHooks:{option:{get:function(S){var R=k.find.attr(S,"value");return R??Ws(k.text(S))}},select:{get:function(S){var R,H,W,X=S.options,se=S.selectedIndex,me=S.type==="select-one",Ze=me?null:[],We=me?se+1:X.length;for(se<0?W=We:W=me?se:0;W<We;W++)if(H=X[W],(H.selected||W===se)&&!H.disabled&&(!H.parentNode.disabled||!ht(H.parentNode,"optgroup"))){if(R=k(H).val(),me)return R;Ze.push(R)}return Ze},set:function(S,R){for(var H,W,X=S.options,se=k.makeArray(R),me=X.length;me--;)W=X[me],(W.selected=k.inArray(k.valHooks.option.get(W),se)>-1)&&(H=!0);return H||(S.selectedIndex=-1),se}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(S,R){if(Array.isArray(R))return S.checked=k.inArray(k(S).val(),R)>-1}},be.checkOn||(k.valHooks[this].get=function(S){return S.getAttribute("value")===null?"on":S.value})});var Sn=u.location,ic={guid:Date.now()},Pi=/\?/;k.parseXML=function(S){var R,H;if(!S||typeof S!="string")return null;try{R=new u.DOMParser().parseFromString(S,"text/xml")}catch{}return H=R&&R.getElementsByTagName("parsererror")[0],(!R||H)&&k.error("Invalid XML: "+(H?k.map(H.childNodes,function(W){return W.textContent}).join(`
`):S)),R};var va=/^(?:focusinfocus|focusoutblur)$/,Er=function(S){S.stopPropagation()};k.extend(k.event,{trigger:function(S,R,H,W){var X,se,me,Ze,We,pt,Ut,hn,It=[H||Be],Vn=Se.call(S,"type")?S.type:S,ds=Se.call(S,"namespace")?S.namespace.split("."):[];if(se=hn=me=H=H||Be,!(H.nodeType===3||H.nodeType===8)&&!va.test(Vn+k.event.triggered)&&(Vn.indexOf(".")>-1&&(ds=Vn.split("."),Vn=ds.shift(),ds.sort()),We=Vn.indexOf(":")<0&&"on"+Vn,S=S[k.expando]?S:new k.Event(Vn,typeof S=="object"&&S),S.isTrigger=W?2:3,S.namespace=ds.join("."),S.rnamespace=S.namespace?new RegExp("(^|\\.)"+ds.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,S.result=void 0,S.target||(S.target=H),R=R==null?[S]:k.makeArray(R,[S]),Ut=k.event.special[Vn]||{},!(!W&&Ut.trigger&&Ut.trigger.apply(H,R)===!1))){if(!W&&!Ut.noBubble&&!ue(H)){for(Ze=Ut.delegateType||Vn,va.test(Ze+Vn)||(se=se.parentNode);se;se=se.parentNode)It.push(se),me=se;me===(H.ownerDocument||Be)&&It.push(me.defaultView||me.parentWindow||u)}for(X=0;(se=It[X++])&&!S.isPropagationStopped();)hn=se,S.type=X>1?Ze:Ut.bindType||Vn,pt=(rt.get(se,"events")||Object.create(null))[S.type]&&rt.get(se,"handle"),pt&&pt.apply(se,R),pt=We&&se[We],pt&&pt.apply&&Ht(se)&&(S.result=pt.apply(se,R),S.result===!1&&S.preventDefault());return S.type=Vn,!W&&!S.isDefaultPrevented()&&(!Ut._default||Ut._default.apply(It.pop(),R)===!1)&&Ht(H)&&We&&ve(H[Vn])&&!ue(H)&&(me=H[We],me&&(H[We]=null),k.event.triggered=Vn,S.isPropagationStopped()&&hn.addEventListener(Vn,Er),H[Vn](),S.isPropagationStopped()&&hn.removeEventListener(Vn,Er),k.event.triggered=void 0,me&&(H[We]=me)),S.result}},simulate:function(S,R,H){var W=k.extend(new k.Event,H,{type:S,isSimulated:!0});k.event.trigger(W,null,R)}}),k.fn.extend({trigger:function(S,R){return this.each(function(){k.event.trigger(S,R,this)})},triggerHandler:function(S,R){var H=this[0];if(H)return k.event.trigger(S,R,H,!0)}});var _f=/\[\]$/,ba=/\r?\n/g,Ka=/^(?:submit|button|image|reset|file)$/i,Zu=/^(?:input|select|textarea|keygen)/i;function cu(S,R,H,W){var X;if(Array.isArray(R))k.each(R,function(se,me){H||_f.test(S)?W(S,me):cu(S+"["+(typeof me=="object"&&me!=null?se:"")+"]",me,H,W)});else if(!H&&Oe(R)==="object")for(X in R)cu(S+"["+X+"]",R[X],H,W);else W(S,R)}k.param=function(S,R){var H,W=[],X=function(se,me){var Ze=ve(me)?me():me;W[W.length]=encodeURIComponent(se)+"="+encodeURIComponent(Ze??"")};if(S==null)return"";if(Array.isArray(S)||S.jquery&&!k.isPlainObject(S))k.each(S,function(){X(this.name,this.value)});else for(H in S)cu(H,S[H],R,X);return W.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var S=k.prop(this,"elements");return S?k.makeArray(S):this}).filter(function(){var S=this.type;return this.name&&!k(this).is(":disabled")&&Zu.test(this.nodeName)&&!Ka.test(S)&&(this.checked||!yn.test(S))}).map(function(S,R){var H=k(this).val();return H==null?null:Array.isArray(H)?k.map(H,function(W){return{name:R.name,value:W.replace(ba,`\r
`)}}):{name:R.name,value:H.replace(ba,`\r
`)}}).get()}});var ml=/%20/g,qu=/#.*$/,lu=/([?&])_=[^&]*/,hl=/^(.*?):[ \t]*([^\r\n]*)$/mg,uu=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pn=/^(?:GET|HEAD)$/,Fl=/^\/\//,Gu={},re={},Ae="*/".concat("*"),Ge=Be.createElement("a");Ge.href=Sn.href;function Rt(S){return function(R,H){typeof R!="string"&&(H=R,R="*");var W,X=0,se=R.toLowerCase().match(_o)||[];if(ve(H))for(;W=se[X++];)W[0]==="+"?(W=W.slice(1)||"*",(S[W]=S[W]||[]).unshift(H)):(S[W]=S[W]||[]).push(H)}}function mn(S,R,H,W){var X={},se=S===re;function me(Ze){var We;return X[Ze]=!0,k.each(S[Ze]||[],function(pt,Ut){var hn=Ut(R,H,W);if(typeof hn=="string"&&!se&&!X[hn])return R.dataTypes.unshift(hn),me(hn),!1;if(se)return!(We=hn)}),We}return me(R.dataTypes[0])||!X["*"]&&me("*")}function Fn(S,R){var H,W,X=k.ajaxSettings.flatOptions||{};for(H in R)R[H]!==void 0&&((X[H]?S:W||(W={}))[H]=R[H]);return W&&k.extend(!0,S,W),S}function es(S,R,H){for(var W,X,se,me,Ze=S.contents,We=S.dataTypes;We[0]==="*";)We.shift(),W===void 0&&(W=S.mimeType||R.getResponseHeader("Content-Type"));if(W){for(X in Ze)if(Ze[X]&&Ze[X].test(W)){We.unshift(X);break}}if(We[0]in H)se=We[0];else{for(X in H){if(!We[0]||S.converters[X+" "+We[0]]){se=X;break}me||(me=X)}se=se||me}if(se)return se!==We[0]&&We.unshift(se),H[se]}function Uo(S,R,H,W){var X,se,me,Ze,We,pt={},Ut=S.dataTypes.slice();if(Ut[1])for(me in S.converters)pt[me.toLowerCase()]=S.converters[me];for(se=Ut.shift();se;)if(S.responseFields[se]&&(H[S.responseFields[se]]=R),!We&&W&&S.dataFilter&&(R=S.dataFilter(R,S.dataType)),We=se,se=Ut.shift(),se){if(se==="*")se=We;else if(We!=="*"&&We!==se){if(me=pt[We+" "+se]||pt["* "+se],!me){for(X in pt)if(Ze=X.split(" "),Ze[1]===se&&(me=pt[We+" "+Ze[0]]||pt["* "+Ze[0]],me)){me===!0?me=pt[X]:pt[X]!==!0&&(se=Ze[0],Ut.unshift(Ze[1]));break}}if(me!==!0)if(me&&S.throws)R=me(R);else try{R=me(R)}catch(hn){return{state:"parsererror",error:me?hn:"No conversion from "+We+" to "+se}}}}return{state:"success",data:R}}k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Sn.href,type:"GET",isLocal:uu.test(Sn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ae,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(S,R){return R?Fn(Fn(S,k.ajaxSettings),R):Fn(k.ajaxSettings,S)},ajaxPrefilter:Rt(Gu),ajaxTransport:Rt(re),ajax:function(S,R){typeof S=="object"&&(R=S,S=void 0),R=R||{};var H,W,X,se,me,Ze,We,pt,Ut,hn,It=k.ajaxSetup({},R),Vn=It.context||It,ds=It.context&&(Vn.nodeType||Vn.jquery)?k(Vn):k.event,Ys=k.Deferred(),Ds=k.Callbacks("once memory"),Li=It.statusCode||{},Fr={},gl={},pl="canceled",js={readyState:0,getResponseHeader:function(nr){var ai;if(We){if(!se)for(se={};ai=hl.exec(X);)se[ai[1].toLowerCase()+" "]=(se[ai[1].toLowerCase()+" "]||[]).concat(ai[2]);ai=se[nr.toLowerCase()+" "]}return ai==null?null:ai.join(", ")},getAllResponseHeaders:function(){return We?X:null},setRequestHeader:function(nr,ai){return We==null&&(nr=gl[nr.toLowerCase()]=gl[nr.toLowerCase()]||nr,Fr[nr]=ai),this},overrideMimeType:function(nr){return We==null&&(It.mimeType=nr),this},statusCode:function(nr){var ai;if(nr)if(We)js.always(nr[js.status]);else for(ai in nr)Li[ai]=[Li[ai],nr[ai]];return this},abort:function(nr){var ai=nr||pl;return H&&H.abort(ai),ta(0,ai),this}};if(Ys.promise(js),It.url=((S||It.url||Sn.href)+"").replace(Fl,Sn.protocol+"//"),It.type=R.method||R.type||It.method||It.type,It.dataTypes=(It.dataType||"*").toLowerCase().match(_o)||[""],It.crossDomain==null){Ze=Be.createElement("a");try{Ze.href=It.url,Ze.href=Ze.href,It.crossDomain=Ge.protocol+"//"+Ge.host!=Ze.protocol+"//"+Ze.host}catch{It.crossDomain=!0}}if(It.data&&It.processData&&typeof It.data!="string"&&(It.data=k.param(It.data,It.traditional)),mn(Gu,It,R,js),We)return js;pt=k.event&&It.global,pt&&k.active++===0&&k.event.trigger("ajaxStart"),It.type=It.type.toUpperCase(),It.hasContent=!pn.test(It.type),W=It.url.replace(qu,""),It.hasContent?It.data&&It.processData&&(It.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(It.data=It.data.replace(ml,"+")):(hn=It.url.slice(W.length),It.data&&(It.processData||typeof It.data=="string")&&(W+=(Pi.test(W)?"&":"?")+It.data,delete It.data),It.cache===!1&&(W=W.replace(lu,"$1"),hn=(Pi.test(W)?"&":"?")+"_="+ic.guid+++hn),It.url=W+hn),It.ifModified&&(k.lastModified[W]&&js.setRequestHeader("If-Modified-Since",k.lastModified[W]),k.etag[W]&&js.setRequestHeader("If-None-Match",k.etag[W])),(It.data&&It.hasContent&&It.contentType!==!1||R.contentType)&&js.setRequestHeader("Content-Type",It.contentType),js.setRequestHeader("Accept",It.dataTypes[0]&&It.accepts[It.dataTypes[0]]?It.accepts[It.dataTypes[0]]+(It.dataTypes[0]!=="*"?", "+Ae+"; q=0.01":""):It.accepts["*"]);for(Ut in It.headers)js.setRequestHeader(Ut,It.headers[Ut]);if(It.beforeSend&&(It.beforeSend.call(Vn,js,It)===!1||We))return js.abort();if(pl="abort",Ds.add(It.complete),js.done(It.success),js.fail(It.error),H=mn(re,It,R,js),!H)ta(-1,"No Transport");else{if(js.readyState=1,pt&&ds.trigger("ajaxSend",[js,It]),We)return js;It.async&&It.timeout>0&&(me=u.setTimeout(function(){js.abort("timeout")},It.timeout));try{We=!1,H.send(Fr,ta)}catch(nr){if(We)throw nr;ta(-1,nr)}}function ta(nr,ai,wm,Dc){var Hl,Cm,Kc,zl,Nd,Yc=ai;We||(We=!0,me&&u.clearTimeout(me),H=void 0,X=Dc||"",js.readyState=nr>0?4:0,Hl=nr>=200&&nr<300||nr===304,wm&&(zl=es(It,js,wm)),!Hl&&k.inArray("script",It.dataTypes)>-1&&k.inArray("json",It.dataTypes)<0&&(It.converters["text script"]=function(){}),zl=Uo(It,zl,js,Hl),Hl?(It.ifModified&&(Nd=js.getResponseHeader("Last-Modified"),Nd&&(k.lastModified[W]=Nd),Nd=js.getResponseHeader("etag"),Nd&&(k.etag[W]=Nd)),nr===204||It.type==="HEAD"?Yc="nocontent":nr===304?Yc="notmodified":(Yc=zl.state,Cm=zl.data,Kc=zl.error,Hl=!Kc)):(Kc=Yc,(nr||!Yc)&&(Yc="error",nr<0&&(nr=0))),js.status=nr,js.statusText=(ai||Yc)+"",Hl?Ys.resolveWith(Vn,[Cm,Yc,js]):Ys.rejectWith(Vn,[js,Yc,Kc]),js.statusCode(Li),Li=void 0,pt&&ds.trigger(Hl?"ajaxSuccess":"ajaxError",[js,It,Hl?Cm:Kc]),Ds.fireWith(Vn,[js,Yc]),pt&&(ds.trigger("ajaxComplete",[js,It]),--k.active||k.event.trigger("ajaxStop")))}return js},getJSON:function(S,R,H){return k.get(S,R,H,"json")},getScript:function(S,R){return k.get(S,void 0,R,"script")}}),k.each(["get","post"],function(S,R){k[R]=function(H,W,X,se){return ve(W)&&(se=se||X,X=W,W=void 0),k.ajax(k.extend({url:H,type:R,dataType:se,data:W,success:X},k.isPlainObject(H)&&H))}}),k.ajaxPrefilter(function(S){var R;for(R in S.headers)R.toLowerCase()==="content-type"&&(S.contentType=S.headers[R]||"")}),k._evalUrl=function(S,R,H){return k.ajax({url:S,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(W){k.globalEval(W,R,H)}})},k.fn.extend({wrapAll:function(S){var R;return this[0]&&(ve(S)&&(S=S.call(this[0])),R=k(S,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&R.insertBefore(this[0]),R.map(function(){for(var H=this;H.firstElementChild;)H=H.firstElementChild;return H}).append(this)),this},wrapInner:function(S){return ve(S)?this.each(function(R){k(this).wrapInner(S.call(this,R))}):this.each(function(){var R=k(this),H=R.contents();H.length?H.wrapAll(S):R.append(S)})},wrap:function(S){var R=ve(S);return this.each(function(H){k(this).wrapAll(R?S.call(this,H):S)})},unwrap:function(S){return this.parent(S).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(S){return!k.expr.pseudos.visible(S)},k.expr.pseudos.visible=function(S){return!!(S.offsetWidth||S.offsetHeight||S.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new u.XMLHttpRequest}catch{}};var Cs={0:200,1223:204},G=k.ajaxSettings.xhr();be.cors=!!G&&"withCredentials"in G,be.ajax=G=!!G,k.ajaxTransport(function(S){var R,H;if(be.cors||G&&!S.crossDomain)return{send:function(W,X){var se,me=S.xhr();if(me.open(S.type,S.url,S.async,S.username,S.password),S.xhrFields)for(se in S.xhrFields)me[se]=S.xhrFields[se];S.mimeType&&me.overrideMimeType&&me.overrideMimeType(S.mimeType),!S.crossDomain&&!W["X-Requested-With"]&&(W["X-Requested-With"]="XMLHttpRequest");for(se in W)me.setRequestHeader(se,W[se]);R=function(Ze){return function(){R&&(R=H=me.onload=me.onerror=me.onabort=me.ontimeout=me.onreadystatechange=null,Ze==="abort"?me.abort():Ze==="error"?typeof me.status!="number"?X(0,"error"):X(me.status,me.statusText):X(Cs[me.status]||me.status,me.statusText,(me.responseType||"text")!=="text"||typeof me.responseText!="string"?{binary:me.response}:{text:me.responseText},me.getAllResponseHeaders()))}},me.onload=R(),H=me.onerror=me.ontimeout=R("error"),me.onabort!==void 0?me.onabort=H:me.onreadystatechange=function(){me.readyState===4&&u.setTimeout(function(){R&&H()})},R=R("abort");try{me.send(S.hasContent&&S.data||null)}catch(Ze){if(R)throw Ze}},abort:function(){R&&R()}}}),k.ajaxPrefilter(function(S){S.crossDomain&&(S.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(S){return k.globalEval(S),S}}}),k.ajaxPrefilter("script",function(S){S.cache===void 0&&(S.cache=!1),S.crossDomain&&(S.type="GET")}),k.ajaxTransport("script",function(S){if(S.crossDomain||S.scriptAttrs){var R,H;return{send:function(W,X){R=k("<script>").attr(S.scriptAttrs||{}).prop({charset:S.scriptCharset,src:S.url}).on("load error",H=function(se){R.remove(),H=null,se&&X(se.type==="error"?404:200,se.type)}),Be.head.appendChild(R[0])},abort:function(){H&&H()}}}});var ce=[],De=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var S=ce.pop()||k.expando+"_"+ic.guid++;return this[S]=!0,S}}),k.ajaxPrefilter("json jsonp",function(S,R,H){var W,X,se,me=S.jsonp!==!1&&(De.test(S.url)?"url":typeof S.data=="string"&&(S.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&De.test(S.data)&&"data");if(me||S.dataTypes[0]==="jsonp")return W=S.jsonpCallback=ve(S.jsonpCallback)?S.jsonpCallback():S.jsonpCallback,me?S[me]=S[me].replace(De,"$1"+W):S.jsonp!==!1&&(S.url+=(Pi.test(S.url)?"&":"?")+S.jsonp+"="+W),S.converters["script json"]=function(){return se||k.error(W+" was not called"),se[0]},S.dataTypes[0]="json",X=u[W],u[W]=function(){se=arguments},H.always(function(){X===void 0?k(u).removeProp(W):u[W]=X,S[W]&&(S.jsonpCallback=R.jsonpCallback,ce.push(W)),se&&ve(X)&&X(se[0]),se=X=void 0}),"script"}),be.createHTMLDocument=(function(){var S=Be.implementation.createHTMLDocument("").body;return S.innerHTML="<form></form><form></form>",S.childNodes.length===2})(),k.parseHTML=function(S,R,H){if(typeof S!="string")return[];typeof R=="boolean"&&(H=R,R=!1);var W,X,se;return R||(be.createHTMLDocument?(R=Be.implementation.createHTMLDocument(""),W=R.createElement("base"),W.href=Be.location.href,R.head.appendChild(W)):R=Be),X=Pn.exec(S),se=!H&&[],X?[R.createElement(X[1])]:(X=si([S],R,se),se&&se.length&&k(se).remove(),k.merge([],X.childNodes))},k.fn.load=function(S,R,H){var W,X,se,me=this,Ze=S.indexOf(" ");return Ze>-1&&(W=Ws(S.slice(Ze)),S=S.slice(0,Ze)),ve(R)?(H=R,R=void 0):R&&typeof R=="object"&&(X="POST"),me.length>0&&k.ajax({url:S,type:X||"GET",dataType:"html",data:R}).done(function(We){se=arguments,me.html(W?k("<div>").append(k.parseHTML(We)).find(W):We)}).always(H&&function(We,pt){me.each(function(){H.apply(this,se||[We.responseText,pt,We])})}),this},k.expr.pseudos.animated=function(S){return k.grep(k.timers,function(R){return S===R.elem}).length},k.offset={setOffset:function(S,R,H){var W,X,se,me,Ze,We,pt,Ut=k.css(S,"position"),hn=k(S),It={};Ut==="static"&&(S.style.position="relative"),Ze=hn.offset(),se=k.css(S,"top"),We=k.css(S,"left"),pt=(Ut==="absolute"||Ut==="fixed")&&(se+We).indexOf("auto")>-1,pt?(W=hn.position(),me=W.top,X=W.left):(me=parseFloat(se)||0,X=parseFloat(We)||0),ve(R)&&(R=R.call(S,H,k.extend({},Ze))),R.top!=null&&(It.top=R.top-Ze.top+me),R.left!=null&&(It.left=R.left-Ze.left+X),"using"in R?R.using.call(S,It):hn.css(It)}},k.fn.extend({offset:function(S){if(arguments.length)return S===void 0?this:this.each(function(X){k.offset.setOffset(this,S,X)});var R,H,W=this[0];if(W)return W.getClientRects().length?(R=W.getBoundingClientRect(),H=W.ownerDocument.defaultView,{top:R.top+H.pageYOffset,left:R.left+H.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var S,R,H,W=this[0],X={top:0,left:0};if(k.css(W,"position")==="fixed")R=W.getBoundingClientRect();else{for(R=this.offset(),H=W.ownerDocument,S=W.offsetParent||H.documentElement;S&&(S===H.body||S===H.documentElement)&&k.css(S,"position")==="static";)S=S.parentNode;S&&S!==W&&S.nodeType===1&&(X=k(S).offset(),X.top+=k.css(S,"borderTopWidth",!0),X.left+=k.css(S,"borderLeftWidth",!0))}return{top:R.top-X.top-k.css(W,"marginTop",!0),left:R.left-X.left-k.css(W,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var S=this.offsetParent;S&&k.css(S,"position")==="static";)S=S.offsetParent;return S||je})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(S,R){var H=R==="pageYOffset";k.fn[S]=function(W){return et(this,function(X,se,me){var Ze;if(ue(X)?Ze=X:X.nodeType===9&&(Ze=X.defaultView),me===void 0)return Ze?Ze[R]:X[se];Ze?Ze.scrollTo(H?Ze.pageXOffset:me,H?me:Ze.pageYOffset):X[se]=me},S,W,arguments.length)}}),k.each(["top","left"],function(S,R){k.cssHooks[R]=fl(be.pixelPosition,function(H,W){if(W)return W=Ac(H,R),Gc.test(W)?k(H).position()[R]+"px":W})}),k.each({Height:"height",Width:"width"},function(S,R){k.each({padding:"inner"+S,content:R,"":"outer"+S},function(H,W){k.fn[W]=function(X,se){var me=arguments.length&&(H||typeof X!="boolean"),Ze=H||(X===!0||se===!0?"margin":"border");return et(this,function(We,pt,Ut){var hn;return ue(We)?W.indexOf("outer")===0?We["inner"+S]:We.document.documentElement["client"+S]:We.nodeType===9?(hn=We.documentElement,Math.max(We.body["scroll"+S],hn["scroll"+S],We.body["offset"+S],hn["offset"+S],hn["client"+S])):Ut===void 0?k.css(We,pt,Ze):k.style(We,pt,Ut,Ze)},R,me?X:void 0,me)}})}),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(S,R){k.fn[R]=function(H){return this.on(R,H)}}),k.fn.extend({bind:function(S,R,H){return this.on(S,null,R,H)},unbind:function(S,R){return this.off(S,null,R)},delegate:function(S,R,H,W){return this.on(R,S,H,W)},undelegate:function(S,R,H){return arguments.length===1?this.off(S,"**"):this.off(R,S||"**",H)},hover:function(S,R){return this.on("mouseenter",S).on("mouseleave",R||S)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(S,R){k.fn[R]=function(H,W){return arguments.length>0?this.on(R,null,H,W):this.trigger(R)}});var ft=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;k.proxy=function(S,R){var H,W,X;if(typeof R=="string"&&(H=S[R],R=S,S=H),!!ve(S))return W=D.call(arguments,2),X=function(){return S.apply(R||this,W.concat(D.call(arguments)))},X.guid=S.guid=S.guid||k.guid++,X},k.holdReady=function(S){S?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=ht,k.isFunction=ve,k.isWindow=ue,k.camelCase=Dt,k.type=Oe,k.now=Date.now,k.isNumeric=function(S){var R=k.type(S);return(R==="number"||R==="string")&&!isNaN(S-parseFloat(S))},k.trim=function(S){return S==null?"":(S+"").replace(ft,"$1")};var In=u.jQuery,as=u.$;return k.noConflict=function(S){return u.$===k&&(u.$=as),S&&u.jQuery===k&&(u.jQuery=In),k},typeof g>"u"&&(u.jQuery=u.$=k),k})})(xz)),xz.exports}var mre;function vhe(){return mre||(mre=1,(function(a){(function(u){u(["jquery"],function(g){return(function(){var b,x,D=0,P={error:"error",info:"info",success:"success",warning:"warning"},$={clear:ve,remove:ue,error:ne,getContainer:ee,info:Se,options:{},subscribe:ke,success:ye,version:"2.1.4",warning:be},Z;return $;function ne(ht,Je,Ie){return Xe({type:P.error,iconClass:k().iconClasses.error,message:ht,optionsOverride:Ie,title:Je})}function ee(ht,Je){return ht||(ht=k()),b=g("#"+ht.containerId),b.length||Je&&(b=oe(ht)),b}function Se(ht,Je,Ie){return Xe({type:P.info,iconClass:k().iconClasses.info,message:ht,optionsOverride:Ie,title:Je})}function ke(ht){x=ht}function ye(ht,Je,Ie){return Xe({type:P.success,iconClass:k().iconClasses.success,message:ht,optionsOverride:Ie,title:Je})}function be(ht,Je,Ie){return Xe({type:P.warning,iconClass:k().iconClasses.warning,message:ht,optionsOverride:Ie,title:Je})}function ve(ht,Je){var Ie=k();b||ee(Ie),Le(ht,Ie,Je)||Be(Ie)}function ue(ht){var Je=k();if(b||ee(Je),ht&&g(":focus",ht).length===0){Ot(ht);return}b.children().length&&b.remove()}function Be(ht){for(var Je=b.children(),Ie=Je.length-1;Ie>=0;Ie--)Le(g(Je[Ie]),ht)}function Le(ht,Je,Ie){var xe=Ie&&Ie.force?Ie.force:!1;return ht&&(xe||g(":focus",ht).length===0)?(ht[Je.hideMethod]({duration:Je.hideDuration,easing:Je.hideEasing,complete:function(){Ot(ht)}}),!0):!1}function oe(ht){return b=g("<div/>").attr("id",ht.containerId).addClass(ht.positionClass),b.appendTo(g(ht.target)),b}function Oe(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function qe(ht){x&&x(ht)}function Xe(ht){var Je=k(),Ie=ht.iconClass||Je.iconClass;if(typeof ht.optionsOverride<"u"&&(Je=g.extend(Je,ht.optionsOverride),Ie=ht.optionsOverride.iconClass||Ie),jt(Je,ht))return;D++,b=ee(Je,!0);var xe=null,qt=g("<div/>"),Ct=g("<div/>"),Nt=g("<div/>"),B=g("<div/>"),Hn=g(Je.closeHtml),Qe={intervalId:null,hideEta:null,maxHideTime:null},ln={toastId:D,state:"visible",startTime:new Date,options:Je,map:ht};return Ue(),ho(),jo(),qe(ln),Je.debug&&console&&console.log(ln),qt;function $t(Re){return Re==null&&(Re=""),Re.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ue(){vo(),rn(),K(),dr(),_o(),wt(),Tt(),Pn()}function Pn(){var Re="";switch(ht.iconClass){case"toast-success":case"toast-info":Re="polite";break;default:Re="assertive"}qt.attr("aria-live",Re)}function jo(){Je.closeOnHover&&qt.hover(Xt,ut),!Je.onclick&&Je.tapToDismiss&&qt.click($n),Je.closeButton&&Hn&&Hn.click(function(Re){Re.stopPropagation?Re.stopPropagation():Re.cancelBubble!==void 0&&Re.cancelBubble!==!0&&(Re.cancelBubble=!0),Je.onCloseClick&&Je.onCloseClick(Re),$n(!0)}),Je.onclick&&qt.click(function(Re){Je.onclick(Re),$n()})}function ho(){qt.hide(),qt[Je.showMethod]({duration:Je.showDuration,easing:Je.showEasing,complete:Je.onShown}),Je.timeOut>0&&(xe=setTimeout($n,Je.timeOut),Qe.maxHideTime=parseFloat(Je.timeOut),Qe.hideEta=new Date().getTime()+Qe.maxHideTime,Je.progressBar&&(Qe.intervalId=setInterval(Lt,10)))}function vo(){ht.iconClass&&qt.addClass(Je.toastClass).addClass(Ie)}function Tt(){Je.newestOnTop?b.prepend(qt):b.append(qt)}function rn(){if(ht.title){var Re=ht.title;Je.escapeHtml&&(Re=$t(ht.title)),Ct.append(Re).addClass(Je.titleClass),qt.append(Ct)}}function K(){if(ht.message){var Re=ht.message;Je.escapeHtml&&(Re=$t(ht.message)),Nt.append(Re).addClass(Je.messageClass),qt.append(Nt)}}function dr(){Je.closeButton&&(Hn.addClass(Je.closeClass).attr("role","button"),qt.prepend(Hn))}function _o(){Je.progressBar&&(B.addClass(Je.progressClass),qt.prepend(B))}function wt(){Je.rtl&&qt.addClass("rtl")}function jt(Re,et){if(Re.preventDuplicates){if(et.message===Z)return!0;Z=et.message}return!1}function $n(Re){var et=Re&&Je.closeMethod!==!1?Je.closeMethod:Je.hideMethod,St=Re&&Je.closeDuration!==!1?Je.closeDuration:Je.hideDuration,pe=Re&&Je.closeEasing!==!1?Je.closeEasing:Je.hideEasing;if(!(g(":focus",qt).length&&!Re))return clearTimeout(Qe.intervalId),qt[et]({duration:St,easing:pe,complete:function(){Ot(qt),clearTimeout(xe),Je.onHidden&&ln.state!=="hidden"&&Je.onHidden(),ln.state="hidden",ln.endTime=new Date,qe(ln)}})}function ut(){(Je.timeOut>0||Je.extendedTimeOut>0)&&(xe=setTimeout($n,Je.extendedTimeOut),Qe.maxHideTime=parseFloat(Je.extendedTimeOut),Qe.hideEta=new Date().getTime()+Qe.maxHideTime)}function Xt(){clearTimeout(xe),Qe.hideEta=0,qt.stop(!0,!0)[Je.showMethod]({duration:Je.showDuration,easing:Je.showEasing})}function Lt(){var Re=(Qe.hideEta-new Date().getTime())/Qe.maxHideTime*100;B.width(Re+"%")}}function k(){return g.extend({},Oe(),$.options)}function Ot(ht){b||(b=ee()),!ht.is(":visible")&&(ht.remove(),ht=null,b.children().length===0&&(b.remove(),Z=void 0))}})()})})(function(u,g){a.exports?a.exports=g(phe()):window.toastr=g(window.jQuery)})})(nee)),nee.exports}var bhe=vhe();const Vae=zae(bhe);window.Alpine=Hae;Hae.start();window.toastr=Vae;Za.bind("[data-fancybox]",{animated:!0,dragToClose:!1,groupAll:!0});Vae.options={closeButton:!0,progressBar:!0,timeOut:"5000",extendedTimeOut:"1000",positionClass:"toast-top-right",showDuration:"300",hideDuration:"1000",showMethod:"fadeIn",hideMethod:"fadeOut"};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".tinymce-editor").forEach(function(a){Xme.init({target:a,directionality:a.getAttribute("dir")==="rtl"?"rtl":"ltr",height:400,license_key:"gpl",toolbar:"undo redo | bold italic underline removeformat | alignleft aligncenter alignright | link | bullist numlist | outdent indent | blockquote | table | code preview",plugins:"preview directionality code lists link table advlist",menubar:!0,branding:!1,statusbar:!0,base_url:"/tinymce",suffix:".min",setup:function(u){u.on("change",function(){u.save()})}})})});
