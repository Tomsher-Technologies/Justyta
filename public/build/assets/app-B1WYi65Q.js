const jBe="modulepreload",WBe=function(e){return"/build/"+e},JSe={},GBe=function(n,o,i){let c=Promise.resolve();if(o&&o.length>0){let p=function(_){return Promise.all(_.map(x=>Promise.resolve(x).then(P=>({status:"fulfilled",value:P}),P=>({status:"rejected",reason:P}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),S=v?.nonce||v?.getAttribute("nonce");c=p(o.map(_=>{if(_=WBe(_),_ in JSe)return;JSe[_]=!0;const x=_.endsWith(".css"),P=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${P}`))return;const B=document.createElement("link");if(B.rel=x?"stylesheet":jBe,x||(B.as="script"),B.crossOrigin="",B.href=_,S&&B.setAttribute("nonce",S),document.head.appendChild(B),x)return new Promise((z,U)=>{B.addEventListener("load",z),B.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${_}`)))})}))}function d(p){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=p,window.dispatchEvent(v),!v.defaultPrevented)throw p}return c.then(p=>{for(const v of p||[])v.status==="rejected"&&d(v.reason);return n().catch(d)})};var qBe=(function(){function e(n,o){o===void 0&&(o=[]),this._eventType=n,this._eventFunctions=o}return e.prototype.init=function(){var n=this;this._eventFunctions.forEach(function(o){typeof window<"u"&&window.addEventListener(n._eventType,o)})},e})(),ZBe=(function(){function e(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{},Datepicker:{}}}return e.prototype.addInstance=function(n,o,i,c){if(c===void 0&&(c=!1),!this._instances[n])return console.warn("Flowbite: Component ".concat(n," does not exist.")),!1;if(this._instances[n][i]&&!c){console.warn("Flowbite: Instance with ID ".concat(i," already exists."));return}c&&this._instances[n][i]&&this._instances[n][i].destroyAndRemoveInstance(),this._instances[n][i||this._generateRandomId()]=o},e.prototype.getAllInstances=function(){return this._instances},e.prototype.getInstances=function(n){return this._instances[n]?this._instances[n]:(console.warn("Flowbite: Component ".concat(n," does not exist.")),!1)},e.prototype.getInstance=function(n,o){if(this._componentAndInstanceCheck(n,o)){if(!this._instances[n][o]){console.warn("Flowbite: Instance with ID ".concat(o," does not exist."));return}return this._instances[n][o]}},e.prototype.destroyAndRemoveInstance=function(n,o){this._componentAndInstanceCheck(n,o)&&(this.destroyInstanceObject(n,o),this.removeInstance(n,o))},e.prototype.removeInstance=function(n,o){this._componentAndInstanceCheck(n,o)&&delete this._instances[n][o]},e.prototype.destroyInstanceObject=function(n,o){this._componentAndInstanceCheck(n,o)&&this._instances[n][o].destroy()},e.prototype.instanceExists=function(n,o){return!(!this._instances[n]||!this._instances[n][o])},e.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},e.prototype._componentAndInstanceCheck=function(n,o){return this._instances[n]?this._instances[n][o]?!0:(console.warn("Flowbite: Instance with ID ".concat(o," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(n," does not exist.")),!1)},e})(),_a=new ZBe;typeof window<"u"&&(window.FlowbiteInstances=_a);var PJ=function(){return PJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},PJ.apply(this,arguments)},NJ={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},KBe={id:null,override:!0},nRe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=[]),i===void 0&&(i=NJ),c===void 0&&(c=KBe),this._instanceId=c.id?c.id:n.id,this._accordionEl=n,this._items=o,this._options=PJ(PJ({},NJ),i),this._initialized=!1,this.init(),_a.addInstance("Accordion",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._items.length&&!this._initialized&&(this._items.forEach(function(o){o.active&&n.open(o.id);var i=function(){n.toggle(o.id)};o.triggerEl.addEventListener("click",i),o.clickHandler=i}),this._initialized=!0)},e.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(n){n.triggerEl.removeEventListener("click",n.clickHandler),delete n.clickHandler}),this._initialized=!1)},e.prototype.removeInstance=function(){_a.removeInstance("Accordion",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getItem=function(n){return this._items.filter(function(o){return o.id===n})[0]},e.prototype.open=function(n){var o,i,c=this,d=this.getItem(n);this._options.alwaysOpen||this._items.map(function(p){var v,S;p!==d&&((v=p.triggerEl.classList).remove.apply(v,c._options.activeClasses.split(" ")),(S=p.triggerEl.classList).add.apply(S,c._options.inactiveClasses.split(" ")),p.targetEl.classList.add("hidden"),p.triggerEl.setAttribute("aria-expanded","false"),p.active=!1,p.iconEl&&p.iconEl.classList.add("rotate-180"))}),(o=d.triggerEl.classList).add.apply(o,this._options.activeClasses.split(" ")),(i=d.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),d.triggerEl.setAttribute("aria-expanded","true"),d.targetEl.classList.remove("hidden"),d.active=!0,d.iconEl&&d.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,d)},e.prototype.toggle=function(n){var o=this.getItem(n);o.active?this.close(n):this.open(n),this._options.onToggle(this,o)},e.prototype.close=function(n){var o,i,c=this.getItem(n);(o=c.triggerEl.classList).remove.apply(o,this._options.activeClasses.split(" ")),(i=c.triggerEl.classList).add.apply(i,this._options.inactiveClasses.split(" ")),c.targetEl.classList.add("hidden"),c.triggerEl.setAttribute("aria-expanded","false"),c.active=!1,c.iconEl&&c.iconEl.classList.add("rotate-180"),this._options.onClose(this,c)},e.prototype.updateOnOpen=function(n){this._options.onOpen=n},e.prototype.updateOnClose=function(n){this._options.onClose=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function nye(){document.querySelectorAll("[data-accordion]").forEach(function(e){var n=e.getAttribute("data-accordion"),o=e.getAttribute("data-active-classes"),i=e.getAttribute("data-inactive-classes"),c=[];e.querySelectorAll("[data-accordion-target]").forEach(function(d){if(d.closest("[data-accordion]")===e){var p={id:d.getAttribute("data-accordion-target"),triggerEl:d,targetEl:document.querySelector(d.getAttribute("data-accordion-target")),iconEl:d.querySelector("[data-accordion-icon]"),active:d.getAttribute("aria-expanded")==="true"};c.push(p)}}),new nRe(e,c,{alwaysOpen:n==="open",activeClasses:o||NJ.activeClasses,inactiveClasses:i||NJ.inactiveClasses})})}typeof window<"u"&&(window.Accordion=nRe,window.initAccordions=nye);var LJ=function(){return LJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},LJ.apply(this,arguments)},QSe={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},YBe={id:null,override:!0},ege=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=QSe),c===void 0&&(c=YBe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=o,this._options=LJ(LJ({},QSe),i),this._visible=!1,this._initialized=!1,this.init(),_a.addInstance("Collapse",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){n.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){_a.removeInstance("Collapse",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},e.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},e.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},e.prototype.updateOnCollapse=function(n){this._options.onCollapse=n},e.prototype.updateOnExpand=function(n){this._options.onExpand=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function oye(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(e){var n=e.getAttribute("data-collapse-toggle"),o=document.getElementById(n);o?_a.instanceExists("Collapse",o.getAttribute("id"))?new ege(o,e,{},{id:o.getAttribute("id")+"_"+_a._generateRandomId()}):new ege(o,e):console.error('The target element with id "'.concat(n,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=ege,window.initCollapses=oye);var $2=function(){return $2=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},$2.apply(this,arguments)},VX={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},XBe={id:null,override:!0},oRe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=[]),i===void 0&&(i=VX),c===void 0&&(c=XBe),this._instanceId=c.id?c.id:n.id,this._carouselEl=n,this._items=o,this._options=$2($2($2({},VX),i),{indicators:$2($2({},VX.indicators),i.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),_a.addInstance("Carousel",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._items.length&&!this._initialized&&(this._items.map(function(o){o.el.classList.add("absolute","inset-0","transition-transform","transform")}),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map(function(o,i){o.el.addEventListener("click",function(){n.slideTo(i)})}),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},e.prototype.removeInstance=function(){_a.removeInstance("Carousel",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getItem=function(n){return this._items[n]},e.prototype.slideTo=function(n){var o=this._items[n],i={left:o.position===0?this._items[this._items.length-1]:this._items[o.position-1],middle:o,right:o.position===this._items.length-1?this._items[0]:this._items[o.position+1]};this._rotate(i),this._setActiveItem(o),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},e.prototype.next=function(){var n=this.getActiveItem(),o=null;n.position===this._items.length-1?o=this._items[0]:o=this._items[n.position+1],this.slideTo(o.position),this._options.onNext(this)},e.prototype.prev=function(){var n=this.getActiveItem(),o=null;n.position===0?o=this._items[this._items.length-1]:o=this._items[n.position-1],this.slideTo(o.position),this._options.onPrev(this)},e.prototype._rotate=function(n){if(this._items.map(function(o){o.el.classList.add("hidden")}),this._items.length===1){n.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),n.middle.el.classList.add("translate-x-0","z-20");return}n.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),n.left.el.classList.add("-translate-x-full","z-10"),n.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),n.middle.el.classList.add("translate-x-0","z-30"),n.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),n.right.el.classList.add("translate-x-full","z-20")},e.prototype.cycle=function(){var n=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){n.next()},this._intervalDuration))},e.prototype.pause=function(){clearInterval(this._intervalInstance)},e.prototype.getActiveItem=function(){return this._activeItem},e.prototype._setActiveItem=function(n){var o,i,c=this;this._activeItem=n;var d=n.position;this._indicators.length&&(this._indicators.map(function(p){var v,S;p.el.setAttribute("aria-current","false"),(v=p.el.classList).remove.apply(v,c._options.indicators.activeClasses.split(" ")),(S=p.el.classList).add.apply(S,c._options.indicators.inactiveClasses.split(" "))}),(o=this._indicators[d].el.classList).add.apply(o,this._options.indicators.activeClasses.split(" ")),(i=this._indicators[d].el.classList).remove.apply(i,this._options.indicators.inactiveClasses.split(" ")),this._indicators[d].el.setAttribute("aria-current","true"))},e.prototype.updateOnNext=function(n){this._options.onNext=n},e.prototype.updateOnPrev=function(n){this._options.onPrev=n},e.prototype.updateOnChange=function(n){this._options.onChange=n},e})();function sye(){document.querySelectorAll("[data-carousel]").forEach(function(e){var n=e.getAttribute("data-carousel-interval"),o=e.getAttribute("data-carousel")==="slide",i=[],c=0;e.querySelectorAll("[data-carousel-item]").length&&Array.from(e.querySelectorAll("[data-carousel-item]")).map(function(_,x){i.push({position:x,el:_}),_.getAttribute("data-carousel-item")==="active"&&(c=x)});var d=[];e.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(e.querySelectorAll("[data-carousel-slide-to]")).map(function(_){d.push({position:parseInt(_.getAttribute("data-carousel-slide-to")),el:_})});var p=new oRe(e,i,{defaultPosition:c,indicators:{items:d},interval:n||VX.interval});o&&p.cycle();var v=e.querySelector("[data-carousel-next]"),S=e.querySelector("[data-carousel-prev]");v&&v.addEventListener("click",function(){p.next()}),S&&S.addEventListener("click",function(){p.prev()})})}typeof window<"u"&&(window.Carousel=oRe,window.initCarousels=sye);var BJ=function(){return BJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},BJ.apply(this,arguments)},eCe={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},JBe={id:null,override:!0},sRe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=eCe),c===void 0&&(c=JBe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=o,this._options=BJ(BJ({},eCe),i),this._initialized=!1,this.init(),_a.addInstance("Dismiss",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){n.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){_a.removeInstance("Dismiss",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){var n=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){n._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},e.prototype.updateOnHide=function(n){this._options.onHide=n},e})();function rye(){document.querySelectorAll("[data-dismiss-target]").forEach(function(e){var n=e.getAttribute("data-dismiss-target"),o=document.querySelector(n);o?new sRe(o,e):console.error('The dismiss element with id "'.concat(n,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=sRe,window.initDismisses=rye);var Lb="top",e1="bottom",t1="right",Bb="left",iye="auto",dz=[Lb,e1,t1,Bb],F3="start",I6="end",QBe="clippingParents",rRe="viewport",m5="popper",eVe="reference",tCe=dz.reduce(function(e,n){return e.concat([n+"-"+F3,n+"-"+I6])},[]),iRe=[].concat(dz,[iye]).reduce(function(e,n){return e.concat([n,n+"-"+F3,n+"-"+I6])},[]),tVe="beforeRead",nVe="read",oVe="afterRead",sVe="beforeMain",rVe="main",iVe="afterMain",aVe="beforeWrite",lVe="write",cVe="afterWrite",uVe=[tVe,nVe,oVe,sVe,rVe,iVe,aVe,lVe,cVe];function _E(e){return e?(e.nodeName||"").toLowerCase():null}function Gy(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var n=e.ownerDocument;return n&&n.defaultView||window}return e}function Ik(e){var n=Gy(e).Element;return e instanceof n||e instanceof Element}function X0(e){var n=Gy(e).HTMLElement;return e instanceof n||e instanceof HTMLElement}function aye(e){if(typeof ShadowRoot>"u")return!1;var n=Gy(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}function dVe(e){var n=e.state;Object.keys(n.elements).forEach(function(o){var i=n.styles[o]||{},c=n.attributes[o]||{},d=n.elements[o];!X0(d)||!_E(d)||(Object.assign(d.style,i),Object.keys(c).forEach(function(p){var v=c[p];v===!1?d.removeAttribute(p):d.setAttribute(p,v===!0?"":v)}))})}function hVe(e){var n=e.state,o={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,o.popper),n.styles=o,n.elements.arrow&&Object.assign(n.elements.arrow.style,o.arrow),function(){Object.keys(n.elements).forEach(function(i){var c=n.elements[i],d=n.attributes[i]||{},p=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:o[i]),v=p.reduce(function(S,_){return S[_]="",S},{});!X0(c)||!_E(c)||(Object.assign(c.style,v),Object.keys(d).forEach(function(S){c.removeAttribute(S)}))})}}const fVe={name:"applyStyles",enabled:!0,phase:"write",fn:dVe,effect:hVe,requires:["computeStyles"]};function CE(e){return e.split("-")[0]}var ck=Math.max,VJ=Math.min,H3=Math.round;function tge(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function aRe(){return!/^((?!chrome|android).)*safari/i.test(tge())}function $3(e,n,o){n===void 0&&(n=!1),o===void 0&&(o=!1);var i=e.getBoundingClientRect(),c=1,d=1;n&&X0(e)&&(c=e.offsetWidth>0&&H3(i.width)/e.offsetWidth||1,d=e.offsetHeight>0&&H3(i.height)/e.offsetHeight||1);var p=Ik(e)?Gy(e):window,v=p.visualViewport,S=!aRe()&&o,_=(i.left+(S&&v?v.offsetLeft:0))/c,x=(i.top+(S&&v?v.offsetTop:0))/d,P=i.width/c,B=i.height/d;return{width:P,height:B,top:x,right:_+P,bottom:x+B,left:_,x:_,y:x}}function lye(e){var n=$3(e),o=e.offsetWidth,i=e.offsetHeight;return Math.abs(n.width-o)<=1&&(o=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:e.offsetLeft,y:e.offsetTop,width:o,height:i}}function lRe(e,n){var o=n.getRootNode&&n.getRootNode();if(e.contains(n))return!0;if(o&&aye(o)){var i=n;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function fA(e){return Gy(e).getComputedStyle(e)}function pVe(e){return["table","td","th"].indexOf(_E(e))>=0}function GO(e){return((Ik(e)?e.ownerDocument:e.document)||window.document).documentElement}function Fee(e){return _E(e)==="html"?e:e.assignedSlot||e.parentNode||(aye(e)?e.host:null)||GO(e)}function nCe(e){return!X0(e)||fA(e).position==="fixed"?null:e.offsetParent}function mVe(e){var n=/firefox/i.test(tge()),o=/Trident/i.test(tge());if(o&&X0(e)){var i=fA(e);if(i.position==="fixed")return null}var c=Fee(e);for(aye(c)&&(c=c.host);X0(c)&&["html","body"].indexOf(_E(c))<0;){var d=fA(c);if(d.transform!=="none"||d.perspective!=="none"||d.contain==="paint"||["transform","perspective"].indexOf(d.willChange)!==-1||n&&d.willChange==="filter"||n&&d.filter&&d.filter!=="none")return c;c=c.parentNode}return null}function hz(e){for(var n=Gy(e),o=nCe(e);o&&pVe(o)&&fA(o).position==="static";)o=nCe(o);return o&&(_E(o)==="html"||_E(o)==="body"&&fA(o).position==="static")?n:o||mVe(e)||n}function cye(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function e6(e,n,o){return ck(e,VJ(n,o))}function gVe(e,n,o){var i=e6(e,n,o);return i>o?o:i}function cRe(){return{top:0,right:0,bottom:0,left:0}}function uRe(e){return Object.assign({},cRe(),e)}function dRe(e,n){return n.reduce(function(o,i){return o[i]=e,o},{})}var vVe=function(n,o){return n=typeof n=="function"?n(Object.assign({},o.rects,{placement:o.placement})):n,uRe(typeof n!="number"?n:dRe(n,dz))};function bVe(e){var n,o=e.state,i=e.name,c=e.options,d=o.elements.arrow,p=o.modifiersData.popperOffsets,v=CE(o.placement),S=cye(v),_=[Bb,t1].indexOf(v)>=0,x=_?"height":"width";if(!(!d||!p)){var P=vVe(c.padding,o),B=lye(d),z=S==="y"?Lb:Bb,U=S==="y"?e1:t1,H=o.rects.reference[x]+o.rects.reference[S]-p[S]-o.rects.popper[x],K=p[S]-o.rects.reference[S],oe=hz(d),ce=oe?S==="y"?oe.clientHeight||0:oe.clientWidth||0:0,re=H/2-K/2,ye=P[z],_e=ce-B[x]-P[U],Oe=ce/2-B[x]/2+re,F=e6(ye,Oe,_e),Me=S;o.modifiersData[i]=(n={},n[Me]=F,n.centerOffset=F-Oe,n)}}function yVe(e){var n=e.state,o=e.options,i=o.element,c=i===void 0?"[data-popper-arrow]":i;c!=null&&(typeof c=="string"&&(c=n.elements.popper.querySelector(c),!c)||lRe(n.elements.popper,c)&&(n.elements.arrow=c))}const SVe={name:"arrow",enabled:!0,phase:"main",fn:bVe,effect:yVe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function U3(e){return e.split("-")[1]}var CVe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function EVe(e,n){var o=e.x,i=e.y,c=n.devicePixelRatio||1;return{x:H3(o*c)/c||0,y:H3(i*c)/c||0}}function oCe(e){var n,o=e.popper,i=e.popperRect,c=e.placement,d=e.variation,p=e.offsets,v=e.position,S=e.gpuAcceleration,_=e.adaptive,x=e.roundOffsets,P=e.isFixed,B=p.x,z=B===void 0?0:B,U=p.y,H=U===void 0?0:U,K=typeof x=="function"?x({x:z,y:H}):{x:z,y:H};z=K.x,H=K.y;var oe=p.hasOwnProperty("x"),ce=p.hasOwnProperty("y"),re=Bb,ye=Lb,_e=window;if(_){var Oe=hz(o),F="clientHeight",Me="clientWidth";if(Oe===Gy(o)&&(Oe=GO(o),fA(Oe).position!=="static"&&v==="absolute"&&(F="scrollHeight",Me="scrollWidth")),Oe=Oe,c===Lb||(c===Bb||c===t1)&&d===I6){ye=e1;var ot=P&&Oe===_e&&_e.visualViewport?_e.visualViewport.height:Oe[F];H-=ot-i.height,H*=S?1:-1}if(c===Bb||(c===Lb||c===e1)&&d===I6){re=t1;var Fe=P&&Oe===_e&&_e.visualViewport?_e.visualViewport.width:Oe[Me];z-=Fe-i.width,z*=S?1:-1}}var De=Object.assign({position:v},_&&CVe),we=x===!0?EVe({x:z,y:H},Gy(o)):{x:z,y:H};if(z=we.x,H=we.y,S){var ct;return Object.assign({},De,(ct={},ct[ye]=ce?"0":"",ct[re]=oe?"0":"",ct.transform=(_e.devicePixelRatio||1)<=1?"translate("+z+"px, "+H+"px)":"translate3d("+z+"px, "+H+"px, 0)",ct))}return Object.assign({},De,(n={},n[ye]=ce?H+"px":"",n[re]=oe?z+"px":"",n.transform="",n))}function wVe(e){var n=e.state,o=e.options,i=o.gpuAcceleration,c=i===void 0?!0:i,d=o.adaptive,p=d===void 0?!0:d,v=o.roundOffsets,S=v===void 0?!0:v,_={placement:CE(n.placement),variation:U3(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:c,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,oCe(Object.assign({},_,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:p,roundOffsets:S})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,oCe(Object.assign({},_,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:S})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const _Ve={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:wVe,data:{}};var zY={passive:!0};function AVe(e){var n=e.state,o=e.instance,i=e.options,c=i.scroll,d=c===void 0?!0:c,p=i.resize,v=p===void 0?!0:p,S=Gy(n.elements.popper),_=[].concat(n.scrollParents.reference,n.scrollParents.popper);return d&&_.forEach(function(x){x.addEventListener("scroll",o.update,zY)}),v&&S.addEventListener("resize",o.update,zY),function(){d&&_.forEach(function(x){x.removeEventListener("scroll",o.update,zY)}),v&&S.removeEventListener("resize",o.update,zY)}}const TVe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:AVe,data:{}};var xVe={left:"right",right:"left",bottom:"top",top:"bottom"};function FX(e){return e.replace(/left|right|bottom|top/g,function(n){return xVe[n]})}var OVe={start:"end",end:"start"};function sCe(e){return e.replace(/start|end/g,function(n){return OVe[n]})}function uye(e){var n=Gy(e),o=n.pageXOffset,i=n.pageYOffset;return{scrollLeft:o,scrollTop:i}}function dye(e){return $3(GO(e)).left+uye(e).scrollLeft}function IVe(e,n){var o=Gy(e),i=GO(e),c=o.visualViewport,d=i.clientWidth,p=i.clientHeight,v=0,S=0;if(c){d=c.width,p=c.height;var _=aRe();(_||!_&&n==="fixed")&&(v=c.offsetLeft,S=c.offsetTop)}return{width:d,height:p,x:v+dye(e),y:S}}function RVe(e){var n,o=GO(e),i=uye(e),c=(n=e.ownerDocument)==null?void 0:n.body,d=ck(o.scrollWidth,o.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),p=ck(o.scrollHeight,o.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),v=-i.scrollLeft+dye(e),S=-i.scrollTop;return fA(c||o).direction==="rtl"&&(v+=ck(o.clientWidth,c?c.clientWidth:0)-d),{width:d,height:p,x:v,y:S}}function hye(e){var n=fA(e),o=n.overflow,i=n.overflowX,c=n.overflowY;return/auto|scroll|overlay|hidden/.test(o+c+i)}function hRe(e){return["html","body","#document"].indexOf(_E(e))>=0?e.ownerDocument.body:X0(e)&&hye(e)?e:hRe(Fee(e))}function t6(e,n){var o;n===void 0&&(n=[]);var i=hRe(e),c=i===((o=e.ownerDocument)==null?void 0:o.body),d=Gy(i),p=c?[d].concat(d.visualViewport||[],hye(i)?i:[]):i,v=n.concat(p);return c?v:v.concat(t6(Fee(p)))}function nge(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function kVe(e,n){var o=$3(e,!1,n==="fixed");return o.top=o.top+e.clientTop,o.left=o.left+e.clientLeft,o.bottom=o.top+e.clientHeight,o.right=o.left+e.clientWidth,o.width=e.clientWidth,o.height=e.clientHeight,o.x=o.left,o.y=o.top,o}function rCe(e,n,o){return n===rRe?nge(IVe(e,o)):Ik(n)?kVe(n,o):nge(RVe(GO(e)))}function DVe(e){var n=t6(Fee(e)),o=["absolute","fixed"].indexOf(fA(e).position)>=0,i=o&&X0(e)?hz(e):e;return Ik(i)?n.filter(function(c){return Ik(c)&&lRe(c,i)&&_E(c)!=="body"}):[]}function MVe(e,n,o,i){var c=n==="clippingParents"?DVe(e):[].concat(n),d=[].concat(c,[o]),p=d[0],v=d.reduce(function(S,_){var x=rCe(e,_,i);return S.top=ck(x.top,S.top),S.right=VJ(x.right,S.right),S.bottom=VJ(x.bottom,S.bottom),S.left=ck(x.left,S.left),S},rCe(e,p,i));return v.width=v.right-v.left,v.height=v.bottom-v.top,v.x=v.left,v.y=v.top,v}function fRe(e){var n=e.reference,o=e.element,i=e.placement,c=i?CE(i):null,d=i?U3(i):null,p=n.x+n.width/2-o.width/2,v=n.y+n.height/2-o.height/2,S;switch(c){case Lb:S={x:p,y:n.y-o.height};break;case e1:S={x:p,y:n.y+n.height};break;case t1:S={x:n.x+n.width,y:v};break;case Bb:S={x:n.x-o.width,y:v};break;default:S={x:n.x,y:n.y}}var _=c?cye(c):null;if(_!=null){var x=_==="y"?"height":"width";switch(d){case F3:S[_]=S[_]-(n[x]/2-o[x]/2);break;case I6:S[_]=S[_]+(n[x]/2-o[x]/2);break}}return S}function R6(e,n){n===void 0&&(n={});var o=n,i=o.placement,c=i===void 0?e.placement:i,d=o.strategy,p=d===void 0?e.strategy:d,v=o.boundary,S=v===void 0?QBe:v,_=o.rootBoundary,x=_===void 0?rRe:_,P=o.elementContext,B=P===void 0?m5:P,z=o.altBoundary,U=z===void 0?!1:z,H=o.padding,K=H===void 0?0:H,oe=uRe(typeof K!="number"?K:dRe(K,dz)),ce=B===m5?eVe:m5,re=e.rects.popper,ye=e.elements[U?ce:B],_e=MVe(Ik(ye)?ye:ye.contextElement||GO(e.elements.popper),S,x,p),Oe=$3(e.elements.reference),F=fRe({reference:Oe,element:re,placement:c}),Me=nge(Object.assign({},re,F)),ot=B===m5?Me:Oe,Fe={top:_e.top-ot.top+oe.top,bottom:ot.bottom-_e.bottom+oe.bottom,left:_e.left-ot.left+oe.left,right:ot.right-_e.right+oe.right},De=e.modifiersData.offset;if(B===m5&&De){var we=De[c];Object.keys(Fe).forEach(function(ct){var rt=[t1,e1].indexOf(ct)>=0?1:-1,gt=[Lb,e1].indexOf(ct)>=0?"y":"x";Fe[ct]+=we[gt]*rt})}return Fe}function PVe(e,n){n===void 0&&(n={});var o=n,i=o.placement,c=o.boundary,d=o.rootBoundary,p=o.padding,v=o.flipVariations,S=o.allowedAutoPlacements,_=S===void 0?iRe:S,x=U3(i),P=x?v?tCe:tCe.filter(function(U){return U3(U)===x}):dz,B=P.filter(function(U){return _.indexOf(U)>=0});B.length===0&&(B=P);var z=B.reduce(function(U,H){return U[H]=R6(e,{placement:H,boundary:c,rootBoundary:d,padding:p})[CE(H)],U},{});return Object.keys(z).sort(function(U,H){return z[U]-z[H]})}function NVe(e){if(CE(e)===iye)return[];var n=FX(e);return[sCe(e),n,sCe(n)]}function LVe(e){var n=e.state,o=e.options,i=e.name;if(!n.modifiersData[i]._skip){for(var c=o.mainAxis,d=c===void 0?!0:c,p=o.altAxis,v=p===void 0?!0:p,S=o.fallbackPlacements,_=o.padding,x=o.boundary,P=o.rootBoundary,B=o.altBoundary,z=o.flipVariations,U=z===void 0?!0:z,H=o.allowedAutoPlacements,K=n.options.placement,oe=CE(K),ce=oe===K,re=S||(ce||!U?[FX(K)]:NVe(K)),ye=[K].concat(re).reduce(function(Nn,ho){return Nn.concat(CE(ho)===iye?PVe(n,{placement:ho,boundary:x,rootBoundary:P,padding:_,flipVariations:U,allowedAutoPlacements:H}):ho)},[]),_e=n.rects.reference,Oe=n.rects.popper,F=new Map,Me=!0,ot=ye[0],Fe=0;Fe<ye.length;Fe++){var De=ye[Fe],we=CE(De),ct=U3(De)===F3,rt=[Lb,e1].indexOf(we)>=0,gt=rt?"width":"height",ee=R6(n,{placement:De,boundary:x,rootBoundary:P,altBoundary:B,padding:_}),on=rt?ct?t1:Bb:ct?e1:Lb;_e[gt]>Oe[gt]&&(on=FX(on));var nt=FX(on),Mt=[];if(d&&Mt.push(ee[we]<=0),v&&Mt.push(ee[on]<=0,ee[nt]<=0),Mt.every(function(Nn){return Nn})){ot=De,Me=!1;break}F.set(De,Mt)}if(Me)for(var Pt=U?3:1,st=function(ho){var qt=ye.find(function(Tn){var Se=F.get(Tn);if(Se)return Se.slice(0,ho).every(function(br){return br})});if(qt)return ot=qt,"break"},vn=Pt;vn>0;vn--){var To=st(vn);if(To==="break")break}n.placement!==ot&&(n.modifiersData[i]._skip=!0,n.placement=ot,n.reset=!0)}}const BVe={name:"flip",enabled:!0,phase:"main",fn:LVe,requiresIfExists:["offset"],data:{_skip:!1}};function iCe(e,n,o){return o===void 0&&(o={x:0,y:0}),{top:e.top-n.height-o.y,right:e.right-n.width+o.x,bottom:e.bottom-n.height+o.y,left:e.left-n.width-o.x}}function aCe(e){return[Lb,t1,e1,Bb].some(function(n){return e[n]>=0})}function VVe(e){var n=e.state,o=e.name,i=n.rects.reference,c=n.rects.popper,d=n.modifiersData.preventOverflow,p=R6(n,{elementContext:"reference"}),v=R6(n,{altBoundary:!0}),S=iCe(p,i),_=iCe(v,c,d),x=aCe(S),P=aCe(_);n.modifiersData[o]={referenceClippingOffsets:S,popperEscapeOffsets:_,isReferenceHidden:x,hasPopperEscaped:P},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":x,"data-popper-escaped":P})}const FVe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:VVe};function HVe(e,n,o){var i=CE(e),c=[Bb,Lb].indexOf(i)>=0?-1:1,d=typeof o=="function"?o(Object.assign({},n,{placement:e})):o,p=d[0],v=d[1];return p=p||0,v=(v||0)*c,[Bb,t1].indexOf(i)>=0?{x:v,y:p}:{x:p,y:v}}function $Ve(e){var n=e.state,o=e.options,i=e.name,c=o.offset,d=c===void 0?[0,0]:c,p=iRe.reduce(function(x,P){return x[P]=HVe(P,n.rects,d),x},{}),v=p[n.placement],S=v.x,_=v.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=S,n.modifiersData.popperOffsets.y+=_),n.modifiersData[i]=p}const UVe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$Ve};function zVe(e){var n=e.state,o=e.name;n.modifiersData[o]=fRe({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const jVe={name:"popperOffsets",enabled:!0,phase:"read",fn:zVe,data:{}};function WVe(e){return e==="x"?"y":"x"}function GVe(e){var n=e.state,o=e.options,i=e.name,c=o.mainAxis,d=c===void 0?!0:c,p=o.altAxis,v=p===void 0?!1:p,S=o.boundary,_=o.rootBoundary,x=o.altBoundary,P=o.padding,B=o.tether,z=B===void 0?!0:B,U=o.tetherOffset,H=U===void 0?0:U,K=R6(n,{boundary:S,rootBoundary:_,padding:P,altBoundary:x}),oe=CE(n.placement),ce=U3(n.placement),re=!ce,ye=cye(oe),_e=WVe(ye),Oe=n.modifiersData.popperOffsets,F=n.rects.reference,Me=n.rects.popper,ot=typeof H=="function"?H(Object.assign({},n.rects,{placement:n.placement})):H,Fe=typeof ot=="number"?{mainAxis:ot,altAxis:ot}:Object.assign({mainAxis:0,altAxis:0},ot),De=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,we={x:0,y:0};if(Oe){if(d){var ct,rt=ye==="y"?Lb:Bb,gt=ye==="y"?e1:t1,ee=ye==="y"?"height":"width",on=Oe[ye],nt=on+K[rt],Mt=on-K[gt],Pt=z?-Me[ee]/2:0,st=ce===F3?F[ee]:Me[ee],vn=ce===F3?-Me[ee]:-F[ee],To=n.elements.arrow,Nn=z&&To?lye(To):{width:0,height:0},ho=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:cRe(),qt=ho[rt],Tn=ho[gt],Se=e6(0,F[ee],Nn[ee]),br=re?F[ee]/2-Pt-Se-qt-Fe.mainAxis:st-Se-qt-Fe.mainAxis,ws=re?-F[ee]/2+Pt+Se+Tn+Fe.mainAxis:vn+Se+Tn+Fe.mainAxis,as=n.elements.arrow&&hz(n.elements.arrow),Is=as?ye==="y"?as.clientTop||0:as.clientLeft||0:0,oo=(ct=De?.[ye])!=null?ct:0,kt=on+br-oo-Is,bn=on+ws-oo,mn=e6(z?VJ(nt,kt):nt,on,z?ck(Mt,bn):Mt);Oe[ye]=mn,we[ye]=mn-on}if(v){var Ze,mt=ye==="x"?Lb:Bb,Dt=ye==="x"?e1:t1,je=Oe[_e],Lt=_e==="y"?"height":"width",Kt=je+K[mt],rn=je-K[Dt],Ht=[Lb,Bb].indexOf(oe)!==-1,_t=(Ze=De?.[_e])!=null?Ze:0,go=Ht?Kt:je-F[Lt]-Me[Lt]-_t+Fe.altAxis,Mo=Ht?je+F[Lt]+Me[Lt]-_t-Fe.altAxis:rn,Ko=z&&Ht?gVe(go,je,Mo):e6(z?go:Kt,je,z?Mo:rn);Oe[_e]=Ko,we[_e]=Ko-je}n.modifiersData[i]=we}}const qVe={name:"preventOverflow",enabled:!0,phase:"main",fn:GVe,requiresIfExists:["offset"]};function ZVe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function KVe(e){return e===Gy(e)||!X0(e)?uye(e):ZVe(e)}function YVe(e){var n=e.getBoundingClientRect(),o=H3(n.width)/e.offsetWidth||1,i=H3(n.height)/e.offsetHeight||1;return o!==1||i!==1}function XVe(e,n,o){o===void 0&&(o=!1);var i=X0(n),c=X0(n)&&YVe(n),d=GO(n),p=$3(e,c,o),v={scrollLeft:0,scrollTop:0},S={x:0,y:0};return(i||!i&&!o)&&((_E(n)!=="body"||hye(d))&&(v=KVe(n)),X0(n)?(S=$3(n,!0),S.x+=n.clientLeft,S.y+=n.clientTop):d&&(S.x=dye(d))),{x:p.left+v.scrollLeft-S.x,y:p.top+v.scrollTop-S.y,width:p.width,height:p.height}}function JVe(e){var n=new Map,o=new Set,i=[];e.forEach(function(d){n.set(d.name,d)});function c(d){o.add(d.name);var p=[].concat(d.requires||[],d.requiresIfExists||[]);p.forEach(function(v){if(!o.has(v)){var S=n.get(v);S&&c(S)}}),i.push(d)}return e.forEach(function(d){o.has(d.name)||c(d)}),i}function QVe(e){var n=JVe(e);return uVe.reduce(function(o,i){return o.concat(n.filter(function(c){return c.phase===i}))},[])}function eFe(e){var n;return function(){return n||(n=new Promise(function(o){Promise.resolve().then(function(){n=void 0,o(e())})})),n}}function tFe(e){var n=e.reduce(function(o,i){var c=o[i.name];return o[i.name]=c?Object.assign({},c,i,{options:Object.assign({},c.options,i.options),data:Object.assign({},c.data,i.data)}):i,o},{});return Object.keys(n).map(function(o){return n[o]})}var lCe={placement:"bottom",modifiers:[],strategy:"absolute"};function cCe(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return!n.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function nFe(e){e===void 0&&(e={});var n=e,o=n.defaultModifiers,i=o===void 0?[]:o,c=n.defaultOptions,d=c===void 0?lCe:c;return function(v,S,_){_===void 0&&(_=d);var x={placement:"bottom",orderedModifiers:[],options:Object.assign({},lCe,d),modifiersData:{},elements:{reference:v,popper:S},attributes:{},styles:{}},P=[],B=!1,z={state:x,setOptions:function(oe){var ce=typeof oe=="function"?oe(x.options):oe;H(),x.options=Object.assign({},d,x.options,ce),x.scrollParents={reference:Ik(v)?t6(v):v.contextElement?t6(v.contextElement):[],popper:t6(S)};var re=QVe(tFe([].concat(i,x.options.modifiers)));return x.orderedModifiers=re.filter(function(ye){return ye.enabled}),U(),z.update()},forceUpdate:function(){if(!B){var oe=x.elements,ce=oe.reference,re=oe.popper;if(cCe(ce,re)){x.rects={reference:XVe(ce,hz(re),x.options.strategy==="fixed"),popper:lye(re)},x.reset=!1,x.placement=x.options.placement,x.orderedModifiers.forEach(function(Fe){return x.modifiersData[Fe.name]=Object.assign({},Fe.data)});for(var ye=0;ye<x.orderedModifiers.length;ye++){if(x.reset===!0){x.reset=!1,ye=-1;continue}var _e=x.orderedModifiers[ye],Oe=_e.fn,F=_e.options,Me=F===void 0?{}:F,ot=_e.name;typeof Oe=="function"&&(x=Oe({state:x,options:Me,name:ot,instance:z})||x)}}}},update:eFe(function(){return new Promise(function(K){z.forceUpdate(),K(x)})}),destroy:function(){H(),B=!0}};if(!cCe(v,S))return z;z.setOptions(_).then(function(K){!B&&_.onFirstUpdate&&_.onFirstUpdate(K)});function U(){x.orderedModifiers.forEach(function(K){var oe=K.name,ce=K.options,re=ce===void 0?{}:ce,ye=K.effect;if(typeof ye=="function"){var _e=ye({state:x,name:oe,instance:z,options:re}),Oe=function(){};P.push(_e||Oe)}})}function H(){P.forEach(function(K){return K()}),P=[]}return z}}var oFe=[TVe,jVe,_Ve,fVe,UVe,BVe,qVe,SVe,FVe],fye=nFe({defaultModifiers:oFe}),tO=function(){return tO=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},tO.apply(this,arguments)},jY=function(e,n,o){if(o||arguments.length===2)for(var i=0,c=n.length,d;i<c;i++)(d||!(i in n))&&(d||(d=Array.prototype.slice.call(n,0,i)),d[i]=n[i]);return e.concat(d||Array.prototype.slice.call(n))},nO={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},sFe={id:null,override:!0},pRe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=nO),c===void 0&&(c=sFe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=o,this._options=tO(tO({},nO),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),_a.addInstance("Dropdown",this,this._instanceId,c.override)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},e.prototype.destroy=function(){var n=this,o=this._getTriggerEvents();this._options.triggerType==="click"&&o.showEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._clickHandler)}),this._options.triggerType==="hover"&&(o.showEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._hoverShowTriggerElHandler),n._targetEl.removeEventListener(i,n._hoverShowTargetElHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._hoverHideHandler),n._targetEl.removeEventListener(i,n._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},e.prototype.removeInstance=function(){_a.removeInstance("Dropdown",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var n=this,o=this._getTriggerEvents();this._clickHandler=function(){n.toggle()},this._options.triggerType==="click"&&o.showEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._clickHandler)}),this._hoverShowTriggerElHandler=function(i){i.type==="click"?n.toggle():setTimeout(function(){n.show()},n._options.delay)},this._hoverShowTargetElHandler=function(){n.show()},this._hoverHideHandler=function(){setTimeout(function(){n._targetEl.matches(":hover")||n.hide()},n._options.delay)},this._options.triggerType==="hover"&&(o.showEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._hoverShowTriggerElHandler),n._targetEl.addEventListener(i,n._hoverShowTargetElHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._hoverHideHandler),n._targetEl.addEventListener(i,n._hoverHideHandler)}))},e.prototype._createPopperInstance=function(){return fye(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},e.prototype._setupClickOutsideListener=function(){var n=this;this._clickOutsideEventListener=function(o){n._handleClickOutside(o,n._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(n,o){var i=n.target,c=this._options.ignoreClickOutsideClass,d=!1;if(c){var p=document.querySelectorAll(".".concat(c));p.forEach(function(v){if(v.contains(i)){d=!0;return}})}i!==o&&!o.contains(i)&&!this._triggerEl.contains(i)&&!d&&this.isVisible()&&this.hide()},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.isVisible=function(){return this._visible},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._targetEl.removeAttribute("aria-hidden"),this._popperInstance.setOptions(function(n){return tO(tO({},n),{modifiers:jY(jY([],n.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._targetEl.setAttribute("aria-hidden","true"),this._popperInstance.setOptions(function(n){return tO(tO({},n),{modifiers:jY(jY([],n.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function pye(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(e){var n=e.getAttribute("data-dropdown-toggle"),o=document.getElementById(n);if(o){var i=e.getAttribute("data-dropdown-placement"),c=e.getAttribute("data-dropdown-offset-skidding"),d=e.getAttribute("data-dropdown-offset-distance"),p=e.getAttribute("data-dropdown-trigger"),v=e.getAttribute("data-dropdown-delay"),S=e.getAttribute("data-dropdown-ignore-click-outside-class");new pRe(o,e,{placement:i||nO.placement,triggerType:p||nO.triggerType,offsetSkidding:c?parseInt(c):nO.offsetSkidding,offsetDistance:d?parseInt(d):nO.offsetDistance,delay:v?parseInt(v):nO.delay,ignoreClickOutsideClass:S||nO.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(n,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=pRe,window.initDropdowns=pye);var FJ=function(){return FJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},FJ.apply(this,arguments)},HJ={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},rFe={id:null,override:!0},mRe=(function(){function e(n,o,i){n===void 0&&(n=null),o===void 0&&(o=HJ),i===void 0&&(i=rFe),this._eventListenerInstances=[],this._instanceId=i.id?i.id:n.id,this._targetEl=n,this._options=FJ(FJ({},HJ),o),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),_a.addInstance("Modal",this,this._instanceId,i.override)}return e.prototype.init=function(){var n=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(o){n._targetEl.classList.add(o)}),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},e.prototype.removeInstance=function(){_a.removeInstance("Modal",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._createBackdrop=function(){var n;if(this._isHidden){var o=document.createElement("div");(n=o.classList).add.apply(n,this._options.backdropClasses.split(" ")),document.querySelector("body").append(o),this._backdropEl=o}},e.prototype._destroyBackdropEl=function(){!this._isHidden&&this._backdropEl&&(this._backdropEl.remove(),this._backdropEl=null)},e.prototype._setupModalCloseEventListeners=function(){var n=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(o){n._handleOutsideClick(o.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(o){o.key==="Escape"&&n.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._handleOutsideClick=function(n){(n===this._targetEl||n===this._backdropEl&&this.isVisible())&&this.hide()},e.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},e.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},e.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},e.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},e.prototype.isVisible=function(){return!this._isHidden},e.prototype.isHidden=function(){return this._isHidden},e.prototype.addEventListenerInstance=function(n,o,i){this._eventListenerInstances.push({element:n,type:o,handler:i})},e.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(n){n.element.removeEventListener(n.type,n.handler)}),this._eventListenerInstances=[]},e.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function mye(){document.querySelectorAll("[data-modal-target]").forEach(function(e){var n=e.getAttribute("data-modal-target"),o=document.getElementById(n);if(o){var i=o.getAttribute("data-modal-placement"),c=o.getAttribute("data-modal-backdrop");new mRe(o,{placement:i||HJ.placement,backdrop:c||HJ.backdrop})}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(e){var n=e.getAttribute("data-modal-toggle"),o=document.getElementById(n);if(o){var i=_a.getInstance("Modal",n);if(i){var c=function(){i.toggle()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(e){var n=e.getAttribute("data-modal-show"),o=document.getElementById(n);if(o){var i=_a.getInstance("Modal",n);if(i){var c=function(){i.show()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(e){var n=e.getAttribute("data-modal-hide"),o=document.getElementById(n);if(o){var i=_a.getInstance("Modal",n);if(i){var c=function(){i.hide()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=mRe,window.initModals=mye);var $J=function(){return $J=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},$J.apply(this,arguments)},U2={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},iFe={id:null,override:!0},gRe=(function(){function e(n,o,i){n===void 0&&(n=null),o===void 0&&(o=U2),i===void 0&&(i=iFe),this._eventListenerInstances=[],this._instanceId=i.id?i.id:n.id,this._targetEl=n,this._options=$J($J({},U2),o),this._visible=!1,this._initialized=!1,this.init(),_a.addInstance("Drawer",this,this._instanceId,i.override)}return e.prototype.init=function(){var n=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(o){n._targetEl.classList.add(o)}),this._handleEscapeKey=function(o){o.key==="Escape"&&n.isVisible()&&n.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},e.prototype.removeInstance=function(){_a.removeInstance("Drawer",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){var n=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(o){n._targetEl.classList.remove(o)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(o){n._targetEl.classList.add(o)})):(this._getPlacementClasses(this._options.placement).active.map(function(o){n._targetEl.classList.remove(o)}),this._getPlacementClasses(this._options.placement).inactive.map(function(o){n._targetEl.classList.add(o)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){var n=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(o){n._targetEl.classList.add(o)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(o){n._targetEl.classList.remove(o)})):(this._getPlacementClasses(this._options.placement).active.map(function(o){n._targetEl.classList.add(o)}),this._getPlacementClasses(this._options.placement).inactive.map(function(o){n._targetEl.classList.remove(o)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype._createBackdrop=function(){var n,o=this;if(!this._visible){var i=document.createElement("div");i.setAttribute("drawer-backdrop",""),(n=i.classList).add.apply(n,this._options.backdropClasses.split(" ")),document.querySelector("body").append(i),i.addEventListener("click",function(){o.hide()})}},e.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]")!==null&&document.querySelector("[drawer-backdrop]").remove()},e.prototype._getPlacementClasses=function(n){switch(n){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e.prototype.addEventListenerInstance=function(n,o,i){this._eventListenerInstances.push({element:n,type:o,handler:i})},e.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(n){n.element.removeEventListener(n.type,n.handler)}),this._eventListenerInstances=[]},e.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function gye(){document.querySelectorAll("[data-drawer-target]").forEach(function(e){var n=e.getAttribute("data-drawer-target"),o=document.getElementById(n);if(o){var i=e.getAttribute("data-drawer-placement"),c=e.getAttribute("data-drawer-body-scrolling"),d=e.getAttribute("data-drawer-backdrop"),p=e.getAttribute("data-drawer-edge"),v=e.getAttribute("data-drawer-edge-offset");new gRe(o,{placement:i||U2.placement,bodyScrolling:c?c==="true":U2.bodyScrolling,backdrop:d?d==="true":U2.backdrop,edge:p?p==="true":U2.edge,edgeOffset:v||U2.edgeOffset})}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(e){var n=e.getAttribute("data-drawer-toggle"),o=document.getElementById(n);if(o){var i=_a.getInstance("Drawer",n);if(i){var c=function(){i.toggle()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(e){var n=e.getAttribute("data-drawer-dismiss")?e.getAttribute("data-drawer-dismiss"):e.getAttribute("data-drawer-hide"),o=document.getElementById(n);if(o){var i=_a.getInstance("Drawer",n);if(i){var c=function(){i.hide()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(e){var n=e.getAttribute("data-drawer-show"),o=document.getElementById(n);if(o){var i=_a.getInstance("Drawer",n);if(i){var c=function(){i.show()};e.addEventListener("click",c),i.addEventListenerInstance(e,"click",c)}else console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=gRe,window.initDrawers=gye);var UJ=function(){return UJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},UJ.apply(this,arguments)},zJ={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},aFe={id:null,override:!0},vRe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=[]),i===void 0&&(i=zJ),c===void 0&&(c=aFe),this._instanceId=c.id?c.id:n.id,this._tabsEl=n,this._items=o,this._activeTab=i?this.getTab(i.defaultTabId):null,this._options=UJ(UJ({},zJ),i),this._initialized=!1,this.init(),_a.addInstance("Tabs",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(o){o.triggerEl.addEventListener("click",function(i){i.preventDefault(),n.show(o.id)})}))},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},e.prototype.removeInstance=function(){this.destroy(),_a.removeInstance("Tabs",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getActiveTab=function(){return this._activeTab},e.prototype.setActiveTab=function(n){this._activeTab=n},e.prototype.getTab=function(n){return this._items.filter(function(o){return o.id===n})[0]},e.prototype.show=function(n,o){var i,c,d=this;o===void 0&&(o=!1);var p=this.getTab(n);p===this._activeTab&&!o||(this._items.map(function(v){var S,_;v!==p&&((S=v.triggerEl.classList).remove.apply(S,d._options.activeClasses.split(" ")),(_=v.triggerEl.classList).add.apply(_,d._options.inactiveClasses.split(" ")),v.targetEl.classList.add("hidden"),v.triggerEl.setAttribute("aria-selected","false"))}),(i=p.triggerEl.classList).add.apply(i,this._options.activeClasses.split(" ")),(c=p.triggerEl.classList).remove.apply(c,this._options.inactiveClasses.split(" ")),p.triggerEl.setAttribute("aria-selected","true"),p.targetEl.classList.remove("hidden"),this.setActiveTab(p),this._options.onShow(this,p))},e.prototype.updateOnShow=function(n){this._options.onShow=n},e})();function vye(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(e){var n=[],o=e.getAttribute("data-tabs-active-classes"),i=e.getAttribute("data-tabs-inactive-classes"),c=null;e.querySelectorAll('[role="tab"]').forEach(function(d){var p=d.getAttribute("aria-selected")==="true",v={id:d.getAttribute("data-tabs-target"),triggerEl:d,targetEl:document.querySelector(d.getAttribute("data-tabs-target"))};n.push(v),p&&(c=v.id)}),new vRe(e,n,{defaultTabId:c,activeClasses:o||zJ.activeClasses,inactiveClasses:i||zJ.inactiveClasses})})}typeof window<"u"&&(window.Tabs=vRe,window.initTabs=vye);var oO=function(){return oO=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},oO.apply(this,arguments)},WY=function(e,n,o){if(o||arguments.length===2)for(var i=0,c=n.length,d;i<c;i++)(d||!(i in n))&&(d||(d=Array.prototype.slice.call(n,0,i)),d[i]=n[i]);return e.concat(d||Array.prototype.slice.call(n))},jJ={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},lFe={id:null,override:!0},bRe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=jJ),c===void 0&&(c=lFe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=o,this._options=oO(oO({},jJ),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),_a.addInstance("Tooltip",this,this._instanceId,c.override)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},e.prototype.destroy=function(){var n=this;if(this._initialized){var o=this._getTriggerEvents();o.showEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._showHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},e.prototype.removeInstance=function(){_a.removeInstance("Tooltip",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var n=this,o=this._getTriggerEvents();this._showHandler=function(){n.show()},this._hideHandler=function(){n.hide()},o.showEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._showHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._hideHandler)})},e.prototype._createPopperInstance=function(){return fye(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype._setupKeydownListener=function(){var n=this;this._keydownEventListener=function(o){o.key==="Escape"&&n.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var n=this;this._clickOutsideEventListener=function(o){n._handleClickOutside(o,n._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(n,o){var i=n.target;i!==o&&!o.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(n){return oO(oO({},n),{modifiers:WY(WY([],n.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(n){return oO(oO({},n),{modifiers:WY(WY([],n.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function bye(){document.querySelectorAll("[data-tooltip-target]").forEach(function(e){var n=e.getAttribute("data-tooltip-target"),o=document.getElementById(n);if(o){var i=e.getAttribute("data-tooltip-trigger"),c=e.getAttribute("data-tooltip-placement");new bRe(o,e,{placement:c||jJ.placement,triggerType:i||jJ.triggerType})}else console.error('The tooltip element with id "'.concat(n,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=bRe,window.initTooltips=bye);var sO=function(){return sO=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},sO.apply(this,arguments)},GY=function(e,n,o){if(o||arguments.length===2)for(var i=0,c=n.length,d;i<c;i++)(d||!(i in n))&&(d||(d=Array.prototype.slice.call(n,0,i)),d[i]=n[i]);return e.concat(d||Array.prototype.slice.call(n))},n6={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},cFe={id:null,override:!0},yRe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=n6),c===void 0&&(c=cFe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=o,this._options=sO(sO({},n6),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),_a.addInstance("Popover",this,c.id?c.id:this._targetEl.id,c.override)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},e.prototype.destroy=function(){var n=this;if(this._initialized){var o=this._getTriggerEvents();o.showEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._showHandler),n._targetEl.removeEventListener(i,n._showHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._hideHandler),n._targetEl.removeEventListener(i,n._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},e.prototype.removeInstance=function(){_a.removeInstance("Popover",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var n=this,o=this._getTriggerEvents();this._showHandler=function(){n.show()},this._hideHandler=function(){setTimeout(function(){n._targetEl.matches(":hover")||n.hide()},100)},o.showEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._showHandler),n._targetEl.addEventListener(i,n._showHandler)}),o.hideEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._hideHandler),n._targetEl.addEventListener(i,n._hideHandler)})},e.prototype._createPopperInstance=function(){return fye(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype._setupKeydownListener=function(){var n=this;this._keydownEventListener=function(o){o.key==="Escape"&&n.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var n=this;this._clickOutsideEventListener=function(o){n._handleClickOutside(o,n._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(n,o){var i=n.target;i!==o&&!o.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(n){return sO(sO({},n),{modifiers:GY(GY([],n.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(n){return sO(sO({},n),{modifiers:GY(GY([],n.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function yye(){document.querySelectorAll("[data-popover-target]").forEach(function(e){var n=e.getAttribute("data-popover-target"),o=document.getElementById(n);if(o){var i=e.getAttribute("data-popover-trigger"),c=e.getAttribute("data-popover-placement"),d=e.getAttribute("data-popover-offset");new yRe(o,e,{placement:c||n6.placement,offset:d?parseInt(d):n6.offset,triggerType:i||n6.triggerType})}else console.error('The popover element with id "'.concat(n,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=yRe,window.initPopovers=yye);var WJ=function(){return WJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},WJ.apply(this,arguments)},oge={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},uFe={id:null,override:!0},SRe=(function(){function e(n,o,i,c,d){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=null),c===void 0&&(c=oge),d===void 0&&(d=uFe),this._instanceId=d.id?d.id:i.id,this._parentEl=n,this._triggerEl=o,this._targetEl=i,this._options=WJ(WJ({},oge),c),this._visible=!1,this._initialized=!1,this.init(),_a.addInstance("Dial",this,this._instanceId,d.override)}return e.prototype.init=function(){var n=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var o=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){n.show()},o.showEvents.forEach(function(i){n._triggerEl.addEventListener(i,n._showEventHandler),n._targetEl.addEventListener(i,n._showEventHandler)}),this._hideEventHandler=function(){n._parentEl.matches(":hover")||n.hide()},o.hideEvents.forEach(function(i){n._parentEl.addEventListener(i,n._hideEventHandler)}),this._initialized=!0}},e.prototype.destroy=function(){var n=this;if(this._initialized){var o=this._getTriggerEventTypes(this._options.triggerType);o.showEvents.forEach(function(i){n._triggerEl.removeEventListener(i,n._showEventHandler),n._targetEl.removeEventListener(i,n._showEventHandler)}),o.hideEvents.forEach(function(i){n._parentEl.removeEventListener(i,n._hideEventHandler)}),this._initialized=!1}},e.prototype.removeInstance=function(){_a.removeInstance("Dial",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this._visible?this.hide():this.show()},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e.prototype._getTriggerEventTypes=function(n){switch(n){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e.prototype.updateOnToggle=function(n){this._options.onToggle=n},e})();function Sye(){document.querySelectorAll("[data-dial-init]").forEach(function(e){var n=e.querySelector("[data-dial-toggle]");if(n){var o=n.getAttribute("data-dial-toggle"),i=document.getElementById(o);if(i){var c=n.getAttribute("data-dial-trigger");new SRe(e,n,i,{triggerType:c||oge.triggerType})}else console.error("Dial with id ".concat(o," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(e.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=SRe,window.initDials=Sye);var GJ=function(){return GJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},GJ.apply(this,arguments)},uCe={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},dFe={id:null,override:!0},CRe=(function(){function e(n,o,i,c,d){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=null),c===void 0&&(c=uCe),d===void 0&&(d=dFe),this._instanceId=d.id?d.id:n.id,this._targetEl=n,this._incrementEl=o,this._decrementEl=i,this._options=GJ(GJ({},uCe),c),this._initialized=!1,this.init(),_a.addInstance("InputCounter",this,this._instanceId,d.override)}return e.prototype.init=function(){var n=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(o){{var i=o.target;/^\d*$/.test(i.value)||(i.value=i.value.replace(/[^\d]/g,"")),n._options.maxValue!==null&&parseInt(i.value)>n._options.maxValue&&(i.value=n._options.maxValue.toString()),n._options.minValue!==null&&parseInt(i.value)<n._options.minValue&&(i.value=n._options.minValue.toString())}},this._incrementClickHandler=function(){n.increment()},this._decrementClickHandler=function(){n.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){_a.removeInstance("InputCounter",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},e.prototype.increment=function(){this._options.maxValue!==null&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},e.prototype.decrement=function(){this._options.minValue!==null&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},e.prototype.updateOnIncrement=function(n){this._options.onIncrement=n},e.prototype.updateOnDecrement=function(n){this._options.onDecrement=n},e})();function Cye(){document.querySelectorAll("[data-input-counter]").forEach(function(e){var n=e.id,o=document.querySelector('[data-input-counter-increment="'+n+'"]'),i=document.querySelector('[data-input-counter-decrement="'+n+'"]'),c=e.getAttribute("data-input-counter-min"),d=e.getAttribute("data-input-counter-max");e?_a.instanceExists("InputCounter",e.getAttribute("id"))||new CRe(e,o||null,i||null,{minValue:c?parseInt(c):null,maxValue:d?parseInt(d):null}):console.error('The target element with id "'.concat(n,'" does not exist. Please check the data-input-counter attribute.'))})}typeof window<"u"&&(window.InputCounter=CRe,window.initInputCounters=Cye);var qJ=function(){return qJ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},qJ.apply(this,arguments)},ZJ={htmlEntities:!1,contentType:"input",onCopy:function(){}},hFe={id:null,override:!0},ERe=(function(){function e(n,o,i,c){n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=ZJ),c===void 0&&(c=hFe),this._instanceId=c.id?c.id:o.id,this._triggerEl=n,this._targetEl=o,this._options=qJ(qJ({},ZJ),i),this._initialized=!1,this.init(),_a.addInstance("CopyClipboard",this,this._instanceId,c.override)}return e.prototype.init=function(){var n=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){n.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){_a.removeInstance("CopyClipboard",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getTargetValue=function(){if(this._options.contentType==="input")return this._targetEl.value;if(this._options.contentType==="innerHTML")return this._targetEl.innerHTML;if(this._options.contentType==="textContent")return this._targetEl.textContent.replace(/\s+/g," ").trim()},e.prototype.copy=function(){var n=this.getTargetValue();this._options.htmlEntities&&(n=this.decodeHTML(n));var o=document.createElement("textarea");return o.value=n,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),this._options.onCopy(this),n},e.prototype.decodeHTML=function(n){var o=document.createElement("textarea");return o.innerHTML=n,o.textContent},e.prototype.updateOnCopyCallback=function(n){this._options.onCopy=n},e})();function Eye(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach(function(e){var n=e.getAttribute("data-copy-to-clipboard-target"),o=document.getElementById(n),i=e.getAttribute("data-copy-to-clipboard-content-type"),c=e.getAttribute("data-copy-to-clipboard-html-entities");o?_a.instanceExists("CopyClipboard",o.getAttribute("id"))||new ERe(e,o,{htmlEntities:c&&c==="true"?!0:ZJ.htmlEntities,contentType:i||ZJ.contentType}):console.error('The target element with id "'.concat(n,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))})}typeof window<"u"&&(window.CopyClipboard=ERe,window.initClipboards=Eye);function sge(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,i=Array(n);o<n;o++)i[o]=e[o];return i}function fFe(e){if(Array.isArray(e))return e}function pFe(e){if(Array.isArray(e))return sge(e)}function mFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wye(e,n,o){return n=LO(n),SFe(e,wRe()?Reflect.construct(n,o||[],LO(e).constructor):n.apply(e,o))}function Uk(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function dCe(e,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,wFe(i.key),i)}}function zk(e,n,o){return n&&dCe(e.prototype,n),o&&dCe(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function k6(){return k6=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,n,o){var i=CFe(e,n);if(i){var c=Object.getOwnPropertyDescriptor(i,n);return c.get?c.get.call(arguments.length<3?e:o):c.value}},k6.apply(null,arguments)}function LO(e){return LO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},LO(e)}function _ye(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&rge(e,n)}function wRe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wRe=function(){return!!e})()}function gFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vFe(e,n){var o=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var i,c,d,p,v=[],S=!0,_=!1;try{if(d=(o=o.call(e)).next,n===0){if(Object(o)!==o)return;S=!1}else for(;!(S=(i=d.call(o)).done)&&(v.push(i.value),v.length!==n);S=!0);}catch(x){_=!0,c=x}finally{try{if(!S&&o.return!=null&&(p=o.return(),Object(p)!==p))return}finally{if(_)throw c}}return v}}function bFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SFe(e,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mFe(e)}function rge(e,n){return rge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},rge(e,n)}function zy(e,n){return fFe(e)||vFe(e,n)||_Re(e,n)||bFe()}function CFe(e,n){for(;!{}.hasOwnProperty.call(e,n)&&(e=LO(e))!==null;);return e}function fz(e){return pFe(e)||gFe(e)||_Re(e)||yFe()}function EFe(e,n){if(typeof e!="object"||!e)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var i=o.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wFe(e){var n=EFe(e,"string");return typeof n=="symbol"?n:n+""}function KJ(e){"@babel/helpers - typeof";return KJ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},KJ(e)}function _Re(e,n){if(e){if(typeof e=="string")return sge(e,n);var o={}.toString.call(e).slice(8,-1);return o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set"?Array.from(e):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?sge(e,n):void 0}}function pA(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function Aye(e){return e[e.length-1]}function Rk(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o.forEach(function(c){e.includes(c)||e.push(c)}),e}function ipe(e,n){return e?e.split(n):[]}function Tye(e,n,o){var i=n===void 0||e>=n,c=o===void 0||e<=o;return i&&c}function ARe(e,n,o){return e<n?n:e>o?o:e}function z3(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",d=Object.keys(o).reduce(function(v,S){var _=o[S];return typeof _=="function"&&(_=_(i)),"".concat(v," ").concat(S,'="').concat(_,'"')},e);c+="<".concat(d,"></").concat(e,">");var p=i+1;return p<n?z3(e,n,o,p,c):c}function xye(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function ige(e){return new Date(e).setHours(0,0,0,0)}function jk(){return new Date().setHours(0,0,0,0)}function DO(){switch(arguments.length){case 0:return jk();case 1:return ige(arguments.length<=0?void 0:arguments[0])}var e=new Date(0);return e.setFullYear.apply(e,arguments),e.setHours(0,0,0,0)}function f3(e,n){var o=new Date(e);return o.setDate(o.getDate()+n)}function _Fe(e,n){return f3(e,n*7)}function YJ(e,n){var o=new Date(e),i=o.getMonth()+n,c=i%12;c<0&&(c+=12);var d=o.setMonth(i);return o.getMonth()!==c?o.setDate(0):d}function p3(e,n){var o=new Date(e),i=o.getMonth(),c=o.setFullYear(o.getFullYear()+n);return i===1&&o.getMonth()===2?o.setDate(0):c}function hCe(e,n){return(e-n+7)%7}function XJ(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=new Date(e).getDay();return f3(e,hCe(n,o)-hCe(i,o))}function AFe(e){var n=XJ(e,4,1),o=XJ(new Date(n).setMonth(0,4),4,1);return Math.round((n-o)/6048e5)+1}function M2(e,n){var o=new Date(e).getFullYear();return Math.floor(o/n)*n}var age=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,TFe=/[\s!-/:-@[-`{-~]+/,ape={},fCe={y:function(n,o){return new Date(n).setFullYear(parseInt(o,10))},m:function(n,o,i){var c=new Date(n),d=parseInt(o,10)-1;if(isNaN(d)){if(!o)return NaN;var p=o.toLowerCase(),v=function(_){return _.toLowerCase().startsWith(p)};if(d=i.monthsShort.findIndex(v),d<0&&(d=i.months.findIndex(v)),d<0)return NaN}return c.setMonth(d),c.getMonth()!==TRe(d)?c.setDate(0):c.getTime()},d:function(n,o){return new Date(n).setDate(parseInt(o,10))}},xFe={d:function(n){return n.getDate()},dd:function(n){return qY(n.getDate(),2)},D:function(n,o){return o.daysShort[n.getDay()]},DD:function(n,o){return o.days[n.getDay()]},m:function(n){return n.getMonth()+1},mm:function(n){return qY(n.getMonth()+1,2)},M:function(n,o){return o.monthsShort[n.getMonth()]},MM:function(n,o){return o.months[n.getMonth()]},y:function(n){return n.getFullYear()},yy:function(n){return qY(n.getFullYear(),2).slice(-2)},yyyy:function(n){return qY(n.getFullYear(),4)}};function TRe(e){return e>-1?e%12:TRe(e+12)}function qY(e,n){return e.toString().padStart(n,"0")}function xRe(e){if(typeof e!="string")throw new Error("Invalid date format.");if(e in ape)return ape[e];var n=e.split(age),o=e.match(new RegExp(age,"g"));if(n.length===0||!o)throw new Error("Invalid date format.");var i=o.map(function(d){return xFe[d]}),c=Object.keys(fCe).reduce(function(d,p){var v=o.find(function(S){return S[0]!=="D"&&S[0].toLowerCase()===p});return v&&d.push(p),d},[]);return ape[e]={parser:function(p,v){var S=p.split(TFe).reduce(function(_,x,P){if(x.length>0&&o[P]){var B=o[P][0];B==="M"?_.m=x:B!=="D"&&(_[B]=x)}return _},{});return c.reduce(function(_,x){var P=fCe[x](_,S[x],v);return isNaN(P)?_:P},jk())},formatter:function(p,v){var S=i.reduce(function(_,x,P){return _+="".concat(n[P]).concat(x(p,v))},"");return S+=Aye(n)}}}function D6(e,n,o){if(e instanceof Date||typeof e=="number"){var i=ige(e);return isNaN(i)?void 0:i}if(e){if(e==="today")return jk();if(n&&n.toValue){var c=n.toValue(e,n,o);return isNaN(c)?void 0:ige(c)}return xRe(n).parser(e,o)}}function M6(e,n,o){if(isNaN(e)||!e&&e!==0)return"";var i=typeof e=="number"?new Date(e):e;return n.toDisplay?n.toDisplay(i,n,o):xRe(n).formatter(i,o)}var JJ=new WeakMap,ORe=EventTarget.prototype,pCe=ORe.addEventListener,mCe=ORe.removeEventListener;function Oye(e,n){var o=JJ.get(e);o||(o=[],JJ.set(e,o)),n.forEach(function(i){pCe.call.apply(pCe,fz(i)),o.push(i)})}function IRe(e){var n=JJ.get(e);n&&(n.forEach(function(o){mCe.call.apply(mCe,fz(o))}),JJ.delete(e))}if(!Event.prototype.composedPath){var OFe=function e(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];o.push(n);var i;return n.parentNode?i=n.parentNode:n.host?i=n.host:n.defaultView&&(i=n.defaultView),i?e(i,o):o};Event.prototype.composedPath=function(){return OFe(this.target)}}function RRe(e,n,o){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=e[i];return n(c)?c:c===o||!c.parentElement?void 0:RRe(e,n,o,i+1)}function kRe(e,n){var o=typeof n=="function"?n:function(i){return i.matches(n)};return RRe(e.composedPath(),o,e.currentTarget)}var g5={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},pz={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},lpe=null;function mA(e){return lpe==null&&(lpe=document.createRange()),lpe.createContextualFragment(e)}function o6(e){e.style.display!=="none"&&(e.style.display&&(e.dataset.styleDisplay=e.style.display),e.style.display="none")}function s6(e){e.style.display==="none"&&(e.dataset.styleDisplay?(e.style.display=e.dataset.styleDisplay,delete e.dataset.styleDisplay):e.style.display="")}function QJ(e){e.firstChild&&(e.removeChild(e.firstChild),QJ(e))}function IFe(e,n){QJ(e),n instanceof DocumentFragment?e.appendChild(n):typeof n=="string"?e.appendChild(mA(n)):typeof n.forEach=="function"&&n.forEach(function(o){e.appendChild(o)})}var cpe=pz.language,RFe=pz.format,kFe=pz.weekStart;function gCe(e,n){return e.length<6&&n>=0&&n<7?Rk(e,n):e}function vCe(e){return(e+6)%7}function bCe(e,n,o,i){var c=D6(e,n,o);return c!==void 0?c:i}function upe(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,i=parseInt(e,10);return i>=0&&i<=o?i:n}function dpe(e,n){var o=Object.assign({},e),i={},c=n.constructor.locales,d=n.config||{},p=d.format,v=d.language,S=d.locale,_=d.maxDate,x=d.maxView,P=d.minDate,B=d.pickLevel,z=d.startView,U=d.weekStart;if(o.language){var H;if(o.language!==v&&(c[o.language]?H=o.language:(H=o.language.split("-")[0],c[H]===void 0&&(H=!1))),delete o.language,H){v=i.language=H;var K=S||c[cpe];S=Object.assign({format:RFe,weekStart:kFe},c[cpe]),v!==cpe&&Object.assign(S,c[v]),i.locale=S,p===K.format&&(p=i.format=S.format),U===K.weekStart&&(U=i.weekStart=S.weekStart,i.weekEnd=vCe(S.weekStart))}}if(o.format){var oe=typeof o.format.toDisplay=="function",ce=typeof o.format.toValue=="function",re=age.test(o.format);(oe&&ce||re)&&(p=i.format=o.format),delete o.format}var ye=P,_e=_;if(o.minDate!==void 0&&(ye=o.minDate===null?DO(0,0,1):bCe(o.minDate,p,S,ye),delete o.minDate),o.maxDate!==void 0&&(_e=o.maxDate===null?void 0:bCe(o.maxDate,p,S,_e),delete o.maxDate),_e<ye?(P=i.minDate=_e,_=i.maxDate=ye):(P!==ye&&(P=i.minDate=ye),_!==_e&&(_=i.maxDate=_e)),o.datesDisabled&&(i.datesDisabled=o.datesDisabled.reduce(function(gt,ee){var on=D6(ee,p,S);return on!==void 0?Rk(gt,on):gt},[]),delete o.datesDisabled),o.defaultViewDate!==void 0){var Oe=D6(o.defaultViewDate,p,S);Oe!==void 0&&(i.defaultViewDate=Oe),delete o.defaultViewDate}if(o.weekStart!==void 0){var F=Number(o.weekStart)%7;isNaN(F)||(U=i.weekStart=F,i.weekEnd=vCe(F)),delete o.weekStart}if(o.daysOfWeekDisabled&&(i.daysOfWeekDisabled=o.daysOfWeekDisabled.reduce(gCe,[]),delete o.daysOfWeekDisabled),o.daysOfWeekHighlighted&&(i.daysOfWeekHighlighted=o.daysOfWeekHighlighted.reduce(gCe,[]),delete o.daysOfWeekHighlighted),o.maxNumberOfDates!==void 0){var Me=parseInt(o.maxNumberOfDates,10);Me>=0&&(i.maxNumberOfDates=Me,i.multidate=Me!==1),delete o.maxNumberOfDates}o.dateDelimiter&&(i.dateDelimiter=String(o.dateDelimiter),delete o.dateDelimiter);var ot=B;o.pickLevel!==void 0&&(ot=upe(o.pickLevel,2),delete o.pickLevel),ot!==B&&(B=i.pickLevel=ot);var Fe=x;o.maxView!==void 0&&(Fe=upe(o.maxView,x),delete o.maxView),Fe=B>Fe?B:Fe,Fe!==x&&(x=i.maxView=Fe);var De=z;if(o.startView!==void 0&&(De=upe(o.startView,De),delete o.startView),De<B?De=B:De>x&&(De=x),De!==z&&(i.startView=De),o.prevArrow){var we=mA(o.prevArrow);we.childNodes.length>0&&(i.prevArrow=we.childNodes),delete o.prevArrow}if(o.nextArrow){var ct=mA(o.nextArrow);ct.childNodes.length>0&&(i.nextArrow=ct.childNodes),delete o.nextArrow}if(o.disableTouchKeyboard!==void 0&&(i.disableTouchKeyboard="ontouchstart"in document&&!!o.disableTouchKeyboard,delete o.disableTouchKeyboard),o.orientation){var rt=o.orientation.toLowerCase().split(/\s+/g);i.orientation={x:rt.find(function(gt){return gt==="left"||gt==="right"})||"auto",y:rt.find(function(gt){return gt==="top"||gt==="bottom"})||"auto"},delete o.orientation}if(o.todayBtnMode!==void 0){switch(o.todayBtnMode){case 0:case 1:i.todayBtnMode=o.todayBtnMode}delete o.todayBtnMode}return Object.keys(o).forEach(function(gt){o[gt]!==void 0&&pA(pz,gt)&&(i[gt]=o[gt])}),i}var DFe=xye(`<div class="datepicker hidden">
  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">
    <div class="datepicker-header">
      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>
      <div class="datepicker-controls flex justify-between mb-2">
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>
        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main p-1"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">
        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
      </div>
    </div>
  </div>
</div>`),MFe=xye(`<div class="days">
  <div class="days-of-week grid grid-cols-7 mb-1">`.concat(z3("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
  <div class="datepicker-grid w-64 grid grid-cols-7">`).concat(z3("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),`</div>
</div>`)),PFe=xye(`<div class="calendar-weeks">
  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>
  <div class="weeks">`.concat(z3("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
</div>`)),Iye=(function(){function e(n,o){Uk(this,e),Object.assign(this,o,{picker:n,element:mA('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}return zk(e,[{key:"init",value:function(o){o.pickLevel!==void 0&&(this.isMinView=this.id===o.pickLevel),this.setOptions(o),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(o,i,c){var d=this.beforeShow(new Date(c));switch(KJ(d)){case"boolean":d={enabled:d};break;case"string":d={classes:d}}if(d){if(d.enabled===!1&&(o.classList.add("disabled"),Rk(this.disabled,i)),d.classes){var p,v=d.classes.split(/\s+/);(p=o.classList).add.apply(p,fz(v)),v.includes("disabled")&&Rk(this.disabled,i)}d.content&&IFe(o,d.content)}}}])})(),NFe=(function(e){function n(o){return Uk(this,n),wye(this,n,[o,{id:0,name:"days",cellClass:"day"}])}return _ye(n,e),zk(n,[{key:"init",value:function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(c){var d=mA(MFe).firstChild;this.dow=d.firstChild,this.grid=d.lastChild,this.element.appendChild(d)}k6(LO(n.prototype),"init",this).call(this,i)}},{key:"setOptions",value:function(i){var c=this,d;if(pA(i,"minDate")&&(this.minDate=i.minDate),pA(i,"maxDate")&&(this.maxDate=i.maxDate),i.datesDisabled&&(this.datesDisabled=i.datesDisabled),i.daysOfWeekDisabled&&(this.daysOfWeekDisabled=i.daysOfWeekDisabled,d=!0),i.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=i.daysOfWeekHighlighted),i.todayHighlight!==void 0&&(this.todayHighlight=i.todayHighlight),i.weekStart!==void 0&&(this.weekStart=i.weekStart,this.weekEnd=i.weekEnd,d=!0),i.locale){var p=this.locale=i.locale;this.dayNames=p.daysMin,this.switchLabelFormat=p.titleFormat,d=!0}if(i.beforeShowDay!==void 0&&(this.beforeShow=typeof i.beforeShowDay=="function"?i.beforeShowDay:void 0),i.calendarWeeks!==void 0)if(i.calendarWeeks&&!this.calendarWeeks){var v=mA(PFe).firstChild;this.calendarWeeks={element:v,dow:v.firstChild,weeks:v.lastChild},this.element.insertBefore(v,this.element.firstChild)}else this.calendarWeeks&&!i.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);i.showDaysOfWeek!==void 0&&(i.showDaysOfWeek?(s6(this.dow),this.calendarWeeks&&s6(this.calendarWeeks.dow)):(o6(this.dow),this.calendarWeeks&&o6(this.calendarWeeks.dow))),d&&Array.from(this.dow.children).forEach(function(S,_){var x=(c.weekStart+_)%7;S.textContent=c.dayNames[x],S.className=c.daysOfWeekDisabled.includes(x)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}},{key:"updateFocus",value:function(){var i=new Date(this.picker.viewDate),c=i.getFullYear(),d=i.getMonth(),p=DO(c,d,1),v=XJ(p,this.weekStart,this.weekStart);this.first=p,this.last=DO(c,d+1,0),this.start=v,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var i=this.picker.datepicker,c=i.dates,d=i.rangepicker;this.selected=c,d&&(this.range=d.dates)}},{key:"render",value:function(){var i=this;this.today=this.todayHighlight?jk():void 0,this.disabled=fz(this.datesDisabled);var c=M6(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(c),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var d=XJ(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach(function(p,v){p.textContent=AFe(_Fe(d,v))})}Array.from(this.grid.children).forEach(function(p,v){var S=p.classList,_=f3(i.start,v),x=new Date(_),P=x.getDay();if(p.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(i.cellClass),p.dataset.date=_,p.textContent=x.getDate(),_<i.first?S.add("prev","text-gray-500","dark:text-white"):_>i.last&&S.add("next","text-gray-500","dark:text-white"),i.today===_&&S.add("today","bg-gray-100","dark:bg-gray-600"),(_<i.minDate||_>i.maxDate||i.disabled.includes(_))&&(S.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),S.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),i.daysOfWeekDisabled.includes(P)&&(S.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),S.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),Rk(i.disabled,_)),i.daysOfWeekHighlighted.includes(P)&&S.add("highlighted"),i.range){var B=zy(i.range,2),z=B[0],U=B[1];_>z&&_<U&&(S.add("range","bg-gray-200","dark:bg-gray-600"),S.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),_===z&&(S.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),S.remove("rounded-lg","rounded-r-lg")),_===U&&(S.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),S.remove("rounded-lg","rounded-l-lg"))}i.selected.includes(_)&&(S.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),S.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),_===i.focused&&S.add("focused"),i.beforeShow&&i.performBeforeHook(p,_,_)})}},{key:"refresh",value:function(){var i=this,c=this.range||[],d=zy(c,2),p=d[0],v=d[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(S){S.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),S.classList.add("text-gray-900","rounded-lg","dark:text-white")}),Array.from(this.grid.children).forEach(function(S){var _=Number(S.dataset.date),x=S.classList;x.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),_>p&&_<v&&(x.add("range","bg-gray-200","dark:bg-gray-600"),x.remove("rounded-lg")),_===p&&(x.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),x.remove("rounded-lg")),_===v&&(x.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),x.remove("rounded-lg")),i.selected.includes(_)&&(x.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),x.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),_===i.focused&&x.add("focused")})}},{key:"refreshFocus",value:function(){var i=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(function(c){c.classList.remove("focused")}),this.grid.children[i].classList.add("focused")}}])})(Iye);function yCe(e,n){if(!(!e||!e[0]||!e[1])){var o=zy(e,2),i=zy(o[0],2),c=i[0],d=i[1],p=zy(o[1],2),v=p[0],S=p[1];if(!(c>n||v<n))return[c===n?d:-1,v===n?S:12]}}var LFe=(function(e){function n(o){return Uk(this,n),wye(this,n,[o,{id:1,name:"months",cellClass:"month"}])}return _ye(n,e),zk(n,[{key:"init",value:function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;c&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(mA(z3("span",12,{"data-month":function(p){return p}})))),k6(LO(n.prototype),"init",this).call(this,i)}},{key:"setOptions",value:function(i){if(i.locale&&(this.monthNames=i.locale.monthsShort),pA(i,"minDate"))if(i.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{var c=new Date(i.minDate);this.minYear=c.getFullYear(),this.minMonth=c.getMonth(),this.minDate=c.setDate(1)}if(pA(i,"maxDate"))if(i.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var d=new Date(i.maxDate);this.maxYear=d.getFullYear(),this.maxMonth=d.getMonth(),this.maxDate=DO(this.maxYear,this.maxMonth+1,0)}i.beforeShowMonth!==void 0&&(this.beforeShow=typeof i.beforeShowMonth=="function"?i.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var i=new Date(this.picker.viewDate);this.year=i.getFullYear(),this.focused=i.getMonth()}},{key:"updateSelection",value:function(){var i=this.picker.datepicker,c=i.dates,d=i.rangepicker;this.selected=c.reduce(function(p,v){var S=new Date(v),_=S.getFullYear(),x=S.getMonth();return p[_]===void 0?p[_]=[x]:Rk(p[_],x),p},{}),d&&d.dates&&(this.range=d.dates.map(function(p){var v=new Date(p);return isNaN(v)?void 0:[v.getFullYear(),v.getMonth()]}))}},{key:"render",value:function(){var i=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var c=this.selected[this.year]||[],d=this.year<this.minYear||this.year>this.maxYear,p=this.year===this.minYear,v=this.year===this.maxYear,S=yCe(this.range,this.year);Array.from(this.grid.children).forEach(function(_,x){var P=_.classList,B=DO(i.year,x,1);if(_.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(i.cellClass),i.isMinView&&(_.dataset.date=B),_.textContent=i.monthNames[x],(d||p&&x<i.minMonth||v&&x>i.maxMonth)&&P.add("disabled"),S){var z=zy(S,2),U=z[0],H=z[1];x>U&&x<H&&P.add("range"),x===U&&P.add("range-start"),x===H&&P.add("range-end")}c.includes(x)&&(P.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),P.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),x===i.focused&&P.add("focused"),i.beforeShow&&i.performBeforeHook(_,x,B)})}},{key:"refresh",value:function(){var i=this,c=this.selected[this.year]||[],d=yCe(this.range,this.year)||[],p=zy(d,2),v=p[0],S=p[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(_){_.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),_.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")}),Array.from(this.grid.children).forEach(function(_,x){var P=_.classList;x>v&&x<S&&P.add("range"),x===v&&P.add("range-start"),x===S&&P.add("range-end"),c.includes(x)&&(P.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),P.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),x===i.focused&&P.add("focused")})}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach(function(i){i.classList.remove("focused")}),this.grid.children[this.focused].classList.add("focused")}}])})(Iye);function BFe(e){return fz(e).reduce(function(n,o,i){return n+=i?o:o.toUpperCase()},"")}var SCe=(function(e){function n(o,i){return Uk(this,n),wye(this,n,[o,i])}return _ye(n,e),zk(n,[{key:"init",value:function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;c&&(this.navStep=this.step*10,this.beforeShowOption="beforeShow".concat(BFe(this.cellClass)),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(mA(z3("span",12)))),k6(LO(n.prototype),"init",this).call(this,i)}},{key:"setOptions",value:function(i){if(pA(i,"minDate")&&(i.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=M2(i.minDate,this.step),this.minDate=DO(this.minYear,0,1))),pA(i,"maxDate")&&(i.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=M2(i.maxDate,this.step),this.maxDate=DO(this.maxYear,11,31))),i[this.beforeShowOption]!==void 0){var c=i[this.beforeShowOption];this.beforeShow=typeof c=="function"?c:void 0}}},{key:"updateFocus",value:function(){var i=new Date(this.picker.viewDate),c=M2(i,this.navStep),d=c+9*this.step;this.first=c,this.last=d,this.start=c-this.step,this.focused=M2(i,this.step)}},{key:"updateSelection",value:function(){var i=this,c=this.picker.datepicker,d=c.dates,p=c.rangepicker;this.selected=d.reduce(function(v,S){return Rk(v,M2(S,i.step))},[]),p&&p.dates&&(this.range=p.dates.map(function(v){if(v!==void 0)return M2(v,i.step)}))}},{key:"render",value:function(){var i=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach(function(c,d){var p=c.classList,v=i.start+d*i.step,S=DO(v,0,1);if(c.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(i.cellClass),i.isMinView&&(c.dataset.date=S),c.textContent=c.dataset.year=v,d===0?p.add("prev"):d===11&&p.add("next"),(v<i.minYear||v>i.maxYear)&&p.add("disabled"),i.range){var _=zy(i.range,2),x=_[0],P=_[1];v>x&&v<P&&p.add("range"),v===x&&p.add("range-start"),v===P&&p.add("range-end")}i.selected.includes(v)&&(p.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),p.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),v===i.focused&&p.add("focused"),i.beforeShow&&i.performBeforeHook(c,v,S)})}},{key:"refresh",value:function(){var i=this,c=this.range||[],d=zy(c,2),p=d[0],v=d[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(S){S.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")}),Array.from(this.grid.children).forEach(function(S){var _=Number(S.textContent),x=S.classList;_>p&&_<v&&x.add("range"),_===p&&x.add("range-start"),_===v&&x.add("range-end"),i.selected.includes(_)&&(x.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),x.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),_===i.focused&&x.add("focused")})}},{key:"refreshFocus",value:function(){var i=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(function(c){c.classList.remove("focused")}),this.grid.children[i].classList.add("focused")}}])})(Iye);function m3(e,n){var o={date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e};e.element.dispatchEvent(new CustomEvent(n,{detail:o}))}function eQ(e,n){var o=e.config,i=o.minDate,c=o.maxDate,d=e.picker,p=d.currentView,v=d.viewDate,S;switch(p.id){case 0:S=YJ(v,n);break;case 1:S=p3(v,n);break;default:S=p3(v,n*p.navStep)}S=ARe(S,i,c),e.picker.changeFocus(S).render()}function DRe(e){var n=e.picker.currentView.id;n!==e.config.maxView&&e.picker.changeView(n+1).render()}function MRe(e){e.config.updateOnBlur?e.update({autohide:!0}):(e.refresh("input"),e.hide())}function CCe(e,n){var o=e.picker,i=new Date(o.viewDate),c=o.currentView.id,d=c===1?YJ(i,n-i.getMonth()):p3(i,n-i.getFullYear());o.changeFocus(d).changeView(c-1).render()}function VFe(e){var n=e.picker,o=jk();if(e.config.todayBtnMode===1){if(e.config.autohide){e.setDate(o);return}e.setDate(o,{render:!1}),n.update()}n.viewDate!==o&&n.changeFocus(o),n.changeView(0).render()}function FFe(e){e.setDate({clear:!0})}function HFe(e){DRe(e)}function $Fe(e){eQ(e,-1)}function UFe(e){eQ(e,1)}function zFe(e,n){var o=kRe(n,".datepicker-cell");if(!(!o||o.classList.contains("disabled"))){var i=e.picker.currentView,c=i.id,d=i.isMinView;d?e.setDate(Number(o.dataset.date)):c===1?CCe(e,Number(o.dataset.month)):CCe(e,Number(o.dataset.year))}}function jFe(e){!e.inline&&!e.config.disableTouchKeyboard&&e.inputField.focus()}function ECe(e,n){if(n.title!==void 0&&(n.title?(e.controls.title.textContent=n.title,s6(e.controls.title)):(e.controls.title.textContent="",o6(e.controls.title))),n.prevArrow){var o=e.controls.prevBtn;QJ(o),n.prevArrow.forEach(function(v){o.appendChild(v.cloneNode(!0))})}if(n.nextArrow){var i=e.controls.nextBtn;QJ(i),n.nextArrow.forEach(function(v){i.appendChild(v.cloneNode(!0))})}if(n.locale&&(e.controls.todayBtn.textContent=n.locale.today,e.controls.clearBtn.textContent=n.locale.clear),n.todayBtn!==void 0&&(n.todayBtn?s6(e.controls.todayBtn):o6(e.controls.todayBtn)),pA(n,"minDate")||pA(n,"maxDate")){var c=e.datepicker.config,d=c.minDate,p=c.maxDate;e.controls.todayBtn.disabled=!Tye(jk(),d,p)}n.clearBtn!==void 0&&(n.clearBtn?s6(e.controls.clearBtn):o6(e.controls.clearBtn))}function wCe(e){var n=e.dates,o=e.config,i=n.length>0?Aye(n):o.defaultViewDate;return ARe(i,o.minDate,o.maxDate)}function _Ce(e,n){var o=new Date(e.viewDate),i=new Date(n),c=e.currentView,d=c.id,p=c.year,v=c.first,S=c.last,_=i.getFullYear();switch(e.viewDate=n,_!==o.getFullYear()&&m3(e.datepicker,"changeYear"),i.getMonth()!==o.getMonth()&&m3(e.datepicker,"changeMonth"),d){case 0:return n<v||n>S;case 1:return _!==p;default:return _<v||_>S}}function hpe(e){return window.getComputedStyle(e).direction}var WFe=(function(){function e(n){Uk(this,e),this.datepicker=n;var o=DFe.replace(/%buttonClass%/g,n.config.buttonClass),i=this.element=mA(o).firstChild,c=zy(i.firstChild.children,3),d=c[0],p=c[1],v=c[2],S=d.firstElementChild,_=zy(d.lastElementChild.children,3),x=_[0],P=_[1],B=_[2],z=zy(v.firstChild.children,2),U=z[0],H=z[1],K={title:S,prevBtn:x,viewSwitch:P,nextBtn:B,todayBtn:U,clearBtn:H};this.main=p,this.controls=K;var oe=n.inline?"inline":"dropdown";i.classList.add("datepicker-".concat(oe)),oe==="dropdown"&&i.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),ECe(this,n.config),this.viewDate=wCe(n),Oye(n,[[i,"click",jFe.bind(null,n),{capture:!0}],[p,"click",zFe.bind(null,n)],[K.viewSwitch,"click",HFe.bind(null,n)],[K.prevBtn,"click",$Fe.bind(null,n)],[K.nextBtn,"click",UFe.bind(null,n)],[K.todayBtn,"click",VFe.bind(null,n)],[K.clearBtn,"click",FFe.bind(null,n)]]),this.views=[new NFe(this),new LFe(this),new SCe(this,{id:2,name:"years",cellClass:"year",step:1}),new SCe(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[n.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),n.config.container.appendChild(this.element)}return zk(e,[{key:"setOptions",value:function(o){ECe(this,o),this.views.forEach(function(i){i.init(o,!1)}),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var o=this.datepicker;if(!o.inline){var i=hpe(o.inputField);i!==hpe(o.config.container)?this.element.dir=i:this.element.dir&&this.element.removeAttribute("dir"),this.place(),o.config.disableTouchKeyboard&&o.inputField.blur()}m3(o,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,m3(this.datepicker,"hide"))}},{key:"place",value:function(){var o=this.element,i=o.classList,c=o.style,d=this.datepicker,p=d.config,v=d.inputField,S=p.container,_=this.element.getBoundingClientRect(),x=_.width,P=_.height,B=S.getBoundingClientRect(),z=B.left,U=B.top,H=B.width,K=v.getBoundingClientRect(),oe=K.left,ce=K.top,re=K.width,ye=K.height,_e=p.orientation,Oe=_e.x,F=_e.y,Me,ot,Fe;S===document.body?(Me=window.scrollY,ot=oe+window.scrollX,Fe=ce+Me):(Me=S.scrollTop,ot=oe-z,Fe=ce-U+Me),Oe==="auto"&&(ot<0?(Oe="left",ot=10):ot+x>H?Oe="right":Oe=hpe(v)==="rtl"?"right":"left"),Oe==="right"&&(ot-=x-re),F==="auto"&&(F=Fe-P<Me?"bottom":"top"),F==="top"?Fe-=P:Fe+=ye,i.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),i.add("datepicker-orient-".concat(F),"datepicker-orient-".concat(Oe)),c.top=Fe&&"".concat(Fe,"px"),c.left=ot&&"".concat(ot,"px")}},{key:"setViewSwitchLabel",value:function(o){this.controls.viewSwitch.textContent=o}},{key:"setPrevBtnDisabled",value:function(o){this.controls.prevBtn.disabled=o}},{key:"setNextBtnDisabled",value:function(o){this.controls.nextBtn.disabled=o}},{key:"changeView",value:function(o){var i=this.currentView,c=this.views[o];return c.id!==i.id&&(this.currentView=c,this._renderMethod="render",m3(this.datepicker,"changeView"),this.main.replaceChild(c.element,i.element)),this}},{key:"changeFocus",value:function(o){return this._renderMethod=_Ce(this,o)?"render":"refreshFocus",this.views.forEach(function(i){i.updateFocus()}),this}},{key:"update",value:function(){var o=wCe(this.datepicker);return this._renderMethod=_Ce(this,o)?"render":"refresh",this.views.forEach(function(i){i.updateFocus(),i.updateSelection()}),this}},{key:"render",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=o&&this._renderMethod||"render";delete this._renderMethod,this.currentView[i]()}}])})();function PRe(e,n,o,i,c,d){if(Tye(e,c,d)){if(i(e)){var p=n(e,o);return PRe(p,n,o,i,c,d)}return e}}function ZY(e,n,o,i){var c=e.picker,d=c.currentView,p=d.step||1,v=c.viewDate,S,_;switch(d.id){case 0:i?v=f3(v,o*7):n.ctrlKey||n.metaKey?v=p3(v,o):v=f3(v,o),S=f3,_=function(P){return d.disabled.includes(P)};break;case 1:v=YJ(v,i?o*4:o),S=YJ,_=function(P){var B=new Date(P),z=d.year,U=d.disabled;return B.getFullYear()===z&&U.includes(B.getMonth())};break;default:v=p3(v,o*(i?4:1)*p),S=p3,_=function(P){return d.disabled.includes(M2(P,p))}}v=PRe(v,S,o<0?-p:p,_,d.minDate,d.maxDate),v!==void 0&&c.changeFocus(v).render()}function GFe(e,n){if(n.key==="Tab"){MRe(e);return}var o=e.picker,i=o.currentView,c=i.id,d=i.isMinView;if(o.active)if(e.editMode)switch(n.key){case"Escape":o.hide();break;case"Enter":e.exitEditMode({update:!0,autohide:e.config.autohide});break;default:return}else switch(n.key){case"Escape":o.hide();break;case"ArrowLeft":if(n.ctrlKey||n.metaKey)eQ(e,-1);else if(n.shiftKey){e.enterEditMode();return}else ZY(e,n,-1,!1);break;case"ArrowRight":if(n.ctrlKey||n.metaKey)eQ(e,1);else if(n.shiftKey){e.enterEditMode();return}else ZY(e,n,1,!1);break;case"ArrowUp":if(n.ctrlKey||n.metaKey)DRe(e);else if(n.shiftKey){e.enterEditMode();return}else ZY(e,n,-1,!0);break;case"ArrowDown":if(n.shiftKey&&!n.ctrlKey&&!n.metaKey){e.enterEditMode();return}ZY(e,n,1,!0);break;case"Enter":d?e.setDate(o.viewDate):o.changeView(c-1).render();break;case"Backspace":case"Delete":e.enterEditMode();return;default:n.key.length===1&&!n.ctrlKey&&!n.metaKey&&e.enterEditMode();return}else switch(n.key){case"ArrowDown":case"Escape":o.show();break;case"Enter":e.update();break;default:return}n.preventDefault(),n.stopPropagation()}function qFe(e){e.config.showOnFocus&&!e._showing&&e.show()}function ZFe(e,n){var o=n.target;(e.picker.active||e.config.showOnClick)&&(o._active=o===document.activeElement,o._clicking=setTimeout(function(){delete o._active,delete o._clicking},2e3))}function KFe(e,n){var o=n.target;o._clicking&&(clearTimeout(o._clicking),delete o._clicking,o._active&&e.enterEditMode(),delete o._active,e.config.showOnClick&&e.show())}function YFe(e,n){n.clipboardData.types.includes("text/plain")&&e.enterEditMode()}function XFe(e,n){var o=e.element;if(o===document.activeElement){var i=e.picker.element;kRe(n,function(c){return c===o||c===i})||MRe(e)}}function NRe(e,n){return e.map(function(o){return M6(o,n.format,n.locale)}).join(n.dateDelimiter)}function LRe(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=e.config,c=e.dates,d=e.rangepicker;if(n.length===0)return o?[]:void 0;var p=d&&e===d.datepickers[1],v=n.reduce(function(S,_){var x=D6(_,i.format,i.locale);if(x===void 0)return S;if(i.pickLevel>0){var P=new Date(x);i.pickLevel===1?x=p?P.setMonth(P.getMonth()+1,0):P.setDate(1):x=p?P.setFullYear(P.getFullYear()+1,0,0):P.setMonth(0,1)}return Tye(x,i.minDate,i.maxDate)&&!S.includes(x)&&!i.datesDisabled.includes(x)&&!i.daysOfWeekDisabled.includes(new Date(x).getDay())&&S.push(x),S},[]);if(v.length!==0)return i.multidate&&!o&&(v=v.reduce(function(S,_){return c.includes(_)||S.push(_),S},c.filter(function(S){return!v.includes(S)}))),i.maxNumberOfDates&&v.length>i.maxNumberOfDates?v.slice(i.maxNumberOfDates*-1):v}function tQ(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=e.config,c=e.picker,d=e.inputField;if(n&2){var p=c.active?i.pickLevel:i.startView;c.update().changeView(p).render(o)}n&1&&d&&(d.value=NRe(e.dates,i))}function ACe(e,n,o){var i=o.clear,c=o.render,d=o.autohide;c===void 0&&(c=!0),c?d===void 0&&(d=e.config.autohide):d=!1;var p=LRe(e,n,i);p&&(p.toString()!==e.dates.toString()?(e.dates=p,tQ(e,c?3:1),m3(e,"changeDate")):tQ(e,1),d&&e.hide())}var HX=(function(){function e(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;Uk(this,e),n.datepicker=this,this.element=n;var c=this.config=Object.assign({buttonClass:o.buttonClass&&String(o.buttonClass)||"button",container:document.body,defaultViewDate:jk(),maxDate:void 0,minDate:void 0},dpe(pz,this));this._options=o,Object.assign(c,dpe(o,this));var d=this.inline=n.tagName!=="INPUT",p,v;if(d)c.container=n,v=ipe(n.dataset.date,c.dateDelimiter),delete n.dataset.date;else{var S=o.container?document.querySelector(o.container):null;S&&(c.container=S),p=this.inputField=n,p.classList.add("datepicker-input"),v=ipe(p.value,c.dateDelimiter)}if(i){var _=i.inputs.indexOf(p),x=i.datepickers;if(_<0||_>1||!Array.isArray(x))throw Error("Invalid rangepicker object.");x[_]=this,Object.defineProperty(this,"rangepicker",{get:function(){return i}})}this.dates=[];var P=LRe(this,v);P&&P.length>0&&(this.dates=P),p&&(p.value=NRe(this.dates,c));var B=this.picker=new WFe(this);if(d)this.show();else{var z=XFe.bind(null,this),U=[[p,"keydown",GFe.bind(null,this)],[p,"focus",qFe.bind(null,this)],[p,"mousedown",ZFe.bind(null,this)],[p,"click",KFe.bind(null,this)],[p,"paste",YFe.bind(null,this)],[document,"mousedown",z],[document,"touchstart",z],[window,"resize",B.place.bind(B)]];Oye(this,U)}}return zk(e,[{key:"active",get:function(){return!!(this.picker&&this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(o){var i=this.picker,c=dpe(o,this);Object.assign(this._options,o),Object.assign(this.config,c),i.setOptions(c),tQ(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),IRe(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var o=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,c=i?function(d){return M6(d,i,o.config.locale)}:function(d){return new Date(d)};if(this.config.multidate)return this.dates.map(c);if(this.dates.length>0)return c(this.dates[0])}},{key:"setDate",value:function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];var d=[].concat(i),p={},v=Aye(i);KJ(v)==="object"&&!Array.isArray(v)&&!(v instanceof Date)&&v&&Object.assign(p,d.pop());var S=Array.isArray(d[0])?d[0]:d;ACe(this,S,p)}},{key:"update",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!this.inline){var i={clear:!0,autohide:!!(o&&o.autohide)},c=ipe(this.inputField.value,this.config.dateDelimiter);ACe(this,c,i)}}},{key:"refresh",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o&&typeof o!="string"&&(i=o,o=void 0);var c;o==="picker"?c=2:o==="input"?c=1:c=3,tQ(this,c,!i)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!(this.inline||!this.editMode)){var i=Object.assign({update:!1},o);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),i.update&&this.update(i)}}}],[{key:"formatDate",value:function(o,i,c){return M6(o,i,c&&g5[c]||g5.en)}},{key:"parseDate",value:function(o,i,c){return D6(o,i,c&&g5[c]||g5.en)}},{key:"locales",get:function(){return g5}}])})();function TCe(e){var n=Object.assign({},e);return delete n.inputs,delete n.allowOneSidedRange,delete n.maxNumberOfDates,n}function xCe(e,n,o,i){Oye(e,[[o,"changeDate",n]]),new HX(o,i,e)}function v5(e,n){if(!e._updating){e._updating=!0;var o=n.target;if(o.datepicker!==void 0){var i=e.datepickers,c={render:!1},d=e.inputs.indexOf(o),p=d===0?1:0,v=i[d].dates[0],S=i[p].dates[0];v!==void 0&&S!==void 0?d===0&&v>S?(i[0].setDate(S,c),i[1].setDate(v,c)):d===1&&v<S&&(i[0].setDate(v,c),i[1].setDate(S,c)):e.allowOneSidedRange||(v!==void 0||S!==void 0)&&(c.clear=!0,i[p].setDate(i[d].dates,c)),i[0].picker.update().render(),i[1].picker.update().render(),delete e._updating}}}var fpe=(function(){function e(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Uk(this,e);var i=Array.isArray(o.inputs)?o.inputs:Array.from(n.querySelectorAll("input"));if(!(i.length<2)){n.rangepicker=this,this.element=n,this.inputs=i.slice(0,2),this.allowOneSidedRange=!!o.allowOneSidedRange;var c=v5.bind(null,this),d=TCe(o),p=[];Object.defineProperty(this,"datepickers",{get:function(){return p}}),xCe(this,c,this.inputs[0],d),xCe(this,c,this.inputs[1],d),Object.freeze(p),p[0].dates.length>0?v5(this,{target:this.inputs[0]}):p[1].dates.length>0&&v5(this,{target:this.inputs[1]})}}return zk(e,[{key:"dates",get:function(){return this.datepickers.length===2?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}},{key:"setOptions",value:function(o){this.allowOneSidedRange=!!o.allowOneSidedRange;var i=TCe(o);this.datepickers[0].setOptions(i),this.datepickers[1].setOptions(i)}},{key:"destroy",value:function(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),IRe(this),delete this.element.rangepicker}},{key:"getDates",value:function(){var o=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,c=i?function(d){return M6(d,i,o.datepickers[0].config.locale)}:function(d){return new Date(d)};return this.dates.map(function(d){return d===void 0?d:c(d)})}},{key:"setDates",value:function(o,i){var c=zy(this.datepickers,2),d=c[0],p=c[1],v=this.dates;this._updating=!0,d.setDate(o),p.setDate(i),delete this._updating,p.dates[0]!==v[1]?v5(this,{target:this.inputs[1]}):d.dates[0]!==v[0]&&v5(this,{target:this.inputs[0]})}}])})(),nQ=function(){return nQ=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},nQ.apply(this,arguments)},W0={defaultDatepickerId:null,autohide:!1,format:"mm/dd/yyyy",maxDate:null,minDate:null,orientation:"bottom",buttons:!1,autoSelectToday:0,title:null,language:"en",rangePicker:!1,onShow:function(){},onHide:function(){}},JFe={id:null,override:!0},BRe=(function(){function e(n,o,i){n===void 0&&(n=null),o===void 0&&(o=W0),i===void 0&&(i=JFe),this._instanceId=i.id?i.id:n.id,this._datepickerEl=n,this._datepickerInstance=null,this._options=nQ(nQ({},W0),o),this._initialized=!1,this.init(),_a.addInstance("Datepicker",this,this._instanceId,i.override)}return e.prototype.init=function(){this._datepickerEl&&!this._initialized&&(this._options.rangePicker?this._datepickerInstance=new fpe(this._datepickerEl,this._getDatepickerOptions(this._options)):this._datepickerInstance=new HX(this._datepickerEl,this._getDatepickerOptions(this._options)),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1,this._datepickerInstance.destroy())},e.prototype.removeInstance=function(){this.destroy(),_a.removeInstance("Datepicker",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getDatepickerInstance=function(){return this._datepickerInstance},e.prototype.getDate=function(){if(this._options.rangePicker&&this._datepickerInstance instanceof fpe)return this._datepickerInstance.getDates();if(!this._options.rangePicker&&this._datepickerInstance instanceof HX)return this._datepickerInstance.getDate()},e.prototype.setDate=function(n){if(this._options.rangePicker&&this._datepickerInstance instanceof fpe)return this._datepickerInstance.setDates(n);if(!this._options.rangePicker&&this._datepickerInstance instanceof HX)return this._datepickerInstance.setDate(n)},e.prototype.show=function(){this._datepickerInstance.show(),this._options.onShow(this)},e.prototype.hide=function(){this._datepickerInstance.hide(),this._options.onHide(this)},e.prototype._getDatepickerOptions=function(n){var o={};return n.buttons&&(o.todayBtn=!0,o.clearBtn=!0,n.autoSelectToday&&(o.todayBtnMode=1)),n.autohide&&(o.autohide=!0),n.format&&(o.format=n.format),n.maxDate&&(o.maxDate=n.maxDate),n.minDate&&(o.minDate=n.minDate),n.orientation&&(o.orientation=n.orientation),n.title&&(o.title=n.title),n.language&&(o.language=n.language),o},e.prototype.updateOnShow=function(n){this._options.onShow=n},e.prototype.updateOnHide=function(n){this._options.onHide=n},e})();function Rye(){document.querySelectorAll("[datepicker], [inline-datepicker], [date-rangepicker]").forEach(function(e){if(e){var n=e.hasAttribute("datepicker-buttons"),o=e.hasAttribute("datepicker-autoselect-today"),i=e.hasAttribute("datepicker-autohide"),c=e.getAttribute("datepicker-format"),d=e.getAttribute("datepicker-max-date"),p=e.getAttribute("datepicker-min-date"),v=e.getAttribute("datepicker-orientation"),S=e.getAttribute("datepicker-title"),_=e.getAttribute("datepicker-language"),x=e.hasAttribute("date-rangepicker");new BRe(e,{buttons:n||W0.buttons,autoSelectToday:o||W0.autoSelectToday,autohide:i||W0.autohide,format:c||W0.format,maxDate:d||W0.maxDate,minDate:p||W0.minDate,orientation:v||W0.orientation,title:S||W0.title,language:_||W0.language,rangePicker:x||W0.rangePicker})}else console.error("The datepicker element does not exist. Please check the datepicker attribute.")})}typeof window<"u"&&(window.Datepicker=BRe,window.initDatepickers=Rye);function QFe(){nye(),oye(),sye(),rye(),pye(),mye(),gye(),vye(),bye(),yye(),Sye(),Cye(),Eye(),Rye()}typeof window<"u"&&(window.initFlowbite=QFe);var eHe=new qBe("load",[nye,oye,sye,rye,pye,mye,gye,vye,bye,yye,Sye,Cye,Eye,Rye]);eHe.init();function kye(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function VXe(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var o=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var c=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(o,i,c.get?c:{enumerable:!0,get:function(){return e[i]}})}),o}function tHe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var VRe;function Ts(){return VRe.apply(null,arguments)}function nHe(e){VRe=e}function kS(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function uk(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Tl(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function Dye(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var n;for(n in e)if(Tl(e,n))return!1;return!0}function Ib(e){return e===void 0}function gA(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function mz(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function FRe(e,n){var o=[],i,c=e.length;for(i=0;i<c;++i)o.push(n(e[i],i));return o}function EO(e,n){for(var o in n)Tl(n,o)&&(e[o]=n[o]);return Tl(n,"toString")&&(e.toString=n.toString),Tl(n,"valueOf")&&(e.valueOf=n.valueOf),e}function xE(e,n,o,i){return l2e(e,n,o,i,!0).utc()}function oHe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function la(e){return e._pf==null&&(e._pf=oHe()),e._pf}var lge;Array.prototype.some?lge=Array.prototype.some:lge=function(e){var n=Object(this),o=n.length>>>0,i;for(i=0;i<o;i++)if(i in n&&e.call(this,n[i],i,n))return!0;return!1};function Mye(e){var n=null,o=!1,i=e._d&&!isNaN(e._d.getTime());if(i&&(n=la(e),o=lge.call(n.parsedDateParts,function(c){return c!=null}),i=n.overflow<0&&!n.empty&&!n.invalidEra&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&o),e._strict&&(i=i&&n.charsLeftOver===0&&n.unusedTokens.length===0&&n.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=i;else return i;return e._isValid}function Hee(e){var n=xE(NaN);return e!=null?EO(la(n),e):la(n).userInvalidated=!0,n}var OCe=Ts.momentProperties=[],ppe=!1;function Pye(e,n){var o,i,c,d=OCe.length;if(Ib(n._isAMomentObject)||(e._isAMomentObject=n._isAMomentObject),Ib(n._i)||(e._i=n._i),Ib(n._f)||(e._f=n._f),Ib(n._l)||(e._l=n._l),Ib(n._strict)||(e._strict=n._strict),Ib(n._tzm)||(e._tzm=n._tzm),Ib(n._isUTC)||(e._isUTC=n._isUTC),Ib(n._offset)||(e._offset=n._offset),Ib(n._pf)||(e._pf=la(n)),Ib(n._locale)||(e._locale=n._locale),d>0)for(o=0;o<d;o++)i=OCe[o],c=n[i],Ib(c)||(e[i]=c);return e}function gz(e){Pye(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ppe===!1&&(ppe=!0,Ts.updateOffset(this),ppe=!1)}function DS(e){return e instanceof gz||e!=null&&e._isAMomentObject!=null}function HRe(e){Ts.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function r1(e,n){var o=!0;return EO(function(){if(Ts.deprecationHandler!=null&&Ts.deprecationHandler(null,e),o){var i=[],c,d,p,v=arguments.length;for(d=0;d<v;d++){if(c="",typeof arguments[d]=="object"){c+=`
[`+d+"] ";for(p in arguments[0])Tl(arguments[0],p)&&(c+=p+": "+arguments[0][p]+", ");c=c.slice(0,-2)}else c=arguments[d];i.push(c)}HRe(e+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),o=!1}return n.apply(this,arguments)},n)}var ICe={};function $Re(e,n){Ts.deprecationHandler!=null&&Ts.deprecationHandler(e,n),ICe[e]||(HRe(n),ICe[e]=!0)}Ts.suppressDeprecationWarnings=!1;Ts.deprecationHandler=null;function OE(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function sHe(e){var n,o;for(o in e)Tl(e,o)&&(n=e[o],OE(n)?this[o]=n:this["_"+o]=n);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function cge(e,n){var o=EO({},e),i;for(i in n)Tl(n,i)&&(uk(e[i])&&uk(n[i])?(o[i]={},EO(o[i],e[i]),EO(o[i],n[i])):n[i]!=null?o[i]=n[i]:delete o[i]);for(i in e)Tl(e,i)&&!Tl(n,i)&&uk(e[i])&&(o[i]=EO({},o[i]));return o}function Nye(e){e!=null&&this.set(e)}var uge;Object.keys?uge=Object.keys:uge=function(e){var n,o=[];for(n in e)Tl(e,n)&&o.push(n);return o};var rHe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function iHe(e,n,o){var i=this._calendar[e]||this._calendar.sameElse;return OE(i)?i.call(n,o):i}function AE(e,n,o){var i=""+Math.abs(e),c=n-i.length,d=e>=0;return(d?o?"+":"":"-")+Math.pow(10,Math.max(0,c)).toString().substr(1)+i}var Lye=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,KY=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,mpe={},g3={};function Br(e,n,o,i){var c=i;typeof i=="string"&&(c=function(){return this[i]()}),e&&(g3[e]=c),n&&(g3[n[0]]=function(){return AE(c.apply(this,arguments),n[1],n[2])}),o&&(g3[o]=function(){return this.localeData().ordinal(c.apply(this,arguments),e)})}function aHe(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function lHe(e){var n=e.match(Lye),o,i;for(o=0,i=n.length;o<i;o++)g3[n[o]]?n[o]=g3[n[o]]:n[o]=aHe(n[o]);return function(c){var d="",p;for(p=0;p<i;p++)d+=OE(n[p])?n[p].call(c,e):n[p];return d}}function $X(e,n){return e.isValid()?(n=URe(n,e.localeData()),mpe[n]=mpe[n]||lHe(n),mpe[n](e)):e.localeData().invalidDate()}function URe(e,n){var o=5;function i(c){return n.longDateFormat(c)||c}for(KY.lastIndex=0;o>=0&&KY.test(e);)e=e.replace(KY,i),KY.lastIndex=0,o-=1;return e}var cHe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function uHe(e){var n=this._longDateFormat[e],o=this._longDateFormat[e.toUpperCase()];return n||!o?n:(this._longDateFormat[e]=o.match(Lye).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[e])}var dHe="Invalid date";function hHe(){return this._invalidDate}var fHe="%d",pHe=/\d{1,2}/;function mHe(e){return this._ordinal.replace("%d",e)}var gHe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function vHe(e,n,o,i){var c=this._relativeTime[o];return OE(c)?c(e,n,o,i):c.replace(/%d/i,e)}function bHe(e,n){var o=this._relativeTime[e>0?"future":"past"];return OE(o)?o(n):o.replace(/%s/i,n)}var RCe={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function i1(e){return typeof e=="string"?RCe[e]||RCe[e.toLowerCase()]:void 0}function Bye(e){var n={},o,i;for(i in e)Tl(e,i)&&(o=i1(i),o&&(n[o]=e[i]));return n}var yHe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function SHe(e){var n=[],o;for(o in e)Tl(e,o)&&n.push({unit:o,priority:yHe[o]});return n.sort(function(i,c){return i.priority-c.priority}),n}var zRe=/\d/,Zy=/\d\d/,jRe=/\d{3}/,Vye=/\d{4}/,$ee=/[+-]?\d{6}/,_u=/\d\d?/,WRe=/\d\d\d\d?/,GRe=/\d\d\d\d\d\d?/,Uee=/\d{1,3}/,Fye=/\d{1,4}/,zee=/[+-]?\d{1,6}/,m4=/\d+/,jee=/[+-]?\d+/,CHe=/Z|[+-]\d\d:?\d\d/gi,Wee=/Z|[+-]\d\d(?::?\d\d)?/gi,EHe=/[+-]?\d+(\.\d{1,3})?/,vz=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,g4=/^[1-9]\d?/,Hye=/^([1-9]\d|\d)/,oQ;oQ={};function cr(e,n,o){oQ[e]=OE(n)?n:function(i,c){return i&&o?o:n}}function wHe(e,n){return Tl(oQ,e)?oQ[e](n._strict,n._locale):new RegExp(_He(e))}function _He(e){return oA(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,o,i,c,d){return o||i||c||d}))}function oA(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z0(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ja(e){var n=+e,o=0;return n!==0&&isFinite(n)&&(o=Z0(n)),o}var dge={};function Ec(e,n){var o,i=n,c;for(typeof e=="string"&&(e=[e]),gA(n)&&(i=function(d,p){p[n]=ja(d)}),c=e.length,o=0;o<c;o++)dge[e[o]]=i}function bz(e,n){Ec(e,function(o,i,c,d){c._w=c._w||{},n(o,c._w,c,d)})}function AHe(e,n,o){n!=null&&Tl(dge,e)&&dge[e](n,o._a,o,e)}function Gee(e){return e%4===0&&e%100!==0||e%400===0}var _g=0,tA=1,vE=2,zf=3,TS=4,nA=5,Y2=6,THe=7,xHe=8;Br("Y",0,0,function(){var e=this.year();return e<=9999?AE(e,4):"+"+e});Br(0,["YY",2],0,function(){return this.year()%100});Br(0,["YYYY",4],0,"year");Br(0,["YYYYY",5],0,"year");Br(0,["YYYYYY",6,!0],0,"year");cr("Y",jee);cr("YY",_u,Zy);cr("YYYY",Fye,Vye);cr("YYYYY",zee,$ee);cr("YYYYYY",zee,$ee);Ec(["YYYYY","YYYYYY"],_g);Ec("YYYY",function(e,n){n[_g]=e.length===2?Ts.parseTwoDigitYear(e):ja(e)});Ec("YY",function(e,n){n[_g]=Ts.parseTwoDigitYear(e)});Ec("Y",function(e,n){n[_g]=parseInt(e,10)});function r6(e){return Gee(e)?366:365}Ts.parseTwoDigitYear=function(e){return ja(e)+(ja(e)>68?1900:2e3)};var qRe=v4("FullYear",!0);function OHe(){return Gee(this.year())}function v4(e,n){return function(o){return o!=null?(ZRe(this,e,o),Ts.updateOffset(this,n),this):P6(this,e)}}function P6(e,n){if(!e.isValid())return NaN;var o=e._d,i=e._isUTC;switch(n){case"Milliseconds":return i?o.getUTCMilliseconds():o.getMilliseconds();case"Seconds":return i?o.getUTCSeconds():o.getSeconds();case"Minutes":return i?o.getUTCMinutes():o.getMinutes();case"Hours":return i?o.getUTCHours():o.getHours();case"Date":return i?o.getUTCDate():o.getDate();case"Day":return i?o.getUTCDay():o.getDay();case"Month":return i?o.getUTCMonth():o.getMonth();case"FullYear":return i?o.getUTCFullYear():o.getFullYear();default:return NaN}}function ZRe(e,n,o){var i,c,d,p,v;if(!(!e.isValid()||isNaN(o))){switch(i=e._d,c=e._isUTC,n){case"Milliseconds":return void(c?i.setUTCMilliseconds(o):i.setMilliseconds(o));case"Seconds":return void(c?i.setUTCSeconds(o):i.setSeconds(o));case"Minutes":return void(c?i.setUTCMinutes(o):i.setMinutes(o));case"Hours":return void(c?i.setUTCHours(o):i.setHours(o));case"Date":return void(c?i.setUTCDate(o):i.setDate(o));case"FullYear":break;default:return}d=o,p=e.month(),v=e.date(),v=v===29&&p===1&&!Gee(d)?28:v,c?i.setUTCFullYear(d,p,v):i.setFullYear(d,p,v)}}function IHe(e){return e=i1(e),OE(this[e])?this[e]():this}function RHe(e,n){if(typeof e=="object"){e=Bye(e);var o=SHe(e),i,c=o.length;for(i=0;i<c;i++)this[o[i].unit](e[o[i].unit])}else if(e=i1(e),OE(this[e]))return this[e](n);return this}function kHe(e,n){return(e%n+n)%n}var Sh;Array.prototype.indexOf?Sh=Array.prototype.indexOf:Sh=function(e){var n;for(n=0;n<this.length;++n)if(this[n]===e)return n;return-1};function $ye(e,n){if(isNaN(e)||isNaN(n))return NaN;var o=kHe(n,12);return e+=(n-o)/12,o===1?Gee(e)?29:28:31-o%7%2}Br("M",["MM",2],"Mo",function(){return this.month()+1});Br("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Br("MMMM",0,0,function(e){return this.localeData().months(this,e)});cr("M",_u,g4);cr("MM",_u,Zy);cr("MMM",function(e,n){return n.monthsShortRegex(e)});cr("MMMM",function(e,n){return n.monthsRegex(e)});Ec(["M","MM"],function(e,n){n[tA]=ja(e)-1});Ec(["MMM","MMMM"],function(e,n,o,i){var c=o._locale.monthsParse(e,i,o._strict);c!=null?n[tA]=c:la(o).invalidMonth=e});var DHe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),KRe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),YRe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,MHe=vz,PHe=vz;function NHe(e,n){return e?kS(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||YRe).test(n)?"format":"standalone"][e.month()]:kS(this._months)?this._months:this._months.standalone}function LHe(e,n){return e?kS(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[YRe.test(n)?"format":"standalone"][e.month()]:kS(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function BHe(e,n,o){var i,c,d,p=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)d=xE([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(d,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(d,"").toLocaleLowerCase();return o?n==="MMM"?(c=Sh.call(this._shortMonthsParse,p),c!==-1?c:null):(c=Sh.call(this._longMonthsParse,p),c!==-1?c:null):n==="MMM"?(c=Sh.call(this._shortMonthsParse,p),c!==-1?c:(c=Sh.call(this._longMonthsParse,p),c!==-1?c:null)):(c=Sh.call(this._longMonthsParse,p),c!==-1?c:(c=Sh.call(this._shortMonthsParse,p),c!==-1?c:null))}function VHe(e,n,o){var i,c,d;if(this._monthsParseExact)return BHe.call(this,e,n,o);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(c=xE([2e3,i]),o&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(c,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(c,"").replace(".","")+"$","i")),!o&&!this._monthsParse[i]&&(d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[i]=new RegExp(d.replace(".",""),"i")),o&&n==="MMMM"&&this._longMonthsParse[i].test(e))return i;if(o&&n==="MMM"&&this._shortMonthsParse[i].test(e))return i;if(!o&&this._monthsParse[i].test(e))return i}}function XRe(e,n){if(!e.isValid())return e;if(typeof n=="string"){if(/^\d+$/.test(n))n=ja(n);else if(n=e.localeData().monthsParse(n),!gA(n))return e}var o=n,i=e.date();return i=i<29?i:Math.min(i,$ye(e.year(),o)),e._isUTC?e._d.setUTCMonth(o,i):e._d.setMonth(o,i),e}function JRe(e){return e!=null?(XRe(this,e),Ts.updateOffset(this,!0),this):P6(this,"Month")}function FHe(){return $ye(this.year(),this.month())}function HHe(e){return this._monthsParseExact?(Tl(this,"_monthsRegex")||QRe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Tl(this,"_monthsShortRegex")||(this._monthsShortRegex=MHe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function $He(e){return this._monthsParseExact?(Tl(this,"_monthsRegex")||QRe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Tl(this,"_monthsRegex")||(this._monthsRegex=PHe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function QRe(){function e(S,_){return _.length-S.length}var n=[],o=[],i=[],c,d,p,v;for(c=0;c<12;c++)d=xE([2e3,c]),p=oA(this.monthsShort(d,"")),v=oA(this.months(d,"")),n.push(p),o.push(v),i.push(v),i.push(p);n.sort(e),o.sort(e),i.sort(e),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function UHe(e,n,o,i,c,d,p){var v;return e<100&&e>=0?(v=new Date(e+400,n,o,i,c,d,p),isFinite(v.getFullYear())&&v.setFullYear(e)):v=new Date(e,n,o,i,c,d,p),v}function N6(e){var n,o;return e<100&&e>=0?(o=Array.prototype.slice.call(arguments),o[0]=e+400,n=new Date(Date.UTC.apply(null,o)),isFinite(n.getUTCFullYear())&&n.setUTCFullYear(e)):n=new Date(Date.UTC.apply(null,arguments)),n}function sQ(e,n,o){var i=7+n-o,c=(7+N6(e,0,i).getUTCDay()-n)%7;return-c+i-1}function e2e(e,n,o,i,c){var d=(7+o-i)%7,p=sQ(e,i,c),v=1+7*(n-1)+d+p,S,_;return v<=0?(S=e-1,_=r6(S)+v):v>r6(e)?(S=e+1,_=v-r6(e)):(S=e,_=v),{year:S,dayOfYear:_}}function L6(e,n,o){var i=sQ(e.year(),n,o),c=Math.floor((e.dayOfYear()-i-1)/7)+1,d,p;return c<1?(p=e.year()-1,d=c+sA(p,n,o)):c>sA(e.year(),n,o)?(d=c-sA(e.year(),n,o),p=e.year()+1):(p=e.year(),d=c),{week:d,year:p}}function sA(e,n,o){var i=sQ(e,n,o),c=sQ(e+1,n,o);return(r6(e)-i+c)/7}Br("w",["ww",2],"wo","week");Br("W",["WW",2],"Wo","isoWeek");cr("w",_u,g4);cr("ww",_u,Zy);cr("W",_u,g4);cr("WW",_u,Zy);bz(["w","ww","W","WW"],function(e,n,o,i){n[i.substr(0,1)]=ja(e)});function zHe(e){return L6(e,this._week.dow,this._week.doy).week}var jHe={dow:0,doy:6};function WHe(){return this._week.dow}function GHe(){return this._week.doy}function qHe(e){var n=this.localeData().week(this);return e==null?n:this.add((e-n)*7,"d")}function ZHe(e){var n=L6(this,1,4).week;return e==null?n:this.add((e-n)*7,"d")}Br("d",0,"do","day");Br("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Br("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Br("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Br("e",0,0,"weekday");Br("E",0,0,"isoWeekday");cr("d",_u);cr("e",_u);cr("E",_u);cr("dd",function(e,n){return n.weekdaysMinRegex(e)});cr("ddd",function(e,n){return n.weekdaysShortRegex(e)});cr("dddd",function(e,n){return n.weekdaysRegex(e)});bz(["dd","ddd","dddd"],function(e,n,o,i){var c=o._locale.weekdaysParse(e,i,o._strict);c!=null?n.d=c:la(o).invalidWeekday=e});bz(["d","e","E"],function(e,n,o,i){n[i]=ja(e)});function KHe(e,n){return typeof e!="string"?e:isNaN(e)?(e=n.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function YHe(e,n){return typeof e=="string"?n.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Uye(e,n){return e.slice(n,7).concat(e.slice(0,n))}var XHe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),t2e="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),JHe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),QHe=vz,e$e=vz,t$e=vz;function n$e(e,n){var o=kS(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(n)?"format":"standalone"];return e===!0?Uye(o,this._week.dow):e?o[e.day()]:o}function o$e(e){return e===!0?Uye(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function s$e(e){return e===!0?Uye(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function r$e(e,n,o){var i,c,d,p=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)d=xE([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(d,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(d,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(d,"").toLocaleLowerCase();return o?n==="dddd"?(c=Sh.call(this._weekdaysParse,p),c!==-1?c:null):n==="ddd"?(c=Sh.call(this._shortWeekdaysParse,p),c!==-1?c:null):(c=Sh.call(this._minWeekdaysParse,p),c!==-1?c:null):n==="dddd"?(c=Sh.call(this._weekdaysParse,p),c!==-1||(c=Sh.call(this._shortWeekdaysParse,p),c!==-1)?c:(c=Sh.call(this._minWeekdaysParse,p),c!==-1?c:null)):n==="ddd"?(c=Sh.call(this._shortWeekdaysParse,p),c!==-1||(c=Sh.call(this._weekdaysParse,p),c!==-1)?c:(c=Sh.call(this._minWeekdaysParse,p),c!==-1?c:null)):(c=Sh.call(this._minWeekdaysParse,p),c!==-1||(c=Sh.call(this._weekdaysParse,p),c!==-1)?c:(c=Sh.call(this._shortWeekdaysParse,p),c!==-1?c:null))}function i$e(e,n,o){var i,c,d;if(this._weekdaysParseExact)return r$e.call(this,e,n,o);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(c=xE([2e3,1]).day(i),o&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(c,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(c,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(c,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[i]=new RegExp(d.replace(".",""),"i")),o&&n==="dddd"&&this._fullWeekdaysParse[i].test(e))return i;if(o&&n==="ddd"&&this._shortWeekdaysParse[i].test(e))return i;if(o&&n==="dd"&&this._minWeekdaysParse[i].test(e))return i;if(!o&&this._weekdaysParse[i].test(e))return i}}function a$e(e){if(!this.isValid())return e!=null?this:NaN;var n=P6(this,"Day");return e!=null?(e=KHe(e,this.localeData()),this.add(e-n,"d")):n}function l$e(e){if(!this.isValid())return e!=null?this:NaN;var n=(this.day()+7-this.localeData()._week.dow)%7;return e==null?n:this.add(e-n,"d")}function c$e(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var n=YHe(e,this.localeData());return this.day(this.day()%7?n:n-7)}else return this.day()||7}function u$e(e){return this._weekdaysParseExact?(Tl(this,"_weekdaysRegex")||zye.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Tl(this,"_weekdaysRegex")||(this._weekdaysRegex=QHe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function d$e(e){return this._weekdaysParseExact?(Tl(this,"_weekdaysRegex")||zye.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Tl(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=e$e),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function h$e(e){return this._weekdaysParseExact?(Tl(this,"_weekdaysRegex")||zye.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Tl(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=t$e),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function zye(){function e(x,P){return P.length-x.length}var n=[],o=[],i=[],c=[],d,p,v,S,_;for(d=0;d<7;d++)p=xE([2e3,1]).day(d),v=oA(this.weekdaysMin(p,"")),S=oA(this.weekdaysShort(p,"")),_=oA(this.weekdays(p,"")),n.push(v),o.push(S),i.push(_),c.push(v),c.push(S),c.push(_);n.sort(e),o.sort(e),i.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+n.join("|")+")","i")}function jye(){return this.hours()%12||12}function f$e(){return this.hours()||24}Br("H",["HH",2],0,"hour");Br("h",["hh",2],0,jye);Br("k",["kk",2],0,f$e);Br("hmm",0,0,function(){return""+jye.apply(this)+AE(this.minutes(),2)});Br("hmmss",0,0,function(){return""+jye.apply(this)+AE(this.minutes(),2)+AE(this.seconds(),2)});Br("Hmm",0,0,function(){return""+this.hours()+AE(this.minutes(),2)});Br("Hmmss",0,0,function(){return""+this.hours()+AE(this.minutes(),2)+AE(this.seconds(),2)});function n2e(e,n){Br(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),n)})}n2e("a",!0);n2e("A",!1);function o2e(e,n){return n._meridiemParse}cr("a",o2e);cr("A",o2e);cr("H",_u,Hye);cr("h",_u,g4);cr("k",_u,g4);cr("HH",_u,Zy);cr("hh",_u,Zy);cr("kk",_u,Zy);cr("hmm",WRe);cr("hmmss",GRe);cr("Hmm",WRe);cr("Hmmss",GRe);Ec(["H","HH"],zf);Ec(["k","kk"],function(e,n,o){var i=ja(e);n[zf]=i===24?0:i});Ec(["a","A"],function(e,n,o){o._isPm=o._locale.isPM(e),o._meridiem=e});Ec(["h","hh"],function(e,n,o){n[zf]=ja(e),la(o).bigHour=!0});Ec("hmm",function(e,n,o){var i=e.length-2;n[zf]=ja(e.substr(0,i)),n[TS]=ja(e.substr(i)),la(o).bigHour=!0});Ec("hmmss",function(e,n,o){var i=e.length-4,c=e.length-2;n[zf]=ja(e.substr(0,i)),n[TS]=ja(e.substr(i,2)),n[nA]=ja(e.substr(c)),la(o).bigHour=!0});Ec("Hmm",function(e,n,o){var i=e.length-2;n[zf]=ja(e.substr(0,i)),n[TS]=ja(e.substr(i))});Ec("Hmmss",function(e,n,o){var i=e.length-4,c=e.length-2;n[zf]=ja(e.substr(0,i)),n[TS]=ja(e.substr(i,2)),n[nA]=ja(e.substr(c))});function p$e(e){return(e+"").toLowerCase().charAt(0)==="p"}var m$e=/[ap]\.?m?\.?/i,g$e=v4("Hours",!0);function v$e(e,n,o){return e>11?o?"pm":"PM":o?"am":"AM"}var s2e={calendar:rHe,longDateFormat:cHe,invalidDate:dHe,ordinal:fHe,dayOfMonthOrdinalParse:pHe,relativeTime:gHe,months:DHe,monthsShort:KRe,week:jHe,weekdays:XHe,weekdaysMin:JHe,weekdaysShort:t2e,meridiemParse:m$e},Ku={},b5={},B6;function b$e(e,n){var o,i=Math.min(e.length,n.length);for(o=0;o<i;o+=1)if(e[o]!==n[o])return o;return i}function kCe(e){return e&&e.toLowerCase().replace("_","-")}function y$e(e){for(var n=0,o,i,c,d;n<e.length;){for(d=kCe(e[n]).split("-"),o=d.length,i=kCe(e[n+1]),i=i?i.split("-"):null;o>0;){if(c=qee(d.slice(0,o).join("-")),c)return c;if(i&&i.length>=o&&b$e(d,i)>=o-1)break;o--}n++}return B6}function S$e(e){return!!(e&&e.match("^[^/\\\\]*$"))}function qee(e){var n=null,o;if(Ku[e]===void 0&&typeof module<"u"&&module&&module.exports&&S$e(e))try{n=B6._abbr,o=tHe,o("./locale/"+e),MO(n)}catch{Ku[e]=null}return Ku[e]}function MO(e,n){var o;return e&&(Ib(n)?o=EA(e):o=Wye(e,n),o?B6=o:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),B6._abbr}function Wye(e,n){if(n!==null){var o,i=s2e;if(n.abbr=e,Ku[e]!=null)$Re("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Ku[e]._config;else if(n.parentLocale!=null)if(Ku[n.parentLocale]!=null)i=Ku[n.parentLocale]._config;else if(o=qee(n.parentLocale),o!=null)i=o._config;else return b5[n.parentLocale]||(b5[n.parentLocale]=[]),b5[n.parentLocale].push({name:e,config:n}),null;return Ku[e]=new Nye(cge(i,n)),b5[e]&&b5[e].forEach(function(c){Wye(c.name,c.config)}),MO(e),Ku[e]}else return delete Ku[e],null}function C$e(e,n){if(n!=null){var o,i,c=s2e;Ku[e]!=null&&Ku[e].parentLocale!=null?Ku[e].set(cge(Ku[e]._config,n)):(i=qee(e),i!=null&&(c=i._config),n=cge(c,n),i==null&&(n.abbr=e),o=new Nye(n),o.parentLocale=Ku[e],Ku[e]=o),MO(e)}else Ku[e]!=null&&(Ku[e].parentLocale!=null?(Ku[e]=Ku[e].parentLocale,e===MO()&&MO(e)):Ku[e]!=null&&delete Ku[e]);return Ku[e]}function EA(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return B6;if(!kS(e)){if(n=qee(e),n)return n;e=[e]}return y$e(e)}function E$e(){return uge(Ku)}function Gye(e){var n,o=e._a;return o&&la(e).overflow===-2&&(n=o[tA]<0||o[tA]>11?tA:o[vE]<1||o[vE]>$ye(o[_g],o[tA])?vE:o[zf]<0||o[zf]>24||o[zf]===24&&(o[TS]!==0||o[nA]!==0||o[Y2]!==0)?zf:o[TS]<0||o[TS]>59?TS:o[nA]<0||o[nA]>59?nA:o[Y2]<0||o[Y2]>999?Y2:-1,la(e)._overflowDayOfYear&&(n<_g||n>vE)&&(n=vE),la(e)._overflowWeeks&&n===-1&&(n=THe),la(e)._overflowWeekday&&n===-1&&(n=xHe),la(e).overflow=n),e}var w$e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_$e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,A$e=/Z|[+-]\d\d(?::?\d\d)?/,YY=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],gpe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],T$e=/^\/?Date\((-?\d+)/i,x$e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,O$e={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function r2e(e){var n,o,i=e._i,c=w$e.exec(i)||_$e.exec(i),d,p,v,S,_=YY.length,x=gpe.length;if(c){for(la(e).iso=!0,n=0,o=_;n<o;n++)if(YY[n][1].exec(c[1])){p=YY[n][0],d=YY[n][2]!==!1;break}if(p==null){e._isValid=!1;return}if(c[3]){for(n=0,o=x;n<o;n++)if(gpe[n][1].exec(c[3])){v=(c[2]||" ")+gpe[n][0];break}if(v==null){e._isValid=!1;return}}if(!d&&v!=null){e._isValid=!1;return}if(c[4])if(A$e.exec(c[4]))S="Z";else{e._isValid=!1;return}e._f=p+(v||"")+(S||""),Zye(e)}else e._isValid=!1}function I$e(e,n,o,i,c,d){var p=[R$e(e),KRe.indexOf(n),parseInt(o,10),parseInt(i,10),parseInt(c,10)];return d&&p.push(parseInt(d,10)),p}function R$e(e){var n=parseInt(e,10);return n<=49?2e3+n:n<=999?1900+n:n}function k$e(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function D$e(e,n,o){if(e){var i=t2e.indexOf(e),c=new Date(n[0],n[1],n[2]).getDay();if(i!==c)return la(o).weekdayMismatch=!0,o._isValid=!1,!1}return!0}function M$e(e,n,o){if(e)return O$e[e];if(n)return 0;var i=parseInt(o,10),c=i%100,d=(i-c)/100;return d*60+c}function i2e(e){var n=x$e.exec(k$e(e._i)),o;if(n){if(o=I$e(n[4],n[3],n[2],n[5],n[6],n[7]),!D$e(n[1],o,e))return;e._a=o,e._tzm=M$e(n[8],n[9],n[10]),e._d=N6.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),la(e).rfc2822=!0}else e._isValid=!1}function P$e(e){var n=T$e.exec(e._i);if(n!==null){e._d=new Date(+n[1]);return}if(r2e(e),e._isValid===!1)delete e._isValid;else return;if(i2e(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Ts.createFromInputFallback(e)}Ts.createFromInputFallback=r1("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function YL(e,n,o){return e??n??o}function N$e(e){var n=new Date(Ts.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function qye(e){var n,o,i=[],c,d,p;if(!e._d){for(c=N$e(e),e._w&&e._a[vE]==null&&e._a[tA]==null&&L$e(e),e._dayOfYear!=null&&(p=YL(e._a[_g],c[_g]),(e._dayOfYear>r6(p)||e._dayOfYear===0)&&(la(e)._overflowDayOfYear=!0),o=N6(p,0,e._dayOfYear),e._a[tA]=o.getUTCMonth(),e._a[vE]=o.getUTCDate()),n=0;n<3&&e._a[n]==null;++n)e._a[n]=i[n]=c[n];for(;n<7;n++)e._a[n]=i[n]=e._a[n]==null?n===2?1:0:e._a[n];e._a[zf]===24&&e._a[TS]===0&&e._a[nA]===0&&e._a[Y2]===0&&(e._nextDay=!0,e._a[zf]=0),e._d=(e._useUTC?N6:UHe).apply(null,i),d=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[zf]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==d&&(la(e).weekdayMismatch=!0)}}function L$e(e){var n,o,i,c,d,p,v,S,_;n=e._w,n.GG!=null||n.W!=null||n.E!=null?(d=1,p=4,o=YL(n.GG,e._a[_g],L6(wu(),1,4).year),i=YL(n.W,1),c=YL(n.E,1),(c<1||c>7)&&(S=!0)):(d=e._locale._week.dow,p=e._locale._week.doy,_=L6(wu(),d,p),o=YL(n.gg,e._a[_g],_.year),i=YL(n.w,_.week),n.d!=null?(c=n.d,(c<0||c>6)&&(S=!0)):n.e!=null?(c=n.e+d,(n.e<0||n.e>6)&&(S=!0)):c=d),i<1||i>sA(o,d,p)?la(e)._overflowWeeks=!0:S!=null?la(e)._overflowWeekday=!0:(v=e2e(o,i,c,d,p),e._a[_g]=v.year,e._dayOfYear=v.dayOfYear)}Ts.ISO_8601=function(){};Ts.RFC_2822=function(){};function Zye(e){if(e._f===Ts.ISO_8601){r2e(e);return}if(e._f===Ts.RFC_2822){i2e(e);return}e._a=[],la(e).empty=!0;var n=""+e._i,o,i,c,d,p,v=n.length,S=0,_,x;for(c=URe(e._f,e._locale).match(Lye)||[],x=c.length,o=0;o<x;o++)d=c[o],i=(n.match(wHe(d,e))||[])[0],i&&(p=n.substr(0,n.indexOf(i)),p.length>0&&la(e).unusedInput.push(p),n=n.slice(n.indexOf(i)+i.length),S+=i.length),g3[d]?(i?la(e).empty=!1:la(e).unusedTokens.push(d),AHe(d,i,e)):e._strict&&!i&&la(e).unusedTokens.push(d);la(e).charsLeftOver=v-S,n.length>0&&la(e).unusedInput.push(n),e._a[zf]<=12&&la(e).bigHour===!0&&e._a[zf]>0&&(la(e).bigHour=void 0),la(e).parsedDateParts=e._a.slice(0),la(e).meridiem=e._meridiem,e._a[zf]=B$e(e._locale,e._a[zf],e._meridiem),_=la(e).era,_!==null&&(e._a[_g]=e._locale.erasConvertYear(_,e._a[_g])),qye(e),Gye(e)}function B$e(e,n,o){var i;return o==null?n:e.meridiemHour!=null?e.meridiemHour(n,o):(e.isPM!=null&&(i=e.isPM(o),i&&n<12&&(n+=12),!i&&n===12&&(n=0)),n)}function V$e(e){var n,o,i,c,d,p,v=!1,S=e._f.length;if(S===0){la(e).invalidFormat=!0,e._d=new Date(NaN);return}for(c=0;c<S;c++)d=0,p=!1,n=Pye({},e),e._useUTC!=null&&(n._useUTC=e._useUTC),n._f=e._f[c],Zye(n),Mye(n)&&(p=!0),d+=la(n).charsLeftOver,d+=la(n).unusedTokens.length*10,la(n).score=d,v?d<i&&(i=d,o=n):(i==null||d<i||p)&&(i=d,o=n,p&&(v=!0));EO(e,o||n)}function F$e(e){if(!e._d){var n=Bye(e._i),o=n.day===void 0?n.date:n.day;e._a=FRe([n.year,n.month,o,n.hour,n.minute,n.second,n.millisecond],function(i){return i&&parseInt(i,10)}),qye(e)}}function H$e(e){var n=new gz(Gye(a2e(e)));return n._nextDay&&(n.add(1,"d"),n._nextDay=void 0),n}function a2e(e){var n=e._i,o=e._f;return e._locale=e._locale||EA(e._l),n===null||o===void 0&&n===""?Hee({nullInput:!0}):(typeof n=="string"&&(e._i=n=e._locale.preparse(n)),DS(n)?new gz(Gye(n)):(mz(n)?e._d=n:kS(o)?V$e(e):o?Zye(e):$$e(e),Mye(e)||(e._d=null),e))}function $$e(e){var n=e._i;Ib(n)?e._d=new Date(Ts.now()):mz(n)?e._d=new Date(n.valueOf()):typeof n=="string"?P$e(e):kS(n)?(e._a=FRe(n.slice(0),function(o){return parseInt(o,10)}),qye(e)):uk(n)?F$e(e):gA(n)?e._d=new Date(n):Ts.createFromInputFallback(e)}function l2e(e,n,o,i,c){var d={};return(n===!0||n===!1)&&(i=n,n=void 0),(o===!0||o===!1)&&(i=o,o=void 0),(uk(e)&&Dye(e)||kS(e)&&e.length===0)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=c,d._l=o,d._i=e,d._f=n,d._strict=i,H$e(d)}function wu(e,n,o,i){return l2e(e,n,o,i,!1)}var U$e=r1("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=wu.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Hee()}),z$e=r1("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=wu.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Hee()});function c2e(e,n){var o,i;if(n.length===1&&kS(n[0])&&(n=n[0]),!n.length)return wu();for(o=n[0],i=1;i<n.length;++i)(!n[i].isValid()||n[i][e](o))&&(o=n[i]);return o}function j$e(){var e=[].slice.call(arguments,0);return c2e("isBefore",e)}function W$e(){var e=[].slice.call(arguments,0);return c2e("isAfter",e)}var G$e=function(){return Date.now?Date.now():+new Date},y5=["year","quarter","month","week","day","hour","minute","second","millisecond"];function q$e(e){var n,o=!1,i,c=y5.length;for(n in e)if(Tl(e,n)&&!(Sh.call(y5,n)!==-1&&(e[n]==null||!isNaN(e[n]))))return!1;for(i=0;i<c;++i)if(e[y5[i]]){if(o)return!1;parseFloat(e[y5[i]])!==ja(e[y5[i]])&&(o=!0)}return!0}function Z$e(){return this._isValid}function K$e(){return LS(NaN)}function Zee(e){var n=Bye(e),o=n.year||0,i=n.quarter||0,c=n.month||0,d=n.week||n.isoWeek||0,p=n.day||0,v=n.hour||0,S=n.minute||0,_=n.second||0,x=n.millisecond||0;this._isValid=q$e(n),this._milliseconds=+x+_*1e3+S*6e4+v*1e3*60*60,this._days=+p+d*7,this._months=+c+i*3+o*12,this._data={},this._locale=EA(),this._bubble()}function UX(e){return e instanceof Zee}function hge(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Y$e(e,n,o){var i=Math.min(e.length,n.length),c=Math.abs(e.length-n.length),d=0,p;for(p=0;p<i;p++)ja(e[p])!==ja(n[p])&&d++;return d+c}function u2e(e,n){Br(e,0,0,function(){var o=this.utcOffset(),i="+";return o<0&&(o=-o,i="-"),i+AE(~~(o/60),2)+n+AE(~~o%60,2)})}u2e("Z",":");u2e("ZZ","");cr("Z",Wee);cr("ZZ",Wee);Ec(["Z","ZZ"],function(e,n,o){o._useUTC=!0,o._tzm=Kye(Wee,e)});var X$e=/([\+\-]|\d\d)/gi;function Kye(e,n){var o=(n||"").match(e),i,c,d;return o===null?null:(i=o[o.length-1]||[],c=(i+"").match(X$e)||["-",0,0],d=+(c[1]*60)+ja(c[2]),d===0?0:c[0]==="+"?d:-d)}function Yye(e,n){var o,i;return n._isUTC?(o=n.clone(),i=(DS(e)||mz(e)?e.valueOf():wu(e).valueOf())-o.valueOf(),o._d.setTime(o._d.valueOf()+i),Ts.updateOffset(o,!1),o):wu(e).local()}function fge(e){return-Math.round(e._d.getTimezoneOffset())}Ts.updateOffset=function(){};function J$e(e,n,o){var i=this._offset||0,c;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Kye(Wee,e),e===null)return this}else Math.abs(e)<16&&!o&&(e=e*60);return!this._isUTC&&n&&(c=fge(this)),this._offset=e,this._isUTC=!0,c!=null&&this.add(c,"m"),i!==e&&(!n||this._changeInProgress?f2e(this,LS(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ts.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:fge(this)}function Q$e(e,n){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,n),this):-this.utcOffset()}function eUe(e){return this.utcOffset(0,e)}function tUe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(fge(this),"m")),this}function nUe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Kye(CHe,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function oUe(e){return this.isValid()?(e=e?wu(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function sUe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function rUe(){if(!Ib(this._isDSTShifted))return this._isDSTShifted;var e={},n;return Pye(e,this),e=a2e(e),e._a?(n=e._isUTC?xE(e._a):wu(e._a),this._isDSTShifted=this.isValid()&&Y$e(e._a,n.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function iUe(){return this.isValid()?!this._isUTC:!1}function aUe(){return this.isValid()?this._isUTC:!1}function d2e(){return this.isValid()?this._isUTC&&this._offset===0:!1}var lUe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,cUe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function LS(e,n){var o=e,i=null,c,d,p;return UX(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:gA(e)||!isNaN(+e)?(o={},n?o[n]=+e:o.milliseconds=+e):(i=lUe.exec(e))?(c=i[1]==="-"?-1:1,o={y:0,d:ja(i[vE])*c,h:ja(i[zf])*c,m:ja(i[TS])*c,s:ja(i[nA])*c,ms:ja(hge(i[Y2]*1e3))*c}):(i=cUe.exec(e))?(c=i[1]==="-"?-1:1,o={y:v2(i[2],c),M:v2(i[3],c),w:v2(i[4],c),d:v2(i[5],c),h:v2(i[6],c),m:v2(i[7],c),s:v2(i[8],c)}):o==null?o={}:typeof o=="object"&&("from"in o||"to"in o)&&(p=uUe(wu(o.from),wu(o.to)),o={},o.ms=p.milliseconds,o.M=p.months),d=new Zee(o),UX(e)&&Tl(e,"_locale")&&(d._locale=e._locale),UX(e)&&Tl(e,"_isValid")&&(d._isValid=e._isValid),d}LS.fn=Zee.prototype;LS.invalid=K$e;function v2(e,n){var o=e&&parseFloat(e.replace(",","."));return(isNaN(o)?0:o)*n}function DCe(e,n){var o={};return o.months=n.month()-e.month()+(n.year()-e.year())*12,e.clone().add(o.months,"M").isAfter(n)&&--o.months,o.milliseconds=+n-+e.clone().add(o.months,"M"),o}function uUe(e,n){var o;return e.isValid()&&n.isValid()?(n=Yye(n,e),e.isBefore(n)?o=DCe(e,n):(o=DCe(n,e),o.milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0}}function h2e(e,n){return function(o,i){var c,d;return i!==null&&!isNaN(+i)&&($Re(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=o,o=i,i=d),c=LS(o,i),f2e(this,c,e),this}}function f2e(e,n,o,i){var c=n._milliseconds,d=hge(n._days),p=hge(n._months);e.isValid()&&(i=i??!0,p&&XRe(e,P6(e,"Month")+p*o),d&&ZRe(e,"Date",P6(e,"Date")+d*o),c&&e._d.setTime(e._d.valueOf()+c*o),i&&Ts.updateOffset(e,d||p))}var dUe=h2e(1,"add"),hUe=h2e(-1,"subtract");function p2e(e){return typeof e=="string"||e instanceof String}function fUe(e){return DS(e)||mz(e)||p2e(e)||gA(e)||mUe(e)||pUe(e)||e===null||e===void 0}function pUe(e){var n=uk(e)&&!Dye(e),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c,d,p=i.length;for(c=0;c<p;c+=1)d=i[c],o=o||Tl(e,d);return n&&o}function mUe(e){var n=kS(e),o=!1;return n&&(o=e.filter(function(i){return!gA(i)&&p2e(e)}).length===0),n&&o}function gUe(e){var n=uk(e)&&!Dye(e),o=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],c,d;for(c=0;c<i.length;c+=1)d=i[c],o=o||Tl(e,d);return n&&o}function vUe(e,n){var o=e.diff(n,"days",!0);return o<-6?"sameElse":o<-1?"lastWeek":o<0?"lastDay":o<1?"sameDay":o<2?"nextDay":o<7?"nextWeek":"sameElse"}function bUe(e,n){arguments.length===1&&(arguments[0]?fUe(arguments[0])?(e=arguments[0],n=void 0):gUe(arguments[0])&&(n=arguments[0],e=void 0):(e=void 0,n=void 0));var o=e||wu(),i=Yye(o,this).startOf("day"),c=Ts.calendarFormat(this,i)||"sameElse",d=n&&(OE(n[c])?n[c].call(this,o):n[c]);return this.format(d||this.localeData().calendar(c,this,wu(o)))}function yUe(){return new gz(this)}function SUe(e,n){var o=DS(e)?e:wu(e);return this.isValid()&&o.isValid()?(n=i1(n)||"millisecond",n==="millisecond"?this.valueOf()>o.valueOf():o.valueOf()<this.clone().startOf(n).valueOf()):!1}function CUe(e,n){var o=DS(e)?e:wu(e);return this.isValid()&&o.isValid()?(n=i1(n)||"millisecond",n==="millisecond"?this.valueOf()<o.valueOf():this.clone().endOf(n).valueOf()<o.valueOf()):!1}function EUe(e,n,o,i){var c=DS(e)?e:wu(e),d=DS(n)?n:wu(n);return this.isValid()&&c.isValid()&&d.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(c,o):!this.isBefore(c,o))&&(i[1]===")"?this.isBefore(d,o):!this.isAfter(d,o))):!1}function wUe(e,n){var o=DS(e)?e:wu(e),i;return this.isValid()&&o.isValid()?(n=i1(n)||"millisecond",n==="millisecond"?this.valueOf()===o.valueOf():(i=o.valueOf(),this.clone().startOf(n).valueOf()<=i&&i<=this.clone().endOf(n).valueOf())):!1}function _Ue(e,n){return this.isSame(e,n)||this.isAfter(e,n)}function AUe(e,n){return this.isSame(e,n)||this.isBefore(e,n)}function TUe(e,n,o){var i,c,d;if(!this.isValid())return NaN;if(i=Yye(e,this),!i.isValid())return NaN;switch(c=(i.utcOffset()-this.utcOffset())*6e4,n=i1(n),n){case"year":d=zX(this,i)/12;break;case"month":d=zX(this,i);break;case"quarter":d=zX(this,i)/3;break;case"second":d=(this-i)/1e3;break;case"minute":d=(this-i)/6e4;break;case"hour":d=(this-i)/36e5;break;case"day":d=(this-i-c)/864e5;break;case"week":d=(this-i-c)/6048e5;break;default:d=this-i}return o?d:Z0(d)}function zX(e,n){if(e.date()<n.date())return-zX(n,e);var o=(n.year()-e.year())*12+(n.month()-e.month()),i=e.clone().add(o,"months"),c,d;return n-i<0?(c=e.clone().add(o-1,"months"),d=(n-i)/(i-c)):(c=e.clone().add(o+1,"months"),d=(n-i)/(c-i)),-(o+d)||0}Ts.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Ts.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function xUe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function OUe(e){if(!this.isValid())return null;var n=e!==!0,o=n?this.clone().utc():this;return o.year()<0||o.year()>9999?$X(o,n?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):OE(Date.prototype.toISOString)?n?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",$X(o,"Z")):$X(o,n?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function IUe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",n="",o,i,c,d;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",n="Z"),o="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",c="-MM-DD[T]HH:mm:ss.SSS",d=n+'[")]',this.format(o+i+c+d)}function RUe(e){e||(e=this.isUtc()?Ts.defaultFormatUtc:Ts.defaultFormat);var n=$X(this,e);return this.localeData().postformat(n)}function kUe(e,n){return this.isValid()&&(DS(e)&&e.isValid()||wu(e).isValid())?LS({to:this,from:e}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function DUe(e){return this.from(wu(),e)}function MUe(e,n){return this.isValid()&&(DS(e)&&e.isValid()||wu(e).isValid())?LS({from:this,to:e}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function PUe(e){return this.to(wu(),e)}function m2e(e){var n;return e===void 0?this._locale._abbr:(n=EA(e),n!=null&&(this._locale=n),this)}var g2e=r1("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function v2e(){return this._locale}var rQ=1e3,v3=60*rQ,iQ=60*v3,b2e=(365*400+97)*24*iQ;function b3(e,n){return(e%n+n)%n}function y2e(e,n,o){return e<100&&e>=0?new Date(e+400,n,o)-b2e:new Date(e,n,o).valueOf()}function S2e(e,n,o){return e<100&&e>=0?Date.UTC(e+400,n,o)-b2e:Date.UTC(e,n,o)}function NUe(e){var n,o;if(e=i1(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(o=this._isUTC?S2e:y2e,e){case"year":n=o(this.year(),0,1);break;case"quarter":n=o(this.year(),this.month()-this.month()%3,1);break;case"month":n=o(this.year(),this.month(),1);break;case"week":n=o(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=o(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=b3(n+(this._isUTC?0:this.utcOffset()*v3),iQ);break;case"minute":n=this._d.valueOf(),n-=b3(n,v3);break;case"second":n=this._d.valueOf(),n-=b3(n,rQ);break}return this._d.setTime(n),Ts.updateOffset(this,!0),this}function LUe(e){var n,o;if(e=i1(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(o=this._isUTC?S2e:y2e,e){case"year":n=o(this.year()+1,0,1)-1;break;case"quarter":n=o(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=o(this.year(),this.month()+1,1)-1;break;case"week":n=o(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=o(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=iQ-b3(n+(this._isUTC?0:this.utcOffset()*v3),iQ)-1;break;case"minute":n=this._d.valueOf(),n+=v3-b3(n,v3)-1;break;case"second":n=this._d.valueOf(),n+=rQ-b3(n,rQ)-1;break}return this._d.setTime(n),Ts.updateOffset(this,!0),this}function BUe(){return this._d.valueOf()-(this._offset||0)*6e4}function VUe(){return Math.floor(this.valueOf()/1e3)}function FUe(){return new Date(this.valueOf())}function HUe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function $Ue(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function UUe(){return this.isValid()?this.toISOString():null}function zUe(){return Mye(this)}function jUe(){return EO({},la(this))}function WUe(){return la(this).overflow}function GUe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Br("N",0,0,"eraAbbr");Br("NN",0,0,"eraAbbr");Br("NNN",0,0,"eraAbbr");Br("NNNN",0,0,"eraName");Br("NNNNN",0,0,"eraNarrow");Br("y",["y",1],"yo","eraYear");Br("y",["yy",2],0,"eraYear");Br("y",["yyy",3],0,"eraYear");Br("y",["yyyy",4],0,"eraYear");cr("N",Xye);cr("NN",Xye);cr("NNN",Xye);cr("NNNN",o5e);cr("NNNNN",s5e);Ec(["N","NN","NNN","NNNN","NNNNN"],function(e,n,o,i){var c=o._locale.erasParse(e,i,o._strict);c?la(o).era=c:la(o).invalidEra=e});cr("y",m4);cr("yy",m4);cr("yyy",m4);cr("yyyy",m4);cr("yo",r5e);Ec(["y","yy","yyy","yyyy"],_g);Ec(["yo"],function(e,n,o,i){var c;o._locale._eraYearOrdinalRegex&&(c=e.match(o._locale._eraYearOrdinalRegex)),o._locale.eraYearOrdinalParse?n[_g]=o._locale.eraYearOrdinalParse(e,c):n[_g]=parseInt(e,10)});function qUe(e,n){var o,i,c,d=this._eras||EA("en")._eras;for(o=0,i=d.length;o<i;++o){switch(typeof d[o].since){case"string":c=Ts(d[o].since).startOf("day"),d[o].since=c.valueOf();break}switch(typeof d[o].until){case"undefined":d[o].until=1/0;break;case"string":c=Ts(d[o].until).startOf("day").valueOf(),d[o].until=c.valueOf();break}}return d}function ZUe(e,n,o){var i,c,d=this.eras(),p,v,S;for(e=e.toUpperCase(),i=0,c=d.length;i<c;++i)if(p=d[i].name.toUpperCase(),v=d[i].abbr.toUpperCase(),S=d[i].narrow.toUpperCase(),o)switch(n){case"N":case"NN":case"NNN":if(v===e)return d[i];break;case"NNNN":if(p===e)return d[i];break;case"NNNNN":if(S===e)return d[i];break}else if([p,v,S].indexOf(e)>=0)return d[i]}function KUe(e,n){var o=e.since<=e.until?1:-1;return n===void 0?Ts(e.since).year():Ts(e.since).year()+(n-e.offset)*o}function YUe(){var e,n,o,i=this.localeData().eras();for(e=0,n=i.length;e<n;++e)if(o=this.clone().startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return i[e].name;return""}function XUe(){var e,n,o,i=this.localeData().eras();for(e=0,n=i.length;e<n;++e)if(o=this.clone().startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return i[e].narrow;return""}function JUe(){var e,n,o,i=this.localeData().eras();for(e=0,n=i.length;e<n;++e)if(o=this.clone().startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return i[e].abbr;return""}function QUe(){var e,n,o,i,c=this.localeData().eras();for(e=0,n=c.length;e<n;++e)if(o=c[e].since<=c[e].until?1:-1,i=this.clone().startOf("day").valueOf(),c[e].since<=i&&i<=c[e].until||c[e].until<=i&&i<=c[e].since)return(this.year()-Ts(c[e].since).year())*o+c[e].offset;return this.year()}function e5e(e){return Tl(this,"_erasNameRegex")||Jye.call(this),e?this._erasNameRegex:this._erasRegex}function t5e(e){return Tl(this,"_erasAbbrRegex")||Jye.call(this),e?this._erasAbbrRegex:this._erasRegex}function n5e(e){return Tl(this,"_erasNarrowRegex")||Jye.call(this),e?this._erasNarrowRegex:this._erasRegex}function Xye(e,n){return n.erasAbbrRegex(e)}function o5e(e,n){return n.erasNameRegex(e)}function s5e(e,n){return n.erasNarrowRegex(e)}function r5e(e,n){return n._eraYearOrdinalRegex||m4}function Jye(){var e=[],n=[],o=[],i=[],c,d,p,v,S,_=this.eras();for(c=0,d=_.length;c<d;++c)p=oA(_[c].name),v=oA(_[c].abbr),S=oA(_[c].narrow),n.push(p),e.push(v),o.push(S),i.push(p),i.push(v),i.push(S);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}Br(0,["gg",2],0,function(){return this.weekYear()%100});Br(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Kee(e,n){Br(0,[e,e.length],0,n)}Kee("gggg","weekYear");Kee("ggggg","weekYear");Kee("GGGG","isoWeekYear");Kee("GGGGG","isoWeekYear");cr("G",jee);cr("g",jee);cr("GG",_u,Zy);cr("gg",_u,Zy);cr("GGGG",Fye,Vye);cr("gggg",Fye,Vye);cr("GGGGG",zee,$ee);cr("ggggg",zee,$ee);bz(["gggg","ggggg","GGGG","GGGGG"],function(e,n,o,i){n[i.substr(0,2)]=ja(e)});bz(["gg","GG"],function(e,n,o,i){n[i]=Ts.parseTwoDigitYear(e)});function i5e(e){return C2e.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function a5e(e){return C2e.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function l5e(){return sA(this.year(),1,4)}function c5e(){return sA(this.isoWeekYear(),1,4)}function u5e(){var e=this.localeData()._week;return sA(this.year(),e.dow,e.doy)}function d5e(){var e=this.localeData()._week;return sA(this.weekYear(),e.dow,e.doy)}function C2e(e,n,o,i,c){var d;return e==null?L6(this,i,c).year:(d=sA(e,i,c),n>d&&(n=d),h5e.call(this,e,n,o,i,c))}function h5e(e,n,o,i,c){var d=e2e(e,n,o,i,c),p=N6(d.year,0,d.dayOfYear);return this.year(p.getUTCFullYear()),this.month(p.getUTCMonth()),this.date(p.getUTCDate()),this}Br("Q",0,"Qo","quarter");cr("Q",zRe);Ec("Q",function(e,n){n[tA]=(ja(e)-1)*3});function f5e(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Br("D",["DD",2],"Do","date");cr("D",_u,g4);cr("DD",_u,Zy);cr("Do",function(e,n){return e?n._dayOfMonthOrdinalParse||n._ordinalParse:n._dayOfMonthOrdinalParseLenient});Ec(["D","DD"],vE);Ec("Do",function(e,n){n[vE]=ja(e.match(_u)[0])});var E2e=v4("Date",!0);Br("DDD",["DDDD",3],"DDDo","dayOfYear");cr("DDD",Uee);cr("DDDD",jRe);Ec(["DDD","DDDD"],function(e,n,o){o._dayOfYear=ja(e)});function p5e(e){var n=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?n:this.add(e-n,"d")}Br("m",["mm",2],0,"minute");cr("m",_u,Hye);cr("mm",_u,Zy);Ec(["m","mm"],TS);var m5e=v4("Minutes",!1);Br("s",["ss",2],0,"second");cr("s",_u,Hye);cr("ss",_u,Zy);Ec(["s","ss"],nA);var g5e=v4("Seconds",!1);Br("S",0,0,function(){return~~(this.millisecond()/100)});Br(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Br(0,["SSS",3],0,"millisecond");Br(0,["SSSS",4],0,function(){return this.millisecond()*10});Br(0,["SSSSS",5],0,function(){return this.millisecond()*100});Br(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Br(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Br(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Br(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});cr("S",Uee,zRe);cr("SS",Uee,Zy);cr("SSS",Uee,jRe);var wO,w2e;for(wO="SSSS";wO.length<=9;wO+="S")cr(wO,m4);function v5e(e,n){n[Y2]=ja(("0."+e)*1e3)}for(wO="S";wO.length<=9;wO+="S")Ec(wO,v5e);w2e=v4("Milliseconds",!1);Br("z",0,0,"zoneAbbr");Br("zz",0,0,"zoneName");function b5e(){return this._isUTC?"UTC":""}function y5e(){return this._isUTC?"Coordinated Universal Time":""}var is=gz.prototype;is.add=dUe;is.calendar=bUe;is.clone=yUe;is.diff=TUe;is.endOf=LUe;is.format=RUe;is.from=kUe;is.fromNow=DUe;is.to=MUe;is.toNow=PUe;is.get=IHe;is.invalidAt=WUe;is.isAfter=SUe;is.isBefore=CUe;is.isBetween=EUe;is.isSame=wUe;is.isSameOrAfter=_Ue;is.isSameOrBefore=AUe;is.isValid=zUe;is.lang=g2e;is.locale=m2e;is.localeData=v2e;is.max=z$e;is.min=U$e;is.parsingFlags=jUe;is.set=RHe;is.startOf=NUe;is.subtract=hUe;is.toArray=HUe;is.toObject=$Ue;is.toDate=FUe;is.toISOString=OUe;is.inspect=IUe;typeof Symbol<"u"&&Symbol.for!=null&&(is[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});is.toJSON=UUe;is.toString=xUe;is.unix=VUe;is.valueOf=BUe;is.creationData=GUe;is.eraName=YUe;is.eraNarrow=XUe;is.eraAbbr=JUe;is.eraYear=QUe;is.year=qRe;is.isLeapYear=OHe;is.weekYear=i5e;is.isoWeekYear=a5e;is.quarter=is.quarters=f5e;is.month=JRe;is.daysInMonth=FHe;is.week=is.weeks=qHe;is.isoWeek=is.isoWeeks=ZHe;is.weeksInYear=u5e;is.weeksInWeekYear=d5e;is.isoWeeksInYear=l5e;is.isoWeeksInISOWeekYear=c5e;is.date=E2e;is.day=is.days=a$e;is.weekday=l$e;is.isoWeekday=c$e;is.dayOfYear=p5e;is.hour=is.hours=g$e;is.minute=is.minutes=m5e;is.second=is.seconds=g5e;is.millisecond=is.milliseconds=w2e;is.utcOffset=J$e;is.utc=eUe;is.local=tUe;is.parseZone=nUe;is.hasAlignedHourOffset=oUe;is.isDST=sUe;is.isLocal=iUe;is.isUtcOffset=aUe;is.isUtc=d2e;is.isUTC=d2e;is.zoneAbbr=b5e;is.zoneName=y5e;is.dates=r1("dates accessor is deprecated. Use date instead.",E2e);is.months=r1("months accessor is deprecated. Use month instead",JRe);is.years=r1("years accessor is deprecated. Use year instead",qRe);is.zone=r1("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Q$e);is.isDSTShifted=r1("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",rUe);function S5e(e){return wu(e*1e3)}function C5e(){return wu.apply(null,arguments).parseZone()}function _2e(e){return e}var xl=Nye.prototype;xl.calendar=iHe;xl.longDateFormat=uHe;xl.invalidDate=hHe;xl.ordinal=mHe;xl.preparse=_2e;xl.postformat=_2e;xl.relativeTime=vHe;xl.pastFuture=bHe;xl.set=sHe;xl.eras=qUe;xl.erasParse=ZUe;xl.erasConvertYear=KUe;xl.erasAbbrRegex=t5e;xl.erasNameRegex=e5e;xl.erasNarrowRegex=n5e;xl.months=NHe;xl.monthsShort=LHe;xl.monthsParse=VHe;xl.monthsRegex=$He;xl.monthsShortRegex=HHe;xl.week=zHe;xl.firstDayOfYear=GHe;xl.firstDayOfWeek=WHe;xl.weekdays=n$e;xl.weekdaysMin=s$e;xl.weekdaysShort=o$e;xl.weekdaysParse=i$e;xl.weekdaysRegex=u$e;xl.weekdaysShortRegex=d$e;xl.weekdaysMinRegex=h$e;xl.isPM=p$e;xl.meridiem=v$e;function aQ(e,n,o,i){var c=EA(),d=xE().set(i,n);return c[o](d,e)}function A2e(e,n,o){if(gA(e)&&(n=e,e=void 0),e=e||"",n!=null)return aQ(e,n,o,"month");var i,c=[];for(i=0;i<12;i++)c[i]=aQ(e,i,o,"month");return c}function Qye(e,n,o,i){typeof e=="boolean"?(gA(n)&&(o=n,n=void 0),n=n||""):(n=e,o=n,e=!1,gA(n)&&(o=n,n=void 0),n=n||"");var c=EA(),d=e?c._week.dow:0,p,v=[];if(o!=null)return aQ(n,(o+d)%7,i,"day");for(p=0;p<7;p++)v[p]=aQ(n,(p+d)%7,i,"day");return v}function E5e(e,n){return A2e(e,n,"months")}function w5e(e,n){return A2e(e,n,"monthsShort")}function _5e(e,n,o){return Qye(e,n,o,"weekdays")}function A5e(e,n,o){return Qye(e,n,o,"weekdaysShort")}function T5e(e,n,o){return Qye(e,n,o,"weekdaysMin")}MO("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var n=e%10,o=ja(e%100/10)===1?"th":n===1?"st":n===2?"nd":n===3?"rd":"th";return e+o}});Ts.lang=r1("moment.lang is deprecated. Use moment.locale instead.",MO);Ts.langData=r1("moment.langData is deprecated. Use moment.localeData instead.",EA);var L_=Math.abs;function x5e(){var e=this._data;return this._milliseconds=L_(this._milliseconds),this._days=L_(this._days),this._months=L_(this._months),e.milliseconds=L_(e.milliseconds),e.seconds=L_(e.seconds),e.minutes=L_(e.minutes),e.hours=L_(e.hours),e.months=L_(e.months),e.years=L_(e.years),this}function T2e(e,n,o,i){var c=LS(n,o);return e._milliseconds+=i*c._milliseconds,e._days+=i*c._days,e._months+=i*c._months,e._bubble()}function O5e(e,n){return T2e(this,e,n,1)}function I5e(e,n){return T2e(this,e,n,-1)}function MCe(e){return e<0?Math.floor(e):Math.ceil(e)}function R5e(){var e=this._milliseconds,n=this._days,o=this._months,i=this._data,c,d,p,v,S;return e>=0&&n>=0&&o>=0||e<=0&&n<=0&&o<=0||(e+=MCe(pge(o)+n)*864e5,n=0,o=0),i.milliseconds=e%1e3,c=Z0(e/1e3),i.seconds=c%60,d=Z0(c/60),i.minutes=d%60,p=Z0(d/60),i.hours=p%24,n+=Z0(p/24),S=Z0(x2e(n)),o+=S,n-=MCe(pge(S)),v=Z0(o/12),o%=12,i.days=n,i.months=o,i.years=v,this}function x2e(e){return e*4800/146097}function pge(e){return e*146097/4800}function k5e(e){if(!this.isValid())return NaN;var n,o,i=this._milliseconds;if(e=i1(e),e==="month"||e==="quarter"||e==="year")switch(n=this._days+i/864e5,o=this._months+x2e(n),e){case"month":return o;case"quarter":return o/3;case"year":return o/12}else switch(n=this._days+Math.round(pge(this._months)),e){case"week":return n/7+i/6048e5;case"day":return n+i/864e5;case"hour":return n*24+i/36e5;case"minute":return n*1440+i/6e4;case"second":return n*86400+i/1e3;case"millisecond":return Math.floor(n*864e5)+i;default:throw new Error("Unknown unit "+e)}}function wA(e){return function(){return this.as(e)}}var O2e=wA("ms"),D5e=wA("s"),M5e=wA("m"),P5e=wA("h"),N5e=wA("d"),L5e=wA("w"),B5e=wA("M"),V5e=wA("Q"),F5e=wA("y"),H5e=O2e;function $5e(){return LS(this)}function U5e(e){return e=i1(e),this.isValid()?this[e+"s"]():NaN}function Wk(e){return function(){return this.isValid()?this._data[e]:NaN}}var z5e=Wk("milliseconds"),j5e=Wk("seconds"),W5e=Wk("minutes"),G5e=Wk("hours"),q5e=Wk("days"),Z5e=Wk("months"),K5e=Wk("years");function Y5e(){return Z0(this.days()/7)}var j_=Math.round,e3={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function X5e(e,n,o,i,c){return c.relativeTime(n||1,!!o,e,i)}function J5e(e,n,o,i){var c=LS(e).abs(),d=j_(c.as("s")),p=j_(c.as("m")),v=j_(c.as("h")),S=j_(c.as("d")),_=j_(c.as("M")),x=j_(c.as("w")),P=j_(c.as("y")),B=d<=o.ss&&["s",d]||d<o.s&&["ss",d]||p<=1&&["m"]||p<o.m&&["mm",p]||v<=1&&["h"]||v<o.h&&["hh",v]||S<=1&&["d"]||S<o.d&&["dd",S];return o.w!=null&&(B=B||x<=1&&["w"]||x<o.w&&["ww",x]),B=B||_<=1&&["M"]||_<o.M&&["MM",_]||P<=1&&["y"]||["yy",P],B[2]=n,B[3]=+e>0,B[4]=i,X5e.apply(null,B)}function Q5e(e){return e===void 0?j_:typeof e=="function"?(j_=e,!0):!1}function e6e(e,n){return e3[e]===void 0?!1:n===void 0?e3[e]:(e3[e]=n,e==="s"&&(e3.ss=n-1),!0)}function t6e(e,n){if(!this.isValid())return this.localeData().invalidDate();var o=!1,i=e3,c,d;return typeof e=="object"&&(n=e,e=!1),typeof e=="boolean"&&(o=e),typeof n=="object"&&(i=Object.assign({},e3,n),n.s!=null&&n.ss==null&&(i.ss=n.s-1)),c=this.localeData(),d=J5e(this,!o,i,c),o&&(d=c.pastFuture(+this,d)),c.postformat(d)}var vpe=Math.abs;function PL(e){return(e>0)-(e<0)||+e}function Yee(){if(!this.isValid())return this.localeData().invalidDate();var e=vpe(this._milliseconds)/1e3,n=vpe(this._days),o=vpe(this._months),i,c,d,p,v=this.asSeconds(),S,_,x,P;return v?(i=Z0(e/60),c=Z0(i/60),e%=60,i%=60,d=Z0(o/12),o%=12,p=e?e.toFixed(3).replace(/\.?0+$/,""):"",S=v<0?"-":"",_=PL(this._months)!==PL(v)?"-":"",x=PL(this._days)!==PL(v)?"-":"",P=PL(this._milliseconds)!==PL(v)?"-":"",S+"P"+(d?_+d+"Y":"")+(o?_+o+"M":"")+(n?x+n+"D":"")+(c||i||e?"T":"")+(c?P+c+"H":"")+(i?P+i+"M":"")+(e?P+p+"S":"")):"P0D"}var cl=Zee.prototype;cl.isValid=Z$e;cl.abs=x5e;cl.add=O5e;cl.subtract=I5e;cl.as=k5e;cl.asMilliseconds=O2e;cl.asSeconds=D5e;cl.asMinutes=M5e;cl.asHours=P5e;cl.asDays=N5e;cl.asWeeks=L5e;cl.asMonths=B5e;cl.asQuarters=V5e;cl.asYears=F5e;cl.valueOf=H5e;cl._bubble=R5e;cl.clone=$5e;cl.get=U5e;cl.milliseconds=z5e;cl.seconds=j5e;cl.minutes=W5e;cl.hours=G5e;cl.days=q5e;cl.weeks=Y5e;cl.months=Z5e;cl.years=K5e;cl.humanize=t6e;cl.toISOString=Yee;cl.toString=Yee;cl.toJSON=Yee;cl.locale=m2e;cl.localeData=v2e;cl.toIsoString=r1("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yee);cl.lang=g2e;Br("X",0,0,"unix");Br("x",0,0,"valueOf");cr("x",jee);cr("X",EHe);Ec("X",function(e,n,o){o._d=new Date(parseFloat(e)*1e3)});Ec("x",function(e,n,o){o._d=new Date(ja(e))});//! moment.js
Ts.version="2.30.1";nHe(wu);Ts.fn=is;Ts.min=j$e;Ts.max=W$e;Ts.now=G$e;Ts.utc=xE;Ts.unix=S5e;Ts.months=E5e;Ts.isDate=mz;Ts.locale=MO;Ts.invalid=Hee;Ts.duration=LS;Ts.isMoment=DS;Ts.weekdays=_5e;Ts.parseZone=C5e;Ts.localeData=EA;Ts.isDuration=UX;Ts.monthsShort=w5e;Ts.weekdaysMin=T5e;Ts.defineLocale=Wye;Ts.updateLocale=C$e;Ts.locales=E$e;Ts.weekdaysShort=A5e;Ts.normalizeUnits=i1;Ts.relativeTimeRounding=Q5e;Ts.relativeTimeThreshold=e6e;Ts.calendarFormat=vUe;Ts.prototype=is;Ts.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const FXe=Object.freeze(Object.defineProperty({__proto__:null,default:Ts},Symbol.toStringTag,{value:"Module"}));/*! License details at fancyapps.com/license */const Pp=e=>typeof e=="string";/*! License details at fancyapps.com/license */const t3=e=>e&&e!==null&&e instanceof Element&&"nodeType"in e;/*! License details at fancyapps.com/license */const n6e=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;const n=e.scrollHeight>e.clientHeight,o=window.getComputedStyle(e).overflowY,i=o.indexOf("hidden")!==-1,c=o.indexOf("visible")!==-1;return n&&!i&&!c},dk=function(e,n=void 0){return!e||e===document.body||n&&e===n?null:n6e(e)?e:dk(e.parentElement,n)};/*! License details at fancyapps.com/license */const BO=function(e){var n=new DOMParser().parseFromString(e,"text/html").body;if(n.childElementCount>1){for(var o=document.createElement("div");n.firstChild;)o.appendChild(n.firstChild);return o}let i=n.firstChild;return!i||i instanceof HTMLElement?i:((o=document.createElement("div")).appendChild(i),o)};/*! License details at fancyapps.com/license */const el=function(e=0,n=0,o=0){return Math.max(Math.min(n,o),e)};/*! License details at fancyapps.com/license */const Tg=e=>typeof e=="object"&&e!==null&&e.constructor===Object&&Object.prototype.toString.call(e)==="[object Object]";/*! License details at fancyapps.com/license */function PCe(e){return Tg(e)||Array.isArray(e)}function V6(e,n){const o=Object.keys(e),i=Object.keys(n);return o.length===i.length&&o.every((c=>{const d=e[c],p=n[c];return typeof d=="function"?`${d}`==`${p}`:PCe(d)&&PCe(p)?V6(d,p):d===p}))}/*! License details at fancyapps.com/license */const I2e=function(e){for(const n of lQ)n.getState()===Av.Running&&n.tick(bpe?e-bpe:0);bpe=e,y3=window.requestAnimationFrame(I2e)};var Av,rO,n3;(function(e){e[e.Initializing=0]="Initializing",e[e.Running=1]="Running",e[e.Paused=2]="Paused",e[e.Completed=3]="Completed",e[e.Destroyed=4]="Destroyed"})(Av||(Av={})),(function(e){e[e.Spring=0]="Spring",e[e.Ease=1]="Ease"})(rO||(rO={})),(function(e){e[e.Loop=0]="Loop",e[e.Reverse=1]="Reverse"})(n3||(n3={}));const lQ=new Set;let y3=null,bpe=0;function VO(){let e=Av.Initializing,n=rO.Ease,o=0,i=0,c=VO.Easings.Linear,d=500,p=0,v=0,S=0,_=0,x=1/0,P=.01,B=.01,z=!1,U={},H=null,K={},oe={},ce={},re=0,ye=0,_e=n3.Loop,Oe=VO.Easings.Linear;const F=new Map;function Me(ct,...rt){for(const gt of F.get(ct)||[])gt(...rt)}function ot(ct){return i=0,ct?H=setTimeout((()=>{Fe()}),ct):Fe(),we}function Fe(){e=Av.Running,Me("start",K,oe)}function De(){if(e=Av.Completed,ce={},Me("end",K),e===Av.Completed)if(o<re){if(o++,_e===n3.Reverse){const ct=Object.assign({},U);U=Object.assign({},oe),oe=ct}ot(ye)}else o=0;return we}const we={getState:function(){return e},easing:function(ct){return c=ct,n=rO.Ease,ce={},we},duration:function(ct){return d=ct,we},spring:function(ct={}){n=rO.Spring;const rt={velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0},{velocity:gt,mass:ee,tension:on,friction:nt,restDelta:Mt,restSpeed:Pt,maxSpeed:st,clamp:vn}=Object.assign(Object.assign({},rt),ct);return p=gt,v=ee,S=on,_=nt,B=Mt,P=Pt,x=st,z=vn,ce={},we},isRunning:function(){return e===Av.Running},isSpring:function(){return n===rO.Spring},from:function(ct){return K=Object.assign({},ct),we},to:function(ct){return oe=ct,we},repeat:function(ct,rt=0,gt=n3.Loop,ee){return re=ct,ye=rt,_e=gt,Oe=ee||c,we},on:function(ct,rt){var gt,ee;return gt=ct,ee=rt,F.set(gt,[...F.get(gt)||[],ee]),we},off:function(ct,rt){var gt,ee;return gt=ct,ee=rt,F.has(gt)&&F.set(gt,F.get(gt).filter((on=>on!==ee))),we},start:function(ct){return V6(K,oe)||(e=Av.Initializing,U=Object.assign({},K),lQ.add(this),y3||(y3=window.requestAnimationFrame(I2e)),ot(ct)),we},pause:function(){return H&&(clearTimeout(H),H=null),e===Av.Running&&(e=Av.Paused,Me("pause",K)),we},end:De,tick:function(ct){ct>50&&(ct=50),i+=ct;let rt=0,gt=!1;if(e!==Av.Running)return we;if(n===rO.Ease){rt=el(0,i/d,1),gt=rt===1;const on=_e===n3.Reverse?Oe:c;for(const nt in K)K[nt]=U[nt]+(oe[nt]-U[nt])*on(rt)}if(n===rO.Spring){const on=.001*ct;let nt=0;for(const Mt in K){const Pt=oe[Mt];let st=K[Mt];if(typeof Pt!="number"||isNaN(Pt)||typeof st!="number"||isNaN(st))continue;if(Math.abs(Pt-st)<=B){K[Mt]=Pt,ce[Mt]=0;continue}ce[Mt]||(typeof p=="object"&&typeof p[Mt]=="number"?ce[Mt]=p[Mt]:ce[Mt]=typeof p=="number"?p:0);let vn=ce[Mt];vn=el(-1*Math.abs(x),vn,Math.abs(x));const To=vn*v*_;vn+=((st>Pt?-1:1)*(Math.abs(Pt-st)*S)-To)/v*on,st+=vn*on;const Nn=K[Mt]>Pt?st<Pt:st>Pt;let ho=Math.abs(vn)<P&&Math.abs(Pt-st)<=B;z&&Nn&&(ho=!0),ho?(st=Pt,vn=0):nt++,K[Mt]=st,ce[Mt]=vn}gt=!nt}const ee=Object.assign({},oe);return Me("step",K,U,oe,rt),gt&&e===Av.Running&&V6(oe,ee)&&(e=Av.Completed,De()),we},getStartValues:function(){return U},getCurrentValues:function(){return K},getCurrentVelocities:function(){return ce},getEndValues:function(){return oe},destroy:function(){e=Av.Destroyed,H&&(clearTimeout(H),H=null),U=K=oe={},lQ.delete(this)}};return we}VO.destroy=()=>{for(const e of lQ)e.destroy();y3&&(cancelAnimationFrame(y3),y3=null)},VO.Easings={Linear:function(e){return e},EaseIn:function(e){return e===0?0:Math.pow(2,10*e-10)},EaseOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},EaseInOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};/*! License details at fancyapps.com/license */function i6(e){return typeof TouchEvent<"u"&&e instanceof TouchEvent}function e0e(e,n){const o=[],i=i6(e)?e[n]:e instanceof MouseEvent&&(n==="changedTouches"||e.type!=="mouseup")?[e]:[];for(const c of i)o.push({x:c.clientX,y:c.clientY,ts:Date.now()});return o}function NCe(e){return e0e(e,"touches")}function LCe(e){return e0e(e,"targetTouches")}function R2e(e){return e0e(e,"changedTouches")}function Xx(e){const n=e[0],o=e[1]||n;return{x:(n.x+o.x)/2,y:(n.y+o.y)/2,ts:o.ts}}function XY(e){const n=e[0],o=e[1]||e[0];return n&&o?-1*Math.sqrt((o.x-n.x)*(o.x-n.x)+(o.y-n.y)*(o.y-n.y)):0}const BCe=e=>{e.cancelable&&e.preventDefault()},Vx={passive:!1},o6e={panThreshold:5,swipeThreshold:3,ignore:["textarea","input","select","[contenteditable]","[data-selectable]","[data-draggable]"]};let JY=!1,$5=!0;const j3=(e,n)=>{let o,i,c,d=Object.assign(Object.assign({},o6e),n),p=[],v=[],S=[],_=!1,x=!1,P=!1,B=!1,z=0,U=0,H=0,K=0,oe=0,ce=0,re=0,ye=0,_e=0,Oe=[],F=0,Me=0;const ot=new Map;function Fe(Mt){const Pt=XY(v),st=XY(S),vn=Pt&&st?Pt/st:0,To=Math.abs(re)>Math.abs(ye)?re:ye,Nn={srcEvent:o,isPanRecognized:_,isSwipeRecognized:x,firstTouch:p,previousTouch:S,currentTouch:v,deltaX:H,deltaY:K,offsetX:oe,offsetY:ce,velocityX:re,velocityY:ye,velocity:To,angle:_e,axis:c,scale:vn,center:i};for(const ho of ot.get(Mt)||[])ho(Nn)}function De(Mt){const Pt=Date.now();if(Oe=Oe.filter((st=>!st.ts||st.ts>Pt-100)),Mt&&Oe.push(Mt),re=0,ye=0,Oe.length>3){const st=Oe[0],vn=Oe[Oe.length-1];if(st&&vn){const To=vn.x-st.x,Nn=vn.y-st.y,ho=st.ts&&vn.ts?vn.ts-st.ts:0;ho>0&&(re=Math.abs(To)>3?To/(ho/30):0,ye=Math.abs(Nn)>3?Nn/(ho/30):0)}}}function we(Mt){if(typeof MouseEvent<"u"&&Mt instanceof MouseEvent){if(JY)return}else JY=!0;const Pt=Mt.composedPath()[0],st=d.ignore.join(",");if(Pt.matches(st)||Pt.closest(st))return;if(typeof MouseEvent<"u"&&Mt instanceof MouseEvent){if(!Mt.buttons||Mt.button!==0)return;BCe(Mt)}Mt instanceof MouseEvent&&(window.addEventListener("mousemove",ct),window.addEventListener("mouseup",rt)),window.addEventListener("blur",gt),o=Mt,v=LCe(Mt),p=[...v],S=[],U=v.length,i=Xx(v),U===1&&(_=!1,x=!1,P=!1),U&&De(Xx(v));const vn=Date.now(),To=vn-(z||vn);B=To>0&&To<=250&&U===1,z=vn,clearTimeout(F),Fe("start")}function ct(Mt){var Pt;if(!p.length||Mt.defaultPrevented)return;o=Mt,S=[...v],v=NCe(Mt);const st=Xx(S),vn=Xx(NCe(Mt));if(De(vn),U=v.length,i=vn,S.length===v.length?(H=vn.x-st.x,K=vn.y-st.y):(H=0,K=0),p.length){const To=Xx(p);oe=vn.x-To.x,ce=vn.y-To.y}if(v.length>1){const To=XY(v),Nn=XY(S);Math.abs(To-Nn)>=.1&&(P=!0,Fe("pinch"))}_||(_=Math.abs(oe)>d.panThreshold||Math.abs(ce)>d.panThreshold,_&&($5=!1,clearTimeout(Me),Me=0,_e=Math.abs(180*Math.atan2(ce,oe)/Math.PI),c=_e>45&&_e<135?"y":"x",p=[...v],S=[...v],oe=0,ce=0,H=0,K=0,(Pt=window.getSelection())===null||Pt===void 0||Pt.removeAllRanges(),Fe("panstart"))),_&&(H||K)&&Fe("pan"),Fe("move")}function rt(Mt){if(o=Mt,!p.length)return;const Pt=LCe(Mt),st=R2e(Mt);if(U=Pt.length,i=Xx(st),st.length&&De(Xx(st)),S=[...v],v=[...Pt],p=[...Pt],U>0)Fe("end"),_=!1,x=!1,Oe=[];else{const vn=d.swipeThreshold;(Math.abs(re)>vn||Math.abs(ye)>vn)&&(x=!0),_&&Fe("panend"),x&&Fe("swipe"),_||x||P||(Fe("tap"),B?Fe("doubleTap"):F=setTimeout((function(){Fe("singleTap")}),250)),Fe("end"),ee()}}function gt(){clearTimeout(F),ee(),_&&Fe("panend"),Fe("end")}function ee(){JY=!1,_=!1,x=!1,B=!1,U=0,Oe=[],v=[],S=[],p=[],H=0,K=0,oe=0,ce=0,re=0,ye=0,_e=0,c=void 0,window.removeEventListener("mousemove",ct),window.removeEventListener("mouseup",rt),window.removeEventListener("blur",gt),$5||Me||(Me=setTimeout((()=>{$5=!0,Me=0}),100))}function on(Mt){const Pt=Mt.target;JY=!1,Pt&&!Mt.defaultPrevented&&($5||(BCe(Mt),Mt.stopPropagation()))}const nt={init:function(){return e&&(e.addEventListener("click",on,Vx),e.addEventListener("mousedown",we,Vx),e.addEventListener("touchstart",we,Vx),e.addEventListener("touchmove",ct,Vx),e.addEventListener("touchend",rt),e.addEventListener("touchcancel",rt)),nt},on:function(Mt,Pt){return(function(st,vn){ot.set(st,[...ot.get(st)||[],vn])})(Mt,Pt),nt},off:function(Mt,Pt){return ot.has(Mt)&&ot.set(Mt,ot.get(Mt).filter((st=>st!==Pt))),nt},isPointerDown:()=>U>0,destroy:function(){clearTimeout(F),clearTimeout(Me),Me=0,e&&(e.removeEventListener("click",on,Vx),e.removeEventListener("mousedown",we,Vx),e.removeEventListener("touchstart",we,Vx),e.removeEventListener("touchmove",ct,Vx),e.removeEventListener("touchend",rt),e.removeEventListener("touchcancel",rt)),e=null,ee()}};return nt};j3.isClickAllowed=()=>$5;/*! License details at fancyapps.com/license */const t0e={IMAGE_ERROR:"This image couldn't be loaded. <br /> Please try again later.",MOVE_UP:"Move up",MOVE_DOWN:"Move down",MOVE_LEFT:"Move left",MOVE_RIGHT:"Move right",ZOOM_IN:"Zoom in",ZOOM_OUT:"Zoom out",TOGGLE_FULL:"Toggle zoom level",TOGGLE_1TO1:"Toggle zoom level",ITERATE_ZOOM:"Toggle zoom level",ROTATE_CCW:"Rotate counterclockwise",ROTATE_CW:"Rotate clockwise",FLIP_X:"Flip horizontally",FLIP_Y:"Flip vertically",RESET:"Reset",TOGGLE_FS:"Toggle fullscreen"};/*! License details at fancyapps.com/license */const Ui=(e,n="")=>{e&&e.classList&&n.split(" ").forEach((o=>{o&&e.classList.add(o)}))};/*! License details at fancyapps.com/license */const kb=(e,n="")=>{e&&e.classList&&n.split(" ").forEach((o=>{o&&e.classList.remove(o)}))};/*! License details at fancyapps.com/license */const bg=(e,n="",o)=>{e&&e.classList&&n.split(" ").forEach((i=>{i&&e.classList.toggle(i,o||!1)}))};/*! License details at fancyapps.com/license */const b2=e=>{e.cancelable&&e.preventDefault()},Sv=(e,n=1e4)=>(e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*n)/n),oE=e=>e instanceof HTMLImageElement;var lr,VCe;(function(e){e.Reset="reset",e.Zoom="zoom",e.ZoomIn="zoomIn",e.ZoomOut="zoomOut",e.ZoomTo="zoomTo",e.ToggleCover="toggleCover",e.ToggleFull="toggleFull",e.ToggleMax="toggleMax",e.IterateZoom="iterateZoom",e.Pan="pan",e.Swipe="swipe",e.Move="move",e.MoveLeft="moveLeft",e.MoveRight="moveRight",e.MoveUp="moveUp",e.MoveDown="moveDown",e.RotateCCW="rotateCCW",e.RotateCW="rotateCW",e.FlipX="flipX",e.FlipY="flipY",e.ToggleFS="toggleFS"})(lr||(lr={})),(function(e){e.Cover="cover",e.Full="full",e.Max="max"})(VCe||(VCe={}));const SS={x:0,y:0,scale:1,angle:0,flipX:1,flipY:1},mge={bounds:!0,classes:{container:"f-panzoom",wrapper:"f-panzoom__wrapper",content:"f-panzoom__content",viewport:"f-panzoom__viewport"},clickAction:lr.ToggleFull,dblClickAction:!1,gestures:{},height:"auto",l10n:t0e,maxScale:4,minScale:1,mouseMoveFactor:1,panMode:"drag",protected:!1,singleClickAction:!1,spinnerTpl:'<div class="f-spinner"></div>',wheelAction:lr.Zoom,width:"auto"};let QY,FCe=0,HCe=0,eX=0;const gge=(e,n={},o={})=>{let i,c,d,p,v,S,_,x,P=0,B=Object.assign(Object.assign({},mge),n),z={},U=Object.assign({},SS),H=Object.assign({},SS);const K=[];function oe(je){let Lt=B[je];return Lt&&typeof Lt=="function"?Lt(Dt):Lt}function ce(){return e&&e.parentElement&&i&&P===3}const re=new Map;function ye(je,...Lt){const Kt=[...re.get(je)||[]];B.on&&Kt.push(B.on[je]);for(const rn of Kt)rn&&rn instanceof Function&&rn(Dt,...Lt);je!=="*"&&ye("*",je,...Lt)}function _e(je){if(!ce())return;const Lt=je.target;if(dk(Lt))return;const Kt=Date.now(),rn=[-je.deltaX||0,-je.deltaY||0,-je.detail||0].reduce((function(Ko,Io){return Math.abs(Io)>Math.abs(Ko)?Io:Ko})),Ht=el(-1,rn,1);ye("wheel",je,Ht);const _t=oe("wheelAction");if(!_t||je.defaultPrevented)return;const go=H.scale;let Mo=go*(Ht>0?1.5:.5);if(_t===lr.Zoom){const Ko=Math.abs(je.deltaY)<100&&Math.abs(je.deltaX)<100;if(Kt-HCe<(Ko?200:45))return void b2(je);HCe=Kt;const Io=on(),bs=st();if(Sv(Mo)<Sv(Io)&&Sv(go)<=Sv(Io)?(eX+=Math.abs(Ht),Mo=Io):Sv(Mo)>Sv(bs)&&Sv(go)>=Sv(bs)?(eX+=Math.abs(Ht),Mo=bs):(eX=0,Mo=el(Io,Mo,bs)),eX>7)return}switch(b2(je),_t){case lr.Pan:ho(_t,{srcEvent:je,deltaX:2*-je.deltaX,deltaY:2*-je.deltaY});break;case lr.Zoom:ho(lr.ZoomTo,{srcEvent:je,scale:Mo,center:{x:je.clientX,y:je.clientY}});break;default:ho(_t,{srcEvent:je})}}function Oe(je){var Lt,Kt;const rn=je.composedPath()[0];if(!j3.isClickAllowed()||!t3(rn)||je.defaultPrevented||!e?.contains(rn)||rn.hasAttribute("disabled")||rn.hasAttribute("aria-disabled"))return;const Ht=rn.closest("[data-panzoom-action]"),_t=(Lt=Ht?.dataset)===null||Lt===void 0?void 0:Lt.panzoomAction,go=((Kt=Ht?.dataset)===null||Kt===void 0?void 0:Kt.panzoomValue)||"";if(_t){switch(b2(je),_t){case lr.ZoomTo:case lr.ZoomIn:case lr.ZoomOut:ho(_t,{scale:parseFloat(go||"")||void 0});break;case lr.MoveLeft:case lr.MoveRight:ho(_t,{deltaX:parseFloat(go||"")||void 0});break;case lr.MoveUp:case lr.MoveDown:ho(_t,{deltaY:parseFloat(go||"")||void 0});break;case lr.ToggleFS:Ze();break;default:ho(_t)}return}if(!i?.contains(rn))return;const Mo={srcEvent:je};if(ho(oe("clickAction"),Mo),oe("dblClickAction")){const Ko=Date.now(),Io=Ko-(FCe||Ko);FCe=Ko,Io>0&&Io<=250?(QY&&(clearTimeout(QY),QY=void 0),ho(oe("dblClickAction"),Mo)):QY=setTimeout((()=>{ho(oe("singleClickAction"),Mo)}),250)}}function F(je){if(x=je,!ce()||!rt()||U.scale<=1||H.scale<=1||(i?.dataset.animationName||"").indexOf("zoom")>-1)return;const Lt=gt(H.scale);if(!Lt)return;const{x:Kt,y:rn}=Lt;ho(lr.Pan,{deltaX:Kt-H.x,deltaY:rn-H.y})}function Me(){var je;e&&(kb(e,"is-loading"),(je=e.querySelector(".f-spinner"))===null||je===void 0||je.remove())}function ot(){if(!e||!c)return;if(Me(),oE(c)&&(!c.complete||!c.naturalWidth))return P=2,i?.classList.add("has-error"),void ye("error");ye("loaded");const{width:je,height:Lt}=we();oE(c)&&(c.setAttribute("width",je+""),c.setAttribute("height",Lt+"")),i&&(kb(i,"has-error"),oE(c)&&(i.setAttribute("width",je+""),i.setAttribute("height",Lt+""),i.style.aspectRatio=`${je/Lt||""}`)),S=VO().on("start",((rn,Ht)=>{Ht.angle!==void 0&&(Ht.angle=90*Math.round(Ht.angle/90)),Ht.flipX!==void 0&&(Ht.flipX=Ht.flipX>0?1:-1),Ht.flipY!==void 0&&(Ht.flipY=Ht.flipY>0?1:-1),H=Object.assign(Object.assign({},SS),Ht),Nn(),ye("animationStart")})).on("pause",(rn=>{H=Object.assign(Object.assign({},SS),rn)})).on("step",(rn=>{if(!ce())return void(S==null||S.end());if(U=Object.assign(Object.assign({},SS),rn),rt()||!oe("bounds")||kt()||H.scale>U.scale||H.scale<nt())return void qt();const Ht=vn(H.scale);let _t=!1,go=!1,Mo=!1,Ko=!1;U.x<Ht.x[0]&&(_t=!0),U.x>Ht.x[1]&&(go=!0),U.y<Ht.y[0]&&(Ko=!0),U.y>Ht.y[1]&&(Mo=!0);let Io=!1,bs=!1,Ps=!1,ys=!1;H.x<Ht.x[0]&&(Io=!0),H.x>Ht.x[1]&&(bs=!0),H.y<Ht.y[0]&&(ys=!0),H.y>Ht.y[1]&&(Ps=!0);let Zs=!1;(go&&bs||_t&&Io)&&(H.x=el(Ht.x[0],H.x,Ht.x[1]),Zs=!0),(Mo&&Ps||Ko&&ys)&&(H.y=el(Ht.y[0],H.y,Ht.y[1]),Zs=!0),Zs&&S&&S.spring({tension:94,friction:17,maxSpeed:555*H.scale,restDelta:.1,restSpeed:.1,velocity:S.getCurrentVelocities()}).from(U).to(H).start(),qt()})).on("end",(()=>{v?.isPointerDown()||To(),S?.isRunning()||(Nn(),ye("animationEnd"))})),(function(){const rn=oe("gestures");if(!rn||!p||!c)return;let Ht=!1;v=j3(p,rn).on("start",(_t=>{if(!oe("gestures")||!S||!ce()||rt())return;const go=_t.srcEvent;(U.scale>1||_t.currentTouch.length>1)&&(go?.stopPropagation(),S.pause(),Ht=!0),_t.currentTouch.length===1&&ye("touchStart")})).on("move",(_t=>{var go;Ht&&(H.scale!==1||_t.currentTouch.length>1)&&(b2(_t.srcEvent),(go=_t.srcEvent)===null||go===void 0||go.stopPropagation())})).on("pan",(_t=>{if(!Ht)return;const go=_t.srcEvent;(H.scale!==1||_t.currentTouch.length>1)&&(b2(go),ho(lr.Pan,_t))})).on("swipe",(_t=>{Ht&&H.scale>1&&ho(lr.Swipe,_t)})).on("tap",(_t=>{ye("click",_t)})).on("singleTap",(_t=>{ye("singleClick",_t)})).on("doubleTap",(_t=>{ye("dblClick",_t)})).on("pinch",(_t=>{Ht&&(_t.scale>nt()?ho(lr.ZoomIn,_t):_t.scale<nt()?ho(lr.ZoomOut,_t):ho(lr.Pan,_t))})).on("end",(_t=>{Ht&&(_t.currentTouch.length?(_t.srcEvent.stopPropagation(),b2(_t.srcEvent),S?.end()):(Ht=!1,Nn(),To(),ye("touchEnd")))})).init()})(),p&&(p.addEventListener("wheel",_e,{passive:!1}),K.push((()=>{p?.removeEventListener("wheel",_e,{passive:!1})}))),e?.addEventListener("click",Oe),document?.addEventListener("mousemove",F),K.push((()=>{e?.removeEventListener("click",Oe),document?.removeEventListener("mousemove",F)}));const Kt=Fe();U=Object.assign({},Kt),H=Object.assign({},Kt),P=3,qt(),Nn(),ye("ready"),requestAnimationFrame((()=>{Me(),p&&(p.style.visibility="")}))}function Fe(){const je=Object.assign({},oe("startPos")||{});let Lt=je.scale,Kt=1;Kt=typeof Lt=="string"?ee(Lt):typeof Lt=="number"?Lt:nt();const rn=Object.assign(Object.assign(Object.assign({},SS),je),{scale:Kt}),Ht=rt()?gt(Kt):void 0;if(Ht){const{x:_t,y:go}=Ht;rn.x=_t,rn.y=go}return rn}function De(){const je={top:0,left:0,width:0,height:0};if(i){const Lt=i.getBoundingClientRect();H.angle%180==90?(je.top=Lt.top+.5*Lt.height-.5*Lt.width,je.left=Lt.left+.5*Lt.width-.5*Lt.height,je.width=Lt.height,je.height=Lt.width):(je.top=Lt.top,je.left=Lt.left,je.width=Lt.width,je.height=Lt.height)}return je}function we(){let je=oe("width"),Lt=oe("height");if(c&&je==="auto"){const Kt=c.getAttribute("width");je=Kt?parseFloat(Kt+""):c.dataset.width!==void 0?parseFloat(c.dataset.width+""):oE(p)?p.naturalWidth:oE(c)?c.naturalWidth:i?.getBoundingClientRect().width||0}else je=Pp(je)?parseFloat(je):je;if(c&&Lt==="auto"){const Kt=c.getAttribute("height");Lt=Kt?parseFloat(Kt+""):c.dataset.height!==void 0?parseFloat(c.dataset.height+""):oE(p)?p.naturalHeight:oE(c)?c.naturalHeight:i?.getBoundingClientRect().height||0}else Lt=Pp(Lt)?parseFloat(Lt):Lt;return{width:je,height:Lt}}function ct(){const je=De();return{width:je.width,height:je.height}}function rt(){return oe("panMode")==="mousemove"&&matchMedia("(hover: hover)").matches}function gt(je){const Lt=x||oe("event"),Kt=i?.getBoundingClientRect();if(!Lt||!Kt||je<=1)return{x:0,y:0};const rn=(Lt.clientX||0)-Kt.left,Ht=(Lt.clientY||0)-Kt.top,{width:_t,height:go}=ct(),Mo=vn(je);if(je>1){const ys=oe("mouseMoveFactor");ys>1&&(je*=ys)}let Ko=_t*je,Io=go*je,bs=.5*(Ko-_t)-rn/_t*100/100*(Ko-_t),Ps=.5*(Io-go)-Ht/go*100/100*(Io-go);return bs=el(Mo.x[0],bs,Mo.x[1]),Ps=el(Mo.y[0],Ps,Mo.y[1]),{x:bs,y:Ps}}function ee(je="base"){if(!e)return 1;const Lt=e.getBoundingClientRect(),Kt=De(),{width:rn,height:Ht}=we(),_t=bs=>{if(typeof bs=="number")return bs;switch(bs){case"min":case"base":return 1;case"cover":return Math.max(Lt.height/Kt.height,Lt.width/Kt.width)||1;case"full":case"max":{const Ps=H.angle%180==90?Ht:rn;return Ps&&Kt.width?Ps/Kt.width:1}}},go=oe("minScale"),Mo=oe("maxScale"),Ko=Math.min(_t("full"),_t(go)),Io=typeof Mo=="number"?_t("full")*Mo:Math.min(_t("full"),_t(Mo));switch(je){case"min":return Ko;case"base":return el(Ko,1,Io);case"cover":return _t("cover");case"full":return Math.min(Io,_t("full"));case"max":return Io}}function on(){return ee("min")}function nt(){return ee("base")}function Mt(){return ee("cover")}function Pt(){return ee("full")}function st(){return ee("max")}function vn(je){const Lt={x:[0,0],y:[0,0]},Kt=e?.getBoundingClientRect();if(!Kt)return Lt;const rn=De(),Ht=Kt.width,_t=Kt.height;let go=rn.width,Mo=rn.height,Ko=je=je===void 0?H.scale:je,Io=je;if(rt()&&je>1){const bs=oe("mouseMoveFactor");bs>1&&(go*je>Ht+.01&&(Ko*=bs),Mo*je>_t+.01&&(Io*=bs))}return go*=Ko,Mo*=Io,je>1&&(go>Ht&&(Lt.x[0]=.5*(Ht-go),Lt.x[1]=.5*(go-Ht)),Lt.x[0]-=.5*(rn.left-Kt.left),Lt.x[1]-=.5*(rn.left-Kt.left),Lt.x[0]-=.5*(rn.left+rn.width-Kt.right),Lt.x[1]-=.5*(rn.left+rn.width-Kt.right),Mo>_t&&(Lt.y[0]=.5*(_t-Mo),Lt.y[1]=.5*(Mo-_t)),Lt.y[0]-=.5*(rn.top-Kt.top),Lt.y[1]-=.5*(rn.top-Kt.top),Lt.y[0]-=.5*(rn.top+rn.height-Kt.bottom),Lt.y[1]-=.5*(rn.top+rn.height-Kt.bottom)),Lt}function To(){if(!ce()||!oe("bounds")||!S)return;const je=on(),Lt=st(),Kt=el(je,H.scale,Lt);if(H.scale<je-.01||H.scale>Lt+.01)return void ho(lr.ZoomTo,{scale:Kt});if(S.isRunning()||kt())return;const rn=vn(Kt);H.x<rn.x[0]||H.x>rn.x[1]||H.y<rn.y[0]||H.y>rn.y[1]?(H.x=el(rn.x[0],H.x,rn.x[1]),H.y=el(rn.y[0],H.y,rn.y[1]),S.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:S.getCurrentVelocities()}),S.from(U).to(H).start()):qt()}function Nn(je){var Lt;if(!ce())return;const Kt=oo(),rn=kt(),Ht=bn(),_t=mn(),go=Se(),Mo=br();bg(i,"is-fullsize",_t),bg(i,"is-expanded",Ht),bg(i,"is-dragging",rn),bg(i,"can-drag",Kt),bg(i,"will-zoom-in",go),bg(i,"will-zoom-out",Mo);const Ko=as(),Io=Is(),bs=ws(),Ps=!ce();for(const ys of((Lt=je||e)===null||Lt===void 0?void 0:Lt.querySelectorAll("[data-panzoom-action]"))||[]){const Zs=ys.dataset.panzoomAction;let Ds=!1;if(Ps)Ds=!0;else switch(Zs){case lr.ZoomIn:Ko||(Ds=!0);break;case lr.ZoomOut:bs||(Ds=!0);break;case lr.ToggleFull:{Io||bs||(Ds=!0);const bt=ys.querySelector("g");bt&&(bt.style.display=_t&&!Ds?"none":"");break}case lr.IterateZoom:{Ko||bs||(Ds=!0);const bt=ys.querySelector("g");bt&&(bt.style.display=Ko||Ds?"":"none");break}case lr.ToggleCover:case lr.ToggleMax:Ko||bs||(Ds=!0)}Ds?(ys.setAttribute("aria-disabled",""),ys.setAttribute("tabindex","-1")):(ys.removeAttribute("aria-disabled"),ys.removeAttribute("tabindex"))}}function ho(je,Lt){var Kt;if(!(je&&e&&c&&S&&ce())||je===lr.Swipe&&Math.abs(S.getCurrentVelocities().scale)>.01)return;const rn=Object.assign({},H);let Ht=Object.assign({},H),_t=vn(rt()?rn.scale:U.scale);const go=S.getCurrentVelocities(),Mo=De(),Ko=(((Kt=(Lt=Lt||{}).currentTouch)===null||Kt===void 0?void 0:Kt.length)||0)>1,Io=Lt.velocityX||0,bs=Lt.velocityY||0;let Ps=Lt.center;Lt.srcEvent&&(Ps=Xx(R2e(Lt.srcEvent)));let ys=Lt.deltaX||0,Zs=Lt.deltaY||0;switch(je){case lr.MoveRight:ys=Lt.deltaX||100;break;case lr.MoveLeft:ys=Lt.deltaX||-100;break;case lr.MoveUp:Zs=Lt.deltaY||-100;break;case lr.MoveDown:Zs=Lt.deltaY||100}let Ds=[];switch(je){case lr.Reset:Ht=Object.assign({},SS),Ht.scale=nt();break;case lr.Pan:case lr.Move:case lr.MoveLeft:case lr.MoveRight:case lr.MoveUp:case lr.MoveDown:if(kt()){let Jt=1,jt=1;Ht.x<=_t.x[0]&&Io<=0&&(Jt=Math.max(.01,1-Math.abs(1/Mo.width*Math.abs(Ht.x-_t.x[0]))),Jt*=.2),Ht.x>=_t.x[1]&&Io>=0&&(Jt=Math.max(.01,1-Math.abs(1/Mo.width*Math.abs(Ht.x-_t.x[1]))),Jt*=.2),Ht.y<=_t.y[0]&&bs<=0&&(jt=Math.max(.01,1-Math.abs(1/Mo.height*Math.abs(Ht.y-_t.y[0]))),jt*=.2),Ht.y>=_t.y[1]&&bs>=0&&(jt=Math.max(.01,1-Math.abs(1/Mo.height*Math.abs(Ht.y-_t.y[1]))),jt*=.2),Ht.x+=ys*Jt,Ht.y+=Zs*jt}else Ht.x=el(_t.x[0],Ht.x+ys,_t.x[1]),Ht.y=el(_t.y[0],Ht.y+Zs,_t.y[1]);break;case lr.Swipe:const bt=(Jt=0)=>Math.sign(Jt)*Math.pow(Math.abs(Jt),1.5);Ht.x+=el(-1e3,bt(Io),1e3),Ht.y+=el(-1e3,bt(bs),1e3),bs&&!Io&&(Ht.x=el(_t.x[0],Ht.x,_t.x[1])),!bs&&Io&&(Ht.y=el(_t.y[0],Ht.y,_t.y[1])),go.x=Io,go.y=bs;break;case lr.ZoomTo:Ht.scale=Lt.scale||1;break;case lr.ZoomIn:Ht.scale=Ht.scale*(Lt.scale||2),Ko||(Ht.scale=Math.min(Ht.scale,st()));break;case lr.ZoomOut:Ht.scale=Ht.scale*(Lt.scale||.5),Ko||(Ht.scale=Math.max(Ht.scale,on()));break;case lr.ToggleCover:Ds=[nt(),Mt()];break;case lr.ToggleFull:Ds=[nt(),Pt()];break;case lr.ToggleMax:Ds=[nt(),st()];break;case lr.IterateZoom:Ds=[nt(),Pt(),st()];break;case lr.Zoom:const Vt=Pt();Ht.scale>=Vt-.05?Ht.scale=nt():Ht.scale=Math.min(Vt,Ht.scale*(Lt.scale||2));break;case lr.RotateCW:Ht.angle+=90;break;case lr.RotateCCW:Ht.angle-=90;break;case lr.FlipX:Ht.flipX*=-1;break;case lr.FlipY:Ht.flipY*=-1}if(U.angle!==void 0&&Math.abs(U.angle)>=360&&(Ht.angle-=360*Math.floor(U.angle/360),U.angle-=360*Math.floor(U.angle/360)),Ds.length){const bt=Ds.findIndex((Vt=>Vt>Ht.scale+1e-4));Ht.scale=Ds[bt]||Ds[0]}if(Ko&&(Ht.scale=el(on()*(Ko?.8:1),Ht.scale,st()*(Ko?1.6:1))),rt()){const bt=gt(Ht.scale);if(bt){const{x:Vt,y:Jt}=bt;Ht.x=Vt,Ht.y=Jt}}else if(Math.abs(Ht.scale-rn.scale)>1e-4){let bt=0,Vt=0;if(Ps)bt=Ps.x,Vt=Ps.y;else{const Zt=e.getBoundingClientRect();bt=Zt.x+.5*Zt.width,Vt=Zt.y+.5*Zt.height}let Jt=bt-Mo.left,jt=Vt-Mo.top;Jt-=.5*Mo.width,jt-=.5*Mo.height;const wo=(Jt-rn.x)/rn.scale,Jn=(jt-rn.y)/rn.scale;Ht.x=Jt-wo*Ht.scale,Ht.y=jt-Jn*Ht.scale,!Ko&&oe("bounds")&&(_t=vn(Ht.scale),Ht.x=el(_t.x[0],Ht.x,_t.x[1]),Ht.y=el(_t.y[0],Ht.y,_t.y[1]))}if(je===lr.Swipe){let bt=94,Vt=17,Jt=500*Ht.scale,jt=go;S.spring({tension:bt,friction:Vt,maxSpeed:Jt,restDelta:.1,restSpeed:.1,velocity:jt})}else je===lr.Pan||Ko?S.spring({tension:900,friction:17,restDelta:.01,restSpeed:.01,maxSpeed:1}):S.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:go});if(Lt.velocity===0||V6(U,Ht))U=Object.assign({},Ht),H=Object.assign({},Ht),S.end(),qt(),Nn();else{if(V6(H,Ht))return;S.from(U).to(Ht).start()}ye("action",je)}function qt(){if(!c||!i||!p)return;const{width:je,height:Lt}=we();Object.assign(i.style,{maxWidth:`min(${je}px, 100%)`,maxHeight:`min(${Lt}px, 100%)`});const Kt=(function(){const{width:ys,height:Zs}=we(),{width:Ds,height:bt}=ct();if(!e)return{x:0,y:0,width:0,height:0,scale:0,flipX:0,flipY:0,angle:0,fitWidth:Ds,fitHeight:bt,fullWidth:ys,fullHeight:Zs};let{x:Vt,y:Jt,scale:jt,angle:wo,flipX:Jn,flipY:Zt}=U,Zn=1/Pt(),eo=ys,jo=Zs,Ho=U.scale*Zn,wn=H.scale*Zn;const Vr=Math.max(Ds,bt),Ws=Math.min(Ds,bt);ys>Zs?(eo=Vr,jo=Ws):(eo=Ws,jo=Vr),Ho=ys>Zs?Vr*jt/ys||1:Vr*jt/Zs||1;let or=eo?ys*wn:0,ya=jo?Zs*wn:0,Ni=eo&&jo?ys*Ho/or:0;return Vt=Vt+.5*eo-.5*or,Jt=Jt+.5*jo-.5*ya,{x:Vt,y:Jt,width:or,height:ya,scale:Ni,flipX:Jn,flipY:Zt,angle:wo,fitWidth:Ds,fitHeight:bt,fullWidth:ys,fullHeight:Zs}})(),{x:rn,y:Ht,width:_t,height:go,scale:Mo,angle:Ko,flipX:Io,flipY:bs}=Kt;let Ps=`translate(${Sv(rn)}px, ${Sv(Ht)}px)`;Ps+=Io!==1||bs!==1?` scaleX(${Sv(Mo*Io)}) scaleY(${Sv(Mo*bs)})`:` scale(${Sv(Mo)})`,Ko!==0&&(Ps+=` rotate(${Ko}deg)`),p.style.width=`${Sv(_t)}px`,p.style.height=`${Sv(go)}px`,p.style.transform=`${Ps}`,ye("render")}function Tn(){let je=H.scale;const Lt=oe("clickAction");let Kt=nt();if(Lt){let rn=[];switch(Lt){case lr.ZoomIn:Kt=2*je;break;case lr.ZoomOut:Kt=.5*je;break;case lr.ToggleCover:rn=[nt(),Mt()];break;case lr.ToggleFull:rn=[nt(),Pt()];break;case lr.ToggleMax:rn=[nt(),st()];break;case lr.IterateZoom:rn=[nt(),Pt(),st()];break;case lr.Zoom:const Ht=Pt();Kt=je>=Ht-.05?nt():Math.min(Ht,2*je)}if(rn.length){const Ht=rn.findIndex((_t=>_t>je+1e-4));Kt=rn[Ht]||nt()}}return Kt=el(on(),Kt,st()),Kt}function Se(){return!!(ce()&&Tn()>H.scale)}function br(){return!!(ce()&&Tn()<H.scale)}function ws(){return!!(ce()&&H.scale>on())}function as(){return!!(ce()&&H.scale<st())}function Is(){return!!(ce()&&H.scale<Pt())}function oo(){return!(!(ce()&&bn()&&v)||rt())}function kt(){return!(!ce()||!v?.isPointerDown()||rt())}function bn(){return!!(ce()&&H.scale>nt())}function mn(){return!!(ce()&&H.scale>=Pt())}function Ze(){const je="in-fullscreen",Lt="with-panzoom-in-fullscreen";e?.classList.toggle(je);const Kt=e?.classList.contains(je);Kt?(document.documentElement.classList.add(Lt),document.addEventListener("keydown",mt,!0)):(document.documentElement.classList.remove(Lt),document.removeEventListener("keydown",mt,!0)),qt(),ye(Kt?"enterFS":"exitFS")}function mt(je){je.key!=="Escape"||je.defaultPrevented||Ze()}const Dt={canDrag:oo,canZoomIn:as,canZoomOut:ws,canZoomToFull:Is,destroy:function(){ye("destroy");for(const je of Object.values(z))je?.destroy(Dt);for(const je of K)je();return i&&(i.style.aspectRatio="",i.style.maxWidth="",i.style.maxHeight=""),p&&(p.style.width="",p.style.height="",p.style.transform=""),i=void 0,c=void 0,p=void 0,U=Object.assign({},SS),H=Object.assign({},SS),S?.destroy(),S=void 0,v?.destroy(),v=void 0,P=4,Dt},emit:ye,execute:ho,getBoundaries:vn,getContainer:function(){return e},getContent:function(){return c},getFullDim:we,getGestures:function(){return v},getMousemovePos:gt,getOptions:function(){return B},getPlugins:function(){return z},getScale:ee,getStartPosition:Fe,getState:function(){return P},getTransform:function(je){return je===!0?H:U},getTween:function(){return S},getViewport:function(){return p},getWrapper:function(){return i},init:function(){return P=0,ye("init"),(function(){for(const[je,Lt]of Object.entries(Object.assign(Object.assign({},o),B.plugins||{})))if(je&&!z[je]&&Lt instanceof Function){const Kt=Lt();Kt.init(Dt),z[je]=Kt}ye("initPlugins")})(),(function(){const je=Object.assign(Object.assign({},mge.classes),oe("classes"));if(e&&(Ui(e,je.container),c=e.querySelector("."+je.content),!!c)){if(c.setAttribute("draggable","false"),i=e.querySelector("."+je.wrapper),i||(i=document.createElement("div"),Ui(i,je.wrapper),c.insertAdjacentElement("beforebegin",i),i.insertAdjacentElement("afterbegin",c)),p=e.querySelector("."+je.viewport),p||(p=document.createElement("div"),Ui(p,je.viewport),p.insertAdjacentElement("afterbegin",c),i.insertAdjacentElement("beforeend",p)),d=c.cloneNode(!0),d.removeAttribute("id"),i.insertAdjacentElement("afterbegin",d),c instanceof HTMLPictureElement&&(c=c.querySelector("img")),d instanceof HTMLPictureElement&&(d=d.querySelector("img")),p instanceof HTMLPictureElement&&(p=p.querySelector("img")),p&&(p.style.visibility="hidden",oe("protected"))){p.addEventListener("contextmenu",(Kt=>{b2(Kt)}));const Lt=document.createElement("div");Ui(Lt,"f-panzoom__protected"),p.appendChild(Lt)}ye("initLayout")}})(),(function(){if(e&&i&&!_){let je=null;_=new ResizeObserver((()=>{ce()&&(je=je||requestAnimationFrame((()=>{ce()&&(Nn(),To(),ye("refresh")),je=null})))})),_.observe(i),K.push((()=>{_?.disconnect(),_=void 0,je&&(cancelAnimationFrame(je),je=null)}))}})(),(function(){if(!e||!c)return;if(!oE(c)||!oE(d))return void ot();const je=()=>{c&&oE(c)&&c.decode().then((()=>{ot()})).catch((()=>{ot()}))};if(P=1,e.classList.add("is-loading"),ye("loading"),d.src&&d.complete)return void je();(function(){if(!e||e?.querySelector(".f-spinner"))return;const Lt=oe("spinnerTpl"),Kt=BO(Lt);Kt&&(Kt.classList.add("f-spinner"),e.classList.add("is-loading"),i?.insertAdjacentElement("afterbegin",Kt))})(),d.addEventListener("load",je,!1),d.addEventListener("error",je,!1),K.push((()=>{d?.removeEventListener("load",je,!1),d?.removeEventListener("error",je,!1)}))})(),Dt},isDragging:kt,isExpanded:bn,isFullsize:mn,isMousemoveMode:rt,localize:function(je,Lt=[]){const Kt=oe("l10n")||{};je=String(je).replace(/\{\{(\w+)\}\}/g,((rn,Ht)=>Kt[Ht]||rn));for(let rn=0;rn<Lt.length;rn++)je=je.split(Lt[rn][0]).join(Lt[rn][1]);return je=je.replace(/\{\{(.*?)\}\}/g,((rn,Ht)=>Ht))},off:function(je,Lt){for(const Kt of je instanceof Array?je:[je])re.has(Kt)&&re.set(Kt,re.get(Kt).filter((rn=>rn!==Lt)));return Dt},on:function(je,Lt){for(const Kt of je instanceof Array?je:[je])re.set(Kt,[...re.get(Kt)||[],Lt]);return Dt},toggleFS:Ze,updateControls:Nn,version:"6.1.0",willZoomIn:Se,willZoomOut:br};return Dt};gge.l10n={en_EN:t0e},gge.getDefaults=()=>mge;/*! License details at fancyapps.com/license */const ype=(e,n)=>{let o=[];return e.childNodes.forEach((i=>{i.nodeType!==Node.ELEMENT_NODE||n&&!i.matches(n)||o.push(i)})),o};/*! License details at fancyapps.com/license */const Db=(e,...n)=>{const o=n.length;for(let i=0;i<o;i++){const c=n[i]||{};Object.entries(c).forEach((([d,p])=>{const v=Array.isArray(p)?[]:{};e[d]||Object.assign(e,{[d]:v}),Tg(p)?Object.assign(e[d],Db(e[d],p)):Array.isArray(p)?Object.assign(e,{[d]:[...p]}):Object.assign(e,{[d]:p})}))}return e};/*! License details at fancyapps.com/license */const cQ=function(e=0,n=0,o=0,i=0,c=0,d=!1){const p=(e-n)/(o-n)*(c-i)+i;return d?i<c?el(i,p,c):el(c,p,i):p};/*! License details at fancyapps.com/license */const n0e=Object.assign(Object.assign({},t0e),{ERROR:"Something went wrong. <br /> Please try again later.",NEXT:"Next page",PREV:"Previous page",GOTO:"Go to page #%d",DOWNLOAD:"Download",TOGGLE_FULLSCREEN:"Toggle full-screen mode",TOGGLE_EXPAND:"Toggle full-size mode",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_AUTOPLAY:"Toggle slideshow"});/*! License details at fancyapps.com/license */const y2=e=>{e.cancelable&&e.preventDefault()},XL={adaptiveHeight:!1,center:!0,classes:{container:"f-carousel",isEnabled:"is-enabled",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",hasAdaptiveHeight:"has-adaptive-height",viewport:"f-carousel__viewport",slide:"f-carousel__slide",isSelected:"is-selected"},dragFree:!1,enabled:!0,errorTpl:'<div class="f-html">{{ERROR}}</div>',fill:!1,infinite:!0,initialPage:0,l10n:n0e,rtl:!1,slides:[],slidesPerPage:"auto",spinnerTpl:'<div class="f-spinner"></div>',transition:"fade",tween:{clamp:!0,mass:1,tension:160,friction:25,restDelta:1,restSpeed:1,velocity:0},vertical:!1};let $Ce,UCe=0;const uQ=(e,n={},o={})=>{UCe++;let i,c,d,p,v,S=0,_=Object.assign({},XL),x=Object.assign({},XL),P={},B=null,z=null,U=!1,H=!1,K=!1,oe=!1,ce="height",re=0,ye=!0,_e=0,Oe=0,F=0,Me=0,ot="*",Fe=[],De=[];const we=new Set;let ct=[],rt=[],gt=0,ee=0,on=0;function nt(bt,...Vt){let Jt=x[bt];return Jt&&Jt instanceof Function?Jt(Ds,...Vt):Jt}function Mt(bt,Vt=[]){const Jt=nt("l10n")||{};bt=String(bt).replace(/\{\{(\w+)\}\}/g,((jt,wo)=>Jt[wo]||jt));for(let jt=0;jt<Vt.length;jt++)bt=bt.split(Vt[jt][0]).join(Vt[jt][1]);return bt=bt.replace(/\{\{(.*?)\}\}/g,((jt,wo)=>wo))}const Pt=new Map;function st(bt,...Vt){const Jt=[...Pt.get(bt)||[]];x.on&&Jt.push(x.on[bt]);for(const jt of Jt)jt&&jt instanceof Function&&jt(Ds,...Vt);bt!=="*"&&st("*",bt,...Vt)}function vn(){var bt,Vt;const Jt=Db({},XL,_);Db(Jt,XL,_);let jt="";const wo=_.breakpoints||{};if(wo)for(const[Jn,Zt]of Object.entries(wo))window.matchMedia(Jn).matches&&(jt+=Jn,Db(Jt,Zt));if(v===void 0||jt!==v){if(v=jt,S!==0){let Jn=(Vt=(bt=rt[_e])===null||bt===void 0?void 0:bt.slides[0])===null||Vt===void 0?void 0:Vt.index;Jn===void 0&&(Jn=x.initialSlide),Jt.initialSlide=Jn,Jt.slides=[];for(const Zt of Fe)Zt.isVirtual&&Jt.slides.push(Zt)}Ps(),x=Jt,x.enabled!==!1&&(S=0,st("init"),(function(){for(const[Jn,Zt]of Object.entries(Object.assign(Object.assign({},o),x.plugins||{})))if(Jn&&!P[Jn]&&Zt instanceof Function){const Zn=Zt();Zn.init(Ds,uQ),P[Jn]=Zn}st("initPlugins")})(),(function(){if(!B)return;const Jn=nt("classes")||{};Ui(B,Jn.container);const Zt=nt("style");if(Zt&&Tg(Zt))for(const[Zn,eo]of Object.entries(Zt))B.style.setProperty(Zn,eo);z=B.querySelector(`.${Jn.viewport}`),z||(z=document.createElement("div"),Ui(z,Jn.viewport),z.append(...ype(B,`.${Jn.slide}`)),B.insertAdjacentElement("afterbegin",z)),B.carousel=Ds,st("initLayout")})(),(function(){if(!z)return;const Jn=nt("classes")||{};Fe=[],[...ype(z,`.${Jn.slide}`)].forEach((Zt=>{if(Zt.parentElement){const Zn=bn(Object.assign({el:Zt,isVirtual:!1},Zt.dataset||{}));st("createSlide",Zn),Fe.push(Zn)}})),Dt();for(const Zt of Fe)st("addSlide",Zt);kt(nt("slides"));for(const Zt of Fe){const Zn=Zt.el;Zn?.parentElement===z&&(Ui(Zn,x.classes.slide),Ui(Zn,Zt.class),Mo(Zt),st("attachSlideEl",Zt))}st("initSlides")})(),je(),S=1,Ui(B,(nt("classes")||{}).isEnabled||""),bs(),Tn(),c=VO().on("start",(()=>{i&&i.isPointerDown()||(qt(),bs())})).on("step",(Jn=>{const Zt=re;re=Jn.pos,re!==Zt&&(ye=!1,bs())})).on("end",(Jn=>{i?.isPointerDown()||(re=Jn.pos,c&&!H&&(re<F||re>Me)?c.spring({clamp:!0,mass:1,tension:200,friction:25,velocity:0,restDelta:1,restSpeed:1}).from({pos:re}).to({pos:el(F,re,Me)}).start():ye||(ye=!0,st("settle")))})),Nn(),(function(){if(B&&z&&(B.addEventListener("click",Ht,{passive:!1}),document.addEventListener("mousemove",To),!d)){let Jn=!0,Zt=null;d=new ResizeObserver((()=>{Jn?Jn=!1:Zt||(Zt=requestAnimationFrame((()=>{(function(){if(S!==1||!z)return;const Zn=rt.length;je(),Nn();const eo=z.getBoundingClientRect(),jo=eo.height,Ho=eo.width;Zn>1&&(oe&&Math.abs(jo-gt)<.5||!oe&&Math.abs(Ho-ee)<.5)||(gt=jo,ee=Ho,oe&&!jo||!oe&&!Ho||B&&z&&(Zn===rt.length&&i?.isPointerDown()||(nt("dragFree")&&(H||re>F&&re<Me)?(qt(),bs()):Ko(_e,{transition:!1}))))})(),Zt=null})))})),d.observe(z)}})(),st("ready"))}}function To(bt){$Ce=bt}function Nn(){if(!z)return;const bt=nt("gestures");bt!==!1?i||(i=j3(z,bt).on("start",(Vt=>{var Jt,jt;if(!c)return;const{srcEvent:wo}=Vt;oe&&i6(wo)&&!dk(wo.target)&&y2(wo),c.pause(),c.getCurrentVelocities().pos=0;const Jn=(Jt=rt[_e])===null||Jt===void 0?void 0:Jt.slides[0];Jn&&we.has(Jn.index)&&Jn.el&&(re=Jn.offset||0,re+=((function(Zt){const Zn=window.getComputedStyle(Zt),eo=new DOMMatrixReadOnly(Zn.transform);return{width:eo.m41||0,height:eo.m42||0}})(Jn.el)[ce]||0)*(K&&!oe?1:-1)),Kt(),!H&&(re<F||re>Me)&&c.spring({clamp:!0,mass:1,tension:500,friction:25,velocity:((jt=c.getCurrentVelocities())===null||jt===void 0?void 0:jt.pos)||0,restDelta:1,restSpeed:1}).from({pos:re}).to({pos:el(F,re,Me)}).start()})).on("move",(Vt=>{var Jt,jt;const{srcEvent:wo,axis:Jn}=Vt,Zt=wo.target;if(Jn||(y2(wo),wo.stopPropagation(),wo.stopImmediatePropagation()),(Jn==="y"&&oe||Jn==="x"&&!oe)&&(y2(wo),wo.stopPropagation()),!Jn)return;const{deltaX:Zn,deltaY:eo}=Vt;if(!c||i6(wo)&&((Jt=wo.touches)===null||Jt===void 0?void 0:Jt.length)>1||Jn==="y"&&!oe||Jn==="x"&&oe||Zt&&dk(Zt)&&(Jn!=="x"||oe))return;const jo=K&&!oe?1:-1;let Ho=oe?eo:Zn,wn=c?.isRunning()?c.getEndValues().pos:re,Vr=1;H||(wn<=F&&Ho*jo<0?(Vr=Math.max(.01,1-(Math.abs(1/as()*Math.abs(wn-F))||0)),Vr*=.2):wn>=Me&&Ho*jo>0&&(Vr=Math.max(.01,1-(Math.abs(1/as()*Math.abs(wn-Me))||0)),Vr*=.2)),wn+=Ho*Vr*jo,c.spring({clamp:!0,mass:1,tension:700,friction:25,velocity:((jt=c.getCurrentVelocities())===null||jt===void 0?void 0:jt.pos)||0,restDelta:1,restSpeed:1}).from({pos:re}).to({pos:wn}).start()})).on("panstart",(Vt=>{Vt?.axis===(oe?"y":"x")&&Ui(z,"is-dragging")})).on("panend",(()=>{kb(z,"is-dragging")})).on("end",(Vt=>{var Jt,jt;const{srcEvent:wo,axis:Jn,velocityX:Zt,velocityY:Zn,currentTouch:eo}=Vt;if(eo.length>0||!c)return;const jo=wo.target,Ho=jo&&dk(jo)&&!(Jn==="x"&&!oe);oe&&i6(wo)&&!Vt.axis&&Ht(wo);const wn=rt.length,Vr=nt("dragFree");if(!wn)return;const Ws=nt("vertical")?Zn:Zt;let or=c?.isRunning()?c.getEndValues().pos:re;const ya=K&&!oe?1:-1;if(Ho||(or+=Ws*(Vr?5:1)*ya),!H&&(Ws*ya<=0&&or<F||Ws*ya>=0&&or>Me)){let sr=0;return Math.abs(Ws)>0&&(sr=2*Math.abs(Ws),sr=Math.min(.3*as(),sr)),or=el(F+-1*sr,or,Me+sr),void c.spring({clamp:!0,mass:1,tension:380,friction:25,velocity:-1*Ws,restDelta:1,restSpeed:1}).from({pos:re}).to({pos:or}).start()}if(Vr||!((Jt=P.Autoscroll)===null||Jt===void 0)&&Jt.isEnabled())return void(Math.abs(Ws)>10?c.spring({clamp:!0,mass:1,tension:150,friction:25,velocity:-1*Ws,restDelta:1,restSpeed:1}).from({pos:re}).to({pos:or}).start():c.isRunning()||ye||(ye=!0,st("settle")));if(!Vr&&!(!((jt=P.Autoscroll)===null||jt===void 0)&&jt.isEnabled())&&(!Vt.offsetX&&!Vt.offsetY||Jn==="y"&&!oe||Jn==="x"&&oe))return void Ko(_e,{transition:"tween"});let Ni=br(or);Math.abs(Ws)>10&&Ni===_e&&(Ni+=Ws>0?K&&!oe?1:-1:K&&!oe?-1:1),Ko(Ni,{transition:"tween",tween:{velocity:-1*Ws}})})).init()):i&&(i.destroy(),i=void 0)}function ho(bt="*"){var Vt;const Jt=[];for(const jt of Fe)(bt==="*"||jt.class&&jt.class.includes(bt)||jt.el&&(!((Vt=jt.el)===null||Vt===void 0)&&Vt.classList.contains(bt)))&&Jt.push(jt);p=void 0,ot=bt,De=[...Jt]}function qt(){if(!c)return;const bt=br(c?.isRunning()?c.getEndValues().pos:re);bt!==_e&&(p=_e,_e=bt,Mo(),Tn(),Se(),st("change",_e,p))}function Tn(){var bt;if(!B)return;bg(z,"is-draggable",!!i&&rt.length>0);for(const jt of B.querySelectorAll("[data-carousel-index]"))jt.innerHTML=_e+"";for(const jt of B.querySelectorAll("[data-carousel-page]"))jt.innerHTML=_e+1+"";for(const jt of B.querySelectorAll("[data-carousel-pages]"))jt.innerHTML=rt.length+"";for(const jt of B.querySelectorAll("[data-carousel-go-prev]"))jt.toggleAttribute("aria-disabled",!ys()),ys()?jt.removeAttribute("tabindex"):jt.setAttribute("tabindex","-1");for(const jt of B.querySelectorAll("[data-carousel-go-next]"))jt.toggleAttribute("aria-disabled",!Zs()),Zs()?jt.removeAttribute("tabindex"):jt.setAttribute("tabindex","-1");let Vt=!1;const Jt=(bt=rt[_e])===null||bt===void 0?void 0:bt.slides[0];Jt&&(Jt.downloadSrc||Jt.type==="image"&&Jt.src)&&(Vt=!0);for(const jt of B.querySelectorAll("[data-carousel-download]"))jt.toggleAttribute("aria-disabled",!Vt)}function Se(bt){var Vt;bt||(bt=(Vt=rt[_e])===null||Vt===void 0?void 0:Vt.slides[0]);const Jt=bt?.el;if(Jt)for(const jt of Jt.querySelectorAll("[data-slide-index]"))jt.innerHTML=bt.index+1+""}function br(bt){var Vt,Jt,jt;if(!rt.length)return 0;const wo=Is();let Jn=bt;H?Jn-=Math.floor((bt-((Vt=rt[0])===null||Vt===void 0?void 0:Vt.pos))/wo)*wo||0:Jn=el((Jt=rt[0])===null||Jt===void 0?void 0:Jt.pos,bt,(jt=rt[rt.length-1])===null||jt===void 0?void 0:jt.pos);const Zt=new Map;let Zn=0;for(const jo of rt){const Ho=Math.abs(jo.pos-Jn),wn=Math.abs(jo.pos-Jn-wo),Vr=Math.abs(jo.pos-Jn+wo),Ws=Math.min(Ho,wn,Vr);Zt.set(Zn,Ws),Zn++}const eo=Zt.size>0?[...Zt.entries()].reduce(((jo,Ho)=>Ho[1]<jo[1]?Ho:jo)):[_e,0];return parseInt(eo[0])}function ws(){return on}function as(){let bt=0;return z&&(z.childElementCount||(z.style.display="grid"),bt=z.getBoundingClientRect()[ce]||0,z.style.display=""),bt}function Is(bt=!0){return De.reduce(((Vt,Jt)=>Vt+Jt.dim),0)+(De.length-(H&&bt?0:1))*on}function oo(bt){const Vt=Is(),Jt=as();if(!Vt||!z||!Jt)return[];const jt=[];bt=bt===void 0?re:bt,H&&(bt-=Math.floor(bt/Vt)*Vt||0);let wo=0,Jn=0;if(U){const Zn=z.getBoundingClientRect();wo=Math.abs(Zn[oe?"top":"left"]),Jn=Math.abs(window[oe?"innerHeight":"innerWidth"]-Zn[oe?"bottom":"right"])}let Zt=0;for(let Zn of De){const eo=(jo=0)=>{jt.indexOf(Zn)>-1||(Zn.pos=Zt-bt+jo||0,Zn.offset+jo>bt-Zn.dim-wo+.51&&Zn.offset+jo<bt+Jt+Jn-.51&&jt.push(Zn))};Zn.offset=Zt,H&&(eo(Vt),eo(-1*Vt)),eo(),Zt+=Zn.dim+on}return jt}function kt(bt,Vt){const Jt=[];for(const jt of Array.isArray(bt)?bt:[bt]){const wo=bn(Object.assign(Object.assign({},jt),{isVirtual:!0}));wo.el||(wo.el=document.createElement("div")),st("createSlide",wo),Jt.push(wo)}Fe.splice(Vt===void 0?Fe.length:Vt,0,...Jt),Dt();for(const jt of Jt)st("addSlide",jt),mn(jt);return ho(ot),Jt}function bn(bt){return(Pp(bt)||bt instanceof HTMLElement)&&(bt={html:bt}),Object.assign({index:-1,el:void 0,class:"",isVirtual:!0,dim:0,pos:0,offset:0,html:"",src:""},bt)}function mn(bt){let Vt=bt.el;if(!bt||!Vt)return;const Jt=bt.html?bt.html instanceof HTMLElement?bt.html:BO(bt.html):void 0;Jt&&(Ui(Jt,"f-html"),bt.htmlEl=Jt,Ui(Vt,"has-html"),Vt.append(Jt),st("contentReady",bt))}function Ze(bt){if(!z||!bt)return;let Vt=bt.el;if(Vt){if(Vt.setAttribute("index",bt.index+""),Vt.parentElement!==z){let Jt;Ui(Vt,x.classes.slide),Ui(Vt,bt.class),Mo(bt);for(const jt of Fe)if(jt.index>bt.index){Jt=jt.el;break}z.insertBefore(Vt,Jt&&z.contains(Jt)?Jt:null),st("attachSlideEl",bt)}return Se(bt),Vt}}function mt(bt){const Vt=bt?.el;Vt&&(Vt.remove(),Lt(Vt),st("detachSlideEl",bt))}function Dt(){for(let bt=0;bt<Fe.length;bt++){const Vt=Fe[bt],Jt=Vt.el;Jt&&(Vt.index!==bt&&Lt(Jt),Jt.setAttribute("index",`${bt}`)),Vt.index=bt}}function je(){var bt,Vt,Jt,jt,wo;if(!B||!z)return;K=nt("rtl"),oe=nt("vertical"),ce=oe?"height":"width";const Jn=nt("classes");if(bg(B,Jn.isLTR,!K),bg(B,Jn.isRTL,K),bg(B,Jn.isHorizontal,!oe),bg(B,Jn.isVertical,oe),bg(B,Jn.hasAdaptiveHeight,nt("adaptiveHeight")),!as())return;const Zt=window.getComputedStyle(z);U=Zt.getPropertyValue("overflow-"+(oe?"y":"x"))==="visible",on=z&&parseFloat(Zt.getPropertyValue("--f-carousel-gap"))||0;const Zn=(function(){let eo=0;if(z){let jo=document.createElement("div");jo.style.display="block",Ui(jo,x.classes.slide),z.appendChild(jo),eo=jo.getBoundingClientRect()[ce],jo.remove(),jo=void 0}return eo})();for(const eo of De){const jo=eo.el;let Ho=0;if(!eo.isVirtual&&jo&&t3(jo)){let wn=!1;jo.parentElement&&jo.parentElement===z||(z.appendChild(jo),wn=!0),Ho=jo.getBoundingClientRect()[ce],wn&&((bt=jo.parentElement)===null||bt===void 0||bt.removeChild(jo))}else Ho=Zn;eo.dim=Ho}if(H=!1,nt("infinite")){H=!0;const eo=Is();let jo=as();if(U){const Ho=z.getBoundingClientRect();jo+=Ho.left,jo+=Ho.right-Ho.width}for(let Ho=0;Ho<De.length;Ho++){const wn=((Vt=De[Ho])===null||Vt===void 0?void 0:Vt.dim)+on;if(eo-wn<jo&&eo-wn-jo<wn){H=!1;break}}}if((function(){var eo;if(!B)return;const jo=as(),Ho=Is(!1);let wn=nt("slidesPerPage");wn=wn==="auto"?1/0:parseFloat(wn+""),rt=[];let Vr=0,Ws=0;for(const ps of De)(!rt.length||Vr+ps.dim-jo>.05||Ws>=wn)&&(rt.push({index:rt.length,slides:[],dim:0,offset:0,pos:0}),Vr=0,Ws=0),(eo=rt[rt.length-1])===null||eo===void 0||eo.slides.push(ps),Vr+=ps.dim+on,Ws++;const or=nt("center"),ya=nt("fill");let Ni=0;for(const ps of rt){ps.dim=(ps.slides.length-1)*on;for(const ul of ps.slides)ps.dim+=ul.dim;ps.offset=Ni,ps.pos=Ni,or!==!1&&(ps.pos-=.5*(jo-ps.dim)),ya&&!H&&Ho>jo&&(ps.pos=el(0,ps.pos,Ho-jo)),Ni+=ps.dim+on}const sr=[];let ts;for(const ps of rt){const ul=Object.assign({},ps);ts&&Math.abs(ul.pos-ts.pos)<.1?(ts.dim+=ul.dim,ts.slides=[...ts.slides,...ul.slides]):(ts=ul,ul.index=sr.length,sr.push(ul))}rt=sr,Tn()})(),F=((Jt=rt[0])===null||Jt===void 0?void 0:Jt.pos)||0,Me=((jt=rt[rt.length-1])===null||jt===void 0?void 0:jt.pos)||0,S===0)(function(){var eo;p=void 0,_e=nt("initialPage");const jo=nt("initialSlide")||void 0;jo!==void 0&&(_e=Ds.getPageIndex(jo)||0),_e=el(0,_e,rt.length-1),re=((eo=rt[_e])===null||eo===void 0?void 0:eo.pos)||0,Oe=re})();else{const eo=c?.isRunning()?c.getEndValues().pos:re;(eo<F||eo>Me)&&(Oe=((wo=rt[_e||0])===null||wo===void 0?void 0:wo.pos)||0,re=el(F,re,Me))}st("refresh")}function Lt(bt){if(!bt||!t3(bt))return;const Vt=parseInt(bt.getAttribute("index")||"-1");let Jt="";for(const wo of Array.from(bt.classList)){const Jn=wo.match(/^f-(\w+)(Out|In)$/);Jn&&Jn[1]&&(Jt=Jn[1]+"")}if(!bt||!Jt)return;const jt=[`f-${Jt}Out`,`f-${Jt}In`,"to-prev","to-next","from-prev","from-next"];bt.removeEventListener("animationend",rn),kb(bt,jt.join(" ")),we.delete(Vt)}function Kt(){if(!z)return;const bt=we.size>0;for(const Vt of De)Lt(Vt.el);we.clear(),bt&&bs()}function rn(bt){var Vt;((Vt=bt.animationName)===null||Vt===void 0?void 0:Vt.substring(0,2))==="f-"&&(Lt(bt.target),we.size||(kb(B,"in-transition"),!ye&&Math.abs(Ds.getPosition(!0)-Oe)<.5&&(ye=!0,st("settle"))),bs())}function Ht(bt){var Vt;if(bt.defaultPrevented)return;const Jt=bt.composedPath()[0];if(Jt.closest("[data-carousel-go-prev]"))return y2(bt),void Ds.prev();if(Jt.closest("[data-carousel-go-next]"))return y2(bt),void Ds.next();const jt=Jt.closest("[data-carousel-go-to]");if(jt)return y2(bt),void Ds.goTo(parseFloat(jt.dataset.carouselGoTo||"")||0);if(Jt.closest("[data-carousel-download]")){y2(bt);const wo=(Vt=rt[_e])===null||Vt===void 0?void 0:Vt.slides[0];if(wo&&(wo.downloadSrc||wo.type==="image"&&wo.src)){const Jn=wo.downloadFilename,Zt=document.createElement("a"),Zn=wo.downloadSrc||wo.src||"";Zt.href=Zn,Zt.target="_blank",Zt.download=Jn||Zn,Zt.click()}}else st("click",bt)}function _t(bt){var Vt;const Jt=bt.el;Jt&&((Vt=Jt.querySelector(".f-spinner"))===null||Vt===void 0||Vt.remove())}function go(bt){var Vt;const Jt=bt.el;Jt&&((Vt=Jt.querySelector(".f-html.is-error"))===null||Vt===void 0||Vt.remove(),kb(Jt,"has-error"))}function Mo(bt){var Vt;bt||(bt=(Vt=rt[_e])===null||Vt===void 0?void 0:Vt.slides[0]);const Jt=bt?.el;if(!Jt)return;let jt=nt("formatCaption",bt);jt===void 0&&(jt=bt.caption),jt=jt||"";const wo=nt("captionEl");if(wo&&wo instanceof HTMLElement){if(bt.index!==_e)return;if(Pp(jt)&&(wo.innerHTML=Mt(jt+"")),jt instanceof HTMLElement){if(jt.parentElement===wo)return;wo.innerHTML="",jt.parentElement&&(jt=jt.cloneNode(!0)),wo.append(jt)}return}if(!jt)return;let Jn=bt.captionEl||Jt.querySelector(".f-caption");!Jn&&jt instanceof HTMLElement&&jt.classList.contains("f-caption")&&(Jn=jt),Jn||(Jn=document.createElement("div"),Ui(Jn,"f-caption"),Pp(jt)?Jn.innerHTML=Mt(jt+""):jt instanceof HTMLElement&&(jt.parentElement&&(jt=jt.cloneNode(!0)),Jn.append(jt)));const Zt=`f-caption-${UCe}_${bt.index}`;Jn.setAttribute("id",Zt),Jn.dataset.selectable="true",Ui(Jt,"has-caption"),Jt.setAttribute("aria-labelledby",Zt),bt.captionEl=Jn,Jt.insertAdjacentElement("beforeend",Jn)}function Ko(bt,Vt={}){var Jt,jt;let{transition:wo,tween:Jn}=Object.assign({transition:x.transition,tween:x.tween},Vt||{});if(!B||!c)return;const Zt=rt.length;if(!Zt||(function(eo,jo){var Ho,wn,Vr,Ws;if(!(B&&c&&jo&&Pp(jo)&&jo!=="tween")||((Ho=rt[_e])===null||Ho===void 0?void 0:Ho.slides.length)>1)return!1;const or=rt.length;let ya=eo>_e?1:-1;eo=H?(eo%or+or)%or:el(0,eo,or-1),K&&(ya*=-1);const Ni=(wn=rt[_e])===null||wn===void 0?void 0:wn.slides[0],sr=Ni?.index,ts=(Vr=rt[eo])===null||Vr===void 0?void 0:Vr.slides[0],ps=ts?.index,ul=(Ws=rt[eo])===null||Ws===void 0?void 0:Ws.pos;if(ps===void 0||sr===void 0||sr===ps||re===ul||Math.abs(as()-(ts?.dim||0))>1)return!1;ye=!1,c.pause(),Kt(),Ui(B,"in-transition"),re=Oe=ul;const Dc=Ze(Ni),Fl=Ze(ts);return qt(),Dc&&(we.add(sr),Dc.style.transform="",Dc.addEventListener("animationend",rn),kb(Dc,x.classes.isSelected),Dc.inert=!1,Ui(Dc,`f-${jo}Out to-${ya>0?"next":"prev"}`)),Fl&&(we.add(ps),Fl.style.transform="",Fl.addEventListener("animationend",rn),Ui(Fl,x.classes.isSelected),Fl.inert=!1,Ui(Fl,`f-${jo}In from-${ya>0?"prev":"next"}`)),bs(),!0})(bt,wo))return;bt=H?(bt%Zt+Zt)%Zt:el(0,bt,Zt-1),Oe=((Jt=rt[bt||0])===null||Jt===void 0?void 0:Jt.pos)||0;const Zn=c.isRunning()?c.getEndValues().pos:re;if(Math.abs(Oe-Zn)<1)return re=Oe,_e!==bt&&(Mo(),Tn(),Se(),p=_e,_e=bt,st("change",_e,p)),bs(),void(ye||(ye=!0,st("settle")));if(c.pause(),Kt(),H){const eo=Is(),jo=Math.floor((Zn-((jt=rt[0])===null||jt===void 0?void 0:jt.pos))/eo)||0,Ho=Oe+jo*eo;Oe=[Ho+eo,Ho,Ho-eo].reduce((function(wn,Vr){return Math.abs(Vr-Zn)<Math.abs(wn-Zn)?Vr:wn}))}wo!==!1&&Tg(Jn)?c.spring(Db({},x.tween,Jn)).from({pos:re}).to({pos:Oe}).start():(re=Oe,qt(),bs(),ye||(ye=!0,st("settle")))}function Io(bt){var Vt;let Jt=re;if(H&&bt!==!0){const jt=Is();Jt-=(Math.floor((re-((Vt=rt[0])===null||Vt===void 0?void 0:Vt.pos)||0)/jt)||0)*jt}return Jt}function bs(){var bt;if(!B||!z)return;ct=oo();const Vt=new Set,Jt=[],jt=rt[_e],wo=x.setTransform||void 0;let Jn;for(const Zt of De){const Zn=we.has(Zt.index),eo=ct.indexOf(Zt)>-1,jo=((bt=jt?.slides)===null||bt===void 0?void 0:bt.indexOf(Zt))>-1;if(Zt.isVirtual&&!Zn&&!eo)continue;let Ho=Ze(Zt);if(Ho&&(Jt.push(Zt),jo&&Vt.add(Ho),nt("adaptiveHeight")&&jo)){const wn=(Ho.firstElementChild||Ho).getBoundingClientRect().height;Jn=Jn==null?wn:Math.max(Jn,wn)}}z&&Jn&&(z.style.height=`${Jn}px`),[...ype(z,`.${x.classes.slide}`)].forEach((Zt=>{bg(Zt,x.classes.isSelected,Vt.has(Zt));const Zn=Fe[parseInt(Zt.getAttribute("index")||"-1")];if(!Zn)return Zt.remove(),void Lt(Zt);const eo=we.has(Zn.index),jo=ct.indexOf(Zn)>-1;if(Zn.isVirtual&&!eo&&!jo)return void mt(Zn);Zt.inert=!jo;let Ho=Zn.pos?Math.round(1e4*Zn.pos)/1e4:0,wn=0,Vr=0,Ws=0,or=0;eo||(wn=oe?0:K?-1*Ho:Ho,Vr=oe?Ho:0,Ws=cQ(wn,0,Zn.dim,0,100),or=cQ(Vr,0,Zn.dim,0,100)),wo instanceof Function&&!eo?wo(Ds,Zn,{x:wn,y:Vr,xPercent:Ws,yPercent:or}):Zt.style.transform=wn||Vr?`translate3d(${Ws}%, ${or}%,0)`:""})),st("render",Jt)}function Ps(){var bt;B?.removeEventListener("click",Ht),Kt(),document.removeEventListener("mousemove",To),d?.disconnect(),d=void 0;for(const Vt of Fe)Vt.el&&t3(Vt.el)&&(Vt.state=void 0,_t(Vt),go(Vt),mt(Vt),Vt.isVirtual?((bt=Vt.el)===null||bt===void 0||bt.remove(),Vt.el=void 0):(Vt.el.style.transform="",z?.appendChild(Vt.el)));for(const Vt of Object.values(P))Vt?.destroy();P={},i?.destroy(),i=void 0,c?.destroy(),c=void 0;for(const[Vt,Jt]of Object.entries(x.classes||{}))Vt!=="container"&&kb(B,Jt);kb(z,"is-draggable")}function ys(){return H||_e>0}function Zs(){return H||_e<rt.length-1}const Ds={add:function(bt,Vt){var Jt,jt;let wo=re;const Jn=_e,Zt=Is(),Zn=c?.isRunning()?c.getEndValues().pos:re,eo=Zt&&Math.floor((Zn-(((Jt=rt[0])===null||Jt===void 0?void 0:Jt.pos)||0))/Zt)||0;return kt(bt,Vt),ho(ot),je(),c&&(Jn===_e&&(wo-=eo*Zt),Oe=((jt=rt[_e||0])===null||jt===void 0?void 0:jt.pos)||0,wo===Oe?re=Oe:c.spring({clamp:!0,mass:1,tension:300,friction:25,restDelta:1,restSpeed:1}).from({pos:wo}).to({pos:Oe}).start()),bs(),Ds},canGoPrev:ys,canGoNext:Zs,destroy:function(){return st("destroy"),window.removeEventListener("resize",vn),Ps(),Pt.clear(),B=null,rt=[],Fe=[],x=Object.assign({},XL),P={},De=[],v=void 0,ot="*",S=2,Ds},emit:st,filter:function(bt="*"){return ho(bt),je(),bs(),st("filter",bt),Ds},getContainer:function(){return B},getGapDim:ws,getGestures:function(){return i},getLastMouseMove:function(){return $Ce},getOption:function(bt){return nt(bt)},getOptions:function(){return x},getPage:function(){return rt[_e]},getPageIndex:function(bt){if(bt!==void 0){for(const Vt of rt||[])for(const Jt of Vt.slides)if(Jt.index===bt)return Vt.index;return-1}return _e},getPageIndexFromPosition:br,getPageProgress:function(bt,Vt){var Jt;bt===void 0&&(bt=_e);const jt=rt[bt];if(!jt)return bt>_e?-1:1;const wo=Is(),Jn=ws();let Zt=jt.pos,Zn=Io();if(H&&Vt!==!0){const eo=Math.floor((Zn-((Jt=rt[0])===null||Jt===void 0?void 0:Jt.pos))/wo)||0;Zn-=eo*wo,Zt=[Zt+wo,Zt,Zt-wo].reduce((function(jo,Ho){return Math.abs(Ho-Zn)<Math.abs(jo-Zn)?Ho:jo}))}return(Zn-Zt)/(jt.dim+Jn)||0},getPageVisibility:function(bt){var Vt;bt===void 0&&(bt=_e);const Jt=rt[bt];if(!Jt)return bt>_e?-1:1;const jt=Io(),wo=as();let Jn=Jt.pos;if(H){const Zt=Is(),Zn=Jn+(Math.floor((jt-((Vt=rt[0])===null||Vt===void 0?void 0:Vt.pos))/Zt)||0)*Zt;Jn=[Zn+Zt,Zn,Zn-Zt].reduce((function(eo,jo){return Math.abs(jo-jt)<Math.abs(eo-jt)?jo:eo}))}return Jn>jt&&Jn+Jt.dim<jt+wo?1:Jn<jt?(Jn+Jt.dim-jt)/Jt.dim||0:Jn+Jt.dim>jt+wo&&(jt+wo-Jn)/Jt.dim||0},getPages:function(){return rt},getPlugins:function(){return P},getPosition:Io,getSlides:function(){return Fe},getState:function(){return S},getTotalSlideDim:Is,getTween:function(){return c},getViewport:function(){return z},getViewportDim:as,getVisibleSlides:function(bt){return bt===void 0?ct:oo(bt)},goTo:Ko,hasNavigated:function(){return p!==void 0},hideError:go,hideLoading:_t,init:function(){if(!e||!t3(e))throw new Error("No Element found");return S!==0&&(Ps(),S=0),B=e,_=n,window.removeEventListener("resize",vn),_.breakpoints&&window.addEventListener("resize",vn),vn(),Ds},isInfinite:function(){return H},isInTransition:function(){return we.size>0},isRTL:function(){return K},isSettled:function(){return ye},isVertical:function(){return oe},localize:function(bt,Vt=[]){return Mt(bt,Vt)},next:function(bt={}){return Ko(_e+1,bt),Ds},off:function(bt,Vt){for(const Jt of bt instanceof Array?bt:[bt])Pt.has(Jt)&&Pt.set(Jt,Pt.get(Jt).filter((jt=>jt!==Vt)));return Ds},on:function(bt,Vt){for(const Jt of bt instanceof Array?bt:[bt])Pt.set(Jt,[...Pt.get(Jt)||[],Vt]);return Ds},prev:function(bt={}){return Ko(_e-1,bt),Ds},reInit:function(bt={},Vt={}){return Ps(),S=0,v=void 0,ot="*",n=bt,_=bt,o=Vt,vn(),Ds},remove:function(bt){bt===void 0&&(bt=Fe.length-1);const Vt=Fe[bt];return Vt&&(st("removeSlide",Vt),Vt.el&&(Lt(Vt.el),Vt.el.remove(),Vt.el=void 0),Fe.splice(bt,1),ho(ot),je(),_e=el(0,_e,rt.length-1),bs()),Ds},setPosition:function(bt){re=bt,qt(),bs()},showError:function(bt,Vt){_t(bt),go(bt);const Jt=bt.el;if(Jt){const jt=document.createElement("div");Ui(jt,"f-html"),Ui(jt,"is-error"),jt.innerHTML=Mt(Vt||"<p>{{ERROR}}</p>"),bt.htmlEl=jt,Ui(Jt,"has-html"),Ui(Jt,"has-error"),Jt.insertAdjacentElement("afterbegin",jt),st("contentReady",bt)}return Ds},showLoading:function(bt){const Vt=bt.el,Jt=Vt?.querySelector(".f-spinner");if(!Vt||Jt)return Ds;const jt=nt("spinnerTpl"),wo=BO(jt);return wo&&(Ui(wo,"f-spinner"),Vt.insertAdjacentElement("beforeend",wo)),Ds},version:"6.1.0"};return Ds};uQ.l10n={en_EN:n0e},uQ.getDefaults=()=>XL;/*! License details at fancyapps.com/license */const zCe=(e=!0,n="--f-scrollbar-compensate",o="--f-body-margin",i="hide-scrollbar")=>{const c=document,d=c.body,p=c.documentElement;if(e){if(d.classList.contains(i))return;let v=window.innerWidth-p.getBoundingClientRect().width;v<0&&(v=0),p.style.setProperty(n,`${v}px`);const S=parseFloat(window.getComputedStyle(d).marginRight);S&&d.style.setProperty(o,`${S}px`),d.classList.add(i)}else d.classList.remove(i),d.style.setProperty(o,""),c.documentElement.style.setProperty(n,"")};/*! License details at fancyapps.com/license */function k2e(){return!(typeof window>"u"||!window.document||!window.document.createElement)}/*! License details at fancyapps.com/license */const X2=function(e="",n="",o=""){return e.split(n).join(o)};/*! License details at fancyapps.com/license */const jCe={tpl:e=>`<img class="f-panzoom__content" 
    ${e.srcset?'data-lazy-srcset="{{srcset}}"':""} 
    ${e.sizes?'data-lazy-sizes="{{sizes}}"':""} 
    data-lazy-src="{{src}}" alt="{{alt}}" />`},s6e=()=>{let e;function n(x,P){const B=e?.getOptions().Zoomable;let z=(Tg(B)?Object.assign(Object.assign({},jCe),B):jCe)[x];return z&&typeof z=="function"&&P?z(P):z}function o(){e&&e.getOptions().Zoomable!==!1&&(e.on("addSlide",d),e.on("removeSlide",p),e.on("attachSlideEl",v),e.on("click",c),e.on("change",i),e.on("ready",i))}function i(){S();const x=e?.getVisibleSlides()||[];if(x.length>1||e?.getOption("transition")==="slide")for(const P of x){const B=P.panzoomRef;B&&(e?.getPage().slides||[]).indexOf(P)<0&&B.execute(lr.ZoomTo,Object.assign({},B.getStartPosition()))}}function c(x,P){const B=P.target;B&&!P.defaultPrevented&&B.dataset.panzoomAction&&_(B.dataset.panzoomAction)}function d(x,P){const B=P.el;if(!e||!B||P.panzoomRef)return;const z=P.src||P.lazySrc||"",U=P.alt||P.caption||`Image #${P.index}`,H=P.srcset||P.lazySrcset||"",K=P.sizes||P.lazySizes||"";if(z&&Pp(z)&&!P.html&&(!P.type||P.type==="image")){P.type="image",P.thumbSrc=P.thumbSrc||z;let _e=n("tpl",P);_e=X2(_e,"{{src}}",z+""),_e=X2(_e,"{{srcset}}",H+""),_e=X2(_e,"{{sizes}}",K+""),B.insertAdjacentHTML("afterbegin",_e)}const oe=B.querySelector(".f-panzoom__content");if(!oe)return;oe.setAttribute("alt",U+"");const ce=P.width&&P.width!=="auto"?parseFloat(P.width+""):"auto",re=P.height&&P.height!=="auto"?parseFloat(P.height+""):"auto",ye=gge(B,Object.assign({width:ce,height:re,classes:{container:"f-zoomable"},event:()=>e?.getLastMouseMove(),spinnerTpl:()=>e?.getOption("spinnerTpl")||""},n("Panzoom")));ye.on("*",((_e,Oe,...F)=>{e&&(Oe==="loading"&&(P.state=0),Oe==="loaded"&&(P.state=1),Oe==="error"&&(P.state=2,e?.showError(P,"{{IMAGE_ERROR}}")),e.emit(`panzoom:${Oe}`,P,...F),Oe==="ready"&&e.emit("contentReady",P),P.index===e?.getPageIndex()&&S())})),P.panzoomRef=ye}function p(x,P){P.panzoomRef&&(P.panzoomRef.destroy(),P.panzoomRef=void 0)}function v(x,P){const B=P.panzoomRef;if(B)switch(B.getState()){case 0:B.init();break;case 3:B.execute(lr.ZoomTo,Object.assign(Object.assign({},B.getStartPosition()),{velocity:0}))}}function S(){var x,P;const B=e?.getContainer()||void 0,z=(P=(x=e?.getPage())===null||x===void 0?void 0:x.slides[0])===null||P===void 0?void 0:P.panzoomRef;if(B)if(z)z.updateControls(B);else for(const U of B.querySelectorAll("[data-panzoom-action]")||[])U.setAttribute("aria-disabled",""),U.setAttribute("tabindex","-1")}function _(x,...P){var B;(B=e?.getPage().slides[0].panzoomRef)===null||B===void 0||B.execute(x,...P)}return{init:function(x){e=x,e.on("initPlugins",o)},destroy:function(){if(e){e.off("initPlugins",o),e.off("addSlide",d),e.off("removeSlide",p),e.off("attachSlideEl",v),e.off("click",c),e.off("change",i),e.off("ready",i);for(const x of e.getSlides())p(0,x)}e=void 0},execute:_}};/*! License details at fancyapps.com/license */const WCe={syncOnChange:!1,syncOnClick:!0,syncOnHover:!1},D2e=()=>{let e,n;function o(){const z=e?.getOptions().Sync;return Tg(z)?Object.assign(Object.assign({},WCe),z):WCe}function i(z){var U,H,K;e&&z&&(n=z,e.getOptions().classes=Object.assign(Object.assign({},e.getOptions().classes),{isSelected:""}),e.getOptions().initialSlide=((H=(U=n.getPage())===null||U===void 0?void 0:U.slides[0])===null||H===void 0?void 0:H.index)||0,o().syncOnChange&&e.on("change",p),o().syncOnClick&&e.on("click",S),o().syncOnHover&&((K=e.getViewport())===null||K===void 0||K.addEventListener("mouseover",_)),(function(){!e||!n||(e.on("ready",d),e.on("refresh",x),n.on("change",v),n.on("filter",P))})())}function c(){const z=o().target;e&&z&&i(z)}function d(){B()}function p(){var z;if(e&&n){const U=((z=e.getPage())===null||z===void 0?void 0:z.slides)||[],H=n.getPageIndex(U[0].index||0);H>-1&&n.goTo(H,e.hasNavigated()?void 0:{tween:!1,transition:!1}),B()}}function v(){var z;if(e&&n){const U=e.getPageIndex(((z=n.getPage())===null||z===void 0?void 0:z.slides[0].index)||0);U>-1&&e.goTo(U,n.hasNavigated()?void 0:{tween:!1,transition:!1}),B()}}function S(z,U){var H;if(!e||!n||!((H=e.getTween())===null||H===void 0)&&H.isRunning())return;const K=e?.getOptions().classes.slide;if(!K)return;const oe=K?U.target.closest(`.${K}`):null;if(oe){const ce=parseInt(oe.getAttribute("index")||"")||0,re=n.getPageIndex(ce);n.goTo(re)}}function _(z){e&&S(0,z)}function x(){var z;if(e&&n){const U=e.getPageIndex(((z=n.getPage())===null||z===void 0?void 0:z.slides[0].index)||0);U>-1&&e.goTo(U,{tween:!1,transition:!1}),B()}}function P(z,U){e&&n&&(e.filter(U),v())}function B(){var z,U,H;if(!n)return;const K=((U=(z=n.getPage())===null||z===void 0?void 0:z.slides[0])===null||U===void 0?void 0:U.index)||0;for(const oe of e?.getSlides()||[])(H=oe.el)===null||H===void 0||H.classList.toggle("is-selected",oe.index===K)}return{init:function(z){e=z,e.on("initSlides",c)},destroy:function(){var z;e?.off("ready",d),e?.off("refresh",x),e?.off("change",p),e?.off("click",S),(z=e?.getViewport())===null||z===void 0||z.removeEventListener("mouseover",_),n?.off("change",v),n?.off("filter",P),n=void 0,e?.off("initSlides",c),e=void 0},getTarget:function(){return n}}};/*! License details at fancyapps.com/license */const GCe={showLoading:!0,preload:1},tX="is-lazyloading",qCe="is-lazyloaded",ZCe="has-lazyerror",M2e=()=>{let e;function n(){const c=e?.getOptions().Lazyload;return Tg(c)?Object.assign(Object.assign({},GCe),c):GCe}function o(c){var d;const p=c.el;if(!p)return;const v="[data-lazy-src],[data-lazy-srcset],[data-lazy-bg]",S=Array.from(p.querySelectorAll(v));p.matches(v)&&S.push(p);for(const _ of S){const x=_.dataset.lazySrc,P=_.dataset.lazySrcset,B=_.dataset.lazySizes,z=_.dataset.lazyBg,U=(_ instanceof HTMLImageElement||_ instanceof HTMLSourceElement)&&(x||P),H=_ instanceof HTMLElement&&z;if(!U&&!H)continue;const K=x||P||z;if(K){if(U&&K){const oe=(d=_.parentElement)===null||d===void 0?void 0:d.classList.contains("f-panzoom__wrapper");n().showLoading&&e?.showLoading(c),_.addEventListener("load",(()=>{e?.hideLoading(c),kb(_,ZCe),_ instanceof HTMLImageElement?_.decode().then((()=>{kb(_,tX),Ui(_,qCe)})):(kb(_,tX),Ui(_,qCe)),oe||e==null||e.emit("lazyLoad:loaded",c,_,K)})),_.addEventListener("error",(()=>{e?.hideLoading(c),kb(_,tX),Ui(_,ZCe),oe||e==null||e.emit("lazyLoad:error",c,_,K)})),_.classList.add("f-lazyload"),_.classList.add(tX),oe||e==null||e.emit("lazyLoad:load",c,_,K),x&&(_.src=x),P&&(_.srcset=P),B&&(_.sizes=B)}else H&&(document.body.contains(_)||(document.createElement("img").src=z),_.style.backgroundImage=`url('${z}')`);delete _.dataset.lazySrc,delete _.dataset.lazySrcset,delete _.dataset.lazySizes,delete _.dataset.lazyBg}}}function i(){if(!e)return;const c=[...e.getVisibleSlides()],d=n().preload;if(d>0){const p=e.getPosition(),v=e.getViewportDim();c.push(...e.getVisibleSlides(p+v*d),...e.getVisibleSlides(p-v*d))}for(const p of c)o(p)}return{init:function(c){e=c,e.on("render",i)},destroy:function(){e?.off("render",i),e=void 0}}};/*! License details at fancyapps.com/license */const KCe='tabindex="-1" width="24" height="24" viewBox="0 0 24 24"',YCe={prevTpl:`<svg ${KCe}><path d="M15 3l-9 9 9 9"></path></svg>`,nextTpl:`<svg ${KCe}><path d="M9 3l9 9-9 9"></path></svg>`},r6e=()=>{let e,n,o;function i(){const v=e?.getOptions().Arrows;return Tg(v)?Object.assign(Object.assign({},YCe),v):YCe}function c(v){if(!e)return;const S=`<button data-carousel-go-${v} tabindex="0" class="f-button is-arrow is-${v}" title="{{${v.toUpperCase()}}}">`+i()[`${v}Tpl`]+"</button",_=BO(e.localize(S))||void 0;return _&&Ui(_,i()[`${v}Class`]),_}function d(){var v;n?.remove(),n=void 0,o?.remove(),o=void 0,(v=e?.getContainer())===null||v===void 0||v.classList.remove("has-arrows")}function p(){e&&e.getOptions().Arrows!==!1&&e.getPages().length>1?((function(){if(!e)return;const v=e.getViewport();v&&(n||(n=c("prev"),n&&v.insertAdjacentElement("beforebegin",n)),o||(o=c("next"),o&&v.insertAdjacentElement("afterend",o)),bg(e.getContainer(),"has-arrows",!(!n&&!o)))})(),e&&(n?.toggleAttribute("aria-disabled",!e.canGoPrev()),o?.toggleAttribute("aria-disabled",!e.canGoNext()))):d()}return{init:function(v){e=v.on(["change","refresh"],p)},destroy:function(){d(),e?.off(["change","refresh"],p),e=void 0}}};/*! License details at fancyapps.com/license */const P2e='<circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/>',Spe='<g><line x1="11" y1="8" x2="11" y2="14"></line></g>'+P2e,i6e={moveLeft:["moveLeft","MOVE_LEFT",'<path d="M5 12h14M5 12l6 6M5 12l6-6"/>'],moveRight:["moveRight","MOVE_RIGHT",'<path d="M5 12h14M13 18l6-6M13 6l6 6"/>'],moveUp:["moveUp","MOVE_UP",'<path d="M12 5v14M18 11l-6-6M6 11l6-6"/>'],moveDown:["moveDown","MOVE_DOWN",'<path d="M12 5v14M18 13l-6 6M6 13l6 6"/>'],zoomOut:["zoomOut","ZOOM_OUT",P2e],zoomIn:["zoomIn","ZOOM_IN",Spe],toggleFull:["toggleFull","TOGGLE_FULL",Spe],iterateZoom:["iterateZoom","ITERATE_ZOOM",Spe],toggle1to1:["toggleFull","TOGGLE_FULL",'<path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/>'],rotateCCW:["rotateCCW","ROTATE_CCW",'<path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/>'],rotateCW:["rotateCW","ROTATE_CW",'<path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/>'],flipX:["flipX","FLIP_X",'<path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/>'],flipY:["flipY","FLIP_Y",'<path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/>'],reset:["reset","RESET",'<path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/>'],toggleFS:["toggleFS","TOGGLE_FS",'<g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g>']},o0e={};for(const[e,n]of Object.entries(i6e))o0e[e]={tpl:`<button data-panzoom-action="${n[0]}" class="f-button" title="{{${n[1]}}}"><svg>${n[2]}</svg></button>`};/*! License details at fancyapps.com/license */var XCe;(function(e){e.Left="left",e.middle="middle",e.right="right"})(XCe||(XCe={}));const JCe=Object.assign({counter:{tpl:'<div class="f-counter"><span data-carousel-page></span>/<span data-carousel-pages></span></div>'},download:{tpl:'<button data-carousel-download class="f-button" title="{{DOWNLOAD}}"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></button>'},autoplay:{tpl:'<button data-autoplay-action="toggle" class="f-button" title="{{TOGGLE_AUTOPLAY}}"><svg><g><path d="M5 3.5 19 12 5 20.5Z"/></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},thumbs:{tpl:'<button data-thumbs-action="toggle" class="f-button" title="{{TOGGLE_THUMBS}}"><svg><rect width="18" height="14" x="3" y="3" rx="2"/><path d="M4 21h1M9 21h1M14 21h1M19 21h1"/></svg></button>'}},o0e),QCe={absolute:!1,display:{left:[],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY","reset"],right:[]},enabled:"auto",items:{}},N2e=()=>{let e,n;function o(c){const d=e?.getOptions().Toolbar;let p=(Tg(d)?Object.assign(Object.assign({},QCe),d):QCe)[c];return p&&typeof p=="function"&&e?p(e):p}function i(){var c,d;if(!e?.getOptions().Toolbar||!e||n)return;const p=e.getContainer();if(!p)return;let v=o("enabled");if(!v)return;const S=o("absolute"),_=e.getSlides().length>1;let x=!1,P=!1;for(const oe of e.getSlides())oe.panzoomRef&&(x=!0),(oe.downloadSrc||oe.type==="image"&&oe.src)&&(P=!0);const B=((c=e.getPlugins().Thumbs)===null||c===void 0?void 0:c.isEnabled())||!1,z=_&&e.getPlugins().Autoplay||!1,U=e.getPlugins().Fullscreen&&(document.fullscreenEnabled||document.webkitFullscreenEnabled);if(v==="auto"&&(v=x),!v)return;n=p.querySelector(".f-carousel__toolbar")||void 0,n||(n=document.createElement("div"),n.classList.add("f-carousel__toolbar"));const H=o("display"),K=Db({},JCe,o("items"));for(const oe of["left","middle","right"]){const ce=H[oe]||[],re=document.createElement("div");re.classList.add("f-carousel__toolbar__column"),re.classList.add(`is-${oe}`);for(const ye of ce){let _e;if(Pp(ye)){if(ye==="counter"&&!_||ye==="autoplay"&&!z||o0e[ye]&&!x||ye==="fullscreen"&&!U||ye==="thumbs"&&!B||ye==="download"&&!P)continue;_e=K[ye]}if(Tg(ye)&&(_e=ye),_e&&_e.tpl){let Oe=e.localize(_e.tpl);Oe=Oe.split("<svg>").join('<svg tabindex="-1" width="24" height="24" viewBox="0 0 24 24">');const F=BO(Oe);F&&(typeof _e.click=="function"&&e&&F.addEventListener("click",(Me=>{Me.preventDefault(),Me.stopPropagation(),typeof _e.click=="function"&&e&&_e.click(e,Me)})),re.append(F))}}n.append(re)}if(n.childElementCount){if(S&&n.classList.add("is-absolute"),!n.parentElement){const oe=o("parentEl");oe?oe.insertAdjacentElement("afterbegin",n):(d=e.getViewport())===null||d===void 0||d.insertAdjacentElement("beforebegin",n)}p.contains(n)&&p.classList.add("has-toolbar")}}return{init:function(c){e=c,e?.on("initSlides",i)},destroy:function(){var c;e?.off("initSlides",i),(c=e?.getContainer())===null||c===void 0||c.classList.remove("has-toolbar"),n?.remove(),n=void 0},add:function(c,d){JCe[c]=d},isEnabled:function(){return!!n}}};/*! License details at fancyapps.com/license */const eEe={autoStart:!0,pauseOnHover:!0,showProgressbar:!0,timeout:2e3},a6e=()=>{let e,n,o=!1,i=!1,c=!1,d=null;function p(_e){const Oe=e?.getOptions().Autoplay;let F=(Tg(Oe)?Object.assign(Object.assign({},eEe),Oe):eEe)[_e];return F&&typeof F=="function"&&e?F(e):F}function v(){clearTimeout(n),n=void 0}function S(){if(!e||!o||c||i||n||!e.isSettled()||(function(){var Oe;const F=((Oe=e?.getPage())===null||Oe===void 0?void 0:Oe.slides)||[];for(const Me of F)if(Me.state===0)return!0;return!1})())return;(function(){var Oe,F,Me,ot;if(!e||(P(),!p("showProgressbar")))return;let Fe=p("progressbarParentEl");if(!Fe&&(!((Oe=e.getPlugins().Toolbar)===null||Oe===void 0)&&Oe.isEnabled())&&(Fe=e.getContainer()),!Fe&&((F=e.getPlugins().Toolbar)===null||F===void 0?void 0:F.isEnabled())!==!0){const we=((Me=e.getPages()[0])===null||Me===void 0?void 0:Me.slides)||[],ct=((ot=e.getPage())===null||ot===void 0?void 0:ot.slides)||[];we.length===1&&ct.length===1&&(Fe=ct[0].el)}if(Fe||(Fe=e.getViewport()),!Fe)return;d=document.createElement("div"),d.classList.add("f-progressbar"),Fe.prepend(d);const De=p("timeout")||1e3;d.style.animationDuration=`${De}ms`})();const _e=p("timeout");n=setTimeout((()=>{e&&o&&!i&&(e.isInfinite()||e.getPageIndex()!==e.getPages().length-1?e.next():e.goTo(0))}),_e)}function _(){var _e,Oe;if(!e||e.getPages().length<2||e.getOptions().Autoplay===!1||o)return;o=!0,e.emit("autoplay:start",p("timeout")),(_e=e.getContainer())===null||_e===void 0||_e.classList.add("has-autoplay"),(Oe=e.getTween())===null||Oe===void 0||Oe.on("start",oe);const F=e?.getContainer();F&&p("pauseOnHover")&&matchMedia("(hover: hover)").matches&&(F.addEventListener("mouseenter",ce,!1),F.addEventListener("mouseleave",re,!1)),e.on("change",H),e.on("settle",K),e.on("contentReady",z),e.on("panzoom:touchStart",x),e.on("panzoom:wheel",x),e.isSettled()&&S()}function x(){var _e,Oe;if(v(),P(),o&&e){e.emit("autoplay:end"),(_e=e.getContainer())===null||_e===void 0||_e.classList.remove("has-autoplay"),(Oe=e.getTween())===null||Oe===void 0||Oe.off("start",oe);const F=e?.getContainer();F&&(F.removeEventListener("mouseenter",ce,!1),F.removeEventListener("mouseleave",re,!1))}e&&(e.off("change",H),e.off("settle",K),e.off("contentReady",z),e.off("panzoom:touchStart",x),e.off("panzoom:wheel",x)),o=!1,i=!1}function P(){d&&(d.remove(),d=null)}function B(){e&&e.getPages().length>1&&p("autoStart")&&_()}function z(){S()}function U(_e,Oe){const F=Oe.target;F&&!Oe.defaultPrevented&&F.dataset.autoplayAction==="toggle"&&ye.toggle()}function H(){!e||!e?.isInfinite()&&e.getPageIndex()===e.getPages().length-1?x():(P(),v())}function K(){S()}function oe(){v(),P()}function ce(){c=!0,o&&(P(),v())}function re(){c=!1,o&&!i&&e?.isSettled()&&S()}const ye={init:function(_e){e=_e,e.on("ready",B),e.on("click",U)},destroy:function(){x(),e?.off("ready",B),e?.off("click",U),e=void 0},isEnabled:()=>o,pause:function(){i=!0,v()},resume:function(){i=!1,o&&!c&&S()},start(){_()},stop(){x()},toggle(){o?x():_()}};return ye};/*! License details at fancyapps.com/license */const Cpe={Carousel:{Lazyload:{showLoading:!1}},minCount:2,showOnStart:!0,thumbTpl:'<button aria-label="Slide to #{{page}}"><img draggable="false" alt="{{alt}}" data-lazy-src="{{src}}" /></button>',type:"modern"};let Epe;const l6e=()=>{let e,n,o,i,c=0,d=0,p=!0;function v(Fe){const De=e?.getOptions().Thumbs;let we=(Tg(De)?Object.assign(Object.assign({},Cpe),De):Cpe)[Fe];return we&&typeof we=="function"&&e?we(e):we}function S(){if(!e||e?.getOptions().Thumbs===!1)return!1;let Fe=0;for(const De of e.getSlides())De.thumbSrc&&Fe++;return Fe>=v("minCount")}function _(){return v("type")==="modern"}function x(){return v("type")==="scrollable"}function P(){const Fe=[],De=e?.getSlides()||[];for(const we of De)Fe.push({index:we.index,html:B(we)});return Fe}function B(Fe){const De=Fe.thumb?Fe.thumb instanceof HTMLImageElement?Fe.thumb.src:Fe.thumb:Fe.thumbSrc||void 0,we=Fe.thumbAlt===void 0?`Thumbnail #${Fe.index}`:Fe.thumbAlt+"";let ct=v("thumbTpl");return ct=X2(ct,"{{alt}}",we),ct=X2(ct,"{{src}}",De+""),ct=X2(ct,"{{index}}",`${Fe.index}`),ct=X2(ct,"{{page}}",`${Fe.index||1}`),ct}function z(Fe=!1){var De;const we=e?.getContainer();if(!e||!we||o||!S())return;const ct=((De=v("Carousel"))===null||De===void 0?void 0:De.classes)||{};if(ct.container=ct.container||"f-thumbs",!o){const rt=we.nextElementSibling;rt?.classList.contains(ct.container)&&(o=rt)}if(!o){o=document.createElement("div");const rt=v("parentEl");rt?rt.insertAdjacentElement("beforeend",o):we.insertAdjacentElement("afterend",o)}Ui(o,ct.container),Ui(o,"f-thumbs"),Ui(o,`is-${v("type")}`),Fe&&Ui(o,"is-hidden")}function U(){if(!o||!x())return;i=document.createElement("div"),Ui(i,"f-thumbs__viewport");let Fe="";for(const we of P()){const ct=we.html||"";typeof ct=="string"&&(Fe+=`<div index="${we.index}" class="f-thumbs__slide">${ct}</div>`)}i.innerHTML=Fe,o.append(i),o.addEventListener("click",(we=>{we.preventDefault();const ct=we.target.closest("[index]"),rt=parseInt(ct?.getAttribute("index")||"-1");e&&rt>-1&&e.goTo(rt)}));const De=new IntersectionObserver((we=>{we.forEach((ct=>{ct.isIntersecting&&ct.target instanceof HTMLImageElement&&(ct.target.src=ct.target.getAttribute("data-lazy-src")+"",ct.target.removeAttribute("data-lazy-src"),De.unobserve(ct.target))}))}),{root:i,rootMargin:"100px"});o.querySelectorAll("[data-lazy-src]").forEach((we=>{De.observe(we)})),e?.emit("thumbs:ready")}function H(){var Fe;if(!Epe||!e||!o||x()||n)return;const De=P();if(!De.length)return;const we=Db({},{Sync:{target:e},Lazyload:{preload:1},slides:De,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",slide:"f-thumbs__slide"},center:!0,fill:!_(),infinite:!1,dragFree:!0,rtl:e.getOptions().rtl||!1,slidesPerPage:ct=>{let rt=0;return _()&&((function(){if(!_()||!o)return;const gt=ee=>o&&parseFloat(getComputedStyle(o).getPropertyValue("--f-thumb-"+ee))||0;c=gt("width"),d=gt("clip-width")})(),rt=4*(c-d)),ct&&ct.getTotalSlideDim()<=ct.getViewportDim()-rt?1/0:1}},Cpe.Carousel||{},v("Carousel")||{});n=Epe(o,we,{Sync:D2e,Lazyload:M2e}),n.on("ready",(()=>{Ui(o,"is-syncing"),e?.emit("thumbs:ready"),_()&&e?.on("render",re)})),n.on("destroy",(()=>{e?.emit("thumbs:destroy")})),n.init(),(Fe=n.getGestures())===null||Fe===void 0||Fe.on("start",(()=>{p=!1})),n.on("click",((ct,rt)=>{const gt=rt.target;if(gt){const ee=gt.matches("button")?gt:gt.firstElementChild;ee&&ee.matches("button")&&(rt.preventDefault(),ee.focus({preventScroll:!0}))}})),Ui(e.getContainer(),"has-thumbs"),ot()}function K(){S()&&v("showOnStart")&&(z(),U())}function oe(){var Fe;S()&&(H(),e?.on("addSlide",_e),e?.on("click",Oe),e?.on("refresh",F),(Fe=e?.getGestures())===null||Fe===void 0||Fe.on("start",ce),Me())}function ce(){var Fe,De;p=!0,!((Fe=document.activeElement)===null||Fe===void 0)&&Fe.closest(".f-thumbs")&&((De=document.activeElement)===null||De===void 0||De.blur())}function re(){var Fe,De;o?.classList.toggle("is-syncing",e?.hasNavigated()===!1||((Fe=e?.getTween())===null||Fe===void 0?void 0:Fe.isRunning())),ot(),!((De=e?.getGestures())===null||De===void 0)&&De.isPointerDown()&&(function(){if(!_()||!e||!n||!p)return;const we=n.getTween(),ct=n.getPages(),rt=e.getPageIndex()||0,gt=e.getPageProgress()||0;if(!(e&&ct&&ct[rt]&&we))return;const ee=we.isRunning()?we.getCurrentValues().pos:n.getPosition();if(ee===void 0)return;let on=ct[rt].pos+gt*(c-d);on=el(ct[0].pos,on,ct[ct.length-1].pos),we.from({pos:ee}).to({pos:on}).start()})()}function ye(){p=!0,Me()}function _e(Fe,De){n?.add({html:B(De)},De.index)}function Oe(Fe,De){const we=De.target;we&&!De.defaultPrevented&&we.dataset.thumbsAction==="toggle"&&(o||(z(!0),U(),H()),o&&o.classList.toggle("is-hidden"))}function F(){Me()}function Me(){if(!e||!i||!x())return;const Fe=e.getPageIndex();i.querySelectorAll(".is-selected").forEach((we=>{we.classList.remove("is-selected")}));const De=i.querySelector(`[index="${Fe}"]`);if(De){De.classList.add("is-selected");const we=i.getBoundingClientRect(),ct=De.getBoundingClientRect(),rt=De.offsetTop-i.offsetTop-.5*we.height+.5*ct.height,gt=De.scrollLeft-i.scrollLeft-.5*we.width+.5*ct.width;i.scrollTo({top:rt,left:gt,behavior:"smooth"})}}function ot(){if(!_()||!e||!n)return;const Fe=n?.getSlides()||[];let De=-.5*c;for(const we of Fe){const ct=we.el;if(!ct)continue;let rt=e.getPageProgress(we.index)||0;rt=Math.max(-1,Math.min(1,rt)),rt>-1&&rt<1&&(De+=.5*c*(1-Math.abs(rt))),rt=Math.round(1e4*rt)/1e4,De=Math.round(1e4*De)/1e4,ct.style.setProperty("--progress",`${Math.abs(rt)}`),ct.style.setProperty("--shift",`${e?.isRTL()?-1*De:De}px`),rt>-1&&rt<1&&(De+=.5*c*(1-Math.abs(rt)))}}return{init:function(Fe,De){Epe=De,e=Fe,e.on("ready",oe),e.on("initSlides",K),e.on("change",ye)},destroy:function(){var Fe,De;x()&&e?.emit("thumbs:destroy"),e?.off("ready",oe),e?.off("initSlides",K),e?.off("change",ye),e?.off("render",re),e?.off("addSlide",_e),e?.off("click",Oe),e?.off("refresh",F),(Fe=e?.getGestures())===null||Fe===void 0||Fe.off("start",ce),(De=e?.getContainer())===null||De===void 0||De.classList.remove("has-thumbs"),e=void 0,n?.destroy(),n=void 0,o?.remove(),o=void 0},getCarousel:function(){return n},getContainer:function(){return o},getType:function(){return v("type")},isEnabled:S}};/*! License details at fancyapps.com/license */const tEe={iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"}},c6e=()=>{let e;function n(c,d){let p=d.src;if(!Pp(p))return;let v=d.type;if(!v){if(v||(p.charAt(0)==="#"?v="inline":p.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.((a)?png|avif|gif|jp(g|eg)|pjp(eg)?|jfif|svg|webp|bmp|ico|tif(f)?)((\?|#).*)?$)/i)?v="image":p.match(/\.(pdf)((\?|#).*)?$/i)?v="pdf":p.match(/\.(html|php)((\?|#).*)?$/i)&&(v="iframe")),!v){const S=p.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i);S&&(p=`https://maps.google.${S[1]}/?ll=${(S[2]?S[2]+"&z="+Math.floor(parseFloat(S[3]))+(S[4]?S[4].replace(/^\//,"&"):""):S[4]+"").replace(/\?/,"&")}&output=${S[4]&&S[4].indexOf("layer=c")>0?"svembed":"embed"}`,v="gmap")}if(!v){const S=p.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i);S&&(p=`https://maps.google.${S[1]}/maps?q=${S[2].replace("query=","q=").replace("api=1","")}&output=embed`,v="gmap")}d.src=p,d.type=v}}function o(c,d){d.type!=="iframe"&&d.type!=="pdf"&&d.type!=="gmap"||(function(p){if(!e||!p.el||!p.src)return;const v=document.createElement("iframe");v.classList.add("f-iframe");for(const[_,x]of Object.entries((function(){const P=e?.getOptions().Html;return Tg(P)?Object.assign(Object.assign({},tEe),P):tEe})().iframeAttr||{}))v.setAttribute(_,x);v.onerror=()=>{e&&e.getState()===1&&e.showError(p,"{{IFRAME_ERROR}}")},v.src=p.src;const S=document.createElement("div");if(S.classList.add("f-html"),S.append(v),p.width){let _=`${p.width}`;_.match(/^\d+$/)&&(_+="px"),S.style.maxWidth=`${_}`}if(p.height){let _=`${p.height}`;_.match(/^\d+$/)&&(_+="px"),S.style.maxHeight=`${_}`}if(p.aspectRatio){const _=p.el.getBoundingClientRect();S.style.aspectRatio=`${p.aspectRatio}`,S.style[_.width>_.height?"width":"height"]="auto",S.style[_.width>_.height?"maxWidth":"maxHeight"]="none"}p.contentEl=v,p.htmlEl=S,p.el.classList.add("has-html"),p.el.classList.add("has-iframe"),p.el.classList.add(`has-${p.type}`),p.el.prepend(S),e.emit("contentReady",p)})(d)}function i(c,d){var p,v;d.type!=="iframe"&&d.type!=="pdf"&&d.type!=="gmap"||(e?.hideError(d),(p=d.contentEl)===null||p===void 0||p.remove(),d.contentEl=void 0,(v=d.htmlEl)===null||v===void 0||v.remove(),d.htmlEl=void 0)}return{init:function(c){e=c,e.on("addSlide",n),e.on("attachSlideEl",o),e.on("detachSlideEl",i)},destroy:function(){e?.off("addSlide",n),e?.off("attachSlideEl",o),e?.off("detachSlideEl",i),e=void 0}}};/*! License details at fancyapps.com/license */const nEe=(e,n={})=>{const o=new URL(e),i=new URLSearchParams(o.search),c=new URLSearchParams;for(const[v,S]of[...i,...Object.entries(n)]){let _=S+"";if(v==="t"){let x=_.match(/((\d*)m)?(\d*)s?/);x&&c.set("start",60*parseInt(x[2]||"0")+parseInt(x[3]||"0")+"")}else c.set(v,_)}let d=c+"",p=e.match(/#t=((.*)?\d+s)/);return p&&(d+=`#t=${p[1]}`),d},oEe={autoplay:!1,html5videoTpl:`<video class="f-html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
    <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto",credentialless:""},vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},u6e=()=>{let e,n=!1;function o(){const B=e?.getOptions().Video;return Tg(B)?Object.assign(Object.assign({},oEe),B):oEe}function i(){var B;return(B=e?.getPage())===null||B===void 0?void 0:B.slides[0]}const c=B=>{var z;try{let U=JSON.parse(B.data);if(B.origin==="https://player.vimeo.com"){if(U.event==="ready")for(let H of Array.from(((z=e?.getContainer())===null||z===void 0?void 0:z.getElementsByClassName("f-iframe"))||[]))H instanceof HTMLIFrameElement&&H.contentWindow===B.source&&(H.dataset.ready="true")}else if(B.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&U.event==="onReady"){const H=document.getElementById(U.id);H&&(H.dataset.ready="true")}}catch{}};function d(B,z){const U=z.src;if(!Pp(U))return;let H=z.type;if(!H||H==="html5video"){const K=U.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i);K&&(H="html5video",z.html5videoFormat=z.html5videoFormat||"video/"+(K[1]==="ogv"?"ogg":K[1]))}if(!H||H==="youtube"){const K=U.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i);if(K){const oe=Object.assign(Object.assign({},o().youtube),z.youtube||{}),ce=`www.youtube${oe.nocookie?"-nocookie":""}.com`,re=nEe(U,oe),ye=encodeURIComponent(K[2]);z.videoId=ye,z.src=`https://${ce}/embed/${ye}?${re}`,z.thumb=z.thumb||`https://i.ytimg.com/vi/${ye}/mqdefault.jpg`,H="youtube"}}if(!H||H==="vimeo"){const K=U.match(/^.+vimeo.com\/(?:\/)?(video\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/);if(K){const oe=Object.assign(Object.assign({},o().vimeo),z.vimeo||{}),ce=nEe(U,oe),re=encodeURIComponent(K[2]),ye=K[5]||"";z.videoId=re,z.src=`https://player.vimeo.com/video/${re}?${ye?`h=${ye}${ce?"&":""}`:""}${ce}`,H="vimeo"}}z.type=H}function p(B,z){z.type==="html5video"&&(function(U){if(!e||!U.el||!U.src)return;const{el:H,src:K}=U;if(!H||!K)return;const oe=U.html5videoTpl||o().html5videoTpl,ce=U.html5videoFormat||o().html5videoFormat;if(!oe)return;const re=U.poster||(U.thumb&&Pp(U.thumb)?U.thumb:""),ye=BO(oe.replace(/\{\{src\}\}/gi,K+"").replace(/\{\{format\}\}/gi,ce||"").replace(/\{\{poster\}\}/gi,re+""));if(!ye)return;const _e=document.createElement("div");_e.classList.add("f-html"),_e.append(ye),U.contentEl=ye,U.htmlEl=_e,H.classList.add(`has-${U.type}`),H.prepend(_e),x(U),e.emit("contentReady",U)})(z),z.type!=="youtube"&&z.type!=="vimeo"||(function(U){if(!e||!U.el||!U.src)return;const H=document.createElement("iframe");H.classList.add("f-iframe"),H.setAttribute("id",`f-iframe_${U.videoId}`);for(const[oe,ce]of Object.entries(o().iframeAttr||{}))H.setAttribute(oe,ce);H.onload=()=>{var oe;e&&e.getState()===1&&U.type==="youtube"&&((oe=H.contentWindow)===null||oe===void 0||oe.postMessage(JSON.stringify({event:"listening",id:H.getAttribute("id")}),"*"))},H.onerror=()=>{e&&e.getState()===1&&e?.showError(U,"{{IFRAME_ERROR}}")},H.src=U.src;const K=document.createElement("div");K.classList.add("f-html"),K.append(H),U.contentEl=H,U.htmlEl=K,U.el.classList.add("has-html"),U.el.classList.add("has-iframe"),U.el.classList.add(`has-${U.type}`),U.el.prepend(K),x(U),e.emit("contentReady",U)})(z)}function v(B,z){var U,H;z.type!=="html5video"&&z.type!=="youtube"&&z.type!=="vimeo"||((U=z.contentEl)===null||U===void 0||U.remove(),z.contentEl=void 0,(H=z.htmlEl)===null||H===void 0||H.remove(),z.htmlEl=void 0),z.poller&&clearTimeout(z.poller)}function S(){n=!1}function _(){if(n)return;n=!0;const B=i();(B&&B.autoplay!==void 0?B.autoplay:o().autoplay)&&((function(){var z;const U=i(),H=U?.el;if(H&&U?.type==="html5video")try{const oe=H.querySelector("video");if(oe){const ce=oe.play();ce!==void 0&&ce.then((()=>{})).catch((re=>{oe.muted=!0,oe.play()}))}}catch{}const K=U?.htmlEl;K instanceof HTMLIFrameElement&&((z=K.contentWindow)===null||z===void 0||z.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"))})(),(function(){const z=i(),U=z?.type;if(!z?.el||U!=="youtube"&&U!=="vimeo")return;const H=()=>{if(z.contentEl&&z.contentEl instanceof HTMLIFrameElement&&z.contentEl.contentWindow){let K;if(z.contentEl.dataset.ready==="true")return K=z.type==="youtube"?{event:"command",func:"playVideo"}:{method:"play",value:"true"},K&&z.contentEl.contentWindow.postMessage(JSON.stringify(K),"*"),void(z.poller=void 0);z.type==="youtube"&&(K={event:"listening",id:z.contentEl.getAttribute("id")},z.contentEl.contentWindow.postMessage(JSON.stringify(K),"*"))}z.poller=setTimeout(H,250)};H()})())}function x(B){const z=B?.htmlEl;if(B&&z&&(B.type==="html5video"||B.type==="youtube"||B.type==="vimeo")){if(z.style.aspectRatio="",z.style.width="",z.style.height="",z.style.maxWidth="",z.style.maxHeight="",B.width){let U=`${B.width}`;U.match(/^\d+$/)&&(U+="px"),z.style.maxWidth=`${U}`}if(B.height){let U=`${B.height}`;U.match(/^\d+$/)&&(U+="px"),z.style.maxHeight=`${U}`}if(B.aspectRatio){const U=B.aspectRatio.split("/"),H=parseFloat(U[0].trim()),K=U[1]?parseFloat(U[1].trim()):0,oe=H&&K?H/K:H;z.offsetHeight;const ce=z.getBoundingClientRect(),re=oe<(ce.width||1)/(ce.height||1);z.style.aspectRatio=`${B.aspectRatio}`,z.style.width=re?"auto":"",z.style.height=re?"":"auto"}}}function P(){x(i())}return{init:function(B){e=B,e.on("addSlide",d),e.on("attachSlideEl",p),e.on("detachSlideEl",v),e.on("ready",_),e.on("change",S),e.on("settle",_),e.on("refresh",P),window.addEventListener("message",c)},destroy:function(){e?.off("addSlide",d),e?.off("attachSlideEl",p),e?.off("detachSlideEl",v),e?.off("ready",_),e?.off("change",S),e?.off("settle",_),e?.off("refresh",P),window.removeEventListener("message",c),e=void 0}}};/*! License details at fancyapps.com/license */const sEe={autoStart:!1,btnTpl:'<button data-fullscreen-action="toggle" class="f-button" title="{{TOGGLE_FULLSCREEN}}"><svg><g><path d="M8 3H5a2 2 0 0 0-2 2v3M21 8V5a2 2 0 0 0-2-2h-3M3 16v3a2 2 0 0 0 2 2h3M16 21h3a2 2 0 0 0 2-2v-3"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},rEe="in-fullscreen-mode",d6e=()=>{let e;function n(x){const P=e?.getOptions().Fullscreen;let B=(Tg(P)?Object.assign(Object.assign({},sEe),P):sEe)[x];return B&&typeof B=="function"&&e?B(e):B}function o(){var x;(x=e?.getPlugins().Toolbar)===null||x===void 0||x.add("fullscreen",{tpl:n("btnTpl")})}function i(){if(n("autoStart")){const x=d();x&&v(x)}}function c(x,P){const B=P.target;B&&!P.defaultPrevented&&B.dataset.fullscreenAction==="toggle"&&_()}function d(){return n("el")||e?.getContainer()||void 0}function p(){const x=document;return x.fullscreenEnabled?!!x.fullscreenElement:!!x.webkitFullscreenEnabled&&!!x.webkitFullscreenElement}function v(x){const P=document;let B;return x||(x=P.documentElement),P.fullscreenEnabled?B=x.requestFullscreen():P.webkitFullscreenEnabled&&(B=x.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)),B&&B.then((()=>{x.classList.add(rEe)})),B}function S(){const x=document;let P;return x.fullscreenEnabled?P=x.fullscreenElement&&x.exitFullscreen():x.webkitFullscreenEnabled&&(P=x.webkitFullscreenElement&&x.webkitExitFullscreen()),P&&P.then((()=>{var B;(B=d())===null||B===void 0||B.classList.remove(rEe)})),P}function _(){if(p())S();else{const x=d();x&&v(x)}}return{init:function(x){e=x,e.on("initPlugins",o),e.on("ready",i),e.on("click",c)},destroy:function(){e?.off("initPlugins",o),e?.off("ready",i),e?.off("click",c)},exit:S,inFullscreen:p,request:v,toggle:_}};/*! License details at fancyapps.com/license */let rA,dQ=!1,iEe=!1,U5=!1,vge=!1;const s0e=()=>{const e=new URL(document.URL).hash,n=e.slice(1).split("-"),o=n[n.length-1],i=o&&/^\+?\d+$/.test(o)&&parseInt(n.pop()||"1",10)||1;return{urlHash:e,urlSlug:n.join("-"),urlIndex:i}},aEe=()=>{const e=rA?.getInstance();return!(!e||e.getState()!=1)},r0e=()=>{if(!rA||aEe())return;const{urlSlug:e,urlIndex:n}=s0e();if(!e)return;let o=document.querySelector(`[data-slug="${e}"]`);if(o&&o.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),aEe())return;const i=document.querySelectorAll(`[data-fancybox="${e}"]`);if(!i.length)return;const c=i[n-1];c&&c.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0}))},h6e=()=>{if(!rA||U5)return;const e=rA?.getInstance(),n=e?.getCarousel();if(e?.getOptions().Hash===!1)return;const{urlSlug:o,urlIndex:i}=s0e();if(e&&n){const c=n.getSlides();for(const d of c||[])if(o===d.slug||o===d.fancybox&&d.index===i-1)return void n.goTo(d.index);vge=!0,e.close(),vge=!1}r0e()},lEe=()=>{rA&&setTimeout((()=>{dQ=!0,r0e(),dQ=!1,window.addEventListener("hashchange",h6e,!1)}),300)},bge=()=>{let e,n="auto",o="";function i(){var p,v;if(!e||!e.isTopMost()||e.getOptions().Hash===!1)return;const S=e.getCarousel();if(!S)return;const{urlHash:_,urlSlug:x}=s0e(),P=e.getSlide();if(!P)return;let B=P.slug||P.fancybox||"",z=parseInt(P.index+"",10)+1;if(!B)return;let U=P.slug?`#${P.slug}`:`#${B}-${z}`;if((((v=(p=e.getCarousel())===null||p===void 0?void 0:p.getPages())===null||v===void 0?void 0:v.length)||0)<2&&(U=`#${B}`),_!==U&&(o=_),history.scrollRestoration&&(n=history.scrollRestoration,history.scrollRestoration="manual"),S.on("change",c),dQ)return;const H=B!==x;try{window.history[H?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+U)}catch{}H&&(iEe=!0)}function c(){if(!e||!e.isTopMost()||e.getOptions().Hash===!1)return;const p=e.getSlide();if(!p)return;let v=p.slug||p.fancybox||"",S=p.index+1,_=p.slug?`#${p.slug}`:`#${v}-${S}`;U5=!0;try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+_)}catch{}U5=!1}function d(){if(vge||!e||!e.isTopMost()||e.getOptions().Hash===!1)return;const p=e.getSlide();if(p&&p.fancybox){U5=!0;try{!iEe||dQ||(function(){if(window.parent===window)return!1;try{var v=window.frameElement}catch{v=null}return v===null?location.protocol==="data:":v.hasAttribute("sandbox")})()?window.history.replaceState({},document.title,window.location.pathname+window.location.search+o):window.history.back()}catch{}U5=!1}}return{init:function(p){e=p,e.on("ready",i),e.on("close",d)},destroy:function(){e?.off("ready",i),e?.off("close",d);const p=e?.getCarousel();p&&p.off("change",c),e=void 0,history.scrollRestoration&&n&&(history.scrollRestoration=n)}}};bge.startFromUrl=r0e,bge.setup=function(e){rA||(rA=e,k2e()&&(/complete|interactive|loaded/.test(document.readyState)?lEe():document.addEventListener("DOMContentLoaded",lEe)))};/*! License details at fancyapps.com/license */const f6e=Object.assign(Object.assign({},n0e),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ELEMENT_NOT_FOUND:"HTML Element Not Found",IFRAME_ERROR:"Error Loading Page"});/*! License details at fancyapps.com/license */const L2e='<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg tabindex="-1" width="24" height="24" viewBox="0 0 24 24"><path d="M19.286 4.714 4.714 19.286M4.714 4.714l14.572 14.572" /></svg></button>';N2e().add("close",{tpl:L2e});const CS=e=>{e.cancelable&&e.preventDefault()},B2e=e=>{e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))},cEe=(e=null,n="",o)=>{if(!e||!e.parentElement||!n)return void(o&&o());B2e(e);const i=c=>{c.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",i),delete e.dataset.animationName,o&&o(),e.classList.remove(n))};e.dataset.animationName=n,e.addEventListener("animationend",i),Ui(e,n)};var Yh;(function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Closing=2]="Closing",e[e.Destroyed=3]="Destroyed"})(Yh||(Yh={}));const a6={ajax:null,backdropClick:"close",Carousel:{},closeButton:"auto",closeExisting:!1,delegateEl:void 0,dragToClose:!0,fadeEffect:!0,groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,id:void 0,idle:!1,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:f6e,mainClass:"",mainStyle:{},mainTpl:`<dialog class="fancybox__dialog">
    <div class="fancybox__container" tabindex="0" aria-label="{{MODAL}}">
      <div class="fancybox__backdrop"></div>
      <div class="fancybox__carousel"></div>
    </div>
  </dialog>`,modal:!0,on:{},parentEl:void 0,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,sync:void 0,theme:"dark",triggerEl:void 0,triggerEvent:void 0,zoomEffect:!0},G_=new Map;let p6e=0;const uEe="with-fancybox",m6e=()=>{let e,n,o,i,c,d,p,v=Yh.Init,S=Object.assign({},a6),_=-1,x={},P=[],B=!1,z=!0,U=0;function H(kt,...bn){let mn=S[kt];return mn&&typeof mn=="function"?mn(oo,...bn):mn}function K(kt,bn=[]){const mn=H("l10n")||{};kt=String(kt).replace(/\{\{(\w+)\}\}/g,((Ze,mt)=>mn[mt]||Ze));for(let Ze=0;Ze<bn.length;Ze++)kt=kt.split(bn[Ze][0]).join(bn[Ze][1]);return kt=kt.replace(/\{\{(.*?)\}\}/g,((Ze,mt)=>mt))}const oe=new Map;function ce(kt,...bn){const mn=[...oe.get(kt)||[]];for(const[Ze,mt]of Object.entries(S.on||{}))(Ze===kt||Ze.split(" ").indexOf(kt)>-1)&&mn.push(mt);for(const Ze of mn)Ze&&typeof Ze=="function"&&Ze(oo,...bn);kt!=="*"&&ce("*",kt,...bn)}function re(kt=[],bn={}){v!==Yh.Init&&(oo.destroy(),v=Yh.Init),S=Db({},a6,bn),_=H("id")||"fancybox-"+ ++p6e;const mn=G_.get(_);if(mn&&mn.destroy(),G_.set(_,oo),ce("init"),(function(){for(const[Ze,mt]of Object.entries(Object.assign(Object.assign({},Gu.Plugins),S.plugins||{})))if(Ze&&!x[Ze]&&mt instanceof Function){const Dt=mt();Dt.init(oo),x[Ze]=Dt}ce("initPlugins")})(),(function(Ze=[]){ce("initSlides",Ze),P=[...Ze]})(kt),(function(){const Ze=H("parentEl")||document.body;if(!(Ze&&Ze instanceof HTMLElement))return;const mt=K(H("mainTpl")||"");if(e=BO(mt)||void 0,!e||(n=e.querySelector(".fancybox__container"),!(n&&n instanceof HTMLElement)))return;const Dt=H("mainClass");Dt&&Ui(n,Dt);const je=H("mainStyle");if(je&&Tg(je))for(const[rn,Ht]of Object.entries(je))n.style.setProperty(rn,Ht);const Lt=H("theme"),Kt=Lt==="auto"?window.matchMedia("(prefers-color-scheme:light)").matches:Lt==="light";n.setAttribute("theme",Kt?"light":"dark"),e.setAttribute("id",`${_}`),e.addEventListener("keydown",(rn=>{rn.key==="Escape"&&CS(rn)})),e.addEventListener("wheel",(rn=>{const Ht=rn.target;let _t=H("wheel",rn);Ht.closest(".f-thumbs")&&(_t="slide");const go=_t==="slide",Mo=[-rn.deltaX||0,-rn.deltaY||0,-rn.detail||0].reduce((function(bs,Ps){return Math.abs(Ps)>Math.abs(bs)?Ps:bs})),Ko=Math.max(-1,Math.min(1,Mo)),Io=Date.now();U&&Io-U<300?go&&CS(rn):(U=Io,ce("wheel",rn,Ko),rn.defaultPrevented||(_t==="close"?ws(rn):_t==="slide"&&i&&!dk(Ht)&&(CS(rn),i[Ko>0?"prev":"next"]())))}),{capture:!0,passive:!1}),e.addEventListener("cancel",(rn=>{ws(rn)})),Ze.append(e),G_.size===1&&(H("hideScrollbar")&&zCe(!0),document.documentElement.classList.add(uEe)),e instanceof HTMLDialogElement&&(H("modal")?e.showModal():e.show()),ce("initLayout")})(),(function(){if(o=e?.querySelector(".fancybox__carousel")||void 0,!o)return;o.fancybox=oo;const Ze=Db({},{Autoplay:{autoStart:!1,pauseOnHover:!1,progressbarParentEl:mt=>{const Dt=mt.getContainer();return Dt?.querySelector(".f-carousel__toolbar [data-autoplay-action]")||Dt}},Fullscreen:{el:n},Toolbar:{absolute:!0,items:{counter:{tpl:'<div class="f-counter"><span data-fancybox-page></span>/<span data-fancybox-pages></span></div>'}},display:{left:["counter"],right:["toggleFull","autoplay","fullscreen","thumbs","close"]}},Video:{autoplay:!0},Thumbs:{minCount:2,Carousel:{classes:{container:"fancybox__thumbs"}}},classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",slide:"fancybox__slide"},spinnerTpl:'<div class="f-spinner" data-fancybox-close></div>',dragFree:!1,slidesPerPage:1,plugins:{Sync:D2e,Arrows:r6e,Lazyload:M2e,Zoomable:s6e,Html:c6e,Video:u6e,Autoplay:a6e,Fullscreen:d6e,Thumbs:l6e,Toolbar:N2e}},H("Carousel")||{},{slides:P,enabled:!0,initialPage:H("startIndex")||0,l10n:H("l10n")});i=uQ(o,Ze),ce("initCarousel",i),i.on("*",((mt,Dt,...je)=>{ce(`Carousel.${Dt}`,mt,...je)})),i.on("attachSlideEl",_e),i.on("detachSlideEl",Oe),i.on("contentReady",De),i.on("ready",ot),i.on("change",Me),i.on("settle",Fe),i.on("thumbs:ready",we),i.on("thumbs:destroy",we),i.init()})(),e&&n){if(H("closeExisting"))for(const[Ze,mt]of G_.entries())Ze!==_&&mt.close();H("fadeEffect")?(setTimeout((()=>{ye()}),500),Ui(n,"is-revealing")):ye(),n.classList.add("is-ready"),v=Yh.Ready,ce("ready")}}function ye(){kb(n,"is-revealing");try{document.activeElement===e&&(n?.querySelector("[autofocus]")||n).focus()}catch{}}function _e(kt,bn){var mn;nt(bn),ct(),(mn=bn.el)===null||mn===void 0||mn.addEventListener("click",F),bn.type!=="inline"&&bn.type!=="clone"||(function(Ze){if(!i||!Ze||!Ze.el)return;let mt=null;if(Pp(Ze.src)){const Dt=Ze.src.split("#",2).pop();mt=Dt?document.getElementById(Dt):null}if(mt){if(Ui(mt,"f-html"),Ze.type==="clone"||mt.closest(".fancybox__carousel")){mt=mt.cloneNode(!0);const Dt=mt.dataset.animationName;Dt&&(mt.classList.remove(Dt),delete mt.dataset.animationName);let je=mt.getAttribute("id");je=je?`${je}--clone`:`clone-${_}-${Ze.index}`,mt.setAttribute("id",je)}else if(mt.parentNode){const Dt=document.createElement("div");Dt.inert=!0,mt.parentNode.insertBefore(Dt,mt),Ze.placeholderEl=Dt}Ze.htmlEl=mt,Ui(Ze.el,"has-html"),Ze.el.prepend(mt),mt.classList.remove("hidden"),mt.style.display==="none"&&(mt.style.display=""),getComputedStyle(mt).getPropertyValue("display")==="none"&&(mt.style.display=mt.dataset.display||"flex"),i?.emit("contentReady",Ze)}else i?.showError(Ze,"{{ELEMENT_NOT_FOUND}}")})(bn),bn.type==="ajax"&&(function(Ze){const mt=Ze.el;if(!mt||Ze.htmlEl||Ze.xhr)return;i?.showLoading(Ze),Ze.state=0;const Dt=new XMLHttpRequest;Dt.onreadystatechange=function(){if(Dt.readyState===XMLHttpRequest.DONE&&v===Yh.Ready)if(i?.hideLoading(Ze),Ze.state=1,Dt.status===200){let Lt=Dt.responseText+"",Kt=null,rn=null;if(Ze.filter){const Ht=document.createElement("div");Ht.innerHTML=Lt,rn=Ht.querySelector(Ze.filter+"")}rn&&rn instanceof HTMLElement?Kt=rn:(Kt=document.createElement("div"),Kt.innerHTML=Lt),Kt.classList.add("f-html"),Ze.htmlEl=Kt,mt.classList.add("has-html"),mt.classList.add("has-ajax"),mt.prepend(Kt),i?.emit("contentReady",Ze)}else i?.showError(Ze)};const je=H("ajax")||null;Dt.open(je?"POST":"GET",Ze.src+""),Dt.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),Dt.setRequestHeader("X-Requested-With","XMLHttpRequest"),Dt.send(je),Ze.xhr=Dt})(bn)}function Oe(kt,bn){var mn;(function(Ze){Ze.closeButtonEl&&(Ze.closeButtonEl.remove(),Ze.closeButtonEl=void 0)})(bn),(mn=bn.el)===null||mn===void 0||mn.removeEventListener("click",F),bn.type!=="inline"&&bn.type!=="clone"||(function(Ze){const mt=Ze.htmlEl,Dt=Ze.placeholderEl;mt&&(getComputedStyle(mt).getPropertyValue("display")!=="none"&&(mt.style.display="none"),mt.offsetHeight),Dt&&(mt&&Dt.parentNode&&Dt.parentNode.insertBefore(mt,Dt),Dt.remove()),Ze.htmlEl=void 0,Ze.placeholderEl=void 0})(bn),bn.xhr&&(bn.xhr.abort(),bn.xhr=void 0)}function F(kt){if(!Pt())return;if(v!==Yh.Ready)return CS(kt),void kt.stopPropagation();if(kt.defaultPrevented||!j3.isClickAllowed())return;const bn=kt.composedPath()[0];bn.closest(".fancybox__carousel")&&bn.classList.contains("fancybox__slide")&&rt(kt)}function Me(){z=!1,n&&i&&n.classList.remove("is-revealing"),ct();const kt=H("sync");if(i&&kt){const bn=kt.getPageIndex(i.getPageIndex())||0;kt.goTo(bn,{transition:!1})}}function ot(){var kt;(function(){const mn=i?.getViewport();if(!H("dragToClose")||!i||!mn||(c=j3(mn).init(),!c))return;let Ze=!1,mt=0,Dt=0,je={},Lt=1;function Kt(){var Ht,_t;d?.spring({clamp:!0,mass:1,tension:Dt===0?140:960,friction:17,restDelta:.1,restSpeed:.1,maxSpeed:1/0}).from({y:mt}).to({y:Dt}).start();const go=((Ht=i?.getViewport())===null||Ht===void 0?void 0:Ht.getBoundingClientRect().height)||0,Mo=(_t=st())===null||_t===void 0?void 0:_t.panzoomRef;if(go&&Mo)if(Dt===0)Mo.execute(lr.Reset);else{const Ko=cQ(Math.abs(mt),0,.33*go,Lt,.75*Lt,!1);Mo.execute(lr.ZoomTo,{scale:Ko})}}const rn=Ht=>{var _t;const go=Ht.srcEvent,Mo=go.target;return i&&!(i6(go)&&((_t=go.touches)===null||_t===void 0?void 0:_t.length)>1)&&Mo&&!dk(Mo)};d=VO().on("step",(Ht=>{if(n&&mn&&v===Yh.Ready){const _t=mn.getBoundingClientRect().height;mt=Math.min(_t,Math.max(-1*_t,Ht.y));const go=cQ(Math.abs(mt),0,.5*_t,1,0,!0);n.style.setProperty("--f-drag-opacity",go+""),n.style.setProperty("--f-drag-offset",mt+"px")}})),c.on("start",(function(){Ze||(d?.pause(),Dt=mt)})).on("panstart",(Ht=>{var _t,go;if(!Ze&&rn(Ht)&&Ht.axis==="y"){CS(Ht.srcEvent),Ze=!0,br(),(_t=i?.getViewport())===null||_t===void 0||_t.classList.add("is-dragging");const Mo=(go=st())===null||go===void 0?void 0:go.panzoomRef;if(Mo){Lt=Mo.getTransform().scale||1;const Ko=Mo.getOptions();je=Object.assign({},Ko),Ko.bounds=!1,Ko.gestures=!1}}else Ze=!1})).on("pan",(function(Ht){Ze&&rn(Ht)&&(CS(Ht.srcEvent),Ht.srcEvent.stopPropagation(),Ht.axis==="y"&&(Dt+=Ht.deltaY,Kt()))})).on("end",(Ht=>{var _t,go,Mo;if((_t=i?.getViewport())===null||_t===void 0||_t.classList.remove("is-dragging"),Ze){const Ko=(go=st())===null||go===void 0?void 0:go.panzoomRef;if(Ko){(Mo=Ko.getTween())===null||Mo===void 0||Mo.end();const Io=Ko.getOptions();Io.bounds=je.bounds||!1,Io.gestures=je.gestures||!1}rn(Ht)&&Ht.axis==="y"&&(Math.abs(Ht.velocityY)>5||Math.abs(mt)>50)&&ws(Ht.srcEvent,"f-throwOut"+(Ht.velocityY>0?"Down":"Up"))}Ze=!1,v===Yh.Ready&&mt!==0&&(Dt=0,Kt())}))})(),document.body.addEventListener("click",on),document.body.addEventListener("keydown",ee,{passive:!1,capture:!0}),ct(),ho();const bn=H("sync");bn&&((kt=bn.getTween())===null||kt===void 0||kt.start()),Mt(st())}function Fe(){i?.canGoNext()?ho():Se()}function De(kt,bn){nt(bn),Mt(bn)}function we(){var kt;const bn=i?.getPlugins().Thumbs;bg(n,"has-thumbs",bn?.isEnabled()||!1),bg(n,"has-vertical-thumbs",!!bn&&(bn.getType()==="scrollable"||((kt=bn.getCarousel())===null||kt===void 0?void 0:kt.isVertical())===!0))}function ct(){if(n){const kt=i?.getPages()||[],bn=i?.getPageIndex()||0;for(const mn of n.querySelectorAll("[data-fancybox-index]"))mn.innerHTML=bn+"";for(const mn of n.querySelectorAll("[data-fancybox-page]"))mn.innerHTML=bn+1+"";for(const mn of n.querySelectorAll("[data-fancybox-pages]"))mn.innerHTML=kt.length+""}}function rt(kt){if(kt.composedPath()[0].closest("[data-fancybox-close]"))return void ws(kt);ce("backdropClick",kt),!kt.defaultPrevented&&H("backdropClick")&&ws(kt)}function gt(){Tn()}function ee(kt){if(!Pt()||v!==Yh.Ready)return;const bn=kt.key,mn=H("keyboard");if(!mn||kt.ctrlKey||kt.altKey||kt.shiftKey)return;const Ze=kt.composedPath()[0];if(!t3(Ze)||bn!=="Escape"&&(Dt=>{const je=["input","textarea","select","option","video","iframe","[contenteditable]","[data-selectable]","[data-draggable]"].join(",");return Dt.matches(je)||Dt.closest(je)})(Ze)||(ce("keydown",kt),kt.defaultPrevented))return;const mt=mn[bn];if(mt)switch(mt){case"close":ws(kt);break;case"next":CS(kt),i?.next();break;case"prev":CS(kt),i?.prev()}}function on(kt){if(!Pt()||v!==Yh.Ready||(Tn(),kt.defaultPrevented))return;const bn=kt.composedPath()[0],mn=!!bn.closest("[data-fancybox-close]"),Ze=bn.classList.contains("fancybox__backdrop");(mn||Ze)&&rt(kt)}function nt(kt){var bn;const{el:mn,htmlEl:Ze,closeButtonEl:mt}=kt;if(!mn||!Ze||mt)return;let Dt=H("closeButton");if(Dt==="auto"&&(Dt=((bn=i?.getPlugins().Toolbar)===null||bn===void 0?void 0:bn.isEnabled())!==!0),Dt){const je=BO(K(L2e));je&&(Ui(je,"is-close-button"),kt.closeButtonEl=Ze.insertAdjacentElement("afterbegin",je),mn.classList.add("has-close-btn"))}}function Mt(kt){if(!(z&&i&&i.getState()===1&&kt&&kt.index===i.getOptions().initialPage&&kt.el&&kt.el.parentElement)||kt.state!==void 0&&kt.state!==1)return;z=!1;const bn=kt.panzoomRef,mn=bn?.getTween(),Ze=H("zoomEffect")&&mn?To(kt):void 0;if(bn&&mn&&Ze){const{x:Dt,y:je,scale:Lt}=bn.getStartPosition();return void mn.spring({tension:215,friction:25,restDelta:.001,restSpeed:.001,maxSpeed:1/0}).from(Ze).to({x:Dt,y:je,scale:Lt}).start()}const mt=bn?.getContent()||kt.htmlEl;mt&&cEe(mt,H("showClass",kt))}function Pt(){var kt;return((kt=Gu.getInstance())===null||kt===void 0?void 0:kt.getId())===_}function st(){var kt;return(kt=i?.getPage())===null||kt===void 0?void 0:kt.slides[0]}function vn(){const kt=st();return kt?kt.triggerEl||H("triggerEl"):void 0}function To(kt){var bn,mn;const Ze=kt.thumbEl;if(!Ze||!(go=>{const Mo=go.getBoundingClientRect(),Ko=go.closest("[style]"),Io=Ko?.parentElement;if(Ko&&Ko.style.transform&&Io){const ys=Io.getBoundingClientRect();if(Mo.left<ys.left||Mo.left>ys.left+ys.width-Mo.width||Mo.top<ys.top||Mo.top>ys.top+ys.height-Mo.height)return!1}const bs=Math.max(document.documentElement.clientHeight,window.innerHeight),Ps=Math.max(document.documentElement.clientWidth,window.innerWidth);return!(Mo.bottom<0||Mo.top-bs>=0||Mo.right<0||Mo.left-Ps>=0)})(Ze))return;const mt=(mn=(bn=kt.panzoomRef)===null||bn===void 0?void 0:bn.getWrapper())===null||mn===void 0?void 0:mn.getBoundingClientRect(),Dt=mt?.width,je=mt?.height;if(!Dt||!je)return;const Lt=Ze.getBoundingClientRect();let Kt=Lt.width,rn=Lt.height,Ht=Lt.left,_t=Lt.top;if(!(!Lt||!Kt||!rn)){if(Ze instanceof HTMLImageElement){const go=window.getComputedStyle(Ze).getPropertyValue("object-fit");if(go==="contain"||go==="scale-down"){const{width:Mo,height:Ko}=((Io,bs,Ps,ys,Zs="contain")=>{if(Zs==="contain"||Io>Ps||bs>ys){const Ds=Ps/Io,bt=ys/bs,Vt=Math.min(Ds,bt);Io*=Vt,bs*=Vt}return{width:Io,height:bs}})(Ze.naturalWidth,Ze.naturalHeight,Kt,rn,go);Ht+=.5*(Kt-Mo),_t+=.5*(rn-Ko),Kt=Mo,rn=Ko}}if(!(Math.abs(Dt/je-Kt/rn)>.1))return{x:Ht+.5*Kt-(mt.left+.5*Dt),y:_t+.5*rn-(mt.top+.5*je),scale:Kt/Dt}}}function Nn(){p&&clearTimeout(p),p=void 0,document.removeEventListener("mousemove",gt)}function ho(){if(B||p)return;const kt=H("idle");kt&&(p=setTimeout(qt,kt))}function qt(){n&&(Nn(),Ui(n,"is-idle"),document.addEventListener("mousemove",gt),B=!0)}function Tn(){B&&(Se(),ho())}function Se(){Nn(),n?.classList.remove("is-idle"),B=!1}function br(){if(H("placeFocusBack")){const bn=vn();!bn||(kt=bn.getBoundingClientRect()).bottom>0&&kt.right>0&&kt.left<(window.innerWidth||document.documentElement.clientWidth)&&kt.top<(window.innerHeight||document.documentElement.clientHeight)||bn.scrollIntoView({behavior:"instant",block:"center",inline:"center"})}var kt}function ws(kt,bn){var mn,Ze,mt,Dt,je;if(v===Yh.Closing||v===Yh.Destroyed)return;const Lt=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(ce("shouldClose",Lt,kt),Lt.defaultPrevented)return;if(Nn(),kt){if(kt.defaultPrevented)return;CS(kt),kt.stopPropagation(),kt.stopImmediatePropagation()}if(v=Yh.Closing,d?.pause(),c?.destroy(),i){(mn=i.getGestures())===null||mn===void 0||mn.destroy(),(Ze=i.getTween())===null||Ze===void 0||Ze.pause();for(const Ht of i.getSlides()){const _t=Ht.panzoomRef;_t&&(Db(_t.getOptions(),{clickAction:!1,dblClickAction:!1,wheelAction:!1,bounds:!1,minScale:0,maxScale:1/0}),(mt=_t.getGestures())===null||mt===void 0||mt.destroy(),(Dt=_t.getTween())===null||Dt===void 0||Dt.pause())}}const Kt=i?.getPlugins();(je=Kt?.Autoplay)===null||je===void 0||je.stop();const rn=Kt?.Fullscreen;rn&&rn.inFullscreen()?Promise.resolve(rn.exit()).then((()=>{setTimeout((()=>{as(kt,bn)}),150)})):as(kt,bn)}function as(kt,bn){var mn,Ze;if(v!==Yh.Closing)return;ce("close",kt),z=!1,document.body.removeEventListener("click",on),document.body.removeEventListener("keydown",ee,{passive:!1,capture:!0}),br(),H("fadeEffect")&&(n?.classList.remove("is-ready"),n?.classList.add("is-hiding")),n?.classList.add("is-closing");const mt=st(),Dt=mt?.el,je=mt?.panzoomRef,Lt=(mn=mt?.panzoomRef)===null||mn===void 0?void 0:mn.getTween(),Kt=bn||H("hideClass");let rn=!1,Ht=!1;if(i&&mt&&Dt&&je&&Lt){let go;if(H("zoomEffect")&&mt.state===1&&(go=To(mt)),go){rn=!0;const Mo=()=>{go=To(mt),go&&Lt.to(Object.assign(Object.assign({},SS),go))};je.on("refresh",(()=>{Mo()})),Lt.easing(VO.Easings.EaseOut).duration(350).from(Object.assign({},je.getTransform())).to(Object.assign(Object.assign({},SS),go)).start(),Dt?.getAnimations()&&(Dt.style.animationPlayState="paused",requestAnimationFrame((()=>{Mo()})))}}const _t=mt?.htmlEl||((Ze=mt?.panzoomRef)===null||Ze===void 0?void 0:Ze.getWrapper());_t&&B2e(_t),!rn&&Kt&&_t&&(Ht=!0,cEe(_t,Kt,(()=>{Is()}))),rn||Ht?setTimeout((()=>{Is()}),350):Is()}function Is(){var kt,bn,mn,Ze,mt;if(v===Yh.Destroyed)return;v=Yh.Destroyed;const Dt=vn();ce("destroy"),(bn=(kt=H("sync"))===null||kt===void 0?void 0:kt.getPlugins().Autoplay)===null||bn===void 0||bn.resume(),(Ze=(mn=H("sync"))===null||mn===void 0?void 0:mn.getPlugins().Autoscroll)===null||Ze===void 0||Ze.resume(),e instanceof HTMLDialogElement&&e.close(),(mt=i?.getContainer())===null||mt===void 0||mt.classList.remove("is-idle"),i?.destroy();for(const je of Object.values(x))je?.destroy();if(x={},e?.remove(),e=void 0,n=void 0,i=void 0,G_.delete(_),!G_.size&&(zCe(!1),document.documentElement.classList.remove(uEe),H("placeFocusBack")))try{Dt?.focus({preventScroll:!0})}catch{}}const oo={close:ws,destroy:Is,getCarousel:function(){return i},getContainer:function(){return n},getId:function(){return _},getOptions:function(){return S},getPlugins:function(){return x},getSlide:function(){return st()},getState:function(){return v},init:function(kt=[],bn={}){return re(kt,bn),oo},isCurrentSlide:function(kt){const bn=st();return!(!kt||!bn)&&bn.index===kt.index},isTopMost:function(){return Pt()},off:function(kt,bn){return oe.has(kt)&&oe.set(kt,oe.get(kt).filter((mn=>mn!==bn))),oo},on:function(kt,bn){return oe.set(kt,[...oe.get(kt)||[],bn]),oo},toggleIdle(kt){(B||kt===!0)&&qt(),B&&kt!==!1||Se()}};return oo},Gu={Plugins:{Hash:bge},version:"6.1.0",openers:new Map,bind:function(e,n,o){if(!k2e())return;let i=document.body,c="[data-fancybox]",d={};if(Pp(e)?(i=document.body,c=e,typeof n=="object"&&(d=n||{})):e instanceof Element&&(i=e,Pp(n)&&(c=n),typeof o=="object"&&(d=o||{})),!(i&&i instanceof Element&&c))return!1;const p=Gu.openers.get(i)||new Map;if(p.set(c,d),Gu.openers.set(i,p),p.size===1){i.addEventListener("click",Gu.fromEvent);for(const v of Object.values(Gu.Plugins)){const S=v.setup;typeof S=="function"&&S(Gu)}}return!0},close:function(e=!0,...n){if(e)for(const o of G_.values())o.close(...n);else{const o=Gu.getInstance();o&&o.close(...n)}},destroy:function(){let e;for(;e=Gu.getInstance();)e.destroy();for(const n of Gu.openers.keys())n.removeEventListener("click",Gu.fromEvent);Gu.openers.clear()},fromEvent:function(e){var n,o,i;if(e.defaultPrevented||e.button&&e.button!==0||e.ctrlKey||e.metaKey||e.shiftKey)return;let c=e.composedPath()[0];if(c.closest(".fancybox__container.is-hiding"))return CS(e),void e.stopPropagation();const d=c.closest("[data-fancybox-delegate]")||void 0;if(d){const K=d.dataset.fancyboxDelegate||"",oe=document.querySelectorAll(`[data-fancybox="${K}"]`);c=oe[parseInt(d.dataset.fancyboxIndex||"",10)||0]||oe[0]}if(!(c&&c instanceof Element))return;let p,v,S={};for(const[K,oe]of Gu.openers)if(oe&&K.contains(c))for(const[ce,re]of oe){let ye=null;try{ye=c.closest(ce)}catch{}ye&&(c=ye,p=K,v=ce,Db(S,re||{}))}if(!p||!v)return;CS(e);const _=Db({},a6,{triggerEvent:e,triggerEl:c,delegateEl:d},S),x=_.groupAll,P=_.groupAttr,B=P&&c?c.getAttribute(`${P}`):"";let z=[];const U=(n=c.closest(".f-carousel"))===null||n===void 0?void 0:n.carousel;if(U){const K=[];for(const oe of U?.getSlides()){const ce=oe.el;ce&&(ce.matches(v)?K.push(ce):K.push(...[].slice.call(ce.querySelectorAll(v))))}K.length&&(z=[...K],(o=U.getPlugins().Autoplay)===null||o===void 0||o.pause(),(i=U.getPlugins().Autoscroll)===null||i===void 0||i.pause(),_.sync=U)}else(!c||B||x)&&(z=[].slice.call(p.querySelectorAll(v)));if(c&&!x&&(z=P&&B?z.filter((K=>K.getAttribute(`${P}`)===B)):[c]),!z.length)return;const H=Gu.getInstance();if(H){const K=H.getOptions().triggerEl;if(K&&z.indexOf(K)>-1)return}return Object.assign({},_.Carousel||{}).rtl&&(z=z.reverse()),c&&(_.startIndex=z.indexOf(c)),Gu.fromNodes(z,_)},fromNodes:function(e,n){n=Db({},a6,n||{});const o=[],i=c=>c instanceof HTMLImageElement?c:c instanceof HTMLElement?c.querySelector("img:not([aria-hidden])"):void 0;for(const c of e){const d=c.dataset||{},p=n.delegateEl&&e.indexOf(c)===n.startIndex?n.delegateEl:void 0,v=i(p)||i(c)||void 0,S=d.src||c.getAttribute("href")||c.getAttribute("currentSrc")||c.getAttribute("src")||void 0,_=d.thumb||d.thumbSrc||v?.getAttribute("currentSrc")||v?.getAttribute("src")||v?.dataset.lazySrc||void 0,x={src:S,alt:d.alt||v?.getAttribute("alt")||void 0,thumbSrc:_,thumbEl:v,triggerEl:c,delegateEl:p};for(const P in d){let B=d[P]+"";B=B!=="false"&&(B==="true"||B),x[P]=B}o.push(x)}return Gu.show(o,n)},fromSelector:function(e,n,o){let i=document.body,c="",d={};if(Pp(e)?c=e:e instanceof Element&&(i=e,Pp(n)&&(c=n),typeof o=="object"&&(d=o||{})),!(i&&i instanceof Element&&c))return;const p=Gu.openers.get(i);return p?(d=Db({},p.get(c)||{},d),d?Gu.fromNodes(Array.from(i.querySelectorAll(c)),d):void 0):void 0},getCarousel:function(){var e;return((e=Gu.getInstance())===null||e===void 0?void 0:e.getCarousel())||void 0},getDefaults:function(){return a6},getInstance:function(e){if(e){const n=G_.get(e);return n&&n.getState()!==Yh.Destroyed?n:void 0}return Array.from(G_.values()).reverse().find((n=>{if(n.getState()!==Yh.Destroyed)return n}))||void 0},getSlide:function(){var e;return((e=Gu.getInstance())===null||e===void 0?void 0:e.getSlide())||void 0},show:function(e=[],n={}){return m6e().init(e,n)},unbind:function(e,n){let o=document.body,i="";if(Pp(e)?i=e:e instanceof Element&&(o=e,Pp(n)&&(i=n)),o){const c=Gu.openers.get(o);c&&i&&c.delete(i),c?.size&&i||Gu.openers.delete(o),o.removeEventListener("click",Gu.fromEvent)}}};function V2e(e,n){return function(){return e.apply(n,arguments)}}const{toString:g6e}=Object.prototype,{getPrototypeOf:i0e}=Object,{iterator:Xee,toStringTag:F2e}=Symbol,Jee=(e=>n=>{const o=g6e.call(n);return e[o]||(e[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),BS=e=>(e=e.toLowerCase(),n=>Jee(n)===e),Qee=e=>n=>typeof n===e,{isArray:b4}=Array,W3=Qee("undefined");function yz(e){return e!==null&&!W3(e)&&e.constructor!==null&&!W3(e.constructor)&&Vb(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const H2e=BS("ArrayBuffer");function v6e(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&H2e(e.buffer),n}const b6e=Qee("string"),Vb=Qee("function"),$2e=Qee("number"),Sz=e=>e!==null&&typeof e=="object",y6e=e=>e===!0||e===!1,jX=e=>{if(Jee(e)!=="object")return!1;const n=i0e(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(F2e in e)&&!(Xee in e)},S6e=e=>{if(!Sz(e)||yz(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},C6e=BS("Date"),E6e=BS("File"),w6e=BS("Blob"),_6e=BS("FileList"),A6e=e=>Sz(e)&&Vb(e.pipe),T6e=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Vb(e.append)&&((n=Jee(e))==="formdata"||n==="object"&&Vb(e.toString)&&e.toString()==="[object FormData]"))},x6e=BS("URLSearchParams"),[O6e,I6e,R6e,k6e]=["ReadableStream","Request","Response","Headers"].map(BS),D6e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cz(e,n,{allOwnKeys:o=!1}={}){if(e===null||typeof e>"u")return;let i,c;if(typeof e!="object"&&(e=[e]),b4(e))for(i=0,c=e.length;i<c;i++)n.call(null,e[i],i,e);else{if(yz(e))return;const d=o?Object.getOwnPropertyNames(e):Object.keys(e),p=d.length;let v;for(i=0;i<p;i++)v=d[i],n.call(null,e[v],v,e)}}function U2e(e,n){if(yz(e))return null;n=n.toLowerCase();const o=Object.keys(e);let i=o.length,c;for(;i-- >0;)if(c=o[i],n===c.toLowerCase())return c;return null}const J2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,z2e=e=>!W3(e)&&e!==J2;function yge(){const{caseless:e,skipUndefined:n}=z2e(this)&&this||{},o={},i=(c,d)=>{const p=e&&U2e(o,d)||d;jX(o[p])&&jX(c)?o[p]=yge(o[p],c):jX(c)?o[p]=yge({},c):b4(c)?o[p]=c.slice():(!n||!W3(c))&&(o[p]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&Cz(arguments[c],i);return o}const M6e=(e,n,o,{allOwnKeys:i}={})=>(Cz(n,(c,d)=>{o&&Vb(c)?e[d]=V2e(c,o):e[d]=c},{allOwnKeys:i}),e),P6e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),N6e=(e,n,o,i)=>{e.prototype=Object.create(n.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),o&&Object.assign(e.prototype,o)},L6e=(e,n,o,i)=>{let c,d,p;const v={};if(n=n||{},e==null)return n;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)p=c[d],(!i||i(p,e,n))&&!v[p]&&(n[p]=e[p],v[p]=!0);e=o!==!1&&i0e(e)}while(e&&(!o||o(e,n))&&e!==Object.prototype);return n},B6e=(e,n,o)=>{e=String(e),(o===void 0||o>e.length)&&(o=e.length),o-=n.length;const i=e.indexOf(n,o);return i!==-1&&i===o},V6e=e=>{if(!e)return null;if(b4(e))return e;let n=e.length;if(!$2e(n))return null;const o=new Array(n);for(;n-- >0;)o[n]=e[n];return o},F6e=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&i0e(Uint8Array)),H6e=(e,n)=>{const i=(e&&e[Xee]).call(e);let c;for(;(c=i.next())&&!c.done;){const d=c.value;n.call(e,d[0],d[1])}},$6e=(e,n)=>{let o;const i=[];for(;(o=e.exec(n))!==null;)i.push(o);return i},U6e=BS("HTMLFormElement"),z6e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,i,c){return i.toUpperCase()+c}),dEe=(({hasOwnProperty:e})=>(n,o)=>e.call(n,o))(Object.prototype),j6e=BS("RegExp"),j2e=(e,n)=>{const o=Object.getOwnPropertyDescriptors(e),i={};Cz(o,(c,d)=>{let p;(p=n(c,d,e))!==!1&&(i[d]=p||c)}),Object.defineProperties(e,i)},W6e=e=>{j2e(e,(n,o)=>{if(Vb(e)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const i=e[o];if(Vb(i)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},G6e=(e,n)=>{const o={},i=c=>{c.forEach(d=>{o[d]=!0})};return b4(e)?i(e):i(String(e).split(n)),o},q6e=()=>{},Z6e=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function K6e(e){return!!(e&&Vb(e.append)&&e[F2e]==="FormData"&&e[Xee])}const Y6e=e=>{const n=new Array(10),o=(i,c)=>{if(Sz(i)){if(n.indexOf(i)>=0)return;if(yz(i))return i;if(!("toJSON"in i)){n[c]=i;const d=b4(i)?[]:{};return Cz(i,(p,v)=>{const S=o(p,c+1);!W3(S)&&(d[v]=S)}),n[c]=void 0,d}}return i};return o(e,0)},X6e=BS("AsyncFunction"),J6e=e=>e&&(Sz(e)||Vb(e))&&Vb(e.then)&&Vb(e.catch),W2e=((e,n)=>e?setImmediate:n?((o,i)=>(J2.addEventListener("message",({source:c,data:d})=>{c===J2&&d===o&&i.length&&i.shift()()},!1),c=>{i.push(c),J2.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",Vb(J2.postMessage)),Q6e=typeof queueMicrotask<"u"?queueMicrotask.bind(J2):typeof process<"u"&&process.nextTick||W2e,eze=e=>e!=null&&Vb(e[Xee]),qn={isArray:b4,isArrayBuffer:H2e,isBuffer:yz,isFormData:T6e,isArrayBufferView:v6e,isString:b6e,isNumber:$2e,isBoolean:y6e,isObject:Sz,isPlainObject:jX,isEmptyObject:S6e,isReadableStream:O6e,isRequest:I6e,isResponse:R6e,isHeaders:k6e,isUndefined:W3,isDate:C6e,isFile:E6e,isBlob:w6e,isRegExp:j6e,isFunction:Vb,isStream:A6e,isURLSearchParams:x6e,isTypedArray:F6e,isFileList:_6e,forEach:Cz,merge:yge,extend:M6e,trim:D6e,stripBOM:P6e,inherits:N6e,toFlatObject:L6e,kindOf:Jee,kindOfTest:BS,endsWith:B6e,toArray:V6e,forEachEntry:H6e,matchAll:$6e,isHTMLForm:U6e,hasOwnProperty:dEe,hasOwnProp:dEe,reduceDescriptors:j2e,freezeMethods:W6e,toObjectSet:G6e,toCamelCase:z6e,noop:q6e,toFiniteNumber:Z6e,findKey:U2e,global:J2,isContextDefined:z2e,isSpecCompliantForm:K6e,toJSONObject:Y6e,isAsyncFn:X6e,isThenable:J6e,setImmediate:W2e,asap:Q6e,isIterable:eze};function Ji(e,n,o,i,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),o&&(this.config=o),i&&(this.request=i),c&&(this.response=c,this.status=c.status?c.status:null)}qn.inherits(Ji,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qn.toJSONObject(this.config),code:this.code,status:this.status}}});const G2e=Ji.prototype,q2e={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{q2e[e]={value:e}});Object.defineProperties(Ji,q2e);Object.defineProperty(G2e,"isAxiosError",{value:!0});Ji.from=(e,n,o,i,c,d)=>{const p=Object.create(G2e);qn.toFlatObject(e,p,function(x){return x!==Error.prototype},_=>_!=="isAxiosError");const v=e&&e.message?e.message:"Error",S=n==null&&e?e.code:n;return Ji.call(p,v,S,o,i,c),e&&p.cause==null&&Object.defineProperty(p,"cause",{value:e,configurable:!0}),p.name=e&&e.name||"Error",d&&Object.assign(p,d),p};const tze=null;function Sge(e){return qn.isPlainObject(e)||qn.isArray(e)}function Z2e(e){return qn.endsWith(e,"[]")?e.slice(0,-2):e}function hEe(e,n,o){return e?e.concat(n).map(function(c,d){return c=Z2e(c),!o&&d?"["+c+"]":c}).join(o?".":""):n}function nze(e){return qn.isArray(e)&&!e.some(Sge)}const oze=qn.toFlatObject(qn,{},null,function(n){return/^is[A-Z]/.test(n)});function ete(e,n,o){if(!qn.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,o=qn.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(H,K){return!qn.isUndefined(K[H])});const i=o.metaTokens,c=o.visitor||x,d=o.dots,p=o.indexes,S=(o.Blob||typeof Blob<"u"&&Blob)&&qn.isSpecCompliantForm(n);if(!qn.isFunction(c))throw new TypeError("visitor must be a function");function _(U){if(U===null)return"";if(qn.isDate(U))return U.toISOString();if(qn.isBoolean(U))return U.toString();if(!S&&qn.isBlob(U))throw new Ji("Blob is not supported. Use a Buffer instead.");return qn.isArrayBuffer(U)||qn.isTypedArray(U)?S&&typeof Blob=="function"?new Blob([U]):Buffer.from(U):U}function x(U,H,K){let oe=U;if(U&&!K&&typeof U=="object"){if(qn.endsWith(H,"{}"))H=i?H:H.slice(0,-2),U=JSON.stringify(U);else if(qn.isArray(U)&&nze(U)||(qn.isFileList(U)||qn.endsWith(H,"[]"))&&(oe=qn.toArray(U)))return H=Z2e(H),oe.forEach(function(re,ye){!(qn.isUndefined(re)||re===null)&&n.append(p===!0?hEe([H],ye,d):p===null?H:H+"[]",_(re))}),!1}return Sge(U)?!0:(n.append(hEe(K,H,d),_(U)),!1)}const P=[],B=Object.assign(oze,{defaultVisitor:x,convertValue:_,isVisitable:Sge});function z(U,H){if(!qn.isUndefined(U)){if(P.indexOf(U)!==-1)throw Error("Circular reference detected in "+H.join("."));P.push(U),qn.forEach(U,function(oe,ce){(!(qn.isUndefined(oe)||oe===null)&&c.call(n,oe,qn.isString(ce)?ce.trim():ce,H,B))===!0&&z(oe,H?H.concat(ce):[ce])}),P.pop()}}if(!qn.isObject(e))throw new TypeError("data must be an object");return z(e),n}function fEe(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return n[i]})}function a0e(e,n){this._pairs=[],e&&ete(e,this,n)}const K2e=a0e.prototype;K2e.append=function(n,o){this._pairs.push([n,o])};K2e.toString=function(n){const o=n?function(i){return n.call(this,i,fEe)}:fEe;return this._pairs.map(function(c){return o(c[0])+"="+o(c[1])},"").join("&")};function sze(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Y2e(e,n,o){if(!n)return e;const i=o&&o.encode||sze;qn.isFunction(o)&&(o={serialize:o});const c=o&&o.serialize;let d;if(c?d=c(n,o):d=qn.isURLSearchParams(n)?n.toString():new a0e(n,o).toString(i),d){const p=e.indexOf("#");p!==-1&&(e=e.slice(0,p)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class pEe{constructor(){this.handlers=[]}use(n,o,i){return this.handlers.push({fulfilled:n,rejected:o,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){qn.forEach(this.handlers,function(i){i!==null&&n(i)})}}const X2e={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rze=typeof URLSearchParams<"u"?URLSearchParams:a0e,ize=typeof FormData<"u"?FormData:null,aze=typeof Blob<"u"?Blob:null,lze={isBrowser:!0,classes:{URLSearchParams:rze,FormData:ize,Blob:aze},protocols:["http","https","file","blob","url","data"]},l0e=typeof window<"u"&&typeof document<"u",Cge=typeof navigator=="object"&&navigator||void 0,cze=l0e&&(!Cge||["ReactNative","NativeScript","NS"].indexOf(Cge.product)<0),uze=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dze=l0e&&window.location.href||"http://localhost",hze=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:l0e,hasStandardBrowserEnv:cze,hasStandardBrowserWebWorkerEnv:uze,navigator:Cge,origin:dze},Symbol.toStringTag,{value:"Module"})),Cg={...hze,...lze};function fze(e,n){return ete(e,new Cg.classes.URLSearchParams,{visitor:function(o,i,c,d){return Cg.isNode&&qn.isBuffer(o)?(this.append(i,o.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...n})}function pze(e){return qn.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function mze(e){const n={},o=Object.keys(e);let i;const c=o.length;let d;for(i=0;i<c;i++)d=o[i],n[d]=e[d];return n}function J2e(e){function n(o,i,c,d){let p=o[d++];if(p==="__proto__")return!0;const v=Number.isFinite(+p),S=d>=o.length;return p=!p&&qn.isArray(c)?c.length:p,S?(qn.hasOwnProp(c,p)?c[p]=[c[p],i]:c[p]=i,!v):((!c[p]||!qn.isObject(c[p]))&&(c[p]=[]),n(o,i,c[p],d)&&qn.isArray(c[p])&&(c[p]=mze(c[p])),!v)}if(qn.isFormData(e)&&qn.isFunction(e.entries)){const o={};return qn.forEachEntry(e,(i,c)=>{n(pze(i),c,o,0)}),o}return null}function gze(e,n,o){if(qn.isString(e))try{return(n||JSON.parse)(e),qn.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(o||JSON.stringify)(e)}const Ez={transitional:X2e,adapter:["xhr","http","fetch"],transformRequest:[function(n,o){const i=o.getContentType()||"",c=i.indexOf("application/json")>-1,d=qn.isObject(n);if(d&&qn.isHTMLForm(n)&&(n=new FormData(n)),qn.isFormData(n))return c?JSON.stringify(J2e(n)):n;if(qn.isArrayBuffer(n)||qn.isBuffer(n)||qn.isStream(n)||qn.isFile(n)||qn.isBlob(n)||qn.isReadableStream(n))return n;if(qn.isArrayBufferView(n))return n.buffer;if(qn.isURLSearchParams(n))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let v;if(d){if(i.indexOf("application/x-www-form-urlencoded")>-1)return fze(n,this.formSerializer).toString();if((v=qn.isFileList(n))||i.indexOf("multipart/form-data")>-1){const S=this.env&&this.env.FormData;return ete(v?{"files[]":n}:n,S&&new S,this.formSerializer)}}return d||c?(o.setContentType("application/json",!1),gze(n)):n}],transformResponse:[function(n){const o=this.transitional||Ez.transitional,i=o&&o.forcedJSONParsing,c=this.responseType==="json";if(qn.isResponse(n)||qn.isReadableStream(n))return n;if(n&&qn.isString(n)&&(i&&!this.responseType||c)){const p=!(o&&o.silentJSONParsing)&&c;try{return JSON.parse(n,this.parseReviver)}catch(v){if(p)throw v.name==="SyntaxError"?Ji.from(v,Ji.ERR_BAD_RESPONSE,this,null,this.response):v}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cg.classes.FormData,Blob:Cg.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qn.forEach(["delete","get","head","post","put","patch"],e=>{Ez.headers[e]={}});const vze=qn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bze=e=>{const n={};let o,i,c;return e&&e.split(`
`).forEach(function(p){c=p.indexOf(":"),o=p.substring(0,c).trim().toLowerCase(),i=p.substring(c+1).trim(),!(!o||n[o]&&vze[o])&&(o==="set-cookie"?n[o]?n[o].push(i):n[o]=[i]:n[o]=n[o]?n[o]+", "+i:i)}),n},mEe=Symbol("internals");function S5(e){return e&&String(e).trim().toLowerCase()}function WX(e){return e===!1||e==null?e:qn.isArray(e)?e.map(WX):String(e)}function yze(e){const n=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=o.exec(e);)n[i[1]]=i[2];return n}const Sze=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function wpe(e,n,o,i,c){if(qn.isFunction(i))return i.call(this,n,o);if(c&&(n=o),!!qn.isString(n)){if(qn.isString(i))return n.indexOf(i)!==-1;if(qn.isRegExp(i))return i.test(n)}}function Cze(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,o,i)=>o.toUpperCase()+i)}function Eze(e,n){const o=qn.toCamelCase(" "+n);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+o,{value:function(c,d,p){return this[i].call(this,n,c,d,p)},configurable:!0})})}let Fb=class{constructor(n){n&&this.set(n)}set(n,o,i){const c=this;function d(v,S,_){const x=S5(S);if(!x)throw new Error("header name must be a non-empty string");const P=qn.findKey(c,x);(!P||c[P]===void 0||_===!0||_===void 0&&c[P]!==!1)&&(c[P||S]=WX(v))}const p=(v,S)=>qn.forEach(v,(_,x)=>d(_,x,S));if(qn.isPlainObject(n)||n instanceof this.constructor)p(n,o);else if(qn.isString(n)&&(n=n.trim())&&!Sze(n))p(bze(n),o);else if(qn.isObject(n)&&qn.isIterable(n)){let v={},S,_;for(const x of n){if(!qn.isArray(x))throw TypeError("Object iterator must return a key-value pair");v[_=x[0]]=(S=v[_])?qn.isArray(S)?[...S,x[1]]:[S,x[1]]:x[1]}p(v,o)}else n!=null&&d(o,n,i);return this}get(n,o){if(n=S5(n),n){const i=qn.findKey(this,n);if(i){const c=this[i];if(!o)return c;if(o===!0)return yze(c);if(qn.isFunction(o))return o.call(this,c,i);if(qn.isRegExp(o))return o.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,o){if(n=S5(n),n){const i=qn.findKey(this,n);return!!(i&&this[i]!==void 0&&(!o||wpe(this,this[i],i,o)))}return!1}delete(n,o){const i=this;let c=!1;function d(p){if(p=S5(p),p){const v=qn.findKey(i,p);v&&(!o||wpe(i,i[v],v,o))&&(delete i[v],c=!0)}}return qn.isArray(n)?n.forEach(d):d(n),c}clear(n){const o=Object.keys(this);let i=o.length,c=!1;for(;i--;){const d=o[i];(!n||wpe(this,this[d],d,n,!0))&&(delete this[d],c=!0)}return c}normalize(n){const o=this,i={};return qn.forEach(this,(c,d)=>{const p=qn.findKey(i,d);if(p){o[p]=WX(c),delete o[d];return}const v=n?Cze(d):String(d).trim();v!==d&&delete o[d],o[v]=WX(c),i[v]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const o=Object.create(null);return qn.forEach(this,(i,c)=>{i!=null&&i!==!1&&(o[c]=n&&qn.isArray(i)?i.join(", "):i)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,o])=>n+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...o){const i=new this(n);return o.forEach(c=>i.set(c)),i}static accessor(n){const i=(this[mEe]=this[mEe]={accessors:{}}).accessors,c=this.prototype;function d(p){const v=S5(p);i[v]||(Eze(c,p),i[v]=!0)}return qn.isArray(n)?n.forEach(d):d(n),this}};Fb.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);qn.reduceDescriptors(Fb.prototype,({value:e},n)=>{let o=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(i){this[o]=i}}});qn.freezeMethods(Fb);function _pe(e,n){const o=this||Ez,i=n||o,c=Fb.from(i.headers);let d=i.data;return qn.forEach(e,function(v){d=v.call(o,d,c.normalize(),n?n.status:void 0)}),c.normalize(),d}function Q2e(e){return!!(e&&e.__CANCEL__)}function y4(e,n,o){Ji.call(this,e??"canceled",Ji.ERR_CANCELED,n,o),this.name="CanceledError"}qn.inherits(y4,Ji,{__CANCEL__:!0});function eke(e,n,o){const i=o.config.validateStatus;!o.status||!i||i(o.status)?e(o):n(new Ji("Request failed with status code "+o.status,[Ji.ERR_BAD_REQUEST,Ji.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function wze(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function _ze(e,n){e=e||10;const o=new Array(e),i=new Array(e);let c=0,d=0,p;return n=n!==void 0?n:1e3,function(S){const _=Date.now(),x=i[d];p||(p=_),o[c]=S,i[c]=_;let P=d,B=0;for(;P!==c;)B+=o[P++],P=P%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),_-p<n)return;const z=x&&_-x;return z?Math.round(B*1e3/z):void 0}}function Aze(e,n){let o=0,i=1e3/n,c,d;const p=(_,x=Date.now())=>{o=x,c=null,d&&(clearTimeout(d),d=null),e(..._)};return[(..._)=>{const x=Date.now(),P=x-o;P>=i?p(_,x):(c=_,d||(d=setTimeout(()=>{d=null,p(c)},i-P)))},()=>c&&p(c)]}const hQ=(e,n,o=3)=>{let i=0;const c=_ze(50,250);return Aze(d=>{const p=d.loaded,v=d.lengthComputable?d.total:void 0,S=p-i,_=c(S),x=p<=v;i=p;const P={loaded:p,total:v,progress:v?p/v:void 0,bytes:S,rate:_||void 0,estimated:_&&v&&x?(v-p)/_:void 0,event:d,lengthComputable:v!=null,[n?"download":"upload"]:!0};e(P)},o)},gEe=(e,n)=>{const o=e!=null;return[i=>n[0]({lengthComputable:o,total:e,loaded:i}),n[1]]},vEe=e=>(...n)=>qn.asap(()=>e(...n)),Tze=Cg.hasStandardBrowserEnv?((e,n)=>o=>(o=new URL(o,Cg.origin),e.protocol===o.protocol&&e.host===o.host&&(n||e.port===o.port)))(new URL(Cg.origin),Cg.navigator&&/(msie|trident)/i.test(Cg.navigator.userAgent)):()=>!0,xze=Cg.hasStandardBrowserEnv?{write(e,n,o,i,c,d){const p=[e+"="+encodeURIComponent(n)];qn.isNumber(o)&&p.push("expires="+new Date(o).toGMTString()),qn.isString(i)&&p.push("path="+i),qn.isString(c)&&p.push("domain="+c),d===!0&&p.push("secure"),document.cookie=p.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Oze(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ize(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function tke(e,n,o){let i=!Oze(n);return e&&(i||o==!1)?Ize(e,n):n}const bEe=e=>e instanceof Fb?{...e}:e;function kk(e,n){n=n||{};const o={};function i(_,x,P,B){return qn.isPlainObject(_)&&qn.isPlainObject(x)?qn.merge.call({caseless:B},_,x):qn.isPlainObject(x)?qn.merge({},x):qn.isArray(x)?x.slice():x}function c(_,x,P,B){if(qn.isUndefined(x)){if(!qn.isUndefined(_))return i(void 0,_,P,B)}else return i(_,x,P,B)}function d(_,x){if(!qn.isUndefined(x))return i(void 0,x)}function p(_,x){if(qn.isUndefined(x)){if(!qn.isUndefined(_))return i(void 0,_)}else return i(void 0,x)}function v(_,x,P){if(P in n)return i(_,x);if(P in e)return i(void 0,_)}const S={url:d,method:d,data:d,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:v,headers:(_,x,P)=>c(bEe(_),bEe(x),P,!0)};return qn.forEach(Object.keys({...e,...n}),function(x){const P=S[x]||c,B=P(e[x],n[x],x);qn.isUndefined(B)&&P!==v||(o[x]=B)}),o}const nke=e=>{const n=kk({},e);let{data:o,withXSRFToken:i,xsrfHeaderName:c,xsrfCookieName:d,headers:p,auth:v}=n;if(n.headers=p=Fb.from(p),n.url=Y2e(tke(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),v&&p.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):""))),qn.isFormData(o)){if(Cg.hasStandardBrowserEnv||Cg.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(qn.isFunction(o.getHeaders)){const S=o.getHeaders(),_=["content-type","content-length"];Object.entries(S).forEach(([x,P])=>{_.includes(x.toLowerCase())&&p.set(x,P)})}}if(Cg.hasStandardBrowserEnv&&(i&&qn.isFunction(i)&&(i=i(n)),i||i!==!1&&Tze(n.url))){const S=c&&d&&xze.read(d);S&&p.set(c,S)}return n},Rze=typeof XMLHttpRequest<"u",kze=Rze&&function(e){return new Promise(function(o,i){const c=nke(e);let d=c.data;const p=Fb.from(c.headers).normalize();let{responseType:v,onUploadProgress:S,onDownloadProgress:_}=c,x,P,B,z,U;function H(){z&&z(),U&&U(),c.cancelToken&&c.cancelToken.unsubscribe(x),c.signal&&c.signal.removeEventListener("abort",x)}let K=new XMLHttpRequest;K.open(c.method.toUpperCase(),c.url,!0),K.timeout=c.timeout;function oe(){if(!K)return;const re=Fb.from("getAllResponseHeaders"in K&&K.getAllResponseHeaders()),_e={data:!v||v==="text"||v==="json"?K.responseText:K.response,status:K.status,statusText:K.statusText,headers:re,config:e,request:K};eke(function(F){o(F),H()},function(F){i(F),H()},_e),K=null}"onloadend"in K?K.onloadend=oe:K.onreadystatechange=function(){!K||K.readyState!==4||K.status===0&&!(K.responseURL&&K.responseURL.indexOf("file:")===0)||setTimeout(oe)},K.onabort=function(){K&&(i(new Ji("Request aborted",Ji.ECONNABORTED,e,K)),K=null)},K.onerror=function(ye){const _e=ye&&ye.message?ye.message:"Network Error",Oe=new Ji(_e,Ji.ERR_NETWORK,e,K);Oe.event=ye||null,i(Oe),K=null},K.ontimeout=function(){let ye=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const _e=c.transitional||X2e;c.timeoutErrorMessage&&(ye=c.timeoutErrorMessage),i(new Ji(ye,_e.clarifyTimeoutError?Ji.ETIMEDOUT:Ji.ECONNABORTED,e,K)),K=null},d===void 0&&p.setContentType(null),"setRequestHeader"in K&&qn.forEach(p.toJSON(),function(ye,_e){K.setRequestHeader(_e,ye)}),qn.isUndefined(c.withCredentials)||(K.withCredentials=!!c.withCredentials),v&&v!=="json"&&(K.responseType=c.responseType),_&&([B,U]=hQ(_,!0),K.addEventListener("progress",B)),S&&K.upload&&([P,z]=hQ(S),K.upload.addEventListener("progress",P),K.upload.addEventListener("loadend",z)),(c.cancelToken||c.signal)&&(x=re=>{K&&(i(!re||re.type?new y4(null,e,K):re),K.abort(),K=null)},c.cancelToken&&c.cancelToken.subscribe(x),c.signal&&(c.signal.aborted?x():c.signal.addEventListener("abort",x)));const ce=wze(c.url);if(ce&&Cg.protocols.indexOf(ce)===-1){i(new Ji("Unsupported protocol "+ce+":",Ji.ERR_BAD_REQUEST,e));return}K.send(d||null)})},Dze=(e,n)=>{const{length:o}=e=e?e.filter(Boolean):[];if(n||o){let i=new AbortController,c;const d=function(_){if(!c){c=!0,v();const x=_ instanceof Error?_:this.reason;i.abort(x instanceof Ji?x:new y4(x instanceof Error?x.message:x))}};let p=n&&setTimeout(()=>{p=null,d(new Ji(`timeout ${n} of ms exceeded`,Ji.ETIMEDOUT))},n);const v=()=>{e&&(p&&clearTimeout(p),p=null,e.forEach(_=>{_.unsubscribe?_.unsubscribe(d):_.removeEventListener("abort",d)}),e=null)};e.forEach(_=>_.addEventListener("abort",d));const{signal:S}=i;return S.unsubscribe=()=>qn.asap(v),S}},Mze=function*(e,n){let o=e.byteLength;if(o<n){yield e;return}let i=0,c;for(;i<o;)c=i+n,yield e.slice(i,c),i=c},Pze=async function*(e,n){for await(const o of Nze(e))yield*Mze(o,n)},Nze=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:o,value:i}=await n.read();if(o)break;yield i}}finally{await n.cancel()}},yEe=(e,n,o,i)=>{const c=Pze(e,n);let d=0,p,v=S=>{p||(p=!0,i&&i(S))};return new ReadableStream({async pull(S){try{const{done:_,value:x}=await c.next();if(_){v(),S.close();return}let P=x.byteLength;if(o){let B=d+=P;o(B)}S.enqueue(new Uint8Array(x))}catch(_){throw v(_),_}},cancel(S){return v(S),c.return()}},{highWaterMark:2})},SEe=64*1024,{isFunction:nX}=qn,Lze=(({Request:e,Response:n})=>({Request:e,Response:n}))(qn.global),{ReadableStream:CEe,TextEncoder:EEe}=qn.global,wEe=(e,...n)=>{try{return!!e(...n)}catch{return!1}},Bze=e=>{e=qn.merge.call({skipUndefined:!0},Lze,e);const{fetch:n,Request:o,Response:i}=e,c=n?nX(n):typeof fetch=="function",d=nX(o),p=nX(i);if(!c)return!1;const v=c&&nX(CEe),S=c&&(typeof EEe=="function"?(U=>H=>U.encode(H))(new EEe):async U=>new Uint8Array(await new o(U).arrayBuffer())),_=d&&v&&wEe(()=>{let U=!1;const H=new o(Cg.origin,{body:new CEe,method:"POST",get duplex(){return U=!0,"half"}}).headers.has("Content-Type");return U&&!H}),x=p&&v&&wEe(()=>qn.isReadableStream(new i("").body)),P={stream:x&&(U=>U.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(U=>{!P[U]&&(P[U]=(H,K)=>{let oe=H&&H[U];if(oe)return oe.call(H);throw new Ji(`Response type '${U}' is not supported`,Ji.ERR_NOT_SUPPORT,K)})});const B=async U=>{if(U==null)return 0;if(qn.isBlob(U))return U.size;if(qn.isSpecCompliantForm(U))return(await new o(Cg.origin,{method:"POST",body:U}).arrayBuffer()).byteLength;if(qn.isArrayBufferView(U)||qn.isArrayBuffer(U))return U.byteLength;if(qn.isURLSearchParams(U)&&(U=U+""),qn.isString(U))return(await S(U)).byteLength},z=async(U,H)=>{const K=qn.toFiniteNumber(U.getContentLength());return K??B(H)};return async U=>{let{url:H,method:K,data:oe,signal:ce,cancelToken:re,timeout:ye,onDownloadProgress:_e,onUploadProgress:Oe,responseType:F,headers:Me,withCredentials:ot="same-origin",fetchOptions:Fe}=nke(U),De=n||fetch;F=F?(F+"").toLowerCase():"text";let we=Dze([ce,re&&re.toAbortSignal()],ye),ct=null;const rt=we&&we.unsubscribe&&(()=>{we.unsubscribe()});let gt;try{if(Oe&&_&&K!=="get"&&K!=="head"&&(gt=await z(Me,oe))!==0){let st=new o(H,{method:"POST",body:oe,duplex:"half"}),vn;if(qn.isFormData(oe)&&(vn=st.headers.get("content-type"))&&Me.setContentType(vn),st.body){const[To,Nn]=gEe(gt,hQ(vEe(Oe)));oe=yEe(st.body,SEe,To,Nn)}}qn.isString(ot)||(ot=ot?"include":"omit");const ee=d&&"credentials"in o.prototype,on={...Fe,signal:we,method:K.toUpperCase(),headers:Me.normalize().toJSON(),body:oe,duplex:"half",credentials:ee?ot:void 0};ct=d&&new o(H,on);let nt=await(d?De(ct,Fe):De(H,on));const Mt=x&&(F==="stream"||F==="response");if(x&&(_e||Mt&&rt)){const st={};["status","statusText","headers"].forEach(ho=>{st[ho]=nt[ho]});const vn=qn.toFiniteNumber(nt.headers.get("content-length")),[To,Nn]=_e&&gEe(vn,hQ(vEe(_e),!0))||[];nt=new i(yEe(nt.body,SEe,To,()=>{Nn&&Nn(),rt&&rt()}),st)}F=F||"text";let Pt=await P[qn.findKey(P,F)||"text"](nt,U);return!Mt&&rt&&rt(),await new Promise((st,vn)=>{eke(st,vn,{data:Pt,headers:Fb.from(nt.headers),status:nt.status,statusText:nt.statusText,config:U,request:ct})})}catch(ee){throw rt&&rt(),ee&&ee.name==="TypeError"&&/Load failed|fetch/i.test(ee.message)?Object.assign(new Ji("Network Error",Ji.ERR_NETWORK,U,ct),{cause:ee.cause||ee}):Ji.from(ee,ee&&ee.code,U,ct)}}},Vze=new Map,oke=e=>{let n=e?e.env:{};const{fetch:o,Request:i,Response:c}=n,d=[i,c,o];let p=d.length,v=p,S,_,x=Vze;for(;v--;)S=d[v],_=x.get(S),_===void 0&&x.set(S,_=v?new Map:Bze(n)),x=_;return _};oke();const Ege={http:tze,xhr:kze,fetch:{get:oke}};qn.forEach(Ege,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const _Ee=e=>`- ${e}`,Fze=e=>qn.isFunction(e)||e===null||e===!1,ske={getAdapter:(e,n)=>{e=qn.isArray(e)?e:[e];const{length:o}=e;let i,c;const d={};for(let p=0;p<o;p++){i=e[p];let v;if(c=i,!Fze(i)&&(c=Ege[(v=String(i)).toLowerCase()],c===void 0))throw new Ji(`Unknown adapter '${v}'`);if(c&&(qn.isFunction(c)||(c=c.get(n))))break;d[v||"#"+p]=c}if(!c){const p=Object.entries(d).map(([S,_])=>`adapter ${S} `+(_===!1?"is not supported by the environment":"is not available in the build"));let v=o?p.length>1?`since :
`+p.map(_Ee).join(`
`):" "+_Ee(p[0]):"as no adapter specified";throw new Ji("There is no suitable adapter to dispatch the request "+v,"ERR_NOT_SUPPORT")}return c},adapters:Ege};function Ape(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new y4(null,e)}function AEe(e){return Ape(e),e.headers=Fb.from(e.headers),e.data=_pe.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ske.getAdapter(e.adapter||Ez.adapter,e)(e).then(function(i){return Ape(e),i.data=_pe.call(e,e.transformResponse,i),i.headers=Fb.from(i.headers),i},function(i){return Q2e(i)||(Ape(e),i&&i.response&&(i.response.data=_pe.call(e,e.transformResponse,i.response),i.response.headers=Fb.from(i.response.headers))),Promise.reject(i)})}const rke="1.12.2",tte={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{tte[e]=function(i){return typeof i===e||"a"+(n<1?"n ":" ")+e}});const TEe={};tte.transitional=function(n,o,i){function c(d,p){return"[Axios v"+rke+"] Transitional option '"+d+"'"+p+(i?". "+i:"")}return(d,p,v)=>{if(n===!1)throw new Ji(c(p," has been removed"+(o?" in "+o:"")),Ji.ERR_DEPRECATED);return o&&!TEe[p]&&(TEe[p]=!0,console.warn(c(p," has been deprecated since v"+o+" and will be removed in the near future"))),n?n(d,p,v):!0}};tte.spelling=function(n){return(o,i)=>(console.warn(`${i} is likely a misspelling of ${n}`),!0)};function Hze(e,n,o){if(typeof e!="object")throw new Ji("options must be an object",Ji.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let c=i.length;for(;c-- >0;){const d=i[c],p=n[d];if(p){const v=e[d],S=v===void 0||p(v,d,e);if(S!==!0)throw new Ji("option "+d+" must be "+S,Ji.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new Ji("Unknown option "+d,Ji.ERR_BAD_OPTION)}}const GX={assertOptions:Hze,validators:tte},sE=GX.validators;let hk=class{constructor(n){this.defaults=n||{},this.interceptors={request:new pEe,response:new pEe}}async request(n,o){try{return await this._request(n,o)}catch(i){if(i instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{i.stack?d&&!String(i.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+d):i.stack=d}catch{}}throw i}}_request(n,o){typeof n=="string"?(o=o||{},o.url=n):o=n||{},o=kk(this.defaults,o);const{transitional:i,paramsSerializer:c,headers:d}=o;i!==void 0&&GX.assertOptions(i,{silentJSONParsing:sE.transitional(sE.boolean),forcedJSONParsing:sE.transitional(sE.boolean),clarifyTimeoutError:sE.transitional(sE.boolean)},!1),c!=null&&(qn.isFunction(c)?o.paramsSerializer={serialize:c}:GX.assertOptions(c,{encode:sE.function,serialize:sE.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),GX.assertOptions(o,{baseUrl:sE.spelling("baseURL"),withXsrfToken:sE.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let p=d&&qn.merge(d.common,d[o.method]);d&&qn.forEach(["delete","get","head","post","put","patch","common"],U=>{delete d[U]}),o.headers=Fb.concat(p,d);const v=[];let S=!0;this.interceptors.request.forEach(function(H){typeof H.runWhen=="function"&&H.runWhen(o)===!1||(S=S&&H.synchronous,v.unshift(H.fulfilled,H.rejected))});const _=[];this.interceptors.response.forEach(function(H){_.push(H.fulfilled,H.rejected)});let x,P=0,B;if(!S){const U=[AEe.bind(this),void 0];for(U.unshift(...v),U.push(..._),B=U.length,x=Promise.resolve(o);P<B;)x=x.then(U[P++],U[P++]);return x}B=v.length;let z=o;for(;P<B;){const U=v[P++],H=v[P++];try{z=U(z)}catch(K){H.call(this,K);break}}try{x=AEe.call(this,z)}catch(U){return Promise.reject(U)}for(P=0,B=_.length;P<B;)x=x.then(_[P++],_[P++]);return x}getUri(n){n=kk(this.defaults,n);const o=tke(n.baseURL,n.url,n.allowAbsoluteUrls);return Y2e(o,n.params,n.paramsSerializer)}};qn.forEach(["delete","get","head","options"],function(n){hk.prototype[n]=function(o,i){return this.request(kk(i||{},{method:n,url:o,data:(i||{}).data}))}});qn.forEach(["post","put","patch"],function(n){function o(i){return function(d,p,v){return this.request(kk(v||{},{method:n,headers:i?{"Content-Type":"multipart/form-data"}:{},url:d,data:p}))}}hk.prototype[n]=o(),hk.prototype[n+"Form"]=o(!0)});let $ze=class ike{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(d){o=d});const i=this;this.promise.then(c=>{if(!i._listeners)return;let d=i._listeners.length;for(;d-- >0;)i._listeners[d](c);i._listeners=null}),this.promise.then=c=>{let d;const p=new Promise(v=>{i.subscribe(v),d=v}).then(c);return p.cancel=function(){i.unsubscribe(d)},p},n(function(d,p,v){i.reason||(i.reason=new y4(d,p,v),o(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const o=this._listeners.indexOf(n);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const n=new AbortController,o=i=>{n.abort(i)};return this.subscribe(o),n.signal.unsubscribe=()=>this.unsubscribe(o),n.signal}static source(){let n;return{token:new ike(function(c){n=c}),cancel:n}}};function Uze(e){return function(o){return e.apply(null,o)}}function zze(e){return qn.isObject(e)&&e.isAxiosError===!0}const wge={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wge).forEach(([e,n])=>{wge[n]=e});function ake(e){const n=new hk(e),o=V2e(hk.prototype.request,n);return qn.extend(o,hk.prototype,n,{allOwnKeys:!0}),qn.extend(o,n,null,{allOwnKeys:!0}),o.create=function(c){return ake(kk(e,c))},o}const Ah=ake(Ez);Ah.Axios=hk;Ah.CanceledError=y4;Ah.CancelToken=$ze;Ah.isCancel=Q2e;Ah.VERSION=rke;Ah.toFormData=ete;Ah.AxiosError=Ji;Ah.Cancel=Ah.CanceledError;Ah.all=function(n){return Promise.all(n)};Ah.spread=Uze;Ah.isAxiosError=zze;Ah.mergeConfig=kk;Ah.AxiosHeaders=Fb;Ah.formToJSON=e=>J2e(qn.isHTMLForm(e)?new FormData(e):e);Ah.getAdapter=ske.getAdapter;Ah.HttpStatusCode=wge;Ah.default=Ah;const{Axios:UXe,AxiosError:zXe,CanceledError:jXe,isCancel:WXe,CancelToken:GXe,VERSION:qXe,all:ZXe,Cancel:KXe,isAxiosError:YXe,spread:XXe,toFormData:JXe,AxiosHeaders:QXe,HttpStatusCode:eJe,formToJSON:tJe,getAdapter:nJe,mergeConfig:oJe}=Ah;window.axios=Ah;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var _ge=!1,Age=!1,fk=[],Tge=-1;function jze(e){Wze(e)}function Wze(e){fk.includes(e)||fk.push(e),qze()}function Gze(e){let n=fk.indexOf(e);n!==-1&&n>Tge&&fk.splice(n,1)}function qze(){!Age&&!_ge&&(_ge=!0,queueMicrotask(Zze))}function Zze(){_ge=!1,Age=!0;for(let e=0;e<fk.length;e++)fk[e](),Tge=e;fk.length=0,Tge=-1,Age=!1}var S4,Gk,C4,lke,xge=!0;function Kze(e){xge=!1,e(),xge=!0}function Yze(e){S4=e.reactive,C4=e.release,Gk=n=>e.effect(n,{scheduler:o=>{xge?jze(o):o()}}),lke=e.raw}function xEe(e){Gk=e}function Xze(e){let n=()=>{};return[i=>{let c=Gk(i);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(d=>d())}),e._x_effects.add(c),n=()=>{c!==void 0&&(e._x_effects.delete(c),C4(c))},c},()=>{n()}]}function cke(e,n){let o=!0,i,c=Gk(()=>{let d=e();JSON.stringify(d),o?i=d:queueMicrotask(()=>{n(d,i),i=d}),o=!1});return()=>C4(c)}var uke=[],dke=[],hke=[];function Jze(e){hke.push(e)}function c0e(e,n){typeof n=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(n)):(n=e,dke.push(n))}function fke(e){uke.push(e)}function pke(e,n,o){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[n]||(e._x_attributeCleanups[n]=[]),e._x_attributeCleanups[n].push(o)}function mke(e,n){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([o,i])=>{(n===void 0||n.includes(o))&&(i.forEach(c=>c()),delete e._x_attributeCleanups[o])})}function Qze(e){for(e._x_effects?.forEach(Gze);e._x_cleanups?.length;)e._x_cleanups.pop()()}var u0e=new MutationObserver(p0e),d0e=!1;function h0e(){u0e.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),d0e=!0}function gke(){eje(),u0e.disconnect(),d0e=!1}var C5=[];function eje(){let e=u0e.takeRecords();C5.push(()=>e.length>0&&p0e(e));let n=C5.length;queueMicrotask(()=>{if(C5.length===n)for(;C5.length>0;)C5.shift()()})}function _d(e){if(!d0e)return e();gke();let n=e();return h0e(),n}var f0e=!1,fQ=[];function tje(){f0e=!0}function nje(){f0e=!1,p0e(fQ),fQ=[]}function p0e(e){if(f0e){fQ=fQ.concat(e);return}let n=[],o=new Set,i=new Map,c=new Map;for(let d=0;d<e.length;d++)if(!e[d].target._x_ignoreMutationObserver&&(e[d].type==="childList"&&(e[d].removedNodes.forEach(p=>{p.nodeType===1&&p._x_marker&&o.add(p)}),e[d].addedNodes.forEach(p=>{if(p.nodeType===1){if(o.has(p)){o.delete(p);return}p._x_marker||n.push(p)}})),e[d].type==="attributes")){let p=e[d].target,v=e[d].attributeName,S=e[d].oldValue,_=()=>{i.has(p)||i.set(p,[]),i.get(p).push({name:v,value:p.getAttribute(v)})},x=()=>{c.has(p)||c.set(p,[]),c.get(p).push(v)};p.hasAttribute(v)&&S===null?_():p.hasAttribute(v)?(x(),_()):x()}c.forEach((d,p)=>{mke(p,d)}),i.forEach((d,p)=>{uke.forEach(v=>v(p,d))});for(let d of o)n.some(p=>p.contains(d))||dke.forEach(p=>p(d));for(let d of n)d.isConnected&&hke.forEach(p=>p(d));n=null,o=null,i=null,c=null}function vke(e){return _z(G3(e))}function wz(e,n,o){return e._x_dataStack=[n,...G3(o||e)],()=>{e._x_dataStack=e._x_dataStack.filter(i=>i!==n)}}function G3(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?G3(e.host):e.parentNode?G3(e.parentNode):[]}function _z(e){return new Proxy({objects:e},oje)}var oje={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(n=>Object.keys(n))))},has({objects:e},n){return n==Symbol.unscopables?!1:e.some(o=>Object.prototype.hasOwnProperty.call(o,n)||Reflect.has(o,n))},get({objects:e},n,o){return n=="toJSON"?sje:Reflect.get(e.find(i=>Reflect.has(i,n))||{},n,o)},set({objects:e},n,o,i){const c=e.find(p=>Object.prototype.hasOwnProperty.call(p,n))||e[e.length-1],d=Object.getOwnPropertyDescriptor(c,n);return d?.set&&d?.get?d.set.call(i,o)||!0:Reflect.set(c,n,o)}};function sje(){return Reflect.ownKeys(this).reduce((n,o)=>(n[o]=Reflect.get(this,o),n),{})}function bke(e){let n=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,o=(i,c="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([d,{value:p,enumerable:v}])=>{if(v===!1||p===void 0||typeof p=="object"&&p!==null&&p.__v_skip)return;let S=c===""?d:`${c}.${d}`;typeof p=="object"&&p!==null&&p._x_interceptor?i[d]=p.initialize(e,S,d):n(p)&&p!==i&&!(p instanceof Element)&&o(p,S)})};return o(e)}function yke(e,n=()=>{}){let o={initialValue:void 0,_x_interceptor:!0,initialize(i,c,d){return e(this.initialValue,()=>rje(i,c),p=>Oge(i,c,p),c,d)}};return n(o),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let c=o.initialize.bind(o);o.initialize=(d,p,v)=>{let S=i.initialize(d,p,v);return o.initialValue=S,c(d,p,v)}}else o.initialValue=i;return o}}function rje(e,n){return n.split(".").reduce((o,i)=>o[i],e)}function Oge(e,n,o){if(typeof n=="string"&&(n=n.split(".")),n.length===1)e[n[0]]=o;else{if(n.length===0)throw error;return e[n[0]]||(e[n[0]]={}),Oge(e[n[0]],n.slice(1),o)}}var Ske={};function VS(e,n){Ske[e]=n}function Ige(e,n){let o=ije(n);return Object.entries(Ske).forEach(([i,c])=>{Object.defineProperty(e,`$${i}`,{get(){return c(n,o)},enumerable:!1})}),e}function ije(e){let[n,o]=Tke(e),i={interceptor:yke,...n};return c0e(e,o),i}function aje(e,n,o,...i){try{return o(...i)}catch(c){F6(c,e,n)}}function F6(e,n,o=void 0){e=Object.assign(e??{message:"No error message given."},{el:n,expression:o}),console.warn(`Alpine Expression Error: ${e.message}

${o?'Expression: "'+o+`"

`:""}`,n),setTimeout(()=>{throw e},0)}var qX=!0;function Cke(e){let n=qX;qX=!1;let o=e();return qX=n,o}function pk(e,n,o={}){let i;return kv(e,n)(c=>i=c,o),i}function kv(...e){return Eke(...e)}var Eke=wke;function lje(e){Eke=e}function wke(e,n){let o={};Ige(o,e);let i=[o,...G3(e)],c=typeof n=="function"?cje(i,n):dje(i,n,e);return aje.bind(null,e,n,c)}function cje(e,n){return(o=()=>{},{scope:i={},params:c=[],context:d}={})=>{let p=n.apply(_z([i,...e]),c);pQ(o,p)}}var Tpe={};function uje(e,n){if(Tpe[e])return Tpe[e];let o=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,d=(()=>{try{let p=new o(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`);return Object.defineProperty(p,"name",{value:`[Alpine] ${e}`}),p}catch(p){return F6(p,n,e),Promise.resolve()}})();return Tpe[e]=d,d}function dje(e,n,o){let i=uje(n,o);return(c=()=>{},{scope:d={},params:p=[],context:v}={})=>{i.result=void 0,i.finished=!1;let S=_z([d,...e]);if(typeof i=="function"){let _=i.call(v,i,S).catch(x=>F6(x,o,n));i.finished?(pQ(c,i.result,S,p,o),i.result=void 0):_.then(x=>{pQ(c,x,S,p,o)}).catch(x=>F6(x,o,n)).finally(()=>i.result=void 0)}}}function pQ(e,n,o,i,c){if(qX&&typeof n=="function"){let d=n.apply(o,i);d instanceof Promise?d.then(p=>pQ(e,p,o,i)).catch(p=>F6(p,c,n)):e(d)}else typeof n=="object"&&n instanceof Promise?n.then(d=>e(d)):e(n)}var m0e="x-";function E4(e=""){return m0e+e}function hje(e){m0e=e}var mQ={};function tf(e,n){return mQ[e]=n,{before(o){if(!mQ[o]){console.warn(String.raw`Cannot find directive \`${o}\`. \`${e}\` will use the default order of execution`);return}const i=Q2.indexOf(o);Q2.splice(i>=0?i:Q2.indexOf("DEFAULT"),0,e)}}}function fje(e){return Object.keys(mQ).includes(e)}function g0e(e,n,o){if(n=Array.from(n),e._x_virtualDirectives){let d=Object.entries(e._x_virtualDirectives).map(([v,S])=>({name:v,value:S})),p=_ke(d);d=d.map(v=>p.find(S=>S.name===v.name)?{name:`x-bind:${v.name}`,value:`"${v.value}"`}:v),n=n.concat(d)}let i={};return n.map(Ike((d,p)=>i[d]=p)).filter(kke).map(gje(i,o)).sort(vje).map(d=>mje(e,d))}function _ke(e){return Array.from(e).map(Ike()).filter(n=>!kke(n))}var Rge=!1,z5=new Map,Ake=Symbol();function pje(e){Rge=!0;let n=Symbol();Ake=n,z5.set(n,[]);let o=()=>{for(;z5.get(n).length;)z5.get(n).shift()();z5.delete(n)},i=()=>{Rge=!1,o()};e(o),i()}function Tke(e){let n=[],o=v=>n.push(v),[i,c]=Xze(e);return n.push(c),[{Alpine:Az,effect:i,cleanup:o,evaluateLater:kv.bind(kv,e),evaluate:pk.bind(pk,e)},()=>n.forEach(v=>v())]}function mje(e,n){let o=()=>{},i=mQ[n.type]||o,[c,d]=Tke(e);pke(e,n.original,d);let p=()=>{e._x_ignore||e._x_ignoreSelf||(i.inline&&i.inline(e,n,c),i=i.bind(i,e,n,c),Rge?z5.get(Ake).push(i):i())};return p.runCleanups=d,p}var xke=(e,n)=>({name:o,value:i})=>(o.startsWith(e)&&(o=o.replace(e,n)),{name:o,value:i}),Oke=e=>e;function Ike(e=()=>{}){return({name:n,value:o})=>{let{name:i,value:c}=Rke.reduce((d,p)=>p(d),{name:n,value:o});return i!==n&&e(i,n),{name:i,value:c}}}var Rke=[];function v0e(e){Rke.push(e)}function kke({name:e}){return Dke().test(e)}var Dke=()=>new RegExp(`^${m0e}([^:^.]+)\\b`);function gje(e,n){return({name:o,value:i})=>{let c=o.match(Dke()),d=o.match(/:([a-zA-Z0-9\-_:]+)/),p=o.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],v=n||e[o]||o;return{type:c?c[1]:null,value:d?d[1]:null,modifiers:p.map(S=>S.replace(".","")),expression:i,original:v}}}var kge="DEFAULT",Q2=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",kge,"teleport"];function vje(e,n){let o=Q2.indexOf(e.type)===-1?kge:e.type,i=Q2.indexOf(n.type)===-1?kge:n.type;return Q2.indexOf(o)-Q2.indexOf(i)}function l6(e,n,o={}){e.dispatchEvent(new CustomEvent(n,{detail:o,bubbles:!0,composed:!0,cancelable:!0}))}function Dk(e,n){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(c=>Dk(c,n));return}let o=!1;if(n(e,()=>o=!0),o)return;let i=e.firstElementChild;for(;i;)Dk(i,n),i=i.nextElementSibling}function Y0(e,...n){console.warn(`Alpine Warning: ${e}`,...n)}var OEe=!1;function bje(){OEe&&Y0("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),OEe=!0,document.body||Y0("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),l6(document,"alpine:init"),l6(document,"alpine:initializing"),h0e(),Jze(n=>vA(n,Dk)),c0e(n=>_4(n)),fke((n,o)=>{g0e(n,o).forEach(i=>i())});let e=n=>!nte(n.parentElement,!0);Array.from(document.querySelectorAll(Nke().join(","))).filter(e).forEach(n=>{vA(n)}),l6(document,"alpine:initialized"),setTimeout(()=>{Eje()})}var b0e=[],Mke=[];function Pke(){return b0e.map(e=>e())}function Nke(){return b0e.concat(Mke).map(e=>e())}function Lke(e){b0e.push(e)}function Bke(e){Mke.push(e)}function nte(e,n=!1){return w4(e,o=>{if((n?Nke():Pke()).some(c=>o.matches(c)))return!0})}function w4(e,n){if(e){if(n(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return w4(e.parentElement,n)}}function yje(e){return Pke().some(n=>e.matches(n))}var Vke=[];function Sje(e){Vke.push(e)}var Cje=1;function vA(e,n=Dk,o=()=>{}){w4(e,i=>i._x_ignore)||pje(()=>{n(e,(i,c)=>{i._x_marker||(o(i,c),Vke.forEach(d=>d(i,c)),g0e(i,i.attributes).forEach(d=>d()),i._x_ignore||(i._x_marker=Cje++),i._x_ignore&&c())})})}function _4(e,n=Dk){n(e,o=>{Qze(o),mke(o),delete o._x_marker})}function Eje(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([n,o,i])=>{fje(o)||i.some(c=>{if(document.querySelector(c))return Y0(`found "${c}", but missing ${n} plugin`),!0})})}var Dge=[],y0e=!1;function S0e(e=()=>{}){return queueMicrotask(()=>{y0e||setTimeout(()=>{Mge()})}),new Promise(n=>{Dge.push(()=>{e(),n()})})}function Mge(){for(y0e=!1;Dge.length;)Dge.shift()()}function wje(){y0e=!0}function C0e(e,n){return Array.isArray(n)?IEe(e,n.join(" ")):typeof n=="object"&&n!==null?_je(e,n):typeof n=="function"?C0e(e,n()):IEe(e,n)}function IEe(e,n){let o=c=>c.split(" ").filter(d=>!e.classList.contains(d)).filter(Boolean),i=c=>(e.classList.add(...c),()=>{e.classList.remove(...c)});return n=n===!0?n="":n||"",i(o(n))}function _je(e,n){let o=v=>v.split(" ").filter(Boolean),i=Object.entries(n).flatMap(([v,S])=>S?o(v):!1).filter(Boolean),c=Object.entries(n).flatMap(([v,S])=>S?!1:o(v)).filter(Boolean),d=[],p=[];return c.forEach(v=>{e.classList.contains(v)&&(e.classList.remove(v),p.push(v))}),i.forEach(v=>{e.classList.contains(v)||(e.classList.add(v),d.push(v))}),()=>{p.forEach(v=>e.classList.add(v)),d.forEach(v=>e.classList.remove(v))}}function ote(e,n){return typeof n=="object"&&n!==null?Aje(e,n):Tje(e,n)}function Aje(e,n){let o={};return Object.entries(n).forEach(([i,c])=>{o[i]=e.style[i],i.startsWith("--")||(i=xje(i)),e.style.setProperty(i,c)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{ote(e,o)}}function Tje(e,n){let o=e.getAttribute("style",n);return e.setAttribute("style",n),()=>{e.setAttribute("style",o||"")}}function xje(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Pge(e,n=()=>{}){let o=!1;return function(){o?n.apply(this,arguments):(o=!0,e.apply(this,arguments))}}tf("transition",(e,{value:n,modifiers:o,expression:i},{evaluate:c})=>{typeof i=="function"&&(i=c(i)),i!==!1&&(!i||typeof i=="boolean"?Ije(e,o,n):Oje(e,i,n))});function Oje(e,n,o){Fke(e,C0e,""),{enter:c=>{e._x_transition.enter.during=c},"enter-start":c=>{e._x_transition.enter.start=c},"enter-end":c=>{e._x_transition.enter.end=c},leave:c=>{e._x_transition.leave.during=c},"leave-start":c=>{e._x_transition.leave.start=c},"leave-end":c=>{e._x_transition.leave.end=c}}[o](n)}function Ije(e,n,o){Fke(e,ote);let i=!n.includes("in")&&!n.includes("out")&&!o,c=i||n.includes("in")||["enter"].includes(o),d=i||n.includes("out")||["leave"].includes(o);n.includes("in")&&!i&&(n=n.filter((oe,ce)=>ce<n.indexOf("out"))),n.includes("out")&&!i&&(n=n.filter((oe,ce)=>ce>n.indexOf("out")));let p=!n.includes("opacity")&&!n.includes("scale"),v=p||n.includes("opacity"),S=p||n.includes("scale"),_=v?0:1,x=S?E5(n,"scale",95)/100:1,P=E5(n,"delay",0)/1e3,B=E5(n,"origin","center"),z="opacity, transform",U=E5(n,"duration",150)/1e3,H=E5(n,"duration",75)/1e3,K="cubic-bezier(0.4, 0.0, 0.2, 1)";c&&(e._x_transition.enter.during={transformOrigin:B,transitionDelay:`${P}s`,transitionProperty:z,transitionDuration:`${U}s`,transitionTimingFunction:K},e._x_transition.enter.start={opacity:_,transform:`scale(${x})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),d&&(e._x_transition.leave.during={transformOrigin:B,transitionDelay:`${P}s`,transitionProperty:z,transitionDuration:`${H}s`,transitionTimingFunction:K},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:_,transform:`scale(${x})`})}function Fke(e,n,o={}){e._x_transition||(e._x_transition={enter:{during:o,start:o,end:o},leave:{during:o,start:o,end:o},in(i=()=>{},c=()=>{}){Nge(e,n,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,c)},out(i=()=>{},c=()=>{}){Nge(e,n,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,c)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,n,o,i){const c=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let d=()=>c(o);if(n){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(o):d():e._x_transition?e._x_transition.in(o):d();return}e._x_hidePromise=e._x_transition?new Promise((p,v)=>{e._x_transition.out(()=>{},()=>p(i)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>v({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let p=Hke(e);p?(p._x_hideChildren||(p._x_hideChildren=[]),p._x_hideChildren.push(e)):c(()=>{let v=S=>{let _=Promise.all([S._x_hidePromise,...(S._x_hideChildren||[]).map(v)]).then(([x])=>x?.());return delete S._x_hidePromise,delete S._x_hideChildren,_};v(e).catch(S=>{if(!S.isFromCancelledTransition)throw S})})})};function Hke(e){let n=e.parentNode;if(n)return n._x_hidePromise?n:Hke(n)}function Nge(e,n,{during:o,start:i,end:c}={},d=()=>{},p=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(o).length===0&&Object.keys(i).length===0&&Object.keys(c).length===0){d(),p();return}let v,S,_;Rje(e,{start(){v=n(e,i)},during(){S=n(e,o)},before:d,end(){v(),_=n(e,c)},after:p,cleanup(){S(),_()}})}function Rje(e,n){let o,i,c,d=Pge(()=>{_d(()=>{o=!0,i||n.before(),c||(n.end(),Mge()),n.after(),e.isConnected&&n.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(p){this.beforeCancels.push(p)},cancel:Pge(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();d()}),finish:d},_d(()=>{n.start(),n.during()}),wje(),requestAnimationFrame(()=>{if(o)return;let p=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,v=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;p===0&&(p=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),_d(()=>{n.before()}),i=!0,requestAnimationFrame(()=>{o||(_d(()=>{n.end()}),Mge(),setTimeout(e._x_transitioning.finish,p+v),c=!0)})})}function E5(e,n,o){if(e.indexOf(n)===-1)return o;const i=e[e.indexOf(n)+1];if(!i||n==="scale"&&isNaN(i))return o;if(n==="duration"||n==="delay"){let c=i.match(/([0-9]+)ms/);if(c)return c[1]}return n==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(n)+2])?[i,e[e.indexOf(n)+2]].join(" "):i}var FO=!1;function qO(e,n=()=>{}){return(...o)=>FO?n(...o):e(...o)}function kje(e){return(...n)=>FO&&e(...n)}var $ke=[];function ste(e){$ke.push(e)}function Dje(e,n){$ke.forEach(o=>o(e,n)),FO=!0,Uke(()=>{vA(n,(o,i)=>{i(o,()=>{})})}),FO=!1}var Lge=!1;function Mje(e,n){n._x_dataStack||(n._x_dataStack=e._x_dataStack),FO=!0,Lge=!0,Uke(()=>{Pje(n)}),FO=!1,Lge=!1}function Pje(e){let n=!1;vA(e,(i,c)=>{Dk(i,(d,p)=>{if(n&&yje(d))return p();n=!0,c(d,p)})})}function Uke(e){let n=Gk;xEe((o,i)=>{let c=n(o);return C4(c),()=>{}}),e(),xEe(n)}function zke(e,n,o,i=[]){switch(e._x_bindings||(e._x_bindings=S4({})),e._x_bindings[n]=o,n=i.includes("camel")?Uje(n):n,n){case"value":Nje(e,o);break;case"style":Bje(e,o);break;case"class":Lje(e,o);break;case"selected":case"checked":Vje(e,n,o);break;default:jke(e,n,o);break}}function Nje(e,n){if(qke(e))e.attributes.value===void 0&&(e.value=n),window.fromModel&&(typeof n=="boolean"?e.checked=ZX(e.value)===n:e.checked=REe(e.value,n));else if(E0e(e))Number.isInteger(n)?e.value=n:!Array.isArray(n)&&typeof n!="boolean"&&![null,void 0].includes(n)?e.value=String(n):Array.isArray(n)?e.checked=n.some(o=>REe(o,e.value)):e.checked=!!n;else if(e.tagName==="SELECT")$je(e,n);else{if(e.value===n)return;e.value=n===void 0?"":n}}function Lje(e,n){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=C0e(e,n)}function Bje(e,n){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=ote(e,n)}function Vje(e,n,o){jke(e,n,o),Hje(e,n,o)}function jke(e,n,o){[null,void 0,!1].includes(o)&&jje(n)?e.removeAttribute(n):(Wke(n)&&(o=n),Fje(e,n,o))}function Fje(e,n,o){e.getAttribute(n)!=o&&e.setAttribute(n,o)}function Hje(e,n,o){e[n]!==o&&(e[n]=o)}function $je(e,n){const o=[].concat(n).map(i=>i+"");Array.from(e.options).forEach(i=>{i.selected=o.includes(i.value)})}function Uje(e){return e.toLowerCase().replace(/-(\w)/g,(n,o)=>o.toUpperCase())}function REe(e,n){return e==n}function ZX(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}var zje=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function Wke(e){return zje.has(e)}function jje(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function Wje(e,n,o){return e._x_bindings&&e._x_bindings[n]!==void 0?e._x_bindings[n]:Gke(e,n,o)}function Gje(e,n,o,i=!0){if(e._x_bindings&&e._x_bindings[n]!==void 0)return e._x_bindings[n];if(e._x_inlineBindings&&e._x_inlineBindings[n]!==void 0){let c=e._x_inlineBindings[n];return c.extract=i,Cke(()=>pk(e,c.expression))}return Gke(e,n,o)}function Gke(e,n,o){let i=e.getAttribute(n);return i===null?typeof o=="function"?o():o:i===""?!0:Wke(n)?!![n,"true"].includes(i):i}function E0e(e){return e.type==="checkbox"||e.localName==="ui-checkbox"||e.localName==="ui-switch"}function qke(e){return e.type==="radio"||e.localName==="ui-radio"}function Zke(e,n){let o;return function(){const i=this,c=arguments,d=function(){o=null,e.apply(i,c)};clearTimeout(o),o=setTimeout(d,n)}}function Kke(e,n){let o;return function(){let i=this,c=arguments;o||(e.apply(i,c),o=!0,setTimeout(()=>o=!1,n))}}function Yke({get:e,set:n},{get:o,set:i}){let c=!0,d,p=Gk(()=>{let v=e(),S=o();if(c)i(xpe(v)),c=!1;else{let _=JSON.stringify(v),x=JSON.stringify(S);_!==d?i(xpe(v)):_!==x&&n(xpe(S))}d=JSON.stringify(e()),JSON.stringify(o())});return()=>{C4(p)}}function xpe(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function qje(e){(Array.isArray(e)?e:[e]).forEach(o=>o(Az))}var P2={},kEe=!1;function Zje(e,n){if(kEe||(P2=S4(P2),kEe=!0),n===void 0)return P2[e];P2[e]=n,bke(P2[e]),typeof n=="object"&&n!==null&&n.hasOwnProperty("init")&&typeof n.init=="function"&&P2[e].init()}function Kje(){return P2}var Xke={};function Yje(e,n){let o=typeof n!="function"?()=>n:n;return e instanceof Element?Jke(e,o()):(Xke[e]=o,()=>{})}function Xje(e){return Object.entries(Xke).forEach(([n,o])=>{Object.defineProperty(e,n,{get(){return(...i)=>o(...i)}})}),e}function Jke(e,n,o){let i=[];for(;i.length;)i.pop()();let c=Object.entries(n).map(([p,v])=>({name:p,value:v})),d=_ke(c);return c=c.map(p=>d.find(v=>v.name===p.name)?{name:`x-bind:${p.name}`,value:`"${p.value}"`}:p),g0e(e,c,o).map(p=>{i.push(p.runCleanups),p()}),()=>{for(;i.length;)i.pop()()}}var Qke={};function Jje(e,n){Qke[e]=n}function Qje(e,n){return Object.entries(Qke).forEach(([o,i])=>{Object.defineProperty(e,o,{get(){return(...c)=>i.bind(n)(...c)},enumerable:!1})}),e}var e8e={get reactive(){return S4},get release(){return C4},get effect(){return Gk},get raw(){return lke},version:"3.15.0",flushAndStopDeferringMutations:nje,dontAutoEvaluateFunctions:Cke,disableEffectScheduling:Kze,startObservingMutations:h0e,stopObservingMutations:gke,setReactivityEngine:Yze,onAttributeRemoved:pke,onAttributesAdded:fke,closestDataStack:G3,skipDuringClone:qO,onlyDuringClone:kje,addRootSelector:Lke,addInitSelector:Bke,interceptClone:ste,addScopeToNode:wz,deferMutations:tje,mapAttributes:v0e,evaluateLater:kv,interceptInit:Sje,setEvaluator:lje,mergeProxies:_z,extractProp:Gje,findClosest:w4,onElRemoved:c0e,closestRoot:nte,destroyTree:_4,interceptor:yke,transition:Nge,setStyles:ote,mutateDom:_d,directive:tf,entangle:Yke,throttle:Kke,debounce:Zke,evaluate:pk,initTree:vA,nextTick:S0e,prefixed:E4,prefix:hje,plugin:qje,magic:VS,store:Zje,start:bje,clone:Mje,cloneNode:Dje,bound:Wje,$data:vke,watch:cke,walk:Dk,data:Jje,bind:Yje},Az=e8e;function t8e(e,n){const o=Object.create(null),i=e.split(",");for(let c=0;c<i.length;c++)o[i[c]]=!0;return c=>!!o[c]}var n8e=Object.freeze({}),o8e=Object.prototype.hasOwnProperty,rte=(e,n)=>o8e.call(e,n),mk=Array.isArray,c6=e=>eDe(e)==="[object Map]",s8e=e=>typeof e=="string",w0e=e=>typeof e=="symbol",ite=e=>e!==null&&typeof e=="object",r8e=Object.prototype.toString,eDe=e=>r8e.call(e),tDe=e=>eDe(e).slice(8,-1),_0e=e=>s8e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,i8e=e=>{const n=Object.create(null);return o=>n[o]||(n[o]=e(o))},a8e=i8e(e=>e.charAt(0).toUpperCase()+e.slice(1)),nDe=(e,n)=>e!==n&&(e===e||n===n),Bge=new WeakMap,w5=[],hE,gk=Symbol("iterate"),Vge=Symbol("Map key iterate");function l8e(e){return e&&e._isEffect===!0}function c8e(e,n=n8e){l8e(e)&&(e=e.raw);const o=h8e(e,n);return n.lazy||o(),o}function u8e(e){e.active&&(oDe(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var d8e=0;function h8e(e,n){const o=function(){if(!o.active)return e();if(!w5.includes(o)){oDe(o);try{return p8e(),w5.push(o),hE=o,e()}finally{w5.pop(),sDe(),hE=w5[w5.length-1]}}};return o.id=d8e++,o.allowRecurse=!!n.allowRecurse,o._isEffect=!0,o.active=!0,o.raw=e,o.deps=[],o.options=n,o}function oDe(e){const{deps:n}=e;if(n.length){for(let o=0;o<n.length;o++)n[o].delete(e);n.length=0}}var q3=!0,A0e=[];function f8e(){A0e.push(q3),q3=!1}function p8e(){A0e.push(q3),q3=!0}function sDe(){const e=A0e.pop();q3=e===void 0?!0:e}function MS(e,n,o){if(!q3||hE===void 0)return;let i=Bge.get(e);i||Bge.set(e,i=new Map);let c=i.get(o);c||i.set(o,c=new Set),c.has(hE)||(c.add(hE),hE.deps.push(c),hE.options.onTrack&&hE.options.onTrack({effect:hE,target:e,type:n,key:o}))}function HO(e,n,o,i,c,d){const p=Bge.get(e);if(!p)return;const v=new Set,S=x=>{x&&x.forEach(P=>{(P!==hE||P.allowRecurse)&&v.add(P)})};if(n==="clear")p.forEach(S);else if(o==="length"&&mk(e))p.forEach((x,P)=>{(P==="length"||P>=i)&&S(x)});else switch(o!==void 0&&S(p.get(o)),n){case"add":mk(e)?_0e(o)&&S(p.get("length")):(S(p.get(gk)),c6(e)&&S(p.get(Vge)));break;case"delete":mk(e)||(S(p.get(gk)),c6(e)&&S(p.get(Vge)));break;case"set":c6(e)&&S(p.get(gk));break}const _=x=>{x.options.onTrigger&&x.options.onTrigger({effect:x,target:e,key:o,type:n,newValue:i,oldValue:c,oldTarget:d}),x.options.scheduler?x.options.scheduler(x):x()};v.forEach(_)}var m8e=t8e("__proto__,__v_isRef,__isVue"),rDe=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(w0e)),g8e=iDe(),v8e=iDe(!0),DEe=b8e();function b8e(){const e={};return["includes","indexOf","lastIndexOf"].forEach(n=>{e[n]=function(...o){const i=Cu(this);for(let d=0,p=this.length;d<p;d++)MS(i,"get",d+"");const c=i[n](...o);return c===-1||c===!1?i[n](...o.map(Cu)):c}}),["push","pop","shift","unshift","splice"].forEach(n=>{e[n]=function(...o){f8e();const i=Cu(this)[n].apply(this,o);return sDe(),i}}),e}function iDe(e=!1,n=!1){return function(i,c,d){if(c==="__v_isReactive")return!e;if(c==="__v_isReadonly")return e;if(c==="__v_raw"&&d===(e?n?D8e:uDe:n?k8e:cDe).get(i))return i;const p=mk(i);if(!e&&p&&rte(DEe,c))return Reflect.get(DEe,c,d);const v=Reflect.get(i,c,d);return(w0e(c)?rDe.has(c):m8e(c))||(e||MS(i,"get",c),n)?v:Fge(v)?!p||!_0e(c)?v.value:v:ite(v)?e?dDe(v):I0e(v):v}}var y8e=S8e();function S8e(e=!1){return function(o,i,c,d){let p=o[i];if(!e&&(c=Cu(c),p=Cu(p),!mk(o)&&Fge(p)&&!Fge(c)))return p.value=c,!0;const v=mk(o)&&_0e(i)?Number(i)<o.length:rte(o,i),S=Reflect.set(o,i,c,d);return o===Cu(d)&&(v?nDe(c,p)&&HO(o,"set",i,c,p):HO(o,"add",i,c)),S}}function C8e(e,n){const o=rte(e,n),i=e[n],c=Reflect.deleteProperty(e,n);return c&&o&&HO(e,"delete",n,void 0,i),c}function E8e(e,n){const o=Reflect.has(e,n);return(!w0e(n)||!rDe.has(n))&&MS(e,"has",n),o}function w8e(e){return MS(e,"iterate",mk(e)?"length":gk),Reflect.ownKeys(e)}var _8e={get:g8e,set:y8e,deleteProperty:C8e,has:E8e,ownKeys:w8e},A8e={get:v8e,set(e,n){return console.warn(`Set operation on key "${String(n)}" failed: target is readonly.`,e),!0},deleteProperty(e,n){return console.warn(`Delete operation on key "${String(n)}" failed: target is readonly.`,e),!0}},T0e=e=>ite(e)?I0e(e):e,x0e=e=>ite(e)?dDe(e):e,O0e=e=>e,ate=e=>Reflect.getPrototypeOf(e);function oX(e,n,o=!1,i=!1){e=e.__v_raw;const c=Cu(e),d=Cu(n);n!==d&&!o&&MS(c,"get",n),!o&&MS(c,"get",d);const{has:p}=ate(c),v=i?O0e:o?x0e:T0e;if(p.call(c,n))return v(e.get(n));if(p.call(c,d))return v(e.get(d));e!==c&&e.get(n)}function sX(e,n=!1){const o=this.__v_raw,i=Cu(o),c=Cu(e);return e!==c&&!n&&MS(i,"has",e),!n&&MS(i,"has",c),e===c?o.has(e):o.has(e)||o.has(c)}function rX(e,n=!1){return e=e.__v_raw,!n&&MS(Cu(e),"iterate",gk),Reflect.get(e,"size",e)}function MEe(e){e=Cu(e);const n=Cu(this);return ate(n).has.call(n,e)||(n.add(e),HO(n,"add",e,e)),this}function PEe(e,n){n=Cu(n);const o=Cu(this),{has:i,get:c}=ate(o);let d=i.call(o,e);d?lDe(o,i,e):(e=Cu(e),d=i.call(o,e));const p=c.call(o,e);return o.set(e,n),d?nDe(n,p)&&HO(o,"set",e,n,p):HO(o,"add",e,n),this}function NEe(e){const n=Cu(this),{has:o,get:i}=ate(n);let c=o.call(n,e);c?lDe(n,o,e):(e=Cu(e),c=o.call(n,e));const d=i?i.call(n,e):void 0,p=n.delete(e);return c&&HO(n,"delete",e,void 0,d),p}function LEe(){const e=Cu(this),n=e.size!==0,o=c6(e)?new Map(e):new Set(e),i=e.clear();return n&&HO(e,"clear",void 0,void 0,o),i}function iX(e,n){return function(i,c){const d=this,p=d.__v_raw,v=Cu(p),S=n?O0e:e?x0e:T0e;return!e&&MS(v,"iterate",gk),p.forEach((_,x)=>i.call(c,S(_),S(x),d))}}function aX(e,n,o){return function(...i){const c=this.__v_raw,d=Cu(c),p=c6(d),v=e==="entries"||e===Symbol.iterator&&p,S=e==="keys"&&p,_=c[e](...i),x=o?O0e:n?x0e:T0e;return!n&&MS(d,"iterate",S?Vge:gk),{next(){const{value:P,done:B}=_.next();return B?{value:P,done:B}:{value:v?[x(P[0]),x(P[1])]:x(P),done:B}},[Symbol.iterator](){return this}}}}function Fx(e){return function(...n){{const o=n[0]?`on key "${n[0]}" `:"";console.warn(`${a8e(e)} operation ${o}failed: target is readonly.`,Cu(this))}return e==="delete"?!1:this}}function T8e(){const e={get(d){return oX(this,d)},get size(){return rX(this)},has:sX,add:MEe,set:PEe,delete:NEe,clear:LEe,forEach:iX(!1,!1)},n={get(d){return oX(this,d,!1,!0)},get size(){return rX(this)},has:sX,add:MEe,set:PEe,delete:NEe,clear:LEe,forEach:iX(!1,!0)},o={get(d){return oX(this,d,!0)},get size(){return rX(this,!0)},has(d){return sX.call(this,d,!0)},add:Fx("add"),set:Fx("set"),delete:Fx("delete"),clear:Fx("clear"),forEach:iX(!0,!1)},i={get(d){return oX(this,d,!0,!0)},get size(){return rX(this,!0)},has(d){return sX.call(this,d,!0)},add:Fx("add"),set:Fx("set"),delete:Fx("delete"),clear:Fx("clear"),forEach:iX(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{e[d]=aX(d,!1,!1),o[d]=aX(d,!0,!1),n[d]=aX(d,!1,!0),i[d]=aX(d,!0,!0)}),[e,o,n,i]}var[x8e,O8e]=T8e();function aDe(e,n){const o=e?O8e:x8e;return(i,c,d)=>c==="__v_isReactive"?!e:c==="__v_isReadonly"?e:c==="__v_raw"?i:Reflect.get(rte(o,c)&&c in i?o:i,c,d)}var I8e={get:aDe(!1)},R8e={get:aDe(!0)};function lDe(e,n,o){const i=Cu(o);if(i!==o&&n.call(e,i)){const c=tDe(e);console.warn(`Reactive ${c} contains both the raw and reactive versions of the same object${c==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var cDe=new WeakMap,k8e=new WeakMap,uDe=new WeakMap,D8e=new WeakMap;function M8e(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function P8e(e){return e.__v_skip||!Object.isExtensible(e)?0:M8e(tDe(e))}function I0e(e){return e&&e.__v_isReadonly?e:hDe(e,!1,_8e,I8e,cDe)}function dDe(e){return hDe(e,!0,A8e,R8e,uDe)}function hDe(e,n,o,i,c){if(!ite(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(n&&e.__v_isReactive))return e;const d=c.get(e);if(d)return d;const p=P8e(e);if(p===0)return e;const v=new Proxy(e,p===2?i:o);return c.set(e,v),v}function Cu(e){return e&&Cu(e.__v_raw)||e}function Fge(e){return!!(e&&e.__v_isRef===!0)}VS("nextTick",()=>S0e);VS("dispatch",e=>l6.bind(l6,e));VS("watch",(e,{evaluateLater:n,cleanup:o})=>(i,c)=>{let d=n(i),v=cke(()=>{let S;return d(_=>S=_),S},c);o(v)});VS("store",Kje);VS("data",e=>vke(e));VS("root",e=>nte(e));VS("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=_z(N8e(e))),e._x_refs_proxy));function N8e(e){let n=[];return w4(e,o=>{o._x_refs&&n.push(o._x_refs)}),n}var Ope={};function fDe(e){return Ope[e]||(Ope[e]=0),++Ope[e]}function L8e(e,n){return w4(e,o=>{if(o._x_ids&&o._x_ids[n])return!0})}function B8e(e,n){e._x_ids||(e._x_ids={}),e._x_ids[n]||(e._x_ids[n]=fDe(n))}VS("id",(e,{cleanup:n})=>(o,i=null)=>{let c=`${o}${i?`-${i}`:""}`;return V8e(e,c,n,()=>{let d=L8e(e,o),p=d?d._x_ids[o]:fDe(o);return i?`${o}-${p}-${i}`:`${o}-${p}`})});ste((e,n)=>{e._x_id&&(n._x_id=e._x_id)});function V8e(e,n,o,i){if(e._x_id||(e._x_id={}),e._x_id[n])return e._x_id[n];let c=i();return e._x_id[n]=c,o(()=>{delete e._x_id[n]}),c}VS("el",e=>e);pDe("Focus","focus","focus");pDe("Persist","persist","persist");function pDe(e,n,o){VS(n,i=>Y0(`You can't use [$${n}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${o}`,i))}tf("modelable",(e,{expression:n},{effect:o,evaluateLater:i,cleanup:c})=>{let d=i(n),p=()=>{let x;return d(P=>x=P),x},v=i(`${n} = __placeholder`),S=x=>v(()=>{},{scope:{__placeholder:x}}),_=p();S(_),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let x=e._x_model.get,P=e._x_model.set,B=Yke({get(){return x()},set(z){P(z)}},{get(){return p()},set(z){S(z)}});c(B)})});tf("teleport",(e,{modifiers:n,expression:o},{cleanup:i})=>{e.tagName.toLowerCase()!=="template"&&Y0("x-teleport can only be used on a <template> tag",e);let c=BEe(o),d=e.content.cloneNode(!0).firstElementChild;e._x_teleport=d,d._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),d.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(v=>{d.addEventListener(v,S=>{S.stopPropagation(),e.dispatchEvent(new S.constructor(S.type,S))})}),wz(d,{},e);let p=(v,S,_)=>{_.includes("prepend")?S.parentNode.insertBefore(v,S):_.includes("append")?S.parentNode.insertBefore(v,S.nextSibling):S.appendChild(v)};_d(()=>{p(d,c,n),qO(()=>{vA(d)})()}),e._x_teleportPutBack=()=>{let v=BEe(o);_d(()=>{p(e._x_teleport,v,n)})},i(()=>_d(()=>{d.remove(),_4(d)}))});var F8e=document.createElement("div");function BEe(e){let n=qO(()=>document.querySelector(e),()=>F8e)();return n||Y0(`Cannot find x-teleport element for selector: "${e}"`),n}var mDe=()=>{};mDe.inline=(e,{modifiers:n},{cleanup:o})=>{n.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,o(()=>{n.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};tf("ignore",mDe);tf("effect",qO((e,{expression:n},{effect:o})=>{o(kv(e,n))}));function Hge(e,n,o,i){let c=e,d=S=>i(S),p={},v=(S,_)=>x=>_(S,x);if(o.includes("dot")&&(n=H8e(n)),o.includes("camel")&&(n=$8e(n)),o.includes("passive")&&(p.passive=!0),o.includes("capture")&&(p.capture=!0),o.includes("window")&&(c=window),o.includes("document")&&(c=document),o.includes("debounce")){let S=o[o.indexOf("debounce")+1]||"invalid-wait",_=gQ(S.split("ms")[0])?Number(S.split("ms")[0]):250;d=Zke(d,_)}if(o.includes("throttle")){let S=o[o.indexOf("throttle")+1]||"invalid-wait",_=gQ(S.split("ms")[0])?Number(S.split("ms")[0]):250;d=Kke(d,_)}return o.includes("prevent")&&(d=v(d,(S,_)=>{_.preventDefault(),S(_)})),o.includes("stop")&&(d=v(d,(S,_)=>{_.stopPropagation(),S(_)})),o.includes("once")&&(d=v(d,(S,_)=>{S(_),c.removeEventListener(n,d,p)})),(o.includes("away")||o.includes("outside"))&&(c=document,d=v(d,(S,_)=>{e.contains(_.target)||_.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&S(_))})),o.includes("self")&&(d=v(d,(S,_)=>{_.target===e&&S(_)})),(z8e(n)||gDe(n))&&(d=v(d,(S,_)=>{j8e(_,o)||S(_)})),c.addEventListener(n,d,p),()=>{c.removeEventListener(n,d,p)}}function H8e(e){return e.replace(/-/g,".")}function $8e(e){return e.toLowerCase().replace(/-(\w)/g,(n,o)=>o.toUpperCase())}function gQ(e){return!Array.isArray(e)&&!isNaN(e)}function U8e(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function z8e(e){return["keydown","keyup"].includes(e)}function gDe(e){return["contextmenu","click","mouse"].some(n=>e.includes(n))}function j8e(e,n){let o=n.filter(d=>!["window","document","prevent","stop","once","capture","self","away","outside","passive","preserve-scroll"].includes(d));if(o.includes("debounce")){let d=o.indexOf("debounce");o.splice(d,gQ((o[d+1]||"invalid-wait").split("ms")[0])?2:1)}if(o.includes("throttle")){let d=o.indexOf("throttle");o.splice(d,gQ((o[d+1]||"invalid-wait").split("ms")[0])?2:1)}if(o.length===0||o.length===1&&VEe(e.key).includes(o[0]))return!1;const c=["ctrl","shift","alt","meta","cmd","super"].filter(d=>o.includes(d));return o=o.filter(d=>!c.includes(d)),!(c.length>0&&c.filter(p=>((p==="cmd"||p==="super")&&(p="meta"),e[`${p}Key`])).length===c.length&&(gDe(e.type)||VEe(e.key).includes(o[0])))}function VEe(e){if(!e)return[];e=U8e(e);let n={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return n[e]=e,Object.keys(n).map(o=>{if(n[o]===e)return o}).filter(o=>o)}tf("model",(e,{modifiers:n,expression:o},{effect:i,cleanup:c})=>{let d=e;n.includes("parent")&&(d=e.parentNode);let p=kv(d,o),v;typeof o=="string"?v=kv(d,`${o} = __placeholder`):typeof o=="function"&&typeof o()=="string"?v=kv(d,`${o()} = __placeholder`):v=()=>{};let S=()=>{let B;return p(z=>B=z),FEe(B)?B.get():B},_=B=>{let z;p(U=>z=U),FEe(z)?z.set(B):v(()=>{},{scope:{__placeholder:B}})};typeof o=="string"&&e.type==="radio"&&_d(()=>{e.hasAttribute("name")||e.setAttribute("name",o)});let x=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||n.includes("lazy")?"change":"input",P=FO?()=>{}:Hge(e,x,n,B=>{_(Ipe(e,n,B,S()))});if(n.includes("fill")&&([void 0,null,""].includes(S())||E0e(e)&&Array.isArray(S())||e.tagName.toLowerCase()==="select"&&e.multiple)&&_(Ipe(e,n,{target:e},S())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=P,c(()=>e._x_removeModelListeners.default()),e.form){let B=Hge(e.form,"reset",[],z=>{S0e(()=>e._x_model&&e._x_model.set(Ipe(e,n,{target:e},S())))});c(()=>B())}e._x_model={get(){return S()},set(B){_(B)}},e._x_forceModelUpdate=B=>{B===void 0&&typeof o=="string"&&o.match(/\./)&&(B=""),window.fromModel=!0,_d(()=>zke(e,"value",B)),delete window.fromModel},i(()=>{let B=S();n.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(B)})});function Ipe(e,n,o,i){return _d(()=>{if(o instanceof CustomEvent&&o.detail!==void 0)return o.detail!==null&&o.detail!==void 0?o.detail:o.target.value;if(E0e(e))if(Array.isArray(i)){let c=null;return n.includes("number")?c=Rpe(o.target.value):n.includes("boolean")?c=ZX(o.target.value):c=o.target.value,o.target.checked?i.includes(c)?i:i.concat([c]):i.filter(d=>!W8e(d,c))}else return o.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return n.includes("number")?Array.from(o.target.selectedOptions).map(c=>{let d=c.value||c.text;return Rpe(d)}):n.includes("boolean")?Array.from(o.target.selectedOptions).map(c=>{let d=c.value||c.text;return ZX(d)}):Array.from(o.target.selectedOptions).map(c=>c.value||c.text);{let c;return qke(e)?o.target.checked?c=o.target.value:c=i:c=o.target.value,n.includes("number")?Rpe(c):n.includes("boolean")?ZX(c):n.includes("trim")?c.trim():c}}})}function Rpe(e){let n=e?parseFloat(e):null;return G8e(n)?n:e}function W8e(e,n){return e==n}function G8e(e){return!Array.isArray(e)&&!isNaN(e)}function FEe(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}tf("cloak",e=>queueMicrotask(()=>_d(()=>e.removeAttribute(E4("cloak")))));Bke(()=>`[${E4("init")}]`);tf("init",qO((e,{expression:n},{evaluate:o})=>typeof n=="string"?!!n.trim()&&o(n,{},!1):o(n,{},!1)));tf("text",(e,{expression:n},{effect:o,evaluateLater:i})=>{let c=i(n);o(()=>{c(d=>{_d(()=>{e.textContent=d})})})});tf("html",(e,{expression:n},{effect:o,evaluateLater:i})=>{let c=i(n);o(()=>{c(d=>{_d(()=>{e.innerHTML=d,e._x_ignoreSelf=!0,vA(e),delete e._x_ignoreSelf})})})});v0e(xke(":",Oke(E4("bind:"))));var vDe=(e,{value:n,modifiers:o,expression:i,original:c},{effect:d,cleanup:p})=>{if(!n){let S={};Xje(S),kv(e,i)(x=>{Jke(e,x,c)},{scope:S});return}if(n==="key")return q8e(e,i);if(e._x_inlineBindings&&e._x_inlineBindings[n]&&e._x_inlineBindings[n].extract)return;let v=kv(e,i);d(()=>v(S=>{S===void 0&&typeof i=="string"&&i.match(/\./)&&(S=""),_d(()=>zke(e,n,S,o))})),p(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};vDe.inline=(e,{value:n,modifiers:o,expression:i})=>{n&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[n]={expression:i,extract:!1})};tf("bind",vDe);function q8e(e,n){e._x_keyExpression=n}Lke(()=>`[${E4("data")}]`);tf("data",(e,{expression:n},{cleanup:o})=>{if(Z8e(e))return;n=n===""?"{}":n;let i={};Ige(i,e);let c={};Qje(c,i);let d=pk(e,n,{scope:c});(d===void 0||d===!0)&&(d={}),Ige(d,e);let p=S4(d);bke(p);let v=wz(e,p);p.init&&pk(e,p.init),o(()=>{p.destroy&&pk(e,p.destroy),v()})});ste((e,n)=>{e._x_dataStack&&(n._x_dataStack=e._x_dataStack,n.setAttribute("data-has-alpine-state",!0))});function Z8e(e){return FO?Lge?!0:e.hasAttribute("data-has-alpine-state"):!1}tf("show",(e,{modifiers:n,expression:o},{effect:i})=>{let c=kv(e,o);e._x_doHide||(e._x_doHide=()=>{_d(()=>{e.style.setProperty("display","none",n.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{_d(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let d=()=>{e._x_doHide(),e._x_isShown=!1},p=()=>{e._x_doShow(),e._x_isShown=!0},v=()=>setTimeout(p),S=Pge(P=>P?p():d(),P=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,P,p,d):P?v():d()}),_,x=!0;i(()=>c(P=>{!x&&P===_||(n.includes("immediate")&&(P?v():d()),S(P),_=P,x=!1)}))});tf("for",(e,{expression:n},{effect:o,cleanup:i})=>{let c=Y8e(n),d=kv(e,c.items),p=kv(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},o(()=>K8e(e,c,d,p)),i(()=>{Object.values(e._x_lookup).forEach(v=>_d(()=>{_4(v),v.remove()})),delete e._x_prevKeys,delete e._x_lookup})});function K8e(e,n,o,i){let c=p=>typeof p=="object"&&!Array.isArray(p),d=e;o(p=>{X8e(p)&&p>=0&&(p=Array.from(Array(p).keys(),K=>K+1)),p===void 0&&(p=[]);let v=e._x_lookup,S=e._x_prevKeys,_=[],x=[];if(c(p))p=Object.entries(p).map(([K,oe])=>{let ce=HEe(n,oe,K,p);i(re=>{x.includes(re)&&Y0("Duplicate key on x-for",e),x.push(re)},{scope:{index:K,...ce}}),_.push(ce)});else for(let K=0;K<p.length;K++){let oe=HEe(n,p[K],K,p);i(ce=>{x.includes(ce)&&Y0("Duplicate key on x-for",e),x.push(ce)},{scope:{index:K,...oe}}),_.push(oe)}let P=[],B=[],z=[],U=[];for(let K=0;K<S.length;K++){let oe=S[K];x.indexOf(oe)===-1&&z.push(oe)}S=S.filter(K=>!z.includes(K));let H="template";for(let K=0;K<x.length;K++){let oe=x[K],ce=S.indexOf(oe);if(ce===-1)S.splice(K,0,oe),P.push([H,K]);else if(ce!==K){let re=S.splice(K,1)[0],ye=S.splice(ce-1,1)[0];S.splice(K,0,ye),S.splice(ce,0,re),B.push([re,ye])}else U.push(oe);H=oe}for(let K=0;K<z.length;K++){let oe=z[K];oe in v&&(_d(()=>{_4(v[oe]),v[oe].remove()}),delete v[oe])}for(let K=0;K<B.length;K++){let[oe,ce]=B[K],re=v[oe],ye=v[ce],_e=document.createElement("div");_d(()=>{ye||Y0('x-for ":key" is undefined or invalid',d,ce,v),ye.after(_e),re.after(ye),ye._x_currentIfEl&&ye.after(ye._x_currentIfEl),_e.before(re),re._x_currentIfEl&&re.after(re._x_currentIfEl),_e.remove()}),ye._x_refreshXForScope(_[x.indexOf(ce)])}for(let K=0;K<P.length;K++){let[oe,ce]=P[K],re=oe==="template"?d:v[oe];re._x_currentIfEl&&(re=re._x_currentIfEl);let ye=_[ce],_e=x[ce],Oe=document.importNode(d.content,!0).firstElementChild,F=S4(ye);wz(Oe,F,d),Oe._x_refreshXForScope=Me=>{Object.entries(Me).forEach(([ot,Fe])=>{F[ot]=Fe})},_d(()=>{re.after(Oe),qO(()=>vA(Oe))()}),typeof _e=="object"&&Y0("x-for key cannot be an object, it must be a string or an integer",d),v[_e]=Oe}for(let K=0;K<U.length;K++)v[U[K]]._x_refreshXForScope(_[x.indexOf(U[K])]);d._x_prevKeys=x})}function Y8e(e){let n=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,o=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,c=e.match(i);if(!c)return;let d={};d.items=c[2].trim();let p=c[1].replace(o,"").trim(),v=p.match(n);return v?(d.item=p.replace(n,"").trim(),d.index=v[1].trim(),v[2]&&(d.collection=v[2].trim())):d.item=p,d}function HEe(e,n,o,i){let c={};return/^\[.*\]$/.test(e.item)&&Array.isArray(n)?e.item.replace("[","").replace("]","").split(",").map(p=>p.trim()).forEach((p,v)=>{c[p]=n[v]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(n)&&typeof n=="object"?e.item.replace("{","").replace("}","").split(",").map(p=>p.trim()).forEach(p=>{c[p]=n[p]}):c[e.item]=n,e.index&&(c[e.index]=o),e.collection&&(c[e.collection]=i),c}function X8e(e){return!Array.isArray(e)&&!isNaN(e)}function bDe(){}bDe.inline=(e,{expression:n},{cleanup:o})=>{let i=nte(e);i._x_refs||(i._x_refs={}),i._x_refs[n]=e,o(()=>delete i._x_refs[n])};tf("ref",bDe);tf("if",(e,{expression:n},{effect:o,cleanup:i})=>{e.tagName.toLowerCase()!=="template"&&Y0("x-if can only be used on a <template> tag",e);let c=kv(e,n),d=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let v=e.content.cloneNode(!0).firstElementChild;return wz(v,{},e),_d(()=>{e.after(v),qO(()=>vA(v))()}),e._x_currentIfEl=v,e._x_undoIf=()=>{_d(()=>{_4(v),v.remove()}),delete e._x_currentIfEl},v},p=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};o(()=>c(v=>{v?d():p()})),i(()=>e._x_undoIf&&e._x_undoIf())});tf("id",(e,{expression:n},{evaluate:o})=>{o(n).forEach(c=>B8e(e,c))});ste((e,n)=>{e._x_ids&&(n._x_ids=e._x_ids)});v0e(xke("@",Oke(E4("on:"))));tf("on",qO((e,{value:n,modifiers:o,expression:i},{cleanup:c})=>{let d=i?kv(e,i):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(n)||e._x_forwardEvents.push(n));let p=Hge(e,n,o,v=>{d(()=>{},{scope:{$event:v},params:[v]})});c(()=>p())}));lte("Collapse","collapse","collapse");lte("Intersect","intersect","intersect");lte("Focus","trap","focus");lte("Mask","mask","mask");function lte(e,n,o){tf(n,i=>Y0(`You can't use [x-${n}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${o}`,i))}Az.setEvaluator(wke);Az.setReactivityEngine({reactive:I0e,effect:c8e,release:u8e,raw:Cu});var J8e=Az,yDe=J8e;const uc=Symbol("store"),qo=Symbol("getState"),kc=Symbol("dispatch"),vQ=Symbol("additionFeatures"),An=Symbol("mediaContext");function cte(e,n,o){const i=document.createElement("script");i.type="text/javascript",i.readyState?i.onreadystatechange=()=>{i.readyState!=="loaded"&&i.readyState!=="complete"||(i.onreadystatechange=null,n())}:(i.onload=()=>{n()},i.onerror=()=>{o()}),i.src=e,window.crossOriginIsolated&&(i.crossOrigin="anonymous"),typeof document.body.append=="function"?document.getElementsByTagName("head")[0].append(i):document.getElementsByTagName("head")[0].appendChild(i)}function SDe(e,n){let o=e;/^https?:\/\//.test(o)||(o=`https://${e}`);try{const i=new URL(o);if(!n)return i.href;if(n.hostname)return i.hostname;if(n.path)return i.pathname}catch{return""}return""}function H6(e){if(e){var n;const o=document.getElementById(e);o==null||(n=o.parentNode)===null||n===void 0||n.removeChild(o)}}function ute(e,n){if(!e||typeof e=="string")return!1;if(e.ownerDocument===window.document)return e instanceof n;{var o;const i=(o=e.ownerDocument)===null||o===void 0?void 0:o.defaultView;let c;return!!i&&(n.name==="HTMLVideoElement"?c=i.HTMLVideoElement:n.name==="HTMLCanvasElement"?c=i.HTMLCanvasElement:n.name==="HTMLElement"&&(c=i.HTMLElement),!!c&&e instanceof c||e instanceof n)}}function iA(e){return ute(e,HTMLVideoElement)}function A4(e){return ute(e,HTMLCanvasElement)}function $Ee(e,n){return Array.from(document.getElementsByTagName(n)).some((o=>o.contains(e)))}function UEe(e,n,o){const i=e.parentElement;if(!i)return null;const c=document.createElement("canvas");c.id=n,i?.appendChild(c);let d=null;function p(){o&&o()}return typeof ResizeObserver<"u"?(d=new ResizeObserver(p),d.observe(e),i&&d.observe(i)):window.addEventListener("resize",p),p(),c._overlayCleanup=function(){d?(d.unobserve(e),i&&d.unobserve(i),d.disconnect(),d=null):window.removeEventListener("resize",p),typeof c.remove=="function"?c.remove():i&&i.removeChild(c)},c}function zEe(e){var n;const o=e.getBoundingClientRect(),i=(n=e.parentElement)===null||n===void 0?void 0:n.getBoundingClientRect(),c=getComputedStyle(e),d=parseFloat(c.borderTopWidth)||0,p=parseFloat(c.borderLeftWidth)||0,v=p+(parseFloat(c.borderRightWidth)||0),S=d+(parseFloat(c.borderBottomWidth)||0),_=Math.max(e.width/(o.width-v),e.height/(o.height-S)),x={width:e.width/_,height:e.height/_},P=o.top-(i?.top||0),B=o.left-(i?.left||0);return{size:x,position:{top:`${P+((o.height-S-x.height)/2+d)}px`,left:`${B+((o.width-v-x.width)/2+p)}px`}}}let dte="zoom.us";const hte="4.0.5",KX=`https://dmogdx0jrul3u.cloudfront.net/${hte}/lib/av`,z2=`https://source.zoom.us/${hte}/lib/av`,YX=`https://jssdk.zoomus.cn/${hte}/lib/av`,$6=()=>dte;function qu(e,n){const o=n.match(e);return o&&o.length>0&&o[1]||""}function CDe(e,n){const o=n.match(e);return o&&o.length>1&&o[2]||""}const Hx=/version\/(\d+(\.?_?\d+)+)/i,Q8e=[{test:[/opera/i],describe:e=>["Opera(Legacy)",qu(Hx,e)||qu(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e)]},{test:[/opr\/|opios/i],describe:e=>["Opera",qu(/(?:opr|opios)[\s/](\S+)/i,e)||qu(Hx,e)]},{test:[/SamsungBrowser/i],describe:e=>["Samsung Internet for Android",qu(Hx,e)||qu(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e)]},{test:[/micromessenger/i],describe:e=>["WeChat",qu(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||qu(Hx,e)]},{test:[/qqbrowser/i],describe:e=>[/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser",qu(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||qu(Hx,e)]},{test:[/msie|trident/i],describe:e=>["Internet Explorer",qu(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e)]},{test:[/\sedg\//i],describe:e=>["Microsoft Edge",qu(/\sedg\/(\d+(\.?_?\d+)+)/i,e)]},{test:[/edg([ea]|ios)/i],describe:e=>["Microsoft Edge(Legacy)",CDe(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e)]},{test:[/firefox|iceweasel|fxios/i],describe:e=>["Firefox",qu(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e)]},{test:[/electron/i],describe:e=>["Electron",qu(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e)]},{test:[/chromium/i],describe:e=>["Chromium",qu(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||qu(Hx,e)]},{test:[/chrome|crios|crmo/i],describe:e=>["Chrome",qu(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e)]},{test:e=>!/like android/i.test(e)&&/android/i.test(e),describe:e=>["Android Browser",qu(Hx,e)]},{test:[/safari|applewebkit/i],describe:e=>["Safari",qu(Hx,e)]}],e7e=[{test:e=>{const n=e.match(/OpenHarmony (\d+\.?\d*)/);return n?.length&&Number(n[1])>=5},describe:e=>["HarmonyOS",qu(/OpenHarmony (\d+\.?\d*)/i,e)]},{test:[/windows /i],describe:e=>["Windows",qu(/Windows ((NT|XP)( \d\d?.\d)?)/i,e)]},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:e=>["iOS",CDe(/(Version\/)(\d[\d.]+)/,e)]},{test:[/macintosh/i],describe:e=>["macOS",qu(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,".")]},{test:[/(ipod|iphone|ipad)/i],describe:e=>["iOS",qu(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".")]},{test:e=>!/like android/i.test(e)&&/android/i.test(e),describe:e=>["Android",qu(/android[\s/-](\d+(\.\d+)*)/i,e)]},{test:[/linux/i],describe:()=>["Linux"]},{test:[/CrOS/],describe:()=>["Chrome OS"]}],Zo=new class{constructor(){this._browser=void 0,this._os=void 0,this._browserVersion=void 0,this._osVersion=void 0,this._clientHintsData=void 0,this._mediaFeatureOptions=void 0,"userAgentData"in navigator&&navigator.userAgentData.getHighEntropyValues(["architecture","bitness","formFactor","model","platformVersion","wow64"]).then((e=>{this._clientHintsData=e,this._os&&this._osVersion&&this._clientHintsData.platform&&this._clientHintsData.platformVersion&&(this._os=this._clientHintsData.platform,this._osVersion=this._clientHintsData.platformVersion)})).catch((e=>{console.warn(e)}))}_getBrowserVersion(){var e;if((e=this._clientHintsData)!==null&&e!==void 0&&(e=e.brands)!==null&&e!==void 0&&e.length){const n=this._clientHintsData.brands.filter((i=>!/(Chromium|Not.*Brand)/i.test(i.brand)))[0];n&&(this._browser=n.brand);const o=this._clientHintsData.brands.find((i=>{var c;return((c=i.brand)===null||c===void 0?void 0:c.toLowerCase())==="chromium"}));o?(this._browserVersion=o.version,this._browser||(this._browser=o.brand)):this._browserVersion=n.version}else{const n=navigator.userAgent,o=Q8e.find((i=>typeof i.test=="function"?i.test(n):i.test.some((c=>c.test(n)))));if(o){const i=o.describe(n);this._browser=i[0],this._browserVersion=i[1],this.isIOSMobile&&(this._browser="ios-safari")}else this._browser="unknown",this._browserVersion="0"}}_getOSVersion(){var e,n;if((e=this._clientHintsData)!==null&&e!==void 0&&e.platform&&(n=this._clientHintsData)!==null&&n!==void 0&&n.platformVersion)this._os=this._clientHintsData.platform,this._osVersion=this._clientHintsData.platformVersion;else{const o=navigator.userAgent,i=e7e.find((c=>typeof c.test=="function"?c.test(o):c.test.some((d=>d.test(o)))));if(i){const c=i.describe(o);this._os=c[0],this._osVersion=c[1]}else this._os="unknown",this._osVersion="0"}}get browser(){return this._browser||this._getBrowserVersion(),this._browser}get browserVersion(){return this._browserVersion||this._getBrowserVersion(),this._browserVersion}get os(){return this._os||this._getOSVersion(),this._os}get osVersion(){return this._osVersion||this._getOSVersion(),this._osVersion}get isIE(){return this.browser==="Internet Explorer"}get isLegacyEdge(){return this.browser==="Microsoft Edge(Legacy)"}get isLegacyOpera(){return this.browser==="Opera(Legacy)"}get isFirefox(){return this.browser==="Firefox"}get isSafari(){return this.browser==="Safari"}get isChrome(){var e,n;if((e=this._clientHintsData)!==null&&e!==void 0&&(e=e.brands)!==null&&e!==void 0&&e.length)return(n=this._clientHintsData)===null||n===void 0?void 0:n.brands.some((i=>{var c;return((c=i.brand)===null||c===void 0?void 0:c.toLocaleLowerCase())==="chromium"}));const{userAgent:o}=navigator;return!this.isLegacyOpera&&!this.isLegacyEdge&&/chrome/i.test(o)&&/webkit/i.test(o)}get isLegacyChrome(){var e;return this.isChrome&&typeof((e=navigator.mediaDevices)===null||e===void 0?void 0:e.getDisplayMedia)!="function"}get isMacOS(){return this.os==="macOS"}get isIPad(){var e;return/iPad/i.test(navigator.userAgent)||this.isMacOS&&((e=navigator)===null||e===void 0?void 0:e.maxTouchPoints)>2}get isHarmonyOS(){return this.os==="HarmonyOS"}get isIOSMobile(){return this.os==="iOS"||this.isIPad}get architecture(){var e,n;return(e=(n=this._clientHintsData)===null||n===void 0?void 0:n.architecture)!==null&&e!==void 0?e:""}get isArm(){return this.architecture?this.architecture==="arm":/arm/i.test(navigator.userAgent)}get isChromeOS(){return this.os==="Chrome OS"}get isAndroidBrowser(){var e;return((e=this.os)===null||e===void 0?void 0:e.toLowerCase())==="android"}get isArmChromeOS(){return this.isArm&&this.isChromeOS}get isAndroidOrIOSBrowser(){return this.isAndroidBrowser||this.isIOSMobile}get isSupportEssentialAudioAndVideoAbility(){return typeof WebAssembly=="object"&&typeof Worker=="function"}get isSupportAudioWorklet(){return typeof AudioWorklet=="function"}get isSupportImageCapture(){return"ImageCapture"in window}get isSupportMediaStreamTrackProcessor(){var e;return this._mediaFeatureOptions?!((e=window.JsMediaSDK_Instance)===null||e===void 0||(e=e.util)===null||e===void 0||!e.isSupportMediaStreamTrackProcessor(this._mediaFeatureOptions)):"MediaStreamTrackProcessor"in window}get isSupportOffscreenCanvas(){var e;return(e=window.JsMediaSDK_Instance)===null||e===void 0||(e=e.util)===null||e===void 0?void 0:e.isSupportOffscreenCanvas()}get gpu(){var e;return this.isSupportOffscreenCanvas?(e=window.JsMediaSDK_Instance)===null||e===void 0||(e=e.util)===null||e===void 0||(e=e.getGpuInfo())===null||e===void 0?void 0:e.renderInfo:""}get bitness(){var e,n;return(e=(n=this._clientHintsData)===null||n===void 0?void 0:n.bitness)!==null&&e!==void 0?e:""}get model(){var e,n;return(e=(n=this._clientHintsData)===null||n===void 0?void 0:n.model)!==null&&e!==void 0?e:""}get wow64(){var e;if(this.os.toLowerCase()==="windows")return(e=this._clientHintsData)===null||e===void 0?void 0:e.wow64}get isSupportSendScreenSharing(){return"getDisplayMedia"in navigator.mediaDevices&&typeof navigator.mediaDevices.getDisplayMedia=="function"}get isSupportSharedArrayBuffer(){return typeof SharedArrayBuffer=="function"}get is32bitChrome(){var e;return!((e=window.JsMediaSDK_Instance)===null||e===void 0||(e=e.util)===null||e===void 0||!e.is32bitBrowser())}get isSwiftShader(){var e;return!((e=window.JsMediaSDK_Instance)===null||e===void 0||(e=e.util)===null||e===void 0||!e.isUsingSwiftShader())}set mediaFeatureOptions(e){this._mediaFeatureOptions=e}};function EDe(){var e;return"webkit"in window&&!("chrome"in window)&&!((e=window.webkit.messageHandlers)===null||e===void 0||!e.jsOCHelper)}function lX(){var e;const{isAndroidBrowser:n,isIOSMobile:o,osVersion:i,browserVersion:c,isChrome:d,isFirefox:p,isSafari:v}=Zo;var S,_;if(o)return Number((S=i.match(/^\d+/))===null||S===void 0?void 0:S[0])>=15;if(n)return Number((_=i.match(/^\d+/))===null||_===void 0?void 0:_[0])>=10;const x=Number((e=c.match(/^\d+/))===null||e===void 0?void 0:e[0]);return!!(d&&x>=69)||!!(v&&x>14)||!!(p&&x>=76)}function wDe(){const{isSupportAudioWorklet:e,isSupportEssentialAudioAndVideoAbility:n,isAndroidOrIOSBrowser:o,isSupportSendScreenSharing:i}=Zo,c=n&&e||o,d=n&&navigator.mediaDevices!==void 0&&navigator.mediaCapabilities!==void 0,p=typeof"".replaceAll=="function";return{audio:p&&c,video:p&&d,screen:p&&n&&i}}class t7e{constructor(n){this.instant=void 0,this.context=void 0,this.script=void 0,this.mic=void 0,this.instant=0,this.context=n,this.mic=null,this.script=n.createScriptProcessor(2048,1,1),this.script.onaudioprocess=o=>{const i=o.inputBuffer.getChannelData(0);let c,d=0;for(c=0;c<i.length;++c)d+=i[c]*i[c];this.instant=Math.sqrt(d/i.length)}}connectToSource(n){console.log("InputMicDetector is listening");try{var o;this.mic=this.context.createMediaStreamSource(n),this.mic.connect(this.script),(o=this.script)===null||o===void 0||o.connect(this.context.destination)}catch(i){console.error(i)}}stop(){var n,o;console.log("Audio Previewer stopped"),(n=this.mic)===null||n===void 0||n.disconnect(),this.mic=null,(o=this.script)===null||o===void 0||o.disconnect(),this.script=null}getMicVolume(){return this.instant}}const n7e="https://st1.zoom.us/web_client/4qu8baa/audio/ring.mp3";class o7e{constructor(){this.sampleAudio=void 0,this.audioCtx=void 0,this.destinationNode=void 0,this.audioPlayer=void 0,this.analyzserInterval=void 0,this.analyserNode=void 0,this.analyserNodeBufferDataArray=void 0,this.analyserCallback=void 0,this.sourceNode=void 0,this.mAudioStream=void 0,this.mSourceNode=void 0,this.mediaRecorder=void 0,this.isRecording=void 0,this.recorderChunks=[],this.recorderObjUrl=void 0,this.recorderPlayer=void 0,this.maximumRecordingTimer=void 0,this.shouldPlayAfterRecording=!0,this.isRunning=!1}testSpeaker(n){var o;if(typeof AudioContext!="function"||typeof MediaStreamAudioDestinationNode!="function"||!AudioContext.prototype.decodeAudioData)return void console.warn("Cannot test the speaker due to the browser capability");const{speakerId:i,sampleAudioUrl:c=n7e,onAnalyseFrequency:d}=n||{};if(this.isRunning)return void console.warn("A tester is running,please stop it first");this.isRunning=!0,this.initAudioContext(),(((o=this.sampleAudio)===null||o===void 0?void 0:o.url)===c&&this.sampleAudio.data?Promise.resolve(this.sampleAudio.data):window.fetch(c).then((v=>v.arrayBuffer())).then((v=>this.audioCtx.decodeAudioData(v))).then((v=>(this.sampleAudio={url:c,data:v},v)))).then((v=>{var S,_,x;this.sourceNode=this.audioCtx.createBufferSource(),this.sourceNode.buffer=v,this.sourceNode.loop=!0,i&&(S=this.audioPlayer)!==null&&S!==void 0&&S.setSinkId&&this.audioPlayer.setSinkId(i),d?typeof AudioContext.prototype.createAnalyser=="function"?(this.analyzserInterval&&window.clearInterval(this.analyzserInterval),this.analyserCallback=d,this.initAnalyserNode(),this.analyserNode&&this.sourceNode.connect(this.analyserNode)):(this.sourceNode.connect(this.destinationNode),console.warn("Cannot analyze the stream due to the browser capability")):(this.analyserCallback=void 0,this.sourceNode.connect(this.destinationNode)),this.sourceNode.start(0),((_=this.audioCtx)===null||_===void 0?void 0:_.state)!=="running"&&((x=this.audioCtx)===null||x===void 0||x.resume()),this.audioPlayer&&(this.audioPlayer.muted=!1,this.audioPlayer.currentTime=0,this.audioPlayer.play())}));const p=()=>{this.isRunning=!1,this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.pause()),this.analyserNode&&this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),this.sourceNode&&(this.sourceNode.stop(0),this.sourceNode.disconnect(),this.sourceNode.buffer=null,this.sourceNode=void 0)};return{stop:p,destroy:()=>{var v;p(),this.analyserNode&&this.destinationNode&&(this.analyserNode.disconnect(this.destinationNode),this.analyserNode=void 0),(v=this.audioCtx)===null||v===void 0||v.close(),this.audioCtx=void 0}}}testMicrophone(n){var o;if(typeof AudioContext!="function"||typeof MediaStreamAudioDestinationNode!="function"||typeof AudioContext.prototype.createMediaStreamSource!="function"||typeof((o=navigator.mediaDevices)===null||o===void 0?void 0:o.getUserMedia)!="function")return void console.warn("Cannot test the microphone due to the browser capability");const{microphoneId:i,speakerId:c,recordAndPlay:d,maxRecordDuration:p,onAnalyseFrequency:v,onStartRecording:S,onStopRecording:_,onStartPlayRecording:x,onStopPlayRecording:P}=n||{};if(this.isRunning)return void console.warn("A tester is running,please stop it first");this.isRunning=!0,this.initAudioContext();const B=()=>{d&&this.mediaRecorder&&this.isRecording&&(this.shouldPlayAfterRecording=!0,this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop())};window.navigator.mediaDevices.getUserMedia({audio:!i||{deviceId:{exact:i}}}).then((U=>{var H,K,oe,ce;this.mAudioStream=U,this.mSourceNode=(H=this.audioCtx)===null||H===void 0?void 0:H.createMediaStreamSource(U),this.audioPlayer.muted=!0,v?(this.analyzserInterval&&window.clearInterval(this.analyzserInterval),this.analyserCallback=v,this.initAnalyserNode(),this.analyserNode&&((oe=this.mSourceNode)===null||oe===void 0||oe.connect(this.analyserNode))):this.analyserCallback=void 0,d&&(typeof MediaRecorder=="function"?(this.recorderObjUrl&&window.URL.revokeObjectURL(this.recorderObjUrl),this.mediaRecorder=new MediaRecorder(this.mAudioStream),this.mediaRecorder.ondataavailable=re=>{re.data&&this.recorderChunks.push(re.data)},this.mediaRecorder.onstop=()=>{if(this.isRecording=!1,this.maximumRecordingTimer&&(window.clearTimeout(this.maximumRecordingTimer),this.maximumRecordingTimer=void 0),_?.(),this.recorderChunks.length>0){var re;const ye=new Blob(this.recorderChunks,{type:((re=this.recorderChunks[0])===null||re===void 0?void 0:re.type)||"audio/ogg; codecs=opus"});this.recorderObjUrl=window.URL.createObjectURL(ye),this.shouldPlayAfterRecording&&this.playRecording(this.recorderObjUrl,c,x,P).catch((_e=>{this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),console.warn(_e)})),this.recorderChunks=[],this.mediaRecorder&&(this.mediaRecorder.ondataavailable=null,this.mediaRecorder.onstop=null,this.mediaRecorder=void 0)}},this.mediaRecorder.start(),this.isRecording=!0,S?.(),this.maximumRecordingTimer=window.setTimeout((()=>{B()}),p||1e4)):console.warn("Cannot record the sound due to the browser capability")),((K=this.audioCtx)===null||K===void 0?void 0:K.state)!=="running"&&((ce=this.audioCtx)===null||ce===void 0||ce.resume()),this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.play())}));const z=()=>{this.isRunning=!1,this.maximumRecordingTimer&&(window.clearTimeout(this.maximumRecordingTimer),this.maximumRecordingTimer=void 0),this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.pause()),this.analyserNode&&this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),this.mSourceNode&&(v&&this.analyserNode&&this.mSourceNode.disconnect(this.analyserNode),this.mSourceNode=void 0),this.mAudioStream&&(this.mAudioStream.getAudioTracks().forEach((U=>{U.stop()})),this.mAudioStream=void 0),this.mediaRecorder&&(this.shouldPlayAfterRecording=!1,this.mediaRecorder.ondataavailable=null,this.mediaRecorder.onstop=null,this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop(),this.isRecording=!1,this.mediaRecorder=void 0,this.recorderChunks=[]),this.recorderPlayer&&(this.recorderPlayer.currentTime=0,this.recorderPlayer.pause())};return{stop:z,stopRecording:B,destroy:()=>{var U;z(),this.analyserNode&&this.destinationNode&&(this.analyserNode.disconnect(this.destinationNode),this.analyserNode=void 0),(U=this.audioCtx)===null||U===void 0||U.close(),this.audioCtx=void 0}}}initAudioContext(){this.audioCtx&&this.audioPlayer||(this.audioCtx=new AudioContext,this.destinationNode=new MediaStreamAudioDestinationNode(this.audioCtx),this.audioPlayer=new Audio,this.audioPlayer.loop=!0,this.audioPlayer.srcObject=this.destinationNode.stream)}initAnalyserNode(){if(!this.audioCtx)return;this.analyserNode||(this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.connect(this.destinationNode),this.analyserNode.fftSize=1024);const n=this.analyserNode.frequencyBinCount;this.analyserNodeBufferDataArray=new Uint8Array(n),this.analyzserInterval=window.setInterval(this.audioAnalyserCallback.bind(this),20)}audioAnalyserCallback(){if(this.analyserNodeBufferDataArray&&this.analyserNode&&this.analyserCallback){this.analyserNode.getByteFrequencyData(this.analyserNodeBufferDataArray);let n=0;for(const i of this.analyserNodeBufferDataArray)n+=i;const o=n/this.analyserNodeBufferDataArray.length;this.analyserCallback(o)}}playRecording(n,o,i,c){this.recorderPlayer=new Audio,this.recorderPlayer.src=n,this.recorderPlayer.currentTime=0,this.recorderPlayer.setSinkId&&o&&this.recorderPlayer.setSinkId(o);const d=()=>{c?.(),this.recorderPlayer&&(this.recorderPlayer.onpause=null,this.recorderPlayer.onended=null,this.recorderPlayer=void 0,this.isRunning=!1)};return new Promise(((p,v)=>{this.recorderPlayer&&(this.recorderPlayer.onpause=()=>{p(!0)},this.recorderPlayer.onended=()=>{p(!0)},this.recorderPlayer.onerror=v,i?.(),this.recorderPlayer.play().catch(v))})).finally((()=>{window.URL.revokeObjectURL(n),d()}))}}const kpe="AudioNotStartedError";class s7e{constructor(n=""){this.audioContext=void 0,this.inputMicDetector=void 0,this.isMicUnmuted=void 0,this.isAudioStarted=void 0,this.audioStream=void 0,this.deviceId=void 0,this.tester=void 0,this.audioContext=null,this.inputMicDetector=null,this.isMicUnmuted=!1,this.isAudioStarted=!1,this.audioStream=null,this.deviceId=n,this.tester=new o7e}async start(){if(this.audioStream||this.isAudioStarted)throw new Error("AudioAlreadyStartedError");try{const n=await navigator.mediaDevices.getUserMedia(this.getAudioConstraints());this.audioStream=n,this.isAudioStarted=!0}catch(n){throw n}}async unmute(){if(!this.audioStream||!this.isAudioStarted)throw new Error(kpe);if(this.isMicUnmuted)throw new Error("AudioAlreadyUnmutedError");return this.toggleMicIsMuted(!0)}async mute(){if(!this.audioStream||!this.isAudioStarted)throw new Error(kpe);if(!this.isMicUnmuted)throw new Error("AudioAlreadyMutedError");return this.toggleMicIsMuted(!1)}getCurrentVolume(){return this.inputMicDetector?this.inputMicDetector.getMicVolume():0}async stop(){if(!this.audioStream||!this.isAudioStarted)throw new Error(kpe);this.audioStream.getAudioTracks().forEach((n=>n.stop())),this.audioStream=null,this.isAudioStarted=!1}async toggleMicIsMuted(n){if(n){if(!this.audioContext){const o=window.AudioContext||window.webkitAudioContext;this.audioContext=new o}this.inputMicDetector=new t7e(this.audioContext),this.inputMicDetector.connectToSource(this.audioStream)}else this.inputMicDetector&&this.inputMicDetector.stop(),this.inputMicDetector=null;this.isMicUnmuted=n}getAudioConstraints(){return{audio:this.deviceId===""||{deviceId:{exact:this.deviceId}},video:!1}}testSpeaker(n){return this.tester.testSpeaker(n)}testMicrophone(n){return this.tester.testMicrophone(n)}}let Gn=(function(e){return e[e.InitSuccess=1]="InitSuccess",e[e.InitSuccessVideo=1.1]="InitSuccessVideo",e[e.InitSuccessAudio=1.2]="InitSuccessAudio",e[e.InitSuccessSharing=1.3]="InitSuccessSharing",e[e.UserGrantCaptureAudio=2]="UserGrantCaptureAudio",e[e.CurrentVideoResolution=3]="CurrentVideoResolution",e[e.JpegDecThreadOk=4]="JpegDecThreadOk",e[e.JpegData=5]="JpegData",e[e.SharingPara=6]="SharingPara",e[e.VideoDecodeMaxSize=7]="VideoDecodeMaxSize",e[e.CurrentCaptureVideoWidthHeight=8]="CurrentCaptureVideoWidthHeight",e[e.StartVideoCaptureSuccess=9]="StartVideoCaptureSuccess",e[e.StopVideoCaptureSuccess=10]="StopVideoCaptureSuccess",e[e.StartRemoteControlSuccess=11]="StartRemoteControlSuccess",e[e.CancelRemoteControlSuccess=12]="CancelRemoteControlSuccess",e[e.RemoteControlCopiedTextNotify=13]="RemoteControlCopiedTextNotify",e[e.MonitorLog=14]="MonitorLog",e[e.CurrentDesktopSharingWidthHeight=15]="CurrentDesktopSharingWidthHeight",e[e.DesktopSharingCaptureSuccess=16]="DesktopSharingCaptureSuccess",e[e.CheckChromeSharingExtensionResponse=17]="CheckChromeSharingExtensionResponse",e[e.SharingDecodeMaxSize=18]="SharingDecodeMaxSize",e[e.DataChannelOffer=19]="DataChannelOffer",e[e.AesGcmIvResponse=21]="AesGcmIvResponse",e[e.SharingDesktopStreamHaveAudio=23]="SharingDesktopStreamHaveAudio",e[e.JoinComputerAudioComplete=24]="JoinComputerAudioComplete",e[e.JoinSharingAudioComplete=25]="JoinSharingAudioComplete",e[e.LeaveComputerAudioComplete=26]="LeaveComputerAudioComplete",e[e.LeaveSharingAudioComplete=27]="LeaveSharingAudioComplete",e[e.HidStatusMute=28]="HidStatusMute",e[e.AudioStreamFailed=31]="AudioStreamFailed",e[e.VideoStreamFailed=32]="VideoStreamFailed",e[e.AudioSpeakerSetSuccess=33]="AudioSpeakerSetSuccess",e[e.AudiobridgeSetCcLangSuccess=36]="AudiobridgeSetCcLangSuccess",e[e.AudioLevelIndicator=38]="AudioLevelIndicator",e[e.SyncRendererTypeResponse=39]="SyncRendererTypeResponse",e[e.SendRemoteControlQrCode=55]="SendRemoteControlQrCode",e[e.StartVideoStreamInMaskSettingSuccess=66]="StartVideoStreamInMaskSettingSuccess",e[e.CurrentDecodeVideoQuality=66.5]="CurrentDecodeVideoQuality",e[e.CurrentDecodeVideoFps=66.6]="CurrentDecodeVideoFps",e[e.SharingFirstDecodeFrameReceivedSsrc=70]="SharingFirstDecodeFrameReceivedSsrc",e[e.StartVideoStreamInVbSettingSuccess=94]="StartVideoStreamInVbSettingSuccess",e[e.VbModelPreloading_3S=96]="VbModelPreloading_3S",e[e.VbModelPreloading_10S=97]="VbModelPreloading_10S",e[e.VbModelPreloadingOk=98]="VbModelPreloadingOk",e[e.NewActiveSpeakerFirstFrameCallback=111]="NewActiveSpeakerFirstFrameCallback",e[e.AudioBridgeFirstRecvData=114]="AudioBridgeFirstRecvData",e[e.AudioBridgeCanSendData=115]="AudioBridgeCanSendData",e[e.StartAnnotationSuccess=158]="StartAnnotationSuccess",e[e.DeviceChangeEvent=159]="DeviceChangeEvent",e[e.RecaptureAudio=160]="RecaptureAudio",e[e.InitFailed=-1]="InitFailed",e[e.InitFailedVideo=-1.1]="InitFailedVideo",e[e.InitFailedAudio=-1.2]="InitFailedAudio",e[e.InitFailedSharing=-1.3]="InitFailedSharing",e[e.AudioCaptureFailed=-2]="AudioCaptureFailed",e[e.AudioWebsocketBroken=-3]="AudioWebsocketBroken",e[e.VideoWebsocketBroken=-4]="VideoWebsocketBroken",e[e.SharingDecThreadFailed=-5]="SharingDecThreadFailed",e[e.AudioZeroData=-6]="AudioZeroData",e[e.AudioCtxSamplerate=-7]="AudioCtxSamplerate",e[e.UserForbiddedCaptureVideo=-8]="UserForbiddedCaptureVideo",e[e.UserCameraIsTakenByOtherPrograms=-9]="UserCameraIsTakenByOtherPrograms",e[e.StopVideoCaptureFailed=-10]="StopVideoCaptureFailed",e[e.StartRemoteControlFailed=-11]="StartRemoteControlFailed",e[e.CancelRemoteControlFailed=-12]="CancelRemoteControlFailed",e[e.RemoteControlPasteTextLengthOverflow=-14]="RemoteControlPasteTextLengthOverflow",e[e.UserStopDesktopSharing=-15]="UserStopDesktopSharing",e[e.UserCancelPermissionRequest=-16]="UserCancelPermissionRequest",e[e.DesktopSharingChromeExtensionUninstalled=-17]="DesktopSharingChromeExtensionUninstalled",e[e.DesktopSharingPermissionDenied=-18]="DesktopSharingPermissionDenied",e[e.DesktopSharingTimeOut=-19]="DesktopSharingTimeOut",e[e.DesktopSharingError=-20]="DesktopSharingError",e[e.AudioSpeakerSetError=-21]="AudioSpeakerSetError",e[e.DesktopSharingSystemError=-22]="DesktopSharingSystemError",e[e.SharingDesktopStreamHaveNoAudio=-27]="SharingDesktopStreamHaveNoAudio",e[e.AudioBridgeSocketConnectionError=-28]="AudioBridgeSocketConnectionError",e[e.AudioBridgeReconnectStart=-29]="AudioBridgeReconnectStart",e[e.AudioBridgeReconnectEnd=-31]="AudioBridgeReconnectEnd",e[e.WebglLostInMultiView=-32]="WebglLostInMultiView",e[e.MaskSettingParaError=-33]="MaskSettingParaError",e[e.VbSettingParaError=-34]="VbSettingParaError",e[e.NotifyUIFailover=-35]="NotifyUIFailover",e[e.AudiobridgeSetCcLangFailure=-39]="AudiobridgeSetCcLangFailure",e[e.NotifyUIWMSCFailover=-42]="NotifyUIWMSCFailover",e[e.NotifyUIWMSCWSSDisconnected=-43]="NotifyUIWMSCWSSDisconnected",e[e.RecoverWebrtcAudio=-44]="RecoverWebrtcAudio",e[e.WebglContextInvalid=-51]="WebglContextInvalid",e[e.WasmMemoryFail=-52]="WasmMemoryFail",e[e.WorkletProcessExceptions=-53]="WorkletProcessExceptions",e[e.NotSupportExternalCanvasInVTagRenderer=-55]="NotSupportExternalCanvasInVTagRenderer",e[e.HealthCheckFailed=-129]="HealthCheckFailed",e[e.StartAnnotationFailed=-130]="StartAnnotationFailed",e.AudioQosData="AUDIO_QOS_DATA",e.VideoQosData="VIDEO_QOS_DATA",e.ShareQosData="VIDEOSHARE_QOS_DATA",e.NetworkQualityChange="NETWORK_QUALITY_CHANGE",e.NetworkQualityChangeAudio="NETWORK_QUALITY_CHANGE_AUDIO",e.AudioStreamMuted="AUDIO_STREAM_MUTED",e.AudioStreamUnmuted="AUDIO_STREAM_UNMUTED",e.AnnotationRedoStatus="ANNO_REDO_STATUS",e.AnnotationUndoStatus="ANNO_UNDO_STATUS",e.AnnoViewerRequestDraw="ANNO_VIEWER_REQUEST_DRAW",e.VideoStreamMuted="VIDEO_STREAM_MUTED",e.VideoStreamUnmuted="VIDEO_STREAM_UNMUTED",e})({}),pg=(function(e){return e[e.EncodeSuccess=1]="EncodeSuccess",e[e.DecodeSuccess=2]="DecodeSuccess",e[e.EncodeFailed=-1]="EncodeFailed",e[e.DecodeFailed=-2]="DecodeFailed",e})({}),Dpe=(function(e){return e.Spotlight="Spotlight",e.Unmute="Unmute",e.AllowToTalk="Allow to talk",e})({}),q0=(function(e){return e.Inherited="inherited",e.Active="active",e.PassiveByMuteOne="passive(mute one)",e.PassiveByMuteAll="passive(mute all)",e.SharingAudio="sharing audio",e})({}),S3=(function(e){return e.Inherited="inherited",e.Active="active",e.Passive="passive",e.SharingAudio="sharing audio",e})({}),vk=(function(e){return e.Active="active",e.Failover="failover",e.EndedBySystem="audio stream is ended by system",e.Pstn="pstn",e.MicrophoneError="microphone error",e})({}),_5=(function(e){return e.Join="join",e.Leave="leave",e.Muted="muted",e.Unmuted="unmuted",e})({}),_v=(function(e){return e[e.Calling=1]="Calling",e[e.Ringing=2]="Ringing",e[e.Accepted=3]="Accepted",e[e.Busy=4]="Busy",e[e.NotAvailable=5]="NotAvailable",e[e.HangUp=6]="HangUp",e[e.Fail=7]="Fail",e[e.Success=8]="Success",e[e.Timeout=9]="Timeout",e[e.Canceling=10]="Canceling",e[e.Canceled=11]="Canceled",e[e.CancelFailed=12]="CancelFailed",e[e.NoAnswer=13]="NoAnswer",e[e.BlockNoHost=14]="BlockNoHost",e[e.BlockHighRate=15]="BlockHighRate",e[e.BlockTooFrequent=16]="BlockTooFrequent",e})({});const r7e=(()=>{const e=new ArrayBuffer(684),n=new Uint32Array(e);return n.set([1179011410,676,1163280727,544501094,16,65539,16e3,64e3,2097156,1635017060,640],0),new Blob([n],{type:"audio/wav"})})(),i7e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]),a7e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);let Uy=(function(e){return e[e.HostGrab=0]="HostGrab",e[e.OnlyHost=1]="OnlyHost",e[e.AnyoneGrab=2]="AnyoneGrab",e[e.MultipleShare=3]="MultipleShare",e})({}),Zr=(function(e){return e.Sharing="sharing",e.Paused="paused",e.End="ended",e})({}),bQ=(function(e){return e[e.Video_90P=0]="Video_90P",e[e.Video_180P=1]="Video_180P",e[e.Video_360P=2]="Video_360P",e[e.Video_720P=3]="Video_720P",e[e.Video_1080P=4]="Video_1080P",e})({}),jEe=(function(e){return e.Active="Active",e.Inactive="Inactive",e})({}),cX=(function(e){return e.Muted="Muted",e.Unmuted="Unmuted",e})({}),Mpe=(function(e){return e.Started="Started",e.Stopped="Stopped",e.Failed="Failed",e})({}),WEe=(function(e){return e.Approved="Approved",e.Rejected="Rejected",e})({}),Ppe=(function(e){return e.PrivilegeChange="PrivilegeChange",e.StopScreenCapture="StopScreenCapture",e.ShareFromMainSession="ShareFromMainSession",e})({}),_De=(function(e){return e[e.ImageNotMatch=2]="ImageNotMatch",e[e.CanvasNotMatch=3]="CanvasNotMatch",e[e.VBModelNotMatch=4]="VBModelNotMatch",e})({});const Z3="blur";let ek=(function(e){return e.User="user",e.Environment="environment",e.Left="left",e.Right="right",e})({});const Tz=Object.values(ek),iO=1e3,GEe="__ZOOM_SDK_SHARING_VIDEO__",qEe="__ZOOM_SDK_ANNOTATION_CANVAS_@__",_O="__ZOOM_SDK_VIDEO_ZONE__",Npe="__ZOOM_SDK_MEDIA_PLAYBACK_SOURCE_VIDEO__",C3="__ZOOM_SDK_DYMMY_VIDEO_PLAYER_CANVAS_ID__",$ge="__ZOOM_SDK_DUMMY_HIDDEN_SELF_VIEW_VIDEO_ID__",yQ={data:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,rate:0,bandwidth:0}},AO={data:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,rate:0,bandwidth:0}};let gg=(function(e){return e[e.Request=11]="Request",e[e.Decline=12]="Decline",e[e.Approve=13]="Approve",e[e.GiveUp=14]="GiveUp",e[e.StartControl=15]="StartControl",e[e.ContinueControl=16]="ContinueControl",e[e.StopControl=17]="StopControl",e[e.SwitchCamera=20]="SwitchCamera",e})({}),aO=(function(e){return e[e.Bk=0]="Bk",e[e.Center=1]="Center",e[e.ZoomIn=2]="ZoomIn",e[e.ZoomOut=3]="ZoomOut",e[e.Left=4]="Left",e[e.Right=5]="Right",e[e.Up=6]="Up",e[e.Down=7]="Down",e[e.SwitchCamera=8]="SwitchCamera",e})({}),NL=(function(e){return e[e.Pan=192]="Pan",e[e.Tilt=48]="Tilt",e[e.Zoom=12]="Zoom",e[e.Focus=3]="Focus",e})({});(function(e){return e[e.ZoomIn=2]="ZoomIn",e[e.ZoomOut=3]="ZoomOut",e[e.Left=4]="Left",e[e.Right=5]="Right",e[e.Up=6]="Up",e[e.Down=7]="Down",e[e.SwitchCamera=8]="SwitchCamera",e})({});(function(e){return e[e.None=0]="None",e[e.ApproveAnother=3]="ApproveAnother",e[e.Stop=5]="Stop",e})({});let u6=(function(e){return e[e.Null=0]="Null",e[e.Normal=1]="Normal",e[e.VideoMode=2]="VideoMode",e})({}),Ch=(function(e){return e[e.Null=0]="Null",e[e.VirtualBackground=1]="VirtualBackground",e[e.Mask=2]="Mask",e[e.VideoProcessor=3]="VideoProcessor",e})({}),Xi=(function(e){return e.Computer="computer",e.Phone="phone",e})({}),SQ=(function(e){return e[e.Decline=0]="Decline",e[e.Approve=1]="Approve",e[e.CacheClean=2]="CacheClean",e})({}),Dp=(function(e){return e.Unknown="unknown",e.Uninstalled="uninstalled",e.Installed="installed",e})({}),CQ=(function(e){return e.Unlaunched="unlaunched",e.Launched="launched",e})({}),Lpe=(function(e){return e.Started="started",e.Ended="ended",e})({}),Bpe=(function(e){return e[e.Max=30]="Max",e[e.Min=10]="Min",e[e.Default=24]="Default",e})({}),j5=(function(e){return e[e.Loading=1]="Loading",e[e.Done=2]="Done",e})({}),ZEe=(function(e){return e.Browser="Browser",e.Zoom="Zoom",e})({}),KEe=(function(e){return e.Denoise="backgroundNoiseSuppression",e.OriginalSound="originalSound",e})({}),Uge=(function(e){return e[e.Undefined=0]="Undefined",e[e.WebGL=1]="WebGL",e[e.WebGPU=2]="WebGPU",e[e.WebGL2=3]="WebGL2",e})({});(function(e){return e[e.H323=1]="H323",e[e.SIP=2]="SIP",e})({});let XX=(function(e){return e[e.Success=0]="Success",e[e.Ringing=1]="Ringing",e[e.Timeout=2]="Timeout",e[e.Busy=101]="Busy",e[e.Fail=104]="Fail",e})({}),W5=(function(e){return e[e.Exception=-1]="Exception",e[e.PermissionReset=-2]="PermissionReset",e[e.LostAccess=-3]="LostAccess",e})({}),Cv=(function(e){return e[e.AudioConnectionFailed=101]="AudioConnectionFailed",e[e.AudioStreamEnded=102]="AudioStreamEnded",e[e.MicrophonePermissionReset=103]="MicrophonePermissionReset",e[e.AudioStreamFailed=104]="AudioStreamFailed",e[e.MicrophoneMuted=105]="MicrophoneMuted",e[e.AudioStreamMuted=106]="AudioStreamMuted",e[e.AudioPlaybackInterrupted=107]="AudioPlaybackInterrupted",e[e.VideoConnectionFailed=201]="VideoConnectionFailed",e[e.VideoStreamEnded=202]="VideoStreamEnded",e[e.CameraPermissionReset=203]="CameraPermissionReset",e[e.WebGlContextInvalid=204]="WebGlContextInvalid",e[e.WasmOutOfMemory=205]="WasmOutOfMemory",e[e.VideoStreamFailed=206]="VideoStreamFailed",e[e.VideoStreamMuted=207]="VideoStreamMuted",e[e.SharingStreamFailed=301]="SharingStreamFailed",e})({}),YEe=(function(e){return e[e.NoFallback=0]="NoFallback",e[e.FallbackToWasm=1]="FallbackToWasm",e})({}),zge=(function(e){return e[e.WebRTCAudio=1]="WebRTCAudio",e[e.WebRTCVideo=2]="WebRTCVideo",e})({}),l7e=(function(e){return e[e.WebRTCAudio=1]="WebRTCAudio",e[e.WebRTCAudio2=2]="WebRTCAudio2",e})({}),LL=(function(e){return e[e.BROWSER_NOT_SUPPORTED=-3]="BROWSER_NOT_SUPPORTED",e[e.DEVICE_UNSUPPORTED=-4]="DEVICE_UNSUPPORTED",e[e.OTHER_ERROR=-7]="OTHER_ERROR",e[e.DEVICE_UNVERIFIED=-8]="DEVICE_UNVERIFIED",e[e.FEATURE_DISABLED=-9]="FEATURE_DISABLED",e[e.FORCE_SAME_AV_STRATEGY=-10]="FORCE_SAME_AV_STRATEGY",e})({});const c7e={[LL.BROWSER_NOT_SUPPORTED]:"Your browser does not support WebRTC Video.",[LL.DEVICE_UNSUPPORTED]:"WebRTC video cannot currently run on this environment. We are evaluating support for it in the future.",[LL.OTHER_ERROR]:"An error occurred with WebRTC video.",[LL.DEVICE_UNVERIFIED]:"WebRTC video has not been verified in this environment. We are evaluating it for future support.",[LL.FEATURE_DISABLED]:"We disabled WebRTC video for this environment.",[LL.FORCE_SAME_AV_STRATEGY]:"The same AV strategy is forced."};let Rp=(function(e){return e[e.SELECT_MOUSE=0]="SELECT_MOUSE",e[e.SELECT_TOOL=1]="SELECT_TOOL",e[e.SELECT_ERASER=2]="SELECT_ERASER",e[e.UNDO=3]="UNDO",e[e.REDO=4]="REDO",e[e.CLEAR=5]="CLEAR",e[e.CLOSE_TOOL_BAR=6]="CLOSE_TOOL_BAR",e[e.UPDATE_PARAMS=7]="UPDATE_PARAMS",e[e.PAUSE_ANNOTATION=8]="PAUSE_ANNOTATION",e[e.SHOW_ANNOTATOR_NAME=9]="SHOW_ANNOTATOR_NAME",e[e.ANNOTATOR_ID_TO_NAME=10]="ANNOTATOR_ID_TO_NAME",e[e.ANNO_CANVAS_SIZE_UPDATE=11]="ANNO_CANVAS_SIZE_UPDATE",e[e.STAMP=12]="STAMP",e[e.SPOTLIGHT=13]="SPOTLIGHT",e[e.TEXTBOX=14]="TEXTBOX",e[e.SELECT_OBJ=15]="SELECT_OBJ",e[e.UPDATE_REMOTE_POSITION_INFO=16]="UPDATE_REMOTE_POSITION_INFO",e[e.UPDATE_VANISHING_TOOL_TIME=17]="UPDATE_VANISHING_TOOL_TIME",e})({}),Vpe=(function(e){return e[e.Mine=0]="Mine",e[e.Viewer=1]="Viewer",e[e.All=2]="All",e})({}),fE=(function(e){return e[e.None=0]="None",e[e.Pen=1]="Pen",e[e.Highlighter=2]="Highlighter",e[e.Spotlight=3]="Spotlight",e[e.Arrow=4]="Arrow",e[e.Eraser=7]="Eraser",e[e.Line=11]="Line",e[e.Arrow1=12]="Arrow1",e[e.Rectangle=14]="Rectangle",e[e.RectangleSemiFill=15]="RectangleSemiFill",e[e.Ellipse=18]="Ellipse",e[e.EllipseSemiFill=19]="EllipseSemiFill",e[e.DoubleArrow=20]="DoubleArrow",e[e.RectangleFill=21]="RectangleFill",e[e.EllipseFill=23]="EllipseFill",e[e.Diamond=24]="Diamond",e[e.StampArrow=25]="StampArrow",e[e.StampCheck=26]="StampCheck",e[e.StampX=27]="StampX",e[e.StampStar=31]="StampStar",e[e.StampHeart=32]="StampHeart",e[e.StampQuestionMark=33]="StampQuestionMark",e[e.VanishingPen=36]="VanishingPen",e[e.DiamondSemiFill=37]="DiamondSemiFill",e[e.DiamondFill=38]="DiamondFill",e[e.VanishingArrow=43]="VanishingArrow",e[e.VanishingDoubleArrow=44]="VanishingDoubleArrow",e[e.VanishingDiamond=45]="VanishingDiamond",e[e.VanishingEllipse=46]="VanishingEllipse",e[e.VanishingRectangle=47]="VanishingRectangle",e})({}),XEe=(function(e){return e[e.White=4294967295]="White",e[e.Red=4294908185]="Red",e[e.Yellow=4294958642]="Yellow",e[e.Green=4286760838]="Green",e[e.Blue=4281240831]="Blue",e[e.LightPurple=4290017791]="LightPurple",e[e.Pink=4294916295]="Pink",e[e.Orange=4294937088]="Orange",e[e.LimeTreeGreen=4283029022]="LimeTreeGreen",e[e.IceBlue=4283554027]="IceBlue",e[e.DarkGrey=4278190080]="DarkGrey",e[e.DarkRed=4286513152]="DarkRed",e[e.Brown=4286006280]="Brown",e[e.DarkGreen=4278940200]="DarkGreen",e[e.DarkBlue=4279521219]="DarkBlue",e})({});const A5=152,u7e=[{name:"audio_simd.min.js",category:"audio",type:"worker",tag:"simd",alias:"audioSIMDWorkletPath"},{name:"audio.simd.wasm",category:"audio",type:"wasm",tag:"simd",alias:"audioSIMDWasm"},{name:"js_audio_process.min.js",category:"audio",type:"worker",tag:"",alias:"audioWorkerPath"},{name:"audio.encode.wasm",category:"audio",type:"wasm",tag:"",alias:"audioWasm"},{name:"js_audio_worklet.min.js",category:"audio",type:"worklet",tag:"",alias:"audioWorkletPath"},{name:"js_audio_worklet_simd.min.js",category:"audio",type:"worklet",tag:"simd",alias:"audioWorkletSIMDPath"},{name:"js_audio_worklet_process.min.js",category:"audio",type:"worklet",tag:"",alias:"audioWorkletProcessPath"},{name:"js_sharing_audio_worklet.min.js",category:"audio",type:"worklet",tag:"",alias:"sharingAudioWorkletPath"},{name:"js_audio_level_worklet_process.min.js",category:"audio",type:"worklet",tag:"",alias:"audioLevelWorkletPath"},{name:"video_mtsimd.min.js",category:"video",type:"worker",tag:"simd,thread",alias:"videoMSIMDWorkerPath"},{name:"video.mtsimd.wasm",category:"video",type:"wasm",tag:"simd,thread,videoShare",alias:"videoMSIMDWasm"},{name:"video_m.min.js",category:"video",type:"worker",tag:"thread",alias:"videoMtWorkerPath"},{name:"video.mt.wasm",category:"video",type:"wasm",tag:"thread",alias:"videoMtWasm"},{name:"video_simd.min.js",category:"video",type:"worker",tag:"simd",alias:"videoSIMDWorkerPath"},{name:"video.simd.wasm",category:"video",type:"wasm",tag:"simd",alias:"videoSIMDWasm"},{name:"video_s.min.js",category:"video",type:"worker",tag:"",alias:"videoWorkerPath"},{name:"video.decode.wasm",category:"video",type:"wasm",tag:"",alias:"videoWasm"},{name:"video_share_mtsimd.min.js",category:"video",type:"worker",tag:"videoShare",alias:"vsmiworkerpath"},{name:"sharing_mtsimd.min.js",category:"sharing",type:"worker",tag:"simd,thread",alias:"sharingMSIMDWorkerPath"},{name:"sharing_m.min.js",category:"sharing",type:"worker",tag:"thread",alias:"sharingMtWorkerPath"},{name:"sharing_simd.min.js",category:"sharing",type:"worker",tag:"simd",alias:"sharingSIMDWorkerPath"},{name:"sharing_s.min.js",category:"sharing",type:"worker",tag:"",alias:"sharingWorkerPath"},{name:"net_thread.min.js",category:"common",type:"worker",tag:"thread",alias:"netThreadPath"}];class $y{constructor(){this.assetsPath=void 0,this.instance=void 0,this.callbackList=void 0,this.mediaWorkersPath=void 0,this.mediaOptions=void 0,this.inProgress=void 0,this.callbackList=[]}static getInstance(){return this.agentInstance===void 0&&(this.agentInstance=new $y),this.agentInstance}static isSupportMultipleView(){var n;return(n=window.JsMediaSDK_Instance)===null||n===void 0?void 0:n.util.isSupportMultiViewAPI()}static getMaxCountRender(n,o,i){var c;const d=i?{disableRenderLimits:!0}:o;return(c=window.JsMediaSDK_Instance)===null||c===void 0?void 0:c.util.getMaxCountRender(n,d)}init(n,o,i){var c,d,p;!this.instance&&window.JsMediaSDK_Instance&&(this.instance=new window.JsMediaSDK_Instance({...o??{},mediaSDKConfig:{mediaSDKCDNPath:n}})),this.onMediaSDKCallback=this.onMediaSDKCallback.bind(this),this.mediaOptions=o,(c=this.instance)===null||c===void 0||c.setProps({callback:this.onMediaSDKCallback,isPreviewMode:!0,meetingParams:{cid:"",userId:0,rwgHost:"",nginxHost:"",abToken:"",confId:"",e2eEncrypt:!0,enableWebtransport:!1,webtransportPort:0,rwgToMediaSDKConfig:{},webrtcMode:0},mediaParams:{videoDecodeThreadNum:$y.getMaxCountRender(!1,(d=this.mediaOptions)===null||d===void 0?void 0:d.enableMultiDecodeVideoWithoutSAB,i),rendererType:1,isEnableHD:!0,isEnableHW:!0}}),(p=this.instance)===null||p===void 0||p.initVideoEncode(),this.inProgress=!0}onMediaSDKCallback(n,o){this.callbackList.length>0&&this.callbackList.forEach((i=>i(n,o)))}registerCallback(n){this.callbackList.push(n)}unregisterCallback(n){this.callbackList=this.callbackList.filter((o=>o!==n))}async destroy(){var n;this.callbackList=[],await((n=this.instance)===null||n===void 0?void 0:n.destroy()),this.instance=null,this.inProgress=!1}disconnect(){var n,o;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(17,{}),(o=this.instance)===null||o===void 0||o.JsMediaSDK_UnInit()}startVirtualBackgroundSetting(n,o,i,c,d,p,v=!1,S){var _;(_=this.instance)===null||_===void 0||_.Notify_MeidaSDK(91,{canvas:n,bgdom:o,width:d,height:p,ssid:0,VideoSelectValue:c==="default"?null:c,disableOriginalRatio:v,usingFacingMode:["user","environment"].includes(c),id:S})}updateVirtualBackgroundImage(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(92,{bgdom:n})}stopVirtualBackgroundSetting(n=!1){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(93,{isSwitch:n})}startMaskSetting(n,o,i,c,d,p,v,S,_){var x;(x=this.instance)===null||x===void 0||x.Notify_MeidaSDK(62,{canvas:n,maskdom:null,bgdom:null,dx:0,dy:0,dWidth:170,dHeight:170,width:1280,height:720,ssid:0,originWidth:379,originHeight:213,VideoSelectValue:d==="default"?null:d,usingFacingMode:["user","environment"].includes(d)})}stopMaskSetting(n=!1){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(65,{isSwitch:n})}}$y.agentInstance=void 0;const ln="INVALID_OPERATION",Xh="INTERNAL_ERROR",fte="OPERATION_TIMEOUT",Bp="INSUFFICIENT_PRIVILEGES",JX="IMPROPER_MEETING_STATE",tr="INVALID_PARAMETERS",JEe="OPERATION_CANCELLED";var jge=function(e,n){return jge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(o[c]=i[c])},jge(e,n)};function $b(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}jge(e,n),e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}var d6=function(){return d6=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++)for(var c in n=arguments[o])Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c]);return e},d6.apply(this,arguments)};function ADe(e,n){var o,i,c,d,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function v(S){return function(_){return(function(x){if(o)throw new TypeError("Generator is already executing.");for(;p;)try{if(o=1,i&&(c=2&x[0]?i.return:x[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,x[1])).done)return c;switch(i=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return p.label++,{value:x[1],done:!1};case 5:p.label++,i=x[1],x=[0];continue;case 7:x=p.ops.pop(),p.trys.pop();continue;default:if(!((c=(c=p.trys).length>0&&c[c.length-1])||x[0]!==6&&x[0]!==2)){p=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){p.label=x[1];break}if(x[0]===6&&p.label<c[1]){p.label=c[1],c=x;break}if(c&&p.label<c[2]){p.label=c[2],p.ops.push(x);break}c[2]&&p.ops.pop(),p.trys.pop();continue}x=n.call(e,p)}catch(P){x=[6,P],i=0}finally{o=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}})([S,_])}}}function U6(e){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&e[n],i=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function n1(e,n){var o=typeof Symbol=="function"&&e[Symbol.iterator];if(!o)return e;var i,c,d=o.call(e),p=[];try{for(;(n===void 0||n-- >0)&&!(i=d.next()).done;)p.push(i.value)}catch(v){c={error:v}}finally{try{i&&!i.done&&(o=d.return)&&o.call(d)}finally{if(c)throw c.error}}return p}function PS(e,n){for(var o=0,i=n.length,c=e.length;o<i;o++,c++)e[c]=n[o];return e}function o3(e){return this instanceof o3?(this.v=e,this):new o3(e)}function Al(e){return typeof e=="function"}function xz(e){var n=e((function(o){Error.call(o),o.stack=new Error().stack}));return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Fpe=xz((function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map((function(o,i){return i+1+") "+o.toString()})).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}}));function EQ(e,n){if(e){var o=e.indexOf(n);0<=o&&e.splice(o,1)}}var Oz=(function(){function e(o){this.initialTeardown=o,this.closed=!1,this._parentage=null,this._finalizers=null}var n;return e.prototype.unsubscribe=function(){var o,i,c,d,p;if(!this.closed){this.closed=!0;var v=this._parentage;if(v)if(this._parentage=null,Array.isArray(v))try{for(var S=U6(v),_=S.next();!_.done;_=S.next())_.value.remove(this)}catch(H){o={error:H}}finally{try{_&&!_.done&&(i=S.return)&&i.call(S)}finally{if(o)throw o.error}}else v.remove(this);var x=this.initialTeardown;if(Al(x))try{x()}catch(H){p=H instanceof Fpe?H.errors:[H]}var P=this._finalizers;if(P){this._finalizers=null;try{for(var B=U6(P),z=B.next();!z.done;z=B.next()){var U=z.value;try{QEe(U)}catch(H){p=p??[],H instanceof Fpe?p=PS(PS([],n1(p)),n1(H.errors)):p.push(H)}}}catch(H){c={error:H}}finally{try{z&&!z.done&&(d=B.return)&&d.call(B)}finally{if(c)throw c.error}}}if(p)throw new Fpe(p)}},e.prototype.add=function(o){var i;if(o&&o!==this)if(this.closed)QEe(o);else{if(o instanceof e){if(o.closed||o._hasParent(this))return;o._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(o)}},e.prototype._hasParent=function(o){var i=this._parentage;return i===o||Array.isArray(i)&&i.includes(o)},e.prototype._addParent=function(o){var i=this._parentage;this._parentage=Array.isArray(i)?(i.push(o),i):i?[i,o]:o},e.prototype._removeParent=function(o){var i=this._parentage;i===o?this._parentage=null:Array.isArray(i)&&EQ(i,o)},e.prototype.remove=function(o){var i=this._finalizers;i&&EQ(i,o),o instanceof e&&o._removeParent(this)},e.EMPTY=((n=new e).closed=!0,n),e})(),TDe=Oz.EMPTY;function xDe(e){return e instanceof Oz||e&&"closed"in e&&Al(e.remove)&&Al(e.add)&&Al(e.unsubscribe)}function QEe(e){Al(e)?e():e.unsubscribe()}var d7e=void 0;function ODe(e){(function(n,o){for(var i=[],c=2;c<arguments.length;c++)i[c-2]=arguments[c];setTimeout.apply(void 0,PS([n,o],n1(i)))})((function(){throw e}))}function K3(){}function QX(e){e()}var R0e=(function(e){function n(o){var i=e.call(this)||this;return i.isStopped=!1,o?(i.destination=o,xDe(o)&&o.add(i)):i.destination=f7e,i}return $b(n,e),n.create=function(o,i,c){return new wQ(o,i,c)},n.prototype.next=function(o){this.isStopped||this._next(o)},n.prototype.error=function(o){this.isStopped||(this.isStopped=!0,this._error(o))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(o){this.destination.next(o)},n.prototype._error=function(o){try{this.destination.error(o)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n})(Oz),h7e=(function(){function e(n){this.partialObserver=n}return e.prototype.next=function(n){var o=this.partialObserver;if(o.next)try{o.next(n)}catch(i){uX(i)}},e.prototype.error=function(n){var o=this.partialObserver;if(o.error)try{o.error(n)}catch(i){uX(i)}else uX(n)},e.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(o){uX(o)}},e})(),wQ=(function(e){function n(o,i,c){var d,p=e.call(this)||this;return d=Al(o)||!o?{next:o??void 0,error:i??void 0,complete:c??void 0}:o,p.destination=new h7e(d),p}return $b(n,e),n})(R0e);function uX(e){ODe(e)}var f7e={closed:!0,next:K3,error:function(e){throw e},complete:K3},k0e=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pte(e){return e}function $O(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return IDe(e)}function IDe(e){return e.length===0?pte:e.length===1?e[0]:function(n){return e.reduce((function(o,i){return i(o)}),n)}}var yu=(function(){function e(n){n&&(this._subscribe=n)}return e.prototype.lift=function(n){var o=new e;return o.source=this,o.operator=n,o},e.prototype.subscribe=function(n,o,i){var c,d=this,p=(c=n)&&c instanceof R0e||(function(v){return v&&Al(v.next)&&Al(v.error)&&Al(v.complete)})(c)&&xDe(c)?n:new wQ(n,o,i);return QX((function(){var v=d,S=v.operator,_=v.source;p.add(S?S.call(p,_):_?d._subscribe(p):d._trySubscribe(p))})),p},e.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(o){n.error(o)}},e.prototype.forEach=function(n,o){var i=this;return new(o=ewe(o))((function(c,d){var p=new wQ({next:function(v){try{n(v)}catch(S){d(S),p.unsubscribe()}},error:d,complete:c});i.subscribe(p)}))},e.prototype._subscribe=function(n){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(n)},e.prototype[k0e]=function(){return this},e.prototype.pipe=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return IDe(n)(this)},e.prototype.toPromise=function(n){var o=this;return new(n=ewe(n))((function(i,c){var d;o.subscribe((function(p){return d=p}),(function(p){return c(p)}),(function(){return i(d)}))}))},e.create=function(n){return new e(n)},e})();function ewe(e){var n;return(n=e??d7e)!==null&&n!==void 0?n:Promise}function Jd(e){return function(n){if((function(o){return Al(o?.lift)})(n))return n.lift((function(o){try{return e(o,this)}catch(i){this.error(i)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Td(e,n,o,i,c){return new p7e(e,n,o,i,c)}var Hpe,p7e=(function(e){function n(o,i,c,d,p,v){var S=e.call(this,o)||this;return S.onFinalize=p,S.shouldUnsubscribe=v,S._next=i?function(_){try{i(_)}catch(x){o.error(x)}}:e.prototype._next,S._error=d?function(_){try{d(_)}catch(x){o.error(x)}finally{this.unsubscribe()}}:e.prototype._error,S._complete=c?function(){try{c()}catch(_){o.error(_)}finally{this.unsubscribe()}}:e.prototype._complete,S}return $b(n,e),n.prototype.unsubscribe=function(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),!i&&((o=this.onFinalize)===null||o===void 0||o.call(this))}},n})(R0e),m7e=xz((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),J0=(function(e){function n(){var o=e.call(this)||this;return o.closed=!1,o.currentObservers=null,o.observers=[],o.isStopped=!1,o.hasError=!1,o.thrownError=null,o}return $b(n,e),n.prototype.lift=function(o){var i=new twe(this,this);return i.operator=o,i},n.prototype._throwIfClosed=function(){if(this.closed)throw new m7e},n.prototype.next=function(o){var i=this;QX((function(){var c,d;if(i._throwIfClosed(),!i.isStopped){i.currentObservers||(i.currentObservers=Array.from(i.observers));try{for(var p=U6(i.currentObservers),v=p.next();!v.done;v=p.next())v.value.next(o)}catch(S){c={error:S}}finally{try{v&&!v.done&&(d=p.return)&&d.call(p)}finally{if(c)throw c.error}}}}))},n.prototype.error=function(o){var i=this;QX((function(){if(i._throwIfClosed(),!i.isStopped){i.hasError=i.isStopped=!0,i.thrownError=o;for(var c=i.observers;c.length;)c.shift().error(o)}}))},n.prototype.complete=function(){var o=this;QX((function(){if(o._throwIfClosed(),!o.isStopped){o.isStopped=!0;for(var i=o.observers;i.length;)i.shift().complete()}}))},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var o;return((o=this.observers)===null||o===void 0?void 0:o.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(o){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,o)},n.prototype._subscribe=function(o){return this._throwIfClosed(),this._checkFinalizedStatuses(o),this._innerSubscribe(o)},n.prototype._innerSubscribe=function(o){var i=this,c=this,d=c.hasError,p=c.isStopped,v=c.observers;return d||p?TDe:(this.currentObservers=null,v.push(o),new Oz((function(){i.currentObservers=null,EQ(v,o)})))},n.prototype._checkFinalizedStatuses=function(o){var i=this,c=i.hasError,d=i.thrownError,p=i.isStopped;c?o.error(d):p&&o.complete()},n.prototype.asObservable=function(){var o=new yu;return o.source=this,o},n.create=function(o,i){return new twe(o,i)},n})(yu),twe=(function(e){function n(o,i){var c=e.call(this)||this;return c.destination=o,c.source=i,c}return $b(n,e),n.prototype.next=function(o){var i,c;(c=(i=this.destination)===null||i===void 0?void 0:i.next)===null||c===void 0||c.call(i,o)},n.prototype.error=function(o){var i,c;(c=(i=this.destination)===null||i===void 0?void 0:i.error)===null||c===void 0||c.call(i,o)},n.prototype.complete=function(){var o,i;(i=(o=this.destination)===null||o===void 0?void 0:o.complete)===null||i===void 0||i.call(o)},n.prototype._subscribe=function(o){var i,c;return(c=(i=this.source)===null||i===void 0?void 0:i.subscribe(o))!==null&&c!==void 0?c:TDe},n})(J0),g7e=(function(e){function n(o){var i=e.call(this)||this;return i._value=o,i}return $b(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(o){var i=e.prototype._subscribe.call(this,o);return!i.closed&&o.next(this._value),i},n.prototype.getValue=function(){var o=this,i=o.hasError,c=o.thrownError,d=o._value;if(i)throw c;return this._throwIfClosed(),d},n.prototype.next=function(o){e.prototype.next.call(this,this._value=o)},n})(J0),v7e=function(){return Date.now()},b7e=(function(e){function n(o,i){return e.call(this)||this}return $b(n,e),n.prototype.schedule=function(o,i){return this},n})(Oz),D0e=(function(e){function n(o,i){var c=e.call(this,o,i)||this;return c.scheduler=o,c.work=i,c.pending=!1,c}return $b(n,e),n.prototype.schedule=function(o,i){var c;if(i===void 0&&(i=0),this.closed)return this;this.state=o;var d=this.id,p=this.scheduler;return d!=null&&(this.id=this.recycleAsyncId(p,d,i)),this.pending=!0,this.delay=i,this.id=(c=this.id)!==null&&c!==void 0?c:this.requestAsyncId(p,this.id,i),this},n.prototype.requestAsyncId=function(o,i,c){return c===void 0&&(c=0),(function(d,p){for(var v=[],S=2;S<arguments.length;S++)v[S-2]=arguments[S];return setInterval.apply(void 0,PS([d,p],n1(v)))})(o.flush.bind(o,this),c)},n.prototype.recycleAsyncId=function(o,i,c){if(c===void 0&&(c=0),c!=null&&this.delay===c&&this.pending===!1)return i;i!=null&&(function(d){clearInterval(d)})(i)},n.prototype.execute=function(o,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var c=this._execute(o,i);if(c)return c;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(o,i){var c,d=!1;try{this.work(o)}catch(p){d=!0,c=p||new Error("Scheduled action threw falsy error")}if(d)return this.unsubscribe(),c},n.prototype.unsubscribe=function(){if(!this.closed){var o=this.id,i=this.scheduler,c=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,EQ(c,this),o!=null&&(this.id=this.recycleAsyncId(i,o,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},n})(b7e),y7e=1,Wge={};function RDe(e){return e in Wge&&(delete Wge[e],!0)}var S7e=function(e){var n=y7e++;return Wge[n]=!0,Hpe||(Hpe=Promise.resolve()),Hpe.then((function(){return RDe(n)&&e()})),n},C7e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return S7e.apply(void 0,PS([],n1(e)))},E7e=function(e){return(function(n){RDe(n)})(e)},w7e=(function(e){function n(o,i){var c=e.call(this,o,i)||this;return c.scheduler=o,c.work=i,c}return $b(n,e),n.prototype.requestAsyncId=function(o,i,c){return c===void 0&&(c=0),c!==null&&c>0?e.prototype.requestAsyncId.call(this,o,i,c):(o.actions.push(this),o._scheduled||(o._scheduled=C7e(o.flush.bind(o,void 0))))},n.prototype.recycleAsyncId=function(o,i,c){var d;if(c===void 0&&(c=0),c!=null?c>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,o,i,c);var p=o.actions;i!=null&&((d=p[p.length-1])===null||d===void 0?void 0:d.id)!==i&&(E7e(i),o._scheduled===i&&(o._scheduled=void 0))},n})(D0e),nwe=(function(){function e(n,o){o===void 0&&(o=e.now),this.schedulerActionCtor=n,this.now=o}return e.prototype.schedule=function(n,o,i){return o===void 0&&(o=0),new this.schedulerActionCtor(this,n).schedule(i,o)},e.now=v7e,e})(),M0e=(function(e){function n(o,i){i===void 0&&(i=nwe.now);var c=e.call(this,o,i)||this;return c.actions=[],c._active=!1,c}return $b(n,e),n.prototype.flush=function(o){var i=this.actions;if(this._active)i.push(o);else{var c;this._active=!0;do if(c=o.execute(o.state,o.delay))break;while(o=i.shift());if(this._active=!1,c){for(;o=i.shift();)o.unsubscribe();throw c}}},n})(nwe),bA=new((function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return $b(n,e),n.prototype.flush=function(o){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var c,d=this.actions;o=o||d.shift();do if(c=o.execute(o.state,o.delay))break;while((o=d[0])&&o.id===i&&d.shift());if(this._active=!1,c){for(;(o=d[0])&&o.id===i&&d.shift();)o.unsubscribe();throw c}},n})(M0e))(w7e),Dv=new M0e(D0e),_7e=Dv,A7e=(function(e){function n(o,i){var c=e.call(this,o,i)||this;return c.scheduler=o,c.work=i,c}return $b(n,e),n.prototype.schedule=function(o,i){return i===void 0&&(i=0),i>0?e.prototype.schedule.call(this,o,i):(this.delay=i,this.state=o,this.scheduler.flush(this),this)},n.prototype.execute=function(o,i){return i>0||this.closed?e.prototype.execute.call(this,o,i):this._execute(o,i)},n.prototype.requestAsyncId=function(o,i,c){return c===void 0&&(c=0),c!=null&&c>0||c==null&&this.delay>0?e.prototype.requestAsyncId.call(this,o,i,c):(o.flush(this),0)},n})(D0e),owe=new((function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return $b(n,e),n})(M0e))(A7e),Eo=new yu((function(e){return e.complete()}));function kDe(e){return e&&Al(e.schedule)}function P0e(e){return e[e.length-1]}function DDe(e){return Al(P0e(e))?e.pop():void 0}function Iz(e){return kDe(P0e(e))?e.pop():void 0}var N0e=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function MDe(e){return Al(e?.then)}function PDe(e){return Al(e[k0e])}function NDe(e){return Symbol.asyncIterator&&Al(e?.[Symbol.asyncIterator])}function LDe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var swe,BDe=typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator";function VDe(e){return Al(e?.[BDe])}function FDe(e){return(function(n,o,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,d=i.apply(n,o||[]),p=[];return c={},v("next"),v("throw"),v("return"),c[Symbol.asyncIterator]=function(){return this},c;function v(B){d[B]&&(c[B]=function(z){return new Promise((function(U,H){p.push([B,z,U,H])>1||S(B,z)}))})}function S(B,z){try{(function(U){U.value instanceof o3?Promise.resolve(U.value.v).then(_,x):P(p[0][2],U)})(d[B](z))}catch(U){P(p[0][3],U)}}function _(B){S("next",B)}function x(B){S("throw",B)}function P(B,z){B(z),p.shift(),p.length&&S(p[0][0],p[0][1])}})(this,arguments,(function(){var n,o,i;return ADe(this,(function(c){switch(c.label){case 0:n=e.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,o3(n.read())];case 3:return o=c.sent(),i=o.value,o.done?[4,o3(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,o3(i)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}}))}))}function HDe(e){return Al(e?.getReader)}function jf(e){if(e instanceof yu)return e;if(e!=null){if(PDe(e))return c=e,new yu((function(d){var p=c[k0e]();if(Al(p.subscribe))return p.subscribe(d);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(N0e(e))return i=e,new yu((function(d){for(var p=0;p<i.length&&!d.closed;p++)d.next(i[p]);d.complete()}));if(MDe(e))return o=e,new yu((function(d){o.then((function(p){d.closed||(d.next(p),d.complete())}),(function(p){return d.error(p)})).then(null,ODe)}));if(NDe(e))return rwe(e);if(VDe(e))return n=e,new yu((function(d){var p,v;try{for(var S=U6(n),_=S.next();!_.done;_=S.next()){var x=_.value;if(d.next(x),d.closed)return}}catch(P){p={error:P}}finally{try{_&&!_.done&&(v=S.return)&&v.call(S)}finally{if(p)throw p.error}}d.complete()}));if(HDe(e))return rwe(FDe(e))}var n,o,i,c;throw LDe(e)}function rwe(e){return new yu((function(n){(function(o,i){var c,d,p,v;return(function(S,_,x,P){return new(x||(x=Promise))((function(B,z){function U(oe){try{K(P.next(oe))}catch(ce){z(ce)}}function H(oe){try{K(P.throw(oe))}catch(ce){z(ce)}}function K(oe){var ce;oe.done?B(oe.value):(ce=oe.value,ce instanceof x?ce:new x((function(re){re(ce)}))).then(U,H)}K((P=P.apply(S,[])).next())}))})(this,0,void 0,(function(){var S,_;return ADe(this,(function(x){switch(x.label){case 0:x.trys.push([0,5,6,11]),c=(function(P){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,z=P[Symbol.asyncIterator];return z?z.call(P):(P=U6(P),B={},U("next"),U("throw"),U("return"),B[Symbol.asyncIterator]=function(){return this},B);function U(H){B[H]=P[H]&&function(K){return new Promise((function(oe,ce){(function(re,ye,_e,Oe){Promise.resolve(Oe).then((function(F){re({value:F,done:_e})}),ye)})(oe,ce,(K=P[H](K)).done,K.value)}))}}})(o),x.label=1;case 1:return[4,c.next()];case 2:if((d=x.sent()).done)return[3,4];if(S=d.value,i.next(S),i.closed)return[2];x.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return _=x.sent(),p={error:_},[3,11];case 6:return x.trys.push([6,,9,10]),d&&!d.done&&(v=c.return)?[4,v.call(c)]:[3,8];case 7:x.sent(),x.label=8;case 8:return[3,10];case 9:if(p)throw p.error;return[7];case 10:return[7];case 11:return i.complete(),[2]}}))}))})(e,n).catch((function(o){return n.error(o)}))}))}function PO(e,n,o,i,c){i===void 0&&(i=0),c===void 0&&(c=!1);var d=n.schedule((function(){o(),c?e.add(this.schedule(null,i)):this.unsubscribe()}),i);if(e.add(d),!c)return d}function Xu(e,n){return n===void 0&&(n=0),Jd((function(o,i){o.subscribe(Td(i,(function(c){return PO(i,e,(function(){return i.next(c)}),n)}),(function(){return PO(i,e,(function(){return i.complete()}),n)}),(function(c){return PO(i,e,(function(){return i.error(c)}),n)})))}))}function Gge(e,n){return n===void 0&&(n=0),Jd((function(o,i){i.add(e.schedule((function(){return o.subscribe(i)}),n))}))}function iwe(e,n){if(!e)throw new Error("Iterable cannot be null");return new yu((function(o){PO(o,n,(function(){var i=e[Symbol.asyncIterator]();PO(o,n,(function(){i.next().then((function(c){c.done?o.complete():o.next(c.value)}))}),0,!0)}))}))}function Kn(e,n){return n?(function(o,i){if(o!=null){if(PDe(o))return(function(c,d){return jf(c).pipe(Gge(d),Xu(d))})(o,i);if(N0e(o))return(function(c,d){return new yu((function(p){var v=0;return d.schedule((function(){v===c.length?p.complete():(p.next(c[v++]),p.closed||this.schedule())}))}))})(o,i);if(MDe(o))return(function(c,d){return jf(c).pipe(Gge(d),Xu(d))})(o,i);if(NDe(o))return iwe(o,i);if(VDe(o))return(function(c,d){return new yu((function(p){var v;return PO(p,d,(function(){v=c[BDe](),PO(p,d,(function(){var S,_,x;try{_=(S=v.next()).value,x=S.done}catch(P){return void p.error(P)}x?p.complete():p.next(_)}),0,!0)})),function(){return Al(v?.return)&&v.return()}}))})(o,i);if(HDe(o))return(function(c,d){return iwe(FDe(c),d)})(o,i)}throw LDe(o)})(e,n):jf(e)}function za(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Kn(e,Iz(e))}function UO(e,n){var o=Al(e)?e:function(){return e};return new yu((function(i){return i.error(o())}))}(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(swe||(swe={}));var $pe=(function(){function e(n,o,i){this.kind=n,this.value=o,this.error=i,this.hasValue=n==="N"}return e.prototype.observe=function(n){return $De(this,n)},e.prototype.do=function(n,o,i){var c=this,d=c.kind,p=c.value,v=c.error;return d==="N"?n?.(p):d==="E"?o?.(v):i?.()},e.prototype.accept=function(n,o,i){var c;return Al((c=n)===null||c===void 0?void 0:c.next)?this.observe(n):this.do(n,o,i)},e.prototype.toObservable=function(){var n=this,o=n.kind,i=n.value,c=n.error,d=o==="N"?za(i):o==="E"?UO((function(){return c})):o==="C"?Eo:0;if(!d)throw new TypeError("Unexpected notification kind "+o);return d},e.createNext=function(n){return new e("N",n)},e.createError=function(n){return new e("E",void 0,n)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e})();function $De(e,n){var o,i,c,d=e,p=d.kind,v=d.value,S=d.error;if(typeof p!="string")throw new TypeError('Invalid notification, missing "kind"');p==="N"?(o=n.next)===null||o===void 0||o.call(n,v):p==="E"?(i=n.error)===null||i===void 0||i.call(n,S):(c=n.complete)===null||c===void 0||c.call(n)}var UDe=xz((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function h6(e,n){return new Promise((function(o,i){var c,d=!1;e.subscribe({next:function(p){c=p,d=!0},error:i,complete:function(){d?o(c):i(new UDe)}})}))}function dc(e,n){return new Promise((function(o,i){var c=new wQ({next:function(d){o(d),c.unsubscribe()},error:i,complete:function(){i(new UDe)}});e.subscribe(c)}))}function zDe(e){return e instanceof Date&&!isNaN(e)}var T7e=xz((function(e){return function(n){n===void 0&&(n=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}}));function L0e(e,n){var o=zDe(e)?{first:e}:typeof e=="number"?{each:e}:e,i=o.first,c=o.each,d=o.with,p=d===void 0?x7e:d,v=o.scheduler,S=v===void 0?Dv:v,_=o.meta,x=_===void 0?null:_;if(i==null&&c==null)throw new TypeError("No timeout provided.");return Jd((function(P,B){var z,U,H=null,K=0,oe=function(ce){U=PO(B,S,(function(){try{z.unsubscribe(),jf(p({meta:x,lastValue:H,seen:K})).subscribe(B)}catch(re){B.error(re)}}),ce)};z=P.subscribe(Td(B,(function(ce){U?.unsubscribe(),K++,B.next(H=ce),c>0&&oe(c)}),void 0,void 0,(function(){U?.closed||U==null||U.unsubscribe(),H=null}))),!K&&oe(i!=null?typeof i=="number"?i:+i-S.now():c)}))}function x7e(e){throw new T7e(e)}function So(e,n){return Jd((function(o,i){var c=0;o.subscribe(Td(i,(function(d){i.next(e.call(n,d,c++))})))}))}var O7e=Array.isArray;function B0e(e){return So((function(n){return(function(o,i){return O7e(i)?o.apply(void 0,PS([],n1(i))):o(i)})(e,n)}))}var I7e=Array.isArray,R7e=Object.getPrototypeOf,k7e=Object.prototype,D7e=Object.keys;function jDe(e,n,o,i,c,d,p,v){var S=[],_=0,x=0,P=!1,B=function(){!P||S.length||_||n.complete()},z=function(H){return _<i?U(H):S.push(H)},U=function(H){d&&n.next(H),_++;var K=!1;jf(o(H,x++)).subscribe(Td(n,(function(oe){d?z(oe):n.next(oe)}),(function(){K=!0}),void 0,(function(){if(K)try{_--;for(var oe=function(){var ce=S.shift();p||U(ce)};S.length&&_<i;)oe();B()}catch(ce){n.error(ce)}})))};return e.subscribe(Td(n,z,(function(){P=!0,B()}))),function(){}}function nn(e,n,o){return o===void 0&&(o=1/0),Al(n)?nn((function(i,c){return So((function(d,p){return n(i,d,c,p)}))(jf(e(i,c)))}),o):(typeof n=="number"&&(o=n),Jd((function(i,c){return jDe(i,c,e,o)})))}function WDe(e){return e===void 0&&(e=1/0),nn(pte,e)}function GDe(){return WDe(1)}function z6(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return GDe()(Kn(e,Iz(e)))}function awe(e){return new yu((function(n){jf(e()).subscribe(n)}))}function V0e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=DDe(e),i=(function(v){if(v.length===1){var S=v[0];if(I7e(S))return{args:S,keys:null};if((x=S)&&typeof x=="object"&&R7e(x)===k7e){var _=D7e(S);return{args:_.map((function(P){return S[P]})),keys:_}}}var x;return{args:v,keys:null}})(e),c=i.args,d=i.keys,p=new yu((function(v){var S=c.length;if(S)for(var _=new Array(S),x=S,P=S,B=function(U){var H=!1;jf(c[U]).subscribe(Td(v,(function(K){H||(H=!0,P--),_[U]=K}),(function(){return x--}),void 0,(function(){x&&H||(P||v.next(d?(function(K,oe){return K.reduce((function(ce,re,ye){return ce[re]=oe[ye],ce}),{})})(d,_):_),v.complete())})))},z=0;z<S;z++)B(z);else v.complete()}));return o?p.pipe(B0e(o)):p}var M7e=["addListener","removeListener"],P7e=["addEventListener","removeEventListener"],N7e=["on","off"];function Xd(e,n,o,i){if(Al(o)&&(i=o,o=void 0),i)return Xd(e,n,o).pipe(B0e(i));var c=n1((function(v){return Al(v.addEventListener)&&Al(v.removeEventListener)})(e)?P7e.map((function(v){return function(S){return e[v](n,S,o)}})):(function(v){return Al(v.addListener)&&Al(v.removeListener)})(e)?M7e.map(lwe(e,n)):(function(v){return Al(v.on)&&Al(v.off)})(e)?N7e.map(lwe(e,n)):[],2),d=c[0],p=c[1];if(!d&&N0e(e))return nn((function(v){return Xd(v,n,o)}))(jf(e));if(!d)throw new TypeError("Invalid event target");return new yu((function(v){var S=function(){for(var _=[],x=0;x<arguments.length;x++)_[x]=arguments[x];return v.next(1<_.length?_:_[0])};return d(S),function(){return p(S)}}))}function lwe(e,n){return function(o){return function(i){return e[o](n,i)}}}function yA(e,n,o){return o?yA(e,n).pipe(B0e(o)):new yu((function(i){var c=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];return i.next(p.length===1?p[0]:p)},d=e(c);return Al(n)?function(){return n(c,d)}:void 0}))}function Eu(e,n,o){e===void 0&&(e=0),o===void 0&&(o=_7e);var i=-1;return n!=null&&(kDe(n)?o=n:i=n),new yu((function(c){var d=zDe(e)?+e-o.now():e;d<0&&(d=0);var p=0;return o.schedule((function(){c.closed||(c.next(p++),0<=i?this.schedule(void 0,i):c.complete())}),d)}))}function j6(e,n){return e===void 0&&(e=0),n===void 0&&(n=Dv),e<0&&(e=0),Eu(e,e,n)}function Ad(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=Iz(e),i=(function(d){return typeof P0e(d)=="number"?d.pop():1/0})(e),c=e;return c.length?c.length===1?jf(c[0]):WDe(i)(Kn(c,o)):Eo}var cwe=new yu(K3),L7e=Array.isArray;function B7e(e,n){return function(o,i){return!e.call(n,o,i)}}function yn(e,n){return Jd((function(o,i){var c=0;o.subscribe(Td(i,(function(d){return e.call(n,d,c++)&&i.next(d)})))}))}function Vp(){for(var e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return(n=(e=n).length===1&&L7e(e[0])?e[0]:e).length===1?jf(n[0]):new yu((function(i){return function(c){for(var d=[],p=function(S){d.push(jf(i[S]).subscribe(Td(c,(function(_){if(d){for(var x=0;x<d.length;x++)x!==S&&d[x].unsubscribe();d=null}c.next(_)}))))},v=0;d&&!c.closed&&v<i.length;v++)p(v)}})(n))}function Cm(e){return Jd((function(n,o){var i,c=null,d=!1;c=n.subscribe(Td(o,void 0,void 0,(function(p){i=jf(e(p,Cm(e)(n))),c?(c.unsubscribe(),c=null,i.subscribe(o)):d=!0}))),d&&(c.unsubscribe(),c=null,i.subscribe(o))}))}function V7e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=Iz(e);return Jd((function(i,c){GDe()(Kn(PS([i],n1(e)),o)).subscribe(c)}))}function F7e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return V7e.apply(void 0,PS([],n1(e)))}function Yr(e){return e<=0?function(){return Eo}:Jd((function(n,o){var i=0;n.subscribe(Td(o,(function(c){++i<=e&&(o.next(c),e<=i&&o.complete())})))}))}function Eg(){return Jd((function(e,n){e.subscribe(Td(n,K3))}))}function Mk(e){return So((function(){return e}))}function qDe(e,n){return nn((function(o,i){return jf(e(o,i)).pipe(Yr(1),Mk(o))}))}function Y3(e,n){n===void 0&&(n=Dv);var o=Eu(e,n);return qDe((function(){return o}))}function Ia(e,n,o){return o===void 0&&(o=1/0),Al(n)?nn((function(){return e}),n,o):nn((function(){return e}),o)}function H7e(e,n){return Jd((function(o,i,c){return function(d,p){var v=c,S=i,_=0;d.subscribe(Td(p,(function(x){var P=_++;S=v?o(S,x,P):(v=!0,x),p.next(S)}),void 0))}})(e,n,arguments.length>=2))}function ZDe(e){return Jd((function(n,o){var i=!1,c=0;n.subscribe(Td(o,(function(d){return(i||(i=!e(d,c++)))&&o.next(d)})))}))}function o1(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=Iz(e);return Jd((function(i,c){(o?z6(e,i,o):z6(e,i)).subscribe(c)}))}function hi(e,n){return Jd((function(o,i){var c=null,d=0,p=!1,v=function(){return p&&!c&&i.complete()};o.subscribe(Td(i,(function(S){c?.unsubscribe();var _=0,x=d++;jf(e(S,x)).subscribe(c=Td(i,(function(P){return i.next(n?n(S,P,x,_++):P)}),(function(){c=null,v()})))}),(function(){p=!0,v()})))}))}function wh(e){return Jd((function(n,o){jf(e).subscribe(Td(o,(function(){return o.complete()}),K3)),!o.closed&&n.subscribe(o)}))}function tk(e,n){return n===void 0&&(n=!1),Jd((function(o,i){var c=0;o.subscribe(Td(i,(function(d){var p=e(d,c++);(p||n)&&i.next(d),!p&&i.complete()})))}))}function Bo(e,n,o){var i=Al(e)||n||o?{next:e,error:n,complete:o}:e;return i?Jd((function(c,d){var p;(p=i.subscribe)===null||p===void 0||p.call(i);var v=!0;c.subscribe(Td(d,(function(S){var _;(_=i.next)===null||_===void 0||_.call(i,S),d.next(S)}),(function(){var S;v=!1,(S=i.complete)===null||S===void 0||S.call(i),d.complete()}),(function(S){var _;v=!1,(_=i.error)===null||_===void 0||_.call(i,S),d.error(S)}),(function(){var S,_;v&&((S=i.unsubscribe)===null||S===void 0||S.call(i)),(_=i.finalize)===null||_===void 0||_.call(i)})))})):pte}function Qo(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=DDe(e);return Jd((function(i,c){for(var d=e.length,p=new Array(d),v=e.map((function(){return!1})),S=!1,_=function(P){jf(e[P]).subscribe(Td(c,(function(B){p[P]=B,S||v[P]||(v[P]=!0,(S=v.every(pte))&&(v=null))}),K3))},x=0;x<d;x++)_(x);i.subscribe(Td(c,(function(P){if(S){var B=PS([P],n1(p));c.next(o?o.apply(void 0,PS([],n1(B))):B)}})))}))}const Rz="ADD_CURRENT_USER_PARTICIPANT_ATTRIBUTE",Mp="UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",mte="ADD_USER_PARTICIPANT_ATTRIBUTE",NS="UPDATE_USER_PARTICIPANT_ATTRIBUTE",F0e="REMOVE_USER_PARTICIPANT_ATTRIBUTE",uO="UPDATE_WEBINAR_PARTICIPANT_ATTRIBUTE",KDe="REMOVE_WEBINAR_ATTENDEE_ATTRIBUTE";let Em=(function(e){return e.Failover="failover",e.OnHold="on hold",e.Promote="promote",e.Depromote="depromote",e.JoinBreakoutRoom="join breakout room",e.MoveToBreakoutRoom="move to breakout room",e.BackToMainSession="back to main session",e})({});const j2="js_media.min.js";let Upe=(function(e){return e.CDN="CDN",e.Global="Global",e.CN="CN",e})({}),s3=(function(e){return e.Connected="Connected",e.Reconnecting="Reconnecting",e.Closed="Closed",e.Fail="Fail",e})({}),_h=(function(e){return e.Initial="initial",e.Joined="joined",e.Closed="closed",e})({}),dO=(function(e){return e.AudioDecodeInWorklet="M:6;V:3",e.VideoWebRTCEnable="M:10;V:6",e.VideoHalfWebRTCEnable="M:11;V:7",e.WebGL2Render="M:20;V:8",e.WebGPURender="M:21;V:9",e.ZMKFromRWG="M:19;V:10",e})({}),Qh=(function(e){return e[e.NormalCase=-1]="NormalCase",e[e.NoHeartbeat=0]="NoHeartbeat",e[e.NoHeartbeatMChannel=1]="NoHeartbeatMChannel",e[e.NetworkChange=2]="NetworkChange",e[e.NotifyUiFailover=3]="NotifyUiFailover",e[e.InvalidParameters=4]="InvalidParameters",e[e.OnError=5]="OnError",e[e.OnErrorMChannel=6]="OnErrorMChannel",e[e.Disconnect=7]="Disconnect",e[e.DisconnectMChannel=8]="DisconnectMChannel",e[e.DisconnectXmpp=9]="DisconnectXmpp",e[e.RefreshPage=10]="RefreshPage",e[e.NotifyUIWMSCFailover=11]="NotifyUIWMSCFailover",e[e.NotifyUIWMSCWSSDisconnected=12]="NotifyUIWMSCWSSDisconnected",e[e.OnErrorXmppChannel=15]="OnErrorXmppChannel",e})({});const YDe="JOIN_MEETING_SUCCESS",Yu="JOIN_MEETING_FAILED",Rv="RECONNECTING_MEETING",hO="LEAVING_MEETING",H0e="MEETING_IN_WAITING_ROOM",$0e="UPDATE_MEETING_ATTRIBUTE",XDe="SHARE_PRONOUN_TYPE_UPDATE",eJ="MEETING_RLB_TP_READY_STATUS_CHANGE";var yS=(function(e){return e.ConnectionChange="connection-change",e.OnHoldChange="on-hold-change",e.UserAdd="user-added",e.UserUpdate="user-updated",e.UserRemove="user-removed",e.AttendeeUpdate="attendee-updated",e.MeetingAttributeUpdate="meeting-attribute-updated",e.PromoteAttendeeConsent="promote-attendee-consent",e.ActiveAppsUpdate="active-apps-updated",e.SharePronounTypeUpdate="share-pronoun-type-update",e})(yS||{});const $7e={JoinMeeting:{success:Rz,fail:[Yu]}},U7e={[yS.ConnectionChange]:[{event:YDe,payload:()=>({state:s3.Connected})},{event:Yu,payload:e=>({state:s3.Fail,...e})},{event:Rv,payload:e=>({state:s3.Reconnecting,...e})},{event:hO,payload:e=>({state:s3.Closed,...e})}],[yS.OnHoldChange]:[{event:H0e,payload:e=>({isOnHold:e})}],[yS.UserAdd]:[{event:Rz,payload:e=>[e]},{event:mte,payload:e=>e}],[yS.UserUpdate]:[{event:Mp,payload:e=>[e]},{event:NS,payload:e=>e}],[yS.UserRemove]:[{event:F0e,payload:e=>e}],[yS.AttendeeUpdate]:[{event:uO,payload:e=>e},{event:KDe,payload:e=>e}],[yS.MeetingAttributeUpdate]:[{event:$0e,payload:e=>"bNoHostTimeOut"in e?{isHostLost:e.bNoHostTimeOut}:null}],[yS.PromoteAttendeeConsent]:[{event:"MEETING_WEBINAR_PROMOTE_CONSENT_REQ",payload:({req_id:e,sender_id:n})=>({reqId:e,senderId:n})}],[yS.ActiveAppsUpdate]:[{event:"ACTIVE_APPS_UPDATE",payload:()=>{}}],[yS.SharePronounTypeUpdate]:[{event:XDe,payload:e=>e}]},f6="LIVE_TRANSCRIPTION_RECEIVE_MESSAGE",Hy="LIVE_TRANSCRIPTION_CAPTION_STATUS_CHANGE_RESPONSE",JDe="LIVE_TRANSCRIPTION_STATUS_CHANGE",U0e="LIVE_TRANSCRIPTION_HOST_DISABLE_CHANGE",z0e="LIVE_TRANSCRIPTION_LANGUAGE_LOCK_CHANGE",z7e={"caption-message":[{event:f6,payload:e=>e}],"caption-status":[{event:Hy,payload:e=>e}],"caption-enable":[{event:JDe,payload:e=>e}],"caption-host-disable":[{event:U0e,payload:e=>e}],"caption-language-lock":[{event:z0e,payload:e=>e}]},bk="CHAT_RECEIVE_MESSAGE_EVENTS",E3="CHAT_PRIVILEGE_CHANGE",QDe="CHAT_MESSAGE_RESPONSE",_Q="CHAT_DELETE_MESSAGE_REPONSE",Pk="CHAT_FILE_CHAT_UPLOAD_PROGRESS",tJ="CHAT_FILE_CHAT_DOWNLOAD_PROGRESS";let T5=(function(e){return e.ChatOnMessage="chat-on-message",e.ChatPrivilegeChange="chat-privilege-change",e.ChatDeleteMessage="chat-delete-message",e.ChatFileUploadProgress="chat-file-upload-progress",e.ChatFileDownloadProgress="chat-file-download-progress",e})({});const j7e={[T5.ChatOnMessage]:[{event:bk,payload:e=>e}],[T5.ChatPrivilegeChange]:[{event:E3,payload:e=>e}],[T5.ChatDeleteMessage]:[{event:_Q,payload:e=>e}],[T5.ChatFileUploadProgress]:[{event:Pk,payload:e=>e}],[T5.ChatFileDownloadProgress]:[{event:tJ,payload:e=>e}]},qge="COMMAND_RECEIVE_MESSAGE_EVENTS",j0e="COMMAND_STATUS_EVENTS";let uwe=(function(e){return e.CommandChannelStatus="command-channel-status",e.CommandChannelMessage="command-channel-message",e})({});const W7e={[uwe.CommandChannelStatus]:[{event:j0e,payload:e=>e}],[uwe.CommandChannelMessage]:[{event:qge,payload:e=>e}]};let AS=(function(e){return e.Recording="Recording",e.Paused="Paused",e.Stopped="Stopped",e.Ask="Ask",e.Accept="Accept",e.Decline="Decline",e})({}),Ed=(function(e){return e[e.None=0]="None",e[e.Init=1]="Init",e[e.Start=2]="Start",e[e.Pause=3]="Pause",e[e.Stop=4]="Stop",e})({}),W6=(function(e){return e[e.Stop=0]="Stop",e[e.Start=1]="Start",e[e.Pause=2]="Pause",e})({}),Tv=(function(e){return e[e.None=0]="None",e[e.Deny=1]="Deny",e[e.Allow=2]="Allow",e})({}),G7e=(function(e){return e[e.None=0]="None",e[e.DenyAllRequest=1]="DenyAllRequest",e[e.AllowAllRequest=2]="AllowAllRequest",e})({});const p6="CLOUD_RECORDING_STATUS_CHANGE",AQ="CLOUD_RECORDING_ISO_STATUS_CHANGE",TQ="LOCAL_RECORDING_CHANGE",pE="LOCAL_RECORDING_PERMISSION_CHANGE",eMe="RECORDING_FOR_IQ_STATUS_CHANGE",tMe="RECORDING_FOR_IQ_OPERATION_CHANGE";let S2=(function(e){return e.RecordingChange="recording-change",e.IndividualRecordingChange="individual-recording-change",e.LocalRecordingChange="local-recording-change",e.LocalRecordingPermissionChange="local-recording-permission-change",e.MediaCaptureStatusChange="media-capture-status-change",e.MediaCapturePermissionChange="media-capture-permission-change",e.RecordingIqChange="recording-iq-change",e})({});const q7e={[S2.RecordingChange]:[{event:p6,payload:e=>{const{cmrServerStatus:n}=e;return n===Ed.Start?AS.Recording:n===Ed.Pause?AS.Paused:AS.Stopped}}],[S2.IndividualRecordingChange]:[{event:AQ,payload:e=>e}],[S2.LocalRecordingChange]:[{event:TQ,payload:e=>e}],[S2.LocalRecordingPermissionChange]:[{event:pE,payload:e=>e}],[S2.MediaCaptureStatusChange]:[{event:TQ,payload:e=>e}],[S2.MediaCapturePermissionChange]:[{event:pE,payload:e=>e}],[S2.RecordingIqChange]:[{event:eMe,payload:e=>e}]},nMe="RECEIVE_VIDEO_ACTIVE_INDICATION",oMe="RECEIVE_VIDEO_MUTE_INDICATION",sMe="ASK_FOR_START_VIDEO_CONSENT",rMe="RECEIVE_VIDEO_DIMENSION_CHANGE",iMe="CAPTURED_VIDEO_DIMENSION_CHANGE",xQ="CAN_NOT_DETECT_CAMERA",OQ="CAN_NOT_FIND_CAMERA",IQ="VIDEO_USER_FORBIDDEN_CAPTURE",RQ="VIDEO_CAMERA_IS_TAKEN",W0e="VIDEO_BACKGROUND_FAILED",G0e="VIDEO_ESTABLISH_STREAM_ERROR",q0e="VIDEO_CAPTURE_START_SUCCESS",w3="VIDEO_CAPTURE_STOP_RESULT",_3="VIDEO_SPOTLIGHT_CHANGE",aMe="VIDEO_FOLLOW_HOST_ORDER_CHANGE",lMe="VIDEO_HOST_DRAG_LAYOUT_CHANGE",cMe="VIDEO_NEW_USER_START",nJ="VIDEO_OLD_USER_STOP",kQ="VIDEO_VIRTUAL_BACKGROUND_PRELOAD_READY",Zge="VIDEO_VIRTUAL_BACKGROUND_SETTING_SUCCESS",Kge="VIDEO_STATISTIC_DATA",Yge="VIDEO_CELL_DETAILED_DATA",Xge="VIDEO_NETWORK_QUALITY_CHANGE",uMe="VIDEO_FAR_END_CAMERA_CONTROL_REQUEST",Jge="VIDEO_FAR_END_CAMERA_CONTROL_RESPONSE",DQ="VIDEO_FAR_END_CAMERA_IN_CONTROL_CHANGE",dMe="VIDEO_FAR_END_CAMERA_CAPABILITY_CHANGE",Qge="VIDEO_MASK_SETTING_SUCCESS",hMe="VIDEO_CAPTURE_SDK_SUCCESS",fMe="VIDEO_PREFETCH_VIDEO_FRAME_CALLBACK",pMe="VIDEO_CURRENT_USER_SSRC",mMe="VIDEO_RENDER_ASPECT_RATIO_CHANGE",MQ="VIDEO_LEADERSHIP_USER_CHANGE",gMe="VIDEO_SCREENSHOT_TAKEN_NOTIFICATION",dwe={startCaptureVideo:{success:q0e,fail:[xQ,OQ,IQ,G0e,RQ,W0e]},switchCameraVideo:{success:hMe,fail:[xQ,OQ,IQ,RQ]}};let Nf=(function(e){return e.VideoActiveChange="video-active-change",e.PeerVideoStateChange="peer-video-state-change",e.VideoSpotlightChange="video-spotlight-change",e.VideoMutedChange="video-muted-change",e.VideoCapturingChange="video-capturing-change",e.AskForStartVideoConsent="ask-for-start-video-consent",e.VideoDimensionChange="video-dimension-change",e.VideoFollowHostOrder="video-follow-host-order-change",e.VideoHostLayoutChange="video-host-layout-change",e.VideoVBPreloadChange="video-virtual-background-preload-change",e.VideoStatisticDataChange="video-statistic-data-change",e.VideoDetailedDataChange="video-detailed-data-change",e.VideoAspectRatioChange="video-aspect-ratio-change",e.NetworkQualityChange="network-quality-change",e.FarEndCameraRequestControl="far-end-camera-request-control",e.FarEndCameraResponseControl="far-end-camera-response-control",e.FarEndCameraInControlChange="far-end-camera-in-control-change",e.FarEndCameraCapabilityChange="far-end-camera-capability-change",e.VideoScreenshotTaken="video-screenshot-taken",e})({});const Z7e={[Nf.VideoActiveChange]:[{event:nMe,payload:e=>({state:e.bVideoOn?jEe.Active:jEe.Inactive,userId:e.userId})}],[Nf.VideoCapturingChange]:[{event:q0e,payload:()=>({state:Mpe.Started})},{event:w3,payload:e=>({state:e!=null&&e.failed?Mpe.Failed:Mpe.Stopped})}],[Nf.VideoMutedChange]:[{event:oMe,payload:e=>({state:e.isVideoMuted?cX.Muted:cX.Unmuted,userId:e.id})}],[Nf.AskForStartVideoConsent]:[{event:sMe,payload:e=>({state:e.isVideoMuted?cX.Muted:cX.Unmuted,userId:e.id})}],[Nf.VideoSpotlightChange]:[{event:_3,payload:e=>({spotlightList:e.spotlightList&&e.spotlightList.map((n=>({userId:n})))})},{event:MQ,payload:e=>{var n;return{spotlightList:(n=e.spotlightList)===null||n===void 0?void 0:n.map((o=>({userId:o})))}}}],[Nf.VideoDimensionChange]:[{event:rMe,payload:e=>({type:"received",width:e.width,height:e.height})},{event:iMe,payload:e=>({type:"captured",width:e.width,height:e.height})}],[Nf.VideoFollowHostOrder]:[{event:aMe,payload:e=>({isFollowHostOrder:e.bOn})}],[Nf.VideoHostLayoutChange]:[{event:lMe,payload:e=>Array.isArray(e.layout)?e.layout.map((n=>({userId:n}))):[]}],[Nf.PeerVideoStateChange]:[{event:cMe,payload:e=>({action:"Start",...e})},{event:nJ,payload:e=>({action:"Stop",...e})}],[Nf.VideoVBPreloadChange]:[{event:kQ,payload:e=>({isReady:e})}],[Nf.VideoStatisticDataChange]:[{event:Kge,payload:e=>{const{data:{rate:n,...o},...i}=e??{data:{}};return{data:{bitrate:n,...o},...i}}}],[Nf.VideoDetailedDataChange]:[{event:Yge,payload:e=>e}],[Nf.VideoAspectRatioChange]:[{event:mMe,payload:e=>e}],[Nf.NetworkQualityChange]:[{event:Xge,payload:e=>e}],[Nf.FarEndCameraRequestControl]:[{event:uMe,payload:e=>e}],[Nf.FarEndCameraResponseControl]:[{event:Jge,payload:e=>e}],[Nf.FarEndCameraInControlChange]:[{event:DQ,payload:e=>e}],[Nf.FarEndCameraCapabilityChange]:[{event:dMe,payload:e=>e}],[Nf.VideoScreenshotTaken]:[{event:gMe,payload:e=>e}]},vMe="AUDIO_ACTIVE_SPEAKER",oJ="AUDIO_UNMUTE_CONSENT",r3="AUDIO_CURRENT_USER_JOIN_BY_VOIP",eve="AUDIO_CURRENT_USER_JOIN_BY_PHONE",gte="AUDIO_CURRENT_USER_LEAVE_AUDIO",Z0e="AUDIO_CURRENT_USER_MUTED",K0e="AUDIO_CURRENT_USER_UNMUTED",bMe="AUDIO_PARTICIPANT_AUDIO_UPDATE",yMe="AUDIO_DIALOUT_RESULT_CODE",SMe="AUDIO_DIALOUT_RESULT_SUCCESS",CMe="AUDIO_DIALOUT_RESULT_FAIL",EMe="AUDIO_DIALOUT_CANCEL_SUCCESS",wMe="DIALOUT_CANCEL_FAIL",_Me="AUDIO_MERGE_AUDIO_INDICATION",AMe="AUDIO_CAPTURE_FAILED",TMe="ESTABLISH_AUDIO_STREAM_ERROR",xMe="AUDIO_AUTO_PLAY_FAILED",hwe="INVALID_DEVICE_ID",OMe="AUDIO_ALLOW_TALK_CHANGE",X3="SHARE_AUDIO_STATE_CHANGE",tve="AUDIO_STATISTIC_DATA",IMe="AUDIO_CURRENT_USER_SSRC",nve="AUDIO_SET_SPEAKER_RESULT",RMe="AUDIO_SHARE_SECONDARY_AUDIO_SUCCESS",kMe="AUDIO_CRC_CALL_OUT_RESULT_CODE",DMe="AUDIO_CRC_CALL_OUT_RESULT_SUCCESS",MMe="AUDIO_CRC_CALL_OUT_RESULT_FAIL",PMe="AUDIO_CURRENT_AUDIO_LEVEL_CHANGE";let hS=(function(e){return e.ActiveSpeaker="active-speaker",e.UnmuteAudioConsent="unmute-audio-consent",e.CurrentAudioChange="current-audio-change",e.CurrentAudioLevelChange="current-audio-level-change",e.DialoutStateChange="dialout-state-change",e.MergeAudio="merged-audio",e.AutoPlayFailed="auto-play-audio-failed",e.AllowTalkChange="allow-talk-change",e.ShareAudioChange="share-audio-change",e.AudioStatisticDataChange="audio-statistic-data-change",e.CrcCallOutStateChange="crc-call-out-state-change",e})({});const i3={JoinComputerAudio:{success:r3,fail:[AMe,TMe]},JoinAudioByCallMe:{success:SMe,fail:[CMe]},cancelDialOut:{success:EMe,fail:[wMe]},hangup:{success:gte},crcCallOut:{success:DMe,fail:[MMe]}},K7e={[hS.ActiveSpeaker]:[{event:vMe,payload:e=>e}],[hS.UnmuteAudioConsent]:[{event:oJ,payload:e=>({reason:e})}],[hS.CurrentAudioChange]:[{event:eve,payload:()=>({action:_5.Join,type:Xi.Phone})},{event:r3,payload:()=>({action:_5.Join,type:Xi.Computer})},{event:gte,payload:({source:e})=>({action:_5.Leave,source:e})},{event:Z0e,payload:({source:e})=>({action:_5.Muted,source:e})},{event:K0e,payload:({source:e})=>({action:_5.Unmuted,source:e})}],[hS.DialoutStateChange]:[{event:yMe,payload:e=>e}],[hS.MergeAudio]:[{event:_Me,payload:e=>e}],[hS.AutoPlayFailed]:[{event:xMe,payload:()=>{}}],[hS.AllowTalkChange]:[{event:OMe,payload:e=>({enabled:e})}],[hS.ShareAudioChange]:[{event:X3,payload:e=>e}],[hS.AudioStatisticDataChange]:[{event:tve,payload:e=>{const{data:{rate:n,...o},...i}=e??{data:{}};return{data:{bitrate:n,...o},...i}}}],[hS.CrcCallOutStateChange]:[{event:kMe,payload:e=>e}],[hS.CurrentAudioLevelChange]:[{event:PMe,payload:e=>e}]},A3="SHARE_ACTIVE_INDICATION",NMe="SHARE_START_DESKTOP_SHARE_FAILED",LMe="SHARE_DIMENSION_CHANGE",PQ="SHARE_RECEIVED_DIMENSION_CHANGE",BMe="SHARE_VIDEO_STREAMS_END",VMe="SHARE_PASSIVE_STOP_SHARE",FMe="SHARE_PASSIVE_BO_STOP",Y0e="SHARE_NEW_USER_ADD",X0e="SHARE_USER_REMOVE",HMe="SHARE_USER_PAUSED",$Me="SHARE_USER_RESUMED",NQ="SHARE_AUTO_CHANGE_SOURCE",LQ="SHARE_REMOTE_CONTROL_APPROVE",yk="SHARE_GRAB_REMOTE_CONTROL_CHANGE",ove="SHARE_REMOTE_CONTROL_CLIPBOARD_CHANGE",UMe="SHARE_REMOTE_CONTROL_SUCCESS",zMe="SHARE_REMOTE_CONTROL_FAILED",jMe="SHARE_PRIVILEGE_CHANGE",WMe="SHARE_READ_RECEIPT",sve="SHARE_STATISTIC_DATA",GMe="SHARE_REMOTE_CONTROL_REQUEST",N2="SHARE_REMOTE_CONTROL_APP_STATUS",sJ="SHARE_REMOTE_CONTROL_SESSION_STATUS",qMe="SHARE_REMOTE_CONTROL_APP_SCHEME",ZMe="SHARE_SCREENSHOT_TAKEN_NOTIFICATION",rve="ANNOTATION_START_RESULT",J0e="ANNOTATION_PRIVILEGE_CHANGE",KMe="ANNOTATION_UNDO_STATUS",YMe="ANNOTATION_REDO_STATUS",XMe="ANNOTATION_DRAW_REQUEST";let Lf=(function(e){return e.ShareActiveChange="active-share-change",e.ShareDimensionChange="share-content-dimension-change",e.SharePassiveStop="passively-stop-share",e.SharePeerStateChange="peer-share-state-change",e.ShareContentChange="share-content-change",e.SharePrivilegeChange="share-privilege-change",e.ShareReadReceipt="share-can-see-screen",e.ShareStatisticDataChange="share-statistic-data-change",e.RemoteControlApprovedChange="remote-control-approved-change",e.RemoteControlInControlChange="remote-control-in-control-change",e.RemoteControlClipboardChange="remote-control-clipboard-change",e.RemoteControlRequestChange="remote-control-request-change",e.RemoteControlAppStatusChange="remote-control-app-status-change",e.RemoteControlControlledStatusChange="remote-control-controlled-status-change",e.ShareScreenshotTaken="share-content-screenshot-taken",e.AnnotationPrivilegeChange="annotation-privilege-change",e.AnnotationRedoStatus="annotation-redo-status",e.AnnotationUndoStatus="annotation-undo-status",e.AnnotationDrawRequest="annotation-viewer-draw-request",e})({});const Y7e={[Lf.ShareActiveChange]:[{event:A3,payload:e=>{const{isActive:n,activeUserId:o,...i}=e;return{state:n?"Active":"Inactive",userId:o,...i}}}],[Lf.ShareDimensionChange]:[{event:LMe,payload:e=>({type:"sended",width:e.width,height:e.height,userId:e.userId})},{event:PQ,payload:e=>({type:"received",width:e.width,height:e.height,userId:e.nodeid})}],[Lf.SharePassiveStop]:[{event:BMe,payload:()=>({reason:Ppe.StopScreenCapture})},{event:VMe,payload:()=>({reason:Ppe.PrivilegeChange})},{event:FMe,payload:()=>({reason:Ppe.ShareFromMainSession})}],[Lf.SharePeerStateChange]:[{event:Y0e,payload:e=>{var n;return{userId:e.id,action:"Start",isFromMainSession:(n=e?.isFromMainSession)!==null&&n!==void 0&&n}}},{event:X0e,payload:e=>{var n;return{userId:e.id,action:"Stop",isFromMainSession:(n=e?.isFromMainSession)!==null&&n!==void 0&&n}}},{event:HMe,payload:e=>({userId:e.id,action:"Pause"})},{event:$Me,payload:e=>({userId:e.id,action:"Resume"})}],[Lf.ShareContentChange]:[{event:NQ,payload:e=>e}],[Lf.SharePrivilegeChange]:[{event:jMe,payload:e=>({privilege:e})}],[Lf.ShareReadReceipt]:[{event:WMe,payload:()=>{}}],[Lf.ShareStatisticDataChange]:[{event:sve,payload:e=>{const{data:{rate:n,...o},...i}=e??{data:{}};return{data:{bitrate:n,...o},...i}}}],[Lf.RemoteControlApprovedChange]:[{event:LQ,payload:e=>({state:e?WEe.Approved:WEe.Rejected})}],[Lf.RemoteControlInControlChange]:[{event:yk,payload:e=>({isControlling:e})}],[Lf.RemoteControlClipboardChange]:[{event:ove,payload:e=>e}],[Lf.RemoteControlRequestChange]:[{event:GMe,payload:e=>e}],[Lf.RemoteControlAppStatusChange]:[{event:N2,payload:e=>e}],[Lf.RemoteControlControlledStatusChange]:[{event:sJ,payload:e=>e}],[Lf.ShareScreenshotTaken]:[{event:ZMe,payload:e=>e}],[Lf.AnnotationPrivilegeChange]:[{event:J0e,payload:e=>e}],[Lf.AnnotationRedoStatus]:[{event:YMe,payload:e=>e}],[Lf.AnnotationUndoStatus]:[{event:KMe,payload:e=>e}],[Lf.AnnotationDrawRequest]:[{event:XMe,payload:e=>e}]};let B_=(function(e){return e.Question="question",e.UpdateQuestion="updateQuestion",e.Answer="answer",e.DeleteComment="deleteComment",e.DeleteQuestion="deleteQuestion",e.Dismiss="dismiss",e.Reopen="reopen",e.Upvote="upvote",e.AnswerLive="answerLive",e})({}),fwe=(function(e){return e.QaSettingChange="qa-setting-change",e.QaActionChange="qa-action-change",e})({});const X7e={[fwe.QaSettingChange]:[{event:"QA_SETTING_OPTION_CHANGE",payload:e=>e}],[fwe.QaActionChange]:[{event:"QA_NEW_ASK_QUESTION",payload:e=>({action:B_.Question,data:e})},{event:"QA_UPDATE_ANONYMOUS_QUESTION",payload:e=>({action:B_.UpdateQuestion,data:e})},{event:"QA_ANSWER_QUESTION",payload:e=>({action:B_.Answer,data:e})},{event:"QA_ANSWER_REMOVE_COMMENT",payload:e=>({action:B_.DeleteComment,data:e})},{event:"QA_ANSWER_REMOVE_QUESTION",payload:e=>({action:B_.DeleteQuestion,data:e})},{event:"QA_ANSWER_DISMISS_QUESTION",payload:e=>({action:B_.Dismiss,data:e})},{event:"QA_ANSWER_REOPEN_QUESTION",payload:e=>({action:B_.Reopen,data:e})},{event:"QA_ANSWER_VOTE_QUESTION",payload:e=>({action:B_.Upvote,data:e})},{event:"QA_ANSWER_QUESTION_LIVE",payload:e=>({action:B_.AnswerLive,data:e})}]},JMe="AUDIO_ENCODE_SUCCESS",QMe="AUDIO_DECODE_SUCCESS",ePe="VIDEO_ENCODE_SUCCESS",tPe="VIDEO_DECODE_SUCCESS",nPe="SHARING_ENCODE_SUCCESS",ive="SHARING_DECODE_SUCCESS",oPe="AUDIO_ENCODE_FAIL",sPe="AUDIO_DECODE_FAIL",rPe="VIDEO_ENCODE_FAIL",iPe="VIDEO_DECODE_FAIL",aPe="SHARING_ENCODE_FAIL",lPe="SHARING_DECODE_FAIL",cPe="MEDIA_DEVICE_CHANGE",rJ="MEDIS_SDK_PATHCH_LOADED",ave="DEVICE_PERMISSION_CHANGE",uPe="MEDIA_HEALTH_CHECK_FAILED";let dX=(function(e){return e.DeviceChange="device-change",e.MediaSDKChange="media-sdk-change",e.DevicePermissionChange="device-permission-change",e.MediaInternalError="media-internal-error",e})({});const J7e={[dX.DeviceChange]:[{event:cPe,payload:()=>({})}],[dX.MediaSDKChange]:[{event:JMe,payload:()=>({type:"audio",action:"encode",result:"success"})},{event:oPe,payload:()=>({type:"audio",action:"encode",result:"fail"})},{event:QMe,payload:()=>({type:"audio",action:"decode",result:"success"})},{event:sPe,payload:()=>({type:"audio",action:"decode",result:"fail"})},{event:ePe,payload:()=>({type:"video",action:"encode",result:"success"})},{event:rPe,payload:()=>({type:"video",action:"encode",result:"fail"})},{event:tPe,payload:()=>({type:"video",action:"decode",result:"success"})},{event:iPe,payload:()=>({type:"video",action:"decode",result:"fail"})},{event:nPe,payload:()=>({type:"share",action:"encode",result:"success"})},{event:aPe,payload:()=>({type:"share",action:"encode",result:"fail"})},{event:ive,payload:()=>({type:"share",action:"decode",result:"success"})},{event:lPe,payload:()=>({type:"share",action:"decode",result:"fail"})}],[dX.DevicePermissionChange]:[{event:ave,payload:e=>e}],[dX.MediaInternalError]:[{event:uPe,payload:e=>e}]},dPe="BREAKOUT_ROOM_ADD_TOKEN",iJ="BREAKOUT_ROOM_INVITE_TO_JOIN_NOTIFICATION",lve="BREAKOUT_ROOM_ROOM_CLOSING_COUNTDOWN",cve="BREAKOUT_ROOM_ROOM_COUNTDOWN",hPe="BREAKOUT_ROOM_BROADCAST_MESSAGE",fPe="BREAKOUT_ROOM_ASK_HELP_REQUEST",Q0e="BREAKOUT_ROOM_ASK_HELP_RESPONSE",W2="BREAKOUT_ROOM_ATTRIBUTE_INDICATION",aJ="BREAKOUT_ROOM_JOIN_BO_RESPONSE",pPe="BREAKOUT_ROOM_ROOM_COUNTDOWN_TIME_UP",uve="BREAKOUT_ROOM_CURRENT_USER_PARTICIPANT_ROLE",mPe="BREAKOUT_ROOM_LOAD_PRE_ASSIGNED_ROOMS",gPe="BREAKOUT_ROOM_MAIN_SESSION_USER_UPDATE",vPe="BREAKOUT_ROOM_INVITE_TO_BACK_NOTIFICATION",bPe="BREAKOUT_ROOM_IN_ROOM_USER_STATUS_UPDATE",yPe="BREAKOUT_ROOM_BROADCAST_VOICE";let z0=(function(e){return e.InviteToJoin="invite-to-join",e.RoomCountdown="room-countdown",e.RoomTimeUp="room-time-up",e.ClosingRoomCountdown="closing-room-countdown",e.BroadcastMessage="broadcast-message",e.AskForHelp="ask-for-help",e.AskForHelpResponse="ask-for-help-response",e.RoomStateChange="room-state-change",e.MainSessionUserUpdate="main-session-user-updated",e.InviteToBack="invite-back-to-main-session",e.RoomUserUpdate="room-user-update",e.BroadcastVoice="broadcast-voice",e})({});const Q7e={[z0.InviteToJoin]:[{event:iJ,payload:e=>e}],[z0.RoomCountdown]:[{event:cve,payload:e=>e}],[z0.RoomTimeUp]:[{event:pPe,payload:e=>e}],[z0.ClosingRoomCountdown]:[{event:lve,payload:e=>e}],[z0.BroadcastMessage]:[{event:hPe,payload:e=>e}],[z0.AskForHelp]:[{event:fPe,payload:e=>e}],[z0.AskForHelpResponse]:[{event:Q0e,payload:e=>e}],[z0.RoomStateChange]:[{event:W2,payload:e=>({status:e.controlStatus})}],[z0.MainSessionUserUpdate]:[{event:gPe,payload:()=>({})}],[z0.InviteToBack]:[{event:vPe,payload:e=>e}],[z0.RoomUserUpdate]:[{event:bPe,payload:e=>e}],[z0.BroadcastVoice]:[{event:yPe,payload:e=>e}]};var dve=(function(e){return e.StatusUpdate="archiving-status-update",e.OptionsUpdate="archiving-options-update",e})(dve||{});const eWe={[dve.StatusUpdate]:[{event:"ARCHIVING_STATUS_UPDATE",payload:e=>e}],[dve.OptionsUpdate]:[{event:"ARCHIVING_OPTIONS_UPDATE",payload:e=>e}]};let zpe=(function(e){return e.PollDataChange="poll-data-change",e.PollSizeUpdate="poll-size-update",e.PollStatusUpdate="poll-status-update",e})({});const tWe={[zpe.PollDataChange]:[{event:"POLL_DATA_CHANGE",payload:e=>e}],[zpe.PollSizeUpdate]:[{event:"POLL_SIZE_UPDATE",payload:e=>e}],[zpe.PollStatusUpdate]:[{event:"POLL_STATUS_UPDATE",payload:e=>e}]};let pwe=(function(e){return e.ReactionReceived="reaction-received",e.ReactionRemoved="reaction-removed",e})({});const nWe={[pwe.ReactionReceived]:[{event:"REACTION_RECEIVED",payload:e=>e}],[pwe.ReactionRemoved]:[{event:"REACTION_REMOVED",payload:e=>e}]},fO="SMART_SUMMARY_STATUS_CHANGE",pO="MEETING_QUERY_STATUS_CHANGE";let mwe=(function(e){return e.SummaryChange="summary-status-change",e.MeetingQueryChang="meeting-query-status-change",e})({});const oWe={[mwe.SummaryChange]:[{event:fO,payload:e=>e}],[mwe.MeetingQueryChang]:[{event:pO,payload:e=>e}]},m6="LIVE_STREAM_STATUS_CHANGE",sWe={"live-stream-status":[{event:m6,payload:e=>e}]},hve="BROADCAST_STREAM_UTK_UPDATE",fve="BROADCAST_STREAM_STATUS_CHANGE",rWe={"broadcast-streaming-status":[{event:fve,payload:e=>e}]};let at=(function(e){return e[e.OPERATION_TIMEOUT=1]="OPERATION_TIMEOUT",e[e.INTERNAL_ERROR=2]="INTERNAL_ERROR",e[e.OPERATION_CANCELLED=3]="OPERATION_CANCELLED",e[e.SESSION_FETCH_INFO_ERROR=200]="SESSION_FETCH_INFO_ERROR",e[e.SESSION_IN_ANOTHER_SESSION=3e3]="SESSION_IN_ANOTHER_SESSION",e[e.SESSION_INCORRECT_PASSCODE=3004]="SESSION_INCORRECT_PASSCODE",e[e.SESSION_NOT_STARTED=3008]="SESSION_NOT_STARTED",e[e.SESSION_USER_REMOVED=3009]="SESSION_USER_REMOVED",e[e.SESSION_ROLE_TYPE_ERROR=3010]="SESSION_ROLE_TYPE_ERROR",e[e.SESSION_WEBINAR_USER_REMOVED=3620]="SESSION_WEBINAR_USER_REMOVED",e[e.SESSION_INVALID_PARAMETER=4003]="SESSION_INVALID_PARAMETER",e[e.SESSION_ENDED=4004]="SESSION_ENDED",e[e.SESSION_LOCKED=4006]="SESSION_LOCKED",e[e.SESSION_IB_BLOCKED=4007]="SESSION_IB_BLOCKED",e[e.SESSION_PARTICIPANT_EXIST=4008]="SESSION_PARTICIPANT_EXIST",e[e.CLIENT_PLATFORM_UNSUPPORTED=5e3]="CLIENT_PLATFORM_UNSUPPORTED",e[e.CLIENT_DEPENDENT_ASSETS_INACCESSIBLE=5001]="CLIENT_DEPENDENT_ASSETS_INACCESSIBLE",e[e.CLIENT_SESSION_STATE_CLOSED=5002]="CLIENT_SESSION_STATE_CLOSED",e[e.CLIENT_SESSION_STATE_RECONNECTING=5003]="CLIENT_SESSION_STATE_RECONNECTING",e[e.CLIENT_SESSION_STATE_ON_HOLD=5004]="CLIENT_SESSION_STATE_ON_HOLD",e[e.CLIENT_SESSION_NOT_WEBINAR=5005]="CLIENT_SESSION_NOT_WEBINAR",e[e.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED=5006]="CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED",e[e.CLIENT_HOST_PERMISSION_REQUIRED=5007]="CLIENT_HOST_PERMISSION_REQUIRED",e[e.CLIENT_ORIGIN_HOST_PERMISSION_REQUIRED=5008]="CLIENT_ORIGIN_HOST_PERMISSION_REQUIRED",e[e.CLIENT_ATTENDEE_APPLICABLE_ONLY=5009]="CLIENT_ATTENDEE_APPLICABLE_ONLY",e[e.CLIENT_PARTICIPANT_APPLICABLE_ONLY=5010]="CLIENT_PARTICIPANT_APPLICABLE_ONLY",e[e.CLIENT_MISMATCH_USER=5011]="CLIENT_MISMATCH_USER",e[e.CLIENT_DUPLICATED_JOIN=5012]="CLIENT_DUPLICATED_JOIN",e[e.CLIENT_INVALID_JOIN_PARAMETER=5013]="CLIENT_INVALID_JOIN_PARAMETER",e[e.CLIENT_HOST_DISALLOW_RENAME=5014]="CLIENT_HOST_DISALLOW_RENAME",e[e.STREAM_MISMATCH_DEVICE=6e3]="STREAM_MISMATCH_DEVICE",e[e.STREAM_MISMATCH_USER=6001]="STREAM_MISMATCH_USER",e[e.STREAM_SESSION_JOIN_REQUIRED=6002]="STREAM_SESSION_JOIN_REQUIRED",e[e.STREAM_MISMATCH_RENDER_ELEMENT=6003]="STREAM_MISMATCH_RENDER_ELEMENT",e[e.AUDIO_CAPTURE_FAILED=6010]="AUDIO_CAPTURE_FAILED",e[e.AUDIO_CAPTURE_LOADING=6011]="AUDIO_CAPTURE_LOADING",e[e.AUDIO_IN_PSTN=6012]="AUDIO_IN_PSTN",e[e.AUDIO_ENCODING_REQUIRED=6013]="AUDIO_ENCODING_REQUIRED",e[e.AUDIO_SHARE_AUDIO_CONFLICT=6014]="AUDIO_SHARE_AUDIO_CONFLICT",e[e.AUDIO_NOT_STARTED=6015]="AUDIO_NOT_STARTED",e[e.AUDIO_ATTENDEE_NOT_ALLOWED=6016]="AUDIO_ATTENDEE_NOT_ALLOWED",e[e.SECONDARY_AUDIO_UNSUPPORTED=6017]="SECONDARY_AUDIO_UNSUPPORTED",e[e.SECONDARY_AUDIO_DEVICE_CONFLICT=6018]="SECONDARY_AUDIO_DEVICE_CONFLICT",e[e.SECONDARY_AUDIO_SCREEN_SHARING_CONFLICT=6019]="SECONDARY_AUDIO_SCREEN_SHARING_CONFLICT",e[e.SECONDARY_AUDIO_NOT_STARTED=6020]="SECONDARY_AUDIO_NOT_STARTED",e[e.PSTN_MISMATCH_COUNTRY_CODE=6021]="PSTN_MISMATCH_COUNTRY_CODE",e[e.PSTN_NOT_CONNECTED=6022]="PSTN_NOT_CONNECTED",e[e.CRC_NOT_CONNECTED=6023]="CRC_NOT_CONNECTED",e[e.AUDIO_ALLOW_TALK_UNSUPPORTED=6024]="AUDIO_ALLOW_TALK_UNSUPPORTED",e[e.AUDIO_ALLOW_TALK_MISMATCH_USER=6025]="AUDIO_ALLOW_TALK_MISMATCH_USER",e[e.AUDIO_PROCESSOR_UNSUPPORTED=6026]="AUDIO_PROCESSOR_UNSUPPORTED",e[e.AUDIO_PROCESSOR_DUPLICATE_CREATE=6027]="AUDIO_PROCESSOR_DUPLICATE_CREATE",e[e.AUDIO_PROCESSOR_MISMATCH_PROCESSOR=6028]="AUDIO_PROCESSOR_MISMATCH_PROCESSOR",e[e.AUDIO_PROCESSOR_LIMIT_EXCEED=6029]="AUDIO_PROCESSOR_LIMIT_EXCEED",e[e.VIDEO_CAMERA_PERMISSION_DENIED=6100]="VIDEO_CAMERA_PERMISSION_DENIED",e[e.VIDEO_NO_CAMERA=6101]="VIDEO_NO_CAMERA",e[e.VIDEO_MISMATCH_CAMERA=6102]="VIDEO_MISMATCH_CAMERA",e[e.VIDEO_CAMERA_TAKEN=6103]="VIDEO_CAMERA_TAKEN",e[e.VIDEO_VB_INITIALIZE_ERROR=6104]="VIDEO_VB_INITIALIZE_ERROR",e[e.VIDEO_CAPTURE_LOADING=6105]="VIDEO_CAPTURE_LOADING",e[e.VIDEO_MUTED_BY_HOST=6106]="VIDEO_MUTED_BY_HOST",e[e.VIDEO_VB_UNSUPPORTED=6107]="VIDEO_VB_UNSUPPORTED",e[e.VIDEO_VB_PROCESSOR_CONFLICT=6108]="VIDEO_VB_PROCESSOR_CONFLICT",e[e.VIDEO_MISMATCH_STATE=6109]="VIDEO_MISMATCH_STATE",e[e.VIDEO_ESTABLISH_STREAM_ERROR=6110]="VIDEO_ESTABLISH_STREAM_ERROR",e[e.VIDEO_RENDER_LIMIT_EXCEED=6111]="VIDEO_RENDER_LIMIT_EXCEED",e[e.VIDEO_METHOD_DEPRECATED=6112]="VIDEO_METHOD_DEPRECATED",e[e.VIDEO_VB_IMAGE_INACCESSIBLE=6113]="VIDEO_VB_IMAGE_INACCESSIBLE",e[e.VIDEO_VB_MISMATCH_STATE=6114]="VIDEO_VB_MISMATCH_STATE",e[e.VIDEO_MASK_IMAGE_INACCESSIBLE=6115]="VIDEO_MASK_IMAGE_INACCESSIBLE",e[e.VIDEO_MASK_PROCESSOR_CONFLICT=6116]="VIDEO_MASK_PROCESSOR_CONFLICT",e[e.VIDEO_SPOTLIGHT_MISMATCH_STATE=6117]="VIDEO_SPOTLIGHT_MISMATCH_STATE",e[e.VIDEO_SPOTLIGHT_MULTI_CONFLICT=6118]="VIDEO_SPOTLIGHT_MULTI_CONFLICT",e[e.VIDEO_PROCESSOR_UNSUPPORTED=6119]="VIDEO_PROCESSOR_UNSUPPORTED",e[e.VIDEO_PROCESSOR_LIMIT_EXCEED=6120]="VIDEO_PROCESSOR_LIMIT_EXCEED",e[e.VIDEO_PROCESSOR_DUPLICATE_CREATE=6121]="VIDEO_PROCESSOR_DUPLICATE_CREATE",e[e.VIDEO_PROCESSOR_MISMATCH_PROCESSOR=6122]="VIDEO_PROCESSOR_MISMATCH_PROCESSOR",e[e.FAR_END_CAMERA_CONTROL_DEVICE_UNSUPPORTED=6150]="FAR_END_CAMERA_CONTROL_DEVICE_UNSUPPORTED",e[e.FAR_END_CAMERA_CONTROL_MISMATCH_STATE=6151]="FAR_END_CAMERA_CONTROL_MISMATCH_STATE",e[e.FAR_END_CAMERA_PERMISSION_REQUIRED=6152]="FAR_END_CAMERA_PERMISSION_REQUIRED",e[e.FAR_END_CAMERA_INVALID_RANGE=6153]="FAR_END_CAMERA_INVALID_RANGE",e[e.FAR_END_CAMERA_RATE_LIMIT=6154]="FAR_END_CAMERA_RATE_LIMIT",e[e.SCREEN_SHARE_USER_DENIED=6200]="SCREEN_SHARE_USER_DENIED",e[e.SCREEN_SHARE_SYSTEM_DENIED=6201]="SCREEN_SHARE_SYSTEM_DENIED",e[e.SCREEN_SHARE_UNSUPPORTED=6202]="SCREEN_SHARE_UNSUPPORTED",e[e.SCREEN_SHARE_SUBSESSION_CONFLICT=6203]="SCREEN_SHARE_SUBSESSION_CONFLICT",e[e.SCREEN_SHARE_HOST_PRIVILEGE_REQUIRED=6204]="SCREEN_SHARE_HOST_PRIVILEGE_REQUIRED",e[e.SCREEN_SHARE_MISMATCH_STATE=6205]="SCREEN_SHARE_MISMATCH_STATE",e[e.SCREEN_SHARE_OPTIMIZE_VIDEO_UNSUPPORTED=6206]="SCREEN_SHARE_OPTIMIZE_VIDEO_UNSUPPORTED",e[e.SCREEN_SHARE_OPTIMIZE_VIDEO_CONFLICT=6207]="SCREEN_SHARE_OPTIMIZE_VIDEO_CONFLICT",e[e.SCREEN_SHARE_INVALID_PRIVILEGE=6208]="SCREEN_SHARE_INVALID_PRIVILEGE",e[e.SCREEN_SHARE_IB_DENIED=6209]="SCREEN_SHARE_IB_DENIED",e[e.SCREEN_SHARE_LIMIT_EXCEED=6218]="SCREEN_SHARE_LIMIT_EXCEED",e[e.SCREEN_SHARE_ANNOTATION_ACCOUNT_DISABLE=6210]="SCREEN_SHARE_ANNOTATION_ACCOUNT_DISABLE",e[e.SCREEN_SHARE_ANNOTATION_NO_ACTIVE_SHARE=6211]="SCREEN_SHARE_ANNOTATION_NO_ACTIVE_SHARE",e[e.SCREEN_SHARE_ANNOTATION_PRESENTER_DISABLED=6212]="SCREEN_SHARE_ANNOTATION_PRESENTER_DISABLED",e[e.SCREEN_SHARE_ANNOTATION_DUPLICATE_START=6213]="SCREEN_SHARE_ANNOTATION_DUPLICATE_START",e[e.SCREEN_SHARE_ANNOTATION_START_ERROR=6214]="SCREEN_SHARE_ANNOTATION_START_ERROR",e[e.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER=6215]="SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER",e[e.SCREEN_SHARE_ANNOTATION_NOT_SUPPORT=6216]="SCREEN_SHARE_ANNOTATION_NOT_SUPPORT",e[e.SCREEN_SHARE_ANNOTATION_NOT_START=6217]="SCREEN_SHARE_ANNOTATION_NOT_START",e[e.SHARED_PROCESSOR_UNSUPPORTED=6223]="SHARED_PROCESSOR_UNSUPPORTED",e[e.SHARED_PROCESSOR_DUPLICATE_CREATE=6224]="SHARED_PROCESSOR_DUPLICATE_CREATE",e[e.SHARED_PROCESSOR_MISMATCH_PROCESSOR=6225]="SHARED_PROCESSOR_MISMATCH_PROCESSOR",e[e.SHARED_PROCESSOR_LIMIT_EXCEED=6226]="SHARED_PROCESSOR_LIMIT_EXCEED",e[e.REMOTE_CONTROL_ACCOUNT_DISABLE=6300]="REMOTE_CONTROL_ACCOUNT_DISABLE",e[e.REMOTE_CONTROL_MISMATCH_STATE=6301]="REMOTE_CONTROL_MISMATCH_STATE",e[e.REMOTE_CONTROL_PERMISSION_REQUIRED=6302]="REMOTE_CONTROL_PERMISSION_REQUIRED",e[e.REMOTE_CONTROL_MISMATCH_DISPLAY_SURFACE=6303]="REMOTE_CONTROL_MISMATCH_DISPLAY_SURFACE",e[e.REMOTE_CONTROL_INVALID_LAUNCH_SCHEME=6304]="REMOTE_CONTROL_INVALID_LAUNCH_SCHEME",e[e.CHAT_EMPTY_MESSAGE=7e3]="CHAT_EMPTY_MESSAGE",e[e.CHAT_MISMATCH_USER=7001]="CHAT_MISMATCH_USER",e[e.CHAT_INSUFFICIENT_PRIVILEGE=7002]="CHAT_INSUFFICIENT_PRIVILEGE",e[e.CHAT_INVALID_PRIVILEGE=7003]="CHAT_INVALID_PRIVILEGE",e[e.CHAT_SUBSESSION_CONFLICT=7004]="CHAT_SUBSESSION_CONFLICT",e[e.CHAT_EMPTY_FILE=7005]="CHAT_EMPTY_FILE",e[e.CHAT_INVALID_RETRY_TOKEN=7006]="CHAT_INVALID_RETRY_TOKEN",e[e.CHAT_MISMATCH_FILE_TYPE=7007]="CHAT_MISMATCH_FILE_TYPE",e[e.CHAT_EXCEED_FILE_SIZE=7008]="CHAT_EXCEED_FILE_SIZE",e[e.CHAT_INVALID_MSG_ID_OR_URL=7009]="CHAT_INVALID_MSG_ID_OR_URL",e[e.CHAT_FILE_ACCOUNT_DISABLE=7010]="CHAT_FILE_ACCOUNT_DISABLE",e[e.CHAT_DELETE_ACCOUNT_DISABLE=7011]="CHAT_DELETE_ACCOUNT_DISABLE",e[e.CMD_EMPTY_MESSAGE=7100]="CMD_EMPTY_MESSAGE",e[e.CMD_MISMATCH_USER=7101]="CMD_MISMATCH_USER",e[e.CMD_INVALID_MESSAGE_TYPE=7102]="CMD_INVALID_MESSAGE_TYPE",e[e.CMD_EXCEED_MESSAGE_LENGTH=7103]="CMD_EXCEED_MESSAGE_LENGTH",e[e.CMD_CHANNEL_NOT_READY=7104]="CMD_CHANNEL_NOT_READY",e[e.RECORDING_ACCOUNT_DISABLE=7200]="RECORDING_ACCOUNT_DISABLE",e[e.RECORDING_STOP_FORBIDDEN=7201]="RECORDING_STOP_FORBIDDEN",e[e.RECORDING_MISMATCH_STATE=7202]="RECORDING_MISMATCH_STATE",e[e.RECORDING_ISO_DISABLE=7203]="RECORDING_ISO_DISABLE",e[e.RECORDING_IQ_DISABLE=7204]="RECORDING_IQ_DISABLE",e[e.RECORDING_IQ_PERMISSION_REQUIRED=7205]="RECORDING_IQ_PERMISSION_REQUIRED",e[e.RECORDING_IQ_MISMATCH_STATE=7206]="RECORDING_IQ_MISMATCH_STATE",e[e.LOCAL_RECORDING_ACCOUNT_DISABLE=7207]="LOCAL_RECORDING_ACCOUNT_DISABLE",e[e.LOCAL_RECORDING_INVALID_VALUE=7208]="LOCAL_RECORDING_INVALID_VALUE",e[e.LOCAL_RECORDING_MISMATCH_STATE=7209]="LOCAL_RECORDING_MISMATCH_STATE",e[e.TRANSCRIPTION_ACCOUNT_DISABLE=7300]="TRANSCRIPTION_ACCOUNT_DISABLE",e[e.TRANSCRIPTION_FEATURE_DISABLE=7301]="TRANSCRIPTION_FEATURE_DISABLE",e[e.TRANSCRIPTION_LANGUAGE_UNSUPPORTED=7302]="TRANSCRIPTION_LANGUAGE_UNSUPPORTED",e[e.TRANSCRIPTION_MISMATCH_STATE=7303]="TRANSCRIPTION_MISMATCH_STATE",e[e.TRANSLATION_ACCOUNT_DISABLE=7304]="TRANSLATION_ACCOUNT_DISABLE",e[e.TRANSLATION_LANGUAGE_UNSUPPORTED=7305]="TRANSLATION_LANGUAGE_UNSUPPORTED",e[e.MANUAL_CAPTION_ACCOUNT_DISABLE=7306]="MANUAL_CAPTION_ACCOUNT_DISABLE",e[e.MANUAL_CAPTION_FEATURE_DISABLE=7307]="MANUAL_CAPTION_FEATURE_DISABLE",e[e.MANUAL_CAPTION_MISMATCH_USER=7308]="MANUAL_CAPTION_MISMATCH_USER",e[e.MANUAL_CAPTION_INSUFFICIENT_PRIVILEGE=7309]="MANUAL_CAPTION_INSUFFICIENT_PRIVILEGE",e[e.TRANSCRIPTION_LANGUAGE_LOCKED=7310]="TRANSCRIPTION_LANGUAGE_LOCKED",e[e.LIVE_STREAM_ACCOUNT_DISABLE=7400]="LIVE_STREAM_ACCOUNT_DISABLE",e[e.LIVE_STREAM_INVALID_PARAMETER=7401]="LIVE_STREAM_INVALID_PARAMETER",e[e.LIVE_STREAM_MISMATCH_STATE=7402]="LIVE_STREAM_MISMATCH_STATE",e[e.SUBSESSION_ACCOUNT_DISABLE=7500]="SUBSESSION_ACCOUNT_DISABLE",e[e.SUBSESSION_EXCEED_CAPACITY=7501]="SUBSESSION_EXCEED_CAPACITY",e[e.SUBSESSION_MISMATCH_ID=7502]="SUBSESSION_MISMATCH_ID",e[e.SUBSESSION_MISMATCH_USER=7503]="SUBSESSION_MISMATCH_USER",e[e.SUBSESSION_MISMATCH_STATE=7504]="SUBSESSION_MISMATCH_STATE",e[e.SUBSESSION_EXIT_RESTRICTED=7505]="SUBSESSION_EXIT_RESTRICTED",e[e.SUBSESSION_BROADCAST_DISABLE=7506]="SUBSESSION_BROADCAST_DISABLE",e[e.SUBSESSION_BROADCAST_INVALID_CONTENT=7507]="SUBSESSION_BROADCAST_INVALID_CONTENT",e[e.SUBSESSION_BROADCAST_VOICE_DISABLE=7508]="SUBSESSION_BROADCAST_VOICE_DISABLE",e[e.SUBSESSION_BROADCAST_VOICE_RESTRICTED=7509]="SUBSESSION_BROADCAST_VOICE_RESTRICTED",e[e.SUBSESSION_BROADCAST_VOICE_MISMATCH_STATE=7510]="SUBSESSION_BROADCAST_VOICE_MISMATCH_STATE",e[e.REACTION_ACCOUNT_DISABLE=7600]="REACTION_ACCOUNT_DISABLE",e[e.REACTION_INVALID_PARAMETER=7601]="REACTION_INVALID_PARAMETER",e[e.SUMMARY_ACCOUNT_DISABLE=7700]="SUMMARY_ACCOUNT_DISABLE",e[e.QA_INVALID_PARAMETER=7800]="QA_INVALID_PARAMETER",e[e.QA_INSUFFICIENT_PRIVILEGE=7801]="QA_INSUFFICIENT_PRIVILEGE",e[e.BROADCAST_STREAMING_ACCOUNT_DISABLE=7900]="BROADCAST_STREAMING_ACCOUNT_DISABLE",e[e.BROADCAST_STREAMING_MISMATCH_STATE=7901]="BROADCAST_STREAMING_MISMATCH_STATE",e[e.BROADCAST_STREAMING_INVALID_CHANNEL_ID=7902]="BROADCAST_STREAMING_INVALID_CHANNEL_ID",e})({});const gwe={...U7e,...z7e,...j7e,...W7e,...q7e,...K7e,...Z7e,...X7e,...Y7e,...J7e,...Q7e,...eWe,"closed-caption-message":[{event:"CC_RECEIVE_MESSAGE",payload:e=>e}],"closed-caption-lt-status":[{event:"LT_STATUS_CHANGE",payload:e=>e}],"closed-caption-lt-message":[{event:"LT_RECEIVE_MESSAGE",payload:e=>e}],"closed-caption-status":[{event:"CC_ASSIGN_CC_EDITOR_SUCCESS",payload:e=>e},{event:"CC_STATUS_CHANGE",payload:e=>e}],...tWe,...nWe,...oWe,...sWe,...rWe},g6=(function(e){return{all:e=e||new Map,on:function(n,o){var i=e.get(n);i?i.push(o):e.set(n,[o])},off:function(n,o){var i=e.get(n);i&&(o?i.splice(i.indexOf(o)>>>0,1):e.set(n,[]))},emit:function(n,o){var i=e.get(n);i&&i.slice().map((function(c){c(o)})),(i=e.get("*"))&&i.slice().map((function(c){c(n,o)}))}}})(),L2=new Map,pve=new Array,G6=[hO,Yu,Rv];let nk,mve;function vwe(){return e=>e.pipe(Jd((function(n,o){n.subscribe(Td(o,(function(i){o.next($pe.createNext(i))}),(function(){o.next($pe.createComplete()),o.complete()}),(function(i){o.next($pe.createError(i)),o.complete()})))})),nn((n=>n.kind==="C"?za(n).pipe(Xu(Dv)):za(n))),Jd((function(n,o){n.subscribe(Td(o,(function(i){return $De(i,o)})))})))}const it=(e,n=void 0)=>{g6.emit(e,n)};function TO(e){return G6.includes(e)?Xd(g6,e):(nk&&mve||(nk=new J0,mve=Ad(...G6.map((n=>Xd(g6,n)))).subscribe(nk)),Xd(g6,e).pipe(wh(nk)))}const Jx=e=>new Promise(((n,o)=>{if(e.fail&&e.fail.length>0){var i;const c=G6.filter((p=>{var v;return!((v=e.fail)!==null&&v!==void 0&&v.includes(p))})),d=c.length>0?Ad(...c.map((p=>TO(p).pipe(Yr(1),So((()=>({type:JEe,reason:p,errorCode:at.OPERATION_CANCELLED}))))))):cwe;Vp(TO(e.success).pipe(Yr(1),vwe(),F7e((i=e.fail)!==null&&i!==void 0&&i.some((p=>G6.includes(p)))?cwe:Eo)),Ad(...e.fail.map((p=>TO(p).pipe(Yr(1),vwe(),nn((v=>UO({type:p,payload:v}))))))),d).subscribe({next:p=>p&&p.type===JEe?o(p):n(p),error(p){if(typeof p.payload=="object"){const v={...p.payload};p.payload instanceof Error&&Object.assign(v,{name:p.payload.name,message:p.payload.message}),o({type:p.type,...v})}else p.payload===void 0?o({type:p.type}):o(p)}})}else TO(e.success).pipe(Yr(1)).subscribe((c=>n(c)))})),vr=(e,n,o=1e4)=>new Promise(((i,c)=>{let d=Eo;typeof e=="string"?d=TO(e).pipe(Yr(1)):(d=TO(e.event),e.operations&&(d=e.operations.reduce(((p,v)=>p.pipe(v)),d))),Vp(d,Eu(o).pipe(nn((()=>UO("timeout"))))).subscribe({next(p){if(n){const v=n(p);typeof v=="boolean"?v?i(""):c({type:Xh,errorCode:at.INTERNAL_ERROR}):v.ret===0?i(v.body):c({type:Xh,errorCode:at.INTERNAL_ERROR,reason:v.body})}else i(p)},error(){c({type:fte,errorCode:at.OPERATION_TIMEOUT})}})})),wa=(e,n)=>n!==void 0?TO(e).pipe(Yr(n)):TO(e);function SA(e){const n=G6.map((o=>wa(o,1)));return e&&n.push(e),Vp(...n)}const e1e=()=>{var e;pve.forEach((n=>{n.unsubscribe()})),pve.length=0,L2.clear(),nk&&(nk.complete(),(e=mve)===null||e===void 0||e.unsubscribe(),nk=void 0)};var hX="NOT_FOUND",iWe=function(e,n){return e===n};function SPe(e,n){var o,i,c=typeof n=="object"?n:{equalityCheck:n},d=c.equalityCheck,p=d===void 0?iWe:d,v=c.maxSize,S=v===void 0?1:v,_=c.resultEqualityCheck,x=(function(z){return function(U,H){if(U===null||H===null||U.length!==H.length)return!1;for(var K=U.length,oe=0;oe<K;oe++)if(!z(U[oe],H[oe]))return!1;return!0}})(p),P=S===1?(o=x,{get:function(z){return i&&o(i.key,z)?i.value:hX},put:function(z,U){i={key:z,value:U}},getEntries:function(){return i?[i]:[]},clear:function(){i=void 0}}):(function(z,U){var H=[];function K(oe){var ce=H.findIndex((function(ye){return U(oe,ye.key)}));if(ce>-1){var re=H[ce];return ce>0&&(H.splice(ce,1),H.unshift(re)),re.value}return hX}return{get:K,put:function(oe,ce){K(oe)===hX&&(H.unshift({key:oe,value:ce}),H.length>z&&H.pop())},getEntries:function(){return H},clear:function(){H=[]}}})(S,x);function B(){var z=P.get(arguments);if(z===hX){if(z=e.apply(null,arguments),_){var U=P.getEntries().find((function(H){return _(H.value,z)}));U&&(z=U.value)}P.put(arguments,z)}return z}return B.clearCache=function(){return P.clear()},B}function CPe(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];var v,S=0,_={memoizeOptions:void 0},x=d.pop();if(typeof x=="object"&&(_=x,x=d.pop()),typeof x!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof x+"]");var P=_.memoizeOptions,B=P===void 0?o:P,z=Array.isArray(B)?B:[B],U=(function(oe){var ce=Array.isArray(oe[0])?oe[0]:oe;if(!ce.every((function(ye){return typeof ye=="function"}))){var re=ce.map((function(ye){return typeof ye=="function"?"function "+(ye.name||"unnamed")+"()":typeof ye})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+re+"]")}return ce})(d),H=e.apply(void 0,[function(){return S++,x.apply(null,arguments)}].concat(z)),K=e((function(){for(var oe=[],ce=U.length,re=0;re<ce;re++)oe.push(U[re].apply(null,arguments));return v=H.apply(null,oe)}));return Object.assign(K,{resultFunc:x,memoizedResultFunc:H,dependencies:U,lastResult:function(){return v},recomputations:function(){return S},resetRecomputations:function(){return S=0}}),K}}var Xl=CPe(SPe);const _A=({participants:{attendeesList:e}})=>e,EPe=({meeting:{userId:e}})=>e,gve=({participants:{xmppAttendeeList:e}})=>e;let Nk=(function(e){return e[e.Attendee=0]="Attendee",e[e.Host=1]="Host",e[e.Owner=4]="Owner",e[e.ViewOnly=8]="ViewOnly",e[e.HostOwner=5]="HostOwner",e[e.ViewOnlyCanTalk=24]="ViewOnlyCanTalk",e})({}),aWe=(function(e){return e[e.Host=10]="Host",e[e.Panelist=20]="Panelist",e[e.Attendee=30]="Attendee",e})({}),vve=(function(e){return e[e.Client=9]="Client",e[e.Phone=5]="Phone",e[e.H323=15]="H323",e[e.Assitant=51]="Assitant",e})({});const q6=e=>(e&Nk.Host)===Nk.Host,Lk=e=>(e&vve.Phone)===vve.Phone,BQ=e=>e===Nk.ViewOnlyCanTalk,ef=e=>(e&Nk.ViewOnly)===Nk.ViewOnly;let ok=(function(e){return e[e.Automatically=1]="Automatically",e[e.Manually=2]="Manually",e[e.SelfSelect=3]="SelfSelect",e})({}),ii=(function(e){return e[e.NotStarted=1]="NotStarted",e[e.InProgress=2]="InProgress",e[e.Closing=3]="Closing",e[e.Closed=4]="Closed",e})({}),wPe=(function(e){return e[e.NoToken=1]="NoToken",e[e.GotToken=2]="GotToken",e[e.Started=3]="Started",e[e.Closing=4]="Closing",e[e.Closed=5]="Closed",e})({}),rr=(function(e){return e.Initial="initial",e.Invited="invited",e.Joining="joining",e.InRoom="in room",e.Leaving="leaving",e.TimeUp="time up",e.MainSession="main session",e})({}),C2=(function(e){return e.Join="joinRequest",e.Switch="switchRequest",e.Leave="leaveRequest",e.Broadcast="messageText",e.HelpReq="helpRequest",e.HelpRes="helpResponse",e.CoHostWantJoinThisBo="wantJoinThisBO",e.BOActivity="BOActivity",e})({});const bwe="Subsession";let mO=(function(e){return e[e.Received=0]="Received",e[e.Busy=1]="Busy",e[e.Ignore=2]="Ignore",e[e.AlreadyInRoom=3]="AlreadyInRoom",e})({}),ywe=(function(e){return e[e.AskToLeave=0]="AskToLeave",e[e.ClosingRoom=1]="ClosingRoom",e})({}),lWe=(function(e){return e[e.Active=0]="Active",e[e.Ask=1]="Ask",e})({}),jpe=(function(e){return e[e.Connect=1]="Connect",e[e.Muted=2]="Muted",e[e.Voip=4]="Voip",e})({}),Swe=(function(e){return e[e.Connect=8]="Connect",e[e.On=16]="On",e})({}),Cwe=(function(e){return e[e.Share=32]="Share",e[e.ShareAudio=64]="ShareAudio",e})({});const _Pe=({breakoutRoom:e})=>e&&e.controlStatus,APe=({breakoutRoom:e})=>e&&e.currentRoom.status,us=Xl([EPe,_A],((e,n)=>n.find((o=>o.userId===e)))),Iv=Xl([us],(e=>e?.isHost||e?.bCoHost)),TPe=Xl([us],(e=>e?.isHost)),kz=Xl([gve],(e=>e.filter((n=>n.userRole===aWe.Attendee)))),cWe=Xl([_A],(e=>e.filter((n=>n.bHold&&!n.bid)))),Na=Xl([_A,_Pe,APe],((e,n,o)=>n!==ii.InProgress&&n!==ii.Closing||o!==rr.InRoom?e.filter((i=>!i.bHold&&!i.bid)):e.filter((i=>!i.bHold)))),uWe=Xl([({participants:{assistantList:e}})=>e],(e=>e)),bve=Xl([Na],(e=>e.find((n=>n.isHost)))),Ewe=Xl([Na],(e=>e.filter((n=>n.bCoHost)))),t1e=Xl([us,Na],((e,n)=>n.filter((o=>o.userId!==e?.userId))));Xl([gve],(e=>e.reduce(((n,o)=>{const{jid:i}=o;return Object.assign(n,{[i]:o}),n}),{}))),Xl([gve,({meeting:{jid:e}})=>e],((e,n)=>{var o;return(o=e.find((i=>i.jid===n)))===null||o===void 0?void 0:o.userId}));const dWe=Xl([_A],((e=[])=>e.some((n=>n?.bLocalRecord===W6.Start)))),hWe=Xl([_Pe,({meeting:e})=>e&&e.meetingOptions,_A,TPe],((e,n,o,i)=>{const c=o.filter((v=>v.bCoHost)),{moveToWRIfHostLeave:d}=n,p=e===ii.InProgress;return i&&!!d&&c.length<=0&&!p&&o.length>1}));Xl([_A,APe,({breakoutRoom:e})=>e&&e.mainSessionAttendeeList],((e,n,o)=>(n===rr.InRoom?o:e).filter((i=>{return!(i.bHold||i.isHost||i.audio===Xi.Phone||Lk(i?.userType)||(c=i?.caps,d=i?.bMultiStreamVideoUser,((p,v)=>(S=>!!(128&S))(p)&&v!==void 0)(c,d)&&d));var c,d}))));class xPe{constructor(n){this._cancelError=new Error("request for lock canceled"),this._locked=void 0,this._queue=[],this._waiters=[],this._currentReleaser=void 0,n&&(this._cancelError=n),this._locked=!1}acquire(){const n=this.isLocked(),o=new Promise(((i,c)=>this._queue.push({resolve:i,reject:c})));return n||this._dispatch(),o}async runExclusive(n){const o=await this.acquire();try{return await n()}finally{o()}}async waitForUnlock(){return this.isLocked()?new Promise((n=>this._waiters.push({resolve:n}))):Promise.resolve()}isLocked(){return this._locked}release(){if(this._currentReleaser){const n=this._currentReleaser;this._currentReleaser=void 0,n()}}cancel(){this._queue.forEach((n=>n.reject(this._cancelError))),this._queue=[]}_dispatch(){const n=this._queue.shift();if(!n)return;let o=!1;this._currentReleaser=()=>{o||(o=!0,this._locked=!1,this._resolveWaiters(),this._dispatch())},this._locked=!0,n.resolve(this._currentReleaser)}_resolveWaiters(){this._waiters.forEach((n=>n.resolve())),this._waiters=[]}}let kp=(function(e){return e.VideoEncode="0",e.VideoDecode="1",e.AudioEncode="2",e.AudioDecode="3",e.SharingEncode="4",e.SharingDecode="5",e})({});class Ls{static getInstance(){return this.agentInstance===void 0&&(this.agentInstance=new Ls),this.agentInstance}constructor(){this.assetsPath=void 0,this.instance=void 0,this.callbackList=void 0,this.constraints=void 0,this.svcUrl=void 0,this.meetingNumber=void 0,this.confId=void 0,this.currentUserId=void 0,this.receivedSharingCanvas=void 0,this.sharingCanvas=void 0,this.annotationCanvas=void 0,this.annotationPresenterCanvas=void 0,this.mediaOptions=void 0,this.inProgress=void 0,this.callbackList=[]}init(n){!this.instance&&window.JsMediaSDK_Instance&&(this.instance=new window.JsMediaSDK_Instance(n))}setAssetsAndConstraint(n,o){this.assetsPath=n,this.constraints=o,this.onMediaSDKCallback=this.onMediaSDKCallback.bind(this)}onMediaSDKCallback(n,o){this.callbackList.length>0&&this.callbackList.forEach((i=>i(n,o)))}registerCallback(n){this.callbackList.push(n)}unregisterCallback(n){this.callbackList=this.callbackList.filter((o=>o!==n))}static isSupportVideoEncodeHardwareAcceleration(){return window.JsMediaSDK_Instance.util.IsSupportVideoEncodeHardwareAcceleration()}static isSupportVideoDecodeHardwareAcceleration(){return window.JsMediaSDK_Instance.util.IsSupportVideoDecodeHardwareAcceleration()}static isCompatibleHardwareForEncode(){var n;return Zo.isSupportOffscreenCanvas&&((n=window.JsMediaSDK_Instance)===null||n===void 0?void 0:n.util.AdapterWhiteListCheckForEncoder())==0}static getPTZCapability(){var n,o,i,c,d,p;return{pan:!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util)===null||n===void 0||(o=n.isSupportCameraPan)===null||o===void 0||!o.call(n)),tilt:!((i=window.JsMediaSDK_Instance)===null||i===void 0||(i=i.util)===null||i===void 0||(c=i.isSupportCameraTilt)===null||c===void 0||!c.call(i)),zoom:!((d=window.JsMediaSDK_Instance)===null||d===void 0||(d=d.util)===null||d===void 0||(p=d.isSupportCameraZoom)===null||p===void 0||!p.call(d))}}static isSupportVideoShare(){var n,o;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util)===null||n===void 0||(o=n.isSupportVideoShareReceive)===null||o===void 0||!o.call(n))}static getVideoProcessorCapability(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||(o=o.util)===null||o===void 0||!o.isSupportVideoProcessor(n))}static getAudioProcessorCapability(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||(o=o.util)===null||o===void 0||!o.isSupportAudioProcessor(n))}static getShareProcessorCapability(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||(o=o.util)===null||o===void 0||!o.isSupportShareProcessor(n))}static isSupportVideoShareSend(){var n,o;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util)===null||n===void 0||(o=n.isSupportVideoShareSend)===null||o===void 0||!o.call(n))}static isSupportSending720P(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util)===null||n===void 0||!n.get720pcapacity())}static isSupportSubscribing1080P(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util)===null||n===void 0||!n.getsub1080pcapacity())}static isSupportOpenMicWhenShareAudio(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||!o.util.isSupportOpenMicWhenShareAudio(n))}static isSupportMediaPlaybackAsVideoInput(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util.videoToMediaStreamManager)===null||n===void 0||!n.isSupported())}static isSupportMediaPlaybackAsAudioInput(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||(n=n.util.audioToMediaStreamMananger)===null||n===void 0||!n.isSupported())}static isSupportAudioDenoise(n,o){var i;return!((i=window.JsMediaSDK_Instance)===null||i===void 0||!i.util.isSupportAudioDenoise(n,o))}static isSupportAudioBridgeAVSync(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||!n.util.isSupportAudioBridgeAvsync())}static getAudioFeatureFlag(n){var o;return(o=window.JsMediaSDK_Instance)===null||o===void 0?void 0:o.util.getAudioFeatureFlags(n)}static isSupportShareMultiStream(){var n;return(n=window.JsMediaSDK_Instance)===null||n===void 0?void 0:n.util.isSupportShareMultiStream()}static isSupportVideoLTR(){var n;return(n=window.JsMediaSDK_Instance)===null||n===void 0?void 0:n.util.isSupportVideoLTR()}static isSupportStereoAudio(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||!n.util.isBrowserSupportStereo())}static isSupportFullHDVideo(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||!o.util.isSupportSendVideoFullHD(n))}static isSupportFullHDVideoShare(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||!o.util.isSupportSendVideoShareFullHD(n))}static isRenderSelfViewWithVideoElement(){var n;return!((n=window.JsMediaSDK_Instance)===null||n===void 0||!n.util.isSelfPreviewRenderWithVideo())}static getWebRTCCapability(n,o,i){var c;return(c=window.JsMediaSDK_Instance)===null||c===void 0?void 0:c.util.evaluateWebRTCStrategy(n,o,i)}static getMaxCountRender(n,o,i){var c;const d=i?{disableRenderLimits:!0}:o;return(c=window.JsMediaSDK_Instance)===null||c===void 0?void 0:c.util.getMaxCountRender(n,d)}static isSupportMultipleView(){var n;return(n=window.JsMediaSDK_Instance)===null||n===void 0?void 0:n.util.isSupportMultiViewAPI()}static isSupportShare2ndAudioDevice(n){var o;return!((o=window.JsMediaSDK_Instance)===null||o===void 0||!o.util.isSupportShare2ndAudioDevice(n))}static getWebRtcAudioMode(n,o,i,c){var d;return(d=window.JsMediaSDK_Instance)===null||d===void 0?void 0:d.util.evaluateAudioStrategy(n,o,i,c)}static getAnnotationCapability(n){var o;return(o=window.JsMediaSDK_Instance)===null||o===void 0?void 0:o.util.getAnnotationCapability(n)}connect({svcUrl:n,meetingNumber:o,conId:i,confId:c,e2eEncrypt:d,isViewOnly:p,currentUserId:v,isWebinar:S,enableWebtransport:_=!1,webtransportPort:x,isWebRtcVideoCapable:P,rendererType:B,isWebRtcAudioCapable:z,mediasdkConfig:U,enforceMultipleVideos:H,disableRenderLimits:K,reportDomain:oe,abToken:ce,webrtcMode:re}){var ye,_e,Oe,F;const{isSupportEssentialAudioAndVideoAbility:Me,isSupportAudioWorklet:ot,isSupportSendScreenSharing:Fe}=Zo;this.svcUrl=n,this.meetingNumber=o,this.confId=i,this.currentUserId=v;const De=Ls.getMaxCountRender(P,H,K);if((ye=this.instance)===null||ye===void 0||ye.setProps({callback:this.onMediaSDKCallback,isPreviewMode:!1,meetingParams:{cid:i,confId:c,userId:v,rwgHost:n,nginxHost:oe,abToken:ce,e2eEncrypt:d,enableWebtransport:_,webtransportPort:x,rwgToMediaSDKConfig:U,webrtcMode:re},mediaParams:{videoDecodeThreadNum:De,rendererType:B,isEnableHD:!0,isEnableHW:!0}}),((_e=this.constraints)===null||_e===void 0?void 0:_e.audio)===!0&&Me){const nt=ot||z;var we,ct;(S||nt)&&((we=this.instance)===null||we===void 0||we.initAudioDecode()),!nt||S&&p||(ct=this.instance)===null||ct===void 0||ct.initAudioEncode()}var rt,gt,ee,on;((Oe=this.constraints)===null||Oe===void 0?void 0:Oe.video)===!0&&Me&&((rt=this.instance)===null||rt===void 0||rt.initVideoDecode(),S&&p||(gt=this.instance)===null||gt===void 0||gt.initVideoEncode()),((F=this.constraints)===null||F===void 0?void 0:F.screen)===!0&&Me&&((ee=this.instance)===null||ee===void 0||ee.initSharingDecode(),!Fe||S&&p||(on=this.instance)===null||on===void 0||on.initSharingEncode()),this.inProgress=!0}async addProcessor(n){var o;return await((o=this.instance)===null||o===void 0?void 0:o.addProcessor(n))}async startProcessor(n){var o;await((o=this.instance)===null||o===void 0?void 0:o.startProcessor(n))}async stopProcessor(n){var o;await((o=this.instance)===null||o===void 0?void 0:o.stopProcessor(n))}async destroy(){var n;this.callbackList=[],[kp.AudioDecode,kp.AudioEncode,kp.VideoDecode,kp.VideoEncode].forEach((i=>{var c;(c=this.instance)===null||c===void 0||c.updateQosSubscription(!1,i)}));const o=(n=this.instance)===null||n===void 0?void 0:n.destroy.bind(this.instance);this.instance=null,this.inProgress=!1,await o?.()}disconnect(){var n,o;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(17,{}),(o=this.instance)===null||o===void 0||o.JsMediaSDK_UnInit()}muteAudio(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(8,{ssrc:0})}unmuteAudio(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(7,{ssrc:0,AudioSelectValue:0})}joinComputerAudio(n,o,i,c,d,p,v){var S;const _=v?{...v,enableHID:!0}:{enableHID:!1};return(S=this.instance)===null||S===void 0?void 0:S.Notify_MeidaSDK(22,{CaptureAudio:c,CaptureAudioInfo:{ssrc:n,AudioSelectValue:o==="default"?null:o,..._,audioProfile:d},speakerInfo:{defaultDeviceId:i},audioBridge:!!p})}leaveComputerAudio(){var n;return(n=this.instance)===null||n===void 0?void 0:n.Notify_MeidaSDK(21,null)}joinSharingAudio({ssrc:n,microphoneDeviceId:o,speakerDeviceId:i,isCaptureAudio:c,audioBridge:d}){var p;return(p=this.instance)===null||p===void 0?void 0:p.Notify_MeidaSDK(72,{CaptureAudio:c,CaptureAudioInfo:{ssrc:n,AudioSelectValue:o==="default"?null:o},speakerInfo:{defaultDeviceId:i},checkAutoplay:!1,audioBridge:!!d})}leaveSharingAudio(n){var o;return(o=this.instance)===null||o===void 0?void 0:o.Notify_MeidaSDK(73,{isPause:n?1:0})}changeSpeaker(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(11,{ssrc:0,AudioSelectValue:n})}changeMicrophone(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(18,{ssrc:0,AudioSelectValue:n==="default"?null:n,microphoneLabel:o??"default",defaultMuted:i})}restoreWebRTC(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(19,{ssrc:0,AudioSelectValue:n==="default"?null:n})}renderVideo(n,o,i,c,d,p,v,S,_,x,P){var B;const z={userId:o,width:c,height:d,x:p,y:v,quality:S,isMyself:_,canvas:n,enableWaterMark:P,waterMarkText:x,zone:i};iA(n)&&Object.assign(z,{videodom:n}),(B=this.instance)===null||B===void 0||B.Notify_MeidaSDK(1,z)}stopRenderVideo(n,o,i,c,d=!1){var p;(p=this.instance)===null||p===void 0||p.Notify_MeidaSDK(2,{canvas:n,userId:o,RGBA:c,doNotClean:d,zone:i})}subscribeVideo(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(132,[{id:n,size:o,bOn:i}])}unsubscribeVideo(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(133,[{id:n}])}startCaptureVideo(n,o,i,c,d,p,v=!1,S,_,x){var P;const B=S?Ls.getPTZCapability():void 0;(P=this.instance)===null||P===void 0||P.Notify_MeidaSDK(3,{ssid:n,width:i,height:c,fps:_,video:d,usingFacingMode:p,VideoSelectValue:o==="default"?null:o,disableOriginalRatio:v,customConstraints:x,...B})}stopCaptureVideo(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(4,{ssrc:0})}changeCamera(n,o,i,c){var d;const p=c?{}:{customConstraints:void 0};(d=this.instance)===null||d===void 0||d.Notify_MeidaSDK(12,{VideoSelectValue:n==="default"?null:n,usingFacingMode:!!o,...i||{},...p})}switchCanvasForVideoCapture(n){var o;let i=n;typeof n=="string"&&(i=[n]),(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(25,i)}renderSharing(n,o,i=!1,c="",d=!1){var p;this.receivedSharingCanvas=o,(p=this.instance)===null||p===void 0||p.Notify_MeidaSDK(23,{width:0,height:0,ssrc:n,canvas:o,enableWaterMark:i,waterMarkText:c,isFromMainSession:d})}stopRenderSharing(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(24,{})}switchSharingSource(n,o=!1){var i;this.receivedSharingCanvas&&(this.stopRenderSharing(),this.renderSharing(n,this.receivedSharingCanvas,!1,"",o)),(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(36,{ssrc:n,isFromMainSession:Number(o)})}ajustmentReceivedSharingCanvas(n,o){if(this.receivedSharingCanvas&&n&&o)try{if(Zo.isAndroidOrIOSBrowser){const[i,c]=[1280,720],d=Math.max(n/i,o/c,1);this.receivedSharingCanvas.width=Math.floor(n/d),this.receivedSharingCanvas.height=Math.floor(o/d)}else this.receivedSharingCanvas.width=n,this.receivedSharingCanvas.height=o}catch{}}startRemoteControl(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(26,{socketURL:`wss://${this.svcUrl}`,meetingID:this.meetingNumber,condID:this.confId,os:o,dom:n,...i})}stopRemoteControl(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(28)}resendRemoteControlPositionPDU(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(41)}updateRemoteControlProperties(n){var o;const{dimension:i,...c}=n;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(27,{...i,...c})}startDesktopSharing(n,o,i,c,d=!0,p,v,S){var _;this.sharingCanvas=o;const x={};c&&Object.assign(x,{share2ndCamera:!0,share2ndCameraParams:{VideoSelectValue:c.cameraId==="default"?null:c.cameraId,width:c.width,height:c.height}}),p!==void 0&&Object.assign(x,{videoParams:{displaySurface:p}}),S!==void 0&&Object.assign(x,{otherParams:{...S}}),(_=this.instance)===null||_===void 0||_.Notify_MeidaSDK(30,{ssid:n,canvas:o,video:i,...x,showShareAudioOption:d,sourceId:v,noPreview:!0})}stopDesktopSharing(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(31,{})}pauseDesktopSharing(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(32,{})}updateSharingInfo(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(153,{shareSessionId:n,userName:o})}resumeDesktopSharing(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(33,{})}selectLanguageChannelForNewLTT(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(57,{lang:n})}changeSharingSecondCamera(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(49,{VideoSelectValue:n})}ajustmentSharingCanvas(n,o){if(this.sharingCanvas)try{this.sharingCanvas.width=n,this.sharingCanvas.height=o}catch{}}startPresenterAnnotation(n,o,i){const c={shareSessionId:n,presenterId:o,userName:i};var d;this.sharingCanvas&&(this.annotationPresenterCanvas||(this.annotationPresenterCanvas=UEe(this.sharingCanvas,qEe+"PRESENTER",(()=>{this.updatePresenterAnnotationCanvas()}))),this.annotationPresenterCanvas&&(Object.assign(c,{localShareCanvas:this.sharingCanvas,annoPresenterCanvas:this.annotationPresenterCanvas,isPresenter:!0}),(d=this.instance)===null||d===void 0||d.Notify_MeidaSDK(150,c),this.updatePresenterAnnotationCanvas()))}startViewerAnnotation(n,o,i){const c={shareSessionId:n,presenterId:o,userName:i};var d,p;this.receivedSharingCanvas?(this.annotationCanvas?(this.annotationCanvas.parentNode&&(this.annotationCanvas.parentNode.style.display="block"),this.annotationCanvas.style.display="block"):this.annotationCanvas=UEe(this.receivedSharingCanvas,qEe+"VIEWER",(()=>{this.updateViewerAnnotationCanvas()})),this.annotationCanvas&&(Object.assign(c,{canvas:this.receivedSharingCanvas,annoCanvas:this.annotationCanvas,isPresenter:!1}),(d=this.instance)===null||d===void 0||d.Notify_MeidaSDK(150,c),this.updateViewerAnnotationCanvas())):(p=this.instance)===null||p===void 0||p.Notify_MeidaSDK(150,{...c,isPresenter:!1})}stopPresenterAnnotation(n){var o;this.annotationPresenterCanvas&&typeof this.annotationPresenterCanvas._overlayCleanup=="function"&&(this.annotationPresenterCanvas._overlayCleanup(),this.annotationPresenterCanvas=null),(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(156,{presenterId:n})}hideViewerAnnotationCanvas(){this.annotationCanvas&&(this.annotationCanvas.style.display="none",this.annotationCanvas.parentNode)&&(this.annotationCanvas.parentNode.style.display="none")}removeViewerAnnotationCanvas(){this.annotationCanvas&&typeof this.annotationCanvas._overlayCleanup=="function"&&(this.annotationCanvas._overlayCleanup(),this.annotationCanvas=null)}stopViewerAnnotation(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(156,{presenterId:n})}annotateAction(n,o={}){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(A5,{actionType:n,...o})}updatePresenterAnnotationCanvas(){if(this.sharingCanvas){var n,o;const{size:i,position:c}=zEe(this.sharingCanvas);(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(A5,{actionType:Rp.ANNO_CANVAS_SIZE_UPDATE,...i}),(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(A5,{actionType:Rp.UPDATE_REMOTE_POSITION_INFO,...c})}}updateViewerAnnotationCanvas(){if(this.receivedSharingCanvas){var n,o;const{size:i,position:c}=zEe(this.receivedSharingCanvas);(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(A5,{actionType:Rp.ANNO_CANVAS_SIZE_UPDATE,...i}),(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(A5,{actionType:Rp.UPDATE_REMOTE_POSITION_INFO,...c})}}enableAudioEncode(){var n;(n=this.instance)===null||n===void 0||n.initAudioEncode()}sendUserNodeList(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(43,{userList:n,encryptKey:o})}updateRenderedSharingDimension(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(44,{width:n,height:o})}pauseOrResumeAudio(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(45,{bPause:n})}updateRenderedVideoCanvasDimension(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(46,{canvas:n,width:o,height:i})}clearVideoCanvas(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(47,{id:n,RGBA:o})}adjustRenderedVideoPosition(n,o,i,c,d,p,v,S){var _;(_=this.instance)===null||_===void 0||_.Notify_MeidaSDK(48,{userId:o,x:c,y:d,width:p,height:v,canvas:n,zone:i,RGBA:S})}mirrorVideo(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(75,{isMirrorMyVideo:n})}updateUserMediaSN(n){var o,i,c;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(80,{isFromMainSession:Number(n.isFromMainSession),mediaActionType:n.iVType,body:{add:(i=n.added)!==null&&i!==void 0?i:[],remove:(c=n.removed)!==null&&c!==void 0?c:[]}})}updateMediaParams(n){var o;const{iVType:i,isFromMainSession:c,updateParams:d}=n;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(81,{mediaActionType:i,isFromMainSession:Number(c),updateParams:d})}createMainSessionChannel(n,o){var i,c;n==="sharing"?(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(84,o):(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(85,o)}addReceivedSharingChannelType(n){var o;const{isFromMainSession:i,...c}=n;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(82,{isFromMainSession:Number(i),...c})}removeReceivedSharingChannelType(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(83,{isFromMainSession:Number(n.isFromMainSession),ssrc:n.ssrc})}beforeReportToGlobalTracing(){var n,o;(n=this.instance)===null||n===void 0||(o=n.beforeReportToGlobalTracing)===null||o===void 0||o.call(n)}enableHardwareAccelerationForVideoDecode(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(70,{enable:n})}enableHardwareAccelerationForVideoEncode(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(71,{enable:n})}setSharingAudioVolume(n,o,i,c=!1){var d;(d=this.instance)===null||d===void 0||d.Notify_MeidaSDK(74,{userid:n>>10,shareVolume:o?0:100,isFromMainSession:i,isSecondAudio:c})}subscribeToQos(n,o){n.forEach((i=>{var c;(c=this.instance)===null||c===void 0||c.updateQosSubscription(!0,i,o)}))}unsubscribeFromQos(n){n.forEach((o=>{var i;(i=this.instance)===null||i===void 0||i.updateQosSubscription(!1,o)}))}passThroughRWGMessage(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(40,n)}startVirtualBackgroundSetting(n,o,i,c,d,p,v=!1,S){var _;(_=this.instance)===null||_===void 0||_.Notify_MeidaSDK(91,{canvas:n,bgdom:o,width:d,height:p,ssid:i,VideoSelectValue:c==="default"?null:c,disableOriginalRatio:v,id:S})}updateVirtualBackgroundImage(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(92,{bgdom:n})}stopVirtualBackgroundSetting(n=!1){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(93,{isSwitch:n})}startMaskSetting(n,o,i,c,d,p,v,S,_){var x;(x=this.instance)===null||x===void 0||x.Notify_MeidaSDK(62,{canvas:n,maskdom:i,bgdom:o,dx:0,dy:0,dWidth:p,dHeight:v,width:S,height:_,ssid:c,VideoSelectValue:d==="default"?null:d})}updateMaskBackgroundImage(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(63,{bgdom:n})}updateMaskClip(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(64,{maskdom:n,dx:0,dy:0,dWidth:o,dHeight:i})}stopMaskSetting(n=!1){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(65,{isSwitch:n})}enableVideoObserver(n,o=!1){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(99,{enable:n,fpsdisbale:o})}enableShareAudioToBreakoutRoom(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(86,{enable:n})}sendUserAudioStatus(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(51,n)}muteOrUnmuteOtherAudio(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(50,{userId:n,volume:o?0:100})}adjustOtherAudioVolume(n,o){var i;(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(50,{userId:n,volume:o})}notifySDKMeetingReady(){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(113)}movePTZCamera(n){var o;return(o=window.JsMediaSDK_Instance)===null||o===void 0||(o=o.util)===null||o===void 0?void 0:o.queryPTZPermisson().then((i=>{var c;return i?((c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(53,n),Promise.resolve("")):Promise.reject("Cannot move camera without permission granted")}))}switchSharingMode(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(101,{mode:n})}updateVideoHDValue(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK("update_videohd_value",{videohd:n})}updateVideoFullhdValue(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK("update_videofullhd_value",{videofullhd:n})}changeAudioProfile(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(126,n)}enableSyncButtonsOnHeadset(n,o,i){var c;(c=this.instance)===null||c===void 0||c.Notify_MeidaSDK(100,{enable:n,microphoneLabel:o,defaultMuted:i})}stopAllIncomingAudio(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(123,n)}isSharingEntireScreen(){var n,o;const i=(n=this.instance)===null||n===void 0||(o=n.getShareStreamInfo)===null||o===void 0?void 0:o.call(n);if(i){const{displaySurface:c}=i;return!c||c==="monitor"}return!1}getShareStreamInfo(n=!1){var o,i;const c=(o=this.instance)===null||o===void 0||(i=o.getShareStreamInfo)===null||i===void 0?void 0:i.call(o);if(c){const{deviceId:d,width:p,height:v}=c,S={deviceId:d,width:p,height:v};return n&&Object.assign(S,{displaySurface:c.displaySurface}),S}return{}}prefetchVideoSsrc(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(110,{ssrc:n})}cancelPrefetchVideoSsrc(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(112,{ssrc:n,haddata:!1})}setMobileRotateMode(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(124,{isLandScape:n})}changeActiveVideoSsrc(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(13,{ssrc:n})}setAudioCodecMode(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(122,{mode:n})}startRemoteControlQRCheck(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(54,{enable:n})}broadcastVoiceToBreakoutRoom(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(87,{enable:n})}share2ndAudio(n,o){var i;const c={audioOnly:!0,deviceId:n==="default"?null:n};o&&Object.assign(c,o),(i=this.instance)===null||i===void 0||i.Notify_MeidaSDK(129,c)}enablePlayAudioFileLocally(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(138,n)}bypassMediaMessage(n){var o;(o=this.instance)===null||o===void 0||o.Notify_MeidaSDK(128,n)}screenshot(n,o){var i;return(i=this.instance)===null||i===void 0?void 0:i.ScreenShot(n,o)}}Ls.agentInstance=void 0;const T4=typeof Buffer=="function",wwe=typeof TextDecoder=="function"?new TextDecoder:void 0,_we=typeof TextEncoder=="function"?new TextEncoder:void 0,G5=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),fX=(()=>{let e={};return G5.forEach(((n,o)=>e[n]=o)),e})(),fWe=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Sm=String.fromCharCode.bind(String),Awe=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),OPe=e=>e.replace(/=/g,"").replace(/[+\/]/g,(n=>n=="+"?"-":"_")),IPe=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),RPe=typeof btoa=="function"?e=>btoa(e):T4?e=>Buffer.from(e,"binary").toString("base64"):e=>{let n,o,i,c,d="";const p=e.length%3;for(let v=0;v<e.length;){if((o=e.charCodeAt(v++))>255||(i=e.charCodeAt(v++))>255||(c=e.charCodeAt(v++))>255)throw new TypeError("invalid character found");n=o<<16|i<<8|c,d+=G5[n>>18&63]+G5[n>>12&63]+G5[n>>6&63]+G5[63&n]}return p?d.slice(0,p-3)+"===".substring(p):d},yve=T4?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let o=0,i=e.length;o<i;o+=4096)n.push(Sm.apply(null,e.subarray(o,o+4096)));return RPe(n.join(""))},pWe=e=>{if(e.length<2)return(n=e.charCodeAt(0))<128?e:n<2048?Sm(192|n>>>6)+Sm(128|63&n):Sm(224|n>>>12&15)+Sm(128|n>>>6&63)+Sm(128|63&n);var n=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return Sm(240|n>>>18&7)+Sm(128|n>>>12&63)+Sm(128|n>>>6&63)+Sm(128|63&n)},mWe=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Twe=T4?e=>Buffer.from(e,"utf8").toString("base64"):_we?e=>yve(_we.encode(e)):e=>RPe((n=>n.replace(mWe,pWe))(e)),gWe=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,vWe=e=>{switch(e.length){case 4:var n=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return Sm((n>>>10)+55296)+Sm(56320+(1023&n));case 3:return Sm((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Sm((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},kPe=typeof atob=="function"?e=>atob(IPe(e)):T4?e=>Buffer.from(e,"base64").toString("binary"):e=>{if(e=e.replace(/\s+/g,""),!fWe.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let n,o,i,c="";for(let d=0;d<e.length;)n=fX[e.charAt(d++)]<<18|fX[e.charAt(d++)]<<12|(o=fX[e.charAt(d++)])<<6|(i=fX[e.charAt(d++)]),c+=o===64?Sm(n>>16&255):i===64?Sm(n>>16&255,n>>8&255):Sm(n>>16&255,n>>8&255,255&n);return c},bWe=T4?e=>Awe(Buffer.from(e,"base64")):e=>Awe(kPe(e).split("").map((n=>n.charCodeAt(0)))),yWe=T4?e=>Buffer.from(e,"base64").toString("utf8"):wwe?e=>wwe.decode(bWe(e)):e=>(n=>n.replace(gWe,vWe))(kPe(e)),DPe=(e,n=!1)=>n?OPe(Twe(e)):Twe(e),SWe=e=>yWe((n=>IPe(n.replace(/[-_]/g,(o=>o=="-"?"+":"/"))))(e)),CWe=(e,n=!1)=>n?OPe(yve(e)):yve(e);function bu(e){return DPe(e,!0)}function s1(e){return SWe(e)}function MPe(e){return DPe(e,!1)}const EWe={"-":"+",_:"/",".":"="};function jy(e){const n=e.replace(/[-_.]/g,(o=>EWe[o]));return Uint8Array.from(window.atob(n),(o=>o.charCodeAt(0)))}const PPe=e=>{const n=e.charCodeAt(0);return n<=parseInt("0x7F",16)?1:n<=parseInt("0x7FF",16)?2:n<=parseInt("0xFFFF",16)?3:n<=parseInt("0x1FFFFF",16)?4:n<=parseInt("0x3FFFFFF",16)?5:6},VQ=(e,n)=>{const o=e.split(".").map((d=>Number(d))).slice(0,3),i=n.split(".").map((d=>Number(d))).slice(0,3);let c=0;for(let d=0;d<3;d++){const p=d<o.length?o[d]:0,v=d<i.length?i[d]:0;if(p<v){c=-1;break}if(p>v){c=1;break}}return c},FQ=e=>{var n;let o=new Date().getTime(),i=1e3*((n=performance)===null||n===void 0?void 0:n.now())||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(d=>{let p=16*Math.random();return o>0?(p=(o+p)%16|0,o=Math.floor(o/16)):(p=(i+p)%16|0,i=Math.floor(i/16)),(d==="x"?p:3&p|8).toString(16)}))+""};function Dz(e,n){if(e===n)return!0;if(!e||!n)return!1;const o=Object.keys(e),i=Object.keys(n),c=o.length;if(i.length!==c)return!1;for(let d=0;d<c;d++){const p=o[d];if(e[p]!==n[p]||!Object.prototype.hasOwnProperty.call(n,p))return!1}return!0}const $f=(e,n)=>e>>10==n>>10,vte=(e,n)=>new Promise((o=>{setTimeout((()=>{o(e())}),n)})),aA=e=>{const n=`${Math.floor(1e4*Math.random())}`;return e.indexOf("@")>-1?e.replace("@",n):`${e}${n}`},Mb=e=>{try{const n=new URL(e);return!(n.protocol==="data:"&&n.origin==="null")&&n.origin!==location.origin}catch{return!0}},CA=e=>{const n=e.split(".")[1];if(typeof n=="string"){let o=n.replace(/-/g,"+").replace(/_/g,"/");switch(o.length%4){case 0:break;case 2:o+="==";break;case 3:o+="=";break;default:throw new Error("base64 string is not of the correct length")}try{const i=decodeURIComponent(window.atob(o).replace(/(.)/g,(function(c,d){let p=d.charCodeAt(0).toString(16).toUpperCase();return p.length<2&&(p="0"+p),"%"+p})));return JSON.parse(i)}catch{console.error("Invalid token specified: invalid base64")}}};function bte(e){return e&&e.endsWith("/")?e.slice(0,e.length-1):e}function NPe(e){return[...new Uint8Array(e)].map((n=>n.toString(16).padStart(2,"0"))).join("")}function xwe(e){return`${e.tagName}${e.id?`#${e.id}`:""}${e.className?`${e.className.split(" ").map((n=>`.${n}`)).join("")}`:""}`}function LPe(e){const n=(function(o){const i=o&&o.getRootNode();if(i&&i.nodeName!=="#document"&&i.host)return xwe(i.host)})(e);return`${n?`${n}>`:""}${xwe(e)}`}function HQ(e){return typeof e=="object"&&e!==null?ute(e,HTMLElement)?LPe(e):ArrayBuffer.isView(e)?NPe(e.buffer):Array.isArray(e)?e.map((n=>HQ(n))):Object.keys(e).reduce(((n,o)=>({...n,[`${o}`]:HQ(e[o])})),{}):e}const wWe=[KX,YX,z2].map((e=>SDe(e,{hostname:!0})));function BPe(e){return wWe.some((n=>new RegExp(`^https://${n}`).test(e??"")))}const Hf=(e,n,o)=>V0e([n,o].map(((i,c)=>{if(i!=="initial")return Kn([i==="success"]);{const d=c===0?"ENCODE":"DECODE";return Vp(wa(`${e.toUpperCase()}_${d}_SUCCESS`,1).pipe(So((()=>!0))),wa(`${e.toUpperCase()}_${d}_FAIL`,1).pipe(So((()=>!1))))}}))),Bk=e=>{const n=us(e.value);return n?za(n):wa(Rz,1).pipe(Xu(bA),Qo(e),So((([,o])=>us(o))))};function Sve(e,n){var o,i,c;const d=e==="audio"?(o=n.audio)===null||o===void 0?void 0:o.audioSsrc:(i=n.video)===null||i===void 0?void 0:i.videoSsrc,p=e==="audio"?IMe:pMe;return e==="audio"&&(c=n.audio)!==null&&c!==void 0&&c.isWebRtcAudioCapable||d?Promise.resolve():vr(p)}const Vk=()=>Kn(navigator.mediaDevices.enumerateDevices()).pipe(So((e=>{const n=[],o=[],i=[];return e.forEach((c=>{const{kind:d,deviceId:p,label:v}=c,S=v.replace(/\([\w,\d]+:[\w,\d]+\)/i,"").trim();switch(d){case"audioinput":p==="communications"||/ZoomAudioDevice/i.test(S)||/Zoom-\S*/.test(S)||/CubebAggregateDevice\S*/.test(S)||/Microsoft Teams Audio/i.test(S)||n.push({deviceId:p,label:S});break;case"audiooutput":p==="communications"||/ZoomAudioDevice/i.test(S)||/Microsoft Teams Audio/i.test(S)||o.push({deviceId:p,label:S});break;case"videoinput":i.push({deviceId:p,label:S})}})),{microphones:n,speakers:o,cameras:i}})));function $Q(e){const{x:n,y:o,width:i,height:c}=e.getBoundingClientRect();return{scaleWidth:i,scaleHeight:c,srcOffsetX:n,srcOffsetY:o}}function UQ(e){if(e){let o=e;try{const i=e.width;e.width=i}catch{var n;o=e.cloneNode(!0),(n=e.parentNode)===null||n===void 0||n.replaceChild(o,e)}return o}return e}function Owe(){try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(i7e)}catch{return!1}}function pX(){var e;return(e=WebAssembly)===null||e===void 0?void 0:e.validate(a7e)}const VPe=(()=>{const e=new xPe;return{withAudioAction:n=>(...o)=>new Promise((async(i,c)=>{let d=!1;const p=setTimeout((()=>{d=!0,e.release()}),3e4);try{await e.acquire(),d||clearTimeout(p),i(n(...o))}catch(v){d||(clearTimeout(p),c(v))}})),processAudioAction:n=>e.acquire().then((()=>n())),completeAudioAction:()=>{e.release()},cancelAllAudioAction:()=>{e.cancel()}}})();function yte(e){const n=["joinComputerAudio","joinSharingAudio","leaveComputerAudio","leaveSharingAudio"];return new Proxy(e,{get:(o,i)=>typeof i=="string"&&n.includes(i)?function(...c){return VPe.withAudioAction(o[i].bind(o))(...c)}:Reflect.get(o,i)})}function Cve(e,n){var o;const{browserVersion:i,isChrome:c,isFirefox:d,isSafari:p,isAndroidOrIOSBrowser:v,isSupportMediaStreamTrackProcessor:S,isSupportOffscreenCanvas:_,isSwiftShader:x}=Zo,P=Number(i==null||(o=i.match(/^\d+/))===null||o===void 0?void 0:o[0]),B=c&&P>=91,z=d&&P>=89,U=p&&VQ(i,"17.4")>=0,H=navigator.hardwareConcurrency>2;let K=Ls.isSupportMultipleView();return e&&!K&&(K=_&&S),!v&&!x&&(K||n)&&(B||z||U)&&H}const Wpe=(e,n)=>{const o=document.createElement("link");return o.rel="preload",o.href=e,o.as=n,o.crossOrigin="anonymous",o},$x=(e,n,o)=>{const i=[],c=[],d=Array.isArray(e)?e:[e];return u7e.filter((p=>{var v;return d.includes(p.category)&&(p.tag===n||((v=p.tag)===null||v===void 0?void 0:v.split(",").includes(n)))})).forEach((p=>{p.type==="worker"?i.push(`${o}${p.name}`):p.type==="wasm"&&c.push(`${o}${p.name}`)})),{workers:i,wasms:c}};function FPe(e,n){const o={},{isSupportSharedArrayBuffer:i,isSupportOffscreenCanvas:c,isSupportMediaStreamTrackProcessor:d,isAndroidOrIOSBrowser:p,isHarmonyOS:v}=Zo;return i||(Object.assign(o,{enableMultiDecodeVideoWithoutSAB:!!e}),c&&d&&Object.assign(o,{enableVirtualBackgroundWithoutSAB:!!n})),Object.assign(o,{platformMode:{isDesktopMode:!(p||v)}}),o}function Gpe(e,n,o){if(e.deviceId===n)return!0;if(n==="default"){const i=o.find((c=>c.deviceId===n));if(i)return i.label.indexOf(e.label)>-1}return!1}function x5(e){return e.find((n=>n.deviceId==="default"))}const Eve=(()=>{let e,n=!1;return{watch:function(o){n=!0,e=Promise.race([o,vte((()=>!0),1e4)]).then((()=>{e=void 0,n=!1})).finally((()=>{e=void 0,n=!1}))},acquire:function(){return n&&e?e:Promise.resolve()}}})(),q5=(e,n)=>vr({event:$0e,operations:[yn((o=>o[`${e}`]!==void 0)),Yr(1)]},(o=>o[`${e}`]===n));function Iwe(e,n,o,i){const c={play:()=>e.play(),pause:()=>e.pause(),get paused(){return e.paused},get muted(){return e.muted},set muted(d){e.muted=d},get currentTime(){return e.currentTime},set currentTime(d){e.currentTime=d},get loop(){return e.loop},set loop(d){e.loop=d}};if(n==="audio"){const{audio:{mediaPlaybackFile:d}}=o;Object.defineProperty(c,"playback",{get(){const p=e.dataset.playback;return p!==void 0?p==="1":!(d==null||!d.playback)},set(p){i.enablePlayAudioFileLocally(p),e.dataset.playback=p?"1":"0"}})}return c}function wve(){return Vp(Xd(document,"click").pipe(Yr(1)),Xd(document,"touchend").pipe(Yr(1))).pipe(wh(SA()))}function HPe(e,n){const{audio:{activeMicrophone:o,microphoneDevicesList:i}}=n,c=i.find((p=>p.deviceId===o)),d=us(n);e.changeMicrophone(o,c?.label,!(d==null||!d.muted))}function $Pe(e,n,o,i){var c;const{audio:d,share:{isReceiveSharingFromMainSession:p}}=o;if((d==null||(c=d.localShareAudioUserMutedList)===null||c===void 0?void 0:c.length)>0){const{localShareAudioUserMutedList:v}=d,S=v.filter((_=>_.userId!==e));if(S.length){const _=Na(o);S.forEach((x=>{const P=_.find((B=>B.userId===x.userId));P&&!P.audioShare&&i.setSharingAudioVolume(x.userId,!0,x.isFromMainSession)}))}}i.setSharingAudioVolume(e,n,!!p)}function _We(e,n){let o=0;return e&&(o|=zge.WebRTCAudio),n&&(o|=zge.WebRTCVideo),o}function UPe(){var e,n;return"orientation"in window.screen?(e=screen.orientation.type)===null||e===void 0?void 0:e.startsWith("landscape"):"orientation"in window?Math.abs(window.orientation)===90:"matchMedia"in window?!((n=window.matchMedia("(orientation: landscape)"))===null||n===void 0||!n.matches):screen.availWidth>screen.availHeight}function zPe(){return"orientation"in window.screen?Xd(screen.orientation,"change").pipe(wh(SA()),So((()=>{var e;return(e=screen.orientation.type)===null||e===void 0?void 0:e.startsWith("landscape")}))):Xd(window,"orientationchange").pipe(wh(SA()),So((e=>{var n;const o=(n=e.target)===null||n===void 0||(n=n.screen)===null||n===void 0||(n=n.orientation)===null||n===void 0?void 0:n.angle;return Math.abs(o)===90})))}function mX(e,n){var o;let i;if(typeof e=="string"){if(i=document.querySelector(e),!i)return[!1,{type:tr,reason:"Cannot find the element",errorCode:at.STREAM_MISMATCH_RENDER_ELEMENT}]}else i=e;return((o=i)===null||o===void 0||(o=o.tagName)===null||o===void 0?void 0:o.toUpperCase())!==n.toUpperCase()?[!1,{type:tr,reason:"Invalid element type",errorCode:at.STREAM_MISMATCH_RENDER_ELEMENT}]:[!0,i]}function Rwe(e){const{share:{isRemoteSharingActive:n,isSimultaneousShareView:o}}=e;return n||o?za(!0):wa(A3).pipe(yn((i=>{const{isActive:c}=i;return c})),Yr(1),So((()=>!0)))}var kwe,Dwe,sk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ste(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var AWe=(Dwe||(Dwe=1,kwe=function(e,n,o,i,c,d,p,v){if(!e){var S;if(n===void 0)S=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var _=[o,i,c,d,p,v],x=0;(S=new Error(n.replace(/%s/g,(function(){return _[x++]})))).name="Invariant Violation"}throw S.framesToPop=1,S}}),kwe),T3=Ste(AWe),Sk=function(e){return typeof e=="function"},Mwe=function(e){return e.toString()},qpe=function(e){return typeof e=="string"},lJ="||",Ck=function(e){return e},Pwe=function(e){return e===null};function Yl(e,n,o){n===void 0&&(n=Ck),T3(Sk(n)||Pwe(n),"Expected payloadCreator to be a function, undefined or null");var i=Pwe(n)||n===Ck?Ck:function(v){for(var S=arguments.length,_=new Array(S>1?S-1:0),x=1;x<S;x++)_[x-1]=arguments[x];return v instanceof Error?v:n.apply(void 0,[v].concat(_))},c=Sk(o),d=e.toString(),p=function(){var v=i.apply(void 0,arguments),S={type:e};return v instanceof Error&&(S.error=!0),v!==void 0&&(S.payload=v),c&&(S.meta=o.apply(void 0,arguments)),S};return p.toString=function(){return d},p}var Zpe,Nwe,Lwe,Bwe,Vwe,Fwe,J3=function(e){if(typeof e!="object"||e===null)return!1;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n},Hwe=function(e){return Array.isArray(e)},jPe=function(e){return e==null},$we=Ste((function(){if(Fwe)return Vwe;Fwe=1;var e=(function(){if(Bwe)return Lwe;Bwe=1;var n=(function(){if(Nwe)return Zpe;Nwe=1,Zpe=function(v){return o.test(v)?v.toLowerCase():i.test(v)?((function(S){return S.replace(d,(function(_,x){return x?" "+x:""}))})(v)||v).toLowerCase():c.test(v)?(function(S){return S.replace(p,(function(_,x,P){return x+" "+P.toLowerCase().split("").join(" ")}))})(v).toLowerCase():v.toLowerCase()};var o=/\s/,i=/(_|-|\.|:)/,c=/([a-z][A-Z]|[A-Z][a-z])/,d=/[\W_]+(.|$)/g,p=/(.)([A-Z]+)/g;return Zpe})();return Lwe=function(o){return n(o).replace(/[\W_]+(.|$)/g,(function(i,c){return c?" "+c:""})).trim()}})();return Vwe=function(n){return e(n).replace(/\s(\w)/g,(function(o,i){return i.toUpperCase()}))}})()),WPe=function(e){return e.indexOf("/")===-1?$we(e):e.split("/").map($we).join("/")},_ve=function(e,n){return e.reduce((function(o,i){return n(o,i)}),{})},Cte=function(e){return typeof Map<"u"&&e instanceof Map};function n1e(e){if(Cte(e))return Array.from(e.keys());if(typeof Reflect<"u"&&typeof Reflect.ownKeys=="function")return Reflect.ownKeys(e);var n=Object.getOwnPropertyNames(e);return typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e))),n}function GPe(e,n){return Cte(n)?n.get(e):n[e]}var qPe=function(e){return function n(o,i,c,d){var p=i===void 0?{}:i,v=p.namespace,S=v===void 0?"/":v,_=p.prefix;return c===void 0&&(c={}),d===void 0&&(d=""),n1e(o).forEach((function(x){var P=(function(z){return d||!_||_&&new RegExp("^"+_+S).test(z)?z:""+_+S+z})((function(z){var U;if(!d)return z;var H=z.toString().split(lJ),K=d.split(lJ);return(U=[]).concat.apply(U,K.map((function(oe){return H.map((function(ce){return""+oe+S+ce}))}))).join(lJ)})(x)),B=GPe(x,o);e(B)?n(B,{namespace:S,prefix:_},c,P):c[P]=B})),c}},TWe=qPe(J3);function zQ(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{},i=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(o).filter((function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})))),i.forEach((function(c){xWe(e,c,o[c])}))}return e}function xWe(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function Qd(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var c,d=J3((c=o)[c.length-1])?o.pop():{};return T3(o.every(qpe)&&(qpe(e)||J3(e)),"Expected optional object followed by string action types"),qpe(e)?Uwe([e].concat(o),d):zQ({},(function(p,v){return(function(S,_){var x=_===void 0?{}:_,P=x.namespace,B=P===void 0?"/":P,z=x.prefix;function U(K,oe,ce){var re=WPe(ce.shift());ce.length===0?oe[re]=S[K]:(oe[re]||(oe[re]={}),U(K,oe[re],ce))}var H={};return Object.getOwnPropertyNames(S).forEach((function(K){var oe=z?K.replace(""+z+B,""):K;return U(K,H,oe.split(B))})),H})(ZPe(TWe(p,v)),v)})(e,d),Uwe(o,d))}function ZPe(e,n){var o=n===void 0?{}:n,i=o.prefix,c=o.namespace,d=c===void 0?"/":c;return _ve(Object.keys(e),(function(p,v){var S,_=e[v];T3((function(B){if(Sk(B)||jPe(B))return!0;if(Hwe(B)){var z=B[0],U=z===void 0?Ck:z,H=B[1];return Sk(U)&&Sk(H)}return!1})(_),"Expected function, undefined, null, or array with payload and meta functions for "+v);var x=i?""+i+d+v:v,P=Hwe(_)?Yl.apply(void 0,[x].concat(_)):Yl(x,_);return zQ({},p,((S={})[v]=P,S))}))}function Uwe(e,n){var o=ZPe(_ve(e,(function(i,c){var d;return zQ({},i,((d={})[c]=Ck,d))})),n);return _ve(Object.keys(o),(function(i,c){var d;return zQ({},i,((d={})[WPe(c)]=o[c],d))}))}var OWe=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=typeof n[n.length-1]!="function"&&n.pop(),c=n;if(i===void 0)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(d,p){for(var v=arguments.length,S=Array(v>2?v-2:0),_=2;_<v;_++)S[_-2]=arguments[_];var x=d===void 0,P=p===void 0;return x&&P&&i?i:c.reduce((function(B,z){return z.apply(void 0,[B,p].concat(S))}),x&&!P&&i?i:d)}},IWe=qPe((function(e){return(J3(e)||Cte(e))&&!(function(n){var o=n1e(n),i=o.every((function(c){return c==="next"||c==="throw"}));return o.length&&o.length<=2&&i})(e)}));function wm(e,n,o){o===void 0&&(o={}),T3(J3(e)||Cte(e),"Expected handlers to be a plain object.");var i=IWe(e,o),c=n1e(i).map((function(p){return(function(v,S,_){S===void 0&&(S=Ck);var x=Mwe(v).split(lJ);T3(_!==void 0,"defaultState for reducer handling "+x.join(", ")+" should be defined"),T3(Sk(S)||J3(S),"Expected reducer to be a function or object with next and throw reducers");var P=Sk(S)?[S,S]:[S.next,S.throw].map((function(U){return jPe(U)?Ck:U})),B=P[0],z=P[1];return function(U,H){U===void 0&&(U=_);var K=H.type;return K&&x.indexOf(Mwe(K))!==-1?(H.error===!0?z:B)(U,H):U}})(p,GPe(p,i),n)})),d=OWe.apply(void 0,c.concat([n]));return function(p,v){return p===void 0&&(p=n),d(p,v)}}const Ave=Yl("SCREENSHOT_VIDEO_NOTIFICATION"),{setVideoSsrc:KPe,setActiveVideoId:YPe,setCameraList:o1e,setActiveCamera:Q3,setIsCurrentUserStartedVideo:XPe,setSpotlightVideo:Tve,setIsCaptureForbidden:jQ,setVideoMaxQuality:JPe,setIsVideoMuted:QPe,setIsCaptureCameraLoading:a3,setIsCameraTaken:WQ,resetVideo:eNe,setReceivedVideoDimension:tNe,addSubscribedVideoId:GQ,removeSubscribedVideoId:cJ,setIsFollowHostVideoLayout:nNe,setHostDragLayout:oNe,addRenderedVideoId:Ek,removeRenderedVideoId:qQ,setIsSupportHdVideo:sNe,setIsCanUnmuteVideo:rNe,setIsVbPreloadReady:xve,setIsVbConfiged:ZQ,setVbImageSrc:uJ,setVideoDataEncoding:KQ,setVideoDataDecoding:YQ,setHardwareAccelerationState:JL,setVideoCaptureCustomizedOption:iNe,setNetworkQuality:Ove,setVideoCameraPtzCapabilities:aNe,setIsCurrentUserRequestCameraControlled:XQ,setIsCurrentUserCameraInControl:JQ,addVideoFarEndCameraControlUser:lNe,removeVideoFarEndCameraControlUser:QQ,setVideoPtzCameraMoving:Ive,setVideoPtzCameraValue:s1e,setIsControllingFarEndCamera:Rve,setNetworkQualityBroadcastTime:cNe,setIsMaskConfiged:eee,setVideoBackgroundMode:kve,setVideoMask:dJ,setVideoCapturedDimension:uNe,addVideoRenderedEnsuredCanvas:dNe,setVideoMediaPlaybackFile:Dve,setPrefetchedVideoUser:x3,setVideoQosSubscriptionStatus:Mve,setMiniRwgOptionValue:hNe,addVideoPlayerAttachment:r1e,removeVideoPlayerAttachment:hJ,setIsWebGl2RendererType:fNe,setIsWebGpuRendererType:pNe,setVideoRendererType:mNe,setIsVideoMirrored:gNe,addSelfPreviewVideoTag:vNe,removeSelfPreviewVideoTag:i1e,setVideoLeadershipUserId:bNe,setIsWebrtcVideoCapable:a1e,removeCustomVideoConstraints:yNe}=Qd("SET_VIDEO_SSRC","SET_ACTIVE_VIDEO_ID","SET_CAMERA_LIST","SET_ACTIVE_CAMERA","SET_IS_CURRENT_USER_STARTED_VIDEO","SET_SPOTLIGHT_VIDEO","SET_IS_CAPTURE_FORBIDDEN","SET_VIDEO_MAX_QUALITY","SET_IS_VIDEO_MUTED","SET_IS_CAPTURE_CAMERA_LOADING","SET_IS_CAMERA_TAKEN","RESET_VIDEO","SET_RECEIVED_VIDEO_DIMENSION","ADD_SUBSCRIBED_VIDEO_ID","REMOVE_SUBSCRIBED_VIDEO_ID","SET_IS_FOLLOW_HOST_VIDEO_LAYOUT","SET_HOST_DRAG_LAYOUT","ADD_RENDERED_VIDEO_ID","REMOVE_RENDERED_VIDEO_ID","SET_IS_SUPPORT_HD_VIDEO","SET_IS_CAN_UNMUTE_VIDEO","SET_IS_VB_PRELOAD_READY","SET_IS_VB_CONFIGED","SET_VB_IMAGE_SRC","SET_VIDEO_DATA_ENCODING","SET_VIDEO_DATA_DECODING","SET_HARDWARE_ACCELERATION_STATE","SET_VIDEO_CAPTURE_CUSTOMIZED_OPTION","SET_NETWORK_QUALITY","SET_VIDEO_CAMERA_PTZ_CAPABILITIES","SET_IS_CURRENT_USER_REQUEST_CAMERA_CONTROLLED","SET_IS_CURRENT_USER_CAMERA_IN_CONTROL","ADD_VIDEO_FAR_END_CAMERA_CONTROL_USER","REMOVE_VIDEO_FAR_END_CAMERA_CONTROL_USER","SET_VIDEO_PTZ_CAMERA_MOVING","SET_VIDEO_PTZ_CAMERA_VALUE","SET_IS_CONTROLLING_FAR_END_CAMERA","SET_NETWORK_QUALITY_BROADCAST_TIME","SET_IS_MASK_CONFIGED","SET_VIDEO_BACKGROUND_MODE","SET_VIDEO_MASK","SET_VIDEO_CAPTURED_DIMENSION","ADD_VIDEO_RENDERED_ENSURED_CANVAS","SET_VIDEO_MEDIA_PLAYBACK_FILE","SET_PREFETCHED_VIDEO_USER","SET_VIDEO_QOS_SUBSCRIPTION_STATUS","SET_MINI_RWG_OPTION_VALUE","ADD_VIDEO_PLAYER_ATTACHMENT","REMOVE_VIDEO_PLAYER_ATTACHMENT","SET_IS_WEB_GL2_RENDERER_TYPE","SET_IS_WEB_GPU_RENDERER_TYPE","SET_VIDEO_RENDERER_TYPE","SET_IS_VIDEO_MIRRORED","ADD_SELF_PREVIEW_VIDEO_TAG","REMOVE_SELF_PREVIEW_VIDEO_TAG","SET_VIDEO_LEADERSHIP_USER_ID","SET_IS_WEBRTC_VIDEO_CAPABLE","REMOVE_CUSTOM_VIDEO_CONSTRAINTS");var SNe=typeof global=="object"&&global&&global.Object===Object&&global,RWe=typeof self=="object"&&self&&self.Object===Object&&self,IE=SNe||RWe||Function("return this")(),zO=IE.Symbol,CNe=Object.prototype,kWe=CNe.hasOwnProperty,DWe=CNe.toString,O5=zO?zO.toStringTag:void 0,MWe=Object.prototype.toString,zwe=zO?zO.toStringTag:void 0;function x4(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":zwe&&zwe in Object(e)?(function(n){var o=kWe.call(n,O5),i=n[O5];try{n[O5]=void 0;var c=!0}catch{}var d=DWe.call(n);return c&&(o?n[O5]=i:delete n[O5]),d})(e):(function(n){return MWe.call(n)})(e)}function e4(e){return e!=null&&typeof e=="object"}function ENe(e){return typeof e=="symbol"||e4(e)&&x4(e)=="[object Symbol]"}var t4=Array.isArray,jwe=zO?zO.prototype:void 0,Wwe=jwe?jwe.toString:void 0;function wNe(e){if(typeof e=="string")return e;if(t4(e))return(function(o,i){for(var c=-1,d=o==null?0:o.length,p=Array(d);++c<d;)p[c]=i(o[c],c,o);return p})(e,wNe)+"";if(ENe(e))return Wwe?Wwe.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}var PWe=/\s/,NWe=/^\s+/;function Z6(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var LWe=/^[-+]0x[0-9a-f]+$/i,BWe=/^0b[01]+$/i,VWe=/^0o[0-7]+$/i,FWe=parseInt;function Gwe(e){if(typeof e=="number")return e;if(ENe(e))return NaN;if(Z6(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Z6(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=(function(i){return i&&i.slice(0,(function(c){for(var d=c.length;d--&&PWe.test(c.charAt(d)););return d})(i)+1).replace(NWe,"")})(e);var o=BWe.test(e);return o||VWe.test(e)?FWe(e.slice(2),o?2:8):LWe.test(e)?NaN:+e}function _Ne(e){if(!Z6(e))return!1;var n=x4(e);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"}var qwe,Kpe=IE["__core-js_shared__"],Zwe=(qwe=/[^.]+$/.exec(Kpe&&Kpe.keys&&Kpe.keys.IE_PROTO||""))?"Symbol(src)_1."+qwe:"",HWe=Function.prototype.toString;function qk(e){if(e!=null){try{return HWe.call(e)}catch{}try{return e+""}catch{}}return""}var $We=/^\[object .+?Constructor\]$/,UWe=Function.prototype,zWe=Object.prototype,jWe=UWe.toString,WWe=zWe.hasOwnProperty,GWe=RegExp("^"+jWe.call(WWe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function O4(e,n){var o=(function(i,c){return i?.[c]})(e,n);return(function(i){return!(!Z6(i)||(c=i,Zwe&&Zwe in c))&&(_Ne(i)?GWe:$We).test(qk(i));var c})(o)?o:void 0}var Pve=O4(IE,"WeakMap"),qWe=/^(?:0|[1-9]\d*)$/;function ZWe(e,n){var o=typeof e;return!!(n=n??9007199254740991)&&(o=="number"||o!="symbol"&&qWe.test(e))&&e>-1&&e%1==0&&e<n}function ANe(e,n){return e===n||e!=e&&n!=n}function TNe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991}function xNe(e){return e!=null&&TNe(e.length)&&!_Ne(e)}var KWe=Object.prototype;function ONe(e){var n=e&&e.constructor;return e===(typeof n=="function"&&n.prototype||KWe)}function Kwe(e){return e4(e)&&x4(e)=="[object Arguments]"}var INe=Object.prototype,YWe=INe.hasOwnProperty,XWe=INe.propertyIsEnumerable,RNe=Kwe((function(){return arguments})())?Kwe:function(e){return e4(e)&&YWe.call(e,"callee")&&!XWe.call(e,"callee")},kNe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ywe=kNe&&typeof module=="object"&&module&&!module.nodeType&&module,Xwe=Ywe&&Ywe.exports===kNe?IE.Buffer:void 0,tee=(Xwe?Xwe.isBuffer:void 0)||function(){return!1},gu={};gu["[object Float32Array]"]=gu["[object Float64Array]"]=gu["[object Int8Array]"]=gu["[object Int16Array]"]=gu["[object Int32Array]"]=gu["[object Uint8Array]"]=gu["[object Uint8ClampedArray]"]=gu["[object Uint16Array]"]=gu["[object Uint32Array]"]=!0,gu["[object Arguments]"]=gu["[object Array]"]=gu["[object ArrayBuffer]"]=gu["[object Boolean]"]=gu["[object DataView]"]=gu["[object Date]"]=gu["[object Error]"]=gu["[object Function]"]=gu["[object Map]"]=gu["[object Number]"]=gu["[object Object]"]=gu["[object RegExp]"]=gu["[object Set]"]=gu["[object String]"]=gu["[object WeakMap]"]=!1;var Jwe,DNe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,v6=DNe&&typeof module=="object"&&module&&!module.nodeType&&module,Ype=v6&&v6.exports===DNe&&SNe.process,Qwe=(function(){try{return v6&&v6.require&&v6.require("util").types||Ype&&Ype.binding&&Ype.binding("util")}catch{}})(),e_e=Qwe&&Qwe.isTypedArray,l1e=e_e?(Jwe=e_e,function(e){return Jwe(e)}):function(e){return e4(e)&&TNe(e.length)&&!!gu[x4(e)]},JWe=Object.prototype.hasOwnProperty,QWe=(function(e,n){return function(o){return e(n(o))}})(Object.keys,Object),e9e=Object.prototype.hasOwnProperty;function MNe(e){if(!ONe(e))return QWe(e);var n=[];for(var o in Object(e))e9e.call(e,o)&&o!="constructor"&&n.push(o);return n}function t9e(e){return xNe(e)?(function(n){var o=t4(n),i=!o&&RNe(n),c=!o&&!i&&tee(n),d=!o&&!i&&!c&&l1e(n),p=o||i||c||d,v=p?(function(x,P){for(var B=-1,z=Array(x);++B<x;)z[B]=P(B);return z})(n.length,String):[],S=v.length;for(var _ in n)!JWe.call(n,_)||p&&(_=="length"||c&&(_=="offset"||_=="parent")||d&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||ZWe(_,S))||v.push(_);return v})(e):MNe(e)}var I5=O4(Object,"create"),n9e=Object.prototype.hasOwnProperty,o9e=Object.prototype.hasOwnProperty;function G2(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var i=e[n];this.set(i[0],i[1])}}function gX(e,n){for(var o=e.length;o--;)if(ANe(e[o][0],n))return o;return-1}G2.prototype.clear=function(){this.__data__=I5?I5(null):{},this.size=0},G2.prototype.delete=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},G2.prototype.get=function(e){var n=this.__data__;if(I5){var o=n[e];return o==="__lodash_hash_undefined__"?void 0:o}return n9e.call(n,e)?n[e]:void 0},G2.prototype.has=function(e){var n=this.__data__;return I5?n[e]!==void 0:o9e.call(n,e)},G2.prototype.set=function(e,n){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=I5&&n===void 0?"__lodash_hash_undefined__":n,this};var s9e=Array.prototype.splice;function X_(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var i=e[n];this.set(i[0],i[1])}}X_.prototype.clear=function(){this.__data__=[],this.size=0},X_.prototype.delete=function(e){var n=this.__data__,o=gX(n,e);return!(o<0||(o==n.length-1?n.pop():s9e.call(n,o,1),--this.size,0))},X_.prototype.get=function(e){var n=this.__data__,o=gX(n,e);return o<0?void 0:n[o][1]},X_.prototype.has=function(e){return gX(this.__data__,e)>-1},X_.prototype.set=function(e,n){var o=this.__data__,i=gX(o,e);return i<0?(++this.size,o.push([e,n])):o[i][1]=n,this};var K6=O4(IE,"Map");function vX(e,n){var o,i,c=e.__data__;return((i=typeof(o=n))=="string"||i=="number"||i=="symbol"||i=="boolean"?o!=="__proto__":o===null)?c[typeof n=="string"?"string":"hash"]:c.map}function q2(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var i=e[n];this.set(i[0],i[1])}}function PNe(e){return e==null?"":wNe(e)}q2.prototype.clear=function(){this.size=0,this.__data__={hash:new G2,map:new(K6||X_),string:new G2}},q2.prototype.delete=function(e){var n=vX(this,e).delete(e);return this.size-=n?1:0,n},q2.prototype.get=function(e){return vX(this,e).get(e)},q2.prototype.has=function(e){return vX(this,e).has(e)},q2.prototype.set=function(e,n){var o=vX(this,e),i=o.size;return o.set(e,n),this.size+=o.size==i?0:1,this};var r9e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function t_e(e){return r9e.test(e)}var NNe="\\ud800-\\udfff",i9e="["+NNe+"]",Nve="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Lve="\\ud83c[\\udffb-\\udfff]",LNe="[^"+NNe+"]",BNe="(?:\\ud83c[\\udde6-\\uddff]){2}",VNe="[\\ud800-\\udbff][\\udc00-\\udfff]",n_e="(?:"+Nve+"|"+Lve+")?",o_e="[\\ufe0e\\ufe0f]?",a9e=o_e+n_e+"(?:\\u200d(?:"+[LNe,BNe,VNe].join("|")+")"+o_e+n_e+")*",l9e="(?:"+[LNe+Nve+"?",Nve,BNe,VNe,i9e].join("|")+")",c9e=RegExp(Lve+"(?="+Lve+")|"+l9e+a9e,"g"),u9e=function(e){var n=t_e(e=PNe(e))?(function(c){return t_e(c)?(function(d){return d.match(c9e)||[]})(c):(function(d){return d.split("")})(c)})(e):void 0,o=n?n[0]:e.charAt(0),i=n?(function(c,d,p){var v=c.length;return p=p===void 0?v:p,!d&&p>=v?c:(function(S,_,x){var P=-1,B=S.length;_<0&&(_=-_>B?0:B+_),(x=x>B?B:x)<0&&(x+=B),B=_>x?0:x-_>>>0,_>>>=0;for(var z=Array(B);++P<B;)z[P]=S[P+_];return z})(c,d,p)})(n,1).join(""):e.slice(1);return o.toUpperCase()+i};function gO(e){var n=this.__data__=new X_(e);this.size=n.size}gO.prototype.clear=function(){this.__data__=new X_,this.size=0},gO.prototype.delete=function(e){var n=this.__data__,o=n.delete(e);return this.size=n.size,o},gO.prototype.get=function(e){return this.__data__.get(e)},gO.prototype.has=function(e){return this.__data__.has(e)},gO.prototype.set=function(e,n){var o=this.__data__;if(o instanceof X_){var i=o.__data__;if(!K6||i.length<199)return i.push([e,n]),this.size=++o.size,this;o=this.__data__=new q2(i)}return o.set(e,n),this.size=o.size,this};var d9e=Object.prototype.propertyIsEnumerable,s_e=Object.getOwnPropertySymbols,h9e=s_e?function(e){return e==null?[]:(e=Object(e),(function(n,o){for(var i=-1,c=n==null?0:n.length,d=0,p=[];++i<c;){var v=n[i];o(v)&&(p[d++]=v)}return p})(s_e(e),(function(n){return d9e.call(e,n)})))}:function(){return[]};function r_e(e){return(function(n,o,i){var c=t9e(n);return t4(n)?c:(function(d,p){for(var v=-1,S=p.length,_=d.length;++v<S;)d[_+v]=p[v];return d})(c,i(n))})(e,0,h9e)}var Bve=O4(IE,"DataView"),Vve=O4(IE,"Promise"),Fve=O4(IE,"Set"),i_e="[object Map]",a_e="[object Promise]",l_e="[object Set]",c_e="[object WeakMap]",u_e="[object DataView]",f9e=qk(Bve),p9e=qk(K6),m9e=qk(Vve),g9e=qk(Fve),v9e=qk(Pve),q_=x4;(Bve&&q_(new Bve(new ArrayBuffer(1)))!=u_e||K6&&q_(new K6)!=i_e||Vve&&q_(Vve.resolve())!=a_e||Fve&&q_(new Fve)!=l_e||Pve&&q_(new Pve)!=c_e)&&(q_=function(e){var n=x4(e),o=n=="[object Object]"?e.constructor:void 0,i=o?qk(o):"";if(i)switch(i){case f9e:return u_e;case p9e:return i_e;case m9e:return a_e;case g9e:return l_e;case v9e:return c_e}return n});var d_e=IE.Uint8Array;function fJ(e){var n=-1,o=e==null?0:e.length;for(this.__data__=new q2;++n<o;)this.add(e[n])}function b9e(e,n){for(var o=-1,i=e==null?0:e.length;++o<i;)if(n(e[o],o,e))return!0;return!1}function h_e(e,n,o,i,c,d){var p=1&o,v=e.length,S=n.length;if(v!=S&&!(p&&S>v))return!1;var _=d.get(e),x=d.get(n);if(_&&x)return _==n&&x==e;var P=-1,B=!0,z=2&o?new fJ:void 0;for(d.set(e,n),d.set(n,e);++P<v;){var U=e[P],H=n[P];if(i)var K=p?i(H,U,P,n,e,d):i(U,H,P,e,n,d);if(K!==void 0){if(K)continue;B=!1;break}if(z){if(!b9e(n,(function(oe,ce){if(re=ce,!z.has(re)&&(U===oe||c(U,oe,o,i,d)))return z.push(ce);var re}))){B=!1;break}}else if(U!==H&&!c(U,H,o,i,d)){B=!1;break}}return d.delete(e),d.delete(n),B}function y9e(e){var n=-1,o=Array(e.size);return e.forEach((function(i,c){o[++n]=[c,i]})),o}function S9e(e){var n=-1,o=Array(e.size);return e.forEach((function(i){o[++n]=i})),o}fJ.prototype.add=fJ.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},fJ.prototype.has=function(e){return this.__data__.has(e)};var f_e=zO?zO.prototype:void 0,Xpe=f_e?f_e.valueOf:void 0,C9e=Object.prototype.hasOwnProperty,p_e="[object Arguments]",m_e="[object Array]",bX="[object Object]",g_e=Object.prototype.hasOwnProperty;function FNe(e,n,o,i,c){return e===n||(e==null||n==null||!e4(e)&&!e4(n)?e!=e&&n!=n:(function(d,p,v,S,_,x){var P=t4(d),B=t4(p),z=P?m_e:q_(d),U=B?m_e:q_(p),H=(z=z==p_e?bX:z)==bX,K=(U=U==p_e?bX:U)==bX,oe=z==U;if(oe&&tee(d)){if(!tee(p))return!1;P=!0,H=!1}if(oe&&!H)return x||(x=new gO),P||l1e(d)?h_e(d,p,v,S,_,x):(function(Oe,F,Me,ot,Fe,De,we){switch(Me){case"[object DataView]":if(Oe.byteLength!=F.byteLength||Oe.byteOffset!=F.byteOffset)return!1;Oe=Oe.buffer,F=F.buffer;case"[object ArrayBuffer]":return!(Oe.byteLength!=F.byteLength||!De(new d_e(Oe),new d_e(F)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ANe(+Oe,+F);case"[object Error]":return Oe.name==F.name&&Oe.message==F.message;case"[object RegExp]":case"[object String]":return Oe==F+"";case"[object Map]":var ct=y9e;case"[object Set]":var rt=1&ot;if(ct||(ct=S9e),Oe.size!=F.size&&!rt)return!1;var gt=we.get(Oe);if(gt)return gt==F;ot|=2,we.set(Oe,F);var ee=h_e(ct(Oe),ct(F),ot,Fe,De,we);return we.delete(Oe),ee;case"[object Symbol]":if(Xpe)return Xpe.call(Oe)==Xpe.call(F)}return!1})(d,p,z,v,S,_,x);if(!(1&v)){var ce=H&&g_e.call(d,"__wrapped__"),re=K&&g_e.call(p,"__wrapped__");if(ce||re){var ye=ce?d.value():d,_e=re?p.value():p;return x||(x=new gO),_(ye,_e,v,S,x)}}return!!oe&&(x||(x=new gO),(function(Oe,F,Me,ot,Fe,De){var we=1&Me,ct=r_e(Oe),rt=ct.length;if(rt!=r_e(F).length&&!we)return!1;for(var gt=rt;gt--;){var ee=ct[gt];if(!(we?ee in F:C9e.call(F,ee)))return!1}var on=De.get(Oe),nt=De.get(F);if(on&&nt)return on==F&&nt==Oe;var Mt=!0;De.set(Oe,F),De.set(F,Oe);for(var Pt=we;++gt<rt;){var st=Oe[ee=ct[gt]],vn=F[ee];if(ot)var To=we?ot(vn,st,ee,F,Oe,De):ot(st,vn,ee,Oe,F,De);if(!(To===void 0?st===vn||Fe(st,vn,Me,ot,De):To)){Mt=!1;break}Pt||(Pt=ee=="constructor")}if(Mt&&!Pt){var Nn=Oe.constructor,ho=F.constructor;Nn==ho||!("constructor"in Oe)||!("constructor"in F)||typeof Nn=="function"&&Nn instanceof Nn&&typeof ho=="function"&&ho instanceof ho||(Mt=!1)}return De.delete(Oe),De.delete(F),Mt})(d,p,v,S,_,x))})(e,n,o,i,FNe,c))}var Jpe=function(){return IE.Date.now()},E9e=Math.max,w9e=Math.min,_9e=Object.prototype.hasOwnProperty;class vg{constructor(){this.audioPlaybackUrl=void 0,this.videoPlaybackUrl=void 0,this._audioElement=void 0,this._videoElement=void 0,this.videoSrc=void 0,this.isUsingSameFile=void 0}static getInstance(){return this.instance===void 0&&(this.instance=new vg),this.instance}static destroyInstance(){if(this.instance){this.instance.stopAudioElement(),this.instance.stopVideoElement();const o=document.getElementById(Npe);var n;o&&((n=o.parentNode)===null||n===void 0||n.removeChild(o)),this.instance=void 0}}setAudioElement(n){return this._audioElement===void 0&&(this._audioElement=new Audio),new Promise(((o,i)=>{if(this.videoSrc===n.url)this._audioElement.pause(),this.isUsingSameFile=!0,this._videoElement.muted=!1,(d=this._videoElement).currentTime>0&&!d.paused&&!d.ended&&d.readyState>2?o(""):this._videoElement.play().then((()=>{o("")})).catch((()=>{i()}));else{var c;this.isUsingSameFile=!1;const p=Zo.isFirefox?"canplay":"canplaythrough",v=()=>{this._audioElement.play().then((()=>{this._audioElement.removeEventListener(p,v),o("")}))},S=()=>{this._audioElement.removeEventListener(p,v),this._audioElement.removeEventListener("error",S),i()};this._audioElement.addEventListener(p,v),this._audioElement.addEventListener("error",S),this._audioElement.src=n.url,this._audioElement.loop=!!n.loop,Mb(n.url)&&this._audioElement.setAttribute("crossorigin",""),this._audioElement.currentTime=Math.max((c=n.currentTime)!==null&&c!==void 0?c:0,1e-4),Zo.isIOSMobile&&this._audioElement.load()}var d}))}setVideoElement(n){const{isFirefox:o,isSafari:i,isIOSMobile:c}=Zo;return this._videoElement===void 0&&(this._videoElement=document.createElement("video")),new Promise(((d,p)=>{var v;this.videoSrc=n.url;const S=o?"canplay":"canplaythrough",_=()=>{this._videoElement.play().then((()=>{this._videoElement.removeEventListener(S,_),d("")}))},x=()=>{this._videoElement.removeEventListener(S,_),this._videoElement.removeEventListener("error",x),p()};this._videoElement.addEventListener(S,_),this._videoElement.addEventListener("error",x),this._videoElement.src=n.url,this.isUsingSameFile||(this._videoElement.muted=!0),this._videoElement.loop=!!n.loop,this._videoElement.currentTime=Math.max((v=n.currentTime)!==null&&v!==void 0?v:0,1e-4),this._videoElement.playsInline=!0,Mb(n.url)&&this._videoElement.setAttribute("crossorigin",""),i&&!document.getElementById(Npe)&&(this._videoElement.id=Npe,this._videoElement.setAttribute("style","position:fixed;top:-10000px;left:-10000px"),document.body.appendChild(this._videoElement)),(c||i)&&this._videoElement.load()}))}get audioElement(){return this.isUsingSameFile?this._videoElement:this._audioElement}get videoElement(){return this._videoElement}stopAudioElement(){this.isUsingSameFile?this.isUsingSameFile=!1:this._audioElement&&(this._audioElement.currentTime=0,this._audioElement.pause())}stopVideoElement(){this._videoElement&&this._videoElement.pause(),this.videoSrc=void 0}}vg.instance=void 0;const v_e=e=>4294966272&e,Qpe=e=>{let n={R:0,G:0,B:0,A:0};if(typeof e=="string"&&e.startsWith("#")){const v=e.slice(1);try{if(v.length===3){const S=Array.from(v).map((_=>_.repeat(2))).map((_=>parseInt(_,16)));n={R:S[0]/255,G:S[1]/255,B:S[2]/255,A:1}}else if(v.length===6||v.length===8){var o,i,c,d,p;const S=(o=v.match(/\S{2}/g))===null||o===void 0?void 0:o.map((_=>parseInt(_,16)));n={R:((i=S?.[0])!==null&&i!==void 0?i:0)/255,G:((c=S?.[1])!==null&&c!==void 0?c:0)/255,B:((d=S?.[2])!==null&&d!==void 0?d:0)/255,A:S!=null&&S[3]?((p=S?.[3])!==null&&p!==void 0?p:0)/255:1}}}catch{console.warn("error color representation:",e)}}else typeof e=="object"&&(n={R:e.R/255,G:e.G/255,B:e.B/255,A:e.A||1});return n};function Ete(e){let{captureWidth:n=0,captureHeight:o=0}=e||{};const{hd:i}=e||{};var c,d;return n!==0&&o!==0||(i&&Ls.isSupportSending720P()?(n=1280,o=720):(n=640,o=360)),{captureWidth:n,captureHeight:o,isCustomizedResolution:!(e==null||!e.captureWidth||!e.captureHeight||(c=n,d=o,Math.abs(Math.floor(c/d*10)-Math.floor(16/9*10))<=1))}}function HNe(e,n){return e==="default"||n.some((o=>o.deviceId===e))||[ek.Environment,ek.User,ek.Left,ek.Right].includes(e)}function c1e(e,n){if(typeof DOMMatrixReadOnly=="function"){if(e.dataset.mirrored==="1"===n)return;const o=new DOMMatrixReadOnly(getComputedStyle(e).transform).scale(-1,1).toString();e.style.transform=o,e.dataset.mirrored=n?"1":"0"}}function $Ne(e,n,o){const i=[],{video:{videoSsrc:c,activeCamera:d},meeting:{mediaFeatureOptions:p}}=n,{cameraId:v=d,videoElement:S,originalRatio:_,ptz:x,hd:P,fullHd:B,mediaFile:z,fps:U,mirrored:H,customVideoConstraints:K}=o||{};let oe;if(S!==void 0){let F=iA(S)?S:null;if(typeof S=="string"){let[Me,ot]=[document.body,S];if(S.indexOf(">")>-1){const[Fe,De]=S.split(">");Me=document.querySelector(Fe),ot=De}Me&&(F=Me.querySelector(ot))}if(!F)return[];oe=F,F.id||(F.id=aA("__ZOOM_SDK_SELF_VIDEO_@__")),H!==void 0&&c1e(F,H)}let ce=U??Bpe.Default;ce=Math.max(Bpe.Min,ce),ce=Math.min(Bpe.Max,ce);const{captureWidth:re,captureHeight:ye,isCustomizedResolution:_e}=Ete(o);if(_e)e.updateVideoHDValue(!1);else{e.updateVideoHDValue(!!P||!!B);const F=!!B&&Ls.isSupportFullHDVideo(p||"");e.updateVideoFullhdValue(F)}let Oe=Promise.resolve(v);if(z&&z.url){const F=vg.getInstance();Oe=F.setVideoElement(z).then((()=>F.videoElement))}else vg.getInstance().stopVideoElement();return Oe.then((F=>{e.startCaptureVideo(c,F,re,ye,oe,Zo.isAndroidOrIOSBrowser&&Tz.includes(F),!_&&(function(){var Me,ot;const{isAndroidOrIOSBrowser:Fe,isFirefox:De,isSafari:we}=Zo;return Fe||!((Me=navigator.mediaDevices)!==null&&Me!==void 0&&(ot=Me.getSupportedConstraints)!==null&&ot!==void 0&&ot.call(Me).aspectRatio)||De||we||EDe()})(),x,U!==void 0?ce:void 0,K)})),i.push(iNe({cameraId:v,captureWidth:re,captureHeight:ye,videoElement:typeof S=="string"?S:iA(S)?LPe(S):void 0,originalRatio:_,ptz:x,hd:P,fullHd:B,mediaFile:z,fps:U!==void 0?ce:void 0,mirrored:H,customVideoConstraints:K})),i}function UNe(e,n,o){const{max:i,min:c,step:d}=e;let p=o/100*(i-c);d&&(p=Math.min(Math.floor(p/d)*d,Math.floor(p)));let v=n+p;return v=Math.min(i,v),v=Math.max(c,v),v}function zNe(e,n){let o="",i=n;switch(e){case aO.Down:i=-n,o="tilt";break;case aO.Up:o="tilt";break;case aO.Left:i=-n,o="pan";break;case aO.Right:o="pan";break;case aO.ZoomIn:o="zoom";break;case aO.ZoomOut:i=-n,o="zoom"}return{key:o,range:i}}function u1e(e){const n=["pan","tilt","zoom"].reduce(((o,i)=>e[i]&&e[i].value!==0?{...o,[i]:e[i].value}:o),{});return(function(o){if(o==null)return!0;if(xNe(o)&&(t4(o)||typeof o=="string"||typeof o.splice=="function"||tee(o)||l1e(o)||RNe(o)))return!o.length;var i=q_(o);if(i=="[object Map]"||i=="[object Set]")return!o.size;if(ONe(o))return!MNe(o).length;for(var c in o)if(_9e.call(o,c))return!1;return!0})(n)?null:n}function jNe(e){return{pan:(e&NL.Pan)===NL.Pan,tilt:(e&NL.Tilt)===NL.Tilt,zoom:(e&NL.Zoom)===NL.Zoom}}function rk(e){return!!e||Ls.isRenderSelfViewWithVideoElement()}function b_e(e){const{errorCode:n,type:o,...i}=e??{},c={...i};let d;return n!==void 0&&Object.assign(c,{subCode:n}),o===xQ?d=at.VIDEO_NO_CAMERA:o===OQ?d=at.VIDEO_MISMATCH_CAMERA:o===IQ?d=at.VIDEO_CAMERA_PERMISSION_DENIED:o===G0e?d=at.VIDEO_ESTABLISH_STREAM_ERROR:o===RQ?d=at.VIDEO_CAMERA_TAKEN:o===W0e&&(d=at.VIDEO_VB_INITIALIZE_ERROR),Object.assign(c,{errorCode:d,type:o}),c}function y_e(e,n,o){const{video:{selfPreviewVideoList:i,customizedVideoOption:c,videoAttachments:d},meeting:{userId:p}}=o;if(rk()){const v=[];i.length>0&&i.forEach((S=>{v.push(document.getElementById(S))})),c!=null&&c.videoElement&&v.push(document.querySelector(c?.videoElement)),d&&d[`${p}`]&&d[`${p}`].forEach((S=>{var _;v.push(S==null||(_=S.render)===null||_===void 0?void 0:_.el)})),v.filter((S=>!!S)).forEach((S=>{S&&c1e(S,e)}))}else n.mirrorVideo(e)}let mE,O3;async function WNe(e,n,o){const i=aA(e),c=document.createElement("img");return c.src=n,c.id=i,c.style.display="none",Mb(n)&&c.setAttribute("crossorigin",""),await new Promise(((d,p)=>{c.onload=()=>{o&&URL.revokeObjectURL(n),d("")},c.onerror=()=>{o&&URL.revokeObjectURL(n),p("Cannot load  image.")}})),{imageId:i,imgElement:c}}async function Mz(e,n,o){if(e===Z3)return Z3;{let i=e;if(n){const c=await(function(d){return new Promise(((p,v)=>{try{mE&&O3||(mE=document.createElement("canvas"),O3=mE.getContext("2d"));const S=mE,_=O3;if(_){_.clearRect(0,0,mE.width,mE.height);const x=new Image;x.src=d,Mb(d)&&(x.crossOrigin="");const P=16/9,B=1280,z=Math.floor(B/P);S.width=B,S.height=z,x.onload=()=>{const{width:U,height:H}=x,K=H*P;if(K>U){const oe=U,ce=Math.floor(U/P),re=0,ye=(H-ce)/2;_?.drawImage(x,re,ye,oe,ce,0,0,B,z)}else{const oe=K,ce=H,re=(U-oe)/2;_.drawImage(x,re,0,oe,ce,0,0,B,z)}try{S.toBlob((oe=>{p(oe)}))}catch(oe){oe instanceof DOMException&&oe.code===DOMException.SECURITY_ERR&&console.error("Image is not from the same origin, add CORS header to solve this issue"),v(oe)}},x.onerror=U=>{v("Cannot load  image.")}}}catch(S){v(S)}}))})(e);i=URL.createObjectURL(c)}if(i){const{imageId:c,imgElement:d}=await WNe("__ZOOM_SDK_VIRTUAL_BACKGROUND_IMAGE_@__",i,!!n);return(o??document.body).appendChild(d),c}}return null}async function GNe(e,n,o){var i;const c=(i=o&&o.parentNode)!==null&&i!==void 0?i:document.body,{imageUrl:d,cropped:p,rootWidth:v,rootHeight:S}=e;let _=e;!n.video.customizedVideoOption||e.captureWidth&&e.captureHeight||(_=n.video.customizedVideoOption);const{captureWidth:x,captureHeight:P}=Ete(_),B=document.createElement("div");let z;B.style.display="none",z=d?await Mz(d,p,B):null;let U,H=aA("__ZOOM_SDK_VIRTUAL_BACKGROUND_CANVAS_@__");if(o)if(A4(o)){const K=UQ(o);K.id?H=K.id:K.id=H,U=K;try{v&&o.width!==v&&(o.width=v),S&&o.height!==S&&(o.height=S)}catch{console.warn("Cannot set the canvas width/height, and pay attention the canvas dimension is different from the setting")}}else o.setAttribute("node-id",H),o.setAttribute("media-type","preview"),U=o;else{const K=document.createElement("canvas");K.width=v??380,K.height=S??214,K.id=H,U=K,B.appendChild(K)}return c?.appendChild(B),{captureWidth:x,captureHeight:P,imageId:z,element:U,divElement:B,id:H}}async function S_e(e,n,o,i){const c=Array.isArray(e)?e:e&&[e];if(c?.length>0){mE&&O3||(mE=document.createElement("canvas"),O3=mE.getContext("2d"));const d=mE,p=O3;if(d.width=n,d.height=o,p)try{p.fillStyle="#fff",p.clearRect(0,0,n,o);for(let S=0;S<c.length;S++){const _=c[S],{type:x,x:P,y:B}=_;if(x==="rectangle"){const{width:z,height:U}=_;p.fillRect(P,B,z,U)}else if(x==="square"){const{length:z}=_;p.fillRect(P,B,z,z)}else if(x==="circle"){const{radius:z}=_;p.beginPath(),p.arc(P,B,z,0,2*Math.PI),p.fill()}else if(x==="svg"){const{svg:z,width:U,height:H}=_,K=new Image;K.src=z,Mb(z)&&(K.crossOrigin=""),await new Promise(((re,ye)=>{K.onload=()=>{re("")},K.onerror=()=>{ye()}}));const{width:oe,height:ce}=K;p.drawImage(K,0,0,oe,ce,P,B,U,H)}}const v=await new Promise((S=>{d?.toBlob((_=>{S(_)}))}));if(v){const S=URL.createObjectURL(v),{imageId:_,imgElement:x}=await WNe("__ZOOM_SDK_MASK_CLIP_@__",S,!0);return(i??document.body).appendChild(x),_}}catch(v){v instanceof DOMException&&v.code===DOMException.SECURITY_ERR&&console.error("Image is not from the same origin, add CORS header to solve this issue")}}return null}function C_e(e,n){if(e===n||e==null&&n==null)return!0;const o=Array.isArray(e)?[...e]:[e],i=Array.isArray(n)?[...n]:[n];if(o.length!==i.length)return!1;const c=(d,p)=>d.type<p.type?-1:d.type===p.type?0:1;o.sort(c),i.sort(c);for(let d=0;d<o.length;d++)if(!Dz(o[d],i[d]))return!1;return!0}function pJ(e,n,o,i){const{video:{isCurrentUserStartedVideo:c,virtualBackground:{isVBPreloadReady:d,isVBConfigured:p,imageSrc:v},backgroundMode:S},meeting:{isCurrentUserStartVideoBeforeReset:_,isUseWBVideo:x}}=o;return dc((function(P){return P!==void 0?Kn([P]):wa(kQ,1).pipe(So((B=>B)))})(d)).then((P=>{if(P){if(i||!p&&e.imageUrl!==Z3&&e.imageUrl){if(A4(i)){if(x)return Promise.reject({reason:"When you are in a WebRTC Video meeting, please use VideoPlayer to preview the virtual background.",errorCode:at.STREAM_MISMATCH_RENDER_ELEMENT});console.warn("The canvas element will be deprecated. Please use the Videoplayer element to preview the virtual background.")}return(async function(B,z,U,H){const{element:K,imageId:oe,captureHeight:ce,captureWidth:re,divElement:ye,id:_e}=await GNe(B,U,H),{cameraId:Oe}=B,{video:{videoSsrc:F,activeCamera:Me}}=U;return z.startVirtualBackgroundSetting(K,oe,F,Oe??Me,re,ce,void 0,_e),ye})(e,n,o,i).then((B=>c?ZQ(!0):dc(wa(Zge,1)).then((z=>{var U;return i||n.stopVirtualBackgroundSetting(),z?(B==null||(U=B.parentNode)===null||U===void 0||U.removeChild(B),!0):Promise.reject({reason:"Cannot access the virtual background image.",errorCode:at.VIDEO_VB_IMAGE_INACCESSIBLE})}))))}return v===e.imageUrl&&S===Ch.VirtualBackground&&!_||(async function(B,z,U){const{imageUrl:H,cropped:K}=B;if(H){const oe=await Mz(H,K);oe&&(U.video.backgroundMode===Ch.Mask&&(z.stopMaskSetting(!0),await vte((()=>{z.stopVirtualBackgroundSetting()}),0)),z.updateVirtualBackgroundImage(oe),oe!==Z3&&setTimeout((()=>{H6(oe)}),0))}else z.updateVirtualBackgroundImage(null)})(e,n,o)}return Promise.reject({reason:"Cannot load virtual background model.",errorCode:at.VIDEO_VB_MISMATCH_STATE})}))}function mJ(e,n,o,i){const{video:{mask:{isMaskConfigured:c,imageSrc:d,clip:p},backgroundMode:v,isCurrentUserStartedVideo:S},meeting:{isCurrentUserStartVideoBeforeReset:_}}=o;return i||!c&&e.imageUrl?(async function(x,P,B,z){const{element:U,imageId:H,captureHeight:K,captureWidth:oe,divElement:ce}=await GNe(x,B,z),{cameraId:re,clip:ye,rootWidth:_e=1280,rootHeight:Oe=720}=x,F=ye?await S_e(ye,_e,Oe,ce):null,{video:{videoSsrc:Me,activeCamera:ot}}=B;return F?(P.startMaskSetting(U,H,F,Me,re??ot,_e,Oe,oe,K),ce):Promise.reject({reason:"Clip is empty",errorCode:at.VIDEO_MASK_IMAGE_INACCESSIBLE})})(e,n,o,i).then((x=>S?eee(!0):dc(wa(Qge,1)).then((P=>{var B;return i||n.stopMaskSetting(),P?(x==null||(B=x.parentNode)===null||B===void 0||B.removeChild(x),!0):Promise.reject({reason:"Cannot set video mask",errorCode:at.VIDEO_MISMATCH_STATE})})))):v===Ch.Mask&&e.imageUrl===d&&C_e(e.clip,p)&&!_?Promise.resolve(!0):(async function(x,P,B){const{imageUrl:z,cropped:U,clip:H,rootWidth:K,rootHeight:oe}=x,{video:{mask:{imageSrc:ce,cropped:re,clip:ye},backgroundMode:_e}}=B;if(z){if(_e===Ch.VirtualBackground&&(P.stopVirtualBackgroundSetting(!0),await vte((()=>{P.stopMaskSetting()}),0)),z!==ce||U!==re){const Oe=await Mz(z,U);Oe&&(P.updateMaskBackgroundImage(Oe),setTimeout((()=>{H6(Oe)}),0))}if((!C_e(H,ye)||!ce)&&H&&K&&oe){const Oe=await S_e(H,K,oe);Oe&&(P.updateMaskClip(Oe,K,oe),setTimeout((()=>{H6(Oe)}),0))}}else P.updateMaskBackgroundImage(null),P.updateMaskClip(null,K,oe)})(e,n,o)}var ll,Y6;(function(e){e[e.ADD_RENDER_VIDEO=1]="ADD_RENDER_VIDEO",e[e.STOP_RENDER_VIDEO=2]="STOP_RENDER_VIDEO",e[e.START_SHARING=23]="START_SHARING",e[e.STOP_SHARING=24]="STOP_SHARING",e[e.ZOOM_SHARING=140]="ZOOM_SHARING",e[e.START_SHARE_PREVIEW=37]="START_SHARE_PREVIEW",e[e.STOP_SHARE_PREVIEW=38]="STOP_SHARE_PREVIEW",e[e.SWITCH_CANVAS_FOR_VIDEO_CAPTURE=25]="SWITCH_CANVAS_FOR_VIDEO_CAPTURE",e[e.UPDATE_SHARING_DECODE_PARAM=44]="UPDATE_SHARING_DECODE_PARAM",e[e.UPDATE_CANVAS_SIZE=46]="UPDATE_CANVAS_SIZE",e[e.ZOOM_RENDER=48]="ZOOM_RENDER",e[e.UPDATE_SETTING_CANVAS_SIZE=52]="UPDATE_SETTING_CANVAS_SIZE",e[e.REMOVE_EXPIRED_CANVAS=76]="REMOVE_EXPIRED_CANVAS",e[e.WEBGL_LOST_REPLACE_CANVAS=77]="WEBGL_LOST_REPLACE_CANVAS",e[e.UPDATE_VIDEO_QUALITY=78]="UPDATE_VIDEO_QUALITY",e[e.SEND_RENDER_LOG=79]="SEND_RENDER_LOG",e[e.ADD_VIDEO_VB_SETTING_DOM=102]="ADD_VIDEO_VB_SETTING_DOM",e[e.REMOVE_VIDEO_VB_SETTING_DOM=103]="REMOVE_VIDEO_VB_SETTING_DOM",e[e.UPDATE_BORDER_RADIUS=104]="UPDATE_BORDER_RADIUS"})(ll||(ll={})),(function(e){e[e.WEBGL_LOST_IN_MULTI_VIEW=-32]="WEBGL_LOST_IN_MULTI_VIEW",e[e.MOBILE_CAPTURE_DEVICE_CHANGE=135]="MOBILE_CAPTURE_DEVICE_CHANGE",e[e.SELF_PREVIEW_WATERMARK_CHANGE=139]="SELF_PREVIEW_WATERMARK_CHANGE"})(Y6||(Y6={}));const X6="default-sesssion-key";var I3,E_e,w_e,J_,yE;(function(e){e.Video="video",e.Share="share",e.Preview="preview"})(I3||(I3={})),(function(e){e.DEFAULT="",e.MAIN="main"})(E_e||(E_e={})),(function(e){e.Video_90P="0",e.Video_180P="1",e.Video_360P="2",e.Video_720P="3",e.Video_1080P="4"})(w_e||(w_e={})),(function(e){e[e.Unknown=0]="Unknown",e[e.VideoTag=1]="VideoTag",e[e.WebGL=2]="WebGL",e[e.WebGL2=3]="WebGL2",e[e.WebGPU=4]="WebGPU"})(J_||(J_={})),(function(e){e.Debounce="debounce",e.Throttle="throttle",e.None="none"})(yE||(yE={}));const Jh=new class{constructor(){this.state={mediaSDK:void 0,mediaSDKInstanceMap:new Map,tagName:"video-player",renderCountMap:new Map},this.onceMap=new WeakMap,this.subscribers=[]}get(e){return this.state[e]}dispatch(e,n,o){n&&Object.assign(this.state,n),e&&this.notifySubscribers(e,o)}subscribe(e){return this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);n!==-1&&this.subscribers.splice(n,1)}}once(e,n){this.onceMap.set(n,{event:e,unSubscribe:this.subscribe(n)})}notifySubscribers(e,n){const o=[];this.subscribers.forEach((i=>{i(e,this.state,n);const c=this.onceMap.get(i);if(c){const{event:d,unSubscribe:p}=c;d===e&&(o.push(p),this.onceMap.delete(i))}})),o.forEach((i=>i()))}};function BL(e,n,o,i,c,d=!1){const p=document.createElement("canvas");p.id=i;const v=YNe(p,e,n);return c(`VPISC:${window.devicePixelRatio},${v}`),p.style.position="absolute",p.style.left="0px",p.style.top="0px",p.style.width=e+"px",p.width=e*xO(p),p.style.height=n+"px",p.height=n*xO(p),p.style.zIndex=o,d||(p.style.pointerEvents="none",p.ariaHidden="true"),p}function Ux(e,n,o=!0,i=window,c){c?.("VPACE:"+e?.id+":"+(i!==window));const d=()=>{if(e){Jh.dispatch("resize",void 0,e.id),YNe(e,n.clientWidth,n.clientHeight),o&&[ll.UPDATE_CANVAS_SIZE,ll.UPDATE_SHARING_DECODE_PARAM].forEach((P=>{var B,z;(z=xS((B=n?.getSessionId)===null||B===void 0?void 0:B.call(n)))===null||z===void 0||z.Notify_MeidaSDK(P,{width:n.clientWidth*xO(e),height:n.clientHeight*xO(e),canvas:e})})),e.style.width=n.clientWidth+"px",e.style.height=n.clientHeight+"px";try{e.width=n.clientWidth*xO(e),e.height=n.clientHeight*xO(e)}catch{}}},p=Hve(d,300),v=(function(P){let B,z=0;return function(...U){const H=Date.now(),K=H-z;!z||K>=300?(P(...U),z=H):B||(B=setTimeout((()=>{P(...U),z=Date.now(),B=null}),300-K))}})(d),S=()=>{var P;switch(((P=n?.getResizeStrategy)===null||P===void 0?void 0:P.call(n))||yE.Debounce){case yE.Debounce:p();break;case yE.Throttle:v();break;case yE.None:d();break;default:p()}},_=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),x=new i.ResizeObserver(S);return _.addEventListener("change",S),x.observe(n),()=>{c?.("VPRCE:"+e?.id+":"+(i!==window)),(function(P){nee.delete(P)})(e),x?.disconnect(),_.removeEventListener("change",S)}}function qNe(e,n){Object.defineProperties(e,n.reduce(((o,i)=>(o[i]={get:()=>e.getAttribute(i),set:c=>{c?e.setAttribute(i,c):e.removeAttribute(i)}},o)),{}))}function ZNe(e,n){Object.entries(n).forEach((([o,i])=>{e.getAttribute(o)||e.setAttribute(o,i)}))}function __e(e,n){const o=e.getAttribute(n);return!(!o||o!=="true")}function xS(e=X6){var n;return(n=Jh.get("mediaSDKInstanceMap").get(e))===null||n===void 0?void 0:n()}function I4(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();let e=new Date().getTime(),n=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(o=>{let i=16*Math.random();return e>0?(i=(e+i)%16|0,e=Math.floor(e/16)):(i=(n+i)%16|0,n=Math.floor(n/16)),(o==="x"?i:3&i|8).toString(16)}))}function Hve(e,n){let o;return function(...i){clearTimeout(o),o=setTimeout((()=>{e(...i)}),n)}}function KNe(e,n){const o=Object.keys(e),i=Object.keys(n);if(o.length!==i.length)return!1;for(const c of o){const d=e[c],p=n[c];if(typeof d=="object"&&typeof p=="object"){if(!KNe(d,p))return!1}else if(d!==p)return!1}return!0}function zx(e){return!e||e==="0"}const nee=new Map;function YNe(e,n,o){const i=n>=2*window.screen.width||o>=2*window.screen.height?1:window.devicePixelRatio,c=nee.get(e);return nee.set(e,i),c&&c!==i&&Jh.dispatch("scale",void 0,e.id),i}function xO(e){return e&&nee.get(e)||window.devicePixelRatio}function Vf(e,n){n&&e?.Notify_MeidaSDK(ll.SEND_RENDER_LOG,{message:n})}function A_e(e,n){const o=Jh.get("renderCountMap"),i=o.get(e)||0;o.set(e,n?i+1:i-1)}function T_e(){return window.self!==window.top?window.top:window.self}function x_e(e){const n=U=>{const H=U.match(/^(\d+(?:\.\d+)?)(px|%)?$/);return H?{value:parseFloat(H[1]),unit:H[2]||"px"}:{value:0,unit:"px"}},o=e.split(/[\s\/]+/).filter((U=>U));let i=[],c=[];e.includes("/")?[i,c]=e.split("/").map((U=>U.trim().split(/\s+/))):(i=[...o],c=[...o]);const d=U=>{switch(U.length){case 1:return[U[0],U[0],U[0],U[0]];case 2:return[U[0],U[1],U[0],U[1]];case 3:return[U[0],U[1],U[2],U[1]];case 4:return U;default:return["0","0","0","0"]}},[p,v,S,_]=d(i).map(n),[x,P,B,z]=d(c).map(n);return{topLeft:{x:p,y:x},topRight:{x:v,y:P},bottomRight:{x:S,y:B},bottomLeft:{x:_,y:z}}}function eme(e,n){const{left:o,top:i,bottom:c,right:d,width:p,height:v}=e.getBoundingClientRect(),S=n.getBoundingClientRect();return{left:o-S.left,top:i-S.top,bottom:S.bottom-c,right:S.right-d,width:p,height:v}}const XNe=[];for(let e=0;e<=1;e+=.01)XNe.push(e);let wte=class{constructor(e,n){var o;if(this.getRenderParams=n,this.el=document.createElement("div"),this.position=null,this.id="",this.srcObject=null,this.removePositionObserve=null,this.viewId=`${Jh.get("tagName")}-${I4()}`,this.borderRadius=null,this.getSDK=()=>{var i,c;return xS((c=(i=this.container)===null||i===void 0?void 0:i.getSessionId)===null||c===void 0?void 0:c.call(i))},!e)throw new Error(`The ${Jh.get("tagName")} must have a ${Jh.get("tagName")}-container as its ancestor element.`);this.container=e,this.el.style.width="100%",this.el.style.height="100%",this.debounceUpdateVideoPosition=((o=e?.getResizeStrategy)===null||o===void 0?void 0:o.call(e))!==yE.None?Hve(this.updateVideoPosition.bind(this),300):this.updateVideoPosition.bind(this)}getElement(){return this.el}init(e){e?.borderRadius&&(this.borderRadius=e?.borderRadius),this.removeSubscribe=Jh.subscribe(((n,o,i)=>{i===this.getCanvas().id&&(n==="resize"?(this.updateVideoPosition(),setTimeout((()=>{this.updateVideoPosition()}),300)):n==="scale"&&Vf(this.getSDK(),`VPSC:${xO(this.getCanvas())}`))}))}getCanvas(){return this.container.getCanvas()}initObservePosition(){var e,n;this.stopObservePosition(),this.removePositionObserve=(function(o,i,c={}){const{wrapper:d=document.documentElement}=c,p=c.strategy===yE.None?i:Hve(i,300);let v,S;const _=(x=.9999999,P=!1)=>{v&&(v.disconnect(),v=null);const{top:B,left:z,width:U,height:H,right:K,bottom:oe}=eme(o,d);if(!U||!H)return void i({hide:!0,cross:!1,width:0,height:0,top:0,left:0,bottom:0,right:0});const ce=B<0||oe<0||z<0||K<0,re=((F,Me,ot,Fe,De,we)=>F<=0&&F+we<=0||Me<=0&&Me+we<=0||ot<=0&&ot+De<=0||Fe<=0&&Fe+De<=0)(B,oe,z,K,U,H),ye={root:d,threshold:ce?XNe:x};ce||(ye.rootMargin=`${-B}px ${-K}px ${-oe}px ${-z}px`);let _e=!0,Oe=!0;P&&(Oe=!1),i({hide:re,cross:ce,top:B,left:z,width:U,height:H,bottom:oe,right:K}),p({hide:re,cross:ce,top:B,left:z,width:U,height:H,bottom:oe,right:K},!0),v=new IntersectionObserver((([F])=>{if(F.intersectionRatio===0)return Oe?_(.9999999,!0):void 0;if(x!==F.intersectionRatio){if(!_e)return _();_(F.intersectionRatio===0?1e-7:F.intersectionRatio)}F.intersectionRatio===1&&ce&&_(),_e=!1}),ye),v.observe(o)};return _(),S=new ResizeObserver((()=>_())),S.observe(o),()=>{v?.disconnect(),v=null,S?.disconnect(),S=null}})(this.el,((o,i)=>{i?setTimeout((()=>{this.updateVideoPosition()}),300):this.debounceUpdateVideoPosition(o)}),{wrapper:this.container,strategy:((n=(e=this.container)===null||e===void 0?void 0:e.getResizeStrategy)===null||n===void 0?void 0:n.call(e))||yE.Debounce})}stopObservePosition(){this.removePositionObserve&&(this.removePositionObserve(),this.removePositionObserve=null)}getCurrentPosition(e){return this.transformRectToPosition(eme(e,this.container))}transformRectToPosition(e){const{left:n,width:o,height:i,bottom:c,top:d}=e,p=xO(this.getCanvas());return{x:n*p,y:c*p,width:o*p,height:i*p,left:n*p,bottom:c*p,top:d*p}}playVideo(e){this.initObservePosition(),typeof e=="string"?this.id=e:this.srcObject=e;const n=this.getCurrentPosition(this.el);this.addRender(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),{canvas:this.getCanvas(),zone:this.viewId,userId:Number(this.id),ssrc:Number(this.id)}),this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{}),this.borderRadius?{borderRadius:this.borderRadius}:{})),this.position=n}updateVideoPosition(e){if(!this.id&&!this.srcObject)return;const n=this.transformRectToPosition(e||eme(this.el,this.container));this.position&&KNe(n,this.position)||(this.zoomRender(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),{userId:Number(this.id),canvas:this.getCanvas(),RGBA:this.container.getRGBA(),zone:this.viewId}),this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{}),this.borderRadius?{borderRadius:this.borderRadius}:{})),this.position=n)}stopVideo(){this.stopObservePosition(),(this.id||this.srcObject)&&this.position&&((this.id||this.srcObject)&&this.stopRender(Object.assign(Object.assign(Object.assign(Object.assign({},this.position),{userId:Number(this.id),canvas:this.getCanvas(),RGBA:this.container.getRGBA(),zone:this.viewId}),this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{})),this.position=null,this.id="",this.srcObject=null)}updateVideoQuality(e){var n;this.id&&((n=this.getSDK())===null||n===void 0||n.Notify_MeidaSDK(ll.UPDATE_VIDEO_QUALITY,{userId:this.id,videoQuality:e}))}updateBorderRadius(e){var n;this.borderRadius=e,this.id&&((n=this.getSDK())===null||n===void 0||n.Notify_MeidaSDK(ll.UPDATE_BORDER_RADIUS,{userId:Number(this.id),zone:this.viewId,data:e}))}refresh(){this.debounceUpdateVideoPosition()}destroy(){var e;this.borderRadius=null,this.stopVideo(),(e=this.removeSubscribe)===null||e===void 0||e.call(this)}},_te=class{constructor(e){this.container=e,this.id="",this.srcObject=null,this.viewId=`${Jh.get("tagName")}-${I4()}`,this.getSDK=()=>{var n,o;return xS((o=(n=this.container)===null||n===void 0?void 0:n.getSessionId)===null||o===void 0?void 0:o.call(n))},this.el=this.createVideoElement()}createVideoElement(){const e=document.createElement("video");return e.style.width="100%",e.style.height="100%",e.style.borderRadius="inherit",e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.muted=!0,e.setAttribute("playsinline","true"),e}replaceVideoElement(e){const n=this.createVideoElement();e.replaceWith(n),setTimeout((()=>{e.srcObject=null}),50),this.el=n}getElement(){return this.el}init(){}playVideo(e){typeof e=="string"?this.id=e:this.srcObject=e,this.addRender(Object.assign({id:this.id,zone:this.viewId,userId:Number(this.id),videodom:this.el},this.srcObject?{srcObject:this.srcObject}:{}))}stopVideo(){var e;(this.id||this.srcObject)&&(this.stopRender(Object.assign({id:this.id,zone:this.viewId,userId:Number(this.id),videodom:this.el},this.srcObject?{srcObject:this.srcObject}:{})),!((e=this.getSDK())===null||e===void 0)&&e.getWebRTCFlag()&&this.replaceVideoElement(this.el),this.id="",this.srcObject=null)}updateVideoQuality(e){}destroy(){this.stopVideo()}},A9e=class{constructor(e){this.container=e,this.id="",this.srcObject=null,this.getSDK=()=>{var n,o;return xS((o=(n=this.container)===null||n===void 0?void 0:n.getSessionId)===null||o===void 0?void 0:o.call(n))},this.resizeObserver=new ResizeObserver((([n])=>{var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(ll.UPDATE_SETTING_CANVAS_SIZE,{canvas:this.el,width:n.target.clientWidth,height:n.target.clientHeight});try{this.el.width=n.target.clientWidth,this.el.height=n.target.clientHeight}catch{}})),this.el=document.createElement("canvas"),this.el.id=I4(),this.el.style.borderRadius="inherit",this.el.style.width="100%",this.el.style.height="100%"}getElement(){return this.el}init(){this.el.parentElement&&(this.el.width=this.el.parentElement.clientWidth,this.el.height=this.el.parentElement.clientHeight,this.resizeObserver.observe(this.el.parentElement))}playVideo(e){typeof e=="string"?this.id=e:this.srcObject=e,this.addRender({id:this.id,canvas:this.el})}stopVideo(){(this.id||this.srcObject)&&(this.stopRender({id:this.id,canvas:this.el}),this.id="",this.srcObject=null)}updateVideoQuality(e){}destroy(){var e,n,o;this.stopVideo(),this.resizeObserver.disconnect(),(o=xS((n=(e=this.container)===null||e===void 0?void 0:e.getSessionId)===null||n===void 0?void 0:n.call(e)))===null||o===void 0||o.Notify_MeidaSDK(ll.REMOVE_EXPIRED_CANVAS,{canvasId:this.el.id})}},d1e=class{constructor(e,n,o){this.id="",this.srcObject=null,this.viewId=`${Jh.get("tagName")}-${I4()}`,this.ssrcStream=null,this.videoElement=null,this.cursorElement=null,this.hasCursorLayer=!1,this.cursorTransform={tx:0,ty:0,scale:1},this.mirrorState=!1,this.rotation="rot0",this.scale=1,this.containerCssWidth=void 0,this.containerCssHeight=void 0,this.videoWidth=void 0,this.videoHeight=void 0,this.getSDK=()=>{var i,c;return xS((c=(i=this.container)===null||i===void 0?void 0:i.getSessionId)===null||c===void 0?void 0:c.call(i))},this.container=e,this.getRenderParams=n,this.renderMode=o,this.containerElement=this.createDivElement(),this.resizeObserver=new ResizeObserver((([i])=>{this.containerCssWidth=i.target.clientWidth,this.containerCssHeight=i.target.clientHeight,this.ssrcStream&&this.ssrcStream.updateDesiredSize({width:this.containerCssWidth,height:this.containerCssHeight}),this.rotation!=="rot90"&&this.rotation!=="rot270"||this._doRotateVideoContent(this.rotation),this.hasCursorLayer&&this._updateCursorTransform()}))}init(){}destroy(){this.stopVideo()}createDivElement(){const e=document.createElement("div");return e.style.width="100%",e.style.height="100%",e.style.borderRadius="inherit",e}getElement(){return this.containerElement}getAnnoCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getAnnoCanvas()}getPreviewCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getPreviewCanvas()}getLocalShareCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getLocalShareCanvas()}playVideo(e){this.stopVideo(),typeof e=="string"?this.id=e:this.srcObject=e;let n=0;this.renderMode!=="vb"&&(n=Number(this.id));const o=getComputedStyle(this.getElement()),i=parseFloat(o.width),c=parseFloat(o.height);this.addVideoElement(),this.ssrcStream=this.createSsrcStream(n,this.videoElement,{width:i,height:c}),this.videoElement.srcObject=this.ssrcStream.mediaStream,this.resizeObserver.observe(this.containerElement),this.addRender(Object.assign(Object.assign({id:this.id,x:0,y:0,width:i,height:c,left:0,top:0,bottom:c,canvas:this.containerElement,zone:this.viewId,userId:Number(this.id),ssrc:Number(this.id)},this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{}))}stopVideo(){var e;if(!this.id&&!this.srcObject)return;const n=getComputedStyle(this.getElement()),o=parseFloat(n.width),i=parseFloat(n.height);this.clear(),this.stopRender(Object.assign(Object.assign({id:this.id,x:0,y:0,width:o,height:i,left:0,top:0,bottom:i,userId:Number(this.id),canvas:this.containerElement,RGBA:(e=this.container)===null||e===void 0?void 0:e.getRGBA(),zone:this.viewId},this.getRenderParams()),this.srcObject?{srcObject:this.srcObject}:{})),this.id="",this.srcObject=null}updateVideoQuality(e){}clear(){this.removeVideoElement(),this.removeCursorElement(),this.resizeObserver.disconnect(),this.containerCssWidth=void 0,this.containerCssHeight=void 0,this.ssrcStream&&(this.ssrcStream.stop(),this.ssrcStream=null)}addVideoElement(){this.removeVideoElement();const e=document.createElement("video");e.style.width="100%",e.style.height="100%",e.style.borderRadius="inherit",e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.muted=!0,e.setAttribute("playsinline","true"),this.containerElement.appendChild(e);const n=getComputedStyle(this.containerElement);this.containerCssWidth=parseFloat(n.width),this.containerCssHeight=parseFloat(n.height),this.videoElement=e}removeVideoElement(){if(this.videoElement===null)return;this.videoElement.remove();const e=this.videoElement;setTimeout((()=>{e.srcObject=null}),50),this.videoElement=null}addCursorElement(){this.removeCursorElement();const e=document.createElement("canvas");return e.style.borderRadius="inherit",e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.visibility="hidden",this.containerElement.appendChild(e),this.cursorElement=e,this.hasCursorLayer=!0,this._updateCursorTransform(),e}removeCursorElement(){const e=this.cursorElement;e!==null&&(e.remove(),this.cursorElement=null,this.hasCursorLayer=!1)}createSsrcStream(e,n,o){const i=this.getSDK().createSsrcStreamWithRender(e,n,this.renderMode,o);return i.on("addCursorTrack",(c=>{this.addCursorElement(),i.cursorTrack.renderTarget=this.cursorElement,c.on("cursorMove",(d=>{this.onCursorMove(d)}))})),i.metaTrack.on("videoRotationChange",(c=>{this.handleVideoRotated(c)})),i.metaTrack.on("videoMirrorChange",(c=>{this.handleMirrorStateChanged(c)})),i.metaTrack.on("videoSizeChange",((c,d)=>{this.handleVideoSizeChanged(c,d)})),i}_updateCursorTransform(){this.videoWidth&&this.containerCssWidth&&(this.cursorTransform.scale=this.containerCssWidth/this.videoWidth)}onCursorMove(e){if(!this.videoWidth||!this.containerCssWidth)return;this.getSDK().base.assertion.assert(this.cursorElement!==null);const n=this.cursorElement;n.style.visibility="visible";const o=this.cursorTransform.scale;n.style.top=e.y*o+"px",n.style.left=e.x*o+"px",n.style.width=e.width*o+"px",n.style.height=e.height*o+"px"}_doRotateVideoContent(e){const n={rot0:0,rot90:90,rot180:180,rot270:270}[e];this.getSDK().base.assertion.assert(this.videoElement!==null);const o=this.videoElement;let i=o.style.transform;const c=`rotate(${n}deg)`;i.includes("rotate")?i=i.replace(/rotate\([0-9]+(deg)?\)/,c):i+=` ${c}`,o.style.transform=i,o.style.transformOrigin="center";let d=1;if((e==="rot90"||e==="rot270")&&this.videoWidth&&this.videoHeight){const v=this.videoHeight/this.videoWidth,S=this.containerCssWidth,_=this.containerCssHeight;if(d=_/S,S>_){const x=v/(_/S);x>1&&(d*=x)}else{const x=v/(S/_);x>1&&(d/=x)}}const p=this.mirrorState?-1:1;this._scaleVideoContent(p*d,d),this.scale=d,this.rotation=e}handleVideoRotated(e){this.rotation!==e&&this._doRotateVideoContent(e)}handleMirrorStateChanged(e){const n=e?-1:1,o=this.scale;this._scaleVideoContent(n*o,o),this.mirrorState=e}_scaleVideoContent(e,n){this.getSDK().base.assertion.assert(this.videoElement!==null);const o=this.videoElement;let i=o.style.transform;const c=`scaleX(${e})`;i.includes("scaleX")?i=i.replace(/scaleX\(-?([0-9]+(\.[0-9]*)?)\)/,c):i+=c;const d=`scaleY(${n})`;i.includes("scaleY")?i=i.replace(/scaleY\(-?([0-9]+(\.[0-9]*)?)\)/,d):i+=d,o.style.transform=i,o.style.transformOrigin="center"}handleVideoSizeChanged(e,n){this.videoWidth===e&&this.videoHeight===n||(this.videoWidth=e,this.videoHeight=n,this.rotation!=="rot90"&&this.rotation!=="rot270"||this._doRotateVideoContent(this.rotation),this.hasCursorLayer&&this._updateCursorTransform())}};class T9e extends d1e{constructor(n,o){super(n,o,"normal")}addRender({width:n,height:o,x:i,y:c,canvas:d,zone:p,userId:v,left:S,bottom:_,top:x,fillMode:P,videoQuality:B}){var z;(z=this.getSDK())===null||z===void 0||z.Notify_MeidaSDK(ll.ADD_RENDER_VIDEO,{width:n,height:o,x:i,y:c,canvas:d,zone:p,userId:v,left:S,bottom:_,top:x,fillMode:P,videoQuality:B})}stopRender({width:n,height:o,x:i,y:c,userId:d,canvas:p,doNotClean:v,RGBA:S,zone:_,left:x,bottom:P,top:B,videoQuality:z}){var U;(U=this.getSDK())===null||U===void 0||U.Notify_MeidaSDK(ll.STOP_RENDER_VIDEO,{width:n,height:o,x:i,y:c,userId:d,canvas:p,doNotClean:v,RGBA:S,zone:_,left:x,bottom:P,top:B,videoQuality:z})}}let x9e=class extends d1e{constructor(e,n){super(e,n,"sharing")}addRender({width:e,height:n,canvas:o,ssrc:i}){var c,d;(c=this.getSDK())===null||c===void 0||c.Notify_MeidaSDK(ll.START_SHARING,Object.assign({width:e,height:n,canvas:o,ssrc:i,annoCanvas:this.getAnnoCanvas(),annoPresenterCanvas:this.getPreviewCanvas(),localShareCanvas:this.getLocalShareCanvas()},(d=this.getRenderParams)===null||d===void 0?void 0:d.call(this)))}stopRender({canvas:e}){var n;(n=this.getSDK())===null||n===void 0||n.Notify_MeidaSDK(ll.STOP_SHARING,{canvas:e})}},O9e=class extends d1e{constructor(e,n){super(e,n,"vb")}addRender({id:e,canvas:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(ll.ADD_VIDEO_VB_SETTING_DOM,{id:e,canvas:n})}stopRender({id:e,canvas:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(ll.REMOVE_VIDEO_VB_SETTING_DOM,{id:e,canvas:n})}},I9e=class extends wte{addRender({width:e,height:n,x:o,y:i,canvas:c,zone:d,userId:p,left:v,bottom:S,top:_,fillMode:x,videoQuality:P}){var B;this.getSDK()&&(A_e(this.container,!0),(function(z){var U,H;const K=Jh.get("renderCountMap").get(z)||0,oe=((H=(U=JsMediaSDK_Instance==null?void 0:JsMediaSDK_Instance.util)===null||U===void 0?void 0:U.getMaxCountRender)===null||H===void 0?void 0:H.call(U))||25,ce=K>=0&&K<=oe,re=Jh.get("tagName");ce||console.error(`In your environment, the maximum number of ${re} that can be accommodated in each ${re}-container is ${oe}. The current number has exceeded this limit, which may cause video rendering issues.`)})(this.container)),(B=this.getSDK())===null||B===void 0||B.Notify_MeidaSDK(ll.ADD_RENDER_VIDEO,{width:e,height:n,x:o,y:i,canvas:c,zone:d,userId:p,left:v,bottom:S,top:_,fillMode:x,videoQuality:P})}zoomRender({width:e,height:n,x:o,y:i,userId:c,canvas:d,RGBA:p,zone:v,left:S,bottom:_,top:x}){var P;(P=this.getSDK())===null||P===void 0||P.Notify_MeidaSDK(ll.ZOOM_RENDER,{width:e,height:n,x:o,y:i,userId:c,canvas:d,RGBA:p,zone:v,left:S,bottom:_,top:x})}stopRender({width:e,height:n,x:o,y:i,userId:c,canvas:d,doNotClean:p,RGBA:v,zone:S,left:_,bottom:x,top:P,videoQuality:B}){var z;this.getSDK()&&A_e(this.container,!1),(z=this.getSDK())===null||z===void 0||z.Notify_MeidaSDK(ll.STOP_RENDER_VIDEO,{width:e,height:n,x:o,y:i,userId:c,canvas:d,doNotClean:p,RGBA:v,zone:S,left:_,bottom:x,top:P,videoQuality:B})}};class R9e extends _te{addRender({userId:n,videodom:o,zone:i}){var c;(c=this.getSDK())===null||c===void 0||c.Notify_MeidaSDK(ll.ADD_RENDER_VIDEO,{userId:n,videodom:o,zone:i})}stopRender({userId:n,videodom:o,zone:i}){var c;(c=this.getSDK())===null||c===void 0||c.Notify_MeidaSDK(ll.STOP_RENDER_VIDEO,{userId:n,videodom:o,zone:i})}}let k9e=class extends wte{constructor(){super(...arguments),this.ismain=!1}getAnnoCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getAnnoCanvas()}getPreviewCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getPreviewCanvas()}getLocalShareCanvas(){return this.container.getLocalShareCanvas()}addRender({x:e,y:n,width:o,height:i,userId:c,canvas:d,isFromMainSession:p,zone:v}){var S;this.ismain=!!p,(S=this.getSDK())===null||S===void 0||S.Notify_MeidaSDK(ll.START_SHARING,{width:o,height:i,x:e,y:n,ssrc:c,isFromMainSession:p,canvas:d,zone:v,annoCanvas:this.getAnnoCanvas()})}zoomRender({x:e,y:n,width:o,height:i,userId:c,canvas:d,zone:p,RGBA:v,isFromMainSession:S}){var _;(_=this.getSDK())===null||_===void 0||_.Notify_MeidaSDK(ll.ZOOM_SHARING,{width:o,height:i,x:e,y:n,ssrc:c,zone:p,canvas:d,RGBA:v,isFromMainSession:S})}stopRender({canvas:e,userId:n,zone:o,isFromMainSession:i}){var c;(c=this.getSDK())===null||c===void 0||c.Notify_MeidaSDK(ll.STOP_SHARING,{canvas:e,ssrc:n,zone:o,isFromMainSession:this.ismain})}},O_e=class extends wte{getAnnoCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getAnnoCanvas()}getPreviewCanvas(){var e;return(e=this.container)===null||e===void 0?void 0:e.getPreviewCanvas()}getLocalShareCanvas(){return this.container.getLocalShareCanvas()}addRender({canvas:e}){var n;(n=this.getSDK())===null||n===void 0||n.Notify_MeidaSDK(ll.START_SHARE_PREVIEW,{annoPresenterCanvas:this.getPreviewCanvas(),localShareCanvas:this.getLocalShareCanvas()})}zoomRender(){}stopRender({canvas:e}){var n;(n=this.getSDK())===null||n===void 0||n.Notify_MeidaSDK(ll.STOP_SHARE_PREVIEW,{})}},I_e=class extends _te{addRender({userId:e,videodom:n}){var o,i;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(ll.SWITCH_CANVAS_FOR_VIDEO_CAPTURE,[n]),(i=this.getSDK())===null||i===void 0||i.Notify_MeidaSDK(ll.ADD_RENDER_VIDEO,{userId:e,videodom:n})}stopRender({userId:e,videodom:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(ll.STOP_RENDER_VIDEO,{userId:e,videodom:n})}},D9e=class extends _te{addRender({id:e,videodom:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(ll.ADD_VIDEO_VB_SETTING_DOM,{id:e,videodom:n})}stopRender({id:e,videodom:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(ll.REMOVE_VIDEO_VB_SETTING_DOM,{id:e,videodom:n})}},M9e=class extends A9e{addRender({id:e,canvas:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(ll.ADD_VIDEO_VB_SETTING_DOM,{id:e,canvas:n})}stopRender({id:e,canvas:n}){var o;(o=this.getSDK())===null||o===void 0||o.Notify_MeidaSDK(ll.REMOVE_VIDEO_VB_SETTING_DOM,{id:e,canvas:n})}};function jO(e,n,o){if(typeof e=="function"?e===n:e.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}function R_e(e,n,o,i,c,d,p){try{var v=e[d](p),S=v.value}catch(_){return void o(_)}v.done?n(S):Promise.resolve(S).then(i,c)}function JNe(e,n){(function(o,i){if(i.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,n),n.add(e)}function n4(e,n,o){return(n=(function(i){var c=(function(d){if(typeof d!="object"||!d)return d;var p=d[Symbol.toPrimitive];if(p!==void 0){var v=p.call(d,"string");if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)})(i);return typeof c=="symbol"?c:c+""})(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var b6=new WeakSet;let $ve=class Uve{constructor(){JNe(this,b6)}preview(n,o,i){var c=o.getContext("webgl"),d=jO(b6,this,P9e).call(this,c,Uve.VERTEX_SHADER,Uve.FRAGMENT_SHADER),p=c.getAttribLocation(d,"position"),v=c.getUniformLocation(d,"videoTexture");c.useProgram(d);var S=jO(b6,this,N9e).call(this,c);c.bindBuffer(c.ARRAY_BUFFER,S),c.enableVertexAttribArray(p),c.vertexAttribPointer(p,2,c.FLOAT,!1,0,0),this.frame({glContext:c,program:d,positionAttributeLocation:p,textureLocation:v,positionBuffer:S,viewport:i,source:n})}frame(n){var o=n.glContext;n.glContext.clearColor(0,0,0,1),n.glContext.clear(n.glContext.COLOR_BUFFER_BIT),n.glContext.viewport(n.viewport.x,n.viewport.y,n.viewport.w,n.viewport.h),n.glContext.enable(n.glContext.DEPTH_TEST);var i=n.glContext.createTexture();o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i),o.uniform1i(n.textureLocation,0),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,n.source),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),n.glContext.drawArrays(n.glContext.TRIANGLE_STRIP,0,4),requestAnimationFrame((()=>this.frame(n)))}};function P9e(e,n,o){var i=jO(b6,this,k_e).call(this,e,e.VERTEX_SHADER,n),c=jO(b6,this,k_e).call(this,e,e.FRAGMENT_SHADER,o),d=e.createProgram();return e.attachShader(d,i),e.attachShader(d,c),e.linkProgram(d),d}function k_e(e,n,o){var i=e.createShader(n);return e.shaderSource(i,o),e.compileShader(i),i}function N9e(e){var n=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),n}n4($ve,"VERTEX_SHADER",`
    attribute vec2 position;
    varying vec2 texCoord;

    void main() {
      texCoord = (position + 1.0) * 0.5;
      // gl_Position = vec4(position, 0.0, 1.0);
      gl_Position = vec4(position.x, -position.y, 0.0, 1.0);
    }
  `),n4($ve,"FRAGMENT_SHADER",`
    precision mediump float;
    varying vec2 texCoord;
    uniform sampler2D videoTexture;

    void main() {
      gl_FragColor = texture2D(videoTexture, texCoord);
    }
  `);var y6=new WeakSet;class o4{constructor(){JNe(this,y6)}preview(n,o,i){var c=o.getContext("webgl2"),d=jO(y6,this,L9e).call(this,c,o4.VERTEX_SHADER,o4.FRAGMENT_SHADER),p=c.getAttribLocation(d,"position"),v=c.getUniformLocation(d,"videoTexture");c.useProgram(d);var S=jO(y6,this,B9e).call(this,c);c.bindBuffer(c.ARRAY_BUFFER,S),c.enableVertexAttribArray(p),c.vertexAttribPointer(p,2,c.FLOAT,!1,0,0),this.frame({glContext:c,program:d,positionAttributeLocation:p,textureLocation:v,positionBuffer:S,viewport:i,source:n})}frame(n){var o=n.glContext;n.glContext.clearColor(0,0,0,1),n.glContext.clear(n.glContext.COLOR_BUFFER_BIT),n.glContext.viewport(n.viewport.x,n.viewport.y,n.viewport.w,n.viewport.h),n.glContext.enable(n.glContext.DEPTH_TEST);var i=n.glContext.createTexture();o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i),o.uniform1i(n.textureLocation,0),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,n.source),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),n.glContext.drawArrays(n.glContext.TRIANGLE_STRIP,0,4),requestAnimationFrame((()=>this.frame(n)))}}function L9e(e,n,o){var i=jO(y6,this,D_e).call(this,e,e.VERTEX_SHADER,n),c=jO(y6,this,D_e).call(this,e,e.FRAGMENT_SHADER,o),d=e.createProgram();return e.attachShader(d,i),e.attachShader(d,c),e.linkProgram(d),d}function D_e(e,n,o){var i=e.createShader(n);return e.shaderSource(i,o),e.compileShader(i),i}function B9e(e){var n=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),n}n4(o4,"VERTEX_SHADER",`#version 300 es
    in vec2 position;
    out vec2 texCoord;

    void main() {
      texCoord = (position + 1.0) * 0.5;
      gl_Position = vec4(position.x, -position.y, 0.0, 1.0);
    }
  `),n4(o4,"FRAGMENT_SHADER",`#version 300 es
    precision mediump float;
    in vec2 texCoord;
    uniform sampler2D videoTexture;
    out vec4 fragColor;

    void main() {
      fragColor = texture(videoTexture, texCoord);
    }
  `);class s4{constructor(){}preview(n,o,i){var c,d=this;return(c=function*(){if(!n||!o||!i)throw new Error("Invalid arguments: source, target, or viewport is missing");var p=yield navigator.gpu.requestAdapter(),v=yield p.requestDevice(),S=navigator.gpu.getPreferredCanvasFormat(),_=o.getContext("webgpu");_.configure({device:v,format:S,alphaMode:"opaque"});var x=v.createSampler({}),P=v.createRenderPipeline({layout:"auto",vertex:{module:v.createShaderModule({code:s4.VERTEX_SHADER}),entryPoint:"vert_main"},fragment:{module:v.createShaderModule({code:s4.FRAG_SHADER_VF}),entryPoint:"frag_main",targets:[{format:S}]},primitive:{topology:"triangle-list"}}),B={device:v,context:_,pipeline:P,sampler:x,source:n,viewport:i};d.frame(B)},function(){var p=this,v=arguments;return new Promise((function(S,_){var x=c.apply(p,v);function P(z){R_e(x,S,_,P,B,"next",z)}function B(z){R_e(x,S,_,P,B,"throw",z)}P(void 0)}))})()}frame(n){var o=n.device.createCommandEncoder(),i={colorAttachments:[{view:n.context.getCurrentTexture().createView(),loadOp:"clear",storeOp:"store"}]},c=o.beginRenderPass(i);c.setPipeline(n.pipeline);var d=n.device.createBindGroup({layout:n.pipeline.getBindGroupLayout(0),entries:[{binding:0,resource:n.sampler},{binding:1,resource:n.device.importExternalTexture({source:n.source})}]});c.setBindGroup(0,d),c.setViewport(n.viewport.x,n.viewport.y,n.viewport.w,n.viewport.h,0,1),c.draw(6),c.end(),n.device.queue.submit([o.finish()]),requestAnimationFrame((()=>this.frame(n)))}}n4(s4,"VERTEX_SHADER",`
    struct VertexOutput {
      @builtin(position) Position: vec4<f32>,
      @location(0) uv: vec2<f32>,
    }

    @vertex
    fn vert_main(@builtin(vertex_index) VertexIndex: u32) -> VertexOutput {
      var pos = array<vec2<f32>, 6>(
        vec2<f32>( 1.0,  1.0),
        vec2<f32>( 1.0, -1.0),
        vec2<f32>(-1.0, -1.0),
        vec2<f32>( 1.0,  1.0),
        vec2<f32>(-1.0, -1.0),
        vec2<f32>(-1.0,  1.0)
      );

      var uv = array<vec2<f32>, 6>(
        vec2<f32>(1.0, 0.0),
        vec2<f32>(1.0, 1.0),
        vec2<f32>(0.0, 1.0),
        vec2<f32>(1.0, 0.0),
        vec2<f32>(0.0, 1.0),
        vec2<f32>(0.0, 0.0)
      );

      var output : VertexOutput;
      output.Position = vec4<f32>(pos[VertexIndex], 0.0, 1.0);
      output.uv = uv[VertexIndex];
      return output;
    }
  `),n4(s4,"FRAG_SHADER_VF",`
    @group(0) @binding(0) var mySampler: sampler;
    @group(0) @binding(1) var vfTexture: texture_external;

    @fragment
    fn frag_main(@location(0) uv : vec2<f32>) -> @location(0) vec4<f32> {
      var color0: vec4<f32> = textureSampleBaseClampToEdge(vfTexture, mySampler, uv);
      return color0;
    }
  `);class ik{constructor(){}preview(n,o,i,c){n==1?i.srcObject=o:n==2?new $ve().preview(o,i,c):n==3?new o4().preview(o,i,c):n==4&&new s4().preview(o,i,c)}static getInstance(){return ik.instance||(ik.instance=new ik),ik.instance}}class V9e extends wte{constructor(){super(...arguments),this.rendersProxy=ik.getInstance(),this.videoSource=null}createSource(n,o,i){return(function(c,d,p,v){return new(p||(p=Promise))((function(S,_){function x(z){try{B(v.next(z))}catch(U){_(U)}}function P(z){try{B(v.throw(z))}catch(U){_(U)}}function B(z){var U;z.done?S(z.value):(U=z.value,U instanceof p?U:new p((function(H){H(U)}))).then(x,P)}B((v=v.apply(c,[])).next())}))})(this,0,void 0,(function*(){const c=document.createElement("video");return c.width=o,c.height=i,c.loop=!0,c.autoplay=!0,c.muted=!0,c.srcObject=n,yield c.play(),c}))}addRender(n){n.renderType&&n.srcObject&&!this.videoSource&&(this.videoSource&&(this.videoSource=null),this.createSource(n.srcObject,n.width,n.height).then((o=>{this.videoSource=o,this.rendersProxy.preview(n.renderType,this.videoSource,n.canvas,{x:n.x,y:n.renderType===J_.WebGPU?n.top:n.y,w:n.width,h:n.height})})))}zoomRender(n){n.renderType&&this.videoSource&&(this.videoSource.width!==n.width&&(this.videoSource.width=n.width),this.videoSource.height!==n.height&&(this.videoSource.height=n.height))}stopRender(n){n.renderType&&this.videoSource&&(this.videoSource.srcObject=null,this.videoSource=null)}}class F9e extends _te{constructor(){super(...arguments),this.rendersProxy=ik.getInstance()}addRender(n){n.srcObject&&n.videodom&&this.rendersProxy.preview(J_.VideoTag,n.srcObject,n.videodom)}stopRender(n){n.videodom.srcObject=null}}const G0="node-id",S6="media-type",gJ="video-quality",Z5="share-source",QNe="fill-mode",eLe="stop-no-clean",zve="refresh-key";class r4 extends HTMLElement{static get observedAttributes(){return[G0,S6,gJ,zve,Z5]}constructor(){super(),this.container=null,this.borderRadius=null,this._srcObject=null,qNe(this,r4.customAttributes),this.getRenderParams=this.getParsedParams.bind(this),this.callback=(n,o)=>{var i;n===Y6.MOBILE_CAPTURE_DEVICE_CHANGE&&o===this.getAttribute(G0)&&this.initRender(),n===Y6.SELF_PREVIEW_WATERMARK_CHANGE&&this.getAttribute(G0)&&(!((i=this.getCurrentMediaSDK())===null||i===void 0)&&i.isSelfUser(this.getAttribute(G0)))&&this.initRender()}}initRender(){var n,o,i,c,d,p,v,S,_,x;if(this.render&&this.render.destroy(),(n=this.getContainer())===null||n===void 0?void 0:n.useInsideRender()){const oe=(o=this.getContainer())===null||o===void 0?void 0:o.getInsideRenderType();if(oe===J_.VideoTag)this.render=new F9e(this.getContainer());else{if(![J_.WebGL,J_.WebGL2,J_.WebGPU].includes(oe))return void console.error("Inside render type error.");this.render=new V9e(this.getContainer(),this.getRenderParams)}return this.shadowRoot&&(this.shadowRoot.innerHTML="",this.shadowRoot.appendChild(this.render.getElement())),this.render.init({borderRadius:this.borderRadius}),void(this.srcObject&&this.render.playVideo(this.srcObject))}const P=(c=(i=this.getCurrentMediaSDK())===null||i===void 0?void 0:i.getWasmRenderingMethod)===null||c===void 0?void 0:c.bind(this.getCurrentMediaSDK()),B=this.getAttribute(G0),z=B&&((d=this.getCurrentMediaSDK())===null||d===void 0?void 0:d.isPreviewVideotag(B)),U=this.getAttribute(S6);let H=0;U===I3.Preview?!((p=this.getCurrentMediaSDK())===null||p===void 0)&&p.getWebRTCFlag()?(this.render=new D9e(null),H=6):P&&P()==="video-tag"?(this.render=new O9e(this.getContainer(),this.getRenderParams),H=10):(this.render=new M9e(null),H=5):U===I3.Share?B&&this.getAttribute(Z5)!=="main"&&(!((S=(v=this.getCurrentMediaSDK())===null||v===void 0?void 0:v.isSharePreviewVideotag)===null||S===void 0)&&S.call(v,B))?(this.render=new O_e(this.getContainer(),this.getRenderParams),H=7):P&&P()==="video-tag"?(this.render=new x9e(this.getContainer(),this.getRenderParams),H=9):(this.render=new k9e(this.getContainer(),this.getRenderParams),H=2):!((_=this.getCurrentMediaSDK())===null||_===void 0)&&_.getWebRTCFlag()?(this.render=new R9e(this.getContainer()),H=4):z?(this.render=new I_e(this.getContainer()),H=1):P&&P()==="video-tag"?(this.render=new T9e(this.getContainer(),this.getRenderParams),H=8):(this.render=new I9e(this.getContainer(),this.getRenderParams),H=3),this.getCurrentMediaSDK()&&Vf(this.getCurrentMediaSDK(),`VPREN:${H}`),this.innerHTML="",this.appendChild(this.render.getElement()),this.render.init({borderRadius:this.borderRadius});const K=this.getAttribute(G0);zx(K)||(x=this.render)===null||x===void 0||x.playVideo(K)}get srcObject(){return this._srcObject}set srcObject(n){var o,i,c,d;!this._srcObject&&n?(o=this.render)===null||o===void 0||o.playVideo(n):this._srcObject&&n?((i=this.render)===null||i===void 0||i.stopVideo(),(c=this.render)===null||c===void 0||c.playVideo(n)):this._srcObject&&((d=this.render)===null||d===void 0||d.stopVideo()),this._srcObject=n}getContainer(){return this.container||(this.container=this.closest(`${Jh.get("tagName")}-container`)),this.container}getCurrentMediaSDK(){var n,o;return xS((o=(n=this.getContainer())===null||n===void 0?void 0:n.getSessionId)===null||o===void 0?void 0:o.call(n))}getParsedParams(){var n,o;return{fillMode:__e(this,QNe),doNotClean:__e(this,eLe),isFromMainSession:this.getAttribute(Z5)==="main",videoQuality:this.getAttribute(gJ),renderType:(o=(n=this.getContainer())===null||n===void 0?void 0:n.getInsideRenderType())!==null&&o!==void 0?o:J_.Unknown}}connectedCallback(){var n;this.style.display||(this.style.display="block"),ZNe(this,r4.defaultValues),this.initRender(),(n=this.getCurrentMediaSDK())===null||n===void 0||n.addCallback(this.callback),this.removeSubscribe=Jh.subscribe(((o,i,c)=>{var d,p,v,S;o==="failover"&&c===(((p=(d=this.getContainer())===null||d===void 0?void 0:d.getSessionId)===null||p===void 0?void 0:p.call(d))||X6)&&(this.initRender(),zx(this.getAttribute(G0))||(v=this.render)===null||v===void 0||v.playVideo(this.getAttribute(G0)),this.srcObject&&((S=this.render)===null||S===void 0||S.playVideo(this.srcObject)))})),this.removeStyleListener=(function(o,i){let c=null;const d=()=>{let v=getComputedStyle(o).borderRadius;v&&v!=="0px"&&v!=="0%"?(c=v,i(x_e(v))):c&&(i(x_e("0%")),c=null)};d();const p=new MutationObserver((()=>d()));return p.observe(o,{attributes:!0,attributeFilter:["style"]}),()=>{p.disconnect()}})(this,(o=>{var i,c;this.borderRadius=o,o&&((c=(i=this.render)===null||i===void 0?void 0:i.updateBorderRadius)===null||c===void 0||c.call(i,o))}))}disconnectedCallback(){var n,o,i,c;(n=this.removeSubscribe)===null||n===void 0||n.call(this),(o=this.removeStyleListener)===null||o===void 0||o.call(this),(i=this.render)===null||i===void 0||i.destroy(),this.callback&&((c=this.getCurrentMediaSDK())===null||c===void 0||c.removeCallback(this.callback))}attributeChangedCallback(n,o,i){var c,d,p,v,S,_,x;if(this.render)switch(n){case G0:!((c=this.getCurrentMediaSDK())===null||c===void 0)&&c.getWebRTCFlag()&&this.getAttribute(G0)===I3.Video||(!!(!((d=this.getCurrentMediaSDK())===null||d===void 0)&&d.isPreviewVideotag(i))!=this.render instanceof I_e&&this.initRender(),!!(!((v=(p=this.getCurrentMediaSDK())===null||p===void 0?void 0:p.isSharePreviewVideotag)===null||v===void 0)&&v.call(p,i))!=this.render instanceof O_e&&this.initRender()),zx(o)&&!zx(i)?this.render.playVideo(i):zx(o)||zx(i)?zx(o)||this.render.stopVideo():(this.render.stopVideo(),this.render.playVideo(i));break;case Z5:case S6:this.initRender();break;case gJ:(S=this.render)===null||S===void 0||S.updateVideoQuality(i);break;case zve:zx(i)||(x=(_=this.render)===null||_===void 0?void 0:_.refresh)===null||x===void 0||x.call(_)}}}r4.customAttributes=[G0,S6,gJ,Z5,QNe,eLe,zve],r4.defaultValues={[G0]:"",[S6]:I3.Video};const M_e="session-id",jx="z-index",R5="inside-render",P_e="label";class i4 extends HTMLElement{static get observedAttributes(){return[M_e,jx,R5]}get pipWindow(){var n,o;return"documentPictureInPicture"in window&&(function(){const i=T_e();try{return!!i?.location.origin}catch{return!1}})()&&((o=(n=T_e())===null||n===void 0?void 0:n.documentPictureInPicture)===null||o===void 0?void 0:o.window)||void 0}constructor(){super(),this.canvasId="video-player-canvas-"+(this.getAttribute(P_e)?`${this.getAttribute(P_e)}-`:"")+I4(),this.needInitCanvas=!1,this.canvasKeys=["annoCanvas","previewCanvas","localShareCanvas"],this.needInitCanvasMap={annoCanvas:!1,previewCanvas:!1,localShareCanvas:!1},this.listenerList=[],this.pipListenerList=[],this.callback=null,qNe(this,i4.customAttributes);const n=this.attachShadow({mode:"open"}),o=document.createElement("slot");this.appendCanvas=(i,c=o)=>{n.insertBefore(i,c)},n.appendChild(o)}connectedCallback(){this.style.display||(this.style.display="block"),this.style.position||(this.style.position="relative"),ZNe(this,i4.defaultValues),this.needInitCanvas&&this.initCanvasEvents(),this.canvasKeys.forEach((n=>{if(this.needInitCanvasMap[n]){const o=this[n];o&&this.initCanvasListenerList(o)}})),this.removeSubscribe=Jh.subscribe(((n,o,i)=>{n==="failover"&&i===(this.getSessionId()||X6)&&(this.replaceCanvas(),this.initCanvasEvents(),this.canvasKeys.forEach((c=>{const d=this[c];d&&this.initCanvasListenerList(d)})))}))}removeFromShadowRoot(n){if(!this.shadowRoot)return;let o=n;for(;o;){if(o.parentNode===null)return;if(o.parentNode===this.shadowRoot)break;o=o.parentNode}o.remove()}disconnectedCallback(){var n,o,i,c;(n=this.removeListener)===null||n===void 0||n.call(this),this.resetPIPListener(),this.listenerList.length&&this.listenerList.forEach((d=>d())),(o=this.removeSubscribe)===null||o===void 0||o.call(this),this.canvas&&((i=xS(this.getSessionId()))===null||i===void 0||i.Notify_MeidaSDK(ll.REMOVE_EXPIRED_CANVAS,{canvasId:this.canvasId}),this.canvas.remove(),this.canvas=void 0),this.canvasKeys.forEach((d=>{const p=this[d];p&&(this.removeFromShadowRoot(p),this[d]=void 0)})),this.callback&&((c=xS(this.getSessionId()))===null||c===void 0||c.removeCallback(this.callback))}attributeChangedCallback(n,o,i){n===jx&&this.canvas&&i&&(this.canvas.style.zIndex=i)}adoptedCallback(){Vf(this.getCurrentMediaSDK(),"VPADOP:"+!!this.pipWindow),this.pipWindow?this.canvas&&(this.resetPIPListener(),this.removePIPListener=Ux(this.canvas,this,!0,this.pipWindow,(n=>Vf(this.getCurrentMediaSDK(),n))),this.canvasKeys.forEach((n=>{const o=this[n];o&&this.pipListenerList.push(Ux(o,this,!1,this.pipWindow))}))):this.resetPIPListener()}resetPIPListener(){var n;(n=this.removePIPListener)===null||n===void 0||n.call(this),this.removePIPListener=void 0,this.pipListenerList.length&&this.pipListenerList.forEach((o=>o())),this.pipListenerList=[]}initCanvasListenerList(n){this.listenerList.push(Ux(n,this,!1)),this.pipWindow&&this.pipListenerList.push(Ux(n,this,!1,this.pipWindow))}createCanvas(){this.getCurrentMediaSDK()&&Vf(this.getCurrentMediaSDK(),"VPCC"),this.canvas=BL(this.clientWidth,this.clientHeight,this.getAttribute(jx)||"",this.canvasId,(n=>Vf(this.getCurrentMediaSDK(),n))),this.appendCanvas(this.canvas),this.isConnected?this.initCanvasEvents():this.needInitCanvas=!0}createPreviewCanvas(){this.getCurrentMediaSDK()&&Vf(this.getCurrentMediaSDK(),"VPCC"),this.previewCanvas=BL(this.clientWidth,this.clientHeight,this.getAttribute(jx)||"",this.canvasId+"-anno-presenter",(n=>Vf(this.getCurrentMediaSDK(),n))),this.appendCanvas(this.previewCanvas)}createLocalShareCanvas(){this.getCurrentMediaSDK()&&Vf(this.getCurrentMediaSDK(),"VPCC"),this.localShareCanvas=BL(this.clientWidth,this.clientHeight,this.getAttribute(jx)||"",this.canvasId+"-local-share",(n=>Vf(this.getCurrentMediaSDK(),n))),this.appendCanvas(this.localShareCanvas),this.isConnected?this.initCanvasListenerList(this.localShareCanvas):this.needInitCanvasMap.localShareCanvas=!0}createAnnoCanvas(){this.annoCanvas=BL(this.clientWidth,this.clientHeight,this.getAttribute(jx)||"",this.canvasId+"-anno",(n=>Vf(this.getCurrentMediaSDK(),n))),this.appendCanvas(this.annoCanvas),this.isConnected?this.initCanvasListenerList(this.annoCanvas):this.needInitCanvasMap.annoCanvas=!0}initCanvasEvents(){var n;this.removeListener=Ux(this.canvas,this,!0,window,(o=>Vf(this.getCurrentMediaSDK(),o))),this.pipWindow&&(this.removePIPListener=Ux(this.canvas,this,!0,this.pipWindow,(o=>Vf(this.getCurrentMediaSDK(),o)))),this.callback=(o,i)=>{var c,d;o===Y6.WEBGL_LOST_IN_MULTI_VIEW&&i.replaceCanvas&&i.canvasId===((c=this.canvas)===null||c===void 0?void 0:c.id)&&(this.replaceCanvas(),(d=xS(this.getSessionId()))===null||d===void 0||d.Notify_MeidaSDK(ll.WEBGL_LOST_REPLACE_CANVAS,{canvasId:this.canvasId,canvas:this.canvas}))},(n=this.getCurrentMediaSDK())===null||n===void 0||n.addCallback(this.callback)}replaceCanvas(){var n;if(this.getCurrentMediaSDK()&&Vf(this.getCurrentMediaSDK(),"VPRC"),this.canvas){(n=this.removeListener)===null||n===void 0||n.call(this);const o=BL(this.clientWidth,this.clientHeight,this.getAttribute(jx)||"",this.canvasId,(i=>Vf(this.getCurrentMediaSDK(),i)));this.removeListener=Ux(o,this,!0,window,(i=>Vf(this.getCurrentMediaSDK(),i))),this.pipWindow&&(this.removePIPListener=Ux(this.canvas,this,!0,this.pipWindow,(i=>Vf(this.getCurrentMediaSDK(),i)))),this.shadowRoot&&this.shadowRoot.replaceChild(o,this.canvas),this.canvas=o}if(this.annoCanvas){const o=BL(this.clientWidth,this.clientHeight,this.getAttribute(jx)||"",this.canvasId+"anno",(i=>Vf(this.getCurrentMediaSDK(),i)));this.shadowRoot&&this.shadowRoot.replaceChild(o,this.annoCanvas),this.annoCanvas=o}}getResizeStrategy(){return this.getAttribute("resize-strategy")||yE.Debounce}getCanvas(){return this.canvas||this.createCanvas(),this.canvas}getPreviewCanvas(){return this.previewCanvas||this.createPreviewCanvas(),this.previewCanvas}getLocalShareCanvas(){return this.localShareCanvas||this.createLocalShareCanvas(),this.localShareCanvas}getAnnoCanvas(){return this.annoCanvas||this.createAnnoCanvas(),this.annoCanvas}useInsideRender(){return this.getAttribute(R5)!==null&&this.getAttribute(R5)!==void 0&&this.getAttribute(R5)!=="false"&&this.getAttribute(R5)!=="0"}getInsideRenderType(){return Number(this.getAttribute("inside-render-type"))}getSessionId(){return this.getAttribute(M_e)||void 0}getCurrentMediaSDK(){return xS(this.getSessionId())}getRGBA(){return(function(n){let o=0,i=0,c=0,d=0;if(n[0]==="r")if(n[3]==="a"){const p=n.slice(5,-1).split(",").map((v=>parseInt(v.trim(),10)));o=p[0],i=p[1],c=p[2],d=p[3]}else{const p=n.slice(4,-1).split(",").map((v=>parseInt(v.trim(),10)));o=p[0],i=p[1],c=p[2]}else if(n[0]==="#"){let p=n.slice(1);p.length===3&&(p=p.split("").map((S=>S.repeat(2))).join(""));const v=parseInt(p,16);o=v>>16&255,i=v>>8&255,c=255&v}return{R:o/255,G:i/255,B:c/255,A:d}})(getComputedStyle(this).getPropertyValue("background-color"))}}function tLe(e){var n;let o="video-player";e.tagName&&(o=e.tagName,Jh.dispatch("",{tagName:e.tagName}),Vf((n=e.mediaSDK)===null||n===void 0?void 0:n.call(e),`VPTN:${o}`));const i=`${o}-container`,c=e.sessionId||I4();return Jh.get("renderCountMap").clear(),e.mediaSDK&&(Jh.get("mediaSDKInstanceMap").set(X6,e.mediaSDK),Jh.get("mediaSDKInstanceMap").set(c,e.mediaSDK)),e.failover&&Jh.dispatch("failover",void 0,e.sessionId||X6),customElements.get(i)||customElements.define(i,i4),customElements.get(o)||customElements.define(o,r4),c}i4.customAttributes=[],i4.defaultValues={};const N_e="PREVIEW_VIDEO_ENCODE_SUCCESS",tme="PREVIEW_VIDEO_VB_MODEL_READY",L_e="PREVIEW_VIDEO_USER_FORBIDDEN_CAPTURE",B_e="PREVIEW_VIDEO_CAMERA_IS_TAKEN",V_e="PREVIEW_VB_SETTING_SUCCESS";async function F_e(e,n,o,i){const{imageUrl:c,cropped:d,deviceId:p}=o;let v=aA("__ZOOM_SDK_PREVIEW_VIRTUAL_BACKGROUND_CANVAS_@__"),S=null;A4(n)?n.id?v=n.id:n.id=v:(n.setAttribute("node-id",v),n.setAttribute("media-type","preview"));let[_,x]=[640,360];Ls.isSupportSending720P()&&(_=1280,x=720),c&&Cve(i)&&(S=await Mz(c,d)),e.startVirtualBackgroundSetting(n,S,0,p??"default",_,x,void 0,v),S&&S!==Z3&&setTimeout((()=>{H6(S)}),0)}class Yd{constructor(){this.previewMediaAgent=$y.getInstance(),this.state=void 0,this.eventHandler=(n,o)=>{switch(n){case Gn.InitSuccessVideo:o===pg.EncodeSuccess&&(Yd.isVideoEncoded=!0,it(N_e,!0));break;case Gn.VbModelPreloadingOk:case Gn.VbModelPreloading_3S:case Gn.VbModelPreloading_10S:Yd.isVBModelReady=!0,it(tme,!0);break;case Gn.VbSettingParaError:o===_De.VBModelNotMatch&&(Yd.isVBModelReady=!1,it(tme,!1));break;case Gn.UserForbiddedCaptureVideo:it(L_e,o);break;case Gn.UserCameraIsTakenByOtherPrograms:it(B_e,{reason:"User camera is taken by other programs.",...o??{}});break;case Gn.StartVideoStreamInVbSettingSuccess:it(V_e,!0)}}}static setMediaOption(n){Yd.mediaOption=n}setup(){if(Yd.mediaOption){if(Ls.getInstance().inProgress)return Promise.resolve("");if(!$y.getInstance().inProgress){var n,o;let i;Yd.isVideoEncoded=void 0,Yd.isVBModelReady=void 0,this.previewMediaAgent.unregisterCallback(this.eventHandler),(n=Yd.mediaOption)!==null&&n!==void 0&&n.enforceMultipleVideos&&typeof((o=Yd.mediaOption)===null||o===void 0?void 0:o.enforceMultipleVideos)=="object"&&(i=!!Yd.mediaOption.enforceMultipleVideos.disableRenderLimits);const{assetsPath:c,enforceMultipleVideos:d,enforceVirtualBackground:p,alternativeNameForVideoPlayer:v}=Yd.mediaOption,S={...FPe(!!d,p)};this.previewMediaAgent.init(c,S,i),this.previewMediaAgent.registerCallback(this.eventHandler),tLe({mediaSDK:()=>this.previewMediaAgent.instance,tagName:v,failover:"1"})}return Promise.resolve("")}return Promise.reject({type:ln,reason:"Cannot preview video with virtual background before `client.init` method."})}async startPreview(n,o){if(Ls.getInstance().inProgress){var i;F_e(Ls.getInstance(),n,o,(i=Yd.mediaOption)===null||i===void 0?void 0:i.enforceVirtualBackground)}else{if(!await(o.imageUrl?dc(Yd.isVBModelReady!==void 0?Kn([Yd.isVBModelReady]):wa(tme,1).pipe(So((p=>p)))):Promise.resolve(!0)))return Promise.reject({type:ln,reason:"Cannot start video with virtual background"});var c;await dc(Yd.isVideoEncoded?Kn([!0]):wa(N_e,1))&&(await F_e($y.getInstance(),n,o,(c=Yd.mediaOption)===null||c===void 0?void 0:c.enforceVirtualBackground),await dc(Vp(wa(V_e,1).pipe(So((()=>!0))),Ad(...[L_e,B_e].map((p=>wa(p,1).pipe(nn((v=>($y.getInstance().stopVirtualBackgroundSetting(),UO({type:p.replace("PREVIEW_",""),reason:v})))))))))),this.state={element:n,vb:o})}}async stopPreview(){Ls.getInstance().inProgress?Ls.getInstance().stopVirtualBackgroundSetting():$y.getInstance().stopVirtualBackgroundSetting()}async updatePreview(n,o){const i=Ls.getInstance().inProgress?Ls.getInstance():$y.getInstance();if(n){const c=await Mz(n,o);c&&(i.updateVirtualBackgroundImage(c),c!==Z3&&setTimeout((()=>{H6(c)}),0))}else i.updateVirtualBackgroundImage(null)}}Yd.mediaOption=void 0,Yd.isVideoEncoded=void 0,Yd.isVBModelReady=void 0;const H9e={width:{min:1024,ideal:1280,max:1920},height:{min:576,ideal:720,max:1080},aspectRatio:{ideal:1.777777778}};class $9e{constructor(n=""){this.isVideoStarted=void 0,this.videoStream=void 0,this.deviceId=void 0,this.localPreview=void 0,this.vbPreviewInProgress=void 0,this.videoParams=void 0,this.isVideoStarted=!1,this.videoStream=null,this.vbPreviewInProgress=!1,this.deviceId=n,this.localPreview=new Yd}async start(n,o){if(!n)throw new Error("VideoPlayer DOM element is falsy");if(this.isVideoStarted||this.videoStream)throw new Error("VideoAlreadyStartedError");this.videoParams={element:n,virtualBackground:o};const i=async c=>{if(!c||c.name!=="OverconstrainedError"&&c.name!=="ConstraintNotSatisfiedError")throw c;console.log(`Warning: detected ${c.name} -- trying to fall back to lower aspect ratio`);try{const d=await navigator.mediaDevices.getUserMedia(this.getVideoConstraints(!0));return this.tryPlayVideo(n,d)}catch(d){throw d}};if(iA(n)){if(o!==void 0)throw new Error("Cannot start video with virtual background");try{const c=await navigator.mediaDevices.getUserMedia(this.getVideoConstraints());return this.tryPlayVideo(n,c)}catch(c){return i(c)}}else A4(n)&&o!==void 0&&console.warn("The canvas element will be deprecated. Please use the Videoplayer element to preview the virtual background."),await this.localPreview.setup().then((()=>this.localPreview.startPreview(n,{...o,deviceId:this.deviceId}))).then((()=>{this.vbPreviewInProgress=!0,this.isVideoStarted=!0}))}async stop(){if(this.vbPreviewInProgress)await this.localPreview.stopPreview(),this.vbPreviewInProgress=!1,this.isVideoStarted=!1;else{if(!this.videoStream||!this.isVideoStarted)throw new Error("VideoNotStartedError");this.videoStream.getVideoTracks().forEach((n=>n.stop())),this.videoStream=null,this.isVideoStarted=!1}}async switchCamera(n){n!==this.deviceId&&(this.deviceId=n,(this.videoStream||this.isVideoStarted)&&(await this.stop(),this.videoParams&&await this.start(this.videoParams.element,this.videoParams.virtualBackground)))}async updateVirtualBackground(n,o){this.vbPreviewInProgress&&(await this.localPreview.updatePreview(n,o),this.videoParams.virtualBackground={imageUrl:n,cropped:o})}getVideoConstraints(n=!1){let o=H9e;return Tz.includes(this.deviceId)?{audio:!1,video:{facingMode:this.deviceId}}:(n?o=this.deviceId===""||{deviceId:{exact:this.deviceId}}:this.deviceId!==""&&(o.deviceId={exact:this.deviceId}),{audio:!1,video:o})}async tryPlayVideo(n,o){if(!n)throw new Error("Video DOM element is falsy");try{this.videoStream=o,n.muted=!0,n.playsInline=!0,n.srcObject=this.videoStream,await n.play(),this.isVideoStarted=!0}catch(i){throw i}}}const U9e="SET_MEETING_INFO",z9e="SET_MEETING_JOIN_INFO",j9e="SET_WINDOWN_OPEN",W9e="SET_APPID_SIGNATURE",G9e="SET_ZTK",q9e="SET_ZSK",Z9e="SET_TK_MTKGUID",K9e="SET_PING_RWC_TIMESTAMP",Y9e="SET_IN_MEETING_INFO",X9e="SET_MEETING_ATTRIBUTE",J9e="RESET_MEETING",Q9e="SET_IS_HOST",eGe="SET_IS_COHOST",tGe="SET_MEETING_IS_ON_HOLD",nGe="SET_IS_MEETING_RESET",oGe="SET_AUDIO_VIDEO_BEFORE_ON_HOLD",sGe="SET_CURRENT_USER_AUDIO_BEFORE_RESET",rGe="SET_IS_CURRENT_USER_MUTED_BEFORE_RESET",iGe="SET_IS_CURRENT_USER_START_VIDEO_BEFORE_RESET",aGe="SET_MEETING_STATUS",lGe="SET_MEETING_REGION",cGe="SET_JOIN_MEETING_TIME_STAMP",uGe="SET_ACTIVE_APP_INFO",dGe="SET_MEETING_IDLE_START_TIME",hGe="SET_SESSION_IDLE_TIMEOUT_MINUTES",fGe="ADD_DISCARDED_RWC_HOST",pGe="SET_SHARE_PRONOUN_TYPE",mGe="SET_IS_STAY_AWAKE_DURING_THE_SESSION",gGe="SET_MEETING_JOIN_SUCCESS_TIMESTAMP",vGe="RESET_FAILOVER_RECORD",bGe="SET_FAILOVER_REASON",yGe="SET_IS_QUICKLY_LEAVE_MEETING_AFTER_REFRESH",SGe="SET_MEETING_INFO_TIMESTAMP",CGe="SET_IS_ENABLE_ZMK_FROM_RWG",EGe="SET_IS_RLB_TP",wGe="SET_IS_RLB_TP_READY",_Ge=["bLock","bHoldUponEntry","viewOnly","listenOnlyPhone","bAllowRaiseHand","bAllowAttendeeRename","bBroadcast","bAllowPlayChimeForEnterOrExit","bIbDisableShare","bIbDisableChat","encryptKey","bNoHostTimeOut","bAllowShowCount","bHasAST","bHasRMC","gatewayKey","encryptKey"],H_e={bChime:"bAllowPlayChimeForEnterOrExit",bHasAST:"hasAst",bHasRMC:"hasRmc",topic:e=>({meetingTopic:s1(e)}),gatewayKey:e=>{const[,n,o]=e.split(".");return n&&o?{gatewayUser:{userId:Number(n),sn:o}}:{}},encryptKey:e=>({gcmSessinKey:jy(e)})},oee=Yl("GET_MEETING_INFO"),a4=Yl("GET_INSTANT_MEETING_INFO");Yl("LOGON_ZOOM_DOMAIN"),Yl("VERIFY_ZOOM_RECAPTCHA"),Yl("LOGON_THIRD_PARTY_DOMAIN");const h1e=Yl("PING_RWC_SERVER"),wg=Yl("MEETING_FAILOVER"),Fk=Yl("LEAVE_MEETING"),jve=Yl("LEAVE_WAITING_ROOM"),l4=Yl("END_MEETING");Yl("REGISTER_WEBINAR");const $_e=Yl("TRIGGER_IDLE_CHECK"),nLe=Yl("END_OF_ZE_WORLD"),oLe=Yl("SET_IS_UITOOLKIT"),{setMeetingInfo:Mv,setMeetingJoinInfo:AGe,setWindownOpen:TGe,setAppidSignature:sLe,setZtk:xGe,setZsk:OGe,setTkMtkguid:IGe,setPingRwcTimestamp:rLe,setInMeetingInfo:TE,setMeetingAttribute:see,resetMeeting:Wve,setIsHost:iLe,setIsCohost:aLe,setMeetingIsOnHold:l3,setIsMeetingReset:lLe,setAudioVideoBeforeOnHold:cLe,setCurrentUserAudioBeforeReset:Gve,setIsCurrentUserMutedBeforeReset:qve,setMeetingStatus:f1e,setMeetingRegion:uLe,setIsCurrentUserStartVideoBeforeReset:dLe,setJoinMeetingTimeStamp:hLe,setActiveAppInfo:RGe,setMeetingIdleStartTime:K5,setSessionIdleTimeoutMinutes:fLe,addDiscardedRwcHost:kGe,setSharePronounType:pLe,setIsStayAwakeDuringTheSession:mLe,setMeetingJoinSuccessTimestamp:gLe,resetFailoverRecord:vLe,setFailoverReason:ree,setIsQuicklyLeaveMeetingAfterRefresh:bLe,setMeetingInfoTimestamp:yLe,setIsEnableZmkFromRwg:SLe,setIsRlbTp:vJ,setIsRlbTpReady:CLe}=Qd({[U9e]:e=>e,[z9e]:e=>e,[j9e]:e=>e,[W9e]:e=>e,[G9e]:e=>e,[q9e]:e=>e,[Z9e]:e=>e,[K9e]:e=>e,[Y9e]:e=>e,[X9e]:e=>{if(_Ge.some((n=>e&&e[n]!==void 0))){let n=e;return Object.keys(H_e).some((o=>e[o]!==void 0))&&(n=Object.keys(e).reduce(((o,i)=>{const c=H_e[i];return typeof c=="function"?Object.assign(o,c(e[i])):typeof c=="string"&&(o[c]=e[i]),o}),{})),n}return{}},[Q9e]:e=>e&&e.bHost,[eGe]:e=>e&&e.bCoHost,[J9e]:e=>e,[tGe]:e=>e,[nGe]:e=>e,[oGe]:e=>e,[sGe]:e=>e,[rGe]:e=>e,[aGe]:e=>e,[lGe]:e=>e,[iGe]:e=>e,[cGe]:e=>e,[uGe]:e=>e,[dGe]:e=>e,[hGe]:e=>e,[fGe]:e=>e,[pGe]:e=>e,[mGe]:e=>e,[gGe]:e=>e,[vGe]:e=>e,[bGe]:e=>e,[yGe]:e=>e,[SGe]:e=>e,[CGe]:e=>e,[EGe]:e=>e,[wGe]:e=>e});class Zve{static destroyClient(){if(this.meetingClient){const n=this.meetingClient[kc],o=this.meetingClient.leave().then((()=>dc(Eu(500)).then((()=>{n?.(nLe()),e1e()}))));return this.meetingClient=null,o}return Promise.resolve(void 0)}static checkFeatureRequirements(){return(function(){const n=[],o=[],{isAndroidOrIOSBrowser:i,browser:c,browserVersion:d,os:p,osVersion:v,isChrome:S,isFirefox:_,isSafari:x}=Zo;!i&&(S||_||x)&&lX()?n.push("Virtual Background"):o.push("Virtual Background"),(i||S)&&lX()?n.push("Share Chrome Tab Audio"):o.push("Share Chrome Tab Audio"),!i&&lX()?(n.push("Screen Share (send)"),n.push("720p Video (receive)"),n.push("Share 2nd Camera")):(o.push("Screen Share (send)"),o.push("720p Video (receive)"),o.push("Share 2nd Camera")),lX()?(n.push("Audio"),n.push("Video"),n.push("Screen Share (receive)"),n.push("Chat"),n.push("Closed Captioning"),n.push("Live Transcription"),n.push("Live Translation"),n.push("Cloud Recording"),n.push("Call Out (PSTN)"),n.push("Command Channel"),n.push("RTMP Live Streaming"),n.push("Encryption"),n.push("720p Video (send)"),n.push("Render Multiple Videos")):(o.push("Audio"),o.push("Video"),o.push("Screen Share (receive)"),o.push("Chat"),o.push("Closed Captioning"),o.push("Live Transcription"),o.push("Live Translation"),o.push("Cloud Recording"),o.push("Call Out (PSTN)"),o.push("Command Channel"),o.push("RTMP Live Streaming"),o.push("Encryption"),n.push("720p Video (send)"),n.push("Render Multiple Videos"));const P=i?`${p}${v}`:`${c}${d}`;return o.length>0&&console.log("Some features are not supported on your platform, please refer to https://developers.zoom.us/docs/video-sdk/web/browser-support/"),{platform:P,supportFeatures:n,unSupportFeatures:o}})()}static checkSystemRequirements(){return wDe()}static getDevices(n){return n?navigator.mediaDevices.enumerateDevices():navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((o=>(o.getTracks().forEach((i=>i.stop())),navigator.mediaDevices.enumerateDevices()))).catch((o=>(console.warn(o),navigator.mediaDevices.enumerateDevices())))}static createLocalAudioTrack(n=""){return new s7e(n)}static createLocalVideoTrack(n=""){return new $9e(n)}static preloadDependentAssets(n){(async o=>{const i=o||z2,c=`${i}/${j2}`,d=[],p=[],v=`${i}/`;if(pX()){const{workers:P,wasms:B}=$x("audio","simd",v);d.push(...P),p.push(...B)}else{const{workers:P,wasms:B}=$x("audio","",v);d.push(...P),p.push(...B)}if(pX()&&(function(){const{browser:P,browserVersion:B,isAndroidBrowser:z,isSupportSharedArrayBuffer:U}=Zo;return!z&&P.toLowerCase()==="chrome"&&VQ(B,"100")>0&&U})()){const{workers:P,wasms:B}=$x(["video","sharing"],"videoShare",v);d.push(...P),p.push(...B)}else if(pX()&&Owe()){const{workers:P,wasms:B}=$x(["video","sharing"],"simd,thread",v);d.push(...P),p.push(...B)}else if(Owe()){const{workers:P,wasms:B}=$x(["video","sharing"],"thread",v);d.push(...P),p.push(...B)}else if(pX()){const{workers:P,wasms:B}=$x(["video","sharing"],"simd",v);d.push(...P),p.push(...B)}else{const{workers:P,wasms:B}=$x(["video","sharing"],"",v);d.push(...P),p.push(...B)}const{workers:S,wasms:_}=$x("common","thread",v);d.push(...S),p.push(..._);const x=[Wpe(c,"script")];d.forEach((P=>{x.push(Wpe(P,"fetch"))})),p.forEach((P=>{x.push(Wpe(P,"fetch"))}));try{document.head.append(...x)}catch{}})(n)}}function Fn(e,n,o,i,c){var d={};return Object.keys(i).forEach((function(p){d[p]=i[p]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(p,v){return v(e,n,p)||p}),d),c&&d.initializer!==void 0&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),d.initializer===void 0?(Object.defineProperty(e,n,d),null):d}function $n(e,n,o){const i=o.value;o.value=function(...c){const d=this[uc];if(d){const{meeting:{isOnHold:p,isMeetingReset:v,meetingStatus:S}}=d.getState();if(S!==_h.Joined)return Promise.reject({type:JX,reason:"closed",errorCode:at.CLIENT_SESSION_STATE_CLOSED});if(v)return Promise.reject({type:JX,reason:"reconnecting",errorCode:at.CLIENT_SESSION_STATE_RECONNECTING});if(p)return Promise.reject({type:JX,reason:"on hold",errorCode:at.CLIENT_SESSION_STATE_ON_HOLD})}return i.apply(this,c)}}function vu(e,n,o){const i=o.value;o.value=function(...c){const d=this[uc];if(d){const p=d.getState();if(!Iv(p))return Promise.reject({type:Bp,reason:"only host or co-host can do the operation",errorCode:at.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED})}return i.apply(this,c)}}function wd(e,n,o){const i=o.value;o.value=function(...c){const d=this[uc];if(d){const p=d.getState();if(!TPe(p))return Promise.reject({type:Bp,reason:"only host can do the operation",errorCode:at.CLIENT_HOST_PERMISSION_REQUIRED})}return i.apply(this,c)}}function Do(e){return function(n,o,i){const c=i.value;i.value=function(...d){const p=this[uc];return p&&p.getState()[e]===void 0?Promise.reject({type:ln,reason:`Module:${e} is not enabled`}):c.apply(this,d)}}}Zve.meetingClient=void 0,Zve.VERSION=hte;var DGe=(function(e){function n(o,i){var c=e.call(this,(function(d){var p=c.__notifier.subscribe(d);return p&&!p.closed&&d.next(c.value),p}))||this;return c.__notifier=new J0,c.value=i,o.subscribe((function(d){d!==c.value&&(c.value=d,c.__notifier.next(d))})),c}return $b(n,e),n})(yu),U_e=function(e,n){return e===n||typeof n=="function"&&e===n.toString()};function Fo(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e.length;return yn(o===1?function(i){return U_e(i.type,e[0])}:function(i){for(var c=0;c<o;c++)if(U_e(i.type,e[c]))return!0;return!1})}const Kve=Yl("CONNECT_ZOOM_SOCKET"),yX=Yl("CONNECT_XMPP_SOCKET"),qy=Yl("CLOSE_ZOOM_SOCKET"),Yve=Yl("CLOSE_XMPP_SOCKET"),Zk=Yl("RECEIVE_MESSAGE_FROM_ZOOM_SOCKET"),MGe=Yl("RECEIVE_SHARING_PAYLOAD_FROM_ZOOM_SOCKET"),ELe=Yl("RECEIVE_MESSAGE_FROM_XMPP_SOCKET"),Xve=Yl("CONNECT_MAIN_SESSION_SOCKET"),wLe=Yl("CLOSE_MAIN_SESSION_SOCKET"),lA=Yl("RECEIVE_MESSAGE_FROM_MAIN_SESSION_SOCKET"),{setZoomSocketStatus:C6,setRwgServersList:_Le,setRwgRetryCount:p1e,setXmppSocketStatus:bJ,setMainSessionSocketStatus:yJ,setXmppSocketRetryCount:iee,resetSocket:ALe}=Qd("SET_ZOOM_SOCKET_STATUS","SET_RWG_SERVERS_LIST","SET_RWG_RETRY_COUNT","SET_XMPP_SOCKET_STATUS","SET_MAIN_SESSION_SOCKET_STATUS","SET_XMPP_SOCKET_RETRY_COUNT","RESET_SOCKET"),Jve=Yl("CONNECT_TO_MEDIA_STREAM"),TLe=Yl("RECEIVE_PAYLOAD_FROM_MEDIA_SDK"),{setAudioEncodeStatus:Qve,setAudioDecodeStatus:ebe,setVideoEncodeStatus:tbe,setVideoDecodeStatus:nbe,setSharingEncodeStatus:obe,setSharingDecodeStatus:SJ,setMediaConstraints:m1e,setMediaEncryptKey:xLe,setIsEnableDecoderInWorklet:OLe,setPatchedMediaSdkStatus:CJ,setMediaAssetsPath:ILe,setIsMediaAgentInitialized:sbe,resetMedia:RLe}=Qd("SET_AUDIO_ENCODE_STATUS","SET_AUDIO_DECODE_STATUS","SET_VIDEO_ENCODE_STATUS","SET_VIDEO_DECODE_STATUS","SET_SHARING_ENCODE_STATUS","SET_SHARING_DECODE_STATUS","SET_MEDIA_CONSTRAINTS","SET_MEDIA_ENCRYPT_KEY","SET_IS_ENABLE_DECODER_IN_WORKLET","SET_PATCHED_MEDIA_SDK_STATUS","SET_MEDIA_ASSETS_PATH","SET_IS_MEDIA_AGENT_INITIALIZED","RESET_MEDIA");function PGe(e,n,...o){return e(za(...o||[]),n,null)}function kLe(...e){const n=(...o)=>Ad(...e.map((i=>{const c=i(...o);if(!c)throw new TypeError(`combineEpics: one of the provided Epics "${i.name||"<anonymous>"}" does not return a stream. Double check you're not missing a return statement!`);return c.pipe(Cm(((d,p)=>(setTimeout((()=>{throw d}),0),p))))})));try{Object.defineProperty(n,"name",{value:`combineEpics(${e.map((o=>o.name||"<anonymous>")).join(", ")})`})}catch{}return n}function xg(...e){return kLe(...e.flatMap((n=>Object.values(n))))}function Ro(e,n){return e.pipe(Fo(`${Zk}`),yn((o=>o.payload.evt===n)))}function vO(e,n){return e.pipe(Fo(`${lA}`),yn((o=>o.payload.evt===n)))}function R3(e,n){return e.pipe(Fo(`${ELe}`),yn((o=>o.payload.evt===n)))}function RS(e,n){return e.pipe(Fo(`${Zk}`,`${lA}`),yn((o=>o.payload.evt===n)))}function ir(e,n){return e.pipe(Fo(`${TLe}`),yn((o=>Array.isArray(n)?n.indexOf(o.payload.type)>-1:o.payload.type===n)))}const rbe=20225,g1e=20234,Vl=7937,Wy=7938,ibe=12039,z_e=16138,Ate=4098,VL=4305,SX=4343,abe=16428,NGe="SET_ATTENDEES_LIST",LGe="SET_ASSISTANT_LIST",BGe="RESET_PARTICIPANTS",VGe="SET_IS_ADMIT_ALL_SILENT_USERS",FGe="SET_CLEAR_RAISE_HAND",HGe="SET_CLEAR_ATTENDEE_FEEDBACK",$Ge="ADD_FAILOVER_ATTENDEES",UGe="REMOVE_FAILOVER_ATTENDEES",zGe="UPDATE_ATTENDEE_DISPLAY_NAME",jGe="REMOVE_XMPP_ATTENDEE_USER",WGe="UPDATE_XMPP_ATTENDEE_LIST",GGe="SET_ATTENDEE_EXTRA_KEY",{setAttendeesList:c4,setAssistantList:sJe,setIsAdmitAllSilentUsers:DLe,resetParticipants:MLe,addFailoverAttendees:lbe,removeFailoverAttendees:PLe,setClearRaiseHand:NLe,setClearAttendeeFeedback:LLe,updateAttendeeDisplayName:BLe,removeXmppAttendeeUser:VLe,updateXmppAttendeeList:FLe,setAttendeeExtraKey:J6}=Qd({[NGe]:e=>e,[LGe]:e=>e,[WGe]:e=>e,[BGe]:()=>({}),[VGe]:e=>e,[UGe]:e=>e,[$Ge]:e=>e,[FGe]:()=>({}),[HGe]:()=>({}),[zGe]:e=>e,[jGe]:e=>e,[GGe]:e=>e}),qGe={id:"userId",type:e=>Lk(e)?{userType:e,avatarBackgroundType:Math.floor(8*Math.random())+1}:{userType:e},role:e=>({userRole:e,isHost:q6(e)}),dn2:e=>({displayName:s1(e)}),bShareOn:"sharerOn",bSharePause:"sharerPause",bLocalRecordStatus:e=>({bLocalRecord:e}),bGuest:"isGuest",bCapsRequestLT:"isRequestLT",customerKey:"userIdentity"},cA=e=>{const n={};return["add","remove","update"].forEach((o=>{const i=o,c=e[i];c!=null&&(n[i]=c.reduce(((d,p)=>{const v=Object.keys(p).reduce(((_,x)=>{const P=qGe[x];return typeof P=="function"?Object.assign(_,P(p[x])):typeof P=="string"?Object.assign(_,{[`${P}`]:p[x]}):Object.assign(_,{[`${x}`]:p[x]}),_}),{}),S=d.find((_=>_.userId===v.userId));return S!==void 0?Object.assign(S,v):d.push(v),d}),[]))})),n},ZGe={name:"displayName",node:e=>({userId:Number(e)}),role:e=>({userRole:Number(e)})},nme=e=>Object.keys(e).reduce(((n,o)=>{const i=ZGe[o];return typeof i=="function"?Object.assign(n,i(e[o])):typeof i=="string"?Object.assign(n,{[`${i}`]:e[o]}):Object.assign(n,{[`${o}`]:e[o]}),n}),{});let gE=(function(e){return e.Add="add",e.List="list",e.Remove="memberremove",e.rename="rename",e.update="UPDATE",e})({});function K0(e){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(o.length?" "+o.map((function(c){return"'"+c+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function wk(e){return!!e&&!!e[Hb]}function _k(e){var n;return!!e&&((function(o){if(!o||typeof o!="object")return!1;var i=Object.getPrototypeOf(o);if(i===null)return!0;var c=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return c===Object||typeof c=="function"&&Function.toString.call(c)===QGe})(e)||Array.isArray(e)||!!e[X_e]||!!(!((n=e.constructor)===null||n===void 0)&&n[X_e])||v1e(e)||b1e(e))}function aee(e){return wk(e)||K0(23,e),e[Hb].t}function Q6(e,n,o){o===void 0&&(o=!1),u4(e)===0?(o?Object.keys:w1e)(e).forEach((function(i){o&&typeof i=="symbol"||n(i,e[i],e)})):e.forEach((function(i,c){return n(c,i,e)}))}function u4(e){var n=e[Hb];return n?n.i>3?n.i-4:n.i:Array.isArray(e)?1:v1e(e)?2:b1e(e)?3:0}function cbe(e,n){return u4(e)===2?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function HLe(e,n,o){var i=u4(e);i===2?e.set(n,o):i===3?e.add(o):e[n]=o}function v1e(e){return XGe&&e instanceof Map}function b1e(e){return JGe&&e instanceof Set}function B2(e){return e.o||e.t}function y1e(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var n=eqe(e);delete n[Hb];for(var o=w1e(n),i=0;i<o.length;i++){var c=o[i],d=n[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Object.getPrototypeOf(e),n)}function S1e(e,n){return n===void 0&&(n=!1),C1e(e)||wk(e)||!_k(e)||(u4(e)>1&&(e.set=e.add=e.clear=e.delete=KGe),Object.freeze(e),n&&Q6(e,(function(o,i){return S1e(i,!0)}),!0)),e}function KGe(){K0(2)}function C1e(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function EE(e){var n=tqe[e];return n||K0(18,e),n}function j_e(){return ez}function ome(e,n){n&&(EE("Patches"),e.u=[],e.s=[],e.v=n)}function lee(e){ube(e),e.p.forEach(YGe),e.p=null}function ube(e){e===ez&&(ez=e.l)}function W_e(e){return ez={p:[],l:ez,h:e,m:!0,_:0}}function YGe(e){var n=e[Hb];n.i===0||n.i===1?n.j():n.g=!0}function sme(e,n){n._=n.p.length;var o=n.p[0],i=e!==void 0&&e!==o;return n.h.O||EE("ES5").S(n,e,i),i?(o[Hb].P&&(lee(n),K0(4)),_k(e)&&(e=cee(n,e),n.l||uee(n,e)),n.u&&EE("Patches").M(o[Hb].t,e,n.u,n.s)):e=cee(n,o,[]),lee(n),n.u&&n.v(n.u,n.s),e!==$Le?e:void 0}function cee(e,n,o){if(C1e(n))return n;var i=n[Hb];if(!i)return Q6(n,(function(v,S){return G_e(e,i,n,v,S,o)}),!0),n;if(i.A!==e)return n;if(!i.P)return uee(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var c=i.i===4||i.i===5?i.o=y1e(i.k):i.o,d=c,p=!1;i.i===3&&(d=new Set(c),c.clear(),p=!0),Q6(d,(function(v,S){return G_e(e,i,c,v,S,o,p)})),uee(e,c,!1),o&&e.u&&EE("Patches").N(i,o,e.u,e.s)}return i.o}function G_e(e,n,o,i,c,d,p){if(wk(c)){var v=cee(e,c,d&&n&&n.i!==3&&!cbe(n.R,i)?d.concat(i):void 0);if(HLe(o,i,v),!wk(v))return;e.m=!1}else p&&o.add(c);if(_k(c)&&!C1e(c)){if(!e.h.D&&e._<1)return;cee(e,c),n&&n.A.l||uee(e,c)}}function uee(e,n,o){o===void 0&&(o=!1),!e.l&&e.h.D&&e.m&&S1e(n,o)}function rme(e,n){var o=e[Hb];return(o?B2(o):e)[n]}function q_e(e,n){if(n in e)for(var o=Object.getPrototypeOf(e);o;){var i=Object.getOwnPropertyDescriptor(o,n);if(i)return i;o=Object.getPrototypeOf(o)}}function dbe(e){e.P||(e.P=!0,e.l&&dbe(e.l))}function ime(e){e.o||(e.o=y1e(e.t))}function hbe(e,n,o){var i=v1e(n)?EE("MapSet").F(n,o):b1e(n)?EE("MapSet").T(n,o):e.O?(function(c,d){var p=Array.isArray(c),v={i:p?1:0,A:d?d.A:j_e(),P:!1,I:!1,R:{},l:d,t:c,k:null,o:null,j:null,C:!1},S=v,_=fbe;p&&(S=[v],_=Y5);var x=Proxy.revocable(S,_),P=x.revoke,B=x.proxy;return v.k=B,v.j=P,B})(n,o):EE("ES5").J(n,o);return(o?o.A:j_e()).p.push(i),i}function Z_e(e,n){switch(n){case 2:return new Map(e);case 3:return Array.from(e)}return y1e(e)}var K_e,ez,E1e=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",XGe=typeof Map<"u",JGe=typeof Set<"u",Y_e=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",$Le=E1e?Symbol.for("immer-nothing"):((K_e={})["immer-nothing"]=!0,K_e),X_e=E1e?Symbol.for("immer-draftable"):"__$immer_draftable",Hb=E1e?Symbol.for("immer-state"):"__$immer_state",QGe=""+Object.prototype.constructor,w1e=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,eqe=Object.getOwnPropertyDescriptors||function(e){var n={};return w1e(e).forEach((function(o){n[o]=Object.getOwnPropertyDescriptor(e,o)})),n},tqe={},fbe={get:function(e,n){if(n===Hb)return e;var o=B2(e);if(!cbe(o,n))return(function(c,d,p){var v,S=q_e(d,p);return S?"value"in S?S.value:(v=S.get)===null||v===void 0?void 0:v.call(c.k):void 0})(e,o,n);var i=o[n];return e.I||!_k(i)?i:i===rme(e.t,n)?(ime(e),e.o[n]=hbe(e.A.h,i,e)):i},has:function(e,n){return n in B2(e)},ownKeys:function(e){return Reflect.ownKeys(B2(e))},set:function(e,n,o){var i=q_e(B2(e),n);if(i?.set)return i.set.call(e.k,o),!0;if(!e.P){var c=rme(B2(e),n),d=c?.[Hb];if(d&&d.t===o)return e.o[n]=o,e.R[n]=!1,!0;if((function(p,v){return p===v?p!==0||1/p==1/v:p!=p&&v!=v})(o,c)&&(o!==void 0||cbe(e.t,n)))return!0;ime(e),dbe(e)}return e.o[n]===o&&(o!==void 0||n in e.o)||Number.isNaN(o)&&Number.isNaN(e.o[n])||(e.o[n]=o,e.R[n]=!0),!0},deleteProperty:function(e,n){return rme(e.t,n)!==void 0||n in e.t?(e.R[n]=!1,ime(e),dbe(e)):delete e.R[n],e.o&&delete e.o[n],!0},getOwnPropertyDescriptor:function(e,n){var o=B2(e),i=Reflect.getOwnPropertyDescriptor(o,n);return i&&{writable:!0,configurable:e.i!==1||n!=="length",enumerable:i.enumerable,value:o[n]}},defineProperty:function(){K0(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){K0(12)}},Y5={};Q6(fbe,(function(e,n){Y5[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),Y5.deleteProperty=function(e,n){return Y5.set.call(this,e,n,void 0)},Y5.set=function(e,n,o){return fbe.set.call(this,e[0],n,o,e[0])};var nqe=(function(){function e(o){var i=this;this.O=Y_e,this.D=!0,this.produce=function(c,d,p){if(typeof c=="function"&&typeof d!="function"){var v=d;d=c;var S=i;return function(H){var K=this;H===void 0&&(H=v);for(var oe=arguments.length,ce=Array(oe>1?oe-1:0),re=1;re<oe;re++)ce[re-1]=arguments[re];return S.produce(H,(function(ye){var _e;return(_e=d).call.apply(_e,[K,ye].concat(ce))}))}}var _;if(typeof d!="function"&&K0(6),p!==void 0&&typeof p!="function"&&K0(7),_k(c)){var x=W_e(i),P=hbe(i,c,void 0),B=!0;try{_=d(P),B=!1}finally{B?lee(x):ube(x)}return typeof Promise<"u"&&_ instanceof Promise?_.then((function(H){return ome(x,p),sme(H,x)}),(function(H){throw lee(x),H})):(ome(x,p),sme(_,x))}if(!c||typeof c!="object"){if((_=d(c))===void 0&&(_=c),_===$Le&&(_=void 0),i.D&&S1e(_,!0),p){var z=[],U=[];EE("Patches").M(c,_,z,U),p(z,U)}return _}K0(21,c)},this.produceWithPatches=function(c,d){if(typeof c=="function")return function(_){for(var x=arguments.length,P=Array(x>1?x-1:0),B=1;B<x;B++)P[B-1]=arguments[B];return i.produceWithPatches(_,(function(z){return c.apply(void 0,[z].concat(P))}))};var p,v,S=i.produce(c,d,(function(_,x){p=_,v=x}));return typeof Promise<"u"&&S instanceof Promise?S.then((function(_){return[_,p,v]})):[S,p,v]},typeof o?.useProxies=="boolean"&&this.setUseProxies(o.useProxies),typeof o?.autoFreeze=="boolean"&&this.setAutoFreeze(o.autoFreeze)}var n=e.prototype;return n.createDraft=function(o){_k(o)||K0(8),wk(o)&&(o=(function(d){return wk(d)||K0(22,d),(function p(v){if(!_k(v))return v;var S,_=v[Hb],x=u4(v);if(_){if(!_.P&&(_.i<4||!EE("ES5").K(_)))return _.t;_.I=!0,S=Z_e(v,x),_.I=!1}else S=Z_e(v,x);return Q6(S,(function(P,B){_&&(function(z,U){return u4(z)===2?z.get(U):z[U]})(_.t,P)===B||HLe(S,P,p(B))})),x===3?new Set(S):S})(d)})(o));var i=W_e(this),c=hbe(this,o,void 0);return c[Hb].C=!0,ube(i),c},n.finishDraft=function(o,i){var c=(o&&o[Hb]).A;return ome(c,i),sme(void 0,c)},n.setAutoFreeze=function(o){this.D=o},n.setUseProxies=function(o){o&&!Y_e&&K0(20),this.O=o},n.applyPatches=function(o,i){var c;for(c=i.length-1;c>=0;c--){var d=i[c];if(d.path.length===0&&d.op==="replace"){o=d.value;break}}c>-1&&(i=i.slice(c+1));var p=EE("Patches").$;return wk(o)?p(o,i):this.produce(o,(function(v){return p(v,i)}))},e})(),Fy=new nqe,pt=Fy.produce;Fy.produceWithPatches.bind(Fy),Fy.setAutoFreeze.bind(Fy),Fy.setUseProxies.bind(Fy),Fy.applyPatches.bind(Fy),Fy.createDraft.bind(Fy),Fy.finishDraft.bind(Fy);const J_e={attendeesList:[],assistantList:[],xmppAttendeeList:[],allowTalkAttendeesList:[],failoverAttendeesList:[],isAdmitAllSilentUsers:!1},oqe=wm({[`${c4}`]:pt(((e,{payload:n})=>{n.add!==void 0&&n.add.length>0&&n.add.forEach((o=>{if(o.userType===vve.Assitant){const i=e.assistantList.find((c=>c.userId===o.userId));i!==void 0?Object.assign(i,o):e.assistantList.push(o)}else if(BQ(o.userRole)){const i=e.allowTalkAttendeesList.find((c=>c.userId===o.userId));i!==void 0?Object.assign(i,o):e.allowTalkAttendeesList.push(o)}else{const i=e.attendeesList.find((c=>c.userId===o.userId));i!==void 0?Object.assign(i,o):e.attendeesList.push(o)}})),n.update!==void 0&&n.update.length>0&&n.update.forEach((o=>{const i=e.attendeesList.find((c=>c.userId===o.userId));if(i!==void 0)Object.assign(i,o);else{const c=e.allowTalkAttendeesList.find((d=>d.userId===o.userId));if(c!==void 0)Object.assign(c,o);else{const d=e.assistantList.find((p=>p.userId===o.userId));d!==void 0&&Object.assign(d,o)}}})),n.remove!==void 0&&n.remove.length>0&&n.remove.forEach((o=>{const i=e.attendeesList.findIndex((c=>c.userId===o.userId));if(i!==-1)e.attendeesList.splice(i,1);else{const c=e.allowTalkAttendeesList.findIndex((d=>d.userId===o.userId));if(c!==-1)e.allowTalkAttendeesList.splice(c,1);else{const d=e.assistantList.findIndex((p=>p.userId===o.userId));d!==-1&&e.assistantList.splice(d,1)}}}))})),[`${FLe}`]:pt(((e,{payload:n})=>{const{xmppAttendeeList:o}=e,i=o.map((c=>c.jid));n.forEach((c=>{const{jid:d}=c,p=i.indexOf(d);p!==-1?Object.assign(o[p],c):o.push(c)}))})),[`${DLe}`]:pt(((e,{payload:n})=>{e.isAdmitAllSilentUsers=n})),[`${NLe}`]:pt((e=>{e.attendeesList.forEach((n=>{n.bRaiseHand&&(n.bRaiseHand=!1)}))})),[`${LLe}`]:pt((e=>{e.attendeesList.forEach((n=>{n.feedback>0&&(n.feedback=0)}))})),[`${lbe}`]:pt(((e,{payload:n})=>{e.failoverAttendeesList.push(n)})),[`${PLe}`]:pt(((e,{payload:n})=>{n.forEach((o=>{const i=e.failoverAttendeesList.findIndex((c=>c.zoomID===o.zoomID));i!==-1&&e.failoverAttendeesList.splice(i,1)}))})),[`${BLe}`]:pt(((e,{payload:n})=>{const{jid:o,name:i}=n,c=e.xmppAttendeeList.find((d=>d.jid===o));c&&(c.displayName=i)})),[`${VLe}`]:pt(((e,{payload:n})=>{const{jid:o}=n,i=e.xmppAttendeeList.findIndex((c=>c.jid===o));o!==-1&&e.xmppAttendeeList.splice(i,1)})),[`${J6}`]:pt(((e,{payload:n})=>{const{userId:o,key:i,value:c}=n,d=e.attendeesList.find((p=>p.userId===o));d&&(d[`${i}`]=c)})),[`${MLe}`]:()=>J_e},J_e),sqe={epics0:(e,n)=>Ro(e,Vl).pipe(So((o=>cA(o.payload.body))),Qo(n),nn((([o,i])=>{let c=[c4(o)];const{meeting:{userId:d,isWebinar:p,isOnHold:v},participants:{attendeesList:S,failoverAttendeesList:_,allowTalkAttendeesList:x}}=i,P=x.map((z=>z.userId));if(o.add){const z=o.add.filter((H=>H.userId===d));z.length>0&&z.forEach((H=>{H.bHold!==void 0&&c.push(l3(H.bHold)),S.some((K=>K.userId===H.userId))?it(Mp,H):it(Rz,H)}));const U=o.add.filter((H=>H.userId!==d));if(U.length>0){const H=U.filter((oe=>!BQ(oe.userRole))).map((oe=>{const ce={...oe};if(Lk(oe.userType)){var re;const _e=(re=i.audio)===null||re===void 0?void 0:re.dialout.find((Oe=>Oe.phoneNodeId===oe.userId));_e&&Object.assign(ce,{phoneNumber:_e.phoneNumber})}const ye=_.find((_e=>_e.zoomID===oe.zoomID));return ye&&Object.assign(ce,{source:ye.isOnHold?"on hold":"failover"}),ce})),K=H.filter((oe=>!!oe.source)).map((oe=>({zoomID:oe.zoomID})));if(c.push(PLe(K)),it(mte,H),p){const oe=U.filter((ce=>BQ(ce.userRole)));oe.length>0&&it(uO,oe.map((ce=>({userId:ce.userId,isAllowToTalk:!0}))))}}}if(o.update){const z=o.update.filter((H=>H.userId===d));z.length>0&&z.forEach((H=>{it(Mp,H),H.bHold!==void 0&&c.push(l3(H.bHold))}));const U=o.update.filter((H=>!(H.userId===d||P.includes(H.userId))));if(U.length>0&&it(NS,U),p){const H=o.update.filter((K=>K.userId!==d&&P.includes(K.userId)));H.length>0&&it(uO,H)}}if(o.remove){const z=o.remove.map((U=>{const H=S.find((K=>K.userId===U.userId));return H?U.action===2&&U.nUserStatus===1?H.bHold?(c.push(lbe({zoomID:H.zoomID,isOnHold:!0})),{...U,...H,reason:"on hold"}):(c.push(lbe({zoomID:H.zoomID,isOnHold:!1})),{...U,...H,reason:"failover"}):{...U,...H}:null})).filter((U=>!!U));if(it(F0e,z),p){const U=o.remove.filter((H=>P.includes(H.userId)));U.length>0&&it(uO,U.map((H=>({userId:H.userId,isAllowToTalk:!1}))))}}const B=c.filter((z=>z.type===`${l3}`));if(B.length>0){const z=B[B.length-1];c=c.filter((U=>U.type!==`${l3}`)),z.payload!==v&&(c.push(z),it(H0e,!v))}return Kn(c)}))),epics1:(e,n)=>R3(e,24595).pipe(nn((o=>{const{payload:{body:{action:i,data:c}}}=o,{meeting:{jid:d},participants:{xmppAttendeeList:p}}=n.value,v=[];if(i===gE.rename){c.forEach((_=>{v.push(BLe(_))}));const S=c.map((_=>nme(_)));it(uO,S)}if(i===gE.Remove){c.forEach((_=>{v.push(VLe(_))}));const S=c.map((_=>({...nme(_),removed:!0})));it(KDe,S)}if([gE.Add,gE.List,gE.update].includes(i)){const S=c.map((_=>{const x=nme(_);return Object.keys(x).reduce(((P,B)=>(x[B]!==""&&Object.assign(P,{[B]:x[B]}),P)),{})}));if(it(uO,S),v.push(FLe(S)),i===gE.update){const _=c.find((x=>x.jid===d));if(_&&_.bRaiseHand!==void 0){const x=p.find((P=>P.jid===d));x?.bRaiseHand!==_.bRaiseHand&&it("MEETING_WEBINAR_ATTENDEE_RAISE_HAND",{bRaiseHand:_.bRaiseHand})}}}return Kn(v)}))),epics2:e=>Ro(e,7951).pipe(Bo((n=>{n.payload.body.bStarted===!1&&it("ADMIT_ALL_SILENT_USERS_END",n.payload.body.bStarted)})),So((n=>DLe(n.payload.body.bStarted)))),epics3:e=>Ro(e,7946).pipe(yn((n=>{var o;return["bRaiseHand","feedback"].includes((o=n.payload.body)===null||o===void 0?void 0:o.key)&&n.payload.body.value===0})),So((n=>(it(NS,{}),n.payload.body.key==="bRaiseHand"?NLe():LLe()))))},rqe=xg(sqe);function Q_e(e){return function(n,o,i){const c=i.value;i.value=function(...d){const p=this[uc];if(p){const{meeting:{meetingOptions:v}}=p.getState();if(v[e]===!0)return Promise.reject({type:"OPERATION_LOCKED",reason:`${e} is locked`})}return c.apply(this,d)}}}let bO=(function(e){return e.Self="Self",e.Other="Other",e.Client="Client",e.Phone="Phone",e.Attendee="Attendee",e})({});function ame(e){return function(n,o,i){const c=i.value;i.value=function(d,...p){const v=this[uc];if(v){const _=v.getState(),x=Array.isArray(e)?e:[e];let P=Na(_).find((B=>B.userId===d));if(x.findIndex((B=>B===bO.Attendee))>-1&&(P=kz(_).find((B=>B.userId===d))),!P)return Promise.reject({type:tr,reason:"no matching user"});{const{meeting:{userId:B}}=v.getState();for(let z=0;z<x.length;z++){const U=x[z];if(U===bO.Other&&d===B)return Promise.reject({type:ln,reason:"operation is not applicable to self"});if(U===bO.Self&&d!==B)return Promise.reject({type:ln,reason:"operation is only applicable to self "});if(U===bO.Client&&Lk(P.userType)||U===bO.Phone&&!Lk(P.userType))return Promise.reject({types:ln,reason:"improper target client"})}}}const S=[d,...p];return c.apply(this,S)}}}var lme,iqe=new Uint8Array(16);function aqe(){if(!lme&&!(lme=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lme(iqe)}for(var lqe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,bm=[],cme=0;cme<256;++cme)bm.push((cme+256).toString(16).substr(1));function dee(e,n,o){var i=(e=e||{}).random||(e.rng||aqe)();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,(function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=(bm[c[d+0]]+bm[c[d+1]]+bm[c[d+2]]+bm[c[d+3]]+"-"+bm[c[d+4]]+bm[c[d+5]]+"-"+bm[c[d+6]]+bm[c[d+7]]+"-"+bm[c[d+8]]+bm[c[d+9]]+"-"+bm[c[d+10]]+bm[c[d+11]]+bm[c[d+12]]+bm[c[d+13]]+bm[c[d+14]]+bm[c[d+15]]).toLowerCase();if(!(function(v){return typeof v=="string"&&lqe.test(v)})(p))throw TypeError("Stringified UUID is invalid");return p})(i)}let ba=(function(e){return e.LocalStorage="LocalStorage",e.SessionStorage="SessionStorage",e.Memory="Memory",e})({});const eAe=bu("{}");class ei{constructor(n){this.sessionStorageKey=void 0,this.localStorageKey=void 0,this.sessionCache=void 0,this.localCache=void 0,this.memoryCache=void 0,this.sessionStorageKey=bu(`zoom-storage-${n}`),this.localStorageKey=bu("zoom-local-storage"),this.memoryCache={};try{this.sessionCache=JSON.parse(s1(sessionStorage.getItem(this.sessionStorageKey)||eAe)),this.localCache=JSON.parse(s1(localStorage.getItem(this.localStorageKey)||eAe))}catch(o){console.error(o),this.sessionCache={},this.localCache={}}}static init(n){this.instance=new ei(n)}static get(n){if(this.instance===void 0)throw new Error("read before initial");return this.instance.getValue(n).value}static set(n,o,i){if(this.instance===void 0)throw new Error("set before initial");return this.instance.setValue(n,o,i)}static remove(n){if(this.instance===void 0)throw new Error("remove before initial");return this.instance.removeValue(n)}static clearSession(){if(this.instance!==void 0)return this.instance.memoryCache={},this.instance.sessionCache={},this.instance.localCache={},sessionStorage.removeItem(this.instance.sessionStorageKey);console.warn("clear before initial")}getValue(n){return this.sessionCache.hasOwnProperty(n)?{value:this.sessionCache[n],type:ba.SessionStorage}:this.localCache.hasOwnProperty(n)?{value:this.localCache[n],type:ba.LocalStorage}:{value:this.memoryCache[n],type:ba.Memory}}setValue(n,o,i){if(!n)throw new Error("key is null");switch(i){case ba.SessionStorage:{const c=this.sessionCache[n];let d=o;return typeof o=="function"&&(d=o(c)),c!==d&&(this.sessionCache[n]=d,this.flushValue(ba.SessionStorage)),d}case ba.LocalStorage:{const c=this.localCache[n];let d=o;return typeof o=="function"&&(d=o(c)),c!==d&&(this.localCache[n]=d,this.flushValue(ba.LocalStorage)),d}case ba.Memory:{const c=this.memoryCache[n];let d=o;return typeof o=="function"&&(d=o(c)),this.memoryCache[n]=d,d}default:return null}}removeValue(n){const{type:o}=this.getValue(n);switch(o){case ba.SessionStorage:delete this.sessionCache[n],this.flushValue(ba.SessionStorage);break;case ba.LocalStorage:delete this.localCache[n],this.flushValue(ba.LocalStorage);break;case ba.Memory:delete this.memoryCache[n]}}flushValue(n){n===ba.SessionStorage?sessionStorage.setItem(this.sessionStorageKey,bu(JSON.stringify(this.sessionCache))):n===ba.LocalStorage&&localStorage.setItem(this.localStorageKey,bu(JSON.stringify(this.localCache)))}}ei.instance=void 0;let tl=(function(e){return e.WebclientOpt="WEB_CLIENT_OPT",e.WebclientWebinarToken="WEB_CLIENT_WEBINAR_TOKEN",e.WebclientMeetingToken="WEB_CLIENT_MEETING_TOKEN",e.WebclientZtk="WEB_CLIENT_ZTK",e.WebclientZsk="WEB_CLIENT_ZSK",e.WebclientTk="WEB_CLIENT_TK",e.WebclientIVState="WEB_CLIENT_IV_STATE",e.WebclientIsOnHold="WEB_CLIENT_IS_ON_HOLD",e.WebclientParticipantId="WEB_CLIENT_PARTICIPANT_ID",e.WebclientZoomId="WEB_CLIENT_ZOOM_ID",e.WebclientUserName="WEB_CLIENT_USER_NAME",e.WebclientUserEmail="WEB_CLIENT_USER_EMAIL",e.WebclientBreakoutRoomAttendeeStatus="WEB_CLIENT_BO_ATTENDEE_STATUS",e.WebclientBreakoutRoomCommand="WEB_CLIENT_BO_COMMAND",e.WebclientAudioEncryptKey="WEB_CLIENT_AUDIO_ENCRYPT_KEY",e.WebclientVideoEncryptKey="WEB_CLIENT_VIDEO_ENCRYPT_KEY",e.WebclientSharingEncryptKey="WEB_CLIENT_SHARING_ENCRYPT_KEY",e.WebclientFailoverCount="WEB_CLIENT_FAILOVER_COUNT",e.WebclientRecordingToken="WEB_CLIENT_RECORDING_TOKEN",e.VideoSDKWebRTCAudioFallbackWasm="VIDEO_SDK_WEB_RTC_AUDIO_FALLBACK_WASM",e.VideoSDKWebRTCVideoFallbackWasm="VIDEO_SDK_WEB_RTC_VIDEO_FALLBACK_WASM",e.VIDEO_SDK_BROADCAST_STREAMING_CHANNEL_ID="VIDEO_SDK_BROADCAST_STREAMING_CHANNEL_ID",e})({}),pbe=(function(e){return e.WebclientDeviceId="WEBCLIENT_DEVICE_ID",e.VSDKLogTrackingId="ZM_VSDK_LOG_TRACKING_IDS",e})({}),ULe=(function(e){return e.DisableAutoReportLogs="DISABLE_AUTO_REPORT_LOGS",e})({});var Op,Zu,hee,SE;(function(e){e[e.PLAIN=0]="PLAIN",e[e.RSA=1]="RSA",e[e.AESGCM256=2]="AESGCM256"})(Op||(Op={})),(function(e){e[e.info=0]="info",e[e.debug=1]="debug",e[e.log=2]="log",e[e.warn=3]="warn",e[e.error=4]="error"})(Zu||(Zu={})),(function(e){e[e.PROTECT_LOCAL_KEY=0]="PROTECT_LOCAL_KEY"})(hee||(hee={})),(function(e){e.beforeInit="beforeInit",e.afterInit="afterInit",e.beforeLog="beforeLog",e.hitSizeLimit="hitSizeLimit",e.afterLog="afterLog",e.beforeReport="beforeReport",e.afterReport="afterReport"})(SE||(SE={}));class _1e{constructor(){}}var tAe,nAe,oAe={exports:{}},sAe={exports:{}},cqe=(function(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var o=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach((function(i){var c=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(o,i,c.get?c:{enumerable:!0,get:function(){return e[i]}})})),o})(Object.freeze({__proto__:null,default:{}}));function zLe(){return tAe||(tAe=1,sAe.exports=(e=e||(function(n){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&sk!==void 0&&sk.crypto&&(o=sk.crypto),!o)try{o=cqe}catch{}var i=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||(function(){function H(){}return function(K){var oe;return H.prototype=K,oe=new H,H.prototype=null,oe}})(),d={},p=d.lib={},v=p.Base={extend:function(H){var K=c(this);return H&&K.mixIn(H),K.hasOwnProperty("init")&&this.init!==K.init||(K.init=function(){K.$super.init.apply(this,arguments)}),K.init.prototype=K,K.$super=this,K},create:function(){var H=this.extend();return H.init.apply(H,arguments),H},init:function(){},mixIn:function(H){for(var K in H)H.hasOwnProperty(K)&&(this[K]=H[K]);H.hasOwnProperty("toString")&&(this.toString=H.toString)},clone:function(){return this.init.prototype.extend(this)}},S=p.WordArray=v.extend({init:function(H,K){H=this.words=H||[],this.sigBytes=K??4*H.length},toString:function(H){return(H||x).stringify(this)},concat:function(H){var K=this.words,oe=H.words,ce=this.sigBytes,re=H.sigBytes;if(this.clamp(),ce%4)for(var ye=0;ye<re;ye++){var _e=oe[ye>>>2]>>>24-ye%4*8&255;K[ce+ye>>>2]|=_e<<24-(ce+ye)%4*8}else for(var Oe=0;Oe<re;Oe+=4)K[ce+Oe>>>2]=oe[Oe>>>2];return this.sigBytes+=re,this},clamp:function(){var H=this.words,K=this.sigBytes;H[K>>>2]&=4294967295<<32-K%4*8,H.length=n.ceil(K/4)},clone:function(){var H=v.clone.call(this);return H.words=this.words.slice(0),H},random:function(H){for(var K=[],oe=0;oe<H;oe+=4)K.push(i());return new S.init(K,H)}}),_=d.enc={},x=_.Hex={stringify:function(H){for(var K=H.words,oe=H.sigBytes,ce=[],re=0;re<oe;re++){var ye=K[re>>>2]>>>24-re%4*8&255;ce.push((ye>>>4).toString(16)),ce.push((15&ye).toString(16))}return ce.join("")},parse:function(H){for(var K=H.length,oe=[],ce=0;ce<K;ce+=2)oe[ce>>>3]|=parseInt(H.substr(ce,2),16)<<24-ce%8*4;return new S.init(oe,K/2)}},P=_.Latin1={stringify:function(H){for(var K=H.words,oe=H.sigBytes,ce=[],re=0;re<oe;re++){var ye=K[re>>>2]>>>24-re%4*8&255;ce.push(String.fromCharCode(ye))}return ce.join("")},parse:function(H){for(var K=H.length,oe=[],ce=0;ce<K;ce++)oe[ce>>>2]|=(255&H.charCodeAt(ce))<<24-ce%4*8;return new S.init(oe,K)}},B=_.Utf8={stringify:function(H){try{return decodeURIComponent(escape(P.stringify(H)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(H){return P.parse(unescape(encodeURIComponent(H)))}},z=p.BufferedBlockAlgorithm=v.extend({reset:function(){this._data=new S.init,this._nDataBytes=0},_append:function(H){typeof H=="string"&&(H=B.parse(H)),this._data.concat(H),this._nDataBytes+=H.sigBytes},_process:function(H){var K,oe=this._data,ce=oe.words,re=oe.sigBytes,ye=this.blockSize,_e=re/(4*ye),Oe=(_e=H?n.ceil(_e):n.max((0|_e)-this._minBufferSize,0))*ye,F=n.min(4*Oe,re);if(Oe){for(var Me=0;Me<Oe;Me+=ye)this._doProcessBlock(ce,Me);K=ce.splice(0,Oe),oe.sigBytes-=F}return new S.init(K,F)},clone:function(){var H=v.clone.call(this);return H._data=this._data.clone(),H},_minBufferSize:0});p.Hasher=z.extend({cfg:v.extend(),init:function(H){this.cfg=this.cfg.extend(H),this.reset()},reset:function(){z.reset.call(this),this._doReset()},update:function(H){return this._append(H),this._process(),this},finalize:function(H){return H&&this._append(H),this._doFinalize()},blockSize:16,_createHelper:function(H){return function(K,oe){return new H.init(oe).finalize(K)}},_createHmacHelper:function(H){return function(K,oe){return new U.HMAC.init(H,oe).finalize(K)}}});var U=d.algo={};return d})(Math),e)),sAe.exports;var e}var rAe,ume,jLe=nAe?oAe.exports:(nAe=1,oAe.exports=zLe().enc.Utf8),iAe={exports:{}},WLe=(rAe||(rAe=1,iAe.exports=(ume=zLe(),(function(){var e=ume,n=e.lib.WordArray;function o(i,c,d){for(var p=[],v=0,S=0;S<c;S++)if(S%4){var _=d[i.charCodeAt(S-1)]<<S%4*2|d[i.charCodeAt(S)]>>>6-S%4*2;p[v>>>2]|=_<<24-v%4*8,v++}return n.create(p,v)}e.enc.Base64={stringify:function(i){var c=i.words,d=i.sigBytes,p=this._map;i.clamp();for(var v=[],S=0;S<d;S+=3)for(var _=(c[S>>>2]>>>24-S%4*8&255)<<16|(c[S+1>>>2]>>>24-(S+1)%4*8&255)<<8|c[S+2>>>2]>>>24-(S+2)%4*8&255,x=0;x<4&&S+.75*x<d;x++)v.push(p.charAt(_>>>6*(3-x)&63));var P=p.charAt(64);if(P)for(;v.length%4;)v.push(P);return v.join("")},parse:function(i){var c=i.length,d=this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var v=0;v<d.length;v++)p[d.charCodeAt(v)]=v}var S=d.charAt(64);if(S){var _=i.indexOf(S);_!==-1&&(c=_)}return o(i,c,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),ume.enc.Base64)),iAe.exports),fee=function(e,n,o,i){return new(o||(o=Promise))((function(c,d){function p(_){try{S(i.next(_))}catch(x){d(x)}}function v(_){try{S(i.throw(_))}catch(x){d(x)}}function S(_){var x;_.done?c(_.value):(x=_.value,x instanceof o?x:new o((function(P){P(x)}))).then(p,v)}S((i=i.apply(e,[])).next())}))};const uqe=e=>{try{const n=WLe.parse(e);return jLe.stringify(n)}catch{return e}},pee=e=>{for(var n=e.length,o=e.length-1;o>=0;o--){var i=e.charCodeAt(o);i>127&&i<=2047?n++:i>2047&&i<=65535&&(n+=2),i>=56320&&i<=57343&&o--}return n},GLe=()=>fee(void 0,void 0,void 0,(function*(){return yield self.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])})),dqe=(e,n,o)=>fee(void 0,void 0,void 0,(function*(){try{return yield self.crypto.subtle.encrypt({name:"AES-GCM",iv:o},n,e)}catch(i){throw i}})),hqe=(e,n)=>{const o=typeof e=="string"?(function(i){const c=new ArrayBuffer(i.length),d=new Uint8Array(c);for(let p=0,v=i.length;p<v;p++)d[p]=i.charCodeAt(p);return c})(e):e;return self.crypto.subtle.encrypt({name:"RSA-OAEP"},n,o)},qLe={},mee=(e,n)=>{qLe[n]=e},fqe=qLe,A1e=e=>{try{return JSON.stringify(e)}catch{return"json stringify failed"}},pqe=e=>{try{return JSON.parse(e)}catch{return e}},aAe=e=>{let n=0;return n+=pee(e.message),e.tags.forEach((o=>{n+=pee(o)})),n};class mqe{constructor(n){this.uuid="randomUUID"in self.crypto?self.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(B=>(B^crypto.getRandomValues(new Uint8Array(1))[0]&15>>B/4).toString(16)));const{databaseName:o,maxSize:i,publicKey:c,reportUrl:d,plugins:p,idbManager:v,logManager:S,currentSize:_,externalKeys:x,codecWorkerFilePath:P}=n;this.databaseName=o,this.maxSize=i,this.publicKey=c??"",this.reportUrl=d??"",this.plugins=p??[],this.idbManager=v,this.logManager=S,this.currentSize=_??0,this.externalKeys=x,this.commonMethods=Object.assign({},fqe)}getLocalAESGCM256Key(){var n;return(function(o,i,c,d){return new(c||(c=Promise))((function(p,v){function S(P){try{x(d.next(P))}catch(B){v(B)}}function _(P){try{x(d.throw(P))}catch(B){v(B)}}function x(P){var B;P.done?p(P.value):(B=P.value,B instanceof c?B:new c((function(z){z(B)}))).then(S,_)}x((d=d.apply(o,[])).next())}))})(this,void 0,void 0,(function*(){if(this.localAESGCM256Key)return this.localAESGCM256Key;this.localAESGCM256Key=yield GLe();const o=this.externalKeys?(n=this.externalKeys.filter((i=>i.usage===hee.PROTECT_LOCAL_KEY))[0])===null||n===void 0?void 0:n.key:void 0;return yield this.idbManager.saveAESGCM256Key(this.uuid,this.localAESGCM256Key,o),this.localAESGCM256Key}))}updateCurrentSize(n){var o;let i=(o=this.currentSize)!==null&&o!==void 0?o:0;if(n instanceof Map)for(const[c,d]of n)i+=aAe(d);else i+=aAe(n);return this.currentSize=i,i>=this.maxSize}}const dme=(...e)=>{const n={},o=[];for(const c of e)c.forEach((d=>{n[d.id]||(n[d.id]=!0,o.push(d))}));const i=new Map;return o.sort(((c,d)=>c?.id-d?.id)).forEach((c=>{i.set(c.id,c)})),i},CX=(e,n)=>{const o=new Map;return n.forEach((i=>{e(i)&&o.set(i.id,i)})),o};class gqe{constructor(){this.getStore=()=>({byTag:Object.assign({},this.store.byTag),byTime:new Map(this.store.byTime)}),this.pushByTime=n=>{for(const o of n)this.store.byTime.set(o.id,o)},this.pushByTag=n=>{n.forEach((o=>{const i=o.tags;Array.isArray(i)&&i.forEach((c=>{this.store.byTag[c]||(this.store.byTag[c]=new Map),this.store.byTag[c].set(o.id,o)}))}))},this.addLog=n=>{let o=n;Array.isArray(n)||(o=[n]),this.pushByTime(o),this.pushByTag(o)},this.syncFromIDB=n=>(function(o,i,c,d){return new(c||(c=Promise))((function(p,v){function S(P){try{x(d.next(P))}catch(B){v(B)}}function _(P){try{x(d.throw(P))}catch(B){v(B)}}function x(P){var B;P.done?p(P.value):(B=P.value,B instanceof c?B:new c((function(z){z(B)}))).then(S,_)}x((d=d.apply(o,[])).next())}))})(this,void 0,void 0,(function*(){const o=yield n.getAllLogs();this.addLog(o)})),this.reset=()=>{this.store={byTag:{},byTime:new Map}},this.deleteLogs=n=>{for(const o of n){const i=this.store.byTime.get(o);if(!i)continue;const{tags:c}=i;for(const d of c)this.store.byTag[d].delete(o);this.store.byTime.delete(o)}},this.filterStore=n=>{const o=((c,d)=>{if(!d)return c.byTime;if(typeof d=="string")return c.byTag[d]||new Map;if(Array.isArray(d)){if(d.every((p=>typeof p=="string")))return dme(...d.map((p=>c.byTag[p])).filter((p=>!!p)))}else{if(typeof d=="function")return CX(d,c.byTime);if(typeof d=="object")if(d.tags&&d.filter){if(typeof d.tags=="string")return CX(d.filter,c.byTag[d.tags]);if(Array.isArray(d.tags)&&d.tags.every((p=>typeof p=="string")))return dme(...d.tags.map((p=>{const v=c.byTag[p];return v?CX(d.filter,v):new Map})))}else{if(d.filter)return CX(d.filter,c.byTime);if(d.tags){if(typeof d=="string")return c.byTag[d]||new Map;if(Array.isArray(d)&&d.every((p=>typeof p=="string")))return dme(...d.map((p=>c.byTag[p])))}}else console.error("Wrong filter type")}return new Map})(this.store,n),i=new Map;for(const[c,d]of o){const p=Object.assign(Object.assign({},d),{message:pqe(uqe(d.message))});i.set(c,p)}return i},this.store={byTag:{},byTime:new Map}}}function OO(e,n,o){const i=e.plugins;if(!Array.isArray(i))return o;let c=o;return i.forEach((d=>{const p=d[n];if(typeof p=="function"){const v=p(e,c);v&&(c=v)}})),c}const ZLe=(e,n,o,i,c,d={})=>(function(p,v,S,_){return new(S||(S=Promise))((function(x,P){function B(H){try{U(_.next(H))}catch(K){P(K)}}function z(H){try{U(_.throw(H))}catch(K){P(K)}}function U(H){var K;H.done?x(H.value):(K=H.value,K instanceof S?K:new S((function(oe){oe(K)}))).then(B,z)}U((_=_.apply(p,[])).next())}))})(void 0,void 0,void 0,(function*(){const{noCache:p,extraProperties:v={}}=d,S=((x,P,B,z,U,H)=>{const K=Array.isArray(P)?P:[P],oe=Date.now();return Object.assign({message:x,logLevel:B,tags:K,encryptMode:z,timestamp:oe,laplaceSessionId:U},H)})(`${n}`,o,i,c,e.uuid,v),_=OO(e,SE.beforeLog,S);if(p)OO(e,SE.afterLog,S);else{const{idbManager:x,logManager:P}=e,B=yield x.makeNextId();_.message=(U=>{try{const H=jLe.parse(U);return WLe.stringify(H)}catch{return U}})(_.message);const z=Object.assign(Object.assign({},_),{id:B});e.updateCurrentSize(z)&&OO(e,SE.hitSizeLimit,z),P.addLog(z),yield x.addLog(z),OO(e,SE.afterLog,z)}}));mee(ZLe,"commonLog");const vqe=e=>new Promise((n=>{if(e.isSendByBeacon)navigator.sendBeacon?(navigator.sendBeacon(e.url,e.data),n({report:e.reportItem})):n({error:"sendBeacon is not supported",report:e.reportItem});else{const o=new XMLHttpRequest;o.open(e.type||"GET",e.url,!0),o.withCredentials=e.withCredentials,o.onerror=i=>{n({error:i,report:e.reportItem})},o.onreadystatechange=function(){if(o.readyState===4){const i=o.status;n(i>=200&&i<300?{report:e.reportItem}:{error:`Request failed, status: ${i}, responseText: ${o.responseText}`,report:e.reportItem})}},Object.entries(e.headers).forEach((([i,c])=>{c&&i&&o.setRequestHeader(i,c)})),o.send(e.data)}})),FL=(e,n=2)=>{let o=`${e}`;for(;o.length<n;)o=`0${o}`;return o},KLe=e=>{const n=new Date(e);return`${n.getUTCFullYear()}-${FL(n.getUTCMonth()+1)}-${FL(n.getUTCDate())} ${FL(n.getUTCHours())}:${FL(n.getUTCMinutes())}:${FL(n.getUTCSeconds())}.${FL(n.getUTCMilliseconds(),3)}`},YLe={version:"000001",flag:"0"},bqe=(e,n)=>Array.from(e.values()).reduce(((o,i)=>{const c=((v,S)=>{const{message:_,logLevel:x,tags:P,timestamp:B,encryptMode:z,id:U}=v,H=(function(oe,ce){var re={};for(var ye in oe)Object.prototype.hasOwnProperty.call(oe,ye)&&ce.indexOf(ye)<0&&(re[ye]=oe[ye]);if(oe!=null&&typeof Object.getOwnPropertySymbols=="function"){var _e=0;for(ye=Object.getOwnPropertySymbols(oe);_e<ye.length;_e++)ce.indexOf(ye[_e])<0&&Object.prototype.propertyIsEnumerable.call(oe,ye[_e])&&(re[ye[_e]]=oe[ye[_e]])}return re})(v,["message","logLevel","tags","timestamp","encryptMode","id"]),K=Object.assign(Object.assign({time:KLe(B),logLevel:Zu[x],message:_,tags:P},S),H);return A1e(K)})(i,n),d=pee(c),p=o[o.length-1];return p.currentSize+d>30720?o.push({messages:[c],ids:[i.id],currentSize:d}):(p.messages.push(c),p.ids.push(i.id),p.currentSize+=d),o}),[{messages:[],ids:[],currentSize:0}]).filter((o=>o.currentSize>0)).map((o=>({messages:o.messages.join(`
`),ids:o.ids,meta:YLe}))),XLe=(e,n,o)=>((i,c,d)=>Promise.all(i.map((p=>Object.assign({url:c||"",type:"POST",withCredentials:!1,headers:{},data:A1e({messages:p.messages,meta:p.meta}),reportItem:p},d))).map(vqe)))(e,n.reportUrl,o).then((i=>{i.forEach((c=>{var d;OO(n,SE.afterReport,{report:c.report,error:(d=c.error)!==null&&d!==void 0?d:null})}))})),JLe=(e,n,o)=>(function(i,c,d,p){return new(d||(d=Promise))((function(v,S){function _(B){try{P(p.next(B))}catch(z){S(z)}}function x(B){try{P(p.throw(B))}catch(z){S(z)}}function P(B){var z;B.done?v(B.value):(z=B.value,z instanceof d?z:new d((function(U){U(z)}))).then(_,x)}P((p=p.apply(i,[])).next())}))})(void 0,void 0,void 0,(function*(){const i=e.logManager.filterStore(n);if(!i||i?.size===0||!o)return;const{xhrOptions:c={},additionalContext:d}=o,p=OO(e,SE.beforeReport,i),v=bqe(p,d);XLe(v,e,c)}));mee(JLe,"commonReport");var QLe=function(e,n,o,i){return new(o||(o=Promise))((function(c,d){function p(_){try{S(i.next(_))}catch(x){d(x)}}function v(_){try{S(i.throw(_))}catch(x){d(x)}}function S(_){var x;_.done?c(_.value):(x=_.value,x instanceof o?x:new o((function(P){P(x)}))).then(p,v)}S((i=i.apply(e,[])).next())}))};const e3e=(e,n,o)=>QLe(void 0,void 0,void 0,(function*(){const{idbManager:i,logManager:c}=e;if(Array.isArray(o)&&(yield i.deleteLogs(o),c.deleteLogs(o),!n))return;const d=e.logManager.filterStore(n),p=[];for(const[S,_]of d)p.push(_.id);let v=p;Array.isArray(p)||(v=[p]),yield i.deleteLogs(v),c.deleteLogs(v)})),t3e=e=>QLe(void 0,void 0,void 0,(function*(){const{idbManager:n,logManager:o}=e;yield n.reset(),o.reset()}));function NO(e){return new Promise(((n,o)=>{e.oncomplete=e.onsuccess=()=>n(e.result),e.onabort=e.onerror=()=>o(e.error)}))}function n3e(e,n){let o;return(i,c)=>(()=>{if(o)return o;const d=indexedDB.open(e);return d.onupgradeneeded=()=>d.result.createObjectStore(n),o=NO(d),o.then((p=>{p.onclose=()=>o=void 0}),(()=>{})),o})().then((d=>c(d.transaction(n,i).objectStore(n))))}let hme;function E6(){return hme||(hme=n3e("keyval-store","keyval")),hme}function lAe(e,n=E6()){return n("readwrite",(o=>(e.forEach((i=>o.delete(i))),NO(o.transaction))))}function yqe(e=E6()){return e("readonly",(n=>{if(n.getAll&&n.getAllKeys)return Promise.all([NO(n.getAllKeys()),NO(n.getAll())]).then((([i,c])=>i.map(((d,p)=>[d,c[p]]))));const o=[];return e("readonly",(i=>(function(c){return c.openCursor().onsuccess=function(){this.result&&((d=>{o.push([d.key,d.value])})(this.result),this.result.continue())},NO(c.transaction)})(i).then((()=>o))))}))}mee(e3e,"commonDelete"),mee(t3e,"commonReset");const cAe={default:{queue:[],isRunning:!1,listeners:[]}},T1e=e=>{let n=cAe[e];return n||(n={queue:[],isRunning:!1,listeners:[]},cAe[e]=n),n};function o3e(e){return(function(n,o,i,c){return new(i||(i=Promise))((function(d,p){function v(x){try{_(c.next(x))}catch(P){p(P)}}function S(x){try{_(c.throw(x))}catch(P){p(P)}}function _(x){var P;x.done?d(x.value):(P=x.value,P instanceof i?P:new i((function(B){B(P)}))).then(v,S)}_((c=c.apply(n,[])).next())}))})(this,void 0,void 0,(function*(){const n=T1e(e),{queue:o,listeners:i}=n;for(;o.length>0&&!n.isRunning;){const c=o.shift();n.isRunning=!0;try{const d=yield c.task();c.resolution(d)}catch(d){c.rejection(d)}n.isRunning=!1,o3e(e)}i.length&&i.forEach((c=>{c()}))}))}function EX(e,n="default"){const o=T1e(n);try{return new Promise(((i,c)=>{o.queue.push({task:e,resolution:i,rejection:c}),o3e(n)}))}catch(i){return Promise.reject(i)}}const uAe=(e,n)=>{T1e(e).listeners.push(n)};var Ny=function(e,n,o,i){return new(o||(o=Promise))((function(c,d){function p(_){try{S(i.next(_))}catch(x){d(x)}}function v(_){try{S(i.throw(_))}catch(x){d(x)}}function S(_){var x;_.done?c(_.value):(x=_.value,x instanceof o?x:new o((function(P){P(x)}))).then(p,v)}S((i=i.apply(e,[])).next())}))};const fme="change_meta",pme="change_log",HL=()=>Promise.resolve();class Sqe{constructor(n){this.waitingForReset=!1,this.resetting=!1,this.isChangingMeta=!1,this.isChangingLog=!1,this.dbFailCount={read:0,write:0},this.get=o=>(function(i,c=E6()){return c("readonly",(d=>NO(d.get(i))))})(o,this.store),this.set=(o,i)=>Ny(this,void 0,void 0,(function*(){try{return!(this.dbFailCount.write>3)&&(yield(function(c,d,p=E6()){return p("readwrite",(v=>(v.put(d,c),NO(v.transaction))))})(o,i,this.store))}catch(c){c instanceof DOMException&&(c&&c.name==="QuotaExceededError"?(yield this.deleteOldLogsForSetNewOne(),yield this.set(o,i)):this.dbFailCount.write+=1),console.error(c)}})),this.deleteOldLogsForSetNewOne=()=>Ny(this,void 0,void 0,(function*(){var o;const i=yield this.getAllLogs(),c=[];for(let d=0;d<13;d++){const p=(o=i[d])===null||o===void 0?void 0:o.id;(p||p===0)&&c.push(`${p}`)}return lAe(c,this.store)})),this.adjustMaxId=()=>Ny(this,void 0,void 0,(function*(){return this.resetting?HL():(this.isChangingMeta=!0,yield EX((()=>Ny(this,void 0,void 0,(function*(){var o;const i=yield this.getAllLogs(),c=i[i.length-1],d=(o=c?.id)!==null&&o!==void 0?o:0;return yield this.set("maxId",d),d}))),fme))})),this.makeNextId=()=>Ny(this,void 0,void 0,(function*(){return this.resetting?HL():(this.isChangingMeta=!0,yield EX((()=>Ny(this,void 0,void 0,(function*(){const o=yield this.get("maxId");if(!o&&o!==0)return yield this.set("maxId",0),0;const i=o+1;return yield this.set("maxId",i),i}))),fme))})),this.addLog=o=>Ny(this,void 0,void 0,(function*(){if(this.resetting)return HL();this.isChangingLog=!0,yield EX((()=>Ny(this,void 0,void 0,(function*(){const{id:i}=o;return this.set(`${i}`,o)}))),pme)})),this.getAllLogs=()=>Ny(this,void 0,void 0,(function*(){return(yield yqe(this.store)).filter((([o])=>o!=="maxId")).sort(((o,i)=>{var c,d;return((c=o[1])===null||c===void 0?void 0:c.id)-((d=i[1])===null||d===void 0?void 0:d.id)})).map((([,o])=>o))})),this.deleteLogs=o=>Ny(this,void 0,void 0,(function*(){if(this.resetting)return HL();this.isChangingLog=!0,yield EX((()=>Ny(this,void 0,void 0,(function*(){return lAe(o.map((i=>`${i}`)),this.store)}))),pme),yield this.adjustMaxId()})),this.saveAESGCM256Key=(o,i,c)=>Ny(this,void 0,void 0,(function*(){if(c){const d=yield self.crypto.subtle.exportKey("raw",i),p=yield((v,S,_)=>fee(void 0,void 0,void 0,(function*(){return new Promise(((x,P)=>{requestAnimationFrame((()=>fee(void 0,void 0,void 0,(function*(){var B;const z=(B=S?.algorithm)===null||B===void 0?void 0:B.name;let U;if(z==="RSA-OAEP"?U=hqe:z==="AES-GCM"&&(U=dqe),!U)throw new Error("Unsupported encrypt key type");if(typeof v=="string"){const H=new TextEncoder,K=yield U(H.encode(v),S,_);x(K)}else{const H=yield U(v,S,_);x(H)}}))))}))})))(d,c,new Uint8Array(16));yield this.set(`aes-gcm-256-${o}`,p)}else yield this.set(`aes-gcm-256-${o}`,i)})),this.reset=()=>Ny(this,void 0,void 0,(function*(){return this.resetting?HL():(this.waitingForReset=!0,this.isChangingLog||this.isChangingMeta?HL():(this.resetting=!0,yield(function(o=E6()){return o("readwrite",(i=>(i.clear(),NO(i.transaction))))})(this.store),this.resetting=!1,void(this.waitingForReset=!1)))})),this.store=n3e(n,n+"-store"),uAe(fme,(()=>{if(this.isChangingMeta=!1,this.waitingForReset)return this.reset()})),uAe(pme,(()=>{if(this.isChangingLog=!1,this.waitingForReset)return this.reset()}))}}var Wu=function(e,n,o,i){return new(o||(o=Promise))((function(c,d){function p(_){try{S(i.next(_))}catch(x){d(x)}}function v(_){try{S(i.throw(_))}catch(x){d(x)}}function S(_){var x;_.done?c(_.value):(x=_.value,x instanceof o?x:new o((function(P){P(x)}))).then(p,v)}S((i=i.apply(e,[])).next())}))};const Cqe={databaseName:"laplace-default-db",maxSize:49283072};class mbe{constructor(n){this.commonLogWithContext=(i,c,d,p,v)=>Wu(this,void 0,void 0,(function*(){yield ZLe(this.runtimeMetaManager,i,c,d,p,v)})),this.commonReportWithContext=(i,c)=>Wu(this,void 0,void 0,(function*(){yield JLe(this.runtimeMetaManager,i,c)})),this.commonDeleteWithContext=i=>Wu(this,void 0,void 0,(function*(){yield e3e(this.runtimeMetaManager,i)})),this.resetWithContext=()=>Wu(this,void 0,void 0,(function*(){yield t3e(this.runtimeMetaManager)})),this.initLocalAESGCM256Key=()=>Wu(this,void 0,void 0,(function*(){return yield GLe()})),this.doNotUseDirtyGetStore=()=>this.runtimeMetaManager.logManager.getStore(),this.log=(i,c,d)=>Wu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.log,Op.PLAIN,{extraProperties:d})})),this.info=(i,c,d)=>Wu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.info,Op.PLAIN,{extraProperties:d})})),this.warn=(i,c,d)=>Wu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.warn,Op.PLAIN,{extraProperties:d})})),this.debug=(i,c,d)=>Wu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.debug,Op.PLAIN,{extraProperties:d})})),this.error=(i,c,d)=>Wu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.error,Op.PLAIN,{extraProperties:d})})),this.logWithEncryption=(i,c,d)=>Wu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.log,Op.AESGCM256,{extraProperties:d})})),this.infoWithEncryption=(i,c,d)=>Wu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.info,Op.AESGCM256,{extraProperties:d})})),this.debugWithEncryption=(i,c,d)=>Wu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.debug,Op.AESGCM256,{extraProperties:d})})),this.warnWithEncryption=(i,c,d)=>Wu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.warn,Op.AESGCM256,{extraProperties:d})})),this.errorWithEncryption=(i,c,d)=>Wu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.error,Op.AESGCM256,{extraProperties:d})})),this.logWithoutCache=(i,c,d)=>Wu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.log,Op.PLAIN,{extraProperties:d,noCache:!0})})),this.infoWithoutCache=(i,c,d)=>Wu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.info,Op.PLAIN,{extraProperties:d,noCache:!0})})),this.warnWithoutCache=(i,c,d)=>Wu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.warn,Op.PLAIN,{extraProperties:d,noCache:!0})})),this.debugWithoutCache=(i,c,d)=>Wu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.debug,Op.PLAIN,{extraProperties:d,noCache:!0})})),this.errorWithoutCache=(i,c,d)=>Wu(this,void 0,void 0,(function*(){yield this.commonLogWithContext(i,c,Zu.error,Op.PLAIN,{extraProperties:d,noCache:!0})})),this.getLogs=i=>{const c=this.runtimeMetaManager.logManager;return c?c.filterStore(i):new Map},this.report=(...i)=>((c,d,p={})=>(function(v,S,_,x){return new(_||(_=Promise))((function(P,B){function z(K){try{H(x.next(K))}catch(oe){B(oe)}}function U(K){try{H(x.throw(K))}catch(oe){B(oe)}}function H(K){var oe;K.done?P(K.value):(oe=K.value,oe instanceof _?oe:new _((function(ce){ce(oe)}))).then(z,U)}H((x=x.apply(v,[])).next())}))})(void 0,void 0,void 0,(function*(){var v,S;const _=(v=p.sampleRate)!==null&&v!==void 0?v:1;if(Math.random()>_)return;if(pee(d)>30720)throw new Error("ERROR: Laplace .report(strMsg) size bigger than 30KB is NOT allowed.");const x=Object.assign({message:Object.assign({strMsg:d},p.extraMsg),time:KLe(Date.now())},p.extraData);return!((S=p?.tags)===null||S===void 0)&&S.length&&(x.tags=p?.tags),XLe([{messages:JSON.stringify(x),meta:YLe}],c,p.xhrOptions)})))(this.runtimeMetaManager,...i),this.reportByHttps=(i,c)=>Wu(this,void 0,void 0,(function*(){yield this.commonReportWithContext(i,c)})),this.deleteLog=i=>Wu(this,void 0,void 0,(function*(){yield this.commonDeleteWithContext(i)})),this.deleteAll=()=>Wu(this,void 0,void 0,(function*(){yield this.resetWithContext()}));const{runtimeMetaManager:o}=n;this.runtimeMetaManager=o}}mbe.init=e=>Wu(void 0,void 0,void 0,(function*(){const{databaseName:n="laplace-default-db"}=e,o=new Sqe(n),i=new gqe,c=new mqe(Object.assign(Object.assign(Object.assign({},Cqe),e),{idbManager:o,logManager:i}));OO(c,SE.beforeInit),yield i.syncFromIDB(c.idbManager);const d=new mbe({runtimeMetaManager:c});return OO(c,SE.afterInit),d}));class Eqe extends _1e{constructor(n){super(),this.config={verbose:!1},this.beforeLog=(o,i)=>{const{verbose:c}=this.config;switch(c&&console.log("beforeLog, ","state: ",i,"meta: ",o),i.logLevel){case Zu.error:console.error(i.message);break;case Zu.warn:console.warn(i.message);break;case Zu.log:console.log(i.message);break;case Zu.debug:console.debug(i.message);break;case Zu.info:console.info(i.message)}},this.afterLog=(o,i)=>{const{verbose:c}=this.config;c&&console.log("afterLog, ","state: ",i,"meta: ",o)},this.beforeReport=(o,i)=>{const{verbose:c}=this.config;c&&console.log("beforeReport, ","pluginParams: ",i,"meta: ",o)},this.afterReport=(o,i)=>{const{verbose:c}=this.config;c&&console.log("afterReport, ","pluginParams: ",i,"runtimeMetaManager: ",o)},n&&(this.config=n)}}const dAe=e=>{const n=[];for(const[o,i]of e)n.push(i);return n};class wqe extends _1e{constructor(n){super(),this.config={debug:!1},this.debugLog=o=>{const{debug:i}=this.config;i&&console.log(`[AutoCleanLogPlugin]: ${o}`)},this.afterInit=o=>{const{expireBefore:i}=this.config;if(!i)return void this.debugLog("early return on beforeInit because expireBefore is falsy");const{logManager:c,commonMethods:{commonDelete:d}}=o,p=c.getStore().byTime,v=(typeof i=="function"?dAe(p).filter(i):dAe(p).filter((S=>S.timestamp<i))).map((S=>S.id));d(o,void 0,v),this.debugLog(`afterInit, clean log id: ${v}`)},this.afterReport=(o,{report:i,error:c})=>{if(c)return this.debugLog("error"),void console.error(c);const{cleanAfterReport:d}=this.config;if(!d)return void this.debugLog("early return on afterReport because cleanAfterReport is falsy");const{commonMethods:{commonDelete:p}}=o;p(o,void 0,i.ids),this.debugLog(`afterReport, clean log id: ${i.ids}`)},n&&(this.config=n)}}var mme,hAe,_qe=(function(){if(hAe)return mme;hAe=1;var e="Expected a function",n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,p=typeof sk=="object"&&sk&&sk.Object===Object&&sk,v=typeof self=="object"&&self&&self.Object===Object&&self,S=p||v||Function("return this")(),_=Object.prototype.toString,x=Math.max,P=Math.min,B=function(){return S.Date.now()};function z(H){var K=typeof H;return!!H&&(K=="object"||K=="function")}function U(H){if(typeof H=="number")return H;if((function(ce){return typeof ce=="symbol"||(function(re){return!!re&&typeof re=="object"})(ce)&&_.call(ce)=="[object Symbol]"})(H))return NaN;if(z(H)){var K=typeof H.valueOf=="function"?H.valueOf():H;H=z(K)?K+"":K}if(typeof H!="string")return H===0?H:+H;H=H.replace(n,"");var oe=i.test(H);return oe||c.test(H)?d(H.slice(2),oe?2:8):o.test(H)?NaN:+H}return mme=function(H,K,oe){var ce=!0,re=!0;if(typeof H!="function")throw new TypeError(e);return z(oe)&&(ce="leading"in oe?!!oe.leading:ce,re="trailing"in oe?!!oe.trailing:re),(function(ye,_e,Oe){var F,Me,ot,Fe,De,we,ct=0,rt=!1,gt=!1,ee=!0;if(typeof ye!="function")throw new TypeError(e);function on(vn){var To=F,Nn=Me;return F=Me=void 0,ct=vn,Fe=ye.apply(Nn,To)}function nt(vn){var To=vn-we;return we===void 0||To>=_e||To<0||gt&&vn-ct>=ot}function Mt(){var vn=B();if(nt(vn))return Pt(vn);De=setTimeout(Mt,(function(To){var Nn=_e-(To-we);return gt?P(Nn,ot-(To-ct)):Nn})(vn))}function Pt(vn){return De=void 0,ee&&F?on(vn):(F=Me=void 0,Fe)}function st(){var vn=B(),To=nt(vn);if(F=arguments,Me=this,we=vn,To){if(De===void 0)return(function(Nn){return ct=Nn,De=setTimeout(Mt,_e),rt?on(Nn):Fe})(we);if(gt)return De=setTimeout(Mt,_e),on(we)}return De===void 0&&(De=setTimeout(Mt,_e)),Fe}return _e=U(_e)||0,z(Oe)&&(rt=!!Oe.leading,ot=(gt="maxWait"in Oe)?x(U(Oe.maxWait)||0,_e):ot,ee="trailing"in Oe?!!Oe.trailing:ee),st.cancel=function(){De!==void 0&&clearTimeout(De),ct=0,F=we=Me=De=void 0},st.flush=function(){return De===void 0?Fe:Pt(B())},st})(H,K,{leading:ce,maxWait:K,trailing:re})},mme})(),Aqe=Ste(_qe);const Tqe=["RESOURCE_ERROR","JS_ERROR","UNHANDLED_PROMISE_REJECTION"];class xqe extends _1e{constructor(n){super(),this.config={debug:!1,publicTags:[]},this.errorCount=0,this.hashErrors={},this.runtimeMetaManager=null,this.addPublicTags=o=>{var i;return(i=this.config.publicTags)===null||i===void 0?void 0:i.concat(o).filter((c=>c))},this.debugLog=o=>{const{debug:i}=this.config;i&&console.log("[AutoLogErrorPlugin]:",o)},this.ignore=o=>{var i,c,d,p,v;return((i=this.config)===null||i===void 0?void 0:i.maxErrorCount)!==void 0&&this.errorCount>=((c=this.config)===null||c===void 0?void 0:c.maxErrorCount)||!!(!((d=this.config)===null||d===void 0)&&d.ignoredErrorMsgKeywords)&&o&&((v=(p=this.config)===null||p===void 0?void 0:p.ignoredErrorMsgKeywords)===null||v===void 0?void 0:v.some((S=>o?.includes(S))))},this.report=Aqe((()=>{if(this.runtimeMetaManager===null)return;const{autoReport:o}=this.config,{commonMethods:{commonReport:i}}=this.runtimeMetaManager;return i(this.runtimeMetaManager,Tqe,o)}),600,{trailing:!0,leading:!1}),this.afterInit=o=>{if(this.runtimeMetaManager=o,!self.addEventListener)return;const{commonMethods:{commonLog:i}}=o,c=(d,p,v)=>{this.debugLog(v),this.errorCount+=1;try{return(function(S){const _=new TextEncoder().encode(S);return crypto.subtle.digest("SHA-1",_).then((x=>Array.from(new Uint8Array(x)).map((P=>P.toString(16).padStart(2,"0"))).join("")))})(d).then((S=>this.hashErrors[S]?"dismissed":(this.hashErrors[S]=!0,i(o,d,this.addPublicTags([].concat(p)),Zu.error,Op.PLAIN,{extraProperties:{messageHash:S}}).then(this.report)))).catch(console.error)}catch(S){return console.error(S),Promise.resolve(S)}};try{self.addEventListener("error",(d=>{var p,v,S,_,x,P,B;if(!this.ignore(d?.message)){if(d?.target&&(!((p=d?.target)===null||p===void 0)&&p.src||!((v=d?.target)===null||v===void 0)&&v.href)){const z=`Load Resource Error in ${(S=d?.target)===null||S===void 0?void 0:S.tagName} element: ${((_=d?.target)===null||_===void 0?void 0:_.src)||((x=d?.target)===null||x===void 0?void 0:x.href)}`;return c(z,"RESOURCE_ERROR",d)}{const z=`Javascript Runtime Error in ${d?.filename} (${d?.lineno}:${d?.colno}): ${d?.message}
Stack: ${(B=(P=d?.error)===null||P===void 0?void 0:P.stack)!==null&&B!==void 0?B:d?.stack}`;return c(z,"JS_ERROR",d)}}})),self.addEventListener("unhandledrejection",(d=>{var p;if(this.ignore((p=d?.reason)===null||p===void 0?void 0:p.message))return;let v;const S=d?.reason;return v=typeof S=="string"?`Promise Error: ${S}`:S instanceof Error?`Promise Error: ${S.message} ${S.name} ${S.stack}`:typeof S=="object"?`Promise Error with reason: ${A1e(S)}`:`Promise Error with unrecognized reason: ${S}`,c(v,"UNHANDLED_PROMISE_REJECTION",d)}))}catch(d){console.error(d)}this.debugLog("afterInit, add listener")},n&&(this.config=n),this.config.publicTags=[].concat(n?.publicTags)}}let E2=(function(e){return e.DeviceAudioStreamCaptured="device audio stream captured",e.AudioJoinComplete="audio join complete",e.AudioLeaveComplete="audio leave complete",e.SharingAudioStartComplete="sharing audio start complete",e.SharingAudioStopComplete="sharing audio stop complete",e.AudioBridgeReconnectStart="audio bridge reconnect start",e.AudioBridgeReconnectEnd="audio bridge reconnect end",e})({}),w2=(function(e){return e.VBSettingSuccess="video VB setting success",e.VBSettingFailed="init video VB failed",e.VBPreloadSuccess="preload video VB success",e.VBPreloading3S="preload video VB 3s",e.VBPreloading10S="preload video VB 10s",e.StartCaptureVideoSuccess="start capture video success",e.StopCaptureVideoSuccess="stop capture video success",e})({});function Uf(e){return`{E}${e}{/E}`}const Oqe=["exception flow","MEDIA SDK"],Iqe={enable:!1,enableReport:!1,gatewayEndPoint:"",newGatewayEndPoint:"",logLevel:{debug:!1,log:!1,info:!1,print:!1,warn:!1,error:!1},performanceReportRatio:.25,trackingCount:7},fAe=["debug","log","info","print","warn","error"],$L=(e,n)=>[...e,...n].filter((o=>!!o)),pAe=["JOIN_MEETING_FAILED","Join Meeting Flow","UNAVAILABLE_RWG","connection_info_map","exception flow"];class qf{static getInstance(){return this.agentInstance||(this.agentInstance=new qf),this.agentInstance}constructor(){this.laplace=void 0,this.trackingId=void 0,this.logConfig=void 0,this.reportUrl=void 0,this.publicTags=void 0,this.accountId=void 0,this.disableAutoReport=void 0,this.debouncedReport=void 0,this.initConfig=async n=>{let o,i=Iqe;try{n.logConfig&&(i=JSON.parse(n.logConfig),i.gatewayEndPoint&&(this.reportUrl=i.gatewayEndPoint),i.newGatewayEndPoint&&(this.reportUrl=i.newGatewayEndPoint));const{enable:v,enableReport:S,reportUrl:_,logLevel:x,encryptKeys:P,trackingId:B,accountId:z}=n;if(v!==void 0&&(i={...i,enable:!!v}),S!==void 0&&(i={...i,enableReport:!!S}),_&&(this.reportUrl=_),typeof x=="string"){const U=fAe.indexOf(x),H=fAe.reduce(((K,oe,ce)=>ce<U?{...K,[`${oe}`]:!1}:{...K,[`${oe}`]:!0}),{});i={...i,logLevel:H}}else x!==void 0&&(i={...i,logLevel:x});if(B&&(this.trackingId=B,i={...i,enable:!0,enableReport:!0}),P!==void 0){const U=Array.isArray(P)?P:[P];o=await Promise.all(U.map((H=>(function(K){return window.crypto.subtle.importKey("raw",new TextEncoder().encode(K.slice(0,32)),"AES-GCM",!1,["encrypt","decrypt"])})(H).then((K=>({usage:hee.PROTECT_LOCAL_KEY,key:K}))))))}z!==void 0&&(this.accountId=z)}catch(v){console.error("parse log config error",v)}const c=new Date().getTime()-6048e5,d=i.enableReport&&this.reportUrl?{gzip:!1,encrypt:!1,additionalContext:{trackingId:this.trackingId}}:void 0;this.publicTags=["VideoSDK",this.trackingId],n.isUIToolkit&&this.publicTags.push("UI-Toolkit");const p=[n.debugMode&&new Eqe({verbose:!1}),new wqe({debug:!1,cleanAfterReport:!0,expireBefore:c}),new xqe({debug:!1,autoReport:d,ignoredErrorMsgKeywords:["table index is out of bounds"],maxErrorCount:223,publicTags:this.accountId?[...this.publicTags,Uf(this.accountId)]:this.publicTags})].filter(Boolean);return{laplaceConfig:{databaseName:"ZM-VSDK-LOG-DATABASE",maxSize:49283072,publicKey:n.logEncryptionPubKey,reportUrl:this.reportUrl,externalKeys:o,plugins:p},logConfig:i}},this.handleInitLaplaceSuccess=(n,o)=>{var i;this.laplace=n;const c=ei.get(pbe.VSDKLogTrackingId);let d=[];try{d=JSON.parse(c?window.atob(c):"[]")}catch{}d.length>=((i=o?.trackingCount)!==null&&i!==void 0?i:7)&&d.shift();const p=d.reduce(((S,_)=>({...S,[`${_}`]:!0})),{});n.deleteLog((S=>{var _;return!((_=S.tags)!==null&&_!==void 0&&_.some((x=>p[x])))})),d.push(this.trackingId),ei.set(pbe.VSDKLogTrackingId,window.btoa(JSON.stringify(d)),ba.LocalStorage);const v=navigator.hardwareConcurrency>=4?5e3:1e4;this.debouncedReport=(function(S,_=5e3){const x=[];let P;const B=(function(z,U,H){var K,oe,ce,re,ye,_e,Oe=0,F=!1,Me=!1,ot=!0;if(typeof z!="function")throw new TypeError("Expected a function");function Fe(gt){var ee=K,on=oe;return K=oe=void 0,Oe=gt,re=z.apply(on,ee)}function De(gt){var ee=gt-_e;return _e===void 0||ee>=U||ee<0||Me&&gt-Oe>=ce}function we(){var gt=Jpe();if(De(gt))return ct(gt);ye=setTimeout(we,(function(ee){var on=U-(ee-_e);return Me?w9e(on,ce-(ee-Oe)):on})(gt))}function ct(gt){return ye=void 0,ot&&K?Fe(gt):(K=oe=void 0,re)}function rt(){var gt=Jpe(),ee=De(gt);if(K=arguments,oe=this,_e=gt,ee){if(ye===void 0)return(function(on){return Oe=on,ye=setTimeout(we,U),F?Fe(on):re})(_e);if(Me)return clearTimeout(ye),ye=setTimeout(we,U),Fe(_e)}return ye===void 0&&(ye=setTimeout(we,U)),re}return U=Gwe(U)||0,Z6(H)&&(F=!0,ce=(Me="maxWait"in H)?E9e(Gwe(H.maxWait)||0,U):ce,ot="trailing"in H||ot),rt.cancel=function(){ye!==void 0&&clearTimeout(ye),Oe=0,K=_e=oe=ye=void 0},rt.flush=function(){return ye===void 0?re:ct(Jpe())},rt})(((z,U)=>{const H=S(z,U);return x.length=0,H}),_,{leading:!0,trailing:!0,maxWait:1e4});return window.addEventListener("beforeunload",(()=>{var z;B.cancel&&B.cancel(),x.length>0&&((z=P)!==null&&z!==void 0&&z.xhrOptions&&Object.assign(P.xhrOptions,{isSendByBeacon:!0}),S(x,P))})),(z,U)=>(Array.isArray(z)?x.push(...z):typeof z=="string"&&x.push(z),P=U,B(x,U))})(this.laplace.reportByHttps.bind(this.laplace),v)},this.init=async n=>{const{laplaceConfig:o,logConfig:i}=await this.initConfig(n);return i.enable?(this.logConfig=i,mbe.init(o).then((c=>{this.handleInitLaplaceSuccess(c,i)})).catch((c=>{throw{type:Xh,reason:"Logger init failed.",error:c,errorCode:at.INTERNAL_ERROR}}))):Promise.reject({type:ln,reason:"Logger feature is not enabled."})},this.check=n=>{var o;return!(!this.checkLaplace()||((o=this.logConfig)===null||o===void 0||(o=o.logLevel)===null||o===void 0||!o[n])&&(console.warn(`Logger ${n} is not enabled.`),1))},this.log=(n,o,i)=>{if(this.check("log"))try{var c;return(c=this.laplace.logWithEncryption(n,$L(o,i)))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.logWithExtraProperties=(n,o,i)=>{if(this.check("log"))try{var c;return(c=this.laplace.log(n,o,i))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.warn=(n,o,i)=>{if(this.check("warn"))try{var c;return(c=this.laplace.warnWithEncryption(n,$L(o,i)))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.info=(n,o,i)=>{if(this.check("info"))try{var c;return(c=this.laplace.infoWithEncryption(n,$L(o,i)))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.debug=(n,o,i)=>{if(this.check("debug"))try{var c;return(c=this.laplace.debugWithEncryption(n,$L(o,i)))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.error=(n,o,i)=>{if(this.check("error"))try{var c;return(c=this.laplace.errorWithEncryption(n,$L(o,i)))===null||c===void 0?void 0:c.catch((()=>{}))}catch{return}},this.checkLaplace=()=>{var n;return!((n=this.laplace)===null||n===void 0||!n.log)},this.makeLogger=n=>{var o;const i=$L((o=this.publicTags)!==null&&o!==void 0?o:[],n);return{log:(c,d)=>this.log(c,i,d??[]),logWithExtraProperties:(c,d)=>this.logWithExtraProperties(c,i,d),warn:(c,d)=>this.warn(c,i,d??[]),info:(c,d)=>this.info(c,i,d??[]),debug:(c,d)=>this.debug(c,i,d??[]),error:(c,d)=>this.error(c,i,d??[]),directReport:(c,d)=>{const p=typeof c!="string"?JSON.stringify(c):c,v=(Array.isArray(d)?d:[d]).filter(Boolean);v.push("MEDIA SDK Direct"),this.report(p,v,"info")}}},this.reportToGlobalTracing=(n,o=!1,i=!1)=>{var c;if(!this.checkLaplace())return Promise.reject({type:ln,reason:"Logger has not been enabled or initialized."});if((c=this.logConfig)===null||c===void 0||!c.enableReport||!this.reportUrl)return Promise.reject({type:ln,reason:"Please use getLogs to obtain log data and report by yourself."});if((function(){try{return!!ei.get(ULe.DisableAutoReportLogs)}catch{return!1}})()&&!o&&!(Array.isArray(n)?n.some((v=>pAe.some((S=>v.includes(S))))):pAe.some((v=>`${n}`.includes(v)))))return Promise.resolve();const d=(function(p){let v=!0;return p&&(v=!(Array.isArray(p)?p:[p]).some((S=>Oqe.some((_=>`${S}`.indexOf(_)>-1))))),v})(n);return(o||d?this.laplace.reportByHttps.bind(this.laplace):this.debouncedReport)(n,{gzip:!1,encrypt:!1,xhrOptions:{url:this.reportUrl,isSendByBeacon:i},additionalContext:{trackingId:this.trackingId}})},this.report=(n,o,i="warn")=>{if(this.checkLaplace()&&this.logConfig.enableReport&&this.reportUrl){var c,d;const p=Array.isArray(o)?o:[o],v=this.accountId?[...p,Uf(this.accountId)]:p;(c=(d=this.makeLogger(v))[`${i}`])===null||c===void 0||(c=c.call(d,n))===null||c===void 0||c.then((()=>{this.reportToGlobalTracing(p)}))}},this.getLogs=(n,o)=>{if(!this.checkLaplace())return console.warn("Logger has not been enabled or initialized."),[];const i=n.getState(),{meeting:{meetingNumber:c,userId:d,userEmail:p,userName:v}}=i,S={meetingNumber:c,userId:d,userEmail:p,userName:v},_=this.laplace.getLogs(o),x=[];for(const[,P]of _)x.push({...P,...S});return x},this.doNotUseDirtyGetStore=()=>this.checkLaplace()?this.laplace.doNotUseDirtyGetStore():(console.warn("Logger has not been enabled or initialized."),{byTag:{},byTime:new Map}),this.trackingId=dee()}}qf.agentInstance=void 0;const s3e=qf.getInstance(),r3e=[{type:"MediaMeta",methods:["sendUserNodeList","updateUserMediaSN","updateMediaParams","subscribeToQos","unsubscribeFromQos","sendUserAudioStatus","destroy","createMainSessionChannel","notifySDKMeetingReady"]},{type:"Audio",methods:["joinComputerAudio","leaveComputerAudio","joinSharingAudio","leaveSharingAudio","changeSpeaker","changeMicrophone","enableAudioEncode","pauseOrResumeAudio","setSharingAudioVolume","enableShareAudioToBreakoutRoom","enableAudioDenoise","enableSyncButtonsOnHeadset","stopAllIncomingAudio","setAudioCodecMode","muteOrUnmuteOtherAudio","adjustOtherAudioVolume","changeAudioProfile","unmuteAudio","muteAudio"]},{type:"Video",methods:["startCaptureVideo","stopCaptureVideo","renderVideo","stopRenderVideo","changeCamera","updateRenderedVideoCanvasDimension","adjustRenderedVideoPosition","mirrorVideo","enableHardwareAccelerationForVideoDecode","enableHardwareAccelerationForVideoEncode","startVirtualBackgroundSetting","updateVirtualBackgroundImage","stopVirtualBackgroundSetting","startMaskSetting","updateMaskBackgroundImage","updateMaskClip","stopMaskSetting","enableVideoObserver","prefetchVideoSsrc","cancelPrefetchVideoSsrc","setMobileRotateMode","changeActiveVideoSsrc","updateVideoHDValue","updateVideoFullhdValue","clearVideoCanvas"]},{type:"Sharing",methods:["stopDesktopSharing","startDesktopSharing","pauseDesktopSharing","resumeDesktopSharing","renderSharing","stopRenderSharing","switchSharingSource","ajustmentReceivedSharingCanvas","changeSharingSecondCamera","updateRenderedSharingDimension","addReceivedSharingChannelType","removeReceivedSharingChannelType","switchSharingMode","ajustmentSharingCanvas"]},{type:"RemoteControl",methods:["startRemoteControl","stopRemoteControl","resendRemoteControlPositionPDU","updateRemoteControlProperties","ajustmentReceivedSharingCanvas","startRemoteControlQRCheck"]},{type:"LiveTranscription",methods:["selectLanguageChannelForNewLTT"]},{type:"RemoteCamera",methods:["movePTZCamera"]}].reduce(((e,n)=>{const{type:o,methods:i}=n;return[...e,...i.map((c=>({name:c,type:o})))]}),[]),Rqe=r3e.map((e=>e.name)),kqe=(e,...n)=>{const o=r3e.find((i=>i.name===e));if(o){const{type:i}=o,c=n?.map((d=>HQ(d)));s3e.makeLogger([i,`${i} Media SDK`]).info(`${e},params:${JSON.stringify(c)}`)}};function _m(e){return new Proxy(e,{get:(n,o)=>typeof o=="string"&&Rqe.includes(o)?function(...i){try{Reflect.apply(kqe,void 0,[o,...i])}catch{}return Reflect.apply(Reflect.get(n,o),n,i)}:Reflect.get(n,o)})}function Dqe(e){return e&&new Proxy(e,{get:(n,o)=>typeof o=="string"&&o==="error"?function(...i){try{var c;s3e.report(i[0],["MEDIA SDK",...(c=i[1])!==null&&c!==void 0?c:[]],"error")}catch{}}:Reflect.get(n,o)})}const gme=qf.getInstance();function mAe(e,n){return e.toLowerCase().includes("url")&&n.startsWith("http")||e==="displayName"?`[${e.toUpperCase()}]`:n}function Np(e,n){return function(o,i,c){const d=c.value;c.value=function(...p){let v="";if(e==="Video"){var S;const x=this[uc];v=`${x==null||(S=x.getState())===null||S===void 0||(S=S.meeting)===null||S===void 0?void 0:S.isUseWBVideo}`}if(gme.checkLaplace())try{var _;const x=gme.makeLogger([e]),P=(_=n?p.map(((B,z)=>n.includes(z+1)?Uf(B):B)):p)===null||_===void 0?void 0:_.map((B=>HQ(B)));return x.info(`${i},params:${JSON.stringify(P,mAe)}`),d.apply(this,p).then((B=>(x.info(`${i} success`),B))).catch((B=>{const z=`${i},params:${JSON.stringify(P,mAe)},return failed,${v?`isUseWBVideo:${v},`:""}${(function(U){if(!U)return"";if(typeof U=="object"){let H="";return U.type&&(H+=`type:${U.type},`),U.errorCode&&(H+=`errorCode:${U.errorCode},`),U.reason&&(H+=`reason:${U.reason},`),U.subCode&&(H+=`subCode:${U.subCode},`),U.name&&(H+=`name:${U.name},`),U.message&&(H+=`message:${U.message},`),H}return`${U}`})(B)}`;return gme.report(z,`${e} exception flow`,"error"),Promise.reject(B)}))}catch{}return d.apply(this,p)}}}function Tte(e,n,o){return function(i,c,d){const p=d.value;d.value=function(...v){var S,_;const x=v[n];let P=e;return Array.isArray(P)||(P=[P]),!P.some((B=>ute(x,B)))||o&&!o.every((B=>!!x[B]))?Promise.reject({type:tr,reason:`Expected to accept ${(S=P)===null||S===void 0?void 0:S.map((B=>B.name)).join(" or ")}, but actual it is ${typeof x=="object"&&x!==null?(_=Object.getPrototypeOf(x))===null||_===void 0?void 0:_.constructor.name:x}`,errorCode:at.STREAM_MISMATCH_RENDER_ELEMENT}):p.apply(this,v)}}}let gAe=(function(e){return e[e.Unknown=0]="Unknown",e[e.Windows=1]="Windows",e[e.Mac=2]="Mac",e[e.Pad=3]="Pad",e[e.Mobile=4]="Mobile",e[e.CallIn=5]="CallIn",e[e.Linux=6]="Linux",e[e.WebClient=7]="WebClient",e[e.ChromeOs=8]="ChromeOs",e})({});const vAe=262144,bAe=1048576,yAe=16777216,i3e=e=>!(4&~e),wX=e=>(e&bAe)===bAe,x1e=({share:{isReceiveSharing:e}})=>e,a3e=({share:{activeNodeId:e}})=>e,l3e=({share:{shareViewAttachments:e}})=>e,Mqe=Xl([Na,x1e,a3e],((e=[],n,o)=>{if(n){const i=e.find((c=>c.userId===o&&c.sharerOn===!0));if(i){let{os:c}=i;const{pwaOS:d}=i;return d==="mac"?c=gAe.Mac:d==="win"&&(c=gAe.Windows),{...i,os:c}}}return null})),Q_=Xl([Na],(e=>e.filter((n=>n.sharerOn)))),c3e=Xl([Q_],(e=>e.some((n=>!!n.bVideoShare)))),V2=Xl([({share:{remoteControlledUserList:e}})=>e,x1e,a3e],((e,n,o)=>!!n&&e.some((i=>$f(i,o))))),O1e=Xl([x1e,l3e],((e,n)=>e?Object.entries(n).reduce(((o,i)=>{const[,c]=i;return c&&c.length>0&&(o+=c.length),o}),0):0)),u3e=Xl([O1e],(e=>e>1)),Z2=Xl([O1e,l3e],((e,n)=>e===1&&Object.entries(n).every((([,o])=>o.every((i=>i.isDummy))))));function d3e(e){return function(n,o,i){const c=i.value;i.value=async function(...d){const p=this[uc],v=p?.getState();if(v!=null&&v.share){const{share:{isSimultaneousShareView:S,isReceiveSharing:_}}=v;if(_){if(S)return Promise.reject({type:ln,reason:`Cannot start ${e} due to multiple sharing views are currently in progress.`,errorCode:at.SCREEN_SHARE_MISMATCH_STATE});if(u3e(v))return Promise.reject({type:ln,reason:`Cannot start ${e} due to multiple sharing views are currently in progress.`,errorCode:at.SCREEN_SHARE_MISMATCH_STATE})}}return c.apply(this,d)}}}let Kc=(function(e){return e[e.NoAttendee=0]="NoAttendee",e[e.All=1]="All",e[e.AllPanelist=2]="AllPanelist",e[e.Host=3]="Host",e[e.NoOne=4]="NoOne",e[e.EveryonePublicly=5]="EveryonePublicly",e})({}),Hk=(function(e){return e[e.AllPanelist=1]="AllPanelist",e[e.Everyone=2]="Everyone",e[e.Invalid=0]="Invalid",e})({}),Kl=(function(e){return e[e.All=0]="All",e[e.Panelist=1]="Panelist",e[e.IndividualCcPanelist=2]="IndividualCcPanelist",e[e.Individual=3]="Individual",e[e.SilentModeUsers=4]="SilentModeUsers",e})({}),gee=(function(e){return e[e.None=0]="None",e[e.Delete=1]="Delete",e[e.Modify=2]="Modify",e})({}),vme=(function(e){return e[e.Success=0]="Success",e[e.Delete=1]="Delete",e[e.Block=3]="Block",e})({});const Pqe=[Kc.All,Kc.Host,Kc.NoOne,Kc.EveryonePublicly],Nqe=[Kc.NoOne,Kc.All,Kc.AllPanelist],vee={AllPanelist:11,Everyone:12},Lqe={[vee.AllPanelist]:Hk.AllPanelist,[vee.Everyone]:Hk.Everyone},X5={userId:Kl.All,displayName:"Everyone",isHost:!1,isCoHost:!1},c3={userId:Kl.Panelist,displayName:"All panelists"},Bqe={userId:Kl.SilentModeUsers,displayName:"Everyone (in Waiting Room)",isHost:!1,isCoHost:!1};let Vqe=(function(e){return e[e.Local=0]="Local",e[e.ThirdParty=1]="ThirdParty",e})({}),Ip=(function(e){return e[e.ChunkSize=20971520]="ChunkSize",e[e.EncodeBlockSize=32768]="EncodeBlockSize",e[e.DecodeBlockSize=32803]="DecodeBlockSize",e[e.MaxSize=2147483648]="MaxSize",e[e.ReaderChunkSize=1073741824]="ReaderChunkSize",e})({}),Eh=(function(e){return e[e.Init=0]="Init",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.Fail=3]="Fail",e[e.Cancel=4]="Cancel",e[e.Complete=5]="Complete",e})({}),Z_=(function(e){return e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.Fail=3]="Fail",e[e.Cancel=4]="Cancel",e})({});const Fqe={"7z":"application/x-7z-compressed",avi:"video/x-msvideo",bin:"application/octet-stream",bmp:"image/bmp",css:"text/css",csv:"text/csv",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",gif:"image/gif",gz:"application/gzip",html:"text/html",ics:"text/calendar",jar:"application/java-archive",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",mid:"audio/midi",mov:"video/*",mp3:"audio/mpeg",mp4:"video/mp4",mpeg:"video/*",mpg:"video/*",pdf:"application/pdf",png:"image/png",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rar:"application/vnd.rar",rtf:"application/rtf",tar:"application/x-tar",tif:"image/tiff",tiff:"image/tiff",txt:"text/plain",wav:"audio/wav",webp:"image/webp",wma:"audio/*",wmv:"video/*",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",zip:"application/zip"};let yg=(function(e){return e.Open="open",e.Message="message",e.Error="error",e.Close="close",e.Inactive="inactive",e})({});var F2=(function(e){return e[e.SelectTranslationLanguage=1]="SelectTranslationLanguage",e[e.ShowTranscription=2]="ShowTranscription",e[e.OffTranslation=3]="OffTranslation",e[e.DisableCaption=4]="DisableCaption",e[e.LockTranscriptionLanguage=5]="LockTranscriptionLanguage",e[e.SelectTranscriptionLanguage=6]="SelectTranscriptionLanguage",e[e.SelectSimuliveLanguage=7]="SelectSimuliveLanguage",e})(F2||{});class h3e{constructor(){this.eventHandlers=void 0,this.websocket=void 0,this.seq=void 0,this.intervalsToBeCleardWhenSocketClose=[],this.isAlive=!1,this.isRlbTP=void 0,this.eventHandlers=new Map,this.websocket=null,this.seq=1,this.isRlbTP=!1}on(n,o){let i=this.eventHandlers.get(n);i||(i=[]),i.push(o),this.eventHandlers.set(n,i)}off(n,o){const i=this.eventHandlers.get(n);if(i){const c=i.filter((d=>d!==o));this.eventHandlers.set(n,c)}}emit(n,o){const i=this.eventHandlers.get(n);i&&i instanceof Array&&i.slice(0).forEach((c=>{try{c(o)}catch(d){console.error(d)}}))}sendMessageToRwg(n){this.seq+=1;const o=this.seq;return this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify(Object.assign(n,{seq:o}))),o}connect(n,o){this.websocket=o?new window.ZoomTPModule.ZoomTPWebSocket(n):new WebSocket(n),this.websocket.binaryType="arraybuffer",this.isRlbTP=o,this.addWebSocketEventListeners()}close(){var n;(n=this.websocket)===null||n===void 0||n.close()}addHeartBeat(){const n=Zo.isAndroidOrIOSBrowser?15e3:2e4,o=setInterval((()=>{this.isAlive||this.emit(yg.Inactive,{}),this.sendMessageToRwg({evt:0}),this.isAlive=!1}),n);this.intervalsToBeCleardWhenSocketClose.push(o)}clearIntervals(){this.intervalsToBeCleardWhenSocketClose.forEach((n=>clearInterval(n))),this.isAlive=!1}addWebSocketEventListeners(){this.websocket&&(this.websocket.addEventListener("open",(n=>{this.isRlbTP||this.addHeartBeat(),this.emit(yg.Open,n)})),this.websocket.addEventListener("message",(n=>{this.isAlive=!0,this.emit(yg.Message,n)})),this.websocket.addEventListener("close",(n=>{this.clearIntervals(),this.emit(yg.Close,n)})),this.websocket.addEventListener("error",(n=>{this.clearIntervals(),this.emit(yg.Error,n)})))}sendLaunchParams(n){return{seq:this.sendMessageToRwg({evt:4301,body:n})}}joinMeeting(n){return{seq:this.sendMessageToRwg({evt:4097,body:{meetingtoken:n}})}}lockMeeting(n){return{seq:this.sendMessageToRwg({evt:4099,body:{bLock:n}})}}endMeeting(){return{seq:this.sendMessageToRwg({evt:4101,body:{}})}}leaveMeeting(n=!1){const o=n?4364:4103;return{seq:this.sendMessageToRwg({evt:o,body:{}})}}recordMeeting(n,o){return{seq:this.sendMessageToRwg({evt:4105,body:{bRecord:n,bPause:o}})}}localRecordingGrantPermission(n,o,i){return{seq:this.sendMessageToRwg({evt:SX,body:{cmdType:"permission_request_answer",userId:n,agreed:o,saveAgreed:i}})}}hostGrantPermission(n,o){return{seq:this.sendMessageToRwg({evt:SX,body:{cmdType:"grant_permission",userId:n,grant:o}})}}localRecordingRequestPermission(){return{seq:this.sendMessageToRwg({evt:SX,body:{cmdType:"request_permission"}})}}localRecordingMeeting(n){return{seq:this.sendMessageToRwg({evt:SX,body:{cmdType:"change_recording_status",status:n}})}}summaryMeeting(n){return{seq:this.sendMessageToRwg({evt:8009,body:{type:n?"start":"stop"}})}}startMeetingQuery(n){return{seq:this.sendMessageToRwg({evt:8017,body:{type:n?"start":"stop"}})}}allowSelfRecord(n){return{seq:this.sendMessageToRwg({evt:4325,body:{bAllowISORecord:n}})}}enableZoomIQRecord(n){return{seq:this.sendMessageToRwg({evt:4318,body:{check:n}})}}expel(n){return{seq:this.sendMessageToRwg({evt:4107,body:{id:n}})}}expelAttendee(n,o){return{seq:this.sendMessageToRwg({evt:4205,body:{jid:n,nodeID:o}})}}rename(n,o,i){return{seq:this.sendMessageToRwg({evt:4109,body:{id:n,dn2:o,olddn2:i}})}}assignHost(n,o){return{seq:this.sendMessageToRwg({evt:4111,body:{id:n,bCoHost:o}})}}reclaimHost(n,o=!1){return{seq:this.sendMessageToRwg({evt:4133,body:{id:n,bCoHost:o}})}}revokeCoHost(n){return{seq:this.sendMessageToRwg({evt:4195,body:{id:n}})}}putOnHold(n,o){return{seq:this.sendMessageToRwg({evt:4113,body:{id:n,bHold:o}})}}setMuteOnEntry(n){return{seq:this.sendMessageToRwg({evt:4115,body:{bOn:n}})}}setHoldOnEntry(n){return{seq:this.sendMessageToRwg({evt:4117,body:{bOn:n}})}}inviteCRCDevice(n,o,i=2){return{seq:this.sendMessageToRwg({evt:4119,body:{ip:n,type:o,encrypt:i}})}}cancelInviteCRCDevice(n){return{seq:this.sendMessageToRwg({evt:4121,body:{transID:n}})}}sendCloseCaption(n){return{seq:this.sendMessageToRwg({evt:4125,body:{...n}})}}allowViewParticipantNumber(n){return{seq:this.sendMessageToRwg({evt:4127,body:{bOn:n}})}}lowerAllHands(){return{seq:this.sendMessageToRwg({evt:4129,body:{}})}}raiseLowerHand(n,o){return{seq:this.sendMessageToRwg({evt:4131,body:{id:n,bOn:o}})}}chat(n,o,i,c,d,p){const v={text:n,destNodeID:o};return i&&Object.assign(v,{sn:i}),c&&Object.assign(v,{attendeeNodeID:c}),d&&Object.assign(v,{xmppMsgData:d}),p&&Object.assign(v,{msgID:p}),{seq:this.sendMessageToRwg({evt:4135,body:v})}}assignCC(n,o){return{seq:this.sendMessageToRwg({evt:4137,body:{id:n,bCCEditor:o}})}}enableLT(n){return{seq:this.sendMessageToRwg({evt:4227,body:{op:n?2:4}})}}enableNewLLT(){return{seq:this.sendMessageToRwg({evt:4285})}}disableCaptions(n){return{seq:this.sendMessageToRwg({evt:VL,body:{type:F2.DisableCaption,disableNewLtt:n}})}}enableManualCaption(n){return{seq:this.sendMessageToRwg({evt:4291,body:{op:n?1:0}})}}setTranslationLanguage(n){return n!==void 0?{seq:this.sendMessageToRwg({evt:VL,body:{type:F2.SelectTranslationLanguage,lang:n}})}:{seq:this.sendMessageToRwg({evt:VL,body:{type:F2.OffTranslation}})}}setTranscriptionLanguage(n,o){return{seq:this.sendMessageToRwg({evt:VL,body:{type:F2.SelectTranscriptionLanguage,lang:n,nodeid:o??0}})}}lockTranscriptionLanguage(n){return{seq:this.sendMessageToRwg({evt:VL,body:{type:F2.LockTranscriptionLanguage,lock:n}})}}setSimuliveLanguage(n){return{seq:this.sendMessageToRwg({evt:VL,body:{type:F2.SelectSimuliveLanguage,lang:n}})}}setSpokenLanguage(n){return{seq:this.sendMessageToRwg({evt:4287,body:{lang:n}})}}allowAskLT(n){return{seq:this.sendMessageToRwg({evt:4263,body:{bAnonymous:n}})}}approveLT(){return{seq:this.sendMessageToRwg({evt:4262,body:{bApproved:!0}})}}askLT(n){return{seq:this.sendMessageToRwg({evt:4261,body:{bAnonymous:n}})}}setChatPriviledge(n){return{seq:this.sendMessageToRwg({evt:4141,body:{chatPriviledge:n}})}}setPanelistChatPrivilege(n){if(!Object.values(vee).includes(n))throw Error("Invalid panelist chat privilege req value");return{seq:this.sendMessageToRwg({evt:4141,body:{chatPriviledge:n}})}}sendFeedback(n){return{seq:this.sendMessageToRwg({evt:4143,body:{feedback:n}})}}clearFeedback(){return{seq:this.sendMessageToRwg({evt:4145,body:{}})}}allowUnmuteVideo(n){return{seq:this.sendMessageToRwg({evt:4147,body:{bOn:n}})}}allowUnmuteAudio(n){return{seq:this.sendMessageToRwg({evt:4149,body:{bOn:n}})}}allowRaiseHand(n){return{seq:this.sendMessageToRwg({evt:4151,body:{bOn:n}})}}boToken(n){return{seq:this.sendMessageToRwg({evt:4173,body:{topic:n}})}}startBO(n){return{seq:this.sendMessageToRwg({evt:4175,body:{proto:n}})}}stopBO(n){return{seq:this.sendMessageToRwg({evt:4177,body:{status:n}})}}assignToBO(n,o){return{seq:this.sendMessageToRwg({evt:4179,body:{targetID:n,targetBID:o}})}}switchBO(n,o){return{seq:this.sendMessageToRwg({evt:4181,body:{targetID:n,targetBID:o}})}}wantJoinBO(n,o){return{seq:this.sendMessageToRwg({evt:4183,body:{targetID:n,targetBID:o}})}}joinBO(n){return{seq:this.sendMessageToRwg({evt:4193,body:{targetBID:n}})}}leaveBO(n=1){return{seq:this.sendMessageToRwg({evt:4185,body:{reason:n}})}}broadcastBO(n){return{seq:this.sendMessageToRwg({evt:4187,body:{textContent:n}})}}askForHelpBO(n){return{seq:this.sendMessageToRwg({evt:4189,body:{targetID:n}})}}askForHelpResultBO(n,o){return{seq:this.sendMessageToRwg({evt:4191,body:{targetID:n,helpResult:o}})}}coHostStartBO(n,o){return{seq:this.sendMessageToRwg({evt:4241,body:{proto:n,targetID:o}})}}coHostStopBO(n,o){return{seq:this.sendMessageToRwg({evt:4243,body:{status:n,targetID:o}})}}coHostAssignToBO(n,o,i){return{seq:this.sendMessageToRwg({evt:4245,body:{userGUID:n,targetID:i,targetBID:o}})}}moveToMainSession(n){return{seq:this.sendMessageToRwg({evt:4247,body:{userGUID:n}})}}coHostMoveToMainSession(n,o){return{seq:this.sendMessageToRwg({evt:4249,body:{userGUID:n,targetID:o}})}}allowParticipantRename(n){return{seq:this.sendMessageToRwg({evt:4163,body:{bOn:n}})}}allowMessageFeedbackNotify(n,o){return{seq:this.sendMessageToRwg({evt:4171,body:{bOn:n,id:o}})}}setPlayChime(n,o){return{seq:this.sendMessageToRwg({evt:4197,body:{bOn:n,id:o}})}}admitAllSilentUsers(){return{seq:this.sendMessageToRwg({evt:4199,body:{}})}}bindTeleUser(n,o,i){return{seq:this.sendMessageToRwg({evt:4201,body:{teleUserID:n,targetUserID:o,bBind:i}})}}practiceSession(){return{seq:this.sendMessageToRwg({evt:4207,body:null})}}roleChangeWebinar(n,o,i,c){return{seq:this.sendMessageToRwg({evt:4209,body:{jid:o,userID:i,clientCap:c,bPromote:n}})}}sendPromoteConsent(n,o){return{seq:this.sendMessageToRwg({evt:4254,body:{agreed:n,req_id:o}})}}batchCreateBOToken(n){const o=n.map(((i,c)=>({topic:i,index:c})));return{seq:this.sendMessageToRwg({evt:4211,body:o})}}mute(n,o){return{seq:this.sendMessageToRwg({evt:8193,body:{bMute:o,id:n}})}}audioDrop(n){return{seq:this.sendMessageToRwg({evt:8195,body:{id:n}})}}audioDialout(n,o,i,c,d){return{seq:this.sendMessageToRwg({evt:8197,body:{pn:n,dn2:bu(o),bCallme:i,bPressOne:c,bGreeting:d}})}}audioCancelDialout(n,o){return{seq:this.sendMessageToRwg({evt:8199,body:{pn:n,bCallme:o}})}}audioMuteAll(n){return{seq:this.sendMessageToRwg({evt:8201,body:{bMute:n}})}}allowToTalk(n,o){return{seq:this.sendMessageToRwg({evt:8204,body:{id:n,bAllowTalk:o}})}}muteAttendeeVideo(n,o){return{seq:this.sendMessageToRwg({evt:12297,body:{id:n,bOn:o}})}}notifyRwgIsMuteVideo(n,o){return this.muteAttendeeVideo(n,o)}pauseSharing(){return{seq:this.sendMessageToRwg({evt:16385,body:{}})}}resumeSharing(){return{seq:this.sendMessageToRwg({evt:16387,body:{}})}}allowAnonymousQuestion(n,o){return{seq:this.sendMessageToRwg({evt:4155,body:{userId:n,bOn:o}})}}allowViewAll(n,o){return{seq:this.sendMessageToRwg({evt:4157,body:{userId:n,bOn:o}})}}allowVote(n,o){return{seq:this.sendMessageToRwg({evt:4159,body:{userId:n,bOn:o}})}}allowComment(n,o){return{seq:this.sendMessageToRwg({evt:4161,body:{userId:n,bOn:o}})}}sharingRequestRemoteControl(n,o){return{seq:this.sendMessageToRwg({evt:16389,body:{id:n,bOn:o}})}}subscribeGrabRemoteControl(n,o){return{seq:this.sendMessageToRwg({evt:16393,body:{id:n,bOn:o}})}}subscribeSharing(n,o,i,c,d){const p={id:n,size:o};return i&&Object.assign(p,{bShareToBO:!0}),c!==void 0&&Object.assign(p,{bVideoShare:c}),d!==void 0&&Object.assign(p,{bEnableViewMultiShareMode:d}),{seq:this.sendMessageToRwg({evt:16415,body:p})}}unsubscribeSharing(n,o,i){const c={id:n};return o&&Object.assign(c,{bShareToBO:!0}),i!==void 0&&Object.assign(c,{bEnableViewMultiShareMode:i}),{seq:this.sendMessageToRwg({evt:16417,body:c})}}sendRWGConnectionPerformance(n){return{seq:this.sendMessageToRwg({evt:4167,body:{data:n}})}}sendSdkKeyToMonitor(n,o,i){return{seq:this.sendMessageToRwg({evt:4167,body:{data:`ZoomConferenceClient,videoapp_HTML5_sdk_web_join,${i},2,${o},${n}`}})}}sendDatachannelOffer(n){return{seq:this.sendMessageToRwg({evt:24321,offer:n})}}joinOrLeaveVoip(n,o){return{seq:this.sendMessageToRwg({evt:8203,body:{bOn:n,mute:o}})}}startSharing(n,o){return{seq:this.sendMessageToRwg({evt:16409,body:{id:n,boOn:!1,...o??{}}})}}stopSharing(n){return{seq:this.sendMessageToRwg({evt:16409,body:{id:n,bOn:!0}})}}lockSharing(n){return{seq:this.sendMessageToRwg({evt:4169,body:{lockShare:n}})}}startShareToBreakoutRoom(n){return{seq:this.sendMessageToRwg({evt:16425,body:{id:n,bShareToBO:!0}})}}stopShareToBreakoutRoom(n){return{seq:this.sendMessageToRwg({evt:16425,body:{id:n,bShareToBO:!1}})}}preAssignBreakoutRoom(){return{seq:this.sendMessageToRwg({evt:4213,body:{}})}}claimHost(n){return{seq:this.sendMessageToRwg({evt:4215,body:{hostKey:n}})}}allowMultiplePin(n,o){return{seq:this.sendMessageToRwg({evt:4217,body:{userID:n,bOn:o}})}}spotlightVideo(n,o){return{seq:this.sendMessageToRwg({evt:4219,body:{id:n,...o}})}}connectCamera(n,o){const i={evt:12307,body:{id:n,bOn:o}};return{seq:this.sendMessageToRwg(i)}}followHostLayout(n){return{seq:this.sendMessageToRwg({evt:4223,body:{bFollowHostVideo:n}})}}setVideoDragLayout(n){return{seq:this.sendMessageToRwg({evt:4218,body:{drag_list:n}})}}chatCmdReq(n,o){return{seq:this.sendMessageToRwg({evt:4237,body:{msgID:n,cmd:o}})}}activeAppLinkReq(n){return{seq:this.sendMessageToRwg({evt:4257,body:{appId:n}})}}activeAppInfoReq(){return{seq:this.sendMessageToRwg({evt:4255,body:{}})}}muteShareAudio(n,o){const i={bOn:!0,bShareAudio:!n};return o&&Object.assign(i,{bShareAudioOnly:!0}),{seq:this.sendMessageToRwg({evt:16423,body:i})}}localMuteAudio(n,o){return{seq:this.sendMessageToRwg({evt:8209,body:{id:n,bMute:o}})}}changeSharePronoun(n,o){return{seq:this.sendMessageToRwg({evt:4264,body:{bPronoun:n,strPronoun:o}})}}sendReceivingSharingReady(n){return{seq:this.sendMessageToRwg({evt:16421,body:{ssrc:n}})}}sendManualCaption(n){return{seq:this.sendMessageToRwg({evt:4289,body:{...n}})}}sendPollingAction(n,o,i){return{seq:this.sendMessageToRwg({evt:4224,body:{action:n,PollingId:o,...i}})}}broadcastUserNetworkQuality(n){const o={type:n.isUplink,level:n.level,bwLevel:n.bwLevel};return{seq:this.sendMessageToRwg({evt:4331,body:o})}}sendFarEndCameraControl(n,o,i){return{seq:this.sendMessageToRwg({evt:4329,body:{cmd:n,userID:o,buttonID:i}})}}sendCameraAblity(n){return{seq:this.sendMessageToRwg({evt:4330,body:{...n,focus:!1}})}}sendReaction(n){return{seq:this.sendMessageToRwg({evt:4259,body:{...n}})}}remoteControlConsent(n,o,i,c,d=!1,p){const{deviceId:v,...S}=c,_=p!==void 0?{runAsAdmin:p}:{};return{seq:this.sendMessageToRwg({evt:16427,body:{DeviceID:v,op:n,SendUserID:i,AssignUserID:o,...S,bAutoDelete:d,..._}})}}takeBackRemoteControlPermission(n,o){return{seq:this.sendMessageToRwg({evt:16431,body:{SendUserID:n,ReceiverUserID:o}})}}syncSharedContentMetaWithRcApp(n){const{deviceId:o,...i}=n;return{seq:this.sendMessageToRwg({evt:16429,body:{DeviceID:o,...i}})}}startLiveStream(n,o,i){return{seq:this.sendMessageToRwg({evt:7977,body:{action:1,streamingURL:n,streamingKey:o,broadcastURL:i}})}}stopLiveStream(){return{seq:this.sendMessageToRwg({evt:7977,body:{action:0}})}}sendRemoteControlAuth(n){return{seq:this.sendMessageToRwg({evt:16433,body:{auth:n}})}}chatFileTransfer(n){return{seq:this.sendMessageToRwg({evt:4307,body:{...n,fileType:0,receiverType:0}})}}broadcastVoiceReq(n){return{seq:this.sendMessageToRwg({evt:4314,body:{broadcastVoice:n}})}}requestUserInfoToken(n,o){return{seq:this.sendMessageToRwg({evt:4309,body:{type:n,reqId:o}})}}toggleShareAnnotation(n,o){return{seq:this.sendMessageToRwg({evt:20241,body:{annotationOff:n?0:1,activeNodeId:o}})}}sendCommandMessage(n,o){return{seq:this.sendMessageToRwg({evt:4383,body:{recieverID:o,commandContent:n}})}}}class Qi extends h3e{static createAgent(){return this.rwgInstance||(this.rwgInstance=new Qi),this.rwgInstance}}Qi.rwgInstance=null;class xte extends h3e{static getInstance(){return this.instance||(this.instance=new xte),this.instance}}xte.instance=null;class FS{constructor(n){this[uc]=void 0,this[kc]=void 0,this[qo]=void 0,this[vQ]=void 0,this[uc]=n,this[kc]=n.dispatch,this[qo]=n.getState}}let eA=(function(e){return e.Open="open",e.Message="message",e.Error="error",e.Close="close",e})({});class Kk{constructor(){this.eventHandlers=void 0,this.websocket=void 0,this.seq=void 0,this.eventHandlers=new Map,this.websocket=null,this.seq=1}static getInstance(){return this.xmppInstance||(this.xmppInstance=new Kk),this.xmppInstance}on(n,o){let i=this.eventHandlers.get(n);i||(i=[]),i.push(o),this.eventHandlers.set(n,i)}off(n,o){const i=this.eventHandlers.get(n);if(i){const c=i.filter((d=>d!==o));this.eventHandlers.set(n,c)}}emit(n,o){const i=this.eventHandlers.get(n);i&&i instanceof Array&&i.slice(0).forEach((c=>{try{c(o)}catch(d){console.error(d)}}))}sendMessageToRwg(n){this.seq+=1;const o=this.seq;return this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify(Object.assign(n,{seq:o}))),o}connect(n,o){this.websocket=o?new window.ZoomTPModule.ZoomTPWebSocket(n):new WebSocket(n),this.websocket.binaryType="arraybuffer",this.addWebSocketEventListeners()}close(){var n;(n=this.websocket)===null||n===void 0||n.close()}addWebSocketEventListeners(){this.websocket&&(this.websocket.addEventListener("open",(n=>{this.emit(eA.Open,n)})),this.websocket.addEventListener("message",(n=>{const{data:o}=n;var i;if(o instanceof ArrayBuffer)new Uint8Array(o)[0]===0&&((i=this.websocket)===null||i===void 0||i.send(o));else try{this.emit(eA.Message,JSON.parse(o))}catch{console.warn("Unsupported format",o)}})),this.websocket.addEventListener("close",(n=>{this.emit(eA.Close,n)})),this.websocket.addEventListener("error",(n=>{this.emit(eA.Error,n)})))}join(n){return{seq:this.sendMessageToRwg({evt:24576,body:{clientCap:n}})}}raiseHand(){return{seq:this.sendMessageToRwg({evt:24580,body:null})}}lowerHand(n){return{seq:this.sendMessageToRwg({evt:24578,jids:n||[]})}}sendWebinarMseeage(n,o,i,c=!1){const d={msg:n,jid:o?[o]:[],type:i,bcm:c};return{seq:this.sendMessageToRwg({evt:24582,body:d})}}sendAnswer(n,o,i){return{seq:this.sendMessageToRwg({evt:24584,body:{question_attendeejid:o.jid,question_attendeename:o.displayName,question_text:o.questionText,question_id:o.questionId,question_anonymous:o.isAnonymous,question_time:o.questionTime,text:n,isPrivate:i}})}}answerOnline(n,o){return{seq:this.sendMessageToRwg({evt:24586,body:{question_attendeejid:n.jid,question_attendeename:n.displayName,question_text:n.questionText,question_id:n.questionId,question_anonymous:n.isAnonymous,question_time:n.questionTime,isLiveStart:o}})}}dismissQuestion(n){return{seq:this.sendMessageToRwg({evt:24590,body:{question_attendeejid:n.jid,question_attendeename:n.displayName,question_text:n.questionText,question_id:n.questionId,question_anonymous:n.isAnonymous,question_time:n.questionTime,bOpen:!1}})}}deleteQuestion(n){return{seq:this.sendMessageToRwg({evt:24614,body:{question_id:n,bDelete:!0}})}}deleteComment(n){return{seq:this.sendMessageToRwg({body:{comment_id:n,bDelete:!0},evt:24616})}}reopenQuestion(n){return{seq:this.sendMessageToRwg({body:{question_attendeejid:n.jid,question_attendeename:n.displayName,question_text:n.questionText,question_id:n.questionId,question_anonymous:n.isAnonymous,question_time:n.questionTime,bOpen:!0},evt:24590})}}askQuestion(n,o,i=!1,c){const d=FQ();return{seq:this.sendMessageToRwg({body:{id:d,text:n,isAnonymous:i,bAllowAttendeeViewAllQuestion:c,name:o},evt:24592}),questionId:d}}upOrDownVote(n,o){return{seq:this.sendMessageToRwg({body:{question_attendeejid:n.jid,question_attendeename:n.displayName,question_text:n.questionText,question_id:n.questionId,question_anonymous:n.isAnonymous,question_time:n.questionTime,bUpVote:o},evt:24598})}}rename(n,o){return{seq:this.sendMessageToRwg({body:{jid:n,displayName:o},evt:24600})}}setSkinTome(n){return{seq:this.sendMessageToRwg({body:{skinTone:n},evt:24618})}}}function Pz(e){return $O(So(((n,o)=>e(n,o))),yn((n=>n!=null)))}function f3e(e){return $O(nn(((n,o)=>e(n,o)||Eo)))}function uA(e){return $O(nn(((n,o)=>e(n,o))),nn((n=>Array.isArray(n)?Kn(n):za(n))))}Kk.xmppInstance=null;const Hqe={period:500,rules:[{peak:50,throttle:300},{peak:60,throttle:400}]},bme={[`${Vl}`]:()=>({payloads:{add:[],update:[],remove:[]},onThrottle(e){e.add&&this.payloads.add.push(...e.add),e.update&&this.payloads.update.push(...e.update),e.remove&&this.payloads.remove.push(...e.remove)}})};function p3e(e=Hqe){return n=>new yu((o=>{const i=new Map;let c=0,d=null;const{period:p,rules:v}=e;let S=null;d||(d=((P,B)=>{const z=performance.now();let U=0,H=!1;return setTimeout((function K(){U+=B,P();const oe=performance.now()-z-U,ce=setTimeout(K,Math.max(B-oe,0));H&&clearTimeout(ce)}),B),()=>{H=!0}})((()=>{c=0}),p));const _=Object.keys(bme),x=n.subscribe({next(P){if(P&&P.evt&&d!==null){c+=1;const{evt:B,body:z}=P,U=String(B);if(_.indexOf(U)>=0)if(S){const H=i.get(U);if(H)H.onThrottle(z);else{const K=bme[U]();K.onThrottle(z),i.set(U,K)}}else{let H=0;if(v.forEach((K=>{c>K.peak&&(H=K.throttle)})),H>0){const K=bme[U]();K.onThrottle(z),i.set(U,K),S=setTimeout((()=>{i.forEach(((oe,ce)=>{const re={evt:Number(ce),body:oe.payloads};o.next(re)})),i.clear(),S=null}),H)}else o.next(P)}else o.next(P)}else o.next(P)},error(P){o.error(P)},complete(){o.complete()}});return()=>{x.unsubscribe(),d&&(d(),d=null),c=0}}))}let Pa=(function(e){return e.Closed="closed",e.Connecting="connecting",e.Connected="connected",e})({});function yh(e){return 1<<e-1}let Ab=(function(e){return e[e.SupportASL=yh(1)]="SupportASL",e[e.SidecarPhase2=yh(2)]="SidecarPhase2",e[e.SupportBroadcastVoice=yh(4)]="SupportBroadcastVoice",e[e.SendMeetingTokenSeparately=yh(5)]="SendMeetingTokenSeparately",e[e.SupportPreview=yh(6)]="SupportPreview",e[e.WebCameraIndication=yh(7)]="WebCameraIndication",e[e.SupportFarEndCameraControl=yh(9)]="SupportFarEndCameraControl",e[e.SupportVideoShare=yh(10)]="SupportVideoShare",e[e.UnifyErrorType=yh(11)]="UnifyErrorType",e[e.WhiteBoard=yh(12)]="WhiteBoard",e[e.RequestRemoteControl=yh(14)]="RequestRemoteControl",e[e.SmartSummary=yh(15)]="SmartSummary",e[e.LocalRecording=yh(16)]="LocalRecording",e[e.LocalRecordingGrantPermission=yh(17)]="LocalRecordingGrantPermission",e[e.ShareMultiStream=yh(18)]="ShareMultiStream",e[e.VideoLTR=yh(19)]="VideoLTR",e[e.WebrtcAudioRtcpTime=yh(20)]="WebrtcAudioRtcpTime",e[e.SupportSend1080PVideo=yh(29)]="SupportSend1080PVideo",e[e.SupportSend1080PVideoShare=yh(30)]="SupportSend1080PVideoShare",e})({}),SAe=(function(e){return e[e.SupportPresenterAnnotation=yh(5)]="SupportPresenterAnnotation",e[e.SupportMMRCommandChannel=yh(11)]="SupportMMRCommandChannel",e})({});const{setAsnIds:m3e,setIsCanUnmute:g3e,setDialoutSequence:v3e,setDialoutResultCode:b3e,setIsAllowToTalk:gbe,setAudioSsrc:y3e,setIsMutedUponEntry:S3e,setIsUserGrantCaptureAudio:C3e,setIsMicrophoneForbidden:I1e,setWebrtcRestartCount:$k,setMicrophoneList:E3e,setSpeakerList:w3e,setActiveMicrophone:tz,setActiveSpeaker:Ote,setCanPlayAudio:d4,resetAudio:_3e,setIsComputerAudioLoading:H2,setIsAllowToTalkAttendeeConnected:vbe,setIsMuteBeforeSharingAudio:dA,addLocalShareAudioUser:A3e,updateLocalShareAudioUser:T3e,setIsJoinComputerAudioBeforeSharingAudio:h4,setIsShareAudioEnabled:Ite,setIsShareAudioMuted:bee,setIsSharingAudio:f4,setAudioDataEncoding:yee,setAudioDataDecoding:See,addLocallyMutedAudio:x3e,removeLocallyMutedAudio:Cee,updateUserAudioVolumeLocally:O3e,removeLocalUserAudioVolume:I3e,setCustomizedAudioOption:R1e,setIsBackgroundNoiseSuppression:bbe,setIsHidEnabled:R3e,setAudioMediaPlaybackFile:ybe,setIsStopAllIncomingAudio:Sbe,setIsVerifiedAudioPermissionOnIosMobile:k3e,setIsAudioBridgeSignalReconnecting:k1e,setAudioMutedSource:_S,setAudioUnmutedSource:nz,setAudioOriginalSound:Cbe,setLeaveAudioSource:hA,setSecondaryAudioMicrophoneId:Eee,setCrcCallOutSequence:D3e,setCrcCallOutReturnCode:M3e,setWebRtcAudioCapable:P3e}=Qd("SET_ASN_IDS","SET_IS_CAN_UNMUTE","SET_DIALOUT_SEQUENCE","SET_DIALOUT_RESULT_CODE","SET_IS_ALLOW_TO_TALK","SET_AUDIO_SSRC","SET_IS_MUTED_UPON_ENTRY","SET_IS_USER_GRANT_CAPTURE_AUDIO","SET_IS_MICROPHONE_FORBIDDEN","SET_WEBRTC_RESTART_COUNT","SET_MICROPHONE_LIST","SET_SPEAKER_LIST","SET_ACTIVE_MICROPHONE","SET_ACTIVE_SPEAKER","SET_CAN_PLAY_AUDIO","RESET_AUDIO","SET_IS_COMPUTER_AUDIO_LOADING","SET_IS_ALLOW_TO_TALK_ATTENDEE_CONNECTED","SET_IS_MUTE_BEFORE_SHARING_AUDIO","SET_IS_SHARING_AUDIO","ADD_LOCAL_SHARE_AUDIO_USER","UPDATE_LOCAL_SHARE_AUDIO_USER","SET_IS_JOIN_COMPUTER_AUDIO_BEFORE_SHARING_AUDIO","SET_IS_SHARE_AUDIO_ENABLED","SET_IS_SHARE_AUDIO_MUTED","SET_AUDIO_DATA_ENCODING","SET_AUDIO_DATA_DECODING","ADD_LOCALLY_MUTED_AUDIO","REMOVE_LOCALLY_MUTED_AUDIO","UPDATE_USER_AUDIO_VOLUME_LOCALLY","REMOVE_LOCAL_USER_AUDIO_VOLUME","SET_CUSTOMIZED_AUDIO_OPTION","SET_IS_BACKGROUND_NOISE_SUPPRESSION","SET_IS_HID_ENABLED","SET_AUDIO_MEDIA_PLAYBACK_FILE","SET_IS_STOP_ALL_INCOMING_AUDIO","SET_IS_VERIFIED_AUDIO_PERMISSION_ON_IOS_MOBILE","SET_IS_AUDIO_BRIDGE_SIGNAL_RECONNECTING","SET_AUDIO_MUTED_SOURCE","SET_AUDIO_UNMUTED_SOURCE","SET_AUDIO_ORIGINAL_SOUND","SET_LEAVE_AUDIO_SOURCE","SET_SECONDARY_AUDIO_MICROPHONE_ID","SET_CRC_CALL_OUT_SEQUENCE","SET_CRC_CALL_OUT_RETURN_CODE","SET_WEB_RTC_AUDIO_CAPABLE");function Ebe(e){const{audio:{isBackgroundNoiseSuppression:n,originalSound:o,highBitrate:i}}=e,c={currentSelect:KEe.Denoise},d={highfidelity:!1,stereo:!1};if(o){Object.assign(c,{currentSelect:KEe.OriginalSound});const p={};typeof o=="boolean"?Object.assign(p,d):Object.assign(p,{highfidelity:!!o.hifi,stereo:!!o.stereo}),Object.assign(c,{originalSound:p})}return Object.assign(c,{backgroundNoiseSuppression:n?ZEe.Zoom:ZEe.Browser,highBitrate:i}),c}function oz(e,n,o,i){const{meeting:{userId:c}}=i;return $Pe(n,o,i,e),n===c?bee(o):T3e({userId:n,muted:o})}async function k3(e,n,o){var i,c;const{audio:{audioSsrc:d,activeMicrophone:p,activeSpeaker:v,isAllowToTalk:S,customizeAudioOption:{speakerOnly:_,mute:x,microphoneId:P,speakerId:B},isUsingMediaPlayback:z,mediaPlaybackFile:U,isHIDEnabled:H,microphoneDevicesList:K,isVerifiedAudioPermissionOnIOSMobile:oe,speakerDevicesList:ce,isWebRtcAudioCapable:re},meeting:{userId:ye}}=n,_e=us(n),Oe=!!_||ef(_e.userRole)&&!S,F=o??!Oe;let Me=p,ot=v;if(P!==void 0||B!==void 0){let Fe=K,De=ce;if(K.length===0){const{microphones:we,speakers:ct}=await dc(Vk());Fe=we,De=ct}P&&Fe.findIndex((we=>we.deviceId===P))>-1&&(Me=P),B&&De.findIndex((we=>we.deviceId===B))>-1&&(ot=B)}if(z&&U!=null&&U.url){const Fe=vg.getInstance();await Fe.setAudioElement(U),Me=Fe.audioElement,U.playback!==void 0&&(e.enablePlayAudioFileLocally(!!U.playback),Me.dataset.playback=U.playback?"1":"0")}else vg.getInstance().stopAudioElement();return Oe&&!oe&&Zo.isIOSMobile&&await(async function(){await navigator.mediaDevices.getUserMedia({audio:!0})})(),(i=e.joinComputerAudio(d,Me,ot,F,Ebe(n),re,H?{microphoneLabel:(c=K.find((Fe=>Fe.deviceId===p)))===null||c===void 0?void 0:c.label,defaultMuted:!(_e==null||!_e.muted)}:void 0))===null||i===void 0?void 0:i.then((()=>{x&&Qi.createAgent().mute(ye,!0)}))}async function D1e(e,n){const o=[],{audio:{isJoinComputerAudioBeforeSharingAudio:i,mutedBeforeSharingAudio:c}}=n,d=us(n);return i===!0&&(o.push(h4(void 0)),c===!1&&(o.push(nz(S3.SharingAudio)),e.mute(d.userId,!1)),o.push(dA(void 0))),o}async function CAe(e,n,o){const{audio:{isSharingAudio:i},meeting:{userId:c}}=o,d=[];if(d.push(oz(e,c,!0,o)),i){await e.leaveSharingAudio(!1),d.push(f4(!1));const p=await D1e(n,o);d.push(...p),setTimeout((()=>{it(X3,{state:"off"})}),0)}return d.push(Ite(!1)),d}async function wbe(e,n,o){const{audio:{audioSsrc:i,activeMicrophone:c,activeSpeaker:d,isWebRtcAudioCapable:p},meeting:{mediaFeatureOptions:v}}=o,S=us(o),_=[];if(!Ls.isSupportOpenMicWhenShareAudio(v||"")){const x=await(async function(P,B){const z=[],U=us(B),{audio:{isMicrophoneForbidden:H}}=B;return U?.audio===Xi.Computer&&(z.push(h4(!0)),z.push(dA(U.muted)),U.muted||P.muteAudio(),z.push($k(0)),H&&z.push(I1e(!1))),z})(e,o);_.push(...x)}return await e.leaveSharingAudio(!0),await e.joinSharingAudio({ssrc:i,microphoneDeviceId:c,speakerDeviceId:d,isCaptureAudio:ef(S.userRole),audioBridge:p}),_.push(Ite(!0)),_.push(f4(!0)),_.push(oz(e,S.userId,!1,o)),_.findIndex((x=>x.type===`${h4}`&&x.payload===!0))>-1&&(_.push(_S(q0.SharingAudio)),n.mute(o.meeting.userId,!0)),setTimeout((()=>{it(X3,{state:"on"})}),0),_}const sz=()=>{if(EDe())return!0;{var e;let{browser:o}=Zo;if(o=(e=o)===null||e===void 0?void 0:e.toLocaleLowerCase(),o.indexOf("safari")>-1&&o.indexOf("ios-safari")===-1){var n;const i=(n=navigator.userAgent.match(/version\/(\d+\.?\d+)/i))===null||n===void 0?void 0:n[1];return VQ(i||"","15.2")>=0&&VQ(i||"","17.1")<0}return!1}};function EAe(e,n,o){for(let i=0;i<o.length&&n.length!==0;i++){const{userId:c,displayName:d}=o[i];if(n.includes(c)){const p=e.find((v=>v.userId===c));p&&(p.displayName=d,n.splice(n.indexOf(c),1))}}}function wAe(e,n){return Ls.isSupportAudioDenoise(e,n)}function _Ae(){return Ls.isSupportStereoAudio()}function AAe(){var e;return typeof((e=window.navigator.hid)===null||e===void 0?void 0:e.requestDevice)=="function"}function _be(e,n,o){const{audio:{isAllowToTalk:i,customizeAudioOption:c},media:{audioDecodeStatus:d,audioEncodeStatus:p}}=e;return{encodeInitStatus:ef(n.userRole)&&!i||o||c!=null&&c.speakerOnly?"success":p,decodeInitStatus:d}}function N3e(e){const{audio:{bMutedUponEntry:n,isUserGrantCaptureAudio:o,isAllowToTalk:i}}=e,c=us(e);return!(o||c!=null&&c.isHost||i)&&n}function Abe(e,n){const{audio:{customizeAudioOption:o}}=n,i=!(o==null||!o.mute)||N3e(n);e.joinOrLeaveVoip(!0,i)}function TAe(){return Vp(wa(i3.JoinComputerAudio.success,1),Ad(...i3.JoinComputerAudio.fail.map((e=>wa(e,1).pipe(nn((n=>{const{errorCode:o,...i}=n??{},c={...i};return o!==void 0&&Object.assign(c,{subCode:o}),UO({type:Bp,reason:e,errorCode:at.AUDIO_CAPTURE_FAILED,...c})})))))),Eu(45e3).pipe(nn((()=>UO({type:fte,errorCode:at.OPERATION_TIMEOUT})))))}const fS=Qi.createAgent(),Bf=yte(_m(Ls.getInstance())),xAe=e=>!e.muted,L3e=Yl("SCREENSHOT_SHARING_NOTIFICATION"),{setSharePrivilege:M1e,setShareActiveNode:D3,setIsReceiveSharing:IO,setIsScreenShareForbidden:OAe,setShareDimension:P1e,setShareStatus:Sg,setShareSsrc:B3e,setShareQuality:N1e,setReceivedShareDimension:wee,setIsGrabRemoteControl:EJ,setIsSdkGrabControl:Tbe,setIsReceiveSharingFromMainSession:V3e,setIsSharingToBreakoutRoom:J5,setIsSharingWithSecondCamera:F3e,setShringSecondCameraId:H3e,setIsRequireReadReceipt:$3e,setIsOptimizedForSharedVideo:_ee,setShareDataEncoding:xbe,setShareDataDecoding:rz,addShareCapturedEnsuredCanvas:U3e,addShareRenderedEnsuredCanvas:z3e,setRemoteControlCurrentSsrc:rJe,setRemoteControllingSsrc:w6,setApprovedRemoteControlSsrc:M3,setRemoteControlAppDownloadUrl:j3e,setRemoteControlAppInstallStatus:K2,remoteControlAppStatusFallbackCheck:IAe,remoteControlAppLaunchedCheck:yme,setIsEnableAutoDeleteRcApp:iJe,setRemoteControlAppLaunchSheme:bE,addRemoteControlledUser:W3e,removeRemoteControlledUser:Obe,setRemoteControlSetting:L1e,setRemoteControlViewportDomSelector:B1e,setAnnotationCapability:G3e,setIsAnnotationInitialized:$qe,setIsAnnotationStarted:Uqe,setAnnotationUser:OS,setAnnotationToolColor:q3e,setAnnotationSpotlightColor:Z3e,setAnnotationToolWidth:K3e,setAnnotationToolType:P3,setIsSimultaneousShareView:Ibe,addShareViewAttachment:Aee,removeShareViewAttachment:_6,setAnnotationVanishingToolTimer:Y3e,resetShare:X3e}=Qd("SET_SHARE_PRIVILEGE","SET_SHARE_ACTIVE_NODE","SET_IS_RECEIVE_SHARING","SET_IS_SCREEN_SHARE_FORBIDDEN","SET_SHARE_DIMENSION","SET_SHARE_STATUS","SET_SHARE_SSRC","SET_SHARE_QUALITY","SET_RECEIVED_SHARE_DIMENSION","SET_IS_GRAB_REMOTE_CONTROL","SET_IS_SDK_GRAB_CONTROL","SET_IS_RECEIVE_SHARING_FROM_MAIN_SESSION","SET_IS_SHARING_TO_BREAKOUT_ROOM","SET_IS_SHARING_WITH_SECOND_CAMERA","SET_SHRING_SECOND_CAMERA_ID","SET_IS_REQUIRE_READ_RECEIPT","SET_IS_OPTIMIZED_FOR_SHARED_VIDEO","SET_SHARE_DATA_ENCODING","SET_SHARE_DATA_DECODING","ADD_SHARE_CAPTURED_ENSURED_CANVAS","ADD_SHARE_RENDERED_ENSURED_CANVAS","SET_REMOTE_CONTROL_CURRENT_SSRC","SET_REMOTE_CONTROLLING_SSRC","SET_APPROVED_REMOTE_CONTROL_SSRC","SET_REMOTE_CONTROL_APP_DOWNLOAD_URL","SET_REMOTE_CONTROL_APP_INSTALL_STATUS","REMOTE_CONTROL_APP_STATUS_FALLBACK_CHECK","REMOTE_CONTROL_APP_LAUNCHED_CHECK","SET_IS_ENABLE_AUTO_DELETE_RC_APP","SET_REMOTE_CONTROL_APP_LAUNCH_SHEME","ADD_REMOTE_CONTROLLED_USER","REMOVE_REMOTE_CONTROLLED_USER","SET_REMOTE_CONTROL_SETTING","SET_REMOTE_CONTROL_VIEWPORT_DOM_SELECTOR","SET_ANNOTATION_CAPABILITY","SET_IS_ANNOTATION_INITIALIZED","SET_IS_ANNOTATION_STARTED","SET_ANNOTATION_USER","SET_ANNOTATION_TOOL_COLOR","SET_ANNOTATION_SPOTLIGHT_COLOR","SET_ANNOTATION_TOOL_WIDTH","SET_ANNOTATION_TOOL_TYPE","SET_IS_SIMULTANEOUS_SHARE_VIEW","ADD_SHARE_VIEW_ATTACHMENT","REMOVE_SHARE_VIEW_ATTACHMENT","SET_ANNOTATION_VANISHING_TOOL_TIMER","RESET_SHARE"),UL=Qi.createAgent(),_2=yte(_m(Ls.getInstance())),Sme=Qi.createAgent(),zL=yte(_m(Ls.getInstance())),RAe=[_v.Canceled,_v.CancelFailed],_X={asnIds:{asn1:{userId:0,displayName:null},asn2:{userId:0,displayName:null},asn3:{userId:0,displayName:null}},microphoneDevicesList:[],speakerDevicesList:[],activeMicrophone:"default",activeSpeaker:"default",isMicrophoneForbidden:!1,audioSsrc:0,bCanUnmute:!1,bMutedUponEntry:!1,isAllowToTalk:void 0,dialout:[],crcDevice:[],canPlayAudio:!1,mutedSource:void 0,unmutedSource:void 0,isUserGrantCaptureAudio:!1,webrtcRestartCount:0,isComputerAudioLoading:!1,isUsingMediaPlayback:!1,customizeAudioOption:{},localShareAudioUserMutedList:[],locallyMutedAudioList:[],localUserAudioVolumeList:[],isStopAllImcomingAudio:!1,isWebRtcAudioCapable:!1,webRtcAudioMode:0,statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,bandwidth:0,bitrate:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,bandwidth:0,bitrate:0}}},zqe=wm({[`${m3e}`]:pt(((e,{payload:n})=>{e.asnIds={...n}})),[`${g3e}`]:pt(((e,{payload:n})=>{e.bCanUnmute=n})),[`${v3e}`]:pt(((e,{payload:n})=>{const{sequence:o,phoneNumber:i}=n;e.dialout.findIndex((c=>c.sequence===o))===-1&&e.dialout.push({sequence:o,phoneNumber:i,returnCode:-1,uuid:dee()})})),[`${b3e}`]:pt(((e,{payload:n})=>{const{sequence:o,code:i,nodeId:c}=n,d=e.dialout.find((p=>p.sequence===o));d&&(d.returnCode=i,c&&(d.phoneNodeId=c))})),[`${gbe}`]:pt(((e,{payload:n})=>{e.isAllowToTalk=n,e.isAllowToTalkAttendeeConnected=!1})),[`${_S}`]:pt(((e,{payload:n})=>{e.mutedSource=n})),[`${nz}`]:pt(((e,{payload:n})=>{e.unmutedSource=n})),[`${y3e}`]:pt(((e,{payload:n})=>{e.audioSsrc=n})),[`${S3e}`]:pt(((e,{payload:n})=>{e.bMutedUponEntry=n})),[`${C3e}`]:pt(((e,{payload:n})=>{e.isUserGrantCaptureAudio=n})),[`${I1e}`]:pt(((e,{payload:n})=>{e.isMicrophoneForbidden=n})),[`${$k}`]:pt(((e,{payload:n})=>{e.webrtcRestartCount=n})),[`${E3e}`]:pt(((e,{payload:n})=>{e.microphoneDevicesList=n})),[`${w3e}`]:pt(((e,{payload:n})=>{e.speakerDevicesList=n})),[`${tz}`]:pt(((e,{payload:n})=>{e.activeMicrophone=n})),[`${Ote}`]:pt(((e,{payload:n})=>{e.activeSpeaker=n})),[`${d4}`]:pt(((e,{payload:n})=>{e.canPlayAudio=n})),[`${H2}`]:pt(((e,{payload:n})=>{e.isComputerAudioLoading=n})),[`${R1e}`]:pt(((e,{payload:n})=>{if(n){const{speakerOnly:o,mute:i,backgroundNoiseSuppression:c,originalSound:d,syncButtonsOnHeadset:p,mediaFile:v,microphoneId:S,speakerId:_,highBitrate:x}=n;e.customizeAudioOption.speakerOnly=o,e.customizeAudioOption.mute=i,e.customizeAudioOption.microphoneId=S,e.customizeAudioOption.speakerId=_,e.isBackgroundNoiseSuppression=!!c,e.isHIDEnabled=!!p,e.originalSound=d,e.highBitrate=!!x,Dz(e.mediaPlaybackFile,v)||(e.mediaPlaybackFile=v,e.isUsingMediaPlayback=!(v==null||!v.url)),i&&(e.mutedSource=q0.Inherited)}})),[`${vbe}`]:pt(((e,{payload:n})=>{e.isAllowToTalkAttendeeConnected=n})),[`${dA}`]:pt(((e,{payload:n})=>{e.mutedBeforeSharingAudio=n})),[`${f4}`]:pt(((e,{payload:n})=>{e.isSharingAudio=n})),[`${bee}`]:pt(((e,{payload:n})=>{e.isShareAudioMuted=n})),[`${A3e}`]:pt(((e,{payload:n})=>{const{userId:o,isFromMainSession:i}=n;e.localShareAudioUserMutedList.findIndex((c=>c.userId===o))===-1&&e.localShareAudioUserMutedList.push({userId:o,isFromMainSession:i,muted:!1})})),[`${T3e}`]:pt(((e,{payload:n})=>{const o=e.localShareAudioUserMutedList.find((i=>i.userId===n.userId));o&&(o.muted=n.muted)})),[`${h4}`]:pt(((e,{payload:n})=>{e.isJoinComputerAudioBeforeSharingAudio=n})),[`${Ite}`]:pt(((e,{payload:n})=>{e.isShareAudioEnabled=n})),[`${yee}`]:pt(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.encode={bitrate:i,...c}})),[`${See}`]:pt(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.decode={bitrate:i,...c}})),[`${x3e}`]:pt(((e,{payload:n})=>{e.locallyMutedAudioList.findIndex((o=>o===n))===-1&&e.locallyMutedAudioList.push(n)})),[`${Cee}`]:pt(((e,{payload:n})=>{const o=e.locallyMutedAudioList.findIndex((i=>i===n));o!==-1&&e.locallyMutedAudioList.splice(o,1)})),[`${O3e}`]:pt(((e,{payload:n})=>{const o=e.localUserAudioVolumeList.find((i=>i.userId===n.userId));if(o?o.volume=n.volume:e.localUserAudioVolumeList.push(n),n.volume>0){const i=e.locallyMutedAudioList.findIndex((c=>c===n.userId));i!==-1&&e.locallyMutedAudioList.splice(i,1)}})),[`${I3e}`]:pt(((e,{payload:n})=>{const o=e.localUserAudioVolumeList.findIndex((i=>i.userId===n.userId));o!==-1&&e.localUserAudioVolumeList.splice(o,1)})),[`${bbe}`]:pt(((e,{payload:n})=>{e.isBackgroundNoiseSuppression=n})),[`${R3e}`]:pt(((e,{payload:n})=>{e.isHIDEnabled=n})),[`${ybe}`]:pt(((e,{payload:n})=>{e.mediaPlaybackFile=n,e.isUsingMediaPlayback=!(n==null||!n.url)})),[`${Sbe}`]:pt(((e,{payload:n})=>{e.isStopAllImcomingAudio=n})),[`${k3e}`]:pt(((e,{payload:n})=>{e.isVerifiedAudioPermissionOnIOSMobile=n})),[`${k1e}`]:pt(((e,{payload:n})=>{e.isAudioBridgeSignalReconnecting=n})),[`${Cbe}`]:pt(((e,{payload:n})=>{e.originalSound=n})),[`${hA}`]:pt(((e,{payload:n})=>{e.leaveAudioSource=n,e.unmutedSource=S3.Inherited})),[`${Eee}`]:pt(((e,{payload:n})=>{e.secondaryAudioMicrophoneId=n})),[`${D3e}`]:pt(((e,{payload:n})=>{const{sequence:o,ip:i,protocol:c}=n;e.crcDevice.findIndex((d=>d.sequence===o))===-1&&e.crcDevice.push({sequence:o,ip:i,protocol:c,transId:0,uuid:dee()})})),[`${M3e}`]:pt(((e,{payload:n})=>{const{sequence:o,transID:i,result:c}=n,d=e.crcDevice.find((p=>p.sequence===o));d&&Object.assign(d,{transId:i,returnCode:c})})),[`${P3e}`]:pt(((e,{payload:n})=>{const{isWebRtcAudioCapable:o,webRtcAudioMode:i}=n;e.isWebRtcAudioCapable=o,e.webRtcAudioMode=i})),[`${_3e}`]:({dialout:e,crcDevice:n,locallyMutedAudioList:o,localUserAudioVolumeList:i,customizeAudioOption:c,originalSound:d,highBitrate:p,isHIDEnabled:v,isBackgroundNoiseSuppression:S,isStopAllImcomingAudio:_,mediaPlaybackFile:x,isUsingMediaPlayback:P,isVerifiedAudioPermissionOnIOSMobile:B,activeSpeaker:z,activeMicrophone:U},{payload:H})=>H?{..._X,dialout:e,crcDevice:n,locallyMutedAudioList:o,localUserAudioVolumeList:i,customizeAudioOption:{..._X.customizeAudioOption,speakerOnly:c.speakerOnly},originalSound:d,highBitrate:p,isHIDEnabled:v,isBackgroundNoiseSuppression:S,isStopAllImcomingAudio:_,mediaPlaybackFile:x,isUsingMediaPlayback:P,isVerifiedAudioPermissionOnIOSMobile:B,activeSpeaker:z,activeMicrophone:U}:{..._X}},_X),jqe={dialEpics0:(e,n)=>Ro(e,8198).pipe(Qo(n),yn((([o,i])=>{const{audio:{dialout:c}}=i,{payload:{seq:d,body:p}}=o;return c.map((v=>v.sequence)).includes(d)||RAe.includes(p?.result)})),nn((([o,i])=>{const{payload:{seq:c,body:{phoneNodeID:d,result:p}}}=o,v=[b3e({code:p,sequence:c,nodeId:d})],{audio:{dialout:S}}=i;let _=S.find((B=>B.sequence===c));!_&&RAe.includes(p)&&(_=S.find((B=>[_v.Calling,_v.Ringing,_v.Accepted].includes(B.returnCode))));const x={code:p};if(_&&(Object.assign(x,{phoneNumber:_.phoneNumber,uuid:_.uuid}),d&&Object.assign(x,{userId:d})),it(yMe,x),p===_v.Success){if(it(SMe),d&&Na(i).findIndex((B=>B.userId===d))>-1){var P;const B=(P=i.audio.dialout.find((z=>z.sequence===c)))===null||P===void 0?void 0:P.phoneNumber;B&&(v.push(J6({userId:d,key:"phoneNumber",value:B})),it(NS,[{userId:d,phoneNumber:B}]))}}else[_v.Canceling,_v.Canceled,_v.CancelFailed].includes(p)?p===_v.Canceled?it(EMe):p===_v.CancelFailed&&it(wMe):[_v.Calling,_v.Ringing,_v.Accepted,_v.Success].indexOf(p)===-1&&it(CMe);return Kn(v)}))),dialEpics1:(e,n)=>Ro(e,4120).pipe(Qo(n),yn((([o,i])=>i.audio.crcDevice.map((c=>c.sequence)).includes(o.payload.seq))),nn((([o,i])=>{const{payload:{seq:c,body:{result:d,transID:p}}}=o,{audio:{crcDevice:v}}=i,S=[],_=v.find((x=>x.sequence===c));return _&&(it(kMe,{code:d,ip:_.ip,protocol:_.protocol,uuid:_.uuid}),S.push(M3e({sequence:c,transID:p,result:d}))),d===XX.Success?it(DMe):[XX.Success,XX.Ringing].includes(d)||it(MMe),Kn(S)})))},Wqe={epics0:(e,n)=>Ro(e,12033).pipe(Qo(n),So((([o,i])=>{const{participants:{allowTalkAttendeesList:c}}=i,d=o.payload.body;let p={};if(d){const v=Na(i),S=Object.keys(d).map((x=>({key:x,userId:d[x]}))),_=S.map((x=>x.userId));EAe(S,_,v),c.length>0&&_.length>0&&EAe(S,_,c),p=S.reduce(((x,P)=>({...x,[`${P.key}`]:{userId:P.userId,displayName:P.displayName}})),{}),it(vMe,Object.values(p))}return m3e(p)}))),epics1:(e,n)=>Ro(e,16135).pipe(Qo(n),Bo((([o,i])=>{const{payload:{body:{id:c,bLeadershipOn:d}}}=o,{audio:{bCanUnmute:p}}=i,v=us(i);if(v){const{isHost:S,bCoHost:_,userId:x,audio:P,muted:B}=v,z=S||_;d&&$f(x,c)&&(P!==null&&P!==""&&B!==!0||!z&&!p||it(oJ,Dpe.Spotlight))}})),nn((()=>Eo))),epics2:(e,n)=>Ro(e,12037).pipe(Qo(n),Bo((([,o])=>{const i=us(o);i?.audio!==null&&i?.audio!==""&&i?.muted==1&&it(oJ,Dpe.Unmute)})),nn((()=>Eo))),epics3:(e,n)=>Ro(e,Wy).pipe(yn((o=>o.payload.body&&["bCanUnmute","bMutedAll","bMutedUponEntry"].some((i=>o.payload.body[i]!==void 0)))),nn((o=>{const{payload:{body:{bCanUnmute:i,bMutedAll:c,bMutedUponEntry:d}}}=o,p=[];if(i!==void 0&&p.push(g3e(o.payload.body.bCanUnmute)),c!==void 0){const v=us(n.value);v?.audio!==Xi.Computer&&v?.audio!==Xi.Phone||v.muted!=0||o.payload.body.bMutedAll&&p.push(_S(q0.PassiveByMuteAll))}return d!==void 0&&p.push(S3e(o.payload.body.bMutedUponEntry)),Kn(p)}))),epics4:(e,n)=>Ro(e,Vl).pipe(Qo(n),yn((([,o])=>o.socket.zoomSocketStatus===Pa.Connected)),nn((([o,i])=>{const{payload:{body:{update:c}}}=o;if(c!=null&&c.some((d=>d.audio!==void 0||d.muted!==void 0))){const{meeting:{userId:d}}=i,p=c.filter((S=>S.id!==d)),v=c.filter((S=>S.id===d));if(p&&p.forEach((S=>{it(bMe,S)})),v.length>0)return Bk(n).pipe(nn((S=>{const{audio:{mutedSource:_,unmutedSource:x,isAllowToTalk:P,isSharingAudio:B,isAudioBridgeSignalReconnecting:z,leaveAudioSource:U,customizeAudioOption:{speakerOnly:H}}}=n.value,K=S;return Kn(v).pipe(uA((async oe=>{const ce=[];if(oe.audio!==K.audio)if(oe.audio==="")it(gte,{source:U}),ce.push(hA(void 0));else if(oe.audio===Xi.Computer){const re=ef(K.userRole)&&!P||!!H;B&&it(r3),re&&(it(r3),Zo.isIOSMobile&&ce.push(k3e(!0))),z&&(it(r3),ce.push(k1e(!1)))}else oe.audio===Xi.Phone&&(K.audio===Xi.Computer&&(await Bf.leaveComputerAudio(),ce.push(hA(vk.Pstn)),fS.joinOrLeaveVoip(!1)),it(eve));if(K.audio!==""&&oe.muted!==K.muted){if(oe.muted!==K.muted){if(oe.muted===!0){if(_!==q0.Inherited){const re=_??q0.PassiveByMuteOne;it(Z0e,{source:re})}K.audio===Xi.Computer&&Bf.muteAudio()}else if(oe.muted===!1){if(x!==S3.Inherited){const re=x??S3.Passive;it(K0e,{source:re})}K.audio===Xi.Computer&&Bf.unmuteAudio()}}oe.muted!==void 0&&ce.push(_S(void 0),nz(void 0))}return ce})))})))}return Eo}))),epics5:(e,n)=>Ro(e,12036).pipe(Qo(n),nn((([o,i])=>{const c=us(i),{media:{audioEncodeStatus:d}}=i,{promoterID:p,bAllowTalk:v}=o.payload.body;if(c?.userId===p){if(it(OMe,v),v)return d!=="success"&&Bf.enableAudioEncode(),Hf("audio",d,"success").pipe(nn((S=>(S&&it(oJ,Dpe.AllowToTalk),Eo))),o1(gbe(!0)));if(fS.mute(p,!0),c?.audio===Xi.Computer)return Bf.leaveComputerAudio(),Eu(300).pipe(Bo((async()=>{(sz()?dc(Vp(Xd(document,"click").pipe(Yr(1)),Xd(document,"touchend").pipe(Yr(1)))):Promise.resolve(!0)).then((()=>{k3(Bf,i,!1)}))})),nn((()=>Eo)),o1(gbe(!1),_S(q0.Inherited)))}return Eo}))),epics6:e=>Ro(e,8205).pipe(Bo((n=>{it("AUDIO_ALLOW_TO_TALK_RESPONSE",n.payload.body)})),nn((()=>Eo))),epics7:(e,n)=>R3(e,24597).pipe(Qo(n),Bo((([o,i])=>{const c=us(i);c?.audio===Xi.Phone?fS.audioDrop(c.userId):c?.audio===Xi.Computer&&o.payload.body.bPromote})),nn((()=>Eo))),epics8:(e,n)=>Ro(e,12035).pipe(Qo(n),hi((([o,i])=>{const{meeting:{currentUserAudioBeforeReset:c,isCurrentUserMutedBeforeReset:d,userId:p}}=i,{payload:{body:{ssrc:v}}}=o,S=Bk(n).pipe(nn((_=>{if(!(c!==Xi.Computer||_!=null&&_.audio)){const{encodeInitStatus:x,decodeInitStatus:P}=_be(n.value,_);return Hf("audio",x,P).pipe(yn((([B,z])=>B&&z)),Bo((()=>{(sz()?dc(Vp(Xd(document,"click").pipe(Yr(1)),Xd(document,"touchend").pipe(Yr(1)))):Promise.resolve(!0)).then((()=>{Abe(fS,n.value),k3(Bf,n.value)}));const{audio:{locallyMutedAudioList:B,localUserAudioVolumeList:z,isStopAllImcomingAudio:U}}=n.value;B.length>0&&B.forEach((H=>{Bf.muteOrUnmuteOtherAudio(H,!0)})),z.length>0&&z.forEach((H=>{Bf.adjustOtherAudioVolume(H.userId,H.volume)})),U&&Bf.stopAllIncomingAudio(!0)})),So((()=>Gve(void 0))))}return c===Xi.Phone?(d&&fS.mute(p,!0),Kn([Gve(void 0),qve(void 0)])):Eo})));return it(IMe,v),Ad(za(y3e(v)),S)}))),epics9:(e,n)=>Ro(e,7952).pipe(hi((o=>wa(eve,1).pipe(Qo(n),Bo((([,i])=>{const{BindStatus:c,nOperatorUserId:d}=o.payload.body,p=i.participants.attendeesList.find((v=>v.userId===d));c===!0&&it(_Me,{operatorName:p?.displayName,operatorUserId:d,operatorRole:p?.userRole})})),nn((()=>Eo)))))),epics10:(e,n)=>ir(e,Gn.UserGrantCaptureAudio).pipe(Qo(n),nn((([o,i])=>{const c=us(i);var d;(d=c,d?.audio===Xi.Computer?Promise.resolve():vr({event:Mp,operations:[yn((B=>B.audio!==void 0&&B.audio!=="")),Yr(1)]},(({audio:B})=>B===Xi.Phone||B===Xi.Computer))).then((()=>{it(r3)}));const{meeting:{isCurrentUserMutedBeforeReset:p},audio:{isAllowToTalk:v,activeMicrophone:S,isUsingMediaPlayback:_}}=i,{payload:{data:x}}=o,P=[C3e(!0)];return c&&(c.muted===!0&&v===!1&&(P.push(_S(q0.Inherited)),fS.mute(c.userId,!0)),(p===!0||N3e(i))&&(P.push(_S(q0.Inherited)),fS.mute(c.userId,!0)),p!==void 0&&P.push(qve(void 0)),!_&&x&&S!==x&&P.push(tz(x))),Kn(P)}))),epics11:e=>ir(e,Gn.AudioCaptureFailed).pipe(Bo((n=>{const{payload:{data:o}}=n;it(AMe,o)})),So((()=>I1e(!0)))),epics12:e=>ir(e,Gn.AudioWebsocketBroken).pipe(Bo((()=>{it(TMe)})),nn((()=>Eo))),epics13:(e,n)=>ir(e,Gn.AudioZeroData).pipe(Qo(n),Pz((([,o])=>{const{audio:{webrtcRestartCount:i,activeMicrophone:c}}=o;if(i<3)return Bf.restoreWebRTC(c),$k(i+1)}))),epics14:(e,n)=>e.pipe(Fo(`${d4}`),yn((o=>o.payload===!1)),nn((()=>(it(xMe),wve().pipe(Bo((()=>{Abe(fS,n.value),k3(Bf,n.value)})),So((()=>d4(!0)))))))),epics15:(e,n)=>ir(e,[Gn.JoinComputerAudioComplete,Gn.JoinSharingAudioComplete,Gn.LeaveComputerAudioComplete,Gn.LeaveSharingAudioComplete]).pipe(Bo((o=>{VPe.completeAudioAction();const{payload:{type:i}}=o;if(i===Gn.JoinComputerAudioComplete){const c=us(n.value);c?.audio===Xi.Computer&&(c.muted?Bf.muteAudio():Bf.unmuteAudio());const d=Na(n.value).filter((p=>!!p.audioShare&&p.userId!==c?.userId));d.length&&d.forEach((p=>{Bf.setSharingAudioVolume(p.userId,!1,!1,!0)}))}})),nn((()=>Eo))),epics16:(e,n)=>ir(e,Gn.AudioQosData).pipe(Qo(n),So((([o,i])=>{var c,d;const{meeting:{isWebinar:p},media:{audioEncodeStatus:v,audioDecodeStatus:S},participants:{xmppAttendeeList:_,allowTalkAttendeesList:x}}=i,P=us(i),B=t1e(i);let z=B.length>0,U=B.some(xAe);p&&(z=z||!!_.length,U=U||x.some(xAe));const H=P?.audio===Xi.Computer&&v==="success"&&!(P!=null&&P.muted)&&(z||((c=i.recording)===null||c===void 0?void 0:c.cmrStatus)===Ed.Start),K=P?.audio===Xi.Computer&&S==="success"&&z&&U;return(d=o.payload.data)!==null&&d!==void 0&&d.encoding?H?(it(tve,o.payload),yee(o.payload)):yee(yQ):K?(it(tve,o.payload),See(o.payload)):See(yQ)}))),epics17:(e,n)=>Ro(e,Vl).pipe(Qo(n),yn((([o,i])=>{const{payload:{body:c}}=o,{audio:{locallyMutedAudioList:d,localUserAudioVolumeList:p}}=i;return(d.length>0||p.length>0)&&c?.remove&&c.remove.length>0})),nn((([o,i])=>{const{payload:{body:{remove:c}}}=o,{audio:{locallyMutedAudioList:d,localUserAudioVolumeList:p}}=i,v=d.concat(p.map((S=>S.userId))).filter((S=>c.indexOf((_=>_.id===S))!==-1));return v.length>0?(v.forEach((S=>{Bf.muteOrUnmuteOtherAudio(S,!1)})),Kn(v.map((S=>[Cee(S),I3e({userId:S})])).flat())):Eo}))),epics18:(e,n)=>ir(e,Gn.HidStatusMute).pipe(nn((o=>{const{payload:{data:i}}=o,c=n.value,{meeting:{userId:d,mediaFeatureOptions:p},audio:{isShareAudioEnabled:v,bCanUnmute:S}}=c,_=[];if(i)v&&!Ls.isSupportOpenMicWhenShareAudio(p||"")&&_.push(dA(!0)),_.push(_S(q0.Active)),fS.mute(d,!0);else if(!v||Ls.isSupportOpenMicWhenShareAudio(p||"")){v&&_.push(dA(!1));const x=us(c);(S||x!=null&&x.isHost||x!=null&&x.bCoHost)&&(_.push(nz(S3.Active)),fS.mute(d,!1))}return Kn(_)}))),epics19:e=>Ro(e,12040).pipe(Bo((n=>{const{payload:{body:{mode:o}}}=n;Bf.setAudioCodecMode(o)})),nn((()=>Eo))),epics20:(e,n)=>ir(e,[Gn.AudioSpeakerSetSuccess,Gn.JoinComputerAudioComplete,Gn.AudioSpeakerSetError]).pipe(nn((o=>{const{payload:{data:i,type:c}}=o,{audio:{activeSpeaker:d,activeMicrophone:p,isUsingMediaPlayback:v}}=n.value,S=[];return c===Gn.AudioSpeakerSetSuccess&&d!==i?S.push(Ote(i)):!v&&c===Gn.JoinComputerAudioComplete&&i!=null&&i.microphoneDeviceId&&p!==i.microphoneDeviceId&&S.push(tz(i.microphoneDeviceId)),c===Gn.AudioSpeakerSetSuccess?it(nve,!0):c===Gn.AudioSpeakerSetError&&it(nve,!1),Kn(S)}))),epics21:(e,n)=>ir(e,Gn.AudioLevelIndicator).pipe(yn((()=>{const o=us(n.value);return!!o&&o.audio===Xi.Computer&&!o.muted})),Bo((o=>{const{payload:{data:i}}=o;it(PMe,{level:i.value})})),nn((()=>Eo))),epics22:(e,n)=>ir(e,Gn.WorkletProcessExceptions).pipe(yn((o=>!!o.payload.data)),nn((()=>{const o=us(n.value),i=[];return o?.audio===Xi.Computer&&(Bf.leaveComputerAudio(),fS.joinOrLeaveVoip(!1),i.push(hA(vk.EndedBySystem)),i.push($k(0))),Kn(i)}))),epics23:(e,n)=>ir(e,Gn.RecaptureAudio).pipe(yn((()=>{const o=us(n.value);return o?.audio===Xi.Computer&&!n.value.audio.isUsingMediaPlayback})),nn((()=>(HPe(Bf,n.value),Eo))))},Gqe=xg(Wqe,{shareAudioEpics0:(e,n)=>RS(e,Vl).pipe(yn((o=>{const i=o.payload.body.update;return i&&i.length>0&&i.findIndex((c=>c.bShareOn!==void 0))>-1})),Qo(n),nn((([o,i])=>{const{payload:{body:{update:c}}}=o,{audio:{localShareAudioUserMutedList:d}}=i,p=c.filter((S=>S.bShareOn===!0&&S.bShareAudioOn===!0)),v=[];return p.length>0&&p.forEach((S=>{d.findIndex((_=>_.userId===S.id))===-1&&v.push(A3e({userId:S.id,isFromMainSession:!!S.bShareToBORooms}))})),Kn(v)}))),shareAudioEpics1:(e,n)=>ir(e,Gn.SharingDesktopStreamHaveAudio).pipe(yn((()=>!n.value.audio.secondaryAudioMicrophoneId)),hi((()=>Ro(e,Vl).pipe(yn((o=>{var i;const{payload:{body:c}}=o,{meeting:{userId:d}}=n.value;return(c==null||(i=c.update)===null||i===void 0?void 0:i.findIndex((p=>p.id===d&&p.bShareOn===!0)))>-1})),Yr(1),uA((async()=>{const o=n.value;return await wbe(_2,UL,o)})),o1(Ite(!0)))))),shareAudioEpics2:(e,n)=>ir(e,Gn.SharingDesktopStreamHaveNoAudio).pipe(Qo(n),yn((([,o])=>{var i;return((i=o.audio)===null||i===void 0?void 0:i.isShareAudioEnabled)===!0})),uA((async([,o])=>await CAe(_2,UL,o)))),shareAudioEpics3:(e,n)=>Ro(e,Vl).pipe(Qo(n),yn((([,o])=>o.socket.zoomSocketStatus===Pa.Connected&&o.audio.isSharingAudio===!0&&!Ls.isSupportOpenMicWhenShareAudio(o.meeting.mediaFeatureOptions||""))),nn((([o,i])=>{var c;if((c=o.payload.body.update)!==null&&c!==void 0&&c.some((d=>d.audio!==void 0||d.muted!==void 0))){const{meeting:{userId:d}}=i,p=o.payload.body.update.filter((v=>v.id===d));return Bk(n).pipe(nn((v=>{const S=[];return p.findIndex((_=>_.audio===Xi.Computer))>-1&&v?.audio!==Xi.Computer&&(UL.mute(d,!0),S.push(h4(!0)),S.push(dA(!0)),S.push(_S(q0.SharingAudio))),Kn(S)})))}return Eo}))),shareAudioEpics4:(e,n)=>e.pipe(Fo(`${Sg}`),Xu(Dv),Qo(n),yn((([,o])=>{var i;return((i=o.audio)===null||i===void 0?void 0:i.isShareAudioEnabled)===!0})),uA((async([o,i])=>{const{payload:c}=o,{audio:{isShareAudioMuted:d,isSharingAudio:p}}=i,v=[];if(c===Zr.End){const S=await CAe(_2,UL,i);v.push(...S)}else if(c===Zr.Paused){if(d===!1&&p===!0){await _2.leaveSharingAudio(!0),v.push(f4(!1));const S=await D1e(UL,i);v.push(...S),setTimeout((()=>{it(X3,{state:"off"})}),0)}}else if(c===Zr.Sharing&&d===!1&&p===!1){const S=await wbe(_2,UL,i);v.push(...S)}return v}))),shareAudioEpics5:(e,n)=>ir(e,Gn.SharingDesktopStreamHaveAudio).pipe(yn((()=>!!n.value.audio.secondaryAudioMicrophoneId)),Bo((()=>{const{audio:{audioSsrc:o,secondaryAudioMicrophoneId:i,isWebRtcAudioCapable:c}}=n.value;_2.joinSharingAudio({ssrc:o,microphoneDeviceId:i,speakerDeviceId:null,isCaptureAudio:!0,audioBridge:c}),it(RMe)})),nn((()=>Eo))),shareAudioEpics6:(e,n)=>Ro(e,Vl).pipe(yn((o=>{const{payload:{body:i}}=o;return!!i.update&&i.update.some((c=>c.audioShare!==void 0))})),nn((o=>{const{meeting:{userId:i}}=n.value;return o.payload.body.update.filter((c=>c.audioShare!==void 0&&c.id!==i)).forEach((c=>{_2.setSharingAudioVolume(c.id,!c.audioShare,!1,!0)})),Eo})))},{audioBridgEpics0:e=>Ro(e,4299).pipe(Bo((n=>{const{payload:o}=n;zL.passThroughRWGMessage(o)})),Eg()),audioBridgEpics1:e=>ir(e,Gn.AudioBridgeReconnectStart).pipe(nn((()=>(Sme.joinOrLeaveVoip(!1),Kn([k1e(!0),hA(vk.Failover)]))))),audioBridgEpics2:(e,n)=>Ro(e,Vl).pipe(yn((o=>{var i,c;return n.value.audio.isWebRtcAudioCapable&&(((i=o.payload.body.update)===null||i===void 0?void 0:i.some((d=>d.muted!==void 0)))||((c=o.payload.body.remove)===null||c===void 0?void 0:c.length)>0)})),Bo((o=>{const{payload:{body:{update:i,remove:c}}}=o;zL.sendUserAudioStatus({update:(i||[]).filter((d=>d.muted!==void 0)).map((d=>({userId:d.id,muted:d.muted}))),remove:(c||[]).map((d=>({userId:d.id})))})})),Eg()),audioBridgEpics3:(e,n)=>Ro(e,16129).pipe(yn((o=>{const{payload:{body:{bVideoOn:i}}}=o,{audio:{isWebRtcAudioCapable:c}}=n.value;return c&&!!i})),Bo((o=>{const{payload:{body:{id:i}}}=o;zL.changeActiveVideoSsrc(i)})),nn((()=>Eo))),audioBridgEpics4:(e,n)=>ir(e,Gn.AudioStreamFailed).pipe(nn((o=>{const{payload:{data:i}}=o,c=us(n.value),d=[];return c?.audio===Xi.Computer&&(zL.leaveComputerAudio(),sz()||Zo.isIOSMobile||i===W5.PermissionReset?(Sme.joinOrLeaveVoip(!1),d.push(hA(vk.EndedBySystem)),d.push($k(0))):k3(zL,n.value)),Kn(d)}))),audioBridgEpics5:(e,n)=>ir(e,Gn.AudioBridgeSocketConnectionError).pipe(nn((()=>{const o=us(n.value),i=[];return o?.audio===Xi.Computer&&(zL.leaveComputerAudio(),Sme.joinOrLeaveVoip(!1),i.push(hA(vk.EndedBySystem)),i.push($k(0))),Kn(i)}))),audioBridgEpics6:(e,n)=>e.pipe(Fo(`${a1e}`),yn((()=>!!n.value.meeting.zlkJwtToken)),So((o=>{const i=o.payload,{meeting:{zlkJwtToken:c,mediaFeatureOptions:d,meetingId:p}}=n.value;let v;if(c){const{enforce_web_rtc_audio:x,audio_compatible_mode:P,audio_webrtc_mode:B}=CA(c);x===void 0&&P===void 0&&B===void 0||(v=Number(B!==void 0?B:P!==void 0?P:x))}const S=ei.get(tl.VideoSDKWebRTCAudioFallbackWasm)===1,_=Ls.getWebRtcAudioMode(d??"",p,v,i);return P3e({isWebRtcAudioCapable:!S&&!!(_&zge.WebRTCAudio),webRtcAudioMode:_})})))},jqe),qqe=Qi.createAgent(),Ev=_m(Ls.getInstance()),AX=Qi.createAgent(),pS=_m(Ls.getInstance()),Zqe=Qi.createAgent(),kAe=_m(Ls.getInstance()),DAe={isWebrtcVideoCapable:!1,videoSsrc:0,cameraDevicesList:[],activeCamera:Zo.isAndroidOrIOSBrowser?ek.User:"default",activeVideoId:0,isCurrentUserStartedVideo:!1,spotlightUserList:[],isCaptureForbidden:!1,isMirrored:!1,receivedVideoMaxQuality:navigator.hardwareConcurrency>=8?bQ.Video_1080P:bQ.Video_360P,subscribedVideoList:[],renderedVideoList:[],ensuredCanvas:[],isVideoMuted:!1,isCaptureCameraLoading:!1,isCameraTaken:!1,isUsingMediaPlayback:!1,receivedVideoDimension:{width:0,height:0},capturedVideoDimension:{width:0,height:0},isFollowHostVideoLayout:!1,hostDragLayout:[],isSupportHDVideo:!1,miniRwgOptionValue:0,bCanUnmuteVideo:!1,virtualBackground:{isVBConfigured:!1,isVBPreloadReady:void 0,imageSrc:void 0,cropped:void 0},mask:{imageSrc:void 0,cropped:void 0,clip:void 0},backgroundMode:Ch.Null,statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0}},hardwareAcceleration:{encode:!1,decode:!1},networkQuality:{},ptz:{},currentCameraControlStatus:{isRequested:!1,isInControl:!1,isCameraMoving:!1},farEndCameraControlStatus:{controlledUserList:[],isControlling:!1},subscriptionStatus:{encode:!1,decode:!1,detailed:!1},videoAttachments:{},rendererType:Uge.WebGL,selfPreviewVideoList:[]},Kqe=wm({[`${KPe}`]:pt(((e,{payload:n})=>{e.videoSsrc=n})),[`${o1e}`]:pt(((e,{payload:n})=>{e.cameraDevicesList=n})),[`${Q3}`]:pt(((e,{payload:n})=>{const o=e.activeCamera;if(o in e.ptz){const i=e.ptz[o];["pan","tilt","zoom"].forEach((c=>{i[c]&&(i[c].value=0)}))}e.activeCamera=n})),[`${YPe}`]:pt(((e,{payload:n})=>{e.activeVideoId=n.userId})),[`${XPe}`]:pt(((e,{payload:n})=>{e.isCurrentUserStartedVideo=n})),[`${Tve}`]:pt(((e,{payload:n})=>{e.spotlightUserList=n})),[`${jQ}`]:pt(((e,{payload:n})=>{e.isCaptureForbidden=n})),[`${JPe}`]:pt(((e,{payload:n})=>{e.receivedVideoMaxQuality=n})),[`${QPe}`]:pt(((e,{payload:n})=>{e.isVideoMuted=n})),[`${a3}`]:pt(((e,{payload:n})=>{e.isCaptureCameraLoading=n})),[`${WQ}`]:pt(((e,{payload:n})=>{e.isCameraTaken=n})),[`${tNe}`]:pt(((e,{payload:n})=>{e.receivedVideoDimension=n})),[`${GQ}`]:pt(((e,{payload:n})=>{e.subscribedVideoList.includes(n)||e.subscribedVideoList.push(n)})),[`${cJ}`]:pt(((e,{payload:n})=>{const o=e.subscribedVideoList.indexOf(n);o>=0&&e.subscribedVideoList.splice(o,1)})),[`${Ek}`]:pt(((e,{payload:n})=>{const o=e.renderedVideoList.find((i=>i.userId===n.userId&&i.key===n.key&&i.canvasId===n.canvasId));o?(n.videoQuality!==void 0&&(o.videoQuality=n.videoQuality),n.aspectRatio!==void 0&&(o.aspectRatio=n.aspectRatio)):e.renderedVideoList.push({...n})})),[`${qQ}`]:pt(((e,{payload:n})=>{const o=e.renderedVideoList.findIndex((i=>i.userId===n.userId&&i.key===n.key&&i.canvasId===n.canvasId));o>=0&&e.renderedVideoList.splice(o,1)})),[`${nNe}`]:pt(((e,{payload:n})=>{e.isFollowHostVideoLayout=n})),[`${oNe}`]:pt(((e,{payload:n})=>{e.hostDragLayout=n})),[`${sNe}`]:pt(((e,{payload:n})=>{e.isSupportHDVideo=n})),[`${rNe}`]:pt(((e,{payload:n})=>{e.bCanUnmuteVideo=n})),[`${xve}`]:pt(((e,{payload:n})=>{e.virtualBackground.isVBPreloadReady=n})),[`${ZQ}`]:pt(((e,{payload:n})=>{e.virtualBackground.isVBConfigured=n})),[`${uJ}`]:pt(((e,{payload:n})=>{e.virtualBackground.imageSrc=n.imageUrl,e.virtualBackground.cropped=n.cropped,n.imageUrl===void 0?e.backgroundMode=Ch.Null:e.backgroundMode=Ch.VirtualBackground})),[`${JL}`]:pt(((e,{payload:n})=>{const{encode:o,decode:i}=n;o!==void 0&&(e.hardwareAcceleration.encode=o),i!==void 0&&(e.hardwareAcceleration.decode=i)})),[`${KQ}`]:pt(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.encode={bitrate:i,...c}})),[`${YQ}`]:pt(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.decode={bitrate:i,...c}})),[`${iNe}`]:pt(((e,{payload:n})=>{const{cameraId:o,captureWidth:i,captureHeight:c,videoElement:d,originalRatio:p,ptz:v,hd:S,fullHd:_,mediaFile:x,fps:P,mirrored:B,customVideoConstraints:z}=n;e.activeCamera=o,e.customizedVideoOption={captureWidth:i,captureHeight:c,videoElement:d,originalRatio:p,ptz:v,hd:S,fullHd:_,fps:P,customVideoConstraints:z},Dz(e.mediaPlaybackFile,x)||(e.mediaPlaybackFile=x,e.isUsingMediaPlayback=!(x==null||!x.url)),B!==void 0&&(e.isMirrored=!!B)})),[`${Ove}`]:pt(((e,{payload:n})=>{const{userId:o,level:i,bwLevel:c,type:d}=n;if(Object.prototype.hasOwnProperty.call(e.networkQuality,`${o}`))e.networkQuality[`${o}`][`${d}`]={level:i,bwLevel:c};else{const p={[d]:{level:i,bwLevel:c}};Object.assign(e.networkQuality,{[`${o}`]:p})}})),[`${aNe}`]:pt(((e,{payload:n})=>{const{deviceId:o,ptzRange:i}=n;if(Object.prototype.hasOwnProperty.call(e.ptz,o)){const c=e.ptz[o];c&&["pan","tilt","zoom"].forEach((d=>{const p=i[d];if(p){var v;const S=(v=c[d])===null||v===void 0?void 0:v.capability;S?Object.assign(S,{...p}):c[d]={capability:{...p},value:0}}}))}else Object.assign(e.ptz,{[o]:{pan:i.pan?{capability:{...i.pan},value:0}:null,tilt:i.tilt?{capability:{...i.tilt},value:0}:null,zoom:i.zoom?{capability:{...i.zoom},value:0}:null}})})),[`${XQ}`]:pt(((e,{payload:n})=>{e.currentCameraControlStatus.isRequested=n})),[`${JQ}`]:pt(((e,{payload:n})=>{const{isInControl:o,userId:i}=n;e.currentCameraControlStatus.isInControl=o,e.currentCameraControlStatus.controllingUserId=i})),[`${lNe}`]:pt(((e,{payload:n})=>{e.farEndCameraControlStatus.controlledUserList.includes(n)||e.farEndCameraControlStatus.controlledUserList.push(n)})),[`${QQ}`]:pt(((e,{payload:n})=>{const o=e.farEndCameraControlStatus.controlledUserList.indexOf(n);o!==-1&&e.farEndCameraControlStatus.controlledUserList.splice(o,1)})),[`${Ive}`]:pt(((e,{payload:n})=>{e.currentCameraControlStatus.isCameraMoving=n.cmd==="start"})),[`${s1e}`]:pt(((e,{payload:n})=>{const{constraints:o,deviceId:i}=n,c=e.ptz[i];["pan","tilt","zoom"].forEach((d=>{o[d]!==void 0&&(c[d].value=o[d])}))})),[`${Rve}`]:pt(((e,{payload:n})=>{e.farEndCameraControlStatus.isControlling=n})),[`${cNe}`]:pt(((e,{payload:n})=>{e.networkQualityBroadcastTime=n})),[`${eee}`]:pt(((e,{payload:n})=>{e.mask.isMaskConfigured=n})),[`${dJ}`]:pt(((e,{payload:n})=>{const{imageUrl:o,cropped:i,rootHeight:c,rootWidth:d,clip:p}=n;e.mask.imageSrc=o,e.mask.cropped=i,e.mask.clip=p,e.mask.rootWidth=d,e.mask.rootHeight=c,e.backgroundMode=Ch.Mask})),[`${kve}`]:pt(((e,{payload:n})=>{e.backgroundMode=n})),[`${uNe}`]:pt(((e,{payload:n})=>{e.capturedVideoDimension=n})),[`${dNe}`]:pt(((e,{payload:n})=>{e.ensuredCanvas.includes(n)||e.ensuredCanvas.push(n)})),[`${Dve}`]:pt(((e,{payload:n})=>{e.mediaPlaybackFile=n,e.isUsingMediaPlayback=!(n==null||!n.url)})),[`${x3}`]:pt(((e,{payload:n})=>{if(n){const{lastCopy:o,...i}=n;e.prefetchedVideo=i}else e.prefetchedVideo=n})),[`${Mve}`]:pt(((e,{payload:n})=>{Object.assign(e.subscriptionStatus,n)})),[`${hNe}`]:pt(((e,{payload:n})=>{e.miniRwgOptionValue=n})),[`${r1e}`]:pt(((e,{payload:n})=>{const{userId:o,element:i}=n,c=e.videoAttachments[`${o}`];if(c){var d;((d=aee(c))===null||d===void 0?void 0:d.indexOf(i))===-1&&c.push(i)}else{const p=[];p.push(i),Object.assign(e.videoAttachments,{[`${o}`]:p})}})),[`${hJ}`]:pt(((e,{payload:n})=>{const{userId:o,element:i}=n,c=e.videoAttachments[`${o}`];let d=i;Array.isArray(i)||(d=[i]),d.forEach((p=>{if(c){var v;const S=(v=aee(c))===null||v===void 0?void 0:v.indexOf(p);S!==void 0&&S!==-1&&c.splice(S,1)}}))})),[`${fNe}`]:pt(((e,{payload:n})=>{n&&(e.rendererType=Uge.WebGL2)})),[`${pNe}`]:pt(((e,{payload:n})=>{n&&(e.rendererType=Uge.WebGPU)})),[`${mNe}`]:pt(((e,{payload:n})=>{e.rendererType=n})),[`${gNe}`]:pt(((e,{payload:n})=>{e.isMirrored=n})),[`${vNe}`]:pt(((e,{payload:n})=>{e.selfPreviewVideoList.includes(n)||e.selfPreviewVideoList.push(n)})),[`${i1e}`]:pt(((e,{payload:n})=>{if(n){const o=e.selfPreviewVideoList.indexOf(n);o>=0&&e.selfPreviewVideoList.splice(o,1)}else e.selfPreviewVideoList=[]})),[`${bNe}`]:pt(((e,{payload:n})=>{e.leadershipUserId=n})),[`${a1e}`]:pt(((e,{payload:n})=>{e.isWebrtcVideoCapable=n})),[`${yNe}`]:pt((e=>{var n;(n=e.customizedVideoOption)!==null&&n!==void 0&&n.customVideoConstraints&&(e.customizedVideoOption.customVideoConstraints=void 0)})),[`${eNe}`]:(e,{payload:n})=>{const o={cameraDevicesList:e.cameraDevicesList};return n&&Object.assign(o,{activeCamera:e.activeCamera,customizedVideoOption:e.customizedVideoOption,virtualBackground:{imageSrc:e.virtualBackground.imageSrc,cropped:e.virtualBackground.cropped},mask:{imageSrc:e.mask.imageSrc,cropped:e.mask.cropped,rootWidth:e.mask.rootWidth,rootHeight:e.mask.rootHeight,clip:e.mask.clip},backgroundMode:e.backgroundMode,ptz:e.ptz,subscriptionStatus:e.subscriptionStatus}),{...DAe,...o}}},DAe),Yqe={cameraPtzEpics0:(e,n)=>Ro(e,8004).pipe(nn((o=>{const{payload:{body:{nCmd:i,nUserID:c,nReason:d,nButtonID:p}}}=o,v=n.value,S=Na(v),{video:{currentCameraControlStatus:{isInControl:_,controllingUserId:x},cameraDevicesList:P,activeCamera:B}}=v,z=S.find((H=>$f(H.userId,c))),U=[];if(U.push(XQ(!0)),i===gg.Request){const H={userId:z?.userId,displayName:z?.displayName};if(_){const K=S.find((oe=>oe.userId===x));Object.assign(H,{currentControllingUserId:K?.userId,currentControllingDisplayName:K?.displayName})}it(uMe,H)}else if(i===gg.Approve)U.push(lNe(z?.userId)),it(Jge,{isApproved:!0,userId:z?.userId,displayName:z?.displayName});else if(i===gg.Decline)U.push(QQ(z?.userId)),it(Jge,{isApproved:!1,userId:z?.userId,displayName:z?.displayName,reason:d});else if(i===gg.GiveUp)U.push(JQ({isInControl:!1,userId:0})),it(DQ,{isControlled:!1});else if(i===gg.StartControl||i===gg.StopControl)U.push(Ive({cmd:i===gg.StartControl?"start":"stop",type:p}));else if(i===gg.SwitchCamera){const H=P.findIndex((oe=>oe.deviceId===B)),K=H+1===P.length?0:H+1;if(K!==H){const oe=P[K].deviceId;kAe.changeCamera(oe,Tz.includes(oe))}}return Kn(U)}))),cameraPtzEpics1:(e,n)=>Ro(e,Vl).pipe(yn((o=>{var i;const{payload:{body:c}}=o;return c==null||(i=c.update)===null||i===void 0?void 0:i.some((d=>d.nFECC!==void 0||d.nFECCExecutive!==void 0))})),So((o=>cA(o.payload.body))),Bo((o=>{const{update:i}=o,c=i?.find((d=>d.nFECC!==void 0||d.nFECCExecutive!==void 0));if(c){const{meeting:{userId:d}}=n.value;$f(c.nFECCExecutive,d)&&it(dMe,{userId:c.userId,ptz:jNe(c.nFECC)})}})),nn((()=>Eo))),cameraPtzEpics2:(e,n)=>Ro(e,Vl).pipe(yn((o=>{var i;const{payload:{body:c}}=o,{video:{farEndCameraControlStatus:{controlledUserList:d}}}=n.value;return c==null||(i=c.remove)===null||i===void 0?void 0:i.some((p=>d.includes(p.id)))})),So((o=>cA(o.payload.body))),nn((o=>{const{remove:i}=o,c=[],{video:{farEndCameraControlStatus:{controlledUserList:d}}}=n.value,p=i?.find((v=>d.includes(v.userId)));return p&&c.push(QQ(p.userId)),Kn(c)}))),cameraPtzEpics3:(e,n)=>e.pipe(Fo(`${Ive}`),hi((o=>{const{payload:{cmd:i,type:c}}=o;return i==="start"?Eu(0,200).pipe(tk((()=>!!n.value.video.currentCameraControlStatus.isCameraMoving)),nn((()=>{const{video:{ptz:d,activeCamera:p}}=n.value,v=d[p],S=u1e(v)||{},{key:_,range:x}=zNe(c,2);return v[_]?(Object.assign(S,{[_]:UNe(v[_].capability,v[_].value,x)}),kAe.movePTZCamera(S).then((()=>s1e({deviceId:p,constraints:S})))):Promise.resolve(void 0)})),nn((d=>typeof d=="object"&&d.type!==void 0?za(d):Eo))):Eo}))),cameraPtzEpics4:(e,n)=>e.pipe(Fo(`${Q3}`),nn((o=>{const{payload:i}=o,{video:{customizedVideoOption:c,ptz:d}}=n.value;if(c!=null&&c.ptz){const p=d?.[i];p!==void 0&&Zqe.sendCameraAblity({pan:!!p.pan,tilt:!!p.tilt,zoom:!!p.zoom})}return Eo})))},Xqe={videoCaptureEpics0:(e,n)=>ir(e,Gn.StartVideoCaptureSuccess).pipe(uA((async o=>{const{video:{activeCamera:i,ptz:c,isCurrentUserStartedVideo:d,isUsingMediaPlayback:p},meeting:{userId:v}}=n.value,{payload:{data:{currentDeviceID:S,PTZRange:_,VideoSelectValue:x,usingFacingMode:P}}}=o,B=[],{cameras:z}=await dc(Vk());if(z.length<1&&!p&&(it(xQ,{reason:"Cannot detect camera devices"}),pS.stopCaptureVideo()),p||[i,S].some((U=>HNe(U,z)))){let U="";if(U=P?Array.isArray(x)&&x[0]?x[0]:x:S,d||AX.muteAttendeeVideo(v,!1),it(hMe),p)B.push(Q3("default"));else if(U&&_&&B.push(aNe({deviceId:U,ptzRange:_})),i!==U&&B.push(Q3(U)),Object.prototype.hasOwnProperty.call(c,U)){const H=c[U];if(H){const K=u1e(H);K&&pS.movePTZCamera(K)}}}else it(OQ,{reason:"cannot find target camera"}),pS.stopCaptureVideo();return B}))),videoCaptureEpics1:(e,n)=>Ro(e,Vl).pipe(yn((o=>{const{payload:{body:{update:i}}}=o,{meeting:{userId:c}}=n.value;return i?.some((d=>d.id===c&&d.bVideoOn!==void 0))})),So((o=>cA(o.payload.body))),nn((o=>{const{update:i}=o,{meeting:{userId:c}}=n.value,d=i?.find((p=>p.userId===c));return d?(d.bVideoOn===!0?it(q0e):it(w3),Kn([XPe(!!d.bVideoOn)])):Eo}))),videoCaptureEpics2:e=>ir(e,[Gn.UserForbiddedCaptureVideo,Gn.UserCameraIsTakenByOtherPrograms,Gn.VideoWebsocketBroken,Gn.StopVideoCaptureFailed]).pipe(nn((n=>{const{payload:{type:o,data:i}}=n,c=[];switch(o){case Gn.UserForbiddedCaptureVideo:it(IQ,i),c.push(jQ(!0));break;case Gn.UserCameraIsTakenByOtherPrograms:it(RQ,{reason:"User camera is taken by other programs.",...i??{}}),c.push(WQ(!0));break;case Gn.VideoWebsocketBroken:it(G0e,{reason:"Video websocket broken."});break;case Gn.StopVideoCaptureFailed:it(w3,{failed:!0,reason:"Unknown."})}return Kn(c)}))),videoCaptureEpics3:(e,n)=>ir(e,Gn.StopVideoCaptureSuccess).pipe(Qo(n),So((([,o])=>{const{meeting:{userId:i},video:{isCurrentUserStartedVideo:c}}=o;return c||it(w3),AX.muteAttendeeVideo(i,!0),a3(!1)}))),videoCaptureEpics4:(e,n)=>Ro(e,16133).pipe(Qo(n),yn((([o,i])=>{var c;return(o==null||(c=o.payload)===null||c===void 0||(c=c.body)===null||c===void 0?void 0:c.id)===i.meeting.userId})),Pz((([o])=>{const{id:i,bVideoMute:c}=o.payload.body;return it(oMe,{id:i,isVideoMuted:c}),c===!0&&pS.stopCaptureVideo(),c===!1&&it(sMe,{id:i,isVideoMuted:c}),QPe(c)}))),videoCaptureEpics5:(e,n)=>Ro(e,16131).pipe(yn((o=>o.payload.body.ssrc!==void 0)),hi((o=>{const{payload:{body:{ssrc:i}}}=o;return it(pMe,i),Ad(za(KPe(i)),Bk(n).pipe(nn((c=>{const{meeting:{isCurrentUserStartVideoBeforeReset:d},media:{videoEncodeStatus:p}}=n.value;return c?.bVideoOn!==!0&&d===!0?Hf("video",p,"success").pipe(yn((([v,S])=>v&&S)),So((()=>{const v=n.value,{video:{backgroundMode:S,mask:_,virtualBackground:x,activeCamera:P,customizedVideoOption:B}}=v;let z=Promise.resolve(!0);return S===Ch.VirtualBackground&&x.imageSrc?z=pJ({imageUrl:x.imageSrc,cropped:x.cropped},pS,v):S===Ch.Mask&&_.imageSrc&&_.clip&&(z=mJ({imageUrl:_.imageSrc,cropped:_.cropped,clip:_.clip,rootHeight:_.rootHeight,rootWidth:_.rootWidth},pS,v)),z.then((()=>{$Ne(pS,v,{cameraId:P,...B})})),dLe(void 0)}))):Eo}))))}))),videoCaptureEpics6:(e,n)=>e.pipe(Fo(`${o1e}`),nn((async o=>{const{payload:i}=o,c=n.value,{meeting:{userId:d}}=c;await Sve("video",c);const p=us(c);i.length===0?p&&!p.bVideoConnect||AX.connectCamera(d,!1):p!=null&&p.bVideoConnect||AX.connectCamera(d,!0)})),Eg()),videoCaptureEpics7:e=>ir(e,Gn.InitSuccessVideo).pipe(yn((n=>!Zo.isIPad&&Zo.isAndroidOrIOSBrowser&&n.payload.data===pg.EncodeSuccess)),hi((()=>zPe().pipe(Bo((n=>{pS.setMobileRotateMode(n)})),Eg())))),videoCaptureEpics8:e=>ir(e,Gn.StartVideoCaptureSuccess).pipe(yn((()=>!Zo.isIPad&&Zo.isAndroidOrIOSBrowser)),Bo((()=>{pS.setMobileRotateMode(UPe())})),Ia(Eo)),videoCaptureEpics9:(e,n)=>ir(e,Gn.VideoStreamFailed).pipe(yn((()=>!!n.value.video.isCurrentUserStartedVideo&&Zo.isIOSMobile)),Bo((()=>{pS.stopCaptureVideo()})),nn((()=>Eo))),videoCaptureEpics10:e=>Ro(e,24322).pipe(Bo((n=>{const{payload:o}=n;pS.passThroughRWGMessage(o)})),nn((()=>Eo)))},Jqe={videoRenderEpics0:(e,n)=>Ro(e,16129).pipe(So((o=>{const{payload:{body:{id:i,bVideoOn:c}}}=o,{meeting:{isUseWBVideo:d}}=n.value,p=v_e(i);return it(nMe,{bVideoOn:c,userId:p}),d&&Ev.prefetchVideoSsrc(i),YPe({bVideoOn:c,userId:p})}))),videoRenderEpics1:e=>ir(e,Gn.VideoDecodeMaxSize).pipe(yn((n=>{var o;return n==null||(o=n.payload)===null||o===void 0?void 0:o.data})),So((({payload:{data:{size:n}}})=>JPe(n)))),videoRenderEpics2:e=>Ro(e,16135).pipe(nn((n=>{const{payload:{body:{bLeadershipOn:o,id:i}}}=n,c=[],d=[],p=o?v_e(i):0;return o&&d.push(p),c.push(Tve(d),bNe(p)),Vp(wa(_3,1),Eu(2e3).pipe(So((()=>({leadershipEventOnly:!0}))))).pipe(nn((v=>{const{spotlightList:S,leadershipEventOnly:_}=v||{};return o?!S||S.length===1&&d[0]===S[0]||it(MQ,{spotlightList:S}):(_||S?.length===0)&&it(MQ,{spotlightList:[]}),Eo})),o1(...c))}))),videoRenderEpics3:(e,n)=>Ro(e,7958).pipe(Qo(n),So((([o,i])=>{const{payload:{body:c}}=o;let d=[];c&&c.group_list&&c.group_list[0]&&(d=c.group_list[0].map((v=>v.id)));const p=Na(i);return p.length>0&&(d=d.filter((v=>p.findIndex((S=>S.userId===v))>=0))),it(_3,{spotlightList:d}),Tve(d)}))),videoRenderEpics4:e=>ir(e,[Gn.CurrentVideoResolution,Gn.CurrentCaptureVideoWidthHeight]).pipe(yn((n=>!!n.payload.data)),So((n=>{const{payload:{data:o,type:i}}=n;return i===Gn.CurrentVideoResolution?(it(rMe,o),tNe(o)):(it(iMe,o),uNe(o))}))),videoRenderEpics5:e=>Ro(e,Wy).pipe(yn((n=>{const{payload:{body:o}}=n;return["bFollowHostVideo","VideoHd","bCanUnmuteVideo"].some((i=>o[i]!==void 0))})),So((n=>{const{payload:{body:{bFollowHostVideo:o,VideoHd:i,bCanUnmuteVideo:c}}}=n;if(o!==void 0)return it(aMe,{bOn:o}),nNe(o);if(c!==void 0)return rNe(c);{const d=i===1;return Ev.updateVideoHDValue(d),Ev.enableHardwareAccelerationForVideoEncode(!1),sNe(d)}}))),videoRenderEpics6:(e,n)=>Ro(e,7957).pipe(Qo(n),So((([o,i])=>{const{video:{isFollowHostVideoLayout:c}}=i,{payload:{body:d}}=o,p=d&&d.drag_list&&d.drag_list.map((v=>v.id));return c&&it(lMe,{layout:p}),oNe(p)}))),videoRenderEpics7:(e,n)=>Ro(e,Vl).pipe(Qo(n),yn((([o,i])=>{const{meeting:{userId:c},video:{subscribedVideoList:d}}=i,p=o.payload.body.update,v=o.payload.body.remove;return p&&p.length>0&&p.findIndex((S=>S.id!==c&&(S.bVideoOn!==void 0||S.bHold)))>-1||v&&v.some((S=>d.includes(S.id)))})),Bo((([o,i])=>{const{payload:{body:{remove:c,update:d}}}=o,{video:{subscribedVideoList:p}}=i,v=cWe(i);if(c&&c.length>0&&c.filter((S=>p.includes(S.id))).forEach((S=>{it(nJ,{userId:S.id})})),d&&d.length>0){const S=d.filter((x=>x.bVideoOn!==void 0)).filter((x=>v.findIndex((P=>P.userId===x.id))===-1)),_=d.filter((x=>x.bHold===!0));_.length>0&&_.filter((x=>p.includes(x.id))).forEach((x=>{it(nJ,{userId:x.id})})),S.forEach((x=>{x.bVideoOn?it(cMe,{userId:x.id}):p.includes(x.id)&&it(nJ,{userId:x.id})}))}})),Ia(Eo)),videoRenderEpics8:(e,n)=>ir(e,Gn.VideoQosData).pipe(Qo(n),So((([o,i])=>{var c,d;const{video:{isCaptureForbidden:p,isCameraTaken:v},media:{videoEncodeStatus:S,videoDecodeStatus:_}}=i,x=us(i),P=t1e(i),B=P.length>0,z=x?.bVideoOn&&!p&&!v,U=P.some((oe=>oe.bVideoOn)),H=S==="success"&&z&&(B||((c=i.recording)===null||c===void 0?void 0:c.cmrStatus)===Ed.Start),K=_==="success"&&B&&U;return(d=o.payload.data)!==null&&d!==void 0&&d.encoding?H?(it(Kge,o.payload),KQ(o.payload)):KQ(AO):K?(it(Kge,o.payload),YQ(o.payload)):YQ(AO)}))),videoRenderEpics9:(e,n)=>ir(e,[Gn.CurrentDecodeVideoQuality,Gn.CurrentDecodeVideoFps]).pipe(Bo((o=>{const{payload:{type:i,data:c}}=o,{video:{subscriptionStatus:d}}=n.value;if(d.detailed){if(i===Gn.CurrentDecodeVideoQuality){const{ssrc:p,width:v,height:S,quality:_}=c;it(Yge,{userId:p,width:v,height:S,quality:_})}else if(i===Gn.CurrentDecodeVideoFps){const{ssrc:p,fps:v}=c;it(Yge,{userId:p,fps:v})}}})),Eg()),videoRenderEpics10:e=>ir(e,[Gn.NotSupportExternalCanvasInVTagRenderer]).pipe(Bo((()=>{console.error("Hardware acceleration disabled: Use attachVideo method to render the video.")})),Eg()),videoRenderEpics11:(e,n)=>ir(e,[Gn.NetworkQualityChange,Gn.NetworkQualityChangeAudio]).pipe(yn((o=>!!o.payload.data)),nn((o=>{var i;const{payload:{data:{bwLevel:c,isUplink:d,networkLevel:p}}}=o,v=[],{meeting:{userId:S},video:{networkQuality:_,subscribedVideoList:x,networkQualityBroadcastTime:P}}=n.value,B=d?"uplink":"downlink";v.push(Ove({userId:S,level:p,bwLevel:c,type:B}));const z=Dz((i=_[`${S}`])===null||i===void 0?void 0:i[B],{level:p,bwLevel:c});if(!z&&p!==-1&&(!d&&x.filter((U=>U!==S)).length>0||d)&&it(Xge,{userId:S,type:B,level:p}),d){const U=performance.now();(!z||U-(P??0)>3e4)&&(qqe.broadcastUserNetworkQuality({isUplink:d,level:p,bwLevel:c}),v.push(cNe(U)))}return Kn(v)}))),videoRenderEpics12:(e,n)=>RS(e,8005).pipe(yn((o=>{var i;return!((i=o.payload.body)===null||i===void 0||!i.nUserID)})),nn((o=>{const{payload:{body:{nLevel:i,nUserID:c}}}=o,{video:{networkQuality:d}}=n.value,p=d[`${c}`],v=[];return p&&p.uplink.level===i||(it(Xge,{userId:c,level:i,type:"uplink"}),v.push(Ove({userId:c,level:i,type:"uplink"}))),Kn(v)}))),videoRenderEpics13:(e,n)=>Ro(e,Vl).pipe(yn((o=>{const{payload:{body:i}}=o,{video:{prefetchedVideo:c}}=n.value;return c?.userId&&(i.update||i.remove)})),nn((o=>{const{payload:{body:i}}=o,c=[],{video:{prefetchedVideo:d}}=n.value;let p=!1;return i.remove&&(p=i.remove.findIndex((v=>v.id===d?.userId))!==-1),i.update&&(p=i.update.findIndex((v=>v.id===d?.userId&&v.bVideoOn===!1))!==-1),p&&d&&(d.loaded||Ev.cancelPrefetchVideoSsrc(d.userId),Ev.unsubscribeVideo(d.userId),c.push(x3(void 0))),Kn(c)}))),videoRenderEpics14:(e,n)=>e.pipe(Fo(`${x3}`),yn((o=>!!o.payload)),Bo((o=>{const{payload:{lastCopy:i}}=o,{video:{prefetchedVideo:c}}=n.value;!c||i&&i.userId===c.userId||(i!=null&&i.userId&&(i.loaded&&Ev.cancelPrefetchVideoSsrc(i.userId),Ev.unsubscribeVideo(i.userId)),Ev.subscribeVideo(c.userId,bQ.Video_360P,!1),Ev.prefetchVideoSsrc(c.userId))})),Ia(Eo)),videoRenderEpics15:(e,n)=>ir(e,Gn.NewActiveSpeakerFirstFrameCallback).pipe(yn((()=>!!n.value.video.prefetchedVideo)),nn((o=>{const{payload:{data:{ssrc:i}}}=o,{video:{prefetchedVideo:c}}=n.value,d=[];return c&&($f(c.userId,i)?(d.push(x3({userId:c.userId,loaded:!0,lastCopy:c})),it(fMe,{userId:c.userId})):Ev.unsubscribeVideo(c.userId)),Kn(d)}))),videoRenderEpics16:(e,n)=>Ro(e,16131).pipe(yn((o=>o.payload.body.ssrc!==void 0)),Bo((()=>{const{media:{videoDecodeStatus:o,videoEncodeStatus:i}}=n.value;Hf("video",i,o).subscribe((([c,d])=>{const{video:{subscriptionStatus:p}}=n.value;c&&p.encode&&Ev.subscribeToQos([kp.VideoEncode],iO),d&&(p.decode&&Ev.subscribeToQos([kp.VideoDecode],iO),p.detailed&&Ev.enableVideoObserver(!0))}))})),Ia(Eo)),videoRenderEpics17:(e,n)=>e.pipe(Fo(`${Ek}`,`${qQ}`),yn((()=>{const o=n.value.video.renderedVideoList.length;return[0,1].includes(o)})),Bo((()=>{const{video:{renderedVideoList:o,subscriptionStatus:i}}=n.value,c=o.length;c===1?Ev.enableVideoObserver(!0,i==null||!i.detailed):c===0&&Ev.enableVideoObserver(!1)})),Ia(Eo)),videoRenderEpics18:(e,n)=>ir(e,Gn.CurrentDecodeVideoQuality).pipe(nn((o=>{const{payload:{data:i}}=o,{video:{renderedVideoList:c,videoAttachments:d}}=n.value,p=[],{ssrc:v,width:S,height:_}=i,x=_?S/_:0,P=c.filter((B=>$f(B.userId,v)));if(P.some((B=>B.aspectRatio&&Math.abs(B.aspectRatio-x)>.2))){const B=P.filter((z=>z.canvasId===C3));if(B.length>0){const z=d[`${v}`];if(z){const U=z.map((K=>{if(K){const{clientWidth:oe,clientHeight:ce}=K;return ce?oe/ce:0}return 0})).filter((K=>K!==0));if(U.every((K=>Math.abs(K-x)<=.2)))p.push(Ek({userId:v,key:_O,canvasId:C3,aspectRatio:x}));else{const K=U.length>0?U.reduce(((oe,ce)=>Math.abs(ce-x)>Math.abs(oe-x)?ce:oe),U[0]):U[0];p.push(Ek({userId:v,key:_O,canvasId:C3,aspectRatio:K}))}}}(B.length!==P.length||p.filter((z=>{var U;return((U=z.payload)===null||U===void 0?void 0:U.aspectRatio)!==x})).length>0)&&it(mMe,{userId:v,aspectRatio:x})}return Kn(p)}))),videoRenderEpics19:(e,n)=>ir(e,Gn.SyncRendererTypeResponse).pipe(nn((o=>{const{payload:{data:{rendererType:i}}}=o,{video:{rendererType:c}}=n.value,d=[];return c!==i&&d.push(mNe(i)),Kn(d)}))),videoRenderEpics20:(e,n)=>e.pipe(Fo(`${Mv}`),yn((()=>!!n.value.meeting.zlkJwtToken||!!n.value.meeting.sign)),So((o=>{var i;const{payload:{mediaFeatureOptions:c,webMediaBlockConfig:d}}=o,{meeting:{zlkJwtToken:p,sign:v}}=n.value;let S=2;const _=p||v;if(_){const{video_webrtc_mode:z}=CA(_);z!==void 0&&(S=Number(z))}const{shouldUseWebRTC:x,errNo:P}=Ls.getWebRTCCapability(S,c??"",(i=JSON.parse(d||"{}"))===null||i===void 0?void 0:i.WebRTCConfig);x||S!==1||console.warn(c7e[P]||"An error occurred with WebRTC Video.");const B=ei.get(tl.VideoSDKWebRTCVideoFallbackWasm)===1;return a1e(x&&!B)}))),videoRenderEpics21:(e,n)=>e.pipe(Fo(`${r1e}`),yn((o=>{const{payload:{userId:i}}=o,{meeting:{userId:c}}=n.value;return rk()&&i===c})),nn((o=>{const{payload:{element:i}}=o,{media:{alternativeNameForVideoPlayer:c},video:{isMirrored:d}}=n.value,p=`${c??"video-player"}-container`;return $Ee(i,p)?Promise.resolve({element:i,ret:!0}):d?dc(yA((v=>{const S=new MutationObserver(v);S.observe(document.body,{childList:!0,subtree:!0}),v.__observer=S}),(v=>{const S=v.__observer;S?.disconnect()})).pipe(yn((()=>$Ee(i,p))),wh(SA(Eu(5e3))),So((()=>({element:i,ret:!0}))))).catch((()=>({element:i,ret:!1}))):Promise.resolve({element:i,ret:!1})})),Xu(bA),Bo((o=>{const{element:i,ret:c}=o;var d;c&&c1e(i==null||(d=i.render)===null||d===void 0?void 0:d.el,n.value.video.isMirrored)})),Eg())},Qqe=xg(Jqe,Xqe,{vbEpics0:e=>ir(e,[Gn.VbModelPreloadingOk,Gn.VbModelPreloading_3S,Gn.VbModelPreloading_10S,Gn.VbSettingParaError]).pipe(nn((n=>{const{payload:{type:o,data:i}}=n,c=[];return[Gn.VbModelPreloadingOk,Gn.VbModelPreloading_3S,Gn.VbModelPreloading_10S].includes(o)?(c.push(xve(!0)),it(kQ,!0),o===Gn.VbModelPreloading_10S&&console.warn("Virtual Background is taking longer than expected to load.")):o===Gn.VbSettingParaError&&(i===_De.VBModelNotMatch?(it(kQ,!1),c.push(xve(!1))):(it(Zge,!1),c.push(ZQ(!1)))),Kn(c)}))),vbEpics1:e=>ir(e,Gn.StartVideoStreamInVbSettingSuccess).pipe(So((()=>(it(Zge,!0),ZQ(!0))))),vbEpics2:e=>ir(e,Gn.StartVideoStreamInMaskSettingSuccess).pipe(So((()=>(it(Qge,!0),eee(!0))))),vbEpics3:e=>ir(e,Gn.MaskSettingParaError).pipe(So((()=>(it(Qge,!1),eee(!1)))))},Yqe);let IS=(function(e){return e.VIDEO_ENCODE="0",e.VIDEO_DECODE="1",e.AUDIO_ENCODE="2",e.AUDIO_DECODE="3",e.SHARING_ENCODE="4",e.SHARING_DECODE="5",e})({}),Nz=(function(e){return e[e.NONE=0]="NONE",e[e.AES_256=1]="AES_256",e[e.AES_GCM=2]="AES_GCM",e})({});const Wf=Object.freeze({RWG_CHAT:{gcmType:1,sessionType:"RWG_CHAT"},XMPP_CHAT:{gcmType:1,sessionType:"XMPP_CHAT"},CC_MESSAGE:{gcmType:3,sessionType:"CC_MESSAGE"},BO_BROADCAST:{gcmType:1,sessionType:"BO_BROADCAST"},CHAT_FILE:{gcmType:2,sessionType:"CHAT_FILE"},CHAT_FILE_INFO:{gcmType:1,sessionType:"CHAT_FILE_INFO"}}),k5=(window.crypto||window.msCrypto).subtle,jL=tl.WebclientIVState,eZe=Object.keys(Wf).map((e=>Wf[e].sessionType));class Gf{constructor(n,o,i){this.isGCMEnabled=void 0,this.gcmSessionKey=void 0,this.gcmMainSessionKey=void 0,this.zoomId=void 0,this.resetParameters(n,o,i),ei.set(jL,{},ba.SessionStorage)}static init(n,o,i){this.instance?this.instance.resetParameters(n,o,i):this.instance=new Gf(n,o,i)}static destroy(){this.instance&&(this.instance=void 0)}resetParameters(n,o,i){this.isGCMEnabled=!(Zo.isIE||!Zo.isSupportEssentialAudioAndVideoAbility)&&i===Nz.AES_GCM,this.gcmSessionKey=jy(o),this.gcmMainSessionKey||(this.gcmMainSessionKey=this.gcmSessionKey),this.zoomId=String(n)}beginCrypto(n,o,i){const c=new Uint32Array(1);c[0]=9,c[0]+=Number(i);const d=new Uint8Array(c.buffer);let p=new Uint8Array(132);const v=jy(o);return p.set(v,0),p.set(d,v.length),p=p.subarray(0,v.length+4),k5.importKey("raw",n,{name:"HMAC",hash:"SHA-256"},!0,["sign"]).then((S=>k5.sign({name:"HMAC"},S,p))).then((S=>k5.importKey("raw",S,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])))}getNextIV(n){const o=ei.get(jL);return o[n]===void 0?(o[n]=0,ei.set(jL,o,ba.SessionStorage)):ei.set(jL,(i=>({...i,[n]:i[n]+1})),ba.SessionStorage)}resetIVState(){const n=ei.get(jL);if(n!==void 0){const o=Object.keys(n).filter((i=>eZe.indexOf(i)>-1));o.length>0&&(o.forEach((i=>{n[i]+=1e6})),ei.set(jL,n,ba.SessionStorage))}}static resetIV(){if(this.instance===void 0)throw new Error("reset before intialize");this.instance.resetIVState()}static beginEncrypt({text:n,type:o}){const i=new Uint8Array(0);if(this.instance&&this.instance.isGCMEnabled){const p=this.instance.getNextIV(o.sessionType),v=new ArrayBuffer(12),S=new Uint8Array(v);new DataView(v).setUint32(0,p,!0);let _=null;return _=o.sessionType==="BO_BROADCAST"||o.sessionType==="XMPP_CHAT"?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(_,this.instance.zoomId,o.gcmType).then((x=>{const P=ArrayBuffer.isView(n)?n:new TextEncoder().encode(n);return k5.encrypt({name:"AES-GCM",iv:S,additionalData:i,tagLength:128},x,P)})).then((x=>{const P=1+S.byteLength+2+i.byteLength+4+x.byteLength,B=new ArrayBuffer(P);if(new Uint8Array(B)[0]=S.length,new Uint8Array(B,1,S.byteLength).set(S),new DataView(B).setUint16(1+S.byteLength,i.length,!0),new Uint8Array(B,3+S.byteLength).set(i),new DataView(B).setUint32(1+S.byteLength+2+i.byteLength,x.byteLength-16,!0),new Uint8Array(B,1+S.byteLength+2+i.byteLength+4).set(new Uint8Array(x)),o.sessionType===Wf.CHAT_FILE.sessionType)return B;const z=new Uint8Array(B).reduce(((U,H)=>U+String.fromCharCode(H)),"");return window.btoa(z).replace(/_/g,"/").replace(/-/g,"+").replace(/\=/g,"")}))}return Promise.resolve(ArrayBuffer.isView(n)?n:bu(n))}static beginDecrypt({decryptedText:n,type:o,zoomId:i}){if(this.instance&&this.instance.isGCMEnabled){const c=ArrayBuffer.isView(n)||n instanceof ArrayBuffer?new Uint8Array(n):(function(H){let K;const oe=H.length,ce=new Array(oe);for(K=0;K<oe;++K)ce[K]=255&H.charCodeAt(K);return new Uint8Array(ce)})(atob(n.replace(/_/g,"/").replace(/-/g,"+"))),d=c[0],p=c.slice(1,d+1),v=c.slice(1+d,3+d),S=new DataView(v.buffer).getUint16(0,!0),_=c.slice(1+d+2,1+d+2+S),x=c.slice(1+d+2+S,1+d+2+S+4),P=new DataView(x.buffer).getUint32(0,!0),B=c.slice(1+d+2+S+4,1+d+2+S+4+P),z=c.slice(1+d+2+S+4+P);let U=null;return U=o.sessionType==="BO_BROADCAST"||o.sessionType==="XMPP_CHAT"?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(U,i,o.gcmType).then((H=>{const K=(function(oe,ce){oe=new Uint8Array(oe),ce=new Uint8Array(ce);const re=new Uint8Array(oe.length+ce.length);return re.set(oe),re.set(ce,oe.length),re})(B,z);return k5.decrypt({name:"AES-GCM",iv:p,additionalData:_,tagLength:8*z.length},H,K.buffer)})).then((H=>({message:o.sessionType===Wf.CHAT_FILE.sessionType?H:new TextDecoder().decode(H),iv:p,aad:_}))).catch((H=>({message:"[This is an encrypted message]",iv:p,aad:_})))}{const c=new TextDecoder("utf-8");return Promise.resolve({message:ArrayBuffer.isView(n)||n instanceof ArrayBuffer?n:c.decode(jy(n))})}}}Gf.instance=void 0;const wJ=qf.getInstance().makeLogger(["Remote Control"]),tZe=_m(Ls.getInstance()),J3e=(e,n,o)=>{const i={setAttribute:(c,d)=>{i[c]=d},getAttribute:c=>i[c]||null,removeAttribute:c=>{delete i[c]},tagName:o.toUpperCase(),id:`dummy-render-${e}-${n}`,isDummy:!0,canvasId:n,toString:()=>`DummyVideoPlayer(${e}, ${n})`};return i.setAttribute("node-id",`${e}`),i.setAttribute("media-type","share"),i.setAttribute("render-type","canvas"),i};function N3(e,n,o,i,c){let{share:{activeNodeId:d,shareQuality:p}}=n;const{share:{isReceiveSharingFromMainSession:v}}=n;o&&(d=o),i!==void 0&&(p=i);const S=c3e(n);e.subscribeSharing(d,p,v,S,c)}class Q3e{constructor(){this.checkerSubject=void 0,this.checkerSubscription=void 0}startCheck(n){return this.checkerSubject&&this.stopCheck(),this.checkerSubject=new J0,this.checkerSubscription=Eu(n).subscribe(this.checkerSubject),this.checkerSubject}stopCheck(){var n;this.checkerSubject&&(this.checkerSubject.complete(),(n=this.checkerSubscription)===null||n===void 0||n.unsubscribe(),this.checkerSubject=void 0)}}const e4e=new Q3e,t4e=new Q3e;function Q5(){return e4e.stopCheck()}function Rbe(){return t4e.stopCheck()}function Tee(e,n){Q5(),Rbe();const{share:{remoteControllingSsrc:o},meeting:{userId:i}}=e;o&&(o4e(),n.takeBackRemoteControlPermission(i,o))}async function n4e(e,n,o,i,c){const{share:{isSDKGrabControl:d,isGrabRemoteControl:p}}=o;if(!p){i.subscribeGrabRemoteControl(e,!0);try{await dc(wa(yk,1).pipe(yn((S=>!!S))))}catch{}}const v=Mqe(o);v&&(d?(c.resendRemoteControlPositionPDU(),c.updateRemoteControlProperties({os:v.os,isControllerNow:!0,dimension:n&&$Q(n)})):n&&c.startRemoteControl(n,v.os,$Q(n)))}function o4e(){wJ.log("qr scanning stop"),tZe.startRemoteControlQRCheck(!1)}function s4e(e,n,o){var i;const{audio:c}=n;if((c==null||(i=c.localShareAudioUserMutedList)===null||i===void 0?void 0:i.length)>0){const{localShareAudioUserMutedList:d}=c,p=d.find((v=>v.userId===e));$Pe(e,!(p==null||!p.muted),n,o)}}function MAe(e,n,o){const i=e.find((c=>c.ssrc===n));return i!=null&&i.isInitialized?Promise.reject({type:ln,reason:"Cannot start share view due to annotation is in progress.",errorCode:at.SCREEN_SHARE_MISMATCH_STATE}):(o.stopPresenterAnnotation(n),null)}function PAe(e,n){return e.findIndex((o=>o.userId===n))===-1?Promise.reject({type:tr,reason:"Target user is not sharing",errorCode:at.STREAM_MISMATCH_USER}):null}function NAe(){return Zo.isAndroidOrIOSBrowser||Zo.isHarmonyOS||Zo.is32bitChrome?1:4}async function nZe(e,n,o){var i;const{meeting:{bIbDisableShare:c},share:{isReceiveSharingFromMainSession:d,annotationUsers:p,ssrc:v},audio:S}=n;if(c)return Promise.reject({type:ln,reason:"information barrier",errorCode:at.SCREEN_SHARE_IB_DENIED});if(typeof((i=navigator.mediaDevices)===null||i===void 0?void 0:i.getDisplayMedia)!="function")return Promise.reject({type:ln,reason:"Unable to share your screen due to the technical limitation",errorCode:at.SCREEN_SHARE_UNSUPPORTED});if(d)return Promise.reject({type:ln,reason:"Unable to share your screen while someone is sharing from the main session",errorCode:at.SCREEN_SHARE_SUBSESSION_CONFLICT});if(S?.secondaryAudioMicrophoneId!==void 0)return Promise.reject({type:ln,reason:"Cannot start screen share while secondary audio is in progress.",errorCode:at.SECONDARY_AUDIO_SCREEN_SHARING_CONFLICT});var _;if(Zo.isSupportMediaStreamTrackProcessor){if(!iA(e))return Promise.reject({type:tr,reason:"Use Video element instead of Canvas element when WebCodecs enabled",errorCode:at.STREAM_MISMATCH_RENDER_ELEMENT})}else if(!A4(e))return Promise.reject({type:tr,reason:`Expected to accept HTMLCanvasElement, but actual it is ${typeof e=="object"&&e!==null?(_=Object.getPrototypeOf(e))===null||_===void 0?void 0:_.constructor.name:e}`,errorCode:at.STREAM_MISMATCH_RENDER_ELEMENT});if(o!=null&&o.simultaneousShareView&&p.some((x=>x.isInitialized&&x.ssrc!==v)))return Promise.reject({type:ln,reason:"Cannot start share screen due to annotation is in progress.",errorCode:at.SCREEN_SHARE_MISMATCH_STATE});await(async function(x){const{share:{sharePrivilege:P}}=x,B=Q_(x),z=Iv(x);if(P===Uy.OnlyHost&&!z)return Promise.reject({type:Bp,reason:"only host can start screen share",errorCode:at.SCREEN_SHARE_HOST_PRIVILEGE_REQUIRED});if(P===Uy.HostGrab&&!z&&B.length>0)return Promise.reject({type:Bp,reason:"only host can grab screen share",errorCode:at.SCREEN_SHARE_HOST_PRIVILEGE_REQUIRED});const U=us(x);return U?.sharerOn===!0?Promise.reject({type:ln,reason:"you have already started screen share.",errorCode:at.SCREEN_SHARE_MISMATCH_STATE}):void 0})(n)}function K_(e,n){const{share:{isReceiveSharingFromMainSession:o},breakoutRoom:i}=n;var c,d;return o?i==null||(c=i.mainSessionAttendeeList.find((p=>p.userId===e)))===null||c===void 0?void 0:c.shareSsrc:(d=Na(n).find((p=>p.userId===e)))===null||d===void 0?void 0:d.shareSsrc}function r4e(e,n){const{state:o,rwgAgent:i,mediaAgent:c}=n,{share:{remoteControlledUserList:d}}=o;s4e(e,o,c),d.includes(e)&&n4e(e,void 0,o,i,c)}function i4e(e,n){const{state:o,rwgAgent:i,mediaAgent:c}=n,{share:{remoteControlledUserList:d,isGrabRemoteControl:p}}=o,v=(function(S,_){const{state:x,mediaAgent:P}=_,B=[];if(S){const{share:{annotationUsers:H}}=x,K=K_(S,x);var z,U;K&&(Z2(x)?(z=H.find((oe=>oe.ssrc===K)))!==null&&z!==void 0&&z.isInitialized&&(P.hideViewerAnnotationCanvas(),P.stopViewerAnnotation(K),B.push(OS({ssrc:K,isInitialized:!1,isStarted:!1}))):(U=H.find((oe=>oe.ssrc===K)))!==null&&U!==void 0&&U.isStarted&&(P.annotateAction(Rp.CLOSE_TOOL_BAR),B.push(OS({ssrc:K,isStarted:!1}))))}return B})(e,n);return d.includes(e)&&(p&&i.subscribeGrabRemoteControl(e,!1),c.updateRemoteControlProperties({isControllerNow:!1})),v}function kbe(e,n,o,i){var c;const{state:d,rwgAgent:p,mediaAgent:v}=i,{share:{isReceiveSharingFromMainSession:S,shareViewAttachments:_}}=d,x=i4e(e,i);p.unsubscribeSharing(e,S),N3(p,d,n),v.switchSharingSource(o,S);const P=(c=_[`${e}`])===null||c===void 0?void 0:c.find((B=>B.isDummy));if(P){x.push(_6({userId:e,element:P}));const B=J3e(n,P.canvasId,P.tagName);x.push(Aee({userId:n,element:B}))}return r4e(n,i),x}const rE=Qi.createAgent(),fg=_m(Ls.getInstance()),V_=Qi.createAgent(),iE=_m(Ls.getInstance()),F_=_m(Ls.getInstance()),LAe={ssrc:0,status:Zr.End,shareDimension:{width:0,height:0},receivedShareDimension:{width:1920,height:1080,logicWidth:1920,logicHeight:1080},sharePrivilege:Uy.OnlyHost,activeNodeId:0,activeSsrc:0,shareQuality:1,isRemoteSharingActive:!1,isReceiveSharing:!1,isGrabRemoteControl:!1,isSDKGrabControl:!1,isScreenShareForbidden:!1,isReceiveSharingFromMainSession:!1,isSharingToBreakoutRoom:!1,isSharingWithSecondCamera:!1,secondCameraId:"default",isRequireReadReceipt:!1,capturedEnsuredCanvas:[],renderedEnsuredCanvas:[],remoteControllingSsrc:0,remoteControlApprovedSsrc:0,remoteControlAppDownloadUrl:"",remoteControlAppInstallStatus:Dp.Unknown,isEnableAutoDeleteRcApp:!1,remoteControlledUserList:[],isRemoteControlEnabled:!1,isSimultaneousShareView:!1,statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0,bandwidth:0,bitrate:0}},annotationCapability:0,isAnnotationInitialized:!1,isAnnotationStarted:!1,annotationUsers:[],annotationToolColor:XEe.DarkGrey,annotationSpotlightColor:XEe.Red,annotationToolWidth:8,annotationToolType:fE.None,shareViewAttachments:{},annotationVanishingToolTimer:{displayTime:0,vanishingTime:2e3}},oZe=["userId","ssrc","isInitialized","isStarted","isDisabled"],sZe=wm({[`${M1e}`]:pt(((e,{payload:n})=>{e.sharePrivilege=n})),[`${D3}`]:pt(((e,{payload:n})=>{e.isRemoteSharingActive=n.bStatus===1,e.activeNodeId=n.activeNodeID,e.activeSsrc=n.ssrc})),[`${IO}`]:pt(((e,{payload:n})=>{e.isReceiveSharing=n})),[`${P1e}`]:pt(((e,{payload:n})=>{e.shareDimension={...n}})),[`${Sg}`]:pt(((e,{payload:n})=>{e.status=n,n===Zr.End&&(e.isSimultaneousShareView=!1)})),[`${B3e}`]:pt(((e,{payload:n})=>{e.ssrc=n})),[`${N1e}`]:pt(((e,{payload:n})=>{e.shareQuality=n})),[`${wee}`]:pt(((e,{payload:n})=>{e.receivedShareDimension={...n}})),[`${W3e}`]:pt(((e,{payload:n})=>{e.remoteControlledUserList.includes(n)||e.remoteControlledUserList.push(n)})),[`${Obe}`]:pt(((e,{payload:n})=>{const o=e.remoteControlledUserList.indexOf(n);o>=0&&e.remoteControlledUserList.splice(o,1)})),[`${EJ}`]:pt(((e,{payload:n})=>{e.isGrabRemoteControl=n,n===!1&&(e.remoteControlViewportDomSelector=void 0)})),[`${Tbe}`]:pt(((e,{payload:n})=>{e.isSDKGrabControl=n})),[`${V3e}`]:pt(((e,{payload:n})=>{e.isReceiveSharingFromMainSession=n})),[`${J5}`]:pt(((e,{payload:n})=>{e.isSharingToBreakoutRoom=n})),[`${F3e}`]:pt(((e,{payload:n})=>{e.isSharingWithSecondCamera=n})),[`${H3e}`]:pt(((e,{payload:n})=>{e.secondCameraId=n})),[`${$3e}`]:pt(((e,{payload:n})=>{e.isRequireReadReceipt=n})),[`${_ee}`]:pt(((e,{payload:n})=>{e.isOptimizedForSharedVideo=n})),[`${xbe}`]:pt(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.encode={bitrate:i,...c}})),[`${rz}`]:pt(((e,{payload:n})=>{const{data:{encoding:o,rate:i,...c}}=n;e.statistic.decode={bitrate:i,...c}})),[`${U3e}`]:pt(((e,{payload:n})=>{e.capturedEnsuredCanvas.includes(n)||e.capturedEnsuredCanvas.push(n)})),[`${z3e}`]:pt(((e,{payload:n})=>{e.renderedEnsuredCanvas.includes(n)||e.renderedEnsuredCanvas.push(n)})),[`${w6}`]:pt(((e,{payload:n})=>{e.remoteControllingSsrc=n})),[`${M3}`]:pt(((e,{payload:n})=>{e.remoteControlApprovedSsrc=n})),[`${j3e}`]:pt(((e,{payload:n})=>{e.remoteControlAppDownloadUrl=n})),[`${K2}`]:pt(((e,{payload:n})=>{(e.remoteControlAppInstallStatus!==Dp.Installed||Dp.Unknown)&&(e.remoteControlAppInstallStatus=n)})),[`${bE}`]:pt(((e,{payload:n})=>{e.remoteControlAppLaunchSheme=n})),[`${L1e}`]:pt(((e,{payload:n})=>{Object.assign(e,n)})),[`${B1e}`]:pt(((e,{payload:n})=>{e.remoteControlViewportDomSelector=n})),[`${G3e}`]:pt(((e,{payload:n})=>{e.annotationCapability=n})),[`${$qe}`]:pt(((e,{payload:n})=>{e.isAnnotationInitialized=n})),[`${Uqe}`]:pt(((e,{payload:n})=>{e.isAnnotationStarted=n})),[`${OS}`]:pt(((e,{payload:n})=>{const{userId:o,ssrc:i,isInitialized:c,isStarted:d,isDisabled:p}=n;let v=-1;if(o!==void 0?v=e.annotationUsers.findIndex((S=>{var _;return S.userId===o||$f(o,(_=S.ssrc)!==null&&_!==void 0?_:0)})):i!==void 0&&(v=e.annotationUsers.findIndex((S=>{var _;return S.ssrc===i||$f(i,(_=S.userId)!==null&&_!==void 0?_:0)}))),v>=0){const S=e.annotationUsers[v];Object.entries(n).forEach((([_,x])=>{n[_]!==void 0&&oZe.includes(_)&&Object.assign(S,{[_]:x})}))}else e.annotationUsers.push({userId:o,ssrc:i,isInitialized:c||!1,isStarted:d||!1,isDisabled:p||!1})})),[`${q3e}`]:pt(((e,{payload:n})=>{e.annotationToolColor=n})),[`${Z3e}`]:pt(((e,{payload:n})=>{e.annotationSpotlightColor=n})),[`${K3e}`]:pt(((e,{payload:n})=>{e.annotationToolWidth=n})),[`${P3}`]:pt(((e,{payload:n})=>{e.annotationToolType=n})),[`${Ibe}`]:pt(((e,{payload:n})=>{e.isSimultaneousShareView=n})),[`${Aee}`]:pt(((e,{payload:n})=>{const{userId:o,element:i}=n;if(e.shareViewAttachments[`${o}`]){const c=aee(e.shareViewAttachments[`${o}`]);c?.indexOf(i)===-1&&e.shareViewAttachments[`${o}`].push(i)}else e.shareViewAttachments[`${o}`]=[],e.shareViewAttachments[`${o}`].push(i)})),[`${_6}`]:pt(((e,{payload:n})=>{const{userId:o,element:i}=n,c=e.shareViewAttachments[`${o}`];if(c?.length>0){let d=i;Array.isArray(i)||(d=[i]),d.forEach((p=>{var v;const S=(v=aee(c))===null||v===void 0?void 0:v.indexOf(p);S!==void 0&&S!==-1&&c.splice(S,1)}))}})),[`${Y3e}`]:pt(((e,{payload:n})=>{e.annotationVanishingToolTimer={...n}})),[`${X3e}`]:()=>({...LAe})},LAe),rZe={annotationEpics0:(e,n)=>e.pipe(Fo(`${Mv}`),So((()=>{const{meeting:{mediaFeatureOptions:o}}=n.value,i=o?Ls.getAnnotationCapability(o):0;return G3e(i)}))),annotationEpics1:e=>ir(e,[Gn.StartAnnotationSuccess,Gn.StartAnnotationFailed]).pipe(Bo((n=>{const{payload:{data:o,type:i}}=n;i===Gn.StartAnnotationSuccess?it(rve):i===Gn.StartAnnotationFailed&&it(rve,o)})),nn((()=>Eo))),annotationEpics2:e=>Ro(e,20241).pipe(So((n=>{const{activeNodeID:o,annotationOff:i}=n.payload.body;return it(J0e,{userId:o,isAnnotationEnabled:i===0}),OS({userId:o,isDisabled:i===1})}))),annotationEpics3:(e,n)=>ir(e,Gn.AnnotationRedoStatus).pipe(Qo(n),Bo((([o,i])=>{const{payload:{data:c}}=o,{share:{activeSsrc:d,ssrc:p,annotationUsers:v}}=i;v.filter((S=>[d,p].includes(S.ssrc))).some((S=>S.isInitialized))&&it(YMe,c)})),nn((()=>Eo))),annotationEpics4:(e,n)=>ir(e,Gn.AnnotationUndoStatus).pipe(Qo(n),Bo((([o,i])=>{const{payload:{data:c}}=o,{share:{activeSsrc:d,ssrc:p,annotationUsers:v}}=i;v.filter((S=>[d,p].includes(S.ssrc))).some((S=>S.isInitialized))&&it(KMe,c)})),nn((()=>Eo))),annotationEpics5:(e,n)=>Ro(e,Vl).pipe(So((o=>cA(o.payload.body))),Qo(n),Bo((([o,i])=>{const{share:{ssrc:c},meeting:{userId:d}}=i;if(o.update){const p=o.update.find((v=>v?.userId===d&&v.sharerOn!==void 0));if(p!=null&&p.sharerOn){const v=us(i);F_.updateSharingInfo(c,v?.displayName||"")}}})),nn((()=>Eo))),annotationEpics6:(e,n)=>ir(e,Gn.AnnoViewerRequestDraw).pipe(Qo(n),Bo((([o,i])=>{const{payload:{data:c}}=o,{breakoutRoom:d,participants:{attendeesList:p}}=i,{userId:v}=c;if(it(XMe,c),v){var S,_;const x=((S=p.find((B=>$f(B.userId,v))))===null||S===void 0?void 0:S.displayName)||(d==null||(_=d.mainSessionAttendeeList)===null||_===void 0||(_=_.find((B=>$f(B.userId,v))))===null||_===void 0?void 0:_.displayName)||"",P={userId:v,userName:x};F_.annotateAction(Rp.ANNOTATOR_ID_TO_NAME,P)}})),nn((()=>Eo))),annotationEpics7:(e,n)=>e.pipe(Fo(`${Sg}`),Qo(n),yn((([,o])=>{var i;return((i=o.share)===null||i===void 0?void 0:i.status)===Zr.End})),nn((([o,i])=>{const{share:{annotationUsers:c,ssrc:d}}=i,p=[];return c.find((v=>v.ssrc===d))&&(F_.stopPresenterAnnotation(d),p.push(OS({ssrc:d,isInitialized:!1,isStarted:!1})),p.push(P3(fE.None))),Kn(p)}))),annotationEpics8:(e,n)=>e.pipe(Fo(`${IO}`),Xu(Dv),Qo(n),yn((([,o])=>o.share.isReceiveSharing===!1)),nn((([o,i])=>{const{share:{activeNodeId:c,annotationUsers:d}}=i,p=[],v=K_(c,i);return v&&d.find((S=>S.ssrc===v))&&(F_.stopViewerAnnotation(v),p.push(OS({ssrc:v,isInitialized:!1,isStarted:!1})),p.push(P3(fE.None))),F_.hideViewerAnnotationCanvas(),Kn(p)}))),annotationEpics9:(e,n)=>Ro(e,Vl).pipe(Qo(n),yn((([o,i])=>{const{meeting:{userId:c}}=i,d=o.payload.body.update;return d&&d.length>0&&d.findIndex((p=>p.id!==c&&p.bShareOn!==void 0))>-1})),nn((([o,i])=>{const{payload:{body:{update:c}}}=o,{share:{annotationUsers:d}}=i,p=c.filter((S=>S.bShareOn===!1)),v=[];return p?.forEach((S=>{const{shareSsrc:_}=S;_&&d.find((x=>x.ssrc===_))&&(F_.stopViewerAnnotation(_),v.push(OS({ssrc:_,isInitialized:!1,isStarted:!1})),v.push(P3(fE.None)))})),Kn(v)}))),annotationEpics10:(e,n)=>e.pipe(Fo(`${P1e}`),Qo(n),Bo((([o,i])=>{var c;const{share:{ssrc:d,annotationUsers:p}}=i;(c=p.find((v=>v.ssrc===d)))!==null&&c!==void 0&&c.isInitialized&&F_.updatePresenterAnnotationCanvas()})),nn((()=>Eo))),annotationEpics11:(e,n)=>e.pipe(Fo(`${wee}`),Xu(Dv),Qo(n),Bo((([o,i])=>{var c;const{share:{activeSsrc:d,annotationUsers:p}}=i;(c=p.find((v=>v.ssrc===d)))!==null&&c!==void 0&&c.isInitialized&&F_.updateViewerAnnotationCanvas()})),nn((()=>Eo))),annotationEpics12:e=>e.pipe(Fo(`${qy}`),Bo((n=>{F_.removeViewerAnnotationCanvas()})),nn((()=>Eo)))},iZe={remoteControlEpics0:e=>e.pipe(Fo(`${Mv}`),So((n=>{const{payload:{meetingOptions:o,rcAutoDelete:i,jwtRc:c,opRc:d}}=n,p=o?.isRemoteControlEnbaled&&d&&c===1;return L1e({isRemoteControlEnabled:p,isEnableAutoDeleteRcApp:i===1})}))),remoteControlEpics1:(e,n)=>Ro(e,16391).pipe(nn((o=>{const{payload:{body:{bOn:i,sendID:c,receiveID:d}}}=o,{meeting:{userId:p},share:{status:v,activeNodeId:S,isGrabRemoteControl:_}}=n.value,x=[];if(v===Zr.End&&x.push(w6(0)),v!==Zr.End)if($f(p,c))i?(Q5(),Rbe(),v===Zr.Paused&&(V_.resumeSharing(),iE.resumeDesktopSharing(),x.push(Sg(Zr.Sharing))),x.push(w6(d))):x.push(w6(0));else{var P;const B=(P=Na(n.value))===null||P===void 0?void 0:P.find((z=>$f(z.userId,c)));B&&it(GMe,{userId:B.userId,displayName:B.displayName,isSharingEntireScreen:iE.isSharingEntireScreen()})}else if(!d||$f(d,p)){const B=us(n.value);if(!ef(B.userRole)&&!Zo.isAndroidOrIOSBrowser){const z=c&&$f(S,c);i?(x.push(W3e(S)),z&&(_||V_.subscribeGrabRemoteControl(S,!0))):(x.push(Obe(S)),z&&(_&&(V_.subscribeGrabRemoteControl(S,!1),x.push(EJ(!1)),it(yk,!1)),iE.updateRemoteControlProperties({isControllerNow:!1}))),it(LQ,i)}}return Kn(x)}))),remoteControlEpics2:(e,n)=>Ro(e,16395).pipe(Qo(n),yn((([o,i])=>o.payload.body.id===i.meeting.userId)),So((([o])=>{const{payload:{body:{bOn:i}}}=o;return iE.updateRemoteControlProperties({isControllerNow:i}),it(yk,i),EJ(i)}))),remoteControlEpics3:e=>ir(e,[Gn.StartRemoteControlSuccess,Gn.StartRemoteControlFailed,Gn.CancelRemoteControlSuccess]).pipe(Pz((n=>n.payload.type===Gn.StartRemoteControlSuccess?(it(UMe),Tbe(!0)):n.payload.type===Gn.CancelRemoteControlSuccess?Tbe(!1):void(n.payload.type===Gn.StartRemoteControlFailed&&it(zMe))))),remoteControlEpics4:e=>ir(e,[Gn.RemoteControlCopiedTextNotify,Gn.RemoteControlPasteTextLengthOverflow]).pipe(Bo((n=>{if(n.payload.type===Gn.RemoteControlCopiedTextNotify){const{payload:{data:o}}=n;it(ove,{content:o.data,x:o.x,y:o.y})}else it(ove,{error:"length of pasted text is too long"})})),Ia(Eo)),remoteControlEpics5:(e,n)=>Ro(e,4342).pipe(yn((o=>o.payload.body.result===0)),nn((o=>{const{payload:{body:{downloadUrl:i,ssrc:c,urlScheme:d}}}=o,{share:{remoteControlApprovedSsrc:p,status:v}}=n.value,S=[],{isMacOS:_}=Zo;if(v!==Zr.End){if(!p||p===c){Q5();try{const U=JSON.parse(i||"{}"),H=_?U.macDownloadUrl:U.winDownloadUrl;S.push(j3e(H))}catch(U){console.warn("unsupported JSON string",U)}}const x={},P=Na(n.value).find((U=>$f(U.userId,c)));P&&Object.assign(x,{controllerName:bu(P.displayName)}),Object.assign(x,{ssrc:c});const{deviceId:B}=iE.getShareStreamInfo();B&&Object.assign(x,{DeviceID:B});const z=`${d}&${new URLSearchParams(x).toString()}`;S.push(bE(z),K2(Dp.Unknown)),it(qMe,z)}return Kn(S)}))),remoteControlEpics6:e=>e.pipe(Fo(`${IAe}`),nn((()=>e4e.startCheck(1e4).pipe(So((()=>(it(N2,Dp.Unknown),K2(Dp.Unknown)))))))),remoteControlEpics7:(e,n)=>e.pipe(Fo(`${yme}`),yn((()=>{const{share:{remoteControlAppInstallStatus:o}}=n.value;return o===Dp.Installed})),nn((()=>t4e.startCheck(12e4).pipe(nn((()=>{it(N2,CQ.Unlaunched);const{share:{remoteControlApprovedSsrc:o,isEnableAutoDeleteRcApp:i},meeting:{userId:c}}=n.value,d=[],{isMacOS:p}=Zo;return o&&(V_.remoteControlConsent(SQ.CacheClean,o,c,{...iE.getShareStreamInfo(),platform:p?"mac":"win"},i),d.push(bE(""),M3(0))),Kn(d)})))))),remoteControlEpics8:(e,n)=>e.pipe(Fo(`${bE}`),yn((o=>!!o.payload)),nn((o=>{const{payload:i}=o,c=[];let d;if(i){(function(v){if(!v.startsWith("zoomprc://"))return;const S=aA("__ZOOM_SDK_RC_APP_SCHEME_@__");let _=document.getElementById(S);_||(_=document.createElement("iframe"),_.id=S,_.style.display="none",document.body.appendChild(_)),_.contentWindow.location.href=v})(i),c.push(yme());const p=performance.now();document.hasFocus()?d=j6(25).pipe(tk((()=>{const v=performance.now()-p<500;return v||it(N2,Dp.Uninstalled),v&&n.value.share.remoteControlAppInstallStatus===Dp.Unknown})),hi((()=>{const v=performance.now()-p,S=[];return document.hasFocus()||(v>75?S.push(IAe()):Q5(),it(N2,Dp.Installed),S.push(K2(Dp.Installed),yme())),Kn(S)})),(function(){for(var v=[],S=0;S<arguments.length;S++)v[S]=arguments[S];return function(_){return z6(_,za.apply(void 0,PS([],n1(v))))}})(K2(Dp.Uninstalled))):(it(N2,Dp.Unknown),c.push(K2(Dp.Unknown)))}return d?Ad(d,Kn(c)):Kn(c)}))),remoteControlEpics9:(e,n)=>Ro(e,abe).pipe(nn((()=>(it(sJ,Lpe.Ended),Tee(n.value,V_),Kn([bE(""),M3(0)]))))),remoteControlEpics10:(e,n)=>e.pipe(Fo(`${Sg}`),yn((o=>{const{share:{remoteControllingSsrc:i,remoteControlApprovedSsrc:c}}=n.value;return!(o.payload!==Zr.End||!i&&!c)})),Bo((()=>{const{share:{remoteControllingSsrc:o,remoteControlApprovedSsrc:i,isEnableAutoDeleteRcApp:c},meeting:{userId:d}}=n.value,{isMacOS:p}=Zo;o&&Tee(n.value,V_),i!==o&&V_.remoteControlConsent(SQ.Decline,i,d,{...iE.getShareStreamInfo(),platform:p?"mac":"win"},c)})),Ia(Eo)),remoteControlEpics11:(e,n)=>Ro(e,16430).pipe(nn((()=>(Q5(),Rbe(),it(N2,CQ.Launched),n.value.share.status!==Zr.End&&(function(o,i){(async function(c){const{media:{assetsPath:d}}=c,p=`${d}/qrscanner.min.js`;return"WebQrscanner"in window?Promise.resolve(""):new Promise(((v,S)=>{wJ.log(`load qr scanner script start. url:${p}`),cte(p,(()=>{wJ.log("load qr scanner script done."),v("")}),S)}))})(o).then((()=>{wJ.log("qr scanning start"),i.startRemoteControlQRCheck(!0)}))})(n.value,iE),Kn([bE(""),M3(0)]))))),remoteControlEpics12:e=>ir(e,Gn.CurrentDesktopSharingWidthHeight).pipe(Bo((()=>{V_.syncSharedContentMetaWithRcApp(iE.getShareStreamInfo())})),Ia(Eo)),remoteControlEpics13:(e,n)=>ir(e,Gn.SendRemoteControlQrCode).pipe(Bo((o=>{const{payload:{data:i}}=o,{share:{status:c}}=n.value;c!==Zr.End&&Array.isArray(i)&&i.length>0&&i.forEach((d=>{d!=null&&d.startsWith("zrc_")&&V_.sendRemoteControlAuth(d)}))})),Ia(Eo)),remoteControlEpics14:e=>Ro(e,16434).pipe(Bo((n=>{const{payload:{body:{result:o}}}=n;o===0&&(o4e(),it(sJ,Lpe.Started))})),Ia(Eo)),remoteControlEpics15:(e,n)=>Ro(e,Vl).pipe(yn((o=>{var i,c;const{meeting:{userId:d},share:{remoteControlledUserList:p}}=n.value,{payload:{body:v}}=o;return p.length>0&&(((i=v.update)===null||i===void 0?void 0:i.some((S=>S.id!==d&&S.bShareOn===!1)))||((c=v.remove)===null||c===void 0?void 0:c.some((S=>S.id!==d))))})),nn((o=>{var i,c,d,p;const{payload:{body:v}}=o,{share:{remoteControlledUserList:S,activeNodeId:_,isGrabRemoteControl:x},meeting:{userId:P}}=n.value,B=((i=(c=v.update)===null||c===void 0?void 0:c.filter((U=>U.id!==P&&U.bShareOn===!1)))!==null&&i!==void 0?i:[]).concat((d=(p=v.remove)===null||p===void 0?void 0:p.filter((U=>U.id!==P)))!==null&&d!==void 0?d:[]),z=[];return S.forEach((U=>{B.find((H=>H.id===U))&&(z.push(Obe(U)),U===_&&x&&(z.push(EJ(!1)),it(yk,!1)))})),Kn(z)}))),remoteControlEpics16:(e,n)=>e.pipe(Fo(`${wg}`),Bo((()=>{const{share:{remoteControllingSsrc:o,status:i}}=n.value;i===Zr.Sharing&&o&&it(sJ,Lpe.Ended)})),Ia(Eo)),remoteControlEpics17:e=>e.pipe(Fo(`${B1e}`),yn((n=>!!n.payload)),hi((n=>{const{payload:o}=n,i=document.querySelector(o);return i&&typeof ResizeObserver=="function"?(function(...d){return new yu((p=>{const v=new ResizeObserver((S=>{S.forEach((_=>{p.next(_)}))}));return d.forEach((S=>v.observe(S))),()=>v.disconnect()}))})(i).pipe(wh(SA(wa(A3).pipe(yn((d=>!(d!=null&&d.isActive))),Yr(1)))),(c===void 0&&(c=Dv),Jd((function(d,p){var v=null,S=null,_=null,x=function(){if(v){v.unsubscribe(),v=null;var B=S;S=null,p.next(B)}};function P(){var B=_+100,z=c.now();if(z<B)return v=this.schedule(void 0,B-z),void p.add(v);x()}d.subscribe(Td(p,(function(B){S=B,_=c.now(),v||(v=c.schedule(P,100),p.add(v))}),(function(){x(),p.complete()}),void 0,(function(){S=v=null})))}))),Bo((d=>{const{target:p}=d;p&&iE.updateRemoteControlProperties({dimension:$Q(p)})})),nn((()=>Eo))):Eo;var c})))},aZe={epics0:(e,n)=>Ro(e,Wy).pipe(yn((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.lockShare)!==void 0})),Qo(n),Bo((([o,i])=>{const{share:{sharePrivilege:c}}=i,{payload:{body:{lockShare:d}}}=o;c!==d&&it(jMe,d)})),So((([o])=>M1e(o.payload.body.lockShare)))),epics1:e=>Ro(e,20227).pipe(So((n=>B3e(n.payload.body.ssrc)))),epics2:(e,n)=>Ro(e,rbe).pipe(Qo(n),yn((([o,i])=>{const{payload:{body:c}}=o,{share:{isReceiveSharingFromMainSession:d}}=i;return!d||d&&c.fromMainSession})),nn((([o,i])=>{const{share:{isReceiveSharing:c,activeNodeId:d,isReceiveSharingFromMainSession:p},meeting:{userId:v}}=i,{payload:{body:S}}=o,_=[];if(c&&S.bStatus===1){if(d!==v)if(Z2(i))_.push(...kbe(d,S.activeNodeID,S.ssrc,{state:i,rwgAgent:rE,mediaAgent:fg})),it(NQ,{userId:S.activeNodeID});else{const x={activeUserId:S.activeNodeID,isActive:!0};p&&Object.assign(x,{isFromMainSession:!0}),it(A3,x)}}else if(S.bStatus===1){const x={activeUserId:S.activeNodeID,isActive:!0};p&&Object.assign(x,{isFromMainSession:!0}),it(A3,x)}else if(c){const x={activeUserId:S.activeNodeID,isActive:!1};p&&Object.assign(x,{isFromMainSession:!0}),it(A3,x)}return _.push(D3(S)),Kn(_)}))),epics3:(e,n)=>ir(e,[Gn.SharingDesktopStreamHaveAudio,Gn.SharingDesktopStreamHaveNoAudio]).pipe(yn((o=>o.payload.type!==Gn.SharingDesktopStreamHaveAudio||!n.value.audio.secondaryAudioMicrophoneId)),Qo(n),So((([o,i])=>{const{meeting:{userId:c},share:{isSharingToBreakoutRoom:d,isOptimizedForSharedVideo:p}}=i,{payload:{type:v}}=o,S=v===Gn.SharingDesktopStreamHaveAudio;return rE.startSharing(c,{bShareToBO:d,bShareAudio:S,bShareVideo:!!p}),fg.switchSharingMode(p?u6.VideoMode:u6.Normal),OAe(!1)}))),epics4:e=>ir(e,[Gn.DesktopSharingError,Gn.DesktopSharingChromeExtensionUninstalled,Gn.DesktopSharingPermissionDenied,Gn.DesktopSharingSystemError]).pipe(nn((n=>{const o=[];let i="";return[Gn.DesktopSharingPermissionDenied,Gn.DesktopSharingSystemError].includes(n.payload.type)&&(o.push(OAe(!0)),n.payload.type===Gn.DesktopSharingSystemError?Zo.isMacOS&&(i="To use screen share on Chrome, please allow screen recording access in system setting."):i="To use screen share, please allow the permission request."),it(NMe,{reason:i}),Kn(o)}))),epics5:(e,n)=>ir(e,Gn.CurrentDesktopSharingWidthHeight).pipe(yn((o=>!!o.payload.data)),So((o=>{it(LMe,{...o.payload.data,userId:n.value.meeting.userId});const{payload:{data:{width:i,height:c}}}=o;return fg.ajustmentSharingCanvas(i,c),P1e(o.payload.data)}))),epics6:(e,n)=>ir(e,Gn.SharingDecodeMaxSize).pipe(yn((o=>!!o.payload.data)),Qo(n),Pz((([o,i])=>{const{share:{shareQuality:c,activeNodeId:d,shareViewAttachments:p}}=i,{payload:{data:{fps:v}}}=o,S=Number(v);if(c!==S)return Z2(i)?N3(rE,i,d,S):Object.entries(p).filter((([,_])=>_.length>0)).forEach((([_])=>{N3(rE,i,Number(_),S)})),N1e(S)}))),epics7:(e,n)=>Ro(e,20226).pipe(Bo((o=>{var i,c;if(it(PQ,(i=o.payload)===null||i===void 0?void 0:i.body),(c=o.payload)!==null&&c!==void 0&&c.body){const{payload:{body:{width:d,height:p}}}=o;Z2(n.value)&&fg.ajustmentReceivedSharingCanvas(d,p)}})),So((o=>wee(o.payload.body)))),epics8:(e,n)=>ir(e,Gn.SharingPara).pipe(Bo((o=>{var i,c;if(it(PQ,(i=o.payload.data)===null||i===void 0?void 0:i.body),(c=o.payload.data)!==null&&c!==void 0&&c.body){const{payload:{data:{body:{width:d,height:p}}}}=o;Z2(n.value)&&fg.ajustmentReceivedSharingCanvas(d,p)}})),So((o=>{var i;return wee((i=o.payload.data)===null||i===void 0?void 0:i.body)}))),epics9:(e,n)=>ir(e,Gn.UserStopDesktopSharing).pipe(Qo(n),So((([,o])=>{const{meeting:{userId:i},share:{status:c}}=o;return c!==Zr.End&&(rE.stopSharing(i),fg.stopDesktopSharing(),it(BMe)),Sg(Zr.End)}))),epics10:(e,n)=>Ro(e,Vl).pipe(Qo(n),yn((([o,i])=>{const{meeting:{userId:c}}=i,d=o.payload.body.update;return d&&d.length>0&&d.findIndex((p=>p.id===c&&p.bShareOn!==void 0))>-1})),nn((([o,i])=>{const{meeting:{userId:c},share:{status:d,isReceiveSharing:p,activeNodeId:v,isSimultaneousShareView:S}}=i,{payload:{body:{update:_}}}=o,x=_.find((z=>z.id===c&&z.bShareOn===!1)),P=_.find((z=>z.id===c&&z.bShareOn===!0)),B=[];return x&&d!==Zr.End&&(rE.stopSharing(c),fg.stopDesktopSharing(),B.push(Sg(Zr.End)),it(VMe)),P&&d===Zr.End&&(p&&!S&&(fg.stopRenderSharing(),rE.unsubscribeSharing(v),B.push(IO(!1))),B.push(Sg(Zr.Sharing))),Kn(B)}))),epics11:(e,n)=>Ro(e,Vl).pipe(Qo(n),yn((([o,i])=>{const{meeting:{userId:c}}=i,d=o.payload.body.update;return d&&d.length>0&&d.findIndex((p=>p.id!==c&&p.bShareOn!==void 0))>-1})),nn((([o,i])=>{const{payload:{body:{update:c}}}=o,{share:{activeNodeId:d,isReceiveSharing:p}}=i,v=Q_(i),S=c.filter((P=>P.bShareOn===!0&&P.bSharePause===!1)),_=c.filter((P=>P.bShareOn===!0&&P.bSharePause===!0)),x=c.filter((P=>P.bShareOn===!1));return S.length>0&&S.forEach((P=>{v.findIndex((B=>B.userId===P.id))===-1?it(Y0e,P):it($Me,P)})),_.length>0&&_.forEach((P=>{it(HMe,P)})),x.length>0&&(x.filter((P=>v.findIndex((B=>B.userId===P.id))>-1)).forEach((P=>{it(X0e,P)})),p&&x.some((P=>P.id===d)))?Vp(Ro(e,rbe).pipe(Yr(1),Ia(Eo)),Eu(50).pipe(Ia(UO("timeout")))).pipe(Cm((()=>{const{share:{activeNodeId:P},meeting:{userId:B}}=n.value,z=v.filter((H=>H.userId!==P&&H.userId!==B));if(z.length>0&&Z2(n.value)){var U;const H=[],K=z[0],{userId:oe}=K,ce=(U=K_(oe,i))!==null&&U!==void 0?U:oe;return H.push(...kbe(P,oe,ce,{state:i,rwgAgent:rE,mediaAgent:fg})),it(NQ,{userId:oe}),H.push(D3({activeNodeID:oe,bStatus:1,ssrc:ce})),Kn(H)}return Eo}))):Eo}))),epics12:(e,n)=>Ro(e,g1e).pipe(Qo(n),hi((([o,i])=>{const{payload:{body:{encryptKey:c,additionalType:d}}}=o,{media:{sharingDecodeStatus:p,sharingEncodeStatus:v},meeting:{confId:S,userId:_,zoomId:x,meetingId:P,meetingNumber:B,isWebinar:z}}=i;return Bk(n).pipe(hi((U=>{let H=v;return(!Zo.isSupportSendScreenSharing||z&&U&&ef(U.userRole))&&(H="failed"),Hf("sharing",H,p).pipe(Bo((([K,oe])=>{const ce={userId:_,sn:jy(x),confId:S,encryptKey:jy(c),encryptType:d,meetingId:P,meetingNumber:B};if(K&&fg?.updateMediaParams({iVType:IS.SHARING_ENCODE,isFromMainSession:!1,updateParams:ce}),oe){fg.updateMediaParams({iVType:IS.SHARING_DECODE,isFromMainSession:!1,updateParams:ce});const{participants:{attendeesList:re}}=n.value;if(re.length>0){const ye=re.map((_e=>({userid:_e.userId,sn:_e.zoomID&&jy(_e.zoomID)})));fg.updateUserMediaSN({added:ye,isFromMainSession:!1,iVType:IS.SHARING_DECODE})}}})),Ia(Eo))})))}))),epics13:(e,n)=>RS(e,20235).pipe(Qo(n),Bo((([o,i])=>{const{media:{sharingDecodeStatus:c}}=i,{type:d,payload:{body:p}}=o,v=d===`${lA}`;Hf("sharing","success",c).subscribe((([,S])=>{S&&fg.addReceivedSharingChannelType({isFromMainSession:v,...p})}))})),Ia(Eo)),epics14:(e,n)=>RS(e,20236).pipe(Qo(n),Bo((([o,i])=>{const{media:{sharingDecodeStatus:c}}=i,{type:d,payload:{body:{ssrc:p}}}=o,v=d===`${lA}`;Hf("sharing","success",c).subscribe((([,S])=>{S&&fg.removeReceivedSharingChannelType({isFromMainSession:v,ssrc:p})}))})),Ia(Eo)),epics15:e=>ir(e,Gn.SharingFirstDecodeFrameReceivedSsrc).pipe(yn((n=>!!n.payload.data)),Bo((n=>{const{payload:{data:{ssrc:o}}}=n;rE.sendReceivingSharingReady(o)})),Ia(Eo)),epics16:(e,n)=>Ro(e,20233).pipe(yn((()=>!!n.value.share.isRequireReadReceipt)),Bo((o=>{const{payload:{body:{bReceiveOk:i}}}=o;i&&it(WMe)})),Ia(Eo)),epics17:(e,n)=>Ro(e,Wy).pipe(yn((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.lockShare)!==void 0})),nn((o=>{const{payload:{body:{lockShare:i}}}=o,{share:{isOptimizedForSharedVideo:c,isSharingToBreakoutRoom:d},audio:{isSharingAudio:p},meeting:{userId:v}}=n.value,S=[];return i===Uy.MultipleShare&&c&&(rE.startSharing(v,{bShareAudio:p,bShareToBO:d,bShareVideo:!1}),fg.switchSharingMode(u6.Normal),S.push(_ee(!1))),Kn(S)}))),epics18:(e,n)=>ir(e,Gn.ShareQosData).pipe(Qo(n),So((([o,i])=>{var c,d;const{meeting:{isWebinar:p},media:{sharingEncodeStatus:v,sharingDecodeStatus:S},share:{status:_,isReceiveSharing:x},participants:{xmppAttendeeList:P}}=i;let B=t1e(i).length>0;p&&(B=B||!!P.length);const z=_!==Zr.End&&v==="success"&&(B||((c=i.recording)===null||c===void 0?void 0:c.cmrStatus)===Ed.Start),U=x&&S==="success";return(d=o.payload.data)!==null&&d!==void 0&&d.encoding?z?(it(sve,o.payload),xbe(o.payload)):xbe(AO):U?(it(sve,o.payload),rz(o.payload)):rz(AO)})))},lZe=xg(aZe,iZe,rZe),{setQaSetting:aJe,addQaQuestion:lJe,addQaAnswer:cJe,removeQaComment:uJe,removeQaQuestion:dJe,dismissQaQuestion:hJe,reopenQaQuestion:fJe,voteQaQuestion:pJe,answerQaQuestionLive:mJe,updateAttendeeAnonymousQuestion:gJe,setQaEnabled:vJe,resetQa:cZe}=Qd("SET_QA_SETTING","ADD_QA_QUESTION","ADD_QA_ANSWER","REMOVE_QA_COMMENT","REMOVE_QA_QUESTION","DISMISS_QA_QUESTION","REOPEN_QA_QUESTION","VOTE_QA_QUESTION","ANSWER_QA_QUESTION_LIVE","UPDATE_ATTENDEE_ANONYMOUS_QUESTION","SET_QA_ENABLED","RESET_QA"),{setChatPrivilege:V1e,setPanelistChatPrivilege:a4e,addChatMessageHistory:iz,resetChat:l4e,setIsAllowAttendeeChat:c4e,setLatestChatMessageId:u4e,removeChatMessage:_J,setFileChatSetting:d4e,addChatFileRecord:F1e,updateChatFileRecord:Ff,cancelSendFileChat:az,addFailedChatFileTransfer:H1e,setChatFileMessageId:h4e,cancelDownloadFileChat:$1e}=Qd("SET_CHAT_PRIVILEGE","SET_PANELIST_CHAT_PRIVILEGE","ADD_CHAT_MESSAGE_HISTORY","RESET_CHAT","SET_IS_ALLOW_ATTENDEE_CHAT","SET_LATEST_CHAT_MESSAGE_ID","REMOVE_CHAT_MESSAGE","SET_FILE_CHAT_SETTING","ADD_CHAT_FILE_RECORD","UPDATE_CHAT_FILE_RECORD","CANCEL_SEND_FILE_CHAT","ADD_FAILED_CHAT_FILE_TRANSFER","SET_CHAT_FILE_MESSAGE_ID","CANCEL_DOWNLOAD_FILE_CHAT"),{setProcessorCreateInfo:f4e,addProcessorInstance:p4e,removeProcessorInstance:m4e,resetProcessor:g4e}=Qd("SET_PROCESSOR_CREATE_INFO","ADD_PROCESSOR_INSTANCE","REMOVE_PROCESSOR_INSTANCE","RESET_PROCESSOR"),{setCcEditorInfo:v4e,setTempSendCcText:bJe,setCcLtMessage:yJe,setTempReceiveLtText:SJe,setTempReceiveCcText:CJe,setGatewayInfoList:EJe,setLtEnable:wJe,setIsListenClosedCaption:_Je,setCcEnable:AJe,allowParticipantAskLt:TJe,receiveAskStartLt:xJe,setMeetingEnabledLtFeature:OJe,updateLtStatus:IJe,deleteMessage:RJe,updateMessage:kJe,resetClosedCaption:uZe}=Qd("SET_CC_EDITOR_INFO","SET_CC_LT_MESSAGE","SET_TEMP_SEND_CC_TEXT","SET_TEMP_RECEIVE_LT_TEXT","SET_TEMP_RECEIVE_CC_TEXT","SET_GATEWAY_INFO_LIST","SET_LT_ENABLE","SET_IS_LISTEN_CLOSED_CAPTION","SET_CC_ENABLE","ALLOW_PARTICIPANT_ASK_LT","RECEIVE_ASK_START_LT","SET_MEETING_ENABLED_LT_FEATURE","UPDATE_LT_STATUS","DELETE_MESSAGE","UPDATE_MESSAGE","RESET_CLOSED_CAPTION"),{addBreakoutRooms:b4e,setBreakoutRoomAllocationPattern:Dbe,setBreakoutRoomSequenceId:xee,setMeetingElapsedTime:Mbe,setStartRoomElapsedTime:y4e,setBreakoutRoomOptions:S4e,setBreakoutRoomControlStatus:C4e,setBreakoutRooms:A6,setCurrentBreakoutRoom:Oee,setBreakoutRoomAttendeeStatus:Ak,setBreakoutRoomConfId:Pbe,setBreakoutRoomToken:Nbe,resetBreakoutRoom:E4e,setBreakoutRoomClosingRoomTime:Lbe,setBreakoutRoomBroadcastMessage:w4e,setBreakoutRoomHostReplyType:U1e,setBreakoutRoomHostReplyRequestId:_4e,setMainSessionAttendeeList:A4e,setIsHugeBreakoutRoom:T4e,setBreakoutRoomPreAssignedRoomList:Bbe,setBreakoutRoomUserRoleUpdated:Vbe,setBreakoutRoomMeetingOptions:x4e,setBreakoutRoomUserActivityStatus:O4e,setBreakoutRoomIsBroadcastVoice:Iee}=Qd("ADD_BREAKOUT_ROOMS","SET_BREAKOUT_ROOM_ALLOCATION_PATTERN","SET_BREAKOUT_ROOM_SEQUENCE_ID","SET_MEETING_ELAPSED_TIME","SET_START_ROOM_ELAPSED_TIME","SET_BREAKOUT_ROOM_OPTIONS","SET_BREAKOUT_ROOM_CONTROL_STATUS","SET_BREAKOUT_ROOMS","SET_CURRENT_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_ATTENDEE_STATUS","SET_BREAKOUT_ROOM_CONF_ID","SET_BREAKOUT_ROOM_TOKEN","RESET_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_CLOSING_ROOM_TIME","SET_BREAKOUT_ROOM_BROADCAST_MESSAGE","SET_BREAKOUT_ROOM_HOST_REPLY_TYPE","SET_BREAKOUT_ROOM_HOST_REPLY_REQUEST_ID","SET_MAIN_SESSION_ATTENDEE_LIST","SET_IS_HUGE_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_PRE_ASSIGNED_ROOM_LIST","SET_BREAKOUT_ROOM_USER_ROLE_UPDATED","SET_BREAKOUT_ROOM_MEETING_OPTIONS","SET_BREAKOUT_ROOM_USER_ACTIVITY_STATUS","SET_BREAKOUT_ROOM_IS_BROADCAST_VOICE"),{setCloudRecordingStatus:I4e,setCloudRecordingEnable:R4e,setCloudIsoRecordingEnable:k4e,setAllowStopAutoRecording:D4e,setAutomaticCloudRecordingEnable:M4e,setIsZoomIQ:z1e,setZoomIQChanging:j1e,setLocalRecordStatus:W1e,setSupportLocalRecording:Fbe,setLocalGrantPermissionOption:P4e,setLocalPermissionUserList:L3,resetRecording:N4e}=Qd("SET_CLOUD_RECORDING_STATUS","SET_CLOUD_RECORDING_ENABLE","SET_CLOUD_ISO_RECORDING_ENABLE","SET_ALLOW_STOP_AUTO_RECORDING","SET_AUTOMATIC_CLOUD_RECORDING_ENABLE","SET_IS_ZOOM_I_Q","SET_ZOOM_I_Q_CHANGING","SET_LOCAL_RECORD_STATUS","SET_SUPPORT_LOCAL_RECORDING","SET_LOCAL_GRANT_PERMISSION_OPTION","SET_LOCAL_PERMISSION_USER_LIST","RESET_RECORDING"),{updateCmdJid:L4e,removeCmdJid:B4e,setCmdChannelConnectionStatus:V4e,resetCmdChannel:F4e}=Qd("UPDATE_CMD_JID","REMOVE_CMD_JID","SET_CMD_CHANNEL_CONNECTION_STATUS","RESET_CMD_CHANNEL"),dZe="SET_ARCHIVING_STATUS",hZe="SET_ARCHIVING_SESSION_READY",fZe="SET_ARCHIVING_OPTIONS",pZe="RESET_ARCHIVING",{setArchivingStatus:DJe,setArchivingSessionReady:MJe,setArchivingOptions:PJe,resetArchiving:mZe}=Qd({[dZe]:e=>e,[hZe]:e=>e,[fZe]:e=>e,[pZe]:()=>{}}),{setIsLiveTranscriptionEnabled:H4e,setLiveTranscriptionMeetingOptions:$4e,setIsLiveTranscriptionManualCaptionerEnabled:Hbe,setLiveTranscriptionGatewayId:U4e,setLiveTranscriptionSupportedLanguage:z4e,setIsLiveTranscriptionSubscribed:$be,setCurrentTranscriptionLang:yO,setCurrentTranslationLang:Ree,addLiveTranscriptionMessage:Ube,updateLiveTranscriptionMessage:j4e,reduceLiveTranscriptionMessages:W4e,setLiveTranscriptionEngineType:G4e,removeLiveTranscriptionFailoverState:q4e,setLiveTranscriptionLastCaptionMessage:Z4e,resetLiveTranscription:K4e,setIsHostDisableCaptions:Y4e,setIsSomeoneSetSessionTranscription:X4e,setIsSomeoneTranslating:J4e,setIsTranscriptionLanguageLocked:Q4e,setIsExternalCaptionerCaptioning:eBe,setExternalCcUrl:tBe,setTranscriptionMode:nBe}=Qd("SET_IS_LIVE_TRANSCRIPTION_ENABLED","SET_LIVE_TRANSCRIPTION_MEETING_OPTIONS","SET_IS_LIVE_TRANSCRIPTION_MANUAL_CAPTIONER_ENABLED","SET_LIVE_TRANSCRIPTION_GATEWAY_ID","SET_LIVE_TRANSCRIPTION_SUPPORTED_LANGUAGE","SET_IS_LIVE_TRANSCRIPTION_SUBSCRIBED","SET_CURRENT_TRANSCRIPTION_LANG","SET_CURRENT_TRANSLATION_LANG","ADD_LIVE_TRANSCRIPTION_MESSAGE","UPDATE_LIVE_TRANSCRIPTION_MESSAGE","REDUCE_LIVE_TRANSCRIPTION_MESSAGES","SET_LIVE_TRANSCRIPTION_ENGINE_TYPE","REMOVE_LIVE_TRANSCRIPTION_FAILOVER_STATE","SET_LIVE_TRANSCRIPTION_LAST_CAPTION_MESSAGE","RESET_LIVE_TRANSCRIPTION"," SET_IS_HOST_DISABLE_CAPTIONS","SET_IS_SOMEONE_SET_SESSION_TRANSCRIPTION","SET_IS_SOMEONE_TRANSLATING","SET_IS_TRANSCRIPTION_LANGUAGE_LOCKED","SET_IS_EXTERNAL_CAPTIONER_CAPTIONING","SET_EXTERNAL_CC_URL","SET_TRANSCRIPTION_MODE"),{setPollData:NJe,setPollingId:LJe,setPollingWebLinks:BJe,setPollingDocMaxSize:VJe,setPollingDocSize:FJe,setPollingDocLibraryMaxSize:HJe,setPollingDocLibrarySize:$Je,setIsRwgEnablePolling:UJe,setHasPollingInMeeting:zJe,resetPoll:gZe}=Qd("SET_POLL_DATA","SET_POLLING_ID","SET_POLLING_WEB_LINKS","SET_POLLING_DOC_MAX_SIZE","SET_POLLING_DOC_SIZE","SET_POLLING_DOC_LIBRARY_MAX_SIZE","SET_POLLING_DOC_LIBRARY_SIZE","SET_IS_RWG_ENABLE_POLLING","SET_HAS_POLLING_IN_MEETING","RESET_POLL"),{setLoggerInitOptions:G1e,setIsLaplaceInitialized:kee,setIsLogDetailed:oBe,resetLogger:sBe}=Qd("SET_LOGGER_INIT_OPTIONS","SET_IS_LAPLACE_INITIALIZED","SET_IS_LOG_DETAILED","RESET_LOGGER"),{setIsLiveStreamEnable:rBe,setLiveStreamStatus:Dee,setLiveStreamChannel:iBe,resetLiveStream:aBe}=Qd("SET_IS_LIVE_STREAM_ENABLE","SET_LIVE_STREAM_STATUS","SET_LIVE_STREAM_CHANNEL","RESET_LIVE_STREAM"),{setBroadcastStreamingUtk:lBe,setBroadcastStreamingChannelId:lz,setBroadcastStreamingStatus:zbe,setBroadcastStreamingEnable:cBe,resetBroadcastStreaming:uBe}=Qd("SET_BROADCAST_STREAMING_UTK","SET_BROADCAST_STREAMING_CHANNEL_ID","SET_BROADCAST_STREAMING_STATUS","SET_BROADCAST_STREAMING_ENABLE","RESET_BROADCAST_STREAMING"),BAe=(e,n,o,i,c,d,p)=>{const v={ts:i,auth:c,rwcToken:o,dmz:1,option:p};return d&&Object.assign(v,{confID:d}),`https://${e}/wc/ping/${n}?${new URLSearchParams(v).toString()}`},u3=(e,n=!1)=>{const{socket:{zoomSocketStatus:o,xmppSocketStatus:i,mainSessionSocketStatus:c},meeting:{meetingStatus:d}}=e,p=[];if(d===_h.Joined){var v;const S=Ls.getInstance(),_=Qi.createAgent();if(((v=us(e))===null||v===void 0?void 0:v.audio)===Xi.Computer&&S.leaveComputerAudio(),S.disconnect(),Eve.watch(S.destroy()),e.video&&(e.video.subscribedVideoList.length>0&&e.video.subscribedVideoList.forEach((x=>{S.unsubscribeVideo(x)})),e.video.isCurrentUserStartedVideo&&it(w3)),e.share&&e.share.isReceiveSharing){const x=e.share.activeNodeId;e.share.remoteControlledUserList.length>0&&e.share.remoteControlledUserList.forEach((P=>{_.sharingRequestRemoteControl(P,!1)})),_.unsubscribeSharing(x)}vg.destroyInstance()}if(n||(ei.clearSession(),[tl.WebclientTk,tl.WebclientZsk,tl.WebclientZtk,tl.WebclientRecordingToken].forEach((S=>{sessionStorage.removeItem(S)})),Gf.destroy()),o!==Pa.Closed&&p.push(qy()),i!==Pa.Closed&&p.push(Yve()),c!==Pa.Closed&&p.push(wLe()),n){const S=us(e);p.push(Wve({audio:S?.audio,muted:S?.muted,video:S?.bVideoOn,isFailover:n}))}else p.push(Wve({audio:!1,muted:void 0,video:!1,isFailover:n}));return p.push(ALe(),RLe(),MLe(),_3e(n),X3e(),eNe(n),cZe(),l4e(),g4e(),N4e(),uZe(),E4e(),F4e(),mZe(),K4e(n),gZe(),sBe(n),aBe(n),uBe(n),f1e(_h.Closed)),p},TX=(e,...n)=>vr({event:NS,operations:[So((o=>o.find((i=>i.userId===e.userId&&(!e.key||i[`${e.key}`]!==void 0))))),yn((o=>!!o)),Yr(1)]},...n),vZe={[`${dO.AudioDecodeInWorklet}`]:{mask:15,action:OLe},[`${dO.VideoHalfWebRTCEnable}`]:[{mask:null,action:hNe}],[`${dO.WebGL2Render}`]:{mask:15,action:fNe},[`${dO.WebGPURender}`]:{mask:15,action:pNe},[`${dO.ZMKFromRWG}`]:{mask:15,action:SLe}};function bZe(e){if(!e)return"";const n=e.match(/rid=(.*)/);return n?n[1]:""}const yZe=["userId","displayName","audio","isHost","avatar","bRaiseHand","bHold","bVideoOn","sharerOn","sharerPause","feedback","bLocalRecord","strPronoun","sdkKey","audioConnectionStatus","caps","bAllowISORecord","bVideoConnect","userIdentity","isSpeakerOnly","bVideoShare","bShareAudioOn","bShareToBORooms","bid",{from:"bInFailover",to:"isInFailover"},{from:"userGUID",to:"userGuid"},{from:"bGuest",to:"isGuest"},{from:"sharerPause",to:"sharePause"},{from:"bCoHost",to:e=>({isCoHost:!!e})},{from:"muted",to:(e,n)=>({muted:n!=null&&n.isSpeakerOnly||n?.audio===""?void 0:e})},{from:"userType",to:(e,n)=>{const o=Lk(e),i={isPhoneUser:o};return o&&n!=null&&n.phoneNumber&&Object.assign(i,{phoneNumber:n.phoneNumber}),i}}];function Tk(e){return yZe.reduce(((n,o)=>{const i=typeof o=="string"?o:o.from,c=(function(d,p,v){if(typeof d=="string")return{[`${d}`]:p};if(typeof d=="object"&&d.from!==void 0){const{to:S}=d;return typeof S=="string"?{[`${S}`]:p}:S(p,v)}})(o,e[i],e);return{...n,...c}}),{})}const q1e=({breakoutRoom:{mainSessionAttendeeList:e}})=>e,dBe=({meeting:{zoomId:e}})=>e,hBe=({breakoutRoom:{isHugeBO:e}})=>e,Ag=Xl([({breakoutRoom:{controlStatus:e}})=>e,({breakoutRoom:{currentRoom:{status:e}}})=>e,({breakoutRoom:{currentRoom:{boId:e}}})=>e],((e,n,o)=>!(e!==ii.InProgress&&e!==ii.Closing||n!==rr.InRoom&&n!==rr.TimeUp||!o))),Cme=Xl([({breakoutRoom:{rooms:e}})=>e,_A,dBe,q1e,Ag,hBe],((e,n,o,i,c,d)=>{const p=e.reduce(((v,S)=>{const{attendeeGuidList:_}=S;return v.concat(_)}),[]);return(c?i:n).filter((v=>!v.bHold&&!v.isHost&&v.zoomID!==o&&!v.bid&&!p.includes(v.userGUID)&&(!d||i3e(v.caps))))})),SZe=Xl([Ag,q1e,_A,dBe,hBe],((e,n,o,i,c)=>(e?n:o).filter((d=>!d.bHold&&!d.isHost&&d.zoomID!==i&&!d.bid&&(!c||i3e(d.caps)))))),A2=Xl([Ag,q1e,_A],((e,n,o)=>e?n.find((i=>i.isHost)):o.find((i=>i.isHost))));var VAe,FAe,HAe,Kh;const T2=Qi.createAgent();let CZe=(VAe=ame(bO.Other),FAe=ame(bO.Other),HAe=ame(bO.Other),Kh=class extends FS{constructor(e){super(e),this.modules=void 0,this.useSDK=void 0,this.useSDK=!1,this.modules=new Map}initWithSDK(e,n,o){return this.useSDK=!0,this.init(e,n,o)}init(e,n,o){const{audio:i,video:c}=wDe();if(!i||!c)return console.error("https://developers.zoom.us/docs/video-sdk/web/browser-support"),Promise.reject({type:ln,errorCode:at.CLIENT_PLATFORM_UNSUPPORTED,reason:"Please update to the latest Chrome, Edge, Safari, or Firefox, as your current browser doesn't support audio/video. Retry after the upgrade."});const{[kc]:d,[uc]:p}=this;let v=z2,S="en-US",_=`${z2}/${j2}`;if(o){const{dependentAssets:x,additionalFeatures:P,constraints:B,language:z,webEndpoint:U}=o;z&&(S=z),U&&(function(H){dte=SDe(H,{hostname:!0})})(U),x===Upe.CDN||x===KX?(v=KX,_=`${KX}/${j2}`):x===Upe.Global||x===z2?(v=z2,_=`${z2}/${j2}`):x===Upe.CN||x===YX?(v=YX,_=`${YX}/${j2}`):x&&/^https?:\/\//.test(x)&&(v=bte(x),_=`${v}/${j2}`),P&&Array.isArray(P)&&P.forEach((H=>{if(this[vQ][H]&&p.getState()[H]===void 0){const{epic:K,reducer:oe,Client:ce}=this[vQ][H];p.injectReducer(H,oe),p.injectEpic(K);const re=new ce(p);this.modules.set(H,re)}})),B!=null&&B.audio&&p.getState().audio===void 0&&(p.injectReducer("audio",zqe),p.injectEpic(Gqe)),B!=null&&B.video&&p.getState().video===void 0&&(p.injectReducer("video",Kqe),p.injectEpic(Qqe)),B!=null&&B.screen&&p.getState().share===void 0&&(p.injectReducer("share",sZe),p.injectEpic(lZe))}return d(sLe({apiKey:e,signature:n,language:S,useSDK:this.useSDK})),d(m1e({mediaConstraints:o&&o.constraints||{},assetsPath:v,enforceMultipleVideos:o?.enforceMultipleVideos,enforceVirtualBackground:o?.enforceVirtualBackground,skipJsMedia:o?.skipJsMedia,patchJsMedia:o?.patchJsMedia,alternativeNameForVideoPlayer:o?.alternativeNameForVideoPlayer})),o?.stayAwake!==void 0&&d(mLe(o.stayAwake)),o?.quicklyLeaveMeeting!==void 0&&d(bLe(o.quicklyLeaveMeeting)),o?.isUIToolkit!==void 0&&d(oLe(o.isUIToolkit)),o?.isLogDetailed!==void 0&&d(oBe(!!o.isLogDetailed)),new Promise(((x,P)=>{o!=null&&o.skipJsMedia?x(""):cte(_,(()=>{var B;(B=window.JsMediaSDK_Instance)!==null&&B!==void 0&&(B=B.util)!==null&&B!==void 0&&B.initAsyncJob?window.JsMediaSDK_Instance.util.initAsyncJob().then((()=>x(""))):x("")}),(()=>{P({type:tr,reason:"dependent assets are not accessible",errorCode:at.CLIENT_DEPENDENT_ASSETS_INACCESSIBLE})}))}))}on(e,n){((o,i)=>{const c=gwe[o];if(c){const d=L2.get(o);if(d)d.push(i),L2.set(o,d);else{const p=[i];L2.set(o,p);const v=Ad(...c.map((S=>{const{event:_,payload:x}=S;return Xd(g6,_).pipe(So((P=>x(P))),Xu(bA))}))).subscribe((S=>{const _=L2.get(o);_&&_.forEach((x=>{x(S)}))}));pve.push(v)}}})(e,n)}off(e,n){((o,i)=>{if(gwe[o]){const c=L2.get(o);if(Array.isArray(c)){const d=c.filter((p=>p!==i));L2.set(o,d)}}})(e,n)}getFeatureModule(e){return this.modules.get(e)}leave(){const{[qo]:e,[kc]:n}=this,{socket:{zoomSocketStatus:o},meeting:{meetingInfoTimestamp:i,zlkJwtToken:c}}=e();return o===Pa.Connected||o===Pa.Connecting?n(Fk()):(i&&n(Fk()),c||n(jve())),dc(Eu(500).pipe(Mk("")))}end(){const{[qo]:e,[kc]:n}=this;return e().socket.zoomSocketStatus==="connected"?(n(l4()),dc(Eu(500).pipe(Bo((()=>{e1e()})),Mk("")))):Promise.resolve("")}changeName(e,n){const o=this[uc].getState(),{meeting:{bAllowAttendeeRename:i}}=o,c=us(o),d=ef(c.userRole),p=Iv(o);if(d)return Promise.reject({type:Bp,errorCode:at.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED});if(n&&n!==c?.userId){if(p){const{participants:{attendeesList:v}}=o,S=v.find((_=>_.userId===n));if(S)return T2.rename(n,bu(e),bu(S.displayName)),TX({userId:n,key:"displayName"},(_=>_.displayName===e));{const _=kz(o).find((x=>x.userId===n));if(_){const x=Kk.getInstance();return T2.rename(_.userId,bu(e),bu(_.displayName)),x.rename(_.jid,e),vr(uO,(P=>{const B=P.find((z=>z.jid===_.jid));return B&&B.displayName===e}))}return Promise.reject({type:tr,reason:"no matching user",errorCode:at.CLIENT_MISMATCH_USER})}}return Promise.reject({type:Bp,errorCode:at.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED})}return e===c.displayName?Promise.resolve():p||i?(T2.rename(c.userId,bu(e),bu(c.displayName)),vr(Mp,(v=>v.displayName===e))):Promise.reject({type:Bp,reason:"host disallow rename themselves",errorCode:at.CLIENT_HOST_DISALLOW_RENAME})}makeHost(e){return T2.assignHost(e,!1),TX({userId:e,key:"isHost"},(n=>n.isHost===!0))}makeCoHost(e){const n=this[uc].getState(),o=Na(n).find((i=>i.userId===e));return o?.bCoHost===!0?Promise.reject({type:tr,reason:`user:[${e}] is already co-host `,errorCode:at.CLIENT_MISMATCH_USER}):(T2.assignHost(e,!0),TX({userId:e,key:"bCoHost"},(i=>i.bCoHost===!0)))}revokeCoHost(e){const n=this[uc].getState(),o=Na(n).find((i=>i.userId===e));return o?.bCoHost===!1?Promise.reject({type:tr,reason:`user:[${e}] is not a co-host`,errorCode:at.CLIENT_MISMATCH_USER}):(T2.revokeCoHost(e),TX({userId:e,key:"bCoHost"},(i=>i.bCoHost===!1)))}reclaimHost(){const e=this[qo](),{meeting:{isOriginHost:n}}=e,o=us(e);return o!=null&&o.isHost?Promise.resolve(""):n?(T2.reclaimHost(o.userId,!1),vr(Mp,(i=>i.isHost===!0))):Promise.reject({type:Bp,reason:"Only orignial host can reclaim host",errorCode:at.CLIENT_MISMATCH_USER})}isHost(){const e=this[uc].getState(),n=us(e);return!!n&&n.isHost}isCoHost(){const e=this[uc].getState(),n=us(e);return!!n&&!!n.bCoHost}isOriginHost(){const{meeting:{isOriginHost:e}}=this[qo]();return e}getCurrentUserInfo(){const e=this[uc].getState(),n=us(e);if(n){const o=Tk(n);if(e.meeting.isWebinar&&ef(n.userRole)){const{audio:i}=e,c=i?.isAllowToTalk;Object.assign(o,{isAllowToTalk:c})}if(e.breakoutRoom&&Ag(e)){const{breakoutRoom:{currentRoom:{boId:i}}}=e;Object.assign(o,{bid:i})}return o}return null}getParticipantsList(){const e=this[uc].getState(),{meeting:{meetingStatus:n}}=e,o=us(e);if(n===_h.Joined&&o&&!o.bHold){var i;const c=e.breakoutRoom&&Ag(e)?(i=e.breakoutRoom)===null||i===void 0||(i=i.currentRoom)===null||i===void 0?void 0:i.boId:"";return Na(e).map((d=>{const p=Tk(d);return c&&Object.assign(p,{bid:c}),p}))}return[]}getAssistantsList(){const e=this[uc].getState(),{meeting:{meetingStatus:n}}=e,o=us(e);return n===_h.Joined&&o?uWe(e).map((i=>({userId:i.userId,displayName:i.displayName,isNewAst:!0}))):[]}getMeetingHost(){var e;const n=this[qo]();let o=bve(n);return o||((e=n.breakoutRoom)===null||e===void 0?void 0:e.currentRoom.status)!==rr.InRoom||(o=n.breakoutRoom.mainSessionAttendeeList.find((i=>i.isHost))),o!==void 0?Tk(o):null}getMeetingInfo(){const{meeting:{meetingStatus:e,isOnHold:n,meetingNumber:o,passWord:i,userName:c,userEmail:d,meetingTopic:p,meetingOptions:v,encType:S,region:_,network:x,topic:P,zlkJwtToken:B,userId:z,lang:U,inviteEmail:H,meetingId:K,participantID:oe,h323Password:ce,recordingDisclaimer:re,recordingDisclaimerForRecorder:ye,wrInfo:_e,meetingInfo:Oe,isNewJoinFlow:F,chatModerationPolicy:Me}}=this[qo](),ot=e===_h.Joined&&!n;if(B)return{topic:P,password:i,userName:c,isInMeeting:ot,userId:z,meetingId:K};{let Fe="";return S===0?Fe="None":S===1?Fe="AES ECB":S===2&&(Fe="AES GCM"),{meetingNumber:o,password:i,userName:c,userEmail:d,inviteEmail:H,meetingTopic:p,encryptionType:Fe,region:_,network:x,isInMeeting:ot,userId:z,lang:U,webEndpoint:$6(),meetingId:K,participantId:oe,telPwd:ce,recordingInfo:{recordingDisclaimer:re,recordingDisclaimerForRecorder:ye,isUserEnableRecordingReminder:v?.isUserEnableRecordingReminder},wrInfo:Object.assign({},_e,{isNew:F}),scheduleInfo:Oe,chatModerationPolicy:Me}}}},Fn(Kh.prototype,"end",[wd,$n],Object.getOwnPropertyDescriptor(Kh.prototype,"end"),Kh.prototype),Fn(Kh.prototype,"changeName",[$n],Object.getOwnPropertyDescriptor(Kh.prototype,"changeName"),Kh.prototype),Fn(Kh.prototype,"makeHost",[VAe,wd,$n],Object.getOwnPropertyDescriptor(Kh.prototype,"makeHost"),Kh.prototype),Fn(Kh.prototype,"makeCoHost",[FAe,wd,$n],Object.getOwnPropertyDescriptor(Kh.prototype,"makeCoHost"),Kh.prototype),Fn(Kh.prototype,"revokeCoHost",[HAe,wd,$n],Object.getOwnPropertyDescriptor(Kh.prototype,"revokeCoHost"),Kh.prototype),Fn(Kh.prototype,"reclaimHost",[$n],Object.getOwnPropertyDescriptor(Kh.prototype,"reclaimHost"),Kh.prototype),Kh);const EZe=Qi.createAgent(),wZe=Kk.getInstance(),$Ae=(e,n,o)=>{const i=n?.userId;if(e==null||!e.zoomID||n==null||!n.displayName||i===e.userId)return{type:tr,reason:"invalid target user",errorCode:at.CHAT_MISMATCH_USER};const{chat:{chatPrivilege:c,panelistChatPrivilege:d},meeting:{isWebinar:p}}=o,v=Iv(o),S=n.isHost||n.bCoHost;let _=!1;if(!v){if(p)if(ef(e.userRole))(c===Kc.NoAttendee||c===Kc.AllPanelist&&i!==Kl.Panelist||c===Kc.All&&i!==Kl.All&&i!==Kl.Panelist)&&(_=!0);else{const x=ef(n?.userRole);(d===Hk.Invalid||d===Hk.AllPanelist&&(x||i===Kl.All))&&(_=!0)}else(c===Kc.NoAttendee||c===Kc.Host&&!S||i===Kl.SilentModeUsers||c===Kc.EveryonePublicly&&i!==Kl.All&&!S)&&(_=!0);if(_)return{type:Bp,reason:"Insufficient chat privilege",errorCode:at.CHAT_INSUFFICIENT_PRIVILEGE}}return null};function UAe(e,n){if(n===Kl.All)return X5;if(n===Kl.Panelist)return c3;if(n===Kl.SilentModeUsers)return Bqe;{const{meeting:{isWebinar:o},participants:{xmppAttendeeList:i,attendeesList:c}}=e;return o?c.find((d=>d.userId===n))||i.find((d=>d.userId===n)):c.find((d=>d.userId===n))}}function D5(e,n,o){if(o!=null&&o.host)return[bve(e),...Ewe(e)].filter((i=>i?.userId!==n)).map((i=>({userId:i?.userId,displayName:i?.displayName,isHost:i?.isHost,isCoHost:i?.bCoHost})));{let i=[bve(e),...Ewe(e),...e.participants.attendeesList.filter((c=>!(c.bCoHost||c.isHost||c.bHold)))];if(o!=null&&o.includeAttendee){const c=kz(e).filter((d=>!Lk(d.userType)));i=[...i,...c]}return i.filter((c=>c!==void 0&&c.userId!==n)).map((c=>({userId:c?.userId,displayName:c?.displayName,isHost:c?.isHost,isCoHost:c?.bCoHost})))}}function d3(e,n){const{chat:{chatHistory:o}}=n;return o.find((i=>{var c;return((c=i.file)===null||c===void 0||(c=c.upload)===null||c===void 0?void 0:c.uniqueId)===e}))}function fBe(e,n){const{meeting:{isWebinar:o},participants:{attendeesList:i}}=n,{destNodeID:c,senderName:d,attendeeNodeID:p}=e,v=i.find((B=>B.userId===c)),S=e.sn?e.sn:v?.zoomID,_=d?s1(d):v?.displayName;let x,P="";if(p===Kl.SilentModeUsers)return{sender:{name:"Host",userId:c},receiver:{name:"Everyone (in Waiting Room)",userId:p},timestamp:new Date().getTime()};if(p===Kl.All)P=o?"All panelists and attendees":"Everyone";else if(p===Kl.Panelist)P="All panelists";else{if(o){const B=kz(n).find((z=>z.userId===p));B&&(P=B.displayName)}if(!P){const B=i.find((z=>z.userId===p));B&&(P=B.displayName,x=B.userGUID)}}return{sn:S,sender:{name:_,userId:c,userGuid:v?.userGUID,avatar:v?.avatar},receiver:{name:P,userId:p,userGuid:x},timestamp:new Date().getTime()}}function _Ze(e){var n;const[o]=e.split(".").reverse();return(n=Fqe[o])!==null&&n!==void 0?n:""}function pBe(e,n){const o=[];for(let i=e.length-1;i>=0;i--){const c=e[i];if(!c.file&&(!c.id&&c.sender.userId===n.userId&&[Kl.All,Kl.Panelist,Kl.IndividualCcPanelist,n.destNodeID].includes(c.receiver.userId)&&o.unshift(c),c.id))break}return o.length>0?o[0]:null}function mBe(e){switch(e.responseType){case"json":if("response"in e)return e.response;var n=e;return JSON.parse(n.responseText);case"document":return e.responseXML;default:return"response"in e?e.response:(n=e).responseText}}var AZe=function(e,n,o,i){i===void 0&&(i="download_load"),this.originalEvent=e,this.xhr=n,this.request=o,this.type=i;var c=n.status,d=n.responseType;this.status=c??0,this.responseType=d??"";var p=n.getAllResponseHeaders();this.responseHeaders=p?p.split(`
`).reduce((function(_,x){var P=x.indexOf(": ");return _[x.slice(0,P)]=x.slice(P+2),_}),{}):{},this.response=mBe(n);var v=e.loaded,S=e.total;this.loaded=v,this.total=S},Mee=xz((function(e){return function(n,o,i){var c;this.message=n,this.name="AjaxError",this.xhr=o,this.request=i,this.status=o.status,this.responseType=o.responseType;try{c=mBe(o)}catch{c=o.responseText}this.response=c}})),TZe=(function(){function e(n,o){return Mee.call(this,"ajax timeout",n,o),this.name="AjaxTimeoutError",this}return e.prototype=Object.create(Mee.prototype),e})(),xZe=So((function(e){return e.response})),Wx,Ov=(Wx=function(e){return(function(n){return new yu((function(o){var i,c,d,p=d6({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},n),v=p.queryParams,S=p.body,_=p.headers,x=p.url;if(!x)throw new TypeError("url is required");if(v)if(x.includes("?")){var P=x.split("?");if(2<P.length)throw new TypeError("invalid url");d=new URLSearchParams(P[1]),new URLSearchParams(v).forEach((function(nt,Mt){return d.set(Mt,nt)})),x=P[0]+"?"+d}else x=x+"?"+(d=new URLSearchParams(v));var B={};if(_)for(var z in _)_.hasOwnProperty(z)&&(B[z.toLowerCase()]=_[z]);var U=p.crossDomain;U||"x-requested-with"in B||(B["x-requested-with"]="XMLHttpRequest");var H=p.withCredentials,K=p.xsrfCookieName,oe=p.xsrfHeaderName;if((H||!U)&&K&&oe){var ce=(c=(i=document?.cookie.match(new RegExp("(^|;\\s*)("+K+")=([^;]*)")))===null||i===void 0?void 0:i.pop())!==null&&c!==void 0?c:"";ce&&(B[oe]=ce)}var re,ye=(function(nt,Mt){var Pt;if(!nt||typeof nt=="string"||(function(st){return typeof FormData<"u"&&st instanceof FormData})(nt)||(function(st){return typeof URLSearchParams<"u"&&st instanceof URLSearchParams})(nt)||(function(st){return _me(st,"ArrayBuffer")})(nt)||(function(st){return _me(st,"File")})(nt)||(function(st){return _me(st,"Blob")})(nt)||(function(st){return typeof ReadableStream<"u"&&st instanceof ReadableStream})(nt))return nt;if((function(st){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(st)})(nt))return nt.buffer;if(typeof nt=="object")return Mt["content-type"]=(Pt=Mt["content-type"])!==null&&Pt!==void 0?Pt:"application/json;charset=utf-8",JSON.stringify(nt);throw new TypeError("Unknown body type")})(S,B),_e=d6(d6({},p),{url:x,headers:B,body:ye});re=n.createXHR?n.createXHR():new XMLHttpRequest;var Oe=n.progressSubscriber,F=n.includeDownloadProgress,Me=F!==void 0&&F,ot=n.includeUploadProgress,Fe=ot!==void 0&&ot,De=function(nt,Mt){re.addEventListener(nt,(function(){var Pt,st=Mt();(Pt=Oe?.error)===null||Pt===void 0||Pt.call(Oe,st),o.error(st)}))};De("timeout",(function(){return new TZe(re,_e)})),De("abort",(function(){return new Mee("aborted",re,_e)}));var we=function(nt,Mt){return new AZe(Mt,re,_e,nt+"_"+Mt.type)},ct=function(nt,Mt,Pt){nt.addEventListener(Mt,(function(st){o.next(we(Pt,st))}))};Fe&&[Eme,wme,jAe].forEach((function(nt){return ct(re.upload,nt,OZe)})),Oe&&[Eme,wme].forEach((function(nt){return re.upload.addEventListener(nt,(function(Mt){var Pt;return(Pt=Oe?.next)===null||Pt===void 0?void 0:Pt.call(Oe,Mt)}))})),Me&&[Eme,wme].forEach((function(nt){return ct(re,nt,zAe)}));var rt=function(nt){var Mt="ajax error"+(nt?" "+nt:"");o.error(new Mee(Mt,re,_e))};re.addEventListener("error",(function(nt){var Mt;(Mt=Oe?.error)===null||Mt===void 0||Mt.call(Oe,nt),rt()})),re.addEventListener(jAe,(function(nt){var Mt,Pt,st=re.status;if(st<400){(Mt=Oe?.complete)===null||Mt===void 0||Mt.call(Oe);var vn=void 0;try{vn=we(zAe,nt)}catch(To){return void o.error(To)}o.next(vn),o.complete()}else(Pt=Oe?.error)===null||Pt===void 0||Pt.call(Oe,nt),rt(st)}));var gt=_e.user,ee=_e.method,on=_e.async;for(var z in gt?re.open(ee,x,on,gt,_e.password):re.open(ee,x,on),on&&(re.timeout=_e.timeout,re.responseType=_e.responseType),"withCredentials"in re&&(re.withCredentials=_e.withCredentials),B)B.hasOwnProperty(z)&&re.setRequestHeader(z,B[z]);return ye?re.send(ye):re.send(),function(){re&&re.readyState!==4&&re.abort()}}))})(typeof e=="string"?{url:e}:e)},Wx.get=function(e,n){return Ov({method:"GET",url:e,headers:n})},Wx.post=function(e,n,o){return Ov({method:"POST",url:e,body:n,headers:o})},Wx.delete=function(e,n){return Ov({method:"DELETE",url:e,headers:n})},Wx.put=function(e,n,o){return Ov({method:"PUT",url:e,body:n,headers:o})},Wx.patch=function(e,n,o){return Ov({method:"PATCH",url:e,body:n,headers:o})},Wx.getJSON=function(e,n){return xZe(Ov({method:"GET",url:e,headers:n}))},Wx),OZe="upload",zAe="download",Eme="loadstart",wme="progress",jAe="load",IZe=Object.prototype.toString;function _me(e,n){return IZe.call(e)==="[object "+n+"]"}const gBe=qf.getInstance(),vBe=gBe.makeLogger(["File Transfer"]);function bBe(e,n,o){const{name:i,size:c}=e,{meeting:{reportDomain:d,svcUrl:p,conId:v}}=o;return`https://${d}${n}?${new URLSearchParams({filename:i,filesize:c,rwg:p,cid:v}).toString()}`}function yBe(e,n){return n.fileObj?`${e}/zoomfile/download?objkey=${n.fileObj}&business=meeting`:`${e}/file/${n.fileID}?business=meeting`}function p4(e,n){return{fileName:e.name,fileSize:e.size,receiverId:n?.userId,receiverGuid:n?.userGuid}}function lO(e,n,o){gBe.report(`${e}. file name:${Uf(n.name)},file size:${n.size}, ${"type"in n?`file type:${n.type}`:""}, error:${o.name};${o.message}`,["File Transfer"])}function Ame(e){var n,o,i;return{id:e.id,fileName:(n=e.file)===null||n===void 0?void 0:n.name,fileSize:(o=e.file)===null||o===void 0?void 0:o.size,fileUrl:(i=e.file)===null||i===void 0?void 0:i.fileUrl,senderId:e.sender.userId,senderGuid:e.sender.userGuid}}function SBe(e,n,o){return new Promise(((i,c)=>{const d=new FileReader;d.readAsArrayBuffer(e.slice(n,o)),d.onload=p=>{var v;return i((v=p.target)===null||v===void 0?void 0:v.result)},d.onerror=p=>c(p)}))}async function CBe(e,n){let[o,i]=[e.size,0];n!=null&&(o=Math.min(Ip.ChunkSize,e.size-n),i=n);const c=e.size-i<=Ip.ChunkSize,d=Math.ceil(o/Ip.EncodeBlockSize);try{const p=await Promise.all(Array.from({length:c?Math.max(d-1,1):d},((v,S)=>({start:S*Ip.EncodeBlockSize+i,end:(c&&S===d-2?S+2:S+1)*Ip.EncodeBlockSize+i}))).map((async({start:v,end:S})=>{try{const _=await SBe(e,v,S);return _?await Gf.beginEncrypt({text:new Uint8Array(_),type:Wf.CHAT_FILE}):Promise.reject(null)}catch(_){return lO(`encrypt file buffer error. offset:${n},`,e,_),Promise.reject(_)}})));return(function(v){const S=v.reduce(((P,B)=>P+B.byteLength),0),_=new Uint8Array(S);let x=0;for(const P of v)_.set(new Uint8Array(P),x),x+=P.byteLength;return _})(p)}catch(p){console.warn(p)}return null}function AJ(e,n,o,i){return i.pipe(Fo(`${az}`,`${qy}`),yn((c=>{if(c.type===`${qy}`)return!0;const{payload:{uniqueId:d,fileName:p,userId:v}}=c;return n===d&&e.name===p&&o.userId===v})),Yr(1),Bo((c=>{vBe.info(`Cancel file upload. file name:${Uf(e.name)},file size:${e.size},receiver id:${o.userId}`),it(Pk,{...p4(e,o),progress:0,status:Eh.Cancel,retryToken:c.type===`${az}`?n:void 0})})))}function TJ(e,n){if(e!=null&&e.file){const{file:o,receiver:i}=e,{upload:{chunkIndex:c,totalChunks:d,uniqueId:p}}=o;return it(Pk,{...p4(n,i),progress:Math.floor((c??0)/(d??1)*100),status:Eh.Fail,retryToken:p}),Kn([Ff({upload:{status:Eh.Fail,progress:0,uniqueId:p}}),H1e({uniqueId:p,file:n})])}return Eo}function xJ(e,n){return it(Pk,{...p4(e),progress:0,status:Eh.Fail}),za(Ff({upload:{status:Eh.Fail,progress:0,uniqueId:n}}))}async function WAe(e,n,o,i){const c=bBe(e,"/wc/fileupload",i.value),d=new FormData;try{const p=await CBe(e),v=d3(n,i.value);if(p&&v){d.append("file",new File([p],e.name));const{meeting:{zmk:S}}=i.value,{receiver:_}=v;return Ov({url:c,method:"POST",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:S},crossDomain:Mb(c),body:d,includeUploadProgress:!0}).pipe(wh(AJ(e,n,_,o)),nn((x=>{const{type:P,loaded:B,responseHeaders:z,total:U}=x;let H=0,K=Eh.InProgress;const oe={upload:{uniqueId:n}},ce=[];if(P==="upload_loadstart")H=0;else if(P==="upload_progress")H=Math.floor(B/U*100*.9);else if(P==="upload_load")H=90;else if(P==="download_load"){var re,ye;H=100,K=Eh.Success;const{chat:{fileServerDomain:_e}}=i.value,Oe=(re=z["zoom-file-id"])===null||re===void 0?void 0:re.trim(),F=(ye=z["zoom-file-obj"])===null||ye===void 0?void 0:ye.trim(),Me=yBe(_e,{fileObj:F});Object.assign(oe,{fileID:Oe,fileObj:F,fileUrl:Me})}return Object.assign(oe.upload,{progress:H,status:K}),(H>0||P==="upload_loadstart")&&(it(Pk,{...p4(e,_),progress:H,status:K}),ce.push(Ff(oe))),Kn(ce)})),Cm((x=>(console.warn(x),lO("Upload small file error.",e,x),TJ(v,e)))))}}catch(p){console.warn(p)}return xJ(e,n)}const RZe=(()=>{const e=new xPe;return n=>async(...o)=>{await e.acquire(),n(...o),setTimeout((()=>{e.release()}),3e3)}})(),kZe=(function(e){const n=["chatFileTransfer"];return new Proxy(e,{get:(o,i)=>typeof i=="string"&&n.includes(i)?function(...c){return RZe(o[i].bind(o))(...c)}:Reflect.get(o,i)})})(Qi.createAgent()),GAe={chatHistory:[],chatPrivilege:Kc.All,panelistChatPrivilege:Hk.AllPanelist,isAllowAttendeeChat:!0,isFileTransferEnable:!0,isEnableFileTransferEncrypted:!0,fileTransferFileType:[],fileDownloadPromptIgnoreList:[],fileTransferSizeLimit:0,fileServerDomain:"",failedFileTransfer:{}},DZe=wm({[`${iz}`]:pt(((e,{payload:n})=>{e.chatHistory.push(n)})),[`${V1e}`]:pt(((e,{payload:n})=>{e.chatPrivilege=n})),[`${a4e}`]:pt(((e,{payload:n})=>{e.panelistChatPrivilege=n})),[`${c4e}`]:pt(((e,{payload:n})=>{e.isAllowAttendeeChat=n})),[`${u4e}`]:pt(((e,{payload:n})=>{const{destNodeID:o,msgID:i,userId:c}=n,d=pBe(e.chatHistory,{userId:c,destNodeID:o});d&&Object.assign(d,{id:i})})),[`${_J}`]:pt(((e,{payload:n})=>{const{msgId:o}=n,i=e.chatHistory.findIndex((c=>c.id===o));i>=0&&e.chatHistory.splice(i,1)})),[`${d4e}`]:pt(((e,{payload:n})=>{Object.assign(e,n)})),[`${F1e}`]:pt(((e,{payload:n})=>{const{originFile:o,...i}=n;e.chatHistory.push(i)})),[`${Ff}`]:pt(((e,{payload:n})=>{const{upload:o,download:i,originFile:c,...d}=n;if(o){var p;const{uniqueId:v,...S}=o,_=e.chatHistory.find((x=>{var P;return x.file&&((P=x.file.upload)===null||P===void 0?void 0:P.uniqueId)===v}));_!=null&&(p=_.file)!==null&&p!==void 0&&p.upload&&(Object.assign(_.file.upload,{...S}),Object.assign(_.file,{...d}),_.file.upload.status===Eh.Success&&e.failedFileTransfer[_.file.upload.uniqueId]&&delete e.failedFileTransfer[_.file.upload.uniqueId])}else if(i){const{id:v,fileUrl:S}=d,_=e.chatHistory.find((x=>{var P;return x.id===v&&((P=x.file)===null||P===void 0?void 0:P.fileUrl)===S}));_!=null&&_.file&&(_.file.download?Object.assign(_.file.download,{...i}):Object.assign(_.file,{download:i}))}})),[`${az}`]:pt(((e,{payload:n})=>{const{uniqueId:o,fileName:i,userId:c}=n,d=e.chatHistory.find((v=>v.file&&v.file.name==i&&v.file.upload.uniqueId===o&&v.file.upload.status===Eh.InProgress&&v.receiver.userId===c));var p;d!=null&&d.file&&Object.assign((p=d.file)===null||p===void 0?void 0:p.upload,{status:Eh.Cancel,progress:0})})),[`${H1e}`]:pt(((e,{payload:n})=>{const{uniqueId:o,file:i}=n;e.failedFileTransfer[`${o}`]||Object.assign(e.failedFileTransfer,{[`${o}`]:i})})),[`${h4e}`]:pt(((e,{payload:n})=>{const{fileID:o,msgID:i,senderId:c}=n,d=e.chatHistory.find((p=>{var v;return((v=p.file)===null||v===void 0?void 0:v.fileID)===o&&p.sender.userId===c}));d&&Object.assign(d,{id:i})})),[`${$1e}`]:pt(((e,{payload:n})=>{const{id:o,fileUrl:i}=n,c=e.chatHistory.find((p=>{var v,S;return p.id===o&&((v=p.file)===null||v===void 0?void 0:v.fileUrl)===i&&((S=p.file)===null||S===void 0?void 0:S.download.status)===Z_.InProgress}));var d;c!=null&&c.file&&Object.assign((d=c.file)===null||d===void 0?void 0:d.download,{status:Z_.Cancel,progress:0})})),[`${l4e}`]:()=>({...GAe})},GAe);var yd;const M5=Qi.createAgent();let MZe=(yd=class extends FS{async send(e,n){if(!e)return Promise.reject({type:tr,reason:"Text is empty",errorCode:at.CHAT_EMPTY_MESSAGE});const{[qo]:o,[kc]:i}=this,c=o(),d=us(c),p=UAe(c,n),v=$Ae(d,p,c);if(v)return Promise.reject(v);const{meeting:{isWebinar:S,encType:_}}=c,x=_===Nz.AES_GCM;let P=!1;const B=S&&ef(p.userRole);if(n===Kl.SilentModeUsers)M5.chat(bu(e),n);else{let U,H=0;S?B?8&~p.clientCap?(H=Kl.Panelist,U=n,P=!0):(H=Kl.IndividualCcPanelist,U=n):p&&(H=p.userId):H=p.userId,await(async function(K){const{text:oe,destId:ce,sn:re,attendeeId:ye}=K;{const _e=await Gf.beginEncrypt({text:oe,type:Wf.RWG_CHAT});EZe.chat(_e,ce,re,ye)}})({text:e,destId:H,sn:d?.zoomID,attendeeId:U}),P&&await(function(K){const{text:oe,jid:ce,isGCMEnabled:re}=K;return Gf.beginEncrypt({text:oe,type:Wf.XMPP_CHAT}).then((ye=>{wZe.sendWebinarMseeage(ye,ce,Kl.IndividualCcPanelist,re)}))})({text:e,jid:p.jid,isGCMEnabled:x})}const z=(function(U,H,K,oe){const ce=new Date().getTime(),re=performance.now();return{message:U,sender:{name:H.displayName,userId:H.userId,userGuid:H.userGUID,avatar:H.avatar},receiver:{name:K?.displayName,userId:oe?Kl.IndividualCcPanelist:K?.userId,userGuid:K?.userGUID},timestamp:ce,highResTimeStampForIdentification:re}})(e,d,p,B);if(i(iz(z)),P)return it(bk,z),z;try{const U=await dc(wa(QDe).pipe(L0e(5e3),ZDe((re=>z.highResTimeStampForIdentification!==re.identification||!([re.receiverId,Kl.All,Kl.Panelist].includes(n)||re.receiverId===Kl.IndividualCcPanelist))),Yr(1))),{msgId:H}=U,{highResTimeStampForIdentification:K,...oe}=z,ce={id:H,...oe,...B&&{receiver:{name:p?.displayName,userId:p?.userId}}};return it(bk,ce),ce}catch{return Promise.reject({type:fte,errorCode:at.OPERATION_TIMEOUT})}}setPrivilege(e){const n=this[qo](),{meeting:{isWebinar:o},chat:{chatPrivilege:i},breakoutRoom:c}=n;return i===e?Promise.resolve(""):c?.controlStatus===ii.InProgress&&Ag(n)?Promise.reject({type:ln,reason:"Cannot update chat privilege in a subsession",errorCode:at.CHAT_SUBSESSION_CONFLICT}):!o&&!Pqe.includes(e)||o&&!Nqe.includes(e)?Promise.reject({type:tr,reason:"invalid privilege value of parameter",errorCode:at.CHAT_INVALID_PRIVILEGE}):(M5.setChatPriviledge(e),vr(E3,(d=>d.chatPrivilege===e)))}setPanelistPrivilege(e){const n=this[qo](),{chat:{panelistChatPrivilege:o}}=n,i=Lqe[e];return o===i?Promise.resolve(""):Object.values(vee).includes(e)?(M5.setPanelistChatPrivilege(e),vr(E3,(c=>c.panelistChatPrivilege===i))):Promise.reject({type:tr,reason:"Panelist privilege value is invalid",errorCode:at.CHAT_INVALID_PRIVILEGE})}deleteMessage(e){const n=this[qo](),{chat:{chatHistory:o},meeting:{meetingOptions:i,userId:c}}=n;if(i!=null&&i.isEnableDeleteChatMsg){const d=Iv(n),p=o.find((v=>v.id===e));if(p){const{sender:v}=p;if(d)M5.chatCmdReq(e,gee.Delete);else{if(v.userId!==c)return Promise.reject({type:Bp,reason:"can not delete message",errorCode:at.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED});M5.chatCmdReq(e,gee.Delete)}return vr(_Q,(S=>S.id===e)).then((()=>({id:e})))}return Promise.reject({type:tr,reason:"msgId is wrong",errorCode:at.CHAT_INVALID_MSG_ID_OR_URL})}return Promise.reject({type:ln,reason:"can not delete messages",errorCode:at.CHAT_DELETE_ACCOUNT_DISABLE})}lockChat(e){const n=this[qo](),{meeting:{meetingOptions:o}}=n,i=o!=null&&o.isPrivateChatEnabled?Kc.All:Kc.EveryonePublicly;return this.setPrivilege(e?Kc.NoOne:i)}sendFile(e,n){if(!e)return Promise.reject({type:tr,reason:"File is empty",errorCode:at.CHAT_EMPTY_FILE});const{[qo]:o,[kc]:i}=this,c=o(),{chat:{isFileTransferEnable:d,fileTransferFileType:p,fileTransferSizeLimit:v,failedFileTransfer:S}}=c;if(!d)return Promise.reject({type:ln,reason:"Send files via in-session chat is not enabled",errorCode:at.CHAT_FILE_ACCOUNT_DISABLE});if(typeof e=="string"){const _=d3(e,c);if(_!=null&&_.file&&S[e]){const{file:{upload:x,...P}}=_,{file:{name:B,upload:{uniqueId:z}},receiver:{userId:U}}=_;return i(Ff({originFile:S[e],...P,upload:{...x,status:Eh.InProgress}})),Promise.resolve((()=>{i(az({uniqueId:z,fileName:B,userId:U}))}))}return Promise.reject({type:tr,reason:"Retry token is not correct.",errorCode:at.CHAT_INVALID_RETRY_TOKEN})}{const{name:_}=e;if(p.length>0){const[U]=_.split(".").reverse();if(!p.some((H=>H===U)))return Promise.reject({type:ln,reason:"File is not in the allow list",errorCode:at.CHAT_MISMATCH_FILE_TYPE})}if(e.size>v)return Promise.reject({type:ln,reason:"File size exceeds the maximum limit.",errorCode:at.CHAT_EXCEED_FILE_SIZE});const x=us(c),P=UAe(c,n),B=$Ae(x,P,c);if(B)return Promise.reject(B);const z=FQ();return i(F1e((function(U,H,K,oe){const ce=new Date().getTime();return{file:{name:U.name,size:U.size,type:U.type,upload:{progress:0,uniqueId:H,totalChunks:0,chunkIndex:0}},originFile:U,sender:{name:K.displayName,userId:K.userId,userGuid:K.userGUID,avatar:K.avatar},receiver:{name:oe?.displayName,userId:oe?.userId,attendeeId:void 0,userGuid:oe?.userGUID},timestamp:ce}})(e,z,x,P))),Promise.resolve((()=>{i(H1e({uniqueId:z,file:e})),i(az({uniqueId:z,fileName:_,userId:P?.userId}))}))}}downloadFile(e,n,o){const{[qo]:i,[kc]:c}=this,{chat:{chatHistory:d}}=i();return!e||!n?Promise.reject({type:tr,reason:"Invalid message id or file url!",errorCode:at.CHAT_INVALID_MSG_ID_OR_URL}):d.find((v=>{var S;return v.id===e&&((S=v.file)===null||S===void 0?void 0:S.fileUrl)===n}))?(c(Ff({id:e,fileUrl:n,download:{status:Z_.InProgress,progress:0,blob:o}})),Promise.resolve((()=>c($1e({id:e,fileUrl:n}))))):Promise.reject({type:tr,reason:"Invalid message id or file url!",errorCode:at.CHAT_INVALID_MSG_ID_OR_URL})}getPrivilege(){const{chat:{chatPrivilege:e,isAllowAttendeeChat:n}}=this[qo]();return n?e:Kc.NoAttendee}getReceivers(){const e=this[qo](),{chat:{chatPrivilege:n,panelistChatPrivilege:o,isAllowAttendeeChat:i},meeting:{isWebinar:c}}=e;if(!c&&!i)return[];const d=us(e),p=Iv(e);if(d)if(c)if(ef(d.userRole)){if(!i)return[];if(n===Kc.All)return[c3,X5];if(n===Kc.AllPanelist)return[c3];if(n===Kc.NoOne)return[]}else{if(p||o===Hk.Everyone){const v=D5(e,d.userId,{includeAttendee:!0});return[c3,X5,...v]}if(o===Hk.AllPanelist){const v=D5(e,d.userId);return[c3,...v]}}else{const v=Iv(e);if(n===Kc.All||v){const S=D5(e,d.userId);return[X5,...S]}if(n===Kc.Host)return D5(e,d.userId,{host:!0});if(n===Kc.EveryonePublicly){const S=D5(e,d.userId,{host:!0});return[X5,...S]}if(n===Kc.NoOne)return[]}return[]}getHistory(){return this[qo]().chat.chatHistory.map((e=>{const{highResTimeStampForIdentification:n,...o}=e;if(o.file){const{name:i,size:c,type:d,fileUrl:p,upload:v,download:S}=o.file,_={name:i,size:c,type:d,fileUrl:p};return v&&Object.assign(_,{upload:{status:v.status,progress:v.progress}}),S&&Object.assign(_,{download:{status:S.status,progress:S.progress}}),{...o,file:_}}return o}))}isAllowToDeleteMessages(){const e=this[qo](),{meeting:{meetingOptions:n}}=e;return n?.isEnableDeleteChatMsg}isFileTransferEnabled(){return this[qo]().chat.isFileTransferEnable}getFileTransferSetting(){const e=this[qo](),{chat:{fileTransferFileType:n,fileTransferSizeLimit:o}}=e;return{typeLimit:(n??[]).map((i=>`.${i}`)).join(","),sizeLimit:o}}},Fn(yd.prototype,"send",[$n],Object.getOwnPropertyDescriptor(yd.prototype,"send"),yd.prototype),Fn(yd.prototype,"setPrivilege",[vu,$n],Object.getOwnPropertyDescriptor(yd.prototype,"setPrivilege"),yd.prototype),Fn(yd.prototype,"setPanelistPrivilege",[vu,$n,function(e,n,o){const i=o.value;o.value=function(...c){const d=this[uc];if(d){const{meeting:{isWebinar:p}}=d.getState();if(!p)return Promise.reject({type:JX,reason:"non-webinar",errorCode:at.CLIENT_SESSION_NOT_WEBINAR})}return i.apply(this,c)}}],Object.getOwnPropertyDescriptor(yd.prototype,"setPanelistPrivilege"),yd.prototype),Fn(yd.prototype,"deleteMessage",[$n],Object.getOwnPropertyDescriptor(yd.prototype,"deleteMessage"),yd.prototype),Fn(yd.prototype,"lockChat",[vu,$n],Object.getOwnPropertyDescriptor(yd.prototype,"lockChat"),yd.prototype),Fn(yd.prototype,"sendFile",[$n],Object.getOwnPropertyDescriptor(yd.prototype,"sendFile"),yd.prototype),Fn(yd.prototype,"downloadFile",[$n],Object.getOwnPropertyDescriptor(yd.prototype,"downloadFile"),yd.prototype),yd);const PZe={epics0:(e,n)=>R3(e,24583).pipe(Qo(n),nn((([o,i])=>{if(i.meeting.zlkJwtToken)return Eo;const{payload:{body:{sn:c,senderName:d,senderJid:p,receiver:v,text:S,type:_}}}=o,x=us(i),P=kz(i),{meeting:{jid:B,userId:z},participants:{xmppAttendeeList:U}}=i;return Gf.beginDecrypt({decryptedText:S,type:Wf.XMPP_CHAT,zoomId:c}).then((({message:H})=>{var K;let oe=null,ce=0,re="";x&&ef(x.userRole)&&B===v?(oe=U.find((_e=>_e.jid===p)),ce=z,re=x.displayName):_===Kl.Panelist&&(oe=P.find((_e=>_e.jid===p)),ce=Kl.Panelist,re=c3.displayName);const ye={message:H,sender:{name:d,userId:((K=oe)===null||K===void 0?void 0:K.userId)||0,avatar:""},receiver:{name:re,userId:ce},timestamp:new Date().getTime()};return it(bk,ye),iz(ye)}))}))),epics1:(e,n)=>Ro(e,7944).pipe(Qo(n),nn((([o,i])=>{const{meeting:{bIbDisableChat:c}}=i,{payload:{body:{attendeeNodeID:d,sn:p,destNodeID:v,text:S,senderName:_,msgID:x}}}=o,P=us(i);if(P){const B=ef(P?.userRole)&&d===P.userId&&!x;if(!c&&!B){const{sn:z,...U}=fBe({destNodeID:v,attendeeNodeID:d,senderName:_,sn:p},i);return(d===Kl.SilentModeUsers?Promise.resolve({id:x,message:s1(S),...U}):Gf.beginDecrypt({decryptedText:S,zoomId:z,type:Wf.RWG_CHAT}).then((({message:H})=>({id:x,message:H,...U})))).then((H=>(it(bk,H),iz(H))))}}return Eo}))),epics2:(e,n)=>Ro(e,Wy).pipe(yn((o=>{var i,c;return((i=o.payload.body)===null||i===void 0?void 0:i.chatPriviledge)!==void 0||((c=o.payload.body)===null||c===void 0?void 0:c.bAllowAttendeeChat)!==void 0})),Qo(n),So((([o,i])=>{const{payload:{body:{chatPriviledge:c,bAllowAttendeeChat:d}}}=o,{chat:{chatPrivilege:p}}=i;return d!==void 0?(it(E3,d===!0?{chatPrivilege:p}:{chatPrivilege:Kc.NoAttendee}),c4e(d)):(it(E3,{chatPrivilege:c}),V1e(c))}))),epics3:e=>Ro(e,Wy).pipe(yn((n=>{var o;return((o=n.payload.body)===null||o===void 0?void 0:o.panelistChatPriviledge)!==void 0})),So((n=>{const{payload:{body:{panelistChatPriviledge:o}}}=n;return it(E3,{panelistChatPrivilege:o}),a4e(o)}))),epics4:(e,n)=>Ro(e,4136).pipe(Qo(n),nn((([o,i])=>{const{payload:{body:{result:c,destNodeID:d,msgID:p,fileID:v}}}=o,{meeting:{userId:S},chat:{chatHistory:_}}=i,x=[];if(c===vme.Success)if(v){const B=_.find((z=>{var U;return((U=z.file)===null||U===void 0?void 0:U.fileID)===v}));if(B){const{file:z,receiver:U,...H}=B,{name:K,size:oe,type:ce,fileUrl:re}=z??{},{attendeeId:ye,..._e}=U;it(bk,{id:p,file:{name:K,size:oe,type:ce,fileUrl:re,upload:{status:Eh.Complete,progress:100}},receiver:{..._e},...H}),x.push(h4e({fileID:v,msgID:p,senderId:S}))}}else{const B=pBe(_,{userId:S,destNodeID:d});var P;B&&(it(QDe,{msgId:p,receiverId:d,identification:(P=B.highResTimeStampForIdentification)!==null&&P!==void 0?P:0}),x.push(u4e({destNodeID:d,msgID:p,userId:S})))}else c!==vme.Delete&&c!==vme.Block||x.push(_J({msgId:p}));return Kn(x)}))),epics5:e=>Ro(e,4238).pipe(nn((n=>{const{payload:{body:{bSuccess:o,cmd:i,msgID:c}}}=n,d=[];return o&&i===gee.Delete&&(d.push(_J({msgId:c})),it(_Q,{id:c})),Kn(d)}))),epics6:e=>Ro(e,7960).pipe(nn((n=>{const{payload:{body:{cmd:o,msgID:i}}}=n,c=[];return o===gee.Delete&&(c.push(_J({msgId:i})),it(_Q,{id:i})),Kn(c)})))},NZe=xg(PZe,{chatFileEpics0:e=>e.pipe(Fo(`${Mv}`),So((n=>{var o,i,c;const{payload:{fileTransfer:d,fileServerDomain:p}}=n;return d4e({isFileTransferEnable:d?.isEnable,isEnableFileTransferEncrypted:d?.isEnableFileTransferEncrypted,fileTransferFileType:((o=d?.fileType)!==null&&o!==void 0?o:"").replace(/\./g,"").split(",").filter(Boolean),fileTransferSizeLimit:1024*((i=d?.sizeLimit)!==null&&i!==void 0?i:0)*1024||Ip.MaxSize,fileDownloadPromptIgnoreList:((c=d?.fileDownloadPromptIgnoreList)!==null&&c!==void 0?c:"").replace(/\./g,"").split(","),fileServerDomain:`https://${p}`})}))),chatFileEpics1:(e,n)=>e.pipe(Fo(`${F1e}`),nn((async o=>{const{payload:{originFile:i,file:{upload:{uniqueId:c}}}}=o;return i.size>Ip.ChunkSize?await(async function(d,p,v,S){const _=bBe(d,"/wc/multiupload/init",S.value),x=await(async function(U){const H=Math.ceil(U.size/Ip.ReaderChunkSize);return(await Promise.all(Array.from({length:H},((oe,ce)=>({start:ce*Ip.ReaderChunkSize,end:(ce+1)*Ip.ReaderChunkSize}))).map((async({start:oe,end:ce})=>{try{const re=await SBe(U,oe,ce);return NPe(await window.crypto.subtle.digest("SHA-256",re))}catch(re){return lO("calculate file hash error.",U,re),Promise.reject(re)}})))).join("")})(d),{meeting:{zmk:P,meetingId:B}}=S.value,z=d3(p,S.value);if(x&&z){const{receiver:U}=z,H={fileName:d.name,length:d.size,channelType:4,digest:x,shareJid:B};return Ov({url:_,method:"POST",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:P},crossDomain:Mb(_),body:H}).pipe(wh(AJ(d,p,U,v)),So((K=>{var oe;const{responseHeaders:ce,response:re}=K,ye=(oe=ce["x-zm-trackingid"])===null||oe===void 0?void 0:oe.trim(),{uploadid:_e,path:Oe,metadata:F}=re,Me=Math.ceil(d.size/Ip.ChunkSize);return Ff({originFile:d,upload:{uniqueId:p,status:Eh.InProgress,progress:0,chunkIndex:0,totalChunks:Me,uploadid:_e,trackingId:ye,path:Oe,metadata:F}})})),Cm((K=>(console.warn(K),lO("Upload file meta error.",d,K),TJ(z,d)))),o1(Ff({upload:{uniqueId:p,status:Eh.Init}})))}return xJ(d,p)})(i,c,e,n):await WAe(i,c,e,n)})),nn((o=>o))),chatFileEpics2:(e,n)=>e.pipe(Fo(`${Ff}`),yn((o=>{var i;return((i=o.payload.upload)===null||i===void 0?void 0:i.status)===Eh.Success})),uA((async o=>{const{payload:{upload:{uniqueId:i}}}=o,{chat:{isEnableFileTransferEncrypted:c,chatHistory:d}}=n.value,p=d.find((S=>{var _;return((_=S.file)===null||_===void 0||(_=_.upload)===null||_===void 0?void 0:_.uniqueId)===i})),v=[];if(p&&p.file){const{file:{name:S,size:_,fileObj:x,fileID:P,type:B},receiver:{userId:z,attendeeId:U}}=p;let[H,K]=["",""];if(c){const[oe,ce]=await Promise.all([S,`${_}`].map((re=>Gf.beginEncrypt({text:re,type:Wf.RWG_CHAT}))));[H,K]=[oe,ce]}else[H,K]=[S,`${_}`].map((oe=>bu(oe)));await kZe.chatFileTransfer({fileID:P,fileSize:K,fileName:H,fileObj:x,type:B,destNodeID:z,attendeeNodeID:U}),v.push(Ff({upload:{uniqueId:i,status:Eh.Complete}}))}return v}))),chatFileEpics3:(e,n)=>e.pipe(Fo(`${Ff}`),yn((o=>{const{payload:{upload:i,originFile:c}}=o;return!!i&&!!i.uniqueId&&i.status===Eh.InProgress&&c?.size<=Ip.ChunkSize&&i.totalChunks===0})),nn((async o=>{const{payload:{originFile:i,upload:{uniqueId:c}}}=o;return await WAe(i,c,e,n)})),nn((o=>o))),chatFileEpics4:(e,n)=>e.pipe(Fo(`${Ff}`),yn((o=>{const{payload:{upload:i}}=o;return!!i&&!!i.uniqueId&&i.totalChunks>0&&i.chunkIndex!==i.totalChunks})),nn((async o=>{const{payload:{originFile:i,upload:{uniqueId:c}}}=o;return await(async function(d,p,v,S){const _=d3(p,S.value);if(_!=null&&_.file){const{file:{upload:{chunkIndex:x,totalChunks:P,uploadid:B,path:z,trackingId:U,etags:H},size:K},receiver:oe}=_,ce=x*Ip.ChunkSize,re=await CBe(d,ce);if(re){const{chat:{fileServerDomain:ye},meeting:{zmk:_e}}=S.value,Oe=`${ye}/upload/parts?${new URLSearchParams({uploadid:B,partNumber:x+1}).toString()}`,F=new FormData,Me=new File([re],d.name);return F.append("file",Me),Ov({url:Oe,method:"POST",headers:{"Zoom-File-Size":Me.size,"Zoom-File-Path":z,"x-zm-trackingid":U,"Zoom-File-Origin":"redirect=support_auth",zmk:_e},crossDomain:Mb(Oe),body:F,includeUploadProgress:!0}).pipe(wh(AJ(d,p,oe,v)),nn((ot=>{var Fe;const{type:De,loaded:we,total:ct,responseHeaders:rt}=ot;let gt=0;const ee={upload:{uniqueId:p,status:Eh.InProgress}},on=[],nt=d3(p,S.value),Mt=nt==null||(Fe=nt.file)===null||Fe===void 0?void 0:Fe.upload.progress;if(De==="upload_loadstart")gt=Mt||Math.floor(x/P*100);else if(De==="upload_progress")gt=Math.floor((x*Ip.ChunkSize+.9*we)/K*100);else if(De==="upload_load")gt=Math.floor((x*Ip.ChunkSize+.9*ct)/K*100);else if(De==="download_load"){gt=Mt||Math.floor((x+1)/P*100);const Pt=rt["x-zm-etag"].trim(),st=H?{...H,[`${x+1}`]:Pt}:{[`${x+1}`]:Pt};Object.assign(ee.upload,{etags:st,chunkIndex:x+1,totalChunks:P}),Object.assign(ee,{originFile:d})}return(gt>0||De==="upload_loadstart")&&(Object.assign(ee.upload,{progress:gt}),it(Pk,{...p4(d,oe),progress:gt,status:Eh.InProgress}),on.push(Ff(ee))),Kn(on)})),Cm((ot=>(console.warn(ot),lO(`Upload file chunk error. chunk:${x},total chunks:${P},uploadid:${B},trackingId:${U}`,d,ot),TJ(_,d)))))}}return xJ(d,p)})(i,c,e,n)})),nn((o=>o))),chatFileEpics5:(e,n)=>e.pipe(Fo(`${Ff}`),yn((o=>{const{payload:{upload:i}}=o;return!!i&&!!i.uniqueId&&i.totalChunks>0&&i.chunkIndex==i.totalChunks})),nn((o=>{const{payload:{originFile:i,upload:{uniqueId:c}}}=o;return(function(d,p,v,S){const{chat:{fileServerDomain:_},meeting:{zmk:x}}=S.value,P=d3(p,S.value);if(P!=null&&P.file){const{file:{upload:{uploadid:B,metadata:z,etags:U,trackingId:H}},receiver:K}=P,oe=`${_}/upload/complete?uploadid=${B}`;return Ov({url:oe,method:"POST",headers:{"x-zm-trackingid":H,"Zoom-File-Origin":"redirect=support_auth",zmk:x},crossDomain:Mb(oe),body:{metadata:z,etags:U}}).pipe(wh(AJ(d,p,K,v)),So((ce=>{var re,ye;const{chat:{fileServerDomain:_e}}=S.value,{responseHeaders:Oe}=ce,F=(re=Oe["zoom-file-id"])===null||re===void 0?void 0:re.trim(),Me=(ye=Oe["zoom-file-obj"])===null||ye===void 0?void 0:ye.trim(),ot=`${_e}/zoomfile/download?objkey=${Me}&business=meeting`;return it(Pk,{...p4(d,K),progress:100,status:Eh.Success}),Ff({fileID:F,fileObj:Me,fileUrl:ot,upload:{uniqueId:p,progress:100,status:Eh.Success}})})),Cm((ce=>(console.warn(ce),lO(`Upload chunks checksum error.uploadid${B},trackingId${H}`,d,ce),TJ(P,d)))))}return xJ(d,p)})(i,c,e,n)}))),chatFileEpics6:(e,n)=>Ro(e,4308).pipe(uA((async o=>{const{payload:{body:{attendeeNodeID:i,destNodeID:c,fileID:d,fileName:p,fileObj:v,fileSize:S,fileType:_,msgID:x,senderName:P}}}=o,{meeting:{bIbDisableChat:B},chat:{fileServerDomain:z,isEnableFileTransferEncrypted:U}}=n.value,H=[];if(!B){const K=yBe(z,{fileObj:v,fileID:d});if(_===Vqe.Local){const{sn:oe,...ce}=fBe({destNodeID:c,attendeeNodeID:i,senderName:P},n.value);let[re,ye]=["",0];if(U){const[Oe,F]=await Promise.all([p,S].map((Me=>Gf.beginDecrypt({decryptedText:Me,zoomId:oe,type:Wf.RWG_CHAT}))));re=Oe.message,ye=Number(F.message)}else re=s1(p),ye=Number(s1(S));const _e={id:x,file:{name:re,size:ye,fileUrl:K},...ce};H.push(iz({..._e,file:{..._e.file,fileID:d,fileObj:v}})),setTimeout((()=>{it(bk,_e)}),0)}}return H}))),chatFileEpics7:(e,n)=>e.pipe(Fo(`${Ff}`),yn((o=>{var i,c;const{payload:d}=o;return d.id&&d.fileUrl&&((i=d.download)===null||i===void 0?void 0:i.status)===Z_.InProgress&&((c=d.download)===null||c===void 0?void 0:c.progress)===0})),nn((o=>(function(i,c,d){var p;const{chat:{chatHistory:v},meeting:{zmk:S},participants:{attendeesList:_}}=d.value,x=v.find((P=>P.id===i));if(x!=null&&(p=x.file)!==null&&p!==void 0&&p.fileUrl){const{file:{fileUrl:P}}=x;return Ov({url:P,method:"GET",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:S},crossDomain:Mb(P),responseType:"arraybuffer",includeDownloadProgress:!0}).pipe(wh((function(B,z){return z.pipe(Fo(`${$1e}`,`${qy}`),yn((U=>{if(U.type===`${qy}`)return!0;const{payload:{id:H}}=U;return B.id===H})),Yr(1),Bo((()=>{var U,H,K;vBe.info(`Cancel file download. file name:${Uf((U=B.file)===null||U===void 0?void 0:U.name)},file size:${(H=B.file)===null||H===void 0?void 0:H.size},sender id:${(K=B.sender)===null||K===void 0?void 0:K.userId}`),it(tJ,{...Ame(B),progress:0,status:Z_.Cancel})})))})(x,c)),uA((async B=>{const{type:z,loaded:U,total:H}=B,K=[],oe={...Ame(x),progress:0,status:Z_.InProgress};if(z==="download_loadstart"&&Object.assign(oe,{progress:0}),z==="download_progress"){var ce;const Me=Math.floor(U/H*100);K.push(Ff({id:i,fileUrl:(ce=x.file)===null||ce===void 0?void 0:ce.fileUrl,download:{progress:Me}})),Object.assign(oe,{progress:Me})}else if(z==="download_load"){var re,ye,_e;const ot=Z_.Success;Object.assign(oe,{progress:100,status:ot}),K.push(Ff({id:i,fileUrl:(re=x.file)===null||re===void 0?void 0:re.fileUrl,download:{progress:100,status:ot}}));const Fe=(ye=_.find((we=>we.userId===x.sender.userId)))===null||ye===void 0?void 0:ye.zoomID,De=await(async function(we,ct,rt){const gt=Math.ceil(we.byteLength/Ip.DecodeBlockSize);try{const ee=await Promise.all(Array.from({length:Math.max(gt-1,1)},((on,nt)=>({start:nt*Ip.DecodeBlockSize,end:(nt===gt-2?nt+2:nt+1)*Ip.DecodeBlockSize}))).map((async({start:on,end:nt})=>{try{const Mt=we.slice(on,nt),{message:Pt}=await Gf.beginDecrypt({decryptedText:Mt,zoomId:rt,type:Wf.CHAT_FILE});return Pt}catch(Mt){return lO("decrypt file buffer error.",{name:ct,size:we.byteLength},Mt),Promise.reject(Mt)}})));return new Blob(ee,{type:_Ze(ct)})}catch{return null}})(B.response,(_e=x.file)===null||_e===void 0?void 0:_e.name,Fe);var Oe,F;De&&((Oe=x.file)!==null&&Oe!==void 0&&Oe.download.blob?Object.assign(oe,{fileBlob:De}):(function(we,ct){const rt=document.createElement("a"),gt=window.URL.createObjectURL(we);rt.href=gt,rt.download=ct,rt.click(),window.URL.revokeObjectURL(gt)})(De,(F=x.file)===null||F===void 0?void 0:F.name))}return(oe.progress>0||z==="download_loadstart")&&it(tJ,oe),K})),Cm((B=>(console.warn(B),lO(`download file error. file url:${P}`,{name:void 0,size:void 0},B),it(tJ,{...Ame(x),progress:0,status:Z_.Fail}),za(Ff({id:i,fileUrl:P,download:{status:Z_.Fail,progress:0}}))))))}return Eo})(o.payload.id,e,n))))});function x2(e,n){var o,i,c;const{meeting:{isMeetingReset:d,meetingId:p,meetingNumber:v,userName:S,userEmail:_,tid:x,userId:P,userGUID:B,isRlbTP:z},breakoutRoom:U}=e;let H="";var K;return H=d?U!=null&&(K=U.currentRoom)!==null&&K!==void 0&&K.boConfId?"join breakout room":"meeting failover":"join meeting",{label:H,payload:{meetingId:(o=n?.meetingId)!==null&&o!==void 0?o:p,tid:x,userId:(i=n?.userId)!==null&&i!==void 0?i:P,userGUID:(c=n?.userGUID)!==null&&c!==void 0?c:B,isRlbTP:z,meetingNumber:Uf(v),userName:Uf(S),userEmail:Uf(_)}}}function xv(e,n,o){return $O(hi((i=>{let c=!1;try{var d,p;const{logger:{options:v},meeting:{logConfig:S}}=n.value;c=(d=v?.enable)!==null&&d!==void 0?d:(p=JSON.parse(S||"{}"))===null||p===void 0?void 0:p.enable}catch{}try{if(c){const{logger:{isLaplaceInitialized:v}}=n.value;if(!v)return e.pipe(Fo(`${kee}`),Yr(1),nn((S=>(S.payload&&o(i),Eo))));o(i)}}catch(v){console.warn(v)}return Eo})))}function cO(e,n,o,i){return ir(e,o).pipe(xv(e,n,i))}function B3(e,n,o,i){return Ro(e,o).pipe(xv(e,n,i))}function jbe(e){var n,o;const{audio:{activeMicrophone:i,activeSpeaker:c,microphoneDevicesList:d,speakerDevicesList:p}}=e;return`microphone: [${i} - ${d==null||(n=d.find((v=>v.deviceId===i)))===null||n===void 0?void 0:n.label}]; speaker: [${c} - ${p==null||(o=p.find((v=>v.deviceId===c)))===null||o===void 0?void 0:o.label}]`}function EBe(e){var n;const{video:{activeCamera:o,cameraDevicesList:i}}=e;return`camera: [${o} - ${i==null||(n=i.find((c=>c.deviceId===o)))===null||n===void 0?void 0:n.label}]`}function P5(e,n){return n!==void 0?` ,${e}:${n}`:""}const{InitSuccessAudio:LZe,InitFailedAudio:BZe,InitSuccessVideo:VZe,InitFailedVideo:FZe,InitSuccessSharing:HZe,InitFailedSharing:$Ze}=Gn,{DecodeSuccess:qAe,DecodeFailed:ZAe,EncodeSuccess:KAe,EncodeFailed:YAe}=pg,UZe={[`${LZe}`]:{name:"Audio",isException:!1},[`${BZe}`]:{name:"Audio",isException:!0},[`${VZe}`]:{name:"Video",isException:!1},[`${FZe}`]:{name:"Video",isException:!0},[`${HZe}`]:{name:"Sharing",isException:!1},[`${$Ze}`]:{name:"Sharing",isException:!0}};function zZe(e){const n=(e??"").split("-");return[...new Set(n)].map((o=>({reason:o,count:n.filter((i=>o===i)).length})))}let Rb=(function(e){return e[e.Success=0]="Success",e[e.MeetingIsOver=6]="MeetingIsOver",e[e.UserFull=9]="UserFull",e[e.MeetingLocked=12]="MeetingLocked",e[e.WebinarBlockedEmail=3033]="WebinarBlockedEmail",e[e.MeetingNotStarted=3008]="MeetingNotStarted",e[e.MeetingHasClosed=103003]="MeetingHasClosed",e[e.UserHasBeenRemoved=103039]="UserHasBeenRemoved",e[e.MMRIBReject=103043]="MMRIBReject",e[e.MMRConfParticipantExists=103044]="MMRConfParticipantExists",e})({}),H_=(function(e){return e[e.Unknown=0]="Unknown",e[e.Normal=1]="Normal",e[e.Userrequest=2]="Userrequest",e[e.SdkConnection=3]="SdkConnection",e[e.Reconnect=5]="Reconnect",e[e.PtRequest=6]="PtRequest",e[e.KickedByHost=7]="KickedByHost",e[e.EndByHost=8]="EndByHost",e[e.EndByHostStartAnotherMeeting=9]="EndByHostStartAnotherMeeting",e[e.FreeMeetingTimeout=10]="FreeMeetingTimeout",e[e.JBHTimeout=11]="JBHTimeout",e[e.EndBySingleStatus=12]="EndBySingleStatus",e[e.WebinarNeedRegister=13]="WebinarNeedRegister",e[e.ArchiveFail=14]="ArchiveFail",e[e.EndByNone=15]="EndByNone",e[e.EndByAdmin=16]="EndByAdmin",e[e.DuplicateSession=17]="DuplicateSession",e[e.MeetingTransfer=18]="MeetingTransfer",e})({}),jZe=(function(e){return e[e.WaitingRoomFailover=1]="WaitingRoomFailover",e[e.WebEndAndRejoin=2]="WebEndAndRejoin",e})({}),dE=(function(e){return e[e.Success=0]="Success",e[e.CommonError=200]="CommonError",e[e.WrongPasscode=3004]="WrongPasscode",e[e.RoleTypeMissing=3010]="RoleTypeMissing",e[e.InvalidParameter=4003]="InvalidParameter",e})({}),mu=(function(e){return e[e.Success=0]="Success",e[e.AnotherMeetingInProgress=3e3]="AnotherMeetingInProgress",e[e.MeetingNotExist=3001]="MeetingNotExist",e[e.NotHost=3003]="NotHost",e[e.WrongPasscode=3004]="WrongPasscode",e[e.MissingEmail=3005]="MissingEmail",e[e.MeetingNotStarted=3008]="MeetingNotStarted",e[e.UserHasBeenRemoved=3009]="UserHasBeenRemoved",e[e.RoleTypeMissing=3010]="RoleTypeMissing",e[e.WebinarEnforceLogin=3034]="WebinarEnforceLogin",e[e.RealNameMissing=3082]="RealNameMissing",e[e.RegisterRequired=3099]="RegisterRequired",e[e.SsoLoginWindow=6024]="SsoLoginWindow",e[e.ZoomLoginWindow=3051]="ZoomLoginWindow",e[e.ZoomSpecificLoginWindow=3052]="ZoomSpecificLoginWindow",e[e.LoginRequired=3100]="LoginRequired",e[e.Reconnecting=4e3]="Reconnecting",e[e.Disconnect=4001]="Disconnect",e[e.InvalidParameter=4003]="InvalidParameter",e[e.DeniedRegisterWithPanelist=3032]="DeniedRegisterWithPanelist",e[e.ServiceOffline=403]="ServiceOffline",e[e.RwcEmpty=3621]="RwcEmpty",e[e.RwcError=3622]="RwcError",e[e.FrequentCall=3633]="FrequentCall",e[e.FrequentJoin=3634]="FrequentJoin",e[e.WasmFail=3635]="WasmFail",e[e.CommonError=200]="CommonError",e[e.Upgrade=1e4]="Upgrade",e})({});mu.Success,mu.RegisterRequired,mu.LoginRequired,mu.SsoLoginWindow,mu.ZoomLoginWindow,mu.ZoomSpecificLoginWindow,mu.MissingEmail,mu.MeetingNotExist,mu.NotHost,mu.WrongPasscode,mu.RoleTypeMissing,mu.AnotherMeetingInProgress,mu.MeetingNotStarted,mu.InvalidParameter,mu.Reconnecting,mu.UserHasBeenRemoved,mu.WebinarEnforceLogin,mu.Disconnect,mu.DeniedRegisterWithPanelist,mu.RwcEmpty,mu.RwcError,mu.FrequentCall,mu.FrequentJoin,mu.WasmFail,mu.Upgrade;const XAe={3004:{"incorrect passcode":3004},3005:{"apac.errorcodes_web_has_in_progress":3e3},3008:{"apac.errorcodes_not_start":3008},3027:{"apac.errorcodes_host_email_as_attendee":3627},3033:{"apac.errorcodes_denied_email":3620},1005:{"apac.errorcodes_no_response_from_web":3621},131005:{"apac.errorcodes_no_response_from_web":3621},1001:{"apac.errorcodes_host_inactive":3625},131001:{"apac.errorcodes_host_inactive":3625},131013:{"meeting ended":4004},103039:{"user has been removed":3009},6:{"meeting ended":4004},9:{"meeting is at capacity":4005},12:{"meeting locked":4006},103043:{"reject for information barriers":4007},103044:{"participant exist":4008}};function cE(e,n){let o={code:200};if(XAe[e]!==void 0){const i=XAe[e],c=Object.keys(i)[0];return o={code:i[c],i18nKey:c},{reason:c.startsWith("apac")?"":c,errorCode:o.code}}return{errorCode:200,reason:"connection error"}}const ym=qf.getInstance(),Tme=()=>{if("connection"in navigator){const{effectiveType:e,rtt:n,downlink:o}=navigator.connection;ym.makeLogger(["Network Connection Type"]).info(`Network connection. ect:${e},rtt:${n},downlink:${o}`)}},Gx=qf.getInstance().makeLogger(["Remote Control"]),JAe=_m(Ls.getInstance()),WZe=[{event:Gn.AudioBridgeReconnectStart,message:E2.AudioBridgeReconnectStart,logType:"info",additionalTags:["Audio Join Flow"]},{event:Gn.AudioBridgeReconnectEnd,message:E2.AudioBridgeReconnectEnd,logType:"info",additionalTags:["Audio Join Flow"]},{event:Gn.UserGrantCaptureAudio,message:e=>`${E2.DeviceAudioStreamCaptured},${jbe(e)}`,logType:"info",additionalTags:["Audio Capture Flow"]},{event:Gn.JoinComputerAudioComplete,message:E2.AudioJoinComplete,logType:"info",additionalTags:["Audio Join Flow"]},{event:Gn.LeaveComputerAudioComplete,message:E2.AudioLeaveComplete,logType:"info",additionalTags:["Audio Join Flow"]},{event:Gn.JoinSharingAudioComplete,message:E2.SharingAudioStartComplete,logType:"info",additionalTags:["Audio Sharing Flow"]},{event:Gn.LeaveSharingAudioComplete,message:E2.SharingAudioStopComplete,logType:"info",additionalTags:["Audio Sharing Flow"]}],GZe=[{event:Gn.StartVideoCaptureSuccess,message:e=>`${w2.StartCaptureVideoSuccess}, ${EBe(e)}`,logType:"info",additionalTags:["Video Join Flow"]},{event:Gn.StopVideoCaptureSuccess,message:w2.StopCaptureVideoSuccess,logType:"info",additionalTags:["Video Join Flow"]},{event:Gn.StartVideoStreamInVbSettingSuccess,message:w2.VBSettingSuccess,logType:"info",additionalTags:["Video VB Flow"]},{event:Gn.VbModelPreloadingOk,message:w2.VBPreloadSuccess,logType:"info",additionalTags:["Video VB Flow"]},{event:Gn.VbModelPreloading_3S,message:w2.VBPreloading3S,logType:"warn",additionalTags:["Video VB Flow"]},{event:Gn.VbModelPreloading_10S,message:w2.VBPreloading10S,logType:"warn",additionalTags:["Video VB Flow"]},{event:Gn.VbSettingParaError,message:w2.VBSettingFailed,logType:"error",additionalTags:["Video VB Flow"]}],QAe=WZe.map((e=>({...e,tag:"Audio"}))).concat(GZe.map((e=>({...e,tag:"Video"})))),Tb=qf.getInstance(),{InitSuccessVideo:qZe,InitSuccessAudio:ZZe,InitSuccessSharing:KZe,InitFailedVideo:YZe,InitFailedAudio:XZe,InitFailedSharing:JZe,AudioCaptureFailed:eTe,AudioWebsocketBroken:QZe,AudioZeroData:tTe,UserForbiddedCaptureVideo:nTe,UserCameraIsTakenByOtherPrograms:oTe,VideoWebsocketBroken:eKe,StopVideoCaptureFailed:tKe,DesktopSharingPermissionDenied:nKe,DesktopSharingSystemError:sTe,AudioSpeakerSetError:rTe,VbSettingParaError:oKe,MaskSettingParaError:sKe,WebglLostInMultiView:rKe,VideoStreamFailed:iTe,AudioStreamFailed:aTe,NotifyUIFailover:iKe,RecaptureAudio:lTe,WorkletProcessExceptions:aKe}=Gn,lKe=Ls.getInstance(),O2=qf.getInstance(),xme={options:void 0,isLaplaceInitialized:!1,isLogDetailed:!0},cKe=wm({[`${G1e}`]:pt(((e,{payload:n})=>{e.options=n})),[`${kee}`]:pt(((e,{payload:n})=>{e.isLaplaceInitialized=n})),[`${oBe}`]:pt(((e,{payload:n})=>{e.isLogDetailed=n})),[`${sBe}`]:({options:e,isLogDetailed:n},{payload:o})=>o?{...xme,isLogDetailed:n,options:e}:{...xme}},xme),uKe={mlEpics0:(e,n)=>ir(e,[qZe,ZZe,KZe,YZe,XZe,JZe]).pipe(xv(e,n,(o=>{const{payload:{type:i,data:c}}=o,{meeting:{userId:d}}=n.value,p=(function(v,S){const _=UZe[`${v}`];if(_){const{name:x,isException:P}=_,B=[x,`${x} Init Flow`];P&&B.push(`${x} exception flow`);let z="";return[qAe,ZAe].includes(S)&&(z=`${z} decode`.trim()),[KAe,YAe].includes(S)&&(z=`${z} encode`.trim()),[KAe,qAe].includes(S)&&(z=`${z} success`.trim()),[ZAe,YAe].includes(S)&&(z=`${z} failed`.trim()),{message:`init ${x.toLowerCase()} ${z}`,tags:B,isException:P}}return null})(i,c);if(p){const{message:v,tags:S,isException:_}=p;_?Tb.report(`${v}. userId:${d}`,S):Tb.makeLogger(S).info(v)}}))),mlEpics1:(e,n)=>cO(e,n,QAe.map((o=>o.event)),(o=>{const{payload:{type:i}}=o,c=QAe.find((d=>d.event===i));if(c){const{message:d,logType:p,additionalTags:v,tag:S}=c;let _=d;typeof d=="function"?window.setTimeout((()=>{_=d(n.value),Tb.makeLogger([S])[p](_,v)}),0):_&&Tb.makeLogger([S])[p](_,v)}})),mlEpics2:(e,n)=>e.pipe(Fo(`${d4}`),yn((o=>!o.payload)),xv(e,n,(()=>{Tb.makeLogger(["Audio"]).warn(`Auto play audio failed,${jbe(n.value)}`)}))),mlEpics3:(e,n)=>cO(e,n,iKe,(o=>{Tb.report(`WebRTC notify ui failover, subreason:${JSON.stringify(o.payload.data)}`,["Audio exception flow"])})),mlEpics4:(e,n)=>cO(e,n,[eTe,QZe,tTe,rTe,aTe,lTe,aKe],(o=>{const{payload:{type:i,data:c}}=o;let d=`Audio error case:${i}`;var p,v;i===eTe?d=`Audio capture failed. errorCode:${c?.errorCode}, message:${c?.errorMessage}, error:${c==null||(p=c.error)===null||p===void 0?void 0:p.name} ${c==null||(v=c.error)===null||v===void 0?void 0:v.message}.`:i===tTe?n.value.audio.webrtcRestartCount<3&&(d="audio capture zero data, auto failover"):i===rTe?d=`audio change speaker error. errorCode:${c?.errorCode}, message:${c?.errorMessage}.`:i===aTe?d="audio stream ended or muted, stop capture audio":i===lTe&&(d="audio muted after switching from background, try to recapture audio"),Tb.report(`${d},${jbe(n.value)}`,["Audio exception flow"])})),mlEpics5:(e,n)=>cO(e,n,[nTe,oTe,eKe,tKe,iTe],(o=>{const{payload:{type:i,data:c}}=o;let d=`Video error case:${i}`;if(i===nTe)d="Video capture is forbidden by the user"+(c?` (error name:${c?.name};error message:${c?.message})`:"");else if(i===oTe)d="Camera is taken by other programs"+(c?` (error name:${c?.name};error message:${c?.message})`:"");else if(i===oKe){var p;d=`VB setting error, param:${JSON.stringify((p=n.value.video.virtualBackground)!==null&&p!==void 0?p:{})}`}else if(i===sKe){var v;d=`Mask setting error, param:${JSON.stringify((v=n.value.video.mask)!==null&&v!==void 0?v:{})}`}else i===iTe&&(d=`Video stream ended or muted, if it is on iOS platform, will stop capture video.platform:${Zo.browser}`);Tb.report(`${d},${EBe(n.value)}`,["Video exception flow"])})),mlEpics6:(e,n)=>cO(e,n,[nKe,sTe],(o=>{const{payload:{type:i}}=o;let c="";i===sTe?Zo.isMacOS&&(c="Need to allow screen recording access in system setting on MacOS"):c="Need to allow the permission request",Tb.report(`${c}`,["Sharing exception flow"])})),mlEpics7:(e,n)=>cO(e,n,rKe,(o=>{const{payload:{data:i}}=o,{video:{renderedVideoList:c}}=n.value;if(i!=null&&i.canvasId){const d=c.filter((p=>p.canvasId===i.canvasId));Tb.report(`WebGl Context lost, canvas ID:${i.canvasId}, affected video node Ids:${d.map((p=>p.userId)).join(",")}`,["Video exception flow"])}})),mlEpics8:(e,n)=>Xd(document,"visibilitychange").pipe(xv(e,n,(()=>{if(Tb.makeLogger(["Video"]).log(`Page visibility ${document.visibilityState} `),document.visibilityState=="hidden"&&Zo.isAndroidOrIOSBrowser){const{logger:{isLogDetailed:o,isLaplaceInitialized:i}}=n.value;o&&i&&Tb.reportToGlobalTracing(void 0,!0,!0)}setTimeout((()=>{const o=document.visibilityState!=="visible",{video:{subscribedVideoList:i},meeting:{userId:c}}=n.value,d=i.filter((p=>p!==c)).length>0;o&&d&&(Qi.createAgent().sendRWGConnectionPerformance("VCSV"),Tb.makeLogger(["Video"]).warn("Still subscribing videos after switching to background"))}),1e3)}))),mlEpics9:e=>ir(e,Gn.InitSuccessVideo).pipe(yn((n=>n.payload.data===pg.EncodeSuccess&&Zo.isAndroidOrIOSBrowser)),hi((()=>{const n=Tb.makeLogger(["Video"]);return n.info("Screen orientation: "+(UPe()?"landscape":"portrait")),zPe().pipe(Bo((o=>{n.info("Screen orientation changes, current orientation: "+(o?"landscape":"portrait"))})),Eg())})))},dKe={rmclEpics0:(e,n)=>e.pipe(Fo(`${L1e}`),xv(e,n,(o=>{const{payload:{isRemoteControlEnabled:i,isEnableAutoDeleteRcApp:c}}=o;Gx.log(`isRemoteControlEnabled:${i},auto delete:${c}`)}))),rmclEpics1:(e,n)=>e.pipe(Fo(`${bE}`),yn((o=>!!o.payload)),xv(e,n,(o=>{let i=o.payload;try{const c=new URL(i),d=c.searchParams.get("accountID");d&&(c.searchParams.set("accountID",Uf(d)),i=c.toString()),Gx.log(`Launch Remote control app, scheme:${i}`)}catch{}}))),rmclEpics2:(e,n)=>e.pipe(Fo(`${w6}`),yn((o=>!!o.payload)),xv(e,n,(o=>{Gx.log(`Remote control session starts, controlling ssrc:${o.payload}`)}))),rmclEpics3:(e,n)=>B3(e,n,16430,(()=>{Gx.log("Remote control app connected to rwg.")})),rmclEpics4:(e,n)=>B3(e,n,abe,(()=>{Gx.log("Remote control app disconnected to rwg.")})),rmclEpics5:(e,n)=>B3(e,n,abe,(o=>{const{share:{status:i,isRemoteControlEnabled:c}}=n.value;c&&i!==Zr.End&&o.payload.body.bOn&&Gx.log(`Remote control sharing device info.${JSON.stringify(JAe.getShareStreamInfo())}`)})),rmclEpics6:(e,n)=>cO(e,n,Gn.CurrentDesktopSharingWidthHeight,(()=>{const{share:{isRemoteControlEnabled:o}}=n.value;o&&Gx.log(`Remote control sharing device info changes.${JSON.stringify(JAe.getShareStreamInfo())}`)})),rmclEpics7:(e,n)=>cO(e,n,Gn.SendRemoteControlQrCode,(o=>{const{share:{status:i}}=n.value,{payload:{data:c}}=o;Gx.log(`Remote control QR code result. sharing status:${i}, result${JSON.stringify(c)}`)}))},hKe={epics0:(e,n)=>e.pipe(Fo(`${Mv}`),nn((async o=>{const{meeting:{logConfig:i,logEncryptionPubKey:c,zlkJwtToken:d,accountId:p,enableAutoLog:v,collectionToggleEnable:S,zsk:_,isUIToolkit:x},logger:{options:P}}=n.value;let B=P||{};if(i)try{const{enable:z,enableReport:U}=JSON.parse(i);B={...B,enable:z,enableReport:U}}catch{}if(d){const{telemetry_tracking_id:z}=CA(d),{payload:{meetingId:U}}=o;B={...B,enable:!0,enableReport:!0,trackingId:z??U}}else{let z=!1;z=_&&S!==void 0?!(v&&S):!v,ei.set(ULe.DisableAutoReportLogs,z,ba.Memory)}return ym.init({...B,logConfig:i,logEncryptionPubKey:c,accountId:p,isUIToolkit:x}).then((()=>[kee(!0),G1e(B)])).catch((()=>[kee(!1)]))})),nn((o=>Kn(o)))),epics1:(e,n)=>B3(e,n,Ate,(o=>{var i,c,d,p;const{payload:{body:v}}=o;if(v&&v.res===Rb.Success){ym.makeLogger(["A/V Performance Info"]).info(`CPU cores:${navigator.hardwareConcurrency}, SharedArrayBuffer:${!!Zo.isSupportSharedArrayBuffer},
          OffscreenCanvas:${!!Zo.isSupportOffscreenCanvas}, browser:${Zo.browser} ${Zo.browserVersion}, OS:${Zo.os} ${Zo.osVersion}${P5("wow64",Zo.wow64)}${P5("GPU",Zo.gpu)}${P5("architecture",Zo.architecture)}${P5("bitness",Zo.bitness)}${P5("model",Zo.model)}`,["CPU_CORES"]);const{media:{enforceMultipleVideos:on,enforceVirtualBackground:nt,assetsPath:Mt,disableRenderLimits:Pt},meeting:{stayAwake:st,quicklyLeave:vn}}=n.value;ym.makeLogger(["Init Option"]).info(`Init option:${JSON.stringify({enforceMultipleVideos:on,disableRenderLimits:Pt,enforceVirtualBackground:nt,assetsPath:Mt,stayAwake:st,leaveOnPageUnload:vn})}`),"connection"in navigator&&(Tme(),navigator.connection.addEventListener("change",Tme))}else ym.report(`join meeting failed, error:${JSON.stringify(cE(v?.res))}, rwg error code:${v?.res}, rwg conID:${v?.conID}, error message:${v?.error_desc}, rwg url:${v?.svcUrl},mid:${n.value.meeting.meetingId}`,"JOIN_MEETING_FAILED","error");const{meeting:{meetingInfoTimestamp:S,pingRWCTimestamp:_,tid:x,meetingId:P,topic:B,accountId:z,cv:U,zlkJwtToken:H,websdkClientFeatureOptions:K},socket:{rwgServerList:oe,retryCount:ce},video:{rendererType:re},media:{patchJsMedia:ye,assetsPath:_e},audio:{isWebRtcAudioCapable:Oe},logger:{isLogDetailed:F}}=n.value;let Me=["conID","confID","mmrFeature","mmrFeatureEx","reportDomain","res","role","svcUrl","userID","userGUID","useWBVideo","useWBAudio"].reduce(((on,nt)=>v[nt]!==void 0?{...on,[`${nt}`]:v[nt]}:on),{});Me=["jid","mn","participantID"].reduce(((on,nt)=>v[nt]!==void 0?{...on,[`${nt}`]:Uf(v[nt])}:on),Me),Me.response=Me.res,delete Me.res;const ot=["connection_info_map"];let Fe;if(v.res===Rb.Success&&ot.push("Command Socket Event","User Info Map"),x){const on=x.match(/clid=(\S+);/);on&&on.length>1&&(Fe=on[1])}const De=Math.floor(performance.now()-S),we=Math.floor(performance.now()-_);let[ct,rt]=[void 0,void 0];if(H){var gt;const{enforce_web_rtc_audio:on,audio_compatible_mode:nt,audio_webrtc_mode:Mt,video_webrtc_mode:Pt}=CA(H);ct=(gt=Mt??nt)!==null&&gt!==void 0?gt:on,rt=Pt}const ee=Qi.createAgent();ym.report(JSON.stringify({...Me,tid:x,mid:P,userRegion:Fe,rwgUrl:oe.length>0?(i=oe[ce])===null||i===void 0?void 0:i.rwg:void 0,hardwareConcurrency:navigator.hardwareConcurrency,sharedArrayBuffer:Zo.isSupportSharedArrayBuffer,OffscreenCanvas:Zo.isSupportOffscreenCanvas,browserVersion:`${Zo.browser} ${Zo.browserVersion}`,osVersion:`${Zo.os} ${Zo.osVersion}`,gpu:Zo.gpu,architecture:Zo.architecture,model:Zo.model,bitness:Zo.bitness,wow64:Zo.wow64,totalDurationOfJoining:De,durationOfRWG:we,rendererType:re,sdkVersion:U,mediaSdkVersion:(c=window.JsMediaSDK_Instance)===null||c===void 0?void 0:c.version,topic:B?Uf(B):void 0,accountId:z?Uf(z):void 0,patchJSMediaSDK:ye,dependentAssets:_e,webRtcAudio:Oe,crossOriginIsolated:!!window.crossOriginIsolated,jwtAudio:ct,jwtVideo:rt,isRlbTP:(d=ee.websocket)===null||d===void 0?void 0:d.isRlb,abOption:K,logDetail:F}),ot,"info"),ee.sendRWGConnectionPerformance(`WCL_M, conId: ${v?.conID}, trackingId: ${(p=n.value.logger)===null||p===void 0||(p=p.options)===null||p===void 0?void 0:p.trackingId}, JOINFS(${De}), JOINFRWC(${we})`)})),epics2:(e,n)=>e.pipe(Fo(`${h1e}`),Qo(n),yn((([,o])=>o.meeting.encryptedRWC===void 0&&(o.meeting.encryptedGEORWC===void 0||o.meeting.encryptedGEORWC.length===0))),xv(e,n,(()=>{const{label:o,payload:i}=x2(n.value);ym.report(`${o} ${JSON.stringify(i)}`,["Join Meeting Flow","Ping RWC Domain Empty"],"error")}))),epics3:(e,n)=>e.pipe(Fo(`${wg}`),yn((o=>o.payload===Qh.OnError||o.payload===Qh.Disconnect||o.payload===Qh.NoHeartbeat)),xv(e,n,(o=>{var i;const{payload:c}=o,{socket:{rwgServerList:d,retryCount:p}}=n.value,{payload:v}=x2(n.value);ym.report(`websocket unexpected disconnected,${JSON.stringify({code:c,rwgHost:(i=d[p])===null||i===void 0?void 0:i.rwg,...v})}`,["Join Meeting Flow","RWG Disconnect"])}))),epics4:(e,n)=>e.pipe(Fo(`${ree}`),xv(e,n,(o=>{const{payload:{reason:i,count:c,interval:d,sequence:p,userId:v,userGUID:S,meetingId:_}}=o,{payload:x}=x2(n.value,{meetingId:_,userId:v,userGUID:S});ym.report(`meeting failover,${JSON.stringify({reason:i,count:c,interval:d,sequence:p,detailed:zZe(p),...x})}`,["Join Meeting Flow","Failover"]),"connection"in navigator&&navigator.connection.removeEventListener("change",Tme)}))),epics5:(e,n)=>e.pipe(Fo(`${C6}`),yn((o=>o.payload.status===Pa.Connecting)),xv(e,n,(o=>{const{payload:{rwgUrl:i}}=o;let c=i.replace(/(\d+)\?/,`${Uf("$1")}?`);c=["email","zoomid","participantID","dn2","customer_key","mpwd","topic"].reduce(((p,v)=>p.indexOf(v)>-1?p.replace(new RegExp(`${v}=([^&]+)`,"g"),`${v}=${Uf("$1")}`):p),c);const{payload:d}=x2(n.value);ym.makeLogger(["Join Meeting Flow"]).info(`RWG URL,${JSON.stringify({rwgUrl:c,...d})}`,["RWG Url"])}))),epics6:(e,n)=>e.pipe(Fo(`${qy}`),yn((o=>{const{payload:i}=o;return i?i.retry:n.value.meeting.meetingStatus===_h.Initial})),xv(e,n,(()=>{const{meeting:{meetingStatus:o},socket:{rwgServerList:i,retryCount:c}}=n.value;if(o!==_h.Joined){const{payload:d}=x2(n.value),p=i?.length>0?i[c]:void 0;ym.report(JSON.stringify({...d,rwc:p?.rwc,rwg:p?.rwg}),["UNAVAILABLE_RWG"])}}))),epics7:(e,n)=>B3(e,n,1,(o=>{const{payload:{body:i}}=o;ym.report(`join meeting failed, version blocked. Current version:${n.value.meeting.cv},upgrade version:${i?.upgradeVersion}`,"JOIN_MEETING_FAILED","error")})),epics8:(e,n)=>B3(e,n,2,(()=>{ym.report(`join meeting with low version of SDK. Current version:${n.value.meeting.cv}.`,"Join Meeting Flow","warn")})),epics9:(e,n)=>e.pipe(Fo(`${oee}`,`${a4}`),hi((()=>wa(Yu,1).pipe(Bo((o=>{try{const{code:i,reason:c,errorCode:d}=o??{},{payload:p}=x2(n.value);ym.report(`Connection change with join meeting failed. payload:${JSON.stringify({code:i,reason:c,errorCode:d})}. meeting info:${JSON.stringify(p)}`,"JOIN_MEETING_FAILED","error")}catch{}})),nn((()=>Eo)))))),epics10:(e,n)=>e.pipe(Fo(`${qy}`),yn((o=>{var i;return!((i=o.payload)!==null&&i!==void 0&&i.retry)})),xv(e,n,(()=>{const{logger:{isLogDetailed:o,isLaplaceInitialized:i}}=n.value;i&&o&&ym.reportToGlobalTracing(void 0,!0)}))),epics11:(e,n)=>e.pipe(Fo(`${TE}`),yn((()=>!!n.value.logger.isLogDetailed)),hi((()=>Xd(window,"beforeunload").pipe(Bo((()=>{const{logger:{isLaplaceInitialized:o}}=n.value;o&&ym.reportToGlobalTracing(void 0,!0,!0)})),Eg())))),epics12:(e,n)=>e.pipe(Fo(`${iee}`),xv(e,n,(o=>{const{payload:i}=o,{payload:c}=x2(n.value);ym.report(`XMPP Socket retry, count:${i},meeting info:${JSON.stringify(c)}`,["Join Meeting Flow","XMPP Socket Retry"])})))},fKe=xg(hKe,dKe,uKe),pKe=Qi.createAgent(),cTe={cmrStatus:Ed.Stop,recordingEnable:!1,recordingIsoEnable:!1,allowStopAutoRecording:!1,automaticCloudRecordingEnable:!1,isZoomIQ:!1,zoomIQChanging:!1,localStatus:W6.Stop,supportLocalRecording:Tv.None,localGrantPermissionOption:G7e.None,localPermissionUserList:[]},mKe=wm({[`${I4e}`]:pt(((e,{payload:n})=>{e.cmrStatus=n})),[`${R4e}`]:pt(((e,{payload:n})=>{e.recordingEnable=n})),[`${k4e}`]:pt(((e,{payload:n})=>{e.recordingIsoEnable=n})),[`${D4e}`]:pt(((e,{payload:n})=>{e.allowStopAutoRecording=n})),[`${M4e}`]:pt(((e,{payload:n})=>{e.automaticCloudRecordingEnable=n})),[`${z1e}`]:pt(((e,{payload:n})=>{e.isZoomIQ=n})),[`${j1e}`]:pt(((e,{payload:n})=>{e.zoomIQChanging=n})),[`${W1e}`]:pt(((e,{payload:n})=>{e.localStatus=n})),[`${Fbe}`]:pt(((e,{payload:n})=>{e.supportLocalRecording=n})),[`${P4e}`]:pt(((e,{payload:n})=>{e.localGrantPermissionOption=n})),[`${L3}`]:pt(((e,{payload:n})=>{e.localPermissionUserList=n})),[`${N4e}`]:()=>({...cTe})},cTe);var uTe,dTe,hTe,fTe,pTe,mTe,gTe,vTe,qc;const mS=Qi.createAgent(),N5=Np("Recording");let gKe=(uTe=Do("recording"),dTe=Do("recording"),hTe=Do("recording"),fTe=Do("recording"),pTe=Do("recording"),mTe=Do("recording"),gTe=Do("recording"),vTe=Do("recording"),qc=class extends FS{startRecording(){const e=this[qo](),{meeting:{bIbDisableRecording:n,recordingEnable:o},recording:{cmrStatus:i}}=e;return n?Promise.reject({type:ln,reason:"Rejected by Information Barrier",errorCode:at.RECORDING_ACCOUNT_DISABLE}):o?i===Ed.Start?Promise.resolve(""):(mS.recordMeeting(!0,!1),vr(p6,(c=>c.cmrServerStatus===Ed.Start))):Promise.reject({type:ln,reason:"The account of the meeting disabled the cloud recording",errorCode:at.RECORDING_ACCOUNT_DISABLE})}pauseRecording(){const e=this[qo](),{recording:{cmrStatus:n,allowStopAutoRecording:o}}=e;return n===Ed.Pause?Promise.resolve(""):n!==Ed.Start?Promise.reject({type:ln,reason:"Recording is not started",errorCode:at.RECORDING_MISMATCH_STATE}):o?(mS.recordMeeting(!1,!0),vr(p6,(i=>i.cmrServerStatus===Ed.Pause))):Promise.reject({type:ln,reason:"Cannot pause cloud recording due to web setting config",errorCode:at.RECORDING_STOP_FORBIDDEN})}stopRecording(){const e=this[qo](),{recording:{cmrStatus:n,allowStopAutoRecording:o}}=e;return n===Ed.Stop?Promise.resolve(""):o?(mS.recordMeeting(!1,!1),vr(p6,(i=>i.cmrServerStatus===Ed.Stop))):Promise.reject({type:ln,reason:"Cannot stop cloud recording due to web setting config",errorCode:at.RECORDING_STOP_FORBIDDEN})}accept(){const e=this[qo](),{recording:{cmrStatus:n,recordingIsoEnable:o}}=e,i=us(e);return o?n!==Ed.Start&&n!==Ed.Pause?Promise.reject({type:ln,reason:"Recording is not started",errorCode:at.RECORDING_MISMATCH_STATE}):i!=null&&i.bAllowISORecord?Promise.resolve("You accepted ISO recording"):(mS.allowSelfRecord(!0),vr(AQ,(c=>c?.userId===i?.userId&&c?.status===AS.Accept))):Promise.reject({type:ln,reason:"ISO Recording is not enabled",errorCode:at.RECORDING_ISO_DISABLE})}decline(){const e=this[qo](),{recording:{cmrStatus:n,recordingIsoEnable:o}}=e,i=us(e);return o?n!==Ed.Start&&n!==Ed.Pause?Promise.reject({type:ln,reason:"Recording is not started",errorCode:at.RECORDING_MISMATCH_STATE}):i?.bAllowISORecord===!0?Promise.reject({type:ln,reason:"You had accept ISO recording, cant change it",errorCode:at.RECORDING_MISMATCH_STATE}):(mS.allowSelfRecord(!1),Promise.resolve("")):Promise.reject({type:ln,reason:"ISO Recording is not enabled",errorCode:at.RECORDING_ISO_DISABLE})}getRecordingStatus(){const e=this[qo](),{recording:{cmrStatus:n}}=e,o=dWe(e);return n===Ed.Start?AS.Recording:n===Ed.Pause?AS.Paused:o?AS.Recording:AS.Stopped}isRecordingEnabled(){const e=this[qo](),{recording:{recordingEnable:n}}=e;return n}isAllowedToStopAutoRecording(){const e=this[qo](),{recording:{allowStopAutoRecording:n}}=e;return n}isAutomaticCloudRecordingEnabled(){const e=this[qo](),{recording:{automaticCloudRecordingEnable:n}}=e;return n}enableRecordingWithIQ(e){const{[qo]:n,[kc]:o}=this,i=n(),{recording:{isZoomIQ:c,zoomIQChanging:d},meeting:{meetingOptions:p}}=n();return p.isEnableKiwiRecording?Iv(i)?d?Promise.reject({type:ln,reason:"We are changing, please wait",errorCode:at.RECORDING_IQ_MISMATCH_STATE}):e===c?Promise.reject({type:ln,reason:`You have ${e?"enable":"disable"} Zoom IQ, don't need change`,errorCode:at.RECORDING_IQ_MISMATCH_STATE}):(o(j1e(!d)),o(z1e(!c)),mS.enableZoomIQRecord(e),vr(tMe,(v=>v?.success))):Promise.reject({type:ln,reason:"Only Host or co-host can enable/disable Zoom IQ",errorCode:at.RECORDING_IQ_PERMISSION_REQUIRED}):Promise.reject({type:ln,reason:"You not have zoom IQ license or not enable zoom IQ, please check and retry",errorCode:at.RECORDING_IQ_DISABLE})}isSupportLocalRecording(){const e=this[qo](),{meeting:{meetingOptions:n,isWebinar:o},breakoutRoom:i}=e;if(i?.currentRoom.status===rr.InRoom)return!1;const c=us(e);return(!o||!ef(c.userRole))&&n?.isLocalRecordingEnabled}isSupportLocalRecordingPermission(){const e=this[qo](),{recording:{supportLocalRecording:n}}=e;if(!this.isSupportLocalRecording())return!1;const o=us(e);return!(o==null||!o.isHost)||n===Tv.Allow}askLocalRecordingPermission(){const{[qo]:e}=this,{recording:{supportLocalRecording:n}}=e();return this.isSupportLocalRecording()?n===Tv.None?(mS.localRecordingRequestPermission(),Promise.resolve("")):n===Tv.Allow?Promise.resolve(""):Promise.reject({reason:"permission is denied",errorCode:at.LOCAL_RECORDING_MISMATCH_STATE}):Promise.reject({reason:"not support",errorCode:at.LOCAL_RECORDING_ACCOUNT_DISABLE})}startLocalRecording(e){const{[qo]:n,[kc]:o}=this,i=n(),{recording:{localStatus:c,supportLocalRecording:d},meeting:{userId:p}}=i;if(!(e in W6))return Promise.reject({type:ln,reason:"not support you parameter, only support type are 0(stop)/1(start)/2(pause).",errorCode:at.LOCAL_RECORDING_INVALID_VALUE});if(!this.isSupportLocalRecording())return Promise.reject({type:ln,reason:"not support local recording",errorCode:at.LOCAL_RECORDING_ACCOUNT_DISABLE});if(e===c)return Promise.resolve(`you currently status is ${c}, do nothing`);const v=us(i);return d===Tv.Allow||v!=null&&v.isHost?(mS.localRecordingMeeting(e),vr(TQ,(S=>S?.userId===p&&(o(W1e(S.bLocalRecord)),S.bLocalRecord===e)),1e3)):Promise.reject({type:ln,reason:"you not have local recording permission, please use askLocalRecordingPermission request it first",errorCode:at.LOCAL_RECORDING_MISMATCH_STATE})}isSupportLocalRecordingGrantPermission(){const e=this[qo]();if(!this.isSupportLocalRecording())return!1;const n=us(e);return!(n==null||!n.isHost)&&!!wX(n.caps)}grantLocalRecordingPermission(e,n,o){const{[qo]:i,[kc]:c}=this,d=i(),{recording:{localPermissionUserList:p}}=d;if(!this.isSupportLocalRecording())return Promise.resolve(!1);const v=us(d);if(!wX(v.caps))return Promise.reject({type:ln,reason:"you can not grant permission",errorCode:at.LOCAL_RECORDING_MISMATCH_STATE});let S=!1;if(o&&(S=!0),p.filter((_=>_===e)).length>0){if(n===Tv.Allow)mS.localRecordingGrantPermission(e,!0,S);else{if(n!==Tv.Deny)return Promise.reject({type:ln,reason:"only support DENY(1)/ALLOW(2)",errorCode:at.LOCAL_RECORDING_INVALID_VALUE});mS.localRecordingGrantPermission(e,!1,S)}return c(L3(p.filter((_=>_!==e)))),it(pE,{type:"answer",value:n===Tv.Allow}),Promise.resolve(!1)}return n!==Tv.Deny?Promise.reject({type:ln,reason:"Direct grant only support DENY(1)",errorCode:at.LOCAL_RECORDING_INVALID_VALUE}):(mS.hostGrantPermission(e,!1),vr(pE,(_=>_?.value===e&&(n===Tv.Allow?(c(L3([...p,e])),_?.canRecord===!0):(c(L3(p.filter((x=>x!==e)))),_?.canRecord===!1))),1e3))}getLocalRecordingPermissionUserList(){const e=this[qo](),{recording:{localPermissionUserList:n}}=e;if(!this.isSupportLocalRecording())return[];const o=us(e);return wX(o.caps)?n:Promise.reject({type:ln,reason:"you can not grant permission",errorCode:at.LOCAL_RECORDING_MISMATCH_STATE})}getLocalRecordingPermissionOperation(){const e=this[qo](),{recording:{localGrantPermissionOption:n}}=e;if(!this.isSupportLocalRecording())return null;const o=us(e);return wX(o.caps)?n:null}},Fn(qc.prototype,"startRecording",[vu,$n,uTe,N5],Object.getOwnPropertyDescriptor(qc.prototype,"startRecording"),qc.prototype),Fn(qc.prototype,"pauseRecording",[vu,$n,dTe,N5],Object.getOwnPropertyDescriptor(qc.prototype,"pauseRecording"),qc.prototype),Fn(qc.prototype,"stopRecording",[vu,$n,hTe,N5],Object.getOwnPropertyDescriptor(qc.prototype,"stopRecording"),qc.prototype),Fn(qc.prototype,"accept",[$n,fTe,N5],Object.getOwnPropertyDescriptor(qc.prototype,"accept"),qc.prototype),Fn(qc.prototype,"decline",[$n,pTe,N5],Object.getOwnPropertyDescriptor(qc.prototype,"decline"),qc.prototype),Fn(qc.prototype,"askLocalRecordingPermission",[$n,mTe],Object.getOwnPropertyDescriptor(qc.prototype,"askLocalRecordingPermission"),qc.prototype),Fn(qc.prototype,"startLocalRecording",[$n,gTe],Object.getOwnPropertyDescriptor(qc.prototype,"startLocalRecording"),qc.prototype),Fn(qc.prototype,"grantLocalRecordingPermission",[$n,wd,vTe],Object.getOwnPropertyDescriptor(qc.prototype,"grantLocalRecordingPermission"),qc.prototype),qc);const vKe={moduleEpics0:e=>e.pipe(Fo(`${Mv}`),So((n=>{const{payload:{recordingEnable:o}}=n;return R4e(o)}))),moduleEpics1:(e,n)=>Ro(e,Wy).pipe(yn((o=>{var i,c,d;return((i=o.payload.body)===null||i===void 0?void 0:i.cmrServerStatus)!==void 0||((c=o.payload.body)===null||c===void 0?void 0:c.disAllowClientStopAutoCmr)!==void 0||((d=o.payload.body)===null||d===void 0?void 0:d.enableAutomicRecordingCloud)!==void 0})),Qo(n),nn((([o,i])=>{const{cmrServerStatus:c,disAllowClientStopAutoCmr:d,enableAutomicRecordingCloud:p}=o.payload.body,v=[];return c!==void 0&&(c!==Ed.Init&&(it(p6,{cmrServerStatus:c}),i.recording.recordingIsoEnable&&c===Ed.Start&&it(AQ,{status:AS.Ask})),v.push(I4e(c))),d!==void 0&&v.push(D4e(!d)),p!==void 0&&v.push(M4e(p)),Kn(v)}))),moduleEpics2:e=>Ro(e,Wy).pipe(yn((n=>{var o;return((o=n.payload.body)===null||o===void 0?void 0:o.bCmrIsoEnble)!==void 0})),So((n=>{const{bCmrIsoEnble:o}=n.payload.body;return k4e(o)}))),moduleEpics3:(e,n)=>Ro(e,Vl).pipe(Qo(n),yn((([o])=>{const{payload:{body:{update:i,add:c}}}=o;return i?.some((d=>d.bLocalRecordStatus!==void 0||d.canRecord!==void 0))||c?.some((d=>d.bLocalRecordStatus!==void 0||d.canRecord!==void 0))})),nn((([o,i])=>{const{payload:{body:{update:c,add:d}}}=o,{meeting:{userId:p,isHost:v},recording:{supportLocalRecording:S},participants:{attendeesList:_}}=i,x=[];return c?.concat(d||[]).filter((P=>P.bLocalRecordStatus!==void 0||P.canRecord!==void 0)).forEach((P=>{if(P.canRecord!==void 0){const B=!!P.canRecord;if(p===P.id||v){const z=_.find((U=>U.userId===p));!B&&z!=null&&z.bLocalRecord&&(it(pE,{type:"revoke",value:P.id,canRecord:B}),pKe.localRecordingMeeting(W6.Stop)),!B||z!=null&&z.bLocalRecord||it(pE,{type:"grant",value:P.id,canRecord:B})}p===P.id&&((S!==Tv.None||B)&&x.push(Fbe(B?Tv.Allow:Tv.Deny)),B||x.push(W1e(W6.Stop)))}else it(TQ,{userId:P.id,bLocalRecord:P.bLocalRecordStatus})})),Kn(x)}))),moduleEpics4:(e,n)=>Ro(e,Vl).pipe(So((o=>cA(o.payload.body))),Qo(n),nn((([o,i])=>{const c=[],{recording:{localPermissionUserList:d}}=i;return o.remove&&o.remove.forEach((p=>{d.filter((v=>v===p?.userId))&&(c.push(L3(d.filter((v=>v!==p?.userId)))),it(pE,{type:"remove",value:p?.userId}))})),Kn(c)}))),moduleEpics5:e=>Ro(e,Vl).pipe(yn((n=>{const{payload:{body:{update:o}}}=n;return o?.some((i=>i.bAllowISORecord!==void 0))})),Bo((n=>{const{payload:{body:{update:o}}}=n;o.filter((i=>i.bAllowISORecord!==void 0)).forEach((i=>{it(AQ,{userId:i.id,status:i.bAllowISORecord?AS.Accept:AS.Decline})}))})),Ia(Eo)),moduleEpics6:e=>Ro(e,Wy).pipe(yn((n=>{var o;return((o=n.payload.body)===null||o===void 0?void 0:o.SalesRecordingAnalytics)!==void 0})),So((n=>{const{SalesRecordingAnalytics:o}=n.payload.body;return it(eMe,{isZoomIQ:o}),z1e(o)}))),moduleEpics7:(e,n)=>Ro(e,4319).pipe(Qo(n),yn((([o])=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.success)!==void 0})),nn((([o,i])=>{const c=[],{success:d}=o.payload.body,{recording:{zoomIQChanging:p}}=i;return it(tMe,{success:d}),d&&c.push(j1e(!p)),Kn(c)}))),moduleEpics8:(e,n)=>Ro(e,4344).pipe(Qo(n),yn((([o])=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.cmdType)!==void 0})),nn((([o,i])=>{var c;const d=[],{cmdType:p}=o.payload.body,{recording:{localPermissionUserList:v},meeting:{isHost:S}}=i;var _,x,P,B;return p==="permission_req_option"&&(it(pE,{type:"option",value:(_=o.payload.body)===null||_===void 0?void 0:_.option}),d.push(P4e((x=o.payload.body)===null||x===void 0?void 0:x.option))),p==="request_permission"&&(c=o.payload.body)!==null&&c!==void 0&&c.userId&&(S&&it(pE,{type:"request",value:(B=o.payload.body)===null||B===void 0?void 0:B.userId}),d.push(L3([...v,(P=o.payload.body)===null||P===void 0?void 0:P.userId]))),p==="permission_request_answer"&&(it(pE,{type:"answer",value:o.payload.body.agreed}),d.push(Fbe(o.payload.body.agreed?Tv.Allow:Tv.Deny))),Kn(d)})))},bKe=xg(vKe);let Pee=(function(e){return e[e.All=1]="All",e[e.Private=2]="Private",e})({}),wBe=(function(e){return e.SUCCESS="success",e})({}),ak=(function(e){return e.Screenshot="__zoom_internal_message_screenshot__@@",e.SpeakerOnly="__zoom_internal_message_speaker_only__@@",e})({});const yKe=Kk.getInstance(),SKe=Qi.createAgent();async function _Be(e,n,o){const i=MPe(e);return n?await Gf.beginEncrypt({text:i,type:o}):i}const OJ=async(e,n,o)=>{try{let i="";if(await(function(S){const{cmd:{connectionStatus:_}}=S;return _===wBe.SUCCESS?Promise.resolve(!0):dc(wa(j0e,1)).then((x=>x===s3.Connected||Promise.reject({type:ln,reason:"Cannot establish the command channel"})))})(o()),n){await(function(_,x){const{cmd:{jids:P}}=x;return Object.prototype.hasOwnProperty.call(P,_)?Promise.resolve():dc(wa(uO).pipe(ZDe((B=>B.findIndex((z=>Number(z.userId)===_))===-1)),Yr(1),Xu(Dv)))})(n,o());const{cmd:{jids:S}}=o();if(!S[n])return Promise.reject({type:Xh,errorCode:at.INTERNAL_ERROR});i=S[n].jid}const{meeting:{encType:c}}=o(),d=i?Pee.Private:Pee.All,p=c===Nz.AES_GCM,v=await _Be(e,p,Wf.XMPP_CHAT);yKe.sendWebinarMseeage(v,i,d,p)}catch{}return""},IJ=async(e,n)=>{const o=await _Be(e,!1,Wf.RWG_CHAT);return SKe.sendCommandMessage(o,n),""};function Wbe(e,n){for(const[o,i]of Object.entries(e))if(i.jid===n)return o}function bTe(e,n){let o,i=!1;if(e!=null&&e.startsWith(ak.SpeakerOnly)){const c=e.substring(ak.SpeakerOnly.length),d=Number(c)===1;o=J6({userId:n,key:"isSpeakerOnly",value:d}),i=!0}else if(e.startsWith(ak.Screenshot)){const c=e.substring(ak.Screenshot.length);try{const{userId:d,displayName:p,type:v}=JSON.parse(c);it(v==="video"?gMe:ZMe,{userId:d,displayName:p})}catch(d){console.log(d)}i=!0}return[i,o]}const yTe=e=>n=>n.pipe(nn((o=>{const{payload:{userId:i}}=o;return Na(e.value).some((c=>c.userId===i))?Kn([o]):Vp(wa(mte).pipe(yn((c=>c.some((d=>d.userId===i)))),Yr(1),Xu(Dv),So((()=>o))),Eu(3e3).pipe(Eg()))}))),STe={connectionStatus:"initial",jids:{}},CKe=wm({[`${F4e}`]:()=>({...STe}),[`${L4e}`]:pt(((e,{payload:n})=>{const{data:o,attendees:i}=n;o.forEach((c=>{const{jid:d,node:p}=c;if(!e.jids[p]||e.jids[p].jid!==d){const v=i.find((S=>S.userId===Number(p)));e.jids[p]={jid:d,userGuid:v?.userGUID}}}))})),[`${B4e}`]:pt(((e,{payload:n})=>{n.forEach((o=>{const{jid:i}=o,c=Wbe(e.jids,i);c&&delete e.jids[c]}))})),[`${V4e}`]:pt(((e,{payload:n})=>{e.connectionStatus=n}))},STe);var L5;let EKe=(L5=class extends FS{send(e,n){if(!e)return Promise.reject({type:tr,reason:"Text is empty",errorCode:at.CMD_EMPTY_MESSAGE});if(typeof e!="string")return Promise.reject({type:tr,reason:"Text is not a string",errorCode:at.CMD_INVALID_MESSAGE_TYPE});if(e.length>512)return Promise.reject({type:tr,reason:"Text exceeds the max length(512).",errorCode:at.CMD_EXCEED_MESSAGE_LENGTH});const{[qo]:o}=this,i=o(),{socket:{xmppSocketStatus:c},meeting:{userId:d}}=i;return c!==Pa.Connected?Promise.reject({type:ln,reason:"Command channel is not ready",errorCode:at.CMD_CHANNEL_NOT_READY}):n&&Na(o()).findIndex((p=>p.userId===n))===-1?Promise.reject({type:tr,reason:"Cannot find the user",errorCode:at.CMD_MISMATCH_USER}):Promise.race([OJ(e,n??0,o),IJ(e,n??0)]).then((()=>({timestamp:new Date().getTime(),text:e,receiverId:n??0,senderId:d})))}getJids(){const{[qo]:e}=this,n=e(),{cmd:{jids:o}}=n;return o}},Fn(L5.prototype,"send",[$n],Object.getOwnPropertyDescriptor(L5.prototype,"send"),L5.prototype),L5);const wKe={epics0:(e,n)=>R3(e,24577).pipe(Qo(n),So((([o])=>{const{payload:{body:{status:i}}}=o;return i===wBe.SUCCESS&&it(j0e,s3.Connected),V4e(i)}))),epics1:(e,n)=>R3(e,24583).pipe(Qo(n),nn((async([o,i])=>{const{meeting:{userId:c,encType:d},cmd:{jids:p}}=i,{payload:{body:{senderName:v,senderJid:S,text:_,type:x,receiver:P,msgid:B,sn:z}}}=o,U=Wbe(p,S),H=Na(i).find((oe=>oe.userId===Number(U)));if(H&&(H.caps&yAe)===yAe)return"";{const oe=Wbe(p,P),ce=d===Nz.AES_GCM,re=new Date().getTime();let ye=_;if(ce)try{ye=(await Gf.beginDecrypt({decryptedText:_,type:Wf.XMPP_CHAT,zoomId:z})).message}catch{}if(x===Pee.Private&&Number(oe)===c||x===Pee.All){const _e=s1(ye),[Oe,F]=bTe(_e,Number(U));if(!Oe){var K;const Me=U&&((K=p[U])===null||K===void 0?void 0:K.userGuid);it(qge,{senderId:U,senderName:v,senderGuid:Me,text:_e,timestamp:re,msgid:B})}return F}return""}})),yn((o=>typeof o=="object"&&o!==null&&o.type!==void 0)),yTe(n),Bo((o=>{const{payload:{userId:i,key:c,value:d}}=o;it(NS,[{userId:i,[`${c}`]:d}])}))),epics2:(e,n)=>R3(e,24595).pipe(nn((o=>{const{payload:{body:{action:i,data:c}}}=o,d=[];if([gE.List,gE.Add,gE.update].includes(i)&&c){const{breakoutRoom:p,participants:{attendeesList:v}}=n.value,S=p?.currentRoom.status===rr.InRoom?v.concat(p.mainSessionAttendeeList):v;d.push(L4e({data:c,attendees:S}))}return i===gE.Remove&&c&&d.push(B4e(c)),Kn(d)}))),epics3:(e,n)=>Ro(e,8032).pipe(nn((async o=>{const{payload:{body:{senderID:i,commandContent:c,msgID:d}}}=o,p=s1(c),[v,S]=bTe(p,i);if(!v){const _=i&&Na(n.value).find((x=>x.userId===i));it(qge,{senderId:`${_?.userId}`,senderName:_?.displayName,senderGuid:_?.userGUID,text:p,timestamp:new Date().getTime(),msgid:d})}return S})),yn((o=>typeof o=="object"&&o!==null&&o.type!==void 0)),yTe(n),Bo((o=>{const{payload:{userId:i,key:c,value:d}}=o;it(NS,[{userId:i,[`${c}`]:d}])})))},_Ke=xg(wKe,{extraEpics0:(e,n)=>e.pipe(Fo(`${R1e}`),hi((o=>{const{payload:{speakerOnly:i}}=o,c=us(n.value);return(c?.audio!==void 0?Kn([c.audio]):wa(Mp).pipe(yn((d=>d.audio!==void 0)),Yr(1))).pipe(Bo((async()=>{const d=`${ak.SpeakerOnly}${i?1:0}`;await Promise.all([OJ(d,0,(()=>n.value)),IJ(d,0)])})),Eg())}))),extraEpics1:(e,n)=>Ro(e,Vl).pipe(yn((o=>{var i,c;const{payload:{body:d}}=o;return!((i=n.value.audio)===null||i===void 0||(i=i.customizeAudioOption)===null||i===void 0||!i.speakerOnly)&&(d==null||(c=d.add)===null||c===void 0?void 0:c.length)>0})),Xu(Dv),nn((o=>{const{payload:{body:{add:i}}}=o,c=n.value,{meeting:{userId:d},participants:{attendeesList:p}}=c,v=[];if(i){for(const S of i)if(S.id!==d){const _=Eu(Math.floor(Math.random()*Math.min(200+10*p.length,2e3))).pipe(nn((()=>{if(Na(n.value).some((x=>x.userId===S.id))){const x=`${ak.SpeakerOnly}1`;return Kn([OJ(x,S.id,(()=>n.value)),IJ(x,S.id)]).pipe(nn((P=>Kn(P))),Cm((()=>Eo)),Eg())}return Eo})),Cm((()=>Eo)));v.push(_)}}return v.length>0?Ad(...v):Eo})),Eg()),extraEpics2:(e,n)=>e.pipe(Fo(`${Ave}`,`${L3e}`),Bo((async o=>{const{payload:{targetUser:i,userId:c,displayName:d}}=o,p=o.type===`${Ave}`?"video":"sharing",v=`${ak.Screenshot}${JSON.stringify({userId:c,displayName:d,type:p})}`;Promise.all([OJ(v,i,(()=>n.value)),IJ(v,i)])})),Eg())}),CTe=(e,n,o,i)=>{const{getState:c,dispatch:d}=o,p=c(),{participants:{attendeesList:v},audio:{localShareAudioUserMutedList:S},share:{isReceiveSharingFromMainSession:_},breakoutRoom:x}=p,P=(_?x?.mainSessionAttendeeList:v).find((B=>B.userId==e));if(P){if(P.bShareAudioOn){const B=S.find((z=>z.userId===e));return B&&B.muted===!n&&d(oz(i,e,n,p)),Promise.resolve("")}return Promise.reject({type:ln,reason:`Cannot ${n?"mute":"unmute"} share audio when the user's share audio is not enable.`,errorCode:at.AUDIO_NOT_STARTED})}return Promise.reject({type:tr,reason:"Cannot find the user",errorCode:at.STREAM_MISMATCH_USER})},ETe=(e,n)=>{const{store:{getState:o},rwgAgent:i}=e,{share:{sharePrivilege:c}}=o();return c===n?Promise.resolve(""):Object.values(Uy).includes(n)?(i.lockSharing(n),q5("lockShare",n)):Promise.reject({type:tr,errorCode:at.SCREEN_SHARE_INVALID_PRIVILEGE})},h3=Xl([Na],(e=>e.filter((n=>n.bVideoOn)))),Ome=Xl([h3],(e=>e.filter((n=>(n.caps&vAe)===vAe)))),AKe=(e,n,o,i,c,d,p,v,S,_)=>{const{store:{getState:x,dispatch:P},mediaAgent:B}=e,z=x(),{meeting:{userId:U,isUseWBVideo:H},media:{enforceMultipleVideos:K,disableRenderLimits:oe},video:{subscribedVideoList:ce,renderedVideoList:re}}=z;if(H)return Promise.reject({type:ln,reason:"Use the attachVideo method to render the video.",errorCode:at.VIDEO_METHOD_DEPRECATED});console.warn("Use the attachVideo method to render the video. The renderVideo method is deprecated. See the reference for details.");const ye=Ls.getMaxCountRender(H,!!K,oe),_e=rk()&&o===U;if(A4(n)&&!ce.includes(o)&&ce.length>=ye&&new Set(re.map((Me=>Me.canvasId))).has(n.id))return Promise.reject({type:ln,reason:`subscribe video counts greater than maximum size (${ye})`,errorCode:at.VIDEO_RENDER_LIMIT_EXCEED});if(h3(z).findIndex((Me=>Me.userId===o))===-1)return Promise.reject({type:tr,reason:"user is not send video",errorCode:at.STREAM_MISMATCH_USER});if(n.id||(n.id=aA("__ZOOM_SDK_VIDEO_CANVAS_@__")),_e){if(iA(n)){n.playsInline=!0,n.muted=!0,n.autoplay=!0,Zo.isIOSMobile&&(B.switchCanvasForVideoCapture(n),P(i1e())),B.renderVideo(n,o,S||_O,i,c,d,p,v,!0,_||"",!1),P(GQ(o)),P(vNe(n.id));const Me=document.querySelector(`#${$ge}`);return Me&&Me.remove(),Promise.resolve("")}return Promise.reject({type:tr,reason:"You must use a <video> element to render self video for Chromium browser, Android browser without SharedArrayBuffer or iOS browser ",errorCode:at.STREAM_MISMATCH_RENDER_ELEMENT})}const Oe=!!_,{media:{videoDecodeStatus:F}}=z;return Hf("video","success",F).subscribe((async([Me,ot])=>{if(ot){const{video:{ensuredCanvas:Fe,renderedVideoList:De}}=x();let we=n;Fe.includes(n.id)||(we=UQ(n),P(dNe(n.id)));const ct=o===U,rt=S||_O,gt=await(async function(ee,on){const{video:{prefetchedVideo:nt}}=on;return nt?.userId!==ee||nt.loaded?"":dc(Vp(wa(fMe,1),Eu(1e3).pipe(Mk(""))))})(o,x());De.some((ee=>ee.userId===o&&ee.key===rt&&ee.canvasId===we.id))||B.renderVideo(we,o,rt,i,c,d,p,v,ct,_||"",Oe),o!==U&&B.subscribeVideo(o,v,!1),ce.includes(o)||P(GQ(o)),gt&&P(x3(void 0)),P(Ek({userId:o,key:rt,canvasId:we.id,videoQuality:v,aspectRatio:c?i/c:0}))}})),F==="failed"?Promise.reject({type:Xh,reason:"Video  decode status is failed",errorCode:at.INTERNAL_ERROR}):Promise.resolve("")},Qx={video:{detectAction:Ls.getVideoProcessorCapability,errorCode:{unsupported:at.VIDEO_PROCESSOR_UNSUPPORTED,duplicateCreate:at.VIDEO_PROCESSOR_DUPLICATE_CREATE,mismatchProcessor:at.VIDEO_PROCESSOR_MISMATCH_PROCESSOR,limitExceed:at.VIDEO_PROCESSOR_LIMIT_EXCEED}},audio:{detectAction:Ls.getAudioProcessorCapability,errorCode:{unsupported:at.AUDIO_PROCESSOR_UNSUPPORTED,duplicateCreate:at.AUDIO_PROCESSOR_DUPLICATE_CREATE,mismatchProcessor:at.AUDIO_PROCESSOR_MISMATCH_PROCESSOR,limitExceed:at.AUDIO_PROCESSOR_LIMIT_EXCEED}},share:{detectAction:Ls.getShareProcessorCapability,errorCode:{unsupported:at.SHARED_PROCESSOR_UNSUPPORTED,duplicateCreate:at.SHARED_PROCESSOR_DUPLICATE_CREATE,mismatchProcessor:at.SHARED_PROCESSOR_MISMATCH_PROCESSOR,limitExceed:at.SHARED_PROCESSOR_LIMIT_EXCEED}}},Ime=(e,n)=>{var o;const{store:{getState:i}}=e,c=i(),{meeting:{mediaFeatureOptions:d}}=c;return(o=Qx[n])===null||o===void 0?void 0:o.detectAction(d||"")},wTe=(e,n)=>{const o=e.store.getState(),i=Q_(o).find((c=>c.userId===n));if(i){const{caps:c}=i;return(d=>!(512&~d))(c)}return!1};var _Te,ATe,TTe,xTe,OTe,ITe,RTe,kTe,DTe,MTe,PTe,NTe,LTe,BTe,VTe,FTe,HTe,$Te,UTe,zTe,jTe,WTe,GTe,qTe,ZTe,KTe,YTe,XTe,JTe,QTe,exe,txe,nxe,oxe,sxe,rxe,ixe,axe,lxe,cxe,uxe,dxe,hxe,fxe,pxe,mxe,gxe,vxe,bxe,yxe,Sxe,Cxe,Exe,wxe,_xe,Axe,Txe,xxe,Oxe,Ixe,Rxe,kxe,Dxe,Mxe,Pxe,Nxe,Lxe,Bxe,Vxe,Fxe,Hxe,$xe,Uxe,zxe,jxe,Wxe,Gxe,qxe,Zxe,Kxe,Yxe,Xxe,Jxe,Qxe,eOe,tOe,nOe,oOe,sOe,rOe,iOe,aOe,lOe,cOe,uOe,Et;const xb=Np("Audio"),Sd=Np("Video"),Cd=Np("Sharing"),dOe=Np("Processor"),WL=Np("CameraControl"),$_=Np("Remote Control"),hOe=Tte(HTMLCanvasElement,0),TKe=Tte([HTMLCanvasElement,HTMLVideoElement],0),fOe=Tte(HTMLCanvasElement,0,["id"]),pOe=Tte([HTMLCanvasElement,HTMLVideoElement],0,["id"]),xKe=d3e("annotation"),OKe=d3e("remote control");let IKe=(_Te=Do("audio"),ATe=Do("audio"),TTe=Do("audio"),xTe=Do("audio"),OTe=Do("audio"),ITe=Np("Audio",[1,2,3]),RTe=Do("audio"),kTe=Np("Audio",[1,2]),DTe=Do("audio"),MTe=Do("audio"),PTe=Do("audio"),NTe=Do("audio"),LTe=Do("share"),BTe=Do("audio"),VTe=Do("share"),FTe=Do("audio"),HTe=Do("audio"),$Te=Do("audio"),UTe=Do("audio"),zTe=Do("audio"),jTe=Do("audio"),WTe=Np("Audio",[1,2]),GTe=Do("audio"),qTe=Np("Audio",[1,2]),ZTe=Do("audio"),KTe=Do("audio"),YTe=Do("audio"),XTe=Do("audio"),JTe=Do("video"),QTe=Do("video"),exe=Do("video"),txe=Do("processor"),nxe=Do("processor"),oxe=Do("processor"),sxe=Do("video"),rxe=Do("video"),ixe=Do("video"),axe=Do("video"),lxe=Do("video"),cxe=Do("video"),uxe=Do("video"),dxe=Do("video"),hxe=Do("video"),fxe=Do("video"),pxe=Np("Video",[2]),mxe=Do("video"),gxe=Np("Video",[1]),vxe=Do("video"),bxe=Do("video"),yxe=Do("video"),Sxe=Do("video"),Cxe=Do("video"),Exe=Do("video"),wxe=Do("video"),_xe=Do("video"),Axe=Do("video"),Txe=Do("video"),xxe=Do("video"),Oxe=Do("video"),Ixe=Do("video"),Rxe=Do("video"),kxe=Do("video"),Dxe=Do("video"),Mxe=Do("share"),Pxe=Do("share"),Nxe=Do("share"),Lxe=Do("share"),Bxe=Do("share"),Vxe=Do("share"),Fxe=Do("share"),Hxe=Do("share"),$xe=Q_e("isShareOptionLocked"),Uxe=Q_e("isShareOptionLocked"),zxe=Do("share"),jxe=Do("share"),Wxe=Do("share"),Gxe=Do("share"),qxe=Do("share"),Zxe=Do("share"),Kxe=Do("share"),Yxe=Do("share"),Xxe=Do("share"),Jxe=Do("share"),Qxe=Do("share"),eOe=Do("share"),tOe=Do("share"),nOe=Do("share"),oOe=Do("share"),sOe=Do("share"),rOe=Do("share"),iOe=Do("share"),aOe=Do("share"),lOe=Do("share"),cOe=Do("share"),uOe=Do("share"),Et=class extends FS{constructor(e){super(e),this[An]=void 0,this[uc].dispatch(Jve()),this[An]={store:e,mediaAgent:yte(_m(Ls.getInstance())),rwgAgent:Qi.createAgent()}}startAudio(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d,mediaAgent:p}=n,v=i(),S=us(v);if(S?.audio===Xi.Computer)return Promise.resolve("");if(S?.audio===Xi.Phone)return Promise.reject({type:ln,reason:"joined by phone",errorCode:at.AUDIO_IN_PSTN});{const{audio:{isAllowToTalk:_,isComputerAudioLoading:x,canPlayAudio:P,customizeAudioOption:{speakerOnly:B}},media:{audioDecodeStatus:z,audioEncodeStatus:U}}=v;if(x)return Promise.reject({type:ln,reason:"Computer audio has been loading, please wait.",errorCode:at.AUDIO_CAPTURE_LOADING});const H=(function(ce,re){const ye=re?{...re}:void 0;if(wAe(ce.meeting.mediaFeatureOptions||"",ce.audio.isWebRtcAudioCapable)||ye?.backgroundNoiseSuppression!==!0||(console.warn("Background noise suppression requires SharedArrayBuffer and is only supported on desktop browser"),Object.assign(ye,{backgroundNoiseSuppression:void 0})),ye?.originalSound!==void 0){ye.backgroundNoiseSuppression&&ye.originalSound&&(console.warn("Enabling original sound will disable background noise suppression."),Object.assign(ye,{backgroundNoiseSuppression:!1}));const{originalSound:_e}=ye;typeof _e=="object"&&_e.stereo&&!_Ae()&&(console.warn("Cannot enable stereo audio on current platform due to the browser limitation"),Object.assign(_e,{stereo:!1}))}return AAe()||ye?.syncButtonsOnHeadset!==!0||(console.warn("Sync buttons on headset is not supported on the current platform"),Object.assign(ye,{syncButtonsOnHeadset:void 0})),ye!=null&&ye.mediaFile&&!Ls.isSupportMediaPlaybackAsAudioInput()&&(console.warn("Cannot use media file as audio input due to the browser limitation"),Object.assign(ye,{mediaFile:void 0})),ye})(v,o);c(R1e(H??{}));const{speakerOnly:K,autoStartAudioInSafari:oe}=H||{};if(!!B!=!!K&&c(J6({userId:v.meeting.userId,key:"isSpeakerOnly",value:!!K})),!S)return Promise.reject({type:ln,reason:"Please call `startAudio` method after the `join` has been resolved",errorCode:at.STREAM_SESSION_JOIN_REQUIRED});{const ce=ef(S.userRole)&&!_||K,{encodeInitStatus:re,decodeInitStatus:ye}=_be(v,S,K);if(sz()&&(ye!=="success"||re!=="success"))return Promise.reject({type:ln,reason:"It is required to wait for the audio encoding and decoding to be ready before calling `startAudio` method",errorCode:at.AUDIO_ENCODING_REQUIRED});c(H2(!0)),Hf("audio",re,ye).subscribe((([_e,Oe])=>{if(_e&&Oe){let F=P||(sz()||Zo.isIOSMobile)&&!oe?Promise.resolve():(function(){const Me=URL.createObjectURL(r7e),ot=new Audio(Me);ot.muted=!1;const Fe=vte((()=>Promise.reject()),3e3),De=Zo.isIOSMobile?new Promise(((we,ct)=>{var rt;ot.addEventListener("canplaythrough",(()=>{ot.play().then((()=>{we(!0)})).catch((gt=>{ct(gt)}))})),(rt=ot.load)===null||rt===void 0||rt.call(ot)})):ot.play();return Promise.race([De,Fe]).finally((()=>{URL.revokeObjectURL(Me)}))})();F===void 0&&(F=Promise.resolve()),F.then((()=>Sve("audio",i()))).then((()=>{const Me=i();Abe(d,Me),k3(p,Me,!ce),ef(S.userRole)&&_&&c(vbe(!0)),c(d4(!0))})).catch((()=>{c(d4(!1)),c(H2(!1))}))}else c(H2(!1))}))}return U==="failed"||z==="failed"?(c(H2(!1)),Promise.reject({type:Xh,reason:"audio encode or decode error",errorCode:at.INTERNAL_ERROR})):new Promise(((ce,re)=>{TAe().subscribe({next:()=>{c(H2(!1)),ce("")},error:ye=>{Ls.getInstance().leaveComputerAudio();const _e=us(i());_e?.audio!==Xi.Phone&&(c(hA(vk.MicrophoneError)),d.joinOrLeaveVoip(!1)),c(H2(!1)),re(ye)}})}))}})(this[An],e)}stopAudio(){return(async e=>{const{store:{getState:n,dispatch:o},mediaAgent:i,rwgAgent:c}=e,d=n(),{audio:{isComputerAudioLoading:p,isShareAudioEnabled:v,isSharingAudio:S,isUsingMediaPlayback:_,customizeAudioOption:{speakerOnly:x}},meeting:{mediaFeatureOptions:P}}=d,B=us(d);if(p)return Promise.reject({type:ln,reason:"Computer audio has not finished joining, please wait.",errorCode:at.AUDIO_CAPTURE_LOADING});if(v){if(S&&!Ls.isSupportOpenMicWhenShareAudio(P||""))return Promise.reject({type:ln,reason:"Cannot stop audio during sharing with audio",errorCode:at.AUDIO_SHARE_AUDIO_CONFLICT});o(h4(void 0)),o(dA(void 0))}return B?.audio===Xi.Computer?(o(hA(vk.Active)),await i.leaveComputerAudio(),c.joinOrLeaveVoip(!1),x&&o(J6({userId:d.meeting.userId,key:"isSpeakerOnly",value:void 0})),_&&vg.getInstance().stopAudioElement(),o($k(0)),vr(gte)):Promise.resolve("")})(this[An])}muteAudio(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d,mediaAgent:p}=n,v=i(),S=us(v),{participants:{allowTalkAttendeesList:_,attendeesList:x},meeting:{mediaFeatureOptions:P}}=v;if(o==null||o===S?.userId)return S?.audio===""||S?.audio===null?Promise.reject({type:ln,reason:"no audio joined",errorCode:at.AUDIO_NOT_STARTED}):S?.muted===!0?Promise.resolve(""):(c(_S(q0.Active)),d.mute(S.userId,!0),p.muteAudio(),v.audio.isShareAudioEnabled&&!Ls.isSupportOpenMicWhenShareAudio(P||"")&&c(dA(!0)),vr(Z0e).then((()=>"")));if(Iv(v)){const B=_.concat(x).find((z=>z.userId===o));return B?B.audio===""||B===null?Promise.reject({type:ln,reason:"no audio joined",errorCode:at.AUDIO_NOT_STARTED}):B.muted===!1?(d.mute(o,!0),vr({event:bMe,operations:[yn((z=>z.id===o&&z.muted!==void 0)),Yr(1)]},(z=>z.id===o&&z.muted==1))):Promise.resolve(""):Promise.reject({type:tr,reason:"no matching user",errorCode:at.STREAM_MISMATCH_USER})}return Promise.reject({type:Bp,errorCode:at.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED})})(this[An],e)}unmuteAudio(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d,mediaAgent:p}=n,v=i(),S=us(v),{audio:{isAllowToTalk:_,isAllowToTalkAttendeeConnected:x},meeting:{mediaFeatureOptions:P},participants:{allowTalkAttendeesList:B,attendeesList:z}}=v;if(o===void 0||o===S?.userId){if(S?.audio===""||S?.audio===null)return Promise.reject({type:ln,reason:"no audio joined",errorCode:at.AUDIO_NOT_STARTED});if(S?.muted===!1)return Promise.resolve("");if(v.audio.isShareAudioEnabled&&!Ls.isSupportOpenMicWhenShareAudio(P||"")){if(v.audio.isSharingAudio)return Promise.reject({type:ln,reason:"Cannot unmute audio during sharing with audio",errorCode:at.AUDIO_SHARE_AUDIO_CONFLICT});c(dA(!1))}return v.audio.bCanUnmute||S!=null&&S.isHost||S!=null&&S.bCoHost?(ef(S.userRole)&&(_?x||(await p.leaveComputerAudio(),await k3(p,v,!0),c(vbe(!0))):Promise.reject({type:ln,reason:"Webinar attendee cannot unmute self audio.",errorCode:at.AUDIO_ATTENDEE_NOT_ALLOWED})),c(nz(S3.Active)),d.mute(S.userId,!1),p.unmuteAudio(),vr(K0e).then((()=>""))):Promise.reject({type:Bp,reason:"host not allow unmute themselves",errorCode:at.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED})}if(Iv(v)){const U=B.concat(z).find((H=>H.userId===o));return U?U.audio===""||U===null?Promise.reject({type:ln,reason:"no audio joined",errorCode:at.AUDIO_NOT_STARTED}):(U.muted===!0&&d.mute(o,!1),Promise.resolve("")):Promise.reject({type:tr,reason:"no matching user",errorCode:at.STREAM_MISMATCH_USER})}return Promise.reject({type:Bp,errorCode:at.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED})})(this[An],e)}dialOut(e,n,o,i){return((c,d,p,v,S)=>{const{store:{getState:_,dispatch:x},rwgAgent:P}=c,B=_(),{meeting:{callOutCountry:z,isSupportCallOut:U}}=B;if(U&&Array.isArray(z)&&z.findIndex((H=>H.code===d))>-1){const{seq:H}=P.audioDialout(d+p,v,!(S==null||!S.callMe),!(S==null||!S.pressingOne),!(S==null||!S.greeting));return x(v3e({sequence:H,phoneNumber:d+p})),Jx(i3.JoinAudioByCallMe)}return Promise.reject({type:tr,reason:"no matching country code",errorCode:at.PSTN_MISMATCH_COUNTRY_CODE})})(this[An],e,n,o,i)}cancelDialOut(e,n,o){return((i,c,d,p)=>{const{rwgAgent:v}=i;return v.audioCancelDialout(c+d,!(p==null||!p.callMe)),Jx(i3.cancelDialOut)})(this[An],e,n,o)}hangup(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i}=e,c=n(),d=us(c);return d?.audio===Xi.Phone&&d.userId!==null?(i.audioDrop(d.userId),d.muted||o(_S(q0.Inherited)),Jx(i3.hangup)):Promise.reject({type:ln,reason:"not joined audio by phone",errorCode:at.PSTN_NOT_CONNECTED})})(this[An])}switchMicrophone(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{audio:{activeMicrophone:v,mediaPlaybackFile:S,isUsingMediaPlayback:_}}=p,{microphones:x}=await dc(Vk()),P=x.find((B=>B.deviceId===o));if(o==="default"||typeof o!="string"||P){const B=us(p);if(B?.audio===Xi.Computer){let z=!1;if(typeof o=="string")(o!==v||_)&&(d.changeMicrophone(o,P?.label,!(B==null||!B.muted)),c(ybe(void 0)),vg.getInstance().stopAudioElement(),z=!0);else if(o&&(!_||S?.url!==o.url)){const U=vg.getInstance();U.setAudioElement(o).then((()=>{o.playback!==void 0&&(d.enablePlayAudioFileLocally(!!o.playback),U.audioElement.dataset.playback=o.playback?"1":"0"),d.changeMicrophone(U.audioElement,void 0,!(B==null||!B.muted)),c(ybe(o))})),z=!0}if(z)return h6(TAe()).then((()=>""))}else typeof o=="string"&&c(tz(o));return Promise.resolve("")}return Promise.reject({type:hwe,errorCode:at.STREAM_MISMATCH_DEVICE})})(this[An],e)}switchSpeaker(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,{audio:{activeSpeaker:p}}=i(),{speakers:v}=await dc(Vk());if(o!=="default"&&v.findIndex((_=>_.deviceId===o))==-1)return Promise.reject({type:hwe,errorCode:at.STREAM_MISMATCH_DEVICE});var S;if(((S=us(i()))===null||S===void 0?void 0:S.audio)===Xi.Computer){if(o!==p)return d.changeSpeaker(o),vr(nve,(_=>_))}else c(Ote(o));return Promise.resolve("")})(this[An],e)}muteShareAudio(e){return((n,o)=>{const{mediaAgent:i,rwgAgent:c,store:{getState:d,dispatch:p}}=n,v=d(),{meeting:{userId:S}}=v;if(o&&o!==S)return CTe(o,!0,n.store,i);{const{audio:{isSharingAudio:x,isShareAudioEnabled:P,isShareAudioMuted:B}}=v;if(!P)return Promise.reject({type:ln,reason:"Cannot mute sharing audio when sharing audio is not enable",errorCode:at.AUDIO_SHARE_AUDIO_CONFLICT});if(B)return Promise.resolve("");{c.muteShareAudio(!0);let z=Promise.resolve();var _;return x&&(z=(_=i.leaveSharingAudio(!0))===null||_===void 0?void 0:_.then((()=>D1e(c,v).then((U=>{U.forEach((H=>p(H)))}))))),oz(i,S,!0,v),Promise.all([vr({event:Mp,operations:[yn((U=>U.bShareAudioOn!==void 0)),Yr(1)]},(U=>U.bShareAudioOn===!1)),z]).then((()=>(p(bee(!0)),x&&(p(f4(!1)),it(X3,{state:"off"})),"")))}}})(this[An],e)}unmuteShareAudio(e){return((n,o)=>{const{mediaAgent:i,rwgAgent:c,store:{getState:d,dispatch:p}}=n,v=d(),{meeting:{userId:S}}=v;if(o&&o!==S)return CTe(o,!1,n.store,i);{const{audio:{isSharingAudio:_,isShareAudioEnabled:x,isShareAudioMuted:P},share:{status:B}}=v;if(!x)return Promise.reject({type:ln,reason:"Cannot unmute sharing audio when sharing audio is not enable",errorCode:at.AUDIO_NOT_STARTED});if(P===!1)return Promise.resolve("");{c.muteShareAudio(!1);let z=Promise.resolve();return _===!1&&B===Zr.Sharing&&(z=wbe(i,c,v).then((U=>{U.forEach((H=>p(H)))}))),oz(i,S,!1,v),Promise.all([vr({event:Mp,operations:[yn((U=>U.bShareAudioOn!==void 0)),Yr(1)]},(U=>U.bShareAudioOn===!0)),z]).then((()=>(p(bee(!1)),_===!1&&B===Zr.Sharing&&(p(f4(!0)),it(X3,{state:"on"})),"")))}}})(this[An],e)}subscribeAudioStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{getState:c}}=n,d=c(),p=us(d),v=!o||o.decode,S=!o||o.encode;if(!p)return Promise.reject({type:ln,reason:"Call this function after the 'join' method resolved.",errorCode:at.STREAM_SESSION_JOIN_REQUIRED});{const{encodeInitStatus:_,decodeInitStatus:x}=_be(d,p);Hf("audio",_,x).subscribe((([P,B])=>{P&&B&&(v&&i.subscribeToQos([kp.AudioDecode],iO),S&&i.subscribeToQos([kp.AudioEncode],iO))}))}return""})(this[An],e)}unsubscribeAudioStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{dispatch:c}}=n,d=!o||o.decode,p=!o||o.encode;return d&&(i.unsubscribeFromQos([kp.AudioDecode]),c(yee(yQ))),p&&(i.unsubscribeFromQos([kp.AudioEncode]),c(See(yQ))),null})(this[An],e)}enableBackgroundNoiseSuppression(e){return((n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,{audio:{isBackgroundNoiseSuppression:p,originalSound:v,isWebRtcAudioCapable:S},meeting:{mediaFeatureOptions:_}}=c();let x=o;return x===!!p||(x&&!wAe(_||"",S)?(console.warn("Background noise suppression requires SharedArrayBuffer and is only supported on desktop browser"),x=!1):(x&&v&&(console.warn("Enabling noise suppression will disable original sound."),d(Cbe(!1))),d(bbe(x)),i.changeAudioProfile(Ebe(c())))),Promise.resolve("")})(this[An],e)}enableSyncButtonsOnHeadset(e){return((n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,p=c(),{audio:{isHIDEnabled:v,microphoneDevicesList:S,activeMicrophone:_}}=p;if(o===!!v)return Promise.resolve("");{const P=us(p);var x;return P?(o&&!AAe()?console.warn("Sync buttons on headset is not supported on the current platform"):(i.enableSyncButtonsOnHeadset(o,(x=S.find((B=>B.deviceId===_)))===null||x===void 0?void 0:x.label,P.muted),d(R3e(o))),Promise.resolve("")):Promise.reject({type:ln,reason:"Please call `enableSyncButtonsOnHeadset` method after the `join` has been resolved",errorCode:at.STREAM_SESSION_JOIN_REQUIRED})}})(this[An],e)}enableOriginalSound(e){return((n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,{audio:{isBackgroundNoiseSuppression:p,originalSound:v}}=c(),S=o;return S===v||typeof o=="object"&&Dz(o,v)||(typeof S!="object"||S?.stereo!==!0||_Ae()||(console.warn("Cannot enable stereo audio on current platform due to the browser limitation"),S.stereo=!1),p&&S&&(console.warn("Enabling original sound will disable background noise suppression."),d(bbe(!1))),d(Cbe(S)),i.changeAudioProfile(Ebe(c()))),Promise.resolve("")})(this[An],e)}callCRCDevice(e,n){return((o,i,c)=>{const{rwgAgent:d,store:{dispatch:p,getState:v}}=o,{seq:S}=d.inviteCRCDevice(i,c);return p(D3e({sequence:S,ip:i,protocol:c})),Jx(i3.crcCallOut).then((()=>{var _;const{audio:{crcDevice:x}}=v();return(_=x.find((P=>P.ip===i&&P.protocol===c&&P.sequence===S)))===null||_===void 0?void 0:_.uuid}))})(this[An],e,n)}cancelCallCRCDevice(e,n){return((o,i,c)=>{const{rwgAgent:d,store:{getState:p}}=o,{audio:{crcDevice:v}}=p(),S=v.find((_=>_.ip===i&&_.protocol===c));return S&&S.returnCode===XX.Ringing?(d.cancelInviteCRCDevice(S.transId),Promise.resolve("")):Promise.reject({type:ln,reason:"Cannot cancel call out ",errorCode:at.CRC_NOT_CONNECTED})})(this[An],e,n)}muteAllAudio(){return(e=>{const{rwgAgent:n}=e;return n.audioMuteAll(!0),q5("bMutedAll",!0)})(this[An])}unmuteAllAudio(){return(e=>{const{rwgAgent:n}=e;return n.audioMuteAll(!1),q5("bMutedAll",!1)})(this[An])}muteAudioUponEntry(e=!0){return((n,o=!0)=>{const{store:{getState:i},rwgAgent:c}=n,{audio:{bMutedUponEntry:d}}=i();return d===o?Promise.resolve(""):(c.setMuteOnEntry(o),q5("bMutedUponEntry",o))})(this[An],e)}allowUnmuteAudioThemselves(e=!0){return((n,o=!0)=>{const{store:{getState:i},rwgAgent:c}=n,{audio:{bCanUnmute:d}}=i();return d===o?Promise.resolve(""):(c.allowUnmuteAudio(o),q5("bCanUnmute",o))})(this[An],e)}getMicList(){return(({store:{getState:e}})=>{const n=e();return n.audio?[...n.audio.microphoneDevicesList]:[]})(this[An])}getSpeakerList(){return(({store:{getState:e}})=>{const n=e();return n.audio?[...n.audio.speakerDevicesList]:[]})(this[An])}getAudioState(e){return(({store:{getState:n}},o)=>{const i=n(),{meeting:{isWebinar:c}}=i;let d=null;return o==null?d=us(i):(d=i.participants.attendeesList.find((p=>p.userId===o)),c&&!d&&(d=i.participants.xmppAttendeeList.find((p=>p.userId===o)))),d?d.audio:null})(this[An],e)}isAudioMuted(e){return(({store:{getState:n}},o)=>{const i=n(),{meeting:{isWebinar:c}}=i;let d=null;return o===void 0?d=us(i):(d=i.participants.attendeesList.find((p=>p.userId===o)),c&&!d&&(d=i.participants.xmppAttendeeList.find((p=>p.userId===o)))),!!d&&!!d.muted})(this[An],e)}getActiveMicrophone(){return(({store:{getState:e}})=>{const n=e();return n.audio?n.audio.activeMicrophone:null})(this[An])}getActiveSpeaker(){return(({store:{getState:e}})=>{const n=e();return n.audio?n.audio.activeSpeaker:null})(this[An])}isSupportCallOut(){return(({store:{getState:e}})=>{const{meeting:{isSupportCallOut:n,callOutCountry:o}}=e();return n&&Array.isArray(o)&&o?.length>0})(this[An])}getDialOutStatus(){return(({store:{getState:e}})=>{const{audio:n}=e();return n?.dialout[n.dialout.length-1].returnCode})(this[An])}getDialOutCountries(){return(({store:{getState:e}})=>{const{meeting:{callOutCountry:n}}=e();return Array.isArray(n)?n:[]})(this[An])}getShareAudioStatus(){return(({store:{getState:e}})=>{const{audio:{isShareAudioEnabled:n,isShareAudioMuted:o,isSharingAudio:i}}=e();return{isShareAudioEnabled:n,isShareAudioMuted:o,isSharingAudio:i}})(this[An])}isOthersShareAudioMutedLocally(e){return(({store:{getState:n}},o)=>{var i;const{audio:{localShareAudioUserMutedList:c}}=n();return(i=c.find((d=>d.userId===o)))===null||i===void 0?void 0:i.muted})(this[An],e)}getAudioStatisticData(){return(({store:{getState:e}})=>{const{audio:{statistic:n}}=e();return{...n}})(this[An])}getDialInInfo(){return(({store:{getState:e}})=>{const{meeting:{meetingNumber:n,tollNumbers:o,participantID:i,h323Password:c}}=e();return o===void 0?null:{meetingId:n,participantId:i,password:c||"",tollNumbers:o.map((d=>({...d})))}})(this[An])}isSupportMicrophoneAndShareAudioSimultaneously(){return(function(e){const{store:{getState:n}}=e,o=n(),{meeting:{mediaFeatureOptions:i}}=o;return Ls.isSupportOpenMicWhenShareAudio(i||"")})(this[An])}getAudioMediaPlaybackController(){return(({store:{getState:e},mediaAgent:n})=>{const o=e(),{audio:{isUsingMediaPlayback:i}}=o;if(i){const{audioElement:c}=vg.getInstance();return Iwe(c,"audio",o,n)}return null})(this[An])}isAllowToUnmute(){return(({store:{getState:e}})=>{const n=e();return!!n.audio&&!!n.audio.bCanUnmute})(this[An])}getSessionSIPAddress(){return(e=>{const{store:{getState:n}}=e,{meeting:{sipDomain:o,h323Password:i,meetingNumber:c}}=n();return o?`${c}.${i??""}@${o}`:null})(this[An])}startVideo(e){return((n,o)=>{var i;const{store:{getState:c,dispatch:d},mediaAgent:p}=n,v=c(),{media:{videoDecodeStatus:S,videoEncodeStatus:_,enforceVirtualBackground:x},video:{isCaptureCameraLoading:P,isCurrentUserStartedVideo:B,isVideoMuted:z,backgroundMode:U},meeting:{isUseWBVideo:H}}=v,K=o?{...o}:void 0;if(B)return Promise.reject({type:ln,reason:"Video is started",errorCode:at.VIDEO_MISMATCH_STATE});if(P)return Promise.reject({type:ln,reason:"Camera is starting,please wait.",errorCode:at.VIDEO_CAPTURE_LOADING});if(z&&!Iv(v))return Promise.reject({type:ln,reason:"Video is muted by the host",errorCode:at.VIDEO_MUTED_BY_HOST});if(rk(H))if(iA(K?.videoElement))console.warn('The "videoElement" option will be removed in version 2.x. Please use the "attachVideo" or "renderVideo" method to render the self-view.');else{console.warn('Rendering self-view on Chromium browser, Android browser without SharedArrayBuffer or iOS browser requires video tag, Please use "attachVideo" or pass a video element instead of a canvas element in the "renderVideo" method');let oe=document.body.querySelector(`#${$ge}`);if(!oe){oe=document.createElement("video");const ce=Zo.isSafari||Zo.isIOSMobile?"position:fixed;top:-10000px;left:-10000px":"display:none";oe.setAttribute("style",ce),oe.muted=!0,oe.playsInline=!0,oe.autoplay=!0,oe.id=$ge,document.body.appendChild(oe)}K&&Object.assign(K,{videoElement:oe})}return!Cve(x,H)&&K!=null&&K.virtualBackground?Promise.reject({type:tr,reason:"Virtual background only compatible with Chrome and Edge with SharedArrayBuffer enabled.",errorCode:at.VIDEO_VB_UNSUPPORTED}):U===Ch.VideoProcessor&&K!=null&&K.virtualBackground&&K!=null&&(i=K.virtualBackground)!==null&&i!==void 0&&i.imageUrl?Promise.reject({type:ln,reason:"Cannot start capture video with virtual background when video processor is enabled",errorCode:at.VIDEO_VB_PROCESSOR_CONFLICT}):(d(a3(!0)),Hf("video",_,S).subscribe((([oe])=>{if(oe){const ce=c(),{video:{activeCamera:re,isSupportHDVideo:ye,virtualBackground:{imageSrc:_e},mask:{imageSrc:Oe},isMirrored:F}}=ce,{cameraId:Me=re,captureWidth:ot=0,captureHeight:Fe=0,mirrored:De,hd:we,fullHd:ct,virtualBackground:rt,mask:gt}=K||{};y_e(De??F,p,ce),(we||ct)&&(ye&&Ls.isCompatibleHardwareForEncode()&&Ls.isSupportVideoEncodeHardwareAcceleration().then((Mt=>{Mt&&(p.enableHardwareAccelerationForVideoEncode(!0),d(JL({encode:Mt})))})),ye||console.warn("Cannot capture HD video due to either account restriction and/or hardware limitation"));const ee=rt||rt===void 0&&!!_e&&gt===void 0,on=gt||gt===void 0&&!!Oe;let nt=Promise.resolve({});if(ee){const Mt=rt||{imageUrl:void 0,cropped:void 0};nt=pJ({...Mt,captureWidth:ot,captureHeight:Fe,cameraId:Me,hd:we},p,ce).then((()=>Mt))}else if(on){const Mt=gt||{imageUrl:void 0,cropped:void 0,clip:void 0,rootWidth:void 0,rootHeight:void 0};Mt.rootWidth||Object.assign(Mt,{rootWidth:1280}),Mt.rootHeight||Object.assign(Mt,{rootHeight:720}),nt=mJ({...Mt,captureWidth:ot,captureHeight:Fe,cameraId:Me,hd:we},p,ce).then((()=>Mt))}K!=null&&K.mediaFile&&!Ls.isSupportMediaPlaybackAsVideoInput()&&(console.warn("Cannot use media file as video input due to the browser limitation."),Object.assign(K,{mediaFile:void 0})),nt.then((Mt=>Sve("video",c()).then((()=>Mt)))).then((Mt=>{$Ne(p,ce,K).forEach((Pt=>{d(Pt)})),ee?d(uJ(Mt)):on&&d(dJ(Mt))})).catch((Mt=>{d(a3(!1)),it(W0e,{...Mt??{}})}))}else d(a3(!1))})),Jx(dwe.startCaptureVideo).then((()=>{d(WQ(!1)),d(jQ(!1))})).catch((oe=>Promise.reject(b_e(oe)))).finally((()=>{d(a3(!1))})))})(this[An],e)}stopVideo(){return(e=>{const{store:{getState:n},mediaAgent:o}=e,{video:{isCaptureCameraLoading:i,isCurrentUserStartedVideo:c,isUsingMediaPlayback:d}}=n();return i?Promise.reject({type:ln,reason:"Camera is starting,please wait.",errorCode:at.VIDEO_CAPTURE_LOADING}):c?(o.stopCaptureVideo(),d&&vg.getInstance().stopVideoElement(),vr(w3,(p=>p?.failed!==!0))):Promise.reject({type:ln,reason:"camera is closed",errorCode:at.VIDEO_MISMATCH_STATE})})(this[An])}switchCamera(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{video:{cameraDevicesList:v,isCurrentUserStartedVideo:S,virtualBackground:_,mask:x,mediaPlaybackFile:P,isUsingMediaPlayback:B,customizedVideoOption:z,activeCamera:U}}=p;if(typeof o=="string"&&!HNe(o,v))return Promise.reject({type:tr,reason:"Cannot find cameraDeviceId in camera devices list.",errorCode:at.STREAM_MISMATCH_DEVICE});const H=U===o;if(S||_!=null&&_.isVBConfigured||x.isMaskConfigured){if(typeof o=="string"){const{captureWidth:K,captureHeight:oe}=Ete(z);d.changeCamera(o,Tz.includes(o),{width:K,height:oe},H),c(Dve(void 0)),vg.getInstance().stopVideoElement()}else if(o&&(!B||P?.url!==o.url)){const K=vg.getInstance();K.setVideoElement(o).then((()=>{d.changeCamera(K.videoElement),c(Dve(o))}))}return z!=null&&z.customVideoConstraints&&!H&&c(yNe()),Jx(dwe.switchCameraVideo).then((()=>{c(WQ(!1)),c(jQ(!1))})).catch((K=>(d.stopCaptureVideo(),Promise.reject(b_e(K)))))}return typeof o=="string"&&c(Q3(o)),Promise.resolve()})(this[An],e)}createProcessor(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{media:{videoEncodeStatus:v,audioEncodeStatus:S,sharingEncodeStatus:_},processor:{processorCreatedList:x},meeting:{mediaFeatureOptions:P}}=p,{type:B,name:z}=o;if(!(B in Qx)||!Qx[B].detectAction(P||""))throw{type:ln,reason:`Your browser does not support ${B} processor.`,errorCode:Qx[B].errorCode.unsupported};if(x.some((({name:K,type:oe})=>K===z&&oe===B)))throw{type:tr,reason:"You have already created this Processor",errorCode:Qx[B].errorCode.duplicateCreate};const U={video:v,audio:S,share:_}[B],H=await dc(Hf(B,U,"success").pipe(hi((([K])=>{if(K)return Vp(Kn(d.addProcessor(o)).pipe(So((ce=>({result:ce})))),Eu(1e4).pipe(So((()=>{throw{type:fte,errorCode:at.OPERATION_TIMEOUT}}))));throw{type:Xh,reason:`${oe=B,u9e(PNe(oe).toLowerCase())} encode status is failed`,errorCode:at.INTERNAL_ERROR};var oe})),Cm((K=>{throw K!=null&&K.type?K:{type:Xh,reason:"An error occurred while creating a Processor.",errorCode:at.INTERNAL_ERROR}}))));if(!H.result)throw{type:Xh,reason:"An error occurred while creating a Processor.",errorCode:at.INTERNAL_ERROR};return c(f4e(o)),H.result})(this[An],e)}addProcessor(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{processor:{processorCreatedList:v,processorInstanceList:S},video:{backgroundMode:_,mask:x,virtualBackground:P}}=p,{name:B,type:z}=o,U=["video","share"].includes(z);if(!v.some((({name:H,type:K})=>H===B&&K===z)))throw{type:tr,reason:"Processor not found.",errorCode:Qx[z].errorCode.mismatchProcessor};if(S.some((({type:H,name:K})=>H===z&&(U||B===K))))throw{type:ln,reason:U?`Currently we only support using one ${z} processor at a time.`:"Cannot add this processor again.",errorCode:Qx[z].errorCode.limitExceed};if(z==="video"){if((_===Ch.VirtualBackground||_===Ch.Mask)&&(x.imageSrc||P.imageSrc))throw{type:ln,reason:"Cannot use video processor when virtual background or mask is enabled",errorCode:at.VIDEO_VB_PROCESSOR_CONFLICT};c(kve(Ch.VideoProcessor))}return await d.startProcessor(o),c(p4e({name:B,type:z})),""})(this[An],e)}removeProcessor(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{processor:{processorInstanceList:v}}=p,{name:S,type:_}=o;if(!v.some((({name:x,type:P})=>x===S&&P===_)))throw{type:tr,reason:"Processor not found.",errorCode:Qx[_].errorCode.mismatchProcessor};return await d.stopProcessor(o),c(m4e({name:S,type:_})),_==="video"&&c(kve(Ch.Null)),""})(this[An],e)}renderVideo(e,n,o,i,c,d,p,v,S){return AKe(this[An],e,n,o,i,c,d,p,v,S)}stopRenderVideo(e,n,o,i,c=!1,d){return((p,v,S,_,x,P=!1,B)=>{const{store:{getState:z,dispatch:U},mediaAgent:H}=p,K=z(),{video:{subscribedVideoList:oe,renderedVideoList:ce},meeting:{userId:re}}=K;if(oe.includes(S)){const ye=_||_O;if(rk()&&S===re&&iA(v))return v.pause(),U(cJ(S)),U(i1e(v.id)),Promise.resolve("");if(ce.find((_e=>_e.userId===S&&_e.key===ye&&_e.canvasId===v.id))&&(H.stopRenderVideo(v.id,S,ye,Qpe(x),P),ce.filter((_e=>_e.userId===S)).length==1&&(S!==re&&H.unsubscribeVideo(S),U(cJ(S))),U(qQ({userId:S,key:ye,canvasId:v.id}))),B&&re!==B){const{video:{subscribedVideoList:_e,prefetchedVideo:Oe}}=z();h3(K).find((F=>F.userId===B))&&!_e.includes(B)&&Oe?.userId!==B&&U(x3({userId:B,lastCopy:Oe}))}}return Promise.resolve("")})(this[An],e,n,o,i,c,d)}updateVideoCanvasDimension(e,n,o){return((i,c,d,p)=>{const{mediaAgent:v}=i;return d>=0&&p>=0&&v.updateRenderedVideoCanvasDimension(c,d,p),Promise.resolve("")})(this[An],e,n,o)}adjustRenderedVideoPosition(e,n,o,i,c,d,p){return((v,S,_,x,P,B,z,U)=>{const{store:{getState:H,dispatch:K},mediaAgent:oe}=v,{video:{subscribedVideoList:ce}}=H();if(ce.includes(_)){if(iA(S))return Promise.resolve("");const re=U||_O;oe.adjustRenderedVideoPosition(S.id,_,re,B,z,x,P,Qpe("#000")),K(Ek({userId:_,key:re,canvasId:S.id,aspectRatio:P?x/P:0}))}else console.warn("Cannot adjust the size or position of the video as the video has not been rendered yet.");return Promise.resolve("")})(this[An],e,n,o,i,c,d,p)}clearVideoCanvas(e,n){return((o,i,c)=>{const{mediaAgent:d}=o;return d.clearVideoCanvas(i.id,Qpe(c)),Promise.resolve("")})(this[An],e,n)}mirrorVideo(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{video:{isCurrentUserStartedVideo:v,virtualBackground:S,isMirrored:_}}=p;return _===o||((v||S!=null&&S.isVBConfigured)&&y_e(o,d,p),c(gNe(o))),Promise.resolve("")})(this[An],e)}enableHardwareAcceleration(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,{video:{isSupportHDVideo:p}}=i(),v=[];if(typeof o=="boolean"||o.decode!==void 0){const S=typeof o=="boolean"?o:!!o.decode;S?v.push(Ls.isSupportVideoDecodeHardwareAcceleration().then((_=>(_&&d.enableHardwareAccelerationForVideoDecode(_),c(JL({decode:_})),_)))):(d.enableHardwareAccelerationForVideoDecode(S),c(JL({decode:S})),v.push(!0))}if(typeof o=="boolean"||o.encode!==void 0){const S=typeof o=="boolean"?o:!!o.encode;p?S?Ls.isCompatibleHardwareForEncode()?v.push(Ls.isSupportVideoEncodeHardwareAcceleration().then((_=>(_&&d.enableHardwareAccelerationForVideoEncode(_),c(JL({encode:_})),_)))):(console.warn("Can not turn on hardware acceleration with your graphic card due to the technical limitation"),v.push(!1)):(d.enableHardwareAccelerationForVideoEncode(!1),c(JL({encode:!1})),v.push(!0)):typeof o!="boolean"&&o!=null&&o.encode&&(console.warn("Can not use the hardware acceleration for video encoding due to the account restriction"),v.push(!1))}return Promise.all(v).then((S=>S.every((_=>!!_))))})(this[An],e)}subscribeVideoStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,{media:{videoDecodeStatus:p,videoEncodeStatus:v},video:{subscriptionStatus:S}}=c(),_=!o||o.decode,x=!o||o.encode;return Hf("video",v,p).subscribe((([P,B])=>{const z={};_&&B&&!S.decode&&(i.subscribeToQos([kp.VideoDecode],iO),Object.assign(z,{decode:!0})),x&&P&&!S.encode&&(i.subscribeToQos([kp.VideoEncode],iO),Object.assign(z,{encode:!0})),o!=null&&o.detailed&&B&&!S.detailed&&(i.enableVideoObserver(!0),Object.assign(z,{detailed:!0})),d(Mve(z))})),null})(this[An],e)}unsubscribeVideoStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{dispatch:c}}=n,d=!o||o.decode,p=!o||o.encode,v={};return d&&(i.unsubscribeFromQos([kp.VideoDecode]),c(KQ(AO)),Object.assign(v,{decode:!1})),p&&(i.unsubscribeFromQos([kp.VideoEncode]),c(YQ(AO)),Object.assign(v,{encode:!1})),o!=null&&o.detailed&&(i.enableVideoObserver(!1),Object.assign(v,{detailed:!1})),c(Mve(v)),null})(this[An],e)}previewVirtualBackground(e,n,o,i){return((c,d,p,v,S)=>{const{store:{getState:_,dispatch:x},mediaAgent:P}=c,B=_();return pJ({imageUrl:p,cropped:v,cameraId:S},P,B,d).then((z=>(typeof z=="object"&&z!=null&&z.type&&x(z),x(uJ({imageUrl:p,cropped:v})),!0))).catch((z=>Promise.reject({type:ln,...z??{}})))})(this[An],e,n,o,i)}updateVirtualBackgroundImage(e,n){return((o,i,c)=>{const{store:{getState:d,dispatch:p},mediaAgent:v}=o,S=d(),{video:{virtualBackground:{imageSrc:_,cropped:x},backgroundMode:P}}=S;return i===_&&c===x?Promise.resolve(!0):P===Ch.Mask||P===Ch.VideoProcessor?Promise.reject({type:ln,reason:`Cannot update virtual background in the ${P===Ch.Mask?"mask":"video processor"} mode`,errorCode:at.VIDEO_VB_PROCESSOR_CONFLICT}):pJ({imageUrl:i,cropped:c},v,S).then((B=>(typeof B=="object"&&B!=null&&B.type&&p(B),p(uJ({imageUrl:i,cropped:c})),!0))).catch((B=>Promise.reject({type:ln,...B??{}})))})(this[An],e,n)}stopPreviewVirtualBackground(){return(e=>{const{store:{getState:n},mediaAgent:o}=e,{video:{virtualBackground:{isVBConfigured:i}}}=n();return i?(o.stopVirtualBackgroundSetting(),Promise.resolve(!0)):Promise.reject({type:ln,reason:"Cannot stop preview virtual background before start",errorCode:at.VIDEO_VB_MISMATCH_STATE})})(this[An])}previewVideoMask(e,n){return((o,i,c)=>{const{store:{getState:d,dispatch:p},mediaAgent:v}=o,S=d();return c.rootWidth&&c.rootHeight||Object.assign(c,{rootWidth:i.width,rootHeight:i.height}),mJ(c,v,S,i).then((_=>(typeof _=="object"&&_!=null&&_.type&&p(_),p(dJ(c)),!0))).catch((_=>Promise.reject({type:ln,..._??{}})))})(this[An],e,n)}updateVideoMask(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{video:{mask:v,backgroundMode:S}}=p,{isMaskConfigured:_}=v;if(S===Ch.VirtualBackground||S===Ch.VideoProcessor)return Promise.reject({type:ln,reason:`Cannot update mask in the ${S===Ch.VirtualBackground?"virtual background":"video processor"} mode`,errorCode:at.VIDEO_MASK_PROCESSOR_CONFLICT});if(_){const x={...o};return["imageUrl","cropped","clip","rootHeight","rootWidth"].forEach((P=>{o?.[P]===void 0&&(P==="imageUrl"?Object.assign(x,{imageUrl:v.imageSrc}):Object.assign(x,{[`${P}`]:v[P]}))})),mJ(x,d,p).then((P=>(typeof P=="object"&&P!=null&&P.type&&c(P),c(dJ(x)),!0))).catch((P=>Promise.reject({type:ln,...P??{}})))}return Promise.reject({type:ln,reason:"Cannot update mask",errorCode:at.VIDEO_MASK_IMAGE_INACCESSIBLE})})(this[An],e)}stopPreviewVideoMask(){return(e=>{const{store:{getState:n},mediaAgent:o}=e,{video:{mask:{isMaskConfigured:i}}}=n();return i?(o.stopMaskSetting(),Promise.resolve(!0)):Promise.reject({type:ln,reason:"Cannot stop preview mask before start",errorCode:at.VIDEO_MASK_IMAGE_INACCESSIBLE})})(this[An])}requestFarEndCameraControl(e){return((n,o)=>{const{store:{getState:i},rwgAgent:c}=n,d=i(),{meeting:{userId:p},video:{farEndCameraControlStatus:{controlledUserList:v}}}=d;return p===o?Promise.reject({type:ln,reason:'Using "stream.controlCamera" method to control self camera',errorCode:at.FAR_END_CAMERA_CONTROL_MISMATCH_STATE}):h3(d).findIndex((S=>S.userId===o))===-1?Promise.reject({type:tr,reason:"Cannot request control camera with video off",errorCode:at.FAR_END_CAMERA_CONTROL_MISMATCH_STATE}):Ome(d).findIndex((S=>S.userId===o))!==-1?(v.includes(o)||c.sendFarEndCameraControl(gg.Request,o),Promise.resolve("")):Promise.reject({type:ln,reason:"The far end camera does not support PTZ",errorCode:at.FAR_END_CAMERA_CONTROL_DEVICE_UNSUPPORTED})})(this[An],e)}approveFarEndCameraControl(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d}=n,{video:{currentCameraControlStatus:{isRequested:p,isInControl:v,controllingUserId:S},ptz:_,activeCamera:x}}=i();if(p){if(v&&(!S||o===S))return Promise.resolve("");d.sendFarEndCameraControl(gg.Approve,o);const P=_?.[x];return P!==void 0&&d.sendCameraAblity({pan:!!P.pan,tilt:!!P.tilt,zoom:!!P.zoom}),c(XQ(!1)),c(JQ({isInControl:!0,userId:o})),it(DQ,{isControlled:!0,userId:o}),Promise.resolve("")}return Promise.reject({type:ln,reason:"Cannot approve before request",errorCode:at.FAR_END_CAMERA_CONTROL_MISMATCH_STATE})})(this[An],e)}declineFarEndCameraControl(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d}=n,{video:{currentCameraControlStatus:{isInControl:p,isRequested:v}}}=i();return v||p?(d.sendFarEndCameraControl(gg.Decline,o),c(XQ(!1)),c(JQ({isInControl:!1,userId:0})),it(DQ,{isControlled:!1}),Promise.resolve("")):Promise.reject({type:ln,reason:"Cannot decline before request",errorCode:at.FAR_END_CAMERA_CONTROL_MISMATCH_STATE})})(this[An],e)}giveUpFarEndCameraControl(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d}=n,{video:{farEndCameraControlStatus:{controlledUserList:p}}}=i();return p.includes(o)?(d.sendFarEndCameraControl(gg.GiveUp,o),c(QQ(o)),Promise.resolve("")):Promise.reject({type:ln,reason:"Cannot give up control befire aquired",errorCode:at.FAR_END_CAMERA_CONTROL_MISMATCH_STATE})})(this[An],e)}controlCamera(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,{video:{isCurrentUserStartedVideo:p,ptz:v,activeCamera:S}}=i();if(p){const{cmd:_,range:x,reset:P}=o,B=v[S];if(B){const z=u1e(B)||{},{key:U,range:H}=zNe(_,x);if(B[U])return Object.assign(z,{[U]:P?0:UNe(B[U].capability,B[U].value,H)}),d.movePTZCamera(z).then((()=>{c(s1e({constraints:z,deviceId:S}))})).catch((K=>Promise.reject({type:Xh,reason:K,errorCode:at.INTERNAL_ERROR})))}return Promise.resolve("")}return Promise.reject({type:ln,reason:"Cannot control the camera before it's started",errorCode:at.FAR_END_CAMERA_CONTROL_MISMATCH_STATE})})(this[An],e)}controlFarEndCamera(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d}=n,p=i(),{video:{farEndCameraControlStatus:{controlledUserList:v,isControlling:S}}}=p,{userId:_,cmd:x,range:P}=o;if(S)return Promise.reject({type:ln,reason:"Cannot send new command while the previous control is not done",errorCode:at.FAR_END_CAMERA_RATE_LIMIT});if(v.includes(_)){if(x===aO.SwitchCamera)return d.sendFarEndCameraControl(gg.SwitchCamera,_,aO.SwitchCamera),Promise.resolve("");{const B=Ome(p).find((z=>z.userId===_));if(B==null||!B.nFECC)return Promise.reject({type:ln,reason:"The far end camera does not support PTZ",errorCode:at.FAR_END_CAMERA_CONTROL_DEVICE_UNSUPPORTED});if(P&&P>0){const z=P/100*1e4;return d.sendFarEndCameraControl(gg.StartControl,_,x),c(Rve(!0)),j6(200).pipe(wh(Eu(z-100).pipe(Yr(1)))).subscribe((()=>{d.sendFarEndCameraControl(gg.ContinueControl,_,x)})),dc(Eu(z).pipe(Bo((()=>{d.sendFarEndCameraControl(gg.StopControl,_,x),c(Rve(!1))})))).then((()=>""))}return Promise.reject({type:tr,reason:"Range cannot be negative or 0",errorCode:at.FAR_END_CAMERA_INVALID_RANGE})}}return Promise.reject({type:ln,reason:"Cannot control before request granted",errorCode:at.FAR_END_CAMERA_PERMISSION_REQUIRED})})(this[An],e)}attachVideo(e,n,o){return((i,c,d,p)=>{const{store:{getState:v,dispatch:S},mediaAgent:_}=i,x=v(),{meeting:{userId:P,isUseWBVideo:B},media:{enforceMultipleVideos:z,alternativeNameForVideoPlayer:U,disableRenderLimits:H},video:{videoAttachments:K,subscribedVideoList:oe}}=x,ce=Ls.getMaxCountRender(B,!!z,H),re=oe.filter((ot=>ot!==P)).length;if(ce>1&&c!==P&&!oe.includes(c)&&re>=ce)return Promise.reject({type:ln,reason:`subscribe video counts greater than maximum size (${ce})`,errorCode:at.VIDEO_RENDER_LIMIT_EXCEED});if(h3(x).findIndex((ot=>ot.userId===c))===-1)return Promise.reject({type:tr,reason:"user is not send video",errorCode:at.STREAM_MISMATCH_USER});const{media:{videoDecodeStatus:ye}}=x;let _e;const Oe=U??"video-player";if(p){var F;const[ot,Fe]=mX(p,Oe);if(!ot)return Promise.reject(Fe);_e=Fe;const De=Number((F=_e.getAttribute("node-id"))!==null&&F!==void 0?F:"0");if(De!==c&&rk()&&[De,c].includes(P)){var Me;const we=document.createElement(Oe);for(const ct of _e.attributes)we.setAttribute(ct.name,ct.value);De&&(_e.setAttribute("node-id","0"),S(hJ({userId:De,element:_e}))),(Me=_e.parentElement)===null||Me===void 0||Me.replaceChild(we,_e),_e=we}}else _e=document.createElement(Oe);return Hf("video","success",ye).subscribe((async([ot,Fe])=>{if(Fe){const we=K[`${c}`];var De;we!=null&&we.includes(_e)?_e.setAttribute("video-quality",`${d}`):(De=_e)===null||De===void 0||De.setAttribute("node-id",`${c}`),S(r1e({userId:c,element:_e})),c!==P&&_.subscribeVideo(c,d,!1),oe.includes(c)||S(GQ(c)),S(Ek({userId:c,key:_O,canvasId:C3,videoQuality:d,aspectRatio:16/9}))}})),Promise.resolve(_e)})(this[An],e,n,o)}detachVideo(e,n){return((o,i,c)=>{const{store:{getState:d,dispatch:p},mediaAgent:v}=o,S=d(),{video:{subscribedVideoList:_,videoAttachments:x},meeting:{userId:P},media:{alternativeNameForVideoPlayer:B}}=S;if(_.includes(i)){let U;const H=B??"video-player";if(c){const[ce,re]=mX(c,H);U=ce?re:void 0}const K=x[`${i}`];let oe;if(K&&K.length!==0){var z;U?K.findIndex((ye=>ye===U))!==-1?(oe=U,oe.setAttribute("node-id","0"),p(hJ({userId:i,element:oe}))):console.warn(`${c} has not been attached with userID:${i}`):(oe=[...K],oe.forEach((ye=>{ye.setAttribute("node-id","0")})),p(hJ({userId:i,element:oe})));const{video:{videoAttachments:ce,renderedVideoList:re}}=d();((z=ce[`${i}`])===null||z===void 0?void 0:z.length)===0&&(re.filter((ye=>ye.userId===i&&ye.canvasId!==C3)).length===0&&(i!==P&&v.unsubscribeVideo(i),p(cJ(i))),p(qQ({userId:i,key:_O,canvasId:C3})))}else console.warn(`UserId:${i} has not been attached.`);return Promise.resolve(oe)}return Promise.resolve(void 0)})(this[An],e,n)}spotlight(e,n){return((o,i,c)=>{const{store:{getState:d},rwgAgent:p}=o,v=d(),{video:{spotlightUserList:S}}=v;return S.includes(i)?Promise.reject({type:tr,reason:`userId:${i} has already spotlighted`,errorCode:at.VIDEO_SPOTLIGHT_MISMATCH_STATE}):h3(v).findIndex((_=>_.userId===i))===-1?Promise.reject({type:tr,reason:`userId:${i} has not started video`,errorCode:at.STREAM_MISMATCH_USER}):(p.spotlightVideo(i,{bReplace:c,bSpotlight:!0,bUnSpotlightAll:!1}),vr(_3,(_=>{const{spotlightList:x}=_;return x.includes(i)})))})(this[An],e,n)}removeSpotlight(e){return((n,o)=>{const{store:{getState:i},rwgAgent:c}=n,d=i(),{meeting:{userId:p},video:{spotlightUserList:v}}=d,S=o||p,_=Na(d);if(!v.includes(S)||_.findIndex((B=>B.userId===S))===-1)return Promise.reject({type:tr,reason:`userId:${o} is not spotlighted`,errorCode:at.VIDEO_SPOTLIGHT_MISMATCH_STATE});const x=Iv(d);if(v.length>1&&S===p&&!x)return Promise.reject({type:ln,reason:"Cannot remove spotlight for self when the host has multiple spotlighted videos",errorCode:at.VIDEO_SPOTLIGHT_MULTI_CONFLICT});if(S!==p&&!x)return Promise.reject({type:Bp,reason:"only host or co-host can cancel others spotlight",errorCode:at.CLIENT_HOST_OR_MANAGER_PERMISSION_REQUIRED});c.spotlightVideo(S,{bReplace:!1,bSpotlight:!1,bUnSpotlightAll:!1});const P=S===p&&v.length===1?MQ:_3;return vr(P,(B=>{const{spotlightList:z}=B;return!z.includes(S)}))})(this[An],e)}removeAllSpotlights(){return(e=>{const{store:{getState:n},rwgAgent:o}=e,{video:{spotlightUserList:i}}=n();return i.length===0?Promise.resolve(""):(o.spotlightVideo(null,{bUnSpotlightAll:!0}),vr(_3,(c=>{const{spotlightList:d}=c;return d.length===0})))})(this[An])}screenshotVideo(e){return(async(n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,{video:{subscribedVideoList:p,selfPreviewVideoList:v,customizedVideoOption:S}}=c(),_=us(c()),x=o===_?.userId&&_.bVideoOn&&(v.length>0||!(S==null||!S.videoElement));if(!p.includes(o)&&!x)return Promise.reject({type:tr,reason:"user is not send video",errorCode:at.STREAM_MISMATCH_USER});try{const P=await i.screenshot(o,"video");return o!==_?.userId&&d(Ave({targetUser:o,userId:_?.userId,displayName:_?.displayName})),P}catch(P){return Promise.reject({type:Xh,reason:P,errorCode:at.INTERNAL_ERROR})}})(this[An],e)}isCapturingVideo(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.video&&o.video.isCurrentUserStartedVideo})(this[An])}isCameraTaken(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.video&&o.video.isCameraTaken})(this[An])}isCaptureForbidden(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.video&&o.video.isCaptureForbidden})(this[An])}getCameraList(){return(e=>{const{store:{getState:n}}=e,o=n();if(!o.video)return[];const{video:{cameraDevicesList:i}}=o;return i.map((c=>Object.assign({},c)))})(this[An])}getActiveCamera(){return(e=>{const{store:{getState:n}}=e,o=n();return o.video?o.video.activeCamera:""})(this[An])}getActiveVideoId(){return(e=>{const{store:{getState:n}}=e,o=n();return o.video?o.video.activeVideoId:0})(this[An])}getVideoMaxQuality(){return(e=>{const{store:{getState:n}}=e,o=n();return o.video?o.video.receivedVideoMaxQuality:bQ.Video_90P})(this[An])}getReceivedVideoDimension(){return(e=>{const{store:{getState:n}}=e,o=n();return o.video?o.video.receivedVideoDimension:null})(this[An])}getCapturedVideoResolution(){return(e=>{const{store:{getState:n}}=e;return{...n().video.capturedVideoDimension}})(this[An])}isSupportMultipleVideos(){return(e=>{const{store:{getState:n}}=e,{meeting:{isUseWBVideo:o},media:{enforceMultipleVideos:i,disableRenderLimits:c}}=n();return Ls.getMaxCountRender(o,i,c)>1})(this[An])}isSupportHDVideo(){return(e=>{var n;const{store:{getState:o}}=e;return(n=o().video)===null||n===void 0?void 0:n.isSupportHDVideo})(this[An])}getHardwareAccelerationStatus(){return(e=>{var n;const{store:{getState:o}}=e;return(n=o().video)===null||n===void 0?void 0:n.hardwareAcceleration})(this[An])}getVideoStatisticData(){return(({store:{getState:e}})=>{const{video:{statistic:n}}=e();return{...n}})(this[An])}isSupportVirtualBackground(){return(e=>{const{store:{getState:n}}=e,o=n();return Cve(o.media.enforceVirtualBackground,o.meeting.isUseWBVideo)})(this[An])}getVirtualbackgroundStatus(){return(e=>{const{store:{getState:n}}=e;return{...n().video.virtualBackground}})(this[An])}isRenderSelfViewWithVideoElement(){return rk(this[uc].getState().meeting.isUseWBVideo)}getNetworkQuality(e){return((n,o)=>{var i;const{store:{getState:c}}=n,d=c(),{video:p,meeting:{userId:v}}=d,S=o??v,_=p==null||(i=p.networkQuality)===null||i===void 0?void 0:i[`${S}`];if(_){const x={};return _.uplink&&Object.assign(x,{uplink:_.uplink.level}),_.downlink&&Object.assign(x,{downlink:_.downlink.level}),x}return null})(this[An],e)}getFarEndCameraPTZCapability(e){return((n,o)=>{const{store:{getState:i}}=n,c=Ome(i()).find((d=>d.userId===o));return c?.nFECC!==void 0?jNe(c?.nFECC):{pan:!1,tilt:!1,zoom:!1}})(this[An],e)}getCameraPTZCapability(e){return((n,o)=>{const{store:{getState:i}}=n,{video:{ptz:c,activeCamera:d}}=i(),p=c[o??d];return{pan:!(p==null||!p.pan),tilt:!(p==null||!p.tilt),zoom:!(p==null||!p.zoom)}})(this[An],e)}isBrowserSupportPTZ(){const{pan:e,tilt:n,zoom:o}=Ls.getPTZCapability();return e||n||o}getVideoMaskStatus(){return(e=>{var n;const{store:{getState:o}}=e,i=o(),{isMaskConfigured:c,imageSrc:d,...p}=((n=i.video)===null||n===void 0?void 0:n.mask)||{};return{...p,imageUrl:d}})(this[An])}isVideoMirrored(){return(e=>{const{store:{getState:n}}=e,{video:{isMirrored:o}}=n();return o})(this[An])}getSpotlightedUserList(){return(e=>{const{store:{getState:n}}=e,o=n();if(!o.video)return[];const{video:{spotlightUserList:i}}=o;return Na(o).filter((c=>i.includes(c.userId))).map((c=>Tk(c)))})(this[An])}getVideoMediaPlaybackController(){return(({store:{getState:e},mediaAgent:n})=>{const o=e(),{video:{isUsingMediaPlayback:i}}=o;if(i){const{videoElement:c}=vg.getInstance();return Iwe(c,"video",o,n)}return null})(this[An])}getMaxRenderableVideos(){return(e=>{const{store:{getState:n}}=e,{meeting:{isUseWBVideo:o},media:{enforceMultipleVideos:i,disableRenderLimits:c}}=n();return Ls.getMaxCountRender(o,i,c)})(this[An])}startShareView(e,n,o){return(async(i,c,d,p)=>{const{store:{getState:v,dispatch:S},mediaAgent:_,rwgAgent:x}=i,P=v(),{share:{renderedEnsuredCanvas:B,isReceiveSharingFromMainSession:z,shareViewAttachments:U},media:{sharingDecodeStatus:H,alternativeNameForVideoPlayer:K}}=P;await(async function(ye,_e,Oe,F){const{share:{isReceiveSharing:Me,isRemoteSharingActive:ot,activeNodeId:Fe,isSimultaneousShareView:De,status:we,annotationUsers:ct,isReceiveSharingFromMainSession:rt,ssrc:gt}}=Oe;if(De){if(!ye)return Promise.reject({type:tr,reason:"",errorCode:at.STREAM_MISMATCH_USER});if(rt){if(_e!==Fe)return Promise.reject({type:tr,reason:"",errorCode:at.STREAM_MISMATCH_USER})}else{const on=PAe(Q_(Oe),_e);if(on)return on}if(Me)return Promise.reject({type:ln,reason:"",errorCode:at.SCREEN_SHARE_MISMATCH_STATE});const ee=MAe(ct,gt,F);if(ee)return ee;await dc(Rwe(Oe))}else{if(!ye||_e!==Fe)return Promise.reject({type:tr,reason:"",errorCode:at.STREAM_MISMATCH_USER});if(!ot||Me||we!==Zr.End)return Promise.reject({type:ln,reason:"",errorCode:at.SCREEN_SHARE_MISMATCH_STATE})}return""})(c,d,P,_),c.id||(c.id=aA("__ZOOM_SDK_SHARE_CANVAS_@__"));const oe=!!p;var ce,re;if(ce=U[`${d}`],re=c.id,!ce?.find((ye=>ye.isDummy&&ye.canvasId===re))){const ye=J3e(d,c.id,K??"video-player");ye.setAttribute("share-source",z?"main":""),S(Aee({userId:d,element:ye}))}return Hf("sharing","success",H).subscribe((([,ye])=>{if(ye){let _e=c;B.includes(c.id)||(_e=UQ(c),S(z3e(c.id))),S(IO(!0)),N3(x,v(),d),_.renderSharing(d,_e,oe,p,z),s4e(d,v(),_)}})),H==="failed"?Promise.reject({type:Xh,reason:"",errorCode:at.INTERNAL_ERROR}):vr(PQ,(ye=>!!ye),6e4)})(this[An],e,n,o)}stopShareView(){return(e=>{const{store:{dispatch:n,getState:o},rwgAgent:i,mediaAgent:c}=e,{share:{isReceiveSharing:d,activeNodeId:p,shareViewAttachments:v},breakoutRoom:S}=o();if(!d)return Promise.resolve("");let _=!1;S?.currentRoom.status===rr.InRoom&&S.mainSessionAttendeeList.length>0&&(_=S.mainSessionAttendeeList.findIndex((z=>z.userId===p))>-1);const x=((P=v[`${p}`])==null?void 0:P.filter((z=>z.isDummy)))||[];var P;x&&x.length>0&&n(_6({userId:p,element:x})),c.stopRenderSharing(),i.unsubscribeSharing(p,_);const{share:{shareViewAttachments:B}}=o();return Object.entries(B).every((([,z])=>z.length===0))&&n(IO(!1)),Promise.resolve("")})(this[An])}switchShareView(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d,mediaAgent:p}=n,v=i(),{share:{isReceiveSharing:S,activeNodeId:_,isReceiveSharingFromMainSession:x},breakoutRoom:P}=v;if(!S)return Promise.reject({type:ln,errorCode:at.SCREEN_SHARE_MISMATCH_STATE});if(!Z2(v))return Promise.reject({type:ln,errorCode:at.SCREEN_SHARE_MISMATCH_STATE,reason:"Cannot use `switchShareView` to switch when using `attachShareView`. Please use the sequence `detachShareView(oldUserId)`  `attachShareView(newUserId)` to perform the switch."});if(o===_)return Promise.resolve("");let B=[];if(B=x?P.mainSessionAttendeeList.filter((U=>U.bShareToBORooms&&U.sharerOn)):Q_(v),!(B.findIndex((U=>U.userId===_))>-1))return Promise.reject({type:tr,reason:"no matching user id",errorCode:at.STREAM_MISMATCH_USER});{var z;const U=(z=K_(o,v))!==null&&z!==void 0?z:o,H=kbe(_,o,U,{state:v,rwgAgent:d,mediaAgent:p});Array.isArray(H)&&H.length>0&&H.forEach((K=>c(K))),c(D3({bStatus:1,activeNodeID:o,ssrc:U})),it(NQ,{userId:o})}return Promise.resolve("")})(this[An],e)}updateSharingCanvasDimension(e,n){return((o,i,c)=>{const{store:{getState:d},mediaAgent:p}=o,v=d(),{share:{isReceiveSharing:S,isGrabRemoteControl:_,remoteControlViewportDomSelector:x}}=v;if(S&&(p.updateRenderedSharingDimension(i,c),_&&x)){const P=document.querySelector(x);p.updateRemoteControlProperties({dimension:P&&$Q(P)})}return Promise.resolve("")})(this[An],e,n)}startShareScreen(e,n){return(async(o,i,c)=>{const{store:{getState:d,dispatch:p},mediaAgent:v}=o,S=d(),{meeting:{meetingOptions:_},share:{sharePrivilege:x,ssrc:P,capturedEnsuredCanvas:B},media:{sharingEncodeStatus:z},breakoutRoom:U}=S;await nZe(i,S,c);const H=Iv(S);if(c!=null&&c.broadcastToBreakoutRoom){if(!H||U?.currentRoom.status===rr.InRoom)return H?Promise.reject({type:ln,reason:"Unable to share screen to breakout room when in the room",errorCode:at.SCREEN_SHARE_SUBSESSION_CONFLICT}):Promise.reject({type:Bp,errorCode:at.SCREEN_SHARE_HOST_PRIVILEGE_REQUIRED});p(J5(!0))}else p(J5(!1));return c?.requestReadReceipt!==void 0&&p($3e(c?.requestReadReceipt)),c?.optimizedForSharedVideo!==void 0&&x!==Uy.MultipleShare&&p(_ee(c?.optimizedForSharedVideo&&Ls.isSupportVideoShareSend())),i.id||(i.id=aA("__ZOOM_SDK_SELF_SHARE_CANVAS_@__")),p(Ibe(!(c==null||!c.simultaneousShareView))),Hf("sharing",z,"success").subscribe((([K])=>{if(K){B.includes(i.id)||(UQ(i),p(U3e(i.id)));let oe=document.querySelector(`#${GEe}`);oe&&oe.tagName==="VIDEO"||(oe=document.createElement("video"),oe.id=GEe,oe.style.display="none",document.body.appendChild(oe));const ce=c!=null&&c.secondaryCameraId?{cameraId:c.secondaryCameraId,width:c.captureWidth,height:c.captureHeight}:void 0,re=!(c!=null&&c.hideShareAudioOption);v.startDesktopSharing(P,i,oe,ce,_!=null&&_.isDisableShareAudioIntoBo?re&&!(c!=null&&c.broadcastToBreakoutRoom):re,c?.displaySurface,c?.sourceId,c?.controls),p(Eee(void 0)),p(F3e(!!ce))}})),new Promise(((K,oe)=>{Vp(wa(Mp).pipe(yn((ce=>ce.sharerOn!==void 0)),Yr(1)),wa(NMe,1).pipe(nn((ce=>UO({reason:ce.reason||"user deny screen share",errorCode:ce.reason?at.SCREEN_SHARE_SYSTEM_DENIED:at.SCREEN_SHARE_USER_DENIED}))))).subscribe({next:ce=>{if(ce.sharerOn===!0){const{share:{isSharingToBreakoutRoom:re},meeting:{meetingOptions:ye}}=d(),_e=!(ye!=null&&ye.isDisableShareAudioIntoBo||!re);v.enableShareAudioToBreakoutRoom(_e),K("")}else oe({type:Xh,errorCode:at.INTERNAL_ERROR})},error:ce=>{oe({type:ln,...ce})}})}))})(this[An],e,n)}stopShareScreen(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i,mediaAgent:c}=e,{share:{status:d,isSimultaneousShareView:p},meeting:{userId:v}}=n();return d===Zr.End?Promise.resolve(""):(i.stopSharing(v),c.stopDesktopSharing(),o(Sg(Zr.End)),p&&o(Ibe(!1)),vr(Mp,(S=>S.sharerOn===!1)))})(this[An])}pauseShareScreen(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i,mediaAgent:c}=e,d=n(),{share:{status:p},breakoutRoom:v}=d;if(p===Zr.Sharing){if(i.pauseSharing(),c.pauseDesktopSharing(),v&&Ag(d)){const S=us(d);return Promise.resolve("").then((()=>{if(S){const{userId:_,sharerOn:x,bShareAudioOn:P,bVideoShare:B}=S,z={userId:_,sharerOn:x,sharerPause:!0,bShareAudioOn:P,bVideoShare:B};o(c4({update:[z]})),o(Sg(Zr.Paused)),it(Mp,z)}}))}return vr(Mp,(S=>S.sharerPause===!0)).then((()=>(o(Sg(Zr.Paused)),"")))}return Promise.reject({type:ln,errorCode:at.SCREEN_SHARE_MISMATCH_STATE})})(this[An])}resumeShareScreen(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i,mediaAgent:c}=e,d=n(),{share:{status:p},breakoutRoom:v}=d;if(p===Zr.Paused){if(i.resumeSharing(),c.resumeDesktopSharing(),v&&Ag(d)){const S=us(d);return Promise.resolve("").then((()=>{if(S){const{userId:_,sharerOn:x,bShareAudioOn:P,bVideoShare:B}=S,z={userId:_,sharerOn:x,sharerPause:!1,bShareAudioOn:P,bVideoShare:B};o(c4({update:[z]})),o(Sg(Zr.Sharing)),it(Mp,z)}}))}return vr(Mp,(S=>S.sharerOn===!0&&S.sharerPause===!1)).then((()=>(o(Sg(Zr.Sharing)),"")))}return Promise.reject({type:ln,errorCode:at.SCREEN_SHARE_MISMATCH_STATE})})(this[An])}setSharePrivilege(e){return ETe(this[An],e)}lockShare(e){return((n,o)=>ETe(n,o?Uy.OnlyHost:Uy.HostGrab))(this[An],e)}shareToBreakoutRoom(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i,mediaAgent:c}=e,{meeting:{userId:d},breakoutRoom:p,share:{isSharingToBreakoutRoom:v,status:S}}=n();return S===Zr.End?Promise.reject({type:ln,reason:"Invalid sharing status",errorCode:at.SCREEN_SHARE_MISMATCH_STATE}):v?Promise.resolve(""):p.currentRoom.status===rr.InRoom?Promise.reject({type:ln,reason:"Unable to share screen to breakout room when in the room",errorCode:at.SCREEN_SHARE_SUBSESSION_CONFLICT}):(i.startShareToBreakoutRoom(d),o(J5(!0)),c.enableShareAudioToBreakoutRoom(!0),Promise.resolve(""))})(this[An])}stopShareToBreakoutRoom(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i,mediaAgent:c}=e,{meeting:{userId:d},share:{isSharingToBreakoutRoom:p}}=n();return p&&(i.stopShareToBreakoutRoom(d),o(J5(!1)),c.enableShareAudioToBreakoutRoom(!1)),Promise.resolve("")})(this[An])}muteOthersScreenShare(e){return((n,o)=>{const{store:{getState:i},rwgAgent:c}=n,d=i(),{meeting:{userId:p}}=d,v=Q_(d);return o===p?Promise.reject({type:ln,reason:"Cannot mute self share, use 'stopScreenShare' instead",errorCode:at.SCREEN_SHARE_MISMATCH_STATE}):v.findIndex((S=>S.userId===o))===-1?Promise.reject({type:tr,reason:"Target user is not sharing",errorCode:at.STREAM_MISMATCH_USER}):(c.stopSharing(o),vr(NS,(S=>S.some((_=>_.userId===o&&_.sharerOn===!1)))))})(this[An],e)}enableOptimizeForSharedVideo(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d,rwgAgent:p}=n,{share:{status:v,isOptimizedForSharedVideo:S,isSharingToBreakoutRoom:_,sharePrivilege:x},audio:{isSharingAudio:P},meeting:{userId:B}}=i();return v!==Zr.End?S===o?Promise.resolve(""):x!==Uy.MultipleShare?o&&!Ls.isSupportVideoShareSend()?Promise.reject({type:ln,reason:"Cannot enable optimize for shared video due to the platform is not supported ",errorCode:at.SCREEN_SHARE_OPTIMIZE_VIDEO_UNSUPPORTED}):(p.startSharing(B,{bShareAudio:P,bShareToBO:_,bShareVideo:o}),d.switchSharingMode(o?u6.VideoMode:u6.Normal),vr({event:Mp,operations:[yn((z=>z.bVideoShare!==void 0)),Yr(1)]},(z=>z.bVideoShare===o)).then((()=>(c(_ee(o)),"")))):Promise.reject({type:ln,reason:"Cannot enable optimize for shared video when enabling multiple screen shares",errorCode:at.SCREEN_SHARE_OPTIMIZE_VIDEO_CONFLICT}):Promise.reject({type:ln,reason:"Cannot enable optimize for shared video when screen share is not started",errorCode:at.SCREEN_SHARE_MISMATCH_STATE})})(this[An],e)}updateSharedVideoQuality(e){return((n,o)=>{const{store:{getState:i,dispatch:c},rwgAgent:d}=n,p=i(),{share:{shareQuality:v,activeNodeId:S,isReceiveSharing:_}}=p,x=c3e(p);return _&&S!==0?(x&&v!==o&&(N3(d,p,S,o),c(N1e(o))),Promise.resolve("")):Promise.reject({type:ln,reason:"Cannot update shared video quality when screen share is not started",errorCode:at.SCREEN_SHARE_MISMATCH_STATE})})(this[An],e)}subscribeShareStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{getState:c}}=n,d=c(),{media:{sharingEncodeStatus:p,sharingDecodeStatus:v}}=c(),S=us(d),_=!o||o.decode,x=!o||o.encode;if(!S)return Promise.reject({type:ln,reason:"Call this function after the 'join' method resolved.",errorCode:at.STREAM_SESSION_JOIN_REQUIRED});{const P=ef(S.userRole)||!Zo.isSupportSendScreenSharing?"failed":p;Hf("sharing",P,v).subscribe((([B,z])=>{_&&z&&i.subscribeToQos([kp.SharingDecode],iO),x&&B&&i.subscribeToQos([kp.SharingEncode],iO)}))}return""})(this[An],e)}unsubscribeShareStatisticData(e){return(async(n,o)=>{const{mediaAgent:i,store:{dispatch:c}}=n,d=!o||o.decode,p=!o||o.encode;return d&&(i.unsubscribeFromQos([kp.SharingDecode]),c(rz(AO))),p&&(i.unsubscribeFromQos([kp.SharingEncode]),c(rz(AO))),null})(this[An],e)}screenshotSharedContent(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,{share:{isReceiveSharing:p,activeNodeId:v,shareViewAttachments:S}}=i();if(!p)return Promise.reject({type:ln,reason:"Cannot take screenshot when screen share is not started",errorCode:at.SCREEN_SHARE_MISMATCH_STATE});{let _=v;if(o){if(!Object.entries(S).some((([P,B])=>Number(P)===o&&B.length>0)))return Promise.reject({type:tr,reason:"User is not in the shared content rendering list",errorCode:at.STREAM_MISMATCH_USER});_=o}const x=us(i());try{const P=await d.screenshot(_,"sharing");return c(L3e({targetUser:_,userId:x?.userId,displayName:x?.displayName})),P}catch(P){return Promise.reject({type:Xh,errorCode:at.INTERNAL_ERROR,reason:P})}}})(this[An],e)}attachShareView(e,n){return(async(o,i,c)=>{const{store:{getState:d,dispatch:p},mediaAgent:v,rwgAgent:S}=o,_=d(),{media:{sharingDecodeStatus:x,alternativeNameForVideoPlayer:P}}=_,B=P??"video-player";let z;if(await(function(U,H,K){const{share:{isSimultaneousShareView:oe,annotationUsers:ce,ssrc:re,status:ye,isReceiveSharing:_e,remoteControlledUserList:Oe,isReceiveSharingFromMainSession:F,activeNodeId:Me},meeting:{userId:ot},breakoutRoom:Fe}=H,De=[];if(F){var we;const gt=us(H);De.push(...(we=Fe?.mainSessionAttendeeList.filter((ee=>!ee.bid&&!ee.bHold&&ee.userGUID!==gt?.userGUID)))!==null&&we!==void 0?we:[])}else{var ct,rt;De.push(...(ct=(rt=Q_(H))===null||rt===void 0?void 0:rt.filter((gt=>gt.userId!==ot)))!==null&&ct!==void 0?ct:[])}if(U!==Me){const gt=PAe(De,U);if(gt)return gt}if(oe){const gt=MAe(ce,re,K);if(gt)return gt}else if(ye!==Zr.End)return Promise.reject({type:ln,reason:"Screen share is in progress",errorCode:at.SCREEN_SHARE_MISMATCH_STATE});if(_e){if(ce.some((on=>on.isInitialized)))return Promise.reject({type:ln,reason:"Cannot attach multiple share views due to annotation is in progress",errorCode:at.SCREEN_SHARE_MISMATCH_STATE});if(Oe.length>0)return Promise.reject({type:ln,reason:"Cannot attach multiple share views due to remote control is in progress",errorCode:at.SCREEN_SHARE_MISMATCH_STATE});const gt=O1e(H),ee=NAe();if(gt>=ee)return Promise.reject({type:ln,reason:`Cannot attach multiple share views exceeding the maximum allowed limit(${ee})`,errorCode:at.SCREEN_SHARE_LIMIT_EXCEED})}return""})(i,_,v),c){const[U,H]=mX(c,B);if(!U)return Promise.reject(H);z=H}else z=document.createElement(B);return await dc(Hf("sharing","success",x).pipe(nn((async([,U])=>{if(U){await h6(Rwe(d()));const K=d(),{share:{isReceiveSharing:oe,shareViewAttachments:ce,isReceiveSharingFromMainSession:re}}=K,ye=ce[`${i}`];var H;z&&ye&&ye.findIndex((_e=>_e===z))!==-1?console.warn("Share view already attached"):(z.setAttribute("media-type","share"),z.setAttribute("share-source",re?"main":""),z.setAttribute("node-id",`${i}`)),p(Aee({userId:i,element:z})),N3(S,K,i,void 0,oe),oe||(p(IO(!0)),p(D3({bStatus:1,activeNodeID:i,ssrc:(H=K_(i,K))!==null&&H!==void 0?H:i})),r4e(i,{state:K,rwgAgent:S,mediaAgent:v}))}})))),Promise.resolve(z)})(this[An],e,n)}detachShareView(e,n){return(async(o,i,c)=>{const{store:{getState:d,dispatch:p},rwgAgent:v,mediaAgent:S}=o,_=d(),{share:{shareViewAttachments:x},media:{alternativeNameForVideoPlayer:P}}=_;if(x[`${i}`]){var B;const H=i4e(i,{state:_,rwgAgent:v,mediaAgent:S});let K;Array.isArray(H)&&H.length>0&&H.forEach((Oe=>p(Oe)));const oe=P??"video-player";if(c){const[Oe,F]=mX(c,oe);K=Oe?F:void 0}let ce;const re=x[`${i}`];K?re.findIndex((Oe=>Oe===K))!==-1?(ce=K,ce.setAttribute("node-id","0"),p(_6({userId:i,element:ce}))):console.warn(`${c} has not been attached with userID:${i}`):(ce=[...re.filter((Oe=>!Oe.isDummy))],ce.forEach((Oe=>{Oe.setAttribute("node-id","0")})),p(_6({userId:i,element:ce})));const{share:{shareViewAttachments:ye},breakoutRoom:_e}=d();if(((B=ye[`${i}`])===null||B===void 0?void 0:B.length)===0){let Oe=!1;_e?.currentRoom.status===rr.InRoom&&_e.mainSessionAttendeeList.length>0&&(Oe=_e.mainSessionAttendeeList.findIndex((Fe=>Fe.userId===i))>-1);const F=Object.entries(ye).filter((([,Fe])=>Fe.length!=0)).length,Me=[0,1].includes(F),ot=F===0;if(v.unsubscribeSharing(i,Oe,!Me),ot&&p(IO(!1)),F===1){var z;const Fe=(z=Object.entries(ye).find((([,De])=>De.length!==0)))===null||z===void 0?void 0:z[0];if(Fe){var U;const De=Number(Fe);p(D3({bStatus:1,activeNodeID:De,ssrc:(U=K_(De,_))!==null&&U!==void 0?U:De}))}}}return Promise.resolve(ce)}return Promise.resolve(void 0)})(this[An],e,n)}startAnnotation(){return(async e=>{const{store:{getState:n,dispatch:o},mediaAgent:i}=e,c=n(),{share:{ssrc:d,activeSsrc:p,isReceiveSharing:v,status:S,annotationVanishingToolTimer:_}}=c,x=S!==Zr.End,P=await(async function(U){const{share:{ssrc:H,activeSsrc:K,annotationCapability:oe,isReceiveSharing:ce,status:re,isReceiveSharingFromMainSession:ye,annotationUsers:_e}}=U,Oe=re!==Zr.End;if(!Oe&&!ce)return Promise.reject({type:ln,reason:"No active share session",errorCode:at.SCREEN_SHARE_ANNOTATION_NO_ACTIVE_SHARE});if(oe===0||Oe&&oe===1)return Promise.reject({type:ln,reason:"Annotation is not enabled for your account.",errorCode:at.SCREEN_SHARE_ANNOTATION_ACCOUNT_DISABLE});const F=_e.find((Me=>Me.ssrc===(ce?K:H)));if(ce){if(ye)return Promise.reject({type:ln,reason:"You cannot annotation on share to subsession content.",errorCode:at.SCREEN_SHARE_ANNOTATION_NOT_SUPPORT});if(F!=null&&F.isDisabled)return Promise.reject({type:ln,reason:"Annotation is disabled for the current share session by sharer.",errorCode:at.SCREEN_SHARE_ANNOTATION_PRESENTER_DISABLED});if(F!=null&&F.isStarted)return Promise.reject({type:ln,reason:"Annotation is already started",errorCode:at.SCREEN_SHARE_ANNOTATION_DUPLICATE_START})}else if(Oe&&F!=null&&F.isStarted)return Promise.reject({type:ln,reason:"Annotation is already started",errorCode:at.SCREEN_SHARE_ANNOTATION_DUPLICATE_START});return F})(c),B=us(c);setTimeout((()=>{v?(i.startViewerAnnotation(d,p,B?.displayName||""),i.annotateAction(Rp.UPDATE_VANISHING_TOOL_TIME,{displayTime:2e3,outTime:2e3})):x&&(i.startPresenterAnnotation(d,d,B?.displayName||""),i.annotateAction(Rp.UPDATE_VANISHING_TOOL_TIME,{displayTime:_.displayTime,outTime:_.vanishingTime}))}),0);const z=v?p:d;return P!=null&&P.isInitialized?(o(OS({ssrc:z,isStarted:!0})),Promise.resolve("")):(o(OS({ssrc:z,isInitialized:!0,isStarted:!0})),vr(rve,(U=>(U&&o(OS({ssrc:z,isInitialized:!1,isStarted:!1})),!U))))})(this[An])}stopAnnotation(){return(e=>{const{store:{getState:n,dispatch:o},mediaAgent:i}=e,{share:{isReceiveSharing:c,activeSsrc:d,ssrc:p,annotationUsers:v}}=n(),S=c?d:p,_=v.find((P=>P.ssrc===S));if(_==null||!_.isInitialized||!_.isStarted)return Promise.reject({type:ln,reason:"Annotation is not started.",errorCode:at.SCREEN_SHARE_ANNOTATION_NOT_START});o(OS({ssrc:_.ssrc,isStarted:!1}));const x={toolType:fE.None};return i.annotateAction(Rp.SELECT_TOOL,x),o(P3(fE.None)),i.annotateAction(Rp.CLOSE_TOOL_BAR),Promise.resolve("")})(this[An])}changeAnnotationPrivilege(e){return((n,o)=>{const{store:{getState:i},rwgAgent:c}=n,{meeting:{userId:d}}=i();return c.toggleShareAnnotation(o,d),vr(J0e,(p=>!!p))})(this[An],e)}showAnnotatorName(e){return((n,o)=>{const{store:{getState:i},mediaAgent:c}=n,{share:{status:d}}=i();return d!==Zr.End?(c.annotateAction(Rp.SHOW_ANNOTATOR_NAME,{toShow:o}),Promise.resolve("")):Promise.reject({type:ln,reason:"Only the share presenter can control the name display during a session session.",errorCode:at.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER})})(this[An],e)}canDoAnnotation(){return(e=>{var n;const{store:{getState:o}}=e,{share:{isReceiveSharing:i,activeNodeId:c,status:d,annotationCapability:p,isReceiveSharingFromMainSession:v,isSimultaneousShareView:S,annotationUsers:_},meeting:{userId:x}}=o(),P=d!==Zr.End;if(!P&&!i||p===0||P&&p===1)return!1;const B=i?c:x,z=(n=K_(B,o()))!==null&&n!==void 0?n:B,U=_.find((K=>{var oe;return K.ssrc===z||$f(z,(oe=K.userId)!==null&&oe!==void 0?oe:0)})),H=U?.isDisabled;return!(i&&(v||H)||S||u3e(o()))})(this[An])}getAnnotationController(){return(e=>({setToolType:n=>((o,i)=>{const{store:{getState:c,dispatch:d},mediaAgent:p}=o,{share:{annotationToolColor:v,annotationSpotlightColor:S,annotationToolWidth:_,status:x}}=c();if(!Object.values(fE).includes(i))return Promise.reject({type:ln,reason:`toolType = ${i} is invalid`,errorCode:at.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});const P=x!==Zr.End,B=i===fE.Spotlight;if(B&&!P)return Promise.reject({type:ln,reason:"Only the share presenter can spotlight",errorCode:at.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});const z={toolType:i,color:B?S:v,width:_};return p.annotateAction(Rp.SELECT_TOOL,z),d(P3(i)),Promise.resolve("")})(e,n),setToolWidth:n=>((o,i)=>{const{store:{getState:c,dispatch:d},mediaAgent:p}=o,{share:{annotationToolType:v,annotationToolColor:S}}=c(),_=Math.ceil(i),x={toolType:v,color:S,width:_};return p.annotateAction(Rp.SELECT_TOOL,x),d(K3e(_)),Promise.resolve("")})(e,n),setToolColor:n=>((o,i)=>{const{store:{getState:c,dispatch:d},mediaAgent:p}=o,{share:{annotationToolType:v,annotationToolWidth:S}}=c(),_={toolType:v,color:i,width:S};return p.annotateAction(Rp.SELECT_TOOL,_),d(v===fE.Spotlight?Z3e(i):q3e(i)),Promise.resolve("")})(e,n),getToolWidth:()=>(n=>{const{store:{getState:o}}=n,{share:{annotationToolWidth:i}}=o();return i})(e),getToolColor:()=>(n=>{const{store:{getState:o}}=n,{share:{annotationToolType:i,annotationToolColor:c,annotationSpotlightColor:d}}=o();return i===fE.Spotlight?d:c})(e),getToolType:()=>(n=>{const{store:{getState:o}}=n,{share:{annotationToolType:i}}=o();return i})(e),undo:()=>(n=>{const{mediaAgent:o}=n;return o.annotateAction(Rp.UNDO),Promise.resolve("")})(e),redo:()=>(n=>{const{mediaAgent:o}=n;return o.annotateAction(Rp.REDO),Promise.resolve("")})(e),clear:n=>((o,i)=>{const{store:{getState:c},mediaAgent:d}=o,{share:{status:p,isReceiveSharing:v},meeting:{isHost:S}}=c();if(!Object.values(Vpe).includes(i))return Promise.reject({type:ln,reason:`clearType = ${i} is invalid`,errorCode:at.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});const _=p!==Zr.End;if(i===Vpe.All&&v&&!S)return Promise.reject({type:ln,reason:"As a viewer, you cannot clear all annotation",errorCode:at.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});if(i===Vpe.Viewer&&!_)return Promise.reject({type:ln,reason:"You must be the presenter to clear the annotation from the viewer",errorCode:at.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});const x={clearType:i,isHost:S};return d.annotateAction(Rp.CLEAR,x),Promise.resolve("")})(e,n),setVanishingToolTimer:n=>((o,i)=>{const{store:{getState:c,dispatch:d},mediaAgent:p}=o,{share:{annotationVanishingToolTimer:v}}=c(),{displayTime:S,vanishingTime:_}=i;if(S&&(S<0||S>15e3))return Promise.reject({type:ln,reason:"Vanishing tool display time should be within range of [0, 15] seconds",errorCode:at.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});if(_&&(_<1e3||_>15e3))return Promise.reject({type:ln,reason:"Vanishing tool vanishing time should be within range of [1, 15] seconds",errorCode:at.SCREEN_SHARE_ANNOTATION_INCORRECT_PARAMETER});const x={displayTime:S??v.displayTime,outTime:_??v.vanishingTime};return p.annotateAction(Rp.UPDATE_VANISHING_TOOL_TIME,x),d(Y3e({displayTime:x.displayTime,vanishingTime:x.outTime})),Promise.resolve("")})(e,n),getVanishingToolTimer:()=>(n=>{const{store:{getState:o}}=n,{share:{annotationVanishingToolTimer:i}}=o();return i})(e)}))(this[An])}getShareUserList(){return(e=>{const{store:{getState:n}}=e,o=n();if(!o.share)return[];const{share:{isReceiveSharingFromMainSession:i}}=o;if(i){const{breakoutRoom:{mainSessionAttendeeList:c}}=o;return c.filter((d=>d.bShareToBORooms&&(d.sharerOn||d.sharerPause))).map((d=>Tk(d)))}return Q_(o).map((c=>Tk(c)))})(this[An])}getActiveShareUserId(){return(e=>{const{store:{getState:n}}=e,o=n();return o.share&&o.share.isRemoteSharingActive?o.share.activeNodeId:0})(this[An])}isReceiveSharing(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&o.share.isReceiveSharing})(this[An])}getShareViewDimension(){return(e=>{const{store:{getState:n}}=e,o=n();if(o.share){if(o.share.status!==Zr.End)return{...o.share.shareDimension};{const{share:{receivedShareDimension:i}}=o;return{width:i.width,height:i.height}}}return null})(this[An])}getShareStatus(){return(e=>{const{store:{getState:n}}=e,o=n();return o.share?o.share.status:null})(this[An])}isShareLocked(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&o.share.sharePrivilege===Uy.OnlyHost})(this[An])}isReceiveSharingFromMainSession(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&o.share.isReceiveSharingFromMainSession})(this[An])}getSharePrivilege(){return(e=>{const{store:{getState:n}}=e,o=n();return o.share?o.share.sharePrivilege:null})(this[An])}isStartShareScreenWithVideoElement(){return Zo.isSupportMediaStreamTrackProcessor}isOptimizeForSharedVideoEnabled(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&!!o.share.isOptimizedForSharedVideo})(this[An])}isSupportOptimizedForSharedVideo(){return Ls.isSupportVideoShareSend()}isSupportVideoProcessor(){return Ime(this[An],"video")}isSupportAudioProcessor(){return Ime(this[An],"audio")}isSupportShareProcessor(){return Ime(this[An],"share")}getShareStatisticData(){return(({store:{getState:e}})=>{const{share:{statistic:n}}=e();return{...n}})(this[An])}getMaxRenderableShareViews(){return NAe()}requestRemoteControl(){return(e=>{const{store:{getState:n},rwgAgent:o}=e,{share:{isReceiveSharing:i,activeNodeId:c,isRemoteControlEnabled:d}}=n();return d?wTe(e,c)?i?V2(n())?Promise.reject({type:ln,reason:"Already get the approval",errorCode:at.REMOTE_CONTROL_MISMATCH_STATE}):(o.sharingRequestRemoteControl(c,!0),new Promise((p=>{wa(LQ,1).subscribe((v=>{p(v)}))}))):Promise.reject({type:ln,reason:"Cannot request control due to no sharing available",errorCode:at.REMOTE_CONTROL_MISMATCH_STATE}):Promise.reject({type:tr,errorCode:at.REMOTE_CONTROL_MISMATCH_STATE}):Promise.reject({type:ln,reason:"Cannot request control due to the feature is not enabled.",errorCode:at.REMOTE_CONTROL_ACCOUNT_DISABLE})})(this[An])}giveUpRemoteControl(){return(e=>{const{store:{getState:n},rwgAgent:o}=e,{share:{isGrabRemoteControl:i,activeNodeId:c}}=n();return V2(n())?(i&&o.subscribeGrabRemoteControl(c,!1),o.sharingRequestRemoteControl(c,!1),vr(LQ,(d=>d===!1))):Promise.reject({type:ln,errorCode:at.REMOTE_CONTROL_MISMATCH_STATE})})(this[An])}startRemoteControl(e){return(async(n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d,rwgAgent:p}=n,{share:{isSDKGrabControl:v,activeNodeId:S}}=i();if(!V2(i()))return Promise.reject({type:ln,reason:"required to be approved",errorCode:at.REMOTE_CONTROL_PERMISSION_REQUIRED});if(await n4e(S,o,i(),p,d),o.dataset.zmrvId||o.setAttribute("data-zmrv-id",aA("__ZOOM_SDK_RC_VIEWPORT_DATA_ID_@__")),c(B1e(`${o.tagName}[data-zmrv-id="${o.dataset.zmrvId}"]`)),v){const{share:{isGrabRemoteControl:_}}=i();return _?Promise.resolve(""):vr(yk,(x=>!!x))}return Jx({success:UMe,fail:[zMe]})})(this[An],e)}grabRemoteControl(){return(e=>{const{store:{getState:n},rwgAgent:o}=e,{share:{isGrabRemoteControl:i,activeNodeId:c}}=n();return V2(n())?i?Promise.resolve(""):(o.subscribeGrabRemoteControl(c,!0),vr(yk,(d=>!!d))):Promise.reject({type:ln,reason:"should be approved before grab",errorCode:at.REMOTE_CONTROL_PERMISSION_REQUIRED})})(this[An])}updateRemoteControlViewportDimension(e){return((n,o)=>{const{store:{getState:i},mediaAgent:c}=n;return V2(i())&&c.updateRemoteControlProperties({dimension:{scaleWidth:o.width,scaleHeight:o.height,srcOffsetX:o.left,srcOffsetY:o.top}}),Promise.resolve("")})(this[An],e)}approveRemoteControl(e,n){return((o,i,c)=>{const{store:{getState:d,dispatch:p},rwgAgent:v,mediaAgent:S}=o,_=d(),{share:{status:x,isEnableAutoDeleteRcApp:P,remoteControllingSsrc:B},meeting:{userId:z}}=_;if(x===Zr.End)return Promise.reject({type:ln,reason:"Cannot approve remote control when sharing is not ongoing.",errorCode:at.REMOTE_CONTROL_MISMATCH_STATE});if(x===Zr.Paused&&(v.resumeSharing(),S.resumeDesktopSharing(),p(Sg(Zr.Sharing))),S.isSharingEntireScreen()){var U,H;B&&!$f(B,i)&&(Tee(_,v),p(bE("")));const K=(U=K_(i,_))!==null&&U!==void 0?U:i,{isMacOS:oe}=Zo,ce=(H=Na(_).find((re=>$f(re.userId,K))))===null||H===void 0?void 0:H.displayName;return v.remoteControlConsent(SQ.Approve,K,z,{...S.getShareStreamInfo(),platform:Zo.isMacOS?"mac":"win",controllerName:ce?bu(ce):""},P,oe?void 0:c?1:0),p(M3(K)),vr(qMe)}return Promise.reject({type:ln,reason:"Cannot approve remote control when not sharing entire screen.",errorCode:at.REMOTE_CONTROL_MISMATCH_DISPLAY_SURFACE})})(this[An],e,n)}declineRemoteControl(e){return((n,o)=>{var i;const{store:{getState:c},rwgAgent:d,mediaAgent:p}=n,v=c(),{meeting:{userId:S},share:{isEnableAutoDeleteRcApp:_}}=v,x=(i=K_(o,v))!==null&&i!==void 0?i:o;return d.remoteControlConsent(SQ.Decline,x,S,{...p.getShareStreamInfo(),platform:Zo.isMacOS?"mac":"win"},_),Promise.resolve("")})(this[An],e)}stopRemoteControl(){return(e=>{const{store:{getState:n,dispatch:o},rwgAgent:i}=e;return Tee(n(),i),o(bE("")),o(M3(0)),Promise.resolve("")})(this[An])}launchRemoteControlApp(e){return((n,o)=>{const{store:{getState:i,dispatch:c}}=n,d=i(),{share:{remoteControlAppLaunchSheme:p}}=d;return p?(c(bE(o?`${p}&bAutoDelete=1`:p)),c(K2(Dp.Unknown)),Promise.resolve("")):Promise.reject({type:ln,reason:"Cannot launch app due to no permission",errorCode:at.REMOTE_CONTROL_INVALID_LAUNCH_SCHEME})})(this[An],e)}isRemoteControlEnabled(){return(e=>{var n;const{store:{getState:o}}=e;return!((n=o().share)===null||n===void 0||!n.isRemoteControlEnabled)})(this[An])}getRemoteControlAppDownloadUrl(){return(e=>{const{store:{getState:n}}=e,o=n();return o.share?o.share.remoteControlAppDownloadUrl:null})(this[An])}isTargetShareSupportRemoteControl(e){return wTe(this[An],e)}isRemotelyControlApproved(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&V2(o)})(this[An])}isControllingUserRemotely(){return(e=>{const{store:{getState:n}}=e,o=n();return!!o.share&&o.share.isGrabRemoteControl})(this[An])}getRemotelyControllingUser(){return(e=>{const{store:{getState:n}}=e,o=n();if(o.share){const{remoteControllingSsrc:i}=o.share;if(i)return Na(o).find((c=>$f(c.userId,i)))}return null})(this[An])}getShareStreamSettings(){return(({store:{getState:e},mediaAgent:n})=>{const{share:{status:o}}=e();return o!==Zr.End?n.getShareStreamInfo(!0):null})(this[An])}},Fn(Et.prototype,"startAudio",[$n,_Te,xb],Object.getOwnPropertyDescriptor(Et.prototype,"startAudio"),Et.prototype),Fn(Et.prototype,"stopAudio",[$n,ATe,xb],Object.getOwnPropertyDescriptor(Et.prototype,"stopAudio"),Et.prototype),Fn(Et.prototype,"muteAudio",[$n,TTe,xb],Object.getOwnPropertyDescriptor(Et.prototype,"muteAudio"),Et.prototype),Fn(Et.prototype,"unmuteAudio",[$n,xTe,xb],Object.getOwnPropertyDescriptor(Et.prototype,"unmuteAudio"),Et.prototype),Fn(Et.prototype,"dialOut",[$n,OTe,ITe],Object.getOwnPropertyDescriptor(Et.prototype,"dialOut"),Et.prototype),Fn(Et.prototype,"cancelDialOut",[$n,RTe,kTe],Object.getOwnPropertyDescriptor(Et.prototype,"cancelDialOut"),Et.prototype),Fn(Et.prototype,"hangup",[$n,DTe,xb],Object.getOwnPropertyDescriptor(Et.prototype,"hangup"),Et.prototype),Fn(Et.prototype,"switchMicrophone",[$n,MTe,xb],Object.getOwnPropertyDescriptor(Et.prototype,"switchMicrophone"),Et.prototype),Fn(Et.prototype,"switchSpeaker",[$n,PTe,xb],Object.getOwnPropertyDescriptor(Et.prototype,"switchSpeaker"),Et.prototype),Fn(Et.prototype,"muteShareAudio",[$n,NTe,LTe,xb],Object.getOwnPropertyDescriptor(Et.prototype,"muteShareAudio"),Et.prototype),Fn(Et.prototype,"unmuteShareAudio",[$n,BTe,VTe,xb],Object.getOwnPropertyDescriptor(Et.prototype,"unmuteShareAudio"),Et.prototype),Fn(Et.prototype,"subscribeAudioStatisticData",[$n,FTe,xb],Object.getOwnPropertyDescriptor(Et.prototype,"subscribeAudioStatisticData"),Et.prototype),Fn(Et.prototype,"unsubscribeAudioStatisticData",[$n,HTe,xb],Object.getOwnPropertyDescriptor(Et.prototype,"unsubscribeAudioStatisticData"),Et.prototype),Fn(Et.prototype,"enableBackgroundNoiseSuppression",[$n,$Te,xb],Object.getOwnPropertyDescriptor(Et.prototype,"enableBackgroundNoiseSuppression"),Et.prototype),Fn(Et.prototype,"enableSyncButtonsOnHeadset",[$n,UTe,xb],Object.getOwnPropertyDescriptor(Et.prototype,"enableSyncButtonsOnHeadset"),Et.prototype),Fn(Et.prototype,"enableOriginalSound",[$n,zTe,xb],Object.getOwnPropertyDescriptor(Et.prototype,"enableOriginalSound"),Et.prototype),Fn(Et.prototype,"callCRCDevice",[$n,jTe,WTe],Object.getOwnPropertyDescriptor(Et.prototype,"callCRCDevice"),Et.prototype),Fn(Et.prototype,"cancelCallCRCDevice",[$n,GTe,qTe],Object.getOwnPropertyDescriptor(Et.prototype,"cancelCallCRCDevice"),Et.prototype),Fn(Et.prototype,"muteAllAudio",[vu,$n,ZTe],Object.getOwnPropertyDescriptor(Et.prototype,"muteAllAudio"),Et.prototype),Fn(Et.prototype,"unmuteAllAudio",[vu,$n,KTe],Object.getOwnPropertyDescriptor(Et.prototype,"unmuteAllAudio"),Et.prototype),Fn(Et.prototype,"muteAudioUponEntry",[vu,$n,YTe],Object.getOwnPropertyDescriptor(Et.prototype,"muteAudioUponEntry"),Et.prototype),Fn(Et.prototype,"allowUnmuteAudioThemselves",[vu,$n,XTe],Object.getOwnPropertyDescriptor(Et.prototype,"allowUnmuteAudioThemselves"),Et.prototype),Fn(Et.prototype,"startVideo",[$n,JTe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"startVideo"),Et.prototype),Fn(Et.prototype,"stopVideo",[$n,QTe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"stopVideo"),Et.prototype),Fn(Et.prototype,"switchCamera",[$n,exe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"switchCamera"),Et.prototype),Fn(Et.prototype,"createProcessor",[$n,txe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"createProcessor"),Et.prototype),Fn(Et.prototype,"addProcessor",[$n,nxe,dOe],Object.getOwnPropertyDescriptor(Et.prototype,"addProcessor"),Et.prototype),Fn(Et.prototype,"removeProcessor",[$n,oxe,dOe],Object.getOwnPropertyDescriptor(Et.prototype,"removeProcessor"),Et.prototype),Fn(Et.prototype,"renderVideo",[TKe,$n,sxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"renderVideo"),Et.prototype),Fn(Et.prototype,"stopRenderVideo",[pOe,$n,rxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"stopRenderVideo"),Et.prototype),Fn(Et.prototype,"updateVideoCanvasDimension",[fOe,$n,ixe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"updateVideoCanvasDimension"),Et.prototype),Fn(Et.prototype,"adjustRenderedVideoPosition",[pOe,$n,axe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"adjustRenderedVideoPosition"),Et.prototype),Fn(Et.prototype,"clearVideoCanvas",[fOe,$n,lxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"clearVideoCanvas"),Et.prototype),Fn(Et.prototype,"mirrorVideo",[$n,cxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"mirrorVideo"),Et.prototype),Fn(Et.prototype,"enableHardwareAcceleration",[$n,uxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"enableHardwareAcceleration"),Et.prototype),Fn(Et.prototype,"subscribeVideoStatisticData",[$n,dxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"subscribeVideoStatisticData"),Et.prototype),Fn(Et.prototype,"unsubscribeVideoStatisticData",[$n,hxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"unsubscribeVideoStatisticData"),Et.prototype),Fn(Et.prototype,"previewVirtualBackground",[$n,fxe,pxe],Object.getOwnPropertyDescriptor(Et.prototype,"previewVirtualBackground"),Et.prototype),Fn(Et.prototype,"updateVirtualBackgroundImage",[$n,mxe,gxe],Object.getOwnPropertyDescriptor(Et.prototype,"updateVirtualBackgroundImage"),Et.prototype),Fn(Et.prototype,"stopPreviewVirtualBackground",[$n,vxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"stopPreviewVirtualBackground"),Et.prototype),Fn(Et.prototype,"previewVideoMask",[hOe,$n,bxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"previewVideoMask"),Et.prototype),Fn(Et.prototype,"updateVideoMask",[$n,yxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"updateVideoMask"),Et.prototype),Fn(Et.prototype,"stopPreviewVideoMask",[$n,Sxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"stopPreviewVideoMask"),Et.prototype),Fn(Et.prototype,"requestFarEndCameraControl",[$n,Cxe,WL],Object.getOwnPropertyDescriptor(Et.prototype,"requestFarEndCameraControl"),Et.prototype),Fn(Et.prototype,"approveFarEndCameraControl",[$n,Exe,WL],Object.getOwnPropertyDescriptor(Et.prototype,"approveFarEndCameraControl"),Et.prototype),Fn(Et.prototype,"declineFarEndCameraControl",[$n,wxe,WL],Object.getOwnPropertyDescriptor(Et.prototype,"declineFarEndCameraControl"),Et.prototype),Fn(Et.prototype,"giveUpFarEndCameraControl",[$n,_xe,WL],Object.getOwnPropertyDescriptor(Et.prototype,"giveUpFarEndCameraControl"),Et.prototype),Fn(Et.prototype,"controlCamera",[$n,Axe,WL],Object.getOwnPropertyDescriptor(Et.prototype,"controlCamera"),Et.prototype),Fn(Et.prototype,"controlFarEndCamera",[$n,Txe,WL],Object.getOwnPropertyDescriptor(Et.prototype,"controlFarEndCamera"),Et.prototype),Fn(Et.prototype,"attachVideo",[$n,xxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"attachVideo"),Et.prototype),Fn(Et.prototype,"detachVideo",[$n,Oxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"detachVideo"),Et.prototype),Fn(Et.prototype,"spotlight",[vu,$n,Ixe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"spotlight"),Et.prototype),Fn(Et.prototype,"removeSpotlight",[$n,Rxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"removeSpotlight"),Et.prototype),Fn(Et.prototype,"removeAllSpotlights",[wd,$n,kxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"removeAllSpotlights"),Et.prototype),Fn(Et.prototype,"screenshotVideo",[$n,Dxe,Sd],Object.getOwnPropertyDescriptor(Et.prototype,"screenshotVideo"),Et.prototype),Fn(Et.prototype,"startShareView",[hOe,$n,Mxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"startShareView"),Et.prototype),Fn(Et.prototype,"stopShareView",[$n,Pxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"stopShareView"),Et.prototype),Fn(Et.prototype,"switchShareView",[$n,Nxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"switchShareView"),Et.prototype),Fn(Et.prototype,"updateSharingCanvasDimension",[$n,Lxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"updateSharingCanvasDimension"),Et.prototype),Fn(Et.prototype,"startShareScreen",[$n,Bxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"startShareScreen"),Et.prototype),Fn(Et.prototype,"stopShareScreen",[$n,Vxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"stopShareScreen"),Et.prototype),Fn(Et.prototype,"pauseShareScreen",[$n,Fxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"pauseShareScreen"),Et.prototype),Fn(Et.prototype,"resumeShareScreen",[$n,Hxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"resumeShareScreen"),Et.prototype),Fn(Et.prototype,"setSharePrivilege",[vu,$xe,$n,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"setSharePrivilege"),Et.prototype),Fn(Et.prototype,"lockShare",[vu,Uxe,$n,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"lockShare"),Et.prototype),Fn(Et.prototype,"shareToBreakoutRoom",[$n,vu,zxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"shareToBreakoutRoom"),Et.prototype),Fn(Et.prototype,"stopShareToBreakoutRoom",[$n,vu,jxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"stopShareToBreakoutRoom"),Et.prototype),Fn(Et.prototype,"muteOthersScreenShare",[$n,vu,Wxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"muteOthersScreenShare"),Et.prototype),Fn(Et.prototype,"enableOptimizeForSharedVideo",[$n,Gxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"enableOptimizeForSharedVideo"),Et.prototype),Fn(Et.prototype,"updateSharedVideoQuality",[$n,qxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"updateSharedVideoQuality"),Et.prototype),Fn(Et.prototype,"subscribeShareStatisticData",[$n,Zxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"subscribeShareStatisticData"),Et.prototype),Fn(Et.prototype,"unsubscribeShareStatisticData",[$n,Kxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"unsubscribeShareStatisticData"),Et.prototype),Fn(Et.prototype,"screenshotSharedContent",[$n,Yxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"screenshotSharedContent"),Et.prototype),Fn(Et.prototype,"attachShareView",[$n,Xxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"attachShareView"),Et.prototype),Fn(Et.prototype,"detachShareView",[$n,Jxe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"detachShareView"),Et.prototype),Fn(Et.prototype,"startAnnotation",[$n,Qxe,Cd,xKe],Object.getOwnPropertyDescriptor(Et.prototype,"startAnnotation"),Et.prototype),Fn(Et.prototype,"stopAnnotation",[$n,eOe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"stopAnnotation"),Et.prototype),Fn(Et.prototype,"changeAnnotationPrivilege",[$n,tOe,Cd],Object.getOwnPropertyDescriptor(Et.prototype,"changeAnnotationPrivilege"),Et.prototype),Fn(Et.prototype,"requestRemoteControl",[$n,nOe,$_,OKe],Object.getOwnPropertyDescriptor(Et.prototype,"requestRemoteControl"),Et.prototype),Fn(Et.prototype,"giveUpRemoteControl",[$n,oOe,$_],Object.getOwnPropertyDescriptor(Et.prototype,"giveUpRemoteControl"),Et.prototype),Fn(Et.prototype,"startRemoteControl",[$n,sOe,$_],Object.getOwnPropertyDescriptor(Et.prototype,"startRemoteControl"),Et.prototype),Fn(Et.prototype,"grabRemoteControl",[$n,rOe,$_],Object.getOwnPropertyDescriptor(Et.prototype,"grabRemoteControl"),Et.prototype),Fn(Et.prototype,"updateRemoteControlViewportDimension",[$n,iOe,$_],Object.getOwnPropertyDescriptor(Et.prototype,"updateRemoteControlViewportDimension"),Et.prototype),Fn(Et.prototype,"approveRemoteControl",[$n,aOe,$_],Object.getOwnPropertyDescriptor(Et.prototype,"approveRemoteControl"),Et.prototype),Fn(Et.prototype,"declineRemoteControl",[$n,lOe,$_],Object.getOwnPropertyDescriptor(Et.prototype,"declineRemoteControl"),Et.prototype),Fn(Et.prototype,"stopRemoteControl",[$n,cOe,$_],Object.getOwnPropertyDescriptor(Et.prototype,"stopRemoteControl"),Et.prototype),Fn(Et.prototype,"launchRemoteControlApp",[$n,uOe,$_],Object.getOwnPropertyDescriptor(Et.prototype,"launchRemoteControlApp"),Et.prototype),Et);var mOe,gOe,vOe,bOe,yOe,SOe,COe,EOe,Zc;const I2=Np("Audio"),RKe=Np("Sharing");let kKe=(mOe=Do("share"),gOe=Do("audio"),vOe=Do("audio"),bOe=Do("audio"),yOe=Do("audio"),SOe=Do("audio"),COe=Do("audio"),EOe=Do("audio"),Zc=class extends IKe{switchSharingSecondaryCamera(e){return((n,o)=>{const{store:{getState:i,dispatch:c},mediaAgent:d}=n,p=i(),{video:{cameraDevicesList:v},share:{status:S,isSharingWithSecondCamera:_}}=p;return o!=="default"&&v.map((x=>x.deviceId)).indexOf(o)===-1?Promise.reject({type:tr,reason:"Cannot find cameraDeviceId in camera devices list.",errorCode:at.STREAM_MISMATCH_DEVICE}):(S===Zr.Sharing&&_&&d.changeSharingSecondCamera(o),c(H3e(o)),Promise.resolve())})(this[An],e)}muteUserAudioLocally(e){return((n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,p=c(),{audio:{locallyMutedAudioList:v}}=p,S=Na(p).filter((_=>_.audio===Xi.Computer));return v.includes(o)||S.findIndex((_=>_.userId===o))===-1||(i.muteOrUnmuteOtherAudio(o,!0),d(x3e(o))),Promise.resolve("")})(this[An],e)}unmuteUserAudioLocally(e){return((n,o)=>{const{mediaAgent:i,store:{getState:c,dispatch:d}}=n,{audio:{locallyMutedAudioList:p}}=c();return p.includes(o)&&(i.muteOrUnmuteOtherAudio(o,!1),d(Cee(o))),Promise.resolve("")})(this[An],e)}adjustUserAudioVolumeLocally(e,n){return((o,i,c)=>{const{mediaAgent:d,store:{getState:p,dispatch:v}}=o,S=p();return Na(S).findIndex((_=>_.userId===i))!==-1&&(d.adjustOtherAudioVolume(i,c),v(O3e({userId:i,volume:c}))),Promise.resolve("")})(this[An],e,n)}muteAllUserAudioLocally(){return(e=>{const{mediaAgent:n,store:{getState:o,dispatch:i}}=e,{audio:{isStopAllImcomingAudio:c}}=o();return c||(n.stopAllIncomingAudio(!0),i(Sbe(!0))),Promise.resolve("")})(this[An])}unmuteAllUserAudioLocally(){return(e=>{const{mediaAgent:n,store:{getState:o,dispatch:i}}=e,{audio:{isStopAllImcomingAudio:c,locallyMutedAudioList:d}}=o();return c&&(n.stopAllIncomingAudio(!1),i(Sbe(!1)),d.length>0&&d.forEach((p=>{n.muteOrUnmuteOtherAudio(p,!1),i(Cee(p))}))),Promise.resolve("")})(this[An])}startSecondaryAudio(e,n){return(async(o,i,c)=>{const{mediaAgent:d,rwgAgent:p,store:{getState:v,dispatch:S}}=o,_=v(),{audio:{microphoneDevicesList:x,activeMicrophone:P,isWebRtcAudioCapable:B},share:{status:z}}=_,U=us(_);if(!Ls.isSupportShare2ndAudioDevice(B))return Promise.reject({type:ln,reason:"Cannot start secondary audio due to platform is not supported",errorCode:at.SECONDARY_AUDIO_UNSUPPORTED});if(U?.audio===Xi.Computer&&P===i)return Promise.reject({type:ln,reason:"Cannot start secondary audio with the same microphone",errorCode:at.SECONDARY_AUDIO_DEVICE_CONFLICT});if(z!==Zr.End)return Promise.reject({type:ln,reason:"Cannot start secondary audio while screen sharing is in progress",errorCode:at.SECONDARY_AUDIO_SCREEN_SHARING_CONFLICT});let H=x;if(x.length===0){const{microphones:K}=await dc(Vk());H=K}return i&&H.findIndex((K=>K.deviceId===i))===-1?Promise.reject({type:tr,reason:"Cannot find the microphone",errorCode:at.STREAM_MISMATCH_DEVICE}):(p.muteShareAudio(!1,!0),d.share2ndAudio(i,c),S(Eee(i)),vr(RMe))})(this[An],e,n)}stopSecondaryAudio(){return(async e=>{const{mediaAgent:n,rwgAgent:o,store:{getState:i,dispatch:c}}=e,d=i(),{audio:{secondaryAudioMicrophoneId:p}}=d;if(!p)return Promise.reject({type:ln,reason:"Cannot stop secondary audio due to not started ",errorCode:at.SECONDARY_AUDIO_NOT_STARTED});o.muteShareAudio(!0,!0),n.leaveSharingAudio(!1),c(Eee(void 0))})(this[An])}isUserAudioMutedLocally(e){return(({store:{getState:n}},o)=>{const{audio:{locallyMutedAudioList:i}}=n();return i.includes(o)})(this[An],e)}getUserVolumeLocally(e){return(({store:{getState:n}},o)=>{var i,c;const{audio:{localUserAudioVolumeList:d,locallyMutedAudioList:p}}=n();return(i=(c=d.find((v=>v.userId===o)))===null||c===void 0?void 0:c.volume)!==null&&i!==void 0?i:p.includes(o)?0:100})(this[An],e)}},Fn(Zc.prototype,"switchSharingSecondaryCamera",[$n,mOe,RKe],Object.getOwnPropertyDescriptor(Zc.prototype,"switchSharingSecondaryCamera"),Zc.prototype),Fn(Zc.prototype,"muteUserAudioLocally",[$n,gOe,I2],Object.getOwnPropertyDescriptor(Zc.prototype,"muteUserAudioLocally"),Zc.prototype),Fn(Zc.prototype,"unmuteUserAudioLocally",[$n,vOe,I2],Object.getOwnPropertyDescriptor(Zc.prototype,"unmuteUserAudioLocally"),Zc.prototype),Fn(Zc.prototype,"adjustUserAudioVolumeLocally",[$n,bOe,I2],Object.getOwnPropertyDescriptor(Zc.prototype,"adjustUserAudioVolumeLocally"),Zc.prototype),Fn(Zc.prototype,"muteAllUserAudioLocally",[$n,yOe,I2],Object.getOwnPropertyDescriptor(Zc.prototype,"muteAllUserAudioLocally"),Zc.prototype),Fn(Zc.prototype,"unmuteAllUserAudioLocally",[$n,SOe,I2],Object.getOwnPropertyDescriptor(Zc.prototype,"unmuteAllUserAudioLocally"),Zc.prototype),Fn(Zc.prototype,"startSecondaryAudio",[$n,COe,I2],Object.getOwnPropertyDescriptor(Zc.prototype,"startSecondaryAudio"),Zc.prototype),Fn(Zc.prototype,"stopSecondaryAudio",[$n,EOe,I2],Object.getOwnPropertyDescriptor(Zc.prototype,"stopSecondaryAudio"),Zc.prototype),Zc);const xX={controlStatus:ii.NotStarted,sequenceId:1,rooms:[],isHugeBO:!1,allocationPattern:ok.Automatically,currentRoom:{status:rr.Initial,boStatus:wPe.NoToken,boConfId:"",boId:"",name:"",boToken:""},options:{isAutoJoinRoom:!1,isBackToMainSessionEnabled:!0,isTimerEnabled:!1,timerDuration:1800,isTimerAutoEnabled:!1,waitSeconds:60,isAutoMoveBackToMainSession:!1,isRoomSelectionEnabled:!1},mainSessionAttendeeList:[],preAssignedRooms:[],meetingElapsedTime:0,startRoomElapsedTime:0,closingRoomTime:0,broadcastMessage:"",hostReplyToQuestionerType:void 0,hostReplyToRequestId:void 0,isUserRoleUpdated:!1,mainSessionConfId:"",isEnableBOBroadcast:!1,isEnableBreakoutRoom:!1,isEnableBOViewActivityStatus:!1,inRoomUserActivityStatusMap:{},isEnableBOBroadcastVoice:!1,isBroadcastVoice:!1},DKe=wm({[`${b4e}`]:pt(((e,{payload:n})=>{Array.isArray(n)?e.rooms.push(...n):e.rooms.push(n)})),[`${Dbe}`]:pt(((e,{payload:n})=>{e.allocationPattern=n})),[`${xee}`]:pt(((e,{payload:n})=>{e.sequenceId=n})),[`${Mbe}`]:pt(((e,{payload:n})=>{e.meetingElapsedTime=n})),[`${y4e}`]:pt(((e,{payload:n})=>{e.startRoomElapsedTime=n})),[`${S4e}`]:pt(((e,{payload:n})=>{const{options:o}=e;Object.assign(o,n)})),[`${C4e}`]:pt(((e,{payload:n})=>{e.controlStatus=n})),[`${A6}`]:pt(((e,{payload:n})=>{e.rooms=n})),[`${Oee}`]:pt(((e,{payload:n})=>{const{currentRoom:o}=e;Object.assign(o,n)})),[`${Ak}`]:pt(((e,{payload:n})=>{const{currentRoom:o}=e;o.status=n})),[`${Pbe}`]:pt(((e,{payload:n})=>{const{currentRoom:o}=e;o.boConfId=n})),[`${Nbe}`]:pt(((e,{payload:n})=>{const{currentRoom:o}=e;o.boToken=n})),[`${Lbe}`]:pt(((e,{payload:n})=>{e.closingRoomTime=n})),[`${w4e}`]:pt(((e,{payload:n})=>{e.broadcastMessage=n})),[`${U1e}`]:pt(((e,{payload:n})=>{e.hostReplyToQuestionerType=n})),[`${_4e}`]:pt(((e,{payload:n})=>{e.hostReplyToRequestId=n})),[`${A4e}`]:pt(((e,{payload:n})=>{n.add!==void 0&&n.add.length>0&&n.add.forEach((o=>{const i=e.mainSessionAttendeeList.find((c=>c.userId===o.userId));i!==void 0?Object.assign(i,o):BQ(o.userRole)||e.mainSessionAttendeeList.push(o)})),n.update!==void 0&&n.update.length>0&&n.update.forEach((o=>{const i=e.mainSessionAttendeeList.find((c=>c.userId===o.userId));i!==void 0&&Object.assign(i,o)})),n.remove!==void 0&&n.remove.length>0&&n.remove.forEach((o=>{const i=e.mainSessionAttendeeList.findIndex((c=>c.userId===o.userId));i!==-1&&e.mainSessionAttendeeList.splice(i,1)}))})),[`${T4e}`]:pt(((e,{payload:n})=>{e.isHugeBO=n})),[`${Vbe}`]:pt(((e,{payload:n})=>{e.isUserRoleUpdated=n})),[`${Bbe}`]:pt(((e,{payload:n})=>{e.preAssignedRooms=n})),[`${x4e}`]:pt(((e,{payload:n})=>{e.isEnableBreakoutRoom=n.isEnableBreakoutRoom,e.isEnableBOBroadcast=n.isEnableBOBroadcast,e.isEnableBOViewActivityStatus=n.isEnableBOViewActivityStatus,e.isEnableBOBroadcastVoice=n.isEnableBOBroadcastVoice})),[`${O4e}`]:pt(((e,{payload:n})=>{const{userGuid:o,status:i}=n,{inRoomUserActivityStatusMap:c}=e;c[`${o}`]=i})),[`${Iee}`]:pt(((e,{payload:n})=>{e.isBroadcastVoice=n})),[`${E4e}`]:e=>{const{currentRoom:{status:n}}=e;return n===rr.Joining?{...xX,preAssignedRooms:e.preAssignedRooms,currentRoom:e.currentRoom,closingRoomTime:e.closingRoomTime}:n===rr.Leaving?{...xX,preAssignedRooms:e.preAssignedRooms,closingRoomTime:e.closingRoomTime}:{...xX,preAssignedRooms:e.preAssignedRooms}}},xX);var Lp=Uint8Array,Pb=Uint16Array,Rte=Uint32Array,kte=new Lp([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Dte=new Lp([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Gbe=new Lp([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ABe=function(e,n){for(var o=new Pb(31),i=0;i<31;++i)o[i]=n+=1<<e[i-1];var c=new Rte(o[30]);for(i=1;i<30;++i)for(var d=o[i];d<o[i+1];++d)c[d]=d-o[i]<<5|i;return[o,c]},TBe=ABe(kte,2),xBe=TBe[0],qbe=TBe[1];xBe[28]=258,qbe[258]=28;for(var wOe=ABe(Dte,0),MKe=wOe[0],_Oe=wOe[1],Zbe=new Pb(32768),Su=0;Su<32768;++Su){var R2=(43690&Su)>>>1|(21845&Su)<<1;R2=(61680&(R2=(52428&R2)>>>2|(13107&R2)<<2))>>>4|(3855&R2)<<4,Zbe[Su]=((65280&R2)>>>8|(255&R2)<<8)>>>1}var wE=function(e,n,o){for(var i=e.length,c=0,d=new Pb(n);c<i;++c)e[c]&&++d[e[c]-1];var p,v=new Pb(n);for(c=0;c<n;++c)v[c]=v[c-1]+d[c-1]<<1;if(o){p=new Pb(1<<n);var S=15-n;for(c=0;c<i;++c)if(e[c])for(var _=c<<4|e[c],x=n-e[c],P=v[e[c]-1]++<<x,B=P|(1<<x)-1;P<=B;++P)p[Zbe[P]>>>S]=_}else for(p=new Pb(i),c=0;c<i;++c)e[c]&&(p[c]=Zbe[v[e[c]-1]++]>>>15-e[c]);return p},WO=new Lp(288);for(Su=0;Su<144;++Su)WO[Su]=8;for(Su=144;Su<256;++Su)WO[Su]=9;for(Su=256;Su<280;++Su)WO[Su]=7;for(Su=280;Su<288;++Su)WO[Su]=8;var cz=new Lp(32);for(Su=0;Su<32;++Su)cz[Su]=5;var PKe=wE(WO,9,0),NKe=wE(WO,9,1),LKe=wE(cz,5,0),BKe=wE(cz,5,1),Rme=function(e){for(var n=e[0],o=1;o<e.length;++o)e[o]>n&&(n=e[o]);return n},gS=function(e,n,o){var i=n/8|0;return(e[i]|e[i+1]<<8)>>(7&n)&o},kme=function(e,n){var o=n/8|0;return(e[o]|e[o+1]<<8|e[o+2]<<16)>>(7&n)},Z1e=function(e){return(e+7)/8|0},Nee=function(e,n,o){(n==null||n<0)&&(n=0),(o==null||o>e.length)&&(o=e.length);var i=new(e.BYTES_PER_ELEMENT==2?Pb:e.BYTES_PER_ELEMENT==4?Rte:Lp)(o-n);return i.set(e.subarray(n,o)),i},VKe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],uE=function(e,n,o){var i=new Error(n||VKe[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,uE),!o)throw i;return i},U_=function(e,n,o){o<<=7&n;var i=n/8|0;e[i]|=o,e[i+1]|=o>>>8},B5=function(e,n,o){o<<=7&n;var i=n/8|0;e[i]|=o,e[i+1]|=o>>>8,e[i+2]|=o>>>16},Dme=function(e,n){for(var o=[],i=0;i<e.length;++i)e[i]&&o.push({s:i,f:e[i]});var c=o.length,d=o.slice();if(!c)return[IBe,0];if(c==1){var p=new Lp(o[0].s+1);return p[o[0].s]=1,[p,1]}o.sort((function(_e,Oe){return _e.f-Oe.f})),o.push({s:-1,f:25001});var v=o[0],S=o[1],_=0,x=1,P=2;for(o[0]={s:-1,f:v.f+S.f,l:v,r:S};x!=c-1;)v=o[o[_].f<o[P].f?_++:P++],S=o[_!=x&&o[_].f<o[P].f?_++:P++],o[x++]={s:-1,f:v.f+S.f,l:v,r:S};var B=d[0].s;for(i=1;i<c;++i)d[i].s>B&&(B=d[i].s);var z=new Pb(B+1),U=Kbe(o[x-1],z,0);if(U>n){i=0;var H=0,K=U-n,oe=1<<K;for(d.sort((function(_e,Oe){return z[Oe.s]-z[_e.s]||_e.f-Oe.f}));i<c;++i){var ce=d[i].s;if(!(z[ce]>n))break;H+=oe-(1<<U-z[ce]),z[ce]=n}for(H>>>=K;H>0;){var re=d[i].s;z[re]<n?H-=1<<n-z[re]++-1:++i}for(;i>=0&&H;--i){var ye=d[i].s;z[ye]==n&&(--z[ye],++H)}U=n}return[new Lp(z),U]},Kbe=function(e,n,o){return e.s==-1?Math.max(Kbe(e.l,n,o+1),Kbe(e.r,n,o+1)):n[e.s]=o},AOe=function(e){for(var n=e.length;n&&!e[--n];);for(var o=new Pb(++n),i=0,c=e[0],d=1,p=function(S){o[i++]=S},v=1;v<=n;++v)if(e[v]==c&&v!=n)++d;else{if(!c&&d>2){for(;d>138;d-=138)p(32754);d>2&&(p(d>10?d-11<<5|28690:d-3<<5|12305),d=0)}else if(d>3){for(p(c),--d;d>6;d-=6)p(8304);d>2&&(p(d-3<<5|8208),d=0)}for(;d--;)p(c);d=1,c=e[v]}return[o.subarray(0,i),n]},V5=function(e,n){for(var o=0,i=0;i<n.length;++i)o+=e[i]*n[i];return o},OBe=function(e,n,o){var i=o.length,c=Z1e(n+2);e[c]=255&i,e[c+1]=i>>>8,e[c+2]=255^e[c],e[c+3]=255^e[c+1];for(var d=0;d<i;++d)e[c+d+4]=o[d];return 8*(c+4+i)},TOe=function(e,n,o,i,c,d,p,v,S,_,x){U_(n,x++,o),++c[256];for(var P=Dme(c,15),B=P[0],z=P[1],U=Dme(d,15),H=U[0],K=U[1],oe=AOe(B),ce=oe[0],re=oe[1],ye=AOe(H),_e=ye[0],Oe=ye[1],F=new Pb(19),Me=0;Me<ce.length;++Me)F[31&ce[Me]]++;for(Me=0;Me<_e.length;++Me)F[31&_e[Me]]++;for(var ot=Dme(F,7),Fe=ot[0],De=ot[1],we=19;we>4&&!Fe[Gbe[we-1]];--we);var ct,rt,gt,ee,on=_+5<<3,nt=V5(c,WO)+V5(d,cz)+p,Mt=V5(c,B)+V5(d,H)+p+14+3*we+V5(F,Fe)+(2*F[16]+3*F[17]+7*F[18]);if(on<=nt&&on<=Mt)return OBe(n,x,e.subarray(S,S+_));if(U_(n,x,1+(Mt<nt)),x+=2,Mt<nt){ct=wE(B,z,0),rt=B,gt=wE(H,K,0),ee=H;var Pt=wE(Fe,De,0);for(U_(n,x,re-257),U_(n,x+5,Oe-1),U_(n,x+10,we-4),x+=14,Me=0;Me<we;++Me)U_(n,x+3*Me,Fe[Gbe[Me]]);x+=3*we;for(var st=[ce,_e],vn=0;vn<2;++vn){var To=st[vn];for(Me=0;Me<To.length;++Me){var Nn=31&To[Me];U_(n,x,Pt[Nn]),x+=Fe[Nn],Nn>15&&(U_(n,x,To[Me]>>>5&127),x+=To[Me]>>>12)}}}else ct=PKe,rt=WO,gt=LKe,ee=cz;for(Me=0;Me<v;++Me)if(i[Me]>255){Nn=i[Me]>>>18&31,B5(n,x,ct[Nn+257]),x+=rt[Nn+257],Nn>7&&(U_(n,x,i[Me]>>>23&31),x+=kte[Nn]);var ho=31&i[Me];B5(n,x,gt[ho]),x+=ee[ho],ho>3&&(B5(n,x,i[Me]>>>5&8191),x+=Dte[ho])}else B5(n,x,ct[i[Me]]),x+=rt[i[Me]];return B5(n,x,ct[256]),x+rt[256]},FKe=new Rte([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),IBe=new Lp(0),HKe=(function(){for(var e=new Int32Array(256),n=0;n<256;++n){for(var o=n,i=9;--i;)o=(1&o&&-306674912)^o>>>1;e[n]=o}return e})(),Mme=function(e,n,o){for(;o;++n)e[n]=o,o>>>=8};function $Ke(e,n){n||(n={});var o=(function(){var p=-1;return{p:function(v){for(var S=p,_=0;_<v.length;++_)S=HKe[255&S^v[_]]^S>>>8;p=S},d:function(){return~p}}})(),i=e.length;o.p(e);var c=(function(p,v,S,_){return(function(x,P,B,z,U,H){var K=x.length,oe=new Lp(z+K+5*(1+Math.ceil(K/7e3))+U),ce=oe.subarray(z,oe.length-U),re=0;if(!P||K<8)for(var ye=0;ye<=K;ye+=65535){var _e=ye+65535;_e>=K&&(ce[re>>3]=H),re=OBe(ce,re+1,x.subarray(ye,_e))}else{for(var Oe=FKe[P-1],F=Oe>>>13,Me=8191&Oe,ot=(1<<B)-1,Fe=new Pb(32768),De=new Pb(ot+1),we=Math.ceil(B/3),ct=2*we,rt=function(Kt){return(x[Kt]^x[Kt+1]<<we^x[Kt+2]<<ct)&ot},gt=new Rte(25e3),ee=new Pb(288),on=new Pb(32),nt=0,Mt=0,Pt=(ye=0,0),st=0,vn=0;ye<K;++ye){var To=rt(ye),Nn=32767&ye,ho=De[To];if(Fe[Nn]=ho,De[To]=Nn,st<=ye){var qt=K-ye;if((nt>7e3||Pt>24576)&&qt>423){re=TOe(x,ce,0,gt,ee,on,Mt,Pt,vn,ye-vn,re),Pt=nt=Mt=0,vn=ye;for(var Tn=0;Tn<286;++Tn)ee[Tn]=0;for(Tn=0;Tn<30;++Tn)on[Tn]=0}var Se=2,br=0,ws=Me,as=Nn-ho&32767;if(qt>2&&To==rt(ye-as))for(var Is=Math.min(F,qt)-1,oo=Math.min(32767,ye),kt=Math.min(258,qt);as<=oo&&--ws&&Nn!=ho;){if(x[ye+Se]==x[ye+Se-as]){for(var bn=0;bn<kt&&x[ye+bn]==x[ye+bn-as];++bn);if(bn>Se){if(Se=bn,br=as,bn>Is)break;var mn=Math.min(as,bn-2),Ze=0;for(Tn=0;Tn<mn;++Tn){var mt=ye-as+Tn+32768&32767,Dt=mt-Fe[mt]+32768&32767;Dt>Ze&&(Ze=Dt,ho=mt)}}}as+=(Nn=ho)-(ho=Fe[Nn])+32768&32767}if(br){gt[Pt++]=268435456|qbe[Se]<<18|_Oe[br];var je=31&qbe[Se],Lt=31&_Oe[br];Mt+=kte[je]+Dte[Lt],++ee[257+je],++on[Lt],st=ye+Se,++nt}else gt[Pt++]=x[ye],++ee[x[ye]]}}re=TOe(x,ce,H,gt,ee,on,Mt,Pt,vn,ye-vn,re)}return Nee(oe,0,z+Z1e(re)+U)})(p,v.level==null?6:v.level,v.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(p.length)))):12+v.mem,S,_,!0)})(e,n,(function(p){return 10+(p.filename&&p.filename.length+1||0)})(n),8),d=c.length;return(function(p,v){var S=v.filename;if(p[0]=31,p[1]=139,p[2]=8,p[8]=v.level<2?4:v.level==9?2:0,p[9]=3,v.mtime!=0&&Mme(p,4,Math.floor(new Date(v.mtime||Date.now())/1e3)),S){p[3]=8;for(var _=0;_<=S.length;++_)p[_+10]=S.charCodeAt(_)}})(c,n),Mme(c,d-8,o.d()),Mme(c,d-4,i),c}var xOe=typeof TextEncoder<"u"&&new TextEncoder,Ybe=typeof TextDecoder<"u"&&new TextDecoder;try{Ybe.decode(IBe,{stream:!0})}catch{}const{WebclientBreakoutRoomAttendeeStatus:K1e,WebclientBreakoutRoomCommand:UKe}=tl,Pme=_m(Ls.getInstance());function ES(e,n){let o=0;for(;o<e.length;o++){const i=e[o],{attendeeGuidList:c}=i;if(c!=null&&c.includes(n))break}return o<e.length?e[o]:void 0}function QL(){ei.remove(K1e),ei.remove(UKe)}function Xbe(){return Qi.createAgent().leaveBO(1),it(Rv,{reason:Em.BackToMainSession}),QL(),[Ak(rr.Leaving),wg(Qh.NormalCase)]}function Nme(e,n){return it(Rv,{reason:Em.JoinBreakoutRoom,roomName:e}),n===rr.InRoom&&Qi.createAgent().leaveBO(1),[Ak(rr.Joining),wg(Qh.NormalCase)]}function OOe(e){return it(Rv,{reason:Em.MoveToBreakoutRoom,roomName:e}),Qi.createAgent().leaveBO(1),[Ak(rr.Joining),wg(Qh.NormalCase)]}function Lme(e){return e!==rr.InRoom&&e!==rr.Joining&&e!==rr.Leaving}function OX(e,n=!1){const o=n?rr.InRoom:rr.Invited;return ei.set(K1e,JSON.stringify({status:o,boId:e.boId}),ba.SessionStorage),Oee({status:o,boId:e.boId,name:e.name,boStatus:e.boStatus})}function Bme(e){const{breakoutRoom:{isUserRoleUpdated:n,currentRoom:{boConfId:o}}}=e.value,i=us(e.value);return i&&(!o||o&&n)?za(i.isHost):(o?wa(uve,1):wa(Rz,1).pipe(nn((d=>q6(d.userRole)?Kn([1]):Vp(wa(Mp).pipe(yn((p=>p.userRole!==void 0&&p.displayName===void 0||p.bVideoConnect!==void 0)),Yr(1)),wa(mte).pipe(yn((p=>p.some((v=>q6(v.userRole))))),Yr(1)),Eu(3e3)))))).pipe(Xu(bA),Qo(e),So((([,d])=>us(d).isHost)))}function Jbe(e){return V0e({boIdList:wa(dPe).pipe(H7e(((n,o)=>[...n,o]),[]),Yr(e))}).pipe(L0e(1e4))}const zKe=[{mask:jpe.Connect,key:"audio",value:""},{mask:jpe.Voip,key:"audio",value:"computer"},{mask:jpe.Muted,key:"muted",value:!0},{mask:Swe.Connect,key:"bVideoOn",value:!1},{mask:Swe.On,key:"bVideoOn",value:!0},{mask:Cwe.Share,key:"sharerOn",value:!0},{mask:Cwe.ShareAudio,key:"bShareAudioOn",value:!0}];function IOe(e,n){const o=(Ag(n)?n.breakoutRoom.mainSessionAttendeeList:n.participants.attendeesList).find((i=>i.userId===Number(e)));return o?{inviterId:o.userId,inviterGuid:o.userGUID,inviterName:o.displayName}:{}}const vS=Qi.createAgent(),Vme=["userRole","bCoHost","bCCEditor","bHold"],jKe=Qi.createAgent(),WKe=_m(Ls.getInstance());var Ri;const Zd=Qi.createAgent(),ROe=_m(Ls.getInstance()),Ob=Np("Breakout Room");let GKe=(Ri=class extends FS{createRooms(e,n){const o=this[qo](),i=this[kc],{breakoutRoom:{isHugeBO:c,sequenceId:d,rooms:p,controlStatus:v,isEnableBreakoutRoom:S}}=o;if(!S)return Promise.reject({type:ln,reason:"Breakout room feature is not enabled.",errorCode:at.SUBSESSION_ACCOUNT_DISABLE});if(v===ii.InProgress||v===ii.Closing)return Promise.reject({type:ln,reason:"breakout room has started!",errorCode:at.SUBSESSION_MISMATCH_STATE});let _;_=typeof e=="string"?[e]:typeof e=="number"?Array.from({length:e}).map(((P,B)=>`${bwe} ${B+d}`)):e;const x=c?100:50;return _.length<1||p.length+_.length>x?Promise.reject({type:tr,reason:"exceed maximum size",errorCode:at.SUBSESSION_EXCEED_CAPACITY}):(Zd.batchCreateBOToken(_),new Promise(((P,B)=>{Jbe(_.length).subscribe({next({boIdList:z}){let U=z.map(((K,oe)=>({boId:K,name:_[oe]})));if(n===ok.Automatically){const K=Cme(o),oe=U.length,ce=K.length;U=U.map(((re,ye)=>{const _e=[];let Oe=ye;for(;Oe<ce;)_e.push(K[Oe]),Oe+=oe;return{...re,attendeeList:_e}}))}const H=U.map((({boId:K,name:oe,attendeeList:ce})=>({boId:K,name:oe,attendeeGuidList:ce&&ce.map((re=>re.userGUID))})));if(i(b4e(H)),i(Dbe(n)),i(xee(d+U.length)),n===ok.Automatically){const K=U.map((oe=>({roomId:oe.boId,name:oe.name,attendeeList:oe.attendeeList.map((ce=>({userId:ce.userId,avatar:ce.avatar,displayName:ce.displayName})))})));P(K)}else P(U.map((K=>({roomId:K.boId,name:K.name,attendeeList:[]}))))},error(){B({type:Xh,errorCode:at.INTERNAL_ERROR})}})})))}recreateRooms(e,n){const o=this[qo](),i=this[kc],{breakoutRoom:{isHugeBO:c,sequenceId:d,controlStatus:p,isEnableBreakoutRoom:v}}=o;if(!v)return Promise.reject({type:ln,reason:"Breakout room feature is not enabled.",errorCode:at.SUBSESSION_ACCOUNT_DISABLE});if(p===ii.InProgress||p===ii.Closing)return Promise.reject({type:ln,reason:"breakout room has started!",errorCode:at.SUBSESSION_MISMATCH_STATE});let S;S=typeof e=="string"?[e]:typeof e=="number"?Array.from({length:e}).map(((x,P)=>`${bwe} ${P+d}`)):e;const _=c?100:50;return S.length<1||S.length>_?Promise.reject({type:tr,reason:"exceed maximum size",errorCode:at.SUBSESSION_EXCEED_CAPACITY}):(Zd.batchCreateBOToken(S),new Promise(((x,P)=>{Jbe(S.length).subscribe((({boIdList:B})=>{let z=B.map(((H,K)=>({boId:H,name:S[K]})));if(n===ok.Automatically){const H=z.length,K=SZe(o),oe=K.length;z=z.map(((ce,re)=>{const ye=[];let _e=re;for(;_e<oe;)ye.push(K[_e]),_e+=H;return{...ce,attendeeList:ye}}))}const U=z.map((({boId:H,name:K,attendeeList:oe})=>({boId:H,name:K,attendeeGuidList:oe&&oe.map((ce=>ce.userGUID))})));if(i(A6(U)),i(Dbe(n)),i(xee(d+z.length)),n===ok.Automatically){const H=z.map((K=>({roomId:K.boId,name:K.name,attendeeList:K.attendeeList.map((oe=>({userId:oe.userId,avatar:oe.avatar,displayName:oe.displayName})))})));x(H)}else x(z.map((H=>({roomId:H.boId,name:H.name,attendeeList:[]}))))}),(()=>{P({type:Xh,errorCode:at.INTERNAL_ERROR})}))})))}openRooms(e,n){var o;const i=this[qo](),c={isAutoJoinRoom:!1,isBackToMainSessionEnabled:!0,isTimerEnabled:!1,timerDuration:1800,isTimerAutoEnabled:!1,waitSeconds:60,isAutoMoveBackToMainSession:!1,isRoomSelectionEnabled:!1},{breakoutRoom:{controlStatus:d,rooms:p,sequenceId:v,isHugeBO:S}}=i;if(d===ii.InProgress||d===ii.Closing)return Promise.reject({type:ln,reason:"breakout room has started!",errorCode:at.SUBSESSION_MISMATCH_STATE});if(e.some((U=>p.findIndex((H=>H.boId===U.roomId))===-1)))return Promise.reject({type:tr,reason:"roomId is wrong",errorCode:at.SUBSESSION_MISMATCH_ID});const _=Na(i);if(e.reduce(((U,H)=>U.concat(H.attendeeList)),[]).some((U=>_.findIndex((H=>H.userId===U.userId))===-1)))return Promise.reject({type:tr,reason:"Invalid user",errorCode:at.SUBSESSION_MISMATCH_USER});const x=e.map((U=>{const{attendeeList:H}=U,K=H.map((oe=>{const ce=_.find((re=>re.userId===oe.userId));return ce?.userGUID}));return{BID:U.roomId,MeetingTitle:U.name,MeetingToken:void 0,Status:wPe.Started,HostID:"",ParticipantList:K}})),P=n?{...c,...n}:c,B={ControlStatus:ii.InProgress,NameIndex:v,IsAutoJoinEnabled:+P.isAutoJoinRoom,IsBackToMainSessionEnabled:+P.isBackToMainSessionEnabled,IsTimerEnabled:+P.isTimerEnabled,TimerDuration:P.timerDuration,IsTimerAutoEndEnabled:+P.isTimerAutoEnabled,WaitSeconds:P.waitSeconds<0?0:P.waitSeconds,StartTimeOnMMR:void 0,ItemList:x,IsAutoMovetoMainSessionEnabled:P.isAutoMoveBackToMainSession,IsParticipantsChooseRoomEnabled:+P.isRoomSelectionEnabled};let z=MPe(JSON.stringify(B));if(S&&(z=(U=>CWe($Ke((function(H){if(xOe)return xOe.encode(H);for(var K=H.length,oe=new Lp(H.length+(H.length>>1)),ce=0,re=function(F){oe[ce++]=F},ye=0;ye<K;++ye){if(ce+5>oe.length){var _e=new Lp(ce+8+(K-ye<<1));_e.set(oe),oe=_e}var Oe=H.charCodeAt(ye);Oe<128?re(Oe):Oe<2048?(re(192|Oe>>6),re(128|63&Oe)):Oe>55295&&Oe<57344?(re(240|(Oe=65536+(1047552&Oe)|1023&H.charCodeAt(++ye))>>18),re(128|Oe>>12&63),re(128|Oe>>6&63),re(128|63&Oe)):(re(224|Oe>>12),re(128|Oe>>6&63),re(128|63&Oe))}return Nee(oe,0,ce)})(U))))(z)),(o=us(i))!==null&&o!==void 0&&o.isHost)Zd.startBO(z);else{const U=A2(i);U&&Zd.coHostStartBO(z,U.userId)}return vr(W2,(U=>U.controlStatus===ii.InProgress))}joinRoom(e){const n=this[qo](),o=us(n),{breakoutRoom:{controlStatus:i,rooms:c,options:{isRoomSelectionEnabled:d},currentRoom:{status:p,boId:v}},meeting:{userGUID:S}}=n;if(i!==ii.InProgress)return Promise.reject({type:ln,reason:"Breakout room is not started",errorCode:at.SUBSESSION_MISMATCH_STATE});if(o!=null&&o.isHost){const _=c.find((x=>x.boId===e));if(!_)return Promise.reject({type:tr,reason:"Room ID is not correct",errorCode:at.SUBSESSION_MISMATCH_ID});Zd.joinBO(_.boId)}else if(o!=null&&o.bCoHost){if(!c.find((_=>_.boId===e)))return Promise.reject({type:tr,reason:"Room ID is not correct",errorCode:at.SUBSESSION_MISMATCH_ID});{const _=A2(n);if(!_)return Promise.reject({type:ln,reason:"No host in the meeting, cannot join the room",errorCode:at.SUBSESSION_MISMATCH_STATE});Zd.wantJoinBO(_?.userId,e)}}else{if(p===rr.InRoom&&v===e)return Promise.resolve("");{let _=!1;const x=ES(c,S);if(x&&x.boId===e)Zd.joinBO(x.boId);else if(d)if(c.findIndex((P=>P.boId===e))!==-1){const P=A2(n);if(!P)return Promise.reject({type:ln,reason:"No host in the meeting, cannot join the room",errorCode:at.SUBSESSION_MISMATCH_STATE});Zd.wantJoinBO(P.userId,e)}else _=!0;else _=!0;if(_)return Promise.reject({type:tr,reason:"Room ID is not correct",errorCode:at.SUBSESSION_MISMATCH_ID})}}return vr(aJ,(_=>_.boId===e))}leaveRoom(){const e=this[qo](),n=this[kc],{breakoutRoom:{controlStatus:o,options:i,currentRoom:{status:c}}}=e;if(o!==ii.InProgress&&o!==ii.Closing||c!==rr.InRoom)return Promise.reject({type:ln,errorCode:at.SUBSESSION_MISMATCH_STATE});{const d=Iv(e);if(!i.isBackToMainSessionEnabled&&!d)return Promise.reject({type:Bp,reason:"Can not return main session during the breakout room",errorCode:at.SUBSESSION_EXIT_RESTRICTED});Xbe().forEach((p=>n(p)))}return Promise.resolve("")}askForHelp(){const e=this[qo](),{breakoutRoom:{controlStatus:n,mainSessionAttendeeList:o,currentRoom:{status:i}},participants:{attendeesList:c}}=e,d=Iv(e);if(n!==ii.InProgress||i!==rr.InRoom)return Promise.reject({type:ln,reason:"you are not in breakout room",errorCode:at.SUBSESSION_MISMATCH_STATE});if(d)return Promise.reject({type:ln,reason:"host or co-host can not ask for help",errorCode:at.SUBSESSION_MISMATCH_USER});{const p=o.find((v=>v.isHost));if(p){if(c.findIndex((v=>v.zoomID===p.zoomID))>-1)return Promise.reject({type:ln,reason:"host is in room",errorCode:at.SUBSESSION_MISMATCH_STATE});Zd.askForHelpBO(p.userId)}}return vr(Q0e,(p=>p.result===mO.Received))}postponeHelping(e){const n=this[qo](),o=this[kc],{breakoutRoom:{mainSessionAttendeeList:i,currentRoom:{status:c}},participants:{attendeesList:d}}=n;let p=d;return c===rr.InRoom&&(p=i),p.findIndex((v=>v.userId===e))>-1?(Zd.askForHelpResultBO(e,mO.Ignore),o(U1e(mO.Ignore)),Promise.resolve("")):Promise.reject({type:tr,reason:"user id is not correct",errorCode:at.SUBSESSION_MISMATCH_USER})}broadcast(e){const{breakoutRoom:{isEnableBOBroadcast:n}}=this[qo]();return n?e?Gf.beginEncrypt({text:e,type:Wf.BO_BROADCAST}).then((o=>(Zd.broadcastBO(o),Promise.resolve("")))):Promise.reject({type:tr,reason:"content empty",errorCode:at.SUBSESSION_BROADCAST_INVALID_CONTENT}):Promise.reject({type:ln,reason:"Cannot broadcast message due to the feature is not enable",errorCode:at.SUBSESSION_BROADCAST_DISABLE})}startBroadcastVoice(){const e=this[qo](),n=this[kc],{breakoutRoom:{isEnableBOBroadcast:o,isEnableBOBroadcastVoice:i,isBroadcastVoice:c}}=e;if(o&&i){if(Ag(e))return Promise.reject({type:ln,reason:"Cannot broadcast voice in the room",errorCode:at.SUBSESSION_BROADCAST_VOICE_RESTRICTED});{if(c)return Promise.resolve("");const d=us(e);return d?.audio===Xi.Computer&&d.muted===!1?(Zd.broadcastVoiceReq(!0),ROe.broadcastVoiceToBreakoutRoom(!0),n(Iee(!0)),Promise.resolve("")):Promise.reject({type:ln,reason:"Start audio and unmute to broadcast",errorCode:at.SUBSESSION_BROADCAST_VOICE_MISMATCH_STATE})}}return Promise.reject({type:ln,reason:"Cannot broadcast voice due to the feature is not enable",errorCode:at.SUBSESSION_BROADCAST_VOICE_DISABLE})}stopBroadcastVoice(){const e=this[qo](),n=this[kc],{breakoutRoom:{isBroadcastVoice:o}}=e;return o?(Zd.broadcastVoiceReq(!1),ROe.broadcastVoiceToBreakoutRoom(!1),n(Iee(!1)),Promise.resolve("")):Promise.reject({type:ln,reason:"Cannot stop broadcast voice due to it is not started",errorCode:at.SUBSESSION_BROADCAST_VOICE_MISMATCH_STATE})}assignUserToRoom(e,n){const o=this[qo](),{breakoutRoom:{rooms:i}}=o,c=Cme(o).find((p=>p.userId===e));if(!(c&&i.findIndex((p=>p.boId===n))>-1))return Promise.reject({type:tr,reason:"Invalid user",errorCode:at.SUBSESSION_MISMATCH_USER});var d;if((d=us(o))!==null&&d!==void 0&&d.isHost)Zd.assignToBO(e,n);else{const p=A2(o);p&&Zd.coHostAssignToBO(c.userGUID,n,p.userId)}return vr(W2,(p=>{const{controlStatus:v,roomList:S}=p,_=S.find((x=>x.boId===n));return v===ii.InProgress&&_&&_.attendeeGuidList.includes(c.userGUID)}))}moveUserToRoom(e,n){const o=this[qo](),{breakoutRoom:{rooms:i,mainSessionAttendeeList:c},participants:{attendeesList:d}}=o,p=(Ag(o)?c:d).find((S=>S.userId===e));if(!p)return Promise.reject({type:tr,reason:"user id not correct",errorCode:at.SUBSESSION_MISMATCH_USER});{const S=ES(i,p.userGUID);if(!S)return Promise.reject({type:ln,reason:"user not in a room",errorCode:at.SUBSESSION_MISMATCH_USER});if(S.boId===n)return Promise.reject({type:ln,reason:"user already in the target room",errorCode:at.SUBSESSION_MISMATCH_STATE});{const _=i.find((x=>x.boId===n));if(!_)return Promise.reject({type:tr,reason:"invalid room id",errorCode:at.SUBSESSION_MISMATCH_ID});var v;if((v=us(o))!==null&&v!==void 0&&v.isHost)Zd.switchBO(e,_.boId);else{const x=A2(o);x&&Zd.coHostAssignToBO(p.userGUID,_.boId,x.userId)}}}return vr(W2,(S=>{const{controlStatus:_,roomList:x}=S,P=x.find((B=>B.boId===n));return _===ii.InProgress&&P&&P.attendeeGuidList.includes(p.userGUID)}))}moveBackToMainSession(e){const n=this[qo](),{breakoutRoom:{rooms:o,mainSessionAttendeeList:i},participants:{attendeesList:c}}=n,d=(Ag(n)?i:c).find((v=>v.userId===e));if(!d)return Promise.reject({type:tr,reason:"user id not correct",errorCode:at.SUBSESSION_MISMATCH_USER});if(!ES(o,d.userGUID))return Promise.reject({type:ln,reason:"user not in a room",errorCode:at.SUBSESSION_MISMATCH_USER});var p;if((p=us(n))!==null&&p!==void 0&&p.isHost)Zd.moveToMainSession(d.userGUID);else{const v=A2(n);v&&Zd.coHostMoveToMainSession(d.userGUID,v.userId)}return vr(W2,(v=>{const{controlStatus:S,roomList:_}=v;return S===ii.InProgress&&_.some((x=>{const{attendeeGuidList:P}=x;return P.includes(d.userGUID)}))}))}closeRoom(){const e=this[qo](),{breakoutRoom:{controlStatus:n}}=e;if(n!==ii.InProgress)return Promise.reject({type:ln,reason:"room is not started",errorCode:at.SUBSESSION_MISMATCH_STATE});var o;if((o=us(e))!==null&&o!==void 0&&o.isHost)Zd.stopBO(ii.Closing);else{const i=A2(e);i&&Zd.coHostStopBO(ii.Closing,i.userId)}return vr(W2,(i=>i.controlStatus===ii.Closing))}loadPreAssignedRooms(){const e=this[qo](),{meeting:{meetingOptions:n},breakoutRoom:{controlStatus:o}}=e;return!n.isAllowBreakoutRoomPreAssign||o!==ii.NotStarted&&o!==ii.Closed?Promise.reject({type:ln,errorCode:at.SUBSESSION_MISMATCH_STATE}):(Zd.preAssignBreakoutRoom(),vr(mPe))}getUnassignedAttendeeList(){const e=this[qo](),n=us(e);return n!=null&&n.isHost||n!=null&&n.bCoHost?Cme(e).map((o=>Tk(o))):[]}getRoomList(){const e=this[qo](),{breakoutRoom:{rooms:n,currentRoom:{status:o,boId:i},mainSessionAttendeeList:c,inRoomUserActivityStatusMap:d,options:{isRoomSelectionEnabled:p}},participants:{attendeesList:v}}=e,S=us(e);if(S&&(S.isHost||S.bCoHost||p)){const _=o===rr.InRoom,x=_?c:v;return n.map((P=>{const{attendeeGuidList:B,boId:z,name:U}=P,H=(B||[]).map((K=>x.find((oe=>oe.userGUID===K)))).filter((K=>!(K!=null&&K.isHost))).filter(Boolean);return _&&S.isHost&&z===i&&H.unshift(S),{roomId:z,name:U,attendeeList:H.filter((K=>!!K)).map((K=>{var oe;const ce=(oe=d[K.userGUID])!==null&&oe!==void 0?oe:{};return{userId:K.userId,displayName:K.displayName,avatar:K.avatar,isInRoom:K.bid===z,userGuid:K.userGUID,...ce}}))}}))}return e.breakoutRoom.rooms.map((_=>{const{boId:x,name:P}=_;return{roomId:x,name:P,attendeeList:[]}}))}getAttendeeStatus(){return this[qo]().breakoutRoom.currentRoom.status}getRoomStatus(){return this[qo]().breakoutRoom.controlStatus}getCurrentRoom(){const e=this[qo](),{breakoutRoom:{currentRoom:{status:n,name:o,boId:i}}}=e;return{attendeeStatus:n,name:o,roomId:i}}getRoomOptions(){const e=this[qo](),{breakoutRoom:{options:n}}=e,{whoStart:o,whoStop:i,...c}=n;return{...c}}isBreakoutRoomEnabled(){const e=this[qo](),{breakoutRoom:{isEnableBreakoutRoom:n}}=e;return!!n}},Fn(Ri.prototype,"createRooms",[$n,vu,Ob],Object.getOwnPropertyDescriptor(Ri.prototype,"createRooms"),Ri.prototype),Fn(Ri.prototype,"recreateRooms",[$n,vu,Ob],Object.getOwnPropertyDescriptor(Ri.prototype,"recreateRooms"),Ri.prototype),Fn(Ri.prototype,"openRooms",[$n,vu,Ob],Object.getOwnPropertyDescriptor(Ri.prototype,"openRooms"),Ri.prototype),Fn(Ri.prototype,"joinRoom",[$n,Ob],Object.getOwnPropertyDescriptor(Ri.prototype,"joinRoom"),Ri.prototype),Fn(Ri.prototype,"leaveRoom",[$n,Ob],Object.getOwnPropertyDescriptor(Ri.prototype,"leaveRoom"),Ri.prototype),Fn(Ri.prototype,"askForHelp",[$n,Ob],Object.getOwnPropertyDescriptor(Ri.prototype,"askForHelp"),Ri.prototype),Fn(Ri.prototype,"postponeHelping",[wd,$n,Ob],Object.getOwnPropertyDescriptor(Ri.prototype,"postponeHelping"),Ri.prototype),Fn(Ri.prototype,"broadcast",[vu,$n],Object.getOwnPropertyDescriptor(Ri.prototype,"broadcast"),Ri.prototype),Fn(Ri.prototype,"startBroadcastVoice",[wd,$n,Ob],Object.getOwnPropertyDescriptor(Ri.prototype,"startBroadcastVoice"),Ri.prototype),Fn(Ri.prototype,"stopBroadcastVoice",[wd,$n,Ob],Object.getOwnPropertyDescriptor(Ri.prototype,"stopBroadcastVoice"),Ri.prototype),Fn(Ri.prototype,"assignUserToRoom",[vu,$n,Ob],Object.getOwnPropertyDescriptor(Ri.prototype,"assignUserToRoom"),Ri.prototype),Fn(Ri.prototype,"moveUserToRoom",[vu,$n,Ob],Object.getOwnPropertyDescriptor(Ri.prototype,"moveUserToRoom"),Ri.prototype),Fn(Ri.prototype,"moveBackToMainSession",[vu,$n,Ob],Object.getOwnPropertyDescriptor(Ri.prototype,"moveBackToMainSession"),Ri.prototype),Fn(Ri.prototype,"closeRoom",[vu,$n,Ob],Object.getOwnPropertyDescriptor(Ri.prototype,"closeRoom"),Ri.prototype),Fn(Ri.prototype,"loadPreAssignedRooms",[wd,$n,Ob],Object.getOwnPropertyDescriptor(Ri.prototype,"loadPreAssignedRooms"),Ri.prototype),Ri);const qKe={breakoutRoomSharingEpics0:(e,n)=>vO(e,Vl).pipe(yn((o=>{var i;const{payload:{body:c}}=o;return c==null||(i=c.update)===null||i===void 0?void 0:i.some((d=>d.bShareToBORooms!==void 0||d.bShareOn!==void 0))})),Qo(n),So((([o,i])=>{const{payload:{body:{update:c}}}=o,{breakoutRoom:{mainSessionAttendeeList:d}}=i,p=c.filter((_=>_.bShareOn&&_.bShareToBORooms)),v=c.filter((_=>!_.bShareOn||!_.bShareToBORooms)),S=d.filter((_=>_.sharerOn&&_.bShareToBORooms));return p.length>0&&p.forEach((_=>{S.findIndex((x=>x.userId===_.id))===-1&&it(Y0e,{..._,isFromMainSession:!0})})),v.length>0&&v.filter((_=>S.findIndex((x=>x.userId===_.id))>-1)).forEach((_=>{it(X0e,{..._,isFromMainSession:!0})})),c.map((_=>{if(_.bShareOn&&_.bShareToBORooms){if(d.filter((x=>x.sharerOn&&x.bShareToBORooms&&x.userId!==_.id)).length===0)return{activeNodeID:_.id,bStatus:1,ssrc:_.shareSsrc};{const x=d.find((P=>P.userId===_.id));if(x!=null&&x.isHost)return{activeNodeID:_.id,bStatus:1,ssrc:_.shareSsrc}}}else if(!_.bShareOn||!_.bShareToBORooms){const x=d.filter((P=>P.bShareToBORooms&&P.sharerOn));if(x.length===1&&x[0].userId===_.id)return{activeNodeID:_.id,bStatus:0,ssrc:0};{const P=x.filter((z=>z.userId!==_.id)),B=P.find((z=>z.isHost));if(B)return{activeNodeID:B.userId,bStatus:1,ssrc:B.shareSsrc};{const z=P[0];if(z)return{activeNodeID:z.userId,bStatus:1,ssrc:z.shareSsrc}}}}})).filter(Boolean)})),nn((o=>{const{share:{status:i},meeting:{userId:c}}=n.value,d=[];return o.map((p=>{const{activeNodeID:v,bStatus:S,ssrc:_}=p,x=S===1;d.push(V3e(x)),x&&i!==Zr.End&&(jKe.stopSharing(c),WKe.stopDesktopSharing(),d.push(Sg(Zr.End)),it(FMe));let P={activeNodeID:v,bStatus:S,ssrc:_,fromMainSession:!0};if(!x){const{participants:{attendeesList:B}}=n.value,z=B.filter((U=>U.sharerOn));if(z.length>0){const U=z[0];P={activeNodeID:U.userId,bStatus:1,ssrc:U.shareSsrc||0}}}d.push(Zk({evt:rbe,body:P}))})),Kn(d)}))),breakoutRoomSharingEpics1:(e,n)=>vO(e,Ate).pipe(hi((o=>{const{payload:{body:{userID:i,confID:c}}}=o;return Ad(...["sharing","audio"].map((d=>(function(p,v,S,_,x){return vO(v,p==="audio"?ibe:g1e).pipe(Yr(1),Bo((P=>{const{payload:{body:{encryptKey:B,additionalType:z}}}=P,{media:{sharingDecodeStatus:U,audioDecodeStatus:H},meeting:{svcUrl:K,meetingNumber:oe,conId:ce,zoomId:re,meetingId:ye}}=S.value;Hf(p,"success",p==="audio"?H:U).subscribe((([,_e])=>{if(_e){const Oe=`wss://${K}/wc/media/${oe}?type=${p==="audio"?"ma":"ms"}&cid=${ce}&mode=1`;Pme.createMainSessionChannel(p,Oe),Pme.updateMediaParams({iVType:p==="audio"?IS.AUDIO_DECODE:IS.SHARING_DECODE,isFromMainSession:!0,updateParams:{userId:_,sn:jy(re),confId:x,encryptType:z,encryptKey:jy(B),meetingId:ye,meetingNumber:oe}});const{breakoutRoom:{mainSessionAttendeeList:F}}=S.value;if(F?.length>0){const Me=F.map((ot=>({userid:ot.userId,sn:ot.zoomID&&jy(ot.zoomID)})));Pme.updateUserMediaSN({added:Me,isFromMainSession:!0,iVType:p==="audio"?IS.AUDIO_DECODE:IS.SHARING_DECODE})}}}))})),nn((()=>Eo)))})(d,e,n,i,c))))})))},ZKe={epics0:(e,n)=>e.pipe(Fo(`${TE}`),hi((o=>{const{breakoutRoom:i,meeting:{meetingOptions:c}}=n.value,{payload:{hugeBO:d,elapsed:p}}=o,v=[];return i&&(c&&(v.push(T4e(d&&c.isBO100Enabled===!0)),v.push(x4e({isEnableBreakoutRoom:c.isEnableBreakoutRoom,isEnableBOBroadcast:c.isEnableBOBroadcast,isEnableBOViewActivityStatus:c.isEnableBOViewActivityStatus,isEnableBOBroadcastVoice:c.isEnableBOBroadcastVoice}))),i.currentRoom.boConfId&&v.push(Xve()),p!==void 0&&v.push(Mbe(p))),Kn(v)}))),epics1:e=>Ro(e,4174).pipe(Bo((n=>{it(dPe,n.payload.body.bid)})),Ia(Eo)),epics2:(e,n)=>RS(e,7950).pipe(Qo(n),hi((([o,i])=>{const{payload:{body:{proto:c}}}=o,{breakoutRoom:{isHugeBO:d,currentRoom:{status:p,boId:v}},meeting:{userGUID:S}}=i;let _=c;d&&(_=(function(B){if(Ybe)return Ybe.decode(B);var z=(function(H){for(var K="",oe=0;;){var ce=H[oe++],re=(ce>127)+(ce>223)+(ce>239);if(oe+re>H.length)return[K,Nee(H,oe-1)];re?re==3?(ce=((15&ce)<<18|(63&H[oe++])<<12|(63&H[oe++])<<6|63&H[oe++])-65536,K+=String.fromCharCode(55296|ce>>10,56320|1023&ce)):K+=1&re?String.fromCharCode((31&ce)<<6|63&H[oe++]):String.fromCharCode((15&ce)<<12|(63&H[oe++])<<6|63&H[oe++]):K+=String.fromCharCode(ce)}})(B),U=z[0];return z[1].length&&uE(8),U})((function(B){return(function(z,U,H){var K=z.length;if(!K||H&&H.f&&!H.l)return U||new Lp(0);var oe=!U||H,ce=!H||H.i;H||(H={}),U||(U=new Lp(3*K));var re=function(Dt){var je=U.length;if(Dt>je){var Lt=new Lp(Math.max(2*je,Dt));Lt.set(U),U=Lt}},ye=H.f||0,_e=H.p||0,Oe=H.b||0,F=H.l,Me=H.d,ot=H.m,Fe=H.n,De=8*K;do{if(!F){ye=gS(z,_e,1);var we=gS(z,_e+1,3);if(_e+=3,!we){var ct=z[(Nn=Z1e(_e)+4)-4]|z[Nn-3]<<8,rt=Nn+ct;if(rt>K){ce&&uE(0);break}oe&&re(Oe+ct),U.set(z.subarray(Nn,rt),Oe),H.b=Oe+=ct,H.p=_e=8*rt,H.f=ye;continue}if(we==1)F=NKe,Me=BKe,ot=9,Fe=5;else if(we==2){var gt=gS(z,_e,31)+257,ee=gS(z,_e+10,15)+4,on=gt+gS(z,_e+5,31)+1;_e+=14;for(var nt=new Lp(on),Mt=new Lp(19),Pt=0;Pt<ee;++Pt)Mt[Gbe[Pt]]=gS(z,_e+3*Pt,7);_e+=3*ee;var st=Rme(Mt),vn=(1<<st)-1,To=wE(Mt,st,1);for(Pt=0;Pt<on;){var Nn,ho=To[gS(z,_e,vn)];if(_e+=15&ho,(Nn=ho>>>4)<16)nt[Pt++]=Nn;else{var qt=0,Tn=0;for(Nn==16?(Tn=3+gS(z,_e,3),_e+=2,qt=nt[Pt-1]):Nn==17?(Tn=3+gS(z,_e,7),_e+=3):Nn==18&&(Tn=11+gS(z,_e,127),_e+=7);Tn--;)nt[Pt++]=qt}}var Se=nt.subarray(0,gt),br=nt.subarray(gt);ot=Rme(Se),Fe=Rme(br),F=wE(Se,ot,1),Me=wE(br,Fe,1)}else uE(1);if(_e>De){ce&&uE(0);break}}oe&&re(Oe+131072);for(var ws=(1<<ot)-1,as=(1<<Fe)-1,Is=_e;;Is=_e){var oo=(qt=F[kme(z,_e)&ws])>>>4;if((_e+=15&qt)>De){ce&&uE(0);break}if(qt||uE(2),oo<256)U[Oe++]=oo;else{if(oo==256){Is=_e,F=null;break}var kt=oo-254;if(oo>264){var bn=kte[Pt=oo-257];kt=gS(z,_e,(1<<bn)-1)+xBe[Pt],_e+=bn}var mn=Me[kme(z,_e)&as],Ze=mn>>>4;if(mn||uE(3),_e+=15&mn,br=MKe[Ze],Ze>3&&(bn=Dte[Ze],br+=kme(z,_e)&(1<<bn)-1,_e+=bn),_e>De){ce&&uE(0);break}oe&&re(Oe+131072);for(var mt=Oe+kt;Oe<mt;Oe+=4)U[Oe]=U[Oe-br],U[Oe+1]=U[Oe+1-br],U[Oe+2]=U[Oe+2-br],U[Oe+3]=U[Oe+3-br];Oe=mt}}H.l=F,H.p=Is,H.b=Oe,H.f=ye,F&&(ye=1,H.m=ot,H.d=Me,H.n=Fe)}while(!ye);return Oe==U.length?U:Nee(U,0,Oe)})(B.subarray((function(z){z[0]==31&&z[1]==139&&z[2]==8||uE(6,"invalid gzip data");var U=z[3],H=10;4&U&&(H+=z[10]|2+(z[11]<<8));for(var K=(U>>3&1)+(U>>4&1);K>0;K-=!z[H++]);return H+(2&U)})(B),-8),new Lp((function(z){var U=z.length;return(z[U-4]|z[U-3]<<8|z[U-2]<<16|z[U-1]<<24)>>>0})(B)))})(jy(c))));const x=[];let P;try{const B=JSON.parse(s1(_)),{ControlStatus:z,NameIndex:U,IsAutoJoinEnabled:H,IsBackToMainSessionEnabled:K,IsParticipantsChooseRoomEnabled:oe,IsTimerEnabled:ce,TimerDuration:re,IsTimerAutoEndEnabled:ye,WaitSeconds:_e,StartTimeOnMMR:Oe,ItemList:F,WhoStart:Me,WhoStop:ot,IsAutoMovetoMainSessionEnabled:Fe}=B,De={isAutoJoinRoom:H,isBackToMainSessionEnabled:K,isTimerEnabled:ce,timerDuration:re,isTimerAutoEnabled:ye,waitSeconds:_e,isAutoMoveBackToMainSession:Fe,isRoomSelectionEnabled:oe,whoStart:Me,whoStop:ot};x.push(S4e(De)),x.push(y4e(Oe)),x.push(xee(U)),x.push(C4e(z));const we=F&&F.map((ct=>({boId:ct.BID,name:ct.MeetingTitle,boStatus:ct.Status,hostId:ct.HostID,attendeeGuidList:ct.ParticipantList||[]})))||[];switch(x.push(A6(we)),it(W2,{controlStatus:z,roomList:we}),z){case ii.InProgress:if(p!==rr.InRoom&&p!==rr.Joining){const ct=(function(rt,gt){const{meeting:{isHost:ee,userGUID:on},breakoutRoom:{currentRoom:{status:nt,boId:Mt}}}=gt.value,Pt=ei.get(K1e),st=[];if(Pt)try{const{status:vn,boId:To}=JSON.parse(Pt);if(vn===rr.Invited)if(ee)QL();else{const Nn=ES(rt,on);Nn&&(st.push(OX(Nn)),nt!==rr.Initial&&Mt===Nn.boId||it(iJ,{roomId:Nn.boId,name:Nn.name}))}else if(vn===rr.InRoom){let Nn;if(Nn=ee?rt.find((ho=>ho.boId===To)):ES(rt,on),Nn){st.push(OX(Nn));const ho=Nn.boId;Bk(gt).subscribe((()=>{Qi.createAgent().joinBO(ho)}))}QL()}}catch(vn){console.error(vn)}return st})(we,n);if(ct.length===0){const rt=ES(we,S);rt&&x.push(OX(rt))}else x.push(...ct)}else if(p===rr.InRoom&&o.type===`${lA}`){const ct=ES(we,S);ct&&Bme(n).subscribe((rt=>{v===ct.boId||rt||vS.joinBO(ct.boId)}))}De.isTimerEnabled&&De.timerDuration>0&&(P=(function(ct,rt,gt){return Bme(ct).pipe(Qo(ct),hi((([ee,on])=>{const{breakoutRoom:{currentRoom:{status:nt},meetingElapsedTime:Mt},meeting:{joinMeetingTimeStamp:Pt}}=on,st=Pt-1e3*Mt+1e3*gt+1e3*rt;if(performance.now()<st){if(ee)return j6(1e3).pipe(So((()=>Math.floor((st-performance.now())/1e3))),Qo(ct),tk((([vn,To])=>{const{breakoutRoom:{controlStatus:Nn,currentRoom:{status:ho}},socket:{zoomSocketStatus:qt},meeting:{isHost:Tn}}=To;return vn>=0&&Tn&&Nn===ii.InProgress&&(ho===rr.InRoom||ho===rr.MainSession||ho===rr.Initial)&&qt===Pa.Connected})),Bo((([vn])=>{it(cve,{countdown:vn})})),yn((([vn])=>vn===0)),Bo((([,vn])=>{const{breakoutRoom:{options:To}}=vn;To.isTimerAutoEnabled?Qi.createAgent().stopBO(ii.Closing):it(pPe)})),nn((()=>Eo)));if(nt===rr.InRoom)return j6(1e3).pipe(So((()=>Math.floor((st-performance.now())/1e3))),Qo(ct),tk((([vn,To])=>{const{breakoutRoom:{currentRoom:{status:Nn}},meeting:{isHost:ho},socket:{zoomSocketStatus:qt}}=To;return vn>=0&&Nn===rr.InRoom&&!ho&&qt===Pa.Connected})),Bo((([vn])=>{it(cve,{countdown:vn})})),nn((()=>Eo)))}return Eo})))})(n,De.timerDuration,Oe));break;case ii.Closing:P=Bme(n).pipe(yn((ct=>ct)),nn((()=>{const ct=[],{breakoutRoom:{closingRoomTime:rt,currentRoom:{status:gt}},participants:{attendeesList:ee}}=n.value;let on=De.waitSeconds;if(rt!==0&&De.waitSeconds>0){const nt=Math.floor((performance.now()-rt)/1e3);on=Math.max(De.waitSeconds-nt,0)}if(on===0)return vS.stopBO(ii.Closed),Eo;{if(gt!==rr.InRoom&&ee.length>1&&ee.every((Mt=>!Mt.bid)))return vS.stopBO(ii.Closed),Eo;rt||ct.push(Lbe(performance.now()));const nt=performance.now()+1e3*on;return Ad(Kn(ct),Eu(0,1e3).pipe(So((()=>Math.floor((nt-performance.now())/1e3))),Qo(n),tk((([,Mt])=>{const{breakoutRoom:{controlStatus:Pt},meeting:{isHost:st},socket:{zoomSocketStatus:vn}}=Mt;return Pt===ii.Closing&&vn===Pa.Connected&&st})),Bo((([Mt])=>{Mt>=0&&it(lve,{countdown:Mt})})),yn((([Mt])=>Mt<=0)),Bo((()=>{vS.stopBO(ii.Closed)})),nn((()=>Eo))))}})));break;case ii.Closed:x.push(Lbe(0)),p===rr.Leaving?x.push(Ak(rr.MainSession)):p===rr.Invited?x.push(Ak(rr.Initial)):p!==rr.InRoom&&p!==rr.Joining||x.push(...Xbe()),QL()}}catch(B){console.error(B)}return P?Ad(Kn(x),P):Kn(x)}))),epics3:(e,n)=>RS(e,4194).pipe(Qo(n),hi((([o,i])=>{const{payload:{body:{bid:c,botoken:d,confID:p}}}=o,{meeting:{isHost:v},breakoutRoom:{rooms:S,currentRoom:{status:_}}}=i,x=[],P=S.find((B=>B.boId===c));return P&&(x.push(OX(P,v)),x.push(Pbe(p)),x.push(Nbe(d)),it(aJ,{boId:c}),v||_!==rr.InRoom?x.push(...Nme(P.name,_)):x.push(...OOe(P.name))),Kn(x)}))),epics4:(e,n)=>e.pipe(Fo(`${Zk}`,`${lA}`),yn((o=>o.payload.evt===7949)),Qo(n),nn((([o,i])=>{var c;const{payload:{body:d}}=o,{meeting:{userGUID:p},breakoutRoom:{rooms:v,options:{isAutoJoinRoom:S,isAutoMoveBackToMainSession:_},currentRoom:{status:x},mainSessionAttendeeList:P},participants:{attendeesList:B}}=i,{commandType:z}=d,U=[];let H;const K=(c=(Lme(x)?B:P).find((_e=>_e.userGUID===p)))===null||c===void 0?void 0:c.userId;switch(z){case C2.Join:{const{targetBID:_e,botoken:Oe,confID:F,joinReason:Me,requestSourceID:ot}=d,Fe=ES(v,p);if(Fe&&Fe.boId===_e){U.push(Pbe(F)),U.push(Nbe(Oe));const De=Number(Me)===lWe.Active&&K===Number(ot);S||De?(De&&it(aJ,{boId:_e}),U.push(...Nme(Fe.name))):(ei.set(tl.WebclientBreakoutRoomCommand,z,ba.SessionStorage),it(iJ,{roomId:_e,name:Fe.name,...IOe(ot,i)}))}break}case C2.Switch:{const{targetBID:_e,botoken:Oe,confID:F,joinMethod:Me,requestSourceID:ot}=d,Fe=ES(v,p);Fe&&Fe.boId===_e&&(U.push(Oee({boId:Fe.boId,boToken:Oe,boConfId:F,name:Fe.name})),K===Number(ot)&&Number(Me)===ywe.AskToLeave&&it(aJ,{boId:_e}),x===rr.Invited?(ei.set(tl.WebclientBreakoutRoomCommand,z,ba.SessionStorage),S||K===Number(ot)?U.push(...Nme(Fe.name)):it(iJ,{roomId:_e,name:Fe.name,...IOe(ot,i)})):U.push(...OOe(Fe.name)));break}case C2.Leave:{const{waitTime:_e,joinMethod:Oe}=d;if(Lme(x))U.push(Oee({boId:"",boToken:"",boConfId:"",status:rr.Initial}));else{const F=Number(_e);if(F>0){const Me=performance.now()+1e3*F;H=Eu(0,1e3).pipe(So((()=>Math.floor((Me-performance.now())/1e3))),Qo(n),tk((([ot,Fe])=>{const{breakoutRoom:{controlStatus:De,currentRoom:{status:we}},meeting:{isHost:ct},socket:{zoomSocketStatus:rt}}=Fe;return ot>=0&&rt===Pa.Connected&&De===ii.Closing&&we===rr.InRoom&&!ct})),Bo((([ot])=>{ot>=0&&it(lve,{countdown:ot})})),Ia(Eo))}else if(Number(Oe)!==ywe.AskToLeave||_)U.push(...Xbe());else{var oe,ce,re;const{requestSourceID:Me}=d,ot=Number(Me),{participants:{attendeesList:Fe}}=i;let De=Fe.find((we=>we.userId===ot));if(!De){const{breakoutRoom:{mainSessionAttendeeList:we}}=i;De=we.find((ct=>ct.userId===ot))}it(vPe,{inviterId:(oe=De)===null||oe===void 0?void 0:oe.userId,inviterGuid:(ce=De)===null||ce===void 0?void 0:ce.userGUID,inviterName:(re=De)===null||re===void 0?void 0:re.displayName})}QL()}break}case C2.Broadcast:{const{textContent:_e,requestID:Oe}=d;if(_e){const{meeting:{encType:F},participants:{attendeesList:Me},breakoutRoom:{mainSessionAttendeeList:ot}}=i;let Fe="";if(F===Nz.AES_GCM){const De=(Lme(x)?Me:ot).find((we=>we.userId===Number(Oe)));De&&(Fe=De.zoomID)}H=Kn(Gf.beginDecrypt({decryptedText:_e,type:Wf.BO_BROADCAST,zoomId:Fe}).then((({message:De})=>(it(hPe,{message:De}),w4e(De)))))}break}case C2.HelpReq:{const{requestID:_e}=d,{breakoutRoom:{mainSessionAttendeeList:Oe,rooms:F,currentRoom:{boId:Me},hostReplyToQuestionerType:ot,hostReplyToRequestId:Fe},participants:{attendeesList:De}}=i;if(_e){if(x===rr.InRoom){const we=Oe.find((ct=>ct.userId===_e));if(we&&we.bid===Me){vS.askForHelpResultBO(_e,mO.AlreadyInRoom);break}}if(ot===mO.Received&&Fe!==_e)vS.askForHelpResultBO(_e,mO.Busy);else{vS.askForHelpResultBO(_e,mO.Received),U.push(U1e(mO.Received),_4e(_e));const we=(x===rr.InRoom?Oe:De).find((ct=>ct.userId===_e));if(we){const ct=we.bid,rt=F.find((gt=>gt.boId===ct));rt&&it(fPe,{userId:_e,userGuid:we.userGUID,displayName:we.displayName,roomName:rt.name,roomId:rt.boId})}}}break}case C2.HelpRes:{const{helpResult:_e}=d;it(Q0e,{result:Number(_e)});break}case C2.BOActivity:{var ye;const{activityRoster:_e,activityTalking:Oe,requestID:F}=d,Me=(ye=(Ag(i)?i.breakoutRoom.mainSessionAttendeeList:i.participants.attendeesList).find((ot=>ot.userId===F)))===null||ye===void 0?void 0:ye.userGUID;if(Me){const{breakoutRoom:{rooms:ot}}=i,Fe=ES(ot,Me),De=(function(we,ct){const rt={isTalking:ct===1};return zKe.forEach((gt=>{const{mask:ee,key:on,value:nt}=gt;(ee&we)===ee&&Object.assign(rt,{[`${on}`]:nt})})),rt})(Number(_e),Number(Oe));U.push(O4e({userGuid:Me,status:De})),it(bPe,{...De,userId:F,userGuid:Me,roomId:Fe?.boId,roomName:Fe?.name})}break}}return H?Ad(Kn(U),H):Kn(U)}))),epics5:(e,n)=>vO(e,Ate).pipe(Qo(n),hi((([o,i])=>{const{payload:{body:{res:c,elapsed:d}}}=o,p=[];return c===Rb.MeetingHasClosed||c===Rb.UserHasBeenRemoved?(QL(),p.push(...u3(i,!1))):c===Rb.Success&&(p.push(Mbe(d)),p.push(Ak(rr.InRoom)),ei.set(tl.WebclientBreakoutRoomAttendeeStatus,JSON.stringify({status:rr.InRoom,boId:i.breakoutRoom.currentRoom.boId}),ba.SessionStorage)),Kn(p)}))),epics6:e=>vO(e,Vl).pipe(So((n=>cA(n.payload.body))),nn((n=>{const o=[A4e(n)];return it(gPe),Kn(o)}))),epics7:(e,n)=>vO(e,Vl).pipe(So((o=>cA(o.payload.body))),So((o=>{const i=[];return["add","update"].forEach((c=>o[c]&&i.push(...o[c]))),i.filter((c=>[...Vme,"bAudioUnencrytped"].some((d=>c[d]!==void 0))))})),yn((o=>o.length>0)),Xu(bA),nn((o=>{const i=[],{participants:{attendeesList:c},breakoutRoom:{mainSessionAttendeeList:d,isUserRoleUpdated:p},meeting:{userId:v}}=n.value,S=o.map((_=>{const x=d.find((B=>B.userId===_.userId)),P=c.find((B=>B.userGUID===x?.userGUID));if(P){if(_.bCCEditor!==void 0&&i.push(v4e({editorId:_.bCCEditor?P.userId:"",isEditor:!!_.bCCEditor,editorZoomId:_.bCCEditor?P.zoomID:""})),delete _.bRaiseHand,delete _.bCapsPinMultiVideo,delete _.bInFailover,delete _.uniqueIndex,!p&&P.userId===v){const B={};q6(_.userRole)?Object.assign(B,_):(d.some((z=>z.isHost))||_.bAudioUnencrytped!==void 0)&&Object.assign(B,x),B.userId!==void 0&&(i.push(Vbe(!0)),it(uve,_))}return{..._,userId:P.userId}}})).filter((_=>!!_&&Vme.some((x=>_[x]!==void 0))));return S.length>0&&(it(NS,S),i.push(c4({update:S}))),Kn(i)}))),epics8:e=>vO(e,Wy).pipe(yn((n=>{const{payload:{body:o}}=n;return o?.bAllowAttendeeRename!==void 0||o?.chatPriviledge!==void 0||o?.lockShare!==void 0})),So((n=>{const{payload:{body:o}}=n;return o.bAllowAttendeeRename!==void 0?see(n.payload.body):o.chatPriviledge!==void 0?V1e(o.chatPriviledge):o.lockShare!==void 0?M1e(o.lockShare):void 0}))),epics9:(e,n)=>Ro(e,Vl).pipe(Qo(n),yn((([,o])=>{const{meeting:{isHost:i},breakoutRoom:{controlStatus:c,currentRoom:{status:d}}}=o;return i&&c===ii.Closing&&d!==rr.InRoom})),Xu(bA),Bo((()=>{const{participants:{attendeesList:o}}=n.value;o.every((i=>!i.bid))&&o.length>1&&vS.stopBO(ii.Closed)})),Ia(Eo)),epics10:(e,n)=>Ro(e,4214).pipe(Qo(n),hi((([o,i])=>{const{payload:{body:{proto:c}}}=o,{breakoutRoom:{rooms:d,isHugeBO:p}}=i;try{const v=JSON.parse(s1(c)),S=[];if(v&&v.PreAssignBoList&&Array.isArray(v.PreAssignBoList)){const _=v.PreAssignBoList.map((P=>({name:P.BoName,emails:P.email})));S.push(Bbe(_));const x=p?100:50;if(d.length+_.length<x){const P=_.map((B=>B.name));return vS.batchCreateBOToken(P),Ad(Kn(S),Jbe(P.length).pipe(Qo(n),nn((([{boIdList:B},z])=>{const U=Na(z),H=_.map(((oe,ce)=>{const{emails:re,name:ye}=oe;let _e=[];return re&&Array.isArray(re)&&(_e=re.map((Oe=>U.filter((F=>F.userEmail===Oe)).map((F=>F.userGUID)))).reduce(((Oe,F)=>[...Oe,...F]),[])),{boId:B[ce],name:ye,attendeeGuidList:_e}})),K=H.map(((oe,ce)=>({roomId:oe.boId,name:oe.name,emails:_[ce].emails})));return it(mPe,{rooms:K}),Kn([A6(H),Bbe(K)])}))))}return Kn(S)}}catch{console.error("pre assign proto is not valid")}return Eo}))),epics11:(e,n)=>RS(e,Vl).pipe(Qo(n),yn((([o,i])=>{const{meeting:{isHost:c,meetingStatus:d,meetingOptions:p},breakoutRoom:{controlStatus:v}}=i,{payload:{body:S}}=o;return d===_h.Joined&&p?.isAllowBreakoutRoomPreAssign&&c&&(v===ii.NotStarted||v===ii.InProgress)&&Array.isArray(S.add)})),nn((([o,i])=>{const{breakoutRoom:{controlStatus:c,rooms:d,preAssignedRooms:p,currentRoom:{status:v}},participants:{failoverAttendeesList:S}}=i,_=p?.filter((B=>d.findIndex((z=>z.boId===B.roomId))>-1)),{payload:{body:{add:x}}}=o,P=[];return _.length>0&&x.filter((B=>B.userEmail&&B.userGUID)).filter((B=>S.findIndex((z=>z.zoomID===B.zoomID))===-1)).forEach((B=>{if(!ES(d,B.userGUID))for(let z=0;z<_?.length;z++){const U=_[z];if(U.emails.includes(B.userEmail)){if(c===ii.NotStarted){const H=pt(d,(K=>{const oe=K.find((ce=>ce.boId===U.roomId));oe?.attendeeGuidList.push(B.userGUID)}));P.push(A6(H))}else c===ii.InProgress&&(v===rr.InRoom&&o.type===`${lA}`?vS.assignToBO(B.id,String(U.roomId)):v!==rr.Initial&&v!==rr.MainSession||vS.assignToBO(B.id,String(U.roomId)));break}}})),Kn(P)}))),epics12:(e,n)=>Ro(e,Vl).pipe(yn((o=>{const{breakoutRoom:{mainSessionAttendeeList:i}}=n.value,{payload:{body:c}}=o;return i.length>0&&(c.add!==void 0||c.update!==void 0)})),Xu(Dv),So((o=>cA(o.payload.body))),nn((o=>{const{breakoutRoom:{mainSessionAttendeeList:i,isUserRoleUpdated:c},participants:{attendeesList:d}}=n.value;let p=[];const v=[];["add","update"].forEach((x=>o[x]&&p.push(...o[x])));const S=[...Vme,"isHost"];p=p.filter((x=>S.some((P=>x[P]!==void 0))));const _=p.filter((x=>x.zoomID!==void 0));return p=p.map((x=>{var P,B,z,U;const H=(P=(B=x.zoomID)!==null&&B!==void 0?B:(z=_.find((K=>K.userId===x.userId)))===null||z===void 0?void 0:z.zoomID)!==null&&P!==void 0?P:(U=d.find((K=>K.userId===x.userId)))===null||U===void 0?void 0:U.zoomID;if(H){const K=i.find((oe=>oe.zoomID===H));if(K)return c||(v.push(Vbe(!0)),it(uve,K)),Object.keys(x).filter((oe=>Object.prototype.hasOwnProperty.call(x,oe))).filter((oe=>S.includes(oe))).reduce(((oe,ce)=>{const re=K[ce];if(re!==void 0||ce==="bCoHost"){const ye=typeof x[ce]=="boolean"?!!re:re;Object.assign(oe,{[ce]:ye})}return oe}),{userId:x.userId})}})).filter(Boolean),p.length>0&&(it(NS,p),v.push(c4({update:p}))),Kn(v)}))),epics13:e=>vO(e,7999).pipe(Bo((n=>{const{payload:{body:{bStatus:o}}}=n;it(yPe,{status:!!o})})),nn((()=>Eo))),epics14:(e,n)=>Ro(e,7940).pipe(nn((o=>{const{payload:{body:{bHost:i}}}=o,{breakoutRoom:{isBroadcastVoice:c}}=n.value,d=[];return!i&&c&&(Ls.getInstance().broadcastVoiceToBreakoutRoom(!1),d.push(Iee(!1))),Kn(d)})))},KKe=xg(ZKe,qKe);let IX=(function(e){return e[e.Ready=0]="Ready",e[e.UserSub=1]="UserSub",e[e.ManualCaptionerEnabled=2]="ManualCaptionerEnabled",e[e.ManualCaptionerDisabled=3]="ManualCaptionerDisabled",e})({}),Q0=(function(e){return e[e.Unspecified=-1]="Unspecified",e[e.English=0]="English",e[e["Chinese (Simplified)"]=1]="Chinese (Simplified)",e[e.Japanese=2]="Japanese",e[e.German=3]="German",e[e.French=4]="French",e[e.Russian=5]="Russian",e[e.Portuguese=6]="Portuguese",e[e.Spanish=7]="Spanish",e[e.Korean=8]="Korean",e[e.Italian=9]="Italian",e[e.Reserved=10]="Reserved",e[e.Vietnamese=11]="Vietnamese",e[e.Dutch=12]="Dutch",e[e.Ukrainian=13]="Ukrainian",e[e.Arabic=14]="Arabic",e[e["Chinese (Traditional)"]=16]="Chinese (Traditional)",e[e.Czech=17]="Czech",e[e.Estonian=18]="Estonian",e[e.Finnish=19]="Finnish",e[e.Hebrew=21]="Hebrew",e[e.Hindi=22]="Hindi",e[e.Hungarian=23]="Hungarian",e[e.Indonesian=24]="Indonesian",e[e.Malay=25]="Malay",e[e.Persian=26]="Persian",e[e.Polish=27]="Polish",e[e.Romanian=28]="Romanian",e[e.Swedish=29]="Swedish",e[e.Tamil=30]="Tamil",e[e.Telugu=31]="Telugu",e[e.Tagalog=32]="Tagalog",e[e.Turkish=33]="Turkish",e[e["French (Canada)"]=34]="French (Canada)",e[e.Danish=35]="Danish",e[e.Thai=37]="Thai",e[e.Cantonese=44]="Cantonese",e[e.NoTranslation=400]="NoTranslation",e[e.DefaultManualInput=401]="DefaultManualInput",e[e.Customized=500]="Customized",e})({}),qx=(function(e){return e[e.Unknown=0]="Unknown",e[e.Close=1]="Close",e[e.New=2]="New",e[e.Insert=3]="Insert",e[e.Delete=4]="Delete",e[e.Reset=5]="Reset",e[e.Audiodesc=6]="Audiodesc",e[e.Speaker=7]="Speaker",e[e.Error=8]="Error",e})({}),kOe=(function(e){return e[e.TranslateNotSupport=1]="TranslateNotSupport",e})({}),eO=(function(e){return e[e.Unspecified=0]="Unspecified",e[e.InMeetingManual=1]="InMeetingManual",e[e.ExternalCaptioner=2]="ExternalCaptioner",e[e.ASR=4]="ASR",e})({});const T6={en:0,zh:1,ja:2,de:3,fr:4,ru:5,pt:6,es:7,ko:8,it:9,en1:10,vi:11,nl:12,uk:13,ar:14,"zh-hant":16,cs:17,et:18,fi:19,he:21,hi:22,hu:23,id:24,ms:25,fa:26,pl:27,ro:28,sv:29,ta:30,te:31,tl:32,tr:33,"fr-ca":34,da:35,th:37,"zh-yue":44,ca:48},Lee=Object.keys(Q0).filter((e=>/\d+/.test(Q0[e]))).reduce(((e,n)=>({...e,[`${Q0[n]}`]:n})),{}),DOe=Object.keys(T6).reduce(((e,n)=>(Object.assign(e,{[`${T6[`${n}`]}`]:n}),e)),{}),RJ="zoom-sdk-live-transcription",Y_="live-transcription";(function(e){return e[e.English=0]="English",e[e.Chinese=1]="Chinese",e[e.Japanese=2]="Japanese",e[e.German=3]="German",e[e.French=4]="French",e[e.Russian=5]="Russian",e[e.Portuguese=6]="Portuguese",e[e.Spanish=7]="Spanish",e[e.Korean=8]="Korean",e[e.Italian=9]="Italian",e[e.Reserved=10]="Reserved",e[e.Vietnamese=11]="Vietnamese",e[e.Dutch=12]="Dutch",e[e.Ukrainian=13]="Ukrainian",e[e.Arabic=14]="Arabic",e[e["Chinese (Traditional)"]=16]="Chinese (Traditional)",e[e.Czech=17]="Czech",e[e.Estonian=18]="Estonian",e[e.Finnish=19]="Finnish",e[e.Hebrew=21]="Hebrew",e[e.Hindi=22]="Hindi",e[e.Hungarian=23]="Hungarian",e[e.Indonesian=24]="Indonesian",e[e.Malay=25]="Malay",e[e.Persian=26]="Persian",e[e.Polish=27]="Polish",e[e.Romanian=28]="Romanian",e[e.Swedish=29]="Swedish",e[e.Tamil=30]="Tamil",e[e.Telugu=31]="Telugu",e[e.Tagalog=32]="Tagalog",e[e.Turkish=33]="Turkish",e[e["French (Canada)"]=34]="French (Canada)",e[e.Danish=35]="Danish",e[e.Thai=37]="Thai",e[e.Cantonese=44]="Cantonese",e[e.Catalan=48]="Catalan",e[e.NoTranslation=400]="NoTranslation",e[e.DefaultManualInput=401]="DefaultManualInput",e})({});(function(e){return e.English="en",e["Chinese (Simplified)"]="zh",e.Japanese="ja",e.German="de",e.French="fr",e.Russian="ru",e.Portuguese="pt",e.Spanish="es",e.Korean="ko",e.Italian="it",e.Reserved="en1",e.Vietnamese="vi",e.Dutch="nl",e.Ukrainian="uk",e.Arabic="ar",e["Chinese (Traditional)"]="zh-hant",e.Czech="cs",e.Estonian="et",e.Finnish="fi",e.Hebrew="he",e.Hindi="hi",e.Hungarian="hu",e.Indonesian="id",e.Malay="ms",e.Persian="fa",e.Polish="pl",e.Romanian="ro",e.Swedish="sv",e.Tamil="ta",e.Telugu="te",e.Tagalog="tl",e.Turkish="tr",e["French (Canada)"]="fr-ca",e.Danish="da",e.Thai="th",e.Cantonese="zh-yue",e.Catalan="ca",e})({});let V3=(function(e){return e.Individual="individual",e.Session="session",e})({});function Qbe(e){const n=e===Q0.Unspecified?Q0.Reserved:e;Ls.getInstance().selectLanguageChannelForNewLTT(n)}function kJ(e,n,o){const{state:i,rwgAgent:c}=o,{liveTranscription:{isSomeoneTranslating:d,isHostLockSpeakingLanguage:p},meeting:{userId:v,isWebinar:S}}=i,_=e??Q0.English;var x;p||S?c.setSpokenLanguage(_):(((x=us(i))===null||x===void 0?void 0:x.audio)===Xi.Computer&&Qbe(e??Q0.Unspecified),e!==void 0&&n&&c.setTranscriptionLanguage(_,d?v:0))}const YKe=CPe(SPe,(function(e,n){return FNe(e,n)}))([Na,({meeting:{gatewayUserList:e}})=>e],((e,n)=>{const o={};return e.forEach((i=>{Object.assign(o,{[`${i.userId}`]:i.zoomID})})),n?.forEach((i=>{Object.assign(o,{[`${i.userId}`]:i.sn})})),o})),MOe=Xl([Na],(e=>e.find((n=>n.bCCEditor===!0)))),XKe=Xl([Na,EPe],((e,n)=>e.some((o=>o.bCCEditor===!0&&o.userId===n)))),Fme=Qi.createAgent(),Hme={isEnableTranslatedCaptions:!1,isHostLockSpeakingLanguage:!1,transcriptionLang:[],isEnableAutomatedCaptions:!1,supportedTranscriptionLanguage:[],isLiveTranscriptionEnabled:!1,isHostDisableCaptions:!1,isManualCaptionerEnabled:!1,gatewayId:void 0,isLiveTranscriptionSubscribed:!1,messageRecords:[],isRecordsReduced:!1,reducedRecordsCount:0,isSomeoneSetSessionTranscription:!1,isSomeoneTranslating:!1,isTranscriptionLanguageLocked:!1,isExternalCaptionerCaptioning:!1,externalCcUrl:void 0,transcriptionMode:V3.Individual},JKe=wm({[`${H4e}`]:pt(((e,{payload:n})=>{e.isLiveTranscriptionEnabled=n})),[`${$4e}`]:pt(((e,{payload:n})=>{const{transcriptionLang:o,translatedSetting:i,...c}=n;if(o&&(e.transcriptionLang=o.split(";").map((d=>{const p=d&&T6[d];return p!==void 0?{lang:d,code:p}:null})).filter(Boolean)),i){const d=Object.keys(i).map((v=>{const S=i[v];if(S){const _=S.split(";").map((x=>{const P=x&&T6[x];return P!==void 0?{lang:x,code:P}:null})).filter(Boolean);return{lang:v,code:T6[v],translatedToLanguage:_}}return null})).filter(Boolean),p=d.reduce(((v,S)=>(S.translatedToLanguage.forEach((_=>{v.findIndex((x=>x.code===_.code))===-1&&v.push(_)})),v)),[]);e.translatedSetting=d,e.translationLang=p}Object.assign(e,c)})),[`${Hbe}`]:pt(((e,{payload:n})=>{e.isManualCaptionerEnabled=n})),[`${U4e}`]:pt(((e,{payload:n})=>{e.gatewayId=n})),[`${Y4e}`]:pt(((e,{payload:n})=>{e.isHostDisableCaptions=n})),[`${z4e}`]:pt(((e,{payload:n})=>{e.supportedTranscriptionLanguage=n})),[`${yO}`]:pt(((e,{payload:n})=>{e.currentTranscriptionLang=n})),[`${Ree}`]:pt(((e,{payload:n})=>{e.currentTranslationLang=n})),[`${Ube}`]:pt(((e,{payload:n})=>{e.messageRecords.push(n)})),[`${j4e}`]:pt(((e,{payload:n})=>{const o=e.messageRecords.find((i=>i.msgId===n.msgId));o&&Object.assign(o,n)})),[`${W4e}`]:pt(((e,{payload:n})=>{const{remains:o,reducedRecordsCount:i}=n,c=e.messageRecords.length-o;e.isRecordsReduced=!0,e.reducedRecordsCount=i,e.messageRecords.splice(0,c)})),[`${$be}`]:pt(((e,{payload:n})=>{e.isLiveTranscriptionSubscribed=n})),[`${G4e}`]:pt(((e,{payload:n})=>{e.liveTransEngineType=n})),[`${q4e}`]:pt((e=>{e.stateBeforeFailover=void 0})),[`${Z4e}`]:pt(((e,{payload:n})=>{e.lastManualCaption=n})),[`${X4e}`]:pt(((e,{payload:n})=>{e.isSomeoneSetSessionTranscription=n})),[`${J4e}`]:pt(((e,{payload:n})=>{e.isSomeoneTranslating=n})),[`${Q4e}`]:pt(((e,{payload:n})=>{e.isTranscriptionLanguageLocked=n})),[`${eBe}`]:pt(((e,{payload:n})=>{e.isExternalCaptionerCaptioning=n})),[`${tBe}`]:pt(((e,{payload:n})=>{e.externalCcUrl=n})),[`${nBe}`]:pt(((e,{payload:n})=>{e.transcriptionMode=n})),[`${K4e}`]:(e,{payload:n})=>n?{...Hme,stateBeforeFailover:{currentTranscriptionLang:e.currentTranscriptionLang,currentTranslationLang:e.currentTranslationLang,isLiveTranscriptionSubscribed:e.isLiveTranscriptionSubscribed,transcriptionMode:e.transcriptionMode},messageRecords:e.messageRecords,isRecordsReduced:e.isRecordsReduced,reducedRecordsCount:e.reducedRecordsCount}:{...Hme}},Hme);var cc;const Ly=Qi.createAgent(),z_=Np("Live transcription");let QKe=(cc=class extends FS{startLiveTranscription(){const{[qo]:e,[kc]:n}=this,{liveTranscription:{isLiveTranscriptionEnabled:o,isEnableTranslatedCaptions:i,isLiveTranscriptionSubscribed:c,isHostDisableCaptions:d}}=e();return c?Promise.resolve(""):d?Promise.reject({type:ln,reason:"Captions has been disabled by host.",errorCode:at.TRANSCRIPTION_FEATURE_DISABLE}):o?(Ly.enableNewLLT(),vr(Hy).then((()=>{const{liveTranscription:{currentTranscriptionLang:p,transcriptionMode:v,isSomeoneSetSessionTranscription:S}}=e(),_=p??Q0.English;return kJ(p,v===V3.Session&&!S,{state:e(),rwgAgent:Ly}),n(yO(_)),i&&Ly.setTranslationLanguage(),vr({event:Hy,operations:[yn((x=>x.autoCaption===!0&&x.lang!==void 0)),Yr(1)]})}))):Promise.reject({type:ln,reason:"Live transcription is not enabled.",errorCode:at.TRANSCRIPTION_ACCOUNT_DISABLE})}disableCaptions(e){const{[qo]:n}=this,{liveTranscription:{isHostDisableCaptions:o}}=n();return e===o?Promise.resolve():(Ly.disableCaptions(e),vr(U0e,(i=>i===e)))}setSpeakingLanguage(e,n){const{[qo]:o,[kc]:i}=this,c=o(),{liveTranscription:{isLiveTranscriptionSubscribed:d,transcriptionLang:p,isTranscriptionLanguageLocked:v}}=c,S=us(c);if(v&&(S==null||!S.isHost))return Promise.reject({type:ln,reason:"Transcription language has been locked, only host can set the language.",errorCode:at.TRANSCRIPTION_LANGUAGE_LOCKED});const _=p.find((x=>x.lang===e));if(_){const{code:x}=_;return n?.mode===V3.Session?d&&kJ(x,!0,{state:c,rwgAgent:Ly}):kJ(x,!1,{state:c,rwgAgent:Ly}),i(yO(x)),n!=null&&n.mode&&i(nBe(n.mode)),Promise.resolve("")}return Promise.reject({type:tr,reason:"Unsupported transcription language",errorCode:at.TRANSCRIPTION_LANGUAGE_UNSUPPORTED})}setTranslationLanguage(e){const{[qo]:n,[kc]:o}=this,i=n(),{liveTranscription:{isEnableTranslatedCaptions:c,isLiveTranscriptionSubscribed:d,translationLang:p}}=i;if(!c)return Promise.reject({type:ln,reason:"Live translation is not enabled.",errorCode:at.TRANSLATION_ACCOUNT_DISABLE});if(!d)return Promise.reject({type:ln,reason:"Cannot set translation language before starting live transcription",errorCode:at.TRANSCRIPTION_MISMATCH_STATE});if(e){const v=p?.find((S=>S.lang===e));return v?(Ly.setTranslationLanguage(v.code),vr({event:Hy,operations:[yn((S=>S.autoCaption===!0&&S.lang===v.code)),Yr(1)]},(({lang:S})=>S===v.code))):Promise.reject({type:ln,reason:`Cannot support translating to ${e}`,errorCode:at.TRANSLATION_LANGUAGE_UNSUPPORTED})}return Ly.setTranslationLanguage(),o(Ree(void 0)),Promise.resolve("")}lockTranscriptionLanguage(e){const{[qo]:n}=this,{liveTranscription:{isTranscriptionLanguageLocked:o,isEnableTranslatedCaptions:i}}=n();return i?Promise.reject({type:ln,reason:"Cannot lock transcription language due to translation is enabled",errorCode:at.TRANSCRIPTION_MISMATCH_STATE}):e!==o?(Ly.lockTranscriptionLanguage(e),vr(z0e,(c=>c===e))):Promise.resolve("")}enableManualCaptioner(){const{[qo]:e}=this,{meeting:{meetingOptions:n},liveTranscription:{isManualCaptionerEnabled:o,isHostDisableCaptions:i}}=e();if(i)return Promise.reject({type:ln,reason:"Captions has been disabled by host.",errorCode:at.MANUAL_CAPTION_FEATURE_DISABLE});const{isEnableManualCaptions:c,isEnableClosedCaption:d}=n;return c??d?o?Promise.resolve():(Ly.enableManualCaption(!0),vr(Hy,(({autoCaption:p})=>p===!1))):Promise.reject({type:ln,reason:"Manual caption is not enabled.",errorCode:at.MANUAL_CAPTION_ACCOUNT_DISABLE})}disableManualCaptioner(){const{[qo]:e}=this,{liveTranscription:{isManualCaptionerEnabled:n}}=e();return n?(Ly.enableManualCaption(!1),vr(Hy,(({autoCaption:o})=>o===!0))):Promise.resolve()}assignManualCaption(e){var n;const{[qo]:o}=this,i=o(),{liveTranscription:{isManualCaptionerEnabled:c},participants:{attendeesList:d},meeting:{userId:p}}=i;return c?((n=MOe(i))===null||n===void 0?void 0:n.userId)===e?Promise.resolve(""):d.find((S=>S.userId===e))?(Ly.assignCC(e,!0),vr({event:p===e?Mp:NS,operations:[yn((S=>S.userId===e)),Yr(1)]},(S=>S.bCCEditor===!0))):Promise.reject({type:tr,reason:"Cannot find the user",errorCode:at.MANUAL_CAPTION_MISMATCH_USER}):Promise.reject({type:ln,reason:"Cannot assign caption editor due to the manual captioner is not enabled.",errorCode:at.MANUAL_CAPTION_FEATURE_DISABLE})}sendCaptionTextManually(e,n){var o;const{[qo]:i,[kc]:c}=this,d=i(),{liveTranscription:{lastManualCaption:p},meeting:{userId:v}}=d,S=us(d);let _=Promise.resolve();const x=(o=MOe(d))===null||o===void 0?void 0:o.userId;return S!=null&&S.isHost&&x!==v&&(_=this.assignManualCaption(v)),_.then((()=>XKe(i())?(function(P,B,z){const U=P.length,H=[];var K;if(z)H.push({op:"close",text:P,msgId:(K=B?.msgId)!==null&&K!==void 0?K:FQ()});else if(B&&B!=null&&B.text){const oe=B.text.length;let ce=0,re=0;for(;P[ce]===B.text[ce]&&ce<U;)re+=PPe(P[ce]),ce+=1;ce===oe&&ce===U?H.push({op:"same"}):ce===oe&&ce<U?H.push({op:"insert",text:P.slice(ce),size:0,pos:re,msgId:B.msgId}):ce<oe&&ce===U?H.push({op:"delete",size:0,pos:re,msgId:B.msgId}):(H.push({op:"delete",size:0,pos:re,msgId:B.msgId}),H.push({op:"insert",text:P.slice(ce),pos:re,msgId:B.msgId}))}else U>0&&H.push({op:"start",text:P,pos:0,size:0,msgId:FQ()});return H.filter((oe=>oe.op!=="same"))})(e,p,n):Promise.reject({type:Bp,reason:"Cannot type caption ",errorCode:at.MANUAL_CAPTION_INSUFFICIENT_PRIVILEGE}))).then((P=>Array.isArray(P)?(P.forEach((B=>{const{text:z,...U}=B;Gf.beginEncrypt({text:z??"",type:Wf.CC_MESSAGE}).then((H=>{Ly.sendManualCaption({text:H,...U});const K=n?void 0:{text:z,msgId:B.msgId};c(Z4e(K))}))})),vr(f6,(B=>B.source===eO.InMeetingManual))):""))}getLiveTranscriptionStatus(){const{[qo]:e}=this,{liveTranscription:{isLiveTranscriptionEnabled:n,isEnableTranslatedCaptions:o,isManualCaptionerEnabled:i,transcriptionLang:c,translatedSetting:d,isHostDisableCaptions:p,isTranscriptionLanguageLocked:v}}=e();return{isLiveTranscriptionEnabled:n,isLiveTranslationEnabled:o,isHostDisableCaptions:p,isManualCaptionerEnabled:i,isHostLockTranscriptionLanguage:v,transcriptionLanguage:c.map((S=>S.lang)).join(";"),translationLanguage:d?.map((S=>({speakingLanguage:S.lang,translatedToLanguage:S.translatedToLanguage.map((_=>_.lang)).join(";")})))}}getLiveTranscriptionSetting(){const{[qo]:e}=this,{meeting:{meetingOptions:n}}=e(),{isEnableManualCaptions:o,isEnableLiveTranscription:i,isEnableClosedCaption:c,isEnableAllowThirdPartyCCToken:d,isEnableViewFullTranscript:p,isEnableSaveCaptions:v}=n||{};return{isEnableManualCaptions:o,isEnableLiveTranscription:i,isEnableClosedCaption:c,isEnableAllowThirdPartyCCToken:d,isEnableViewFullTranscript:p,isEnableSaveCaptions:v}}getCurrentTranscriptionLanguage(){const{[qo]:e}=this,{liveTranscription:{currentTranscriptionLang:n}}=e();return n!==void 0?{code:DOe[n],name:Lee[n]}:null}getCurrentTranslationLanguage(){const{[qo]:e}=this,{liveTranscription:{currentTranslationLang:n}}=e();return n!==void 0?{code:DOe[n],name:Lee[n]}:null}getLatestTranscription(){const{[qo]:e}=this,{liveTranscription:{messageRecords:n,isManualCaptionerEnabled:o}}=e(),i=o?Q0.DefaultManualInput:Q0.NoTranslation,c=n.filter((d=>d.language===i));return c.length?c[c.length-1].text:""}getLatestTranslation(){const{[qo]:e}=this,{liveTranscription:{messageRecords:n,currentTranslationLang:o,isEnableTranslatedCaptions:i}}=e();if(i||o!==void 0){const c=n.filter((d=>d.language===o));return c.length?c[c.length-1].text:""}return""}getFullTranscriptionHistory(){const{[qo]:e}=this,n=e(),{liveTranscription:{messageRecords:o,isRecordsReduced:i}}=n;return i?(function(c){return window.indexedDB!==void 0?new Promise((d=>{const p=window.indexedDB.open(RJ,1);p.addEventListener("success",(()=>{const v=p.result;if(v.objectStoreNames.contains(Y_)){const S=v.transaction([Y_],"readonly").objectStore(Y_),_=[],x=c.meeting.meetingId,P=S.index("mid"),B=IDBKeyRange.only(x),z=P.openCursor(B);z.onsuccess=()=>{const U=z.result;U?(_.push(...U.value.records),U.continue()):(d(_),v.close())},z.onerror=()=>{d(""),v.close()}}else d("")})),p.addEventListener("error",(()=>{d("")}))})):Promise.resolve("")})(n).then((c=>Array.isArray(c)?c.concat(o):[...o])):[...o]}getManualCaptionEditor(){const{[qo]:e}=this,n=e(),{closedCaption:{editorId:o}}=n;let i;if(!o)return{};if(i=Na(n).find((x=>x.userId===o)),!i)return{};const{userId:c,isHost:d,displayName:p,avatar:v,bCoHost:S,zoomID:_}=i;return{userId:c,isHost:d,displayName:p,avatar:v,bCoHost:S,zoomID:_}}getManualCaptionUrl(){const{[qo]:e}=this,{meeting:{meetingOptions:n,ccUrl:o,confId:i},breakoutRoom:c,liveTranscription:{externalCcUrl:d}}=e(),{isEnableManualCaptions:p,isEnableAllowThirdPartyCCToken:v}=n||{};if(!p||!v)return console.warn("you not enable manual caption"),"";const S=d||o;return c&&Ag(e())?`${S}&${new URLSearchParams({subconfid:i}).toString()}`:S}},Fn(cc.prototype,"startLiveTranscription",[$n,z_],Object.getOwnPropertyDescriptor(cc.prototype,"startLiveTranscription"),cc.prototype),Fn(cc.prototype,"disableCaptions",[wd,$n,z_],Object.getOwnPropertyDescriptor(cc.prototype,"disableCaptions"),cc.prototype),Fn(cc.prototype,"setSpeakingLanguage",[$n,z_],Object.getOwnPropertyDescriptor(cc.prototype,"setSpeakingLanguage"),cc.prototype),Fn(cc.prototype,"setTranslationLanguage",[$n,z_],Object.getOwnPropertyDescriptor(cc.prototype,"setTranslationLanguage"),cc.prototype),Fn(cc.prototype,"lockTranscriptionLanguage",[wd,$n,z_],Object.getOwnPropertyDescriptor(cc.prototype,"lockTranscriptionLanguage"),cc.prototype),Fn(cc.prototype,"enableManualCaptioner",[wd,$n,z_],Object.getOwnPropertyDescriptor(cc.prototype,"enableManualCaptioner"),cc.prototype),Fn(cc.prototype,"disableManualCaptioner",[wd,$n,z_],Object.getOwnPropertyDescriptor(cc.prototype,"disableManualCaptioner"),cc.prototype),Fn(cc.prototype,"assignManualCaption",[$n,wd,z_],Object.getOwnPropertyDescriptor(cc.prototype,"assignManualCaption"),cc.prototype),Fn(cc.prototype,"sendCaptionTextManually",[$n,z_],Object.getOwnPropertyDescriptor(cc.prototype,"sendCaptionTextManually"),cc.prototype),cc);const eYe={epics0:e=>e.pipe(Fo(`${Mv}`),So((n=>{const{payload:{liveTranscription:o}}=n;return $4e(o)}))),epics1:(e,n)=>Ro(e,Wy).pipe(yn((o=>{var i,c;return((i=o.payload.body)===null||i===void 0?void 0:i.NewLttAvaliable)!==void 0||((c=o.payload.body)===null||c===void 0?void 0:c.LiveTransEngineType)!==void 0})),So((o=>{const{payload:{body:{NewLttAvaliable:i,LiveTransEngineType:c}}}=o,{liveTranscription:{isEnableAutomatedCaptions:d}}=n.value;return i!==void 0?(it(JDe,!!i),H4e(d&&!!i)):G4e(c)}))),epics2:(e,n)=>Ro(e,7982).pipe(nn((o=>{const{payload:{body:{status:i,gwId:c}}}=o,d=[];switch(i){case IX.Ready:d.push(U4e(c));break;case IX.ManualCaptionerEnabled:it(Hy,{autoCaption:!1}),d.push(Hbe(!0));break;case IX.ManualCaptionerDisabled:it(Hy,{autoCaption:!0}),d.push(v4e({editorId:"",isEditor:!1,editorZoomId:""})),d.push(Hbe(!1));break;case IX.UserSub:{it(Hy,{autoCaption:n.value.liveTranscription.isLiveTranscriptionEnabled});const{liveTranscription:{stateBeforeFailover:v,transcriptionMode:S,isSomeoneSetSessionTranscription:_}}=n.value;if(v!=null&&v.isLiveTranscriptionSubscribed){var p;Fme.enableNewLLT();const x=(p=v.currentTranscriptionLang)!==null&&p!==void 0?p:Q0.English;kJ(v.currentTranscriptionLang,S===V3.Session&&!_,{state:n.value,rwgAgent:Fme}),d.push(yO(x)),v.currentTranslationLang!==void 0&&Fme.setTranslationLanguage(v.currentTranslationLang),d.push(q4e())}break}}return Kn(d)}))),epics3:e=>Ro(e,7984).pipe(So((n=>{const{payload:{body:{langs:o}}}=n;return z4e(o)}))),epics4:e=>Ro(e,8011).pipe(nn((n=>{const{payload:{body:{disabled:o}}}=n,i=[];return it(U0e,o),i.push(Y4e(o)),o&&i.push($be(!1)),Kn(i)}))),epics5:(e,n)=>Ro(e,7985).pipe(yn((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.success)===!0})),nn((o=>{const{payload:{body:{src:i,lang:c,success:d}}}=o,{liveTranscription:{transcriptionLang:p}}=n.value,v=[];var S;return d&&v.push($be(!0)),i===eO.ASR?(c===Q0.NoTranslation?v.push(Ree(void 0)):v.push(Ree(c)),it(Hy,{autoCaption:!0,lang:c,language:(S=p.find((_=>_.code===c)))===null||S===void 0?void 0:S.lang})):[eO.InMeetingManual,eO.ExternalCaptioner].includes(i)&&it(Hy,{autoCaption:!1}),Kn(v)}))),epics6:(e,n)=>Ro(e,7986).pipe(Qo(n),nn((([o,i])=>{const c=us(i),{liveTranscription:{currentTranscriptionLang:d,isSomeoneSetSessionTranscription:p,transcriptionLang:v}}=i,{payload:{body:S}}=o,_=[X4e(!0)];if(S?.lang!==void 0){const{lang:P}=S,B=d!==P;var x;p&&!B||it(Hy,{autoCaption:!0,sessionLang:P,sessionLanguage:(x=v.find((z=>z.code===P)))===null||x===void 0?void 0:x.lang}),c?.audio===Xi.Computer&&B&&Qbe(P),_.push(yO(P))}return Kn(_)}))),epics7:(e,n)=>ir(e,Gn.JoinComputerAudioComplete).pipe(yn((()=>{const{liveTranscription:{transcriptionMode:o,isLiveTranscriptionSubscribed:i,currentTranscriptionLang:c}}=n.value;return c!==void 0&&(o===V3.Individual||o===V3.Session&&i)})),Bo((()=>{const{liveTranscription:{currentTranscriptionLang:o}}=n.value;o&&Qbe(o)})),Eg()),epics8:(e,n)=>Ro(e,7983).pipe(yn((o=>o.payload.body!==void 0)),nn((o=>{const{payload:{body:{msgType:i,errorCode:c,language:d,source:p,content:v,keyNodeId:S,msgId:_,nodeId:x,pos:P,size:B,audioLanguage:z}}}=o;if(i===qx.Error){if(c===kOe.TranslateNotSupport){const{liveTranscription:{currentTranslationLang:U}}=n.value;U&&it(f6,{error:kOe.TranslateNotSupport,errorMessage:`${Lee[z]} to ${Lee[U]} translation is not supported!`,audioLanguage:z,translationLang:U})}}else{const U=n.value,H=Na(U),{liveTranscription:{isManualCaptionerEnabled:K}}=U;if(K&&p===eO.ASR)return Promise.resolve();if((function(oe,ce){const{liveTranscription:{isEnableTranslatedCaptions:re,isLiveTranscriptionEnabled:ye},meeting:{meetingOptions:_e}}=ce,{isEnableManualCaptions:Oe,isEnableAllowHostAssignTypeCC:F,isEnableClosedCaption:Me,isEnableAllowThirdPartyCCToken:ot}=_e;return oe===eO.ASR?re||ye:oe===eO.InMeetingManual?Oe&&F||Oe===void 0&&Me:oe===eO.ExternalCaptioner?ot:void 0})(p,U)&&v&&S){const oe=YKe(U)[S];if(oe)return Gf.beginDecrypt({decryptedText:v,type:Wf.CC_MESSAGE,zoomId:oe}).then((({message:ce})=>{const{liveTranscription:{messageRecords:re}}=n.value,ye=[],_e=re.find((Oe=>Oe.msgId===_));if(_e){const{text:Oe}=_e,F=((ot,Fe)=>{if(!ot||Fe===0)return"";let De=0;for(let we=0;we<ot.length;we++)if(De+=PPe(ot[we]),De===Fe)return ot.slice(0,we+1);return ot})(Oe,P);let Me;i===qx.Insert&&B===0||i===qx.Delete&&B===0?Me={..._e,text:F+ce,msgType:i}:i===qx.Close&&(Me={..._e,text:ce,msgType:i,done:!0}),Me&&(ye.push(j4e(Me)),it(f6,Me))}else if([qx.New,qx.Close].includes(i)||K&&i===qx.Insert){const Oe=H.find((Me=>Me.userId===x)),F={msgId:_,userId:x,displayName:Oe?.displayName,avatar:Oe?.avatar,text:ce,source:p,language:d,timestamp:new Date().getTime(),done:i===qx.Close};ye.push(Ube({...F,msgType:i})),it(f6,F)}return ye}))}}return Promise.resolve()})),nn((o=>Array.isArray(o)?Kn(o):Eo))),epics9:(e,n)=>e.pipe(Fo(`${Ube}`),Xu(bA),nn((()=>{const{liveTranscription:{messageRecords:o}}=n.value;return o.length>=1e5?(function(i){const{meeting:{meetingId:c},liveTranscription:{messageRecords:d,reducedRecordsCount:p}}=i;return window.indexedDB!==void 0?new Promise((v=>{const S=window.indexedDB.open(RJ,1);S.addEventListener("upgradeneeded",(()=>{const _=S.result;if(!_.objectStoreNames.contains(Y_)){const x=_.createObjectStore(Y_,{keyPath:["startIndex","mid"],autoIncrement:!1});x.createIndex("mid","mid",{unique:!1}),x.transaction.oncomplete=()=>{console.log(`Create objectStore [${Y_}] complete`)}}})),S.addEventListener("success",(()=>{const _=S.result,x=d.length,P=.9*x,B=x-P,z=d.slice(0,P),U=p+z.length,H=_.transaction([Y_],"readwrite");H.objectStore(Y_).put({startIndex:p,mid:c,records:z}),H.oncomplete=()=>{v(W4e({remains:B,reducedRecordsCount:U})),_.close()},H.onerror=()=>{v(""),_.close()}}))})):Promise.resolve("")})(n.value):Promise.resolve("")})),yn((o=>typeof o=="object"))),epics10:(e,n)=>e.pipe(Fo(`${Fk}`,`${l4}`),yn((()=>n.value.liveTranscription.isRecordsReduced)),Bo((()=>{(function(){if(window.indexedDB!==void 0){const o=window.indexedDB.open(RJ,1);o.addEventListener("success",(()=>{const i=o.result;i.objectStoreNames.contains(Y_)&&(window.indexedDB.deleteDatabase(RJ),i.close())}))}})()})),Eg()),epics11:(e,n)=>ir(e,[Gn.AudiobridgeSetCcLangSuccess,Gn.AudiobridgeSetCcLangFailure]).pipe(nn((o=>{const{payload:{type:i,data:c}}=o,{liveTranscription:{currentTranscriptionLang:d}}=n.value,p=[];return i===Gn.AudiobridgeSetCcLangSuccess&&c!==d?p.push(yO(c)):i===Gn.AudiobridgeSetCcLangFailure&&p.push(yO(void 0)),Kn(p)}))),epics12:e=>Ro(e,8014).pipe(yn((n=>!!n.payload.body)),nn((n=>{const{payload:{body:{delivered:o,type:i}}}=n,c=[];return i==="translationstarted"?o&&(c.push(J4e(!0)),it(Hy,{autoCaption:!0,translationStarted:!0})):i==="meetinglanglocked"?(c.push(Q4e(o)),it(z0e,o)):i==="tcap"&&o&&c.push(eBe(!0)),Kn(c)}))),epics13:e=>Ro(e,8026).pipe(yn((n=>{var o;return!((o=n.payload.body)===null||o===void 0||!o.url)})),So((n=>tBe(n.payload.body.url)))),epics14:e=>Ro(e,8027).pipe(So((n=>{var o;return yO((o=n.payload.body)===null||o===void 0?void 0:o.speaking_language_id)})))},tYe=xg(eYe),POe={isLiveStreamEnable:!1,status:0,channelName:"",viewerUrl:"",liveStreamOn:!1},nYe=wm({[`${rBe}`]:pt(((e,{payload:n})=>{e.isLiveStreamEnable=n})),[`${Dee}`]:pt(((e,{payload:n})=>{e.status=n})),[`${iBe}`]:pt(((e,{payload:n})=>{e.channelName=n.channelName,e.viewerUrl=n.viewerUrl,e.liveStreamOn=n.liveStreamOn})),[`${aBe}`]:(e,{payload:n})=>n?{...e}:{...POe}},POe);let Zx=(function(e){return e[e.Ended=0]="Ended",e[e.InProgress=1]="InProgress",e[e.Connecting=2]="Connecting",e[e.Timeout=3]="Timeout",e})({});var Kx;const NOe=Qi.createAgent();let oYe=(Kx=class extends FS{startLiveStream(e,n,o){const{[qo]:i,[kc]:c}=this,{liveStream:{isLiveStreamEnable:d,status:p},meeting:{zlkJwtToken:v}}=i();return v?p===Zx.InProgress?Promise.reject({type:ln,reason:"Live stream is already on",errorCode:at.LIVE_STREAM_MISMATCH_STATE}):d?e&&n&&o?(NOe.startLiveStream(e,n,o),vr({event:m6,operations:[yn((S=>S===Zx.InProgress)),Yr(1)]},void 0,3e4).then((()=>"")).catch((()=>{const{liveStream:{status:S}}=i();return S===Zx.Connecting?(it(m6,Zx.Timeout),c(Dee(Zx.Timeout)),Promise.reject({type:Xh,errorCode:at.INTERNAL_ERROR})):Promise.resolve("")}))):Promise.reject({type:tr,reason:"parameter cannot be empty",errorCode:at.LIVE_STREAM_INVALID_PARAMETER}):Promise.reject({type:ln,reason:"Live stream is not enabled",errorCode:at.LIVE_STREAM_ACCOUNT_DISABLE}):Promise.reject({type:ln,reason:"meeting sdk don't support start live stream use startLiveStream",errorCode:at.LIVE_STREAM_INVALID_PARAMETER})}stopLiveStream(){const{[qo]:e,[kc]:n}=this,{liveStream:{status:o}}=e();return o===Zx.InProgress&&(NOe.stopLiveStream(),it(m6,Zx.Ended),n(Dee(Zx.Ended))),Promise.resolve("")}getLiveStreamInfo(){const e=this[qo](),{meeting:{liveStreamInfo:n,zlkJwtToken:o,isHost:i}}=e;return o?(console.warn("video sdk don't support get live stream info"),null):i?n&&Object.keys(n).length!==0?n:(console.warn("can not get live stream info"),null):(console.warn("only host get live stream info"),null)}isLiveStreamEnabled(){const{[qo]:e}=this,{liveStream:n,meeting:{liveStreamInfo:o,zlkJwtToken:i}}=e();return(i||o?.isEnabledLiveStream)&&!(n==null||!n.isLiveStreamEnable)}getLiveStreamStatus(){const{[qo]:e}=this,{liveStream:{liveStreamOn:n,channelName:o,viewerUrl:i,status:c}}=e();return{liveStreamOn:n,channelName:o,viewerUrl:i,status:c}}},Fn(Kx.prototype,"startLiveStream",[wd],Object.getOwnPropertyDescriptor(Kx.prototype,"startLiveStream"),Kx.prototype),Fn(Kx.prototype,"stopLiveStream",[wd],Object.getOwnPropertyDescriptor(Kx.prototype,"stopLiveStream"),Kx.prototype),Kx);const sYe=xg({epics0:e=>e.pipe(Fo(`${Mv}`),So((n=>{const{payload:{liveStreamInfo:o}}=n;return rBe(!(o==null||!o.isEnabledLiveStream))}))),epics1:e=>Ro(e,7970).pipe(nn((n=>{const{payload:{body:{channelName:o,liveStreamOn:i,_isApiCall:c,status:d,viewerUrl:p}}}=n;return it(m6,d),Kn([iBe({channelName:o,viewerUrl:p,liveStreamOn:i}),Dee(d)])})))}),{setSummaryEnable:RBe,setSmartSummaryStatus:kBe,resetSummary:rYe}=Qd("SET_SUMMARY_ENABLE","SET_SMART_SUMMARY_STATUS","RESET_SUMMARY"),{setMeetingQueryEnable:DBe,setMeetingQueryStatus:MBe}=Qd("SET_MEETING_QUERY_ENABLE","SET_MEETING_QUERY_STATUS");let SO=(function(e){return e.Default="",e.Start="Start",e.Paused="Paused",e.Stopped="Stopped",e})({}),RO=(function(e){return e[e.GW_IND_NONE=0]="GW_IND_NONE",e[e.GW_IND_START=1]="GW_IND_START",e[e.GW_IND_PAUSE=2]="GW_IND_PAUSE",e[e.GW_IND_STOP=3]="GW_IND_STOP",e})({}),CO=(function(e){return e.Default="",e.Start="Start",e.Paused="Paused",e.Stopped="Stopped",e})({}),kO=(function(e){return e[e.GW_IND_NONE=0]="GW_IND_NONE",e[e.GW_IND_START=1]="GW_IND_START",e[e.GW_IND_PAUSE=2]="GW_IND_PAUSE",e[e.GW_IND_STOP=3]="GW_IND_STOP",e})({});const LOe={summaryStatus:RO.GW_IND_STOP,summaryEnable:!1,meetingQueryStatus:kO.GW_IND_STOP,meetingQueryEnable:!1},iYe=wm({[`${RBe}`]:pt(((e,{payload:n})=>{e.summaryEnable=n})),[`${kBe}`]:pt(((e,{payload:n})=>{e.summaryStatus=n})),[`${DBe}`]:pt(((e,{payload:n})=>{e.meetingQueryEnable=n})),[`${MBe}`]:pt(((e,{payload:n})=>{e.meetingQueryStatus=n})),[`${rYe}`]:()=>({...LOe})},LOe);var BOe,VOe,FOe,HOe,By;const RX=Qi.createAgent();let aYe=(BOe=Do("summary"),VOe=Do("summary"),FOe=Do("summary"),HOe=Do("summary"),Fn((By=class extends FS{startSummary(){const e=this[qo](),{summary:{summaryEnable:n,summaryStatus:o}}=e;return n?o===RO.GW_IND_START?Promise.resolve(""):(RX.summaryMeeting(!0),vr(fO,(i=>i.status===SO.Start))):Promise.reject({type:ln,reason:"The account of the meeting disabled the smart summary",errorCode:at.SUMMARY_ACCOUNT_DISABLE})}stopSummary(){const e=this[qo](),{summary:{summaryStatus:n}}=e;return n!==RO.GW_IND_START?Promise.resolve("not start summary, do nothing"):(RX.summaryMeeting(!1),vr(fO,(o=>o.status===SO.Stopped)))}getSummaryStatus(){const e=this[qo](),{summary:{summaryStatus:n}}=e;return n===RO.GW_IND_START?SO.Start:n===RO.GW_IND_STOP?SO.Stopped:SO.Default}isSummaryEnabled(){const e=this[qo](),{summary:{summaryEnable:n}}=e;return n}startMeetingQuery(){const e=this[qo](),{summary:{meetingQueryEnable:n,meetingQueryStatus:o}}=e;return n?o===kO.GW_IND_START?Promise.resolve(""):(RX.startMeetingQuery(!0),vr(pO,(i=>i.status===CO.Start))):Promise.reject({type:ln,reason:"The account of the meeting disabled the smart summary",errorCode:at.SUMMARY_ACCOUNT_DISABLE})}stopMeetingQuery(){const e=this[qo](),{summary:{meetingQueryStatus:n}}=e;return n!==kO.GW_IND_START?Promise.resolve("not start meeting query, do nothing"):(RX.startMeetingQuery(!1),vr(pO,(o=>o.status===CO.Stopped)))}getMeetingQueryStatus(){const e=this[qo](),{summary:{meetingQueryStatus:n}}=e;return n===kO.GW_IND_START?CO.Start:n===kO.GW_IND_STOP?CO.Stopped:CO.Default}isMeetingQueryEnabled(){const e=this[qo](),{summary:{meetingQueryEnable:n}}=e;return n}}).prototype,"startSummary",[wd,$n,BOe],Object.getOwnPropertyDescriptor(By.prototype,"startSummary"),By.prototype),Fn(By.prototype,"stopSummary",[wd,$n,VOe],Object.getOwnPropertyDescriptor(By.prototype,"stopSummary"),By.prototype),Fn(By.prototype,"startMeetingQuery",[wd,$n,FOe],Object.getOwnPropertyDescriptor(By.prototype,"startMeetingQuery"),By.prototype),Fn(By.prototype,"stopMeetingQuery",[wd,$n,HOe],Object.getOwnPropertyDescriptor(By.prototype,"stopMeetingQuery"),By.prototype),By);const lYe=xg({moduleEpics0:e=>Ro(e,8007).pipe(yn((n=>{var o;return((o=n.payload.body)===null||o===void 0?void 0:o.supported)!==void 0})),So((n=>{const{supported:o}=n.payload.body;return it(fO,{supported:o}),RBe(o)}))),moduleEpics1:(e,n)=>Ro(e,8008).pipe(yn((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.status)!==void 0})),Qo(n),nn((([o,i])=>{const{status:c}=o.payload.body,{summary:{summaryStatus:d}}=i,p=[];if(c!==d)switch(c){case RO.GW_IND_START:it(fO,{status:SO.Start});break;case RO.GW_IND_PAUSE:it(fO,{status:SO.Paused});break;case RO.GW_IND_STOP:it(fO,{status:SO.Stopped});break;default:it(fO,{status:""})}return p.push(kBe(c)),Kn(p)}))),moduleEpics2:(e,n)=>Ro(e,8015).pipe(yn((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.supported)!==void 0})),Qo(n),So((([o,i])=>{const{supported:c}=o.payload.body;it(pO,{supported:c});const{meeting:{zlkJwtToken:d}}=i;if(d){const{auto_transcription:p}=CA(d);p&&(c?Qi.createAgent().startMeetingQuery(!0):console.warn("You account don't support auto transcription"))}return DBe(c)}))),moduleEpics3:(e,n)=>Ro(e,8016).pipe(yn((o=>{var i;return((i=o.payload.body)===null||i===void 0?void 0:i.status)!==void 0})),Qo(n),nn((([o,i])=>{const{status:c}=o.payload.body,{summary:{meetingQueryStatus:d}}=i,p=[];if(c!==d)switch(c){case kO.GW_IND_START:it(pO,{status:CO.Start});break;case kO.GW_IND_PAUSE:it(pO,{status:CO.Paused});break;case kO.GW_IND_STOP:it(pO,{status:CO.Stopped});break;default:it(pO,{status:""})}return p.push(MBe(c)),Kn(p)})))});let wS=(function(e){return e[e.Init=0]="Init",e[e.Pending=1]="Pending",e[e.InProgress=2]="InProgress",e[e.Closing=3]="Closing",e[e.Closed=4]="Closed",e})({}),Bee=(function(e){return e[e.Start=1]="Start",e[e.Stop=2]="Stop",e})({});const cYe=qf.getInstance();function x6(e){cYe.report(e,["Broadcast streaming"])}const $Oe={utk:"",status:wS.Init,channelId:"",channelName:"",isBroadcastStreamingEnable:!1},uYe=wm({[`${lBe}`]:(e,n)=>pt(e,(o=>{o.utk=n.payload})),[`${lz}`]:(e,n)=>pt(e,(o=>{const{channelId:i,channelName:c}=n.payload;o.channelId=i,o.channelName=c})),[`${zbe}`]:(e,n)=>pt(e,(o=>{o.status=n.payload})),[`${cBe}`]:(e,n)=>pt(e,(o=>{o.isBroadcastStreamingEnable=n.payload})),[`${uBe}`]:(e,{payload:n})=>n?{...e}:{...$Oe}},$Oe);var Yx;const UOe=Qi.createAgent(),zOe=Np("Broadcast streaming");let dYe=(Yx=class extends FS{startBroadcast(){const{[qo]:e,[kc]:n}=this,{broadcastStreaming:{isBroadcastStreamingEnable:o,status:i},meeting:{meetingNumber:c,topic:d,lang:p},breakoutRoom:v}=e();return o?v?.controlStatus===ii.InProgress&&Ag(e())?Promise.reject({type:ln,reason:"Cannot start broadcast in a breakout room.",errorCode:at.BROADCAST_STREAMING_MISMATCH_STATE}):i===wS.Init||i===wS.Closed?(UOe.requestUserInfoToken(4,1),h6(wa(hve,1).pipe(hi((S=>{const _=`https://${$6()}/live/createAndStartStream`,x=(function(B){return B.slice(0,128).padEnd(5,"*")})(d??""),P={meetingNumber:`${c}`,channelName:x};return Ov({url:_,method:"POST",headers:{utk:S,lang:p,"Content-Type":"application/json"},crossDomain:Mb(_),body:P}).pipe(wh(SA()),nn((B=>{const{status:z,errorCode:U,errorMessage:H,result:K}=B.response;return z&&U===0?(n(lz({channelName:x,channelId:K?.channelId,type:Bee.Start})),ei.set(tl.VIDEO_SDK_BROADCAST_STREAMING_CHANNEL_ID,K?.channelId,ba.SessionStorage),Promise.resolve(K.channelId)):(x6(`Start broadcast streaming error: errorCode: ${U}; message:${H},tid:${(oe=B.responseHeaders)===null||oe===void 0?void 0:oe["x-zm-trackingid"]}`),Promise.reject({type:Xh,errorCode:at.INTERNAL_ERROR}));var oe})),Cm((B=>(x6(`Start broadcast streaming error: ${B.name};${B.message}`),Promise.reject({type:Xh,errorCode:at.INTERNAL_ERROR})))))}))))):Promise.reject({type:ln,reason:"Broadcast streaming is already in progress",errorCode:at.BROADCAST_STREAMING_MISMATCH_STATE}):Promise.reject({type:ln,reason:"Broadcast streaming is not enabled",errorCode:at.BROADCAST_STREAMING_ACCOUNT_DISABLE})}stopBroadcast(e){const{[qo]:n,[kc]:o}=this,{broadcastStreaming:{status:i,utk:c,channelId:d,channelName:p},meeting:{meetingNumber:v,lang:S}}=n(),_=e||d;if(!_)return Promise.reject({type:tr,reason:"Channel ID is required to stop broadcast streaming",errorCode:at.BROADCAST_STREAMING_INVALID_CHANNEL_ID});if(i===wS.InProgress){const x=`https://${$6()}/live/stopStream`,P={meetingNumber:`${v}`,channelId:_};let B=Promise.resolve(c);return c||(UOe.requestUserInfoToken(4,1),B=h6(wa(hve,1))),B.then((z=>h6(Ov({url:x,method:"POST",headers:{utk:z,lang:S,"Content-Type":"application/json"},crossDomain:Mb(x),body:P}).pipe(wh(SA()),nn((U=>{const{status:H,errorCode:K,errorMessage:oe}=U.response;return H&&K===0?(o(lz({channelName:p,channelId:_,type:Bee.Stop})),Promise.resolve(_)):(x6(`Stop broadcast streaming error: errorCode: ${K}; message:${oe}, tid:${(ce=U.responseHeaders)===null||ce===void 0?void 0:ce["x-zm-trackingid"]}`),Promise.reject({type:Xh,errorCode:at.INTERNAL_ERROR}));var ce}))))))}return Promise.reject({type:ln,reason:"Broadcast streaming is not in progress",errorCode:at.BROADCAST_STREAMING_MISMATCH_STATE})}getBroadcastStreamingStatus(){const{[qo]:e}=this,{broadcastStreaming:{status:n,channelId:o}}=e();return{status:n,channelId:o}}isBroadcastStreamingEnable(){const{[qo]:e}=this,{broadcastStreaming:{isBroadcastStreamingEnable:n}}=e();return n}},Fn(Yx.prototype,"startBroadcast",[$n,wd,zOe],Object.getOwnPropertyDescriptor(Yx.prototype,"startBroadcast"),Yx.prototype),Fn(Yx.prototype,"stopBroadcast",[$n,wd,zOe],Object.getOwnPropertyDescriptor(Yx.prototype,"stopBroadcast"),Yx.prototype),Yx);const hYe=xg({epics0:e=>e.pipe(Fo(`${Mv}`),nn((n=>{const{payload:{enableVsdkInteractiveLiveStream:o}}=n,i=[];i.push(cBe(!!o));const c=ei.get(tl.VIDEO_SDK_BROADCAST_STREAMING_CHANNEL_ID);return c&&i.push(lz({channelId:c})),Kn(i)}))),epics1:e=>Ro(e,4310).pipe(nn((n=>{const{payload:{body:o}}=n,i=[];if(o?.type===4){const{utk:c}=o;i.push(lBe(c)),it(hve,c)}return Kn(i)}))),epics2:(e,n)=>Ro(e,7995).pipe(nn((o=>{const{payload:{body:{status:i}}}=o,{broadcastStreaming:{status:c}}=n.value,d=[];return i&&c!==wS.InProgress&&(d.push(zbe(wS.InProgress)),it(fve,{status:wS.InProgress})),Kn(d)}))),epics3:(e,n)=>e.pipe(Fo(`${lz}`),yn((o=>!!o.payload.type)),hi((o=>{const i=`https://${$6()}/live/getStreamState`,{broadcastStreaming:{utk:c},meeting:{meetingNumber:d}}=n.value,{payload:{channelId:p,type:v}}=o,S={meetingNumber:`${d}`,channelId:p};return awe((()=>Ov({url:i,method:"POST",headers:{utk:c,"Content-Type":"application/json"},crossDomain:Mb(i),body:S}))).pipe((_=P=>{const{status:B,errorCode:z,result:U}=P.response;if(B&&z===0){const H=v===Bee.Start?wS.InProgress:wS.Closed;if(U?.state===H)return za(P)}return awe((()=>Ov({url:i,method:"POST",headers:{utk:c,"Content-Type":"application/json"},crossDomain:Mb(i),body:S}))).pipe(qDe((()=>Eu(1e3))))},x===void 0&&(x=1/0),x=(x||0)<1?1/0:x,Jd((function(P,B){return jDe(P,B,_,x,0,!0,void 0)}))),wh(SA()),tk((P=>{const{status:B,errorCode:z,result:U,errorMessage:H}=P.response;if(B&&z===0){const oe=v===Bee.Start?wS.InProgress:wS.Closed;return U?.state!==oe}var K;return x6(`Query broadcast streaming status failed. errorCode: ${z}, errorMessage: ${H},tid:${(K=P.responseHeaders)===null||K===void 0?void 0:K["x-zm-trackingid"]}`),!1}),!0),L0e(6e4),nn((P=>{const{status:B,errorCode:z,result:U}=P.response,H=[];return B&&z===0&&(it(fve,{status:U.state}),H.push(zbe(U.state))),H})),Cm((P=>(x6(`Query broadcast streaming status failed. error: ${P.name}; ${P.message}`),Eo))));var _,x})))});var F5;const fYe={chat:{epic:NZe,reducer:DZe,Client:MZe},logger:{epic:fKe,reducer:cKe,Client:class extends FS{getLogs(e){return O2.getLogs(this[uc],e)}getStore(){return O2.doNotUseDirtyGetStore()}setLogOptions(e){e&&this[uc].dispatch(G1e(e))}isAutoReportInAccountSettingEnabled(){const{meeting:{zlkJwtToken:e,enableAutoLog:n,collectionToggleEnable:o,zsk:i}}=this[uc].getState();return!!e||(i?n&&o:n)}reportMeetingProblem(e){var n;const{product:o,problem:i,timeOfOccurrence:c,description:d,ticket:p,isLogIncluded:v}=e,{meeting:{userId:S,confId:_,conId:x,svcUrl:P}}=this[uc].getState(),B=`'product':${o}
'problem':${i}
'timeOfOccurrence':${c}
'description':${d}
'ticketID':${p}
'isLogIncluded':${v?"Logs included":""}
'nodeId':${S}
'confId':${_}
'conId':${x}
'svcUrl':${P}`,z=["REPORT_NOTIFICATION"];return(n=O2.makeLogger(z).logWithExtraProperties("",{IM_NOTIFICATION:`${B}
TrackingId:${O2.trackingId}`}))===null||n===void 0?void 0:n.then((()=>{O2.reportToGlobalTracing(v?void 0:z,!0)}))}reportToGlobalTracing(e){return lKe.beforeReportToGlobalTracing(),O2.reportToGlobalTracing(e,!0)}reportRating(e,n){const{meeting:o,media:i,socket:c}=this[uc].getState();if(o){var d,p,v,S;const{zlkJwtToken:_,meetingStatus:x}=o,{assetsPath:P,enforceMultipleVideos:B,enforceVirtualBackground:z,disableRenderLimits:U}=i;O2.report(`rating:${e}, feedback:${n}, appKey:${_?(d=CA(_))===null||d===void 0?void 0:d.app_key:""}, CPU:${navigator.hardwareConcurrency}, GPU:${(p=Zo.gpu)!==null&&p!==void 0?p:""}, browser:${Zo.browser} ${Zo.browserVersion}, OS:${Zo.os} ${Zo.osVersion}, SharedArrayBuffer:${!!Zo.isSupportSharedArrayBuffer},
         OffscreenCanvas:${!!Zo.isSupportOffscreenCanvas},
         assetPath:${P},
          enforceMultipleVideos:${B},
          disableRenderLimits:${U},
          enforceVirtualBackground:${z}, ${x===_h.Joined?`session duration:${Math.floor((performance.now()-((v=o?.pingRWCTimestamp)!==null&&v!==void 0?v:0))/1e3)}, rwg:${c==null||(S=c.rwgServerList)===null||S===void 0||(S=S[c.retryCount])===null||S===void 0?void 0:S.rwg}, failover count:${o?.failover.count}`:""}`,"User Rating","info"),Number(e)<=2&&this.reportToGlobalTracing()}return Promise.resolve()}}},recording:{epic:bKe,reducer:mKe,Client:gKe},cmd:{epic:_Ke,reducer:CKe,Client:EKe},breakoutRoom:{epic:KKe,reducer:DKe,Client:GKe},liveTranscription:{epic:tYe,reducer:JKe,Client:QKe},liveStream:{epic:sYe,reducer:nYe,Client:oYe},summary:{epic:lYe,reducer:iYe,Client:aYe},broadcastStreaming:{epic:hYe,reducer:uYe,Client:dYe}},pYe=Qi.createAgent();let mYe=(F5=class extends CZe{constructor(e){super(e),this.mediaStream=void 0,this[vQ]=fYe}getMediaStream(){return this.mediaStream===void 0&&(this.mediaStream=new kKe(this[uc])),this.mediaStream}joinInstant(e,n,o,i,c,d){const{[qo]:p,[kc]:v}=this,{meeting:{lang:S,meetingStatus:_},socket:{zoomSocketStatus:x}}=p();return n?_!==_h.Joined&&x===Pa.Closed?(v(a4({topic:e?.toLowerCase(),password:c||"",userName:o,zlk:n,lang:S,cv:i})),d&&v(fLe(d)),Jx($7e.JoinMeeting)):Promise.reject({type:ln,reason:"duplicated operation",errorCode:at.CLIENT_DUPLICATED_JOIN}):Promise.reject({type:tr,reason:"invalid  signature",errorCode:at.CLIENT_INVALID_JOIN_PARAMETER})}removeUser(e){const n=this[uc].getState(),{participants:{attendeesList:o},breakoutRoom:i}=n,c=o.find((d=>d.userId===e));if(c){let d=e;if(i?.controlStatus===ii.InProgress&&Ag(n)){const p=i.mainSessionAttendeeList.find((v=>v.userGUID===c?.userGUID));p&&(d=p.userId)}return pYe.expel(d),vr(F0e,(p=>p.some((v=>v.userId===e))))}return Promise.reject({type:tr,reason:"no matched user",errorCode:at.CLIENT_MISMATCH_USER})}},Fn(F5.prototype,"removeUser",[vu,$n],Object.getOwnPropertyDescriptor(F5.prototype,"removeUser"),F5.prototype),F5);function O6(e){return O6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},O6(e)}function gYe(e,n,o){return(n=(function(i){var c=(function(d,p){if(O6(d)!="object"||!d)return d;var v=d[Symbol.toPrimitive];if(v!==void 0){var S=v.call(d,p);if(O6(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)})(i,"string");return O6(c)=="symbol"?c:c+""})(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function jOe(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable}))),o.push.apply(o,i)}return o}function WOe(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?jOe(Object(o),!0).forEach((function(i){gYe(e,i,o[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):jOe(Object(o)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))}))}return e}function mg(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var GOe=typeof Symbol=="function"&&Symbol.observable||"@@observable",$me=function(){return Math.random().toString(36).substring(7).split("").join(".")},Vee={INIT:"@@redux/INIT"+$me(),REPLACE:"@@redux/REPLACE"+$me(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+$me()}};function PBe(e,n,o){var i;if(typeof n=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(mg(0));if(typeof n=="function"&&o===void 0&&(o=n,n=void 0),o!==void 0){if(typeof o!="function")throw new Error(mg(1));return o(PBe)(e,n)}if(typeof e!="function")throw new Error(mg(2));var c=e,d=n,p=[],v=p,S=!1;function _(){v===p&&(v=p.slice())}function x(){if(S)throw new Error(mg(3));return d}function P(z){if(typeof z!="function")throw new Error(mg(4));if(S)throw new Error(mg(5));var U=!0;return _(),v.push(z),function(){if(U){if(S)throw new Error(mg(6));U=!1,_();var H=v.indexOf(z);v.splice(H,1),p=null}}}function B(z){if(!(function(K){if(typeof K!="object"||K===null)return!1;for(var oe=K;Object.getPrototypeOf(oe)!==null;)oe=Object.getPrototypeOf(oe);return Object.getPrototypeOf(K)===oe})(z))throw new Error(mg(7));if(z.type===void 0)throw new Error(mg(8));if(S)throw new Error(mg(9));try{S=!0,d=c(d,z)}finally{S=!1}for(var U=p=v,H=0;H<U.length;H++)(0,U[H])();return z}return B({type:Vee.INIT}),(i={dispatch:B,subscribe:P,getState:x,replaceReducer:function(z){if(typeof z!="function")throw new Error(mg(10));c=z,B({type:Vee.REPLACE})}})[GOe]=function(){var z,U=P;return(z={subscribe:function(H){if(typeof H!="object"||H===null)throw new Error(mg(11));function K(){H.next&&H.next(x())}return K(),{unsubscribe:U(K)}}})[GOe]=function(){return this},z},i}function NBe(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return n.length===0?function(i){return i}:n.length===1?n[0]:n.reduce((function(i,c){return function(){return i(c.apply(void 0,arguments))}}))}const bS=Qi.createAgent(),vYe=qf.getInstance();let k2,qOe;const bYe=Qi.createAgent();let wv=null;var ZOe,KOe={exports:{}},yYe=(ZOe||(ZOe=1,KOe.exports=(function(){function e(i){var c=new Date,d="";return i&&(d+="".concat(c.getMonth()+1,"/").concat(c.getDate(),"/").concat(c.getFullYear()," ")),"[".concat(d).concat(c.getHours(),":").concat(c.getMinutes(),":").concat(c.getSeconds(),".").concat(c.getMilliseconds(),`]:
`)}var n=function(i,c){var d={mode:"cors"};return c&&Object.assign(d,{signal:c}),Promise.any(i.map((function(p){return(function(v,S,_,x){function P(B){return B instanceof _?B:new _((function(z){z(B)}))}return new(_||(_=Promise))((function(B,z){function U(oe){try{K(x.next(oe))}catch(ce){z(ce)}}function H(oe){try{K(x.throw(oe))}catch(ce){z(ce)}}function K(oe){oe.done?B(oe.value):P(oe.value).then(U,H)}K((x=x.apply(v,[])).next())}))})(void 0,0,void 0,(function(){var v,S,_,x,P;return(function(B,z){var U,H,K,oe,ce={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return oe={next:re(0),throw:re(1),return:re(2)},typeof Symbol=="function"&&(oe[Symbol.iterator]=function(){return this}),oe;function re(_e){return function(Oe){return ye([_e,Oe])}}function ye(_e){if(U)throw new TypeError("Generator is already executing.");for(;ce;)try{if(U=1,H&&(K=2&_e[0]?H.return:_e[0]?H.throw||((K=H.return)&&K.call(H),0):H.next)&&!(K=K.call(H,_e[1])).done)return K;switch(H=0,K&&(_e=[2&_e[0],K.value]),_e[0]){case 0:case 1:K=_e;break;case 4:return ce.label++,{value:_e[1],done:!1};case 5:ce.label++,H=_e[1],_e=[0];continue;case 7:_e=ce.ops.pop(),ce.trys.pop();continue;default:if(!((K=(K=ce.trys).length>0&&K[K.length-1])||_e[0]!==6&&_e[0]!==2)){ce=0;continue}if(_e[0]===3&&(!K||_e[1]>K[0]&&_e[1]<K[3])){ce.label=_e[1];break}if(_e[0]===6&&ce.label<K[1]){ce.label=K[1],K=_e;break}if(K&&ce.label<K[2]){ce.label=K[2],ce.ops.push(_e);break}K[2]&&ce.ops.pop(),ce.trys.pop();continue}_e=z.call(B,ce)}catch(Oe){_e=[6,Oe],H=0}finally{U=K=0}if(5&_e[0])throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}})(this,(function(B){switch(B.label){case 0:return B.trys.push([0,3,,4]),[4,fetch(p.url,d)];case 1:if(!(v=B.sent()).ok)throw new Error("HTTP error! status: ".concat(v.status));return[4,v.json()];case 2:return S=B.sent(),_=v.headers.get("call-id"),[2,{response:S,server:p,callId:_}];case 3:throw x=B.sent(),P="server: ".concat(p.domain,", message: ").concat(x.message),new Error(P);case 4:return[2]}}))}))}))).catch((function(p){var v="";return p instanceof AggregateError&&p.errors.forEach((function(S,_){v+="".concat(S.message,`
`)})),Promise.reject(v)}))},o=(function(){function i(){this.MAX_RETRY_TIMES=5}return i.prototype.setRetryTimes=function(c){c===void 0&&(c=5),this.MAX_RETRY_TIMES=c},i.prototype.init=function(c){this.serverList=c,this.delayTime=Array.from(new Set(this.serverList.map((function(d){return d.dl})))),this.excludedServer=[],this.tryTimes=1,this.log="".concat(e(),"initial server list: ").concat(JSON.stringify((function(d){return d.map((function(p){return{domain:p.domain,dl:p.dl,dc:p.dc}}))})(this.serverList)),`
`)},i.prototype.ping=function(c){return this.init(c),this.tryPing()},i.prototype.retry=function(){return this.tryTimes+=1,this.filter(),this.serverList.length===0||this.MAX_RETRY_TIMES>0&&this.tryTimes>this.MAX_RETRY_TIMES?Promise.reject(`no usable RWC any more:
`.concat(this.log)):this.tryPing()},i.prototype.cancelPing=function(){this.abortPingController&&(this.abortPingController.abort(),this.abortPingController=void 0)},i.prototype.tryPing=function(){var c,d=this;this.cancelPing(),this.log+="".concat(e(!0),"Try Times: ").concat(this.tryTimes,`
`),this.abortPingController=(function(){if(typeof AbortController=="function")return new AbortController})();var p=(c=this.abortPingController)===null||c===void 0?void 0:c.signal;return new Promise((function(v,S){var _=d.delayTime.reduce((function(B,z){return B+z}),0),x=setTimeout((function(){d.log+="ping time out ".concat(_+1e4,`s
`),d.serverList=[],d.cancelPing()}),_+1e4),P=(function(B){var z=B.reduce((function(U,H){var K=H.dl;return U[K]||(U[K]=[]),U[K].push(H),U}),{});return Object.entries(z).map((function(U){var H,K=U[0],oe=U[1];return[(H=Number(K))!==null&&H!==void 0?H:0,oe]})).sort((function(U,H){return U[0]-H[0]})).map((function(U){return U[0],U[1]}))})(d.serverList);Promise.any(P.map((function(B,z){var U=d.delayTime[z];return(function(H,K,oe){return new Promise((function(ce,re){var ye;if(oe?.aborted)return re(new Error("Promise was cancelled"));var _e=setTimeout((function(){H().then(ce).catch(re).finally((function(){var F;return(F=oe?.removeEventListener)===null||F===void 0?void 0:F.call(oe,"abort",Oe)}))}),K),Oe=function(){var F;clearTimeout(_e),(F=oe?.removeEventListener)===null||F===void 0||F.call(oe,"abort",Oe),re(new Error("Promise was cancelled"))};(ye=oe?.addEventListener)===null||ye===void 0||ye.call(oe,"abort",Oe)}))})((function(){return d.log+="".concat(e(),"ping[dl=").concat(U,"][groupIndex=").concat(z,"]-->").concat(JSON.stringify(B.map((function(H){return H.domain}))),`
`),n(B,p)}),U,p)}))).then((function(B){var z=B.response,U=B.server,H=B.callId;d.log+="".concat(e(),"ping resolved: request server:").concat(U.domain,`
 response:`).concat(JSON.stringify(z),`
 Call-ID:`).concat(H,`
`),d.lastServer=U,v({response:z,request:U,log:d.log})})).catch((function(B){return B instanceof AggregateError?(d.log+=e(),B.errors.forEach((function(z,U){d.log+="ping failed [groupIndex=".concat(U,`]:
`).concat(z,`
`)}))):d.log+="".concat(e(),"ping failed. Errors(unknown): ").concat(B.message,`
`),S(d.log)})).finally((function(){clearTimeout(x),d.cancelPing()}))}))},i.prototype.filter=function(){var c,d=this;this.serverList=this.serverList.filter((function(p){var v;return p.domain!==d.lastServer.domain&&p.dc!==c||(c||(c=(v=d.excludedServer.find((function(S){return S.dc===d.lastServer.dc})))===null||v===void 0?void 0:v.dc),d.excludedServer.push(d.lastServer),!1)})),this.log+="".concat(e(),"excludedServer ").concat(JSON.stringify(this.excludedServer.map((function(p){return p.domain}))),`
`)},i.prototype.getLog=function(){return this.log},i})();return new o})()),KOe.exports),xk=Ste(yYe);const eye=qf.getInstance();xk.setRetryTimes(0);const LBe=e=>$O(wh(SA().pipe(Bo((()=>{xk.cancelPing(),eye.report(`ping rwc canceled. ping rwc log:${xk.getLog()}`,["Join Meeting Flow","Ping RWC Error"],"warn")})))),nn((n=>{const{response:o,request:i}=n;let c={};return c=o?{...o,rwc:i.domain,fromNginx:!1}:{rwc:i.domain,rwg:i.domain,rwcToken:i.rwcToken,fromNginx:!0},Kn([_Le(c),Kve()])})),Cm((()=>{const n=xk.getLog(),{meeting:{meetingId:o,meetingNumber:i,userName:c}}=e.value;return eye.report(`ping rwc error,${JSON.stringify({meetingId:o,meetingNumber:Uf(i),userName:Uf(c)})}, ping rwc log: ${n}`,["Join Meeting Flow","Ping RWC Error"],"error"),it(Yu,{reason:"connection error",errorCode:dE.CommonError}),Kn([...u3(e.value)])}))),YOe=(e,n)=>e.pipe(Fo(`${h1e}`),Qo(n),yn((([,o])=>o.meeting.encryptedRWC!==void 0||o.meeting.encryptedGEORWC!==void 0&&o.meeting.encryptedGEORWC.length>0)),hi((([,o])=>Kn(xk.ping((i=>{const{meeting:{encryptedRWC:c,encryptedGEORWC:d,meetingOptions:p,meetingNumber:v,ts:S,auth:_},breakoutRoom:x,video:P,audio:B}=i,z=p?.isEnableGeoFenceRWC,U=P!=null&&P.isWebrtcVideoCapable||B!=null&&B.isWebRtcAudioCapable&&B?.webRtcAudioMode&l7e.WebRTCAudio2?P?.miniRwgOptionValue:0;return z&&d&&d?.length>0?d.map((H=>{const{dc:K,dl:oe,rwc:ce,rwcToken:re}=H;return{url:BAe(ce,v,re,S,_,x?.currentRoom.boConfId,U),domain:ce,rwcToken:re,dl:oe,dc:K}})):c?Object.keys(c).map((H=>{const K=c[H];return{url:BAe(H,v,K,S,_,x?.currentRoom.boConfId,U),domain:H,rwcToken:K,dl:0,dc:"AP"}})):[]})(o))).pipe(LBe(n),o1(rLe(performance.now()))))));let XOe=0;const SYe=qf.getInstance(),Ume={meetingStatus:_h.Initial,isWindowOpen:!1,apiKey:"",signature:"",signatureType:"",lang:"en-US",tk:"",customerKey:"",mtkGuid:"",pingRWCTimestamp:0,meetingInfoTimestamp:0,passWord:"",meetingNumber:0,userName:"",userEmail:"",sdkUrl:"",sdkOrigin:"",proxy:1,cv:"",meetingId:"",tid:"",ts:"",auth:"",sign:"",isSupportCallOut:!1,tollNumbers:void 0,recordingEnable:!1,callOutCountry:void 0,inviteEmail:"",xmppConfig:null,isSupportH323:!1,h323GatewayInfo:"",h323Password:"",trackAuth:"",isOriginHost:!1,isWebinar:!1,encryptedRWC:void 0,meetingOptions:{},meetingTopic:"",bLock:!1,bHoldUponEntry:!1,viewOnly:0,listenOnlyPhone:0,bAllowRaiseHand:!1,bAllowAttendeeRename:!1,bBroadcast:void 0,bAllowPlayChimeForEnterOrExit:!1,bIbDisableShare:!1,bIbDisableChat:!1,bAllowShowCount:!1,encryptKey:"",bNoHostTimeOut:!1,confId:"",conId:"",e2eEncrypt:!1,zoomId:"",jid:"",xtoken:"",groups:void 0,svcUrl:"",encType:NaN,userGUID:"",userId:NaN,isHost:!1,isCoHost:!1,participantID:0,isOnHold:!1,isMeetingReset:!1,bRecord:!1,audioVideoBeforeOnHold:void 0,region:void 0,network:void 0,joinMeetingTimeStamp:0,activeAppInfo:void 0,recordingDisclaimerForRecorder:{},recordingDisclaimer:{},ccUrl:"",sessionIdleTimeoutMins:40,reportDomain:"",discardedRwcList:[],sharePronounType:void 0,stayAwake:!1,wrInfo:{},meetingInfo:{},isNewJoinFlow:!1,gatewayUserList:[],logConfig:"",logEncryptionPubKey:"",failover:{count:0,isCurrentFailoverRecorded:!1,reason:-1,interval:0,joinMeetingSuccessTimestamp:0,sequence:""},isUseWBVideo:!1,isUseWBAudio:!1,enableLongPollingCheckStart:!1,rsPwd:"",chatModerationPolicy:{},isAlternativeHost:!1,isAssistant:!1,isRlbTP:!1,isRlbTPReady:!1,isUIToolkit:!1,liveStreamInfo:{}},CYe=wm({[`${Mv}`]:pt(((e,{payload:n})=>{n.customerKey=e.customerKey||n.customerKey||"",Object.assign(e,n),e.meetingStatus=_h.Initial})),[`${AGe}`]:pt(((e,{payload:n})=>{n.customerKey=e.customerKey||n.customerKey||"",Object.assign(e,n)})),[`${TGe}`]:pt(((e,{payload:n})=>{e.isWindowOpen=n})),[`${sLe}`]:pt(((e,{payload:n})=>{n.useSDK?e.signatureType="sdk":e.signatureType="api",e.apiKey=n.apiKey,e.signature=n.signature,e.lang=n.language})),[`${xGe}`]:pt(((e,{payload:n})=>{e.ztk=n})),[`${OGe}`]:pt(((e,{payload:n})=>{e.zsk=n})),[`${IGe}`]:pt(((e,{payload:n})=>{e.tk=n.tk,e.mtkGuid=n.mtkGuid})),[`${rLe}`]:pt(((e,{payload:n})=>{e.pingRWCTimestamp=n})),[`${yLe}`]:pt(((e,{payload:n})=>{e.meetingInfoTimestamp=n})),[`${TE}`]:pt(((e,{payload:n})=>{e.confId=n.confID,e.conId=n.conID,e.e2eEncrypt=n.e2eEncrypt,e.meetingNumber=parseInt(n.mn,10),e.zoomId=n.zoomID,e.meetingStatus=_h.Joined,e.jid=n.jid,e.xtoken=n.xtoken,e.groups=n.groups,e.svcUrl=n.svcUrl,e.encType=n.encType,e.userGUID=n.userGUID,e.userId=n.userID,e.role=n.role,e.participantID=n.participantID,e.reportDomain=n.reportDomain,e.abToken=n.ABtoken,e.supportLocalAB=!!n.supportLocalAB,e.isUseWBVideo=!!n.useWBVideo,e.mediasdkConfig=n.mediasdkConfig,e.isUseWBAudio=!!n.useWBAudio,n.enableWebTransport&&(e.enableWebtransport=n.enableWebTransport,e.webtransportPort=n.WebTransportPort)})),[`${see}`]:pt(((e,{payload:n})=>{if(n.gatewayUser){var o;const{userId:c,sn:d}=n.gatewayUser,p=(o=e.gatewayUserList)===null||o===void 0?void 0:o.find((v=>v.userId===c));var i;p?p.sn=d:(i=e.gatewayUserList)===null||i===void 0||i.push(n.gatewayUser)}else Object.assign(e,n)})),[`${iLe}`]:pt(((e,{payload:n})=>{e.isHost=n})),[`${aLe}`]:pt(((e,{payload:n})=>{e.isCoHost=n})),[`${l3}`]:pt(((e,{payload:n})=>{e.isOnHold=n})),[`${lLe}`]:pt(((e,{payload:n})=>{e.isMeetingReset=n})),[`${cLe}`]:pt(((e,{payload:n})=>{e.audioVideoBeforeOnHold=n})),[`${Gve}`]:pt(((e,{payload:n})=>{e.currentUserAudioBeforeReset=n})),[`${qve}`]:pt(((e,{payload:n})=>{e.isCurrentUserMutedBeforeReset=n})),[`${f1e}`]:pt(((e,{payload:n})=>{e.meetingStatus=n})),[`${uLe}`]:pt(((e,{payload:n})=>{e.region=n.region,e.network=n.network})),[`${dLe}`]:pt(((e,{payload:n})=>{e.isCurrentUserStartVideoBeforeReset=n})),[`${hLe}`]:pt(((e,{payload:n})=>{e.joinMeetingTimeStamp=n})),[`${RGe}`]:pt(((e,{payload:n})=>{e.activeAppInfo=n})),[`${K5}`]:pt(((e,{payload:n})=>{e.idleStartTime=n})),[`${fLe}`]:pt(((e,{payload:n})=>{e.sessionIdleTimeoutMins=n})),[`${kGe}`]:pt(((e,{payload:n})=>{var o;const i=(o=e.encryptedGEORWC)===null||o===void 0||(o=o.find((d=>d.rwc===n)))===null||o===void 0?void 0:o.dc;if(i){var c;const d=(c=e.encryptedGEORWC)===null||c===void 0?void 0:c.filter((p=>p.dc===i));d&&e.discardedRwcList.some((p=>d?.findIndex((v=>v.rwc===p))>=0))&&e.discardedRwcList.push(...d.map((p=>p.rwc))),e.discardedRwcList.push(n)}})),[`${pLe}`]:pt(((e,{payload:n})=>{e.sharePronounType=n})),[`${mLe}`]:pt(((e,{payload:n})=>{e.stayAwake=n})),[`${gLe}`]:pt(((e,{payload:n})=>{e.failover.joinMeetingSuccessTimestamp=n})),[`${vLe}`]:pt((e=>{Object.assign(e.failover,{...Ume.failover,count:e.failover.count,joinMeetingSuccessTimestamp:e.failover.joinMeetingSuccessTimestamp})})),[`${ree}`]:pt(((e,{payload:n})=>{const{count:o,reason:i,interval:c,sequence:d}=n;e.failover.count=o,e.failover.reason=i,e.failover.interval=c,e.failover.isCurrentFailoverRecorded=!0,e.failover.sequence=d})),[`${bLe}`]:pt(((e,{payload:n})=>{e.quicklyLeave=n})),[`${SLe}`]:pt(((e,{payload:n})=>{e.isEnableZmkFromRWG=n})),[`${vJ}`]:pt(((e,{payload:n})=>{e.isRlbTP=n})),[`${CLe}`]:pt(((e,{payload:n})=>{e.isRlbTPReady=n})),[`${oLe}`]:pt(((e,{payload:n})=>{e.isUIToolkit=n})),[`${Wve}`]:(e,{payload:n})=>{const{isFailover:o}=n,i={isMeetingReset:!0,apiKey:e.apiKey,signatureType:e.signatureType,signature:e.signature,lang:e.lang,proxy:1,stayAwake:e.stayAwake};var c;return o&&Object.assign(i,{currentUserAudioBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.audio:n.audio,isCurrentUserMutedBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.muted:(c=e.isCurrentUserMutedBeforeReset)!==null&&c!==void 0?c:n.muted,isCurrentUserStartVideoBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.video:n.video,meetingNumber:e.meetingNumber,userName:e.userName,passWord:e.passWord,userEmail:e.userEmail,sdkUrl:e.sdkUrl,sdkOrigin:e.sdkOrigin,cv:e.cv,zsk:e.zsk,ztk:e.ztk,idleStartTime:e.idleStartTime,sessionIdleTimeoutMins:e.sessionIdleTimeoutMins,customerKey:e.customerKey,failover:e.failover,stayAwake:e.stayAwake,quicklyLeave:e.quicklyLeave}),{...Ume,...i}}},Ume),EYe={meetingFailoverReportEpic0:(e,n)=>e.pipe(Fo(`${Mv}`),hi((()=>{const o=n.value.meeting.failover.joinMeetingSuccessTimestamp===0&&!!ei.get(tl.WebclientZoomId);return e.pipe(Fo(`${TE}`),Yr(1),nn((()=>{const i=[],{count:c,sequence:d}=ei.get(tl.WebclientFailoverCount)||{};let{meeting:{failover:{count:p,reason:v,interval:S}}}=n.value;const{meeting:{pingRWCTimestamp:_}}=n.value;if(o){p=(c??0)+1,v=Qh.RefreshPage,S=0;const B=d?`${d}-${v}`:`${v}`;ei.set(tl.WebclientFailoverCount,{count:p,sequence:B},ba.SessionStorage),i.push(ree({count:p,reason:v,interval:S,sequence:B}))}const x=performance.now();let P=`WCL_M, JMCT(${x-_})`;return p>0&&v!==Qh.NormalCase&&(P=`${P},FAILOVER(${p},${v},${(S/1e3).toFixed(1)})`),bYe.sendRWGConnectionPerformance(P),i.push(vLe(),gLe(x)),Kn(i)})))}))),meetingFailoverReportEpic1:(e,n)=>e.pipe(Fo(`${wg}`),nn((o=>{const{payload:i}=o,{meeting:{failover:{joinMeetingSuccessTimestamp:c,isCurrentFailoverRecorded:d},userGUID:p,userId:v,meetingId:S}}=n.value,_=[];if(!d){let{count:x,sequence:P}=ei.get(tl.WebclientFailoverCount)||{};P=P?`${P}-${i}`:`${i}`,i!==Qh.NormalCase&&(x+=1,ei.set(tl.WebclientFailoverCount,{count:x,sequence:P},ba.SessionStorage));const B=performance.now()-c;_.push(ree({reason:i,count:x,interval:B,sequence:P,userGUID:p,userId:v,meetingId:S}))}return Kn(_)})))},wYe={sessionIdleEpic0:(e,n)=>e.pipe(Fo(`${TE}`),Qo(n),yn((([,o])=>o.meeting.zlkJwtToken!==void 0)),hi((()=>(k2&&k2.complete(),k2=new J0,qOe=j6(6e4).pipe(So((()=>performance.now()))).subscribe(k2),k2.pipe(So((o=>$_e(o)))))))),sessionIdleEpic1:e=>e.pipe(Fo(`${qy}`)).pipe(Bo((()=>{k2&&(k2.complete(),qOe.unsubscribe())})),Ia(Eo)),sessionIdleEpic2:(e,n)=>e.pipe(Fo(`${$_e}`),Qo(n),nn((([o,i])=>{var c;const{meeting:{idleStartTime:d,sessionIdleTimeoutMins:p,isOriginHost:v,isWebinar:S},participants:{attendeesList:_,xmppAttendeeList:x},recording:P,breakoutRoom:B}=i,z=o.payload,U=[];if(_.length!==1||S&&x.length!==0||(B==null||(c=B.currentRoom)===null||c===void 0?void 0:c.status)===rr.InRoom||P?.cmrStatus===Ed.Start)U.push(K5(void 0));else if(d){const H=v&&q6(_[0].userRole)?p:40;z-d>60*H*1e3&&(console.warn(`No active for ${H} minutes, will end the session.`),vYe.report(`Session idle timeout(${H} minutes), end the session automatically!`,["Join Meeting Flow","Session idle"],"warn"),U.push(l4()),Eu(500).subscribe((()=>{e1e()})))}else U.push(K5(z));return Kn(U)}))),sessionIdleEpic3:(e,n)=>e.pipe(Fo(`${Zk}`),yn((o=>[Vl,Wy].includes(o.payload.evt)&&n.value.meeting.idleStartTime!==void 0)),Xu(Dv),nn((()=>{var o;const{participants:{attendeesList:i,xmppAttendeeList:c},recording:d,breakoutRoom:p}=n.value,v=[];return(i.length>1||c.length>0||d?.cmrStatus===Ed.Start||(p==null||(o=p.currentRoom)===null||o===void 0?void 0:o.status)===rr.InRoom)&&v.push(K5(void 0)),Kn(v)}))),sessionIdleEpic4:e=>e.pipe(Fo(`${Fk}`,`${l4}`),Mk(K5(void 0)))},_Ye={meetingMainEpics0:(e,n)=>Ro(e,0).pipe(Bo((o=>{var i;if(((i=o.payload.body)===null||i===void 0?void 0:i.status)==="READY"){const{meeting:{zlkJwtToken:c,signatureType:d,sign:p,passWord:v,isHost:S,isOriginHost:_,ztk:x,zsk:P,tk:B,userEmail:z},breakoutRoom:U}=n.value,H=c?{zlkJwtToken:c}:{signType:d,sign:p};if(v&&v!==""&&(c?Object.assign(H,{mpwd:bu(v)}):S&&_||Object.assign(H,{mpwd:v})),U?.currentRoom.status===rr.Joining){const{currentRoom:{boId:oe,boConfId:ce,boToken:re}}=U;oe&&ce&&re&&Object.assign(H,{botk:re})}if(!c){x&&Object.assign(H,{zak:x}),(sessionStorage.getItem(tl.WebclientZsk)||P)&&Object.assign(H,{zak:P}),B&&Object.assign(H,{tk:B});const oe=ei.get(tl.WebclientWebinarToken);oe!==void 0&&Object.assign(H,{tk:oe});const ce=sessionStorage.getItem(tl.WebclientRecordingToken);ce&&Object.assign(H,{localRecordToken:ce}),z&&Object.assign(H,{email:z})}bS.sendLaunchParams(H);const K=ei.get(tl.WebclientMeetingToken);K&&bS.joinMeeting(K)}})),Ia(Eo)),meetingMainEpics1:(e,n)=>{return Ro(e,Ate).pipe(Qo(n),yn((([,i])=>i.socket.zoomSocketStatus===Pa.Connected)),(o=([i,c])=>{const{payload:{body:{res:d,userID:p,zoomID:v,mn:S,participantID:_,meetingtoken:x,role:P}}}=i,{meeting:{userEmail:B,userName:z,isMeetingReset:U,apiKey:H,zsk:K,signatureType:oe}}=c;if(Rb.Success===d){const{WebclientParticipantId:re,WebclientZoomId:ye,WebclientUserEmail:_e,WebclientUserName:Oe,WebclientMeetingToken:F}=tl;ei.set(ye,v,ba.SessionStorage),ei.set(re,_,ba.SessionStorage),B&&ei.set(_e,B,ba.SessionStorage),ei.set(Oe,z,ba.SessionStorage),x&&ei.set(F,x,ba.SessionStorage),K&&bS.sendSdkKeyToMonitor(oe,H,p);const Me=[TE(i.payload.body),hLe(performance.now())];return U&&Me.push(lLe(!1)),(P&Nk.Owner)===Nk.Owner&&(it(Yu,{reason:"dont support assisnt join through widget",errorCode:-1}),bS.leaveMeeting()),it(YDe,{meetingNumber:S}),Kn(Me)}if(Rb.MeetingLocked===d)it(Yu,cE(d));else if(Rb.UserFull===d)it(Yu,Object.assign({},cE(d),{lmUrl:i.payload.body.lmURL}));else if(Rb.MeetingIsOver===d)it(Yu,cE(d));else if(Rb.MMRIBReject===d)it(Yu,cE(d));else if(Rb.MMRConfParticipantExists===d)it(Yu,cE(d));else if([Rb.UserHasBeenRemoved,Rb.WebinarBlockedEmail].includes(d))it(Yu,cE(d));else if(Rb.MeetingNotStarted===d){var ce;const re=cE(d),{meeting:{meetingNumber:ye,passWord:_e,userName:Oe,userEmail:F,inviteEmail:Me,meetingTopic:ot,region:Fe,network:De,userId:we,lang:ct,meetingId:rt,participantID:gt,wrInfo:ee,meetingInfo:on,isNewJoinFlow:nt,enableLongPollingCheckStart:Mt,tid:Pt,signature:st,rsPwd:vn}}=c;Object.assign(re,{meetingInfo:{meetingNumber:ye,password:_e,userName:Oe,userEmail:F,inviteEmail:Me,meetingTopic:ot,region:Fe,network:De,userId:we,lang:ct,webEndpoint:$6(),meetingId:rt,participantId:gt,wrInfo:Object.assign({},ee,{isNew:nt}),scheduleInfo:on,enableLongPollingCheckStart:Mt,rid:bZe(Pt),role:Number((ce=CA(st))===null||ce===void 0?void 0:ce.role),rsPwd:vn}}),it(Yu,re)}else it(Yu,cE(d));return Kn(u3(c,!1))},$O(hi(((i,c)=>o(i)||Eo)))));var o},meetingMainEpics2:(e,n)=>Ro(e,Wy).pipe(Qo(n),So((([o,i])=>{const{payload:{body:c}}=o,{meeting:{zoomId:d,encType:p,gcmSessinKey:v}}=i;if(c?.encryptKey!==void 0&&Gf.init(d,c.encryptKey,p),c?.gatewayKey!==void 0){const S=Ls.getInstance(),[,_,x]=c.gatewayKey.split(".");S.sendUserNodeList([{userid:Number(_),sn:x&&jy(x)}],v)}return it($0e,c),see(c)}))),meetingMainEpics3:(e,n)=>Ro(e,7939).pipe(Qo(n),nn((([o,i])=>{const{payload:{body:c}}=o;if(c.reason!==void 0){if(H_.Reconnect===c.reason)return jZe.WaitingRoomFailover===c.subReason?it(Rv,{reason:Em.OnHold}):it(Rv,{reason:Em.Failover}),za(wg(Qh.NormalCase));H_.KickedByHost===c.reason?it(hO,{reason:"kicked by host"}):[H_.EndByHost,H_.EndByNone,H_.EndByAdmin,H_.EndByHostStartAnotherMeeting].includes(c.reason)?it(hO,{reason:"ended by host"}):H_.FreeMeetingTimeout===c.reason?it(hO,{reason:"free meeting ended"}):[H_.DuplicateSession,H_.MeetingTransfer].includes(c.reason)&&it(hO,{reason:"duplicated session"})}return i.meeting.isMeetingReset?Eo:Kn(u3(i,!1))}))),meetingMainEpics4:(e,n)=>e.pipe(Fo(`${wg}`),Qo(n),nn((([,o])=>{const i=u3(o,!0);let c;if(o.meeting.zlkJwtToken){const d=(function(v){if(v){const{meeting:{topic:S,passWord:_,userName:x,zlkJwtToken:P,lang:B,cv:z,customerKey:U}}=v;return{topic:S,passWord:_,userName:x,zlkJwtToken:P,lang:B,cv:z,customerKey:U}}return null})(o),p={topic:d?.topic,password:d?.passWord,userName:d?.userName,zlk:d?.zlkJwtToken,lang:d?.lang,cv:d?.cv,customerKey:d?.customerKey};c=za(a4(p)).pipe(Y3(1e3))}else{const d=(function(p){var v;const{meeting:{apiKey:S,signature:_,signatureType:x,meetingNumber:P,userName:B,lang:z,passWord:U,userEmail:H,sdkUrl:K,sdkOrigin:oe,proxy:ce,cv:re,ztk:ye,zsk:_e,tk:Oe}}=p;let F=ye||sessionStorage.getItem(tl.WebclientZtk),Me=_e||sessionStorage.getItem(tl.WebclientZsk);const ot=Number((v=CA(_))===null||v===void 0?void 0:v.role)===1;return ot||(F=Me,Me=""),{apiKey:S,signature:_,signatureType:x,meetingNumber:P,userName:B,lang:z,passWord:U?encodeURIComponent(U):"",userEmail:H,sdkUrl:K,sdkOrigin:oe,proxy:ce,cv:re,ztk:F,zsk:Me,tk:Oe||sessionStorage.getItem(tl.WebclientTk),ulsm:ot&&Me?1:0}})(o);c=za(oee(d)).pipe(Y3(1e3))}return z6(Kn(i),c)}))),meetingMainEpics5:e=>RS(e,7940).pipe(Bo((n=>{it("MEETING_HOST_CHANGE_INDICATION",n.payload.body.bHost)})),So((n=>iLe(n.payload.body)))),meetingMainEpics6:e=>RS(e,7941).pipe(Bo((n=>{it("MEETING_COHOST_CHANGE_INDICATION",n.payload.body.bCoHost)})),So((n=>aLe(n.payload.body)))),meetingMainEpics7:e=>RS(e,7945).pipe(Bo((n=>{const{payload:{body:{opt:o}}}=n;ei.set(tl.WebclientOpt,o,ba.SessionStorage)})),Ia(Eo)),meetingMainEpics8:(e,n)=>Ro(e,7942).pipe(Bo((o=>{const{payload:{body:{bHold:i}}}=o;ei.set(tl.WebclientIsOnHold,i?1:0,ba.SessionStorage),it(H0e,i)})),Qo(n),nn((([o,i])=>{const c=[l3(o.payload.body.bHold)];if(o.payload.body.bHold){const d=us(i);if(d){c.push(cLe({audio:d.audio,video:d.bVideoOn,muted:d.muted}));const p=_m(Ls.getInstance());if(d.audio==="computer"&&(p.leaveComputerAudio(),bS.joinOrLeaveVoip(!1)),d.bVideoOn&&p.stopCaptureVideo(),d.sharerOn&&(bS.stopSharing(d.userId),p.stopDesktopSharing(),c.push(Sg(Zr.End))),i.video&&i.video.subscribedVideoList.length>0&&i.video.subscribedVideoList.forEach((v=>{p.unsubscribeVideo(v)})),i.share&&i.share.isReceiveSharing){const v=i.share.activeNodeId;i.share.remoteControlledUserList.length>0&&(i.share.remoteControlledUserList.forEach((S=>{bS.sharingRequestRemoteControl(S,!1)})),V2(i)&&p.stopRemoteControl()),bS.unsubscribeSharing(v),p.stopRenderSharing(),c.push(IO(!1))}}}return Kn(c)}))),meetingMainEpics9:e=>Ro(e,7954).pipe(So((n=>uLe(n.payload.body)))),meetingMainEpics10:e=>Ro(e,4216).pipe(Bo((n=>{it("MEETING_CLAIM_HOST_KEY_RESPONSE",n.payload.body.bresult)})),Ia(Eo)),meetingMainEpics11:(e,n)=>e.pipe(Fo(`${Fk}`,`${l4}`),Qo(n),nn((([o,i])=>{const c=hWe(i),{socket:{zoomSocketStatus:d},meeting:{meetingId:p}}=i;return d===Pa.Connected&&(o.type===`${Fk}`?bS.leaveMeeting(c):o.type===`${l4}`&&bS.endMeeting()),p&&it(hO,{}),Kn(u3(i,!1))}))),meetingMainEpics12:(e,n)=>e.pipe(Fo(`${jve}`),Qo(n),nn((([o,i])=>{if(o.type===`${jve}`&&i.meeting.meetingNumber&&!i.meeting.zlkJwtToken){const c={mn:i.meeting.meetingNumber.toString(),name:i.meeting.userName,customerKey:i.meeting.customerKey?bu(i.meeting.customerKey):""},{jbhLeave:d}={jbhLeave:`https://${dte}/wc/jbhLeave`},p=`${d}/?${new URLSearchParams(c).toString()}`;fetch(p,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"}})}return Eo}))),meetingMainEpics13:e=>Ro(e,2).pipe(Bo((()=>{console.warn("Upgrade to latest version to optimize meeting experience")})),Ia(Eo)),meetingMainEpics14:e=>Ro(e,1).pipe(Bo((n=>{const{payload:{body:{upgradeVersion:o}}}=n,i=cE(1e4);if(i&&i.reason){const c=i.reason.replace(/{(\d+)}/g,(()=>o));i.reason=c}it(Yu,i)})),Ia(Eo)),meetingMainEpics15:e=>Ro(e,4265).pipe(So((n=>{const{payload:{body:o}}=n,{nShareType:i}=o;return it(XDe,{userSharePronounType:i}),pLe(i)}))),meetingMainEpics16:e=>Ro(e,4128).pipe(Bo((n=>{const{payload:{body:{meetingtoken:o}}}=n,{WebclientMeetingToken:i}=tl;o&&ei.set(i,o,ba.SessionStorage)})),Ia(Eo)),meetingMainEpics17:(e,n)=>e.pipe(Fo(`${TE}`),yn((()=>!!n.value.meeting.quicklyLeave)),hi((()=>Xd(window,"beforeunload").pipe(Bo((()=>{bS.leaveMeeting()})),Ia(Eo))))),meetingMainEpics18:(e,n)=>Ro(e,8025).pipe(yn((o=>!!o.payload.body.Zmk&&!!n.value.meeting.isEnableZmkFromRWG)),So((o=>{const{payload:{body:{Zmk:i}}}=o;return see({zmk:i})}))),meetingMainEpics19:(e,n)=>e.pipe(Fo(`${Mv}`),nn((o=>{const{payload:{mediaFeatureOptions:i,mediaSDKPath:c}}=o,{media:{skipJsMedia:d,patchJsMedia:p,assetsPath:v}}=n.value;if((function(S){return(function(_){try{if(47>_.length)return 0;const x=_.slice(_.length-47-1+1,_.length-47+1);if(x)return parseInt(x,16)}catch{}return 0})(S)===1})(i)){const S=`${!d&&p&&BPe(v)&&c?bte(c):v}/tp.min.js`;return Kn(window.ZoomTPModule===void 0||typeof window.ZoomTPModule.ZoomTPWebSocket!="function"?new Promise(((_,x)=>cte(S,(()=>_("")),(()=>x())))):Promise.resolve("")).pipe(nn((()=>{const{meeting:{mediaFeatureOptions:_},logger:x}=n.value,P=x?qf.getInstance().makeLogger(["TP MODULE"]):void 0;return Kn(window.ZoomTPModule.initTPModule({options:_,logInstance:P}).then((()=>(it(eJ,!0),CLe(!0)))).catch((()=>(it(eJ,!1),vJ(!1)))))})),Cm((()=>(setTimeout((()=>{qf.getInstance().report(`Unable to load tp.min.js,url:${S}`,["TP MODULE"],"error")}),5e3),it(eJ,!1),Kn([vJ(!1)])))),o1(vJ(!0)))}return Eo})))},AYe=xg(_Ye,{wakeLockEpic0:(e,n)=>e.pipe(Fo(`${TE}`),Qo(n),yn((([,o])=>!!o.meeting.stayAwake)),Bo((async()=>{try{const{isSafari:o,isIOSMobile:i}=Zo;wv&&wv.release().then((()=>{wv=null})),"wakeLock"in navigator&&((o||i)&&await dc(Vp(Xd(document,"click").pipe(Yr(1)),Xd(document,"touchend").pipe(Yr(1)))),wv=await navigator.wakeLock.request("screen"),wv.addEventListener("release",(()=>{})))}catch{}})),hi((()=>Xd(document,"visibilitychange").pipe(nn((async()=>{if(document.visibilityState==="visible"){const{isSafari:o,isIOSMobile:i}=Zo;wv&&wv.release().then((()=>{wv=null})),"wakeLock"in navigator&&((o||i)&&await dc(Vp(Xd(document,"click").pipe(Yr(1)),Xd(document,"touchend").pipe(Yr(1)))),wv=await navigator.wakeLock.request("screen"))}else wv&&wv.release().then((()=>{wv=null}))})),Ia(Eo))))),wakeLockEpic1:e=>e.pipe(Fo(`${qy}`)).pipe(Bo((()=>{wv&&wv.release().then((()=>{wv=null}))})),Ia(Eo))},EYe,wYe,{meetingInfoEpic:(e,n)=>e.pipe(Fo(`${a4}`),hi((o=>{const i=Object.assign({},o.payload,{password:bu(o.payload.password),topic:bu(o.payload.topic)}),{videoSDKUrl:c}={videoSDKUrl:`https://${dte}/wc/lsdk`};return((d,p,v="zoomsdkjsonpcallback")=>new yu((S=>{XOe++;const _=`${v}${XOe}`,x=document.createElement("script");Object.keys(p).forEach((P=>(p[P]===void 0||p[P]===null)&&delete p[P])),x.src=`${d}?${new URLSearchParams(Object.assign(p,{callback:_})).toString()}`,x.async=!0,x.onerror=P=>S.error(P),document.getElementsByTagName("head")[0].appendChild(x),window[_]=P=>{x.parentNode&&x.parentNode.removeChild(x),delete window[_],S.next(P),S.complete()}})))(c,i).pipe(wh(e.pipe(Fo(`${Fk}`),Bo((()=>{it(hO,{})})),Yr(1))),Cm((d=>za({status:!1,result:d.toString(),errorCode:-3e3}))),nn((d=>{const[p,v]=(S=za(d),[yn(_=P=>P.status===!0&&P.result!==void 0,x)(jf(S)),yn(B7e(_,x))(jf(S))]);var S,_,x;return v.subscribe((P=>{SYe.report(`get meeting info error, ${JSON.stringify(P)}`,["Join Meeting Flow","Get Meeting Info Error"],"error"),P.status||(P.errorCode===3e3&&P.errorMessage==="Meeting password is incorrect"?it(Yu,{errorCode:dE.WrongPasscode,reason:"Incorrect passcode."}):P.errorCode===3e3&&P.errorMessage==="The role type error"?it(Yu,{errorCode:dE.RoleTypeMissing,reason:"Role type error"}):P.errorCode===-3e3?it(Yu,{errorCode:dE.CommonError,reason:"connection error"}):P.errorCode===3e3?it(Yu,{reason:P.errorMessage,errorCode:dE.CommonError}):P.errorCode===300?it(Yu,{reason:"This account does not exist or does not belong to you",errorCode:dE.CommonError}):P.errorCode===124&&P.errorMessage==="Parse lite sdk topic and pwd fail"?it(Yu,{reason:"Topic is invalid",errorCode:dE.CommonError}):P.errorCode===124&&P.errorMessage==="The java web token is expired or more than 2 days or ineffective."?it(Yu,{reason:"The token has expired, is over 2 days old, or is ineffective.",errorCode:dE.CommonError}):P.errorCode===124&&it(Yu,{reason:"Verify JWT failed",errorCode:dE.CommonError}))})),p.pipe(f3e((P=>{if(P.status===!0){const{result:{mid:z,websdkClientFeatureOptions:U,showRecommendVersion:H}}=P;ei.init(z);const K=((re,ye)=>{if(re.result){const{result:{mn:_e,ts:Oe,auth:F,track_auth:Me,mid:ot,tid:Fe,webMediaBlockConfig:De,encryptedRWC:we,encryptedGEORWC:ct,user_identity:rt,meetingOptions:gt,can_recording:ee,wcXMPPConfig:on,call_out_country_json:nt,isOriginalHost:Mt,support_call_out:Pt,liveTranscription:st,logConfig:vn,logEncryptionPubKey:To,toll_numbers_json:Nn,h323Password:ho,liveStreamInfo:qt,rc_auto_delete:Tn,jwt_rc:Se,op_rc:br,mediaSDKVersion:ws,mediaSDKPathPrefix:as,zmk:Is,fileTransfer:oo,fileServerDomain:kt,accountId:bn,mediaFeatureOptions:mn,websdkClientFeatureOptions:Ze,sipDomain:mt,enableVsdkInteractiveLiveStream:Dt}}=re,{lang:je,password:Lt,topic:Kt,zlk:rn,cv:Ht,userName:_t}=ye;return{meetingNumber:_e,meetingId:ot,tid:Fe,ts:Oe,auth:F,passWord:Lt,trackAuth:Me,customerKey:rt,encryptedRWC:JSON.parse(we||"{}"),encryptedGEORWC:JSON.parse(ct||"{}"),meetingOptions:JSON.parse(gt||"{}"),recordingEnable:ee==="1",topic:Kt,userName:ei.get(tl.WebclientUserName)||_t,cv:Ht,zlkJwtToken:rn,webMediaBlockConfig:De,xmppConfig:JSON.parse(on||"{}"),callOutCountry:JSON.parse(nt||"{}"),lang:je,isOriginHost:Mt,isSupportCallOut:Pt==="1",liveTranscription:JSON.parse(st||"{}"),logConfig:vn,logEncryptionPubKey:To,tollNumbers:Nn===void 0?void 0:JSON.parse(Nn),h323Password:ho,liveStreamInfo:JSON.parse(qt||"{}"),rcAutoDelete:Tn,jwtRc:Se,opRc:br,mediaSDKPath:ws&&as?`${bte(as)}/${ws}`:void 0,zmk:Is,fileTransfer:JSON.parse(oo||"{}"),fileServerDomain:kt,accountId:bn,mediaFeatureOptions:mn,websdkClientFeatureOptions:Ze,sipDomain:mt,enableVsdkInteractiveLiveStream:Dt}}return re})(P,o.payload);var B;H&&(o==null||(B=o.payload)===null||B===void 0||B.lang,console.log("Update VideoSDK-Web to the latest version to optimize meeting experience","https://developers.zoom.us/docs/video-sdk/web/"));const oe=[za(Mv(K)),PGe(YOe,n,h1e())],ce=(re=>{const ye=[];if(re){const _e=re.split("").reverse();Object.keys(dO).filter((Oe=>/M:\d+(,\d+)*;V:\d+(,\d+)*/.test(dO[Oe]))).forEach((Oe=>{const F=dO[Oe];let[Me,ot]=F.split(";");Me.startsWith("V:")&&([Me,ot]=[ot,Me]);const Fe=ot.slice(2).split(",").map((ct=>_e[Number(ct)-1])).reverse().join(""),De=parseInt(Fe,16),we=vZe[F];we&&(Array.isArray(we)?we:[we]).forEach((ct=>{const rt=ct.mask?(De&ct.mask)>0:De;ye.push(za(ct.action(rt)))}))}))}return ye})(U);return ce.length>0&&oe.unshift(...ce),z6(...oe)}})))})),o1(yLe(performance.now())))}))),pingRWCEpic:YOe,retryPingRWCEpic:(e,n)=>e.pipe(Fo(`${p1e}`),Xu(Dv),yn((()=>n.value.meeting.meetingStatus===_h.Initial&&n.value.socket.zoomSocketStatus===Pa.Closed)),hi((()=>{const{meeting:{meetingId:o,meetingNumber:i,userName:c},socket:{retryCount:d,rwgServerList:p}}=n.value,v=p?.[d-1];return eye.makeLogger(["Join Meeting Flow"]).info(`ping rwc retry. Last failed rwc:${v?.rwc}, last failed rwg:${v?.rwg}, retry count:${d}, meeting detail:${JSON.stringify({meetingId:o,meetingNumber:Uf(i),userName:Uf(c)})}, rwc log:${xk.getLog()}`,["Ping RWC Retry"]),Kn(xk.retry()).pipe(LBe(n))})))});function kX(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)e[i]=o[i]}return e}var TYe=(function e(n,o){function i(c,d,p){if(typeof document<"u"){typeof(p=kX({},o,p)).expires=="number"&&(p.expires=new Date(Date.now()+864e5*p.expires)),p.expires&&(p.expires=p.expires.toUTCString()),c=encodeURIComponent(c).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var v="";for(var S in p)p[S]&&(v+="; "+S,p[S]!==!0&&(v+="="+p[S].split(";")[0]));return document.cookie=c+"="+n.write(d,c)+v}}return Object.create({set:i,get:function(c){if(typeof document<"u"&&(!arguments.length||c)){for(var d=document.cookie?document.cookie.split("; "):[],p={},v=0;v<d.length;v++){var S=d[v].split("="),_=S.slice(1).join("=");try{var x=decodeURIComponent(S[0]);if(p[x]=n.read(_,x),c===x)break}catch{}}return c?p[c]:p}},remove:function(c,d){i(c,"",kX({},d,{expires:-1}))},withAttributes:function(c){return e(this.converter,kX({},this.attributes,c))},withConverter:function(c){return e(kX({},this.converter,c),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})})({read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const{WebclientIsOnHold:xYe,WebclientOpt:OYe,WebclientParticipantId:IYe,WebclientZoomId:RYe,WebclientMeetingToken:kYe}=tl,{WebclientDeviceId:JOe}=pbe;function QOe({retryCount:e,rwgServerList:n,userName:o,auth:i,trackAuth:c,meetingId:d,customerKey:p,tid:v,lang:S,ts:_,bid:x,botk:P,confID:B,zlkJwtToken:z,isWebRtcAudioCapable:U,isMeetingReset:H,cameraDevicesList:K,isWebrtcVideoCapable:oe,webRtcAudioMode:ce,mediaFeatureOptions:re}){const ye=TYe.get("_zm_mtk_guid");let _e=ei.get(JOe);if(_e||(_e=dee(),ei.set(JOe,_e,ba.LocalStorage)),n.length>e){var Oe;const F=n[e],Me={dn2:bu(o),auth:i,browser:`${Zo.browser}${Zo.browserVersion} ${(Oe=window)!==null&&Oe!==void 0&&Oe.crossOriginIsolated?"SAB":""}`,trackAuth:c,mid:d,tid:v,lang:S,ts:_,"ZM-CID":_e,_ZM_MTG_TRACK_ID:ye||"",customer_key:bu(p),cfs:0,islch:1};if(z)try{const{vendor:we}=CA(z);we&&Object.assign(Me,{vendor:we})}catch(we){console.log(we)}F.rwcAuth?Object.assign(Me,{rwcAuth:F.rwcAuth}):F.rwcToken&&Object.assign(Me,{rwcToken:F.rwcToken});const ot=Zo.isIE?1:Zo.isIE||Zo.isSupportEssentialAudioAndVideoAbility?2:0;Object.assign(Me,{as_type:ot}),[{key:OYe,queryKey:"opt"},{key:IYe,queryKey:"participantID"},{key:RYe,queryKey:"zoomid"}].forEach((we=>{const ct=ei.get(we.key);ct!==void 0&&(Me[we.queryKey]=ct)}));const Fe=x&&P&&B;Fe&&Object.assign(Me,{bid:bu(x),confID:B}),ei.get(kYe)&&Object.assign(Me,{isdj:1}),Object.assign(Me,{from:Zo.isAndroidBrowser?"android":Zo.isIOSMobile?"ios":"other"}),U&&Object.assign(Me,{useABAudio:ce}),Object.assign(Me,{clientCaps:DYe({isAudioBridgeEnabled:U,isBO:Fe,mediaFeatureOptions:re})}),Object.assign(Me,{clientCapsEx:MYe()}),Object.assign(Me,{useWBVideo:oe?1:0});const De=H?K.length>0?1:0:1;return Object.assign(Me,{isCamera:De}),Object.assign(Me,{clientOS:Zo.isAndroidOrIOSBrowser||Zo.isHarmonyOS?Zo.isIOSMobile?"ios":"android":Zo.isMacOS?"mac":"win"}),Object.assign(Me,{audioFeature:Ls.getAudioFeatureFlag(U)}),{queryObject:{...Me},rwgServer:F}}return null}function DYe(e){const{isAudioBridgeEnabled:n,isBO:o,mediaFeatureOptions:i}=e;let c=Ab.WebCameraIndication|Ab.SendMeetingTokenSeparately|Ab.SmartSummary|Ab.LocalRecording|Ab.LocalRecordingGrantPermission|Ab.UnifyErrorType;const d=Ls.getPTZCapability();return(d.pan||d.tilt||d.zoom)&&(c|=Ab.SupportFarEndCameraControl),Ls.isSupportVideoShare()&&(c|=Ab.SupportVideoShare),n&&Ls.isSupportAudioBridgeAVSync()&&(c|=Ab.WebrtcAudioRtcpTime),Ls.isSupportShareMultiStream()&&(c|=Ab.ShareMultiStream),Ls.isSupportVideoLTR()&&(c|=Ab.VideoLTR),o||(c|=Ab.RequestRemoteControl),Ls.isSupportFullHDVideo(i||"")&&(c|=Ab.SupportSend1080PVideo),Ls.isSupportFullHDVideoShare(i||"")&&(c|=Ab.SupportSend1080PVideoShare),c}function MYe(){let e=SAe.SupportPresenterAnnotation;return e|=SAe.SupportMMRCommandChannel,e}function Ok(e,n){const o=()=>{const{socket:{zoomSocketStatus:i},meeting:{meetingStatus:c,isMeetingReset:d}}=e.value;return i!==Pa.Closed&&c===_h.Joined&&!d};return n?$O(Y3(n),yn(o)):$O(yn(o))}const GL=Qi.createAgent();let DX;const D2=Kk.getInstance();let MX;const qL=xte.getInstance();let PX;const eIe={zoomSocketStatus:Pa.Closed,xmppSocketStatus:Pa.Closed,mainSessionSocketStatus:Pa.Closed,retryCount:0,rwgServerList:[],xmppRetryCount:0},PYe=wm({[`${C6}`]:pt(((e,{payload:n})=>{e.zoomSocketStatus=n.status})),[`${_Le}`]:pt(((e,{payload:n})=>{const{rwgServerList:o}=e;o.find((i=>i.rwg===n.rwg))||o.push(n)})),[`${p1e}`]:pt(((e,{payload:n})=>{e.retryCount=n})),[`${bJ}`]:pt(((e,{payload:n})=>{e.xmppSocketStatus=n})),[`${yJ}`]:pt(((e,{payload:n})=>{e.mainSessionSocketStatus=n})),[`${iee}`]:pt(((e,{payload:n})=>{e.xmppRetryCount=n})),[`${ALe}`]:()=>eIe},eIe),NYe={mainSessionEpics0:(e,n)=>e.pipe(Fo(`${Xve}`),Qo(n),yn((([,o])=>o.socket.mainSessionSocketStatus==="closed")),hi((([,o])=>{const{meeting:{svcUrl:i,meetingNumber:c,conId:d,isRlbTP:p}}=o,v=(function(S,_,x){return`wss://${S}/wc/media/${_}?type=m&cid=${x}&mode=2`})(i,c,d);return((S,_)=>(qL.connect(S,_),PX=new J0,yA((x=>qL.on(yg.Message,x)),(x=>qL.off(yg.Message,x))).pipe(So((x=>x.data))).subscribe(PX),PX))(v,p).pipe(So((S=>{try{return JSON.parse(S)}catch(_){return console.error(_),{evt:0}}})),yn((S=>S.evt!==0)),p3e(),So((S=>lA(S))),o1(yJ(Pa.Connecting)))}))),mainSessionEpics1:(e,n)=>e.pipe(Fo(`${Xve}`),hi((()=>{const[o,i,c]=[yg.Open,yg.Close,yg.Error].map((d=>yA((p=>qL.on(d,p)),(p=>qL.off(d,p)))));return Ad(o.pipe(Mk(yJ(Pa.Connected))),i.pipe(Ok(n,500),So((()=>(it(Rv,{reason:Em.Failover}),wg(Qh.DisconnectMChannel))))),c.pipe(Ok(n,500),So((()=>(it(Rv,{reason:Em.Failover}),wg(Qh.OnErrorMChannel))))))}))),mainSessionEpics2:e=>e.pipe(Fo(`${wLe}`),Mk(yJ(Pa.Closed)),Bo((()=>{var n;qL.close(),(n=PX)===null||n===void 0||n.complete()})))},LYe={epics0:(e,n)=>e.pipe(Fo(`${Kve}`),Qo(n),yn((([,o])=>o.socket.zoomSocketStatus===Pa.Closed&&!!o.meeting.meetingId)),hi((([,o])=>(function(i){const{media:{patchedMediaSDKStatus:c},meeting:{isRlbTP:d,isRlbTPReady:p}}=i;return V0e([c===j5.Loading?wa(rJ,1).pipe(Xu(bA)):Kn([0]),d?p?Kn([0]):wa(eJ,1).pipe(Xu(bA)):Kn([0])])})(o).pipe(hi((()=>{const{socket:{retryCount:i,rwgServerList:c},meeting:d,breakoutRoom:p,audio:v,video:S}=n.value;let _;const x={...d,retryCount:i,rwgServerList:c};if(v){const{isWebRtcAudioCapable:z,webRtcAudioMode:U}=v;Object.assign(x,{isWebRtcAudioCapable:z,webRtcAudioMode:U})}if(S){const{cameraDevicesList:z,isWebrtcVideoCapable:U}=S;Object.assign(x,{cameraDevicesList:z,isWebrtcVideoCapable:U})}if(p&&p.currentRoom.status===rr.Joining){const{currentRoom:{boId:z,boConfId:U,boToken:H}}=p;Object.assign(x,{bid:z,botk:H,confID:U})}if(_=d.zlkJwtToken?(function(z){const U=QOe(z);if(U){const{queryObject:H,rwgServer:K}=U,{topic:oe,cv:ce,meetingNumber:re,isUIToolkit:ye}=z;return Object.assign(H,{topic:bu(oe),iccv:ce}),ye&&Object.assign(H,{browser:H.browser+" UIToolkit"}),`wss://${K.rwg}/instantsdk/${re}?${new URLSearchParams(H).toString()}`}return null})(x):(function(z){const U=QOe(z);if(U){const{queryObject:H,rwgServer:K}=U,{cv:oe,meetingNumber:ce}=z;return Object.assign(H,{jscv:oe,browser:H.browser+" ComponentView"}),[{key:xYe,queryKey:"cfs"}].forEach((re=>{const ye=ei.get(re.key);ye!==void 0&&(H[re.queryKey]=ye)})),`wss://${K.rwg}/wc/api/${ce}?${new URLSearchParams(H).toString()}`}return null})(x),_){const z=(P=_,B=d.isRlbTP,GL.connect(P,B),DX=new J0,yA((U=>GL.on(yg.Message,U)),(U=>GL.off(yg.Message,U)),(U=>U.data)).subscribe(DX),DX);return Ad(z.pipe(yn((U=>typeof U=="string")),So((U=>{try{return JSON.parse(U)}catch(H){return console.error(H),{evt:0}}})),p3e(),Pz((U=>{if(U.evt!==0||!U.body||U.body.test!=="invalid parameters!")return Zk(U);it(Yu,{errorCode:dE.InvalidParameter,reason:"Invalid parameter"})})),o1(C6({status:Pa.Connecting,rwgUrl:_}))),z.pipe(yn((U=>U instanceof ArrayBuffer)),So((U=>MGe(U)))))}var P,B;return Eo})))))),epics1:(e,n)=>e.pipe(Fo(`${Kve}`),Qo(n),yn((([,o])=>o.socket.zoomSocketStatus===Pa.Closed&&!!o.meeting.meetingId)),hi((()=>{const[o,i,c,d]=[yg.Open,yg.Close,yg.Error,yg.Inactive].map((p=>yA((v=>GL.on(p,v)),(v=>GL.off(p,v)))));return Ad(o.pipe(nn((()=>Ad(za(C6({status:Pa.Connected})),Eu(6e4).pipe(Qo(n),yn((([,p])=>p.meeting.meetingStatus===_h.Initial&&!p.meeting.isMeetingReset)),So((()=>(it(Rv,{reason:Em.Failover}),wg(Qh.NoHeartbeat))))))))),i.pipe(Ok(n),So((()=>(it(Rv,{reason:Em.Failover}),wg(Qh.Disconnect))))),d.pipe(Ok(n),So((()=>(it(Rv,{reason:Em.Failover}),wg(Qh.NoHeartbeat))))),c.pipe(Qo(n),nn((([,p])=>{const{meeting:{meetingStatus:v,isMeetingReset:S},socket:{rwgServerList:_,retryCount:x}}=p,P=[];return v===_h.Initial&&_!=null&&_.length?P.push(p1e(x+1),qy({retry:!0})):S||v!==_h.Joined||(it(Rv,{reason:Em.Failover}),P.push(wg(Qh.OnError))),Kn(P)}))))}))),epics2:(e,n)=>e.pipe(Fo(`${qy}`),hi((o=>{const i=[C6({status:Pa.Closed})];return o.payload&&o.payload.retry?Kn(i):Kn(i).pipe(Y3(100),Bo((()=>{var c;n.value.socket.zoomSocketStatus===Pa.Closed&&(GL.close(),(c=DX)===null||c===void 0||c.complete())})))})))},BYe=xg(LYe,{xmppEpics0:(e,n)=>e.pipe(Fo(`${TE}`),nn((()=>{const{meeting:{meetingOptions:o,zlkJwtToken:i,isWebinar:c}}=n.value,d=[];return(o.isPollingEnabled||i||c)&&d.push(yX()),Kn(d)}))),xmppEpics1:(e,n)=>e.pipe(Fo(`${yX}`),Qo(n),yn((([,o])=>o.socket.xmppSocketStatus===Pa.Closed)),hi((([,o])=>{const{meeting:{svcUrl:i,meetingNumber:c,conId:d,isRlbTP:p}}=o,v=(function(S,_,x){return`wss://${S}/wc/media/${_}?type=x&cid=${x}`})(i,c,d);return((S,_)=>(D2.connect(S,_),MX=new J0,yA((x=>D2.on(eA.Message,x)),(x=>D2.off(eA.Message,x))).subscribe(MX),MX))(v,p).pipe(yn((S=>S?.evt!==void 0)),So((S=>ELe(S))),o1(bJ(Pa.Connecting)))}))),xmppEpics2:(e,n)=>e.pipe(Fo(`${yX}`),hi((()=>{const[o,i,c]=[eA.Open,eA.Close,eA.Error].map((p=>yA((v=>D2.on(p,v)),(v=>D2.off(p,v))))),d=p=>nn((()=>{const{socket:{xmppSocketStatus:v,xmppRetryCount:S}}=n.value,_=[];return v===Pa.Connecting&&S<3?(_.push(iee(S+1)),_.push(Yve({retry:!0}))):(v===Pa.Connected||S>=3)&&(it(Rv,{reason:Em.Failover}),_.push(wg(p))),Kn(_)}));return Ad(o.pipe(Bo((()=>{const p=(function(){const{isSupportEssentialAudioAndVideoAbility:v,isSupportAudioWorklet:S}=Zo;return v&&S?11:10})();D2.join(p)})),So((()=>bJ(Pa.Connected)))),i.pipe(Ok(n,500),d(Qh.DisconnectXmpp)),c.pipe(Ok(n,500),d(Qh.OnErrorXmppChannel)))}))),xmppEpics3:(e,n)=>e.pipe(Fo(`${Yve}`),hi((o=>{var i;const c=[bJ(Pa.Closed)];return(i=o.payload)!==null&&i!==void 0&&i.retry?Kn(c):Kn(c).pipe(Y3(100),Bo((()=>{var d;n.value.socket.xmppSocketStatus===Pa.Closed&&(D2.close(),(d=MX)===null||d===void 0||d.complete())})))}))),xmppEpics4:(e,n)=>e.pipe(Fo(`${iee}`),yn((o=>o.payload<=3)),nn((o=>Kn([o]).pipe(Y3(1e3*Math.pow(2,o.payload-1))))),Ok(n),So((()=>yX())))},NYe),tIe={audioEncodeStatus:"initial",audioDecodeStatus:"initial",videoEncodeStatus:"initial",videoDecodeStatus:"initial",sharingEncodeStatus:"initial",sharingDecodeStatus:"initial",assetsPath:"",mediaConstraints:void 0,enforceMultipleVideos:!1,enforceVirtualBackground:!1,isMediaAgentInitialized:!1,disableRenderLimits:!1},VYe=wm({[`${ebe}`]:pt(((e,{payload:n})=>{e.audioDecodeStatus=n})),[`${Qve}`]:pt(((e,{payload:n})=>{e.audioEncodeStatus=n})),[`${SJ}`]:pt(((e,{payload:n})=>{e.sharingDecodeStatus=n})),[`${obe}`]:pt(((e,{payload:n})=>{e.sharingEncodeStatus=n})),[`${nbe}`]:pt(((e,{payload:n})=>{e.videoDecodeStatus=n})),[`${tbe}`]:pt(((e,{payload:n})=>{e.videoEncodeStatus=n})),[`${m1e}`]:pt(((e,{payload:n})=>{e.mediaConstraints=n.mediaConstraints,e.assetsPath=n.assetsPath,e.enforceMultipleVideos=!!n.enforceMultipleVideos,e.enforceVirtualBackground=n.enforceVirtualBackground,e.skipJsMedia=n.skipJsMedia,e.patchJsMedia=n.patchJsMedia,e.alternativeNameForVideoPlayer=n.alternativeNameForVideoPlayer,n.enforceMultipleVideos&&typeof n.enforceMultipleVideos=="object"&&(e.disableRenderLimits=!!n.enforceMultipleVideos.disableRenderLimits)})),[`${xLe}`]:pt(((e,{payload:n})=>{const{type:o,encryptKey:i,additionalType:c}=n,d={encryptKey:i,additionalType:c};o==="audio"?e.audioEncrypt=d:o==="video"?e.videoEncrypt=d:o==="sharing"&&(e.sharingEncrypt=d)})),[`${OLe}`]:pt(((e,{payload:n})=>{e.isEnableDecoderInWorklet=n})),[`${CJ}`]:pt(((e,{payload:n})=>{e.patchedMediaSDKStatus=n})),[`${ILe}`]:pt(((e,{payload:n})=>{e.assetsPath=n})),[`${sbe}`]:pt(((e,{payload:n})=>{e.isMediaAgentInitialized=n})),[`${RLe}`]:e=>({...tIe,mediaConstraints:e.mediaConstraints,assetsPath:e.assetsPath,enforceMultipleVideos:e.enforceMultipleVideos,disableRenderLimits:e.disableRenderLimits,enforceVirtualBackground:e.enforceVirtualBackground,alternativeNameForVideoPlayer:e.alternativeNameForVideoPlayer})},tIe),{InitSuccessVideo:zme,InitSuccessAudio:jme,InitSuccessSharing:Wme,InitFailedVideo:Gme,InitFailedAudio:qme,InitFailedSharing:Zme,HealthCheckFailed:nIe,AudioWebsocketBroken:oIe,VideoWebsocketBroken:sIe,AudioStreamFailed:rIe,VideoStreamFailed:iIe,WebglContextInvalid:aIe,WasmMemoryFail:lIe,AudioStreamMuted:cIe,RecoverWebrtcAudio:uIe,AudioBridgeSocketConnectionError:dIe,VideoStreamMuted:hIe}=Gn,bh=_m(Ls.getInstance()),BBe=qf.getInstance(),fIe=BBe.makeLogger(["Media Agent"]),NX=[],FYe={epics0:(e,n)=>e.pipe(Fo(`${Mv}`),hi((o=>{var i;const{meeting:{isMeetingReset:c}}=n.value;return Zo.mediaFeatureOptions=(i=o.payload)===null||i===void 0?void 0:i.mediaFeatureOptions,e.pipe(wh(e.pipe(Fo(`${qy}`),yn((d=>{var p;return!((p=d.payload)!==null&&p!==void 0&&p.retry)})),Yr(1))),Fo(`${TE}`),Yr(1),uA((()=>{var d;const{logger:p,media:{mediaConstraints:v,assetsPath:S,enforceMultipleVideos:_,enforceVirtualBackground:x},meeting:{meetingId:P,meetingNumber:B,mediaFeatureOptions:z,webMediaBlockConfig:U}}=n.value,H=p!=null&&(d=p.options)!==null&&d!==void 0&&d.enable?qf.getInstance().makeLogger(["MEDIA SDK"]):void 0;return(function(K){const{media:{patchedMediaSDKStatus:oe}}=K;return oe===j5.Loading?dc(wa(rJ,1)):Promise.resolve()})(n.value).then((()=>{const K=[];return bh.init({...FPe(_,x),globalTracingLogger:Dqe(H),mid:P,meetingNumber:B,mediaSDKConfig:{mediaFeatureOptions:z,webMediaBlockConfig:U,mediaSDKCDNPath:S},rwgAgent:Qi.createAgent()}),K.push(sbe(!0)),c&&v!==void 0&&S!==void 0&&K.push(Jve()),K})).catch((()=>[]))})))}))),epics1:(e,n)=>e.pipe(Fo(`${Mv}`),yn((o=>{const{payload:{mediaSDKPath:i}}=o,{media:{skipJsMedia:c,patchJsMedia:d,assetsPath:p},meeting:{isMeetingReset:v}}=n.value;return!c&&BPe(p)&&!!d&&!!i&&!v})),hi((o=>{const{payload:{mediaSDKPath:i}}=o,c=bte(i);return Kn(new Promise(((d,p)=>{const v=`${c}/${j2}`;"JsMediaSDK_Instance"in window&&(window.JsMediaSDK_Instance_backup=window.JsMediaSDK_Instance,delete window.JsMediaSDK_Instance),cte(v,(()=>{"JsMediaSDK_Instance_backup"in window&&delete window.JsMediaSDK_Instance_backup,fIe.info(`patched media sdk url:${v}`),d("")}),(()=>{"JsMediaSDK_Instance_backup"in window&&(window.JsMediaSDK_Instance=window.JsMediaSDK_Instance_backup,delete window.JsMediaSDK_Instance_backup),fIe.error(`cannot load patched media sdk :${v}`),p()}))}))).pipe(nn((()=>(it(rJ),Kn([CJ(j5.Done),ILe(c)])))),Cm((()=>(it(rJ),Kn([CJ(j5.Done)])))),o1(CJ(j5.Loading)))}))),epics2:(e,n)=>(function(o,i){return o.pipe(Fo(`${Jve}`),yn((()=>{const{media:{assetsPath:c,mediaConstraints:d}}=i.value;return c!==void 0&&d!==void 0})),hi((()=>{const{media:{isMediaAgentInitialized:c}}=i.value;return c?Kn([0]):o.pipe(Fo(`${sbe}`),yn((d=>!!d.payload)),Yr(1))})))})(e,n).pipe(Bo((()=>{const{media:{assetsPath:o,mediaConstraints:i}}=n.value;bh.notifySDKMeetingReady(),o&&i&&bh.setAssetsAndConstraint(o,i),Bk(n).pipe(hi((c=>Kn(Eve.acquire().then((()=>c)))))).subscribe((c=>{const{meeting:{svcUrl:d,meetingNumber:p,conId:v,e2eEncrypt:S,userId:_,isWebinar:x,enableWebtransport:P,webtransportPort:B,isUseWBVideo:z,mediasdkConfig:U,reportDomain:H,abToken:K,confId:oe},media:{alternativeNameForVideoPlayer:ce,enforceMultipleVideos:re,disableRenderLimits:ye},audio:_e,video:Oe}=n.value;var F;c&&(bh.connect({svcUrl:d,meetingNumber:p,conId:v,confId:oe,e2eEncrypt:S,isViewOnly:ef(c.userRole),currentUserId:_,isWebinar:x,reportDomain:H,abToken:K??"",enableWebtransport:!!P,webtransportPort:B??0,isWebRtcVideoCapable:z,isWebRtcAudioCapable:!(_e==null||!_e.isWebRtcAudioCapable),rendererType:(F=Oe?.rendererType)!==null&&F!==void 0?F:0,webrtcMode:_We(!(_e==null||!_e.isWebRtcAudioCapable),z),mediasdkConfig:U??{},enforceMultipleVideos:re,disableRenderLimits:ye}),tLe({mediaSDK:()=>bh.instance,tagName:ce,failover:"1"}))}))})),hi((()=>yA((o=>bh.registerCallback(o)),(o=>bh.unregisterCallback(o)),((o,i)=>({type:o,data:i}))).pipe(So((o=>TLe(o))))))),epics3:e=>ir(e,[zme,jme,Wme,Gme,qme,Zme]).pipe(f3e((n=>{const{payload:{type:o,data:i}}=n;if(o===jme||o===qme){if(i===pg.EncodeSuccess)return it(JMe),za(Qve("success"));if(i===pg.DecodeSuccess)return it(QMe),za(ebe("success"));if(i===pg.EncodeFailed)return it(oPe),za(Qve("failed"));if(i===pg.DecodeFailed)return it(sPe),za(ebe("failed"))}else if(o===zme||o===Gme){if(i===pg.EncodeSuccess)return it(ePe),za(tbe("success"));if(i===pg.DecodeSuccess)return it(tPe),za(nbe("success"));if(i===pg.EncodeFailed)return it(rPe),za(tbe("failed"));if(i===pg.DecodeFailed)return it(iPe),za(nbe("failed"))}else if(o===Wme||o===Zme){if(i===pg.EncodeSuccess)return it(nPe),za(obe("success"));if(i===pg.DecodeSuccess)return it(ive),za(SJ("success"));if(i===pg.EncodeFailed)return it(aPe),za(obe("failed"));if(i===pg.DecodeFailed)return it(lPe),za(SJ("failed"));if(o===Wme&&i===void 0)return it(ive),za(SJ("success"))}}))),epics4:(e,n)=>ir(e,[zme,jme]).pipe(hi((()=>typeof navigator.mediaDevices=="object"?Ad(Vk(),Ad(ir(e,Gn.StartVideoCaptureSuccess),ir(e,Gn.DeviceChangeEvent),ir(e,Gn.UserGrantCaptureAudio).pipe(yn((()=>!n.value.audio.isUserGrantCaptureAudio))),ir(e,Gn.JoinComputerAudioComplete).pipe(yn((o=>{var i;return!((i=o.payload.data)===null||i===void 0||!i.isPassive)}))),wa(ave).pipe(yn((o=>o.state==="granted")))).pipe(nn((()=>Vk().pipe(Bo((()=>{setTimeout((()=>{it(cPe)}),50)}))))))).pipe(Qo(n),nn((([o,i])=>{const c=[E3e(o.microphones),w3e(o.speakers),o1e(o.cameras)];if(i.audio){const{audio:{activeMicrophone:v,activeSpeaker:S,microphoneDevicesList:_,speakerDevicesList:x,isUsingMediaPlayback:P},video:{cameraDevicesList:B,activeCamera:z,isUsingMediaPlayback:U}}=i,H=us(i),{microphones:K,speakers:oe,cameras:ce}=o,re=_.filter((Oe=>K.findIndex((F=>F.deviceId===Oe.deviceId))===-1)),ye=x.filter((Oe=>oe.findIndex((F=>F.deviceId===Oe.deviceId))===-1)),_e=B.filter((Oe=>ce.findIndex((F=>F.deviceId===Oe.deviceId))===-1));if(re.length>0){if(re.some((Oe=>Gpe(Oe,v,_)))){const Oe=x5(K);P||bh.changeMicrophone("default",Oe?.label,!(H==null||!H.muted)),c.push(tz("default"))}}else if(v==="default"){const Oe=x5(_),F=x5(K);!P&&_.length>0&&Oe?.label!==F?.label&&bh.changeMicrophone("default",F?.label,!(H==null||!H.muted))}var d,p;ye.length>0?ye.some((Oe=>Gpe(Oe,S,x)))&&(bh.changeSpeaker("default"),c.push(Ote("default"))):S==="default"&&x.length>0&&((d=x5(x))===null||d===void 0?void 0:d.label)!==((p=x5(oe))===null||p===void 0?void 0:p.label)&&bh.changeSpeaker("default"),_e.length>0&&_e.some((Oe=>Gpe(Oe,z,B)))&&(U||bh.stopCaptureVideo(),c.push(Q3(Zo.isAndroidOrIOSBrowser?ek.User:"default")))}return Kn(c)}))):Eo))),epics5:(e,n)=>RS(e,Vl).pipe(Bo((o=>{const{type:i,payload:{body:c}}=o,d=i===`${lA}`;if(c.add){const p=c.add.map((v=>({userid:v.id,sn:v.zoomID&&jy(v.zoomID)})));if(!d){const{meeting:{gcmSessinKey:v}}=n.value;bh.sendUserNodeList(p,v)}bh.updateUserMediaSN({added:p,isFromMainSession:d,iVType:IS.SHARING_DECODE}),d&&bh.updateUserMediaSN({added:p,isFromMainSession:d,iVType:IS.AUDIO_DECODE})}if(c.remove&&c.remove.length>0){if(!d){const{meeting:{gcmSessinKey:p}}=n.value;bh.sendUserNodeList(c.remove.map((v=>({userid:v.id,bremove:!0}))),p)}bh.updateUserMediaSN({removed:c.remove.map((p=>p.id)),isFromMainSession:d,iVType:IS.SHARING_DECODE}),d&&bh.updateUserMediaSN({removed:c.remove.map((p=>p.id)),isFromMainSession:d,iVType:IS.AUDIO_DECODE})}})),Ia(Eo)),epics6:e=>ir(e,Gn.AesGcmIvResponse).pipe(Bo((n=>{const{payload:{data:{workerType:o,iv:i}}}=n,c=ei.get(tl.WebclientIVState);if(c){const d={...c,[o]:i};ei.set(tl.WebclientIVState,d,ba.SessionStorage)}})),Ia(Eo)),epics7:e=>e.pipe(Fo(`${Zk}`),yn((n=>[ibe,z_e,g1e].includes(n.payload.evt))),So((n=>{const{payload:{evt:o,body:{encryptKey:i,additionalType:c}}}=n;return xLe({type:o===ibe?"audio":o===z_e?"video":"sharing",encryptKey:i,additionalType:c})}))),epics8:e=>e.pipe(Fo(`${m1e}`),Bo((n=>{const{payload:o}=n;Yd.setMediaOption({assetsPath:o.assetsPath,enforceMultipleVideos:o.enforceMultipleVideos,enforceVirtualBackground:o.enforceVirtualBackground,alternativeNameForVideoPlayer:o.alternativeNameForVideoPlayer})})),Ia(Eo)),epics9:e=>e.pipe(Fo(`${a4}`,`${oee}`),Bo((()=>{$y.getInstance().inProgress&&($y.getInstance().disconnect(),Eve.watch($y.getInstance().destroy()))})),Ia(Eo)),epics10:e=>e.pipe(Fo(`${a4}`,`${oee}`),hi((()=>"permissions"in navigator?["microphone","camera"].map((n=>{navigator.permissions.query({name:n}).then((o=>{const i=()=>{it(ave,{name:n,state:o.state})};i(),o.addEventListener("change",i),NX.push((()=>{o.removeEventListener("change",i)}))})).catch((()=>{}))})):Eo)),Ia(Eo)),epics11:e=>e.pipe(Fo(`${f1e}`),yn((n=>n.payload===_h.Closed)),Bo((()=>{NX.length>0&&(NX.forEach((n=>n())),NX.length=0)})),Ia(Eo)),epics12:(e,n)=>ir(e,[nIe,Gme,qme,Zme,oIe,sIe,rIe,iIe,aIe,lIe,cIe,uIe,dIe,hIe]).pipe(nn((o=>{const{payload:{type:i,data:c}}=o;let d,p;if(i===oIe||i===dIe)d={message:"Audio connection failed. Please refresh your browser to reconnect.",type:"audio",code:Cv.AudioConnectionFailed};else if(i===sIe)d={message:"Connection to remote video has failed. Please refresh your browser to try again.",type:"video",code:Cv.VideoConnectionFailed};else if(i===rIe)c===W5.Exception?d={message:"Can't access your microphone. Please refresh your browser to try again.",type:"audio",code:Cv.AudioStreamEnded}:c===W5.PermissionReset&&(d={message:"Your browser is preventing access to your microphone.Please grant the permission.",type:"audio",code:Cv.MicrophonePermissionReset});else if(i===iIe)c===W5.Exception?d={message:"Can't access your camera. Please refresh your browser to try again.",type:"video",code:Cv.VideoStreamEnded}:c===W5.PermissionReset&&(d={message:"Your browser is preventing access to your camera.Please grant the permission.",type:"video",code:Cv.CameraPermissionReset});else if(i===aIe)d={message:"Oops! Something went wrong. Please close all browsers and rejoin the meeting.",type:"video",code:Cv.WebGlContextInvalid};else if(i===lIe)d={message:"Uh-oh! Youre running low on memory. Please close all browsers and rejoin the meeting.",type:"video",code:Cv.WasmOutOfMemory};else if(i===nIe){let[S,_]=["",0];c===-129?(S="sharing",_=Cv.SharingStreamFailed):[-130,-135].includes(c)?(S="video",_=Cv.VideoStreamFailed):[-131,-136].includes(c)&&(S="audio",_=Cv.AudioStreamFailed),d={message:"Oops! Something went wrong. Please close all browsers and rejoin the meeting.",type:S,code:_}}else if(i===cIe){const S="audio";let[_,x]=[0,""];c?(_=Cv.MicrophoneMuted,x="Your mic is muted in system or browser settings. Please open your settings to unmute and adjust the level."):(_=Cv.AudioStreamMuted,x="Audio was interrupted by the system. Please click anywhere to resume playback.",p=wve().pipe(wh(ir(e,Gn.AudioStreamUnmuted).pipe(Yr(1))),Bo((()=>{HPe(bh,n.value)})))),d={message:x,type:S,code:_}}else if(i===uIe)c===!1&&(d={message:"Audio playback was interrupted. Please click anywhere to resume playback.",type:"audio",code:Cv.AudioPlaybackInterrupted});else if(i===hIe&&n.value.video.isCurrentUserStartedVideo){const S="video",_=Cv.VideoStreamMuted;p=wve().pipe(wh(ir(e,Gn.VideoStreamUnmuted).pipe(Yr(1))),Bo((()=>{(function(P,B){const{video:{isCurrentUserStartedVideo:z,activeCamera:U,isUsingMediaPlayback:H,customizedVideoOption:K}}=B;if(z&&!H){const{captureWidth:oe,captureHeight:ce}=Ete(K);P.changeCamera(U,Tz.includes(U),{width:oe,height:ce},!0)}})(bh,n.value)}))),d={message:"Video was interrupted by the system. Please click anywhere to resume.",type:S,code:_}}var v;return d&&(BBe.report(`active media failed. reason:${i}; message:${d.message}`,`${(v=d.type)===null||v===void 0?void 0:v.replace(/^./,(S=>S.toUpperCase()))} exception flow`),it(uPe,d)),p??Kn([])})),nn((()=>Eo))),epics13:e=>Ro(e,4366).pipe(Bo((n=>{const{payload:o}=n;bh.bypassMediaMessage(o)})),nn((()=>Eo))),epics14:(e,n)=>ir(e,Gn.NotifyUIFailover).pipe(yn((()=>!n.value.meeting.isMeetingReset&&n.value.meeting.meetingStatus===_h.Joined)),So((o=>{const{payload:{data:i}}=o;it(Rv,{reason:Em.Failover});let c=Qh.NotifyUiFailover;return i?.audio!==void 0&&(Zo.isAndroidOrIOSBrowser||Zo.isHarmonyOS||i.audio!==YEe.FallbackToWasm||ei.set(tl.VideoSDKWebRTCAudioFallbackWasm,1,ba.SessionStorage)),i?.video!==void 0&&(c=Qh.NotifyUIWMSCFailover,i.video===YEe.FallbackToWasm&&ei.set(tl.VideoSDKWebRTCVideoFallbackWasm,1,ba.SessionStorage)),wg(c)})))},HYe=xg(FYe),pIe={processorCreatedList:[],processorInstanceList:[]},$Ye={meeting:CYe,socket:PYe,participants:oqe,media:VYe,processor:wm({[`${f4e}`]:pt(((e,{payload:n})=>{e.processorCreatedList.push(n)})),[`${p4e}`]:pt(((e,{payload:n})=>{e.processorInstanceList.push(n)})),[`${m4e}`]:pt(((e,{payload:n})=>{const o=e.processorInstanceList.findIndex((i=>i.name===n.name&&i.type===n.type));o>=0&&e.processorInstanceList.splice(o,1)})),[`${g4e}`]:()=>({...pIe})},pIe)},UYe=NBe;function mIe(e){return(function(n){for(var o=Object.keys(n),i={},c=0;c<o.length;c++){var d=o[c];typeof n[d]=="function"&&(i[d]=n[d])}var p,v=Object.keys(i);try{(function(S){Object.keys(S).forEach((function(_){var x=S[_];if(x(void 0,{type:Vee.INIT})===void 0)throw new Error(mg(12));if(x(void 0,{type:Vee.PROBE_UNKNOWN_ACTION()})===void 0)throw new Error(mg(13))}))})(i)}catch(S){p=S}return function(S,_){if(S===void 0&&(S={}),p)throw p;for(var x=!1,P={},B=0;B<v.length;B++){var z=v[B],U=i[z],H=S[z],K=U(H,_);if(K===void 0)throw _&&_.type,new Error(mg(14));P[z]=K,x=x||K!==H}return(x=x||v.length!==Object.keys(S).length)?P:S}})({...$Ye,...e})}class W_ extends Zve{static createClient(){if(!this.meetingClient){const n=(function(){const o=(function(v){v===void 0&&(v={});var S,_=new owe.constructor(owe.schedulerActionCtor),x=new J0,P=function(B){S=B;var z=new J0,U=new J0,H=z.asObservable().pipe(Xu(_)),K=new DGe(U.pipe(Xu(_)),S.getState());return x.pipe(So((function(oe){var ce=oe(H,K,v.dependencies);if(!ce)throw new TypeError('Your root Epic "'+(oe.name||"<anonymous>")+`" does not return a stream. Double check you're not missing a return statement!`);return ce})),nn((function(oe){return Kn(oe).pipe(Gge(_),Xu(_))}))).subscribe(S.dispatch),function(oe){return function(ce){var re=oe(ce);return U.next(S.getState()),z.next(ce),re}}};return P.run=function(B){x.next(B)},P})(),{epicSubject:i,rootEpic:c}=(function(){const v=new g7e(kLe(AYe,BYe,rqe,HYe));return{epicSubject:v,rootEpic:(S,_,x)=>v.pipe(wh(S.pipe(Fo(`${nLe}`))),nn((P=>P(S,_,x))))}})(),d=[o],p=PBe(mIe(),UYe((function(){for(var v=arguments.length,S=new Array(v),_=0;_<v;_++)S[_]=arguments[_];return function(x){return function(){var P=x.apply(void 0,arguments),B=function(){throw new Error(mg(15))},z={getState:P.getState,dispatch:function(){return B.apply(void 0,arguments)}},U=S.map((function(H){return H(z)}));return B=NBe.apply(void 0,U)(P.dispatch),WOe(WOe({},P),{},{dispatch:B})}}})(...d)));return p.asyncReducers={},p.injectReducer=(v,S)=>{p.asyncReducers[v]===void 0&&(p.asyncReducers[v]=S,p.replaceReducer(mIe(p.asyncReducers)))},p.injectEpic=v=>{i.next(v)},o.run(c),p})();this.meetingClient=new mYe(n)}return this.meetingClient}}function zYe(e,n,o){return(n=(function(i){var c=(function(d,p){if(typeof d!="object"||!d)return d;var v=d[Symbol.toPrimitive];if(v!==void 0){var S=v.call(d,p);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(d)})(i,"string");return typeof c=="symbol"?c:c+""})(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function gIe(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable}))),o.push.apply(o,i)}return o}function Nb(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?gIe(Object(o),!0).forEach((function(i){zYe(e,i,o[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):gIe(Object(o)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))}))}return e}function uz(e,n){if(e==null)return{};var o,i,c=(function(p,v){if(p==null)return{};var S={};for(var _ in p)if({}.hasOwnProperty.call(p,_)){if(v.indexOf(_)!==-1)continue;S[_]=p[_]}return S})(e,n);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(i=0;i<d.length;i++)o=d[i],n.indexOf(o)===-1&&{}.propertyIsEnumerable.call(e,o)&&(c[o]=e[o])}return c}const Lz="2.2.12",LX="INVALID_PARAMETERS",jYe="https://dmogdx0jrul3u.cloudfront.net/videosdk/".concat(Lz,"/lib"),WYe="https://source.zoom.us/videosdk/".concat(Lz,"/lib"),GYe="https://jssdk.zoomus.cn/videosdk/".concat(Lz,"/lib"),Kme=e=>typeof e=="string"&&e.length>0,VBe=e=>{let n="";switch(e){case"Global":n=WYe;break;case"CN":n=GYe;break;case"CDN":n=jYe;break;default:n=e}return n},FBe=["userId","avatar","displayName","isHost","audio","muted","bVideoOn","sharerOn","sharerPause","userIdentity","isSpeakerOnly","bVideoShare","bShareAudioOn","userGuid","isPhoneUser","isInFailover",{from:"isCoHost",to:"isManager"},{from:"bAllowISORecord",to:"isAllowIndividualRecording"},{from:"bVideoConnect",to:"isVideoConnect"},{from:"bShareToBORooms",to:"bShareToSubsession"},{from:"bid",to:"subsessionId"},{from:"phoneNumber",to:e=>e===void 0?{}:{phoneNumber:e}}],HBe=[...FBe,{from:"userGUID",to:"userGuid"},{from:"bCoHost",to:e=>({isManager:!!e})},{from:"userType",to:e=>({isPhoneUser:!(5&~e)})},{from:"bid",to:e=>e?{subsessionId:e}:{}},{from:"bInFailover",to:"isInFailover"}],qYe=HBe.map((e=>typeof e=="string"?e:e.from));function $Be(e,n){return typeof e=="string"?{["".concat(e)]:n}:typeof e.to=="string"?{["".concat(e.to)]:n}:e.to(n)}function lk(e){if(e)return FBe.reduce(((n,o)=>{const i=typeof o=="string"?o:o.from,c=$Be(o,e[i]);return Nb(Nb({},n),c)}),{})}function Yme(e){if(e)return Object.keys(e).reduce(((n,o)=>{const i=qYe.indexOf(o);if(i>-1){const c=HBe[i],d=typeof c=="string"?c:c.from,p=$Be(c,e[d]);return Nb(Nb({},n),p)}return n}),{})}const Rn=Symbol("stream");class ZYe{constructor(n){this[Rn]=void 0,this[Rn]=n}startAudio(n){return this[Rn].startAudio(n)}stopAudio(){return this[Rn].stopAudio()}muteAudio(n){return this[Rn].muteAudio(n)}unmuteAudio(n){return this[Rn].unmuteAudio(n)}inviteByPhone(n,o,i,c){return this[Rn].dialOut(n,o,i,c)}cancelInviteByPhone(n,o,i){return this[Rn].cancelDialOut(n,o,i)}hangup(){return this[Rn].hangup()}getCurrentSessionCallinInfo(){return this[Rn].getDialInInfo()}muteShareAudio(n){return this[Rn].muteShareAudio(n)}unmuteShareAudio(n){return this[Rn].unmuteShareAudio(n)}subscribeAudioStatisticData(n){return this[Rn].subscribeAudioStatisticData(n)}unsubscribeAudioStatisticData(n){return this[Rn].unsubscribeAudioStatisticData(n)}muteUserAudioLocally(n){return this[Rn].muteUserAudioLocally(n)}unmuteUserAudioLocally(n){return this[Rn].unmuteUserAudioLocally(n)}adjustUserAudioVolumeLocally(n,o){return this[Rn].adjustUserAudioVolumeLocally(n,o)}enableBackgroundNoiseSuppression(n){return this[Rn].enableBackgroundNoiseSuppression(n)}enableSyncButtonsOnHeadset(n){return this[Rn].enableSyncButtonsOnHeadset(n)}muteAllUserAudioLocally(){return this[Rn].muteAllUserAudioLocally()}unmuteAllUserAudioLocally(){return this[Rn].unmuteAllUserAudioLocally()}enableOriginalSound(n){return this[Rn].enableOriginalSound(n)}callCRCDevice(n,o){return this[Rn].callCRCDevice(n,o)}cancelCallCRCDevice(n,o){return this[Rn].cancelCallCRCDevice(n,o)}startSecondaryAudio(n,o){return this[Rn].startSecondaryAudio(n,o)}stopSecondaryAudio(){return this[Rn].stopSecondaryAudio()}muteAllAudio(){return this[Rn].muteAllAudio()}unmuteAllAudio(){return this[Rn].unmuteAllAudio()}muteAudioUponStartAudio(n){return this[Rn].muteAudioUponEntry(n)}allowAudioUnmutedBySelf(n){return this[Rn].allowUnmuteAudioThemselves(n)}isAudioMuted(n){return this[Rn].isAudioMuted(n)}getMicList(){return this[Rn].getMicList()}getSpeakerList(){return this[Rn].getSpeakerList()}getActiveMicrophone(){return this[Rn].getActiveMicrophone()}getActiveSpeaker(){return this[Rn].getActiveSpeaker()}switchMicrophone(n){return this[Rn].switchMicrophone(n)}switchSpeaker(n){return this[Rn].switchSpeaker(n)}isSupportPhoneFeature(){return this[Rn].isSupportCallOut()}getSupportCountryInfo(){return this[Rn].getDialOutCountries()}getInviteByPhoneStatus(){return this[Rn].getDialOutStatus()}getShareAudioStatus(){return this[Rn].getShareAudioStatus()}isOthersShareAudioMutedLocally(n){return this[Rn].isOthersShareAudioMutedLocally(n)}getAudioStatisticData(){return this[Rn].getAudioStatisticData()}isUserAudioMutedLocally(n){return this[Rn].isUserAudioMutedLocally(n)}getUserVolumeLocally(n){return this[Rn].getUserVolumeLocally(n)}isSupportMicrophoneAndShareAudioSimultaneously(){return this[Rn].isSupportMicrophoneAndShareAudioSimultaneously()}getAudioMediaPlaybackController(){return this[Rn].getAudioMediaPlaybackController()}isAllowAudioUnmutedBySelf(){return this[Rn].isAllowToUnmute()}getSessionSIPAddress(){return this[Rn].getSessionSIPAddress()}startVideo(n){return this[Rn].startVideo(n)}stopVideo(){return this[Rn].stopVideo()}createProcessor(n){return this[Rn].createProcessor(n)}addProcessor(n){return this[Rn].addProcessor(n)}removeProcessor(n){return this[Rn].removeProcessor(n)}renderVideo(n,o,i,c,d,p,v,S){return this[Rn].renderVideo(n,o,i,c,d,p,v,S)}stopRenderVideo(n,o,i,c){let d=arguments.length>4&&arguments[4]!==void 0&&arguments[4],p=arguments.length>5?arguments[5]:void 0;return this[Rn].stopRenderVideo(n,o,i,c,d,p)}updateVideoCanvasDimension(n,o,i){return this[Rn].updateVideoCanvasDimension(n,o,i)}adjustRenderedVideoPosition(n,o,i,c,d,p,v){return this[Rn].adjustRenderedVideoPosition(n,o,i,c,d,p,v)}clearVideoCanvas(n,o){return this[Rn].clearVideoCanvas(n,o)}mirrorVideo(n){return this[Rn].mirrorVideo(n)}enableHardwareAcceleration(n){return this[Rn].enableHardwareAcceleration(n)}previewVirtualBackground(n,o,i,c){return this[Rn].previewVirtualBackground(n,o,i,c)}updateVirtualBackgroundImage(n,o){return this[Rn].updateVirtualBackgroundImage(n,o)}stopPreviewVirtualBackground(){return this[Rn].stopPreviewVirtualBackground()}previewVideoMask(n,o){return this[Rn].previewVideoMask(n,o)}updateVideoMask(n){return this[Rn].updateVideoMask(n)}stopPreviewVideoMask(){return this[Rn].stopPreviewVideoMask()}switchCamera(n){return this[Rn].switchCamera(n)}subscribeVideoStatisticData(n){return this[Rn].subscribeVideoStatisticData(n)}unsubscribeVideoStatisticData(n){return this[Rn].unsubscribeVideoStatisticData(n)}attachVideo(n,o,i){return this[Rn].attachVideo(n,o,i)}detachVideo(n,o){return this[Rn].detachVideo(n,o)}spotlightVideo(n,o){return this[Rn].spotlight(n,o!=null&&o)}removeSpotlightedVideo(n){return this[Rn].removeSpotlight(n)}removeAllSpotlightedVideos(){return this[Rn].removeAllSpotlights()}screenshotVideo(n){return this[Rn].screenshotVideo(n)}isCapturingVideo(){return this[Rn].isCapturingVideo()}isCameraTaken(){return this[Rn].isCameraTaken()}getActiveVideoId(){return this[Rn].getActiveVideoId()}getActiveCamera(){return this[Rn].getActiveCamera()}getCameraList(){return this[Rn].getCameraList()}isCaptureForbidden(){return this[Rn].isCaptureForbidden()}getVideoMaxQuality(){return this[Rn].getVideoMaxQuality()}getReceivedVideoDimension(){return this[Rn].getReceivedVideoDimension()}isSupportMultipleVideos(){return this[Rn].isSupportMultipleVideos()}getMaxRenderableVideos(){return this[Rn].getMaxRenderableVideos()}isSupportHDVideo(){return this[Rn].isSupportHDVideo()}isSupportVirtualBackground(){return this[Rn].isSupportVirtualBackground()}isSupportVideoProcessor(){return this[Rn].isSupportVideoProcessor()}isSupportAudioProcessor(){return this[Rn].isSupportAudioProcessor()}isSupportShareProcessor(){return this[Rn].isSupportShareProcessor()}getVirtualbackgroundStatus(){return this[Rn].getVirtualbackgroundStatus()}getVideoStatisticData(){return this[Rn].getVideoStatisticData()}isRenderSelfViewWithVideoElement(){return this[Rn].isRenderSelfViewWithVideoElement()}getCapturedVideoResolution(){return this[Rn].getCapturedVideoResolution()}getVideoMaskStatus(){return this[Rn].getVideoMaskStatus()}isVideoMirrored(){return this[Rn].isVideoMirrored()}getSpotlightedUserList(){return this[Rn].getSpotlightedUserList().map((n=>lk(n)))}getVideoMediaPlaybackController(){return this[Rn].getVideoMediaPlaybackController()}startShareView(n,o){return this[Rn].startShareView(n,o)}stopShareView(){return this[Rn].stopShareView()}attachShareView(n,o){return this[Rn].attachShareView(n,o)}detachShareView(n,o){return this[Rn].detachShareView(n,o)}switchShareView(n){return this[Rn].switchShareView(n)}startShareScreen(n,o){return o?.broadcastToSubsession!==void 0&&Object.assign(o||{},{broadcastToBreakoutRoom:o?.broadcastToSubsession}),this[Rn].startShareScreen(n,o)}pauseShareScreen(){return this[Rn].pauseShareScreen()}resumeShareScreen(){return this[Rn].resumeShareScreen()}stopShareScreen(){return this[Rn].stopShareScreen()}lockShare(n){return this[Rn].lockShare(n)}updateSharingCanvasDimension(n,o){return this[Rn].updateSharingCanvasDimension(n,o)}switchSharingSecondaryCamera(n){return this[Rn].switchSharingSecondaryCamera(n)}setSharePrivilege(n){return this[Rn].setSharePrivilege(n)}shareToSubsession(){return this[Rn].shareToBreakoutRoom()}stopShareToSubsession(){return this[Rn].stopShareToBreakoutRoom()}enableOptimizeForSharedVideo(n){return this[Rn].enableOptimizeForSharedVideo(n)}updateSharedVideoQuality(n){return this[Rn].updateSharedVideoQuality(n)}subscribeShareStatisticData(n){return this[Rn].subscribeShareStatisticData(n)}unsubscribeShareStatisticData(n){return this[Rn].unsubscribeShareStatisticData(n)}screenshotShareView(n){return this[Rn].screenshotSharedContent(n)}isShareLocked(){return this[Rn].isShareLocked()}getSharePrivilege(){return this[Rn].getSharePrivilege()}getActiveShareUserId(){return this[Rn].getActiveShareUserId()}getShareStatus(){return this[Rn].getShareStatus()}getShareUserList(){return this[Rn].getShareUserList().map((n=>lk(n)))}isStartShareScreenWithVideoElement(){return this[Rn].isStartShareScreenWithVideoElement()}isOptimizeForSharedVideoEnabled(){return this[Rn].isOptimizeForSharedVideoEnabled()}isSupportOptimizedForSharedVideo(){return this[Rn].isSupportOptimizedForSharedVideo()}getShareStatisticData(){return this[Rn].getShareStatisticData()}getShareStreamSettings(){return this[Rn].getShareStreamSettings()}getMaxRenderableShareViews(){return this[Rn].getMaxRenderableShareViews()}requestFarEndCameraControl(n){return this[Rn].requestFarEndCameraControl(n)}approveFarEndCameraControl(n){return this[Rn].approveFarEndCameraControl(n)}declineFarEndCameraControl(n){return this[Rn].declineFarEndCameraControl(n)}giveUpFarEndCameraControl(n){return this[Rn].giveUpFarEndCameraControl(n)}controlCamera(n){return this[Rn].controlCamera(n)}controlFarEndCamera(n){return this[Rn].controlFarEndCamera(n)}getFarEndCameraPTZCapability(n){return this[Rn].getFarEndCameraPTZCapability(n)}getCameraPTZCapability(n){return this[Rn].getCameraPTZCapability(n)}isBrowserSupportPTZ(){return this[Rn].isBrowserSupportPTZ()}getNetworkQuality(n){return this[Rn].getNetworkQuality(n)}requestRemoteControl(){return this[Rn].requestRemoteControl()}giveUpRemoteControl(){return this[Rn].giveUpRemoteControl()}startRemoteControl(n){return this[Rn].startRemoteControl(n)}grabRemoteControl(){return this[Rn].grabRemoteControl()}approveRemoteControl(n,o){return this[Rn].approveRemoteControl(n,o)}declineRemoteControl(n){return this[Rn].declineRemoteControl(n)}stopRemoteControl(){return this[Rn].stopRemoteControl()}launchRemoteControlApp(n){return this[Rn].launchRemoteControlApp(n)}isRemotelyControlApproved(){return this[Rn].isRemotelyControlApproved()}isControllingUserRemotely(){return this[Rn].isControllingUserRemotely()}isTargetShareSupportRemoteControl(n){return this[Rn].isTargetShareSupportRemoteControl(n)}getRemoteControlAppDownloadUrl(){return this[Rn].getRemoteControlAppDownloadUrl()}getRemotelyControllingUser(){return this[Rn].getRemotelyControllingUser()}isRemoteControlEnabled(){return this[Rn].isRemoteControlEnabled()}startAnnotation(){return this[Rn].startAnnotation()}stopAnnotation(){return this[Rn].stopAnnotation()}changeAnnotationPrivilege(n){return this[Rn].changeAnnotationPrivilege(n)}showAnnotatorName(n){return this[Rn].showAnnotatorName(n)}canDoAnnotation(){return this[Rn].canDoAnnotation()}getAnnotationController(){return this[Rn].getAnnotationController()}}const KYe=["isCoHost"],j0=Symbol("chat");class YYe{constructor(n){this[j0]=void 0,this[j0]=n}send(n,o){return this[j0].send(n,o)}sendToAll(n){return this[j0].send(n,Kl.All)}sendFile(n,o){return this[j0].sendFile(n,o)}downloadFile(n,o,i){return this[j0].downloadFile(n,o,i)}setPrivilege(n){return this[j0].setPrivilege(n)}getPrivilege(){return this[j0].getPrivilege()}getReceivers(){return this[j0].getReceivers().map((n=>{const{isCoHost:o}=n;return Nb({isManager:o},uz(n,KYe))}))}getHistory(){return this[j0].getHistory()}isFileTransferEnabled(){return this[j0].isFileTransferEnabled()}getFileTransferSetting(){return this[j0].getFileTransferSetting()}}const aE=Symbol("recording");class XYe{constructor(n){this[aE]=void 0,this[aE]=n}canStartRecording(){return this[aE].isRecordingEnabled()}startCloudRecording(){return this[aE].startRecording()}pauseCloudRecording(){return this[aE].pauseRecording()}resumeCloudRecording(){return this[aE].startRecording()}stopCloudRecording(){return this[aE].stopRecording()}getCloudRecordingStatus(){return this[aE].getRecordingStatus()}acceptIndividualRecording(){return this[aE].accept()}declineIndividualRecording(){return this[aE].decline()}}const Xme=Symbol("command");class JYe{constructor(n){this[Xme]=void 0,this[Xme]=n}send(n,o){return this[Xme].send(n,o)}}const QYe=["isInRoom"],eXe=["isAutoJoinRoom","isRoomSelectionEnabled"],Kd=Symbol("breakout-room");class tXe{constructor(n){this[Kd]=void 0,this[Kd]=n}createSubsessions(n,o){return this[Kd].createRooms(n,o).then((i=>i.map((c=>({subsessionId:c.roomId,subsessionName:c.name,userList:c.attendeeList})))))}openSubsessions(n,o){const i=o?Nb(Nb({},o),{},{isAutoJoinRoom:o.isAutoJoinSubsession,isRoomSelectionEnabled:o.isSubsessionSelectionEnabled}):void 0,c=n.map((d=>({roomId:d.subsessionId,name:d.subsessionName,attendeeList:d.userList})));return this[Kd].openRooms(c,i)}joinSubsession(n){return this[Kd].joinRoom(n)}leaveSubsession(){return this[Kd].leaveRoom()}askForHelp(){return this[Kd].askForHelp()}postponeHelping(n){return this[Kd].postponeHelping(n)}broadcast(n){return this[Kd].broadcast(n)}assignUserToSubsession(n,o){return this[Kd].assignUserToRoom(n,o)}moveUserToSubsession(n,o){return this[Kd].moveUserToRoom(n,o)}moveBackToMainSession(n){return this[Kd].moveBackToMainSession(n)}closeAllSubsessions(){return this[Kd].closeRoom()}startBroadcastVoice(){return this[Kd].startBroadcastVoice()}stopBroadcastVoice(){return this[Kd].stopBroadcastVoice()}getUnassignedUserList(){return this[Kd].getUnassignedAttendeeList().map((n=>lk(n)))}getSubsessionList(){return this[Kd].getRoomList().map((n=>{const{roomId:o,name:i,attendeeList:c}=n;return{subsessionId:o,subsessionName:i,userList:c.map((d=>{const p=d,{isInRoom:v}=p;return Nb({isInSubsession:v},uz(p,QYe))}))}}))}getUserStatus(){return this[Kd].getAttendeeStatus()}getSubsessionStatus(){return this[Kd].getRoomStatus()}getCurrentSubsession(){const{attendeeStatus:n,name:o,roomId:i}=this[Kd].getCurrentRoom();return{userStatus:n,subsessionName:o,subsessionId:i}}getSubsessionOptions(){const n=this[Kd].getRoomOptions(),{isAutoJoinRoom:o,isRoomSelectionEnabled:i}=n;return Nb({isAutoJoinSubsession:o,isSubsessionSelectionEnabled:i},uz(n,eXe))}isSubsessionEnabled(){return this[Kd].isBreakoutRoomEnabled()}}const Vy=Symbol("liveTranscription");class nXe{constructor(n){this[Vy]=void 0,this[Vy]=n}startLiveTranscription(){return this[Vy].startLiveTranscription()}setSpeakingLanguage(n,o){return this[Vy].setSpeakingLanguage(n,o)}setTranslationLanguage(n){return this[Vy].setTranslationLanguage(n)}disableCaptions(n){return this[Vy].disableCaptions(n)}lockTranscriptionLanguage(n){return this[Vy].lockTranscriptionLanguage(n)}getLiveTranscriptionStatus(){return this[Vy].getLiveTranscriptionStatus()}getCurrentTranscriptionLanguage(){return this[Vy].getCurrentTranscriptionLanguage()}getCurrentTranslationLanguage(){return this[Vy].getCurrentTranslationLanguage()}getLatestTranscription(){return this[Vy].getLatestTranscription()}getLatestTranslation(){return this[Vy].getLatestTranslation()}getFullTranscriptionHistory(){return this[Vy].getFullTranscriptionHistory()}}const ZL=Symbol("liveStream");class oXe{constructor(n){this[ZL]=void 0,this[ZL]=n}startLiveStream(n,o,i){return this[ZL].startLiveStream(n,o,i)}stopLiveStream(){return this[ZL].stopLiveStream()}isLiveStreamEnabled(){return this[ZL].isLiveStreamEnabled()}getLiveStreamStatus(){var n;return(n=this[ZL].getLiveStreamStatus())===null||n===void 0?void 0:n.status}}const H5=Symbol("logger");class sXe{constructor(n,o){if(this[H5]=void 0,this[H5]=n,o){const{debugMode:i,trackingId:c}=o;this[H5].setLogOptions({debugMode:i,trackingId:c})}}reportToGlobalTracing(n){return this[H5].reportToGlobalTracing(n)}reportRating(n,o){return this[H5].reportRating(n,o)}}const KL=Symbol("broadcastStreaming");class rXe{constructor(n){this[KL]=void 0,this[KL]=n}startBroadcast(){return this[KL].startBroadcast()}stopBroadcast(n){return this[KL].stopBroadcast(n)}isBroadcastStreamingEnable(){return this[KL].isBroadcastStreamingEnable()}getBroadcastStreamingStatus(){return this[KL].getBroadcastStreamingStatus()}}const iXe=["roomName"],aXe=["roomId","roomName"],vIe=[{event:"connection-change",originalEvent:"connection-change",payloadTransform:e=>{const{roomName:n}=e,o=uz(e,iXe);return n?Nb(Nb({},o),{},{subsessionName:n}):e}},{event:"user-added",originalEvent:"user-added",payloadTransform:e=>e.map((n=>Yme(n)))},{event:"user-updated",originalEvent:"user-updated",payloadTransform:e=>e.map((n=>Yme(n)))},{event:"user-removed",originalEvent:"user-removed",payloadTransform:e=>e.map((n=>Yme(n)))},{event:"subsession-invite-to-join",originalEvent:"invite-to-join",payloadTransform:e=>({subsessionId:e.roomId,subsessionName:e.name})},{event:"subsession-countdown",originalEvent:"room-countdown"},{event:"subsession-time-up",originalEvent:"room-time-up"},{event:"closing-subsession-countdown",originalEvent:"closing-room-countdown"},{event:"subsession-broadcast-message",originalEvent:"broadcast-message"},{event:"subsession-broadcast-voice",originalEvent:"broadcast-voice"},{event:"subsession-ask-for-help",originalEvent:"ask-for-help",payloadTransform:e=>({userId:e.userId,userGuid:e.userGuid,displayName:e.displayName,subsessionId:e.roomId,subsessionName:e.roomName})},{event:"subsession-ask-for-help-response",originalEvent:"ask-for-help-response"},{event:"subsession-invite-back-to-main-session",originalEvent:"invite-back-to-main-session"},{event:"subsession-state-change",originalEvent:"room-state-change"},{event:"host-ask-unmute-audio",originalEvent:"unmute-audio-consent"},{event:"subsession-user-update",originalEvent:"room-user-update",payloadTransform:e=>{const{roomId:n,roomName:o}=e;return Nb({subsessionId:n,subsessionName:o},uz(e,aXe))}},{event:"active-media-failed",originalEvent:"media-internal-error"}],lE=Symbol("summary");class lXe{constructor(n){this[lE]=void 0,this[lE]=n}startSummary(){return this[lE].startSummary()}stopSummary(){return this[lE].stopSummary()}isSummaryEnabled(){return this[lE].isSummaryEnabled()}getSummaryStatus(){return this[lE].getSummaryStatus()}startMeetingQuery(){return this[lE].startMeetingQuery()}stopMeetingQuery(){return this[lE].stopMeetingQuery()}isMeetingQueryEnabled(){return this[lE].isMeetingQueryEnabled()}getMeetingQueryStatus(){return this[lE].getMeetingQueryStatus()}}const Ua=Symbol("Client"),BX=new WeakMap;class cXe{constructor(){this[Ua]=void 0,this.stream=void 0,this.chat=void 0,this.command=void 0,this.recording=void 0,this.subsession=void 0,this.liveTranscription=void 0,this.logger=void 0,this.liveStream=void 0,this.aiClient=void 0,this.broadcastStreaming=void 0,this[Ua]=W_.createClient(),BX.set(this,new Map)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en-US",o=arguments.length>2?arguments[2]:void 0;const i=VBe(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global");return window.isSecureContext===!1&&console.warn("The page is not in a secure context, to use audio, video, screen, a secure context must be enabled."),(function(){const c="__ZOOM_VIDEO_SDK_DOM_STORAGE_TEST__";try{return localStorage.setItem(c,c),localStorage.removeItem(c),sessionStorage.setItem(c,c),sessionStorage.removeItem(c),!0}catch{return!1}})()||console.warn("localstorage or sessionstorage is not enabled, please enable to use the video sdk,"),this[Ua].init("","",{language:n,dependentAssets:i,constraints:Nb(Nb({},W_.checkSystemRequirements()),{},{screen:typeof WebAssembly=="object"&&typeof Worker=="function"}),additionalFeatures:["chat","cmd","recording","breakoutRoom","liveTranscription","logger","liveStream","summary","broadcastStreaming"],webEndpoint:o?.webEndpoint||"zoom.us",skipJsMedia:o?.skipJsMedia,enforceMultipleVideos:o?.enforceMultipleVideos,stayAwake:o?.stayAwake,enforceVirtualBackground:o?.enforceVirtualBackground,quicklyLeaveMeeting:o?.leaveOnPageUnload,patchJsMedia:o?.patchJsMedia,alternativeNameForVideoPlayer:o?.alternativeNameForVideoPlayer,isUIToolkit:o?.isUIToolkit,isLogDetailed:o?.isLogDetailed})}join(n,o,i,c,d){return Kme(n)&&Kme(o)&&Kme(i)?n.length>200?Promise.reject({type:LX,reason:"The maximum length of topic is 200",errorCode:at.CLIENT_INVALID_JOIN_PARAMETER}):i.length>200?Promise.reject({type:LX,reason:"The maximum length of username is 200",errorCode:at.CLIENT_INVALID_JOIN_PARAMETER}):c&&(typeof c!="string"||c.length>10)?Promise.reject({type:LX,reason:"The maximum length of password is 10",errorCode:at.CLIENT_INVALID_JOIN_PARAMETER}):this[Ua].joinInstant(n,o,i,Lz,c,d):Promise.reject({type:LX,reason:"Topic, token and userName must be string and required",errorCode:at.CLIENT_INVALID_JOIN_PARAMETER})}leave(){var n;return arguments.length>0&&arguments[0]!==void 0&&arguments[0]?((n=BX.get(this))===null||n===void 0||n.clear(),this[Ua].end()):this[Ua].leave()}on(n,o){const i=vIe.find((c=>c.event===n));if(i){const{originalEvent:c,payloadTransform:d}=i;if(d){const p=S=>{const _=d(S);o(_)};this[Ua].on(c,p);const v=BX.get(this);if(v){v.has(n)||v.set(n,[]);const S=v.get(n);S?.push({originalCb:o,newCb:p})}}else this[Ua].on(c,o)}else this[Ua].on(n,o)}off(n,o){const i=vIe.find((c=>c.event===n));if(i){const{originalEvent:c,payloadTransform:d}=i;if(d){const p=BX.get(this);if(p){const v=p.get(n),S=v?.find((_=>_.originalCb===o));if(S&&v){this[Ua].off(c,S.newCb);const _=v?.filter((x=>x.originalCb!==o));p.set(n,_)}}}else this[Ua].off(c,o)}else this[Ua].off(n,o)}getMediaStream(){return this.stream||(this.stream=new ZYe(this[Ua].getMediaStream())),this.stream}getChatClient(){return this.chat||(this.chat=new YYe(this[Ua].getFeatureModule("chat"))),this.chat}getRecordingClient(){return this.recording||(this.recording=new XYe(this[Ua].getFeatureModule("recording"))),this.recording}getCommandClient(){return this.command||(this.command=new JYe(this[Ua].getFeatureModule("cmd"))),this.command}getSubsessionClient(){return this.subsession||(this.subsession=new tXe(this[Ua].getFeatureModule("breakoutRoom"))),this.subsession}getLiveTranscriptionClient(){return this.liveTranscription||(this.liveTranscription=new nXe(this[Ua].getFeatureModule("liveTranscription"))),this.liveTranscription}getLoggerClient(n){return this.logger||(this.logger=new sXe(this[Ua].getFeatureModule("logger"),n)),this.logger}getLiveStreamClient(){return this.liveStream||(this.liveStream=new oXe(this[Ua].getFeatureModule("liveStream"))),this.liveStream}getBroadcastStreamingClient(){return this.broadcastStreaming||(this.broadcastStreaming=new rXe(this[Ua].getFeatureModule("broadcastStreaming"))),this.broadcastStreaming}getAIClient(){return this.aiClient||(this.aiClient=new lXe(this[Ua].getFeatureModule("summary"))),this.aiClient}getSessionInfo(){const n=this[Ua].getMeetingInfo();return{isInMeeting:n.isInMeeting||!1,password:n.password||"",topic:n.topic,userName:n.userName,userId:n.userId,sessionId:n.meetingId}}getCurrentUserInfo(){return lk(this[Ua].getCurrentUserInfo())}getUser(n){return lk(this[Ua].getParticipantsList().find((o=>o.userId===n)))}getAllUser(){return this[Ua].getParticipantsList().map((n=>lk(n)))}changeName(n,o){return this[Ua].changeName(n,o)}makeHost(n){return this[Ua].makeHost(n)}removeUser(n){return this[Ua].removeUser(n)}makeManager(n){return this[Ua].makeCoHost(n)}revokeManager(n){return this[Ua].revokeCoHost(n)}reclaimHost(){return this[Ua].reclaimHost()}isHost(){return this[Ua].isHost()}isOriginalHost(){return this[Ua].isOriginHost()}getSessionHost(){return lk(this[Ua].getMeetingHost())}isManager(){return this[Ua].isCoHost()}}class tye{static createClient(){return this.videoClient||(this.videoClient=new cXe),this.videoClient}static destroyClient(){return this.videoClient?this.videoClient.leave().then((()=>(this.videoClient=null,W_.destroyClient()))):Promise.resolve(void 0)}static checkSystemRequirements(){return W_.checkSystemRequirements()}static checkFeatureRequirements(){return W_.checkFeatureRequirements()}static getDevices(n){return W_.getDevices(n)}static createLocalAudioTrack(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return W_.createLocalAudioTrack(n)}static createLocalVideoTrack(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return W_.createLocalVideoTrack(n)}static preloadDependentAssets(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global";W_.preloadDependentAssets(VBe(n))}}tye.videoClient=void 0,tye.VERSION=Lz;(function(e){return e[e.All=1]="All",e[e.NoOne=4]="NoOne",e[e.EveryonePublicly=5]="EveryonePublicly",e})({});(function(e){return e[e.All=0]="All",e})({});(function(e){return e[e.Automatically=ok.Automatically]="Automatically",e[e.Manually=ok.Manually]="Manually",e})({});(function(e){return e[e.Initial=rr.Initial]="Initial",e[e.Invited=rr.Invited]="Invited",e[e.Joining=rr.Joining]="Joining",e[e.InSubsession=rr.InRoom]="InSubsession",e[e.Leaving=rr.Leaving]="Leaving",e[e.MainSession=rr.MainSession]="MainSession",e})({});(function(e){return e[e.NotStarted=ii.NotStarted]="NotStarted",e[e.InProgress=ii.InProgress]="InProgress",e[e.Closing=ii.Closing]="Closing",e[e.Closed=ii.Closed]="Closed",e})({});(function(e){return e[e.Failover=Em.Failover]="Failover",e[e.JoinSubsession=Em.JoinBreakoutRoom]="JoinSubsession",e[e.MoveToSubsession=Em.MoveToBreakoutRoom]="MoveToSubsession",e[e.BackToMainSession=Em.BackToMainSession]="BackToMainSession",e})({});(function(e){return e[e.Unlocked=Uy.HostGrab]="Unlocked",e[e.Locked=Uy.OnlyHost]="Locked",e[e.MultipleShare=Uy.MultipleShare]="MultipleShare",e})({});(function(e){return e[e.Unknown=Dp.Unknown]="Unknown",e[e.Uninstalled=Dp.Uninstalled]="Uninstalled",e[e.Installed=Dp.Installed]="Installed",e[e.Unlaunched=CQ.Unlaunched]="Unlaunched",e[e.Launched=CQ.Launched]="Launched",e})({});var Jme={exports:{}},bIe;function uXe(){return bIe||(bIe=1,(function(e){(function(){var n=function(t){if(t===null)return"null";if(t===void 0)return"undefined";var r=typeof t;return r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},o=function(t){return["undefined","boolean","number","string","function","xml","null"].indexOf(t)!==-1},i=function(t,r){var a=Array.prototype.slice.call(t);return a.sort(r)},c=function(t,r){return d(function(a,u){return t.eq(r(a),r(u))})},d=function(t){return{eq:t}},p=d(function(t,r){return t===r}),v=p,S=function(t){return d(function(r,a){if(r.length!==a.length)return!1;for(var u=r.length,f=0;f<u;f++)if(!t.eq(r[f],a[f]))return!1;return!0})},_=function(t,r){return c(S(t),function(a){return i(a,r)})},x=function(t){return d(function(r,a){var u=Object.keys(r),f=Object.keys(a);if(!_(v).eq(u,f))return!1;for(var y=u.length,T=0;T<y;T++){var M=u[T];if(!t.eq(r[M],a[M]))return!1}return!0})},P=d(function(t,r){if(t===r)return!0;var a=n(t),u=n(r);return a!==u?!1:o(a)?t===r:a==="array"?S(P).eq(t,r):a==="object"?x(P).eq(t,r):!1});const B=Object.getPrototypeOf,z=(t,r,a)=>a(t,r.prototype)?!0:t.constructor?.name===r.name,U=t=>{const r=typeof t;return t===null?"null":r==="object"&&Array.isArray(t)?"array":r==="object"&&z(t,String,(a,u)=>u.isPrototypeOf(a))?"string":r},H=t=>r=>U(r)===t,K=t=>r=>typeof r===t,oe=t=>r=>t===r,ce=(t,r)=>ye(t)&&z(t,r,(a,u)=>B(a)===u),re=H("string"),ye=H("object"),_e=t=>ce(t,Object),Oe=H("array"),F=oe(null),Me=K("boolean"),ot=oe(void 0),Fe=t=>t==null,De=t=>!Fe(t),we=K("function"),ct=K("number"),rt=(t,r)=>{if(Oe(t)){for(let a=0,u=t.length;a<u;++a)if(!r(t[a]))return!1;return!0}return!1},gt=()=>{},ee=(t,r)=>(...a)=>t(r.apply(null,a)),on=(t,r)=>a=>t(r(a)),nt=t=>()=>t,Mt=t=>t,Pt=(t,r)=>t===r;function st(t,...r){return(...a)=>{const u=r.concat(a);return t.apply(null,u)}}const vn=t=>r=>!t(r),To=t=>()=>{throw new Error(t)},Nn=t=>t(),ho=t=>{t()},qt=nt(!1),Tn=nt(!0);class Se{tag;value;static singletonNone=new Se(!1);constructor(r,a){this.tag=r,this.value=a}static some(r){return new Se(!0,r)}static none(){return Se.singletonNone}fold(r,a){return this.tag?a(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?Se.some(r(this.value)):Se.none()}bind(r){return this.tag?r(this.value):Se.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:Se.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r??"Called getOrDie on None")}static from(r){return De(r)?Se.some(r):Se.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const br=Array.prototype.slice,ws=Array.prototype.indexOf,as=Array.prototype.push,Is=(t,r)=>ws.call(t,r),oo=(t,r)=>{const a=Is(t,r);return a===-1?Se.none():Se.some(a)},kt=(t,r)=>Is(t,r)>-1,bn=(t,r)=>{for(let a=0,u=t.length;a<u;a++){const f=t[a];if(r(f,a))return!0}return!1},mn=(t,r)=>{const a=t.length,u=new Array(a);for(let f=0;f<a;f++){const y=t[f];u[f]=r(y,f)}return u},Ze=(t,r)=>{for(let a=0,u=t.length;a<u;a++){const f=t[a];r(f,a)}},mt=(t,r)=>{for(let a=t.length-1;a>=0;a--){const u=t[a];r(u,a)}},Dt=(t,r)=>{const a=[],u=[];for(let f=0,y=t.length;f<y;f++){const T=t[f];(r(T,f)?a:u).push(T)}return{pass:a,fail:u}},je=(t,r)=>{const a=[];for(let u=0,f=t.length;u<f;u++){const y=t[u];r(y,u)&&a.push(y)}return a},Lt=(t,r)=>{if(t.length===0)return[];{let a=r(t[0]);const u=[];let f=[];for(let y=0,T=t.length;y<T;y++){const M=t[y],N=r(M);N!==a&&(u.push(f),f=[]),a=N,f.push(M)}return f.length!==0&&u.push(f),u}},Kt=(t,r,a)=>(mt(t,(u,f)=>{a=r(a,u,f)}),a),rn=(t,r,a)=>(Ze(t,(u,f)=>{a=r(a,u,f)}),a),Ht=(t,r,a)=>{for(let u=0,f=t.length;u<f;u++){const y=t[u];if(r(y,u))return Se.some(y);if(a(y,u))break}return Se.none()},_t=(t,r)=>Ht(t,r,qt),go=(t,r)=>{for(let a=0,u=t.length;a<u;a++){const f=t[a];if(r(f,a))return Se.some(a)}return Se.none()},Mo=(t,r)=>{for(let a=t.length-1;a>=0;a--)if(r(t[a],a))return Se.some(a);return Se.none()},Ko=t=>{const r=[];for(let a=0,u=t.length;a<u;++a){if(!Oe(t[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+t);as.apply(r,t[a])}return r},Io=(t,r)=>Ko(mn(t,r)),bs=(t,r)=>{for(let a=0,u=t.length;a<u;++a){const f=t[a];if(r(f,a)!==!0)return!1}return!0},Ps=t=>{const r=br.call(t,0);return r.reverse(),r},ys=(t,r)=>je(t,a=>!kt(r,a)),Zs=(t,r)=>{const a={};for(let u=0,f=t.length;u<f;u++){const y=t[u];a[String(y)]=r(y,u)}return a},Ds=(t,r)=>{const a=br.call(t,0);return a.sort(r),a},bt=(t,r)=>r>=0&&r<t.length?Se.some(t[r]):Se.none(),Vt=t=>bt(t,0),Jt=t=>bt(t,t.length-1),jt=we(Array.from)?Array.from:t=>br.call(t),wo=(t,r)=>{for(let a=0;a<t.length;a++){const u=r(t[a],a);if(u.isSome())return u}return Se.none()},Jn=(t,r)=>{const a=[],u=we(r)?f=>bn(a,y=>r(y,f)):f=>kt(a,f);for(let f=0,y=t.length;f<y;f++){const T=t[f];u(T)||a.push(T)}return a},Zt=Object.keys,Zn=Object.hasOwnProperty,eo=(t,r)=>{const a=Zt(t);for(let u=0,f=a.length;u<f;u++){const y=a[u],T=t[y];r(T,y)}},jo=(t,r)=>Ho(t,(a,u)=>({k:u,v:r(a,u)})),Ho=(t,r)=>{const a={};return eo(t,(u,f)=>{const y=r(u,f);a[y.k]=y.v}),a},wn=t=>(r,a)=>{t[a]=r},Vr=(t,r,a,u)=>{eo(t,(f,y)=>{(r(f,y)?a:u)(f,y)})},Ws=(t,r)=>{const a={},u={};return Vr(t,r,wn(a),wn(u)),{t:a,f:u}},or=(t,r)=>{const a={};return Vr(t,r,wn(a),gt),a},ya=(t,r)=>{const a=[];return eo(t,(u,f)=>{a.push(r(u,f))}),a},Ni=t=>ya(t,Mt),sr=(t,r)=>ts(t,r)?Se.from(t[r]):Se.none(),ts=(t,r)=>Zn.call(t,r),ps=(t,r)=>ts(t,r)&&t[r]!==void 0&&t[r]!==null,ul=(t,r,a=P)=>x(a).eq(t,r),Fl={generate:t=>{if(!Oe(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const r=[],a={};return Ze(t,(u,f)=>{const y=Zt(u);if(y.length!==1)throw new Error("one and only one name per case");const T=y[0],M=u[T];if(a[T]!==void 0)throw new Error("duplicate key detected:"+T);if(T==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Oe(M))throw new Error("case arguments must be an array");r.push(T),a[T]=(...N)=>{const G=N.length;if(G!==M.length)throw new Error("Wrong number of arguments to case "+T+". Expected "+M.length+" ("+M+"), got "+G);return{fold:(...fe)=>{if(fe.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+fe.length);return fe[f].apply(null,N)},match:fe=>{const be=Zt(fe);if(r.length!==be.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+be.join(","));if(!bs(r,Ke=>kt(be,Ke)))throw new Error("Not all branches were specified when using match. Specified: "+be.join(", ")+`
Required: `+r.join(", "));return fe[T].apply(null,N)},log:fe=>{console.log(fe,{constructors:r,constructor:T,params:N})}}}}),a}},$o=t=>{let r=t;return{get:()=>r,set:f=>{r=f}}},Jl=t=>{const r=y=>y(t),a=nt(t),u=()=>f,f={tag:!0,inner:t,fold:(y,T)=>T(t),isValue:Tn,isError:qt,map:y=>Hl.value(y(t)),mapError:u,bind:r,exists:r,forall:r,getOr:a,or:u,getOrThunk:a,orThunk:u,getOrDie:a,each:y=>{y(t)},toOptional:()=>Se.some(t)};return f},nl=t=>{const r=()=>a,a={tag:!1,inner:t,fold:(u,f)=>u(t),isValue:qt,isError:Tn,map:r,mapError:u=>Hl.error(u(t)),bind:r,exists:qt,forall:Tn,getOr:Mt,or:Mt,getOrThunk:Nn,orThunk:Nn,getOrDie:To(String(t)),each:gt,toOptional:Se.none};return a},Hl={value:Jl,error:nl,fromOption:(t,r)=>t.fold(()=>nl(r),Jl)},xd=typeof window<"u"?window:Function("return this;")(),Fr=()=>{const t=window.crypto.getRandomValues(new Uint8Array(16));return t[6]=t[6]&15|64,t[8]=t[8]&63|128,t},Aa=()=>{const t=Fr(),r=(a,u)=>{let f="";for(let y=a;y<=u;++y){const T=t[y].toString(16).padStart(2,"0");f+=T}return f};return`${r(0,3)}-${r(4,5)}-${r(6,7)}-${r(8,9)}-${r(10,15)}`},Od=(t,r,a)=>Math.min(Math.max(t,r),a),Ju=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Yc=0;const dl=t=>{const a=new Date().getTime(),u=Math.floor(Ju()*1e9);return Yc++,t+"_"+u+Yc+String(a)},Qu=()=>window.isSecureContext?window.crypto.randomUUID():Aa(),Id=(t,r)=>r,uo=(t,r)=>_e(t)&&_e(r)?eh(t,r):r,Kf=t=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const a={};for(let u=0;u<r.length;u++){const f=r[u];for(const y in f)ts(f,y)&&(a[y]=t(a[y],f[y]))}return a},eh=Kf(uo),Th=Kf(Id),Kr=(t,r,a=Pt)=>t.exists(u=>a(u,r)),xh=(t,r,a=Pt)=>wr(t,r,a).getOr(t.isNone()&&r.isNone()),Mc=t=>{const r=[],a=u=>{r.push(u)};for(let u=0;u<t.length;u++)t[u].each(a);return r},wr=(t,r,a)=>t.isSome()&&r.isSome()?Se.some(a(t.getOrDie(),r.getOrDie())):Se.none(),Au=(t,r,a,u)=>t.isSome()&&r.isSome()&&a.isSome()?Se.some(u(t.getOrDie(),r.getOrDie(),a.getOrDie())):Se.none(),th=t=>t.bind(Mt),wc=(t,r)=>t?Se.some(r):Se.none(),Li=(t,r)=>{let a=r??xd;for(let u=0;u<t.length&&a!==void 0&&a!==null;++u)a=a[t[u]];return a},hc=(t,r)=>{const a=t.split(".");return Li(a,r)};Fl.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ol=t=>{const r=[],a=[];return Ze(t,u=>{u.fold(f=>{r.push(f)},f=>{a.push(f)})}),{errors:r,values:a}},Fp=t=>{const r=$o(Se.none()),a=()=>r.get().each(t);return{clear:()=>{a(),r.set(Se.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:M=>{a(),r.set(Se.some(M))}}},Am=t=>{const r=$o(Se.none()),a=()=>r.get().each(M=>clearInterval(M));return{clear:()=>{a(),r.set(Se.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:M=>{a(),r.set(Se.some(setInterval(M,t)))}}},_c=()=>{const t=Fp(gt);return{...t,on:a=>t.get().each(a)}},Xc=(t,r)=>t.substring(r),Tu=(t,r,a)=>r===""||t.length>=r.length&&t.substr(a,a+r.length)===r,Oh=(t,r)=>ms(t,r)?Xc(t,r.length):t,ea=(t,r,a=0,u)=>{const f=t.indexOf(r,a);return f!==-1?ot(u)?!0:f+r.length<=u:!1},ms=(t,r)=>Tu(t,r,0),zi=(t,r)=>Tu(t,r,t.length-r.length),Ol=t=>r=>r.replace(t,""),Pr=Ol(/^\s+|\s+$/g),nh=Ol(/^\s+/g),Yf=Ol(/\s+$/g),fi=t=>t.length>0,fc=t=>!fi(t),Pc=(t,r)=>r<=0?"":new Array(r+1).join(t),nf=(t,r=10)=>{const a=parseInt(t,r);return isNaN(a)?Se.none():Se.some(a)},io=(t,r)=>{let a=null;return{cancel:()=>{F(a)||(clearTimeout(a),a=null)},throttle:(...y)=>{F(a)&&(a=setTimeout(()=>{a=null,t.apply(null,y)},r))}}},xu=(t,r)=>{let a=null;const u=()=>{F(a)||(clearTimeout(a),a=null)};return{cancel:u,throttle:(...y)=>{u(),a=setTimeout(()=>{a=null,t.apply(null,y)},r)}}},Il=t=>{let r=!1,a;return(...u)=>(r||(r=!0,a=t.apply(null,u)),a)},pc="\uFEFF",ki="",Tm="",$l=t=>t===pc,Jc=t=>t.replace(/\uFEFF/g,""),Xf=t=>{const r={};return Ze(t,a=>{r[a]={}}),Zt(r)},of=t=>t.length!==void 0,ed=Array.isArray,Jf=t=>{if(ed(t))return t;{const r=[];for(let a=0,u=t.length;a<u;a++)r[a]=t[a];return r}},Rd=(t,r,a)=>{if(!t)return!1;if(a=a||t,of(t)){for(let u=0,f=t.length;u<f;u++)if(r.call(a,t[u],u,t)===!1)return!1}else for(const u in t)if(ts(t,u)&&r.call(a,t[u],u,t)===!1)return!1;return!0},kd=(t,r)=>{const a=[];return Rd(t,(u,f)=>{a.push(r(u,f,t))}),a},mc=(t,r)=>{const a=[];return Rd(t,(u,f)=>{(!r||r(u,f,t))&&a.push(u)}),a},to=(t,r)=>{if(t){for(let a=0,u=t.length;a<u;a++)if(t[a]===r)return a}return-1},Ou=(t,r,a,u)=>{let f=ot(a)?t[0]:a;for(let y=0;y<t.length;y++)f=r.call(u,f,t[y],y);return f},Ih=(t,r,a)=>{for(let u=0,f=t.length;u<f;u++)if(r.call(a,t[u],u,t))return u;return-1},Ve=t=>t[t.length-1],lt=(t,r,a,u)=>{const f=t.isiOS()&&/ipad/i.test(a)===!0,y=t.isiOS()&&!f,T=t.isiOS()||t.isAndroid(),M=T||u("(pointer:coarse)"),N=f||!y&&T&&u("(min-device-width:768px)"),G=y||T&&!N,le=r.isSafari()&&t.isiOS()&&/safari/i.test(a)===!1,fe=!G&&!N&&!le;return{isiPad:nt(f),isiPhone:nt(y),isTablet:nt(N),isPhone:nt(G),isTouch:nt(M),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:nt(le),isDesktop:nt(fe)}},Rt=(t,r)=>{for(let a=0;a<t.length;a++){const u=t[a];if(u.test(r))return u}},pn=(t,r)=>{const a=Rt(t,r);if(!a)return{major:0,minor:0};const u=f=>Number(r.replace(a,"$"+f));return ur(u(1),u(2))},so=(t,r)=>{const a=String(r).toLowerCase();return t.length===0?ko():pn(t,a)},ko=()=>ur(0,0),ur=(t,r)=>({major:t,minor:r}),Bs={nu:ur,detect:so,unknown:ko},Er=(t,r)=>wo(r.brands,a=>{const u=a.brand.toLowerCase();return _t(t,f=>u===f.brand?.toLowerCase()).map(f=>({current:f.name,version:Bs.nu(parseInt(a.version,10),0)}))}),Ee=(t,r)=>{const a=String(r).toLowerCase();return _t(t,u=>u.search(a))},Ue=(t,r)=>Ee(t,r).map(a=>{const u=Bs.detect(a.versionRegexes,r);return{current:a.name,version:u}}),ut=(t,r)=>Ee(t,r).map(a=>{const u=Bs.detect(a.versionRegexes,r);return{current:a.name,version:u}}),un=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Po=t=>r=>ea(r,t),Vs=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>ea(t,"edge/")&&ea(t,"chrome")&&ea(t,"safari")&&ea(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,un],search:t=>ea(t,"chrome")&&!ea(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>ea(t,"msie")||ea(t,"trident")},{name:"Opera",versionRegexes:[un,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Po("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Po("firefox")},{name:"Safari",versionRegexes:[un,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(ea(t,"safari")||ea(t,"mobile/"))&&ea(t,"applewebkit")}],L=[{name:"Windows",search:Po("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>ea(t,"iphone")||ea(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Po("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Po("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Po("linux"),versionRegexes:[]},{name:"Solaris",search:Po("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Po("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Po("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],X={browsers:nt(Vs),oses:nt(L)},de="Edge",ge="Chromium",xe="IE",Le="Opera",We="Firefox",xt="Safari",Ct=()=>Yt({current:void 0,version:Bs.unknown()}),Yt=t=>{const r=t.current,a=t.version,u=f=>()=>r===f;return{current:r,version:a,isEdge:u(de),isChromium:u(ge),isIE:u(xe),isOpera:u(Le),isFirefox:u(We),isSafari:u(xt)}},Dn={unknown:Ct,nu:Yt},Yn="Windows",Cn="iOS",No="Android",Or="Linux",Si="macOS",zr="Solaris",Ul="FreeBSD",Sa="ChromeOS",td=()=>oh({current:void 0,version:Bs.unknown()}),oh=t=>{const r=t.current,a=t.version,u=f=>()=>r===f;return{current:r,version:a,isWindows:u(Yn),isiOS:u(Cn),isAndroid:u(No),isMacOS:u(Si),isLinux:u(Or),isSolaris:u(zr),isFreeBSD:u(Ul),isChromeOS:u(Sa)}},pi={unknown:td,nu:oh},Bi={detect:(t,r,a)=>{const u=X.browsers(),f=X.oses(),y=r.bind(N=>Er(u,N)).orThunk(()=>Ue(u,t)).fold(Dn.unknown,Dn.nu),T=ut(f,t).fold(pi.unknown,pi.nu),M=lt(T,y,t,a);return{browser:y,os:T,deviceType:M}}},hl=t=>window.matchMedia(t).matches;let Hp=Il(()=>Bi.detect(window.navigator.userAgent,Se.from(window.navigator.userAgentData),hl));const Dd=()=>Hp(),Rh=(t,r)=>hc(t,r),Og=(t,r)=>{const a=Rh(t,r);if(a==null)throw new Error(t+" not available on this browser");return a},nd=Object.getPrototypeOf,Qc=t=>Og("HTMLElement",t),Qf=t=>{const r=hc("ownerDocument.defaultView",t);return ye(t)&&(Qc(r).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(nd(t).constructor.name))},od=window.navigator.userAgent,Ig=Dd(),vc=Ig.browser,Rl=Ig.os,sf=Ig.deviceType,Ub=od.indexOf("Windows Phone")!==-1,_r={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:vc.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!vc.isIE(),windowsPhone:Ub,browser:{current:vc.current,version:vc.version,isChromium:vc.isChromium,isEdge:vc.isEdge,isFirefox:vc.isFirefox,isIE:vc.isIE,isOpera:vc.isOpera,isSafari:vc.isSafari},os:{current:Rl.current,version:Rl.version,isAndroid:Rl.isAndroid,isChromeOS:Rl.isChromeOS,isFreeBSD:Rl.isFreeBSD,isiOS:Rl.isiOS,isLinux:Rl.isLinux,isMacOS:Rl.isMacOS,isSolaris:Rl.isSolaris,isWindows:Rl.isWindows},deviceType:{isDesktop:sf.isDesktop,isiPad:sf.isiPad,isiPhone:sf.isiPhone,isPhone:sf.isPhone,isTablet:sf.isTablet,isTouch:sf.isTouch,isWebView:sf.isWebView}},qi=/^\s*|\s*$/g,$p=t=>Fe(t)?"":(""+t).replace(qi,""),Ci=(t,r)=>r?r==="array"&&ed(t)?!0:typeof t===r:t!==void 0,ep=(t,r,a={})=>{const u=re(t)?t.split(r||","):t||[];let f=u.length;for(;f--;)a[u[f]]={};return a},rf=ts,HS=(t,...r)=>{for(let a=0;a<r.length;a++){const u=r[a];for(const f in u)if(ts(u,f)){const y=u[f];y!==void 0&&(t[f]=y)}}return t},af=function(t,r,a,u){u=u||this,t&&(a&&(t=t[a]),Rd(t,(f,y)=>r.call(u,f,y,a)===!1?!1:(af(f,r,a,u),!0)))},Un={trim:$p,isArray:ed,is:Ci,toArray:Jf,makeMap:ep,each:Rd,map:kd,grep:mc,inArray:to,hasOwn:rf,extend:HS,walk:af,resolve:(t,r=window)=>{const a=t.split(".");for(let u=0,f=a.length;u<f&&(r=r[a[u]],!!r);u++);return r},explode:(t,r)=>Oe(t)?t:t===""?[]:kd(t.split(r||","),$p),_addCacheSuffix:t=>{const r=_r.cacheSuffix;return r&&(t+=(t.indexOf("?")===-1?"?":"&")+r),t}},zl=(t,r)=>{const u=(r||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const f="HTML does not have a single root node";throw console.error(f,t),new Error(f)}return tp(u.childNodes[0])},kh=(t,r)=>{const u=(r||document).createElement(t);return tp(u)},tu=(t,r)=>{const u=(r||document).createTextNode(t);return tp(u)},tp=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Qe={fromHtml:zl,fromTag:kh,fromText:tu,fromDom:tp,fromPoint:(t,r,a)=>Se.from(t.dom.elementFromPoint(r,a)).map(tp)},Ac=(t,r)=>{r.fold(a=>{t.setStartBefore(a.dom)},(a,u)=>{t.setStart(a.dom,u)},a=>{t.setStartAfter(a.dom)})},Dh=(t,r)=>{r.fold(a=>{t.setEndBefore(a.dom)},(a,u)=>{t.setEnd(a.dom,u)},a=>{t.setEndAfter(a.dom)})},jb=(t,r,a)=>{const u=t.document.createRange();return Ac(u,r),Dh(u,a),u},nu=(t,r,a,u,f)=>{const y=t.document.createRange();return y.setStart(r.dom,a),y.setEnd(u.dom,f),y},Ql=Fl.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ht=(t,r,a)=>r(Qe.fromDom(a.startContainer),a.startOffset,Qe.fromDom(a.endContainer),a.endOffset),Ut=(t,r)=>r.match({domRange:a=>({ltr:nt(a),rtl:Se.none}),relative:(a,u)=>({ltr:Il(()=>jb(t,a,u)),rtl:Il(()=>Se.some(jb(t,u,a)))}),exact:(a,u,f,y)=>({ltr:Il(()=>nu(t,a,u,f,y)),rtl:Il(()=>Se.some(nu(t,f,y,a,u)))})}),En=(t,r)=>{const a=r.ltr();return a.collapsed?r.rtl().filter(f=>f.collapsed===!1).map(f=>Ql.rtl(Qe.fromDom(f.endContainer),f.endOffset,Qe.fromDom(f.startContainer),f.startOffset)).getOrThunk(()=>ht(t,Ql.ltr,a)):ht(t,Ql.ltr,a)},On=(t,r)=>{const a=Ut(t,r);return En(t,a)};Ql.ltr,Ql.rtl;const jn=8,es=9,ls=11,Gs=1,gs=3,dr=(t,r)=>{const a=t.dom;if(a.nodeType!==Gs)return!1;{const u=a;if(u.matches!==void 0)return u.matches(r);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(r);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(r);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},Ar=t=>t.nodeType!==Gs&&t.nodeType!==es&&t.nodeType!==ls||t.childElementCount===0,fr=(t,r)=>{const a=r===void 0?document:r.dom;return Ar(a)?[]:mn(a.querySelectorAll(t),Qe.fromDom)},Hr=(t,r)=>{const a=r===void 0?document:r.dom;return Ar(a)?Se.none():Se.from(a.querySelector(t)).map(Qe.fromDom)},_o=(t,r)=>t.dom===r.dom,Xr=(t,r)=>{const a=t.dom,u=r.dom;return a===u?!1:a.contains(u)},bl=dr,ec=(t,r)=>{const a=[],u=y=>(a.push(y),r(y));let f=r(t);do f=f.bind(u);while(f.isSome());return a},Ns=t=>t.dom.nodeName.toLowerCase(),kl=t=>t.dom.nodeType,ta=t=>r=>kl(r)===t,Wa=t=>kl(t)===jn||Ns(t)==="#comment",Mh=t=>na(t)&&Qf(t.dom),na=ta(Gs),Jr=ta(gs),Ky=ta(es),RE=ta(ls),yl=t=>r=>na(r)&&Ns(r)===t,tc=t=>Qe.fromDom(t.dom.ownerDocument),ou=t=>Ky(t)?t:tc(t),Sl=t=>Qe.fromDom(ou(t).dom.documentElement),Ph=t=>Qe.fromDom(ou(t).dom.defaultView),Iu=t=>Se.from(t.dom.parentNode).map(Qe.fromDom),Ru=t=>Se.from(t.dom.parentElement).map(Qe.fromDom),Nc=(t,r)=>{const a=we(r)?r:qt;let u=t.dom;const f=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const y=u.parentNode,T=Qe.fromDom(y);if(f.push(T),a(T)===!0)break;u=y}return f},ti=t=>{const r=a=>je(a,u=>!_o(t,u));return Iu(t).map(pr).map(r).getOr([])},Pd=t=>Se.from(t.dom.previousSibling).map(Qe.fromDom),ku=t=>Se.from(t.dom.nextSibling).map(Qe.fromDom),jl=t=>Ps(ec(t,Pd)),oa=t=>ec(t,ku),pr=t=>mn(t.dom.childNodes,Qe.fromDom),Nh=(t,r)=>{const a=t.dom.childNodes;return Se.from(a[r]).map(Qe.fromDom)},Wl=t=>Nh(t,0),Ga=t=>Nh(t,t.dom.childNodes.length-1),lf=t=>t.dom.childNodes.length,sl=t=>{const r=t.dom.head;if(r==null)throw new Error("Head is not available yet");return Qe.fromDom(r)},Wb=t=>RE(t)&&De(t.dom.host),nc=t=>Qe.fromDom(t.dom.getRootNode()),Yy=t=>Wb(t)?t:sl(ou(t)),mr=t=>Wb(t)?t:Qe.fromDom(ou(t).dom.body),xm=t=>{const r=nc(t);return Wb(r)?Se.some(r):Se.none()},rs=t=>Qe.fromDom(t.dom.host),a1=t=>{if(De(t.target)){const r=Qe.fromDom(t.target);if(na(r)&&fl(r)&&t.composed&&t.composedPath){const a=t.composedPath();if(a)return Vt(a)}}return Se.from(t.target)},fl=t=>De(t.dom.shadowRoot),nr=(t,r,a,u,f,y,T)=>({target:t,x:r,y:a,stop:u,prevent:f,kill:y,raw:T}),Dl=t=>{const r=Qe.fromDom(a1(t).getOr(t.target)),a=()=>t.stopPropagation(),u=()=>t.preventDefault(),f=ee(u,a);return nr(r,t.clientX,t.clientY,a,u,f,t)},sa=(t,r)=>a=>{t(a)&&r(Dl(a))},Om=(t,r,a,u,f)=>{const y=sa(a,u);return t.dom.addEventListener(r,y,f),{unbind:st(Nd,t,r,y,f)}},Xy=(t,r,a,u)=>Om(t,r,a,u,!1),Nd=(t,r,a,u)=>{t.dom.removeEventListener(r,a,u)},Du=Tn,Gb=(t,r,a)=>Xy(t,r,Du,a),Jy=()=>Qe.fromDom(document),qb=(t,r=!1)=>t.dom.focus({preventScroll:r}),sh=t=>{const r=nc(t).dom;return t.dom===r.activeElement},Lh=(t=Jy())=>Se.from(t.dom.activeElement).map(Qe.fromDom),Qy=t=>Lh(nc(t)).filter(r=>t.dom.contains(r.dom)),Tc=(t,r)=>{Iu(t).each(u=>{u.dom.insertBefore(r.dom,t.dom)})},rh=(t,r)=>{ku(t).fold(()=>{Iu(t).each(f=>{$r(f,r)})},u=>{Tc(u,r)})},np=(t,r)=>{Wl(t).fold(()=>{$r(t,r)},u=>{t.dom.insertBefore(r.dom,u.dom)})},$r=(t,r)=>{t.dom.appendChild(r.dom)},Ld=(t,r)=>{Tc(t,r),$r(r,t)},l1=(t,r)=>{Ze(r,a=>{Tc(t,a)})},Zb=(t,r)=>{Ze(r,(a,u)=>{const f=u===0?t:r[u-1];rh(f,a)})},ih=(t,r)=>{Ze(r,a=>{$r(t,a)})},_s=(t,r,a)=>{if(re(a)||Me(a)||ct(a))t.setAttribute(r,a+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",a,":: Element ",t),new Error("Attribute value was not simple")},ca=(t,r,a)=>{_s(t.dom,r,a)},Ra=(t,r)=>{const a=t.dom;eo(r,(u,f)=>{_s(a,f,u)})},ra=(t,r)=>{const a=t.dom.getAttribute(r);return a===null?void 0:a},ah=(t,r)=>Se.from(ra(t,r)),ua=(t,r)=>{const a=t.dom;return a&&a.hasAttribute?a.hasAttribute(r):!1},pl=(t,r)=>{t.dom.removeAttribute(r)},Pv=t=>{const r=t.dom.attributes;return r==null||r.length===0},Sr=t=>rn(t.dom.attributes,(r,a)=>(r[a.name]=a.value,r),{}),sd=t=>{t.dom.textContent="",Ze(pr(t),r=>{Di(r)})},Di=t=>{const r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Mu=t=>{const r=pr(t);r.length>0&&Zb(t,r),Di(t)},Cl=(t,r)=>Qe.fromDom(t.dom.cloneNode(r)),El=t=>Cl(t,!1),cf=t=>Cl(t,!0),Nv=(t,r)=>{const a=Qe.fromTag(r),u=Sr(t);return Ra(a,u),a},Up=(t,r)=>{const a=Nv(t,r);rh(t,a);const u=pr(t);return ih(a,u),Di(t),a},Im=(t,r)=>{const u=(r||document).createElement("div");return u.innerHTML=t,pr(Qe.fromDom(u))},lh=t=>mn(t,Qe.fromDom),bc=t=>t.dom.innerHTML,zp=(t,r)=>{const u=tc(t).dom,f=Qe.fromDom(u.createDocumentFragment()),y=Im(r,u);ih(f,y),sd(t),$r(t,f)},kE=t=>{const r=Qe.fromTag("div"),a=Qe.fromDom(t.dom.cloneNode(!0));return $r(r,a),bc(r)},op=t=>t.style!==void 0&&we(t.style.getPropertyValue),ni=t=>{const r=Jr(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;const a=r.ownerDocument;return xm(Qe.fromDom(r)).fold(()=>a.body.contains(r),on(ni,rs))},c1=(t,r,a)=>{if(!re(a))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",a,":: Element ",t),new Error("CSS value must be a string: "+a);op(t)&&t.style.setProperty(r,a)},Lv=(t,r)=>{op(t)&&t.style.removeProperty(r)},Lc=(t,r,a)=>{const u=t.dom;c1(u,r,a)},su=(t,r)=>{const a=t.dom;eo(r,(u,f)=>{c1(a,f,u)})},La=(t,r)=>{const a=t.dom,f=window.getComputedStyle(a).getPropertyValue(r);return f===""&&!ni(t)?Bd(a,r):f},Bd=(t,r)=>op(t)?t.style.getPropertyValue(r):"",ml=(t,r)=>{const a=t.dom,u=Bd(a,r);return Se.from(u).filter(f=>f.length>0)},Rm=t=>{const r={},a=t.dom;if(op(a))for(let u=0;u<a.style.length;u++){const f=a.style.item(u);r[f]=a.style[f]}return r},e0=(t,r)=>{const a=t.dom;Lv(a,r),Kr(ah(t,"style").map(Pr),"")&&pl(t,"style")},Kb=t=>t.dom.offsetWidth,uf=((t,r)=>{const a=(M,N)=>{if(!ct(N)&&!N.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+N);const G=M.dom;op(G)&&(G.style[t]=N+"px")},u=M=>{const N=r(M);if(N<=0||N===null){const G=La(M,t);return parseFloat(G)||0}return N},f=u,y=(M,N)=>rn(N,(G,le)=>{const fe=La(M,le),be=fe===void 0?0:parseInt(fe,10);return isNaN(be)?G:G+be},0);return{set:a,get:u,getOuter:f,aggregate:y,max:(M,N,G)=>{const le=y(M,G);return N>le?N-le:0}}})("height",t=>{const r=t.dom;return ni(t)?r.getBoundingClientRect().height:r.offsetHeight}),ME=t=>uf.get(t),u1=(t,r)=>({left:t,top:r,translate:(u,f)=>u1(t+u,r+f)}),df=u1,$S=t=>{const r=t.getBoundingClientRect();return df(r.left,r.top)},Bv=(t,r)=>t!==void 0?t:r!==void 0?r:0,km=t=>{const r=t.dom.ownerDocument,a=r.body,u=r.defaultView,f=r.documentElement;if(a===t.dom)return df(a.offsetLeft,a.offsetTop);const y=Bv(u?.pageYOffset,f.scrollTop),T=Bv(u?.pageXOffset,f.scrollLeft),M=Bv(f.clientTop,a.clientTop),N=Bv(f.clientLeft,a.clientLeft);return Rg(t).translate(T-N,y-M)},Rg=t=>{const r=t.dom,u=r.ownerDocument.body;return u===r?df(u.offsetLeft,u.offsetTop):ni(t)?$S(r):df(0,0)},d1=t=>{const r=t!==void 0?t.dom:document,a=r.body.scrollLeft||r.documentElement.scrollLeft,u=r.body.scrollTop||r.documentElement.scrollTop;return df(a,u)},US=(t,r,a)=>{const f=(a!==void 0?a.dom:document).defaultView;f&&f.scrollTo(t,r)},Bh=(t,r)=>{Dd().browser.isSafari()&&we(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(r)},Dm=(t,r)=>{const a=y=>{if(!t(y))throw new Error("Can only get "+r+" value of a "+r+" node");return u(y).getOr("")},u=y=>t(y)?Se.from(y.dom.nodeValue):Se.none();return{get:a,getOption:u,set:(y,T)=>{if(!t(y))throw new Error("Can only set raw "+r+" value of a "+r+" node");y.dom.nodeValue=T}}},hf=(t,r)=>{const u=document.createDocumentFragment();return Ze(t,f=>{u.appendChild(f.dom)}),Qe.fromDom(u)},oi=Dm(Jr,"text"),gl=t=>oi.get(t),sp=t=>oi.getOption(t),t0=(t,r)=>oi.set(t,r),Mm=(t,r)=>{const a=ra(t,r);return a===void 0||a===""?[]:a.split(" ")},kg=(t,r,a)=>{const f=Mm(t,r).concat([a]);return ca(t,r,f.join(" ")),!0},jp=(t,r,a)=>{const u=je(Mm(t,r),f=>f!==a);return u.length>0?ca(t,r,u.join(" ")):pl(t,r),!1};var rp=(t,r,a,u,f)=>t(a,u)?Se.some(a):we(f)&&f(a)?Se.none():r(a,u,f);const Vh=(t,r,a)=>{let u=t.dom;const f=we(a)?a:qt;for(;u.parentNode;){u=u.parentNode;const y=Qe.fromDom(u);if(r(y))return Se.some(y);if(f(y))break}return Se.none()},Ei=(t,r,a)=>rp((f,y)=>y(f),Vh,t,r,a),zS=(t,r)=>{const a=t.dom;return a.parentNode?ai(Qe.fromDom(a.parentNode),u=>!_o(t,u)&&r(u)):Se.none()},ai=(t,r)=>{const a=f=>r(Qe.fromDom(f));return _t(t.dom.childNodes,a).map(Qe.fromDom)},Vv=(t,r)=>{const a=u=>{for(let f=0;f<u.childNodes.length;f++){const y=Qe.fromDom(u.childNodes[f]);if(r(y))return Se.some(y);const T=a(u.childNodes[f]);if(T.isSome())return T}return Se.none()};return a(t.dom)},qa=(t,r,a)=>Vh(t,u=>dr(u,r),a),Fh=(t,r)=>Hr(r,t),xc=(t,r,a)=>rp((f,y)=>dr(f,y),qa,t,r,a),Pu=t=>t.dom.classList!==void 0,Dg=t=>Mm(t,"class"),Fv=(t,r)=>kg(t,"class",r),h1=(t,r)=>jp(t,"class",r),PE=(t,r)=>kt(Dg(t),r)?h1(t,r):Fv(t,r),wl=(t,r)=>{Pu(t)?t.dom.classList.add(r):Fv(t,r)},ff=t=>{(Pu(t)?t.dom.classList:Dg(t)).length===0&&pl(t,"class")},rl=(t,r)=>{Pu(t)?t.dom.classList.remove(r):h1(t,r),ff(t)},wi=(t,r)=>{const a=Pu(t)?t.dom.classList.toggle(r):PE(t,r);return ff(t),a},Yb=(t,r)=>Pu(t)&&t.dom.classList.contains(r),Xb=(t,r)=>{Ze(r,a=>{wl(t,a)})},Jb=(t,r)=>{Ze(r,a=>{rl(t,a)})},n0=t=>xc(t,"[contenteditable]"),Nu=(t,r=!1)=>ni(t)?t.dom.isContentEditable:n0(t).fold(nt(r),a=>o0(a)==="true"),o0=t=>t.dom.contentEditable,J=(t,r)=>{t.dom.contentEditable=r?"true":"false"},ae=(t,r,a)=>je(Nc(t,a),r),Ie=(t,r)=>je(pr(t),r),qe=(t,r)=>{let a=[];return Ze(pr(t),u=>{r(u)&&(a=a.concat([u])),a=a.concat(qe(u,r))}),a},St=(t,r,a)=>ae(t,u=>dr(u,r),a),cn=(t,r)=>fr(r,t),ao=(t,r,a)=>Vh(t,r,a).isSome(),Go=(t,r)=>zS(t,r).isSome(),zs=(t,r)=>Vv(t,r).isSome(),Ss=(t,r)=>ao(t,st(_o,r)),Vi=(t,r,a)=>qa(t,r,a).isSome(),da=t=>we(t)?t:qt,Za=(t,r,a)=>{let u=t.dom;const f=da(a);for(;u.parentNode;){u=u.parentNode;const y=Qe.fromDom(u),T=r(y);if(T.isSome())return T;if(f(y))break}return Se.none()},Lu=(t,r,a)=>{const u=r(t),f=da(a);return u.orThunk(()=>f(t)?Se.none():Za(t,r,f))},Wp=t=>sp(t).filter(r=>r.trim().length!==0||r.indexOf(ki)>-1).isSome(),Gp=t=>Mh(t)&&ra(t,"contenteditable")==="false",ru=["img","br"],f1=t=>Wp(t)||kt(ru,Ns(t))||Gp(t),Pm=t=>Vv(t,f1),Nm={create:(t,r,a,u)=>({start:t,soffset:r,finish:a,foffset:u})},Mg=Fl.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),s0=(t,r,a,u)=>t.fold(r,a,u),Ml=t=>t.fold(Mt,Mt,Mt),NE=Mg.before,LE=Mg.on,Nr=Mg.after,_i={before:NE,on:LE,after:Nr,cata:s0,getStart:Ml},Ka=Fl.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),rd=t=>Ka.exact(t.start,t.soffset,t.finish,t.foffset),Ya=t=>t.match({domRange:r=>Qe.fromDom(r.startContainer),relative:(r,a)=>_i.getStart(r),exact:(r,a,u,f)=>r}),ey=Ka.domRange,ty=Ka.relative,ny=Ka.exact,BE=t=>{const r=Ya(t);return Ph(r)},vl=Nm.create,Lm={domRange:ey,relative:ty,exact:ny,exactFromRange:rd,getWin:BE,range:vl},oy=(t,r,a)=>Se.from(t.caretPositionFromPoint?.(r,a)).bind(u=>{if(u.offsetNode===null)return Se.none();const f=t.createRange();return f.setStart(u.offsetNode,u.offset),f.collapse(),Se.some(f)}),VE=(t,r,a)=>Se.from(t.caretRangeFromPoint?.(r,a)),jr=(t,r,a)=>t.caretPositionFromPoint?oy(t,r,a):t.caretRangeFromPoint?VE(t,r,a):Se.none(),Pl=(t,r,a)=>{const u=t.document;return jr(u,r,a).map(f=>Nm.create(Qe.fromDom(f.startContainer),f.startOffset,Qe.fromDom(f.endContainer),f.endOffset))},ip=(t,r)=>{const a=Ns(t);return a==="input"?_i.after(t):kt(["br","img"],a)?r===0?_i.before(t):_i.after(t):_i.on(t,r)},Vd=(t,r)=>{const a=t.fold(_i.before,ip,_i.after),u=r.fold(_i.before,ip,_i.after);return Lm.relative(a,u)},id=(t,r,a,u)=>{const f=ip(t,r),y=ip(a,u);return Lm.relative(f,y)},Bu=t=>t.match({domRange:r=>{const a=Qe.fromDom(r.startContainer),u=Qe.fromDom(r.endContainer);return id(a,r.startOffset,u,r.endOffset)},relative:Vd,exact:id}),FE=t=>{const r=Lm.getWin(t).dom,a=(f,y,T,M)=>nu(r,f,y,T,M),u=Bu(t);return On(r,u).match({ltr:a,rtl:a})},Pg=(t,r,a)=>Pl(t,r,a),jS=t=>{const r=t===void 0?window:t;return Dd().browser.isFirefox()?Se.none():Se.from(r.visualViewport)},Fd=(t,r,a,u)=>({x:t,y:r,width:a,height:u,right:t+a,bottom:r+u}),HE=t=>{const r=t===void 0?window:t,a=r.document,u=d1(Qe.fromDom(a));return jS(r).fold(()=>{const f=r.document.documentElement,y=f.clientWidth,T=f.clientHeight;return Fd(u.left,u.top,y,T)},f=>Fd(Math.max(f.pageLeft,u.left),Math.max(f.pageTop,u.top),f.width,f.height))};class Zi{rootNode;node;constructor(r,a){this.node=r,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(r){return this.node=this.findSibling(this.node,"firstChild","nextSibling",r),this.node}prev(r){return this.node=this.findSibling(this.node,"lastChild","previousSibling",r),this.node}prev2(r){return this.node=this.findPreviousNode(this.node,r),this.node}findSibling(r,a,u,f){if(r){if(!f&&r[a])return r[a];if(r!==this.rootNode){let y=r[u];if(y)return y;for(let T=r.parentNode;T&&T!==this.rootNode;T=T.parentNode)if(y=T[u],y)return y}}}findPreviousNode(r,a){if(r){const u=r.previousSibling;if(this.rootNode&&u===this.rootNode)return;if(u){if(!a){for(let y=u.lastChild;y;y=y.lastChild)if(!y.lastChild)return y}return u}const f=r.parentNode;if(f&&f!==this.rootNode)return f}}}const Ng=/^[ \t\r\n]*$/,Lg=t=>Ng.test(t),ZO=t=>{for(const r of t)if(!$l(r))return!1;return!0},WS=t=>" \f	\v".indexOf(t)!==-1,GS=t=>t===`
`||t==="\r",KO=(t,r)=>r<t.length&&r>=0?GS(t[r]):!1,qp=(t,r=4,a=!0,u=!0)=>{const f=Pc(" ",r),y=t.replace(/\t/g,f);return rn(y,(M,N)=>WS(N)||N===ki?M.pcIsSpace||M.str===""&&a||M.str.length===y.length-1&&u||KO(y,M.str.length+1)?{pcIsSpace:!1,str:M.str+ki}:{pcIsSpace:!0,str:M.str+" "}:{pcIsSpace:GS(N),str:M.str+N},{pcIsSpace:!1,str:""}).str},Bm=t=>r=>!!r&&r.nodeType===t,Bg=t=>!!t&&!Object.getPrototypeOf(t),Oo=Bm(1),ha=t=>Oo(t)&&Mh(Qe.fromDom(t)),r0=t=>Oo(t)&&t.namespaceURI==="http://www.w3.org/2000/svg",sy=t=>{const r=t.toLowerCase();return a=>De(a)&&a.nodeName.toLowerCase()===r},Oc=t=>{const r=t.map(a=>a.toLowerCase());return a=>{if(a&&a.nodeName){const u=a.nodeName.toLowerCase();return kt(r,u)}return!1}},Hv=(t,r)=>{const a=r.toLowerCase().split(" ");return u=>{if(Oo(u)){const f=u.ownerDocument.defaultView;if(f)for(let y=0;y<a.length;y++){const T=f.getComputedStyle(u,null);if((T?T.getPropertyValue(t):null)===a[y])return!0}}return!1}},AA=t=>r=>Oo(r)&&r.hasAttribute(t),Vg=t=>Oo(t)&&t.hasAttribute("data-mce-bogus"),TA=t=>Oo(t)&&t.getAttribute("data-mce-bogus")==="all",ap=t=>Oo(t)&&t.tagName==="TABLE",Vm=t=>r=>!!(ha(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t)),$E=Oc(["textarea","input"]),Bn=Bm(3),Fg=Bm(4),ry=Bm(7),Ba=Bm(8),yr=Bm(9),$v=Bm(11),fa=sy("br"),p1=sy("img"),pf=sy("a"),iu=Vm("true"),si=Vm("false"),Zp=t=>ha(t)&&t.isContentEditable&&De(t.parentElement)&&!t.parentElement.isContentEditable,Kp=Oc(["td","th"]),UE=Oc(["td","th","caption"]),qS=sy("template"),Hh=Oc(["video","audio","object","embed"]),Fm=sy("li"),i0=sy("details"),Fi=sy("summary"),xA={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},zE=(t,r,a)=>{const u=Qe.fromDom(r),f=Qe.fromDom(t),y=a.getWhitespaceElements();return ao(f,M=>ts(y,Ns(M)),st(_o,u))},jE=t=>Oo(t)&&t.nodeName==="A"&&!t.hasAttribute("href")&&(t.hasAttribute("name")||t.hasAttribute("id")),iy=(t,r)=>Oo(t)&&ts(r.getNonEmptyElements(),t.nodeName),ZS=AA("data-mce-bookmark"),KS=t=>Ru(Qe.fromDom(t)).exists(r=>!Nu(r)),Hm=(t,r,a)=>Lg(t.data)&&!zE(t,r,a),m1=(t,r,a,u)=>Bn(t)&&!Hm(t,r,a)&&(!u.includeZwsp||!ZO(t.data)),ad=(t,r,a,u)=>we(u.isContent)&&u.isContent(r)||iy(r,t)||ZS(r)||jE(r)||m1(r,a,t,u)||si(r)||iu(r)&&KS(r),mf=(t,r,a)=>{const u={...xA,...a};if(u.checkRootAsContent&&ad(t,r,r,u))return!1;let f=r.firstChild,y=0;if(!f)return!0;const T=new Zi(f,r);do{if(u.skipBogus&&Oo(f)){const M=f.getAttribute("data-mce-bogus");if(M){f=T.next(M==="all");continue}}if(Ba(f)){f=T.next(!0);continue}if(fa(f)){y++,f=T.next();continue}if(ad(t,f,r,u))return!1;f=T.next()}while(f);return y<=1},Vu=(t,r,a)=>mf(t,r.dom,{checkRootAsContent:!0,...a}),ch=(t,r,a)=>ad(t,r,r,{includeZwsp:xA.includeZwsp,...a}),vs=t=>{const r=t.toLowerCase();return r==="svg"?"svg":r==="math"?"math":"html"},ld=t=>vs(t)!=="html",ay=t=>ld(t.nodeName),Hg=t=>vs(t.nodeName),YO=["svg","math"],YS=()=>{const t=_c(),r=()=>t.get().map(Hg).getOr("html");return{track:f=>(ay(f)?t.set(f):t.get().exists(y=>!y.contains(f))&&t.clear(),r()),current:r,reset:()=>{t.clear()}}},lp="data-mce-block",$m=t=>je(Zt(t),r=>!/[A-Z]/.test(r)),a0=t=>mn($m(t),r=>{const a=CSS.escape(r);return`${a}:`+mn(YO,u=>`not(${u} ${a})`).join(":")}).join(","),Um=(t,r)=>De(r.querySelector(t))?(r.setAttribute(lp,"true"),r.getAttribute("data-mce-selected")==="inline-boundary"&&r.removeAttribute("data-mce-selected"),!0):(r.removeAttribute(lp),!1),WE=(t,r)=>{const a=a0(t.getTransparentElements()),u=a0(t.getBlockElements());return je(r.querySelectorAll(a),f=>Um(u,f))},GE=(t,r,a)=>{const u=a?"lastChild":"firstChild";for(let f=r[u];f;f=f[u])if(mf(t,f,{checkRootAsContent:!0})){f.parentNode?.removeChild(f);return}},ka=(t,r,a)=>{const u=document.createRange(),f=r.parentNode;if(f){u.setStartBefore(r),u.setEndBefore(a);const y=u.extractContents();GE(t,y,!0),u.setStartAfter(a),u.setEndAfter(r);const T=u.extractContents();GE(t,T,!1),mf(t,y,{checkRootAsContent:!0})||f.insertBefore(y,r),mf(t,a,{checkRootAsContent:!0})||f.insertBefore(a,r),mf(t,T,{checkRootAsContent:!0})||f.insertBefore(T,r),f.removeChild(r)}},cp=(t,r,a)=>{const u=t.getBlockElements(),f=Qe.fromDom(r),y=M=>Ns(M)in u,T=M=>_o(M,f);Ze(lh(a),M=>{Vh(M,y,T).each(N=>{const G=Ie(M,le=>y(le)&&!t.isValidChild(Ns(N),Ns(le)));if(G.length>0){const le=Ru(N);Ze(G,fe=>{Vh(fe,y,T).each(be=>{ka(t,be.dom,fe.dom)})}),le.each(fe=>WE(t,fe.dom))}})})},cd=(t,r,a)=>{Ze([...a,...xn(t,r)?[r]:[]],u=>Ze(cn(Qe.fromDom(u),u.nodeName.toLowerCase()),f=>{Fu(t,f.dom)&&Mu(f)}))},up=(t,r)=>{const a=WE(t,r);cp(t,r,a),cd(t,r,a)},ud=(t,r)=>{if(Uv(t,r)){const a=a0(t.getBlockElements());Um(a,r)}},ly=(t,r,a)=>{const u=y=>_o(y,Qe.fromDom(r)),f=Nc(Qe.fromDom(a),u);bt(f,f.length-2).filter(na).fold(()=>up(t,r),y=>up(t,y.dom))},yc=t=>t.hasAttribute(lp),Bc=(t,r)=>ts(t.getTransparentElements(),r),Uv=(t,r)=>Oo(r)&&Bc(t,r.nodeName),xn=(t,r)=>Uv(t,r)&&yc(r),Fu=(t,r)=>Uv(t,r)&&!yc(r),l0=(t,r)=>r.type===1&&Bc(t,r.name)&&re(r.attr(lp)),oc=Dd().browser,gf=t=>_t(t,na),$h=t=>oc.isFirefox()&&Ns(t)==="table"?gf(pr(t)).filter(r=>Ns(r)==="caption").bind(r=>gf(oa(r)).map(a=>{const u=a.dom.offsetTop,f=r.dom.offsetTop,y=r.dom.offsetHeight;return u<=f?-y:0})).getOr(0):0,c0=(t,r)=>t.children&&kt(t.children,r),zm=(t,r,a)=>{let u=0,f=0;const y=t.ownerDocument;if(a=a||t,r){if(a===t&&r.getBoundingClientRect&&La(Qe.fromDom(t),"position")==="static"){const M=r.getBoundingClientRect();return u=M.left+(y.documentElement.scrollLeft||t.scrollLeft)-y.documentElement.clientLeft,f=M.top+(y.documentElement.scrollTop||t.scrollTop)-y.documentElement.clientTop,{x:u,y:f}}let T=r;for(;T&&T!==a&&T.nodeType&&!c0(T,a);){const M=T;u+=M.offsetLeft||0,f+=M.offsetTop||0,T=M.offsetParent}for(T=r.parentNode;T&&T!==a&&T.nodeType&&!c0(T,a);)u-=T.scrollLeft||0,f-=T.scrollTop||0,T=T.parentNode;f+=$h(Qe.fromDom(r))}return{x:u,y:f}},OA=(t,r)=>{const a=r.crossOrigin;return r.contentCssCors?"anonymous":we(a)?a(t):void 0},Hd=(t,r={})=>{let a=0;const u={},f=Qe.fromDom(t),y=ou(f),T=Tt=>{r.referrerPolicy=Tt},M=Tt=>{r.contentCssCors=Tt},N=Tt=>{r.crossOrigin=Tt},G=Tt=>{$r(Yy(f),Tt)},le=Tt=>{const It=Yy(f);Fh(It,"#"+Tt).each(Di)},fe=Tt=>sr(u,Tt).getOrThunk(()=>({id:"mce-u"+a++,passed:[],failed:[],count:0})),be=Tt=>new Promise((It,fn)=>{let Mn;const mo=Un._addCacheSuffix(Tt),Wn=fe(mo);u[mo]=Wn,Wn.count++;const gn=(hr,Mr)=>{Ze(hr,ho),Wn.status=Mr,Wn.passed=[],Wn.failed=[],Mn&&(Mn.onload=null,Mn.onerror=null,Mn=null)},hn=()=>gn(Wn.passed,2),Pn=()=>gn(Wn.failed,3);if(It&&Wn.passed.push(It),fn&&Wn.failed.push(fn),Wn.status===1)return;if(Wn.status===2){hn();return}if(Wn.status===3){Pn();return}Wn.status=1;const Lo=Qe.fromTag("link",y.dom);Ra(Lo,{rel:"stylesheet",type:"text/css",id:Wn.id});const Os=OA(Tt,r);Os!==void 0&&ca(Lo,"crossOrigin",Os),r.referrerPolicy&&ca(Lo,"referrerpolicy",r.referrerPolicy),Mn=Lo.dom,Mn.onload=hn,Mn.onerror=Pn,G(Lo),ca(Lo,"href",mo)}),Ne=(Tt,It)=>{const fn=fe(Tt);u[Tt]=fn,fn.count++;const Mn=Qe.fromTag("style",y.dom);Ra(Mn,{rel:"stylesheet",type:"text/css",id:fn.id,"data-mce-key":Tt}),Mn.dom.innerHTML=It,G(Mn)},Ke=Tt=>Promise.allSettled(mn(Tt,fn=>be(fn).then(nt(fn)))).then(fn=>{const Mn=Dt(fn,mo=>mo.status==="fulfilled");return Mn.fail.length>0?Promise.reject(mn(Mn.fail,mo=>mo.reason)):mn(Mn.pass,mo=>mo.value)}),$e=Tt=>{const It=Un._addCacheSuffix(Tt);sr(u,It).each(fn=>{--fn.count===0&&(delete u[It],le(fn.id))})};return{load:be,loadRawCss:Ne,loadAll:Ke,unload:$e,unloadRawCss:Tt=>{sr(u,Tt).each(It=>{--It.count===0&&(delete u[Tt],le(It.id))})},unloadAll:Tt=>{Ze(Tt,It=>{$e(It)})},_setReferrerPolicy:T,_setContentCssCors:M,_setCrossOrigin:N}},Hu=(()=>{const t=new WeakMap;return{forElement:(a,u)=>{const y=nc(a).dom;return Se.from(t.get(y)).getOrThunk(()=>{const T=Hd(y,u);return t.set(y,T),T})}}})(),cy=t=>t.nodeName.toLowerCase()==="span",il=(t,r)=>De(t)&&(ch(r,t)||r.isInline(t.nodeName.toLowerCase())),IA=(t,r,a)=>{const u=new Zi(t,r).prev(!1),f=new Zi(t,r).next(!1),y=ot(u)||il(u,a),T=ot(f)||il(f,a);return y&&T},XS=t=>cy(t)&&t.getAttribute("data-mce-type")==="bookmark",Yp=(t,r,a)=>Bn(t)&&t.data.length>0&&IA(t,r,a),qE=t=>Oo(t)?t.childNodes.length>0:!1,uh=t=>$v(t)||yr(t),ZE=(t,r,a,u)=>{const f=u||r;if(Oo(r)&&XS(r))return r;const y=r.childNodes;for(let T=y.length-1;T>=0;T--)ZE(t,y[T],a,f);if(Oo(r)){const T=r.childNodes;T.length===1&&XS(T[0])&&r.parentNode?.insertBefore(T[0],r)}return!uh(r)&&!ch(a,r)&&!qE(r)&&!Yp(r,f,a)&&t.remove(r),r},Wt=Un.makeMap,dd=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u0=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Va=/[<>&\"\']/g,dh=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Vc={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},ci={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},JS={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},zv=t=>{const r=Qe.fromTag("div").dom;return r.innerHTML=t,r.textContent||r.innerText||t},KE=(t,r)=>{const a={};if(t){const u=t.split(",");r=r||10;for(let f=0;f<u.length;f+=2){const y=String.fromCharCode(parseInt(u[f],r));if(!ci[y]){const T="&"+u[f+1]+";";a[y]=T,a[T]=y}}return a}else return},jv=KE("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),$g=(t,r)=>t.replace(r?dd:u0,a=>ci[a]||a),QS=t=>(""+t).replace(Va,r=>ci[r]||r),YE=(t,r)=>t.replace(r?dd:u0,a=>a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":ci[a]||"&#"+a.charCodeAt(0)+";"),Ug=(t,r,a)=>{const u=a||jv;return t.replace(r?dd:u0,f=>ci[f]||u[f]||f)},Gv={encodeRaw:$g,encodeAllRaw:QS,encodeNumeric:YE,encodeNamed:Ug,getEncodeFunc:(t,r)=>{const a=KE(r)||jv,u=(T,M)=>T.replace(M?dd:u0,N=>ci[N]!==void 0?ci[N]:a[N]!==void 0?a[N]:N.length>1?"&#"+((N.charCodeAt(0)-55296)*1024+(N.charCodeAt(1)-56320)+65536)+";":"&#"+N.charCodeAt(0)+";"),f=(T,M)=>Ug(T,M,a),y=Wt(t.replace(/\+/g,","));return y.named&&y.numeric?u:y.named?r?f:Ug:y.numeric?YE:$g},decode:t=>t.replace(dh,(r,a)=>a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):Vc[a]||String.fromCharCode(a)):JS[r]||jv[r]||zv(r))},Fc=(t,r)=>(t=Un.trim(t),t?t.split(r||" "):[]),sc=t=>new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$"),zg=t=>ye(t)&&t.source&&Object.prototype.toString.call(t)==="[object RegExp]",jg=t=>{const r=a=>Oe(a)?mn(a,r):zg(a)?new RegExp(a.source,a.flags):ye(a)?jo(a,r):a;return r(t)},Wg=t=>{const r=/^(~)?(.+)$/;return Io(Fc(t,","),a=>{const u=r.exec(a);if(u){const y=u[1]==="~"?"span":"div",T=u[2];return[{cloneName:y,name:T}]}else return[]})},d0=t=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...t!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...t!=="html5-strict"?["xml:lang"]:[]]),hd=t=>{let r,a;r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",a="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",t!=="html4"&&(r+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",a+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),t!=="html5-strict"&&(a=[a,"acronym applet basefont big font strike tt"].join(" "),r=[r,"center dir isindex noframes"].join(" "));const u=[r,a].join(" ");return{blockContent:r,phrasingContent:a,flowContent:u}},qv=t=>{const{blockContent:r,phrasingContent:a,flowContent:u}=hd(t),f=y=>Object.freeze(y.split(" "));return Object.freeze({blockContent:f(r),phrasingContent:f(a),flowContent:f(u)})},_l={html4:Il(()=>qv("html4")),html5:Il(()=>qv("html5")),"html5-strict":Il(()=>qv("html5-strict"))},uy=(t,r)=>{const{blockContent:a,phrasingContent:u,flowContent:f}=_l[t]();return r==="blocks"?Se.some(a):r==="phrasing"?Se.some(u):r==="flow"?Se.some(f):Se.none()},vf=t=>{const r=d0(t),{phrasingContent:a,flowContent:u}=hd(t),f={},y=(N,G,le)=>{f[N]={attributes:Zs(G,nt({})),attributesOrder:G,children:Zs(le,nt({}))}},T=(N,G="",le="")=>{const fe=Fc(le),be=Fc(N);let Ne=be.length;const Ke=[...r,...Fc(G)];for(;Ne--;)y(be[Ne],Ke.slice(),fe)},M=(N,G)=>{const le=Fc(N),fe=Fc(G);let be=le.length;for(;be--;){const Ne=f[le[be]];for(let Ke=0,$e=fe.length;Ke<$e;Ke++)Ne.attributes[fe[Ke]]={},Ne.attributesOrder.push(fe[Ke])}};return t!=="html5-strict"&&(Ze(Fc("acronym applet basefont big font strike tt"),le=>{T(le,"",a)}),Ze(Fc("center dir isindex noframes"),le=>{T(le,"",u)})),T("html","manifest","head body"),T("head","","base command link meta noscript script style title"),T("title hr noscript br"),T("base","href target"),T("link","href rel media hreflang type sizes hreflang"),T("meta","name http-equiv content charset property"),T("style","media type scoped"),T("script","src async defer type charset"),T("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",u),T("dd div","",u),T("address dt caption","",t==="html4"?a:u),T("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a),T("blockquote","cite",u),T("ol","reversed start type","li"),T("ul","","li"),T("li","value",u),T("dl","","dt dd"),T("a","href target rel media hreflang type",t==="html4"?a:u),T("q","cite",a),T("ins del","cite datetime",u),T("img","src sizes srcset alt usemap ismap width height"),T("iframe","src name width height",u),T("embed","src type width height"),T("object","data type typemustmatch name usemap form width height",[u,"param"].join(" ")),T("param","name value"),T("map","name",[u,"area"].join(" ")),T("area","alt coords shape href target rel media hreflang type"),T("table","border","caption colgroup thead tfoot tbody tr"+(t==="html4"?" col":"")),T("colgroup","span","col"),T("col","span"),T("tbody thead tfoot","","tr"),T("tr","","td th"),T("td","colspan rowspan headers",u),T("th","colspan rowspan headers scope abbr",u),T("form","accept-charset action autocomplete enctype method name novalidate target",u),T("fieldset","disabled form name",[u,"legend"].join(" ")),T("label","form for",a),T("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),T("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",t==="html4"?u:a),T("select","disabled form multiple name required size","option optgroup"),T("optgroup","disabled label","option"),T("option","disabled label selected value"),T("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),T("menu","type label",[u,"li"].join(" ")),T("noscript","",u),t!=="html4"&&(T("wbr"),T("ruby","",[a,"rt rp"].join(" ")),T("figcaption","",u),T("mark rt rp bdi","",a),T("summary","",[a,"h1 h2 h3 h4 h5 h6"].join(" ")),T("canvas","width height",u),T("data","value",a),T("video","src crossorigin poster preload autoplay mediagroup loop controlslist disablepictureinpicture disableremoteplayback playsinline muted controls width height buffered",[u,"track source"].join(" ")),T("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[u,"track source"].join(" ")),T("picture","","img source"),T("source","src srcset type media sizes"),T("track","kind src srclang label default"),T("datalist","",[a,"option"].join(" ")),T("article section nav aside main header footer","",u),T("hgroup","","h1 h2 h3 h4 h5 h6"),T("figure","",[u,"figcaption"].join(" ")),T("time","datetime",a),T("dialog","open",u),T("command","type label icon disabled checked radiogroup command"),T("output","for form name",a),T("progress","value max",a),T("meter","value min max low high optimum",a),T("details","open",[u,"summary"].join(" ")),T("keygen","autofocus challenge disabled form keytype name"),y("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),t!=="html5-strict"&&(M("script","language xml:space"),M("style","xml:space"),M("object","declare classid code codebase codetype archive standby align border hspace vspace"),M("embed","align name hspace vspace"),M("param","valuetype type"),M("a","charset name rev shape coords"),M("br","clear"),M("applet","codebase archive code object alt name width height align hspace vspace"),M("img","name longdesc align border hspace vspace"),M("iframe","longdesc frameborder marginwidth marginheight scrolling align"),M("font basefont","size color face"),M("input","usemap align"),M("select"),M("textarea"),M("h1 h2 h3 h4 h5 h6 div p legend caption","align"),M("ul","type compact"),M("li","type"),M("ol dl menu dir","compact"),M("pre","width xml:space"),M("hr","align noshade size width"),M("isindex","prompt"),M("table","summary width frame rules cellspacing cellpadding align bgcolor"),M("col","width align char charoff valign"),M("colgroup","width align char charoff valign"),M("thead","align char charoff valign"),M("tr","align char charoff valign bgcolor"),M("th","axis align char charoff valign nowrap bgcolor width height"),M("form","accept"),M("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),M("tfoot","align char charoff valign"),M("tbody","align char charoff valign"),M("area","nohref"),M("body","background bgcolor text link vlink alink")),t!=="html4"&&(M("input button select textarea","autofocus"),M("input textarea","placeholder"),M("a","download"),M("link script img","crossorigin"),M("img","loading"),M("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),t!=="html4"&&Ze([f.video,f.audio],N=>{delete N.children.audio,delete N.children.video}),Ze(Fc("a form meter progress dfn"),N=>{f[N]&&delete f[N].children[N]}),delete f.caption.children.table,delete f.script,f},bf=t=>t==="-"?"remove":"add",g1=t=>{const r=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return Se.from(r.exec(t)).map(a=>({preset:a[1]==="@",name:a[2]}))},rc=t=>{const r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Io(Fc(t,","),a=>{const u=r.exec(a);if(u){const f=u[1],y=f?bf(f):"replace",T=u[2],M=Io(Fc(u[3],"|"),N=>g1(N).toArray());return[{operation:y,name:T,validChildren:M}]}else return[]})},Gg=(t,r)=>{const a=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,u=/[*?+]/,{attributes:f,attributesOrder:y}=r;return Ze(Fc(t,"|"),T=>{const M=a.exec(T);if(M){const N={},G=M[1],le=M[2].replace(/[\\:]:/g,":"),fe=M[3],be=M[4];if(G==="!"&&(r.attributesRequired=r.attributesRequired||[],r.attributesRequired.push(le),N.required=!0),G==="-"){delete f[le],y.splice(Un.inArray(y,le),1);return}if(fe&&(fe==="="?(r.attributesDefault=r.attributesDefault||[],r.attributesDefault.push({name:le,value:be}),N.defaultValue=be):fe==="~"?(r.attributesForced=r.attributesForced||[],r.attributesForced.push({name:le,value:be}),N.forcedValue=be):fe==="<"&&(N.validValues=Un.makeMap(be,"?"))),u.test(le)){const Ne=N;r.attributePatterns=r.attributePatterns||[],Ne.pattern=sc(le),r.attributePatterns.push(Ne)}else f[le]||y.push(le),f[le]=N}})},Xp=(t,r)=>{eo(t.attributes,(a,u)=>{r.attributes[u]=a}),r.attributesOrder.push(...t.attributesOrder)},Jp=(t,r)=>{const a=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Io(Fc(r,","),u=>{const f=a.exec(u);if(f){const y=f[1],T=f[2],M=f[3],N=f[4],G=f[5],le={attributes:{},attributesOrder:[]};if(t.each(fe=>Xp(fe,le)),y==="#"?le.paddEmpty=!0:y==="-"&&(le.removeEmpty=!0),N==="!"&&(le.removeEmptyAttrs=!0),G&&Gg(G,le),M&&(le.outputName=T),T==="@")if(t.isNone())t=Se.some(le);else return[];return[M?{name:T,element:le,aliasName:M}:{name:T,element:le}]}else return[]})},jm={},Zv=Un.makeMap,fd=Un.each,dy=Un.extend,kA=Un.explode,Ca=(t,r={})=>{const a=Zv(t," ",Zv(t.toUpperCase()," "));return dy(a,r)},XE=t=>Ca("td th li dt dd figcaption caption details summary",t.getTextBlockElements()),dp=(t,r)=>{if(t){const a={};return re(t)&&(t={"*":t}),fd(t,(u,f)=>{a[f]=a[f.toUpperCase()]=r==="map"?Zv(u,/[, ]/):kA(u,/[, ]/)}),a}else return},yf=(t={})=>{const r={},a={};let u=[];const f={},y={},T={},M=(Ms,qr,lc)=>{const Ma=t[Ms];if(Ma)return Zv(Ma,/[, ]/,Zv(Ma.toUpperCase(),/[, ]/));{let Yi=jm[Ms];return Yi||(Yi=Ca(qr,lc),jm[Ms]=Yi),Yi}},N=t.schema??"html5",G=vf(N);t.verify_html===!1&&(t.valid_elements="*[*]");const le=dp(t.valid_styles),fe=dp(t.invalid_styles,"map"),be=dp(t.valid_classes,"map"),Ne=M("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Ke=M("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),$e=M("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Xe=M("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),wt="td th iframe video audio object script code",Tt=M("non_empty_elements",wt+" pre svg textarea summary",$e),It=M("move_caret_before_on_enter_elements",wt+" table",$e),fn="h1 h2 h3 h4 h5 h6",Mn=M("text_block_elements",fn+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),mo=M("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",Mn),Wn=M("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),gn=M("transparent_elements","a ins del canvas map"),hn=M("wrap_block_elements","pre "+fn);fd("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Ms=>{y[Ms]=new RegExp("</"+Ms+"[^>]*>","gi")});const Pn=Ms=>{const qr=Se.from(r["@"]),lc=/[*?+]/;Ze(Jp(qr,Ms??""),({name:Ma,element:Yi,aliasName:Zl})=>{if(Zl&&(r[Zl]=Yi),lc.test(Ma)){const vm=Yi;vm.pattern=sc(Ma),u.push(vm)}else r[Ma]=Yi})},Lo=Ms=>{u=[],Ze(Zt(r),qr=>{delete r[qr]}),Pn(Ms)},Os=(Ms,qr)=>{delete jm.text_block_elements,delete jm.block_elements;const lc=qr.extends?!xp(qr.extends):!1,Ma=qr.extends;if(a[Ms]=Ma?a[Ma]:{},f[Ms]=Ma??Ms,Tt[Ms.toUpperCase()]={},Tt[Ms]={},lc||(mo[Ms.toUpperCase()]={},mo[Ms]={}),Ma&&!r[Ms]&&r[Ma]){const Yi=jg(r[Ma]);delete Yi.removeEmptyAttrs,delete Yi.removeEmpty,r[Ms]=Yi}else r[Ms]={attributesOrder:[],attributes:{}};if(Oe(qr.attributes)){const Yi=vm=>{Zl.attributesOrder.push(vm),Zl.attributes[vm]={}},Zl=r[Ms]??{};delete Zl.attributesDefault,delete Zl.attributesForced,delete Zl.attributePatterns,delete Zl.attributesRequired,Zl.attributesOrder=[],Zl.attributes={},Ze(qr.attributes,vm=>{const Mf=d0(N);g1(vm).each(({preset:yv,name:uS})=>{yv?uS==="global"&&Ze(Mf,Yi):Yi(uS)})}),r[Ms]=Zl}if(Me(qr.padEmpty)){const Yi=r[Ms]??{};Yi.paddEmpty=qr.padEmpty,r[Ms]=Yi}if(Oe(qr.children)){const Yi={},Zl=Mf=>{Yi[Mf]={}},vm=Mf=>{uy(N,Mf).each(yv=>{Ze(yv,Zl)})};Ze(qr.children,Mf=>{g1(Mf).each(({preset:yv,name:uS})=>{yv?vm(uS):Zl(uS)})}),a[Ms]=Yi}Ma&&eo(a,(Yi,Zl)=>{Yi[Ma]&&(a[Zl]=Yi=dy({},a[Zl]),Yi[Ms]=Yi[Ma])})},hr=Ms=>{Ze(Wg(Ms??""),({name:qr,cloneName:lc})=>{Os(qr,{extends:lc})})},Mr=(Ms,qr)=>{T[Ms]=qr},va=Ms=>{ye(Ms)?eo(Ms,(qr,lc)=>{const Ma=qr.componentUrl;re(Ma)&&Mr(lc,Ma),Os(lc,qr)}):re(Ms)&&hr(Ms)},xa=Ms=>{Ze(rc(Ms??""),({operation:qr,name:lc,validChildren:Ma})=>{const Yi=qr==="replace"?{"#comment":{}}:a[lc],Zl=Mf=>{qr==="remove"?delete Yi[Mf]:Yi[Mf]={}},vm=Mf=>{uy(N,Mf).each(yv=>{Ze(yv,Zl)})};Ze(Ma,({preset:Mf,name:yv})=>{Mf?vm(yv):Zl(yv)}),a[lc]=Yi})},Cc=Ms=>{const qr=r[Ms];if(qr)return qr;let lc=u.length;for(;lc--;){const Ma=u[lc];if(Ma.pattern.test(Ms))return Ma}},Gc=()=>{t.valid_elements?(Lo(t.valid_elements),fd(G,(Ms,qr)=>{a[qr]=Ms.children})):(fd(G,(Ms,qr)=>{r[qr]={attributes:Ms.attributes,attributesOrder:Ms.attributesOrder},a[qr]=Ms.children}),fd(Fc("strong/b em/i"),Ms=>{const qr=Fc(Ms,"/");r[qr[1]].outputName=qr[0]}),fd(Wn,(Ms,qr)=>{r[qr]&&(t.padd_empty_block_inline_children&&(r[qr].paddInEmptyBlock=!0),r[qr].removeEmpty=!0)}),fd(Fc("ol ul blockquote a table tbody"),Ms=>{r[Ms]&&(r[Ms].removeEmpty=!0)}),fd(Fc("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Ms=>{r[Ms]&&(r[Ms].paddEmpty=!0)}),fd(Fc("span"),Ms=>{r[Ms].removeEmptyAttrs=!0})),delete r.svg,va(t.custom_elements),xa(t.valid_children),Pn(t.extended_valid_elements),xa("+ol[ul|ol],+ul[ul|ol]"),fd({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Ms,qr)=>{r[qr]&&(r[qr].parentsRequired=Fc(Ms))}),t.invalid_elements&&fd(kA(t.invalid_elements),Ms=>{r[Ms]&&delete r[Ms]}),Cc("span")||Pn("span[!data-mce-type|*]")},vv=nt(le),Co=nt(fe),hs=nt(be),Pi=nt(Xe),Ii=nt(mo),os=nt(Mn),Xn=nt(Wn),vo=nt(Object.seal($e)),Rs=nt(Ke),Xs=nt(Tt),Gi=nt(It),Oa=nt(Ne),bv=nt(gn),mm=nt(hn),My=nt(Object.seal(y)),Py=(Ms,qr)=>{const lc=a[Ms.toLowerCase()];return!!(lc&&lc[qr.toLowerCase()])},gm=(Ms,qr)=>{const lc=Cc(Ms);if(lc)if(qr){if(lc.attributes[qr])return!0;const Ma=lc.attributePatterns;if(Ma){let Yi=Ma.length;for(;Yi--;)if(Ma[Yi].pattern.test(qr))return!0}}else return!0;return!1},xp=Ms=>ts(Ii(),Ms),wb=Ms=>!ms(Ms,"#")&&gm(Ms)&&!xp(Ms),Px=Ms=>ts(mm(),Ms)||wb(Ms),Nx=nt(f),OL=nt(T);return Gc(),{type:N,children:a,elements:r,getValidStyles:vv,getValidClasses:hs,getBlockElements:Ii,getInvalidStyles:Co,getVoidElements:vo,getTextBlockElements:os,getTextInlineElements:Xn,getBoolAttrs:Pi,getElementRule:Cc,getSelfClosingElements:Rs,getNonEmptyElements:Xs,getMoveCaretBeforeOnEnterElements:Gi,getWhitespaceElements:Oa,getTransparentElements:bv,getSpecialElements:My,getComponentUrls:OL,isValidChild:Py,isValid:gm,isBlock:xp,isInline:wb,isWrapper:Px,getCustomElements:Nx,addValidElements:Pn,setValidElements:Lo,addCustomElements:va,addValidChildren:xa}},Wm=t=>({value:Qp(t)}),Qp=t=>Oh(t,"#").toUpperCase(),au=t=>{const r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},hy=t=>{const r=au(t.red)+au(t.green)+au(t.blue);return Wm(r)},em=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,JE=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,v1=(t,r,a,u)=>({red:t,green:r,blue:a,alpha:u}),fy=(t,r,a,u)=>{const f=parseInt(t,10),y=parseInt(r,10),T=parseInt(a,10),M=parseFloat(u);return v1(f,y,T,M)},eC=t=>em.test(t)?"rgb":JE.test(t)?"rgba":"other",tC=t=>{const r=em.exec(t);if(r!==null)return Se.some(fy(r[1],r[2],r[3],"1"));const a=JE.exec(t);return a!==null?Se.some(fy(a[1],a[2],a[3],a[4])):Se.none()},DA=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,py=t=>tC(t).map(hy).map(r=>"#"+r.value).getOr(t),my=(t={},r)=>{const a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,f=/\s+$/,y={};let T,M;const N=pc;r&&(T=r.getValidStyles(),M=r.getInvalidStyles());const G=(`\\" \\' \\; \\: ; : `+N).split(" ");for(let fe=0;fe<G.length;fe++)y[G[fe]]=N+fe,y[N+fe]=G[fe];const le={parse:fe=>{const be={};let Ne=!1;const Ke=t.url_converter,$e=t.url_converter_scope||le,Xe=(gn,hn,Pn)=>{const Lo=be[gn+"-top"+hn];if(!Lo)return;const Os=be[gn+"-right"+hn];if(!Os)return;const hr=be[gn+"-bottom"+hn];if(!hr)return;const Mr=be[gn+"-left"+hn];if(!Mr)return;const va=[Lo,Os,hr,Mr];let xa=va.length-1;for(;xa--&&va[xa]===va[xa+1];);xa>-1&&Pn||(be[gn+hn]=xa===-1?va[0]:va.join(" "),delete be[gn+"-top"+hn],delete be[gn+"-right"+hn],delete be[gn+"-bottom"+hn],delete be[gn+"-left"+hn])},wt=gn=>{const hn=be[gn];if(!hn)return;const Pn=hn.indexOf(",")>-1?[hn]:hn.split(" ");let Lo=Pn.length;for(;Lo--;)if(Pn[Lo]!==Pn[0])return!1;return be[gn]=Pn[0],!0},Tt=(gn,hn,Pn,Lo)=>{wt(hn)&&wt(Pn)&&wt(Lo)&&(be[gn]=be[hn]+" "+be[Pn]+" "+be[Lo],delete be[hn],delete be[Pn],delete be[Lo])},It=gn=>(Ne=!0,y[gn]),fn=(gn,hn)=>(Ne&&(gn=gn.replace(/\uFEFF[0-9]/g,Pn=>y[Pn])),hn||(gn=gn.replace(/\\([\'\";:])/g,"$1")),gn),Mn=gn=>String.fromCharCode(parseInt(gn.slice(1),16)),mo=gn=>gn.replace(/\\[0-9a-f]+/gi,Mn),Wn=(gn,hn,Pn,Lo,Os,hr)=>{if(Os=Os||hr,Os)return Os=fn(Os),"'"+Os.replace(/\'/g,"\\'")+"'";if(hn=fn(hn||Pn||Lo||""),!t.allow_script_urls){const Mr=hn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Mr)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(Mr))return""}return Ke&&(hn=Ke.call($e,hn,"style")),"url('"+hn.replace(/\'/g,"\\'")+"')"};if(fe){fe=fe.replace(/[\u0000-\u001F]/g,""),fe=fe.replace(/\\[\"\';:\uFEFF]/g,It).replace(/\"[^\"]+\"|\'[^\']+\'/g,hn=>hn.replace(/[;:]/g,It));let gn;for(;gn=u.exec(fe);){u.lastIndex=gn.index+gn[0].length;let hn=gn[1].replace(f,"").toLowerCase(),Pn=gn[2].replace(f,"");if(hn&&Pn){if(hn=mo(hn),Pn=mo(Pn),hn.indexOf(N)!==-1||hn.indexOf('"')!==-1||!t.allow_script_urls&&(hn==="behavior"||/expression\s*\(|\/\*|\*\//.test(Pn)))continue;hn==="font-weight"&&Pn==="700"?Pn="bold":(hn==="color"||hn==="background-color")&&(Pn=Pn.toLowerCase()),eC(Pn)==="rgb"&&tC(Pn).each(Lo=>{Pn=py(DA(Lo)).toLowerCase()}),Pn=Pn.replace(a,Wn),be[hn]=Ne?fn(Pn,!0):Pn}}Xe("border","",!0),Xe("border","-width"),Xe("border","-color"),Xe("border","-style"),Xe("padding",""),Xe("margin",""),Tt("border","border-width","border-style","border-color"),be.border==="medium none"&&delete be.border,be["border-image"]==="none"&&delete be["border-image"]}return be},serialize:(fe,be)=>{let Ne="";const Ke=(Xe,wt)=>{const Tt=wt[Xe];if(Tt)for(let It=0,fn=Tt.length;It<fn;It++){const Mn=Tt[It],mo=fe[Mn];mo&&(Ne+=(Ne.length>0?" ":"")+Mn+": "+mo+";")}},$e=(Xe,wt)=>{if(!M||!wt)return!0;let Tt=M["*"];return Tt&&Tt[Xe]?!1:(Tt=M[wt],!(Tt&&Tt[Xe]))};return be&&T?(Ke("*",T),Ke(be,T)):eo(fe,(Xe,wt)=>{Xe&&$e(wt,be)&&(Ne+=(Ne.length>0?" ":"")+wt+": "+Xe+";")}),Ne}};return le},tm={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},qg=t=>t instanceof Event||we(t.initEvent),Zg=t=>t.isDefaultPrevented===Tn||t.isDefaultPrevented===qt,MA=t=>Fe(t.preventDefault)||qg(t),h0=(t,r)=>{const a=r??{};for(const u in t)ts(tm,u)||(a[u]=t[u]);return De(t.composedPath)&&(a.composedPath=()=>t.composedPath()),De(t.getModifierState)&&(a.getModifierState=u=>t.getModifierState(u)),De(t.getTargetRanges)&&(a.getTargetRanges=()=>t.getTargetRanges()),a},b1=(t,r,a,u)=>{const f=h0(r,u);return f.type=t,Fe(f.target)&&(f.target=f.srcElement??a),MA(r)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=Tn,we(r.preventDefault)&&r.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=Tn,we(r.stopPropagation)&&r.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=Tn,f.stopPropagation()},Zg(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?Tn:qt,f.isPropagationStopped=f.cancelBubble===!0?Tn:qt,f.isImmediatePropagationStopped=qt)),f},PA="mce-data-",NA=/^(?:mouse|contextmenu)|click/,gy=(t,r,a,u)=>{t.addEventListener(r,a,u||!1)},Kv=(t,r,a,u)=>{t.removeEventListener(r,a,u||!1)},nC=t=>De(t)&&NA.test(t.type),hh=(t,r)=>{const a=b1(t.type,t,document,r);if(nC(t)&&ot(t.pageX)&&!ot(t.clientX)){const u=a.target.ownerDocument||document,f=u.documentElement,y=u.body,T=a;T.pageX=t.clientX+(f&&f.scrollLeft||y&&y.scrollLeft||0)-(f&&f.clientLeft||y&&y.clientLeft||0),T.pageY=t.clientY+(f&&f.scrollTop||y&&y.scrollTop||0)-(f&&f.clientTop||y&&y.clientTop||0)}return a},y1=(t,r,a)=>{const u=t.document,f={type:"ready"};if(a.domLoaded){r(f);return}const y=()=>u.readyState==="complete"||u.readyState==="interactive"&&u.body,T=()=>{Kv(t,"DOMContentLoaded",T),Kv(t,"load",T),a.domLoaded||(a.domLoaded=!0,r(f)),t=null};y()?T():gy(t,"DOMContentLoaded",T),a.domLoaded||gy(t,"load",T)};class hp{static Event=new hp;domLoaded=!1;events={};expando;hasFocusIn;count=1;constructor(){this.expando=PA+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(r,a,u,f){const y=this;let T;const M=window,N=be=>{y.executeHandlers(hh(be||M.event),G)};if(!r||Bn(r)||Ba(r))return u;let G;r[y.expando]?G=r[y.expando]:(G=y.count++,r[y.expando]=G,y.events[G]={}),f=f||r;const le=a.split(" ");let fe=le.length;for(;fe--;){let be=le[fe],Ne=N,Ke=!1,$e=!1;if(be==="DOMContentLoaded"&&(be="ready"),y.domLoaded&&be==="ready"&&r.readyState==="complete"){u.call(f,hh({type:be}));continue}!y.hasFocusIn&&(be==="focusin"||be==="focusout")&&(Ke=!0,$e=be==="focusin"?"focus":"blur",Ne=Xe=>{const wt=hh(Xe||M.event);wt.type=wt.type==="focus"?"focusin":"focusout",y.executeHandlers(wt,G)}),T=y.events[G][be],T?be==="ready"&&y.domLoaded?u(hh({type:be})):T.push({func:u,scope:f}):(y.events[G][be]=T=[{func:u,scope:f}],T.fakeName=$e,T.capture=Ke,T.nativeHandler=Ne,be==="ready"?y1(r,Ne,y):gy(r,$e||be,Ne,Ke))}return r=T=null,u}unbind(r,a,u){if(!r||Bn(r)||Ba(r))return this;const f=r[this.expando];if(f){let y=this.events[f];if(a){const T=a.split(" ");let M=T.length;for(;M--;){const N=T[M],G=y[N];if(G){if(u){let le=G.length;for(;le--;)if(G[le].func===u){const fe=G.nativeHandler,be=G.fakeName,Ne=G.capture,Ke=G.slice(0,le).concat(G.slice(le+1));Ke.nativeHandler=fe,Ke.fakeName=be,Ke.capture=Ne,y[N]=Ke}}(!u||G.length===0)&&(delete y[N],Kv(r,G.fakeName||N,G.nativeHandler,G.capture))}}}else eo(y,(T,M)=>{Kv(r,T.fakeName||M,T.nativeHandler,T.capture)}),y={};for(const T in y)if(ts(y,T))return this;delete this.events[f];try{delete r[this.expando]}catch{r[this.expando]=null}}return this}fire(r,a,u){return this.dispatch(r,a,u)}dispatch(r,a,u){if(!r||Bn(r)||Ba(r))return this;const f=hh({type:a,target:r},u);do{const y=r[this.expando];y&&this.executeHandlers(f,y),r=r.parentNode||r.ownerDocument||r.defaultView||r.parentWindow}while(r&&!f.isPropagationStopped());return this}clean(r){if(!r||Bn(r)||Ba(r))return this;if(r[this.expando]&&this.unbind(r),r.getElementsByTagName||(r=r.document),r&&r.getElementsByTagName){this.unbind(r);const a=r.getElementsByTagName("*");let u=a.length;for(;u--;)r=a[u],r[this.expando]&&this.unbind(r)}return this}destroy(){this.events={}}cancel(r){return r&&(r.preventDefault(),r.stopImmediatePropagation()),!1}executeHandlers(r,a){const u=this.events[a],f=u&&u[r.type];if(f)for(let y=0,T=f.length;y<T;y++){const M=f[y];if(M&&M.func.call(M.scope,r)===!1&&r.preventDefault(),r.isImmediatePropagationStopped())return}}}const f0=Un.each,LA=Un.grep,QE="data-mce-style",fh=Un.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),S1=(t,r,a)=>{Fe(a)||a===""?pl(t,r):ca(t,r,a)},BA=t=>t.replace(/[A-Z]/g,r=>"-"+r.toLowerCase()),Yv=(t,r)=>{let a=0;if(t)for(let u=t.nodeType,f=t.previousSibling;f;f=f.previousSibling){const y=f.nodeType;r&&Bn(f)&&(y===u||!f.data.length)||(a++,u=y)}return a},XO=(t,r)=>{const a=ra(r,"style"),u=t.serialize(t.parse(a),Ns(r));S1(r,QE,u)},VA=(t,r)=>ct(t)?ts(fh,r)?t+"":t+"px":t,ew=(t,r,a)=>{const u=BA(r);Fe(a)||a===""?e0(t,u):Lc(t,u,VA(a,u))},FA=(t,r,a)=>{const u=r.keep_values,f={set:(T,M,N)=>{const G=Qe.fromDom(T);we(r.url_converter)&&De(M)&&(M=r.url_converter.call(r.url_converter_scope||a(),String(M),N,T));const le="data-mce-"+N;S1(G,le,M),S1(G,N,M)},get:(T,M)=>{const N=Qe.fromDom(T);return ra(N,"data-mce-"+M)||ra(N,M)}},y={style:{set:(T,M)=>{const N=Qe.fromDom(T);u&&S1(N,QE,M),pl(N,"style"),re(M)&&su(N,t.parse(M))},get:T=>{const M=Qe.fromDom(T),N=ra(M,QE)||ra(M,"style");return t.serialize(t.parse(N),Ns(M))}}};return u&&(y.href=y.src=f),y},mi=(t,r={})=>{const a={},u=window,f={};let y=0;const T=!0,M=!0,N=Hu.forElement(Qe.fromDom(t),{contentCssCors:r.contentCssCors,referrerPolicy:r.referrerPolicy,crossOrigin:Gt=>{const Qt=r.crossOrigin;if(we(Qt))return Qt(Gt,"stylesheet")}}),G=[],le=r.schema?r.schema:yf({}),fe=my({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope},r.schema),be=r.ownEvents?new hp:hp.Event,Ne=le.getBlockElements(),Ke=Gt=>re(Gt)?ts(Ne,Gt):Oo(Gt)&&(ts(Ne,Gt.nodeName)||xn(le,Gt)),$e=Gt=>Gt&&t&&re(Gt)?t.getElementById(Gt):Gt,Xe=Gt=>{const Qt=$e(Gt);return De(Qt)?Qe.fromDom(Qt):null},wt=(Gt,Qt,Ao="")=>{let co;const Us=Xe(Gt);if(De(Us)&&na(Us)){const yi=UY[Qt];yi&&yi.get?co=yi.get(Us.dom,Qt):co=ra(Us,Qt)}return De(co)?co:Ao},Tt=Gt=>{const Qt=$e(Gt);return Fe(Qt)?[]:Qt.attributes},It=(Gt,Qt,Ao)=>{hs(Gt,co=>{if(Oo(co)){const Us=Qe.fromDom(co),yi=Ao===""?null:Ao,Rc=ra(Us,Qt),dS=UY[Qt];dS&&dS.set?dS.set(Us.dom,yi,Qt):S1(Us,Qt,yi),Rc!==yi&&r.onSetAttrib&&r.onSetAttrib({attrElm:Us.dom,attrName:Qt,attrValue:yi})}})},fn=(Gt,Qt)=>Gt.cloneNode(Qt),Mn=()=>r.root_element||t.body,mo=Gt=>{const Qt=HE(Gt);return{x:Qt.x,y:Qt.y,w:Qt.width,h:Qt.height}},Wn=(Gt,Qt)=>zm(t.body,$e(Gt),Qt),gn=(Gt,Qt,Ao)=>{hs(Gt,co=>{const Us=Qe.fromDom(co);ew(Us,Qt,Ao),r.update_styles&&XO(fe,Us)})},hn=(Gt,Qt)=>{hs(Gt,Ao=>{const co=Qe.fromDom(Ao);eo(Qt,(Us,yi)=>{ew(co,yi,Us)}),r.update_styles&&XO(fe,co)})},Pn=(Gt,Qt,Ao)=>{const co=$e(Gt);if(!(Fe(co)||!ha(co)&&!r0(co)))return Ao?La(Qe.fromDom(co),BA(Qt)):(Qt=Qt.replace(/-(\D)/g,(Us,yi)=>yi.toUpperCase()),Qt==="float"&&(Qt="cssFloat"),co.style?co.style[Qt]:void 0)},Lo=Gt=>{const Qt=$e(Gt);if(!Qt)return{w:0,h:0};let Ao=Pn(Qt,"width"),co=Pn(Qt,"height");return(!Ao||Ao.indexOf("px")===-1)&&(Ao="0"),(!co||co.indexOf("px")===-1)&&(co="0"),{w:parseInt(Ao,10)||Qt.offsetWidth||Qt.clientWidth,h:parseInt(co,10)||Qt.offsetHeight||Qt.clientHeight}},Os=Gt=>{const Qt=$e(Gt),Ao=Wn(Qt),co=Lo(Qt);return{x:Ao.x,y:Ao.y,w:co.w,h:co.h}},hr=(Gt,Qt)=>{if(!Gt)return!1;const Ao=Oe(Gt)?Gt:[Gt];return bn(Ao,co=>dr(Qe.fromDom(co),Qt))},Mr=(Gt,Qt,Ao,co)=>{const Us=[];let yi=$e(Gt);co=co===void 0;const Rc=Ao||(Mn().nodeName!=="BODY"?Mn().parentNode:null);if(re(Qt))if(Qt==="*")Qt=Oo;else{const dS=Qt;Qt=U0=>hr(U0,dS)}for(;yi&&!(yi===Rc||Fe(yi.nodeType)||yr(yi)||$v(yi));){if(!Qt||Qt(yi))if(co)Us.push(yi);else return[yi];yi=yi.parentNode}return co?Us:null},va=(Gt,Qt,Ao)=>{const co=Mr(Gt,Qt,Ao,!1);return co&&co.length>0?co[0]:null},xa=(Gt,Qt,Ao)=>{let co=Qt;if(Gt){re(Qt)&&(co=Us=>hr(Us,Qt));for(let Us=Gt[Ao];Us;Us=Us[Ao])if(we(co)&&co(Us))return Us}return null},Cc=(Gt,Qt)=>xa(Gt,Qt,"nextSibling"),Gc=(Gt,Qt)=>xa(Gt,Qt,"previousSibling"),vv=Gt=>we(Gt.querySelectorAll),Co=(Gt,Qt)=>{const Ao=$e(Qt)??r.root_element??t;return vv(Ao)?jt(Ao.querySelectorAll(Gt)):[]},hs=function(Gt,Qt,Ao){const co=Ao??this;if(Oe(Gt)){const Us=[];return f0(Gt,(yi,Rc)=>{const dS=$e(yi);dS&&Us.push(Qt.call(co,dS,Rc))}),Us}else{const Us=$e(Gt);return Us?Qt.call(co,Us):!1}},Pi=(Gt,Qt)=>{hs(Gt,Ao=>{eo(Qt,(co,Us)=>{It(Ao,Us,co)})})},Ii=(Gt,Qt)=>{hs(Gt,Ao=>{const co=Qe.fromDom(Ao);zp(co,Qt)})},os=(Gt,Qt,Ao,co,Us)=>hs(Gt,yi=>{const Rc=re(Qt)?t.createElement(Qt):Qt;return De(Ao)&&Pi(Rc,Ao),co&&(!re(co)&&co.nodeType?Rc.appendChild(co):re(co)&&Ii(Rc,co)),Us?Rc:yi.appendChild(Rc)}),Xn=(Gt,Qt,Ao)=>os(t.createElement(Gt),Gt,Qt,Ao,!0),vo=Gv.decode,Rs=Gv.encodeAllRaw,Xs=(Gt,Qt,Ao="")=>{let co="<"+Gt;for(const Us in Qt)ps(Qt,Us)&&(co+=" "+Us+'="'+Rs(Qt[Us])+'"');return fc(Ao)&&ts(le.getVoidElements(),Gt)?co+" />":co+">"+Ao+"</"+Gt+">"},Gi=Gt=>{const Qt=t.createElement("div"),Ao=t.createDocumentFragment();Ao.appendChild(Qt),Gt&&(Qt.innerHTML=Gt);let co;for(;co=Qt.firstChild;)Ao.appendChild(co);return Ao.removeChild(Qt),Ao},Oa=(Gt,Qt)=>hs(Gt,Ao=>{const co=Qe.fromDom(Ao);return Qt&&Ze(pr(co),Us=>{Jr(Us)&&Us.dom.length===0?Di(Us):Tc(co,Us)}),Di(co),co.dom}),bv=Gt=>hs(Gt,Qt=>{const Ao=Qt.attributes;for(let co=Ao.length-1;co>=0;co--)Qt.removeAttributeNode(Ao.item(co))}),mm=Gt=>fe.parse(Gt),My=(Gt,Qt)=>fe.serialize(Gt,Qt),Py=Gt=>{if(Bx!==mi.DOM&&t===document){if(a[Gt])return;a[Gt]=!0}let Qt=t.getElementById("mceDefaultStyles");if(!Qt){Qt=t.createElement("style"),Qt.id="mceDefaultStyles",Qt.type="text/css";const Ao=t.head;Ao.firstChild?Ao.insertBefore(Qt,Ao.firstChild):Ao.appendChild(Qt)}Qt.styleSheet?Qt.styleSheet.cssText+=Gt:Qt.appendChild(t.createTextNode(Gt))},gm=Gt=>{Gt||(Gt=""),Ze(Gt.split(","),Qt=>{f[Qt]=!0,N.load(Qt).catch(gt)})},xp=(Gt,Qt,Ao)=>{hs(Gt,co=>{if(Oo(co)){const Us=Qe.fromDom(co),yi=Qt.split(" ");Ze(yi,Rc=>{De(Ao)?(Ao?wl:rl)(Us,Rc):wi(Us,Rc)})}})},wb=(Gt,Qt)=>{xp(Gt,Qt,!0)},Px=(Gt,Qt)=>{xp(Gt,Qt,!1)},Nx=(Gt,Qt)=>{const Ao=Xe(Gt),co=Qt.split(" ");return De(Ao)&&bs(co,Us=>Yb(Ao,Us))},OL=Gt=>{hs(Gt,Qt=>e0(Qe.fromDom(Qt),"display"))},Ms=Gt=>{hs(Gt,Qt=>Lc(Qe.fromDom(Qt),"display","none"))},qr=Gt=>{const Qt=Xe(Gt);return De(Qt)&&Kr(ml(Qt,"display"),"none")},lc=Gt=>(Gt||"mce_")+y++,Ma=Gt=>{const Qt=Xe(Gt);return De(Qt)?Oo(Qt.dom)?Qt.dom.outerHTML:kE(Qt):""},Yi=(Gt,Qt)=>{hs(Gt,Ao=>{Oo(Ao)&&(Ao.outerHTML=Qt)})},Zl=(Gt,Qt)=>{const Ao=$e(Qt);return hs(Gt,co=>{const Us=Ao?.parentNode,yi=Ao?.nextSibling;return Us&&(yi?Us.insertBefore(co,yi):Us.appendChild(co)),co})},vm=(Gt,Qt,Ao)=>hs(Qt,co=>{const Us=Oe(Qt)?Gt.cloneNode(!0):Gt;return Ao&&f0(LA(co.childNodes),yi=>{Us.appendChild(yi)}),co.parentNode?.replaceChild(Us,co),co}),Mf=(Gt,Qt)=>{if(Gt.nodeName!==Qt.toUpperCase()){const Ao=Xn(Qt);return f0(Tt(Gt),co=>{It(Ao,co.nodeName,wt(Gt,co.nodeName))}),vm(Ao,Gt,!0),Ao}else return Gt},yv=(Gt,Qt)=>{let Ao=Gt;for(;Ao;){let co=Qt;for(;co&&Ao!==co;)co=co.parentNode;if(Ao===co)break;Ao=Ao.parentNode}return!Ao&&Gt.ownerDocument?Gt.ownerDocument.documentElement:Ao},uS=(Gt,Qt,Ao)=>_e(Qt)?mf(le,Gt,{...Ao,isContent:Us=>{const yi=Us.nodeName.toLowerCase();return!!Qt[yi]}}):mf(le,Gt,Ao),IL=()=>t.createRange(),RL=(Gt,Qt,Ao)=>{let co=IL(),Us,yi;if(Gt&&Qt&&Gt.parentNode&&Qt.parentNode){const Rc=Gt.parentNode;return co.setStart(Rc,Yv(Gt)),co.setEnd(Qt.parentNode,Yv(Qt)),Us=co.extractContents(),co=IL(),co.setStart(Qt.parentNode,Yv(Qt)+1),co.setEnd(Rc,Yv(Gt)+1),yi=co.extractContents(),Rc.insertBefore(ZE(Bx,Us,le),Gt),Ao?Rc.insertBefore(Ao,Gt):Rc.insertBefore(Qt,Gt),Rc.insertBefore(ZE(Bx,yi,le),Gt),Oa(Gt),Ao||Qt}else return},g2=(Gt,Qt,Ao,co)=>{if(Oe(Gt)){let Us=Gt.length;const yi=[];for(;Us--;)yi[Us]=g2(Gt[Us],Qt,Ao,co);return yi}else return r.collect&&(Gt===t||Gt===u)&&G.push([Gt,Qt,Ao,co]),be.bind(Gt,Qt,Ao,co||Bx)},$0=(Gt,Qt,Ao)=>{if(Oe(Gt)){let co=Gt.length;const Us=[];for(;co--;)Us[co]=$0(Gt[co],Qt,Ao);return Us}else{if(G.length>0&&(Gt===t||Gt===u)){let co=G.length;for(;co--;){const[Us,yi,Rc]=G[co];Gt===Us&&(!Qt||Qt===yi)&&(!Ao||Ao===Rc)&&be.unbind(Us,yi,Rc)}}return be.unbind(Gt,Qt,Ao)}},Lx=(Gt,Qt,Ao)=>be.dispatch(Gt,Qt,Ao),d5=(Gt,Qt,Ao)=>be.dispatch(Gt,Qt,Ao),kL=Gt=>{if(Gt&&ha(Gt)){const Qt=Gt.getAttribute("data-mce-contenteditable");return Qt&&Qt!=="inherit"?Qt:Gt.contentEditable!=="inherit"?Gt.contentEditable:null}else return null},Bx={doc:t,settings:r,win:u,files:f,stdMode:T,boxModel:M,styleSheetLoader:N,boundEvents:G,styles:fe,schema:le,events:be,isBlock:Ke,root:null,clone:fn,getRoot:Mn,getViewPort:mo,getRect:Os,getSize:Lo,getParent:va,getParents:Mr,get:$e,getNext:Cc,getPrev:Gc,select:Co,is:hr,add:os,create:Xn,createHTML:Xs,createFragment:Gi,remove:Oa,setStyle:gn,getStyle:Pn,setStyles:hn,removeAllAttribs:bv,setAttrib:It,setAttribs:Pi,getAttrib:wt,getPos:Wn,parseStyle:mm,serializeStyle:My,addStyle:Py,loadCSS:gm,addClass:wb,removeClass:Px,hasClass:Nx,toggleClass:xp,show:OL,hide:Ms,isHidden:qr,uniqueId:lc,setHTML:Ii,getOuterHTML:Ma,setOuterHTML:Yi,decode:vo,encode:Rs,insertAfter:Zl,replace:vm,rename:Mf,findCommonAncestor:yv,run:hs,getAttribs:Tt,isEmpty:uS,createRng:IL,nodeIndex:Yv,split:RL,bind:g2,unbind:$0,fire:d5,dispatch:Lx,getContentEditable:kL,getContentEditableParent:Gt=>{const Qt=Mn();let Ao=null;for(let co=Gt;co&&co!==Qt&&(Ao=kL(co),Ao===null);co=co.parentNode);return Ao},isEditable:Gt=>{if(De(Gt)){const Qt=Oo(Gt)?Gt:Gt.parentElement;return De(Qt)&&ha(Qt)&&Nu(Qe.fromDom(Qt))}else return!1},destroy:()=>{if(G.length>0){let Gt=G.length;for(;Gt--;){const[Qt,Ao,co]=G[Gt];be.unbind(Qt,Ao,co)}}eo(f,(Gt,Qt)=>{N.unload(Qt),delete f[Qt]})},isChildOf:(Gt,Qt)=>Gt===Qt||Qt.contains(Gt),dumpRng:Gt=>"startContainer: "+Gt.startContainer.nodeName+", startOffset: "+Gt.startOffset+", endContainer: "+Gt.endContainer.nodeName+", endOffset: "+Gt.endOffset},UY=FA(fe,r,nt(Bx));return Bx};mi.DOM=mi(document),mi.nodeIndex=Yv;const HA=mi.DOM,tw=0,ph=1,vy=2,kr=3;class Nl{static ScriptLoader=new Nl;settings;states={};queue=[];scriptLoadedCallbacks={};queueLoadedCallbacks=[];loading=!1;constructor(r={}){this.settings=r}_setReferrerPolicy(r){this.settings.referrerPolicy=r}_setCrossOrigin(r){this.settings.crossOrigin=r}loadScript(r){return new Promise((a,u)=>{const f=HA,y=document;let T;const M=()=>{f.remove(le),T&&(T.onerror=T.onload=T=null)},N=()=>{M(),a()},G=()=>{M(),u("Failed to load script: "+r)},le=f.uniqueId();T=y.createElement("script"),T.id=le,T.type="text/javascript",T.src=Un._addCacheSuffix(r),this.settings.referrerPolicy&&f.setAttrib(T,"referrerpolicy",this.settings.referrerPolicy);const fe=this.settings.crossOrigin;if(we(fe)){const be=fe(r);be!==void 0&&f.setAttrib(T,"crossorigin",be)}T.onload=N,T.onerror=G,(y.head||y.body).appendChild(T)})}isDone(r){return this.states[r]===vy}markDone(r){this.states[r]=vy}add(r){const a=this;return a.queue.push(r),a.states[r]===void 0&&(a.states[r]=tw),new Promise((f,y)=>{a.scriptLoadedCallbacks[r]||(a.scriptLoadedCallbacks[r]=[]),a.scriptLoadedCallbacks[r].push({resolve:f,reject:y})})}load(r){return this.add(r)}remove(r){delete this.states[r],delete this.scriptLoadedCallbacks[r]}loadQueue(){const r=this.queue;return this.queue=[],this.loadScripts(r)}loadScripts(r){const a=this,u=(N,G)=>{sr(a.scriptLoadedCallbacks,G).each(le=>{Ze(le,fe=>fe[N](G))}),delete a.scriptLoadedCallbacks[G]},f=N=>{const G=je(N,le=>le.status==="rejected");return G.length>0?Promise.reject(Io(G,({reason:le})=>Oe(le)?le:[le])):Promise.resolve()},y=N=>Promise.allSettled(mn(N,G=>a.states[G]===vy?(u("resolve",G),Promise.resolve()):a.states[G]===kr?(u("reject",G),Promise.reject(G)):(a.states[G]=ph,a.loadScript(G).then(()=>{a.states[G]=vy,u("resolve",G);const le=a.queue;return le.length>0?(a.queue=[],y(le).then(f)):Promise.resolve()},()=>(a.states[G]=kr,u("reject",G),Promise.reject(G)))))),T=N=>(a.loading=!0,y(N).then(G=>{a.loading=!1;const le=a.queueLoadedCallbacks.shift();return Se.from(le).each(ho),f(G)})),M=Xf(r);return a.loading?new Promise((N,G)=>{a.queueLoadedCallbacks.push(()=>{T(M).then(N,G)})}):T(M)}getScriptAttributes(r){const a={};this.settings.referrerPolicy&&(a.referrerpolicy=this.settings.referrerPolicy);const u=this.settings.crossOrigin;if(we(u)){const f=u(r);re(f)&&(a.crossorigin=f)}return a}}const C1=(t,r)=>{const a=t.indexOf(r);return a!==-1&&t.indexOf(r,a+1)>a},oC=t=>ye(t)&&ts(t,"raw"),ia=t=>Oe(t)&&t.length>1,p0={},E1=$o("en"),nw=()=>sr(p0,E1.get()),fp={getData:()=>jo(p0,t=>({...t})),setCode:t=>{t&&E1.set(t)},getCode:()=>E1.get(),add:(t,r)=>{let a=p0[t];a||(p0[t]=a={});const u=mn(Zt(r),f=>f.toLowerCase());eo(r,(f,y)=>{const T=y.toLowerCase();T!==y&&C1(u,T)?(ts(r,T)||(a[T]=f),a[y]=f):a[T]=f})},translate:t=>{const r=nw().getOr({}),a=M=>we(M)?Object.prototype.toString.call(M):u(M)?"":""+M,u=M=>M===""||M===null||M===void 0,f=M=>{const N=a(M);return ts(r,N)?a(r[N]):sr(r,N.toLowerCase()).map(a).getOr(N)},y=M=>M.replace(/{context:\w+}$/,""),T=M=>M.replaceAll("...",Tm);if(u(t))return"";if(oC(t))return T(a(t.raw));if(ia(t)){const M=t.slice(1),N=f(t[0]).replace(/\{([0-9]+)\}/g,(G,le)=>ts(M,le)?a(M[le]):G);return T(y(N))}return T(y(f(t)))},isRtl:()=>nw().bind(t=>sr(t,"_dir")).exists(t=>t==="rtl"),hasCode:t=>ts(p0,t)},Hc=()=>{const t=[],r={},a={},u=[],f=($e,Xe)=>{const wt=je(u,Tt=>Tt.name===$e&&Tt.state===Xe);Ze(wt,Tt=>Tt.resolve())},y=$e=>ts(r,$e),T=$e=>ts(a,$e),M=$e=>{if(a[$e])return a[$e].instance},N=($e,Xe)=>{const wt=fp.getCode(),Tt=","+(Xe||"")+",";!wt||Xe&&Tt.indexOf(","+wt+",")===-1||Nl.ScriptLoader.add(r[$e]+"/langs/"+wt+".js")},G=($e,Xe)=>{Hc.languageLoad!==!1&&(y($e)?N($e,Xe):Ke($e,"loaded").then(()=>N($e,Xe)))},le=($e,Xe)=>(t.push(Xe),a[$e]={instance:Xe},f($e,"added"),Xe),fe=$e=>{delete r[$e],delete a[$e]},be=($e,Xe)=>re(Xe)?re($e)?{prefix:"",resource:Xe,suffix:""}:{prefix:$e.prefix,resource:Xe,suffix:$e.suffix}:Xe,Ne=($e,Xe)=>{if(r[$e])return Promise.resolve();let wt=re(Xe)?Xe:Xe.prefix+Xe.resource+Xe.suffix;wt.indexOf("/")!==0&&wt.indexOf("://")===-1&&(wt=Hc.baseURL+"/"+wt),r[$e]=wt.substring(0,wt.lastIndexOf("/"));const Tt=()=>(f($e,"loaded"),Promise.resolve());return a[$e]?Tt():Nl.ScriptLoader.add(wt).then(Tt)},Ke=($e,Xe="added")=>Xe==="added"&&T($e)||Xe==="loaded"&&y($e)?Promise.resolve():new Promise(wt=>{u.push({name:$e,state:Xe,resolve:wt})});return{items:t,urls:r,lookup:a,get:M,requireLangPack:G,add:le,remove:fe,createUrl:be,load:Ne,waitFor:Ke}};Hc.languageLoad=!0,Hc.baseURL="",Hc.PluginManager=Hc(),Hc.ThemeManager=Hc(),Hc.ModelManager=Hc();const Sf=nt("mce-annotation"),nm=nt("data-mce-annotation"),om=nt("data-mce-annotation-uid"),Kg=nt("data-mce-annotation-active"),Gm=nt("data-mce-annotation-classes"),qm=nt("data-mce-annotation-attrs"),ow=t=>r=>_o(r,t),sC=(t,r)=>{const a=t.selection.getRng(),u=Qe.fromDom(a.startContainer),f=Qe.fromDom(t.getBody()),y=r.fold(()=>"."+Sf(),N=>`[${nm()}="${N}"]`),T=Nh(u,a.startOffset).getOr(u);return xc(T,y,ow(f)).bind(N=>ah(N,`${om()}`).bind(G=>ah(N,`${nm()}`).map(le=>{const fe=w1(t,G);return{uid:G,name:le,elements:fe}})))},QO=t=>na(t)&&Yb(t,Sf()),eI=(t,r)=>ua(t,"data-mce-bogus")||Vi(t,'[data-mce-bogus="all"]',ow(r)),w1=(t,r)=>{const a=Qe.fromDom(t.getBody()),u=cn(a,`[${om()}="${r}"]`);return je(u,f=>!eI(f,a))},rC=(t,r)=>{const a=Qe.fromDom(t.getBody()),u=cn(a,`[${nm()}="${r}"]`),f={};return Ze(u,y=>{if(!eI(y,a)){const T=ra(y,om()),M=sr(f,T).getOr([]);f[T]=M.concat([y])}}),f},iC=(t,r)=>{const a=$o({}),u=()=>({listeners:[],previous:_c()}),f=(fe,be)=>{y(fe,Ne=>(be(Ne),Ne))},y=(fe,be)=>{const Ne=a.get(),Ke=sr(Ne,fe).getOrThunk(u),$e=be(Ke);Ne[fe]=$e,a.set(Ne)},T=(fe,be,Ne)=>{f(fe,Ke=>{Ze(Ke.listeners,$e=>$e(!0,fe,{uid:be,nodes:mn(Ne,Xe=>Xe.dom)}))})},M=fe=>{f(fe,be=>{Ze(be.listeners,Ne=>Ne(!1,fe))})},N=(fe,be)=>{Ze(w1(t,fe),Ne=>{be?ca(Ne,Kg(),"true"):pl(Ne,Kg())})},G=xu(()=>{const fe=Ds(r.getNames());Ze(fe,be=>{y(be,Ne=>{const Ke=Ne.previous.get();return sC(t,Se.some(be)).fold(()=>{Ke.each($e=>{M(be),Ne.previous.clear(),N($e,!1)})},({uid:$e,name:Xe,elements:wt})=>{Kr(Ke,$e)||(Ke.each(Tt=>N(Tt,!1)),T(Xe,$e,wt),Ne.previous.set($e),N($e,!0))}),{previous:Ne.previous,listeners:Ne.listeners}})})},30);return t.on("remove",()=>{G.cancel()}),t.on("NodeChange",()=>{G.throttle()}),{addListener:(fe,be)=>{y(fe,Ne=>({previous:Ne.previous,listeners:Ne.listeners.concat([be])}))}}},aC=(t,r)=>{const a=nm(),u=y=>Se.from(y.attr(a)).bind(r.lookup),f=y=>{y.attr(om(),null),y.attr(nm(),null),y.attr(Kg(),null);const T=Se.from(y.attr(qm())).map(le=>le.split(",")).getOr([]),M=Se.from(y.attr(Gm())).map(le=>le.split(",")).getOr([]);Ze(T,le=>y.attr(le,null));const N=y.attr("class")?.split(" ")??[],G=ys(N,[Sf()].concat(M));y.attr("class",G.length>0?G.join(" "):null),y.attr(Gm(),null),y.attr(qm(),null)};t.serializer.addTempAttr(Kg()),t.serializer.addAttributeFilter(a,y=>{for(const T of y)u(T).each(M=>{M.persistent===!1&&(T.name==="span"?T.unwrap():f(T))})})},Yg=()=>{const t={};return{register:(f,y)=>{t[f]={name:f,settings:y}},lookup:f=>sr(t,f).map(y=>y.settings),getNames:()=>Zt(t)}},m0=(t,r,a=qt)=>{const u=new Zi(t,r),f=y=>{let T;do T=u[y]();while(T&&!Bn(T)&&!a(T));return Se.from(T).filter(Bn)};return{current:()=>Se.from(u.current()).filter(Bn),next:()=>f("next"),prev:()=>f("prev"),prev2:()=>f("prev2")}},sm=(t,r)=>{const a=r||(T=>t.isBlock(T)||fa(T)||si(T)),u=(T,M,N,G)=>{if(Bn(T)){const le=G(T,M,T.data);if(le!==-1)return Se.some({container:T,offset:le})}return N().bind(le=>u(le.container,le.offset,N,G))};return{backwards:(T,M,N,G)=>{const le=m0(T,G??t.getRoot(),a);return u(T,M,()=>le.prev().map(fe=>({container:fe,offset:fe.length})),N).getOrNull()},forwards:(T,M,N,G)=>{const le=m0(T,G??t.getRoot(),a);return u(T,M,()=>le.next().map(fe=>({container:fe,offset:0})),N).getOrNull()}}},lC=["td","th"],sw=["thead","tbody","tfoot"],cC=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],uC=["li","dd","dt"],GA=["ul","ol","dl"],tI=["pre","script","textarea","style"],g0=t=>{let r;return a=>(r=r||Zs(t,Tn),ts(r,Ns(a)))},qA=t=>Ns(t)==="table",Cf=t=>na(t)&&Ns(t)==="br",v0=g0(cC),dC=g0(GA),Zm=g0(uC),Q=g0(sw),m=g0(lC),C=g0(tI),A=t=>{const r=[];let a=t.dom;for(;a;)r.push(Qe.fromDom(a)),a=a.lastChild;return r},R=t=>{const r=cn(t,"br"),a=je(A(t).slice(-1),Cf);r.length===a.length&&Ze(a,Di)},D=()=>{const t=Qe.fromTag("br");return ca(t,"data-mce-bogus","1"),t},V=t=>{sd(t),$r(t,D())},j=(t,r)=>{Ga(t).each(a=>{Pd(a).each(u=>{r.isBlock(Ns(t))&&Cf(a)&&r.isBlock(Ns(u))&&Di(a)})})},Z=pc,te=$l,ue=Jc,ie=t=>t.insertContent(Z,{preserve_zwsp:!0}),me=Oo,Ce=Bn,Ae=t=>(Ce(t)&&(t=t.parentNode),me(t)&&t.hasAttribute("data-mce-caret")),ke=t=>Ce(t)&&te(t.data),Be=t=>Ae(t)||ke(t),Pe=t=>t.firstChild!==t.lastChild||!fa(t.firstChild),tt=(t,r)=>{const u=(t.ownerDocument??document).createTextNode(Z),f=t.parentNode;if(r){const y=t.previousSibling;if(Ce(y)){if(Be(y))return y;if(Ft(y))return y.splitText(y.data.length-1)}f?.insertBefore(u,t)}else{const y=t.nextSibling;if(Ce(y)){if(Be(y))return y;if(Bt(y))return y.splitText(1),y}t.nextSibling?f?.insertBefore(u,t.nextSibling):f?.appendChild(u)}return u},dt=t=>{const r=t.container();return Bn(r)?r.data.charAt(t.offset())===Z||t.isAtStart()&&ke(r.previousSibling):!1},Ot=t=>{const r=t.container();return Bn(r)?r.data.charAt(t.offset()-1)===Z||t.isAtEnd()&&ke(r.nextSibling):!1},Nt=(t,r,a)=>{const f=(r.ownerDocument??document).createElement(t);f.setAttribute("data-mce-caret",a?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(D().dom);const y=r.parentNode;return a?y?.insertBefore(f,r):r.nextSibling?y?.insertBefore(f,r.nextSibling):y?.appendChild(f),f},Bt=t=>Ce(t)&&t.data[0]===Z,Ft=t=>Ce(t)&&t.data[t.data.length-1]===Z,$t=t=>{const r=t.getElementsByTagName("br"),a=r[r.length-1];Vg(a)&&a.parentNode?.removeChild(a)},Hn=t=>t&&t.hasAttribute("data-mce-caret")?($t(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("data-mce-style"),t.removeAttribute("_moz_abspos"),t):null,lo=t=>Ae(t.startContainer),_n=Math.round,Uo=t=>t?{left:_n(t.left),top:_n(t.top),bottom:_n(t.bottom),right:_n(t.right),width:_n(t.width),height:_n(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Js=(t,r)=>(t=Uo(t),r||(t.left=t.left+t.width),t.right=t.left,t.width=0,t),ar=(t,r)=>t.left===r.left&&t.top===r.top&&t.bottom===r.bottom&&t.right===r.right,ns=(t,r,a)=>t>=0&&t<=Math.min(r.height,a.height)/2,Cs=(t,r)=>{const a=Math.min(r.height/2,t.height/2);return t.bottom-a<r.top?!0:t.top>r.bottom?!1:ns(r.top-t.bottom,t,r)},qs=(t,r)=>t.top>r.bottom?!0:t.bottom<r.top?!1:ns(r.bottom-t.top,t,r),Da=(t,r,a)=>r>=t.left&&r<=t.right&&a>=t.top&&a<=t.bottom,Ai=t=>rn(t,(r,a)=>r.fold(()=>Se.some(a),u=>{const f=Math.min(a.left,u.left),y=Math.min(a.top,u.top),T=Math.max(a.right,u.right),M=Math.max(a.bottom,u.bottom);return Se.some({top:y,right:T,bottom:M,left:f,width:T-f,height:M-y})}),Se.none()),lu=(t,r,a)=>{const u=Math.max(Math.min(r,t.left+t.width),t.left),f=Math.max(Math.min(a,t.top+t.height),t.top);return Math.sqrt((r-u)*(r-u)+(a-f)*(a-f))},Rr=(t,r)=>Math.max(0,Math.min(t.bottom,r.bottom)-Math.max(t.top,r.top)),gr=t=>{const r=t.startContainer,a=t.startOffset;return r===t.endContainer&&r.hasChildNodes()&&t.endOffset===a+1?r.childNodes[a]:null},ui=(t,r)=>{if(Oo(t)&&t.hasChildNodes()){const a=t.childNodes,u=Od(r,0,a.length-1);return a[u]}else return t},gi=(t,r)=>{if(!(r<0&&Oo(t)&&t.hasChildNodes()))return ui(t,r)},Wr=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Xa=t=>re(t)&&t.charCodeAt(0)>=768&&Wr.test(t),Ti=(...t)=>r=>{for(let a=0;a<t.length;a++)if(t[a](r))return!0;return!1},Ll=(...t)=>r=>{for(let a=0;a<t.length;a++)if(!t[a](r))return!1;return!0},$u=iu,$d=si,pp=fa,Ef=Bn,Ud=Oc(["script","style","textarea"]),rm=Oc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),mp=Oc(["table"]),Fa=Be,Hi=t=>Fa(t)?!1:Ef(t)?!Ud(t.parentNode):rm(t)||pp(t)||mp(t)||al(t),Ha=t=>Oo(t)&&t.getAttribute("unselectable")==="true",al=t=>!Ha(t)&&$d(t),ic=(t,r)=>{for(let a=t.parentNode;a&&a!==r;a=a.parentNode){if(al(a))return!1;if($u(a))return!0}return!0},ac=t=>al(t)?!rn(jt(t.getElementsByTagName("*")),(r,a)=>r||$u(a),!1):!1,ZA=t=>rm(t)||ac(t),KA=(t,r)=>Hi(t)&&ic(t,r),YA=Oo,Xk=Hi,XA=Hv("display","block table"),Jk=Hv("float","left right"),_1=Ll(YA,Xk,vn(Jk)),nI=vn(Hv("white-space","pre pre-line pre-wrap")),A1=Bn,JA=fa,oI=mi.nodeIndex,QA=gi,Xg=t=>t?t.createRange():mi.DOM.createRng(),rw=t=>re(t)&&/[\r\n\t ]/.test(t),sI=t=>!!t.setStart&&!!t.setEnd,hC=t=>{const r=t.startContainer,a=t.startOffset;if(rw(t.toString())&&nI(r.parentNode)&&Bn(r)){const u=r.data;if(rw(u[a-1])||rw(u[a+1]))return!0}return!1},iw=t=>{const r=t.ownerDocument,a=Xg(r),u=r.createTextNode(ki),f=t.parentNode;f.insertBefore(u,t),a.setStart(u,0),a.setEnd(u,1);const y=Uo(a.getBoundingClientRect());return f.removeChild(u),y},eT=t=>{const r=t.startContainer,a=t.endContainer,u=t.startOffset,f=t.endOffset;if(r===a&&Bn(a)&&u===0&&f===1){const y=t.cloneRange();return y.setEndAfter(a),Km(y)}else return null},rI=t=>t.left===0&&t.right===0&&t.top===0&&t.bottom===0,Km=t=>{let r;const a=t.getClientRects();return a.length>0?r=Uo(a[0]):r=Uo(t.getBoundingClientRect()),!sI(t)&&JA(t)&&rI(r)?iw(t):rI(r)&&sI(t)?eT(t)??r:r},Xv=(t,r)=>{const a=Js(t,r);return a.width=1,a.right=a.left+1,a},fC=t=>{const r=[],a=T=>{T.height!==0&&(r.length>0&&ar(T,r[r.length-1])||r.push(T))},u=(T,M)=>{const N=Xg(T.ownerDocument);if(M<T.data.length){if(Xa(T.data[M]))return;if(Xa(T.data[M-1])&&(N.setStart(T,M),N.setEnd(T,M+1),!hC(N))){a(Xv(Km(N),!1));return}}M>0&&(N.setStart(T,M-1),N.setEnd(T,M),hC(N)||a(Xv(Km(N),!1))),M<T.data.length&&(N.setStart(T,M),N.setEnd(T,M+1),hC(N)||a(Xv(Km(N),!0)))},f=t.container(),y=t.offset();if(A1(f))return u(f,y),r;if(YA(f))if(t.isAtEnd()){const T=QA(f,y);A1(T)&&u(T,T.data.length),_1(T)&&!JA(T)&&a(Xv(Km(T),!1))}else{const T=QA(f,y);if(A1(T)&&u(T,0),_1(T)&&t.isAtEnd())return a(Xv(Km(T),!1)),r;const M=QA(t.container(),t.offset()-1);_1(M)&&!JA(M)&&(XA(M)||XA(T)||!_1(T))&&a(Xv(Km(M),!1)),_1(T)&&a(Xv(Km(T),!0))}return r},sn=(t,r,a)=>{const u=()=>(A1(t),r===0),f=()=>A1(t)?r>=t.data.length:r>=t.childNodes.length,y=()=>{const le=Xg(t.ownerDocument);return le.setStart(t,r),le.setEnd(t,r),le},T=()=>(a||(a=fC(sn(t,r))),a),M=()=>T().length>0,N=le=>le&&t===le.container()&&r===le.offset(),G=le=>QA(t,le?r-1:r);return{container:nt(t),offset:nt(r),toRange:y,getClientRects:T,isVisible:M,isAtStart:u,isAtEnd:f,isEqual:N,getNode:G}};sn.fromRangeStart=t=>sn(t.startContainer,t.startOffset),sn.fromRangeEnd=t=>sn(t.endContainer,t.endOffset),sn.after=t=>sn(t.parentNode,oI(t)+1),sn.before=t=>sn(t.parentNode,oI(t)),sn.isAbove=(t,r)=>wr(Vt(r.getClientRects()),Jt(t.getClientRects()),Cs).getOr(!1),sn.isBelow=(t,r)=>wr(Jt(r.getClientRects()),Vt(t.getClientRects()),qs).getOr(!1),sn.isAtStart=t=>t?t.isAtStart():!1,sn.isAtEnd=t=>t?t.isAtEnd():!1,sn.isTextPosition=t=>t?Bn(t.container()):!1,sn.isElementPosition=t=>!sn.isTextPosition(t);const Uh=(t,r)=>{Bn(r)&&r.data.length===0&&t.remove(r)},pC=(t,r,a)=>{r.insertNode(a),Uh(t,a.previousSibling),Uh(t,a.nextSibling)},aw=(t,r,a)=>{const u=Se.from(a.firstChild),f=Se.from(a.lastChild);r.insertNode(a),u.each(y=>Uh(t,y.previousSibling)),f.each(y=>Uh(t,y.nextSibling))},tT=(t,r,a)=>{$v(a)?aw(t,r,a):pC(t,r,a)},Jg=Bn,zd=Vg,lw=mi.nodeIndex,Qk=t=>{const r=t.parentNode;return zd(r)?Qk(r):r},nT=t=>t?Ou(t.childNodes,(r,a)=>(zd(a)&&a.nodeName!=="BR"?r=r.concat(nT(a)):r.push(a),r),[]):[],eD=(t,r)=>{let a=t;for(;(a=a.previousSibling)&&Jg(a);)r+=a.data.length;return r},T1=t=>r=>t===r,iI=t=>{let r,a;r=nT(Qk(t)),a=Ih(r,T1(t),t),r=r.slice(0,a+1);const u=Ou(r,(f,y,T)=>(Jg(y)&&Jg(r[T-1])&&f++,f),0);return r=mc(r,Oc([t.nodeName])),a=Ih(r,T1(t),t),a-u},Jv=t=>(Jg(t)?"text()":t.nodeName.toLowerCase())+"["+iI(t)+"]",aI=(t,r,a)=>{const u=[];for(let f=r.parentNode;f&&f!==t;f=f.parentNode)u.push(f);return u},tD=(t,r)=>{let a=[],u=r.container(),f=r.offset(),y;if(Jg(u))y=eD(u,f);else{const M=u.childNodes;f>=M.length?(y="after",f=M.length-1):y="before",u=M[f]}a.push(Jv(u));let T=aI(t,u);return T=mc(T,vn(Vg)),a=a.concat(kd(T,M=>Jv(M))),a.reverse().join("/")+","+y},jd=(t,r,a)=>{let u=nT(t);return u=mc(u,(f,y)=>!Jg(f)||!Jg(u[y-1])),u=mc(u,Oc([r])),u[a]},Qg=(t,r)=>{let a=t,u=0;for(;Jg(a);){const f=a.data.length;if(r>=u&&r<=u+f){t=a,r=r-u;break}if(!Jg(a.nextSibling)){t=a,r=f;break}u+=f,a=a.nextSibling}return Jg(t)&&r>t.data.length&&(r=t.data.length),sn(t,r)},wf=(t,r)=>{if(!r)return null;const a=r.split(","),u=a[0].split("/"),f=a.length>1?a[1]:"before",y=Ou(u,(T,M)=>{const N=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(M);return N?(N[1]==="text()"&&(N[1]="#text"),jd(T,N[1],parseInt(N[2],10))):null},t);if(!y)return null;if(!Jg(y)&&y.parentNode){let T;return f==="after"?T=lw(y)+1:T=lw(y),sn(y.parentNode,T)}return Qg(y,parseInt(f,10))},oT=si,mC=(t,r,a)=>{let u=t(r.data.slice(0,a)).length;for(let f=r.previousSibling;f&&Bn(f);f=f.previousSibling)u+=t(f.data).length;return u},nD=(t,r,a,u,f)=>{const y=f?u.startContainer:u.endContainer;let T=f?u.startOffset:u.endOffset;const M=[],N=t.getRoot();if(Bn(y))M.push(a?mC(r,y,T):T);else{let G=0;const le=y.childNodes;T>=le.length&&le.length&&(G=1,T=Math.max(0,le.length-1)),M.push(t.nodeIndex(le[T],a)+G)}for(let G=y;G&&G!==N;G=G.parentNode)M.push(t.nodeIndex(G,a));return M},R4=(t,r,a,u)=>{const f=r.dom,y=nD(f,t,a,u,!0),T=r.isForward(),M=lo(u)?{isFakeCaret:!0}:{};if(r.isCollapsed())return{start:y,forward:T,...M};{const N=nD(f,t,a,u,!1);return{start:y,end:N,forward:T,...M}}},lI=(t,r,a)=>{let u=0;return Un.each(t.select(r),f=>{if(f.getAttribute("data-mce-bogus")!=="all"){if(f===a)return!1;u++;return}}),u},oD=(t,r)=>{let a=r?t.startContainer:t.endContainer,u=r?t.startOffset:t.endOffset;if(Oo(a)&&a.nodeName==="TR"){const f=a.childNodes;a=f[Math.min(r?u:u-1,f.length-1)],a&&(u=r?0:a.childNodes.length,r?t.setStart(a,u):t.setEnd(a,u))}},Cr=t=>(oD(t,!0),oD(t,!1),t),cs=(t,r)=>{if(Oo(t)&&(t=ui(t,r),oT(t)))return t;if(Be(t)){Bn(t)&&Ae(t)&&(t=t.parentNode);let a=t.previousSibling;if(oT(a)||(a=t.nextSibling,oT(a)))return a}},cw=t=>cs(t.startContainer,t.startOffset)||cs(t.endContainer,t.endOffset),sT=(t,r,a)=>{const u=a.getNode(),f=a.getRng();if(u.nodeName==="IMG"||oT(u)){const T=u.nodeName;return{name:T,index:lI(a.dom,T,u)}}const y=cw(f);if(y){const T=y.tagName;return{name:T,index:lI(a.dom,T,y)}}return R4(t,a,r,f)},cI=t=>{const r=t.getRng();return{start:tD(t.dom.getRoot(),sn.fromRangeStart(r)),end:tD(t.dom.getRoot(),sn.fromRangeEnd(r)),forward:t.isForward()}},k4=t=>({rng:t.getRng(),forward:t.isForward()}),uI=(t,r,a)=>{const u={"data-mce-type":"bookmark",id:r,style:"overflow:hidden;line-height:0px"};return a?t.create("span",u,"&#xFEFF;"):t.create("span",u)},Ta=(t,r)=>{const a=t.dom;let u=t.getRng();const f=a.uniqueId(),y=t.isCollapsed(),T=t.getNode(),M=T.nodeName,N=t.isForward();if(M==="IMG")return{name:M,index:lI(a,M,T)};const G=Cr(u.cloneRange());if(!y){G.collapse(!1);const fe=uI(a,f+"_end",r);tT(a,G,fe)}u=Cr(u),u.collapse(!0);const le=uI(a,f+"_start",r);return tT(a,u,le),t.moveToBookmark({id:f,keep:!0,forward:N}),{id:f,forward:N}},rT=(t,r,a=!1)=>r===2?sT(ue,a,t):r===3?cI(t):r?k4(t):Ta(t,!1),uw=st(sT,Mt,!0),x1=t=>t===1,dn=t=>t===-1,iT=t=>t.type==="inline-command"||t.type==="inline-format",sD=t=>t.type==="block-command"||t.type==="block-format",aT=(t,r)=>(t.type==="block-command"||t.type==="block-format")&&t.trigger===r,rD=t=>{const r=u=>Hl.error({message:u,pattern:t}),a=(u,f,y)=>{if(t.format!==void 0){let T;if(Oe(t.format)){if(!bs(t.format,re))return r(u+" pattern has non-string items in the `format` array");T=t.format}else if(re(t.format))T=[t.format];else return r(u+" pattern has non-string `format` parameter");return Hl.value(f(T))}else return t.cmd!==void 0?re(t.cmd)?Hl.value(y(t.cmd,t.value)):r(u+" pattern has non-string `cmd` parameter"):r(u+" pattern is missing both `format` and `cmd` parameters")};if(!ye(t))return r("Raw pattern is not an object");if(!re(t.start))return r("Raw pattern is missing `start` parameter");if(t.end!==void 0){if(!re(t.end))return r("Inline pattern has non-string `end` parameter");if(t.start.length===0&&t.end.length===0)return r("Inline pattern has empty `start` and `end` parameters");let u=t.start,f=t.end;return f.length===0&&(f=u,u=""),a("Inline",y=>({type:"inline-format",start:u,end:f,format:y}),(y,T)=>({type:"inline-command",start:u,end:f,cmd:y,value:T}))}else{if(t.replacement!==void 0)return re(t.replacement)?t.start.length===0?r("Replacement pattern has empty `start` parameter"):Hl.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):r("Replacement pattern has non-string `replacement` parameter");{const u=t.trigger??"space";return t.start.length===0?r("Block pattern has empty `start` parameter"):a("Block",f=>({type:"block-format",start:t.start,format:f[0],trigger:u}),(f,y)=>({type:"block-command",start:t.start,cmd:f,value:y,trigger:u}))}}},by=t=>je(t,sD),O1=t=>je(t,iT),I1=(t,r)=>({inlinePatterns:O1(t),blockPatterns:by(t),dynamicPatternsLookup:r}),dI=(t,r)=>({...t,blockPatterns:je(t.blockPatterns,a=>aT(a,r))}),R1=t=>{const r=ol(mn(t,rD));return Ze(r.errors,a=>console.error(a.message,a.pattern)),r.values},Ea=t=>r=>{const a=t(r);return R1(a)},ev=(t,r)=>t.dispatch("PreProcess",r),iD=(t,r)=>t.dispatch("PostProcess",r),yy=t=>{t.dispatch("remove")},Ym=t=>{t.dispatch("detach")},D4=(t,r)=>{t.dispatch("SwitchMode",{mode:r})},M4=(t,r,a,u,f)=>{t.dispatch("ObjectResizeStart",{target:r,width:a,height:u,origin:f})},hI=(t,r,a,u,f)=>{t.dispatch("ObjectResized",{target:r,width:a,height:u,origin:f})},P4=t=>{t.dispatch("PreInit")},N4=t=>{t.dispatch("PostRender")},L4=t=>{t.dispatch("Init")},B4=(t,r)=>{t.dispatch("PlaceholderToggle",{state:r})},fI=(t,r,a)=>{t.dispatch(r,a)},Qn=(t,r,a,u)=>{t.dispatch("FormatApply",{format:r,node:a,vars:u})},aD=(t,r,a,u)=>{t.dispatch("FormatRemove",{format:r,node:a,vars:u})},cu=(t,r)=>t.dispatch("BeforeSetContent",r),lD=(t,r)=>t.dispatch("SetContent",r),cD=(t,r)=>t.dispatch("BeforeGetContent",r),uD=(t,r)=>t.dispatch("GetContent",r),V4=(t,r)=>{t.dispatch("AutocompleterStart",r)},Fs=(t,r)=>{t.dispatch("AutocompleterUpdate",r)},pI=(t,r)=>{t.dispatch("AutocompleterUpdateActiveRange",r)},dD=t=>{t.dispatch("AutocompleterEnd")},Bz=(t,r,a)=>t.dispatch("PastePreProcess",{content:r,internal:a}),F4=(t,r,a)=>t.dispatch("PastePostProcess",{node:r,internal:a}),hD=(t,r)=>t.dispatch("PastePlainTextToggle",{state:r}),Vz=(t,r)=>t.dispatch("EditableRootStateChange",{state:r}),H4=(t,r)=>t.dispatch("DisabledStateChange",{state:r}),fD=t=>t.dispatch("CloseActiveTooltips"),mI=Dd().deviceType,Hs=mI.isTouch(),gI=mi.DOM,Sy=t=>{const r=t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(",");return rn(r,(a,u)=>{const f=u.split("="),y=f[0],T=f.length>1?f[1]:y;return a[Pr(y)]=Pr(T),a},{})},gp=t=>ce(t,RegExp),xo=t=>r=>r.options.get(t),Wd=t=>re(t)||ye(t),dw=(t,r="")=>a=>{const u=re(a);if(u)if(a.indexOf("=")!==-1){const f=Sy(a);return{value:sr(f,t.id).getOr(r),valid:u}}else return{value:a,valid:u};else return{valid:!1,message:"Must be a string."}},hw=t=>{const r=t.options.register;r("id",{processor:"string",default:t.id}),r("selector",{processor:"string"}),r("target",{processor:"object"}),r("suffix",{processor:"string"}),r("cache_suffix",{processor:"string"}),r("base_url",{processor:"string"}),r("referrer_policy",{processor:"string",default:""}),r("crossorigin",{processor:"function",default:nt(void 0)}),r("language_load",{processor:"boolean",default:!0}),r("inline",{processor:"boolean",default:!1}),r("iframe_attrs",{processor:"object",default:{}}),r("doctype",{processor:"string",default:"<!DOCTYPE html>"}),r("document_base_url",{processor:"string",default:t.editorManager.documentBaseURL}),r("body_id",{processor:dw(t,"tinymce"),default:"tinymce"}),r("body_class",{processor:dw(t),default:""}),r("content_security_policy",{processor:"string",default:""}),r("br_in_pre",{processor:"boolean",default:!0}),r("forced_root_block",{processor:a=>{const u=re(a)&&fi(a);return u?{value:a,valid:u}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),r("forced_root_block_attrs",{processor:"object",default:{}}),r("newline_behavior",{processor:a=>{const u=kt(["block","linebreak","invert","default"],a);return u?{value:a,valid:u}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),r("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),r("no_newline_selector",{processor:"string",default:""}),r("keep_styles",{processor:"boolean",default:!0}),r("end_container_on_empty_block",{processor:a=>Me(a)?{valid:!0,value:a}:re(a)?{valid:!0,value:a}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),r("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),r("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),r("font_size_classes",{processor:"string",default:""}),r("automatic_uploads",{processor:"boolean",default:!0}),r("images_reuse_filename",{processor:"boolean",default:!1}),r("images_replace_blob_uris",{processor:"boolean",default:!0}),r("icons",{processor:"string",default:""}),r("icons_url",{processor:"string",default:""}),r("images_upload_url",{processor:"string",default:""}),r("images_upload_base_path",{processor:"string",default:""}),r("images_upload_credentials",{processor:"boolean",default:!1}),r("images_upload_handler",{processor:"function"}),r("language",{processor:"string",default:"en"}),r("language_url",{processor:"string",default:""}),r("entity_encoding",{processor:"string",default:"named"}),r("indent",{processor:"boolean",default:!0}),r("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),r("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),r("indent_use_margin",{processor:"boolean",default:!1}),r("indentation",{processor:"string",default:"40px"}),r("content_css",{processor:a=>{const u=a===!1||re(a)||rt(a,re);return u?re(a)?{value:mn(a.split(","),Pr),valid:u}:Oe(a)?{value:a,valid:u}:a===!1?{value:[],valid:u}:{value:a,valid:u}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:dT(t)?[]:["default"]}),r("content_style",{processor:"string"}),r("content_css_cors",{processor:"boolean",default:!1}),r("font_css",{processor:a=>{const u=re(a)||rt(a,re);return u?{value:Oe(a)?a:mn(a.split(","),Pr),valid:u}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),r("extended_mathml_attributes",{processor:"string[]"}),r("extended_mathml_elements",{processor:"string[]"}),r("inline_boundaries",{processor:"boolean",default:!0}),r("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),r("object_resizing",{processor:a=>{const u=Me(a)||re(a);return u?a===!1||mI.isiPhone()||mI.isiPad()?{value:"",valid:u}:{value:a===!0?"table,img,figure.image,div,video,iframe":a,valid:u}:{valid:!1,message:"Must be boolean or a string"}},default:!Hs}),r("resize_img_proportional",{processor:"boolean",default:!0}),r("event_root",{processor:"string"}),r("service_message",{processor:"string"}),r("onboarding",{processor:"boolean",default:!0}),r("tiny_cloud_entry_url",{processor:"string"}),r("theme",{processor:a=>a===!1||re(a)||we(a),default:"silver"}),r("theme_url",{processor:"string"}),r("formats",{processor:"object"}),r("format_empty_lines",{processor:"boolean",default:!1}),r("format_noneditable_selector",{processor:"string",default:""}),r("preview_styles",{processor:a=>{const u=a===!1||re(a);return u?{value:a===!1?"":a,valid:u}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),r("custom_ui_selector",{processor:"string",default:""}),r("hidden_input",{processor:"boolean",default:!0}),r("submit_patch",{processor:"boolean",default:!0}),r("encoding",{processor:"string"}),r("add_form_submit_trigger",{processor:"boolean",default:!0}),r("add_unload_trigger",{processor:"boolean",default:!0}),r("custom_undo_redo_levels",{processor:"number",default:0}),r("disable_nodechange",{processor:"boolean",default:!1}),r("disabled",{processor:a=>Me(a)?(t.initialized&&xw(t)!==a&&Promise.resolve().then(()=>{H4(t,a)}),{valid:!0,value:a}):{valid:!1,message:"The value must be a boolean."},default:!1}),r("readonly",{processor:"boolean",default:!1}),r("editable_root",{processor:"boolean",default:!0}),r("plugins",{processor:"string[]",default:[]}),r("external_plugins",{processor:"object"}),r("forced_plugins",{processor:"string[]"}),r("model",{processor:"string",default:t.hasPlugin("rtc")?"plugin":"dom"}),r("model_url",{processor:"string"}),r("block_unsupported_drop",{processor:"boolean",default:!0}),r("visual",{processor:"boolean",default:!0}),r("visual_table_class",{processor:"string",default:"mce-item-table"}),r("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),r("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(t.hasPlugin("help")?". Press ALT-0 for help.":"")}),r("setup",{processor:"function"}),r("init_instance_callback",{processor:"function"}),r("url_converter",{processor:"function",default:t.convertURL}),r("url_converter_scope",{processor:"object",default:t}),r("urlconverter_callback",{processor:"function"}),r("allow_conditional_comments",{processor:"boolean",default:!1}),r("allow_html_data_urls",{processor:"boolean",default:!1}),r("allow_svg_data_urls",{processor:"boolean"}),r("allow_html_in_named_anchor",{processor:"boolean",default:!1}),r("allow_html_in_comments",{processor:"boolean",default:!1}),r("allow_script_urls",{processor:"boolean",default:!1}),r("allow_unsafe_link_target",{processor:"boolean",default:!1}),r("allow_mathml_annotation_encodings",{processor:a=>{const u=rt(a,re);return u?{value:a,valid:u}:{valid:!1,message:"Must be an array of strings."}},default:[]}),r("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),r("fix_list_elements",{processor:"boolean",default:!1}),r("preserve_cdata",{processor:"boolean",default:!1}),r("remove_trailing_brs",{processor:"boolean",default:!0}),r("pad_empty_with_br",{processor:"boolean",default:!1}),r("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),r("element_format",{processor:"string",default:"html"}),r("entities",{processor:"string"}),r("schema",{processor:"string",default:"html5"}),r("convert_urls",{processor:"boolean",default:!0}),r("relative_urls",{processor:"boolean",default:!0}),r("remove_script_host",{processor:"boolean",default:!0}),r("custom_elements",{processor:Wd}),r("extended_valid_elements",{processor:"string"}),r("invalid_elements",{processor:"string"}),r("invalid_styles",{processor:Wd}),r("valid_children",{processor:"string"}),r("valid_classes",{processor:Wd}),r("valid_elements",{processor:"string"}),r("valid_styles",{processor:Wd}),r("verify_html",{processor:"boolean",default:!0}),r("auto_focus",{processor:a=>re(a)||a===!0}),r("browser_spellcheck",{processor:"boolean",default:!1}),r("protect",{processor:"array"}),r("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),r("deprecation_warnings",{processor:"boolean",default:!0}),r("a11y_advanced_options",{processor:"boolean",default:!1}),r("api_key",{processor:"string"}),r("license_key",{processor:"string"}),r("paste_block_drop",{processor:"boolean",default:!1}),r("paste_data_images",{processor:"boolean",default:!0}),r("paste_preprocess",{processor:"function"}),r("paste_postprocess",{processor:"function"}),r("paste_webkit_styles",{processor:"string",default:"none"}),r("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),r("paste_merge_formats",{processor:"boolean",default:!0}),r("smart_paste",{processor:"boolean",default:!0}),r("paste_as_text",{processor:"boolean",default:!1}),r("paste_tab_spaces",{processor:"number",default:4}),r("text_patterns",{processor:a=>rt(a,ye)||a===!1?{value:R1(a===!1?[]:a),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),r("text_patterns_lookup",{processor:a=>we(a)?{value:Ea(a),valid:!0}:{valid:!1,message:"Must be a single function"},default:a=>[]}),r("noneditable_class",{processor:"string",default:"mceNonEditable"}),r("editable_class",{processor:"string",default:"mceEditable"}),r("noneditable_regexp",{processor:a=>rt(a,gp)?{value:a,valid:!0}:gp(a)?{value:[a],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),r("table_tab_navigation",{processor:"boolean",default:!0}),r("highlight_on_focus",{processor:"boolean",default:!0}),r("xss_sanitization",{processor:"boolean",default:!0}),r("details_initial_state",{processor:a=>{const u=kt(["inherited","collapsed","expanded"],a);return u?{value:a,valid:u}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),r("details_serialized_state",{processor:a=>{const u=kt(["inherited","collapsed","expanded"],a);return u?{value:a,valid:u}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),r("init_content_sync",{processor:"boolean",default:!1}),r("newdocument_content",{processor:"string",default:""}),r("sandbox_iframes",{processor:"boolean",default:!0}),r("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),r("convert_unsafe_embeds",{processor:"boolean",default:!0}),r("user_id",{processor:"string",default:"Anonymous"}),r("fetch_users",{processor:a=>a===void 0?{valid:!0,value:void 0}:we(a)?{valid:!0,value:a}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}}),t.on("ScriptsLoaded",()=>{r("directionality",{processor:"string",default:fp.isRtl()?"rtl":void 0}),r("placeholder",{processor:"string",default:gI.getAttrib(t.getElement(),"placeholder")})}),r("lists_indent_on_tab",{processor:"boolean",default:!0}),r("list_max_depth",{processor:a=>{const u=ct(a);if(u){if(a<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:a,valid:u}}else return{valid:!1,message:"Must be a number"}}})},lT=xo("iframe_attrs"),gC=xo("doctype"),fw=xo("document_base_url"),Cy=xo("body_id"),pd=xo("body_class"),Qv=xo("content_security_policy"),$4=xo("br_in_pre"),Uu=xo("forced_root_block"),vC=xo("forced_root_block_attrs"),U4=xo("newline_behavior"),Ur=xo("br_newline_selector"),tv=xo("no_newline_selector"),k1=xo("keep_styles"),Fz=xo("end_container_on_empty_block"),D1=xo("automatic_uploads"),Gr=xo("images_reuse_filename"),Hz=xo("images_replace_blob_uris"),pD=xo("icons"),$z=xo("icons_url"),Uz=xo("images_upload_url"),pw=xo("images_upload_base_path"),z4=xo("images_upload_credentials"),zz=xo("images_upload_handler"),cT=xo("content_css_cors"),vI=xo("referrer_policy"),mw=xo("crossorigin"),mD=xo("language"),j4=xo("language_url"),gw=xo("indent_use_margin"),bI=xo("indentation"),yI=xo("content_css"),gD=xo("content_style"),vD=xo("font_css"),bD=xo("directionality"),SI=xo("inline_boundaries_selector"),CI=xo("object_resizing"),ri=xo("resize_img_proportional"),yD=xo("placeholder"),uT=xo("event_root"),EI=xo("service_message"),im=xo("theme"),SD=xo("theme_url"),wI=xo("model"),W4=xo("model_url"),eb=xo("inline_boundaries"),G4=xo("formats"),vw=xo("preview_styles"),bw=xo("format_empty_lines"),q4=xo("format_noneditable_selector"),b0=xo("custom_ui_selector"),dT=xo("inline"),CD=xo("hidden_input"),Z4=xo("submit_patch"),ED=xo("add_form_submit_trigger"),jz=xo("add_unload_trigger"),wD=xo("custom_undo_redo_levels"),_D=xo("disable_nodechange"),yw=xo("readonly"),Sw=xo("editable_root"),Cw=xo("content_css_cors"),M1=xo("plugins"),hT=xo("external_plugins"),Ew=xo("block_unsupported_drop"),Ey=xo("visual"),ww=xo("visual_table_class"),_I=xo("visual_anchor_class"),fT=xo("iframe_aria_text"),AD=xo("setup"),TD=xo("init_instance_callback"),xD=xo("urlconverter_callback"),K4=xo("auto_focus"),pT=xo("browser_spellcheck"),bC=xo("protect"),P1=xo("paste_block_drop"),N1=xo("paste_data_images"),OD=xo("paste_preprocess"),ID=xo("paste_postprocess"),RD=xo("newdocument_content"),mT=xo("paste_webkit_styles"),kD=xo("paste_remove_styles_if_webkit"),Y4=xo("paste_merge_formats"),DD=xo("smart_paste"),gT=xo("paste_as_text"),AI=xo("paste_tab_spaces"),vT=xo("allow_html_data_urls"),TI=xo("text_patterns"),X4=xo("text_patterns_lookup"),xI=xo("noneditable_class"),MD=xo("editable_class"),PD=xo("noneditable_regexp"),_w=xo("preserve_cdata"),J4=xo("highlight_on_focus"),OI=xo("xss_sanitization"),II=xo("init_content_sync"),Q4=t=>t.options.isSet("text_patterns_lookup"),eB=t=>Un.explode(t.options.get("font_size_style_values")),L1=t=>Un.explode(t.options.get("font_size_classes")),ND=t=>t.options.get("encoding")==="xml",LD=t=>Un.explode(t.options.get("images_file_types")),tB=xo("table_tab_navigation"),nB=xo("details_initial_state"),oB=xo("details_serialized_state"),bT=xo("sandbox_iframes"),Aw=t=>t.options.get("sandbox_iframes_exclusions"),RI=xo("convert_unsafe_embeds"),Tw=xo("license_key"),BD=xo("api_key"),xw=xo("disabled"),sB=xo("user_id"),yT=xo("fetch_users"),rB=xo("lists_indent_on_tab"),VD=t=>Se.from(t.options.get("list_max_depth")),Wz=Oo,iB=Bn,B1=t=>{const r=t.parentNode;r&&r.removeChild(t)},ST=t=>{const r=ue(t);return{count:t.length-r.length,text:r}},CT=t=>{let r;for(;(r=t.data.lastIndexOf(Z))!==-1;)t.deleteData(r,1)},FD=(t,r)=>(tb(t),r),aB=(t,r)=>{const a=ST(t.data.substr(0,r.offset())),u=ST(t.data.substr(r.offset()));return(a.text+u.text).length>0?(CT(t),sn(t,r.offset()-a.count)):r},ET=(t,r)=>{const a=r.container(),u=oo(jt(a.childNodes),t).map(f=>f<r.offset()?sn(a,r.offset()-1):r).getOr(r);return tb(t),u},HD=(t,r)=>iB(t)&&r.container()===t?aB(t,r):FD(t,r),$D=(t,r)=>r.container()===t.parentNode?ET(t,r):FD(t,r),wT=(t,r)=>sn.isTextPosition(r)?HD(t,r):$D(t,r),tb=t=>{Wz(t)&&Be(t)&&(Pe(t)?t.removeAttribute("data-mce-caret"):B1(t)),iB(t)&&(CT(t),t.data.length===0&&B1(t))},UD=si,lB=Hh,cB=Kp,uB="*[contentEditable=false],video,audio,embed,object",yC=(t,r,a)=>{const u=Js(r.getBoundingClientRect(),a);let f,y;if(t.tagName==="BODY"){const M=t.ownerDocument.documentElement;f=t.scrollLeft||M.scrollLeft,y=t.scrollTop||M.scrollTop}else{const M=t.getBoundingClientRect();f=t.scrollLeft-M.left,y=t.scrollTop-M.top}u.left+=f,u.right+=f,u.top+=y,u.bottom+=y,u.width=1;let T=r.offsetWidth-r.clientWidth;return T>0&&(a&&(T*=-1),u.left+=T,u.right+=T),u},zD=t=>{const r=cn(Qe.fromDom(t),uB);for(let a=0;a<r.length;a++){const u=r[a].dom;let f=u.previousSibling;if(Ft(f)){const y=f.data;y.length===1?f.parentNode?.removeChild(f):f.deleteData(y.length-1,1)}f=u.nextSibling,Bt(f)&&(f.data.length===1?f.parentNode?.removeChild(f):f.deleteData(0,1))}},kI=(t,r,a,u)=>{const f=_c();let y,T;const M=Uu(t),N=t.dom,G=($e,Xe)=>{let wt;if(le(),cB(Xe))return null;if(a(Xe)){const Tt=Nt(M,Xe,$e),It=yC(r,Xe,$e);N.setStyle(Tt,"top",It.top),N.setStyle(Tt,"caret-color","transparent"),T=Tt;const fn=N.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});N.setStyles(fn,{...It}),N.add(r,fn),f.set({caret:fn,element:Xe,before:$e}),$e&&N.addClass(fn,"mce-visual-caret-before"),fe(),wt=Xe.ownerDocument.createRange(),wt.setStart(Tt,0),wt.setEnd(Tt,0)}else return T=tt(Xe,$e),wt=Xe.ownerDocument.createRange(),nv(T.nextSibling)?(wt.setStart(T,0),wt.setEnd(T,0)):(wt.setStart(T,1),wt.setEnd(T,1)),wt;return wt},le=()=>{zD(r),T&&(tb(T),T=null),f.on($e=>{N.remove($e.caret),f.clear()}),y&&(clearInterval(y),y=void 0)},fe=()=>{y=window.setInterval(()=>{f.on($e=>{u()?N.toggleClass($e.caret,"mce-visual-caret-hidden"):N.addClass($e.caret,"mce-visual-caret-hidden")})},500)},be=()=>{f.on($e=>{const Xe=yC(r,$e.element,$e.before);N.setStyles($e.caret,{...Xe})})},Ne=()=>clearInterval(y),Ke=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:f.isSet,show:G,hide:le,getCss:Ke,reposition:be,destroy:Ne}},_T=()=>_r.browser.isFirefox(),nv=t=>UD(t)||lB(t),Ow=t=>(nv(t)||ap(t)&&_T())&&Ru(Qe.fromDom(t)).exists(Nu),nb=iu,AT=si,jD=Hh,WD=Hv("display","block table table-cell table-row table-caption list-item"),dB=Be,GD=Ae,hB=Oo,fB=Bn,pB=Hi,SC=(t,r)=>{let a;for(;a=t(r);)if(!GD(a))return a;return null},Iw=(t,r,a,u,f)=>{const y=new Zi(t,u),T=AT(t)||GD(t);let M;if(dn(r)){if(T&&(M=SC(y.prev.bind(y),!0),a(M)))return M;for(;M=SC(y.prev.bind(y),f);)if(a(M))return M}if(x1(r)){if(T&&(M=SC(y.next.bind(y),!0),a(M)))return M;for(;M=SC(y.next.bind(y),f);)if(a(M))return M}return null},qD=(t,r)=>{const a=f=>nb(f.dom),u=f=>f.dom===r;return Vh(Qe.fromDom(t),a,u).map(f=>f.dom).getOr(r)},Rw=t=>Oo(t)&&La(Qe.fromDom(t),"position")==="absolute",mB=(t,r)=>t.parentNode!==r,gB=(t,r)=>AT(t)&&Rw(t)&&mB(t,r),ob=(t,r)=>{for(;t&&t!==r;){if(WD(t)&&!gB(t,r))return t;t=t.parentNode}return null},ov=(t,r,a)=>ob(t.container(),a)===ob(r.container(),a),Xo=(t,r)=>{if(!r)return Se.none();const a=r.container(),u=r.offset();return hB(a)?Se.from(a.childNodes[u+t]):Se.none()},kw=(t,r)=>{const u=(r.ownerDocument??document).createRange();return t?(u.setStartBefore(r),u.setEndBefore(r)):(u.setStartAfter(r),u.setEndAfter(r)),u},ZD=(t,r,a)=>ob(r,t)===ob(a,t),KD=(t,r,a)=>{const u=t?"previousSibling":"nextSibling";let f=a;for(;f&&f!==r;){let y=f[u];if(y&&dB(y)&&(y=y[u]),AT(y)||jD(y)){if(ZD(r,y,f))return y;break}if(pB(y))break;f=f.parentNode}return null},V1=st(kw,!0),wy=st(kw,!1),Dw=(t,r,a)=>{let u;const f=st(KD,!0,r),y=st(KD,!1,r),T=a.startContainer,M=a.startOffset;if(Ae(T)){const N=fB(T)?T.parentNode:T,G=N.getAttribute("data-mce-caret");if(G==="before"&&(u=N.nextSibling,Ow(u)))return V1(u);if(G==="after"&&(u=N.previousSibling,Ow(u)))return wy(u)}if(!a.collapsed)return a;if(Bn(T)){if(dB(T)){if(t===1){if(u=y(T),u)return V1(u);if(u=f(T),u)return wy(u)}if(t===-1){if(u=f(T),u)return wy(u);if(u=y(T),u)return V1(u)}return a}if(Ft(T)&&M>=T.data.length-1)return t===1&&(u=y(T),u)?V1(u):a;if(Bt(T)&&M<=1)return t===-1&&(u=f(T),u)?wy(u):a;if(M===T.data.length)return u=y(T),u?V1(u):a;if(M===0)return u=f(T),u?wy(u):a}return a},CC=(t,r)=>Xo(t?0:-1,r).filter(AT),sv=(t,r,a)=>{const u=Dw(t,r,a);return t===-1?sn.fromRangeStart(u):sn.fromRangeEnd(u)},EC=t=>Se.from(t.getNode()).map(Qe.fromDom),DI=t=>Se.from(t.getNode(!0)).map(Qe.fromDom),TT=(t,r)=>{let a=r;for(;a=t(a);)if(a.isVisible())return a;return a},Mw=(t,r)=>{const a=ov(t,r);return!a&&fa(t.getNode())?!0:a},YD=si,_f=Bn,sb=Oo,F1=fa,Xm=Hi,rb=ZA,Pw=KA,Nw=(t,r)=>{const a=[];let u=t;for(;u&&u!==r;)a.push(u),u=u.parentNode;return a},ib=(t,r)=>t.hasChildNodes()&&r<t.childNodes.length?t.childNodes[r]:null,MI=(t,r)=>{if(x1(t)){if(Xm(r.previousSibling)&&!_f(r.previousSibling))return sn.before(r);if(_f(r))return sn(r,0)}if(dn(t)){if(Xm(r.nextSibling)&&!_f(r.nextSibling))return sn.after(r);if(_f(r))return sn(r,r.data.length)}return dn(t)?F1(r)?sn.before(r):sn.after(r):sn.before(r)},XD=(t,r)=>{const a=r.nextSibling;return a&&Xm(a)?_f(a)?sn(a,0):sn.before(a):Lw(1,sn.after(r),t)},Lw=(t,r,a)=>{let u,f,y,T;if(!sb(a)||!r)return null;if(r.isEqual(sn.after(a))&&a.lastChild){if(T=sn.after(a.lastChild),dn(t)&&Xm(a.lastChild)&&sb(a.lastChild))return F1(a.lastChild)?sn.before(a.lastChild):T}else T=r;const M=T.container();let N=T.offset();if(_f(M)){if(dn(t)&&N>0)return sn(M,--N);if(x1(t)&&N<M.length)return sn(M,++N);u=M}else{if(dn(t)&&N>0&&(f=ib(M,N-1),Xm(f)))return!rb(f)&&(y=Iw(f,t,Pw,f),y)?_f(y)?sn(y,y.data.length):sn.after(y):_f(f)?sn(f,f.data.length):sn.before(f);if(x1(t)&&N<M.childNodes.length&&(f=ib(M,N),Xm(f)))return F1(f)?XD(a,f):!rb(f)&&(y=Iw(f,t,Pw,f),y)?_f(y)?sn(y,0):sn.before(y):_f(f)?sn(f,0):sn.after(f);u=f||T.getNode()}if(u&&(x1(t)&&T.isAtEnd()||dn(t)&&T.isAtStart())&&(u=Iw(u,t,Tn,a,!0),Pw(u,a)))return MI(t,u);f=u&&Iw(u,t,Pw,a);const G=Ve(je(Nw(M,a),YD));return G&&(!f||!G.contains(f))?(x1(t)?T=sn.after(G):T=sn.before(G),T):f?MI(t,f):null},rv=t=>({next:r=>Lw(1,r,t),prev:r=>Lw(-1,r,t)}),JD=(t,r,a)=>{const u=t?sn.before(a):sn.after(a);return Af(t,r,u)},vB=t=>fa(t)?sn.before(t):sn.after(t),bB=t=>sn.isTextPosition(t)?t.offset()===0:Hi(t.getNode()),QD=t=>{if(sn.isTextPosition(t)){const r=t.container();return t.offset()===r.data.length}else return Hi(t.getNode(!0))},H1=(t,r)=>!sn.isTextPosition(t)&&!sn.isTextPosition(r)&&t.getNode()===r.getNode(!0),eM=t=>!sn.isTextPosition(t)&&fa(t.getNode()),tM=(t,r,a)=>t?!H1(r,a)&&!eM(r)&&QD(r)&&bB(a):!H1(a,r)&&bB(r)&&QD(a),Af=(t,r,a)=>{const u=rv(r);return Se.from(t?u.next(a):u.prev(a))},y0=(t,r,a)=>Af(t,r,a).bind(u=>ov(a,u,r)&&tM(t,a,u)?Af(t,r,u):Se.some(u)),xT=(t,r,a,u)=>y0(t,r,a).bind(f=>u(f)?xT(t,r,f,u):Se.some(f)),wC=(t,r)=>{const a=t?r.firstChild:r.lastChild;return Bn(a)?Se.some(sn(a,t?0:a.data.length)):a?Hi(a)?Se.some(t?sn.before(a):vB(a)):JD(t,r,a):Se.none()},zh=st(Af,!0),uu=st(Af,!1),du=st(wC,!0),Tf=st(wC,!1),OT="_mce_caret",Jm=t=>Oo(t)&&t.id===OT,S0=(t,r)=>{let a=r;for(;a&&a!==t;){if(Jm(a))return a;a=a.parentNode}return null},js=t=>re(t.start),PI=t=>ts(t,"rng"),ab=t=>ts(t,"id"),nM=t=>ts(t,"name"),oM=t=>Un.isArray(t.start),IT=t=>!nM(t)&&Me(t.forward)?t.forward:!0,sM=(t,r)=>(Oo(r)&&t.isBlock(r)&&!r.innerHTML&&(r.innerHTML='<br data-mce-bogus="1" />'),r),rM=(t,r)=>{const a=Se.from(wf(t.getRoot(),r.start)),u=Se.from(wf(t.getRoot(),r.end));return wr(a,u,(f,y)=>{const T=t.createRng();return T.setStart(f.container(),f.offset()),T.setEnd(y.container(),y.offset()),{range:T,forward:IT(r)}})},iM=(t,r)=>{const u=(t.ownerDocument??document).createTextNode(Z);t.appendChild(u),r.setStart(u,0),r.setEnd(u,0)},RT=t=>!t.hasChildNodes(),iv=(t,r)=>Tf(t).fold(qt,a=>(r.setStart(a.container(),a.offset()),r.setEnd(a.container(),a.offset()),!0)),$1=(t,r,a)=>RT(r)&&S0(t,r)?(iM(r,a),!0):!1,aM=(t,r,a,u)=>{const f=a[r?"start":"end"],y=t.getRoot();if(f){let T=y,M=f[0];for(let N=f.length-1;T&&N>=1;N--){const G=T.childNodes;if($1(y,T,u))return!0;if(f[N]>G.length-1)return $1(y,T,u)?!0:iv(T,u);T=G[f[N]]}Bn(T)&&(M=Math.min(f[0],T.data.length)),Oo(T)&&(M=Math.min(f[0],T.childNodes.length)),r?u.setStart(T,M):u.setEnd(T,M)}return!0},_C=t=>Bn(t)&&t.data.length>0,lM=(t,r,a)=>{const u=t.get(a.id+"_"+r),f=u?.parentNode,y=a.keep;if(u&&f){let T,M;if(r==="start"?y?u.hasChildNodes()?(T=u.firstChild,M=1):_C(u.nextSibling)?(T=u.nextSibling,M=0):_C(u.previousSibling)?(T=u.previousSibling,M=u.previousSibling.data.length):(T=f,M=t.nodeIndex(u)+1):(T=f,M=t.nodeIndex(u)):y?u.hasChildNodes()?(T=u.firstChild,M=1):_C(u.previousSibling)?(T=u.previousSibling,M=u.previousSibling.data.length):(T=f,M=t.nodeIndex(u)):(T=f,M=t.nodeIndex(u)),!y){const N=u.previousSibling,G=u.nextSibling;Un.each(Un.grep(u.childNodes),fe=>{Bn(fe)&&(fe.data=fe.data.replace(/\uFEFF/g,""))});let le;for(;le=t.get(a.id+"_"+r);)t.remove(le,!0);if(Bn(G)&&Bn(N)&&!_r.browser.isOpera()){const fe=N.data.length;N.appendData(G.data),t.remove(G),T=N,M=fe}}return Se.some(sn(T,M))}else return Se.none()},kT=(t,r)=>{const a=t.createRng();return aM(t,!0,r,a)&&aM(t,!1,r,a)?Se.some({range:a,forward:IT(r)}):Se.none()},hu=(t,r)=>{const a=lM(t,"start",r),u=lM(t,"end",r);return wr(a,u.or(a),(f,y)=>{const T=t.createRng();return T.setStart(sM(t,f.container()),f.offset()),T.setEnd(sM(t,y.container()),y.offset()),{range:T,forward:IT(r)}})},yB=(t,r)=>Se.from(t.select(r.name)[r.index]).map(a=>{const u=t.createRng();return u.selectNode(a),{range:u,forward:!0}}),NI=(t,r)=>{const a=t.dom;if(r){if(oM(r))return kT(a,r);if(js(r))return rM(a,r);if(ab(r))return hu(a,r);if(nM(r))return yB(a,r);if(PI(r))return Se.some({range:r.rng,forward:IT(r)})}return Se.none()},SB=(t,r,a)=>rT(t,r,a),CB=(t,r)=>{NI(t,r).each(({range:a,forward:u})=>{t.setRng(a,u)})},am=t=>Oo(t)&&t.tagName==="SPAN"&&t.getAttribute("data-mce-type")==="bookmark",DT=(t=>r=>t===r)(ki),_y=t=>t!==""&&` \f
\r	\v`.indexOf(t)!==-1,LI=t=>!_y(t)&&!DT(t)&&!$l(t),AC=t=>{const r=[];if(t)for(let a=0;a<t.rangeCount;a++)r.push(t.getRangeAt(a));return r},cM=t=>Io(t,r=>{const a=gr(r);return a?[Qe.fromDom(a)]:[]}),BI=t=>AC(t).length>1,VI=t=>je(cM(t),m),uM=t=>cn(t,"td[data-mce-selected],th[data-mce-selected]"),MT=(t,r)=>{const a=uM(r);return a.length>0?a:VI(t)},U1=t=>MT(AC(t.selection.getSel()),Qe.fromDom(t.getBody())),Qm=(t,r)=>qa(t,"table",r),dM=t=>{const r=t.startContainer,a=t.startOffset;return Bn(r)?a===0?Se.some(Qe.fromDom(r)):Se.none():Se.from(r.childNodes[a]).map(Qe.fromDom)},EB=t=>{const r=t.endContainer,a=t.endOffset;return Bn(r)?a===r.data.length?Se.some(Qe.fromDom(r)):Se.none():Se.from(r.childNodes[a-1]).map(Qe.fromDom)},FI=t=>Wl(t).fold(nt([t]),r=>[t].concat(FI(r))),PT=t=>Ga(t).fold(nt([t]),r=>Ns(r)==="br"?Pd(r).map(a=>[t].concat(PT(a))).getOr([]):[t].concat(PT(r))),HI=(t,r)=>wr(dM(r),EB(r),(a,u)=>{const f=_t(FI(t),st(_o,a)),y=_t(PT(t),st(_o,u));return f.isSome()&&y.isSome()}).getOr(!1),TC=(t,r,a,u)=>{const f=a,y=new Zi(a,f),T=or(t.schema.getMoveCaretBeforeOnEnterElements(),(N,G)=>!kt(["td","th","table"],G.toLowerCase()));let M=a;do{if(Bn(M)&&Un.trim(M.data).length!==0){u?r.setStart(M,0):r.setEnd(M,M.data.length);return}if(T[M.nodeName]){u?r.setStartBefore(M):M.nodeName==="BR"?r.setEndBefore(M):r.setEndAfter(M);return}}while(M=u?y.next():y.prev());f.nodeName==="BODY"&&(u?r.setStart(f,0):r.setEnd(f,f.childNodes.length))},NT=t=>{const r=t.selection.getSel();return De(r)&&r.rangeCount>0},$I=(t,r)=>{const a=U1(t);a.length>0?Ze(a,u=>{const f=u.dom,y=t.dom.createRng();y.setStartBefore(f),y.setEndAfter(f),r(y,!0)}):r(t.selection.getRng(),!1)},hM=(t,r,a)=>{const u=Ta(t,r);a(u),t.moveToBookmark(u)},Bw=(t,r)=>t.startContainer===t.endContainer&&t.endOffset-t.startOffset===1&&r(t.startContainer.childNodes[t.startOffset]),wB=t=>Bw(t,ha),_B=t=>Bw(t,Bn),fM=t=>Bw(t,pf),z1=t=>ct(t?.nodeType),UI=t=>Oo(t)&&!am(t)&&!Jm(t)&&!Vg(t),AB=(t,r)=>{if(UI(r)&&!/^(TD|TH)$/.test(r.nodeName)){const a=t.getAttrib(r,"data-mce-selected"),u=parseInt(a,10);return!isNaN(u)&&u>0}else return!1},pM=(t,r,a)=>{const{selection:u,dom:f}=t,y=u.getNode(),T=si(y);hM(u,!0,()=>{r()}),T&&si(y)&&f.isChildOf(y,t.getBody())?t.selection.select(y):a(u.getStart())&&TB(f,u)},TB=(t,r)=>{const a=r.getRng(),{startContainer:u,startOffset:f}=a,y=r.getNode();if(!AB(t,y)&&Oo(u)){const T=u.childNodes,M=t.getRoot();let N;if(f<T.length){const G=T[f];N=new Zi(G,t.getParent(G,t.isBlock)??M)}else{const G=T[T.length-1];N=new Zi(G,t.getParent(G,t.isBlock)??M),N.next(!0)}for(let G=N.current();G;G=N.next()){if(t.getContentEditable(G)==="false")return;if(Bn(G)&&!zI(G)){a.setStart(G,0),r.setRng(a);return}}}},mM=(t,r,a)=>{if(t){const u=r?"nextSibling":"previousSibling";for(t=t[u];t;t=t[u])if(Oo(t)||!zI(t))return t}},pa=(t,r)=>!!t.getTextBlockElements()[r.nodeName.toLowerCase()]||xn(t,r),j1=(t,r,a)=>t.schema.isValidChild(r,a),zI=(t,r=!1)=>{if(De(t)&&Bn(t)){const a=r?t.data.replace(/ /g,""):t.data;return Lg(a)}else return!1},b=t=>De(t)&&Bn(t)&&t.length===0,w=(t,r)=>{const a="[data-mce-cef-wrappable]",u=q4(t),f=fc(u)?a:`${a},${u}`;return dr(Qe.fromDom(r),f)},k=(t,r)=>{const a=t.dom;return UI(r)&&a.getContentEditable(r)==="false"&&w(t,r)&&a.select('[contenteditable="true"]',r).length===0},W=(t,r)=>we(t)?t(r):(De(r)&&(t=t.replace(/%(\w+)/g,(a,u)=>r[u]||a)),t),se=(t,r)=>(t=t||"",r=r||"",t=""+(t.nodeName||t),r=""+(r.nodeName||r),t.toLowerCase()===r.toLowerCase()),pe=(t,r)=>{if(Fe(t))return null;{let a=String(t);return(r==="color"||r==="backgroundColor")&&(a=py(a)),r==="fontWeight"&&t===700&&(a="bold"),r==="fontFamily"&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),a}},Te=(t,r,a)=>{const u=t.getStyle(r,a);return pe(u,a)},He=(t,r)=>{let a;return t.getParent(r,u=>Oo(u)?(a=t.getStyle(u,"text-decoration"),!!a&&a!=="none"):!1),a},Ye=(t,r,a)=>t.getParents(r,a,t.getRoot()),vt=(t,r,a)=>{const u=t.formatter.get(r);return De(u)&&bn(u,a)},zt=(t,r)=>vt(t,r,u=>{const f=y=>we(y)||y.length>1&&y.charAt(0)==="%";return bn(["styles","attributes"],y=>sr(u,y).exists(T=>{const M=Oe(T)?T:Ni(T);return bn(M,f)}))}),Ln=(t,r,a)=>{const u=["inline","block","selector","attributes","styles","classes"],f=y=>or(y,(T,M)=>bn(u,N=>N===M));return vt(t,r,y=>{const T=f(y);return vt(t,a,M=>{const N=f(M);return ul(T,N)})})},fo=t=>ps(t,"block"),bo=t=>fo(t)&&t.wrapper===!0,ss=t=>fo(t)&&t.wrapper!==!0,an=t=>ps(t,"selector"),Sn=t=>ps(t,"inline"),As=t=>an(t)&&Sn(t)&&Kr(sr(t,"mixed"),!0),Ks=t=>an(t)&&t.expand!==!1&&!Sn(t),Vo=t=>{const r=[];let a=t;for(;a;){if(Bn(a)&&a.data!==Z||a.childNodes.length>1)return[];Oo(a)&&r.push(a),a=a.firstChild}return r},xi=t=>Vo(t).length>0,vi=t=>Jm(t.dom)&&xi(t.dom),$s=am,Gl=Ye,vp=zI,Ay=pa,C0=t=>fa(t)&&t.getAttribute("data-mce-bogus")&&!t.nextSibling,E0=(t,r)=>{let a=r;for(;a;){if(Oo(a)&&t.getContentEditable(a))return t.getContentEditable(a)==="false"?a:r;a=a.parentNode}return r},$i=(t,r,a,u)=>{const f=r.data;if(t){for(let y=a;y>0;y--)if(u(f.charAt(y-1)))return y}else for(let y=a;y<f.length;y++)if(u(f.charAt(y)))return y;return-1},mh=(t,r,a)=>$i(t,r,a,u=>DT(u)||_y(u)),gh=(t,r,a)=>$i(t,r,a,LI),lm=(t,r,a,u,f,y)=>{let T;const M=t.getParent(a,fe=>Zp(fe)||t.isBlock(fe)),N=De(M)?M:r,G=(fe,be,Ne)=>{const Ke=sm(t),$e=f?Ke.backwards:Ke.forwards;return Se.from($e(fe,be,(Xe,wt)=>$s(Xe.parentNode)?-1:(T=Xe,Ne(f,Xe,wt)),N))};return G(a,u,mh).bind(fe=>y?G(fe.container,fe.offset+(f?-1:0),gh):Se.some(fe)).orThunk(()=>T?Se.some({container:T,offset:f?0:T.length}):Se.none())},jh=(t,r,a,u,f)=>{const y=u[f];Bn(u)&&fc(u.data)&&y&&(u=y);const T=Gl(t,u);for(let M=0;M<T.length;M++)for(let N=0;N<r.length;N++){const G=r[N];if(!(De(G.collapsed)&&G.collapsed!==a.collapsed)&&an(G)&&t.is(T[M],G.selector))return T[M]}return u},Ty=(t,r,a,u)=>{let f=a;const y=t.getRoot(),T=r[0];if(fo(T)&&(f=T.wrapper?null:t.getParent(a,T.block,y)),!f){const M=t.getParent(a,"LI,TD,TH,SUMMARY")??y;f=t.getParent(Bn(a)?a.parentNode:a,N=>N!==y&&Ay(t.schema,N),M)}if(f&&fo(T)&&T.wrapper&&(f=Gl(t,f,"ul,ol").reverse()[0]||f),!f)for(f=a;f&&f[u]&&!t.isBlock(f[u])&&(f=f[u],!se(f,"br")););return f||a},md=(t,r,a,u)=>{const f=a.parentNode;return De(a[u])?!1:f===r||Fe(f)||t.isBlock(f)?!0:md(t,r,f,u)},Vw=(t,r,a,u,f,y)=>{let T=a;const M=f?"previousSibling":"nextSibling",N=t.getRoot();if(Bn(a)&&!vp(a)&&(f?u>0:u<a.data.length))return a;for(;T;){if(Zp(T))return a;if(!r[0].block_expand&&t.isBlock(T))return y?T:a;for(let G=T[M];G;G=G[M]){const le=Bn(G)&&!md(t,N,G,M);if(!$s(G)&&!C0(G)&&!vp(G,le))return T}if(T===N||T.parentNode===N){a=T;break}T=T.parentNode}return a},xC=t=>$s(t.parentNode)||$s(t),xf=(t,r,a,u={})=>{const{includeTrailingSpace:f=!1,expandToBlock:y=!0}=u,T=t.getParent(r.commonAncestorContainer,Ne=>Zp(Ne)),M=De(T)?T:t.getRoot();let{startContainer:N,startOffset:G,endContainer:le,endOffset:fe}=r;const be=a[0];return Oo(N)&&N.hasChildNodes()&&(N=ui(N,G),Bn(N)&&(G=0)),Oo(le)&&le.hasChildNodes()&&(le=ui(le,r.collapsed?fe:fe-1),Bn(le)&&(fe=le.data.length)),N=E0(t,N),le=E0(t,le),xC(N)&&(N=$s(N)?N:N.parentNode,r.collapsed?N=N.previousSibling||N:N=N.nextSibling||N,Bn(N)&&(G=r.collapsed?N.length:0)),xC(le)&&(le=$s(le)?le:le.parentNode,r.collapsed?le=le.nextSibling||le:le=le.previousSibling||le,Bn(le)&&(fe=r.collapsed?0:le.length)),r.collapsed&&(lm(t,M,N,G,!0,f).each(({container:$e,offset:Xe})=>{N=$e,G=Xe}),lm(t,M,le,fe,!1,f).each(({container:$e,offset:Xe})=>{le=$e,fe=Xe})),(Sn(be)||be.block_expand)&&((!Sn(be)||!Bn(N)||G===0)&&(N=Vw(t,a,N,G,!0,y)),(!Sn(be)||!Bn(le)||fe===le.data.length)&&(le=Vw(t,a,le,fe,!1,y))),Ks(be)&&(N=jh(t,a,r,N,"previousSibling"),le=jh(t,a,r,le,"nextSibling")),(fo(be)||an(be))&&(N=Ty(t,a,N,"previousSibling"),le=Ty(t,a,le,"nextSibling"),fo(be)&&(t.isBlock(N)||(N=Vw(t,a,N,G,!0,y),Bn(N)&&(G=0)),t.isBlock(le)||(le=Vw(t,a,le,fe,!1,y),Bn(le)&&(fe=le.data.length)))),Oo(N)&&N.parentNode&&(G=t.nodeIndex(N),N=N.parentNode),Oo(le)&&le.parentNode&&(fe=t.nodeIndex(le)+1,le=le.parentNode),{startContainer:N,startOffset:G,endContainer:le,endOffset:fe}},$c=(t,r,a)=>{const u=r.startOffset,f=ui(r.startContainer,u),y=r.endOffset,T=ui(r.endContainer,y-1),M=$e=>{const Xe=$e[0];Bn(Xe)&&Xe===f&&u>=Xe.data.length&&$e.splice(0,1);const wt=$e[$e.length-1];return y===0&&$e.length>0&&wt===T&&Bn(wt)&&$e.splice($e.length-1,1),$e},N=($e,Xe,wt)=>{const Tt=[];for(;$e&&$e!==wt;$e=$e[Xe])Tt.push($e);return Tt},G=($e,Xe)=>t.getParent($e,wt=>wt.parentNode===Xe,Xe),le=($e,Xe,wt)=>{const Tt=wt?"nextSibling":"previousSibling";for(let It=$e,fn=It.parentNode;It&&It!==Xe;It=fn){fn=It.parentNode;const Mn=N(It===$e?It:It[Tt],Tt);Mn.length&&(wt||Mn.reverse(),a(M(Mn)))}};if(f===T)return a(M([f]));const fe=t.findCommonAncestor(f,T)??t.getRoot();if(t.isChildOf(f,T))return le(f,fe,!0);if(t.isChildOf(T,f))return le(T,fe);const be=G(f,fe)||f,Ne=G(T,fe)||T;le(f,be,!0);const Ke=N(be===f?be:be.nextSibling,"nextSibling",Ne===T?Ne.nextSibling:Ne);Ke.length&&a(M(Ke)),le(T,Ne)},xB=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],OB=t=>Jr(t)&&gl(t)===Z,Yo=(t,r,a,u)=>Ru(r).fold(()=>"skipping",f=>u==="br"||OB(r)?"valid":QO(r)?"existing":Jm(r.dom)?"caret":bn(xB,y=>dr(r,y))?"valid-block":!j1(t,a,u)||!j1(t,Ns(f),a)?"invalid-child":"valid"),eg=(t,r)=>{const a=xf(t.dom,r,[{inline:"span"}]);r.setStart(a.startContainer,a.startOffset),r.setEnd(a.endContainer,a.endOffset),t.selection.setRng(r)},gM=(t,r,a,u,f,y)=>{const{uid:T=r,...M}=a;wl(t,Sf()),ca(t,`${om()}`,T),ca(t,`${nm()}`,u);const{attributes:N={},classes:G=[]}=f(T,M);if(Ra(t,N),Xb(t,G),y){G.length>0&&ca(t,`${Gm()}`,G.join(","));const le=Zt(N);le.length>0&&ca(t,`${qm()}`,le.join(","))}},LT=t=>{rl(t,Sf()),pl(t,`${om()}`),pl(t,`${nm()}`),pl(t,`${Kg()}`);const r=ah(t,`${qm()}`).map(u=>u.split(",")).getOr([]),a=ah(t,`${Gm()}`).map(u=>u.split(",")).getOr([]);Ze(r,u=>pl(t,u)),Jb(t,a),pl(t,`${Gm()}`),pl(t,`${qm()}`)},vM=(t,r,a,u,f)=>{const y=Qe.fromTag("span",t);return gM(y,r,a,u,f,!1),y},Fw=(t,r,a,u,f,y)=>{const T=[],M=vM(t.getDoc(),a,y,u,f),N=_c(),G=()=>{N.clear()},le=()=>N.get().getOrThunk(()=>{const Ke=El(M);return T.push(Ke),N.set(Ke),Ke}),fe=Ke=>{Ze(Ke,be)},be=Ke=>{switch(Yo(t,Ke,"span",Ns(Ke))){case"invalid-child":{G();const Xe=pr(Ke);fe(Xe),G();break}case"valid-block":{G(),gM(Ke,a,y,u,f,!0);break}case"valid":{const Xe=le();Ld(Ke,Xe);break}}},Ne=Ke=>{const $e=mn(Ke,Qe.fromDom);fe($e)};return $c(t.dom,r,Ke=>{G(),Ne(Ke)}),T},Mte=(t,r,a,u)=>{t.undoManager.transact(()=>{const f=t.selection,y=f.getRng(),T=U1(t).length>0,M=dl("mce-annotation");if(y.collapsed&&!T&&eg(t,y),f.getRng().collapsed&&!T){const N=vM(t.getDoc(),M,u,r,a.decorate);zp(N,ki),f.getRng().insertNode(N.dom),f.select(N.dom)}else hM(f,!1,()=>{$I(t,N=>{Fw(t,N,M,r,a.decorate,u)})})})},IB=t=>{const r=Yg();aC(t,r);const a=iC(t,r),u=yl("span"),f=y=>{Ze(y,T=>{u(T)?Mu(T):LT(T)})};return{register:(y,T)=>{r.register(y,T)},annotate:(y,T)=>{r.lookup(y).each(M=>{Mte(t,y,M,T)})},annotationChanged:(y,T)=>{a.addListener(y,T)},remove:y=>{sC(t,Se.some(y)).each(({elements:T})=>{const M=t.selection.getBookmark();f(T),t.selection.moveToBookmark(M)})},removeAll:y=>{const T=t.selection.getBookmark();eo(rC(t,y),(M,N)=>{f(M)}),t.selection.moveToBookmark(T)},getAll:y=>{const T=rC(t,y);return jo(T,M=>mn(M,N=>N.dom))}}},Hw=t=>({getBookmark:st(SB,t),moveToBookmark:st(CB,t)});Hw.isBookmarkNode=am;const bM=(t,r,a)=>a.collapsed?!1:bn(a.getClientRects(),u=>Da(u,t,r)),yM=(t,r)=>{const a=Jr(r)?gl(r).length:pr(r).length+1;return t>a?a:t<0?0:t},RB=t=>Lm.range(t.start,yM(t.soffset,t.start),t.finish,yM(t.foffset,t.finish)),qz=(t,r)=>!Bg(r.dom)&&(Xr(t,r)||_o(t,r)),Zz=t=>r=>qz(t,r.start)&&qz(t,r.finish),Pte=t=>t.inline||_r.browser.isFirefox(),Nte=t=>Lm.range(Qe.fromDom(t.startContainer),t.startOffset,Qe.fromDom(t.endContainer),t.endOffset),kB=t=>{const r=t.getSelection();return(!r||r.rangeCount===0?Se.none():Se.from(r.getRangeAt(0))).map(Nte)},Kz=t=>{const r=Ph(t);return kB(r.dom).filter(Zz(t))},Lte=(t,r)=>Se.from(r).filter(Zz(t)).map(RB),Yz=t=>{const r=document.createRange();try{return r.setStart(t.start.dom,t.soffset),r.setEnd(t.finish.dom,t.foffset),Se.some(r)}catch{return Se.none()}},SM=t=>{const r=Pte(t)?Kz(Qe.fromDom(t.getBody())):Se.none();t.bookmark=r.isSome()?r:t.bookmark},jI=t=>(t.bookmark?t.bookmark:Se.none()).bind(a=>Lte(Qe.fromDom(t.getBody()),a)).bind(Yz),Bte=t=>{jI(t).each(r=>t.selection.setRng(r))},Xz={isEditorUIElement:t=>{const r=t.className.toString();return r.indexOf("tox-")!==-1||r.indexOf("mce-")!==-1}},Vte=(t,r)=>(ct(r)||(r=0),window.setTimeout(t,r)),Fte=(t,r)=>(ct(r)||(r=0),window.setInterval(t,r)),tg={setEditorTimeout:(t,r,a)=>Vte(()=>{t.removed||r()},a),setEditorInterval:(t,r,a)=>{const u=Fte(()=>{t.removed?window.clearInterval(u):r()},a);return u}},DB=t=>t.type==="nodechange"&&t.selectionChange,Jz=(t,r)=>{const a=()=>{r.throttle()};mi.DOM.bind(document,"mouseup",a),t.on("remove",()=>{mi.DOM.unbind(document,"mouseup",a)})},Qz=(t,r)=>{t.on("mouseup touchend",a=>{r.throttle()})},Hte=(t,r)=>{Qz(t,r),t.on("keyup NodeChange AfterSetSelectionRange",a=>{DB(a)||SM(t)})},$te=t=>{const r=io(()=>{SM(t)},0);t.on("init",()=>{t.inline&&Jz(t,r),Hte(t,r)}),t.on("remove",()=>{r.cancel()})};let BT;const VT=mi.DOM,ej=t=>Oo(t)&&Xz.isEditorUIElement(t),CM=t=>{const r=t.classList;return r!==void 0?r.contains("tox-edit-area")||r.contains("tox-edit-area__iframe")||r.contains("mce-content-body"):!1},EM=(t,r)=>{const a=b0(t);return VT.getParent(r,f=>ej(f)||(a?t.dom.is(f,a):!1))!==null},MB=t=>{try{const r=nc(Qe.fromDom(t.getElement()));return Lh(r).fold(()=>document.body,a=>a.dom)}catch{return document.body}},X1e=(t,r)=>{const a=r.editor;$te(a);const u=(f,y)=>{if(J4(f)&&f.inline!==!0){const T=Qe.fromDom(f.getContainer());y(T,"tox-edit-focus")}};a.on("focusin",()=>{const f=t.focusedEditor;CM(MB(a))&&u(a,wl),f!==a&&(f&&f.dispatch("blur",{focusedEditor:a}),t.setActive(a),t.focusedEditor=a,a.dispatch("focus",{blurredEditor:f}),a.focus(!0))}),a.on("focusout",()=>{tg.setEditorTimeout(a,()=>{const f=t.focusedEditor;(!CM(MB(a))||f!==a)&&u(a,rl),!EM(a,MB(a))&&f===a&&(a.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})}),BT||(BT=f=>{const y=t.activeEditor;y&&a1(f).each(T=>{const M=T;M.ownerDocument===document&&M!==document.body&&!EM(y,M)&&t.focusedEditor===y&&(y.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})},VT.bind(document,"focusin",BT))},J1e=(t,r)=>{t.focusedEditor===r.editor&&(t.focusedEditor=null),!t.activeEditor&&BT&&(VT.unbind(document,"focusin",BT),BT=null)},Q1e=t=>{t.on("AddEditor",st(X1e,t)),t.on("RemoveEditor",st(J1e,t))},Ute=(t,r)=>t.dom.getParent(r,a=>t.dom.getContentEditable(a)==="true"),eSe=(t,r)=>t.dom.getParent(r,a=>t.dom.getContentEditable(a)==="false")!==null,zte=t=>t.collapsed?Se.from(ui(t.startContainer,t.startOffset)).map(Qe.fromDom):Se.none(),jte=(t,r)=>zte(r).bind(a=>Q(a)?Se.some(a):Xr(t,a)?Se.none():Se.some(t)),Wte=(t,r)=>{jte(Qe.fromDom(t.getBody()),r).bind(a=>du(a.dom)).fold(()=>{t.selection.normalize()},a=>t.selection.setRng(a.toRange()))},wM=t=>{if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()},Ja=t=>sh(t)||Qy(t).isSome(),PB=t=>De(t.iframeElement)&&sh(Qe.fromDom(t.iframeElement)),_M=t=>{const r=t.getBody();return r&&Ja(Qe.fromDom(r))},AM=t=>{const r=nc(Qe.fromDom(t.getElement()));return Lh(r).filter(a=>!CM(a.dom)&&EM(t,a.dom)).isSome()},ng=t=>t.inline?_M(t):PB(t),FT=t=>ng(t)||AM(t),HT=t=>{const r=t.selection,a=t.getBody();let u=r.getRng();t.quirks.refreshContentEditable();const f=T=>{jI(T).each(M=>{T.selection.setRng(M),u=M})};!ng(t)&&t.hasEditableRoot()&&f(t);const y=Ute(t,r.getNode());if(y&&t.dom.isChildOf(y,a)){eSe(t,y)||wM(a),wM(y),t.hasEditableRoot()||f(t),Wte(t,u),TM(t);return}t.inline||(_r.browser.isOpera()||wM(a),t.getWin().focus()),(_r.browser.isFirefox()||t.inline)&&(wM(a),Wte(t,u)),TM(t)},TM=t=>t.editorManager.setActive(t),Gte=(t,r)=>{t.removed||(r?TM(t):HT(t))},yo={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:t=>t.shiftKey||t.ctrlKey||t.altKey||yo.metaKeyPressed(t),metaKeyPressed:t=>_r.os.isMacOS()||_r.os.isiOS()?t.metaKey:t.ctrlKey&&!t.altKey},NB="uc-video",tj=t=>t.nodeName.toLowerCase()===NB,W1="data-mce-selected",xM=`table,img,figure.image,hr,video,span.mce-preview-object,details,${NB}`,G1=Math.abs,w0=Math.round,OM={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},qte=t=>t.type==="longpress"||t.type.indexOf("touch")===0,nj=(t,r)=>{const a=r.dom,u=r.getDoc(),f=document,y=r.getBody();let T,M,N,G,le,fe,be,Ne,Ke,$e,Xe,wt,Tt,It,fn;const Mn=os=>De(os)&&(p1(os)||a.is(os,"figure.image")),mo=os=>Hh(os)||a.hasClass(os,"mce-preview-object"),Wn=(os,Xn)=>{if(qte(os)){const vo=os.touches[0];return Mn(os.target)&&!bM(vo.clientX,vo.clientY,Xn)}else return Mn(os.target)&&!bM(os.clientX,os.clientY,Xn)},gn=os=>{const Xn=os.target;Wn(os,r.selection.getRng())&&!os.isDefaultPrevented()&&r.selection.select(Xn)},hn=os=>a.hasClass(os,"mce-preview-object")&&De(os.firstElementChild)?[os,os.firstElementChild]:a.is(os,"figure.image")?[os.querySelector("img")]:[os],Pn=os=>{const Xn=CI(r);return!Xn||r.mode.isReadOnly()||os.getAttribute("data-mce-resize")==="false"||os===r.getBody()?!1:a.hasClass(os,"mce-preview-object")&&De(os.firstElementChild)?dr(Qe.fromDom(os.firstElementChild),Xn):dr(Qe.fromDom(os),Xn)},Lo=(os,Xn)=>{if(mo(Xn))return os.create("img",{src:_r.transparentSrc});if(ap(Xn)){const Rs=ms(G.name,"n")?Vt:Jt,Xs=Xn.cloneNode(!0);return Rs(os.select("tr",Xs)).each(Gi=>{const Oa=os.select("td,th",Gi);os.setStyle(Gi,"height",null),Ze(Oa,bv=>os.setStyle(bv,"height",null))}),Xs}else return Xn.cloneNode(!0)},Os=(os,Xn,vo)=>{if(De(vo)){const Rs=hn(os);Ze(Rs,Xs=>{if(Xs.style[Xn]||!r.schema.isValid(Xs.nodeName.toLowerCase(),Xn))a.setStyle(Xs,Xn,vo);else if(tj(Xs)){Xs[Xn]=vo;const Gi=400;if(Xs.width>Gi&&!(Xn==="width"&&vo<Gi))Xs[Xn]=vo,a.setAttrib(Xs,Xn,""+vo);else{const Oa=Xn==="height"?Gi*$e:Gi;Xs[Xn]=Oa,a.setAttrib(Xs,Xn,""+Oa)}}else a.setAttrib(Xs,Xn,""+vo)})}},hr=(os,Xn,vo)=>{Os(os,"width",Xn),Os(os,"height",vo)},Mr=os=>{let Xn,vo,Rs,Xs,Gi;Xn=os.screenX-fe,vo=os.screenY-be,wt=Xn*G[2]+Ne,Tt=vo*G[3]+Ke,wt=wt<5?5:wt,Tt=Tt<5?5:Tt,(Mn(T)||mo(T)||tj(T))&&ri(r)!==!1?Rs=!yo.modifierPressed(os):Rs=yo.modifierPressed(os),Rs&&(G1(Xn)>G1(vo)?(Tt=w0(wt*$e),wt=w0(Tt/$e)):(wt=w0(Tt/$e),Tt=w0(wt*$e))),hr(M,wt,Tt),Xs=G.startPos.x+Xn,Gi=G.startPos.y+vo,Xs=Xs>0?Xs:0,Gi=Gi>0?Gi:0,a.setStyles(N,{left:Xs,top:Gi,display:"block"}),N.innerHTML=wt+" &times; "+Tt,Xn=y.scrollWidth-It,vo=y.scrollHeight-fn,Xn+vo!==0&&a.setStyles(N,{left:Xs-Xn,top:Gi-vo}),Xe||(M4(r,T,Ne,Ke,"corner-"+G.name),Xe=!0)},va=()=>{const os=Xe;Xe=!1,os&&(Os(T,"width",wt),Os(T,"height",Tt)),a.unbind(u,"mousemove",Mr),a.unbind(u,"mouseup",va),f!==u&&(a.unbind(f,"mousemove",Mr),a.unbind(f,"mouseup",va)),a.remove(M),a.remove(N),a.remove(le),xa(T),os&&(hI(r,T,wt,Tt,"corner-"+G.name),a.setAttrib(T,"style",a.getAttrib(T,"style"))),r.nodeChanged()},xa=os=>{hs();const Xn=a.getPos(os,y),vo=Xn.x,Rs=Xn.y,Xs=os.getBoundingClientRect(),Gi=Xs.width||Xs.right-Xs.left,Oa=Xs.height||Xs.bottom-Xs.top;T!==os&&(Gc(),T=os,wt=Tt=0);const bv=r.dispatch("ObjectSelected",{target:os});Pn(os)&&!bv.isDefaultPrevented()?eo(OM,(mm,My)=>{const Py=xp=>{const wb=hn(T)[0];fe=xp.screenX,be=xp.screenY,Ne=wb.clientWidth,Ke=wb.clientHeight,$e=Ke/Ne,G=mm,G.name=My,G.startPos={x:Gi*mm[0]+vo,y:Oa*mm[1]+Rs},It=y.scrollWidth,fn=y.scrollHeight,le=a.add(y,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),a.setStyles(le,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),M=Lo(a,T),a.addClass(M,"mce-clonedresizable"),a.setAttrib(M,"data-mce-bogus","all"),M.contentEditable="false",a.setStyles(M,{left:vo,top:Rs,margin:0}),hr(M,Gi,Oa),M.removeAttribute(W1),y.appendChild(M),a.bind(u,"mousemove",Mr),a.bind(u,"mouseup",va),f!==u&&(a.bind(f,"mousemove",Mr),a.bind(f,"mouseup",va)),N=a.add(y,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Ne+" &times; "+Ke)};let gm=a.get("mceResizeHandle"+My);gm&&a.remove(gm),gm=a.add(y,"div",{id:"mceResizeHandle"+My,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+My+"-resize; margin:0; padding:0"}),a.bind(gm,"mousedown",xp=>{xp.stopImmediatePropagation(),xp.preventDefault(),Py(xp)}),mm.elm=gm,a.setStyles(gm,{left:Gi*mm[0]+vo-gm.offsetWidth/2,top:Oa*mm[1]+Rs-gm.offsetHeight/2})}):Gc(!1)},Cc=io(xa,0),Gc=(os=!0)=>{Cc.cancel(),hs(),T&&os&&T.removeAttribute(W1),eo(OM,(Xn,vo)=>{const Rs=a.get("mceResizeHandle"+vo);Rs&&(a.unbind(Rs),a.remove(Rs))})},vv=(os,Xn)=>a.isChildOf(os,Xn),Co=os=>{if(Xe||r.removed||r.composing)return;const Xn=os.type==="mousedown"?os.target:t.getNode(),vo=xc(Qe.fromDom(Xn),xM).map(Xs=>Xs.dom).filter(Xs=>a.isEditable(Xs.parentElement)||Xs.nodeName==="IMG"&&a.isEditable(Xs)).getOrUndefined(),Rs=De(vo)?a.getAttrib(vo,W1,"1"):"1";if(Ze(a.select(`img[${W1}],hr[${W1}]`),Xs=>{Xs.removeAttribute(W1)}),De(vo)&&vv(vo,y)&&FT(r)){Pi();const Xs=t.getStart(!0);if(vv(Xs,vo)&&vv(t.getEnd(!0),vo)){a.setAttrib(vo,W1,Rs),Cc.throttle(vo);return}}Gc()},hs=()=>{eo(OM,os=>{os.elm&&(a.unbind(os.elm),delete os.elm)})},Pi=()=>{try{r.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return r.on("init",()=>{Pi(),r.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Co),r.on("keyup compositionend",os=>{T&&T.nodeName==="TABLE"&&Co(os)}),r.on("hide blur",Gc),r.on("contextmenu longpress",gn,!0)}),r.on("remove",hs),{isResizable:Pn,showResizeRect:xa,hideResizeRect:Gc,updateResizeRect:Co,destroy:()=>{Cc.cancel(),T=M=le=null}}},oj=(t,r,a)=>{const u=Ph(Qe.fromDom(a));return Pg(u.dom,t,r).map(f=>{const y=a.createRange();return y.setStart(f.start.dom,f.soffset),y.setEnd(f.finish.dom,f.foffset),y}).getOrUndefined()},LB=(t,r)=>De(t)&&De(r)&&t.startContainer===r.startContainer&&t.startOffset===r.startOffset&&t.endContainer===r.endContainer&&t.endOffset===r.endOffset,Zte=(t,r,a)=>{let u=t;for(;u&&u!==r;){if(a(u))return u;u=u.parentNode}return null},sj=(t,r,a)=>Zte(t,r,a)!==null,rj=(t,r,a)=>sj(t,r,u=>u.nodeName===a),Kte=(t,r)=>Be(t)&&!sj(t,r,Jm),ij=(t,r,a)=>{const u=r.parentNode;if(u){const f=new Zi(r,t.getParent(u,t.isBlock)||t.getRoot());let y;for(;y=f[a?"prev":"next"]();)if(fa(y))return!0}return!1},Yte=(t,r)=>t.previousSibling?.nodeName===r,tSe=(t,r)=>{let a=r;for(;a&&a!==t;){if(si(a))return!0;a=a.parentNode}return!1},BB=(t,r,a,u,f)=>{const y=t.getRoot(),T=t.schema.getNonEmptyElements(),M=f.parentNode;let N,G;if(!M)return Se.none();const le=t.getParent(M,t.isBlock)||y;if(u&&fa(f)&&r&&t.isEmpty(le))return Se.some(sn(M,t.nodeIndex(f)));const fe=new Zi(f,le);for(;G=fe[u?"prev":"next"]();){if(t.getContentEditableParent(G)==="false"||Kte(G,y))return Se.none();if(Bn(G)&&G.data.length>0)return rj(G,y,"A")?Se.none():Se.some(sn(G,u?G.data.length:0));if(t.isBlock(G)||T[G.nodeName.toLowerCase()])return Se.none();N=G}return Ba(N)?Se.none():a&&N?Se.some(sn(N,0)):Se.none()},zu=(t,r,a,u)=>{const f=t.getRoot();let y,T=!1,M=a?u.startContainer:u.endContainer,N=a?u.startOffset:u.endOffset;const G=Oo(M)&&N===M.childNodes.length,le=t.schema.getNonEmptyElements();let fe=a;if(Be(M))return Se.none();if(Oo(M)&&N>M.childNodes.length-1&&(fe=!1),yr(M)&&(M=f,N=0),M===f){if(fe&&(y=M.childNodes[N>0?N-1:0],y&&(Be(y)||le[y.nodeName]||ap(y))))return Se.none();if(M.hasChildNodes()){if(N=Math.min(!fe&&N>0?N-1:N,M.childNodes.length-1),M=M.childNodes[N],N=Bn(M)&&G?M.data.length:0,!r&&M===f.lastChild&&ap(M)||tSe(f,M)||Be(M)||i0(M))return Se.none();if(M.hasChildNodes()&&!ap(M)){y=M;const be=new Zi(M,f);do{if(si(y)||Be(y)){T=!1;break}if(Bn(y)&&y.data.length>0){N=fe?0:y.data.length,M=y,T=!0;break}if(le[y.nodeName.toLowerCase()]&&!UE(y)){N=t.nodeIndex(y),M=y.parentNode,fe||N++,T=!0;break}}while(y=fe?be.next():be.prev())}}}return r&&(Bn(M)&&N===0&&BB(t,G,r,!0,M).each(be=>{M=be.container(),N=be.offset(),T=!0}),Oo(M)&&(y=M.childNodes[N],y||(y=M.childNodes[N-1]),y&&fa(y)&&!Yte(y,"A")&&!ij(t,y,!1)&&!ij(t,y,!0)&&BB(t,G,r,!0,y).each(be=>{M=be.container(),N=be.offset(),T=!0}))),fe&&!r&&Bn(M)&&N===M.data.length&&BB(t,G,r,!1,M).each(be=>{M=be.container(),N=be.offset(),T=!0}),T&&M?Se.some(sn(M,N)):Se.none()},$w=(t,r)=>{const a=r.collapsed,u=r.cloneRange(),f=sn.fromRangeStart(r);return zu(t,a,!0,u).each(y=>{(!a||!sn.isAbove(f,y))&&u.setStart(y.container(),y.offset())}),a||zu(t,a,!1,u).each(y=>{u.setEnd(y.container(),y.offset())}),a&&u.collapse(!0),LB(r,u)?Se.none():Se.some(u)},fu=(t,r)=>t.splitText(r),cm=t=>{let r=t.startContainer,a=t.startOffset,u=t.endContainer,f=t.endOffset;if(r===u&&Bn(r)){if(a>0&&a<r.data.length)if(u=fu(r,a),r=u.previousSibling,f>a){f=f-a;const y=fu(u,f).previousSibling;r=u=y,f=y.data.length,a=0}else f=0}else if(Bn(r)&&a>0&&a<r.data.length&&(r=fu(r,a),a=0),Bn(u)&&f>0&&f<u.data.length){const y=fu(u,f).previousSibling;u=y,f=y.data.length}return{startContainer:r,startOffset:a,endContainer:u,endOffset:f}},_0=t=>({walk:(y,T)=>$c(t,y,T),split:cm,expand:(y,T={type:"word"})=>{if(T.type==="word"){const M=xf(t,y,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),N=t.createRng();return N.setStart(M.startContainer,M.startOffset),N.setEnd(M.endContainer,M.endOffset),N}return y},normalize:y=>$w(t,y).fold(qt,T=>(y.setStart(T.startContainer,T.startOffset),y.setEnd(T.endContainer,T.endOffset),!0))});_0.compareRanges=LB,_0.getCaretRangeFromPoint=oj,_0.getSelectedNode=gr,_0.getNode=ui;const VB=(t,r)=>t.view(r).fold(nt([]),u=>{const f=t.owner(u),y=VB(t,f);return[u].concat(y)}),Xte=(t,r)=>{const a=r.owner(t);return VB(r,a)};var lj=Object.freeze({__proto__:null,view:t=>(t.dom===document?Se.none():Se.from(t.dom.defaultView?.frameElement)).map(Qe.fromDom),owner:t=>ou(t)});const Jte=t=>{const r=Jy(),a=d1(r),u=Xte(t,lj),f=Rg(t),y=Kt(u,(T,M)=>{const N=Rg(M);return{left:T.left+N.left,top:T.top+N.top}},{left:0,top:0});return df(y.left+f.left+a.left,y.top+f.top+a.top)},FB=t=>Ns(t)==="textarea",Qte=(t,r)=>t.dispatch("ScrollIntoView",r).isDefaultPrevented(),og=(t,r)=>{t.dispatch("AfterScrollIntoView",r)},Of=(t,r)=>{const a=pr(t);if(a.length===0||FB(t))return{element:t,offset:r};if(r<a.length&&!FB(a[r]))return{element:a[r],offset:0};{const u=a[a.length-1];return FB(u)?{element:t,offset:r}:Ns(u)==="img"?{element:u,offset:1}:Jr(u)?{element:u,offset:gl(u).length}:{element:u,offset:pr(u).length}}},ene=(t,r)=>{const a=km(t),u=ME(t);return{element:t,bottom:a.top+u,height:u,pos:a,cleanup:r}},xy=(t,r)=>{const a=Of(t,r),u=Qe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Z+"</span>");return Tc(a.element,u),ene(u,()=>Di(u))},HB=t=>ene(Qe.fromDom(t),gt),cj=(t,r,a,u)=>{fj(t,(f,y)=>dj(t,r,a,u),a)},uj=(t,r,a,u,f)=>{const y={elm:u.element.dom,alignToTop:f};if(Qte(t,y))return;const T=d1(r).top;a(t,r,T,u,f),og(t,y)},dj=(t,r,a,u)=>{const f=Qe.fromDom(t.getBody()),y=Qe.fromDom(t.getDoc());Kb(f);const T=xy(Qe.fromDom(a.startContainer),a.startOffset);uj(t,y,r,T,u),T.cleanup()},hj=(t,r,a,u)=>{const f=Qe.fromDom(t.getDoc());uj(t,f,a,HB(r),u)},fj=(t,r,a)=>{const u=a.startContainer,f=a.startOffset,y=a.endContainer,T=a.endOffset;r(Qe.fromDom(u),Qe.fromDom(y));const M=t.dom.createRng();M.setStart(u,f),M.setEnd(y,T),t.selection.setRng(a)},$B=(t,r,a,u,f)=>{const y=r.pos,T=30;if(u)US(y.left,Math.max(0,y.top-T),f);else{const M=y.top-a+r.height+T;US(-t.getBody().getBoundingClientRect().left,M,f)}},IM=(t,r,a,u,f,y)=>{const T=u+a,M=f.pos.top,N=f.bottom,G=N-M>=u;M<a?$B(t,f,u,y!==!1,r):M>T?$B(t,f,u,G?y!==!1:y===!0,r):N>T&&!G&&$B(t,f,u,y===!0,r)},pj=(t,r,a,u,f)=>{const y=Ph(r).dom.innerHeight;IM(t,r,a,y,u,f)},mj=(t,r,a,u,f)=>{const y=Ph(r).dom.innerHeight;IM(t,r,a,y,u,f);const T=Jte(u.element),M=HE(window);T.top<M.y?Bh(u.element,f!==!1):T.top>M.bottom&&Bh(u.element,f===!0)},tne=(t,r,a)=>cj(t,pj,r,a),nne=(t,r,a)=>hj(t,r,pj,a),gj=(t,r,a)=>cj(t,mj,r,a),UB=(t,r,a)=>hj(t,r,mj,a),vj=(t,r,a)=>{(t.inline?nne:UB)(t,r,a)},Uw=(t,r,a)=>{(t.inline?tne:gj)(t,r,a)},bj=(t,r)=>r.collapsed?t.isEditable(r.startContainer):t.isEditable(r.startContainer)&&t.isEditable(r.endContainer),one=(t,r,a,u,f)=>{const y=a?r.startContainer:r.endContainer,T=a?r.startOffset:r.endOffset;return Se.from(y).map(Qe.fromDom).map(M=>!u||!r.collapsed?Nh(M,f(M,T)).getOr(M):M).bind(M=>na(M)?Se.some(M):Iu(M).filter(na)).map(M=>M.dom).getOr(t)},sne=(t,r,a=!1)=>one(t,r,!0,a,(u,f)=>Math.min(lf(u),f)),yj=(t,r,a=!1)=>one(t,r,!1,a,(u,f)=>f>0?f-1:f),zB=(t,r)=>{const a=t;for(;t&&Bn(t)&&t.length===0;)t=r?t.nextSibling:t.previousSibling;return t||a},rne=(t,r)=>{if(!r)return t;let a=r.startContainer,u=r.endContainer;const f=r.startOffset,y=r.endOffset;let T=r.commonAncestorContainer;r.collapsed||(a===u&&y-f<2&&a.hasChildNodes()&&(T=a.childNodes[f]),Bn(a)&&Bn(u)&&(a.length===f?a=zB(a.nextSibling,!0):a=a.parentNode,y===0?u=zB(u.previousSibling,!1):u=u.parentNode,a&&a===u&&(T=a)));const M=Bn(T)?T.parentNode:T;return ha(M)?M:t},ine=(t,r,a,u)=>{const f=[],y=t.getRoot(),T=t.getParent(a||sne(y,r,r.collapsed),t.isBlock),M=t.getParent(u||yj(y,r,r.collapsed),t.isBlock);if(T&&T!==y&&f.push(T),T&&M&&T!==M){let N;const G=new Zi(T,y);for(;(N=G.next())&&N!==M;)t.isBlock(N)&&f.push(N)}return M&&T!==M&&M!==y&&f.push(M),f},ane=(t,r,a)=>Se.from(r).bind(u=>Se.from(u.parentNode).map(f=>{const y=t.nodeIndex(u),T=t.createRng();return T.setStart(f,y),T.setEnd(f,y+1),a&&(TC(t,T,u,!0),TC(t,T,u,!1)),T})),Sj=(t,r)=>mn(r,a=>{const u=t.dispatch("GetSelectionRange",{range:a});return u.range!==a?u.range:a}),oSe={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},WI=(t,r,a)=>{const u=a?"lastChild":"firstChild",f=a?"prev":"next";if(t[u])return t[u];if(t!==r){let y=t[f];if(y)return y;for(let T=t.parent;T&&T!==r;T=T.parent)if(y=T[f],y)return y}},Cj=t=>{const r=t.value??"";if(!Lg(r))return!1;const a=t.parent;return!(a&&(a.name!=="span"||a.attr("style"))&&/^[ ]+$/.test(r))},Ej=t=>{const r=t.name==="a"&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||r};class vh{static create(r,a){const u=new vh(r,oSe[r]||1);return a&&eo(a,(f,y)=>{u.attr(y,f)}),u}name;type;attributes;value;parent;firstChild;lastChild;next;prev;raw;constructor(r,a){this.name=r,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}replace(r){const a=this;return r.parent&&r.remove(),a.insert(r,a),a.remove(),a}attr(r,a){const u=this;if(!re(r))return De(r)&&eo(r,(y,T)=>{u.attr(T,y)}),u;const f=u.attributes;if(f){if(a!==void 0){if(a===null){if(r in f.map){delete f.map[r];let y=f.length;for(;y--;)if(f[y].name===r)return f.splice(y,1),u}return u}if(r in f.map){let y=f.length;for(;y--;)if(f[y].name===r){f[y].value=a;break}}else f.push({name:r,value:a});return f.map[r]=a,u}return f.map[r]}}clone(){const r=this,a=new vh(r.name,r.type),u=r.attributes;if(u){const f=[];f.map={};for(let y=0,T=u.length;y<T;y++){const M=u[y];M.name!=="id"&&(f[f.length]={name:M.name,value:M.value},f.map[M.name]=M.value)}a.attributes=f}return a.value=r.value,a}wrap(r){const a=this;return a.parent&&(a.parent.insert(r,a),r.append(a)),a}unwrap(){const r=this;for(let a=r.firstChild;a;){const u=a.next;r.insert(a,r,!0),a=u}r.remove()}remove(){const r=this,a=r.parent,u=r.next,f=r.prev;return a&&(a.firstChild===r?(a.firstChild=u,u&&(u.prev=null)):f&&(f.next=u),a.lastChild===r?(a.lastChild=f,f&&(f.next=null)):u&&(u.prev=f),r.parent=r.next=r.prev=null),r}append(r){const a=this;r.parent&&r.remove();const u=a.lastChild;return u?(u.next=r,r.prev=u,a.lastChild=r):a.lastChild=a.firstChild=r,r.parent=a,r}insert(r,a,u){r.parent&&r.remove();const f=a.parent||this;return u?(a===f.firstChild?f.firstChild=r:a.prev&&(a.prev.next=r),r.prev=a.prev,r.next=a,a.prev=r):(a===f.lastChild?f.lastChild=r:a.next&&(a.next.prev=r),r.next=a.next,r.prev=a,a.next=r),r.parent=f,r}getAll(r){const a=this,u=[];for(let f=a.firstChild;f;f=WI(f,a))f.name===r&&u.push(f);return u}children(){const r=this,a=[];for(let u=r.firstChild;u;u=u.next)a.push(u);return a}empty(){const r=this;if(r.firstChild){const a=[];for(let f=r.firstChild;f;f=WI(f,r))a.push(f);let u=a.length;for(;u--;){const f=a[u];f.parent=f.firstChild=f.lastChild=f.next=f.prev=null}}return r.firstChild=r.lastChild=null,r}isEmpty(r,a={},u){const f=this;let y=f.firstChild;if(Ej(f))return!1;if(y)do{if(y.type===1){if(y.attr("data-mce-bogus"))continue;if(r[y.name]||Ej(y))return!1}if(y.type===8||y.type===3&&!Cj(y)||y.type===3&&y.parent&&a[y.parent.name]&&Lg(y.value??"")||u&&u(y))return!1}while(y=WI(y,f));return!0}walk(r){return WI(this,null,r)}}const lne=Un.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),cne=t=>re(t.nodeValue)&&t.nodeValue.includes(Z),une=t=>`${t.length===0?"":`${mn(t,r=>`[${r}]`).join(",")},`}[data-mce-bogus="all"]`,sSe=(t,r)=>r.querySelectorAll(une(t)),wj=t=>document.createTreeWalker(t,NodeFilter.SHOW_COMMENT,r=>cne(r)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),dne=t=>document.createTreeWalker(t,NodeFilter.SHOW_TEXT,r=>{if(cne(r)){const a=r.parentNode;return a&&ts(lne,a.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),hne=t=>wj(t).nextNode()!==null,zw=t=>dne(t).nextNode()!==null,fne=(t,r)=>r.querySelector(une(t))!==null,_j=(t,r)=>{Ze(sSe(t,r),a=>{const u=Qe.fromDom(a);ra(u,"data-mce-bogus")==="all"?Di(u):Ze(t,f=>{ua(u,f)&&pl(u,f)})})},jB=t=>{let r=t.nextNode();for(;r!==null;)r.nodeValue=null,r=t.nextNode()},Aj=ee(jB,wj),Tj=ee(jB,dne),RM=(t,r)=>{const a=[{condition:st(fne,r),action:st(_j,r)},{condition:hne,action:Aj},{condition:zw,action:Tj}];let u=t,f=!1;return Ze(a,({condition:y,action:T})=>{y(u)&&(f||(u=t.cloneNode(!0),f=!0),T(u))}),u},pne=t=>{const r=cn(t,"[data-mce-bogus]");Ze(r,a=>{ra(a,"data-mce-bogus")==="all"?Di(a):Cf(a)?(Tc(a,Qe.fromText(pc)),Di(a)):Mu(a)})},xj=t=>{const r=cn(t,"input");Ze(r,a=>{pl(a,"name")})},rSe=(t,r)=>{const a=Uu(t),u=new RegExp(`^(<${a}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${a}>[\r
]*|<br \\/>[\r
]*)$`);return r.replace(u,"")},mne=(t,r)=>{const a=t.getDoc(),u=nc(Qe.fromDom(t.getBody())),f=Qe.fromTag("div",a);ca(f,"data-mce-bogus","all"),su(f,{position:"fixed",left:"-9999999px",top:"0"}),zp(f,r.innerHTML),pne(f),xj(f);const y=mr(u);$r(y,f);const T=ue(f.dom.innerText);return Di(f),T},gne=(t,r,a)=>{let u;return r.format==="raw"?u=Un.trim(ue(RM(a,t.serializer.getTempAttrs()).innerHTML)):r.format==="text"?u=mne(t,a):r.format==="tree"?u=t.serializer.serialize(a,r):u=rSe(t,t.serializer.serialize(a,r)),r.format!=="text"&&!C(Qe.fromDom(a))&&re(u)?Un.trim(u):u},WB=(t,r)=>Se.from(t.getBody()).fold(nt(r.format==="tree"?new vh("body",11):""),a=>gne(t,r,a)),GB=Un.makeMap,vne=t=>{const r=[];t=t||{};const a=t.indent,u=GB(t.indent_before||""),f=GB(t.indent_after||""),y=Gv.getEncodeFunc(t.entity_encoding||"raw",t.entities),T=t.element_format!=="xhtml";return{start:(M,N,G)=>{if(a&&u[M]&&r.length>0){const le=r[r.length-1];le.length>0&&le!==`
`&&r.push(`
`)}if(r.push("<",M),N)for(let le=0,fe=N.length;le<fe;le++){const be=N[le];r.push(" ",be.name,'="',y(be.value,!0),'"')}if(!G||T?r[r.length]=">":r[r.length]=" />",G&&a&&f[M]&&r.length>0){const le=r[r.length-1];le.length>0&&le!==`
`&&r.push(`
`)}},end:M=>{let N;r.push("</",M,">"),a&&f[M]&&r.length>0&&(N=r[r.length-1],N.length>0&&N!==`
`&&r.push(`
`))},text:(M,N)=>{M.length>0&&(r[r.length]=N?M:y(M))},cdata:M=>{r.push("<![CDATA[",M,"]]>")},comment:M=>{r.push("<!--",M,"-->")},pi:(M,N)=>{N?r.push("<?",M," ",y(N),"?>"):r.push("<?",M,"?>"),a&&r.push(`
`)},doctype:M=>{r.push("<!DOCTYPE",M,">",a?`
`:"")},reset:()=>{r.length=0},getContent:()=>r.join("").replace(/\n$/,"")}},jw=(t={},r=yf())=>{const a=vne(t);return t.validate="validate"in t?t.validate:!0,{serialize:f=>{const y=t.validate,T={3:N=>{a.text(N.value??"",N.raw)},8:N=>{a.comment(N.value??"")},7:N=>{a.pi(N.name,N.value)},10:N=>{a.doctype(N.value??"")},4:N=>{a.cdata(N.value??"")},11:N=>{let G=N;if(G=G.firstChild)do M(G);while(G=G.next)}};a.reset();const M=N=>{const G=T[N.type];if(G)G(N);else{const le=N.name,fe=le in r.getVoidElements();let be=N.attributes;if(y&&be&&be.length>1){const Ne=[];Ne.map={};const Ke=r.getElementRule(N.name);if(Ke){for(let $e=0,Xe=Ke.attributesOrder.length;$e<Xe;$e++){const wt=Ke.attributesOrder[$e];if(wt in be.map){const Tt=be.map[wt];Ne.map[wt]=Tt,Ne.push({name:wt,value:Tt})}}for(let $e=0,Xe=be.length;$e<Xe;$e++){const wt=be[$e].name;if(!(wt in Ne.map)){const Tt=be.map[wt];Ne.map[wt]=Tt,Ne.push({name:wt,value:Tt})}}be=Ne}}if(a.start(le,be,fe),ld(le))re(N.value)&&a.text(N.value,!0),a.end(le);else if(!fe){let Ne=N.firstChild;if(Ne){(le==="pre"||le==="textarea")&&Ne.type===3&&Ne.value?.[0]===`
`&&a.text(`
`,!0);do M(Ne);while(Ne=Ne.next)}a.end(le)}}};return f.type===1&&!t.inner?M(f):f.type===3?T[3](f):T[11](f),a.getContent()}}},bne=new Set;Ze(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],r=>{bne.add(r)});const Oj=new Set;Ze(["background-color"],r=>{Oj.add(r)});const yne=["font","text-decoration","text-emphasis"],Sne=(t,r)=>t.parseStyle(t.getAttrib(r,"style")),Ww=(t,r)=>Zt(Sne(t,r)),Cne=t=>bne.has(t),Ij=t=>Oj.has(t),Ene=(t,r)=>bn(Ww(t,r),a=>Cne(a)),wne=(t,r)=>Ene(t,r)&&bn(Ww(t,r),a=>Ij(a)),Rj=t=>je(t,r=>bn(yne,a=>ms(r,a))),_ne=(t,r,a)=>{const u=Ww(t,r),f=Ww(t,a),y=T=>{const M=t.getStyle(r,T)??"",N=t.getStyle(a,T)??"";return fi(M)&&fi(N)&&M!==N};return bn(u,T=>{const M=N=>bn(N,G=>G===T);if(!M(f)&&M(yne)){const N=Rj(f);return bn(N,y)}else return y(T)})},kj=(t,r,a)=>Se.from(a.container()).filter(Bn).exists(u=>{const f=t?0:-1;return r(u.data.charAt(a.offset()+f))}),qB=st(kj,!0,_y),ZB=st(kj,!1,_y),Ane=t=>{const r=t.container();return Bn(r)&&(r.data.length===0||te(r.data)&&Hw.isBookmarkNode(r.parentNode))},OC=(t,r)=>a=>Xo(t?0:-1,a).filter(r).isSome(),Dj=t=>p1(t)&&La(Qe.fromDom(t),"display")==="block",Mj=t=>si(t)&&!TA(t),Tne=OC(!0,Dj),xne=OC(!1,Dj),GI=OC(!0,Hh),qI=OC(!1,Hh),Pj=OC(!0,ap),KB=OC(!1,ap),po=OC(!0,Mj),If=OC(!1,Mj),iSe=t=>t.slice(0,-1),One=(t,r,a)=>Xr(r,t)?iSe(Nc(t,u=>a(u)||_o(u,r))):[],kM=(t,r)=>One(t,r,qt),A0=(t,r)=>[t].concat(kM(t,r)),DM=(t,r,a)=>xT(t,r,a,Ane),YB=t=>r=>t.isBlock(Ns(r)),Nj=(t,r,a)=>_t(A0(Qe.fromDom(r.container()),t),YB(a)),XB=(t,r,a,u)=>DM(t,r.dom,a).forall(f=>Nj(r,a,u).fold(()=>!ov(f,a,r.dom),y=>!ov(f,a,r.dom)&&Xr(y,Qe.fromDom(f.container())))),Lj=(t,r,a,u)=>Nj(r,a,u).fold(()=>DM(t,r.dom,a).forall(f=>!ov(f,a,r.dom)),f=>DM(t,f.dom,a).isNone()),JB=st(Lj,!1),Bj=st(Lj,!0),Ine=st(XB,!1),Rne=st(XB,!0),MM=t=>EC(t).exists(Cf),PM=(t,r,a,u)=>{const f=je(A0(Qe.fromDom(a.container()),r),T=>u.isBlock(Ns(T))),y=Vt(f).getOr(r);return Af(t,y.dom,a).filter(MM)},QB=(t,r,a)=>EC(r).exists(Cf)||PM(!0,t,r,a).isSome(),NM=(t,r,a)=>DI(r).exists(Cf)||PM(!1,t,r,a).isSome(),Vj=st(PM,!1),kne=st(PM,!0),eV=t=>sn.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd(),ZI=(t,r,a)=>{const u=je(A0(Qe.fromDom(r.container()),t),f=>a.isBlock(Ns(f)));return Vt(u).getOr(t)},Fj=(t,r,a)=>eV(r)?ZB(r):ZB(r)||uu(ZI(t,r,a).dom,r).exists(ZB),Hj=(t,r,a)=>eV(r)?qB(r):qB(r)||zh(ZI(t,r,a).dom,r).exists(qB),Dne=t=>kt(["pre","pre-wrap"],t),tV=t=>EC(t).bind(r=>Ei(r,na)).exists(r=>Dne(La(r,"white-space"))),Mne=(t,r)=>uu(t.dom,r).isNone(),Pne=(t,r)=>zh(t.dom,r).isNone(),Nne=(t,r,a)=>Mne(t,r)||Pne(t,r)||JB(t,r,a)||Bj(t,r,a)||NM(t,r,a)||QB(t,r,a),Lne=t=>De(t)&&si(t)&&WD(t),$j=(t,r)=>a=>Lne(new Zi(a,t)[r]()),Bne=(t,r)=>{const a=zh(t.dom,r).getOr(r),u=$j(t.dom,"next");return r.isAtEnd()&&(u(r.container())||u(a.container()))},Vne=(t,r)=>{const a=uu(t.dom,r).getOr(r),u=$j(t.dom,"prev");return r.isAtStart()&&(u(r.container())||u(a.container()))},Uj=(t,r,a)=>tV(r)?!1:Nne(t,r,a)||Fj(t,r,a)||Hj(t,r,a),KI=(t,r,a)=>tV(r)?!1:JB(t,r,a)||Ine(t,r,a)||NM(t,r,a)||Fj(t,r,a)||Vne(t,r),Fne=t=>{const r=t.container(),a=t.offset();return Bn(r)&&a<r.data.length?sn(r,a+1):t},$T=(t,r,a)=>tV(r)?!1:Bj(t,r,a)||Rne(t,r,a)||QB(t,r,a)||Hj(t,r,a)||Bne(t,r),nV=(t,r,a)=>KI(t,r,a)||$T(t,Fne(r),a),zj=(t,r)=>DT(t.charAt(r)),YI=(t,r)=>_y(t.charAt(r)),Gw=t=>{const r=t.container();return Bn(r)&&ea(r.data,ki)},LM=t=>{const r=t.split("");return mn(r,(a,u)=>DT(a)&&u>0&&u<r.length-1&&LI(r[u-1])&&LI(r[u+1])?" ":a).join("")},jj=(t,r,a,u)=>{const f=r.data,y=sn(r,0);return!a&&zj(f,0)&&!nV(t,y,u)?(r.data=" "+f.slice(1),!0):a&&YI(f,0)&&KI(t,y,u)?(r.data=ki+f.slice(1),!0):!1},Hne=t=>{const r=t.data,a=LM(r);return a!==r?(t.data=a,!0):!1},Wj=(t,r,a,u)=>{const f=r.data,y=sn(r,f.length-1);return!a&&zj(f,f.length-1)&&!nV(t,y,u)?(r.data=f.slice(0,-1)+" ",!0):a&&YI(f,f.length-1)&&$T(t,y,u)?(r.data=f.slice(0,-1)+ki,!0):!1},$ne=(t,r,a)=>{const u=r.container();if(!Bn(u))return Se.none();if(Gw(r)){const f=jj(t,u,!1,a)||Hne(u)||Wj(t,u,!1,a);return wc(f,r)}else if(nV(t,r,a)){const f=jj(t,u,!0,a)||Wj(t,u,!0,a);return wc(f,r)}else return Se.none()},Gj=t=>{const r=Qe.fromDom(t.getBody());t.selection.isCollapsed()&&$ne(r,sn.fromRangeStart(t.selection.getRng()),t.schema).each(a=>{t.selection.setRng(a.toRange())})},qj=(t,r,a,u)=>{if(a===0)return;const f=Qe.fromDom(t),y=Vh(f,G=>u.isBlock(Ns(G))).getOr(f),T=t.data.slice(r,r+a),M=r+a>=t.data.length&&$T(y,sn(t,t.data.length),u),N=r===0&&KI(y,sn(t,0),u);t.replaceData(r,a,qp(T,4,N,M))},BM=(t,r,a)=>{const u=t.data.slice(r),f=u.length-nh(u).length;qj(t,r,f,a)},VM=(t,r,a)=>{const u=t.data.slice(0,r),f=u.length-Yf(u).length;qj(t,r-f,f,a)},oV=(t,r,a,u,f=!0)=>{const y=Yf(t.data).length,T=f?t:r,M=f?r:t;return f?T.appendData(M.data):T.insertData(0,M.data),Di(Qe.fromDom(M)),u&&BM(T,y,a),T},Zj=(t,r)=>{const a=t.container(),u=t.offset();return!sn.isTextPosition(t)&&a===r.parentNode&&u>sn.before(r).offset()},Une=(t,r)=>Zj(r,t)?sn(r.container(),r.offset()-1):r,zne=t=>Bn(t)?sn(t,0):sn.before(t),jne=t=>Bn(t)?sn(t,t.data.length):sn.after(t),sV=t=>Hi(t.previousSibling)?Se.some(jne(t.previousSibling)):t.previousSibling?Tf(t.previousSibling):Se.none(),FM=t=>Hi(t.nextSibling)?Se.some(zne(t.nextSibling)):t.nextSibling?du(t.nextSibling):Se.none(),Kj=(t,r)=>Se.from(r.previousSibling?r.previousSibling:r.parentNode).bind(a=>uu(t,sn.before(a))).orThunk(()=>zh(t,sn.after(r))),Wne=(t,r)=>zh(t,sn.after(r)).orThunk(()=>uu(t,sn.before(r))),Gne=(t,r)=>sV(r).orThunk(()=>FM(r)).orThunk(()=>Kj(t,r)),HM=(t,r)=>FM(r).orThunk(()=>sV(r)).orThunk(()=>Wne(t,r)),qne=(t,r,a)=>t?HM(r,a):Gne(r,a),Yj=(t,r,a)=>qne(t,r,a).map(st(Une,a)),$M=(t,r,a)=>{a.fold(()=>{t.focus()},u=>{t.selection.setRng(u.toRange(),r)})},Xj=t=>r=>r.dom===t,Zne=(t,r)=>r&&ts(t.schema.getBlockElements(),Ns(r)),Kne=(t,r,a)=>{if(Vu(t,r)){const u=Qe.fromHtml('<br data-mce-bogus="1">');return a?Ze(pr(r),f=>{vi(f)||Di(f)}):sd(r),$r(r,u),Se.some(sn.before(u.dom))}else return Se.none()},UM=(t,r,a,u)=>{const f=Pd(t).filter(Jr),y=ku(t).filter(Jr);return Di(t),Au(f,y,r,(T,M,N)=>{const G=T.dom,le=M.dom,fe=G.data.length;return oV(G,le,a,u),N.container()===le?sn(G,fe):N}).orThunk(()=>(u&&(f.each(T=>VM(T.dom,T.dom.length,a)),y.each(T=>BM(T.dom,0,a))),r))},Jj=(t,r)=>ts(t.schema.getTextInlineElements(),Ns(r)),q1=(t,r,a,u=!0,f=!1)=>{const y=Yj(r,t.getBody(),a.dom),T=Vh(a,st(Zne,t),Xj(t.getBody())),M=UM(a,y,t.schema,Jj(t,a));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):T.bind(N=>Kne(t.schema,N,f)).fold(()=>{u&&$M(t,r,M)},N=>{u&&$M(t,r,Se.some(N))})},Qj=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,e8=t=>Qj.test(t),IC=(t,r)=>dr(Qe.fromDom(r),SI(t))&&!xn(t.schema,r)&&t.dom.isEditable(r),rV=t=>mi.DOM.getStyle(t,"direction",!0)==="rtl"||e8(t.textContent??""),t8=(t,r,a)=>je(mi.DOM.getParents(a.container(),"*",r),t),Z1=(t,r,a)=>{const u=t8(t,r,a);return Se.from(u[u.length-1])},n8=(t,r,a)=>{const u=ob(r,t),f=ob(a,t);return De(u)&&u===f},o8=t=>dt(t)||Ot(t),av=(t,r)=>{const a=r.container(),u=r.offset();return t?ke(a)?Bn(a.nextSibling)?sn(a.nextSibling,0):sn.after(a):dt(r)?sn(a,u+1):r:ke(a)?Bn(a.previousSibling)?sn(a.previousSibling,a.previousSibling.data.length):sn.before(a):Ot(r)?sn(a,u-1):r},s8=st(av,!0),r8=st(av,!1),i8=(t,r)=>{const a=u=>u.stopImmediatePropagation();t.on("beforeinput input",a,!0),t.getDoc().execCommand(r),t.off("beforeinput input",a)},Yne=t=>{t.execCommand("delete")},zM=t=>i8(t,"Delete"),a8=t=>i8(t,"ForwardDelete"),Xne=t=>r=>Kr(Iu(r),t,_o),Jne=t=>v0(t)||Zm(t),jM=(t,r)=>Xr(t,r)?Ei(r,Jne,Xne(t)):Se.none(),WM=(t,r=!0)=>{t.dom.isEmpty(t.getBody())&&t.setContent("",{no_selection:!r})},Qne=(t,r,a)=>wr(du(a),Tf(a),(u,f)=>{const y=av(!0,u),T=av(!1,f),M=av(!1,r);return t?zh(a,M).exists(N=>N.isEqual(T)&&r.isEqual(y)):uu(a,M).exists(N=>N.isEqual(y)&&r.isEqual(T))}).getOr(!0),eoe=t=>(Wa(t)?Pd(t):Ga(t)).bind(eoe).orThunk(()=>Se.some(t)),l8=(t,r,a,u=!0)=>{r.deleteContents();const f=eoe(a).getOr(a),y=Qe.fromDom(t.dom.getParent(f.dom,t.dom.isBlock)??a.dom);if(y.dom===t.getBody()?WM(t,u):Vu(t.schema,y,{checkRootAsContent:!1})&&(V(y),u&&t.selection.setCursorLocation(y.dom,0)),!_o(a,y)){const T=Kr(Iu(y),a)?[]:ti(y);Ze(T.concat(pr(a)),M=>{!_o(M,y)&&!Xr(M,y)&&Vu(t.schema,M)&&Di(M)})}},aSe=t=>r=>_o(t,r),iV=t=>cn(t,"td,th"),Gd=(t,r)=>Qm(Qe.fromDom(t),r),toe=t=>wr(t.startTable,t.endTable,(r,a)=>{const u=zs(r,y=>_o(y,a)),f=zs(a,y=>_o(y,r));return!u&&!f?t:{...t,startTable:u?Se.none():t.startTable,endTable:f?Se.none():t.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(t),lSe=t=>toe(t),noe=(t,r)=>{const a=Gd(t.startContainer,r),u=Gd(t.endContainer,r),f=a.isSome(),y=u.isSome(),T=wr(a,u,_o).getOr(!1);return lSe({startTable:a,endTable:u,isStartInTable:f,isEndInTable:y,isSameTable:T,isMultiTable:!T&&f&&y})},aV=(t,r)=>({start:t,end:r}),um=(t,r,a)=>({rng:t,table:r,cells:a}),GM=Fl.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),qM=(t,r)=>xc(Qe.fromDom(t),"td,th",r),ooe=t=>!_o(t.start,t.end),c8=(t,r)=>Qm(t.start,r).bind(a=>Qm(t.end,r).bind(u=>wc(_o(a,u),a))),soe=(t,r)=>!ooe(t)&&c8(t,r).exists(a=>{const u=a.dom.rows;return u.length===1&&u[0].cells.length===1}),cSe=(t,r)=>{const a=qM(t.startContainer,r),u=qM(t.endContainer,r);return wr(a,u,aV)},roe=t=>r=>Qm(r,t).bind(a=>Jt(iV(a)).map(u=>aV(r,u))),dm=t=>r=>Qm(r,t).bind(a=>Vt(iV(a)).map(u=>aV(u,r))),ZM=t=>r=>c8(r,t).map(a=>um(r,a,iV(a))),lV=(t,r,a,u)=>{if(a.collapsed||!t.forall(ooe))return Se.none();if(r.isSameTable){const f=t.bind(ZM(u));return Se.some({start:f,end:f})}else{const f=qM(a.startContainer,u),y=qM(a.endContainer,u),T=f.bind(roe(u)).bind(ZM(u)),M=y.bind(dm(u)).bind(ZM(u));return Se.some({start:T,end:M})}},u8=(t,r)=>go(t,a=>_o(a,r)),cV=t=>wr(u8(t.cells,t.rng.start),u8(t.cells,t.rng.end),(r,a)=>t.cells.slice(r,a+1)),d8=(t,r,a)=>t.exists(u=>soe(u,a)&&HI(u.start,r)),uV=(t,r)=>{const{startTable:a,endTable:u}=r,f=t.cloneRange();return a.each(y=>f.setStartAfter(y.dom)),u.each(y=>f.setEndBefore(y.dom)),f},ioe=(t,r,a,u)=>lV(t,r,a,u).bind(({start:f,end:y})=>f.or(y)).bind(f=>{const{isSameTable:y}=r,T=cV(f).getOr([]);if(y&&f.cells.length===T.length)return Se.some(GM.fullTable(f.table));if(T.length>0){if(y)return Se.some(GM.partialTable(T,Se.none()));{const M=uV(a,r);return Se.some(GM.partialTable(T,Se.some({...r,rng:M})))}}else return Se.none()}),aoe=(t,r,a,u)=>lV(t,r,a,u).bind(({start:f,end:y})=>{const T=f.bind(cV).getOr([]),M=y.bind(cV).getOr([]);if(T.length>0&&M.length>0){const N=uV(a,r);return Se.some(GM.multiTable(T,M,N))}else return Se.none()}),loe=(t,r)=>{const a=aSe(t),u=cSe(r,a),f=noe(r,a);return d8(u,r,a)?u.map(y=>GM.singleCellTable(r,y.start)):f.isMultiTable?aoe(u,f,r,a):ioe(u,f,r,a)},h8=t=>Ze(t,r=>{pl(r,"contenteditable"),V(r)}),f8=(t,r)=>Se.from(t.dom.getParent(r,t.dom.isBlock)).map(Qe.fromDom),coe=(t,r,a)=>{a.each(u=>{r?Di(u):(V(u),t.selection.setCursorLocation(u.dom,0))})},KM=(t,r,a,u)=>{const f=a.cloneRange();u?(f.setStart(a.startContainer,a.startOffset),f.setEndAfter(r.dom.lastChild)):(f.setStartBefore(r.dom.firstChild),f.setEnd(a.endContainer,a.endOffset)),dV(t,f,r,!1).each(y=>y())},p8=t=>{const r=U1(t),a=Qe.fromDom(t.selection.getNode());Kp(a.dom)&&Vu(t.schema,a)?t.selection.setCursorLocation(a.dom,0):t.selection.collapse(!0),r.length>1&&bn(r,u=>_o(u,a))&&ca(a,"data-mce-selected","1")},uoe=(t,r,a)=>Se.some(()=>{const u=t.selection.getRng(),f=a.bind(({rng:y,isStartInTable:T})=>{const M=f8(t,T?y.endContainer:y.startContainer);y.deleteContents(),coe(t,T,M.filter(st(Vu,t.schema)));const N=T?r[0]:r[r.length-1];return KM(t,N,u,T),Vu(t.schema,N)?Se.none():Se.some(T?r.slice(1):r.slice(0,-1))}).getOr(r);h8(f),p8(t)}),doe=(t,r,a,u)=>Se.some(()=>{const f=t.selection.getRng(),y=r[0],T=a[a.length-1];KM(t,y,f,!0),KM(t,T,f,!1);const M=Vu(t.schema,y)?r:r.slice(1),N=Vu(t.schema,T)?a:a.slice(0,-1);h8(M.concat(N)),u.deleteContents(),p8(t)}),dV=(t,r,a,u=!0)=>Se.some(()=>{l8(t,r,a,u)}),uSe=(t,r)=>Se.some(()=>q1(t,!1,r)),hoe=(t,r,a)=>loe(r,a).bind(u=>u.fold(st(dV,t),st(uSe,t),st(uoe,t),st(doe,t))),Qr=(t,r)=>zT(t,r),XI=(t,r,a,u)=>UT(r,u).fold(()=>hoe(t,r,a),f=>Qr(t,f)),K1=(t,r,a)=>{const u=Qe.fromDom(t.getBody()),f=t.selection.getRng();return a.length!==0?uoe(t,a,Se.none()):XI(t,u,f,r)},RC=(t,r)=>_t(A0(r,t),m),UT=(t,r)=>_t(A0(r,t),yl("caption")),hV=(t,r,a,u,f)=>y0(a,t.getBody(),f).bind(y=>RC(r,Qe.fromDom(y.getNode())).bind(T=>_o(T,u)?Se.none():Se.some(gt))),zT=(t,r)=>Se.some(()=>{V(r),t.selection.setCursorLocation(r.dom,0)}),m8=(t,r,a,u)=>du(t.dom).bind(f=>Tf(t.dom).map(y=>r?a.isEqual(f)&&u.isEqual(y):a.isEqual(y)&&u.isEqual(f))).getOr(!0),foe=(t,r)=>zT(t,r),g8=(t,r,a)=>UT(t,Qe.fromDom(a.getNode())).fold(()=>Se.some(gt),u=>wc(!_o(u,r),gt)),v8=(t,r,a,u,f)=>y0(a,t.getBody(),f).fold(()=>Se.some(gt),y=>m8(u,a,f,y)?foe(t,u):g8(r,u,y)),poe=(t,r,a,u)=>{const f=sn.fromRangeStart(t.selection.getRng());return RC(a,u).bind(y=>Vu(t.schema,y,{checkRootAsContent:!1})?zT(t,y):hV(t,a,r,y,f))},moe=(t,r,a,u)=>{const f=sn.fromRangeStart(t.selection.getRng());return Vu(t.schema,u)?zT(t,u):v8(t,a,r,u,f)},b8=(t,r)=>t?Pj(r):KB(r),goe=(t,r)=>{const a=sn.fromRangeStart(t.selection.getRng());return b8(r,a)||Af(r,t.getBody(),a).exists(u=>b8(r,u))},voe=(t,r,a)=>{const u=Qe.fromDom(t.getBody());return UT(u,a).fold(()=>poe(t,r,u,a).orThunk(()=>wc(goe(t,r),gt)),f=>moe(t,r,u,f))},fV=(t,r)=>{const a=Qe.fromDom(t.selection.getStart(!0)),u=U1(t);return t.selection.isCollapsed()&&u.length===0?voe(t,r,a):K1(t,a,u)},kC=(t,r)=>{let a=r;for(;a&&a!==t;){if(iu(a)||si(a))return a;a=a.parentNode}return null},y8=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],dSe=Un.each,S8=t=>{const r=t.dom,a=new Set(t.serializer.getTempAttrs()),u=(y,T)=>{if(y.nodeName!==T.nodeName||y.nodeType!==T.nodeType)return!1;const M=G=>{const le={};return dSe(r.getAttribs(G),fe=>{const be=fe.nodeName.toLowerCase();be!=="style"&&!f(be)&&(le[be]=r.getAttrib(G,be))}),le},N=(G,le)=>{for(const fe in G)if(ts(G,fe)){const be=le[fe];if(ot(be)||G[fe]!==be)return!1;delete le[fe]}for(const fe in le)if(ts(le,fe))return!1;return!0};return Oo(y)&&Oo(T)&&(!N(M(y),M(T))||!N(r.parseStyle(r.getAttrib(y,"style")),r.parseStyle(r.getAttrib(T,"style"))))?!1:!am(y)&&!am(T)},f=y=>bn(y8,T=>ms(y,T))||a.has(y);return{compare:u,isAttributeInternal:f}},boe=(t,r)=>{if(Bn(t))return{container:t,offset:r};const a=_0.getNode(t,r);return Bn(a)?{container:a,offset:r>=t.childNodes.length?a.data.length:0}:a.previousSibling&&Bn(a.previousSibling)?{container:a.previousSibling,offset:a.previousSibling.data.length}:a.nextSibling&&Bn(a.nextSibling)?{container:a.nextSibling,offset:0}:{container:t,offset:r}},yoe=t=>{const r=t.cloneRange(),a=boe(t.startContainer,t.startOffset);r.setStart(a.container,a.offset);const u=boe(t.endContainer,t.endOffset);return r.setEnd(u.container,u.offset),r},YM=mi.DOM,hSe=()=>YM.create("span",{"data-mce-type":"bookmark"}),C8=(t,r,a)=>{if(Oo(t)){const u=a();return t.hasChildNodes()?r===t.childNodes.length?t.appendChild(u):t.insertBefore(u,t.childNodes[r]):t.appendChild(u),{container:u,offset:0}}else return{container:t,offset:r}},E8=(t,r)=>{const a=u=>{let f=u.parentNode?.firstChild,y=0;for(;f;){if(f===u)return y;(!Oo(f)||f.getAttribute("data-mce-type")!=="bookmark")&&y++,f=f.nextSibling}return-1};if(Oo(t)&&De(t.parentNode)){const u=t;r=a(t),t=t.parentNode,YM.remove(u),!t.hasChildNodes()&&YM.isBlock(t)&&t.appendChild(YM.create("br"))}return{container:t,offset:r}},Soe=(t,r,a,u)=>{const f=YM.createRng();return f.setStart(t,r),f.setEnd(a,u),yoe(f)},Y1=(t,r=hSe)=>{const{container:a,offset:u}=C8(t.startContainer,t.startOffset,r);if(t.collapsed)return{startContainer:a,startOffset:u};{const{container:f,offset:y}=C8(t.endContainer,t.endOffset,r);return{startContainer:a,startOffset:u,endContainer:f,endOffset:y}}},Uc=t=>{const{container:r,offset:a}=E8(t.startContainer,t.startOffset);if(!ot(t.endContainer)&&!ot(t.endOffset)){const{container:u,offset:f}=E8(t.endContainer,t.endOffset);return Soe(r,a,u,f)}else return Soe(r,a,r,a)},Coe=(t,r,a,u)=>{if(Un.each(a.styles,(f,y)=>{t.setStyle(r,y,W(f,u))}),a.styles){const f=t.getAttrib(r,"style");f&&t.setAttrib(r,"data-mce-style",f)}},jT=(t,r,a,u,f)=>{const y=t.dom;we(a.onformat)&&a.onformat(r,a,u,f),Coe(y,r,a,u),Un.each(a.attributes,(T,M)=>{y.setAttrib(r,M,W(T,u))}),Un.each(a.classes,T=>{const M=W(T,u);y.hasClass(r,M)||y.addClass(r,M)})},w8=t=>!Oe(t.attributes)&&!Oe(t.styles),_8=se,A8=(t,r,a)=>{const u=t.formatter.get(a);if(u)for(let f=0;f<u.length;f++){const y=u[f];if(an(y)&&y.inherit===!1&&t.dom.is(r,y.selector))return!0}return!1},pV=(t,r,a,u,f)=>{const y=t.dom.getRoot();if(r===y)return!1;const T=t.dom.getParent(r,M=>A8(t,M,a)?!0:M.parentNode===y||!!lb(t,M,a,u,!0));return!!lb(t,T,a,u,f)},XM=(t,r,a)=>Sn(a)&&_8(r,a.inline)||fo(a)&&_8(r,a.block)?!0:an(a)?Oo(r)&&t.is(r,a.selector):!1,JM=(t,r,a,u,f,y)=>{const T=a[u],M=u==="attributes";if(we(a.onmatch))return a.onmatch(r,a,u);if(T){if(of(T)){for(let N=0;N<T.length;N++)if(M?t.getAttrib(r,T[N]):Te(t,r,T[N]))return!0}else for(const N in T)if(ts(T,N)){const G=M?t.getAttrib(r,N):Te(t,r,N),le=W(T[N],y),fe=Fe(G)||fc(G);if(fe&&Fe(le))continue;if(f&&fe&&!a.exact||(!f||a.exact)&&!_8(G,pe(le,N)))return!1}}return!0},lb=(t,r,a,u,f)=>{const y=t.formatter.get(a),T=t.dom;if(y&&Oo(r))for(let M=0;M<y.length;M++){const N=y[M];if(XM(t.dom,r,N)&&JM(T,r,N,"attributes",f,u)&&JM(T,r,N,"styles",f,u)){const G=N.classes;if(G){for(let le=0;le<G.length;le++)if(!t.dom.hasClass(r,W(G[le],u)))return}return N}}},mV=(t,r,a,u,f)=>{if(u)return pV(t,u,r,a,f);if(u=t.selection.getNode(),pV(t,u,r,a,f))return!0;const y=t.selection.getStart();return!!(y!==u&&pV(t,y,r,a,f))},Eoe=(t,r,a)=>{const u=[],f={},y=t.selection.getStart();return t.dom.getParent(y,T=>{for(let M=0;M<r.length;M++){const N=r[M];!f[N]&&lb(t,T,N,a)&&(f[N]=!0,u.push(N))}},t.dom.getRoot()),u},ma=(t,r)=>{const a=f=>_o(f,Qe.fromDom(t.getBody())),u=(f,y)=>lb(t,f.dom,y)?Se.some(y):Se.none();return Se.from(t.selection.getStart(!0)).bind(f=>Lu(Qe.fromDom(f),y=>wo(r,T=>u(y,T)),a)).getOrNull()},woe=(t,r)=>{const a=t.formatter.get(r),u=t.dom;if(a&&t.selection.isEditable()){const f=t.selection.getStart(),y=Ye(u,f);for(let T=a.length-1;T>=0;T--){const M=a[T];if(!an(M))return!0;for(let N=y.length-1;N>=0;N--)if(u.is(y[N],M.selector))return!0}}return!1},_oe=(t,r,a)=>rn(a,(u,f)=>{const y=zt(t,f);return t.formatter.matchNode(r,f,{},y)?u.concat([f]):u},[]),X1=Z,T8=(t,r)=>t.importNode(r,!0),x8=t=>{if(t){const r=new Zi(t,t);for(let a=r.current();a;a=r.next())if(Bn(a))return a}return null},gV=t=>{const r=Qe.fromTag("span");return Ra(r,{id:OT,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&$r(r,Qe.fromText(X1)),r},Aoe=t=>{const r=x8(t);return r&&r.data.charAt(0)===X1&&r.deleteData(0,1),r},QM=(t,r,a)=>{const u=t.dom,f=t.selection;if(xi(r))q1(t,!1,Qe.fromDom(r),a,!0);else{const y=f.getRng(),T=u.getParent(r,u.isBlock),M=y.startContainer,N=y.startOffset,G=y.endContainer,le=y.endOffset,fe=Aoe(r);u.remove(r,!0),M===fe&&N>0&&y.setStart(fe,N-1),G===fe&&le>0&&y.setEnd(fe,le-1),T&&u.isEmpty(T)&&V(Qe.fromDom(T)),f.setRng(y)}},vV=(t,r,a)=>{const u=t.dom,f=t.selection;if(r)QM(t,r,a);else if(r=S0(t.getBody(),f.getStart()),!r)for(;r=u.get(OT);)QM(t,r,a)},fSe=(t,r,a)=>{const u=t.dom,f=u.getParent(a,st(pa,t.schema));f&&u.isEmpty(f)?a.parentNode?.replaceChild(r,a):(R(Qe.fromDom(a)),u.isEmpty(a)?a.parentNode?.replaceChild(r,a):u.insertAfter(r,a))},Toe=(t,r)=>(t.appendChild(r),r),O8=(t,r)=>{const a=Kt(t,(f,y)=>Toe(f,y.cloneNode(!1)),r),u=a.ownerDocument??document;return Toe(a,u.createTextNode(X1))},xoe=(t,r,a,u,f,y)=>{const T=t.formatter,M=t.dom,N=je(Zt(T.get()),fe=>fe!==u&&!ea(fe,"removeformat")),G=_oe(t,a,N);if(je(G,fe=>!Ln(t,fe,u)).length>0){const fe=a.cloneNode(!1);return M.add(r,fe),T.remove(u,f,fe,y),M.remove(fe),Se.some(fe)}else return Se.none()},I8=t=>t0(t,gl(t).replace(new RegExp(`${ki}$`)," ")),R8=(t,r)=>{const a=()=>{r!==null&&!t.dom.isEmpty(r)&&Pd(Qe.fromDom(r)).each(u=>{Jr(u)?I8(u):Vv(u,f=>Jr(f)).each(f=>{Jr(f)&&I8(f)})})};t.once("input",u=>{u.data&&!_y(u.data)&&(u.isComposing?t.once("compositionend",()=>{a()}):a())})},k8=(t,r,a)=>{let u;const f=t.selection,y=t.formatter.get(r);if(!y)return;const T=f.getRng();let M=T.startOffset;const G=T.startContainer.nodeValue;u=S0(t.getBody(),f.getStart());const le=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(G&&M>0&&M<G.length&&le.test(G.charAt(M))&&le.test(G.charAt(M-1))){const fe=f.getBookmark();T.collapse(!0);let be=xf(t.dom,T,y);be=cm(be),t.formatter.apply(r,a,be),f.moveToBookmark(fe)}else{let fe=u?x8(u):null;(!u||fe?.data!==X1)&&(u=T8(t.getDoc(),gV(!0).dom),fe=u.firstChild,T.insertNode(u),M=1,R8(t,u)),t.formatter.apply(r,a,u),f.setCursorLocation(fe,M)}},Ooe=(t,r,a,u)=>{const f=t.dom,y=t.selection;let T=!1;const M=t.formatter.get(r);if(!M)return;const N=y.getRng(),G=N.startContainer,le=N.startOffset;let fe=G;Bn(G)&&(le!==G.data.length&&(T=!0),fe=fe.parentNode);const be=[];let Ne;for(;fe;){if(lb(t,fe,r,a,u)){Ne=fe;break}fe.nextSibling&&(T=!0),be.push(fe),fe=fe.parentNode}if(Ne)if(T){const Ke=y.getBookmark();N.collapse(!0);let $e=xf(f,N,M,{includeTrailingSpace:!0});$e=cm($e),t.formatter.remove(r,a,$e,u),y.moveToBookmark(Ke)}else{const Ke=S0(t.getBody(),Ne),$e=De(Ke)?f.getParents(Ne.parentNode,Tn,Ke):[],Xe=gV(!1).dom;fSe(t,Xe,Ke??Ne);const wt=xoe(t,Xe,Ne,r,a,u),Tt=O8([...be,...wt.toArray(),...$e],Xe);Ke&&QM(t,Ke,De(Ke)),y.setCursorLocation(Tt,1),R8(t,Xe),f.isEmpty(Ne)&&f.remove(Ne)}},Dr=(t,r,a)=>{const u=t.selection,f=t.getBody();vV(t,null,a),(r===8||r===46)&&u.isCollapsed()&&u.getStart().innerHTML===X1&&vV(t,S0(f,u.getStart()),!0),(r===37||r===39)&&vV(t,S0(f,u.getStart()),!0)},D8=t=>Bn(t)&&zi(t.data,ki),JI=t=>{t.on("mouseup keydown",r=>{Dr(t,r.keyCode,D8(t.selection.getRng().endContainer))})},WT=t=>{const r=gV(!1),a=O8(t,r.dom);return{caretContainer:r,caretPosition:sn(a,0)}},GT=(t,r)=>{const{caretContainer:a,caretPosition:u}=WT(r);return Tc(Qe.fromDom(t),a),Di(Qe.fromDom(t)),u},QI=(t,r)=>{const{caretContainer:a,caretPosition:u}=WT(r);return t.insertNode(a.dom),u},bV=(t,r)=>{if(Jm(r.dom))return!1;const a=t.schema.getTextInlineElements();return ts(a,Ns(r))&&!Jm(r.dom)&&!Vg(r.dom)},Ioe=["fontWeight","fontStyle","color","fontSize","fontFamily"],pSe=t=>ye(t.styles)&&bn(Zt(t.styles),r=>kt(Ioe,r)),mSe=t=>_t(t,r=>Sn(r)&&r.inline==="span"&&pSe(r)),Roe=(t,r)=>{const a=t.get(r);return Oe(a)?mSe(a):Se.none()},M8=(t,r)=>uu(r,sn.fromRangeStart(t)).isNone(),koe=(t,r)=>zh(r,sn.fromRangeEnd(t)).exists(a=>!fa(a.getNode())||zh(r,a).isSome())===!1,P8=t=>r=>Fm(r)&&t.isEditable(r),Doe=t=>{const r=t.getSelectedBlocks(),a=t.getRng();if(t.isCollapsed())return[];if(r.length===1)return M8(a,r[0])&&koe(a,r[0])?r:[];{const u=Vt(r).filter(T=>M8(a,T)).toArray(),f=Jt(r).filter(T=>koe(a,T)).toArray(),y=r.slice(1,-1);return u.concat(y).concat(f)}},gSe=t=>je(Doe(t),P8(t.dom)),N8=t=>je(t.getSelectedBlocks(),P8(t.dom)),ga=Un.each,L8=t=>Oo(t)&&!am(t)&&!Jm(t)&&!Vg(t),Moe=(t,r)=>{for(let a=t;a;a=a[r]){if(Bn(a)&&fi(a.data))return t;if(Oo(a)&&!am(a))return a}return t},B8=(t,r,a)=>{const u=S8(t),f=ha(r)&&t.dom.isEditable(r),y=ha(a)&&t.dom.isEditable(a);if(f&&y){const T=Moe(r,"previousSibling"),M=Moe(a,"nextSibling");if(u.compare(T,M)){for(let N=T.nextSibling;N&&N!==M;){const G=N;N=N.nextSibling,T.appendChild(G)}return t.dom.remove(M),Un.each(Un.grep(M.childNodes),N=>{T.appendChild(N)}),T}}return a},qT=(t,r,a,u)=>{if(u&&r.merge_siblings!==!1){const f=B8(t,mM(u),u)??u;B8(t,f,mM(f,!0))}},Poe=(t,r,a)=>{if(r.clear_child_styles){const u=r.links?"*:not(a)":"*";ga(t.select(u,a),f=>{L8(f)&&t.isEditable(f)&&ga(r.styles,(y,T)=>{t.setStyle(f,T,"")})})}},yV=(t,r,a)=>{ga(t.childNodes,u=>{L8(u)&&(r(u)&&a(u),u.hasChildNodes()&&yV(u,r,a))})},J1=(t,r)=>{r.nodeName==="SPAN"&&t.getAttribs(r).length===0&&t.remove(r,!0)},di=(t,r)=>a=>!!(a&&Te(t,a,r)),zc=(t,r,a)=>u=>{t.setStyle(u,r,a),u.getAttribute("style")===""&&u.removeAttribute("style"),J1(t,u)},bp=Fl.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Noe=/^(src|href|style)$/,SV=Un.each,eP=se,Loe=t=>/^(TR|TH|TD)$/.test(t.nodeName),CV=(t,r,a)=>t.isChildOf(r,a)&&r!==a&&!t.isBlock(a),ZT=(t,r,a)=>{let u=r[a?"startContainer":"endContainer"],f=r[a?"startOffset":"endOffset"];if(Oo(u)){const y=u.childNodes.length-1;!a&&f&&f--,u=u.childNodes[f>y?y:f]}return Bn(u)&&a&&f>=u.data.length&&(u=new Zi(u,t.getBody()).next()||u),Bn(u)&&!a&&f===0&&(u=new Zi(u,t.getBody()).prev()||u),u},EV=(t,r)=>{const a=r?"firstChild":"lastChild",u=t[a];return Loe(t)&&u?t.nodeName==="TR"&&u[a]||u:t},tP=(t,r,a,u)=>{const f=t.create(a,u);return r.parentNode?.insertBefore(f,r),f.appendChild(r),f},V8=(t,r,a,u,f)=>{const y=Qe.fromDom(r),T=Qe.fromDom(t.create(u,f)),M=a?oa(y):jl(y);return ih(T,M),a?(Tc(y,T),np(T,y)):(rh(y,T),$r(T,y)),T.dom},Boe=(t,r)=>r.links&&t.nodeName==="A",F8=(t,r,a)=>{const u=r.parentNode;let f;const y=t.dom,T=Uu(t);fo(a)&&u===y.getRoot()&&(!a.list_block||!eP(r,a.list_block))&&Ze(jt(r.childNodes),M=>{j1(t,T,M.nodeName.toLowerCase())?f?f.appendChild(M):(f=tP(y,M,T),y.setAttribs(f,vC(t))):f=null}),!(As(a)&&!eP(a.inline,r))&&y.remove(r,!0)},wV=(t,r,a)=>ct(t)?{name:r,value:null}:{name:t,value:W(r,a)},H8=(t,r)=>{t.getAttrib(r,"style")===""&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style"))},$8=(t,r,a,u,f)=>{let y=!1;SV(a.styles,(T,M)=>{const{name:N,value:G}=wV(M,T,u),le=pe(G,N);(a.remove_similar||F(G)||!Oo(f)||eP(Te(t,f,N),le))&&t.setStyle(r,N,""),y=!0}),y&&H8(t,r)},Voe=(t,r,a)=>{r==="removeformat"?Ze(N8(t.selection),u=>{Ze(Ioe,f=>t.dom.setStyle(u,f,"")),H8(t.dom,u)}):Roe(t.formatter,r).each(u=>{Ze(N8(t.selection),f=>$8(t.dom,f,u,a,null))})},_V=(t,r,a,u,f)=>{const y=t.dom,T=S8(t),M=t.schema;if(Sn(r)&&Bc(M,r.inline)&&xn(M,u)&&u.parentElement===t.getBody())return F8(t,u,r),bp.removed();if(!r.ceFalseOverride&&u&&y.getContentEditableParent(u)==="false"||u&&!XM(y,u,r)&&!Boe(u,r))return bp.keep();const N=u,G=r.preserve_attributes;if(Sn(r)&&r.remove==="all"&&Oe(G)){const le=je(y.getAttribs(N),fe=>kt(G,fe.name.toLowerCase()));if(y.removeAllAttribs(N),Ze(le,fe=>y.setAttrib(N,fe.name,fe.value)),le.length>0)return bp.rename("span")}if(r.remove!=="all"){$8(y,N,r,a,f),SV(r.attributes,(fe,be)=>{const{name:Ne,value:Ke}=wV(be,fe,a);if(r.remove_similar||F(Ke)||!Oo(f)||eP(y.getAttrib(f,Ne),Ke)){if(Ne==="class"){const $e=y.getAttrib(N,Ne);if($e){let Xe="";if(Ze($e.split(/\s+/),wt=>{/mce\-\w+/.test(wt)&&(Xe+=(Xe?" ":"")+wt)}),Xe){y.setAttrib(N,Ne,Xe);return}}}if(Noe.test(Ne)&&N.removeAttribute("data-mce-"+Ne),Ne==="style"&&Oc(["li"])(N)&&y.getStyle(N,"list-style-type")==="none"){N.removeAttribute(Ne),y.setStyle(N,"list-style-type","none");return}Ne==="class"&&N.removeAttribute("className"),N.removeAttribute(Ne)}}),SV(r.classes,fe=>{fe=W(fe,a),(!Oo(f)||y.hasClass(f,fe))&&y.removeClass(N,fe)});const le=y.getAttribs(N);for(let fe=0;fe<le.length;fe++){const be=le[fe].nodeName;if(!T.isAttributeInternal(be))return bp.keep()}}return r.remove!=="none"?(F8(t,N,r),bp.removed()):bp.keep()},AV=(t,r,a,u,f)=>{let y;return r.parentNode&&Ze(Ye(t.dom,r.parentNode).reverse(),T=>{if(!y&&Oo(T)&&T.id!=="_start"&&T.id!=="_end"){const M=lb(t,T,a,u,f);M&&M.split!==!1&&(y=T)}}),y},U8=(t,r,a,u)=>_V(t,r,a,u,u).fold(nt(u),f=>(t.dom.createFragment().appendChild(u),t.dom.rename(u,f)),nt(null)),TV=(t,r,a,u,f,y,T,M)=>{let N,G;const le=t.dom;if(a){const fe=a.parentNode;for(let be=u.parentNode;be&&be!==fe;be=be.parentNode){let Ne=le.clone(be,!1);for(let Ke=0;Ke<r.length&&(Ne=U8(t,r[Ke],M,Ne),Ne!==null);Ke++);Ne&&(N&&Ne.appendChild(N),G||(G=Ne),N=Ne)}(!T.mixed||!le.isBlock(a))&&(u=le.split(a,u)??u),N&&G&&(f.parentNode?.insertBefore(N,f),G.appendChild(f),Sn(T)&&qT(t,T,M,N))}return u},vSe=(t,r,a,u,f)=>{const y=t.formatter.get(r),T=y[0],M=t.dom,N=t.selection,G=$e=>{const Xe=AV(t,$e,r,a,f);return TV(t,y,Xe,$e,$e,!0,T,a)},le=$e=>am($e)&&Oo($e)&&($e.id==="_start"||$e.id==="_end"),fe=$e=>bn(y,Xe=>nP(t,Xe,a,$e,$e)),be=$e=>{const Xe=jt($e.childNodes),Tt=fe($e)||bn(y,Mn=>XM(M,$e,Mn)),It=$e.parentNode;if(!Tt&&De(It)&&Ks(T)&&fe(It),T.deep&&Xe.length)for(let Mn=0;Mn<Xe.length;Mn++)be(Xe[Mn]);Ze(["underline","line-through","overline"],Mn=>{Oo($e)&&t.dom.getStyle($e,"text-decoration")===Mn&&$e.parentNode&&He(M,$e.parentNode)===Mn&&nP(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Mn}},void 0,$e)})},Ne=$e=>{const Xe=M.get($e?"_start":"_end");if(Xe){let wt=Xe[$e?"firstChild":"lastChild"];return le(wt)&&(wt=wt[$e?"firstChild":"lastChild"]),Bn(wt)&&wt.data.length===0&&(wt=$e?Xe.previousSibling||Xe.nextSibling:Xe.nextSibling||Xe.previousSibling),M.remove(Xe,!0),wt}else return null},Ke=$e=>{let Xe,wt,Tt=xf(M,$e,y,{includeTrailingSpace:$e.collapsed});if(T.split){if(Tt=cm(Tt),Xe=ZT(t,Tt,!0),wt=ZT(t,Tt),Xe!==wt){if(Xe=EV(Xe,!0),wt=EV(wt,!1),CV(M,Xe,wt)){const fn=Se.from(Xe.firstChild).getOr(Xe);G(V8(M,fn,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Ne(!0);return}if(CV(M,wt,Xe)){const fn=Se.from(wt.lastChild).getOr(wt);G(V8(M,fn,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Ne(!1);return}Xe=tP(M,Xe,"span",{id:"_start","data-mce-type":"bookmark"}),wt=tP(M,wt,"span",{id:"_end","data-mce-type":"bookmark"});const It=M.createRng();It.setStartAfter(Xe),It.setEndBefore(wt),$c(M,It,fn=>{Ze(fn,Mn=>{!am(Mn)&&!am(Mn.parentNode)&&G(Mn)})}),G(Xe),G(wt),Xe=Ne(!0),wt=Ne()}else Xe=wt=G(Xe);Tt.startContainer=Xe.parentNode?Xe.parentNode:Xe,Tt.startOffset=M.nodeIndex(Xe),Tt.endContainer=wt.parentNode?wt.parentNode:wt,Tt.endOffset=M.nodeIndex(wt)+1}$c(M,Tt,It=>{Ze(It,be)})};if(u){if(z1(u)){const $e=M.createRng();$e.setStartBefore(u),$e.setEndAfter(u),Ke($e)}else Ke(u);aD(t,r,u,a);return}!N.isCollapsed()||!Sn(T)||U1(t).length?(pM(t,()=>$I(t,Ke),$e=>Sn(T)&&mV(t,r,a,$e)),t.nodeChanged()):Ooe(t,r,a,f),Voe(t,r,a),aD(t,r,u,a)},gd=(t,r,a,u,f)=>{(u||t.selection.isEditable())&&vSe(t,r,a,u,f)},Foe=(t,r,a,u)=>_V(t,r,a,u).fold(()=>Se.some(u),f=>Se.some(t.dom.rename(u,f)),Se.none),nP=(t,r,a,u,f)=>_V(t,r,a,u,f).fold(qt,y=>(t.dom.rename(u,y),!0),Tn),z8=["fontsize","subscript","superscript"],Hoe=["strikethrough",...z8],$oe=(t,r,a)=>De(t.matchNode(r.dom,a,{},a==="fontsize")),xV=(t,r)=>bn(z8,a=>$oe(t,r,a)),j8=t=>kt(Hoe,t),eR=(t,r,a,u,f)=>{const y=Nc(r,t).filter(na);return Mo(y,a).map(T=>{const M=y[T],N=u(M),G=[...f(El(M)).toArray(),...Io(y.slice(0,T),le=>a(le)?f(le).toArray():[El(le)])];return{container:M,innerWrapper:N,outerWrappers:G}})},Uoe=(t,r,a,u)=>{Ze(pr(t),f=>{na(f)&&a(f)&&u(f).isNone()&&Mu(f)}),Ze(pr(t),f=>$r(r,f)),np(t,r)},W8=(t,r)=>{if(r.length>0){const a=r[r.length-1];Tc(t,a);const u=rn(r.slice(0,r.length-1),(f,y)=>($r(f,y),y),a);$r(u,t)}},zoe=(t,r,a,u,f)=>{const y=T=>_o(Qe.fromDom(t.getRoot()),T)||t.isBlock(T.dom);Ze(r,T=>{eR(y,T,a,u,f).each(({container:M,innerWrapper:N,outerWrappers:G})=>{t.split(M.dom,T.dom),Uoe(T,N,a,f),W8(T,G)})})},DC=(t,r,a)=>{const u=M=>De(lb(t,M.dom,r)),f=M=>{const N=Qe.fromTag(Ns(M)),G=lb(t,M.dom,r,{});return De(G)&&w8(G)&&jT(t,N.dom,G),N},y=M=>{const N=lb(t,M.dom,r,{});return De(N)?Foe(t,N,{},M.dom).map(Qe.fromDom):Se.some(M)},T=Y1(t.selection.getRng());zoe(t.dom,a,u,f,y),t.selection.setRng(Uc(T))},G8=(t,r)=>Io(r,a=>{const u=qe(a,f=>xV(t,f));return xV(t,a)?[a,...u]:u}),q8=(t,r,a)=>{if(j8(r)){const u=G8(t.formatter,a);DC(t,"strikethrough",u)}},Z8=(t,r)=>{const a=je(r,u=>xV(t.formatter,u));DC(t,"strikethrough",a)},OV=t=>["h1","h2","h3","h4","h5","h6"].includes(t.name),K8=t=>t.name==="summary",joe=(t,r)=>{let a=t;for(;a=a.walk();)r(a)},IV=(t,r,a,u)=>{const f=a.name;for(let y=0,T=t.length;y<T;y++){const M=t[y];if(M.name===f){const N=u.nodes[f];N?N.nodes.push(a):u.nodes[f]={filter:M,nodes:[a]}}}if(a.attributes)for(let y=0,T=r.length;y<T;y++){const M=r[y],N=M.name;if(N in a.attributes.map){const G=u.attributes[N];G?G.nodes.push(a):u.attributes[N]={filter:M,nodes:[a]}}}},Woe=(t,r,a)=>{const u={nodes:{},attributes:{}};return a.firstChild&&joe(a,f=>{IV(t,r,f,u)}),u},Y8=(t,r)=>{const a=(u,f)=>{eo(u,y=>{const T=jt(y.nodes);Ze(y.filter.callbacks,M=>{for(let N=T.length-1;N>=0;N--){const G=T[N];(!(f?G.attr(y.filter.name)!==void 0:G.name===y.filter.name)||Fe(G.parent))&&T.splice(N,1)}T.length>0&&M(T,y.filter.name,r)})})};a(t.nodes,!1),a(t.attributes,!0)},X8=(t,r,a,u={})=>{const f=Woe(t,r,a);Y8(f,u)},RV=(t,r,a,u)=>{if((t.pad_empty_with_br||r.insert)&&a(u)){const y=new vh("br",1);r.insert&&y.attr("data-mce-bogus","1"),u.empty().append(y)}else u.empty().append(new vh("#text",3)).value=ki},Goe=t=>qoe(t,"#text")&&t?.firstChild?.value===ki,qoe=(t,r)=>{const a=t?.firstChild;return De(a)&&a===t.lastChild&&a.name===r},Zoe=(t,r)=>t.getElementRule(r.name)?.paddEmpty===!0,tR=(t,r,a,u)=>u.isEmpty(r,a,f=>Zoe(t,f)),bSe=(t,r)=>De(t)&&(r(t)||t.name==="br"),Koe=t=>{let r;for(let a=t;a;a=a.parent){const u=a.attr("contenteditable");if(u==="false")break;u==="true"&&(r=a)}return Se.from(r)},kV=t=>{const r=[];for(let a=t.firstChild;De(a);a=a.walk())r.push(a);return r},nR=(t,r,a=t.parent)=>{if(r.getSpecialElements()[t.name])t.empty().remove();else{const u=t.children();for(const f of u)a&&!r.isValidChild(a.name,f.name)&&nR(f,r,a);t.unwrap()}},J8=(t,r,a,u=gt)=>{const f=r.getTextBlockElements(),y=r.getNonEmptyElements(),T=r.getWhitespaceElements(),M=Un.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),N=new Set,G=le=>le!==a&&!M[le.name];for(let le=0;le<t.length;le++){const fe=t[le];let be,Ne,Ke;if(!fe.parent||N.has(fe))continue;if(f[fe.name]&&fe.parent.name==="li"){let Xe=fe.next;for(;Xe&&f[Xe.name];){Xe.name="li",N.add(Xe),fe.parent.insert(Xe,fe.parent);Xe=Xe.next}fe.unwrap();continue}const $e=[fe];for(be=fe.parent;be&&!r.isValidChild(be.name,fe.name)&&G(be);be=be.parent)$e.push(be);if(be&&$e.length>1)if(DV(r,fe,be))nR(fe,r);else{$e.reverse(),Ne=$e[0].clone(),u(Ne);let Xe=Ne;for(let wt=0;wt<$e.length-1;wt++){r.isValidChild(Xe.name,$e[wt].name)&&wt>0?(Ke=$e[wt].clone(),u(Ke),Xe.append(Ke)):Ke=Xe;for(let Tt=$e[wt].firstChild;Tt&&Tt!==$e[wt+1];){const It=Tt.next;Ke.append(Tt),Tt=It}Xe=Ke}tR(r,y,T,Ne)?be.insert(fe,$e[0],!0):(be.insert(Ne,$e[0],!0),be.insert(fe,Ne)),be=$e[0],(tR(r,y,T,be)||qoe(be,"br"))&&be.empty().remove()}else if(fe.parent){if(fe.name==="li"){let Xe=fe.prev;if(Xe&&(Xe.name==="ul"||Xe.name==="ol")){Xe.append(fe);continue}if(Xe=fe.next,Xe&&(Xe.name==="ul"||Xe.name==="ol")&&Xe.firstChild){Xe.insert(fe,Xe.firstChild,!0);continue}const wt=new vh("ul",1);u(wt),fe.wrap(wt);continue}if(r.isValidChild(fe.parent.name,"div")&&r.isValidChild("div",fe.name)){const Xe=new vh("div",1);u(Xe),fe.wrap(Xe)}else nR(fe,r)}}},ySe=(t,r)=>{let a=t;for(;a;){if(a.name===r)return!0;a=a.parent}return!1},DV=(t,r,a=r.parent)=>a?t.children[r.name]&&!t.isValidChild(a.name,r.name)||r.name==="a"&&ySe(a,"a")?!0:K8(a)&&OV(r)?!(a?.firstChild===r&&a?.lastChild===r):!1:!1,Yoe=(t,r,a,u)=>{const f=document.createRange();return f.setStart(t,r),f.setEnd(a,u),f},Xoe=t=>{const r=sn.fromRangeStart(t),a=sn.fromRangeEnd(t),u=t.commonAncestorContainer;return Af(!1,u,a).map(f=>!ov(r,a,u)&&ov(r,f,u)?Yoe(r.container(),r.offset(),f.container(),f.offset()):t).getOr(t)},oP=t=>t.collapsed?t:Xoe(t),Q8=Un.explode,e7=()=>{const t={};return{addFilter:(f,y)=>{Ze(Q8(f),T=>{ts(t,T)||(t[T]={name:T,callbacks:[]}),t[T].callbacks.push(y)})},getFilters:()=>Ni(t),removeFilter:(f,y)=>{Ze(Q8(f),T=>{if(ts(t,T))if(De(y)){const M=t[T],N=je(M.callbacks,G=>G!==y);N.length>0?M.callbacks=N:delete t[T]}else delete t[T]})}}},Joe=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t7=t=>t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),Qoe=(t,r)=>{Ze(r,a=>{t.attr(a,null)})},ese=(t,r,a)=>{t.addNodeFilter("font",u=>{Ze(u,f=>{const y=r.parse(f.attr("style")),T=f.attr("color"),M=f.attr("face"),N=f.attr("size");T&&(y.color=T),M&&(y["font-family"]=M),N&&nf(N).each(G=>{y["font-size"]=a[G-1]}),f.name="span",f.attr("style",r.serialize(y)),Qoe(f,["color","face","size"])})})},Q1=(t,r,a)=>{t.addNodeFilter("strike",u=>{const f=r.type!=="html4";Ze(u,y=>{if(f)y.name="s";else{const T=a.parse(y.attr("style"));T["text-decoration"]="line-through",y.name="span",y.attr("style",a.serialize(T))}})})},tse=(t,r,a)=>{const u=my();r.convert_fonts_to_spans&&ese(t,u,Un.explode(r.font_size_legacy_values??"")),Q1(t,a,u)},n7=(t,r,a)=>{r.inline_styles&&tse(t,r,a)},nse=t=>fetch(t).then(r=>r.ok?r.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${t} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),ose=t=>{const r=/([a-z0-9+\/=\s]+)/i.exec(t);return r?r[1]:""},o7=t=>{try{return decodeURIComponent(t)}catch{return t}},sP=t=>{const[r,...a]=t.split(","),u=a.join(","),f=/data:([^/]+\/[^;]+)(;.+)?/.exec(r);if(f){const y=f[2]===";base64",T=o7(u),M=y?ose(T):T;return Se.some({type:f[1],data:M,base64Encoded:y})}else return Se.none()},MV=(t,r,a=!0)=>{let u=r;if(a)try{u=atob(r)}catch{return Se.none()}const f=new Uint8Array(u.length);for(let y=0;y<f.length;y++)f[y]=u.charCodeAt(y);return Se.some(new Blob([f],{type:t}))},s7=t=>new Promise((r,a)=>{sP(t).bind(({type:u,data:f,base64Encoded:y})=>MV(u,f,y)).fold(()=>a("Invalid data URI"),r)}),sse=t=>ms(t,"blob:")?nse(t):ms(t,"data:")?s7(t):Promise.reject("Unknown URI format"),r7=t=>new Promise((r,a)=>{const u=new FileReader;u.onloadend=()=>{r(u.result)},u.onerror=()=>{a(u.error?.message)},u.readAsDataURL(t)});let rse=0;const ise=t=>"blobid"+rse++,i7=(t,r,a)=>sP(t).bind(({data:u,type:f,base64Encoded:y})=>{if(r&&!y)return Se.none();{const T=y?u:btoa(u);return a(T,f)}}),MC=(t,r,a)=>{const u=t.create(ise(),r,a);return t.add(u),u},PV=(t,r,a=!1)=>i7(r,a,(u,f)=>Se.from(t.getByData(u,f)).orThunk(()=>MV(f,u).map(y=>MC(t,y,u)))),ase=(t,r)=>{const a=()=>Promise.reject("Invalid data URI");if(ms(r,"blob:")){const u=t.getByUri(r);return De(u)?Promise.resolve(u):sse(r).then(f=>r7(f).then(y=>i7(y,!1,T=>Se.some(MC(t,f,T))).getOrThunk(a)))}else return ms(r,"data:")?PV(t,r).fold(a,u=>Promise.resolve(u)):Promise.reject("Unknown image data format")},lse=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,NV=t=>Se.from(t.match(lse)).bind(r=>bt(r,1)).map(r=>ms(r,"www.")?r.substring(4):r),a7=(t,r)=>{Se.from(t.attr("src")).bind(NV).forall(a=>!kt(r,a))&&t.attr("sandbox","")},oR=(t,r)=>ms(t,`${r}/`),l7=t=>ot(t)?"iframe":oR(t,"image")?"img":oR(t,"video")?"video":oR(t,"audio")?"audio":"iframe",cse=({type:t,src:r,width:a,height:u}={},f,y)=>{const T=l7(t),M=new vh(T,1);return M.attr(T==="audio"?{src:r}:{src:r,width:a,height:u}),(T==="audio"||T==="video")&&M.attr("controls",""),T==="iframe"&&f&&a7(M,y),M},use=t=>De(t.attr("data-mce-bogus")),rP=t=>t.attr("src")===_r.transparentSrc||De(t.attr("data-mce-placeholder")),dse=(t,r)=>{const{blob_cache:a}=r;if(a){const u=f=>{const y=f.attr("src");rP(f)||use(f)||Fe(y)||PV(a,y,!0).each(T=>{f.attr("src",T.blobUri())})};t.addAttributeFilter("src",f=>Ze(f,u))}},c7=(t,r)=>{const a=t.schema;t.addAttributeFilter("href",T=>{let M=T.length;const N=le=>le.split(" ").filter(be=>be.length>0).concat(["noopener"]).sort().join(" "),G=le=>{const fe=le?Un.trim(le):"";return/\b(noopener)\b/g.test(fe)?fe:N(fe)};if(!r.allow_unsafe_link_target)for(;M--;){const le=T[M];le.name==="a"&&le.attr("target")==="_blank"&&le.attr("rel",G(le.attr("rel")))}}),r.allow_html_in_named_anchor||t.addAttributeFilter("id,name",T=>{let M=T.length,N,G,le,fe;for(;M--;)if(fe=T[M],fe.name==="a"&&fe.firstChild&&!fe.attr("href"))for(le=fe.parent,N=fe.lastChild;N&&le;)G=N.prev,le.insert(N,fe),N=G}),r.fix_list_elements&&t.addNodeFilter("ul,ol",T=>{let M=T.length,N,G;for(;M--;)if(N=T[M],G=N.parent,G&&(G.name==="ul"||G.name==="ol"))if(N.prev&&N.prev.name==="li")N.prev.append(N);else{const le=new vh("li",1);le.attr("style","list-style-type: none"),N.wrap(le)}});const u=a.getValidClasses();r.validate&&u&&t.addAttributeFilter("class",T=>{let M=T.length;for(;M--;){const N=T[M],G=N.attr("class")??"",le=Un.explode(G," ");let fe="";for(let be=0;be<le.length;be++){const Ne=le[be];let Ke=!1,$e=u["*"];$e&&$e[Ne]&&(Ke=!0),$e=u[N.name],!Ke&&$e&&$e[Ne]&&(Ke=!0),Ke&&(fe&&(fe+=" "),fe+=Ne)}fe.length||(fe=null),N.attr("class",fe)}}),dse(t,r);const f=r.sandbox_iframes??!1,y=Jn(r.sandbox_iframes_exclusions??[]);r.convert_unsafe_embeds&&t.addNodeFilter("object,embed",T=>Ze(T,M=>{M.replace(cse({type:M.attr("type"),src:M.name==="object"?M.attr("data"):M.attr("src"),width:M.attr("width"),height:M.attr("height")},f,y))})),f&&t.addNodeFilter("iframe",T=>Ze(T,M=>a7(M,y)))};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:u7,setPrototypeOf:LV,isFrozen:d7,getPrototypeOf:h7,getOwnPropertyDescriptor:hse}=Object;let{freeze:yp,seal:cb,create:f7}=Object,{apply:BV,construct:Rf}=typeof Reflect<"u"&&Reflect;yp||(yp=function(r){return r}),cb||(cb=function(r){return r}),BV||(BV=function(r,a,u){return r.apply(a,u)}),Rf||(Rf=function(r,a){return new r(...a)});const sR=Wh(Array.prototype.forEach),fse=Wh(Array.prototype.lastIndexOf),VV=Wh(Array.prototype.pop),rR=Wh(Array.prototype.push),pse=Wh(Array.prototype.splice),iP=Wh(String.prototype.toLowerCase),PC=Wh(String.prototype.toString),qw=Wh(String.prototype.match),aP=Wh(String.prototype.replace),mse=Wh(String.prototype.indexOf),gse=Wh(String.prototype.trim),vd=Wh(Object.prototype.hasOwnProperty),hm=Wh(RegExp.prototype.test),iR=vse(TypeError);function Wh(t){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var a=arguments.length,u=new Array(a>1?a-1:0),f=1;f<a;f++)u[f-1]=arguments[f];return BV(t,r,u)}}function vse(t){return function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return Rf(t,a)}}function aa(t,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:iP;LV&&LV(t,null);let u=r.length;for(;u--;){let f=r[u];if(typeof f=="string"){const y=a(f);y!==f&&(d7(r)||(r[u]=y),f=y)}t[f]=!0}return t}function FV(t){for(let r=0;r<t.length;r++)vd(t,r)||(t[r]=null);return t}function T0(t){const r=f7(null);for(const[a,u]of u7(t))vd(t,a)&&(Array.isArray(u)?r[a]=FV(u):u&&typeof u=="object"&&u.constructor===Object?r[a]=T0(u):r[a]=u);return r}function aR(t,r){for(;t!==null;){const u=hse(t,r);if(u){if(u.get)return Wh(u.get);if(typeof u.value=="function")return Wh(u.value)}t=h7(t)}function a(){return null}return a}const bse=yp(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),x0=yp(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),HV=yp(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),yse=yp(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$V=yp(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Tr=yp(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),p7=yp(["#text"]),m7=yp(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),lP=yp(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),g7=yp(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),cP=yp(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ql=cb(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Sse=cb(/<%[\w\W]*|[\w\W]*%>/gm),Cse=cb(/\$\{[\w\W]*/gm),Ese=cb(/^data-[\-\w.\u00B7-\uFFFF]+$/),wse=cb(/^aria-[\-\w]+$/),Qa=cb(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),v7=cb(/^(?:\w+script|data):/i),b7=cb(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),y7=cb(/^html$/i),S7=cb(/^[a-z][.\w]*(-[.\w]+)+$/i);var C7=Object.freeze({__proto__:null,ARIA_ATTR:wse,ATTR_WHITESPACE:b7,CUSTOM_ELEMENT:S7,DATA_ATTR:Ese,DOCTYPE_NAME:y7,ERB_EXPR:Sse,IS_ALLOWED_URI:Qa,IS_SCRIPT_OR_DATA:v7,MUSTACHE_EXPR:ql,TMPLIT_EXPR:Cse});const lv={element:1,text:3,progressingInstruction:7,comment:8,document:9},UV=function(){return typeof window>"u"?null:window},_se=function(r,a){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let u=null;const f="data-tt-policy-suffix";a&&a.hasAttribute(f)&&(u=a.getAttribute(f));const y="dompurify"+(u?"#"+u:"");try{return r.createPolicy(y,{createHTML(T){return T},createScriptURL(T){return T}})}catch{return console.warn("TrustedTypes policy "+y+" could not be created."),null}},E7=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function uP(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:UV();const r=Lr=>uP(Lr);if(r.version="3.2.6",r.removed=[],!t||!t.document||t.document.nodeType!==lv.document||!t.Element)return r.isSupported=!1,r;let{document:a}=t;const u=a,f=u.currentScript,{DocumentFragment:y,HTMLTemplateElement:T,Node:M,Element:N,NodeFilter:G,NamedNodeMap:le=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:fe,DOMParser:be,trustedTypes:Ne}=t,Ke=N.prototype,$e=aR(Ke,"cloneNode"),Xe=aR(Ke,"remove"),wt=aR(Ke,"nextSibling"),Tt=aR(Ke,"childNodes"),It=aR(Ke,"parentNode");if(typeof T=="function"){const Lr=a.createElement("template");Lr.content&&Lr.content.ownerDocument&&(a=Lr.content.ownerDocument)}let fn,Mn="";const{implementation:mo,createNodeIterator:Wn,createDocumentFragment:gn,getElementsByTagName:hn}=a,{importNode:Pn}=u;let Lo=E7();r.isSupported=typeof u7=="function"&&typeof It=="function"&&mo&&mo.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Os,ERB_EXPR:hr,TMPLIT_EXPR:Mr,DATA_ATTR:va,ARIA_ATTR:xa,IS_SCRIPT_OR_DATA:Cc,ATTR_WHITESPACE:Gc,CUSTOM_ELEMENT:vv}=C7;let{IS_ALLOWED_URI:Co}=C7,hs=null;const Pi=aa({},[...bse,...x0,...HV,...$V,...p7]);let Ii=null;const os=aa({},[...m7,...lP,...g7,...cP]);let Xn=Object.seal(f7(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),vo=null,Rs=null,Xs=!0,Gi=!0,Oa=!1,bv=!0,mm=!1,My=!0,Py=!1,gm=!1,xp=!1,wb=!1,Px=!1,Nx=!1,OL=!0,Ms=!1;const qr="user-content-";let lc=!0,Ma=!1,Yi={},Zl=null;const vm=aa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Mf=null;const yv=aa({},["audio","video","img","source","image","track"]);let uS=null;const IL=aa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),RL="http://www.w3.org/1998/Math/MathML",g2="http://www.w3.org/2000/svg",$0="http://www.w3.org/1999/xhtml";let Lx=$0,d5=!1,kL=null;const $Se=aa({},[RL,g2,$0],PC);let h5=aa({},["mi","mo","mn","ms","mtext"]),f5=aa({},["annotation-xml"]);const USe=aa({},["title","style","font","a","script"]);let DL=null;const Bx=["application/xhtml+xml","text/html"],UY="text/html";let Gt=null,Qt=null;const Ao=a.createElement("form"),co=function(tn){return tn instanceof RegExp||tn instanceof Function},Us=function(){let tn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Qt&&Qt===tn)){if((!tn||typeof tn!="object")&&(tn={}),tn=T0(tn),DL=Bx.indexOf(tn.PARSER_MEDIA_TYPE)===-1?UY:tn.PARSER_MEDIA_TYPE,Gt=DL==="application/xhtml+xml"?PC:iP,hs=vd(tn,"ALLOWED_TAGS")?aa({},tn.ALLOWED_TAGS,Gt):Pi,Ii=vd(tn,"ALLOWED_ATTR")?aa({},tn.ALLOWED_ATTR,Gt):os,kL=vd(tn,"ALLOWED_NAMESPACES")?aa({},tn.ALLOWED_NAMESPACES,PC):$Se,uS=vd(tn,"ADD_URI_SAFE_ATTR")?aa(T0(IL),tn.ADD_URI_SAFE_ATTR,Gt):IL,Mf=vd(tn,"ADD_DATA_URI_TAGS")?aa(T0(yv),tn.ADD_DATA_URI_TAGS,Gt):yv,Zl=vd(tn,"FORBID_CONTENTS")?aa({},tn.FORBID_CONTENTS,Gt):vm,vo=vd(tn,"FORBID_TAGS")?aa({},tn.FORBID_TAGS,Gt):T0({}),Rs=vd(tn,"FORBID_ATTR")?aa({},tn.FORBID_ATTR,Gt):T0({}),Yi=vd(tn,"USE_PROFILES")?tn.USE_PROFILES:!1,Xs=tn.ALLOW_ARIA_ATTR!==!1,Gi=tn.ALLOW_DATA_ATTR!==!1,Oa=tn.ALLOW_UNKNOWN_PROTOCOLS||!1,bv=tn.ALLOW_SELF_CLOSE_IN_ATTR!==!1,mm=tn.SAFE_FOR_TEMPLATES||!1,My=tn.SAFE_FOR_XML!==!1,Py=tn.WHOLE_DOCUMENT||!1,wb=tn.RETURN_DOM||!1,Px=tn.RETURN_DOM_FRAGMENT||!1,Nx=tn.RETURN_TRUSTED_TYPE||!1,xp=tn.FORCE_BODY||!1,OL=tn.SANITIZE_DOM!==!1,Ms=tn.SANITIZE_NAMED_PROPS||!1,lc=tn.KEEP_CONTENT!==!1,Ma=tn.IN_PLACE||!1,Co=tn.ALLOWED_URI_REGEXP||Qa,Lx=tn.NAMESPACE||$0,h5=tn.MATHML_TEXT_INTEGRATION_POINTS||h5,f5=tn.HTML_INTEGRATION_POINTS||f5,Xn=tn.CUSTOM_ELEMENT_HANDLING||{},tn.CUSTOM_ELEMENT_HANDLING&&co(tn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Xn.tagNameCheck=tn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),tn.CUSTOM_ELEMENT_HANDLING&&co(tn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Xn.attributeNameCheck=tn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),tn.CUSTOM_ELEMENT_HANDLING&&typeof tn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Xn.allowCustomizedBuiltInElements=tn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),mm&&(Gi=!1),Px&&(wb=!0),Yi&&(hs=aa({},p7),Ii=[],Yi.html===!0&&(aa(hs,bse),aa(Ii,m7)),Yi.svg===!0&&(aa(hs,x0),aa(Ii,lP),aa(Ii,cP)),Yi.svgFilters===!0&&(aa(hs,HV),aa(Ii,lP),aa(Ii,cP)),Yi.mathMl===!0&&(aa(hs,$V),aa(Ii,g7),aa(Ii,cP))),tn.ADD_TAGS&&(hs===Pi&&(hs=T0(hs)),aa(hs,tn.ADD_TAGS,Gt)),tn.ADD_ATTR&&(Ii===os&&(Ii=T0(Ii)),aa(Ii,tn.ADD_ATTR,Gt)),tn.ADD_URI_SAFE_ATTR&&aa(uS,tn.ADD_URI_SAFE_ATTR,Gt),tn.FORBID_CONTENTS&&(Zl===vm&&(Zl=T0(Zl)),aa(Zl,tn.FORBID_CONTENTS,Gt)),lc&&(hs["#text"]=!0),Py&&aa(hs,["html","head","body"]),hs.table&&(aa(hs,["tbody"]),delete vo.tbody),tn.TRUSTED_TYPES_POLICY){if(typeof tn.TRUSTED_TYPES_POLICY.createHTML!="function")throw iR('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof tn.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw iR('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');fn=tn.TRUSTED_TYPES_POLICY,Mn=fn.createHTML("")}else fn===void 0&&(fn=_se(Ne,f)),fn!==null&&typeof Mn=="string"&&(Mn=fn.createHTML(""));yp&&yp(tn),Qt=tn}},yi=aa({},[...x0,...HV,...yse]),Rc=aa({},[...$V,...Tr]),dS=function(tn){let fs=It(tn);(!fs||!fs.tagName)&&(fs={namespaceURI:Lx,tagName:"template"});const xr=iP(tn.tagName),ju=iP(fs.tagName);return kL[tn.namespaceURI]?tn.namespaceURI===g2?fs.namespaceURI===$0?xr==="svg":fs.namespaceURI===RL?xr==="svg"&&(ju==="annotation-xml"||h5[ju]):!!yi[xr]:tn.namespaceURI===RL?fs.namespaceURI===$0?xr==="math":fs.namespaceURI===g2?xr==="math"&&f5[ju]:!!Rc[xr]:tn.namespaceURI===$0?fs.namespaceURI===g2&&!f5[ju]||fs.namespaceURI===RL&&!h5[ju]?!1:!Rc[xr]&&(USe[xr]||!yi[xr]):!!(DL==="application/xhtml+xml"&&kL[tn.namespaceURI]):!1},U0=function(tn){rR(r.removed,{element:tn});try{It(tn).removeChild(tn)}catch{Xe(tn)}},ML=function(tn,fs){try{rR(r.removed,{attribute:fs.getAttributeNode(tn),from:fs})}catch{rR(r.removed,{attribute:null,from:fs})}if(fs.removeAttribute(tn),tn==="is")if(wb||Px)try{U0(fs)}catch{}else try{fs.setAttribute(tn,"")}catch{}},zSe=function(tn){let fs=null,xr=null;if(xp)tn="<remove></remove>"+tn;else{const Pf=qw(tn,/^[\r\n\t ]+/);xr=Pf&&Pf[0]}DL==="application/xhtml+xml"&&Lx===$0&&(tn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+tn+"</body></html>");const ju=fn?fn.createHTML(tn):tn;if(Lx===$0)try{fs=new be().parseFromString(ju,DL)}catch{}if(!fs||!fs.documentElement){fs=mo.createDocument(Lx,"template",null);try{fs.documentElement.innerHTML=d5?Mn:ju}catch{}}const dg=fs.body||fs.documentElement;return tn&&xr&&dg.insertBefore(a.createTextNode(xr),dg.childNodes[0]||null),Lx===$0?hn.call(fs,Py?"html":"body")[0]:Py?fs.documentElement:dg},jSe=function(tn){return Wn.call(tn.ownerDocument||tn,tn,G.SHOW_ELEMENT|G.SHOW_COMMENT|G.SHOW_TEXT|G.SHOW_PROCESSING_INSTRUCTION|G.SHOW_CDATA_SECTION,null)},spe=function(tn){return tn instanceof fe&&(typeof tn.nodeName!="string"||typeof tn.textContent!="string"||typeof tn.removeChild!="function"||!(tn.attributes instanceof le)||typeof tn.removeAttribute!="function"||typeof tn.setAttribute!="function"||typeof tn.namespaceURI!="string"||typeof tn.insertBefore!="function"||typeof tn.hasChildNodes!="function")},WSe=function(tn){return typeof M=="function"&&tn instanceof M};function P_(Lr,tn,fs){sR(Lr,xr=>{xr.call(r,tn,fs,Qt)})}const GSe=function(tn){let fs=null;if(P_(Lo.beforeSanitizeElements,tn,null),spe(tn))return U0(tn),!0;const xr=Gt(tn.nodeName);if(P_(Lo.uponSanitizeElement,tn,{tagName:xr,allowedTags:hs}),My&&tn.hasChildNodes()&&!WSe(tn.firstElementChild)&&hm(/<[/\w!]/g,tn.innerHTML)&&hm(/<[/\w!]/g,tn.textContent)||tn.nodeType===lv.progressingInstruction||My&&tn.nodeType===lv.comment&&hm(/<[/\w]/g,tn.data))return U0(tn),!0;if(!hs[xr]||vo[xr]){if(!vo[xr]&&ZSe(xr)&&(Xn.tagNameCheck instanceof RegExp&&hm(Xn.tagNameCheck,xr)||Xn.tagNameCheck instanceof Function&&Xn.tagNameCheck(xr)))return!1;if(lc&&!Zl[xr]){const ju=It(tn)||tn.parentNode,dg=Tt(tn)||tn.childNodes;if(dg&&ju){const Pf=dg.length;for(let _b=Pf-1;_b>=0;--_b){const N_=$e(dg[_b],!0);N_.__removalCount=(tn.__removalCount||0)+1,ju.insertBefore(N_,wt(tn))}}}return U0(tn),!0}return tn instanceof N&&!dS(tn)||(xr==="noscript"||xr==="noembed"||xr==="noframes")&&hm(/<\/no(script|embed|frames)/i,tn.innerHTML)?(U0(tn),!0):(mm&&tn.nodeType===lv.text&&(fs=tn.textContent,sR([Os,hr,Mr],ju=>{fs=aP(fs,ju," ")}),tn.textContent!==fs&&(rR(r.removed,{element:tn.cloneNode()}),tn.textContent=fs)),P_(Lo.afterSanitizeElements,tn,null),!1)},qSe=function(tn,fs,xr){if(OL&&(fs==="id"||fs==="name")&&(xr in a||xr in Ao))return!1;if(!(Gi&&!Rs[fs]&&hm(va,fs))){if(!(Xs&&hm(xa,fs))){if(!Ii[fs]||Rs[fs]){if(!(ZSe(tn)&&(Xn.tagNameCheck instanceof RegExp&&hm(Xn.tagNameCheck,tn)||Xn.tagNameCheck instanceof Function&&Xn.tagNameCheck(tn))&&(Xn.attributeNameCheck instanceof RegExp&&hm(Xn.attributeNameCheck,fs)||Xn.attributeNameCheck instanceof Function&&Xn.attributeNameCheck(fs))||fs==="is"&&Xn.allowCustomizedBuiltInElements&&(Xn.tagNameCheck instanceof RegExp&&hm(Xn.tagNameCheck,xr)||Xn.tagNameCheck instanceof Function&&Xn.tagNameCheck(xr))))return!1}else if(!uS[fs]){if(!hm(Co,aP(xr,Gc,""))){if(!((fs==="src"||fs==="xlink:href"||fs==="href")&&tn!=="script"&&mse(xr,"data:")===0&&Mf[tn])){if(!(Oa&&!hm(Cc,aP(xr,Gc,"")))){if(xr)return!1}}}}}}return!0},ZSe=function(tn){return tn!=="annotation-xml"&&qw(tn,vv)},KSe=function(tn){P_(Lo.beforeSanitizeAttributes,tn,null);const{attributes:fs}=tn;if(!fs||spe(tn))return;const xr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ii,forceKeepAttr:void 0};let ju=fs.length;for(;ju--;){const dg=fs[ju],{name:Pf,namespaceURI:_b,value:N_}=dg,p5=Gt(Pf),rpe=N_;let hg=Pf==="value"?rpe:gse(rpe);if(xr.attrName=p5,xr.attrValue=hg,xr.keepAttr=!0,xr.forceKeepAttr=void 0,P_(Lo.uponSanitizeAttribute,tn,xr),hg=xr.attrValue,Ms&&(p5==="id"||p5==="name")&&(ML(Pf,tn),hg=qr+hg),My&&hm(/((--!?|])>)|<\/(style|title)/i,hg)){ML(Pf,tn);continue}if(xr.forceKeepAttr)continue;if(!xr.keepAttr){ML(Pf,tn);continue}if(!bv&&hm(/\/>/i,hg)){ML(Pf,tn);continue}mm&&sR([Os,hr,Mr],XSe=>{hg=aP(hg,XSe," ")});const YSe=Gt(tn.nodeName);if(!qSe(YSe,p5,hg)){ML(Pf,tn);continue}if(fn&&typeof Ne=="object"&&typeof Ne.getAttributeType=="function"&&!_b)switch(Ne.getAttributeType(YSe,p5)){case"TrustedHTML":{hg=fn.createHTML(hg);break}case"TrustedScriptURL":{hg=fn.createScriptURL(hg);break}}if(hg!==rpe)try{_b?tn.setAttributeNS(_b,Pf,hg):tn.setAttribute(Pf,hg),spe(tn)?U0(tn):VV(r.removed)}catch{ML(Pf,tn)}}P_(Lo.afterSanitizeAttributes,tn,null)},zBe=function Lr(tn){let fs=null;const xr=jSe(tn);for(P_(Lo.beforeSanitizeShadowDOM,tn,null);fs=xr.nextNode();)P_(Lo.uponSanitizeShadowNode,fs,null),GSe(fs),KSe(fs),fs.content instanceof y&&Lr(fs.content);P_(Lo.afterSanitizeShadowDOM,tn,null)};return r.sanitize=function(Lr){let tn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fs=null,xr=null,ju=null,dg=null;if(d5=!Lr,d5&&(Lr="<!-->"),typeof Lr!="string"&&!WSe(Lr))if(typeof Lr.toString=="function"){if(Lr=Lr.toString(),typeof Lr!="string")throw iR("dirty is not a string, aborting")}else throw iR("toString is not a function");if(!r.isSupported)return Lr;if(gm||Us(tn),r.removed=[],typeof Lr=="string"&&(Ma=!1),Ma){if(Lr.nodeName){const N_=Gt(Lr.nodeName);if(!hs[N_]||vo[N_])throw iR("root node is forbidden and cannot be sanitized in-place")}}else if(Lr instanceof M)fs=zSe("<!---->"),xr=fs.ownerDocument.importNode(Lr,!0),xr.nodeType===lv.element&&xr.nodeName==="BODY"||xr.nodeName==="HTML"?fs=xr:fs.appendChild(xr);else{if(!wb&&!mm&&!Py&&Lr.indexOf("<")===-1)return fn&&Nx?fn.createHTML(Lr):Lr;if(fs=zSe(Lr),!fs)return wb?null:Nx?Mn:""}fs&&xp&&U0(fs.firstChild);const Pf=jSe(Ma?Lr:fs);for(;ju=Pf.nextNode();)GSe(ju),KSe(ju),ju.content instanceof y&&zBe(ju.content);if(Ma)return Lr;if(wb){if(Px)for(dg=gn.call(fs.ownerDocument);fs.firstChild;)dg.appendChild(fs.firstChild);else dg=fs;return(Ii.shadowroot||Ii.shadowrootmode)&&(dg=Pn.call(u,dg,!0)),dg}let _b=Py?fs.outerHTML:fs.innerHTML;return Py&&hs["!doctype"]&&fs.ownerDocument&&fs.ownerDocument.doctype&&fs.ownerDocument.doctype.name&&hm(y7,fs.ownerDocument.doctype.name)&&(_b="<!DOCTYPE "+fs.ownerDocument.doctype.name+`>
`+_b),mm&&sR([Os,hr,Mr],N_=>{_b=aP(_b,N_," ")}),fn&&Nx?fn.createHTML(_b):_b},r.setConfig=function(){let Lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Us(Lr),gm=!0},r.clearConfig=function(){Qt=null,gm=!1},r.isValidAttribute=function(Lr,tn,fs){Qt||Us({});const xr=Gt(Lr),ju=Gt(tn);return qSe(xr,ju,fs)},r.addHook=function(Lr,tn){typeof tn=="function"&&rR(Lo[Lr],tn)},r.removeHook=function(Lr,tn){if(tn!==void 0){const fs=fse(Lo[Lr],tn);return fs===-1?void 0:pse(Lo[Lr],fs,1)[0]}return VV(Lo[Lr])},r.removeHooks=function(Lr){Lo[Lr]=[]},r.removeAllHooks=function(){Lo=E7()},r}var zV=uP();const w7=Un.each,jc=Un.trim,Ase=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],NC={ftp:21,http:80,https:443,mailto:25},Tse=["img","video"],xse=(t,r)=>De(t)?!t:De(r)?!kt(Tse,r):!0,Ose=t=>{try{return decodeURIComponent(t)}catch{return unescape(t)}},_7=(t,r,a)=>{const u=Ose(r).replace(/\s/g,"");return t.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(u)?!0:t.allow_html_data_urls?!1:/^data:image\//i.test(u)?xse(t.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(u):/^data:/i.test(u)};class ub{static parseDataUri(r){let a;const u=decodeURIComponent(r).split(","),f=/data:([^;]+)/.exec(u[0]);return f&&(a=f[1]),{type:a,data:u[1]}}static isDomSafe(r,a,u={}){if(u.allow_script_urls)return!0;{const f=Gv.decode(r).replace(/[\s\u0000-\u001F]+/g,"");return!_7(u,f,a)}}static getDocumentBaseUrl(r){let a;return r.protocol.indexOf("http")!==0&&r.protocol!=="file:"?a=r.href??"":a=r.protocol+"//"+r.host+r.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a}source;protocol;authority;userInfo;user;password;host;port;relative;path="";directory="";file;query;anchor;settings;constructor(r,a={}){r=jc(r),this.settings=a;const u=a.base_uri,f=this;if(/^([\w\-]+):([^\/]{2})/i.test(r)||/^\s*#/.test(r)){f.source=r;return}const y=r.indexOf("//")===0;if(r.indexOf("/")===0&&!y&&(r=(u&&u.protocol||"http")+"://mce_host"+r),!/^[\w\-]*:?\/\//.test(r)){const M=u?u.path:new ub(document.location.href).directory;if(u?.protocol==="")r="//mce_host"+f.toAbsPath(M,r);else{const N=/([^#?]*)([#?]?.*)/.exec(r);N&&(r=(u&&u.protocol||"http")+"://mce_host"+f.toAbsPath(M,N[1])+N[2])}}r=r.replace(/@@/g,"(mce_at)");const T=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r);T&&w7(Ase,(M,N)=>{let G=T[N];G&&(G=G.replace(/\(mce_at\)/g,"@@")),f[M]=G}),u&&(f.protocol||(f.protocol=u.protocol),f.userInfo||(f.userInfo=u.userInfo),!f.port&&f.host==="mce_host"&&(f.port=u.port),(!f.host||f.host==="mce_host")&&(f.host=u.host),f.source=""),y&&(f.protocol="")}setPath(r){const a=/^(.*?)\/?(\w+)?$/.exec(r);a&&(this.path=a[0],this.directory=a[1],this.file=a[2]),this.source="",this.getURI()}toRelative(r){if(r==="./")return r;const a=new ub(r,{base_uri:this});if(a.host!=="mce_host"&&this.host!==a.host&&a.host||this.port!==a.port||this.protocol!==a.protocol&&a.protocol!=="")return a.getURI();const u=this.getURI(),f=a.getURI();if(u===f||u.charAt(u.length-1)==="/"&&u.substr(0,u.length-1)===f)return u;let y=this.toRelPath(this.path,a.path);return a.query&&(y+="?"+a.query),a.anchor&&(y+="#"+a.anchor),y}toAbsolute(r,a){const u=new ub(r,{base_uri:this});return u.getURI(a&&this.isSameOrigin(u))}isSameOrigin(r){if(this.host==r.host&&this.protocol==r.protocol){if(this.port==r.port)return!0;const a=this.protocol?NC[this.protocol]:null;if(a&&(this.port||a)==(r.port||a))return!0}return!1}toRelPath(r,a){let u=0,f="",y,T;const M=r.substring(0,r.lastIndexOf("/")).split("/"),N=a.split("/");if(M.length>=N.length){for(y=0,T=M.length;y<T;y++)if(y>=N.length||M[y]!==N[y]){u=y+1;break}}if(M.length<N.length){for(y=0,T=N.length;y<T;y++)if(y>=M.length||M[y]!==N[y]){u=y+1;break}}if(u===1)return a;for(y=0,T=M.length-(u-1);y<T;y++)f+="../";for(y=u-1,T=N.length;y<T;y++)y!==u-1?f+="/"+N[y]:f+=N[y];return f}toAbsPath(r,a){let u=0;const f=/\/$/.test(a)?"/":"",y=r.split("/"),T=a.split("/"),M=[];w7(y,fe=>{fe&&M.push(fe)});const N=[];for(let fe=T.length-1;fe>=0;fe--)if(!(T[fe].length===0||T[fe]===".")){if(T[fe]===".."){u++;continue}if(u>0){u--;continue}N.push(T[fe])}const G=M.length-u;let le;return G<=0?le=Ps(N).join("/"):le=M.slice(0,G).join("/")+"/"+Ps(N).join("/"),le.indexOf("/")!==0&&(le="/"+le),f&&le.lastIndexOf("/")!==le.length-1&&(le+=f),le}getURI(r=!1){let a;return(!this.source||r)&&(a="",r||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source}}const Ise=Un.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),jV="data-mce-type";let A7=0;const T7=(t,r,a,u,f)=>{const y=r.validate,T=a.getSpecialElements();t.nodeType===jn&&(!r.allow_conditional_comments&&/^\[if/i.test(t.nodeValue??"")&&(t.nodeValue=" "+t.nodeValue),r.sanitize&&r.allow_html_in_comments&&re(t.nodeValue)&&(t.nodeValue=Joe(t.nodeValue)));const M=f?.tagName??t.nodeName.toLowerCase();if(u!=="html"&&a.isValid(u)){De(f)&&(f.allowedTags[M]=!0);return}if(t.nodeType!==Gs||M==="body")return;const N=Qe.fromDom(t),G=ua(N,jV),le=ra(N,"data-mce-bogus");if(!G&&re(le)){le==="all"?Di(N):Mu(N);return}const fe=a.getElementRule(M);if(y&&!fe){ts(T,M)?Di(N):Mu(N);return}else De(f)&&(f.allowedTags[M]=!0);if(y&&fe&&!G){if(Ze(fe.attributesForced??[],be=>{ca(N,be.name,be.value==="{$uid}"?`mce_${A7++}`:be.value)}),Ze(fe.attributesDefault??[],be=>{ua(N,be.name)||ca(N,be.name,be.value==="{$uid}"?`mce_${A7++}`:be.value)}),fe.attributesRequired&&!bn(fe.attributesRequired,be=>ua(N,be))){Mu(N);return}if(fe.removeEmptyAttrs&&Pv(N)){Mu(N);return}fe.outputName&&fe.outputName!==M&&Up(N,fe.outputName)}},dP=(t,r,a,u,f)=>{const y=t.tagName.toLowerCase(),{attrName:T,attrValue:M}=f;f.keepAttr=x7(r,a,u,y,T,M),f.keepAttr?(f.allowedAttributes[T]=!0,Rse(T,a,t.nodeName)&&(f.attrValue=T),r.allow_svg_data_urls&&ms(M,"data:image/svg+xml")&&(f.forceKeepAttr=!0)):O7(t,T)&&(f.forceKeepAttr=!0)},x7=(t,r,a,u,f,y)=>a!=="html"&&!ld(u)?!0:!(f in Ise&&_7(t,y,u))&&(!t.validate||r.isValid(u,f)||ms(f,"data-")||ms(f,"aria-")),O7=(t,r)=>t.hasAttribute(jV)&&(r==="id"||r==="class"||r==="style"),Rse=(t,r,a)=>t in r.getBoolAttrs()&&!ts(r.getCustomElements(),a.toLowerCase()),lR=(t,r,a,u)=>{const{attributes:f}=t;for(let y=f.length-1;y>=0;y--){const T=f[y],M=T.name,N=T.value;!x7(r,a,u,t.tagName.toLowerCase(),M,N)&&!O7(t,M)?t.removeAttribute(M):Rse(M,a,t.nodeName)&&t.setAttribute(M,M)}},kse=(t,r,a)=>{const u=zV();return u.addHook("uponSanitizeElement",(f,y)=>{T7(f,t,r,a.track(f),y)}),u.addHook("uponSanitizeAttribute",(f,y)=>{dP(f,t,r,a.current(),y)}),u},WV=(t,r)=>{const u={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body","html"],ALLOWED_ATTR:[]}};return u.PARSER_MEDIA_TYPE=r,t.allow_script_urls?u.ALLOWED_URI_REGEXP=/.*/:t.allow_html_data_urls&&(u.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),u},Dse=t=>{const r=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(u=>`xlink:${u}`),a={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:r};zV().sanitize(t,a)},Mse=(t,r)=>{const a={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},u=zV(),f=r.allow_mathml_annotation_encodings,y=Oe(f)&&f.length>0,T=N=>{const G=N.getAttribute("encoding");return y&&re(G)&&kt(f,G)},M=(N,G)=>y&&G==="semantics"?Se.some(!0):G==="annotation"?Se.some(Oo(N)&&T(N)):Oe(r.extended_mathml_elements)&&r.extended_mathml_elements.includes(G)?Se.from(!0):Se.none();u.addHook("uponSanitizeElement",(N,G)=>{const le=G.tagName??N.nodeName.toLowerCase();M(N,le).each(be=>{G.allowedTags[le]=be,!be&&r.sanitize&&Oo(N)&&N.remove()})}),u.addHook("uponSanitizeAttribute",(N,G)=>{Oe(r.extended_mathml_attributes)&&r.extended_mathml_attributes.includes(G.attrName)&&(G.forceKeepAttr=!0)}),u.sanitize(t,a)},Pse=t=>r=>{const a=Hg(r);if(a==="svg")Dse(r);else if(a==="math")Mse(r,t);else throw new Error("Not a namespace element")},Nse=(t,r)=>{const a=YS();if(t.sanitize){const u=kse(t,r,a);return{sanitizeHtmlElement:(y,T)=>{u.sanitize(y,WV(t,T)),u.removed=[],a.reset()},sanitizeNamespaceElement:Pse(t)}}else return{sanitizeHtmlElement:(y,T)=>{const M=document.createNodeIterator(y,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let N;for(;N=M.nextNode();){const G=a.track(N);T7(N,t,r,G),Oo(N)&&lR(N,t,r,G)}a.reset()},sanitizeNamespaceElement:gt}},LC=["script","style","template","param","meta","title","link"],BC=Un.makeMap,cR=Un.extend,uR=(t,r,a,u,f)=>{const y=t.name,T=y in a&&y!=="title"&&y!=="textarea"&&y!=="noscript",M=r.childNodes;for(let N=0,G=M.length;N<G;N++){const le=M[N],fe=new vh(le.nodeName.toLowerCase(),le.nodeType);if(Oo(le)){const be=le.attributes;for(let Ne=0,Ke=be.length;Ne<Ke;Ne++){const $e=be[Ne];fe.attr($e.name,$e.value)}ld(fe.name)&&(u(le),fe.value=le.innerHTML)}else Bn(le)?(fe.value=le.data,T&&(fe.raw=!0)):Ba(le)?fe.value=f?t7(le.data):le.data:(Fg(le)||ry(le))&&(fe.value=le.data);if(qS(le)){const be=vh.create("#text");be.value=le.innerHTML,be.raw=!0,fe.append(be)}else ld(fe.name)||uR(fe,le,a,u,f);t.append(fe)}},Zw=(t,r,a)=>{const u=[];for(let f=t,y=f;f;y=f,f=f.walk()){const T=f;Ze(r,M=>M(T)),Fe(T.parent)&&T!==t?f=y:u.push(T)}for(let f=u.length-1;f>=0;f--){const y=u[f];Ze(a,T=>T(y))}},Kw=(t,r,a,u)=>{const f=a.validate,y=r.getNonEmptyElements(),T=r.getWhitespaceElements(),M=cR(BC(LC),r.getBlockElements()),N=XE(r),G=/[ \t\r\n]+/g,le=/^[ \t\r\n]+/,fe=/[ \t\r\n]+$/,be=Tt=>{let It=Tt.parent;for(;De(It);){if(It.name in T)return!0;It=It.parent}return!1},Ne=Tt=>{let It=Tt;for(;De(It);){if(It.name in N)return tR(r,y,T,It);It=It.parent}return!1},Ke=Tt=>Tt.name in M||l0(r,Tt)||ld(Tt.name)&&Tt.parent===t,$e=(Tt,It)=>{const fn=It?Tt.prev:Tt.next;return De(fn)||Fe(Tt.parent)?!1:Ke(Tt.parent)&&(Tt.parent!==t||u.isRootContent===!0)};return[Tt=>{if(Tt.type===3&&!be(Tt)){let It=Tt.value??"";It=It.replace(G," "),(bSe(Tt.prev,Ke)||$e(Tt,!0))&&(It=It.replace(le,"")),It.length===0||It===" "&&Tt.prev&&Tt.prev.type===jn&&Tt.next&&Tt.next.type===jn?Tt.remove():Tt.value=It}},Tt=>{if(Tt.type===1){const It=r.getElementRule(Tt.name);if(f&&It){const fn=tR(r,y,T,Tt);It.paddInEmptyBlock&&fn&&Ne(Tt)?RV(a,u,Ke,Tt):It.removeEmpty&&fn?Ke(Tt)?Tt.remove():Tt.unwrap():It.paddEmpty&&(fn||Goe(Tt))&&RV(a,u,Ke,Tt)}}else if(Tt.type===3&&!be(Tt)){let It=Tt.value??"";(Tt.next&&Ke(Tt.next)||$e(Tt,!1))&&(It=It.replace(fe,"")),It.length===0?Tt.remove():Tt.value=It}}]},hP=(t,r)=>{const a=r.forced_root_block??t.forced_root_block;return a===!1?"":a===!0?"p":a},dR=' xmlns="http://www.w3.org/1999/xhtml"',Yw=(t={},r=yf())=>{const a=e7(),u=e7(),f={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...t},y=new DOMParser,T=Nse(f,r),M=(It,fn,Mn="html",mo=!1)=>{const Wn=Mn==="xhtml",gn=Wn?"application/xhtml+xml":"text/html",hn=ts(r.getSpecialElements(),fn.toLowerCase()),Pn=hn?`<${fn}>${It}</${fn}>`:It,Lo=()=>/^[\s]*<head/i.test(It)||/^[\s]*<html/i.test(It)||/^[\s]*<!DOCTYPE/i.test(It)?`<html${Wn?dR:""}>${Pn}</html>`:Wn?`<html${dR}><head></head><body>${Pn}</body></html>`:`<body>${Pn}</body>`,Os=y.parseFromString(Lo(),gn),hr=mo?Os.documentElement:Os.body;return T.sanitizeHtmlElement(hr,gn),hn?hr.firstChild:hr},N=a.addFilter,G=a.getFilters,le=a.removeFilter,fe=u.addFilter,be=u.getFilters,Ne=u.removeFilter,Ke=(It,fn)=>{DV(r,It)&&fn.push(It)},$e=(It,fn)=>{const Mn=re(fn.attr(jV)),mo=fn.type===1&&!ts(It,fn.name)&&!l0(r,fn)&&!ld(fn.name);return fn.type===3||mo&&!Mn},Xe=(It,fn)=>{const Mn=cR(BC(LC),r.getBlockElements()),mo=/^[ \t\r\n]+/,Wn=/[ \t\r\n]+$/;let gn=It.firstChild,hn=null;const Pn=Lo=>{Lo&&(gn=Lo.firstChild,gn&&gn.type===3&&(gn.value=gn.value?.replace(mo,"")),gn=Lo.lastChild,gn&&gn.type===3&&(gn.value=gn.value?.replace(Wn,"")))};if(r.isValidChild(It.name,fn.toLowerCase())){for(;gn;){const Lo=gn.next;$e(Mn,gn)?(hn||(hn=new vh(fn,1),hn.attr(f.forced_root_block_attrs),It.insert(hn,gn)),hn.append(gn)):(Pn(hn),hn=null),gn=Lo}Pn(hn)}},Tt={schema:r,addAttributeFilter:fe,getAttributeFilters:be,removeAttributeFilter:Ne,addNodeFilter:N,getNodeFilters:G,removeNodeFilter:le,parse:(It,fn={})=>{const Mn=f.validate,mo=(fn.context??f.root_name)==="#document",Wn=fn.context??(mo?"html":f.root_name),gn=M(It,Wn,fn.format,mo);up(r,gn);const hn=new vh(Wn,11);uR(hn,gn,r.getSpecialElements(),T.sanitizeNamespaceElement,f.sanitize&&f.allow_html_in_comments),gn.innerHTML="";const[Pn,Lo]=Kw(hn,r,f,fn),Os=[],hr=Mn?Cc=>Ke(Cc,Os):gt,Mr={nodes:{},attributes:{}},va=Cc=>IV(G(),be(),Cc,Mr);Zw(hn,[Pn,va],[Lo,hr]),Os.reverse(),Mn&&Os.length>0&&(fn.context?fn.invalid=!0:J8(Os,r,hn,va));const xa=hP(f,fn);return xa&&(hn.name==="body"||fn.isRootContent)&&Xe(hn,xa),fn.invalid||Y8(Mr,fn),hn}};return c7(Tt,f),n7(Tt,f,r),Tt},KT=t=>t instanceof vh,GV=t=>KT(t)?jw({validate:!1}).serialize(t):t,qV=(t,r,a)=>{const u=GV(t),f=r(u);if(f.isDefaultPrevented())return f;if(KT(t))if(f.content!==u){const y=Yw({validate:!1,forced_root_block:!1,...a}).parse(f.content,{context:t.name});return{...f,content:y}}else return{...f,content:t};else return f},ZV=t=>({sanitize:OI(t),sandbox_iframes:bT(t),sandbox_iframes_exclusions:Aw(t)}),Xw=(t,r)=>{if(r.no_events)return Hl.value(r);{const a=cD(t,r);return a.isDefaultPrevented()?Hl.error(uD(t,{content:"",...a}).content):Hl.value(a)}},KV=(t,r,a)=>a.no_events?r:qV(r,f=>uD(t,{...a,content:f}),ZV(t)).content,fP=(t,r)=>{if(r.no_events)return Hl.value(r);{const a=qV(r.content,u=>cu(t,{...r,content:u}),ZV(t));return a.isDefaultPrevented()?(lD(t,a),Hl.error(void 0)):Hl.value(a)}},pP=(t,r,a)=>{a.no_events||lD(t,{...a,content:r})},mP="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),I7=["content_css_cors"],R7="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),YV=[{name:"export",replacedWith:"Export to PDF"}],XV=(t,r)=>{const a=je(r,u=>ts(t,u));return Ds(a)},eS=t=>{const r=XV(t,mP),a=t.forced_root_block;return(a===!1||a==="")&&r.push("forced_root_block (false only)"),Ds(r)},VC=t=>XV(t,I7),cv=(t,r)=>{const a=Un.makeMap(t.plugins," "),f=je(r,y=>ts(a,y));return Ds(f)},Lse=t=>cv(t,R7),Bse=t=>cv(t,YV.map(r=>r.name)),Vse=(t,r)=>{const a=eS(t),u=Lse(r),f=u.length>0,y=a.length>0,T=r.theme==="mobile";if(f||y||T){const N=T?`

Themes:
- mobile`:"",G=f?`

Plugins:
- ${u.join(`
- `)}`:"",le=y?`

Options:
- ${a.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+N+G+le)}},Fse=t=>_t(YV,r=>r.name===t).fold(()=>t,r=>r.replacedWith?`${t}, replaced by ${r.replacedWith}`:t),Hse=(t,r)=>{const a=VC(t),u=Bse(r),f=u.length>0,y=a.length>0;if(f||y){const M=f?`

Plugins:
- ${u.map(Fse).join(`
- `)}`:"",N=y?`

Options:
- ${a.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+M+N)}},$se=(t,r)=>{Vse(t,r),Hse(t,r)},Use={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},k7=t=>{console.warn(Use[t],new Error().stack)},D7=t=>t.dom.length===0?(Di(t),Se.none()):Se.some(t),zse=(t,r)=>t.filter(a=>Hw.isBookmarkNode(a.dom)).bind(r?ku:Pd),jse=(t,r,a,u,f)=>{const y=t.dom,T=r.dom,M=u?y.length:T.length;u?(oV(y,T,f,!1,!u),a.setStart(T,M)):(oV(T,y,f,!1,!u),a.setEnd(T,M))},Wse=(t,r,a)=>{Iu(t).each(u=>{const f=t.dom;r&&KI(u,sn(f,0),a)?BM(f,0,a):!r&&$T(u,sn(f,f.length),a)&&VM(f,f.length,a)})},gP=(t,r,a,u,f)=>{t.bind(y=>((u?VM:BM)(y.dom,u?y.dom.length:0,f),r.filter(Jr).map(M=>jse(y,M,a,u,f)))).orThunk(()=>zse(r,u).or(r).filter(Jr).map(T=>Wse(T,u,f)))},JV=(t,r,a)=>{const u=Se.from(r.firstChild).map(Qe.fromDom),f=Se.from(r.lastChild).map(Qe.fromDom);t.deleteContents(),t.insertNode(r);const y=u.bind(Pd).filter(Jr).bind(D7),T=f.bind(ku).filter(Jr).bind(D7);gP(y,u,t,!0,a),gP(T,f,t,!1,a),t.collapse(!1)},M7=(t,r)=>({format:"html",...t,set:!0,selection:!0,content:r}),Gse=(t,r)=>{if(r.format!=="raw"){const a=t.selection.getRng(),u=t.dom.getParent(a.commonAncestorContainer,t.dom.isBlock),f=u?{context:u.nodeName.toLowerCase()}:{},y=t.parser.parse(r.content,{forced_root_block:!1,...f,...r});return jw({validate:!1},t.schema).serialize(y)}else return r.content},vP=(t,r,a={})=>{const u=M7(a,r);fP(t,u).each(f=>{const y=Gse(t,f),T=t.selection.getRng();JV(T,T.createContextualFragment(y),t.schema),t.selection.setRng(T),Uw(t,T),pP(t,y,f)})},P7=(t,r,a={})=>{k7("selectionSetContent"),vP(t,r,a)},N7=t=>De(t.firstChild)&&t.firstChild===t.lastChild,QV=t=>t.name==="br"||t.value===ki,L7=(t,r)=>t.getBlockElements()[r.name]&&N7(r)&&QV(r.firstChild),B7=(t,r)=>{const a=t.getNonEmptyElements();return De(r)&&(r.isEmpty(a)||L7(t,r))},eF=(t,r)=>{let a=r.firstChild,u=r.lastChild;return a&&a.name==="meta"&&(a=a.next),u&&u.attr("id")==="mce_marker"&&(u=u.prev),B7(t,u)&&(u=u?.prev),!a||a!==u?!1:a.name==="ul"||a.name==="ol"},qse=t=>{const r=t.firstChild,a=t.lastChild;return r&&r.nodeName==="META"&&r.parentNode?.removeChild(r),a&&a.id==="mce_marker"&&a.parentNode?.removeChild(a),t},Zse=(t,r,a)=>{const u=r.serialize(a),f=t.createFragment(u);return qse(f)},O0=t=>je(t?.childNodes??[],r=>r.nodeName==="LI"),db=t=>t.data===ki||fa(t),bP=t=>De(t?.firstChild)&&t.firstChild===t.lastChild&&db(t.firstChild),V7=t=>!t.firstChild||bP(t),yP=t=>t.length>0&&V7(t[t.length-1])?t.slice(0,-1):t,SP=(t,r)=>{const a=t.getParent(r,t.isBlock);return a&&a.nodeName==="LI"?a:null},F7=(t,r)=>!!SP(t,r),H7=(t,r)=>{const a=r.cloneRange(),u=r.cloneRange();return a.setStartBefore(t),u.setEndAfter(t),[a.cloneContents(),u.cloneContents()]},$7=(t,r)=>{const a=sn.before(t),f=rv(r).next(a);return f?f.toRange():null},tF=(t,r)=>{const a=sn.after(t),f=rv(r).prev(a);return f?f.toRange():null},U7=(t,r,a,u)=>{const f=H7(t,u),y=t.parentNode;return y&&(y.insertBefore(f[0],t),Un.each(r,T=>{y.insertBefore(T,t)}),y.insertBefore(f[1],t),y.removeChild(t)),tF(r[r.length-1],a)},CP=(t,r,a)=>{const u=t.parentNode;return u&&Un.each(r,f=>{u.insertBefore(f,t)}),$7(t,a)},nF=(t,r,a,u)=>(u.insertAfter(r.reverse(),t),tF(r[0],a)),Kse=(t,r,a,u)=>{const f=Zse(r,t,u),y=SP(r,a.startContainer),T=yP(O0(f.firstChild)),M=1,N=2,G=r.getRoot(),le=fe=>{const be=sn.fromRangeStart(a),Ne=rv(r.getRoot()),$e=(fe===M?Ne.prev(be):Ne.next(be))?.getNode();return $e?SP(r,$e)!==y:!0};return y?le(M)?CP(y,T,G):le(N)?nF(y,T,G,r):U7(y,T,G,a):null},Yse=["pre"],Xse=(t,r,a,u)=>{const f=r.firstChild,y=r.lastChild,T=y.attr("data-mce-type")==="bookmark"?y.prev:y,M=f===T,N=kt(Yse,f.name);if(M&&N){const G=f.attr("contenteditable")!=="false",le=t.getParent(a,t.isBlock)?.nodeName.toLowerCase()===f.name,fe=Se.from(kC(u,a)).forall(iu);return G&&le&&fe}else return!1},oF=Kp,z7=(t,r,a)=>{if(De(a)){const u=t.getParent(r.endContainer,oF);return a===u&&HI(Qe.fromDom(a),r)}else return!1},Jse=(t,r)=>{if(t.isBlock(r)&&t.isEditable(r)){const a=r.childNodes;return a.length===1&&fa(a[0])||a.length===0}else return!1},Qse=(t,r,a)=>{a.getAttribute("data-mce-bogus")==="all"?a.parentNode?.insertBefore(t.dom.createFragment(r),a):Jse(t.dom,a)?t.dom.setHTML(a,r):vP(t,r,{no_events:!0})},sF=(t,r,a)=>{Se.from(t.getParent(r,"td,th")).map(Qe.fromDom).each(u=>j(u,a))},ere=(t,r)=>{const a=t.schema.getTextInlineElements(),u=t.dom;if(r){const f=t.getBody(),y=S8(t),T="*[data-mce-fragment]",M=u.select(T);Un.each(M,N=>{const G=be=>De(a[be.nodeName.toLowerCase()]),le=be=>be.childNodes.length===1;if((be=>!(Ene(u,be)||wne(u,be)))(N)&&G(N)&&le(N)){const be=Ww(u,N),Ne=(wt,Tt)=>bs(wt,It=>kt(Tt,It)),Ke=wt=>le(N)&&u.is(wt,T)&&G(wt)&&(wt.nodeName===N.nodeName&&Ne(be,Ww(u,wt))||Ke(wt.children[0])),$e=wt=>De(wt)&&wt!==f&&(y.compare(N,wt)||$e(wt.parentElement)),Xe=wt=>De(wt)&&wt!==f&&u.is(wt,T)&&(_ne(u,N,wt)||Xe(wt.parentElement));(Ke(N.children[0])||$e(N.parentElement)&&!Xe(N.parentElement))&&u.remove(N,!0)}}),Z8(t,lh(M))}},tre=t=>{let r=t;for(;r=r.walk();)r.type===1&&r.attr("data-mce-fragment","1")},nre=t=>{Un.each(t.getElementsByTagName("*"),r=>{r.removeAttribute("data-mce-fragment")})},ore=t=>!!t.getAttribute("data-mce-fragment"),sre=(t,r)=>De(r)&&!t.schema.getVoidElements()[r.nodeName],rre=(t,r)=>{let a;const u=t.dom,f=t.selection;if(!r)return;f.scrollIntoView(r);const y=kC(t.getBody(),r);if(y&&u.getContentEditable(y)==="false"){u.remove(r),f.select(y);return}let T=u.createRng();const M=r.previousSibling;if(Bn(M)){T.setStart(M,M.nodeValue?.length??0);const le=r.nextSibling;Bn(le)&&(M.appendData(le.data),le.parentNode?.removeChild(le))}else T.setStartBefore(r),T.setEndBefore(r);const N=le=>{let fe=sn.fromRangeStart(le);return fe=rv(t.getBody()).next(fe),fe?.toRange()},G=u.getParent(r,u.isBlock);if(u.remove(r),G&&u.isEmpty(G)){const le=oF(G);sd(Qe.fromDom(G)),T.setStart(G,0),T.setEnd(G,0),!le&&!ore(G)&&(a=N(T))?(T=a,u.remove(G)):u.add(G,u.create("br",le?{}:{"data-mce-bogus":"1"}))}f.setRng(T)},ire=t=>{const r=t.dom,a=oP(t.selection.getRng());t.selection.setRng(a);const u=r.getParent(a.startContainer,oF);z7(r,a,u)?dV(t,a,Qe.fromDom(u)):fM(a)||_B(a)?a.deleteContents():t.getDoc().execCommand("Delete",!1)},EP=t=>{for(let r=t;r;r=r.walk())if(r.attr("id")==="mce_marker")return Se.some(r);return Se.none()},rF=(t,r,a)=>bn(a.children(),OV)&&t.getParent(r,t.isBlock)?.nodeName==="SUMMARY",are=(t,r,a)=>{const u=t.selection,f=t.dom,y=t.parser,T=a.merge,M=jw({validate:!0},t.schema),N='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';a.preserve_zwsp||(r=ue(r)),r.indexOf("{$caret}")===-1&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,N);let G=u.getRng();const le=G.startContainer,fe=t.getBody();le===fe&&u.isCollapsed()&&f.isBlock(fe.firstChild)&&sre(t,fe.firstChild)&&f.isEmpty(fe.firstChild)&&(G=f.createRng(),G.setStart(fe.firstChild,0),G.setEnd(fe.firstChild,0),u.setRng(G)),u.isCollapsed()||ire(t);const be=u.getNode(),Ne={context:be.nodeName.toLowerCase(),data:a.data,insert:!0},Ke=y.parse(r,Ne);if(a.paste===!0&&eF(t.schema,Ke)&&F7(f,be))return G=Kse(M,f,u.getRng(),Ke),G&&u.setRng(G),r;a.paste===!0&&Xse(f,Ke,be,t.getBody())&&Ke.firstChild?.unwrap(),tre(Ke);let $e=Ke.lastChild;if($e&&$e.attr("id")==="mce_marker"){const Xe=$e;for($e=$e.prev;$e&&$e.name!=="table";$e=$e.walk(!0))if($e.type===3||!f.isBlock($e.name)){$e.parent&&t.schema.isValidChild($e.parent.name,"span")&&$e.parent.insert(Xe,$e,$e.name==="br");break}}if(t._selectionOverrides.showBlockCaretContainer(be),!Ne.invalid&&!rF(f,be,Ke))r=M.serialize(Ke),Qse(t,r,be);else{vP(t,N);let Xe=u.getNode(),wt;const Tt=t.getBody();for(yr(Xe)?Xe=wt=Tt:wt=Xe;wt&&wt!==Tt;)Xe=wt,wt=wt.parentNode;r=Xe===Tt?Tt.innerHTML:f.getOuterHTML(Xe);const It=y.parse(r),fn=EP(It),Mn=fn.bind(Koe).getOr(It);fn.each(gn=>gn.replace(Ke));const mo=kV(Ke);Ke.unwrap();const Wn=je(mo,gn=>DV(t.schema,gn));J8(Wn,t.schema,Mn),X8(y.getNodeFilters(),y.getAttributeFilters(),It),r=M.serialize(It),Xe===Tt?f.setHTML(Tt,r):f.setOuterHTML(Xe,r)}return ere(t,T),rre(t,f.get("mce_marker")),nre(t.getBody()),sF(f,u.getStart(),t.schema),ly(t.schema,t.getBody(),u.getStart()),r},lre=t=>{ng(t)&&du(t.getBody()).each(r=>{const a=r.getNode(),u=ap(a)?du(a).getOr(r):r;t.selection.setRng(u.toRange())})},iF=(t,r,a)=>{t.dom.setHTML(t.getBody(),r),a!==!0&&lre(t)},cre=(t,r,a,u)=>{if(a=ue(a),a.length===0||/^\s+$/.test(a)){const f='<br data-mce-bogus="1">';r.nodeName==="TABLE"?a="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(a="<li>"+f+"</li>");const y=Uu(t);return t.schema.isValidChild(r.nodeName.toLowerCase(),y.toLowerCase())?(a=f,a=t.dom.createHTML(y,vC(t),a)):a||(a=f),iF(t,a,u.no_selection),{content:a,html:a}}else{u.format!=="raw"&&(a=jw({validate:!1},t.schema).serialize(t.parser.parse(a,{isRootContent:!0,insert:!0})));const f=C(Qe.fromDom(r))?a:Un.trim(a);return iF(t,f,u.no_selection),{content:f,html:f}}},j7=(t,r,a,u)=>{X8(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),a);const f=jw({validate:!1},t.schema).serialize(a),y=ue(C(Qe.fromDom(r))?f:Un.trim(f));return iF(t,y,u.no_selection),{content:a,html:y}},ure=(t,r,a)=>Se.from(t.getBody()).map(u=>KT(r)?j7(t,u,r,a):cre(t,u,r,a)).getOr({content:r,html:KT(a.content)?"":a.content}),hR={},wP=Oc(["pre"]),dre=(t,r)=>{hR[t]||(hR[t]=[]),hR[t].push(r)},hre=(t,r)=>{ts(hR,t)&&Ze(hR[t],a=>{a(r)})};dre("pre",t=>{const r=t.selection.getRng(),a=f=>y=>{const T=y.previousSibling;return wP(T)&&kt(f,T)},u=(f,y)=>{const T=Qe.fromDom(y),M=ou(T).dom;Di(T),ih(Qe.fromDom(f),[Qe.fromTag("br",M),Qe.fromTag("br",M),...pr(T)])};if(!r.collapsed){const f=t.selection.getSelectedBlocks(),y=je(je(f,wP),a(f));Ze(y,T=>{u(T.previousSibling,T)})}});const W7=Un.each,fre=(t,r,a,u)=>{const f=y=>{if(ha(y)&&Oo(y.parentNode)&&t.isEditable(y)){const T=He(t,y.parentNode);t.getStyle(y,"color")&&T?t.setStyle(y,"text-decoration",T):t.getStyle(y,"text-decoration")===T&&t.setStyle(y,"text-decoration",null)}};r.styles&&(r.styles.color||r.styles.textDecoration)&&(Un.walk(u,f,"childNodes"),f(u))},pre=(t,r,a,u)=>{if(r.styles&&r.styles.backgroundColor){const f=di(t,"fontSize");yV(u,y=>f(y)&&t.isEditable(y),zc(t,"backgroundColor",W(r.styles.backgroundColor,a)))}},mre=(t,r,a,u)=>{if(Sn(r)&&(r.inline==="sub"||r.inline==="sup")){const f=di(t,"fontSize");yV(u,T=>f(T)&&t.isEditable(T),zc(t,"fontSize",""));const y=je(t.select(r.inline==="sup"?"sub":"sup",u),t.isEditable);t.remove(y,!0)}},gre=(t,r,a,u)=>{W7(r,f=>{Sn(f)&&W7(t.dom.select(f.inline,u),y=>{L8(y)&&nP(t,f,a,y,f.exact?y:null)}),Poe(t.dom,f,u)})},_P=(t,r,a,u,f)=>{const y=f.parentNode;lb(t,y,a,u)&&nP(t,r,u,f)||r.merge_with_parents&&y&&t.dom.getParent(y,T=>lb(t,T,a,u)?(nP(t,r,u,f),!0):!1)},AP=Un.each,vre=(t,r,a,u)=>{if(bw(t)&&Sn(r)&&a.parentNode){const f=XE(t.schema),y=Go(Qe.fromDom(a),T=>Jm(T.dom));return ps(f,u)&&mf(t.schema,a.parentNode,{skipBogus:!1,includeZwsp:!0})&&!y}else return!1},bre=(t,r,a,u)=>{const f=t.formatter.get(r),y=f[0],T=!u&&t.selection.isCollapsed(),M=t.dom,N=t.selection,G=(Ne,Ke)=>{let $e=!1;return AP(Ne,Xe=>an(Xe)?M.getContentEditable(Ke)==="false"&&!Xe.ceFalseOverride||De(Xe.collapsed)&&Xe.collapsed!==T?!0:M.is(Ke,Xe.selector)&&!Jm(Ke)?(jT(t,Ke,Xe,a,Ke),$e=!0,!1):!0:!1),$e},le=Ne=>{if(re(Ne)){const Ke=M.create(Ne);return jT(t,Ke,y,a,u),Ke}else return null},fe=(Ne,Ke,$e)=>{const Xe=[];let wt=!0;const Tt=y.inline||y.block,It=le(Tt),fn=Wn=>bo(y)&&lb(t,Wn,r,a),Mn=(Wn,gn,hn)=>{const Pn=ss(y)&&pa(t.schema,Wn)&&j1(t,gn,Tt);return hn&&Pn},mo=(Wn,gn,hn,Pn)=>{const Lo=Wn.nodeName.toLowerCase(),Os=j1(t,Tt,Lo)&&j1(t,gn,Tt),hr=!$e&&Bn(Wn)&&te(Wn.data),Mr=Jm(Wn),va=!Sn(y)||!Ne.isBlock(Wn);return(hn||Pn)&&Os&&!hr&&!Mr&&va};$c(Ne,Ke,Wn=>{let gn;const hn=Pn=>{let Lo=!1,Os=wt,hr=!1;const Mr=Pn.parentNode,va=Mr.nodeName.toLowerCase(),xa=Ne.getContentEditable(Pn);De(xa)&&(Os=wt,wt=xa==="true",Lo=!0,hr=k(t,Pn));const Cc=wt&&!Lo;if(fa(Pn)&&!vre(t,y,Pn,va)){gn=null,fo(y)&&Ne.remove(Pn);return}if(fn(Pn)){gn=null;return}if(Mn(Pn,va,Cc)){const Gc=Ne.rename(Pn,Tt);jT(t,Gc,y,a,Pn),Xe.push(Gc),gn=null;return}if(an(y)){let Gc=G(f,Pn);if(!Gc&&De(Mr)&&Ks(y)&&(Gc=G(f,Mr)),!Sn(y)||Gc){gn=null;return}}De(It)&&mo(Pn,va,Cc,hr)?(gn||(gn=Ne.clone(It,!1),Mr.insertBefore(gn,Pn),Xe.push(gn)),hr&&Lo&&(wt=Os),gn.appendChild(Pn)):(gn=null,Ze(jt(Pn.childNodes),hn),Lo&&(wt=Os),gn=null)};Ze(Wn,hn)}),y.links===!0&&Ze(Xe,Wn=>{const gn=hn=>{hn.nodeName==="A"&&jT(t,hn,y,a,u),Ze(jt(hn.childNodes),gn)};gn(Wn)}),q8(t,r,lh(Xe)),Ze(Xe,Wn=>{const gn=Lo=>{let Os=0;return Ze(Lo.childNodes,hr=>{!b(hr)&&!am(hr)&&Os++}),Os},hn=Lo=>_t(Lo.childNodes,UI).filter(hr=>Ne.getContentEditable(hr)!=="false"&&XM(Ne,hr,y)).map(hr=>{const Mr=Ne.clone(hr,!1);return jT(t,Mr,y,a,Lo),Ne.replace(Mr,Lo,!0),Ne.remove(hr,!0),Mr}).getOr(Lo),Pn=gn(Wn);if((Xe.length>1||!Ne.isBlock(Wn))&&Pn===0){Ne.remove(Wn,!0);return}(Sn(y)||fo(y)&&y.wrapper)&&(!y.exact&&Pn===1&&(Wn=hn(Wn)),gre(t,f,a,Wn),_P(t,y,r,a,Wn),pre(Ne,y,a,Wn),fre(Ne,y,a,Wn),mre(Ne,y,a,Wn),qT(t,y,a,Wn))})},be=z1(u)?u:N.getNode();if(M.getContentEditable(be)==="false"&&!k(t,be)){u=be,G(f,u),Qn(t,r,u,a);return}if(y){if(u)if(z1(u)){if(!G(f,u)){const Ne=M.createRng();Ne.setStartBefore(u),Ne.setEndAfter(u),fe(M,xf(M,Ne,f),!0)}}else fe(M,u,!0);else!T||!Sn(y)||U1(t).length?(N.setRng(oP(N.getRng())),pM(t,()=>{$I(t,(Ne,Ke)=>{const $e=Ke?Ne:xf(M,Ne,f);fe(M,$e,!1)})},Tn),t.nodeChanged()):k8(t,r,a),Roe(t.formatter,r).each(Ne=>{Ze(gSe(t.selection),Ke=>Coe(M,Ke,Ne,a))});hre(r,t)}Qn(t,r,u,a)},fR=(t,r,a,u)=>{(u||t.selection.isEditable())&&bre(t,r,a,u)},G7=t=>ts(t,"vars"),yre=(t,r)=>{t.set({}),r.on("NodeChange",a=>{Y7(r,a.element,t.get())}),r.on("FormatApply FormatRemove",a=>{const u=Se.from(a.node).map(f=>z1(f)?f:f.startContainer).bind(f=>Oo(f)?Se.some(f):Se.from(f.parentElement)).getOrThunk(()=>q7(r));Y7(r,u,t.get())})},q7=t=>t.selection.getStart(),Z7=(t,r,a,u,f)=>Ht(r,M=>{const N=t.formatter.matchNode(M,a,f??{},u);return!ot(N)},M=>A8(t,M,a)?!0:u?!1:De(t.formatter.matchNode(M,a,f,!0))),K7=(t,r)=>{const a=r??q7(t);return je(Ye(t.dom,a),u=>Oo(u)&&!Vg(u))},Y7=(t,r,a)=>{const u=K7(t,r);eo(a,(f,y)=>{const T=M=>{const N=Z7(t,u,y,M.similar,G7(M)?M.vars:void 0),G=N.isSome();if(M.state.get()!==G){M.state.set(G);const le=N.getOr(r);G7(M)?M.callback(G,{node:le,format:y,parents:u}):Ze(M.callbacks,fe=>fe(G,{node:le,format:y,parents:u}))}};Ze([f.withSimilar,f.withoutSimilar],T),Ze(f.withVars,T)})},Sre=(t,r,a,u,f,y)=>{const T=r.get();Ze(a.split(","),M=>{const N=sr(T,M).getOrThunk(()=>{const le={withSimilar:{state:$o(!1),similar:!0,callbacks:[]},withoutSimilar:{state:$o(!1),similar:!1,callbacks:[]},withVars:[]};return T[M]=le,le}),G=()=>{const le=K7(t);return Z7(t,le,M,f,y).isSome()};if(ot(y)){const le=f?N.withSimilar:N.withoutSimilar;le.callbacks.push(u),le.callbacks.length===1&&le.state.set(G())}else N.withVars.push({state:$o(G()),similar:f,vars:y,callback:u})}),r.set(T)},Cre=(t,r,a)=>{const u=t.get();Ze(r.split(","),f=>sr(u,f).each(y=>{u[f]={withSimilar:{...y.withSimilar,callbacks:je(y.withSimilar.callbacks,T=>T!==a)},withoutSimilar:{...y.withoutSimilar,callbacks:je(y.withoutSimilar.callbacks,T=>T!==a)},withVars:je(y.withVars,T=>T.callback!==a)}})),t.set(u)},Ere=(t,r,a,u,f,y)=>(Sre(t,r,a,u,f,y),{unbind:()=>Cre(r,a,u)}),wre=(t,r,a,u)=>{const f=t.formatter.get(r);f&&(mV(t,r,a,u)&&(!("toggle"in f[0])||f[0].toggle)?gd(t,r,a,u):fR(t,r,a,u))},aF=(t,r,a)=>({element:t,width:r,rows:a}),_re=(t,r)=>({element:t,cells:r}),hb=(t,r)=>({x:t,y:r}),lF=(t,r)=>ah(t,r).bind(nf).getOr(1),Are=(t,r,a,u,f)=>{const y=lF(f,"rowspan"),T=lF(f,"colspan"),M=t.rows;for(let N=a;N<a+y;N++){M[N]||(M[N]=_re(cf(u),[]));for(let G=r;G<r+T;G++){const le=M[N].cells;le[G]=N===a&&G===r?f:El(f)}}},X7=(t,r,a)=>{const u=t.rows;return!!(u[a]?u[a].cells:[])[r]},Tre=(t,r,a)=>{for(;X7(t,r,a);)r++;return r},J7=t=>rn(t,(r,a)=>a.cells.length>r?a.cells.length:r,0),xre=(t,r)=>{const a=t.rows;for(let u=0;u<a.length;u++){const f=a[u].cells;for(let y=0;y<f.length;y++)if(_o(f[y],r))return Se.some(hb(y,u))}return Se.none()},qd=(t,r,a,u,f)=>{const y=[],T=t.rows;for(let M=a;M<=f;M++){const N=T[M].cells,G=r<u?N.slice(r,u+1):N.slice(u,r+1);y.push(_re(T[M].element,G))}return y},Ore=(t,r,a)=>{const u=r.x,f=r.y,y=a.x,T=a.y,M=f<T?qd(t,u,f,y,T):qd(t,u,T,y,f);return aF(t.element,J7(M),M)},cF=(t,r)=>{const a=El(t.element),u=Qe.fromTag("tbody");return ih(u,r),$r(a,u),a},Q7=t=>mn(t.rows,r=>{const a=mn(r.cells,f=>{const y=cf(f);return pl(y,"colspan"),pl(y,"rowspan"),y}),u=El(r.element);return ih(u,a),u}),TP=t=>{const r=aF(El(t),0,[]);return Ze(cn(t,"tr"),(a,u)=>{Ze(cn(a,"td,th"),(f,y)=>{Are(r,Tre(r,y,u),u,a,f)})}),aF(r.element,J7(r.rows),r.rows)},Ire=t=>cF(t,Q7(t)),Rre=(t,r,a)=>xre(t,r).bind(u=>xre(t,a).map(f=>Ore(t,u,f))),kre=t=>_t(t,r=>Ns(r)==="ul"||Ns(r)==="ol"),Dre=(t,r)=>_t(t,a=>Ns(a)==="li"&&HI(a,r)).fold(nt([]),a=>kre(t).map(u=>{const f=Qe.fromTag(Ns(u)),y=or(Rm(u),(T,M)=>ms(M,"list-style"));return su(f,y),[Qe.fromTag("li"),f]}).getOr([])),Mre=(t,r)=>{const a=rn(r,(u,f)=>($r(f,u),f),t);return r.length>0?hf([a]):a},eW=t=>Zm(t)?Iu(t).filter(dC).fold(nt([]),r=>[t,r]):dC(t)?[t]:[],Pre=(t,r,a)=>{const u=Qe.fromDom(r.commonAncestorContainer),f=A0(u,t),y=je(f,N=>a.isWrapper(Ns(N))),T=Dre(f,r),M=y.concat(T.length?T:eW(u));return mn(M,El)},uF=()=>hf([]),tW=(t,r,a)=>Mre(Qe.fromDom(r.cloneContents()),Pre(t,r,a)),Nre=(t,r)=>qa(r,"table",st(_o,t)),Lre=(t,r)=>Nre(t,r[0]).bind(a=>{const u=r[0],f=r[r.length-1],y=TP(a);return Rre(y,u,f).map(T=>hf([Ire(T)]))}).getOrThunk(uF),Bre=(t,r,a)=>r.length>0&&r[0].collapsed?uF():tW(t,r[0],a),Vre=(t,r,a)=>{const u=MT(r,t);return u.length>0?Lre(t,u):Bre(t,r,a)},xP=(t,r)=>r>=0&&r<t.length&&_y(t.charAt(r)),pR=t=>ue(t.innerText),nW=t=>t.map(r=>r.nodeName).getOr("div").toLowerCase(),oW=t=>Se.from(t.selection.getRng()).map(r=>{const a=Se.from(t.dom.getParent(r.commonAncestorContainer,t.dom.isBlock)),u=t.getBody(),f=nW(a),y=Qe.fromDom(r.cloneContents());pne(y),xj(y);const T=t.dom.add(u,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},y.dom),M=pR(T),N=ue(T.textContent??"");if(t.dom.remove(T),xP(N,0)||xP(N,N.length-1)){const G=a.getOr(u),le=pR(G),fe=le.indexOf(M);if(fe===-1)return M;{const be=xP(le,fe-1),Ne=xP(le,fe+M.length);return(be?" ":"")+M+(Ne?" ":"")}}else return M}).getOr(""),Fre=(t,r)=>{const a=t.selection.getRng(),u=t.dom.create("body"),f=t.selection.getSel(),y=Sj(t,AC(f)),T=r.contextual?Vre(Qe.fromDom(t.getBody()),y,t.schema).dom:a.cloneContents();return T&&u.appendChild(T),t.selection.serializer.serialize(u,r)},sW=(t,r)=>{if(r.format==="text")return oW(t);{const a=Fre(t,r);return r.format==="tree"?a:t.selection.isCollapsed()?"":a}},Hre=(t,r)=>({...t,format:r,get:!0,selection:!0,getInner:!0}),$re=(t,r,a={})=>{const u=Hre(a,r);return Xw(t,u).fold(Mt,f=>{const y=sW(t,f);return KV(t,y,f)})},dF=0,OP=1,IP=2,Ure=(t,r)=>{const a=t.length+r.length+2,u=new Array(a),f=new Array(a),y=(le,fe,be)=>({start:le,end:fe,diag:be}),T=(le,fe,be,Ne,Ke)=>{const $e=N(le,fe,be,Ne);if($e===null||$e.start===fe&&$e.diag===fe-Ne||$e.end===le&&$e.diag===le-be){let Xe=le,wt=be;for(;Xe<fe||wt<Ne;)Xe<fe&&wt<Ne&&t[Xe]===r[wt]?(Ke.push([dF,t[Xe]]),++Xe,++wt):fe-le>Ne-be?(Ke.push([IP,t[Xe]]),++Xe):(Ke.push([OP,r[wt]]),++wt)}else{T(le,$e.start,be,$e.start-$e.diag,Ke);for(let Xe=$e.start;Xe<$e.end;++Xe)Ke.push([dF,t[Xe]]);T($e.end,fe,$e.end-$e.diag,Ne,Ke)}},M=(le,fe,be,Ne)=>{let Ke=le;for(;Ke-fe<Ne&&Ke<be&&t[Ke]===r[Ke-fe];)++Ke;return y(le,Ke,fe)},N=(le,fe,be,Ne)=>{const Ke=fe-le,$e=Ne-be;if(Ke===0||$e===0)return null;const Xe=Ke-$e,wt=$e+Ke,Tt=(wt%2===0?wt:wt+1)/2;u[1+Tt]=le,f[1+Tt]=fe+1;let It,fn,Mn,mo,Wn;for(It=0;It<=Tt;++It){for(fn=-It;fn<=It;fn+=2){for(Mn=fn+Tt,fn===-It||fn!==It&&u[Mn-1]<u[Mn+1]?u[Mn]=u[Mn+1]:u[Mn]=u[Mn-1]+1,mo=u[Mn],Wn=mo-le+be-fn;mo<fe&&Wn<Ne&&t[mo]===r[Wn];)u[Mn]=++mo,++Wn;if(Xe%2!==0&&Xe-It<=fn&&fn<=Xe+It&&f[Mn-Xe]<=u[Mn])return M(f[Mn-Xe],fn+le-be,fe,Ne)}for(fn=Xe-It;fn<=Xe+It;fn+=2){for(Mn=fn+Tt-Xe,fn===Xe-It||fn!==Xe+It&&f[Mn+1]<=f[Mn-1]?f[Mn]=f[Mn+1]-1:f[Mn]=f[Mn-1],mo=f[Mn]-1,Wn=mo-le+be-fn;mo>=le&&Wn>=be&&t[mo]===r[Wn];)f[Mn]=mo--,Wn--;if(Xe%2===0&&-It<=fn&&fn<=It&&f[Mn]<=u[Mn+Xe])return M(f[Mn],fn+le-be,fe,Ne)}}return null},G=[];return T(0,t.length,0,r.length,G),G},RP=t=>Oo(t)?t.outerHTML:Bn(t)?Gv.encodeRaw(t.data,!1):Ba(t)?"<!--"+t.data+"-->":"",zre=t=>{let r;const a=document.createElement("div"),u=document.createDocumentFragment();for(t&&(a.innerHTML=t);r=a.firstChild;)u.appendChild(r);return u},jre=(t,r,a)=>{const u=zre(r);if(t.hasChildNodes()&&a<t.childNodes.length){const f=t.childNodes[a];t.insertBefore(u,f)}else t.appendChild(u)},Wre=(t,r)=>{if(t.hasChildNodes()&&r<t.childNodes.length){const a=t.childNodes[r];t.removeChild(a)}},Gre=(t,r)=>{let a=0;Ze(t,u=>{u[0]===dF?a++:u[0]===OP?(jre(r,u[1],a),a++):u[0]===IP&&Wre(r,a)})},qre=(t,r)=>je(mn(jt(t.childNodes),ee(ue,RP)),a=>a.length>0),Zre=(t,r)=>{const a=mn(jt(r.childNodes),RP);return Gre(Ure(a,t),r),r},rW=Il(()=>document.implementation.createHTMLDocument("undo")),Kre=t=>t.querySelector("iframe")!==null,Yre=t=>({type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}),Xre=t=>({type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}),kP=t=>{const r=t.serializer.getTempAttrs(),a=RM(t.getBody(),r);return Kre(a)?Yre(qre(a)):Xre(ue(a.innerHTML))},hF=(t,r,a)=>{const u=a?r.beforeBookmark:r.bookmark;r.type==="fragmented"?Zre(r.fragments,t.getBody()):t.setContent(r.content,{format:"raw",no_selection:De(u)&&oM(u)?!u.isFakeCaret:!0}),u&&(t.selection.moveToBookmark(u),t.selection.scrollIntoView())},fF=t=>t.type==="fragmented"?t.fragments.join(""):t.content,iW=t=>{const r=Qe.fromTag("body",rW());return zp(r,fF(t)),Ze(cn(r,"*[data-mce-bogus]"),Mu),bc(r)},YT=(t,r)=>fF(t)===fF(r),DP=(t,r)=>iW(t)===iW(r),MP=(t,r)=>!t||!r?!1:YT(t,r)?!0:DP(t,r),PP=t=>t.get()===0,NP=(t,r,a)=>{PP(a)&&(t.typing=r)},aW=(t,r)=>{t.typing&&(NP(t,!1,r),t.add())},pF=t=>{t.typing&&(t.typing=!1,t.add())},Jre=(t,r,a)=>{PP(r)&&a.set(uw(t.selection))},Qre=(t,r,a,u,f,y,T)=>{const M=kP(t),N=Un.extend(y||{},M);if(!PP(u)||t.removed)return null;const G=r.data[a.get()];if(t.dispatch("BeforeAddUndo",{level:N,lastLevel:G,originalEvent:T}).isDefaultPrevented()||G&&MP(G,N))return null;r.data[a.get()]&&f.get().each(be=>{r.data[a.get()].beforeBookmark=be});const le=wD(t);if(le&&r.data.length>le){for(let be=0;be<r.data.length-1;be++)r.data[be]=r.data[be+1];r.data.length--,a.set(r.data.length)}N.bookmark=uw(t.selection),a.get()<r.data.length-1&&(r.data.length=a.get()+1),r.data.push(N),a.set(r.data.length-1);const fe={level:N,lastLevel:G,originalEvent:T};return a.get()>0?(t.setDirty(!0),t.dispatch("AddUndo",fe),t.dispatch("change",fe)):t.dispatch("AddUndo",fe),N},eie=(t,r,a)=>{r.data=[],a.set(0),r.typing=!1,t.dispatch("ClearUndos")},tie=(t,r,a,u,f)=>{if(r.transact(u)){const y=r.data[a.get()].bookmark,T=r.data[a.get()-1];hF(t,T,!0),r.transact(f)&&(r.data[a.get()-1].beforeBookmark=y)}},nie=(t,r,a)=>{let u;return r.get()<a.length-1&&(r.set(r.get()+1),u=a[r.get()],hF(t,u,!1),t.setDirty(!0),t.dispatch("Redo",{level:u})),u},LP=(t,r,a,u)=>{let f;return r.typing&&(r.add(),r.typing=!1,NP(r,!1,a)),u.get()>0&&(u.set(u.get()-1),f=r.data[u.get()],hF(t,f,!0),t.setDirty(!0),t.dispatch("Undo",{level:f})),f},mR=t=>{t.clear(),t.add()},oie=(t,r,a)=>a.get()>0||r.typing&&r.data[0]&&!MP(kP(t),r.data[0]),XT=(t,r)=>r.get()<t.data.length-1&&!t.typing,sg=(t,r,a)=>(aW(t,r),t.beforeChange(),t.ignore(a),t.add()),gR=(t,r)=>{try{t.set(t.get()+1),r()}finally{t.set(t.get()-1)}},Ki=(t,r)=>{const a=t.dom,u=De(r)?r:t.getBody();Ze(a.select("table,a",u),f=>{switch(f.nodeName){case"TABLE":const y=ww(t),T=a.getAttrib(f,"border");(!T||T==="0")&&t.hasVisual?a.addClass(f,y):a.removeClass(f,y);break;case"A":if(!a.getAttrib(f,"href")){const M=a.getAttrib(f,"name")||f.id,N=_I(t);M&&t.hasVisual?a.addClass(f,N):a.removeClass(f,N)}break}}),t.dispatch("VisualAid",{element:r,hasVisual:t.hasVisual})},JT=t=>({init:{bindEvents:gt},undoManager:{beforeChange:(r,a)=>Jre(t,r,a),add:(r,a,u,f,y,T)=>Qre(t,r,a,u,f,y,T),undo:(r,a,u)=>LP(t,r,a,u),redo:(r,a)=>nie(t,r,a),clear:(r,a)=>eie(t,r,a),reset:r=>mR(r),hasUndo:(r,a)=>oie(t,r,a),hasRedo:(r,a)=>XT(r,a),transact:(r,a,u)=>sg(r,a,u),ignore:(r,a)=>gR(r,a),extra:(r,a,u,f)=>tie(t,r,a,u,f)},formatter:{match:(r,a,u,f)=>mV(t,r,a,u,f),matchAll:(r,a)=>Eoe(t,r,a),matchNode:(r,a,u,f)=>lb(t,r,a,u,f),canApply:r=>woe(t,r),closest:r=>ma(t,r),apply:(r,a,u)=>fR(t,r,a,u),remove:(r,a,u,f)=>gd(t,r,a,u,f),toggle:(r,a,u)=>wre(t,r,a,u),formatChanged:(r,a,u,f,y)=>Ere(t,r,a,u,f,y)},editor:{getContent:r=>WB(t,r),setContent:(r,a)=>ure(t,r,a),insertContent:(r,a)=>are(t,r,a),addVisual:r=>Ki(t,r)},selection:{getContent:(r,a)=>$re(t,r,a)},autocompleter:{addDecoration:gt,removeDecoration:gt},raw:{getModel:()=>Se.none()}}),lW=t=>{const r=G=>ye(G)?G:{},{init:a,undoManager:u,formatter:f,editor:y,selection:T,autocompleter:M,raw:N}=t;return{init:{bindEvents:a.bindEvents},undoManager:{beforeChange:u.beforeChange,add:u.add,undo:u.undo,redo:u.redo,clear:u.clear,reset:u.reset,hasUndo:u.hasUndo,hasRedo:u.hasRedo,transact:(G,le,fe)=>u.transact(fe),ignore:(G,le)=>u.ignore(le),extra:(G,le,fe,be)=>u.extra(fe,be)},formatter:{match:(G,le,fe,be)=>f.match(G,r(le),be),matchAll:f.matchAll,matchNode:f.matchNode,canApply:G=>f.canApply(G),closest:G=>f.closest(G),apply:(G,le,fe)=>f.apply(G,r(le)),remove:(G,le,fe,be)=>f.remove(G,r(le)),toggle:(G,le,fe)=>f.toggle(G,r(le)),formatChanged:(G,le,fe,be,Ne)=>f.formatChanged(le,fe,be,Ne)},editor:{getContent:G=>y.getContent(G),setContent:(G,le)=>({content:y.setContent(G,le),html:""}),insertContent:(G,le)=>(y.insertContent(G),""),addVisual:y.addVisual},selection:{getContent:(G,le)=>T.getContent(le)},autocompleter:{addDecoration:M.addDecoration,removeDecoration:M.removeDecoration},raw:{getModel:()=>Se.some(N.getRawModel())}}},cW=()=>{const t=nt(null),r=nt("");return{init:{bindEvents:gt},undoManager:{beforeChange:gt,add:t,undo:t,redo:t,clear:gt,reset:gt,hasUndo:qt,hasRedo:qt,transact:t,ignore:gt,extra:gt},formatter:{match:qt,matchAll:nt([]),matchNode:nt(void 0),canApply:qt,closest:r,apply:gt,remove:gt,toggle:gt,formatChanged:nt({unbind:gt})},editor:{getContent:r,setContent:nt({content:"",html:""}),insertContent:nt(""),addVisual:gt},selection:{getContent:r},autocompleter:{addDecoration:gt,removeDecoration:gt},raw:{getModel:nt(Se.none())}}},uv=t=>ts(t.plugins,"rtc"),mF=t=>sr(t.plugins,"rtc").bind(r=>Se.from(r.setup)),gF=t=>{const r=t;return mF(t).fold(()=>(r.rtcInstance=JT(t),Se.none()),a=>(r.rtcInstance=cW(),Se.some(()=>a().then(u=>(r.rtcInstance=lW(u),u.rtc.isRemote)))))},vR=t=>t.rtcInstance?t.rtcInstance:JT(t),Ic=t=>{const r=t.rtcInstance;if(r)return r;throw new Error("Failed to get RTC instance not yet initialized.")},BP=(t,r,a)=>{Ic(t).undoManager.beforeChange(r,a)},vF=(t,r,a,u,f,y,T)=>Ic(t).undoManager.add(r,a,u,f,y,T),uW=(t,r,a,u)=>Ic(t).undoManager.undo(r,a,u),dW=(t,r,a)=>Ic(t).undoManager.redo(r,a),hW=(t,r,a)=>{Ic(t).undoManager.clear(r,a)},fW=(t,r)=>{Ic(t).undoManager.reset(r)},pW=(t,r,a)=>Ic(t).undoManager.hasUndo(r,a),Jw=(t,r,a)=>Ic(t).undoManager.hasRedo(r,a),mW=(t,r,a,u)=>Ic(t).undoManager.transact(r,a,u),bF=(t,r,a)=>{Ic(t).undoManager.ignore(r,a)},sie=(t,r,a,u,f)=>{Ic(t).undoManager.extra(r,a,u,f)},rie=(t,r,a,u,f)=>Ic(t).formatter.match(r,a,u,f),gW=(t,r,a)=>Ic(t).formatter.matchAll(r,a),vW=(t,r,a,u,f)=>Ic(t).formatter.matchNode(r,a,u,f),bW=(t,r)=>Ic(t).formatter.canApply(r),VP=(t,r)=>Ic(t).formatter.closest(r),yW=(t,r,a,u)=>{Ic(t).formatter.apply(r,a,u)},SW=(t,r,a,u,f)=>{Ic(t).formatter.remove(r,a,u,f)},CW=(t,r,a,u)=>{Ic(t).formatter.toggle(r,a,u)},EW=(t,r,a,u,f,y)=>Ic(t).formatter.formatChanged(r,a,u,f,y),wW=(t,r)=>vR(t).editor.getContent(r),_W=(t,r,a)=>vR(t).editor.setContent(r,a),AW=(t,r,a)=>vR(t).editor.insertContent(r,a),TW=(t,r,a)=>Ic(t).selection.getContent(r,a),xW=(t,r)=>Ic(t).editor.addVisual(r),yF=t=>Ic(t).init.bindEvents(),SF=(t,r={})=>{const a=r.format?r.format:"html";return TW(t,a,r)},CF=(t,r,a)=>{if(ts(t,r)){const u=je(t[r],f=>f!==a);u.length===0?delete t[r]:t[r]=u}};var OW=(t,r)=>{let a,u;const f=(M,N)=>_t(N,G=>t.is(G,M)),y=M=>t.getParents(M,void 0,t.getRoot()),T=()=>{a={},u={},r.on("NodeChange",M=>{const N=M.element,G=y(N),le={};eo(a,(fe,be)=>{f(be,G).each(Ne=>{u[be]||(Ze(fe,Ke=>{Ke(!0,{node:Ne,selector:be,parents:G})}),u[be]=fe),le[be]=fe})}),eo(u,(fe,be)=>{le[be]||(delete u[be],Ze(fe,Ne=>{Ne(!1,{node:N,selector:be,parents:G})}))})})};return{selectorChangedWithUnbind:(M,N)=>(a||T(),a[M]||(a[M]=[]),a[M].push(N),f(M,y(r.selection.getStart())).each(()=>{u[M]=a[M]}),{unbind:()=>{CF(a,M,N),CF(u,M,N)}})}};const EF=t=>!!(t&&t.ownerDocument)&&Xr(Qe.fromDom(t.ownerDocument),Qe.fromDom(t)),IW=t=>t?EF(t.startContainer)&&EF(t.endContainer):!1,wF=(t,r,a,u)=>{let f,y;const{selectorChangedWithUnbind:T}=OW(t,u),M=(Co,hs)=>{const Pi=t.createRng();De(Co)&&De(hs)?(Pi.setStart(Co,hs),Pi.setEnd(Co,hs),fn(Pi),wt(!1)):(TC(t,Pi,u.getBody(),!0),fn(Pi))},N=Co=>SF(u,Co),G=(Co,hs)=>P7(u,Co,hs),le=Co=>sne(u.getBody(),It(),Co),fe=Co=>yj(u.getBody(),It(),Co),be=(Co,hs)=>Gc.getBookmark(Co,hs),Ne=Co=>Gc.moveToBookmark(Co),Ke=(Co,hs)=>(ane(t,Co,hs).each(fn),Co),$e=()=>{const Co=It(),hs=Tt();return!Co||Co.item?!1:Co.compareEndPoints?Co.compareEndPoints("StartToEnd",Co)===0:!hs||Co.collapsed},Xe=()=>{if(u.mode.isReadOnly())return!1;const Co=It(),hs=u.getBody().querySelectorAll('[data-mce-selected="1"]');return hs.length>0?bs(hs,Pi=>t.isEditable(Pi.parentElement)):bj(t,Co)},wt=Co=>{const hs=It();hs.collapse(!!Co),fn(hs)},Tt=()=>r.getSelection?r.getSelection():r.document.selection,It=()=>{let Co;const hs=(Ii,os,Xn)=>{try{return os.compareBoundaryPoints(Ii,Xn)}catch{return-1}},Pi=r.document;if(De(u.bookmark)&&!ng(u)){const Ii=jI(u);if(Ii.isSome())return Ii.map(os=>Sj(u,[os])[0]).getOr(Pi.createRange())}try{const Ii=Tt();Ii&&!Bg(Ii.anchorNode)&&(Ii.rangeCount>0?Co=Ii.getRangeAt(0):Co=Pi.createRange(),Co=Sj(u,[Co])[0])}catch{}if(Co||(Co=Pi.createRange()),yr(Co.startContainer)&&Co.collapsed){const Ii=t.getRoot();Co.setStart(Ii,0),Co.setEnd(Ii,0)}return f&&y&&(hs(Co.START_TO_START,Co,f)===0&&hs(Co.END_TO_END,Co,f)===0?Co=y:(f=null,y=null)),Co},fn=(Co,hs)=>{if(!IW(Co))return;const Pi=Tt();if(Co=u.dispatch("SetSelectionRange",{range:Co,forward:hs}).range,Pi){y=Co;try{Pi.removeAllRanges(),Pi.addRange(Co)}catch{}hs===!1&&Pi.extend&&(Pi.collapse(Co.endContainer,Co.endOffset),Pi.extend(Co.startContainer,Co.startOffset)),f=Pi.rangeCount>0?Pi.getRangeAt(0):null}if(!Co.collapsed&&Co.startContainer===Co.endContainer&&Pi?.setBaseAndExtent&&Co.endOffset-Co.startOffset<2&&Co.startContainer.hasChildNodes()){const os=Co.startContainer.childNodes[Co.startOffset];os&&os.nodeName==="IMG"&&(Pi.setBaseAndExtent(Co.startContainer,Co.startOffset,Co.endContainer,Co.endOffset),(Pi.anchorNode!==Co.startContainer||Pi.focusNode!==Co.endContainer)&&Pi.setBaseAndExtent(os,0,os,1))}u.dispatch("AfterSetSelectionRange",{range:Co,forward:hs})},Mn=Co=>(vP(u,t.getOuterHTML(Co)),Co),mo=()=>rne(u.getBody(),It()),Wn=(Co,hs)=>ine(t,It(),Co,hs),gn=()=>{const Co=Tt(),hs=Co?.anchorNode,Pi=Co?.focusNode;if(!Co||!hs||!Pi||Bg(hs)||Bg(Pi))return!0;const Ii=t.createRng(),os=t.createRng();try{Ii.setStart(hs,Co.anchorOffset),Ii.collapse(!0),os.setStart(Pi,Co.focusOffset),os.collapse(!0)}catch{return!0}return Ii.compareBoundaryPoints(Ii.START_TO_START,os)<=0},Cc={dom:t,win:r,serializer:a,editor:u,expand:(Co={type:"word"})=>fn(_0(t).expand(It(),Co)),collapse:wt,setCursorLocation:M,getContent:N,setContent:G,getBookmark:be,moveToBookmark:Ne,select:Ke,isCollapsed:$e,isEditable:Xe,isForward:gn,setNode:Mn,getNode:mo,getSel:Tt,setRng:fn,getRng:It,getStart:le,getEnd:fe,getSelectedBlocks:Wn,normalize:()=>{const Co=It(),hs=Tt();if(!BI(hs)&&NT(u)){const Pi=$w(t,Co);return Pi.each(Ii=>{fn(Ii,gn())}),Pi.getOr(Co)}return Co},selectorChanged:(Co,hs)=>(T(Co,hs),Cc),selectorChangedWithUnbind:T,getScrollContainer:()=>{let Co,hs=t.getRoot();for(;hs&&hs.nodeName!=="BODY";){if(hs.scrollHeight>hs.clientHeight){Co=hs;break}hs=hs.parentNode}return Co},scrollIntoView:(Co,hs)=>{De(Co)?vj(u,Co,hs):Uw(u,It(),hs)},placeCaretAt:(Co,hs)=>fn(oj(Co,hs,u.getDoc())),getBoundingClientRect:()=>{const Co=It();return Co.collapsed?sn.fromRangeStart(Co).getClientRects()[0]:Co.getBoundingClientRect()},destroy:()=>{r=f=y=null,vv.destroy()}},Gc=Hw(Cc),vv=nj(Cc,u);return Cc.bookmarkManager=Gc,Cc.controlSelection=vv,Cc},RW=(t,r,a)=>{r.addNodeFilter("br",(u,f,y)=>{const T=Un.extend({},a.getBlockElements()),M=a.getNonEmptyElements(),N=a.getWhitespaceElements();T.body=1;const G=le=>le.name in T||l0(a,le);for(let le=0,fe=u.length;le<fe;le++){let be=u[le],Ne=be.parent;if(Ne&&G(Ne)&&be===Ne.lastChild){let Ke=be.prev;for(;Ke;){const $e=Ke.name;if($e!=="span"||Ke.attr("data-mce-type")!=="bookmark"){$e==="br"&&(be=null);break}Ke=Ke.prev}if(be&&(be.remove(),tR(a,M,N,Ne))){const $e=a.getElementRule(Ne.name);$e&&($e.removeEmpty?Ne.remove():$e.paddEmpty&&RV(t,y,G,Ne))}}else{let Ke=be;for(;Ne&&Ne.firstChild===Ke&&Ne.lastChild===Ke&&(Ke=Ne,!T[Ne.name]);)Ne=Ne.parent;if(Ke===Ne){const $e=new vh("#text",3);$e.value=ki,be.replace($e)}}}})},kW=(t,r,a)=>{t.addAttributeFilter("data-mce-tabindex",(u,f)=>{let y=u.length;for(;y--;){const T=u[y];T.attr("tabindex",T.attr("data-mce-tabindex")),T.attr(f,null)}}),t.addAttributeFilter("src,href,style",(u,f)=>{const y="data-mce-"+f,T=r.url_converter,M=r.url_converter_scope;let N=u.length;for(;N--;){const G=u[N];let le=G.attr(y);le!==void 0?(G.attr(f,le.length>0?le:null),G.attr(y,null)):(le=G.attr(f),f==="style"?le=a.serializeStyle(a.parseStyle(le),G.name):T&&(le=T.call(M,le,f,G.name)),G.attr(f,le.length>0?le:null))}}),t.addAttributeFilter("class",u=>{let f=u.length;for(;f--;){const y=u[f];let T=y.attr("class");T&&(T=T.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),y.attr("class",T.length>0?T:null))}}),t.addAttributeFilter("data-mce-type",(u,f,y)=>{let T=u.length;for(;T--;){const M=u[T];M.attr("data-mce-type")==="bookmark"&&!y.cleanup&&(Se.from(M.firstChild).exists(G=>!te(G.value??""))?M.unwrap():M.remove())}}),t.addNodeFilter("script,style",(u,f)=>{const y=M=>M.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let T=u.length;for(;T--;){const M=u[T],N=M.firstChild,G=N?.value??"";if(f==="script"){const le=M.attr("type");le&&M.attr("type",le==="mce-no/type"?null:le.replace(/^mce\-/,"")),r.element_format==="xhtml"&&N&&G.length>0&&(N.value=`// <![CDATA[
`+y(G)+`
// ]]>`)}else r.element_format==="xhtml"&&N&&G.length>0&&(N.value=`<!--
`+y(G)+`
-->`)}}),t.addNodeFilter("#comment",u=>{let f=u.length;for(;f--;){const y=u[f],T=y.value;r.preserve_cdata&&T?.indexOf("[CDATA[")===0?(y.name="#cdata",y.type=4,y.value=a.decode(T.replace(/^\[CDATA\[|\]\]$/g,""))):T?.indexOf("mce:protected ")===0&&(y.name="#text",y.type=3,y.raw=!0,y.value=unescape(T).substr(14))}}),t.addNodeFilter("xml:namespace,input",(u,f)=>{let y=u.length;for(;y--;){const T=u[y];T.type===7?T.remove():T.type===1&&f==="input"&&!T.attr("type")&&T.attr("type","text")}}),t.addAttributeFilter("data-mce-type",u=>{Ze(u,f=>{f.attr("data-mce-type")==="format-caret"&&(f.isEmpty(t.schema.getNonEmptyElements())?f.remove():f.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(u,f)=>{let y=u.length;for(;y--;)u[y].attr(f,null)}),r.remove_trailing_brs&&RW(r,t,t.schema)},_F=t=>{const r=u=>u?.name==="br",a=t.lastChild;if(r(a)){const u=a.prev;r(u)&&(a.remove(),u.remove())}},FP=(t,r,a)=>{let u;const f=t.dom;let y=r.cloneNode(!0);const T=document.implementation;if(T.createHTMLDocument){const M=T.createHTMLDocument("");Un.each(y.nodeName==="BODY"?y.childNodes:[y],N=>{M.body.appendChild(M.importNode(N,!0))}),y.nodeName!=="BODY"?y=M.body.firstChild:y=M.body,u=f.doc,f.doc=M}return ev(t,{...a,node:y}),u&&(f.doc=u),y},DW=(t,r)=>De(t)&&t.hasEventListeners("PreProcess")&&!r.no_events,iie=(t,r,a)=>DW(t,a)?FP(t,r,a):r,MW=(t,r,a)=>{Un.inArray(r,a)===-1&&(t.addAttributeFilter(a,(u,f)=>{let y=u.length;for(;y--;)u[y].attr(f,null)}),r.push(a))},HP=(t,r,a)=>!r.no_events&&t?iD(t,{...r,content:a}).content:a,AF=(t,r,a)=>{const u=ue(a.getInner?r.innerHTML:t.getOuterHTML(r));return a.selection||C(Qe.fromDom(r))?u:Un.trim(u)},bR=(t,r,a)=>{const u=a.selection?{forced_root_block:!1,...a}:a,f=t.parse(r,u);return _F(f),f},TF=(t,r,a)=>jw(t,r).serialize(a),PW=(t,r,a,u,f)=>{const y=TF(r,a,u);return HP(t,f,y)},QT=(t,r)=>{const a=["data-mce-selected"],u={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...t},f=r&&r.dom?r.dom:mi.DOM,y=r&&r.schema?r.schema:yf(u),T=Yw(u,y);kW(T,u,f);const M=(N,G={})=>{const{indent:le,entity_encoding:fe,...be}=G,Ne={format:"html",...be},Ke=iie(r,N,Ne),$e=AF(f,Ke,Ne),Xe=bR(T,$e,Ne);if(Ne.format==="tree")return Xe;const wt={...u,...De(le)?{indent:le}:{},...De(fe)?{entity_encoding:fe}:{}};return PW(r,wt,y,Xe,Ne)};return{schema:y,addNodeFilter:T.addNodeFilter,addAttributeFilter:T.addAttributeFilter,serialize:M,addRules:y.addValidElements,setRules:y.setValidElements,addTempAttr:st(MW,T,a),getTempAttrs:nt(a),getNodeFilters:T.getNodeFilters,getAttributeFilters:T.getAttributeFilters,removeNodeFilter:T.removeNodeFilter,removeAttributeFilter:T.removeAttributeFilter}},$P=(t,r)=>{const a=QT(t,r);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter}},xF="html",ex=(t,r)=>({...t,format:r,get:!0,getInner:!0}),FC=(t,r={})=>{const a=r.format?r.format:xF,u=ex(r,a);return Xw(t,u).fold(Mt,f=>{const y=wW(t,f);return KV(t,y,f)})},NW="html",aie=(t,r)=>({format:NW,...t,set:!0,content:r}),OF=(t,r,a={})=>{const u=aie(a,r);fP(t,u).each(f=>{const y=_W(t,f.content,f);pP(t,y.html,f)})},yR=mi.DOM,LW=t=>{yR.setStyle(t.id,"display",t.orgDisplay)},SR=t=>Se.from(t).each(r=>r.destroy()),lie=t=>{const r=t;r.contentAreaContainer=r.formElement=r.container=r.editorContainer=null,r.bodyElement=r.contentDocument=r.contentWindow=null,r.iframeElement=r.targetElm=null;const a=t.selection;if(a){const u=a.dom;r.selection=a.win=a.dom=u.doc=null}},HC=t=>{const r=t.formElement;r&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,delete r._mceOldSubmit),yR.unbind(r,"submit reset",t.formEventDelegate))},Qw=t=>{if(!t.removed){const{_selectionOverrides:r,editorUpload:a}=t,u=t.getBody(),f=t.getElement();u&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&De(f?.nextSibling)&&yR.remove(f.nextSibling),yy(t),t.editorManager.remove(t),!t.inline&&u&&LW(t),Ym(t),yR.remove(t.getContainer()),SR(r),SR(a),t.destroy()}},BW=(t,r)=>{const{selection:a,dom:u}=t;if(!t.destroyed){if(!r&&!t.removed){t.remove();return}r||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),SR(a),SR(u)),HC(t),lie(t),t.destroyed=!0}},UP=(()=>{const t={};return{add:(f,y)=>{t[f]=y},get:f=>t[f]?t[f]:{icons:{}},has:f=>ts(t,f)}})(),tx=Hc.ModelManager,VW=(t,r)=>r.dom[t],Sp=(t,r)=>parseInt(La(r,t),10),fb=st(VW,"clientWidth"),FW=st(VW,"clientHeight"),IF=st(Sp,"margin-top"),RF=st(Sp,"margin-left"),zP=t=>t.dom.getBoundingClientRect(),uie=(t,r,a)=>{const u=fb(t),f=FW(t);return r>=0&&a>=0&&r<=u&&a<=f},HW=(t,r,a,u)=>{const f=zP(r),y=t?f.left+r.dom.clientLeft+RF(r):0,T=t?f.top+r.dom.clientTop+IF(r):0,M=a-y,N=u-T;return{x:M,y:N}},CR=(t,r,a)=>{const u=Qe.fromDom(t.getBody()),f=t.inline?u:Sl(u),y=HW(t.inline,f,r,a);return uie(f,y.x,y.y)},die=t=>Se.from(t).map(Qe.fromDom),jP=t=>{const r=t.inline?t.getBody():t.getContentAreaContainer();return die(r).map(ni).getOr(!1)};var kF=()=>{const t=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,getArgs:t}};const DF=t=>{const r=[],a=()=>{const be=t.theme;return be&&be.getNotificationManagerImpl?be.getNotificationManagerImpl():kF()},u=()=>Se.from(r[0]),f=(be,Ne)=>be.type===Ne.type&&be.text===Ne.text&&!be.progressBar&&!be.timeout&&!Ne.progressBar&&!Ne.timeout,y=()=>{u().each(be=>{be.reposition()})},T=be=>{r.push(be)},M=be=>{go(r,Ne=>Ne===be).each(Ne=>{r.splice(Ne,1)})},N=(be,Ne=!0)=>t.removed||!jP(t)?{}:(Ne&&t.dispatch("BeforeOpenNotification",{notification:be}),_t(r,Ke=>f(a().getArgs(Ke),be)).getOrThunk(()=>{t.editorManager.setActive(t);const Ke=a().open(be,()=>{M(Ke)},()=>FT(t));return T(Ke),y(),t.dispatch("OpenNotification",{notification:{...Ke}}),Ke})),G=()=>{u().each(be=>{a().close(be),M(be),y()})},le=nt(r);return(be=>{be.on("SkinLoaded",()=>{const Ne=EI(be);Ne&&N({text:Ne,type:"warning",timeout:0},!1),y()}),be.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(y)}),be.on("remove",()=>{Ze(r.slice(),Ne=>{a().close(Ne)})}),be.on("keydown",Ne=>{const Ke=Ne.key?.toLowerCase()==="f12"||Ne.keyCode===123;Ne.altKey&&Ke&&(Ne.preventDefault(),u().map($e=>Qe.fromDom($e.getEl())).each($e=>qb($e)))})})(t),{open:N,close:G,getNotifications:le}},I0=Hc.PluginManager,e_=Hc.ThemeManager;var hie=()=>{const t=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,openUrl:t,alert:t,confirm:t,close:t}};const pb=t=>{let r=[];const a=()=>{const Xe=t.theme;return Xe&&Xe.getWindowManagerImpl?Xe.getWindowManagerImpl():hie()},u=(Xe,wt)=>(...Tt)=>wt?wt.apply(Xe,Tt):void 0,f=Xe=>{t.dispatch("OpenWindow",{dialog:Xe})},y=Xe=>{t.dispatch("CloseWindow",{dialog:Xe})},T=(Xe,wt)=>{r.push({instanceApi:Xe,triggerElement:wt}),f(Xe)},M=Xe=>{y(Xe);const wt=wo(r,({instanceApi:Tt,triggerElement:It})=>Tt===Xe?It:Se.none());r=je(r,({instanceApi:Tt})=>Tt!==Xe),r.length===0?t.focus():wt.filter(ni).each(qb)},N=()=>Se.from(r[r.length-1]),G=Xe=>{t.editorManager.setActive(t),SM(t);const wt=Lh();t.ui.show();const Tt=Xe();return T(Tt,wt),Tt},le=(Xe,wt)=>G(()=>a().open(Xe,wt,M)),fe=Xe=>G(()=>a().openUrl(Xe,M)),be=Xe=>{r.length!==0&&Xe.each(wt=>qb(wt))},Ne=(Xe,wt,Tt)=>{const It=Lh(),fn=a();fn.alert(Xe,u(Tt||fn,()=>{be(It),wt?.()}))},Ke=(Xe,wt,Tt)=>{const It=Lh(),fn=a();fn.confirm(Xe,u(Tt||fn,Mn=>{be(It),wt?.(Mn)}))},$e=()=>{N().each(({instanceApi:Xe})=>{a().close(Xe),M(Xe)})};return t.on("remove",()=>{Ze(r,({instanceApi:Xe})=>{a().close(Xe)})}),{open:le,openUrl:fe,alert:Ne,confirm:Ke,close:$e}},Cp=(t,r)=>{t.notificationManager.open({type:"error",text:r})},$C=(t,r)=>{t._skinLoaded?Cp(t,r):t.on("SkinLoaded",()=>{Cp(t,r)})},fm=(t,r)=>{$C(t,fp.translate(["Failed to upload image: {0}",r]))},t_=(t,r,a)=>{fI(t,r,{message:a}),console.error(a)},Mi=(t,r,a)=>a?`Failed to load ${t}: ${a} from url ${r}`:`Failed to load ${t} url: ${r}`,fie=(t,r,a)=>{t_(t,"PluginLoadError",Mi("plugin",r,a))},tS=(t,r,a)=>{t_(t,"IconsLoadError",Mi("icons",r,a))},ER=(t,r,a)=>{t_(t,"LanguageLoadError",Mi("language",r,a))},$W=(t,r,a)=>{t_(t,"ThemeLoadError",Mi("theme",r,a))},MF=(t,r,a)=>{t_(t,"ModelLoadError",Mi("model",r,a))},PF=(t,r)=>{t_(t,"LicenseKeyManagerLoadError",Mi("license key manager",r))},pie=(t,r)=>{t_(t,"ComponentLoadError",Mi("component",r))},NF=(t,r,a)=>{const u=fp.translate(["Failed to initialize plugin: {0}",r]);fI(t,"PluginLoadError",{message:u}),WP(u,a),$C(t,u)},WP=(t,...r)=>{const a=window.console;a&&(a.error?a.error(t,...r):a.log(t,...r))},LF=new WeakMap,UW=t=>{if(LF.has(t))return;LF.set(t,!0);const r=()=>{t.on("SwitchMode",u=>{const{mode:f}=u;f!=="readonly"&&t.mode.set("readonly")})},a=()=>{t.on("DisabledStateChange",u=>{const{state:f}=u;f||u.preventDefault()},!0)};t.initialized?(t.removed||t.mode.set("readonly"),t.options.set("disabled",!0)):t.on("init",()=>{t.removed||t.mode.set("readonly"),t.options.set("disabled",!0)}),a(),r()},GP=(t,r)=>{const{type:a,message:u}=r;t.notificationManager.open({type:a,text:u})},zW=t=>{switch(t){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;case"log":default:return console.log}},qP=t=>{zW(t.type)(t.message)},BF=(t,r)=>{const{console:a,editor:u}=r;De(u)&&(t._skinLoaded?GP(t,u):t.on("SkinLoaded",()=>{GP(t,u)})),De(a)&&qP(a)},VF="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",mie="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",gie=t=>{const r="The editor is disabled because a TinyMCE license key has not been provided.";BF(t,{console:{type:"error",message:[`${r}`,mie,VF].join(" ")},editor:{type:"warning",message:`${r}`}})},jW=(t,r)=>{const a=`${r==="online"?"API":"license"} key`,u=`The editor is disabled because the TinyMCE ${a} could not be validated.`;BF(t,{console:{type:"error",message:[`${u}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${a} to be validated but could not be loaded.`,VF].join(" ")},editor:{type:"warning",message:`${u}`}})},WW=(t,r)=>{const a=`The "${r}" plugin requires a valid TinyMCE license key.`;BF(t,{console:{type:"error",message:[`${a}`,VF].join(" ")}})},GW="licensekeymanager",qW=t=>re(BD(t))?"online":"offline",vie=t=>{const r=Tw(t)?.toLowerCase();return r==="gpl"?"gpl":Fe(r)?"no_key":"non_gpl"},FF=t=>{const r=qW(t),a=vie(t),u=new Set(M1(t)).has(GW);return a!=="gpl"||r==="online"||u?{type:"use_plugin",onlineStatus:r,licenseKeyType:a,forcePlugin:u}:{type:"use_gpl",onlineStatus:r,licenseKeyType:a,forcePlugin:u}},wR=t=>({validate:r=>{const{plugin:a}=r;return re(a)&&WW(t,a),Promise.resolve(!1)}}),bie=t=>({validate:r=>{const{plugin:a}=r,u=re(a);return u&&WW(t,a),Promise.resolve(!u)}}),ZP="manager",ZW=GW,HF=(()=>{const t=Hc();return{load:(f,y)=>{if(FF(f).type==="use_plugin"){const M=`plugins/${ZW}/plugin${y}.js`;t.load(ZP,M).catch(()=>{PF(f,M)})}},add:f=>{t.add(ZP,f)},init:f=>{const y=N=>{Object.defineProperty(f,"licenseKeyManager",{value:N,writable:!1,configurable:!1,enumerable:!0})},T=FF(f),M=t.get(ZP);if(De(M)){const N=M(f,t.urls[ZP]);y(N)}else switch(T.type){case"use_gpl":{y(bie(f));break}case"use_plugin":{UW(f),y(wR(f)),T.onlineStatus==="offline"&&T.licenseKeyType==="no_key"?gie(f):jW(f,T.onlineStatus);break}}f.licenseKeyManager.validate({})}}})(),KW=t=>{Se.from(t.selection.getNode()).each(r=>{r.removeAttribute("data-mce-selected")})},bd=(t,r,a)=>{try{t.getDoc().execCommand(r,!1,String(a))}catch{}},Sie=(t,r)=>{bd(t,"StyleWithCSS",r),bd(t,"enableInlineTableEditing",r),bd(t,"enableObjectResizing",r)},YW=t=>{t.selection.setRng(t.selection.getRng())},KP=(t,r,a)=>{Yb(t,r)&&!a?rl(t,r):a&&wl(t,r)},YP=t=>{const r=Qe.fromDom(t.getBody());KP(r,"mce-content-readonly",!0),t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),KW(t)},$F=t=>{const r=Qe.fromDom(t.getBody());KP(r,"mce-content-readonly",!1),t.hasEditableRoot()&&J(r,!0),Sie(t,!1),FT(t)&&t.focus(),YW(t),t.nodeChanged()},R0=t=>xw(t),n_="data-mce-contenteditable",Cie=t=>{Ze(cn(t,'*[contenteditable="true"]'),r=>{ca(r,n_,"true"),J(r,!1)})},XW=t=>{Ze(cn(t,`*[${n_}="true"]`),r=>{pl(r,n_),J(r,!0)})},UF=(t,r)=>{const a=Qe.fromDom(t.getBody());r?(YP(t),J(a,!1),Cie(a)):(XW(a),$F(t))},rg=t=>{t.serializer?JW(t):t.on("PreInit",()=>{JW(t)})},JW=t=>{t.parser.addAttributeFilter("contenteditable",r=>{R0(t)&&Ze(r,a=>{a.attr(n_,a.attr("contenteditable")),a.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(n_,r=>{R0(t)&&Ze(r,a=>{a.attr("contenteditable",a.attr(n_))})}),t.serializer.addTempAttr(n_)},Eie=t=>t.type==="click",CSe=["copy"],zF=t=>kt(CSe,t.type),wie=(t,r)=>xc(r,"a",u=>_o(u,Qe.fromDom(t.getBody()))).bind(u=>ah(u,"href")),ESe=(t,r)=>{if(Eie(r)&&!yo.metaKeyPressed(r)){const a=Qe.fromDom(r.target);wie(t,a).each(u=>{if(r.preventDefault(),/^#/.test(u)){const f=t.dom.select(`${u},[name="${Oh(u,"#")}"]`);f.length&&t.selection.scrollIntoView(f[0],!0)}else window.open(u,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else zF(r)&&t.dispatch(r.type,r)},_ie=t=>{t.on("ShowCaret ObjectSelected",r=>{R0(t)&&r.preventDefault()}),t.on("DisabledStateChange",r=>{r.isDefaultPrevented()||UF(t,r.state)})},jF=t=>{rg(t),_ie(t)},mb=t=>/^[a-z0-9\-]+$/i.test(t),_R=t=>"content/"+t+"/content.css",XP=t=>tinymce.Resource.has(_R(t)),WF=t=>JP(t,yI(t)),Aie=t=>JP(t,vD(t)),JP=(t,r)=>{const a=t.editorManager.baseURL+"/skins/content",f=`content${t.editorManager.suffix}.css`;return mn(r,y=>XP(y)?y:mb(y)&&!t.inline?`${a}/${y}/${f}`:t.documentBaseURI.toAbsolute(y))},Tie=t=>{t.contentCSS=t.contentCSS.concat(WF(t),Aie(t))},QW=t=>t?jt(t.getElementsByTagName("img")):[],xie=(t,r)=>{const a={};return{findAll:(f,y=Tn)=>{const T=je(QW(f),N=>{const G=N.src;return N.hasAttribute("data-mce-bogus")||N.hasAttribute("data-mce-placeholder")||!G||G===_r.transparentSrc?!1:ms(G,"blob:")?!t.isUploaded(G)&&y(N):ms(G,"data:")?y(N):!1}),M=mn(T,N=>{const G=N.src;if(ts(a,G))return a[G].then(le=>re(le)?le:{image:N,blobInfo:le.blobInfo});{const le=ase(r,G).then(fe=>(delete a[G],{image:N,blobInfo:fe})).catch(fe=>(delete a[G],fe));return a[G]=le,le}});return Promise.all(M)}}},e9=()=>{let a={};const u=(be,Ne)=>({status:be,resultUri:Ne}),f=be=>be in a;return{hasBlobUri:f,getResultUri:be=>{const Ne=a[be];return Ne?Ne.resultUri:null},isPending:be=>f(be)?a[be].status===1:!1,isUploaded:be=>f(be)?a[be].status===2:!1,markPending:be=>{a[be]=u(1,null)},markUploaded:(be,Ne)=>{a[be]=u(2,Ne)},removeFailed:be=>{delete a[be]},destroy:()=>{a={}}}};let GF=0;const Oie=()=>{const t=()=>Math.round(Ju()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+t()+t()+t()},t9=t=>t+GF+++Oie(),Iie=()=>{let t=[];const r=fe=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[fe.toLowerCase()]||"dat",a=(fe,be,Ne,Ke,$e)=>{if(re(fe))return u({id:fe,name:Ke,filename:$e,blob:be,base64:Ne});if(ye(fe))return u(fe);throw new Error("Unknown input type")},u=fe=>{if(!fe.blob||!fe.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const be=fe.id||t9("blobid"),Ne=fe.name||be,Ke=fe.blob;return{id:nt(be),name:nt(Ne),filename:nt(fe.filename||Ne+"."+r(Ke.type)),blob:nt(Ke),base64:nt(fe.base64),blobUri:nt(fe.blobUri||URL.createObjectURL(Ke)),uri:nt(fe.uri)}},f=fe=>{T(fe.id())||t.push(fe)},y=fe=>_t(t,fe).getOrUndefined(),T=fe=>y(be=>be.id()===fe);return{create:a,add:f,get:T,getByUri:fe=>y(be=>be.blobUri()===fe),getByData:(fe,be)=>y(Ne=>Ne.base64()===fe&&Ne.blob().type===be),findFirst:y,removeByUri:fe=>{t=je(t,be=>be.blobUri()===fe?(URL.revokeObjectURL(be.blobUri()),!1):!0)},destroy:()=>{Ze(t,fe=>{URL.revokeObjectURL(fe.blobUri())}),t=[]}}},o_=(t,r)=>{const a={},u=($e,Xe)=>$e?$e.replace(/\/$/,"")+"/"+Xe.replace(/^\//,""):Xe,f=($e,Xe)=>new Promise((wt,Tt)=>{const It=new XMLHttpRequest;It.open("POST",r.url),It.withCredentials=r.credentials,It.upload.onprogress=Mn=>{Xe(Mn.loaded/Mn.total*100)},It.onerror=()=>{Tt("Image upload failed due to a XHR Transport error. Code: "+It.status)},It.onload=()=>{if(It.status<200||It.status>=300){Tt("HTTP Error: "+It.status);return}const Mn=JSON.parse(It.responseText);if(!Mn||!re(Mn.location)){Tt("Invalid JSON: "+It.responseText);return}wt(u(r.basePath,Mn.location))};const fn=new FormData;fn.append("file",$e.blob(),$e.filename()),It.send(fn)}),y=we(r.handler)?r.handler:f,T=()=>new Promise($e=>{$e([])}),M=($e,Xe)=>({url:Xe,blobInfo:$e,status:!0}),N=($e,Xe)=>({url:"",blobInfo:$e,status:!1,error:Xe}),G=($e,Xe)=>{Un.each(a[$e],wt=>{wt(Xe)}),delete a[$e]},le=($e,Xe,wt)=>(t.markPending($e.blobUri()),new Promise(Tt=>{let It,fn;try{const Mn=()=>{It&&(It.close(),fn=gt)},mo=gn=>{Mn(),t.markUploaded($e.blobUri(),gn),G($e.blobUri(),M($e,gn)),Tt(M($e,gn))},Wn=gn=>{Mn(),t.removeFailed($e.blobUri()),G($e.blobUri(),N($e,gn)),Tt(N($e,gn))};fn=gn=>{gn<0||gn>100||Se.from(It).orThunk(()=>Se.from(wt).map(Nn)).each(hn=>{It=hn,hn.progressBar.value(gn)})},Xe($e,fn).then(mo,gn=>{Wn(re(gn)?{message:gn}:gn)})}catch(Mn){Tt(N($e,Mn))}})),fe=$e=>$e===f,be=$e=>{const Xe=$e.blobUri();return new Promise(wt=>{a[Xe]=a[Xe]||[],a[Xe].push(wt)})},Ne=($e,Xe)=>($e=Un.grep($e,wt=>!t.isUploaded(wt.blobUri())),Promise.all(Un.map($e,wt=>t.isPending(wt.blobUri())?be(wt):le(wt,y,Xe))));return{upload:($e,Xe)=>!r.url&&fe(y)?T():Ne($e,Xe)}},qF=t=>()=>t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),n9=(t,r)=>o_(r,{url:Uz(t),basePath:pw(t),credentials:z4(t),handler:zz(t)}),o9=t=>{const r=e9(),a=n9(t,r);return{upload:(u,f=!0)=>a.upload(u,f?qF(t):void 0)}},Rie=(t,r)=>t.dom.isEmpty(r.dom)&&De(t.schema.getTextBlockElements()[Ns(r)]),kie=t=>r=>{Rie(t,r)&&$r(r,Qe.fromHtml('<br data-mce-bogus="1" />'))},Die=t=>{const r=Iie();let a,u;const f=e9(),y=[],T=It=>fn=>t.selection?It(fn):[],M=It=>It+(It.indexOf("?")===-1?"?":"&")+new Date().getTime(),N=(It,fn,Mn)=>{let mo=0;do mo=It.indexOf(fn,mo),mo!==-1&&(It=It.substring(0,mo)+Mn+It.substr(mo+fn.length),mo+=Mn.length-fn.length+1);while(mo!==-1);return It},G=(It,fn,Mn)=>{const mo=`src="${Mn}"${Mn===_r.transparentSrc?' data-mce-placeholder="1"':""}`;return It=N(It,`src="${fn}"`,mo),It=N(It,'data-mce-src="'+fn+'"','data-mce-src="'+Mn+'"'),It},le=(It,fn)=>{Ze(t.undoManager.data,Mn=>{Mn.type==="fragmented"?Mn.fragments=mn(Mn.fragments,mo=>G(mo,It,fn)):Mn.content=G(Mn.content,It,fn)})},fe=(It,fn)=>{const Mn=t.convertURL(fn,"src");le(It.src,fn),Ra(Qe.fromDom(It),{src:Gr(t)?M(fn):fn,"data-mce-src":Mn})},be=()=>(a||(a=n9(t,f)),Xe().then(T(It=>{const fn=mn(It,Mn=>Mn.blobInfo);return a.upload(fn,qF(t)).then(T(Mn=>{const mo=[];let Wn=!1;const gn=mn(Mn,(hn,Pn)=>{const{blobInfo:Lo,image:Os}=It[Pn];let hr=!1;return hn.status&&Hz(t)?(hn.url&&!ea(Os.src,hn.url)&&(Wn=!0),r.removeByUri(Os.src),uv(t)||fe(Os,hn.url)):hn.error&&(hn.error.remove&&(le(Os.src,_r.transparentSrc),mo.push(Os),hr=!0),fm(t,hn.error.message)),{element:Os,status:hn.status,uploadUri:hn.url,blobInfo:Lo,removed:hr}});return mo.length>0&&!uv(t)?t.undoManager.transact(()=>{Ze(lh(mo),hn=>{const Pn=Iu(hn);Di(hn),Pn.each(kie(t)),r.removeByUri(hn.dom.src)})}):Wn&&t.undoManager.dispatchChange(),gn}))}))),Ne=()=>D1(t)?be():Promise.resolve([]),Ke=It=>bs(y,fn=>fn(It)),$e=It=>{y.push(It)},Xe=()=>(u||(u=xie(f,r)),u.findAll(t.getBody(),Ke).then(T(It=>{const fn=je(It,Mn=>re(Mn)?($C(t,Mn),!1):Mn.uriType!=="blob");return uv(t)||Ze(fn,Mn=>{le(Mn.image.src,Mn.blobInfo.blobUri()),Mn.image.src=Mn.blobInfo.blobUri(),Mn.image.removeAttribute("data-mce-src")}),fn}))),wt=()=>{r.destroy(),f.destroy(),u=a=null},Tt=It=>It.replace(/src="(blob:[^"]+)"/g,(fn,Mn)=>{const mo=f.getResultUri(Mn);if(mo)return'src="'+mo+'"';let Wn=r.getByUri(Mn);return Wn||(Wn=rn(t.editorManager.get(),(gn,hn)=>gn||hn.editorUpload&&hn.editorUpload.blobCache.getByUri(Mn),void 0)),Wn?'src="data:'+Wn.blob().type+";base64,"+Wn.base64()+'"':fn});return t.on("SetContent",()=>{D1(t)?Ne():Xe()}),t.on("RawSaveContent",It=>{It.content=Tt(It.content)}),t.on("GetContent",It=>{It.source_view||It.format==="raw"||It.format==="tree"||(It.content=Tt(It.content))}),t.on("PostRender",()=>{t.parser.addNodeFilter("img",It=>{Ze(It,fn=>{const Mn=fn.attr("src");if(!Mn||r.getByUri(Mn))return;const mo=f.getResultUri(Mn);mo&&fn.attr("src",mo)})})}),{blobCache:r,addFilter:$e,uploadImages:be,uploadImagesAuto:Ne,scanForImages:Xe,destroy:wt}},Mie=t=>{const r=t.dom,a=t.schema.type,u={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:f=>{r.setStyle(f,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:f=>{r.setStyle(f,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const f={inline:"span",styles:{textDecoration:"line-through"},exact:!0},y={inline:"strike",remove:"all",preserve_attributes:["class","style"]},T={inline:"s",remove:"all",preserve_attributes:["class","style"]};return a!=="html4"?[T,f,y]:[f,T,y]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(f,y,T)=>Oo(f)&&f.hasAttribute("href"),onformat:(f,y,T)=>{Un.each(T,(M,N)=>{r.setAttrib(f,N,M)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":f=>f?.customValue??null}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Un.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),f=>{u[f]={block:f,remove:"all"}}),u},s9={remove_similar:!0,inherit:!1},s_={selector:"td,th",...s9},Pie={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...s_},tablecellverticalalign:{styles:{"vertical-align":"%value"},...s_},tablecellbordercolor:{styles:{borderColor:"%value"},...s_},tablecellclass:{classes:["%value"],...s_},tableclass:{selector:"table",classes:["%value"],...s9},tablecellborderstyle:{styles:{borderStyle:"%value"},...s_},tablecellborderwidth:{styles:{borderWidth:"%value"},...s_}},ZF=nt(Pie),UC=t=>{const r={},a=T=>De(T)?r[T]:r,u=T=>ts(r,T),f=(T,M)=>{T&&(re(T)?(Oe(M)||(M=[M]),Ze(M,N=>{ot(N.deep)&&(N.deep=!an(N)),ot(N.split)&&(N.split=!an(N)||Sn(N)),ot(N.remove)&&an(N)&&!Sn(N)&&(N.remove="none"),an(N)&&Sn(N)&&(N.mixed=!0,N.block_expand=!0),re(N.classes)&&(N.classes=N.classes.split(/\s+/))}),r[T]=M):eo(T,(N,G)=>{f(G,N)}))},y=T=>(T&&r[T]&&delete r[T],r);return f(Mie(t)),f(ZF()),f(G4(t)),{get:a,has:u,register:f,unregister:y}},QP=Un.each,dv=mi.DOM,r_=t=>De(t)&&ye(t),KF=(t,r)=>{const a=r&&r.schema||yf({}),u=(N,G)=>{G.classes.length>0&&dv.addClass(N,G.classes.join(" ")),dv.setAttribs(N,G.attrs)},f=N=>{const G=re(N)?{name:N,classes:[],attrs:{}}:N,le=dv.create(G.name);return u(le,G),le},y=(N,G)=>{const fe=a.getElementRule(N.nodeName.toLowerCase())?.parentsRequired;return fe&&fe.length?G&&kt(fe,G)?G:fe[0]:!1},T=(N,G,le)=>{let fe;const be=G[0],Ne=r_(be)?be.name:void 0,Ke=y(N,Ne);if(Ke)Ne===Ke?(fe=be,G=G.slice(1)):fe=Ke;else if(be)fe=be,G=G.slice(1);else if(!le)return N;const $e=fe?f(fe):dv.create("div");$e.appendChild(N),le&&Un.each(le,wt=>{const Tt=f(wt);$e.insertBefore(Tt,N)});const Xe=r_(fe)?fe.siblings:void 0;return T($e,G,Xe)},M=dv.create("div");if(t.length>0){const N=t[0],G=f(N),le=r_(N)?N.siblings:void 0;M.appendChild(T(G,t.slice(1),le))}return M},r9=t=>{t=Un.trim(t);let r="div";const a={name:r,classes:[],attrs:{},selector:t};return t!=="*"&&(r=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(u,f,y,T,M)=>{switch(f){case"#":a.attrs.id=y;break;case".":a.classes.push(y);break;case":":Un.inArray("checked disabled enabled read-only required".split(" "),y)!==-1&&(a.attrs[y]=y);break}if(T==="["){const N=M.match(/([\w\-]+)(?:\=\"([^\"]+))?/);N&&(a.attrs[N[1]]=N[2])}return""})),a.name=r||"div",a},i9=t=>re(t)?(t=t.split(/\s*,\s*/)[0],t=t.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Un.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),r=>{const a=Un.map(r.split(/(?:~\+|~|\+)/),r9),u=a.pop();return a.length&&(u.siblings=a),u}).reverse()):[],eN=(t,r)=>{let a="",u=vw(t);if(u==="")return"";const f=be=>re(be)?be.replace(/%(\w+)/g,""):"",y=(be,Ne)=>dv.getStyle(Ne??t.getBody(),be,!0);if(re(r)){const be=t.formatter.get(r);if(!be)return"";r=be[0]}if("preview"in r){const be=r.preview;if(be===!1)return"";u=be||u}let T=r.block||r.inline||"span",M;const N=i9(r.selector);N.length>0?(N[0].name||(N[0].name=T),T=r.selector,M=KF(N,t)):M=KF([T],t);const G=dv.select(T,M)[0]||M.firstChild;QP(r.styles,(be,Ne)=>{const Ke=f(be);Ke&&dv.setStyle(G,Ne,Ke)}),QP(r.attributes,(be,Ne)=>{const Ke=f(be);Ke&&dv.setAttrib(G,Ne,Ke)}),QP(r.classes,be=>{const Ne=f(be);dv.hasClass(G,Ne)||dv.addClass(G,Ne)}),t.dispatch("PreviewFormats"),dv.setStyles(M,{position:"absolute",left:-65535}),t.getBody().appendChild(M);const le=y("fontSize"),fe=/px$/.test(le)?parseInt(le,10):0;return QP(u.split(" "),be=>{let Ne=y(be,G);if(!(be==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Ne)&&(Ne=y(be),py(Ne).toLowerCase()==="#ffffff"))&&!(be==="color"&&py(Ne).toLowerCase()==="#000000")){if(be==="font-size"&&/em|%$/.test(Ne)){if(fe===0)return;Ne=parseFloat(Ne)/(/%$/.test(Ne)?100:1)*fe+"px"}be==="border"&&Ne&&(a+="padding:0 2px;"),a+=be+":"+Ne+";"}}),t.dispatch("AfterPreviewFormats"),dv.remove(M),a},a9=t=>{t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(let r=1;r<=6;r++)t.addShortcut("access+"+r,"",["FormatBlock",!1,"h"+r]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])},l9=t=>{const r=UC(t),a=$o({});return a9(t),JI(t),uv(t)||yre(a,t),{get:r.get,has:r.has,register:r.register,unregister:r.unregister,apply:(u,f,y)=>{yW(t,u,f,y)},remove:(u,f,y,T)=>{SW(t,u,f,y,T)},toggle:(u,f,y)=>{CW(t,u,f,y)},match:(u,f,y,T)=>rie(t,u,f,y,T),closest:u=>VP(t,u),matchAll:(u,f)=>gW(t,u,f),matchNode:(u,f,y,T)=>vW(t,u,f,y,T),canApply:u=>bW(t,u),formatChanged:(u,f,y,T)=>EW(t,a,u,f,y,T),getCssText:st(eN,t)}},YF=t=>{switch(t.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Nie=(t,r,a)=>{const u=$o(!1),f=N=>{NP(r,!1,a),r.add({},N)};t.on("init",()=>{r.add()}),t.on("BeforeExecCommand",N=>{const G=N.command;YF(G)||(aW(r,a),r.beforeChange())}),t.on("ExecCommand",N=>{const G=N.command;YF(G)||f(N)}),t.on("ObjectResizeStart cut",()=>{r.beforeChange()}),t.on("SaveContent ObjectResized blur",f),t.on("dragend",f),t.on("keyup",N=>{const G=N.keyCode;if(N.isDefaultPrevented())return;const le=_r.os.isMacOS()&&N.key==="Meta";(G>=33&&G<=36||G>=37&&G<=40||G===45||N.ctrlKey||le)&&(f(),t.nodeChanged()),(G===46||G===8)&&t.nodeChanged(),u.get()&&r.typing&&!MP(kP(t),r.data[0])&&(t.isDirty()||t.setDirty(!0),t.dispatch("TypingUndo"),u.set(!1),t.nodeChanged())}),t.on("keydown",N=>{const G=N.keyCode;if(N.isDefaultPrevented())return;if(G>=33&&G<=36||G>=37&&G<=40||G===45){r.typing&&f(N);return}const le=N.ctrlKey&&!N.altKey||N.metaKey;if((G<16||G>20)&&G!==224&&G!==91&&!r.typing&&!le){r.beforeChange(),NP(r,!0,a),r.add({},N),u.set(!0);return}(_r.os.isMacOS()?N.metaKey:N.ctrlKey&&!N.altKey)&&r.beforeChange()}),t.on("mousedown",N=>{r.typing&&f(N)});const y=N=>N.inputType==="insertReplacementText",T=N=>N.inputType==="insertText"&&N.data===null,M=N=>N.inputType==="insertFromPaste"||N.inputType==="insertFromDrop";t.on("input",N=>{N.inputType&&(y(N)||T(N)||M(N))&&f(N)}),t.on("AddUndo Undo Redo ClearUndos",N=>{N.isDefaultPrevented()||t.nodeChanged()})},Lie=t=>{t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")},AR=t=>{const r=_c(),a=$o(0),u=$o(0),f={data:[],typing:!1,beforeChange:()=>{BP(t,a,r)},add:(y,T)=>vF(t,f,u,a,r,y,T),dispatchChange:()=>{t.setDirty(!0);const y=kP(t);y.bookmark=uw(t.selection),t.dispatch("change",{level:y,lastLevel:bt(f.data,u.get()).getOrUndefined()})},undo:()=>uW(t,f,a,u),redo:()=>dW(t,u,f.data),clear:()=>{hW(t,f,u)},reset:()=>{fW(t,f)},hasUndo:()=>pW(t,f,u),hasRedo:()=>Jw(t,f,u),transact:y=>mW(t,f,a,y),ignore:y=>{bF(t,a,y)},extra:(y,T)=>{sie(t,f,u,y,T)}};return uv(t)||Nie(t,f,a),Lie(t),f},c9=[9,27,yo.HOME,yo.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,yo.DOWN,yo.UP,yo.LEFT,yo.RIGHT].concat(_r.browser.isFirefox()?[224]:[]),XF="data-mce-placeholder",TR=t=>t.type==="keydown"||t.type==="keyup",u9=t=>{const r=t.keyCode;return r===yo.BACKSPACE||r===yo.DELETE},Bie=t=>{if(TR(t)){const r=t.keyCode;return!u9(t)&&(yo.metaKeyPressed(t)||t.altKey||r>=112&&r<=123||kt(c9,r))}else return!1},Vie=t=>TR(t)&&!(u9(t)||t.type==="keyup"&&t.keyCode===229),d9=(t,r,a)=>{if(t.isEmpty(r,void 0,{skipBogus:!1,includeZwsp:!0})){const u=r.firstElementChild;return u?t.getStyle(r.firstElementChild,"padding-left")||t.getStyle(r.firstElementChild,"padding-right")?!1:a===u.nodeName.toLowerCase():!0}else return!1},JF=t=>{const r=t.dom,a=Uu(t),u=yD(t)??"",f=(y,T)=>{if(Bie(y))return;const M=t.getBody(),N=Vie(y)?!1:d9(r,M,a);(r.getAttrib(M,XF)!==""!==N||T)&&(r.setAttrib(M,XF,N?u:null),B4(t,N),t.on(N?"keydown":"keyup",f),t.off(N?"keyup":"keydown",f))};fi(u)&&t.on("init",y=>{f(y,!0),t.on("change SetContent ExecCommand",f),t.on("paste",T=>tg.setEditorTimeout(t,()=>f(T)))})},Fie=t=>r=>De(r)&&r.nodeName.toLowerCase()===t,xR=t=>r=>De(r)&&t.test(r.nodeName),k0=t=>De(t)&&t.nodeType===3,h9=t=>De(t)&&t.nodeType===1,hv=xR(/^(OL|UL|DL)$/),OR=xR(/^(OL|UL)$/),ig=xR(/^(LI|DT|DD)$/),Hie=xR(/^(DT|DD)$/),nS=Fie("br"),Bl=t=>t.parentNode?.firstChild===t,IR=(t,r)=>De(r)&&r.nodeName in t.schema.getTextBlockElements(),nx=(t,r)=>De(t)&&t.nodeName in r,oS=(t,r)=>De(r)&&r.nodeName in t.schema.getVoidElements(),f9=(t,r)=>nS(r)?t.isBlock(r.nextSibling)&&!nS(r.previousSibling):!1,sS=(t,r,a)=>{const u=t.isEmpty(r);return a&&t.select("span[data-mce-type=bookmark]",r).length>0?!1:u},p9=(t,r)=>t.isChildOf(r,t.getRoot()),i_=mi.DOM,$ie=(t,r)=>{const a=r.parentElement;if(a&&a.nodeName==="LI"&&a.firstChild===r){const u=a.previousSibling;u&&u.nodeName==="LI"?(u.appendChild(r),sS(t,a)&&i_.remove(a)):i_.setStyle(a,"listStyleType","none")}if(hv(a)){const u=a.previousSibling;u&&u.nodeName==="LI"&&u.appendChild(r)}},QF=(t,r)=>{const a=Un.grep(t.select("ol,ul",r));Un.each(a,u=>{$ie(t,u)})},a_=(t,r)=>{if(k0(t))return{container:t,offset:r};const a=_0.getNode(t,r);return k0(a)?{container:a,offset:r>=t.childNodes.length?a.data.length:0}:a.previousSibling&&k0(a.previousSibling)?{container:a.previousSibling,offset:a.previousSibling.data.length}:a.nextSibling&&k0(a.nextSibling)?{container:a.nextSibling,offset:0}:{container:t,offset:r}},eH=t=>{const r=t.cloneRange(),a=a_(t.startContainer,t.startOffset);r.setStart(a.container,a.offset);const u=a_(t.endContainer,t.endOffset);return r.setEnd(u.container,u.offset),r},zC=["OL","UL","DL"],m9=zC.join(","),gb=(t,r)=>{const a=t.selection.getStart(!0);return t.dom.getParent(a,m9,RR(t,a))},Uie=(t,r)=>De(t)&&r.length===1&&r[0]===t,fv=t=>je(t.querySelectorAll(m9),hv),l_=t=>{const r=gb(t),a=t.selection.getSelectedBlocks();return Uie(r,a)?fv(r):je(a,u=>hv(u)&&r!==u)},zie=(t,r)=>{const a=Un.map(r,u=>{const f=t.dom.getParent(u,"li,dd,dt",RR(t,u));return f||u});return Jn(a)},c_=t=>{const r=t.selection.getSelectedBlocks();return je(zie(t,r),ig)},tH=t=>je(c_(t),Hie),nH=(t,r)=>{const a=t.dom.getParents(r,"TD,TH");return a.length>0?a[0]:t.getBody()},ox=(t,r)=>!hv(r)&&!ig(r)&&bn(zC,a=>t.isValidChild(r.nodeName,a)),RR=(t,r)=>{const a=t.dom.getParents(r,t.dom.isBlock),u=y=>y.nodeName.toLowerCase()!==Uu(t);return _t(a,y=>u(y)&&ox(t.schema,y)).getOr(t.getBody())},vb=t=>Iu(t).exists(r=>ig(r.dom)&&Wl(r).exists(a=>!hv(a.dom))&&Ga(r).exists(a=>!hv(a.dom))),kR=(t,r)=>{const a=t.dom.getParents(r,"ol,ul",RR(t,r));return Jt(a)},g9=t=>{const r=kR(t,t.selection.getStart()),a=je(t.selection.getSelectedBlocks(),OR);return r.toArray().concat(a)},oH=t=>{const r=t.selection.getStart();return t.dom.getParents(r,"ol,ul",RR(t,r))},sH=t=>{const r=g9(t),a=oH(t);return _t(a,u=>vb(Qe.fromDom(u))).fold(()=>u_(t,r),u=>[u])},u_=(t,r)=>{const a=mn(r,u=>kR(t,u).getOr(u));return Jn(a)},sx=t=>/\btox\-/.test(t.className),v9=(t,r)=>r!==null&&!t.dom.isEditable(r),jie=t=>{const r=gb(t);return v9(t,r)||!t.selection.isEditable()},rH=(t,r)=>{const a=t.dom.getParent(r,"ol,ul,dl");return v9(t,a)||!t.selection.isEditable()},d_=(t,r,a)=>t.dispatch("ListMutation",{action:r,element:a}),b9=(t,r,a={})=>{const u=t.dom,f=t.schema.getBlockElements(),y=u.createFragment(),T=Uu(t),M=vC(t);let N,G,le=!1;for(G=u.create(T,{...M,...a.style?{style:a.style}:{}}),nx(r.firstChild,f)||y.appendChild(G);N=r.firstChild;){const fe=N.nodeName;!le&&(fe!=="SPAN"||N.getAttribute("data-mce-type")!=="bookmark")&&(le=!0),nx(N,f)?(y.appendChild(N),G=null):(G||(G=u.create(T,M),y.appendChild(G)),G.appendChild(N))}return!le&&G&&G.appendChild(u.create("br",{"data-mce-bogus":"1"})),y},DR=t=>bl(t,"OL,UL"),rx=t=>bl(t,"LI"),bb=t=>Wl(t).exists(DR),Wie=t=>Ga(t).exists(DR),Gie=(t,r)=>VD(t).map(a=>a>=r).getOr(!0),h_=t=>"listAttributes"in t,y9=t=>"isComment"in t,qie=t=>"isFragment"in t,S9=t=>t.depth>0,Zie=t=>t.isSelected,Kie=t=>{const r=pr(t),a=Wie(t)?r.slice(0,-1):r;return mn(a,cf)},Yie=(t,r,a)=>Iu(t).filter(na).map(u=>({depth:r,dirty:!1,isSelected:a,content:Kie(t),itemAttributes:Sr(t),listAttributes:Sr(u),listType:Ns(u),isInPreviousLi:!1})),Xie=(t,r)=>{$r(t.item,r.list)},Jie=t=>{for(let r=1;r<t.length;r++)Xie(t[r-1],t[r])},Qie=(t,r)=>{wr(Jt(t),Vt(r),Xie)},eae=(t,r)=>{const a={list:Qe.fromTag(r,t),item:Qe.fromTag("li",t)};return $r(a.list,a.item),a},tae=(t,r,a)=>{const u=[];for(let f=0;f<a;f++)u.push(eae(t,h_(r)?r.listType:r.parentListType));return u},nae=(t,r)=>{for(let a=0;a<t.length-1;a++)Lc(t[a].item,"list-style-type","none");Jt(t).each(a=>{h_(r)&&(Ra(a.list,r.listAttributes),Ra(a.item,r.itemAttributes)),ih(a.item,r.content)})},oae=(t,r)=>{Ns(t.list)!==r.listType&&(t.list=Up(t.list,r.listType)),Ra(t.list,r.listAttributes)},jC=(t,r,a)=>{const u=Qe.fromTag("li",t);return Ra(u,r),ih(u,a),u},sae=(t,r)=>{$r(t.list,r),t.item=r},C9=(t,r,a)=>{const u=r.slice(0,a.depth);return Jt(u).each(f=>{if(h_(a)){const y=jC(t,a.itemAttributes,a.content);sae(f,y),oae(f,a)}else if(qie(a))ih(f.item,a.content);else{const y=Qe.fromHtml(`<!--${a.content}-->`);$r(f.list,y)}}),u},iH=(t,r,a)=>{const u=tae(t,a,a.depth-r.length);return Jie(u),nae(u,a),Qie(r,u),r.concat(u)},E9=(t,r)=>{let a=Se.none();const u=rn(r,(f,y,T)=>y9(y)?T===0?(a=Se.some(y),f):C9(t,f,y):y.depth>f.length?iH(t,f,y):C9(t,f,y),[]);return a.each(f=>{const y=Qe.fromHtml(`<!--${f.content}-->`);Vt(u).each(T=>{np(T.list,y)})}),Vt(u).map(f=>f.list)},aH=(t,r,a)=>{switch(r){case"Indent":if(Gie(t,a.depth))a.depth++;else return;break;case"Outdent":a.depth--;break;case"Flatten":a.depth=0}a.dirty=!0},rae=(t,r)=>{h_(t)&&h_(r)&&(t.listType=r.listType,t.listAttributes={...r.listAttributes})},iae=t=>{t.listAttributes=or(t.listAttributes,(r,a)=>a!=="start")},aae=(t,r)=>{const a=t[r].depth,u=y=>y.depth===a&&!y.dirty,f=y=>y.depth<a;return Ht(Ps(t.slice(0,r)),u,f).orThunk(()=>Ht(t.slice(r+1),u,f))},w9=t=>(Ze(t,(r,a)=>{aae(t,a).fold(()=>{r.dirty&&h_(r)&&iae(r)},u=>rae(r,u))}),t),_9=(t,r,a,u)=>{if(Wa(u))return[{depth:t+1,content:u.dom.nodeValue??"",dirty:!1,isSelected:!1,isComment:!0}];r.each(T=>{_o(T.start,u)&&a.set(!0)});const f=Yie(u,t,a.get());r.each(T=>{_o(T.end,u)&&a.set(!1)});const y=Ga(u).filter(DR).map(T=>tN(t,r,a,T)).getOr([]);return f.toArray().concat(y)},lae=(t,r,a,u)=>Wl(u).filter(DR).fold(()=>_9(t,r,a,u),f=>{const y=rn(pr(u),(T,M,N)=>{if(N===0)return T;if(rx(M))return T.concat(_9(t,r,a,M));{const G={isFragment:!0,depth:t,content:[M],isSelected:!1,dirty:!1,parentListType:Ns(f)};return T.concat(G)}},[]);return tN(t,r,a,f).concat(y)}),tN=(t,r,a,u)=>Io(pr(u),f=>{const y=DR(f)?tN:lae,T=t+1;return y(T,r,a,f)}),cae=(t,r)=>{const a=$o(!1),u=0;return mn(t,f=>({sourceList:f,entries:tN(u,r,a,f)}))},uae=(t,r)=>{const a=w9(r);return mn(a,u=>{const f=y9(u)?hf([Qe.fromHtml(`<!--${u.content}-->`)]):hf(u.content),y=h_(u)?u.itemAttributes:{};return Qe.fromDom(b9(t,f.dom,y))})},dae=(t,r)=>{const a=w9(r);return E9(t.contentDocument,a).toArray()},hae=(t,r)=>Io(Lt(r,S9),a=>Vt(a).exists(S9)?dae(t,a):uae(t,a)),fae=(t,r,a)=>{Ze(je(r,Zie),u=>aH(t,a,u))},pae=t=>{const r=mn(c_(t),Qe.fromDom);return wr(_t(r,vn(bb)),_t(Ps(r),vn(bb)),(a,u)=>({start:a,end:u}))},mae=(t,r,a)=>{const u=cae(r,pae(t));Ze(u,f=>{fae(t,f.entries,a);const y=hae(t,f.entries);Ze(y,T=>{d_(t,a==="Indent"?"IndentList":"OutdentList",T.dom)}),l1(f.sourceList,y),Di(f.sourceList)})},gae=t=>VD(t).forall(r=>{const a=t.selection.getSelectedBlocks();return bn(a,u=>xc(Qe.fromDom(u),"li").forall(f=>St(f,"ol,ul").length<=r))}),WC=mi.DOM,vae=(t,r,a)=>{const u=G=>{const le=G.parentNode;le&&Un.each(f,fe=>{le.insertBefore(fe,a.parentNode)}),WC.remove(G)},f=WC.select('span[data-mce-type="bookmark"]',r),y=b9(t,a),T=WC.createRng();T.setStartAfter(a),T.setEndAfter(r);const M=T.extractContents();for(let G=M.firstChild;G;G=G.firstChild)if(G.nodeName==="LI"&&t.dom.isEmpty(G)){WC.remove(G);break}t.dom.isEmpty(M)||WC.insertAfter(M,r),WC.insertAfter(y,r);const N=a.parentElement;N&&sS(t.dom,N)&&u(N),WC.remove(a),sS(t.dom,r)&&WC.remove(r)},bae=yl("dd"),A9=yl("dt"),yae=(t,r)=>{bae(r)?Up(r,"dt"):A9(r)&&Ru(r).each(a=>vae(t,a.dom,r.dom))},T9=t=>{A9(t)&&Up(t,"dd")},Sae=(t,r,a)=>{r==="Indent"?Ze(a,T9):Ze(a,u=>yae(t,u))},Cae=(t,r)=>{const a=lh(sH(t)),u=lh(tH(t));let f=!1;if(a.length||u.length){const y=t.selection.getBookmark();mae(t,a,r),Sae(t,r,u),t.selection.moveToBookmark(y),t.selection.setRng(eH(t.selection.getRng())),t.nodeChanged(),f=!0}return f},lH=(t,r)=>!jie(t)&&Cae(t,r),x9=t=>lH(t,"Indent"),cH=t=>lH(t,"Outdent"),nN=t=>lH(t,"Flatten"),ix=t=>{switch(t){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Eae=(t,r,a)=>{const u=a["list-style-type"]?a["list-style-type"]:null;t.setStyle(r,"list-style-type",u)},uH=(t,r)=>{Un.each(r,(a,u)=>{t.setAttribute(u,a)})},wae=(t,r,a)=>{uH(r,a["list-attributes"]),Un.each(t.select("li",r),u=>{uH(u,a["list-item-attributes"])})},ax=(t,r,a)=>{Eae(t,r,a),wae(t,r,a)},_ae=(t,r,a)=>{Un.each(a,u=>t.setStyle(r,u,""))},oN=(t,r)=>De(r)&&!nx(r,t.schema.getBlockElements()),dH=(t,r,a,u)=>{let f=r[a?"startContainer":"endContainer"];const y=r[a?"startOffset":"endOffset"];h9(f)&&(f=f.childNodes[Math.min(y,f.childNodes.length-1)]||f),!a&&nS(f.nextSibling)&&(f=f.nextSibling);const T=N=>{for(;!t.dom.isBlock(N)&&N.parentNode&&u!==N;)N=N.parentNode;return N},M=(N,G)=>{const le=new Zi(N,T(N)),fe=G?"next":"prev";let be;for(;be=le[fe]();)if(!(oS(t,be)||$l(be.textContent)||be.textContent?.length===0))return Se.some(be);return Se.none()};if(a&&k0(f))if($l(f.textContent))f=M(f,!1).getOr(f);else for(f.parentNode!==null&&oN(t,f.parentNode)&&(f=f.parentNode);f.previousSibling!==null&&(oN(t,f.previousSibling)||k0(f.previousSibling));)f=f.previousSibling;if(!a&&k0(f))if($l(f.textContent))f=M(f,!0).getOr(f);else for(f.parentNode!==null&&oN(t,f.parentNode)&&(f=f.parentNode);f.nextSibling!==null&&(oN(t,f.nextSibling)||k0(f.nextSibling));)f=f.nextSibling;for(;f.parentNode!==u;){const N=f.parentNode;if(IR(t,f)||/^(TD|TH)$/.test(N.nodeName))return f;f=N}return f},Aae=(t,r,a)=>{const u=[],f=t.dom,y=dH(t,r,!0,a),T=dH(t,r,!1,a);let M;const N=[];for(let G=y;G&&(N.push(G),G!==T);G=G.nextSibling);return Un.each(N,G=>{if(IR(t,G)){u.push(G),M=null;return}if(f.isBlock(G)||nS(G)){nS(G)&&f.remove(G),M=null;return}const le=G.nextSibling;if(Hw.isBookmarkNode(G)&&(hv(le)||IR(t,le)||!le&&G.parentNode===a)){M=null;return}M||(M=f.create("p"),G.parentNode?.insertBefore(M,G),u.push(M)),M.appendChild(G)}),u},Tae=(t,r,a)=>{const u=t.getStyle(r,"list-style-type");let f=a?a["list-style-type"]:"";return f=f===null?"":f,u===f},xae=(t,r)=>{const a=t.selection.getStart(!0),u=dH(t,r,!0,t.getBody());return Ss(Qe.fromDom(u),Qe.fromDom(r.commonAncestorContainer))?r.commonAncestorContainer:a},hH=(t,r,a)=>{const u=t.selection.getRng();let f="LI";const y=RR(t,xae(t,u)),T=t.dom;if(T.getContentEditable(t.selection.getNode())==="false")return;r=r.toUpperCase(),r==="DL"&&(f="DT");const M=Y1(u),N=je(Aae(t,u,y),t.dom.isEditable);Un.each(N,G=>{let le;const fe=G.previousSibling,be=G.parentNode;ig(be)||(fe&&hv(fe)&&fe.nodeName===r&&Tae(T,fe,a)?(le=fe,G=T.rename(G,f),fe.appendChild(G)):(le=T.create(r),be.insertBefore(le,G),le.appendChild(G),G=T.rename(G,f)),_ae(T,G,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ax(T,le,a),sN(t.dom,le))}),t.selection.setRng(Uc(M))},O9=(t,r)=>hv(t)&&t.nodeName===r?.nodeName,I9=(t,r,a)=>{const u=t.getStyle(r,"list-style-type",!0),f=t.getStyle(a,"list-style-type",!0);return u===f},R9=(t,r)=>t.className===r.className,Oae=(t,r,a)=>O9(r,a)&&I9(t,r,a)&&R9(r,a),sN=(t,r)=>{let a,u=r.nextSibling;if(Oae(t,r,u)){const f=u;for(;a=f.firstChild;)r.appendChild(a);t.remove(f)}if(u=r.previousSibling,Oae(t,r,u)){const f=u;for(;a=f.lastChild;)r.insertBefore(a,r.firstChild);t.remove(f)}},Iae=(t,r,a,u)=>{if(r.nodeName!==a){const f=t.dom.rename(r,a);ax(t.dom,f,u),d_(t,ix(a),f)}else ax(t.dom,r,u),d_(t,ix(a),r)},k9=(t,r,a,u)=>{if(r.classList.forEach((f,y,T)=>{f.startsWith("tox-")&&(T.remove(f),T.length===0&&r.removeAttribute("class"))}),r.nodeName!==a){const f=t.dom.rename(r,a);ax(t.dom,f,u),d_(t,ix(a),f)}else ax(t.dom,r,u),d_(t,ix(a),r)},Rae=(t,r,a,u,f)=>{const y=hv(r);if(y&&r.nodeName===u&&!D9(f)&&!sx(r))nN(t);else{hH(t,u,f);const T=Y1(t.selection.getRng()),M=y?[r,...a]:a,N=y&&sx(r)?k9:Iae;Un.each(M,G=>{N(t,G,u,f)}),t.selection.setRng(Uc(T))}},D9=t=>"list-style-type"in t,kae=(t,r,a,u)=>{if(r!==t.getBody())if(r)if(r.nodeName===a&&!D9(u)&&!sx(r))nN(t);else{const f=Y1(t.selection.getRng());sx(r)&&r.classList.forEach((T,M,N)=>{T.startsWith("tox-")&&(N.remove(T),N.length===0&&r.removeAttribute("class"))}),ax(t.dom,r,u);const y=t.dom.rename(r,a);sN(t.dom,y),t.selection.setRng(Uc(f)),hH(t,a,u),d_(t,ix(a),y)}else hH(t,a,u),d_(t,ix(a),r)},fH=(t,r,a)=>{const u=gb(t);if(rH(t,u))return;const f=l_(t),y=ye(a)?a:{};f.length>0?Rae(t,u,f,r,y):kae(t,u,r,y)},M9=(t,r,a,u)=>{let f=r.startContainer;const y=r.startOffset;if(k0(f)&&(a?y<f.data.length:y>0))return f;const T=t.schema.getNonEmptyElements();h9(f)&&(f=_0.getNode(f,y));const M=new Zi(f,u);a&&f9(t.dom,f)&&M.next();const N=a?M.next.bind(M):M.prev2.bind(M);for(;f=N();)if(f.nodeName==="LI"&&!f.hasChildNodes()||T[f.nodeName]||k0(f)&&f.data.length>0)return f;return null},P9=(t,r)=>{const a=r.childNodes;return a.length===1&&!hv(a[0])&&t.isBlock(a[0])},pH=t=>Se.from(t).map(Qe.fromDom).filter(Mh).exists(r=>Nu(r)&&!kt(["details"],Ns(r))),mH=(t,r)=>{P9(t,r)&&pH(r.firstChild)&&t.remove(r.firstChild,!0)},N9=(t,r,a)=>{let u;const f=P9(t,a)?a.firstChild:a;if(mH(t,r),!sS(t,r,!0))for(;u=r.firstChild;)f.appendChild(u)},rN=(t,r,a)=>{let u;const f=r.parentNode;if(!p9(t,r)||!p9(t,a))return;hv(a.lastChild)&&(u=a.lastChild),f===a.lastChild&&nS(f.previousSibling)&&t.remove(f.previousSibling);const y=a.lastChild;y&&nS(y)&&r.hasChildNodes()&&t.remove(y),sS(t,a,!0)&&sd(Qe.fromDom(a)),N9(t,r,a),u&&a.appendChild(u);const M=Xr(Qe.fromDom(a),Qe.fromDom(r))?t.getParents(r,hv,a):[];t.remove(r),Ze(M,N=>{sS(t,N)&&N!==t.getRoot()&&t.remove(N)})},Dae=(t,r,a)=>{sd(Qe.fromDom(a)),rN(t.dom,r,a),t.selection.setCursorLocation(a,0)},Mae=(t,r,a,u)=>{const f=t.dom;if(f.isEmpty(u))Dae(t,a,u);else{const y=Y1(r);rN(f,a,u),t.selection.setRng(Uc(y))}},Pae=(t,r,a,u)=>{const f=Y1(r);rN(t.dom,a,u);const y=Uc(f);t.selection.setRng(y)},Nae=(t,r)=>{const a=t.dom,u=t.selection,f=u.getStart(),y=nH(t,f),T=a.getParent(u.getStart(),"LI",y);if(T){const M=T.parentElement;if(M===t.getBody()&&sS(a,M))return!0;const N=eH(u.getRng()),G=a.getParent(M9(t,N,r,y),"LI",y),le=G&&(r?a.isChildOf(T,G):a.isChildOf(G,T));if(G&&G!==T&&!le)return t.undoManager.transact(()=>{r?Mae(t,N,G,T):Bl(T)?cH(t):Pae(t,N,T,G)}),!0;if(le&&!r&&G!==T){const fe=N.commonAncestorContainer.parentElement;return!fe||a.isChildOf(G,fe)?!1:(t.undoManager.transact(()=>{const be=Y1(N);N9(a,fe,G),fe.remove();const Ne=Uc(be);t.selection.setRng(Ne)}),!0)}else if(!G&&!r&&N.startOffset===0&&N.endOffset===0)return t.undoManager.transact(()=>{nN(t)}),!0}return!1},Lae=(t,r,a)=>{const u=t.getParent(r.parentNode,t.isBlock,a);t.remove(r),u&&t.isEmpty(u)&&t.remove(u)},Bae=(t,r)=>{const a=t.dom,u=t.selection.getStart(),f=nH(t,u),y=a.getParent(u,a.isBlock,f);if(y&&a.isEmpty(y,void 0,{checkRootAsContent:!0})){const T=eH(t.selection.getRng()),M=M9(t,T,r,f),N=a.getParent(M,"LI",f);if(M&&N){const G=Ne=>kt(["td","th","caption"],Ns(Ne)),le=Ne=>Ne.dom===f,fe=Ei(Qe.fromDom(N),G,le),be=Ei(Qe.fromDom(T.startContainer),G,le);return xh(fe,be,_o)?(t.undoManager.transact(()=>{const Ne=N.parentNode;Lae(a,y,f),sN(a,Ne),t.selection.select(M,!0),t.selection.collapse(r)}),!0):!1}}return!1},Vae=(t,r)=>Nae(t,r)||Bae(t,r),gH=t=>{const r=t.selection.getStart(),a=nH(t,r),u=t.dom.getParent(r,"LI,DT,DD",a);return De(u)||c_(t).length>0},Fae=t=>gH(t)?(t.undoManager.transact(()=>{let r=!0;const a=()=>r=!1;t.on("input",a),t.execCommand("Delete"),t.off("input",a),r&&t.dispatch("input"),QF(t.dom,t.getBody())}),!0):!1,vH=(t,r)=>{const a=t.selection;return!rH(t,a.getNode())&&(a.isCollapsed()?Vae(t,r):Fae(t))},bH=(t,r)=>({block:t,position:r}),Hae=(t,r)=>({from:t,to:r}),yH=(t,r)=>{const a=Qe.fromDom(t),u=Qe.fromDom(r.container());return jM(a,u).map(f=>bH(f,r))},$ae=t=>!(Xr(t.to.block,t.from.block)||Xr(t.from.block,t.to.block)),Uae=t=>!_o(t.from.block,t.to.block),L9=(t,r)=>Ei(r,f=>m(f)||iu(f.dom),f=>_o(f,t)).filter(na).getOr(t),B9=(t,r)=>{const a=Qe.fromDom(t);return _o(L9(a,r.from.block),L9(a,r.to.block))},f_=t=>si(t.from.block.dom)===!1&&si(t.to.block.dom)===!1,V9=t=>{const r=a=>v0(a)||yc(a.dom)||Zm(a);return r(t.from.block)&&r(t.to.block)},zae=(t,r,a,u)=>fa(u.position.getNode())&&!Vu(t,u.block)?wC(!1,u.block.dom).bind(f=>f.isEqual(u.position)?Af(a,r,f).bind(y=>yH(r,y)):Se.some(u)).getOr(u):u,jae=(t,r,a,u)=>{const f=yH(r,sn.fromRangeStart(u)),y=f.bind(T=>Af(a,r,T.position).bind(M=>yH(r,M).map(N=>zae(t,r,a,N))));return wr(f,y,Hae).filter(T=>Uae(T)&&B9(r,T)&&f_(T)&&V9(T)&&$ae(T))},Wae=(t,r,a,u)=>u.collapsed?jae(t,r,a,u):Se.none(),Gae=(t,r)=>{const a=pr(t);return go(a,u=>r.isBlock(Ns(u))).fold(nt(a),u=>a.slice(0,u))},p_=(t,r)=>{const a=Gae(t,r);return Ze(a,Di),a},F9=(t,r,a)=>{const u=A0(a,r);return _t(u.reverse(),f=>Vu(t,f)).each(Di)},SH=(t,r)=>je(jl(r),a=>!Vu(t,a)).length===0,CH=(t,r,a,u,f)=>{if(Vu(u,a))return V(a),du(a.dom);SH(u,f)&&Vu(u,r)&&Tc(f,Qe.fromTag("br"));const y=uu(a.dom,sn.before(f.dom));return Ze(p_(r,u),T=>{Tc(f,T)}),F9(u,t,r),y},qae=(t,r)=>t.isInline(Ns(r)),H9=(t,r,a,u)=>{if(Vu(u,a)){if(Vu(u,r)){const T=Kt((M=>{const N=(G,le)=>Wl(G).fold(()=>le,fe=>qae(u,fe)?N(fe,le.concat(El(fe))):le);return N(M,[])})(a),(M,N)=>(Ld(M,N),N),D());sd(r),$r(r,T)}return Di(a),du(r.dom)}const f=Tf(a.dom);return Ze(p_(r,u),y=>{$r(a,y)}),F9(u,t,r),f},iN=(t,r)=>{const a=A0(r,t);return Se.from(a[a.length-1])},Zae=(t,r)=>Xr(r,t)?iN(r,t):Se.none(),$9=(t,r)=>{wC(t,r.dom).bind(a=>Se.from(a.getNode())).map(Qe.fromDom).filter(Cf).each(Di)},U9=(t,r,a,u)=>($9(!0,r),$9(!1,a),Zae(r,a).fold(st(H9,t,r,a,u),st(CH,t,r,a,u))),z9=(t,r,a,u,f)=>r?U9(t,u,a,f):U9(t,a,u,f),EH=(t,r)=>{const a=Qe.fromDom(t.getBody());return Wae(t.schema,a.dom,r,t.selection.getRng()).map(f=>()=>{z9(a,r,f.from.block,f.to.block,t.schema).each(y=>{t.selection.setRng(y.toRange())})})},wH=(t,r,a)=>{const u=r.getRng();return wr(jM(t,Qe.fromDom(u.startContainer)),jM(t,Qe.fromDom(u.endContainer)),(f,y)=>_o(f,y)?Se.none():Se.some(()=>{u.deleteContents(),z9(t,!0,f,y,a).each(T=>{r.setRng(T.toRange())})})).getOr(Se.none())},j9=(t,r)=>{const a=Qe.fromDom(r),u=st(_o,t);return Vh(a,m,u).isSome()},Kae=(t,r)=>j9(t,r.startContainer)||j9(t,r.endContainer),Yae=(t,r)=>{const a=uu(t.dom,sn.fromRangeStart(r)).isNone(),u=zh(t.dom,sn.fromRangeEnd(r)).isNone();return!Kae(t,r)&&a&&u},Xae=t=>Se.some(()=>{t.setContent(""),t.selection.setCursorLocation()}),Jae=t=>{const r=Qe.fromDom(t.getBody()),a=t.selection.getRng();return Yae(r,a)?Xae(t):wH(r,t.selection,t.schema)},_H=(t,r)=>t.selection.isCollapsed()?Se.none():Jae(t),rS=(t,r,a,u,f)=>Se.from(r._selectionOverrides.showCaret(t,a,u,f)),Qae=t=>{const r=t.ownerDocument.createRange();return r.selectNode(t),r},MR=(t,r)=>t.dispatch("BeforeObjectSelected",{target:r}).isDefaultPrevented()?Se.none():Se.some(Qae(r)),ele=(t,r,a)=>{const u=Dw(1,t.getBody(),r),f=sn.fromRangeStart(u),y=f.getNode();if(nv(y))return rS(1,t,y,!f.isAtEnd(),!1);const T=f.getNode(!0);if(nv(T))return rS(1,t,T,!1,!1);const M=kC(t.dom.getRoot(),f.getNode());return nv(M)?rS(1,t,M,!1,a):Se.none()},AH=(t,r,a)=>r.collapsed?ele(t,r,a).getOr(r):r,tle=t=>po(t)||GI(t),nle=t=>If(t)||qI(t),ole=(t,r)=>{Bn(r)&&r.data.length===0&&t.remove(r)},TH=(t,r,a,u,f,y)=>{rS(u,t,y.getNode(!f),f,!0).each(T=>{if(r.collapsed){const M=r.cloneRange();f?M.setEnd(T.startContainer,T.startOffset):M.setStart(T.endContainer,T.endOffset),M.deleteContents()}else r.deleteContents();t.selection.setRng(T)}),ole(t.dom,a)},sle=(t,r)=>{const a=t.selection.getRng();if(!Bn(a.commonAncestorContainer))return Se.none();const u=r?1:-1,f=rv(t.getBody()),y=st(TT,r?f.next:f.prev),T=r?tle:nle,M=sv(u,t.getBody(),a),N=y(M),G=N&&av(r,N);if(!G||!Mw(M,G))return Se.none();if(T(G))return Se.some(()=>TH(t,a,M.getNode(),u,r,G));const le=y(G);return le&&T(le)&&Mw(G,le)?Se.some(()=>TH(t,a,M.getNode(),u,r,le)):Se.none()},xH=(t,r)=>sle(t,r),OH=(t,r)=>{const a=t.getBody();return r?du(a).filter(po):Tf(a).filter(If)},IH=t=>{const r=t.selection.getRng();return!r.collapsed&&(OH(t,!0).exists(a=>a.isEqual(sn.fromRangeStart(r)))||OH(t,!1).exists(a=>a.isEqual(sn.fromRangeEnd(r))))},rle=t=>De(t)&&(m(Qe.fromDom(t))||Zm(Qe.fromDom(t))),Ep=Fl.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),ile=(t,r)=>{const a=r.getNode(!t),u=t?"after":"before";return Oo(a)&&a.getAttribute("data-mce-caret")===u},ale=(t,r,a,u,f)=>{const y=T=>f.isInline(T.nodeName.toLowerCase())&&!ov(a,u,t);return CC(!r,a).fold(()=>CC(r,u).fold(qt,y),y)},W9=(t,r,a,u,f)=>{const y=f.getNode(!a);return jM(Qe.fromDom(r),Qe.fromDom(u.getNode())).map(T=>Vu(t,T)?Ep.remove(T.dom):Ep.moveToElement(y)).orThunk(()=>Se.some(Ep.moveToElement(y)))},G9=(t,r,a,u)=>Af(r,t,a).bind(f=>rle(f.getNode())||ale(t,r,a,f,u)?Se.none():r&&si(f.getNode())||!r&&si(f.getNode(!0))?W9(u,t,r,a,f):r&&If(a)||!r&&po(a)?Se.some(Ep.moveToPosition(f)):Se.none()),lle=(t,r)=>Fe(r)?Se.none():t&&si(r.nextSibling)?Se.some(Ep.moveToElement(r.nextSibling)):!t&&si(r.previousSibling)?Se.some(Ep.moveToElement(r.previousSibling)):Se.none(),cle=(t,r,a)=>a.fold(u=>Se.some(Ep.remove(u)),u=>Se.some(Ep.moveToElement(u)),u=>ov(r,u,t)?Se.none():Se.some(Ep.moveToPosition(u))),ule=(t,r,a,u)=>ile(r,a)?lle(r,a.getNode(!r)).orThunk(()=>G9(t,r,a,u)):G9(t,r,a,u).bind(f=>cle(t,a,f)),dle=(t,r,a,u)=>{const f=Dw(r?1:-1,t,a),y=sn.fromRangeStart(f),T=Qe.fromDom(t);return!r&&If(y)?Se.some(Ep.remove(y.getNode(!0))):r&&po(y)?Se.some(Ep.remove(y.getNode())):!r&&po(y)&&NM(T,y,u)?Vj(T,y,u).map(M=>Ep.remove(M.getNode())):r&&If(y)&&QB(T,y,u)?kne(T,y,u).map(M=>Ep.remove(M.getNode())):ule(t,r,y,u)},hle=(t,r)=>a=>(t._selectionOverrides.hideFakeCaret(),q1(t,r,Qe.fromDom(a)),!0),fle=(t,r)=>a=>{const u=r?sn.before(a):sn.after(a);return t.selection.setRng(u.toRange()),!0},ple=t=>r=>(t.selection.setRng(r.toRange()),!0),q9=(t,r)=>Se.from(kC(t.getBody(),r)),mle=(t,r)=>{const a=t.selection.getNode();return q9(t,a).filter(si).fold(()=>dle(t.getBody(),r,t.selection.getRng(),t.schema).map(u=>()=>u.fold(hle(t,r),fle(t,r),ple(t))),()=>Se.some(gt))},gle=t=>{Ze(cn(t,".mce-offscreen-selection"),Di)},vle=(t,r)=>{const a=t.selection.getNode();return si(a)&&!Kp(a)?q9(t,a.parentNode).filter(si).fold(()=>Se.some(()=>{gle(Qe.fromDom(t.getBody())),q1(t,r,Qe.fromDom(t.selection.getNode())),WM(t)}),()=>Se.some(gt)):IH(t)?Se.some(()=>{l8(t,t.selection.getRng(),Qe.fromDom(t.getBody()))}):Se.none()},Z9=t=>{const r=t.dom,a=t.selection,u=kC(t.getBody(),a.getNode());if(iu(u)&&r.isBlock(u)&&r.isEmpty(u)){const f=r.create("br",{"data-mce-bogus":"1"});r.setHTML(u,""),u.appendChild(f),a.setRng(sn.before(f).toRange())}return!0},RH=(t,r)=>t.selection.isCollapsed()?mle(t,r):vle(t,r),kH=(t,r)=>{const a=t.dom,u=a.getParent(t.selection.getStart(),a.isBlock),f=a.getParent(t.selection.getEnd(),a.isBlock),y=t.getBody();if(u?.nodeName?.toLowerCase()==="div"&&u&&f&&u===y.firstChild&&f===y.lastChild&&!a.isEmpty(y)){const M=u.cloneNode(!1),N=()=>{if(r?a8(t):zM(t),y.firstChild!==u){const G=Y1(t.selection.getRng(),()=>document.createElement("span"));Array.from(y.childNodes).forEach(le=>M.appendChild(le)),y.appendChild(M),t.selection.setRng(Uc(G))}};return Se.some(N)}return Se.none()},ble=(t,r)=>{const a=sn.fromRangeStart(t.selection.getRng());return Af(r,t.getBody(),a).filter(u=>r?Tne(u):xne(u)).bind(u=>Xo(r?0:-1,u)).map(u=>()=>t.selection.select(u))},DH=(t,r)=>t.selection.isCollapsed()?ble(t,r):Se.none(),lx=Bn,MH=t=>lx(t)&&t.data[0]===Z,K9=t=>lx(t)&&t.data[t.data.length-1]===Z,Y9=t=>(t.ownerDocument??document).createTextNode(Z),X9=t=>{if(lx(t.previousSibling))return K9(t.previousSibling)||t.previousSibling.appendData(Z),t.previousSibling;if(lx(t))return MH(t)||t.insertData(0,Z),t;{const r=Y9(t);return t.parentNode?.insertBefore(r,t),r}},yle=t=>{if(lx(t.nextSibling))return MH(t.nextSibling)||t.nextSibling.insertData(0,Z),t.nextSibling;if(lx(t))return K9(t)||t.appendData(Z),t;{const r=Y9(t);return t.nextSibling?t.parentNode?.insertBefore(r,t.nextSibling):t.parentNode?.appendChild(r),r}},aN=(t,r)=>t?X9(r):yle(r),Sle=st(aN,!0),Cle=st(aN,!1),lN=(t,r)=>Bn(t.container())?aN(r,t.container()):aN(r,t.getNode()),PH=(t,r)=>{const a=r.get();return a&&t.container()===a&&ke(a)},J9=(t,r)=>r.fold(a=>{tb(t.get());const u=Sle(a);return t.set(u),Se.some(sn(u,u.length-1))},a=>du(a).map(u=>{if(PH(u,t)){const f=t.get();return sn(f,1)}else{tb(t.get());const f=lN(u,!0);return t.set(f),sn(f,1)}}),a=>Tf(a).map(u=>{if(PH(u,t)){const f=t.get();return sn(f,f.length-1)}else{tb(t.get());const f=lN(u,!1);return t.set(f),sn(f,f.length-1)}}),a=>{tb(t.get());const u=Cle(a);return t.set(u),Se.some(sn(u,1))}),cx=(t,r)=>{for(let a=0;a<t.length;a++){const u=t[a].apply(null,r);if(u.isSome())return u}return Se.none()},wp=Fl.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Ele=(t,r)=>{const a=ob(r,t);return a||t},wSe=(t,r,a)=>{const u=s8(a),f=Ele(r,u.container());return Z1(t,f,u).fold(()=>zh(f,u).bind(st(Z1,t,f)).map(y=>wp.before(y)),Se.none)},_Se=(t,r)=>S0(t,r)===null,yb=(t,r,a)=>Z1(t,r,a).filter(st(_Se,r)),PR=(t,r,a)=>{const u=r8(a);return yb(t,r,u).bind(f=>uu(f,u).isNone()?Se.some(wp.start(f)):Se.none())},Oy=(t,r,a)=>{const u=s8(a);return yb(t,r,u).bind(f=>zh(f,u).isNone()?Se.some(wp.end(f)):Se.none())},m_=(t,r,a)=>{const u=r8(a),f=Ele(r,u.container());return Z1(t,f,u).fold(()=>uu(f,u).bind(st(Z1,t,f)).map(y=>wp.after(y)),Se.none)},cN=t=>!rV(g_(t)),Iy=(t,r,a)=>cx([wSe,PR,Oy,m_],[t,r,a]).filter(cN),g_=t=>t.fold(Mt,Mt,Mt,Mt),Q9=t=>t.fold(nt("before"),nt("start"),nt("end"),nt("after")),NR=t=>t.fold(wp.before,wp.before,wp.after,wp.after),eG=t=>t.fold(wp.start,wp.start,wp.end,wp.end),wle=(t,r)=>Q9(t)===Q9(r)&&g_(t)===g_(r),LR=(t,r,a,u,f,y)=>wr(Z1(r,a,u),Z1(r,a,f),(T,M)=>T!==M&&n8(a,T,M)?wp.after(t?T:M):y).getOr(y),tG=(t,r)=>t.fold(Tn,a=>!wle(a,r)),Sc=(t,r,a,u,f)=>{const y=av(t,f);return Af(t,a,y).map(st(av,t)).fold(()=>u.map(NR),N=>Iy(r,a,N).map(st(LR,t,r,a,y,N)).filter(st(tG,u))).filter(cN)},_le=(t,r)=>t?r.fold(ee(Se.some,wp.start),Se.none,ee(Se.some,wp.after),Se.none):r.fold(Se.none,ee(Se.some,wp.before),Se.none,ee(Se.some,wp.end)),Ale=(t,r,a,u)=>{const f=av(t,u),y=Iy(r,a,f);return Iy(r,a,f).bind(st(_le,t)).orThunk(()=>Sc(t,r,a,y,u))},ux=t=>we(t.selection.getSel().modify),GC=(t,r,a)=>{const u=t?1:-1;return r.setRng(sn(a.container(),a.offset()+u).toRange()),r.getSel().modify("move",t?"forward":"backward","word"),!0},v_=(t,r)=>{const a=r.selection.getRng(),u=t?sn.fromRangeEnd(a):sn.fromRangeStart(a);return ux(r)?t&&dt(u)?GC(!0,r.selection,u):!t&&Ot(u)?GC(!1,r.selection,u):!1:!1};var D0;(function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"})(D0||(D0={}));const uN=(t,r)=>t===-1?Ps(r):r,NH=(t,r,a)=>t===1?r.next(a):r.prev(a),LH=(t,r,a,u)=>fa(u.getNode(r===1))?D0.Br:ov(a,u)===!1?D0.Block:D0.Wrap,BH=(t,r,a,u)=>{const f=rv(a);let y=u;const T=[];for(;y;){const M=NH(r,f,y);if(!M)break;if(fa(M.getNode(!1)))return r===1?{positions:uN(r,T).concat([M]),breakType:D0.Br,breakAt:Se.some(M)}:{positions:uN(r,T),breakType:D0.Br,breakAt:Se.some(M)};if(!M.isVisible()){y=M;continue}if(t(y,M)){const N=LH(a,r,y,M);return{positions:uN(r,T),breakType:N,breakAt:Se.some(M)}}T.push(M),y=M}return{positions:uN(r,T),breakType:D0.Eol,breakAt:Se.none()}},VH=(t,r,a,u)=>r(a,u).breakAt.map(f=>{const y=r(a,f).positions;return t===-1?y.concat(f):[f].concat(y)}).getOr([]),FH=(t,r)=>rn(t,(a,u)=>a.fold(()=>Se.some(u),f=>wr(Vt(f.getClientRects()),Vt(u.getClientRects()),(y,T)=>{const M=Math.abs(r-y.left);return Math.abs(r-T.left)<=M?u:f}).or(a)),Se.none()),dN=(t,r)=>Vt(r.getClientRects()).bind(a=>FH(t,a.left)),b_=st(BH,sn.isAbove,-1),BR=st(BH,sn.isBelow,1),nG=st(VH,-1,b_),oG=st(VH,1,BR),HH=(t,r)=>b_(t,r).breakAt.isNone(),$H=(t,r)=>BR(t,r).breakAt.isNone(),UH=t=>du(t).map(r=>[r].concat(BR(t,r).positions)).getOr([]),sG=t=>Tf(t).map(r=>b_(t,r).positions.concat(r)).getOr([]),rG=(t,r)=>dN(nG(t,r),r),iG=(t,r)=>dN(oG(t,r),r),dx=si,zH=(t,r)=>Math.abs(t.left-r),aG=(t,r)=>Math.abs(t.right-r),lG=t=>ps(t,"node"),cG=(t,r)=>Ou(t,(a,u)=>{const f=Math.min(zH(a,r),aG(a,r)),y=Math.min(zH(u,r),aG(u,r));return y===f&&lG(u)&&dx(u.node)||y<f?u:a}),uG=t=>{const r=a=>mn(a,u=>{const f=Uo(u);return f.node=t,f});if(Oo(t))return r(t.getClientRects());if(Bn(t)){const a=t.ownerDocument.createRange();return a.setStart(t,0),a.setEnd(t,t.data.length),r(a.getClientRects())}else return[]},dG=t=>Io(t,uG);var qC;(function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"})(qC||(qC={}));const hG=(t,r,a,u)=>{let f=u;for(;f=Iw(f,t,KA,r);)if(a(f))return},jH=(t,r,a,u,f,y)=>{let T=0;const M=[],N=fe=>{let be=dG([fe]);t===qC.Up&&(be=be.reverse());for(let Ne=0;Ne<be.length;Ne++){const Ke=be[Ne];if(!a(Ke,G)){if(M.length>0&&r(Ke,Ve(M))&&T++,Ke.line=T,f(Ke))return!0;M.push(Ke)}}return!1},G=Ve(y.getClientRects());if(!G)return M;const le=y.getNode();return le&&(N(le),hG(t,u,N,le)),M},fG=(t,r)=>r.line>t,pG=(t,r)=>r.line===t,mG=st(jH,qC.Up,Cs,qs),Tle=st(jH,qC.Down,qs,Cs),gG=t=>Ve(t.getClientRects()),xle=(t,r,a,u)=>{const f=rv(r);let y,T,M,N;const G=[];let le=0;t===qC.Down?(y=f.next,T=qs,M=Cs,N=sn.after(u)):(y=f.prev,T=Cs,M=qs,N=sn.before(u));const fe=gG(N);do{if(!N.isVisible())continue;const be=gG(N);if(M(be,fe))continue;G.length>0&&T(be,Ve(G))&&le++;const Ne=Uo(be);if(Ne.position=N,Ne.line=le,a(Ne))return G;G.push(Ne)}while(N=y(N));return G},hN=t=>r=>fG(t,r),y_=t=>r=>pG(t,r),ag=(t,r)=>{t.selection.setRng(r),Uw(t,t.selection.getRng())},VR=(t,r,a)=>Se.some(AH(t,r,a)),WH=(t,r)=>{const a=t.getNode(r===-1);return De(a)&&Rw(a)?Se.some(a):Se.none()},GH=(t,r)=>{const a=t.dom.createRng();return a.selectNode(r),a},FR=(t,r,a,u,f,y)=>{const T=r===1,M=rv(t.getBody()),N=st(TT,T?M.next:M.prev),G=T?u:f;if(!a.collapsed){const Ke=gr(a);if(y(Ke))if(Rw(Ke)){const $e=sv(r,t.getBody(),a);return Se.from(N($e)).map(Xe=>Xe.toRange())}else return rS(r,t,Ke,r===-1,!1);else if(IH(t)){const $e=a.cloneRange();return $e.collapse(r===-1),Se.from($e)}}const le=sv(r,t.getBody(),a);if(G(le))return MR(t,le.getNode(!T));let fe=N(le);const be=lo(a);if(fe)fe=av(T,fe);else return be?Se.some(a):Se.none();if(G(fe))return WH(fe,r).fold(()=>rS(r,t,fe?.getNode(!T),T,!1),Ke=>Se.some(GH(t,Ke)));const Ne=N(fe);return Ne&&G(Ne)&&Mw(fe,Ne)?WH(fe,r).fold(()=>rS(r,t,Ne.getNode(!T),T,!1),Ke=>Se.some(GH(t,Ke))):be?VR(t,fe.toRange(),!1):Se.none()},vG=(t,r,a,u,f,y)=>{const T=sv(r,t.getBody(),a),M=Ve(T.getClientRects()),N=r===qC.Down,G=t.getBody();if(!M)return Se.none();if(IH(t)){const Xe=N?sn.fromRangeEnd(a):sn.fromRangeStart(a);return(N?iG:rG)(G,Xe).orThunk(()=>Se.from(Xe)).map(Tt=>Tt.toRange())}const fe=(N?Tle:mG)(G,hN(1),T),be=je(fe,y_(1)),Ne=M.left,Ke=cG(be,Ne);if(Ke&&y(Ke.node)){const Xe=Math.abs(Ne-Ke.left),wt=Math.abs(Ne-Ke.right);return rS(r,t,Ke.node,Xe<wt,!1)}let $e;if(u(T)?$e=T.getNode():f(T)?$e=T.getNode(!0):$e=gr(a),$e){const Xe=xle(r,G,hN(1),$e);let wt=cG(je(Xe,y_(1)),Ne);if(wt||(wt=Ve(je(Xe,y_(0))),wt))return VR(t,wt.position.toRange(),!1)}return be.length===0?qH(t,N).filter(N?f:u).map(Xe=>AH(t,Xe.toRange(),!1)):Se.none()},qH=(t,r)=>{const a=t.selection.getRng(),u=r?sn.fromRangeEnd(a):sn.fromRangeStart(a),f=qD(u.container(),t.getBody());if(r){const y=BR(f,u);return Jt(y.positions)}else{const y=b_(f,u);return Vt(y.positions)}},ZC=(t,r,a)=>qH(t,r).filter(a).exists(u=>(t.selection.setRng(u.toRange()),!0)),hx=(t,r)=>{const a=t.dom.createRng();a.setStart(r.container(),r.offset()),a.setEnd(r.container(),r.offset()),t.selection.setRng(a)},ZH=(t,r)=>{t?r.setAttribute("data-mce-selected","inline-boundary"):r.removeAttribute("data-mce-selected")},fx=(t,r,a)=>J9(r,a).map(u=>(hx(t,u),a)),bG=(t,r,a)=>{const u=sn.fromRangeStart(t);if(t.collapsed)return u;{const f=sn.fromRangeEnd(t);return a?uu(r,f).getOr(f):zh(r,u).getOr(u)}},KH=(t,r,a)=>{const u=t.getBody(),f=bG(t.selection.getRng(),u,a),y=st(IC,t);return Ale(a,y,u,f).bind(M=>fx(t,r,M))},yG=(t,r,a)=>{const u=mn(cn(Qe.fromDom(r.getRoot()),'*[data-mce-selected="inline-boundary"]'),T=>T.dom),f=je(u,t),y=je(a,t);Ze(ys(f,y),st(ZH,!1)),Ze(ys(y,f),st(ZH,!0))},SG=(t,r)=>{const a=r.get();if(t.selection.isCollapsed()&&!t.composing&&a){const u=sn.fromRangeStart(t.selection.getRng());sn.isTextPosition(u)&&!o8(u)&&(hx(t,wT(a,u)),r.set(null))}},Ole=(t,r,a,u)=>{if(r.selection.isCollapsed()){const f=je(u,t);Ze(f,y=>{const T=sn.fromRangeStart(r.selection.getRng());Iy(t,r.getBody(),T).bind(M=>fx(r,a,M))})}},YH=(t,r,a)=>eb(t)?KH(t,r,a).isSome():!1,CG=(t,r,a)=>eb(r)?v_(t,r):!1,Ile=t=>{const r=$o(null),a=st(IC,t);return t.on("NodeChange",u=>{eb(t)&&(yG(a,t.dom,u.parents),SG(t,r),Ole(a,t,r,u.parents))}),r},Rle=st(CG,!0),kle=st(CG,!1),px=(t,r,a)=>{if(eb(t)){const u=qH(t,r).getOrThunk(()=>{const f=t.selection.getRng();return r?sn.fromRangeEnd(f):sn.fromRangeStart(f)});return Iy(st(IC,t),t.getBody(),u).exists(f=>{const y=NR(f);return J9(a,y).exists(T=>(hx(t,T),!0))})}else return!1},Dle=(t,r)=>{const a=document.createRange();return a.setStart(t.container(),t.offset()),a.setEnd(r.container(),r.offset()),a},EG=t=>wr(du(t),Tf(t),(r,a)=>{const u=av(!0,r),f=av(!1,a);return zh(t,u).forall(y=>y.isEqual(f))}).getOr(!0),wG=(t,r)=>a=>J9(r,a).map(u=>()=>hx(t,u)),_G=(t,r,a,u)=>{const f=t.getBody(),y=st(IC,t);t.undoManager.ignore(()=>{t.selection.setRng(Dle(a,u)),zM(t),Iy(y,f,sn.fromRangeStart(t.selection.getRng())).map(eG).bind(wG(t,r)).each(ho)}),t.nodeChanged()},Mle=(t,r)=>{const a=ob(r,t);return a||t},Ple=(t,r,a,u)=>{const f=Mle(t.getBody(),u.container()),y=st(IC,t),T=Iy(y,f,u);return T.bind(N=>a?N.fold(nt(Se.some(eG(N))),Se.none,nt(Se.some(NR(N))),Se.none):N.fold(Se.none,nt(Se.some(NR(N))),Se.none,nt(Se.some(eG(N))))).map(wG(t,r)).getOrThunk(()=>{const N=y0(a,f,u),G=N.bind(le=>Iy(y,f,le));return wr(T,G,()=>Z1(y,f,u).bind(le=>EG(le)?Se.some(()=>{q1(t,a,Qe.fromDom(le))}):Se.none())).getOrThunk(()=>G.bind(()=>N.map(le=>()=>{a?_G(t,r,u,le):_G(t,r,le,u)})))})},XH=(t,r,a)=>{if(t.selection.isCollapsed()&&eb(t)){const u=sn.fromRangeStart(t.selection.getRng());return Ple(t,r,a,u)}return Se.none()},Nle=t=>lf(t)>1,AG=(t,r)=>{const a=Qe.fromDom(t.getBody()),u=Qe.fromDom(t.selection.getStart()),f=A0(u,a);return go(f,r).fold(nt(f),y=>f.slice(0,y))},Lle=t=>lf(t)===1,Ble=t=>AG(t,r=>t.schema.isBlock(Ns(r))||Nle(r)),Vle=t=>AG(t,r=>t.schema.isBlock(Ns(r))),TG=(t,r)=>{const a=st(bV,t);return Io(r,u=>a(u)?[u.dom]:[])},fN=t=>{const r=Vle(t);return TG(t,r)},Fle=(t,r,a,u)=>{const f=TG(r,u);if(f.length===0)q1(r,t,a);else{const y=GT(a.dom,f);r.selection.setRng(y.toRange())}},pN=(t,r)=>{const a=je(Ble(t),Lle);return Jt(a).bind(u=>{const f=sn.fromRangeStart(t.selection.getRng());return Qne(r,f,u.dom)&&!vi(u)?Se.some(()=>Fle(r,t,u,a)):Se.none()})},Gh=(t,r)=>{const a=r.parentElement;return fa(r)&&!F(a)&&t.dom.isEmpty(a)},Hle=t=>vi(Qe.fromDom(t)),HR=(t,r)=>{const a=t.selection.getStart(),u=Gh(t,a)||Hle(a)?GT(a,r):QI(t.selection.getRng(),r);t.selection.setRng(u.toRange())},KC=(t,r)=>{const a=ys(r,fN(t));a.length>0&&HR(t,a)},JH=t=>Bn(t.startContainer),pm=t=>t.startOffset===0&&JH(t),S_=(t,r)=>{const a=r.startContainer.parentElement;return!F(a)&&bV(t,Qe.fromDom(a))},xG=t=>{const r=t.startContainer.parentNode,a=t.endContainer.parentNode;return!F(r)&&!F(a)&&r.isEqualNode(a)},$le=t=>{const r=t.endContainer;return t.endOffset===(Bn(r)?r.length:r.childNodes.length)},OG=t=>xG(t)&&$le(t),Ule=t=>!t.endContainer.isEqualNode(t.commonAncestorContainer),IG=t=>OG(t)||Ule(t),QH=t=>{const r=t.selection.getRng();return pm(r)&&S_(t,r)&&IG(r)},e$=t=>{if(QH(t)){const r=fN(t);return Se.some(()=>{zM(t),KC(t,r)})}else return Se.none()},t$=(t,r)=>t.selection.isCollapsed()?pN(t,r):e$(t),zle=(t,r)=>ao(t,a=>Jm(a.dom),a=>r.isBlock(Ns(a))),RG=t=>zle(Qe.fromDom(t.selection.getStart()),t.schema),Ry=t=>{const r=t.selection.getRng();return r.collapsed&&(JH(r)||t.dom.isEmpty(r.startContainer))&&!RG(t)},C_=t=>(Ry(t)&&HR(t,[]),!0),n$=(t,r,a)=>De(a)?Se.some(()=>{t._selectionOverrides.hideFakeCaret(),q1(t,r,Qe.fromDom(a))}):Se.none(),mN=(t,r)=>{const a=r?GI:qI,f=sv(r?1:-1,t.getBody(),t.selection.getRng());return a(f)?n$(t,r,f.getNode(!r)):Se.from(av(r,f)).filter(y=>a(y)&&Mw(f,y)).bind(y=>n$(t,r,y.getNode(!r)))},o$=(t,r)=>{const a=t.selection.getNode();return Hh(a)?n$(t,r,a):Se.none()},gN=(t,r)=>t.selection.isCollapsed()?mN(t,r):o$(t,r),kG=t=>Ei(t,r=>iu(r.dom)||si(r.dom)).exists(r=>iu(r.dom)),vN=t=>nf(t??"").getOr(0),DG=(t,r)=>{const a=t||qA(r)?"margin":"padding",u=La(r,"direction")==="rtl"?"-right":"-left";return a+u},jle=(t,r,a,u,f,y)=>{const T=DG(a,Qe.fromDom(y)),M=vN(t.getStyle(y,T));if(r==="outdent"){const N=Math.max(0,M-u);t.setStyle(y,T,N?N+f:"")}else{const N=M+u+f;t.setStyle(y,T,N)}},Wle=(t,r)=>bs(r,a=>{const u=DG(gw(t),a),f=ml(a,u).map(vN).getOr(0);return t.dom.getContentEditable(a.dom)!=="false"&&f>0}),MG=t=>{const r=PG(t);return!t.mode.isReadOnly()&&(r.length>1||Wle(t,r))},Gle=t=>!t.mode.isReadOnly()&&gae(t),s$=t=>dC(t)||Zm(t),qle=t=>Iu(t).exists(s$),PG=t=>je(lh(t.selection.getSelectedBlocks()),r=>!s$(r)&&!qle(r)&&kG(r)),NG=(t,r)=>{if(t.mode.isReadOnly())return;const{dom:a}=t,u=bI(t),f=/[a-z%]+$/i.exec(u)?.[0]??"px",y=vN(u),T=gw(t);Ze(PG(t),M=>{jle(a,r,T,y,f,M.dom)}),r==="indent"?x9(t):cH(t)},LG=t=>NG(t,"indent"),bN=t=>NG(t,"outdent"),yN=t=>{if(t.selection.isCollapsed()&&MG(t)){const r=t.dom,a=t.selection.getRng(),u=sn.fromRangeStart(a),f=r.getParent(a.startContainer,r.isBlock);if(f!==null&&JB(Qe.fromDom(f),u,t.schema))return Se.some(()=>bN(t))}return Se.none()},BG=(t,r)=>{const a=oP(t.selection.getRng());return wB(a)?Se.some(()=>q1(t,r,Qe.fromDom(t.selection.getNode()))):Se.none()},$R=(t,r)=>t.selection.isCollapsed()?Se.none():BG(t,r),r$=(t,r,a)=>wo([yN,RH,xH,(u,f)=>XH(u,r,f),EH,fV,DH,gN,_H,t$,kH,$R],u=>u(t,a)).filter(u=>t.selection.isEditable()),SN=(t,r)=>{r$(t,r,!1).fold(()=>{t.selection.isEditable()&&(zM(t),WM(t))},ho),gH(t)&&QF(t.dom,t.getBody())},i$=(t,r)=>{r$(t,r,!0).fold(()=>{t.selection.isEditable()&&a8(t)},ho),gH(t)&&QF(t.dom,t.getBody())},VG=(t,r)=>{t.addCommand("delete",()=>{SN(t,r)}),t.addCommand("forwardDelete",()=>{i$(t,r)})},a$=5,FG=400,HG=t=>t.touches===void 0||t.touches.length!==1?Se.none():Se.some(t.touches[0]),Zle=(t,r)=>{const a=Math.abs(t.clientX-r.x),u=Math.abs(t.clientY-r.y);return a>a$||u>a$},CN=t=>{const r=_c(),a=$o(!1),u=xu(f=>{t.dispatch("longpress",{...f,type:"longpress"}),a.set(!0)},FG);t.on("touchstart",f=>{HG(f).each(y=>{u.cancel();const T={x:y.clientX,y:y.clientY,target:f.target};u.throttle(f),a.set(!1),r.set(T)})},!0),t.on("touchmove",f=>{u.cancel(),HG(f).each(y=>{r.on(T=>{Zle(y,T)&&(r.clear(),a.set(!1),t.dispatch("longpresscancel"))})})},!0),t.on("touchend touchcancel",f=>{u.cancel(),f.type!=="touchcancel"&&r.get().filter(y=>y.target.isEqualNode(f.target)).each(()=>{a.get()?f.preventDefault():t.dispatch("tap",{...f,type:"tap"})})},!0)},l$=(t,r)=>ts(t,r.nodeName),UR=(t,r)=>Bn(r)?!0:Oo(r)?!l$(t.getBlockElements(),r)&&!am(r)&&!xn(t,r)&&!ay(r)&&!qS(r):!1,Kle=(t,r,a)=>bn(kM(Qe.fromDom(a),Qe.fromDom(r)),u=>l$(t,u.dom)),Yle=(t,r)=>{if(Bn(r)){if(r.data.length===0)return!0;if(/^\s+$/.test(r.data))return!r.nextSibling||l$(t,r.nextSibling)||ay(r.nextSibling)}return!1},c$=t=>t.dom.create(Uu(t),vC(t)),Xle=t=>{const r=t.dom,a=t.selection,u=t.schema,f=u.getBlockElements(),y=a.getStart(),T=t.getBody();let M,N,G=null;const le=Uu(t);if(!y||!Oo(y))return;const fe=T.nodeName.toLowerCase();if(!u.isValidChild(fe,le.toLowerCase())||Kle(f,T,y))return;if(T.firstChild===T.lastChild&&fa(T.firstChild)){M=c$(t),M.appendChild(D().dom),T.replaceChild(M,T.firstChild),t.selection.setCursorLocation(M,0),t.nodeChanged();return}let be=T.firstChild;for(;be;)if(Oo(be)&&ud(u,be),UR(u,be)){if(Yle(f,be)){N=be,be=be.nextSibling,r.remove(N);continue}if(!M){if(!G&&t.hasFocus()&&(G=Y1(t.selection.getRng(),()=>document.createElement("span"))),!be.parentNode){be=null;break}M=c$(t),T.insertBefore(M,be)}N=be,be=be.nextSibling,M.appendChild(N)}else M=null,be=be.nextSibling;G&&(t.selection.setRng(Uc(G)),t.nodeChanged())},u$=(t,r,a)=>{const u=Qe.fromDom(c$(t)),f=D();$r(u,f),a(r,u);const y=document.createRange();return y.setStartBefore(f.dom),y.setEndBefore(f.dom),y},$G=t=>{t.on("NodeChange",()=>Xle(t))},UG=t=>r=>(" "+r.attr("class")+" ").indexOf(t)!==-1,Jle=(t,r,a)=>function(u){const f=arguments,y=f[f.length-2],T=y>0?r.charAt(y-1):"";if(T==='"')return u;if(T===">"){const M=r.lastIndexOf("<",y);if(M!==-1&&r.substring(M,y).indexOf('contenteditable="false"')!==-1)return u}return'<span class="'+a+'" data-mce-content="'+t.dom.encode(f[0])+'">'+t.dom.encode(typeof f[1]=="string"?f[1]:f[0])+"</span>"},Qle=(t,r,a)=>{let u=r.length,f=a.content;if(a.format!=="raw"){for(;u--;)f=f.replace(r[u],Jle(t,f,xI(t)));a.content=f}},ece=(t,r)=>bs(t,a=>{const u=r.match(a);return u!==null&&u[0].length===r.length}),tce=t=>{const r="contenteditable",a=" "+Un.trim(MD(t))+" ",u=" "+Un.trim(xI(t))+" ",f=UG(a),y=UG(u),T=PD(t);T.length>0&&t.on("BeforeSetContent",M=>{Qle(t,T,M)}),t.parser.addAttributeFilter("class",M=>{let N=M.length;for(;N--;){const G=M[N];f(G)?G.attr(r,"true"):y(G)&&G.attr(r,"false")}}),t.serializer.addAttributeFilter(r,M=>{let N=M.length;for(;N--;){const G=M[N];if(!f(G)&&!y(G))continue;const le=G.attr("data-mce-content");T.length>0&&le?ece(T,le)?(G.name="#text",G.type=3,G.raw=!0,G.value=le):G.remove():G.attr(r,null)}})},zG=t=>Fh(Qe.fromDom(t.getBody()),"*[data-mce-caret]").map(r=>r.dom).getOrNull(),nce=(t,r)=>{r.hasAttribute("data-mce-caret")&&(Hn(r),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(r))},oce=(t,r)=>{const a=zG(t);if(a){if(r.type==="compositionstart"){r.preventDefault(),r.stopPropagation(),nce(t,a);return}Pe(a)&&(nce(t,a),t.undoManager.add())}},sce=t=>{t.on("keyup compositionstart",st(oce,t))},jG=si,rce=(t,r,a)=>FR(r,t,a,po,If,jG),ice=(t,r,a)=>vG(r,t,a,y=>po(y)||Pj(y),y=>If(y)||KB(y),jG),ace=t=>{const r=t.dom.create(Uu(t));return r.innerHTML='<br data-mce-bogus="1">',r},WG=(t,r,a)=>{const u=rv(t.getBody()),f=st(TT,r===1?u.next:u.prev);if(a.collapsed){const y=t.dom.getParent(a.startContainer,"PRE");if(!y)return;if(!f(sn.fromRangeStart(a))){const M=Qe.fromDom(ace(t));r===1?rh(Qe.fromDom(y),M):Tc(Qe.fromDom(y),M),t.selection.select(M.dom,!0),t.selection.collapse()}}},GG=(t,r)=>{const a=r?1:-1,u=t.selection.getRng();return rce(a,t,u).orThunk(()=>(WG(t,a,u),Se.none()))},lce=(t,r)=>{const a=r?1:-1,u=t.selection.getRng();return ice(a,t,u).orThunk(()=>(WG(t,a,u),Se.none()))},cce=(t,r)=>{const a=r?t.getEnd(!0):t.getStart(!0);return rV(a)?!r:r},qG=(t,r)=>GG(t,cce(t.selection,r)).exists(a=>(ag(t,a),!0)),ZG=(t,r)=>lce(t,r).exists(a=>(ag(t,a),!0)),KG=(t,r)=>ZC(t,r,r?If:po),EN=(t,r)=>OH(t,!r).map(a=>{const u=a.toRange(),f=t.selection.getRng();return r?u.setStart(f.startContainer,f.startOffset):u.setEnd(f.endContainer,f.endOffset),u}).exists(a=>(ag(t,a),!0)),YG=(t,r)=>{const a=T=>_o(T,r),u=T=>iu(T.dom),f=Qe.fromDom(t.container());return Ei(f,u,a).filter(T=>!a(T))},uce=(t,r,a)=>(a?iG:rG)(t.getBody(),r).map(f=>f.toRange()),dce=(t,r)=>{const a=sn.fromRangeStart(t.selection.getRng()),u=sn.fromRangeEnd(t.selection.getRng()),f=Qe.fromDom(t.getBody());return th(wr(YG(a,f),YG(u,f),(T,M)=>_o(T,M)?Se.some(T):Se.none())).fold(qt,T=>r&&$H(T.dom,u)||!r&&HH(T.dom,a)?uce(t,r?u:a,r).exists(M=>(ag(t,M),!0)):!1)},XG=(t,r)=>dce(t,r),JG=t=>kt(["figcaption"],Ns(t)),hce=(t,r,a)=>{const u=st(_o,r);return Ei(Qe.fromDom(t.container()),f=>a.isBlock(Ns(f)),u).filter(JG)},fce=(t,r,a)=>r?$H(t.dom,a):HH(t.dom,a),pce=(t,r)=>{const a=Qe.fromDom(t.getBody()),u=sn.fromRangeStart(t.selection.getRng());return hce(u,a,t.schema).exists(()=>{if(fce(a,r,u)){const y=u$(t,a,r?$r:np);return t.selection.setRng(y),!0}else return!1})},zR=(t,r)=>t.selection.isCollapsed()?pce(t,r):!1,mce=(t,r,a)=>{const u=t.selection.getRng(),f=sn.fromRangeStart(u);return t.getBody().firstChild===r&&HH(a,f)?(t.execCommand("InsertNewBlockBefore"),!0):!1},gce=(t,r)=>{const a=t.selection.getRng(),u=sn.fromRangeStart(a);return t.getBody().lastChild===r&&$H(r,u)?(t.execCommand("InsertNewBlockAfter"),!0):!1},QG=(t,r)=>r?Se.from(t.dom.getParent(t.selection.getNode(),"details")).map(a=>gce(t,a)).getOr(!1):Se.from(t.dom.getParent(t.selection.getNode(),"summary")).bind(a=>Se.from(t.dom.getParent(a,"details")).map(u=>mce(t,u,a))).getOr(!1),wN=(t,r)=>QG(t,r),eq={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},vce=t=>mn(t,r=>({...eq,...r})),ASe=t=>mn(t,r=>({...eq,...r})),tq=(t,r)=>r.keyCode===t.keyCode&&r.shiftKey===t.shiftKey&&r.altKey===t.altKey&&r.ctrlKey===t.ctrlKey&&r.metaKey===t.metaKey,bce=(t,r)=>Io(vce(t),a=>tq(a,r)?[a]:[]),yce=(t,r)=>Io(ASe(t),a=>tq(a,r)?[a]:[]),ks=(t,...r)=>()=>t.apply(null,r),jR=(t,r)=>_t(bce(t,r),a=>a.action()),nq=(t,r)=>wo(yce(t,r),a=>a.action()),oq=(t,r)=>{const a=r?1:-1,u=t.selection.getRng();return FR(t,a,u,GI,qI,Hh).exists(f=>(ag(t,f),!0))},d$=(t,r)=>{const a=r?1:-1,u=t.selection.getRng();return vG(t,a,u,GI,qI,Hh).exists(f=>(ag(t,f),!0))},iS=(t,r)=>ZC(t,r,r?qI:GI),_p=(t,r)=>h$(t,r,Tn),h$=(t,r,a)=>Io(pr(t),u=>dr(u,r)?a(u)?[u]:[]:h$(u,r,a)),WR=(t,r,a=qt)=>{if(a(r))return Se.none();if(kt(t,Ns(r)))return Se.some(r);const u=f=>dr(f,"table")||a(f);return qa(r,t.join(","),u)},YC=(t,r)=>WR(["td","th"],t,r),M0=t=>_p(t,"th,td"),mx=(t,r)=>xc(t,"table",r),_N=Fl.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),gx={..._N,none:t=>_N.none(t)},AN=(t,r,a,u,f=Tn)=>{const y=u===1;if(!y&&a<=0)return gx.first(t[0]);if(y&&a>=t.length-1)return gx.last(t[t.length-1]);{const T=a+u,M=t[T];return f(M)?gx.middle(r,M):AN(t,r,T,u,f)}},rq=(t,r)=>mx(t,r).bind(a=>{const u=M0(a);return go(u,y=>_o(t,y)).map(y=>({index:y,all:u}))}),Sce=(t,r,a)=>rq(t,a).fold(()=>gx.none(t),f=>AN(f.all,t,f.index,1,r)),iq=(t,r,a)=>rq(t,a).fold(()=>gx.none(),f=>AN(f.all,t,f.index,-1,r));var aq=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],lq=()=>{const t=G=>Qe.fromDom(G.dom.cloneNode(!1)),r=G=>ou(G).dom,a=G=>na(G)?Ns(G)==="body"?!0:kt(aq,Ns(G)):!1,u=G=>na(G)?kt(["br","img","hr","input"],Ns(G)):!1,f=G=>na(G)&&ra(G,"contenteditable")==="false",y=(G,le)=>G.dom.compareDocumentPosition(le.dom),T=(G,le)=>{const fe=Sr(G);Ra(le,fe)},M=G=>{const le=Ns(G);return kt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],le)},N=G=>na(G)?ah(G,"lang"):Se.none();return{up:nt({selector:qa,closest:xc,predicate:Vh,all:Nc}),down:nt({selector:cn,predicate:qe}),styles:nt({get:La,getRaw:ml,set:Lc,remove:e0}),attrs:nt({get:ra,set:ca,remove:pl,copyTo:T}),insert:nt({before:Tc,after:rh,afterAll:Zb,append:$r,appendAll:ih,prepend:np,wrap:Ld}),remove:nt({unwrap:Mu,remove:Di}),create:nt({nu:Qe.fromTag,clone:t,text:Qe.fromText}),query:nt({comparePosition:y,prevSibling:Pd,nextSibling:ku}),property:nt({children:pr,name:Ns,parent:Iu,document:r,isText:Jr,isComment:Wa,isElement:na,isSpecial:M,getLanguage:N,getText:gl,setText:t0,isBoundary:a,isEmptyTag:u,isNonEditable:f}),eq:_o,is:bl}};const f$=(t,r)=>({element:t,offset:r}),Cce=(t,r)=>{if(t.property().isText(r))return f$(r,t.property().getText(r).length);{const a=t.property().children(r);return a.length>0?Cce(t,a[a.length-1]):f$(r,a.length)}},Ece=(t,r,a)=>{const u=t.property().children(r);return u.length>0&&a<u.length?Ece(t,u[a],0):u.length>0&&t.property().isElement(r)&&u.length===a?Cce(t,u[u.length-1]):f$(r,a)},TSe=Ece,Sb=lq(),wce=(t,r)=>TSe(Sb,t,r),cq=dl("image"),E_=t=>{const r=t;return Se.from(r[cq])},uq=(t,r)=>{const a=t;a[cq]=r},p$=dl("event"),TN=t=>{const r=t;return Se.from(r[p$])},vx=t=>r=>{const a=r;a[p$]=t},dq=(t,r)=>vx(r)(t),m$=vx(0),_ce=vx(2),hq=vx(1),fq=(t=>r=>{const a=r;return Se.from(a[p$]).exists(u=>u===t)})(0),g$=()=>Object.freeze({length:0,item:t=>null}),v$=dl("mode"),Tce=t=>{const r=t;return Se.from(r[v$])},xN=t=>r=>{const a=r;a[v$]=t},pq=(t,r)=>xN(r)(t),mq=xN(0),b$=xN(2),xce=xN(1),gq=t=>r=>{const a=r;return Se.from(a[v$]).exists(u=>u===t)},w_=gq(0),vq=gq(1),aS=(t,r)=>({...r,get length(){return r.length},add:(a,u)=>{if(w_(t))if(re(a)){if(!ot(u))return r.add(a,u)}else return r.add(a);return null},remove:a=>{w_(t)&&r.remove(a)},clear:()=>{w_(t)&&r.clear()}}),y$=["none","copy","link","move"],Oce=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],S$=()=>{const t=new window.DataTransfer;let r="move",a="all";const u={get dropEffect(){return r},set dropEffect(f){kt(y$,f)&&(r=f)},get effectAllowed(){return a},set effectAllowed(f){fq(u)&&kt(Oce,f)&&(a=f)},get items(){return aS(u,t.items)},get files(){return vq(u)?g$():t.files},get types(){return t.types},setDragImage:(f,y,T)=>{w_(u)&&(uq(u,{image:f,x:y,y:T}),t.setDragImage(f,y,T))},getData:f=>vq(u)?"":t.getData(f),setData:(f,y)=>{w_(u)&&t.setData(f,y)},clearData:f=>{w_(u)&&t.clearData(f)}};return mq(u),u},Ice=t=>{const r=S$(),a=Tce(t);return b$(t),m$(r),r.dropEffect=t.dropEffect,r.effectAllowed=t.effectAllowed,E_(t).each(u=>r.setDragImage(u.image,u.x,u.y)),Ze(t.types,u=>{u!=="Files"&&r.setData(u,t.getData(u))}),Ze(t.files,u=>r.items.add(u)),TN(t).each(u=>{dq(r,u)}),a.each(u=>{pq(t,u),pq(r,u)}),r},C$=t=>{const r=t.getData("text/html");return r===""?Se.none():Se.some(r)},ON=(t,r)=>t.setData("text/html",r),bq=(t,r)=>({left:t.left-r,top:t.top-r,right:t.right+r*2,bottom:t.bottom+r*2,width:t.width+r,height:t.height+r}),yq=(t,r)=>Io(r,a=>{const u=bq(Uo(a.getBoundingClientRect()),-1);return[{x:u.left,y:t(u),cell:a},{x:u.right,y:t(u),cell:a}]}),Sq=(t,r,a)=>rn(t,(u,f)=>u.fold(()=>Se.some(f),y=>{const T=Math.sqrt(Math.abs(y.x-r)+Math.abs(y.y-a)),M=Math.sqrt(Math.abs(f.x-r)+Math.abs(f.y-a));return Se.some(M<T?f:y)}),Se.none()),Cq=(t,r,a,u,f)=>{const y=cn(Qe.fromDom(a),"td,th,caption").map(M=>M.dom),T=je(yq(t,y),M=>r(M,f));return Sq(T,u,f).map(M=>M.cell)},GR=t=>t.bottom,IN=t=>t.top,Eq=(t,r)=>t.y<r,wq=(t,r)=>t.y>r,_q=st(Cq,GR,Eq),Aq=st(Cq,IN,wq),RN=(t,r)=>Vt(r.getClientRects()).bind(a=>_q(t,a.left,a.top)).bind(a=>dN(sG(a),r)),E$=(t,r)=>Jt(r.getClientRects()).bind(a=>Aq(t,a.left,a.top)).bind(a=>dN(UH(a),r)),qR=(t,r,a)=>a.breakAt.exists(u=>t(r,u).breakAt.isSome()),Rce=t=>t.breakType===D0.Wrap&&t.positions.length===0,Tq=t=>t.breakType===D0.Br&&t.positions.length===1,xq=(t,r,a)=>{const u=t(r,a);return Rce(u)||!fa(a.getNode())&&Tq(u)?!qR(t,r,u):u.breakAt.isNone()},kce=st(xq,b_),Oq=st(xq,BR),Dce=(t,r,a)=>{const u=sn.fromRangeStart(r);return wC(!t,a).exists(f=>f.isEqual(u))},Iq=(t,r,a,u)=>{const f=t.selection.getRng(),y=r?1:-1;return _T()&&Dce(r,f,a)?(rS(y,t,a,!r,!1).each(T=>{ag(t,T)}),!0):!1},xSe=(t,r,a)=>RN(r,a).orThunk(()=>Vt(a.getClientRects()).bind(u=>FH(nG(t,sn.before(r)),u.left))).getOr(sn.before(r)),Mce=(t,r,a)=>E$(r,a).orThunk(()=>Vt(a.getClientRects()).bind(u=>FH(oG(t,sn.after(r)),u.left))).getOr(sn.after(r)),Rq=(t,r)=>{const a=r.getNode(t);return ap(a)?Se.some(a):Se.none()},Pce=(t,r,a)=>{r.undoManager.transact(()=>{const u=t?rh:Tc,f=u$(r,Qe.fromDom(a),u);ag(r,f)})},kq=(t,r,a)=>{const u=Rq(!!r,a),f=r===!1;u.fold(()=>ag(t,a.toRange()),y=>wC(f,t.getBody()).filter(T=>T.isEqual(a)).fold(()=>ag(t,a.toRange()),T=>Pce(r,t,y)))},Nce=(t,r,a,u)=>{const f=t.selection.getRng(),y=sn.fromRangeStart(f),T=t.getBody();if(!r&&kce(u,y)){const M=xSe(T,a,y);return kq(t,r,M),!0}else if(r&&Oq(u,y)){const M=Mce(T,a,y);return kq(t,r,M),!0}else return!1},Dq=(t,r,a)=>Se.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(u=>Se.from(t.dom.getParent(u,"table")).map(f=>a(t,r,f,u))).getOr(!1),Mq=(t,r)=>Dq(t,r,Iq),ZR=(t,r)=>Dq(t,r,Nce),Lce=t=>{const r=Lm.exact(t,0,t,0);return FE(r)},XC=t=>ky(t)||ti(t).some(r=>Mh(r)&&ky(r)),w$=(t,r,a)=>a.fold(Se.none,Se.none,(u,f)=>Pm(f).map(y=>Lce(y)),u=>t.mode.isReadOnly()||!_$(u)||!XC(u)?Se.none():(t.execCommand("mceTableInsertRowAfter"),A$(t,r,u))),_$=t=>Ei(t,yl("table")).exists(Nu),A$=(t,r,a)=>w$(t,r,Sce(a,ky)),T$=(t,r,a)=>w$(t,r,iq(a,ky)),ky=t=>Nu(t)||zs(t,Pq),Pq=t=>Mh(t)&&Nu(t),lg=(t,r)=>{const a=["table","li","dl"],u=Qe.fromDom(t.getBody()),f=M=>{const N=Ns(M);return _o(M,u)||kt(a,N)},y=t.selection.getRng(),T=Qe.fromDom(r?y.endContainer:y.startContainer);return YC(T,f).map(M=>(mx(M,f).each(le=>{t.model.table.clearSelectedCells(le.dom)}),t.selection.collapse(!r),(r?A$:T$)(t,f,M).each(le=>{t.selection.setRng(le)}),!0)).getOr(!1)},__=(t,r,a)=>{const u=_r.os.isMacOS()||_r.os.isiOS(),f=_r.browser.isFirefox();jR([{keyCode:yo.RIGHT,action:ks(qG,t,!0)},{keyCode:yo.LEFT,action:ks(qG,t,!1)},{keyCode:yo.UP,action:ks(ZG,t,!1)},{keyCode:yo.DOWN,action:ks(ZG,t,!0)},...u?[{keyCode:yo.UP,action:ks(EN,t,!1),metaKey:!0,shiftKey:!0},{keyCode:yo.DOWN,action:ks(EN,t,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:yo.RIGHT,action:ks(Mq,t,!0)},{keyCode:yo.LEFT,action:ks(Mq,t,!1)},{keyCode:yo.UP,action:ks(ZR,t,!1)},{keyCode:yo.DOWN,action:ks(ZR,t,!0)},{keyCode:yo.UP,action:ks(ZR,t,!1)},{keyCode:yo.UP,action:ks(wN,t,!1)},{keyCode:yo.DOWN,action:ks(wN,t,!0)},{keyCode:yo.RIGHT,action:ks(oq,t,!0)},{keyCode:yo.LEFT,action:ks(oq,t,!1)},{keyCode:yo.UP,action:ks(d$,t,!1)},{keyCode:yo.DOWN,action:ks(d$,t,!0)},{keyCode:yo.RIGHT,action:ks(YH,t,r,!0)},{keyCode:yo.LEFT,action:ks(YH,t,r,!1)},{keyCode:yo.RIGHT,ctrlKey:!u,altKey:u,action:ks(Rle,t,r)},{keyCode:yo.LEFT,ctrlKey:!u,altKey:u,action:ks(kle,t,r)},{keyCode:yo.UP,action:ks(zR,t,!1)},{keyCode:yo.DOWN,action:ks(zR,t,!0)},...f?[{keyCode:yo.UP,action:ks(XG,t,!1)},{keyCode:yo.DOWN,action:ks(XG,t,!0)}]:[]],a).each(y=>{a.preventDefault()})},Nq=(t,r)=>{t.on("keydown",a=>{a.isDefaultPrevented()||__(t,r,a)})},pv=(t,r)=>({container:t,offset:r}),kN=mi.DOM,KR=t=>r=>t===r?-1:0,Bce=t=>r=>t.isBlock(r)||kt(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false",x$=(t,r,a)=>{if(Bn(t)&&r>=0)return Se.some(pv(t,r));{const u=sm(kN);return Se.from(u.backwards(t,r,KR(t),a)).map(f=>pv(f.container,f.container.data.length))}},Vce=(t,r,a)=>{if(Bn(t)&&r>=t.length)return Se.some(pv(t,r));{const u=sm(kN);return Se.from(u.forwards(t,r,KR(t),a)).map(f=>pv(f.container,0))}},O$=(t,r,a)=>{if(!Bn(t))return Se.none();const u=t.data;if(r>=0&&r<=u.length)return Se.some(pv(t,r));{const f=sm(kN);return Se.from(f.backwards(t,r,KR(t),a)).bind(y=>{const T=y.container.data;return O$(y.container,r+T.length,a)})}},Lq=(t,r,a)=>{if(!Bn(t))return Se.none();const u=t.data;if(r<=u.length)return Se.some(pv(t,r));{const f=sm(kN);return Se.from(f.forwards(t,r,KR(t),a)).bind(y=>Lq(y.container,r-u.length,a))}},DN=(t,r,a,u,f)=>{const y=sm(t,Bce(t));return Se.from(y.backwards(r,a,u,f))},Fce=t=>t.collapsed&&Bn(t.startContainer),Hce=t=>ue(t.toString().replace(/\u00A0/g," ")),A_=t=>t!==""&&` \uFEFF\f
\r	\v`.indexOf(t)!==-1,MN=(t,r)=>t.substring(r.length),Bq=(t,r,a,u=!1)=>{let f;const y=a.charAt(0);for(f=r-1;f>=0;f--){const T=t.charAt(f);if(!u&&A_(T))return Se.none();if(y===T&&ea(t,a,f,r))break}return Se.some(f)},PN=(t,r,a,u=!1)=>{if(!Fce(r))return Se.none();const f={text:"",offset:0},y=(M,N,G)=>(f.text=G+f.text,f.offset+=N,Bq(f.text,f.offset,a,u).getOr(N)),T=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return DN(t,r.startContainer,r.startOffset,y,T).bind(M=>{const N=r.cloneRange();if(N.setStart(M.container,M.offset),N.setEnd(r.endContainer,r.endOffset),N.collapsed)return Se.none();const G=Hce(N);return G.lastIndexOf(a)!==0?Se.none():Se.some({text:MN(G,a),range:N,trigger:a})})},I$=t=>t.nodeType===gs,$ce=t=>t.nodeType===Gs,Vq=t=>{if(I$(t))return pv(t,t.data.length);{const r=t.childNodes;return r.length>0?Vq(r[r.length-1]):pv(t,r.length)}},Fq=(t,r)=>{const a=t.childNodes;return a.length>0&&r<a.length?Fq(a[r],0):a.length>0&&$ce(t)&&a.length===r?Vq(a[a.length-1]):pv(t,r)},Hq=(t,r)=>{const a=t.getParent(r.container,t.isBlock)??t.getRoot();return DN(t,r.container,r.offset,(u,f)=>f===0?-1:f,a).filter(u=>{const f=u.container.data.charAt(u.offset-1);return!A_(f)}).isSome()},NN=t=>r=>{const a=Fq(r.startContainer,r.startOffset);return!Hq(t,a)},$q=(t,r,a)=>wo(a.triggers,u=>PN(t,r,u)),LN=(t,r)=>{const a=r(),u=t.selection.getRng();return $q(t.dom,u,a).bind(f=>Uq(t,r,f))},Uq=(t,r,a,u={})=>{const f=r(),T=t.selection.getRng().startContainer.nodeValue??"",M=je(f.lookupByTrigger(a.trigger),G=>a.text.length>=G.minChars&&G.matches.getOrThunk(()=>NN(t.dom))(a.range,T,a.text));if(M.length===0)return Se.none();const N=Promise.all(mn(M,G=>G.fetch(a.text,G.maxResults,u).then(fe=>({matchText:a.text,items:fe,columns:G.columns,onAction:G.onAction,highlightOn:G.highlightOn}))));return Se.some({lookupData:N,context:a})};var Cb;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Cb||(Cb={}));const R$=(t,r,a)=>t.stype===Cb.Error?r(t.serror):a(t.svalue),Uce=t=>{const r=[],a=[];return Ze(t,u=>{R$(u,f=>a.push(f),f=>r.push(f))}),{values:r,errors:a}},zce=(t,r)=>t.stype===Cb.Error?{stype:Cb.Error,serror:r(t.serror)}:t,zq=(t,r)=>t.stype===Cb.Value?{stype:Cb.Value,svalue:r(t.svalue)}:t,jce=(t,r)=>t.stype===Cb.Value?r(t.svalue):t,Wce=(t,r)=>t.stype===Cb.Error?r(t.serror):t,k$=t=>({stype:Cb.Value,svalue:t}),bx=t=>({stype:Cb.Error,serror:t}),qh={fromResult:t=>t.fold(bx,k$),toResult:t=>R$(t,Hl.error,Hl.value),svalue:k$,partition:Uce,serror:bx,bind:jce,bindError:Wce,map:zq,mapError:zce,fold:R$},D$=t=>ye(t)&&Zt(t).length>100?" removed due to size":JSON.stringify(t,null,2),M$=t=>{const r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:nt("... (only showing first ten failures)")}]):t;return mn(r,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},P$=(t,r)=>qh.serror([{path:t,getErrorInfo:r}]),qce=(t,r,a)=>P$(t,()=>'Could not find valid *required* value for "'+r+'" in '+D$(a)),jq=(t,r)=>P$(t,nt(r)),Wq=t=>{const r=(u,f)=>qh.bindError(t(f),y=>jq(u,y)),a=nt("val");return{extract:r,toString:a}},Zce=Wq(qh.svalue),N$=nt(Zce),YR=(t,r)=>Wq(a=>{const u=typeof a;return t(a)?qh.svalue(a):qh.serror(`Expected type: ${r} but got: ${u}`)}),Kce=YR(ct,"number"),L$=YR(re,"string"),XR=YR(we,"function"),Gq=()=>({tag:"required",process:{}}),B$=t=>({tag:"defaultedThunk",process:t}),V$=t=>B$(nt(t)),F$=()=>({tag:"option",process:{}}),qq=(t,r,a,u)=>({tag:"field",key:t,newKey:r,presence:a,prop:u}),Zq=(t,r,a)=>{switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return a(t.newKey,t.instantiator)}},Yce=(t,r)=>qh.svalue(eh(r,Th.apply(void 0,t))),Kq=t=>ee(qh.serror,Ko)(t),Xce={consolidateObj:(t,r)=>{const a=qh.partition(t);return a.errors.length>0?Kq(a.errors):Yce(a.values,r)},consolidateArr:t=>{const r=qh.partition(t);return r.errors.length>0?Kq(r.errors):qh.svalue(r.values)}},Jce=(t,r,a,u)=>sr(r,a).fold(()=>qce(t,a,r),u),Yq=(t,r,a,u)=>{const f=sr(t,r).getOrThunk(()=>a(t));return u(f)},$$=(t,r,a)=>a(sr(t,r)),Qce=(t,r,a,u)=>{const f=sr(t,r).map(y=>y===!0?a(t):y);return u(f)},eue=(t,r,a,u,f)=>{const y=M=>f.extract(r.concat([u]),M),T=M=>M.fold(()=>qh.svalue(Se.none()),N=>{const G=f.extract(r.concat([u]),N);return qh.map(G,Se.some)});switch(t.tag){case"required":return Jce(r,a,u,y);case"defaultedThunk":return Yq(a,u,t.process,y);case"option":return $$(a,u,T);case"defaultedOptionThunk":return Qce(a,u,t.process,T);case"mergeWithThunk":return Yq(a,u,nt({}),M=>{const N=eh(t.process(a),M);return y(N)})}},Xq=(t,r,a)=>{const u={},f=[];for(const y of a)Zq(y,(T,M,N,G)=>{const le=eue(N,t,r,T,G);qh.fold(le,fe=>{f.push(...fe)},fe=>{u[M]=fe})},(T,M)=>{u[T]=M(r)});return f.length>0?qh.serror(f):qh.svalue(u)},Jq=t=>({extract:(u,f)=>Xq(u,f,t),toString:()=>`obj{
`+mn(t,f=>Zq(f,(y,T,M,N)=>y+" -> "+N.toString(),(y,T)=>"state("+y+")")).join(`
`)+"}"}),tue=t=>({extract:(u,f)=>{const y=mn(f,(T,M)=>t.extract(u.concat(["["+M+"]"]),T));return Xce.consolidateArr(y)},toString:()=>"array("+t.toString()+")"}),nue=(t,r,a)=>{const u=r.extract([t],a);return qh.mapError(u,f=>({input:a,errors:f}))},Qq=(t,r,a)=>qh.toResult(nue(t,r,a)),eZ=t=>`Errors: 
`+M$(t.errors).join(`
`)+`

Input object: `+D$(t.input),yx=qq,U$=t=>yx(t,t,Gq(),N$()),tZ=(t,r)=>yx(t,t,Gq(),r),z$=t=>tZ(t,L$),nZ=t=>tZ(t,XR),oue=t=>yx(t,t,F$(),N$()),oZ=(t,r)=>yx(t,t,F$(),r),sZ=t=>oZ(t,L$),Wc=t=>oZ(t,XR),sue=(t,r)=>yx(t,t,V$(r),N$()),rZ=(t,r,a)=>yx(t,t,V$(r),a),iZ=(t,r)=>rZ(t,r,Kce),aZ=(t,r,a)=>rZ(t,r,tue(a)),j$=z$("type"),lZ=nZ("fetch"),JR=nZ("onAction"),rue=t=>sue("columns",t),iue=Jq([j$,z$("trigger"),iZ("minChars",1),rue(1),iZ("maxResults",10),Wc("matches"),lZ,JR,aZ("highlightOn",[],L$)]),aue=t=>Qq("Autocompleter",iue,t),lue=()=>{const t={},r={},a={},u={},f={},y={},T={},M={},N={},G=(Ne,Ke)=>($e,Xe)=>{Ne[$e.toLowerCase()]={...Xe,type:Ke}},le=(Ne,Ke)=>($e,Xe)=>{Ne[$e.toLowerCase()]={type:Ke,...Xe}},fe=(Ne,Ke)=>u[Ne.toLowerCase()]=Ke,be=(Ne,Ke)=>T[Ne.toLowerCase()]=Ke;return{addButton:G(t,"button"),addGroupToolbarButton:G(t,"grouptoolbarbutton"),addToggleButton:G(t,"togglebutton"),addMenuButton:G(t,"menubutton"),addSplitButton:G(t,"splitbutton"),addMenuItem:G(r,"menuitem"),addNestedMenuItem:G(r,"nestedmenuitem"),addToggleMenuItem:G(r,"togglemenuitem"),addAutocompleter:G(a,"autocompleter"),addContextMenu:G(f,"contextmenu"),addContextToolbar:G(y,"contexttoolbar"),addContextForm:le(y,"contextform"),addSidebar:G(M,"sidebar"),addView:G(N,"views"),addIcon:fe,addContext:be,getAll:()=>({buttons:t,menuItems:r,icons:u,popups:a,contextMenus:f,contextToolbars:y,sidebars:M,views:N,contexts:T})}},cue=t=>{const r=t.ui.registry.getAll().popups,a=jo(r,T=>aue(T).fold(M=>{throw new Error(eZ(M))},Mt)),u=Xf(ya(a,T=>T.trigger)),f=Ni(a);return{dataset:a,triggers:u,lookupByTrigger:T=>je(f,M=>M.trigger===T)}},uue=(t,r)=>{const a=xu(r.load,50);t.on("input",u=>{u.inputType==="insertCompositionText"&&!t.composing||a.throttle()}),t.on("keydown",u=>{const f=u.which;f===8?a.throttle():f===27?(a.cancel(),r.cancelIfNecessary()):(f===38||f===40)&&a.cancel()},!0),t.on("remove",a.cancel)},due=t=>{const r=_c(),a=$o(!1),u=r.isSet,f=()=>{u()&&(dD(t),a.set(!1),r.clear())},y=fe=>{u()||r.set({trigger:fe.trigger,matchLength:fe.text.length})},T=Il(()=>cue(t)),M=fe=>r.get().map(be=>PN(t.dom,t.selection.getRng(),be.trigger,!0).bind(Ne=>Uq(t,T,Ne,fe))).getOrThunk(()=>LN(t,T)),N=fe=>{M(fe).fold(f,be=>{y(be.context),be.lookupData.then(Ne=>{r.get().map(Ke=>{const $e=be.context;Ke.trigger===$e.trigger&&(r.set({...Ke,matchLength:$e.text.length}),a.get()?(pI(t,{range:$e.range}),Fs(t,{lookupData:Ne})):(a.set(!0),pI(t,{range:$e.range}),V4(t,{lookupData:Ne})))})})})},G=(fe,be)=>{const Ne=fe.compareBoundaryPoints(window.Range.START_TO_START,be),Ke=fe.compareBoundaryPoints(window.Range.END_TO_END,be);return Ne>=0&&Ke<=0},le=()=>r.get().bind(({trigger:fe})=>{const be=t.selection.getRng();return PN(t.dom,be,fe,a.get()).filter(({range:Ne})=>G(be,Ne)).map(({range:Ne})=>Ne)});t.addCommand("mceAutocompleterReload",(fe,be)=>{const Ne=ye(be)?be.fetchOptions:{};N(Ne)}),t.addCommand("mceAutocompleterClose",f),t.addCommand("mceAutocompleterRefreshActiveRange",()=>{le().each(fe=>{pI(t,{range:fe})})}),t.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>le().isSome()),uue(t,{cancelIfNecessary:f,load:N})},hue=Dd().browser.isSafari(),cZ=t=>V(Qe.fromDom(t)),uZ=(t,r)=>t.startOffset===0&&t.endOffset===r.textContent?.length,BN=(t,r)=>Se.from(t.getParent(r.container(),"details")),dZ=(t,r)=>BN(t,r).isSome(),fue=(t,r)=>{const a=Se.from(t.getParent(r.startContainer,"details")),u=Se.from(t.getParent(r.endContainer,"details"));if(a.isSome()||u.isSome()){const f=a.bind(y=>Se.from(t.select("summary",y)[0]));return Se.some({startSummary:f,startDetails:a,endDetails:u})}else return Se.none()},hZ=(t,r)=>du(r).exists(a=>a.isEqual(t)),fZ=(t,r)=>Tf(r).exists(a=>fa(a.getNode())&&uu(r,a).exists(u=>u.isEqual(t))||a.isEqual(t)),pZ=(t,r)=>r.startSummary.exists(a=>hZ(t,a)),pue=(t,r)=>r.startSummary.exists(a=>fZ(t,a)),mue=(t,r)=>r.startDetails.exists(a=>uu(a,t).forall(u=>r.startSummary.exists(f=>!f.contains(t.container())&&f.contains(u.container())))),gue=(t,r,a)=>a.startDetails.exists(u=>zh(t,r).forall(f=>!u.contains(f.container()))),mZ=(t,r)=>{const a=r.getNode();ot(a)||t.selection.setCursorLocation(a,r.offset())},W$=(t,r,a)=>{const u=t.dom.getParent(r.container(),"details");if(u&&!u.open){const f=t.dom.select("summary",u)[0];f&&(a?du(f):Tf(f)).each(T=>mZ(t,T))}else mZ(t,r)},vue=(t,r)=>{const a=N=>N.contains(t.startContainer),u=N=>N.contains(t.endContainer),f=r.startSummary.exists(a),y=r.startSummary.exists(u),T=r.startDetails.forall(N=>r.endDetails.forall(G=>N!==G));return(f||y)&&!(f&&y)||T},G$=(t,r,a)=>{const{dom:u,selection:f}=t,y=t.getBody();if(a==="character"){const T=sn.fromRangeStart(f.getRng()),M=u.getParent(T.container(),u.isBlock),N=BN(u,T),G=M&&u.isEmpty(M),le=F(M?.previousSibling),fe=F(M?.nextSibling);return G&&(r?fe:le)&&y0(!r,y,T).exists(Ke=>dZ(u,Ke)&&!xh(N,BN(u,Ke)))?!0:y0(r,y,T).fold(qt,be=>{const Ne=BN(u,be);if(dZ(u,be)&&!xh(N,Ne)){if(r||W$(t,be,!1),M&&G){if(r&&le)return!0;if(!r&&fe)return!0;W$(t,be,r),t.dom.remove(M)}return!0}else return!1})}else return!1},bue=(t,r,a,u)=>{const y=t.selection.getRng(),T=sn.fromRangeStart(y),M=t.getBody();return u==="selection"?vue(y,r):a?pue(T,r)||gue(M,T,r):pZ(T,r)||mue(T,r)},gZ=(t,r,a)=>fue(t.dom,t.selection.getRng()).fold(()=>G$(t,r,a),u=>bue(t,u,r,a)||G$(t,r,a)),vZ=(t,r,a)=>{const u=t.selection,f=u.getNode(),y=u.getRng(),T=sn.fromRangeStart(y);return Fi(f)?(a==="selection"&&uZ(y,f)||Qne(r,T,f)?cZ(f):t.undoManager.transact(()=>{const M=u.getSel();let{anchorNode:N,anchorOffset:G,focusNode:le,focusOffset:fe}=M??{};const be=()=>{De(N)&&De(G)&&De(le)&&De(fe)&&M?.setBaseAndExtent(N,G,le,fe)},Ne=()=>{N=M?.anchorNode,G=M?.anchorOffset,le=M?.focusNode,fe=M?.focusOffset},Ke=(Xe,wt)=>{Ze(Xe.childNodes,Tt=>{z1(Tt)&&wt.appendChild(Tt)})},$e=t.dom.create("span",{"data-mce-bogus":"1"});Ke(f,$e),f.appendChild($e),be(),(a==="word"||a==="line")&&M?.modify("extend",r?"right":"left",a),!u.isCollapsed()&&uZ(u.getRng(),$e)?cZ(f):(t.execCommand(r?"ForwardDelete":"Delete"),Ne(),Ke($e,f),be()),t.dom.remove($e)}),!0):!1},T_=(t,r,a)=>gZ(t,r,a)||hue&&vZ(t,r,a)?Se.some(gt):Se.none(),bZ=t=>(r,a,u={})=>{const f=r.getBody(),y={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:f,currentTarget:f,eventPhase:Event.AT_TARGET,originalTarget:f,explicitOriginalTarget:f,isTrusted:!1,srcElement:f,cancelable:!1,preventDefault:gt,inputType:a},T=h0(new InputEvent(t));return r.dispatch(t,{...T,...y,...u})},QR=bZ("input"),VN=bZ("beforeinput"),q$=Dd(),yZ=q$.os,SZ=yZ.isMacOS()||yZ.isiOS(),Sue=q$.browser.isFirefox(),Cue=(t,r,a)=>{const u=a.keyCode===yo.BACKSPACE?"deleteContentBackward":"deleteContentForward",f=t.selection.isCollapsed(),y=f?"character":"selection",T=M=>f?M?"word":"line":"selection";nq([{keyCode:yo.BACKSPACE,action:ks(yN,t)},{keyCode:yo.BACKSPACE,action:ks(RH,t,!1)},{keyCode:yo.DELETE,action:ks(RH,t,!0)},{keyCode:yo.BACKSPACE,action:ks(xH,t,!1)},{keyCode:yo.DELETE,action:ks(xH,t,!0)},{keyCode:yo.BACKSPACE,action:ks(XH,t,r,!1)},{keyCode:yo.DELETE,action:ks(XH,t,r,!0)},{keyCode:yo.BACKSPACE,action:ks(fV,t,!1)},{keyCode:yo.DELETE,action:ks(fV,t,!0)},{keyCode:yo.BACKSPACE,action:ks(T_,t,!1,y)},{keyCode:yo.DELETE,action:ks(T_,t,!0,y)},...SZ?[{keyCode:yo.BACKSPACE,altKey:!0,action:ks(T_,t,!1,T(!0))},{keyCode:yo.DELETE,altKey:!0,action:ks(T_,t,!0,T(!0))},{keyCode:yo.BACKSPACE,metaKey:!0,action:ks(T_,t,!1,T(!1))}]:[{keyCode:yo.BACKSPACE,ctrlKey:!0,action:ks(T_,t,!1,T(!0))},{keyCode:yo.DELETE,ctrlKey:!0,action:ks(T_,t,!0,T(!0))}],{keyCode:yo.BACKSPACE,action:ks(DH,t,!1)},{keyCode:yo.DELETE,action:ks(DH,t,!0)},{keyCode:yo.BACKSPACE,action:ks(gN,t,!1)},{keyCode:yo.DELETE,action:ks(gN,t,!0)},{keyCode:yo.BACKSPACE,action:ks(_H,t,!1)},{keyCode:yo.DELETE,action:ks(_H,t,!0)},{keyCode:yo.BACKSPACE,action:ks(EH,t,!1)},{keyCode:yo.DELETE,action:ks(EH,t,!0)},{keyCode:yo.BACKSPACE,action:ks(t$,t,!1)},{keyCode:yo.DELETE,action:ks(t$,t,!0)},{keyCode:yo.BACKSPACE,action:ks(kH,t,!1)},{keyCode:yo.DELETE,action:ks(kH,t,!0)},{keyCode:yo.BACKSPACE,action:ks($R,t,!1)},{keyCode:yo.DELETE,action:ks($R,t,!0)}],a).filter(M=>t.selection.isEditable()).each(M=>{a.preventDefault(),VN(t,u).isDefaultPrevented()||(M(),QR(t,u))})},CZ=(t,r,a,u)=>jR([{keyCode:yo.BACKSPACE,action:ks(Z9,t)},{keyCode:yo.DELETE,action:ks(Z9,t)},...SZ?[{keyCode:yo.BACKSPACE,altKey:!0,action:ks(C_,t)},{keyCode:yo.DELETE,altKey:!0,action:ks(C_,t)},...a?[{keyCode:Sue?224:91,action:ks(()=>(KC(t,u),C_(t)))}]:[]]:[{keyCode:yo.BACKSPACE,ctrlKey:!0,action:ks(C_,t)},{keyCode:yo.DELETE,ctrlKey:!0,action:ks(C_,t)}]],r),Eue=(t,r)=>{let a=!1,u=[];t.on("keydown",f=>{a=f.keyCode===yo.BACKSPACE,u=fN(t),f.isDefaultPrevented()||Cue(t,r,f)}),t.on("keyup",f=>{f.isDefaultPrevented()||(CZ(t,f,a,u),u.length=0),a=!1})},wue=(t,r)=>{const a=Qe.fromDom(t),u=Qe.fromDom(r),f=yl("span"),y=st(_o,a),T=N=>na(N)&&ml(N,"font-size").isSome(),M=[...T(u)?[u]:[],...ae(u,T,y)];Ze(M.slice(1),N=>{e0(N,"font-size"),pl(N,"data-mce-style"),f(N)&&Pv(N)&&Mu(N)})},_ue=t=>{for(;t;){if(Oo(t)||Bn(t)&&t.data&&/[\r\n\s]/.test(t.data))return Se.from(Qe.fromDom(t));t=t.nextSibling}return Se.none()},x_=(t,r)=>{const a=t.dom,u=t.schema.getMoveCaretBeforeOnEnterElements();if(!r)return;if(/^(LI|DT|DD)$/.test(r.nodeName)){const y=N=>/^(ul|ol|dl)$/.test(Ns(N)),T=N=>y(N)?Se.from(N):Vv(N,y),M=N=>a.isEmpty(N.dom);_ue(r.firstChild).each(N=>{T(N).fold(()=>{if(M(N)){const G=wce(N,0).element;na(G)&&!Cf(G)&&$r(G,Qe.fromText(ki))}},G=>{Tc(G,Qe.fromText(ki))})})}const f=a.createRng();if(r.normalize(),r.hasChildNodes()){const y=new Zi(r,r);let T=r,M;for(;M=y.current();){if(Bn(M)){f.setStart(M,0),f.setEnd(M,0);break}if(u[M.nodeName.toLowerCase()]){f.setStartBefore(M),f.setEndBefore(M);break}T=M,M=y.next()}M||(f.setStart(T,0),f.setEnd(T,0))}else fa(r)?r.nextSibling&&a.isBlock(r.nextSibling)?(f.setStartBefore(r),f.setEndBefore(r)):(f.setStartAfter(r),f.setEndAfter(r)):(f.setStart(r,0),f.setEnd(r,0));t.selection.setRng(f),Uw(t,f)},Sx=(t,r)=>{const a=t.getRoot();let u,f=r;for(;f!==a&&f&&t.getContentEditable(f)!=="false";){if(t.getContentEditable(f)==="true"){u=f;break}f=f.parentNode}return f!==a?u:a},Z$=t=>Se.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock)),Aue=t=>Z$(t).fold(nt(""),r=>r.nodeName.toUpperCase()),Tue=t=>Z$(t).filter(r=>Zm(Qe.fromDom(r))).isSome(),K$=t=>{t.innerHTML='<br data-mce-bogus="1">'},xue=(t,r,a)=>{const u=t.dom;Se.from(a.style).map(u.parseStyle).each(N=>{const le={...Rm(Qe.fromDom(r)),...N};u.setStyles(r,le)});const f=Se.from(a.class).map(N=>N.split(/\s+/)),y=Se.from(r.className).map(N=>je(N.split(/\s+/),G=>G!==""));wr(f,y,(N,G)=>{const le=je(G,be=>!kt(N,be)),fe=[...N,...le];u.setAttrib(r,"class",fe.join(" "))});const T=["style","class"],M=or(a,(N,G)=>!kt(T,G));u.setAttribs(r,M)},e2=(t,r)=>{if(Uu(t).toLowerCase()===r.tagName.toLowerCase()){const u=vC(t);xue(t,r,u)}},EZ=(t,r,a,u,f=!0,y,T)=>{const M=t.dom,N=t.schema,G=Uu(t),le=a?a.nodeName.toUpperCase():"";let fe=r;const be=N.getTextInlineElements();let Ne;y||le==="TABLE"||le==="HR"?Ne=M.create(y||G,T||{}):Ne=a.cloneNode(!1);let Ke=Ne;if(!f)M.setAttrib(Ne,"style",null),M.setAttrib(Ne,"class",null);else{do if(be[fe.nodeName]){if(Jm(fe)||am(fe))continue;const $e=fe.cloneNode(!1);M.setAttrib($e,"id",""),Ne.hasChildNodes()?($e.appendChild(Ne.firstChild),Ne.appendChild($e)):(Ke=$e,Ne.appendChild($e))}while((fe=fe.parentNode)&&fe!==u);wue(Ne,Ke)}return e2(t,Ne),K$(Ke),Ne},Oue=(t,r)=>t.dom.getParent(r,i0),kSe=(t,r,a)=>{let u=r;for(;u&&u!==t&&F(u.nextSibling);){const f=u.parentElement;if(!f||!a(f))return i0(f);u=f}return!1},Iue=(t,r,a)=>!r&&a.nodeName.toLowerCase()===Uu(t)&&t.dom.isEmpty(a)&&kSe(t.getBody(),a,u=>ts(t.schema.getTextBlockElements(),u.nodeName.toLowerCase())),FN=(t,r,a)=>{const u=r(Uu(t)),f=Oue(t,a);f&&(t.dom.insertAfter(u,f),x_(t,u),(a.parentElement?.childNodes?.length??0)>1&&t.dom.remove(a))},wZ=(t,r)=>t.firstChild&&t.firstChild.nodeName===r,_Z=t=>t.parentNode?.firstChild===t,AZ=(t,r)=>{const a=t?.parentNode;return De(a)&&a.nodeName===r},Y$=t=>De(t)&&/^(OL|UL|LI)$/.test(t.nodeName),HN=t=>De(t)&&/^(LI|DT|DD)$/.test(t.nodeName),Rue=t=>Y$(t)&&Y$(t.parentNode),$N=t=>{const r=t.parentNode;return HN(r)?r:t},UN=(t,r,a)=>{let u=t[a?"firstChild":"lastChild"];for(;u&&!Oo(u);)u=u[a?"nextSibling":"previousSibling"];return u===r},X$=t=>rn(ya(Rm(Qe.fromDom(t)),(r,a)=>`${a}: ${r};`),(r,a)=>r+a,""),kue=(t,r,a,u,f)=>{const y=t.dom,T=t.selection.getRng(),M=a.parentNode;if(a===t.getBody()||!M)return;Rue(a)&&(f="LI");const N=HN(u)?X$(u):void 0;let G=HN(u)&&N?r(f,{style:X$(u)}):r(f);if(UN(a,u,!0)&&UN(a,u,!1))if(AZ(a,"LI")){const le=$N(a);y.insertAfter(G,le),_Z(a)?y.remove(le):y.remove(a)}else y.replace(G,a);else if(UN(a,u,!0))AZ(a,"LI")?(y.insertAfter(G,$N(a)),G.appendChild(y.doc.createTextNode(" ")),G.appendChild(a)):M.insertBefore(G,a),y.remove(u);else if(UN(a,u,!1))y.insertAfter(G,$N(a)),y.remove(u);else{a=$N(a);const le=T.cloneRange();le.setStartAfter(u),le.setEndAfter(a);const fe=le.extractContents();if(f==="LI"&&wZ(fe,"LI")){const be=je(mn(G.children,Qe.fromDom),vn(yl("br")));G=fe.firstChild,y.insertAfter(fe,a),Ze(be,Ne=>np(Qe.fromDom(G),Ne)),N&&G.setAttribute("style",N)}else y.insertAfter(fe,a),y.insertAfter(G,a);y.remove(u)}x_(t,G)},J$=t=>{Ze(qe(Qe.fromDom(t),Jr),r=>{const a=r.dom;a.nodeValue=ue(a.data)})},Due=(t,r)=>{const a=t.dom.getParent(r,"ol,ul,dl");return a!==null&&t.dom.getContentEditableParent(a)==="false"},Mue=(t,r)=>r&&r.nodeName==="A"&&t.isEmpty(r),Q$=(t,r)=>t.nodeName===r||t.previousSibling&&t.previousSibling.nodeName===r,TZ=(t,r)=>t.nodeName===r||t.nextSibling&&t.nextSibling.nodeName===r,eU=(t,r)=>De(r)&&t.isBlock(r)&&!/^(TD|TH|CAPTION|FORM)$/.test(r.nodeName)&&!/^(fixed|absolute)/i.test(r.style.position)&&t.isEditable(r.parentNode)&&t.getContentEditable(r)!=="false",Pue=(t,r,a)=>{const u=[];if(!a)return;let f=a;for(;f=f.firstChild;){if(t.isBlock(f))return;Oo(f)&&!r[f.nodeName.toLowerCase()]&&u.push(f)}let y=u.length;for(;y--;)f=u[y],(!f.hasChildNodes()||f.firstChild===f.lastChild&&f.firstChild?.nodeValue===""||Mue(t,f))&&t.remove(f)},tU=(t,r,a)=>Bn(r)?t?a===1&&r.data.charAt(a-1)===Z?0:a:a===r.data.length-1&&r.data.charAt(a)===Z?r.data.length:a:a,Nue=t=>{const r=t.cloneRange();return r.setStart(t.startContainer,tU(!0,t.startContainer,t.startOffset)),r.setEnd(t.endContainer,tU(!1,t.endContainer,t.endOffset)),r},DSe=t=>{let r=t;do Bn(r)&&(r.data=r.data.replace(/^[\r\n]+/,"")),r=r.firstChild;while(r)},Lue=(t,r,a,u,f)=>{const y=t.dom,T=Sx(y,u)??y.getRoot();let M=y.getParent(u,y.isBlock);if(!M||!eU(y,M)){if(M=M||T,!M.hasChildNodes()){const fe=y.create(r);return e2(t,fe),M.appendChild(fe),a.setStart(fe,0),a.setEnd(fe,0),fe}let N=u;for(;N&&N.parentNode!==M;)N=N.parentNode;let G;for(;N&&!y.isBlock(N);)G=N,N=N.previousSibling;const le=G?.parentElement?.nodeName;if(G&&le&&t.schema.isValidChild(le,r.toLowerCase())){const fe=G.parentNode,be=y.create(r);for(e2(t,be),fe.insertBefore(be,G),N=G;N&&!y.isBlock(N);){const Ne=N.nextSibling;be.appendChild(N),N=Ne}a.setStart(u,f),a.setEnd(u,f)}}return u},Bue=(t,r)=>{r.normalize();const a=r.lastChild;(!a||Oo(a)&&/^(left|right)$/gi.test(t.getStyle(a,"float",!0)))&&t.add(r,"br")},Vue=(t,r)=>{const a=Fz(t);return Fe(r)?!1:re(a)?kt(Un.explode(a),r.nodeName.toLowerCase()):a},nU={insert:(t,r)=>{let a,u,f,y,T=!1;const M=t.dom,N=t.schema,G=N.getNonEmptyElements(),le=t.selection.getRng(),fe=Uu(t),be=Qe.fromDom(le.startContainer),Ne=Nh(be,le.startOffset),Ke=Ne.exists(Pn=>Mh(Pn)&&!Nu(Pn)),$e=le.collapsed&&Ke,Xe=(Pn,Lo)=>EZ(t,a,mo,Mn,k1(t),Pn,Lo),wt=Pn=>{const Lo=tU(Pn,a,u);if(Bn(a)&&(Pn?Lo>0:Lo<a.data.length))return!1;if((a.parentNode===mo||a===mo)&&T&&!Pn||Pn&&Oo(a)&&a===mo.firstChild)return!0;if(Q$(a,"TABLE")||Q$(a,"HR"))return TZ(a,"BR")?!Pn:T&&!Pn||!T&&Pn;const Os=new Zi(a,mo);Bn(a)&&(Pn&&Lo===0?Os.prev():!Pn&&Lo===a.data.length&&Os.next());let hr;for(;hr=Os.current();){if(Oo(hr)){if(!hr.getAttribute("data-mce-bogus")){const Mr=hr.nodeName.toLowerCase();if(G[Mr]&&Mr!=="br")return!1}}else if(Bn(hr)&&!Lg(hr.data))return!1;Pn?Os.prev():Os.next()}return!0},Tt=()=>{let Pn;return/^(H[1-6]|PRE|FIGURE)$/.test(f)&&Wn!=="HGROUP"?Pn=Xe(fe):Pn=Xe(),Vue(t,y)&&eU(M,y)&&M.isEmpty(mo,void 0,{includeZwsp:!0})?Pn=M.split(y,mo):M.insertAfter(Pn,mo),x_(t,Pn),Pn};$w(M,le).each(Pn=>{le.setStart(Pn.startContainer,Pn.startOffset),le.setEnd(Pn.endContainer,Pn.endOffset)}),a=le.startContainer,u=le.startOffset;const It=!!(r&&r.shiftKey),fn=!!(r&&r.ctrlKey);Oo(a)&&a.hasChildNodes()&&!$e&&(T=u>a.childNodes.length-1,a=a.childNodes[Math.min(u,a.childNodes.length-1)]||a,T&&Bn(a)?u=a.data.length:u=0);const Mn=Sx(M,a);if(!Mn||Due(t,a))return;It||(a=Lue(t,fe,le,a,u));let mo=M.getParent(a,M.isBlock)||M.getRoot();y=De(mo?.parentNode)?M.getParent(mo.parentNode,M.isBlock):null,f=mo?mo.nodeName.toUpperCase():"";const Wn=y?y.nodeName.toUpperCase():"";if(Wn==="LI"&&!fn){const Pn=y;mo=Pn,y=Pn.parentNode,f=Wn}if(Oo(y)&&Iue(t,It,mo))return FN(t,Xe,mo);if(/^(LI|DT|DD)$/.test(f)&&Oo(y)&&M.isEmpty(mo)){kue(t,Xe,y,mo,fe);return}if(!$e&&(mo===t.getBody()||!eU(M,mo)))return;const gn=mo.parentNode;let hn;if($e)hn=Xe(fe),Ne.fold(()=>{$r(be,Qe.fromDom(hn))},Pn=>{Tc(Pn,Qe.fromDom(hn))}),t.selection.setCursorLocation(hn,0);else if(Ae(mo))hn=Hn(mo),M.isEmpty(mo)&&K$(mo),e2(t,hn),x_(t,hn);else if(wt(!1))hn=Tt();else if(wt(!0)&&gn){const Pn=sn.fromRangeStart(le),Lo=KB(Pn),Os=Qe.fromDom(mo),Mr=NM(Os,Pn,t.schema)?Vj(Os,Pn,t.schema).bind(xa=>Se.from(xa.getNode())):Se.none();hn=gn.insertBefore(Xe(),mo);const va=Q$(mo,"HR")||Lo?hn:Mr.getOr(mo);x_(t,va)}else{const Pn=Nue(le).cloneRange();Pn.setEndAfter(mo);const Lo=Pn.extractContents();J$(Lo),DSe(Lo),hn=Lo.firstChild,mo===hn?De(gn)&&M.insertAfter(Lo,gn):M.insertAfter(Lo,mo),Pue(M,G,hn),Bue(M,mo),M.isEmpty(mo)&&K$(mo),hn.normalize(),M.isEmpty(hn)?(M.remove(hn),Tt()):(e2(t,hn),x_(t,hn))}M.setAttrib(hn,"id",""),t.dispatch("NewBlock",{newBlock:hn})},fakeEventName:"insertParagraph"},Fue=(t,r,a)=>{const u=new Zi(r,a);let f;const y=t.getNonEmptyElements();for(;f=u.next();)if(y[f.nodeName.toLowerCase()]||Bn(f)&&f.length>0)return!0;return!1},zN=(t,r,a)=>{const u=t.dom.createRng();a?(u.setStartBefore(r),u.setEndBefore(r)):(u.setStartAfter(r),u.setEndAfter(r)),t.selection.setRng(u),Uw(t,u)},P0=(t,r)=>{const a=t.selection,u=t.dom,f=a.getRng();let y,T=!1;$w(u,f).each(Ne=>{f.setStart(Ne.startContainer,Ne.startOffset),f.setEnd(Ne.endContainer,Ne.endOffset)});let M=f.startOffset,N=f.startContainer;if(Oo(N)&&N.hasChildNodes()){const Ne=M>N.childNodes.length-1;N=N.childNodes[Math.min(M,N.childNodes.length-1)]||N,Ne&&Bn(N)?M=N.data.length:M=0}let G=u.getParent(N,u.isBlock);const le=G&&G.parentNode?u.getParent(G.parentNode,u.isBlock):null,fe=le?le.nodeName.toUpperCase():"",be=!!(r&&r.ctrlKey);fe==="LI"&&!be&&(G=le),Bn(N)&&M>=N.data.length&&(Fue(t.schema,N,G||u.getRoot())||(y=u.create("br"),f.insertNode(y),f.setStartAfter(y),f.setEndAfter(y),T=!0)),y=u.create("br"),tT(u,f,y),zN(t,y,T),t.undoManager.add()},xZ=(t,r)=>{const a=Qe.fromTag("br");Tc(Qe.fromDom(r),a),t.undoManager.add()},OZ=(t,r)=>{jN(t.getBody(),r)||rh(Qe.fromDom(r),Qe.fromTag("br"));const a=Qe.fromTag("br");rh(Qe.fromDom(r),a),zN(t,a.dom,!1),t.undoManager.add()},Hue=t=>fa(t.getNode()),jN=(t,r)=>Hue(sn.after(r))?!0:zh(t,sn.after(r)).map(a=>fa(a.getNode())).getOr(!1),WN=t=>t&&t.nodeName==="A"&&"href"in t,IZ=t=>t.fold(qt,WN,WN,qt),RZ=t=>{const r=st(IC,t),a=sn.fromRangeStart(t.selection.getRng());return Iy(r,t.getBody(),a).filter(IZ)},$ue=(t,r)=>{r.fold(gt,st(xZ,t),st(OZ,t),gt)},kZ={insert:(t,r)=>{const a=RZ(t);a.isSome()?a.each(st($ue,t)):P0(t,r)},fakeEventName:"insertLineBreak"},DZ=(t,r)=>Z$(t).filter(a=>r.length>0&&dr(Qe.fromDom(a),r)).isSome(),MZ=t=>DZ(t,Ur(t)),Uue=t=>DZ(t,tv(t)),cg=Fl.generate([{br:[]},{block:[]},{none:[]}]),BSe=(t,r)=>Uue(t),GN=t=>(r,a)=>Tue(r)===t,PZ=(t,r)=>(a,u)=>Aue(a)===t.toUpperCase()===r,zue=t=>{const r=Sx(t.dom,t.selection.getStart());return Fe(r)},t2=t=>PZ("pre",t),jue=()=>PZ("summary",!0),qN=t=>(r,a)=>$4(r)===t,Wue=(t,r)=>MZ(t),ZN=(t,r)=>r,Gue=t=>{const r=Uu(t),a=Sx(t.dom,t.selection.getStart());return De(a)&&t.schema.isValidChild(a.nodeName,r)},KN=t=>{const r=t.selection.getRng(),a=Qe.fromDom(r.startContainer),f=Nh(a,r.startOffset).map(y=>Mh(y)&&!Nu(y));return r.collapsed&&f.getOr(!0)},mv=(t,r)=>(a,u)=>rn(t,(y,T)=>y&&T(a,u),!0)?Se.some(r):Se.none(),que=(t,r)=>cx([mv([BSe],cg.none()),mv([t2(!0),zue],cg.none()),mv([jue()],cg.br()),mv([t2(!0),qN(!1),ZN],cg.br()),mv([t2(!0),qN(!1)],cg.block()),mv([t2(!0),qN(!0),ZN],cg.block()),mv([t2(!0),qN(!0)],cg.br()),mv([GN(!0),ZN],cg.br()),mv([GN(!0)],cg.block()),mv([Wue],cg.br()),mv([ZN],cg.br()),mv([Gue],cg.block()),mv([KN],cg.block())],[t,!!(r&&r.shiftKey)]).getOr(cg.none()),Cx=(t,r,a)=>{r.mode.isReadOnly()||(r.selection.isCollapsed()||Yne(r),!(De(a)&&VN(r,t.fakeEventName).isDefaultPrevented())&&(t.insert(r,a),De(a)&&QR(r,t.fakeEventName)))},YN=(t,r)=>{if(t.mode.isReadOnly())return;const a=()=>Cx(kZ,t,r),u=()=>Cx(nU,t,r),f=que(t,r);switch(U4(t)){case"linebreak":f.fold(a,a,gt);break;case"block":f.fold(u,u,gt);break;case"invert":f.fold(u,a,gt);break;default:f.fold(a,u,gt);break}},NZ=Dd(),Zue=NZ.os.isiOS()&&NZ.browser.isSafari(),oU=(t,r)=>{r.isDefaultPrevented()||(r.preventDefault(),pF(t.undoManager),t.undoManager.transact(()=>{YN(t,r)}))},Kue=t=>{if(!t.collapsed)return!1;const r=t.startContainer;if(Bn(r)){const a=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,u=r.data.charAt(t.startOffset-1);return a.test(u)}else return!1},Yue=t=>{let r=Se.none();const a=f=>{r=Se.some(f.selection.getBookmark()),f.undoManager.add()},u=(f,y)=>{f.undoManager.undo(),r.fold(gt,T=>f.selection.moveToBookmark(T)),oU(f,y),r=Se.none()};t.on("keydown",f=>{f.keyCode===yo.ENTER&&(Zue&&Kue(t.selection.getRng())?a(t):oU(t,f))}),t.on("keyup",f=>{f.keyCode===yo.ENTER&&r.each(()=>u(t,f))})},Xue=(t,r,a)=>{const u=_r.os.isMacOS()||_r.os.isiOS();jR([{keyCode:yo.END,action:ks(KG,t,!0)},{keyCode:yo.HOME,action:ks(KG,t,!1)},...u?[]:[{keyCode:yo.HOME,action:ks(EN,t,!1),ctrlKey:!0,shiftKey:!0},{keyCode:yo.END,action:ks(EN,t,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:yo.END,action:ks(iS,t,!0)},{keyCode:yo.HOME,action:ks(iS,t,!1)},{keyCode:yo.END,action:ks(px,t,!0,r)},{keyCode:yo.HOME,action:ks(px,t,!1,r)}],a).each(f=>{a.preventDefault()})},Jue=(t,r)=>{t.on("keydown",a=>{a.isDefaultPrevented()||Xue(t,r,a)})},Que=t=>{t.on("input",r=>{r.isComposing||Gj(t)})},ede=Dd(),LZ=(t,r,a)=>{jR([{keyCode:yo.PAGE_UP,action:ks(px,t,!1,r)},{keyCode:yo.PAGE_DOWN,action:ks(px,t,!0,r)}],a)},n2=t=>t.stopImmediatePropagation(),sU=t=>t.keyCode===yo.PAGE_UP||t.keyCode===yo.PAGE_DOWN,rU=(t,r,a)=>{a&&!t.get()?r.on("NodeChange",n2,!0):!a&&t.get()&&r.off("NodeChange",n2),t.set(a)},tde=(t,r)=>{if(ede.os.isMacOS())return;const a=$o(!1);t.on("keydown",u=>{sU(u)&&rU(a,t,!0)}),t.on("keyup",u=>{u.isDefaultPrevented()||LZ(t,r,u),sU(u)&&a.get()&&(rU(a,t,!1),t.nodeChanged())})},BZ=(t,r)=>t===r||t.contains(r),XN=(t,r)=>!BZ(t.getBody(),r.startContainer)||!BZ(t.getBody(),r.endContainer)?!0:bj(t.dom,r),nde=t=>{t.on("beforeinput",r=>{(!t.selection.isEditable()||bn(r.getTargetRanges(),a=>!XN(t,a)))&&r.preventDefault()})},iU=(t,r)=>{const a=r.container(),u=r.offset();return Bn(a)?(a.insertData(u,t),Se.some(sn(a,u+t.length))):EC(r).map(f=>{const y=Qe.fromText(t);return r.isAtEnd()?rh(f,y):Tc(f,y),sn(y.dom,t.length)})},VZ=st(iU,ki),aU=st(iU," "),ode=(t,r,a)=>Uj(t,r,a)?VZ(r):aU(r),sde=t=>r=>r.fold(a=>uu(t.dom,sn.before(a)),a=>du(a),a=>Tf(a),a=>zh(t.dom,sn.after(a))),rde=(t,r,a)=>u=>Uj(t,u,a)?VZ(r):aU(r),FZ=t=>r=>{t.selection.setRng(r.toRange()),t.nodeChanged()},ide=(t,r)=>t.isEditable(t.getParent(r,"summary")),Ex=t=>{const r=sn.fromRangeStart(t.selection.getRng()),a=Qe.fromDom(t.getBody());if(t.selection.isCollapsed()){const u=st(IC,t),f=sn.fromRangeStart(t.selection.getRng());return Iy(u,t.getBody(),f).bind(sde(a)).map(y=>()=>rde(a,r,t.schema)(y).each(FZ(t)))}else return Se.none()},ade=t=>{const r=()=>{const a=Qe.fromDom(t.getBody());t.selection.isCollapsed()||t.getDoc().execCommand("Delete");const u=sn.fromRangeStart(t.selection.getRng());ode(a,u,t.schema).each(FZ(t))};return wc(_r.browser.isFirefox()&&t.selection.isEditable()&&ide(t.dom,t.selection.getRng().startContainer),r)},lde=(t,r)=>{nq([{keyCode:yo.SPACEBAR,action:ks(Ex,t)},{keyCode:yo.SPACEBAR,action:ks(ade,t)}],r).each(a=>{r.preventDefault(),VN(t,"insertText",{data:" "}).isDefaultPrevented()||(a(),QR(t,"insertText",{data:" "}))})},HZ=t=>{t.on("keydown",r=>{r.isDefaultPrevented()||lde(t,r)})},cde=t=>tB(t)?[{keyCode:yo.TAB,action:ks(lg,t,!0)},{keyCode:yo.TAB,shiftKey:!0,action:ks(lg,t,!1)}]:[],ude=(t,r)=>{jR([...cde(t)],r).each(a=>{r.preventDefault()})},dde=t=>{t.on("keydown",r=>{r.isDefaultPrevented()||ude(t,r)})},$Z=t=>{if(t.addShortcut("Meta+P","","mcePrint"),due(t),uv(t))return $o(null);{const r=Ile(t);return nde(t),sce(t),Nq(t,r),Eue(t,r),Yue(t),HZ(t),Que(t),dde(t),Jue(t,r),tde(t,r),r}},hde=(t,r)=>{const a=gb(t);a===null||rH(t,a)||t.undoManager.transact(()=>{ye(r.styles)&&t.dom.setStyles(a,r.styles),ye(r.attrs)&&eo(r.attrs,(u,f)=>t.dom.setAttrib(a,f,u))})},lU=(t,r)=>()=>{const a=gb(t);return De(a)&&a.nodeName===r},VSe=t=>{t.addCommand("InsertUnorderedList",(r,a)=>{fH(t,"UL",a)}),t.addCommand("InsertOrderedList",(r,a)=>{fH(t,"OL",a)}),t.addCommand("InsertDefinitionList",(r,a)=>{fH(t,"DL",a)}),t.addCommand("RemoveList",()=>{nN(t)}),t.addCommand("mceListUpdate",(r,a)=>{ye(a)&&hde(t,a)}),t.addCommand("mceListBackspaceDelete",(r,a)=>{vH(t,a)}),t.addQueryStateHandler("InsertUnorderedList",lU(t,"UL")),t.addQueryStateHandler("InsertOrderedList",lU(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",lU(t,"DL"))},JN=t=>{t.on("keydown",r=>{r.keyCode===yo.BACKSPACE?vH(t,!1)&&r.preventDefault():r.keyCode===yo.DELETE&&vH(t,!0)&&r.preventDefault()})},UZ=t=>t.type===3,zZ=t=>t.length===0,fde=t=>{const r=(f,y)=>{const T=vh.create("li");Ze(f,M=>T.append(M)),y?t.insert(T,y,!0):t.append(T)},a=(f,y)=>UZ(y)?[...f,y]:!zZ(f)&&!UZ(y)?(r(f,y),[]):f,u=rn(t.children(),a,[]);zZ(u)||r(u)},pde=t=>{t.on("PreInit",()=>{const{parser:r}=t;r.addNodeFilter("ul,ol",a=>Ze(a,fde))})},mde=t=>{t.on("keydown",r=>{r.keyCode!==yo.TAB||yo.metaKeyPressed(r)||t.undoManager.transact(()=>{(r.shiftKey?cH(t):x9(t))&&r.preventDefault()})})},gde=t=>{rB(t)&&mde(t)},vde=t=>{JN(t),VSe(t),pde(t),gde(t)};class bde{editor;lastPath=[];constructor(r){this.editor=r;let a;const u=this;"onselectionchange"in r.getDoc()||r.on("NodeChange click mouseup keyup focus",f=>{const y=r.selection.getRng(),T={startContainer:y.startContainer,startOffset:y.startOffset,endContainer:y.endContainer,endOffset:y.endOffset};(f.type==="nodechange"||!LB(T,a))&&r.dispatch("SelectionChange"),a=T}),r.on("contextmenu",()=>{SM(r),r.dispatch("SelectionChange")}),r.on("SelectionChange",()=>{const f=r.selection.getStart(!0);f&&NT(r)&&!u.isSameElementPath(f)&&r.dom.isChildOf(f,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("mouseup",f=>{!f.isDefaultPrevented()&&NT(r)&&(r.selection.getNode().nodeName==="IMG"?tg.setEditorTimeout(r,()=>{r.nodeChanged()}):r.nodeChanged())})}nodeChanged(r={}){const a=this.editor,u=a.selection;let f;if(a.initialized&&u&&!_D(a)&&!xw(a)){const y=a.getBody();f=u.getStart(!0)||y,(f.ownerDocument!==a.getDoc()||!a.dom.isChildOf(f,y))&&(f=y);const T=[];a.dom.getParent(f,M=>M===y?!0:(T.push(M),!1)),a.dispatch("NodeChange",{...r,element:f,parents:T})}}isSameElementPath(r){let a;const u=this.editor,f=Ps(u.dom.getParents(r,Tn,u.getBody()));if(f.length===this.lastPath.length){for(a=f.length;a>=0&&f[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=f,!0}return this.lastPath=f,!1}}const jZ="x-tinymce/html",QN=nt(jZ),cU="<!-- "+jZ+" -->",yde=t=>cU+t,Sde=t=>t.replace(cU,""),Wi=t=>t.indexOf(cU)!==-1,Cde=t=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t),WZ=(t,r)=>{let a="<"+t;const u=ya(r,(f,y)=>y+'="'+Gv.encodeAllRaw(f)+'"');return u.length&&(a+=" "+u.join(" ")),a+">"},Ede=(t,r,a)=>{const u=t.split(/\n\n/),f=WZ(r,a),y="</"+r+">",T=mn(u,N=>N.split(/\n/).join("<br />")),M=N=>f+N+y;return T.length===1?T[0]:mn(T,M).join("")},eL="%MCEPASTEBIN%",GZ=(t,r)=>{const{dom:a,selection:u}=t,f=t.getBody();r.set(u.getRng());const y=a.add(t.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},eL);_r.browser.isFirefox()&&a.setStyle(y,"left",a.getStyle(f,"direction",!0)==="rtl"?65535:-65535),a.bind(y,"beforedeactivate focusin focusout",T=>{T.stopPropagation()}),y.focus(),u.select(y,!0)},wde=(t,r)=>{const a=t.dom;if(uU(t)){let u;const f=r.get();for(;u=uU(t);)a.remove(u),a.unbind(u);f&&t.selection.setRng(f)}r.set(null)},uU=t=>t.dom.get("mcepastebin"),_de=t=>De(t)&&t.id==="mcepastebin",qZ=t=>{const r=t.dom,a=(T,M)=>{T.appendChild(M),r.remove(M,!0)},[u,...f]=je(t.getBody().childNodes,_de);Ze(f,T=>{a(u,T)});const y=r.select("div[id=mcepastebin]",u);for(let T=y.length-1;T>=0;T--){const M=r.create("div");u.insertBefore(M,y[T]),a(M,y[T])}return u?u.innerHTML:""},o2=t=>t===eL,Ade=t=>{const r=$o(null);return{create:()=>GZ(t,r),remove:()=>wde(t,r),getEl:()=>uU(t),getHtml:()=>qZ(t),getLastRng:r.get}},ZZ=(t,r)=>(Un.each(r,a=>{ce(a,RegExp)?t=t.replace(a,""):t=t.replace(a[0],a[1])}),t),dU=t=>{const r=yf(),a=Yw({},r);let u="";const f=r.getVoidElements(),y=Un.makeMap("script noscript style textarea video audio iframe object"," "),T=r.getBlockElements(),M=N=>{const G=N.name,le=N;if(G==="br"){u+=`
`;return}if(G!=="wbr"){if(f[G]&&(u+=" "),y[G]){u+=" ";return}if(N.type===3&&(u+=N.value),!(N.name in r.getVoidElements())){let fe=N.firstChild;if(fe)do M(fe);while(fe=fe.next)}T[G]&&le.next&&(u+=`
`,G==="p"&&(u+=`
`))}};return t=ZZ(t,[/<!\[[^\]]+\]>/g]),M(a.parse(t)),u},KZ=t=>(t=ZZ(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(a,u,f)=>!u&&!f?" ":ki],/<br class="Apple-interchange-newline">/g,/<br>$/i]),t),Tde=t=>{let r=0;return()=>t+r++},xde=t=>{const r=t.toLowerCase(),a={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Un.hasOwn(a,r)?"image/"+a[r]:"image/"+r},Ode=(t,r)=>{const a=Yw({sanitize:OI(t),sandbox_iframes:bT(t),sandbox_iframes_exclusions:Aw(t),convert_unsafe_embeds:RI(t)},t.schema);a.addNodeFilter("meta",f=>{Un.each(f,y=>{y.remove()})});const u=a.parse(r,{forced_root_block:!1,isRootContent:!0});return jw({validate:!0},t.schema).serialize(u)},hU=(t,r)=>({content:t,cancelled:r}),Ide=(t,r,a)=>{const u=t.dom.create("div",{style:"display:none"},r),f=F4(t,u,a);return hU(f.node.innerHTML,f.isDefaultPrevented())},Rde=(t,r,a)=>{const u=Bz(t,r,a),f=Ode(t,u.content);return t.hasEventListeners("PastePostProcess")&&!u.isDefaultPrevented()?Ide(t,f,a):hU(f,u.isDefaultPrevented())},YZ=(t,r,a)=>Rde(t,r,a),fU=(t,r)=>(t.insertContent(r,{merge:Y4(t),paste:!0}),!0),pU=t=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(t),kde=(t,r)=>pU(r)&&bn(LD(t),a=>zi(r.toLowerCase(),`.${a.toLowerCase()}`)),mU=(t,r,a)=>(t.undoManager.extra(()=>{a(t,r)},()=>{t.insertContent('<img src="'+r+'">')}),!0),Dde=(t,r,a)=>(t.undoManager.extra(()=>{a(t,r)},()=>{t.execCommand("mceInsertLink",!1,r)}),!0),XZ=(t,r,a)=>!t.selection.isCollapsed()&&pU(r)?Dde(t,r,a):!1,Mde=(t,r,a)=>kde(t,r)?mU(t,r,a):!1,gU=(t,r)=>{Un.each([XZ,Mde,fU],a=>!a(t,r,fU))},Pde=(t,r,a)=>{a||!DD(t)?fU(t,r):gU(t,r)},JZ=Tde("mceclip"),Nde=t=>{const r=S$();return ON(r,t),b$(r),r},QZ=(t,r,a,u,f)=>{const y=YZ(t,r,a);if(!y.cancelled){const T=y.content,M=()=>Pde(t,T,u);f?VN(t,"insertFromPaste",{dataTransfer:Nde(T)}).isDefaultPrevented()||(M(),QR(t,"insertFromPaste")):M()}},tL=(t,r,a,u)=>{const f=a||Wi(r);QZ(t,Sde(r),f,!1,u)},vU=(t,r,a)=>{const u=t.dom.encode(r).replace(/\r\n/g,`
`),f=qp(u,AI(t)),y=Ede(f,Uu(t),vC(t));QZ(t,y,!1,!0,a)},bU=t=>{const r={};if(t&&t.types)for(let a=0;a<t.types.length;a++){const u=t.types[a];try{r[u]=t.getData(u)}catch{r[u]=""}}return r},JC=(t,r)=>r in t&&t[r].length>0,yU=t=>JC(t,"text/html")||JC(t,"text/plain"),nL=(t,r)=>{const a=r.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return De(a)?t.dom.encode(a[1]):void 0},SU=(t,r,a,u)=>{const f=JZ(),y=Gr(t)&&De(a.name),T=y?nL(t,a.name):f,M=y?a.name:void 0,N=r.create(f,a,u,T,M);return r.add(N),N},CU=(t,r)=>{sP(r.uri).each(({data:a,type:u,base64Encoded:f})=>{const y=f?a:btoa(a),T=r.file,M=t.editorUpload.blobCache,G=M.getByData(y,u)??SU(t,M,T,y);tL(t,`<img src="${G.blobUri()}">`,!1,!0)})},Lde=t=>t.type==="paste",Bde=t=>Promise.all(mn(t,r=>r7(r).then(a=>({file:r,uri:a})))),wx=t=>{const r=LD(t);return a=>ms(a.type,"image/")&&bn(r,u=>xde(u)===a.type)},Vde=(t,r)=>{const a=r.items?Io(jt(r.items),f=>f.kind==="file"?[f.getAsFile()]:[]):[],u=r.files?jt(r.files):[];return je(a.length>0?a:u,wx(t))},O_=(t,r,a)=>{const u=Lde(r)?r.clipboardData:r.dataTransfer;if(N1(t)&&u){const f=Vde(t,u);if(f.length>0)return r.preventDefault(),Bde(f).then(y=>{a&&t.selection.setRng(a),Ze(y,T=>{CU(t,T)})}),!0}return!1},s2=t=>_r.os.isAndroid()&&t.clipboardData?.items?.length===0,Fde=t=>yo.metaKeyPressed(t)&&t.keyCode===86||t.shiftKey&&t.keyCode===45,EU=(t,r,a,u,f)=>{let y=KZ(a);const T=JC(r,QN())||Wi(a),M=!T&&Cde(y),N=pU(y);(o2(y)||!y.length||M&&!N)&&(u=!0),(u||N)&&(JC(r,"text/plain")&&M?y=r["text/plain"]:y=dU(y)),!o2(y)&&(u?vU(t,y,f):tL(t,y,T,f))},_x=(t,r,a)=>{let u;const f=()=>r.getLastRng()||t.selection.getRng();t.on("keydown",y=>{Fde(y)&&!y.isDefaultPrevented()&&(u=y.shiftKey&&y.keyCode===86)}),t.on("paste",y=>{if(y.isDefaultPrevented()||s2(y))return;const T=a.get()==="text"||u;u=!1;const M=bU(y.clipboardData);!yU(M)&&O_(t,y,f())||(JC(M,"text/html")?(y.preventDefault(),EU(t,M,M["text/html"],T,!0)):JC(M,"text/plain")&&JC(M,"text/uri-list")?(y.preventDefault(),EU(t,M,M["text/plain"],T,!0)):(r.create(),tg.setEditorTimeout(t,()=>{const N=r.getHtml();r.remove(),EU(t,M,N,T,!1)},0)))})},Hde=t=>{const r=f=>ms(f,"webkit-fake-url"),a=f=>ms(f,"data:"),u=f=>f.data?.paste===!0;t.parser.addNodeFilter("img",(f,y,T)=>{if(!N1(t)&&u(T))for(const M of f){const N=M.attr("src");re(N)&&!M.attr("data-mce-object")&&N!==_r.transparentSrc&&(r(N)||!vT(t)&&a(N))&&M.remove()}})},wU=(t,r,a)=>{_x(t,r,a),Hde(t)},$de=(t,r)=>{r.get()==="text"?(r.set("html"),hD(t,!1)):(r.set("text"),hD(t,!0)),t.focus()},eK=(t,r)=>{t.addCommand("mceTogglePlainTextPaste",()=>{$de(t,r)}),t.addCommand("mceInsertClipboardContent",(a,u)=>{u.html&&tL(t,u.html,u.internal,!1),u.text&&vU(t,u.text,!1)})},tK=(t,r,a)=>{if(t)try{return t.clearData(),t.setData("text/html",r),t.setData("text/plain",a),t.setData(QN(),r),!0}catch{return!1}else return!1},oL=(t,r,a,u)=>{tK(t.clipboardData,r.html,r.text)?(t.preventDefault(),u()):a(r.html,u)},_U=t=>(r,a)=>{const{dom:u,selection:f}=t,y=u.create("div",{contenteditable:"false","data-mce-bogus":"all"}),T=u.create("div",{contenteditable:"true"},r);u.setStyles(y,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),y.appendChild(T),u.add(t.getBody(),y);const M=f.getRng();T.focus();const N=u.createRng();N.selectNodeContents(T),f.setRng(N),tg.setEditorTimeout(t,()=>{f.setRng(M),u.remove(y),a()},0)},nK=t=>({html:yde(t.selection.getContent({contextual:!0})),text:t.selection.getContent({format:"text"})}),Ude=t=>!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody()),AU=t=>!t.selection.isCollapsed()||Ude(t),zde=(t,r)=>a=>{!a.isDefaultPrevented()&&AU(t)&&t.selection.isEditable()&&oL(a,nK(t),_U(t),()=>{if(_r.browser.isChromium()||_r.browser.isFirefox()){const u=t.selection.getRng();tg.setEditorTimeout(t,()=>{t.selection.setRng(u),SN(t,r)},0)}else SN(t,r)})},oK=t=>r=>{!r.isDefaultPrevented()&&AU(t)&&oL(r,nK(t),_U(t),gt)},TU=(t,r)=>{t.on("cut",zde(t,r)),t.on("copy",oK(t))},xU=(t,r)=>_0.getCaretRangeFromPoint(r.clientX??0,r.clientY??0,t.getDoc()),jde=t=>{const r=t["text/plain"];return r?r.indexOf("file://")===0:!1},sK=(t,r)=>{r&&t.selection.setRng(r),t.focus()},Wde=t=>bn(t.files,r=>/^image\//.test(r.type)),rK=(t,r,a,u)=>{const f=t.getParent(a,T=>xn(r,T));if(!F(t.getParent(a,"summary")))return!0;if(f&&ts(u,"text/html")){const T=new DOMParser().parseFromString(u["text/html"],"text/html").body;return!F(T.querySelector(f.nodeName.toLowerCase()))}else return!1},OU=t=>{t.on("input",r=>{const a=u=>F(u.querySelector("summary"));if(r.inputType==="deleteByDrag"){const u=je(t.dom.select("details"),a);Ze(u,f=>{fa(f.firstChild)&&f.firstChild.remove();const y=t.dom.create("summary");y.appendChild(D().dom),f.prepend(y)})}})},Gde=(t,r)=>{P1(t)&&t.on("dragend dragover draggesture dragdrop drop drag",a=>{a.preventDefault(),a.stopPropagation()}),N1(t)||t.on("drop",a=>{const u=a.dataTransfer;u&&Wde(u)&&a.preventDefault()}),t.on("drop",a=>{if(a.isDefaultPrevented())return;const u=xU(t,a);if(Fe(u))return;const f=bU(a.dataTransfer),y=JC(f,QN());if((!yU(f)||jde(f))&&O_(t,a,u))return;const T=f[QN()],M=T||f["text/html"]||f["text/plain"],N=rK(t.dom,t.schema,u.startContainer,f),G=r.get();G&&!N||M&&(a.preventDefault(),tg.setEditorTimeout(t,()=>{t.undoManager.transact(()=>{(T||G&&N)&&t.execCommand("Delete"),sK(t,u);const le=KZ(M);f["text/html"]?tL(t,le,y,!0):vU(t,le,!0)})}))}),t.on("dragstart",a=>{r.set(!0)}),t.on("dragover dragend",a=>{N1(t)&&!r.get()&&(a.preventDefault(),sK(t,xU(t,a))),a.type==="dragend"&&r.set(!1)}),OU(t)},iK=t=>{const r=f=>y=>{f(t,y)},a=OD(t);we(a)&&t.on("PastePreProcess",r(a));const u=ID(t);we(u)&&t.on("PastePostProcess",r(u))},aK=(t,r)=>{t.on("PastePreProcess",a=>{a.content=r(t,a.content,a.internal)})},qde=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,IU=t=>Un.trim(t).replace(qde,py).toLowerCase(),Zde=(t,r,a)=>{const u=mT(t);if(a||u==="all"||!kD(t))return r;const f=u?u.split(/[, ]/):[];if(f&&u!=="none"){const y=t.dom,T=t.selection.getNode();r=r.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(M,N,G,le)=>{const fe=y.parseStyle(y.decode(G)),be={};for(let Ke=0;Ke<f.length;Ke++){const $e=fe[f[Ke]];let Xe=$e,wt=y.getStyle(T,f[Ke],!0);/color/.test(f[Ke])&&(Xe=IU(Xe),wt=IU(wt)),wt!==Xe&&(be[f[Ke]]=$e)}const Ne=y.serializeStyle(be,"span");return Ne?N+' style="'+Ne+'"'+le:N+le})}else r=r.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return r=r.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(y,T,M,N)=>T+' style="'+M+'"'+N),r},Kde=t=>{(_r.browser.isChromium()||_r.browser.isSafari())&&aK(t,Zde)},sL=(t,r)=>{const a=$o(!1),u=$o(gT(t)?"text":"html"),f=Ade(t);Kde(t),eK(t,u),iK(t),t.addQueryStateHandler("mceTogglePlainTextPaste",()=>u.get()==="text"),t.on("PreInit",()=>{TU(t,r),Gde(t,a),wU(t,f,u)})},Yde=t=>{t.on("click",r=>{t.dom.getParent(r.target,"details")&&r.preventDefault()})},Xde=t=>{t.parser.addNodeFilter("details",r=>{const a=nB(t);Ze(r,u=>{a==="expanded"?u.attr("open","open"):a==="collapsed"&&u.attr("open",null)})}),t.serializer.addNodeFilter("details",r=>{const a=oB(t);Ze(r,u=>{a==="expanded"?u.attr("open","open"):a==="collapsed"&&u.attr("open",null)})})},lK=t=>{Yde(t),Xde(t)},cK=fa,uK=Bn,Jde=t=>si(t.dom),Qde=t=>iu(t.dom),dK=t=>r=>_o(Qe.fromDom(t),r),ehe=(t,r,a)=>Ei(Qe.fromDom(t),u=>Qde(u)||a.isBlock(Ns(u)),dK(r)).getOr(Qe.fromDom(r)).dom,RU=(t,r)=>Ei(Qe.fromDom(t),Jde,dK(r)),hK=(t,r,a)=>{const u=new Zi(t,r),f=a?u.next.bind(u):u.prev.bind(u);let y=t;for(let T=a?t:f();T&&!cK(T);T=f())Hi(T)&&(y=T);return y},the=(t,r,a)=>{const f=sn.fromRangeStart(t).getNode(),y=ehe(f,r,a),T=hK(f,y,!1),M=hK(f,y,!0),N=document.createRange();return RU(T,y).fold(()=>{uK(T)?N.setStart(T,0):N.setStartBefore(T)},G=>N.setStartBefore(G.dom)),RU(M,y).fold(()=>{uK(M)?N.setEnd(M,M.data.length):N.setEndAfter(M)},G=>N.setEndAfter(G.dom)),N},nhe=t=>{const r=the(t.selection.getRng(),t.getBody(),t.schema);t.selection.setRng(oP(r))},ohe=t=>{t.on("mousedown",r=>{r.detail>=3&&(r.preventDefault(),nhe(t))})};var Ax;(function(t){t.Before="before",t.After="after"})(Ax||(Ax={}));const she=(t,r)=>Math.abs(t.left-r),rhe=(t,r)=>Math.abs(t.right-r),ihe=(t,r)=>t>=r.top&&t<=r.bottom,fK=(t,r)=>t.top<r.bottom&&t.bottom>r.top,pK=(t,r)=>{const a=Rr(t,r)/Math.min(t.height,r.height);return fK(t,r)&&a>.5},ahe=(t,r)=>{const a=je(t,u=>ihe(r,u));return Ai(a).fold(()=>[[],t],u=>{const{pass:f,fail:y}=Dt(t,T=>pK(T,u));return[f,y]})},lhe=(t,r)=>({node:t.node,position:she(t,r)<rhe(t,r)?Ax.Before:Ax.After}),che=(t,r,a)=>r>t.left&&r<t.right?0:Math.min(Math.abs(t.left-r),Math.abs(t.right-r)),I_=(t,r,a,u)=>{const f=fe=>Hi(fe.node)?Se.some(fe):Oo(fe.node)?I_(jt(fe.node.childNodes),r,a,!1):Se.none(),y=(fe,be,Ne)=>f(be).filter(Ke=>Math.abs(Ne(fe,r,a)-Ne(Ke,r,a))<2&&Bn(Ke.node)),T=(fe,be)=>{const Ne=Ds(fe,(Ke,$e)=>be(Ke,r,a)-be($e,r,a));return wo(Ne,f).map(Ke=>u&&!Bn(Ke.node)&&Ne.length>1?y(Ke,Ne[1],be).getOr(Ke):Ke)},[M,N]=ahe(dG(t),a),{pass:G,fail:le}=Dt(N,fe=>fe.top<a);return T(M,che).orThunk(()=>T(le,lu)).orThunk(()=>T(G,lu))},uhe=(t,r,a,u)=>{const f=(y,T)=>{const M=G=>Oo(G)&&G.classList.contains("mce-drag-container"),N=je(y.dom.childNodes,vn(M));return T.fold(()=>I_(N,a,u,!0),G=>{const le=je(N,fe=>fe!==G.dom);return I_(le,a,u,!0)}).orThunk(()=>(_o(y,t)?Se.none():Ru(y)).bind(le=>f(le,Se.some(y))))};return f(r,Se.none())},dhe=(t,r,a)=>{const u=Qe.fromDom(t),f=ou(u),T=Qe.fromPoint(f,r,a).filter(M=>Xr(u,M)).getOr(u);return uhe(u,T,r,a)},kU=(t,r,a)=>dhe(t,r,a).filter(u=>Ow(u.node)).map(u=>lhe(u,r)),mK=t=>{const r=t.getBoundingClientRect(),a=t.ownerDocument,u=a.documentElement,f=a.defaultView;return{top:r.top+(f?.scrollY??0)-u.clientTop,left:r.left+(f?.scrollX??0)-u.clientLeft}},hhe=t=>t.inline?mK(t.getBody()):{left:0,top:0},fhe=t=>{const r=t.getBody();return t.inline?{left:r.scrollLeft,top:r.scrollTop}:{left:0,top:0}},phe=t=>{const r=t.getBody(),a=t.getDoc().documentElement,u={left:r.scrollLeft,top:r.scrollTop},f={left:r.scrollLeft||a.scrollLeft,top:r.scrollTop||a.scrollTop};return t.inline?u:f},mhe=(t,r)=>{if(r.target.ownerDocument!==t.getDoc()){const a=mK(t.getContentAreaContainer()),u=phe(t);return{left:r.pageX-a.left+u.left,top:r.pageY-a.top+u.top}}return{left:r.pageX,top:r.pageY}},rL=(t,r,a)=>({pageX:a.left-t.left+r.left,pageY:a.top-t.top+r.top}),gK=(t,r)=>rL(hhe(t),fhe(t),mhe(t,r)),DU=t=>({target:t,srcElement:t}),ghe=(t,r,a,u)=>({...r,dataTransfer:u,type:t,...DU(a)}),vhe=(t,r,a)=>{const u=To("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:t,composedPath:u,initEvent:u,preventDefault:gt,stopImmediatePropagation:gt,stopPropagation:gt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:u,initMouseEvent:u,getModifierState:u,dataTransfer:a,...DU(r)}},bhe=(t,r)=>{const a=Ice(t);return r==="dragstart"?(m$(a),mq(a)):r==="drop"?(_ce(a),b$(a)):(hq(a),xce(a)),a},FSe=(t,r,a,u)=>{const f=bhe(a,t);return ot(u)?vhe(t,r,f):ghe(t,u,r,f)},iL=32,yhe=100,Tx=8,R_=16,vK=si,She=Ti(vK,iu),Che=(t,r,a)=>vK(a)&&a!==r&&t.isEditable(a.parentElement),bK=(t,r,a)=>Fe(r)||r===a||t.dom.isChildOf(r,a)?!1:t.dom.isEditable(r),Ehe=(t,r,a,u)=>{const f=t.dom,y=r.cloneNode(!0);f.setStyles(y,{width:a,height:u}),f.setAttrib(y,"data-mce-selected",null);const T=f.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return f.setStyles(T,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:u}),f.setStyles(y,{margin:0,boxSizing:"border-box"}),T.appendChild(y),T},MU=(t,r)=>{t.parentNode!==r&&r.appendChild(t)},r2=(t,r)=>a=>()=>{const u=t==="left"?a.scrollX:a.scrollY;a.scroll({[t]:u+r,behavior:"smooth"})},yK=r2("left",-iL),SK=r2("left",iL),PU=r2("top",-iL),CK=r2("top",iL),HSe=(t,r,a,u,f,y,T,M,N,G,le,fe)=>{let be=0,Ne=0;t.style.left=r.pageX+"px",t.style.top=r.pageY+"px",r.pageX+a>f&&(be=r.pageX+a-f),r.pageY+u>y&&(Ne=r.pageY+u-y),t.style.width=a-be+"px",t.style.height=u-Ne+"px";const Ke=N.clientHeight,$e=N.clientWidth,Xe=T+N.getBoundingClientRect().top,wt=M+N.getBoundingClientRect().left;le.on(Tt=>{Tt.intervalId.clear(),Tt.dragging&&fe&&(T+Tx>=Ke?Tt.intervalId.set(CK(G)):T-Tx<=0?Tt.intervalId.set(PU(G)):M+Tx>=$e?Tt.intervalId.set(SK(G)):M-Tx<=0?Tt.intervalId.set(yK(G)):Xe+R_>=window.innerHeight?Tt.intervalId.set(CK(window)):Xe-R_<=0?Tt.intervalId.set(PU(window)):wt+R_>=window.innerWidth?Tt.intervalId.set(SK(window)):wt-R_<=0&&Tt.intervalId.set(yK(window)))})},EK=t=>{t&&t.parentNode&&t.parentNode.removeChild(t)},whe=(t,r)=>{const a=t.getParent(r.parentNode,t.isBlock);EK(r),a&&a!==t.getRoot()&&t.isEmpty(a)&&V(Qe.fromDom(a))},_he=t=>t.button===0,wK=(t,r)=>({pageX:r.pageX-t.relX,pageY:r.pageY+5}),NU=(t,r)=>a=>{if(_he(a)){const u=_t(r.dom.getParents(a.target),She).getOr(null);if(De(u)&&Che(r.dom,r.getBody(),u)){const f=r.dom.getPos(u),y=r.getBody(),T=r.getDoc().documentElement;t.set({element:u,dataTransfer:S$(),dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(r.inline?y.scrollWidth:T.offsetWidth)-2,maxY:(r.inline?y.scrollHeight:T.offsetHeight)-2,relX:a.pageX-f.x,relY:a.pageY-f.y,width:u.offsetWidth,height:u.offsetHeight,ghost:Ehe(r,u,u.offsetWidth,u.offsetHeight),intervalId:Am(yhe)})}}},aL=(t,r,a)=>{t._selectionOverrides.hideFakeCaret(),kU(t.getBody(),r,a).fold(()=>t.selection.placeCaretAt(r,a),u=>{const f=t._selectionOverrides.showCaret(1,u.node,u.position===Ax.Before,!1);f?t.selection.setRng(f):t.selection.placeCaretAt(r,a)})},xx=(t,r,a,u,f)=>{r==="dragstart"&&ON(u,t.dom.getOuterHTML(a));const y=FSe(r,a,u,f);return t.dispatch(r,y)},Ahe=(t,r)=>{const a=io((f,y)=>aL(r,f,y),0);r.on("remove",a.cancel);const u=t;return f=>t.on(y=>{const T=Math.max(Math.abs(f.screenX-y.screenX),Math.abs(f.screenY-y.screenY));if(!y.dragging&&T>10){const M=xx(r,"dragstart",y.element,y.dataTransfer,f);if(De(M.dataTransfer)&&(y.dataTransfer=M.dataTransfer),M.isDefaultPrevented())return;y.dragging=!0,r.focus()}if(y.dragging){const M=f.currentTarget===r.getDoc().documentElement,N=wK(y,gK(r,f));MU(y.ghost,r.getBody()),HSe(y.ghost,N,y.width,y.height,y.maxX,y.maxY,f.clientY,f.clientX,r.getContentAreaContainer(),r.getWin(),u,M),a.throttle(f.clientX,f.clientY)}})},The=t=>{const r=t.getSel();if(De(r)){const u=r.getRangeAt(0).startContainer;return Bn(u)?u.parentNode:u}else return null},xhe=(t,r)=>a=>{t.on(u=>{if(u.intervalId.clear(),u.dragging){if(bK(r,The(r.selection),u.element)){const f=r.getDoc().elementFromPoint(a.clientX,a.clientY)??r.getBody();xx(r,"drop",f,u.dataTransfer,a).isDefaultPrevented()||r.undoManager.transact(()=>{whe(r.dom,u.element),C$(u.dataTransfer).each(T=>r.insertContent(T)),r._selectionOverrides.hideFakeCaret()})}xx(r,"dragend",r.getBody(),u.dataTransfer,a)}}),TK(t)},_K=(t,r,a)=>{t.on(u=>{u.intervalId.clear(),u.dragging&&a.fold(()=>xx(r,"dragend",u.element,u.dataTransfer),f=>xx(r,"dragend",u.element,u.dataTransfer,f))}),TK(t)},AK=(t,r)=>a=>_K(t,r,Se.some(a)),TK=t=>{t.on(r=>{r.intervalId.clear(),EK(r.ghost)}),t.clear()},xK=t=>{const r=_c(),a=mi.DOM,u=document,f=NU(r,t),y=Ahe(r,t),T=xhe(r,t),M=AK(r,t);t.on("mousedown",f),t.on("mousemove",y),t.on("mouseup",T),a.bind(u,"mousemove",y),a.bind(u,"mouseup",M),t.on("remove",()=>{a.unbind(u,"mousemove",y),a.unbind(u,"mouseup",M)}),t.on("keydown",N=>{N.keyCode===yo.ESC&&_K(r,t,Se.none())})},Ohe=t=>{const r=f=>{if(!f.isDefaultPrevented()){const y=f.dataTransfer;y&&(kt(y.types,"Files")||y.files.length>0)&&(f.preventDefault(),f.type==="drop"&&$C(t,"Dropped file type is not supported"))}},a=f=>{EM(t,f.target)&&r(f)},u=()=>{const f=mi.DOM,y=t.dom,T=document,M=t.inline?t.getBody():t.getDoc(),N=["drop","dragover"];Ze(N,G=>{f.bind(T,G,a),y.bind(M,G,r)}),t.on("remove",()=>{Ze(N,G=>{f.unbind(T,G,a),y.unbind(M,G,r)})})};t.on("init",()=>{tg.setEditorTimeout(t,u,0)})},Ihe=t=>{xK(t),Ew(t)&&Ohe(t)},LU=t=>{const r=io(()=>{if(!t.removed&&t.getBody().contains(document.activeElement)){const a=t.selection.getRng();if(a.collapsed){const u=AH(t,a,!1);t.selection.setRng(u)}}},0);t.on("focus",()=>{r.throttle()}),t.on("blur",()=>{r.cancel()})},OK=t=>{t.on("init",()=>{t.on("focusin",r=>{const a=r.target;if(Hh(a)){const u=kC(t.getBody(),a),f=si(u)?u:a;t.selection.getNode()!==f&&MR(t,f).each(y=>t.selection.setRng(y))}})})},lL=si,IK=(t,r)=>kC(t.getBody(),r),RK=t=>{const r=t.selection,a=t.dom,u=t.getBody(),f=kI(t,u,a.isBlock,()=>ng(t)),y="sel-"+a.uniqueId(),T="data-mce-selected";let M;const N=Wn=>De(Wn)&&a.hasClass(Wn,"mce-offscreen-selection"),G=Wn=>Wn!==u&&(lL(Wn)||Hh(Wn))&&a.isChildOf(Wn,u)&&a.isEditable(Wn.parentNode),le=Wn=>{Wn&&r.setRng(Wn)},fe=(Wn,gn,hn,Pn=!0)=>t.dispatch("ShowCaret",{target:gn,direction:Wn,before:hn}).isDefaultPrevented()?null:(Pn&&r.scrollIntoView(gn,Wn===-1),f.show(hn,gn)),be=Wn=>{Wn.hasAttribute("data-mce-caret")&&(Hn(Wn),r.scrollIntoView(Wn))},Ne=()=>{t.on("click",gn=>{a.isEditable(gn.target)||(gn.preventDefault(),t.focus())}),t.on("blur NewBlock",fn),t.on("ResizeWindow FullscreenStateChanged",f.reposition),t.on("tap",gn=>{const hn=gn.target,Pn=IK(t,hn);lL(Pn)?(gn.preventDefault(),MR(t,Pn).each(It)):G(hn)&&MR(t,hn).each(It)},!0),t.on("mousedown",gn=>{const hn=gn.target;if(hn!==u&&hn.nodeName!=="HTML"&&!a.isChildOf(hn,u)||!CR(t,gn.clientX,gn.clientY))return;fn(),mo();const Pn=IK(t,hn);lL(Pn)?(gn.preventDefault(),MR(t,Pn).each(It)):kU(u,gn.clientX,gn.clientY).each(Lo=>{gn.preventDefault();const Os=fe(1,Lo.node,Lo.position===Ax.Before,!1);le(Os),ha(Pn)?Pn.focus():t.getBody().focus()})}),t.on("keypress",gn=>{yo.modifierPressed(gn)||lL(r.getNode())&&gn.preventDefault()}),t.on("GetSelectionRange",gn=>{let hn=gn.range;if(M){if(!M.parentNode){M=null;return}hn=hn.cloneRange(),hn.selectNode(M),gn.range=hn}}),t.on("focusin",gn=>{if(!Hh(gn.target)&&t.getBody().contains(gn.target)&&gn.target!==t.getBody()&&!t.dom.isEditable(gn.target.parentNode)){f.isShowing()&&f.hide(),gn.target.contains(t.selection.getNode())||(t.selection.select(gn.target,!0),t.selection.collapse(!0));const hn=It(t.selection.getRng(),!0);hn&&t.selection.setRng(hn)}}),t.on("SetSelectionRange",gn=>{gn.range=Xe(gn.range);const hn=It(gn.range,gn.forward);hn&&(gn.range=hn)});const Wn=gn=>Oo(gn)&&gn.id==="mcepastebin";t.on("AfterSetSelectionRange",gn=>{const hn=gn.range,Pn=hn.startContainer.parentElement;!$e(hn)&&!Wn(Pn)&&mo(),N(Pn)||fn()}),Ihe(t),LU(t),OK(t)},Ke=Wn=>Be(Wn)||Bt(Wn)||Ft(Wn),$e=Wn=>Ke(Wn.startContainer)||Ke(Wn.endContainer),Xe=Wn=>{const gn=t.schema.getVoidElements(),hn=a.createRng(),Pn=Wn.startContainer,Lo=Wn.startOffset,Os=Wn.endContainer,hr=Wn.endOffset;return ts(gn,Pn.nodeName.toLowerCase())?Lo===0?hn.setStartBefore(Pn):hn.setStartAfter(Pn):hn.setStart(Pn,Lo),ts(gn,Os.nodeName.toLowerCase())?hr===0?hn.setEndBefore(Os):hn.setEndAfter(Os):hn.setEnd(Os,hr),hn},wt=(Wn,gn)=>{const hn=Qe.fromDom(t.getBody()),Pn=t.getDoc(),Lo=Fh(hn,"#"+y).getOrThunk(()=>{const Mr=Qe.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Pn);return ca(Mr,"id",y),$r(hn,Mr),Mr}),Os=a.createRng();sd(Lo),ih(Lo,[Qe.fromText(ki,Pn),Qe.fromDom(gn),Qe.fromText(ki,Pn)]),Os.setStart(Lo.dom.firstChild,1),Os.setEnd(Lo.dom.lastChild,0),su(Lo,{top:a.getPos(Wn,t.getBody()).y+"px"}),qb(Lo);const hr=r.getSel();return hr&&(hr.removeAllRanges(),hr.addRange(Os)),Os},Tt=Wn=>{const gn=Wn.cloneNode(!0),hn=t.dispatch("ObjectSelected",{target:Wn,targetClone:gn});if(hn.isDefaultPrevented())return null;const Pn=wt(Wn,hn.targetClone),Lo=Qe.fromDom(Wn);return Ze(cn(Qe.fromDom(t.getBody()),`*[${T}]`),Os=>{_o(Lo,Os)||pl(Os,T)}),a.getAttrib(Wn,T)||Wn.setAttribute(T,"1"),M=Wn,mo(),Pn},It=(Wn,gn)=>{if(!Wn)return null;if(Wn.collapsed){if(!$e(Wn)){const Os=gn?1:-1,hr=sv(Os,u,Wn),Mr=hr.getNode(!gn);if(De(Mr)){if(Ow(Mr))return fe(Os,Mr,gn?!hr.isAtEnd():!1,!1);if(ke(Mr)&&si(Mr.nextSibling)){const xa=a.createRng();return xa.setStart(Mr,0),xa.setEnd(Mr,0),xa}}const va=hr.getNode(gn);if(De(va)){if(Ow(va))return fe(Os,va,gn?!1:!hr.isAtEnd(),!1);if(ke(va)&&si(va.previousSibling)){const xa=a.createRng();return xa.setStart(va,1),xa.setEnd(va,1),xa}}}return null}let hn=Wn.startContainer,Pn=Wn.startOffset;const Lo=Wn.endOffset;if(Bn(hn)&&Pn===0&&lL(hn.parentNode)&&(hn=hn.parentNode,Pn=a.nodeIndex(hn),hn=hn.parentNode),!Oo(hn))return null;if(Lo===Pn+1&&hn===Wn.endContainer){const Os=hn.childNodes[Pn];if(G(Os))return Tt(Os)}return null},fn=()=>{M&&M.removeAttribute(T),Fh(Qe.fromDom(t.getBody()),"#"+y).each(Di),M=null},Mn=()=>{f.destroy(),M=null},mo=()=>{f.hide()};return uv(t)||Ne(),{showCaret:fe,showBlockCaretContainer:be,hideFakeCaret:mo,destroy:Mn}},Rhe=(t,r)=>{let a=r;for(let u=t.previousSibling;Bn(u);u=u.previousSibling)a+=u.data.length;return a},cL=(t,r,a,u,f)=>{if(Bn(a)&&(u<0||u>a.data.length))return[];const y=f&&Bn(a)?[Rhe(a,u)]:[u];let T=a;for(;T!==r&&T.parentNode;)y.push(t.nodeIndex(T,f)),T=T.parentNode;return T===r?y.reverse():[]},BU=(t,r,a,u,f,y,T=!1)=>{const M=cL(t,r,a,u,T),N=cL(t,r,f,y,T);return{start:M,end:N}},kK=(t,r)=>{const a=r.slice(),u=a.pop();return ct(u)?rn(a,(y,T)=>y.bind(M=>Se.from(M.childNodes[T])),Se.some(t)).bind(y=>Bn(y)&&(u<0||u>y.data.length)?Se.none():Se.some({node:y,offset:u})):Se.none()},DK=(t,r)=>kK(t,r.start).bind(({node:a,offset:u})=>kK(t,r.end).map(({node:f,offset:y})=>{const T=document.createRange();return T.setStart(a,u),T.setEnd(f,y),T})),MK=(t,r,a,u=!1)=>BU(t,r,a.startContainer,a.startOffset,a.endContainer,a.endOffset,u),lS=(t,r,a)=>{if(r&&t.isEmpty(r)&&!a(r)){const u=r.parentNode;t.remove(r,Bn(r.firstChild)&&Lg(r.firstChild.data)),lS(t,u,a)}},i2=(t,r,a,u=!0)=>{const f=r.startContainer.parentNode,y=r.endContainer.parentNode;r.deleteContents(),u&&!a(r.startContainer)&&(Bn(r.startContainer)&&r.startContainer.data.length===0&&t.remove(r.startContainer),Bn(r.endContainer)&&r.endContainer.data.length===0&&t.remove(r.endContainer),lS(t,f,a),f!==y&&lS(t,y,a))},a2=(t,r)=>Se.from(t.dom.getParent(r.startContainer,t.dom.isBlock)),VU=(t,r,a)=>{const u=t.dynamicPatternsLookup({text:a,block:r});return{...t,blockPatterns:by(u).concat(t.blockPatterns),inlinePatterns:O1(u).concat(t.inlinePatterns)}},FU=(t,r,a,u)=>{const f=t.createRng();return f.setStart(r,0),f.setEnd(a,u),f.toString()},HU=(t,r)=>t.create("span",{"data-mce-type":"bookmark",id:r}),uL=(t,r)=>{const a=t.createRng();return a.setStartAfter(r.start),a.setEndBefore(r.end),a},PK=(t,r,a)=>{const u=DK(t.getRoot(),a).getOrDie("Unable to resolve path range"),f=u.startContainer,y=u.endContainer,T=u.endOffset===0?y:y.splitText(u.endOffset),M=u.startOffset===0?f:f.splitText(u.startOffset),N=M.parentNode,G=T.parentNode;return{prefix:r,end:G.insertBefore(HU(t,r+"-end"),T),start:N.insertBefore(HU(t,r+"-start"),M)}},NK=(t,r,a)=>{lS(t,t.get(r.prefix+"-end"),a),lS(t,t.get(r.prefix+"-start"),a)},l2=t=>t.start.length===0,khe=t=>(r,a)=>{const f=r.data.substring(0,a),y=f.lastIndexOf(t.charAt(t.length-1)),T=f.lastIndexOf(t);return T!==-1?T+t.length:y!==-1?y+1:-1},LK=(t,r,a,u)=>{const f=r.start;return DN(t,u.container,u.offset,khe(f),a).bind(T=>{const M=a.textContent?.indexOf(f)??-1;if(M!==-1&&T.offset>=M+f.length){const G=t.createRng();return G.setStart(T.container,T.offset-f.length),G.setEnd(T.container,T.offset),Se.some(G)}else{const G=T.offset-f.length;return O$(T.container,G,a).map(le=>{const fe=t.createRng();return fe.setStart(le.container,le.offset),fe.setEnd(T.container,T.offset),fe}).filter(le=>le.toString()===f).orThunk(()=>LK(t,r,a,pv(T.container,0)))}})},Dhe=(t,r,a,u,f,y=!1)=>{if(r.start.length===0&&!y){const T=t.createRng();return T.setStart(a,u),T.setEnd(a,u),Se.some(T)}return x$(a,u,f).bind(T=>LK(t,r,f,T).bind(N=>{if(y){if(N.endContainer===T.container&&N.endOffset===T.offset)return Se.none();if(T.offset===0&&N.endContainer.textContent?.length===N.endOffset)return Se.none()}return Se.some(N)}))},Mhe=(t,r,a,u)=>{const f=t.dom,y=f.getRoot(),T=a.pattern,M=a.position.container,N=a.position.offset;return O$(M,N-a.pattern.end.length,r).bind(G=>{const le=BU(f,y,G.container,G.offset,M,N,u);if(l2(T))return Se.some({matches:[{pattern:T,startRng:le,endRng:le}],position:G});{const fe=dL(t,a.remainingPatterns,G.container,G.offset,r,u),be=fe.getOr({matches:[],position:G}),Ne=be.position;return Dhe(f,T,Ne.container,Ne.offset,r,fe.isNone()).map($e=>{const Xe=MK(f,y,$e,u);return{matches:be.matches.concat([{pattern:T,startRng:Xe,endRng:le}]),position:pv($e.startContainer,$e.startOffset)}})}})},dL=(t,r,a,u,f,y)=>{const T=t.dom;return x$(a,u,T.getRoot()).bind(M=>{const N=FU(T,f,a,u);for(let G=0;G<r.length;G++){const le=r[G];if(!zi(N,le.end))continue;const fe=r.slice();fe.splice(G,1);const be=Mhe(t,f,{pattern:le,remainingPatterns:fe,position:M},y);if(be.isNone()&&u>0)return dL(t,r,a,u-1,f,y);if(be.isSome())return be}return Se.none()})},BK=(t,r,a)=>{t.selection.setRng(a),r.type==="inline-format"?Ze(r.format,u=>{t.formatter.apply(u)}):t.execCommand(r.cmd,!1,r.value)},$U=(t,r,a,u)=>{const f=uL(t.dom,a);i2(t.dom,f,u),BK(t,r,f)},Phe=(t,r,a,u,f)=>{const y=t.dom,T=uL(y,u),M=uL(y,a);i2(y,M,f),i2(y,T,f);const N={prefix:a.prefix,start:a.end,end:u.start},G=uL(y,N);BK(t,r,G)},Nhe=(t,r)=>{const a=dl("mce_textpattern"),u=Kt(r,(f,y)=>{const T=PK(t,a+`_end${f.length}`,y.endRng);return f.concat([{...y,endMarker:T}])},[]);return Kt(u,(f,y)=>{const T=u.length-f.length-1,M=l2(y.pattern)?y.endMarker:PK(t,a+`_start${T}`,y.startRng);return f.concat([{...y,startMarker:M}])},[])},Lhe=t=>Ds(t,(r,a)=>a.end.length-r.end.length),VK=(t,r)=>{const a=bs(t,u=>bn(r,f=>u.pattern.start===f.pattern.start&&u.pattern.end===f.pattern.end));return t.length===r.length?a?t:r:t.length>r.length?t:r},FK=(t,r,a,u,f,y)=>{const T=dL(t,f.inlinePatterns,a,u,r,y).fold(()=>[],N=>N.matches),M=dL(t,Lhe(f.inlinePatterns),a,u,r,y).fold(()=>[],N=>N.matches);return VK(T,M)},HK=(t,r)=>{if(r.length===0)return;const a=t.dom,u=t.selection.getBookmark(),f=Nhe(a,r);Ze(f,y=>{const T=a.getParent(y.startMarker.start,a.isBlock),M=N=>N===T;l2(y.pattern)?$U(t,y.pattern,y.endMarker,M):Phe(t,y.pattern,y.startMarker,y.endMarker,M),NK(a,y.endMarker,M),NK(a,y.startMarker,M)}),t.selection.moveToBookmark(u)},$K=(t,r,a)=>Vce(r,0,r).map(u=>{const f=u.container;return Lq(f,a.start.length,r).each(y=>{const T=t.createRng();T.setStart(f,0),T.setEnd(y.container,y.offset),i2(t,T,M=>M===r)}),f}),UK=t=>(r,a)=>{const u=r.dom,f=a.pattern,y=DK(u.getRoot(),a.range).getOrDie("Unable to resolve path range"),T=(M,N)=>{const G=N.get(M);return Oe(G)&&Vt(G).exists(le=>ts(le,"block"))};return a2(r,y).each(M=>{f.type==="block-format"?T(f.format,r.formatter)&&r.undoManager.transact(()=>{t(r.dom,M,f),r.formatter.apply(f.format)}):f.type==="block-command"&&r.undoManager.transact(()=>{t(r.dom,M,f),r.execCommand(f.cmd,!1,f.value)})}),!0},Bhe=t=>Ds(t,(r,a)=>a.start.length-r.start.length),zK=t=>(r,a)=>{const u=Bhe(r),f=a.replace(ki," ");return _t(u,y=>t(y,a,f))},jK=(t,r)=>(a,u,f,y,T=u.textContent??"")=>{const M=a.dom,N=Uu(a);return M.is(u,N)?t(f.blockPatterns,T).map(G=>r&&Un.trim(T).length===G.start.length?[]:[{pattern:G,range:BU(M,M.getRoot(),u,0,u,0,y)}]).getOr([]):[]},Vhe=t=>/^\s[^\s]/.test(t),Hhe=UK((t,r,a)=>{$K(t,r,a).each(u=>{const f=Qe.fromDom(u),y=gl(f);Vhe(y)&&t0(f,y.slice(1))})}),UU=zK((t,r,a)=>r.indexOf(t.start)===0||a.indexOf(t.start)===0),$he=jK(UU,!0),Uhe=(t,r)=>{const a=t.selection.getRng();return a2(t,a).map(u=>{const f=Math.max(0,a.startOffset),y=VU(r,u,u.textContent??""),T=FK(t,u,a.startContainer,f,y,!0),M=$he(t,u,y,!0);return{inlineMatches:T,blockMatches:M}}).filter(({inlineMatches:u,blockMatches:f})=>f.length>0||u.length>0)},zhe=(t,r)=>{if(r.length===0)return;const a=t.selection.getBookmark();Ze(r,u=>Hhe(t,u)),t.selection.moveToBookmark(a)},jhe=UK($K),Whe=zK((t,r,a)=>r===t.start||a===t.start),Ghe=jK(Whe,!1),hL=(t,r)=>{const a=t.selection.getRng();return a2(t,a).map(u=>{const f=Math.max(0,a.startOffset),y=FU(t.dom,u,a.startContainer,f),T=VU(r,u,y);return Ghe(t,u,T,!1,y)}).filter(u=>u.length>0)},qhe=(t,r)=>{Ze(r,a=>jhe(t,a))},Zhe=(t,r)=>Uhe(t,r).fold(qt,({inlineMatches:a,blockMatches:u})=>(t.undoManager.add(),t.undoManager.extra(()=>{t.execCommand("mceInsertNewLine")},()=>{ie(t),HK(t,a),zhe(t,u);const f=t.selection.getRng(),y=x$(f.startContainer,f.startOffset,t.dom.getRoot());t.execCommand("mceInsertNewLine"),y.each(T=>{const M=T.container;M.data.charAt(T.offset-1)===pc&&(M.deleteData(T.offset-1,1),lS(t.dom,M.parentNode,N=>N===t.dom.getRoot()))})}),!0)),Khe=(t,r)=>{const a=t.selection.getRng();a2(t,a).map(u=>{const f=Math.max(0,a.startOffset-1),y=FU(t.dom,u,a.startContainer,f),T=VU(r,u,y),M=FK(t,u,a.startContainer,f,T,!1);M.length>0&&t.undoManager.transact(()=>{HK(t,M)})})},Yhe=(t,r)=>hL(t,r).fold(qt,a=>(t.undoManager.transact(()=>{qhe(t,a)}),!0)),WK=(t,r,a)=>{for(let u=0;u<t.length;u++)if(a(t[u],r))return!0;return!1},Xhe=(t,r)=>WK(t,r,(a,u)=>a===u.keyCode&&!yo.modifierPressed(u)),Jhe=(t,r)=>WK(t,r,(a,u)=>a.charCodeAt(0)===u.charCode),Qhe=t=>{const r=[",",".",";",":","!","?"],a=[32],u=()=>I1(TI(t).filter(T=>T.type==="inline-command"||T.type==="block-command"?t.queryCommandSupported(T.cmd):!0),X4(t)),f=()=>Q4(t);t.on("keydown",T=>{if(T.keyCode===13&&!yo.modifierPressed(T)&&t.selection.isCollapsed()&&t.selection.isEditable()){const M=dI(u(),"enter");(M.inlinePatterns.length>0||M.blockPatterns.length>0||f())&&Zhe(t,M)&&T.preventDefault()}},!0),t.on("keydown",T=>{if(T.keyCode===32&&t.selection.isCollapsed()&&t.selection.isEditable()){const M=dI(u(),"space");(M.blockPatterns.length>0||f())&&Yhe(t,M)&&T.preventDefault()}},!0);const y=()=>{if(t.selection.isCollapsed()&&t.selection.isEditable()){const T=dI(u(),"space");(T.inlinePatterns.length>0||f())&&Khe(t,T)}};t.on("keyup",T=>{Xhe(a,T)&&y()}),t.on("keypress",T=>{Jhe(r,T)&&tg.setEditorTimeout(t,y)})},efe=t=>{Qhe(t)},GK=t=>{const r=Un.each,a=yo.BACKSPACE,u=yo.DELETE,f=t.dom,y=t.selection,T=t.parser,M=_r.browser,N=M.isFirefox(),G=M.isChromium()||M.isSafari(),le=_r.deviceType.isiPhone()||_r.deviceType.isiPad(),fe=_r.os.isMacOS()||_r.os.isiOS(),be=(Xn,vo)=>{try{t.getDoc().execCommand(Xn,!1,String(vo))}catch{}},Ne=Xn=>Xn.isDefaultPrevented(),Ke=()=>{const Xn=Rs=>{const Xs=f.create("body"),Gi=Rs.cloneContents();return Xs.appendChild(Gi),y.serializer.serialize(Xs,{format:"html"})},vo=Rs=>{const Xs=Xn(Rs),Gi=f.createRng();Gi.selectNode(t.getBody());const Oa=Xn(Gi);return Xs===Oa};t.on("keydown",Rs=>{const Xs=Rs.keyCode;if(!Ne(Rs)&&(Xs===u||Xs===a)&&t.selection.isEditable()){const Gi=t.selection.isCollapsed(),Oa=t.getBody();if(Gi&&!mf(t.schema,Oa)||!Gi&&!vo(t.selection.getRng()))return;Rs.preventDefault(),t.setContent(""),Oa.firstChild&&f.isBlock(Oa.firstChild)?t.selection.setCursorLocation(Oa.firstChild,0):t.selection.setCursorLocation(Oa,0),t.nodeChanged()}})},$e=()=>{t.shortcuts.add("meta+a",null,"SelectAll")},Xe=()=>{t.inline||f.bind(t.getDoc(),"mousedown mouseup",Xn=>{let vo;if(Xn.target===t.getDoc().documentElement)if(vo=y.getRng(),t.getDoc().getSelection()?.anchorNode!==null&&t.getBody().focus(),Xn.type==="mousedown"){if(Be(vo.startContainer))return;y.placeCaretAt(Xn.clientX,Xn.clientY)}else y.setRng(vo)})},wt=()=>{t.on("keydown",Xn=>{if(!Ne(Xn)&&Xn.keyCode===a){if(!t.getBody().getElementsByTagName("hr").length)return;if(y.isCollapsed()&&y.getRng().startOffset===0){const vo=y.getNode(),Rs=vo.previousSibling;if(vo.nodeName==="HR"){f.remove(vo),Xn.preventDefault();return}Rs&&Rs.nodeName&&Rs.nodeName.toLowerCase()==="hr"&&(f.remove(Rs),Xn.preventDefault())}}})},Tt=()=>{Range.prototype.getClientRects||t.on("mousedown",Xn=>{if(!Ne(Xn)&&Xn.target.nodeName==="HTML"){const vo=t.getBody();vo.blur(),tg.setEditorTimeout(t,()=>{vo.focus()})}})},It=()=>{const Xn=_I(t);t.on("click",vo=>{const Rs=vo.target;/^(IMG|HR)$/.test(Rs.nodeName)&&f.isEditable(Rs)&&(vo.preventDefault(),t.selection.select(Rs),t.nodeChanged()),Rs.nodeName==="A"&&f.hasClass(Rs,Xn)&&Rs.childNodes.length===0&&f.isEditable(Rs.parentNode)&&(vo.preventDefault(),y.select(Rs))})},fn=()=>{const Xn=vo=>vo.nodeName==="IMG"&&t.dom.isEditable(vo);t.on("mousedown",vo=>{wr(Se.from(vo.clientX),Se.from(vo.clientY),(Rs,Xs)=>{const Gi=t.getDoc().caretPositionFromPoint(Rs,Xs),Oa=Gi?.offsetNode?.childNodes[Gi.offset-(Gi.offset>0?1:0)]||Gi?.offsetNode;if(De(Oa)&&Xn(Oa)){const bv=Oa.getBoundingClientRect();vo.preventDefault(),t.hasFocus()||t.focus(),t.selection.select(Oa),vo.clientX<bv.left||vo.clientY<bv.top?t.selection.collapse(!0):(vo.clientX>bv.right||vo.clientY>bv.bottom)&&t.selection.collapse(!1)}})})},Mn=()=>{const Xn=()=>{const Rs=f.getAttribs(y.getStart().cloneNode(!1));return()=>{const Xs=y.getStart();Xs!==t.getBody()&&(f.setAttrib(Xs,"style",null),r(Rs,Gi=>{Xs.setAttributeNode(Gi.cloneNode(!0))}))}},vo=()=>!y.isCollapsed()&&f.getParent(y.getStart(),f.isBlock)!==f.getParent(y.getEnd(),f.isBlock);t.on("keypress",Rs=>{let Xs;return!Ne(Rs)&&(Rs.keyCode===8||Rs.keyCode===46)&&vo()?(Xs=Xn(),t.getDoc().execCommand("delete",!1),Xs(),Rs.preventDefault(),!1):!0}),f.bind(t.getDoc(),"cut",Rs=>{if(!Ne(Rs)&&vo()){const Xs=Xn();tg.setEditorTimeout(t,()=>{Xs()})}})},mo=()=>{t.on("keydown",Xn=>{if(!Ne(Xn)&&Xn.keyCode===a&&y.isCollapsed()&&y.getRng().startOffset===0){const vo=y.getNode().previousSibling;if(vo&&vo.nodeName&&vo.nodeName.toLowerCase()==="table")return Xn.preventDefault(),!1}return!0})},Wn=()=>{t.on("keydown",Xn=>{if(Ne(Xn)||Xn.keyCode!==yo.BACKSPACE)return;let vo=y.getRng();const Rs=vo.startContainer,Xs=vo.startOffset,Gi=f.getRoot();let Oa=Rs;if(!(!vo.collapsed||Xs!==0)){for(;Oa.parentNode&&Oa.parentNode.firstChild===Oa&&Oa.parentNode!==Gi;)Oa=Oa.parentNode;Oa.nodeName==="BLOCKQUOTE"&&(t.formatter.toggle("blockquote",void 0,Oa),vo=f.createRng(),vo.setStart(Rs,0),vo.setEnd(Rs,0),y.setRng(vo))}})},gn=()=>{const Xn=yl("figcaption");t.on("keydown",vo=>{if(vo.keyCode===yo.LEFT||vo.keyCode===yo.RIGHT){const Rs=Qe.fromDom(t.selection.getNode());Xn(Rs)&&t.selection.isCollapsed()&&Iu(Rs).bind(Xs=>t.selection.getRng().startOffset===0&&vo.keyCode===yo.LEFT?Pd(Xs):t.selection.getRng().endOffset===Rs.dom.textContent?.length&&vo.keyCode===yo.RIGHT?ku(Xs):Se.none()).each(Xs=>{t.selection.setCursorLocation(Xs.dom,0)})}})},hn=()=>{const Xn=()=>{be("StyleWithCSS",!1),be("enableInlineTableEditing",!1),CI(t)||be("enableObjectResizing",!1)};yw(t)||t.on("BeforeExecCommand mousedown",Xn)},Pn=()=>{const Xn=()=>{r(f.select("a:not([data-mce-block])"),vo=>{let Rs=vo.parentNode;const Xs=f.getRoot();if(Rs?.lastChild===vo){for(;Rs&&!f.isBlock(Rs);){if(Rs.parentNode?.lastChild!==Rs||Rs===Xs)return;Rs=Rs.parentNode}f.add(Rs,"br",{"data-mce-bogus":1})}})};t.on("SetContent ExecCommand",vo=>{(vo.type==="setcontent"||vo.command==="mceInsertLink")&&Xn()})},Lo=()=>{t.on("init",()=>{be("DefaultParagraphSeparator",Uu(t))})},Os=Xn=>{const vo=Xn.getBody(),Rs=Xn.selection.getRng();return Rs.startContainer===Rs.endContainer&&Rs.startContainer===vo&&Rs.startOffset===0&&Rs.endOffset===vo.childNodes.length},hr=()=>{t.on("keyup focusin mouseup",Xn=>{!yo.modifierPressed(Xn)&&!Os(t)&&y.normalize()},!0)},Mr=()=>{t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},va=()=>{t.inline||t.on("keydown",()=>{document.activeElement===document.body&&t.getWin().focus()})},xa=()=>{t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",Xn=>{let vo;Xn.target.nodeName==="HTML"&&(vo=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(vo),t.selection.normalize(),t.nodeChanged())}))},Cc=()=>{fe&&t.on("keydown",Xn=>{yo.metaKeyPressed(Xn)&&!Xn.shiftKey&&(Xn.keyCode===37||Xn.keyCode===39)&&(Xn.preventDefault(),t.selection.getSel().modify("move",Xn.keyCode===37?"backward":"forward","lineboundary"))})},Gc=()=>{t.on("click",Xn=>{let vo=Xn.target;do if(vo.tagName==="A"){Xn.preventDefault();return}while(vo=vo.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},vv=()=>{t.on("init",()=>{t.dom.bind(t.getBody(),"submit",Xn=>{Xn.preventDefault()})})},Co=()=>{T.addNodeFilter("br",Xn=>{let vo=Xn.length;for(;vo--;)Xn[vo].attr("class")==="Apple-interchange-newline"&&Xn[vo].remove()})},hs=gt,Pi=()=>{if(!N||t.removed)return!1;const Xn=t.selection.getSel();return!Xn||!Xn.rangeCount||Xn.rangeCount===0},Ii=()=>{G&&(Xe(),It(),vv(),$e(),le&&(va(),xa(),Gc())),N&&(Tt(),hn(),Mr(),Cc())},os=()=>{Wn(),Ke(),_r.windowsPhone||hr(),G&&(Xe(),It(),Lo(),vv(),mo(),Co(),le?(va(),xa(),Gc()):$e()),N&&(gn(),fn(),wt(),Tt(),Mn(),hn(),Pn(),Mr(),Cc(),mo())};return uv(t)?Ii():os(),{refreshContentEditable:hs,isHidden:Pi}};class qK extends Error{url;constructor(r,a){super(r),this.url=a}}const fL={},tfe=(t,r,a)=>new Promise((u,f)=>{const y=Qe.fromTag("script");Ra(y,{type:"text/javascript",src:t,...a});const T=()=>{Di(y)};Gb(y,"load",()=>{T(),u()}),Gb(y,"error",()=>{T(),f(new Error(`Failed to load script url: ${t}`))}),$r(sl(r),y)}),ZK=async(t,r)=>{const a=Nl.ScriptLoader.getScriptAttributes(t);return await tfe(t,r,a).catch(()=>Promise.reject(new qK(`Failed to load component url: ${t}`,t))),t},KK=t=>ya(t,(r,a)=>sr(fL,r).getOrThunk(()=>{if(Fe(window.customElements.get(a))){const u=ZK(r,Jy());return fL[r]=u,u}else return Promise.resolve(r)}).catch(u=>(delete fL[r],Promise.reject(u)))),c2=(t,r)=>{const a=Jn(Ni(t));return mn(a,u=>ZK(u,Qe.fromDom(r)))},nfe=t=>{const r=t.schema.getComponentUrls();return t.inline?KK(r):c2(r,t.getDoc())},YK=async t=>{const r=nfe(t),a=je(await Promise.allSettled(r),u=>u.status==="rejected");a.length>0&&Ze(a,u=>{if(u.reason instanceof qK){const{url:f}=u.reason;pie(t,f)}})},ofe=t=>{YK(t)},zU=mi.DOM,sfe=(t,r)=>{const a=Qe.fromDom(t.getBody()),u=Yy(nc(a)),f=Qe.fromTag("style");ca(f,"type","text/css"),$r(f,Qe.fromText(r)),$r(u,f),t.on("remove",()=>{Di(f)})},rfe=t=>t.inline?t.getElement().nodeName.toLowerCase():void 0,pL=t=>or(t,r=>ot(r)===!1),XK=t=>{const r=t.options.get,a=t.editorUpload.blobCache;return pL({allow_conditional_comments:r("allow_conditional_comments"),allow_html_data_urls:r("allow_html_data_urls"),allow_svg_data_urls:r("allow_svg_data_urls"),allow_html_in_named_anchor:r("allow_html_in_named_anchor"),allow_script_urls:r("allow_script_urls"),allow_html_in_comments:r("allow_html_in_comments"),allow_mathml_annotation_encodings:r("allow_mathml_annotation_encodings"),allow_unsafe_link_target:r("allow_unsafe_link_target"),convert_unsafe_embeds:r("convert_unsafe_embeds"),convert_fonts_to_spans:r("convert_fonts_to_spans"),extended_mathml_attributes:r("extended_mathml_attributes"),extended_mathml_elements:r("extended_mathml_elements"),fix_list_elements:r("fix_list_elements"),font_size_legacy_values:r("font_size_legacy_values"),forced_root_block:r("forced_root_block"),forced_root_block_attrs:r("forced_root_block_attrs"),preserve_cdata:r("preserve_cdata"),inline_styles:r("inline_styles"),root_name:rfe(t),sandbox_iframes:r("sandbox_iframes"),sandbox_iframes_exclusions:Aw(t),sanitize:r("xss_sanitization"),validate:!0,blob_cache:a,document:t.getDoc()})},jU=t=>{const r=t.options.get;return pL({custom_elements:r("custom_elements"),extended_valid_elements:r("extended_valid_elements"),invalid_elements:r("invalid_elements"),invalid_styles:r("invalid_styles"),schema:r("schema"),valid_children:r("valid_children"),valid_classes:r("valid_classes"),valid_elements:r("valid_elements"),valid_styles:r("valid_styles"),verify_html:r("verify_html"),padd_empty_block_inline_children:r("format_empty_lines")})},ife=t=>{const r=t.options.get;return{...XK(t),...jU(t),...pL({remove_trailing_brs:r("remove_trailing_brs"),pad_empty_with_br:r("pad_empty_with_br"),url_converter:r("url_converter"),url_converter_scope:r("url_converter_scope"),element_format:r("element_format"),entities:r("entities"),entity_encoding:r("entity_encoding"),indent:r("indent"),indent_after:r("indent_after"),indent_before:r("indent_before")})}},afe=t=>{const r=Yw(XK(t),t.schema);return r.addAttributeFilter("src,href,style,tabindex",(a,u)=>{const f=t.dom,y="data-mce-"+u;let T=a.length;for(;T--;){const M=a[T];let N=M.attr(u);if(N&&!M.attr(y)){if(N.indexOf("data:")===0||N.indexOf("blob:")===0)continue;u==="style"?(N=f.serializeStyle(f.parseStyle(N),M.name),N.length||(N=null),M.attr(y,N),M.attr(u,N)):u==="tabindex"?(M.attr(y,N),M.attr(u,null)):M.attr(y,t.convertURL(N,u,M.name))}}}),r.addNodeFilter("script",a=>{let u=a.length;for(;u--;){const f=a[u],y=f.attr("type")||"no/type";y.indexOf("mce-")!==0&&f.attr("type","mce-"+y)}}),_w(t)&&r.addNodeFilter("#cdata",a=>{let u=a.length;for(;u--;){const f=a[u];f.type=8,f.name="#comment",f.value="[CDATA["+t.dom.encode(f.value??"")+"]]"}}),r.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",a=>{let u=a.length;const f=t.schema.getNonEmptyElements();for(;u--;){const y=a[u];y.isEmpty(f)&&y.getAll("br").length===0&&y.append(new vh("br",1))}}),r},lfe=t=>{const r=K4(t);r&&tg.setEditorTimeout(t,()=>{let a;r===!0?a=t:a=t.editorManager.get(r),a&&!a.destroyed&&(a.focus(),a.selection.scrollIntoView())},100)},cfe=t=>{const r=t.dom.getRoot();!t.inline&&(!NT(t)||t.selection.getStart(!0)===r)&&du(r).each(a=>{const u=a.getNode(),f=ap(u)?du(u).getOr(a):a;t.selection.setRng(f.toRange())})},ufe=t=>{t.bindPendingEventDelegates(),t.initialized=!0,L4(t),t.focus(!0),cfe(t),t.nodeChanged({initial:!0});const r=TD(t);we(r)&&r.call(t,t),lfe(t),R0(t)&&UF(t,!0)},WU=t=>t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader,dfe=(t,r,a)=>{const{pass:u,fail:f}=Dt(r,M=>tinymce.Resource.has(_R(M))),T=[...u.map(M=>{const N=tinymce.Resource.get(_R(M));return re(N)?Promise.resolve(WU(t).loadRawCss(M,N)):Promise.resolve()}),WU(t).loadAll(f)];return t.inline?T:T.concat([t.ui.styleSheetLoader.loadAll(a)])},JK=t=>{const r=WU(t),a=vD(t),u=t.contentCSS,f=()=>{r.unloadAll(u),t.inline||t.ui.styleSheetLoader.unloadAll(a)},y=()=>{t.removed?f():t.on("remove",f)};if(t.contentStyles.length>0){let N="";Un.each(t.contentStyles,G=>{N+=G+`\r
`}),t.dom.addStyle(N)}const T=Promise.all(dfe(t,u,a)).then(y).catch(y),M=gD(t);return M&&sfe(t,M),T},hfe=t=>{const r=t.getDoc(),a=t.getBody();P4(t),pT(t)||(r.body.spellcheck=!1,zU.setAttrib(a,"spellcheck","false")),t.quirks=GK(t),N4(t);const u=bD(t);u!==void 0&&(a.dir=u);const f=bC(t);f&&t.on("BeforeSetContent",y=>{Un.each(f,T=>{y.content=y.content.replace(T,M=>"<!--mce:protected "+escape(M)+"-->")})}),t.on("SetContent",()=>{t.addVisual(t.getBody())}),t.on("compositionstart compositionend",y=>{t.composing=y.type==="compositionstart"})},QK=t=>{uv(t)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"})},u2=t=>{t.removed!==!0&&(QK(t),ufe(t))},eY=t=>{let r=!1;const a=setTimeout(()=>{r||t.setProgressState(!0)},500);return()=>{clearTimeout(a),r=!0,t.setProgressState(!1)}},GU=t=>{const r=t.getElement();let a=t.getDoc();t.inline&&(zU.addClass(r,"mce-content-body"),t.contentDocument=a=document,t.contentWindow=window,t.bodyElement=r,t.contentAreaContainer=r);const u=t.getBody();u.disabled=!0,t.readonly=yw(t),t._editableRoot=Sw(t),!xw(t)&&t.hasEditableRoot()&&(t.inline&&zU.getStyle(u,"position",!0)==="static"&&(u.style.position="relative"),u.contentEditable="true"),u.disabled=!1,t.editorUpload=Die(t),t.schema=yf(jU(t)),t.dom=mi(a,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,update_styles:!0,root_element:t.inline?t.getBody():null,collect:t.inline,schema:t.schema,contentCssCors:cT(t),referrerPolicy:vI(t),crossOrigin:mw(t),onSetAttrib:T=>{t.dispatch("SetAttrib",T)}}),t.parser=afe(t),t.serializer=$P(ife(t),t),t.selection=wF(t.dom,t.getWin(),t.serializer,t),t.annotator=IB(t),t.formatter=l9(t),t.undoManager=AR(t),t._nodeChangeDispatcher=new bde(t),t._selectionOverrides=RK(t),vde(t),CN(t),lK(t),tce(t),uv(t)||(ohe(t),efe(t));const f=$Z(t);VG(t,f),$G(t),JF(t),sL(t,f);const y=gF(t);hfe(t),ofe(t),y.fold(()=>{const T=eY(t);JK(t).then(()=>{u2(t),T()})},T=>{t.setProgressState(!0),JK(t).then(()=>{T().then(M=>{t.setProgressState(!1),u2(t),yF(t)},M=>{t.notificationManager.open({type:"error",text:String(M)}),u2(t),yF(t)})})})},qU=mi.DOM,ffe=(t,r,a,u)=>{const f=Qe.fromTag("iframe");return u.each(y=>ca(f,"tabindex",y)),Ra(f,a),Ra(f,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",..._r.browser.isFirefox()?{title:r}:{}}),wl(f,"tox-edit-area__iframe"),f},pfe=t=>{let r=gC(t)+"<html><head>";fw(t)!==t.editorManager.documentBaseURL&&(r+='<base href="'+t.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const a=Cy(t),u=pd(t),f=t.translate(fT(t)),y=_r.browser.isFirefox()?"":`aria-label="${f}"`;return Qv(t)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+Qv(t)+'" />'),r+=`</head><body id="${a}" class="mce-content-body ${u}" data-id="${t.id}" ${y}><br></body></html>`,r},tY=(t,r)=>{const a=fT(t),u=t.translate(a),f=ah(Qe.fromDom(t.getElement()),"tabindex").bind(nf),y=ffe(t.id,u,lT(t),f).dom;y.onload=()=>{y.onload=null,t.dispatch("load")},t.contentAreaContainer=r.iframeContainer,t.iframeElement=y,t.iframeHTML=pfe(t),qU.add(r.iframeContainer,y)},nY=t=>{const r=t.iframeElement,a=()=>{t.contentDocument=r.contentDocument,GU(t)};if(II(t)||_r.browser.isFirefox()){const u=t.getDoc();u.open(),u.write(t.iframeHTML),u.close(),a()}else{const u=Gb(Qe.fromDom(r),"load",()=>{u.unbind(),a()});r.srcdoc=t.iframeHTML}},mfe=(t,r)=>{tY(t,r),r.editorContainer&&(r.editorContainer.style.display=t.orgDisplay,t.hidden=qU.isHidden(r.editorContainer)),t.getElement().style.display="none",qU.setAttrib(t.id,"aria-hidden","true"),t.getElement().style.visibility=t.orgVisibility,nY(t)},oY=mi.DOM,ZU=(t,r,a)=>{const u=I0.get(a),f=I0.urls[a]||t.editorManager.documentBaseURL.replace(/\/$/,"");if(a=Un.trim(a),u&&Un.inArray(r,a)===-1){if(t.plugins[a])return;try{const y=u(t,f)||{};t.plugins[a]=y,we(y.init)&&(y.init(t,f),r.push(a))}catch(y){NF(t,a,y)}}},mL=t=>{const r=a=>{a.keyCode===yo.ESC&&!a.defaultPrevented&&fD(t).isDefaultPrevented()&&a.preventDefault()};document.addEventListener("keyup",r),t.inline||t.on("keyup",r),t.on("remove",()=>{document.removeEventListener("keyup",r),t.inline||t.off("keyup",r)})},sY=t=>t.replace(/^\-/,""),rY=t=>{const r=[];Ze(M1(t),a=>{ZU(t,r,sY(a))})},iY=t=>{const r=Un.trim(pD(t)),a=t.ui.registry.getAll().icons,u={...UP.get("default").icons,...UP.get(r).icons};eo(u,(f,y)=>{ts(a,y)||t.ui.registry.addIcon(y,f)})},gfe=t=>{const r=im(t);if(re(r)){const a=e_.get(r);t.theme=a(t,e_.urls[r])||{},we(t.theme.init)&&t.theme.init(t,e_.urls[r]||t.editorManager.documentBaseURL.replace(/\/$/,""))}else t.theme={}},vfe=t=>{const r=wI(t),a=tx.get(r);t.model=a(t,tx.urls[r])},bfe=t=>{HF.init(t)},yfe=t=>{const r=t.theme.renderUI;return r?r():YU(t)},N0=t=>{const r=t.getElement(),u=im(t)(t,r);return u.editorContainer.nodeType&&(u.editorContainer.id=u.editorContainer.id||t.id+"_parent"),u.iframeContainer&&u.iframeContainer.nodeType&&(u.iframeContainer.id=u.iframeContainer.id||t.id+"_iframecontainer"),u.height=u.iframeHeight?u.iframeHeight:r.offsetHeight,u},KU=(t,r)=>({editorContainer:t,iframeContainer:r,api:{}}),Sfe=t=>{const r=oY.create("div");return oY.insertAfter(r,t),KU(r,r)},YU=t=>{const r=t.getElement();return t.inline?KU(null):Sfe(r)},Cfe=t=>{const r=t.getElement();return t.orgDisplay=r.style.display,re(im(t))?yfe(t):we(im(t))?N0(t):YU(t)},Efe=(t,r)=>{const a={show:Se.from(r.show).getOr(gt),hide:Se.from(r.hide).getOr(gt),isEnabled:Se.from(r.isEnabled).getOr(Tn),setEnabled:u=>{u&&(t.mode.get()==="readonly"||R0(t))||Se.from(r.setEnabled).each(y=>y(u))}};t.ui={...t.ui,...a}},XU=async t=>{t.dispatch("ScriptsLoaded"),iY(t),mL(t),gfe(t),vfe(t),bfe(t),rY(t);const r=await Cfe(t);Efe(t,Se.from(r.api).getOr({})),t.editorContainer=r.editorContainer,Tie(t),t.inline?GU(t):mfe(t,{editorContainer:r.editorContainer,iframeContainer:r.iframeContainer})},L0=mi.DOM,aY=t=>t.charAt(0)==="-",wfe=(t,r)=>{const a=mD(r),u=j4(r);if(!fp.hasCode(a)&&a!=="en"){const f=fi(u)?u:`${r.editorManager.baseURL}/langs/${a}.js`;t.add(f).catch(()=>{ER(r,f,a)})}},_fe=(t,r)=>{const a=im(t);if(re(a)&&!aY(a)&&!ts(e_.urls,a)){const u=SD(t),f=u?t.documentBaseURI.toAbsolute(u):`themes/${a}/theme${r}.js`;e_.load(a,f).catch(()=>{$W(t,f,a)})}},lY=(t,r)=>{const a=wI(t);if(a!=="plugin"&&!ts(tx.urls,a)){const u=W4(t),f=re(u)?t.documentBaseURI.toAbsolute(u):`models/${a}/model${r}.js`;tx.load(a,f).catch(()=>{MF(t,f,a)})}},Afe=(t,r)=>{HF.load(t,r)},cY=t=>Se.from($z(t)).filter(fi).map(r=>({url:r,name:Se.none()})),uY=(t,r,a)=>Se.from(r).filter(u=>fi(u)&&!UP.has(u)).map(u=>({url:`${t.editorManager.baseURL}/icons/${u}/icons${a}.js`,name:Se.some(u)})),Tfe=(t,r,a)=>{const u=uY(r,"default",a),f=cY(r).orThunk(()=>uY(r,pD(r),""));Ze(Mc([u,f]),y=>{t.add(y.url).catch(()=>{tS(r,y.url,y.name.getOrUndefined())})})},xfe=(t,r)=>{const a=(u,f)=>{u!=="licensekeymanager"&&I0.load(u,f).catch(()=>{fie(t,f,u)})};eo(hT(t),(u,f)=>{a(f,u),t.options.set("plugins",M1(t).concat(f))}),Ze(M1(t),u=>{u=Un.trim(u),u&&!I0.urls[u]&&!aY(u)&&a(u,`plugins/${u}/plugin${r}.js`)})},Ofe=t=>{const r=im(t);return!re(r)||De(e_.get(r))},Ife=t=>{const r=wI(t);return De(tx.get(r))},dY=(t,r)=>{const a=Nl.ScriptLoader,u=()=>{!t.removed&&Ofe(t)&&Ife(t)&&XU(t)};_fe(t,r),lY(t,r),Afe(t,r),wfe(a,t),Tfe(a,t,r),xfe(t,r),a.loadQueue().then(u,u)},gL=(t,r)=>Hu.forElement(t,{contentCssCors:Cw(r),referrerPolicy:vI(r)}),JU=t=>{const r=t.id;fp.setCode(mD(t));const a=()=>{L0.unbind(window,"ready",a),t.render()};if(!hp.Event.domLoaded){L0.bind(window,"ready",a);return}if(!t.getElement())return;const u=Qe.fromDom(t.getElement()),f=Sr(u);t.on("remove",()=>{mt(u.dom.attributes,T=>pl(u,T.name)),Ra(u,f)}),t.ui.styleSheetLoader=gL(u,t),dT(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");const y=t.getElement().form||L0.getParent(r,"form");y&&(t.formElement=y,CD(t)&&!$E(t.getElement())&&(L0.insertAfter(L0.create("input",{type:"hidden",name:r}),r),t.hasHiddenInput=!0),t.formEventDelegate=T=>{t.dispatch(T.type,T)},L0.bind(y,"submit reset",t.formEventDelegate),t.on("reset",()=>{t.resetContent()}),Z4(t)&&!y.submit.nodeType&&!y.submit.length&&!y._mceOldSubmit&&(y._mceOldSubmit=y.submit,y.submit=()=>(t.editorManager.triggerSave(),t.setDirty(!1),y._mceOldSubmit(y)))),t.windowManager=pb(t),t.notificationManager=DF(t),ND(t)&&t.on("GetContent",T=>{T.save&&(T.content=L0.encode(T.content))}),ED(t)&&t.on("submit",()=>{t.initialized&&t.save()}),jz(t)&&(t._beforeUnload=()=>{t.initialized&&!t.destroyed&&!t.isHidden()&&t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),dY(t,t.suffix)},hY=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],fY=t=>Intl.Segmenter?`${new Intl.Segmenter().segment(t)[Symbol.iterator]().next().value?.segment}`:t.trim()[0],pY=(t,r)=>{let a=5381;for(let u=0;u<t.length;u++)a=(a<<5)+a+t.charCodeAt(u);return(a>>>0)%(r+1)},Rfe=t=>{const r=pY(t??"",hY.length-1);return hY[r]},mY=(t,r,a)=>{const u=a/2;return`<svg height="${a}" width="${a}" xmlns="http://www.w3.org/2000/svg"><circle cx="${u}" cy="${u}" r="${u}" fill="${r}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${u}">`+t+"</text></svg>"},kfe=(t,r,a)=>"data:image/svg+xml,"+encodeURIComponent(mY(t,r,a)),QU=(t,r={size:36})=>kfe(fY(t.name),Rfe(t.id),r.size),Dfe=Jq([U$("id"),sZ("name"),sZ("avatar"),oue("custom")]),Mfe=t=>{const r={};return eo(t,(a,u)=>{a.each(f=>{r[u]=f})}),r},gY=t=>{if(!Array.isArray(t))throw new Error("fetch_users must return an array");const r=mn(t,f=>Qq("Invalid user object",Dfe,f)),{errors:a,values:u}=ol(r);if(a.length>0){const f=mn(a,(y,T)=>`User at index ${T}: ${eZ(y)}`);console.warn(`User validation errors:
`+f.join(`
`))}return mn(u,f=>{const{id:y,name:T,avatar:M,...N}=f;return{id:y,name:T.getOr(y),avatar:M.getOr(QU({id:y,name:T.getOr(y)})),...Mfe(N)}})},vY=t=>{const r=new Map,a=new Map,u=G=>Se.from(r.get(G)),f=(G,le)=>{r.set(le,G)},y=(G,le)=>Se.from(a.get(G)).each(({reject:fe})=>{fe(le),a.delete(G)}),T=(G,le)=>Se.from(a.get(G)).each(({resolve:fe})=>{fe(le),a.delete(G)}),M=G=>{const le=yT(t);if(Array.isArray(G)){if(!le)return Zs(G,be=>Promise.resolve({id:be,name:be,avatar:QU({id:be,name:be})}))}else return{};const fe=Jn(je(G,be=>!u(be).isSome()));return Ze(fe,be=>{const Ne=new Promise((Ke,$e)=>{a.set(be,{resolve:Ke,reject:$e})});f(Ne,be)}),fe.length>0&&le(fe).then(gY).then(be=>{const Ne=new Set(mn(be,Ke=>Ke.id));Ze(be,Ke=>T(Ke.id,Ke)),Ze(fe,Ke=>{Ne.has(Ke)||y(Ke,new Error(`User ${Ke} not found`))})}).catch(be=>{Ze(fe,Ne=>y(Ne,be instanceof Error?be:new Error("Network error")))}),rn(G,(be,Ne)=>(be[Ne]=u(Ne).getOr(Promise.resolve({id:Ne,name:Ne,avatar:QU({id:Ne,name:Ne})})),be),{})},N=sB(t);return Object.freeze({userId:N,fetchUsers:M})},bY=t=>vY(t),yY=(t,r)=>{t._editableRoot!==r&&(t._editableRoot=r,R0(t)||(t.getBody().contentEditable=String(t.hasEditableRoot()),t.nodeChanged()),Vz(t,r))},SY=t=>t._editableRoot,CY=(t,r)=>({sections:nt(t),options:nt(r)}),vL=Dd().deviceType,e5=vL.isPhone(),EY=vL.isTablet(),Ox=t=>{if(Fe(t))return[];{const r=Oe(t)?t:t.split(/[ ,]/),a=mn(r,Pr);return je(a,fi)}},Pfe=(t,r)=>{const a=Ws(r,(u,f)=>kt(t,f));return CY(a.t,a.f)},Nfe=(t,r,a={})=>{const u=t.sections(),f=sr(u,r).getOr({});return Un.extend({},a,f)},bL=(t,r)=>ts(t.sections(),r),wY=(t,r)=>bL(t,r)?t.sections()[r]:{},_Y=(t,r)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:sr(t,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...r?{menubar:!1}:{}}),AY=(t,r)=>{const a=r.external_plugins??{};return t&&t.external_plugins?Un.extend({},t.external_plugins,a):a},t5=(t,r)=>[...Ox(t),...Ox(r)],n5=(t,r,a,u)=>t&&bL(r,"mobile")?u:a,yL=(t,r,a,u)=>{const f=Ox(a.forced_plugins),y=Ox(u.plugins),T=wY(r,"mobile"),M=T.plugins?Ox(T.plugins):y,N=n5(t,r,y,M),G=t5(f,N);return Un.extend(u,{forced_plugins:f,plugins:G})},TY=(t,r)=>t&&bL(r,"mobile"),xY=(t,r,a,u,f)=>{const y=t?{mobile:_Y(f.mobile??{},r)}:{},T=Pfe(["mobile"],eh(y,f)),M=Un.extend(a,u,T.options(),TY(t,T)?Nfe(T,"mobile"):{},{external_plugins:AY(u,T.options())});return yL(t,T,u,M)},OY=(t,r)=>{const a=Th(r);return xY(e5||EY,e5,a,t,a)},o5=(t,r)=>xW(t,r),IY=t=>{const r=(u,f)=>{t.formatter.toggle(u,f),t.nodeChanged()},a=u=>()=>{Ze("left,center,right,justify".split(","),f=>{u!==f&&t.formatter.remove("align"+f)}),u!=="none"&&r("align"+u)};t.editorCommands.addCommands({JustifyLeft:a("left"),JustifyCenter:a("center"),JustifyRight:a("right"),JustifyFull:a("justify"),JustifyNone:a("none")})},RY=t=>{const r=a=>()=>{const u=t.selection,f=u.isCollapsed()?[t.dom.getParent(u.getNode(),t.dom.isBlock)]:u.getSelectedBlocks();return bn(f,y=>De(t.formatter.matchNode(y,a)))};t.editorCommands.addCommands({JustifyLeft:r("alignleft"),JustifyCenter:r("aligncenter"),JustifyRight:r("alignright"),JustifyFull:r("alignjustify")},"state")},Lfe=t=>{IY(t),RY(t)},kY=t=>{t.editorCommands.addCommands({"Cut,Copy,Paste":r=>{const a=t.getDoc();let u;try{a.execCommand(r)}catch{u=!0}if(r==="paste"&&!a.queryCommandEnabled(r)&&(u=!0),u||!a.queryCommandSupported(r)){let f=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(_r.os.isMacOS()||_r.os.isiOS())&&(f=f.replace(/Ctrl\+/g,"+")),t.notificationManager.open({text:f,type:"error"})}}})},Bfe=(t,r,a,u)=>{const f=Qe.fromDom(t.getRoot());return KI(f,sn.fromRangeStart(r),u)?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),$T(f,sn.fromRangeEnd(r),u)?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},Vfe=t=>{if(typeof t!="string"){const r=Un.extend({paste:t.paste,data:{paste:t.paste}},t);return{content:t.content,details:r}}return{content:t,details:{}}},Ffe=(t,r)=>{const a=t.selection,u=t.dom;return/^ | $/.test(r)?Bfe(u,a.getRng(),r,t.schema):r},d2=(t,r)=>{if(t.selection.isEditable()){const{content:a,details:u}=Vfe(r);fP(t,{...u,content:Ffe(t,a),format:"html",set:!1,selection:!0}).each(f=>{const y=AW(t,f.content,u);pP(t,y,f),t.addVisual()})}},Hfe=t=>{t.editorCommands.addCommands({mceCleanup:()=>{const r=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(r)},insertImage:(r,a,u)=>{d2(t,t.dom.createHTML("img",{src:u}))},insertHorizontalRule:()=>{t.execCommand("mceInsertContent",!1,"<hr>")},insertText:(r,a,u)=>{d2(t,t.dom.encode(u))},insertHTML:(r,a,u)=>{d2(t,u)},mceInsertContent:(r,a,u)=>{d2(t,u)},mceSetContent:(r,a,u)=>{t.setContent(u)},mceReplaceContent:(r,a,u)=>{t.execCommand("mceInsertContent",!1,u.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceNewDocument:()=>{t.setContent(RD(t))}})},DY={"font-size":"size","font-family":"face"},SL=yl("font"),$fe=(t,r,a)=>{const u=y=>ml(y,t).orThunk(()=>SL(y)?sr(DY,t).bind(T=>ah(y,T)):Se.none()),f=y=>_o(Qe.fromDom(r),y);return Lu(Qe.fromDom(a),y=>u(y),f)},MY=t=>t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Ufe=(t,r)=>Se.from(mi.DOM.getStyle(r,t,!0)),s5=t=>(r,a)=>Se.from(a).map(Qe.fromDom).filter(na).bind(u=>$fe(t,r,u.dom).or(Ufe(t,u.dom))).getOr(""),r5=s5("font-size"),zfe=ee(MY,s5("font-family")),jfe=t=>du(t.getBody()).bind(r=>{const a=r.container();return Se.from(Bn(a)?a.parentNode:a)}),PY=t=>Se.from(t.selection.getRng()).bind(r=>{const a=t.getBody();return r.startContainer===a&&r.startOffset===0?Se.none():Se.from(t.selection.getStart(!0))}),Wfe=(t,r)=>PY(t).orThunk(st(jfe,t)).map(Qe.fromDom).filter(na).bind(r),i5=(t,r)=>Wfe(t,on(Se.some,r)),NY=(t,r)=>{if(/^[0-9.]+$/.test(r)){const a=parseInt(r,10);if(a>=1&&a<=7){const u=eB(t),f=L1(t);return f.length>0?f[a-1]||r:u[a-1]||r}else return r}else return r},Gfe=t=>{const r=t.split(/\s*,\s*/);return mn(r,a=>a.indexOf(" ")!==-1&&!(ms(a,'"')||ms(a,"'"))?`'${a}'`:a).join(",")},qfe=(t,r)=>{const a=NY(t,r);t.formatter.toggle("fontname",{value:Gfe(a)}),t.nodeChanged()},LY=t=>i5(t,r=>zfe(t.getBody(),r.dom)).getOr(""),BY=(t,r)=>{t.formatter.toggle("fontsize",{value:NY(t,r)}),t.nodeChanged()},Zfe=t=>i5(t,r=>r5(t.getBody(),r.dom)).getOr(""),Kfe=t=>i5(t,r=>{const a=Qe.fromDom(t.getBody()),u=Lu(r,y=>ml(y,"line-height"),st(_o,a)),f=()=>{const y=parseFloat(La(r,"line-height")),T=parseFloat(La(r,"font-size"));return String(y/T)};return u.getOrThunk(f)}).getOr(""),Yfe=(t,r)=>{t.formatter.toggle("lineheight",{value:String(r)}),t.nodeChanged()},Xfe=t=>{const r=(a,u)=>{t.formatter.toggle(a,u),t.nodeChanged()};t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":a=>{r(a)},"ForeColor,HiliteColor":(a,u,f)=>{r(a,{value:f})},BackColor:(a,u,f)=>{r("hilitecolor",{value:f})},FontName:(a,u,f)=>{qfe(t,f)},FontSize:(a,u,f)=>{BY(t,f)},LineHeight:(a,u,f)=>{Yfe(t,f)},Lang:(a,u,f)=>{r(a,{value:f.code,customValue:f.customCode??null})},RemoveFormat:a=>{t.formatter.remove(a)},mceBlockQuote:()=>{r("blockquote")},FormatBlock:(a,u,f)=>{r(re(f)?f:"p")},mceToggleFormat:(a,u,f)=>{r(f)}})},s=t=>{const r=a=>t.formatter.match(a);t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":a=>r(a),mceBlockQuote:()=>r("blockquote")},"state"),t.editorCommands.addQueryValueHandler("FontName",()=>LY(t)),t.editorCommands.addQueryValueHandler("FontSize",()=>Zfe(t)),t.editorCommands.addQueryValueHandler("LineHeight",()=>Kfe(t))},l=t=>{Xfe(t),s(t)},h=t=>{t.editorCommands.addCommands({mceAddUndoLevel:()=>{t.undoManager.add()},mceEndUndoLevel:()=>{t.undoManager.add()},Undo:()=>{t.undoManager.undo()},Redo:()=>{t.undoManager.redo()}})},g=t=>{t.editorCommands.addCommands({Indent:()=>{LG(t)},Outdent:()=>{bN(t)}}),t.editorCommands.addCommands({Outdent:()=>MG(t),Indent:()=>Gle(t)},"state")},E=t=>{const r=(a,u,f)=>{if(t.mode.isReadOnly())return;const y=re(f)?{href:f}:f,T=t.dom.getParent(t.selection.getNode(),"a");ye(y)&&re(y.href)&&(y.href=y.href.replace(/ /g,"%20").replace(/&amp;/g,"&"),(!T||!y.href)&&t.formatter.remove("link"),y.href&&t.formatter.apply("link",y,T))};t.editorCommands.addCommands({unlink:()=>{if(t.selection.isEditable()){if(t.selection.isCollapsed()){const a=t.dom.getParent(t.selection.getStart(),"a");a&&t.dom.remove(a,!0);return}t.formatter.remove("link")}},mceInsertLink:r,createLink:r})},O=(t,r,a,u)=>{const f=t.dom,y=M=>f.isBlock(M)&&M.parentElement===a,T=y(r)?r:f.getParent(u,y,a);return Se.from(T).map(Qe.fromDom)},I=(t,r)=>{if(t.mode.isReadOnly())return;const a=t.dom,u=t.selection.getRng(),f=r?t.selection.getStart():t.selection.getEnd(),y=r?u.startContainer:u.endContainer,T=Sx(a,y);if(!T||!T.isContentEditable)return;const M=r?Tc:rh,N=Uu(t);O(t,f,T,y).each(G=>{const le=EZ(t,y,G.dom,T,!1,N);M(G,Qe.fromDom(le)),t.selection.setCursorLocation(le,0),t.dispatch("NewBlock",{newBlock:le}),QR(t,"insertParagraph")})},q=t=>I(t,!0),Y=t=>I(t,!1),ne=t=>{t.editorCommands.addCommands({InsertNewBlockBefore:()=>{q(t)},InsertNewBlockAfter:()=>{Y(t)}})},he=t=>{t.editorCommands.addCommands({insertParagraph:()=>{Cx(nU,t)},mceInsertNewLine:(r,a,u)=>{YN(t,u)},InsertLineBreak:(r,a,u)=>{Cx(kZ,t)}})},ve=t=>{t.editorCommands.addCommands({mceSelectNodeDepth:(r,a,u)=>{let f=0;t.dom.getParent(t.selection.getNode(),y=>Oo(y)&&f++===u?(t.selection.select(y),!1):!0,t.getBody())},mceSelectNode:(r,a,u)=>{t.selection.select(u)},selectAll:()=>{const r=t.dom.getParent(t.selection.getStart(),iu);if(r){const a=t.dom.createRng();a.selectNodeContents(r),t.selection.setRng(a)}}})},Re=t=>{t.editorCommands.addCommands({mceRemoveNode:(r,a,u)=>{const f=u??t.selection.getNode();if(f!==t.getBody()){const y=t.selection.getBookmark();t.dom.remove(f,!0),t.selection.moveToBookmark(y)}},mcePrint:()=>{t.getWin().print()},mceFocus:(r,a,u)=>{Gte(t,u===!0)},mceToggleVisualAid:()=>{t.hasVisual=!t.hasVisual,t.addVisual()}})},ze=t=>{Lfe(t),kY(t),h(t),ve(t),Hfe(t),E(t),g(t),ne(t),he(t),l(t),Re(t)},Ge=["toggleview"],et=t=>kt(Ge,t.toLowerCase());class ft{editor;commands={state:{},exec:{},value:{}};constructor(r){this.editor=r}execCommand(r,a=!1,u,f){const y=this.editor,T=r.toLowerCase(),M=f?.skip_focus;if(y.removed||(T!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(T)&&!M?y.focus():Bte(y)),y.dispatch("BeforeExecCommand",{command:r,ui:a,value:u}).isDefaultPrevented()))return!1;const G=this.commands.exec[T];return we(G)?(G(T,a,u,f),y.dispatch("ExecCommand",{command:r,ui:a,value:u,args:f}),!0):!1}queryCommandState(r){if(!et(r)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const a=r.toLowerCase(),u=this.commands.state[a];return we(u)?u(a):!1}queryCommandValue(r){if(!et(r)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const a=r.toLowerCase(),u=this.commands.value[a];return we(u)?u(a):""}addCommands(r,a="exec"){const u=this.commands;eo(r,(f,y)=>{Ze(y.toLowerCase().split(","),T=>{u[a][T]=f})})}addCommand(r,a,u){const f=r.toLowerCase();this.commands.exec[f]=(y,T,M,N)=>a.call(u??this.editor,T,M,N)}queryCommandSupported(r){const a=r.toLowerCase();return!!this.commands.exec[a]}addQueryStateHandler(r,a,u){this.commands.state[r.toLowerCase()]=()=>a.call(u??this.editor)}addQueryValueHandler(r,a,u){this.commands.value[r.toLowerCase()]=()=>a.call(u??this.editor)}}const Je=Un.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class yt{static isNative(r){return!!Je[r.toLowerCase()]}settings;scope;toggleEvent;bindings={};constructor(r){this.settings=r||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||qt}fire(r,a){return this.dispatch(r,a)}dispatch(r,a){const u=r.toLowerCase(),f=b1(u,a??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(f);const y=this.bindings[u];if(y)for(let T=0,M=y.length;T<M;T++){const N=y[T];if(!N.removed){if(N.once&&this.off(u,N.func),f.isImmediatePropagationStopped())return f;if(N.func.call(this.scope,f)===!1)return f.preventDefault(),f}}return f}on(r,a,u,f){if(a===!1&&(a=qt),a){const y={func:a,removed:!1};f&&Un.extend(y,f);const T=r.toLowerCase().split(" ");let M=T.length;for(;M--;){const N=T[M];let G=this.bindings[N];G||(G=[],this.toggleEvent(N,!0)),u?G=[y,...G]:G=[...G,y],this.bindings[N]=G}}return this}off(r,a){if(r){const u=r.toLowerCase().split(" ");let f=u.length;for(;f--;){const y=u[f];let T=this.bindings[y];if(!y)return eo(this.bindings,(M,N)=>{this.toggleEvent(N,!1),delete this.bindings[N]}),this;if(T){if(!a)T.length=0;else{const M=Dt(T,N=>N.func===a);T=M.fail,this.bindings[y]=T,Ze(M.pass,N=>{N.removed=!0})}T.length||(this.toggleEvent(r,!1),delete this.bindings[y])}}}else eo(this.bindings,(u,f)=>{this.toggleEvent(f,!1)}),this.bindings={};return this}once(r,a,u){return this.on(r,a,u,{once:!0})}has(r){r=r.toLowerCase();const a=this.bindings[r];return!(!a||a.length===0)}}const At=t=>(t._eventDispatcher||(t._eventDispatcher=new yt({scope:t,toggleEvent:(r,a)=>{yt.isNative(r)&&t.toggleNativeEvent&&t.toggleNativeEvent(r,a)}})),t._eventDispatcher),Xt={fire(t,r,a){return k7("fire"),this.dispatch(t,r,a)},dispatch(t,r,a){const u=this;if(u.removed&&t!=="remove"&&t!=="detach")return b1(t.toLowerCase(),r??{},u);const f=At(u).dispatch(t,r);if(a!==!1&&u.parent){let y=u.parent();for(;y&&!f.isPropagationStopped();)y.dispatch(t,f,!1),y=y.parent?y.parent():void 0}return f},on(t,r,a){return At(this).on(t,r,a)},off(t,r){return At(this).off(t,r)},once(t,r){return At(this).once(t,r)},hasEventListeners(t){return At(this).has(t)}},en=mi.DOM;let ro;const kn=(t,r)=>{if(r==="selectionchange")return t.getDoc();if(!t.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(r))return t.getDoc().documentElement;const a=uT(t);return a?(t.eventRoot||(t.eventRoot=en.select(a)[0]),t.eventRoot):t.getBody()},zn=t=>!t.hidden&&!R0(t),Vn=(t,r,a)=>{zn(t)?t.dispatch(r,a):R0(t)&&ESe(t,a)},ds=(t,r)=>{if(t.delegates||(t.delegates={}),t.delegates[r]||t.removed)return;const a=kn(t,r);if(uT(t)){if(ro||(ro={},t.editorManager.on("removeEditor",()=>{t.editorManager.activeEditor||ro&&(eo(ro,(f,y)=>{t.dom.unbind(kn(t,y))}),ro=null)})),ro[r])return;const u=f=>{const y=f.target,T=t.editorManager.get();let M=T.length;for(;M--;){const N=T[M].getBody();(N===y||en.isChildOf(y,N))&&Vn(T[M],r,f)}};ro[r]=u,en.bind(a,r,u)}else{const u=f=>{Vn(t,r,f)};en.bind(a,r,u),t.delegates[r]=u}},Wo={...Xt,bindPendingEventDelegates(){const t=this;Un.each(t._pendingNativeEvents,r=>{ds(t,r)})},toggleNativeEvent(t,r){const a=this;t==="focus"||t==="blur"||a.removed||(r?a.initialized?ds(a,t):a._pendingNativeEvents?a._pendingNativeEvents.push(t):a._pendingNativeEvents=[t]:a.initialized&&a.delegates&&(a.dom.unbind(kn(a,t),t,a.delegates[t]),delete a.delegates[t]))},unbindAllNativeEvents(){const t=this,r=t.getBody(),a=t.dom;t.delegates&&(eo(t.delegates,(u,f)=>{t.dom.unbind(kn(t,f),f,u)}),delete t.delegates),!t.inline&&r&&a&&(r.onload=null,a.unbind(t.getWin()),a.unbind(t.getDoc())),a&&(a.unbind(r),a.unbind(t.getContainer()))}},Ir=t=>re(t)?{value:t.split(/[ ,]/),valid:!0}:rt(t,re)?{value:t,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Es=t=>{const r=(()=>{switch(t){case"array":return Oe;case"boolean":return Me;case"function":return we;case"number":return ct;case"object":return ye;case"string":return re;case"string[]":return Ir;case"object[]":return a=>rt(a,ye);case"regexp":return a=>ce(a,RegExp);default:return Tn}})();return a=>no(a,r,`The value must be a ${t}.`)},Qs=t=>re(t.processor),zo=(t,r)=>{const a=fc(r.message)?"":`. ${r.message}`;return t+a},In=t=>t.valid,no=(t,r,a="")=>{const u=r(t);return Me(u)?u?{value:t,valid:!0}:{valid:!1,message:a}:u},xs=(t,r,a)=>{if(!ot(r)){const u=no(r,a);if(In(u))return u.value;console.error(zo(`Invalid default value passed for the "${t}" option`,u))}},er=(t,r,a=r)=>{const u={},f={},y=(Ne,Ke,$e)=>{const Xe=no(Ke,$e);return In(Xe)?(f[Ne]=Xe.value,!0):(console.warn(zo(`Invalid value passed for the ${Ne} option`,Xe)),!1)},T=(Ne,Ke)=>{const $e=Qs(Ke)?Es(Ke.processor):Ke.processor,Xe=xs(Ne,Ke.default,$e);u[Ne]={...Ke,default:Xe,processor:$e},sr(f,Ne).orThunk(()=>sr(r,Ne)).each(Tt=>y(Ne,Tt,$e))},M=Ne=>ts(u,Ne);return{register:T,isRegistered:M,get:Ne=>sr(f,Ne).orThunk(()=>sr(u,Ne).map(Ke=>Ke.default)).getOrUndefined(),set:(Ne,Ke)=>{if(M(Ne)){const $e=u[Ne];return $e.immutable?(console.error(`"${Ne}" is an immutable option and cannot be updated`),!1):y(Ne,Ke,$e.processor)}else return console.warn(`"${Ne}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:Ne=>{const Ke=M(Ne);return Ke&&delete f[Ne],Ke},isSet:Ne=>ts(f,Ne),debug:()=>{try{console.log(JSON.parse(JSON.stringify(a,(Ne,Ke)=>Me(Ke)||ct(Ke)||re(Ke)||F(Ke)||Oe(Ke)||_e(Ke)?Ke:Object.prototype.toString.call(Ke))))}catch(Ne){console.error(Ne)}}}},Jo=(t,r)=>{t.dom.contentEditable="true"},Ys=(t,r)=>{const a=Qe.fromDom(t.getBody());r?(t.readonly=!0,t.hasEditableRoot()&&Jo(a),YP(t)):(t.readonly=!1,$F(t))},Oi=t=>t.readonly,bi=t=>{const r=t.undoManager.add();De(r)&&(t.undoManager.undo(),t.undoManager.reset())},Zh=t=>bn(t,r=>r.type==="characterData"||r.type==="childList"),$a=t=>{const r=u=>{Oi(t)&&Zh(u)&&bi(t)},a=new MutationObserver(r);t.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",u=>{Oi(t)&&u.preventDefault()}),t.on("BeforeExecCommand",u=>{(u.command==="Undo"||u.command==="Redo")&&Oi(t)&&u.preventDefault()}),t.on("compositionstart",()=>{Oi(t)&&a.observe(t.getBody(),{characterData:!0,childList:!0,subtree:!0})}),t.on("compositionend",()=>{if(Oi(t)){const u=a.takeRecords();r(u)}a.disconnect()})},Ap=["design","readonly"],pu=(t,r,a,u)=>{const f=a[r.get()],y=a[u];try{y.activate()}catch(T){console.error(`problem while activating editor mode ${u}:`,T);return}f.deactivate(),f.editorReadOnly!==y.editorReadOnly&&Ys(t,y.editorReadOnly),r.set(u),D4(t,u)},ug=(t,r,a,u)=>{if(!(u===a.get()||t.initialized&&R0(t))){if(!ts(r,u))throw new Error(`Editor mode '${u}' is invalid`);t.initialized?pu(t,a,r,u):t.on("init",()=>pu(t,a,r,u))}},Tp=(t,r,a)=>{if(kt(Ap,r))throw new Error(`Cannot override default mode ${r}`);return{...t,[r]:{...a,deactivate:()=>{try{a.deactivate()}catch(u){console.error(`problem while deactivating editor mode ${r}:`,u)}}}}},gv=t=>{const r=$o("design"),a=$o({design:{activate:gt,deactivate:gt,editorReadOnly:!1},readonly:{activate:gt,deactivate:gt,editorReadOnly:!0}});return $a(t),jF(t),{isReadOnly:()=>Oi(t),set:u=>ug(t,a.get(),r,u),get:()=>r.get(),register:(u,f)=>{a.set(Tp(a.get(),u,f))}}},B0=Un.each,Eb=Un.explode,Ix={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},V0=Un.makeMap("alt,ctrl,shift,meta,access"),h2=t=>t in V0,a5=t=>{const r={},a=_r.os.isMacOS()||_r.os.isiOS();B0(Eb(t.toLowerCase(),"+"),y=>{h2(y)?r[y]=!0:/^[0-9]{2,}$/.test(y)?r.keyCode=parseInt(y,10):(r.charCode=y.charCodeAt(0),r.keyCode=Ix[y]||y.toUpperCase().charCodeAt(0))});const u=[r.keyCode];let f;for(f in V0)r[f]?u.push(f):r[f]=!1;return r.id=u.join(","),r.access&&(r.alt=!0,a?r.ctrl=!0:r.shift=!0),r.meta&&(a?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r};class k_{editor;shortcuts={};pendingPatterns=[];constructor(r){this.editor=r;const a=this;r.on("keyup keypress keydown",u=>{(a.hasModifier(u)||a.isFunctionKey(u))&&!u.isDefaultPrevented()&&(B0(a.shortcuts,f=>{a.matchShortcut(u,f)&&(a.pendingPatterns=f.subpatterns.slice(0),u.type==="keydown"&&a.executeShortcutAction(f))}),a.matchShortcut(u,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&u.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}add(r,a,u,f){const y=this,T=y.normalizeCommandFunc(u);return B0(Eb(Un.trim(r)),M=>{const N=y.createShortcut(M,a,T,f);y.shortcuts[N.id]=N}),!0}remove(r){const a=this.createShortcut(r);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1}normalizeCommandFunc(r){const a=this,u=r;return typeof u=="string"?()=>{a.editor.execCommand(u,!1,null)}:Un.isArray(u)?()=>{a.editor.execCommand(u[0],u[1],u[2])}:u}createShortcut(r,a,u,f){const y=Un.map(Eb(r,">"),a5);return y[y.length-1]=Un.extend(y[y.length-1],{func:u,scope:f||this.editor}),Un.extend(y[0],{desc:this.editor.translate(a),subpatterns:y.slice(1)})}hasModifier(r){return r.altKey||r.ctrlKey||r.metaKey}isFunctionKey(r){return r.type==="keydown"&&r.keyCode>=112&&r.keyCode<=123}matchShortcut(r,a){return!a||a.ctrl!==r.ctrlKey||a.meta!==r.metaKey||a.alt!==r.altKey||a.shift!==r.shiftKey?!1:r.keyCode===a.keyCode||r.charCode&&r.charCode===a.charCode?(r.preventDefault(),!0):!1}executeShortcutAction(r){return r.func?r.func.call(r.scope):null}}const CL=()=>{const t=lue();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,addView:t.addView,addContext:t.addContext,getAll:t.getAll}},F0=mi.DOM,l5=Un.extend,VY=Un.each;class EL{baseUri;id;editorUid;plugins={};documentBaseURI;baseURI;contentCSS=[];contentStyles=[];ui;mode;options;editorUpload;userLookup;shortcuts;loadedCSS={};editorCommands;suffix;editorManager;hidden;inline;hasVisual;isNotDirty=!1;annotator;bodyElement;bookmark;composing=!1;container;contentAreaContainer;contentDocument;contentWindow;delegates;destroyed=!1;dom;editorContainer;eventRoot;formatter;formElement;formEventDelegate;hasHiddenInput=!1;iframeElement=null;iframeHTML;initialized=!1;notificationManager;orgDisplay;orgVisibility;parser;quirks;readonly=!1;removed=!1;schema;selection;serializer;startContent="";targetElm;theme;model;undoManager;windowManager;licenseKeyManager;_beforeUnload;_eventDispatcher;_nodeChangeDispatcher;_pendingNativeEvents=[];_selectionOverrides;_skinLoaded=!1;_editableRoot=!0;bindPendingEventDelegates;toggleNativeEvent;unbindAllNativeEvents;fire;dispatch;on;off;once;hasEventListeners;constructor(r,a,u){this.editorManager=u,l5(this,Wo);const f=this;this.id=r,this.editorUid=Qu(),this.hidden=!1;const y=OY(u.defaultOptions,a);this.options=er(f,y,a),hw(f),this.userLookup=bY(this);const T=this.options.get;T("deprecation_warnings")&&$se(a,y);const M=T("suffix");M&&(u.suffix=M),this.suffix=u.suffix;const N=T("base_url");N&&u._setBaseUrl(N),this.baseUri=u.baseURI;const G=vI(f);G&&(Nl.ScriptLoader._setReferrerPolicy(G),mi.DOM.styleSheetLoader._setReferrerPolicy(G)),Nl.ScriptLoader._setCrossOrigin(Ne=>mw(f)(Ne,"script")),mi.DOM.styleSheetLoader._setCrossOrigin(Ne=>mw(f)(Ne,"stylesheet"));const le=Cw(f);De(le)&&mi.DOM.styleSheetLoader._setContentCssCors(le),Hc.languageLoad=T("language_load"),Hc.baseURL=u.baseURL,this.setDirty(!1),this.documentBaseURI=new ub(fw(f),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=dT(f),this.hasVisual=Ey(f),this.shortcuts=new k_(this),this.editorCommands=new ft(this),ze(this);const fe=T("cache_suffix");fe&&(_r.cacheSuffix=fe.replace(/^[\?\&]+/,"")),this.ui={registry:CL(),styleSheetLoader:void 0,show:gt,hide:gt,setEnabled:gt,isEnabled:Tn},this.mode=gv(f),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),u.dispatch("SetupEditor",{editor:this});const be=AD(f);we(be)&&be.call(f,f)}render(){JU(this)}focus(r){this.execCommand("mceFocus",!1,r)}hasFocus(){return ng(this)}translate(r){return fp.translate(r)}getParam(r,a,u){const f=this.options;return f.isRegistered(r)||(De(u)?f.register(r,{processor:u,default:a}):f.register(r,{processor:Tn,default:a})),!f.isSet(r)&&!ot(a)?a:f.get(r)}hasPlugin(r,a){return kt(M1(this),r)?a?I0.get(r)!==void 0:!0:!1}nodeChanged(r){this._nodeChangeDispatcher.nodeChanged(r)}addCommand(r,a,u){this.editorCommands.addCommand(r,a,u)}addQueryStateHandler(r,a,u){this.editorCommands.addQueryStateHandler(r,a,u)}addQueryValueHandler(r,a,u){this.editorCommands.addQueryValueHandler(r,a,u)}addShortcut(r,a,u,f){this.shortcuts.add(r,a,u,f)}execCommand(r,a,u,f){return this.editorCommands.execCommand(r,a,u,f)}queryCommandState(r){return this.editorCommands.queryCommandState(r)}queryCommandValue(r){return this.editorCommands.queryCommandValue(r)}queryCommandSupported(r){return this.editorCommands.queryCommandSupported(r)}show(){const r=this;r.hidden&&(r.hidden=!1,r.inline?r.getBody().contentEditable="true":(F0.show(r.getContainer()),F0.hide(r.id)),r.load(),r.dispatch("show"))}hide(){const r=this;r.hidden||(r.save(),r.inline?(r.getBody().contentEditable="false",r===r.editorManager.focusedEditor&&(r.editorManager.focusedEditor=null)):(F0.hide(r.getContainer()),F0.setStyle(r.id,"display",r.orgDisplay)),r.hidden=!0,r.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(r,a){this.dispatch("ProgressState",{state:r,time:a})}load(r={}){const a=this,u=a.getElement();if(!a.removed&&u){const f={...r,load:!0},y=$E(u)?u.value:u.innerHTML;a.setContent(y,f),f.no_events||a.dispatch("LoadContent",{...f,element:u})}}save(r={}){const a=this;let u=a.getElement();if(!u||!a.initialized||a.removed)return"";const f={...r,save:!0,element:u};let y=a.getContent(f);const T={...f,content:y};if(T.no_events||a.dispatch("SaveContent",T),T.format==="raw"&&a.dispatch("RawSaveContent",T),y=T.content,$E(u))u.value=y;else{(r.is_removing||!a.inline)&&(u.innerHTML=y);const M=F0.getParent(a.id,"form");M&&VY(M.elements,N=>N.name===a.id?(N.value=y,!1):!0)}return T.element=f.element=u=null,T.set_dirty!==!1&&a.setDirty(!1),y}setContent(r,a){OF(this,r,a)}getContent(r){return FC(this,r)}insertContent(r,a){a&&(r=l5({content:r},a)),this.execCommand("mceInsertContent",!1,r)}resetContent(r){r===void 0?OF(this,this.startContent,{initial:!0,format:"raw"}):OF(this,r,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(r){const a=!this.isNotDirty;this.isNotDirty=!r,r&&r!==a&&this.dispatch("dirty")}getContainer(){const r=this;return r.container||(r.container=r.editorContainer||F0.get(r.id+"_parent")),r.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=F0.get(this.id)),this.targetElm}getWin(){const r=this;if(!r.contentWindow){const a=r.iframeElement;a&&(r.contentWindow=a.contentWindow)}return r.contentWindow}getDoc(){const r=this;if(!r.contentDocument){const a=r.getWin();a&&(r.contentDocument=a.document)}return r.contentDocument}getBody(){const r=this.getDoc();return this.bodyElement??r?.body??null}convertURL(r,a,u){const f=this,y=f.options.get,T=xD(f);if(we(T))return T.call(f,r,u,!0,a);if(!y("convert_urls")||u==="link"||ye(u)&&u.nodeName==="LINK"||r.indexOf("file:")===0||r.length===0)return r;const M=new ub(r);return M.protocol!=="http"&&M.protocol!=="https"&&M.protocol!==""?r:y("relative_urls")?f.documentBaseURI.toRelative(r):(r=f.documentBaseURI.toAbsolute(r,y("remove_script_host")),r)}addVisual(r){o5(this,r)}setEditableRoot(r){yY(this,r)}hasEditableRoot(){return SY(this)}remove(){Qw(this)}destroy(r){BW(this,r)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const QC=mi.DOM,eE=Un.each;let D_=!1,cS,kf=[];const f2=t=>{const r=t.type;eE(Dy.get(),a=>{switch(r){case"scroll":a.dispatch("ScrollWindow",t);break;case"resize":a.dispatch("ResizeWindow",t);break}})},c5=t=>{if(t!==D_){const r=mi.DOM;t?(r.bind(window,"resize",f2),r.bind(window,"scroll",f2)):(r.unbind(window,"resize",f2),r.unbind(window,"scroll",f2)),D_=t}},wL=t=>{const r=kf;return kf=je(kf,a=>t!==a),Dy.activeEditor===t&&(Dy.activeEditor=kf.length>0?kf[0]:null),Dy.focusedEditor===t&&(Dy.focusedEditor=null),r.length!==kf.length},FY=t=>{t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(wL(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0)},_L=document.compatMode!=="CSS1Compat",Dy={...Xt,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:Qu(),majorVersion:"8",minorVersion:"2.0",releaseDate:"2025-10-23",i18n:fp,activeEditor:null,focusedEditor:null,setup(){const t=this;let r="",a="",u=ub.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(u)&&(u=u.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(u)||(u+="/"));const f=window.tinymce||window.tinyMCEPreInit;if(f)r=f.base||f.baseURL,a=f.suffix;else{const y=document.getElementsByTagName("script");for(let T=0;T<y.length;T++){const M=y[T].src||"";if(M==="")continue;const N=M.substring(M.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(M)){N.indexOf(".min")!==-1&&(a=".min"),r=M.substring(0,M.lastIndexOf("/"));break}}if(!r&&document.currentScript){const T=document.currentScript.src;T.indexOf(".min")!==-1&&(a=".min"),r=T.substring(0,T.lastIndexOf("/"))}}t.baseURL=new ub(u).toAbsolute(r),t.documentBaseURL=u,t.baseURI=new ub(t.baseURL),t.suffix=a,Q1e(t),Ze(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],y=>Object.defineProperty(t,y,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(t){const r=t.base_url;r&&this._setBaseUrl(r);const a=t.suffix;a&&(this.suffix=a),this.defaultOptions=t;const u=t.plugin_base_urls;u!==void 0&&eo(u,(f,y)=>{Hc.PluginManager.urls[y]=f})},init(t){const r=this;let a;const u=Un.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),f=(le,fe)=>le.inline&&fe.tagName.toLowerCase()in u,y=le=>{let fe=le.id;return fe||(fe=sr(le,"name").filter(be=>!QC.get(be)).getOrThunk(QC.uniqueId),le.setAttribute("id",fe)),fe},T=le=>{const fe=t[le];if(fe)return fe.apply(r,[])},M=le=>_r.browser.isIE()||_r.browser.isEdge()?(WP("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):_L?(WP("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):re(le.selector)?QC.select(le.selector):De(le.target)?[le.target]:[];let N=le=>{a=le};const G=()=>{let le=0;const fe=[];let be;const Ne=(Ke,$e,Xe)=>{const wt=new EL(Ke,$e,r);fe.push(wt),wt.on("init",()=>{++le===be.length&&N(fe)}),wt.targetElm=wt.targetElm||Xe,wt.render()};QC.unbind(window,"ready",G),T("onpageload"),be=Jn(M(t)),Un.each(be,Ke=>{FY(r.get(Ke.id))}),be=Un.grep(be,Ke=>!r.get(Ke.id)),be.length===0?N([]):eE(be,Ke=>{f(t,Ke)?WP("Could not initialize inline editor on invalid inline target element",Ke):Ne(y(Ke),t,Ke)})};return QC.bind(window,"ready",G),new Promise(le=>{a?le(a):N=fe=>{le(fe)}})},get(t){return arguments.length===0?kf.slice(0):re(t)?_t(kf,r=>r.id===t).getOr(null):ct(t)&&kf[t]?kf[t]:null},add(t){const r=this,a=r.get(t.id);return a===t||(a===null&&kf.push(t),c5(!0),r.activeEditor=t,r.dispatch("AddEditor",{editor:t}),cS||(cS=u=>{const f=r.dispatch("BeforeUnload");if(f.returnValue)return u.preventDefault(),u.returnValue=f.returnValue,f.returnValue},window.addEventListener("beforeunload",cS))),t},createEditor(t,r){return this.add(new EL(t,r,this))},remove(t){const r=this;let a;if(!t){for(let u=kf.length-1;u>=0;u--)r.remove(kf[u]);return}if(re(t)){eE(QC.select(t),u=>{a=r.get(u.id),a&&r.remove(a)});return}return a=t,F(r.get(a.id))?null:(wL(a)&&r.dispatch("RemoveEditor",{editor:a}),kf.length===0&&window.removeEventListener("beforeunload",cS),a.remove(),c5(kf.length>0),a)},execCommand(t,r,a){const u=this,f=ye(a)?a.id??a.index:a;switch(t){case"mceAddEditor":{if(!u.get(f)){const y=a.options;new EL(f,y,u).render()}return!0}case"mceRemoveEditor":{const y=u.get(f);return y&&y.remove(),!0}case"mceToggleEditor":{const y=u.get(f);return y?(y.isHidden()?y.show():y.hide(),!0):(u.execCommand("mceAddEditor",!1,a),!0)}}return u.activeEditor?u.activeEditor.execCommand(t,r,a):!1},triggerSave:()=>{eE(kf,t=>{t.save()})},addI18n:(t,r)=>{fp.add(t,r)},translate:t=>fp.translate(t),setActive(t){const r=this.activeEditor;this.activeEditor!==t&&(r&&r.dispatch("deactivate",{relatedTarget:t}),t.dispatch("activate",{relatedTarget:r})),this.activeEditor=t},_setBaseUrl(t){this.baseURL=new ub(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new ub(this.baseURL)},_addLicenseKeyManager:t=>HF.add(t)};Dy.setup();const Rx=(()=>{const t=_c(),r=y=>({items:y,types:Zt(y),getType:T=>sr(y,T).getOrUndefined()}),a=y=>{t.set(y)},u=()=>t.get().getOrUndefined(),f=t.clear;return{FakeClipboardItem:r,write:a,read:u,clear:f}})(),AL=Math.min,nE=Math.max,TL=Math.round,p2=(t,r,a)=>{let u=r.x,f=r.y;const y=t.w,T=t.h,M=r.w,N=r.h,G=(a||"").split("");return G[0]==="b"&&(f+=N),G[1]==="r"&&(u+=M),G[0]==="c"&&(f+=TL(N/2)),G[1]==="c"&&(u+=TL(M/2)),G[3]==="b"&&(f-=T),G[4]==="r"&&(u-=y),G[3]==="c"&&(f-=TL(T/2)),G[4]==="c"&&(u-=TL(y/2)),kx(u,f,y,T)},xL=(t,r,a,u)=>{for(let f=0;f<u.length;f++){const y=p2(t,r,u[f]);if(y.x>=a.x&&y.x+y.w<=a.w+a.x&&y.y>=a.y&&y.y+y.h<=a.h+a.y)return u[f]}return null},Jfe=(t,r,a)=>kx(t.x-r,t.y-a,t.w+r*2,t.h+a*2),m2=(t,r)=>{const a=nE(t.x,r.x),u=nE(t.y,r.y),f=AL(t.x+t.w,r.x+r.w),y=AL(t.y+t.h,r.y+r.h);return f-a<0||y-u<0?null:kx(a,u,f-a,y-u)},Qfe=(t,r,a)=>{let u=t.x,f=t.y,y=t.x+t.w,T=t.y+t.h;const M=r.x+r.w,N=r.y+r.h,G=nE(0,r.x-u),le=nE(0,r.y-f),fe=nE(0,y-M),be=nE(0,T-N);return u+=G,f+=le,a&&(y+=G,T+=le,u-=fe,f-=be),y-=fe,T-=be,kx(u,f,y-u,T-f)},kx=(t,r,a,u)=>({x:t,y:r,w:a,h:u}),Dx={inflate:Jfe,relativePosition:p2,findBestRelativePosition:xL,intersect:m2,clamp:Qfe,create:kx,fromClientRect:t=>kx(t.left,t.top,t.width,t.height)},epe=(t,r,a=1e3)=>{let u=!1,f=null;const y=G=>(...le)=>{u||(u=!0,f!==null&&(window.clearTimeout(f),f=null),G.apply(null,le))},T=y(t),M=y(r);return{start:(...G)=>{!u&&f===null&&(f=window.setTimeout(()=>M.apply(null,G),a))},resolve:T,reject:M}},u5=(()=>{const t={},r={},a={};return{load:(N,G)=>{const le=`Script at URL "${G}" failed to load`,fe=`Script at URL "${G}" did not call \`tinymce.Resource.add('${N}', data)\` within 1 second`;if(t[N]!==void 0)return t[N];{const be=new Promise((Ne,Ke)=>{const $e=epe(Ne,Ke);r[N]=$e.resolve,Nl.ScriptLoader.loadScript(G).then(()=>$e.start(fe),()=>$e.reject(le))});return t[N]=be,be}},add:(N,G)=>{r[N]!==void 0&&(r[N](G),delete r[N]),t[N]=Promise.resolve(G),a[N]=G},has:N=>N in a,get:N=>a[N],unload:N=>{delete t[N],delete a[N]}}})(),HY=()=>(()=>{let t={},r=[];const a={getItem:u=>{const f=t[u];return f||null},setItem:(u,f)=>{r.push(u),t[u]=String(f)},key:u=>r[u],removeItem:u=>{r=r.filter(f=>f===u),delete t[u]},clear:()=>{r=[],t={}},length:0};return Object.defineProperty(a,"length",{get:()=>r.length,configurable:!1,enumerable:!1}),a})();let Mx;try{const t="__storage_test__";Mx=window.localStorage,Mx.setItem(t,t),Mx.removeItem(t)}catch{Mx=HY()}var npe=Mx;const H0={geom:{Rect:Dx},util:{Delay:tg,Tools:Un,VK:yo,URI:ub,EventDispatcher:yt,Observable:Xt,I18n:fp,LocalStorage:npe,ImageUploader:o9},dom:{EventUtils:hp,TreeWalker:Zi,TextSeeker:sm,DOMUtils:mi,ScriptLoader:Nl,RangeUtils:_0,Serializer:$P,StyleSheetLoader:Hd,ControlSelection:nj,BookmarkManager:Hw,Selection:wF,Event:hp.Event},html:{Styles:my,Entities:Gv,Node:vh,Schema:yf,DomParser:Yw,Writer:vne,Serializer:jw},Env:_r,AddOnManager:Hc,Annotator:IB,Formatter:l9,UndoManager:AR,EditorCommands:ft,WindowManager:pb,NotificationManager:DF,EditorObservable:Wo,Shortcuts:k_,Editor:EL,FocusManager:Xz,EditorManager:Dy,DOM:mi.DOM,ScriptLoader:Nl.ScriptLoader,PluginManager:I0,ThemeManager:e_,ModelManager:tx,IconManager:UP,Resource:u5,FakeClipboard:Rx,trim:Un.trim,isArray:Un.isArray,is:Un.is,toArray:Un.toArray,makeMap:Un.makeMap,each:Un.each,map:Un.map,grep:Un.grep,inArray:Un.inArray,extend:Un.extend,walk:Un.walk,resolve:Un.resolve,explode:Un.explode,_addCacheSuffix:Un._addCacheSuffix},M_=Un.extend(Dy,H0),$Y=t=>{try{e.exports=t}catch{}};(t=>{window.tinymce=t,window.tinyMCE=t})(M_),$Y(M_)})()})(Jme)),Jme.exports}var dXe=uXe();const hXe=kye(dXe);var yIe={},SIe={},CIe;function fXe(){return CIe||(CIe=1,tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-gear-properties":'<svg height="24" width="24"><path d="M17.3 14.5a7.1 7.1 0 0 1 1.2.6l1.5-.5 1 1.8-1.2 1V18.7l1.2 1-1 1.6-1.5-.4a4.5 4.5 0 0 1-.6.3 7.1 7.1 0 0 1-.6.3L17 23h-2l-.3-1.5a7.4 7.4 0 0 1-.6-.3 4.5 4.5 0 0 1-.6-.3l-1.5.5-1-1.8 1.2-1a3.9 3.9 0 0 1 0-.6v-.7l-1.2-1 1-1.6 1.5.4a4.5 4.5 0 0 1 1.2-.6L15 13h2zM16 16a2 2 0 0 0-1.5.6A1.9 1.9 0 0 0 14 18c0 .6.2 1 .6 1.4s1 .6 1.5.6 1-.2 1.5-.6.6-.8.6-1.4-.2-1-.6-1.4A2 2 0 0 0 16 16z" fill-rule="evenodd"/><path d="M19 7.6V12h-2V9h-4V5H7v14h3v2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7.4z"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})),SIe}var EIe;function pXe(){return EIe||(EIe=1,fXe()),yIe}pXe();var wIe={},_Ie={},AIe;function mXe(){return AIe||(AIe=1,(function(){const e=Object.getPrototypeOf,n=(s,l,h)=>h(s,l.prototype)?!0:s.constructor?.name===l.name,o=s=>{const l=typeof s;return s===null?"null":l==="object"&&Array.isArray(s)?"array":l==="object"&&n(s,String,(h,g)=>g.isPrototypeOf(h))?"string":l},i=s=>l=>o(l)===s,c=s=>l=>typeof l===s,d=s=>l=>s===l,p=(s,l)=>S(s)&&n(s,l,(h,g)=>e(h)===g),v=i("string"),S=i("object"),_=s=>p(s,Object),x=i("array"),P=d(null),B=c("boolean"),z=d(void 0),U=s=>s==null,H=s=>!U(s),K=c("function"),oe=c("number"),ce=(s,l)=>{if(x(s)){for(let h=0,g=s.length;h<g;++h)if(!l(s[h]))return!1;return!0}return!1},re=()=>{},ye=s=>()=>s(),_e=(s,l)=>(...h)=>s(l.apply(null,h)),Oe=(s,l)=>h=>s(l(h)),F=s=>()=>s,Me=s=>s,ot=(s,l)=>s===l;function Fe(s,...l){return(...h)=>{const g=l.concat(h);return s.apply(null,g)}}const De=s=>l=>!s(l),we=s=>()=>{throw new Error(s)},ct=s=>s(),rt=F(!1),gt=F(!0);class ee{tag;value;static singletonNone=new ee(!1);constructor(l,h){this.tag=l,this.value=h}static some(l){return new ee(!0,l)}static none(){return ee.singletonNone}fold(l,h){return this.tag?h(this.value):l()}isSome(){return this.tag}isNone(){return!this.tag}map(l){return this.tag?ee.some(l(this.value)):ee.none()}bind(l){return this.tag?l(this.value):ee.none()}exists(l){return this.tag&&l(this.value)}forall(l){return!this.tag||l(this.value)}filter(l){return!this.tag||l(this.value)?this:ee.none()}getOr(l){return this.tag?this.value:l}or(l){return this.tag?this:l}getOrThunk(l){return this.tag?this.value:l()}orThunk(l){return this.tag?this:l()}getOrDie(l){if(this.tag)return this.value;throw new Error(l??"Called getOrDie on None")}static from(l){return H(l)?ee.some(l):ee.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(l){this.tag&&l(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const on=Array.prototype.slice,nt=Array.prototype.indexOf,Mt=Array.prototype.push,Pt=(s,l)=>nt.call(s,l),st=(s,l)=>{const h=Pt(s,l);return h===-1?ee.none():ee.some(h)},vn=(s,l)=>Pt(s,l)>-1,To=(s,l)=>{for(let h=0,g=s.length;h<g;h++){const E=s[h];if(l(E,h))return!0}return!1},Nn=(s,l)=>{const h=[];for(let g=0;g<s;g++)h.push(l(g));return h},ho=(s,l)=>{const h=[];for(let g=0;g<s.length;g+=l){const E=on.call(s,g,g+l);h.push(E)}return h},qt=(s,l)=>{const h=s.length,g=new Array(h);for(let E=0;E<h;E++){const O=s[E];g[E]=l(O,E)}return g},Tn=(s,l)=>{for(let h=0,g=s.length;h<g;h++){const E=s[h];l(E,h)}},Se=(s,l)=>{for(let h=s.length-1;h>=0;h--){const g=s[h];l(g,h)}},br=(s,l)=>{const h=[],g=[];for(let E=0,O=s.length;E<O;E++){const I=s[E];(l(I,E)?h:g).push(I)}return{pass:h,fail:g}},ws=(s,l)=>{const h=[];for(let g=0,E=s.length;g<E;g++){const O=s[g];l(O,g)&&h.push(O)}return h},as=(s,l,h)=>(Se(s,(g,E)=>{h=l(h,g,E)}),h),Is=(s,l,h)=>(Tn(s,(g,E)=>{h=l(h,g,E)}),h),oo=(s,l,h)=>{for(let g=0,E=s.length;g<E;g++){const O=s[g];if(l(O,g))return ee.some(O);if(h(O,g))break}return ee.none()},kt=(s,l)=>oo(s,l,rt),bn=(s,l)=>{for(let h=0,g=s.length;h<g;h++){const E=s[h];if(l(E,h))return ee.some(h)}return ee.none()},mn=s=>{const l=[];for(let h=0,g=s.length;h<g;++h){if(!x(s[h]))throw new Error("Arr.flatten item "+h+" was not an array, input: "+s);Mt.apply(l,s[h])}return l},Ze=(s,l)=>mn(qt(s,l)),mt=(s,l)=>{for(let h=0,g=s.length;h<g;++h){const E=s[h];if(l(E,h)!==!0)return!1}return!0},Dt=s=>{const l=on.call(s,0);return l.reverse(),l},je=(s,l)=>ws(s,h=>!vn(l,h)),Lt=(s,l)=>{const h={};for(let g=0,E=s.length;g<E;g++){const O=s[g];h[String(O)]=l(O,g)}return h},Kt=s=>[s],rn=(s,l)=>{const h=on.call(s,0);return h.sort(l),h},Ht=(s,l)=>l>=0&&l<s.length?ee.some(s[l]):ee.none(),_t=s=>Ht(s,0),go=s=>Ht(s,s.length-1),Mo=K(Array.from)?Array.from:s=>on.call(s),Ko=(s,l)=>{for(let h=0;h<s.length;h++){const g=l(s[h],h);if(g.isSome())return g}return ee.none()},Io=Object.keys,bs=Object.hasOwnProperty,Ps=(s,l)=>{const h=Io(s);for(let g=0,E=h.length;g<E;g++){const O=h[g],I=s[O];l(I,O)}},ys=(s,l)=>Zs(s,(h,g)=>({k:g,v:l(h,g)})),Zs=(s,l)=>{const h={};return Ps(s,(g,E)=>{const O=l(g,E);h[O.k]=O.v}),h},Ds=s=>(l,h)=>{s[h]=l},bt=(s,l,h,g)=>{Ps(s,(E,O)=>{(l(E,O)?h:g)(E,O)})},Vt=(s,l)=>{const h={},g={};return bt(s,l,Ds(h),Ds(g)),{t:h,f:g}},Jt=(s,l)=>{const h={};return bt(s,l,Ds(h),re),h},jt=(s,l)=>{const h=[];return Ps(s,(g,E)=>{h.push(l(g,E))}),h},wo=(s,l)=>{const h=Io(s);for(let g=0,E=h.length;g<E;g++){const O=h[g],I=s[O];if(l(I,O,s))return ee.some(I)}return ee.none()},Jn=s=>jt(s,Me),Zt=(s,l)=>Zn(s,l)?ee.from(s[l]):ee.none(),Zn=(s,l)=>bs.call(s,l),eo=(s,l)=>Zn(s,l)&&s[l]!==void 0&&s[l]!==null,Ho={generate:s=>{if(!x(s))throw new Error("cases must be an array");if(s.length===0)throw new Error("there must be at least one case");const l=[],h={};return Tn(s,(g,E)=>{const O=Io(g);if(O.length!==1)throw new Error("one and only one name per case");const I=O[0],q=g[I];if(h[I]!==void 0)throw new Error("duplicate key detected:"+I);if(I==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(q))throw new Error("case arguments must be an array");l.push(I),h[I]=(...Y)=>{const ne=Y.length;if(ne!==q.length)throw new Error("Wrong number of arguments to case "+I+". Expected "+q.length+" ("+q+"), got "+ne);return{fold:(...ve)=>{if(ve.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+ve.length);return ve[E].apply(null,Y)},match:ve=>{const Re=Io(ve);if(l.length!==Re.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+Re.join(","));if(!mt(l,Ge=>vn(Re,Ge)))throw new Error("Not all branches were specified when using match. Specified: "+Re.join(", ")+`
Required: `+l.join(", "));return ve[I].apply(null,Y)},log:ve=>{console.log(ve,{constructors:l,constructor:I,params:Y})}}}}),h}},wn=s=>{let l=s;return{get:()=>l,set:E=>{l=E}}},Vr=s=>{let l=ee.none(),h=[];const g=ne=>Vr(he=>{E(ve=>{he(ne(ve))})}),E=ne=>{I()?Y(ne):h.push(ne)},O=ne=>{I()||(l=ee.some(ne),q(h),h=[])},I=()=>l.isSome(),q=ne=>{Tn(ne,Y)},Y=ne=>{l.each(he=>{setTimeout(()=>{ne(he)},0)})};return s(O),{get:E,map:g,isReady:I}},or={nu:Vr,pure:s=>Vr(l=>{l(s)})},ya=s=>{setTimeout(()=>{throw s},0)},Ni=s=>{const l=Y=>{s().then(Y,ya)};return{map:Y=>Ni(()=>s().then(Y)),bind:Y=>Ni(()=>s().then(ne=>Y(ne).toPromise())),anonBind:Y=>Ni(()=>s().then(()=>Y.toPromise())),toLazy:()=>or.nu(l),toCached:()=>{let Y=null;return Ni(()=>(Y===null&&(Y=s()),Y))},toPromise:s,get:l}},ps={nu:s=>Ni(()=>new Promise(s)),pure:s=>Ni(()=>Promise.resolve(s))},ul=s=>{const l=O=>O(s),h=F(s),g=()=>E,E={tag:!0,inner:s,fold:(O,I)=>I(s),isValue:gt,isError:rt,map:O=>$o.value(O(s)),mapError:g,bind:l,exists:l,forall:l,getOr:h,or:g,getOrThunk:h,orThunk:g,getOrDie:h,each:O=>{O(s)},toOptional:()=>ee.some(s)};return E},Dc=s=>{const l=()=>h,h={tag:!1,inner:s,fold:(g,E)=>g(s),isValue:rt,isError:gt,map:l,mapError:g=>$o.error(g(s)),bind:l,exists:rt,forall:gt,getOr:Me,or:Me,getOrThunk:ct,orThunk:ct,getOrDie:we(String(s)),each:re,toOptional:ee.none};return h},$o={value:ul,error:Dc,fromOption:(s,l)=>s.fold(()=>Dc(l),ul)},Jl=s=>({...s,toCached:()=>Jl(s.toCached()),bindFuture:Y=>Jl(s.bind(ne=>ne.fold(he=>ps.pure($o.error(he)),he=>Y(he)))),bindResult:Y=>Jl(s.map(ne=>ne.bind(Y))),mapResult:Y=>Jl(s.map(ne=>ne.map(Y))),mapError:Y=>Jl(s.map(ne=>ne.mapError(Y))),foldResult:(Y,ne)=>s.map(he=>he.fold(Y,ne)),withTimeout:(Y,ne)=>Jl(ps.nu(he=>{let ve=!1;const Re=setTimeout(()=>{ve=!0,he($o.error(ne()))},Y);s.get(ze=>{ve||(clearTimeout(Re),he(ze))})}))}),nl=s=>Jl(ps.nu(s)),Zf=s=>Jl(ps.pure($o.value(s))),Od={nu:nl,wrap:Jl,pure:Zf,value:Zf,error:s=>Jl(ps.pure($o.error(s))),fromResult:s=>Jl(ps.pure(s)),fromFuture:s=>Jl(s.map($o.value)),fromPromise:s=>nl(l=>{s.then(h=>{l($o.value(h))},h=>{l($o.error(h))})})},Ju=typeof window<"u"?window:Function("return this;")(),Yc=(s,l,h,g)=>{const E=s+l;return E>g?h:E<h?g:E},dl=(s,l,h)=>Math.min(Math.max(s,l),h),Qu=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Id=0;const uo=s=>{const h=new Date().getTime(),g=Math.floor(Qu()*1e9);return Id++,s+"_"+g+Id+String(h)},Kf=(s,l)=>l,eh=(s,l)=>_(s)&&_(l)?Kr(s,l):l,Th=s=>(...l)=>{if(l.length===0)throw new Error("Can't merge zero objects");const h={};for(let g=0;g<l.length;g++){const E=l[g];for(const O in E)Zn(E,O)&&(h[O]=s(h[O],E[O]))}return h},Kr=Th(eh),xh=Th(Kf),Mc=(s,l,h=ot)=>s.exists(g=>h(g,l)),wr=(s,l,h=ot)=>wc(s,l,h).getOr(s.isNone()&&l.isNone()),Au=s=>{const l=[],h=g=>{l.push(g)};for(let g=0;g<s.length;g++)s[g].each(h);return l},th=s=>{const l=[];for(let h=0;h<s.length;h++){const g=s[h];if(g.isSome())l.push(g.getOrDie());else return ee.none()}return ee.some(l)},wc=(s,l,h)=>s.isSome()&&l.isSome()?ee.some(h(s.getOrDie(),l.getOrDie())):ee.none(),Li=(s,l,h,g)=>s.isSome()&&l.isSome()&&h.isSome()?ee.some(g(s.getOrDie(),l.getOrDie(),h.getOrDie())):ee.none(),hc=(s,l)=>s!=null?ee.some(l(s)):ee.none(),ol=(s,l)=>s?ee.some(l):ee.none(),Fp=s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Am=(s,l)=>{let h=l??Ju;for(let g=0;g<s.length&&h!==void 0&&h!==null;++g)h=h[s[g]];return h},_c=(s,l)=>{const h=s.split(".");return Am(h,l)};Ho.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Xc=s=>{const l=[],h=[];return Tn(s,g=>{g.fold(E=>{l.push(E)},E=>{h.push(E)})}),{errors:l,values:h}},Tu=s=>{const l=wn(ee.none()),h=()=>l.get().each(s);return{clear:()=>{h(),l.set(ee.none())},isSet:()=>l.get().isSome(),get:()=>l.get(),set:q=>{h(),l.set(ee.some(q))}}},Oh=()=>Tu(s=>s.destroy()),ea=()=>Tu(s=>s.unbind()),ms=()=>{const s=Tu(re);return{...s,on:h=>s.get().each(h)}},zi=(s,l)=>s+l,Ol=(s,l)=>s.substring(l),Pr=(s,l,h)=>l===""||s.length>=l.length&&s.substr(h,h+l.length)===l,nh=(s,l)=>fc(s,l)?Ol(s,l.length):s,Yf=(s,l)=>Pc(s,l)?s:zi(s,l),fi=(s,l,h=0,g)=>{const E=s.indexOf(l,h);return E!==-1?z(g)?!0:E+l.length<=g:!1},fc=(s,l)=>Pr(s,l,0),Pc=(s,l)=>Pr(s,l,s.length-l.length),io=(s=>l=>l.replace(s,""))(/^\s+|\s+$/g),xu=s=>s.length>0,Il=s=>!xu(s),pc=s=>{const l=parseFloat(s);return isNaN(l)?ee.none():ee.some(l)},ki=(s,l)=>{let h=null,g=null;return{cancel:()=>{P(h)||(clearTimeout(h),h=null,g=null)},throttle:(...I)=>{g=I,P(h)&&(h=setTimeout(()=>{const q=g;h=null,g=null,s.apply(null,q)},l))}}},Tm=(s,l)=>{let h=null;return{cancel:()=>{P(h)||(clearTimeout(h),h=null)},throttle:(...O)=>{P(h)&&(h=setTimeout(()=>{h=null,s.apply(null,O)},l))}}},$l=(s,l)=>{let h=null;const g=()=>{P(h)||(clearTimeout(h),h=null)};return{cancel:g,throttle:(...O)=>{g(),h=setTimeout(()=>{h=null,s.apply(null,O)},l)}}},Jc=s=>{let l=!1,h;return(...g)=>(l||(l=!0,h=s.apply(null,g)),h)},Xf="\uFEFF",of="",ed=(s,l)=>{const g=(l||document).createElement("div");if(g.innerHTML=s,!g.hasChildNodes()||g.childNodes.length>1){const E="HTML does not have a single root node";throw console.error(E,s),new Error(E)}return kd(g.childNodes[0])},Jf=(s,l)=>{const g=(l||document).createElement(s);return kd(g)},Rd=(s,l)=>{const g=(l||document).createTextNode(s);return kd(g)},kd=s=>{if(s==null)throw new Error("Node cannot be null or undefined");return{dom:s}},to={fromHtml:ed,fromTag:Jf,fromText:Rd,fromDom:kd,fromPoint:(s,l,h)=>ee.from(s.dom.elementFromPoint(l,h)).map(kd)},Ou=(s,l)=>{l.fold(h=>{s.setStartBefore(h.dom)},(h,g)=>{s.setStart(h.dom,g)},h=>{s.setStartAfter(h.dom)})},Ih=(s,l)=>{l.fold(h=>{s.setEndBefore(h.dom)},(h,g)=>{s.setEnd(h.dom,g)},h=>{s.setEndAfter(h.dom)})},Ve=(s,l,h)=>{const g=s.document.createRange();return Ou(g,l),Ih(g,h),g},lt=(s,l,h,g,E)=>{const O=s.document.createRange();return O.setStart(l.dom,h),O.setEnd(g.dom,E),O},Rt=s=>({left:s.left,top:s.top,right:s.right,bottom:s.bottom,width:s.width,height:s.height}),pn=s=>{const l=s.getClientRects(),h=l.length>0?l[0]:s.getBoundingClientRect();return h.width>0||h.height>0?ee.some(h).map(Rt):ee.none()},so=s=>{const l=s.getBoundingClientRect();return l.width>0||l.height>0?ee.some(l).map(Rt):ee.none()},ko=Ho.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ur=(s,l,h)=>l(to.fromDom(h.startContainer),h.startOffset,to.fromDom(h.endContainer),h.endOffset),Bs=(s,l)=>l.match({domRange:h=>({ltr:F(h),rtl:ee.none}),relative:(h,g)=>({ltr:Jc(()=>Ve(s,h,g)),rtl:Jc(()=>ee.some(Ve(s,g,h)))}),exact:(h,g,E,O)=>({ltr:Jc(()=>lt(s,h,g,E,O)),rtl:Jc(()=>ee.some(lt(s,E,O,h,g)))})}),Er=(s,l)=>{const h=l.ltr();return h.collapsed?l.rtl().filter(E=>E.collapsed===!1).map(E=>ko.rtl(to.fromDom(E.endContainer),E.endOffset,to.fromDom(E.startContainer),E.startOffset)).getOrThunk(()=>ur(s,ko.ltr,h)):ur(s,ko.ltr,h)},Ee=(s,l)=>{const h=Bs(s,l);return Er(s,h)},Ue=(s,l)=>Ee(s,l).match({ltr:(g,E,O,I)=>{const q=s.document.createRange();return q.setStart(g.dom,E),q.setEnd(O.dom,I),q},rtl:(g,E,O,I)=>{const q=s.document.createRange();return q.setStart(O.dom,I),q.setEnd(g.dom,E),q}});ko.ltr,ko.rtl;const ut=9,un=11,Po=1,Vs=3,L=(s,l)=>{const h=s.dom;if(h.nodeType!==Po)return!1;{const g=h;if(g.matches!==void 0)return g.matches(l);if(g.msMatchesSelector!==void 0)return g.msMatchesSelector(l);if(g.webkitMatchesSelector!==void 0)return g.webkitMatchesSelector(l);if(g.mozMatchesSelector!==void 0)return g.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")}},X=s=>s.nodeType!==Po&&s.nodeType!==ut&&s.nodeType!==un||s.childElementCount===0,de=(s,l)=>{const h=l===void 0?document:l.dom;return X(h)?[]:qt(h.querySelectorAll(s),to.fromDom)},ge=(s,l)=>{const h=l===void 0?document:l.dom;return X(h)?ee.none():ee.from(h.querySelector(s)).map(to.fromDom)},xe=(s,l)=>s.dom===l.dom,Le=(s,l)=>{const h=s.dom,g=l.dom;return h===g?!1:h.contains(g)},We=(s,l,h,g)=>{const E=s.isiOS()&&/ipad/i.test(h)===!0,O=s.isiOS()&&!E,I=s.isiOS()||s.isAndroid(),q=I||g("(pointer:coarse)"),Y=E||!O&&I&&g("(min-device-width:768px)"),ne=O||I&&!Y,he=l.isSafari()&&s.isiOS()&&/safari/i.test(h)===!1,ve=!ne&&!Y&&!he;return{isiPad:F(E),isiPhone:F(O),isTablet:F(Y),isPhone:F(ne),isTouch:F(q),isAndroid:s.isAndroid,isiOS:s.isiOS,isWebView:F(he),isDesktop:F(ve)}},xt=(s,l)=>{for(let h=0;h<s.length;h++){const g=s[h];if(g.test(l))return g}},Ct=(s,l)=>{const h=xt(s,l);if(!h)return{major:0,minor:0};const g=E=>Number(l.replace(h,"$"+E));return Yn(g(1),g(2))},Yt=(s,l)=>{const h=String(l).toLowerCase();return s.length===0?Dn():Ct(s,h)},Dn=()=>Yn(0,0),Yn=(s,l)=>({major:s,minor:l}),Cn={nu:Yn,detect:Yt,unknown:Dn},No=(s,l)=>Ko(l.brands,h=>{const g=h.brand.toLowerCase();return kt(s,E=>g===E.brand?.toLowerCase()).map(E=>({current:E.name,version:Cn.nu(parseInt(h.version,10),0)}))}),Or=(s,l)=>{const h=String(l).toLowerCase();return kt(s,g=>g.search(h))},Si=(s,l)=>Or(s,l).map(h=>{const g=Cn.detect(h.versionRegexes,l);return{current:h.name,version:g}}),zr=(s,l)=>Or(s,l).map(h=>{const g=Cn.detect(h.versionRegexes,l);return{current:h.name,version:g}}),Ul=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Sa=s=>l=>fi(l,s),td=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:s=>fi(s,"edge/")&&fi(s,"chrome")&&fi(s,"safari")&&fi(s,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ul],search:s=>fi(s,"chrome")&&!fi(s,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:s=>fi(s,"msie")||fi(s,"trident")},{name:"Opera",versionRegexes:[Ul,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Sa("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Sa("firefox")},{name:"Safari",versionRegexes:[Ul,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:s=>(fi(s,"safari")||fi(s,"mobile/"))&&fi(s,"applewebkit")}],oh=[{name:"Windows",search:Sa("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:s=>fi(s,"iphone")||fi(s,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Sa("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Sa("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Sa("linux"),versionRegexes:[]},{name:"Solaris",search:Sa("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Sa("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Sa("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],pi={browsers:F(td),oses:F(oh)},gc="Edge",Bi="Chromium",hl="IE",Hp="Opera",Dd="Firefox",Rh="Safari",Og=()=>nd({current:void 0,version:Cn.unknown()}),nd=s=>{const l=s.current,h=s.version,g=E=>()=>l===E;return{current:l,version:h,isEdge:g(gc),isChromium:g(Bi),isIE:g(hl),isOpera:g(Hp),isFirefox:g(Dd),isSafari:g(Rh)}},Qc={unknown:Og,nu:nd},Qf="Windows",od="iOS",Ig="Android",vc="Linux",Rl="macOS",sf="Solaris",Ub="FreeBSD",_r="ChromeOS",qi=()=>$p({current:void 0,version:Cn.unknown()}),$p=s=>{const l=s.current,h=s.version,g=E=>()=>l===E;return{current:l,version:h,isWindows:g(Qf),isiOS:g(od),isAndroid:g(Ig),isMacOS:g(Rl),isLinux:g(vc),isSolaris:g(sf),isFreeBSD:g(Ub),isChromeOS:g(_r)}},Ci={unknown:qi,nu:$p},rf={detect:(s,l,h)=>{const g=pi.browsers(),E=pi.oses(),O=l.bind(Y=>No(g,Y)).orThunk(()=>Si(g,s)).fold(Qc.unknown,Qc.nu),I=zr(E,s).fold(Ci.unknown,Ci.nu),q=We(I,O,s,h);return{browser:O,os:I,deviceType:q}}},HS=s=>window.matchMedia(s).matches;let af=Jc(()=>rf.detect(window.navigator.userAgent,ee.from(window.navigator.userAgentData),HS));const ji=()=>af(),eu=(s,l)=>_c(s,l),Md=(s,l)=>{const h=eu(s,l);if(h==null)throw new Error(s+" not available on this browser");return h},Un=Object.getPrototypeOf,zl=s=>Md("HTMLElement",s),kh=s=>{const l=_c("ownerDocument.defaultView",s);return S(s)&&(zl(l).prototype.isPrototypeOf(s)||/^HTML\w*Element$/.test(Un(s).constructor.name))},tu=s=>s.dom.nodeName.toLowerCase(),tp=s=>s.dom.nodeType,zb=s=>l=>tp(l)===s,Qe=s=>Ac(s)&&kh(s.dom),Ac=zb(Po),Dh=zb(Vs),jb=zb(ut),nu=zb(un),Ql=s=>l=>Ac(l)&&tu(l)===s,ht=s=>to.fromDom(s.dom.ownerDocument),Ut=s=>jb(s)?s:ht(s),En=s=>to.fromDom(Ut(s).dom.documentElement),On=s=>to.fromDom(Ut(s).dom.defaultView),jn=s=>ee.from(s.dom.parentNode).map(to.fromDom),es=s=>jn(s),ls=s=>ee.from(s.dom.parentElement).map(to.fromDom),Gs=(s,l)=>{const h=K(l)?l:rt;let g=s.dom;const E=[];for(;g.parentNode!==null&&g.parentNode!==void 0;){const O=g.parentNode,I=to.fromDom(O);if(E.push(I),h(I)===!0)break;g=O}return E},gs=s=>ee.from(s.dom.offsetParent).map(to.fromDom),dr=s=>ee.from(s.dom.previousSibling).map(to.fromDom),Ar=s=>ee.from(s.dom.nextSibling).map(to.fromDom),fr=s=>qt(s.dom.childNodes,to.fromDom),Hr=(s,l)=>{const h=s.dom.childNodes;return ee.from(h[l]).map(to.fromDom)},_o=s=>Hr(s,0),Xr=(s,l)=>({element:s,offset:l}),bl=(s,l)=>{const h=fr(s);return h.length>0&&l<h.length?Xr(h[l],0):Xr(s,l)},ec=(s,l,h,g)=>{const O=ht(s).dom.createRange();return O.setStart(s.dom,l),O.setEnd(h.dom,g),O},Ns=(s,l,h,g)=>{const E=ec(s,l,h,g),O=xe(s,h)&&l===g;return E.collapsed&&!O},kl=s=>nu(s)&&H(s.dom.host),ta=s=>to.fromDom(s.dom.getRootNode()),Wa=s=>kl(s)?s:to.fromDom(Ut(s).dom.body),Mh=s=>na(s).isSome(),na=s=>{const l=ta(s);return kl(l)?ee.some(l):ee.none()},Jr=s=>to.fromDom(s.dom.host),Ky=s=>{if(H(s.target)){const l=to.fromDom(s.target);if(Ac(l)&&RE(l)&&s.composed&&s.composedPath){const h=s.composedPath();if(h)return _t(h)}}return ee.from(s.target)},RE=s=>H(s.dom.shadowRoot),yl=(s,l,h,g,E,O,I)=>({target:s,x:l,y:h,stop:g,prevent:E,kill:O,raw:I}),tc=s=>{const l=to.fromDom(Ky(s).getOr(s.target)),h=()=>s.stopPropagation(),g=()=>s.preventDefault(),E=_e(g,h);return yl(l,s.clientX,s.clientY,h,g,E,s)},ou=(s,l)=>h=>{s(h)&&l(tc(h))},Sl=(s,l,h,g,E)=>{const O=ou(h,g);return s.dom.addEventListener(l,O,E),{unbind:Fe(Ru,s,l,O,E)}},Ph=(s,l,h,g)=>Sl(s,l,h,g,!1),Iu=(s,l,h,g)=>Sl(s,l,h,g,!0),Ru=(s,l,h,g)=>{s.dom.removeEventListener(l,h,g)},Nc=gt,ti=(s,l,h)=>Ph(s,l,Nc,h),Pd=(s,l,h)=>Iu(s,l,Nc,h),ku=tc,jl=()=>to.fromDom(document),oa=(s,l=!1)=>s.dom.focus({preventScroll:l}),pr=s=>s.dom.blur(),Nh=s=>{const l=ta(s).dom;return s.dom===l.activeElement},Wl=(s=jl())=>ee.from(s.dom.activeElement).map(to.fromDom),Ga=s=>Wl(ta(s)).filter(l=>s.dom.contains(l.dom)),lf=(s,l)=>{jn(s).each(g=>{g.dom.insertBefore(l.dom,s.dom)})},sl=(s,l)=>{Ar(s).fold(()=>{jn(s).each(E=>{nc(E,l)})},g=>{lf(g,l)})},Wb=(s,l)=>{_o(s).fold(()=>{nc(s,l)},g=>{s.dom.insertBefore(l.dom,g.dom)})},nc=(s,l)=>{s.dom.appendChild(l.dom)},Yy=(s,l,h)=>{Hr(s,h).fold(()=>{nc(s,l)},g=>{lf(g,l)})},mr=(s,l)=>{Tn(l,h=>{nc(s,h)})},xm=(s,l,h)=>{if(v(h)||B(h)||oe(h))s.setAttribute(l,h+"");else throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",h,":: Element ",s),new Error("Attribute value was not simple")},rs=(s,l,h)=>{xm(s.dom,l,h)},a1=(s,l)=>{const h=s.dom;Ps(l,(g,E)=>{xm(h,E,g)})},fl=(s,l)=>{const h=s.dom.getAttribute(l);return h===null?void 0:h},nr=(s,l)=>ee.from(fl(s,l)),Dl=(s,l)=>{const h=s.dom;return h&&h.hasAttribute?h.hasAttribute(l):!1},sa=(s,l)=>{s.dom.removeAttribute(l)},Om=s=>Is(s.dom.attributes,(l,h)=>(l[h.name]=h.value,l),{}),Xy=s=>{s.dom.textContent="",Tn(fr(s),l=>{Nd(l)})},Nd=s=>{const l=s.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},Du=(s,l)=>to.fromDom(s.dom.cloneNode(l)),Gb=s=>Du(s,!1),Jy=s=>Du(s,!0),qb=(s,l)=>{const g=(l||document).createElement("div");return g.innerHTML=s,fr(to.fromDom(g))},sh=s=>s.dom.innerHTML,Lh=(s,l)=>{const g=ht(s).dom,E=to.fromDom(g.createDocumentFragment()),O=qb(l,g);mr(E,O),Xy(s),nc(s,E)},Qy=s=>{const l=to.fromTag("div"),h=to.fromDom(s.dom.cloneNode(!0));return nc(l,h),sh(l)},Tc=s=>{if(kl(s))return"#shadow-root";{const l=Gb(s);return Qy(l)}},rh=s=>new Promise((l,h)=>{const g=()=>{O(),l(s)},E=[ti(s,"load",g),ti(s,"error",()=>{O(),h("Unable to load data from image: "+s.dom.src)})],O=()=>Tn(E,I=>I.unbind());s.dom.complete&&g()}),np=s=>s.style!==void 0&&K(s.style.getPropertyValue),$r=s=>{const l=Dh(s)?s.dom.parentNode:s.dom;if(l==null||l.ownerDocument===null)return!1;const h=l.ownerDocument;return na(to.fromDom(l)).fold(()=>h.body.contains(l),Oe($r,Jr))},Ld=()=>l1(to.fromDom(document)),l1=s=>{const l=s.dom.body;if(l==null)throw new Error("Body is not available yet");return to.fromDom(l)},Zb=(s,l,h)=>{if(!v(h))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",h,":: Element ",s),new Error("CSS value must be a string: "+h);np(s)&&s.style.setProperty(l,h)},ih=(s,l)=>{np(s)&&s.style.removeProperty(l)},_s=(s,l,h)=>{const g=s.dom;Zb(g,l,h)},ca=(s,l)=>{const h=s.dom;Ps(l,(g,E)=>{Zb(h,E,g)})},Ra=(s,l)=>{const h=s.dom;Ps(l,(g,E)=>{g.fold(()=>{ih(h,E)},O=>{Zb(h,E,O)})})},ra=(s,l)=>{const h=s.dom,E=window.getComputedStyle(h).getPropertyValue(l);return E===""&&!$r(s)?ah(h,l):E},ah=(s,l)=>np(s)?s.style.getPropertyValue(l):"",ua=(s,l)=>{const h=s.dom,g=ah(h,l);return ee.from(g).filter(E=>E.length>0)},pl=s=>{const l={},h=s.dom;if(np(h))for(let g=0;g<h.style.length;g++){const E=h.style.item(g);l[E]=h.style[E]}return l},Pv=(s,l,h)=>{const g=to.fromTag(s);return _s(g,l,h),ua(g,l).isSome()},Sr=(s,l)=>{const h=s.dom;ih(h,l),Mc(nr(s,"style").map(io),"")&&sa(s,"style")},sd=s=>s.dom.offsetWidth,Di=(s,l)=>{const h=(q,Y)=>{if(!oe(Y)&&!Y.match(/^[0-9]+$/))throw new Error(s+".set accepts only positive integer values. Value was "+Y);const ne=q.dom;np(ne)&&(ne.style[s]=Y+"px")},g=q=>{const Y=l(q);if(Y<=0||Y===null){const ne=ra(q,s);return parseFloat(ne)||0}return Y},E=g,O=(q,Y)=>Is(Y,(ne,he)=>{const ve=ra(q,he),Re=ve===void 0?0:parseInt(ve,10);return isNaN(Re)?ne:ne+Re},0);return{set:h,get:g,getOuter:E,aggregate:O,max:(q,Y,ne)=>{const he=O(q,ne);return Y>he?Y-he:0}}},Mu=Di("height",s=>{const l=s.dom;return $r(s)?l.getBoundingClientRect().height:l.offsetHeight}),Cl=s=>Mu.get(s),El=s=>Mu.getOuter(s),cf=(s,l)=>{const h=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],g=Mu.max(s,l,h);_s(s,"max-height",g+"px")},Nv=s=>s.offsetWidth<=0&&s.offsetHeight<=0,Up=s=>!Nv(s.dom),Im=Di("width",s=>{const l=s.dom;return $r(s)?l.getBoundingClientRect().width:l.offsetWidth}),lh=(s,l)=>Im.set(s,l),bc=s=>Im.get(s),zp=s=>Im.getOuter(s),kE=(s,l)=>{const h=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],g=Im.max(s,l,h);_s(s,"max-width",g+"px")},op=(s,l)=>({left:s,top:l,translate:(g,E)=>op(s+g,l+E)}),ni=op,c1=s=>{const l=s.getBoundingClientRect();return ni(l.left,l.top)},Lv=(s,l)=>s!==void 0?s:l!==void 0?l:0,Lc=s=>{const l=s.dom.ownerDocument,h=l.body,g=l.defaultView,E=l.documentElement;if(h===s.dom)return ni(h.offsetLeft,h.offsetTop);const O=Lv(g?.pageYOffset,E.scrollTop),I=Lv(g?.pageXOffset,E.scrollLeft),q=Lv(E.clientTop,h.clientTop),Y=Lv(E.clientLeft,h.clientLeft);return su(s).translate(I-Y,O-q)},su=s=>{const l=s.dom,g=l.ownerDocument.body;return g===l?ni(g.offsetLeft,g.offsetTop):$r(s)?c1(l):ni(0,0)},La=s=>{const l=s!==void 0?s.dom:document,h=l.body.scrollLeft||l.documentElement.scrollLeft,g=l.body.scrollTop||l.documentElement.scrollTop;return ni(h,g)},Bd=(s,l,h)=>{const E=(h!==void 0?h.dom:document).defaultView;E&&E.scrollTo(s,l)},Rm=((s,l)=>{const h=O=>{if(!s(O))throw new Error("Can only get "+l+" value of a "+l+" node");return g(O).getOr("")},g=O=>s(O)?ee.from(O.dom.nodeValue):ee.none();return{get:h,getOption:g,set:(O,I)=>{if(!s(O))throw new Error("Can only set raw "+l+" value of a "+l+" node");O.dom.nodeValue=I}}})(Dh,"text"),e0=s=>Rm.get(s),Kb=(s,l)=>h=>DE(h)==="rtl"?l:s,DE=s=>ra(s,"direction")==="rtl"?"rtl":"ltr",uf=(s,l)=>{const h=fl(s,l);return h===void 0||h===""?[]:h.split(" ")},ME=(s,l,h)=>{const E=uf(s,l).concat([h]);return rs(s,l,E.join(" ")),!0},u1=(s,l,h)=>{const g=ws(uf(s,l),E=>E!==h);return g.length>0?rs(s,l,g.join(" ")):sa(s,l),!1};var df=(s,l,h,g,E)=>s(h,g)?ee.some(h):K(E)&&E(h)?ee.none():l(h,g,E);const $S=(s,l,h)=>{let g=s.dom;const E=K(h)?h:rt;for(;g.parentNode;){g=g.parentNode;const O=to.fromDom(g);if(l(O))return ee.some(O);if(E(O))break}return ee.none()},Bv=(s,l,h)=>df((E,O)=>O(E),$S,s,l,h),km=(s,l)=>{const h=s.dom;return h.parentNode?Rg(to.fromDom(h.parentNode),g=>!xe(s,g)&&l(g)):ee.none()},Rg=(s,l)=>{const h=E=>l(to.fromDom(E));return kt(s.dom.childNodes,h).map(to.fromDom)},d1=(s,l)=>{const h=g=>{for(let E=0;E<g.childNodes.length;E++){const O=to.fromDom(g.childNodes[E]);if(l(O))return ee.some(O);const I=h(g.childNodes[E]);if(I.isSome())return I}return ee.none()};return h(s.dom)},US=s=>ge(s),Bh=(s,l,h)=>$S(s,g=>L(g,l),h),Dm=(s,l)=>km(s,h=>L(h,l)),hf=(s,l)=>Rg(s,h=>L(h,l)),oi=(s,l)=>ge(l,s),gl=(s,l,h)=>df((E,O)=>L(E,O),Bh,s,l,h),sp=(s,l)=>{s.dom.checked=l},t0=s=>s.dom.checked,Mm=s=>s.dom.classList!==void 0,kg=s=>uf(s,"class"),jp=(s,l)=>ME(s,"class",l),rp=(s,l)=>u1(s,"class",l),Vh=(s,l)=>vn(kg(s),l)?rp(s,l):jp(s,l),Ei=(s,l)=>{Mm(s)?s.dom.classList.add(l):jp(s,l)},zS=s=>{(Mm(s)?s.dom.classList:kg(s)).length===0&&sa(s,"class")},ai=(s,l)=>{Mm(s)?s.dom.classList.remove(l):rp(s,l),zS(s)},Vv=(s,l)=>{const h=Mm(s)?s.dom.classList.toggle(l):Vh(s,l);return zS(s),h},qa=(s,l)=>Mm(s)&&s.dom.classList.contains(l),Fh=(s,l)=>{Tn(l,h=>{Ei(s,h)})},xc=(s,l)=>{Tn(l,h=>{ai(s,h)})},Pu=(s,l)=>{Tn(l,h=>{Vv(s,h)})},Dg=(s,l)=>mt(l,h=>qa(s,h)),Fv=s=>{const l=s.dom.classList,h=new Array(l.length);for(let g=0;g<l.length;g++){const E=l.item(g);E!==null&&(h[g]=E)}return h},h1=s=>Mm(s)?Fv(s):kg(s),PE=s=>s.dom.textContent,wl=s=>s.dom.value,ff=(s,l)=>{if(l===void 0)throw new Error("Value.set was undefined");s.dom.value=l},rl=(s,l,h)=>ws(Gs(s,h),l),wi=(s,l)=>de(l,s),Yb=(s,l,h)=>Bv(s,l,h).isSome(),Xb=(s,l,h)=>gl(s,l,h).isSome(),Jb=s=>K(s)?s:rt,n0=(s,l,h)=>{let g=s.dom;const E=Jb(h);for(;g.parentNode;){g=g.parentNode;const O=to.fromDom(g),I=l(O);if(I.isSome())return I;if(E(O))break}return ee.none()},Nu=(s,l,h)=>{const g=l(s),E=Jb(h);return g.orThunk(()=>E(s)?ee.none():n0(s,l,E))},J={create:(s,l,h,g)=>({start:s,soffset:l,finish:h,foffset:g})},ae=Ho.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ie=(s,l,h,g)=>s.fold(l,h,g),qe=s=>s.fold(Me,Me,Me),St=ae.before,cn=ae.on,ao=ae.after,Go={before:St,on:cn,after:ao,cata:Ie,getStart:qe},zs=Ho.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ss=s=>zs.exact(s.start,s.soffset,s.finish,s.foffset),Vi=s=>s.match({domRange:l=>to.fromDom(l.startContainer),relative:(l,h)=>Go.getStart(l),exact:(l,h,g,E)=>l}),da=zs.domRange,Za=zs.relative,Lu=zs.exact,Wp=s=>{const l=Vi(s);return On(l)},Gp=J.create,ru={domRange:da,relative:Za,exact:Lu,exactFromRange:Ss,getWin:Wp,range:Gp},f1=s=>ee.from(s.getSelection()),Pm=s=>{if(s.rangeCount>0){const l=s.getRangeAt(0),h=s.getRangeAt(s.rangeCount-1);return ee.some(J.create(to.fromDom(l.startContainer),l.startOffset,to.fromDom(h.endContainer),h.endOffset))}else return ee.none()},Qb=s=>{if(s.anchorNode===null||s.focusNode===null)return Pm(s);{const l=to.fromDom(s.anchorNode),h=to.fromDom(s.focusNode);return Ns(l,s.anchorOffset,h,s.focusOffset)?ee.some(J.create(l,s.anchorOffset,h,s.focusOffset)):Pm(s)}},Nm=s=>f1(s).filter(l=>l.rangeCount>0).bind(Qb),Mg=(s,l)=>{const h=Ue(s,l);return pn(h)},s0=(s,l)=>{const h=Ue(s,l);return so(h)},Ml={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},NE=(()=>{const s="[0-9]+",h="[eE]"+("[+-]?"+s),g="\\.",E=q=>`(?:${q})?`,I=`[+-]?(?:${["Infinity",s+g+E(s)+E(h),g+s+E(h),s+E(h)].join("|")})`;return new RegExp(`^(${I})(.*)$`)})(),LE=(s,l)=>To(l,h=>To(Ml[h],g=>s===g)),Nr=(s,l)=>ee.from(NE.exec(s)).bind(g=>{const E=Number(g[1]),O=g[2];return LE(O,l)?ee.some({value:E,unit:O}):ee.none()}),_i=(s,l)=>Nr(s,l).map(({value:h,unit:g})=>h+g),Ka=s=>{const l=s===void 0?window:s;return ji().browser.isFirefox()?ee.none():ee.from(l.visualViewport)},rd=(s,l,h,g)=>({x:s,y:l,width:h,height:g,right:s+h,bottom:l+g}),Ya=s=>{const l=s===void 0?window:s,h=l.document,g=La(to.fromDom(h));return Ka(l).fold(()=>{const E=l.document.documentElement,O=E.clientWidth,I=E.clientHeight;return rd(g.left,g.top,O,I)},E=>rd(Math.max(E.pageLeft,g.left),Math.max(E.pageTop,g.top),E.width,E.height))},ey=(s,l)=>s.view(l).fold(F([]),g=>{const E=s.owner(g),O=ey(s,E);return[g].concat(O)}),ty=(s,l)=>{const h=l.owner(s),g=ey(l,h);return ee.some(g)};var vl=Object.freeze({__proto__:null,view:s=>(s.dom===document?ee.none():ee.from(s.dom.defaultView?.frameElement)).map(to.fromDom),owner:s=>ht(s)});const Lm=s=>{const l=jl(),h=La(l);return ty(s,vl).fold(Fe(Lc,s),E=>{const O=su(s),I=as(E,(q,Y)=>{const ne=su(Y);return{left:q.left+ne.left,top:q.top+ne.top}},{left:0,top:0});return ni(I.left+O.left+h.left,I.top+O.top+h.top)})},oy=(s,l,h)=>({point:s,width:l,height:h}),VE=(s,l,h,g)=>({x:s,y:l,width:h,height:g}),jr=(s,l,h,g)=>({x:s,y:l,width:h,height:g,right:s+h,bottom:l+g}),Pl=s=>{const l=Lc(s),h=zp(s),g=El(s);return jr(l.left,l.top,h,g)},ip=s=>{const l=Lm(s),h=zp(s),g=El(s);return jr(l.left,l.top,h,g)},Vd=(s,l)=>{const h=Math.max(s.x,l.x),g=Math.max(s.y,l.y),E=Math.min(s.right,l.right),O=Math.min(s.bottom,l.bottom),I=E-h,q=O-g;return jr(h,g,I,q)},id=(s,l)=>Is(l,(h,g)=>Vd(h,g),s),Bu=()=>Ya(window),FE=(s,l)=>xe(s.element,l.event.target),Pg=s=>(Mc(ua(s,"position"),"fixed")?ee.none():gs(s)).orThunk(()=>{const g=to.fromTag("span");return jn(s).bind(E=>{nc(E,g);const O=gs(g);return Nd(g),O})}),jS=s=>Pg(s).map(Lc).getOrThunk(()=>ni(0,0)),Fd=(s,l)=>{const h=ee.from(fl(s,"id")).getOrThunk(()=>{const g=uo("aria");return rs(l,"id",g),g});rs(s,"aria-describedby",h)},HE=s=>{sa(s,"aria-describedby")};var Zi;(function(s){s[s.Error=0]="Error",s[s.Value=1]="Value"})(Zi||(Zi={}));const Ng=(s,l,h)=>s.stype===Zi.Error?l(s.serror):h(s.svalue),Lg=s=>{const l=[],h=[];return Tn(s,g=>{Ng(g,E=>h.push(E),E=>l.push(E))}),{values:l,errors:h}},ZO=(s,l)=>s.stype===Zi.Error?{stype:Zi.Error,serror:l(s.serror)}:s,WS=(s,l)=>s.stype===Zi.Value?{stype:Zi.Value,svalue:l(s.svalue)}:s,GS=(s,l)=>s.stype===Zi.Value?l(s.svalue):s,KO=(s,l)=>s.stype===Zi.Error?l(s.serror):s,qp=s=>({stype:Zi.Value,svalue:s}),Bm=s=>({stype:Zi.Error,serror:s}),ha={fromResult:s=>s.fold(Bm,qp),toResult:s=>Ng(s,$o.error,$o.value),svalue:qp,partition:Lg,serror:Bm,bind:GS,bindError:KO,map:WS,mapError:ZO,fold:Ng},r0=s=>S(s)&&Io(s).length>100?" removed due to size":JSON.stringify(s,null,2),sy=s=>{const l=s.length>10?s.slice(0,10).concat([{path:[],getErrorInfo:F("... (only showing first ten failures)")}]):s;return qt(l,h=>"Failed path: ("+h.path.join(" > ")+`)
`+h.getErrorInfo())},Oc=(s,l)=>ha.serror([{path:s,getErrorInfo:l}]),Hv=(s,l,h)=>Oc(s,()=>'Could not find valid *required* value for "'+l+'" in '+r0(h)),AA=(s,l)=>Oc(s,()=>'Choice schema did not contain choice key: "'+l+'"'),Vg=(s,l,h)=>Oc(s,()=>'The chosen schema: "'+h+'" did not exist in branches: '+r0(l)),TA=(s,l)=>Oc(s,()=>"There are unsupported fields: ["+l.join(", ")+"] specified"),ap=(s,l)=>Oc(s,F(l)),Vm=s=>{const l=(g,E)=>ha.bindError(s(E),O=>ap(g,O)),h=F("val");return{extract:l,toString:h}},$E=Vm(ha.svalue),Bn=F($E),Fg=(s,l)=>Vm(h=>{const g=typeof h;return s(h)?ha.svalue(h):ha.serror(`Expected type: ${l} but got: ${g}`)}),ry=Fg(oe,"number"),Ba=Fg(v,"string"),yr=Fg(B,"boolean"),$v=Fg(K,"function"),fa=s=>{if(Object(s)!==s)return!0;switch({}.toString.call(s).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(s).every(l=>fa(s[l]));default:return!1}},p1=Vm(s=>fa(s)?ha.svalue(s):ha.serror("Expected value to be acceptable for sending via postMessage")),pf=()=>({tag:"required",process:{}}),iu=s=>({tag:"defaultedThunk",process:s}),si=s=>iu(F(s)),Zp=()=>({tag:"option",process:{}}),Kp=s=>({tag:"mergeWithThunk",process:s}),UE=s=>Kp(F(s)),qS=(s,l,h,g)=>({tag:"field",key:s,newKey:l,presence:h,prop:g}),Hh=(s,l)=>({tag:"custom",newKey:s,instantiator:l}),Fm=(s,l,h)=>{switch(s.tag){case"field":return l(s.key,s.newKey,s.presence,s.prop);case"custom":return h(s.newKey,s.instantiator)}},i0=(s,l)=>ha.svalue(Kr(l,xh.apply(void 0,s))),Fi=s=>_e(ha.serror,mn)(s),jE={consolidateObj:(s,l)=>{const h=ha.partition(s);return h.errors.length>0?Fi(h.errors):i0(h.values,l)},consolidateArr:s=>{const l=ha.partition(s);return l.errors.length>0?Fi(l.errors):ha.svalue(l.values)}},iy=(s,l,h,g)=>Zt(l,h).fold(()=>Hv(s,h,l),g),ZS=(s,l,h,g)=>{const E=Zt(s,l).getOrThunk(()=>h(s));return g(E)},KS=(s,l,h)=>h(Zt(s,l)),Hm=(s,l,h,g)=>{const E=Zt(s,l).map(O=>O===!0?h(s):O);return g(E)},m1=(s,l,h,g,E)=>{const O=q=>E.extract(l.concat([g]),q),I=q=>q.fold(()=>ha.svalue(ee.none()),Y=>{const ne=E.extract(l.concat([g]),Y);return ha.map(ne,ee.some)});switch(s.tag){case"required":return iy(l,h,g,O);case"defaultedThunk":return ZS(h,g,s.process,O);case"option":return KS(h,g,I);case"defaultedOptionThunk":return Hm(h,g,s.process,I);case"mergeWithThunk":return ZS(h,g,F({}),q=>{const Y=Kr(s.process(h),q);return O(Y)})}},ad=(s,l,h)=>{const g={},E=[];for(const O of h)Fm(O,(I,q,Y,ne)=>{const he=m1(Y,s,l,I,ne);ha.fold(he,ve=>{E.push(...ve)},ve=>{g[q]=ve})},(I,q)=>{g[I]=q(l)});return E.length>0?ha.serror(E):ha.svalue(g)},mf=s=>({extract:(g,E)=>s().extract(g,E),toString:()=>s().toString()}),Vu=s=>Io(Jt(s,H)),ch=s=>{const l=vs(s),h=as(s,(E,O)=>Fm(O,I=>Kr(E,{[I]:!0}),F(E)),{});return{extract:(E,O)=>{const I=B(O)?[]:Vu(O),q=ws(I,Y=>!eo(h,Y));return q.length===0?l.extract(E,O):TA(E,q)},toString:l.toString}},vs=s=>({extract:(g,E)=>ad(g,E,s),toString:()=>`obj{
`+qt(s,E=>Fm(E,(O,I,q,Y)=>O+" -> "+Y.toString(),(O,I)=>"state("+O+")")).join(`
`)+"}"}),ld=s=>({extract:(g,E)=>{const O=qt(E,(I,q)=>s.extract(g.concat(["["+q+"]"]),I));return jE.consolidateArr(O)},toString:()=>"array("+s.toString()+")"}),ay=(s,l)=>{const h=l!==void 0?l:Me;return{extract:(O,I)=>{const q=[];for(const Y of s){const ne=Y.extract(O,I);if(ne.stype===Zi.Value)return{stype:Zi.Value,svalue:h(ne.svalue)};q.push(ne)}return jE.consolidateArr(q)},toString:()=>"oneOf("+qt(s,O=>O.toString()).join(", ")+")"}},Hg=(s,l)=>{const h=(O,I)=>ld(Vm(s)).extract(O,I);return{extract:(O,I)=>{const q=Io(I),Y=h(O,q);return ha.bind(Y,ne=>{const he=qt(ne,ve=>qS(ve,ve,pf(),l));return vs(he).extract(O,I)})},toString:()=>"setOf("+l.toString()+")"}},YO=(s,l)=>{const h=Jc(l);return{extract:(O,I)=>h().extract(O,I),toString:()=>h().toString()}},YS=_e(ld,vs),lp=(s,l,h,g)=>Zt(h,g).fold(()=>Vg(s,h,g),O=>O.extract(s.concat(["branch: "+g]),l)),$m=(s,l)=>({extract:(E,O)=>Zt(O,s).fold(()=>AA(E,s),q=>lp(E,O,l,q)),toString:()=>"chooseOn("+s+"). Possible values: "+Io(l)}),a0=()=>ld($E),Um=s=>Vm(l=>s(l).fold(ha.serror,ha.svalue)),WE=(s,l)=>Hg(h=>ha.fromResult(s(h)),l),GE=(s,l,h)=>{const g=l.extract([s],h);return ha.mapError(g,E=>({input:h,errors:E}))},ka=(s,l,h)=>ha.toResult(GE(s,l,h)),cp=s=>s.fold(l=>{throw new Error(up(l))},Me),cd=(s,l,h)=>cp(ka(s,l,h)),up=s=>`Errors: 
`+sy(s.errors).join(`
`)+`

Input object: `+r0(s.input),ud=(s,l)=>$m(s,ys(l,vs)),ly=(s,l)=>YO(s,l),yc=qS,Bc=Hh,Uv=s=>Um(l=>vn(s,l)?$o.value(l):$o.error(`Unsupported value: "${l}", choose one of "${s.join(", ")}".`)),xn=s=>yc(s,s,pf(),Bn()),Fu=(s,l)=>yc(s,s,pf(),l),l0=s=>Fu(s,ry),oc=s=>Fu(s,Ba),gf=(s,l)=>yc(s,s,pf(),Uv(l)),$h=s=>Fu(s,$v),c0=(s,l)=>yc(s,s,Zp(),Vm(h=>ha.serror("The field: "+s+" is forbidden. "+l))),zm=(s,l)=>yc(s,s,pf(),vs(l)),OA=(s,l)=>yc(s,s,pf(),YS(l)),Hd=(s,l)=>yc(s,s,pf(),ld(l)),li=s=>yc(s,s,Zp(),Bn()),Hu=(s,l)=>yc(s,s,Zp(),l),cy=s=>Hu(s,ry),il=s=>Hu(s,Ba),IA=(s,l)=>Hu(s,Uv(l)),XS=s=>Hu(s,yr),Yp=s=>Hu(s,$v),qE=(s,l)=>Hu(s,ld(l)),uh=(s,l)=>Hu(s,vs(l)),ZE=(s,l)=>Hu(s,ch(l)),Wt=(s,l)=>yc(s,s,si(l),Bn()),dd=(s,l,h)=>yc(s,s,si(l),h),u0=(s,l)=>dd(s,l,ry),Va=(s,l)=>dd(s,l,Ba),dh=(s,l,h)=>dd(s,l,Uv(h)),Vc=(s,l)=>dd(s,l,yr),ci=(s,l)=>dd(s,l,$v),JS=(s,l)=>dd(s,l,p1),zv=(s,l,h)=>dd(s,l,ld(h)),KE=(s,l,h)=>dd(s,l,vs(h)),jv=(s,l)=>{const h={};return Ps(s,(g,E)=>{vn(l,E)||(h[E]=g)}),h},$g=(s,l)=>({[s]:l}),QS=s=>{const l={};return Tn(s,h=>{l[h.key]=h.value}),l},YE=(s,l)=>jv(s,l),Ug=(s,l)=>$g(s,l),Wv=s=>QS(s),RA=(s,l)=>s.length===0?$o.value(l):$o.value(Kr(l,xh.apply(void 0,s))),Gv=s=>$o.error(mn(s)),Fc=(s,l)=>{const h=Xc(s);return h.errors.length>0?Gv(h.errors):RA(h.values,l)},sc=F,zg=sc("touchstart"),jg=sc("touchmove"),Wg=sc("touchend"),d0=sc("touchcancel"),hd=sc("mousedown"),qv=sc("mousemove"),_l=sc("mouseout"),uy=sc("mouseup"),vf=sc("mouseover"),bf=sc("focusin"),g1=sc("focusout"),rc=sc("keydown"),Gg=sc("keyup"),Xp=sc("input"),Jp=sc("change"),jm=sc("click"),Zv=sc("transitioncancel"),fd=sc("transitionend"),dy=sc("transitionstart"),kA=sc("selectstart"),Ca=s=>F("alloy."+s),XE={tap:Ca("tap")},dp=Ca("focus"),yf=Ca("blur.post"),Wm=Ca("paste.post"),Qp=Ca("receive"),au=Ca("execute"),hy=Ca("focus.item"),em=XE.tap,JE=Ca("longpress"),v1=Ca("sandbox.close"),fy=Ca("typeahead.cancel"),eC=Ca("system.init"),tC=Ca("system.touchmove"),DA=Ca("system.touchend"),py=Ca("system.scroll"),my=Ca("system.resize"),tm=Ca("system.attached"),qg=Ca("system.detached"),Zg=Ca("system.dismissRequested"),MA=Ca("system.repositionRequested"),h0=Ca("focusmanager.shifted"),b1=Ca("slotcontainer.visibility"),PA=Ca("system.external.element.scroll"),NA=Ca("change.tab"),gy=Ca("dismiss.tab"),Kv=Ca("highlight"),nC=Ca("dehighlight"),hh=s=>Tc(s),y1="unknown";var hp;(function(s){s[s.STOP=0]="STOP",s[s.NORMAL=1]="NORMAL",s[s.LOGGING=2]="LOGGING"})(hp||(hp={}));const f0=wn({}),LA=(s,l)=>{const h=[],g=new Date().getTime();return{logEventCut:(E,O,I)=>{h.push({outcome:"cut",target:O,purpose:I})},logEventStopped:(E,O,I)=>{h.push({outcome:"stopped",target:O,purpose:I})},logNoParent:(E,O,I)=>{h.push({outcome:"no-parent",target:O,purpose:I})},logEventNoHandlers:(E,O)=>{h.push({outcome:"no-handlers-left",target:O})},logEventResponse:(E,O,I)=>{h.push({outcome:"response",purpose:I,target:O})},write:()=>{const E=new Date().getTime();vn(["mousemove","mouseover","mouseout",eC()],s)||console.log(s,{event:s,time:E-g,target:l.dom,sequence:qt(h,O=>vn(["cut","stopped","response"],O.outcome)?"{"+O.purpose+"} "+O.outcome+" at ("+hh(O.target)+")":O.outcome)})}}},QE=(s,l,h)=>{switch(Zt(f0.get(),s).orThunk(()=>{const E=Io(f0.get());return Ko(E,O=>s.indexOf(O)>-1?ee.some(f0.get()[O]):ee.none())}).getOr(hp.NORMAL)){case hp.NORMAL:return h(XO());case hp.LOGGING:{const E=LA(s,l),O=h(E);return E.write(),O}case hp.STOP:return!0}},fh=["alloy/data/Fields","alloy/debugging/Debugging"],S1=()=>{const s=new Error;if(s.stack!==void 0){const l=s.stack.split(`
`);return kt(l,h=>h.indexOf("alloy")>0&&!To(fh,g=>h.indexOf(g)>-1)).getOr(y1)}else return y1},BA={logEventCut:re,logEventStopped:re,logNoParent:re,logEventNoHandlers:re,logEventResponse:re,write:re},Yv=(s,l,h)=>QE(s,l,h),XO=F(BA),VA=F([xn("menu"),xn("selectedMenu")]),ew=F([xn("item"),xn("selectedItem")]);F(vs(ew().concat(VA())));const FA=F(vs(ew())),mi=zm("initSize",[xn("numColumns"),xn("numRows")]),HA=()=>Fu("markers",FA()),tw=()=>zm("markers",[xn("backgroundMenu")].concat(VA()).concat(ew())),ph=s=>zm("markers",qt(s,xn)),vy=(s,l,h)=>(S1(),yc(l,l,h,Um(g=>$o.value((...E)=>g.apply(void 0,E))))),kr=s=>vy("onHandler",s,si(re)),Nl=s=>vy("onKeyboardHandler",s,si(ee.none)),C1=s=>vy("onHandler",s,pf()),oC=s=>vy("onKeyboardHandler",s,pf()),ia=(s,l)=>Bc(s,F(l)),p0=s=>Bc(s,Me),E1=F(mi),nw=(s,l,h)=>{const g=h.toString(),E=g.indexOf(")")+1,O=g.indexOf("("),I=g.substring(O+1,E-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:l,parameters:$A(I.slice(0,1).concat(I.slice(3)))}),s},$A=s=>qt(s,l=>Pc(l,"/*")?l.substring(0,l.length-2):l),UA=(s,l)=>{const h=s.toString(),g=h.indexOf(")")+1,E=h.indexOf("("),O=h.substring(E+1,g-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:l,parameters:$A(O)}),s},Yk=(s,l)=>{const h=l.toString(),g=h.indexOf(")")+1,E=h.indexOf("("),O=h.substring(E+1,g-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:$A(O.slice(1))}),s},zA=(s,l)=>{let h=null;return{cancel:()=>{h!==null&&(clearTimeout(h),h=null)},schedule:(...O)=>{h=setTimeout(()=>{s.apply(null,O),h=null},l)}}},JO=5,jA=400,WA=s=>{const l=s.raw;return l.touches===void 0||l.touches.length!==1?ee.none():ee.some(l.touches[0])},fp=(s,l)=>{const h=Math.abs(s.clientX-l.x),g=Math.abs(s.clientY-l.y);return h>JO||g>JO},Hc=s=>{const l=ms(),h=wn(!1),g=zA(ne=>{s.triggerEvent(JE(),ne),h.set(!0)},jA),E=ne=>(WA(ne).each(he=>{g.cancel();const ve={x:he.clientX,y:he.clientY,target:ne.target};g.schedule(ne),h.set(!1),l.set(ve)}),ee.none()),O=ne=>(g.cancel(),WA(ne).each(he=>{l.on(ve=>{fp(he,ve)&&l.clear()})}),ee.none()),I=ne=>{g.cancel();const he=ve=>xe(ve.target,ne.target);return l.get().filter(he).map(ve=>h.get()?(ne.prevent(),!1):s.triggerEvent(em(),ne))},q=Wv([{key:zg(),value:E},{key:jg(),value:O},{key:Wg(),value:I}]);return{fireIfReady:(ne,he)=>Zt(q,he).bind(ve=>ve(ne))}};var Sf;(function(s){s.OnFocusMode="onFocus",s.OnEnterOrSpaceMode="onEnterOrSpace",s.OnApiMode="onApi"})(Sf||(Sf={}));const nm="placeholder",om=Ho.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Kg=s=>Zn(s,"uiType"),Gm=(s,l,h,g)=>s.exists(E=>E!==h.owner)?om.single(!0,F(h)):Zt(g,h.name).fold(()=>{throw new Error("Unknown placeholder component: "+h.name+`
Known: [`+Io(g)+`]
Namespace: `+s.getOr("none")+`
Spec: `+JSON.stringify(h,null,2))},E=>E.replace()),qm=(s,l,h,g)=>Kg(h)&&h.uiType===nm?Gm(s,l,h,g):om.single(!1,F(h)),ow=(s,l,h,g)=>qm(s,l,h,g).fold((O,I)=>{const q=Kg(h)?I(l,h.config,h.validated):I(l),Y=Zt(q,"components").getOr([]),ne=Ze(Y,he=>ow(s,l,he,g));return[{...q,components:ne}]},(O,I)=>{if(Kg(h)){const q=I(l,h.config,h.validated);return h.validated.preprocess.getOr(Me)(q)}else return I(l)}),sC=(s,l,h,g)=>Ze(h,E=>ow(s,l,E,g)),QO=(s,l)=>{let h=!1;const g=()=>h,E=()=>{if(h)throw new Error("Trying to use the same placeholder more than once: "+s);return h=!0,l},O=()=>l.fold((I,q)=>I,(I,q)=>I);return{name:F(s),required:O,used:g,replace:E}},eI=(s,l,h,g)=>{const E=ys(g,(I,q)=>QO(q,I)),O=sC(s,l,h,E);return Ps(E,I=>{if(I.used()===!1&&I.required())throw new Error("Placeholder: "+I.name()+` was not found in components list
Namespace: `+s.getOr("none")+`
Components: `+JSON.stringify(l.components,null,2))}),O},w1=om.single,rC=om.multiple,iC=F(nm),aC=Ho.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Yg=Wt("factory",{sketch:Me}),m0=Wt("schema",[]),sm=xn("name"),lC=yc("pname","pname",iu(s=>"<alloy."+uo(s.name)+">"),Bn()),sw=Bc("schema",()=>[li("preprocess")]),cC=Wt("defaults",F({})),uC=Wt("overrides",F({})),GA=vs([Yg,m0,sm,lC,cC,uC]),tI=vs([Yg,m0,sm,cC,uC]),g0=vs([Yg,m0,sm,lC,cC,uC]),qA=vs([Yg,sw,sm,xn("unit"),lC,cC,uC]),Cf=s=>s.fold(ee.some,ee.none,ee.some,ee.some),v0=s=>{const l=h=>h.name;return s.fold(l,l,l,l)},dC=s=>s.fold(Me,Me,Me,Me),Zm=(s,l)=>h=>{const g=cd("Converting part type",l,h);return s(g)},Q=Zm(aC.required,GA),m=Zm(aC.external,tI),C=Zm(aC.optional,g0),A=Zm(aC.group,qA),R=F("entirety");var D=Object.freeze({__proto__:null,required:Q,external:m,optional:C,group:A,asNamedPart:Cf,name:v0,asCommon:dC,original:R});const V=(s,l,h,g)=>Kr(l.defaults(s,h,g),h,{uid:s.partUids[l.name]},l.overrides(s,h,g)),j=(s,l,h)=>{const g={},E={};return Tn(h,O=>{O.fold(I=>{g[I.pname]=w1(!0,(q,Y,ne)=>I.factory.sketch(V(q,I,Y,ne)))},I=>{const q=l.parts[I.name];E[I.name]=F(I.factory.sketch(V(l,I,q[R()]),q))},I=>{g[I.pname]=w1(!1,(q,Y,ne)=>I.factory.sketch(V(q,I,Y,ne)))},I=>{g[I.pname]=rC(!0,(q,Y,ne)=>{const he=q[I.name];return qt(he,ve=>I.factory.sketch(Kr(I.defaults(q,ve,ne),ve,I.overrides(q,ve))))})})}),{internals:F(g),externals:F(E)}},Z=(s,l)=>{const h={};return Tn(l,g=>{Cf(g).each(E=>{const O=te(s,E.pname);h[E.name]=I=>{const q=cd("Part: "+E.name+" in "+s,vs(E.schema),I);return{...O,config:I,validated:q}}})}),h},te=(s,l)=>({uiType:iC(),owner:s,name:l}),ue=(s,l,h)=>({uiType:iC(),owner:s,name:l,config:h,validated:{}}),ie=s=>Ze(s,l=>l.fold(ee.none,ee.some,ee.none,ee.none).map(h=>zm(h.name,h.schema.concat([p0(R())]))).toArray()),me=s=>qt(s,v0),Ce=(s,l,h)=>j(s,l,h),Ae=(s,l,h)=>eI(ee.some(s),l,l.components,h),ke=(s,l,h)=>{const g=l.partUids[h];return s.getSystem().getByUid(g).toOptional()},Be=(s,l,h)=>ke(s,l,h).getOrDie("Could not find part: "+h),Pe=(s,l,h)=>{const g={},E=l.partUids,O=s.getSystem();return Tn(h,I=>{g[I]=F(O.getByUid(E[I]))}),g},tt=(s,l)=>{const h=s.getSystem();return ys(l.partUids,(g,E)=>F(h.getByUid(g)))},dt=s=>Io(s.partUids),Ot=(s,l,h)=>{const g={},E=l.partUids,O=s.getSystem();return Tn(h,I=>{g[I]=F(O.getByUid(E[I]).getOrDie())}),g},Nt=(s,l)=>{const h=me(l);return Wv(qt(h,g=>({key:g,value:s+"-"+g})))},Bt=s=>yc("partUids","partUids",Kp(l=>Nt(l.uid,s)),Bn());var Ft=Object.freeze({__proto__:null,generate:Z,generateOne:ue,schemas:ie,names:me,substitutes:Ce,components:Ae,defaultUids:Nt,defaultUidsSchema:Bt,getAllParts:tt,getAllPartNames:dt,getPart:ke,getPartOrDie:Be,getParts:Pe,getPartsOrDie:Ot});const $t=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Hn=(s,l,h,g=1)=>{const E=s*g,O=l*g,I=Y=>Zt(h,Y).getOr([]),q=(Y,ne,he)=>{const ve=je($t,he);return{offset:ni(Y,ne),classesOn:Ze(he,I),classesOff:Ze(ve,I)}};return{southeast:()=>q(-s,l,["top","alignLeft"]),southwest:()=>q(s,l,["top","alignRight"]),south:()=>q(-s/2,l,["top","alignCentre"]),northeast:()=>q(-s,-l,["bottom","alignLeft"]),northwest:()=>q(s,-l,["bottom","alignRight"]),north:()=>q(-s/2,-l,["bottom","alignCentre"]),east:()=>q(s,-l/2,["valignCentre","left"]),west:()=>q(-s,-l/2,["valignCentre","right"]),insetNortheast:()=>q(E,O,["top","alignLeft","inset"]),insetNorthwest:()=>q(-E,O,["top","alignRight","inset"]),insetNorth:()=>q(-E/2,O,["top","alignCentre","inset"]),insetSoutheast:()=>q(E,-O,["bottom","alignLeft","inset"]),insetSouthwest:()=>q(-E,-O,["bottom","alignRight","inset"]),insetSouth:()=>q(-E/2,-O,["bottom","alignCentre","inset"]),insetEast:()=>q(-E,-O/2,["valignCentre","right","inset"]),insetWest:()=>q(E,-O/2,["valignCentre","left","inset"])}},lo=()=>Hn(0,0,{}),_n=(s,l,h,g,E,O,I,q=!1)=>({x:s,y:l,bubble:h,direction:g,placement:E,restriction:O,label:`${I}-${E}`,alwaysFit:q}),Uo=Ho.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Js=(s,l,h,g,E,O,I,q,Y)=>s.fold(l,h,g,E,O,I,q,Y),ar=(s,l,h,g)=>s.fold(l,l,g,g,l,g,h,h),ns=(s,l,h,g)=>s.fold(l,g,l,g,h,h,l,g),Cs=Uo.southeast,qs=Uo.southwest,Da=Uo.northeast,Ai=Uo.northwest,lu=Uo.south,Rr=Uo.north,gr=Uo.east,ui=Uo.west,gi=(s,l)=>{switch(l){case 1:return s.x;case 0:return s.x+s.width;case 2:return s.y;case 3:return s.y+s.height}},Wr=(s,l)=>Lt(["left","right","top","bottom"],h=>Zt(l,h).map(g=>gi(s,g))),Xa=(s,l,h)=>{const g=(Y,ne)=>l[Y].map(he=>{const ve=Y==="top"||Y==="bottom",Re=ve?h.top:h.left,Ge=(Y==="left"||Y==="top"?Math.max:Math.min)(he,ne)+Re;return ve?dl(Ge,s.y,s.bottom):dl(Ge,s.x,s.right)}).getOr(ne),E=g("left",s.x),O=g("top",s.y),I=g("right",s.right),q=g("bottom",s.bottom);return jr(E,O,I-E,q-O)},Ti="layout",Ll=s=>s.x,$u=(s,l)=>s.x+s.width/2-l.width/2,$d=(s,l)=>s.x+s.width-l.width,pp=(s,l)=>s.y-l.height,Ef=s=>s.y+s.height,Ud=(s,l)=>s.y+s.height/2-l.height/2,rm=s=>s.x+s.width,mp=(s,l)=>s.x-l.width,Fa=(s,l,h)=>_n(Ll(s),Ef(s),h.southeast(),Cs(),"southeast",Wr(s,{left:1,top:3}),Ti),Hi=(s,l,h)=>_n($d(s,l),Ef(s),h.southwest(),qs(),"southwest",Wr(s,{right:0,top:3}),Ti),Ha=(s,l,h)=>_n(Ll(s),pp(s,l),h.northeast(),Da(),"northeast",Wr(s,{left:1,bottom:2}),Ti),al=(s,l,h)=>_n($d(s,l),pp(s,l),h.northwest(),Ai(),"northwest",Wr(s,{right:0,bottom:2}),Ti),ic=(s,l,h)=>_n($u(s,l),pp(s,l),h.north(),Rr(),"north",Wr(s,{bottom:2}),Ti),ac=(s,l,h)=>_n($u(s,l),Ef(s),h.south(),lu(),"south",Wr(s,{top:3}),Ti),ZA=(s,l,h)=>_n(rm(s),Ud(s,l),h.east(),gr(),"east",Wr(s,{left:0}),Ti),KA=(s,l,h)=>_n(mp(s,l),Ud(s,l),h.west(),ui(),"west",Wr(s,{right:1}),Ti),YA=()=>[Fa,Hi,Ha,al,ac,ic,ZA,KA],Xk=()=>[Hi,Fa,al,Ha,ac,ic,ZA,KA],XA=()=>[Ha,al,Fa,Hi,ic,ac],Jk=()=>[al,Ha,Hi,Fa,ic,ac],_1=()=>[Fa,Hi,Ha,al,ac,ic],nI=()=>[Hi,Fa,al,Ha,ac,ic],A1="data-alloy-placement",JA=(s,l)=>{rs(s,A1,l)},oI=s=>nr(s,A1),QA=s=>sa(s,A1),Xg="layout-inset",rw=s=>s.x,sI=(s,l)=>s.x+s.width/2-l.width/2,hC=(s,l)=>s.x+s.width-l.width,iw=s=>s.y,eT=(s,l)=>s.y+s.height-l.height,rI=(s,l)=>s.y+s.height/2-l.height/2,Km=(s,l,h)=>_n(hC(s,l),eT(s,l),h.insetSouthwest(),Ai(),"southwest",Wr(s,{right:0,bottom:3}),Xg),Xv=(s,l,h)=>_n(rw(s),eT(s,l),h.insetSoutheast(),Da(),"southeast",Wr(s,{left:1,bottom:3}),Xg),fC=(s,l,h)=>_n(hC(s,l),iw(s),h.insetNorthwest(),qs(),"northwest",Wr(s,{right:0,top:2}),Xg),sn=(s,l,h)=>_n(rw(s),iw(s),h.insetNortheast(),Cs(),"northeast",Wr(s,{left:1,top:2}),Xg),Uh=(s,l,h)=>_n(sI(s,l),iw(s),h.insetNorth(),lu(),"north",Wr(s,{top:2}),Xg),pC=(s,l,h)=>_n(sI(s,l),eT(s,l),h.insetSouth(),Rr(),"south",Wr(s,{bottom:3}),Xg),aw=(s,l,h)=>_n(hC(s,l),rI(s,l),h.insetEast(),ui(),"east",Wr(s,{right:0}),Xg),tT=(s,l,h)=>_n(rw(s),rI(s,l),h.insetWest(),gr(),"west",Wr(s,{left:1}),Xg),Jg=s=>{switch(s){case"north":return Uh;case"northeast":return sn;case"northwest":return fC;case"south":return pC;case"southeast":return Xv;case"southwest":return Km;case"east":return aw;case"west":return tT}},zd=(s,l,h,g,E)=>oI(g).map(Jg).getOr(Uh)(s,l,h,g,E),lw=s=>{switch(s){case"north":return pC;case"northeast":return Xv;case"northwest":return Km;case"south":return Uh;case"southeast":return sn;case"southwest":return fC;case"east":return tT;case"west":return aw}},Qk=(s,l,h,g,E)=>oI(g).map(lw).getOr(Uh)(s,l,h,g,E),nT=(s,l)=>{cf(s,Math.floor(l))},eD=F((s,l)=>{nT(s,l),ca(s,{"overflow-x":"hidden","overflow-y":"auto"})}),T1=F((s,l)=>{nT(s,l)}),iI=F((s,l)=>{kE(s,Math.floor(l))});var Jv;(function(s){s.TopToBottom="toptobottom",s.BottomToTop="bottomtotop"})(Jv||(Jv={}));const aI="data-alloy-vertical-dir",tD=s=>Yb(s,l=>Ac(l)&&fl(l,"data-alloy-vertical-dir")===Jv.BottomToTop);var jd;(function(s){s[s.HighlightMenuAndItem=0]="HighlightMenuAndItem",s[s.HighlightJustMenu=1]="HighlightJustMenu",s[s.HighlightNone=2]="HighlightNone"})(jd||(jd={}));const Qg={init:()=>wf({readState:F("No State required")})},wf=s=>s,oT={can:gt,abort:rt,run:re},mC=s=>{if(!eo(s,"can")&&!eo(s,"abort")&&!eo(s,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(s,null,2)+" does not have can, abort, or run!");return{...oT,...s}},nD=(s,l)=>(...h)=>Is(s,(g,E)=>g&&l(E).apply(void 0,h),!0),R4=(s,l)=>(...h)=>Is(s,(g,E)=>g||l(E).apply(void 0,h),!1),lI=s=>K(s)?{can:gt,abort:rt,run:s}:s,oD=s=>{const l=nD(s,E=>E.can),h=R4(s,E=>E.abort);return{can:l,abort:h,run:(...E)=>{Tn(s,O=>{O.run.apply(void 0,E)})}}},Cr=(s,l)=>{cI(s,s.element,l,{})},cs=(s,l,h)=>{cI(s,s.element,l,h)},cw=s=>{Cr(s,au())},sT=(s,l,h)=>{cI(s,l,h,{})},cI=(s,l,h,g)=>{const E={target:l,...g};s.getSystem().triggerEvent(h,l,E)},k4=(s,l,h,g)=>{const E={...g,target:l};s.getSystem().triggerEvent(h,l,E)},uI=(s,l,h,g)=>{s.getSystem().triggerEvent(h,l,g.event)},Ta=s=>Wv(s),rT=(s,l)=>({key:s,value:mC({abort:l})}),uw=(s,l)=>({key:s,value:mC({can:l})}),x1=s=>({key:s,value:mC({run:(l,h)=>{h.event.prevent()}})}),dn=(s,l)=>({key:s,value:mC({run:l})}),iT=(s,l,h)=>({key:s,value:mC({run:(g,E)=>{l.apply(void 0,[g,E].concat(h))}})}),sD=s=>l=>dn(s,l),aT=s=>l=>({key:s,value:mC({run:(h,g)=>{FE(h,g)&&l(h,g)}})}),rD=(s,l)=>dn(s,(h,g)=>{h.getSystem().getByUid(l).each(E=>{uI(E,E.element,s,g)})}),by=(s,l,h)=>{const g=l.partUids[h];return rD(s,g)},O1=(s,l)=>dn(s,(h,g)=>{const E=g.event,O=h.getSystem().getByDom(E.target).getOrThunk(()=>Nu(E.target,q=>h.getSystem().getByDom(q).toOptional(),rt).getOr(h));l(h,O,g)}),I1=s=>dn(s,(l,h)=>{h.cut()}),dI=s=>dn(s,(l,h)=>{h.stop()}),R1=(s,l)=>aT(s)(l),Ea=aT(tm()),ev=aT(qg()),iD=aT(eC()),yy=sD(au()),Ym=s=>({classes:z(s.classes)?[]:s.classes,attributes:z(s.attributes)?{}:s.attributes,styles:z(s.styles)?{}:s.styles}),D4=(s,l)=>({...s,attributes:{...s.attributes,...l.attributes},styles:{...s.styles,...l.styles},classes:s.classes.concat(l.classes)}),M4=(s,l,h)=>yy(g=>{h(g,s,l)}),hI=(s,l,h)=>iD((g,E)=>{h(g,s,l)}),P4=(s,l,h,g,E,O)=>{const I=ch(s),q=uh(l,[ZE("config",s)]);return fI(I,q,l,h,g,E,O)},N4=(s,l,h,g,E,O)=>{const I=s,q=uh(l,[Hu("config",s)]);return fI(I,q,l,h,g,E,O)},L4=(s,l,h)=>nw((E,...O)=>{const I=[E].concat(O);return E.config({name:F(s)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+s+". Using API: "+h)},q=>{const Y=Array.prototype.slice.call(I,1);return l.apply(void 0,[E,q.config,q.state].concat(Y))})},h,l),B4=s=>({key:s,value:void 0}),fI=(s,l,h,g,E,O,I)=>{const q=ve=>eo(ve,h)?ve[h]():ee.none(),Y=ys(E,(ve,Re)=>L4(h,ve,Re)),he={...ys(O,(ve,Re)=>UA(ve,Re)),...Y,revoke:Fe(B4,h),config:ve=>{const Re=cd(h+"-config",s,ve);return{key:h,value:{config:Re,me:he,configAsRaw:Jc(()=>cd(h+"-config",s,ve)),initialConfig:ve,state:I}}},schema:F(l),exhibit:(ve,Re)=>wc(q(ve),Zt(g,"exhibit"),(ze,Ge)=>Ge(Re,ze.config,ze.state)).getOrThunk(()=>Ym({})),name:F(h),handlers:ve=>q(ve).map(Re=>Zt(g,"events").getOr(()=>({}))(Re.config,Re.state)).getOr({})};return he},Qn=s=>Wv(s),aD=ch([xn("fields"),xn("name"),Wt("active",{}),Wt("apis",{}),Wt("state",Qg),Wt("extra",{})]),cu=s=>{const l=cd("Creating behaviour: "+s.name,aD,s);return P4(l.fields,l.name,l.active,l.apis,l.extra,l.state)},lD=ch([xn("branchKey"),xn("branches"),xn("name"),Wt("active",{}),Wt("apis",{}),Wt("state",Qg),Wt("extra",{})]),cD=s=>{const l=cd("Creating behaviour: "+s.name,lD,s);return N4(ud(l.branchKey,l.branches),l.name,l.active,l.apis,l.extra,l.state)},uD=F(void 0),V4=(s,l)=>{const h=Ta(l);return cu({fields:[xn("enabled")],name:s,active:{events:F(h)}})},Fs=(s,l)=>{const h=V4(s,l);return{key:s,value:{config:{},me:h,configAsRaw:F({}),initialConfig:{},state:Qg}}},pI=s=>({init:()=>{const h=wn(s);return{get:()=>h.get(),set:q=>h.set(q),clear:()=>h.set(s),readState:()=>h.get()}}}),dD=(s,l)=>{l.ignore||(oa(s.element),l.onFocus(s))};var hD=Object.freeze({__proto__:null,focus:dD,blur:(s,l)=>{l.ignore||pr(s.element)},isFocused:s=>Nh(s.element)}),fD=Object.freeze({__proto__:null,exhibit:(s,l)=>{const h=l.ignore?{}:{attributes:{tabindex:"-1"}};return Ym(h)},events:s=>Ta([dn(dp(),(l,h)=>{dD(l,s),h.stop()})].concat(s.stopMousedown?[dn(hd(),(l,h)=>{h.event.prevent()})]:[]))}),mI=[kr("onFocus"),Wt("stopMousedown",!1),Wt("ignore",!1)];const Hs=cu({fields:mI,name:"focusing",active:fD,apis:hD}),gI=[8],Sy=[9],gp=[13],xo=[27],Wd=[32],dw=[37],hw=[38],lT=[39],gC=[40],fw=F("tooltipping.close.all"),Cy=F("dismiss.popups"),pd=F("reposition.popups"),Qv=F("mouse.released"),$4=(s,l,h)=>{const g=Dt(s.slice(0,l)),E=Dt(s.slice(l+1));return kt(g.concat(E),h)},Uu=(s,l,h)=>{const g=Dt(s.slice(0,l));return kt(g,h)},vC=(s,l,h)=>{const g=s.slice(0,l),E=s.slice(l+1);return kt(E.concat(g),h)},U4=(s,l,h)=>{const g=s.slice(l+1);return kt(g,h)},Ur=s=>l=>{const h=l.raw;return vn(s,h.which)},tv=s=>l=>mt(s,h=>h(l)),k1=s=>s.raw.shiftKey===!0,Fz=s=>s.raw.ctrlKey===!0,D1=De(k1),Gr=(s,l)=>({matches:s,classification:l}),Hz=(s,l)=>kt(s,g=>g.matches(l)).map(g=>g.classification),pD=(s,l,h,g)=>{const E=wi(s.element,"."+l.highlightClass);Tn(E,O=>{To(g,q=>xe(q.element,O))||(ai(O,l.highlightClass),s.getSystem().getByDom(O).each(q=>{l.onDehighlight(s,q),Cr(q,nC())}))})},$z=(s,l,h)=>pD(s,l,h,[]),Uz=(s,l,h,g)=>{mw(s,l,h,g)&&(ai(g.element,l.highlightClass),l.onDehighlight(s,g),Cr(g,nC()))},pw=(s,l,h,g)=>{pD(s,l,h,[g]),mw(s,l,h,g)||(Ei(g.element,l.highlightClass),l.onHighlight(s,g),Cr(g,Kv()))},z4=(s,l,h)=>{gw(s,l).each(g=>{pw(s,l,h,g)})},zz=(s,l,h)=>{bI(s,l).each(g=>{pw(s,l,h,g)})},cT=(s,l,h,g)=>{j4(s,l,h,g).fold(E=>{throw E},E=>{pw(s,l,h,E)})},vI=(s,l,h,g)=>{const E=bD(s,l);kt(E,g).each(I=>{pw(s,l,h,I)})},mw=(s,l,h,g)=>qa(g.element,l.highlightClass),mD=(s,l,h)=>oi(s.element,"."+l.highlightClass).bind(g=>s.getSystem().getByDom(g).toOptional()),j4=(s,l,h,g)=>{const E=wi(s.element,"."+l.itemClass);return ee.from(E[g]).fold(()=>$o.error(new Error("No element found with index "+g)),s.getSystem().getByDom)},gw=(s,l,h)=>oi(s.element,"."+l.itemClass).bind(g=>s.getSystem().getByDom(g).toOptional()),bI=(s,l,h)=>{const g=wi(s.element,"."+l.itemClass);return(g.length>0?ee.some(g[g.length-1]):ee.none()).bind(O=>s.getSystem().getByDom(O).toOptional())},yI=(s,l,h,g)=>{const E=wi(s.element,"."+l.itemClass);return bn(E,I=>qa(I,l.highlightClass)).bind(I=>{const q=Yc(I,g,0,E.length-1);return s.getSystem().getByDom(E[q]).toOptional()})},gD=(s,l,h)=>yI(s,l,h,-1),vD=(s,l,h)=>yI(s,l,h,1),bD=(s,l,h)=>{const g=wi(s.element,"."+l.itemClass);return Au(qt(g,E=>s.getSystem().getByDom(E).toOptional()))};var SI=Object.freeze({__proto__:null,dehighlightAll:$z,dehighlight:Uz,highlight:pw,highlightFirst:z4,highlightLast:zz,highlightAt:cT,highlightBy:vI,isHighlighted:mw,getHighlighted:mD,getFirst:gw,getLast:bI,getPrevious:gD,getNext:vD,getCandidates:bD}),CI=[xn("highlightClass"),xn("itemClass"),kr("onHighlight"),kr("onDehighlight")];const ri=cu({fields:CI,name:"highlighting",apis:SI}),yD=(s,l,h)=>{l.exists(E=>h.exists(O=>xe(O,E)))||cs(s,h0(),{prevFocus:l,newFocus:h})},uT=()=>{const s=h=>Ga(h.element);return{get:s,set:(h,g)=>{const E=s(h);h.getSystem().triggerFocus(g,h.element);const O=s(h);yD(h,E,O)}}},EI=()=>{const s=h=>ri.getHighlighted(h).map(g=>g.element);return{get:s,set:(h,g)=>{const E=s(h);h.getSystem().getByDom(g).fold(re,I=>{ri.highlight(h,I)});const O=s(h);yD(h,E,O)}}},im=(s,l,h,g,E)=>{const O=()=>s.concat([Wt("focusManager",uT()),dd("focusInside","onFocus",Um(ne=>vn(["onFocus","onEnterOrSpace","onApi"],ne)?$o.value(ne):$o.error("Invalid value for focusInside"))),ia("handler",Y),ia("state",l),ia("sendFocusIn",E)]),I=(ne,he,ve,Re,ze)=>{const Ge=ve(ne,he,Re,ze);return Hz(Ge,he.event).bind(et=>et(ne,he,Re,ze))},Y={schema:O,processKey:I,toEvents:(ne,he)=>{const ve=ne.focusInside!==Sf.OnFocusMode?ee.none():E(ne).map(Ge=>dn(dp(),(et,ft)=>{Ge(et,ne,he),ft.stop()})),Re=(Ge,et)=>{const ft=Ur(Wd.concat(gp))(et.event);ne.focusInside===Sf.OnEnterOrSpaceMode&&ft&&FE(Ge,et)&&E(ne).each(Je=>{Je(Ge,ne,he),et.stop()})},ze=[dn(rc(),(Ge,et)=>{I(Ge,et,h,ne,he).fold(()=>{Re(Ge,et)},ft=>{et.stop()})}),dn(Gg(),(Ge,et)=>{I(Ge,et,g,ne,he).each(ft=>{et.stop()})})];return Ta(ve.toArray().concat(ze))}};return Y},SD=s=>{const l=[li("onEscape"),li("onEnter"),Wt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Wt("firstTabstop",0),Wt("useTabstopAt",gt),li("visibilitySelector")].concat([s]),h=(Je,yt)=>{const At=Je.visibilitySelector.bind(Xt=>gl(yt,Xt)).getOr(yt);return Cl(At)>0},g=(Je,yt)=>{const At=wi(Je.element,yt.selector),Xt=ws(At,en=>h(yt,en));return ee.from(Xt[yt.firstTabstop])},E=(Je,yt)=>yt.focusManager.get(Je).bind(At=>gl(At,yt.selector)),O=(Je,yt)=>h(Je,yt)&&Je.useTabstopAt(yt),I=(Je,yt,At)=>{g(Je,yt).each(Xt=>{yt.focusManager.set(Je,Xt)})},q=(Je,yt,At,Xt,en)=>en(yt,At,ro=>O(Xt,ro)).fold(()=>Xt.cyclic?ee.some(!0):ee.none(),ro=>(Xt.focusManager.set(Je,ro),ee.some(!0))),Y=(Je,yt,At,Xt)=>{const en=ws(wi(Je.element,At.selector),ro=>h(At,ro));return E(Je,At).bind(ro=>bn(en,Fe(xe,ro)).bind(zn=>q(Je,en,zn,At,Xt)))},ne=(Je,yt,At)=>{const Xt=At.cyclic?$4:Uu;return Y(Je,yt,At,Xt)},he=(Je,yt,At)=>{const Xt=At.cyclic?vC:U4;return Y(Je,yt,At,Xt)},ve=Je=>es(Je).bind(_o).exists(yt=>xe(yt,Je)),Re=(Je,yt,At)=>E(Je,At).filter(Xt=>!At.useTabstopAt(Xt)).bind(Xt=>(ve(Xt)?ne:he)(Je,yt,At)),ze=(Je,yt,At)=>At.onEnter.bind(Xt=>Xt(Je,yt)),Ge=(Je,yt,At)=>(Je.getSystem().broadcastOn([fw()],{closedTooltip:()=>{yt.stop()}}),yt.isStopped()?ee.none():At.onEscape.bind(Xt=>Xt(Je,yt))),et=F([Gr(tv([k1,Ur(Sy)]),ne),Gr(Ur(Sy),he),Gr(tv([D1,Ur(gp)]),ze)]),ft=F([Gr(Ur(xo),Ge),Gr(Ur(Sy),Re)]);return im(l,Qg.init,et,ft,()=>ee.some(I))};var wI=SD(Bc("cyclic",rt)),W4=SD(Bc("cyclic",gt));const eb=s=>Ql("input")(s)&&fl(s,"type")!=="radio"||Ql("textarea")(s),G4=(s,l,h)=>(sT(s,h,au()),ee.some(!0)),vw=(s,l,h)=>eb(h)&&Ur(Wd)(l.event)?ee.none():G4(s,l,h),bw=(s,l)=>ee.some(!0),q4=[Wt("execute",vw),Wt("useSpace",!1),Wt("useEnter",!0),Wt("useControlEnter",!1),Wt("useDown",!1)],b0=(s,l,h)=>h.execute(s,l,s.element),dT=(s,l,h,g)=>{const E=h.useSpace&&!eb(s.element)?Wd:[],O=h.useEnter?gp:[],I=h.useDown?gC:[],q=E.concat(O).concat(I);return[Gr(Ur(q),b0)].concat(h.useControlEnter?[Gr(tv([Fz,Ur(gp)]),b0)]:[])},CD=(s,l,h,g)=>h.useSpace&&!eb(s.element)?[Gr(Ur(Wd),bw)]:[];var Z4=im(q4,Qg.init,dT,CD,()=>ee.none());const ED=()=>{const s=ms();return wf({readState:()=>s.get().map(E=>({numRows:String(E.numRows),numColumns:String(E.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(E,O)=>{s.set({numRows:E,numColumns:O})},getNumRows:()=>s.get().map(E=>E.numRows),getNumColumns:()=>s.get().map(E=>E.numColumns)})};var wD=Object.freeze({__proto__:null,flatgrid:ED,init:s=>s.state(s)});const _D=s=>(l,h,g,E)=>{const O=s(l.element);return M1(O,l,h,g,E)},yw=(s,l)=>{const h=Kb(s,l);return _D(h)},Sw=(s,l)=>{const h=Kb(l,s);return _D(h)},Cw=s=>(l,h,g,E)=>M1(s,l,h,g,E),M1=(s,l,h,g,E)=>g.focusManager.get(l).bind(I=>s(l.element,I,g,E)).map(I=>(g.focusManager.set(l,I),!0)),hT=Cw,Ew=Cw,Ey=Cw,ww=(s,l)=>bn(s,l).map(h=>({index:h,candidates:s})),_I=(s,l,h)=>{const g=I=>xe(I,l),E=wi(s,h),O=ws(E,Up);return ww(O,g)},fT=(s,l)=>bn(s,h=>xe(l,h)),AD=(s,l,h,g)=>{const E=Math.floor(l/h),O=l%h;return g(E,O).bind(I=>{const q=I.row*h+I.column;return q>=0&&q<s.length?ee.some(s[q]):ee.none()})},TD=(s,l,h,g,E)=>AD(s,l,g,(O,I)=>{const Y=O===h-1?s.length-O*g:g,ne=Yc(I,E,0,Y-1);return ee.some({row:O,column:ne})}),xD=(s,l,h,g,E)=>AD(s,l,g,(O,I)=>{const q=Yc(O,E,0,h-1),ne=q===h-1?s.length-q*g:g,he=dl(I,0,ne-1);return ee.some({row:q,column:he})}),K4=(s,l,h,g)=>TD(s,l,h,g,1),pT=(s,l,h,g)=>TD(s,l,h,g,-1),bC=(s,l,h,g)=>xD(s,l,h,g,-1),P1=(s,l,h,g)=>xD(s,l,h,g,1),N1=[xn("selector"),Wt("execute",vw),Nl("onEscape"),Wt("captureTab",!1),E1()],OD=(s,l,h)=>{oi(s.element,l.selector).each(g=>{l.focusManager.set(s,g)})},ID=(s,l)=>l.focusManager.get(s).bind(h=>gl(h,l.selector)),RD=(s,l,h,g)=>ID(s,h).bind(E=>h.execute(s,l,E)),mT=s=>(l,h,g,E)=>_I(l,h,g.selector).bind(O=>s(O.candidates,O.index,E.getNumRows().getOr(g.initSize.numRows),E.getNumColumns().getOr(g.initSize.numColumns))),kD=(s,l,h)=>h.captureTab?ee.some(!0):ee.none(),Y4=(s,l,h)=>h.onEscape(s,l),DD=mT(pT),gT=mT(K4),AI=mT(bC),vT=mT(P1),TI=F([Gr(Ur(dw),yw(DD,gT)),Gr(Ur(lT),Sw(DD,gT)),Gr(Ur(hw),hT(AI)),Gr(Ur(gC),Ew(vT)),Gr(tv([k1,Ur(Sy)]),kD),Gr(tv([D1,Ur(Sy)]),kD),Gr(Ur(Wd.concat(gp)),RD)]),X4=F([Gr(Ur(xo),Y4),Gr(Ur(Wd),bw)]);var xI=im(N1,ED,TI,X4,()=>ee.some(OD));const MD=(s,l,h,g,E)=>{const O=q=>tu(q)==="button"&&fl(q,"disabled")==="disabled",I=(q,Y,ne)=>E(q,Y,g,0,ne.length-1,ne[Y],he=>O(ne[he])?I(q,he,ne):ee.from(ne[he]));return _I(s,h,l).bind(q=>{const Y=q.index,ne=q.candidates;return I(Y,Y,ne)})},PD=(s,l,h,g)=>MD(s,l,h,g,(E,O,I,q,Y,ne,he)=>{const ve=dl(O+I,q,Y);return ve===E?ee.from(ne):he(ve)}),_w=(s,l,h,g)=>MD(s,l,h,g,(E,O,I,q,Y,ne,he)=>{const ve=Yc(O,I,q,Y);return ve===E?ee.none():he(ve)}),J4=[xn("selector"),Wt("getInitial",ee.none),Wt("execute",vw),Nl("onEscape"),Wt("executeOnMove",!1),Wt("allowVertical",!0),Wt("allowHorizontal",!0),Wt("cycles",!0)],OI=(s,l)=>l.focusManager.get(s).bind(h=>gl(h,l.selector)),II=(s,l,h)=>OI(s,h).bind(g=>h.execute(s,l,g)),Q4=(s,l,h)=>{l.getInitial(s).orThunk(()=>oi(s.element,l.selector)).each(g=>{l.focusManager.set(s,g)})},eB=(s,l,h)=>(h.cycles?_w:PD)(s,h.selector,l,-1),L1=(s,l,h)=>(h.cycles?_w:PD)(s,h.selector,l,1),ND=s=>(l,h,g,E)=>s(l,h,g,E).bind(()=>g.executeOnMove?II(l,h,g):ee.some(!0)),LD=(s,l,h)=>h.onEscape(s,l),tB=(s,l,h,g)=>{const E=[...h.allowHorizontal?dw:[]].concat(h.allowVertical?hw:[]),O=[...h.allowHorizontal?lT:[]].concat(h.allowVertical?gC:[]);return[Gr(Ur(E),ND(yw(eB,L1))),Gr(Ur(O),ND(Sw(eB,L1))),Gr(Ur(gp),II),Gr(Ur(Wd),II)]},nB=F([Gr(Ur(Wd),bw),Gr(Ur(xo),LD)]);var oB=im(J4,Qg.init,tB,nB,()=>ee.some(Q4));const bT=(s,l,h)=>ee.from(s[l]).bind(g=>ee.from(g[h]).map(E=>({rowIndex:l,columnIndex:h,cell:E}))),Aw=(s,l,h,g)=>{const O=s[l].length,I=Yc(h,g,0,O-1);return bT(s,l,I)},RI=(s,l,h,g)=>{const E=Yc(h,g,0,s.length-1),O=s[E].length,I=dl(l,0,O-1);return bT(s,E,I)},Tw=(s,l,h,g)=>{const O=s[l].length,I=dl(h+g,0,O-1);return bT(s,l,I)},BD=(s,l,h,g)=>{const E=dl(h+g,0,s.length-1),O=s[E].length,I=dl(l,0,O-1);return bT(s,E,I)},xw=(s,l,h)=>Aw(s,l,h,1),sB=(s,l,h)=>Aw(s,l,h,-1),yT=(s,l,h)=>RI(s,h,l,-1),rB=(s,l,h)=>RI(s,h,l,1),VD=(s,l,h)=>Tw(s,l,h,-1),Wz=(s,l,h)=>Tw(s,l,h,1),iB=(s,l,h)=>BD(s,h,l,-1),B1=(s,l,h)=>BD(s,h,l,1),ST=[zm("selectors",[xn("row"),xn("cell")]),Wt("cycles",!0),Wt("previousSelector",ee.none),Wt("execute",vw)],CT=(s,l,h)=>{l.previousSelector(s).orThunk(()=>{const E=l.selectors;return oi(s.element,E.cell)}).each(E=>{l.focusManager.set(s,E)})},FD=(s,l,h)=>Ga(s.element).bind(g=>h.execute(s,l,g)),aB=(s,l)=>qt(s,h=>wi(h,l.selectors.cell)),ET=(s,l)=>(h,g,E)=>{const O=E.cycles?s:l;return gl(g,E.selectors.row).bind(I=>{const q=wi(I,E.selectors.cell);return fT(q,g).bind(Y=>{const ne=wi(h,E.selectors.row);return fT(ne,I).bind(he=>{const ve=aB(ne,E);return O(ve,he,Y).map(Re=>Re.cell)})})})},HD=ET(sB,VD),$D=ET(xw,Wz),wT=ET(yT,iB),tb=ET(rB,B1),UD=F([Gr(Ur(dw),yw(HD,$D)),Gr(Ur(lT),Sw(HD,$D)),Gr(Ur(hw),hT(wT)),Gr(Ur(gC),Ew(tb)),Gr(Ur(Wd.concat(gp)),FD)]),lB=F([Gr(Ur(Wd),bw)]);var cB=im(ST,Qg.init,UD,lB,()=>ee.some(CT));const uB=[xn("selector"),Wt("execute",vw),Wt("moveOnTab",!1)],yC=(s,l,h)=>h.focusManager.get(s).bind(g=>h.execute(s,l,g)),zD=(s,l,h)=>{oi(s.element,l.selector).each(g=>{l.focusManager.set(s,g)})},kI=(s,l,h)=>_w(s,h.selector,l,-1),_T=(s,l,h)=>_w(s,h.selector,l,1),nv=(s,l,h,g)=>h.moveOnTab?Ey(kI)(s,l,h,g):ee.none(),Ow=(s,l,h,g)=>h.moveOnTab?Ey(_T)(s,l,h,g):ee.none(),nb=F([Gr(Ur(hw),Ey(kI)),Gr(Ur(gC),Ey(_T)),Gr(tv([k1,Ur(Sy)]),nv),Gr(tv([D1,Ur(Sy)]),Ow),Gr(Ur(gp),yC),Gr(Ur(Wd),yC)]),AT=F([Gr(Ur(Wd),bw)]);var jD=im(uB,Qg.init,nb,AT,()=>ee.some(zD));const WD=[Nl("onSpace"),Nl("onEnter"),Nl("onShiftEnter"),Nl("onLeft"),Nl("onRight"),Nl("onTab"),Nl("onShiftTab"),Nl("onUp"),Nl("onDown"),Nl("onEscape"),Wt("stopSpaceKeyup",!1),li("focusIn")],dB=(s,l,h)=>[Gr(Ur(Wd),h.onSpace),Gr(tv([D1,Ur(gp)]),h.onEnter),Gr(tv([k1,Ur(gp)]),h.onShiftEnter),Gr(tv([k1,Ur(Sy)]),h.onShiftTab),Gr(tv([D1,Ur(Sy)]),h.onTab),Gr(Ur(hw),h.onUp),Gr(Ur(gC),h.onDown),Gr(Ur(dw),h.onLeft),Gr(Ur(lT),h.onRight),Gr(Ur(Wd),h.onSpace)],GD=(s,l,h)=>[...h.stopSpaceKeyup?[Gr(Ur(Wd),bw)]:[],Gr(Ur(xo),h.onEscape)];var hB=im(WD,Qg.init,dB,GD,s=>s.focusIn);const fB=wI.schema(),pB=W4.schema(),SC=oB.schema(),Iw=xI.schema(),qD=cB.schema(),Rw=Z4.schema(),mB=jD.schema(),gB=hB.schema();var ob=Object.freeze({__proto__:null,acyclic:fB,cyclic:pB,flow:SC,flatgrid:Iw,matrix:qD,execution:Rw,menu:mB,special:gB});const ov=s=>eo(s,"setGridSize"),Xo=cD({branchKey:"mode",branches:ob,name:"keying",active:{events:(s,l)=>s.handler.toEvents(s,l)},apis:{focusIn:(s,l,h)=>{l.sendFocusIn(l).fold(()=>{s.getSystem().triggerFocus(s.element,s.element)},g=>{g(s,l,h)})},setGridSize:(s,l,h,g,E)=>{ov(h)?h.setGridSize(g,E):console.error("Layout does not support setGridSize")}},state:wD}),kw=uo("alloy-premade"),ZD=s=>(Object.defineProperty(s.element.dom,kw,{value:s.uid,writable:!0}),Ug(kw,s)),KD=s=>Zn(s.dom,kw),V1=s=>Zt(s,kw),wy=s=>Yk((l,...h)=>s(l.getApis(),l,...h),s),Dw=s=>s.getSystem().isConnected(),CC=s=>{Cr(s,qg());const l=s.components();Tn(l,CC)},sv=s=>{const l=s.components();Tn(l,sv),Cr(s,tm())},EC=(s,l)=>{s.getSystem().addToWorld(l),$r(s.element)&&sv(l)},DI=s=>{CC(s),s.getSystem().removeFromWorld(s)},TT=(s,l)=>{nc(s.element,l.element)},Mw=s=>{Tn(s.components(),l=>Nd(l.element)),Xy(s.element),s.syncComponents()},YD=(s,l,h)=>{const g=s.components();Mw(s);const E=h(l),O=je(g,E);Tn(O,I=>{CC(I),s.getSystem().removeFromWorld(I)}),Tn(E,I=>{Dw(I)?TT(s,I):(s.getSystem().addToWorld(I),TT(s,I),$r(s.element)&&sv(I))}),s.syncComponents()},_f=(s,l,h)=>{const g=s.components(),E=Ze(l,q=>V1(q).toArray());Tn(g,q=>{vn(E,q)||DI(q)});const O=h(l),I=je(g,O);Tn(I,q=>{Dw(q)&&DI(q)}),Tn(O,q=>{Dw(q)||EC(s,q)}),s.syncComponents()},sb=(s,l)=>{F1(s,l,nc)},F1=(s,l,h)=>{s.getSystem().addToWorld(l),h(s.element,l.element),$r(s.element)&&sv(l),s.syncComponents()},Xm=s=>{CC(s),Nd(s.element),s.getSystem().removeFromWorld(s)},rb=s=>{const l=jn(s.element).bind(h=>s.getSystem().getByDom(h).toOptional());Xm(s),l.each(h=>{h.syncComponents()})},Pw=s=>{const l=s.components();Tn(l,Xm),Xy(s.element),s.syncComponents()},Nw=(s,l)=>{MI(s,l,nc)},ib=(s,l)=>{MI(s,l,sl)},MI=(s,l,h)=>{h(s,l.element);const g=fr(l.element);Tn(g,E=>{l.getByDom(E).each(sv)})},XD=s=>{const l=fr(s.element);Tn(l,h=>{s.getByDom(h).each(CC)}),Nd(s.element)},Lw=(s,l,h)=>Hr(s,l).map(E=>{if(h.exists(I=>!xe(I,E))){const I=h.map(tu).getOr("span"),q=to.fromTag(I);return lf(E,q),q}else return E}),rv=(s,l,h)=>{h.fold(()=>nc(s,l),g=>{xe(g,l)||(lf(g,l),Nd(g))})},JD=(s,l,h)=>{const g=qt(l,h),E=fr(s);return Tn(E.slice(g.length),Nd),g},vB=(s,l,h,g)=>{const E=Hr(s,l),O=g(h,E),I=Lw(s,l,E);return rv(s,O.element,I),O},bB=(s,l,h)=>JD(s,l,(g,E)=>vB(s,E,g,h)),QD=(s,l)=>JD(s,l,(h,g)=>{const E=Hr(s,g);return rv(s,h,E),h}),H1=(s,l)=>{const h=ta(l),g=Wl(h).bind(O=>{const I=q=>xe(O,q);return I(l)?ee.some(l):d1(l,I)}),E=s(l);return g.each(O=>{Wl(h).filter(I=>xe(I,O)).fold(()=>{oa(O)},re)}),E},eM=(s,l)=>{H1(()=>{YD(s,l,()=>qt(l,s.getSystem().build))},s.element)},tM=(s,l)=>{H1(()=>{_f(s,l,()=>bB(s.element,l,s.getSystem().buildOrPatch))},s.element)},Af=(s,l,h,g)=>{DI(l);const E=vB(s.element,h,g,s.getSystem().buildOrPatch);EC(s,E),s.syncComponents()},y0=(s,l,h)=>{const g=s.getSystem().build(h);F1(s,g,l)},xT=(s,l,h,g)=>{rb(l),y0(s,(E,O)=>Yy(E,O,h),g)},wC=(s,l,h,g)=>(l.reuseDom?tM:eM)(s,g),zh=(s,l,h,g)=>{y0(s,nc,g)},uu=(s,l,h,g)=>{y0(s,Wb,g)},du=(s,l,h,g)=>{const E=Tf(s);kt(E,I=>xe(g.element,I.element)).each(rb)},Tf=(s,l)=>s.components(),OT=(s,l,h,g,E)=>{const O=Tf(s);return ee.from(O[g]).map(I=>(E.fold(()=>rb(I),q=>{(l.reuseDom?Af:xT)(s,I,g,q)}),I))};var S0=Object.freeze({__proto__:null,append:zh,prepend:uu,remove:du,replaceAt:OT,replaceBy:(s,l,h,g,E)=>{const O=Tf(s);return bn(O,g).bind(I=>OT(s,l,h,I,E))},set:wC,contents:Tf});const js=cu({fields:[Vc("reuseDom",!0)],name:"replacing",apis:S0}),PI=(s,l,h)=>xe(l,s.element)&&!xe(l,h),ab=Ta([uw(dp(),(s,l)=>{const h=l.event,g=h.originator,E=h.target;return PI(s,g,E)?(console.warn(dp()+` did not get interpreted by the desired target. 
Originator: `+hh(g)+`
Target: `+hh(E)+`
Check the `+dp()+" event handlers"),!1):!0})]);var nM=Object.freeze({__proto__:null,events:ab});const oM=F("alloy-id-"),IT=F("data-alloy-id"),sM=oM(),rM=IT(),iM=(s,l)=>{const h=uo(sM+s);return RT(l,h),h},RT=(s,l)=>{Object.defineProperty(s.dom,rM,{value:l,writable:!0})},iv=s=>{const l=Ac(s)?s.dom[rM]:null;return ee.from(l)},$1=s=>uo(s),aM=Me,_C=s=>{const l=E=>`The component must be in a context to execute: ${E}`+(s?`
`+hh(s().element)+" is not in context.":""),h=E=>()=>{throw new Error(l(E))},g=E=>()=>{console.warn(l(E))};return{debugInfo:F("fake"),triggerEvent:g("triggerEvent"),triggerFocus:g("triggerFocus"),triggerEscape:g("triggerEscape"),broadcast:g("broadcast"),broadcastOn:g("broadcastOn"),broadcastEvent:g("broadcastEvent"),build:h("build"),buildOrPatch:h("buildOrPatch"),addToWorld:h("addToWorld"),removeFromWorld:h("removeFromWorld"),addToGui:h("addToGui"),removeFromGui:h("removeFromGui"),getByUid:h("getByUid"),getByDom:h("getByDom"),isConnected:rt}},lM=_C(),kT=(s,l)=>{const h=qt(l,E=>uh(E.name(),[xn("config"),Wt("state",Qg)])),g=ka("component.behaviours",vs(h),s.behaviours).fold(E=>{throw new Error(up(E)+`
Complete spec:
`+JSON.stringify(s,null,2))},Me);return{list:l,data:ys(g,E=>{const O=E.map(I=>({config:I.config,state:I.state.init(I.config)}));return F(O)})}},hu=s=>s.list,yB=s=>s.data,NI=(s,l)=>{const h={};return Ps(s,(g,E)=>{Ps(g,(O,I)=>{const q=Zt(h,I).getOr([]);h[I]=q.concat([l(E,O)])})}),h},SB=(s,l,h,g)=>{const E={...l};Tn(h,he=>{E[he.name()]=he.exhibit(s,g)});const O=NI(E,(he,ve)=>({name:he,modification:ve})),I=he=>as(he,(ve,Re)=>({...Re.modification,...ve}),{}),q=as(O.classes,(he,ve)=>ve.modification.concat(he),[]),Y=I(O.attributes),ne=I(O.styles);return Ym({classes:q,attributes:Y,styles:ne})},CB=(s,l,h,g)=>{try{const E=rn(h,(O,I)=>{const q=O[l],Y=I[l],ne=g.indexOf(q),he=g.indexOf(Y);if(ne===-1)throw new Error("The ordering for "+s+" does not have an entry for "+q+`.
Order specified: `+JSON.stringify(g,null,2));if(he===-1)throw new Error("The ordering for "+s+" does not have an entry for "+Y+`.
Order specified: `+JSON.stringify(g,null,2));return ne<he?-1:he<ne?1:0});return $o.value(E)}catch(E){return $o.error([E])}},am=(s,l)=>({handler:s,purpose:l}),Gz=(s,l)=>({cHandler:s,purpose:l}),DT=(s,l)=>Gz(Fe.apply(void 0,[s.handler].concat(l)),s.purpose),_y=s=>s.cHandler,LI=(s,l)=>({name:s,handler:l}),AC=(s,l)=>{const h={};return Tn(s,g=>{h[g.name()]=g.handlers(l)}),h},cM=(s,l,h)=>{const g={...h,...AC(l,s)};return NI(g,LI)},BI=(s,l,h,g)=>{const E=cM(s,h,g);return U1(E,l)},VI=s=>{const l=lI(s);return(h,g,...E)=>{const O=[h,g].concat(E);l.abort.apply(void 0,O)?g.stop():l.can.apply(void 0,O)&&l.run.apply(void 0,O)}},uM=(s,l)=>$o.error(["The event ("+s+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(qt(l,h=>h.name),null,2)]),MT=(s,l,h)=>{const g=l[h];return g?CB("Event: "+h,"name",s,g).map(E=>{const O=qt(E,I=>I.handler);return oD(O)}):uM(h,s)},U1=(s,l)=>{const h=jt(s,(g,E)=>(g.length===1?$o.value(g[0].handler):MT(g,l,E)).map(I=>{const q=VI(I),Y=g.length>1?ws(l[E],ne=>To(g,he=>he.name===ne)).join(" > "):g[0].name;return Ug(E,am(q,Y))}));return Fc(h,{})},Qm="alloy.base.behaviour",dM=vs([yc("dom","dom",pf(),vs([xn("tag"),Wt("styles",{}),Wt("classes",[]),Wt("attributes",{}),li("value"),li("innerHtml")])),xn("components"),xn("uid"),Wt("events",{}),Wt("apis",{}),yc("eventOrder","eventOrder",UE({[au()]:["disabling",Qm,"toggling","typeaheadevents"],[dp()]:[Qm,"focusing","keying"],[eC()]:[Qm,"disabling","toggling","representing","tooltipping"],[Xp()]:[Qm,"representing","streaming","invalidating"],[qg()]:[Qm,"representing","item-events","toolbar-button-events","tooltipping"],[hd()]:["focusing",Qm,"item-type-events"],[zg()]:["focusing",Qm,"item-type-events"],[vf()]:["item-type-events","tooltipping"],[Qp()]:["receiving","reflecting","tooltipping"]}),Bn()),li("domModification")]),EB=s=>ka("custom.definition",dM,s),FI=s=>({...s.dom,uid:s.uid,domChildren:qt(s.components,l=>l.element)}),PT=s=>s.domModification.fold(()=>Ym({}),Ym),HI=s=>s.events,TC=(s,l)=>{const h=Io(s),g=Io(l),E=je(g,h),O=Vt(s,(I,q)=>!Zn(l,q)||I!==l[q]).t;return{toRemove:E,toSet:O}},NT=(s,l)=>{const{class:h,style:g,...E}=Om(l),{toSet:O,toRemove:I}=TC(s.attributes,E),q=()=>{Tn(I,At=>sa(l,At)),a1(l,O)},Y=pl(l),{toSet:ne,toRemove:he}=TC(s.styles,Y),ve=()=>{Tn(he,At=>Sr(l,At)),ca(l,ne)},Re=h1(l),ze=je(Re,s.classes),Ge=je(s.classes,Re),et=()=>{Fh(l,Ge),xc(l,ze)},ft=At=>{Lh(l,At)},Je=()=>{const At=s.domChildren;QD(l,At)},yt=()=>{const At=l,Xt=s.value.getOrUndefined();Xt!==wl(At)&&ff(At,Xt??"")};return q(),et(),ve(),s.innerHtml.fold(Je,ft),yt(),l},$I=s=>{const l=to.fromTag(s.tag);a1(l,s.attributes),Fh(l,s.classes),ca(l,s.styles),s.innerHtml.each(g=>Lh(l,g));const h=s.domChildren;return mr(l,h),s.value.each(g=>{ff(l,g)}),l},hM=(s,l)=>{try{const h=NT(s,l);return ee.some(h)}catch{return ee.none()}},Bw=s=>s.innerHtml.isSome()&&s.domChildren.length>0,wB=(s,l)=>{const h=E=>tu(E)===s.tag&&!Bw(s)&&!KD(E),g=l.filter(h).bind(E=>hM(s,E)).getOrThunk(()=>$I(s));return RT(g,s.uid),g},_B=s=>{const l=Zt(s,"behaviours").getOr({});return Ze(Io(l),h=>{const g=l[h];return H(g)?[g.me]:[]})},fM=(s,l)=>kT(s,l),z1=s=>{const l=_B(s);return fM(s,l)},UI=(s,l,h)=>{const g=FI(s),E=PT(s),O={"alloy.base.modification":E},I=l.length>0?SB(h,O,l,g):E;return D4(g,I)},AB=(s,l,h)=>{const g={"alloy.base.behaviour":HI(s)};return BI(h,s.eventOrder,l,g).getOrDie()},pM=(s,l)=>{const h=()=>At,g=wn(lM),E=cp(EB(s)),O=z1(s),I=hu(O),q=yB(O),Y=UI(E,I,q),ne=wB(Y,l),he=AB(E,I,q),ve=wn(E.components),Re=Xt=>{g.set(Xt)},ze=()=>{g.set(_C(h))},Ge=()=>{const Xt=fr(ne),en=Ze(Xt,ro=>g.get().getByDom(ro).fold(()=>[],Kt));ve.set(en)},et=Xt=>{const en=q;return(K(en[Xt.name()])?en[Xt.name()]:()=>{throw new Error("Could not find "+Xt.name()+" in "+JSON.stringify(s,null,2))})()},ft=Xt=>K(q[Xt.name()]),Je=()=>E.apis,yt=Xt=>q[Xt]().map(en=>en.state.readState()).getOr("not enabled"),At={uid:s.uid,getSystem:g.get,config:et,hasConfigured:ft,spec:s,readState:yt,getApis:Je,connect:Re,disconnect:ze,element:ne,syncComponents:Ge,components:ve.get,events:he};return At},TB=(s,l)=>{const h=Zt(s,"components").getOr([]);return l.fold(()=>qt(h,k),g=>qt(h,(E,O)=>w(E,Hr(g,O))))},mM=(s,l)=>{const{events:h,...g}=aM(s),E=TB(g,l),O={...g,events:{...nM,...h},components:E};return $o.value(pM(O,l))},pa=s=>{const l=to.fromText(s);return j1({element:l})},j1=s=>{const l=cd("external.component",ch([xn("element"),li("uid")]),s),h=wn(_C()),g=q=>{h.set(q)},E=()=>{h.set(_C(()=>I))},O=l.uid.getOrThunk(()=>$1("external"));RT(l.element,O);const I={uid:O,getSystem:h.get,config:ee.none,hasConfigured:rt,connect:g,disconnect:E,getApis:()=>({}),element:l.element,spec:s,readState:F("No state"),syncComponents:re,components:F([]),events:{}};return ZD(I)},zI=$1,b=s=>Zn(s,"uid"),w=(s,l)=>V1(s).getOrThunk(()=>{const h=b(s)?s:{uid:zI(""),...s};return mM(h,l).getOrDie()}),k=s=>w(s,ee.none()),W=ZD;var He=Object.freeze({__proto__:null,block:(s,l,h,g)=>{rs(s.element,"aria-busy",!0);const E=l.getRoot(s).getOr(s),O=Qn([Xo.config({mode:"special",onTab:()=>ee.some(!0),onShiftTab:()=>ee.some(!0)}),Hs.config({})]),I=g(E,O),q=E.getSystem().build(I);js.append(E,W(q)),q.hasConfigured(Xo)&&l.focus&&Xo.focusIn(q),h.isBlocked()||l.onBlock(s),h.blockWith(()=>js.remove(E,q))},unblock:(s,l,h)=>{sa(s.element,"aria-busy"),h.isBlocked()&&l.onUnblock(s),h.clear()},isBlocked:(s,l,h)=>h.isBlocked()}),Ye=[ci("getRoot",ee.none),Vc("focus",!0),kr("onBlock"),kr("onUnblock")],zt=Object.freeze({__proto__:null,init:()=>{const s=Oh(),l=h=>{s.set({destroy:h})};return wf({readState:s.isSet,blockWith:l,clear:s.clear,isBlocked:s.isSet})}});const Ln=cu({fields:Ye,name:"blocking",apis:He,state:zt});var bo=Object.freeze({__proto__:null,getCurrent:(s,l,h)=>l.find(s)});const ss=[xn("find")],an=cu({fields:ss,name:"composing",apis:bo});var Ks=Object.freeze({__proto__:null,getCoupled:(s,l,h,g)=>h.getOrCreate(s,l,g),getExistingCoupled:(s,l,h,g)=>h.getExisting(s,l,g)}),Vo=[Fu("others",WE($o.value,Bn()))],vi=Object.freeze({__proto__:null,init:()=>{const s={},l=(O,I)=>{if(Io(O.others).length===0)throw new Error("Cannot find any known coupled components");return Zt(s,I)},h=(O,I,q)=>l(I,q).getOrThunk(()=>{const ne=Zt(I.others,q).getOrDie("No information found for coupled component: "+q)(O),he=O.getSystem().build(ne);return s[q]=he,he}),g=(O,I,q)=>l(I,q).orThunk(()=>(Zt(I.others,q).getOrDie("No information found for coupled component: "+q),ee.none())),E=F({});return wf({readState:E,getExisting:g,getOrCreate:h})}});const $s=cu({fields:Vo,name:"coupling",apis:Ks,state:vi}),Gl=["input","button","textarea","select"],vp=(s,l,h)=>{(l.disabled()?jh:Ty)(s,l)},Ay=(s,l)=>l.useNative===!0&&vn(Gl,tu(s.element)),C0=s=>Dl(s.element,"disabled"),E0=s=>{rs(s.element,"disabled","disabled")},$i=s=>{sa(s.element,"disabled")},mh=s=>fl(s.element,"aria-disabled")==="true",gh=s=>{rs(s.element,"aria-disabled","true")},lm=s=>{rs(s.element,"aria-disabled","false")},jh=(s,l,h)=>{l.disableClass.each(E=>{Ei(s.element,E)}),(Ay(s,l)?E0:gh)(s),l.onDisabled(s)},Ty=(s,l,h)=>{l.disableClass.each(E=>{ai(s.element,E)}),(Ay(s,l)?$i:lm)(s),l.onEnabled(s)},md=(s,l)=>Ay(s,l)?C0(s):mh(s);var xC=Object.freeze({__proto__:null,enable:Ty,disable:jh,isDisabled:md,onLoad:vp,set:(s,l,h,g)=>{(g?jh:Ty)(s,l)}}),xB=Object.freeze({__proto__:null,exhibit:(s,l)=>Ym({classes:l.disabled()?l.disableClass.toArray():[]}),events:(s,l)=>Ta([rT(au(),(h,g)=>md(h,s)),hI(s,l,vp)])}),OB=[ci("disabled",rt),Wt("useNative",!0),li("disableClass"),kr("onDisabled"),kr("onEnabled")];const Yo=cu({fields:OB,name:"disabling",active:xB,apis:xC}),eg=(s,l,h,g,E)=>{const O=I=>I+"px";return{position:s,left:l.map(O),top:h.map(O),right:g.map(O),bottom:E.map(O)}},gM=s=>({...s,position:ee.some(s.position)}),LT=(s,l)=>{Ra(s,gM(l))},vM=(s,l)=>{const h=s.element;Ei(h,l.transitionClass),ai(h,l.fadeOutClass),Ei(h,l.fadeInClass),l.onShow(s)},Fw=(s,l)=>{const h=s.element;Ei(h,l.transitionClass),ai(h,l.fadeInClass),Ei(h,l.fadeOutClass),l.onHide(s)},Mte=(s,l)=>s.y<l.bottom&&s.bottom>l.y,IB=(s,l)=>s.y>=l.y,Hw=(s,l)=>s.bottom<=l.bottom,bM=(s,l,h)=>({location:"top",leftX:l,topY:h.bounds.y-s.y}),yM=(s,l,h)=>({location:"bottom",leftX:l,bottomY:s.bottom-h.bounds.bottom}),RB=s=>s.box.x-s.win.x,qz=(s,l,h)=>{const g=l.win,E=l.box,O=RB(l);return Ko(s,I=>{switch(I){case"bottom":return Hw(E,h.bounds)?ee.none():ee.some(yM(g,O,h));case"top":return IB(E,h.bounds)?ee.none():ee.some(bM(g,O,h));default:return ee.none()}}).getOr({location:"no-dock"})},Zz=(s,l,h)=>mt(s,g=>{switch(g){case"bottom":return Hw(l,h.bounds);case"top":return IB(l,h.bounds)}}),Pte=(s,l)=>{const h=l.optScrollEnv.fold(F(s.bounds.y),g=>g.scrollElmTop+(s.bounds.y-g.currentScrollTop));return ni(s.bounds.x,h)},Nte=(s,l)=>{const h=l.optScrollEnv.fold(F(s.y),g=>s.y+g.currentScrollTop-g.scrollElmTop);return ni(s.x,h)},kB=(s,l,h)=>h.getInitialPos().map(g=>{const E=Pte(g,l);return{box:jr(E.left,E.top,bc(s),Cl(s)),location:g.location}}),Kz=(s,l,h,g,E)=>{const O=Nte(l,h),I=jr(O.left,O.top,l.width,l.height);g.setInitialPos({style:pl(s),position:ra(s,"position")||"static",bounds:I,location:E.location})},Lte=(s,l,h,g,E)=>{g.getInitialPos().fold(()=>Kz(s,l,h,g,E),()=>re)},Yz=(s,l,h)=>h.getInitialPos().bind(g=>{switch(h.clearInitialPos(),g.position){case"static":return ee.some({morph:"static"});case"absolute":const E=Pg(s).getOr(Ld()),O=Pl(E),I=E.dom.scrollTop??0;return ee.some({morph:"absolute",positionCss:eg("absolute",Zt(g.style,"left").map(q=>l.x-O.x),Zt(g.style,"top").map(q=>l.y-O.y+I),Zt(g.style,"right").map(q=>O.right-l.right),Zt(g.style,"bottom").map(q=>O.bottom-l.bottom))});default:return ee.none()}}),SM=(s,l,h)=>kB(s,l,h).filter(({box:g})=>Zz(h.getModes(),g,l)).bind(({box:g})=>Yz(s,g,h)),jI=s=>{switch(s.location){case"top":return ee.some({morph:"fixed",positionCss:eg("fixed",ee.some(s.leftX),ee.some(s.topY),ee.none(),ee.none())});case"bottom":return ee.some({morph:"fixed",positionCss:eg("fixed",ee.some(s.leftX),ee.none(),ee.none(),ee.some(s.bottomY))});default:return ee.none()}},Bte=(s,l,h)=>{const g=Pl(s),E=Bu(),O=qz(h.getModes(),{win:E,box:g},l);return O.location==="top"||O.location==="bottom"?(Kz(s,g,l,h,O),jI(O)):ee.none()},Y1e=(s,l,h)=>SM(s,l,h).orThunk(()=>l.optScrollEnv.bind(g=>kB(s,l,h)).bind(({box:g,location:E})=>{const O=Bu(),I=RB({win:O,box:g}),q=E==="top"?bM(O,I,l):yM(O,I,l);return jI(q)})),Xz=(s,l,h)=>{const g=s.element;return Mc(ua(g,"position"),"fixed")?Y1e(g,l,h):Bte(g,l,h)},Vte=(s,l,h)=>{const g=s.element;return kB(g,l,h).bind(({box:E})=>Yz(g,E,h))},Fte=(s,l,h,g)=>{const E=Pl(s),O=Bu(),I=RB({win:O,box:E}),q=g(O,I,l);return q.location==="bottom"||q.location==="top"?(Lte(s,E,l,h,q),jI(q)):ee.none()},tg=(s,l,h)=>{h.setDocked(!1),Tn(["left","right","top","bottom","position"],g=>Sr(s.element,g)),l.onUndocked(s)},DB=(s,l,h,g)=>{const E=g.position==="fixed";h.setDocked(E),LT(s.element,g),(E?l.onDocked:l.onUndocked)(s)},Jz=(s,l,h,g,E=!1)=>{l.contextual.each(O=>{O.lazyContext(s).each(I=>{const q=Mte(I,g.bounds);q!==h.isVisible()&&(h.setVisible(q),E&&!q?(Fh(s.element,[O.fadeOutClass]),O.onHide(s)):(q?vM:Fw)(s,O))})})},Qz=(s,l,h,g,E)=>{Jz(s,l,h,g,!0),DB(s,l,h,E.positionCss)},Hte=(s,l,h,g,E)=>{switch(E.morph){case"static":return tg(s,l,h);case"absolute":return DB(s,l,h,E.positionCss);case"fixed":return Qz(s,l,h,g,E)}},$te=(s,l,h)=>{const g=l.lazyViewport(s);Jz(s,l,h,g),Xz(s,g,h).each(E=>{Hte(s,l,h,g,E)})},BT=(s,l,h)=>{const g=s.element;h.setDocked(!1);const E=l.lazyViewport(s);Vte(s,E,h).each(O=>{switch(O.morph){case"static":{tg(s,l,h);break}case"absolute":{DB(s,l,h,O.positionCss);break}}}),h.setVisible(!0),l.contextual.each(O=>{xc(g,[O.fadeInClass,O.fadeOutClass,O.transitionClass]),O.onShow(s)}),VT(s,l,h)},VT=(s,l,h)=>{s.getSystem().isConnected()&&$te(s,l,h)},ej=(s,l,h)=>{h.isDocked()&&BT(s,l,h)},CM=s=>(l,h,g)=>{const E=h.lazyViewport(l);Fte(l.element,E,g,s).each(I=>{Qz(l,h,g,E,I)})},EM=CM(bM),MB=CM(yM);var Ute=Object.freeze({__proto__:null,refresh:VT,reset:ej,isDocked:(s,l,h)=>h.isDocked(),getModes:(s,l,h)=>h.getModes(),setModes:(s,l,h,g)=>h.setModes(g),forceDockToTop:EM,forceDockToBottom:MB}),zte=Object.freeze({__proto__:null,events:(s,l)=>Ta([R1(fd(),(h,g)=>{s.contextual.each(E=>{qa(h.element,E.transitionClass)&&(xc(h.element,[E.transitionClass,E.fadeInClass]),(l.isVisible()?E.onShown:E.onHidden)(h)),g.stop()})}),dn(py(),(h,g)=>{VT(h,s,l)}),dn(PA(),(h,g)=>{VT(h,s,l)}),dn(my(),(h,g)=>{ej(h,s,l)})])}),jte=[uh("contextual",[oc("fadeInClass"),oc("fadeOutClass"),oc("transitionClass"),$h("lazyContext"),kr("onShow"),kr("onShown"),kr("onHide"),kr("onHidden")]),ci("lazyViewport",()=>({bounds:Bu(),optScrollEnv:ee.none()})),zv("modes",["top","bottom"],Ba),kr("onDocked"),kr("onUndocked")],wM=Object.freeze({__proto__:null,init:s=>{const l=wn(!1),h=wn(!0),g=ms(),E=wn(s.modes),O=()=>`docked:  ${l.get()}, visible: ${h.get()}, modes: ${E.get().join(",")}`;return wf({isDocked:l.get,setDocked:l.set,getInitialPos:g.get,setInitialPos:g.set,clearInitialPos:g.clear,isVisible:h.get,setVisible:h.set,getModes:E.get,setModes:E.set,readState:O})}});const Ja=cu({fields:jte,name:"docking",active:zte,apis:Ute,state:wM}),PB=Ho.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),_M=s=>l=>l.translate(-s.left,-s.top),AM=s=>l=>l.translate(s.left,s.top),ng=s=>(l,h)=>Is(s,(g,E)=>E(g),ni(l,h)),FT=(s,l,h)=>s.fold(ng([AM(h),_M(l)]),ng([_M(l)]),ng([])),HT=(s,l,h)=>s.fold(ng([AM(h)]),ng([]),ng([AM(l)])),TM=(s,l,h)=>s.fold(ng([]),ng([_M(h)]),ng([AM(l),_M(h)])),Gte=(s,l,h,g,E,O)=>{const I=HT(s,E,O),q=HT(l,E,O);return Math.abs(I.left-q.left)<=h&&Math.abs(I.top-q.top)<=g},yo=(s,l,h,g,E,O)=>{const I=HT(s,E,O),q=HT(l,E,O),Y=Math.abs(I.left-q.left),ne=Math.abs(I.top-q.top);return ni(Y,ne)},NB=(s,l,h)=>{const g=s.fold((E,O)=>({position:ee.some("absolute"),left:ee.some(E+"px"),top:ee.some(O+"px")}),(E,O)=>({position:ee.some("absolute"),left:ee.some(E-h.left+"px"),top:ee.some(O-h.top+"px")}),(E,O)=>({position:ee.some("fixed"),left:ee.some(E+"px"),top:ee.some(O+"px")}));return{right:ee.none(),bottom:ee.none(),...g}},tj=(s,l,h)=>s.fold((g,E)=>xM(g+l,E+h),(g,E)=>G1(g+l,E+h),(g,E)=>w0(g+l,E+h)),W1=(s,l,h,g)=>{const E=(O,I)=>(q,Y)=>{const ne=O(l,h,g);return I(q.getOr(ne.left),Y.getOr(ne.top))};return s.fold(E(TM,xM),E(HT,G1),E(FT,w0))},xM=PB.offset,G1=PB.absolute,w0=PB.fixed,OM=(s,l)=>{const h=fl(s,l);return z(h)?NaN:parseInt(h,10)},qte=(s,l)=>{const h=s.element,g=OM(h,l.leftAttr),E=OM(h,l.topAttr);return isNaN(g)||isNaN(E)?ee.none():ee.some(ni(g,E))},nj=(s,l,h)=>{const g=s.element;rs(g,l.leftAttr,h.left+"px"),rs(g,l.topAttr,h.top+"px")},oj=(s,l)=>{const h=s.element;sa(h,l.leftAttr),sa(h,l.topAttr)},LB=(s,l,h,g)=>qte(s,l).fold(()=>h,E=>w0(E.left+g.left,E.top+g.top)),Zte=(s,l,h,g,E,O)=>{const I=LB(s,l,h,g),q=l.mustSnap?Kte(s,l,I,E,O):ij(s,l,I,E,O),Y=FT(I,E,O);return nj(s,l,Y),q.fold(()=>({coord:w0(Y.left,Y.top),extra:ee.none()}),ne=>({coord:ne.output,extra:ne.extra}))},sj=(s,l)=>{oj(s,l)},rj=(s,l,h,g)=>Ko(s,E=>{const O=E.sensor;return Gte(l,O,E.range.left,E.range.top,h,g)?ee.some({output:W1(E.output,l,h,g),extra:E.extra}):ee.none()}),Kte=(s,l,h,g,E)=>{const O=l.getSnapPoints(s);return rj(O,h,g,E).orThunk(()=>Is(O,(Y,ne)=>{const he=ne.sensor,ve=yo(h,he,ne.range.left,ne.range.top,g,E);return Y.deltas.fold(()=>({deltas:ee.some(ve),snap:ee.some(ne)}),Re=>{const ze=(ve.left+ve.top)/2,Ge=(Re.left+Re.top)/2;return ze<=Ge?{deltas:ee.some(ve),snap:ee.some(ne)}:Y})},{deltas:ee.none(),snap:ee.none()}).snap.map(Y=>({output:W1(Y.output,h,g,E),extra:Y.extra})))},ij=(s,l,h,g,E)=>{const O=l.getSnapPoints(s);return rj(O,h,g,E)},Yte=(s,l,h)=>({coord:W1(s.output,s.output,l,h),extra:s.extra});var BB=Object.freeze({__proto__:null,snapTo:(s,l,h,g)=>{const E=l.getTarget(s.element);if(l.repositionTarget){const O=ht(s.element),I=La(O),q=jS(E),Y=Yte(g,I,q),ne=NB(Y.coord,I,q);Ra(E,ne)}}});const zu=(s,l)=>KE(s,{},qt(l,h=>c0(h.name(),"Cannot configure "+h.name()+" for "+s)).concat([Bc("dump",Me)])),$w=s=>s.dump,fu=(s,l)=>({...Qn(l),...s.dump}),cm={field:zu,augment:fu,get:$w},_0=(s,l)=>(s.length>0?[zm("parts",s)]:[]).concat([xn("uid"),Wt("dom",{}),Wt("components",[]),p0("originalSpec"),Wt("debug.sketcher",{})]).concat(l),VB=(s,l,h,g,E)=>{const O=_0(g,E);return cd(s+" [SpecSchema]",ch(O.concat(l)),h)},Xte=(s,l,h,g)=>{const E=lj(g),O=VB(s,l,E,[],[]);return h(O,E)},aj=(s,l,h,g,E)=>{const O=lj(E),I=ie(h),q=Bt(h),Y=VB(s,l,O,I,[q]),ne=Ce(s,Y,h),he=Ae(s,Y,ne.internals());return g(Y,he,O,ne.externals())},nSe=s=>Zn(s,"uid"),lj=s=>nSe(s)?s:{...s,uid:$1("uid")},Jte=s=>s.uid!==void 0,FB=ch([xn("name"),xn("factory"),xn("configFields"),Wt("apis",{}),Wt("extraApis",{})]),Qte=ch([xn("name"),xn("factory"),xn("configFields"),xn("partFields"),Wt("apis",{}),Wt("extraApis",{})]),og=s=>{const l=cd("Sketcher for "+s.name,FB,s),h=O=>Xte(l.name,l.configFields,l.factory,O),g=ys(l.apis,wy),E=ys(l.extraApis,(O,I)=>UA(O,I));return{name:l.name,configFields:l.configFields,sketch:h,...g,...E}},Of=s=>{const l=cd("Sketcher for "+s.name,Qte,s),h=I=>aj(l.name,l.configFields,l.partFields,l.factory,I),g=Z(l.name,l.partFields),E=ys(l.apis,wy),O=ys(l.extraApis,(I,q)=>UA(I,q));return{name:l.name,partFields:l.partFields,configFields:l.configFields,sketch:h,parts:g,...E,...O}},xy=og({name:"Container",factory:s=>{const{attributes:l,...h}=s.dom;return{uid:s.uid,dom:{tag:"div",attributes:{role:"presentation",...l},...h},components:s.components,behaviours:$w(s.containerBehaviours),events:s.events,domModification:s.domModification,eventOrder:s.eventOrder}},configFields:[Wt("components",[]),zu("containerBehaviours",[]),Wt("events",{}),Wt("domModification",{}),Wt("eventOrder",{})]}),HB="data-initial-z-index",cj=s=>{jn(s.element).filter(Ac).each(l=>{nr(l,HB).fold(()=>Sr(l,"z-index"),h=>_s(l,"z-index",h)),sa(l,HB)})},uj=s=>{jn(s.element).filter(Ac).each(l=>{ua(l,"z-index").each(h=>{rs(l,HB,h)}),_s(l,"z-index",ra(s.element,"z-index"))})},dj=(s,l)=>{s.getSystem().addToGui(l),uj(l)},hj=s=>{cj(s),s.getSystem().removeFromGui(s)},fj=(s,l,h)=>s.getSystem().build(xy.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[l]},events:h}));var $B=uh("snaps",[xn("getSnapPoints"),kr("onSensor"),xn("leftAttr"),xn("topAttr"),Wt("lazyViewport",Bu),Wt("mustSnap",!1)]);const IM=[Wt("useFixed",rt),xn("blockerClass"),Wt("getTarget",Me),Wt("onDrag",re),Wt("repositionTarget",!0),Wt("onDrop",re),ci("getBounds",Bu),$B],pj=s=>Li(ua(s,"left"),ua(s,"top"),ua(s,"position"),(l,h,g)=>(g==="fixed"?w0:xM)(parseInt(l,10),parseInt(h,10))).getOrThunk(()=>{const l=Lc(s);return G1(l.left,l.top)}),mj=(s,l,h,g,E)=>{const O=E.bounds,I=HT(l,h,g),q=dl(I.left,O.x,O.x+O.width-E.width),Y=dl(I.top,O.y,O.y+O.height-E.height),ne=G1(q,Y);return l.fold(()=>{const he=TM(ne,h,g);return xM(he.left,he.top)},F(ne),()=>{const he=FT(ne,h,g);return w0(he.left,he.top)})},tne=(s,l,h,g,E,O,I)=>{const q=l.fold(()=>{const Y=tj(h,O.left,O.top),ne=FT(Y,g,E);return w0(ne.left,ne.top)},Y=>{const ne=Zte(s,Y,h,O,g,E);return ne.extra.each(he=>{Y.onSensor(s,he)}),ne.coord});return mj(s,q,g,E,I)},nne=(s,l,h,g)=>{const E=l.getTarget(s.element);if(l.repositionTarget){const O=ht(s.element),I=La(O),q=jS(E),Y=pj(E),ne=tne(s,l.snaps,Y,I,q,g,h),he=NB(ne,I,q);Ra(E,he)}l.onDrag(s,E,g)},gj=(s,l)=>({bounds:s.getBounds(),height:El(l.element),width:zp(l.element)}),UB=(s,l,h,g,E)=>{const O=h.update(g,E),I=h.getStartData().getOrThunk(()=>gj(l,s));O.each(q=>{nne(s,l,I,q)})},vj=(s,l,h,g)=>{l.each(hj),h.snaps.each(O=>{sj(s,O)});const E=h.getTarget(s.element);g.reset(),h.onDrop(s,E)},Uw=s=>(l,h)=>{const g=E=>{h.setStartData(gj(l,E))};return Ta([dn(py(),E=>{h.getStartData().each(()=>g(E))}),...s(l,h,g)])},bj=s=>Ta([dn(hd(),s.forceDrop),dn(uy(),s.drop),dn(qv(),(l,h)=>{s.move(h.event)}),dn(_l(),s.delayDrop)]);var yj=Object.freeze({__proto__:null,getData:s=>ee.from(ni(s.x,s.y)),getDelta:(s,l)=>ni(l.left-s.left,l.top-s.top)});const zB=(s,l,h)=>[dn(hd(),(g,E)=>{if(E.event.raw.button!==0)return;E.stop();const I=()=>vj(g,ee.some(ne),s,l),q=zA(I,200),Y={drop:I,delayDrop:q.schedule,forceDrop:I,move:ve=>{q.cancel(),UB(g,s,l,yj,ve)}},ne=fj(g,s.blockerClass,bj(Y));(()=>{h(g),dj(g,ne)})()})],rne=[...IM,ia("dragger",{handlers:Uw(zB)})],ine=s=>Ta([dn(zg(),s.forceDrop),dn(Wg(),s.drop),dn(d0(),s.drop),dn(jg(),(l,h)=>{s.move(h.event)})]),ane=s=>{const l=s[0];return ee.some(ni(l.clientX,l.clientY))};var WI=Object.freeze({__proto__:null,getData:s=>{const h=s.raw.touches;return h.length===1?ane(h):ee.none()},getDelta:(s,l)=>ni(l.left-s.left,l.top-s.top)});const Cj=(s,l,h)=>{const g=ms(),E=O=>{vj(O,g.get(),s,l),g.clear()};return[dn(zg(),(O,I)=>{I.stop();const q=()=>E(O),Y={drop:q,delayDrop:re,forceDrop:q,move:ve=>{UB(O,s,l,WI,ve)}},ne=fj(O,s.blockerClass,ine(Y));g.set(ne),(()=>{h(O),dj(O,ne)})()}),dn(jg(),(O,I)=>{I.stop(),UB(O,s,l,WI,I.event)}),dn(Wg(),(O,I)=>{I.stop(),E(O)}),dn(d0(),E)]},Ej=[...IM,ia("dragger",{handlers:Uw(Cj)})],vh=(s,l,h)=>[...zB(s,l,h),...Cj(s,l,h)],lne=[...IM,ia("dragger",{handlers:Uw(vh)})];var wj=Object.freeze({__proto__:null,mouse:rne,touch:Ej,mouseOrTouch:lne}),hne=Object.freeze({__proto__:null,init:()=>{let s=ee.none(),l=ee.none();const h=()=>{s=ee.none(),l=ee.none()},g=(Y,ne)=>{const he=s.map(ve=>Y.getDelta(ve,ne));return s=ee.some(ne),he},E=(Y,ne)=>Y.getData(ne).bind(he=>g(Y,he)),O=Y=>{l=ee.some(Y)},I=()=>l,q=F({});return wf({readState:q,reset:h,update:E,getStartData:I,setStartData:O})}});const zw=cD({branchKey:"mode",branches:wj,name:"dragging",active:{events:(s,l)=>s.dragger.handlers(s,l)},extra:{snap:s=>({sensor:s.sensor,range:s.range,output:s.output,extra:ee.from(s.extra)})},state:hne,apis:BB}),fne=["input","textarea"],_j=s=>{const l=tu(s);return vn(fne,l)},jB=(s,l)=>{const h=l.getRoot(s).getOr(s.element);ai(h,l.invalidClass),l.notify.each(g=>{_j(s.element)&&rs(s.element,"aria-invalid",!1),g.getContainer(s).each(E=>{Lh(E,g.validHtml)}),g.onValid(s)})},Aj=(s,l,h,g)=>{const E=l.getRoot(s).getOr(s.element);Ei(E,l.invalidClass),l.notify.each(O=>{_j(s.element)&&rs(s.element,"aria-invalid",!0),O.getContainer(s).each(I=>{Lh(I,g)}),O.onInvalid(s,g)})},Tj=(s,l,h)=>l.validator.fold(()=>ps.pure($o.value(!0)),g=>g.validate(s)),RM=(s,l,h)=>(l.notify.each(g=>{g.onValidate(s)}),Tj(s,l).map(g=>s.getSystem().isConnected()?g.fold(E=>(Aj(s,l,h,E),$o.error(E)),E=>(jB(s,l),$o.value(E))):$o.error("No longer in system")));var xj=Object.freeze({__proto__:null,markValid:jB,markInvalid:Aj,query:Tj,run:RM,isInvalid:(s,l)=>{const h=l.getRoot(s).getOr(s.element);return qa(h,l.invalidClass)}}),mne=Object.freeze({__proto__:null,events:(s,l)=>s.validator.map(h=>Ta([dn(h.onEvent,g=>{RM(g,s,l).get(Me)})].concat(h.validateOnLoad?[Ea(g=>{RM(g,s,l).get(re)})]:[]))).getOr({})}),gne=[xn("invalidClass"),Wt("getRoot",ee.none),uh("notify",[Wt("aria","alert"),Wt("getContainer",ee.none),Wt("validHtml",""),kr("onValid"),kr("onInvalid"),kr("onValidate")]),uh("validator",[xn("validate"),Wt("onEvent","input"),Wt("validateOnLoad",!0)])];const WB=(s,l,h)=>{l.store.manager.onLoad(s,l,h)},GB=(s,l,h)=>{l.store.manager.onUnload(s,l,h)};var Oj=Object.freeze({__proto__:null,onLoad:WB,onUnload:GB,setValue:(s,l,h,g)=>{l.store.manager.setValue(s,l,h,g)},getValue:(s,l,h)=>l.store.manager.getValue(s,l,h),getState:(s,l,h)=>h}),Sne=Object.freeze({__proto__:null,events:(s,l)=>{const h=s.resetOnDom?[Ea((g,E)=>{WB(g,s,l)}),ev((g,E)=>{GB(g,s,l)})]:[hI(s,l,WB)];return Ta(h)}});const Ww=()=>{const s=wn(null),l=()=>({mode:"memory",value:s.get()}),h=()=>s.get()===null,g=()=>{s.set(null)};return wf({set:s.set,get:s.get,isNotSet:h,clear:g,readState:l})},Cne=()=>wf({readState:re}),Ij=()=>{const s=wn({}),l=wn({});return wf({readState:()=>({mode:"dataset",dataByValue:s.get(),dataByText:l.get()}),lookup:I=>Zt(s.get(),I).orThunk(()=>Zt(l.get(),I)),update:I=>{const q=s.get(),Y=l.get(),ne={},he={};Tn(I,ve=>{ne[ve.value]=ve,Zt(ve,"meta").each(Re=>{Zt(Re,"text").each(ze=>{he[ze]=ve})})}),s.set({...q,...ne}),l.set({...Y,...he})},clear:()=>{s.set({}),l.set({})}})};var wne=Object.freeze({__proto__:null,memory:Ww,dataset:Ij,manual:Cne,init:s=>s.store.manager.state(s)});const Rj=(s,l,h,g)=>{const E=l.store;h.update([g]),E.setValue(s,g),l.onSetValue(s,g)},_ne=(s,l,h)=>{const g=l.store,E=g.getDataKey(s);return h.lookup(E).getOrThunk(()=>g.getFallbackEntry(E))},kj=(s,l,h)=>{l.store.initialValue.each(E=>{Rj(s,l,h,E)})},qB=(s,l,h)=>{h.clear()};var ZB=[li("initialValue"),xn("getFallbackEntry"),xn("getDataKey"),xn("setValue"),ia("manager",{setValue:Rj,getValue:_ne,onLoad:kj,onUnload:qB,state:Ij})];const Ane=(s,l,h)=>l.store.getValue(s),OC=(s,l,h,g)=>{l.store.setValue(s,g),l.onSetValue(s,g)},Dj=(s,l,h)=>{l.store.initialValue.each(g=>{l.store.setValue(s,g)})};var Mj=[xn("getValue"),Wt("setValue",re),li("initialValue"),ia("manager",{setValue:OC,getValue:Ane,onLoad:Dj,onUnload:re,state:Qg.init})];const Tne=(s,l,h,g)=>{h.set(g),l.onSetValue(s,g)},xne=(s,l,h)=>h.get(),GI=(s,l,h)=>{l.store.initialValue.each(g=>{h.isNotSet()&&h.set(g)})},qI=(s,l,h)=>{h.clear()};var Pj=[li("initialValue"),ia("manager",{setValue:Tne,getValue:xne,onLoad:GI,onUnload:qI,state:Ww})],KB=[dd("store",{mode:"memory"},ud("mode",{memory:Pj,manual:Mj,dataset:ZB})),kr("onSetValue"),Wt("resetOnDom",!1)];const po=cu({fields:KB,name:"representing",active:Sne,apis:Oj,extra:{setValueFrom:(s,l)=>{const h=po.getValue(l);po.setValue(s,h)}},state:wne}),If=cu({fields:gne,name:"invalidating",active:mne,apis:xj,extra:{validation:s=>l=>{const h=po.getValue(l);return ps.pure(s(h))}}});var One=Object.freeze({__proto__:null,exhibit:(s,l)=>Ym({classes:[],styles:l.useFixed()?{}:{position:"relative"}})});const kM=Ho.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),A0=(s,l,h,g,E,O)=>{const I=l.rect,q=I.x-h,Y=I.y-g,ne=I.width,he=I.height,ve=E-(q+ne),Re=O-(Y+he),ze=ee.some(q),Ge=ee.some(Y),et=ee.some(ve),ft=ee.some(Re),Je=ee.none();return Js(l.direction,()=>eg(s,ze,Ge,Je,Je),()=>eg(s,Je,Ge,et,Je),()=>eg(s,ze,Je,Je,ft),()=>eg(s,Je,Je,et,ft),()=>eg(s,ze,Ge,Je,Je),()=>eg(s,ze,Je,Je,ft),()=>eg(s,ze,Ge,Je,Je),()=>eg(s,Je,Ge,et,Je))},DM=(s,l)=>s.fold(()=>{const h=l.rect;return eg("absolute",ee.some(h.x),ee.some(h.y),ee.none(),ee.none())},(h,g,E,O)=>A0("absolute",l,h,g,E,O),(h,g,E,O)=>A0("fixed",l,h,g,E,O)),YB=(s,l)=>{const h=Fe(Lm,l),g=s.fold(h,h,()=>{const I=La();return Lm(l).translate(-I.left,-I.top)}),E=zp(l),O=El(l);return jr(g.left,g.top,E,O)},Nj=(s,l)=>l.fold(()=>s.fold(Bu,Bu,jr),h=>s.fold(F(h),F(h),()=>{const g=XB(s,h.x,h.y);return jr(g.left,g.top,h.width,h.height)})),XB=(s,l,h)=>{const g=ni(l,h),E=()=>{const O=La();return g.translate(-O.left,-O.top)};return s.fold(F(g),F(g),E)},Lj=(s,l,h,g)=>s.fold(l,h,g);kM.none;const JB=kM.relative,Bj=kM.fixed,Ine=(s,l)=>({anchorBox:s,origin:l}),Rne=(s,l)=>Ine(s,l),MM=Ho.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),PM=(s,l)=>{const{x:h,y:g,right:E,bottom:O}=l,{x:I,y:q,right:Y,bottom:ne,width:he,height:ve}=s,Re=I>=h&&I<=E,ze=q>=g&&q<=O,Ge=Re&&ze,et=Y<=E&&Y>=h,ft=ne<=O&&ne>=g,Je=et&&ft,yt=Math.min(he,I>=h?E-I:Y-h),At=Math.min(ve,q>=g?O-q:ne-g);return{originInBounds:Ge,sizeInBounds:Je,visibleW:yt,visibleH:At}},QB=(s,l)=>{const{x:h,y:g,right:E,bottom:O}=l,{x:I,y:q,width:Y,height:ne}=s,he=Math.max(h,E-Y),ve=Math.max(g,O-ne),Re=dl(I,h,he),ze=dl(q,g,ve),Ge=Math.min(Re+Y,E)-Re,et=Math.min(ze+ne,O)-ze;return jr(Re,ze,Ge,et)},NM=(s,l,h)=>{const g=F(l.bottom-h.y),E=F(h.bottom-l.y),O=ar(s,E,E,g),I=F(l.right-h.x),q=F(h.right-l.x);return{maxWidth:ns(s,q,q,I),maxHeight:O}},Vj=(s,l,h,g)=>{const E=s.bubble,O=E.offset,I=Xa(g,s.restriction,O),q=s.x+O.left,Y=s.y+O.top,ne=jr(q,Y,l,h),{originInBounds:he,sizeInBounds:ve,visibleW:Re,visibleH:ze}=PM(ne,I),Ge=he&&ve,et=Ge?ne:QB(ne,I),ft=et.width>0&&et.height>0,{maxWidth:Je,maxHeight:yt}=NM(s.direction,et,g),At={rect:et,maxHeight:yt,maxWidth:Je,direction:s.direction,placement:s.placement,classes:{on:E.classesOn,off:E.classesOff},layout:s.label,testY:Y};return Ge||s.alwaysFit?MM.fit(At):MM.nofit(At,Re,ze,ft)},kne=(s,l,h,g,E,O)=>{const I=g.width,q=g.height,Y=(he,ve,Re,ze,Ge)=>{const et=he(h,g,E,s,O),ft=Vj(et,I,q,O);return ft.fold(F(ft),(Je,yt,At,Xt)=>(Ge===Xt?At>ze||yt>Re:!Ge&&Xt)?ft:MM.nofit(ve,Re,ze,Ge))};return Is(l,(he,ve)=>{const Re=Fe(Y,ve);return he.fold(F(he),Re)},MM.nofit({rect:h,maxHeight:g.height,maxWidth:g.width,direction:Cs(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:h.y},-1,-1,!1)).fold(Me,Me)},eV=["top","bottom","right","left"],ZI="data-alloy-transition-timer",Fj=(s,l)=>Dg(s,l.classes),Hj=(s,l,h)=>h.exists(g=>{const E=s.mode;return E==="all"?!0:g[E]!==l[E]}),Dne=(s,l)=>{const h=g=>parseFloat(g).toFixed(3);return wo(l,(g,E)=>{const O=s[E].map(h),I=g.map(h);return!wr(O,I)}).isSome()},tV=s=>{const l=O=>{const q=ra(s,O).split(/\s*,\s*/);return ws(q,xu)},h=O=>{if(v(O)&&/^[\d.]+/.test(O)){const I=parseFloat(O);return Pc(O,"ms")?I:I*1e3}else return 0},g=l("transition-delay"),E=l("transition-duration");return Is(E,(O,I,q)=>{const Y=h(g[q])+h(I);return Math.max(O,Y)},0)},Mne=(s,l)=>{const h=ea(),g=ea();let E;const O=ne=>{const he=ne.raw.pseudoElement??"";return xe(ne.target,s)&&Il(he)&&vn(eV,ne.raw.propertyName)},I=ne=>{if(U(ne)||O(ne)){h.clear(),g.clear();const he=ne?.raw.type;(U(he)||he===fd())&&(clearTimeout(E),sa(s,ZI),xc(s,l.classes))}},q=ti(s,dy(),ne=>{O(ne)&&(q.unbind(),h.set(ti(s,fd(),I)),g.set(ti(s,Zv(),I)))}),Y=tV(s);window.requestAnimationFrame(()=>{E=setTimeout(I,Y+17),rs(s,ZI,E)})},Pne=(s,l)=>{Fh(s,l.classes),nr(s,ZI).each(h=>{clearTimeout(parseInt(h,10)),sa(s,ZI)}),Mne(s,l)},Nne=(s,l,h,g,E,O)=>{const I=Hj(g,E,O);if(I||Fj(s,g)){_s(s,"position",h.position);const q=YB(l,s),Y=DM(l,{...E,rect:q}),ne=Lt(eV,he=>Y[he]);Dne(h,ne)&&(Ra(s,ne),I&&Pne(s,g),sd(s))}else xc(s,g.classes)},Lne=s=>({width:Math.ceil(zp(s)),height:El(s)}),$j=(s,l,h,g)=>{Sr(l,"max-height"),Sr(l,"max-width");const E=Lne(l);return kne(l,g.preference,s,E,h,g.bounds)},Bne=(s,l)=>{const h=l.classes;xc(s,h.off),Fh(s,h.on)},Vne=(s,l,h)=>{const g=h.maxHeightFunction;g(s,l.maxHeight)},Uj=(s,l,h)=>{const g=h.maxWidthFunction;g(s,l.maxWidth)},KI=(s,l,h)=>{const g=DM(h.origin,l);h.transition.each(E=>{Nne(s,h.origin,g,E,l,h.lastPlacement)}),LT(s,g)},Fne=(s,l)=>{JA(s,l.placement)},$T=(s,l,h)=>s[l]===void 0?h:s[l],nV=(s,l,h,g,E,O,I,q)=>{const Y=$T(I,"maxHeightFunction",eD()),ne=$T(I,"maxWidthFunction",re),he=s.anchorBox,ve=s.origin,Re={bounds:Nj(ve,O),origin:ve,preference:g,maxHeightFunction:Y,maxWidthFunction:ne,lastPlacement:E,transition:q};return zj(he,l,h,Re)},zj=(s,l,h,g)=>{const E=$j(s,l,h,g);return KI(l,E,g),Fne(l,E),Bne(l,E),Vne(l,E,g),Uj(l,E,g),{layout:E.layout,placement:E.placement}},YI=Me,Gw=()=>uh("layouts",[xn("onLtr"),xn("onRtl"),li("onBottomLtr"),li("onBottomRtl")]),LM=(s,l,h,g,E,O,I)=>{const q=I.map(tD).getOr(!1),Y=l.layouts.map(ze=>ze.onLtr(s)),ne=l.layouts.map(ze=>ze.onRtl(s)),he=q?l.layouts.bind(ze=>ze.onBottomLtr.map(Ge=>Ge(s))).or(Y).getOr(E):Y.getOr(h),ve=q?l.layouts.bind(ze=>ze.onBottomRtl.map(Ge=>Ge(s))).or(ne).getOr(O):ne.getOr(g);return Kb(he,ve)(s)},jj=(s,l,h)=>{const g=l.hotspot,E=YB(h,g.element),O=LM(s.element,l,_1(),nI(),XA(),Jk(),ee.some(l.hotspot.element));return ee.some(YI({anchorBox:E,bubble:l.bubble.getOr(lo()),overrides:l.overrides,layouts:O}))};var Hne=[xn("hotspot"),li("bubble"),Wt("overrides",{}),Gw(),ia("placement",jj)];const Wj=(s,l,h)=>{const g=XB(h,l.x,l.y),E=jr(g.left,g.top,l.width,l.height),O=LM(s.element,l,YA(),Xk(),YA(),Xk(),ee.none());return ee.some(YI({anchorBox:E,bubble:l.bubble,overrides:l.overrides,layouts:O}))};var $ne=[xn("x"),xn("y"),Wt("height",0),Wt("width",0),Wt("bubble",lo()),Wt("overrides",{}),Gw(),ia("placement",Wj)];const Gj=Ho.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),qj=s=>s.fold(Me,(l,h,g)=>l.translate(-h,-g)),BM=s=>s.fold(Me,Me),VM=s=>Is(s,(l,h)=>l.translate(h.left,h.top),ni(0,0)),oV=s=>{const l=qt(s,qj);return VM(l)},Zj=s=>{const l=qt(s,BM);return VM(l)},Une=Gj.screen,zne=Gj.absolute,jne=(s,l,h)=>{const g=On(h.root).dom,E=O=>{const I=ht(O),q=ht(s.element);return xe(I,q)};return ee.from(g.frameElement).map(to.fromDom).filter(E).map(Lc)},sV=(s,l,h)=>{const g=ht(s.element),E=La(g),O=jne(s,l,h).getOr(E);return zne(O,E.left,E.top)},FM=(s,l,h,g)=>{const E=Une(ni(s,l));return ee.some(oy(E,h,g))},Kj=(s,l,h,g,E)=>s.map(O=>{const I=[l,O.point],q=Lj(g,()=>Zj(I),()=>Zj(I),()=>oV(I)),Y=VE(q.left,q.top,O.width,O.height),ne=h.showAbove?XA():_1(),he=h.showAbove?Jk():nI(),ve=LM(E,h,ne,he,ne,he,ee.none());return YI({anchorBox:Y,bubble:h.bubble.getOr(lo()),overrides:h.overrides,layouts:ve})}),Wne=(s,l,h)=>{const g=sV(s,h,l);return l.node.filter($r).bind(E=>{const O=E.dom.getBoundingClientRect(),I=FM(O.left,O.top,O.width,O.height),q=l.node.getOr(s.element);return Kj(I,g,l,h,q)})};var Gne=[xn("node"),xn("root"),li("bubble"),Gw(),Wt("overrides",{}),Wt("showAbove",!1),ia("placement",Wne)];const HM=(s,l)=>({element:s,offset:l}),qne=(s,l)=>{const h=fr(s);if(h.length===0)return HM(s,l);if(l<h.length)return HM(h[l],0);{const g=h[h.length-1],E=Dh(g)?e0(g).length:fr(g).length;return HM(g,E)}},Yj=(s,l)=>Dh(s)?HM(s,l):qne(s,l),$M=s=>s.foffset!==void 0,Xj=(s,l)=>l.getSelection.getOrThunk(()=>()=>Nm(s))().map(g=>{if($M(g)){const E=Yj(g.start,g.soffset),O=Yj(g.finish,g.foffset);return ru.range(E.element,E.offset,O.element,O.offset)}else return g}),Zne=(s,l,h)=>{const g=On(l.root).dom,E=sV(s,h,l),O=Xj(g,l).bind(Y=>{if($M(Y))return s0(g,ru.exactFromRange(Y)).orThunk(()=>{const he=to.fromText(Xf);lf(Y.start,he);const ve=Mg(g,ru.exact(he,0,he,1));return Nd(he),ve}).bind(he=>FM(he.left,he.top,he.width,he.height));{const ne=ys(Y,ve=>ve.dom.getBoundingClientRect()),he={left:Math.min(ne.firstCell.left,ne.lastCell.left),right:Math.max(ne.firstCell.right,ne.lastCell.right),top:Math.min(ne.firstCell.top,ne.lastCell.top),bottom:Math.max(ne.firstCell.bottom,ne.lastCell.bottom)};return FM(he.left,he.top,he.right-he.left,he.bottom-he.top)}}),q=Xj(g,l).bind(Y=>$M(Y)?Ac(Y.start)?ee.some(Y.start):ls(Y.start):ee.some(Y.firstCell)).getOr(s.element);return Kj(O,E,l,h,q)};var Kne=[li("getSelection"),xn("root"),li("bubble"),Gw(),Wt("overrides",{}),Wt("showAbove",!1),ia("placement",Zne)];const UM="link-layout",Jj=s=>s.x+s.width,q1=(s,l)=>s.x-l.width,Qj=(s,l)=>s.y-l.height+s.height,e8=s=>s.y,IC=(s,l,h)=>_n(Jj(s),e8(s),h.southeast(),Cs(),"southeast",Wr(s,{left:0,top:2}),UM),rV=(s,l,h)=>_n(q1(s,l),e8(s),h.southwest(),qs(),"southwest",Wr(s,{right:1,top:2}),UM),t8=(s,l,h)=>_n(Jj(s),Qj(s,l),h.northeast(),Da(),"northeast",Wr(s,{left:0,bottom:3}),UM),Z1=(s,l,h)=>_n(q1(s,l),Qj(s,l),h.northwest(),Ai(),"northwest",Wr(s,{right:1,bottom:3}),UM),n8=()=>[IC,rV,t8,Z1],o8=()=>[rV,IC,Z1,t8],av=(s,l,h)=>{const g=YB(h,l.item.element),E=LM(s.element,l,n8(),o8(),n8(),o8(),ee.none());return ee.some(YI({anchorBox:g,bubble:lo(),overrides:l.overrides,layouts:E}))};var s8=[xn("item"),Gw(),Wt("overrides",{}),ia("placement",av)],r8=ud("type",{selection:Kne,node:Gne,hotspot:Hne,submenu:s8,makeshift:$ne});const i8=[Hd("classes",Ba),dh("mode","all",["all","layout","placement"])],Yne=[Wt("useFixed",rt),li("getBounds")],zM=[Fu("anchor",r8),uh("transition",i8)],a8=()=>{const s=document.documentElement;return Bj(0,0,s.clientWidth,s.clientHeight)},Xne=s=>{const l=Lc(s.element),h=s.element.dom.getBoundingClientRect();return JB(l.left,l.top,h.width,h.height)},Jne=(s,l,h,g,E,O)=>{const I=Rne(l.anchorBox,s);return nV(I,g.element,l.bubble,l.layouts,E,h,l.overrides,O)},jM=(s,l,h,g,E)=>{const O=ee.none();WM(s,l,h,g,E,O)},WM=(s,l,h,g,E,O)=>{const I=cd("placement.info",vs(zM),E),q=I.anchor,Y=g.element,ne=h.get(g.uid);H1(()=>{_s(Y,"position","fixed");const he=ua(Y,"visibility");_s(Y,"visibility","hidden");const ve=l.useFixed()?a8():Xne(s);q.placement(s,q,ve).each(Re=>{const ze=O.orThunk(()=>l.getBounds.map(ct)),Ge=Jne(ve,Re,ze,g,ne,I.transition);h.set(g.uid,Ge)}),he.fold(()=>{Sr(Y,"visibility")},Re=>{_s(Y,"visibility",Re)}),ua(Y,"left").isNone()&&ua(Y,"top").isNone()&&ua(Y,"right").isNone()&&ua(Y,"bottom").isNone()&&Mc(ua(Y,"position"),"fixed")&&Sr(Y,"position")},Y)};var l8=Object.freeze({__proto__:null,position:jM,positionWithinBounds:WM,getMode:(s,l,h)=>l.useFixed()?"fixed":"absolute",reset:(s,l,h,g)=>{const E=g.element;Tn(["position","left","right","top","bottom"],O=>Sr(E,O)),QA(E),h.clear(g.uid)}}),iV=Object.freeze({__proto__:null,init:()=>{let s={};return wf({readState:()=>s,clear:E=>{H(E)?delete s[E]:s={}},set:(E,O)=>{s[E]=O},get:E=>Zt(s,E)})}});const Gd=cu({fields:Yne,name:"positioning",active:One,apis:l8,state:iV}),toe=(s,l)=>l.universal?s:ws(s,h=>vn(l.channels,h));var noe=Object.freeze({__proto__:null,events:s=>Ta([dn(Qp(),(l,h)=>{const g=s.channels,E=Io(g),O=h,I=toe(E,O);Tn(I,q=>{const Y=g[q],ne=Y.schema,he=cd("channel["+q+`] data
Receiver: `+hh(l.element),ne,O.data);Y.onReceive(l,he)})})])}),aV=[Fu("channels",WE($o.value,ch([C1("onReceive"),Wt("schema",Bn())])))];const um=cu({fields:aV,name:"receiving",active:noe});var qM=Object.freeze({__proto__:null,events:(s,l)=>{const h=(g,E)=>{s.updateState.each(O=>{const I=O(g,E);l.set(I)}),s.renderComponents.each(O=>{const I=O(E,l.get());(s.reuseDom?tM:eM)(g,I)})};return Ta([dn(Qp(),(g,E)=>{const O=E;if(!O.universal){const I=s.channel;vn(O.channels,I)&&h(g,O.data)}}),Ea((g,E)=>{s.initialData.each(O=>{h(g,O)})})])}}),c8=Object.freeze({__proto__:null,getState:(s,l,h)=>h}),soe=[xn("channel"),li("renderComponents"),li("updateState"),li("initialData"),Vc("reuseDom",!0)],roe=Object.freeze({__proto__:null,init:()=>{const s=wn(ee.none()),l=()=>s.set(ee.none());return{readState:()=>s.get().getOr("none"),get:s.get,set:s.set,clear:l}}});const dm=cu({fields:soe,name:"reflecting",active:qM,apis:c8,state:roe}),ZM=(s,l,h,g)=>{h.get().each(I=>{Pw(s)});const E=l.getAttachPoint(s);sb(E,s);const O=s.getSystem().build(g);return sb(s,O),h.set(O),O},lV=(s,l,h,g)=>{const E=ZM(s,l,h,g);return l.onOpen(s,E),E},u8=(s,l,h,g)=>h.get().map(()=>ZM(s,l,h,g)),cV=(s,l,h,g,E)=>{f8(s,l),lV(s,l,h,g),E(),KM(s,l)},d8=(s,l,h)=>{h.get().each(g=>{Pw(s),rb(s),l.onClose(s,g),h.clear()})},uV=(s,l,h)=>h.isOpen(),ioe=(s,l,h,g)=>uV(s,l,h)&&h.get().exists(E=>l.isPartOf(s,E,g)),aoe=(s,l,h)=>h.get(),loe=(s,l,h,g)=>{ua(s.element,l).fold(()=>{sa(s.element,h)},E=>{rs(s.element,h,E)}),_s(s.element,l,g)},h8=(s,l,h)=>{nr(s.element,h).fold(()=>Sr(s.element,l),g=>_s(s.element,l,g))},f8=(s,l,h)=>{const g=l.getAttachPoint(s);_s(s.element,"position",Gd.getMode(g)),loe(s,"visibility",l.cloakVisibilityAttr,"hidden")},coe=s=>To(["top","left","right","bottom"],l=>ua(s,l).isSome()),KM=(s,l,h)=>{coe(s.element)||Sr(s.element,"position"),h8(s,"visibility",l.cloakVisibilityAttr)};var p8=Object.freeze({__proto__:null,cloak:f8,decloak:KM,open:lV,openWhileCloaked:cV,close:d8,isOpen:uV,isPartOf:ioe,getState:aoe,setContent:u8}),doe=Object.freeze({__proto__:null,events:(s,l)=>Ta([dn(v1(),(h,g)=>{d8(h,s,l)})])}),dV=[kr("onOpen"),kr("onClose"),xn("isPartOf"),xn("getAttachPoint"),Wt("cloakVisibilityAttr","data-precloak-visibility")],hoe=Object.freeze({__proto__:null,init:()=>{const s=ms(),l=F("not-implemented");return wf({readState:l,isOpen:s.isSet,clear:s.clear,set:s.set,get:s.get})}});const Qr=cu({fields:dV,name:"sandboxing",active:doe,apis:p8,state:hoe}),XI=(s,l)=>l.getAnimationRoot.fold(()=>s.element,h=>h(s)),K1=s=>s.dimension.property,RC=(s,l)=>s.dimension.getDimension(l),UT=(s,l)=>{const h=XI(s,l);xc(h,[l.shrinkingClass,l.growingClass])},hV=(s,l)=>{ai(s.element,l.openClass),Ei(s.element,l.closedClass),_s(s.element,K1(l),"0px"),sd(s.element)},zT=(s,l)=>{ai(s.element,l.closedClass),Ei(s.element,l.openClass),Sr(s.element,K1(l))},m8=(s,l,h,g)=>{h.setCollapsed(),_s(s.element,K1(l),RC(l,s.element)),UT(s,l),hV(s,l),l.onStartShrink(s),l.onShrunk(s)},foe=(s,l,h,g)=>{const E=g.getOrThunk(()=>RC(l,s.element));h.setCollapsed(),_s(s.element,K1(l),E),sd(s.element);const O=XI(s,l);ai(O,l.growingClass),Ei(O,l.shrinkingClass),hV(s,l),l.onStartShrink(s)},g8=(s,l,h)=>{const g=RC(l,s.element);(g==="0px"?m8:foe)(s,l,h,ee.some(g))},v8=(s,l,h)=>{const g=XI(s,l),E=qa(g,l.shrinkingClass),O=RC(l,s.element);zT(s,l);const I=RC(l,s.element);(E?()=>{_s(s.element,K1(l),O),sd(s.element)}:()=>{hV(s,l)})(),ai(g,l.shrinkingClass),Ei(g,l.growingClass),zT(s,l),_s(s.element,K1(l),I),h.setExpanded(),l.onStartGrow(s)},poe=(s,l,h)=>{if(h.isExpanded()){Sr(s.element,K1(l));const g=RC(l,s.element);_s(s.element,K1(l),g)}},moe=(s,l,h)=>{h.isExpanded()||v8(s,l,h)},b8=(s,l,h)=>{h.isExpanded()&&g8(s,l,h)},goe=(s,l,h)=>{h.isExpanded()&&m8(s,l,h)},voe=(s,l,h)=>h.isExpanded(),fV=(s,l,h)=>h.isCollapsed(),kC=(s,l,h)=>{const g=XI(s,l);return qa(g,l.growingClass)===!0},y8=(s,l,h)=>{const g=XI(s,l);return qa(g,l.shrinkingClass)===!0};var yoe=Object.freeze({__proto__:null,refresh:poe,grow:moe,shrink:b8,immediateShrink:goe,hasGrown:voe,hasShrunk:fV,isGrowing:kC,isShrinking:y8,isTransitioning:(s,l,h)=>kC(s,l)||y8(s,l),toggleGrow:(s,l,h)=>{(h.isExpanded()?g8:v8)(s,l,h)},disableTransitions:UT,immediateGrow:(s,l,h)=>{h.isExpanded()||(zT(s,l),_s(s.element,K1(l),RC(l,s.element)),UT(s,l),h.setExpanded(),l.onStartGrow(s),l.onGrown(s))}}),C8=Object.freeze({__proto__:null,exhibit:(s,l,h)=>{const g=l.expanded;return Ym(g?{classes:[l.openClass],styles:{}}:{classes:[l.closedClass],styles:Ug(l.dimension.property,"0px")})},events:(s,l)=>Ta([R1(fd(),(h,g)=>{g.event.raw.propertyName===s.dimension.property&&(UT(h,s),l.isExpanded()&&Sr(h.element,s.dimension.property),(l.isExpanded()?s.onGrown:s.onShrunk)(h))})])}),E8=[xn("closedClass"),xn("openClass"),xn("shrinkingClass"),xn("growingClass"),li("getAnimationRoot"),kr("onShrunk"),kr("onStartShrink"),kr("onGrown"),kr("onStartGrow"),Wt("expanded",!1),Fu("dimension",ud("property",{width:[ia("property","width"),ia("getDimension",s=>bc(s)+"px")],height:[ia("property","height"),ia("getDimension",s=>Cl(s)+"px")]}))],Y1=Object.freeze({__proto__:null,init:s=>{const l=wn(s.expanded),h=()=>"expanded: "+l.get();return wf({isExpanded:()=>l.get()===!0,isCollapsed:()=>l.get()===!1,setCollapsed:Fe(l.set,!1),setExpanded:Fe(l.set,!0),readState:h})}});const Uc=cu({fields:E8,name:"sliding",active:C8,apis:yoe,state:Y1});var jT=Object.freeze({__proto__:null,events:(s,l)=>{const g=s.stream.streams.setup(s,l);return Ta([dn(s.event,g),ev(()=>l.cancel())].concat(s.cancelEvent.map(E=>[dn(E,()=>l.cancel())]).getOr([])))}});const w8=s=>{const l=wn(null);return wf({readState:()=>({timer:l.get()!==null?"set":"unset"}),setTimer:O=>{l.set(O)},cancel:()=>{const O=l.get();O!==null&&O.cancel()}})};var A8=Object.freeze({__proto__:null,throttle:w8,init:s=>s.stream.streams.state(s)});const pV=(s,l)=>{const h=s.stream,g=$l(s.onStream,h.delay);return l.setTimer(g),(E,O)=>{g.throttle(E,O),h.stopEvent&&O.stop()}};var XM=[Fu("stream",ud("mode",{throttle:[xn("delay"),Wt("stopEvent",!0),ia("streams",{setup:pV,state:w8})]})),Wt("event","input"),li("cancelEvent"),C1("onStream")];const JM=cu({fields:XM,name:"streaming",active:jT,state:A8});var mV=Object.freeze({__proto__:null,exhibit:(s,l)=>Ym({attributes:Wv([{key:l.tabAttr,value:"true"}])})}),Eoe=[Wt("tabAttr","data-alloy-tabstop")];const ma=cu({fields:Eoe,name:"tabstopping",active:mV}),woe=(s,l,h)=>{const g=l.aria;g.update(s,g,h.get())},_oe=(s,l,h)=>{l.toggleClass.each(g=>{h.get()?Ei(s.element,g):ai(s.element,g)})},X1=(s,l,h,g)=>{const E=h.get();h.set(g),_oe(s,l,h),woe(s,l,h),E!==g&&l.onToggled(s,g)},T8=(s,l,h)=>{X1(s,l,h,!h.get())},x8=(s,l,h)=>{X1(s,l,h,!0)},gV=(s,l,h)=>{X1(s,l,h,!1)},Aoe=(s,l,h)=>h.get(),QM=(s,l,h)=>{X1(s,l,h,l.selected)};var vV=Object.freeze({__proto__:null,onLoad:QM,toggle:T8,isOn:Aoe,on:x8,off:gV,set:X1}),O8=Object.freeze({__proto__:null,exhibit:()=>Ym({}),events:(s,l)=>{const h=M4(s,l,T8),g=hI(s,l,QM);return Ta(mn([s.toggleOnExecute?[h]:[],[g]]))}});const xoe=(s,l,h)=>{rs(s.element,"aria-pressed",h),l.syncWithExpanded&&k8(s,l,h)},I8=(s,l,h)=>{rs(s.element,"aria-selected",h)},R8=(s,l,h)=>{rs(s.element,"aria-checked",h)},k8=(s,l,h)=>{rs(s.element,"aria-expanded",h)};var Ooe=[Wt("selected",!1),li("toggleClass"),Wt("toggleOnExecute",!0),kr("onToggled"),dd("aria",{mode:"none"},ud("mode",{pressed:[Wt("syncWithExpanded",!1),ia("update",xoe)],checked:[ia("update",R8)],expanded:[ia("update",k8)],selected:[ia("update",I8)],none:[ia("update",re)]}))];const Dr=cu({fields:Ooe,name:"toggling",active:O8,apis:vV,state:pI(!1)}),D8=uo("tooltip.exclusive"),JI=uo("tooltip.show"),WT=uo("tooltip.hide"),GT=uo("tooltip.immediateHide"),QI=uo("tooltip.immediateShow"),bV=(s,l,h)=>{s.getSystem().broadcastOn([D8],{})};var M8=Object.freeze({__proto__:null,hideAllExclusive:bV,immediateOpenClose:(s,l,h,g)=>Cr(s,g?QI:GT),isEnabled:(s,l,h)=>h.isEnabled(),setComponents:(s,l,h,g)=>{h.getTooltip().each(E=>{E.getSystem().isConnected()&&js.set(E,g)})},setEnabled:(s,l,h,g)=>h.setEnabled(g)}),P8=Object.freeze({__proto__:null,events:(s,l)=>{const h=I=>{l.getTooltip().each(q=>{q.getSystem().isConnected()&&(rb(q),s.onHide(I,q),l.clearTooltip())}),l.clearTimer()},g=I=>{if(!l.isShowing()&&l.isEnabled()){bV(I);const q=s.lazySink(I).getOrDie(),Y=I.getSystem().build({dom:s.tooltipDom,components:s.tooltipComponents,events:Ta(s.mode==="normal"?[dn(vf(),ne=>{Cr(I,JI)}),dn(_l(),ne=>{Cr(I,WT)})]:[]),behaviours:Qn([js.config({})])});l.setTooltip(Y),sb(q,Y),s.onShow(I,Y),Gd.position(q,Y,{anchor:s.anchor(I)})}},E=I=>{l.getTooltip().each(q=>{const Y=s.lazySink(I).getOrDie();Gd.position(Y,q,{anchor:s.anchor(I)})})},O=()=>{switch(s.mode){case"normal":return[dn(bf(),I=>{Cr(I,QI)}),dn(yf(),I=>{Cr(I,GT)}),dn(vf(),I=>{Cr(I,JI)}),dn(_l(),I=>{Cr(I,WT)})];case"follow-highlight":return[dn(Kv(),(I,q)=>{Cr(I,JI)}),dn(nC(),I=>{Cr(I,WT)})];case"children-normal":return[dn(bf(),(I,q)=>{Ga(I.element).each(Y=>{L(q.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{Cr(I,QI)},ne=>{l.isShowing()&&(s.onShow(I,ne),E(I))})})}),dn(yf(),I=>{Ga(I.element).fold(()=>{Cr(I,GT)},re)}),dn(vf(),I=>{oi(I.element,"[data-mce-tooltip]:hover").each(q=>{l.getTooltip().fold(()=>{Cr(I,JI)},Y=>{l.isShowing()&&(s.onShow(I,Y),E(I))})})}),dn(_l(),I=>{oi(I.element,"[data-mce-tooltip]:hover").fold(()=>{Cr(I,WT)},re)})];default:return[dn(bf(),(I,q)=>{Ga(I.element).each(Y=>{L(q.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{Cr(I,QI)},ne=>{l.isShowing()&&(s.onShow(I,ne),E(I))})})}),dn(yf(),I=>{Ga(I.element).fold(()=>{Cr(I,GT)},re)})]}};return Ta(mn([[iD(I=>{s.onSetup(I)}),dn(JI,I=>{l.resetTimer(()=>{g(I)},s.delayForShow())}),dn(WT,I=>{l.resetTimer(()=>{h(I)},s.delayForHide())}),dn(QI,I=>{l.resetTimer(()=>{g(I)},0)}),dn(GT,I=>{l.resetTimer(()=>{h(I)},0)}),dn(Qp(),(I,q)=>{const Y=q;Y.universal||(vn(Y.channels,D8)||vn(Y.channels,fw()))&&(Y.data.closedTooltip&&l.isShowing()&&Y.data.closedTooltip(),h(I))}),ev(I=>{h(I)})],O()]))}}),Doe=[xn("lazySink"),xn("tooltipDom"),Wt("exclusive",!0),Wt("tooltipComponents",[]),ci("delayForShow",F(300)),ci("delayForHide",F(100)),ci("onSetup",re),dh("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Wt("anchor",s=>({type:"hotspot",hotspot:s,layouts:{onLtr:F([ac,ic,Fa,Ha,Hi,al]),onRtl:F([ac,ic,Fa,Ha,Hi,al])},bubble:Hn(0,-2,{})})),kr("onHide"),kr("onShow")],N8=Object.freeze({__proto__:null,init:()=>{const s=wn(!0),l=ms(),h=ms(),g=()=>{l.on(clearTimeout)},E=(I,q)=>{g(),l.set(setTimeout(I,q))},O=F("not-implemented");return wf({getTooltip:h.get,isShowing:h.isSet,setTooltip:h.set,clearTooltip:h.clear,clearTimer:g,resetTimer:E,readState:O,isEnabled:()=>s.get(),setEnabled:I=>s.set(I)})}});const ga=cu({fields:Doe,name:"tooltipping",active:P8,state:N8,apis:M8});var B8=Object.freeze({__proto__:null,events:()=>Ta([rT(kA(),gt)]),exhibit:()=>Ym({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const qT=cu({fields:[],name:"unselecting",active:B8}),Poe=s=>{const l=s.dom.attributes!==void 0?s.dom.attributes:[];return Is(l,(h,g)=>g.name==="class"?h:{...h,[g.name]:g.value},{})},yV=s=>Array.prototype.slice.call(s.dom.classList,0),J1=s=>{const l=to.fromHtml(s),h=fr(l),g=Poe(l),E=yV(l),O=h.length===0?{}:{innerHtml:sh(l)};return{tag:tu(l),classes:E,attributes:g,...O}},di=s=>{const l=Jte(s)&&eo(s,"uid")?s.uid:$1("memento");return{get:O=>O.getSystem().getByUid(l).getOrDie(),getOpt:O=>O.getSystem().getByUid(l).toOptional(),asSpec:()=>({...s,uid:l})}},zc=Ft,bp=D,Noe=(s,l)=>{const h=wn(!1),g=wn(!1);return{stop:()=>{h.set(!0)},cut:()=>{g.set(!0)},isStopped:h.get,isCut:g.get,event:s,setSource:l.set,getSource:l.get}},SV=s=>{const l=wn(!1);return{stop:()=>{l.set(!0)},cut:re,isStopped:l.get,isCut:rt,event:s,setSource:we("Cannot set source of a broadcasted event"),getSource:we("Cannot get source of a broadcasted event")}},eP=s=>s.raw.which===gI[0]&&!vn(["input","textarea"],tu(s.target))&&!Xb(s.target,'[contenteditable="true"]'),Loe=(s,l)=>{const h={stopBackspace:!0,...l},g=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],E=Hc(h),O=qt(g.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),ze=>ti(s,ze,Ge=>{E.fireIfReady(Ge,ze).each(ft=>{ft&&Ge.kill()}),h.triggerEvent(ze,Ge)&&Ge.kill()})),I=ms(),q=ti(s,"paste",ze=>{E.fireIfReady(ze,"paste").each(et=>{et&&ze.kill()}),h.triggerEvent("paste",ze)&&ze.kill(),I.set(setTimeout(()=>{h.triggerEvent(Wm(),ze)},0))}),Y=ti(s,"keydown",ze=>{h.triggerEvent("keydown",ze)?ze.kill():h.stopBackspace&&eP(ze)&&ze.prevent()}),ne=ti(s,"focusin",ze=>{h.triggerEvent("focusin",ze)&&ze.kill()}),he=ms(),ve=ti(s,"focusout",ze=>{h.triggerEvent("focusout",ze)&&ze.kill(),he.set(setTimeout(()=>{h.triggerEvent(yf(),ze)},0))});return{unbind:()=>{Tn(O,ze=>{ze.unbind()}),Y.unbind(),ne.unbind(),ve.unbind(),q.unbind(),I.on(clearTimeout),he.on(clearTimeout)}}},CV=(s,l)=>{const h=Zt(s,"target").getOr(l);return wn(h)},ZT=Ho.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),EV=(s,l,h,g,E,O)=>{const I=s(l,g),q=Noe(h,E);return I.fold(()=>(O.logEventNoHandlers(l,g),ZT.complete()),Y=>{const ne=Y.descHandler;return _y(ne)(q),q.isStopped()?(O.logEventStopped(l,Y.element,ne.purpose),ZT.stopped()):q.isCut()?(O.logEventCut(l,Y.element,ne.purpose),ZT.complete()):jn(Y.element).fold(()=>(O.logNoParent(l,Y.element,ne.purpose),ZT.complete()),ve=>(O.logEventResponse(l,Y.element,ne.purpose),ZT.resume(ve)))})},tP=(s,l,h,g,E,O)=>EV(s,l,h,g,E,O).fold(gt,I=>tP(s,l,h,I,E,O),rt),V8=(s,l,h,g,E)=>{const O=CV(h,g);return EV(s,l,h,g,O,E)},Boe=(s,l,h)=>{const g=SV(l);return Tn(s,E=>{const O=E.descHandler;_y(O)(g)}),g.isStopped()},F8=(s,l,h,g)=>wV(s,l,h,h.target,g),wV=(s,l,h,g,E)=>{const O=CV(h,g);return tP(s,l,h,g,O,E)},H8=(s,l)=>({element:s,descHandler:l}),$8=(s,l)=>({id:s,descHandler:l}),Voe=()=>{const s={},l=(I,q,Y)=>{Ps(Y,(ne,he)=>{const ve=s[he]!==void 0?s[he]:{};ve[q]=DT(ne,I),s[he]=ve})},h=(I,q)=>iv(q).bind(Y=>Zt(I,Y)).map(Y=>H8(q,Y));return{registerId:l,unregisterId:I=>{Ps(s,(q,Y)=>{Zn(q,I)&&delete q[I]})},filterByType:I=>Zt(s,I).map(q=>jt(q,(Y,ne)=>$8(ne,Y))).getOr([]),find:(I,q,Y)=>Zt(s,q).bind(ne=>Nu(Y,he=>h(ne,he),I))}},_V=()=>{const s=Voe(),l={},h=ne=>{const he=ne.element;return iv(he).getOrThunk(()=>iM("uid-",ne.element))},g=(ne,he)=>{const ve=l[he];if(ve===ne)O(ne);else throw new Error('The tagId "'+he+'" is already used by: '+hh(ve.element)+`
Cannot use it for: `+hh(ne.element)+`
The conflicting element is`+($r(ve.element)?" ":" not ")+"already in the DOM")},E=ne=>{const he=h(ne);eo(l,he)&&g(ne,he);const ve=[ne];s.registerId(ve,he,ne.events),l[he]=ne},O=ne=>{iv(ne.element).each(he=>{delete l[he],s.unregisterId(he)})};return{find:(ne,he,ve)=>s.find(ne,he,ve),filter:ne=>s.filterByType(ne),register:E,unregister:O,getById:ne=>Zt(l,ne)}},AV=s=>{const l=Je=>jn(s.element).fold(gt,yt=>xe(Je,yt)),h=_V(),g=(Je,yt)=>h.find(l,Je,yt),E=Loe(s.element,{triggerEvent:(Je,yt)=>Yv(Je,yt.target,At=>F8(g,Je,yt,At))}),O={debugInfo:F("real"),triggerEvent:(Je,yt,At)=>{Yv(Je,yt,Xt=>wV(g,Je,At,yt,Xt))},triggerFocus:(Je,yt)=>{iv(Je).fold(()=>{oa(Je)},At=>{Yv(dp(),Je,Xt=>(V8(g,dp(),{originator:yt,kill:re,prevent:re,target:Je},Je,Xt),!1))})},triggerEscape:(Je,yt)=>{O.triggerEvent("keydown",Je.element,yt.event)},getByUid:Je=>et(Je),getByDom:Je=>ft(Je),build:k,buildOrPatch:w,addToGui:Je=>{Y(Je)},removeFromGui:Je=>{ne(Je)},addToWorld:Je=>{I(Je)},removeFromWorld:Je=>{q(Je)},broadcast:Je=>{Re(Je)},broadcastOn:(Je,yt)=>{ze(Je,yt)},broadcastEvent:(Je,yt)=>{Ge(Je,yt)},isConnected:gt},I=Je=>{Je.connect(O),Dh(Je.element)||(h.register(Je),Tn(Je.components(),I),O.triggerEvent(eC(),Je.element,{target:Je.element}))},q=Je=>{Dh(Je.element)||(Tn(Je.components(),q),h.unregister(Je)),Je.disconnect()},Y=Je=>{sb(s,Je)},ne=Je=>{rb(Je)},he=()=>{E.unbind(),Nd(s.element)},ve=Je=>{const yt=h.filter(Qp());Tn(yt,At=>{const Xt=At.descHandler;_y(Xt)(Je)})},Re=Je=>{ve({universal:!0,data:Je})},ze=(Je,yt)=>{ve({universal:!1,channels:Je,data:yt})},Ge=(Je,yt)=>{const At=h.filter(Je);return Boe(At,yt)},et=Je=>h.getById(Je).fold(()=>$o.error(new Error('Could not find component with uid: "'+Je+'" in system.')),$o.value),ft=Je=>{const yt=iv(Je).getOr("not found");return et(yt)};return I(s),{root:s,element:s.element,destroy:he,add:Y,remove:ne,getByUid:et,getByDom:ft,addToWorld:I,removeFromWorld:q,broadcast:Re,broadcastOn:ze,broadcastEvent:Ge}},U8=()=>{const s=(l,h)=>{h.stop(),cw(l)};return[dn(jm(),s),dn(em(),s),I1(zg()),I1(hd())]},TV=s=>{const l=h=>yy((g,E)=>{h(g),E.stop()});return Ta(mn([s.map(l).toArray(),U8()]))},gd=og({name:"Button",factory:s=>{const l=TV(s.action),h=s.dom.tag,g=O=>Zt(s.dom,"attributes").bind(I=>Zt(I,O)),E=()=>{if(h==="button"){const O=g("type").getOr("button"),I=g("role").map(q=>({role:q})).getOr({});return{type:O,...I}}else return{role:s.role.getOr(g("role").getOr("button"))}};return{uid:s.uid,dom:s.dom,components:s.components,events:l,behaviours:cm.augment(s.buttonBehaviours,[Hs.config({}),Xo.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:E()},eventOrder:s.eventOrder}},configFields:[Wt("uid",void 0),xn("dom"),Wt("components",[]),cm.field("buttonBehaviours",[Hs,Xo]),li("action"),li("role"),Wt("eventOrder",{})]}),Foe=F([Wt("shell",!1),xn("makeItem"),Wt("setupItem",re),cm.field("listBehaviours",[js])]),z8=C({name:"items",overrides:()=>({behaviours:Qn([js.config({})])})}),Hoe=F([z8]),$oe=F("CustomList"),xV=(s,l,h,g)=>{const E=(q,Y)=>{I(q).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},ne=>{const he=js.contents(ne),ve=Y.length,Re=ve-he.length,ze=Re>0?Nn(Re,()=>s.makeItem()):[],Ge=he.slice(ve);Tn(Ge,ft=>js.remove(ne,ft)),Tn(ze,ft=>js.append(ne,ft));const et=js.contents(ne);Tn(et,(ft,Je)=>{s.setupItem(q,ft,Y[Je],Je)})})},O=s.shell?{behaviours:[js.config({})],components:[]}:{behaviours:[],components:l},I=q=>s.shell?ee.some(q):ke(q,s,"items");return{uid:s.uid,dom:s.dom,components:O.components,behaviours:fu(s.listBehaviours,O.behaviours),apis:{setItems:E}}},j8=Of({name:$oe(),configFields:Foe(),partFields:Hoe(),factory:xV,apis:{setItems:(s,l,h)=>{s.setItems(l,h)}}}),eR="aria-controls",Uoe=s=>Bv(s,h=>{if(!Ac(h))return!1;const g=fl(h,"id");return g!==void 0&&g.indexOf(eR)>-1}).bind(h=>{const g=fl(h,"id"),E=ta(h);return oi(E,`[${eR}="${g}"]`)}),W8=()=>{const s=uo(eR);return{id:s,link:g=>{rs(g,eR,s)},unlink:g=>{sa(g,eR)}}},zoe=(s,l)=>Uoe(l).exists(h=>DC(s,h)),DC=(s,l)=>Yb(l,h=>xe(h,s.element),rt)||zoe(s,l),G8="alloy.item-hover",q8="alloy.item-focus",Z8="alloy.item-toggled",OV=s=>{(Ga(s.element).isNone()||Hs.isFocused(s))&&(Hs.isFocused(s)||Hs.focus(s),cs(s,G8,{item:s}))},K8=s=>{cs(s,q8,{item:s})},joe=(s,l)=>{cs(s,Z8,{item:s,state:l})},IV=F(G8),Woe=F(q8),Y8=F(Z8),X8=s=>s.role.fold(()=>s.toggling.map(l=>l.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Me),RV=(s,l)=>({aria:{mode:l?"selected":"checked"},...Jt(s,(h,g)=>g!=="exclusive"),onToggled:(h,g)=>{K(s.onToggled)&&s.onToggled(h,g),joe(h,g)}}),Goe=s=>({dom:s.dom,domModification:{...s.domModification,attributes:{role:X8(s),...s.domModification.attributes,"aria-haspopup":s.hasSubmenu,...s.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:cm.augment(s.itemBehaviours,[s.toggling.fold(Dr.revoke,l=>Dr.config(RV(l,s.role.exists(h=>h==="option")))),Hs.config({ignore:s.ignoreFocus,stopMousedown:s.ignoreFocus,onFocus:l=>{K8(l)}}),Xo.config({mode:"execution"}),po.config({store:{mode:"memory",initialValue:s.data}}),Fs("item-type-events",[...U8(),dn(vf(),OV),dn(hy(),Hs.focus)])]),components:s.components,eventOrder:s.eventOrder});var Zoe=[xn("data"),xn("components"),xn("dom"),Wt("hasSubmenu",!1),li("toggling"),li("role"),cm.field("itemBehaviours",[Dr,Hs,Xo,po]),Wt("ignoreFocus",!1),Wt("domModification",{}),ia("builder",Goe),Wt("eventOrder",{})];const tR=s=>({dom:s.dom,components:s.components,events:Ta([dI(hy())])});var Koe=[xn("dom"),xn("components"),ia("builder",tR)];const kV=F("item-widget"),nR=F([Q({name:"widget",overrides:s=>({behaviours:Qn([po.config({store:{mode:"manual",getValue:l=>s.data,setValue:re}})])})})]),J8=s=>{const l=Ce(kV(),s,nR()),h=Ae(kV(),s,l.internals()),g=O=>ke(O,s,"widget").map(I=>(Xo.focusIn(I),I)),E=(O,I)=>eb(I.event.target)?ee.none():(s.autofocus&&I.setSource(O.element),ee.none());return{dom:s.dom,components:h,domModification:s.domModification,events:Ta([yy((O,I)=>{g(O).each(q=>{I.stop()})}),dn(vf(),OV),dn(hy(),(O,I)=>{s.autofocus?g(O):Hs.focus(O)})]),behaviours:cm.augment(s.widgetBehaviours,[po.config({store:{mode:"memory",initialValue:s.data}}),Hs.config({ignore:s.ignoreFocus,onFocus:O=>{K8(O)}}),Xo.config({mode:"special",focusIn:s.autofocus?O=>{g(O)}:uD(),onLeft:E,onRight:E,onEscape:(O,I)=>!Hs.isFocused(O)&&!s.autofocus?(Hs.focus(O),ee.some(!0)):(s.autofocus&&I.setSource(O.element),ee.none())})])}};var DV=[xn("uid"),xn("data"),xn("components"),xn("dom"),Wt("autofocus",!1),Wt("ignoreFocus",!1),cm.field("widgetBehaviours",[po,Hs,Xo]),Wt("domModification",{}),Bt(nR()),ia("builder",J8)];const Yoe=ud("type",{widget:DV,item:Zoe,separator:Koe}),Xoe=(s,l)=>({mode:"flatgrid",selector:"."+s.markers.item,initSize:{numColumns:l.initSize.numColumns,numRows:l.initSize.numRows},focusManager:s.focusManager}),oP=(s,l)=>({mode:"matrix",selectors:{row:l.rowSelector,cell:"."+s.markers.item},previousSelector:l.previousSelector,focusManager:s.focusManager}),Q8=(s,l)=>({mode:"menu",selector:"."+s.markers.item,moveOnTab:l.moveOnTab,focusManager:s.focusManager}),e7=F([A({factory:{sketch:s=>{const l=cd("menu.spec item",Yoe,s);return l.builder(l)}},name:"items",unit:"item",defaults:(s,l)=>Zn(l,"uid")?l:{...l,uid:$1("item")},overrides:(s,l)=>({type:l.type,ignoreFocus:s.fakeFocus,domModification:{classes:[s.markers.item]}})})]),Joe=F([il("role"),xn("value"),xn("items"),xn("dom"),xn("components"),Wt("eventOrder",{}),zu("menuBehaviours",[ri,po,an,Xo]),dd("movement",{mode:"menu",moveOnTab:!0},ud("mode",{grid:[E1(),ia("config",Xoe)],matrix:[ia("config",oP),xn("rowSelector"),Wt("previousSelector",ee.none)],menu:[Wt("moveOnTab",!0),ia("config",Q8)]})),HA(),Wt("fakeFocus",!1),Wt("focusManager",uT()),kr("onHighlight"),kr("onDehighlight"),Wt("showMenuRole",!0)]),t7=F("alloy.menu-focus"),Qoe=(s,l)=>{const h=wi(s.element,'[role="menuitemradio"][aria-checked="true"]');Tn(h,g=>{xe(g,l.element)||s.getSystem().getByDom(g).each(E=>{Dr.off(E)})})},ese=(s,l,h,g)=>({uid:s.uid,dom:s.dom,markers:s.markers,behaviours:fu(s.menuBehaviours,[ri.config({highlightClass:s.markers.selectedItem,itemClass:s.markers.item,onHighlight:s.onHighlight,onDehighlight:s.onDehighlight}),po.config({store:{mode:"memory",initialValue:s.value}}),an.config({find:ee.some}),Xo.config(s.movement.config(s,s.movement))]),events:Ta([dn(Woe(),(E,O)=>{const I=O.event;E.getSystem().getByDom(I.target).each(q=>{ri.highlight(E,q),O.stop(),cs(E,t7(),{menu:E,item:q})})}),dn(IV(),(E,O)=>{const I=O.event.item;ri.highlight(E,I)}),dn(Y8(),(E,O)=>{const{item:I,state:q}=O.event;q&&fl(I.element,"role")==="menuitemradio"&&Qoe(E,I)})]),components:l,eventOrder:s.eventOrder,...s.showMenuRole?{domModification:{attributes:{role:s.role.getOr("menu")}}}:{}}),Q1=Of({name:"Menu",configFields:Joe(),partFields:e7(),factory:ese}),tse=s=>Zs(s,(l,h)=>({k:l,v:h})),n7=(s,l,h,g)=>Zt(h,g).bind(E=>Zt(s,E).bind(O=>{const I=n7(s,l,h,O);return ee.some([O].concat(I))})).getOr([]),nse=(s,l)=>{const h={};Ps(s,(I,q)=>{Tn(I,Y=>{h[Y]=q})});const g=l,E=tse(l),O=ys(E,(I,q)=>[q].concat(n7(h,g,E,q)));return ys(h,I=>Zt(O,I).getOr([I]))},ose=()=>{const s=wn({}),l=wn({}),h=wn({}),g=ms(),E=wn({}),O=()=>{s.set({}),l.set({}),h.set({}),g.clear()},I=()=>g.get().isNone(),q=(en,ro)=>{l.set({...l.get(),[en]:{type:"prepared",menu:ro}})},Y=(en,ro,kn,zn)=>{g.set(en),s.set(kn),l.set(ro),E.set(zn);const Vn=nse(zn,kn);h.set(Vn)},ne=en=>wo(s.get(),(ro,kn)=>ro===en),he=(en,ro,kn)=>et(en).bind(zn=>ne(en).bind(Vn=>ro(Vn).map(ds=>({triggeredMenu:zn,triggeringItem:ds,triggeringPath:kn})))),ve=(en,ro)=>{const kn=ws(Je(en).toArray(),zn=>et(zn).isSome());return Zt(h.get(),en).bind(zn=>{const Vn=Dt(kn.concat(zn)),ds=Ze(Vn,(Wo,Ir)=>he(Wo,ro,Vn.slice(0,Ir+1)).fold(()=>Mc(g.get(),Wo)?[]:[ee.none()],Es=>[ee.some(Es)]));return th(ds)})},Re=en=>Zt(s.get(),en).map(ro=>{const kn=Zt(h.get(),en).getOr([]);return[ro].concat(kn)}),ze=en=>Zt(h.get(),en).bind(ro=>ro.length>1?ee.some(ro.slice(1)):ee.none()),Ge=en=>Zt(h.get(),en),et=en=>ft(en).bind(o7),ft=en=>Zt(l.get(),en),Je=en=>Zt(s.get(),en);return{setMenuBuilt:q,setContents:Y,expand:Re,refresh:Ge,collapse:ze,lookupMenu:ft,lookupItem:Je,otherMenus:en=>{const ro=E.get();return je(Io(ro),en)},getPrimary:()=>g.get().bind(et),getMenus:()=>l.get(),clear:O,isClear:I,getTriggeringPath:ve}},o7=s=>s.type==="prepared"?ee.some(s.menu):ee.none(),sP={init:ose,extractPreparedMenu:o7},MV=uo("tiered-menu-item-highlight"),s7=uo("tiered-menu-item-dehighlight"),sse=(s,l)=>{const h=ms(),g=(In,no,xs)=>ys(xs,(er,Jo)=>{const Ys=()=>Q1.sketch({...er,value:Jo,markers:s.markers,fakeFocus:s.fakeFocus,onHighlight:(Oi,bi)=>{cs(Oi,MV,{menuComp:Oi,itemComp:bi})},onDehighlight:(Oi,bi)=>{cs(Oi,s7,{menuComp:Oi,itemComp:bi})},focusManager:s.fakeFocus?EI():uT()});return Jo===no?{type:"prepared",menu:In.getSystem().build(Ys())}:{type:"notbuilt",nbMenu:Ys}}),E=sP.init(),O=In=>{const no=g(In,s.data.primary,s.data.menus),xs=Y();return E.setContents(s.data.primary,no,s.data.expansions,xs),E.getPrimary()},I=In=>po.getValue(In).value,q=(In,no,xs)=>Ko(no,er=>{if(!er.getSystem().isConnected())return ee.none();const Jo=ri.getCandidates(er);return kt(Jo,Ys=>I(Ys)===xs)}),Y=In=>ys(s.data.menus,(no,xs)=>Ze(no.items,er=>er.type==="separator"?[]:[er.data.value])),ne=ri.highlight,he=(In,no)=>{ne(In,no),ri.getHighlighted(no).orThunk(()=>ri.getFirst(no)).each(xs=>{s.fakeFocus?ri.highlight(no,xs):sT(In,xs.element,hy())})},ve=(In,no)=>Au(qt(no,xs=>In.lookupMenu(xs).bind(er=>er.type==="prepared"?ee.some(er.menu):ee.none()))),Re=(In,no,xs)=>{const er=ve(no,no.otherMenus(xs));Tn(er,Jo=>{xc(Jo.element,[s.markers.backgroundMenu]),s.stayInDom||js.remove(In,Jo)})},ze=In=>h.get().getOrThunk(()=>{const no={},xs=wi(In.element,`.${s.markers.item}`),er=ws(xs,Jo=>fl(Jo,"aria-haspopup")==="true");return Tn(er,Jo=>{In.getSystem().getByDom(Jo).each(Ys=>{const Oi=I(Ys);no[Oi]=Ys})}),h.set(no),no}),Ge=(In,no)=>{const xs=ze(In);Ps(xs,(er,Jo)=>{const Ys=vn(no,Jo);rs(er.element,"aria-expanded",Ys)})},et=(In,no,xs)=>ee.from(xs[0]).bind(er=>no.lookupMenu(er).bind(Jo=>{if(Jo.type==="notbuilt")return ee.none();{const Ys=Jo.menu,Oi=ve(no,xs.slice(1));return Tn(Oi,bi=>{Ei(bi.element,s.markers.backgroundMenu)}),$r(Ys.element)||js.append(In,W(Ys)),xc(Ys.element,[s.markers.backgroundMenu]),he(In,Ys),Re(In,no,xs),ee.some(Ys)}}));let ft;(function(In){In[In.HighlightSubmenu=0]="HighlightSubmenu",In[In.HighlightParent=1]="HighlightParent"})(ft||(ft={}));const Je=(In,no,xs)=>{if(xs.type==="notbuilt"){const er=In.getSystem().build(xs.nbMenu());return E.setMenuBuilt(no,er),er}else return xs.menu},yt=(In,no,xs=ft.HighlightSubmenu)=>{if(no.hasConfigured(Yo)&&Yo.isDisabled(no))return ee.some(no);{const er=I(no);return E.expand(er).bind(Jo=>(Ge(In,Jo),ee.from(Jo[0]).bind(Ys=>E.lookupMenu(Ys).bind(Oi=>{const bi=Je(In,Ys,Oi);return $r(bi.element)||js.append(In,W(bi)),s.onOpenSubmenu(In,no,bi,Dt(Jo)),xs===ft.HighlightSubmenu?(ri.highlightFirst(bi),et(In,E,Jo)):(ri.dehighlightAll(bi),ee.some(no))}))))}},At=(In,no)=>{const xs=I(no);return E.collapse(xs).bind(er=>(Ge(In,er),et(In,E,er).map(Jo=>(s.onCollapseMenu(In,no,Jo),Jo))))},Xt=(In,no)=>{const xs=I(no);return E.refresh(xs).bind(er=>(Ge(In,er),et(In,E,er)))},en=(In,no)=>eb(no.element)?ee.none():yt(In,no,ft.HighlightSubmenu),ro=(In,no)=>eb(no.element)?ee.none():At(In,no),kn=(In,no)=>At(In,no).orThunk(()=>s.onEscape(In,no).map(()=>In)),zn=In=>(no,xs)=>gl(xs.getSource(),`.${s.markers.item}`).bind(er=>no.getSystem().getByDom(er).toOptional().bind(Jo=>In(no,Jo).map(gt))),Vn=Ta([dn(t7(),(In,no)=>{const xs=no.event.item;E.lookupItem(I(xs)).each(()=>{const er=no.event.menu;ri.highlight(In,er);const Jo=I(no.event.item);E.refresh(Jo).each(Ys=>Re(In,E,Ys))})}),yy((In,no)=>{const xs=no.event.target;In.getSystem().getByDom(xs).each(er=>{I(er).indexOf("collapse-item")===0&&At(In,er),yt(In,er,ft.HighlightSubmenu).fold(()=>{s.onExecute(In,er)},re)})}),Ea((In,no)=>{O(In).each(xs=>{js.append(In,W(xs)),s.onOpenMenu(In,xs),s.highlightOnOpen===jd.HighlightMenuAndItem?he(In,xs):s.highlightOnOpen===jd.HighlightJustMenu&&ne(In,xs)})}),dn(MV,(In,no)=>{s.onHighlightItem(In,no.event.menuComp,no.event.itemComp)}),dn(s7,(In,no)=>{s.onDehighlightItem(In,no.event.menuComp,no.event.itemComp)}),...s.navigateOnHover?[dn(IV(),(In,no)=>{const xs=no.event.item;Xt(In,xs),yt(In,xs,ft.HighlightParent),s.onHover(In,xs)})]:[]]),ds=In=>ri.getHighlighted(In).bind(ri.getHighlighted),Wo=In=>{ds(In).each(no=>{At(In,no)})},Ir=In=>{E.getPrimary().each(no=>{he(In,no)})},Es=In=>ee.from(In.components()[0]).filter(no=>fl(no.element,"role")==="menu"),zo={collapseMenu:Wo,highlightPrimary:Ir,repositionMenus:In=>{E.getPrimary().bind(xs=>ds(In).bind(er=>{const Jo=I(er),Ys=Jn(E.getMenus()),Oi=Au(qt(Ys,sP.extractPreparedMenu));return E.getTriggeringPath(Jo,bi=>q(In,Oi,bi))}).map(er=>({primary:xs,triggeringPath:er}))).fold(()=>{Es(In).each(xs=>{s.onRepositionMenu(In,xs,[])})},({primary:xs,triggeringPath:er})=>{s.onRepositionMenu(In,xs,er)})}};return{uid:s.uid,dom:s.dom,markers:s.markers,behaviours:fu(s.tmenuBehaviours,[Xo.config({mode:"special",onRight:zn(en),onLeft:zn(ro),onEscape:zn(kn),focusIn:(In,no)=>{E.getPrimary().each(xs=>{sT(In,xs.element,hy())})}}),ri.config({highlightClass:s.markers.selectedMenu,itemClass:s.markers.menu}),an.config({find:In=>ri.getHighlighted(In)}),js.config({})]),eventOrder:s.eventOrder,apis:zo,events:Vn}},r7=F("collapse-item"),rse=(s,l,h)=>({primary:s,menus:l,expansions:h}),ise=(s,l)=>({primary:s,menus:Ug(s,l),expansions:{}}),i7=s=>({value:uo(r7()),meta:{text:s}}),MC=og({name:"TieredMenu",configFields:[oC("onExecute"),oC("onEscape"),C1("onOpenMenu"),C1("onOpenSubmenu"),kr("onRepositionMenu"),kr("onCollapseMenu"),Wt("highlightOnOpen",jd.HighlightMenuAndItem),zm("data",[xn("primary"),xn("menus"),xn("expansions")]),Wt("fakeFocus",!1),kr("onHighlightItem"),kr("onDehighlightItem"),kr("onHover"),tw(),xn("dom"),Wt("navigateOnHover",!0),Wt("stayInDom",!1),zu("tmenuBehaviours",[Xo,ri,an,js]),Wt("eventOrder",{})],apis:{collapseMenu:(s,l)=>{s.collapseMenu(l)},highlightPrimary:(s,l)=>{s.highlightPrimary(l)},repositionMenus:(s,l)=>{s.repositionMenus(l)}},factory:sse,extraApis:{tieredData:rse,singleData:ise,collapseItem:i7}}),PV=F("sink"),ase=F(C({name:PV(),overrides:F({dom:{tag:"div"},behaviours:Qn([Gd.config({useFixed:gt})]),events:Ta([I1(rc()),I1(hd()),I1(jm())])})})),lse=ch([Wt("isExtraPart",rt),uh("fireEventInstead",[Wt("event",Zg())])]),NV=s=>{const l=cd("Dismissal",lse,s);return{[Cy()]:{schema:ch([xn("target")]),onReceive:(h,g)=>{Qr.isOpen(h)&&(Qr.isPartOf(h,g.target)||l.isExtraPart(h,g.target)||l.fireEventInstead.fold(()=>Qr.close(h),O=>Cr(h,O.event)))}}}},a7=ch([uh("fireEventInstead",[Wt("event",MA())]),$h("doReposition")]),oR=s=>{const l=cd("Reposition",a7,s);return{[pd()]:{onReceive:h=>{Qr.isOpen(h)&&l.fireEventInstead.fold(()=>l.doReposition(h),g=>Cr(h,g.event))}}}},l7=(s,l)=>{const h=s.getHotspot(l).getOr(l),g="hotspot",E=s.getAnchorOverrides();return s.layouts.fold(()=>({type:g,hotspot:h,overrides:E}),O=>({type:g,hotspot:h,overrides:E,layouts:O}))},cse=(s,l,h)=>{const g=s.fetch;return g(h).map(l)},use=(s,l,h,g,E,O,I)=>{const q=cse(s,l,g),Y=LV(g,s);return q.map(ne=>ne.bind(he=>{const ve=he.menus[he.primary];return ee.from(ve).each(Re=>{s.listRole.each(ze=>{Re.role=ze})}),ee.from(MC.sketch({...O.menu(),uid:$1(""),data:he,highlightOnOpen:I,onOpenMenu:(Re,ze)=>{const Ge=Y().getOrDie();Gd.position(Ge,ze,{anchor:h}),Qr.decloak(E)},onOpenSubmenu:(Re,ze,Ge)=>{const et=Y().getOrDie();Gd.position(et,Ge,{anchor:{type:"submenu",item:ze}}),Qr.decloak(E)},onRepositionMenu:(Re,ze,Ge)=>{const et=Y().getOrDie();Gd.position(et,ze,{anchor:h}),Tn(Ge,ft=>{Gd.position(et,ft.triggeredMenu,{anchor:{type:"submenu",item:ft.triggeringItem}})})},onEscape:()=>(Hs.focus(g),Qr.close(E),ee.some(!0))}))}))},rP=(s,l,h,g,E,O,I)=>{const q=l7(s,h);return use(s,l,q,h,g,E,I).map(ne=>(ne.fold(()=>{Qr.isOpen(g)&&Qr.close(g)},he=>{Qr.cloak(g),Qr.open(g,he),O(g)}),g))},dse=(s,l,h,g,E,O,I)=>(Qr.close(g),ps.pure(g)),c7=(s,l,h,g,E,O)=>{const I=$s.getCoupled(h,"sandbox");return(Qr.isOpen(I)?dse:rP)(s,l,h,I,g,E,O)},u7=(s,l,h)=>{const g=an.getCurrent(l).getOr(l),E=bc(s.element);h?_s(g.element,"min-width",E+"px"):lh(g.element,E)},LV=(s,l)=>s.getSystem().getByUid(l.uid+"-"+PV()).map(h=>()=>$o.value(h)).getOrThunk(()=>l.lazySink.fold(()=>()=>$o.error(new Error("No internal sink is specified, nor could an external sink be found")),h=>()=>h(s))),d7=s=>{Qr.getState(s).each(l=>{MC.repositionMenus(l)})},h7=(s,l,h)=>{const g=W8(),E=(q,Y)=>{const ne=l7(s,l);g.link(l.element),s.matchWidth&&u7(ne.hotspot,Y,s.useMinWidth),s.onOpen(ne,q,Y),h!==void 0&&h.onOpen!==void 0&&h.onOpen(q,Y)},O=(q,Y)=>{g.unlink(l.element),I().getOr(Y).element.dom.dispatchEvent(new window.FocusEvent("focusout")),h!==void 0&&h.onClose!==void 0&&h.onClose(q,Y)},I=LV(l,s);return{dom:{tag:"div",classes:s.sandboxClasses,attributes:{id:g.id}},behaviours:cm.augment(s.sandboxBehaviours,[po.config({store:{mode:"memory",initialValue:l}}),Qr.config({onOpen:E,onClose:O,isPartOf:(q,Y,ne)=>DC(Y,ne)||DC(l,ne),getAttachPoint:()=>I().getOrDie()}),an.config({find:q=>Qr.getState(q).bind(Y=>an.getCurrent(Y))}),um.config({channels:{...NV({isExtraPart:rt}),...oR({doReposition:d7})}})])}},hse=s=>{const l=$s.getCoupled(s,"sandbox");d7(l)},yp=()=>[Wt("sandboxClasses",[]),cm.field("sandboxBehaviours",[an,um,Qr,po])],cb=F([xn("dom"),xn("fetch"),kr("onOpen"),Nl("onExecute"),Wt("getHotspot",ee.some),Wt("getAnchorOverrides",F({})),Gw(),zu("dropdownBehaviours",[Dr,$s,Xo,Hs]),xn("toggleClass"),Wt("eventOrder",{}),li("lazySink"),Wt("matchWidth",!1),Wt("useMinWidth",!1),li("role"),li("listRole")].concat(yp())),f7=F([m({schema:[tw(),Wt("fakeFocus",!1)],name:"menu",defaults:s=>({onExecute:s.onExecute})}),ase()]),BV=(s,l,h,g)=>{const E=he=>Zt(s.dom,"attributes").bind(ve=>Zt(ve,he)),O=he=>{Qr.getState(he).each(ve=>{MC.highlightPrimary(ve)})},I=(he,ve,Re)=>c7(s,Me,he,g,ve,Re),q=he=>{I(he,O,jd.HighlightMenuAndItem).get(re)},Y={expand:he=>{Dr.isOn(he)||I(he,re,jd.HighlightNone).get(re)},open:he=>{Dr.isOn(he)||I(he,re,jd.HighlightMenuAndItem).get(re)},refetch:he=>$s.getExistingCoupled(he,"sandbox").fold(()=>I(he,re,jd.HighlightMenuAndItem).map(re),Re=>rP(s,Me,he,Re,g,re,jd.HighlightMenuAndItem).map(re)),isOpen:Dr.isOn,close:he=>{Dr.isOn(he)&&I(he,re,jd.HighlightMenuAndItem).get(re)},repositionMenus:he=>{Dr.isOn(he)&&hse(he)}},ne=(he,ve)=>(cw(he),ee.some(!0));return{uid:s.uid,dom:s.dom,components:l,behaviours:fu(s.dropdownBehaviours,[Dr.config({toggleClass:s.toggleClass,aria:{mode:"expanded"}}),$s.config({others:{sandbox:he=>h7(s,he,{onOpen:()=>Dr.on(he),onClose:()=>Dr.off(he)})}}),Xo.config({mode:"special",onSpace:ne,onEnter:ne,onDown:(he,ve)=>{if(Rf.isOpen(he)){const Re=$s.getCoupled(he,"sandbox");O(Re)}else Rf.open(he);return ee.some(!0)},onEscape:(he,ve)=>Rf.isOpen(he)?(Rf.close(he),ee.some(!0)):ee.none()}),Hs.config({})]),events:TV(ee.some(q)),eventOrder:{...s.eventOrder,[au()]:["disabling","toggling","alloy.base.behaviour"]},apis:Y,domModification:{attributes:{"aria-haspopup":s.listRole.getOr("true"),...s.role.fold(()=>({}),he=>({role:he})),...s.dom.tag==="button"?{type:E("type").getOr("button")}:{}}}}},Rf=Of({name:"Dropdown",configFields:cb(),partFields:f7(),factory:BV,apis:{open:(s,l)=>s.open(l),refetch:(s,l)=>s.refetch(l),expand:(s,l)=>s.expand(l),close:(s,l)=>s.close(l),isOpen:(s,l)=>s.isOpen(l),repositionMenus:(s,l)=>s.repositionMenus(l)}}),sR="form",fse=[zu("formBehaviours",[po])],VV=s=>"<alloy.field."+s+">",rR=s=>{const l=(()=>{const O=[];return{field:(q,Y)=>(O.push(q),ue(sR,VV(q),Y)),record:F(O)}})(),h=s(l),g=l.record(),E=qt(g,O=>Q({name:O,pname:VV(O)}));return aj(sR,fse,E,iP,h)},pse=(s,l)=>s.fold(()=>$o.error(l),$o.value),iP=(s,l)=>({uid:s.uid,dom:s.dom,components:l,behaviours:fu(s.formBehaviours,[po.config({store:{mode:"manual",getValue:h=>{const g=tt(h,s);return ys(g,(E,O)=>E().bind(I=>{const q=an.getCurrent(I);return pse(q,new Error(`Cannot find a current component to extract the value from for form part '${O}': `+hh(I.element)))}).map(po.getValue))},setValue:(h,g)=>{Ps(g,(E,O)=>{ke(h,s,O).each(I=>{an.getCurrent(I).each(q=>{po.setValue(q,E)})})})}}})]),apis:{getField:(h,g)=>ke(h,s,g).bind(an.getCurrent)}}),PC={getField:wy((s,l,h)=>s.getField(l,h)),sketch:rR},qw=F([xn("dom"),Wt("shell",!0),zu("toolbarBehaviours",[js])]),mse=F([C({name:"groups",overrides:()=>({behaviours:Qn([js.config({})])})})]),gse=(s,l,h,g)=>{const E=(q,Y)=>{O(q).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},ne=>{js.set(ne,Y)})},O=q=>s.shell?ee.some(q):ke(q,s,"groups"),I=s.shell?{behaviours:[js.config({})],components:[]}:{behaviours:[],components:l};return{uid:s.uid,dom:s.dom,components:I.components,behaviours:fu(s.toolbarBehaviours,I.behaviours),apis:{setGroups:E,refresh:re},domModification:{attributes:{role:"group"}}}},vd=Of({name:"Toolbar",configFields:qw(),partFields:mse(),factory:gse,apis:{setGroups:(s,l,h)=>{s.setGroups(l,h)}}}),hm=F([ph(["toggledClass"]),xn("lazySink"),$h("fetch"),Yp("getBounds"),uh("fireDismissalEventInstead",[Wt("event",Zg())]),Gw(),kr("onToggled")]),iR=F([m({name:"button",overrides:s=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Qn([Dr.config({toggleClass:s.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:s.onToggled})])})}),m({factory:vd,schema:qw(),name:"toolbar",overrides:s=>({toolbarBehaviours:Qn([Xo.config({mode:"cyclic",onEscape:l=>(ke(l,s,"button").each(Hs.focus),ee.none())})])})})]),Wh=ms(),vse=(s,l)=>{Wh.set(!0),aa(s,l),Wh.clear()},aa=(s,l)=>{const h=$s.getCoupled(s,"toolbarSandbox");Qr.isOpen(h)?Qr.close(h):Qr.open(h,l.toolbar())},FV=(s,l,h,g)=>{const E=h.getBounds.map(I=>I()),O=h.lazySink(s).getOrDie();Gd.positionWithinBounds(O,l,{anchor:{type:"hotspot",hotspot:s,layouts:g,overrides:{maxWidthFunction:iI()}}},E)},T0=(s,l,h,g,E)=>{vd.setGroups(l,E),FV(s,l,h,g),Dr.on(s)},aR=(s,l,h)=>{const g=W8(),E=(I,q)=>{const Y=Wh.get().getOr(!1);h.fetch().get(ne=>{T0(s,q,h,l.layouts,ne),g.link(s.element),Y||Xo.focusIn(q)})},O=()=>{Dr.off(s),Wh.get().getOr(!1)||Hs.focus(s),g.unlink(s.element)};return{dom:{tag:"div",attributes:{id:g.id}},behaviours:Qn([Xo.config({mode:"special",onEscape:I=>(Qr.close(I),ee.some(!0))}),Qr.config({onOpen:E,onClose:O,isPartOf:(I,q,Y)=>DC(q,Y)||DC(s,Y),getAttachPoint:()=>h.lazySink(s).getOrDie()}),um.config({channels:{...NV({isExtraPart:rt,...h.fireDismissalEventInstead.map(I=>({fireEventInstead:{event:I.event}})).getOr({})}),...oR({doReposition:()=>{Qr.getState($s.getCoupled(s,"toolbarSandbox")).each(I=>{FV(s,I,h,l.layouts)})}})}})])}},x0=Of({name:"FloatingToolbarButton",factory:(s,l,h,g)=>({...gd.sketch({...g.button(),action:E=>{aa(E,g)},buttonBehaviours:cm.augment({dump:g.button().buttonBehaviours},[$s.config({others:{toolbarSandbox:E=>aR(E,h,s)}})])}),apis:{setGroups:(E,O)=>{Qr.getState($s.getCoupled(E,"toolbarSandbox")).each(I=>{T0(E,I,s,h.layouts,O)})},reposition:E=>{Qr.getState($s.getCoupled(E,"toolbarSandbox")).each(O=>{FV(E,O,s,h.layouts)})},toggle:E=>{aa(E,g)},toggleWithoutFocusing:E=>{vse(E,g)},getToolbar:E=>Qr.getState($s.getCoupled(E,"toolbarSandbox")),isOpen:E=>Qr.isOpen($s.getCoupled(E,"toolbarSandbox"))}}),configFields:hm(),partFields:iR(),apis:{setGroups:(s,l,h)=>{s.setGroups(l,h)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggleWithoutFocusing(l)},getToolbar:(s,l)=>s.getToolbar(l),isOpen:(s,l)=>s.isOpen(l)}}),HV=F([Wt("prefix","form-field"),zu("fieldBehaviours",[an,po])]),yse=F([C({schema:[xn("dom")],name:"label"}),C({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[xn("text")],name:"aria-descriptor"}),Q({factory:{sketch:s=>{const l=YE(s,["factory"]);return s.factory.sketch(l)}},schema:[xn("factory")],name:"field"})]),$V=(s,l,h,g)=>{const E=fu(s.fieldBehaviours,[an.config({find:q=>ke(q,s,"field")}),po.config({store:{mode:"manual",getValue:q=>an.getCurrent(q).bind(po.getValue),setValue:(q,Y)=>{an.getCurrent(q).each(ne=>{po.setValue(ne,Y)})}}})]),O=Ta([Ea((q,Y)=>{const ne=Pe(q,s,["label","field","aria-descriptor"]);ne.field().each(he=>{const ve=uo(s.prefix);ne.label().each(Re=>{rs(Re.element,"for",ve),rs(he.element,"id",ve)}),ne["aria-descriptor"]().each(Re=>{const ze=uo(s.prefix);rs(Re.element,"id",ze),rs(he.element,"aria-describedby",ze)})})})]),I={getField:q=>ke(q,s,"field"),getLabel:q=>ke(q,s,"label")};return{uid:s.uid,dom:s.dom,components:l,behaviours:E,events:O,apis:I}},Tr=Of({name:"FormField",configFields:HV(),partFields:yse(),factory:$V,apis:{getField:(s,l)=>s.getField(l),getLabel:(s,l)=>s.getLabel(l)}}),p7=F([Wt("field1Name","field1"),Wt("field2Name","field2"),C1("onLockedChange"),ph(["lockClass"]),Wt("locked",!1),cm.field("coupledFieldBehaviours",[an,po]),ci("onInput",re)]),m7=(s,l,h)=>ke(s,l,h).bind(an.getCurrent),lP=(s,l)=>Q({factory:Tr,name:s,overrides:h=>({fieldBehaviours:Qn([Fs("coupled-input-behaviour",[dn(Xp(),g=>{m7(g,h,l).each(E=>{ke(g,h,"lock").each(O=>{Dr.isOn(O)&&h.onLockedChange(g,E,O),h.onInput(g)})})})])])})}),g7=F([lP("field1","field2"),lP("field2","field1"),Q({factory:gd,schema:[xn("dom")],name:"lock",overrides:s=>({buttonBehaviours:Qn([Dr.config({selected:s.locked,toggleClass:s.markers.lockClass,aria:{mode:"pressed"}})])})})]),cP=(s,l,h,g)=>({uid:s.uid,dom:s.dom,components:l,behaviours:cm.augment(s.coupledFieldBehaviours,[an.config({find:ee.some}),po.config({store:{mode:"manual",getValue:E=>{const O=Ot(E,s,["field1","field2"]);return{[s.field1Name]:po.getValue(O.field1()),[s.field2Name]:po.getValue(O.field2())}},setValue:(E,O)=>{const I=Ot(E,s,["field1","field2"]);eo(O,s.field1Name)&&po.setValue(I.field1(),O[s.field1Name]),eo(O,s.field2Name)&&po.setValue(I.field2(),O[s.field2Name])}}})]),apis:{getField1:E=>ke(E,s,"field1"),getField2:E=>ke(E,s,"field2"),getLock:E=>ke(E,s,"lock")}}),ql=Of({name:"FormCoupledInputs",configFields:p7(),partFields:g7(),factory:cP,apis:{getField1:(s,l)=>s.getField1(l),getField2:(s,l)=>s.getField2(l),getLock:(s,l)=>s.getLock(l)}}),Sse=(s,l)=>{const h=qt(s.options,E=>({dom:{tag:"option",value:E.value,innerHtml:E.text}})),g=s.data.map(E=>Ug("initialValue",E)).getOr({});return{uid:s.uid,dom:{tag:"select",classes:s.selectClasses,attributes:s.selectAttributes},components:h,behaviours:fu(s.selectBehaviours,[Hs.config({}),po.config({store:{mode:"manual",getValue:E=>wl(E.element),setValue:(E,O)=>{const I=_t(s.options);kt(s.options,Y=>Y.value===O).isSome()?ff(E.element,O):E.element.dom.selectedIndex===-1&&O===""&&I.each(Y=>ff(E.element,Y.value))},...g}})])}},Cse=og({name:"HtmlSelect",configFields:[xn("options"),zu("selectBehaviours",[Hs,po]),Wt("selectClasses",[]),Wt("selectAttributes",{}),li("data")],factory:Sse}),Ese=(s,l,h,g,E)=>{const O=()=>s.lazySink(l),I=g.type==="horizontal"?{layouts:{onLtr:()=>_1(),onRtl:()=>nI()}}:{},q=ne=>ne.length===2,Y=ne=>q(ne)?I:{};return MC.sketch({dom:{tag:"div"},data:g.data,markers:g.menu.markers,highlightOnOpen:g.menu.highlightOnOpen,fakeFocus:g.menu.fakeFocus,onEscape:()=>(Qr.close(l),s.onEscape.map(ne=>ne(l)),ee.some(!0)),onExecute:()=>ee.some(!0),onOpenMenu:(ne,he)=>{Gd.positionWithinBounds(O().getOrDie(),he,h,E())},onOpenSubmenu:(ne,he,ve,Re)=>{const ze=O().getOrDie();Gd.position(ze,ve,{anchor:{type:"submenu",item:he,...Y(Re)}})},onRepositionMenu:(ne,he,ve)=>{const Re=O().getOrDie();Gd.positionWithinBounds(Re,he,h,E()),Tn(ve,ze=>{const Ge=Y(ze.triggeringPath);Gd.position(Re,ze.triggeredMenu,{anchor:{type:"submenu",item:ze.triggeringItem,...Ge}})})}})},wse=(s,l)=>{const h=(Re,ze)=>s.getRelated(Re).exists(et=>DC(et,ze)),g=(Re,ze)=>{Qr.setContent(Re,ze)},E=(Re,ze,Ge)=>{const et=ee.none;O(Re,ze,Ge,et)},O=(Re,ze,Ge,et)=>{const ft=s.lazySink(Re).getOrDie();Qr.openWhileCloaked(Re,ze,()=>Gd.positionWithinBounds(ft,Re,Ge,et())),po.setValue(Re,ee.some({mode:"position",config:Ge,getBounds:et}))},I=(Re,ze,Ge)=>{q(Re,ze,Ge,ee.none)},q=(Re,ze,Ge,et)=>{const ft=Ese(s,Re,ze,Ge,et);Qr.open(Re,ft),po.setValue(Re,ee.some({mode:"menu",menu:ft}))},Y=Re=>{Qr.isOpen(Re)&&(po.setValue(Re,ee.none()),Qr.close(Re))},ne=Re=>Qr.getState(Re),he=Re=>{Qr.isOpen(Re)&&po.getValue(Re).each(ze=>{switch(ze.mode){case"menu":Qr.getState(Re).each(MC.repositionMenus);break;case"position":const Ge=s.lazySink(Re).getOrDie();Gd.positionWithinBounds(Ge,Re,ze.config,ze.getBounds());break}})},ve={setContent:g,showAt:E,showWithinBounds:O,showMenuAt:I,showMenuWithinBounds:q,hide:Y,getContent:ne,reposition:he,isOpen:Qr.isOpen};return{uid:s.uid,dom:s.dom,behaviours:fu(s.inlineBehaviours,[Qr.config({isPartOf:(Re,ze,Ge)=>DC(ze,Ge)||h(Re,Ge),getAttachPoint:Re=>s.lazySink(Re).getOrDie(),onOpen:Re=>{s.onShow(Re)},onClose:Re=>{s.onHide(Re)}}),po.config({store:{mode:"memory",initialValue:ee.none()}}),um.config({channels:{...NV({isExtraPart:l.isExtraPart,...s.fireDismissalEventInstead.map(Re=>({fireEventInstead:{event:Re.event}})).getOr({})}),...oR({...s.fireRepositionEventInstead.map(Re=>({fireEventInstead:{event:Re.event}})).getOr({}),doReposition:he})}})]),eventOrder:s.eventOrder,apis:ve}},Qa=og({name:"InlineView",configFields:[xn("lazySink"),kr("onShow"),kr("onHide"),Yp("onEscape"),zu("inlineBehaviours",[Qr,po,um]),uh("fireDismissalEventInstead",[Wt("event",Zg())]),uh("fireRepositionEventInstead",[Wt("event",MA())]),Wt("getRelated",ee.none),Wt("isExtraPart",rt),Wt("eventOrder",ee.none)],factory:wse,apis:{showAt:(s,l,h,g)=>{s.showAt(l,h,g)},showWithinBounds:(s,l,h,g,E)=>{s.showWithinBounds(l,h,g,E)},showMenuAt:(s,l,h,g)=>{s.showMenuAt(l,h,g)},showMenuWithinBounds:(s,l,h,g,E)=>{s.showMenuWithinBounds(l,h,g,E)},hide:(s,l)=>{s.hide(l)},isOpen:(s,l)=>s.isOpen(l),getContent:(s,l)=>s.getContent(l),setContent:(s,l,h)=>{s.setContent(l,h)},reposition:(s,l)=>{s.reposition(l)}}}),v7=F([Va("type","text"),li("data"),Wt("inputAttributes",{}),Wt("inputStyles",{}),Wt("tag","input"),Wt("inputClasses",[]),kr("onSetValue"),ci("fromInputValue",Me),ci("toInputValue",Me),Wt("styles",{}),Wt("eventOrder",{}),zu("inputBehaviours",[po,Hs]),Wt("selectOnFocus",!0)]),b7=s=>Qn([Hs.config({onFocus:s.selectOnFocus?l=>{const h=l.element,g=wl(h);s.type!=="range"&&h.dom.setSelectionRange(0,g.length)}:re})]),y7=s=>({...b7(s),...fu(s.inputBehaviours,[po.config({store:{mode:"manual",...s.data.map(l=>({initialValue:l})).getOr({}),getValue:l=>s.fromInputValue(wl(l.element)),setValue:(l,h)=>{wl(l.element)!==h&&ff(l.element,s.toInputValue(h))}},onSetValue:s.onSetValue})])}),S7=s=>({tag:s.tag,attributes:{type:s.type,...s.inputAttributes},styles:s.inputStyles,classes:s.inputClasses}),C7=(s,l)=>({uid:s.uid,dom:S7(s),components:[],behaviours:y7(s),eventOrder:s.eventOrder}),lv=og({name:"Input",configFields:v7(),factory:C7}),UV=Z(kV(),nR()),_se=(s,l)=>{const h=nr(s,"id").fold(()=>{const g=uo("dialog-label");return rs(l,"id",g),g},Me);rs(s,"aria-labelledby",h)},E7=F([xn("lazySink"),li("dragBlockClass"),ci("getBounds",Bu),Wt("useTabstopAt",gt),Wt("firstTabstop",0),Wt("eventOrder",{}),zu("modalBehaviours",[Xo]),Nl("onExecute"),oC("onEscape")]),uP={sketch:Me},zV=F([C({name:"draghandle",overrides:(s,l)=>({behaviours:Qn([zw.config({mode:"mouse",getTarget:h=>Bh(h,'[role="dialog"]').getOr(h),blockerClass:s.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(l,null,2)).message),getBounds:s.getDragBounds})])})}),Q({schema:[xn("dom")],name:"title"}),Q({factory:uP,schema:[xn("dom")],name:"close"}),Q({factory:uP,schema:[xn("dom")],name:"body"}),C({factory:uP,schema:[xn("dom")],name:"footer"}),m({factory:{sketch:(s,l)=>({...s,dom:l.dom,components:l.components})},schema:[Wt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Wt("components",[])],name:"blocker"})]),w7=(s,l,h,g)=>{const E=ms(),O=Ge=>{E.set(Ge);const et=s.lazySink(Ge).getOrDie(),ft=g.blocker(),Je=et.getSystem().build({...ft,components:ft.components.concat([W(Ge)]),behaviours:Qn([Hs.config({}),Fs("dialog-blocker-events",[R1(bf(),()=>{Ln.isBlocked(Ge)?re():Xo.focusIn(Ge)})])])});sb(et,Je),Xo.focusIn(Ge)},I=Ge=>{E.clear(),jn(Ge.element).each(et=>{Ge.getSystem().getByDom(et).each(ft=>{rb(ft)})})},q=Ge=>Be(Ge,s,"body"),Y=Ge=>ke(Ge,s,"footer"),ne=(Ge,et)=>{Ln.block(Ge,et)},he=Ge=>{Ln.unblock(Ge)},ve=uo("modal-events"),Re={...s.eventOrder,[tm()]:[ve].concat(s.eventOrder["alloy.system.attached"]||[])},ze=ji();return{uid:s.uid,dom:s.dom,components:l,apis:{show:O,hide:I,getBody:q,getFooter:Y,setIdle:he,setBusy:ne},eventOrder:Re,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:fu(s.modalBehaviours,[js.config({}),Xo.config({mode:"cyclic",onEnter:s.onExecute,onEscape:s.onEscape,useTabstopAt:s.useTabstopAt,firstTabstop:s.firstTabstop}),Ln.config({getRoot:E.get}),Fs(ve,[Ea(Ge=>{const et=Be(Ge,s,"title").element,ft=PE(et);ze.os.isMacOS()&&H(ft)?rs(Ge.element,"aria-label",ft):_se(Ge.element,et)})])])}},jc=Of({name:"ModalDialog",configFields:E7(),partFields:zV(),factory:w7,apis:{show:(s,l)=>{s.show(l)},hide:(s,l)=>{s.hide(l)},getBody:(s,l)=>s.getBody(l),getFooter:(s,l)=>s.getFooter(l),setBusy:(s,l,h)=>{s.setBusy(l,h)},setIdle:(s,l)=>{s.setIdle(l)}}}),Ase=C({schema:[xn("dom")],name:"label"}),NC=s=>C({name:""+s+"-edge",overrides:l=>l.model.manager.edgeActions[s].fold(()=>({}),g=>({events:Ta([iT(zg(),(E,O,I)=>g(E,I),[l]),iT(hd(),(E,O,I)=>g(E,I),[l]),iT(qv(),(E,O,I)=>{I.mouseIsDown.get()&&g(E,I)},[l])])}))}),Tse=NC("top-left"),xse=NC("top"),Ose=NC("top-right"),_7=NC("right"),ub=NC("bottom-right"),Ise=NC("bottom"),jV=NC("bottom-left"),A7=NC("left"),T7=Q({name:"thumb",defaults:F({dom:{styles:{position:"absolute"}}}),overrides:s=>({events:Ta([by(zg(),s,"spectrum"),by(jg(),s,"spectrum"),by(Wg(),s,"spectrum"),by(hd(),s,"spectrum"),by(qv(),s,"spectrum"),by(uy(),s,"spectrum")])})}),dP=s=>k1(s.event),x7=Q({schema:[Bc("mouseIsDown",()=>wn(!1))],name:"spectrum",overrides:s=>{const h=s.model.manager,g=(E,O)=>h.getValueFromEvent(O).map(I=>h.setValueFrom(E,s,I));return{behaviours:Qn([Xo.config({mode:"special",onLeft:(E,O)=>h.onLeft(E,s,dP(O)),onRight:(E,O)=>h.onRight(E,s,dP(O)),onUp:(E,O)=>h.onUp(E,s,dP(O)),onDown:(E,O)=>h.onDown(E,s,dP(O))}),ma.config({}),Hs.config({})]),events:Ta([dn(zg(),g),dn(jg(),g),dn(hd(),g),dn(qv(),(E,O)=>{s.mouseIsDown.get()&&g(E,O)})])}}});var O7=[Ase,A7,_7,xse,Ise,Tse,Ose,jV,ub,T7,x7];const lR=F("slider.change.value"),kse=s=>s.type.indexOf("touch")!==-1,WV=s=>{const l=s.event.raw;if(kse(l)){const h=l;return h.touches!==void 0&&h.touches.length===1?ee.some(h.touches[0]).map(g=>ni(g.clientX,g.clientY)):ee.none()}else{const h=l;return h.clientX!==void 0?ee.some(h).map(g=>ni(g.clientX,g.clientY)):ee.none()}},Dse="top",Mse="right",Pse="bottom",Nse="left",LC=s=>s.model.minX,BC=s=>s.model.minY,cR=s=>s.model.minX-1,uR=s=>s.model.minY-1,Zw=s=>s.model.maxX,Kw=s=>s.model.maxY,hP=s=>s.model.maxX+1,dR=s=>s.model.maxY+1,Yw=(s,l,h)=>l(s)-h(s),KT=s=>Yw(s,Zw,LC),GV=s=>Yw(s,Kw,BC),qV=s=>KT(s)/2,ZV=s=>GV(s)/2,Xw=(s,l)=>l?s.stepSize*s.speedMultiplier:s.stepSize,KV=s=>s.snapToGrid,fP=s=>s.snapStart,pP=s=>s.rounded,mP=(s,l)=>s[l+"-edge"]!==void 0,I7=s=>mP(s,Nse),R7=s=>mP(s,Mse),YV=s=>mP(s,Dse),XV=s=>mP(s,Pse),eS=s=>s.model.value.get(),VC=(s,l)=>({x:s,y:l}),cv=(s,l)=>{cs(s,lR(),{value:l})},Lse=(s,l)=>{cv(s,VC(cR(l),uR(l)))},Bse=(s,l)=>{cv(s,uR(l))},Vse=(s,l)=>{cv(s,VC(qV(l),uR(l)))},Fse=(s,l)=>{cv(s,VC(hP(l),uR(l)))},Hse=(s,l)=>{cv(s,hP(l))},$se=(s,l)=>{cv(s,VC(hP(l),ZV(l)))},Use=(s,l)=>{cv(s,VC(hP(l),dR(l)))},k7=(s,l)=>{cv(s,dR(l))},D7=(s,l)=>{cv(s,VC(qV(l),dR(l)))},zse=(s,l)=>{cv(s,VC(cR(l),dR(l)))},jse=(s,l)=>{cv(s,cR(l))},Wse=(s,l)=>{cv(s,VC(cR(l),ZV(l)))},gP=(s,l,h,g)=>s<l?s:s>h?h:s===l?l-1:Math.max(l,s-g),JV=(s,l,h,g)=>s>h?s:s<l?l:s===h?h+1:Math.min(h,s+g),M7=(s,l,h)=>Math.max(l,Math.min(h,s)),Gse=(s,l,h,g,E)=>E.fold(()=>{const O=s-l,I=Math.round(O/g)*g;return M7(l+I,l-1,h+1)},O=>{const I=(s-O)%g,q=Math.round(I/g),Y=Math.floor((s-O)/g),ne=Math.floor((h-O)/g),he=Math.min(ne,Y+q),ve=O+he*g;return Math.max(O,ve)}),vP=(s,l,h)=>Math.min(h,Math.max(s,l))-l,P7=s=>{const{min:l,max:h,range:g,value:E,step:O,snap:I,snapStart:q,rounded:Y,hasMinEdge:ne,hasMaxEdge:he,minBound:ve,maxBound:Re,screenRange:ze}=s,Ge=ne?l-1:l,et=he?h+1:h;if(E<ve)return Ge;if(E>Re)return et;{const ft=vP(E,ve,Re),Je=M7(ft/ze*g+l,Ge,et);return I&&Je>=l&&Je<=h?Gse(Je,l,h,O,q):Y?Math.round(Je):Je}},N7=s=>{const{min:l,max:h,range:g,value:E,hasMinEdge:O,hasMaxEdge:I,maxBound:q,maxOffset:Y,centerMinEdge:ne,centerMaxEdge:he}=s;return E<l?O?0:ne:E>h?I?q:he:(E-l)/g*Y},QV="top",L7="right",B7="bottom",eF="left",qse="width",Zse="height",O0=s=>s.element.dom.getBoundingClientRect(),db=(s,l)=>s[l],bP=s=>{const l=O0(s);return db(l,eF)},V7=s=>{const l=O0(s);return db(l,L7)},yP=s=>{const l=O0(s);return db(l,QV)},SP=s=>{const l=O0(s);return db(l,B7)},F7=s=>{const l=O0(s);return db(l,qse)},H7=s=>{const l=O0(s);return db(l,Zse)},$7=(s,l,h)=>(s+l)/2-h,tF=(s,l)=>{const h=O0(s),g=O0(l),E=db(h,eF),O=db(h,L7),I=db(g,eF);return $7(E,O,I)},U7=(s,l)=>{const h=O0(s),g=O0(l),E=db(h,QV),O=db(h,B7),I=db(g,QV);return $7(E,O,I)},CP=(s,l)=>{cs(s,lR(),{value:l})},nF=(s,l,h)=>{const g={min:LC(l),max:Zw(l),range:KT(l),value:h,step:Xw(l),snap:KV(l),snapStart:fP(l),rounded:pP(l),hasMinEdge:I7(l),hasMaxEdge:R7(l),minBound:bP(s),maxBound:V7(s),screenRange:F7(s)};return P7(g)},Kse=(s,l,h)=>{const g=nF(s,l,h);return CP(s,g),g},Yse=(s,l)=>{const h=LC(l);CP(s,h)},Xse=(s,l)=>{const h=Zw(l);CP(s,h)},oF=(s,l,h,g)=>{const O=(s>0?JV:gP)(eS(h),LC(h),Zw(h),Xw(h,g));return CP(l,O),ee.some(O)},z7=s=>(l,h,g)=>oF(s,l,h,g).map(gt),Jse=s=>WV(s).map(h=>h.left),Qse=(s,l,h,g,E)=>{const I=F7(s),q=g.bind(he=>ee.some(tF(he,s))).getOr(0),Y=E.bind(he=>ee.some(tF(he,s))).getOr(I),ne={min:LC(l),max:Zw(l),range:KT(l),value:h,hasMinEdge:I7(l),hasMaxEdge:R7(l),minBound:bP(s),maxBound:V7(s),maxOffset:I,centerMinEdge:q,centerMaxEdge:Y};return N7(ne)},sF=(s,l,h,g,E,O)=>{const I=Qse(l,O,h,g,E);return bP(l)-bP(s)+I},ere=(s,l,h,g)=>{const E=eS(h),O=sF(s,g.getSpectrum(s),E,g.getLeftEdge(s),g.getRightEdge(s),h),I=bc(l.element)/2;_s(l.element,"left",O-I+"px")},tre=z7(-1),nre=z7(1),ore=ee.none,sre=ee.none,rre={"top-left":ee.none(),top:ee.none(),"top-right":ee.none(),right:ee.some(Hse),"bottom-right":ee.none(),bottom:ee.none(),"bottom-left":ee.none(),left:ee.some(jse)};var ire=Object.freeze({__proto__:null,setValueFrom:Kse,setToMin:Yse,setToMax:Xse,findValueOfOffset:nF,getValueFromEvent:Jse,findPositionOfValue:sF,setPositionFromValue:ere,onLeft:tre,onRight:nre,onUp:ore,onDown:sre,edgeActions:rre});const EP=(s,l)=>{cs(s,lR(),{value:l})},rF=(s,l,h)=>{const g={min:BC(l),max:Kw(l),range:GV(l),value:h,step:Xw(l),snap:KV(l),snapStart:fP(l),rounded:pP(l),hasMinEdge:YV(l),hasMaxEdge:XV(l),minBound:yP(s),maxBound:SP(s),screenRange:H7(s)};return P7(g)},are=(s,l,h)=>{const g=rF(s,l,h);return EP(s,g),g},lre=(s,l)=>{const h=BC(l);EP(s,h)},iF=(s,l)=>{const h=Kw(l);EP(s,h)},cre=(s,l,h,g)=>{const O=(s>0?JV:gP)(eS(h),BC(h),Kw(h),Xw(h,g));return EP(l,O),ee.some(O)},j7=s=>(l,h,g)=>cre(s,l,h,g).map(gt),ure=s=>WV(s).map(h=>h.top),hR=(s,l,h,g,E)=>{const I=H7(s),q=g.bind(he=>ee.some(U7(he,s))).getOr(0),Y=E.bind(he=>ee.some(U7(he,s))).getOr(I),ne={min:BC(l),max:Kw(l),range:GV(l),value:h,hasMinEdge:YV(l),hasMaxEdge:XV(l),minBound:yP(s),maxBound:SP(s),maxOffset:I,centerMinEdge:q,centerMaxEdge:Y};return N7(ne)},wP=(s,l,h,g,E,O)=>{const I=hR(l,O,h,g,E);return yP(l)-yP(s)+I},dre=(s,l,h,g)=>{const E=eS(h),O=wP(s,g.getSpectrum(s),E,g.getTopEdge(s),g.getBottomEdge(s),h),I=Cl(l.element)/2;_s(l.element,"top",O-I+"px")},hre=ee.none,W7=ee.none,fre=j7(-1),pre=j7(1),mre={"top-left":ee.none(),top:ee.some(Bse),"top-right":ee.none(),right:ee.none(),"bottom-right":ee.none(),bottom:ee.some(k7),"bottom-left":ee.none(),left:ee.none()};var gre=Object.freeze({__proto__:null,setValueFrom:are,setToMin:lre,setToMax:iF,findValueOfOffset:rF,getValueFromEvent:ure,findPositionOfValue:wP,setPositionFromValue:dre,onLeft:hre,onRight:W7,onUp:fre,onDown:pre,edgeActions:mre});const _P=(s,l)=>{cs(s,lR(),{value:l})},AP=(s,l)=>({x:s,y:l}),vre=(s,l,h)=>{const g=nF(s,l,h.left),E=rF(s,l,h.top),O=AP(g,E);return _P(s,O),O},bre=(s,l,h,g,E)=>{const O=s>0?JV:gP,I=l?eS(g).x:O(eS(g).x,LC(g),Zw(g),Xw(g,E)),q=l?O(eS(g).y,BC(g),Kw(g),Xw(g,E)):eS(g).y;return _P(h,AP(I,q)),ee.some(I)},fR=(s,l)=>(h,g,E)=>bre(s,l,h,g,E).map(gt),G7=(s,l)=>{const h=LC(l),g=BC(l);_P(s,AP(h,g))},yre=(s,l)=>{const h=Zw(l),g=Kw(l);_P(s,AP(h,g))},q7=s=>WV(s),Z7=(s,l,h,g)=>{const E=eS(h),O=sF(s,g.getSpectrum(s),E.x,g.getLeftEdge(s),g.getRightEdge(s),h),I=wP(s,g.getSpectrum(s),E.y,g.getTopEdge(s),g.getBottomEdge(s),h),q=bc(l.element)/2,Y=Cl(l.element)/2;_s(l.element,"left",O-q+"px"),_s(l.element,"top",I-Y+"px")},K7=fR(-1,!1),Y7=fR(1,!1),Sre=fR(-1,!0),Cre=fR(1,!0),Ere={"top-left":ee.some(Lse),top:ee.some(Vse),"top-right":ee.some(Fse),right:ee.some($se),"bottom-right":ee.some(Use),bottom:ee.some(D7),"bottom-left":ee.some(zse),left:ee.some(Wse)};var wre=Object.freeze({__proto__:null,setValueFrom:vre,setToMin:G7,setToMax:yre,getValueFromEvent:q7,setPositionFromValue:Z7,onLeft:K7,onRight:Y7,onUp:Sre,onDown:Cre,edgeActions:Ere});const aF=[Wt("stepSize",1),Wt("speedMultiplier",10),Wt("onChange",re),Wt("onChoose",re),Wt("onInit",re),Wt("onDragStart",re),Wt("onDragEnd",re),Wt("snapToGrid",!1),Wt("rounded",!0),li("snapStart"),Fu("model",ud("mode",{x:[Wt("minX",0),Wt("maxX",100),Bc("value",s=>wn(s.mode.minX)),xn("getInitialValue"),ia("manager",ire)],y:[Wt("minY",0),Wt("maxY",100),Bc("value",s=>wn(s.mode.minY)),xn("getInitialValue"),ia("manager",gre)],xy:[Wt("minX",0),Wt("maxX",100),Wt("minY",0),Wt("maxY",100),Bc("value",s=>wn({x:s.mode.minX,y:s.mode.minY})),xn("getInitialValue"),ia("manager",wre)]})),zu("sliderBehaviours",[Xo,po]),Bc("mouseIsDown",()=>wn(!1))],hb=Of({name:"Slider",configFields:aF,partFields:O7,factory:(s,l,h,g)=>{const E=en=>Be(en,s,"thumb"),O=en=>Be(en,s,"spectrum"),I=en=>ke(en,s,"left-edge"),q=en=>ke(en,s,"right-edge"),Y=en=>ke(en,s,"top-edge"),ne=en=>ke(en,s,"bottom-edge"),he=s.model,ve=he.manager,Re=(en,ro)=>{ve.setPositionFromValue(en,ro,s,{getLeftEdge:I,getRightEdge:q,getTopEdge:Y,getBottomEdge:ne,getSpectrum:O})},ze=(en,ro)=>{he.value.set(ro);const kn=E(en);Re(en,kn)},Ge=(en,ro)=>{ze(en,ro);const kn=E(en);return s.onChange(en,kn,ro),ee.some(!0)},et=en=>{ve.setToMin(en,s)},ft=en=>{ve.setToMax(en,s)},Je=en=>{const ro=()=>{ke(en,s,"thumb").each(zn=>{const Vn=he.value.get();s.onChoose(en,zn,Vn)})},kn=s.mouseIsDown.get();s.mouseIsDown.set(!1),kn&&ro()},yt=(en,ro)=>{ro.stop(),s.mouseIsDown.set(!0),s.onDragStart(en,E(en))},At=(en,ro)=>{ro.stop(),s.onDragEnd(en,E(en)),Je(en)},Xt=en=>{ke(en,s,"spectrum").map(Xo.focusIn)};return{uid:s.uid,dom:s.dom,components:l,behaviours:fu(s.sliderBehaviours,[Xo.config({mode:"special",focusIn:Xt}),po.config({store:{mode:"manual",getValue:en=>he.value.get(),setValue:ze}}),um.config({channels:{[Qv()]:{onReceive:Je}}})]),events:Ta([dn(lR(),(en,ro)=>{Ge(en,ro.event.value)}),Ea((en,ro)=>{const kn=he.getInitialValue();he.value.set(kn);const zn=E(en);Re(en,zn);const Vn=O(en);s.onInit(en,zn,Vn,he.value.get())}),dn(zg(),yt),dn(Wg(),At),dn(hd(),(en,ro)=>{Xt(en),yt(en,ro)}),dn(uy(),At)]),apis:{resetToMin:et,resetToMax:ft,setValue:ze,refresh:Re},domModification:{styles:{position:"relative"}}}},apis:{setValue:(s,l,h)=>{s.setValue(l,h)},resetToMin:(s,l)=>{s.resetToMin(l)},resetToMax:(s,l)=>{s.resetToMax(l)},refresh:(s,l)=>{s.refresh(l)}}}),lF="container",Are=[zu("slotBehaviours",[])],X7=s=>"<alloy.field."+s+">",Tre=s=>{const l=(()=>{const O=[];return{slot:(q,Y)=>(O.push(q),ue(lF,X7(q),Y)),record:F(O)}})(),h=s(l),g=l.record(),E=qt(g,O=>Q({name:O,pname:X7(O)}));return aj(lF,Are,E,J7,h)},J7=(s,l)=>{const h=et=>dt(s),g=(et,ft)=>ke(et,s,ft),E=(et,ft)=>(Je,yt)=>ke(Je,s,yt).map(At=>et(At,yt)).getOr(ft),O=et=>(ft,Je)=>{Tn(Je,yt=>et(ft,yt))},I=(et,ft)=>fl(et.element,"aria-hidden")!=="true",q=(et,ft)=>{if(!I(et)){const Je=et.element;Sr(Je,"display"),sa(Je,"aria-hidden"),cs(et,b1(),{name:ft,visible:!0})}},Y=(et,ft)=>{if(I(et)){const Je=et.element;_s(Je,"display","none"),rs(Je,"aria-hidden","true"),cs(et,b1(),{name:ft,visible:!1})}},ne=E(I,!1),he=E(Y),ve=O(he),Re=et=>ve(et,h()),ze=E(q),Ge={getSlotNames:h,getSlot:g,isShowing:ne,hideSlot:he,hideAllSlots:Re,showSlot:ze};return{uid:s.uid,dom:s.dom,components:l,behaviours:$w(s.slotBehaviours),apis:Ge}},qd={...ys({getSlotNames:(s,l)=>s.getSlotNames(l),getSlot:(s,l,h)=>s.getSlot(l,h),isShowing:(s,l,h)=>s.isShowing(l,h),hideSlot:(s,l,h)=>s.hideSlot(l,h),hideAllSlots:(s,l)=>s.hideAllSlots(l),showSlot:(s,l,h)=>s.showSlot(l,h)},s=>wy(s)),sketch:Tre},Ore=(s,l)=>Is(s,(E,O)=>l(O,E.len).fold(F(E),q=>({len:q.finish,list:E.list.concat([q])})),{len:0,list:[]}).list,cF=(s,l,h)=>({within:s,extra:l,withinWidth:h}),Q7=(s,l,h)=>{const g=Ore(s,(q,Y)=>{const ne=h(q);return ee.some({element:q,start:Y,finish:Y+ne,width:ne})}),E=ws(g,q=>q.finish<=l),O=as(E,(q,Y)=>q+Y.width,0),I=g.slice(E.length);return{within:E,extra:I,withinWidth:O}},TP=s=>qt(s,l=>l.element),Ire=(s,l,h)=>{const g=TP(s.concat(l));return cF(g,[],h)},Rre=(s,l,h,g)=>{const E=TP(s).concat([h]);return cF(E,TP(l),g)},kre=(s,l,h)=>cF(TP(s),[],h),Dre=(s,l,h)=>{const g=Q7(l,s,h);return g.extra.length===0?ee.some(g):ee.none()},Mre=(s,l,h,g)=>{const E=Dre(s,l,h).getOrThunk(()=>Q7(l,s-h(g),h)),O=E.within,I=E.extra,q=E.withinWidth;return I.length===1&&I[0].width<=h(g)?Ire(O,I,q):I.length>=1?Rre(O,I,g,q):kre(O,I,q)},eW=(s,l)=>{const h=qt(l,g=>W(g));vd.setGroups(s,h)},Pre=s=>Ko(s,l=>Ga(l.element).bind(h=>l.getSystem().getByDom(h).toOptional())),uF=(s,l,h)=>{const g=l.builtGroups.get();if(g.length===0)return;const E=Be(s,l,"primary"),O=$s.getCoupled(s,"overflowGroup");_s(E.element,"visibility","hidden");const I=g.concat([O]),q=Pre(I);h([]),eW(E,I);const Y=bc(E.element),ne=Mre(Y,l.builtGroups.get(),he=>Math.ceil(he.element.dom.getBoundingClientRect().width),O);ne.extra.length===0?(js.remove(E,O),h([])):(eW(E,ne.within),h(ne.extra)),Sr(E.element,"visibility"),sd(E.element),q.each(Hs.focus)},tW=F([zu("splitToolbarBehaviours",[$s]),Bc("builtGroups",()=>wn([]))]),Nre=F([ph(["overflowToggledClass"]),Yp("getOverflowBounds"),xn("lazySink"),Bc("overflowGroups",()=>wn([])),kr("onOpened"),kr("onClosed")].concat(tW())),Lre=F([Q({factory:vd,schema:qw(),name:"primary"}),m({schema:qw(),name:"overflow"}),m({name:"overflow-button"}),m({name:"overflow-group"})]),Bre=F([xn("items"),ph(["itemSelector"]),zu("tgroupBehaviours",[Xo])]),Vre=F([A({name:"items",unit:"item"})]),xP=(s,l,h,g)=>({uid:s.uid,dom:s.dom,components:l,behaviours:fu(s.tgroupBehaviours,[Xo.config({mode:"flow",selector:s.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),pR=Of({name:"ToolbarGroup",configFields:Bre(),partFields:Vre(),factory:xP}),nW=s=>qt(s,l=>W(l)),oW=(s,l,h)=>{uF(s,h,g=>{h.overflowGroups.set(g),l.getOpt(s).each(E=>{x0.setGroups(E,nW(g))})})},Fre=(s,l,h,g)=>{const E=di(x0.sketch({fetch:()=>ps.nu(O=>{O(nW(s.overflowGroups.get()))}),layouts:{onLtr:()=>[Hi,Fa],onRtl:()=>[Fa,Hi],onBottomLtr:()=>[al,Ha],onBottomRtl:()=>[Ha,al]},getBounds:h.getOverflowBounds,lazySink:s.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:s.markers.overflowToggledClass},parts:{button:g["overflow-button"](),toolbar:g.overflow()},onToggled:(O,I)=>s[I?"onOpened":"onClosed"](O)}));return{uid:s.uid,dom:s.dom,components:l,behaviours:fu(s.splitToolbarBehaviours,[$s.config({others:{overflowGroup:()=>pR.sketch({...g["overflow-group"](),items:[E.asSpec()]})}})]),apis:{setGroups:(O,I)=>{s.builtGroups.set(qt(I,O.getSystem().build)),oW(O,E,s)},refresh:O=>oW(O,E,s),toggle:O=>{E.getOpt(O).each(I=>{x0.toggle(I)})},toggleWithoutFocusing:O=>{E.getOpt(O).each(x0.toggleWithoutFocusing)},isOpen:O=>E.getOpt(O).map(x0.isOpen).getOr(!1),reposition:O=>{E.getOpt(O).each(I=>{x0.reposition(I)})},getOverflow:O=>E.getOpt(O).bind(x0.getToolbar)},domModification:{attributes:{role:"group"}}}},sW=Of({name:"SplitFloatingToolbar",configFields:Nre(),partFields:Lre(),factory:Fre,apis:{setGroups:(s,l,h)=>{s.setGroups(l,h)},refresh:(s,l)=>{s.refresh(l)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l),getOverflow:(s,l)=>s.getOverflow(l)}}),Hre=F([ph(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),kr("onOpened"),kr("onClosed")].concat(tW())),$re=F([Q({factory:vd,schema:qw(),name:"primary"}),Q({factory:vd,schema:qw(),name:"overflow",overrides:s=>({toolbarBehaviours:Qn([Uc.config({dimension:{property:"height"},closedClass:s.markers.closedClass,openClass:s.markers.openClass,shrinkingClass:s.markers.shrinkingClass,growingClass:s.markers.growingClass,onShrunk:l=>{ke(l,s,"overflow-button").each(h=>{Dr.off(h)}),s.onClosed(l)},onGrown:l=>{s.onOpened(l)},onStartGrow:l=>{ke(l,s,"overflow-button").each(Dr.on)}}),Xo.config({mode:"acyclic",onEscape:l=>(ke(l,s,"overflow-button").each(Hs.focus),ee.some(!0))})])})}),m({name:"overflow-button",overrides:s=>({buttonBehaviours:Qn([Dr.config({toggleClass:s.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),m({name:"overflow-group"})]),dF=(s,l)=>ke(s,l,"overflow").map(Uc.hasGrown).getOr(!1),OP=(s,l,h)=>{ke(s,l,"overflow-button").each(g=>{ke(s,l,"overflow").each(E=>{if(IP(s,l),Uc.hasShrunk(E)){const O=l.onOpened;l.onOpened=I=>{h||Xo.focusIn(E),O(I),l.onOpened=O}}else{const O=l.onClosed;l.onClosed=I=>{h||Hs.focus(g),O(I),l.onClosed=O}}Uc.toggleGrow(E)})})},IP=(s,l)=>{ke(s,l,"overflow").each(h=>{uF(s,l,g=>{const E=qt(g,O=>W(O));vd.setGroups(h,E)}),ke(s,l,"overflow-button").each(g=>{Uc.hasGrown(h)&&Dr.on(g)}),Uc.refresh(h)})},Ure=(s,l,h,g)=>{const E="alloy.toolbar.toggle",O=(I,q)=>{const Y=qt(q,I.getSystem().build);s.builtGroups.set(Y)};return{uid:s.uid,dom:s.dom,components:l,behaviours:fu(s.splitToolbarBehaviours,[$s.config({others:{overflowGroup:I=>pR.sketch({...g["overflow-group"](),items:[gd.sketch({...g["overflow-button"](),action:q=>{Cr(I,E)}})]})}}),Fs("toolbar-toggle-events",[dn(E,I=>{OP(I,s,!1)})])]),apis:{setGroups:(I,q)=>{O(I,q),IP(I,s)},refresh:I=>IP(I,s),toggle:I=>{OP(I,s,!1)},toggleWithoutFocusing:I=>{OP(I,s,!0)},isOpen:I=>dF(I,s)},domModification:{attributes:{role:"group"}}}},RP=Of({name:"SplitSlidingToolbar",configFields:Hre(),partFields:$re(),factory:Ure,apis:{setGroups:(s,l,h)=>{s.setGroups(l,h)},refresh:(s,l)=>{s.refresh(l)},toggle:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l)}}),zre=(s,l)=>({uid:s.uid,dom:s.dom,components:s.components,events:TV(s.action),behaviours:fu(s.tabButtonBehaviours,[Hs.config({}),Xo.config({mode:"execution",useSpace:!0,useEnter:!0}),po.config({store:{mode:"memory",initialValue:s.value}})]),domModification:s.domModification}),jre=og({name:"TabButton",configFields:[Wt("uid",void 0),xn("value"),yc("dom","dom",Kp(()=>({attributes:{role:"tab",id:uo("aria"),"aria-selected":"false"}})),Bn()),li("action"),Wt("domModification",{}),zu("tabButtonBehaviours",[Hs,Xo,po]),xn("view")],factory:zre}),Wre=F([xn("tabs"),xn("dom"),Wt("clickToDismiss",!1),zu("tabbarBehaviours",[ri,Xo]),ph(["tabClass","selectedClass"])]),Gre=A({factory:jre,name:"tabs",unit:"tab",overrides:s=>{const l=(g,E)=>{ri.dehighlight(g,E),cs(g,gy(),{tabbar:g,button:E})},h=(g,E)=>{ri.highlight(g,E),cs(g,NA(),{tabbar:g,button:E})};return{action:g=>{const E=g.getSystem().getByUid(s.uid).getOrDie(),O=ri.isHighlighted(E,g);(O&&s.clickToDismiss?l:O?re:h)(E,g)},domModification:{classes:[s.markers.tabClass]}}}}),qre=F([Gre]),Zre=(s,l,h,g)=>({uid:s.uid,dom:s.dom,components:l,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:fu(s.tabbarBehaviours,[ri.config({highlightClass:s.markers.selectedClass,itemClass:s.markers.tabClass,onHighlight:(E,O)=>{rs(O.element,"aria-selected","true")},onDehighlight:(E,O)=>{rs(O.element,"aria-selected","false")}}),Xo.config({mode:"flow",getInitial:E=>ri.getHighlighted(E).map(O=>O.element),selector:"."+s.markers.tabClass,executeOnMove:!0})])}),rW=Of({name:"Tabbar",configFields:Wre(),partFields:qre(),factory:Zre}),Kre=(s,l)=>({uid:s.uid,dom:s.dom,behaviours:fu(s.tabviewBehaviours,[js.config({})]),domModification:{attributes:{role:"tabpanel"}}}),Yre=og({name:"Tabview",configFields:[zu("tabviewBehaviours",[js])],factory:Kre}),Xre=F([Wt("selectFirst",!0),kr("onChangeTab"),kr("onDismissTab"),Wt("tabs",[]),zu("tabSectionBehaviours",[])]),kP=Q({factory:rW,schema:[xn("dom"),zm("markers",[xn("tabClass"),xn("selectedClass")])],name:"tabbar",defaults:s=>({tabs:s.tabs})}),hF=Q({factory:Yre,name:"tabview"}),fF=F([kP,hF]),iW=(s,l,h,g)=>{const E=I=>{const q=po.getValue(I);ke(I,s,"tabview").each(Y=>{kt(s.tabs,he=>he.value===q).each(he=>{const ve=he.view();nr(I.element,"id").each(Re=>{rs(Y.element,"aria-labelledby",Re)}),js.set(Y,ve),s.onChangeTab(Y,I,ve)})})},O=(I,q)=>{ke(I,s,"tabbar").each(Y=>{q(Y).each(cw)})};return{uid:s.uid,dom:s.dom,components:l,behaviours:$w(s.tabSectionBehaviours),events:Ta(mn([s.selectFirst?[Ea((I,q)=>{O(I,ri.getFirst)})]:[],[dn(NA(),(I,q)=>{const Y=q.event.button;E(Y)}),dn(gy(),(I,q)=>{const Y=q.event.button;s.onDismissTab(I,Y)})]])),apis:{getViewItems:I=>ke(I,s,"tabview").map(q=>js.contents(q)).getOr([]),showTab:(I,q)=>{O(I,ne=>{const he=ri.getCandidates(ne);return kt(he,Re=>po.getValue(Re)===q).filter(Re=>!ri.isHighlighted(ne,Re))})}}}},YT=Of({name:"TabSection",configFields:Xre(),partFields:fF(),factory:iW,apis:{getViewItems:(s,l)=>s.getViewItems(l),showTab:(s,l,h)=>{s.showTab(l,h)}}}),DP=(s,l,h)=>{const g=po.getValue(h);po.setValue(l,g),PP(l)},MP=(s,l)=>{const h=s.element,g=wl(h),E=h.dom;fl(h,"type")!=="number"&&l(E,g)},PP=s=>{MP(s,(l,h)=>l.setSelectionRange(h.length,h.length))},NP=(s,l)=>{MP(s,(h,g)=>h.setSelectionRange(l,g.length))},aW=(s,l,h)=>{if(s.selectsOver){const g=po.getValue(l),E=s.getDisplayText(g),O=po.getValue(h);return s.getDisplayText(O).indexOf(E)===0?ee.some(()=>{DP(s,l,h),NP(l,E.length)}):ee.none()}else return ee.none()},pF=F("alloy.typeahead.itemexecute"),Jre=(s,l,h,g)=>{const E=(ve,Re,ze)=>{s.previewing.set(!1);const Ge=$s.getCoupled(ve,"sandbox");if(Qr.isOpen(Ge))an.getCurrent(Ge).each(et=>{ri.getHighlighted(et).fold(()=>{ze(et)},()=>{uI(Ge,et.element,"keydown",Re)})});else{const et=ft=>{an.getCurrent(ft).each(ze)};rP(s,I(ve),ve,Ge,g,et,jd.HighlightMenuAndItem).get(re)}},O=b7(s),I=ve=>Re=>Re.map(ze=>{const Ge=Jn(ze.menus),et=Ze(Ge,Je=>ws(Je.items,yt=>yt.type==="item"));return po.getState(ve).update(qt(et,Je=>Je.data)),ze}),q=ve=>an.getCurrent(ve),Y="typeaheadevents",ne=[Hs.config({}),po.config({onSetValue:s.onSetValue,store:{mode:"dataset",getDataKey:ve=>wl(ve.element),getFallbackEntry:ve=>({value:ve,meta:{}}),setValue:(ve,Re)=>{ff(ve.element,s.model.getDisplayText(Re))},...s.initialData.map(ve=>Ug("initialValue",ve)).getOr({})}}),JM.config({stream:{mode:"throttle",delay:s.responseTime,stopEvent:!1},onStream:(ve,Re)=>{const ze=$s.getCoupled(ve,"sandbox");if(Hs.isFocused(ve)&&wl(ve.element).length>=s.minChars){const et=q(ze).bind(Je=>ri.getHighlighted(Je).map(po.getValue));s.previewing.set(!0);const ft=Je=>{q(ze).each(yt=>{et.fold(()=>{s.model.selectsOver&&ri.highlightFirst(yt)},At=>{ri.highlightBy(yt,Xt=>po.getValue(Xt).value===At.value),ri.getHighlighted(yt).orThunk(()=>(ri.highlightFirst(yt),ee.none()))})})};rP(s,I(ve),ve,ze,g,ft,jd.HighlightJustMenu).get(re)}},cancelEvent:fy()}),Xo.config({mode:"special",onDown:(ve,Re)=>(E(ve,Re,ri.highlightFirst),ee.some(!0)),onEscape:ve=>{const Re=$s.getCoupled(ve,"sandbox");return Qr.isOpen(Re)?(Qr.close(Re),ee.some(!0)):ee.none()},onUp:(ve,Re)=>(E(ve,Re,ri.highlightLast),ee.some(!0)),onEnter:ve=>{const Re=$s.getCoupled(ve,"sandbox"),ze=Qr.isOpen(Re);if(ze&&!s.previewing.get())return q(Re).bind(Ge=>ri.getHighlighted(Ge)).map(Ge=>(cs(ve,pF(),{item:Ge}),!0));{const Ge=po.getValue(ve);return Cr(ve,fy()),s.onExecute(Re,ve,Ge),ze&&Qr.close(Re),ee.some(!0)}}}),Dr.config({toggleClass:s.markers.openClass,aria:{mode:"expanded"}}),$s.config({others:{sandbox:ve=>h7(s,ve,{onOpen:()=>Dr.on(ve),onClose:()=>{s.lazyTypeaheadComp.get().each(Re=>sa(Re.element,"aria-activedescendant")),Dr.off(ve)}})}}),Fs(Y,[Ea(ve=>{s.lazyTypeaheadComp.set(ee.some(ve))}),ev(ve=>{s.lazyTypeaheadComp.set(ee.none())}),yy(ve=>{const Re=re;c7(s,I(ve),ve,g,Re,jd.HighlightMenuAndItem).get(re)}),dn(pF(),(ve,Re)=>{const ze=$s.getCoupled(ve,"sandbox");DP(s.model,ve,Re.event.item),Cr(ve,fy()),s.onItemExecute(ve,ze,Re.event.item,po.getValue(ve)),Qr.close(ze),PP(ve)})].concat(s.dismissOnBlur?[dn(yf(),ve=>{const Re=$s.getCoupled(ve,"sandbox");Ga(Re.element).isNone()&&Qr.close(Re)})]:[]))],he={[qg()]:[po.name(),JM.name(),Y],...s.eventOrder};return{uid:s.uid,dom:S7(Kr(s,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...O,...fu(s.typeaheadBehaviours,ne)},eventOrder:he}},Qre=F([li("lazySink"),xn("fetch"),Wt("minChars",5),Wt("responseTime",1e3),kr("onOpen"),Wt("getHotspot",ee.some),Wt("getAnchorOverrides",F({})),Wt("layouts",ee.none()),Wt("eventOrder",{}),KE("model",{},[Wt("getDisplayText",s=>s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.value),Wt("selectsOver",!0),Wt("populateFromBrowse",!0)]),kr("onSetValue"),Nl("onExecute"),kr("onItemExecute"),Wt("inputClasses",[]),Wt("inputAttributes",{}),Wt("inputStyles",{}),Wt("matchWidth",!0),Wt("useMinWidth",!1),Wt("dismissOnBlur",!0),ph(["openClass"]),li("initialData"),li("listRole"),zu("typeaheadBehaviours",[Hs,po,JM,Xo,Dr,$s]),Bc("lazyTypeaheadComp",()=>wn(ee.none)),Bc("previewing",()=>wn(!0))].concat(v7()).concat(yp())),eie=F([m({schema:[tw()],name:"menu",overrides:s=>({fakeFocus:!0,onHighlightItem:(l,h,g)=>{s.previewing.get()?s.lazyTypeaheadComp.get().each(E=>{aW(s.model,E,g).fold(()=>{s.model.selectsOver?(ri.dehighlight(h,g),s.previewing.set(!0)):s.previewing.set(!1)},(O=>{O(),s.previewing.set(!1)}))}):s.lazyTypeaheadComp.get().each(E=>{s.model.populateFromBrowse&&DP(s.model,E,g),nr(g.element,"id").each(O=>rs(E.element,"aria-activedescendant",O))})},onExecute:(l,h)=>s.lazyTypeaheadComp.get().map(g=>(cs(g,pF(),{item:h}),!0)),onHover:(l,h)=>{s.previewing.set(!1),s.lazyTypeaheadComp.get().each(g=>{s.model.populateFromBrowse&&DP(s.model,g,h)})}})})]),tie=Of({name:"Typeahead",configFields:Qre(),partFields:eie(),factory:Jre});var nie=tinymce.util.Tools.resolve("tinymce.ThemeManager"),LP=tinymce.util.Tools.resolve("tinymce.util.Delay"),mR=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),oie=tinymce.util.Tools.resolve("tinymce.EditorManager"),XT=tinymce.util.Tools.resolve("tinymce.Env"),sg;(function(s){s.default="wrap",s.floating="floating",s.sliding="sliding",s.scrolling="scrolling"})(sg||(sg={}));var gR;(function(s){s.auto="auto",s.top="top",s.bottom="bottom"})(gR||(gR={}));const Ki=s=>l=>l.options.get(s),JT=s=>l=>ee.from(s(l)),lW=s=>{const l=XT.deviceType.isPhone(),h=XT.deviceType.isTablet()||l,g=s.options.register,E=I=>v(I)||I===!1,O=I=>v(I)||oe(I);g("skin",{processor:I=>v(I)||I===!1,default:"oxide"}),g("skin_url",{processor:"string"}),g("height",{processor:O,default:Math.max(s.getElement().offsetHeight,400)}),g("width",{processor:O,default:mR.DOM.getStyle(s.getElement(),"width")}),g("min_height",{processor:"number",default:100}),g("min_width",{processor:"number"}),g("max_height",{processor:"number"}),g("max_width",{processor:"number"}),g("style_formats",{processor:"object[]"}),g("style_formats_merge",{processor:"boolean",default:!1}),g("style_formats_autohide",{processor:"boolean",default:!1}),g("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),g("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),g("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),g("font_size_input_default_unit",{processor:"string",default:"pt"}),g("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),g("content_langs",{processor:"object[]"}),g("removed_menuitems",{processor:"string",default:""}),g("menubar",{processor:I=>v(I)||B(I),default:!l}),g("menu",{processor:"object",default:{}}),g("toolbar",{processor:I=>B(I)||v(I)||x(I)?{value:I,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Nn(9,I=>{g("toolbar"+(I+1),{processor:"string"})}),g("toolbar_mode",{processor:"string",default:h?"scrolling":"floating"}),g("toolbar_groups",{processor:"object",default:{}}),g("toolbar_location",{processor:"string",default:gR.auto}),g("toolbar_persist",{processor:"boolean",default:!1}),g("toolbar_sticky",{processor:"boolean",default:s.inline}),g("toolbar_sticky_offset",{processor:"number",default:0}),g("fixed_toolbar_container",{processor:"string",default:""}),g("fixed_toolbar_container_target",{processor:"object"}),g("ui_mode",{processor:"string",default:"combined"}),g("file_picker_callback",{processor:"function"}),g("file_picker_validator_handler",{processor:"function"}),g("file_picker_types",{processor:"string"}),g("typeahead_urls",{processor:"boolean",default:!0}),g("anchor_top",{processor:E,default:"#top"}),g("anchor_bottom",{processor:E,default:"#bottom"}),g("draggable_modal",{processor:"boolean",default:!1}),g("statusbar",{processor:"boolean",default:!0}),g("elementpath",{processor:"boolean",default:!0}),g("branding",{processor:"boolean",default:!0}),g("promotion",{processor:"boolean",default:!0}),g("resize",{processor:I=>I==="both"||B(I),default:!XT.deviceType.isTouch()}),g("sidebar_show",{processor:"string"}),g("help_accessibility",{processor:"boolean",default:s.hasPlugin("help")}),g("default_font_stack",{processor:"string[]",default:[]})},cW=Ki("readonly"),uv=Ki("disabled"),mF=Ki("height"),gF=Ki("width"),vR=JT(Ki("min_width")),Ic=JT(Ki("min_height")),BP=JT(Ki("max_width")),vF=JT(Ki("max_height")),uW=JT(Ki("style_formats")),dW=Ki("style_formats_merge"),hW=Ki("style_formats_autohide"),fW=Ki("content_langs"),pW=Ki("removed_menuitems"),Jw=Ki("toolbar_mode"),mW=Ki("toolbar_groups"),bF=Ki("toolbar_location"),sie=Ki("fixed_toolbar_container"),rie=Ki("fixed_toolbar_container_target"),gW=Ki("toolbar_persist"),vW=Ki("toolbar_sticky_offset"),bW=Ki("menubar"),VP=Ki("toolbar"),yW=Ki("file_picker_callback"),SW=Ki("file_picker_validator_handler"),CW=Ki("font_size_input_default_unit"),EW=Ki("file_picker_types"),wW=Ki("typeahead_urls"),_W=Ki("anchor_top"),AW=Ki("anchor_bottom"),TW=Ki("draggable_modal"),xW=Ki("statusbar"),yF=Ki("elementpath"),SF=Ki("branding"),CF=Ki("resize"),OW=Ki("paste_as_text"),EF=Ki("sidebar_show"),IW=Ki("promotion"),wF=Ki("help_accessibility"),RW=Ki("default_font_stack"),kW=Ki("skin"),_F=s=>s.options.get("skin")===!1,FP=s=>s.options.get("menubar")!==!1,DW=s=>{const l=s.options.get("skin_url");if(_F(s))return l;if(l)return s.documentBaseURI.toAbsolute(l);{const h=s.options.get("skin");return oie.baseURL+"/skins/ui/"+h}},iie=s=>ee.from(s.options.get("skin_url")),MW=s=>s.options.get("line_height_formats").split(" "),HP=s=>{const l=VP(s),h=v(l),g=x(l)&&l.length>0;return!bR(s)&&(g||h||l===!0)},AF=s=>{const l=Nn(9,g=>s.options.get("toolbar"+(g+1))),h=ws(l,v);return ol(h.length>0,h)},bR=s=>AF(s).fold(()=>{const l=VP(s);return ce(l,v)&&l.length>0},gt),TF=s=>bF(s)===gR.bottom,PW=s=>{if(!s.inline)return ee.none();const l=sie(s)??"";if(l.length>0)return oi(Ld(),l);const h=rie(s);return H(h)?ee.some(to.fromDom(h)):ee.none()},QT=s=>s.inline&&PW(s).isSome(),$P=s=>PW(s).getOrThunk(()=>Wa(ta(to.fromDom(s.getElement())))),xF=s=>s.inline&&!FP(s)&&!HP(s)&&!bR(s),ex=s=>(s.options.get("toolbar_sticky")||s.inline)&&!QT(s)&&!xF(s),FC=s=>!QT(s)&&s.options.get("ui_mode")==="split",NW=s=>{const l=s.options.get("menu");return ys(l,h=>({...h,items:h.items}))};var aie=Object.freeze({__proto__:null,get ToolbarMode(){return sg},get ToolbarLocation(){return gR},register:lW,getSkinUrl:DW,getSkinUrlOption:iie,isReadOnly:cW,isDisabled:uv,getSkin:kW,isSkinDisabled:_F,getHeightOption:mF,getWidthOption:gF,getMinWidthOption:vR,getMinHeightOption:Ic,getMaxWidthOption:BP,getMaxHeightOption:vF,getUserStyleFormats:uW,shouldMergeStyleFormats:dW,shouldAutoHideStyleFormats:hW,getLineHeightFormats:MW,getContentLanguages:fW,getRemovedMenuItems:pW,isMenubarEnabled:FP,isMultipleToolbars:bR,isToolbarEnabled:HP,isToolbarPersist:gW,getMultipleToolbarsOption:AF,getUiContainer:$P,useFixedContainer:QT,isSplitUiMode:FC,getToolbarMode:Jw,isDraggableModal:TW,isDistractionFree:xF,isStickyToolbar:ex,getStickyToolbarOffset:vW,getToolbarLocation:bF,isToolbarLocationBottom:TF,getToolbarGroups:mW,getMenus:NW,getMenubar:bW,getToolbar:VP,getFilePickerCallback:yW,getFilePickerTypes:EW,useTypeaheadUrls:wW,getAnchorTop:_W,getAnchorBottom:AW,getFilePickerValidatorHandler:SW,getFontSizeInputDefaultUnit:CW,useStatusBar:xW,useElementPath:yF,promotionEnabled:IW,useBranding:SF,getResize:CF,getPasteAsText:OW,getSidebarShow:EF,useHelpAccessibility:wF,getDefaultFontStack:RW});const OF=["visible","hidden","clip"],yR=s=>io(s).length>0&&!vn(OF,s),LW=s=>{if(Qe(s)){const l=ra(s,"overflow-x"),h=ra(s,"overflow-y");return yR(l)||yR(h)}else return!1},SR=s=>s.plugins.fullscreen&&s.plugins.fullscreen.isFullscreen(),lie=(s,l)=>{const h=rl(l,LW),g=h.length===0?na(l).map(Jr).map(E=>rl(E,LW)).getOr([]):h;return _t(g).map(E=>({element:E,others:g.slice(1),isFullscreen:()=>SR(s)}))},HC=(s,l)=>FC(s)?lie(s,l):ee.none(),Qw=s=>{const l=[...qt(s.others,Pl),Bu()];return s.isFullscreen()?Bu():id(Pl(s.element),l)};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:BW,setPrototypeOf:cie,isFrozen:UP,getPrototypeOf:tx,getOwnPropertyDescriptor:VW}=Object;let{freeze:Sp,seal:fb,create:FW}=Object,{apply:IF,construct:RF}=typeof Reflect<"u"&&Reflect;Sp||(Sp=function(l){return l}),fb||(fb=function(l){return l}),IF||(IF=function(l,h,g){return l.apply(h,g)}),RF||(RF=function(l,h){return new l(...h)});const zP=fm(Array.prototype.forEach),uie=fm(Array.prototype.lastIndexOf),HW=fm(Array.prototype.pop),CR=fm(Array.prototype.push),die=fm(Array.prototype.splice),jP=fm(String.prototype.toLowerCase),kF=fm(String.prototype.toString),DF=fm(String.prototype.match),I0=fm(String.prototype.replace),e_=fm(String.prototype.indexOf),hie=fm(String.prototype.trim),pb=fm(Object.prototype.hasOwnProperty),Cp=fm(RegExp.prototype.test),$C=t_(TypeError);function fm(s){return function(l){l instanceof RegExp&&(l.lastIndex=0);for(var h=arguments.length,g=new Array(h>1?h-1:0),E=1;E<h;E++)g[E-1]=arguments[E];return IF(s,l,g)}}function t_(s){return function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];return RF(s,h)}}function Mi(s,l){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jP;cie&&cie(s,null);let g=l.length;for(;g--;){let E=l[g];if(typeof E=="string"){const O=h(E);O!==E&&(UP(l)||(l[g]=O),E=O)}s[E]=!0}return s}function fie(s){for(let l=0;l<s.length;l++)pb(s,l)||(s[l]=null);return s}function tS(s){const l=FW(null);for(const[h,g]of BW(s))pb(s,h)&&(Array.isArray(g)?l[h]=fie(g):g&&typeof g=="object"&&g.constructor===Object?l[h]=tS(g):l[h]=g);return l}function ER(s,l){for(;s!==null;){const g=VW(s,l);if(g){if(g.get)return fm(g.get);if(typeof g.value=="function")return fm(g.value)}s=tx(s)}function h(){return null}return h}const $W=Sp(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),MF=Sp(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),PF=Sp(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),pie=Sp(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),NF=Sp(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),WP=Sp(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),LF=Sp(["#text"]),UW=Sp(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),GP=Sp(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),zW=Sp(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qP=Sp(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),BF=fb(/\{\{[\w\W]*|[\w\W]*\}\}/gm),SSe=fb(/<%[\w\W]*|[\w\W]*%>/gm),VF=fb(/\$\{[\w\W]*/gm),mie=fb(/^data-[\-\w.\u00B7-\uFFFF]+$/),gie=fb(/^aria-[\-\w]+$/),jW=fb(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),WW=fb(/^(?:\w+script|data):/i),GW=fb(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),qW=fb(/^html$/i),vie=fb(/^[a-z][.\w]*(-[.\w]+)+$/i);var FF=Object.freeze({__proto__:null,ARIA_ATTR:gie,ATTR_WHITESPACE:GW,CUSTOM_ELEMENT:vie,DATA_ATTR:mie,DOCTYPE_NAME:qW,ERB_EXPR:SSe,IS_ALLOWED_URI:jW,IS_SCRIPT_OR_DATA:WW,MUSTACHE_EXPR:BF,TMPLIT_EXPR:VF});const wR={element:1,text:3,progressingInstruction:7,comment:8,document:9},bie=function(){return typeof window>"u"?null:window},ZP=function(l,h){if(typeof l!="object"||typeof l.createPolicy!="function")return null;let g=null;const E="data-tt-policy-suffix";h&&h.hasAttribute(E)&&(g=h.getAttribute(E));const O="dompurify"+(g?"#"+g:"");try{return l.createPolicy(O,{createHTML(I){return I},createScriptURL(I){return I}})}catch{return console.warn("TrustedTypes policy "+O+" could not be created."),null}},ZW=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function yie(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bie();const l=N=>yie(N);if(l.version="3.2.6",l.removed=[],!s||!s.document||s.document.nodeType!==wR.document||!s.Element)return l.isSupported=!1,l;let{document:h}=s;const g=h,E=g.currentScript,{DocumentFragment:O,HTMLTemplateElement:I,Node:q,Element:Y,NodeFilter:ne,NamedNodeMap:he=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:ve,DOMParser:Re,trustedTypes:ze}=s,Ge=Y.prototype,et=ER(Ge,"cloneNode"),ft=ER(Ge,"remove"),Je=ER(Ge,"nextSibling"),yt=ER(Ge,"childNodes"),At=ER(Ge,"parentNode");if(typeof I=="function"){const N=h.createElement("template");N.content&&N.content.ownerDocument&&(h=N.content.ownerDocument)}let Xt,en="";const{implementation:ro,createNodeIterator:kn,createDocumentFragment:zn,getElementsByTagName:Vn}=h,{importNode:ds}=g;let Wo=ZW();l.isSupported=typeof BW=="function"&&typeof At=="function"&&ro&&ro.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ir,ERB_EXPR:Es,TMPLIT_EXPR:Qs,DATA_ATTR:zo,ARIA_ATTR:In,IS_SCRIPT_OR_DATA:no,ATTR_WHITESPACE:xs,CUSTOM_ELEMENT:er}=FF;let{IS_ALLOWED_URI:Jo}=FF,Ys=null;const Oi=Mi({},[...$W,...MF,...PF,...NF,...LF]);let bi=null;const Zh=Mi({},[...UW,...GP,...zW,...qP]);let $a=Object.seal(FW(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ap=null,pu=null,ug=!0,Tp=!0,gv=!1,B0=!0,Eb=!1,Ix=!0,V0=!1,h2=!1,a5=!1,k_=!1,CL=!1,F0=!1,l5=!0,VY=!1;const EL="user-content-";let QC=!0,eE=!1,D_={},cS=null;const kf=Mi({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let f2=null;const c5=Mi({},["audio","video","img","source","image","track"]);let wL=null;const FY=Mi({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_L="http://www.w3.org/1998/Math/MathML",Dy="http://www.w3.org/2000/svg",tE="http://www.w3.org/1999/xhtml";let Rx=tE,AL=!1,nE=null;const TL=Mi({},[_L,Dy,tE],kF);let p2=Mi({},["mi","mo","mn","ms","mtext"]),xL=Mi({},["annotation-xml"]);const Jfe=Mi({},["title","style","font","a","script"]);let m2=null;const Qfe=["application/xhtml+xml","text/html"],kx="text/html";let Df=null,Dx=null;const epe=h.createElement("form"),tpe=function(G){return G instanceof RegExp||G instanceof Function},u5=function(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Dx&&Dx===G)){if((!G||typeof G!="object")&&(G={}),G=tS(G),m2=Qfe.indexOf(G.PARSER_MEDIA_TYPE)===-1?kx:G.PARSER_MEDIA_TYPE,Df=m2==="application/xhtml+xml"?kF:jP,Ys=pb(G,"ALLOWED_TAGS")?Mi({},G.ALLOWED_TAGS,Df):Oi,bi=pb(G,"ALLOWED_ATTR")?Mi({},G.ALLOWED_ATTR,Df):Zh,nE=pb(G,"ALLOWED_NAMESPACES")?Mi({},G.ALLOWED_NAMESPACES,kF):TL,wL=pb(G,"ADD_URI_SAFE_ATTR")?Mi(tS(FY),G.ADD_URI_SAFE_ATTR,Df):FY,f2=pb(G,"ADD_DATA_URI_TAGS")?Mi(tS(c5),G.ADD_DATA_URI_TAGS,Df):c5,cS=pb(G,"FORBID_CONTENTS")?Mi({},G.FORBID_CONTENTS,Df):kf,Ap=pb(G,"FORBID_TAGS")?Mi({},G.FORBID_TAGS,Df):tS({}),pu=pb(G,"FORBID_ATTR")?Mi({},G.FORBID_ATTR,Df):tS({}),D_=pb(G,"USE_PROFILES")?G.USE_PROFILES:!1,ug=G.ALLOW_ARIA_ATTR!==!1,Tp=G.ALLOW_DATA_ATTR!==!1,gv=G.ALLOW_UNKNOWN_PROTOCOLS||!1,B0=G.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Eb=G.SAFE_FOR_TEMPLATES||!1,Ix=G.SAFE_FOR_XML!==!1,V0=G.WHOLE_DOCUMENT||!1,k_=G.RETURN_DOM||!1,CL=G.RETURN_DOM_FRAGMENT||!1,F0=G.RETURN_TRUSTED_TYPE||!1,a5=G.FORCE_BODY||!1,l5=G.SANITIZE_DOM!==!1,VY=G.SANITIZE_NAMED_PROPS||!1,QC=G.KEEP_CONTENT!==!1,eE=G.IN_PLACE||!1,Jo=G.ALLOWED_URI_REGEXP||jW,Rx=G.NAMESPACE||tE,p2=G.MATHML_TEXT_INTEGRATION_POINTS||p2,xL=G.HTML_INTEGRATION_POINTS||xL,$a=G.CUSTOM_ELEMENT_HANDLING||{},G.CUSTOM_ELEMENT_HANDLING&&tpe(G.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($a.tagNameCheck=G.CUSTOM_ELEMENT_HANDLING.tagNameCheck),G.CUSTOM_ELEMENT_HANDLING&&tpe(G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($a.attributeNameCheck=G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),G.CUSTOM_ELEMENT_HANDLING&&typeof G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&($a.allowCustomizedBuiltInElements=G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Eb&&(Tp=!1),CL&&(k_=!0),D_&&(Ys=Mi({},LF),bi=[],D_.html===!0&&(Mi(Ys,$W),Mi(bi,UW)),D_.svg===!0&&(Mi(Ys,MF),Mi(bi,GP),Mi(bi,qP)),D_.svgFilters===!0&&(Mi(Ys,PF),Mi(bi,GP),Mi(bi,qP)),D_.mathMl===!0&&(Mi(Ys,NF),Mi(bi,zW),Mi(bi,qP))),G.ADD_TAGS&&(Ys===Oi&&(Ys=tS(Ys)),Mi(Ys,G.ADD_TAGS,Df)),G.ADD_ATTR&&(bi===Zh&&(bi=tS(bi)),Mi(bi,G.ADD_ATTR,Df)),G.ADD_URI_SAFE_ATTR&&Mi(wL,G.ADD_URI_SAFE_ATTR,Df),G.FORBID_CONTENTS&&(cS===kf&&(cS=tS(cS)),Mi(cS,G.FORBID_CONTENTS,Df)),QC&&(Ys["#text"]=!0),V0&&Mi(Ys,["html","head","body"]),Ys.table&&(Mi(Ys,["tbody"]),delete Ap.tbody),G.TRUSTED_TYPES_POLICY){if(typeof G.TRUSTED_TYPES_POLICY.createHTML!="function")throw $C('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof G.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $C('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Xt=G.TRUSTED_TYPES_POLICY,en=Xt.createHTML("")}else Xt===void 0&&(Xt=ZP(ze,E)),Xt!==null&&typeof en=="string"&&(en=Xt.createHTML(""));Sp&&Sp(G),Dx=G}},HY=Mi({},[...MF,...PF,...pie]),Mx=Mi({},[...NF,...WP]),npe=function(G){let le=At(G);(!le||!le.tagName)&&(le={namespaceURI:Rx,tagName:"template"});const fe=jP(G.tagName),be=jP(le.tagName);return nE[G.namespaceURI]?G.namespaceURI===Dy?le.namespaceURI===tE?fe==="svg":le.namespaceURI===_L?fe==="svg"&&(be==="annotation-xml"||p2[be]):!!HY[fe]:G.namespaceURI===_L?le.namespaceURI===tE?fe==="math":le.namespaceURI===Dy?fe==="math"&&xL[be]:!!Mx[fe]:G.namespaceURI===tE?le.namespaceURI===Dy&&!xL[be]||le.namespaceURI===_L&&!p2[be]?!1:!Mx[fe]&&(Jfe[fe]||!HY[fe]):!!(m2==="application/xhtml+xml"&&nE[G.namespaceURI]):!1},H0=function(G){CR(l.removed,{element:G});try{At(G).removeChild(G)}catch{ft(G)}},M_=function(G,le){try{CR(l.removed,{attribute:le.getAttributeNode(G),from:le})}catch{CR(l.removed,{attribute:null,from:le})}if(le.removeAttribute(G),G==="is")if(k_||CL)try{H0(le)}catch{}else try{le.setAttribute(G,"")}catch{}},$Y=function(G){let le=null,fe=null;if(a5)G="<remove></remove>"+G;else{const Ke=DF(G,/^[\r\n\t ]+/);fe=Ke&&Ke[0]}m2==="application/xhtml+xml"&&Rx===tE&&(G='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+G+"</body></html>");const be=Xt?Xt.createHTML(G):G;if(Rx===tE)try{le=new Re().parseFromString(be,m2)}catch{}if(!le||!le.documentElement){le=ro.createDocument(Rx,"template",null);try{le.documentElement.innerHTML=AL?en:be}catch{}}const Ne=le.body||le.documentElement;return G&&fe&&Ne.insertBefore(h.createTextNode(fe),Ne.childNodes[0]||null),Rx===tE?Vn.call(le,V0?"html":"body")[0]:V0?le.documentElement:Ne},ope=function(G){return kn.call(G.ownerDocument||G,G,ne.SHOW_ELEMENT|ne.SHOW_COMMENT|ne.SHOW_TEXT|ne.SHOW_PROCESSING_INSTRUCTION|ne.SHOW_CDATA_SECTION,null)},t=function(G){return G instanceof ve&&(typeof G.nodeName!="string"||typeof G.textContent!="string"||typeof G.removeChild!="function"||!(G.attributes instanceof he)||typeof G.removeAttribute!="function"||typeof G.setAttribute!="function"||typeof G.namespaceURI!="string"||typeof G.insertBefore!="function"||typeof G.hasChildNodes!="function")},r=function(G){return typeof q=="function"&&G instanceof q};function a(N,G,le){zP(N,fe=>{fe.call(l,G,le,Dx)})}const u=function(G){let le=null;if(a(Wo.beforeSanitizeElements,G,null),t(G))return H0(G),!0;const fe=Df(G.nodeName);if(a(Wo.uponSanitizeElement,G,{tagName:fe,allowedTags:Ys}),Ix&&G.hasChildNodes()&&!r(G.firstElementChild)&&Cp(/<[/\w!]/g,G.innerHTML)&&Cp(/<[/\w!]/g,G.textContent)||G.nodeType===wR.progressingInstruction||Ix&&G.nodeType===wR.comment&&Cp(/<[/\w]/g,G.data))return H0(G),!0;if(!Ys[fe]||Ap[fe]){if(!Ap[fe]&&y(fe)&&($a.tagNameCheck instanceof RegExp&&Cp($a.tagNameCheck,fe)||$a.tagNameCheck instanceof Function&&$a.tagNameCheck(fe)))return!1;if(QC&&!cS[fe]){const be=At(G)||G.parentNode,Ne=yt(G)||G.childNodes;if(Ne&&be){const Ke=Ne.length;for(let $e=Ke-1;$e>=0;--$e){const Xe=et(Ne[$e],!0);Xe.__removalCount=(G.__removalCount||0)+1,be.insertBefore(Xe,Je(G))}}}return H0(G),!0}return G instanceof Y&&!npe(G)||(fe==="noscript"||fe==="noembed"||fe==="noframes")&&Cp(/<\/no(script|embed|frames)/i,G.innerHTML)?(H0(G),!0):(Eb&&G.nodeType===wR.text&&(le=G.textContent,zP([Ir,Es,Qs],be=>{le=I0(le,be," ")}),G.textContent!==le&&(CR(l.removed,{element:G.cloneNode()}),G.textContent=le)),a(Wo.afterSanitizeElements,G,null),!1)},f=function(G,le,fe){if(l5&&(le==="id"||le==="name")&&(fe in h||fe in epe))return!1;if(!(Tp&&!pu[le]&&Cp(zo,le))){if(!(ug&&Cp(In,le))){if(!bi[le]||pu[le]){if(!(y(G)&&($a.tagNameCheck instanceof RegExp&&Cp($a.tagNameCheck,G)||$a.tagNameCheck instanceof Function&&$a.tagNameCheck(G))&&($a.attributeNameCheck instanceof RegExp&&Cp($a.attributeNameCheck,le)||$a.attributeNameCheck instanceof Function&&$a.attributeNameCheck(le))||le==="is"&&$a.allowCustomizedBuiltInElements&&($a.tagNameCheck instanceof RegExp&&Cp($a.tagNameCheck,fe)||$a.tagNameCheck instanceof Function&&$a.tagNameCheck(fe))))return!1}else if(!wL[le]){if(!Cp(Jo,I0(fe,xs,""))){if(!((le==="src"||le==="xlink:href"||le==="href")&&G!=="script"&&e_(fe,"data:")===0&&f2[G])){if(!(gv&&!Cp(no,I0(fe,xs,"")))){if(fe)return!1}}}}}}return!0},y=function(G){return G!=="annotation-xml"&&DF(G,er)},T=function(G){a(Wo.beforeSanitizeAttributes,G,null);const{attributes:le}=G;if(!le||t(G))return;const fe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:bi,forceKeepAttr:void 0};let be=le.length;for(;be--;){const Ne=le[be],{name:Ke,namespaceURI:$e,value:Xe}=Ne,wt=Df(Ke),Tt=Xe;let It=Ke==="value"?Tt:hie(Tt);if(fe.attrName=wt,fe.attrValue=It,fe.keepAttr=!0,fe.forceKeepAttr=void 0,a(Wo.uponSanitizeAttribute,G,fe),It=fe.attrValue,VY&&(wt==="id"||wt==="name")&&(M_(Ke,G),It=EL+It),Ix&&Cp(/((--!?|])>)|<\/(style|title)/i,It)){M_(Ke,G);continue}if(fe.forceKeepAttr)continue;if(!fe.keepAttr){M_(Ke,G);continue}if(!B0&&Cp(/\/>/i,It)){M_(Ke,G);continue}Eb&&zP([Ir,Es,Qs],Mn=>{It=I0(It,Mn," ")});const fn=Df(G.nodeName);if(!f(fn,wt,It)){M_(Ke,G);continue}if(Xt&&typeof ze=="object"&&typeof ze.getAttributeType=="function"&&!$e)switch(ze.getAttributeType(fn,wt)){case"TrustedHTML":{It=Xt.createHTML(It);break}case"TrustedScriptURL":{It=Xt.createScriptURL(It);break}}if(It!==Tt)try{$e?G.setAttributeNS($e,Ke,It):G.setAttribute(Ke,It),t(G)?H0(G):HW(l.removed)}catch{M_(Ke,G)}}a(Wo.afterSanitizeAttributes,G,null)},M=function N(G){let le=null;const fe=ope(G);for(a(Wo.beforeSanitizeShadowDOM,G,null);le=fe.nextNode();)a(Wo.uponSanitizeShadowNode,le,null),u(le),T(le),le.content instanceof O&&N(le.content);a(Wo.afterSanitizeShadowDOM,G,null)};return l.sanitize=function(N){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=null,fe=null,be=null,Ne=null;if(AL=!N,AL&&(N="<!-->"),typeof N!="string"&&!r(N))if(typeof N.toString=="function"){if(N=N.toString(),typeof N!="string")throw $C("dirty is not a string, aborting")}else throw $C("toString is not a function");if(!l.isSupported)return N;if(h2||u5(G),l.removed=[],typeof N=="string"&&(eE=!1),eE){if(N.nodeName){const Xe=Df(N.nodeName);if(!Ys[Xe]||Ap[Xe])throw $C("root node is forbidden and cannot be sanitized in-place")}}else if(N instanceof q)le=$Y("<!---->"),fe=le.ownerDocument.importNode(N,!0),fe.nodeType===wR.element&&fe.nodeName==="BODY"||fe.nodeName==="HTML"?le=fe:le.appendChild(fe);else{if(!k_&&!Eb&&!V0&&N.indexOf("<")===-1)return Xt&&F0?Xt.createHTML(N):N;if(le=$Y(N),!le)return k_?null:F0?en:""}le&&a5&&H0(le.firstChild);const Ke=ope(eE?N:le);for(;be=Ke.nextNode();)u(be),T(be),be.content instanceof O&&M(be.content);if(eE)return N;if(k_){if(CL)for(Ne=zn.call(le.ownerDocument);le.firstChild;)Ne.appendChild(le.firstChild);else Ne=le;return(bi.shadowroot||bi.shadowrootmode)&&(Ne=ds.call(g,Ne,!0)),Ne}let $e=V0?le.outerHTML:le.innerHTML;return V0&&Ys["!doctype"]&&le.ownerDocument&&le.ownerDocument.doctype&&le.ownerDocument.doctype.name&&Cp(qW,le.ownerDocument.doctype.name)&&($e="<!DOCTYPE "+le.ownerDocument.doctype.name+`>
`+$e),Eb&&zP([Ir,Es,Qs],Xe=>{$e=I0($e,Xe," ")}),Xt&&F0?Xt.createHTML($e):$e},l.setConfig=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};u5(N),h2=!0},l.clearConfig=function(){Dx=null,h2=!1},l.isValidAttribute=function(N,G,le){Dx||u5({});const fe=Df(N),be=Df(G);return f(fe,be,le)},l.addHook=function(N,G){typeof G=="function"&&CR(Wo[N],G)},l.removeHook=function(N,G){if(G!==void 0){const le=uie(Wo[N],G);return le===-1?void 0:die(Wo[N],le,1)[0]}return HW(Wo[N])},l.removeHooks=function(N){Wo[N]=[]},l.removeAllHooks=function(){Wo=ZW()},l}var HF=yie();const KW=s=>HF().sanitize(s);var bd=tinymce.util.Tools.resolve("tinymce.util.I18n");const Sie={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},YW="temporary-placeholder",KP=s=>()=>Zt(s,YW).getOr("!not found!"),YP=(s,l)=>{const h=s.toLowerCase();if(bd.isRtl()){const g=Yf(h,"-rtl");return Zn(l,g)?g:h}else return h},$F=(s,l)=>Zt(l,YP(s,l)),R0=(s,l)=>{const h=l();return $F(s,h).getOrThunk(KP(h))},n_=(s,l,h)=>{const g=l();return $F(s,g).or(h).getOrThunk(KP(g))},Cie=s=>bd.isRtl()?Zn(Sie,s):!1,XW=()=>Fs("add-focusable",[Ea(s=>{hf(s.element,"svg").each(l=>rs(l,"focusable","false"))})]),UF=(s,l,h,g)=>{const E=Cie(l)?["tox-icon--flip"]:[],O=Zt(h,YP(l,h)).or(g).getOrThunk(KP(h));return{dom:{tag:s.tag,attributes:s.attributes??{},classes:s.classes.concat(E),innerHtml:O},behaviours:Qn([...s.behaviours??[],XW()]),eventOrder:s.eventOrder??{}}},rg=(s,l,h,g=ee.none())=>UF(l,s,h(),g),JW=(s,l,h)=>{const g=h(),E=kt(s,O=>Zn(g,YP(O,g)));return UF(l,E.getOr(YW),g,ee.none())},Eie={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},zF=og({name:"Notification",factory:s=>{const l=uo("notification-text"),h=di({dom:J1(`<p id=${l}>${KW(s.backstageProvider.translate(s.text))}</p>`),behaviours:Qn([js.config({})])}),g=Ge=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${Ge}%`}}}),E=Ge=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${Ge}%`}}),O=di({dom:{tag:"div",classes:s.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[g(0)]},E(0)],behaviours:Qn([js.config({})])}),Y={updateProgress:(Ge,et)=>{Ge.getSystem().isConnected()&&O.getOpt(Ge).each(ft=>{js.set(ft,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[g(et)]},E(et)])})},updateText:(Ge,et)=>{if(Ge.getSystem().isConnected()){const ft=h.get(Ge);js.set(ft,[pa(et)])}}},ne=mn([s.icon.toArray(),[s.level],ee.from(Eie[s.level]).toArray()]),he=di(gd.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":s.backstageProvider.translate("Close")}},components:[rg("close",{tag:"span",classes:["tox-icon"]},s.iconProvider)],buttonBehaviours:Qn([ma.config({}),ga.config({...s.backstageProvider.tooltips.getConfig({tooltipText:s.backstageProvider.translate("Close")})})]),action:Ge=>{s.onAction(Ge)}})),ve=JW(ne,{tag:"div",classes:["tox-notification__icon"]},s.iconProvider),Re={dom:{tag:"div",classes:["tox-notification__body"]},components:[h.asSpec()],behaviours:Qn([js.config({})])},ze=[ve,Re];return{uid:s.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":l},classes:["tox-notification","tox-notification--in",`tox-notification--${s.level}`]},behaviours:Qn([ma.config({}),Hs.config({}),Xo.config({mode:"special",onEscape:Ge=>(s.onAction(Ge),ee.some(!0))})]),components:ze.concat(s.progress?[O.asSpec()]:[]).concat([he.asSpec()]),apis:Y}},configFields:[dh("level","info",["success","error","warning","warn","info"]),xn("progress"),li("icon"),xn("onAction"),xn("text"),xn("iconProvider"),xn("backstageProvider")],apis:{updateProgress:(s,l,h)=>{s.updateProgress(l,h)},updateText:(s,l,h)=>{s.updateText(l,h)}}});var wie=(s,l,h,g)=>{const E=l.backstage.shared,O=()=>to.fromDom(s.queryCommandValue("ToggleView")===""?s.getContentAreaContainer():s.getContainer()),I=()=>{const ve=Pl(O());return ee.some(ve)},q=ve=>{I().each(Re=>{Tn(ve,ze=>{Sr(ze.element,"width"),bc(ze.element)>Re.width&&_s(ze.element,"width",Re.width+"px")})})};return{open:(ve,Re,ze)=>{const Ge=()=>{const At=kn=>{js.remove(kn,ft),Je()},Xt=(kn,zn)=>{fr(kn.element).length===0?en(kn,zn):ro(kn,zn)},en=(kn,zn)=>{Qa.hide(kn),g.clear(),zn&&s.focus()},ro=(kn,zn)=>{zn&&Xo.focusIn(kn)};g.on(kn=>{Re();const zn=ze();At(kn),Xt(kn,zn)})},et=()=>!ex(s)||!E.header.isPositionedAtTop(),ft=k(zF.sketch({text:ve.text,level:vn(["success","error","warning","warn","info"],ve.type)?ve.type:void 0,progress:ve.progressBar===!0,icon:ve.icon,onAction:Ge,iconProvider:E.providers.icons,backstageProvider:E.providers}));if(g.isSet()){const At=W(ft);g.on(Xt=>{js.append(Xt,At),Qa.reposition(Xt),ft.hasConfigured(Ja)&&Ja.refresh(Xt),q(Xt.components())})}else{const At=k(Qa.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:E.getSink,fireDismissalEventInstead:{},...E.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Qn([Xo.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),js.config({}),...et()?[Ja.config({contextual:{lazyContext:()=>ee.some(Pl(O())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:kn=>HC(s,kn.element).map(Vn=>({bounds:Qw(Vn),optScrollEnv:ee.some({currentScrollTop:Vn.element.dom.scrollTop,scrollElmTop:Lc(Vn.element).top})})).getOrThunk(()=>({bounds:Bu(),optScrollEnv:ee.none()}))})]:[]])})),Xt=W(ft),en={maxHeightFunction:T1()},ro={...E.anchors.banner(),overrides:en};g.set(At),h.add(At),Qa.showWithinBounds(At,Xt,{anchor:ro},I)}oe(ve.timeout)&&ve.timeout>0&&LP.setEditorTimeout(s,()=>{Ge()},ve.timeout);const Je=()=>{g.on(At=>{Qa.reposition(At),At.hasConfigured(Ja)&&Ja.refresh(At),q(At.components())})};return{close:Ge,reposition:Je,text:At=>{zF.updateText(ft,At)},settings:ve,getEl:()=>ft.element.dom,progressBar:{value:At=>{zF.updateProgress(ft,At)}}}},close:ve=>{ve.close()},getArgs:ve=>ve.settings}};const _ie={setup:(s,l)=>{const h=(E,O)=>{cs(E,rc(),{raw:O})},g=()=>s.getMenu().bind(ri.getHighlighted);l.on("keydown",E=>{const O=E.which;s.isActive()&&(s.isMenuOpen()?O===13?(g().each(cw),E.preventDefault()):O===40?(g().fold(()=>{s.getMenu().each(ri.highlightFirst)},I=>{h(I,E)}),E.preventDefault(),E.stopImmediatePropagation()):(O===37||O===38||O===39)&&g().each(I=>{h(I,E),E.preventDefault(),E.stopImmediatePropagation()}):(O===13||O===38||O===40)&&s.cancelIfNecessary())}),l.on("NodeChange",()=>{s.isActive()&&!s.isProcessingAction()&&!l.queryCommandState("mceAutoCompleterInRange")&&s.cancelIfNecessary()})}};var jF;(function(s){s[s.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",s[s.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(jF||(jF={}));var mb=jF;const _R="tox-menu-nav__js",XP="tox-collection__item",WF="tox-swatch",Aie={normal:_R,color:WF},JP="tox-collection__item--enabled",Tie="tox-collection__group-heading",QW="tox-collection__item-icon",xie="tox-collection__item-image",e9="tox-collection__item-image-selector",GF="tox-collection__item-label",Oie="tox-collection__item-accessory",t9="tox-collection__item-caret",Iie="tox-collection__item-checkmark",o_="tox-collection__item--active",qF="tox-collection__item-container",n9="tox-collection__item-container--column",o9="tox-collection__item-container--row",Rie="tox-collection__item-container--align-right",kie="tox-collection__item-container--align-left",Die="tox-collection__item-container--valign-top",Mie="tox-collection__item-container--valign-middle",s9="tox-collection__item-container--valign-bottom",s_=s=>Zt(Aie,s).getOr(_R),Pie=s=>s==="color"?"tox-swatches":"tox-menu",ZF=s=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Pie(s),tieredMenu:"tox-tiered-menu"}),UC=s=>{const l=ZF(s);return{backgroundMenu:l.backgroundMenu,selectedMenu:l.selectedMenu,menu:l.menu,selectedItem:l.selectedItem,item:s_(s)}},QP=(s,l,h)=>{const g=ZF(h);return{tag:"div",classes:mn([[g.menu,`tox-menu-${l}-column`],s?[g.hasIcons]:[]])}},dv=[Q1.parts.items({})],r_=(s,l,h)=>{const g=ZF(h);return{dom:{tag:"div",classes:mn([[g.tieredMenu]])},markers:UC(h)}},KF=uo("refetch-trigger-event"),r9=uo("redirect-menu-item-interaction"),i9="tox-menu__searcher",eN=s=>oi(s.element,`.${i9}`).bind(l=>s.getSystem().getByDom(l).toOptional()),a9=eN,l9=(s,l)=>{po.setValue(s,l.fetchPattern),s.element.dom.selectionStart=l.selectionStart,s.element.dom.selectionEnd=l.selectionEnd},YF=s=>{const l=po.getValue(s),h=s.element.dom.selectionStart,g=s.element.dom.selectionEnd;return{fetchPattern:l,selectionStart:h,selectionEnd:g}},Nie=(s,l)=>{nr(l.element,"id").each(h=>rs(s.element,"aria-activedescendant",h))},Lie=s=>{const l=(E,O)=>(O.cut(),ee.none()),h=(E,O)=>{const I={interactionEvent:O.event,eventType:O.event.raw.type};return cs(E,r9,I),ee.some(!0)},g="searcher-events";return{dom:{tag:"div",classes:[XP]},components:[lv.sketch({inputClasses:[i9,"tox-textfield"],inputAttributes:{...s.placeholder.map(E=>({placeholder:s.i18n(E)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Qn([Fs(g,[dn(Xp(),E=>{Cr(E,KF)}),dn(rc(),(E,O)=>{O.event.raw.key==="Escape"&&O.stop()})]),Xo.config({mode:"special",onLeft:l,onRight:l,onSpace:l,onEnter:h,onEscape:h,onUp:h,onDown:h})]),eventOrder:{keydown:[g,Xo.name()]}})]}},AR="tox-collection--results__js",c9=s=>s.dom?{...s,dom:{...s.dom,attributes:{...s.dom.attributes??{},id:uo("aria-item-search-result-id"),"aria-selected":"false"}}}:s,XF="Use arrow keys to navigate.",TR=(s,l)=>h=>{const g=ho(h,l);return qt(g,E=>({dom:s,components:E}))},u9=s=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":bd.translate(XF)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Q1.parts.items({preprocess:s!=="auto"?TR({tag:"div",classes:["tox-swatches__row"]},s):Me})]}]}),Bie=s=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[Q1.parts.items({preprocess:s!=="auto"?TR({tag:"div",classes:["tox-image-selector__row"]},s):Me})]}]}),Vie=s=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Q1.parts.items({preprocess:TR({tag:"div",classes:["tox-collection__group"]},s)})]}),d9=(s,l)=>{const h=[];let g=[];return Tn(s,(E,O)=>{l(E,O)?(g.length>0&&h.push(g),g=[],(Zn(E.dom,"innerHtml")||E.components&&E.components.length>0)&&g.push(E)):g.push(E)}),g.length>0&&h.push(g),qt(h,E=>({dom:{tag:"div",classes:["tox-collection__group"]},components:E}))},JF=(s,l,h)=>Q1.parts.items({preprocess:g=>{const E=qt(g,h);return s!=="auto"&&s>1?TR({tag:"div",classes:["tox-collection__group"]},s)(E):d9(E,(O,I)=>l[I].type==="separator")}}),Fie=s=>To(s,l=>l.type==="widget"),xR=(s,l,h=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(s===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...Fie(l)?{"aria-label":bd.translate(XF)}:{}}},components:[JF(s,l,Me)]}),k0=(s,l,h=!0)=>{const g=uo("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",AR].concat(s===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:g}},components:[JF(s,l,c9)]}},h9=(s,l,h)=>{const g=uo("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(s===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Lie({i18n:bd.translate,placeholder:h.placeholder}),{dom:{tag:"div",classes:[...s===1?["tox-collection--list"]:["tox-collection--grid"],AR],attributes:{id:g}},components:[JF(s,l,c9)]}]}},hv=(s,l=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Q1.parts.items({preprocess:h=>d9(h,(g,E)=>s[E].type==="separator")})]}),OR=s=>To(s,l=>"icon"in l&&l.icon!==void 0),ig=s=>(console.error(up(s)),console.log(s),ee.none()),Hie=(s,l,h,g,E)=>{const O=hv(h);return{value:s,dom:O.dom,components:O.components,items:h}},nS=(s,l,h,g,E)=>{const O=()=>E.menuType!=="searchable"?xR(g,h):E.searchMode.searchMode==="search-with-field"?h9(g,h,E.searchMode):k0(g,h);if(E.menuType==="color"){const I=u9(g);return{value:s,dom:I.dom,components:I.components,items:h}}else if(E.menuType==="imageselector"&&g!=="auto"){const I=Bie(g);return{value:s,dom:I.dom,components:I.components,items:h}}else if(E.menuType==="normal"&&g==="auto"){const I=xR(g,h);return{value:s,dom:I.dom,components:I.components,items:h}}else if(E.menuType==="normal"||E.menuType==="searchable"){const I=O();return{value:s,dom:I.dom,components:I.components,items:h}}else if(E.menuType==="listpreview"&&g!=="auto"){const I=Vie(g);return{value:s,dom:I.dom,components:I.components,items:h}}else return{value:s,dom:QP(l,g,E.menuType),components:dv,items:h}},Bl=oc("type"),IR=oc("name"),nx=oc("label"),oS=oc("text"),f9=oc("title"),sS=oc("icon"),p9=oc("url"),i_=oc("value"),$ie=$h("fetch"),QF=$h("getSubmenuItems"),a_=$h("onAction"),eH=$h("onItemAction"),zC=ci("onSetup",()=>re),m9=il("name"),gb=il("text"),Uie=il("role"),fv=il("icon"),l_=il("tooltip"),zie=il("chevronTooltip"),c_=il("label"),tH=il("shortcut"),nH=Yp("select"),ox=Vc("active",!1),RR=Vc("borderless",!1),vb=Vc("enabled",!0),kR=Vc("primary",!1),g9=s=>Wt("columns",s),oH=Wt("meta",{}),sH=ci("onAction",re),u_=s=>Va("type",s),sx=s=>yc("name","name",iu(()=>uo(`${s}-name`)),Ba),v9=s=>yc("value","value",iu(()=>uo(`${s}-value`)),Bn()),jie=[Bl,oS,gf("level",["info","warn","error","success"]),sS,Wt("url","")],rH=vs(jie),d_=s=>[Bl,s],b9=[Bl,oS,vb,sx("button"),fv,RR,IA("buttonType",["primary","secondary","toolbar"]),kR,Va("context","mode:design")],DR=vs(b9),rx=[Bl,IR],bb=rx.concat([c_]),Wie=rx.concat([nx,vb,Va("context","mode:design")]),Gie=vs(Wie),h_=yr,y9=bb.concat([g9("auto"),Va("context","mode:design")]),qie=vs(y9),S9=YS([i_,oS,sS]),Zie=bb.concat([Va("storageKey","default"),Va("context","mode:design")]),Kie=vs(Zie),Yie=Ba,Jie=vs(bb),Qie=Ba,eae=rx.concat([Va("tag","textarea"),oc("scriptId"),oc("scriptUrl"),Yp("onFocus"),JS("settings",void 0)]),tae=rx.concat([Va("tag","textarea"),$h("init")]),nae=Um(s=>ka("customeditor.old",ch(tae),s).orThunk(()=>ka("customeditor.new",ch(eae),s))),oae=Ba,jC=[vb,gb,Uie,tH,v9("menuitem"),oH,Va("context","mode:design")],sae=vs([Bl,IR].concat(jC)),C9=yr,iH=[sx("button"),fv,dh("align","end",["start","end"]),kR,vb,IA("buttonType",["primary","secondary"]),Va("context","mode:design")],E9=[...iH,oS],aH=[gf("type",["submit","cancel","custom"]),...E9],rae=[gf("type",["menu"]),gb,l_,fv,Hd("items",sae),...iH],iae=[...iH,gf("type",["togglebutton"]),l_,fv,gb,Vc("active",!1)],aae=ud("type",{submit:aH,cancel:aH,custom:aH,menu:rae,togglebutton:iae}),w9=bb.concat([Va("context","mode:design")]),_9=vs(w9),lae=a0(),tN=s=>[Bl,l0("columns"),s],cae=[Bl,oc("html"),dh("presets","presentation",["presentation","document"]),ci("onInit",re),Vc("stretched",!1)],uae=vs(cae),dae=bb.concat([Vc("border",!1),Vc("sandboxed",!0),Vc("streamContent",!1),Vc("transparent",!0)]),hae=vs(dae),fae=Ba,pae=vs(rx.concat([il("height")])),mae=vs([oc("url"),cy("zoom"),cy("cachedWidth"),cy("cachedHeight")]),gae=bb.concat([il("inputMode"),il("placeholder"),Vc("maximized",!1),vb,Va("context","mode:design")]),WC=vs(gae),vae=Ba,bae=s=>[Bl,nx,s,dh("align","start",["start","center","end"]),il("for")],A9=[oS,i_],yae=[oS,Hd("items",ly("items",()=>T9))],T9=ay([vs(A9),vs(yae)]),Sae=bb.concat([Hd("items",T9),vb,Va("context","mode:design")]),Cae=vs(Sae),lH=Ba,x9=bb.concat([OA("items",[oS,i_]),u0("size",1),vb,Va("context","mode:design")]),cH=vs(x9),nN=Ba,ix=bb.concat([Vc("constrain",!0),vb,Va("context","mode:design")]),Eae=vs(ix),uH=vs([oc("width"),oc("height")]),wae=rx.concat([nx,u0("min",0),u0("max",0)]),ax=vs(wae),_ae=ry,oN=[Bl,Hd("header",Ba),Hd("cells",ld(Ba))],dH=vs(oN),Aae=bb.concat([il("placeholder"),Vc("maximized",!1),vb,Va("context","mode:design"),XS("spellcheck")]),Tae=vs(Aae),xae=Ba,hH=[Va("buttonType","default"),il("text"),il("tooltip"),il("icon"),dd("search",!1,ay([yr,vs([il("placeholder")])],s=>B(s)?s?ee.some({placeholder:ee.none()}):ee.none():ee.some(s))),$h("fetch"),ci("onSetup",()=>re),Va("context","mode:design")],O9=vs([Bl,...hH]),I9=s=>ka("menubutton",O9,s),R9=[gf("type",["directory","leaf"]),f9,oc("id"),Hu("menu",O9),il("customStateIcon"),il("customStateIconTooltip")],sN=vs(R9),Iae=R9.concat([Hd("children",ly("children",()=>$m("type",{directory:k9,leaf:sN})))]),k9=vs(Iae),Rae=$m("type",{directory:k9,leaf:sN}),D9=[Bl,Hd("items",Rae),Yp("onLeafAction"),Yp("onToggleExpand"),zv("defaultExpandedIds",[],Ba),il("defaultSelectedId")],kae=vs(D9),fH=bb.concat([dh("filetype","file",["image","media","file"]),vb,il("picker_text"),Va("context","mode:design")]),M9=vs(fH),P9=vs([i_,oH]),pH=s=>yc("items","items",pf(),ld(Um(l=>ka(`Checking item of ${s}`,mH,l).fold(h=>$o.error(up(h)),h=>$o.value(h))))),mH=mf(()=>$m("type",{alertbanner:rH,bar:vs(d_(pH("bar"))),button:DR,checkbox:Gie,colorinput:Kie,colorpicker:Jie,dropzone:_9,grid:vs(tN(pH("grid"))),iframe:hae,input:WC,listbox:Cae,selectbox:cH,sizeinput:Eae,slider:ax,textarea:Tae,urlinput:M9,customeditor:nae,htmlpanel:uae,imagepreview:pae,collection:qie,label:vs(bae(pH("label"))),table:dH,tree:kae,panel:rN})),N9=[Bl,Wt("classes",[]),Hd("items",mH)],rN=vs(N9),Dae=[sx("tab"),f9,Hd("items",mH)],Mae=[Bl,OA("tabs",Dae)],Pae=vs(Mae),Nae=E9,Lae=aae,Bae=vs([oc("title"),Fu("body",$m("type",{panel:rN,tabpanel:Pae})),Va("size","normal"),zv("buttons",[],Lae),Wt("initialData",{}),ci("onAction",re),ci("onChange",re),ci("onSubmit",re),ci("onClose",re),ci("onCancel",re),ci("onTabChange",re)]),Vae=s=>ka("dialog",Bae,s),gH=vs([gf("type",["cancel","custom"]),...Nae]),Fae=vs([oc("title"),oc("url"),cy("height"),cy("width"),qE("buttons",gH),ci("onAction",re),ci("onCancel",re),ci("onClose",re),ci("onMessage",re)]),vH=s=>ka("dialog",Fae,s),bH=s=>S(s)?[s].concat(Ze(Jn(s),bH)):x(s)?Ze(s,bH):[],Hae=s=>v(s.type)&&v(s.name),yH={checkbox:h_,colorinput:Yie,colorpicker:Qie,dropzone:lae,input:vae,iframe:fae,imagepreview:mae,selectbox:nN,sizeinput:uH,slider:_ae,listbox:lH,size:uH,textarea:xae,urlinput:P9,customeditor:oae,collection:S9,togglemenuitem:C9},$ae=s=>ee.from(yH[s.type]),Uae=s=>ws(bH(s),Hae),L9=s=>{const l=Uae(s),h=Ze(l,g=>$ae(g).fold(()=>[],E=>[Fu(g.name,E)]));return vs(h)},B9=s=>{const l=cp(Vae(s)),h=L9(s),g=s.initialData??{};return{internalDialog:l,dataValidator:h,initialData:g}},f_={open:(s,l)=>{const h=B9(l);return s(h.internalDialog,h.initialData,h.dataValidator)},openUrl:(s,l)=>{const h=cp(vH(l));return s(h)},redial:s=>B9(s)},V9=vs([Bl,gb]),zae=s=>ka("separatormenuitem",V9,s),jae=vs([u_("autocompleteitem"),ox,vb,oH,i_,gb,fv]),Wae=s=>ka("Autocompleter.Separator",V9,s),Gae=s=>ka("Autocompleter.Item",jae,s),p_=[vb,l_,fv,gb,zC,Va("context","mode:design")],F9=vs([Bl,a_,tH].concat(p_)),SH=s=>ka("toolbarbutton",F9,s),CH=[ox].concat(p_),qae=vs(CH.concat([Bl,a_,tH])),H9=s=>ka("ToggleButton",qae,s),iN=[ci("predicate",rt),dh("scope","node",["node","editor"]),dh("position","selection",["node","selection","line"])],Zae=p_.concat([u_("contextformbutton"),Va("align","end"),kR,a_,Bc("original",Me)]),$9=CH.concat([u_("contextformbutton"),Va("align","end"),kR,a_,Bc("original",Me)]),U9=p_.concat([u_("contextformbutton")]),z9=CH.concat([u_("contextformtogglebutton")]),EH=ud("type",{contextformbutton:Zae,contextformtogglebutton:$9}),wH=[c_,Hd("commands",EH),Hu("launch",ud("type",{contextformbutton:U9,contextformtogglebutton:z9})),ci("onInput",re),ci("onSetup",re)],j9=[...iN,...wH,gf("type",["contextform"]),ci("initValue",F("")),il("placeholder")],Kae=[...iN,...wH,gf("type",["contextsliderform"]),ci("initValue",F(0)),ci("min",F(0)),ci("max",F(100))],Yae=[...iN,...wH,gf("type",["contextsizeinputform"]),ci("initValue",F({width:"",height:""}))],Xae=ud("type",{contextform:j9,contextsliderform:Kae,contextsizeinputform:Yae}),Jae=s=>ka("ContextForm",Xae,s),_H=p_.concat([u_("contexttoolbarbutton")]),rS=vs([u_("contexttoolbar"),uh("launch",_H),Fu("items",ay([Ba,YS([il("name"),il("label"),Hd("items",Ba)])]))].concat(iN)),Qae=s=>({name:s.name.getOrUndefined(),label:s.label.getOrUndefined(),items:s.items}),MR=s=>({...s,launch:s.launch.getOrUndefined(),items:v(s.items)?s.items:qt(s.items,Qae)}),ele=s=>ka("ContextToolbar",rS,s),AH=[Bl,oc("src"),il("alt"),zv("classes",[],Ba)],tle=vs(AH),nle=[Bl,oS,m9,zv("classes",["tox-collection__item-label"],Ba)],ole=vs(nle),TH=mf(()=>$m("type",{cardimage:tle,cardtext:ole,cardcontainer:sle})),sle=vs([Bl,Va("direction","horizontal"),Va("align","left"),Va("valign","middle"),Hd("items",TH)]),xH=vs([Bl,c_,Hd("items",TH),zC,sH].concat(jC)),OH=s=>ka("cardmenuitem",xH,s),IH=vs([Bl,ox,fv,c_].concat(jC)),rle=s=>ka("choicemenuitem",IH,s),Ep=[Bl,oc("fancytype"),sH],ile=[Wt("initData",{})].concat(Ep),ale=[Yp("select"),KE("initData",{},[Vc("allowCustomColors",!0),Va("storageKey","default"),qE("colors",Bn())])].concat(Ep),W9=[Yp("select"),zm("initData",[l0("columns"),zv("items",[],Bn())])].concat(Ep),G9=ud("fancytype",{inserttable:ile,colorswatch:ale,imageselect:W9}),lle=s=>ka("fancymenuitem",G9,s),cle=vs([Bl,ox,p9,c_,l_].concat(jC)),ule=vs([Bl,ox,sS,nx,l_,i_].concat(jC)),dle=s=>ka("imagemenuitem",cle,s),hle=s=>ka("resetimageitem",ule,s),fle=vs([Bl,zC,sH,fv].concat(jC)),ple=s=>ka("menuitem",fle,s),q9=vs([Bl,QF,zC,fv].concat(jC)),mle=s=>ka("nestedmenuitem",q9,s),gle=vs([Bl,fv,ox,zC,a_].concat(jC)),vle=s=>ka("togglemenuitem",gle,s),Z9=vs([fv,l_,ci("onShow",re),ci("onHide",re),zC]),RH=s=>ka("sidebar",Z9,s),kH=vs([Bl,Fu("items",ay([YS([IR,Hd("items",Ba)]),Ba]))].concat(p_)),ble=s=>ka("GroupToolbarButton",kH,s),DH=vs([Bl,l_,zie,fv,gb,nH,$ie,zC,dh("presets","normal",["normal","color","listpreview"]),g9(1),a_,eH,Va("context","mode:design")]),lx=s=>ka("SplitButton",DH,s),MH=[gb,fv,il("tooltip"),dh("buttonType","secondary",["primary","secondary"]),Vc("borderless",!1),$h("onAction"),Va("context","mode:design")],K9=[...MH,oS,gf("type",["button"])],Y9=[...MH,Vc("active",!1),gf("type",["togglebutton"])],X9={button:K9,togglebutton:Y9},yle=[gf("type",["group"]),zv("buttons",[],ud("type",X9))],aN=ud("type",{...X9,group:yle}),Sle=vs([zv("buttons",[],aN),$h("onShow"),$h("onHide")]),Cle=s=>ka("view",Sle,s),lN=(s,l,h)=>{const g=wi(s.element,"."+h);if(g.length>0){const E=bn(g,O=>{const I=O.dom.getBoundingClientRect().top,q=g[0].dom.getBoundingClientRect().top;return Math.abs(I-q)>l}).getOr(g.length);return ee.some({numColumns:E,numRows:Math.ceil(g.length/E)})}else return ee.none()},PH=(s,l)=>Qn([Fs(s,l)]),cx={namedEvents:PH,unnamedEvents:s=>PH(uo("unnamed-events"),s)},yb={item:s=>Yo.config({disabled:s,disableClass:"tox-collection__item--state-disabled"}),button:s=>Yo.config({disabled:s}),splitButton:s=>Yo.config({disabled:s,disableClass:"tox-tbtn--disabled"}),toolbarButton:s=>Yo.config({disabled:s,disableClass:"tox-tbtn--disabled",useNative:!1})},PR=(s,l)=>{const h=s.getApi(l);return g=>{g(h)}},Oy=(s,l)=>Ea(h=>{K(s.onBeforeSetup)&&s.onBeforeSetup(h),PR(s,h)(E=>{const O=s.onSetup(E);K(O)&&l.set(O)})}),m_=(s,l)=>ev(h=>PR(s,h)(l.get())),cN=(s,l,h)=>ev(g=>(h.set(po.getValue(g)),PR(s,g)(l.get()))),Iy="silver.uistate",g_="setDisabled",Q9="setEnabled",NR="init",wle=["switchmode",NR],LR=(s,l)=>{const h=s.mainUi.outerContainer,g=[s.mainUi.mothership,...s.uiMotherships];l===g_&&Tn(g,E=>{E.broadcastOn([Cy()],{target:h.element})}),Tn(g,E=>{E.broadcastOn([Iy],l)})},tG=(s,l)=>{s.on("init SwitchMode",h=>{LR(l,h.type)}),s.on("DisabledStateChange",h=>{if(!h.isDefaultPrevented()){const g=h.state?g_:NR;LR(l,g),h.state||s.nodeChanged()}}),s.on("NodeChange",h=>{const g=s.ui.isEnabled()?h.type:g_;LR(l,g)}),cW(s)&&s.mode.set("readonly")},Sc=s=>um.config({channels:{[Iy]:{onReceive:(l,h)=>{if(h===g_||h===Q9){Yo.set(l,h===g_);return}const{contextType:g,shouldDisable:E}=s();g==="mode"&&!vn(wle,h)||Yo.set(l,E)}}}}),_le=(s,l)=>yy((h,g)=>{PR(s,h)(s.onAction),!s.triggersSubmenu&&l===mb.CLOSE_ON_EXECUTE&&(h.getSystem().isConnected()&&Cr(h,v1()),g.stop())}),Ale={[au()]:["disabling","alloy.base.behaviour","toggling","item-events"]},ux=Au,GC=(s,l,h,g)=>{const E=wn(re);return{type:"item",dom:l.dom,components:ux(l.optComponents),data:s.data,eventOrder:Ale,hasSubmenu:s.triggersSubmenu,itemBehaviours:Qn([Fs("item-events",[_le(s,h),Oy(s,E),m_(s,E)]),yb.item(()=>!s.enabled||g.checkUiComponentContext(s.context).shouldDisable),Sc(()=>g.checkUiComponentContext(s.context)),js.config({})].concat(s.itemBehaviours))}},v_=s=>({value:s.value,meta:{text:s.text.getOr(""),...s.meta}}),D0=(s,l)=>{const h=to.fromTag("div");Ei(h,"tox-image-selector-loading-spinner");const g=O=>{Ei(O,"tox-image-selector-loading-spinner-wrapper"),nc(O,h)},E=O=>{ai(O,"tox-image-selector-loading-spinner-wrapper"),Nd(h)};return{dom:{tag:s.tag,attributes:s.attributes??{},classes:s.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:l},classes:["tox-image-selector-image-img"]}}]},...s.checkMark.toArray()],behaviours:Qn([...s.behaviours??[],Fs("render-image-events",[Ea(O=>{g(O.element),oi(O.element,"img").each(I=>{rh(I).catch(q=>{console.error(q)}).finally(()=>{E(O.element)})})})])])}},uN=(s,l)=>D0(l,s),NH=s=>{const l=XT.os.isMacOS()||XT.os.isiOS(),E=l?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},O=s.split("+"),I=qt(O,q=>{const Y=q.toLowerCase().trim();return Zn(E,Y)?E[Y]:q});return l?I.join(""):I.join("+")},LH=(s,l,h=[QW])=>rg(s,{tag:"div",classes:h},l),BH=s=>({dom:{tag:"div",classes:[GF]},components:[pa(bd.translate(s))]}),VH=(s,l)=>({dom:{tag:"div",classes:l,innerHtml:s}}),FH=(s,l)=>({dom:{tag:"div",classes:[GF]},components:[{dom:{tag:s.tag,styles:s.styles},components:[pa(bd.translate(l))]}]}),dN=s=>({dom:{tag:"div",classes:[Oie]},components:[pa(NH(s))]}),b_=s=>LH("checkmark",s,[Iie]),BR=s=>LH("chevron-right",s,[t9]),nG=s=>LH("chevron-down",s,[t9]),oG=(s,l)=>{const h=s.direction==="vertical"?n9:o9,g=s.align==="left"?kie:Rie;return{dom:{tag:"div",classes:[qF,h,g,(()=>{switch(s.valign){case"top":return Die;case"middle":return Mie;case"bottom":return s9}})()]},components:l}},HH=(s,l,h)=>({dom:{tag:"img",classes:l,attributes:{src:s,alt:h.getOr("")}}}),$H=(s,l,h)=>{const g="custom",E="remove",O=s.value,I=s.iconContent.map(ne=>n_(ne,l.icons,h)),q=s.ariaLabel.map(ne=>({"aria-label":l.translate(ne),"data-mce-name":ne})).getOr({});return{dom:(()=>{const ne=WF,he=I.getOr(""),ve={tag:"div",attributes:q,classes:[ne]};return O===g?{...ve,tag:"button",classes:[...ve.classes,"tox-swatches__picker-btn"],innerHtml:he}:O===E?{...ve,classes:[...ve.classes,"tox-swatch--remove"],innerHtml:he}:H(O)?{...ve,attributes:{...ve.attributes,"data-mce-color":O},styles:{"background-color":O},innerHtml:he}:ve})(),optComponents:[]}},UH=(s,l)=>{const h=s.map(g=>({attributes:{id:uo("menu-item"),"aria-label":bd.translate(g)}})).getOr({});return{tag:"div",classes:[_R,XP].concat(l),...h}},sG=s=>({dom:{tag:"label"},components:[pa(s)]}),rG=(s,l,h,g)=>{const E={tag:"div",classes:[QW]},O=Re=>rg(Re,E,l.icons,g),I=()=>ee.some({dom:E}),q=h?s.iconContent.map(O).orThunk(I):ee.none(),Y=s.checkMark,ne=ee.from(s.meta).fold(()=>BH,Re=>Zn(Re,"style")?Fe(FH,Re.style):BH),he=s.htmlContent.fold(()=>s.textContent.map(ne),Re=>ee.some(VH(Re,[GF])));return{dom:UH(s.ariaLabel,[]),optComponents:[q,he,s.shortcutContent.map(dN),Y,s.caret,s.labelContent.map(sG)]}},iG=s=>({dom:UH(s.ariaLabel,[e9]),optComponents:[ee.some(uN(s.iconContent.getOrDie(),{tag:"div",classes:[xie],checkMark:s.checkMark})),s.labelContent.map(sG)]}),dx=(s,l,h,g=ee.none())=>s.presets==="color"?$H(s,l,g):s.presets==="img"?iG(s):rG(s,l,h,g),zH=(s,l,h)=>Zt(s,"tooltipWorker").map(g=>[ga.config({lazySink:l.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:E=>({type:"submenu",item:E,overrides:{maxHeightFunction:T1}}),mode:"follow-highlight",onShow:(E,O)=>{g(I=>{ga.setComponents(E,[j1({element:to.fromDom(I)})])})}})]).getOrThunk(()=>h.map(g=>[ga.config({...l.providers.tooltips.getConfig({tooltipText:g}),mode:"follow-highlight"})]).getOr([])),aG=s=>mR.DOM.encode(s),lG=(s,l)=>{const h=bd.translate(s),g=aG(h);if(l.length>0){const E=new RegExp(Fp(l),"gi");return g.replace(E,O=>`<span class="tox-autocompleter-highlight">${O}</span>`)}else return g},cG=(s,l,h,g,E,O,I,q=!0)=>{const Y=dx({presets:g,textContent:ee.none(),htmlContent:h?s.text.map(he=>lG(he,l)):ee.none(),ariaLabel:s.text,labelContent:ee.none(),iconContent:s.icon,shortcutContent:ee.none(),checkMark:ee.none(),caret:ee.none(),value:s.value},I.providers,q,s.icon),ne=s.text.filter(he=>!h&&he!=="");return GC({context:"mode:design",data:v_(s),enabled:s.enabled,getApi:F({}),onAction:he=>E(s.value,s.meta),onSetup:F(re),triggersSubmenu:!1,itemBehaviours:zH(s,I,ne)},Y,O,I.providers)},uG=(s,l)=>qt(s,h=>{switch(h.type){case"cardcontainer":return oG(h,uG(h.items,l));case"cardimage":return HH(h.src,h.classes,h.alt);case"cardtext":const E=h.name.exists(O=>vn(l.cardText.highlightOn,O))?ee.from(l.cardText.matchText).getOr(""):"";return VH(lG(h.text,E),h.classes)}}),dG=(s,l,h,g)=>{const E=I=>({isEnabled:()=>!Yo.isDisabled(I),setEnabled:q=>{Yo.set(I,!q),Tn(wi(I.element,"*"),Y=>{I.getSystem().getByDom(Y).each(ne=>{ne.hasConfigured(Yo)&&Yo.set(ne,!q)})})}}),O={dom:UH(s.label,[]),optComponents:[ee.some({dom:{tag:"div",classes:[qF,o9]},components:uG(s.items,g)})]};return GC({context:"mode:design",data:v_({text:ee.none(),...s}),enabled:s.enabled,getApi:E,onAction:s.onAction,onSetup:s.onSetup,triggersSubmenu:!1,itemBehaviours:ee.from(g.itemBehaviours).getOr([])},O,l,h.providers)},qC=(s,l,h,g,E,O,I,q=!0)=>{const Y=ve=>({setActive:Re=>{Dr.set(ve,Re)},isActive:()=>Dr.isOn(ve),isEnabled:()=>!Yo.isDisabled(ve),setEnabled:Re=>Yo.set(ve,!Re)}),ne=dx({presets:h,textContent:l?s.text:ee.none(),htmlContent:ee.none(),labelContent:s.label,ariaLabel:s.text,iconContent:s.icon,shortcutContent:l?s.shortcut:ee.none(),checkMark:l?ee.some(b_(I.icons)):ee.none(),caret:ee.none(),value:s.value},I,q),he=s.text.filter(F(!l)).map(ve=>ga.config(I.tooltips.getConfig({tooltipText:I.translate(ve)})));return Kr(GC({context:s.context,data:v_(s),enabled:s.enabled,getApi:Y,onAction:ve=>g(s.value),onSetup:ve=>(ve.setActive(E),re),triggersSubmenu:!1,itemBehaviours:[...he.toArray()]},ne,O,I),{toggling:{toggleClass:JP,toggleOnExecute:!1,selected:s.active,exclusive:!0}})},hG=s=>({value:mG(s)}),jH=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,fG=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,pG=s=>jH.test(s)||fG.test(s),mG=s=>nh(s,"#").toUpperCase(),Tle=s=>pG(s)?ee.some({value:mG(s)}):ee.none(),gG=s=>({value:s.value.replace(jH,(h,g,E,O)=>g+g+E+E+O+O)}),xle=s=>{const l=gG(s),h=fG.exec(l.value);return h===null?["FFFFFF","FF","FF","FF"]:h},hN=s=>{const l=s.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},y_=s=>{const l=hN(s.red)+hN(s.green)+hN(s.blue);return hG(l)},ag=(s,l,h)=>({hue:s,saturation:l,value:h}),VR=s=>{let l=0,h=0,g=0;const E=s.red/255,O=s.green/255,I=s.blue/255,q=Math.min(E,Math.min(O,I)),Y=Math.max(E,Math.max(O,I));if(q===Y)return g=q,ag(0,0,g*100);const ne=E===q?O-I:I===q?E-O:I-E;return l=E===q?3:I===q?1:5,l=60*(l-ne/(Y-q)),h=(Y-q)/Y,g=Y,ag(Math.round(l),Math.round(h*100),Math.round(g*100))},WH=Math.min,GH=Math.max,FR=Math.round,vG=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,qH=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,ZC=(s,l,h,g)=>({red:s,green:l,blue:h,alpha:g}),hx=s=>{const l=parseInt(s,10);return l.toString()===s&&l>=0&&l<=255},ZH=s=>{let l,h,g;const E=(s.hue||0)%360;let O=s.saturation/100,I=s.value/100;if(O=GH(0,WH(O,1)),I=GH(0,WH(I,1)),O===0)return l=h=g=FR(255*I),ZC(l,h,g,1);const q=E/60,Y=I*O,ne=Y*(1-Math.abs(q%2-1)),he=I-Y;switch(Math.floor(q)){case 0:l=Y,h=ne,g=0;break;case 1:l=ne,h=Y,g=0;break;case 2:l=0,h=Y,g=ne;break;case 3:l=0,h=ne,g=Y;break;case 4:l=ne,h=0,g=Y;break;case 5:l=Y,h=0,g=ne;break;default:l=h=g=0}return l=FR(255*(l+he)),h=FR(255*(h+he)),g=FR(255*(g+he)),ZC(l,h,g,1)},fx=s=>{const l=xle(s),h=parseInt(l[1],16),g=parseInt(l[2],16),E=parseInt(l[3],16);return ZC(h,g,E,1)},bG=(s,l,h,g)=>{const E=parseInt(s,10),O=parseInt(l,10),I=parseInt(h,10),q=parseFloat(g);return ZC(E,O,I,q)},KH=s=>{const l=vG.exec(s);if(l!==null)return ee.some(bG(l[1],l[2],l[3],"1"));const h=qH.exec(s);return h!==null?ee.some(bG(h[1],h[2],h[3],h[4])):ee.none()},yG=s=>`rgba(${s.red},${s.green},${s.blue},${s.alpha})`,SG=ZC(255,0,0,1),Ole=s=>VR(fx(s)),YH=s=>y_(ZH(s)),CG=s=>Tle(s).orThunk(()=>KH(s).map(y_)).getOrThunk(()=>{const l=document.createElement("canvas");l.height=1,l.width=1;const h=l.getContext("2d");h.clearRect(0,0,l.width,l.height),h.fillStyle="#FFFFFF",h.fillStyle=s,h.fillRect(0,0,1,1);const g=h.getImageData(0,0,1,1).data,E=g[0],O=g[1],I=g[2],q=g[3];return y_(ZC(E,O,I,q))}),Ile=s=>{s.dispatch("SkinLoaded")},Rle=(s,l)=>{s.dispatch("SkinLoadError",l)},kle=s=>{s.dispatch("ResizeEditor")},px=(s,l)=>{s.dispatch("ResizeContent",l)},Dle=(s,l)=>{s.dispatch("ScrollContent",l)},EG=(s,l)=>{s.dispatch("TextColorChange",l)},wG=(s,l)=>{s.dispatch("AfterProgressState",{state:l})},_G=(s,l)=>s.dispatch("ResolveName",{name:l.nodeName.toLowerCase(),target:l}),Mle=(s,l)=>{s.dispatch("ToggleToolbarDrawer",{state:l})},Ple=(s,l)=>{s.dispatch("StylesTextUpdate",l)},XH=(s,l)=>{s.dispatch("AlignTextUpdate",l)},Nle=(s,l)=>{s.dispatch("FontSizeTextUpdate",l)},AG=(s,l)=>{s.dispatch("FontSizeInputTextUpdate",l)},Lle=(s,l)=>{s.dispatch("BlocksTextUpdate",l)},Ble=(s,l)=>{s.dispatch("FontFamilyTextUpdate",l)},Vle=s=>{s.dispatch("ToggleSidebar")},TG=s=>{s.dispatch("ToggleView")},fN=s=>{s.dispatch("ContextToolbarClose")},Fle=s=>{s.dispatch("ContextFormSlideBack")},pN=(s,l)=>()=>{s(),l()},Gh=(s,l=gt)=>KC(s,"NodeChange",h=>{h.setEnabled(s.selection.isEditable()&&l())}),Hle=(s,l)=>h=>{const g=ea(),E=()=>{h.setActive(s.formatter.match(l));const O=s.formatter.formatChanged(l,h.setActive);g.set(O)};return s.initialized?E():s.once("init",E),()=>{s.off("init",E),g.clear()}},HR=(s,l)=>h=>{const g=Gh(s)(h),E=Hle(s,l)(h);return()=>{g(),E()}},KC=(s,l,h)=>g=>{const E=()=>h(g),O=()=>{h(g),s.on(l,E)};return s.initialized?O():s.once("init",O),()=>{s.off("init",O),s.off(l,E)}},JH=s=>l=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("mceToggleFormat",!1,l.format)})},pm=(s,l)=>()=>s.execCommand(l);var S_=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const xG={},$le=(s,l=10)=>{const h=S_.getItem(s),g=v(h)?JSON.parse(h):[],O=(ne=>l-ne.length<0?ne.slice(0,l):ne)(g),I=ne=>{st(O,ne).each(q),O.unshift(ne),O.length>l&&O.pop(),S_.setItem(s,JSON.stringify(O))},q=ne=>{O.splice(ne,1)};return{add:I,state:()=>O.slice(0)}},OG=s=>Zt(xG,s).getOrThunk(()=>{const l=`tinymce-custom-colors-${s}`,h=S_.getItem(l);if(U(h)){const E=S_.getItem("tinymce-custom-colors");S_.setItem(l,H(E)?E:"[]")}const g=$le(l,10);return xG[s]=g,g}),Ule=s=>qt(OG(s).state(),l=>({type:"choiceitem",text:l,icon:"checkmark",value:l})),IG=(s,l)=>{OG(s).add(l)},QH="forecolor",e$="hilitecolor",t$=5,zle=s=>RG(s.map((l,h)=>h%2===0?"#"+CG(l).value:l)),RG=s=>{const l=[];for(let h=0;h<s.length;h+=2)l.push({text:s[h+1],value:s[h],icon:"checkmark",type:"choiceitem"});return l},Ry=s=>l=>l.options.get(s),C_="#000000",n$=s=>{const l=s.options.register,h=O=>ce(O,v)?{value:zle(O),valid:!0}:{valid:!1,message:"Must be an array of strings."},g=O=>ce(O,v)?{value:RG(O),valid:!0}:{valid:!1,message:"Must be an array of strings."},E=O=>oe(O)&&O>0?{value:O,valid:!0}:{valid:!1,message:"Must be a positive number."};l("color_map",{processor:h,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),l("color_map_raw",{processor:g}),l("color_map_background",{processor:h}),l("color_map_foreground",{processor:h}),l("color_cols",{processor:E,default:o$(s)}),l("color_cols_foreground",{processor:E,default:gN(s,QH)}),l("color_cols_background",{processor:E,default:gN(s,e$)}),l("custom_colors",{processor:"boolean",default:!0}),l("color_default_foreground",{processor:"string",default:C_}),l("color_default_background",{processor:"string",default:C_})},mN=(s,l)=>l===QH&&s.options.isSet("color_map_foreground")?Ry("color_map_foreground")(s):l===e$&&s.options.isSet("color_map_background")?Ry("color_map_background")(s):s.options.isSet("color_map_raw")?Ry("color_map_raw")(s):Ry("color_map")(s),o$=(s,l="default")=>Math.max(t$,Math.ceil(Math.sqrt(mN(s,l).length))),gN=(s,l)=>{const h=Ry("color_cols")(s),g=o$(s,l);return h===o$(s)?g:h},kG=(s,l="default")=>Math.round(l===QH?Ry("color_cols_foreground")(s):l===e$?Ry("color_cols_background")(s):Ry("color_cols")(s)),vN=Ry("custom_colors"),DG=Ry("color_default_foreground"),jle=Ry("color_default_background"),Wle="rgba(0, 0, 0, 0)",MG=s=>KH(s).exists(l=>l.alpha!==0),Gle=s=>Nu(s,l=>{if(Ac(l)){const h=ra(l,"background-color");return ol(MG(h),h)}else return ee.none()}).getOr(Wle),s$=(s,l)=>{const h=to.fromDom(s.selection.getStart()),g=l==="hilitecolor"?Gle(h):ra(h,"color");return KH(g).map(E=>"#"+y_(E).value)},qle=(s,l,h)=>{s.undoManager.transact(()=>{s.focus(),s.formatter.apply(l,{value:h}),s.nodeChanged()})},PG=(s,l)=>{s.undoManager.transact(()=>{s.focus(),s.formatter.remove(l,{value:null},void 0,!0),s.nodeChanged()})},NG=s=>{s.addCommand("mceApplyTextcolor",(l,h)=>{qle(s,l,h)}),s.addCommand("mceRemoveTextcolor",l=>{PG(s,l)})},LG=s=>{const l="choiceitem",h={type:l,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return s?[h,{type:l,text:"Custom color",icon:"color-picker",value:"custom"}]:[h]},bN=(s,l,h,g)=>{h==="custom"?FG(s)(O=>{O.each(I=>{IG(l,I),s.execCommand("mceApplyTextcolor",l,I),g(I)})},s$(s,l).getOr(C_)):h==="remove"?(g(""),s.execCommand("mceRemoveTextcolor",l)):(g(h),s.execCommand("mceApplyTextcolor",l,h))},yN=(s,l,h)=>s.concat(Ule(l).concat(LG(h))),BG=(s,l,h)=>g=>{g(yN(s,l,h))},$R=(s,l,h)=>{const g=l==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";s.setIconFill(g,h)},r$=(s,l)=>{s.setTooltip(l)},SN=(s,l)=>h=>{const g=s$(s,l);return Mc(g,h.toUpperCase())},i$=(s,l,h)=>{if(Il(h))return l==="forecolor"?"Text color":"Background color";const g=l==="forecolor"?"Text color {0}":"Background color {0}",E=yN(mN(s,l),l,!1),O=kt(E,I=>I.value===h).getOr({text:""}).text;return s.translate([g,s.translate(O)])},VG=(s,l,h,g)=>{s.ui.registry.addSplitButton(l,{tooltip:i$(s,h,g.get()),chevronTooltip:l==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:l==="forecolor"?"text-color":"highlight-bg-color",select:SN(s,h),columns:kG(s,h),fetch:BG(mN(s,h),h,vN(s)),onAction:E=>{bN(s,h,g.get(),re)},onItemAction:(E,O)=>{bN(s,h,O,I=>{g.set(I),EG(s,{name:l,color:I})})},onSetup:E=>{$R(E,l,g.get());const O=I=>{I.name===l&&($R(E,I.name,I.color),r$(E,i$(s,h,I.color)))};return s.on("TextColorChange",O),pN(Gh(s)(E),()=>{s.off("TextColorChange",O)})}})},a$=(s,l,h,g,E)=>{s.ui.registry.addNestedMenuItem(l,{text:g,icon:l==="forecolor"?"text-color":"highlight-bg-color",onSetup:O=>(r$(O,i$(s,h,E.get())),$R(O,l,E.get()),Gh(s)(O)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:SN(s,h),initData:{storageKey:h},onAction:O=>{bN(s,h,O.value,I=>{E.set(I),EG(s,{name:l,color:I})})}}]})},FG=s=>(l,h)=>{let g=!1;const E=q=>{const ne=q.getData().colorpicker;g?(l(ee.from(ne)),q.close()):s.windowManager.alert(s.translate(["Invalid hex color code: {0}",ne]))},O=(q,Y)=>{Y.name==="hex-valid"&&(g=Y.value)},I={colorpicker:h};s.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:I,onAction:O,onSubmit:E,onClose:re,onCancel:()=>{l(ee.none())}})},HG=s=>{NG(s);const l=DG(s),h=jle(s),g=wn(l),E=wn(h);VG(s,"forecolor","forecolor",g),VG(s,"backcolor","hilitecolor",E),a$(s,"forecolor","forecolor","Text color",g),a$(s,"backcolor","hilitecolor","Background color",E)},Zle=(s,l,h,g,E)=>{const O=Y=>({setActive:ne=>{Dr.set(Y,ne)},isActive:()=>Dr.isOn(Y),isEnabled:()=>!Yo.isDisabled(Y),setEnabled:ne=>Yo.set(Y,!ne)}),I=dx({presets:"img",textContent:ee.none(),htmlContent:ee.none(),ariaLabel:s.tooltip,iconContent:ee.some(s.url),labelContent:s.label,shortcutContent:ee.none(),checkMark:ee.some(b_(E.icons)),caret:ee.none(),value:s.value},E,!0),q=s.tooltip.map(Y=>ga.config(E.tooltips.getConfig({tooltipText:E.translate(Y)})));return Kr(GC({context:s.context,data:v_(s),enabled:s.enabled,getApi:O,onAction:Y=>{l(s.value),Y.setActive(!0)},onSetup:Y=>(Y.setActive(h),re),triggersSubmenu:!1,itemBehaviours:[...q.toArray()]},I,g,E),{toggling:{toggleClass:JP,toggleOnExecute:!1,selected:s.active,exclusive:!0}})},CN=(s,l,h,g,E,O,I,q)=>{const Y=OR(l),he=l$(l,h,g,E!=="color"?"normal":"color",O,I,q);return nS(s,Y,he,g,{menuType:E})},l$=(s,l,h,g,E,O,I)=>Au(qt(s,q=>q.type==="choiceitem"?rle(q).fold(ig,Y=>ee.some(qC(Y,h===1,g,l,O(Y.value),E,I,OR(s)))):q.type==="imageitem"?dle(q).fold(ig,Y=>ee.some(Zle(Y,l,O(Y.value),E,I))):q.type==="resetimage"?hle(q).fold(ig,Y=>ee.some(qC({...Y,text:Y.tooltip,icon:ee.some(Y.icon),label:ee.some(Y.label)},h===1,g,l,O(Y.value),E,I,OR(s)))):ee.none())),UR=(s,l)=>{const h=UC(l);return s===1?{mode:"menu",moveOnTab:!0}:s==="auto"?{mode:"grid",selector:"."+h.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[l],previousSelector:E=>l==="color"?oi(E.element,"[aria-checked=true]"):ee.none()}},Kle=(s,l)=>s===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:s==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:l==="color"?".tox-swatches__row":".tox-collection__group",cell:l==="color"?`.${WF}`:`.${XP}`}},Yle=(s,l)=>{const h=c$(s,l),g=l.colorinput.getColorCols(s.initData.storageKey),E="color",I={...CN(uo("menu-value"),h,q=>{s.onAction({value:q})},g,E,mb.CLOSE_ON_EXECUTE,s.select.getOr(rt),l.shared.providers),markers:UC(E),movement:UR(g,E),showMenuRole:!1};return{type:"widget",data:{value:uo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[UV.widget(Q1.sketch(I))]}},c$=(s,l)=>{const h=s.initData.allowCustomColors&&l.colorinput.hasCustomColors();return s.initData.colors.fold(()=>yN(l.colorinput.getColors(s.initData.storageKey),s.initData.storageKey,h),g=>g.concat(LG(h)))},Xle=(s,l)=>{const h="imageselector",g=s.initData.columns,O={...CN(uo("menu-value"),s.initData.items,I=>{s.onAction({value:I})},g,h,mb.CLOSE_ON_EXECUTE,s.select.getOr(rt),l.shared.providers),markers:UC(h),movement:UR(g,h),showMenuRole:!1};return{type:"widget",data:{value:uo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[UV.widget(Q1.sketch(O))]}},u$=uo("cell-over"),$G=uo("cell-execute"),UG=s=>(l,h)=>s.shared.providers.translate(["{0} columns, {1} rows",h,l]),Jle=(s,l,h)=>{const g=I=>cs(I,u$,{row:s,col:l}),E=I=>cs(I,$G,{row:s,col:l}),O=(I,q)=>{q.stop(),E(I)};return k({dom:{tag:"div",attributes:{role:"button","aria-label":h}},behaviours:Qn([Fs("insert-table-picker-cell",[dn(vf(),Hs.focus),dn(au(),E),dn(jm(),O),dn(em(),O)]),Dr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Hs.config({onFocus:g})])})},Qle=(s,l,h)=>{const g=[];for(let E=0;E<l;E++){const O=[];for(let I=0;I<h;I++){const q=s(E+1,I+1);O.push(Jle(E,I,q))}g.push(O)}return g},ece=(s,l,h,g,E)=>{for(let O=0;O<g;O++)for(let I=0;I<E;I++)Dr.set(s[O][I],O<=l&&I<=h)},tce=s=>Ze(s,l=>qt(l,W)),zG=(s,l)=>pa(`${l}x${s}`),oce={inserttable:(s,l)=>{const E=UG(l),O=Qle(E,10,10),I=zG(0,0),q=di({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[I],behaviours:Qn([js.config({})])});return{type:"widget",data:{value:uo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[UV.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:tce(O).concat(q.asSpec()),behaviours:Qn([Fs("insert-table-picker",[Ea(Y=>{js.set(q.get(Y),[I])}),O1(u$,(Y,ne,he)=>{const{row:ve,col:Re}=he.event;ece(O,ve,Re,10,10),js.set(q.get(Y),[zG(ve+1,Re+1)])}),O1($G,(Y,ne,he)=>{const{row:ve,col:Re}=he.event;Cr(Y,v1()),s.onAction({numRows:ve+1,numColumns:Re+1})})]),Xo.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:Yle,imageselect:Xle},sce=(s,l)=>Zt(oce,s.fancytype).map(h=>h(s,l)),jG=(s,l,h,g=!0,E=!1)=>{const O=E?nG(h.icons):BR(h.icons),I=Y=>({isEnabled:()=>!Yo.isDisabled(Y),setEnabled:ne=>Yo.set(Y,!ne),setIconFill:(ne,he)=>{oi(Y.element,`svg path[class="${ne}"], rect[class="${ne}"]`).each(ve=>{rs(ve,"fill",he)})},setTooltip:ne=>{const he=h.translate(ne);rs(Y.element,"aria-label",he)}}),q=dx({presets:"normal",iconContent:s.icon,textContent:s.text,htmlContent:ee.none(),ariaLabel:s.text,labelContent:ee.none(),caret:ee.some(O),checkMark:ee.none(),shortcutContent:s.shortcut},h,g);return GC({context:s.context,data:v_(s),getApi:I,enabled:s.enabled,onAction:re,onSetup:s.onSetup,triggersSubmenu:!0,itemBehaviours:[]},q,l,h)},rce=(s,l,h,g=!0)=>{const E=I=>({isEnabled:()=>!Yo.isDisabled(I),setEnabled:q=>Yo.set(I,!q)}),O=dx({presets:"normal",iconContent:s.icon,textContent:s.text,htmlContent:ee.none(),labelContent:ee.none(),ariaLabel:s.text,caret:ee.none(),checkMark:ee.none(),shortcutContent:s.shortcut},h,g);return GC({context:s.context,data:v_(s),getApi:E,enabled:s.enabled,onAction:s.onAction,onSetup:s.onSetup,triggersSubmenu:!1,itemBehaviours:[]},O,l,h)},ice=s=>({type:"separator",dom:{tag:"div",classes:[XP,Tie]},components:s.text.map(pa).toArray()}),ace=(s,l,h,g=!0)=>{const E=I=>({setActive:q=>{Dr.set(I,q)},isActive:()=>Dr.isOn(I),isEnabled:()=>!Yo.isDisabled(I),setEnabled:q=>Yo.set(I,!q)}),O=dx({iconContent:s.icon,textContent:s.text,htmlContent:ee.none(),labelContent:ee.none(),ariaLabel:s.text,checkMark:ee.some(b_(h.icons)),caret:ee.none(),shortcutContent:s.shortcut,presets:"normal",meta:s.meta},h,g);return Kr(GC({context:s.context,data:v_(s),enabled:s.enabled,getApi:E,onAction:s.onAction,onSetup:s.onSetup,triggersSubmenu:!1,itemBehaviours:[]},O,l,h),{toggling:{toggleClass:JP,toggleOnExecute:!1,selected:s.active},role:s.role.getOrUndefined()})},WG=cG,GG=ice,lce=rce,cce=jG,qG=ace,ZG=sce,KG=dG,EN=s=>{switch(s.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:s}}},YG=s=>{const l=po.getValue(s),h=eN(s).map(YF);Rf.refetch(l).get(()=>{const g=$s.getCoupled(l,"sandbox");h.each(E=>eN(g).each(O=>l9(O,E)))})},uce=(s,l)=>{dce(s).each(h=>{k4(s,h.element,l.event.eventType,l.event.interactionEvent)})},dce=s=>Qr.getState(s).bind(ri.getHighlighted).bind(ri.getHighlighted),XG=s=>qa(s.element,AR)?ee.some(s.element):oi(s.element,"."+AR),JG=(s,l,h)=>{a9(s).each(g=>{Nie(g,h),XG(l).each(O=>{nr(O,"id").each(I=>rs(g.element,"aria-controls",I))})}),rs(h.element,"aria-selected","true")},hce=(s,l,h)=>{rs(h.element,"aria-selected","false")},fce=s=>{a9(s).each(l=>Hs.focus(l))},pce=s=>$s.getExistingCoupled(s,"sandbox").bind(eN).map(YF).map(h=>h.fetchPattern).getOr("");var zR;(function(s){s[s.ContentFocus=0]="ContentFocus",s[s.UiFocus=1]="UiFocus"})(zR||(zR={}));const mce=(s,l,h,g,E)=>{const O=h.shared.providers,I=q=>E?{...q,shortcut:ee.none(),icon:q.text.isSome()?ee.none():q.icon}:q;switch(s.type){case"menuitem":return ple(s).fold(ig,q=>ee.some(lce(I(q),l,O,g)));case"nestedmenuitem":return mle(s).fold(ig,q=>ee.some(cce(I(q),l,O,g,E)));case"togglemenuitem":return vle(s).fold(ig,q=>ee.some(qG(I(q),l,O,g)));case"separator":return zae(s).fold(ig,q=>ee.some(GG(q)));case"fancymenuitem":return lle(s).fold(ig,q=>ZG(q,h));default:return console.error("Unknown item in general menu",s),ee.none()}},gce=(s,l,h,g,E,O,I)=>{const q=g===1,Y=!q||OR(s);return Au(qt(s,ne=>{switch(ne.type){case"separator":return Wae(ne).fold(ig,he=>ee.some(GG(he)));case"cardmenuitem":return OH(ne).fold(ig,he=>ee.some(KG({...he,onAction:ve=>{he.onAction(ve),h(he.value,he.meta)}},E,O,{itemBehaviours:zH(he.meta,O,ee.none()),cardText:{matchText:l,highlightOn:I}})));case"autocompleteitem":default:return Gae(ne).fold(ig,he=>ee.some(WG(he,l,q,"normal",h,E,O,Y)))}}))},QG=(s,l,h,g,E,O)=>{const I=OR(l),q=Au(qt(l,he=>{const ve=ze=>E?!Zn(ze,"text"):I,Re=ze=>mce(ze,h,g,ve(ze),E);return he.type==="nestedmenuitem"&&he.getSubmenuItems().length<=0?Re({...he,enabled:!1}):Re(he)})),Y=EN(O);return(E?Hie:nS)(s,I,q,1,Y)},wN=s=>MC.singleData(s.value,s),eq=(s,l,h,g)=>{const E=UR(l,g),O=UC(g);return{data:wN({...s,movement:E,menuBehaviours:cx.unnamedEvents(l!=="auto"?[]:[Ea((I,q)=>{lN(I,4,O.item).each(({numColumns:Y,numRows:ne})=>{Xo.setGridSize(I,ne,Y)})})])}),menu:{markers:UC(g),fakeFocus:h===zR.ContentFocus}}},vce=s=>J.create(to.fromDom(s.startContainer),s.startOffset,to.fromDom(s.endContainer),s.endOffset),tq={register:(s,l)=>{const h=uo("autocompleter"),g=wn(!1),E=wn(!1),O=ms(),I=k(Qa.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:h}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Qn([Fs("dismissAutocompleter",[dn(Zg(),()=>ve()),dn(Kv(),(Je,yt)=>{nr(yt.event.target,"id").each(At=>rs(to.fromDom(s.getBody()),"aria-activedescendant",At))})])]),lazySink:l.getSink})),q=()=>Qa.isOpen(I),Y=E.get,ne=()=>{if(q()){Qa.hide(I),s.dom.remove(h,!1);const Je=to.fromDom(s.getBody());nr(Je,"aria-owns").filter(yt=>yt===h).each(()=>{sa(Je,"aria-owns"),sa(Je,"aria-activedescendant")})}},he=()=>Qa.getContent(I).bind(Je=>Ht(Je.components(),0)),ve=()=>s.execCommand("mceAutocompleterClose"),Re=Je=>{const yt=Ko(Je,At=>ee.from(At.columns)).getOr(1);return Ze(Je,At=>{const Xt=At.items;return gce(Xt,At.matchText,(en,ro)=>{const kn={hide:()=>ve(),reload:zn=>{ne(),s.execCommand("mceAutocompleterReload",!1,{fetchOptions:zn})}};s.execCommand("mceAutocompleterRefreshActiveRange"),O.get().each(zn=>{g.set(!0),At.onAction(kn,zn,en,ro),g.set(!1)})},yt,mb.BUBBLE_TO_SANDBOX,l,At.highlightOn)})},ze=(Je,yt)=>{const At=Ko(Je,Xt=>ee.from(Xt.columns)).getOr(1);Qa.showMenuAt(I,{anchor:{type:"selection",getSelection:()=>O.get().map(vce),root:to.fromDom(s.getBody())}},eq(nS("autocompleter-value",!0,yt,At,{menuType:"normal"}),At,zR.ContentFocus,"normal")),he().each(ri.highlightFirst)},Ge=Je=>{const yt=Re(Je);yt.length>0?(ze(Je,yt),rs(to.fromDom(s.getBody()),"aria-owns",h),s.inline||et()):ne()},et=()=>{s.dom.get(h)&&s.dom.remove(h,!1);const Je=s.getDoc().documentElement,yt=s.selection.getNode(),At=Jy(I.element);ca(At,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${yt.offsetTop}px`,left:`${yt.offsetLeft}px`}),s.dom.add(Je,At.dom),oi(At,'[role="menu"]').each(Xt=>{Sr(Xt,"position"),Sr(Xt,"max-height")})};s.on("AutocompleterStart",({lookupData:Je})=>{E.set(!0),g.set(!1),Ge(Je)}),s.on("AutocompleterUpdate",({lookupData:Je})=>Ge(Je)),s.on("AutocompleterUpdateActiveRange",({range:Je})=>O.set(Je)),s.on("AutocompleterEnd",()=>{ne(),E.set(!1),g.set(!1),O.clear()});const ft={cancelIfNecessary:ve,isMenuOpen:q,isActive:Y,isProcessingAction:g.get,getMenu:he};_ie.setup(ft,s)}},bce=(s,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:qt(s.items,l.interpreter)});var yce=tinymce.util.Tools.resolve("tinymce.html.Entities");const ks=(s,l,h,g)=>{const E=nq(s,l,h,g);return Tr.sketch(E)},jR=(s,l)=>ks(s,l,[],[]),nq=(s,l,h,g)=>({dom:d$(h),components:s.toArray().concat([l]),fieldBehaviours:Qn(g)}),oq=()=>d$([]),d$=s=>({tag:"div",classes:["tox-form__group"].concat(s)}),iS=(s,l)=>Tr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[pa(l.translate(s))]}),_p=uo("form-component-change"),h$=uo("form-component-input"),WR=uo("form-close"),YC=uo("form-cancel"),M0=uo("form-action"),mx=uo("form-submit"),_N=uo("form-block"),sq=uo("form-unblock"),gx=uo("form-tabchange"),AN=uo("form-resize"),rq=(s,l,h)=>{const g=s.label.map(ze=>iS(ze,l)),E=l.icons(),O=ze=>E[ze]??ze,I=ze=>(Ge,et)=>{gl(et.event.target,"[data-collection-item-value]").each(ft=>{ze(Ge,et,ft,fl(ft,"data-collection-item-value"))})},q=(ze,Ge)=>{const ft=l.checkUiComponentContext("mode:design").shouldDisable||l.isDisabled()?" tox-collection__item--state-disabled":"",Je=qt(Ge,Xt=>{const en=bd.translate(Xt.text),ro=s.columns===1?`<div class="tox-collection__item-label">${en}</div>`:"",kn=`<div class="tox-collection__item-icon">${O(Xt.icon)}</div>`,zn={_:" "," - ":" ","-":" "},Vn=en.replace(/\_| \- |\-/g,ds=>zn[ds]);return`<div data-mce-tooltip="${Vn}" class="tox-collection__item${ft}" tabindex="-1" data-collection-item-value="${yce.encodeAllRaw(Xt.value)}" aria-label="${Vn}">${kn}${ro}</div>`}),yt=s.columns!=="auto"&&s.columns>1?ho(Je,s.columns):[Je],At=qt(yt,Xt=>`<div class="tox-collection__group">${Xt.join("")}</div>`);Lh(ze.element,At.join(""))},Y=I((ze,Ge,et,ft)=>{Ge.stop(),l.checkUiComponentContext("mode:design").shouldDisable||l.isDisabled()||cs(ze,M0,{name:s.name,value:ft})}),ne=[dn(vf(),I((ze,Ge,et)=>{oa(et,!0)})),dn(jm(),Y),dn(em(),Y),dn(bf(),I((ze,Ge,et)=>{oi(ze.element,"."+o_).each(ft=>{ai(ft,o_)}),Ei(et,o_)})),dn(g1(),I(ze=>{oi(ze.element,"."+o_).each(Ge=>{ai(Ge,o_),pr(Ge)})})),yy(I((ze,Ge,et,ft)=>{cs(ze,M0,{name:s.name,value:ft})}))],he=(ze,Ge)=>qt(wi(ze.element,".tox-collection__item"),Ge),ve=Tr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(s.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Me},behaviours:Qn([Yo.config({disabled:()=>l.checkUiComponentContext(s.context).shouldDisable,onDisabled:ze=>{he(ze,Ge=>{Ei(Ge,"tox-collection__item--state-disabled"),rs(Ge,"aria-disabled",!0)})},onEnabled:ze=>{he(ze,Ge=>{ai(Ge,"tox-collection__item--state-disabled"),sa(Ge,"aria-disabled")})}}),Sc(()=>l.checkUiComponentContext(s.context)),js.config({}),ga.config({...l.tooltips.getConfig({tooltipText:"",onShow:ze=>{oi(ze.element,"."+o_+"[data-mce-tooltip]").each(Ge=>{nr(Ge,"data-mce-tooltip").each(et=>{ga.setComponents(ze,l.tooltips.getComponents({tooltipText:et}))})})}}),mode:"children-keyboard-focus",anchor:ze=>({type:"node",node:oi(ze.element,"."+o_).orThunk(()=>US(".tox-collection__item")),root:ze.element,layouts:{onLtr:F([ac,ic,Fa,Ha,Hi,al]),onRtl:F([ac,ic,Fa,Ha,Hi,al])},bubble:Hn(0,-2,{})})}),po.config({store:{mode:"memory",initialValue:h.getOr([])},onSetValue:(ze,Ge)=>{q(ze,Ge),s.columns==="auto"&&lN(ze,5,"tox-collection__item").each(({numRows:et,numColumns:ft})=>{Xo.setGridSize(ze,et,ft)}),Cr(ze,AN)}}),ma.config({}),Xo.config(Kle(s.columns,"normal")),Fs("collection-events",ne)]),eventOrder:{[au()]:["disabling","alloy.base.behaviour","collection-events"],[bf()]:["collection-events","tooltipping"]}});return ks(g,ve,["tox-form__group--collection"],[])},Sce=(s,l)=>Rf.sketch({dom:s.dom,components:s.components,toggleClass:"mce-active",dropdownBehaviours:Qn([yb.button(()=>l.providers.isDisabled()||l.providers.checkUiComponentContext(s.context).shouldDisable),Sc(()=>l.providers.checkUiComponentContext(s.context)),qT.config({}),ma.config({})]),layouts:s.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:l.getSink,fetch:h=>ps.nu(g=>s.fetch(g)).map(g=>ee.from(wN(Kr(CN(uo("menu-value"),g,E=>{s.onItemAction(h,E)},s.columns,s.presets,mb.CLOSE_ON_EXECUTE,rt,l.providers),{movement:UR(s.columns,s.presets)})))),parts:{menu:r_(!1,1,s.presets)}}),iq=uo("color-input-change"),aq=uo("color-swatch-change"),lq=uo("color-picker-cancel"),f$=(s,l,h,g)=>{const E=Tr.parts.field({factory:lv,inputClasses:["tox-textfield"],data:g,onSetValue:ne=>If.run(ne).get(re),inputBehaviours:Qn([Yo.config({disabled:()=>l.providers.isDisabled()||l.providers.checkUiComponentContext(s.context).shouldDisable}),Sc(()=>l.providers.checkUiComponentContext(s.context)),ma.config({}),If.config({invalidClass:"tox-textbox-field-invalid",getRoot:ne=>ls(ne.element),notify:{onValid:ne=>{const he=po.getValue(ne);cs(ne,iq,{color:he})}},validator:{validateOnLoad:!1,validate:ne=>{const he=po.getValue(ne);if(he.length===0)return ps.pure($o.value(!0));{const ve=to.fromTag("span");_s(ve,"background-color",he);const Re=ua(ve,"background-color").fold(()=>$o.error("blah"),ze=>$o.value(he));return ps.pure(Re)}}}})]),selectOnFocus:!1}),O=s.label.map(ne=>iS(ne,l.providers)),I=(ne,he)=>{cs(ne,aq,{value:he})},q=(ne,he)=>{Y.getOpt(ne).each(ve=>{he==="custom"?h.colorPicker(Re=>{Re.fold(()=>Cr(ve,lq),ze=>{I(ve,ze),IG(s.storageKey,ze)})},"#ffffff"):he==="remove"?I(ve,""):I(ve,he)})},Y=di(Sce({dom:{tag:"span",attributes:{"aria-label":l.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Hi,Fa,ac],onLtr:()=>[Fa,Hi,ac]},components:[],fetch:BG(h.getColors(s.storageKey),s.storageKey,h.hasCustomColors()),columns:h.getColorCols(s.storageKey),presets:"color",onItemAction:q,context:s.context},l));return Tr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:O.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[E,Y.asSpec()]}]),fieldBehaviours:Qn([Fs("form-field-events",[dn(iq,(ne,he)=>{Y.getOpt(ne).each(ve=>{_s(ve.element,"background-color",he.event.color)}),cs(ne,_p,{name:s.name})}),dn(aq,(ne,he)=>{Tr.getField(ne).each(ve=>{po.setValue(ve,he.event.value),an.getCurrent(ne).each(Hs.focus)})}),dn(lq,(ne,he)=>{Tr.getField(ne).each(ve=>{an.getCurrent(ne).each(Hs.focus)})})])])})},Sb={self:()=>an.config({find:ee.some}),memento:s=>an.config({find:s.getOpt}),childAt:s=>an.config({find:l=>Hr(l.element,s).bind(h=>l.getSystem().getByDom(h).toOptional())})},wce=vs([Wt("preprocess",Me),Wt("postprocess",Me)]),cq=(s,l)=>{const h=cd("RepresentingConfigs.memento processors",wce,l);return po.config({store:{mode:"manual",getValue:g=>{const E=s.get(g),O=po.getValue(E);return h.postprocess(O)},setValue:(g,E)=>{const O=h.preprocess(E),I=s.get(g);po.setValue(I,O)}}})},E_=(s,l,h)=>po.config({store:{mode:"manual",...s.map(g=>({initialValue:g})).getOr({}),getValue:l,setValue:h}}),uq=(s,l,h)=>E_(s,g=>l(g.element),(g,E)=>h(g.element,E)),p$=s=>uq(s,sh,Lh),TN=s=>po.config({store:{mode:"memory",initialValue:s}}),vx=uo("rgb-hex-update"),dq=uo("slider-update"),m$=uo("palette-update"),_ce=(s,l)=>{const h=hb.parts.spectrum({dom:{tag:"div",classes:[l("hue-slider-spectrum")],attributes:{role:"presentation"}}}),g=hb.parts.thumb({dom:{tag:"div",classes:[l("hue-slider-thumb")],attributes:{role:"presentation"}}});return hb.sketch({dom:{tag:"div",classes:[l("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:F(0)},components:[h,g],sliderBehaviours:Qn([Hs.config({})]),onChange:(E,O,I)=>{rs(E.element,"aria-valuenow",Math.floor(360-I*3.6)),cs(E,dq,{value:I})}})},hq=uo("valid-input"),Ace=uo("invalid-input"),fq=uo("validating-input"),g$="colorcustom.rgb.",v$={isEnabled:gt,setEnabled:re,immediatelyShow:re,immediatelyHide:re},Tce=(s,l,h,g,E,O)=>{const I=(et,ft)=>{const Je=ft.get();et!==Je.isEnabled()&&(Je.setEnabled(et),et?Je.immediatelyShow():Je.immediatelyHide())},q=(et,ft,Je)=>If.config({invalidClass:l("invalid"),notify:{onValidate:yt=>{cs(yt,fq,{type:et})},onValid:yt=>{I(!1,Je),cs(yt,hq,{type:et,value:po.getValue(yt)})},onInvalid:yt=>{I(!0,Je),cs(yt,Ace,{type:et,value:po.getValue(yt)})}},validator:{validate:yt=>{const At=po.getValue(yt),Xt=ft(At)?$o.value(!0):$o.error(s("aria.input.invalid"));return ps.pure(Xt)},validateOnLoad:!1}}),Y=(et,ft,Je,yt,At)=>{const Xt=wn(v$),en=s(g$+"range"),ro=Tr.parts.label({dom:{tag:"label"},components:[pa(Je)]}),kn=Tr.parts.field({data:At,factory:lv,inputAttributes:{type:"text","aria-label":yt,...ft==="hex"?{"aria-live":"polite"}:{}},inputClasses:[l("textfield")],inputBehaviours:Qn([q(ft,et,Xt),ma.config({}),ga.config({...E({tooltipText:"",onSetup:Qs=>{Xt.set({isEnabled:()=>ga.isEnabled(Qs),setEnabled:zo=>ga.setEnabled(Qs,zo),immediatelyShow:()=>ga.immediateOpenClose(Qs,!0),immediatelyHide:()=>ga.immediateOpenClose(Qs,!1)}),ga.setEnabled(Qs,!1)},onShow:(Qs,zo)=>{ga.setComponents(Qs,[{dom:{tag:"p",classes:[l("rgb-warning-note")]},components:[pa(s(ft==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Qs=>{If.isInvalid(Qs)&&If.run(Qs).get(re)}}),zn=uo("aria-invalid"),Vn=di(O("invalid",ee.some(zn),"warning")),ds=di({dom:{tag:"div",classes:[l("invalid-icon")]},components:[Vn.asSpec()]}),Wo=[ro,kn,ds.asSpec()],Ir=ft!=="hex"?[Tr.parts["aria-descriptor"]({text:en})]:[],Es=Wo.concat(Ir);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[l("rgb-container")]},components:Es}},ne=(et,ft)=>{const Je=y_(ft);return PC.getField(et,"hex").each(yt=>{Hs.isFocused(yt)||po.setValue(et,{hex:Je.value})}),Je},he=(et,ft)=>{const Je=ft.red,yt=ft.green,At=ft.blue;po.setValue(et,{red:Je,green:yt,blue:At})},ve=di({dom:{tag:"div",classes:[l("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),Re=(et,ft)=>{ve.getOpt(et).each(Je=>{_s(Je.element,"background-color","#"+ft.value)})};return og({factory:()=>{const et={red:wn(ee.some(255)),green:wn(ee.some(255)),blue:wn(ee.some(255)),hex:wn(ee.some("ffffff"))},ft=(zo,In)=>{const no=fx(In);he(zo,no),Xt(no)},Je=zo=>et[zo].get(),yt=(zo,In)=>{et[zo].set(In)},At=()=>Je("red").bind(zo=>Je("green").bind(In=>Je("blue").map(no=>ZC(zo,In,no,1)))),Xt=zo=>{const In=zo.red,no=zo.green,xs=zo.blue;yt("red",ee.some(In)),yt("green",ee.some(no)),yt("blue",ee.some(xs))},en=(zo,In)=>{const no=In.event;no.type!=="hex"?yt(no.type,ee.none()):g(zo)},ro=(zo,In)=>{h(zo);const no=hG(In);yt("hex",ee.some(no.value));const xs=fx(no);he(zo,xs),Xt(xs),cs(zo,vx,{hex:no}),Re(zo,no)},kn=(zo,In,no)=>{const xs=parseInt(no,10);yt(In,ee.some(xs)),At().each(er=>{const Jo=ne(zo,er);cs(zo,vx,{hex:Jo}),Re(zo,Jo)})},zn=zo=>zo.type==="hex",Vn=(zo,In)=>{const no=In.event;zn(no)?ro(zo,no.value):kn(zo,no.type,no.value)},ds=zo=>({label:s(g$+zo+".label"),description:s(g$+zo+".description")}),Wo=ds("red"),Ir=ds("green"),Es=ds("blue"),Qs=ds("hex");return Kr(PC.sketch(zo=>({dom:{tag:"form",classes:[l("rgb-form")],attributes:{"aria-label":s("aria.color.picker")}},components:[zo.field("red",Tr.sketch(Y(hx,"red",Wo.label,Wo.description,255))),zo.field("green",Tr.sketch(Y(hx,"green",Ir.label,Ir.description,255))),zo.field("blue",Tr.sketch(Y(hx,"blue",Es.label,Es.description,255))),zo.field("hex",Tr.sketch(Y(pG,"hex",Qs.label,Qs.description,"ffffff"))),ve.asSpec()],formBehaviours:Qn([If.config({invalidClass:l("form-invalid")}),Fs("rgb-form-events",[dn(hq,Vn),dn(Ace,en),dn(fq,en)])])})),{apis:{updateHex:(zo,In)=>{po.setValue(zo,{hex:In.value}),ft(zo,In),Re(zo,In)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(et,ft,Je)=>{et.updateHex(ft,Je)}},extraApis:{}})},xN=(s,l)=>{const h=hb.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[l("sv-palette-spectrum")]}}),g=hb.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[l("sv-palette-thumb")],innerHtml:`<div class=${l("sv-palette-inner-thumb")} role="presentation"></div>`}}),E=(ne,he)=>{const{width:ve,height:Re}=ne,ze=ne.getContext("2d");if(ze===null)return;ze.fillStyle=he,ze.fillRect(0,0,ve,Re);const Ge=ze.createLinearGradient(0,0,ve,0);Ge.addColorStop(0,"rgba(255,255,255,1)"),Ge.addColorStop(1,"rgba(255,255,255,0)"),ze.fillStyle=Ge,ze.fillRect(0,0,ve,Re);const et=ze.createLinearGradient(0,0,0,Re);et.addColorStop(0,"rgba(0,0,0,0)"),et.addColorStop(1,"rgba(0,0,0,1)"),ze.fillStyle=et,ze.fillRect(0,0,ve,Re)},O=(ne,he)=>{const ve=ne.components()[0].element.dom,Re=ag(he,100,100),ze=ZH(Re);E(ve,yG(ze))},I=(ne,he)=>{const ve=VR(fx(he));hb.setValue(ne,{x:ve.saturation,y:100-ve.value}),rs(ne.element,"aria-valuetext",s(["Saturation {0}%, Brightness {1}%",ve.saturation,ve.value]))};return og({factory:ne=>{const he=F({x:0,y:0}),ve=(Ge,et,ft)=>{oe(ft)||rs(Ge.element,"aria-valuetext",s(["Saturation {0}%, Brightness {1}%",Math.floor(ft.x),Math.floor(100-ft.y)])),cs(Ge,m$,{value:ft})},Re=(Ge,et,ft,Je)=>{E(ft.element.dom,yG(SG))},ze=Qn([an.config({find:ee.some}),Hs.config({})]);return hb.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":s(["Saturation {0}%, Brightness {1}%",0,0])},classes:[l("sv-palette")]},model:{mode:"xy",getInitialValue:he},rounded:!1,components:[h,g],onChange:ve,onInit:Re,sliderBehaviours:ze})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(ne,he,ve)=>{O(he,ve)},setThumb:(ne,he,ve)=>{I(he,ve)}},extraApis:{}})},pq=(s,l,h,g)=>{const E=I=>{const q=Tce(s,l,I.onValidHex,I.onInvalidHex,h,g),Y=xN(s,l),ne=zn=>(100-zn)/100*360,he=zn=>100-zn/360*100,ve={paletteRgba:wn(SG),paletteHue:wn(0)},Re=di(_ce(s,l)),ze=di(Y.sketch({})),Ge=di(q.sketch({})),et=(zn,Vn,ds)=>{ze.getOpt(zn).each(Wo=>{Y.setHue(Wo,ds)})},ft=(zn,Vn)=>{Ge.getOpt(zn).each(ds=>{q.updateHex(ds,Vn)})},Je=(zn,Vn,ds)=>{Re.getOpt(zn).each(Wo=>{hb.setValue(Wo,he(ds))})},yt=(zn,Vn)=>{ze.getOpt(zn).each(ds=>{Y.setThumb(ds,Vn)})},At=(zn,Vn)=>{const ds=fx(zn);ve.paletteRgba.set(ds),ve.paletteHue.set(Vn)},Xt=(zn,Vn,ds,Wo)=>{At(Vn,ds),Tn(Wo,Ir=>{Ir(zn,Vn,ds)})},en=()=>{const zn=[ft];return(Vn,ds)=>{const Wo=ds.event.value,Ir=ve.paletteHue.get(),Es=ag(Ir,Wo.x,100-Wo.y),Qs=YH(Es);Xt(Vn,Qs,Ir,zn)}},ro=()=>{const zn=[et,ft];return(Vn,ds)=>{const Wo=ne(ds.event.value),Ir=ve.paletteRgba.get(),Es=VR(Ir),Qs=ag(Wo,Es.saturation,Es.value),zo=YH(Qs);Xt(Vn,zo,Wo,zn)}},kn=()=>{const zn=[et,Je,yt];return(Vn,ds)=>{const Wo=ds.event.hex,Ir=Ole(Wo);Xt(Vn,Wo,Ir.hue,zn)}};return{uid:I.uid,dom:I.dom,components:[ze.asSpec(),Re.asSpec(),Ge.asSpec()],behaviours:Qn([Fs("colour-picker-events",[dn(vx,kn()),dn(m$,en()),dn(dq,ro())]),an.config({find:zn=>Ge.getOpt(zn)}),Xo.config({mode:"acyclic"})])}};return og({name:"ColourPicker",configFields:[xn("dom"),Wt("onValidHex",re),Wt("onInvalidHex",re)],factory:E})},mq={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},b$=s=>l=>v(l)?s.translate(mq[l]):s.translate(l),xce=(s,l,h)=>{const g=ne=>"tox-"+ne,E=(ne,he,ve=ne,Re=ne)=>rg(ve,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ne],attributes:{title:l.translate(Re),"aria-live":"polite",...he.fold(()=>({}),ze=>({id:ze}))}},l.icons),O=pq(b$(l),g,l.tooltips.getConfig,E),I=ne=>{cs(ne,M0,{name:"hex-valid",value:!0})},q=ne=>{cs(ne,M0,{name:"hex-valid",value:!1})},Y=di(O.sketch({dom:{tag:"div",classes:[g("color-picker-container")],attributes:{role:"presentation"}},onValidHex:I,onInvalidHex:q}));return{dom:{tag:"div"},components:[Y.asSpec()],behaviours:Qn([E_(h,ne=>{const he=Y.get(ne);return an.getCurrent(he).bind(ze=>po.getValue(ze).hex).map(ze=>"#"+nh(ze,"#")).getOr("")},(ne,he)=>{const ve=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,Re=ee.from(ve.exec(he)).bind(et=>Ht(et,1)),ze=Y.get(ne);an.getCurrent(ze).fold(()=>{console.log("Can not find form")},et=>{po.setValue(et,{hex:Re.getOr("")}),PC.getField(et,"hex").each(ft=>{Cr(ft,Xp())})})}),Sb.self()])}};var gq=tinymce.util.Tools.resolve("tinymce.Resource");const w_=s=>Zn(s,"init"),vq=s=>{const l=ms(),h=di({dom:{tag:s.tag}}),g=ms(),E=!w_(s)&&s.onFocus.isSome()?[Hs.config({onFocus:O=>{s.onFocus.each(I=>{I(O.element.dom)})}}),ma.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Qn([Fs("custom-editor-events",[Ea(O=>{h.getOpt(O).each(I=>{(w_(s)?s.init(I.element.dom):gq.load(s.scriptId,s.scriptUrl).then(q=>q(I.element.dom,s.settings))).then(q=>{g.on(Y=>{q.setValue(Y)}),g.clear(),l.set(q)})})})]),E_(ee.none(),()=>l.get().fold(()=>g.get().getOr(""),O=>O.getValue()),(O,I)=>{l.get().fold(()=>g.set(I),q=>q.setValue(I))}),Sb.self()].concat(E)),components:[h.asSpec()]}};var aS=tinymce.util.Tools.resolve("tinymce.util.Tools");const y$=uo("browse.files.event"),Oce=(s,l)=>{const h=aS.explode(l.getOption("images_file_types")),g=E=>To(h,O=>Pc(E.name.toLowerCase(),`.${O.toLowerCase()}`));return ws(Mo(s),g)},S$=(s,l,h)=>{const g=(Re,ze)=>{ze.stop()},E=Re=>(ze,Ge)=>{Tn(Re,et=>{et(ze,Ge)})},O=(Re,ze)=>{if(!Yo.isDisabled(Re)){const Ge=ze.event.raw;cs(Re,y$,{files:Ge.dataTransfer?.files})}},I=(Re,ze)=>{const Ge=ze.event.raw.target;cs(Re,y$,{files:Ge.files})},q=(Re,ze)=>{ze&&(po.setValue(Re,Oce(ze,l)),cs(Re,_p,{name:s.name}))},Y=di({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Qn([Fs("input-file-events",[I1(jm()),I1(em())])])}),ne=s.label.map(Re=>iS(Re,l)),he=Tr.parts.field({factory:gd,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[pa(l.translate("Browse for an image")),Y.asSpec()],action:Re=>{Y.get(Re).element.dom.click()},buttonBehaviours:Qn([Sb.self(),TN(h.getOr([])),ma.config({}),yb.button(()=>l.checkUiComponentContext(s.context).shouldDisable),Sc(()=>l.checkUiComponentContext(s.context))])}),ve={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Qn([Yo.config({disabled:()=>l.checkUiComponentContext(s.context).shouldDisable}),Sc(()=>l.checkUiComponentContext(s.context)),Dr.config({toggleClass:"dragenter",toggleOnExecute:!1}),Fs("dropzone-events",[dn("dragenter",E([g,Dr.toggle])),dn("dragleave",E([g,Dr.toggle])),dn("dragover",g),dn("drop",E([g,O])),dn(Jp(),I)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[pa(l.translate("Drop an image here"))]},he]}]};return ks(ne,ve,["tox-form__group--stretched"],[Fs("handle-files",[dn(y$,(Re,ze)=>{Tr.getField(Re).each(Ge=>{q(Ge,ze.event.files)})})])])},Ice=(s,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${s.columns}col`]},components:qt(s.items,l.interpreter)}),C$=uo("alloy-fake-before-tabstop"),ON=uo("alloy-fake-after-tabstop"),bq=s=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:s},behaviours:Qn([Hs.config({ignore:!0}),ma.config({})])}),yq=(s,l)=>({dom:{tag:"div",classes:["tox-navobj",...s.getOr([])]},components:[bq([C$]),l,bq([ON])],behaviours:Qn([Sb.childAt(1)])}),Sq=(s,l)=>{cs(s,rc(),{raw:{which:9,shiftKey:l}})},Cq=(s,l)=>{const h=l.element;qa(h,C$)?Sq(s,!0):qa(h,ON)&&Sq(s,!1)},GR=s=>Xb(s,["."+C$,"."+ON].join(","),rt),IN=uo("update-dialog"),Eq=uo("update-title"),wq=uo("update-body"),_q=uo("update-footer"),Aq=uo("body-send-message"),RN=uo("dialog-focus-shifted"),E$=ji().browser,qR=E$.isSafari(),Rce=E$.isFirefox(),Tq=qR||Rce,xq=E$.isChromium(),kce=({scrollTop:s,scrollHeight:l,clientHeight:h})=>Math.ceil(s)+h>=l,Oq=(s,l)=>s.scrollTo(0,l==="bottom"?99999999:l),Dce=(s,l)=>{const h=s.body;return ee.from(!/^<!DOCTYPE (html|HTML)/.test(l)&&(!xq&&!qR||H(h)&&(h.scrollTop!==0||Math.abs(h.scrollHeight-h.clientHeight)>1))?h:s.documentElement)},Iq=(s,l,h)=>{const g=s.dom;ee.from(g.contentDocument).fold(h,E=>{let O=0;const I=Dce(E,l).map(Y=>(O=Y.scrollTop,Y)).forall(kce),q=()=>{const Y=g.contentWindow;H(Y)&&(I?Oq(Y,"bottom"):!I&&Tq&&O!==0&&Oq(Y,O))};qR&&g.addEventListener("load",q,{once:!0}),E.open(),E.write(l),E.close(),qR||q()})},Mce=ol(Tq,qR?500:200).map(s=>ki(Iq,s)),Rq=(s,l)=>{const h=wn(s.getOr(""));return{getValue:g=>h.get(),setValue:(g,E)=>{if(h.get()!==E){const O=g.element,I=()=>rs(O,"srcdoc",E);l?Mce.fold(F(Iq),q=>q.throttle)(O,E,I):I()}h.set(E)}}},Pce=(s,l,h)=>{const g="tox-dialog__iframe",E=s.transparent?[]:[`${g}--opaque`],O=s.border?["tox-navobj-bordered"]:[],I={...s.label.map(ve=>({title:ve})).getOr({}),...h.map(ve=>({srcdoc:ve})).getOr({}),...s.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},q=Rq(h,s.streamContent),Y=s.label.map(ve=>iS(ve,l)),ne=ve=>yq(ee.from(O),{uid:ve.uid,dom:{tag:"iframe",attributes:I,classes:[g,...E]},behaviours:Qn([ma.config({}),Hs.config({}),E_(h,q.getValue,q.setValue),um.config({channels:{[RN]:{onReceive:(Re,ze)=>{ze.newFocus.each(Ge=>{ls(Re.element).each(et=>{(xe(Re.element,Ge)?Ei:ai)(et,"tox-navobj-bordered-focus")})})}}}})])}),he=Tr.parts.field({factory:{sketch:ne}});return ks(Y,he,["tox-form__group--stretched"],[])},kq=(s,l,h,g,E)=>{const O=h*E,I=g*E,q=Math.max(0,s/2-O/2),Y=Math.max(0,l/2-I/2);return{left:q.toString()+"px",top:Y.toString()+"px",width:O.toString()+"px",height:I.toString()+"px"}},Nce=(s,l,h)=>{const g=bc(s),E=Cl(s);return Math.min(g/l,E/h,1)},Dq=(s,l)=>{const h=wn(l.getOr({url:""})),g=di({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:l.map(Y=>({src:Y.url})).getOr({})}}),E=di({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[g.asSpec()]}),O=(Y,ne)=>{const he={url:ne.url};ne.zoom.each(Re=>he.zoom=Re),ne.cachedWidth.each(Re=>he.cachedWidth=Re),ne.cachedHeight.each(Re=>he.cachedHeight=Re),h.set(he);const ve=()=>{const{cachedWidth:Re,cachedHeight:ze,zoom:Ge}=he;if(!z(Re)&&!z(ze)){if(z(Ge)){const ft=Nce(Y.element,Re,ze);he.zoom=ft}const et=kq(bc(Y.element),Cl(Y.element),Re,ze,he.zoom);E.getOpt(Y).each(ft=>{ca(ft.element,et)})}};g.getOpt(Y).each(Re=>{const ze=Re.element;ne.url!==fl(ze,"src")&&(rs(ze,"src",ne.url),ai(Y.element,"tox-imagepreview__loaded")),ve(),rh(ze).then(Ge=>{Y.getSystem().isConnected()&&(Ei(Y.element,"tox-imagepreview__loaded"),he.cachedWidth=Ge.dom.naturalWidth,he.cachedHeight=Ge.dom.naturalHeight,ve())})})},I={};s.height.each(Y=>I.height=Y);const q=l.map(Y=>({url:Y.url,zoom:ee.from(Y.zoom),cachedWidth:ee.from(Y.cachedWidth),cachedHeight:ee.from(Y.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:I,attributes:{role:"presentation"}},components:[E.asSpec()],behaviours:Qn([Sb.self(),E_(q,()=>h.get(),O)])}},Mq=(s,l,h)=>{const g="tox-label",E=s.align==="center"?[`${g}--center`]:[],O=s.align==="end"?[`${g}--end`]:[],I=di({dom:{tag:"label",classes:[g,...E,...O]},components:[pa(l.providers.translate(s.label))]}),q=qt(s.items,l.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[I.asSpec(),...q],behaviours:Qn([Sb.self(),js.config({}),p$(ee.none()),Xo.config({mode:"acyclic"}),Fs("label",[Ea(Y=>{s.for.each(ne=>{h(ne).each(he=>{I.getOpt(Y).each(ve=>{const Re=fl(he.element,"id")??uo("form-field");rs(he.element,"id",Re),rs(ve.element,"for",Re)})})})})])])}},ZR=uo("toolbar.button.execute"),Lce=s=>yy((l,h)=>{PR(s,l)(g=>{cs(l,ZR,{buttonApi:g}),s.onAction(g)})}),XC=uo("common-button-display-events"),w$={[au()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[tm()]:["toolbar-button-events",XC],[qg()]:["toolbar-button-events","dropdown-events","tooltipping"],[hd()]:["focusing","alloy.base.behaviour",XC]},_$=s=>_s(s.element,"width",ra(s.element,"width")),A$=(s,l,h)=>rg(s,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:h},l),T$=(s,l)=>A$(s,l,[]),ky=(s,l)=>A$(s,l,[js.config({})]),Pq=(s,l,h)=>({dom:{tag:"span",classes:[`${l}__select-label`]},components:[pa(h.translate(s))],behaviours:Qn([js.config({})])}),lg=uo("update-menu-text"),__=uo("update-menu-icon"),Nq=uo("update-tooltip-text"),pv=(s,l,h,g)=>{const E=wn(re),O=wn(s.tooltip),I=s.text.map(ft=>di(Pq(ft,l,h.providers))),q=s.icon.map(ft=>di(ky(ft,h.providers.icons))),Y=(ft,Je)=>{const yt=po.getValue(ft);return Hs.focus(yt),cs(yt,"keydown",{raw:Je.event.raw}),Rf.close(yt),ee.some(!0)},ne=s.role.fold(()=>({}),ft=>({role:ft})),he=ee.from(s.listRole).map(ft=>({listRole:ft})).getOr({}),ve=s.ariaLabel.fold(()=>({}),ft=>({"aria-label":h.providers.translate(ft)})),Re=rg("chevron-down",{tag:"div",classes:[`${l}__select-chevron`]},h.providers.icons),ze=uo("common-button-display-events"),Ge="dropdown-events";return di(Rf.sketch({...s.uid?{uid:s.uid}:{},...ne,...he,dom:{tag:"button",classes:[l,`${l}--select`].concat(qt(s.classes,ft=>`${l}--${ft}`)),attributes:{...ve,...H(g)?{"data-mce-name":g}:{}}},components:ux([q.map(ft=>ft.asSpec()),I.map(ft=>ft.asSpec()),ee.some(Re)]),matchWidth:!0,useMinWidth:!0,onOpen:(ft,Je,yt)=>{s.searchable&&fce(yt)},dropdownBehaviours:Qn([...s.dropdownBehaviours,yb.button(()=>s.disabled||h.providers.checkUiComponentContext(s.context).shouldDisable),Sc(()=>h.providers.checkUiComponentContext(s.context)),qT.config({}),js.config({}),...s.tooltip.map(ft=>ga.config(h.providers.tooltips.getConfig({tooltipText:h.providers.translate(ft),onShow:Je=>{if(wc(O.get(),s.tooltip,(yt,At)=>At!==yt).getOr(!1)){const yt=h.providers.translate(O.get().getOr(""));ga.setComponents(Je,h.providers.tooltips.getComponents({tooltipText:yt}))}}}))).toArray(),Fs(Ge,[Oy(s,E),m_(s,E)]),Fs(ze,[Ea((ft,Je)=>{s.listRole!=="listbox"&&_$(ft)})]),Fs("update-dropdown-width-variable",[dn(my(),(ft,Je)=>Rf.close(ft))]),Fs("menubutton-update-display-text",[dn(lg,(ft,Je)=>{I.bind(yt=>yt.getOpt(ft)).each(yt=>{js.set(yt,[pa(h.providers.translate(Je.event.text))])})}),dn(__,(ft,Je)=>{q.bind(yt=>yt.getOpt(ft)).each(yt=>{js.set(yt,[ky(Je.event.icon,h.providers.icons)])})}),dn(Nq,(ft,Je)=>{const yt=h.providers.translate(Je.event.text);rs(ft.element,"aria-label",yt),O.set(ee.some(Je.event.text))})])]),eventOrder:Kr(w$,{[hd()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[tm()]:["toolbar-button-events",ga.name(),Ge,ze]}),sandboxBehaviours:Qn([Xo.config({mode:"special",onLeft:Y,onRight:Y}),Fs("dropdown-sandbox-events",[dn(KF,(ft,Je)=>{YG(ft),Je.stop()}),dn(r9,(ft,Je)=>{uce(ft,Je),Je.stop()})])]),lazySink:h.getSink,toggleClass:`${l}--active`,parts:{menu:{...r_(!1,s.columns,s.presets),fakeFocus:s.searchable,...s.listRole==="listbox"?{}:{onHighlightItem:JG,onCollapseMenu:(ft,Je,yt)=>{ri.getHighlighted(yt).each(At=>{JG(ft,yt,At)})},onDehighlightItem:hce}}},getAnchorOverrides:()=>({maxHeightFunction:(ft,Je)=>{eD()(ft,Je-10)}}),fetch:ft=>ps.nu(Fe(s.fetch,ft))})).asSpec()},kN=s=>v(s),KR=s=>s.type==="separator",Bce=s=>Zn(s,"getSubmenuItems"),x$={type:"separator"},Vce=(s,l)=>{const h=Is(s,(g,E)=>kN(E)?E===""?g:E==="|"?g.length>0&&!KR(g[g.length-1])?g.concat([x$]):g:Zn(l,E.toLowerCase())?g.concat([l[E.toLowerCase()]]):g:g.concat([E]),[]);return h.length>0&&KR(h[h.length-1])&&h.pop(),h},O$=(s,l)=>{const h=s.getSubmenuItems(),g=DN(h,l),E=Kr(g.menus,{[s.value]:g.items}),O=Kr(g.expansions,{[s.value]:s.value});return{item:s,menus:E,expansions:O}},Lq=s=>{const l=Zt(s,"value").getOrThunk(()=>uo("generated-menu-item"));return Kr({value:l},s)},DN=(s,l)=>{const h=Vce(v(s)?s.split(" "):s,l);return as(h,(g,E)=>{if(Bce(E)){const O=Lq(E),I=O$(O,l);return{menus:Kr(g.menus,I.menus),items:[I.item,...g.items],expansions:Kr(g.expansions,I.expansions)}}else return{...g,items:[E,...g.items]}},{menus:{},expansions:{},items:[]})},Fce=s=>s.search.fold(()=>({searchMode:"no-search"}),l=>({searchMode:"search-with-field",placeholder:l.placeholder})),Hce=s=>s.search.fold(()=>({searchMode:"no-search"}),l=>({searchMode:"search-with-results"})),A_=(s,l,h,g)=>{const E=uo("primary-menu"),O=DN(s,h.shared.providers.menuItems());if(O.items.length===0)return ee.none();const I=Fce(g),q=QG(E,O.items,l,h,g.isHorizontalMenu,I),Y=Hce(g),ne=ys(O.menus,(ve,Re)=>QG(Re,ve,l,h,!1,Y)),he=Kr(ne,Ug(E,q));return ee.from(MC.tieredData(E,he,O.expansions))},MN=s=>!Zn(s,"items"),Bq="data-value",PN=(s,l,h,g,E)=>qt(h,O=>MN(O)?{type:"togglemenuitem",...E?{}:{role:"option"},text:O.text,value:O.value,active:O.value===g,onAction:()=>{po.setValue(s,O.value),cs(s,_p,{name:l}),Hs.focus(s)}}:{type:"nestedmenuitem",text:O.text,getSubmenuItems:()=>PN(s,l,O.items,g,E)}),I$=(s,l)=>Ko(s,h=>MN(h)?ol(h.value===l,h):I$(h.items,l)),$ce=(s,l,h)=>{const g=To(s.items,ne=>!MN(ne)),E=l.shared.providers,O=h.bind(ne=>I$(s.items,ne)).orThunk(()=>_t(s.items).filter(MN)),I=s.label.map(ne=>iS(ne,E)),q=Tr.parts.field({dom:{},factory:{sketch:ne=>pv({context:s.context,uid:ne.uid,text:O.map(he=>he.text),icon:ee.none(),tooltip:ee.none(),role:ol(!g,"combobox"),...g?{}:{listRole:"listbox"},ariaLabel:s.label,fetch:(he,ve)=>{const Re=PN(he,s.name,s.items,po.getValue(he),g);ve(A_(Re,mb.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:ee.none()}))},onSetup:F(re),getApi:F({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ma.config({}),E_(O.map(he=>he.value),he=>fl(he.element,Bq),(he,ve)=>{I$(s.items,ve).each(Re=>{rs(he.element,Bq,Re.value),cs(he,lg,{text:Re.text})})})]},"tox-listbox",l.shared)}}),Y={dom:{tag:"div",classes:["tox-listboxfield"]},components:[q]};return Tr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:mn([I.toArray(),[Y]]),fieldBehaviours:Qn([Yo.config({disabled:()=>!s.enabled||E.checkUiComponentContext(s.context).shouldDisable,onDisabled:ne=>{Tr.getField(ne).each(Yo.disable)},onEnabled:ne=>{Tr.getField(ne).each(Yo.enable)}})])})},Vq=(s,l)=>({dom:{tag:"div",classes:s.classes},components:qt(s.items,l.shared.interpreter)}),Fq=(s,l,h)=>{const g=qt(s.items,Y=>({text:l.translate(Y.text),value:Y.value})),E=s.label.map(Y=>iS(Y,l)),O=Tr.parts.field({dom:{},...h.map(Y=>({data:Y})).getOr({}),selectAttributes:{size:s.size},options:g,factory:Cse,selectBehaviours:Qn([Yo.config({disabled:()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable}),ma.config({}),Fs("selectbox-change",[dn(Jp(),(Y,ne)=>{cs(Y,_p,{name:s.name})})])])}),I=s.size>1?ee.none():ee.some(rg("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},l.icons)),q={dom:{tag:"div",classes:["tox-selectfield"]},components:mn([[O],I.toArray()])};return Tr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:mn([E.toArray(),[q]]),fieldBehaviours:Qn([Yo.config({disabled:()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable,onDisabled:Y=>{Tr.getField(Y).each(Yo.disable)},onEnabled:Y=>{Tr.getField(Y).each(Yo.enable)}}),Sc(()=>l.checkUiComponentContext(s.context))])})},Hq=s=>{const l={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},h=E=>E in l?l[E]:1;let g=s.value.toFixed(h(s.unit));return g.indexOf(".")!==-1&&(g=g.replace(/\.?0*$/,"")),g+s.unit},NN=s=>{const h=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(s);if(h!==null){const g=parseFloat(h[1]),E=h[2];return $o.value({value:g,unit:E})}else return $o.error(s)},$q=(s,l)=>{const h={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},g=E=>Zn(h,E);return s.unit===l?ee.some(s.value):g(s.unit)&&g(l)?h[s.unit]===h[l]?ee.some(s.value):ee.some(s.value/h[s.unit]*h[l]):ee.none()},LN=s=>ee.none(),Uq=(s,l)=>h=>$q(h,l).map(g=>({value:g*s,unit:l})),Cb=(s,l)=>{const h=NN(s).toOptional(),g=NN(l).toOptional();return wc(h,g,(E,O)=>$q(E,O.unit).map(I=>O.value/I).map(I=>Uq(I,O.unit)).getOr(LN)).getOr(LN)},R$=(s,l)=>{let h=LN;const g=uo("ratio-event"),E=et=>rg(et,{tag:"span",classes:["tox-icon","tox-lock-icon__"+et]},l.icons),O=()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable,I=Sc(()=>l.checkUiComponentContext(s.context)),q=s.label.getOr("Constrain proportions"),Y=l.translate(q),ne=ql.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":Y,"data-mce-name":q}},components:[E("lock"),E("unlock")],buttonBehaviours:Qn([Yo.config({disabled:O}),I,ma.config({}),ga.config(l.tooltips.getConfig({tooltipText:Y}))])}),he=et=>({dom:{tag:"div",classes:["tox-form__group"]},components:et}),ve=et=>Tr.parts.field({factory:lv,inputClasses:["tox-textfield"],inputBehaviours:Qn([Yo.config({disabled:O}),I,ma.config({}),Fs("size-input-events",[dn(bf(),(ft,Je)=>{cs(ft,g,{isField1:et})}),dn(Jp(),(ft,Je)=>{cs(ft,_p,{name:s.name})})])]),selectOnFocus:!1}),Re=et=>({dom:{tag:"label",classes:["tox-label"]},components:[pa(l.translate(et))]}),ze=ql.parts.field1(he([Tr.parts.label(Re("Width")),ve(!0)])),Ge=ql.parts.field2(he([Tr.parts.label(Re("Height")),ve(!1)]));return ql.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[ze,Ge,he([Re(of),ne])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(et,ft,Je)=>{NN(po.getValue(et)).each(yt=>{h(yt).each(At=>{po.setValue(ft,Hq(At))})})},coupledFieldBehaviours:Qn([Yo.config({disabled:O,onDisabled:et=>{ql.getField1(et).bind(Tr.getField).each(Yo.disable),ql.getField2(et).bind(Tr.getField).each(Yo.disable),ql.getLock(et).each(Yo.disable)},onEnabled:et=>{ql.getField1(et).bind(Tr.getField).each(Yo.enable),ql.getField2(et).bind(Tr.getField).each(Yo.enable),ql.getLock(et).each(Yo.enable)}}),Sc(()=>l.checkUiComponentContext("mode:design")),Fs("size-input-events2",[dn(g,(et,ft)=>{const Je=ft.event.isField1,yt=Je?ql.getField1(et):ql.getField2(et),At=Je?ql.getField2(et):ql.getField1(et),Xt=yt.map(po.getValue).getOr(""),en=At.map(po.getValue).getOr("");h=Cb(Xt,en)})])])})},Uce=(s,l,h)=>{const g=hb.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[pa(l.translate(s.label))]}),E=hb.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),O=hb.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return hb.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:s.min,maxX:s.max,getInitialValue:F(h.getOrThunk(()=>(Math.abs(s.max)-Math.abs(s.min))/2))},components:[g,E,O],sliderBehaviours:Qn([Sb.self(),Hs.config({})]),onChoose:(I,q,Y)=>{cs(I,_p,{name:s.name,value:Y})},onChange:(I,q,Y)=>{cs(I,_p,{name:s.name,value:Y})}})},zce=(s,l)=>{const h=q=>({dom:{tag:"th",innerHtml:l.translate(q)}}),g=q=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:qt(q,h)}]}),E=q=>({dom:{tag:"td",innerHtml:l.translate(q)}}),O=q=>({dom:{tag:"tr"},components:qt(q,E)}),I=q=>({dom:{tag:"tbody"},components:qt(q,O)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[g(s.header),I(s.cells)],behaviours:Qn([ma.config({}),Hs.config({})])}},zq=(s,l)=>{const h=s.label.map(Ge=>iS(Ge,l)),g=[Yo.config({disabled:()=>s.disabled||l.checkUiComponentContext(s.context).shouldDisable}),Sc(()=>l.checkUiComponentContext(s.context)),Xo.config({mode:"execution",useEnter:s.multiline!==!0,useControlEnter:s.multiline===!0,execute:Ge=>(Cr(Ge,mx),ee.some(!0))}),Fs("textfield-change",[dn(Xp(),(Ge,et)=>{cs(Ge,_p,{name:s.name})}),dn(Wm(),(Ge,et)=>{cs(Ge,_p,{name:s.name})})]),ma.config({})],E=s.validation.map(Ge=>If.config({getRoot:et=>ls(et.element),invalidClass:"tox-invalid",validator:{validate:et=>{const ft=po.getValue(et),Je=Ge.validator(ft);return ps.pure(Je===!0?$o.value(ft):$o.error(Je))},validateOnLoad:Ge.validateOnLoad}})).toArray(),O=s.placeholder.fold(F({}),Ge=>({placeholder:l.translate(Ge)})),I=s.inputMode.fold(F({}),Ge=>({inputmode:Ge})),Y={...s.spellcheck.fold(F({}),Ge=>({spellcheck:Ge})),...O,...I,"data-mce-name":s.name},ne=Tr.parts.field({tag:s.multiline===!0?"textarea":"input",...s.data.map(Ge=>({data:Ge})).getOr({}),inputAttributes:Y,inputClasses:[s.classname],inputBehaviours:Qn(mn([g,E])),selectOnFocus:!1,factory:lv}),he=s.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[ne]}:ne,Re=(s.flex?["tox-form__group--stretched"]:[]).concat(s.maximized?["tox-form-group--maximize"]:[]),ze=[Yo.config({disabled:()=>s.disabled||l.checkUiComponentContext(s.context).shouldDisable,onDisabled:Ge=>{Tr.getField(Ge).each(Yo.disable)},onEnabled:Ge=>{Tr.getField(Ge).each(Yo.enable)}}),Sc(()=>l.checkUiComponentContext(s.context))];return ks(h,he,Re,ze)},jce=(s,l,h)=>zq({name:s.name,multiline:!1,label:s.label,inputMode:s.inputMode,placeholder:s.placeholder,flex:!1,disabled:!s.enabled,classname:"tox-textfield",validation:ee.none(),maximized:s.maximized,data:h,context:s.context,spellcheck:ee.none()},l),Wce=(s,l,h)=>zq({name:s.name,multiline:!0,label:s.label,inputMode:ee.none(),placeholder:s.placeholder,flex:!0,disabled:!s.enabled,classname:"tox-textarea",validation:ee.none(),maximized:s.maximized,data:h,context:s.context,spellcheck:s.spellcheck},l),k$=s=>({isEnabled:()=>!Yo.isDisabled(s),setEnabled:l=>Yo.set(s,!l),setActive:l=>{const h=s.element;l?(Ei(h,"tox-tbtn--enabled"),rs(h,"aria-pressed",!0)):(ai(h,"tox-tbtn--enabled"),sa(h,"aria-pressed"))},isActive:()=>qa(s.element,"tox-tbtn--enabled"),setTooltip:l=>{cs(s,Nq,{text:l})},setText:l=>{cs(s,lg,{text:l})},setIcon:l=>cs(s,__,{icon:l})}),bx=(s,l,h,g,E=!0,O)=>{const I=s.buttonType==="bordered"?["bordered"]:[];return pv({text:s.text,icon:s.icon,tooltip:s.tooltip,ariaLabel:s.tooltip,searchable:s.search.isSome(),role:g,fetch:(q,Y)=>{const ne={pattern:s.search.isSome()?pce(q):""};s.fetch(he=>{Y(A_(he,mb.CLOSE_ON_EXECUTE,h,{isHorizontalMenu:!1,search:s.search}))},ne,k$(q))},onSetup:s.onSetup,getApi:q=>k$(q),columns:1,presets:"normal",classes:I,dropdownBehaviours:[...E?[ma.config({})]:[]],context:s.context},l,h.shared,O)},OSe=(s,l,h)=>{const g=O=>I=>{const q=!I.isActive();I.setActive(q),O.storage.set(q),h.shared.getSink().each(Y=>{l().getOpt(Y).each(ne=>{oa(ne.element),cs(ne,M0,{name:O.name,value:O.storage.get()})})})},E=O=>I=>{I.setActive(O.storage.get())};return O=>{O(qt(s,I=>{const q=I.text.fold(()=>({}),Y=>({text:Y}));return{type:I.type,active:!1,...q,context:I.context,onAction:g(I),onSetup:E(I)}}))}},Gce=s=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":s}},components:[pa(s)]}),qh=(s,l,h)=>{s.customStateIcon.each(g=>l.push(P$(g,h.shared.providers.icons,s.customStateIconTooltip.fold(()=>[],E=>[ga.config(h.shared.providers.tooltips.getConfig({tooltipText:E}))]),["tox-icon-custom-state"])))},D$=uo("leaf-label-event-id"),M$=({leaf:s,onLeafAction:l,visible:h,treeId:g,selectedId:E,backstage:O})=>{const I=s.menu.map(Y=>bx(Y,"tox-mbtn",O,ee.none(),h)),q=[Gce(s.title)];return qh(s,q,O),I.each(Y=>q.push(Y)),gd.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(h?["tox-tree--leaf__label--visible"]:[])},components:q,role:"treeitem",action:Y=>{l(s.id),Y.getSystem().broadcastOn([`update-active-item-${g}`],{value:s.id})},eventOrder:{[rc()]:[D$,"keying"]},buttonBehaviours:Qn([...h?[ma.config({})]:[],Dr.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),um.config({channels:{[`update-active-item-${g}`]:{onReceive:(Y,ne)=>{(ne.value===s.id?Dr.on:Dr.off)(Y)}}}}),Fs(D$,[Ea((Y,ne)=>{E.each(he=>{(he===s.id?Dr.on:Dr.off)(Y)})}),dn(rc(),(Y,ne)=>{const he=ne.event.raw.code==="ArrowLeft",ve=ne.event.raw.code==="ArrowRight";he?(Bh(Y.element,".tox-tree--directory").each(Re=>{Y.getSystem().getByDom(Re).each(ze=>{hf(Re,".tox-tree--directory__label").each(Ge=>{ze.getSystem().getByDom(Ge).each(Hs.focus)})})}),ne.stop()):ve&&ne.stop()})])])})},P$=(s,l,h,g,E)=>rg(s,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(g||[]),behaviours:h,attributes:E},l),qce=(s,l)=>P$(s,l,[]),jq=uo("directory-label-event-id"),Wq=({directory:s,visible:l,noChildren:h,backstage:g})=>{const E=s.menu.map(q=>bx(q,"tox-mbtn",g,ee.none())),O=[{dom:{tag:"div",classes:["tox-chevron"]},components:[qce("chevron-right",g.shared.providers.icons)]},Gce(s.title)];qh(s,O,g),E.each(q=>{O.push(q)});const I=q=>{Bh(q.element,".tox-tree--directory").each(Y=>{q.getSystem().getByDom(Y).each(ne=>{const he=!Dr.isOn(ne);Dr.toggle(ne),cs(q,"expand-tree-node",{expanded:he,node:s.id})})})};return gd.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(l?["tox-tree--directory__label--visible"]:[])},components:O,action:I,eventOrder:{[rc()]:[jq,"keying"]},buttonBehaviours:Qn([...l?[ma.config({})]:[],Fs(jq,[dn(rc(),(q,Y)=>{const ne=Y.event.raw.code==="ArrowRight",he=Y.event.raw.code==="ArrowLeft";ne&&h&&Y.stop(),(ne||he)&&Bh(q.element,".tox-tree--directory").each(ve=>{q.getSystem().getByDom(ve).each(Re=>{!Dr.isOn(Re)&&ne||Dr.isOn(Re)&&he?(I(q),Y.stop()):he&&!Dr.isOn(Re)&&(Bh(Re.element,".tox-tree--directory").each(ze=>{hf(ze,".tox-tree--directory__label").each(Ge=>{Re.getSystem().getByDom(Ge).each(Hs.focus)})}),Y.stop())})})})])])})},Zce=({children:s,onLeafAction:l,visible:h,treeId:g,expandedIds:E,selectedId:O,backstage:I})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:s.map(q=>q.type==="leaf"?M$({leaf:q,selectedId:O,onLeafAction:l,visible:h,treeId:g,backstage:I}):YR({directory:q,expandedIds:E,selectedId:O,onLeafAction:l,labelTabstopping:h,treeId:g,backstage:I})),behaviours:Qn([Uc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:h}),js.config({})])}),N$=uo("directory-event-id"),YR=({directory:s,onLeafAction:l,labelTabstopping:h,treeId:g,backstage:E,expandedIds:O,selectedId:I})=>{const{children:q}=s,Y=wn(O),ne=ve=>q.map(Re=>Re.type==="leaf"?M$({leaf:Re,selectedId:I,onLeafAction:l,visible:ve,treeId:g,backstage:E}):YR({directory:Re,expandedIds:Y.get(),selectedId:I,onLeafAction:l,labelTabstopping:ve,treeId:g,backstage:E})),he=O.includes(s.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[Wq({directory:s,visible:h,noChildren:s.children.length===0,backstage:E}),Zce({children:q,expandedIds:O,selectedId:I,onLeafAction:l,visible:he,treeId:g,backstage:E})],behaviours:Qn([Fs(N$,[Ea((ve,Re)=>{Dr.set(ve,he)}),dn("expand-tree-node",(ve,Re)=>{const{expanded:ze,node:Ge}=Re.event;Y.set(ze?[...Y.get(),Ge]:Y.get().filter(et=>et!==Ge))})]),Dr.config({...s.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(ve,Re)=>{const ze=ve.components()[1],Ge=ne(Re);Re?Uc.grow(ze):Uc.shrink(ze),js.set(ze,Ge)}})])}},Kce=uo("tree-event-id"),L$=(s,l)=>{const h=s.onLeafAction.getOr(re),g=s.onToggleExpand.getOr(re),E=s.defaultExpandedIds,O=wn(E),I=wn(s.defaultSelectedId),q=uo("tree-id"),Y=(ne,he)=>s.items.map(ve=>ve.type==="leaf"?M$({leaf:ve,selectedId:ne,onLeafAction:h,visible:!0,treeId:q,backstage:l}):YR({directory:ve,selectedId:ne,onLeafAction:h,expandedIds:he,labelTabstopping:!0,treeId:q,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:Y(I.get(),O.get()),behaviours:Qn([Xo.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Fs(Kce,[dn("expand-tree-node",(ne,he)=>{const{expanded:ve,node:Re}=he.event;O.set(ve?[...O.get(),Re]:O.get().filter(ze=>ze!==Re)),g(O.get(),{expanded:ve,node:Re})})]),um.config({channels:{[`update-active-item-${q}`]:{onReceive:(ne,he)=>{I.set(ee.some(he.value)),js.set(ne,Y(ee.some(he.value),O.get()))}}}}),js.config({})])}},XR=(s,l,h=[],g,E,O,I)=>{const q=l.fold(()=>({}),he=>({action:he})),Y={buttonBehaviours:Qn([yb.item(()=>!s.enabled||I.checkUiComponentContext(s.context).shouldDisable),Sc(()=>I.checkUiComponentContext(s.context)),ma.config({}),...O.map(he=>ga.config(I.tooltips.getConfig({tooltipText:I.translate(he)}))).toArray(),Fs("button press",[x1("click")])].concat(h)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...q},ne=Kr(Y,{dom:g});return Kr(ne,{components:E})},Gq=(s,l,h,g=[],E)=>{const O=s.tooltip.map(ne=>({"aria-label":h.translate(ne)})).getOr({}),I={tag:"button",classes:["tox-tbtn"],attributes:{...O,"data-mce-name":E}},q=s.icon.map(ne=>T$(ne,h.icons)),Y=ux([q]);return XR(s,l,g,I,Y,s.tooltip,h)},B$=s=>{switch(s){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},V$=(s,l,h,g=[],E=[])=>{const O=h.translate(s.text),I=s.icon.map(ze=>T$(ze,h.icons)),q=[I.getOrThunk(()=>pa(O))],Y=s.buttonType.getOr(!s.primary&&!s.borderless?"secondary":"primary"),ve={tag:"button",classes:[...B$(Y),...I.isSome()?["tox-button--icon"]:[],...s.borderless?["tox-button--naked"]:[],...E],attributes:{"aria-label":O,"data-mce-name":s.text}},Re=s.icon.map(F(O));return XR(s,l,g,ve,q,Re,h)},F$=(s,l,h,g=[],E=[])=>{const O=V$(s,ee.some(l),h,g,E);return gd.sketch(O)},qq=(s,l)=>h=>{l==="custom"?cs(h,M0,{name:s,value:{}}):l==="submit"?Cr(h,mx):l==="cancel"?Cr(h,YC):console.error("Unknown button type: ",l)},Zq=(s,l)=>l==="menu",Yce=(s,l)=>l==="custom"||l==="cancel"||l==="submit",Kq=(s,l)=>l==="togglebutton",ISe=(s,l,h)=>{const g=s.icon.map(Je=>ky(Je,l.icons)).map(di),E=Je=>{cs(Je,M0,{name:s.name,value:{setIcon:yt=>{g.map(At=>At.getOpt(Je).each(Xt=>{js.set(Xt,[ky(yt,l.icons)])}))}}})},O=s.buttonType.getOr(s.primary?"primary":"secondary"),I={...s,name:s.name??"",tooltip:s.tooltip,enabled:s.enabled??!1},q=I.tooltip.or(s.text).map(Je=>({"aria-label":l.translate(Je)})).getOr({}),Y=B$(O??"secondary"),ne=s.icon.isSome()&&s.text.isSome(),he={tag:"button",classes:[...Y.concat(s.icon.isSome()?["tox-button--icon"]:[]),...s.active?["tox-button--enabled"]:[],...ne?["tox-button--icon-and-text"]:[]],attributes:{...q,...H(h)?{"data-mce-name":h}:{}}},ve=[],Re=l.translate(s.text.getOr("")),ze=pa(Re),et=[...ux([g.map(Je=>Je.asSpec())]),...s.text.isSome()?[ze]:[]],ft=XR(I,ee.some(E),ve,he,et,s.tooltip,l);return gd.sketch(ft)},H$=(s,l,h)=>{if(Zq(s,l)){const g=()=>I,E=s,O={...s,buttonType:"default",type:"menubutton",search:ee.none(),onSetup:q=>(q.setEnabled(s.enabled),re),fetch:OSe(E.items,g,h)},I=di(bx(O,"tox-tbtn",h,ee.none(),!0,s.text.or(s.tooltip).getOrUndefined()));return I.asSpec()}else if(Yce(s,l)){const g=qq(s.name,l),E={...s,context:l==="cancel"?"any":s.context,borderless:!1};return F$(E,g,h.shared.providers,[])}else{if(Kq(s,l))return ISe(s,h.shared.providers,s.text.or(s.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",l),new Error("Unknown footer button type")}},Xce=(s,l)=>{const h=qq(s.name,"custom");return jR(ee.none(),Tr.parts.field({factory:gd,...V$(s,ee.some(h),l,[TN(""),Sb.self()])}))},Jce={type:"separator"},Yq=s=>({type:"menuitem",value:s.url,text:s.title,meta:{attach:s.attach},onAction:re}),$$=(s,l)=>({type:"menuitem",value:l,text:s,meta:{attach:void 0},onAction:re}),Qce=s=>qt(s,Yq),eue=(s,l)=>ws(l,h=>h.type===s),Xq=(s,l)=>Qce(eue(s,l)),Jq=s=>Xq("header",s.targets),tue=s=>Xq("anchor",s.targets),nue=s=>ee.from(s.anchorTop).map(l=>$$("<top>",l)).toArray(),Qq=s=>ee.from(s.anchorBottom).map(l=>$$("<bottom>",l)).toArray(),eZ=s=>qt(s,l=>$$(l,l)),yx=s=>Is(s,(l,h)=>l.length===0||h.length===0?l.concat(h):l.concat(Jce,h),[]),U$=(s,l)=>{const h=s.toLowerCase();return ws(l,g=>{const E=g.meta!==void 0&&g.meta.text!==void 0?g.meta.text:g.text,O=g.value??"";return fi(E.toLowerCase(),h)||fi(O.toLowerCase(),h)})},tZ=(s,l,h)=>{const g=po.getValue(l),E=g?.meta?.text??g.value;return h.getLinkInformation().fold(()=>[],I=>{const q=U$(E,eZ(h.getHistory(s)));return s==="file"?yx([q,U$(E,Jq(I)),U$(E,mn([nue(I),tue(I),Qq(I)]))]):q})},z$=uo("aria-invalid"),nZ=(s,l,h,g)=>{const E=l.shared.providers,O=yt=>{const At=po.getValue(yt);h.addToHistory(At.value,s.filetype)},I={...g.map(yt=>({initialData:yt})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{type:"url"},minChars:0,responseTime:0,fetch:yt=>{const At=tZ(s.filetype,yt,h),Xt=A_(At,mb.BUBBLE_TO_SANDBOX,l,{isHorizontalMenu:!1,search:ee.none()});return ps.pure(Xt)},getHotspot:yt=>Ge.getOpt(yt),onSetValue:(yt,At)=>{yt.hasConfigured(If)&&If.run(yt).get(re)},typeaheadBehaviours:Qn([...h.getValidationHandler().map(yt=>If.config({getRoot:At=>ls(At.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(At,Xt)=>{he.getOpt(At).each(en=>{rs(en.element,"title",E.translate(Xt))})}},validator:{validate:At=>{const Xt=po.getValue(At);return Od.nu(en=>{yt({type:s.filetype,url:Xt.value},ro=>{if(ro.status==="invalid"){rs(At.element,"aria-errormessage",z$);const kn=$o.error(ro.message);en(kn)}else{sa(At.element,"aria-errormessage");const kn=$o.value(ro.message);en(kn)}})})},validateOnLoad:!1}})).toArray(),Yo.config({disabled:()=>!s.enabled||E.checkUiComponentContext(s.context).shouldDisable}),ma.config({}),Fs("urlinput-events",[dn(Xp(),yt=>{const At=wl(yt.element),Xt=At.trim();Xt!==At&&ff(yt.element,Xt),s.filetype==="file"&&cs(yt,_p,{name:s.name})}),dn(Jp(),yt=>{cs(yt,_p,{name:s.name}),O(yt)}),dn(Wm(),yt=>{cs(yt,_p,{name:s.name}),O(yt)})])]),eventOrder:{[Xp()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:yt=>yt.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:l.shared.getSink,parts:{menu:r_(!1,1,"normal")},onExecute:(yt,At,Xt)=>{cs(At,mx,{})},onItemExecute:(yt,At,Xt,en)=>{O(yt),cs(yt,_p,{name:s.name})}},q=Tr.parts.field({...I,factory:tie}),Y=s.label.map(yt=>iS(yt,E)),he=di(((yt,At,Xt=yt,en=yt)=>rg(Xt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+yt],attributes:{title:E.translate(en),"aria-live":"polite",...At.fold(()=>({}),ro=>({id:ro}))}},E.icons))("invalid",ee.some(z$),"warning")),ve=di({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[he.asSpec()]}),Re=h.getUrlPicker(s.filetype),ze=uo("browser.url.event"),Ge=di({dom:{tag:"div",classes:["tox-control-wrap"]},components:[q,ve.asSpec()],behaviours:Qn([Yo.config({disabled:()=>!s.enabled||E.checkUiComponentContext(s.context).shouldDisable})])}),et=di(F$({context:s.context,name:s.name,icon:ee.some("browse"),text:s.picker_text.or(s.label).getOr(""),enabled:s.enabled,primary:!1,buttonType:ee.none(),borderless:!0},yt=>Cr(yt,ze),E,[],["tox-browse-url"])),ft=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:mn([[Ge.asSpec()],Re.map(()=>et.asSpec()).toArray()])}),Je=yt=>{an.getCurrent(yt).each(At=>{const Xt=po.getValue(At),en={fieldname:s.name,...Xt};Re.each(ro=>{ro(en).get(kn=>{po.setValue(At,kn),cs(yt,_p,{name:s.name})})})})};return Tr.sketch({dom:oq(),components:Y.toArray().concat([ft()]),fieldBehaviours:Qn([Yo.config({disabled:()=>!s.enabled||E.checkUiComponentContext(s.context).shouldDisable,onDisabled:yt=>{Tr.getField(yt).each(Yo.disable),et.getOpt(yt).each(Yo.disable)},onEnabled:yt=>{Tr.getField(yt).each(Yo.enable),et.getOpt(yt).each(Yo.enable)}}),Sc(()=>E.checkUiComponentContext(s.context)),Fs("url-input-events",[dn(ze,Je)])])})},oue=(s,l)=>{const h=R0(s.icon,l.icons);return xy.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${s.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:s.url?void 0:h},components:s.url?[gd.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:h,attributes:{title:l.translate(s.iconTooltip)}},action:g=>cs(g,M0,{name:"alert-banner",value:s.url}),buttonBehaviours:Qn([XW()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(s.text)}}]})},oZ=(s,l,h)=>{const g=Y=>(Y.element.dom.click(),ee.some(!0)),E=Tr.parts.field({factory:{sketch:Me},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Qn([Sb.self(),Yo.config({disabled:()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable,onDisabled:Y=>{ls(Y.element).each(ne=>Ei(ne,"tox-checkbox--disabled"))},onEnabled:Y=>{ls(Y.element).each(ne=>ai(ne,"tox-checkbox--disabled"))}}),ma.config({}),Hs.config({}),uq(h,t0,sp),Xo.config({mode:"special",onEnter:g,onSpace:g,stopSpaceKeyup:!0}),Fs("checkbox-events",[dn(Jp(),(Y,ne)=>{cs(Y,_p,{name:s.name})})])])}),O=Tr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[pa(l.translate(s.label))],behaviours:Qn([qT.config({})])}),I=Y=>rg(Y==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+Y]},l.icons),q=di({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[I("checked"),I("unchecked")]});return Tr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[E,q.asSpec(),O],fieldBehaviours:Qn([Yo.config({disabled:()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable}),Sc(()=>l.checkUiComponentContext(s.context))])})},sZ=(s,l)=>{const h=["tox-form__group",...s.stretched?["tox-form__group--stretched"]:[]],g=Fs("htmlpanel",[Ea(E=>{s.onInit(E.element.dom)})]);return s.presets==="presentation"?xy.sketch({dom:{tag:"div",classes:h,innerHtml:s.html},containerBehaviours:Qn([ga.config({...l.tooltips.getConfig({tooltipText:"",onShow:E=>{oi(E.element,"[data-mce-tooltip]:hover").orThunk(()=>Ga(E.element)).each(O=>{nr(O,"data-mce-tooltip").each(I=>{ga.setComponents(E,l.tooltips.getComponents({tooltipText:I}))})})}}),mode:"children-normal",anchor:E=>({type:"node",node:oi(E.element,"[data-mce-tooltip]:hover").orThunk(()=>Ga(E.element).filter(O=>nr(O,"data-mce-tooltip").isSome())),root:E.element,layouts:{onLtr:F([ac,ic,Fa,Ha,Hi,al]),onRtl:F([ac,ic,Fa,Ha,Hi,al])},bubble:Hn(0,-2,{})})}),g])}):xy.sketch({dom:{tag:"div",classes:h,innerHtml:s.html,attributes:{role:"document"}},containerBehaviours:Qn([ma.config({}),Hs.config({}),g])})},Wc=s=>(l,h,g,E,O)=>Zt(h,"name").fold(()=>s(h,E,ee.none(),O),I=>l.field(I,s(h,E,Zt(g,I),O))),sue=s=>(l,h,g,E,O)=>{const I=Kr(h,{source:"dynamic"});return Wc(s)(l,I,g,E,O)},rZ={bar:Wc((s,l)=>bce(s,l.shared)),collection:Wc((s,l,h)=>rq(s,l.shared.providers,h)),alertbanner:Wc((s,l)=>oue(s,l.shared.providers)),input:Wc((s,l,h)=>jce(s,l.shared.providers,h)),textarea:Wc((s,l,h)=>Wce(s,l.shared.providers,h)),label:Wc((s,l,h,g)=>Mq(s,l.shared,g)),iframe:sue((s,l,h)=>Pce(s,l.shared.providers,h)),button:Wc((s,l)=>Xce(s,l.shared.providers)),checkbox:Wc((s,l,h)=>oZ(s,l.shared.providers,h)),colorinput:Wc((s,l,h)=>f$(s,l.shared,l.colorinput,h)),colorpicker:Wc((s,l,h)=>xce(s,l.shared.providers,h)),dropzone:Wc((s,l,h)=>S$(s,l.shared.providers,h)),grid:Wc((s,l)=>Ice(s,l.shared)),listbox:Wc((s,l,h)=>$ce(s,l,h)),selectbox:Wc((s,l,h)=>Fq(s,l.shared.providers,h)),sizeinput:Wc((s,l)=>R$(s,l.shared.providers)),slider:Wc((s,l,h)=>Uce(s,l.shared.providers,h)),urlinput:Wc((s,l,h)=>nZ(s,l,l.urlinput,h)),customeditor:Wc(vq),htmlpanel:Wc((s,l)=>sZ(s,l.shared.providers)),imagepreview:Wc((s,l,h)=>Dq(s,h)),table:Wc((s,l)=>zce(s,l.shared.providers)),tree:Wc((s,l)=>L$(s,l)),panel:Wc((s,l)=>Vq(s,l))},iZ={field:(s,l)=>l,record:F([])},aZ=(s,l,h,g,E)=>{const O=Kr(g,{shared:{interpreter:I=>j$(s,I,h,O,E)}});return j$(s,l,h,O,E)},j$=(s,l,h,g,E)=>Zt(rZ,l.type).fold(()=>(console.error(`Unknown factory type "${l.type}", defaulting to container: `,l),l),O=>O(s,l,h,g,E)),lZ=(s,l,h,g)=>j$(iZ,s,l,h,g),JR={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},rue=(s,l,h)=>{const E={maxHeightFunction:T1()},O=()=>({type:"node",root:Wa(ta(s())),node:ee.from(s()),bubble:Hn(12,12,JR),layouts:{onRtl:()=>[sn],onLtr:()=>[fC]},overrides:E}),I=()=>({type:"hotspot",hotspot:l(),bubble:Hn(-12,12,JR),layouts:{onRtl:()=>[Fa,Hi,ac],onLtr:()=>[Hi,Fa,ac]},overrides:E});return()=>h()?O():I()},iue=(s,l,h,g)=>{const O={maxHeightFunction:T1()},I=()=>({type:"node",root:Wa(ta(l())),node:ee.from(l()),bubble:Hn(12,12,JR),layouts:{onRtl:()=>[Uh],onLtr:()=>[Uh]},overrides:O}),q=()=>s?{type:"node",root:Wa(ta(l())),node:ee.from(l()),bubble:Hn(0,-El(l()),JR),layouts:{onRtl:()=>[ic],onLtr:()=>[ic]},overrides:O}:{type:"hotspot",hotspot:h(),bubble:Hn(0,0,JR),layouts:{onRtl:()=>[ic],onLtr:()=>[ic]},overrides:O};return()=>g()?I():q()},aue=(s,l,h)=>{const g=()=>({type:"node",root:Wa(ta(s())),node:ee.from(s()),layouts:{onRtl:()=>[Uh],onLtr:()=>[Uh]}}),E=()=>({type:"hotspot",hotspot:l(),layouts:{onRtl:()=>[ac],onLtr:()=>[ac]}});return()=>h()?g():E()},lue=(s,l)=>()=>({type:"selection",root:l(),getSelection:()=>{const h=s.selection.getRng(),g=s.model.table.getSelectedCells();if(g.length>1){const E=g[0],O=g[g.length-1],I={firstCell:to.fromDom(E),lastCell:to.fromDom(O)};return ee.some(I)}return ee.some(ru.range(to.fromDom(h.startContainer),h.startOffset,to.fromDom(h.endContainer),h.endOffset))}}),cue=s=>l=>({type:"node",root:s(),node:l}),uue=(s,l,h,g)=>{const E=QT(s),O=()=>to.fromDom(s.getBody()),I=()=>to.fromDom(s.getContentAreaContainer()),q=()=>E||!g();return{inlineDialog:rue(I,l,q),inlineBottomDialog:iue(s.inline,I,h,q),banner:aue(I,l,q),cursor:lue(s,O),node:cue(O)}},due=s=>(l,h)=>{FG(s)(l,h)},RSe=s=>()=>vN(s),hue=s=>l=>mN(s,l),cZ=s=>l=>kG(s,l),uZ=s=>({colorPicker:due(s),hasCustomColors:RSe(s),getColors:hue(s),getColorCols:cZ(s)}),BN=s=>()=>TW(s),dZ=s=>({isDraggableModal:BN(s)}),fue=s=>{const l=wn(TF(s)?"bottom":"top");return{isPositionedAtTop:()=>l.get()==="top",getDockingMode:l.get,setDockingMode:l.set}},hZ=s=>eo(s,"items"),fZ=s=>eo(s,"format"),pZ=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],pue=s=>Zn(s,"items"),mue=s=>Zn(s,"block"),gue=s=>Zn(s,"inline"),mZ=s=>Zn(s,"selector"),W$=s=>Is(s,(l,h)=>{if(pue(h)){const g=W$(h.items);return{customFormats:l.customFormats.concat(g.customFormats),formats:l.formats.concat([{title:h.title,items:g.formats}])}}else if(gue(h)||mue(h)||mZ(h)){const E=`custom-${v(h.name)?h.name:h.title.toLowerCase()}`;return{customFormats:l.customFormats.concat([{name:E,format:h}]),formats:l.formats.concat([{title:h.title,format:E,icon:h.icon}])}}else return{...l,formats:l.formats.concat(h)}},{customFormats:[],formats:[]}),vue=(s,l)=>{const h=W$(l),g=E=>{Tn(E,O=>{s.formatter.has(O.name)||s.formatter.register(O.name,O.format)})};return s.formatter?g(h.customFormats):s.on("init",()=>{g(h.customFormats)}),h.formats},G$=s=>uW(s).map(l=>{const h=vue(s,l);return dW(s)?pZ.concat(h):h}).getOr(pZ),bue=s=>{const l=Io(s);return l.length===1&&vn(l,"title")},gZ=(s,l,h)=>({...s,type:"formatter",isSelected:l(s.format),getStylePreview:h(s.format)}),vZ=(s,l,h,g)=>{const E=Y=>gZ(Y,h,g),O=Y=>{const ne=q(Y.items);return{...Y,type:"submenu",getStyleItems:F(ne)}},I=Y=>{const ne=v(Y.name)?Y.name:uo(Y.title),he=`custom-${ne}`,ve={...Y,type:"formatter",format:he,isSelected:h(he),getStylePreview:g(he)};return s.formatter.register(ne,ve),ve},q=Y=>qt(Y,ne=>hZ(ne)?O(ne):fZ(ne)?E(ne):bue(ne)?{...ne,type:"separator"}:I(ne));return q(l)},T_=s=>{const l=q=>()=>s.formatter.match(q),h=q=>()=>{const Y=s.formatter.get(q);return Y!==void 0?ee.some({tag:Y.length>0&&(Y[0].inline||Y[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(q))}):ee.none()},g=wn([]),E=wn([]),O=wn(!1);return s.on("PreInit",q=>{const Y=G$(s),ne=vZ(s,Y,l,h);g.set(ne)}),s.on("addStyleModifications",q=>{const Y=vZ(s,q.items,l,h);E.set(Y),O.set(q.replace)}),{getData:()=>{const q=O.get()?[]:g.get(),Y=E.get();return q.concat(Y)}}},bZ=s=>{let g=0;const E=()=>g>0,O=q=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[pa(q.tooltipText)]}];return{getConfig:q=>({delayForShow:()=>E()?60:300,delayForHide:F(300),exclusive:!0,lazySink:s,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:O(q),onShow:(Y,ne)=>{g++,q.onShow&&q.onShow(Y,ne)},onHide:(Y,ne)=>{g--,q.onHide&&q.onHide(Y,ne)},onSetup:q.onSetup}),getComponents:O}},QR=s=>H(s)&&s.nodeType===1,VN=aS.trim,q$=s=>l=>!!(QR(l)&&(l.contentEditable===s||l.getAttribute("data-mce-contenteditable")===s)),yZ=q$("true"),SZ=q$("false"),yue=(s,l,h,g,E)=>({type:s,title:l,url:h,level:g,attach:E}),Sue=s=>{let l=s;for(;l=l.parentNode;){const h=l.contentEditable;if(h&&h!=="inherit")return yZ(l)}return!1},Cue=(s,l)=>qt(wi(to.fromDom(l),s),h=>h.dom),CZ=s=>s.innerText||s.textContent,Eue=s=>s.id?s.id:uo("h"),wue=s=>s&&s.nodeName==="A"&&(s.id||s.name)!==void 0,_ue=s=>wue(s)&&Sx(s),x_=s=>s&&/^(H[1-6])$/.test(s.nodeName),Sx=s=>Sue(s)&&!SZ(s),Z$=s=>x_(s)&&Sx(s),Aue=s=>x_(s)?parseInt(s.nodeName.substr(1),10):0,Tue=s=>{const l=Eue(s),h=()=>{s.id=l};return yue("header",CZ(s)??"","#"+l,Aue(s),h)},K$=s=>{const l=s.id||s.name,h=CZ(s);return yue("anchor",h||"#"+l,"#"+l,0,re)},xue=s=>qt(ws(s,Z$),Tue),e2=s=>qt(ws(s,_ue),K$),EZ=s=>Cue("h1,h2,h3,h4,h5,h6,a:not([href])",s),Oue=s=>VN(s.title).length>0,Iue={find:s=>{const l=EZ(s);return ws(xue(l).concat(e2(l)),Oue)}},FN="tinymce-url-history",wZ=5,_Z=s=>v(s)&&/^https?/.test(s),AZ=s=>x(s)&&s.length<=wZ&&mt(s,_Z),Y$=s=>S(s)&&wo(s,l=>!AZ(l)).isNone(),HN=()=>{const s=S_.getItem(FN);if(s===null)return{};let l;try{l=JSON.parse(s)}catch(h){if(h instanceof SyntaxError)return console.log("Local storage "+FN+" was not valid JSON",h),{};throw h}return Y$(l)?l:(console.log("Local storage "+FN+" was not valid format",l),{})},Rue=s=>{if(!Y$(s))throw new Error(`Bad format for history:
`+JSON.stringify(s));S_.setItem(FN,JSON.stringify(s))},$N=s=>{const l=HN();return Zt(l,s).getOr([])},UN=(s,l)=>{if(!_Z(s))return;const h=HN(),g=Zt(h,l).getOr([]),E=ws(g,O=>O!==s);h[l]=[s].concat(E).slice(0,wZ),Rue(h)},X$=s=>!!s,kue=s=>ys(aS.makeMap(s,/[, ]/),X$),J$=s=>ee.from(yW(s)),Due=s=>{const l=ee.from(EW(s)).filter(X$).map(kue);return J$(s).fold(rt,h=>l.fold(gt,g=>Io(g).length>0?g:!1))},Mue=(s,l)=>{const h=Due(s);return B(h)?h?J$(s):ee.none():h[l]?J$(s):ee.none()},Q$=(s,l)=>Mue(s,l).map(h=>g=>ps.nu(E=>{const O=(q,Y)=>{if(!v(q))throw new Error("Expected value to be string");if(Y!==void 0&&!S(Y))throw new Error("Expected meta to be a object");E({value:q,meta:Y})},I={filetype:l,fieldname:g.fieldname,...ee.from(g.meta).getOr({})};h.call(s,O,g.value,I)})),TZ=s=>ee.from(s).filter(v).getOrUndefined(),eU=s=>wW(s)?ee.some({targets:Iue.find(s.getBody()),anchorTop:TZ(_W(s)),anchorBottom:TZ(AW(s))}):ee.none(),Pue=s=>ee.from(SW(s)),tU=s=>({getHistory:$N,addToHistory:UN,getLinkInformation:()=>eU(s),getValidationHandler:()=>Pue(s),getUrlPicker:l=>Q$(s,l)}),Nue=(s,l,h,g)=>{const E=wn(!1),O=fue(l),I={icons:()=>l.ui.registry.getAll().icons,menuItems:()=>l.ui.registry.getAll().menuItems,translate:bd.translate,isDisabled:()=>!l.ui.isEnabled(),getOption:l.options.get,tooltips:bZ(s.dialog),checkUiComponentContext:Je=>{if(uv(l))return{contextType:"disabled",shouldDisable:!0};const[yt,At=""]=Je.split(":"),Xt=l.ui.registry.getAll().contexts,en=Zt(Xt,yt).fold(()=>Zt(Xt,"mode").map(ro=>ro("design")).getOr(!1),ro=>At.charAt(0)==="!"?!ro(At.slice(1)):ro(At));return{contextType:yt,shouldDisable:!en}}},q=tU(l),Y=T_(l),ne=uZ(l),he=dZ(l),ve=()=>E.get(),Re=Je=>E.set(Je),ze={shared:{providers:I,anchors:uue(l,h,g,O.isPositionedAtTop),header:O},urlinput:q,styles:Y,colorinput:ne,dialog:he,isContextMenuOpen:ve,setContextMenuState:Re},Ge=Je=>ee.none(),et={...ze,shared:{...ze.shared,interpreter:Je=>lZ(Je,{},et,Ge),getSink:s.popup}},ft={...ze,shared:{...ze.shared,interpreter:Je=>lZ(Je,{},ft,Ge),getSink:s.dialog}};return{popup:et,dialog:ft}},Lue={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},Bue=s=>{console.warn(Lue[s],new Error().stack)},Vue=(s,l,h)=>{const g=(Vn,ds)=>{Tn([l,...h],Wo=>{Wo.broadcastEvent(Vn,ds)})},E=(Vn,ds)=>{Tn([l,...h],Wo=>{Wo.broadcastOn([Vn],ds)})},O=Vn=>E(Cy(),{target:Vn.target}),I=Vn=>{E(fw(),{closedTooltip:()=>{Vn.preventDefault()}})},q=jl(),Y=ti(q,"touchstart",O),ne=ti(q,"touchmove",Vn=>g(tC(),Vn)),he=ti(q,"touchend",Vn=>g(DA(),Vn)),ve=ti(q,"mousedown",O),Re=ti(q,"mouseup",Vn=>{Vn.raw.button===0&&E(Qv(),{target:Vn.target})}),ze=Vn=>E(Cy(),{target:to.fromDom(Vn.target)}),Ge=Vn=>{Vn.button===0&&E(Qv(),{target:to.fromDom(Vn.target)})},et=()=>{Tn(s.editorManager.get(),Vn=>{s!==Vn&&Vn.dispatch("DismissPopups",{relatedTarget:s})})},ft=Vn=>g(py(),ku(Vn)),Je=Vn=>{E(pd(),{}),g(my(),ku(Vn))},yt=ta(to.fromDom(s.getElement())),At=Pd(yt,"scroll",Vn=>{requestAnimationFrame(()=>{const ds=s.getContainer();if(ds!=null){const Ir=HC(s,l.element).map(Es=>[Es.element,...Es.others]).getOr([]);To(Ir,Es=>xe(Es,Vn.target))&&(s.dispatch("ElementScroll",{target:Vn.target.dom}),g(PA(),Vn))}})}),Xt=()=>E(pd(),{}),en=Vn=>{Vn.state&&E(Cy(),{target:to.fromDom(s.getContainer())})},ro=Vn=>{E(Cy(),{target:to.fromDom(Vn.relatedTarget.getContainer())})},kn=Vn=>s.dispatch("focusin",Vn),zn=Vn=>s.dispatch("focusout",Vn);s.on("PostRender",()=>{s.on("click",ze),s.on("tap",ze),s.on("mouseup",Ge),s.on("mousedown",et),s.on("ScrollWindow",ft),s.on("ResizeWindow",Je),s.on("ResizeEditor",Xt),s.on("AfterProgressState",en),s.on("DismissPopups",ro),s.on("CloseActiveTooltips",I),Tn([l,...h],Vn=>{Vn.element.dom.addEventListener("focusin",kn),Vn.element.dom.addEventListener("focusout",zn)})}),s.on("remove",()=>{s.off("click",ze),s.off("tap",ze),s.off("mouseup",Ge),s.off("mousedown",et),s.off("ScrollWindow",ft),s.off("ResizeWindow",Je),s.off("ResizeEditor",Xt),s.off("AfterProgressState",en),s.off("DismissPopups",ro),s.off("CloseActiveTooltips",I),Tn([l,...h],Vn=>{Vn.element.dom.removeEventListener("focusin",kn),Vn.element.dom.removeEventListener("focusout",zn)}),ve.unbind(),Y.unbind(),ne.unbind(),he.unbind(),Re.unbind(),At.unbind()}),s.on("detach",()=>{Tn([l,...h],XD),Tn([l,...h],Vn=>Vn.destroy())})},MSe=re,PSe=rt,nU=F([]);var Fue=Object.freeze({__proto__:null,setup:MSe,isDocked:PSe,getBehaviours:nU});const zN=F(uo("toolbar-height-change")),P0={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},xZ="tox-tinymce--toolbar-sticky-on",OZ="tox-tinymce--toolbar-sticky-off",Hue=(s,l)=>{const h=ht(l),E=On(l).dom.innerHeight,O=La(h),I=to.fromDom(s.elm),q=ip(I),Y=Cl(I),ne=q.y,he=ne+Y,ve=Lc(l),Re=Cl(l),ze=ve.top,Ge=ze+Re,et=Math.abs(ze-O.top)<2,ft=Math.abs(Ge-(O.top+E))<2;if(et&&ne<Ge)Bd(O.left,ne-Re,h);else if(ft&&he>ze){const Je=ne-E+Y+Re;Bd(O.left,Je,h)}},jN=(s,l)=>vn(Ja.getModes(s),l),WN=s=>{const l=g=>El(g)+(parseInt(ra(g,"margin-top"),10)||0)+(parseInt(ra(g,"margin-bottom"),10)||0),h=s.element;ls(h).each(g=>{const E="padding-"+Ja.getModes(s)[0];if(Ja.isDocked(s)){const O=bc(g);_s(h,"width",O+"px"),_s(g,E,l(h)+"px")}else Sr(h,"width"),Sr(g,E)})},IZ=(s,l)=>{l?(ai(s,P0.fadeOutClass),Fh(s,[P0.transitionClass,P0.fadeInClass])):(ai(s,P0.fadeInClass),Fh(s,[P0.fadeOutClass,P0.transitionClass]))},RZ=(s,l)=>{const h=to.fromDom(s.getContainer());l?(Ei(h,xZ),ai(h,OZ)):(Ei(h,OZ),ai(h,xZ))},$ue=(s,l)=>{const h=ht(l);Wl(h).filter(g=>!xe(l,g)).filter(g=>xe(g,to.fromDom(h.dom.body))||Le(s,g)).each(()=>oa(l))},NSe=(s,l)=>Ga(s).orThunk(()=>l().toOptional().bind(h=>Ga(h.element))),LSe=(s,l,h)=>{s.inline||(l.header.isPositionedAtTop()||s.on("ResizeEditor",()=>{h().each(Ja.reset)}),s.on("ResizeWindow ResizeEditor",()=>{h().each(WN)}),s.on("SkinLoaded",()=>{h().each(g=>{Ja.isDocked(g)?Ja.reset(g):Ja.refresh(g)})}),s.on("FullscreenStateChanged",()=>{h().each(Ja.reset)})),s.on("AfterScrollIntoView",g=>{h().each(E=>{Ja.refresh(E);const O=E.element;Up(O)&&Hue(g,O)})}),s.on("PostRender",()=>{RZ(s,!1)})},kZ=s=>s().map(Ja.isDocked).getOr(!1),DZ=()=>[um.config({channels:{[zN()]:{onReceive:WN}}})],MZ=(s,l)=>{const h=ms(),g=l.getSink,E=q=>{g().each(Y=>q(Y.element))},O=q=>{s.inline||WN(q),RZ(s,Ja.isDocked(q)),q.getSystem().broadcastOn([pd()],{}),g().each(Y=>Y.getSystem().broadcastOn([pd()],{}))},I=s.inline?[]:DZ();return[Hs.config({}),Ja.config({contextual:{lazyContext:q=>{const Y=El(q.element),ne=s.inline?s.getContentAreaContainer():s.getContainer();return ee.from(ne).map(he=>{const ve=Pl(to.fromDom(he));return HC(s,q.element).fold(()=>{const ze=ve.height-Y,Ge=ve.y+(jN(q,"top")?0:Y);return jr(ve.x,Ge,ve.width,ze)},ze=>{const Ge=Vd(ve,Qw(ze)),et=jN(q,"top")?Ge.y:Ge.y+Y;return jr(Ge.x,et,Ge.width,Ge.height-Y)})})},onShow:()=>{E(q=>IZ(q,!0))},onShown:q=>{E(Y=>xc(Y,[P0.transitionClass,P0.fadeInClass])),h.get().each(Y=>{$ue(q.element,Y),h.clear()})},onHide:q=>{NSe(q.element,g).fold(h.clear,h.set),E(Y=>IZ(Y,!1))},onHidden:()=>{E(q=>xc(q,[P0.transitionClass]))},...P0},lazyViewport:q=>HC(s,q.element).fold(()=>{const ne=Bu(),he=vW(s),ve=ne.y+(jN(q,"top")&&!SR(s)?he:0),Re=ne.height-(jN(q,"bottom")?he:0);return{bounds:jr(ne.x,ve,ne.width,Re),optScrollEnv:ee.none()}},ne=>({bounds:Qw(ne),optScrollEnv:ee.some({currentScrollTop:ne.element.dom.scrollTop,scrollElmTop:Lc(ne.element).top})})),modes:[l.header.getDockingMode()],onDocked:O,onUndocked:O}),...I]};var Uue=Object.freeze({__proto__:null,setup:LSe,isDocked:kZ,getBehaviours:MZ});const cg=s=>{const l=s.editor,h=s.sticky?MZ:nU;return{uid:s.uid,dom:s.dom,components:s.components,behaviours:Qn(h(l,s.sharedBackstage))}};var GN=og({factory:(s,l)=>{const h=(E,O)=>{const I=qt(O,q=>{const Y={type:"menubutton",text:q.text,fetch:he=>{he(q.getItems())},context:"any"},ne=I9(Y).mapError(he=>up(he)).getOrDie();return bx(ne,"tox-mbtn",l.backstage,ee.some("menuitem"))});js.set(E,I)},g={focus:Xo.focusIn,setMenus:h};return{uid:s.uid,dom:s.dom,components:[],behaviours:Qn([js.config({}),Fs("menubar-events",[Ea(E=>{s.onSetup(E)}),dn(vf(),(E,O)=>{oi(E.element,".tox-mbtn--active").each(I=>{gl(O.event.target,".tox-mbtn").each(q=>{xe(I,q)||E.getSystem().getByDom(I).each(Y=>{E.getSystem().getByDom(q).each(ne=>{Rf.expand(ne),Rf.close(Y),Hs.focus(ne)})})})})}),dn(h0(),(E,O)=>{O.event.prevFocus.bind(I=>E.getSystem().getByDom(I).toOptional()).each(I=>{O.event.newFocus.bind(q=>E.getSystem().getByDom(q).toOptional()).each(q=>{Rf.isOpen(I)&&(Rf.expand(q),Rf.close(I))})})})]),Xo.config({mode:"flow",selector:".tox-mbtn",onEscape:E=>(s.onEscape(E),ee.some(!0))}),ma.config({})]),apis:g,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[xn("dom"),xn("uid"),xn("onEscape"),xn("backstage"),Wt("onSetup",re)],apis:{focus:(s,l)=>{s.focus(l)},setMenus:(s,l,h)=>{s.setMenus(l,h)}}});const PZ=" Get all features",zue="https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",t2=s=>{const l=s.promotionLink?[{dom:{tag:"a",attributes:{href:zue,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:PZ}}]:[];return{uid:s.uid,dom:s.dom,components:l}},jue=s=>{const{sidebars:l}=s.ui.registry.getAll();Tn(Io(l),h=>{const g=l[h],E=()=>Mc(ee.from(s.queryCommandValue("ToggleSidebar")),h);s.ui.registry.addToggleButton(h,{icon:g.icon,tooltip:g.tooltip,onAction:O=>{s.execCommand("ToggleSidebar",!1,h),O.setActive(E())},onSetup:O=>{O.setActive(E());const I=()=>O.setActive(E());return s.on("ToggleSidebar",I),()=>{s.off("ToggleSidebar",I)}},context:"any"})})},qN=s=>({element:()=>s.element.dom}),Wue=(s,l)=>{const h=qt(Io(l),g=>{const E=l[g],O=cp(RH(E));return{name:g,getApi:qN,onSetup:O.onSetup,onShow:O.onShow,onHide:O.onHide}});return qt(h,g=>{const E=wn(re);return s.slot(g.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:cx.unnamedEvents([Oy(g,E),m_(g,E),dn(b1(),(O,I)=>{const q=I.event;kt(h,ne=>ne.name===q.name).each(ne=>{(q.visible?ne.onShow:ne.onHide)(ne.getApi(O))})})])})})},ZN=s=>qd.sketch(l=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:Wue(l,s),slotBehaviours:cx.unnamedEvents([Ea(h=>qd.hideAllSlots(h))])})),Gue=(s,l,h)=>{an.getCurrent(s).each(E=>{js.set(E,[ZN(l)]);const O=h?.toLowerCase();v(O)&&Zn(l,O)&&an.getCurrent(E).each(I=>{qd.showSlot(I,O),Uc.immediateGrow(E),Sr(E.element,"width"),KN(s.element,"region")})})},KN=(s,l)=>{rs(s,"role",l)},mv=(s,l)=>{an.getCurrent(s).each(g=>{an.getCurrent(g).each(O=>{Uc.hasGrown(g)?qd.isShowing(O,l)?(Uc.shrink(g),KN(s.element,"presentation")):(qd.hideAllSlots(O),qd.showSlot(O,l),KN(s.element,"region")):(qd.hideAllSlots(O),qd.showSlot(O,l),Uc.grow(g),KN(s.element,"region"))})})},que=s=>an.getCurrent(s).bind(h=>Uc.isGrowing(h)||Uc.hasGrown(h)?an.getCurrent(h).bind(O=>kt(qd.getSlotNames(O),I=>qd.isShowing(O,I))):ee.none()),Cx=uo("FixSizeEvent"),YN=uo("AutoSizeEvent"),NZ=s=>({uid:s.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Qn([ma.config({}),Hs.config({}),Uc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:l=>{an.getCurrent(l).each(qd.hideAllSlots),Cr(l,YN)},onGrown:l=>{Cr(l,YN)},onStartGrow:l=>{cs(l,Cx,{width:ua(l.element,"width").getOr("")})},onStartShrink:l=>{cs(l,Cx,{width:bc(l.element)+"px"})}}),js.config({}),an.config({find:l=>{const h=js.contents(l);return _t(h)}})])}],behaviours:Qn([Sb.childAt(0),Fs("sidebar-sliding-events",[dn(Cx,(l,h)=>{_s(l.element,"width",h.event.width)}),dn(YN,(l,h)=>{Sr(l.element,"width")})])])}),Zue=s=>(l,h)=>({dom:{tag:"div",attributes:{"aria-label":s.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:J1('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),oU=s=>an.getCurrent(s).each(l=>oa(l.element,!0)),Kue=(s,l)=>{const h="tabindex",g=`data-mce-${h}`;ee.from(s.iframeElement).map(to.fromDom).each(E=>{l?(nr(E,h).each(O=>rs(E,g,O)),rs(E,h,-1)):(sa(E,h),nr(E,g).each(O=>{rs(E,h,O),sa(E,g)}))})},Yue=(s,l,h,g)=>{const E=l.element;if(Kue(s,h),h)Ln.block(l,Zue(g)),Sr(E,"display"),sa(E,"aria-hidden"),s.hasFocus()&&oU(l);else{const O=an.getCurrent(l).exists(I=>Nh(I.element));Ln.unblock(l),_s(E,"display","none"),rs(E,"aria-hidden","true"),O&&s.focus()}},Xue=s=>({uid:s.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Qn([js.config({}),Ln.config({focus:!1}),an.config({find:l=>_t(l.components())})]),components:[]}),Jue=s=>s.type==="focusin",Que=s=>Jue(s)?(s.composed?_t(s.composedPath()):ee.from(s.target)).map(to.fromDom).filter(Ac).exists(h=>qa(h,"mce-pastebin")):!1,ede=(s,l,h)=>{const g=wn(!1),E=ms(),O=q=>{g.get()&&!Que(q)&&(q.preventDefault(),oU(l()),s.editorManager.setActive(s))};s.inline||s.on("PreInit",()=>{s.dom.bind(s.getWin(),"focusin",O),s.on("BeforeExecCommand",q=>{q.command.toLowerCase()==="mcefocus"&&q.value!==!0&&O(q)})});const I=q=>{q!==g.get()&&(g.set(q),Yue(s,l(),q,h.providers),wG(s,q))};s.on("ProgressState",q=>{if(E.on(clearTimeout),oe(q.time)){const Y=LP.setEditorTimeout(s,()=>I(q.state),q.time);E.set(Y)}else I(q.state),E.clear()})},LZ=s=>{const l=s.label.isNone()?s.title.fold(()=>({}),h=>({attributes:{"aria-label":h}})):s.label.fold(()=>({}),h=>({attributes:{"aria-label":h}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(s.label.isSome()?["tox-toolbar__group_with_label"]:[]),...l},components:[...s.label.map(h=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[pa(h)]})).toArray(),pR.parts.items({})],items:s.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Qn([ma.config({}),Hs.config({ignore:!0})])}},n2=s=>pR.sketch(LZ(s)),sU=(s,l)=>{const h=Ea(g=>{const E=qt(s.initGroups,n2);vd.setGroups(g,E)});return Qn([yb.toolbarButton(()=>s.providers.checkUiComponentContext("any").shouldDisable),Sc(()=>s.providers.checkUiComponentContext("any")),Xo.config({mode:l,onEscape:s.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),Fs("toolbar-events",[h])])},rU=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return{uid:s.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":LZ({title:ee.none(),label:ee.none(),items:[]}),"overflow-button":Gq({context:"any",icon:ee.some("more-drawer"),enabled:!0,tooltip:ee.some("Reveal or hide additional toolbar items")},ee.none(),s.providers,[],"overflow-button")},splitToolbarBehaviours:sU(s,l)}},tde=s=>{const l=rU(s),h=4,g=sW.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return sW.sketch({...l,lazySink:s.getSink,getOverflowBounds:()=>{const E=s.moreDrawerData.lazyHeader().element,O=ip(E),I=En(E),q=ip(I),Y=Math.max(I.dom.scrollHeight,q.height);return jr(O.x+h,q.y,O.width-h*2,Y)},parts:{...l.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s.attributes}}},components:[g],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:E=>s.onToggled(E,!0),onClosed:E=>s.onToggled(E,!1)})},BZ=s=>{const l=RP.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),h=RP.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),g=rU(s);return RP.sketch({...g,components:[l,h],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:E=>{E.getSystem().broadcastOn([zN()],{type:"opened"}),s.onToggled(E,!0)},onClosed:E=>{E.getSystem().broadcastOn([zN()],{type:"closed"}),s.onToggled(E,!1)}})},XN=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return vd.sketch({uid:s.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(s.type===sg.scrolling?["tox-toolbar--scrolling"]:[])},components:[vd.parts.groups({})],toolbarBehaviours:sU(s,l)})},nde=(s,l)=>{const h=s.type==="togglebutton",g=s.icon.map(Je=>ky(Je,l.icons)).map(di),O=Je=>{const yt=ro=>{g.map(kn=>kn.getOpt(Je).each(zn=>{js.set(zn,[ky(ro,l.icons)])}))},At=ro=>{const kn=Je.element;ro?(Ei(kn,"tox-button--enabled"),rs(kn,"aria-pressed",!0)):(ai(kn,"tox-button--enabled"),sa(kn,"aria-pressed"))},Xt=()=>qa(Je.element,"tox-button--enabled"),en=()=>oa(Je.element);if(h)return s.onAction({setIcon:yt,setActive:At,isActive:Xt,focus:en});if(s.type==="button")return s.onAction({setIcon:yt})},I={...s,name:h?s.text.getOr(s.icon.getOr("")):s.text??s.icon.getOr(""),primary:s.buttonType==="primary",buttonType:ee.from(s.buttonType),tooltip:s.tooltip,icon:s.icon,enabled:!0,borderless:s.borderless},q=B$(s.buttonType??"secondary"),Y=h?s.text.map(l.translate):ee.some(l.translate(s.text)),ne=Y.map(pa),he=I.tooltip.or(Y).map(Je=>({"aria-label":l.translate(Je)})).getOr({}),ve=g.map(Je=>Je.asSpec()),Re=ux([ve,ne]),ze=s.icon.isSome()&&ne.isSome(),Ge={tag:"button",classes:q.concat(...s.icon.isSome()&&!ze?["tox-button--icon"]:[]).concat(...ze?["tox-button--icon-and-text"]:[]).concat(...s.borderless?["tox-button--naked"]:[]).concat(...s.type==="togglebutton"&&s.active?["tox-button--enabled"]:[]),attributes:he},et=[],ft=XR(I,ee.some(O),et,Ge,Re,s.tooltip,l);return gd.sketch(ft)},iU=(s,l)=>nde(s,l),VZ=(s,l)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:qt(s.buttons,h=>iU(h,l))}),aU=ji().deviceType,ode=aU.isPhone(),sde=aU.isTablet(),rde=s=>{let l=!1;const h=qt(s.buttons,g=>g.type==="group"?(l=!0,VZ(g,s.providers)):iU(g,s.providers));return{uid:s.uid,dom:{tag:"div",classes:[l?"tox-view__toolbar":"tox-view__header",...ode||sde?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Qn([Hs.config({}),Xo.config({mode:"flow",selector:"button, .tox-button",focusInside:Sf.OnEnterOrSpaceMode})]),components:l?h:[xy.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),xy.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:h})]}},FZ=s=>({uid:s.uid,behaviours:Qn([Hs.config({}),ma.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),ide=(s,l,h,g)=>{const E={getPane:O=>zc.getPart(O,s,"pane"),getOnShow:O=>s.viewConfig.onShow,getOnHide:O=>s.viewConfig.onHide};return{uid:s.uid,dom:s.dom,components:l,behaviours:Qn([Hs.config({}),Xo.config({mode:"cyclic",focusInside:Sf.OnEnterOrSpaceMode})]),apis:E}};var Ex=Of({name:"silver.View",configFields:[xn("viewConfig")],partFields:[C({factory:{sketch:rde},schema:[xn("buttons"),xn("providers")],name:"header"}),C({factory:{sketch:FZ},schema:[],name:"pane"})],factory:ide,apis:{getPane:(s,l)=>s.getPane(l),getOnShow:(s,l)=>s.getOnShow(l),getOnHide:(s,l)=>s.getOnHide(l)}});const ade=(s,l,h)=>jt(l,(g,E)=>{const O=cp(Cle(g));return s.slot(E,Ex.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:O,components:[...O.buttons.length>0?[Ex.parts.header({buttons:O.buttons,providers:h})]:[],Ex.parts.pane({})]}))}),lde=(s,l)=>qd.sketch(h=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:ade(h,s,l),slotBehaviours:cx.unnamedEvents([Ea(g=>qd.hideAllSlots(g))])})),HZ=s=>kt(qd.getSlotNames(s),l=>qd.isShowing(s,l)),cde=s=>{const l=s.element;_s(l,"display","none"),rs(l,"aria-hidden","true")},ude=s=>{const l=s.element;Sr(l,"display"),sa(l,"aria-hidden")},dde=s=>({getContainer:F(s)}),$Z=(s,l,h)=>{qd.getSlot(s,l).each(g=>{Ex.getPane(g).each(E=>{h(g)(dde(E.element.dom))})})},hde=(s,l)=>$Z(s,l,Ex.getOnShow),lU=(s,l)=>$Z(s,l,Ex.getOnHide);var JN=og({factory:(s,l)=>{const O={setViews:(I,q)=>{js.set(I,[lde(q,l.backstage.shared.providers)])},whichView:I=>an.getCurrent(I).bind(HZ),toggleView:(I,q,Y,ne)=>an.getCurrent(I).exists(he=>{const ve=HZ(he),Re=ve.exists(Ge=>ne===Ge),ze=qd.getSlot(he,ne).isSome();return ze&&(qd.hideAllSlots(he),Re?(cde(I),q()):(Y(),ude(I),qd.showSlot(he,ne),hde(he,ne)),ve.each(Ge=>lU(he,Ge))),ze})};return{uid:s.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Qn([js.config({}),an.config({find:I=>{const q=js.contents(I);return _t(q)}})]),apis:O}},name:"silver.ViewWrapper",configFields:[xn("backstage")],apis:{setViews:(s,l,h)=>s.setViews(l,h),toggleView:(s,l,h,g,E)=>s.toggleView(l,h,g,E),whichView:(s,l)=>s.whichView(l)}});const UZ=(s,l,h)=>{let g=!1;const E=I=>{Dm(I,".tox-statusbar").each(q=>{ra(q,"display")==="none"&&fl(q,"aria-hidden")==="true"?(Sr(q,"display"),sa(q,"aria-hidden")):(_s(q,"display","none"),rs(q,"aria-hidden","true"))})},O={getSocket:I=>zc.getPart(I,s,"socket"),setSidebar:(I,q,Y)=>{zc.getPart(I,s,"sidebar").each(ne=>Gue(ne,q,Y))},toggleSidebar:(I,q)=>{zc.getPart(I,s,"sidebar").each(Y=>mv(Y,q))},whichSidebar:I=>zc.getPart(I,s,"sidebar").bind(que).getOrNull(),getHeader:I=>zc.getPart(I,s,"header"),getToolbar:I=>zc.getPart(I,s,"toolbar"),setToolbar:(I,q)=>{zc.getPart(I,s,"toolbar").each(Y=>{const ne=qt(q,n2);Y.getApis().setGroups(Y,ne)})},setToolbars:(I,q)=>{zc.getPart(I,s,"multiple-toolbar").each(Y=>{const ne=qt(q,he=>qt(he,n2));j8.setItems(Y,ne)})},refreshToolbar:I=>{zc.getPart(I,s,"toolbar").each(Y=>Y.getApis().refresh(Y))},toggleToolbarDrawer:I=>{zc.getPart(I,s,"toolbar").each(q=>{hc(q.getApis().toggle,Y=>Y(q))})},toggleToolbarDrawerWithoutFocusing:I=>{zc.getPart(I,s,"toolbar").each(q=>{hc(q.getApis().toggleWithoutFocusing,Y=>Y(q))})},isToolbarDrawerToggled:I=>zc.getPart(I,s,"toolbar").bind(q=>ee.from(q.getApis().isOpen).map(Y=>Y(q))).getOr(!1),getThrobber:I=>zc.getPart(I,s,"throbber"),focusToolbar:I=>{zc.getPart(I,s,"toolbar").orThunk(()=>zc.getPart(I,s,"multiple-toolbar")).each(Y=>{Xo.focusIn(Y)})},setMenubar:(I,q)=>{zc.getPart(I,s,"menubar").each(Y=>{GN.setMenus(Y,q)})},focusMenubar:I=>{zc.getPart(I,s,"menubar").each(q=>{GN.focus(q)})},setViews:(I,q)=>{zc.getPart(I,s,"viewWrapper").each(Y=>{JN.setViews(Y,q)})},toggleView:(I,q)=>zc.getPart(I,s,"viewWrapper").exists(Y=>JN.toggleView(Y,()=>O.showMainView(I),()=>O.hideMainView(I),q)),whichView:I=>zc.getPart(I,s,"viewWrapper").bind(JN.whichView).getOrNull(),hideMainView:I=>{g=O.isToolbarDrawerToggled(I),g&&O.toggleToolbarDrawer(I),zc.getPart(I,s,"editorContainer").each(q=>{const Y=q.element;E(Y),_s(Y,"display","none"),rs(Y,"aria-hidden","true")})},showMainView:I=>{g&&O.toggleToolbarDrawer(I),zc.getPart(I,s,"editorContainer").each(q=>{const Y=q.element;E(Y),Sr(Y,"display"),sa(Y,"aria-hidden")})}};return{uid:s.uid,dom:s.dom,components:l,apis:O,behaviours:s.behaviours}},zZ=bp.optional({factory:GN,name:"menubar",schema:[xn("backstage")]}),fde=s=>s.type===sg.sliding?BZ:s.type===sg.floating?tde:XN,pde=bp.optional({factory:{sketch:s=>j8.sketch({uid:s.uid,dom:s.dom,listBehaviours:Qn([Xo.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>XN({type:s.type,uid:uo("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:s.providers,onEscape:()=>(s.onEscape(),ee.some(!0))}),setupItem:(l,h,g,E)=>{vd.setGroups(h,g)},shell:!0})},name:"multiple-toolbar",schema:[xn("dom"),xn("onEscape")]}),mde=bp.optional({factory:{sketch:s=>{const l=fde(s),h={type:s.type,uid:s.uid,onEscape:()=>(s.onEscape(),ee.some(!0)),onToggled:(g,E)=>s.onToolbarToggled(E),cyclicKeying:!1,initGroups:[],getSink:s.getSink,providers:s.providers,moreDrawerData:{lazyToolbar:s.lazyToolbar,lazyMoreButton:s.lazyMoreButton,lazyHeader:s.lazyHeader},attributes:s.attributes};return l(h)}},name:"toolbar",schema:[xn("dom"),xn("onEscape"),xn("getSink")]}),gde=bp.optional({factory:{sketch:cg},name:"header",schema:[xn("dom")]}),vde=bp.optional({factory:{sketch:t2},name:"promotion",schema:[xn("dom"),xn("promotionLink")]}),bde=bp.optional({name:"socket",schema:[xn("dom")]}),jZ=bp.optional({factory:{sketch:NZ},name:"sidebar",schema:[xn("dom")]}),QN=bp.optional({factory:{sketch:Xue},name:"throbber",schema:[xn("dom")]}),cU=bp.optional({factory:JN,name:"viewWrapper",schema:[xn("backstage")]}),yde=s=>({uid:s.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:s.components}),Sde=bp.optional({factory:{sketch:yde},name:"editorContainer",schema:[]});var Wi=Of({name:"OuterContainer",factory:UZ,configFields:[xn("dom"),xn("behaviours")],partFields:[gde,zZ,mde,pde,bde,jZ,vde,QN,cU,Sde],apis:{getSocket:(s,l)=>s.getSocket(l),setSidebar:(s,l,h,g)=>{s.setSidebar(l,h,g)},toggleSidebar:(s,l,h)=>{s.toggleSidebar(l,h)},whichSidebar:(s,l)=>s.whichSidebar(l),getHeader:(s,l)=>s.getHeader(l),getToolbar:(s,l)=>s.getToolbar(l),setToolbar:(s,l,h)=>{s.setToolbar(l,h)},setToolbars:(s,l,h)=>{s.setToolbars(l,h)},refreshToolbar:(s,l)=>s.refreshToolbar(l),toggleToolbarDrawer:(s,l)=>{s.toggleToolbarDrawer(l)},toggleToolbarDrawerWithoutFocusing:(s,l)=>{s.toggleToolbarDrawerWithoutFocusing(l)},isToolbarDrawerToggled:(s,l)=>s.isToolbarDrawerToggled(l),getThrobber:(s,l)=>s.getThrobber(l),setMenubar:(s,l,h)=>{s.setMenubar(l,h)},focusMenubar:(s,l)=>{s.focusMenubar(l)},focusToolbar:(s,l)=>{s.focusToolbar(l)},setViews:(s,l,h)=>{s.setViews(l,h)},toggleView:(s,l,h)=>s.toggleView(l,h),whichView:(s,l)=>s.whichView(l)}});const Cde="file edit view insert format tools table help",WZ={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image video link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},Ede=(s,l,h)=>{const g=pW(h).split(/[ ,]/);return{text:s.title,getItems:()=>Ze(s.items,E=>{const O=E.toLowerCase();return O.trim().length===0?[]:To(g,I=>I===O)?[]:O==="separator"||O==="|"?[{type:"separator"}]:l.menuItems[O]?[l.menuItems[O]]:[]})}},eL=s=>s.split(" "),GZ=(s,l)=>{const h={...WZ,...l.menus},g=Io(l.menus).length>0,E=l.menubar===void 0||l.menubar===!0?eL(Cde):eL(l.menubar===!1?"":l.menubar),O=ws(E,q=>{const Y=Zn(WZ,q);return g?Y||Zt(l.menus,q).exists(ne=>Zn(ne,"items")):Y}),I=qt(O,q=>{const Y=h[q];return Ede({title:Y.title,items:eL(Y.items)},l,s)});return ws(I,q=>{const Y=ne=>v(ne)||ne.type!=="separator";return q.getItems().length>0&&To(q.getItems(),Y)})},wde=s=>{const l=()=>{s._skinLoaded=!0,Ile(s)};return()=>{s.initialized?l():s.on("init",l)}},uU=(s,l)=>()=>Rle(s,{message:l}),_de=s=>{const l=kW(s);return l?ee.from(l):ee.none()},qZ=(s,l,h)=>(s.on("remove",()=>h.unload(l)),h.load(l)),o2=(s,l,h,g)=>(s.on("remove",()=>g.unloadRawCss(l)),g.loadRawCss(l,h)),Ade=(s,l)=>"ui/"+s+"/"+l,ZZ=s=>ee.from(tinymce.Resource.get(s)).filter(v),dU=(s,l,h="")=>{const g=_de(s).map(O=>Ade(O,`${l}.css`)),E=g.bind(ZZ);return wc(g,E,(O,I)=>({_kind:"load-raw",key:O,css:I})).getOrThunk(()=>{const O=s.editorManager.suffix;return{_kind:"load-stylesheet",url:h+`/${l}${O}.css`}})},KZ=(s,l)=>{const h=s.ui.styleSheetLoader,g=dU(s,"skin",l);switch(g._kind){case"load-raw":const{key:E,css:O}=g;return o2(s,E,O,h),Promise.resolve();case"load-stylesheet":const{url:I}=g;return qZ(s,I,h);default:return Promise.resolve()}},Tde=(s,l)=>{if(Mh(to.fromDom(s.getElement()))){const g=mR.DOM.styleSheetLoader,E=dU(s,"skin.shadowdom",l);switch(E._kind){case"load-raw":const{key:O,css:I}=E;return o2(s,O,I,g),Promise.resolve();case"load-stylesheet":const{url:q}=E;return qZ(s,q,g);default:return Promise.resolve()}}else return Promise.resolve()},xde=(s,l,h)=>{const E=dU(s,l?"content.inline":"content",h);switch(E._kind){case"load-raw":const{key:O,css:I}=E;return l?o2(s,O,I,s.ui.styleSheetLoader):s.on("PostRender",()=>{o2(s,O,I,s.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:q}=E;return h&&s.contentCSS.push(q),Promise.resolve();default:return Promise.resolve()}},Ode=async(s,l)=>{const h=DW(l);if(await xde(l,s,h),!_F(l)&&v(h))return Promise.all([KZ(l,h),Tde(l,h)]).then()},hU=(s,l)=>Ode(s,l).then(wde(l),uU(l,"Skin could not be loaded")),Ide=Fe(hU,!1),Rde=Fe(hU,!0),YZ=s=>({isEnabled:()=>!Yo.isDisabled(s),setEnabled:l=>Yo.set(s,!l),setText:l=>cs(s,lg,{text:l}),setIcon:l=>cs(s,__,{icon:l})}),fU=s=>({setActive:l=>{Dr.set(s,l)},isActive:()=>Dr.isOn(s),isEnabled:()=>!Yo.isDisabled(s),setEnabled:l=>Yo.set(s,!l),setText:l=>cs(s,lg,{text:l}),setIcon:l=>cs(s,__,{icon:l})}),pU=(s,l)=>s.map(h=>({"aria-label":l.translate(h)})).getOr({}),kde=uo("focus-button"),mU=(s,l,h,g,E,O,I)=>{const q=l.map(ne=>di(Pq(ne,"tox-tbtn",E))),Y=s.map(ne=>di(ky(ne,E.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(l.isSome()?["tox-tbtn--select"]:[]),attributes:{...pU(h,E),...H(I)?{"data-mce-name":I}:{}}},components:ux([Y.map(ne=>ne.asSpec()),q.map(ne=>ne.asSpec())]),eventOrder:{[hd()]:["focusing","alloy.base.behaviour",XC],[tm()]:[XC,"toolbar-group-button-events"],[qg()]:[XC,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:Qn([yb.toolbarButton(()=>E.checkUiComponentContext(O).shouldDisable),Sc(()=>E.checkUiComponentContext(O)),Fs(XC,[Ea((ne,he)=>_$(ne)),dn(lg,(ne,he)=>{q.bind(ve=>ve.getOpt(ne)).each(ve=>{js.set(ve,[pa(E.translate(he.event.text))])})}),dn(__,(ne,he)=>{Y.bind(ve=>ve.getOpt(ne)).each(ve=>{js.set(ve,[ky(he.event.icon,E.icons)])})}),dn(hd(),(ne,he)=>{he.event.prevent(),Cr(ne,kde)})])].concat(g.getOr([])))}},Dde=(s,l,h,g,E)=>{const O=l.shared,I=wn(re),q={toolbarButtonBehaviours:[],getApi:YZ,onSetup:s.onSetup},Y=[Fs("toolbar-group-button-events",[Oy(q,I),m_(q,I)]),...s.tooltip.map(ne=>ga.config(l.shared.providers.tooltips.getConfig({tooltipText:l.shared.providers.translate(ne)}))).toArray()];return x0.sketch({lazySink:O.getSink,fetch:()=>ps.nu(ne=>{ne(qt(h(s.items),n2))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:mU(s.icon,s.text,s.tooltip,ee.some(Y),O.providers,s.context,E),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:g}}}})},XZ=(s,l,h,g)=>{const E=wn(re),O=mU(s.icon,s.text,s.tooltip,ee.none(),h,s.context,g);return gd.sketch({dom:O.dom,components:O.components,eventOrder:w$,buttonBehaviours:{...Qn([Fs("toolbar-button-events",[Lce({onAction:s.onAction,getApi:l.getApi}),Oy(l,E),m_(l,E)]),...s.tooltip.map(I=>ga.config(h.tooltips.getConfig({tooltipText:h.translate(I)+s.shortcut.map(q=>` (${NH(q)})`).getOr("")}))).toArray(),yb.toolbarButton(()=>!s.enabled||h.checkUiComponentContext(s.context).shouldDisable),Sc(()=>h.checkUiComponentContext(s.context))].concat(l.toolbarButtonBehaviours)),[XC]:O.buttonBehaviours?.[XC]}})},Mde=(s,l,h)=>gU(s,l,[],h),gU=(s,l,h,g)=>XZ(s,{toolbarButtonBehaviours:h.length>0?[Fs("toolbarButtonWith",h)]:[],getApi:YZ,onSetup:s.onSetup},l,g),Pde=(s,l,h)=>JZ(s,l,[],h),JZ=(s,l,h,g)=>XZ(s,{toolbarButtonBehaviours:[js.config({}),Dr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(h.length>0?[Fs("toolbarToggleButtonWith",h)]:[]),getApi:fU,onSetup:s.onSetup},l,g),Nde=(s,l,h)=>g=>ps.nu(E=>l.fetch(E)).map(E=>ee.from(wN(Kr(CN(uo("menu-value"),E,O=>{l.onItemAction(s(g),O)},l.columns,l.presets,mb.CLOSE_ON_EXECUTE,l.select.getOr(rt),h),{movement:UR(l.columns,l.presets),menuBehaviours:cx.unnamedEvents(l.columns!=="auto"?[]:[Ea((O,I)=>{lN(O,4,s_(l.presets)).each(({numRows:q,numColumns:Y})=>{Xo.setGridSize(O,q,Y)})})])})))),QZ=(s,l,h)=>g=>{const E=g.getSystem(),O=g.element,I=()=>{const Y=qa(O,"tox-split-button__chevron"),ne=Y?dr(O).bind(ve=>E.getByDom(ve).toOptional()):ee.some(g),he=Y?ee.some(g):Ar(O).bind(ve=>E.getByDom(ve).toOptional().filter(Re=>qa(Re.element,"tox-split-button__chevron")));return{mainOpt:ne,chevronOpt:he}},q=Y=>{const{mainOpt:ne,chevronOpt:he}=I();ne.each(Y),he.each(Y)};return{isEnabled:()=>{const{mainOpt:Y}=I();return Y.exists(ne=>!Yo.isDisabled(ne))},setEnabled:Y=>q(ne=>Yo.set(ne,!Y)),setText:Y=>{const{mainOpt:ne}=I();ne.each(he=>cs(he,lg,{text:Y}))},setIcon:Y=>{const{mainOpt:ne}=I();ne.each(he=>cs(he,__,{icon:Y}))},setIconFill:(Y,ne)=>q(he=>{oi(he.element,`svg path[class="${Y}"], rect[class="${Y}"]`).each(ve=>{rs(ve,"fill",ne)})}),isActive:()=>{const{mainOpt:Y}=I();return Y.exists(ne=>Dr.isOn(ne))},setActive:Y=>{const{mainOpt:ne}=I();ne.each(he=>Dr.set(he,Y))},setTooltip:Y=>{s.set(Y);const{mainOpt:ne,chevronOpt:he}=I();ne.each(Re=>rs(Re.element,"aria-label",l.providers.translate(Y)));const ve=h.chevronTooltip.map(Re=>l.providers.translate(Re)).getOr(l.providers.translate(`${Y} menu`));he.each(Re=>rs(Re.element,"aria-label",ve))}}},tL=(s,l,h)=>{const g=wn(re),E=wn(s.tooltip.getOr("")),O=QZ(E,l,s),I=uo("tox-split-menu"),q=wn(!1),Y=()=>({"aria-haspopup":"menu","aria-expanded":String(q.get()),"aria-controls":I}),ne=()=>s.tooltip.map(et=>l.providers.translate(et)).getOr(l.providers.translate("Text color")),he=()=>s.chevronTooltip.map(et=>l.providers.translate(et)).getOrThunk(()=>{const et=ne();return l.providers.translate(["{0} menu",et])}),ve=(et,ft)=>{q.set(et),rs(ft.element,"aria-expanded",String(et))},Re=Rf.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:R0("chevron-down",l.providers.icons),attributes:{"aria-label":he(),...H(h)?{"data-mce-name":h+"-chevron"}:{},...Y()}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:Qn([Fs("split-dropdown-events",[Ea((et,ft)=>_$(et)),Oy({getApi:O,onSetup:s.onSetup},g),dn("alloy-dropdown-open",et=>ve(!0,et)),dn("alloy-dropdown-close",et=>ve(!1,et))]),yb.toolbarButton(()=>l.providers.checkUiComponentContext(s.context).shouldDisable),Sc(()=>l.providers.checkUiComponentContext(s.context)),qT.config({}),ga.config(l.providers.tooltips.getConfig({tooltipText:he(),onShow:et=>{if(E.get()!==s.tooltip.getOr("")){const ft=s.chevronTooltip.map(Je=>l.providers.translate(Je)).getOr(`${l.providers.translate(E.get())} menu`);ga.setComponents(et,l.providers.tooltips.getComponents({tooltipText:ft}))}}}))]),lazySink:l.getSink,fetch:Nde(O,s,l.providers),getHotspot:et=>dr(et.element).bind(ft=>et.getSystem().getByDom(ft).toOptional()),onOpen:(et,ft,Je)=>{ri.highlightBy(Je,yt=>qa(yt.element,"tox-collection__item--active")),ri.getHighlighted(Je).each(Xo.focusIn)},parts:{menu:{...r_(!1,s.columns,s.presets),dom:{...r_(!1,s.columns,s.presets).dom,tag:"div",attributes:{id:I}}}}}),ze=mU(s.icon,s.text,ee.none(),ee.some([Dr.config({toggleClass:"tox-tbtn--enabled",aria:s.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),...s.tooltip.isSome()?[ga.config(l.providers.tooltips.getConfig({tooltipText:l.providers.translate(s.tooltip.getOr("")),onShow:et=>{if(E.get()!==s.tooltip.getOr("")){const ft=l.providers.translate(E.get());ga.setComponents(et,l.providers.tooltips.getComponents({tooltipText:ft}))}}}))]:[]]),l.providers,s.context,h);return[gd.sketch({dom:{...ze.dom,classes:["tox-tbtn","tox-split-button__main"].concat(s.text.isSome()?["tox-tbtn--select"]:[]),attributes:{"aria-label":ne(),...H(h)?{"data-mce-name":h}:{}}},components:ze.components,eventOrder:ze.eventOrder,buttonBehaviours:ze.buttonBehaviours,action:et=>{if(s.onAction){const ft=O(et);ft.isEnabled()&&s.onAction(ft)}}}),Re]},vU=".tox-toolbar-slider__input,.tox-toolbar-textfield",bU=s=>{Qa.getContent(s).each(l=>{oi(l.element,vU).fold(()=>Xo.focusIn(l),oa)})},JC=s=>Ga(s.element).each(l=>{Bh(l,'[tabindex="-1"]').each(h=>{oa(h)})}),yU=uo("forward-slide"),nL=uo("backward-slide"),SU=uo("change-slide-event"),CU="tox-pop--resizing",Lde=s=>{const l=wn([]);return{sketch:Qa.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:g=>{l.set([]),Qa.getContent(g).each(E=>{Sr(E.element,"visibility")}),ai(g.element,CU),Sr(g.element,"width")},onHide:()=>{l.set([]),s.onHide()},inlineBehaviours:Qn([Fs("context-toolbar-events",[R1(fd(),(g,E)=>{E.event.raw.propertyName==="width"&&(ai(g.element,CU),Sr(g.element,"width"))}),dn(SU,(g,E)=>{const O=g.element;Sr(O,"width");const I=bc(O),q=Ga(g.element).isSome();Sr(O,"left"),Sr(O,"right"),Sr(O,"max-width"),Qa.setContent(g,E.event.contents),Ei(O,CU);const Y=bc(O);_s(O,"transition","none"),Qa.reposition(g),Sr(O,"transition"),_s(O,"width",I+"px"),E.event.focus.fold(()=>{q&&bU(g)},ne=>{Wl(ta(g.element)).fold(()=>oa(ne),he=>{xe(he,ne)||s.focusElement(ne)})}),setTimeout(()=>{_s(g.element,"width",Y+"px")},0)}),dn(yU,(g,E)=>{Qa.getContent(g).each(O=>{l.set(l.get().concat([{bar:O,focus:Wl(ta(g.element))}]))}),cs(g,SU,{contents:E.event.forwardContents,focus:ee.none()})}),dn(nL,(g,E)=>{s.onBack(),go(l.get()).each(O=>{l.set(l.get().slice(0,l.get().length-1)),cs(g,SU,{contents:W(O.bar),focus:O.focus})})})]),Xo.config({mode:"special",onEscape:g=>go(l.get()).fold(()=>s.onEscape(),E=>(Cr(g,nL),ee.some(!0)))})]),lazySink:()=>$o.value(s.sink)}),inSubtoolbar:()=>l.get().length>0}},Bde=(s,l)=>{const h=cp(SH({type:"button",icon:"chevron-left",tooltip:"Back",onAction:re}));return gU(h,l.shared.providers,[dn(ZR,g=>{Cr(g,nL)})])},wx=(s,l,h)=>Il(h)?s.translate(l):s.translate([l,s.translate(h)]),Vde=(s,l)=>{const h=(I,q,Y,ne)=>{const he=s.shared.providers.translate(I.title);if(I.type==="separator")return ee.some({type:"separator",text:he});if(I.type==="submenu"){const ve=Ze(I.getStyleItems(),Re=>g(Re,q,ne));return q===0&&ve.length<=0?ee.none():ee.some({type:"nestedmenuitem",text:he,enabled:ve.length>0,getSubmenuItems:()=>Ze(I.getStyleItems(),Re=>g(Re,q,ne))})}else return ee.some({type:"togglemenuitem",text:he,icon:I.icon,active:I.isSelected(ne),enabled:!Y,onAction:l.onAction(I),...I.getStylePreview().fold(()=>({}),ve=>({meta:{style:ve}}))})},g=(I,q,Y)=>{const ne=I.type==="formatter"&&l.isInvalid(I);return q===0?ne?[]:h(I,q,!1,Y).toArray():h(I,q,ne,Y).toArray()},E=I=>{const q=l.getCurrentValue(),Y=l.shouldHide?0:1;return Ze(I,ne=>g(ne,Y,q))};return{validateItems:E,getFetch:(I,q)=>(Y,ne)=>{const he=q(),ve=E(he),Re=A_(ve,mb.CLOSE_ON_EXECUTE,I,{isHorizontalMenu:!1,search:ee.none()});ne(Re)}}},O_=(s,l)=>{const h=l.dataset,g=h.type==="basic"?()=>qt(h.data,E=>gZ(E,l.isSelectedFor,l.getPreviewFor)):h.getData;return{items:Vde(s,l),getStyleItems:g}},s2=(s,l,h,g,E,O)=>{const{items:I,getStyleItems:q}=O_(l,h),Y=wn(h.tooltip),ne=ve=>({getComponent:F(ve),setTooltip:Re=>{const ze=l.shared.providers.translate(Re);rs(ve.element,"aria-label",ze),Y.set(Re)}}),he=ve=>{const Re=ze=>ve.setTooltip(wx(s,g(ze.value),ze.value));return s.on(E,Re),pN(KC(s,"NodeChange",ze=>{const Ge=ze.getComponent();h.updateText(Ge),Yo.set(ze.getComponent(),!s.selection.isEditable()||q().length===0)})(ve),()=>s.off(E,Re))};return pv({context:"mode:design",text:h.icon.isSome()?ee.none():h.text,icon:h.icon,ariaLabel:ee.some(h.tooltip),tooltip:ee.none(),role:ee.none(),fetch:I.getFetch(l,q),onSetup:he,getApi:ne,columns:1,presets:"normal",classes:h.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[ga.config({...l.shared.providers.tooltips.getConfig({tooltipText:l.shared.providers.translate(h.tooltip),onShow:ve=>{if(h.tooltip!==Y.get()){const Re=l.shared.providers.translate(Y.get());ga.setComponents(ve,l.shared.providers.tooltips.getComponents({tooltipText:Re}))}}})})]},"tox-tbtn",l.shared,O)},Fde=s=>qt(s,l=>{let h=l,g=l;const E=l.split("=");return E.length>1&&(h=E[0],g=E[1]),{title:h,format:g}}),EU=s=>({type:"basic",data:s});var _x;(function(s){s[s.SemiColon=0]="SemiColon",s[s.Space=1]="Space"})(_x||(_x={}));const Hde=(s,l)=>l===_x.SemiColon?s.replace(/;$/,"").split(";"):s.split(" "),wU=(s,l,h)=>{const g=s.options.get(l);return{type:"basic",data:Fde(Hde(g,h))}},$de="Align",eK=F("Alignment {0}"),tK="left",oL=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],_U=s=>{const l=()=>kt(oL,q=>s.formatter.match(q.format)),h=q=>()=>s.formatter.match(q),g=q=>ee.none,E=q=>{const ne=l().fold(F(tK),he=>he.title.toLowerCase());cs(q,__,{icon:`align-${ne}`}),XH(s,{value:ne})},O=EU(oL),I=q=>()=>kt(oL,Y=>Y.format===q.format).each(Y=>s.execCommand(Y.command));return{tooltip:wx(s,eK(),tK),text:ee.none(),icon:ee.some("align-left"),isSelectedFor:h,getCurrentValue:ee.none,getPreviewFor:g,onAction:I,updateText:E,dataset:O,shouldHide:!1,isInvalid:q=>!s.formatter.canApply(q.format)}},nK=(s,l)=>s2(s,l,_U(s),eK,"AlignTextUpdate","align"),Ude=(s,l)=>{const h=O_(l,_U(s));s.ui.registry.addNestedMenuItem("align",{text:l.shared.providers.translate($de),onSetup:Gh(s),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})},AU=(s,l)=>{const h=l(),g=qt(h,E=>E.format);return ee.from(s.formatter.closest(g)).bind(E=>kt(h,O=>O.format===E))},zde="Blocks",oK=F("Block {0}"),TU="Paragraph",xU=s=>{const l=O=>()=>s.formatter.match(O),h=O=>()=>{const I=s.formatter.get(O);return I?ee.some({tag:I.length>0&&(I[0].inline||I[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(O))}):ee.none()},g=O=>{const q=AU(s,()=>E.data).fold(F(TU),Y=>Y.title);cs(O,lg,{text:q}),Lle(s,{value:q})},E=wU(s,"block_formats",_x.SemiColon);return{tooltip:wx(s,oK(),TU),text:ee.some(TU),icon:ee.none(),isSelectedFor:l,getCurrentValue:ee.none,getPreviewFor:h,onAction:JH(s),updateText:g,dataset:E,shouldHide:!1,isInvalid:O=>!s.formatter.canApply(O.format)}},jde=(s,l)=>s2(s,l,xU(s),oK,"BlocksTextUpdate","blocks"),sK=(s,l)=>{const h=O_(l,xU(s));s.ui.registry.addNestedMenuItem("blocks",{text:zde,onSetup:Gh(s),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})},Wde="Fonts",rK=F("Font {0}"),OU="System Font",Gde=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],iK=s=>{const l=s.split(/\s*,\s*/);return qt(l,h=>h.replace(/^['"]+|['"]+$/g,""))},aK=(s,l)=>l.length>0&&mt(l,h=>s.indexOf(h.toLowerCase())>-1),qde=(s,l)=>{if(s.indexOf("-apple-system")===0||l.length>0){const h=iK(s.toLowerCase());return aK(h,Gde)||aK(h,l)}else return!1},IU=s=>{const l=()=>{const Y=Ge=>Ge?iK(Ge)[0]:"",ne=s.queryCommandValue("FontName"),he=q.data,ve=ne?ne.toLowerCase():"",Re=RW(s);return{matchOpt:kt(he,Ge=>{const et=Ge.format;return et.toLowerCase()===ve||Y(et).toLowerCase()===Y(ve).toLowerCase()}).orThunk(()=>ol(qde(ve,Re),{title:OU,format:ve})),font:ne}},h=Y=>ne=>ne.exists(he=>he.format===Y),g=()=>{const{matchOpt:Y}=l();return Y},E=Y=>()=>ee.some({tag:"div",styles:Y.indexOf("dings")===-1?{"font-family":Y}:{}}),O=Y=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontName",!1,Y.format)})},I=Y=>{const{matchOpt:ne,font:he}=l(),ve=ne.fold(F(he),Re=>Re.title);cs(Y,lg,{text:ve}),Ble(s,{value:ve})},q=wU(s,"font_family_formats",_x.SemiColon);return{tooltip:wx(s,rK(),OU),text:ee.some(OU),icon:ee.none(),isSelectedFor:h,getCurrentValue:g,getPreviewFor:E,onAction:O,updateText:I,dataset:q,shouldHide:!1,isInvalid:rt}},Zde=(s,l)=>s2(s,l,IU(s),rK,"FontFamilyTextUpdate","fontfamily"),Kde=(s,l)=>{const h=O_(l,IU(s));s.ui.registry.addNestedMenuItem("fontfamily",{text:l.shared.providers.translate(Wde),onSetup:Gh(s),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})};var sL=tinymce.util.Tools.resolve("tinymce.util.VK");const Yde=(s,l,h,g)=>{let E=ee.none();const O=At=>At.map(Xt=>po.getValue(Xt)).getOr(""),I=KC(s,"NodeChange SwitchMode DisabledStateChange",At=>{const Xt=At.getComponent();E=ee.some(Xt),h.updateInputValue(Xt),Yo.set(Xt,!s.selection.isEditable()||uv(s))}),q=At=>({getComponent:F(At)}),Y=wn(re),ne=uo("custom-number-input-events"),he=(At,Xt,en)=>{const ro=O(E),kn=h.getNewValue(ro,At),zn=ro.length-`${kn}`.length,Vn=E.map(Wo=>Wo.element.dom.selectionStart-zn),ds=E.map(Wo=>Wo.element.dom.selectionEnd-zn);h.onAction(kn,en),E.each(Wo=>{po.setValue(Wo,kn),Xt&&(Vn.each(Ir=>Wo.element.dom.selectionStart=Ir),ds.each(Ir=>Wo.element.dom.selectionEnd=Ir))})},ve=(At,Xt)=>he((en,ro)=>en-ro,At,Xt),Re=(At,Xt)=>he((en,ro)=>en+ro,At,Xt),ze=At=>ls(At.element).fold(ee.none,Xt=>(oa(Xt),ee.some(!0))),Ge=At=>Nh(At.element)?(_o(At.element).each(Xt=>oa(Xt)),ee.some(!0)):ee.none(),et=(At,Xt,en,ro)=>{const kn=wn(re),zn=l.shared.providers.translate(en),Vn=uo("altExecuting"),ds=KC(s,"NodeChange SwitchMode DisabledStateChange",Ir=>{Yo.set(Ir.getComponent(),!s.selection.isEditable()||uv(s))}),Wo=Ir=>{Yo.isDisabled(Ir)||At(!0)};return gd.sketch({dom:{tag:"button",attributes:{"aria-label":zn,"data-mce-name":Xt},classes:ro.concat(Xt)},components:[T$(Xt,l.shared.providers.icons)],buttonBehaviours:Qn([Yo.config({}),ga.config(l.shared.providers.tooltips.getConfig({tooltipText:zn})),Fs(Vn,[Oy({onSetup:ds,getApi:q},kn),m_({getApi:q},kn),dn(rc(),(Ir,Es)=>{(Es.event.raw.keyCode===sL.SPACEBAR||Es.event.raw.keyCode===sL.ENTER)&&(Yo.isDisabled(Ir)||At(!1))}),dn(jm(),Wo),dn(Wg(),Wo)])]),eventOrder:{[rc()]:[Vn,"keying"],[jm()]:[Vn,"alloy.base.behaviour"],[Wg()]:[Vn,"alloy.base.behaviour"],[tm()]:["alloy.base.behaviour",Vn,"tooltipping"],[qg()]:[Vn,"tooltipping"]}})},ft=di(et(At=>ve(!1,At),"minus","Decrease font size",[])),Je=di(et(At=>Re(!1,At),"plus","Increase font size",[])),yt=di({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[lv.sketch({inputBehaviours:Qn([Yo.config({}),Fs(ne,[Oy({onSetup:I,getApi:q},Y),m_({getApi:q},Y)]),Fs("input-update-display-text",[dn(lg,(At,Xt)=>{po.setValue(At,Xt.event.text)}),dn(g1(),At=>{h.onAction(po.getValue(At))}),dn(Jp(),At=>{h.onAction(po.getValue(At))})]),Xo.config({mode:"special",onEnter:At=>(he(Me,!0,!0),ee.some(!0)),onEscape:ze,onUp:At=>(Re(!0,!1),ee.some(!0)),onDown:At=>(ve(!0,!1),ee.some(!0)),onLeft:(At,Xt)=>(Xt.cut(),ee.none()),onRight:(At,Xt)=>(Xt.cut(),ee.none())})])})],behaviours:Qn([Hs.config({}),Xo.config({mode:"special",onEnter:Ge,onSpace:Ge,onEscape:ze}),Fs("input-wrapper-events",[dn(vf(),At=>{Tn([ft,Je],Xt=>{const en=to.fromDom(Xt.get(At).element.dom);Nh(en)&&pr(en)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...H(g)?{"data-mce-name":g}:{}}},components:[ft.asSpec(),yt.asSpec(),Je.asSpec()],behaviours:Qn([Hs.config({}),Xo.config({mode:"flow",focusInside:Sf.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:At=>Nh(At.element)?ee.none():(oa(At.element),ee.some(!0))})])}},Xde="Font sizes",lK=F("Font size {0}"),cK="12pt",uK={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},Jde={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},Qde=(s,l)=>{const h=Math.pow(10,l);return Math.round(s*h)/h},dK=(s,l)=>/[0-9.]+px$/.test(s)?Qde(parseInt(s,10)*72/96,l||0)+"pt":Zt(Jde,s).getOr(s),ehe=s=>Zt(uK,s).getOr(""),RU=s=>{const l=()=>{let Y=ee.none();const ne=q.data,he=s.queryCommandValue("FontSize");if(he)for(let ve=3;Y.isNone()&&ve>=0;ve--){const Re=dK(he,ve),ze=ehe(Re);Y=kt(ne,Ge=>Ge.format===he||Ge.format===Re||Ge.format===ze)}return{matchOpt:Y,size:he}},h=Y=>ne=>ne.exists(he=>he.format===Y),g=()=>{const{matchOpt:Y}=l();return Y},E=F(ee.none),O=Y=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontSize",!1,Y.format)})},I=Y=>{const{matchOpt:ne,size:he}=l(),ve=ne.fold(F(he),Re=>Re.title);cs(Y,lg,{text:ve}),Nle(s,{value:ve})},q=wU(s,"font_size_formats",_x.Space);return{tooltip:wx(s,lK(),cK),text:ee.some(cK),icon:ee.none(),isSelectedFor:h,getPreviewFor:E,getCurrentValue:g,onAction:O,updateText:I,dataset:q,shouldHide:!1,isInvalid:rt}},hK=(s,l)=>s2(s,l,RU(s),lK,"FontSizeTextUpdate","fontsize"),the=s=>{const l={step:1};return{em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[s]??l},nhe=16,ohe=s=>s>=0,Ax=s=>{const l=()=>s.queryCommandValue("FontSize");return{updateInputValue:g=>cs(g,lg,{text:l()}),onAction:(g,E)=>s.execCommand("FontSize",!1,g,{skip_focus:!E}),getNewValue:(g,E)=>{Nr(g,["unsupportedLength","empty"]);const O=l(),I=Nr(g,["unsupportedLength","empty"]).or(Nr(O,["unsupportedLength","empty"])),q=I.map(Re=>Re.value).getOr(nhe),Y=CW(s),ne=I.map(Re=>Re.unit).filter(Re=>Re!=="").getOr(Y),he=E(q,the(ne).step),ve=`${ohe(he)?he:q}${ne}`;return ve!==O&&AG(s,{value:ve}),ve}}},she=(s,l)=>Yde(s,l,Ax(s),"fontsizeinput"),rhe=(s,l)=>{const h=O_(l,RU(s));s.ui.registry.addNestedMenuItem("fontsize",{text:Xde,onSetup:Gh(s),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})},ihe="Formats",fK=s=>Il(s)?"Formats":"Format {0}",pK=(s,l)=>{const h="Formats",g=I=>()=>s.formatter.match(I),E=I=>()=>{const q=s.formatter.get(I);return q!==void 0?ee.some({tag:q.length>0&&(q[0].inline||q[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(I))}):ee.none()},O=I=>{const q=ve=>hZ(ve)?Ze(ve.items,q):fZ(ve)?[{title:ve.title,format:ve.format}]:[],Y=Ze(G$(s),q),he=AU(s,F(Y)).fold(F({title:h,tooltipLabel:""}),ve=>({title:ve.title,tooltipLabel:ve.title}));cs(I,lg,{text:he.title}),Ple(s,{value:he.tooltipLabel})};return{tooltip:wx(s,fK(""),""),text:ee.some(h),icon:ee.none(),isSelectedFor:g,getCurrentValue:ee.none,getPreviewFor:E,onAction:JH(s),updateText:O,shouldHide:hW(s),isInvalid:I=>!s.formatter.canApply(I.format),dataset:l}},ahe=(s,l)=>{const h={type:"advanced",...l.styles};return s2(s,l,pK(s,h),fK,"StylesTextUpdate","styles")},lhe=(s,l)=>{const h={type:"advanced",...l.styles},g=O_(l,pK(s,h));s.ui.registry.addNestedMenuItem("styles",{text:ihe,onSetup:Gh(s,()=>g.getStyleItems().length>0),getSubmenuItems:()=>g.items.validateItems(g.getStyleItems())})},che=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],I_=(s,l)=>(h,g,E,O)=>{const I=s(h).mapError(q=>up(q)).getOrDie();return l(I,g,E,O)},uhe={button:I_(SH,(s,l,h,g)=>Mde(s,l.shared.providers,g)),togglebutton:I_(H9,(s,l,h,g)=>Pde(s,l.shared.providers,g)),menubutton:I_(I9,(s,l,h,g)=>bx(s,"tox-tbtn",l,ee.none(),!1,g)),splitbutton:I_(lx,(s,l,h,g)=>tL(s,l.shared,g)),grouptoolbarbutton:I_(ble,(s,l,h,g)=>{const E=h.ui.registry.getAll().buttons,O=q=>rL(h,{buttons:E,toolbar:q,allowToolbarGroups:!1},l,ee.none()),I={[aI]:l.shared.header.isPositionedAtTop()?Jv.TopToBottom:Jv.BottomToTop};switch(Jw(h)){case sg.floating:return Dde(s,l,O,I,g);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},dhe=(s,l,h,g)=>Zt(uhe,s.type).fold(()=>(console.error("skipping button defined by",s),ee.none()),E=>ee.some(E(s,l,h,g))),kU={styles:ahe,fontsize:hK,fontsizeinput:she,fontfamily:Zde,blocks:jde,align:nK,navigateback:Bde},mK=s=>{const l=qt(che,h=>{const g=ws(h.items,E=>Zn(s,E)||Zn(kU,E));return{name:h.name,items:g}});return ws(l,h=>h.items.length>0)},hhe=s=>{const l=s.split("|");return qt(l,h=>({items:h.trim().split(" ")}))},fhe=s=>ce(s,l=>(Zn(l,"name")||Zn(l,"label"))&&Zn(l,"items")),phe=s=>{const l=s.toolbar,h=s.buttons;return l===!1?[]:l===void 0||l===!0?mK(h):v(l)?hhe(l):fhe(l)?l:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},mhe=(s,l,h,g,E,O)=>Zt(l,h.toLowerCase()).orThunk(()=>O.bind(I=>Ko(I,q=>Zt(l,q+h.toLowerCase())))).fold(()=>Zt(kU,h.toLowerCase()).map(I=>I(s,E)),I=>I.type==="grouptoolbarbutton"&&!g?(console.warn(`Ignoring the '${h}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),ee.none()):dhe(I,E,s,h.toLowerCase())),rL=(s,l,h,g)=>{const E=phe(l),O=qt(E,I=>{const q=Ze(I.items,Y=>Y.trim().length===0?[]:mhe(s,l.buttons,Y,l.allowToolbarGroups,h,g).map(ne=>Array.isArray(ne)?ne:[ne]).getOr([]));return{title:ee.from(s.translate(I.name)),label:ol(I.label!==void 0,s.translate(I.label)),items:q}});return ws(O,I=>I.items.length>0)},gK=(s,l,h,g)=>{const E=l.mainUi.outerContainer,O=h.toolbar,I=h.buttons;if(ce(O,v)){const q=O.map(Y=>{const ne={toolbar:Y,buttons:I,allowToolbarGroups:h.allowToolbarGroups};return rL(s,ne,g,ee.none())});Wi.setToolbars(E,q)}else Wi.setToolbar(E,rL(s,h,g,ee.none()))},DU=ji(),ghe=DU.os.isiOS()&&DU.os.version.major<=12,vhe=(s,l)=>{const{uiMotherships:h}=l,g=s.dom;let E=s.getWin();const O=s.getDoc().documentElement,I=wn(ni(E.innerWidth,E.innerHeight)),q=wn(ni(O.offsetWidth,O.offsetHeight)),Y=()=>{const Re=I.get();(Re.left!==E.innerWidth||Re.top!==E.innerHeight)&&(I.set(ni(E.innerWidth,E.innerHeight)),px(s))},ne=()=>{const Re=s.getDoc().documentElement,ze=q.get();(ze.left!==Re.offsetWidth||ze.top!==Re.offsetHeight)&&(q.set(ni(Re.offsetWidth,Re.offsetHeight)),px(s))},he=Re=>{Dle(s,Re)};g.bind(E,"resize",Y),g.bind(E,"scroll",he);const ve=Pd(to.fromDom(s.getBody()),"load",ne);s.on("hide",()=>{Tn(h,Re=>{_s(Re.element,"display","none")})}),s.on("show",()=>{Tn(h,Re=>{Sr(Re.element,"display")})}),s.on("NodeChange",ne),s.on("remove",()=>{ve.unbind(),g.unbind(E,"resize",Y),g.unbind(E,"scroll",he),E=null})},bhe=(s,l,h)=>{FC(s)&&ib(h.mainUi.mothership.element,h.popupUi.mothership),Nw(l,h.dialogUi.mothership)};var iL=Object.freeze({__proto__:null,render:(s,l,h,g,E)=>{const{mainUi:O,uiMotherships:I}=l,q=wn(0),Y=O.outerContainer;Ide(s);const ne=to.fromDom(E.targetNode),he=Wa(ta(ne));ib(ne,O.mothership),bhe(s,he,l),s.on("PostRender",()=>{Wi.setSidebar(Y,h.sidebar,EF(s))}),s.on("SkinLoaded",()=>{gK(s,l,h,g),q.set(s.getWin().innerWidth),Wi.setMenubar(Y,GZ(s,h)),Wi.setViews(Y,h.views),vhe(s,l)});const ve=Wi.getSocket(Y).getOrDie("Could not find expected socket element");if(ghe){ca(ve.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const et=Tm(()=>{s.dispatch("ScrollContent")},20),ft=ti(ve.element,"scroll",et.throttle);s.on("remove",ft.unbind)}tG(s,l),s.addCommand("ToggleSidebar",(et,ft)=>{Wi.toggleSidebar(Y,ft),Vle(s)}),s.addQueryValueHandler("ToggleSidebar",()=>Wi.whichSidebar(Y)??""),s.addCommand("ToggleView",(et,ft)=>{if(Wi.toggleView(Y,ft)){const Je=Y.element;O.mothership.broadcastOn([Cy()],{target:Je}),Tn(I,yt=>{yt.broadcastOn([Cy()],{target:Je})}),P(Wi.whichView(Y))&&(s.focus(),s.nodeChanged(),Wi.refreshToolbar(Y)),TG(s)}}),s.addQueryValueHandler("ToggleView",()=>Wi.whichView(Y)??"");const Re=Jw(s),ze=()=>{Wi.refreshToolbar(l.mainUi.outerContainer)};(Re===sg.sliding||Re===sg.floating)&&s.on("ResizeWindow ResizeEditor ResizeContent",()=>{const et=s.getWin().innerWidth;et!==q.get()&&(ze(),q.set(et))});const Ge={setEnabled:et=>{LR(l,et?"setEnabled":"setDisabled")},isEnabled:()=>!Yo.isDisabled(Y)};return{iframeContainer:ve.element.dom,editorContainer:Y.element.dom,api:Ge}}});const yhe=s=>/^[0-9\.]+(|px)$/i.test(""+s)?ee.some(parseInt(""+s,10)):ee.none(),Tx=s=>oe(s)?s+"px":s,R_=(s,l,h)=>{const g=l.filter(O=>s<O),E=h.filter(O=>s>O);return g.or(E).getOr(s)},vK=(s,l)=>{if(typeof l=="number")return ee.from(l);const h=/^([0-9.]+)(pt|em|px)$/.exec(l.trim());if(h){const g=h[2],E=Number.parseFloat(h[1]);if(Number.isNaN(E)||E<0)return ee.none();if(g==="em")return ee.from(E*Number.parseFloat(window.getComputedStyle(s.dom).fontSize));if(g==="pt")return ee.from(E*(72/96));if(g==="px")return ee.from(E)}return ee.none()},She=s=>{const l=vK(to.fromDom(s.targetElm),mF(s)),h=Ic(s),g=vF(s);return l.map(E=>R_(E,h,g))},Che=s=>She(s).getOr(mF(s)),bK=s=>{const l=gF(s),h=vR(s),g=BP(s);return yhe(l).map(E=>R_(E,h,g))},Ehe=s=>bK(s).getOr(gF(s)),{ToolbarLocation:MU,ToolbarMode:r2}=aie,yK=40,SK=(s,l,h,g,E)=>{const{mainUi:O,uiMotherships:I}=h,q=mR.DOM,Y=QT(s),ne=ex(s),he=BP(s).or(bK(s)),ve=g.shared.header,Re=ve.isPositionedAtTop,ze=150,Ge=Jw(s),et=Ge===r2.sliding||Ge===r2.floating,ft=wn(!1),Je=()=>ft.get()&&!s.removed,yt=zo=>et?zo.fold(F(0),In=>In.components().length>1?Cl(In.components()[1].element):0):0,At=zo=>{switch(bF(s)){case MU.auto:const In=Wi.getToolbar(O.outerContainer),no=yt(In),xs=Cl(zo.element)-no,er=Pl(l);if(er.y>xs)return"top";{const Ys=En(l),Oi=Math.max(Ys.dom.scrollHeight,Cl(Ys));return er.bottom<Oi-xs||Bu().bottom<er.bottom-xs?"bottom":"top"}case MU.bottom:return"bottom";case MU.top:default:return"top"}},Xt=zo=>{E.on(In=>{Ja.setModes(In,[zo]),ve.setDockingMode(zo);const no=Re()?Jv.TopToBottom:Jv.BottomToTop;rs(In.element,aI,no)})},en=()=>{E.on(zo=>{const In=he.getOrThunk(()=>Ya().width-su(l).left-10);_s(zo.element,"max-width",In+"px")})},ro=(zo,In)=>{E.on(no=>{const xs=Wi.getToolbar(O.outerContainer),er=yt(xs),Jo=Pl(l),Ys=kn(s,O.outerContainer.element),Oi=()=>Ys.fold(()=>Jo.x,pu=>{const ug=Pl(pu);return xe(pu,Ld())?Jo.x:Jo.x-ug.x}),bi=()=>Ys.fold(()=>Re()?Math.max(Jo.y-Cl(no.element)+er,0):Jo.bottom,pu=>{const ug=Pl(pu),Tp=pu.dom.scrollTop??0,B0=xe(pu,Ld())?Math.max(Jo.y-Cl(no.element)+er,0):Jo.y-ug.y+Tp-Cl(no.element)+er;return Re()?B0:Jo.bottom}),Zh=Oi(),$a=ol(zo,Math.ceil(O.outerContainer.element.dom.getBoundingClientRect().width)).filter(pu=>pu>ze).map(pu=>{const ug=In.getOr(La()),Tp=window.innerWidth-(Zh-ug.left),gv=Math.max(Math.min(pu,Tp),ze);return Tp<pu&&_s(O.outerContainer.element,"width",gv+"px"),{width:gv+"px"}}).getOr({width:"max-content"}),Ap={position:"absolute",left:Math.round(Zh)+"px",top:bi()+"px"};ca(O.outerContainer.element,{...Ap,...$a})})},kn=(zo,In)=>FC(zo)?Pg(In):ee.none(),zn=()=>{Tn(I,zo=>{zo.broadcastOn([pd()],{})})},Vn=()=>!Y&&(Lc(O.outerContainer.element).left+zp(O.outerContainer.element)>=window.innerWidth-yK||ua(O.outerContainer.element,"width").isSome())?(_s(O.outerContainer.element,"position","absolute"),_s(O.outerContainer.element,"left","0px"),Sr(O.outerContainer.element,"width"),!0):!1,ds=zo=>{if(!Je())return;Y||en();const In=La(),no=Y?!1:Vn();if(et&&Wi.refreshToolbar(O.outerContainer),!Y){const xs=La(),er=ol(In.left!==xs.left,In);ro(no,er),er.each(Jo=>{Bd(Jo.left,xs.top)})}ne&&E.on(zo),zn()},Wo=()=>Y||!ne||!Je()?!1:E.get().exists(zo=>{const In=ve.getDockingMode(),no=At(zo);return no!==In?(Xt(no),!0):!1});return{isVisible:Je,isPositionedAtTop:Re,show:()=>{ft.set(!0),_s(O.outerContainer.element,"display","flex"),q.addClass(s.getBody(),"mce-edit-focus"),Tn(I,zo=>{Sr(zo.element,"display")}),Wo(),FC(s)?ds(zo=>Ja.isDocked(zo)?Ja.reset(zo):Ja.refresh(zo)):ds(Ja.refresh)},hide:()=>{ft.set(!1),_s(O.outerContainer.element,"display","none"),q.removeClass(s.getBody(),"mce-edit-focus"),Tn(I,zo=>{_s(zo.element,"display","none")})},update:ds,updateMode:()=>{Wo()&&ds(Ja.reset)},repositionPopups:zn}},PU=(s,l)=>{const h=Pl(s);return{pos:l?h.y:h.bottom,bounds:h}},CK=(s,l,h,g)=>{const E=wn(PU(l,h.isPositionedAtTop())),O=ne=>{const{pos:he,bounds:ve}=PU(l,h.isPositionedAtTop()),{pos:Re,bounds:ze}=E.get(),Ge=ve.height!==ze.height||ve.width!==ze.width;E.set({pos:he,bounds:ve}),Ge&&px(s,ne),h.isVisible()&&(Re!==he?h.update(Ja.reset):Ge&&(h.updateMode(),h.repositionPopups()))};g||(s.on("activate",h.show),s.on("deactivate",h.hide)),s.on("SkinLoaded ResizeWindow",()=>h.update(Ja.reset)),s.on("NodeChange keydown",ne=>{requestAnimationFrame(()=>O(ne))});let I=0;const q=$l(()=>h.update(Ja.refresh),33);s.on("ScrollWindow",()=>{const ne=La().left;ne!==I&&(I=ne,q.throttle()),h.updateMode()}),FC(s)&&s.on("ElementScroll",ne=>{h.update(Ja.refresh)});const Y=ea();Y.set(Pd(to.fromDom(s.getBody()),"load",ne=>O(ne.raw))),s.on("remove",()=>{Y.clear()})};var EK=Object.freeze({__proto__:null,render:(s,l,h,g,E)=>{const{mainUi:O}=l,I=ms(),q=to.fromDom(E.targetNode),Y=SK(s,q,l,g,I),ne=gW(s);Rde(s);const he=()=>{if(I.isSet()){Y.show();return}I.set(Wi.getHeader(O.outerContainer).getOrDie());const Re=$P(s);FC(s)?(ib(q,O.mothership),ib(q,l.popupUi.mothership)):Nw(Re,O.mothership),Nw(Re,l.dialogUi.mothership);const ze=()=>{gK(s,l,h,g),Wi.setMenubar(O.outerContainer,GZ(s,h)),Y.show(),CK(s,q,Y,ne),s.nodeChanged()};ne?s.once("SkinLoaded",ze):ze()};s.on("show",he),s.on("hide",Y.hide),ne||(s.on("focus",he),s.on("blur",Y.hide)),s.on("init",()=>{(s.hasFocus()||ne)&&he()}),tG(s,l);const ve={show:he,hide:Y.hide,setEnabled:Re=>{LR(l,Re?"setEnabled":"setDisabled")},isEnabled:()=>!Yo.isDisabled(O.outerContainer)};return{editorContainer:O.outerContainer.element.dom,api:ve}}});const whe=()=>{const s=ms(),l=ms(),h=ms();return{dialogUi:s,popupUi:l,mainUi:h,getUiMotherships:()=>{const O=s.get().map(q=>q.mothership),I=l.get().map(q=>q.mothership);return O.fold(()=>I.toArray(),q=>I.fold(()=>[q],Y=>xe(q.element,Y.element)?[q]:[q,Y]))},lazyGetInOuterOrDie:(O,I)=>()=>h.get().bind(q=>I(q.outerContainer)).getOrDie(`Could not find ${O} element in OuterContainer`)}},_he="contexttoolbar-show",wK="contexttoolbar-hide",NU=(s,l,h)=>({setInputEnabled:g=>{!g&&h&&oa(h),Yo.set(s,!g)},isInputEnabled:()=>!Yo.isDisabled(s),hide:()=>{Cr(s,v1())},back:()=>{Cr(s,nL)},getValue:()=>l.get().getOrThunk(()=>po.getValue(s)),setValue:g=>{s.getSystem().isConnected()?po.setValue(s,g):l.set(g)}}),aL=(s,l,h)=>{const E=jn(s.element).bind(O=>s.getSystem().getByDom(O).toOptional());return NU(E.getOr(s),l,h)},xx=(s,l,h)=>dn(ZR,(g,E)=>{const O=s.get(g),I=NU(O,h,g.element);l.onAction(I,E.event.buttonApi)}),Ahe=(s,l,h,g)=>{const{primary:E,...O}=l.original,I=cp(SH({...O,type:"button",onAction:re}));return gU(I,h,[xx(s,l,g)])},The=(s,l,h,g)=>{const{primary:E,...O}=l.original,I=cp(H9({...O,type:"togglebutton",onAction:re}));return JZ(I,h,[xx(s,l,g)])},xhe=s=>s.type==="contextformtogglebutton",_K=(s,l,h,g)=>xhe(l)?The(s,l,h,g):Ahe(s,l,h,g),AK=(s,l,h,g)=>{const E=qt(l,q=>di(_K(s,q,h,g)));return{asSpecs:()=>qt(E,q=>q.asSpec()),findPrimary:q=>Ko(l,(Y,ne)=>Y.primary?ee.from(E[ne]).bind(he=>he.getOpt(q)).filter(De(Yo.isDisabled)):ee.none())}},TK=(s,l,h,g)=>{const{width:E,height:O}=s.initValue();let I=LN;const q=uo("ratio-event"),Y=kn=>NU(kn,g),ne=kn=>rg(kn,{tag:"span",classes:["tox-icon","tox-lock-icon__"+kn]},l.icons),he=()=>!1,ve=s.label.getOr("Constrain proportions"),Re=l.translate(ve),ze=ql.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":Re,"data-mce-name":ve}},components:[ne("lock"),ne("unlock")],buttonBehaviours:Qn([Yo.config({disabled:he}),ma.config({}),ga.config(l.tooltips.getConfig({tooltipText:Re}))])}),Ge=kn=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:kn}),et=kn=>Bh(kn.element,"div.tox-focusable-wrapper").fold(ee.none,Vn=>(oa(Vn),ee.some(!0))),ft=kn=>Tr.parts.field({factory:lv,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:kn?E:O,inputBehaviours:Qn([Yo.config({disabled:he}),ma.config({}),Fs("size-input-toolbar-events",[dn(bf(),(zn,Vn)=>{cs(zn,q,{isField1:kn})})]),Xo.config({mode:"special",onEnter:h,onEscape:et})]),selectOnFocus:!1}),Je=kn=>({dom:{tag:"label",classes:["tox-label"]},components:[pa(l.translate(kn))]}),yt=kn=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[kn],behaviours:Qn([ma.config({}),Hs.config({}),Xo.config({mode:"special",onEnter:zn=>oi(zn.element,"input").fold(ee.none,ds=>(oa(ds),ee.some(!0)))})])}),At=yt(ql.parts.field1(Ge([Tr.parts.label(Je("Width:")),ft(!0)]))),Xt=yt(ql.parts.field2(Ge([Tr.parts.label(Je("Height:")),ft(!1)]))),en=wn(re),ro=[Oy({onBeforeSetup:kn=>oi(kn.element,"input").each(oa),onSetup:s.onSetup,getApi:Y},en),cN({getApi:Y},en,g)];return ql.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[At,Ge([ze]),Xt],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(kn,zn,Vn)=>{NN(po.getValue(kn)).each(ds=>{I(ds).each(Wo=>{po.setValue(zn,Hq(Wo))})})},onInput:kn=>Cr(kn,h$),coupledFieldBehaviours:Qn([Hs.config({}),Xo.config({mode:"flow",focusInside:Sf.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),Yo.config({disabled:he,onDisabled:kn=>{ql.getField1(kn).bind(Tr.getField).each(Yo.disable),ql.getField2(kn).bind(Tr.getField).each(Yo.disable),ql.getLock(kn).each(Yo.disable)},onEnabled:kn=>{ql.getField1(kn).bind(Tr.getField).each(Yo.enable),ql.getField2(kn).bind(Tr.getField).each(Yo.enable),ql.getLock(kn).each(Yo.enable)}}),Sc(()=>l.checkUiComponentContext("mode:design")),Fs("size-input-toolbar-events2",[dn(q,(kn,zn)=>{const Vn=zn.event.isField1,ds=Vn?ql.getField1(kn):ql.getField2(kn),Wo=Vn?ql.getField2(kn):ql.getField1(kn),Ir=ds.map(po.getValue).getOr(""),Es=Wo.map(po.getValue).getOr("");I=Cb(Ir,Es)}),dn(h$,kn=>s.onInput(Y(kn))),...ro])])})},xK=(s,l,h)=>Tr.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...s.toArray(),l],fieldBehaviours:Qn([Yo.config({disabled:()=>h.checkUiComponentContext("mode:design").shouldDisable,onDisabled:g=>{JC(g),Tr.getField(g).each(Yo.disable)},onEnabled:g=>{Tr.getField(g).each(Yo.enable)}})])}),Ohe=(s,l,h,g)=>{const E=wn(re),O=Y=>aL(Y,g),I=s.label.map(Y=>Tr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[pa(l.translate(Y))]})),q=Tr.parts.field({factory:lv,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(s.min()),max:String(s.max())},data:s.initValue().toString(),fromInputValue:Y=>pc(Y).getOr(s.min()),toInputValue:Y=>String(Y),inputBehaviours:Qn([Yo.config({disabled:()=>l.checkUiComponentContext("mode:design").shouldDisable}),Sc(()=>l.checkUiComponentContext("mode:design")),Xo.config({mode:"special",onEnter:h,onLeft:(Y,ne)=>(ne.cut(),ee.none()),onRight:(Y,ne)=>(ne.cut(),ee.none())}),Fs("slider-events",[Oy({onSetup:s.onSetup,getApi:O,onBeforeSetup:Xo.focusIn},E),cN({getApi:O},E,g),dn(Xp(),Y=>{s.onInput(O(Y))})])])});return xK(I,q,l)},Ihe=(s,l,h,g)=>{const E=wn(re),O=he=>aL(he,g),I=s.label.map(he=>Tr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[pa(l.translate(he))]})),Y={...s.placeholder.map(he=>({placeholder:l.translate(he)})).getOr({})},ne=Tr.parts.field({factory:lv,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:Y,data:s.initValue(),selectOnFocus:!0,inputBehaviours:Qn([Yo.config({disabled:()=>l.checkUiComponentContext("mode:design").shouldDisable}),Sc(()=>l.checkUiComponentContext("mode:design")),Xo.config({mode:"special",onEnter:h,onLeft:(he,ve)=>(ve.cut(),ee.none()),onRight:(he,ve)=>(ve.cut(),ee.none())}),Fs("input-events",[Oy({onSetup:s.onSetup,getApi:he=>Bh(he.element,".tox-toolbar").bind(Re=>oi(Re,"button:enabled")).fold(()=>aL(he,g),Re=>aL(he,g,Re)),onBeforeSetup:Xo.focusIn},E),cN({getApi:O},E,g),dn(Xp(),he=>{s.onInput(O(he))})])])});return xK(I,ne,l)},LU=(s,l,h)=>{const g=ms(),O=di(s(h,ne=>q.findPrimary(ne).orThunk(()=>Y.findPrimary(ne)).map(he=>(cw(he),!0)),g)),I=br(l.commands,ne=>ne.align==="start"),q=AK(O,I.pass,h,g),Y=AK(O,I.fail,h,g);return ws([{title:ee.none(),label:ee.none(),items:q.asSpecs()},{title:ee.none(),label:ee.none(),items:[O.asSpec()]},{title:ee.none(),label:ee.none(),items:Y.asSpecs()}],ne=>ne.items.length>0)},OK=(s,l)=>{switch(s.type){case"contextform":return LU(Fe(Ihe,s),s,l);case"contextsliderform":return LU(Fe(Ohe,s),s,l);case"contextsizeinputform":return LU(Fe(TK,s),s,l)}},IK={renderContextForm:(s,l,h)=>XN({type:s,uid:uo("context-toolbar"),initGroups:OK(l,h),onEscape:ee.none,cyclicKeying:!0,providers:h}),buildInitGroups:OK},RK=(s,l,h)=>l.bottom-s.y>=h&&s.bottom-l.y>=h,Rhe=s=>{const l=s.getBoundingClientRect();if(l.height<=0&&l.width<=0){const h=bl(to.fromDom(s.startContainer),s.startOffset).element;return(Dh(h)?jn(h):ee.some(h)).filter(Ac).map(E=>E.dom.getBoundingClientRect()).getOr(l)}else return l},cL=s=>{const l=s.selection.getRng(),h=Rhe(l);if(s.inline){const g=La();return jr(g.left+h.left,g.top+h.top,h.width,h.height)}else{const g=ip(to.fromDom(s.getBody()));return jr(g.x+h.left,g.y+h.top,h.width,h.height)}},BU=(s,l)=>l.filter(h=>$r(h)&&Qe(h)).map(ip).getOrThunk(()=>cL(s)),kK=(s,l,h)=>{const g=Math.max(s.x+h,l.x),E=Math.min(s.right-h,l.right);return{x:g,width:E-g}},DK=(s,l,h,g,E,O)=>{const I=to.fromDom(s.getContainer()),q=oi(I,".tox-editor-header").getOr(I),Y=Pl(q),ne=Y.y>=l.bottom,he=g&&!ne;if(s.inline&&he)return{y:Math.max(Y.bottom+O,h.y),bottom:h.bottom};if(s.inline&&!he)return{y:h.y,bottom:Math.min(Y.y-O,h.bottom)};const ve=E==="line"?Pl(I):l;return he?{y:Math.max(Y.bottom+O,h.y),bottom:Math.min(ve.bottom-O,h.bottom)}:{y:Math.max(ve.y+O,h.y),bottom:Math.min(Y.y-O,h.bottom)}},MK=(s,l,h,g=0)=>{const E=Ya(window),O=Pl(to.fromDom(s.getContentAreaContainer())),I=FP(s)||HP(s)||bR(s),{x:q,width:Y}=kK(O,E,g);if(s.inline&&!I)return jr(q,E.y,Y,E.height);{const ne=l.header.isPositionedAtTop(),{y:he,bottom:ve}=DK(s,O,E,ne,h,g);return jr(q,he,Y,ve-he)}},lS=12,i2={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},a2={maxHeightFunction:T1(),maxWidthFunction:iI()},VU=(s,l)=>{const h=s.selection.getRng(),g=bl(to.fromDom(h.startContainer),h.startOffset);return h.startContainer===h.endContainer&&h.startOffset===h.endOffset-1&&xe(g.element,l)},FU=(s,l,h)=>{const g=ua(s,"position");_s(s,"position",l);const E=h(s);return g.each(O=>_s(s,"position",O)),E},HU=s=>s==="node",uL=(s,l,h,g,E)=>{const O=cL(s),I=g.lastElement().exists(q=>xe(h,q));if(VU(s,h))return I?zd:Uh;if(I)return FU(l,g.getMode(),()=>RK(O,Pl(l),-20)&&!g.isReposition()?Qk:zd);{const q=g.getMode()==="fixed"?E.y+La().top:E.y,Y=Cl(l)+lS;return q+Y<=O.y?Uh:pC}},PK=(s,l,h,g)=>{const E=Y=>(ne,he,ve,Re,ze)=>{const Ge=uL(s,Re,Y,h,ze),et={...ne,y:ze.y,height:ze.height};return{...Ge(et,he,ve,Re,ze),alwaysFit:!0}},O=Y=>HU(g)?[E(Y)]:[];return l?{onLtr:Y=>[ac,Fa,Hi,Ha,al,ic].concat(O(Y)),onRtl:Y=>[ac,Hi,Fa,al,Ha,ic].concat(O(Y))}:{onLtr:Y=>[ic,ac,Ha,Fa,al,Hi].concat(O(Y)),onRtl:Y=>[ic,ac,al,Hi,Ha,Fa].concat(O(Y))}},NK=(s,l,h,g)=>l==="line"?{bubble:Hn(lS,0,i2),layouts:{onLtr:()=>[ZA],onRtl:()=>[KA]},overrides:a2}:{bubble:Hn(0,lS,i2,1/lS),layouts:PK(s,h,g,l),overrides:a2},l2=(s,l)=>{const h=ws(l,O=>O.predicate(s.dom)),{pass:g,fail:E}=br(h,O=>O.type==="contexttoolbar");return{contextToolbars:g,contextForms:E}},khe=s=>{if(s.length<=1)return s;{const l=O=>To(s,I=>I.position===O),h=O=>ws(s,I=>I.position===O),g=l("selection"),E=l("node");if(g||E)if(E&&g){const O=h("node"),I=qt(h("selection"),q=>({...q,position:"node"}));return O.concat(I)}else return h(g?"selection":"node");else return h("line")}},LK=s=>{if(s.length<=1)return s;{const l=g=>kt(s,E=>E.position===g);return l("selection").orThunk(()=>l("node")).orThunk(()=>l("line")).map(g=>g.position).fold(()=>[],g=>ws(s,E=>E.position===g))}},Dhe=(s,l,h)=>{const g=l2(s,l);if(g.contextForms.length>0)return ee.some({elem:s,toolbars:[g.contextForms[0]]});{const E=l2(s,h);if(E.contextForms.length>0)return ee.some({elem:s,toolbars:[E.contextForms[0]]});if(g.contextToolbars.length>0||E.contextToolbars.length>0){const O=khe(g.contextToolbars.concat(E.contextToolbars));return ee.some({elem:s,toolbars:O})}else return ee.none()}},Mhe=(s,l,h)=>s(l)?ee.none():n0(l,g=>{if(Ac(g)){const{contextToolbars:E,contextForms:O}=l2(g,h.inNodeScope),I=O.length>0?O:LK(E);return I.length>0?ee.some({elem:g,toolbars:I}):ee.none()}else return ee.none()},s),dL=(s,l)=>{const h=to.fromDom(l.getBody()),g=I=>xe(I,h),E=I=>!g(I)&&!Le(h,I),O=to.fromDom(l.selection.getNode());return E(O)?ee.none():Dhe(O,s.inNodeScope,s.inEditorScope).orThunk(()=>Mhe(g,O,s))},BK=(s,l)=>{const h={},g=[],E=[],O={},I={},q=(he,ve)=>{const Re=cp(Jae(ve));h[he]=Re,Re.launch.map(ze=>{O["form:"+he]={...ve.launch,type:ze.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{l(Re)}}}),Re.scope==="editor"?E.push(Re):g.push(Re),I[he]=Re},Y=(he,ve)=>{ele(ve).each(Re=>{Re.launch.isSome()&&(O["toolbar:"+he]={...ve.launch,type:"button",onAction:()=>{l(Re)}}),ve.scope==="editor"?E.push(Re):g.push(Re),I[he]=Re})},ne=Io(s);return Tn(ne,he=>{const ve=s[he];ve.type==="contextform"||ve.type==="contextsliderform"||ve.type==="contextsizeinputform"?q(he,ve):ve.type==="contexttoolbar"&&Y(he,ve)}),{forms:h,inNodeScope:g,inEditorScope:E,lookupTable:I,formNavigators:O}},$U="tox-pop--transition",Phe=s=>s===sL.ENTER||s===sL.SPACEBAR,Nhe=(s,l,h,g)=>{const E=g.backstage,O=E.shared,I=ji().deviceType.isTouch,q=ms(),Y=ms(),ne=ms(),he=Lde({sink:h,onEscape:()=>(s.focus(),fN(s),ee.some(!0)),onHide:()=>{fN(s)},onBack:()=>{Fle(s)},focusElement:Es=>{s.getBody().contains(Es.dom)?s.focus():oa(Es)}}),ve=k(he.sketch),Re=()=>{const Es=ne.get().getOr("node"),Qs=HU(Es)?1:0;return MK(s,O,Es,Qs)},ze=()=>!s.removed&&!(I()&&E.isContextMenuOpen()),Ge=Es=>Mc(wc(Es,q.get(),xe),!0),et=()=>{if(ze()){const Es=Re(),Qs=Mc(ne.get(),"node")?BU(s,q.get()):cL(s);return Es.height<=0||!RK(Qs,Es,.01)}else return!0},ft=()=>{q.clear(),Y.clear(),ne.clear(),Qa.hide(ve)},Je=()=>{if(Qa.isOpen(ve)){const Es=ve.element;Sr(Es,"display"),et()?_s(Es,"display","none"):(Y.set(0),Qa.reposition(ve))}},yt=Es=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Es],behaviours:Qn([Xo.config({mode:"acyclic"}),Fs("pop-dialog-wrap-events",[Ea(Qs=>{s.shortcuts.add("ctrl+F9","focus statusbar",()=>Xo.focusIn(Qs))}),ev(Qs=>{s.shortcuts.remove("ctrl+F9")})])])}),At=Es=>{const Qs=kn([Es]);cs(ve,yU,{forwardContents:yt(Qs)})},Xt=Jc(()=>BK(l,At)),en=(Es,Qs)=>rL(s,{buttons:Es,toolbar:Qs.items,allowToolbarGroups:!1},g.backstage,ee.some(["form:","toolbar:"])),ro=(Es,Qs)=>IK.buildInitGroups(Es,Qs),kn=Es=>{const{buttons:Qs}=s.ui.registry.getAll(),zo=Xt(),In={...Qs,...zo.formNavigators},no=Jw(s)===sg.scrolling?sg.scrolling:sg.default,xs=mn(qt(Es,er=>er.type==="contexttoolbar"?en(In,MR(er)):ro(er,O.providers)));return XN({type:no,uid:uo("context-toolbar"),initGroups:xs,onEscape:ee.none,cyclicKeying:!0,providers:O.providers})},zn=(Es,Qs)=>{const zo=Es==="node"?O.anchors.node(Qs):O.anchors.cursor(),In=NK(s,Es,I(),{lastElement:q.get,isReposition:()=>Mc(Y.get(),0),getMode:()=>Gd.getMode(h)});return Kr(zo,In)},Vn=(Es,Qs)=>{if(Ir.cancel(),!ze())return;const zo=kn(Es),In=Es[0].position,no=zn(In,Qs);ne.set(In),Y.set(1);const xs=ve.element;Sr(xs,"display"),Ge(Qs)||(ai(xs,$U),Gd.reset(h,ve)),Qa.showWithinBounds(ve,yt(zo),{anchor:no,transition:{classes:[$U],mode:"placement"}},()=>ee.some(Re())),Qs.fold(q.clear,q.set),et()&&_s(xs,"display","none")},ds=()=>{_s(ve.element,"transition","none"),Je(),Sr(ve.element,"transition")};let Wo=!1;const Ir=$l(()=>{if(!(!s.hasFocus()||s.removed||Wo))if(qa(ve.element,$U))Ir.throttle();else{const Es=Xt();dL(Es,s).fold(ft,Qs=>{Vn(Qs.toolbars,ee.some(Qs.elem))})}},17);s.on("init",()=>{s.on("remove",ft),s.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Je),s.on("click focus SetContent",Ir.throttle),s.on("keyup",Es=>{(!Phe(Es.keyCode)||!he.inSubtoolbar())&&Ir.throttle()}),s.on(wK,ft),s.on(_he,Es=>{const Qs=Xt();Zt(Qs.lookupTable,Es.toolbarKey).each(zo=>{Vn([zo],ol(Es.target!==s,Es.target)),bU(ve)})}),s.on("focusout",Es=>{LP.setEditorTimeout(s,()=>{Ga(h.element).isNone()&&Ga(ve.element).isNone()&&!s.hasFocus()&&ft()},0)}),s.on("SwitchMode",()=>{s.mode.isReadOnly()&&ft()}),s.on("DisabledStateChange",Es=>{Es.state&&ft()}),s.on("ExecCommand",({command:Es})=>{Es.toLowerCase()==="toggleview"&&ft()}),s.on("AfterProgressState",Es=>{Es.state?ft():s.hasFocus()&&Ir.throttle()}),s.on("dragstart",()=>{Wo=!0}),s.on("dragend drop",()=>{Wo=!1}),s.on("NodeChange",Es=>{he.inSubtoolbar()?ds():Ga(ve.element).fold(Ir.throttle,re)})})},Lhe=s=>{Tn([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],h=>{s.ui.registry.addToggleButton(h.name,{tooltip:h.text,icon:h.icon,onAction:pm(s,h.cmd),onSetup:HR(s,h.name)})}),s.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Gh(s),onAction:pm(s,"JustifyNone")})},VK=(s,l)=>{const h=()=>{const g=l.getOptions(s),E=l.getCurrent(s).map(l.hash),O=ms();return qt(g,I=>({type:"togglemenuitem",text:l.display(I),onSetup:q=>{const Y=he=>{he&&(O.on(ve=>ve.setActive(!1)),O.set(q)),q.setActive(he)};Y(Mc(E,l.hash(I)));const ne=l.watcher(s,I,Y);return()=>{O.clear(),ne()}},onAction:()=>l.setCurrent(s,I)}))};s.ui.registry.addMenuButton(l.name,{tooltip:l.text,icon:l.icon,fetch:g=>g(h()),onSetup:l.onToolbarSetup}),s.ui.registry.addNestedMenuItem(l.name,{type:"nestedmenuitem",text:l.text,getSubmenuItems:h,onSetup:l.onMenuSetup})},FK=s=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:MW,hash:l=>_i(l,["fixed","relative","empty"]).getOr(l),display:Me,watcher:(l,h,g)=>l.formatter.formatChanged("lineheight",g,!1,{value:h}).unbind,getCurrent:l=>ee.from(l.queryCommandValue("LineHeight")),setCurrent:(l,h)=>l.execCommand("LineHeight",!1,h),onToolbarSetup:Gh(s),onMenuSetup:Gh(s)}),HK=s=>ee.from(fW(s)).map(h=>({name:"language",text:"Language",icon:"language",getOptions:F(h),hash:g=>z(g.customCode)?g.code:`${g.code}/${g.customCode}`,display:g=>g.title,watcher:(g,E,O)=>g.formatter.formatChanged("lang",O,!1,{value:E.code,customValue:E.customCode??null}).unbind,getCurrent:g=>{const E=to.fromDom(g.selection.getNode());return Nu(E,O=>ee.some(O).filter(Ac).bind(I=>nr(I,"lang").map(Y=>{const ne=nr(I,"data-mce-lang").getOrUndefined();return{code:Y,customCode:ne,title:""}})))},setCurrent:(g,E)=>g.execCommand("Lang",!1,E),onToolbarSetup:g=>{const E=ea();return g.setActive(s.formatter.match("lang",{},void 0,!0)),E.set(s.formatter.formatChanged("lang",g.setActive,!0)),pN(E.clear,Gh(s)(g))},onMenuSetup:Gh(s)})),$K=s=>{VK(s,FK(s)),HK(s).each(l=>VK(s,l))},UK=(s,l)=>{Ude(s,l),Kde(s,l),lhe(s,l),sK(s,l),rhe(s,l)},Bhe=s=>{s.ui.registry.addContext("editable",()=>s.selection.isEditable()),s.ui.registry.addContext("mode",l=>s.mode.get()===l),s.ui.registry.addContext("any",gt),s.ui.registry.addContext("formatting",l=>s.formatter.canApply(l)),s.ui.registry.addContext("insert",l=>s.schema.isValidChild(s.selection.getNode().tagName,l))},zK=s=>KC(s,"NodeChange",l=>{l.setEnabled(s.queryCommandState("outdent")&&s.selection.isEditable())}),jK=s=>{s.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:zK(s),onAction:pm(s,"outdent")}),s.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Gh(s,()=>s.queryCommandState("indent")),onAction:pm(s,"indent")})},Vhe=s=>{jK(s)},Fhe=(s,l)=>h=>{h.setActive(l.get());const g=E=>{l.set(E.state),h.setActive(E.state)};return s.on("PastePlainTextToggle",g),pN(()=>s.off("PastePlainTextToggle",g),Gh(s)(h))},Hhe=s=>{const l=wn(OW(s)),h=()=>s.execCommand("mceTogglePlainTextPaste");s.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:h,onSetup:Fhe(s,l)}),s.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:h,onSetup:Fhe(s,l)})},UU=(s,l)=>()=>{s.execCommand("mceToggleFormat",!1,l)},$he=s=>{aS.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,h)=>{s.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:HR(s,l.name),onAction:UU(s,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const h="h"+l,g=`Access+${l}`;s.ui.registry.addToggleButton(h,{text:h.toUpperCase(),tooltip:"Heading "+l,onSetup:HR(s,h),onAction:UU(s,h),shortcut:g})}},Uhe=s=>{aS.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{s.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:pm(s,l.action),shortcut:l.shortcut,context:l.context})}),aS.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{s.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:Gh(s),onAction:pm(s,l.action)})})},zhe=s=>{aS.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{s.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:pm(s,l.action),onSetup:HR(s,l.name)})})},jhe=s=>{$he(s),Uhe(s),zhe(s)},Whe=s=>{aS.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{s.ui.registry.addMenuItem(l.name,{text:l.text,icon:l.icon,shortcut:l.shortcut,onAction:pm(s,l.action),context:l.context})}),aS.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{s.ui.registry.addMenuItem(l.name,{text:l.text,icon:l.icon,shortcut:l.shortcut,onSetup:Gh(s),onAction:pm(s,l.action)})}),s.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Gh(s),onAction:UU(s,"code")})},Ghe=s=>{jhe(s),Whe(s)},hL=(s,l)=>KC(s,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",h=>{h.setEnabled(!s.mode.isReadOnly()&&s.undoManager[l]())}),qhe=s=>{s.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:hL(s,"hasUndo"),onAction:pm(s,"undo")}),s.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:hL(s,"hasRedo"),onAction:pm(s,"redo")})},Zhe=s=>{s.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:hL(s,"hasUndo"),onAction:pm(s,"undo"),shortcut:"Meta+Z"}),s.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:hL(s,"hasRedo"),onAction:pm(s,"redo"),shortcut:"Meta+Y"})},Khe=s=>{qhe(s),Zhe(s)},Yhe=s=>KC(s,"VisualAid",l=>{l.setActive(s.hasVisual)}),WK=s=>{s.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Yhe(s),onAction:pm(s,"mceToggleVisualAid"),context:"any"})},Xhe=s=>{s.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:pm(s,"mceToggleVisualAid"),context:"any"})},Jhe=s=>{Xhe(s),WK(s)},Qhe=(s,l)=>{Lhe(s),Ghe(s),UK(s,l),Khe(s),HG(s),Jhe(s),Vhe(s),$K(s),Hhe(s),Bhe(s)},efe=s=>v(s)?s.split(/[ ,]/):s,GK=s=>l=>l.options.get(s),qK=s=>{const l=s.options.register;l("contextmenu_avoid_overlap",{processor:"string",default:""}),l("contextmenu_never_use_native",{processor:"boolean",default:!1}),l("contextmenu",{processor:h=>h===!1?{value:[],valid:!0}:v(h)||ce(h,v)?{value:efe(h),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},fL=GK("contextmenu_never_use_native"),tfe=GK("contextmenu_avoid_overlap"),ZK=s=>KK(s).length===0,KK=s=>{const l=s.ui.registry.getAll().contextMenus,h=s.options.get("contextmenu");return s.options.isSet("contextmenu")?h:ws(h,g=>Zn(l,g))},c2=(s,l)=>({type:"makeshift",x:s,y:l}),nfe=(s,l,h)=>c2(s.x+l,s.y+h),YK=s=>s.type==="longpress"||s.type.indexOf("touch")===0,ofe=s=>{if(YK(s)){const l=s.touches[0];return c2(l.pageX,l.pageY)}else return c2(s.pageX,s.pageY)},zU=s=>{if(YK(s)){const l=s.touches[0];return c2(l.clientX,l.clientY)}else return c2(s.clientX,s.clientY)},sfe=(s,l)=>{const h=mR.DOM.getPos(s);return nfe(l,h.x,h.y)},rfe=(s,l)=>l.type==="contextmenu"||l.type==="longpress"?s.inline?ofe(l):sfe(s.getContentAreaContainer(),zU(l)):pL(s),pL=s=>({type:"selection",root:to.fromDom(s.selection.getNode())}),XK=s=>({type:"node",node:ee.some(to.fromDom(s.selection.getNode())),root:to.fromDom(s.getBody())}),jU=(s,l,h)=>{switch(h){case"node":return XK(s);case"point":return rfe(s,l);case"selection":return pL(s)}},ife=(s,l,h,g,E,O)=>{const I=h(),q=jU(s,l,O);A_(I,mb.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!1,search:ee.none()}).map(Y=>{l.preventDefault(),Qa.showMenuAt(E,{anchor:q},{menu:{markers:UC("normal")},data:Y})})},afe={onLtr:()=>[ac,Fa,Hi,Ha,al,ic,Uh,pC,sn,Xv,fC,Km],onRtl:()=>[ac,Hi,Fa,al,Ha,ic,Uh,pC,fC,Km,sn,Xv]},lfe=12,cfe={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},ufe=(s,l)=>{const h=s.selection;if(h.isCollapsed()||l.touches.length<1)return!1;{const g=l.touches[0],E=h.getRng();return Mg(s.getWin(),ru.domRange(E)).exists(I=>I.left<=g.clientX&&I.right>=g.clientX&&I.top<=g.clientY&&I.bottom>=g.clientY)}},WU=s=>{const l=s.selection.getRng(),h=()=>{LP.setEditorTimeout(s,()=>{s.selection.setRng(l)},10),O()};s.once("touchend",h);const g=I=>{I.preventDefault(),I.stopImmediatePropagation()};s.on("mousedown",g,!0);const E=()=>O();s.once("longpresscancel",E);const O=()=>{s.off("touchend",h),s.off("longpresscancel",E),s.off("mousedown",g)}},dfe=(s,l,h)=>{const g=jU(s,l,h);return{bubble:Hn(0,h==="point"?lfe:0,cfe),layouts:afe,overrides:{maxWidthFunction:iI(),maxHeightFunction:T1()},...g}},JK=(s,l,h,g,E,O,I)=>{const q=dfe(s,l,O);A_(h,mb.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!0,search:ee.none()}).map(Y=>{l.preventDefault();const ne=I?jd.HighlightMenuAndItem:jd.HighlightNone;Qa.showMenuWithinBounds(E,{anchor:q},{menu:{markers:UC("normal"),highlightOnOpen:ne},data:Y,type:"horizontal"},()=>ee.some(MK(s,g.shared,O==="node"?"node":"selection"))),s.dispatch(wK)})},hfe=(s,l,h,g,E,O)=>{const I=ji(),q=I.os.isiOS(),Y=I.os.isMacOS(),ne=I.os.isAndroid(),he=I.deviceType.isTouch(),ve=()=>!(ne||q||Y&&he),Re=()=>{const ze=h();JK(s,l,ze,g,E,O,ve())};if((Y||q)&&O!=="node"){const ze=()=>{WU(s),Re()};ufe(s,l)?ze():(s.once("selectionchange",ze),s.once("touchend",()=>s.off("selectionchange",ze)))}else Re()},QK=s=>v(s)?s==="|":s.type==="separator",u2={type:"separator"},eY=s=>{const l=h=>({text:h.text,icon:h.icon,enabled:h.enabled,shortcut:h.shortcut});if(v(s))return s;switch(s.type){case"separator":return u2;case"submenu":return{type:"nestedmenuitem",...l(s),getSubmenuItems:()=>{const g=s.getSubmenuItems();return v(g)?g:qt(g,eY)}};default:const h=s;return{type:"menuitem",...l(h),onAction:ye(h.onAction)}}},GU=(s,l)=>{if(l.length===0)return s;const g=go(s).filter(E=>!QK(E)).fold(()=>[],E=>[u2]);return s.concat(g).concat(l).concat([u2])},qU=(s,l,h)=>{const g=Is(l,(E,O)=>Zt(s,O.toLowerCase()).map(I=>{const q=I.update(h);if(v(q)&&xu(io(q)))return GU(E,q.split(" "));if(x(q)&&q.length>0){const Y=qt(q,eY);return GU(E,Y)}else return E}).getOrThunk(()=>E.concat([O])),[]);return g.length>0&&QK(g[g.length-1])&&g.pop(),g},ffe=(s,l)=>l.ctrlKey&&!fL(s),pfe=s=>s.type==="longpress"||Zn(s,"touches"),tY=(s,l)=>!pfe(l)&&(l.button!==2||l.target===s.getBody()&&l.pointerType===""),nY=(s,l)=>tY(s,l)?s.selection.getStart(!0):l.target,mfe=(s,l)=>{const h=tfe(s),g=tY(s,l)?"selection":"point";if(xu(h)){const E=nY(s,l);return Xb(to.fromDom(E),h)?"node":g}else return g},oY=(s,l,h)=>{const E=ji().deviceType.isTouch,O=k(Qa.sketch({dom:{tag:"div"},lazySink:l,onEscape:()=>s.focus(),onShow:()=>h.setContextMenuState(!0),onHide:()=>h.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Qn([Fs("dismissContextMenu",[dn(Zg(),(Y,ne)=>{Qr.close(Y),s.focus()})])])})),I=()=>Qa.hide(O),q=Y=>{if(fL(s)&&Y.preventDefault(),ffe(s,Y)||ZK(s))return;const ne=mfe(s,Y),he=()=>{const Re=nY(s,Y),ze=s.ui.registry.getAll(),Ge=KK(s);return qU(ze.contextMenus,Ge,Re)};(E()?hfe:ife)(s,Y,he,h,O,ne)};s.on("init",()=>{const Y="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(E()?"":" ResizeWindow");s.on(Y,I),s.on("longpress contextmenu",q)})},ZU=40,mL=ZU/2,sY=(s,l,h,g,E,O)=>s.fold(()=>zw.snap({sensor:G1(h-mL,g-mL),range:ni(E,O),output:G1(ee.some(h),ee.some(g)),extra:{td:l}}),I=>{const q=h-mL,Y=g-mL,ne=ZU,he=ZU,ve=I.element.dom.getBoundingClientRect();return zw.snap({sensor:G1(q,Y),range:ni(ne,he),output:G1(ee.some(h-ve.width/2),ee.some(g-ve.height/2)),extra:{td:l}})}),rY=(s,l,h)=>{const g=(E,O)=>E.exists(I=>xe(I,O));return{getSnapPoints:s,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(E,O)=>{const I=O.td;g(l.get(),I)||(l.set(I),h(I))},mustSnap:!0}},iY=s=>di(gd.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Qn([zw.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:s}),qT.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),gfe=(s,l)=>{const h=wn([]),g=wn([]),E=wn(!1),O=ms(),I=ms(),q=kn=>{const zn=ip(kn);return sY(ze.getOpt(l),kn,zn.x,zn.y,zn.width,zn.height)},Y=()=>qt(h.get(),kn=>q(kn)),ne=kn=>{const zn=ip(kn);return sY(Ge.getOpt(l),kn,zn.right,zn.bottom,zn.width,zn.height)},he=()=>qt(g.get(),kn=>ne(kn)),ve=rY(Y,O,kn=>{I.get().each(zn=>{s.dispatch("TableSelectorChange",{start:kn,finish:zn})})}),Re=rY(he,I,kn=>{O.get().each(zn=>{s.dispatch("TableSelectorChange",{start:zn,finish:kn})})}),ze=iY(ve),Ge=iY(Re),et=k(ze.asSpec()),ft=k(Ge.asSpec()),Je=(kn,zn,Vn,ds)=>{const Wo=zn.dom.getBoundingClientRect();Sr(kn.element,"display");const Ir=On(to.fromDom(s.getBody())).dom.innerHeight,Es=Vn(Wo),Qs=ds(Wo,Ir);(Es||Qs)&&_s(kn.element,"display","none")},yt=(kn,zn,Vn,ds)=>{const Wo=Vn(zn);zw.snapTo(kn,Wo),Je(kn,zn,Qs=>Qs[ds]<0,(Qs,zo)=>Qs[ds]>zo)},At=kn=>yt(et,kn,q,"top"),Xt=()=>O.get().each(At),en=kn=>yt(ft,kn,ne,"bottom"),ro=()=>I.get().each(en);if(ji().deviceType.isTouch()){const kn=zn=>qt(zn,to.fromDom);s.on("TableSelectionChange",zn=>{E.get()||(sb(l,et),sb(l,ft),E.set(!0));const Vn=to.fromDom(zn.start),ds=to.fromDom(zn.finish);O.set(Vn),I.set(ds),ee.from(zn.otherCells).each(Wo=>{h.set(kn(Wo.upOrLeftCells)),g.set(kn(Wo.downOrRightCells)),At(Vn),en(ds)})}),s.on("ResizeEditor ResizeWindow ScrollContent",()=>{Xt(),ro()}),s.on("TableSelectionClear",()=>{E.get()&&(rb(et),rb(ft),E.set(!1)),O.clear(),I.clear()})}};var vfe=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const bfe=s=>s.nodeName==="BR"||!!s.getAttribute("data-mce-bogus")||s.getAttribute("data-mce-type")==="bookmark",yfe=(s,l,h)=>{const g=l.delimiter??"",E=(Y,ne,he)=>gd.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":he}},components:[pa(Y)],action:ve=>{s.focus(),s.selection.select(ne),s.nodeChanged()},buttonBehaviours:Qn([ga.config({...h.tooltips.getConfig({tooltipText:h.translate(["Select the {0} element",ne.nodeName.toLowerCase()]),onShow:(ve,Re)=>{Fd(ve.element,Re.element)},onHide:ve=>{HE(ve.element)}})}),yb.button(h.isDisabled),Sc(()=>h.checkUiComponentContext("any"))])}),O=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[pa(` ${g} `)]}),I=Y=>Is(Y,(ne,he,ve)=>{const Re=E(he.name,he.element,ve);return ve===0?ne.concat([Re]):ne.concat([O(),Re])},[]),q=Y=>{const ne=[];let he=Y.length;for(;he-- >0;){const ve=Y[he];if(ve.nodeType===1&&!bfe(ve)){const Re=_G(s,ve);if(Re.isDefaultPrevented()||ne.push({name:Re.name,element:ve}),Re.isPropagationStopped())break}}return ne};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Qn([Xo.config({mode:"flow",selector:"div[role=button]"}),Yo.config({disabled:h.isDisabled}),Sc(()=>h.checkUiComponentContext("any")),ma.config({}),js.config({}),Fs("elementPathEvents",[Ea((Y,ne)=>{s.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Xo.focusIn(Y)),s.on("NodeChange",he=>{const ve=q(he.parents),Re=ve.length>0?I(ve):[];js.set(Y,Re)})})])]),components:[]}};var N0;(function(s){s[s.None=0]="None",s[s.Both=1]="Both",s[s.Vertical=2]="Vertical"})(N0||(N0={}));const KU=s=>{const l=to.fromDom(s.getContainer()),h=Cl(l),g=bc(l);return{height:h,width:g}},Sfe=(s,l,h,g)=>({height:R_(g.height+l.top,Ic(s),vF(s)),width:h===N0.Both?R_(g.width+l.left,vR(s),BP(s)):g.width}),YU=(s,l,h)=>{const g=to.fromDom(s.getContainer()),E=KU(s),O=Sfe(s,l,h,E);return Ps(O,(I,q)=>{oe(I)&&_s(g,q,Tx(I))}),kle(s),O},Cfe=s=>{const l=CF(s);return l===!1?N0.None:l==="both"?N0.Both:N0.Vertical},Efe=(s,l)=>l===N0.Both?bd.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",s.height,s.width]):bd.translate(["Editor's height: {0} pixels",s.height]),XU=(s,l,h)=>{rs(s.element,"aria-valuetext",Efe(l,h))},L0=(s,l,h,g,E)=>{const I=ni(g*20,E*20),q=YU(s,I,h);return XU(l,q,h),ee.some(!0)},aY=(s,l)=>{const h=Cfe(s);if(h===N0.None)return ee.none();const g=h===N0.Both?bd.translate("Press the arrow keys to resize the editor."):bd.translate("Press the Up and Down arrow keys to resize the editor."),E=h===N0.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return ee.some(rg("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",E],attributes:{"aria-label":l.translate(g),"data-mce-name":"resize-handle",role:"separator"},behaviours:[zw.config({mode:"mouse",repositionTarget:!1,onDrag:(O,I,q)=>{const Y=YU(s,q,h);XU(O,Y,h)},blockerClass:"tox-blocker"}),Xo.config({mode:"special",onLeft:O=>L0(s,O,h,-1,0),onRight:O=>L0(s,O,h,1,0),onUp:O=>L0(s,O,h,0,-1),onDown:O=>L0(s,O,h,0,1)}),ma.config({}),Hs.config({}),ga.config(l.tooltips.getConfig({tooltipText:l.translate("Resize")})),Fs("set-aria-valuetext",[Ea(O=>{const I=()=>{XU(O,KU(s),h)};s._skinLoaded?I():s.once("SkinLoaded",I)})])],eventOrder:{[tm()]:["add-focusable","set-aria-valuetext"]}},l.icons))},wfe=(s,l)=>{const h=(g,E,O)=>js.set(g,[pa(l.translate(["{0} "+O,E[O]]))]);return gd.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Qn([yb.button(l.isDisabled),Sc(()=>l.checkUiComponentContext("any")),ma.config({}),js.config({}),po.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Fs("wordcount-events",[yy(g=>{const E=po.getValue(g),O=E.mode==="words"?"characters":"words";po.setValue(g,{mode:O,count:E.count}),h(g,E.count,O)}),Ea(g=>{s.on("wordCountUpdate",E=>{const{mode:O}=po.getValue(g);po.setValue(g,{mode:O,count:E.wordCount}),h(g,E.wordCount,O)})})])]),eventOrder:{[au()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},_fe=(s,l)=>{const h=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":s.translate(["Build with {0}","TinyMCE"])},innerHtml:s.translate(["Build with {0}",vfe.trim()])},behaviours:Qn([Hs.config({})])}]}),g=()=>{const q=NH("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[pa(bd.translate(["Press {0} for help",q]))]}},E=()=>{const q=[];return s.hasPlugin("wordcount")&&q.push(wfe(s,l)),SF(s)&&q.push(h()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:q}},O=()=>{const q=[],Y=wF(s),ne=yF(s),he=SF(s)||s.hasPlugin("wordcount"),ve=()=>{const Re="tox-statusbar__text-container--flex-start",ze="tox-statusbar__text-container--flex-end",Ge="tox-statusbar__text-container--space-around";if(Y){const et="tox-statusbar__text-container-3-cols";return!he&&!ne?[et,Ge]:he&&!ne?[et,ze]:[et,Re]}return[he&&!ne?ze:Re]};return ne&&q.push(yfe(s,{},l)),Y&&q.push(g()),he&&q.push(E()),q.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...ve()]},components:q}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const q=O(),Y=aY(s,l);return q.concat(Y.toArray())})()}},lY=(s,l)=>l.get().getOrDie(`UI for ${s} has not been rendered`),Afe=(s,l)=>{const h=s.inline,g=h?EK:iL,E=ex(s)?Uue:Fue,O=whe(),I=ms(),q=ms(),Y=ms(),Re=ji().deviceType.isTouch()?["tox-platform-touch"]:[],ze=TF(s),Ge=Jw(s),et=di({dom:{tag:"div",classes:["tox-anchorbar"]}}),ft=di({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Je=()=>O.mainUi.get().map(Jo=>Jo.outerContainer).bind(Wi.getHeader),yt=()=>$o.fromOption(O.dialogUi.get().map(Jo=>Jo.sink),"UI has not been rendered"),At=()=>$o.fromOption(O.popupUi.get().map(Jo=>Jo.sink),"(popup) UI has not been rendered"),Xt=O.lazyGetInOuterOrDie("anchor bar",et.getOpt),en=O.lazyGetInOuterOrDie("bottom anchor bar",ft.getOpt),ro=O.lazyGetInOuterOrDie("toolbar",Wi.getToolbar),kn=O.lazyGetInOuterOrDie("throbber",Wi.getThrobber),zn=Nue({popup:At,dialog:yt},s,Xt,en),Vn=()=>{const Jo={attributes:{[aI]:ze?Jv.BottomToTop:Jv.TopToBottom}},Ys=Wi.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:zn.popup,onEscape:()=>{s.focus()}}),Oi=Wi.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:zn.popup.shared.getSink,providers:zn.popup.shared.providers,onEscape:()=>{s.focus()},onToolbarToggled:Eb=>{Mle(s,Eb)},type:Ge,lazyToolbar:ro,lazyHeader:()=>Je().getOrDie("Could not find header element"),...Jo}),bi=Wi.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:zn.popup.shared.providers,onEscape:()=>{s.focus()},type:Ge}),Zh=bR(s),$a=HP(s),Ap=FP(s),pu=IW(s),ug=ds(pu),Tp=Zh||$a||Ap,gv=()=>Zh?[bi]:$a?[Oi]:[],B0=[ug,Ys];return Wi.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Tp?[]:["tox-editor-header--empty"]),...Jo},components:mn([Ap?B0:[],gv(),QT(s)?[]:[et.asSpec()]]),sticky:ex(s),editor:s,sharedBackstage:zn.popup.shared})},ds=Jo=>Wi.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:Jo}),Wo=()=>{const Jo=Wi.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Ys=Wi.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Jo,Ys]}},Ir=()=>{const Jo=$P(s),Ys=xe(Ld(),Jo)&&ra(Jo,"display")==="grid",Oi={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(Re),attributes:{...bd.isRtl()?{dir:"rtl"}:{}}},behaviours:Qn([Gd.config({useFixed:()=>E.isDocked(Je)})])},bi={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ta([dn(my(),Ap=>{_s(Ap.element,"width",document.body.clientWidth+"px")})])},Zh=k(Kr(Oi,Ys?bi:{})),$a=AV(Zh);return q.set($a),{sink:Zh,mothership:$a}},Es=()=>{const Jo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(Re),attributes:{...bd.isRtl()?{dir:"rtl"}:{}}},behaviours:Qn([Gd.config({useFixed:()=>E.isDocked(Je),getBounds:()=>l.getPopupSinkBounds()})])},Ys=k(Jo),Oi=AV(Ys);return Y.set(Oi),{sink:Ys,mothership:Oi}},Qs=()=>{const Jo=Vn(),Ys=Wo(),Oi=Wi.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:zn.popup}),bi=Wi.parts.viewWrapper({backstage:zn.popup}),Zh=xW(s)&&!h?ee.some(_fe(s,zn.popup.shared.providers)):ee.none(),$a=mn([ze?[]:[Jo],h?[]:[Ys],ze?[Jo]:[]]),Ap=Wi.parts.editorContainer({components:mn([$a,h?[]:[ft.asSpec()]])}),pu=xF(s),ug={role:"application",...bd.isRtl()?{dir:"rtl"}:{},...pu?{"aria-hidden":"true"}:{}},Tp=k(Wi.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(h?["tox-tinymce-inline"]:[]).concat(ze?["tox-tinymce--toolbar-bottom"]:[]).concat(Re),styles:{visibility:"hidden",...pu?{opacity:"0",border:"0"}:{}},attributes:ug},components:[Ap,...h?[]:[bi,...Zh.toArray()],Oi],behaviours:Qn([Sc(()=>zn.popup.shared.providers.checkUiComponentContext("any")),Yo.config({disableClass:"tox-tinymce--disabled"}),Xo.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),gv=AV(Tp);return I.set(gv),{mothership:gv,outerContainer:Tp}},zo=Jo=>{const Ys=Tx(Che(s)),Oi=Tx(Ehe(s));return s.inline||(Pv("div","width",Oi)&&_s(Jo.element,"width",Oi),Pv("div","height",Ys)?_s(Jo.element,"height",Ys):_s(Jo.element,"height","400px")),Ys},In=Jo=>{s.addShortcut("alt+F9","focus menubar",()=>{Wi.focusMenubar(Jo)}),s.addShortcut("alt+F10","focus toolbar",()=>{Wi.focusToolbar(Jo)}),s.addCommand("ToggleToolbarDrawer",(Ys,Oi,bi)=>{Oi?.skipFocus?(Bue("skipFocus"),Wi.toggleToolbarDrawerWithoutFocusing(Jo)):bi?.skip_focus?Wi.toggleToolbarDrawerWithoutFocusing(Jo):Wi.toggleToolbarDrawer(Jo)}),s.addQueryStateHandler("ToggleToolbarDrawer",()=>Wi.isToolbarDrawerToggled(Jo)),s.on("blur",()=>{Jw(s)===sg.floating&&Wi.isToolbarDrawerToggled(Jo)&&Wi.toggleToolbarDrawerWithoutFocusing(Jo)})},no=Jo=>{const{mainUi:Ys,popupUi:Oi,uiMotherships:bi}=Jo;ys(mW(s),(V0,h2)=>{s.ui.registry.addGroupToolbarButton(h2,V0)});const{buttons:Zh,menuItems:$a,contextToolbars:Ap,sidebars:pu,views:ug}=s.ui.registry.getAll(),Tp=AF(s),gv={menuItems:$a,menus:NW(s),menubar:bW(s),toolbar:Tp.getOrThunk(()=>VP(s)),allowToolbarGroups:Ge===sg.floating,buttons:Zh,sidebar:pu,views:ug};In(Ys.outerContainer),Vue(s,Ys.mothership,bi),E.setup(s,zn.popup.shared,Je),Qhe(s,zn.popup),oY(s,zn.popup.shared.getSink,zn.popup),jue(s),ede(s,kn,zn.popup.shared),Nhe(s,Ap,Oi.sink,{backstage:zn.popup}),gfe(s,Oi.sink);const B0=s.getElement(),Eb=zo(Ys.outerContainer),Ix={targetNode:B0,height:Eb};return g.render(s,Jo,gv,zn.popup,Ix)},xs=Jo=>(Y.set(Jo.mothership),Jo),er=()=>{const Jo=Qs(),Ys=Ir(),Oi=FC(s)?Es():xs(Ys);O.dialogUi.set(Ys),O.popupUi.set(Oi),O.mainUi.set(Jo);const bi={popupUi:Oi,dialogUi:Ys,mainUi:Jo,uiMotherships:O.getUiMotherships()};return no(bi)};return{popups:{backstage:zn.popup,getMothership:()=>lY("popups",Y)},dialogs:{backstage:zn.dialog,getMothership:()=>lY("dialogs",q)},renderUI:er}},cY=s=>{const l=[],h={};return Ps(s,(g,E)=>{g.fold(()=>{l.push(E)},O=>{h[E]=O})}),l.length>0?$o.error(l):$o.value(h)},uY=(s,l,h,g)=>{const E=di(PC.sketch(O=>({dom:{tag:"div",classes:["tox-form"].concat(s.classes)},components:qt(s.items,I=>aZ(O,I,l,h,g))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[E.asSpec()]}],behaviours:Qn([Xo.config({mode:"acyclic",useTabstopAt:De(GR)}),Sb.memento(E),cq(E,{postprocess:O=>cY(O).fold(I=>(console.error(I),{}),Me)}),Fs("dialog-body-panel",[dn(bf(),(O,I)=>{O.getSystem().broadcastOn([RN],{newFocus:ee.some(I.event.target)})})])])}},Tfe=(s,l,h)=>qt(s,(g,E)=>{js.set(h,s[E].view());const O=l.dom.getBoundingClientRect();return js.set(h,[]),O.height}),xfe=s=>_t(rn(s,(l,h)=>l>h?-1:l<h?1:0)),Ofe=(s,l,h)=>{const g=En(s).dom,E=Bh(s,".tox-dialog-wrap").getOr(s),O=ra(E,"position")==="fixed";let I;O?I=Math.max(g.clientHeight,window.innerHeight):I=Math.max(g.offsetHeight,g.scrollHeight);const q=Cl(l),ne=l.dom.offsetLeft>=h.dom.offsetLeft+bc(h)?Math.max(Cl(h),q):q,he=parseInt(ra(s,"margin-top"),10)||0,ve=parseInt(ra(s,"margin-bottom"),10)||0,ze=Cl(s)+he+ve-ne;return I-ze},Ife=(s,l)=>{_t(s).each(h=>YT.showTab(l,h.value))},dY=(s,l)=>{_s(s,"height",l+"px"),_s(s,"flex-basis",l+"px")},gL=(s,l,h)=>{Bh(s,'[role="dialog"]').each(g=>{oi(g,'[role="tablist"]').each(E=>{h.get().map(O=>(_s(l,"height","0"),_s(l,"flex-basis","0"),Math.min(O,Ofe(g,l,E)))).each(O=>{dY(l,O)})})})},JU=s=>oi(s,'[role="tabpanel"]'),hY=s=>{const l=ms();return{extraEvents:[Ea(E=>{const O=E.element;JU(O).each(I=>{_s(I,"visibility","hidden"),E.getSystem().getByDom(I).toOptional().each(q=>{const Y=Tfe(s,I,q);xfe(Y).fold(l.clear,l.set)}),gL(O,I,l),Sr(I,"visibility"),Ife(s,E),requestAnimationFrame(()=>{gL(O,I,l)})})}),dn(my(),E=>{const O=E.element;JU(O).each(I=>{gL(O,I,l)})}),dn(AN,(E,O)=>{const I=E.element;JU(I).each(q=>{const Y=Wl(ta(q));_s(q,"visibility","hidden");const ne=ua(q,"height").map(Re=>parseInt(Re,10));Sr(q,"height"),Sr(q,"flex-basis");const he=q.dom.getBoundingClientRect().height;ne.forall(Re=>he>Re)?(l.set(he),gL(I,q,l)):ne.each(Re=>{dY(q,Re)}),Sr(q,"visibility"),Y.each(oa)})})],selectFirst:!1}},fY="send-data-to-section",pY="send-data-to-view",Rfe=(s,l,h,g)=>{const E=wn({}),O=he=>{const ve=po.getValue(he),Re=cY(ve).getOr({}),ze=E.get(),Ge=Kr(ze,Re);E.set(Ge)},I=he=>{const ve=E.get();po.setValue(he,ve)},q=wn(null),Y=qt(s.tabs,he=>({value:he.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[pa(h.shared.providers.translate(he.title))],view:()=>[PC.sketch(ve=>({dom:{tag:"div",classes:["tox-form"]},components:qt(he.items,Re=>aZ(ve,Re,l,h,g)),formBehaviours:Qn([Xo.config({mode:"acyclic",useTabstopAt:De(GR)}),Fs("TabView.form.events",[Ea(I),ev(O)]),um.config({channels:Wv([{key:fY,value:{onReceive:O}},{key:pY,value:{onReceive:I}}])})])}))]})),ne=hY(Y);return YT.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(he,ve,Re)=>{const ze=po.getValue(ve);cs(he,gx,{name:ze,oldName:q.get()}),q.set(ze)},tabs:Y,components:[YT.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[rW.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Qn([ma.config({})])}),YT.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:ne.selectFirst,tabSectionBehaviours:Qn([Fs("tabpanel",ne.extraEvents),Xo.config({mode:"acyclic"}),an.config({find:he=>_t(YT.getViewItems(he))}),E_(ee.none(),he=>(he.getSystem().broadcastOn([fY],{}),E.get()),(he,ve)=>{E.set(ve),he.getSystem().broadcastOn([pY],{})})])})},mY=(s,l,h,g,E,O)=>{const I=ne=>{const he=ne.body;switch(he.type){case"tabpanel":return[Rfe(he,ne.initialData,g,O)];default:return[uY(he,ne.initialData,g,O)]}},q=(ne,he)=>ee.some({isTabPanel:()=>he.body.type==="tabpanel"}),Y={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...h.map(ne=>({id:ne})).getOr({}),...E?Y:{}}},components:[],behaviours:Qn([Sb.childAt(0),dm.config({channel:`${wq}-${l}`,updateState:q,renderComponents:I,initialData:s})])}},kfe=(s,l,h,g,E,O)=>mY(s,l,ee.some(h),g,E,O),QU=(s,l,h,g)=>{const E=mY(s,l,ee.none(),h,!1,g);return jc.parts.body(E)},Dfe=s=>{const l={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[yq(ee.none(),{dom:{tag:"iframe",attributes:{src:s.url}},behaviours:Qn([ma.config({}),Hs.config({})])})]}],behaviours:Qn([Xo.config({mode:"acyclic",useTabstopAt:De(GR)})])};return jc.parts.body(l)},Mfe=XT.deviceType.isTouch(),gY=(s,l)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[s,l]}),vY=(s,l)=>jc.parts.close(gd.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":l.translate("Close")}},action:s,buttonBehaviours:Qn([ma.config({})])})),bY=()=>jc.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),yY=(s,l)=>jc.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:J1(`<p>${KW(l.translate(s))}</p>`)}]}]}),SY=s=>jc.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:s}),CY=(s,l)=>[xy.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:s}),xy.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:l})],vL=s=>{const l="tox-dialog",h=l+"-wrap",g=h+"__backdrop",E=l+"__disable-scroll";return jc.sketch({lazySink:s.lazySink,onEscape:O=>(s.onEscape(O),ee.some(!0)),useTabstopAt:O=>!GR(O),firstTabstop:s.firstTabstop,dom:{tag:"div",classes:[l].concat(s.extraClasses),styles:{position:"relative",...s.extraStyles}},components:[s.header,s.body,...s.footer.toArray()],parts:{blocker:{dom:J1(`<div class="${h}"></div>`),components:[{dom:{tag:"div",classes:Mfe?[g,g+"--opaque"]:[g]}}]}},dragBlockClass:h,modalBehaviours:Qn([Hs.config({}),Fs("dialog-events",s.dialogEvents.concat([R1(bf(),(O,I)=>{Ln.isBlocked(O)?re():Xo.focusIn(O)}),dn(h0(),(O,I)=>{O.getSystem().broadcastOn([RN],{newFocus:I.event.newFocus})})])),Fs("scroll-lock",[Ea(()=>{Ei(Ld(),E)}),ev(()=>{ai(Ld(),E)})]),...s.extraBehaviours]),eventOrder:{[au()]:["dialog-events"],[tm()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[qg()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...s.eventOrder}})},e5=s=>gd.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Qn([ma.config({}),ga.config(s.tooltips.getConfig({tooltipText:s.translate("Close")}))]),components:[rg("close",{tag:"span",classes:["tox-icon"]},s.icons)],action:l=>{Cr(l,YC)}}),EY=(s,l,h,g)=>{const E=O=>[pa(g.translate(O.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...h.map(O=>({id:O})).getOr({})}},components:[],behaviours:Qn([dm.config({channel:`${Eq}-${l}`,initialData:s,renderComponents:E})])}},Ox=()=>({dom:J1('<div class="tox-dialog__draghandle"></div>')}),Pfe=(s,l,h,g)=>xy.sketch({dom:J1('<div class="tox-dialog__header"></div>'),components:[EY(s,l,ee.some(h),g),Ox(),e5(g)],containerBehaviours:Qn([zw.config({mode:"mouse",blockerClass:"blocker",getTarget:E=>gl(E,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(E,O)=>{E.getSystem().broadcastOn([pd()],{target:O})}})])}),Nfe=(s,l,h)=>{const g=jc.parts.title(EY(s,l,ee.none(),h)),E=jc.parts.draghandle(Ox()),O=jc.parts.close(e5(h)),I=[g].concat(s.draggable?[E]:[]).concat([O]);return xy.sketch({dom:J1('<div class="tox-dialog__header"></div>'),components:I})},bL=(s,l,h)=>Nfe({title:h.shared.providers.translate(s),draggable:h.dialog.isDraggableModal()},l,h.shared.providers),wY=(s,l,h,g)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":h.translate(s)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${g.getOr(0)}px`,position:"absolute"}},behaviours:l,components:[{dom:J1('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),_Y=(s,l,h)=>({onClose:()=>h.closeWindow(),onBlock:g=>{const E=oi(s().element,".tox-dialog__header").map(O=>Cl(O));jc.setBusy(s(),(O,I)=>wY(g.message,I,l,E))},onUnblock:()=>{jc.setIdle(s())}}),AY="tox-dialog--fullscreen",t5="tox-dialog--width-lg",n5="tox-dialog--width-md",yL=s=>{switch(s){case"large":return ee.some(t5);case"medium":return ee.some(n5);default:return ee.none()}},TY=(s,l)=>{const h=to.fromDom(l.element.dom);qa(h,AY)||(xc(h,[t5,n5]),yL(s).each(g=>Ei(h,g)))},xY=(s,l)=>{const h=to.fromDom(s.element.dom),g=h1(h),E=kt(g,O=>O===t5||O===n5).or(yL(l));Pu(h,[AY,...E.toArray()])},OY=(s,l,h)=>k(vL({...s,firstTabstop:1,lazySink:h.shared.getSink,extraBehaviours:[TN({}),...s.extraBehaviours],onEscape:g=>{Cr(g,YC)},dialogEvents:l,eventOrder:{[Qp()]:[dm.name(),um.name()],[tm()]:["scroll-lock",dm.name(),"messages","dialog-events","alloy.base.behaviour"],[qg()]:["alloy.base.behaviour","dialog-events","messages",dm.name(),"scroll-lock"]}})),o5=(s,l={})=>{const h=g=>{const E=qt(g.items,O=>{const I=Zt(l,O.name).getOr(wn(!1));return{...O,storage:I}});return{...g,items:E}};return qt(s,g=>g.type==="menu"?h(g):g)},IY=s=>Is(s,(l,h)=>h.type==="menu"?Is(h.items,(E,O)=>(E[O.name]=O.storage,E),l):l,{}),RY=(s,l)=>[O1(bf(),Cq),s(WR,(h,g,E,O)=>{Nh(O.element)&&Wl(ta(O.element)).each(pr),l.onClose(),g.onClose()}),s(YC,(h,g,E,O)=>{g.onCancel(h),Cr(O,WR)}),dn(sq,(h,g)=>l.onUnblock()),dn(_N,(h,g)=>l.onBlock(g.event))],Lfe=(s,l)=>{const h=(E,O)=>dn(E,(I,q)=>{g(I,(Y,ne)=>{O(s(),Y,q.event,I)})}),g=(E,O)=>{dm.getState(E).get().each(I=>{O(I,E)})};return[...RY(h,l),h(M0,(E,O,I)=>{O.onAction(E,{name:I.name})})]},kY=(s,l,h)=>{const g=(O,I)=>dn(O,(q,Y)=>{E(q,(ne,he)=>{I(s(),ne,Y.event,q)})}),E=(O,I)=>{dm.getState(O).get().each(q=>{I(q.internalDialog,O)})};return[...RY(g,l),g(mx,(O,I)=>I.onSubmit(O)),g(_p,(O,I,q)=>{I.onChange(O,{name:q.name})}),g(M0,(O,I,q,Y)=>{const ne=()=>Y.getSystem().isConnected()?Xo.focusIn(Y):void 0,he=ze=>Dl(ze,"disabled")||nr(ze,"aria-disabled").exists(Ge=>Ge==="true"),ve=ta(Y.element),Re=Wl(ve);I.onAction(O,{name:q.name,value:q.value}),Wl(ve).fold(ne,ze=>{he(ze)||Re.exists(Ge=>Le(ze,Ge)&&he(Ge))?ne():h().toOptional().filter(Ge=>!Le(Ge.element,ze)).each(ne)})}),g(gx,(O,I,q)=>{I.onTabChange(O,{newTabName:q.name,oldTabName:q.oldName})}),ev(O=>{const I=s();po.setValue(O,I.getData())})]},Bfe=(s,l)=>H$(s,s.type,l),Vfe=(s,l,h)=>kt(l,g=>g.name===h).bind(g=>g.memento.getOpt(s)),Ffe=(s,l)=>{const h=l.map(q=>q.footerButtons).getOr([]),g=br(h,q=>q.align==="start"),E=(q,Y)=>xy.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${q}`]},components:qt(Y,ne=>ne.memento.asSpec())}),O=E("start",g.pass),I=E("end",g.fail);return[O,I]},d2=(s,l,h)=>{const g=(E,O)=>{const I=qt(O.buttons,Y=>{const ne=di(Bfe(Y,h));return{name:Y.name,align:Y.align,memento:ne}}),q=Y=>Vfe(E,I,Y);return ee.some({lookupByName:q,footerButtons:I})};return{dom:J1('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Qn([dm.config({channel:`${_q}-${l}`,initialData:s,updateState:g,renderComponents:Ffe})])}},Hfe=(s,l,h)=>d2(s,l,h),DY=(s,l,h)=>jc.parts.footer(d2(s,l,h)),SL=(s,l)=>{if(s.getRoot().getSystem().isConnected()){const g=an.getCurrent(s.getFormWrapper()).getOr(s.getFormWrapper());return PC.getField(g,l).orThunk(()=>s.getFooter().bind(I=>dm.getState(I).get()).bind(I=>I.lookupByName(l)))}else return ee.none()},$fe=(s,l)=>{const h=s.getRoot();return dm.getState(h).get().map(g=>cp(ka("data",g.dataValidator,l))).getOr(l)},MY=(s,l,h)=>{const g=Ge=>{const et=s.getRoot();et.getSystem().isConnected()&&Ge(et)},ze={getData:()=>{const Ge=s.getRoot(),et=Ge.getSystem().isConnected()?s.getFormWrapper():Ge,ft=po.getValue(et),Je=ys(h,yt=>yt.get());return{...ft,...Je}},setData:Ge=>{g(et=>{const ft=ze.getData(),Je=Kr(ft,Ge),yt=$fe(s,Je),At=s.getFormWrapper();po.setValue(At,yt),Ps(h,(Xt,en)=>{Zn(Je,en)&&Xt.set(Je[en])})})},setEnabled:(Ge,et)=>{SL(s,Ge).each(et?Yo.enable:Yo.disable)},focus:Ge=>{SL(s,Ge).each(Hs.focus)},block:Ge=>{if(!v(Ge))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");g(et=>{cs(et,_N,{message:Ge})})},unblock:()=>{g(Ge=>{Cr(Ge,sq)})},showTab:Ge=>{g(et=>{const ft=s.getBody();dm.getState(ft).get().exists(yt=>yt.isTabPanel())&&an.getCurrent(ft).each(yt=>{YT.showTab(yt,Ge)})})},redial:Ge=>{g(et=>{const ft=s.getId(),Je=l(Ge),yt=o5(Je.internalDialog.buttons,h);et.getSystem().broadcastOn([`${IN}-${ft}`],Je),et.getSystem().broadcastOn([`${Eq}-${ft}`],Je.internalDialog),et.getSystem().broadcastOn([`${wq}-${ft}`],Je.internalDialog),et.getSystem().broadcastOn([`${_q}-${ft}`],{...Je.internalDialog,buttons:yt}),ze.setData(Je.initialData)})},close:()=>{g(Ge=>{Cr(Ge,WR)})},toggleFullscreen:s.toggleFullscreen};return ze},Ufe=(s,l,h)=>{const g=uo("dialog"),E=s.internalDialog,O=bL(E.title,g,h),I=wn(E.size),q=At=>SL(Je,At),Y=yL(I.get()).toArray(),ne=(At,Xt)=>(I.set(Xt.internalDialog.size),TY(Xt.internalDialog.size,At),ee.some(Xt)),he=QU({body:E.body,initialData:E.initialData},g,h,q),ve=o5(E.buttons),Re=IY(ve),ze=ol(ve.length!==0,DY({buttons:ve},g,h)),Ge=kY(()=>yt,_Y(()=>ft,h.shared.providers,l),h.shared.getSink),et={id:g,header:O,body:he,footer:ze,extraClasses:Y,extraBehaviours:[dm.config({channel:`${IN}-${g}`,updateState:ne,initialData:s})],extraStyles:{}},ft=OY(et,Ge,h),Je=(()=>{const At=()=>{const en=jc.getBody(ft);return an.getCurrent(en).getOr(en)},Xt=()=>{xY(ft,I.get())};return{getId:F(g),getRoot:F(ft),getBody:()=>jc.getBody(ft),getFooter:()=>jc.getFooter(ft),getFormWrapper:At,toggleFullscreen:Xt}})(),yt=MY(Je,l.redial,Re);return{dialog:ft,instanceApi:yt}},s5=(s,l,h,g=!1,E)=>{const O=uo("dialog"),I=uo("dialog-label"),q=uo("dialog-content"),Y=s.internalDialog,ne=Vn=>SL(kn,Vn),he=wn(Y.size),ve=yL(he.get()).toArray(),Re=(Vn,ds)=>(he.set(ds.internalDialog.size),TY(ds.internalDialog.size,Vn),E(),ee.some(ds)),ze=di(Pfe({title:Y.title,draggable:!0},O,I,h.shared.providers)),Ge=di(kfe({body:Y.body,initialData:Y.initialData},O,q,h,g,ne)),et=o5(Y.buttons),ft=IY(et),Je=ol(et.length!==0,di(Hfe({buttons:et},O,h))),yt=kY(()=>zn,{onBlock:Vn=>{Ln.block(en,(ds,Wo)=>{const Ir=ze.getOpt(en).map(Es=>Cl(Es.element));return wY(Vn.message,Wo,h.shared.providers,Ir)})},onUnblock:()=>{Ln.unblock(en)},onClose:()=>l.closeWindow()},h.shared.getSink),At="tox-dialog-inline",Xt=ji().os,en=k({dom:{tag:"div",classes:["tox-dialog",At,...ve],attributes:{role:"dialog",...Xt.isMacOS()?{"aria-label":Y.title}:{"aria-labelledby":I}}},eventOrder:{[Qp()]:[dm.name(),um.name()],[au()]:["execute-on-form"],[tm()]:["reflecting","execute-on-form"]},behaviours:Qn([Xo.config({mode:"cyclic",onEscape:Vn=>(Cr(Vn,WR),ee.some(!0)),useTabstopAt:Vn=>!GR(Vn)&&(tu(Vn)!=="button"||fl(Vn,"disabled")!=="disabled"),firstTabstop:1}),dm.config({channel:`${IN}-${O}`,updateState:Re,initialData:s}),Hs.config({}),Fs("execute-on-form",yt.concat([R1(bf(),(Vn,ds)=>{Xo.focusIn(Vn)}),dn(h0(),(Vn,ds)=>{Vn.getSystem().broadcastOn([RN],{newFocus:ds.event.newFocus})})])),Ln.config({getRoot:()=>ee.some(en)}),js.config({}),TN({})]),components:[ze.asSpec(),Ge.asSpec(),...Je.map(Vn=>Vn.asSpec()).toArray()]}),ro=()=>{xY(en,he.get())},kn={getId:F(O),getRoot:F(en),getFooter:()=>Je.map(Vn=>Vn.get(en)),getBody:()=>Ge.get(en),getFormWrapper:()=>{const Vn=Ge.get(en);return an.getCurrent(Vn).getOr(Vn)},toggleFullscreen:ro},zn=MY(kn,l.redial,ft);return{dialog:en,instanceApi:zn}};var r5=tinymce.util.Tools.resolve("tinymce.util.URI");const zfe=s=>{const l=I=>{s.getSystem().isConnected()&&I(s)};return{block:I=>{if(!v(I))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(q=>{cs(q,_N,{message:I})})},unblock:()=>{l(I=>{Cr(I,sq)})},close:()=>{l(I=>{Cr(I,WR)})},sendMessage:I=>{l(q=>{q.getSystem().broadcastOn([Aq],I)})}}},jfe=["insertContent","setContent","execCommand","close","block","unblock"],PY=s=>S(s)&&jfe.indexOf(s.mceAction)!==-1,Wfe=s=>!PY(s)&&S(s)&&Zn(s,"mceAction"),i5=(s,l,h)=>{switch(h.mceAction){case"insertContent":s.insertContent(h.content);break;case"setContent":s.setContent(h.content);break;case"execCommand":const g=B(h.ui)?h.ui:!1;s.execCommand(h.cmd,g,h.value);break;case"close":l.close();break;case"block":l.block(h.message);break;case"unblock":l.unblock();break}},NY=(s,l,h,g)=>{const E=uo("dialog"),O=bL(s.title,E,g),I=Dfe(s),q=s.buttons.bind(At=>At.length===0?ee.none():ee.some(DY({buttons:At},E,g))),Y=Lfe(()=>yt,_Y(()=>Je,g.shared.providers,l)),ne={...s.height.fold(()=>({}),At=>({height:At+"px","max-height":At+"px"})),...s.width.fold(()=>({}),At=>({width:At+"px","max-width":At+"px"}))},he=s.width.isNone()&&s.height.isNone()?["tox-dialog--width-lg"]:[],ve=new r5(s.url,{base_uri:new r5(window.location.href)}),Re=`${ve.protocol}://${ve.host}${ve.port?":"+ve.port:""}`,ze=ea(),Ge=(At,Xt)=>ee.some(Xt),et=[dm.config({channel:`${IN}-${E}`,updateState:Ge,initialData:s}),Fs("messages",[Ea(()=>{const At=ti(to.fromDom(window),"message",Xt=>{if(ve.isSameOrigin(new r5(Xt.raw.origin))){const en=Xt.raw.data;PY(en)?i5(h,yt,en):Wfe(en)&&s.onMessage(yt,en)}});ze.set(At)}),ev(ze.clear)]),um.config({channels:{[Aq]:{onReceive:(At,Xt)=>{oi(At.element,"iframe").each(en=>{const ro=en.dom.contentWindow;H(ro)&&ro.postMessage(Xt,Re)})}}}})],Je=OY({id:E,header:O,body:I,footer:q,extraClasses:he,extraBehaviours:et,extraStyles:ne},Y,g),yt=zfe(Je);return{dialog:Je,instanceApi:yt}},Gfe=s=>{const l=s.shared;return{open:(g,E)=>{const O=()=>{jc.hide(ne),E()},I=di(H$({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:ee.some("primary"),align:"end",enabled:!0,icon:ee.none()},"cancel",s)),q=bY(),Y=vY(O,l.providers),ne=k(vL({lazySink:()=>l.getSink(),header:gY(q,Y),body:yY(g,l.providers),footer:ee.some(SY(CY([],[I.asSpec()]))),onEscape:O,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[dn(YC,O)],eventOrder:{}}));jc.show(ne);const he=I.get(ne);Hs.focus(he)}}},qfe=s=>{const l=s.shared;return{open:(g,E)=>{const O=Re=>{jc.hide(he),E(Re)},I=di(H$({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:ee.some("primary"),align:"end",enabled:!0,icon:ee.none()},"submit",s)),q=H$({context:"any",name:"no",text:"No",primary:!1,buttonType:ee.some("secondary"),align:"end",enabled:!0,icon:ee.none()},"cancel",s),Y=bY(),ne=vY(()=>O(!1),l.providers),he=k(vL({lazySink:()=>l.getSink(),header:gY(Y,ne),body:yY(g,l.providers),footer:ee.some(SY(CY([],[q,I.asSpec()]))),onEscape:()=>O(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[dn(YC,()=>O(!1)),dn(mx,()=>O(!0))],eventOrder:{}}));jc.show(he);const ve=I.get(he);Hs.focus(ve)}}},LY=(s,l)=>cp(ka("data",l,s)),BY=s=>Xb(s,".tox-alert-dialog")||Xb(s,".tox-confirm-dialog"),Zfe=(s,l,h,g)=>l&&h?[]:[Ja.config({contextual:{lazyContext:()=>ee.some(Pl(to.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:g},modes:["top"],lazyViewport:E=>HC(s,E.element).map(I=>({bounds:Qw(I),optScrollEnv:ee.some({currentScrollTop:I.element.dom.scrollTop,scrollElmTop:Lc(I.element).top})})).getOrThunk(()=>({bounds:Bu(),optScrollEnv:ee.none()}))})],Kfe=s=>{const l=s.editor,h=ex(l),g=Gfe(s.backstages.dialog),E=qfe(s.backstages.dialog),O=(Ge,et,ft)=>{if(!z(et)){if(et.inline==="toolbar")return ne(Ge,s.backstages.popup.shared.anchors.inlineDialog(),ft,et);if(et.inline==="bottom")return he(Ge,s.backstages.popup.shared.anchors.inlineBottomDialog(),ft,et);if(et.inline==="cursor")return ne(Ge,s.backstages.popup.shared.anchors.cursor(),ft,et)}return Y(Ge,ft)},I=(Ge,et)=>q(Ge,et),q=(Ge,et)=>{const ft=Je=>{const yt=NY(Je,{closeWindow:()=>{jc.hide(yt.dialog),et(yt.instanceApi)}},l,s.backstages.dialog);return jc.show(yt.dialog),yt.instanceApi};return f_.openUrl(ft,Ge)},Y=(Ge,et)=>{const ft=(Je,yt,At)=>{const Xt=yt,ro=Ufe({dataValidator:At,initialData:Xt,internalDialog:Je},{redial:f_.redial,closeWindow:()=>{jc.hide(ro.dialog),et(ro.instanceApi)}},s.backstages.dialog);return jc.show(ro.dialog),ro.instanceApi.setData(Xt),ro.instanceApi};return f_.open(ft,Ge)},ne=(Ge,et,ft,Je)=>{const yt=(At,Xt,en)=>{const ro=LY(Xt,en),kn=ms(),zn=s.backstages.popup.shared.header.isPositionedAtTop(),Vn={dataValidator:en,initialData:ro,internalDialog:At},ds=()=>kn.on(In=>{Qa.reposition(In),(!h||!zn)&&Ja.refresh(In)}),Wo=s5(Vn,{redial:f_.redial,closeWindow:()=>{kn.on(Qa.hide),l.off("ResizeEditor",ds),l.off("ScrollWindow",Ir),kn.clear(),ft(Wo.instanceApi)}},s.backstages.popup,Je.ariaAttrs,ds),Ir=()=>Wo.dialog.getSystem().broadcastOn([pd()],{target:Wo.dialog.element}),Es=()=>Wo.dialog.getSystem().broadcastOn([Cy()],{target:Wo.dialog.element}),Qs=k(Qa.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Je.persistent?{event:"doNotDismissYet"}:{},...zn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Qn([Fs("window-manager-inline-events",[dn(Zg(),(In,no)=>{Cr(Wo.dialog,YC)})]),...Zfe(l,h,zn,Es)]),isExtraPart:(In,no)=>BY(no)}));kn.set(Qs);const zo=()=>{const In=l.inline?Ld():to.fromDom(l.getContainer()),no=Pl(In);return ee.some(no)};return Qa.showWithinBounds(Qs,W(Wo.dialog),{anchor:et},zo),(!h||!zn)&&(Ja.refresh(Qs),l.on("ResizeEditor",ds)),l.on("ScrollWindow",Ir),Wo.instanceApi.setData(ro),Xo.focusIn(Wo.dialog),Wo.instanceApi};return f_.open(yt,Ge)},he=(Ge,et,ft,Je)=>{const yt=(At,Xt,en)=>{const ro=LY(Xt,en),kn=ms(),zn=s.backstages.popup.shared.header.isPositionedAtTop(),Vn={dataValidator:en,initialData:ro,internalDialog:At},ds=()=>kn.on(Qs=>{Qa.reposition(Qs),Ja.refresh(Qs)}),Wo=s5(Vn,{redial:f_.redial,closeWindow:()=>{kn.on(Qa.hide),l.off("ResizeEditor ScrollWindow ElementScroll",ds),kn.clear(),ft(Wo.instanceApi)}},s.backstages.popup,Je.ariaAttrs,ds),Ir=k(Qa.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Je.persistent?{event:"doNotDismissYet"}:{},...zn?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Qn([Fs("window-manager-inline-events",[dn(Zg(),(Qs,zo)=>{Cr(Wo.dialog,YC)})]),Ja.config({contextual:{lazyContext:()=>ee.some(Pl(to.fromDom(l.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Qs=>HC(l,Qs.element).map(In=>({bounds:Qw(In),optScrollEnv:ee.some({currentScrollTop:In.element.dom.scrollTop,scrollElmTop:Lc(In.element).top})})).getOrThunk(()=>({bounds:Bu(),optScrollEnv:ee.none()}))})]),isExtraPart:(Qs,zo)=>BY(zo)}));kn.set(Ir);const Es=()=>s.backstages.popup.shared.getSink().toOptional().bind(Qs=>{const zo=HC(l,Qs.element),In=15,no=zo.map(Jo=>Qw(Jo)).getOr(Bu()),xs=Pl(to.fromDom(l.getContentAreaContainer())),er=Vd(xs,no);return ee.some(jr(er.x,er.y,er.width,er.height-In))});return Qa.showWithinBounds(Ir,W(Wo.dialog),{anchor:et},Es),Ja.refresh(Ir),l.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",ds),Wo.instanceApi.setData(ro),Xo.focusIn(Wo.dialog),Wo.instanceApi};return f_.open(yt,Ge)};return{open:O,openUrl:I,alert:(Ge,et)=>{g.open(Ge,et)},close:Ge=>{Ge.close()},confirm:(Ge,et)=>{E.open(Ge,et)}}},Yfe=s=>{lW(s),n$(s),qK(s)};var Xfe=()=>{nie.add("silver",s=>{Yfe(s);let l=()=>Bu();const{dialogs:h,popups:g,renderUI:E}=Afe(s,{getPopupSinkBounds:()=>l()}),O=()=>{const he=E();return HC(s,g.getMothership().element).each(Re=>{l=()=>Qw(Re)}),he};tq.register(s,g.backstage.shared);const I=Kfe({editor:s,backstages:{popup:g.backstage,dialog:h.backstage}}),q=ms(),Y=()=>wie(s,{backstage:g.backstage},g.getMothership(),q),ne=()=>oi(to.fromDom(s.getContainer()),".tox-promotion").map(he=>he.dom).getOrNull();return{renderUI:O,getWindowManagerImpl:F(I),getNotificationManagerImpl:Y,getPromotionElement:ne}})};Xfe()})()),_Ie}var TIe;function gXe(){return TIe||(TIe=1,mXe()),wIe}gXe();var xIe={},OIe;function vXe(){return OIe||(OIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const n=(b,w,k)=>k(b,w.prototype)?!0:b.constructor?.name===w.name,o=b=>{const w=typeof b;return b===null?"null":w==="object"&&Array.isArray(b)?"array":w==="object"&&n(b,String,(k,W)=>W.isPrototypeOf(k))?"string":w},i=b=>w=>o(w)===b,c=b=>w=>typeof w===b,d=b=>w=>b===w,p=i("string"),v=i("object"),S=i("array"),_=d(null),x=c("boolean"),P=d(void 0),B=b=>b==null,z=b=>!B(b),U=c("function"),H=c("number"),K=()=>{},oe=(b,w)=>(...k)=>b(w.apply(null,k)),ce=(b,w)=>k=>b(w(k)),re=b=>()=>b,ye=b=>b,_e=(b,w)=>b===w;function Oe(b,...w){return(...k)=>{const W=w.concat(k);return b.apply(null,W)}}const F=b=>w=>!b(w),Me=b=>()=>{throw new Error(b)},ot=b=>b(),Fe=re(!1),De=re(!0);class we{tag;value;static singletonNone=new we(!1);constructor(w,k){this.tag=w,this.value=k}static some(w){return new we(!0,w)}static none(){return we.singletonNone}fold(w,k){return this.tag?k(this.value):w()}isSome(){return this.tag}isNone(){return!this.tag}map(w){return this.tag?we.some(w(this.value)):we.none()}bind(w){return this.tag?w(this.value):we.none()}exists(w){return this.tag&&w(this.value)}forall(w){return!this.tag||w(this.value)}filter(w){return!this.tag||w(this.value)?this:we.none()}getOr(w){return this.tag?this.value:w}or(w){return this.tag?this:w}getOrThunk(w){return this.tag?this.value:w()}orThunk(w){return this.tag?this:w()}getOrDie(w){if(this.tag)return this.value;throw new Error(w??"Called getOrDie on None")}static from(w){return z(w)?we.some(w):we.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(w){this.tag&&w(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const ct=Array.prototype.slice,rt=Array.prototype.indexOf,gt=Array.prototype.push,ee=(b,w)=>rt.call(b,w),on=(b,w)=>ee(b,w)>-1,nt=(b,w)=>{for(let k=0,W=b.length;k<W;k++){const se=b[k];if(w(se,k))return!0}return!1},Mt=(b,w)=>{const k=[];for(let W=0;W<b;W++)k.push(w(W));return k},Pt=(b,w)=>{const k=b.length,W=new Array(k);for(let se=0;se<k;se++){const pe=b[se];W[se]=w(pe,se)}return W},st=(b,w)=>{for(let k=0,W=b.length;k<W;k++){const se=b[k];w(se,k)}},vn=(b,w)=>{for(let k=b.length-1;k>=0;k--){const W=b[k];w(W,k)}},To=(b,w)=>{const k=[],W=[];for(let se=0,pe=b.length;se<pe;se++){const Te=b[se];(w(Te,se)?k:W).push(Te)}return{pass:k,fail:W}},Nn=(b,w)=>{const k=[];for(let W=0,se=b.length;W<se;W++){const pe=b[W];w(pe,W)&&k.push(pe)}return k},ho=(b,w,k)=>(vn(b,(W,se)=>{k=w(k,W,se)}),k),qt=(b,w,k)=>(st(b,(W,se)=>{k=w(k,W,se)}),k),Tn=(b,w,k)=>{for(let W=0,se=b.length;W<se;W++){const pe=b[W];if(w(pe,W))return we.some(pe);if(k(pe,W))break}return we.none()},Se=(b,w)=>Tn(b,w,Fe),br=(b,w)=>{for(let k=0,W=b.length;k<W;k++){const se=b[k];if(w(se,k))return we.some(k)}return we.none()},ws=b=>{const w=[];for(let k=0,W=b.length;k<W;++k){if(!S(b[k]))throw new Error("Arr.flatten item "+k+" was not an array, input: "+b);gt.apply(w,b[k])}return w},as=(b,w)=>ws(Pt(b,w)),Is=(b,w)=>{for(let k=0,W=b.length;k<W;++k){const se=b[k];if(w(se,k)!==!0)return!1}return!0},oo=b=>{const w=ct.call(b,0);return w.reverse(),w},kt=(b,w)=>{const k={};for(let W=0,se=b.length;W<se;W++){const pe=b[W];k[String(pe)]=w(pe,W)}return k},bn=(b,w)=>{const k=ct.call(b,0);return k.sort(w),k},mn=(b,w)=>w>=0&&w<b.length?we.some(b[w]):we.none(),Ze=b=>mn(b,0),mt=b=>mn(b,b.length-1),Dt=(b,w)=>{for(let k=0;k<b.length;k++){const W=w(b[k],k);if(W.isSome())return W}return we.none()},je=Object.keys,Lt=Object.hasOwnProperty,Kt=(b,w)=>{const k=je(b);for(let W=0,se=k.length;W<se;W++){const pe=k[W],Te=b[pe];w(Te,pe)}},rn=(b,w)=>Ht(b,(k,W)=>({k:W,v:w(k,W)})),Ht=(b,w)=>{const k={};return Kt(b,(W,se)=>{const pe=w(W,se);k[pe.k]=pe.v}),k},_t=b=>(w,k)=>{b[k]=w},go=(b,w,k,W)=>{Kt(b,(se,pe)=>{(w(se,pe)?k:W)(se,pe)})},Mo=(b,w)=>{const k={};return go(b,w,_t(k),K),k},Ko=(b,w)=>{const k=[];return Kt(b,(W,se)=>{k.push(w(W,se))}),k},Io=b=>Ko(b,ye),bs=(b,w)=>Ps(b,w)?we.from(b[w]):we.none(),Ps=(b,w)=>Lt.call(b,w),ys=(b,w)=>Ps(b,w)&&b[w]!==void 0&&b[w]!==null,Zs=b=>{for(const w in b)if(Lt.call(b,w))return!1;return!0},bt={generate:b=>{if(!S(b))throw new Error("cases must be an array");if(b.length===0)throw new Error("there must be at least one case");const w=[],k={};return st(b,(W,se)=>{const pe=je(W);if(pe.length!==1)throw new Error("one and only one name per case");const Te=pe[0],He=W[Te];if(k[Te]!==void 0)throw new Error("duplicate key detected:"+Te);if(Te==="cata")throw new Error("cannot have a case named cata (sorry)");if(!S(He))throw new Error("case arguments must be an array");w.push(Te),k[Te]=(...Ye)=>{const vt=Ye.length;if(vt!==He.length)throw new Error("Wrong number of arguments to case "+Te+". Expected "+He.length+" ("+He+"), got "+vt);return{fold:(...Ln)=>{if(Ln.length!==b.length)throw new Error("Wrong number of arguments to fold. Expected "+b.length+", got "+Ln.length);return Ln[se].apply(null,Ye)},match:Ln=>{const fo=je(Ln);if(w.length!==fo.length)throw new Error("Wrong number of arguments to match. Expected: "+w.join(",")+`
Actual: `+fo.join(","));if(!Is(w,ss=>on(fo,ss)))throw new Error("Not all branches were specified when using match. Specified: "+fo.join(", ")+`
Required: `+w.join(", "));return Ln[Te].apply(null,Ye)},log:Ln=>{console.log(Ln,{constructors:w,constructor:Te,params:Ye})}}}}),k}},Vt=b=>{let w=b;return{get:()=>w,set:se=>{w=se}}},Jt=b=>b.slice(0).sort(),jt=(b,w)=>{throw new Error("All required keys ("+Jt(b).join(", ")+") were not specified. Specified keys were: "+Jt(w).join(", ")+".")},wo=b=>{throw new Error("Unsupported keys for object: "+Jt(b).join(", "))},Jn=(b,w)=>{if(!S(w))throw new Error("The "+b+" fields must be an array. Was: "+w+".");st(w,k=>{if(!p(k))throw new Error("The value "+k+" in the "+b+" fields was not a string.")})},Zt=(b,w)=>{throw new Error("All values need to be of type: "+w+". Keys ("+Jt(b).join(", ")+") were not.")},Zn=b=>{const w=Jt(b);Se(w,(W,se)=>se<w.length-1&&W===w[se+1]).each(W=>{throw new Error("The field: "+W+" occurs more than once in the combined fields: ["+w.join(", ")+"].")})},eo=(b,w)=>jo(b,w,{validate:U,label:"function"}),jo=(b,w,k)=>{if(w.length===0)throw new Error("You must specify at least one required field.");return Jn("required",w),Zn(w),W=>{const se=je(W);Is(w,He=>on(se,He))||jt(w,se),b(w,se);const Te=Nn(w,He=>!k.validate(W[He],He));return Te.length>0&&Zt(Te,k.label),W}},Ho=(b,w)=>{const k=Nn(w,W=>!on(b,W));k.length>0&&wo(k)},wn=b=>eo(Ho,b),Vr=b=>{const w=pe=>pe(b),k=re(b),W=()=>se,se={tag:!0,inner:b,fold:(pe,Te)=>Te(b),isValue:De,isError:Fe,map:pe=>ya.value(pe(b)),mapError:W,bind:w,exists:w,forall:w,getOr:k,or:W,getOrThunk:k,orThunk:W,getOrDie:k,each:pe=>{pe(b)},toOptional:()=>we.some(b)};return se},Ws=b=>{const w=()=>k,k={tag:!1,inner:b,fold:(W,se)=>W(b),isValue:Fe,isError:De,map:w,mapError:W=>ya.error(W(b)),bind:w,exists:Fe,forall:De,getOr:ye,or:ye,getOrThunk:ot,orThunk:ot,getOrDie:Me(String(b)),each:K,toOptional:we.none};return k},ya={value:Vr,error:Ws,fromOption:(b,w)=>b.fold(()=>Ws(w),Vr)},Ni=typeof window<"u"?window:Function("return this;")(),sr=b=>{const w=b.replace(/\./g,"-");return{resolve:W=>w+"-"+W}},ts=(b,w,k=_e)=>b.exists(W=>k(W,w)),ps=b=>{const w=[],k=W=>{w.push(W)};for(let W=0;W<b.length;W++)b[W].each(k);return w},ul=(b,w)=>b!=null?w(b):we.none(),Dc=(b,w)=>b?we.some(w):we.none(),Fl=(b,w)=>{let k=w??Ni;for(let W=0;W<b.length&&k!==void 0&&k!==null;++W)k=k[b[W]];return k},$o=(b,w)=>{const k=b.split(".");return Fl(k,w)},Jl=b=>{const w=Vt(we.none()),k=()=>w.get().each(b);return{clear:()=>{k(),w.set(we.none())},isSet:()=>w.get().isSome(),get:()=>w.get(),set:He=>{k(),w.set(we.some(He))}}},nl=()=>{const b=Jl(K);return{...b,on:k=>b.get().each(k)}},Zf=(b,w)=>b.substring(w),Hl=(b,w,k)=>w===""||b.length>=w.length&&b.substr(k,k+w.length)===w,xd=(b,w)=>Aa(b,w)?Zf(b,w.length):b,Fr=(b,w,k=0,W)=>{const se=b.indexOf(w,k);return se!==-1?P(W)?!0:se+w.length<=W:!1},Aa=(b,w)=>Hl(b,w,0),Od=(b,w)=>Hl(b,w,b.length-w.length),Yc=(b=>w=>w.replace(b,""))(/^\s+|\s+$/g),dl=b=>b.length>0,Qu=b=>{const w=parseFloat(b);return isNaN(w)?we.none():we.some(w)},Id=(b,w)=>{let k=null;const W=()=>{_(k)||(clearTimeout(k),k=null)};return{cancel:W,throttle:(...pe)=>{W(),k=setTimeout(()=>{k=null,b.apply(null,pe)},w)}}},uo=b=>{let w=!1,k;return(...W)=>(w||(w=!0,k=b.apply(null,W)),k)},Kf="",eh=["tfoot","thead","tbody","colgroup"],Th=b=>on(eh,b),Kr=(b,w)=>({rows:b,columns:w}),xh=(b,w)=>({row:b,column:w}),Mc=(b,w,k)=>({element:b,rowspan:w,colspan:k}),wr=(b,w,k,W)=>({element:b,rowspan:w,colspan:k,isNew:W}),Au=(b,w,k,W,se,pe)=>({element:b,rowspan:w,colspan:k,row:W,column:se,isLocked:pe}),th=(b,w,k)=>({element:b,cells:w,section:k}),wc=(b,w,k,W)=>({element:b,cells:w,section:k,isNew:W}),Li=(b,w,k)=>({element:b,isNew:w,isLocked:k}),hc=(b,w,k,W)=>({element:b,cells:w,section:k,isNew:W}),ol=(b,w,k,W)=>({startRow:b,startCol:w,finishRow:k,finishCol:W}),Fp=(b,w,k)=>({element:b,colspan:w,column:k}),Am=(b,w)=>({element:b,columns:w}),_c=(b,w,k)=>{const W=b.cells,se=W.slice(0,w),pe=W.slice(w),Te=se.concat(k).concat(pe);return Oh(b,Te)},Xc=(b,w,k)=>_c(b,w,[k]),Tu=(b,w,k)=>{const W=b.cells;W[w]=k},Oh=(b,w)=>hc(b.element,w,b.section,b.isNew),ea=(b,w)=>{const k=b.cells,W=Pt(k,w);return hc(b.element,W,b.section,b.isNew)},ms=(b,w)=>b.cells[w],zi=(b,w)=>ms(b,w).element,Ol=b=>b.cells.length,Pr=b=>{const w=To(b,k=>k.section==="colgroup");return{rows:w.fail,cols:w.pass}},nh=(b,w,k)=>{const W=Pt(b.cells,k);return hc(w(b.element),W,b.section,!0)},Yf=(b,w)=>{const W=(w||document).createElement("div");if(W.innerHTML=b,!W.hasChildNodes()||W.childNodes.length>1){const se="HTML does not have a single root node";throw console.error(se,b),new Error(se)}return Pc(W.childNodes[0])},fi=(b,w)=>{const W=(w||document).createElement(b);return Pc(W)},fc=(b,w)=>{const W=(w||document).createTextNode(b);return Pc(W)},Pc=b=>{if(b==null)throw new Error("Node cannot be null or undefined");return{dom:b}},io={fromHtml:Yf,fromTag:fi,fromText:fc,fromDom:Pc,fromPoint:(b,w,k)=>we.from(b.dom.elementFromPoint(w,k)).map(Pc)},xu=(b,w)=>{const k=b.document.createRange();return k.selectNode(w.dom),k},Il=(b,w)=>{const k=b.document.createRange();return pc(k,w),k},pc=(b,w)=>b.selectNodeContents(w.dom),ki=(b,w)=>{w.fold(k=>{b.setStartBefore(k.dom)},(k,W)=>{b.setStart(k.dom,W)},k=>{b.setStartAfter(k.dom)})},Tm=(b,w)=>{w.fold(k=>{b.setEndBefore(k.dom)},(k,W)=>{b.setEnd(k.dom,W)},k=>{b.setEndAfter(k.dom)})},$l=(b,w,k)=>{const W=b.document.createRange();return ki(W,w),Tm(W,k),W},Jc=(b,w,k,W,se)=>{const pe=b.document.createRange();return pe.setStart(w.dom,k),pe.setEnd(W.dom,se),pe},Xf=b=>({left:b.left,top:b.top,right:b.right,bottom:b.bottom,width:b.width,height:b.height}),of=b=>{const w=b.getClientRects(),k=w.length>0?w[0]:b.getBoundingClientRect();return k.width>0||k.height>0?we.some(k).map(Xf):we.none()},ed=bt.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Jf=(b,w,k)=>w(io.fromDom(k.startContainer),k.startOffset,io.fromDom(k.endContainer),k.endOffset),Rd=(b,w)=>w.match({domRange:k=>({ltr:re(k),rtl:we.none}),relative:(k,W)=>({ltr:uo(()=>$l(b,k,W)),rtl:uo(()=>we.some($l(b,W,k)))}),exact:(k,W,se,pe)=>({ltr:uo(()=>Jc(b,k,W,se,pe)),rtl:uo(()=>we.some(Jc(b,se,pe,k,W)))})}),kd=(b,w)=>{const k=w.ltr();return k.collapsed?w.rtl().filter(se=>se.collapsed===!1).map(se=>ed.rtl(io.fromDom(se.endContainer),se.endOffset,io.fromDom(se.startContainer),se.startOffset)).getOrThunk(()=>Jf(b,ed.ltr,k)):Jf(b,ed.ltr,k)},mc=(b,w)=>{const k=Rd(b,w);return kd(b,k)},to=(b,w)=>mc(b,w).match({ltr:(W,se,pe,Te)=>{const He=b.document.createRange();return He.setStart(W.dom,se),He.setEnd(pe.dom,Te),He},rtl:(W,se,pe,Te)=>{const He=b.document.createRange();return He.setStart(pe.dom,Te),He.setEnd(W.dom,se),He}});ed.ltr,ed.rtl;const Ou=8,Ih=9,Ve=11,lt=1,Rt=3,pn=(b,w)=>{const k=b.dom;if(k.nodeType!==lt)return!1;{const W=k;if(W.matches!==void 0)return W.matches(w);if(W.msMatchesSelector!==void 0)return W.msMatchesSelector(w);if(W.webkitMatchesSelector!==void 0)return W.webkitMatchesSelector(w);if(W.mozMatchesSelector!==void 0)return W.mozMatchesSelector(w);throw new Error("Browser lacks native selectors")}},so=b=>b.nodeType!==lt&&b.nodeType!==Ih&&b.nodeType!==Ve||b.childElementCount===0,ko=(b,w)=>{const k=w===void 0?document:w.dom;return so(k)?[]:Pt(k.querySelectorAll(b),io.fromDom)},ur=(b,w)=>{const k=w===void 0?document:w.dom;return so(k)?we.none():we.from(k.querySelector(b)).map(io.fromDom)},Bs=(b,w)=>b.dom===w.dom,Er=(b,w)=>{const k=b.dom,W=w.dom;return k===W?!1:k.contains(W)},Ee=pn,Ue=(b,w,k,W)=>{const se=b.isiOS()&&/ipad/i.test(k)===!0,pe=b.isiOS()&&!se,Te=b.isiOS()||b.isAndroid(),He=Te||W("(pointer:coarse)"),Ye=se||!pe&&Te&&W("(min-device-width:768px)"),vt=pe||Te&&!Ye,zt=w.isSafari()&&b.isiOS()&&/safari/i.test(k)===!1,Ln=!vt&&!Ye&&!zt;return{isiPad:re(se),isiPhone:re(pe),isTablet:re(Ye),isPhone:re(vt),isTouch:re(He),isAndroid:b.isAndroid,isiOS:b.isiOS,isWebView:re(zt),isDesktop:re(Ln)}},ut=(b,w)=>{for(let k=0;k<b.length;k++){const W=b[k];if(W.test(w))return W}},un=(b,w)=>{const k=ut(b,w);if(!k)return{major:0,minor:0};const W=se=>Number(w.replace(k,"$"+se));return L(W(1),W(2))},Po=(b,w)=>{const k=String(w).toLowerCase();return b.length===0?Vs():un(b,k)},Vs=()=>L(0,0),L=(b,w)=>({major:b,minor:w}),X={nu:L,detect:Po,unknown:Vs},de=(b,w)=>Dt(w.brands,k=>{const W=k.brand.toLowerCase();return Se(b,se=>W===se.brand?.toLowerCase()).map(se=>({current:se.name,version:X.nu(parseInt(k.version,10),0)}))}),ge=(b,w)=>{const k=String(w).toLowerCase();return Se(b,W=>W.search(k))},xe=(b,w)=>ge(b,w).map(k=>{const W=X.detect(k.versionRegexes,w);return{current:k.name,version:W}}),Le=(b,w)=>ge(b,w).map(k=>{const W=X.detect(k.versionRegexes,w);return{current:k.name,version:W}}),We=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,xt=b=>w=>Fr(w,b),Ct=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:b=>Fr(b,"edge/")&&Fr(b,"chrome")&&Fr(b,"safari")&&Fr(b,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,We],search:b=>Fr(b,"chrome")&&!Fr(b,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:b=>Fr(b,"msie")||Fr(b,"trident")},{name:"Opera",versionRegexes:[We,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:xt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:xt("firefox")},{name:"Safari",versionRegexes:[We,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:b=>(Fr(b,"safari")||Fr(b,"mobile/"))&&Fr(b,"applewebkit")}],Yt=[{name:"Windows",search:xt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:b=>Fr(b,"iphone")||Fr(b,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:xt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:xt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:xt("linux"),versionRegexes:[]},{name:"Solaris",search:xt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:xt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:xt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Dn={browsers:re(Ct),oses:re(Yt)},Yn="Edge",Cn="Chromium",No="IE",Or="Opera",Si="Firefox",zr="Safari",Ul=()=>Sa({current:void 0,version:X.unknown()}),Sa=b=>{const w=b.current,k=b.version,W=se=>()=>w===se;return{current:w,version:k,isEdge:W(Yn),isChromium:W(Cn),isIE:W(No),isOpera:W(Or),isFirefox:W(Si),isSafari:W(zr)}},td={unknown:Ul,nu:Sa},oh="Windows",pi="iOS",gc="Android",Bi="Linux",hl="macOS",Hp="Solaris",Dd="FreeBSD",Rh="ChromeOS",Og=()=>nd({current:void 0,version:X.unknown()}),nd=b=>{const w=b.current,k=b.version,W=se=>()=>w===se;return{current:w,version:k,isWindows:W(oh),isiOS:W(pi),isAndroid:W(gc),isMacOS:W(hl),isLinux:W(Bi),isSolaris:W(Hp),isFreeBSD:W(Dd),isChromeOS:W(Rh)}},Qc={unknown:Og,nu:nd},od={detect:(b,w,k)=>{const W=Dn.browsers(),se=Dn.oses(),pe=w.bind(Ye=>de(W,Ye)).orThunk(()=>xe(W,b)).fold(td.unknown,td.nu),Te=Le(se,b).fold(Qc.unknown,Qc.nu),He=Ue(Te,pe,b,k);return{browser:pe,os:Te,deviceType:He}}},Ig=b=>window.matchMedia(b).matches;let vc=uo(()=>od.detect(window.navigator.userAgent,we.from(window.navigator.userAgentData),Ig));const Rl=()=>vc(),sf=(b,w)=>$o(b,w),Ub=(b,w)=>{const k=sf(b,w);if(k==null)throw new Error(b+" not available on this browser");return k},_r=Object.getPrototypeOf,qi=b=>Ub("HTMLElement",b),$p=b=>{const w=$o("ownerDocument.defaultView",b);return v(b)&&(qi(w).prototype.isPrototypeOf(b)||/^HTML\w*Element$/.test(_r(b).constructor.name))},Ci=b=>b.dom.nodeName.toLowerCase(),ep=b=>b.dom.nodeType,rf=b=>w=>ep(w)===b,HS=b=>ep(b)===Ou||Ci(b)==="#comment",af=b=>ji(b)&&$p(b.dom),ji=rf(lt),eu=rf(Rt),Md=rf(Ih),Un=rf(Ve),zl=b=>w=>ji(w)&&Ci(w)===b,kh=b=>io.fromDom(b.dom.ownerDocument),tu=b=>Md(b)?b:kh(b),tp=b=>io.fromDom(tu(b).dom.documentElement),zb=b=>io.fromDom(tu(b).dom.defaultView),Qe=b=>we.from(b.dom.parentNode).map(io.fromDom),Ac=b=>we.from(b.dom.parentElement).map(io.fromDom),Dh=(b,w)=>{const k=U(w)?w:Fe;let W=b.dom;const se=[];for(;W.parentNode!==null&&W.parentNode!==void 0;){const pe=W.parentNode,Te=io.fromDom(pe);if(se.push(Te),k(Te)===!0)break;W=pe}return se},jb=b=>we.from(b.dom.previousSibling).map(io.fromDom),nu=b=>we.from(b.dom.nextSibling).map(io.fromDom),Ql=b=>Pt(b.dom.childNodes,io.fromDom),ht=(b,w)=>{const k=b.dom.childNodes;return we.from(k[w]).map(io.fromDom)},Ut=b=>ht(b,0),En=(b,w,k,W)=>{const pe=kh(b).dom.createRange();return pe.setStart(b.dom,w),pe.setEnd(k.dom,W),pe},On=(b,w,k,W)=>{const se=En(b,w,k,W),pe=Bs(b,k)&&w===W;return se.collapsed&&!pe},jn=b=>Un(b)&&z(b.dom.host),es=b=>io.fromDom(b.dom.getRootNode()),ls=b=>jn(b)?b:io.fromDom(tu(b).dom.body),Gs=b=>{const w=es(b);return jn(w)?we.some(w):we.none()},gs=b=>io.fromDom(b.dom.host),dr=b=>{if(z(b.target)){const w=io.fromDom(b.target);if(ji(w)&&Ar(w)&&b.composed&&b.composedPath){const k=b.composedPath();if(k)return Ze(k)}}return we.from(b.target)},Ar=b=>z(b.dom.shadowRoot),fr=(b,w,k,W,se,pe,Te)=>({target:b,x:w,y:k,stop:W,prevent:se,kill:pe,raw:Te}),Hr=b=>{const w=io.fromDom(dr(b).getOr(b.target)),k=()=>b.stopPropagation(),W=()=>b.preventDefault(),se=oe(W,k);return fr(w,b.clientX,b.clientY,k,W,se,b)},_o=(b,w)=>k=>{b(k)&&w(Hr(k))},Xr=(b,w,k,W,se)=>{const pe=_o(k,W);return b.dom.addEventListener(w,pe,se),{unbind:Oe(ec,b,w,pe,se)}},bl=(b,w,k,W)=>Xr(b,w,k,W,!1),ec=(b,w,k,W)=>{b.dom.removeEventListener(w,k,W)},Ns=De,kl=(b,w,k)=>bl(b,w,Ns,k),ta=Hr,Wa=(b,w)=>{Qe(b).each(W=>{W.dom.insertBefore(w.dom,b.dom)})},Mh=(b,w)=>{nu(b).fold(()=>{Qe(b).each(se=>{Jr(se,w)})},W=>{Wa(W,w)})},na=(b,w)=>{Ut(b).fold(()=>{Jr(b,w)},W=>{b.dom.insertBefore(w.dom,W.dom)})},Jr=(b,w)=>{b.dom.appendChild(w.dom)},Ky=(b,w,k)=>{ht(b,k).fold(()=>{Jr(b,w)},W=>{Wa(W,w)})},RE=(b,w)=>{Wa(b,w),Jr(w,b)},yl=(b,w)=>{st(w,(k,W)=>{const se=W===0?b:w[W-1];Mh(se,k)})},tc=(b,w)=>{st(w,k=>{Jr(b,k)})},ou=(b,w,k)=>{if(p(k)||x(k)||H(k))b.setAttribute(w,k+"");else throw console.error("Invalid call to Attribute.set. Key ",w,":: Value ",k,":: Element ",b),new Error("Attribute value was not simple")},Sl=(b,w,k)=>{ou(b.dom,w,k)},Ph=(b,w)=>{const k=b.dom;Kt(w,(W,se)=>{ou(k,se,W)})},Iu=(b,w)=>{Kt(w,(k,W)=>{k.fold(()=>{ti(b,W)},se=>{ou(b.dom,W,se)})})},Ru=(b,w)=>{const k=b.dom.getAttribute(w);return k===null?void 0:k},Nc=(b,w)=>we.from(Ru(b,w)),ti=(b,w)=>{b.dom.removeAttribute(w)},Pd=b=>qt(b.dom.attributes,(w,k)=>(w[k.name]=k.value,w),{}),ku=b=>{b.dom.textContent="",st(Ql(b),w=>{jl(w)})},jl=b=>{const w=b.dom;w.parentNode!==null&&w.parentNode.removeChild(w)},oa=b=>{const w=Ql(b);w.length>0&&yl(b,w),jl(b)},pr=(b,w)=>io.fromDom(b.dom.cloneNode(w)),Nh=b=>pr(b,!1),Wl=b=>pr(b,!0),Ga=(b,w)=>{const k=io.fromTag(w),W=Pd(b);return Ph(k,W),k},lf=(b,w)=>{const k=Ga(b,w),W=Ql(Wl(b));return tc(k,W),k},sl=(b,w)=>{const k=Ga(b,w);Mh(b,k);const W=Ql(b);return tc(k,W),jl(b),k},Wb=(b,w)=>{const W=document.createElement("div");return W.innerHTML=b,Ql(io.fromDom(W))},nc=b=>Pt(b,io.fromDom),Yy=b=>b.dom.innerHTML,mr=b=>{const w=io.fromTag("div"),k=io.fromDom(b.dom.cloneNode(!0));return Jr(w,k),Yy(w)},xm=b=>b.style!==void 0&&U(b.style.getPropertyValue),rs=b=>{const w=eu(b)?b.dom.parentNode:b.dom;if(w==null||w.ownerDocument===null)return!1;const k=w.ownerDocument;return Gs(io.fromDom(w)).fold(()=>k.body.contains(w),ce(rs,gs))},a1=b=>{const w=b.dom.body;if(w==null)throw new Error("Body is not available yet");return io.fromDom(w)},fl=(b,w,k)=>{if(!p(k))throw console.error("Invalid call to CSS.set. Property ",w,":: Value ",k,":: Element ",b),new Error("CSS value must be a string: "+k);xm(b)&&b.style.setProperty(w,k)},nr=(b,w)=>{xm(b)&&b.style.removeProperty(w)},Dl=(b,w,k)=>{const W=b.dom;fl(W,w,k)},sa=(b,w)=>{const k=b.dom;Kt(w,(W,se)=>{fl(k,se,W)})},Om=(b,w)=>{const k=b.dom,se=window.getComputedStyle(k).getPropertyValue(w);return se===""&&!rs(b)?Xy(k,w):se},Xy=(b,w)=>xm(b)?b.style.getPropertyValue(w):"",Nd=(b,w)=>{const k=b.dom,W=Xy(k,w);return we.from(W).filter(se=>se.length>0)},Du=(b,w)=>{const k=b.dom;nr(k,w),ts(Nc(b,"style").map(Yc),"")&&ti(b,"style")},Gb=(b,w)=>{const k=b.dom,W=w.dom;xm(k)&&xm(W)&&(W.style.cssText=k.style.cssText)},Jy=(b,w)=>{const k=(He,Ye)=>{if(!H(Ye)&&!Ye.match(/^[0-9]+$/))throw new Error(b+".set accepts only positive integer values. Value was "+Ye);const vt=He.dom;xm(vt)&&(vt.style[b]=Ye+"px")},W=He=>{const Ye=w(He);if(Ye<=0||Ye===null){const vt=Om(He,b);return parseFloat(vt)||0}return Ye},se=W,pe=(He,Ye)=>qt(Ye,(vt,zt)=>{const Ln=Om(He,zt),fo=Ln===void 0?0:parseInt(Ln,10);return isNaN(fo)?vt:vt+fo},0);return{set:k,get:W,getOuter:se,aggregate:pe,max:(He,Ye,vt)=>{const zt=pe(He,vt);return Ye>zt?Ye-zt:0}}},qb=(b,w)=>Qu(b).getOr(w),sh=(b,w,k)=>qb(Om(b,w),k),Lh=(b,w,k,W)=>{const se=sh(b,`padding-${k}`,0),pe=sh(b,`padding-${W}`,0),Te=sh(b,`border-${k}-width`,0),He=sh(b,`border-${W}-width`,0);return w-se-pe-Te-He},Qy=(b,w)=>{const k=b.dom,W=k.getBoundingClientRect().width||k.offsetWidth;return Lh(b,W,"left","right")},Tc=b=>sh(b,"height",b.dom.offsetHeight),rh=b=>sh(b,"width",b.dom.offsetWidth),np=b=>Qy(b),$r=Jy("height",b=>{const w=b.dom;return rs(b)?w.getBoundingClientRect().height:w.offsetHeight}),Ld=b=>$r.get(b),l1=b=>$r.getOuter(b),Zb=Tc,ih=Jy("width",b=>{const w=b.dom;return rs(b)?w.getBoundingClientRect().width:w.offsetWidth}),_s=b=>ih.get(b),ca=b=>ih.getOuter(b),Ra=np,ra=rh,ah=(b,w)=>({left:b,top:w,translate:(W,se)=>ah(b+W,w+se)}),ua=ah,pl=b=>{const w=b.getBoundingClientRect();return ua(w.left,w.top)},Pv=(b,w)=>b!==void 0?b:w!==void 0?w:0,Sr=b=>{const w=b.dom.ownerDocument,k=w.body,W=w.defaultView,se=w.documentElement;if(k===b.dom)return ua(k.offsetLeft,k.offsetTop);const pe=Pv(W?.pageYOffset,se.scrollTop),Te=Pv(W?.pageXOffset,se.scrollLeft),He=Pv(se.clientTop,k.clientTop),Ye=Pv(se.clientLeft,k.clientLeft);return sd(b).translate(Te-Ye,pe-He)},sd=b=>{const w=b.dom,W=w.ownerDocument.body;return W===w?ua(W.offsetLeft,W.offsetTop):rs(b)?pl(w):ua(0,0)},Di=b=>{const w=b!==void 0?b.dom:document,k=w.body.scrollLeft||w.documentElement.scrollLeft,W=w.body.scrollTop||w.documentElement.scrollTop;return ua(k,W)},Mu=(b,w,k)=>{const se=(k!==void 0?k.dom:document).defaultView;se&&se.scrollBy(b,w)},El=((b,w)=>{const k=pe=>{if(!b(pe))throw new Error("Can only get "+w+" value of a "+w+" node");return W(pe).getOr("")},W=pe=>b(pe)?we.from(pe.dom.nodeValue):we.none();return{get:k,getOption:W,set:(pe,Te)=>{if(!b(pe))throw new Error("Can only set raw "+w+" value of a "+w+" node");pe.dom.nodeValue=Te}}})(eu,"text"),cf=b=>El.get(b),Nv=b=>El.getOption(b),Up=(b,w)=>El.set(b,w),Im=(b,w)=>k=>lh(k)==="rtl"?w:b,lh=b=>Om(b,"direction")==="rtl"?"rtl":"ltr",bc=(b,w)=>{const k=Ru(b,w);return k===void 0||k===""?[]:k.split(" ")},zp=(b,w,k)=>{const se=bc(b,w).concat([k]);return Sl(b,w,se.join(" ")),!0},kE=(b,w,k)=>{const W=Nn(bc(b,w),se=>se!==k);return W.length>0?Sl(b,w,W.join(" ")):ti(b,w),!1};var op=(b,w,k,W,se)=>b(k,W)?we.some(k):U(se)&&se(k)?we.none():w(k,W,se);const ni=(b,w,k)=>{let W=b.dom;const se=U(k)?k:Fe;for(;W.parentNode;){W=W.parentNode;const pe=io.fromDom(W);if(w(pe))return we.some(pe);if(se(pe))break}return we.none()},c1=(b,w,k)=>op((se,pe)=>pe(se),ni,b,w,k),Lv=(b,w)=>{const k=se=>w(io.fromDom(se));return Se(b.dom.childNodes,k).map(io.fromDom)},Lc=(b,w)=>{const k=W=>{for(let se=0;se<W.childNodes.length;se++){const pe=io.fromDom(W.childNodes[se]);if(w(pe))return we.some(pe);const Te=k(W.childNodes[se]);if(Te.isSome())return Te}return we.none()};return k(b.dom)},su=(b,w,k)=>ni(b,W=>pn(W,w),k),La=(b,w)=>Lv(b,k=>pn(k,w)),Bd=(b,w)=>ur(w,b),ml=(b,w,k)=>op((se,pe)=>pn(se,pe),su,b,w,k),Rm=b=>b.dom.classList!==void 0,e0=b=>bc(b,"class"),Kb=(b,w)=>zp(b,"class",w),DE=(b,w)=>kE(b,"class",w),uf=(b,w)=>{Rm(b)?b.dom.classList.add(w):Kb(b,w)},ME=b=>{(Rm(b)?b.dom.classList:e0(b)).length===0&&ti(b,"class")},u1=(b,w)=>{Rm(b)?b.dom.classList.remove(w):DE(b,w),ME(b)},df=(b,w)=>Rm(b)&&b.dom.classList.contains(w),$S=(b,w)=>{st(w,k=>{u1(b,k)})},Bv=b=>ml(b,"[contenteditable]"),km=(b,w=!1)=>rs(b)?b.dom.isContentEditable:Bv(b).fold(re(w),k=>Rg(k)==="true"),Rg=b=>b.dom.contentEditable,d1=b=>w=>{uf(w,b)},US=b=>w=>{$S(w,b)},Bh=(b,w,k)=>Nn(Dh(b,k),w),Dm=(b,w)=>Nn(Ql(b),w),hf=(b,w)=>{let k=[];return st(Ql(b),W=>{w(W)&&(k=k.concat([W])),k=k.concat(hf(W,w))}),k},oi=(b,w,k)=>Bh(b,W=>pn(W,w),k),gl=(b,w)=>Dm(b,k=>pn(k,w)),sp=(b,w)=>ko(w,b),t0=(b,w,k,W)=>({parent:b,children:w,element:k,index:W}),Mm=b=>Qe(b).bind(w=>{const k=Ql(w);return kg(k,b).map(W=>t0(w,k,b,W))}),kg=(b,w)=>br(b,Oe(Bs,w)),jp=(b,w,k)=>ni(b,w,k).isSome(),rp=b=>Ci(b)==="img"?1:Nv(b).fold(()=>Ql(b).length,w=>w.length),Vh=b=>Nv(b).filter(w=>w.trim().length!==0||w.indexOf(Kf)>-1).isSome(),Ei=b=>af(b)&&Ru(b,"contenteditable")==="false",zS=["img","br"],ai=b=>Vh(b)||on(zS,Ci(b))||Ei(b),Vv=b=>Lc(b,ai),qa=b=>Fh(b,ai),Fh=(b,w)=>{const k=W=>{const se=Ql(W);for(let pe=se.length-1;pe>=0;pe--){const Te=se[pe];if(w(Te))return we.some(Te);const He=k(Te);if(He.isSome())return He}return we.none()};return k(b)},Pu={create:(b,w,k,W)=>({start:b,soffset:w,finish:k,foffset:W})},Dg=bt.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Fv=(b,w,k,W)=>b.fold(w,k,W),h1=b=>b.fold(ye,ye,ye),PE=Dg.before,wl=Dg.on,ff=Dg.after,rl={before:PE,on:wl,after:ff,cata:Fv,getStart:h1},wi=bt.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Yb=b=>wi.exact(b.start,b.soffset,b.finish,b.foffset),Xb=b=>b.match({domRange:w=>io.fromDom(w.startContainer),relative:(w,k)=>rl.getStart(w),exact:(w,k,W,se)=>w}),Jb=wi.domRange,n0=wi.relative,Nu=wi.exact,o0=b=>{const w=Xb(b);return zb(w)},J=Pu.create,ae={domRange:Jb,relative:n0,exact:Nu,exactFromRange:Yb,getWin:o0,range:J},Ie=(b,w,k)=>we.from(b.caretPositionFromPoint?.(w,k)).bind(W=>{if(W.offsetNode===null)return we.none();const se=b.createRange();return se.setStart(W.offsetNode,W.offset),se.collapse(),we.some(se)}),qe=(b,w,k)=>we.from(b.caretRangeFromPoint?.(w,k)),St=(b,w,k)=>b.caretPositionFromPoint?Ie(b,w,k):b.caretRangeFromPoint?qe(b,w,k):we.none(),cn=(b,w,k)=>{const W=b.document;return St(W,w,k).map(se=>Pu.create(io.fromDom(se.startContainer),se.startOffset,io.fromDom(se.endContainer),se.endOffset))},ao=(b,w)=>{const k=Ci(b);return k==="input"?rl.after(b):on(["br","img"],k)?w===0?rl.before(b):rl.after(b):rl.on(b,w)},Go=(b,w)=>{const k=b.fold(rl.before,ao,rl.after),W=w.fold(rl.before,ao,rl.after);return ae.relative(k,W)},zs=(b,w,k,W)=>{const se=ao(b,w),pe=ao(k,W);return ae.relative(se,pe)},Ss=b=>we.from(b.getSelection()),Vi=(b,w)=>{Ss(b).each(k=>{k.removeAllRanges(),k.addRange(w)})},da=(b,w,k,W,se)=>{const pe=Jc(b,w,k,W,se);Vi(b,pe)},Za=(b,w,k,W,se,pe)=>{w.collapse(k.dom,W),w.extend(se.dom,pe)},Lu=(b,w)=>mc(b,w).match({ltr:(k,W,se,pe)=>{da(b,k,W,se,pe)},rtl:(k,W,se,pe)=>{Ss(b).each(Te=>{if(Te.setBaseAndExtent)Te.setBaseAndExtent(k.dom,W,se.dom,pe);else if(Te.extend)try{Za(b,Te,k,W,se,pe)}catch{da(b,se,pe,k,W)}else da(b,se,pe,k,W)})}}),Wp=(b,w,k,W,se)=>{const pe=zs(w,k,W,se);Lu(b,pe)},Gp=(b,w,k)=>{const W=Go(w,k);Lu(b,W)},ru=b=>{if(b.rangeCount>0){const w=b.getRangeAt(0),k=b.getRangeAt(b.rangeCount-1);return we.some(Pu.create(io.fromDom(w.startContainer),w.startOffset,io.fromDom(k.endContainer),k.endOffset))}else return we.none()},f1=b=>{if(b.anchorNode===null||b.focusNode===null)return ru(b);{const w=io.fromDom(b.anchorNode),k=io.fromDom(b.focusNode);return On(w,b.anchorOffset,k,b.focusOffset)?we.some(Pu.create(w,b.anchorOffset,k,b.focusOffset)):ru(b)}},Pm=(b,w,k=!0)=>{const se=(k?Il:xu)(b,w);Vi(b,se)},Qb=b=>Ss(b).filter(w=>w.rangeCount>0).bind(f1),Nm=b=>Qb(b).map(w=>ae.exact(w.start,w.soffset,w.finish,w.foffset)),Mg=(b,w)=>{const k=to(b,w);return of(k)},s0=(b,w,k)=>cn(b,w,k),Ml=b=>{Ss(b).each(w=>w.removeAllRanges())},NE={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},LE=(()=>{const b="[0-9]+",k="[eE]"+("[+-]?"+b),W="\\.",se=He=>`(?:${He})?`,Te=`[+-]?(?:${["Infinity",b+W+se(b)+se(k),W+b+se(k),b+se(k)].join("|")})`;return new RegExp(`^(${Te})(.*)$`)})(),Nr=(b,w)=>nt(w,k=>nt(NE[k],W=>b===W)),_i=(b,w)=>we.from(LE.exec(b)).bind(W=>{const se=Number(W[1]),pe=W[2];return Nr(pe,w)?we.some({value:se,unit:pe}):we.none()}),Ka=b=>Pt(b,re(0)),rd=(b,w,k,W,se)=>se(b.slice(0,w)).concat(W).concat(se(b.slice(k))),Ya=b=>(w,k,W,se)=>{if(b(W)){const pe=Math.max(se,w[k]-Math.abs(W)),Te=Math.abs(pe-w[k]);return W>=0?Te:-Te}else return W},ey=Ya(b=>b<0),ty=Ya(De),ny=()=>{const b=(He,Ye,vt,zt,Ln)=>{const fo=ey(He,Ye,zt,Ln);return rd(He,Ye,vt+1,[fo,0],Ka)},w=(He,Ye,vt,zt)=>{const Ln=(100+vt)/100,fo=Math.max(zt,(He[Ye]+vt)/Ln);return Pt(He,(bo,ss)=>(ss===Ye?fo:bo/Ln)-bo)},k=(He,Ye,vt,zt,Ln,fo)=>fo?w(He,Ye,zt,Ln):b(He,Ye,vt,zt,Ln);return{resizeTable:(He,Ye)=>He(Ye),clampTableDelta:ey,calcLeftEdgeDeltas:k,calcMiddleDeltas:(He,Ye,vt,zt,Ln,fo,bo)=>k(He,vt,zt,Ln,fo,bo),calcRightEdgeDeltas:(He,Ye,vt,zt,Ln,fo)=>{if(fo)return w(He,vt,zt,Ln);{const bo=ey(He,vt,zt,Ln);return Ka(He.slice(0,vt)).concat([bo])}},calcRedestributedWidths:(He,Ye,vt,zt)=>{if(zt){const fo=(Ye+vt)/Ye,bo=Pt(He,ss=>ss/fo);return{delta:fo*100-100,newSizes:bo}}else return{delta:vt,newSizes:He}}}},BE=()=>{const b=(Te,He,Ye,vt,zt)=>{const Ln=vt>=0?Ye:He,fo=ty(Te,Ln,vt,zt);return rd(Te,He,Ye+1,[fo,-fo],Ka)};return{resizeTable:(Te,He,Ye)=>{Ye&&Te(He)},clampTableDelta:(Te,He,Ye,vt,zt)=>{if(zt){if(Ye>=0)return Ye;{const Ln=qt(Te,(fo,bo)=>fo+bo-vt,0);return Math.max(-Ln,Ye)}}else return ey(Te,He,Ye,vt)},calcLeftEdgeDeltas:b,calcMiddleDeltas:(Te,He,Ye,vt,zt,Ln)=>b(Te,Ye,vt,zt,Ln),calcRightEdgeDeltas:(Te,He,Ye,vt,zt,Ln)=>{if(Ln)return Ka(Te);{const fo=vt/Te.length;return Pt(Te,re(fo))}},calcRedestributedWidths:(Te,He,Ye,vt)=>({delta:0,newSizes:Te})}},vl=(b,w,k=0)=>Nc(b,w).map(W=>parseInt(W,10)).getOr(k),Lm=(b,w)=>vl(b,w,1),oy=b=>zl("col")(b)?vl(b,"span",1)>1:Lm(b,"colspan")>1,VE=b=>Lm(b,"rowspan")>1,jr=(b,w)=>parseInt(Om(b,w),10),Pl=re(10),ip=re(10),Vd=(b,w)=>id(b,w,De),id=(b,w,k)=>as(Ql(b),W=>pn(W,w)?k(W)?[W]:[]:id(W,w,k)),Bu=(b,w,k=Fe)=>{if(k(w))return we.none();if(on(b,Ci(w)))return we.some(w);const W=se=>pn(se,"table")||k(se);return su(w,b.join(","),W)},FE=(b,w)=>Bu(["td","th"],b,w),Pg=b=>Vd(b,"th,td"),jS=b=>pn(b,"colgroup")?gl(b,"col"):as(Zi(b),w=>gl(w,"col")),Fd=(b,w)=>ml(b,"table",w),HE=b=>Vd(b,"tr"),Zi=b=>Fd(b).fold(re([]),w=>gl(w,"colgroup")),Ng=zl("th"),Lg=b=>Is(b,w=>Ng(w.element)),ZO=(b,w)=>b&&w?"sectionCells":b?"section":"cells",WS=b=>{const w=b.section==="thead",k=ts(GS(b.cells),"th");return b.section==="tfoot"?{type:"footer"}:w||k?{type:"header",subType:ZO(w,k)}:{type:"body"}},GS=b=>{const w=Nn(b,k=>Ng(k.element));return w.length===0?we.some("td"):w.length===b.length?we.some("th"):we.none()},KO=b=>{const w=Pt(b,se=>WS(se).type),k=on(w,"header"),W=on(w,"footer");if(!k&&!W)return we.some("body");{const se=on(w,"body");return k&&!se&&!W?we.some("header"):!k&&!se&&W?we.some("footer"):we.none()}},qp=b=>Dt(b.all,w=>{const k=WS(w);return k.type==="header"?we.from(k.subType):we.none()}),Bm=(b,w)=>Pt(b,k=>{if(Ci(k)==="colgroup"){const W=Pt(jS(k),se=>{const pe=vl(se,"span",1);return Mc(se,1,pe)});return th(k,W,"colgroup")}else{const W=Pt(Pg(k),se=>{const pe=vl(se,"rowspan",1),Te=vl(se,"colspan",1);return Mc(se,pe,Te)});return th(k,W,w(k))}}),Bg=b=>Qe(b).map(w=>{const k=Ci(w);return Th(k)?k:"tbody"}).getOr("tbody"),Oo=b=>{const w=HE(b),W=[...Zi(b),...w];return Bm(W,Bg)},ha=(b,w)=>Bm(b,()=>w),r0="data-snooker-locked-cols",sy=b=>Nc(b,r0).bind(w=>we.from(w.match(/\d+/g))).map(w=>kt(w,De)),Oc=b=>{const w=qt(Pr(b).rows,(W,se)=>(st(se.cells,(pe,Te)=>{pe.isLocked&&(W[Te]=!0)}),W),{}),k=Ko(w,(W,se)=>parseInt(se,10));return bn(k)},Hv=(b,w)=>b+","+w,AA=(b,w,k)=>we.from(b.access[Hv(w,k)]),Vg=(b,w,k)=>{const W=TA(b,se=>k(w,se.element));return W.length>0?we.some(W[0]):we.none()},TA=(b,w)=>{const k=as(b.all,W=>W.cells);return Nn(k,w)},ap=b=>{const w={};let k=0;return st(b.cells,W=>{const se=W.colspan;Mt(se,pe=>{const Te=k+pe;w[Te]=Fp(W.element,se,Te)}),k+=se}),w},Vm=b=>{const w={},k=[],se=Ze(b).map(bo=>bo.element).bind(Fd).bind(sy).getOr({});let pe=0,Te=0,He=0;const{pass:Ye,fail:vt}=To(b,bo=>bo.section==="colgroup");st(vt,bo=>{const ss=[];st(bo.cells,an=>{let Sn=0;for(;w[Hv(He,Sn)]!==void 0;)Sn++;const As=ys(se,Sn.toString()),Ks=Au(an.element,an.rowspan,an.colspan,He,Sn,As);for(let Vo=0;Vo<an.colspan;Vo++)for(let xi=0;xi<an.rowspan;xi++){const vi=He+xi,$s=Sn+Vo,Gl=Hv(vi,$s);w[Gl]=Ks,Te=Math.max(Te,$s+1)}ss.push(Ks)}),pe++,k.push(th(bo.element,ss,bo.section)),He++});const{columns:zt,colgroups:Ln}=mt(Ye).map(bo=>{const ss=ap(bo);return{colgroups:[Am(bo.element,Io(ss))],columns:ss}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Kr(pe,Te),access:w,all:k,columns:zt,colgroups:Ln}},yr={fromTable:b=>{const w=Oo(b);return Vm(w)},generate:Vm,getAt:AA,findItem:Vg,filterItems:TA,justCells:b=>as(b.all,w=>w.cells),justColumns:b=>Io(b.columns),hasColumns:b=>je(b.columns).length>0,getColumnAt:(b,w)=>we.from(b.columns[w])},$v=(b,w,k)=>Li(k(b.element,w),!0,b.isLocked),fa=(b,w)=>b.section!==w?hc(b.element,b.cells,w,b.isNew):b,p1=()=>({transformRow:fa,transformCell:(b,w,k)=>{const W=k(b.element,w),se=Ci(W)!=="td"?sl(W,"td"):W;return Li(se,b.isNew,b.isLocked)}}),pf=()=>({transformRow:fa,transformCell:$v}),iu=()=>({transformRow:(b,w)=>fa(b,w==="thead"?"tbody":w),transformCell:$v}),Kp={getTableSectionType:(b,w)=>{const k=yr.fromTable(b);switch(qp(k).getOr(w)){case"section":return p1();case"sectionCells":return pf();case"cells":return iu()}},section:p1,sectionCells:pf,cells:iu,fallback:()=>({transformRow:ye,transformCell:$v})},UE=(b,w=De)=>{const k=b.grid,W=Mt(k.columns,ye),se=Mt(k.rows,ye);return Pt(W,pe=>qS(()=>as(se,vt=>yr.getAt(b,vt,pe).filter(zt=>zt.column===pe).toArray()),vt=>vt.colspan===1&&w(vt.element),()=>yr.getAt(b,0,pe)))},qS=(b,w,k)=>{const W=b();return Se(W,w).orThunk(()=>we.from(W[0]).orThunk(k)).map(Te=>Te.element)},Hh=b=>{const w=b.grid,k=Mt(w.rows,ye),W=Mt(w.columns,ye);return Pt(k,se=>qS(()=>as(W,Ye=>yr.getAt(b,se,Ye).filter(vt=>vt.row===se).fold(re([]),vt=>[vt])),Ye=>Ye.rowspan===1,()=>yr.getAt(b,se,0)))},Fm=(b,w)=>{if(w<0||w>=b.length-1)return we.none();const k=b[w].fold(()=>{const se=oo(b.slice(0,w));return Dt(se,(pe,Te)=>pe.map(He=>({value:He,delta:Te+1})))},se=>we.some({value:se,delta:0})),W=b[w+1].fold(()=>{const se=b.slice(w+1);return Dt(se,(pe,Te)=>pe.map(He=>({value:He,delta:Te+1})))},se=>we.some({value:se,delta:1}));return k.bind(se=>W.map(pe=>{const Te=pe.delta+se.delta;return Math.abs(pe.value-se.value)/Te}))},i0=(b,w)=>({row:b,y:w}),Fi=(b,w)=>({col:b,x:w}),xA=b=>Sr(b).left+ca(b),zE=b=>Sr(b).left,jE=(b,w)=>Fi(b,zE(w)),iy=(b,w)=>Fi(b,xA(w)),ZS=b=>Sr(b).top,KS=(b,w)=>i0(b,ZS(w)),Hm=(b,w)=>i0(b,ZS(w)+l1(w)),m1=(b,w,k)=>{if(k.length===0)return[];const W=Pt(k.slice(1),(pe,Te)=>pe.map(He=>b(Te,He))),se=k[k.length-1].map(pe=>w(k.length-1,pe));return W.concat([se])},ad=b=>-b,mf={delta:ye,positions:b=>m1(KS,Hm,b),edge:ZS},vs=Im({delta:ye,edge:zE,positions:b=>m1(jE,iy,b)},{delta:ad,edge:xA,positions:b=>m1(iy,jE,b)}),ld={delta:(b,w)=>vs(w).delta(b,w),positions:(b,w)=>vs(w).positions(b,w),edge:b=>vs(b).edge(b)},ay=/(\d+(\.\d+)?)%/,Hg=/(\d+(\.\d+)?)px|em/,YO=zl("col"),YS=zl("tr"),lp=(b,w,k)=>{const W=Ac(b).getOrThunk(()=>a1(kh(b)));return w(b)/k(W)*100},$m=(b,w)=>{Dl(b,"width",w+"px")},a0=(b,w)=>{Dl(b,"width",w+"%")},Um=(b,w)=>{Dl(b,"height",w+"px")},WE=b=>{Du(b,"height")},GE=b=>Zb(b)+"px",ka=(b,w,k,W)=>{const se=Fd(b).map(pe=>{const Te=k(pe);return Math.floor(w/100*Te)}).getOr(w);return W(b,se),se},cp=(b,w,k,W)=>{const se=parseFloat(b);return Od(b,"%")&&Ci(w)!=="table"?ka(w,se,k,W):se},cd=b=>{const w=GE(b);return w?cp(w,b,Ld,Um):Ld(b)},up=(b,w,k)=>{const W=k(b),se=Lm(b,w);return W/se},ud=(b,w)=>Nd(b,w).orThunk(()=>Nc(b,w).map(k=>k+"px")),ly=b=>ud(b,"width"),yc=b=>ud(b,"height"),Bc=b=>lp(b,_s,Ra),Uv=b=>YO(b)?Math.round(_s(b)):ra(b),xn=b=>YS(b)?Ld(b):up(b,"rowspan",cd),Fu=b=>ly(b).bind(k=>_i(k,["fixed","relative","empty"])),l0=(b,w,k)=>{Dl(b,"width",w+k)},oc=b=>_s(b)+"px",gf=b=>Ld(b)+"px",$h=b=>lp(b,_s,Ra)+"%",c0=b=>ly(b).exists(w=>ay.test(w)),zm=b=>ly(b).exists(w=>Hg.test(w)),OA=b=>ly(b).isNone(),Hd=re(ay),li=zl("col"),Hu=b=>ly(b).getOrThunk(()=>Uv(b)+"px"),cy=b=>yc(b).getOrThunk(()=>xn(b)+"px"),il=b=>Pt(yr.justColumns(b),w=>we.from(w.element)),IA=b=>{const w=Rl().browser,k=w.isChromium()||w.isFirefox();return li(b)?k:!0},XS=(b,w,k,W,se,pe)=>b.filter(W).fold(()=>pe(Fm(k,w)),Te=>se(Te)),Yp=(b,w,k,W)=>{const se=UE(b),pe=yr.hasColumns(b)?il(b):se,Te=[we.some(ld.edge(w))].concat(Pt(ld.positions(se,w),Ye=>Ye.map(vt=>vt.x))),He=F(oy);return Pt(pe,(Ye,vt)=>XS(Ye,vt,Te,He,zt=>{if(IA(zt))return k(zt);{const Ln=ul(se[vt],ye);return XS(Ln,vt,Te,He,fo=>W(we.some(Math.round(_s(fo)))),W)}},W))},qE=b=>b.map(w=>w+"px").getOr(""),uh=(b,w)=>Yp(b,w,Hu,qE),ZE=(b,w,k)=>Yp(b,w,Bc,W=>W.fold(()=>k.minCellWidth(),se=>se/k.pixelWidth()*100)),Wt=(b,w,k)=>Yp(b,w,Uv,W=>W.getOrThunk(k.minCellWidth)),dd=(b,w,k,W)=>{const se=Hh(b),pe=Pt(b.all,He=>we.some(He.element)),Te=[we.some(mf.edge(w))].concat(Pt(mf.positions(se,w),He=>He.map(Ye=>Ye.y)));return Pt(pe,(He,Ye)=>XS(He,Ye,Te,De,k,W))},u0=(b,w)=>dd(b,w,xn,k=>k.getOrThunk(ip)),Va=(b,w)=>dd(b,w,cy,qE),dh=(b,w)=>()=>rs(b)?w(b):parseFloat(Nd(b,"width").getOr("0")),Vc=b=>{const w=dh(b,_s),k=re(0);return{width:w,pixelWidth:w,getWidths:(se,pe)=>Wt(se,b,pe),getCellDelta:k,singleColumnWidth:re([0]),minCellWidth:k,setElementWidth:K,adjustTableWidth:K,isRelative:!0,label:"none"}},ci=b=>{const w=dh(b,Ye=>parseFloat($h(Ye))),k=dh(b,_s);return{width:w,pixelWidth:k,getWidths:(Ye,vt)=>ZE(Ye,b,vt),getCellDelta:Ye=>Ye/k()*100,singleColumnWidth:(Ye,vt)=>[100-Ye],minCellWidth:()=>Pl()/k()*100,setElementWidth:a0,adjustTableWidth:Ye=>{const vt=w(),zt=Ye/100*vt,Ln=vt+zt;a0(b,Ln)},isRelative:!0,label:"percent"}},JS=b=>{const w=dh(b,_s);return{width:w,pixelWidth:w,getWidths:(Te,He)=>Wt(Te,b,He),getCellDelta:ye,singleColumnWidth:(Te,He)=>[Math.max(Pl(),Te+He)-Te],minCellWidth:Pl,setElementWidth:$m,adjustTableWidth:Te=>{const He=w()+Te;$m(b,He)},isRelative:!1,label:"pixel"}},zv=(b,w)=>Hd().exec(w)!==null?ci(b):JS(b),jv={getTableSize:b=>ly(b).fold(()=>Vc(b),k=>zv(b,k)),pixelSize:JS,percentageSize:ci,noneSize:Vc},$g=(b,w,k,W)=>{k===W?ti(b,w):Sl(b,w,k)},QS=(b,w,k)=>{mt(gl(b,w)).fold(()=>na(b,k),W=>Mh(W,k))},YE=(b,w)=>{const k=La(b,w).getOrThunk(()=>{const W=io.fromTag(w,kh(b).dom);return w==="thead"?QS(b,"caption,colgroup",W):w==="colgroup"?QS(b,"caption",W):Jr(b,W),W});return ku(k),k},Ug=(b,w)=>{const k=[],W=[],se=bo=>Pt(bo,ss=>{ss.isNew&&k.push(ss.element);const an=ss.element;return ku(an),st(ss.cells,Sn=>{Sn.isNew&&W.push(Sn.element),$g(Sn.element,"colspan",Sn.colspan,1),$g(Sn.element,"rowspan",Sn.rowspan,1),Jr(an,Sn.element)}),an}),pe=bo=>as(bo,ss=>Pt(ss.cells,an=>($g(an.element,"span",an.colspan,1),an.element))),Te=(bo,ss)=>{const an=YE(b,ss),As=(ss==="colgroup"?pe:se)(bo);tc(an,As)},He=bo=>{La(b,bo).each(jl)},Ye=(bo,ss)=>{bo.length>0?Te(bo,ss):He(ss)},vt=[],zt=[],Ln=[],fo=[];return st(w,bo=>{switch(bo.section){case"thead":vt.push(bo);break;case"tbody":zt.push(bo);break;case"tfoot":Ln.push(bo);break;case"colgroup":fo.push(bo);break}}),Ye(fo,"colgroup"),Ye(vt,"thead"),Ye(zt,"tbody"),Ye(Ln,"tfoot"),{newRows:k,newCells:W}},Wv=b=>Pt(b,w=>{const k=Nh(w.element);return st(w.cells,W=>{const se=Wl(W.element);$g(se,"colspan",W.colspan,1),$g(se,"rowspan",W.rowspan,1),Jr(k,se)}),k}),RA=(b,w)=>Pt(b,k=>ms(k,w)),Gv=(b,w)=>b[w],Fc=(b,w)=>{if(b.length===0)return 0;const k=b[0];return br(b,se=>!w(k.element,se.element)).getOr(b.length)},sc=(b,w,k,W)=>{const se=Gv(b,w),pe=se.section==="colgroup",Te=Fc(se.cells.slice(k),W),He=pe?1:Fc(RA(b.slice(w),k),W);return{colspan:Te,rowspan:He}},zg=(b,w)=>{const k=Pt(b,se=>Pt(se.cells,Fe)),W=(se,pe,Te,He)=>{for(let Ye=se;Ye<se+Te;Ye++)for(let vt=pe;vt<pe+He;vt++)k[Ye][vt]=!0};return Pt(b,(se,pe)=>{const Te=as(se.cells,(He,Ye)=>{if(k[pe][Ye]===!1){const vt=sc(b,pe,Ye,w);return W(pe,Ye,vt.rowspan,vt.colspan),[wr(He.element,vt.rowspan,vt.colspan,He.isNew)]}else return[]});return wc(se.element,Te,se.section,se.isNew)})},jg=(b,w,k)=>{const W=[];st(b.colgroups,se=>{const pe=[];for(let Te=0;Te<b.grid.columns;Te++){const He=yr.getColumnAt(b,Te).map(Ye=>Li(Ye.element,k,!1)).getOrThunk(()=>Li(w.colGap(),!0,!1));pe.push(He)}W.push(hc(se.element,pe,"colgroup",k))});for(let se=0;se<b.grid.rows;se++){const pe=[];for(let Ye=0;Ye<b.grid.columns;Ye++){const vt=yr.getAt(b,se,Ye).map(zt=>Li(zt.element,k,zt.isLocked)).getOrThunk(()=>Li(w.gap(),!0,!1));pe.push(vt)}const Te=b.all[se],He=hc(Te.element,pe,Te.section,k);W.push(He)}return W},Wg=(b,w)=>jg(b,w,!1),d0=b=>zg(b,Bs),hd=(b,w)=>Dt(b.all,k=>Se(k.cells,W=>Bs(w,W.element))),qv=(b,w,k)=>{const W=Pt(w.selection,pe=>FE(pe).bind(Te=>hd(b,Te)).filter(k)),se=ps(W);return Dc(se.length>0,se)},_l=(b,w,k,W,se,pe,Te,He,Ye)=>{const vt=yr.fromTable(pe),zt=we.from(Ye?.section).getOrThunk(Kp.fallback);return w(vt,Te).map(fo=>{const bo=Wg(vt,He),ss=b(bo,fo,Bs,se(He),zt),an=Oc(ss.grid),Sn=d0(ss.grid);return{info:fo,grid:Sn,cursor:ss.cursor,lockedColumns:an}}).bind(fo=>{const bo=Ug(pe,fo.grid),ss=we.from(Ye?.sizing).getOrThunk(()=>jv.getTableSize(pe)),an=we.from(Ye?.resize).getOrThunk(BE);return k(pe,fo.grid,fo.info,{sizing:ss,resize:an,section:zt}),W(pe),ti(pe,r0),fo.lockedColumns.length>0&&Sl(pe,r0,fo.lockedColumns.join(",")),we.some({cursor:fo.cursor,newRows:bo.newRows,newCells:bo.newCells})})},uy=(b,w)=>FE(w.element).bind(k=>hd(b,k).map(W=>({...W,generators:w.generators,clipboard:w.clipboard}))),vf=(b,w)=>qv(b,w,De).map(k=>({cells:k,generators:w.generators,clipboard:w.clipboard})),bf=(b,w)=>w.mergable,g1=(b,w)=>w.unmergable,rc=(b,w)=>qv(b,w,De),Gg=(b,w)=>qv(b,w,k=>!k.isLocked),Xp=(b,w)=>hd(b,w).exists(k=>!k.isLocked),Jp=(b,w)=>Is(w,k=>Xp(b,k)),jm=(b,w)=>bf(b,w).filter(k=>Jp(b,k.cells)),Zv=(b,w)=>g1(b,w).filter(k=>Jp(b,k)),dy={...bt.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},kA=(b,w)=>b.length===0?dy.none():b.length===1?dy.only(0):w===0?dy.left(0,1):w===b.length-1?dy.right(w-1,w):w>0&&w<b.length-1?dy.middle(w-1,w,w+1):dy.none(),Ca=(b,w,k,W,se)=>{const pe=b.slice(0),Te=kA(b,w),He=re(Pt(pe,re(0))),Ye=fo=>W.singleColumnWidth(pe[fo],k),vt=(fo,bo)=>se.calcLeftEdgeDeltas(pe,fo,bo,k,W.minCellWidth(),W.isRelative),zt=(fo,bo,ss)=>se.calcMiddleDeltas(pe,fo,bo,ss,k,W.minCellWidth(),W.isRelative),Ln=(fo,bo)=>se.calcRightEdgeDeltas(pe,fo,bo,k,W.minCellWidth(),W.isRelative);return Te.fold(He,Ye,vt,zt,Ln)},XE=(b,w,k)=>{let W=0;for(let se=b;se<w;se++)W+=k[se]!==void 0?k[se]:0;return W},dp=(b,w)=>{const k=yr.justCells(b);return Pt(k,W=>{const se=XE(W.column,W.column+W.colspan,w);return{element:W.element,width:se,colspan:W.colspan}})},yf=(b,w)=>{const k=yr.justColumns(b);return Pt(k,(W,se)=>({element:W.element,width:w[se],colspan:W.colspan}))},Wm=(b,w)=>Pt(b.all,(k,W)=>({element:k.element,height:w[W]})),Qp=b=>ho(b,(w,k)=>w+k,0),au=(b,w)=>yr.hasColumns(b)?yf(b,w):dp(b,w),hy=(b,w,k)=>{const W=au(b,w);st(W,se=>{k.setElementWidth(se.element,se.width)})},em=(b,w,k,W,se)=>{const pe=yr.fromTable(b),Te=se.getCellDelta(w),He=se.getWidths(pe,se),Ye=k===pe.grid.columns-1,vt=W.clampTableDelta(He,k,Te,se.minCellWidth(),Ye),zt=Ca(He,k,vt,se,W),Ln=Pt(zt,(fo,bo)=>fo+He[bo]);hy(pe,Ln,se),W.resizeTable(se.adjustTableWidth,vt,Ye)},JE=(b,w,k)=>{const W=yr.fromTable(b),se=u0(W,b),pe=Pt(se,(Ye,vt)=>k===vt?Math.max(w+Ye,ip()):Ye),Te=Wm(W,pe);st(Te,Ye=>{Um(Ye.element,Ye.height)}),st(yr.justCells(W),Ye=>{WE(Ye.element)});const He=Qp(pe);Um(b,He)},v1=(b,w,k,W,se)=>{const pe=yr.generate(w),Te=W.getWidths(pe,W),He=W.pixelWidth(),{newSizes:Ye,delta:vt}=se.calcRedestributedWidths(Te,He,k.pixelDelta,W.isRelative);hy(pe,Ye,W),W.adjustTableWidth(vt)},fy=(b,w,k,W)=>{const se=yr.generate(w),pe=W.getWidths(se,W);hy(se,pe,W)},eC=(b,w)=>{oy(b)||Fu(b).each(W=>{const se=W.value/2;l0(b,se,W.unit),l0(w,se,W.unit)})},tC=(b,w,k)=>{const W=vl(b,w,1);k===1||W<=1?ti(b,w):Sl(b,w,Math.min(k,W))},DA=(b,w)=>k=>{const W=k.column+k.colspan-1,se=k.column;return W>=b&&se<w},py=(b,w,k)=>{if(yr.hasColumns(b)){const W=Nn(yr.justColumns(b),DA(w,k)),se=Pt(W,Te=>{const He=Wl(Te.element);return tC(He,"span",k-w),He}),pe=io.fromTag("colgroup");return tc(pe,se),[pe]}else return[]},my=(b,w,k)=>Pt(b.all,W=>{const se=Nn(W.cells,DA(w,k)),pe=Pt(se,He=>{const Ye=Wl(He.element);return tC(Ye,"colspan",k-w),Ye}),Te=io.fromTag("tr");return tc(Te,pe),Te}),tm=(b,w)=>{const k=yr.fromTable(b);return Gg(k,w).map(se=>{const pe=se[se.length-1],Te=se[0].column,He=pe.column+pe.colspan,Ye=py(k,Te,He),vt=my(k,Te,He);return[...Ye,...vt]})},qg=(b,w,k)=>{const W=yr.fromTable(b);return rc(W,w).bind(pe=>{const Te=jg(W,k,!1),Ye=Pr(Te).rows.slice(pe[0].row,pe[pe.length-1].row+pe[pe.length-1].rowspan),vt=as(Ye,Ln=>{const fo=Nn(Ln.cells,bo=>!bo.isLocked);return fo.length>0?[{...Ln,cells:fo}]:[]}),zt=d0(vt);return Dc(zt.length>0,zt)}).map(pe=>Wv(pe))},Zg=(b,w,k,W,se,pe)=>({minRow:b,minCol:w,maxRow:k,maxCol:W,allCells:se,selectedCells:pe}),MA=(b,w)=>{const k=b.grid.columns;let se=b.grid.rows,pe=k,Te=0,He=0;const Ye=[],vt=[];return Kt(b.access,zt=>{if(Ye.push(zt),w(zt)){vt.push(zt);const Ln=zt.row,fo=Ln+zt.rowspan-1,bo=zt.column,ss=bo+zt.colspan-1;Ln<se?se=Ln:fo>Te&&(Te=fo),bo<pe?pe=bo:ss>He&&(He=ss)}}),Zg(se,pe,Te,He,Ye,vt)},h0=(b,w,k)=>{const W=b[k].element,se=io.fromTag("td");Jr(se,io.fromTag("br")),(w?Jr:na)(W,se)},b1=(b,w,k,W)=>{const se=Nn(b,He=>He.section!=="colgroup"),pe=w.grid.columns,Te=w.grid.rows;for(let He=0;He<Te;He++){let Ye=!1;for(let vt=0;vt<pe;vt++)He<k.minRow||He>k.maxRow||vt<k.minCol||vt>k.maxCol||(yr.getAt(w,He,vt).filter(W).isNone()?h0(se,Ye,He):Ye=!0)}},PA=(b,w,k,W)=>{Kt(k.columns,Te=>{(Te.column<w.minCol||Te.column>w.maxCol)&&jl(Te.element)});const se=Nn(Vd(b,"tr"),Te=>Te.dom.childElementCount===0);st(se,jl),(w.minCol===w.maxCol||w.minRow===w.maxRow)&&st(Vd(b,"th,td"),Te=>{ti(Te,"rowspan"),ti(Te,"colspan")}),ti(b,r0),ti(b,"data-snooker-col-series"),jv.getTableSize(b).adjustTableWidth(W)},NA=(b,w,k,W)=>{if(W.minCol===0&&w.grid.columns===W.maxCol+1)return 0;const se=Wt(w,b,k),pe=qt(se,(vt,zt)=>vt+zt,0),Ye=qt(se.slice(W.minCol,W.maxCol+1),(vt,zt)=>vt+zt,0)/pe*k.pixelWidth()-k.pixelWidth();return k.getCellDelta(Ye)},gy=(b,w)=>{const k=fo=>pn(fo.element,w),W=Wl(b),se=Oo(W),pe=jv.getTableSize(b),Te=yr.generate(se),He=MA(Te,k),Ye="th:not("+w+"),td:not("+w+")",vt=id(W,"th,td",fo=>pn(fo,Ye));st(vt,jl),b1(se,Te,He,k);const zt=yr.fromTable(b),Ln=NA(b,zt,pe,He);return PA(W,He,Te,Ln),W},Kv=zl("col"),nC=zl("colgroup"),hh=b=>Ci(b)==="tr"||nC(b),y1=b=>{const w=vl(b,"colspan",1),k=vl(b,"rowspan",1);return{element:b,colspan:w,rowspan:k}},hp=(b,w=y1)=>{const k=He=>Kv(He.element)?b.col(He):b.cell(He),W=He=>nC(He.element)?b.colgroup(He):b.row(He),se=He=>{if(hh(He))return W({element:He});{const Ye=He,vt=k(w(Ye));return pe=we.some({item:Ye,replacement:vt}),vt}};let pe=we.none();return{getOrInit:(He,Ye)=>pe.fold(()=>se(He),vt=>Ye(He,vt.item)?vt.replacement:se(He))}},f0=b=>w=>{const k=[],W=(Te,He)=>Se(k,Ye=>He(Ye.item,Te)),se=Te=>{const He=b==="td"?{scope:null}:{},Ye=w.replace(Te,b,He);return k.push({item:Te,sub:Ye}),Ye};return{replaceOrInit:(Te,He)=>{if(hh(Te)||Kv(Te))return Te;{const Ye=Te;return W(Ye,He).fold(()=>se(Ye),vt=>He(Te,vt.item)?vt.sub:se(Ye))}}}},LA=b=>Nc(b,"scope").map(w=>w.substr(0,3)),fh={modification:hp,transform:f0,merging:b=>({unmerge:W=>{const se=LA(W);return se.each(pe=>Sl(W,"scope",pe)),()=>{const pe=b.cell({element:W,colspan:1,rowspan:1});return Du(pe,"width"),Du(W,"width"),se.each(Te=>Sl(pe,"scope",Te)),pe}},merge:W=>{const se=()=>{const pe=ps(Pt(W,LA));if(pe.length===0)return we.none();{const Te=pe[0],He=["row","col"];return nt(pe,vt=>vt!==Te&&on(He,vt))?we.none():we.from(Te)}};return Du(W[0],"width"),se().fold(()=>ti(W[0],"scope"),pe=>Sl(W[0],"scope",pe+"group")),re(W[0])}})},S1=(b,w)=>{const k=b.slice(0,w[w.length-1].row+1),W=d0(k);return as(W,se=>{const pe=se.cells.slice(0,w[w.length-1].column+1);return Pt(pe,Te=>Te.element)})},BA=(b,w)=>{const k=b.slice(w[0].row+w[0].rowspan-1,b.length),W=d0(k);return as(W,se=>{const pe=se.cells.slice(w[0].column+w[0].colspan-1,se.cells.length);return Pt(pe,Te=>Te.element)})},Yv=(b,w,k)=>{const W=yr.fromTable(b);return rc(W,w).map(pe=>{const Te=jg(W,k,!1),{rows:He}=Pr(Te),Ye=S1(He,pe),vt=BA(He,pe);return{upOrLeftCells:Ye,downOrRightCells:vt}})},FA={only:(b,w)=>{const k=Md(b)?tp(b):b;return{parent:re(k),view:re(b),dragContainer:re(k),origin:re(ua(0,0)),isResizable:w}},detached:(b,w,k)=>{const W=()=>Sr(w);return{parent:re(w),view:re(b),dragContainer:re(w),origin:W,isResizable:k}},body:(b,w)=>({parent:re(b),view:re(b),dragContainer:re(b),origin:()=>Sr(b),isResizable:w})},mi=bt.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),HA=(b,w,k)=>{const W=k.substring(0,k.length-b.length),se=parseFloat(W);return W===se.toString()?w(se):mi.invalid(k)},ph={...mi,from:b=>Od(b,"%")?HA("%",mi.percent,b):Od(b,"px")?HA("px",mi.pixels,b):mi.invalid(b)},vy=(b,w)=>Pt(b,k=>ph.from(k).fold(()=>k,se=>se/w*100+"%",se=>se+"%")),kr=(b,w,k)=>{const W=k/w;return Pt(b,se=>ph.from(se).fold(()=>se,Te=>Te*W+"px",Te=>Te/100*k+"px"))},Nl=(b,w)=>{const k=b.fold(()=>re(""),W=>{const se=W/w;return re(se+"px")},()=>{const W=100/w;return re(W+"%")});return Mt(w,k)},C1=(b,w,k)=>b.fold(()=>w,W=>kr(w,k,W),W=>vy(w,k)),oC=(b,w,k)=>{const W=ph.from(k),se=Is(b,pe=>pe==="0px")?Nl(W,b.length):C1(W,b,w);return nw(se)},ia=(b,w)=>b.length===0?w:ho(b,(k,W)=>ph.from(W).fold(re(0),ye,ye)+k,0),p0=(b,w)=>{const k=Math.floor(b);return{value:k+w,remainder:b-k}},E1=(b,w)=>ph.from(b).fold(re(b),k=>k+w+"px",k=>k+w+"%"),nw=b=>{if(b.length===0)return b;const w=ho(b,(W,se)=>{const pe=ph.from(se).fold(()=>({value:se,remainder:0}),Te=>p0(Te,"px"),Te=>({value:Te+"%",remainder:0}));return{output:[pe.value].concat(W.output),remainder:W.remainder+pe.remainder}},{output:[],remainder:0}),k=w.output;return k.slice(0,k.length-1).concat([E1(k[k.length-1],Math.round(w.remainder))])},$A=ph.from,UA=(b,w,k)=>{st(w,W=>{const se=b.slice(W.column,W.colspan+W.column),pe=ia(se,Pl());Dl(W.element,"width",pe+k)})},Yk=(b,w,k)=>{st(w,(W,se)=>{const pe=ia([b[se]],Pl());Dl(W.element,"width",pe+k)})},zA=(b,w,k)=>{st(k,W=>{Du(W.element,"height")}),st(w,(W,se)=>{Dl(W.element,"height",b[se])})},JO=b=>$A(b).fold(re("px"),re("px"),re("%")),jA=(b,w,k)=>{const W=yr.fromTable(b),se=W.all,pe=yr.justCells(W),Te=yr.justColumns(W);w.each(He=>{const Ye=JO(He),vt=_s(b),zt=uh(W,b),Ln=oC(zt,vt,He);yr.hasColumns(W)?Yk(Ln,Te,Ye):UA(Ln,pe,Ye),Dl(b,"width",He)}),k.each(He=>{const Ye=Ld(b),vt=Va(W,b),zt=oC(vt,Ye,He);zA(zt,se,pe),Dl(b,"height",He)})},WA=c0,fp=zm,Hc=OA;var Sf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],nm=()=>{const b=vt=>io.fromDom(vt.dom.cloneNode(!1)),w=vt=>tu(vt).dom,k=vt=>ji(vt)?Ci(vt)==="body"?!0:on(Sf,Ci(vt)):!1,W=vt=>ji(vt)?on(["br","img","hr","input"],Ci(vt)):!1,se=vt=>ji(vt)&&Ru(vt,"contenteditable")==="false",pe=(vt,zt)=>vt.dom.compareDocumentPosition(zt.dom),Te=(vt,zt)=>{const Ln=Pd(vt);Ph(zt,Ln)},He=vt=>{const zt=Ci(vt);return on(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],zt)},Ye=vt=>ji(vt)?Nc(vt,"lang"):we.none();return{up:re({selector:su,closest:ml,predicate:ni,all:Dh}),down:re({selector:sp,predicate:hf}),styles:re({get:Om,getRaw:Nd,set:Dl,remove:Du}),attrs:re({get:Ru,set:Sl,remove:ti,copyTo:Te}),insert:re({before:Wa,after:Mh,afterAll:yl,append:Jr,appendAll:tc,prepend:na,wrap:RE}),remove:re({unwrap:oa,remove:jl}),create:re({nu:io.fromTag,clone:b,text:io.fromText}),query:re({comparePosition:pe,prevSibling:jb,nextSibling:nu}),property:re({children:Ql,name:Ci,parent:Qe,document:w,isText:eu,isComment:HS,isElement:ji,isSpecial:He,getLanguage:Ye,getText:cf,setText:Up,isBoundary:k,isEmptyTag:W,isNonEditable:se}),eq:Bs,is:Ee}};const om=(b,w)=>({item:b,mode:w}),Kg=(b,w,k,W=Gm)=>b.property().parent(w).map(se=>om(se,W)),Gm=(b,w,k,W=qm)=>k.sibling(b,w).map(se=>om(se,W)),qm=(b,w,k,W=qm)=>{const se=b.property().children(w);return k.first(se).map(Te=>om(Te,W))},ow=[{current:Kg,next:Gm,fallback:we.none()},{current:Gm,next:qm,fallback:we.some(Kg)},{current:qm,next:qm,fallback:we.some(Gm)}],sC=(b,w,k,W,se=ow)=>Se(se,Te=>Te.current===k).bind(Te=>Te.current(b,w,W,Te.next).orThunk(()=>Te.fallback.bind(He=>sC(b,w,He,W)))),w1={left:()=>({sibling:(k,W)=>k.query().prevSibling(W),first:k=>k.length>0?we.some(k[k.length-1]):we.none()}),right:()=>({sibling:(k,W)=>k.query().nextSibling(W),first:k=>k.length>0?we.some(k[0]):we.none()})},rC=(b,w,k,W,se,pe)=>sC(b,w,W,se).bind(He=>pe(He.item)?we.none():k(He.item)?we.some(He.item):rC(b,He.item,k,He.mode,se,pe)),iC=(b,w,k,W)=>rC(b,w,k,Gm,w1.left(),W),aC=(b,w,k,W)=>rC(b,w,k,Gm,w1.right(),W),Yg=(b,w)=>({element:b,offset:w}),m0=(b,w,k)=>b.property().isText(w)&&b.property().getText(w).trim().length===0||b.property().isComment(w)?k(w).bind(W=>m0(b,W,k).orThunk(()=>we.some(W))):we.none(),sm=(b,w)=>b.property().isText(w)?b.property().getText(w).length:b.property().children(w).length,lC=(b,w)=>{const k=m0(b,w,b.query().prevSibling).getOr(w);if(b.property().isText(k))return Yg(k,sm(b,k));const W=b.property().children(k);return W.length>0?lC(b,W[W.length-1]):Yg(k,sm(b,k))},sw=lC,cC=nm(),uC=b=>sw(cC,b),GA=b=>w=>b.property().children(w).length===0,tI=(b,w,k)=>qA(b,w,GA(b),k),g0=(b,w,k)=>Cf(b,w,GA(b),k),qA=iC,Cf=aC,v0=nm(),dC=(b,w)=>tI(v0,b,w),Zm=(b,w)=>g0(v0,b,w),Q=(b,w,k)=>qA(v0,b,w,k),m=(b,w,k)=>Cf(v0,b,w,k),C=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],A=(b,w)=>{const k=b.property().name(w);return on(["ol","ul"],k)},R=(b,w)=>{const k=b.property().name(w);return on(C,k)},D=(b,w)=>on(["br","img","hr","input"],b.property().name(w)),V=(b,w,k,W)=>{const se=k[0],pe=k.slice(1);return W(b,w,se,pe)},j=(b,w,k)=>k.length>0?V(b,w,k,Z):we.none(),Z=(b,w,k,W)=>{const se=w(b,k);return ho(W,(pe,Te)=>{const He=w(b,Te);return te(b,pe,He)},se)},te=(b,w,k)=>w.bind(W=>k.filter(Oe(b.eq,W))),ue=(b,w)=>Oe(b.eq,w),ie=(b,w,k,W=Fe)=>{const se=[w].concat(b.up().all(w)),pe=[k].concat(b.up().all(k)),Te=zt=>br(zt,W).fold(()=>zt,fo=>zt.slice(0,fo+1)),He=Te(se),Ye=Te(pe),vt=Se(He,zt=>nt(Ye,ue(b,zt)));return{firstpath:He,secondpath:Ye,shared:vt}},me=j,Ce=ie,Ae=nm(),ke=(b,w)=>me(Ae,(k,W)=>b(W),w),Be=(b,w,k)=>Ce(Ae,b,w,k),Pe=nm(),tt=b=>R(Pe,b),dt=b=>A(Pe,b),Ot=b=>D(Pe,b),Nt=b=>{const w=zl("br"),k=Ye=>Is(Ye,vt=>w(vt)||eu(vt)&&cf(vt).trim().length===0),W=Ye=>Ci(Ye)==="li"||ni(Ye,dt).isSome(),se=Ye=>nu(Ye).map(vt=>tt(vt)?!0:Ot(vt)?Ci(vt)!=="img":!1).getOr(!1),pe=Ye=>qa(Ye).bind(vt=>{const zt=se(vt);return Qe(vt).map(Ln=>zt===!0||W(Ln)||w(vt)||tt(Ln)&&!Bs(Ye,Ln)?[]:[io.fromTag("br")])}).getOr([]),He=(()=>{const Ye=as(b,vt=>{const zt=Ql(vt);return k(zt)?[]:zt.concat(pe(vt))});return Ye.length===0?[io.fromTag("br")]:Ye})();ku(b[0]),tc(b[0],He)},Bt=b=>{ti(b,"width"),ti(b,"height")},Ft=b=>{const w=$h(b);jA(b,we.some(w),we.none()),Bt(b)},$t=b=>{const w=oc(b);jA(b,we.some(w),we.none()),Bt(b)},Hn=b=>{const w=gf(b);jA(b,we.none(),we.some(w)),Bt(b)},lo=b=>{Du(b,"width");const w=jS(b),k=w.length>0?w:Pg(b);st(k,W=>{Du(W,"width"),Bt(W)}),Bt(b)},_n={scope:["row","col"]},Uo=b=>()=>{const w=io.fromTag("td",b.dom);return Jr(w,io.fromTag("br",b.dom)),w},Js=b=>()=>io.fromTag("col",b.dom),ar=b=>()=>io.fromTag("colgroup",b.dom),ns=b=>()=>io.fromTag("tr",b.dom),Cs=(b,w,k)=>{const W=lf(b,w);return Kt(k,(se,pe)=>{se===null?ti(W,pe):Sl(W,pe,se)}),W},qs=b=>b,Da=(b,w,k)=>Vv(b).map(se=>{const pe=k.join(","),Te=oi(se,pe,He=>Bs(He,b));return ho(Te,(He,Ye)=>{const vt=Nh(Ye);return Jr(He,vt),vt},w)}).getOr(w),Ai=(b,w)=>{Kt(_n,(k,W)=>Nc(b,W).filter(se=>on(k,se)).each(se=>Sl(w,W,se)))},lu=(b,w,k)=>{const W=(Te,He)=>{Gb(Te.element,He),Du(He,"height"),Te.colspan!==1&&Du(He,"width")},se=Te=>{const He=io.fromTag(Ci(Te.element),w.dom),Ye=k.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),vt=Ye.length>0?Da(Te.element,He,Ye):He;return Jr(vt,io.fromTag("br")),W(Te,He),Ai(Te.element,He),b(Te.element,He),He};return{col:Te=>{const He=io.fromTag(Ci(Te.element),w.dom);return W(Te,He),b(Te.element,He),He},colgroup:ar(w),row:ns(w),cell:se,replace:Cs,colGap:Js(w),gap:Uo(w)}},Rr=b=>({col:Js(b),colgroup:ar(b),row:ns(b),cell:Uo(b),replace:qs,colGap:Js(b),gap:Uo(b)}),gr=b=>yr.fromTable(b).grid,ui=(b,w,k,W)=>{const se=Pr(b).rows;if(se.length===0)return b;for(let pe=w.startRow;pe<=w.finishRow;pe++)for(let Te=w.startCol;Te<=w.finishCol;Te++){const He=se[pe],Ye=ms(He,Te).isLocked;Tu(He,Te,Li(W(),!1,Ye))}return b},gi=(b,w,k,W)=>{const se=Pr(b).rows;let pe=!0;for(let Te=0;Te<se.length;Te++)for(let He=0;He<Ol(se[0]);He++){const Ye=se[Te],vt=ms(Ye,He),zt=vt.element,Ln=k(zt,w);Ln&&!pe?Tu(Ye,He,Li(W(),!0,vt.isLocked)):Ln&&(pe=!1)}return b},Wr=(b,w)=>qt(b,(k,W)=>nt(k,se=>w(se.element,W.element))?k:k.concat([W]),[]),Xa=(b,w,k,W)=>(w>0&&w<b[0].cells.length&&st(b,se=>{const pe=se.cells[w-1];let Te=0;const He=W();for(;se.cells.length>w+Te&&k(pe.element,se.cells[w+Te].element);)Tu(se,w+Te,Li(He,!0,se.cells[w+Te].isLocked)),Te++}),b),Ti=(b,w,k,W)=>{const se=Pr(b).rows;if(w>0&&w<se.length){const pe=se[w-1].cells,Te=Wr(pe,k);st(Te,He=>{let Ye=we.none();for(let vt=w;vt<se.length;vt++)for(let zt=0;zt<Ol(se[0]);zt++){const Ln=se[vt],fo=ms(Ln,zt);k(fo.element,He.element)&&(Ye.isNone()&&(Ye=we.some(W())),Ye.each(ss=>{Tu(Ln,zt,Li(ss,!0,fo.isLocked))}))}})}return b},Ll=(b,w,k)=>{if(b.row>=w.length||b.column>Ol(w[0]))return ya.error("invalid start address out of table bounds, row: "+b.row+", column: "+b.column);const W=w.slice(b.row),se=W[0].cells.slice(b.column),pe=Ol(k[0]),Te=k.length;return ya.value({rowDelta:W.length-Te,colDelta:se.length-pe})},$u=(b,w)=>{const k=Ol(b[0]),W=Ol(w[0]);return{rowDelta:0,colDelta:k-W}},$d=(b,w)=>{const k=b.length,W=w.length;return{rowDelta:k-W,colDelta:0}},pp=(b,w,k,W)=>{const se=w.section==="colgroup"?k.col:k.cell;return Mt(b,pe=>Li(se(),!0,W(pe)))},Ef=(b,w,k,W)=>{const se=b[b.length-1];return b.concat(Mt(w,()=>{const pe=se.section==="colgroup"?k.colgroup:k.row,Te=nh(se,pe,ye),He=pp(Te.cells.length,Te,k,Ye=>Ps(W,Ye.toString()));return Oh(Te,He)}))},Ud=(b,w,k,W)=>Pt(b,se=>{const pe=pp(w,se,k,Fe);return _c(se,W,pe)}),rm=(b,w,k)=>Pt(b,W=>qt(k,(se,pe)=>{const Te=pp(1,W,w,De)[0];return Xc(se,pe,Te)},W)),mp=(b,w,k)=>{const W=w.colDelta<0?Ud:ye,se=w.rowDelta<0?Ef:ye,pe=Oc(b),Te=Ol(b[0]),He=nt(pe,zt=>zt===Te-1),Ye=W(b,Math.abs(w.colDelta),k,He?Te-1:Te),vt=Oc(Ye);return se(Ye,Math.abs(w.rowDelta),k,kt(vt,De))},Fa=(b,w,k,W)=>{const se=ms(b[w],k),pe=Oe(W,se.element),Te=b[w];return b.length>1&&Ol(Te)>1&&(k>0&&pe(zi(Te,k-1))||k<Te.cells.length-1&&pe(zi(Te,k+1))||w>0&&pe(zi(b[w-1],k))||w<b.length-1&&pe(zi(b[w+1],k)))},Hi=(b,w,k,W,se,pe)=>{const Te=b.row,He=b.column,Ye=k.length,vt=Ol(k[0]),zt=Te+Ye,Ln=He+vt+pe.length,fo=kt(pe,De);for(let bo=Te;bo<zt;bo++){let ss=0;for(let an=He;an<Ln;an++){if(fo[an]){ss++;continue}Fa(w,bo,an,se)&&gi(w,zi(w[bo],an),se,W.cell);const Sn=an-He-ss,As=ms(k[bo-Te],Sn),Ks=As.element,Vo=W.replace(Ks);Tu(w[bo],an,Li(Vo,!0,As.isLocked))}}return w},Ha=(b,w,k)=>{const W=Ol(w[0]),se=Pr(w).cols.length+b.row,pe=Mt(W-b.column,He=>He+b.column),Te=Se(pe,He=>Is(k,Ye=>Ye!==He)).getOr(W-1);return{row:se,column:Te}},al=(b,w,k)=>Nn(k,W=>W>=b.column&&W<=Ol(w[0])+b.column),ic=(b,w,k,W,se)=>{const pe=Oc(w),Te=Ha(b,w,pe),He=Pr(k).rows,Ye=al(Te,He,pe);return Ll(Te,w,He).map(zt=>{const Ln={...zt,colDelta:zt.colDelta-Ye.length},fo=mp(w,Ln,W),bo=Oc(fo),ss=al(Te,He,bo);return Hi(Te,fo,He,W,se,ss)})},ac=(b,w,k,W,se)=>{Xa(w,b,se,W.cell);const pe=$d(k,w),Te=mp(k,pe,W),He=$d(w,Te),Ye=mp(w,He,W);return Pt(Ye,(vt,zt)=>_c(vt,b,Te[zt].cells))},ZA=(b,w,k,W,se)=>{Ti(w,b,se,W.cell);const pe=Oc(w),Te=$u(w,k),He={...Te,colDelta:Te.colDelta-pe.length},Ye=mp(w,He,W),{cols:vt,rows:zt}=Pr(Ye),Ln=Oc(Ye),fo=$u(k,w),bo={...fo,colDelta:fo.colDelta+Ln.length},ss=rm(k,W,Ln),an=mp(ss,bo,W);return[...vt,...zt.slice(0,b),...an,...zt.slice(b,zt.length)]},KA=(b,w,k,W)=>nh(b,se=>W(se,k),w),YA=(b,w,k,W,se)=>{const{rows:pe,cols:Te}=Pr(b),He=pe.slice(0,w),Ye=pe.slice(w),vt=KA(pe[k],(zt,Ln)=>w>0&&w<pe.length&&W(zi(pe[w-1],Ln),zi(pe[w],Ln))?ms(pe[w],Ln):Li(se(zt.element,W),!0,zt.isLocked),W,se);return[...Te,...He,vt,...Ye]},Xk=(b,w,k,W,se,pe,Te)=>{if(k==="colgroup"||!W){const He=ms(b,se);return Li(Te(He.element,pe),!0,!1)}else return ms(b,w)},XA=(b,w,k,W,se)=>Pt(b,pe=>{const Te=w>0&&w<Ol(pe)&&W(zi(pe,w-1),zi(pe,w)),He=Xk(pe,w,pe.section,Te,k,W,se);return Xc(pe,w,He)}),Jk=(b,w)=>as(b,k=>{const W=k.cells,se=ho(w,(pe,Te)=>Te>=0&&Te<pe.length?pe.slice(0,Te).concat(pe.slice(Te+1)):pe,W);return se.length>0?[hc(k.element,se,k.section,k.isNew)]:[]}),_1=(b,w,k)=>{const{rows:W,cols:se}=Pr(b);return[...se,...W.slice(0,w),...W.slice(k+1)]},nI=(b,w,k,W)=>zi(b[w],k)!==void 0&&w>0&&W(zi(b[w-1],k),zi(b[w],k)),A1=(b,w,k)=>w>0&&k(zi(b,w-1),zi(b,w)),JA=(b,w,k,W)=>nI(b,w,k,W)||A1(b[w],k,W),oI=(b,w)=>Is(w,ye)&&Lg(b.cells)?De:(W,se,pe)=>!(Ci(W.element)==="th"&&w[pe]),QA=(b,w)=>Is(w,ye)&&Lg(b)?De:(W,se,pe)=>!(Ci(W.element)==="th"&&w[se]),Xg=(b,w,k,W)=>{const se=Te=>Te==="row"?VE(w):oy(w),pe=Te=>se(Te)?`${Te}group`:Te;return b?Ng(w)?pe(k):null:W&&Ng(w)?pe(k==="row"?"col":"row"):null},rw=(b,w)=>(k,W,se)=>we.some(Xg(b,k.element,"col",w[se])),sI=(b,w)=>(k,W)=>we.some(Xg(b,k.element,"row",w[W])),hC=(b,w,k)=>Li(k(b.element,w),!0,b.isLocked),iw=(b,w,k,W,se,pe,Te)=>{const He=Ye=>nt(w,vt=>k(Ye.element,vt.element));return Pt(b,(Ye,vt)=>ea(Ye,(zt,Ln)=>{if(He(zt)){const fo=Te(zt,vt,Ln)?se(zt,k,W):zt;return pe(fo,vt,Ln).each(bo=>{Iu(fo.element,{scope:we.from(bo)})}),fo}else return zt}))},eT=(b,w,k)=>as(b,(W,se)=>JA(b,se,w,k)?[]:[ms(W,w)]),rI=(b,w,k)=>{const W=b[w];return as(W.cells,(se,pe)=>JA(b,w,pe,k)?[]:[se])},Km=(b,w,k,W,se)=>{const pe=Pr(b).rows,Te=as(w,zt=>eT(pe,zt,W)),He=Pt(pe,zt=>Lg(zt.cells)),Ye=QA(Te,He),vt=sI(k,He);return iw(b,Te,W,se,hC,vt,Ye)},Xv=(b,w,k,W,se,pe,Te)=>{const{cols:He,rows:Ye}=Pr(b),vt=Ye[w[0]],zt=as(w,Sn=>rI(Ye,Sn,se)),Ln=Pt(vt.cells,(Sn,As)=>Lg(eT(Ye,As,se))),fo=[...Ye];st(w,Sn=>{fo[Sn]=Te.transformRow(Ye[Sn],k)});const bo=[...He,...fo],ss=oI(vt,Ln),an=rw(W,Ln);return iw(bo,zt,se,pe,Te.transformCell,an,ss)},fC=(b,w,k,W)=>{const se=Pr(b).rows,pe=Pt(w,Te=>ms(se[Te.row],Te.column));return iw(b,pe,k,W,hC,we.none,De)},sn=b=>qt(b,(k,W)=>nt(k,pe=>pe.column===W.column)?k:k.concat([W]),[]).sort((k,W)=>k.column-W.column),Uh=b=>km(b,!0),pC=b=>{Pg(b).length===0&&jl(b)},aw=(b,w)=>({grid:b,cursor:w}),tT=b=>Dt(b,w=>Dt(w.cells,k=>{const W=k.element;return Dc(Uh(W),W)})),Jg=(b,w,k)=>{const W=Pr(b).rows;return we.from(W[w]?.cells[k]?.element).filter(Uh).orThunk(()=>tT(W))},zd=(b,w,k)=>{const W=Jg(b,w,k);return aw(b,W)},lw=b=>qt(b,(k,W)=>nt(k,pe=>pe.row===W.row)?k:k.concat([W]),[]).sort((k,W)=>k.row-W.row),Qk=(b,w,k,W)=>{const se=w[0].row,pe=lw(w),Te=ho(pe,(He,Ye)=>({grid:YA(He.grid,se,Ye.row+He.delta,k,W.getOrInit),delta:He.delta+1}),{grid:b,delta:0}).grid;return zd(Te,se,w[0].column)},nT=(b,w,k,W)=>{const se=lw(w),pe=se[se.length-1],Te=pe.row+pe.rowspan,He=ho(se,(Ye,vt)=>YA(Ye,Te,vt.row,k,W.getOrInit),b);return zd(He,Te,w[0].column)},eD=(b,w,k,W)=>{const se=w.details,pe=sn(se),Te=pe[0].column,He=ho(pe,(Ye,vt)=>({grid:XA(Ye.grid,Te,vt.column+Ye.delta,k,W.getOrInit),delta:Ye.delta+1}),{grid:b,delta:0}).grid;return zd(He,se[0].row,Te)},T1=(b,w,k,W)=>{const se=w.details,pe=se[se.length-1],Te=pe.column+pe.colspan,He=sn(se),Ye=ho(He,(vt,zt)=>XA(vt,Te,zt.column,k,W.getOrInit),b);return zd(Ye,se[0].row,Te)},iI=(b,w,k,W)=>{const se=sn(w),pe=Pt(se,He=>He.column),Te=Km(b,pe,!0,k,W.replaceOrInit);return zd(Te,w[0].row,w[0].column)},Jv=(b,w,k,W)=>{const se=fC(b,w,k,W.replaceOrInit);return zd(se,w[0].row,w[0].column)},aI=(b,w,k,W)=>{const se=sn(w),pe=Pt(se,He=>He.column),Te=Km(b,pe,!1,k,W.replaceOrInit);return zd(Te,w[0].row,w[0].column)},tD=(b,w,k,W)=>{const se=fC(b,w,k,W.replaceOrInit);return zd(se,w[0].row,w[0].column)},jd=(b,w)=>(k,W,se,pe,Te)=>{const He=lw(W),Ye=Pt(He,zt=>zt.row),vt=Xv(k,Ye,b,w,se,pe.replaceOrInit,Te);return zd(vt,W[0].row,W[0].column)},Qg=jd("thead",!0),wf=jd("tbody",!1),oT=jd("tfoot",!1),mC=(b,w,k,W)=>{const se=sn(w.details),pe=Jk(b,Pt(se,He=>He.column)),Te=pe.length>0?pe[0].cells.length-1:0;return zd(pe,se[0].row,Math.min(se[0].column,Te))},nD=(b,w,k,W)=>{const se=lw(w),pe=_1(b,se[0].row,se[se.length-1].row),Te=Math.max(Pr(pe).rows.length-1,0);return zd(pe,Math.min(w[0].row,Te),w[0].column)},R4=(b,w,k,W)=>{const se=w.cells;Nt(se);const pe=ui(b,w.bounds,k,W.merge(se));return aw(pe,we.from(se[0]))},lI=(b,w,k,W)=>{const pe=ho(w,(Te,He)=>gi(Te,He,k,W.unmerge(He)),b);return aw(pe,we.from(w[0]))},oD=(b,w,k,W)=>{const pe=((Ye,vt)=>{const zt=yr.fromTable(Ye);return jg(zt,vt,!0)})(w.clipboard,w.generators),Te=xh(w.row,w.column);return ic(Te,b,pe,w.generators,k).fold(()=>aw(b,we.some(w.element)),Ye=>zd(Ye,w.row,w.column))},Cr=(b,w,k)=>{const W=ha(b,k.section),se=yr.generate(W);return jg(se,w,!0)},cs=(b,w,k,W)=>{const se=Pr(b).rows,pe=w.cells[0].column,Te=se[w.cells[0].row],He=Cr(w.clipboard,w.generators,Te),Ye=ac(pe,b,He,w.generators,k);return zd(Ye,w.cells[0].row,w.cells[0].column)},cw=(b,w,k,W)=>{const se=Pr(b).rows,pe=w.cells[w.cells.length-1].column+w.cells[w.cells.length-1].colspan,Te=se[w.cells[0].row],He=Cr(w.clipboard,w.generators,Te),Ye=ac(pe,b,He,w.generators,k);return zd(Ye,w.cells[0].row,pe)},sT=(b,w,k,W)=>{const se=Pr(b).rows,pe=w.cells[0].row,Te=se[pe],He=Cr(w.clipboard,w.generators,Te),Ye=ZA(pe,b,He,w.generators,k);return zd(Ye,w.cells[0].row,w.cells[0].column)},cI=(b,w,k,W)=>{const se=Pr(b).rows,pe=w.cells[w.cells.length-1].row+w.cells[w.cells.length-1].rowspan,Te=se[w.cells[0].row],He=Cr(w.clipboard,w.generators,Te),Ye=ZA(pe,b,He,w.generators,k);return zd(Ye,pe,w.cells[0].column)},k4=(b,w)=>{const k=yr.fromTable(b);return rc(k,w).bind(se=>{const pe=se[se.length-1],Te=se[0].column,He=pe.column+pe.colspan,Ye=ws(Pt(k.all,vt=>Nn(vt.cells,zt=>zt.column>=Te&&zt.column<He)));return GS(Ye)}).getOr("")},uI=(b,w)=>{const k=yr.fromTable(b);return rc(k,w).bind(GS).getOr("")},Ta=(b,w)=>{const k=yr.fromTable(b);return rc(k,w).bind(se=>{const pe=se[se.length-1],Te=se[0].row,He=pe.row+pe.rowspan,Ye=k.all.slice(Te,He);return KO(Ye)}).getOr("")},rT=(b,w,k,W)=>fy(b,w,k,W.sizing),uw=(b,w,k,W)=>v1(b,w,k,W.sizing,W.resize),x1=(b,w)=>nt(w,k=>k.column===0&&k.isLocked),dn=(b,w)=>nt(w,k=>k.column+k.colspan>=b.grid.columns&&k.isLocked),iT=(b,w)=>{const k=UE(b),W=sn(w);return qt(W,(se,pe)=>{const He=k[pe.column].map(ca).getOr(0);return se+He},0)},sD=b=>(w,k)=>rc(w,k).filter(W=>!(b?x1:dn)(w,W)).map(W=>({details:W,pixelDelta:iT(w,W)})),aT=(b,w)=>Gg(b,w).map(k=>({details:k,pixelDelta:-iT(b,k)})),rD=b=>(w,k)=>vf(w,k).filter(W=>!(b?x1:dn)(w,W.cells)),by=fh.transform("th"),O1=fh.transform("td"),I1=(b,w,k,W)=>_l(Qk,rc,K,K,fh.modification,b,w,k,W),dI=(b,w,k,W)=>_l(nT,rc,K,K,fh.modification,b,w,k,W),R1=(b,w,k,W)=>_l(eD,sD(!0),uw,K,fh.modification,b,w,k,W),Ea=(b,w,k,W)=>_l(T1,sD(!1),uw,K,fh.modification,b,w,k,W),ev=(b,w,k,W)=>_l(mC,aT,uw,pC,fh.modification,b,w,k,W),iD=(b,w,k,W)=>_l(nD,rc,K,pC,fh.modification,b,w,k,W),yy=(b,w,k,W)=>_l(iI,Gg,K,K,by,b,w,k,W),Ym=(b,w,k,W)=>_l(aI,Gg,K,K,O1,b,w,k,W),D4=(b,w,k,W)=>_l(Qg,rc,K,K,by,b,w,k,W),M4=(b,w,k,W)=>_l(wf,rc,K,K,O1,b,w,k,W),hI=(b,w,k,W)=>_l(oT,rc,K,K,O1,b,w,k,W),P4=(b,w,k,W)=>_l(Jv,Gg,K,K,by,b,w,k,W),N4=(b,w,k,W)=>_l(tD,Gg,K,K,O1,b,w,k,W),L4=(b,w,k,W)=>_l(R4,jm,rT,K,fh.merging,b,w,k,W),B4=(b,w,k,W)=>_l(lI,Zv,rT,K,fh.merging,b,w,k,W),fI=(b,w,k,W)=>_l(oD,uy,rT,K,fh.modification,b,w,k,W),Qn=(b,w,k,W)=>_l(cs,rD(!0),K,K,fh.modification,b,w,k,W),aD=(b,w,k,W)=>_l(cw,rD(!1),K,K,fh.modification,b,w,k,W),cu=(b,w,k,W)=>_l(sT,vf,K,K,fh.modification,b,w,k,W),lD=(b,w,k,W)=>_l(cI,vf,K,K,fh.modification,b,w,k,W),cD=k4,uD=uI,V4=Ta,Fs=(b,w)=>{const k=w.column,W=w.column+w.colspan-1,se=w.row,pe=w.row+w.rowspan-1;return k<=b.finishCol&&W>=b.startCol&&se<=b.finishRow&&pe>=b.startRow},pI=(b,w)=>w.column>=b.startCol&&w.column+w.colspan-1<=b.finishCol&&w.row>=b.startRow&&w.row+w.rowspan-1<=b.finishRow,dD=(b,w)=>{let k=!0;const W=Oe(pI,w);for(let se=w.startRow;se<=w.finishRow;se++)for(let pe=w.startCol;pe<=w.finishCol;pe++)k=k&&yr.getAt(b,se,pe).exists(W);return k?we.some(w):we.none()},Bz=(b,w)=>ol(Math.min(b.row,w.row),Math.min(b.column,w.column),Math.max(b.row+b.rowspan-1,w.row+w.rowspan-1),Math.max(b.column+b.colspan-1,w.column+w.colspan-1)),F4=(b,w,k)=>{const W=yr.findItem(b,w,Bs),se=yr.findItem(b,k,Bs);return W.bind(pe=>se.map(Te=>Bz(pe,Te)))},hD=(b,w,k)=>F4(b,w,k).bind(W=>dD(b,W)),Vz=(b,w,k,W)=>yr.findItem(b,w,Bs).bind(se=>{const pe=k>0?se.row+se.rowspan-1:se.row,Te=W>0?se.column+se.colspan-1:se.column;return yr.getAt(b,pe+k,Te+W).map(Ye=>Ye.element)}),H4=(b,w,k)=>F4(b,w,k).map(W=>{const se=yr.filterItems(b,Oe(Fs,W));return Pt(se,pe=>pe.element)}),fD=(b,w)=>{const k=(W,se)=>Er(se,W);return yr.findItem(b,w,k).map(W=>W.element)},mI=(b,w,k)=>Fd(b).bind(W=>{const se=gp(W);return Vz(se,b,w,k)}),Hs=(b,w,k)=>{const W=gp(b);return H4(W,w,k)},gI=(b,w,k,W,se)=>{const pe=gp(b),Te=Bs(b,k)?we.some(w):fD(pe,w),He=Bs(b,se)?we.some(W):fD(pe,W);return Te.bind(Ye=>He.bind(vt=>H4(pe,Ye,vt)))},Sy=(b,w,k)=>{const W=gp(b);return hD(W,w,k)},gp=yr.fromTable,xo={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Wd=()=>io.fromTag("th"),dw=()=>io.fromTag("td"),hw=()=>io.fromTag("col"),lT=(b,w,k,W)=>{const se=io.fromTag("tr");for(let pe=0;pe<b;pe++){const Te=W<w||pe<k?Wd():dw();pe<k&&Sl(Te,"scope","row"),W<w&&Sl(Te,"scope","col"),Jr(Te,io.fromTag("br")),Jr(se,Te)}return se},gC=b=>{const w=io.fromTag("colgroup");return Mt(b,()=>Jr(w,hw())),w},fw=(b,w,k,W)=>Mt(b,se=>lT(w,k,W,se)),Cy=(b,w,k,W,se,pe=xo)=>{const Te=io.fromTag("table"),He=se!=="cells";sa(Te,pe.styles),Ph(Te,pe.attributes),pe.colGroups&&Jr(Te,gC(w));const Ye=Math.min(b,k);if(He&&k>0){const bo=io.fromTag("thead");Jr(Te,bo);const an=fw(k,w,se==="sectionCells"?Ye:0,W);tc(bo,an)}const vt=io.fromTag("tbody");Jr(Te,vt);const zt=He?b-Ye:b,fo=fw(zt,w,He?0:k,W);return tc(vt,fo),Te},pd=b=>{let w=[];return{bind:pe=>{if(pe===void 0)throw new Error("Event bind error: undefined handler");w.push(pe)},unbind:pe=>{w=Nn(w,Te=>Te!==pe)},trigger:(...pe)=>{const Te={};st(b,(He,Ye)=>{Te[He]=pe[Ye]}),st(w,He=>{He(Te)})}}},Qv=b=>{const w=rn(b,W=>({bind:W.bind,unbind:W.unbind})),k=rn(b,W=>W.trigger);return{registry:w,trigger:k}},$4=wn(["compare","extract","mutate","sink"]),Uu=wn(["element","start","stop","destroy"]),vC=wn(["forceDrop","drop","move","delayDrop"]),U4=()=>{let b=we.none();const w=()=>{b=we.none()},k=(pe,Te)=>{const He=b.map(Ye=>pe.compare(Ye,Te));return b=we.some(Te),He},W=(pe,Te)=>{Te.extract(pe).each(Ye=>{k(Te,Ye).each(zt=>{se.trigger.move(zt)})})},se=Qv({move:pd(["info"])});return{onEvent:W,reset:w,events:se.registry}},Ur=()=>{const b=Qv({move:pd(["info"])});return{onEvent:K,reset:K,events:b.registry}},tv=()=>{const b=Ur(),w=U4();let k=b;return{on:()=>{k.reset(),k=w},off:()=>{k.reset(),k=b},isOn:()=>k===w,onEvent:(He,Ye)=>{k.onEvent(He,Ye)},events:w.events}},k1=(b,w,k)=>{let W=!1;const se=Qv({start:pd([]),stop:pd([])}),pe=tv(),Te=()=>{ss.stop(),pe.isOn()&&(pe.off(),se.trigger.stop())},He=Id(Te,200),Ye=Sn=>{ss.start(Sn),pe.on(),se.trigger.start()},vt=Sn=>{He.cancel(),pe.onEvent(Sn,w)};pe.events.move.bind(Sn=>{w.mutate(b,Sn.info)});const zt=()=>{W=!0},Ln=()=>{W=!1},fo=()=>W,bo=Sn=>(...As)=>{W&&Sn.apply(null,As)},ss=w.sink(vC({forceDrop:Te,drop:bo(Te),move:bo(vt),delayDrop:bo(He.throttle)}),k),an=()=>{ss.destroy()};return{element:ss.element,go:Ye,on:zt,off:Ln,isActive:fo,destroy:an,events:se.registry}},D1=sr("ephox-dragster").resolve,Gr=b=>{const w={layerClass:D1("blocker"),...b},k=io.fromTag("div");return Sl(k,"role","presentation"),Sl(k,"data-mce-bogus","all"),sa(k,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),uf(k,D1("blocker")),uf(k,w.layerClass),{element:re(k),destroy:()=>{jl(k)}}};var pw=$4({compare:(b,w)=>ua(w.left-b.left,w.top-b.top),extract:b=>we.some(ua(b.x,b.y)),sink:(b,w)=>{const k=Gr(w),W=kl(k.element(),"mousedown",b.forceDrop),se=kl(k.element(),"mouseup",b.drop),pe=kl(k.element(),"mousemove",b.move),Te=kl(k.element(),"mouseout",b.delayDrop),He=()=>{k.destroy(),se.unbind(),pe.unbind(),Te.unbind(),W.unbind()},Ye=zt=>{Jr(zt,k.element())},vt=()=>{jl(k.element())};return Uu({element:k.element,start:Ye,stop:vt,destroy:He})},mutate:(b,w)=>{b.mutate(w.left,w.top)}});const z4=(b,w={})=>{const k=w.mode??pw;return k1(b,k,w)},cT=sr("ephox-snooker").resolve,vI=()=>{const b=Qv({drag:pd(["xDelta","yDelta"])});return{mutate:(k,W)=>{b.trigger.drag(k,W)},events:b.registry}},mw=()=>{const b=Qv({drag:pd(["xDelta","yDelta","target"])});let w=we.none();const k=vI();return k.events.drag.bind(pe=>{w.each(Te=>{b.trigger.drag(pe.xDelta,pe.yDelta,Te)})}),{assign:pe=>{w=we.some(pe)},get:()=>w,mutate:k.mutate,events:b.registry}},mD=(b,w,k,W,se)=>{const pe=io.fromTag("div");return sa(pe,{position:"absolute",left:w-W/2+"px",top:k+"px",height:se+"px",width:W+"px"}),Ph(pe,{"data-mce-bogus":"all","data-column":b,role:"presentation"}),pe},j4=(b,w,k,W,se)=>{const pe=io.fromTag("div");return sa(pe,{position:"absolute",left:w+"px",top:k-se/2+"px",height:se+"px",width:W+"px"}),Ph(pe,{"data-mce-bogus":"all","data-row":b,role:"presentation"}),pe},gw=cT("resizer-bar"),bI=cT("resizer-rows"),yI=cT("resizer-cols"),gD=7,vD=(b,w)=>as(b.all,(k,W)=>w(k.element)?[W]:[]),bD=(b,w)=>{const k=[];return Mt(b.grid.columns,W=>{yr.getColumnAt(b,W).map(pe=>pe.element).forall(w)&&k.push(W)}),Nn(k,W=>{const se=yr.filterItems(b,pe=>pe.column===W);return Is(se,pe=>w(pe.element))})},SI=b=>{const w=sp(b.parent(),"."+gw);st(w,jl)},CI=(b,w,k)=>{const W=b.origin();st(w,se=>{se.each(pe=>{const Te=k(W,pe);uf(Te,gw),Jr(b.parent(),Te)})})},ri=(b,w,k,W)=>{CI(b,w,(se,pe)=>{const Te=mD(pe.col,pe.x-se.left,k.top-se.top,gD,W);return uf(Te,yI),Te})},yD=(b,w,k,W)=>{CI(b,w,(se,pe)=>{const Te=j4(pe.row,k.left-se.left,pe.y-se.top,W,gD);return uf(Te,bI),Te})},uT=(b,w,k,W,se)=>{const pe=Sr(k),Te=w.isResizable,He=W.length>0?mf.positions(W,k):[],Ye=He.length>0?vD(b,Te):[],vt=Nn(He,(bo,ss)=>nt(Ye,an=>ss===an));yD(w,vt,pe,ca(k));const zt=se.length>0?ld.positions(se,k):[],Ln=zt.length>0?bD(b,Te):[],fo=Nn(zt,(bo,ss)=>nt(Ln,an=>ss===an));ri(w,fo,pe,l1(k))},EI=(b,w)=>{if(SI(b),b.isResizable(w)){const k=yr.fromTable(w),W=Hh(k),se=UE(k);uT(k,b,w,W,se)}},im=(b,w)=>{const k=sp(b.parent(),"."+gw);st(k,w)},SD=b=>{im(b,w=>{Dl(w,"display","none")})},wI=b=>{im(b,w=>{Dl(w,"display","block")})},W4=b=>df(b,bI),eb=b=>df(b,yI),G4=cT("resizer-bar-dragging"),vw=b=>{const w=mw(),k=z4(w,{});let W=we.none();const se=(an,Sn)=>we.from(Ru(an,Sn));w.events.drag.bind(an=>{se(an.target,"data-row").each(Sn=>{const As=jr(an.target,"top");Dl(an.target,"top",As+an.yDelta+"px")}),se(an.target,"data-column").each(Sn=>{const As=jr(an.target,"left");Dl(an.target,"left",As+an.xDelta+"px")})});const pe=(an,Sn)=>{const As=jr(an,Sn),Ks=vl(an,"data-initial-"+Sn,0);return As-Ks};k.events.stop.bind(()=>{w.get().each(an=>{W.each(Sn=>{se(an,"data-row").each(As=>{const Ks=pe(an,"top");ti(an,"data-initial-top"),ss.trigger.adjustHeight(Sn,Ks,parseInt(As,10))}),se(an,"data-column").each(As=>{const Ks=pe(an,"left");ti(an,"data-initial-left"),ss.trigger.adjustWidth(Sn,Ks,parseInt(As,10))}),EI(b,Sn)})})});const Te=(an,Sn)=>{ss.trigger.startAdjust(),w.assign(an),Sl(an,"data-initial-"+Sn,jr(an,Sn)),uf(an,G4),Dl(an,"opacity","0.2"),k.go(b.dragContainer())},He=kl(b.parent(),"mousedown",an=>{W4(an.target)&&Te(an.target,"top"),eb(an.target)&&Te(an.target,"left")}),Ye=an=>Bs(an,b.view()),vt=an=>ml(an,"table",Ye).filter(km),zt=an=>df(an,"ephox-snooker-resizer-bar")||df(an,"ephox-dragster-blocker"),Ln=kl(b.view(),"mouseover",an=>{vt(an.target).fold(()=>{rs(an.target)&&!zt(an.target)&&SI(b)},Sn=>{k.isActive()&&(W=we.some(Sn),EI(b,Sn))})}),fo=()=>{He.unbind(),Ln.unbind(),k.destroy(),SI(b)},bo=an=>{EI(b,an)},ss=Qv({adjustHeight:pd(["table","delta","row"]),adjustWidth:pd(["table","delta","column"]),startAdjust:pd([])});return{destroy:fo,refresh:bo,on:k.on,off:k.off,hideBars:Oe(SD,b),showBars:Oe(wI,b),events:ss.registry}},q4={create:(b,w,k)=>{const W=mf,se=ld,pe=vw(b),Te=Qv({beforeResize:pd(["table","type"]),afterResize:pd(["table","type"]),startDrag:pd([])});return pe.events.adjustHeight.bind(He=>{const Ye=He.table;Te.trigger.beforeResize(Ye,"row");const vt=W.delta(He.delta,Ye);JE(Ye,vt,He.row),Te.trigger.afterResize(Ye,"row")}),pe.events.startAdjust.bind(He=>{Te.trigger.startDrag()}),pe.events.adjustWidth.bind(He=>{const Ye=He.table;Te.trigger.beforeResize(Ye,"col");const vt=se.delta(He.delta,Ye),zt=k(Ye);em(Ye,vt,He.column,w,zt),Te.trigger.afterResize(Ye,"col")}),{on:pe.on,off:pe.off,refreshBars:pe.refresh,hideBars:pe.hideBars,showBars:pe.showBars,destroy:pe.destroy,events:Te.registry}}},b0=b=>w=>w.options.get(b),dT="100%",CD=b=>{const w=b.dom,k=w.getParent(b.selection.getStart(),w.isBlock)??b.getBody();return Ra(io.fromDom(k))+"px"},Z4=(b,w)=>ww(b)||!fT(b)?w:Ey(b)?{...w,width:CD(b)}:{...w,width:dT},ED=(b,w)=>ww(b)||fT(b)?w:Ey(b)?{...w,width:CD(b)}:{...w,width:dT},jz=b=>{const w=b.options.register;w("table_clone_elements",{processor:"string[]"}),w("table_use_colgroups",{processor:"boolean",default:!0}),w("table_header_type",{processor:k=>{const W=on(["section","cells","sectionCells","auto"],k);return W?{value:k,valid:W}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),w("table_sizing_mode",{processor:"string",default:"auto"}),w("table_default_attributes",{processor:"object",default:{border:"1"}}),w("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),w("table_column_resizing",{processor:k=>{const W=on(["preservetable","resizetable"],k);return W?{value:k,valid:W}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),w("table_resize_bars",{processor:"boolean",default:!0}),w("table_style_by_css",{processor:"boolean",default:!0}),w("table_merge_content_on_paste",{processor:"boolean",default:!0})},wD=b=>we.from(b.options.get("table_clone_elements")),_D=b=>{const w=b.options.get("object_resizing");return on(w.split(","),"table")},yw=b0("table_header_type"),Sw=b0("table_column_resizing"),Cw=b=>Sw(b)==="preservetable",M1=b=>Sw(b)==="resizetable",hT=b0("table_sizing_mode"),Ew=b=>hT(b)==="relative",Ey=b=>hT(b)==="fixed",ww=b=>hT(b)==="responsive",_I=b0("table_resize_bars"),fT=b0("table_style_by_css"),AD=b0("table_merge_content_on_paste"),TD=b=>{const w=b.options,k=w.get("table_default_attributes");return w.isSet("table_default_attributes")?k:ED(b,k)},xD=b=>{const w=b.options,k=w.get("table_default_styles");return w.isSet("table_default_styles")?k:Z4(b,k)},K4=b0("table_use_colgroups"),pT=b=>io.fromDom(b.getBody()),bC=b=>w=>Bs(w,pT(b)),P1=b=>{ti(b,"data-mce-style");const w=k=>ti(k,"data-mce-style");st(Pg(b),w),st(jS(b),w),st(HE(b),w)},N1=b=>io.fromDom(b.selection.getStart()),OD=b=>b.getBoundingClientRect().width,ID=b=>b.getBoundingClientRect().height,RD=b=>(w,k)=>{const W=w.dom.getStyle(k,b)||w.dom.getAttrib(k,b);return we.from(W).filter(dl)},mT=RD("width"),kD=RD("height"),Y4=b=>/^(\d+(\.\d+)?)%$/.test(b),DD=b=>/^(\d+(\.\d+)?)px$/.test(b),gT=b=>c1(b,zl("table")).exists(km),AI=b=>su(b,"table"),vT=(b,w,k)=>{const W=se=>pe=>k!==void 0&&k(pe)||Bs(pe,se);return Bs(b,w)?we.some({boxes:we.some([b]),start:b,finish:w}):AI(b).bind(se=>AI(w).bind(pe=>{if(Bs(se,pe))return we.some({boxes:Hs(se,b,w),start:b,finish:w});if(Er(se,pe)){const Te=oi(w,"td,th",W(se)),He=Te.length>0?Te[Te.length-1]:w;return we.some({boxes:gI(se,b,se,w,pe),start:b,finish:He})}else if(Er(pe,se)){const Te=oi(b,"td,th",W(pe)),He=Te.length>0?Te[Te.length-1]:b;return we.some({boxes:gI(pe,b,se,w,pe),start:b,finish:He})}else return Be(b,w).shared.bind(Te=>ml(Te,"table",k).bind(He=>{const Ye=oi(w,"td,th",W(He)),vt=Ye.length>0?Ye[Ye.length-1]:w,zt=oi(b,"td,th",W(He)),Ln=zt.length>0?zt[zt.length-1]:b;return we.some({boxes:gI(He,b,se,w,pe),start:Ln,finish:vt})}))}))},TI=(b,w)=>{const k=sp(b,w);return k.length>0?we.some(k):we.none()},X4=(b,w)=>Se(b,k=>pn(k,w)),xI=(b,w,k)=>Bd(b,w).bind(W=>Bd(b,k).bind(se=>ke(AI,[W,se]).map(pe=>({first:W,last:se,table:pe})))),MD=(b,w)=>su(b,"table").bind(k=>Bd(k,w).bind(W=>vT(W,b).bind(se=>se.boxes.map(pe=>({boxes:pe,start:se.start,finish:se.finish}))))),PD=(b,w,k,W,se)=>X4(b,se).bind(pe=>mI(pe,w,k).bind(Te=>MD(Te,W))),_w=(b,w)=>TI(b,w),J4=(b,w,k)=>xI(b,w,k).bind(W=>{const se=Ye=>Bs(b,Ye),pe="thead,tfoot,tbody,table",Te=su(W.first,pe,se),He=su(W.last,pe,se);return Te.bind(Ye=>He.bind(vt=>Bs(Ye,vt)?Sy(W.table,W.first,W.last):we.none()))}),OI=ye,II=b=>{const w=(W,se)=>Nc(W,se).exists(pe=>parseInt(pe,10)>1),k=W=>w(W,"rowspan")||w(W,"colspan");return b.length>0&&Is(b,k)?we.some(b):we.none()},Q4=(b,w,k)=>w.length<=1?we.none():J4(b,k.firstSelectedSelector,k.lastSelectedSelector).map(W=>({bounds:W,cells:w})),L1={create:(b,w)=>({selection:b,kill:w})},ND=(b,w,k,W)=>{switch(b.tag){case"none":return w();case"single":return W(b.element);case"multiple":return k(b.elements)}},LD=()=>({tag:"none"}),tB=b=>({tag:"multiple",elements:b}),nB=b=>({tag:"single",element:b}),oB=(b,w,k)=>({get:()=>_w(b(),k).fold(()=>w().fold(LD,nB),tB)}),Aw={create:(b,w,k,W)=>({start:rl.on(b,w),finish:rl.on(k,W)})},RI=(b,w)=>{const k=to(b,w);return Pu.create(io.fromDom(k.startContainer),k.startOffset,io.fromDom(k.endContainer),k.endOffset)},Tw=Aw.create,BD=(b,w,k,W,se,pe,Te)=>Bs(k,se)&&W===pe?we.none():ml(k,"td,th",w).bind(He=>ml(se,"td,th",w).bind(Ye=>xw(b,w,He,Ye,Te))),xw=(b,w,k,W,se)=>Bs(k,W)?we.none():vT(k,W,w).bind(pe=>{const Te=pe.boxes.getOr([]);return Te.length>1?(se(b,Te,pe.start,pe.finish),we.some(L1.create(we.some(Tw(k,0,k,rp(k))),!0))):we.none()}),sB=(b,w,k,W,se)=>{const pe=Te=>(se.clearBeforeUpdate(k),se.selectRange(k,Te.boxes,Te.start,Te.finish),Te.boxes);return PD(W,b,w,se.firstSelectedSelector,se.lastSelectedSelector).map(pe)},yT=bt.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),rB=(b,w,k)=>{const W=b.getRect(w),se=b.getRect(k);return se.right>W.left&&se.left<W.right},VD=b=>ml(b,"tr"),B1={...yT,verify:(b,w,k,W,se,pe,Te)=>ml(W,"td,th",Te).bind(He=>ml(w,"td,th",Te).map(Ye=>Bs(He,Ye)?Bs(W,He)&&rp(He)===se?pe(Ye):yT.none("in same cell"):ke(VD,[He,Ye]).fold(()=>rB(b,Ye,He)?yT.success():pe(Ye),vt=>pe(Ye)))).getOr(yT.none("default")),cata:(b,w,k,W,se)=>b.fold(w,k,W,se)},ST=zl("br"),CT=(b,w,k)=>w(b,k).bind(W=>eu(W)&&cf(W).trim().length===0?CT(W,w,k):we.some(W)),FD=(b,w,k)=>k.traverse(w).orThunk(()=>CT(w,k.gather,b)).map(k.relative),aB=(b,w)=>ht(b,w).filter(ST).orThunk(()=>ht(b,w-1).filter(ST)),ET=(b,w,k,W)=>aB(w,k).bind(se=>W.traverse(se).fold(()=>CT(se,W.gather,b).map(W.relative),pe=>Mm(pe).map(Te=>rl.on(Te.parent,Te.index)))),HD=(b,w,k,W)=>(ST(w)?FD(b,w,W):ET(b,w,k,W)).map(pe=>({start:pe,finish:pe})),$D=b=>B1.cata(b,w=>we.none(),()=>we.none(),w=>we.some(Yg(w,0)),w=>we.some(Yg(w,rp(w)))),wT=(b,w)=>({left:b.left,top:b.top+w,right:b.right,bottom:b.bottom+w}),tb=(b,w)=>({left:b.left,top:b.top-w,right:b.right,bottom:b.bottom-w}),UD=(b,w,k)=>({left:b.left+w,top:b.top+k,right:b.right+w,bottom:b.bottom+k}),lB=b=>b.top,cB=b=>b.bottom,uB=(b,w,k)=>k>=0&&k<rp(w)?b.getRangedRect(w,k,w,k+1):k>0?b.getRangedRect(w,k-1,w,k):we.none(),yC=b=>({left:b.left,top:b.top,right:b.right,bottom:b.bottom}),zD=(b,w)=>we.some(b.getRect(w)),kI=(b,w,k)=>ji(w)?zD(b,w).map(yC):eu(w)?uB(b,w,k).map(yC):we.none(),_T=(b,w)=>ji(w)?zD(b,w).map(yC):eu(w)?b.getRangedRect(w,0,w,rp(w)).map(yC):we.none(),nv=5,Ow=100,nb=bt.generate([{none:[]},{retry:["caret"]}]),AT=(b,w)=>b.left<w.left||Math.abs(w.right-b.left)<1||b.left>w.right,jD=(b,w,k)=>c1(w,tt).fold(Fe,W=>_T(b,W).exists(se=>AT(k,se))),WD=(b,w,k,W,se)=>{const pe=wT(se,nv);return Math.abs(k.bottom-W.bottom)<1||k.top>se.bottom?nb.retry(pe):k.top===se.bottom?nb.retry(wT(se,1)):jD(b,w,se)?nb.retry(UD(pe,nv,0)):nb.none()},GD={point:lB,adjuster:(b,w,k,W,se)=>{const pe=tb(se,nv);return Math.abs(k.top-W.top)<1||k.bottom<se.top?nb.retry(pe):k.bottom===se.top?nb.retry(tb(se,1)):jD(b,w,se)?nb.retry(UD(pe,nv,0)):nb.none()},move:tb,gather:dC},hB={point:cB,adjuster:WD,move:wT,gather:Zm},fB=(b,w,k)=>b.elementFromPoint(w,k).filter(W=>Ci(W)==="table").isSome(),pB=(b,w,k,W,se)=>SC(b,w,k,w.move(W,nv),se),SC=(b,w,k,W,se)=>se===0?we.some(W):fB(b,W.left,w.point(W))?pB(b,w,k,W,se-1):b.situsFromPoint(W.left,w.point(W)).bind(pe=>pe.start.fold(we.none,Te=>_T(b,Te).bind(He=>w.adjuster(b,Te,He,k,W).fold(we.none,Ye=>SC(b,w,k,Ye,se-1))).orThunk(()=>we.some(W)),we.none)),Iw=(b,w,k)=>b.point(w)>k.getInnerHeight()?we.some(b.point(w)-k.getInnerHeight()):b.point(w)<0?we.some(-b.point(w)):we.none(),qD=(b,w,k)=>{const W=b.move(k,nv),se=SC(w,b,k,W,Ow).getOr(W);return Iw(b,se,w).fold(()=>w.situsFromPoint(se.left,b.point(se)),pe=>(w.scrollBy(0,pe),w.situsFromPoint(se.left,b.point(se)-pe)))},Rw={tryUp:Oe(qD,GD),tryDown:Oe(qD,hB),getJumpSize:re(nv)},mB=20,gB=(b,w,k)=>b.getSelection().bind(W=>HD(w,W.finish,W.foffset,k).fold(()=>we.some(Yg(W.finish,W.foffset)),se=>{const pe=b.fromSitus(se),Te=B1.verify(b,W.finish,W.foffset,pe.finish,pe.foffset,k.failure,w);return $D(Te)})),ob=(b,w,k,W,se,pe)=>pe===0?we.none():kw(b,w,k,W,se).bind(Te=>{const He=b.fromSitus(Te),Ye=B1.verify(b,k,W,He.finish,He.foffset,se.failure,w);return B1.cata(Ye,()=>we.none(),()=>we.some(Te),vt=>Bs(k,vt)&&W===0?ov(b,k,W,tb,se):ob(b,w,vt,0,se,pe-1),vt=>Bs(k,vt)&&W===rp(vt)?ov(b,k,W,wT,se):ob(b,w,vt,rp(vt),se,pe-1))}),ov=(b,w,k,W,se)=>kI(b,w,k).bind(pe=>Xo(b,se,W(pe,Rw.getJumpSize()))),Xo=(b,w,k)=>{const W=Rl().browser;return W.isChromium()||W.isSafari()||W.isFirefox()?w.retry(b,k):we.none()},kw=(b,w,k,W,se)=>kI(b,k,W).bind(pe=>Xo(b,se,pe)),ZD=(b,w,k)=>gB(b,w,k).bind(W=>ob(b,w,W.element,W.offset,k,mB).map(b.fromSitus)),KD=(b,w)=>jp(b,k=>Qe(k).exists(W=>Bs(W,w))),V1=(b,w,k,W,se)=>ml(W,"td,th",w).bind(pe=>ml(pe,"table",w).bind(Te=>KD(se,Te)?ZD(b,w,k).bind(He=>ml(He.finish,"td,th",w).map(Ye=>({start:pe,finish:Ye,range:He}))):we.none())),wy=(b,w,k,W,se,pe)=>pe(W,w).orThunk(()=>V1(b,w,k,W,se).map(Te=>{const He=Te.range;return L1.create(we.some(Tw(He.start,He.soffset,He.finish,He.foffset)),!0)})),Dw=(b,w)=>ml(b,"tr",w).bind(k=>ml(k,"table",w).bind(W=>{const se=sp(W,"tr");return Bs(k,se[0])?Q(W,pe=>qa(pe).isSome(),w).map(pe=>{const Te=rp(pe);return L1.create(we.some(Tw(pe,Te,pe,Te)),!0)}):we.none()})),CC=(b,w)=>ml(b,"tr",w).bind(k=>ml(k,"table",w).bind(W=>{const se=sp(W,"tr");return Bs(k,se[se.length-1])?m(W,pe=>Vv(pe).isSome(),w).map(pe=>L1.create(we.some(Tw(pe,0,pe,0)),!0)):we.none()})),sv=(b,w,k,W,se,pe,Te)=>V1(b,k,W,se,pe).bind(He=>xw(w,k,He.start,He.finish,Te)),EC=(b,w)=>ml(b,"td,th",w),DI=b=>Ac(b).exists(km),TT=(b,w,k,W)=>{const se=nl(),pe=se.clear,Te=zt=>{se.on(Ln=>{W.clearBeforeUpdate(w),EC(zt.target,k).each(fo=>{vT(Ln,fo,k).each(bo=>{const ss=bo.boxes.getOr([]);if(ss.length===1){const an=ss[0],Sn=Rg(an)==="false",As=ts(Bv(zt.target),an,Bs);Sn&&As&&W.selectRange(w,ss,an,an)}else ss.length>1&&(W.selectRange(w,ss,bo.start,bo.finish),b.selectContents(fo))})})})};return{clearstate:pe,mousedown:zt=>{W.clear(w),EC(zt.target,k).filter(DI).each(se.set)},mouseover:zt=>{Te(zt)},mouseup:zt=>{Te(zt),pe()}}},Mw={traverse:nu,gather:Zm,relative:rl.before,retry:Rw.tryDown,failure:B1.failedDown},YD={traverse:jb,gather:dC,relative:rl.before,retry:Rw.tryUp,failure:B1.failedUp},_f=b=>w=>w===b,sb=_f(38),F1=_f(40),Xm=b=>b>=37&&b<=40,rb={isBackward:_f(37),isForward:_f(39)},Pw={isBackward:_f(39),isForward:_f(37)},Nw=b=>({elementFromPoint:(Sn,As)=>io.fromPoint(io.fromDom(b.document),Sn,As),getRect:Sn=>Sn.dom.getBoundingClientRect(),getRangedRect:(Sn,As,Ks,Vo)=>{const xi=ae.exact(Sn,As,Ks,Vo);return Mg(b,xi)},getSelection:()=>Nm(b).map(Sn=>RI(b,Sn)),fromSitus:Sn=>{const As=ae.relative(Sn.start,Sn.finish);return RI(b,As)},situsFromPoint:(Sn,As)=>s0(b,Sn,As).map(Ks=>Aw.create(Ks.start,Ks.soffset,Ks.finish,Ks.foffset)),clearSelection:()=>{Ml(b)},collapseSelection:(Sn=!1)=>{Nm(b).each(As=>As.fold(Ks=>Ks.collapse(Sn),(Ks,Vo)=>{const xi=Sn?Ks:Vo;Gp(b,xi,xi)},(Ks,Vo,xi,vi)=>{const $s=Sn?Ks:xi,Gl=Sn?Vo:vi;Wp(b,$s,Gl,$s,Gl)}))},setSelection:Sn=>{Wp(b,Sn.start,Sn.soffset,Sn.finish,Sn.foffset)},setRelativeSelection:(Sn,As)=>{Gp(b,Sn,As)},selectNode:Sn=>{Pm(b,Sn,!1)},selectContents:Sn=>{Pm(b,Sn)},getInnerHeight:()=>b.innerHeight,getScrollY:()=>Di(io.fromDom(b.document)).top,scrollBy:(Sn,As)=>{Mu(Sn,As,io.fromDom(b.document))}}),ib=(b,w)=>({rows:b,cols:w}),MI=(b,w,k,W)=>{const se=Nw(b),pe=TT(se,w,k,W);return{clearstate:pe.clearstate,mousedown:pe.mousedown,mouseover:pe.mouseover,mouseup:pe.mouseup}},XD=b=>c1(b,af).exists(km),Lw=(b,w)=>XD(b)||XD(w),rv=(b,w,k,W)=>{const se=Nw(b),pe=()=>(W.clear(w),we.none());return{keydown:(Ye,vt,zt,Ln,fo,bo)=>{const ss=Ye.raw,an=ss.which,Sn=ss.shiftKey===!0;return TI(w,W.selectedSelector).fold(()=>(Xm(an)&&!Sn&&W.clearBeforeUpdate(w),Xm(an)&&Sn&&!Lw(vt,Ln)?we.none:F1(an)&&Sn?Oe(sv,se,w,k,Mw,Ln,vt,W.selectRange):sb(an)&&Sn?Oe(sv,se,w,k,YD,Ln,vt,W.selectRange):F1(an)?Oe(wy,se,k,Mw,Ln,vt,CC):sb(an)?Oe(wy,se,k,YD,Ln,vt,Dw):we.none),Ks=>{const Vo=xi=>()=>Dt(xi,$s=>sB($s.rows,$s.cols,w,Ks,W)).fold(()=>xI(w,W.firstSelectedSelector,W.lastSelectedSelector).map($s=>{const Gl=F1(an)||bo.isForward(an)?rl.after:rl.before;return se.setRelativeSelection(rl.on($s.first,0),Gl($s.table)),W.clear(w),L1.create(we.none(),!0)}),$s=>we.some(L1.create(we.none(),!0)));return Xm(an)&&Sn&&!Lw(vt,Ln)?we.none:F1(an)&&Sn?Vo([ib(1,0)]):sb(an)&&Sn?Vo([ib(-1,0)]):bo.isBackward(an)&&Sn?Vo([ib(0,-1),ib(-1,0)]):bo.isForward(an)&&Sn?Vo([ib(0,1),ib(1,0)]):Xm(an)&&!Sn?pe:we.none})()},keyup:(Ye,vt,zt,Ln,fo)=>TI(w,W.selectedSelector).fold(()=>{const bo=Ye.raw,ss=bo.which;return bo.shiftKey===!0&&Xm(ss)&&Lw(vt,Ln)?BD(w,k,vt,zt,Ln,fo,W.selectRange):we.none()},we.none)}},JD=(b,w,k,W)=>{const se=Nw(b);return(pe,Te)=>{W.clearBeforeUpdate(w),vT(pe,Te,k).each(He=>{const Ye=He.boxes.getOr([]);W.selectRange(w,Ye,He.start,He.finish),se.selectContents(Te),se.collapseSelection()})}},QD={byClass:b=>{const w=d1(b.selected),k=US([b.selected,b.lastSelected,b.firstSelected]),W=pe=>{const Te=sp(pe,b.selectedSelector);st(Te,k)};return{clearBeforeUpdate:W,clear:W,selectRange:(pe,Te,He,Ye)=>{W(pe),st(Te,w),uf(He,b.firstSelected),uf(Ye,b.lastSelected)},selectedSelector:b.selectedSelector,firstSelectedSelector:b.firstSelectedSelector,lastSelectedSelector:b.lastSelectedSelector}},byAttr:(b,w,k)=>{const W=Ye=>{ti(Ye,b.selected),ti(Ye,b.firstSelected),ti(Ye,b.lastSelected)},se=Ye=>{Sl(Ye,b.selected,"1")},pe=Ye=>{Te(Ye),k()},Te=Ye=>{const vt=sp(Ye,`${b.selectedSelector},${b.firstSelectedSelector},${b.lastSelectedSelector}`);st(vt,W)};return{clearBeforeUpdate:Te,clear:pe,selectRange:(Ye,vt,zt,Ln)=>{pe(Ye),st(vt,se),Sl(zt,b.firstSelected,"1"),Sl(Ln,b.lastSelected,"1"),w(vt,zt,Ln)},selectedSelector:b.selectedSelector,firstSelectedSelector:b.firstSelectedSelector,lastSelectedSelector:b.lastSelectedSelector}}},H1="data-mce-selected",eM="td["+H1+"],th["+H1+"]",tM="["+H1+"]",Af="data-mce-first-selected",y0="td["+Af+"],th["+Af+"]",xT="data-mce-last-selected",wC="td["+xT+"],th["+xT+"]",zh=tM,uu={selected:H1,selectedSelector:eM,firstSelected:Af,firstSelectedSelector:y0,lastSelected:xT,lastSelectedSelector:wC},du=(b,w,k)=>({element:k,mergable:Q4(w,b,uu),unmergable:II(b),selection:OI(b)}),Tf=(b,w,k)=>({element:b,clipboard:w,generators:k}),OT=(b,w,k,W)=>({selection:OI(b),clipboard:k,generators:W}),Jm=b=>Fd(b).bind(w=>_w(w,uu.firstSelectedSelector)).fold(re(b),w=>w[0]),S0=b=>(w,k)=>{const W=Ci(w),se=W==="col"||W==="colgroup"?Jm(w):w;return ml(se,b,k)},js=S0("th,td,caption"),PI=S0("th,td"),ab=b=>nc(b.model.table.getSelectedCells()),nM=b=>Nn(ab(b),w=>pn(w,uu.selectedSelector)),oM=b=>Fd(b[0]).map(w=>{const k=gy(w,zh);return P1(k),[k]}),IT=(b,w)=>Pt(w,k=>b.selection.serializer.serialize(k.dom,{})).join(""),sM=(b,w)=>{const k=b.getDoc(),W=es(io.fromDom(b.getBody())),se=io.fromTag("div",k);Sl(se,"data-mce-bogus","all"),sa(se,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const pe=ls(W);tc(se,w),Jr(pe,se);const Te=se.dom.innerText;return jl(se),Te},rM=(b,w)=>{b.on("BeforeGetContent",k=>{const W=se=>{k.preventDefault(),oM(se).each(pe=>{const Te=k.format==="text"?sM(b,pe):IT(b,pe);k.content=Te})};if(k.selection===!0){const se=nM(b);se.length>=1&&W(se)}}),b.on("BeforeSetContent",k=>{if(k.selection===!0&&k.paste===!0){const W=ab(b);Ze(W).each(se=>{Fd(se).each(pe=>{const Te=Nn(Wb(k.content),Ye=>Ci(Ye)!=="meta"),He=zl("table");if(AD(b)&&Te.length===1&&He(Te[0])){k.preventDefault();const Ye=io.fromDom(b.getDoc()),vt=Rr(Ye),zt=Tf(se,Te[0],vt);w.pasteCells(pe,zt).each(()=>{b.focus()})}})})}})},iM=(b,w)=>b.dispatch("NewRow",{node:w}),RT=(b,w)=>b.dispatch("NewCell",{node:w}),iv=(b,w,k)=>{b.dispatch("TableModified",{...k,table:w})},$1=(b,w,k,W,se)=>{b.dispatch("TableSelectionChange",{cells:w,start:k,finish:W,otherCells:se})},aM=b=>{b.dispatch("TableSelectionClear")},_C=(b,w,k,W,se)=>{b.dispatch("ObjectResizeStart",{target:w,width:k,height:W,origin:se})},lM=(b,w,k,W,se)=>{b.dispatch("ObjectResized",{target:w,width:k,height:W,origin:se})},kT={structure:!1,style:!0},hu={structure:!0,style:!1},yB={structure:!0,style:!0},NI=(b,w)=>Ew(b)?jv.percentageSize(w):Ey(b)?jv.pixelSize(w):jv.getTableSize(w),SB=(b,w,k)=>{const W=md=>Ci(pT(md))==="table",se=md=>!W(b)||gr(md).rows>1,pe=md=>!W(b)||gr(md).columns>1,Te=wD(b),He=M1(b)?K:eC,Ye=md=>{switch(yw(b)){case"section":return Kp.section();case"sectionCells":return Kp.sectionCells();case"cells":return Kp.cells();default:return Kp.getTableSectionType(md,"section")}},vt=(md,Vw)=>Vw.cursor.fold(()=>{const xC=Pg(md);return Ze(xC).filter(rs).map(xf=>{k.clearSelectedCells(md.dom);const $c=b.dom.createRng();return $c.selectNode(xf.dom),b.selection.setRng($c),Sl(xf,"data-mce-selected","1"),$c})},xC=>{const xf=uC(xC),$c=b.dom.createRng();return $c.setStart(xf.element.dom,xf.offset),$c.setEnd(xf.element.dom,xf.offset),b.selection.setRng($c),k.clearSelectedCells(md.dom),we.some($c)}),zt=(md,Vw,xC,xf)=>($c,xB,OB=!1)=>{P1($c);const Yo=io.fromDom(b.getDoc()),eg=lu(xC,Yo,Te),gM={sizing:NI(b,$c),resize:M1(b)?ny():BE(),section:Ye($c)};return Vw($c)?md($c,xB,eg,gM).bind(LT=>{w.refresh($c.dom),st(LT.newRows,Fw=>{iM(b,Fw.dom)}),st(LT.newCells,Fw=>{RT(b,Fw.dom)});const vM=vt($c,LT);return rs($c)&&(P1($c),OB||iv(b,$c.dom,xf)),vM.map(Fw=>({rng:Fw,effect:xf}))}):we.none()},Ln=zt(iD,se,K,hu),fo=zt(ev,pe,K,hu),bo=zt(I1,De,K,hu),ss=zt(dI,De,K,hu),an=zt(R1,De,He,hu),Sn=zt(Ea,De,He,hu),As=zt(L4,De,K,hu),Ks=zt(B4,De,K,hu),Vo=zt(Qn,De,K,hu),xi=zt(aD,De,K,hu),vi=zt(cu,De,K,hu),$s=zt(lD,De,K,hu),Gl=zt(fI,De,K,yB),vp=zt(P4,De,K,hu),Ay=zt(N4,De,K,hu),C0=zt(yy,De,K,hu),E0=zt(Ym,De,K,hu),$i=zt(D4,De,K,hu),mh=zt(M4,De,K,hu),gh=zt(hI,De,K,hu);return{deleteRow:Ln,deleteColumn:fo,insertRowsBefore:bo,insertRowsAfter:ss,insertColumnsBefore:an,insertColumnsAfter:Sn,mergeCells:As,unmergeCells:Ks,pasteColsBefore:Vo,pasteColsAfter:xi,pasteRowsBefore:vi,pasteRowsAfter:$s,pasteCells:Gl,makeCellsHeader:vp,unmakeCellsHeader:Ay,makeColumnsHeader:C0,unmakeColumnsHeader:E0,makeRowsHeader:$i,makeRowsBody:mh,makeRowsFooter:gh,getTableRowType:V4,getTableCellType:uD,getTableColType:cD}},CB=(b,w)=>{b.selection.select(w.dom,!0),b.selection.collapse(!0)},am=(b,w)=>{Bd(w,"td,th").each(Oe(CB,b))},Gz=(b,w)=>{st(sp(w,"tr"),k=>{iM(b,k.dom),st(sp(k,"th,td"),W=>{RT(b,W.dom)})})},DT=b=>p(b)&&b.indexOf("%")!==-1,_y=(b,w,k,W,se)=>{const pe=xD(b),Te={styles:pe,attributes:TD(b),colGroups:K4(b)};return b.undoManager.ignore(()=>{const He=Cy(k,w,se,W,yw(b),Te);Sl(He,"data-mce-id","__mce");const Ye=mr(He);b.insertContent(Ye),b.addVisual()}),Bd(pT(b),'table[data-mce-id="__mce"]').map(He=>(Ey(b)?$t(He):ww(b)?lo(He):(Ew(b)||DT(pe.width))&&Ft(He),P1(He),ti(He,"data-mce-id"),Gz(b,He),am(b,He),He.dom)).getOrNull()},LI=(b,w,k,W={})=>{const se=pe=>H(pe)&&pe>0;if(se(w)&&se(k)){const pe=W.headerRows||0,Te=W.headerColumns||0;return _y(b,k,w,Te,pe)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var AC=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const cM="x-tinymce/dom-table-",BI=cM+"rows",VI=cM+"columns",uM=b=>{const w=AC.FakeClipboardItem(b);AC.write([w])},MT=b=>{const w=AC.read()??[];return Dt(w,k=>we.from(k.getType(b)))},U1=b=>{MT(b).isSome()&&AC.clear()},Qm=b=>{b.fold(EB,w=>uM({[BI]:w}))},dM=()=>MT(BI),EB=()=>U1(BI),FI=b=>{b.fold(HI,w=>uM({[VI]:w}))},PT=()=>MT(VI),HI=()=>U1(VI),TC=b=>js(N1(b),bC(b)).filter(gT),NT=b=>PI(N1(b),bC(b)).filter(gT),$I=(b,w)=>{const k=bC(b),W=()=>TC(b).each(Sn=>{Fd(Sn,k).filter(F(k)).each(As=>{const Ks=io.fromText("");if(Mh(As,Ks),jl(As),b.dom.isEmpty(b.getBody()))b.setContent(""),b.selection.setCursorLocation();else{const Vo=b.dom.createRng();Vo.setStart(Ks.dom,0),Vo.setEnd(Ks.dom,0),b.selection.setRng(Vo),b.nodeChanged()}})}),se=Sn=>TC(b).each(As=>{ww(b)||Ey(b)||Ew(b)||Fd(As,k).each(Vo=>{Sn==="relative"&&!WA(Vo)?Ft(Vo):Sn==="fixed"&&!fp(Vo)?$t(Vo):Sn==="responsive"&&!Hc(Vo)&&lo(Vo),P1(Vo),iv(b,Vo.dom,hu)})}),pe=Sn=>Fd(Sn,k),Te=Sn=>NT(b).bind(As=>pe(As).map(Ks=>Sn(Ks,As))),He=(Sn,As)=>{Te(Ks=>{b.formatter.toggle("tableclass",{value:As},Ks.dom),iv(b,Ks.dom,kT)})},Ye=(Sn,As)=>{Te(Ks=>{const Vo=ab(b),vi=Is(Vo,$s=>b.formatter.match("tablecellclass",{value:As},$s.dom))?b.formatter.remove:b.formatter.apply;st(Vo,$s=>vi("tablecellclass",{value:As},$s.dom)),iv(b,Ks.dom,kT)})},vt=()=>{TC(b).each(Sn=>{Fd(Sn,k).each(As=>{La(As,"caption").fold(()=>{const Ks=io.fromTag("caption");Jr(Ks,io.fromText("Caption")),Ky(As,Ks,0),b.selection.setCursorLocation(Ks.dom,0)},Ks=>{zl("caption")(Sn)&&ur("td",As).each(Vo=>b.selection.setCursorLocation(Vo.dom,0)),jl(Ks)}),iv(b,As.dom,hu)})})},zt=Sn=>{b.focus()},Ln=(Sn,As=!1)=>Te((Ks,Vo)=>{const xi=du(ab(b),Ks,Vo);Sn(Ks,xi,As).each(zt)}),fo=()=>Te((Sn,As)=>{const Ks=du(ab(b),Sn,As),Vo=lu(K,io.fromDom(b.getDoc()),we.none());return qg(Sn,Ks,Vo)}),bo=()=>Te((Sn,As)=>{const Ks=du(ab(b),Sn,As);return tm(Sn,Ks)}),ss=(Sn,As)=>As().each(Ks=>{const Vo=Pt(Ks,xi=>Wl(xi));Te((xi,vi)=>{const $s=Rr(io.fromDom(b.getDoc())),Gl=OT(ab(b),vi,Vo,$s);Sn(xi,Gl).each(zt)})}),an=Sn=>(As,Ks)=>bs(Ks,"type").each(Vo=>{Ln(Sn(Vo),Ks.no_events)});Kt({mceTableSplitCells:()=>Ln(w.unmergeCells),mceTableMergeCells:()=>Ln(w.mergeCells),mceTableInsertRowBefore:()=>Ln(w.insertRowsBefore),mceTableInsertRowAfter:()=>Ln(w.insertRowsAfter),mceTableInsertColBefore:()=>Ln(w.insertColumnsBefore),mceTableInsertColAfter:()=>Ln(w.insertColumnsAfter),mceTableDeleteCol:()=>Ln(w.deleteColumn),mceTableDeleteRow:()=>Ln(w.deleteRow),mceTableCutCol:()=>bo().each(Sn=>{FI(Sn),Ln(w.deleteColumn)}),mceTableCutRow:()=>fo().each(Sn=>{Qm(Sn),Ln(w.deleteRow)}),mceTableCopyCol:()=>bo().each(Sn=>FI(Sn)),mceTableCopyRow:()=>fo().each(Sn=>Qm(Sn)),mceTablePasteColBefore:()=>ss(w.pasteColsBefore,PT),mceTablePasteColAfter:()=>ss(w.pasteColsAfter,PT),mceTablePasteRowBefore:()=>ss(w.pasteRowsBefore,dM),mceTablePasteRowAfter:()=>ss(w.pasteRowsAfter,dM),mceTableDelete:W,mceTableCellToggleClass:Ye,mceTableToggleClass:He,mceTableToggleCaption:vt,mceTableSizingMode:(Sn,As)=>se(As),mceTableCellType:an(Sn=>Sn==="th"?w.makeCellsHeader:w.unmakeCellsHeader),mceTableColType:an(Sn=>Sn==="th"?w.makeColumnsHeader:w.unmakeColumnsHeader),mceTableRowType:an(Sn=>{switch(Sn){case"header":return w.makeRowsHeader;case"footer":return w.makeRowsFooter;default:return w.makeRowsBody}})},(Sn,As)=>b.addCommand(As,Sn)),b.addCommand("mceInsertTable",(Sn,As)=>{LI(b,As.rows,As.columns,As.options)}),b.addCommand("mceTableApplyCellStyle",(Sn,As)=>{const Ks=vi=>"tablecell"+vi.toLowerCase().replace("-","");if(!v(As))return;const Vo=Nn(ab(b),gT);if(Vo.length===0)return;const xi=Mo(As,(vi,$s)=>b.formatter.has(Ks($s))&&p(vi));Zs(xi)||(Kt(xi,(vi,$s)=>{const Gl=Ks($s);st(Vo,vp=>{vi===""?b.formatter.remove(Gl,{value:null},vp.dom,!0):b.formatter.apply(Gl,{value:vi},vp.dom)})}),pe(Vo[0]).each(vi=>iv(b,vi.dom,kT)))})},hM=(b,w)=>{const k=bC(b),W=se=>PI(N1(b)).bind(pe=>Fd(pe,k).map(Te=>{const He=du(ab(b),Te,pe);return se(Te,He)})).getOr("");Kt({mceTableRowType:()=>W(w.getTableRowType),mceTableCellType:()=>W(w.getTableCellType),mceTableColType:()=>W(w.getTableColType)},(se,pe)=>b.addQueryValueHandler(pe,se))},Bw=b=>!df(io.fromDom(b.target),"ephox-snooker-resizer-bar"),wB=(b,w)=>{const k=oB(()=>io.fromDom(b.getBody()),()=>PI(N1(b),bC(b)),uu.selectedSelector),W=(Ye,vt,zt)=>{Fd(vt).each(fo=>{const bo=Pt(Ye,Ks=>Ks.dom),ss=wD(b),an=lu(K,io.fromDom(b.getDoc()),ss),Sn=ab(b),As=Yv(fo,{selection:Sn},an).map(Ks=>rn(Ks,Vo=>Pt(Vo,xi=>xi.dom))).getOrUndefined();$1(b,bo,vt.dom,zt.dom,As)})},se=()=>aM(b),pe=QD.byAttr(uu,W,se);return b.on("init",Ye=>{const vt=b.getWin(),zt=pT(b),Ln=bC(b),fo=()=>{const $i=b.selection,mh=io.fromDom($i.getStart()),gh=io.fromDom($i.getEnd());ke(Fd,[mh,gh]).fold(()=>pe.clear(zt),K)},bo=MI(vt,zt,Ln,pe),ss=rv(vt,zt,Ln,pe),an=JD(vt,zt,Ln,pe),Sn=$i=>$i.raw.shiftKey===!0;b.on("TableSelectorChange",$i=>an($i.start,$i.finish));const As=($i,mh)=>{Sn($i)&&(mh.kill&&$i.kill(),mh.selection.each(gh=>{const lm=ae.relative(gh.start,gh.finish),jh=to(vt,lm);b.selection.setRng(jh)}))},Ks=$i=>{const mh=ta($i);if(mh.raw.shiftKey&&Xm(mh.raw.which)){const gh=b.selection.getRng(),lm=io.fromDom(gh.startContainer),jh=io.fromDom(gh.endContainer);ss.keyup(mh,lm,gh.startOffset,jh,gh.endOffset).each(Ty=>{As(mh,Ty)})}},Vo=$i=>{const mh=ta($i);w.hide();const gh=b.selection.getRng(),lm=io.fromDom(gh.startContainer),jh=io.fromDom(gh.endContainer),Ty=Im(rb,Pw)(io.fromDom(b.selection.getStart()));ss.keydown(mh,lm,gh.startOffset,jh,gh.endOffset,Ty).each(md=>{As(mh,md)}),w.show()},xi=$i=>$i.button===0,vi=$i=>$i.buttons===void 0?!0:($i.buttons&1)!==0,$s=$i=>{bo.clearstate()},Gl=$i=>{xi($i)&&Bw($i)&&bo.mousedown(ta($i))},vp=$i=>{vi($i)&&Bw($i)&&bo.mouseover(ta($i))},Ay=$i=>{xi($i)&&Bw($i)&&bo.mouseup(ta($i))},E0=(()=>{const $i=Vt(io.fromDom(zt)),mh=Vt(0);return{touchEnd:lm=>{const jh=io.fromDom(lm.target);if(zl("td")(jh)||zl("th")(jh)){const Ty=$i.get(),md=mh.get();Bs(Ty,jh)&&lm.timeStamp-md<300&&(lm.preventDefault(),an(jh,jh))}$i.set(jh),mh.set(lm.timeStamp)}}})();b.on("dragstart",$s),b.on("mousedown",Gl),b.on("mouseover",vp),b.on("mouseup",Ay),b.on("touchend",E0.touchEnd),b.on("keyup",Ks),b.on("keydown",Vo),b.on("NodeChange",fo)}),b.on("PreInit",()=>{b.serializer.addTempAttr(uu.firstSelected),b.serializer.addTempAttr(uu.lastSelected)}),{getSelectedCells:()=>ND(k.get(),re([]),Ye=>Pt(Ye,vt=>vt.dom),Ye=>[Ye.dom]),clearSelectedCells:Ye=>pe.clear(io.fromDom(Ye))}},_B=(b,w)=>{const k=io.fromDom(b.getBody());return FA.body(k,w)},fM=b=>z(b)&&b.nodeName==="TABLE",z1="bar-",UI=b=>Ru(b,"data-mce-resize")!=="false",AB=b=>{const w=yr.fromTable(b);yr.hasColumns(w)||st(Pg(b),k=>{const W=Om(k,"width");Dl(k,"width",W),ti(k,"width")})},pM=b=>Aa(b,"corner-"),TB=b=>xd(b,"corner-"),mM=b=>{const w=nl(),k=nl(),W=nl();let se,pe,Te,He;const Ye=Vo=>NI(b,Vo),vt=()=>Cw(b)?BE():ny(),zt=Vo=>gr(Vo).columns,Ln=Vo=>gr(Vo).rows,fo=(Vo,xi,vi,$s)=>{const Gl=TB(xi),vp=Od(Gl,"e"),Ay=Aa(Gl,"n");if(pe===""&&Ft(Vo),He===""&&Hn(Vo),vi!==se&&pe!==""){Dl(Vo,"width",pe);const C0=vt(),E0=Ye(Vo),$i=Cw(b)||vp?zt(Vo)-1:0;em(Vo,vi-se,$i,C0,E0)}else if(Y4(pe)){const C0=parseFloat(pe.replace("%","")),E0=vi*C0/se;Dl(Vo,"width",E0+"%")}if(DD(pe)&&AB(Vo),$s!==Te&&He!==""){Dl(Vo,"height",He);const C0=Ay?0:Ln(Vo)-1;JE(Vo,$s-Te,C0)}},bo=()=>{k.on(Vo=>{Vo.destroy()})};b.on("init",()=>{const Vo=_B(b,UI);if(W.set(Vo),_D(b)&&_I(b)){const xi=vt(),vi=q4.create(Vo,xi,Ye);b.mode.isReadOnly()||vi.on(),vi.events.startDrag.bind($s=>{w.set(b.selection.getRng())}),vi.events.beforeResize.bind($s=>{const Gl=$s.table.dom;_C(b,Gl,OD(Gl),ID(Gl),z1+$s.type)}),vi.events.afterResize.bind($s=>{const Gl=$s.table,vp=Gl.dom;P1(Gl),w.on(Ay=>{b.selection.setRng(Ay),b.focus()}),lM(b,vp,OD(vp),ID(vp),z1+$s.type),b.undoManager.add()}),k.set(vi)}}),b.on("ObjectResizeStart",Vo=>{const xi=Vo.target;if(fM(xi)&&!b.mode.isReadOnly()){const vi=io.fromDom(xi);st(b.dom.select(".mce-clonedresizable"),$s=>{b.dom.addClass($s,"mce-"+Sw(b)+"-columns")}),!fp(vi)&&Ey(b)?$t(vi):!WA(vi)&&Ew(b)&&Ft(vi),Hc(vi)&&Aa(Vo.origin,z1)&&Ft(vi),se=Vo.width,pe=ww(b)?"":mT(b,xi).getOr(""),Te=Vo.height,He=kD(b,xi).getOr("")}}),b.on("ObjectResized",Vo=>{const xi=Vo.target;if(fM(xi)){const vi=io.fromDom(xi),$s=Vo.origin;pM($s)&&fo(vi,$s,Vo.width,Vo.height),P1(vi),iv(b,vi.dom,kT)}});const ss=()=>{k.on(Vo=>{Vo.on(),Vo.showBars()})},an=()=>{k.on(Vo=>{Vo.off(),Vo.hideBars()})};return b.on("DisabledStateChange",Vo=>{Vo.state?an():ss()}),b.on("SwitchMode",()=>{b.mode.isReadOnly()?an():ss()}),b.on("dragstart dragend",Vo=>{Vo.type==="dragstart"?an():ss()}),b.on("remove",()=>{bo()}),{refresh:Vo=>{k.on(xi=>xi.refreshBars(io.fromDom(Vo)))},hide:()=>{k.on(Vo=>Vo.hideBars())},show:()=>{k.on(Vo=>Vo.showBars())}}},pa=b=>{jz(b);const w=mM(b),k=wB(b,w),W=SB(b,w,k);return $I(b,W),hM(b,W),rM(b,W),{getSelectedCells:k.getSelectedCells,clearSelectedCells:k.clearSelectedCells}},j1=b=>({table:pa(b)});var zI=()=>{e.add("dom",j1)};zI()})()),xIe}vXe();var IIe={},RIe={},kIe;function bXe(){return kIe||(kIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=(Ve,lt,Rt)=>Rt(Ve,lt.prototype)?!0:Ve.constructor?.name===lt.name,o=Ve=>{const lt=typeof Ve;return Ve===null?"null":lt==="object"&&Array.isArray(Ve)?"array":lt==="object"&&n(Ve,String,(Rt,pn)=>pn.isPrototypeOf(Rt))?"string":lt},i=Ve=>lt=>o(lt)===Ve,c=Ve=>lt=>typeof lt===Ve,d=Ve=>lt=>Ve===lt,p=i("string"),v=i("object"),S=i("array"),_=d(null),x=c("boolean"),P=Ve=>Ve==null,B=Ve=>!P(Ve),z=c("function"),U=(Ve,lt)=>{if(S(Ve)){for(let Rt=0,pn=Ve.length;Rt<pn;++Rt)if(!lt(Ve[Rt]))return!1;return!0}return!1},H=()=>{},K=Ve=>()=>Ve,oe=(Ve,lt)=>Ve===lt;class ce{tag;value;static singletonNone=new ce(!1);constructor(lt,Rt){this.tag=lt,this.value=Rt}static some(lt){return new ce(!0,lt)}static none(){return ce.singletonNone}fold(lt,Rt){return this.tag?Rt(this.value):lt()}isSome(){return this.tag}isNone(){return!this.tag}map(lt){return this.tag?ce.some(lt(this.value)):ce.none()}bind(lt){return this.tag?lt(this.value):ce.none()}exists(lt){return this.tag&&lt(this.value)}forall(lt){return!this.tag||lt(this.value)}filter(lt){return!this.tag||lt(this.value)?this:ce.none()}getOr(lt){return this.tag?this.value:lt}or(lt){return this.tag?this:lt}getOrThunk(lt){return this.tag?this.value:lt()}orThunk(lt){return this.tag?this:lt()}getOrDie(lt){if(this.tag)return this.value;throw new Error(lt??"Called getOrDie on None")}static from(lt){return B(lt)?ce.some(lt):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(lt){this.tag&&lt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const re=Array.prototype.indexOf,ye=Array.prototype.push,_e=(Ve,lt)=>re.call(Ve,lt),Oe=(Ve,lt)=>_e(Ve,lt)>-1,F=(Ve,lt)=>{const Rt=Ve.length,pn=new Array(Rt);for(let so=0;so<Rt;so++){const ko=Ve[so];pn[so]=lt(ko,so)}return pn},Me=(Ve,lt)=>{for(let Rt=0,pn=Ve.length;Rt<pn;Rt++){const so=Ve[Rt];lt(so,Rt)}},ot=(Ve,lt,Rt)=>(Me(Ve,(pn,so)=>{Rt=lt(Rt,pn,so)}),Rt),Fe=Ve=>{const lt=[];for(let Rt=0,pn=Ve.length;Rt<pn;++Rt){if(!S(Ve[Rt]))throw new Error("Arr.flatten item "+Rt+" was not an array, input: "+Ve);ye.apply(lt,Ve[Rt])}return lt},De=(Ve,lt)=>Fe(F(Ve,lt)),we=(Ve,lt)=>{for(let Rt=0;Rt<Ve.length;Rt++){const pn=lt(Ve[Rt],Rt);if(pn.isSome())return pn}return ce.none()},ct=Object.keys,rt=Object.hasOwnProperty,gt=(Ve,lt)=>{const Rt=ct(Ve);for(let pn=0,so=Rt.length;pn<so;pn++){const ko=Rt[pn],ur=Ve[ko];lt(ur,ko)}},ee=Ve=>(lt,Rt)=>{Ve[Rt]=lt},on=(Ve,lt,Rt,pn)=>{gt(Ve,(so,ko)=>{(lt(so,ko)?Rt:pn)(so,ko)})},nt=(Ve,lt)=>{const Rt={};return on(Ve,lt,ee(Rt),H),Rt},Mt=(Ve,lt)=>rt.call(Ve,lt),Pt=(Ve,lt)=>Mt(Ve,lt)&&Ve[lt]!==void 0&&Ve[lt]!==null,st=Ve=>{let lt=Ve;return{get:()=>lt,set:so=>{lt=so}}},vn=(Ve,lt,Rt=oe)=>Ve.exists(pn=>Rt(pn,lt)),To=Ve=>{const lt=[],Rt=pn=>{lt.push(pn)};for(let pn=0;pn<Ve.length;pn++)Ve[pn].each(Rt);return lt},Nn=(Ve,lt)=>Ve?ce.some(lt):ce.none(),ho=Ve=>{const lt=st(ce.none()),Rt=()=>lt.get().each(Ve);return{clear:()=>{Rt(),lt.set(ce.none())},isSet:()=>lt.get().isSome(),get:()=>lt.get(),set:Bs=>{Rt(),lt.set(ce.some(Bs))}}},qt=()=>{const Ve=ho(H);return{...Ve,on:Rt=>Ve.get().each(Rt)}},Tn=(Ve,lt)=>Ve.substring(lt),Se=(Ve,lt,Rt)=>lt===""||Ve.length>=lt.length&&Ve.substr(Rt,Rt+lt.length)===lt,br=(Ve,lt)=>ws(Ve,lt)?Tn(Ve,lt.length):Ve,ws=(Ve,lt)=>Se(Ve,lt,0),as=Ve=>lt=>lt.options.get(Ve),Is=Ve=>{const lt=Ve.options.register;lt("link_assume_external_targets",{processor:Rt=>{const pn=p(Rt)||x(Rt);return pn?Rt===!0?{value:1,valid:pn}:Rt==="http"||Rt==="https"?{value:Rt,valid:pn}:{value:0,valid:pn}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),lt("link_context_toolbar",{processor:"boolean",default:!1}),lt("link_list",{processor:Rt=>p(Rt)||z(Rt)||U(Rt,v)}),lt("link_default_target",{processor:"string"}),lt("link_default_protocol",{processor:"string",default:"https"}),lt("link_target_list",{processor:Rt=>x(Rt)||U(Rt,v),default:!0}),lt("link_rel_list",{processor:"object[]",default:[]}),lt("link_class_list",{processor:"object[]",default:[]}),lt("link_title",{processor:"boolean",default:!0}),lt("allow_unsafe_link_target",{processor:"boolean",default:!1}),lt("link_quicklink",{processor:"boolean",default:!1}),lt("link_attributes_postprocess",{processor:"function"})},oo=as("link_assume_external_targets"),kt=as("link_context_toolbar"),bn=as("link_list"),mn=as("link_default_target"),Ze=as("link_default_protocol"),mt=as("link_target_list"),Dt=as("link_rel_list"),je=as("link_class_list"),Lt=as("link_title"),Kt=as("allow_unsafe_link_target"),rn=as("link_quicklink"),Ht=as("link_attributes_postprocess");var _t=tinymce.util.Tools.resolve("tinymce.util.URI"),go=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Mo=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ko=Ve=>B(Ve)&&Ve.nodeName.toLowerCase()==="a",Io=Ve=>Ko(Ve)&&!!ys(Ve),bs=(Ve,lt)=>{if(Ve.collapsed)return[];{const Rt=Ve.cloneContents(),pn=Rt.firstChild,so=new go(pn,Rt),ko=[];let ur=pn;do lt(ur)&&ko.push(ur);while(ur=so.next());return ko}},Ps=Ve=>/^\w+:/i.test(Ve),ys=Ve=>Ve.getAttribute("data-mce-href")??Ve.getAttribute("href")??"",Zs=(Ve,lt)=>{const Rt=["noopener"],pn=Ve?Ve.split(/\s+/):[],so=Er=>Mo.trim(Er.sort().join(" ")),ko=Er=>(Er=ur(Er),Er.length>0?Er.concat(Rt):Rt),ur=Er=>Er.filter(Ee=>Mo.inArray(Rt,Ee)===-1),Bs=lt?ko(pn):ur(pn);return Bs.length>0?so(Bs):""},Ds=Ve=>Ve.replace(/\uFEFF/g,""),bt=(Ve,lt)=>(lt=lt||jt(Ve.selection.getRng())[0]||Ve.selection.getNode(),eo(lt)?ce.from(Ve.dom.select("a[href]",lt)[0]):ce.from(Ve.dom.getParent(lt,"a[href]"))),Vt=(Ve,lt)=>bt(Ve,lt).isSome(),Jt=(Ve,lt)=>{const Rt=lt.fold(()=>Ve.getContent({format:"text"}),pn=>pn.innerText||pn.textContent||"");return Ds(Rt)},jt=Ve=>bs(Ve,Io),wo=Ve=>Mo.grep(Ve,Io),Jn=Ve=>wo(Ve).length>0,Zt=Ve=>jt(Ve).length>0,Zn=Ve=>{const lt=Ve.schema.getTextInlineElements(),Rt=ko=>ko.nodeType===1&&!Ko(ko)&&!Mt(lt,ko.nodeName.toLowerCase());if(bt(Ve).exists(ko=>ko.hasAttribute("data-mce-block")))return!1;const so=Ve.selection.getRng();return so.collapsed?!0:bs(so,Rt).length===0},eo=Ve=>B(Ve)&&Ve.nodeName==="FIGURE"&&/\bimage\b/i.test(Ve.className),jo=Ve=>ot(["title","rel","class","target"],(Rt,pn)=>(Ve[pn].each(so=>{Rt[pn]=so.length>0?so:null}),Rt),{href:Ve.href}),Ho=(Ve,lt)=>(lt==="http"||lt==="https")&&!Ps(Ve)?lt+"://"+Ve:Ve,wn=(Ve,lt)=>{const Rt={...lt};if(Dt(Ve).length===0&&!Kt(Ve)){const pn=Zs(Rt.rel,Rt.target==="_blank");Rt.rel=pn||null}return ce.from(Rt.target).isNone()&&mt(Ve)===!1&&(Rt.target=mn(Ve)),Rt.href=Ho(Rt.href,oo(Ve)),Rt},Vr=(Ve,lt,Rt,pn)=>{Rt.each(ko=>{Mt(lt,"innerText")?lt.innerText=ko:lt.textContent=ko}),Ve.dom.setAttribs(lt,pn);const so=Ve.dom.createRng();so.setStartAfter(lt),so.setEndAfter(lt),Ve.selection.setRng(so)},Ws=(Ve,lt,Rt,pn)=>{const so=Ve.dom;eo(lt)?Fl(so,lt,pn):Rt.fold(()=>{Ve.execCommand("mceInsertLink",!1,pn);const ko=Ve.selection.getEnd(),ur=so.createRng();ur.setStartAfter(ko),ur.setEndAfter(ko),Ve.selection.setRng(ur)},ko=>{Ve.insertContent(so.createHTML("a",pn,so.encode(ko)))})},or=(Ve,lt,Rt)=>{const pn=Ve.selection.getNode(),so=bt(Ve,pn),ko=wn(Ve,jo(Rt)),ur=Ht(Ve);B(ur)&&ur(ko),Ve.undoManager.transact(()=>{Rt.href===lt.href&&lt.attach(),so.fold(()=>{Ws(Ve,pn,Rt.text,ko)},Bs=>{Ve.focus(),Vr(Ve,Bs,Rt.text,ko)})})},ya=Ve=>{const lt=Ve.dom,Rt=Ve.selection,pn=Rt.getBookmark(),so=Rt.getRng().cloneRange(),ko=lt.getParent(so.startContainer,"a[href]",Ve.getBody()),ur=lt.getParent(so.endContainer,"a[href]",Ve.getBody());ko&&so.setStartBefore(ko),ur&&so.setEndAfter(ur),Rt.setRng(so),Ve.execCommand("unlink"),Rt.moveToBookmark(pn)},Ni=Ve=>{Ve.undoManager.transact(()=>{const lt=Ve.selection.getNode();eo(lt)?Dc(Ve,lt):ya(Ve),Ve.focus()})},sr=Ve=>{const{class:lt,href:Rt,rel:pn,target:so,text:ko,title:ur}=Ve;return nt({class:lt.getOrNull(),href:Rt,rel:pn.getOrNull(),target:so.getOrNull(),text:ko.getOrNull(),title:ur.getOrNull()},(Bs,Er)=>_(Bs)===!1)},ts=(Ve,lt)=>{const Rt=Ve.options.get,pn={allow_html_data_urls:Rt("allow_html_data_urls"),allow_script_urls:Rt("allow_script_urls"),allow_svg_data_urls:Rt("allow_svg_data_urls")},so=lt.href;return{...lt,href:_t.isDomSafe(so,"a",pn)?so:""}},ps=(Ve,lt,Rt)=>{const pn=ts(Ve,Rt);Ve.hasPlugin("rtc",!0)?Ve.execCommand("createlink",!1,sr(pn)):or(Ve,lt,pn)},ul=Ve=>{Ve.hasPlugin("rtc",!0)?Ve.execCommand("unlink"):Ni(Ve)},Dc=(Ve,lt)=>{const Rt=Ve.dom.select("img",lt)[0];if(Rt){const pn=Ve.dom.getParents(Rt,"a[href]",lt)[0];pn&&(pn.parentNode?.insertBefore(Rt,pn),Ve.dom.remove(pn))}},Fl=(Ve,lt,Rt)=>{const pn=Ve.select("img",lt)[0];if(pn){const so=Ve.create("a",Rt);pn.parentNode?.insertBefore(so,pn),so.appendChild(pn)}},$o=Ve=>p(Ve.value)?Ve.value:"",Jl=Ve=>p(Ve.text)?Ve.text:p(Ve.title)?Ve.title:"",nl=(Ve,lt)=>{const Rt=[];return Mo.each(Ve,pn=>{const so=Jl(pn);if(pn.menu!==void 0){const ko=nl(pn.menu,lt);Rt.push({text:so,items:ko})}else{const ko=lt(pn);Rt.push({text:so,value:ko})}}),Rt},Zf=(Ve=$o)=>lt=>ce.from(lt).map(Rt=>nl(Rt,Ve)),Fr={sanitize:Ve=>Zf($o)(Ve),sanitizeWith:Zf,createUi:(Ve,lt)=>Rt=>({name:Ve,type:"listbox",label:lt,items:Rt}),getValue:$o},Aa=Ve=>Pt(Ve,"items"),Od=(Ve,lt)=>we(lt,Rt=>Aa(Rt)?Od(Ve,Rt.items):Nn(Rt.value===Ve,Rt)),Ju=(Ve,lt,Rt,pn)=>{const so=pn[lt],ko=Ve.length>0;return so!==void 0?Od(so,Rt).map(ur=>({url:{value:ur.value,meta:{text:ko?Ve:ur.text,attach:H}},text:ko?Ve:ur.text})):ce.none()},Yc=(Ve,lt)=>lt==="link"?Ve.link:lt==="anchor"?Ve.anchor:ce.none(),Qu={init:(Ve,lt)=>{const Rt={text:Ve.text,title:Ve.title},pn=Er=>Nn(Rt.title.length<=0,ce.from(Er.meta?.title).getOr("")),so=Er=>Nn(Rt.text.length<=0,ce.from(Er.meta?.text).getOr(Er.value)),ko=Er=>{const Ee=so(Er.url),Ue=pn(Er.url);return Ee.isSome()||Ue.isSome()?ce.some({...Ee.map(ut=>({text:ut})).getOr({}),...Ue.map(ut=>({title:ut})).getOr({})}):ce.none()},ur=(Er,Ee)=>{const Ue=Yc(lt,Ee).getOr([]);return Ju(Rt.text,Ee,Ue,Er)};return{onChange:(Er,Ee)=>{const Ue=Ee.name;return Ue==="url"?ko(Er()):Oe(["anchor","link"],Ue)?ur(Er(),Ue):((Ue==="text"||Ue==="title")&&(Rt[Ue]=Er()[Ue]),ce.none())}}},getDelta:Ju};var Id=tinymce.util.Tools.resolve("tinymce.util.Delay");const uo=(Ve,lt,Rt)=>{const pn=Ve.selection.getRng();Id.setEditorTimeout(Ve,()=>{Ve.windowManager.confirm(lt,so=>{Ve.selection.setRng(pn),Rt(so)})})},Kf=Ve=>{const lt=Ve.href;return lt.indexOf("@")>0&&lt.indexOf("/")===-1&&lt.indexOf("mailto:")===-1?ce.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:pn=>({...pn,href:"mailto:"+lt})}):ce.none()},eh=(Ve,lt)=>Rt=>{const pn=Rt.href;return Ve===1&&!Ps(pn)||Ve===0&&/^\s*www(\.|\d\.)/i.test(pn)?ce.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${lt}:// prefix?`,preprocess:ko=>({...ko,href:lt+"://"+pn})}):ce.none()},Kr={preprocess:(Ve,lt)=>we([Kf,eh(oo(Ve),Ze(Ve))],Rt=>Rt(lt)).fold(()=>Promise.resolve(lt),Rt=>new Promise(pn=>{uo(Ve,Rt.message,so=>{pn(so?Rt.preprocess(lt):lt)})}))},Mc={getAnchors:Ve=>{const lt=Ve.dom.select("a:not([href])"),Rt=De(lt,pn=>{const so=pn.name||pn.id;return so?[{text:so,value:"#"+so}]:[]});return Rt.length>0?ce.some([{text:"None",value:""}].concat(Rt)):ce.none()}},Au={getClasses:Ve=>{const lt=je(Ve);return lt.length>0?Fr.sanitize(lt):ce.none()}},th=Ve=>{try{return ce.some(JSON.parse(Ve))}catch{return ce.none()}},Li={getLinks:Ve=>{const lt=pn=>Ve.convertURL(pn.value||pn.url||"","href"),Rt=bn(Ve);return new Promise(pn=>{p(Rt)?fetch(Rt).then(so=>so.ok?so.text().then(th):Promise.reject()).then(pn,()=>pn(ce.none())):z(Rt)?Rt(so=>pn(ce.some(so))):pn(ce.from(Rt))}).then(pn=>pn.bind(Fr.sanitizeWith(lt)).map(so=>so.length>0?[{text:"None",value:""}].concat(so):so))}},ol={getRels:(Ve,lt)=>{const Rt=Dt(Ve);if(Rt.length>0){const pn=vn(lt,"_blank"),so=Kt(Ve)===!1,ko=Bs=>Zs(Fr.getValue(Bs),pn);return(so?Fr.sanitizeWith(ko):Fr.sanitize)(Rt)}return ce.none()}},Fp=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],_c={getTargets:Ve=>{const lt=mt(Ve);return S(lt)?Fr.sanitize(lt).orThunk(()=>ce.some(Fp)):lt===!1?ce.none():ce.some(Fp)}},Xc=(Ve,lt,Rt)=>{const pn=Ve.getAttrib(lt,Rt);return pn!==null&&pn.length>0?ce.some(pn):ce.none()},Tu=(Ve,lt)=>{const Rt=Ve.dom,so=Zn(Ve)?ce.some(Jt(Ve.selection,lt)):ce.none(),ko=lt.bind(Ue=>ce.from(Rt.getAttrib(Ue,"href"))),ur=lt.bind(Ue=>ce.from(Rt.getAttrib(Ue,"target"))),Bs=lt.bind(Ue=>Xc(Rt,Ue,"rel")),Er=lt.bind(Ue=>Xc(Rt,Ue,"class")),Ee=lt.bind(Ue=>Xc(Rt,Ue,"title"));return{url:ko,text:so,title:Ee,target:ur,rel:Bs,linkClass:Er}},ea={collect:(Ve,lt)=>Li.getLinks(Ve).then(Rt=>{const pn=Tu(Ve,lt);return{anchor:pn,catalogs:{targets:_c.getTargets(Ve),rels:ol.getRels(Ve,pn.target),classes:Au.getClasses(Ve),anchor:Mc.getAnchors(Ve),link:Rt},optNode:lt,flags:{titleEnabled:Lt(Ve)}}})},ms=(Ve,lt)=>Rt=>{const pn=Rt.getData();if(!pn.url.value){ul(Ve),Rt.close();return}const so=Bs=>ce.from(pn[Bs]).filter(Er=>!vn(lt.anchor[Bs],Er)),ko={href:pn.url.value,text:so("text"),target:so("target"),rel:so("rel"),class:so("linkClass"),title:so("title")},ur={href:pn.url.value,attach:pn.url.meta!==void 0&&pn.url.meta.attach?pn.url.meta.attach:H};Kr.preprocess(Ve,ko).then(Bs=>{ps(Ve,ur,Bs)}),Rt.close()},zi=Ve=>{const lt=bt(Ve);return ea.collect(Ve,lt)},Ol=(Ve,lt)=>{const Rt=Ve.anchor,pn=Rt.url.getOr("");return{url:{value:pn,meta:{original:{value:pn}}},text:Rt.text.getOr(""),title:Rt.title.getOr(""),anchor:pn,link:pn,rel:Rt.rel.getOr(""),target:Rt.target.or(lt).getOr(""),linkClass:Rt.linkClass.getOr("")}},Pr=(Ve,lt,Rt)=>{const pn=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],so=Ve.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),ko=Ve.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],ur=ce.from(mn(Rt)),Bs=Ol(Ve,ur),Er=Ve.catalogs,Ee=Qu.init(Bs,Er);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Fe([pn,so,ko,To([Er.anchor.map(Fr.createUi("anchor","Anchors")),Er.rels.map(Fr.createUi("rel","Rel")),Er.targets.map(Fr.createUi("target","Open link in...")),Er.link.map(Fr.createUi("link","Link list")),Er.classes.map(Fr.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Bs,onChange:(ut,{name:un})=>{Ee.onChange(ut.getData,{name:un}).each(Po=>{ut.setData(Po)})},onSubmit:lt}},nh=Ve=>{zi(Ve).then(Rt=>{const pn=ms(Ve,Rt);return Pr(Rt,pn,Ve)}).then(Rt=>{Ve.windowManager.open(Rt)})},Yf=Ve=>{Ve.addCommand("mceLink",(lt,Rt)=>{Rt?.dialog===!0||!rn(Ve)?nh(Ve):Ve.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},fi=Ve=>{Ve.addShortcut("Meta+K","",()=>{Ve.execCommand("mceLink")})};var fc=tinymce.util.Tools.resolve("tinymce.util.VK");const Pc=(Ve,lt)=>{document.body.appendChild(Ve),Ve.dispatchEvent(lt),document.body.removeChild(Ve)},nf=Ve=>{const lt=document.createElement("a");lt.target="_blank",lt.href=Ve,lt.rel="noreferrer noopener";const Rt=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Rt),Pc(lt,Rt)},io=Ve=>Ve.altKey===!0&&Ve.shiftKey===!1&&Ve.ctrlKey===!1&&Ve.metaKey===!1,xu=(Ve,lt)=>{if(lt){const Rt=ys(lt);if(/^#/.test(Rt)){const pn=Ve.dom.select(`${Rt},[name="${br(Rt,"#")}"]`);pn.length&&Ve.selection.scrollIntoView(pn[0],!0)}else nf(lt.href)}},Il=Ve=>{const lt=Ve.selection.getRng(),Rt=lt.startContainer;return Io(Rt)&&lt.startContainer===lt.endContainer&&Ve.dom.select("img",Rt).length===1},pc=(Ve,lt)=>{const Rt=wo(Ve.dom.getParents(lt));return Nn(Rt.length===1,Rt[0])},ki=Ve=>{const lt=jt(Ve.selection.getRng());return Nn(lt.length>0,lt[0]).or(pc(Ve,Ve.selection.getNode()))},Tm=Ve=>Ve.selection.isCollapsed()||Il(Ve)?pc(Ve,Ve.selection.getStart()):ki(Ve),$l=Ve=>{const lt=qt(),Rt=()=>lt.get().or(Tm(Ve)),pn=()=>Rt().each(so=>xu(Ve,so));return Ve.on("contextmenu",so=>{pc(Ve,so.target).each(lt.set)}),Ve.on("SelectionChange",()=>{lt.isSet()||Tm(Ve).each(lt.set)}),Ve.on("click",so=>{lt.clear();const ko=wo(Ve.dom.getParents(so.target));ko.length===1&&fc.metaKeyPressed(so)&&(so.preventDefault(),xu(Ve,ko[0]))}),Ve.on("keydown",so=>{lt.clear(),!so.isDefaultPrevented()&&so.keyCode===13&&io(so)&&Rt().each(ko=>{so.preventDefault(),xu(Ve,ko)})}),{gotoSelectedLink:pn}},Jc=Ve=>()=>{Ve.execCommand("mceLink",!1,{dialog:!0})},Xf=(Ve,lt)=>(Ve.on("NodeChange",lt),()=>Ve.off("NodeChange",lt)),of=Ve=>lt=>{const Rt=()=>{lt.setActive(!Ve.mode.isReadOnly()&&Vt(Ve,Ve.selection.getNode())),lt.setEnabled(Ve.selection.isEditable())};return Rt(),Xf(Ve,Rt)},ed=Ve=>lt=>{const Rt=()=>{lt.setEnabled(Ve.selection.isEditable())};return Rt(),Xf(Ve,Rt)},Jf=Ve=>lt=>{const Rt=ko=>Jn(ko)||Zt(Ve.selection.getRng()),pn=Ve.dom.getParents(Ve.selection.getStart()),so=ko=>{lt.setEnabled(Rt(ko)&&Ve.selection.isEditable())};return so(pn),Xf(Ve,ko=>so(ko.parents))},Rd=(Ve,lt)=>{Ve.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Jc(Ve),onSetup:of(Ve)}),Ve.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:lt.gotoSelectedLink,onSetup:Jf(Ve)}),Ve.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>ul(Ve),onSetup:Jf(Ve)})},kd=(Ve,lt)=>{Ve.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:lt.gotoSelectedLink,onSetup:Jf(Ve)}),Ve.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Jc(Ve),onSetup:ed(Ve)}),Ve.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>ul(Ve),onSetup:Jf(Ve)})},mc=Ve=>{const lt="link unlink openlink",Rt="link";Ve.ui.registry.addContextMenu("link",{update:pn=>Ve.dom.isEditable(pn)?Jn(Ve.dom.getParents(pn,"a"))?lt:Rt:""})},to=(Ve,lt)=>{const Rt=ko=>{ko.selection.collapse(!1)},pn=ko=>{const ur=Ve.selection.getNode();return ko.setEnabled(Vt(Ve,ur)&&Ve.selection.isEditable()),H},so=ko=>{const ur=bt(Ve),Bs=Zn(Ve);if(ur.isNone()&&Bs){const Er=Jt(Ve.selection,ur);return Nn(Er.length===0,ko)}else return ce.none()};Ve.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:of(Ve)},label:"Link",predicate:ko=>kt(Ve)&&Vt(Ve,ko),initValue:()=>bt(Ve).fold(K(""),ys),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:ko=>{const ur=Ve.selection.getNode();return ko.setActive(Vt(Ve,ur)),of(Ve)(ko)},onAction:ko=>{const ur=ko.getValue(),Bs=so(ur);ps(Ve,{href:ur,attach:H},{href:ur,text:Bs,title:ce.none(),rel:ce.none(),target:ce.from(mn(Ve)),class:ce.none()}),Rt(Ve),ko.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:pn,onAction:ko=>{ul(Ve),ko.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:pn,onAction:ko=>{lt.gotoSelectedLink(),ko.hide()}}]})},Ou=Ve=>{const lt=$l(Ve);Rd(Ve,lt),kd(Ve,lt),mc(Ve),to(Ve,lt)};var Ih=()=>{e.add("link",Ve=>{Is(Ve),Yf(Ve),Ou(Ve),fi(Ve)})};Ih()})()),RIe}var DIe;function yXe(){return DIe||(DIe=1,bXe()),IIe}yXe();var MIe={},PIe={},NIe;function SXe(){return NIe||(NIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=Object.getPrototypeOf,o=(Ee,Ue,ut)=>ut(Ee,Ue.prototype)?!0:Ee.constructor?.name===Ue.name,i=Ee=>{const Ue=typeof Ee;return Ee===null?"null":Ue==="object"&&Array.isArray(Ee)?"array":Ue==="object"&&o(Ee,String,(ut,un)=>un.isPrototypeOf(ut))?"string":Ue},c=Ee=>Ue=>i(Ue)===Ee,d=Ee=>Ue=>typeof Ue===Ee,p=Ee=>Ue=>Ee===Ue,v=(Ee,Ue)=>_(Ee)&&o(Ee,Ue,(ut,un)=>n(ut)===un),S=c("string"),_=c("object"),x=Ee=>v(Ee,Object),P=c("array"),B=p(null),z=d("boolean"),U=Ee=>Ee==null,H=Ee=>!U(Ee),K=d("function"),oe=d("number"),ce=(Ee,Ue)=>{if(P(Ee)){for(let ut=0,un=Ee.length;ut<un;++ut)if(!Ue(Ee[ut]))return!1;return!0}return!1},re=()=>{};class ye{tag;value;static singletonNone=new ye(!1);constructor(Ue,ut){this.tag=Ue,this.value=ut}static some(Ue){return new ye(!0,Ue)}static none(){return ye.singletonNone}fold(Ue,ut){return this.tag?ut(this.value):Ue()}isSome(){return this.tag}isNone(){return!this.tag}map(Ue){return this.tag?ye.some(Ue(this.value)):ye.none()}bind(Ue){return this.tag?Ue(this.value):ye.none()}exists(Ue){return this.tag&&Ue(this.value)}forall(Ue){return!this.tag||Ue(this.value)}filter(Ue){return!this.tag||Ue(this.value)?this:ye.none()}getOr(Ue){return this.tag?this.value:Ue}or(Ue){return this.tag?this:Ue}getOrThunk(Ue){return this.tag?this.value:Ue()}orThunk(Ue){return this.tag?this:Ue()}getOrDie(Ue){if(this.tag)return this.value;throw new Error(Ue??"Called getOrDie on None")}static from(Ue){return H(Ue)?ye.some(Ue):ye.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ue){this.tag&&Ue(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const _e=Array.prototype.push,Oe=Ee=>{const Ue=[];for(let ut=0,un=Ee.length;ut<un;++ut){if(!P(Ee[ut]))throw new Error("Arr.flatten item "+ut+" was not an array, input: "+Ee);_e.apply(Ue,Ee[ut])}return Ue},F=(Ee,Ue)=>Ue>=0&&Ue<Ee.length?ye.some(Ee[Ue]):ye.none(),Me=Ee=>F(Ee,0),ot=(Ee,Ue)=>{for(let ut=0;ut<Ee.length;ut++){const un=Ue(Ee[ut],ut);if(un.isSome())return un}return ye.none()},Fe=Object.keys,De=Object.hasOwnProperty,we=(Ee,Ue)=>{const ut=Fe(Ee);for(let un=0,Po=ut.length;un<Po;un++){const Vs=ut[un],L=Ee[Vs];Ue(L,Vs)}},ct=Ee=>(Ue,ut)=>{Ee[ut]=Ue},rt=(Ee,Ue,ut,un)=>{we(Ee,(Po,Vs)=>{(Ue(Po,Vs)?ut:un)(Po,Vs)})},gt=(Ee,Ue)=>{const ut={};return rt(Ee,Ue,ct(ut),re),ut},ee=(Ee,Ue)=>De.call(Ee,Ue),on=(Ee,Ue)=>ee(Ee,Ue)&&Ee[Ue]!==void 0&&Ee[Ue]!==null,Pt=(Ee=>(...Ue)=>{if(Ue.length===0)throw new Error("Can't merge zero objects");const ut={};for(let un=0;un<Ue.length;un++){const Po=Ue[un];for(const Vs in Po)ee(Po,Vs)&&(ut[Vs]=Ee(ut[Vs],Po[Vs]))}return ut})((Ee,Ue)=>x(Ee)&&x(Ue)?Pt(Ee,Ue):Ue),st=Ee=>Ee.length>0,vn=(Ee,Ue)=>{const un=(Ue||document).createElement("div");if(un.innerHTML=Ee,!un.hasChildNodes()||un.childNodes.length>1){const Po="HTML does not have a single root node";throw console.error(Po,Ee),new Error(Po)}return ho(un.childNodes[0])},To=(Ee,Ue)=>{const un=(Ue||document).createElement(Ee);return ho(un)},Nn=(Ee,Ue)=>{const un=(Ue||document).createTextNode(Ee);return ho(un)},ho=Ee=>{if(Ee==null)throw new Error("Node cannot be null or undefined");return{dom:Ee}},Tn={fromHtml:vn,fromTag:To,fromText:Nn,fromDom:ho,fromPoint:(Ee,Ue,ut)=>ye.from(Ee.dom.elementFromPoint(Ue,ut)).map(ho)},Se=(Ee,Ue,ut)=>{if(S(ut)||z(ut)||oe(ut))Ee.setAttribute(Ue,ut+"");else throw console.error("Invalid call to Attribute.set. Key ",Ue,":: Value ",ut,":: Element ",Ee),new Error("Attribute value was not simple")},br=(Ee,Ue,ut)=>{Se(Ee.dom,Ue,ut)},ws=(Ee,Ue)=>{Ee.dom.removeAttribute(Ue)};var as=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Is=tinymce.util.Tools.resolve("tinymce.util.URI");const oo=Ee=>Ue=>Ue.options.get(Ee),kt=Ee=>{const Ue=Ee.options.register;Ue("image_dimensions",{processor:"boolean",default:!0}),Ue("image_advtab",{processor:"boolean",default:!1}),Ue("image_uploadtab",{processor:"boolean",default:!0}),Ue("image_prepend_url",{processor:"string",default:""}),Ue("image_class_list",{processor:"object[]"}),Ue("image_description",{processor:"boolean",default:!0}),Ue("image_title",{processor:"boolean",default:!1}),Ue("image_caption",{processor:"boolean",default:!1}),Ue("image_list",{processor:ut=>{const un=ut===!1||S(ut)||ce(ut,_)||K(ut);return un?{value:ut,valid:un}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},bn=oo("image_dimensions"),mn=oo("image_advtab"),Ze=oo("image_uploadtab"),mt=oo("image_prepend_url"),Dt=oo("image_class_list"),je=oo("image_description"),Lt=oo("image_title"),Kt=oo("image_caption"),rn=oo("image_list"),Ht=oo("a11y_advanced_options"),_t=oo("automatic_uploads"),go=Ee=>st(Ee.options.get("images_upload_url")),Mo=Ee=>H(Ee.options.get("images_upload_handler")),Ko=(Ee,Ue)=>Math.max(parseInt(Ee,10),parseInt(Ue,10)),Io=Ee=>new Promise(Ue=>{const ut=document.createElement("img"),un=Vs=>{ut.parentNode&&ut.parentNode.removeChild(ut),Ue(Vs)};ut.addEventListener("load",()=>{const Vs=Ko(ut.width,ut.clientWidth),L=Ko(ut.height,ut.clientHeight),X={width:Vs,height:L};un(Promise.resolve(X))}),ut.addEventListener("error",()=>{un(Promise.reject(`Failed to get image dimensions for: ${Ee}`))});const Po=ut.style;Po.visibility="hidden",Po.position="fixed",Po.bottom=Po.left="0px",Po.width=Po.height="auto",document.body.appendChild(ut),ut.src=Ee}),bs=Ee=>(Ee&&(Ee=Ee.replace(/px$/,"")),Ee),Ps=Ee=>(Ee.length>0&&/^[0-9]+$/.test(Ee)&&(Ee+="px"),Ee),ys=Ee=>{if(Ee.margin){const Ue=String(Ee.margin).split(" ");switch(Ue.length){case 1:Ee["margin-top"]=Ee["margin-top"]||Ue[0],Ee["margin-right"]=Ee["margin-right"]||Ue[0],Ee["margin-bottom"]=Ee["margin-bottom"]||Ue[0],Ee["margin-left"]=Ee["margin-left"]||Ue[0];break;case 2:Ee["margin-top"]=Ee["margin-top"]||Ue[0],Ee["margin-right"]=Ee["margin-right"]||Ue[1],Ee["margin-bottom"]=Ee["margin-bottom"]||Ue[0],Ee["margin-left"]=Ee["margin-left"]||Ue[1];break;case 3:Ee["margin-top"]=Ee["margin-top"]||Ue[0],Ee["margin-right"]=Ee["margin-right"]||Ue[1],Ee["margin-bottom"]=Ee["margin-bottom"]||Ue[2],Ee["margin-left"]=Ee["margin-left"]||Ue[1];break;case 4:Ee["margin-top"]=Ee["margin-top"]||Ue[0],Ee["margin-right"]=Ee["margin-right"]||Ue[1],Ee["margin-bottom"]=Ee["margin-bottom"]||Ue[2],Ee["margin-left"]=Ee["margin-left"]||Ue[3]}delete Ee.margin}return Ee},Zs=(Ee,Ue)=>{const ut=rn(Ee);S(ut)?fetch(ut).then(un=>{un.ok&&un.json().then(Ue)}):K(ut)?ut(Ue):Ue(ut)},Ds=(Ee,Ue,ut)=>{const un=()=>{ut.onload=ut.onerror=null,Ee.selection&&(Ee.selection.select(ut),Ee.nodeChanged())};ut.onload=()=>{!Ue.width&&!Ue.height&&bn(Ee)&&Ee.dom.setAttribs(ut,{width:String(ut.clientWidth),height:String(ut.clientHeight)}),un()},ut.onerror=un},bt=Ee=>new Promise((Ue,ut)=>{const un=new FileReader;un.onload=()=>{Ue(un.result)},un.onerror=()=>{ut(un.error?.message)},un.readAsDataURL(Ee)}),Vt=Ee=>Ee.nodeName==="IMG"&&(Ee.hasAttribute("data-mce-object")||Ee.hasAttribute("data-mce-placeholder")),Jt=(Ee,Ue)=>{const ut=Ee.options.get;return Is.isDomSafe(Ue,"img",{allow_html_data_urls:ut("allow_html_data_urls"),allow_script_urls:ut("allow_script_urls"),allow_svg_data_urls:ut("allow_svg_data_urls")})},jt=as.DOM,wo=Ee=>Ee.style.marginLeft&&Ee.style.marginRight&&Ee.style.marginLeft===Ee.style.marginRight?bs(Ee.style.marginLeft):"",Jn=Ee=>Ee.style.marginTop&&Ee.style.marginBottom&&Ee.style.marginTop===Ee.style.marginBottom?bs(Ee.style.marginTop):"",Zt=Ee=>Ee.style.borderWidth?bs(Ee.style.borderWidth):"",Zn=(Ee,Ue)=>Ee.hasAttribute(Ue)?Ee.getAttribute(Ue)??"":"",eo=Ee=>Ee.parentNode!==null&&Ee.parentNode.nodeName==="FIGURE",jo=(Ee,Ue,ut)=>{ut===""||ut===null?Ee.removeAttribute(Ue):Ee.setAttribute(Ue,ut)},Ho=Ee=>{const Ue=jt.create("figure",{class:"image"});jt.insertAfter(Ue,Ee),Ue.appendChild(Ee),Ue.appendChild(jt.create("figcaption",{contentEditable:"true"},"Caption")),Ue.contentEditable="false"},wn=Ee=>{const Ue=Ee.parentNode;H(Ue)&&(jt.insertAfter(Ee,Ue),jt.remove(Ue))},Vr=Ee=>{eo(Ee)?wn(Ee):Ho(Ee)},Ws=(Ee,Ue)=>{const ut=Ee.getAttribute("style"),un=Ue(ut!==null?ut:"");un.length>0?(Ee.setAttribute("style",un),Ee.setAttribute("data-mce-style",un)):Ee.removeAttribute("style")},or=(Ee,Ue)=>(ut,un,Po)=>{const Vs=ut.style;Vs[un]?(Vs[un]=Ps(Po),Ws(ut,Ue)):jo(ut,un,Po)},ya=(Ee,Ue)=>Ee.style[Ue]?bs(Ee.style[Ue]):Zn(Ee,Ue),Ni=(Ee,Ue)=>{const ut=Ps(Ue);Ee.style.marginLeft=ut,Ee.style.marginRight=ut},sr=(Ee,Ue)=>{const ut=Ps(Ue);Ee.style.marginTop=ut,Ee.style.marginBottom=ut},ts=(Ee,Ue)=>{const ut=Ps(Ue);Ee.style.borderWidth=ut},ps=(Ee,Ue)=>{Ee.style.borderStyle=Ue},ul=Ee=>Ee.style.borderStyle??"",Dc=Ee=>H(Ee)&&Ee.nodeName==="FIGURE",Fl=Ee=>Ee.nodeName==="IMG",$o=Ee=>{const Ue=jt.getAttrib(Ee,"alt"),ut=jt.getAttrib(Ee,"role");return Ee.hasAttribute("alt")&&Ue.length===0||ut==="presentation"||ut==="none"},Jl=Ee=>$o(Ee)?"":Zn(Ee,"alt"),nl=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Zf=(Ee,Ue)=>{const ut=document.createElement("img");return jo(ut,"style",Ue.style),(wo(ut)||Ue.hspace!=="")&&Ni(ut,Ue.hspace),(Jn(ut)||Ue.vspace!=="")&&sr(ut,Ue.vspace),(Zt(ut)||Ue.border!=="")&&ts(ut,Ue.border),(ul(ut)||Ue.borderStyle!=="")&&ps(ut,Ue.borderStyle),Ee(ut.getAttribute("style")??"")},Hl=(Ee,Ue)=>{const ut=document.createElement("img");if(Yc(Ee,{...Ue,caption:!1},ut),Aa(ut,Ue.alt,Ue.isDecorative),Ue.caption){const un=jt.create("figure",{class:"image"});return un.appendChild(ut),un.appendChild(jt.create("figcaption",{contentEditable:"true"},"Caption")),un.contentEditable="false",un}else return ut},xd=(Ee,Ue)=>({src:Zn(Ue,"src"),alt:Jl(Ue),title:Zn(Ue,"title"),width:ya(Ue,"width"),height:ya(Ue,"height"),class:Zn(Ue,"class"),style:Ee(Zn(Ue,"style")),caption:eo(Ue),hspace:wo(Ue),vspace:Jn(Ue),border:Zt(Ue),borderStyle:ul(Ue),isDecorative:$o(Ue)}),Fr=(Ee,Ue,ut,un,Po)=>{ut[un]!==Ue[un]&&Po(Ee,un,String(ut[un]))},Aa=(Ee,Ue,ut)=>{if(ut){jt.setAttrib(Ee,"role","presentation");const un=Tn.fromDom(Ee);br(un,"alt","")}else{if(B(Ue)){const un=Tn.fromDom(Ee);ws(un,"alt")}else{const un=Tn.fromDom(Ee);br(un,"alt",Ue)}jt.getAttrib(Ee,"role")==="presentation"&&jt.setAttrib(Ee,"role","")}},Od=(Ee,Ue,ut)=>{(ut.alt!==Ue.alt||ut.isDecorative!==Ue.isDecorative)&&Aa(Ee,ut.alt,ut.isDecorative)},Ju=(Ee,Ue)=>(ut,un,Po)=>{Ee(ut,Po),Ws(ut,Ue)},Yc=(Ee,Ue,ut)=>{const un=xd(Ee,ut);Fr(ut,un,Ue,"caption",(Po,Vs,L)=>Vr(Po)),Fr(ut,un,Ue,"src",jo),Fr(ut,un,Ue,"title",jo),Fr(ut,un,Ue,"width",or("width",Ee)),Fr(ut,un,Ue,"height",or("height",Ee)),Fr(ut,un,Ue,"class",jo),Fr(ut,un,Ue,"style",Ju((Po,Vs)=>jo(Po,"style",Vs),Ee)),Fr(ut,un,Ue,"hspace",Ju(Ni,Ee)),Fr(ut,un,Ue,"vspace",Ju(sr,Ee)),Fr(ut,un,Ue,"border",Ju(ts,Ee)),Fr(ut,un,Ue,"borderStyle",Ju(ps,Ee)),Od(ut,un,Ue)},dl=(Ee,Ue)=>{const ut=Ee.dom.styles.parse(Ue),un=ys(ut),Po=Ee.dom.styles.parse(Ee.dom.styles.serialize(un));return Ee.dom.styles.serialize(Po)},Qu=Ee=>{const Ue=Ee.selection.getNode(),ut=Ee.dom.getParent(Ue,"figure.image");return ut?Ee.dom.select("img",ut)[0]:Ue&&(Ue.nodeName!=="IMG"||Vt(Ue))?null:Ue},Id=(Ee,Ue)=>{const ut=Ee.dom,un=gt(Ee.schema.getTextBlockElements(),(Vs,L)=>!Ee.schema.isValidChild(L,"figure")),Po=ut.getParent(Ue.parentNode,Vs=>on(un,Vs.nodeName),Ee.getBody());return Po?ut.split(Po,Ue)??Ue:Ue},uo=Ee=>{const Ue=Qu(Ee);return Ue?xd(ut=>dl(Ee,ut),Ue):nl()},Kf=(Ee,Ue)=>{const ut=Hl(Po=>dl(Ee,Po),Ue);Ee.dom.setAttrib(ut,"data-mce-id","__mcenew"),Ee.focus(),Ee.insertContent(ut.outerHTML);const un=Ee.dom.select('*[data-mce-id="__mcenew"]')[0];if(Ee.dom.setAttrib(un,"data-mce-id",null),Dc(un)){const Po=Id(Ee,un);Ee.selection.select(Po)}else Ee.selection.select(un)},eh=(Ee,Ue)=>{Ee.dom.setAttrib(Ue,"src",Ue.getAttribute("src"))},Th=(Ee,Ue)=>{if(Ue){const ut=Ee.dom.is(Ue.parentNode,"figure.image")?Ue.parentNode:Ue;Ee.dom.remove(ut),Ee.focus(),Ee.nodeChanged(),Ee.dom.isEmpty(Ee.getBody())&&(Ee.setContent(""),Ee.selection.setCursorLocation())}},Kr=(Ee,Ue)=>{const ut=Qu(Ee);if(ut)if(Yc(un=>dl(Ee,un),Ue,ut),eh(Ee,ut),Dc(ut.parentNode)){Ee.dom.setStyle(ut,"float","");const un=ut.parentNode;Id(Ee,un),Ee.selection.select(ut.parentNode)}else Ee.selection.select(ut),Ds(Ee,Ue,ut)},xh=(Ee,Ue)=>{const ut=Ue.src;return{...Ue,src:Jt(Ee,ut)?ut:""}},Mc=(Ee,Ue)=>{const ut=Qu(Ee);if(ut){const Po={...xd(L=>dl(Ee,L),ut),...Ue},Vs=xh(Ee,Po);Po.src?Kr(Ee,Vs):Th(Ee,ut)}else Ue.src&&Kf(Ee,{...nl(),...Ue})};var wr=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Au=tinymce.util.Tools.resolve("tinymce.util.Tools");const th=Ee=>S(Ee.value)?Ee.value:"",wc=Ee=>S(Ee.text)?Ee.text:S(Ee.title)?Ee.title:"",Li=(Ee,Ue)=>{const ut=[];return Au.each(Ee,un=>{const Po=wc(un);if(un.menu!==void 0){const Vs=Li(un.menu,Ue);ut.push({text:Po,items:Vs})}else{const Vs=Ue(un);ut.push({text:Po,value:Vs})}}),ut},hc=(Ee=th)=>Ue=>Ue?ye.from(Ue).map(ut=>Li(ut,Ee)):ye.none(),ol=Ee=>hc(th)(Ee),Fp=Ee=>ee(Ee,"items"),Am=(Ee,Ue)=>ot(Ee,ut=>Fp(ut)?Am(ut.items,Ue):ut.value===Ue?ye.some(ut):ye.none()),Xc={sanitizer:hc,sanitize:ol,findEntry:(Ee,Ue)=>Ee.bind(ut=>Am(ut,Ue))},Oh={makeTab:Ee=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},ea=Ee=>{const Ue=Xc.sanitizer(Dn=>Ee.convertURL(Dn.value||Dn.url||"","src")),ut=new Promise(Dn=>{Zs(Ee,Yn=>{Dn(Ue(Yn).map(Cn=>Oe([[{text:"None",value:""}],Cn])))})}),un=Xc.sanitize(Dt(Ee)),Po=mn(Ee),Vs=Ze(Ee),L=go(Ee),X=Mo(Ee),de=uo(Ee),ge=je(Ee),xe=Lt(Ee),Le=bn(Ee),We=Kt(Ee),xt=Ht(Ee),Ct=_t(Ee),Yt=ye.some(mt(Ee)).filter(Dn=>S(Dn)&&Dn.length>0);return ut.then(Dn=>({image:de,imageList:Dn,classList:un,hasAdvTab:Po,hasUploadTab:Vs,hasUploadUrl:L,hasUploadHandler:X,hasDescription:ge,hasImageTitle:xe,hasDimensions:Le,hasImageCaption:We,prependURL:Yt,hasAccessibilityOptions:xt,automaticUploads:Ct}))},ms=Ee=>{const Ue={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},ut=Ee.imageList.map(xe=>({name:"images",type:"listbox",label:"Image list",items:xe})),un={name:"alt",type:"input",label:"Alternative description",enabled:!(Ee.hasAccessibilityOptions&&Ee.image.isDecorative)},Po={name:"title",type:"input",label:"Image title"},Vs={name:"dimensions",type:"sizeinput"},L={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},X=Ee.classList.map(xe=>({name:"classes",type:"listbox",label:"Class",items:xe})),de={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},ge=xe=>xe?{type:"grid",columns:2}:{type:"panel"};return Oe([[Ue],ut.toArray(),Ee.hasAccessibilityOptions&&Ee.hasDescription?[L]:[],Ee.hasDescription?[un]:[],Ee.hasImageTitle?[Po]:[],Ee.hasDimensions?[Vs]:[],[{...ge(Ee.classList.isSome()&&Ee.hasImageCaption),items:Oe([X.toArray(),Ee.hasImageCaption?[de]:[]])}]])},Ol={makeTab:Ee=>({title:"General",name:"general",items:ms(Ee)}),makeItems:ms},nh={makeTab:Ee=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},Yf=Ee=>({prevImage:Xc.findEntry(Ee.imageList,Ee.image.src),prevAlt:Ee.image.alt,open:!0}),fi=Ee=>({src:{value:Ee.src,meta:{}},images:Ee.src,alt:Ee.alt,title:Ee.title,dimensions:{width:Ee.width,height:Ee.height},classes:Ee.class,caption:Ee.caption,style:Ee.style,vspace:Ee.vspace,border:Ee.border,hspace:Ee.hspace,borderstyle:Ee.borderStyle,fileinput:[],isDecorative:Ee.isDecorative}),fc=(Ee,Ue)=>({src:Ee.src.value,alt:(Ee.alt===null||Ee.alt.length===0)&&Ue?null:Ee.alt,title:Ee.title,width:Ee.dimensions.width,height:Ee.dimensions.height,class:Ee.classes,style:Ee.style,caption:Ee.caption,hspace:Ee.hspace,vspace:Ee.vspace,border:Ee.border,borderStyle:Ee.borderstyle,isDecorative:Ee.isDecorative}),Pc=(Ee,Ue)=>/^(?:[a-zA-Z]+:)?\/\//.test(Ue)?ye.none():Ee.prependURL.bind(ut=>Ue.substring(0,ut.length)!==ut?ye.some(ut+Ue):ye.none()),nf=(Ee,Ue)=>{const ut=Ue.getData();Pc(Ee,ut.src.value).each(un=>{Ue.setData({src:{value:un,meta:ut.src.meta}})})},io=(Ee,Ue,ut)=>{Ee.hasDescription&&S(ut.alt)&&(Ue.alt=ut.alt),Ee.hasAccessibilityOptions&&(Ue.isDecorative=ut.isDecorative||Ue.isDecorative||!1),Ee.hasImageTitle&&S(ut.title)&&(Ue.title=ut.title),Ee.hasDimensions&&(S(ut.width)&&(Ue.dimensions.width=ut.width),S(ut.height)&&(Ue.dimensions.height=ut.height)),S(ut.class)&&Xc.findEntry(Ee.classList,ut.class).each(un=>{Ue.classes=un.value}),Ee.hasImageCaption&&z(ut.caption)&&(Ue.caption=ut.caption),Ee.hasAdvTab&&(S(ut.style)&&(Ue.style=ut.style),S(ut.vspace)&&(Ue.vspace=ut.vspace),S(ut.border)&&(Ue.border=ut.border),S(ut.hspace)&&(Ue.hspace=ut.hspace),S(ut.borderstyle)&&(Ue.borderstyle=ut.borderstyle))},xu=(Ee,Ue)=>{const ut=Ue.getData(),un=ut.src.meta;if(un!==void 0){const Po=Pt({},ut);io(Ee,Po,un),Ue.setData(Po)}},Il=(Ee,Ue,ut,un)=>{const Po=un.getData(),Vs=Po.src.value,L=Po.src.meta||{};!L.width&&!L.height&&Ue.hasDimensions&&(st(Vs)?Ee.imageSize(Vs).then(X=>{ut.open&&un.setData({dimensions:X})}).catch(X=>console.error(X)):un.setData({dimensions:{width:"",height:""}}))},pc=(Ee,Ue,ut)=>{const un=ut.getData(),Po=Xc.findEntry(Ee.imageList,un.src.value);Ue.prevImage=Po,ut.setData({images:Po.map(Vs=>Vs.value).getOr("")})},ki=(Ee,Ue,ut,un)=>{nf(Ue,un),xu(Ue,un),Il(Ee,Ue,ut,un),pc(Ue,ut,un)},Tm=(Ee,Ue,ut,un)=>{const Po=un.getData(),Vs=Xc.findEntry(Ue.imageList,Po.images);Vs.each(L=>{Po.alt===""||ut.prevImage.map(de=>de.text===Po.alt).getOr(!1)?L.value===""?un.setData({src:L,alt:ut.prevAlt}):un.setData({src:L,alt:L.text}):un.setData({src:L})}),ut.prevImage=Vs,ki(Ee,Ue,ut,un)},$l=(Ee,Ue,ut,un)=>{const Po=un.getData();un.block("Uploading image"),Me(Po.fileinput).fold(()=>{un.unblock()},Vs=>{const L=URL.createObjectURL(Vs),X=()=>{un.unblock(),URL.revokeObjectURL(L)},de=ge=>{un.setData({src:{value:ge,meta:{}}}),un.showTab("general"),ki(Ee,Ue,ut,un),un.focus("src")};bt(Vs).then(ge=>{const xe=Ee.createBlobCache(Vs,L,ge);Ue.automaticUploads?Ee.uploadImage(xe).then(Le=>{de(Le.url),X()}).catch(Le=>{X(),Ee.alertErr(Le,()=>{un.focus("fileinput")})}):(Ee.addToBlobCache(xe),de(xe.blobUri()),un.unblock())})})},Jc=(Ee,Ue,ut)=>(un,Po)=>{Po.name==="src"?ki(Ee,Ue,ut,un):Po.name==="images"?Tm(Ee,Ue,ut,un):Po.name==="alt"?ut.prevAlt=un.getData().alt:Po.name==="fileinput"?$l(Ee,Ue,ut,un):Po.name==="isDecorative"&&un.setEnabled("alt",!un.getData().isDecorative)},Xf=Ee=>()=>{Ee.open=!1},of=Ee=>Ee.hasAdvTab||Ee.hasUploadUrl||Ee.hasUploadHandler?{type:"tabpanel",tabs:Oe([[Ol.makeTab(Ee)],Ee.hasAdvTab?[Oh.makeTab(Ee)]:[],Ee.hasUploadTab&&(Ee.hasUploadUrl||Ee.hasUploadHandler)?[nh.makeTab(Ee)]:[]])}:{type:"panel",items:Ol.makeItems(Ee)},ed=(Ee,Ue,ut)=>un=>{const Po=Pt(fi(Ue.image),un.getData()),Vs={...Po,style:Zf(ut.normalizeCss,fc(Po,!1))};Ee.execCommand("mceUpdateImage",!1,fc(Vs,Ue.hasAccessibilityOptions)),Ee.editorUpload.uploadImagesAuto(),un.close()},Jf=Ee=>Ue=>Jt(Ee,Ue)?Io(Ee.documentBaseURI.toAbsolute(Ue)).then(ut=>({width:String(ut.width),height:String(ut.height)})):Promise.resolve({width:"",height:""}),Rd=Ee=>(Ue,ut,un)=>Ee.editorUpload.blobCache.create({blob:Ue,blobUri:ut,name:Ue.name?.replace(/\.[^\.]+$/,""),filename:Ue.name,base64:un.split(",")[1]}),kd=Ee=>Ue=>{Ee.editorUpload.blobCache.add(Ue)},mc=Ee=>(Ue,ut)=>{Ee.windowManager.alert(Ue,ut)},to=Ee=>Ue=>dl(Ee,Ue),Ou=Ee=>Ue=>Ee.dom.parseStyle(Ue),Ih=Ee=>(Ue,ut)=>Ee.dom.serializeStyle(Ue,ut),Ve=Ee=>Ue=>wr(Ee).upload([Ue],!1).then(ut=>ut.length===0?Promise.reject("Failed to upload image"):ut[0].status===!1?Promise.reject(ut[0].error?.message):ut[0]),lt=Ee=>{const Ue={imageSize:Jf(Ee),addToBlobCache:kd(Ee),createBlobCache:Rd(Ee),alertErr:mc(Ee),normalizeCss:to(Ee),parseStyle:Ou(Ee),serializeStyle:Ih(Ee),uploadImage:Ve(Ee)};return{open:()=>{ea(Ee).then(un=>{const Po=Yf(un);return{title:"Insert/Edit Image",size:"normal",body:of(un),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:fi(un.image),onSubmit:ed(Ee,un,Ue),onChange:Jc(Ue,un,Po),onClose:Xf(Po)}}).then(Ee.windowManager.open)}}},Rt=Ee=>{Ee.addCommand("mceImage",lt(Ee).open),Ee.addCommand("mceUpdateImage",(Ue,ut)=>{Ee.undoManager.transact(()=>Mc(Ee,ut))})},pn=Ee=>{const Ue=Ee.attr("class");return H(Ue)&&/\bimage\b/.test(Ue)},so=Ee=>Ue=>{let ut=Ue.length;const un=Po=>{Po.attr("contenteditable",Ee?"true":null)};for(;ut--;){const Po=Ue[ut];pn(Po)&&(Po.attr("contenteditable",Ee?"false":null),Au.each(Po.getAll("figcaption"),un))}},ko=Ee=>{Ee.on("PreInit",()=>{Ee.parser.addNodeFilter("figure",so(!0)),Ee.serializer.addNodeFilter("figure",so(!1))})},ur=Ee=>Ue=>{const ut=()=>{Ue.setEnabled(Ee.selection.isEditable())};return Ee.on("NodeChange",ut),ut(),()=>{Ee.off("NodeChange",ut)}},Bs=Ee=>{Ee.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:lt(Ee).open,onSetup:Ue=>{Ue.setActive(H(Qu(Ee)));const ut=Ee.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",Ue.setActive).unbind,un=ur(Ee)(Ue);return()=>{ut(),un()}}}),Ee.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:lt(Ee).open,onSetup:ur(Ee)}),Ee.ui.registry.addContextMenu("image",{update:Ue=>Ee.selection.isEditable()&&(Dc(Ue)||Fl(Ue)&&!Vt(Ue))?["image"]:[]})};var Er=()=>{e.add("image",Ee=>{kt(Ee),ko(Ee),Bs(Ee),Rt(Ee)})};Er()})()),PIe}var LIe;function CXe(){return LIe||(LIe=1,SXe()),MIe}CXe();var BIe={},VIe={},FIe;function EXe(){return FIe||(FIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=(v,S)=>{v.focus(),v.undoManager.transact(()=>{v.setContent(S)}),v.selection.setCursorLocation(),v.nodeChanged()},o=v=>v.getContent({source_view:!0}),i=v=>{const S=o(v);v.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:S},onSubmit:_=>{n(v,_.getData().code),_.close()}})},c=v=>{v.addCommand("mceCodeEditor",()=>{i(v)})},d=v=>{const S=()=>v.execCommand("mceCodeEditor");v.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:S}),v.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:S})};var p=()=>{e.add("code",v=>(c(v),d(v),{}))};p()})()),VIe}var HIe;function wXe(){return HIe||(HIe=1,EXe()),BIe}wXe();var $Ie={},UIe={},zIe;function _Xe(){return zIe||(zIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=(J,ae,Ie)=>Ie(J,ae.prototype)?!0:J.constructor?.name===ae.name,o=J=>{const ae=typeof J;return J===null?"null":ae==="object"&&Array.isArray(J)?"array":ae==="object"&&n(J,String,(Ie,qe)=>qe.isPrototypeOf(Ie))?"string":ae},i=J=>ae=>o(ae)===J,c=J=>ae=>typeof ae===J,d=J=>ae=>J===ae,p=i("string"),v=i("array"),S=c("boolean"),_=d(void 0),x=J=>J==null,P=J=>!x(J),B=c("function"),z=c("number"),U=()=>{},H=(J,ae)=>Ie=>J(ae(Ie)),K=J=>()=>J,oe=J=>J,ce=(J,ae)=>J===ae;function re(J,...ae){return(...Ie)=>{const qe=ae.concat(Ie);return J.apply(null,qe)}}const ye=J=>{J()},_e=K(!1),Oe=K(!0);class F{tag;value;static singletonNone=new F(!1);constructor(ae,Ie){this.tag=ae,this.value=Ie}static some(ae){return new F(!0,ae)}static none(){return F.singletonNone}fold(ae,Ie){return this.tag?Ie(this.value):ae()}isSome(){return this.tag}isNone(){return!this.tag}map(ae){return this.tag?F.some(ae(this.value)):F.none()}bind(ae){return this.tag?ae(this.value):F.none()}exists(ae){return this.tag&&ae(this.value)}forall(ae){return!this.tag||ae(this.value)}filter(ae){return!this.tag||ae(this.value)?this:F.none()}getOr(ae){return this.tag?this.value:ae}or(ae){return this.tag?this:ae}getOrThunk(ae){return this.tag?this.value:ae()}orThunk(ae){return this.tag?this:ae()}getOrDie(ae){if(this.tag)return this.value;throw new Error(ae??"Called getOrDie on None")}static from(ae){return P(ae)?F.some(ae):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ae){this.tag&&ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const Me=Array.prototype.indexOf,ot=Array.prototype.push,Fe=(J,ae)=>Me.call(J,ae),De=(J,ae)=>Fe(J,ae)>-1,we=(J,ae)=>{for(let Ie=0,qe=J.length;Ie<qe;Ie++){const St=J[Ie];if(ae(St,Ie))return!0}return!1},ct=(J,ae)=>{const Ie=[];for(let qe=0;qe<J;qe++)Ie.push(ae(qe));return Ie},rt=(J,ae)=>{const Ie=J.length,qe=new Array(Ie);for(let St=0;St<Ie;St++){const cn=J[St];qe[St]=ae(cn,St)}return qe},gt=(J,ae)=>{for(let Ie=0,qe=J.length;Ie<qe;Ie++){const St=J[Ie];ae(St,Ie)}},ee=(J,ae)=>{for(let Ie=J.length-1;Ie>=0;Ie--){const qe=J[Ie];ae(qe,Ie)}},on=(J,ae)=>{const Ie=[],qe=[];for(let St=0,cn=J.length;St<cn;St++){const ao=J[St];(ae(ao,St)?Ie:qe).push(ao)}return{pass:Ie,fail:qe}},nt=(J,ae)=>{const Ie=[];for(let qe=0,St=J.length;qe<St;qe++){const cn=J[qe];ae(cn,qe)&&Ie.push(cn)}return Ie},Mt=(J,ae,Ie)=>(ee(J,(qe,St)=>{Ie=ae(Ie,qe,St)}),Ie),Pt=(J,ae,Ie)=>(gt(J,(qe,St)=>{Ie=ae(Ie,qe,St)}),Ie),st=(J,ae,Ie)=>{for(let qe=0,St=J.length;qe<St;qe++){const cn=J[qe];if(ae(cn,qe))return F.some(cn);if(Ie(cn,qe))break}return F.none()},vn=(J,ae)=>st(J,ae,_e),To=J=>{const ae=[];for(let Ie=0,qe=J.length;Ie<qe;++Ie){if(!v(J[Ie]))throw new Error("Arr.flatten item "+Ie+" was not an array, input: "+J);ot.apply(ae,J[Ie])}return ae},Nn=(J,ae)=>To(rt(J,ae)),ho=(J,ae)=>{for(let Ie=0,qe=J.length;Ie<qe;++Ie){const St=J[Ie];if(ae(St,Ie)!==!0)return!1}return!0},qt=(J,ae)=>{const Ie={};for(let qe=0,St=J.length;qe<St;qe++){const cn=J[qe];Ie[String(cn)]=ae(cn,qe)}return Ie},Tn=(J,ae)=>ae>=0&&ae<J.length?F.some(J[ae]):F.none(),Se=J=>Tn(J,0),br=J=>Tn(J,J.length-1),ws=(J,ae)=>{for(let Ie=0;Ie<J.length;Ie++){const qe=ae(J[Ie],Ie);if(qe.isSome())return qe}return F.none()},as=Object.keys,Is=Object.hasOwnProperty,oo=(J,ae)=>{const Ie=as(J);for(let qe=0,St=Ie.length;qe<St;qe++){const cn=Ie[qe],ao=J[cn];ae(ao,cn)}},kt=J=>(ae,Ie)=>{J[Ie]=ae},bn=(J,ae,Ie,qe)=>{oo(J,(St,cn)=>{(ae(St,cn)?Ie:qe)(St,cn)})},mn=(J,ae)=>{const Ie={};return bn(J,ae,kt(Ie),U),Ie},Ze=(J,ae)=>{const Ie=[];return oo(J,(qe,St)=>{Ie.push(ae(qe,St))}),Ie},mt=J=>Ze(J,oe),Dt=J=>as(J).length,je=(J,ae)=>Lt(J,ae)?F.from(J[ae]):F.none(),Lt=(J,ae)=>Is.call(J,ae),Kt=(J,ae)=>Lt(J,ae)&&J[ae]!==void 0&&J[ae]!==null,rn=J=>{for(const ae in J)if(Is.call(J,ae))return!1;return!0},Ht=J=>{let ae=J;return{get:()=>ae,set:St=>{ae=St}}},_t=(J,ae,Ie=ce)=>J.exists(qe=>Ie(qe,ae)),go=J=>{const ae=[],Ie=qe=>{ae.push(qe)};for(let qe=0;qe<J.length;qe++)J[qe].each(Ie);return ae},Mo=(J,ae,Ie)=>J.isSome()&&ae.isSome()?F.some(Ie(J.getOrDie(),ae.getOrDie())):F.none(),Ko=J=>J.bind(oe),Io=(J,ae)=>J?F.some(ae):F.none(),bs=J=>{const ae=Ht(F.none()),Ie=()=>ae.get().each(J);return{clear:()=>{Ie(),ae.set(F.none())},isSet:()=>ae.get().isSome(),get:()=>ae.get(),set:Go=>{Ie(),ae.set(F.some(Go))}}},Ps=()=>bs(J=>J.unbind()),ys=(J,ae)=>J.substring(ae),Zs=(J,ae,Ie)=>ae===""||J.length>=ae.length&&J.substr(Ie,Ie+ae.length)===ae,Ds=(J,ae)=>bt(J,ae)?ys(J,ae.length):J,bt=(J,ae)=>Zs(J,ae,0),Jt=(J=>ae=>ae.replace(J,""))(/^\s+|\s+$/g),jt=J=>J.length>0,wo=J=>!jt(J),Jn=(J,ae=10)=>{const Ie=parseInt(J,ae);return isNaN(Ie)?F.none():F.some(Ie)},Zt=J=>{const ae=parseFloat(J);return isNaN(ae)?F.none():F.some(ae)},Zn=J=>{let ae=!1,Ie;return(...qe)=>(ae||(ae=!0,Ie=J.apply(null,qe)),Ie)},eo=(J,ae)=>{const qe=(ae||document).createElement("div");if(qe.innerHTML=J,!qe.hasChildNodes()||qe.childNodes.length>1){const St="HTML does not have a single root node";throw console.error(St,J),new Error(St)}return wn(qe.childNodes[0])},jo=(J,ae)=>{const qe=(ae||document).createElement(J);return wn(qe)},Ho=(J,ae)=>{const qe=(ae||document).createTextNode(J);return wn(qe)},wn=J=>{if(J==null)throw new Error("Node cannot be null or undefined");return{dom:J}},Ws={fromHtml:eo,fromTag:jo,fromText:Ho,fromDom:wn,fromPoint:(J,ae,Ie)=>F.from(J.dom.elementFromPoint(ae,Ie)).map(wn)},or=8,ya=9,Ni=11,sr=1,ts=3,ps=(J,ae)=>{const Ie=J.dom;if(Ie.nodeType!==sr)return!1;{const qe=Ie;if(qe.matches!==void 0)return qe.matches(ae);if(qe.msMatchesSelector!==void 0)return qe.msMatchesSelector(ae);if(qe.webkitMatchesSelector!==void 0)return qe.webkitMatchesSelector(ae);if(qe.mozMatchesSelector!==void 0)return qe.mozMatchesSelector(ae);throw new Error("Browser lacks native selectors")}},ul=J=>J.nodeType!==sr&&J.nodeType!==ya&&J.nodeType!==Ni||J.childElementCount===0,Dc=(J,ae)=>{const Ie=ae===void 0?document:ae.dom;return ul(Ie)?[]:rt(Ie.querySelectorAll(J),Ws.fromDom)},Fl=(J,ae)=>{const Ie=ae===void 0?document:ae.dom;return ul(Ie)?F.none():F.from(Ie.querySelector(J)).map(Ws.fromDom)},$o=(J,ae)=>J.dom===ae.dom,Jl=ps,nl=J=>J.dom.nodeName.toLowerCase(),Zf=J=>J.dom.nodeType,Hl=J=>ae=>Zf(ae)===J,xd=J=>Zf(J)===or||nl(J)==="#comment",Fr=Hl(sr),Aa=Hl(ts),Od=Hl(ya),Ju=Hl(Ni),Yc=J=>ae=>Fr(ae)&&nl(ae)===J,dl=J=>Ws.fromDom(J.dom.ownerDocument),Qu=J=>Od(J)?J:dl(J),Id=J=>F.from(J.dom.parentNode).map(Ws.fromDom),uo=(J,ae)=>{const Ie=B(ae)?ae:_e;let qe=J.dom;const St=[];for(;qe.parentNode!==null&&qe.parentNode!==void 0;){const cn=qe.parentNode,ao=Ws.fromDom(cn);if(St.push(ao),Ie(ao)===!0)break;qe=cn}return St},Kf=J=>F.from(J.dom.previousSibling).map(Ws.fromDom),eh=J=>F.from(J.dom.nextSibling).map(Ws.fromDom),Th=J=>rt(J.dom.childNodes,Ws.fromDom),Kr=(J,ae)=>{const Ie=J.dom.childNodes;return F.from(Ie[ae]).map(Ws.fromDom)},xh=J=>Kr(J,0),Mc=J=>Ju(J)&&P(J.dom.host),wr=J=>Ws.fromDom(J.dom.getRootNode()),Au=J=>{const ae=wr(J);return Mc(ae)?F.some(ae):F.none()},th=J=>Ws.fromDom(J.dom.host),wc=(J,ae)=>{Id(J).each(qe=>{qe.dom.insertBefore(ae.dom,J.dom)})},Li=(J,ae)=>{eh(J).fold(()=>{Id(J).each(St=>{ol(St,ae)})},qe=>{wc(qe,ae)})},hc=(J,ae)=>{xh(J).fold(()=>{ol(J,ae)},qe=>{J.dom.insertBefore(ae.dom,qe.dom)})},ol=(J,ae)=>{J.dom.appendChild(ae.dom)},Fp=(J,ae)=>{wc(J,ae),ol(ae,J)},Am=(J,ae)=>{gt(ae,(Ie,qe)=>{const St=qe===0?J:ae[qe-1];Li(St,Ie)})},_c=(J,ae)=>{gt(ae,Ie=>{ol(J,Ie)})},Xc=(J,ae,Ie)=>{if(p(Ie)||S(Ie)||z(Ie))J.setAttribute(ae,Ie+"");else throw console.error("Invalid call to Attribute.set. Key ",ae,":: Value ",Ie,":: Element ",J),new Error("Attribute value was not simple")},Tu=(J,ae,Ie)=>{Xc(J.dom,ae,Ie)},Oh=(J,ae)=>{const Ie=J.dom;oo(ae,(qe,St)=>{Xc(Ie,St,qe)})},ea=(J,ae)=>{const Ie=J.dom.getAttribute(ae);return Ie===null?void 0:Ie},ms=(J,ae)=>F.from(ea(J,ae)),zi=(J,ae)=>{J.dom.removeAttribute(ae)},Ol=J=>Pt(J.dom.attributes,(ae,Ie)=>(ae[Ie.name]=Ie.value,ae),{}),Pr=J=>{const ae=J.dom;ae.parentNode!==null&&ae.parentNode.removeChild(ae)},nh=J=>{const ae=Th(J);ae.length>0&&Am(J,ae),Pr(J)},Yf=J=>rt(J,Ws.fromDom),fi=J=>J.style!==void 0&&B(J.style.getPropertyValue),fc=J=>{const ae=Aa(J)?J.dom.parentNode:J.dom;if(ae==null||ae.ownerDocument===null)return!1;const Ie=ae.ownerDocument;return Au(Ws.fromDom(ae)).fold(()=>Ie.body.contains(ae),H(fc,th))},Pc=(J,ae,Ie)=>{if(!p(Ie))throw console.error("Invalid call to CSS.set. Property ",ae,":: Value ",Ie,":: Element ",J),new Error("CSS value must be a string: "+Ie);fi(J)&&J.style.setProperty(ae,Ie)},nf=(J,ae)=>{fi(J)&&J.style.removeProperty(ae)},io=(J,ae,Ie)=>{const qe=J.dom;Pc(qe,ae,Ie)},xu=(J,ae)=>{const Ie=J.dom,St=window.getComputedStyle(Ie).getPropertyValue(ae);return St===""&&!fc(J)?Il(Ie,ae):St},Il=(J,ae)=>fi(J)?J.style.getPropertyValue(ae):"",pc=(J,ae)=>{const Ie=J.dom,qe=Il(Ie,ae);return F.from(qe).filter(St=>St.length>0)},ki=(J,ae)=>{const Ie=J.dom;nf(Ie,ae),_t(ms(J,"style").map(Jt),"")&&zi(J,"style")},Tm=(J,ae)=>Zt(J).getOr(ae),$l=(J,ae,Ie)=>Tm(xu(J,ae),Ie),Jc=(J,ae,Ie,qe)=>{const St=$l(J,`padding-${Ie}`,0),cn=$l(J,`padding-${qe}`,0),ao=$l(J,`border-${Ie}-width`,0),Go=$l(J,`border-${qe}-width`,0);return ae-St-cn-ao-Go},Xf=(J,ae)=>{const Ie=J.dom,qe=Ie.getBoundingClientRect().width||Ie.offsetWidth;return Jc(J,qe,"left","right")},ed=J=>Xf(J),Rd=((J,ae)=>{const Ie=cn=>{if(!J(cn))throw new Error("Can only get "+ae+" value of a "+ae+" node");return qe(cn).getOr("")},qe=cn=>J(cn)?F.from(cn.dom.nodeValue):F.none();return{get:Ie,getOption:qe,set:(cn,ao)=>{if(!J(cn))throw new Error("Can only set raw "+ae+" value of a "+ae+" node");cn.dom.nodeValue=ao}}})(Aa,"text"),kd=J=>Rd.get(J),mc=(J,ae)=>Rd.set(J,ae);var to=(J,ae,Ie,qe,St)=>J(Ie,qe)?F.some(Ie):B(St)&&St(Ie)?F.none():ae(Ie,qe,St);const Ou=(J,ae,Ie)=>{let qe=J.dom;const St=B(Ie)?Ie:_e;for(;qe.parentNode;){qe=qe.parentNode;const cn=Ws.fromDom(qe);if(ae(cn))return F.some(cn);if(St(cn))break}return F.none()},Ih=(J,ae,Ie)=>to((St,cn)=>cn(St),Ou,J,ae,Ie),Ve=(J,ae)=>{const Ie=St=>ae(Ws.fromDom(St));return vn(J.dom.childNodes,Ie).map(Ws.fromDom)},lt=(J,ae,Ie)=>Ou(J,qe=>ps(qe,ae),Ie),Rt=(J,ae)=>Ve(J,Ie=>ps(Ie,ae)),pn=(J,ae)=>Fl(ae,J),so=(J,ae,Ie)=>to((St,cn)=>ps(St,cn),lt,J,ae,Ie),ko=J=>so(J,"[contenteditable]"),ur=(J,ae=!1)=>fc(J)?J.dom.isContentEditable:ko(J).fold(K(ae),Ie=>Bs(Ie)==="true"),Bs=J=>J.dom.contentEditable,Er=(J,ae)=>nt(Th(J),ae),Ee=(J,ae)=>{let Ie=[];return gt(Th(J),qe=>{ae(qe)&&(Ie=Ie.concat([qe])),Ie=Ie.concat(Ee(qe,ae))}),Ie},Ue=(J,ae)=>Er(J,Ie=>ps(Ie,ae)),ut=(J,ae)=>Dc(ae,J),un=(J,ae)=>Rt(J,ae).isSome(),Po=J=>J.nodeName.toLowerCase(),Vs=J=>Ws.fromDom(J.getBody()),L=J=>ae=>$o(ae,Vs(J)),X=J=>J?J.replace(/px$/,""):"",de=J=>/^\d+(\.\d+)?$/.test(J)?J+"px":J,ge=J=>Ws.fromDom(J.selection.getStart()),xe=J=>Ws.fromDom(J.selection.getEnd()),Le=J=>Ih(J,Yc("table")).forall(ur),We=["tfoot","thead","tbody","colgroup"],xt=J=>De(We,J),Ct=(J,ae)=>({rows:J,columns:ae}),Yt=(J,ae,Ie)=>({element:J,rowspan:ae,colspan:Ie}),Dn=(J,ae,Ie,qe,St,cn)=>({element:J,rowspan:ae,colspan:Ie,row:qe,column:St,isLocked:cn}),Yn=(J,ae,Ie)=>({element:J,cells:ae,section:Ie}),Cn=(J,ae,Ie,qe)=>({startRow:J,startCol:ae,finishRow:Ie,finishCol:qe}),No=(J,ae,Ie)=>({element:J,colspan:ae,column:Ie}),Or=(J,ae)=>({element:J,columns:ae}),Si=(J,ae,Ie=0)=>ms(J,ae).map(qe=>parseInt(qe,10)).getOr(Ie),zr=(J,ae)=>Ul(J,ae,Oe),Ul=(J,ae,Ie)=>Nn(Th(J),qe=>ps(qe,ae)?Ie(qe)?[qe]:[]:Ul(qe,ae,Ie)),Sa=(J,ae,Ie=_e)=>{if(Ie(ae))return F.none();if(De(J,nl(ae)))return F.some(ae);const qe=St=>ps(St,"table")||Ie(St);return lt(ae,J.join(","),qe)},td=(J,ae)=>Sa(["td","th"],J,ae),oh=J=>zr(J,"th,td"),pi=J=>ps(J,"colgroup")?Ue(J,"col"):Nn(hl(J),ae=>Ue(ae,"col")),gc=(J,ae)=>so(J,"table",ae),Bi=J=>zr(J,"tr"),hl=J=>gc(J).fold(K([]),ae=>Ue(ae,"colgroup")),Hp=Yc("th"),Dd=(J,ae)=>J&&ae?"sectionCells":J?"section":"cells",Rh=J=>{const ae=J.section==="thead",Ie=_t(Og(J.cells),"th");return J.section==="tfoot"?{type:"footer"}:ae||Ie?{type:"header",subType:Dd(ae,Ie)}:{type:"body"}},Og=J=>{const ae=nt(J,Ie=>Hp(Ie.element));return ae.length===0?F.some("td"):ae.length===J.length?F.some("th"):F.none()},nd=J=>{const ae=rt(J,St=>Rh(St).type),Ie=De(ae,"header"),qe=De(ae,"footer");if(!Ie&&!qe)return F.some("body");{const St=De(ae,"body");return Ie&&!St&&!qe?F.some("header"):!Ie&&!St&&qe?F.some("footer"):F.none()}},Qc=(J,ae)=>rt(J,Ie=>{if(nl(Ie)==="colgroup"){const qe=rt(pi(Ie),St=>{const cn=Si(St,"span",1);return Yt(St,1,cn)});return Yn(Ie,qe,"colgroup")}else{const qe=rt(oh(Ie),St=>{const cn=Si(St,"rowspan",1),ao=Si(St,"colspan",1);return Yt(St,cn,ao)});return Yn(Ie,qe,ae(Ie))}}),Qf=J=>Id(J).map(ae=>{const Ie=nl(ae);return xt(Ie)?Ie:"tbody"}).getOr("tbody"),od=J=>{const ae=Bi(J),qe=[...hl(J),...ae];return Qc(qe,Qf)},Ig="data-snooker-locked-cols",vc=J=>ms(J,Ig).bind(ae=>F.from(ae.match(/\d+/g))).map(ae=>qt(ae,Oe)),Rl=(J,ae)=>J+","+ae,sf=(J,ae,Ie)=>F.from(J.access[Rl(ae,Ie)]),Ub=(J,ae,Ie)=>{const qe=_r(J,St=>Ie(ae,St.element));return qe.length>0?F.some(qe[0]):F.none()},_r=(J,ae)=>{const Ie=Nn(J.all,qe=>qe.cells);return nt(Ie,ae)},qi=J=>{const ae={};let Ie=0;return gt(J.cells,qe=>{const St=qe.colspan;ct(St,cn=>{const ao=Ie+cn;ae[ao]=No(qe.element,St,ao)}),Ie+=St}),ae},$p=J=>{const ae={},Ie=[],St=Se(J).map(Lu=>Lu.element).bind(gc).bind(vc).getOr({});let cn=0,ao=0,Go=0;const{pass:zs,fail:Ss}=on(J,Lu=>Lu.section==="colgroup");gt(Ss,Lu=>{const Wp=[];gt(Lu.cells,Gp=>{let ru=0;for(;ae[Rl(Go,ru)]!==void 0;)ru++;const f1=Kt(St,ru.toString()),Pm=Dn(Gp.element,Gp.rowspan,Gp.colspan,Go,ru,f1);for(let Qb=0;Qb<Gp.colspan;Qb++)for(let Nm=0;Nm<Gp.rowspan;Nm++){const Mg=Go+Nm,s0=ru+Qb,Ml=Rl(Mg,s0);ae[Ml]=Pm,ao=Math.max(ao,s0+1)}Wp.push(Pm)}),cn++,Ie.push(Yn(Lu.element,Wp,Lu.section)),Go++});const{columns:Vi,colgroups:da}=br(zs).map(Lu=>{const Wp=qi(Lu);return{colgroups:[Or(Lu.element,mt(Wp))],columns:Wp}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Ct(cn,ao),access:ae,all:Ie,columns:Vi,colgroups:da}},ji={fromTable:J=>{const ae=od(J);return $p(ae)},generate:$p,getAt:sf,findItem:Ub,filterItems:_r,justCells:J=>Nn(J.all,ae=>ae.cells),justColumns:J=>mt(J.columns),hasColumns:J=>as(J.columns).length>0,getColumnAt:(J,ae)=>F.from(J.columns[ae])},eu=(J,ae)=>ws(J.all,Ie=>vn(Ie.cells,qe=>$o(ae,qe.element))),Md=(J,ae,Ie)=>{const qe=rt(ae.selection,cn=>td(cn).bind(ao=>eu(J,ao)).filter(Ie)),St=go(qe);return Io(St.length>0,St)},Un=(J,ae)=>ae.mergable,zl=(J,ae)=>ae.unmergable,kh=(J,ae)=>Md(J,ae,Oe),tu=(J,ae)=>eu(J,ae).exists(Ie=>!Ie.isLocked),tp=(J,ae)=>ho(ae,Ie=>tu(J,Ie)),zb=(J,ae)=>Un(J,ae).filter(Ie=>tp(J,Ie.cells)),Qe=(J,ae)=>zl(J,ae).filter(Ie=>tp(J,Ie));var Ac=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Dh=()=>{const J=Ss=>Ws.fromDom(Ss.dom.cloneNode(!1)),ae=Ss=>Qu(Ss).dom,Ie=Ss=>Fr(Ss)?nl(Ss)==="body"?!0:De(Ac,nl(Ss)):!1,qe=Ss=>Fr(Ss)?De(["br","img","hr","input"],nl(Ss)):!1,St=Ss=>Fr(Ss)&&ea(Ss,"contenteditable")==="false",cn=(Ss,Vi)=>Ss.dom.compareDocumentPosition(Vi.dom),ao=(Ss,Vi)=>{const da=Ol(Ss);Oh(Vi,da)},Go=Ss=>{const Vi=nl(Ss);return De(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Vi)},zs=Ss=>Fr(Ss)?ms(Ss,"lang"):F.none();return{up:K({selector:lt,closest:so,predicate:Ou,all:uo}),down:K({selector:ut,predicate:Ee}),styles:K({get:xu,getRaw:pc,set:io,remove:ki}),attrs:K({get:ea,set:Tu,remove:zi,copyTo:ao}),insert:K({before:wc,after:Li,afterAll:Am,append:ol,appendAll:_c,prepend:hc,wrap:Fp}),remove:K({unwrap:nh,remove:Pr}),create:K({nu:Ws.fromTag,clone:J,text:Ws.fromText}),query:K({comparePosition:cn,prevSibling:Kf,nextSibling:eh}),property:K({children:Th,name:nl,parent:Id,document:ae,isText:Aa,isComment:xd,isElement:Fr,isSpecial:Go,getLanguage:zs,getText:kd,setText:mc,isBoundary:Ie,isEmptyTag:qe,isNonEditable:St}),eq:$o,is:Jl}};const jb=(J,ae,Ie,qe)=>{const St=Ie[0],cn=Ie.slice(1);return qe(J,ae,St,cn)},nu=(J,ae,Ie)=>Ie.length>0?jb(J,ae,Ie,Ql):F.none(),Ql=(J,ae,Ie,qe)=>{const St=ae(J,Ie);return Mt(qe,(cn,ao)=>{const Go=ae(J,ao);return ht(J,cn,Go)},St)},ht=(J,ae,Ie)=>ae.bind(qe=>Ie.filter(re(J.eq,qe))),Ut=nu,En=Dh(),On=(J,ae)=>Ut(En,(Ie,qe)=>J(qe),ae),es=(J,ae)=>{const Ie=ji.fromTable(J);return kh(Ie,ae).bind(St=>{const cn=St[St.length-1],ao=St[0].row,Go=cn.row+cn.rowspan,zs=Ie.all.slice(ao,Go);return nd(zs)}).getOr("")},ls=(J,ae)=>ae.column>=J.startCol&&ae.column+ae.colspan-1<=J.finishCol&&ae.row>=J.startRow&&ae.row+ae.rowspan-1<=J.finishRow,Gs=(J,ae)=>{let Ie=!0;const qe=re(ls,ae);for(let St=ae.startRow;St<=ae.finishRow;St++)for(let cn=ae.startCol;cn<=ae.finishCol;cn++)Ie=Ie&&ji.getAt(J,St,cn).exists(qe);return Ie?F.some(ae):F.none()},gs=(J,ae)=>Cn(Math.min(J.row,ae.row),Math.min(J.column,ae.column),Math.max(J.row+J.rowspan-1,ae.row+ae.rowspan-1),Math.max(J.column+J.colspan-1,ae.column+ae.colspan-1)),dr=(J,ae,Ie)=>{const qe=ji.findItem(J,ae,$o),St=ji.findItem(J,Ie,$o);return qe.bind(cn=>St.map(ao=>gs(cn,ao)))},Ar=(J,ae,Ie)=>dr(J,ae,Ie).bind(qe=>Gs(J,qe)),fr=(J,ae,Ie)=>{const qe=Hr(J);return Ar(qe,ae,Ie)},Hr=ji.fromTable;var _o=tinymce.util.Tools.resolve("tinymce.util.Tools");const Xr=(J,ae,Ie)=>{const qe=J.select("td,th",ae);let St;for(let cn=0;cn<qe.length;cn++){const ao=J.getStyle(qe[cn],Ie);if(_(St)&&(St=ao),St!==ao)return""}return St},bl=(J,ae,Ie)=>{_o.each("left center right".split(" "),qe=>{qe!==Ie&&J.formatter.remove("align"+qe,{},ae)}),Ie&&J.formatter.apply("align"+Ie,{},ae)},ec=(J,ae,Ie)=>{_o.each("top middle bottom".split(" "),qe=>{qe!==Ie&&J.formatter.remove("valign"+qe,{},ae)}),Ie&&J.formatter.apply("valign"+Ie,{},ae)},Ns=(J,ae,Ie)=>{J.dispatch("TableModified",{...Ie,table:ae})};var kl=tinymce.util.Tools.resolve("tinymce.Env");const ta="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Wa=ct(5,J=>{const ae=`${J+1}px`;return{title:ae,value:ae}}),Mh=rt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],J=>({title:J,value:J.toLowerCase()})),na="100%",Jr=J=>{const ae=J.dom,Ie=ae.getParent(J.selection.getStart(),ae.isBlock)??J.getBody();return ed(Ws.fromDom(Ie))+"px"},Ky=(J,ae)=>sl(J)||!ku(J)?ae:lf(J)?{...ae,width:Jr(J)}:{...ae,width:na},RE=(J,ae)=>sl(J)||ku(J)?ae:lf(J)?{...ae,width:Jr(J)}:{...ae,width:na},yl=J=>ae=>ae.options.get(J),tc=J=>{const ae=J.options.register;ae("table_border_widths",{processor:"object[]",default:Wa}),ae("table_border_styles",{processor:"object[]",default:Mh}),ae("table_cell_advtab",{processor:"boolean",default:!0}),ae("table_row_advtab",{processor:"boolean",default:!0}),ae("table_advtab",{processor:"boolean",default:!0}),ae("table_appearance_options",{processor:"boolean",default:!0}),ae("table_grid",{processor:"boolean",default:!kl.deviceType.isTouch()}),ae("table_cell_class_list",{processor:"object[]",default:[]}),ae("table_row_class_list",{processor:"object[]",default:[]}),ae("table_class_list",{processor:"object[]",default:[]}),ae("table_toolbar",{processor:"string",default:ta}),ae("table_background_color_map",{processor:"object[]",default:[]}),ae("table_border_color_map",{processor:"object[]",default:[]})},ou=yl("table_sizing_mode"),Sl=yl("table_border_widths"),Ph=yl("table_border_styles"),Iu=yl("table_cell_advtab"),Ru=yl("table_row_advtab"),Nc=yl("table_advtab"),ti=yl("table_appearance_options"),Pd=yl("table_grid"),ku=yl("table_style_by_css"),jl=yl("table_cell_class_list"),oa=yl("table_row_class_list"),pr=yl("table_class_list"),Nh=yl("table_toolbar"),Wl=yl("table_background_color_map"),Ga=yl("table_border_color_map"),lf=J=>ou(J)==="fixed",sl=J=>ou(J)==="responsive",Wb=J=>{const ae=J.options,Ie=ae.get("table_default_styles");return ae.isSet("table_default_styles")?Ie:Ky(J,Ie)},nc=J=>{const ae=J.options,Ie=ae.get("table_default_attributes");return ae.isSet("table_default_attributes")?Ie:RE(J,Ie)},Yy=J=>lt(J,"table"),mr=(J,ae)=>{const Ie=ut(J,ae);return Ie.length>0?F.some(Ie):F.none()},xm=(J,ae,Ie)=>pn(J,ae).bind(qe=>pn(J,Ie).bind(St=>On(Yy,[qe,St]).map(cn=>({first:qe,last:St,table:cn})))),rs=(J,ae)=>mr(J,ae),a1=(J,ae,Ie)=>xm(J,ae,Ie).bind(qe=>{const St=zs=>$o(J,zs),cn="thead,tfoot,tbody,table",ao=lt(qe.first,cn,St),Go=lt(qe.last,cn,St);return ao.bind(zs=>Go.bind(Ss=>$o(zs,Ss)?fr(qe.table,qe.first,qe.last):F.none()))}),fl=oe,nr=J=>{const ae=(qe,St)=>ms(qe,St).exists(cn=>parseInt(cn,10)>1),Ie=qe=>ae(qe,"rowspan")||ae(qe,"colspan");return J.length>0&&ho(J,Ie)?F.some(J):F.none()},Dl=(J,ae,Ie)=>ae.length<=1?F.none():a1(J,Ie.firstSelectedSelector,Ie.lastSelectedSelector).map(qe=>({bounds:qe,cells:ae})),sa="data-mce-selected",Om="data-mce-first-selected",Xy="td["+Om+"],th["+Om+"]",Nd="data-mce-last-selected",Du="td["+Nd+"],th["+Nd+"]",Gb={selected:sa,firstSelectedSelector:Xy,lastSelectedSelector:Du},Jy=J=>gc(J).bind(ae=>rs(ae,Gb.firstSelectedSelector)).fold(K(J),ae=>ae[0]),qb=J=>(ae,Ie)=>{const qe=nl(ae),St=qe==="col"||qe==="colgroup"?Jy(ae):ae;return so(St,J,Ie)},sh=qb("th,td,caption"),Lh=qb("th,td"),Qy=J=>Yf(J.model.table.getSelectedCells()),Tc=(J,ae)=>{const Ie=Lh(J),qe=Ie.bind(St=>gc(St)).map(St=>Bi(St));return Mo(Ie,qe,(St,cn)=>nt(cn,ao=>we(Yf(ao.dom.cells),Go=>ea(Go,ae)==="1"||$o(Go,St)))).getOr([])},rh=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],np=J=>({value:Zb(J)}),$r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ld=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,l1=J=>$r.test(J)||Ld.test(J),Zb=J=>Ds(J,"#").toUpperCase(),ih=J=>l1(J)?F.some({value:Zb(J)}):F.none(),_s=J=>{const ae=J.toString(16);return(ae.length===1?"0"+ae:ae).toUpperCase()},ca=J=>{const ae=_s(J.red)+_s(J.green)+_s(J.blue);return np(ae)},Ra=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,ra=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,ah=(J,ae,Ie,qe)=>({red:J,green:ae,blue:Ie,alpha:qe}),ua=(J,ae,Ie,qe)=>{const St=parseInt(J,10),cn=parseInt(ae,10),ao=parseInt(Ie,10),Go=parseFloat(qe);return ah(St,cn,ao,Go)},pl=J=>{const ae=Ra.exec(J);if(ae!==null)return F.some(ua(ae[1],ae[2],ae[3],"1"));const Ie=ra.exec(J);return Ie!==null?F.some(ua(Ie[1],Ie[2],Ie[3],Ie[4])):F.none()},Pv=J=>ih(J).orThunk(()=>pl(J).map(ca)).getOrThunk(()=>{const ae=document.createElement("canvas");ae.height=1,ae.width=1;const Ie=ae.getContext("2d");Ie.clearRect(0,0,ae.width,ae.height),Ie.fillStyle="#FFFFFF",Ie.fillStyle=J,Ie.fillRect(0,0,1,1);const qe=Ie.getImageData(0,0,1,1).data,St=qe[0],cn=qe[1],ao=qe[2],Go=qe[3];return ca(ah(St,cn,ao,Go))}),Sr=J=>pl(J).map(ca).map(ae=>"#"+ae.value).getOr(J),sd=(J,ae,Ie)=>qe=>{const St=Ps(),cn=wo(Ie),ao=()=>{const Go=Qy(J),zs=Ss=>J.formatter.match(ae,{value:Ie},Ss.dom,cn);cn?(qe.setActive(!we(Go,zs)),St.set(J.formatter.formatChanged(ae,Ss=>qe.setActive(!Ss),!0))):(qe.setActive(ho(Go,zs)),St.set(J.formatter.formatChanged(ae,qe.setActive,!1,{value:Ie})))};return J.initialized?ao():J.on("init",ao),St.clear},Di=J=>Kt(J,"menu"),Mu=J=>rt(J,ae=>{const Ie=ae.text||ae.title||"";return Di(ae)?{text:Ie,items:Mu(ae.menu)}:{text:Ie,value:ae.value}}),Cl=J=>J.length?F.some(Mu([{text:"Select...",value:"mce-no-match"},...J])):F.none(),El=(J,ae,Ie,qe)=>rt(ae,St=>{const cn=St.text||St.title;return Di(St)?{type:"nestedmenuitem",text:cn,getSubmenuItems:()=>El(J,St.menu,Ie,qe)}:{text:cn,type:"togglemenuitem",onAction:()=>qe(St.value),onSetup:sd(J,Ie,St.value)}}),cf=(J,ae)=>Ie=>{J.execCommand("mceTableApplyCellStyle",!1,{[ae]:Ie})},Nv=J=>Nn(J,ae=>Di(ae)?[{...ae,menu:Nv(ae.menu)}]:jt(ae.value)?[ae]:[]),Up=(J,ae,Ie,qe)=>St=>St(El(J,ae,Ie,qe)),Im=(J,ae,Ie)=>{const qe=rt(ae,St=>({text:St.title,value:"#"+Pv(St.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:qe.length>0?qe:void 0,allowCustomColors:!1},onAction:St=>{const cn=St.value==="remove"?"":St.value;J.execCommand("mceTableApplyCellStyle",!1,{[Ie]:cn})}}]},lh=J=>()=>{const Ie=J.queryCommandValue("mceTableRowType")==="header"?"body":"header";J.execCommand("mceTableRowType",!1,{type:Ie})},bc=J=>()=>{const Ie=J.queryCommandValue("mceTableColType")==="th"?"td":"th";J.execCommand("mceTableColType",!1,{type:Ie})},zp=J=>Cl(jl(J)).map(ae=>({name:"class",type:"listbox",label:"Class",items:ae})),kE=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:rh}],op=J=>kE.concat(zp(J).toArray()),ni=(J,ae)=>{const qe=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Mu(Ph(J)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:ae==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(qe):qe}},Lv={normal:(J,ae)=>{const Ie=J.dom;return{setAttrib:(ao,Go)=>{Ie.setAttrib(ae,ao,Go)},setStyle:(ao,Go)=>{Ie.setStyle(ae,ao,Go)},setFormat:(ao,Go)=>{Go===""?J.formatter.remove(ao,{value:null},ae,!0):J.formatter.apply(ao,{value:Go},ae)}}}},Lc=J=>bt(J,"rgb")?Sr(J):J,su=J=>{const ae=Ws.fromDom(J);return{borderwidth:pc(ae,"border-width").getOr(""),borderstyle:pc(ae,"border-style").getOr(""),bordercolor:pc(ae,"border-color").map(Lc).getOr(""),backgroundcolor:pc(ae,"background-color").map(Lc).getOr("")}},La=J=>{const ae=J[0],Ie=J.slice(1);return gt(Ie,qe=>{gt(as(ae),St=>{oo(qe,(cn,ao)=>{const Go=ae[St];Go!==""&&St===ao&&Go!==cn&&(ae[St]=St==="class"?"mce-no-match":"")})})}),ae},Bd=(J,ae,Ie,qe)=>vn(J,St=>!_(Ie.formatter.matchNode(qe,ae+St))).getOr(""),ml=re(Bd,["left","center","right"],"align"),Rm=re(Bd,["top","middle","bottom"],"valign"),e0=(J,ae)=>{const Ie=Wb(J),qe=nc(J),St=()=>({borderstyle:je(Ie,"border-style").getOr(""),bordercolor:Lc(je(Ie,"border-color").getOr("")),backgroundcolor:Lc(je(Ie,"background-color").getOr(""))}),cn={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},ao=()=>{const Vi=Ie["border-width"];return ku(J)&&Vi?{border:Vi}:je(qe,"border").fold(()=>({}),da=>({border:da}))},Go=ae?St():{},zs=()=>{const Vi=je(Ie,"border-spacing").or(je(qe,"cellspacing")).fold(()=>({}),Za=>({cellspacing:Za})),da=je(Ie,"border-padding").or(je(qe,"cellpadding")).fold(()=>({}),Za=>({cellpadding:Za}));return{...Vi,...da}};return{...cn,...Ie,...qe,...Go,...ao(),...zs()}},Kb=J=>gc(Ws.fromDom(J)).map(ae=>{const Ie={selection:Yf(J.cells)};return es(ae,Ie)}).getOr(""),DE=(J,ae,Ie)=>{const qe=(Go,zs)=>{const Ss=pc(Ws.fromDom(zs),"border-width");return ku(J)&&Ss.isSome()?Ss.getOr(""):Go.getAttrib(zs,"border")||Xr(J.dom,zs,"border-width")||Xr(J.dom,zs,"border")||""},St=J.dom,cn=ku(J)?St.getStyle(ae,"border-spacing")||St.getAttrib(ae,"cellspacing"):St.getAttrib(ae,"cellspacing")||St.getStyle(ae,"border-spacing"),ao=ku(J)?Xr(St,ae,"padding")||St.getAttrib(ae,"cellpadding"):St.getAttrib(ae,"cellpadding")||Xr(St,ae,"padding");return{width:St.getStyle(ae,"width")||St.getAttrib(ae,"width"),height:St.getStyle(ae,"height")||St.getAttrib(ae,"height"),cellspacing:cn??"",cellpadding:ao??"",border:qe(St,ae),caption:!!St.select("caption",ae)[0],class:St.getAttrib(ae,"class",""),align:ml(J,ae),...Ie?su(ae):{}}},uf=(J,ae,Ie)=>{const qe=J.dom;return{height:qe.getStyle(ae,"height")||qe.getAttrib(ae,"height"),class:qe.getAttrib(ae,"class",""),type:Kb(ae),align:ml(J,ae),...Ie?su(ae):{}}},ME=(J,ae,Ie,qe)=>{const St=J.dom,cn=qe.getOr(ae);return{width:((Go,zs)=>St.getStyle(Go,zs)||St.getAttrib(Go,zs))(cn,"width"),scope:St.getAttrib(ae,"scope"),celltype:Po(ae),class:St.getAttrib(ae,"class",""),halign:ml(J,ae),valign:Rm(J,ae),...Ie?su(ae):{}}},u1=(J,ae)=>{const Ie=ji.fromTable(J),qe=ji.justCells(Ie),St=nt(qe,cn=>we(ae,ao=>$o(cn.element,ao)));return rt(St,cn=>({element:cn.element.dom,column:ji.getColumnAt(Ie,cn.column).map(ao=>ao.element.dom)}))},df=(J,ae,Ie,qe)=>{qe("scope")&&J.setAttrib("scope",Ie.scope),qe("class")&&Ie.class!=="mce-no-match"&&J.setAttrib("class",Ie.class),qe("width")&&ae.setStyle("width",de(Ie.width))},$S=(J,ae,Ie)=>{Ie("backgroundcolor")&&J.setFormat("tablecellbackgroundcolor",ae.backgroundcolor),Ie("bordercolor")&&J.setFormat("tablecellbordercolor",ae.bordercolor),Ie("borderstyle")&&J.setFormat("tablecellborderstyle",ae.borderstyle),Ie("borderwidth")&&J.setFormat("tablecellborderwidth",de(ae.borderwidth))},Bv=(J,ae,Ie,qe)=>{const St=ae.length===1;gt(ae,cn=>{const ao=cn.element,Go=St?Oe:qe,zs=Lv.normal(J,ao),Ss=cn.column.map(Vi=>Lv.normal(J,Vi)).getOr(zs);df(zs,Ss,Ie,Go),Iu(J)&&$S(zs,Ie,Go),qe("halign")&&bl(J,ao,Ie.halign),qe("valign")&&ec(J,ao,Ie.valign)})},km=(J,ae)=>{J.execCommand("mceTableCellType",!1,{type:ae.celltype,no_events:!0})},Rg=(J,ae,Ie,qe)=>{const St=mn(qe,(cn,ao)=>Ie[ao]!==cn);Dt(St)>0&&ae.length>=1&&gc(ae[0]).each(cn=>{const ao=u1(cn,ae),Go=Dt(mn(St,(Ss,Vi)=>Vi!=="scope"&&Vi!=="celltype"))>0,zs=Lt(St,"celltype");(Go||Lt(St,"scope"))&&Bv(J,ao,qe,re(Lt,St)),zs&&km(J,qe),Ns(J,cn.dom,{structure:zs,style:Go})})},d1=(J,ae,Ie,qe)=>{const St=qe.getData();qe.close(),J.undoManager.transact(()=>{Rg(J,ae,Ie,St),J.focus()})},US=(J,ae)=>{const Ie=gc(ae[0]).map(qe=>rt(u1(qe,ae),St=>ME(J,St.element,Iu(J),St.column)));return La(Ie.getOrDie())},Bh=J=>{const ae=Qy(J);if(ae.length===0)return;const Ie=US(J,ae),qe={type:"tabpanel",tabs:[{title:"General",name:"general",items:op(J)},ni(J,"cell")]},St={type:"panel",items:[{type:"grid",columns:2,items:op(J)}]};J.windowManager.open({title:"Cell Properties",size:"normal",body:Iu(J)?qe:St,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ie,onSubmit:re(d1,J,ae,Ie)})},Dm=J=>Cl(oa(J)).map(ae=>({name:"class",type:"listbox",label:"Class",items:ae})),hf=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],oi=J=>hf.concat(Dm(J).toArray()),gl=(J,ae,Ie)=>{Ie("class")&&ae.class!=="mce-no-match"&&J.setAttrib("class",ae.class),Ie("height")&&J.setStyle("height",de(ae.height))},sp=(J,ae,Ie)=>{Ie("backgroundcolor")&&J.setStyle("background-color",ae.backgroundcolor),Ie("bordercolor")&&J.setStyle("border-color",ae.bordercolor),Ie("borderstyle")&&J.setStyle("border-style",ae.borderstyle)},t0=(J,ae,Ie,qe)=>{const cn=ae.length===1?Oe:qe;gt(ae,ao=>{const Go=Ue(Ws.fromDom(ao),"td,th"),zs=Lv.normal(J,ao);gl(zs,Ie,cn),Ru(J)&&sp(zs,Ie,cn),qe("height")&&gt(Go,Ss=>{J.dom.setStyle(Ss.dom,"height",null)}),qe("align")&&bl(J,ao,Ie.align)})},Mm=(J,ae)=>{J.execCommand("mceTableRowType",!1,{type:ae.type,no_events:!0})},kg=(J,ae,Ie,qe)=>{const St=mn(qe,(cn,ao)=>Ie[ao]!==cn);if(Dt(St)>0){const cn=Lt(St,"type"),ao=cn?Dt(St)>1:!0;ao&&t0(J,ae,qe,re(Lt,St)),cn&&Mm(J,qe),gc(Ws.fromDom(ae[0])).each(Go=>Ns(J,Go.dom,{structure:cn,style:ao}))}},jp=(J,ae,Ie,qe)=>{const St=qe.getData();qe.close(),J.undoManager.transact(()=>{kg(J,ae,Ie,St),J.focus()})},rp=J=>{const ae=Tc(ge(J),Gb.selected);if(ae.length===0)return;const Ie=rt(ae,ao=>uf(J,ao.dom,Ru(J))),qe=La(Ie),St={type:"tabpanel",tabs:[{title:"General",name:"general",items:oi(J)},ni(J,"row")]},cn={type:"panel",items:[{type:"grid",columns:2,items:oi(J)}]};J.windowManager.open({title:"Row Properties",size:"normal",body:Ru(J)?St:cn,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:qe,onSubmit:re(jp,J,rt(ae,ao=>ao.dom),qe)})},Vh=(J,ae,Ie)=>{const qe=Ie?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],St=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],cn=ti(J)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],ao=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Go=ae.length>0?[{name:"class",type:"listbox",label:"Class",items:ae}]:[];return qe.concat(St).concat(cn).concat(ao).concat(Go)},Ei=(J,ae,Ie,qe)=>{if(ae.tagName==="TD"||ae.tagName==="TH")p(Ie)&&P(qe)?J.setStyle(ae,Ie,qe):J.setStyles(ae,Ie);else if(ae.children)for(let St=0;St<ae.children.length;St++)Ei(J,ae.children[St],Ie,qe)},zS=(J,ae,Ie,qe)=>{const St=J.dom,cn={},ao={},Go=ku(J),zs=Nc(J),Ss=parseFloat(Ie.border)===0;if(!_(Ie.class)&&Ie.class!=="mce-no-match"&&(cn.class=Ie.class),ao.height=de(Ie.height),Go?ao.width=de(Ie.width):St.getAttrib(ae,"width")&&(cn.width=X(Ie.width)),Go?(Ss?(cn.border=0,ao["border-width"]=""):(ao["border-width"]=de(Ie.border),cn.border=1),ao["border-spacing"]=de(Ie.cellspacing)):(cn.border=Ss?0:Ie.border,cn.cellpadding=Ie.cellpadding,cn.cellspacing=Ie.cellspacing),Go&&ae.children){const Vi={};if(Ss?Vi["border-width"]="":qe.border&&(Vi["border-width"]=de(Ie.border)),qe.cellpadding&&(Vi.padding=de(Ie.cellpadding)),zs&&qe.bordercolor&&(Vi["border-color"]=Ie.bordercolor),!rn(Vi))for(let da=0;da<ae.children.length;da++)Ei(St,ae.children[da],Vi)}if(zs){const Vi=Ie;ao["background-color"]=Vi.backgroundcolor,ao["border-color"]=Vi.bordercolor,ao["border-style"]=Vi.borderstyle}St.setStyles(ae,{...Wb(J),...ao}),St.setAttribs(ae,{...nc(J),...cn})},ai=(J,ae,Ie,qe)=>{const St=J.dom,cn=qe.getData(),ao=mn(cn,(Go,zs)=>Ie[zs]!==Go);qe.close(),J.undoManager.transact(()=>{if(!ae){const Go=Jn(cn.cols).getOr(1),zs=Jn(cn.rows).getOr(1);J.execCommand("mceInsertTable",!1,{rows:zs,columns:Go}),ae=Lh(ge(J),L(J)).bind(Ss=>gc(Ss,L(J))).map(Ss=>Ss.dom).getOrDie()}if(Dt(ao)>0){const Go={border:Lt(ao,"border"),bordercolor:Lt(ao,"bordercolor"),cellpadding:Lt(ao,"cellpadding")};zS(J,ae,cn,Go);const zs=St.select("caption",ae)[0];(zs&&!cn.caption||!zs&&cn.caption)&&J.execCommand("mceTableToggleCaption"),bl(J,ae,cn.align)}if(J.focus(),J.addVisual(),Dt(ao)>0){const Go=Lt(ao,"caption"),zs=Go?Dt(ao)>1:!0;Ns(J,ae,{structure:Go,style:zs})}})},Vv=(J,ae)=>{const Ie=J.dom;let qe,St=e0(J,Nc(J));ae?(St.cols="1",St.rows="1",Nc(J)&&(St.borderstyle="",St.bordercolor="",St.backgroundcolor="")):(qe=Ie.getParent(J.selection.getStart(),"table",J.getBody()),qe?St=DE(J,qe,Nc(J)):Nc(J)&&(St.borderstyle="",St.bordercolor="",St.backgroundcolor=""));const cn=Cl(pr(J));cn.isSome()&&St.class&&(St.class=St.class.replace(/\s*mce\-item\-table\s*/g,""));const ao={type:"grid",columns:2,items:Vh(J,cn.getOr([]),ae)},Go=()=>({type:"panel",items:[ao]}),zs=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[ao]},ni(J,"table")]}),Ss=Nc(J)?zs():Go();J.windowManager.open({title:"Table Properties",size:"normal",body:Ss,onSubmit:re(ai,J,qe,St),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:St})},qa=J=>{const ae=Ie=>{Le(ge(J))&&Ie()};oo({mceTableProps:re(Vv,J,!1),mceTableRowProps:re(rp,J),mceTableCellProps:re(Bh,J),mceInsertTableDialog:re(Vv,J,!0)},(Ie,qe)=>J.addCommand(qe,()=>ae(Ie)))},Fh=J=>({element:J,mergable:F.none(),unmergable:F.none(),selection:[J]}),xc=(J,ae,Ie)=>({element:Ie,mergable:Dl(ae,J,Gb),unmergable:nr(J),selection:fl(J)}),Pu=J=>{const ae=Ht(F.none()),Ie=Ht([]);let qe=F.none();const St=Yc("caption"),cn=Nr=>qe.forall(_i=>!_i[Nr]),ao=()=>sh(ge(J),L(J)),Go=()=>sh(xe(J),L(J)),zs=()=>ao().bind(Nr=>Ko(Mo(gc(Nr),Go().bind(gc),(_i,Ka)=>$o(_i,Ka)?St(Nr)?F.some(Fh(Nr)):F.some(xc(Qy(J),_i,Nr)):F.none()))),Ss=Nr=>gc(Nr.element).map(Ka=>{const rd=ji.fromTable(Ka),Ya=kh(rd,Nr).getOr([]),ey=Pt(Ya,(ty,ny)=>(ny.isLocked&&(ty.onAny=!0,ny.column===0?ty.onFirst=!0:ny.column+ny.colspan>=rd.grid.columns&&(ty.onLast=!0)),ty),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:zb(rd,Nr).isSome(),unmergeable:Qe(rd,Nr).isSome(),locked:ey}}),Vi=()=>{ae.set(Zn(zs)()),qe=ae.get().bind(Ss),gt(Ie.get(),ye)},da=Nr=>(Nr(),Ie.set(Ie.get().concat([Nr])),()=>{Ie.set(nt(Ie.get(),_i=>_i!==Nr))}),Za=(Nr,_i)=>da(()=>ae.get().fold(()=>{Nr.setEnabled(!1)},Ka=>{Nr.setEnabled(!_i(Ka)&&J.selection.isEditable())})),Lu=(Nr,_i,Ka)=>da(()=>ae.get().fold(()=>{Nr.setEnabled(!1),Nr.setActive(!1)},rd=>{Nr.setEnabled(!_i(rd)&&J.selection.isEditable()),Nr.setActive(Ka(rd))})),Wp=Nr=>qe.exists(_i=>_i.locked[Nr]),Gp=Nr=>Za(Nr,_i=>!1),ru=Nr=>Za(Nr,_i=>St(_i.element)),f1=Nr=>_i=>Za(_i,Ka=>St(Ka.element)||Wp(Nr)),Pm=Nr=>_i=>Za(_i,Ka=>St(Ka.element)||Nr().isNone()),Qb=(Nr,_i)=>Ka=>Za(Ka,rd=>St(rd.element)||Nr().isNone()||Wp(_i)),Nm=Nr=>Za(Nr,_i=>cn("mergeable")),Mg=Nr=>Za(Nr,_i=>cn("unmergeable")),s0=Nr=>Lu(Nr,_e,_i=>gc(_i.element,L(J)).exists(rd=>un(rd,"caption"))),Ml=(Nr,_i)=>Ka=>Lu(Ka,rd=>St(rd.element),()=>J.queryCommandValue(Nr)===_i),NE=Ml("mceTableRowType","header"),LE=Ml("mceTableColType","th");return J.on("NodeChange ExecCommand TableSelectorChange",Vi),{onSetupTable:Gp,onSetupCellOrRow:ru,onSetupColumn:f1,onSetupPasteable:Pm,onSetupPasteableColumn:Qb,onSetupMergeable:Nm,onSetupUnmergeable:Mg,resetTargets:Vi,onSetupTableWithCaption:s0,onSetupTableRowHeaders:NE,onSetupTableColumnHeaders:LE,targets:ae.get}};var Dg=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Fv="x-tinymce/dom-table-",h1=Fv+"rows",PE=Fv+"columns",wl=J=>{const ae=Dg.read()??[];return ws(ae,Ie=>F.from(Ie.getType(J)))},ff=()=>wl(h1),rl=()=>wl(PE),wi=J=>ae=>{const Ie=()=>{ae.setEnabled(J.selection.isEditable())};return J.on("NodeChange",Ie),Ie(),()=>{J.off("NodeChange",Ie)}},Yb=(J,ae)=>{J.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:wi(J),fetch:Go=>Go("inserttable | cell row column | advtablesort | tableprops deletetable")});const Ie=Go=>()=>J.execCommand(Go),qe=(Go,zs)=>{J.queryCommandSupported(zs.command)&&J.ui.registry.addButton(Go,{...zs,onAction:B(zs.onAction)?zs.onAction:Ie(zs.command)})},St=(Go,zs)=>{J.queryCommandSupported(zs.command)&&J.ui.registry.addToggleButton(Go,{...zs,onAction:B(zs.onAction)?zs.onAction:Ie(zs.command)})};qe("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:ae.onSetupTable}),qe("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:ae.onSetupTable}),qe("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:ae.onSetupCellOrRow}),qe("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:ae.onSetupMergeable}),qe("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:ae.onSetupUnmergeable}),qe("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:ae.onSetupCellOrRow}),qe("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:ae.onSetupCellOrRow}),qe("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:ae.onSetupCellOrRow}),qe("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:ae.onSetupCellOrRow}),qe("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:ae.onSetupColumn("onFirst")}),qe("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:ae.onSetupColumn("onLast")}),qe("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:ae.onSetupColumn("onAny")}),qe("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:ae.onSetupCellOrRow}),qe("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:ae.onSetupCellOrRow}),qe("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:ae.onSetupPasteable(ff)}),qe("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:ae.onSetupPasteable(ff)}),qe("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:ae.onSetupColumn("onAny")}),qe("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:ae.onSetupColumn("onAny")}),qe("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:ae.onSetupPasteableColumn(rl,"onFirst")}),qe("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:ae.onSetupPasteableColumn(rl,"onLast")}),qe("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:wi(J)});const cn=Nv(pr(J));cn.length!==0&&J.queryCommandSupported("mceTableToggleClass")&&J.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Up(J,cn,"tableclass",Go=>J.execCommand("mceTableToggleClass",!1,Go)),onSetup:ae.onSetupTable});const ao=Nv(jl(J));ao.length!==0&&J.queryCommandSupported("mceTableCellToggleClass")&&J.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Up(J,ao,"tablecellclass",Go=>J.execCommand("mceTableCellToggleClass",!1,Go)),onSetup:ae.onSetupCellOrRow}),J.queryCommandSupported("mceTableApplyCellStyle")&&(J.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Up(J,rh,"tablecellverticalalign",cf(J,"vertical-align")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Up(J,Sl(J),"tablecellborderwidth",cf(J,"border-width")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Up(J,Ph(J),"tablecellborderstyle",cf(J,"border-style")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Go=>Go(Im(J,Wl(J),"background-color")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Go=>Go(Im(J,Ga(J),"border-color")),onSetup:ae.onSetupCellOrRow})),St("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:ae.onSetupTableWithCaption}),St("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:lh(J),onSetup:ae.onSetupTableRowHeaders}),St("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:bc(J),onSetup:ae.onSetupTableColumnHeaders})},Xb=J=>{const ae=qe=>J.dom.is(qe,"table")&&J.getBody().contains(qe)&&J.dom.isEditable(qe.parentNode),Ie=Nh(J);Ie.length>0&&J.ui.registry.addContextToolbar("table",{predicate:ae,items:Ie,scope:"node",position:"node"})},Jb=J=>ae=>{const Ie=()=>{ae.setEnabled(J.selection.isEditable())};return J.on("NodeChange",Ie),Ie(),()=>{J.off("NodeChange",Ie)}},n0=(J,ae)=>{const Ie=da=>()=>J.execCommand(da),qe=(da,Za)=>J.queryCommandSupported(Za.command)?(J.ui.registry.addMenuItem(da,{...Za,onAction:B(Za.onAction)?Za.onAction:Ie(Za.command)}),!0):!1,St=(da,Za)=>{J.queryCommandSupported(Za.command)&&J.ui.registry.addToggleMenuItem(da,{...Za,onAction:B(Za.onAction)?Za.onAction:Ie(Za.command)})},cn=da=>{J.execCommand("mceInsertTable",!1,{rows:da.numRows,columns:da.numColumns})},ao=[qe("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:ae.onSetupCellOrRow}),qe("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:ae.onSetupCellOrRow}),qe("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:ae.onSetupCellOrRow}),qe("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:ae.onSetupCellOrRow}),qe("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:ae.onSetupCellOrRow}),qe("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:ae.onSetupCellOrRow}),qe("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:ae.onSetupPasteable(ff)}),qe("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:ae.onSetupPasteable(ff)})],Go=[qe("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:ae.onSetupColumn("onFirst")}),qe("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:ae.onSetupColumn("onLast")}),qe("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:ae.onSetupColumn("onAny")}),qe("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:ae.onSetupColumn("onAny")}),qe("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:ae.onSetupColumn("onAny")}),qe("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:ae.onSetupPasteableColumn(rl,"onFirst")}),qe("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:ae.onSetupPasteableColumn(rl,"onLast")})],zs=[qe("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:ae.onSetupCellOrRow}),qe("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:ae.onSetupMergeable}),qe("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:ae.onSetupUnmergeable})];Pd(J)?J.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:cn}],onSetup:Jb(J)}):J.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:Ie("mceInsertTableDialog"),onSetup:Jb(J)}),J.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:Ie("mceInsertTableDialog"),onSetup:Jb(J)}),qe("tableprops",{text:"Table properties",onSetup:ae.onSetupTable,command:"mceTableProps"}),qe("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:ae.onSetupTable,command:"mceTableDelete"}),De(ao,!0)&&J.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:K("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),De(Go,!0)&&J.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:K("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),De(zs,!0)&&J.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:K("tablecellprops tablemergecells tablesplitcells")}),J.ui.registry.addContextMenu("table",{update:()=>(ae.resetTargets(),ae.targets().fold(K(""),da=>nl(da.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Ss=Nv(pr(J));Ss.length!==0&&J.queryCommandSupported("mceTableToggleClass")&&J.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>El(J,Ss,"tableclass",da=>J.execCommand("mceTableToggleClass",!1,da)),onSetup:ae.onSetupTable});const Vi=Nv(jl(J));Vi.length!==0&&J.queryCommandSupported("mceTableCellToggleClass")&&J.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>El(J,Vi,"tablecellclass",da=>J.execCommand("mceTableCellToggleClass",!1,da)),onSetup:ae.onSetupCellOrRow}),J.queryCommandSupported("mceTableApplyCellStyle")&&(J.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>El(J,rh,"tablecellverticalalign",cf(J,"vertical-align")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>El(J,Sl(J),"tablecellborderwidth",cf(J,"border-width")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>El(J,Ph(J),"tablecellborderstyle",cf(J,"border-style")),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Im(J,Wl(J),"background-color"),onSetup:ae.onSetupCellOrRow}),J.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Im(J,Ga(J),"border-color"),onSetup:ae.onSetupCellOrRow})),St("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:ae.onSetupTableWithCaption}),St("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:lh(J),onSetup:ae.onSetupTableRowHeaders}),St("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:bc(J),onSetup:ae.onSetupTableRowHeaders})},Nu=J=>{const ae=Pu(J);tc(J),qa(J),n0(J,ae),Yb(J,ae),Xb(J)};var o0=()=>{e.add("table",Nu)};o0()})()),UIe}var jIe;function AXe(){return jIe||(jIe=1,_Xe()),$Ie}AXe();var WIe={},GIe={},qIe;function TXe(){return qIe||(qIe=1,(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=mt=>({backspaceDelete:Dt=>{mt.execCommand("mceListBackspaceDelete",!1,Dt)}}),o=mt=>mt==null,i=mt=>!o(mt),c=mt=>()=>mt,d=(mt,Dt)=>mt===Dt,p=c(!1);class v{tag;value;static singletonNone=new v(!1);constructor(Dt,je){this.tag=Dt,this.value=je}static some(Dt){return new v(!0,Dt)}static none(){return v.singletonNone}fold(Dt,je){return this.tag?je(this.value):Dt()}isSome(){return this.tag}isNone(){return!this.tag}map(Dt){return this.tag?v.some(Dt(this.value)):v.none()}bind(Dt){return this.tag?Dt(this.value):v.none()}exists(Dt){return this.tag&&Dt(this.value)}forall(Dt){return!this.tag||Dt(this.value)}filter(Dt){return!this.tag||Dt(this.value)?this:v.none()}getOr(Dt){return this.tag?this.value:Dt}or(Dt){return this.tag?this:Dt}getOrThunk(Dt){return this.tag?this.value:Dt()}orThunk(Dt){return this.tag?this:Dt()}getOrDie(Dt){if(this.tag)return this.value;throw new Error(Dt??"Called getOrDie on None")}static from(Dt){return i(Dt)?v.some(Dt):v.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Dt){this.tag&&Dt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const S=Array.prototype.slice,_=(mt,Dt)=>{for(let je=0,Lt=mt.length;je<Lt;je++){const Kt=mt[je];if(Dt(Kt,je))return!0}return!1},x=(mt,Dt)=>{const je=mt.length,Lt=new Array(je);for(let Kt=0;Kt<je;Kt++){const rn=mt[Kt];Lt[Kt]=Dt(rn,Kt)}return Lt},P=(mt,Dt)=>{for(let je=0,Lt=mt.length;je<Lt;je++){const Kt=mt[je];Dt(Kt,je)}},B=(mt,Dt,je)=>(P(mt,(Lt,Kt)=>{je=Dt(je,Lt,Kt)}),je),z=(mt,Dt,je)=>{for(let Lt=0,Kt=mt.length;Lt<Kt;Lt++){const rn=mt[Lt];if(Dt(rn,Lt))return v.some(rn);if(je(rn,Lt))break}return v.none()},U=(mt,Dt)=>z(mt,Dt,p),H=mt=>{const Dt=S.call(mt,0);return Dt.reverse(),Dt},K=(mt,Dt,je=d)=>mt.exists(Lt=>je(Lt,Dt)),ce=(mt=>Dt=>Dt.replace(mt,""))(/^\s+|\s+$/g),re=mt=>mt.length>0,ye=mt=>!re(mt),_e=mt=>{const Dt=H(ce(mt).split("")),je=x(Dt,(Lt,Kt)=>{const rn=Lt.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Kt)*rn});return B(je,(Lt,Kt)=>Lt+Kt,0)},Oe=mt=>{if(mt--,mt<0)return"";{const Dt=mt%26,je=Math.floor(mt/26),Lt=Oe(je),Kt=String.fromCharCode(65+Dt);return Lt+Kt}},F=mt=>/^[A-Z]+$/.test(mt),Me=mt=>/^[a-z]+$/.test(mt),ot=mt=>/^[0-9]+$/.test(mt),Fe=mt=>ot(mt)?2:F(mt)?0:Me(mt)?1:ye(mt)?3:4,De=mt=>{switch(Fe(mt)){case 2:return v.some({listStyleType:v.none(),start:mt});case 0:return v.some({listStyleType:v.some("upper-alpha"),start:_e(mt).toString()});case 1:return v.some({listStyleType:v.some("lower-alpha"),start:_e(mt).toString()});case 3:return v.some({listStyleType:v.none(),start:""});case 4:return v.none()}},we=mt=>{const Dt=parseInt(mt.start,10);return K(mt.listStyleType,"upper-alpha")?Oe(Dt):K(mt.listStyleType,"lower-alpha")?Oe(Dt).toLowerCase():mt.start},rt=(mt=>Dt=>Dt.options.get(mt))("forced_root_block"),gt=mt=>/\btox\-/.test(mt.className),ee=mt=>Dt=>i(Dt)&&mt.test(Dt.nodeName),on=mt=>Dt=>i(Dt)&&Dt.nodeName.toLowerCase()===mt,nt=ee(/^(OL|UL|DL)$/),Mt=ee(/^(TH|TD)$/),Pt=ee(/^(LI|DT|DD)$/),st=(mt,Dt)=>z(mt,nt,Mt).exists(je=>je.nodeName===Dt&&!gt(je)),vn=(mt,Dt)=>{const je=mt.selection.getNode();return Dt({parents:mt.dom.getParents(je),element:je}),mt.on("NodeChange",Dt),()=>mt.off("NodeChange",Dt)},To=(mt,Dt)=>Dt!==null&&!mt.dom.isEditable(Dt),Nn=(mt,Dt)=>{const je=mt.dom.getParent(Dt,"ol,ul,dl");return To(mt,je)||!mt.selection.isEditable()},ho=on("ol"),qt=["OL","UL","DL"],Tn=qt.join(","),Se=(mt,Dt)=>{const je=Dt||mt.selection.getStart(!0);return mt.dom.getParent(je,Tn,br(mt,je))},br=(mt,Dt)=>{const je=mt.dom.getParents(Dt,mt.dom.isBlock),Lt=rn=>rn.nodeName.toLowerCase()!==rt(mt);return U(je,rn=>Lt(rn)&&ws(mt.schema,rn)).getOr(mt.getBody())},ws=(mt,Dt)=>!nt(Dt)&&!Pt(Dt)&&_(qt,je=>mt.isValidChild(Dt.nodeName,je)),as=mt=>{const Dt=Se(mt);!ho(Dt)||Nn(mt,Dt)||mt.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:we({start:mt.dom.getAttrib(Dt,"start","1"),listStyleType:v.from(mt.dom.getStyle(Dt,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:je=>{const Lt=je.getData();De(Lt.start).each(Kt=>{mt.execCommand("mceListUpdate",!1,{attrs:{start:Kt.start==="1"?"":Kt.start},styles:{"list-style-type":Kt.listStyleType.getOr("")}})}),je.close()}})},Is=mt=>{mt.addCommand("mceListProps",()=>{as(mt)})},oo=(mt,Dt)=>je=>{const Lt=Kt=>{je.setActive(st(Kt.parents,Dt)),je.setEnabled(!Nn(mt,Kt.element)&&mt.selection.isEditable())};return je.setEnabled(mt.selection.isEditable()),vn(mt,Lt)},kt=mt=>{const Dt=je=>()=>mt.execCommand(je);mt.hasPlugin("advlist")||(mt.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Dt("InsertOrderedList"),onSetup:oo(mt,"OL")}),mt.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Dt("InsertUnorderedList"),onSetup:oo(mt,"UL")}))},bn=(mt,Dt)=>je=>vn(mt,Kt=>je.setEnabled(st(Kt.parents,Dt)&&!Nn(mt,Kt.element))),mn=mt=>{const Dt={text:"List properties...",icon:"ordered-list",onAction:()=>mt.execCommand("mceListProps"),onSetup:bn(mt,"OL")};mt.ui.registry.addMenuItem("listprops",Dt),mt.ui.registry.addContextMenu("lists",{update:je=>{const Lt=Se(mt,je);return ho(Lt)?["listprops"]:[]}})};var Ze=()=>{e.add("lists",mt=>(Is(mt),kt(mt),mn(mt),n(mt)))};Ze()})()),GIe}var ZIe;function xXe(){return ZIe||(ZIe=1,TXe()),WIe}xXe();var KIe={},YIe={},XIe;function OXe(){return XIe||(XIe=1,(function(){const e=ce=>{let re=ce;return{get:()=>re,set:Oe=>{re=Oe}}};var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.Env");const i=ce=>ce.dispatch("ResizeEditor"),c=ce=>re=>re.options.get(ce),d=ce=>{const re=ce.options.register;re("autoresize_overflow_padding",{processor:"number",default:1}),re("autoresize_bottom_margin",{processor:"number",default:50})},p=c("min_height"),v=c("max_height"),S=c("autoresize_overflow_padding"),_=c("autoresize_bottom_margin"),x=ce=>ce.plugins.fullscreen&&ce.plugins.fullscreen.isFullscreen(),P=(ce,re)=>{const ye=ce.getBody();ye&&(ye.style.overflowY=re?"":"hidden",re||(ye.scrollTop=0))},B=(ce,re,ye,_e)=>{const Oe=parseInt(ce.getStyle(re,ye,_e)??"",10);return isNaN(Oe)?0:Oe},z=ce=>{if(ce?.type.toLowerCase()==="setcontent"){const re=ce;return re.selection===!0||re.paste===!0}else return!1},U=(ce,re,ye,_e)=>{const Oe=ce.dom,F=ce.getDoc();if(!F)return;if(x(ce)){P(ce,!0);return}const Me=F.documentElement,ot=_e?_e():S(ce),Fe=p(ce)??ce.getElement().offsetHeight;let De=Fe;const we=B(Oe,Me,"margin-top",!0),ct=B(Oe,Me,"margin-bottom",!0);let rt=Me.offsetHeight+we+ct+ot;rt<0&&(rt=0);const gt=ce.getContainer().offsetHeight,ee=ce.getContentAreaContainer().offsetHeight,on=gt-ee;rt+on>Fe&&(De=rt+on);const nt=v(ce);nt&&De>nt?(De=nt,P(ce,!0)):P(ce,!1);const Mt=re.get();if(Mt.set&&(ce.dom.setStyles(ce.getDoc().documentElement,{"min-height":0}),ce.dom.setStyles(ce.getBody(),{"min-height":"inherit"})),De!==Mt.totalHeight&&(rt-ot!==Mt.contentHeight||!Mt.set)){const Pt=De-Mt.totalHeight;if(Oe.setStyle(ce.getContainer(),"height",De+"px"),re.set({totalHeight:De,contentHeight:rt,set:!0}),i(ce),o.browser.isSafari()&&(o.os.isMacOS()||o.os.isiOS())){const st=ce.getWin();st.scrollTo(st.pageXOffset,st.pageYOffset)}ce.hasFocus()&&z(ye)&&ce.selection.scrollIntoView(),(o.browser.isSafari()||o.browser.isChromium())&&Pt<0&&U(ce,re,ye,_e)}},H=(ce,re)=>{const ye=()=>_(ce);ce.on("init",_e=>{const Oe=S(ce),F=ce.dom;F.setStyles(ce.getDoc().documentElement,{height:"auto"}),o.browser.isEdge()||o.browser.isIE()?F.setStyles(ce.getBody(),{paddingLeft:Oe,paddingRight:Oe,"min-height":0}):F.setStyles(ce.getBody(),{paddingLeft:Oe,paddingRight:Oe}),U(ce,re,_e,ye)}),ce.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",_e=>{U(ce,re,_e,ye)})},K=(ce,re)=>{ce.addCommand("mceAutoResize",()=>{U(ce,re)})};var oe=()=>{n.add("autoresize",ce=>{if(d(ce),ce.options.isSet("resize")||ce.options.set("resize",!1),!ce.inline){const re=e({totalHeight:0,contentHeight:0,set:!1});K(ce,re),H(ce,re)}})};oe()})()),YIe}var JIe;function IXe(){return JIe||(JIe=1,OXe()),KIe}IXe();var DJ={exports:{}},RXe=DJ.exports,QIe;function kXe(){return QIe||(QIe=1,(function(e,n){(function(o,i){o._Highcharts=i(),e.exports=o._Highcharts})(typeof window>"u"?RXe:window,()=>(()=>{let o,i;var c,d,p,v,S,_,x,P,B,z,U,H,K,oe,ce,re,ye,_e,Oe={};Oe.d=(Q,m)=>{for(var C in m)Oe.o(m,C)&&!Oe.o(Q,C)&&Object.defineProperty(Q,C,{enumerable:!0,get:m[C]})},Oe.o=(Q,m)=>Object.prototype.hasOwnProperty.call(Q,m);var F={};Oe.d(F,{default:()=>Zm}),(function(Q){Q.SVG_NS="http://www.w3.org/2000/svg",Q.product="Highcharts",Q.version="12.4.0",Q.win=typeof window<"u"?window:{},Q.doc=Q.win.document,Q.svg=!!Q.doc?.createElementNS?.(Q.SVG_NS,"svg")?.createSVGRect,Q.pageLang=Q.doc?.documentElement?.closest("[lang]")?.lang,Q.userAgent=Q.win.navigator?.userAgent||"",Q.isChrome=Q.win.chrome,Q.isFirefox=Q.userAgent.indexOf("Firefox")!==-1,Q.isMS=/(edge|msie|trident)/i.test(Q.userAgent)&&!Q.win.opera,Q.isSafari=!Q.isChrome&&Q.userAgent.indexOf("Safari")!==-1,Q.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(Q.userAgent),Q.isWebKit=Q.userAgent.indexOf("AppleWebKit")!==-1,Q.deg2rad=2*Math.PI/360,Q.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],Q.noop=function(){},Q.supportsPassiveEvents=(function(){let m=!1;if(!Q.isMS){let C=Object.defineProperty({},"passive",{get:function(){m=!0}});Q.win.addEventListener&&Q.win.removeEventListener&&(Q.win.addEventListener("testPassive",Q.noop,C),Q.win.removeEventListener("testPassive",Q.noop,C))}return m})(),Q.charts=[],Q.composed=[],Q.dateFormats={},Q.seriesTypes={},Q.symbolSizes={},Q.chartCount=0})(c||(c={}));let Me=c,{charts:ot,doc:Fe,win:De}=Me;function we(Q,m,C,A){let R=m?"Highcharts error":"Highcharts warning";Q===32&&(Q=`${R}: Deprecated member`);let D=Mt(Q),V=D?`${R} #${Q}: www.highcharts.com/errors/${Q}/`:Q.toString();if(A!==void 0){let j="";D&&(V+="?"),br(A,function(Z,te){j+=`
 - ${te}: ${Z}`,D&&(V+=encodeURI(te)+"="+encodeURI(Z))}),V+=j}as(Me,"displayError",{chart:C,code:Q,message:V,params:A},function(){if(m)throw Error(V);De.console&&we.messages.indexOf(V)===-1&&console.warn(V)}),we.messages.push(V)}function ct(Q,m){return parseInt(Q,m||10)}function rt(Q){return typeof Q=="string"}function gt(Q){let m=Object.prototype.toString.call(Q);return m==="[object Array]"||m==="[object Array Iterator]"}function ee(Q,m){return!!Q&&typeof Q=="object"&&(!m||!gt(Q))}function on(Q){return ee(Q)&&typeof Q.nodeType=="number"}function nt(Q){let m=Q?.constructor;return!!(ee(Q,!0)&&!on(Q)&&m?.name&&m.name!=="Object")}function Mt(Q){return typeof Q=="number"&&!isNaN(Q)&&Q<1/0&&Q>-1/0}function Pt(Q){return Q!=null}function st(Q,m,C){let A,R=rt(m)&&!Pt(C),D=(V,j)=>{Pt(V)?Q.setAttribute(j,V):R?(A=Q.getAttribute(j))||j!=="class"||(A=Q.getAttribute(j+"Name")):Q.removeAttribute(j)};return rt(m)?D(C,m):br(m,D),A}function vn(Q){return gt(Q)?Q:[Q]}function To(Q,m){let C;for(C in Q||(Q={}),m)Q[C]=m[C];return Q}function Nn(){let Q=arguments,m=Q.length;for(let C=0;C<m;C++){let A=Q[C];if(A!=null)return A}}function ho(Q,m){To(Q.style,m)}function qt(Q){return Math.pow(10,Math.floor(Math.log(Q)/Math.LN10))}function Tn(Q,m){return Q>1e14?Q:parseFloat(Q.toPrecision(m||14))}(we||(we={})).messages=[],Math.easeInOutSine=function(Q){return-.5*(Math.cos(Math.PI*Q)-1)};let Se=Array.prototype.find?function(Q,m){return Q.find(m)}:function(Q,m){let C,A=Q.length;for(C=0;C<A;C++)if(m(Q[C],C))return Q[C]};function br(Q,m,C){for(let A in Q)Object.hasOwnProperty.call(Q,A)&&m.call(C||Q[A],Q[A],A,Q)}function ws(Q,m,C){function A(V,j){let Z=Q.removeEventListener;Z&&Z.call(Q,V,j,!1)}function R(V){let j,Z;Q.nodeName&&(m?(j={})[m]=!0:j=V,br(j,function(te,ue){if(V[ue])for(Z=V[ue].length;Z--;)A(ue,V[ue][Z].fn)}))}let D=typeof Q=="function"&&Q.prototype||Q;if(Object.hasOwnProperty.call(D,"hcEvents")){let V=D.hcEvents;if(m){let j=V[m]||[];C?(V[m]=j.filter(function(Z){return C!==Z.fn}),A(m,C)):(R(V),V[m]=[])}else R(V),delete D.hcEvents}}function as(Q,m,C,A){if(C=C||{},Fe?.createEvent&&(Q.dispatchEvent||Q.fireEvent&&Q!==Me)){let R=Fe.createEvent("Events");R.initEvent(m,!0,!0),C=To(R,C),Q.dispatchEvent?Q.dispatchEvent(C):Q.fireEvent(m,C)}else if(Q.hcEvents){C.target||To(C,{preventDefault:function(){C.defaultPrevented=!0},target:Q,type:m});let R=[],D=Q,V=!1;for(;D.hcEvents;)Object.hasOwnProperty.call(D,"hcEvents")&&D.hcEvents[m]&&(R.length&&(V=!0),R.unshift.apply(R,D.hcEvents[m])),D=Object.getPrototypeOf(D);V&&R.sort((j,Z)=>j.order-Z.order),R.forEach(j=>{j.fn.call(Q,C)===!1&&C.preventDefault()})}A&&!C.defaultPrevented&&A.call(Q,C)}let Is=(function(){let Q=Math.random().toString(36).substring(2,9)+"-",m=0;return function(){return"highcharts-"+(o?"":Q)+m++}})();De.jQuery&&(De.jQuery.fn.highcharts=function(){let Q=[].slice.call(arguments);if(this[0])return Q[0]?(new Me[rt(Q[0])?Q.shift():"Chart"](this[0],Q[0],Q[1]),this):ot[st(this[0],"data-highcharts-chart")]});let oo={addEvent:function(Q,m,C,A={}){let R=typeof Q=="function"&&Q.prototype||Q;Object.hasOwnProperty.call(R,"hcEvents")||(R.hcEvents={});let D=R.hcEvents;Me.Point&&Q instanceof Me.Point&&Q.series&&Q.series.chart&&(Q.series.chart.runTrackerClick=!0);let V=Q.addEventListener;V&&V.call(Q,m,C,!!Me.supportsPassiveEvents&&{passive:A.passive===void 0?m.indexOf("touch")!==-1:A.passive,capture:!1}),D[m]||(D[m]=[]);let j={fn:C,order:typeof A.order=="number"?A.order:1/0};return D[m].push(j),D[m].sort((Z,te)=>Z.order-te.order),function(){ws(Q,m,C)}},arrayMax:function(Q){let m=Q.length,C=Q[0];for(;m--;)Q[m]>C&&(C=Q[m]);return C},arrayMin:function(Q){let m=Q.length,C=Q[0];for(;m--;)Q[m]<C&&(C=Q[m]);return C},attr:st,clamp:function(Q,m,C){return Q>m?Q<C?Q:C:m},clearTimeout:function(Q){Pt(Q)&&clearTimeout(Q)},correctFloat:Tn,createElement:function(Q,m,C,A,R){let D=Fe.createElement(Q);return m&&To(D,m),R&&ho(D,{padding:"0",border:"none",margin:"0"}),C&&ho(D,C),A&&A.appendChild(D),D},crisp:function(Q,m=0,C){let A=m%2/2,R=C?-1:1;return(Math.round(Q*R-A)+A)*R},css:ho,defined:Pt,destroyObjectProperties:function(Q,m,C){br(Q,function(A,R){A!==m&&A?.destroy&&A.destroy(),(A?.destroy||!C)&&delete Q[R]})},diffObjects:function(Q,m,C,A){let R={};return(function D(V,j,Z,te){let ue=C?j:V;br(V,function(ie,me){if(!te&&A&&A.indexOf(me)>-1&&j[me]){ie=vn(ie),Z[me]=[];for(let Ce=0;Ce<Math.max(ie.length,j[me].length);Ce++)j[me][Ce]&&(ie[Ce]===void 0?Z[me][Ce]=j[me][Ce]:(Z[me][Ce]={},D(ie[Ce],j[me][Ce],Z[me][Ce],te+1)))}else ee(ie,!0)&&!ie.nodeType?(Z[me]=gt(ie)?[]:{},D(ie,j[me]||{},Z[me],te+1),Object.keys(Z[me]).length===0&&(me!=="colorAxis"||te!==0)&&delete Z[me]):(V[me]!==j[me]||me in V&&!(me in j))&&me!=="__proto__"&&me!=="constructor"&&(Z[me]=ue[me])})})(Q,m,R,0),R},discardElement:function(Q){Q?.parentElement?.removeChild(Q)},erase:function(Q,m){let C=Q.length;for(;C--;)if(Q[C]===m){Q.splice(C,1);break}},error:we,extend:To,extendClass:function(Q,m){let C=function(){};return C.prototype=new Q,To(C.prototype,m),C},find:Se,fireEvent:as,getAlignFactor:(Q="")=>({center:.5,right:1,middle:.5,bottom:1})[Q]||0,getClosestDistance:function(Q,m){let C,A,R,D=!m;return Q.forEach(V=>{if(V.length>1)for(R=V.length-1;R>0;R--)(A=V[R]-V[R-1])<0&&!D?(m?.(),m=void 0):A&&(C===void 0||A<C)&&(C=A)}),C},getMagnitude:qt,getNestedProperty:function(Q,m){let C=Q.split(".");for(;C.length&&Pt(m);){let A=C.shift();if(A===void 0||A==="__proto__")return;if(A==="this"){let D;return ee(m)&&(D=m["@this"]),D??m}let R=m[A.replace(/[\\'"]/g,"")];if(!Pt(R)||typeof R=="function"||typeof R.nodeType=="number"||R===De)return;m=R}return m},getStyle:function Q(m,C,A){let R;if(C==="width"){let V=Math.min(m.offsetWidth,m.scrollWidth),j=m.getBoundingClientRect?.().width;return j<V&&j>=V-1&&(V=Math.floor(j)),Math.max(0,V-(Q(m,"padding-left",!0)||0)-(Q(m,"padding-right",!0)||0))}if(C==="height")return Math.max(0,Math.min(m.offsetHeight,m.scrollHeight)-(Q(m,"padding-top",!0)||0)-(Q(m,"padding-bottom",!0)||0));let D=De.getComputedStyle(m,void 0);return D&&(R=D.getPropertyValue(C),Nn(A,C!=="opacity")&&(R=ct(R))),R},insertItem:function(Q,m){let C,A=Q.options.index,R=m.length;for(C=Q.options.isInternal?R:0;C<R+1;C++)if(!m[C]||Mt(A)&&A<Nn(m[C].options.index,m[C]._i)||m[C].options.isInternal){m.splice(C,0,Q);break}return C},isArray:gt,isClass:nt,isDOMElement:on,isFunction:function(Q){return typeof Q=="function"},isNumber:Mt,isObject:ee,isString:rt,merge:function(Q,...m){let C,A=[Q,...m],R={},D=function(j,Z){return typeof j!="object"&&(j={}),br(Z,function(te,ue){ue!=="__proto__"&&ue!=="constructor"&&(!ee(te,!0)||nt(te)||on(te)?j[ue]=Z[ue]:j[ue]=D(j[ue]||{},te))}),j};Q===!0&&(R=A[1],A=Array.prototype.slice.call(A,2));let V=A.length;for(C=0;C<V;C++)R=D(R,A[C]);return R},normalizeTickInterval:function(Q,m,C,A,R){let D,V=Q;C=Nn(C,qt(Q));let j=Q/C;for(!m&&(m=R?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],A===!1&&(C===1?m=m.filter(function(Z){return Z%1==0}):C<=.1&&(m=[1/C]))),D=0;D<m.length&&(V=m[D],(!R||!(V*C>=Q))&&(R||!(j<=(m[D]+(m[D+1]||m[D]))/2)));D++);return Tn(V*C,-Math.round(Math.log(.001)/Math.LN10))},objectEach:br,offset:function(Q){let m=Fe.documentElement,C=Q.parentElement||Q.parentNode?Q.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:C.top+(De.pageYOffset||m.scrollTop)-(m.clientTop||0),left:C.left+(De.pageXOffset||m.scrollLeft)-(m.clientLeft||0),width:C.width,height:C.height}},pad:function(Q,m,C){return Array((m||2)+1-String(Q).replace("-","").length).join(C||"0")+Q},pick:Nn,pInt:ct,pushUnique:function(Q,m){return 0>Q.indexOf(m)&&!!Q.push(m)},relativeLength:function(Q,m,C){return/%$/.test(Q)?m*parseFloat(Q)/100+(C||0):parseFloat(Q)},removeEvent:ws,replaceNested:function(Q,...m){let C,A;do for(A of(C=Q,m))Q=Q.replace(A[0],A[1]);while(Q!==C);return Q},splat:vn,stableSort:function(Q,m){let C,A,R=Q.length;for(A=0;A<R;A++)Q[A].safeI=A;for(Q.sort(function(D,V){return(C=m(D,V))===0?D.safeI-V.safeI:C}),A=0;A<R;A++)delete Q[A].safeI},syncTimeout:function(Q,m,C){return m>0?setTimeout(Q,m,C):(Q.call(0,C),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(Q){return rt(Q)?Q.substring(0,1).toUpperCase()+Q.substring(1):String(Q)},uniqueKey:Is,useSerialIds:function(Q){return o=Nn(Q,o)},wrap:function(Q,m,C){let A=Q[m];Q[m]=function(){let R=arguments,D=this;return C.apply(this,[function(){return A.apply(D,arguments.length?arguments:R)}].concat([].slice.call(arguments)))}}},{pageLang:kt,win:bn}=Me,{defined:mn,error:Ze,extend:mt,isNumber:Dt,isObject:je,isString:Lt,merge:Kt,objectEach:rn,pad:Ht,splat:_t,timeUnits:go,ucfirst:Mo}=oo,Ko=Me.isSafari&&bn.Intl&&!bn.Intl.DateTimeFormat.prototype.formatRange,Io=Q=>Q.main===void 0,bs=class{constructor(Q,m){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=bn.Date,this.update(Q),this.lang=m}update(Q={}){this.dTLCache={},this.options=Q=Kt(!0,this.options,Q);let{timezoneOffset:m,useUTC:C,locale:A}=Q;this.Date=Q.Date||bn.Date||Date;let R=Q.timezone;mn(C)&&(R=C?"UTC":void 0),m&&m%60==0&&(R="Etc/GMT"+(m>0?"+":"")+m/60),this.variableTimezone=R!=="UTC"&&R?.indexOf("Etc/GMT")!==0,this.timezone=R,this.lang&&A&&(this.lang.locale=A),["months","shortMonths","weekdays","shortWeekdays"].forEach(D=>{let V=/months/i.test(D),j=/short/.test(D),Z={timeZone:"UTC"};Z[V?"month":"weekday"]=j?"short":"long",this[D]=(V?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(te=>this.dateFormat(Z,(V?31:1)*24*36e5*te))})}toParts(Q){let[m,C,A,R,D,V,j]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Q,"es").split(/(?:, | |\/|:)/g);return[R,A-1,C,D,V,j,Math.floor(Number(Q)||0)%1e3,"DLMXJVS".indexOf(m)].map(Number)}dateTimeFormat(Q,m,C=this.options.locale||kt){let A=JSON.stringify(Q)+C;Lt(Q)&&(Q=this.str2dtf(Q));let R=this.dTLCache[A];if(!R){Q.timeZone??(Q.timeZone=this.timezone);try{R=new Intl.DateTimeFormat(C,Q)}catch(D){/Invalid time zone/i.test(D.message)?(Ze(34),Q.timeZone="UTC",R=new Intl.DateTimeFormat(C,Q)):Ze(D.message,!1)}}return this.dTLCache[A]=R,R?.format(m)||""}str2dtf(Q,m={}){let C={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(C).forEach(A=>{Q.indexOf(A)!==-1&&mt(m,C[A])}),m}makeTime(Q,m,C=1,A=0,R,D,V){let j=this.Date.UTC(Q,m,C,A,R||0,D||0,V||0);if(this.timezone!=="UTC"){let Z=this.getTimezoneOffset(j);if(j+=Z,[2,3,8,9,10,11].indexOf(m)!==-1&&(A<5||A>20)){let te=this.getTimezoneOffset(j);Z!==te?j+=te-Z:Z-36e5!==this.getTimezoneOffset(j-36e5)||Ko||(j-=36e5)}}return j}parse(Q){if(!Lt(Q))return Q??void 0;let m=(Q=Q.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(Q),C=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(Q);m||C||(Q+="Z");let A=Date.parse(Q);if(Dt(A))return A+(!m||C?this.getTimezoneOffset(A):0)}getTimezoneOffset(Q){if(this.timezone!=="UTC"){let[m,C,A,R,D=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},Q,"en").split(/(GMT|:)/).map(Number),V=-(60*(A+D/60)*6e4);if(Dt(V))return V}return 0}dateFormat(Q,m,C){let A=this.lang;if(!mn(m)||isNaN(m))return A?.invalidDate||"";if(Lt(Q=Q??"%Y-%m-%d %H:%M:%S")){let R,D=/%\[([a-zA-Z]+)\]/g;for(;R=D.exec(Q);)Q=Q.replace(R[0],this.dateTimeFormat(R[1],m,A?.locale))}if(Lt(Q)&&Q.indexOf("%")!==-1){let R=this,[D,V,j,Z,te,ue,ie,me]=this.toParts(m),Ce=A?.weekdays||this.weekdays,Ae=A?.shortWeekdays||this.shortWeekdays,ke=A?.months||this.months,Be=A?.shortMonths||this.shortMonths;rn(mt({a:Ae?Ae[me]:Ce[me].substr(0,3),A:Ce[me],d:Ht(j),e:Ht(j,2," "),w:me,v:A?.weekFrom??"",b:Be[V],B:ke[V],m:Ht(V+1),o:V+1,y:D.toString().substr(2,2),Y:D,H:Ht(Z),k:Z,I:Ht(Z%12||12),l:Z%12||12,M:Ht(te),p:Z<12?"AM":"PM",P:Z<12?"am":"pm",S:Ht(ue),L:Ht(ie,3)},Me.dateFormats),function(Pe,tt){if(Lt(Q))for(;Q.indexOf("%"+tt)!==-1;)Q=Q.replace("%"+tt,typeof Pe=="function"?Pe.call(R,m):Pe)})}else if(je(Q)){let R=(this.getTimezoneOffset(m)||0)/36e5,D=this.timezone||"Etc/GMT"+(R>=0?"+":"")+R,{prefix:V="",suffix:j=""}=Q;Q=V+this.dateTimeFormat(mt({timeZone:D},Q),m)+j}return C?Mo(Q):Q}resolveDTLFormat(Q){return je(Q,!0)?je(Q,!0)&&Io(Q)?{main:Q}:Q:{main:(Q=_t(Q))[0],from:Q[1],to:Q[2]}}getDateFormat(Q,m,C,A){let R=this.dateFormat("%m-%d %H:%M:%S.%L",m),D="01-01 00:00:00.000",V={millisecond:15,second:12,minute:9,hour:6,day:3},j="millisecond",Z=j;for(j in go){if(Q&&Q===go.week&&+this.dateFormat("%w",m)===C&&R.substr(6)===D.substr(6)){j="week";break}if(Q&&go[j]>Q){j=Z;break}if(V[j]&&R.substr(V[j])!==D.substr(V[j]))break;j!=="week"&&(Z=j)}return this.resolveDTLFormat(A[j]).main}},{defined:Ps,extend:ys,timeUnits:Zs}=oo,Ds=class extends bs{getTimeTicks(Q,m,C,A){let R=this,D=[],V={},{count:j=1,unitRange:Z}=Q,[te,ue,ie,me,Ce,Ae]=R.toParts(m),ke=(m||0)%1e3,Be;if(A??(A=1),Ps(m)){if(ke=Z>=Zs.second?0:j*Math.floor(ke/j),Z>=Zs.second&&(Ae=Z>=Zs.minute?0:j*Math.floor(Ae/j)),Z>=Zs.minute&&(Ce=Z>=Zs.hour?0:j*Math.floor(Ce/j)),Z>=Zs.hour&&(me=Z>=Zs.day?0:j*Math.floor(me/j)),Z>=Zs.day&&(ie=Z>=Zs.month?1:Math.max(1,j*Math.floor(ie/j))),Z>=Zs.month&&(ue=Z>=Zs.year?0:j*Math.floor(ue/j)),Z>=Zs.year&&(te-=te%j),Z===Zs.week){j&&(m=R.makeTime(te,ue,ie,me,Ce,Ae,ke));let dt=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},m,"es"),Ot="DLMXJVS".indexOf(dt);ie+=-Ot+A+(Ot<A?-7:0)}m=R.makeTime(te,ue,ie,me,Ce,Ae,ke),R.variableTimezone&&Ps(C)&&(Be=C-m>4*Zs.month||R.getTimezoneOffset(m)!==R.getTimezoneOffset(C));let Pe=m,tt=1;for(;Pe<C;)D.push(Pe),Z===Zs.year?Pe=R.makeTime(te+tt*j,0):Z===Zs.month?Pe=R.makeTime(te,ue+tt*j):Be&&(Z===Zs.day||Z===Zs.week)?Pe=R.makeTime(te,ue,ie+tt*j*(Z===Zs.day?1:7)):Be&&Z===Zs.hour&&j>1?Pe=R.makeTime(te,ue,ie,me+tt*j):Pe+=Z*j,tt++;D.push(Pe),Z<=Zs.hour&&D.length<1e4&&D.forEach(dt=>{dt%18e5==0&&R.dateFormat("%H%M%S%L",dt)==="000000000"&&(V[dt]="day")})}return D.info=ys(Q,{higherRanks:V,totalRange:Z*j}),D}},{isTouchDevice:bt}=Me,{fireEvent:Vt,merge:Jt}=oo,jt={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:Q=>Math.sqrt(1-Math.pow(Q-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:bt?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},wo=new Ds(jt.time,jt.lang),Jn={defaultOptions:jt,defaultTime:wo,getOptions:function(){return jt},setOptions:function(Q){return Vt(Me,"setOptions",{options:Q}),Jt(!0,jt,Q),Q.time&&wo.update(jt.time),Q.lang&&"locale"in Q.lang&&wo.update({locale:Q.lang.locale}),Q.lang?.chartTitle&&(jt.title={...jt.title,text:Q.lang.chartTitle}),jt}},{win:Zt}=Me,{isNumber:Zn,isString:eo,merge:jo,pInt:Ho,defined:wn}=oo,Vr=(Q,m,C)=>`color-mix(in srgb,${Q},${m} ${100*C}%)`,Ws=Q=>eo(Q)&&!!Q&&Q!=="none";class or{static parse(m){return m?new or(m):or.None}constructor(m){let C,A,R,D;this.rgba=[NaN,NaN,NaN,NaN],this.input=m;let V=Me.Color;if(V&&V!==or)return new V(m);if(typeof m=="object"&&m.stops!==void 0)this.stops=m.stops.map(j=>new or(j[1]));else if(typeof m=="string")for(this.input=m=or.names[m.toLowerCase()]||m,R=or.parsers.length;R--&&!A;)(C=(D=or.parsers[R]).regex.exec(m))&&(A=D.parse(C));A&&(this.rgba=A)}get(m){let C=this.input,A=this.rgba;if(this.output)return this.output;if(typeof C=="object"&&this.stops!==void 0){let R=jo(C);return R.stops=[].slice.call(R.stops),this.stops.forEach((D,V)=>{R.stops[V]=[R.stops[V][0],D.get(m)]}),R}return A&&Zn(A[0])?m!=="rgb"&&(m||A[3]!==1)?m==="a"?`${A[3]}`:"rgba("+A.join(",")+")":"rgb("+A[0]+","+A[1]+","+A[2]+")":C}brighten(m){let C=this.rgba;if(this.stops)this.stops.forEach(function(A){A.brighten(m)});else if(Zn(m)&&m!==0)if(Zn(C[0]))for(let A=0;A<3;A++)C[A]+=Ho(255*m),C[A]<0&&(C[A]=0),C[A]>255&&(C[A]=255);else or.useColorMix&&Ws(this.input)&&(this.output=Vr(this.input,m>0?"white":"black",Math.abs(m)));return this}setOpacity(m){return this.rgba[3]=m,this}tweenTo(m,C){let A=this.rgba,R=m.rgba;if(!Zn(A[0])||!Zn(R[0]))return or.useColorMix&&Ws(this.input)&&Ws(m.input)&&C<.99?Vr(this.input,m.input,C):m.input||"none";let D=R[3]!==1||A[3]!==1,V=(Z,te)=>Z+(A[te]-Z)*(1-C),j=R.slice(0,3).map(V).map(Math.round);return D&&j.push(V(R[3],3)),(D?"rgba(":"rgb(")+j.join(",")+")"}}or.names={white:"#ffffff",black:"#000000"},or.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(Q){return[Ho(Q[1]),Ho(Q[2]),Ho(Q[3]),parseFloat(Q[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(Q){return[Ho(Q[1]),Ho(Q[2]),Ho(Q[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(Q){return[Ho(Q[1]+Q[1],16),Ho(Q[2]+Q[2],16),Ho(Q[3]+Q[3],16),wn(Q[4])?Ho(Q[4]+Q[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(Q){return[Ho(Q[1],16),Ho(Q[2],16),Ho(Q[3],16),wn(Q[4])?Ho(Q[4],16)/255:1]}}],or.useColorMix=Zt.CSS?.supports("color","color-mix(in srgb,red,blue 9%)"),or.None=new or("");let{parse:ya}=or,{win:Ni}=Me,{isNumber:sr,objectEach:ts}=oo;class ps{constructor(m,C,A){this.pos=NaN,this.options=C,this.elem=m,this.prop=A}dSetter(){let m=this.paths,C=m?.[0],A=m?.[1],R=this.now||0,D=[];if(R!==1&&C&&A)if(C.length===A.length&&R<1)for(let V=0;V<A.length;V++){let j=C[V],Z=A[V],te=[];for(let ue=0;ue<Z.length;ue++){let ie=j[ue],me=Z[ue];sr(ie)&&sr(me)&&(Z[0]!=="A"||ue!==4&&ue!==5)?te[ue]=ie+R*(me-ie):te[ue]=me}D.push(te)}else D=A;else D=this.toD||[];this.elem.attr("d",D,void 0,!0)}update(){let m=this.elem,C=this.prop,A=this.now,R=this.options.step;this[C+"Setter"]?this[C+"Setter"]():m.attr?m.element&&m.attr(C,A,null,!0):m.style[C]=A+this.unit,R&&R.call(m,A,this)}run(m,C,A){let R=this,D=R.options,V=function(te){return!V.stopped&&R.step(te)},j=Ni.requestAnimationFrame||function(te){setTimeout(te,13)},Z=function(){for(let te=0;te<ps.timers.length;te++)ps.timers[te]()||ps.timers.splice(te--,1);ps.timers.length&&j(Z)};m!==C||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=m,this.end=C,this.unit=A,this.now=this.start,this.pos=0,V.elem=this.elem,V.prop=this.prop,V()&&ps.timers.push(V)===1&&j(Z)):(delete D.curAnim[this.prop],D.complete&&Object.keys(D.curAnim).length===0&&D.complete.call(this.elem))}step(m){let C,A,R=+new Date,D=this.options,V=this.elem,j=D.complete,Z=D.duration,te=D.curAnim;return V.attr&&!V.element?C=!1:m||R>=Z+this.startTime?(this.now=this.end,this.pos=1,this.update(),te[this.prop]=!0,A=!0,ts(te,function(ue){ue!==!0&&(A=!1)}),A&&j&&j.call(V),C=!1):(this.pos=D.easing((R-this.startTime)/Z),this.now=this.start+(this.end-this.start)*this.pos,this.update(),C=!0),C}initPath(m,C,A){let R=m.startX,D=m.endX,V=A.slice(),j=m.isArea,Z=j?2:1,te=C&&A.length>C.length&&A.hasStackedCliffs,ue,ie,me,Ce,Ae=C?.slice();if(!Ae||te)return[V,V];function ke(Pe,tt){for(;Pe.length<ie;){let dt=Pe[0],Ot=tt[ie-Pe.length];if(Ot&&dt[0]==="M"&&(Ot[0]==="C"?Pe[0]=["C",dt[1],dt[2],dt[1],dt[2],dt[1],dt[2]]:Pe[0]=["L",dt[1],dt[2]]),Pe.unshift(dt),j){let Nt=Pe.pop();Pe.push(Pe[Pe.length-1],Nt)}}}function Be(Pe){for(;Pe.length<ie;){let tt=Pe[Math.floor(Pe.length/Z)-1].slice();if(tt[0]==="C"&&(tt[1]=tt[5],tt[2]=tt[6]),j){let dt=Pe[Math.floor(Pe.length/Z)].slice();Pe.splice(Pe.length/2,0,tt,dt)}else Pe.push(tt)}}if(R&&D&&D.length){for(me=0;me<R.length;me++)if(R[me]===D[0]){ue=me;break}else if(R[0]===D[D.length-R.length+me]){ue=me,Ce=!0;break}else if(R[R.length-1]===D[D.length-R.length+me]){ue=R.length-me;break}ue===void 0&&(Ae=[])}return Ae.length&&sr(ue)&&(ie=V.length+ue*Z,Ce?(ke(Ae,V),Be(V)):(ke(V,Ae),Be(Ae))),[Ae,V]}fillSetter(){ps.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,ya(this.start).tweenTo(ya(this.end),this.pos),void 0,!0)}}ps.timers=[];let{defined:ul,getStyle:Dc,isArray:Fl,isNumber:$o,isObject:Jl,merge:nl,objectEach:Zf,pick:Hl}=oo;function xd(Q){return Jl(Q)?nl({duration:500,defer:0},Q):{duration:500*!!Q,defer:0}}function Fr(Q,m){let C=ps.timers.length;for(;C--;)ps.timers[C].elem!==Q||m&&m!==ps.timers[C].prop||(ps.timers[C].stopped=!0)}let Aa={animate:function(Q,m,C){let A,R="",D,V,j;Jl(C)||(j=arguments,C={duration:j[2],easing:j[3],complete:j[4]}),$o(C.duration)||(C.duration=400),C.easing=typeof C.easing=="function"?C.easing:Math[C.easing]||Math.easeInOutSine,C.curAnim=nl(m),Zf(m,function(Z,te){Fr(Q,te),V=new ps(Q,C,te),D=void 0,te==="d"&&Fl(m.d)?(V.paths=V.initPath(Q,Q.pathArray,m.d),V.toD=m.d,A=0,D=1):Q.attr?A=Q.attr(te):(A=parseFloat(Dc(Q,te))||0,te!=="opacity"&&(R="px")),D||(D=Z),typeof D=="string"&&D.match("px")&&(D=D.replace(/px/g,"")),V.run(A,D,R)})},animObject:xd,getDeferredAnimation:function(Q,m,C){let A=xd(m),R=C?[C]:Q.series,D=0,V=0;return R.forEach(j=>{let Z=xd(j.options.animation);D=Jl(m)&&ul(m.defer)?A.defer:Math.max(D,Z.duration+Z.defer),V=Math.min(A.duration,Z.duration)}),Q.renderer.forExport&&(D=0),{defer:Math.max(0,D-V),duration:Math.min(D,V)}},setAnimation:function(Q,m){m.renderer.globalAnimation=Hl(Q,m.options.chart.animation,!0)},stop:Fr},{SVG_NS:Od,win:Ju}=Me,{attr:Yc,createElement:dl,css:Qu,error:Id,isFunction:uo,isString:Kf,objectEach:eh,splat:Th}=oo,{trustedTypes:Kr}=Ju,xh=Kr&&uo(Kr.createPolicy)&&Kr.createPolicy("highcharts",{createHTML:Q=>Q}),Mc=xh?xh.createHTML(""):"";class wr{static filterUserAttributes(m){return eh(m,(C,A)=>{let R=!0;wr.allowedAttributes.indexOf(A)===-1&&(R=!1),["background","dynsrc","href","lowsrc","src"].indexOf(A)!==-1&&(R=Kf(C)&&wr.allowedReferences.some(D=>C.indexOf(D)===0)),R||(Id(33,!1,void 0,{"Invalid attribute in config":`${A}`}),delete m[A]),Kf(C)&&m[A]&&(m[A]=C.replace(/</g,"&lt;"))}),m}static parseStyle(m){return m.split(";").reduce((C,A)=>{let R=A.split(":").map(V=>V.trim()),D=R.shift();return D&&R.length&&(C[D.replace(/-([a-z])/g,V=>V[1].toUpperCase())]=R.join(":")),C},{})}static setElementHTML(m,C){m.innerHTML=wr.emptyHTML,C&&new wr(C).addToDOM(m)}constructor(m){this.nodes=typeof m=="string"?this.parseMarkup(m):m}addToDOM(m){return(function C(A,R){let D;return Th(A).forEach(function(V){let j,Z=V.tagName,te=V.textContent?Me.doc.createTextNode(V.textContent):void 0,ue=wr.bypassHTMLFiltering;if(Z)if(Z==="#text")j=te;else if(wr.allowedTags.indexOf(Z)!==-1||ue){let ie=Z==="svg"?Od:R.namespaceURI||Od,me=Me.doc.createElementNS(ie,Z),Ce=V.attributes||{};eh(V,function(Ae,ke){ke!=="tagName"&&ke!=="attributes"&&ke!=="children"&&ke!=="style"&&ke!=="textContent"&&(Ce[ke]=Ae)}),Yc(me,ue?Ce:wr.filterUserAttributes(Ce)),V.style&&Qu(me,V.style),te&&me.appendChild(te),C(V.children||[],me),j=me}else Id(33,!1,void 0,{"Invalid tagName in config":Z});j&&R.appendChild(j),D=j}),D})(this.nodes,m)}parseMarkup(m){let C,A=[];m=m.trim().replace(/ style=(["'])/g," data-style=$1");try{C=new DOMParser().parseFromString(xh?xh.createHTML(m):m,"text/html")}catch{}if(!C){let D=dl("div");D.innerHTML=m,C={body:D}}let R=(D,V)=>{let j=D.nodeName.toLowerCase(),Z={tagName:j};j==="#text"&&(Z.textContent=D.textContent||"");let te=D.attributes;if(te){let ue={};[].forEach.call(te,ie=>{ie.name==="data-style"?Z.style=wr.parseStyle(ie.value):ue[ie.name]=ie.value}),Z.attributes=ue}if(D.childNodes.length){let ue=[];[].forEach.call(D.childNodes,ie=>{R(ie,ue)}),ue.length&&(Z.children=ue)}V.push(Z)};return[].forEach.call(C.body.childNodes,D=>R(D,A)),A}}wr.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],wr.allowedReferences=["https://","http://","mailto:","/","../","./","#"],wr.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],wr.emptyHTML=Mc,wr.bypassHTMLFiltering=!1;let{defaultOptions:Au,defaultTime:th}=Jn,{pageLang:wc}=Me,{extend:Li,getNestedProperty:hc,isArray:ol,isNumber:Fp,isObject:Am,isString:_c,pick:Xc,ucfirst:Tu}=oo,Oh={add:(Q,m)=>Q+m,divide:(Q,m)=>m!==0?Q/m:"",eq:(Q,m)=>Q==m,each:function(Q){let m=arguments[arguments.length-1];return!!ol(Q)&&Q.map((C,A)=>zi(m.body,Li(Am(C)?C:{"@this":C},{"@index":A,"@first":A===0,"@last":A===Q.length-1}))).join("")},ge:(Q,m)=>Q>=m,gt:(Q,m)=>Q>m,if:Q=>!!Q,le:(Q,m)=>Q<=m,lt:(Q,m)=>Q<m,multiply:(Q,m)=>Q*m,ne:(Q,m)=>Q!=m,subtract:(Q,m)=>Q-m,ucfirst:Tu,unless:Q=>!Q},ea={},ms=Q=>/^["'].+["']$/.test(Q);function zi(Q="",m,C){let A=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= #\(\)]+)\}/g,R=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,D=[],V=/f$/,j=/\.(\d)/,Z=C?.options?.lang||Au.lang,te=C?.time||th,ue=C?.numberFormatter||Ol.bind(C),ie=(Be="")=>{let Pe;return Be==="true"||Be!=="false"&&((Pe=Number(Be)).toString()===Be?Pe:ms(Be)?Be.slice(1,-1):hc(Be,m))},me,Ce,Ae=0,ke;for(;(me=A.exec(Q))!==null;){let Be=me,Pe=R.exec(me[1]);Pe&&(me=Pe,ke=!0),Ce?.isBlock||(Ce={ctx:m,expression:me[1],find:me[0],isBlock:me[1].charAt(0)==="#",start:me.index,startInner:me.index+me[0].length,length:me[0].length});let tt=(Ce.isBlock?Be:me)[1].split(" ")[0].replace("#","");Oh[tt]&&(Ce.isBlock&&tt===Ce.fn&&Ae++,Ce.fn||(Ce.fn=tt));let dt=me[1]==="else";if(Ce.isBlock&&Ce.fn&&(me[1]===`/${Ce.fn}`||dt))if(Ae)!dt&&Ae--;else{let Ot=Ce.startInner,Nt=Q.substr(Ot,me.index-Ot);Ce.body===void 0?(Ce.body=Nt,Ce.startInner=me.index+me[0].length):Ce.elseBody=Nt,Ce.find+=Nt+me[0],dt||(D.push(Ce),Ce=void 0)}else Ce.isBlock||D.push(Ce);if(Pe&&!Ce?.isBlock)break}return D.forEach(Be=>{let Pe,tt,{body:dt,elseBody:Ot,expression:Nt,fn:Bt}=Be;if(Bt){let Ft=[Be],$t=[],Hn=Nt.length,lo=0,_n;for(tt=0;tt<=Hn;tt++){let Uo=Nt.charAt(tt);_n||Uo!=='"'&&Uo!=="'"?_n===Uo&&(_n=""):_n=Uo,_n||Uo!==" "&&tt!==Hn||($t.push(Nt.substr(lo,tt-lo)),lo=tt+1)}for(tt=Oh[Bt].length;tt--;)Ft.unshift(ie($t[tt+1]));Pe=Oh[Bt].apply(m,Ft),Be.isBlock&&typeof Pe=="boolean"&&(Pe=zi(Pe?dt:Ot,m,C))}else{let Ft=ms(Nt)?[Nt]:Nt.split(":"),$t=(Pe=ie(Ft.shift()||""))%1!=0;if(typeof Pe=="number"&&(Ft.length||$t)){let Hn=Ft.join(":");if(V.test(Hn)||$t){let lo=parseInt((Hn.match(j)||["","-1"])[1],10);Pe!==null&&(Pe=ue(Pe,lo,Z.decimalPoint,Hn.indexOf(",")>-1?Z.thousandsSep:""))}else Pe=te.dateFormat(Hn,Pe)}R.lastIndex=0,R.test(Be.find)&&_c(Pe)&&(Pe=`"${Pe}"`)}Q=Q.replace(Be.find,Xc(Pe,""))}),ke?zi(Q,m,C):Q}function Ol(Q,m,C,A){m*=1;let R,D,[V,j]=(Q=+Q||0).toString().split("e").map(Number),Z=this?.options?.lang||Au.lang,te=(Q.toString().split(".")[1]||"").split("e")[0].length,ue=m,ie={};C??(C=Z.decimalPoint),A??(A=Z.thousandsSep),m===-1?m=Math.min(te,20):Fp(m)?m&&j<0&&((D=m+j)>=0?(V=+V.toExponential(D).split("e")[0],m=D):(V=Math.floor(V),Q=m<20?+(V*Math.pow(10,j)).toFixed(m):0,j=0)):m=2,j&&(m??(m=2),Q=V),Fp(m)&&m>=0&&(ie.minimumFractionDigits=m,ie.maximumFractionDigits=m),A===""&&(ie.useGrouping=!1);let me=A||C,Ce=me?"en":this?.locale||Z.locale||wc,Ae=JSON.stringify(ie)+Ce;return R=(ea[Ae]??(ea[Ae]=new Intl.NumberFormat(Ce,ie))).format(Q),me&&(R=R.replace(/([,\.])/g,"_$1").replace(/_\,/g,A??",").replace("_.",C??".")),(m||+R!=0)&&(!(j<0)||ue)||(R="0"),j&&+R!=0&&(R+="e"+(j<0?"":"+")+j),R}let Pr={dateFormat:function(Q,m,C){return th.dateFormat(Q,m,C)},format:zi,helpers:Oh,numberFormat:Ol};(function(Q){let m;Q.rendererTypes={},Q.getRendererType=function(C=m){return Q.rendererTypes[C]||Q.rendererTypes[m]},Q.registerRendererType=function(C,A,R){Q.rendererTypes[C]=A,(!m||R)&&(m=C,Me.Renderer=A)}})(d||(d={}));let nh=d,{clamp:Yf,pick:fi,pushUnique:fc,stableSort:Pc}=oo;(p||(p={})).distribute=function Q(m,C,A){let R=m,D=R.reducedLen||C,V=(dt,Ot)=>dt.target-Ot.target,j=[],Z=m.length,te=[],ue=j.push,ie,me,Ce,Ae=!0,ke,Be,Pe=0,tt;for(ie=Z;ie--;)Pe+=m[ie].size;if(Pe>D){for(Pc(m,(dt,Ot)=>(Ot.rank||0)-(dt.rank||0)),Ce=(tt=m[0].rank===m[m.length-1].rank)?Z/2:-1,me=tt?Ce:Z-1;Ce&&Pe>D;)ke=m[ie=Math.floor(me)],fc(te,ie)&&(Pe-=ke.size),me+=Ce,tt&&me>=m.length&&(Ce/=2,me=Ce);te.sort((dt,Ot)=>Ot-dt).forEach(dt=>ue.apply(j,m.splice(dt,1)))}for(Pc(m,V),m=m.map(dt=>({size:dt.size,targets:[dt.target],align:fi(dt.align,.5)}));Ae;){for(ie=m.length;ie--;)ke=m[ie],Be=(Math.min.apply(0,ke.targets)+Math.max.apply(0,ke.targets))/2,ke.pos=Yf(Be-ke.size*ke.align,0,C-ke.size);for(ie=m.length,Ae=!1;ie--;)ie>0&&m[ie-1].pos+m[ie-1].size>m[ie].pos&&(m[ie-1].size+=m[ie].size,m[ie-1].targets=m[ie-1].targets.concat(m[ie].targets),m[ie-1].align=.5,m[ie-1].pos+m[ie-1].size>C&&(m[ie-1].pos=C-m[ie-1].size),m.splice(ie,1),Ae=!0)}return ue.apply(R,j),ie=0,m.some(dt=>{let Ot=0;return(dt.targets||[]).some(()=>(R[ie].pos=dt.pos+Ot,A!==void 0&&Math.abs(R[ie].pos-R[ie].target)>A?(R.slice(0,ie+1).forEach(Nt=>delete Nt.pos),R.reducedLen=(R.reducedLen||C)-.1*C,R.reducedLen>.1*C&&Q(R,C,A),!0):(Ot+=R[ie].size,ie++,!1)))}),Pc(R,V),R};let nf=p,{animate:io,animObject:xu,stop:Il}=Aa,{deg2rad:pc,doc:ki,svg:Tm,SVG_NS:$l,win:Jc,isFirefox:Xf}=Me,{addEvent:of,attr:ed,createElement:Jf,crisp:Rd,css:kd,defined:mc,erase:to,extend:Ou,fireEvent:Ih,getAlignFactor:Ve,isArray:lt,isFunction:Rt,isNumber:pn,isObject:so,isString:ko,merge:ur,objectEach:Bs,pick:Er,pInt:Ee,pushUnique:Ue,replaceNested:ut,syncTimeout:un,uniqueKey:Po}=oo;class Vs{_defaultGetter(m){let C=Er(this[m+"Value"],this[m],this.element?this.element.getAttribute(m):null,0);return/^-?[\d\.]+$/.test(C)&&(C=parseFloat(C)),C}_defaultSetter(m,C,A){A.setAttribute(C,m)}add(m){let C,A=this.renderer,R=this.element;return m&&(this.parentGroup=m),this.textStr!==void 0&&this.element.nodeName==="text"&&A.buildText(this),this.added=!0,(!m||m.handleZ||this.zIndex)&&(C=this.zIndexSetter()),C||(m?m.element:A.box).appendChild(R),this.onAdd&&this.onAdd(),this}addClass(m,C){let A=C?"":this.attr("class")||"";return(m=(m||"").split(/ /g).reduce(function(R,D){return A.indexOf(D)===-1&&R.push(D),R},A?[A]:[]).join(" "))!==A&&this.attr("class",m),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(m,C,A,R=!0){let D=this.renderer,V=D.alignedObjects,j=!!m;m?(this.alignOptions=m,this.alignByTranslate=C,this.alignTo=A):(m=this.alignOptions||{},C=this.alignByTranslate,A=this.alignTo);let Z=!A||ko(A)?A||"renderer":void 0;Z&&(j&&Ue(V,this),A=void 0);let te=Er(A,D[Z],D),ue=(te.x||0)+(m.x||0)+((te.width||0)-(m.width||0))*Ve(m.align),ie=(te.y||0)+(m.y||0)+((te.height||0)-(m.height||0))*Ve(m.verticalAlign),me={"text-align":m?.align};return me[C?"translateX":"x"]=Math.round(ue),me[C?"translateY":"y"]=Math.round(ie),R&&(this[this.placed?"animate":"attr"](me),this.placed=!0),this.alignAttr=me,this}alignSetter(m){let C={left:"start",center:"middle",right:"end"};C[m]&&(this.alignValue=m,this.element.setAttribute("text-anchor",C[m]))}animate(m,C,A){let R=xu(Er(C,this.renderer.globalAnimation,!0)),D=R.defer;return ki.hidden&&(R.duration=0),R.duration!==0?(A&&(R.complete=A),un(()=>{this.element&&io(this,m,R)},D)):(this.attr(m,void 0,A||R.complete),Bs(m,function(V,j){R.step&&R.step.call(this,V,{prop:j,pos:1,elem:this})},this)),this}applyTextOutline(m){let C=this.element;m.indexOf("contrast")!==-1&&(m=m.replace(/contrast/g,this.renderer.getContrast(C.style.fill)));let A=m.indexOf(" "),R=m.substring(A+1),D=m.substring(0,A);if(D&&D!=="none"&&Me.svg){this.fakeTS=!0,D=D.replace(/(^[\d\.]+)(.*?)$/g,function(ue,ie,me){return 2*Number(ie)+me}),this.removeTextOutline();let V=ki.createElementNS($l,"tspan");ed(V,{class:"highcharts-text-outline",fill:R,stroke:R,"stroke-width":D,"stroke-linejoin":"round"});let j=C.querySelector("textPath")||C;[].forEach.call(j.childNodes,ue=>{let ie=ue.cloneNode(!0);ie.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(me=>ie.removeAttribute(me)),V.appendChild(ie)});let Z=0;[].forEach.call(j.querySelectorAll("text tspan"),ue=>{Z+=Number(ue.getAttribute("dy"))});let te=ki.createElementNS($l,"tspan");te.textContent="",ed(te,{x:Number(C.getAttribute("x")),dy:-Z}),V.appendChild(te),j.insertBefore(V,j.firstChild)}}attr(m,C,A,R){let{element:D}=this,V=Vs.symbolCustomAttribs,j,Z,te=this,ue;return typeof m=="string"&&C!==void 0&&(j=m,(m={})[j]=C),typeof m=="string"?te=(this[m+"Getter"]||this._defaultGetter).call(this,m,D):(Bs(m,function(ie,me){ue=!1,R||Il(this,me),this.symbolName&&V.indexOf(me)!==-1&&(Z||(this.symbolAttr(m),Z=!0),ue=!0),this.rotation&&(me==="x"||me==="y")&&(this.doTransform=!0),ue||(this[me+"Setter"]||this._defaultSetter).call(this,ie,me,D)},this),this.afterSetters()),A&&A.call(this),te}clip(m){if(m&&!m.clipPath){let C=Po()+"-",A=this.renderer.createElement("clipPath").attr({id:C}).add(this.renderer.defs);Ou(m,{clipPath:A,id:C,count:0}),m.add(A)}return this.attr("clip-path",m?`url(${this.renderer.url}#${m.id})`:"none")}crisp(m,C){C=Math.round(C||m.strokeWidth||0);let A=m.x||this.x||0,R=m.y||this.y||0,D=(m.width||this.width||0)+A,V=(m.height||this.height||0)+R,j=Rd(A,C),Z=Rd(R,C);return Ou(m,{x:j,y:Z,width:Rd(D,C)-j,height:Rd(V,C)-Z}),mc(m.strokeWidth)&&(m.strokeWidth=C),m}complexColor(m,C,A){let R=this.renderer,D,V,j,Z,te,ue,ie,me,Ce,Ae,ke=[],Be;Ih(this.renderer,"complexColor",{args:arguments},function(){if(m.radialGradient?V="radialGradient":m.linearGradient&&(V="linearGradient"),V){if(j=m[V],te=R.gradients,ue=m.stops,Ce=A.radialReference,lt(j)&&(m[V]=j={x1:j[0],y1:j[1],x2:j[2],y2:j[3],gradientUnits:"userSpaceOnUse"}),V==="radialGradient"&&Ce&&!mc(j.gradientUnits)&&(Z=j,j=ur(j,R.getRadialAttr(Ce,Z),{gradientUnits:"userSpaceOnUse"})),Bs(j,function(Pe,tt){tt!=="id"&&ke.push(tt,Pe)}),Bs(ue,function(Pe){ke.push(Pe)}),te[ke=ke.join(",")])Ae=te[ke].attr("id");else{j.id=Ae=Po();let Pe=te[ke]=R.createElement(V).attr(j).add(R.defs);Pe.radAttr=Z,Pe.stops=[],ue.forEach(function(tt){tt[1].indexOf("rgba")===0?(ie=(D=or.parse(tt[1])).get("rgb"),me=D.get("a")):(ie=tt[1],me=1);let dt=R.createElement("stop").attr({offset:tt[0],"stop-color":ie,"stop-opacity":me}).add(Pe);Pe.stops.push(dt)})}Be="url("+R.url+"#"+Ae+")",A.setAttribute(C,Be),A.gradient=ke,m.toString=function(){return Be}}})}css(m){let C=this.styles,A={},R=this.element,D,V=!C;if(C&&Bs(m,function(j,Z){C&&C[Z]!==j&&(A[Z]=j,V=!0)}),V){C&&(m=Ou(C,A)),m.width===null||m.width==="auto"?delete this.textWidth:R.nodeName.toLowerCase()==="text"&&m.width&&(D=this.textWidth=Ee(m.width)),Ou(this.styles,m),D&&!Tm&&this.renderer.forExport&&delete m.width;let j=Xf&&m.fontSize||null;j&&(pn(j)||/^\d+$/.test(j))&&(m.fontSize+="px");let Z=ur(m);R.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(te=>Z&&delete Z[te]),Z.color&&(Z.fill=Z.color,delete Z.color)),kd(R,Z)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),m.textOutline&&this.applyTextOutline(m.textOutline)),this}dashstyleSetter(m){let C,A=this["stroke-width"];if(A==="inherit"&&(A=1),m){let R=(m=m.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(C=R.length;C--;)R[C]=""+Ee(R[C])*Er(A,NaN);m=R.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",m)}}destroy(){let m=this,C=m.element||{},A=m.renderer,R=C.ownerSVGElement,D=C.nodeName==="SPAN"&&m.parentGroup||void 0,V,j;if(C.onclick=C.onmouseout=C.onmouseover=C.onmousemove=C.point=null,Il(m),m.clipPath&&R){let Z=m.clipPath;[].forEach.call(R.querySelectorAll("[clip-path],[CLIP-PATH]"),function(te){te.getAttribute("clip-path").indexOf(Z.element.id)>-1&&te.removeAttribute("clip-path")}),m.clipPath=Z.destroy()}if(m.stops){for(j=0;j<m.stops.length;j++)m.stops[j].destroy();m.stops.length=0,m.stops=void 0}for(m.safeRemoveChild(C);D?.div&&D.div.childNodes.length===0;)V=D.parentGroup,m.safeRemoveChild(D.div),delete D.div,D=V;m.alignOptions&&to(A.alignedObjects,m),Bs(m,(Z,te)=>{(m[te]?.parentGroup===m||["connector","foreignObject"].indexOf(te)!==-1)&&m[te]?.destroy?.(),delete m[te]})}dSetter(m,C,A){lt(m)&&(typeof m[0]=="string"&&(m=this.renderer.pathToSegments(m)),this.pathArray=m,m=m.reduce((R,D,V)=>D?.join?(V?R+" ":"")+D.join(" "):(D||"").toString(),"")),/(NaN| {2}|^$)/.test(m)&&(m="M 0 0"),this[C]!==m&&(A.setAttribute(C,m),this[C]=m)}fillSetter(m,C,A){typeof m=="string"?A.setAttribute(C,m):m&&this.complexColor(m,C,A)}hrefSetter(m,C,A){A.setAttributeNS("http://www.w3.org/1999/xlink",C,m)}getBBox(m,C){let A,R,D,V,{alignValue:j,element:Z,renderer:te,styles:ue,textStr:ie}=this,{cache:me,cacheKeys:Ce}=te,Ae=Z.namespaceURI===this.SVG_NS,ke=Er(C,this.rotation,0),Be=te.styledMode?Z&&Vs.prototype.getStyle.call(Z,"font-size"):ue.fontSize;if(mc(ie)&&((V=ie.toString()).indexOf("<")===-1&&(V=V.replace(/\d/g,"0")),V+=["",te.rootFontSize,Be,ke,this.textWidth,j,ue.lineClamp,ue.textOverflow,ue.fontWeight].join(",")),V&&!m&&(A=me[V]),!A||A.polygon){if(Ae||te.forExport){try{D=this.fakeTS&&function(tt){let dt=Z.querySelector(".highcharts-text-outline");dt&&kd(dt,{display:tt})},Rt(D)&&D("none"),A=Z.getBBox?Ou({},Z.getBBox()):{width:Z.offsetWidth,height:Z.offsetHeight,x:0,y:0},Rt(D)&&D("")}catch{}(!A||A.width<0)&&(A={x:0,y:0,width:0,height:0})}else A=this.htmlGetBBox();R=A.height,Ae&&(A.height=R={"11px,17":14,"13px,20":16}[`${Be||""},${Math.round(R)}`]||R),ke&&(A=this.getRotatedBox(A,ke));let Pe={bBox:A};Ih(this,"afterGetBBox",Pe),A=Pe.bBox}if(V&&(ie===""||A.height>0)){for(;Ce.length>250;)delete me[Ce.shift()];me[V]||Ce.push(V),me[V]=A}return A}getRotatedBox(m,C){let{x:A,y:R,width:D,height:V}=m,{alignValue:j,translateY:Z,rotationOriginX:te=0,rotationOriginY:ue=0}=this,ie=Ve(j),me=Number(this.element.getAttribute("y")||0)-(Z?0:R),Ce=C*pc,Ae=(C-90)*pc,ke=Math.cos(Ce),Be=Math.sin(Ce),Pe=D*ke,tt=D*Be,dt=Math.cos(Ae),Ot=Math.sin(Ae),[[Nt,Bt],[Ft,$t]]=[te,ue].map(Rr=>[Rr-Rr*ke,Rr*Be]),Hn=A+ie*(D-Pe)+Nt+$t+me*dt,lo=Hn+Pe,_n=lo-V*dt,Uo=_n-Pe,Js=R+me-ie*tt-Bt+Ft+me*Ot,ar=Js+tt,ns=ar-V*Ot,Cs=ns-tt,qs=Math.min(Hn,lo,_n,Uo),Da=Math.min(Js,ar,ns,Cs),Ai=Math.max(Hn,lo,_n,Uo)-qs,lu=Math.max(Js,ar,ns,Cs)-Da;return{x:qs,y:Da,width:Ai,height:lu,polygon:[[Hn,Js],[lo,ar],[_n,ns],[Uo,Cs]]}}getStyle(m){return Jc.getComputedStyle(this.element||this,"").getPropertyValue(m)}hasClass(m){return(""+this.attr("class")).split(" ").indexOf(m)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(m,C){this.onEvents={},this.opacity=1,this.SVG_NS=$l,this.element=C==="span"||C==="body"?Jf(C):ki.createElementNS(this.SVG_NS,C),this.renderer=m,this.styles={},Ih(this,"afterInit")}on(m,C){let{onEvents:A}=this;return A[m]&&A[m](),A[m]=of(this.element,m,C),this}opacitySetter(m,C,A){let R=Number(Number(m).toFixed(3));this.opacity=R,A.setAttribute(C,R)}reAlign(){this.alignOptions?.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(m){return this.attr("class",(""+this.attr("class")).replace(ko(m)?RegExp(`(^| )${m}( |$)`):m," ").replace(/ +/g," ").trim())}removeTextOutline(){let m=this.element.querySelector("tspan.highcharts-text-outline");m&&this.safeRemoveChild(m)}safeRemoveChild(m){let C=m.parentNode;C&&C.removeChild(m)}setRadialReference(m){let C=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=m,C?.radAttr&&C.animate(this.renderer.getRadialAttr(m,C.radAttr)),this}shadow(m){let{renderer:C}=this,A=ur(this.parentGroup?.rotation===90?{offsetX:-1,offsetY:-1}:{},so(m)?m:{}),R=C.shadowDefinition(A);return this.attr({filter:m?`url(${C.url}#${R})`:"none"})}show(m=!0){return this.attr({visibility:m?"inherit":"visible"})}"stroke-widthSetter"(m,C,A){this[C]=m,A.setAttribute(C,m)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let m=this.getStyle("stroke-width"),C=0,A;return/px$/.test(m)?C=Ee(m):m!==""&&(ed(A=ki.createElementNS($l,"rect"),{width:m,"stroke-width":0}),this.element.parentNode.appendChild(A),C=A.getBBox().width,A.parentNode.removeChild(A)),C}symbolAttr(m){let C=this;Vs.symbolCustomAttribs.forEach(function(A){C[A]=Er(m[A],C[A])}),C.attr({d:C.renderer.symbols[C.symbolName](C.x,C.y,C.width,C.height,C)})}textSetter(m){m!==this.textStr&&(delete this.textPxLength,this.textStr=m,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(m){let C=this.element,A=C.getElementsByTagName("title")[0]||ki.createElementNS(this.SVG_NS,"title");C.insertBefore?C.insertBefore(A,C.firstChild):C.appendChild(A),A.textContent=ut(Er(m,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let m=this.element;return m.parentNode.appendChild(m),this}translate(m,C){return this.attr({translateX:m,translateY:C})}updateTransform(m="transform"){let{element:C,foreignObject:A,matrix:R,padding:D,rotation:V=0,rotationOriginX:j,rotationOriginY:Z,scaleX:te,scaleY:ue,text:ie,translateX:me=0,translateY:Ce=0}=this,Ae=["translate("+me+","+Ce+")"];mc(R)&&Ae.push("matrix("+R.join(",")+")"),V&&(Ae.push("rotate("+V+" "+(j??C.getAttribute("x")??this.x??0)+" "+(Z??C.getAttribute("y")??this.y??0)+")"),ie?.element.tagName!=="SPAN"||ie?.foreignObject||ie.attr({rotation:V,rotationOriginX:(j||0)-D,rotationOriginY:(Z||0)-D})),(mc(te)||mc(ue))&&Ae.push("scale("+Er(te,1)+" "+Er(ue,1)+")"),Ae.length&&!(ie||this).textPath&&(A?.element||C).setAttribute(m,Ae.join(" "))}visibilitySetter(m,C,A){m==="inherit"?A.removeAttribute(C):this[C]!==m&&A.setAttribute(C,m),this[C]=m}xGetter(m){return this.element.nodeName==="circle"&&(m==="x"?m="cx":m==="y"&&(m="cy")),this._defaultGetter(m)}zIndexSetter(m,C){let A=this.renderer,R=this.parentGroup,D=(R||A).element||A.box,V=this.element,j=D===A.box,Z,te,ue,ie=!1,me,Ce=this.added,Ae;if(mc(m)?(V.setAttribute("data-z-index",m),m*=1,this[C]===m&&(Ce=!1)):mc(this[C])&&V.removeAttribute("data-z-index"),this[C]=m,Ce){for((m=this.zIndex)&&R&&(R.handleZ=!0),Ae=(Z=D.childNodes).length-1;Ae>=0&&!ie;Ae--)me=!mc(ue=(te=Z[Ae]).getAttribute("data-z-index")),te!==V&&(m<0&&me&&!j&&!Ae?(D.insertBefore(V,Z[Ae]),ie=!0):(Ee(ue)<=m||me&&(!mc(m)||m>=0))&&(D.insertBefore(V,Z[Ae+1]),ie=!0));ie||(D.insertBefore(V,Z[3*!!j]),ie=!0)}return ie}}Vs.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Vs.prototype.strokeSetter=Vs.prototype.fillSetter,Vs.prototype.yGetter=Vs.prototype.xGetter,Vs.prototype.matrixSetter=Vs.prototype.rotationOriginXSetter=Vs.prototype.rotationOriginYSetter=Vs.prototype.rotationSetter=Vs.prototype.scaleXSetter=Vs.prototype.scaleYSetter=Vs.prototype.translateXSetter=Vs.prototype.translateYSetter=Vs.prototype.verticalAlignSetter=function(Q,m){this[m]=Q,this.doTransform=!0};let L=Vs,{defined:X,extend:de,getAlignFactor:ge,isNumber:xe,merge:Le,pick:We,removeEvent:xt}=oo;class Ct extends L{constructor(m,C,A,R,D,V,j,Z,te,ue){let ie;super(m,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=C,this.x=A,this.y=R,this.anchorX=V,this.anchorY=j,this.baseline=te,this.className=ue,this.addClass(ue==="button"?"highcharts-no-tooltip":"highcharts-label"),ue&&this.addClass("highcharts-"+ue),this.text=m.text(void 0,0,0,Z).attr({zIndex:1}),typeof D=="string"&&((ie=/^url\((.*?)\)$/.test(D))||this.renderer.symbols[D])&&(this.symbolKey=D),this.bBox=Ct.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=m.styledMode||ie,this.deferredAttr={},this.alignFactor=0}alignSetter(m){let C=ge(m);this.textAlign=m,C!==this.alignFactor&&(this.alignFactor=C,this.bBox&&xe(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(m,C){this.anchorX=m,this.boxAttr(C,Math.round(m)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(m,C){this.anchorY=m,this.boxAttr(C,m-this.ySetting)}boxAttr(m,C){this.box?this.box.attr(m,C):this.deferredAttr[m]=C}css(m){if(m){let C={};m=Le(m),Ct.textProps.forEach(A=>{m[A]!==void 0&&(C[A]=m[A],delete m[A])}),this.text.css(C),"fontSize"in C||"fontWeight"in C?this.updateTextPadding():("width"in C||"textOverflow"in C)&&this.updateBoxSize()}return L.prototype.css.call(this,m)}destroy(){xt(this.element,"mouseenter"),xt(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),L.prototype.destroy.call(this)}fillSetter(m,C){m&&(this.needsBox=!0),this.fill=m,this.boxAttr(C,m)}getBBox(m,C){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:A,height:R=0,translateX:D=0,translateY:V=0,width:j=0}=this,Z=We(this.paddingLeft,A),te=C??(this.rotation||0),ue={width:j,height:R,x:D+this.bBox.x-Z,y:V+this.bBox.y-A+this.baselineOffset};return te&&(ue=this.getRotatedBox(ue,te)),ue}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(m){this.heightSetting=m,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:We(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&X(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(m,C){xe(m)?m!==this[C]&&(this[C]=m,this.updateTextPadding()):this[C]=void 0}rSetter(m,C){this.boxAttr(C,m)}strokeSetter(m,C){this.stroke=m,this.boxAttr(C,m)}"stroke-widthSetter"(m,C){m&&(this.needsBox=!0),this["stroke-width"]=m,this.boxAttr(C,m)}"text-alignSetter"(m){this.textAlign=this["text-align"]=m,this.updateTextPadding()}textSetter(m){m!==void 0&&this.text.attr({text:m}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let m,C=this.text,A={},R=this.padding,D=this.bBox=(!xe(this.widthSetting)||!xe(this.heightSetting)||this.textAlign)&&X(C.textStr)?C.getBBox(void 0,0):Ct.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||D.height||0)+2*R;let V=this.renderer.fontMetrics(C);if(this.baselineOffset=R+Math.min((this.text.firstLineMetrics||V).b,D.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-V.h)/2),this.needsBox&&!C.textPath){if(!this.box){let j=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();j.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),j.add(this)}A.x=m=this.getCrispAdjust(),A.y=(this.baseline?-this.baselineOffset:0)+m,A.width=Math.round(this.width),A.height=Math.round(this.height),this.box.attr(de(A,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let m=this.text,C=m.styles.textAlign||this.textAlign;if(!m.textPath){this.updateBoxSize();let A=this.baseline?0:this.baselineOffset,R=(this.paddingLeft??this.padding)+ge(C)*(this.widthSetting??this.bBox.width);(R!==m.x||A!==m.y)&&(m.attr({align:C,x:R}),A!==void 0&&m.attr("y",A)),m.x=R,m.y=A}}widthSetter(m){this.widthSetting=xe(m)?m:void 0,this.doUpdate=!0}getPaddedWidth(){let m=this.padding,C=We(this.paddingLeft,m),A=We(this.paddingRight,m);return(this.widthSetting||this.bBox.width||0)+C+A}xSetter(m){this.x=m,this.alignFactor&&(m-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(m),this.attr("translateX",this.xSetting)}ySetter(m){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(m),this.attr("translateY",this.ySetting)}}Ct.emptyBBox={width:0,height:0,x:0,y:0},Ct.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Yt,isNumber:Dn,pick:Yn}=oo;function Cn(Q,m,C,A,R){let D=[];if(R){let V=R.start||0,j=R.end||0,Z=Yn(R.r,C),te=Yn(R.r,A||C),ue=2e-4/(R.borderRadius?1:Math.max(Z,1)),ie=Math.abs(j-V-2*Math.PI)<ue;ie&&(V=Math.PI/2,j=2.5*Math.PI-ue);let me=R.innerR,Ce=Yn(R.open,ie),Ae=Math.cos(V),ke=Math.sin(V),Be=Math.cos(j),Pe=Math.sin(j),tt=Yn(R.longArc,j-V-Math.PI<ue?0:1),dt=["A",Z,te,0,tt,Yn(R.clockwise,1),Q+Z*Be,m+te*Pe];dt.params={start:V,end:j,cx:Q,cy:m},D.push(["M",Q+Z*Ae,m+te*ke],dt),Yt(me)&&((dt=["A",me,me,0,tt,Yt(R.clockwise)?1-R.clockwise:0,Q+me*Ae,m+me*ke]).params={start:j,end:V,cx:Q,cy:m},D.push(Ce?["M",Q+me*Be,m+me*Pe]:["L",Q+me*Be,m+me*Pe],dt)),Ce||D.push(["Z"])}return D}function No(Q,m,C,A,R){return R?.r?Or(Q,m,C,A,R):[["M",Q,m],["L",Q+C,m],["L",Q+C,m+A],["L",Q,m+A],["Z"]]}function Or(Q,m,C,A,R){let D=R?.r||0;return[["M",Q+D,m],["L",Q+C-D,m],["A",D,D,0,0,1,Q+C,m+D],["L",Q+C,m+A-D],["A",D,D,0,0,1,Q+C-D,m+A],["L",Q+D,m+A],["A",D,D,0,0,1,Q,m+A-D],["L",Q,m+D],["A",D,D,0,0,1,Q+D,m],["Z"]]}let Si={arc:Cn,callout:function(Q,m,C,A,R){let D=Math.min(R?.r||0,C,A),V=D+6,j=R?.anchorX,Z=R?.anchorY||0,te=Or(Q,m,C,A,{r:D});if(!Dn(j)||j<C&&j>0&&Z<A&&Z>0)return te;if(Q+j>C-V)if(Z>m+V&&Z<m+A-V)te.splice(3,1,["L",Q+C,Z-6],["L",Q+C+6,Z],["L",Q+C,Z+6],["L",Q+C,m+A-D]);else if(j<C){let ue=Z<m+V,ie=ue?m:m+A;te.splice(ue?2:5,0,["L",j,Z],["L",Q+C-D,ie])}else te.splice(3,1,["L",Q+C,A/2],["L",j,Z],["L",Q+C,A/2],["L",Q+C,m+A-D]);else if(Q+j<V)if(Z>m+V&&Z<m+A-V)te.splice(7,1,["L",Q,Z+6],["L",Q-6,Z],["L",Q,Z-6],["L",Q,m+D]);else if(j>0){let ue=Z<m+V,ie=ue?m:m+A;te.splice(ue?1:6,0,["L",j,Z],["L",Q+D,ie])}else te.splice(7,1,["L",Q,A/2],["L",j,Z],["L",Q,A/2],["L",Q,m+D]);else Z>A&&j<C-V?te.splice(5,1,["L",j+6,m+A],["L",j,m+A+6],["L",j-6,m+A],["L",Q+D,m+A]):Z<0&&j>V&&te.splice(1,1,["L",j-6,m],["L",j,m-6],["L",j+6,m],["L",C-D,m]);return te},circle:function(Q,m,C,A){return Cn(Q+C/2,m+A/2,C/2,A/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(Q,m,C,A){return[["M",Q+C/2,m],["L",Q+C,m+A/2],["L",Q+C/2,m+A],["L",Q,m+A/2],["Z"]]},rect:No,roundedRect:Or,square:No,triangle:function(Q,m,C,A){return[["M",Q+C/2,m],["L",Q+C,m+A],["L",Q,m+A],["Z"]]},"triangle-down":function(Q,m,C,A){return[["M",Q,m],["L",Q+C,m],["L",Q+C/2,m+A],["Z"]]}},{doc:zr,SVG_NS:Ul,win:Sa}=Me,{attr:td,extend:oh,fireEvent:pi,isString:gc,objectEach:Bi,pick:hl}=oo,Hp=(Q,m)=>Q.substring(0,m)+"",Dd=class{constructor(Q){let m=Q.styles;this.renderer=Q.renderer,this.svgElement=Q,this.width=Q.textWidth,this.textLineHeight=m?.lineHeight,this.textOutline=m?.textOutline,this.ellipsis=m?.textOverflow==="ellipsis",this.lineClamp=m?.lineClamp,this.noWrap=m?.whiteSpace==="nowrap"}buildSVG(){let Q=this.svgElement,m=Q.element,C=Q.renderer,A=hl(Q.textStr,"").toString(),R=A.indexOf("<")!==-1,D=m.childNodes,V=!Q.added&&C.box,j=[A,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,Q.getStyle("font-size"),Q.styles.lineClamp,this.width].join(",");if(j!==Q.textCache){Q.textCache=j,delete Q.actualWidth;for(let Z=D.length;Z--;)m.removeChild(D[Z]);if(R||this.ellipsis||this.width||Q.textPath||A.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(A))){if(A!==""){V&&V.appendChild(m);let Z=new wr(A);this.modifyTree(Z.nodes),Z.addToDOM(m),this.modifyDOM(),this.ellipsis&&(m.textContent||"").indexOf("")!==-1&&Q.attr("title",this.unescapeEntities(Q.textStr||"",["&lt;","&gt;"])),V&&V.removeChild(m)}}else m.appendChild(zr.createTextNode(this.unescapeEntities(A)));gc(this.textOutline)&&Q.applyTextOutline&&Q.applyTextOutline(this.textOutline)}}modifyDOM(){let Q,m=this.svgElement,C=td(m.element,"x");for(m.firstLineMetrics=void 0;(Q=m.element.firstChild)&&/^[\s\u200B]*$/.test(Q.textContent||" ");)m.element.removeChild(Q);[].forEach.call(m.element.querySelectorAll("tspan.highcharts-br"),(V,j)=>{V.nextSibling&&V.previousSibling&&(j===0&&V.previousSibling.nodeType===1&&(m.firstLineMetrics=m.renderer.fontMetrics(V.previousSibling)),td(V,{dy:this.getLineHeight(V.nextSibling),x:C}))});let A=this.width||0;if(!A)return;let R=(V,j)=>{let Z=V.textContent||"",te=Z.replace(/([^\^])-/g,"$1- ").split(" "),ue=!this.noWrap&&(te.length>1||m.element.childNodes.length>1),ie=this.getLineHeight(j),me=Math.max(0,A-.8*ie),Ce=0,Ae=m.actualWidth;if(ue){let ke=[],Be=[];for(;j.firstChild&&j.firstChild!==V;)Be.push(j.firstChild),j.removeChild(j.firstChild);for(;te.length;)if(te.length&&!this.noWrap&&Ce>0&&(ke.push(V.textContent||""),V.textContent=te.join(" ").replace(/- /g,"-")),this.truncate(V,void 0,te,Ce===0&&Ae||0,A,me,(Pe,tt)=>te.slice(0,tt).join(" ").replace(/- /g,"-")),Ae=m.actualWidth,Ce++,this.lineClamp&&Ce>=this.lineClamp){te.length&&(this.truncate(V,V.textContent||"",void 0,0,A,me,Hp),V.textContent=V.textContent?.replace("","")+"");break}Be.forEach(Pe=>{j.insertBefore(Pe,V)}),ke.forEach(Pe=>{j.insertBefore(zr.createTextNode(Pe),V);let tt=zr.createElementNS(Ul,"tspan");tt.textContent="",td(tt,{dy:ie,x:C}),j.insertBefore(tt,V)})}else this.ellipsis&&Z&&this.truncate(V,Z,void 0,0,A,me,Hp)},D=V=>{[].slice.call(V.childNodes).forEach(j=>{j.nodeType===Sa.Node.TEXT_NODE?R(j,V):(j.className.baseVal.indexOf("highcharts-br")!==-1&&(m.actualWidth=0),D(j))})};D(m.element)}getLineHeight(Q){let m=Q.nodeType===Sa.Node.TEXT_NODE?Q.parentElement:Q;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(m||this.svgElement.element).h}modifyTree(Q){let m=(C,A)=>{let{attributes:R={},children:D,style:V={},tagName:j}=C,Z=this.renderer.styledMode;if(j==="b"||j==="strong"?Z?R.class="highcharts-strong":V.fontWeight="bold":(j==="i"||j==="em")&&(Z?R.class="highcharts-emphasized":V.fontStyle="italic"),V?.color&&(V.fill=V.color),j==="br"){R.class="highcharts-br",C.textContent="";let te=Q[A+1];te?.textContent&&(te.textContent=te.textContent.replace(/^ +/gm,""))}else j==="a"&&D&&D.some(te=>te.tagName==="#text")&&(C.children=[{children:D,tagName:"tspan"}]);j!=="#text"&&j!=="a"&&(C.tagName="tspan"),oh(C,{attributes:R,style:V}),D&&D.filter(te=>te.tagName!=="#text").forEach(m)};Q.forEach(m),pi(this.svgElement,"afterModifyTree",{nodes:Q})}truncate(Q,m,C,A,R,D,V){let j,Z,te=this.svgElement,{rotation:ue}=te,ie=[],me=C&&!A?1:0,Ce=(m||C||"").length,Ae=Ce;C||(R=D);let ke=function(Be,Pe){let tt=Pe||Be,dt=Q.parentNode;if(dt&&ie[tt]===void 0&&dt.getSubStringLength)try{ie[tt]=A+dt.getSubStringLength(0,C?tt+1:tt)}catch{}return ie[tt]};if(te.rotation=0,A+(Z=ke(Q.textContent.length))>R){for(;me<=Ce;)Ae=Math.ceil((me+Ce)/2),C&&(j=V(C,Ae)),Z=ke(Ae,j&&j.length-1),me===Ce?me=Ce+1:Z>R?Ce=Ae-1:me=Ae;Ce===0?Q.textContent="":m&&Ce===m.length-1||(Q.textContent=j||V(m||C,Ae)),this.ellipsis&&Z>R&&this.truncate(Q,Q.textContent||"",void 0,0,R,D,Hp)}C&&C.splice(0,Ae),te.actualWidth=Z,te.rotation=ue}unescapeEntities(Q,m){return Bi(this.renderer.escapes,function(C,A){m&&m.indexOf(C)!==-1||(Q=Q.toString().replace(RegExp(C,"g"),A))}),Q}},{defaultOptions:Rh}=Jn,{charts:Og,deg2rad:nd,doc:Qc,isFirefox:Qf,isMS:od,isWebKit:Ig,noop:vc,SVG_NS:Rl,symbolSizes:sf,win:Ub}=Me,{addEvent:_r,attr:qi,createElement:$p,crisp:Ci,css:ep,defined:rf,destroyObjectProperties:HS,extend:af,isArray:ji,isNumber:eu,isObject:Md,isString:Un,merge:zl,pick:kh,pInt:tu,replaceNested:tp,uniqueKey:zb}=oo;class Qe{constructor(m,C,A,R,D,V,j){let Z,te;this.x=0,this.y=0;let ue=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ie=ue.element;j||ue.css(this.getStyle(R||{})),m.appendChild(ie),qi(m,"dir","ltr"),m.innerHTML.indexOf("xmlns")===-1&&qi(ie,"xmlns",this.SVG_NS),this.box=ie,this.boxWrapper=ue,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Qc.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=V,this.forExport=D,this.styledMode=j,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=ue.getStyle("font-size"),this.setSize(C,A,!1),Qf&&m.getBoundingClientRect&&((Z=function(){ep(m,{left:0,top:0}),te=m.getBoundingClientRect(),ep(m,{left:Math.ceil(te.left)-te.left+"px",top:Math.ceil(te.top)-te.top+"px"})})(),this.unSubPixelFix=_r(Ub,"resize",Z))}definition(m){return new wr([m]).addToDOM(this.defs.element)}getReferenceURL(){if((Qf||Ig)&&Qc.getElementsByTagName("base").length){if(!rf(i)){let m=zb(),C=new wr([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:m},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${m})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Qc.body);ep(C,{position:"fixed",top:0,left:0,zIndex:9e5}),i=Qc.elementFromPoint(6,6)?.id==="hitme",Qc.body.removeChild(C)}if(i)return tp(Ub.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(m){return this.style=af({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},m),this.style}setStyle(m){this.boxWrapper.css(this.getStyle(m))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let m=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),HS(this.gradients||{}),this.gradients=null,this.defs=m.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(m){return new this.Element(this,m)}getRadialAttr(m,C){return{cx:m[0]-m[2]/2+(C.cx||0)*m[2],cy:m[1]-m[2]/2+(C.cy||0)*m[2],r:(C.r||0)*m[2]}}shadowDefinition(m){let C=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(m).map(R=>`${R}-${m[R]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),A=zl({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},m);return this.defs.element.querySelector(`#${C}`)||this.definition({tagName:"filter",attributes:{id:C,filterUnits:A.filterUnits},children:this.getShadowFilterContent(A)}),C}getShadowFilterContent(m){return[{tagName:"feDropShadow",attributes:{dx:m.offsetX,dy:m.offsetY,"flood-color":m.color,"flood-opacity":Math.min(5*m.opacity,1),stdDeviation:m.width/2}}]}buildText(m){new Dd(m).buildSVG()}getContrast(m){if(m==="transparent")return"#000000";let C=or.parse(m).rgba,A=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(eu(C[0])||!or.useColorMix){let R=C.map(V=>{let j=V/255;return j<=.04?j/12.92:Math.pow((j+.055)/1.055,2.4)}),D=.2126*R[0]+.7152*R[1]+.0722*R[2];return 1.05/(D+.05)>(D+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+m+" srgb"+A+A+A+")"}button(m,C,A,R,D={},V,j,Z,te,ue){let ie=this.label(m,C,A,te,void 0,void 0,ue,void 0,"button"),me=this.styledMode,Ce=arguments,Ae=0;D=zl(Rh.global.buttonTheme,D),me&&(delete D.fill,delete D.stroke,delete D["stroke-width"]);let ke=D.states||{},Be=D.style||{};delete D.states,delete D.style;let Pe=[wr.filterUserAttributes(D)],tt=[Be];return me||["hover","select","disabled"].forEach((dt,Ot)=>{Pe.push(zl(Pe[0],wr.filterUserAttributes(Ce[Ot+5]||ke[dt]||{}))),tt.push(Pe[Ot+1].style),delete Pe[Ot+1].style}),_r(ie.element,od?"mouseover":"mouseenter",function(){Ae!==3&&ie.setState(1)}),_r(ie.element,od?"mouseout":"mouseleave",function(){Ae!==3&&ie.setState(Ae)}),ie.setState=(dt=0)=>{if(dt!==1&&(ie.state=Ae=dt),ie.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][dt]),!me){ie.attr(Pe[dt]);let Ot=tt[dt];Md(Ot)&&ie.css(Ot)}},ie.attr(Pe[0]),!me&&(ie.css(af({cursor:"default"},Be)),ue&&ie.text.css({pointerEvents:"none"})),ie.on("touchstart",dt=>dt.stopPropagation()).on("click",function(dt){Ae!==3&&R?.call(ie,dt)})}crispLine(m,C){let[A,R]=m;return rf(A[1])&&A[1]===R[1]&&(A[1]=R[1]=Ci(A[1],C)),rf(A[2])&&A[2]===R[2]&&(A[2]=R[2]=Ci(A[2],C)),m}path(m){let C=this.styledMode?{}:{fill:"none"};return ji(m)?C.d=m:Md(m)&&af(C,m),this.createElement("path").attr(C)}circle(m,C,A){let R=Md(m)?m:m===void 0?{}:{x:m,y:C,r:A},D=this.createElement("circle");return D.xSetter=D.ySetter=function(V,j,Z){Z.setAttribute("c"+j,V)},D.attr(R)}arc(m,C,A,R,D,V){let j;Md(m)?(C=(j=m).y,A=j.r,R=j.innerR,D=j.start,V=j.end,m=j.x):j={innerR:R,start:D,end:V};let Z=this.symbol("arc",m,C,A,A,j);return Z.r=A,Z}rect(m,C,A,R,D,V){let j=Md(m)?m:m===void 0?{}:{x:m,y:C,r:D,width:Math.max(A||0,0),height:Math.max(R||0,0)},Z=this.createElement("rect");return this.styledMode||(V!==void 0&&(j["stroke-width"]=V,af(j,Z.crisp(j))),j.fill="none"),Z.rSetter=function(te,ue,ie){Z.r=te,qi(ie,{rx:te,ry:te})},Z.rGetter=function(){return Z.r||0},Z.attr(j)}roundedRect(m){return this.symbol("roundedRect").attr(m)}setSize(m,C,A){this.width=m,this.height=C,this.boxWrapper.animate({width:m,height:C},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:kh(A,!0)?void 0:0}),this.alignElements()}g(m){let C=this.createElement("g");return m?C.attr({class:"highcharts-"+m}):C}image(m,C,A,R,D,V){let j={preserveAspectRatio:"none"};eu(C)&&(j.x=C),eu(A)&&(j.y=A),eu(R)&&(j.width=R),eu(D)&&(j.height=D);let Z=this.createElement("image").attr(j),te=function(ue){Z.attr({href:m}),V.call(Z,ue)};if(V){Z.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let ue=new Ub.Image;_r(ue,"load",te),ue.src=m,ue.complete&&te({})}else Z.attr({href:m});return Z}symbol(m,C,A,R,D,V){let j,Z,te,ue,ie=this,me=/^url\((.*?)\)$/,Ce=me.test(m),Ae=!Ce&&(this.symbols[m]?m:"circle"),ke=Ae&&this.symbols[Ae];if(ke)typeof C=="number"&&(Z=ke.call(this.symbols,C||0,A||0,R||0,D||0,V)),j=this.path(Z),ie.styledMode||j.attr("fill","none"),af(j,{symbolName:Ae||void 0,x:C,y:A,width:R,height:D}),V&&af(j,V);else if(Ce){te=m.match(me)[1];let Be=j=this.image(te);Be.imgwidth=kh(V?.width,sf[te]?.width),Be.imgheight=kh(V?.height,sf[te]?.height),ue=Pe=>Pe.attr({width:Pe.width,height:Pe.height}),["width","height"].forEach(Pe=>{Be[`${Pe}Setter`]=function(tt,dt){this[dt]=tt;let{alignByTranslate:Ot,element:Nt,width:Bt,height:Ft,imgwidth:$t,imgheight:Hn}=this,lo=dt==="width"?$t:Hn,_n=1;V&&V.backgroundSize==="within"&&Bt&&Ft&&$t&&Hn?(_n=Math.min(Bt/$t,Ft/Hn),qi(Nt,{width:Math.round($t*_n),height:Math.round(Hn*_n)})):Nt&&lo&&Nt.setAttribute(dt,lo),!Ot&&$t&&Hn&&this.translate(((Bt||0)-$t*_n)/2,((Ft||0)-Hn*_n)/2)}}),rf(C)&&Be.attr({x:C,y:A}),Be.isImg=!0,Be.symbolUrl=m,rf(Be.imgwidth)&&rf(Be.imgheight)?ue(Be):(Be.attr({width:0,height:0}),$p("img",{onload:function(){let Pe=Og[ie.chartIndex];this.width===0&&(ep(this,{position:"absolute",top:"-999em"}),Qc.body.appendChild(this)),sf[te]={width:this.width,height:this.height},Be.imgwidth=this.width,Be.imgheight=this.height,Be.element&&ue(Be),this.parentNode&&this.parentNode.removeChild(this),ie.imgCount--,ie.imgCount||!Pe||Pe.hasLoaded||Pe.onload()},src:te}),this.imgCount++)}return j}clipRect(m,C,A,R){return this.rect(m,C,A,R,0)}text(m,C,A,R){let D={};if(R&&(this.allowHTML||!this.forExport))return this.html(m,C,A);D.x=Math.round(C||0),A&&(D.y=Math.round(A)),rf(m)&&(D.text=m);let V=this.createElement("text").attr(D);return R&&(!this.forExport||this.allowHTML)||(V.xSetter=function(j,Z,te){let ue=te.getElementsByTagName("tspan"),ie=te.getAttribute(Z);for(let me=0,Ce;me<ue.length;me++)(Ce=ue[me]).getAttribute(Z)===ie&&Ce.setAttribute(Z,j);te.setAttribute(Z,j)}),V}fontMetrics(m){let C=eu(m)?m:tu(L.prototype.getStyle.call(m,"font-size")||0),A=C<24?C+3:Math.round(1.2*C),R=Math.round(.8*A);return{h:A,b:R,f:C}}rotCorr(m,C,A){let R=m;return C&&A&&(R=Math.max(R*Math.cos(C*nd),4)),{x:-m/3*Math.sin(C*nd),y:R}}pathToSegments(m){let C=[],A=[],R={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let D=0;D<m.length;D++)Un(A[0])&&eu(m[D])&&A.length===R[A[0].toUpperCase()]&&m.splice(D,0,A[0].replace("M","L").replace("m","l")),typeof m[D]=="string"&&(A.length&&C.push(A.slice(0)),A.length=0),A.push(m[D]);return C.push(A.slice(0)),C}label(m,C,A,R,D,V,j,Z,te){return new Ct(this,m,C,A,R,D,V,j,Z,te)}alignElements(){this.alignedObjects.forEach(m=>m.align())}}af(Qe.prototype,{Element:L,SVG_NS:Rl,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Si,draw:vc}),nh.registerRendererType("svg",Qe,!0);let{composed:Ac,isFirefox:Dh}=Me,{attr:jb,css:nu,createElement:Ql,defined:ht,extend:Ut,getAlignFactor:En,isNumber:On,pInt:jn,pushUnique:es}=oo;function ls(Q,m,C){let A=this.div?.style;L.prototype[`${m}Setter`].call(this,Q,m,C),A&&(C.style[m]=A[m]=Q)}let Gs=(Q,m)=>{if(!Q.div){let C=jb(Q.element,"class"),A=Q.css,R=Ql("div",C?{className:C}:void 0,{position:"absolute",left:`${Q.translateX||0}px`,top:`${Q.translateY||0}px`,...Q.styles,display:Q.display,opacity:Q.opacity,visibility:Q.visibility},Q.parentGroup?.div||m);Q.classSetter=(D,V,j)=>{j.setAttribute("class",D),R.className=D},Q.translateXSetter=Q.translateYSetter=(D,V)=>{Q[V]=D,R.style[V==="translateX"?"left":"top"]=`${D}px`,Q.doTransform=!0},Q.scaleXSetter=Q.scaleYSetter=(D,V)=>{Q[V]=D,Q.doTransform=!0},Q.opacitySetter=Q.visibilitySetter=ls,Q.css=D=>(A.call(Q,D),D.cursor&&(R.style.cursor=D.cursor),D.pointerEvents&&(R.style.pointerEvents=D.pointerEvents),Q),Q.on=function(){return L.prototype.on.apply({element:R,onEvents:Q.onEvents},arguments),Q},Q.div=R}return Q.div};class gs extends L{static compose(m){es(Ac,this.compose)&&(m.prototype.html=function(C,A,R){return new gs(this,"span").attr({text:C,x:Math.round(A),y:Math.round(R)})})}constructor(m,C){super(m,C),gs.useForeignObject?this.foreignObject=m.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...m.styledMode?{}:{fontFamily:m.style.fontFamily,fontSize:m.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(m,C,A){this.xCorr=-m*A,this.yCorr=-C}css(m){let C,{element:A}=this,R=A.tagName==="SPAN"&&m&&"width"in m,D=R&&m.width;return R&&(delete m.width,this.textWidth=jn(D)||void 0,C=!0),m?.textOverflow==="ellipsis"&&(m.overflow="hidden",m.whiteSpace="nowrap"),m?.lineClamp&&(m.display="-webkit-box",m.WebkitLineClamp=m.lineClamp,m.WebkitBoxOrient="vertical",m.overflow="hidden"),On(Number(m?.fontSize))&&(m.fontSize+="px"),Ut(this.styles,m),nu(A,m),C&&this.updateTransform(),this}htmlGetBBox(){let{element:m}=this;return{x:m.offsetLeft,y:m.offsetTop,width:m.offsetWidth,height:m.offsetHeight}}updateTransform(){if(!this.added){this.alignOnAdd=!0;return}let{element:m,foreignObject:C,oldTextWidth:A,renderer:R,rotation:D,rotationOriginX:V,rotationOriginY:j,scaleX:Z,scaleY:te,styles:{display:ue="inline-block",whiteSpace:ie},textAlign:me="left",textWidth:Ce,translateX:Ae=0,translateY:ke=0,x:Be=0,y:Pe=0}=this;if(C||nu(m,{marginLeft:`${Ae}px`,marginTop:`${ke}px`}),m.tagName==="SPAN"){let tt,dt=[D,me,m.innerHTML,Ce,this.textAlign].join(","),Ot=-(this.parentGroup?.padding*1)||0;if(Ce!==A){let $t=this.textPxLength?this.textPxLength:(nu(m,{width:"",whiteSpace:ie||"nowrap"}),m.offsetWidth),Hn=Ce||0,lo=!R.styledMode&&m.style.textOverflow===""&&m.style.webkitLineClamp;(Hn>A||$t>Hn||lo)&&(/[\-\s\u00AD]/.test(m.textContent||m.innerText)||m.style.textOverflow==="ellipsis")&&(nu(m,{width:(D||Z||$t>Hn||lo)&&On(Ce)?Ce+"px":"auto",display:ue,whiteSpace:ie||"normal"}),this.oldTextWidth=Ce)}C&&(nu(m,{display:"inline-block",verticalAlign:"top"}),C.attr({width:R.width,height:R.height})),dt!==this.cTT&&(tt=R.fontMetrics(m).b,ht(D)&&!C&&(D!==(this.oldRotation||0)||me!==this.oldAlign)&&nu(m,{transform:`rotate(${D}deg)`,transformOrigin:`${Ot}% ${Ot}px`}),this.getSpanCorrection(!ht(D)&&!this.textWidth&&this.textPxLength||m.offsetWidth,tt,En(me)));let{xCorr:Nt=0,yCorr:Bt=0}=this,Ft={left:`${Be+Nt}px`,top:`${Pe+Bt}px`,textAlign:me,transformOrigin:`${(V??Be)-Nt-Be-Ot}px ${(j??Pe)-Bt-Pe-Ot}px`};(Z||te)&&(Ft.transform=`scale(${Z??1},${te??1})`),C?(super.updateTransform(),On(Be)&&On(Pe)?(C.attr({x:Be+Nt,y:Pe+Bt,width:m.offsetWidth+3,height:m.offsetHeight,"transform-origin":m.getAttribute("transform-origin")||"0 0"}),nu(m,{display:ue,textAlign:me})):Dh&&C.attr({width:0,height:0})):nu(m,Ft),this.cTT=dt,this.oldRotation=D,this.oldAlign=me}}add(m){let{foreignObject:C,renderer:A}=this,R=A.box.parentNode,D=[];if(C)C.add(m),super.add(A.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(C));else{let V;if(this.parentGroup=m,m&&!(V=m.div)){let j=m;for(;j;)D.push(j),j=j.parentGroup;for(let Z of D.reverse())V=Gs(Z,R)}(V||R).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(m){m!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,wr.setElementHTML(this.element,m??""),this.textStr=m,this.doTransform=!0)}alignSetter(m){this.alignValue=this.textAlign=m,this.doTransform=!0}xSetter(m,C){this[C]=m,this.doTransform=!0}}let dr=gs.prototype;dr.visibilitySetter=dr.opacitySetter=ls,dr.ySetter=dr.rotationSetter=dr.rotationOriginXSetter=dr.rotationOriginYSetter=dr.xSetter,(function(Q){Q.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},Q.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:m}=this.axis.chart;return m(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}})(v||(v={}));let Ar=v,{addEvent:fr,isFunction:Hr,objectEach:_o,removeEvent:Xr}=oo;(S||(S={})).registerEventOptions=function(Q,m){Q.eventOptions=Q.eventOptions||{},_o(m.events,function(C,A){Q.eventOptions[A]!==C&&(Q.eventOptions[A]&&(Xr(Q,A,Q.eventOptions[A]),delete Q.eventOptions[A]),Hr(C)&&(Q.eventOptions[A]=C,fr(Q,A,C,{order:0})))})};let bl=S,{deg2rad:ec}=Me,{clamp:Ns,correctFloat:kl,defined:ta,destroyObjectProperties:Wa,extend:Mh,fireEvent:na,getAlignFactor:Jr,isNumber:Ky,merge:RE,objectEach:yl,pick:tc}=oo,ou=class{constructor(Q,m,C,A,R){this.isNew=!0,this.isNewLabel=!0,this.axis=Q,this.pos=m,this.type=C||"",this.parameters=R||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,na(this,"init"),C||A||this.addLabel()}addLabel(){let Q=this,m=Q.axis,C=m.options,A=m.chart,R=m.categories,D=m.logarithmic,V=m.names,j=Q.pos,Z=tc(Q.options?.labels,C.labels),te=m.tickPositions,ue=j===te[0],ie=j===te[te.length-1],me=(!Z.step||Z.step===1)&&m.tickInterval===1,Ce=te.info,Ae=Q.label,ke,Be,Pe,tt=this.parameters.category||(R?tc(R[j],V[j],j):j);D&&Ky(tt)&&(tt=kl(D.lin2log(tt))),m.dateTime&&(Ce?ke=(Be=A.time.resolveDTLFormat(C.dateTimeLabelFormats[!C.grid?.enabled&&Ce.higherRanks[j]||Ce.unitName])).main:Ky(tt)&&(ke=m.dateTime.getXDateFormat(tt,C.dateTimeLabelFormats||{}))),Q.isFirst=ue,Q.isLast=ie;let dt={axis:m,chart:A,dateTimeLabelFormat:ke,isFirst:ue,isLast:ie,pos:j,tick:Q,tickPositionInfo:Ce,value:tt};na(this,"labelFormat",dt);let Ot=Ft=>Z.formatter?Z.formatter.call(Ft,Ft):Z.format?(Ft.text=m.defaultLabelFormatter.call(Ft),Pr.format(Z.format,Ft,A)):m.defaultLabelFormatter.call(Ft),Nt=Ot.call(dt,dt),Bt=Be?.list;Bt?Q.shortenLabel=function(){for(Pe=0;Pe<Bt.length;Pe++)if(Mh(dt,{dateTimeLabelFormat:Bt[Pe]}),Ae.attr({text:Ot.call(dt,dt)}),Ae.getBBox().width<m.getSlotWidth(Q)-2*(Z.padding||0))return;Ae.attr({text:""})}:Q.shortenLabel=void 0,me&&m._addedPlotLB&&Q.moveLabel(Nt,Z),ta(Ae)||Q.movedLabel?Ae&&Ae.textStr!==Nt&&!me&&(!Ae.textWidth||Z.style.width||Ae.styles.width||Ae.css({width:null}),Ae.attr({text:Nt}),Ae.textPxLength=Ae.getBBox().width):(Q.label=Ae=Q.createLabel(Nt,Z),Q.rotation=0)}createLabel(Q,m,C){let A=this.axis,{renderer:R,styledMode:D}=A.chart,V=m.style.whiteSpace,j=ta(Q)&&m.enabled?R.text(Q,C?.x,C?.y,m.useHTML).add(A.labelGroup):void 0;return j&&(D||j.css(RE(m.style)),j.textPxLength=j.getBBox().width,!D&&V&&j.css({whiteSpace:V})),j}destroy(){Wa(this,this.axis)}getPosition(Q,m,C,A){let R=this.axis,D=R.chart,V=A&&D.oldChartHeight||D.chartHeight,j={x:Q?kl(R.translate(m+C,void 0,void 0,A)+R.transB):R.left+R.offset+(R.opposite?(A&&D.oldChartWidth||D.chartWidth)-R.right-R.left:0),y:Q?V-R.bottom+R.offset-(R.opposite?R.height:0):kl(V-R.translate(m+C,void 0,void 0,A)-R.transB)};return j.y=Ns(j.y,-1e9,1e9),na(this,"afterGetPosition",{pos:j}),j}getLabelPosition(Q,m,C,A,R,D,V,j){let Z,te,ue=this.axis,ie=ue.transA,me=ue.isLinked&&ue.linkedParent?ue.linkedParent.reversed:ue.reversed,Ce=ue.staggerLines,Ae=ue.tickRotCorr||{x:0,y:0},ke=A||ue.reserveSpaceDefault?0:-ue.labelOffset*(ue.labelAlign==="center"?.5:1),Be=R.distance,Pe={};return Z=ue.side===0?C.rotation?-Be:-C.getBBox().height:ue.side===2?Ae.y+Be:Math.cos(C.rotation*ec)*(Ae.y-C.getBBox(!1,0).height/2),ta(R.y)&&(Z=ue.side===0&&ue.horiz?R.y+Z:R.y),Q=Q+tc(R.x,[0,1,0,-1][ue.side]*Be)+ke+Ae.x-(D&&A?D*ie*(me?-1:1):0),m=m+Z-(D&&!A?D*ie*(me?1:-1):0),Ce&&(te=V/(j||1)%Ce,ue.opposite&&(te=Ce-te-1),m+=te*(ue.labelOffset/Ce)),Pe.x=Q,Pe.y=Math.round(m),na(this,"afterGetLabelPosition",{pos:Pe,tickmarkOffset:D,index:V}),Pe}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(Q,m,C,A,R=!1,D){return D.crispLine([["M",Q,m],["L",Q+(R?0:-C),m+(R?C:0)]],A)}handleOverflow(Q){let m=this.axis,C=m.options.labels,A=Q.x,R=m.chart.chartWidth,D=m.chart.spacing,V=tc(m.labelLeft,Math.min(m.pos,D[3])),j=tc(m.labelRight,Math.max(m.isRadial?0:m.pos+m.len,R-D[1])),Z=this.label,te=this.rotation,ue=Jr(m.labelAlign||Z.attr("align")),ie=Z.getBBox().width,me=m.getSlotWidth(this),Ce=me,Ae=1,ke;te||C.overflow!=="justify"?te<0&&A-ue*ie<V?ke=Math.round(A/Math.cos(te*ec)-V):te>0&&A+ue*ie>j&&(ke=Math.round((R-A)/Math.cos(te*ec))):(A-ue*ie<V?Ce=Q.x+Ce*(1-ue)-V:A+(1-ue)*ie>j&&(Ce=j-Q.x+Ce*ue,Ae=-1),(Ce=Math.min(me,Ce))<me&&m.labelAlign==="center"&&(Q.x+=Ae*(me-Ce-ue*(me-Math.min(ie,Ce)))),(ie>Ce||m.autoRotation&&Z?.styles?.width)&&(ke=Ce)),ke&&Z&&(this.shortenLabel?this.shortenLabel():Z.css(Mh({},{width:Math.floor(ke)+"px",lineClamp:+!m.isRadial})))}moveLabel(Q,m){let C=this,A=C.label,R=C.axis,D=!1,V;A&&A.textStr===Q?(C.movedLabel=A,D=!0,delete C.label):yl(R.ticks,function(j){D||j.isNew||j===C||!j.label||j.label.textStr!==Q||(C.movedLabel=j.label,D=!0,j.labelPos=C.movedLabel.xy,delete j.label)}),!D&&(C.labelPos||A)&&(V=C.labelPos||A.xy,C.movedLabel=C.createLabel(Q,m,V),C.movedLabel&&C.movedLabel.attr({opacity:0}))}render(Q,m,C){let A=this.axis,R=A.horiz,D=this.pos,V=tc(this.tickmarkOffset,A.tickmarkOffset),j=this.getPosition(R,D,V,m),Z=j.x,te=j.y,ue=A.pos,ie=ue+A.len,me=R?Z:te,Ce=tc(C,this.label?.newOpacity,1);!A.chart.polar&&(kl(me)<ue||me>ie)&&(C=0),C??(C=1),this.isActive=!0,this.renderGridLine(m,C),this.renderMark(j,C),this.renderLabel(j,m,Ce,Q),this.isNew=!1,na(this,"afterRender")}renderGridLine(Q,m){let C=this.axis,A=C.options,R={},D=this.pos,V=this.type,j=tc(this.tickmarkOffset,C.tickmarkOffset),Z=C.chart.renderer,te=this.gridLine,ue,ie=A.gridLineWidth,me=A.gridLineColor,Ce=A.gridLineDashStyle;this.type==="minor"&&(ie=A.minorGridLineWidth,me=A.minorGridLineColor,Ce=A.minorGridLineDashStyle),te||(C.chart.styledMode||(R.stroke=me,R["stroke-width"]=ie||0,R.dashstyle=Ce),V||(R.zIndex=1),Q&&(m=0),this.gridLine=te=Z.path().attr(R).addClass("highcharts-"+(V?V+"-":"")+"grid-line").add(C.gridGroup)),te&&(ue=C.getPlotLinePath({value:D+j,lineWidth:te.strokeWidth(),force:"pass",old:Q,acrossPanes:!1}))&&te[Q||this.isNew?"attr":"animate"]({d:ue,opacity:m})}renderMark(Q,m){let C=this.axis,A=C.options,R=C.chart.renderer,D=this.type,V=C.tickSize(D?D+"Tick":"tick"),j=Q.x,Z=Q.y,te=tc(A[D!=="minor"?"tickWidth":"minorTickWidth"],!D&&C.isXAxis?1:0),ue=A[D!=="minor"?"tickColor":"minorTickColor"],ie=this.mark,me=!ie;V&&(C.opposite&&(V[0]=-V[0]),!ie&&(this.mark=ie=R.path().addClass("highcharts-"+(D?D+"-":"")+"tick").add(C.axisGroup),C.chart.styledMode||ie.attr({stroke:ue,"stroke-width":te})),ie[me?"attr":"animate"]({d:this.getMarkPath(j,Z,V[0],ie.strokeWidth(),C.horiz,R),opacity:m}))}renderLabel(Q,m,C,A){let R=this.axis,D=R.horiz,V=R.options,j=this.label,Z=V.labels,te=Z.step,ue=tc(this.tickmarkOffset,R.tickmarkOffset),ie=Q.x,me=Q.y,Ce=!0;j&&Ky(ie)&&(j.xy=Q=this.getLabelPosition(ie,me,j,D,Z,ue,A,te),(!this.isFirst||this.isLast||V.showFirstLabel)&&(!this.isLast||this.isFirst||V.showLastLabel)?!D||Z.step||Z.rotation||m||C===0||this.handleOverflow(Q):Ce=!1,te&&A%te&&(Ce=!1),Ce&&Ky(Q.y)?(Q.opacity=C,j[this.isNewLabel?"attr":"animate"](Q).show(!0),this.isNewLabel=!1):(j.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let Q=this.label,m=this.axis;Q&&!this.isNew&&(Q.animate({opacity:0},void 0,Q.destroy),delete this.label),m.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:Sl}=Aa,{xAxis:Ph,yAxis:Iu}=Ar,{defaultOptions:Ru}=Jn,{registerEventOptions:Nc}=bl,{deg2rad:ti}=Me,{arrayMax:Pd,arrayMin:ku,clamp:jl,correctFloat:oa,defined:pr,destroyObjectProperties:Nh,erase:Wl,error:Ga,extend:lf,fireEvent:sl,getClosestDistance:Wb,insertItem:nc,isArray:Yy,isNumber:mr,isString:xm,merge:rs,normalizeTickInterval:a1,objectEach:fl,pick:nr,relativeLength:Dl,removeEvent:sa,splat:Om,syncTimeout:Xy}=oo,Nd=(Q,m)=>a1(m,void 0,void 0,nr(Q.options.allowDecimals,m<.5||Q.tickAmount!==void 0),!!Q.tickAmount);lf(Ru,{xAxis:Ph,yAxis:rs(Ph,Iu)});class Du{constructor(m,C,A){this.init(m,C,A)}init(m,C,A=this.coll){let R=A==="xAxis",D=this.isZAxis||(m.inverted?!R:R);this.chart=m,this.horiz=D,this.isXAxis=R,this.coll=A,sl(this,"init",{userOptions:C}),this.opposite=nr(C.opposite,this.opposite),this.side=nr(C.side,this.side,D?2*!this.opposite:this.opposite?1:3),this.setOptions(C);let V=this.options,j=V.labels;this.type??(this.type=V.type||"linear"),this.uniqueNames??(this.uniqueNames=V.uniqueNames??!0),sl(this,"afterSetType"),this.userOptions=C,this.minPixelPadding=0,this.reversed=nr(V.reversed,this.reversed),this.visible=V.visible,this.zoomEnabled=V.zoomEnabled,this.hasNames=this.type==="category"||V.categories===!0,this.categories=Yy(V.categories)&&V.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=pr(V.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=V.minRange||V.maxZoom,this.range=V.range,this.offset=V.offset||0,this.max=void 0,this.min=void 0;let Z=nr(V.crosshair,Om(m.options.tooltip.crosshairs)[+!R]);this.crosshair=Z===!0?{}:Z,m.axes.indexOf(this)===-1&&(R?m.axes.splice(m.xAxis.length,0,this):m.axes.push(this),nc(this,m[this.coll])),m.orderItems(this.coll),this.series=this.series||[],m.inverted&&!this.isZAxis&&R&&!pr(this.reversed)&&(this.reversed=!0),this.labelRotation=mr(j.rotation)?j.rotation:void 0,Nc(this,V),sl(this,"afterInit")}setOptions(m){let C=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=rs(C,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},Ru[this.coll],m),sl(this,"afterSetOptions",{userOptions:m})}defaultLabelFormatter(){let m=this.axis,{numberFormatter:C}=this.chart,A=mr(this.value)?this.value:NaN,R=m.chart.time,D=m.categories,V=this.dateTimeLabelFormat,j=Ru.lang,Z=j.numericSymbols,te=j.numericSymbolMagnitude||1e3,ue=m.logarithmic?Math.abs(A):m.tickInterval,ie=Z?.length,me,Ce;if(D)Ce=`${this.value}`;else if(V)Ce=R.dateFormat(V,A,!0);else if(ie&&Z&&ue>=1e3)for(;ie--&&Ce===void 0;)ue>=(me=Math.pow(te,ie+1))&&10*A%me==0&&Z[ie]!==null&&A!==0&&(Ce=C(A/me,-1)+Z[ie]);return Ce===void 0&&(Ce=Math.abs(A)>=1e4?C(A,-1):C(A,-1,void 0,"")),Ce}getSeriesExtremes(){let m,C=this;sl(this,"getSeriesExtremes",null,function(){C.hasVisibleSeries=!1,C.dataMin=C.dataMax=C.threshold=void 0,C.softThreshold=!C.isXAxis,C.series.forEach(A=>{if(A.reserveSpace()){let R=A.options,D,V=R.threshold,j,Z;if(C.hasVisibleSeries=!0,C.positiveValuesOnly&&0>=(V||0)&&(V=void 0),C.isXAxis)(D=A.getColumn("x")).length&&(D=C.logarithmic?D.filter(te=>te>0):D,j=(m=A.getXExtremes(D)).min,Z=m.max,mr(j)||j instanceof Date||(D=D.filter(mr),j=(m=A.getXExtremes(D)).min,Z=m.max),D.length&&(C.dataMin=Math.min(nr(C.dataMin,j),j),C.dataMax=Math.max(nr(C.dataMax,Z),Z)));else{let te=A.applyExtremes();mr(te.dataMin)&&(j=te.dataMin,C.dataMin=Math.min(nr(C.dataMin,j),j)),mr(te.dataMax)&&(Z=te.dataMax,C.dataMax=Math.max(nr(C.dataMax,Z),Z)),pr(V)&&(C.threshold=V),(!R.softThreshold||C.positiveValuesOnly)&&(C.softThreshold=!1)}}})}),sl(this,"afterGetSeriesExtremes")}translate(m,C,A,R,D,V){let j=this.linkedParent||this,Z=R&&j.old?j.old.min:j.min;if(!mr(Z))return NaN;let te=j.minPixelPadding,ue=(j.isOrdinal||j.brokenAxis?.hasBreaks||j.logarithmic&&D)&&!!j.lin2val,ie=1,me=0,Ce=R&&j.old?j.old.transA:j.transA,Ae=0;return Ce||(Ce=j.transA),A&&(ie*=-1,me=j.len),j.reversed&&(ie*=-1,me-=ie*(j.sector||j.len)),C?(Ae=(m=m*ie+me-te)/Ce+Z,ue&&(Ae=j.lin2val(Ae))):(ue&&(m=j.val2lin(m)),Ae=ie*(m-Z)*Ce+me+ie*te+(mr(V)?Ce*V:0),j.isRadial||(Ae=oa(Ae))),Ae}toPixels(m,C){return this.translate(this.chart?.time.parse(m)??NaN,!1,!this.horiz,void 0,!0)+(C?0:this.pos)}toValue(m,C){return this.translate(m-(C?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(m){let C=this,A=C.chart,R=C.left,D=C.top,V=m.old,j=m.value,Z=m.lineWidth,te=V&&A.oldChartHeight||A.chartHeight,ue=V&&A.oldChartWidth||A.chartWidth,ie=C.transB,me=m.translatedValue,Ce=m.force,Ae,ke,Be,Pe,tt;function dt(Nt,Bt,Ft){return Ce!=="pass"&&(Nt<Bt||Nt>Ft)&&(Ce?Nt=jl(Nt,Bt,Ft):tt=!0),Nt}let Ot={value:j,lineWidth:Z,old:V,force:Ce,acrossPanes:m.acrossPanes,translatedValue:me};return sl(this,"getPlotLinePath",Ot,function(Nt){Ae=Be=(me=jl(me=nr(me,C.translate(j,void 0,void 0,V)),-1e9,1e9))+ie,ke=Pe=te-me-ie,mr(me)?C.horiz?(ke=D,Pe=te-C.bottom+(C.options.isInternal?0:A.scrollablePixelsY||0),Ae=Be=dt(Ae,R,R+C.width)):(Ae=R,Be=ue-C.right+(A.scrollablePixelsX||0),ke=Pe=dt(ke,D,D+C.height)):(tt=!0,Ce=!1),Nt.path=tt&&!Ce?void 0:A.renderer.crispLine([["M",Ae,ke],["L",Be,Pe]],Z||1)}),Ot.path}getLinearTickPositions(m,C,A){let R,D,V,j=oa(Math.floor(C/m)*m),Z=oa(Math.ceil(A/m)*m),te=[];if(oa(j+m)===j&&(V=20),this.single)return[C];for(R=j;R<=Z&&(te.push(R),(R=oa(R+m,V))!==D);)D=R;return te}getMinorTickInterval(){let{minorTicks:m,minorTickInterval:C}=this.options;return m===!0?nr(C,"auto"):m!==!1?C:void 0}getMinorTickPositions(){let m=this.options,C=this.tickPositions,A=this.minorTickInterval,R=this.pointRangePadding||0,D=(this.min||0)-R,V=(this.max||0)+R,j=this.brokenAxis?.hasBreaks?this.brokenAxis.unitLength:V-D,Z=[],te;if(j&&j/A<this.len/3){let ue=this.logarithmic;if(ue)this.paddedTicks.forEach(function(ie,me,Ce){me&&Z.push.apply(Z,ue.getLogTickPositions(A,Ce[me-1],Ce[me],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")Z=Z.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(A),D,V,m.startOfWeek));else for(te=D+(C[0]-D)%A;te<=V&&te!==Z[0];te+=A)Z.push(te)}return Z.length!==0&&this.trimTicks(Z),Z}adjustForMinRange(){let m=this.options,C=this.logarithmic,A=this.chart.time,{max:R,min:D,minRange:V}=this,j,Z,te,ue;this.isXAxis&&V===void 0&&!C&&(V=pr(m.min)||pr(m.max)||pr(m.floor)||pr(m.ceiling)?null:Math.min(5*(Wb(this.series.map(ie=>{let me=ie.getColumn("x");return ie.xIncrement?me.slice(0,2):me}))||0),this.dataMax-this.dataMin)),mr(R)&&mr(D)&&mr(V)&&R-D<V&&(Z=this.dataMax-this.dataMin>=V,j=(V-R+D)/2,te=[D-j,A.parse(m.min)??D-j],Z&&(te[2]=C?C.log2lin(this.dataMin):this.dataMin),ue=[(D=Pd(te))+V,A.parse(m.max)??D+V],Z&&(ue[2]=C?C.log2lin(this.dataMax):this.dataMax),(R=ku(ue))-D<V&&(te[0]=R-V,te[1]=A.parse(m.min)??R-V,D=Pd(te))),this.minRange=V,this.min=D,this.max=R}getClosest(){let m,C;if(this.categories)C=1;else{let A=[];this.series.forEach(function(R){let D=R.closestPointRange,V=R.getColumn("x");V.length===1?A.push(V[0]):R.sorted&&pr(D)&&R.reserveSpace()&&(C=pr(C)?Math.min(C,D):D)}),A.length&&(A.sort((R,D)=>R-D),m=Wb([A]))}return m&&C?Math.min(m,C):m||C}nameToX(m){let C=Yy(this.options.categories),A=C?this.categories:this.names,R=m.options.x,D;return m.series.requireSorting=!1,pr(R)||(R=this.uniqueNames&&A?C?A.indexOf(m.name):nr(A.keys[m.name],-1):m.series.autoIncrement()),R===-1?!C&&A&&(D=A.length):mr(R)&&(D=R),D!==void 0?(this.names[D]=m.name,this.names.keys[m.name]=D):m.x&&(D=m.x),D}updateNames(){let m=this,C=this.names;C.length>0&&(Object.keys(C.keys).forEach(function(A){delete C.keys[A]}),C.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(A=>{A.xIncrement=null,(!A.points||A.isDirtyData)&&(m.max=Math.max(m.max||0,A.dataTable.rowCount-1),A.processData(),A.generatePoints());let R=A.getColumn("x").slice();A.data.forEach((D,V)=>{let j=R[V];D?.options&&D.name!==void 0&&(j=m.nameToX(D))!==void 0&&j!==D.x&&(R[V]=D.x=j)}),A.dataTable.setColumn("x",R)}))}setAxisTranslation(){let m=this,C=m.max-m.min,A=m.linkedParent,R=!!m.categories,D=m.isXAxis,V=m.axisPointRange||0,j,Z=0,te=0,ue,ie=m.transA;(D||R||V)&&(j=m.getClosest(),A?(Z=A.minPointOffset,te=A.pointRangePadding):m.series.forEach(function(me){let Ce=R?1:D?nr(me.options.pointRange,j,0):m.axisPointRange||0,Ae=me.options.pointPlacement;if(V=Math.max(V,Ce),!m.single||R){let ke=me.is("xrange")?!D:D;Z=Math.max(Z,ke&&xm(Ae)?0:Ce/2),te=Math.max(te,ke&&Ae==="on"?0:Ce)}}),ue=m.ordinal?.slope&&j?m.ordinal.slope/j:1,m.minPointOffset=Z*=ue,m.pointRangePadding=te*=ue,m.pointRange=Math.min(V,m.single&&R?1:C),D&&(m.closestPointRange=j)),m.translationSlope=m.transA=ie=m.staticScale||m.len/(C+te||1),m.transB=m.horiz?m.left:m.bottom,m.minPixelPadding=ie*Z,sl(this,"afterSetAxisTranslation")}minFromRange(){let{max:m,min:C}=this;return mr(m)&&mr(C)&&m-C||void 0}setTickInterval(m){let{categories:C,chart:A,dataMax:R,dataMin:D,dateTime:V,isXAxis:j,logarithmic:Z,options:te,softThreshold:ue}=this,ie=A.time,me=mr(this.threshold)?this.threshold:void 0,Ce=this.minRange||0,{ceiling:Ae,floor:ke,linkedTo:Be,softMax:Pe,softMin:tt}=te,dt=mr(Be)&&A[this.coll]?.[Be],Ot=te.tickPixelInterval,Nt=te.maxPadding,Bt=te.minPadding,Ft=0,$t,Hn=mr(te.tickInterval)&&te.tickInterval>=0?te.tickInterval:void 0,lo,_n,Uo,Js;if(V||C||dt||this.getTickAmount(),Uo=nr(this.userMin,ie.parse(te.min)),Js=nr(this.userMax,ie.parse(te.max)),dt?(this.linkedParent=dt,$t=dt.getExtremes(),this.min=nr($t.min,$t.dataMin),this.max=nr($t.max,$t.dataMax),this.type!==dt.type&&Ga(11,!0,A)):(ue&&pr(me)&&mr(R)&&mr(D)&&(D>=me?(lo=me,Bt=0):R<=me&&(_n=me,Nt=0)),this.min=nr(Uo,lo,D),this.max=nr(Js,_n,R)),mr(this.max)&&mr(this.min)&&(Z&&(this.positiveValuesOnly&&!m&&0>=Math.min(this.min,nr(D,this.min))&&Ga(10,!0,A),this.min=oa(Z.log2lin(this.min),16),this.max=oa(Z.log2lin(this.max),16)),this.range&&mr(D)&&(this.userMin=this.min=Uo=Math.max(D,this.minFromRange()||0),this.userMax=Js=this.max,this.range=void 0)),sl(this,"foundExtremes"),this.adjustForMinRange(),mr(this.min)&&mr(this.max)){if(!mr(this.userMin)&&mr(tt)&&tt<this.min&&(this.min=Uo=tt),!mr(this.userMax)&&mr(Pe)&&Pe>this.max&&(this.max=Js=Pe),C||this.axisPointRange||this.stacking?.usePercentage||dt||(Ft=this.max-this.min)&&(!pr(Uo)&&Bt&&(this.min-=Ft*Bt),!pr(Js)&&Nt&&(this.max+=Ft*Nt)),!mr(this.userMin)&&mr(ke)&&(this.min=Math.max(this.min,ke)),!mr(this.userMax)&&mr(Ae)&&(this.max=Math.min(this.max,Ae)),ue&&mr(D)&&mr(R)){let ns=me||0;!pr(Uo)&&this.min<ns&&D>=ns?this.min=te.minRange?Math.min(ns,this.max-Ce):ns:!pr(Js)&&this.max>ns&&R<=ns&&(this.max=te.minRange?Math.max(ns,this.min+Ce):ns)}!A.polar&&this.min>this.max&&(pr(te.min)?this.max=this.min:pr(te.max)&&(this.min=this.max)),Ft=this.max-this.min}if(this.min!==this.max&&mr(this.min)&&mr(this.max)?dt&&!Hn&&Ot===dt.options.tickPixelInterval?this.tickInterval=Hn=dt.tickInterval:this.tickInterval=nr(Hn,this.tickAmount?Ft/Math.max(this.tickAmount-1,1):void 0,C?1:Ft*Ot/Math.max(this.len,Ot)):this.tickInterval=1,j&&!m){let ns=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(Cs){Cs.forceCrop=Cs.forceCropping?.(),Cs.processData(ns)}),sl(this,"postProcessData",{hasExtremesChanged:ns})}this.setAxisTranslation(),sl(this,"initialAxisTranslation"),this.pointRange&&!Hn&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let ar=nr(te.minTickInterval,V&&!this.series.some(ns=>!ns.sorted)?this.closestPointRange:0);!Hn&&ar&&this.tickInterval<ar&&(this.tickInterval=ar),V||Z||Hn||(this.tickInterval=Nd(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let m=this.options,C=m.tickPositions,A=m.tickPositioner,R=this.getMinorTickInterval(),D=!this.isPanning,V=D&&m.startOnTick,j=D&&m.endOnTick,Z=[],te;if(this.tickmarkOffset=this.categories&&m.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&pr(this.min)&&!this.tickAmount&&(this.min%1==0||m.allowDecimals!==!1),C)Z=C.slice();else if(mr(this.min)&&mr(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))Z=[this.min,this.max],Ga(19,!1,this.chart);else if(this.dateTime)Z=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,m.units),this.min,this.max,m.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)Z=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let ue=this.tickInterval,ie=ue;for(;ie<=2*ue&&(Z=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&Z.length>this.tickAmount);)this.tickInterval=Nd(this,ie*=1.1)}Z.length>this.len&&(Z=[Z[0],Z[Z.length-1]])[0]===Z[1]&&(Z.length=1),A&&(this.tickPositions=Z,(te=A.apply(this,[this.min,this.max]))&&(Z=te))}this.tickPositions=Z,this.minorTickInterval=R==="auto"&&this.tickInterval?this.tickInterval/m.minorTicksPerMajor:R,this.paddedTicks=Z.slice(0),this.trimTicks(Z,V,j),!this.isLinked&&mr(this.min)&&mr(this.max)&&(this.single&&Z.length<2&&!this.categories&&!this.series.some(ue=>ue.is("heatmap")&&ue.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),C||te||this.adjustTickAmount()),sl(this,"afterSetTickPositions")}trimTicks(m,C,A){let R=m[0],D=m[m.length-1],V=!this.isOrdinal&&this.minPointOffset||0;if(sl(this,"trimTicks"),!this.isLinked||!this.grid){if(C&&R!==-1/0)this.min=R;else for(;this.min-V>m[0];)m.shift();if(A)this.max=D;else for(;this.max+V<m[m.length-1];)m.pop();m.length===0&&pr(R)&&!this.options.tickPositions&&m.push((D+R)/2)}}alignToOthers(){let m,C=this,A=C.chart,R=[this],D=C.options,V=A.options.chart,j=this.coll==="yAxis"&&V.alignThresholds,Z=[];if(C.thresholdAlignment=void 0,(V.alignTicks!==!1&&D.alignTicks||j)&&D.startOnTick!==!1&&D.endOnTick!==!1&&!C.logarithmic){let te=ie=>{let{horiz:me,options:Ce}=ie;return[me?Ce.left:Ce.top,Ce.width,Ce.height,Ce.pane].join(",")},ue=te(this);A[this.coll].forEach(function(ie){let{series:me}=ie;me.length&&me.some(Ce=>Ce.visible)&&ie!==C&&te(ie)===ue&&(m=!0,R.push(ie))})}if(m&&j){R.forEach(ue=>{let ie=ue.getThresholdAlignment(C);mr(ie)&&Z.push(ie)});let te=Z.length>1?Z.reduce((ue,ie)=>ue+=ie,0)/Z.length:void 0;R.forEach(ue=>{ue.thresholdAlignment=te})}return m}getThresholdAlignment(m){if((!mr(this.dataMin)||this!==m&&this.series.some(C=>C.isDirty||C.isDirtyData))&&this.getSeriesExtremes(),mr(this.threshold)){let C=jl((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(C=1-C),C}}getTickAmount(){let m=this.options,C=m.tickPixelInterval,A=m.tickAmount;pr(m.tickInterval)||A||!(this.len<C)||this.isRadial||this.logarithmic||!m.startOnTick||!m.endOnTick||(A=2),!A&&this.alignToOthers()&&(A=Math.ceil(this.len/C)+1),A<4&&(this.finalTickAmt=A,A=5),this.tickAmount=A}adjustTickAmount(){let m=this,{finalTickAmt:C,max:A,min:R,options:D,tickPositions:V,tickAmount:j,thresholdAlignment:Z}=m,te=V?.length,ue=nr(m.threshold,m.softThreshold?0:null),ie,me,Ce=m.tickInterval,Ae,ke=()=>V.push(oa(V[V.length-1]+Ce)),Be=()=>V.unshift(oa(V[0]-Ce));if(mr(Z)&&(Ae=Z<.5?Math.ceil(Z*(j-1)):Math.floor(Z*(j-1)),D.reversed&&(Ae=j-1-Ae)),m.hasData()&&mr(R)&&mr(A)){let Pe=()=>{m.transA*=(te-1)/(j-1),m.min=D.startOnTick?V[0]:Math.min(R,V[0]),m.max=D.endOnTick?V[V.length-1]:Math.max(A,V[V.length-1])};if(mr(Ae)&&mr(m.threshold)){for(;V[Ae]!==ue||V.length!==j||V[0]>R||V[V.length-1]<A;){for(V.length=0,V.push(m.threshold);V.length<j;)V[Ae]===void 0||V[Ae]>m.threshold?Be():ke();if(Ce>8*m.tickInterval)break;Ce*=2}Pe()}else if(te<j){for(;V.length<j;)V.length%2||R===ue?ke():Be();Pe()}if(pr(C)){for(me=ie=V.length;me--;)(C===3&&me%2==1||C<=2&&me>0&&me<ie-1)&&V.splice(me,1);m.finalTickAmt=void 0}}}setScale(){let{coll:m,stacking:C}=this,A=!1,R=!1;this.series.forEach(V=>{A=A||V.isDirtyData||V.isDirty,R=R||V.xAxis?.isDirty||!1}),this.setAxisSize();let D=this.len!==this.old?.len;D||A||R||this.isLinked||this.forceRedraw||this.userMin!==this.old?.userMin||this.userMax!==this.old?.userMax||this.alignToOthers()?(C&&m==="yAxis"&&C.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),C&&m==="xAxis"&&C.buildStacks(),this.isDirty||(this.isDirty=D||this.min!==this.old?.min||this.max!==this.old?.max)):C&&C.cleanStacks(),A&&delete this.allExtremes,sl(this,"afterSetScale")}setExtremes(m,C,A=!0,R,D){let V=this.chart;this.series.forEach(j=>{delete j.kdTree}),m=V.time.parse(m),C=V.time.parse(C),sl(this,"setExtremes",D=lf(D,{min:m,max:C}),j=>{this.userMin=j.min,this.userMax=j.max,this.eventArgs=j,A&&V.redraw(R)})}setAxisSize(){let m=this.chart,C=this.options,A=C.offsets||[0,0,0,0],R=this.horiz,D=this.width=Math.round(Dl(nr(C.width,m.plotWidth-A[3]+A[1]),m.plotWidth)),V=this.height=Math.round(Dl(nr(C.height,m.plotHeight-A[0]+A[2]),m.plotHeight)),j=this.top=Math.round(Dl(nr(C.top,m.plotTop+A[0]),m.plotHeight,m.plotTop)),Z=this.left=Math.round(Dl(nr(C.left,m.plotLeft+A[3]),m.plotWidth,m.plotLeft));this.bottom=m.chartHeight-V-j,this.right=m.chartWidth-D-Z,this.len=Math.max(R?D:V,0),this.pos=R?Z:j}getExtremes(){let m=this.logarithmic;return{min:m?oa(m.lin2log(this.min)):this.min,max:m?oa(m.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(m){let C=this.logarithmic,A=C?C.lin2log(this.min):this.min,R=C?C.lin2log(this.max):this.max;return m===null||m===-1/0?m=A:m===1/0?m=R:A>m?m=A:R<m&&(m=R),this.translate(m,0,1,0,1)}autoLabelAlign(m){let C=(nr(m,0)-90*this.side+720)%360,A={align:"center"};return sl(this,"autoLabelAlign",A,function(R){C>15&&C<165?R.align="right":C>195&&C<345&&(R.align="left")}),A.align}tickSize(m){let C=this.options,A=nr(C[m==="tick"?"tickWidth":"minorTickWidth"],m==="tick"&&this.isXAxis&&!this.categories?1:0),R=C[m==="tick"?"tickLength":"minorTickLength"],D;A&&R&&(C[m+"Position"]==="inside"&&(R=-R),D=[R,A]);let V={tickSize:D};return sl(this,"afterTickSize",V),V.tickSize}labelMetrics(){let m=this.chart.renderer,C=this.ticks,A=C[Object.keys(C)[0]]||{};return this.chart.renderer.fontMetrics(A.label||A.movedLabel||m.box)}unsquish(){let m=this.options.labels,C=m.padding||0,A=this.horiz,R=this.tickInterval,D=this.len/((+!!this.categories+this.max-this.min)/R),V=m.rotation,j=oa(.8*this.labelMetrics().h),Z=Math.max(this.max-this.min,0),te=function(Ae){let ke=(Ae+2*C)/(D||1);return(ke=ke>1?Math.ceil(ke):1)*R>Z&&Ae!==1/0&&D!==1/0&&Z&&(ke=Math.ceil(Z/R)),oa(ke*R)},ue=R,ie,me=Number.MAX_VALUE,Ce;if(A){if(!m.staggerLines&&(mr(V)?Ce=[V]:D<m.autoRotationLimit&&(Ce=m.autoRotation)),Ce){let Ae,ke;for(let Be of Ce)(Be===V||Be&&Be>=-90&&Be<=90)&&(ke=(Ae=te(Math.abs(j/Math.sin(ti*Be))))+Math.abs(Be/360))<me&&(me=ke,ie=Be,ue=Ae)}}else ue=te(.75*j);return this.autoRotation=Ce,this.labelRotation=nr(ie,mr(V)?V:0),m.step?R:ue}getSlotWidth(m){let C=this.chart,A=this.horiz,R=this.options.labels,D=Math.max(this.tickPositions.length-!this.categories,1),V=C.margin[3];if(m&&mr(m.slotWidth))return m.slotWidth;if(A&&R.step<2&&!this.isRadial)return R.rotation?0:(this.staggerLines||1)*this.len/D;if(!A){let j=R.style.width;if(j!==void 0)return parseInt(String(j),10);if(!this.opposite&&V)return V-C.spacing[3]}return .33*C.chartWidth}renderUnsquish(){let m=this.chart,C=m.renderer,A=this.tickPositions,R=this.ticks,D=this.options.labels,V=D.style,j=this.horiz,Z=this.getSlotWidth(),te=Math.max(1,Math.round(Z-(j?2*(D.padding||0):D.distance||0))),ue={},ie=this.labelMetrics(),me=V.lineClamp,Ce,Ae=me??(Math.floor(this.len/(A.length*ie.h))||1),ke=0;xm(D.rotation)||(ue.rotation=D.rotation||0),A.forEach(function(Be){let Pe=R[Be];Pe.movedLabel&&Pe.replaceMovedLabel();let tt=Pe.label?.textPxLength||0;tt>ke&&(ke=tt)}),this.maxLabelLength=ke,this.autoRotation?ke>te&&ke>ie.h?ue.rotation=this.labelRotation:this.labelRotation=0:Z&&(Ce=te),ue.rotation&&(Ce=ke>.5*m.chartHeight?.33*m.chartHeight:ke,me||(Ae=1)),this.labelAlign=D.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(ue.align=this.labelAlign),A.forEach(function(Be){let Pe=R[Be],tt=Pe?.label,dt=V.width,Ot={};tt&&(tt.attr(ue),Pe.shortenLabel?Pe.shortenLabel():Ce&&!dt&&V.whiteSpace!=="nowrap"&&(Ce<(tt.textPxLength||0)||tt.element.tagName==="SPAN")?tt.css(lf(Ot,{width:`${Ce}px`,lineClamp:Ae})):!tt.styles.width||Ot.width||dt||tt.css({width:"auto"}),Pe.rotation=ue.rotation)},this),this.tickRotCorr=C.rotCorr(ie.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(m){return m.hasData()})||this.options.showEmpty&&pr(this.min)&&pr(this.max)}addTitle(m){let C,A=this.chart.renderer,R=this.horiz,D=this.opposite,V=this.options.title,j=this.chart.styledMode;this.axisTitle||((C=V.textAlign)||(C=(R?{low:"left",middle:"center",high:"right"}:{low:D?"right":"left",middle:"center",high:D?"left":"right"})[V.align]),this.axisTitle=A.text(V.text||"",0,0,V.useHTML).attr({zIndex:7,rotation:V.rotation||0,align:C}).addClass("highcharts-axis-title"),j||this.axisTitle.css(rs(V.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),j||V.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[m?"show":"hide"](m)}generateTick(m){let C=this.ticks;C[m]?C[m].addLabel():C[m]=new ou(this,m)}createGroups(){let{axisParent:m,chart:C,coll:A,options:R}=this,D=C.renderer,V=(j,Z,te)=>D.g(j).attr({zIndex:te}).addClass(`highcharts-${A.toLowerCase()}${Z} `+(this.isRadial?`highcharts-radial-axis${Z} `:"")+(R.className||"")).add(m);this.axisGroup||(this.gridGroup=V("grid","-grid",R.gridZIndex),this.axisGroup=V("axis","",R.zIndex),this.labelGroup=V("axis-labels","-labels",R.labels.zIndex))}getOffset(){let m=this,{chart:C,horiz:A,options:R,side:D,ticks:V,tickPositions:j,coll:Z}=m,te=C.inverted&&!m.isZAxis?[1,0,3,2][D]:D,ue=m.hasData(),ie=R.title,me=R.labels,Ce=mr(R.crossing),Ae=C.axisOffset,ke=C.clipOffset,Be=[-1,1,1,-1][D],Pe,tt=0,dt,Ot=0,Nt=0,Bt,Ft;if(m.showAxis=Pe=ue||R.showEmpty,m.staggerLines=m.horiz&&me.staggerLines||void 0,m.createGroups(),ue||m.isLinked?(j.forEach(function($t){m.generateTick($t)}),m.renderUnsquish(),m.reserveSpaceDefault=D===0||D===2||{1:"left",3:"right"}[D]===m.labelAlign,nr(me.reserveSpace,!Ce&&null,m.labelAlign==="center"||null,m.reserveSpaceDefault)&&j.forEach(function($t){Nt=Math.max(V[$t].getLabelSize(),Nt)}),m.staggerLines&&(Nt*=m.staggerLines),m.labelOffset=Nt*(m.opposite?-1:1)):fl(V,function($t,Hn){$t.destroy(),delete V[Hn]}),ie?.text&&ie.enabled!==!1&&(m.addTitle(Pe),Pe&&!Ce&&ie.reserveSpace!==!1&&(m.titleOffset=tt=m.axisTitle.getBBox()[A?"height":"width"],Ot=pr(dt=ie.offset)?0:nr(ie.margin,A?5:10))),m.renderLine(),m.offset=Be*nr(R.offset,Ae[D]?Ae[D]+(R.margin||0):0),m.tickRotCorr=m.tickRotCorr||{x:0,y:0},Ft=D===0?-m.labelMetrics().h:D===2?m.tickRotCorr.y:0,Bt=Math.abs(Nt)+Ot,Nt&&(Bt-=Ft,Bt+=Be*(A?nr(me.y,m.tickRotCorr.y+Be*me.distance):nr(me.x,Be*me.distance))),m.axisTitleMargin=nr(dt,Bt),m.getMaxLabelDimensions&&(m.maxLabelDimensions=m.getMaxLabelDimensions(V,j)),Z!=="colorAxis"&&ke){let $t=this.tickSize("tick");Ae[D]=Math.max(Ae[D],(m.axisTitleMargin||0)+tt+Be*m.offset,Bt,j?.length&&$t?$t[0]+Be*m.offset:0);let Hn=!m.axisLine||R.offset?0:m.axisLine.strokeWidth()/2;ke[te]=Math.max(ke[te],Hn)}sl(this,"afterGetOffset")}getLinePath(m){let C=this.chart,A=this.opposite,R=this.offset,D=this.horiz,V=this.left+(A?this.width:0)+R,j=C.chartHeight-this.bottom-(A?this.height:0)+R;return A&&(m*=-1),C.renderer.crispLine([["M",D?this.left:V,D?j:this.top],["L",D?C.chartWidth-this.right:V,D?j:C.chartHeight-this.bottom]],m)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(m){let C=this.horiz,A=this.left,R=this.top,D=this.len,V=this.options.title,j=C?A:R,Z=this.opposite,te=this.offset,ue=V.x,ie=V.y,me=this.chart.renderer.fontMetrics(m),Ce=m?Math.max(m.getBBox(!1,0).height-me.h-1,0):0,Ae={low:j+(C?0:D),middle:j+D/2,high:j+(C?D:0)}[V.align],ke=(C?R+this.height:A)+(C?1:-1)*(Z?-1:1)*(this.axisTitleMargin||0)+[-Ce,Ce,me.f,-Ce][this.side],Be={x:C?Ae+ue:ke+(Z?this.width:0)+te+ue,y:C?ke+ie-(Z?this.height:0)+te:Ae+ie};return sl(this,"afterGetTitlePosition",{titlePosition:Be}),Be}renderMinorTick(m,C){let A=this.minorTicks;A[m]||(A[m]=new ou(this,m,"minor")),C&&A[m].isNew&&A[m].render(null,!0),A[m].render(null,!1,1)}renderTick(m,C,A){let R=this.isLinked,D=this.ticks;(!R||m>=this.min&&m<=this.max||this.grid?.isColumn)&&(D[m]||(D[m]=new ou(this,m)),A&&D[m].isNew&&D[m].render(C,!0,-1),D[m].render(C))}render(){let m,C,A=this,R=A.chart,D=A.logarithmic,V=R.renderer,j=A.options,Z=A.isLinked,te=A.tickPositions,ue=A.axisTitle,ie=A.ticks,me=A.minorTicks,Ce=A.alternateBands,Ae=j.stackLabels,ke=j.alternateGridColor,Be=j.crossing,Pe=A.tickmarkOffset,tt=A.axisLine,dt=A.showAxis,Ot=Sl(V.globalAnimation);if(A.labelEdge.length=0,A.overlap=!1,[ie,me,Ce].forEach(function(Nt){fl(Nt,function(Bt){Bt.isActive=!1})}),mr(Be)){let Nt=this.isXAxis?R.yAxis[0]:R.xAxis[0],Bt=[1,-1,-1,1][this.side];if(Nt){let Ft=Nt.toPixels(Be,!0);A.horiz&&(Ft=Nt.len-Ft),A.offset=Bt*Ft}}if(A.hasData()||Z){let Nt=A.chart.hasRendered&&A.old&&mr(A.old.min);A.minorTickInterval&&!A.categories&&A.getMinorTickPositions().forEach(function(Bt){A.renderMinorTick(Bt,Nt)}),te.length&&(te.forEach(function(Bt,Ft){A.renderTick(Bt,Ft,Nt)}),Pe&&(A.min===0||A.single)&&(ie[-1]||(ie[-1]=new ou(A,-1,null,!0)),ie[-1].render(-1))),ke&&te.forEach(function(Bt,Ft){C=te[Ft+1]!==void 0?te[Ft+1]+Pe:A.max-Pe,Ft%2==0&&Bt<A.max&&C<=A.max+(R.polar?-Pe:Pe)&&(Ce[Bt]||(Ce[Bt]=new Me.PlotLineOrBand(A,{})),m=Bt+Pe,Ce[Bt].options={from:D?D.lin2log(m):m,to:D?D.lin2log(C):C,color:ke,className:"highcharts-alternate-grid"},Ce[Bt].render(),Ce[Bt].isActive=!0)}),A._addedPlotLB||(A._addedPlotLB=!0,(j.plotLines||[]).concat(j.plotBands||[]).forEach(function(Bt){A.addPlotBandOrLine(Bt)}))}[ie,me,Ce].forEach(function(Nt){let Bt=[],Ft=Ot.duration;fl(Nt,function($t,Hn){$t.isActive||($t.render(Hn,!1,0),$t.isActive=!1,Bt.push(Hn))}),Xy(function(){let $t=Bt.length;for(;$t--;)Nt[Bt[$t]]&&!Nt[Bt[$t]].isActive&&(Nt[Bt[$t]].destroy(),delete Nt[Bt[$t]])},Nt!==Ce&&R.hasRendered&&Ft?Ft:0)}),tt&&(tt[tt.isPlaced?"animate":"attr"]({d:this.getLinePath(tt.strokeWidth())}),tt.isPlaced=!0,tt[dt?"show":"hide"](dt)),ue&&dt&&(ue[ue.isNew?"attr":"animate"](A.getTitlePosition(ue)),ue.isNew=!1),Ae?.enabled&&A.stacking&&A.stacking.renderStackTotals(),A.old={len:A.len,max:A.max,min:A.min,transA:A.transA,userMax:A.userMax,userMin:A.userMin},A.isDirty=!1,sl(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(m){m.render()})),this.series.forEach(function(m){m.isDirty=!0})}getKeepProps(){return this.keepProps||Du.keepProps}destroy(m){let C=this,A=C.plotLinesAndBands,R=this.eventOptions;if(sl(this,"destroy",{keepEvents:m}),m||sa(C),[C.ticks,C.minorTicks,C.alternateBands].forEach(function(D){Nh(D)}),A){let D=A.length;for(;D--;)A[D].destroy()}for(let D in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(V){C[V]&&(C[V]=C[V].destroy())}),C.plotLinesAndBandsGroups)C.plotLinesAndBandsGroups[D]=C.plotLinesAndBandsGroups[D].destroy();fl(C,function(D,V){C.getKeepProps().indexOf(V)===-1&&delete C[V]}),this.eventOptions=R}drawCrosshair(m,C){let A=this.crosshair,R=A?.snap??!0,D=this.chart,V,j,Z,te=this.cross,ue;if(sl(this,"drawCrosshair",{e:m,point:C}),m||(m=this.cross?.e),A&&(pr(C)||!R)!==!1){if(R?pr(C)&&(j=nr(this.coll!=="colorAxis"?C.crosshairPos:null,this.isXAxis?C.plotX:this.len-C.plotY)):j=m&&(this.horiz?m.chartX-this.pos:this.len-m.chartY+this.pos),pr(j)&&(ue={value:C&&(this.isXAxis?C.x:nr(C.stackY,C.y)),translatedValue:j},D.polar&&lf(ue,{isCrosshair:!0,chartX:m?.chartX,chartY:m?.chartY,point:C}),V=this.getPlotLinePath(ue)||null),!pr(V))return void this.hideCrosshair();Z=this.categories&&!this.isRadial,te||(this.cross=te=D.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(Z?"category ":"thin ")+(A.className||"")).attr({zIndex:nr(A.zIndex,2)}).add(),!D.styledMode&&(te.attr({stroke:A.color||(Z?or.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":nr(A.width,1)}).css({"pointer-events":"none"}),A.dashStyle&&te.attr({dashstyle:A.dashStyle}))),te.show().attr({d:V}),Z&&!A.width&&te.attr({"stroke-width":this.transA}),this.cross.e=m}else this.hideCrosshair();sl(this,"afterDrawCrosshair",{e:m,point:C})}hideCrosshair(){this.cross&&this.cross.hide(),sl(this,"afterHideCrosshair")}update(m,C){let A=this.chart;m=rs(this.userOptions,m),this.destroy(!0),this.init(A,m),A.isDirtyBox=!0,nr(C,!0)&&A.redraw()}remove(m){let C=this.chart,A=this.coll,R=this.series,D=R.length;for(;D--;)R[D]&&R[D].remove(!1);Wl(C.axes,this),Wl(C[A]||[],this),C.orderItems(A),this.destroy(),C.isDirtyBox=!0,nr(m,!0)&&C.redraw()}setTitle(m,C){this.update({title:m},C)}setCategories(m,C){this.update({categories:m},C)}}Du.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:Gb,getMagnitude:Jy,normalizeTickInterval:qb,timeUnits:sh}=oo;(function(Q){function m(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function C(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new A(this))}Q.compose=function(R){return R.keepProps.includes("dateTime")||(R.keepProps.push("dateTime"),R.prototype.getTimeTicks=m,Gb(R,"afterSetType",C)),R};class A{constructor(D){this.axis=D}normalizeTimeTickInterval(D,V){let j=V||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],Z=j[j.length-1],te=sh[Z[0]],ue=Z[1],ie;for(ie=0;ie<j.length&&(te=sh[(Z=j[ie])[0]],ue=Z[1],!j[ie+1]||!(D<=(te*ue[ue.length-1]+sh[j[ie+1][0]])/2));ie++);te===sh.year&&D<5*te&&(ue=[1,2,5]);let me=qb(D/te,ue,Z[0]==="year"?Math.max(Jy(D/te),1):1);return{unitRange:te,count:me,unitName:Z[0]}}getXDateFormat(D,V){let{axis:j}=this,Z=j.chart.time;return j.closestPointRange?Z.getDateFormat(j.closestPointRange,D,j.options.startOfWeek,V)||Z.resolveDTLFormat(V.year).main:Z.resolveDTLFormat(V.day).main}}Q.Additions=A})(_||(_={}));let Lh=_,{addEvent:Qy,normalizeTickInterval:Tc,pick:rh}=oo;(function(Q){function m(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new A(this))}function C(){let R=this.logarithmic;R&&(this.lin2val=function(D){return R.lin2log(D)},this.val2lin=function(D){return R.log2lin(D)})}Q.compose=function(R){return R.keepProps.includes("logarithmic")||(R.keepProps.push("logarithmic"),Qy(R,"afterSetType",m),Qy(R,"afterInit",C)),R};class A{constructor(D){this.axis=D}getLogTickPositions(D,V,j,Z){let te=this.axis,ue=te.len,ie=te.options,me=[];if(Z||(this.minorAutoInterval=void 0),D>=.5)D=Math.round(D),me=te.getLinearTickPositions(D,V,j);else if(D>=.08){let Ce,Ae,ke,Be,Pe,tt,dt,Ot=Math.floor(V);for(Ce=D>.3?[1,2,4]:D>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],Ae=Ot;Ae<j+1&&!dt;Ae++)for(ke=0,Be=Ce.length;ke<Be&&!dt;ke++)(Pe=this.log2lin(this.lin2log(Ae)*Ce[ke]))>V&&(!Z||tt<=j)&&tt!==void 0&&me.push(tt),tt>j&&(dt=!0),tt=Pe}else{let Ce=this.lin2log(V),Ae=this.lin2log(j),ke=Z?te.getMinorTickInterval():ie.tickInterval,Be=ie.tickPixelInterval/(Z?5:1),Pe=Z?ue/te.tickPositions.length:ue;D=Tc(D=rh(ke==="auto"?null:ke,this.minorAutoInterval,(Ae-Ce)*Be/(Pe||1))),me=te.getLinearTickPositions(D,Ce,Ae).map(this.log2lin),Z||(this.minorAutoInterval=D/5)}return Z||(te.tickInterval=D),me}lin2log(D){return Math.pow(10,D)}log2lin(D){return Math.log(D)/Math.LN10}}Q.Additions=A})(x||(x={}));let np=x,{erase:$r,extend:Ld,isNumber:l1}=oo;(function(Q){let m;function C(te){return this.addPlotBandOrLine(te,"plotBands")}function A(te,ue){let ie=this.userOptions,me=new m(this,te);if(this.visible&&(me=me.render()),me){if(this._addedPlotLB||(this._addedPlotLB=!0,(ie.plotLines||[]).concat(ie.plotBands||[]).forEach(Ce=>{this.addPlotBandOrLine(Ce)})),ue){let Ce=ie[ue]||[];Ce.push(te),ie[ue]=Ce}this.plotLinesAndBands.push(me)}return me}function R(te){return this.addPlotBandOrLine(te,"plotLines")}function D(te,ue,ie){ie=ie||this.options;let me=this.getPlotLinePath({value:ue,force:!0,acrossPanes:ie.acrossPanes}),Ce=[],Ae=this.horiz,ke=!l1(this.min)||!l1(this.max)||te<this.min&&ue<this.min||te>this.max&&ue>this.max,Be=this.getPlotLinePath({value:te,force:!0,acrossPanes:ie.acrossPanes}),Pe,tt=1,dt;if(Be&&me)for(ke&&(dt=Be.toString()===me.toString(),tt=0),Pe=0;Pe<Be.length;Pe+=2){let Ot=Be[Pe],Nt=Be[Pe+1],Bt=me[Pe],Ft=me[Pe+1];(Ot[0]==="M"||Ot[0]==="L")&&(Nt[0]==="M"||Nt[0]==="L")&&(Bt[0]==="M"||Bt[0]==="L")&&(Ft[0]==="M"||Ft[0]==="L")&&(Ae&&Bt[1]===Ot[1]?(Bt[1]+=tt,Ft[1]+=tt):Ae||Bt[2]!==Ot[2]||(Bt[2]+=tt,Ft[2]+=tt),Ce.push(["M",Ot[1],Ot[2]],["L",Nt[1],Nt[2]],["L",Ft[1],Ft[2]],["L",Bt[1],Bt[2]],["Z"])),Ce.isFlat=dt}return Ce}function V(te){this.removePlotBandOrLine(te)}function j(te){let ue=this.plotLinesAndBands,ie=this.options,me=this.userOptions;if(ue){let Ce=ue.length;for(;Ce--;)ue[Ce].id===te&&ue[Ce].destroy();[ie.plotLines||[],me.plotLines||[],ie.plotBands||[],me.plotBands||[]].forEach(function(Ae){for(Ce=Ae.length;Ce--;)Ae[Ce]?.id===te&&$r(Ae,Ae[Ce])})}}function Z(te){this.removePlotBandOrLine(te)}Q.compose=function(te,ue){let ie=ue.prototype;return ie.addPlotBand||(m=te,Ld(ie,{addPlotBand:C,addPlotLine:R,addPlotBandOrLine:A,getPlotBandPath:D,removePlotBand:V,removePlotLine:Z,removePlotBandOrLine:j})),ue}})(P||(P={}));let Zb=P,{addEvent:ih,arrayMax:_s,arrayMin:ca,defined:Ra,destroyObjectProperties:ra,erase:ah,fireEvent:ua,merge:pl,objectEach:Pv,pick:Sr}=oo;class sd{static compose(m,C){return ih(m,"afterInit",function(){this.labelCollectors.push(()=>{let A=[];for(let R of this.axes)for(let{label:D,options:V}of R.plotLinesAndBands)D&&!V?.label?.allowOverlap&&A.push(D);return A})}),Zb.compose(sd,C)}constructor(m,C){this.axis=m,this.options=C,this.id=C.id}render(){ua(this,"render");let{axis:m,options:C}=this,{horiz:A,logarithmic:R}=m,{color:D,events:V,zIndex:j=0}=C,{renderer:Z,time:te}=m.chart,ue={},ie=te.parse(C.to),me=te.parse(C.from),Ce=te.parse(C.value),Ae=C.borderWidth,ke=C.label,{label:Be,svgElem:Pe}=this,tt=[],dt,Ot=Ra(me)&&Ra(ie),Nt=Ra(Ce),Bt=!Pe,Ft={class:"highcharts-plot-"+(Ot?"band ":"line ")+(C.className||"")},$t=Ot?"bands":"lines";if(!m.chart.styledMode&&(Nt?(Ft.stroke=D||"#999999",Ft["stroke-width"]=Sr(C.width,1),C.dashStyle&&(Ft.dashstyle=C.dashStyle)):Ot&&(Ft.fill=D||"#e6e9ff",Ae&&(Ft.stroke=C.borderColor,Ft["stroke-width"]=Ae))),ue.zIndex=j,$t+="-"+j,(dt=m.plotLinesAndBandsGroups[$t])||(m.plotLinesAndBandsGroups[$t]=dt=Z.g("plot-"+$t).attr(ue).add()),Pe||(this.svgElem=Pe=Z.path().attr(Ft).add(dt)),Ra(Ce))tt=m.getPlotLinePath({value:R?.log2lin(Ce)??Ce,lineWidth:Pe.strokeWidth(),acrossPanes:C.acrossPanes});else{if(!(Ra(me)&&Ra(ie)))return;tt=m.getPlotBandPath(R?.log2lin(me)??me,R?.log2lin(ie)??ie,C)}return!this.eventsAdded&&V&&(Pv(V,(Hn,lo)=>{Pe?.on(lo,_n=>{V[lo].apply(this,[_n])})}),this.eventsAdded=!0),(Bt||!Pe.d)&&tt?.length?Pe.attr({d:tt}):Pe&&(tt?(Pe.show(),Pe.animate({d:tt})):Pe.d&&(Pe.hide(),Be&&(this.label=Be=Be.destroy()))),ke&&(Ra(ke.text)||Ra(ke.formatter))&&tt?.length&&m.width>0&&m.height>0&&!tt.isFlat?(ke=pl({align:A&&Ot?"center":void 0,x:A?!Ot&&4:10,verticalAlign:!A&&Ot?"middle":void 0,y:A?Ot?16:10:Ot?6:-4,rotation:A&&!Ot?90:0,...Ot?{inside:!0}:{}},ke),this.renderLabel(ke,tt,Ot,j)):Be&&Be.hide(),this}renderLabel(m,C,A,R){let D=this.axis,V=D.chart.renderer,j=m.inside,Z=this.label;Z||(this.label=Z=V.text(this.getLabelText(m),0,0,m.useHTML).attr({align:m.textAlign||m.align,rotation:m.rotation,class:"highcharts-plot-"+(A?"band":"line")+"-label "+(m.className||""),zIndex:R}),D.chart.styledMode||Z.css(pl({color:D.chart.options.title?.style?.color,fontSize:"0.8em",textOverflow:A&&!j?"":"ellipsis"},m.style)),Z.add());let te=C.xBounds||[C[0][1],C[1][1],A?C[2][1]:C[0][1]],ue=C.yBounds||[C[0][2],C[1][2],A?C[2][2]:C[0][2]],ie=ca(te),me=ca(ue),Ce=_s(te)-ie;Z.align(m,!1,{x:ie,y:me,width:Ce,height:_s(ue)-me}),Z.alignAttr.y-=V.fontMetrics(Z).b,(!Z.alignValue||Z.alignValue==="left"||Ra(j))&&Z.css({width:(m.style?.width||(A&&j?Ce:Z.rotation===90?D.height-(Z.alignAttr.y-D.top):(m.clip?D.width:D.chart.chartWidth)-(Z.alignAttr.x-D.left)))+"px"}),Z.show(!0)}getLabelText(m){return Ra(m.formatter)?m.formatter.call(this):m.text}destroy(){ah(this.axis.plotLinesAndBands,this),delete this.axis,ra(this)}}let{animObject:Di}=Aa,{format:Mu}=Pr,{composed:Cl,dateFormats:El,doc:cf,isSafari:Nv}=Me,{distribute:Up}=nf,{addEvent:Im,clamp:lh,css:bc,discardElement:zp,extend:kE,fireEvent:op,getAlignFactor:ni,isArray:c1,isNumber:Lv,isObject:Lc,isString:su,merge:La,pick:Bd,pushUnique:ml,splat:Rm,syncTimeout:e0}=oo;class Kb{constructor(m,C,A){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=m,this.init(m,C),this.pointer=A}bodyFormatter(m){return m.map(C=>{let A=C.series.tooltipOptions,R=C.formatPrefix||"point";return(A[R+"Formatter"]||C.tooltipFormatter).call(C,A[R+"Format"]||"")})}cleanSplit(m){this.chart.series.forEach(function(C){let A=C?.tt;A&&(!A.isActive||m?C.tt=A.destroy():A.isActive=!1)})}defaultFormatter(m){let C,A=this.points||Rm(this);return(C=(C=[m.headerFooterFormatter(A[0])]).concat(m.bodyFormatter(A))).push(m.headerFooterFormatter(A[0],!0)),C}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),zp(this.container)),oo.clearTimeout(this.hideTimer)}getAnchor(m,C){let A,{chart:R,pointer:D}=this,V=R.inverted,j=R.plotTop,Z=R.plotLeft;if(m=Rm(m),m[0].series?.yAxis&&!m[0].series.yAxis.options.reversedStacks&&(m=m.slice().reverse()),this.followPointer&&C)C.chartX===void 0&&(C=D.normalize(C)),A=[C.chartX-Z,C.chartY-j];else if(m[0].tooltipPos)A=m[0].tooltipPos;else{let ue=0,ie=0;m.forEach(function(me){let Ce=me.pos(!0);Ce&&(ue+=Ce[0],ie+=Ce[1])}),ue/=m.length,ie/=m.length,this.shared&&m.length>1&&C&&(V?ue=C.chartX:ie=C.chartY),A=[ue-Z,ie-j]}let te={point:m[0],ret:A};return op(this,"getAnchor",te),te.ret.map(Math.round)}getClassName(m,C,A){let R=this.options,D=m.series,V=D.options;return[R.className,"highcharts-label",A&&"highcharts-tooltip-header",C?"highcharts-tooltip-box":"highcharts-tooltip",!A&&"highcharts-color-"+Bd(m.colorIndex,D.colorIndex),V?.className].filter(su).join(" ")}getLabel({anchorX:m,anchorY:C}={anchorX:0,anchorY:0}){let A=this,R=this.chart.styledMode,D=this.options,V=this.split&&this.allowShared,j=this.container,Z=this.chart.renderer;if(this.label){let te=!this.label.hasClass("highcharts-label");(!V&&te||V&&!te)&&this.destroy()}if(!this.label){if(this.outside){let te=this.chart,ue=te.options.chart.style,ie=nh.getRendererType();this.container=j=Me.doc.createElement("div"),j.className="highcharts-tooltip-container "+(te.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),bc(j,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(ue?.zIndex||0)+3)}),this.renderer=Z=new ie(j,0,0,ue,void 0,void 0,Z.styledMode)}if(V?this.label=Z.g("tooltip"):(this.label=Z.label("",m,C,D.shape||"callout",void 0,void 0,D.useHTML,void 0,"tooltip").attr({padding:D.padding,r:D.borderRadius}),R||this.label.attr({fill:D.backgroundColor,"stroke-width":D.borderWidth||0}).css(D.style).css({pointerEvents:D.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),A.outside){let te=this.label;[te.xSetter,te.ySetter].forEach((ue,ie)=>{te[ie?"ySetter":"xSetter"]=me=>{ue.call(te,A.distance),te[ie?"y":"x"]=me,j&&(j.style[ie?"top":"left"]=`${me}px`)}})}this.label.attr({zIndex:8}).shadow(D.shadow??!D.fixed).add()}return j&&!j.parentElement&&Me.doc.body.appendChild(j),this.label}getPlayingField(){let{body:m,documentElement:C}=cf,{chart:A,distance:R,outside:D}=this;return{width:D?Math.max(m.scrollWidth,C.scrollWidth,m.offsetWidth,C.offsetWidth,C.clientWidth)-2*R-2:A.chartWidth,height:D?Math.max(m.scrollHeight,C.scrollHeight,m.offsetHeight,C.offsetHeight,C.clientHeight):A.chartHeight}}getPosition(m,C,A){let{distance:R,chart:D,outside:V,pointer:j}=this,{inverted:Z,plotLeft:te,plotTop:ue,polar:ie}=D,{plotX:me=0,plotY:Ce=0}=A,Ae={},ke=Z&&A.h||0,{height:Be,width:Pe}=this.getPlayingField(),tt=j.getChartPosition(),dt=ns=>ns*tt.scaleX,Ot=ns=>ns*tt.scaleY,Nt=ns=>{let Cs=ns==="x";return[ns,Cs?Pe:Be,Cs?m:C].concat(V?[Cs?dt(m):Ot(C),Cs?tt.left-R+dt(me+te):tt.top-R+Ot(Ce+ue),0,Cs?Pe:Be]:[Cs?m:C,Cs?me+te:Ce+ue,Cs?te:ue,Cs?te+D.plotWidth:ue+D.plotHeight])},Bt=Nt("y"),Ft=Nt("x"),$t,Hn=!!A.negative;!ie&&D.hoverSeries?.yAxis?.reversed&&(Hn=!Hn);let lo=!this.followPointer&&Bd(A.ttBelow,!ie&&!Z===Hn),_n=function(ns,Cs,qs,Da,Ai,lu,Rr){let gr=V?ns==="y"?Ot(R):dt(R):R,ui=(qs-Da)/2,gi=Da<Ai-R,Wr=Ai+R+Da<Cs,Xa=Ai-gr-qs+ui,Ti=Ai+gr-ui;if(lo&&Wr)Ae[ns]=Ti;else if(!lo&&gi)Ae[ns]=Xa;else if(gi)Ae[ns]=Math.min(Rr-Da,Xa-ke<0?Xa:Xa-ke);else{if(!Wr)return Ae[ns]=0,!1;Ae[ns]=Math.max(lu,Ti+ke+qs>Cs?Ti:Ti+ke)}},Uo=function(ns,Cs,qs,Da,Ai){if(Ai<R||Ai>Cs-R)return!1;Ai<qs/2?Ae[ns]=1:Ai>Cs-Da/2?Ae[ns]=Cs-Da-2:Ae[ns]=Ai-qs/2},Js=function(ns){[Bt,Ft]=[Ft,Bt],$t=ns},ar=()=>{_n.apply(0,Bt)!==!1?Uo.apply(0,Ft)!==!1||$t||(Js(!0),ar()):$t?Ae.x=Ae.y=0:(Js(!0),ar())};return(Z&&!ie||this.len>1)&&Js(),ar(),Ae}getFixedPosition(m,C,A){let R=A.series,{chart:D,options:V,split:j}=this,Z=V.position,te=Z.relativeTo,ue=V.shared||R?.yAxis?.isRadial&&(te==="pane"||!te)?"plotBox":te,ie=ue==="chart"?D.renderer:D[ue]||D.getClipBox(R,!0);return{x:ie.x+(ie.width-m)*ni(Z.align)+Z.x,y:ie.y+(ie.height-C)*ni(Z.verticalAlign)+(!j&&Z.y||0)}}hide(m){let C=this;oo.clearTimeout(this.hideTimer),m=Bd(m,this.options.hideDelay),this.isHidden||(this.hideTimer=e0(function(){let A=C.getLabel();C.getLabel().animate({opacity:0},{duration:m&&150,complete:()=>{A.hide(),C.container&&C.container.remove()}}),C.isHidden=!0},m))}init(m,C){this.chart=m,this.options=C,this.crosshairs=[],this.isHidden=!0,this.split=C.split&&!m.inverted&&!m.polar,this.shared=C.shared||this.split,this.outside=Bd(C.outside,!!(m.scrollablePixelsX||m.scrollablePixelsY))}shouldStickOnContact(m){return!!(!this.followPointer&&this.options.stickOnContact&&(!m||this.pointer.inClass(m.target,"highcharts-tooltip")))}move(m,C,A,R){let{followPointer:D,options:V}=this,j=Di(!D&&!this.isHidden&&!V.fixed&&V.animation),Z=D||(this.len||0)>1,te={x:m,y:C};Z?te.anchorX=te.anchorY=NaN:(te.anchorX=A,te.anchorY=R),j.step=()=>this.drawTracker(),this.getLabel().animate(te,j)}refresh(m,C){let{chart:A,options:R,pointer:D,shared:V}=this,j=Rm(m),Z=j[0],te=R.format,ue=R.formatter||this.defaultFormatter,ie=A.styledMode,me=this.allowShared;if(!R.enabled||!Z.series)return;oo.clearTimeout(this.hideTimer),this.allowShared=!(!c1(m)&&m.series&&m.series.noSharedTooltip),me=me&&!this.allowShared,this.followPointer=!this.split&&Z.series.tooltipOptions.followPointer;let Ce=this.getAnchor(m,C),Ae=Ce[0],ke=Ce[1];V&&this.allowShared&&(D.applyInactiveState(j),j.forEach(tt=>tt.setState("hover")),Z.points=j),this.len=j.length;let Be=su(te)?Mu(te,Z,A):ue.call(Z,this);Z.points=void 0;let Pe=Z.series;if(this.distance=Bd(Pe.tooltipOptions.distance,16),Be===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(Be,j);else{let tt=Ae,dt=ke;if(C&&D.isDirectTouch&&(tt=C.chartX-A.plotLeft,dt=C.chartY-A.plotTop),!(A.polar||Pe.options.clip===!1||j.some(Ot=>D.isDirectTouch||Ot.series.shouldShowTooltip(tt,dt))))return void this.hide();{let Ot=this.getLabel(me&&this.tt||{});(!R.style.width||ie)&&Ot.css({width:(this.outside?this.getPlayingField():A.spacingBox).width+"px"}),Ot.attr({class:this.getClassName(Z),text:Be&&Be.join?Be.join(""):Be}),this.outside&&Ot.attr({x:lh(Ot.x||0,0,this.getPlayingField().width-(Ot.width||0)-1)}),ie||Ot.attr({stroke:R.borderColor||Z.color||Pe.color||"#666666"}),this.updatePosition({plotX:Ae,plotY:ke,negative:Z.negative,ttBelow:Z.ttBelow,series:Pe,h:Ce[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}op(this,"refresh")}renderSplit(m,C){let A=this,{chart:R,chart:{chartWidth:D,chartHeight:V,plotHeight:j,plotLeft:Z,plotTop:te,scrollablePixelsY:ue=0,scrollablePixelsX:ie,styledMode:me},distance:Ce,options:Ae,options:{fixed:ke,position:Be,positioner:Pe},pointer:tt}=A,{scrollLeft:dt=0,scrollTop:Ot=0}=R.scrollablePlotArea?.scrollingContainer||{},Nt=A.outside&&typeof ie!="number"?cf.documentElement.getBoundingClientRect():{left:dt,right:dt+D},Bt=A.getLabel(),Ft=this.renderer||R.renderer,$t=!!R.xAxis[0]?.opposite,{left:Hn,top:lo}=tt.getChartPosition(),_n=Pe||ke,Uo=te+Ot,Js=0,ar=j-ue,ns=function(Rr,gr,ui,gi=[0,0],Wr=!0){let Xa,Ti;if(ui.isHeader)Ti=$t?0:ar,Xa=lh(gi[0]-Rr/2,Nt.left,Nt.right-Rr-(A.outside?Hn:0));else if(ke&&ui){let Ll=A.getFixedPosition(Rr,gr,ui);Xa=Ll.x,Ti=Ll.y-Uo}else Ti=gi[1]-Uo,Xa=lh(Xa=Wr?gi[0]-Rr-Ce:gi[0]+Ce,Wr?Xa:Nt.left,Nt.right);return{x:Xa,y:Ti}};su(m)&&(m=[!1,m]);let Cs=m.slice(0,C.length+1).reduce(function(Rr,gr,ui){if(gr!==!1&&gr!==""){let gi=C[ui-1]||{isHeader:!0,plotX:C[0].plotX,plotY:j,series:{}},Wr=gi.isHeader,Xa=Wr?A:gi.series,Ti=Xa.tt=(function(Ef,Ud,rm){let mp=Ef,{isHeader:Fa,series:Hi}=Ud,Ha=Hi.tooltipOptions||Ae;if(!mp){let al={padding:Ha.padding,r:Ha.borderRadius};me||(al.fill=Ha.backgroundColor,al["stroke-width"]=Ha.borderWidth??(ke&&!Fa?0:1)),mp=Ft.label("",0,0,Ha[Fa?"headerShape":"shape"]||(ke&&!Fa?"rect":"callout"),void 0,void 0,Ha.useHTML).addClass(A.getClassName(Ud,!0,Fa)).attr(al).add(Bt)}return mp.isActive=!0,mp.attr({text:rm}),me||mp.css(Ha.style).attr({stroke:Ha.borderColor||Ud.color||Hi.color||"#333333"}),mp})(Xa.tt,gi,gr.toString()),Ll=Ti.getBBox(),$u=Ll.width+Ti.strokeWidth();Wr&&(Js=Ll.height,ar+=Js,$t&&(Uo-=Js));let{anchorX:$d,anchorY:pp}=(function(Ef){let Ud,rm,{isHeader:mp,plotX:Fa=0,plotY:Hi=0,series:Ha}=Ef;if(mp)Ud=Math.max(Z+Fa,Z),rm=te+j/2;else{let{xAxis:al,yAxis:ic}=Ha;Ud=al.pos+lh(Fa,-Ce,al.len+Ce),Ha.shouldShowTooltip(0,ic.pos-te+Hi,{ignoreX:!0})&&(rm=ic.pos+Hi)}return{anchorX:Ud=lh(Ud,Nt.left-Ce,Nt.right+Ce),anchorY:rm}})(gi);if(typeof pp=="number"){let Ef=Ll.height+1,Ud=(Pe||ns).call(A,$u,Ef,gi,[$d,pp]);Rr.push({align:_n?0:void 0,anchorX:$d,anchorY:pp,boxWidth:$u,point:gi,rank:Bd(Ud.rank,+!!Wr),size:Ef,target:Ud.y,tt:Ti,x:Ud.x})}else Ti.isActive=!1}return Rr},[]);!_n&&Cs.some(Rr=>{let{outside:gr}=A,ui=(gr?Hn:0)+Rr.anchorX;return ui<Nt.left&&ui+Rr.boxWidth<Nt.right||ui<Hn-Nt.left+Rr.boxWidth&&Nt.right-ui>ui})&&(Cs=Cs.map(Rr=>{let{x:gr,y:ui}=ns.call(this,Rr.boxWidth,Rr.size,Rr.point,[Rr.anchorX,Rr.anchorY],!1);return kE(Rr,{target:ui,x:gr})})),A.cleanSplit(),Up(Cs,ar);let qs={left:Hn,right:Hn};Cs.forEach(function(Rr){let{x:gr,boxWidth:ui,isHeader:gi}=Rr;!gi&&(A.outside&&Hn+gr<qs.left&&(qs.left=Hn+gr),!gi&&A.outside&&qs.left+ui>qs.right&&(qs.right=Hn+gr))}),Cs.forEach(function(Rr){let{x:gr,anchorX:ui,anchorY:gi,pos:Wr,point:{isHeader:Xa}}=Rr,Ti={visibility:Wr===void 0?"hidden":"inherit",x:gr,y:(Wr||0)+Uo+(ke&&Be.y||0),anchorX:ui,anchorY:gi};if(A.outside&&gr<ui){let Ll=Hn-qs.left;Ll>0&&(Xa||(Ti.x=gr+Ll,Ti.anchorX=ui+Ll),Xa&&(Ti.x=(qs.right-qs.left)/2,Ti.anchorX=ui+Ll))}Rr.tt.attr(Ti)});let{container:Da,outside:Ai,renderer:lu}=A;if(Ai&&Da&&lu){let{width:Rr,height:gr,x:ui,y:gi}=Bt.getBBox();lu.setSize(Rr+ui,gr+gi,!1),Da.style.left=qs.left+"px",Da.style.top=lo+"px"}Nv&&Bt.attr({opacity:Bt.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let m=this.chart,C=this.label,A=this.shared?m.hoverPoints:m.hoverPoint;if(!C||!A)return;let R={x:0,y:0,width:0,height:0},D=this.getAnchor(A),V=C.getBBox();D[0]+=m.plotLeft-(C.translateX||0),D[1]+=m.plotTop-(C.translateY||0),R.x=Math.min(0,D[0]),R.y=Math.min(0,D[1]),R.width=D[0]<0?Math.max(Math.abs(D[0]),V.width-D[0]):Math.max(Math.abs(D[0]),V.width),R.height=D[1]<0?Math.max(Math.abs(D[1]),V.height-Math.abs(D[1])):Math.max(Math.abs(D[1]),V.height),this.tracker?this.tracker.attr(R):(this.tracker=C.renderer.rect(R).addClass("highcharts-tracker").add(C),m.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(m){return m.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(m,C){let A=m.series,R=A.tooltipOptions,D=A.xAxis,V=D?.dateTime,j={isFooter:C,point:m},Z=R.xDateFormat||"",te=R[C?"footerFormat":"headerFormat"];return op(this,"headerFormatter",j,function(ue){if(V&&!Z&&Lv(m.key)&&(Z=V.getXDateFormat(m.key,R.dateTimeLabelFormats)),V&&Z){if(Lc(Z)){let ie=Z;El[0]=me=>A.chart.time.dateFormat(ie,me),Z="%0"}(m.tooltipDateKeys||["key"]).forEach(ie=>{te=te.replace(RegExp("point\\."+ie+"([ \\)}])"),`(point.${ie}:${Z})$1`)})}A.chart.styledMode&&(te=this.styledModeFormat(te)),ue.text=Mu(te,m,this.chart)}),j.text||""}update(m){this.destroy(),this.init(this.chart,La(!0,this.options,m))}updatePosition(m){let{chart:C,container:A,distance:R,options:D,pointer:V,renderer:j}=this,{height:Z=0,width:te=0}=this.getLabel(),{fixed:ue,positioner:ie}=D,{left:me,top:Ce,scaleX:Ae,scaleY:ke}=V.getChartPosition(),Be=(ie||ue&&this.getFixedPosition||this.getPosition).call(this,te,Z,m),Pe=Me.doc,tt=(m.plotX||0)+C.plotLeft,dt=(m.plotY||0)+C.plotTop,Ot;if(j&&A){if(ie||ue){let{scrollLeft:Nt=0,scrollTop:Bt=0}=C.scrollablePlotArea?.scrollingContainer||{};Be.x+=Nt+me-R,Be.y+=Bt+Ce-R}Ot=(D.borderWidth||0)+2*R+2,j.setSize(lh(te+Ot,0,Pe.documentElement.clientWidth)-1,Z+Ot,!1),(Ae!==1||ke!==1)&&(bc(A,{transform:`scale(${Ae}, ${ke})`}),tt*=Ae,dt*=ke),tt+=me-Be.x,dt+=Ce-Be.y}this.move(Math.round(Be.x),Math.round(Be.y||0),tt,dt)}}(function(Q){Q.compose=function(m){ml(Cl,"Core.Tooltip")&&Im(m,"afterInit",function(){let C=this.chart;C.options.tooltip&&(C.tooltip=new Q(C,C.options.tooltip,this))})}})(Kb||(Kb={}));let DE=Kb,{animObject:uf}=Aa,{defaultOptions:ME}=Jn,{format:u1}=Pr,{addEvent:df,crisp:$S,erase:Bv,extend:km,fireEvent:Rg,getNestedProperty:d1,isArray:US,isFunction:Bh,isNumber:Dm,isObject:hf,merge:oi,pick:gl,syncTimeout:sp,removeEvent:t0,uniqueKey:Mm}=oo;class kg{animateBeforeDestroy(){let m=this,C={x:m.startXPos,opacity:0},A=m.getGraphicalProps();A.singular.forEach(function(R){m[R]=m[R].animate(R==="dataLabel"?{x:m[R].startXPos,y:m[R].startYPos,opacity:0}:C)}),A.plural.forEach(function(R){m[R].forEach(function(D){D.element&&D.animate(km({x:m.startXPos},D.startYPos?{x:D.startXPos,y:D.startYPos}:{}))})})}applyOptions(m,C){let A=this.series,R=A.options.pointValKey||A.pointValKey;return km(this,m=kg.prototype.optionsToObject.call(this,m)),this.options=this.options?km(this.options,m):m,m.group&&delete this.group,m.dataLabels&&delete this.dataLabels,R&&(this.y=kg.prototype.getNestedProperty.call(this,R)),this.selected&&(this.state="select"),"name"in this&&C===void 0&&A.xAxis&&A.xAxis.hasNames&&(this.x=A.xAxis.nameToX(this)),this.x===void 0&&A?this.x=C??A.autoIncrement():Dm(m.x)&&A.options.relativeXValue?this.x=A.autoIncrement(m.x):typeof this.x=="string"&&(C??(C=A.chart.time.parse(this.x)),Dm(C)&&(this.x=C)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let m=this,C=m.series,A=C.chart,R=C.options.dataSorting,D=A.hoverPoints,V=uf(m.series.chart.renderer.globalAnimation),j=()=>{for(let Z in(m.graphic||m.graphics||m.dataLabel||m.dataLabels)&&(t0(m),m.destroyElements()),m)delete m[Z]};m.legendItem&&A.legend.destroyItem(m),D&&(m.setState(),Bv(D,m),D.length||(A.hoverPoints=null)),m===A.hoverPoint&&m.onMouseOut(),R?.enabled?(this.animateBeforeDestroy(),sp(j,V.duration)):j(),A.pointCount--}this.destroyed=!0}destroyElements(m){let C=this,A=C.getGraphicalProps(m);A.singular.forEach(function(R){C[R]=C[R].destroy()}),A.plural.forEach(function(R){C[R].forEach(function(D){D?.element&&D.destroy()}),delete C[R]})}firePointEvent(m,C,A){let R=this,D=this.series.options;R.manageEvent(m),m==="click"&&D.allowPointSelect&&(A=function(V){!R.destroyed&&R.select&&R.select(null,V.ctrlKey||V.metaKey||V.shiftKey)}),Rg(R,m,C,A)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone?.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(m){let C,A,R=this,D=[],V={singular:[],plural:[]};for((m=m||{graphic:1,dataLabel:1}).graphic&&D.push("graphic","connector"),m.dataLabel&&D.push("dataLabel","dataLabelPath","dataLabelUpper"),A=D.length;A--;)R[C=D[A]]&&V.singular.push(C);return["graphic","dataLabel"].forEach(function(j){let Z=j+"s";m[j]&&R[Z]&&V.plural.push(Z)}),V}getNestedProperty(m){if(m)return m.indexOf("custom.")===0?d1(m,this.options):this[m]}getZone(){let m=this.series,C=m.zones,A=m.zoneAxis||"y",R,D=0;for(R=C[0];this[A]>=R.value;)R=C[++D];return this.nonZonedColor||(this.nonZonedColor=this.color),R?.color&&!this.options.color?this.color=R.color:this.color=this.nonZonedColor,R}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(m,C,A){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=m,this.applyOptions(C,A),this.id??(this.id=Mm()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=m.options.nullInteraction),m.chart.pointCount++,Rg(this,"afterInit")}isValid(){return(Dm(this.x)||this.x instanceof Date)&&Dm(this.y)}optionsToObject(m){let C=this.series,A=C.options.keys,R=A||C.pointArrayMap||["y"],D=R.length,V={},j,Z=0,te=0;if(Dm(m)||m===null)V[R[0]]=m;else if(US(m))for(!A&&m.length>D&&((j=typeof m[0])=="string"?C.xAxis?.dateTime?V.x=C.chart.time.parse(m[0]):V.name=m[0]:j==="number"&&(V.x=m[0]),Z++);te<D;)A&&m[Z]===void 0||(R[te].indexOf(".")>0?kg.prototype.setNestedProperty(V,m[Z],R[te]):V[R[te]]=m[Z]),Z++,te++;else typeof m=="object"&&(V=m,m.dataLabels&&(C.hasDataLabels=()=>!0),m.marker&&(C._hasPointMarkers=!0));return V}pos(m,C=this.plotY){if(!this.destroyed){let{plotX:A,series:R}=this,{chart:D,xAxis:V,yAxis:j}=R,Z=0,te=0;if(Dm(A)&&Dm(C))return m&&(Z=V?V.pos:D.plotLeft,te=j?j.pos:D.plotTop),D.inverted&&V&&j?[j.len-C+te,V.len-A+Z]:[A+Z,C+te]}}resolveColor(){let m=this.series,C=m.chart.options.chart,A=m.chart.styledMode,R,D,V=C.colorCount,j;delete this.nonZonedColor,m.options.colorByPoint?(A||(R=(D=m.options.colors||m.chart.options.colors)[m.colorCounter],V=D.length),j=m.colorCounter,m.colorCounter++,m.colorCounter===V&&(m.colorCounter=0)):(A||(R=m.color),j=m.colorIndex),this.colorIndex=gl(this.options.colorIndex,j),this.color=gl(this.options.color,R)}setNestedProperty(m,C,A){return A.split(".").reduce(function(R,D,V,j){let Z=j.length-1===V;return R[D]=Z?C:hf(R[D],!0)?R[D]:{},R[D]},m),m}shouldDraw(){return!this.isNull}tooltipFormatter(m){let{chart:C,pointArrayMap:A=["y"],tooltipOptions:R}=this.series,{valueDecimals:D="",valuePrefix:V="",valueSuffix:j=""}=R;return C.styledMode&&(m=C.tooltip?.styledModeFormat(m)||m),A.forEach(Z=>{Z="{point."+Z,(V||j)&&(m=m.replace(RegExp(Z+"}","g"),V+Z+"}"+j)),m=m.replace(RegExp(Z+"}","g"),Z+":,."+D+"f}")}),u1(m,this,C)}update(m,C,A,R){let D,V=this,j=V.series,Z=V.graphic,te=j.chart,ue=j.options;function ie(){V.applyOptions(m);let me=Z&&V.hasMockGraphic,Ce=V.y===null?!me:me;Z&&Ce&&(V.graphic=Z.destroy(),delete V.hasMockGraphic),hf(m,!0)&&(Z?.element&&m&&m.marker&&m.marker.symbol!==void 0&&(V.graphic=Z.destroy()),m?.dataLabels&&V.dataLabel&&(V.dataLabel=V.dataLabel.destroy())),D=V.index;let Ae={};for(let ke of j.dataColumnKeys())Ae[ke]=V[ke];j.dataTable.setRow(Ae,D),ue.data[D]=hf(ue.data[D],!0)||hf(m,!0)?V.options:gl(m,ue.data[D]),j.isDirty=j.isDirtyData=!0,!j.fixedBox&&j.hasCartesianSeries&&(te.isDirtyBox=!0),ue.legendType==="point"&&(te.isDirtyLegend=!0),C&&te.redraw(A)}C=gl(C,!0),R===!1?ie():V.firePointEvent("update",{options:m},ie)}remove(m,C){this.series.removePoint(this.series.data.indexOf(this),m,C)}select(m,C){let A=this,R=A.series,D=R.chart;m=gl(m,!A.selected),this.selectedStaging=m,A.firePointEvent(m?"select":"unselect",{accumulate:C},function(){A.selected=A.options.selected=m,R.options.data[R.data.indexOf(A)]=A.options,A.setState(m&&"select"),C||D.getSelectedPoints().forEach(function(V){let j=V.series;V.selected&&V!==A&&(V.selected=V.options.selected=!1,j.options.data[j.data.indexOf(V)]=V.options,V.setState(D.hoverPoints&&j.options.inactiveOtherPoints?"inactive":""),V.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(m){let{inverted:C,pointer:A}=this.series.chart;A&&(m=m?A.normalize(m):A.getChartCoordinatesFromPoint(this,C),A.runPointActions(m,this))}onMouseOut(){let m=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(m.hoverPoints||[]).forEach(function(C){C.setState()}),m.hoverPoints=m.hoverPoint=null}manageEvent(m){let C=oi(this.series.options.point,this.options),A=C.events?.[m];Bh(A)&&(!this.hcEvents?.[m]||this.hcEvents?.[m]?.map(R=>R.fn).indexOf(A)===-1)?(this.importedUserEvent?.(),this.importedUserEvent=df(this,m,A),this.hcEvents&&(this.hcEvents[m].userEvent=!0)):this.importedUserEvent&&!A&&this.hcEvents?.[m]&&this.hcEvents?.[m].userEvent&&(t0(this,m),delete this.hcEvents[m],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(m,C){let A=this.series,R=this.state,D=A.options.states[m||"normal"]||{},V=ME.plotOptions[A.type].marker&&A.options.marker,j=V&&V.enabled===!1,Z=V?.states?.[m||"normal"]||{},te=Z.enabled===!1,ue=this.marker||{},ie=A.chart,me=V&&A.markerAttribs,Ce=A.halo,Ae,ke,Be,Pe=A.stateMarkerGraphic,tt;if((m=m||"")===this.state&&!C||this.selected&&m!=="select"||D.enabled===!1||m&&(te||j&&Z.enabled===!1)||m&&ue.states&&ue.states[m]&&ue.states[m].enabled===!1)return;if(this.state=m,me&&(Ae=A.markerAttribs(this,m)),this.graphic&&!this.hasMockGraphic){if(R&&this.graphic.removeClass("highcharts-point-"+R),m&&this.graphic.addClass("highcharts-point-"+m),!ie.styledMode){ke=A.pointAttribs(this,m),Be=gl(ie.options.chart.animation,D.animation);let Bt=ke.opacity;A.options.inactiveOtherPoints&&Dm(Bt)&&(this.dataLabels||[]).forEach(function(Ft){Ft&&!Ft.hasClass("highcharts-data-label-hidden")&&(Ft.animate({opacity:Bt},Be),Ft.connector&&Ft.connector.animate({opacity:Bt},Be))}),this.graphic.animate(ke,Be)}Ae&&this.graphic.animate(Ae,gl(ie.options.chart.animation,Z.animation,V.animation)),Pe&&Pe.hide()}else m&&Z&&(tt=ue.symbol||A.symbol,Pe&&Pe.currentSymbol!==tt&&(Pe=Pe.destroy()),Ae&&(Pe?Pe[C?"animate":"attr"]({x:Ae.x,y:Ae.y}):tt&&(A.stateMarkerGraphic=Pe=ie.renderer.symbol(tt,Ae.x,Ae.y,Ae.width,Ae.height,oi(V,Z)).add(A.markerGroup),Pe.currentSymbol=tt)),!ie.styledMode&&Pe&&this.state!=="inactive"&&Pe.attr(A.pointAttribs(this,m))),Pe&&(Pe[m&&this.isInside?"show":"hide"](),Pe.element.point=this,Pe.addClass(this.getClassName(),!0));let dt=D.halo,Ot=this.graphic||Pe,Nt=Ot?.visibility||"inherit";dt?.size&&Ot&&Nt!=="hidden"&&!this.isCluster?(Ce||(A.halo=Ce=ie.renderer.path().add(Ot.parentGroup)),Ce.show()[C?"animate":"attr"]({d:this.haloPath(dt.size)}),Ce.attr({class:"highcharts-halo highcharts-color-"+gl(this.colorIndex,A.colorIndex)+(this.className?" "+this.className:""),visibility:Nt,zIndex:-1}),Ce.point=this,ie.styledMode||Ce.attr(km({fill:this.color||A.color,"fill-opacity":dt.opacity},wr.filterUserAttributes(dt.attributes||{})))):Ce?.point?.haloPath&&!Ce.point.destroyed&&Ce.animate({d:Ce.point.haloPath(0)},null,Ce.hide),Rg(this,"afterSetState",{state:m})}haloPath(m){let C=this.pos();return C?this.series.chart.renderer.symbols.circle($S(C[0],1)-m,C[1]-m,2*m,2*m):[]}}let jp=kg,{parse:rp}=or,{charts:Vh,composed:Ei,isTouchDevice:zS}=Me,{addEvent:ai,attr:Vv,css:qa,extend:Fh,find:xc,fireEvent:Pu,isNumber:Dg,isObject:Fv,objectEach:h1,offset:PE,pick:wl,pushUnique:ff,splat:rl}=oo;class wi{applyInactiveState(m=[]){let C=[];for(let A of(m.forEach(R=>{let D=R.series;C.push(D),D.linkedParent&&C.push(D.linkedParent),D.linkedSeries&&C.push.apply(C,D.linkedSeries),D.navigatorSeries&&C.push(D.navigatorSeries),D.boosted&&D.markerGroup&&C.push.apply(C,this.chart.series.filter(V=>V.markerGroup===D.markerGroup))}),this.chart.series)){let R=A.options;R.states?.inactive?.enabled!==!1&&(C.indexOf(A)===-1?A.setState("inactive",!0):R.inactiveOtherPoints&&A.setAllPointsToState("inactive"))}}destroy(){let m=this;this.eventsToUnbind.forEach(C=>C()),this.eventsToUnbind=[],!Me.chartCount&&(wi.unbindDocumentMouseUp.forEach(C=>C.unbind()),wi.unbindDocumentMouseUp.length=0,wi.unbindDocumentTouchEnd&&(wi.unbindDocumentTouchEnd=wi.unbindDocumentTouchEnd())),clearInterval(m.tooltipTimeout),h1(m,function(C,A){m[A]=void 0})}getSelectionMarkerAttrs(m,C){let A={args:{chartX:m,chartY:C},attrs:{},shapeType:"rect"};return Pu(this,"getSelectionMarkerAttrs",A,R=>{let D,{chart:V,zoomHor:j,zoomVert:Z}=this,{mouseDownX:te=0,mouseDownY:ue=0}=V,ie=R.attrs;ie.x=V.plotLeft,ie.y=V.plotTop,ie.width=j?1:V.plotWidth,ie.height=Z?1:V.plotHeight,j&&(ie.width=Math.max(1,Math.abs(D=m-te)),ie.x=(D>0?0:D)+te),Z&&(ie.height=Math.max(1,Math.abs(D=C-ue)),ie.y=(D>0?0:D)+ue)}),A}drag(m){let{chart:C}=this,{mouseDownX:A=0,mouseDownY:R=0}=C,{panning:D,panKey:V,selectionMarkerFill:j}=C.options.chart,Z=C.plotLeft,te=C.plotTop,ue=C.plotWidth,ie=C.plotHeight,me=Fv(D)?D.enabled:D,Ce=V&&m[`${V}Key`],Ae=m.chartX,ke=m.chartY,Be,Pe=this.selectionMarker;if((!Pe||!Pe.touch)&&(Ae<Z?Ae=Z:Ae>Z+ue&&(Ae=Z+ue),ke<te?ke=te:ke>te+ie&&(ke=te+ie),this.hasDragged=Math.sqrt(Math.pow(A-Ae,2)+Math.pow(R-ke,2)),this.hasDragged>10)){Be=C.isInsidePlot(A-Z,R-te,{visiblePlotOnly:!0});let{shapeType:tt,attrs:dt}=this.getSelectionMarkerAttrs(Ae,ke);this.hasZoom&&Be&&!Ce&&!Pe&&(this.selectionMarker=Pe=C.renderer[tt](),Pe.attr({class:"highcharts-selection-marker",zIndex:7}).add(),C.styledMode||Pe.attr({fill:j||rp("#334eff").setOpacity(.25).get()})),Pe&&Pe.attr(dt),Be&&!Pe&&me&&C.pan(m,D)}}dragStart(m){let C=this.chart;C.mouseIsDown=m.type,C.cancelClick=!1,C.mouseDownX=m.chartX,C.mouseDownY=m.chartY}getSelectionBox(m){let C={args:{marker:m},result:m.getBBox()};return Pu(this,"getSelectionBox",C),C.result}drop(m){let C,{chart:A,selectionMarker:R}=this;for(let D of A.axes)D.isPanning&&(D.isPanning=!1,(D.options.startOnTick||D.options.endOnTick||D.series.some(V=>V.boosted))&&(D.forceRedraw=!0,D.setExtremes(D.userMin,D.userMax,!1),C=!0));if(C&&A.redraw(),R&&m){if(this.hasDragged){let D=this.getSelectionBox(R);A.transform({axes:A.axes.filter(V=>V.zoomEnabled&&(V.coll==="xAxis"&&this.zoomX||V.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:m,xAxis:[],yAxis:[],...D},from:D})}Dg(A.index)&&(this.selectionMarker=R.destroy())}A&&Dg(A.index)&&(qa(A.container,{cursor:A._cursor}),A.cancelClick=this.hasDragged>10,A.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(m,C,A){let R;return m.forEach(function(D){let V=!(D.noSharedTooltip&&C)&&0>D.options.findNearestPointBy.indexOf("y"),j=D.searchPoint(A,V);Fv(j,!0)&&j.series&&(!Fv(R,!0)||(function(Z,te){let ue=Z.distX-te.distX,ie=Z.dist-te.dist,me=te.series.group?.zIndex-Z.series.group?.zIndex;return ue!==0&&C?ue:ie!==0?ie:me!==0?me:Z.series.index>te.series.index?-1:1})(R,j)>0)&&(R=j)}),R}getChartCoordinatesFromPoint(m,C){let{xAxis:A,yAxis:R}=m.series,D=m.shapeArgs;if(A&&R){let V=m.clientX??m.plotX??0,j=m.plotY||0;return m.isNode&&D&&Dg(D.x)&&Dg(D.y)&&(V=D.x,j=D.y),C?{chartX:R.len+R.pos-j,chartY:A.len+A.pos-V}:{chartX:V+A.pos,chartY:j+R.pos}}if(D?.x&&D.y)return{chartX:D.x,chartY:D.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:m}=this.chart,C=PE(m);this.chartPosition={left:C.left,top:C.top,scaleX:1,scaleY:1};let{offsetHeight:A,offsetWidth:R}=m;return R>2&&A>2&&(this.chartPosition.scaleX=C.width/R,this.chartPosition.scaleY=C.height/A),this.chartPosition}getCoordinates(m){let C={xAxis:[],yAxis:[]};for(let A of this.chart.axes)C[A.isXAxis?"xAxis":"yAxis"].push({axis:A,value:A.toValue(m[A.horiz?"chartX":"chartY"])});return C}getHoverData(m,C,A,R,D,V){let j=[],Z=function(Ce){return Ce.visible&&!(!D&&Ce.directTouch)&&wl(Ce.options.enableMouseTracking,!0)},te=C,ue,ie={chartX:V?V.chartX:void 0,chartY:V?V.chartY:void 0,shared:D};Pu(this,"beforeGetHoverData",ie),ue=te&&!te.stickyTracking?[te]:A.filter(Ce=>Ce.stickyTracking&&(ie.filter||Z)(Ce));let me=R&&m||!V?m:this.findNearestKDPoint(ue,D,V);return te=me?.series,me&&(D&&!te.noSharedTooltip?(ue=A.filter(function(Ce){return ie.filter?ie.filter(Ce):Z(Ce)&&!Ce.noSharedTooltip})).forEach(function(Ce){let Ae=Ce.options?.nullInteraction,ke=xc(Ce.points,function(Be){return Be.x===me.x&&(!Be.isNull||!!Ae)});Fv(ke)&&(Ce.boosted&&Ce.boost&&(ke=Ce.boost.getPoint(ke)),j.push(ke))}):j.push(me)),Pu(this,"afterGetHoverData",ie={hoverPoint:me}),{hoverPoint:ie.hoverPoint,hoverSeries:te,hoverPoints:j}}getPointFromEvent(m){let C=m.target,A;for(;C&&!A;)A=C.point,C=C.parentNode;return A}onTrackerMouseOut(m){let C=this.chart,A=m.relatedTarget,R=C.hoverSeries;this.isDirectTouch=!1,!R||!A||R.stickyTracking||this.inClass(A,"highcharts-tooltip")||this.inClass(A,"highcharts-series-"+R.index)&&this.inClass(A,"highcharts-tracker")||R.onMouseOut()}inClass(m,C){let A=m,R;for(;A;){if(R=Vv(A,"class")){if(R.indexOf(C)!==-1)return!0;if(R.indexOf("highcharts-container")!==-1)return!1}A=A.parentElement}}constructor(m,C){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=C,this.chart=m,this.runChartClick=!!C.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),Pu(this,"afterInit")}normalize(m,C){let A=m.touches,R=A?A.length?A.item(0):wl(A.changedTouches,m.changedTouches)[0]:m;C||(C=this.getChartPosition());let D=R.pageX-C.left,V=R.pageY-C.top;return Fh(m,{chartX:Math.round(D/=C.scaleX),chartY:Math.round(V/=C.scaleY)})}onContainerClick(m){let C=this.chart,A=C.hoverPoint,R=this.normalize(m),D=C.plotLeft,V=C.plotTop;!C.cancelClick&&(A&&this.inClass(R.target,"highcharts-tracker")?(Pu(A.series,"click",Fh(R,{point:A})),C.hoverPoint&&A.firePointEvent("click",R)):(Fh(R,this.getCoordinates(R)),C.isInsidePlot(R.chartX-D,R.chartY-V,{visiblePlotOnly:!0})&&Pu(C,"click",R)))}onContainerMouseDown(m){let C=(1&(m.buttons||m.button))==1;m=this.normalize(m),Me.isFirefox&&m.button!==0&&this.onContainerMouseMove(m),(m.button===void 0||C)&&(this.zoomOption(m),C&&m.preventDefault?.(),this.dragStart(m))}onContainerMouseLeave(m){let{pointer:C}=Vh[wl(wi.hoverChartIndex,-1)]||{};m=this.normalize(m),this.onContainerMouseMove(m),C&&!this.inClass(m.relatedTarget,"highcharts-tooltip")&&(C.reset(),C.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(m){let C=this.chart,A=C.tooltip,R=this.normalize(m);this.setHoverChartIndex(m),(C.mouseIsDown==="mousedown"||this.touchSelect(R))&&this.drag(R),!C.exporting?.openMenu&&(this.inClass(R.target,"highcharts-tracker")||C.isInsidePlot(R.chartX-C.plotLeft,R.chartY-C.plotTop,{visiblePlotOnly:!0}))&&!A?.shouldStickOnContact(R)&&(this.inClass(R.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(R))}onDocumentTouchEnd(m){this.onDocumentMouseUp(m)}onContainerTouchMove(m){this.touchSelect(m)?this.onContainerMouseMove(m):this.touch(m)}onContainerTouchStart(m){this.touchSelect(m)?this.onContainerMouseDown(m):(this.zoomOption(m),this.touch(m,!0))}onDocumentMouseMove(m){let C=this.chart,A=C.tooltip,R=this.chartPosition,D=this.normalize(m,R);!R||C.isInsidePlot(D.chartX-C.plotLeft,D.chartY-C.plotTop,{visiblePlotOnly:!0})||A?.shouldStickOnContact(D)||D.target!==C.container.ownerDocument&&this.inClass(D.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(m){m?.touches&&this.hasPinchMoved&&m?.preventDefault?.(),Vh[wl(wi.hoverChartIndex,-1)]?.pointer?.drop(m)}pinch(m){let C=this,{chart:A,hasZoom:R,lastTouches:D}=C,V=[].map.call(m.touches||[],ie=>C.normalize(ie)),j=V.length,Z=j===1&&(C.inClass(m.target,"highcharts-tracker")&&A.runTrackerClick||C.runChartClick),te=A.tooltip,ue=j===1&&wl(te?.options.followTouchMove,!0);j>1?C.initiated=!0:ue&&(C.initiated=!1),R&&C.initiated&&!Z&&m.cancelable!==!1&&m.preventDefault(),m.type==="touchstart"?(C.pinchDown=V,C.res=!0,A.mouseDownX=m.chartX):ue?this.runPointActions(C.normalize(m)):D&&(Pu(A,"touchpan",{originalEvent:m,touches:V},()=>{let ie=me=>{let Ce=me[0],Ae=me[1]||Ce;return{x:Ce.chartX,y:Ce.chartY,width:Ae.chartX-Ce.chartX,height:Ae.chartY-Ce.chartY}};A.transform({axes:A.axes.filter(me=>me.zoomEnabled&&(this.zoomHor&&me.horiz||this.zoomVert&&!me.horiz)),to:ie(V),from:ie(D),trigger:m.type})}),C.res&&(C.res=!1,this.reset(!1,0))),C.lastTouches=V}reset(m,C){let A=this.chart,R=A.hoverSeries,D=A.hoverPoint,V=A.hoverPoints,j=A.tooltip,Z=j?.shared?V:D;m&&Z&&rl(Z).forEach(function(te){te.series.isCartesian&&te.plotX===void 0&&(m=!1)}),m?j&&Z&&rl(Z).length&&(j.refresh(Z),j.shared&&V?V.forEach(function(te){te.setState(te.state,!0),te.series.isCartesian&&(te.series.xAxis.crosshair&&te.series.xAxis.drawCrosshair(null,te),te.series.yAxis.crosshair&&te.series.yAxis.drawCrosshair(null,te))}):D&&(D.setState(D.state,!0),A.axes.forEach(function(te){te.crosshair&&D.series[te.coll]===te&&te.drawCrosshair(null,D)}))):(D&&D.onMouseOut(),V&&V.forEach(function(te){te.setState()}),R&&R.onMouseOut(),j&&j.hide(C),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),A.axes.forEach(function(te){te.hideCrosshair()}),A.hoverPoints=A.hoverPoint=void 0)}runPointActions(m,C,A){let R=this.chart,D=R.series,V=R.tooltip?.options.enabled?R.tooltip:void 0,j=!!V&&V.shared,Z=C||R.hoverPoint,te=Z?.series||R.hoverSeries,ue=(!m||m.type!=="touchmove")&&(!!C||te?.directTouch&&this.isDirectTouch),ie=this.getHoverData(Z,te,D,ue,j,m);Z=ie.hoverPoint,te=ie.hoverSeries;let me=ie.hoverPoints,Ce=te?.tooltipOptions.followPointer&&!te.tooltipOptions.split,Ae=j&&te&&!te.noSharedTooltip;if(Z&&(A||Z!==R.hoverPoint||V?.isHidden)){if((R.hoverPoints||[]).forEach(function(ke){me.indexOf(ke)===-1&&ke.setState()}),R.hoverSeries!==te&&te.onMouseOver(),this.applyInactiveState(me),(me||[]).forEach(function(ke){ke.setState("hover")}),R.hoverPoint&&R.hoverPoint.firePointEvent("mouseOut"),!Z.series)return;R.hoverPoints=me,R.hoverPoint=Z,Z.firePointEvent("mouseOver",void 0,()=>{V&&Z&&V.refresh(Ae?me:Z,m)})}else if(Ce&&V&&!V.isHidden){let ke=V.getAnchor([{}],m);R.isInsidePlot(ke[0],ke[1],{visiblePlotOnly:!0})&&V.updatePosition({plotX:ke[0],plotY:ke[1]})}this.unDocMouseMove||(this.unDocMouseMove=ai(R.container.ownerDocument,"mousemove",ke=>Vh[wi.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(ke)),this.eventsToUnbind.push(this.unDocMouseMove)),R.axes.forEach(function(ke){let Be,Pe=ke.crosshair?.snap??!0;Pe&&((Be=R.hoverPoint)&&Be.series[ke.coll]===ke||(Be=xc(me,tt=>tt.series?.[ke.coll]===ke))),Be||!Pe?ke.drawCrosshair(m,Be):ke.hideCrosshair()})}setDOMEvents(){let m=this.chart.container,C=m.ownerDocument;m.onmousedown=this.onContainerMouseDown.bind(this),m.onmousemove=this.onContainerMouseMove.bind(this),m.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(ai(m,"mouseenter",this.onContainerMouseEnter.bind(this)),ai(m,"mouseleave",this.onContainerMouseLeave.bind(this))),wi.unbindDocumentMouseUp.some(R=>R.doc===C)||wi.unbindDocumentMouseUp.push({doc:C,unbind:ai(C,"mouseup",this.onDocumentMouseUp.bind(this))});let A=this.chart.renderTo.parentElement;for(;A&&A.tagName!=="BODY";)this.eventsToUnbind.push(ai(A,"scroll",()=>{delete this.chartPosition})),A=A.parentElement;this.eventsToUnbind.push(ai(m,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),ai(m,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),wi.unbindDocumentTouchEnd||(wi.unbindDocumentTouchEnd=ai(C,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),ai(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!zS)return;let m=this.pointerCaptureEventsToUnbind,C=this.chart,A=C.container,R=wl(C.options.tooltip?.followTouchMove,!0)&&C.series.some(D=>D.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&R?(m.push(ai(A,"pointerdown",D=>{D.target?.hasPointerCapture(D.pointerId)&&D.target?.releasePointerCapture(D.pointerId)}),ai(A,"pointermove",D=>{C.pointer?.getPointFromEvent(D)?.onMouseOver(D)})),C.styledMode||qa(A,{"touch-action":"none"}),A.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!R&&(m.forEach(D=>D()),m.length=0,C.styledMode||qa(A,{"touch-action":wl(C.options.chart.style?.["touch-action"],"manipulation")}),A.className=A.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(m){let C=this.chart,A=Me.charts[wl(wi.hoverChartIndex,-1)];if(A&&A!==C){let R={relatedTarget:C.container};m&&!m?.relatedTarget&&Object.assign({},m,R),A.pointer?.onContainerMouseLeave(m||R)}A?.mouseIsDown||(wi.hoverChartIndex=C.index)}touch(m,C){let A,{chart:R,pinchDown:D=[]}=this;this.setHoverChartIndex(),(m=this.normalize(m)).touches.length===1?R.isInsidePlot(m.chartX-R.plotLeft,m.chartY-R.plotTop,{visiblePlotOnly:!0})&&!R.exporting?.openMenu?(C&&this.runPointActions(m),m.type==="touchmove"&&(this.hasPinchMoved=A=!!D[0]&&Math.pow(D[0].chartX-m.chartX,2)+Math.pow(D[0].chartY-m.chartY,2)>=16),wl(A,!0)&&this.pinch(m)):C&&this.reset():m.touches.length===2&&this.pinch(m)}touchSelect(m){return!!(this.chart.zooming.singleTouch&&m.touches&&m.touches.length===1)}zoomOption(m){let C=this.chart,A=C.inverted,R=C.zooming.type||"",D,V;/touch/.test(m.type)&&(R=wl(C.zooming.pinchType,R)),this.zoomX=D=/x/.test(R),this.zoomY=V=/y/.test(R),this.zoomHor=D&&!A||V&&A,this.zoomVert=V&&!A||D&&A,this.hasZoom=D||V}}wi.unbindDocumentMouseUp=[],(function(Q){Q.compose=function(m){ff(Ei,"Core.Pointer")&&ai(m,"beforeRender",function(){this.pointer=new Q(this,this.options)})}})(wi||(wi={}));let Yb=wi;(function(Q){Q.setLength=function(m,C,A){return Array.isArray(m)?(m.length=C,m):m[A?"subarray":"slice"](0,C)},Q.splice=function(m,C,A,R,D=[]){if(Array.isArray(m))return Array.isArray(D)||(D=Array.from(D)),{removed:m.splice(C,A,...D),array:m};let V=Object.getPrototypeOf(m).constructor,j=m[R?"subarray":"slice"](C,C+A),Z=new V(m.length-A+D.length);return Z.set(m.subarray(0,C),0),Z.set(D,C),Z.set(m.subarray(C+A),C+D.length),{removed:j,array:Z}}})(B||(B={}));let{setLength:Xb,splice:Jb}=B,{fireEvent:n0,objectEach:Nu,uniqueKey:o0}=oo,J=class{constructor(Q={}){this.autoId=!Q.id,this.columns={},this.id=Q.id||o0(),this.modified=this,this.rowCount=0,this.versionTag=o0();let m=0;Nu(Q.columns||{},(C,A)=>{this.columns[A]=C.slice(),m=Math.max(m,C.length)}),this.applyRowCount(m)}applyRowCount(Q){this.rowCount=Q,Nu(this.columns,(m,C)=>{m.length!==Q&&(this.columns[C]=Xb(m,Q))})}deleteRows(Q,m=1){if(m>0&&Q<this.rowCount){let C=0;Nu(this.columns,(A,R)=>{this.columns[R]=Jb(A,Q,m).array,C=A.length}),this.rowCount=C}n0(this,"afterDeleteRows",{rowIndex:Q,rowCount:m}),this.versionTag=o0()}getColumn(Q,m){return this.columns[Q]}getColumns(Q,m){return(Q||Object.keys(this.columns)).reduce((C,A)=>(C[A]=this.columns[A],C),{})}getRow(Q,m){return(m||Object.keys(this.columns)).map(C=>this.columns[C]?.[Q])}setColumn(Q,m=[],C=0,A){this.setColumns({[Q]:m},C,A)}setColumns(Q,m,C){let A=this.rowCount;Nu(Q,(R,D)=>{this.columns[D]=R.slice(),A=R.length}),this.applyRowCount(A),C?.silent||(n0(this,"afterSetColumns"),this.versionTag=o0())}setRow(Q,m=this.rowCount,C,A){let{columns:R}=this,D=C?this.rowCount+1:m+1;Nu(Q,(V,j)=>{let Z=R[j]||A?.addColumns!==!1&&Array(D);Z&&(C?Z=Jb(Z,m,0,!0,[V]).array:Z[m]=V,R[j]=Z)}),D>this.rowCount&&this.applyRowCount(D),A?.silent||(n0(this,"afterSetRows"),this.versionTag=o0())}},{extend:ae,merge:Ie,pick:qe}=oo;(function(Q){function m(C,A,R){let D=this.legendItem=this.legendItem||{},{chart:V,options:j}=this,{baseline:Z=0,symbolWidth:te,symbolHeight:ue}=C,ie=this.symbol||"circle",me=ue/2,Ce=V.renderer,Ae=D.group,ke=Z-Math.round((C.fontMetrics?.b||ue)*(R?.4:.3)),Be={},Pe,tt=j.marker,dt=0;if(V.styledMode||(Be["stroke-width"]=Math.min(j.lineWidth||0,24),j.dashStyle?Be.dashstyle=j.dashStyle:j.linecap!=="square"&&(Be["stroke-linecap"]="round")),D.line=Ce.path().addClass("highcharts-graph").attr(Be).add(Ae),R&&(D.area=Ce.path().addClass("highcharts-area").add(Ae)),Be["stroke-linecap"]&&(dt=Math.min(D.line.strokeWidth(),te)/2),te){let Ot=[["M",dt,ke],["L",te-dt,ke]];D.line.attr({d:Ot}),D.area?.attr({d:[...Ot,["L",te-dt,Z],["L",dt,Z]]})}if(tt&&tt.enabled!==!1&&te){let Ot=Math.min(qe(tt.radius,me),me);ie.indexOf("url")===0&&(tt=Ie(tt,{width:ue,height:ue}),Ot=0),D.symbol=Pe=Ce.symbol(ie,te/2-Ot,ke-Ot,2*Ot,2*Ot,ae({context:"legend"},tt)).addClass("highcharts-point").add(Ae),Pe.isMarker=!0}}Q.areaMarker=function(C,A){m.call(this,C,A,!0)},Q.lineMarker=m,Q.rectangle=function(C,A){let R=A.legendItem||{},D=C.options,V=C.symbolHeight,j=D.squareSymbol,Z=j?V:C.symbolWidth;R.symbol=this.chart.renderer.rect(j?(C.symbolWidth-V)/2:0,C.baseline-V+1,Z,V,qe(C.options.symbolRadius,V/2)).addClass("highcharts-point").attr({zIndex:3}).add(R.group)}})(z||(z={}));let St=z,{defaultOptions:cn}=Jn,{extend:ao,extendClass:Go,merge:zs}=oo;(function(Q){function m(C,A){let R=cn.plotOptions||{},D=A.defaultOptions,V=A.prototype;return V.type=C,V.pointClass||(V.pointClass=jp),!Q.seriesTypes[C]&&(D&&(R[C]=D),Q.seriesTypes[C]=A,!0)}Q.seriesTypes=Me.seriesTypes,Q.registerSeriesType=m,Q.seriesType=function(C,A,R,D,V){let j=cn.plotOptions||{};if(A=A||"",j[C]=zs(j[A],R),delete Q.seriesTypes[C],m(C,Go(Q.seriesTypes[A]||id,D)),Q.seriesTypes[C].prototype.type=C,V){class Z extends jp{}ao(Z.prototype,V),Q.seriesTypes[C].prototype.pointClass=Z}return Q.seriesTypes[C]}})(U||(U={}));let Ss=U,{animObject:Vi,setAnimation:da}=Aa,{defaultOptions:Za}=Jn,{registerEventOptions:Lu}=bl,{svg:Wp,win:Gp}=Me,{seriesTypes:ru}=Ss,{format:f1}=Pr,{arrayMax:Pm,arrayMin:Qb,clamp:Nm,correctFloat:Mg,crisp:s0,defined:Ml,destroyObjectProperties:NE,diffObjects:LE,erase:Nr,error:_i,extend:Ka,find:rd,fireEvent:Ya,getClosestDistance:ey,getNestedProperty:ty,insertItem:ny,isArray:BE,isNumber:vl,isString:Lm,merge:oy,objectEach:VE,pick:jr,removeEvent:Pl,syncTimeout:ip}=oo;class Vd{constructor(){this.zoneAxis="y"}init(m,C){let A;Ya(this,"init",{options:C}),this.dataTable??(this.dataTable=new J);let R=m.series;this.eventsToUnbind=[],this.chart=m,this.options=this.setOptions(C);let D=this.options,V=D.visible!==!1;this.linkedSeries=[],this.bindAxes(),Ka(this,{name:D.name,state:"",visible:V,selected:D.selected===!0}),Lu(this,D),(D.events?.click||D.point?.events?.click||D.allowPointSelect)&&(m.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(m.hasCartesianSeries=!0),R.length&&(A=R[R.length-1]),this._i=jr(A?._i,-1)+1,this.opacity=this.options.opacity,m.orderItems("series",ny(this,R)),D.dataSorting?.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(D.data,!1),Ya(this,"afterInit")}is(m){return ru[m]&&this instanceof ru[m]}bindAxes(){let m,C=this,A=C.options,R=C.chart;Ya(this,"bindAxes",null,function(){(C.axisTypes||[]).forEach(function(D){(R[D]||[]).forEach(function(V){m=V.options,(jr(A[D],0)===V.index||A[D]!==void 0&&A[D]===m.id)&&(ny(C,V.series),C[D]=V,V.isDirty=!0)}),C[D]||C.optionalAxis===D||_i(18,!0,R)})}),Ya(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(m,C){let A=m.marker,R=C.marker||{};return A&&(R.enabled&&!A.enabled||R.symbol!==A.symbol||R.height!==A.height||R.width!==A.width)}autoIncrement(m){let C,A=this.options,{pointIntervalUnit:R,relativeXValue:D}=this.options,V=this.chart.time,j=this.xIncrement??V.parse(A.pointStart)??0;if(this.pointInterval=C=jr(this.pointInterval,A.pointInterval,1),D&&vl(m)&&(C*=m),R){let Z=V.toParts(j);R==="day"?Z[2]+=C:R==="month"?Z[1]+=C:R==="year"&&(Z[0]+=C),C=V.makeTime.apply(V,Z)-j}return D&&vl(m)?j+C:(this.xIncrement=j+C,j)}setDataSortingOptions(){let m=this.options;Ka(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Ml(m.pointRange)||(m.pointRange=1)}setOptions(m){let C,A=this.chart,R=A.options.plotOptions,D=A.userOptions||{},V=oy(m),j=A.styledMode,Z={plotOptions:R,userOptions:V};Ya(this,"setOptions",Z);let te=Z.plotOptions[this.type],ue=D.plotOptions||{},ie=ue.series||{},me=Za.plotOptions[this.type]||{},Ce=ue[this.type]||{};te.dataLabels=this.mergeArrays(me.dataLabels,te.dataLabels),this.userOptions=Z.userOptions;let Ae=oy(te,R.series,Ce,V);this.tooltipOptions=oy(Za.tooltip,Za.plotOptions.series?.tooltip,me?.tooltip,A.userOptions.tooltip,ue.series?.tooltip,Ce.tooltip,V.tooltip),this.stickyTracking=jr(V.stickyTracking,Ce.stickyTracking,ie.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||Ae.stickyTracking),te.marker===null&&delete Ae.marker,this.zoneAxis=Ae.zoneAxis||"y";let ke=this.zones=(Ae.zones||[]).map(Be=>({...Be}));return(Ae.negativeColor||Ae.negativeFillColor)&&!Ae.zones&&(C={value:Ae[this.zoneAxis+"Threshold"]||Ae.threshold||0,className:"highcharts-negative"},j||(C.color=Ae.negativeColor,C.fillColor=Ae.negativeFillColor),ke.push(C)),ke.length&&Ml(ke[ke.length-1].value)&&ke.push(j?{}:{color:this.color,fillColor:this.fillColor}),Ya(this,"afterSetOptions",{options:Ae}),Ae}getName(){return this.options.name??f1(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(m,C,A){let R,D,V=this.chart,j=`${m}Index`,Z=`${m}Counter`,te=A?.length||V.options.chart.colorCount;!C&&(Ml(D=jr(m==="color"?this.options.colorIndex:void 0,this[j]))?R=D:(V.series.length||(V[Z]=0),R=V[Z]%te,V[Z]+=1),A&&(C=A[R])),R!==void 0&&(this[j]=R),this[m]=C}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||Za.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let m=this.options.marker;this.getCyclic("symbol",m.symbol,this.chart.options.symbols)}getColumn(m,C){return(C?this.dataTable.modified:this.dataTable).getColumn(m,!0)||[]}findPointIndex(m,C){let A,R,D,{id:V,x:j}=m,Z=this.points,te=this.options.dataSorting,ue=this.cropStart||0;if(V){let ie=this.chart.get(V);ie instanceof jp&&(A=ie)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let ie=me=>!me.touched&&me.index===m.index;if(te?.matchByName?ie=me=>!me.touched&&me.name===m.name:this.options.relativeXValue&&(ie=me=>!me.touched&&me.options.x===m.x),!(A=rd(Z,ie)))return}return A&&(D=A?.index)!==void 0&&(R=!0),D===void 0&&vl(j)&&(D=this.getColumn("x").indexOf(j,C)),D!==-1&&D!==void 0&&this.cropped&&(D=D>=ue?D-ue:D),!R&&vl(D)&&Z[D]?.touched&&(D=void 0),D}updateData(m,C){let{options:A,requireSorting:R}=this,D=A.dataSorting,V=this.points,j=[],Z=m.length===V.length,te,ue,ie,me,Ce=!0;if(this.xIncrement=null,m.forEach((ke,Be)=>{let Pe,tt=Ml(ke)&&this.pointClass.prototype.optionsToObject.call({series:this},ke)||{},{id:dt,x:Ot}=tt;dt||vl(Ot)?((Pe=this.findPointIndex(tt,me))===-1||Pe===void 0?j.push(ke):V[Pe]&&ke!==A.data?.[Pe]?(V[Pe].update(ke,!1,void 0,!1),V[Pe].touched=!0,R&&(me=Pe+1)):V[Pe]&&(V[Pe].touched=!0),(!Z||Be!==Pe||D?.enabled||this.hasDerivedData)&&(te=!0)):j.push(ke)},this),te)for(ue=V.length;ue--;)(ie=V[ue])&&!ie.touched&&ie.remove?.(!1,C);else Z&&!D?.enabled?(m.forEach((ke,Be)=>{ke===V[Be].y||V[Be].destroyed||V[Be].update(ke,!1,void 0,!1)}),j.length=0):Ce=!1;if(V.forEach(ke=>{ke&&(ke.touched=!1)}),!Ce)return!1;j.forEach(ke=>{this.addPoint(ke,!1,void 0,void 0,!1)},this);let Ae=this.getColumn("x");return this.xIncrement===null&&Ae.length&&(this.xIncrement=Pm(Ae),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(m,C=!0,A,R){let D=this.points,V=D?.length||0,j=this.options,Z=this.chart,te=j.dataSorting,ue=this.xAxis,ie=j.turboThreshold,me=this.dataTable,Ce=this.dataColumnKeys(),Ae=this.pointValKey||"y",ke=(this.pointArrayMap||[]).length,Be=j.keys,Pe,tt,dt=0,Ot=1,Nt;Z.options.chart.allowMutatingData||(j.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,Nt=oy(!0,m));let Bt=(m=Nt||m||[]).length;if(te?.enabled&&(m=this.sortData(m)),Z.options.chart.allowMutatingData&&R!==!1&&Bt&&V&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(tt=this.updateData(m,A)),!tt){this.xIncrement=null,this.colorCounter=0;let Ft=ie&&!j.relativeXValue&&Bt>ie;if(Ft){let $t=this.getFirstValidPoint(m),Hn=this.getFirstValidPoint(m,Bt-1,-1),lo=_n=>!!(BE(_n)&&(Be||vl(_n[0])));if(vl($t)&&vl(Hn)){let _n=[],Uo=[];for(let Js of m)_n.push(this.autoIncrement()),Uo.push(Js);me.setColumns({x:_n,[Ae]:Uo})}else if(lo($t)&&lo(Hn))if(ke){let _n=+($t.length===ke),Uo=Array(Ce.length).fill(0).map(()=>[]);for(let Js of m){_n&&Uo[0].push(this.autoIncrement());for(let ar=_n;ar<=ke;ar++)Uo[ar]?.push(Js[ar-_n])}me.setColumns(Ce.reduce((Js,ar,ns)=>(Js[ar]=Uo[ns],Js),{}))}else{Be&&(dt=Be.indexOf("x"),Ot=Be.indexOf("y"),dt=dt>=0?dt:0,Ot=Ot>=0?Ot:1),$t.length===1&&(Ot=0);let _n=[],Uo=[];if(dt===Ot)for(let Js of m)_n.push(this.autoIncrement()),Uo.push(Js[Ot]);else for(let Js of m)_n.push(Js[dt]),Uo.push(Js[Ot]);me.setColumns({x:_n,[Ae]:Uo})}else Ft=!1}if(!Ft){let $t=Ce.reduce((Hn,lo)=>(Hn[lo]=[],Hn),{});for(Pe=0;Pe<Bt;Pe++){let Hn=this.pointClass.prototype.applyOptions.apply({series:this},[m[Pe]]);for(let lo of Ce)$t[lo][Pe]=Hn[lo]}me.setColumns($t)}for(Lm(this.getColumn("y")[0])&&_i(14,!0,Z),this.data=[],this.options.data=this.userOptions.data=m,Pe=V;Pe--;)D[Pe]?.destroy();ue&&(ue.minRange=ue.userMinRange),this.isDirty=Z.isDirtyBox=!0,this.isDirtyData=!!D,A=!1}j.legendType==="point"&&(this.processData(),this.generatePoints()),C&&Z.redraw(A)}sortData(m){let C=this,A=C.options.dataSorting.sortKey||"y",R=function(D,V){return Ml(V)&&D.pointClass.prototype.optionsToObject.call({series:D},V)||{}};return m.forEach(function(D,V){m[V]=R(C,D),m[V].index=V},this),m.concat().sort((D,V)=>{let j=ty(A,D),Z=ty(A,V);return Z<j?-1:+(Z>j)}).forEach(function(D,V){D.x=V},this),C.linkedSeries&&C.linkedSeries.forEach(function(D){let V=D.options,j=V.data;!V.dataSorting?.enabled&&j&&(j.forEach(function(Z,te){j[te]=R(D,Z),m[te]&&(j[te].x=m[te].x,j[te].index=te)}),D.setData(j,!1))}),m}getProcessedData(m){let C=this,{dataTable:A,isCartesian:R,options:D,xAxis:V}=C,j=D.cropThreshold,Z=m||C.getExtremesFromAll,te=V?.logarithmic,ue=A.rowCount,ie,me,Ce=0,Ae,ke,Be,Pe=C.getColumn("x"),tt=A,dt=!1;return V&&(ke=(Ae=V.getExtremes()).min,Be=Ae.max,dt=!!(V.categories&&!V.names.length),R&&C.sorted&&!Z&&(!j||ue>j||C.forceCrop)&&(Pe[ue-1]<ke||Pe[0]>Be?tt=new J:C.getColumn(C.pointValKey||"y").length&&(Pe[0]<ke||Pe[ue-1]>Be)&&(tt=(ie=this.cropData(A,ke,Be)).modified,Ce=ie.start,me=!0))),Pe=tt.getColumn("x")||[],{modified:tt,cropped:me,cropStart:Ce,closestPointRange:ey([te?Pe.map(te.log2lin):Pe],()=>C.requireSorting&&!dt&&_i(15,!1,C.chart))}}processData(m){let C=this.xAxis,A=this.dataTable;if(this.isCartesian&&!this.isDirty&&!C.isDirty&&!this.yAxis.isDirty&&!m)return!1;let R=this.getProcessedData();A.modified=R.modified,this.cropped=R.cropped,this.cropStart=R.cropStart,this.closestPointRange=this.basePointRange=R.closestPointRange,Ya(this,"afterProcessData")}cropData(m,C,A){let R=m.getColumn("x",!0)||[],D=R.length,V={},j,Z,te=0,ue=D;for(j=0;j<D;j++)if(R[j]>=C){te=Math.max(0,j-1);break}for(Z=j;Z<D;Z++)if(R[Z]>A){ue=Z+1;break}for(let ie of this.dataColumnKeys()){let me=m.getColumn(ie,!0);me&&(V[ie]=me.slice(te,ue))}return{modified:new J({columns:V}),start:te,end:ue}}generatePoints(){let m=this.options,C=this.processedData||m.data,A=this.dataTable.modified,R=this.getColumn("x",!0),D=this.pointClass,V=A.rowCount,j=this.cropStart||0,Z=this.hasGroupedData,te=m.keys,ue=[],ie=m.dataGrouping?.groupAll?j:0,me=this.xAxis?.categories,Ce=this.pointArrayMap||["y"],Ae=this.dataColumnKeys(),ke,Be,Pe,tt,dt=this.data,Ot;if(!dt&&!Z){let Nt=[];Nt.length=C?.length||0,dt=this.data=Nt}for(te&&Z&&(this.options.keys=!1),tt=0;tt<V;tt++)Be=j+tt,Z?((Pe=new D(this,A.getRow(tt,Ae)||[])).dataGroup=this.groupMap[ie+tt],Pe.dataGroup?.options&&(Pe.options=Pe.dataGroup.options,Ka(Pe,Pe.dataGroup.options),delete Pe.dataLabels)):(Pe=dt[Be],Ot=C?C[Be]:A.getRow(tt,Ce),Pe||Ot===void 0||(dt[Be]=Pe=new D(this,Ot,R[tt]))),Pe&&(Pe.index=Z?ie+tt:Be,ue[tt]=Pe,Pe.category=me?.[Pe.x]??Pe.x,Pe.key=Pe.name??Pe.category);if(this.options.keys=te,dt&&(V!==(ke=dt.length)||Z))for(tt=0;tt<ke;tt++)tt!==j||Z||(tt+=V),dt[tt]&&(dt[tt].destroyElements(),dt[tt].plotX=void 0);this.data=dt,this.points=ue,Ya(this,"afterGeneratePoints")}getXExtremes(m){return{min:Qb(m),max:Pm(m)}}getExtremes(m,C){let{xAxis:A,yAxis:R}=this,D=C||this.getExtremesFromAll||this.options.getExtremesFromAll,V=D&&this.cropped?this.dataTable:this.dataTable.modified,j=V.rowCount,Z=m||this.stackedYData,te=Z?[Z]:(this.keysAffectYAxis||this.pointArrayMap||["y"])?.map(Nt=>V.getColumn(Nt,!0)||[])||[],ue=this.getColumn("x",!0),ie=[],me=this.requireSorting&&!this.is("column")?1:0,Ce=!!R&&R.positiveValuesOnly,Ae=D||this.cropped||!A,ke,Be,Pe,tt=0,dt=0;for(A&&(tt=(ke=A.getExtremes()).min,dt=ke.max),Pe=0;Pe<j;Pe++)if(Be=ue[Pe],Ae||(ue[Pe+me]||Be)>=tt&&(ue[Pe-me]||Be)<=dt)for(let Nt of te){let Bt=Nt[Pe];vl(Bt)&&(Bt>0||!Ce)&&ie.push(Bt)}let Ot={activeYData:ie,dataMin:Qb(ie),dataMax:Pm(ie)};return Ya(this,"afterGetExtremes",{dataExtremes:Ot}),Ot}applyExtremes(){let m=this.getExtremes();return this.dataMin=m.dataMin,this.dataMax=m.dataMax,m}getFirstValidPoint(m,C=0,A=1){let R=m.length,D=C;for(;D>=0&&D<R;){if(Ml(m[D]))return m[D];D+=A}}translate(){this.generatePoints();let m=this.options,C=m.stacking,A=this.xAxis,R=this.enabledDataSorting,D=this.yAxis,V=this.points,j=V.length,Z=this.pointPlacementToXValue(),te=!!Z,ue=m.threshold,ie=m.startFromThreshold?ue:0,me=m?.nullInteraction&&D.len,Ce,Ae,ke,Be,Pe=Number.MAX_VALUE;function tt(dt){return Nm(dt,-1e9,1e9)}for(Ce=0;Ce<j;Ce++){let dt,Ot=V[Ce],Nt=Ot.x,Bt,Ft,$t=Ot.y,Hn=Ot.low,lo=C&&D.stacking?.stacks[(this.negStacks&&$t<(ie?0:ue)?"-":"")+this.stackKey];Ot.plotX=vl(Ae=A.translate(Nt,!1,!1,!1,!0,Z))?Mg(tt(Ae)):void 0,C&&this.visible&&lo&&lo[Nt]&&(Be=this.getStackIndicator(Be,Nt,this.index),!Ot.isNull&&Be.key&&(Ft=(Bt=lo[Nt]).points[Be.key]),Bt&&BE(Ft)&&(Hn=Ft[0],$t=Ft[1],Hn===ie&&Be.key===lo[Nt].base&&(Hn=jr(vl(ue)?ue:D.min)),D.positiveValuesOnly&&Ml(Hn)&&Hn<=0&&(Hn=void 0),Ot.total=Ot.stackTotal=jr(Bt.total),Ot.percentage=Ml(Ot.y)&&Bt.total?Ot.y/Bt.total*100:void 0,Ot.stackY=$t,this.irregularWidths||Bt.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Ot.yBottom=Ml(Hn)?tt(D.translate(Hn,!1,!0,!1,!0)):void 0,this.dataModify&&($t=this.dataModify.modifyValue($t,Ce)),vl($t)&&Ot.plotX!==void 0?dt=vl(dt=D.translate($t,!1,!0,!1,!0))?tt(dt):void 0:!vl($t)&&me&&(dt=me),Ot.plotY=dt,Ot.isInside=this.isPointInside(Ot),Ot.clientX=te?Mg(A.translate(Nt,!1,!1,!1,!0,Z)):Ae,Ot.negative=(Ot.y||0)<(ue||0),Ot.isNull||Ot.visible===!1||(ke!==void 0&&(Pe=Math.min(Pe,Math.abs(Ae-ke))),ke=Ae),Ot.zone=this.zones.length?Ot.getZone():void 0,!Ot.graphic&&this.group&&R&&(Ot.isNew=!0)}this.closestPointRangePx=Pe,Ya(this,"afterTranslate")}getValidPoints(m,C,A){let R=this.chart;return(m||this.points||[]).filter(function(D){let{plotX:V,plotY:j}=D;return(!!A||!D.isNull&&!!vl(j))&&(!C||!!R.isInsidePlot(V,j,{inverted:R.inverted}))&&D.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:m,group:C,markerGroup:A}=this,R=m.sharedClips,D=m.renderer,V=m.getClipBox(this),j=this.getSharedClipKey(),Z=R[j];Z?Z.animate(V):R[j]=Z=D.clipRect(V),C&&C.clip(this.options.clip===!1?void 0:Z),A&&A.clip()}animate(m){let{chart:C,group:A,markerGroup:R}=this,D=C.inverted,V=Vi(this.options.animation),j=[this.getSharedClipKey(),V.duration,V.easing,V.defer].join(","),Z=C.sharedClips[j],te=C.sharedClips[j+"m"];if(m&&A){let ue=C.getClipBox(this);if(Z)Z.attr("height",ue.height);else{ue.width=0,D&&(ue.x=C.plotHeight),Z=C.renderer.clipRect(ue),C.sharedClips[j]=Z;let ie={x:-99,y:-99,width:D?C.plotWidth+199:99,height:D?99:C.plotHeight+199};te=C.renderer.clipRect(ie),C.sharedClips[j+"m"]=te}A.clip(Z),R?.clip(te)}else if(Z&&!Z.hasClass("highcharts-animating")){let ue=C.getClipBox(this),ie=V.step;(R?.element.childNodes.length||C.series.length>1)&&(V.step=function(me,Ce){ie&&ie.apply(Ce,arguments),Ce.prop==="width"&&te?.element&&te.attr(D?"height":"width",me+99)}),Z.addClass("highcharts-animating").animate(ue,V)}}afterAnimate(){this.setClip(),VE(this.chart.sharedClips,(m,C,A)=>{m&&!this.chart.container.querySelector(`[clip-path="url(#${m.id})"]`)&&(m.destroy(),delete A[C])}),this.finishedAnimating=!0,Ya(this,"afterAnimate")}drawPoints(m=this.points){let C,A,R,D,V,j,Z,te=this.chart,ue=te.styledMode,{colorAxis:ie,options:me}=this,Ce=me.marker,Ae=me.nullInteraction,ke=this[this.specialGroup||"markerGroup"],Be=this.xAxis,Pe=jr(Ce.enabled,!Be||!!Be.isRadial||null,this.closestPointRangePx>=Ce.enabledThreshold*Ce.radius);if(Ce.enabled!==!1||this._hasPointMarkers)for(C=0;C<m.length;C++){D=(R=(A=m[C]).graphic)?"animate":"attr",V=A.marker||{},j=!!A.marker;let tt=A.isNull;if((Pe&&!Ml(V.enabled)||V.enabled)&&(!tt||Ae)&&A.visible!==!1){let dt=jr(V.symbol,this.symbol,"rect");Z=this.markerAttribs(A,A.selected&&"select"),this.enabledDataSorting&&(A.startXPos=Be.reversed?-(Z.width||0):Be.width);let Ot=A.isInside!==!1;if(!R&&Ot&&((Z.width||0)>0||A.hasImage)&&(A.graphic=R=te.renderer.symbol(dt,Z.x,Z.y,Z.width,Z.height,j?V:Ce).add(ke),this.enabledDataSorting&&te.hasRendered&&(R.attr({x:A.startXPos}),D="animate")),R&&D==="animate"&&R[Ot?"show":"hide"](Ot).animate(Z),R){let Nt=this.pointAttribs(A,ue||!A.selected?void 0:"select");ue?ie&&R.css({fill:Nt.fill}):R[D](Nt)}R&&R.addClass(A.getClassName(),!0)}else R&&(A.graphic=R.destroy())}}markerAttribs(m,C){let A=this.options,R=A.marker,D=m.marker||{},V=D.symbol||R.symbol,j={},Z,te,ue=jr(D.radius,R?.radius);C&&(Z=R.states[C],te=D.states&&D.states[C],ue=jr(te?.radius,Z?.radius,ue&&ue+(Z?.radiusPlus||0))),m.hasImage=V&&V.indexOf("url")===0,m.hasImage&&(ue=0);let ie=m.pos();return vl(ue)&&ie&&(A.crisp&&(ie[0]=s0(ie[0],m.hasImage?0:V==="rect"?R?.lineWidth||0:1)),j.x=ie[0]-ue,j.y=ie[1]-ue),ue&&(j.width=j.height=2*ue),j}pointAttribs(m,C){let A=this.options,R=A.marker,D=m?.options,V=D?.marker||{},j=D?.color,Z=m?.color,te=m?.zone?.color,ue,ie,me=this.color,Ce,Ae,ke=jr(V.lineWidth,R.lineWidth),Be=m?.isNull&&A.nullInteraction?0:1;return me=j||te||Z||me,Ce=V.fillColor||R.fillColor||me,Ae=V.lineColor||R.lineColor||me,C=C||"normal",ue=R.states[C]||{},ke=jr((ie=V.states&&V.states[C]||{}).lineWidth,ue.lineWidth,ke+jr(ie.lineWidthPlus,ue.lineWidthPlus,0)),Ce=ie.fillColor||ue.fillColor||Ce,Ae=ie.lineColor||ue.lineColor||Ae,{stroke:Ae,"stroke-width":ke,fill:Ce,opacity:Be=jr(ie.opacity,ue.opacity,Be)}}destroy(m){let C,A,R=this,D=R.chart,V=/AppleWebKit\/533/.test(Gp.navigator.userAgent),j=R.data||[];for(Ya(R,"destroy",{keepEventsForUpdate:m}),this.removeEvents(m),(R.axisTypes||[]).forEach(function(Z){A=R[Z],A?.series&&(Nr(A.series,R),A.isDirty=A.forceRedraw=!0)}),R.legendItem&&R.chart.legend.destroyItem(R),C=j.length;C--;)j[C]?.destroy?.();for(let Z of R.zones)NE(Z,void 0,!0);oo.clearTimeout(R.animationTimeout),VE(R,function(Z,te){Z instanceof L&&!Z.survive&&Z[V&&te==="group"?"hide":"destroy"]()}),D.hoverSeries===R&&(D.hoverSeries=void 0),Nr(D.series,R),D.orderItems("series"),VE(R,function(Z,te){m&&te==="hcEvents"||delete R[te]})}applyZones(){let{area:m,chart:C,graph:A,zones:R,points:D,xAxis:V,yAxis:j,zoneAxis:Z}=this,{inverted:te,renderer:ue}=C,ie=this[`${Z}Axis`],{isXAxis:me,len:Ce=0,minPointOffset:Ae=0}=ie||{},ke=(A?.strokeWidth()||0)/2+1,Be=(Pe,tt=0,dt=0)=>{te&&(dt=Ce-dt);let{translated:Ot=0,lineClip:Nt}=Pe,Bt=dt-Ot;Nt?.push(["L",tt,Math.abs(Bt)<ke?dt-ke*(Bt<=0?-1:1):Ot])};if(R.length&&(A||m)&&ie&&vl(ie.min)){let Pe=ie.getExtremes().max+Ae,tt=Nt=>{Nt.forEach((Bt,Ft)=>{(Bt[0]==="M"||Bt[0]==="L")&&(Nt[Ft]=[Bt[0],me?Ce-Bt[1]:Bt[1],me?Bt[2]:Ce-Bt[2]])})};if(R.forEach(Nt=>{Nt.lineClip=[],Nt.translated=Nm(ie.toPixels(jr(Nt.value,Pe),!0)||0,0,Ce)}),A&&!this.showLine&&A.hide(),m&&m.hide(),Z==="y"&&D.length<V.len)for(let Nt of D){let{plotX:Bt,plotY:Ft,zone:$t}=Nt,Hn=$t&&R[R.indexOf($t)-1];$t&&Be($t,Bt,Ft),Hn&&Be(Hn,Bt,Ft)}let dt=[],Ot=ie.toPixels(ie.getExtremes().min-Ae,!0);R.forEach(Nt=>{let Bt=Nt.lineClip||[],Ft=Math.round(Nt.translated||0);V.reversed&&Bt.reverse();let{clip:$t,simpleClip:Hn}=Nt,lo=0,_n=0,Uo=V.len,Js=j.len;me?(lo=Ft,Uo=Ot):(_n=Ft,Js=Ot);let ar=[["M",lo,_n],["L",Uo,_n],["L",Uo,Js],["L",lo,Js],["Z"]],ns=[ar[0],...Bt,ar[1],ar[2],...dt,ar[3],ar[4]];dt=Bt.reverse(),Ot=Ft,te&&(tt(ns),m&&tt(ar)),$t?($t.animate({d:ns}),Hn?.animate({d:ar})):($t=Nt.clip=ue.path(ns),m&&(Hn=Nt.simpleClip=ue.path(ar))),A&&Nt.graph?.clip($t),m&&Nt.area?.clip(Hn)})}else this.visible&&(A&&A.show(),m&&m.show())}plotGroup(m,C,A,R,D){let V=this[m],j=!V,Z={visibility:A,zIndex:R||.1};return Ml(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(Z.opacity=this.opacity),V||(this[m]=V=this.chart.renderer.g().add(D)),V.addClass("highcharts-"+C+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Ml(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(V.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),V.attr(Z)[j?"attr":"animate"](this.getPlotBox(C)),V}getPlotBox(m){let C=this.xAxis,A=this.yAxis,R=this.chart,D=R.inverted&&!R.polar&&C&&this.invertible&&m==="series";R.inverted&&(C=A,A=this.xAxis);let V={scale:1,translateX:C?C.left:R.plotLeft,translateY:A?A.top:R.plotTop,name:m};Ya(this,"getPlotBox",V);let{scale:j,translateX:Z,translateY:te}=V;return{translateX:Z,translateY:te,rotation:90*!!D,rotationOriginX:D?j*(C.len-A.len)/2:0,rotationOriginY:D?j*(C.len+A.len)/2:0,scaleX:D?-j:j,scaleY:j}}removeEvents(m){let{eventsToUnbind:C}=this;m||Pl(this),C.length&&(C.forEach(A=>{A()}),C.length=0)}render(){let m=this,{chart:C,options:A,hasRendered:R}=m,D=Vi(A.animation),V=m.visible?"inherit":"hidden",j=A.zIndex,Z=C.seriesGroup,te=m.finishedAnimating?0:D.duration;Ya(this,"render"),m.plotGroup("group","series",V,j,Z),m.markerGroup=m.plotGroup("markerGroup","markers",V,j,Z),A.clip!==!1&&m.setClip(),te&&m.animate?.(!0),m.drawGraph&&(m.drawGraph(),m.applyZones()),m.visible&&m.drawPoints(),m.drawDataLabels?.(),m.redrawPoints?.(),A.enableMouseTracking&&m.drawTracker?.(),te&&m.animate?.(),R||(te&&D.defer&&(te+=D.defer),m.animationTimeout=ip(()=>{m.afterAnimate()},te||0)),m.isDirty=!1,m.hasRendered=!0,Ya(m,"afterRender")}redraw(){let m=this.isDirty||this.isDirtyData;this.translate(),this.render(),m&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(m,C){let{xAxis:A,yAxis:R}=this,D=this.chart.inverted;return this.searchKDTree({clientX:D?A.len-m.chartY+A.pos:m.chartX-A.pos,plotY:D?R.len-m.chartX+R.pos:m.chartY-R.pos},C,m)}buildKDTree(m){this.buildingKdTree=!0;let C=this,A=C.options,R=A.findNearestPointBy.indexOf("y")>-1?2:1;delete C.kdTree,ip(function(){C.kdTree=(function D(V,j,Z){let te,ue,ie=V?.length;if(ie)return te=C.kdAxisArray[j%Z],V.sort((me,Ce)=>(me[te]||0)-(Ce[te]||0)),{point:V[ue=Math.floor(ie/2)],left:D(V.slice(0,ue),j+1,Z),right:D(V.slice(ue+1),j+1,Z)}})(C.getValidPoints(void 0,!C.directTouch,A?.nullInteraction),R,R),C.buildingKdTree=!1},A.kdNow||m?.type==="touchstart"?0:1)}searchKDTree(m,C,A,R,D){let V=this,[j,Z]=this.kdAxisArray,te=C?"distX":"dist",ue=(V.options.findNearestPointBy||"").indexOf("y")>-1?2:1,ie=!!V.isBubble,me=R||((Ae,ke,Be)=>{let Pe=Ae[Be]||0,tt=ke[Be]||0;return[Pe===tt&&Ae.index>ke.index||Pe<tt?Ae:ke,!1]}),Ce=D||((Ae,ke)=>Ae<ke);if(this.kdTree||this.buildingKdTree||this.buildKDTree(A),this.kdTree)return(function Ae(ke,Be,Pe,tt){let dt=Be.point,Ot=V.kdAxisArray[Pe%tt],Nt=dt,Bt=!1;(function(lo,_n){let Uo=lo[j],Js=_n[j],ar=Ml(Uo)&&Ml(Js)?Uo-Js:null,ns=lo[Z],Cs=_n[Z],qs=Ml(ns)&&Ml(Cs)?ns-Cs:0,Da=ie&&_n.marker?.radius||0;_n.dist=Math.sqrt((ar&&ar*ar||0)+qs*qs)-Da,_n.distX=Ml(ar)?Math.abs(ar)-Da:Number.MAX_VALUE})(ke,dt);let Ft=(ke[Ot]||0)-(dt[Ot]||0)+(ie&&dt.marker?.radius||0),$t=Ft<0?"left":"right",Hn=Ft<0?"right":"left";return Be[$t]&&([Nt,Bt]=me(dt,Ae(ke,Be[$t],Pe+1,tt),te)),Be[Hn]&&Ce(Math.sqrt(Ft*Ft),Nt[te],Bt)&&(Nt=me(Nt,Ae(ke,Be[Hn],Pe+1,tt),te)[0]),Nt})(m,this.kdTree,ue,ue)}pointPlacementToXValue(){let{options:m,xAxis:C}=this,A=m.pointPlacement;return A==="between"&&(A=C.reversed?-.5:.5),vl(A)?A*(m.pointRange||C.pointRange):0}isPointInside(m){let{chart:C,xAxis:A,yAxis:R}=this,{plotX:D=-1,plotY:V=-1}=m;return V>=0&&V<=(R?R.len:C.plotHeight)&&D>=0&&D<=(A?A.len:C.plotWidth)}drawTracker(){let m=this,C=m.options,A=C.trackByArea,R=[].concat((A?m.areaPath:m.graphPath)||[]),D=m.chart,V=D.pointer,j=D.renderer,Z=D.options.tooltip?.snap||0,te=()=>{C.enableMouseTracking&&D.hoverSeries!==m&&m.onMouseOver()},ue="rgba(192,192,192,"+(Wp?1e-4:.002)+")",ie=m.tracker;ie?ie.attr({d:R}):m.graph&&(m.tracker=ie=j.path(R).attr({visibility:m.visible?"inherit":"hidden",zIndex:2}).addClass(A?"highcharts-tracker-area":"highcharts-tracker-line").add(m.group),D.styledMode||ie.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:ue,fill:A?ue:"none","stroke-width":m.graph.strokeWidth()+(A?0:2*Z)}),[m.tracker,m.markerGroup,m.dataLabelsGroup].forEach(me=>{me&&(me.addClass("highcharts-tracker").on("mouseover",te).on("mouseout",Ce=>{V?.onTrackerMouseOut(Ce)}),C.cursor&&!D.styledMode&&me.css({cursor:C.cursor}),me.on("touchstart",te))})),Ya(this,"afterDrawTracker")}addPoint(m,C,A,R,D){let V,j,Z=this.options,{chart:te,data:ue,dataTable:ie,xAxis:me}=this,Ce=me?.hasNames&&me.names,Ae=Z.data,ke=this.getColumn("x");C=jr(C,!0);let Be={series:this};this.pointClass.prototype.applyOptions.apply(Be,[m]);let Pe=Be.x;if(j=ke.length,this.requireSorting&&Pe<ke[j-1])for(V=!0;j&&ke[j-1]>Pe;)j--;ie.setRow(Be,j,!0,{addColumns:!1}),Ce&&Be.name&&(Ce[Pe]=Be.name),Ae?.splice(j,0,m),(V||this.processedData)&&(this.data.splice(j,0,null),this.processData()),Z.legendType==="point"&&this.generatePoints(),A&&(ue[0]&&ue[0].remove?ue[0].remove(!1):([ue,Ae].filter(Ml).forEach(tt=>{tt.shift()}),ie.deleteRows(0))),D!==!1&&Ya(this,"addPoint",{point:Be}),this.isDirty=!0,this.isDirtyData=!0,C&&te.redraw(R)}removePoint(m,C,A){let R=this,{chart:D,data:V,points:j,dataTable:Z}=R,te=V[m],ue=function(){[j?.length===V.length?j:void 0,V,R.options.data].filter(Ml).forEach(ie=>{ie.splice(m,1)}),Z.deleteRows(m),te?.destroy(),R.isDirty=!0,R.isDirtyData=!0,C&&D.redraw()};da(A,D),C=jr(C,!0),te?te.firePointEvent("remove",null,ue):ue()}remove(m,C,A,R){let D=this,V=D.chart;function j(){D.destroy(R),V.isDirtyLegend=V.isDirtyBox=!0,V.linkSeries(R),jr(m,!0)&&V.redraw(C)}A!==!1?Ya(D,"remove",null,j):j()}update(m,C){Ya(this,"update",{options:m=LE(m,this.userOptions)});let A=this,R=A.chart,D=A.userOptions,V=A.initialType||A.type,j=R.options.plotOptions,Z=ru[V].prototype,te=A.finishedAnimating&&{animation:!1},ue={},ie,me,Ce=Vd.keepProps.slice(),Ae=m.type||D.type||R.options.chart.type,ke=!(this.hasDerivedData||Ae&&Ae!==this.type||m.keys!==void 0||m.pointStart!==void 0||m.pointInterval!==void 0||m.relativeXValue!==void 0||m.joinBy||m.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(Pe=>A.hasOptionChanged(Pe)));Ae=Ae||V,ke?(Ce.push.apply(Ce,Vd.keepPropsForPoints),m.visible!==!1&&Ce.push("area","graph"),A.parallelArrays.forEach(function(Pe){Ce.push(Pe+"Data")}),m.data&&(m.dataSorting&&Ka(A.options.dataSorting,m.dataSorting),this.setData(m.data,!1))):this.dataTable.modified=this.dataTable,m=oy(D,{index:D.index===void 0?A.index:D.index,pointStart:j?.series?.pointStart??D.pointStart??A.getColumn("x")[0]},!ke&&{data:A.options.data},m,te),ke&&m.data&&(m.data=A.options.data),(Ce=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(Ce)).forEach(function(Pe){Ce[Pe]=A[Pe],delete A[Pe]});let Be=!1;if(ru[Ae]){if(Be=Ae!==A.type,A.remove(!1,!1,!1,!0),Be)if(R.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(A,ru[Ae].prototype);else{let Pe=Object.hasOwnProperty.call(A,"hcEvents")&&A.hcEvents;for(me in Z)A[me]=void 0;Ka(A,ru[Ae].prototype),Pe?A.hcEvents=Pe:delete A.hcEvents}}else _i(17,!0,R,{missingModuleFor:Ae});if(Ce.forEach(function(Pe){A[Pe]=Ce[Pe]}),A.init(R,m),ke&&this.points)for(let Pe of((ie=A.options).visible===!1?(ue.graphic=1,ue.dataLabel=1):(this.hasMarkerChanged(ie,D)&&(ue.graphic=1),A.hasDataLabels?.()||(ue.dataLabel=1)),this.points))Pe?.series&&(Pe.resolveColor(),Object.keys(ue).length&&Pe.destroyElements(ue),ie.showInLegend===!1&&Pe.legendItem&&R.legend.destroyItem(Pe));A.initialType=V,R.linkSeries(),R.setSortedData(),Be&&A.linkedSeries.length&&(A.isDirtyData=!0),Ya(this,"afterUpdate"),jr(C,!0)&&R.redraw(!!ke&&void 0)}setName(m){this.name=this.options.name=this.userOptions.name=m,this.chart.isDirtyLegend=!0}hasOptionChanged(m){let C=this.chart,A=this.options[m],R=C.options.plotOptions,D=this.userOptions[m],V=jr(R?.[this.type]?.[m],R?.series?.[m]);return D&&!Ml(V)?A!==D:A!==jr(V,A)}onMouseOver(){let m=this.chart,C=m.hoverSeries;m.pointer?.setHoverChartIndex(),C&&C!==this&&C.onMouseOut(),this.options.events.mouseOver&&Ya(this,"mouseOver"),this.setState("hover"),m.hoverSeries=this}onMouseOut(){let m=this.options,C=this.chart,A=C.tooltip,R=C.hoverPoint;C.hoverSeries=null,R&&R.onMouseOut(),this&&m.events.mouseOut&&Ya(this,"mouseOut"),A&&!this.stickyTracking&&(!A.shared||this.noSharedTooltip)&&A.hide(),C.series.forEach(function(D){D.setState("",!0)})}setState(m,C){let A=this,R=A.options,D=A.graph,V=R.inactiveOtherPoints,j=R.states,Z=jr(j[m||"normal"]&&j[m||"normal"].animation,A.chart.options.chart.animation),te=R.lineWidth,ue=R.opacity;if(m=m||"",A.state!==m&&([A.group,A.markerGroup,A.dataLabelsGroup].forEach(function(ie){ie&&(A.state&&ie.removeClass("highcharts-series-"+A.state),m&&ie.addClass("highcharts-series-"+m))}),A.state=m,!A.chart.styledMode)){if(j[m]&&j[m].enabled===!1)return;if(m&&(te=j[m].lineWidth||te+(j[m].lineWidthPlus||0),ue=jr(j[m].opacity,ue)),D&&!D.dashstyle&&vl(te))for(let ie of[D,...this.zones.map(me=>me.graph)])ie?.animate({"stroke-width":te},Z);V||[A.group,A.markerGroup,A.dataLabelsGroup,A.labelBySeries].forEach(function(ie){ie&&ie.animate({opacity:ue},Z)})}C&&V&&A.points&&A.setAllPointsToState(m||void 0)}setAllPointsToState(m){this.points.forEach(function(C){C.setState&&C.setState(m)})}setVisible(m,C){let A=this,R=A.chart,D=R.options.chart.ignoreHiddenSeries,V=A.visible;A.visible=m=A.options.visible=A.userOptions.visible=m===void 0?!V:m;let j=m?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(Z=>{A[Z]?.[j]()}),(R.hoverSeries===A||R.hoverPoint?.series===A)&&A.onMouseOut(),A.legendItem&&R.legend.colorizeItem(A,m),A.isDirty=!0,A.options.stacking&&R.series.forEach(Z=>{Z.options.stacking&&Z.visible&&(Z.isDirty=!0)}),A.linkedSeries.forEach(Z=>{Z.setVisible(m,!1)}),D&&(R.isDirtyBox=!0),Ya(A,j),C!==!1&&R.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(m){this.selected=m=this.options.selected=m===void 0?!this.selected:m,this.checkbox&&(this.checkbox.checked=m),Ya(this,m?"select":"unselect")}shouldShowTooltip(m,C,A={}){return A.series=this,A.visiblePlotOnly=!0,this.chart.isInsidePlot(m,C,A)}drawLegendSymbol(m,C){St[this.options.legendSymbol||"rectangle"]?.call(this,m,C)}}Vd.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:Q}=this.series.chart;return typeof this.y!="number"?"":Q(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Vd.types=Ss.seriesTypes,Vd.registerType=Ss.registerSeriesType,Vd.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Vd.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],Ka(Vd.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:jp,requireSorting:!0,sorted:!0}),Ss.series=Vd;let id=Vd,{animObject:Bu,setAnimation:FE}=Aa,{registerEventOptions:Pg}=bl,{composed:jS,marginNames:Fd}=Me,{distribute:HE}=nf,{format:Zi}=Pr,{addEvent:Ng,createElement:Lg,css:ZO,defined:WS,discardElement:GS,find:KO,fireEvent:qp,isNumber:Bm,merge:Bg,pick:Oo,pushUnique:ha,relativeLength:r0,stableSort:sy,syncTimeout:Oc}=oo;class Hv{constructor(m,C){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=m,this.setOptions(C),C.enabled&&(this.render(),Pg(this,C),Ng(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),Ng(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(m){let C=Oo(m.padding,8);this.options=m,this.chart.styledMode||(this.itemStyle=m.itemStyle,this.itemHiddenStyle=Bg(this.itemStyle,m.itemHiddenStyle)),this.itemMarginTop=m.itemMarginTop,this.itemMarginBottom=m.itemMarginBottom,this.padding=C,this.initialItemY=C-5,this.symbolWidth=Oo(m.symbolWidth,16),this.pages=[],this.proximate=m.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(m,C){let A=this.chart;this.setOptions(Bg(!0,this.options,m)),"events"in this.options&&Pg(this,this.options),this.destroy(),A.isDirtyLegend=A.isDirtyBox=!0,Oo(C,!0)&&A.redraw(),qp(this,"afterUpdate",{redraw:C})}colorizeItem(m,C){let A=m.color,{area:R,group:D,label:V,line:j,symbol:Z}=m.legendItem||{};if((m instanceof id||m instanceof jp)&&(m.color=m.options?.legendSymbolColor||A),D?.[C?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:te={}}=this,ue=te.color,{fillColor:ie,fillOpacity:me,lineColor:Ce,marker:Ae}=m.options,ke=Be=>(!C&&(Be.fill&&(Be.fill=ue),Be.stroke&&(Be.stroke=ue)),Be);V?.css(Bg(C?this.itemStyle:te)),j?.attr(ke({stroke:Ce||m.color})),Z&&Z.attr(ke(Ae&&Z.isMarker?m.pointAttribs():{fill:m.color})),R?.attr(ke({fill:ie||m.color,"fill-opacity":ie?1:me??.75}))}m.color=A,qp(this,"afterColorizeItem",{item:m,visible:C})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(m){let{group:C,x:A=0,y:R=0}=m.legendItem||{},D=this.options,V=D.symbolPadding,j=!D.rtl,Z=m.checkbox;if(C?.element){let te={translateX:j?A:this.legendWidth-A-2*V-4,translateY:R};C[WS(C.translateY)?"animate":"attr"](te,void 0,()=>{qp(this,"afterPositionItem",{item:m})})}Z&&(Z.x=A,Z.y=R)}destroyItem(m){let C=m.legendItem||{};for(let A of["group","label","line","symbol"])C[A]&&(C[A]=C[A].destroy());m.checkbox=GS(m.checkbox),m.legendItem=void 0}destroy(){for(let m of this.getAllItems())this.destroyItem(m);for(let m of["clipRect","up","down","pager","nav","box","title","group"])this[m]&&(this[m]=this[m].destroy());this.display=null}positionCheckboxes(){let m,C=this.group?.alignAttr,A=this.clipHeight||this.legendHeight,R=this.titleHeight;C&&(m=C.translateY,this.allItems.forEach(function(D){let V,j=D.checkbox;j&&(V=m+R+j.y+(this.scrollOffset||0)+3,ZO(j,{left:C.translateX+D.checkboxOffset+j.x-20+"px",top:V+"px",display:this.proximate||V>m-6&&V<m+A-6?"":"none"}))},this))}renderTitle(){let m=this.options,C=this.padding,A=m.title,R,D=0;A.text&&(this.title||(this.title=this.chart.renderer.label(A.text,C-3,C-4,void 0,void 0,void 0,m.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(A.style),this.title.add(this.group)),A.width||this.title.css({width:this.maxLegendWidth+"px"}),D=(R=this.title.getBBox()).height,this.offsetWidth=R.width,this.contentGroup.attr({translateY:D})),this.titleHeight=D}setText(m){let C=this.options;m.legendItem.label.attr({text:C.labelFormat?Zi(C.labelFormat,m,this.chart):C.labelFormatter.call(m)})}renderItem(m){let C=m.legendItem=m.legendItem||{},A=this.chart,R=A.renderer,D=this.options,V=D.layout==="horizontal",j=this.symbolWidth,Z=D.symbolPadding||0,te=this.itemStyle,ue=this.itemHiddenStyle,ie=V?Oo(D.itemDistance,20):0,me=!D.rtl,Ce=!m.series,Ae=!Ce&&m.series.drawLegendSymbol?m.series:m,ke=Ae.options,Be=!!this.createCheckboxForItem&&ke&&ke.showCheckbox,Pe=D.useHTML,tt=m.options.className,dt=C.label,Ot=j+Z+ie+20*!!Be;!dt&&(C.group=R.g("legend-item").addClass("highcharts-"+Ae.type+"-series highcharts-color-"+m.colorIndex+(tt?" "+tt:"")+(Ce?" highcharts-series-"+m.index:"")).attr({zIndex:1}).add(this.scrollGroup),C.label=dt=R.text("",me?j+Z:-Z,this.baseline||0,Pe),A.styledMode||dt.css(Bg(m.visible?te:ue)),dt.attr({align:me?"left":"right",zIndex:2}).add(C.group),!this.baseline&&(this.fontMetrics=R.fontMetrics(dt),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,dt.attr("y",this.baseline),this.symbolHeight=Oo(D.symbolHeight,this.fontMetrics.f),D.squareSymbol&&(this.symbolWidth=Oo(D.symbolWidth,Math.max(this.symbolHeight,16)),Ot=this.symbolWidth+Z+ie+20*!!Be,me&&dt.attr("x",this.symbolWidth+Z))),Ae.drawLegendSymbol(this,m),this.setItemEvents&&this.setItemEvents(m,dt,Pe)),Be&&!m.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(m),this.colorizeItem(m,m.visible),(A.styledMode||!te.width)&&dt.css({width:(D.itemWidth||this.widthOption||A.spacingBox.width)-Ot+"px"}),this.setText(m);let Nt=dt.getBBox(),Bt=this.fontMetrics?.h||0;m.itemWidth=m.checkboxOffset=D.itemWidth||C.labelWidth||Nt.width+Ot,this.maxItemWidth=Math.max(this.maxItemWidth,m.itemWidth),this.totalItemWidth+=m.itemWidth,this.itemHeight=m.itemHeight=Math.round(C.labelHeight||(Nt.height>1.5*Bt?Nt.height:Bt))}layoutItem(m){let C=this.options,A=this.padding,R=C.layout==="horizontal",D=m.itemHeight,V=this.itemMarginBottom,j=this.itemMarginTop,Z=R?Oo(C.itemDistance,20):0,te=this.maxLegendWidth,ue=C.alignColumns&&this.totalItemWidth>te?this.maxItemWidth:m.itemWidth,ie=m.legendItem||{};R&&this.itemX-A+ue>te&&(this.itemX=A,this.lastLineHeight&&(this.itemY+=j+this.lastLineHeight+V),this.lastLineHeight=0),this.lastItemY=j+this.itemY+V,this.lastLineHeight=Math.max(D,this.lastLineHeight),ie.x=this.itemX,ie.y=this.itemY,R?this.itemX+=ue:(this.itemY+=j+D+V,this.lastLineHeight=D),this.offsetWidth=this.widthOption||Math.max((R?this.itemX-A-(m.checkbox?0:Z):ue)+A,this.offsetWidth)}getAllItems(){let m=[];return this.chart.series.forEach(function(C){let A=C?.options;C&&Oo(A.showInLegend,!WS(A.linkedTo)&&void 0,!0)&&(m=m.concat(C.legendItem?.labels||(A.legendType==="point"?C.data:C)))}),qp(this,"afterGetAllItems",{allItems:m}),m}getAlignment(){let m=this.options;return this.proximate?m.align.charAt(0)+"tv":m.floating?"":m.align.charAt(0)+m.verticalAlign.charAt(0)+m.layout.charAt(0)}adjustMargins(m,C){let A=this.chart,R=this.options,D=this.getAlignment();D&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((V,j)=>{V.test(D)&&!WS(m[j])&&(A[Fd[j]]=Math.max(A[Fd[j]],A.legend[(j+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][j]*R[j%2?"x":"y"]+(R.margin??12)+C[j]+(A.titleOffset[j]||0)))})}proximatePositions(){let m,C=this.chart,A=[],R=this.options.align==="left";for(let D of(this.allItems.forEach(function(V){let j,Z,te=R,ue,ie;V.yAxis&&(V.xAxis.options.reversed&&(te=!te),V.points&&(j=KO(te?V.points:V.points.slice(0).reverse(),function(me){return Bm(me.plotY)})),Z=this.itemMarginTop+V.legendItem.label.getBBox().height+this.itemMarginBottom,ie=V.yAxis.top-C.plotTop,ue=V.visible?(j?j.plotY:V.yAxis.height)+(ie-.3*Z):ie+V.yAxis.height,A.push({target:ue,size:Z,item:V}))},this),HE(A,C.plotHeight)))m=D.item.legendItem||{},Bm(D.pos)&&(m.y=C.plotTop-C.spacing[0]+D.pos)}render(){let m=this.chart,C=m.renderer,A=this.options,R=this.padding,D=this.getAllItems(),V,j,Z,te=this.group,ue,ie=this.box;this.itemX=R,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=r0(A.width,m.spacingBox.width-R),ue=m.spacingBox.width-2*R-A.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(ue/=2),this.maxLegendWidth=this.widthOption||ue,te||(this.group=te=C.g("legend").addClass(A.className||"").attr({zIndex:7}).add(),this.contentGroup=C.g().attr({zIndex:1}).add(te),this.scrollGroup=C.g().add(this.contentGroup)),this.renderTitle(),sy(D,(me,Ce)=>(me.options?.legendIndex||0)-(Ce.options?.legendIndex||0)),A.reversed&&D.reverse(),this.allItems=D,this.display=V=!!D.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,D.forEach(this.renderItem,this),D.forEach(this.layoutItem,this),j=(this.widthOption||this.offsetWidth)+R,Z=this.lastItemY+this.lastLineHeight+this.titleHeight,Z=this.handleOverflow(Z)+R,ie||(this.box=ie=C.rect().addClass("highcharts-legend-box").attr({r:A.borderRadius}).add(te)),m.styledMode||ie.attr({stroke:A.borderColor,"stroke-width":A.borderWidth||0,fill:A.backgroundColor||"none"}).shadow(A.shadow),j>0&&Z>0&&ie[ie.placed?"animate":"attr"](ie.crisp.call({},{x:0,y:0,width:j,height:Z},ie.strokeWidth())),te[V?"show":"hide"](),m.styledMode&&te.getStyle("display")==="none"&&(j=Z=0),this.legendWidth=j,this.legendHeight=Z,V&&this.align(),this.proximate||this.positionItems(),qp(this,"afterRender")}align(m=this.chart.spacingBox){let C=this.chart,A=this.options,R=m.y;/(lth|ct|rth)/.test(this.getAlignment())&&C.titleOffset[0]>0?R+=C.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&C.titleOffset[2]>0&&(R-=C.titleOffset[2]),R!==m.y&&(m=Bg(m,{y:R})),C.hasRendered||(this.group.placed=!1),this.group.align(Bg(A,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":A.verticalAlign}),!0,m)}handleOverflow(m){let C=this,A=this.chart,R=A.renderer,D=this.options,V=D.y,j=D.verticalAlign==="top",Z=this.padding,te=D.maxHeight,ue=D.navigation,ie=Oo(ue.animation,!0),me=ue.arrowSize||12,Ce=this.pages,Ae=this.allItems,ke=function($t){typeof $t=="number"?Ft.attr({height:$t}):Ft&&(C.clipRect=Ft.destroy(),C.contentGroup.clip()),C.contentGroup.div&&(C.contentGroup.div.style.clip=$t?"rect("+Z+"px,9999px,"+(Z+$t)+"px,0)":"auto")},Be=function($t){return C[$t]=R.circle(0,0,1.3*me).translate(me/2,me/2).add(Bt),A.styledMode||C[$t].attr("fill","rgba(0,0,0,0.0001)"),C[$t]},Pe,tt,dt,Ot,Nt=A.spacingBox.height+(j?-V:V)-Z,Bt=this.nav,Ft=this.clipRect;return D.layout!=="horizontal"||D.verticalAlign==="middle"||D.floating||(Nt/=2),te&&(Nt=Math.min(Nt,te)),Ce.length=0,m&&Nt>0&&m>Nt&&ue.enabled!==!1?(this.clipHeight=Pe=Math.max(Nt-20-this.titleHeight-Z,0),this.currentPage=Oo(this.currentPage,1),this.fullHeight=m,Ae.forEach(($t,Hn)=>{let lo=(dt=$t.legendItem||{}).y||0,_n=Math.round(dt.label.getBBox().height),Uo=Ce.length;(!Uo||lo-Ce[Uo-1]>Pe&&(tt||lo)!==Ce[Uo-1])&&(Ce.push(tt||lo),Uo++),dt.pageIx=Uo-1,tt&&Ot&&(Ot.pageIx=Uo-1),Hn===Ae.length-1&&lo+_n-Ce[Uo-1]>Pe&&lo>Ce[Uo-1]&&(Ce.push(lo),dt.pageIx=Uo),lo!==tt&&(tt=lo),Ot=dt}),Ft||(Ft=C.clipRect=R.clipRect(0,Z-2,9999,0),C.contentGroup.clip(Ft)),ke(Pe),Bt||(this.nav=Bt=R.g().attr({zIndex:1}).add(this.group),this.up=R.symbol("triangle",0,0,me,me).add(Bt),Be("upTracker").on("click",function(){C.scroll(-1,ie)}),this.pager=R.text("",15,10).addClass("highcharts-legend-navigation"),!A.styledMode&&ue.style&&this.pager.css(ue.style),this.pager.add(Bt),this.down=R.symbol("triangle-down",0,0,me,me).add(Bt),Be("downTracker").on("click",function(){C.scroll(1,ie)})),C.scroll(0),m=Nt):Bt&&(ke(),this.nav=Bt.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),m}scroll(m,C){let A=this.chart,R=this.pages,D=R.length,V=this.clipHeight,j=this.options.navigation,Z=this.pager,te=this.padding,ue=this.currentPage+m;ue>D&&(ue=D),ue>0&&(C!==void 0&&FE(C,A),this.nav.attr({translateX:te,translateY:V+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(ie){ie.attr({class:ue===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),Z.attr({text:ue+"/"+D}),[this.down,this.downTracker].forEach(function(ie){ie.attr({x:18+this.pager.getBBox().width,class:ue===D?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),A.styledMode||(this.up.attr({fill:ue===1?j.inactiveColor:j.activeColor}),this.upTracker.css({cursor:ue===1?"default":"pointer"}),this.down.attr({fill:ue===D?j.inactiveColor:j.activeColor}),this.downTracker.css({cursor:ue===D?"default":"pointer"})),this.scrollOffset=-R[ue-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=ue,this.positionCheckboxes(),Oc(()=>{qp(this,"afterScroll",{currentPage:ue})},Bu(Oo(C,A.renderer.globalAnimation,!0)).duration))}setItemEvents(m,C,A){let R=this,D=m.legendItem||{},V=R.chart.renderer.boxWrapper,j=m instanceof jp,Z=m instanceof id,te="highcharts-legend-"+(j?"point":"series")+"-active",ue=R.chart.styledMode,ie=A?[C,D.symbol]:[D.group],me=Ce=>{R.allItems.forEach(Ae=>{m!==Ae&&[Ae].concat(Ae.linkedSeries||[]).forEach(ke=>{ke.setState(Ce,!j)})})};for(let Ce of ie)Ce&&Ce.on("mouseover",function(){m.visible&&me("inactive"),m.setState("hover"),m.visible&&V.addClass(te),ue||C.css(R.options.itemHoverStyle)}).on("mouseout",function(){R.chart.styledMode||C.css(Bg(m.visible?R.itemStyle:R.itemHiddenStyle)),me(""),V.removeClass(te),m.setState()}).on("click",function(Ae){let ke=function(){m.setVisible&&m.setVisible(),me(m.visible?"inactive":"")};V.removeClass(te),qp(R,"itemClick",{browserEvent:Ae,legendItem:m},ke),j?m.firePointEvent("legendItemClick",{browserEvent:Ae}):Z&&qp(m,"legendItemClick",{browserEvent:Ae})})}createCheckboxForItem(m){m.checkbox=Lg("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:m.selected,defaultChecked:m.selected},this.options.itemCheckboxStyle,this.chart.container),Ng(m.checkbox,"click",function(C){let A=C.target;qp(m.series||m,"checkboxClick",{checked:A.checked,item:m},function(){m.select()})})}}(function(Q){Q.compose=function(m){ha(jS,"Core.Legend")&&Ng(m,"beforeMargins",function(){this.legend=new Q(this,this.options.legend)})}})(Hv||(Hv={}));let AA=Hv,{animate:Vg,animObject:TA,setAnimation:ap}=Aa,{defaultOptions:Vm}=Jn,{numberFormat:$E}=Pr,{registerEventOptions:Bn}=bl,{charts:Fg,doc:ry,marginNames:Ba,svg:yr,win:$v}=Me,{seriesTypes:fa}=Ss,{addEvent:p1,attr:pf,createElement:iu,css:si,defined:Zp,diffObjects:Kp,discardElement:UE,erase:qS,error:Hh,extend:Fm,find:i0,fireEvent:Fi,getAlignFactor:xA,getStyle:zE,isArray:jE,isNumber:iy,isObject:ZS,isString:KS,merge:Hm,objectEach:m1,pick:ad,pInt:mf,relativeLength:Vu,removeEvent:ch,splat:vs,syncTimeout:ld,uniqueKey:ay}=oo;class Hg{static chart(m,C,A){return new Hg(m,C,A)}constructor(m,C,A){this.sharedClips={};let R=[...arguments];(KS(m)||m.nodeName)&&(this.renderTo=R.shift()),this.init(R[0],R[1])}setZoomOptions(){let m=this.options.chart,C=m.zooming;this.zooming={...C,type:ad(m.zoomType,C.type),key:ad(m.zoomKey,C.key),pinchType:ad(m.pinchType,C.pinchType),singleTouch:ad(m.zoomBySingleTouch,C.singleTouch,!1),resetButton:Hm(C.resetButton,m.resetZoomButton)}}init(m,C){Fi(this,"init",{args:arguments},function(){let A=Hm(Vm,m),R=A.chart,D=this.renderTo||R.renderTo;this.userOptions=Fm({},m),(this.renderTo=KS(D)?ry.getElementById(D):D)||Hh(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=C,this.isResizing=0,this.options=A,this.axes=[],this.series=[],this.locale=A.lang.locale??this.renderTo.closest("[lang]")?.lang,this.time=new Ds(Fm(A.time||{},{locale:this.locale}),A.lang),A.time=this.time.options,this.numberFormatter=(R.numberFormatter||$E).bind(this),this.styledMode=R.styledMode,this.hasCartesianSeries=R.showAxes,this.index=Fg.length,Fg.push(this),Me.chartCount++,Bn(this,R),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Fi(this,"afterInit"),this.firstRender()})}initSeries(m){let C=this.options.chart,A=m.type||C.type,R=fa[A];R||Hh(17,!0,this,{missingModuleFor:A});let D=new R;return typeof D.init=="function"&&D.init(this,m),D}setSortedData(){this.getSeriesOrderByLinks().forEach(function(m){m.points||m.data||!m.enabledDataSorting||m.setData(m.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(m,C){return m.linkedSeries.length||C.linkedSeries.length?C.linkedSeries.length-m.linkedSeries.length:0})}orderItems(m,C=0){let A=this[m],R=this.options[m]=vs(this.options[m]).slice(),D=this.userOptions[m]=this.userOptions[m]?vs(this.userOptions[m]).slice():[];if(this.hasRendered&&(R.splice(C),D.splice(C)),A)for(let V=C,j=A.length;V<j;++V){let Z=A[V];Z&&(Z.index=V,Z instanceof id&&(Z.name=Z.getName()),Z.options.isInternal||(R[V]=Z.options,D[V]=Z.userOptions))}}getClipBox(m,C){let A=this.inverted,{xAxis:R,yAxis:D}=m||{},{x:V,y:j,width:Z,height:te}=Hm(this.clipBox);return m&&(R&&R.len!==this.plotSizeX&&(Z=R.len),D&&D.len!==this.plotSizeY&&(te=D.len),A&&!m.invertible&&([Z,te]=[te,Z])),C&&(V+=(A?D:R)?.pos??this.plotLeft,j+=(A?R:D)?.pos??this.plotTop),{x:V,y:j,width:Z,height:te}}isInsidePlot(m,C,A={}){let{inverted:R,plotBox:D,plotLeft:V,plotTop:j,scrollablePlotBox:Z}=this,{scrollLeft:te=0,scrollTop:ue=0}=A.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},ie=A.series,me=A.visiblePlotOnly&&Z||D,Ce=A.inverted?C:m,Ae=A.inverted?m:C,ke={x:Ce,y:Ae,isInsidePlot:!0,options:A};if(!A.ignoreX){let Be=ie&&(R&&!this.polar?ie.yAxis:ie.xAxis)||{pos:V,len:1/0},Pe=A.paneCoordinates?Be.pos+Ce:V+Ce;Pe>=Math.max(te+V,Be.pos)&&Pe<=Math.min(te+V+me.width,Be.pos+Be.len)||(ke.isInsidePlot=!1)}if(!A.ignoreY&&ke.isInsidePlot){let Be=!R&&A.axis&&!A.axis.isXAxis&&A.axis||ie&&(R?ie.xAxis:ie.yAxis)||{pos:j,len:1/0},Pe=A.paneCoordinates?Be.pos+Ae:j+Ae;Pe>=Math.max(ue+j,Be.pos)&&Pe<=Math.min(ue+j+me.height,Be.pos+Be.len)||(ke.isInsidePlot=!1)}return Fi(this,"afterIsInsidePlot",ke),ke.isInsidePlot}redraw(m){Fi(this,"beforeRedraw");let C=this.hasCartesianSeries?this.axes:this.colorAxis||[],A=this.series,R=this.pointer,D=this.legend,V=this.userOptions.legend,j=this.renderer,Z=j.isHidden(),te=[],ue,ie,me,Ce=this.isDirtyBox,Ae=this.isDirtyLegend,ke;for(j.rootFontSize=j.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),ap(!!this.hasRendered&&m,this),Z&&this.temporaryDisplay(),this.layOutTitles(!1),me=A.length;me--;)if(((ke=A[me]).options.stacking||ke.options.centerInCategory)&&(ie=!0,ke.isDirty)){ue=!0;break}if(ue)for(me=A.length;me--;)(ke=A[me]).options.stacking&&(ke.isDirty=!0);A.forEach(function(Be){Be.isDirty&&(Be.options.legendType==="point"?(typeof Be.updateTotals=="function"&&Be.updateTotals(),Ae=!0):V&&(V.labelFormatter||V.labelFormat)&&(Ae=!0)),Be.isDirtyData&&Fi(Be,"updatedData")}),Ae&&D&&D.options.enabled&&(D.render(),this.isDirtyLegend=!1),ie&&this.getStacks(),C.forEach(function(Be){Be.updateNames(),Be.setScale()}),this.getMargins(),C.forEach(function(Be){Be.isDirty&&(Ce=!0)}),C.forEach(function(Be){let Pe=Be.min+","+Be.max;Be.extKey!==Pe&&(Be.extKey=Pe,te.push(function(){Fi(Be,"afterSetExtremes",Fm(Be.eventArgs,Be.getExtremes())),delete Be.eventArgs})),(Ce||ie)&&Be.redraw()}),Ce&&this.drawChartBox(),Fi(this,"predraw"),A.forEach(function(Be){(Ce||Be.isDirty)&&Be.visible&&Be.redraw(),Be.isDirtyData=!1}),R&&R.reset(!0),j.draw(),Fi(this,"redraw"),Fi(this,"render"),Z&&this.temporaryDisplay(!0),te.forEach(function(Be){Be.call()})}get(m){let C=this.series;function A(D){return D.id===m||D.options&&D.options.id===m}let R=i0(this.axes,A)||i0(this.series,A);for(let D=0;!R&&D<C.length;D++)R=i0(C[D].points||[],A);return R}createAxes(){let m=this.userOptions;for(let C of(Fi(this,"createAxes"),["xAxis","yAxis"]))for(let A of m[C]=vs(m[C]||{}))new Du(this,A,C);Fi(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((m,C)=>(C.getPointsCollection().forEach(A=>{ad(A.selectedStaging,A.selected)&&m.push(A)}),m),[])}getSelectedSeries(){return this.series.filter(m=>m.selected)}setTitle(m,C,A){this.applyDescription("title",m),this.applyDescription("subtitle",C),this.applyDescription("caption",void 0),this.layOutTitles(A)}applyDescription(m,C){let A=this,R=this.options[m]=Hm(this.options[m],C),D=this[m];D&&C&&(this[m]=D=D.destroy()),R&&!D&&((D=this.renderer.text(R.text,0,0,R.useHTML).attr({align:R.align,class:"highcharts-"+m,zIndex:R.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(V,j){A.applyDescription(m,V),A.layOutTitles(j)},this.styledMode||D.css(Fm(m==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},R.style)),D.textPxLength=D.getBBox().width,D.css({whiteSpace:R.style?.whiteSpace}),this[m]=D)}layOutTitles(m=!0){let C=[0,0,0],{options:A,renderer:R,spacingBox:D}=this;["title","subtitle","caption"].forEach(j=>{let Z=this[j],te=this.options[j],ue=Hm(D),ie=Z?.textPxLength||0;if(Z&&te){Fi(this,"layOutTitle",{alignTo:ue,key:j,textPxLength:ie});let me=R.fontMetrics(Z),Ce=me.b,Ae=me.h,ke=te.verticalAlign||"top",Be=ke==="top",Pe=Be&&te.minScale||1,tt=j==="title"?Be?-3:0:Be?C[0]+2:0,dt=Math.min(ue.width/ie,1),Ot=Math.max(Pe,dt),Nt=Hm({y:ke==="bottom"?Ce:tt+Ce},{align:j==="title"?dt<Pe?"left":"center":this.title?.alignValue},te),Bt=(te.width||(dt>Pe?this.chartWidth:ue.width)/Ot)+"px";Z.alignValue!==Nt.align&&(Z.placed=!1);let Ft=Math.round(Z.css({width:Bt}).getBBox(te.useHTML).height);if(Nt.height=Ft,Z.align(Nt,!1,ue).attr({align:Nt.align,scaleX:Ot,scaleY:Ot,"transform-origin":`${ue.x+ie*Ot*xA(Nt.align)} ${Ae}`}),!te.floating){let $t=Ft*(Ft<1.2*Ae?1:Ot);ke==="top"?C[0]=Math.ceil(C[0]+$t):ke==="bottom"&&(C[2]=Math.ceil(C[2]+$t))}}},this),C[0]&&(A.title?.verticalAlign||"top")==="top"&&(C[0]+=A.title?.margin||0),C[2]&&A.caption?.verticalAlign==="bottom"&&(C[2]+=A.caption?.margin||0);let V=!this.titleOffset||this.titleOffset.join(",")!==C.join(",");this.titleOffset=C,Fi(this,"afterLayOutTitles"),!this.isDirtyBox&&V&&(this.isDirtyBox=this.isDirtyLegend=V,this.hasRendered&&m&&this.isDirtyBox&&this.redraw())}getContainerBox(){let m=[].map.call(this.renderTo.children,A=>{if(A!==this.container){let R=A.style.display;return A.style.display="none",[A,R]}}),C={width:zE(this.renderTo,"width",!0)||0,height:zE(this.renderTo,"height",!0)||0};return m.filter(Boolean).forEach(([A,R])=>{A.style.display=R}),C}getChartSize(){let m=this.options.chart,C=m.width,A=m.height,R=this.getContainerBox(),D=R.height<=1||!this.renderTo.parentElement?.style.height&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,C||R.width||600),this.chartHeight=Math.max(0,Vu(A,this.chartWidth)||(D?400:R.height)),this.containerBox=R}temporaryDisplay(m){let C=this.renderTo,A;if(m)for(;C?.style;)C.hcOrigStyle&&(si(C,C.hcOrigStyle),delete C.hcOrigStyle),C.hcOrigDetached&&(ry.body.removeChild(C),C.hcOrigDetached=!1),C=C.parentNode;else for(;C?.style&&(ry.body.contains(C)||C.parentNode||(C.hcOrigDetached=!0,ry.body.appendChild(C)),(zE(C,"display",!1)==="none"||C.hcOricDetached)&&(C.hcOrigStyle={display:C.style.display,height:C.style.height,overflow:C.style.overflow},A={display:"block",overflow:"hidden"},C!==this.renderTo&&(A.height=0),si(C,A),C.offsetWidth||C.style.setProperty("display","block","important")),(C=C.parentNode)!==ry.body););}setClassName(m){this.container.className="highcharts-container "+(m||"")}getContainer(){let m,C=this.options,A=C.chart,R="data-highcharts-chart",D=ay(),V=this.renderTo,j=mf(pf(V,R));iy(j)&&Fg[j]&&Fg[j].hasRendered&&Fg[j].destroy(),pf(V,R,this.index),V.innerHTML=wr.emptyHTML,A.skipClone||V.offsetWidth||this.temporaryDisplay(),this.getChartSize();let Z=this.chartHeight,te=this.chartWidth;si(V,{overflow:"hidden"}),this.styledMode||(m=Fm({position:"relative",overflow:"hidden",width:te+"px",height:Z+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},A.style||{}));let ue=iu("div",{id:D},m,V);this.container=ue,this.getChartSize(),te!==this.chartWidth&&(te=this.chartWidth,this.styledMode||si(ue,{width:ad(A.style?.width,te+"px")})),this.containerBox=this.getContainerBox(),this._cursor=ue.style.cursor;let ie=A.renderer||!yr?nh.getRendererType(A.renderer):Qe;if(this.renderer=new ie(ue,te,Z,void 0,A.forExport,C.exporting?.allowHTML,this.styledMode),ap(void 0,this),this.setClassName(A.className),this.styledMode)for(let me in C.defs)this.renderer.definition(C.defs[me]);else this.renderer.setStyle(A.style);this.renderer.chartIndex=this.index,Fi(this,"afterGetContainer")}getMargins(m){let{spacing:C,margin:A,titleOffset:R}=this;this.resetMargins(),R[0]&&!Zp(A[0])&&(this.plotTop=Math.max(this.plotTop,R[0]+C[0])),R[2]&&!Zp(A[2])&&(this.marginBottom=Math.max(this.marginBottom,R[2]+C[2])),this.legend?.display&&this.legend.adjustMargins(A,C),Fi(this,"getMargins"),m||this.getAxisMargins()}getAxisMargins(){let m=this,C=m.axisOffset=[0,0,0,0],A=m.colorAxis,R=m.margin,D=V=>{V.forEach(j=>{j.visible&&j.getOffset()})};m.hasCartesianSeries?D(m.axes):A?.length&&D(A),Ba.forEach((V,j)=>{Zp(R[j])||(m[V]+=C[j])}),m.setChartSize()}getOptions(){return Kp(this.userOptions,Vm)}reflow(m){let C=this,A=C.containerBox,R=C.getContainerBox();delete C.pointer?.chartPosition,!C.exporting?.isPrinting&&!C.isResizing&&A&&R.width&&((R.width!==A.width||R.height!==A.height)&&(oo.clearTimeout(C.reflowTimeout),C.reflowTimeout=ld(function(){C.container&&C.setSize(void 0,void 0,!1)},100*!!m)),C.containerBox=R)}setReflow(){let m=this,C=A=>{m.options?.chart.reflow&&m.hasLoaded&&m.reflow(A)};if(typeof ResizeObserver=="function")new ResizeObserver(C).observe(m.renderTo);else{let A=p1($v,"resize",C);p1(this,"destroy",A)}}setSize(m,C,A){let R=this,D=R.renderer;R.isResizing+=1,ap(A,R);let V=D.globalAnimation;R.oldChartHeight=R.chartHeight,R.oldChartWidth=R.chartWidth,m!==void 0&&(R.options.chart.width=m),C!==void 0&&(R.options.chart.height=C),R.getChartSize();let{chartWidth:j,chartHeight:Z,scrollablePixelsX:te=0,scrollablePixelsY:ue=0}=R;(R.isDirtyBox||j!==R.oldChartWidth||Z!==R.oldChartHeight)&&(R.styledMode||(V?Vg:si)(R.container,{width:`${j+te}px`,height:`${Z+ue}px`},V),R.setChartSize(!0),D.setSize(j,Z,V),R.axes.forEach(function(ie){ie.isDirty=!0,ie.setScale()}),R.isDirtyLegend=!0,R.isDirtyBox=!0,R.layOutTitles(),R.getMargins(),R.redraw(V),R.oldChartHeight=void 0,Fi(R,"resize"),setTimeout(()=>{R&&Fi(R,"endResize")},TA(V).duration)),R.isResizing-=1}setChartSize(m){let C,A,R,D,{chartHeight:V,chartWidth:j,inverted:Z,spacing:te,renderer:ue}=this,ie=this.clipOffset,me=Math[Z?"floor":"round"];this.plotLeft=C=Math.round(this.plotLeft),this.plotTop=A=Math.round(this.plotTop),this.plotWidth=R=Math.max(0,Math.round(j-C-(this.marginRight??0))),this.plotHeight=D=Math.max(0,Math.round(V-A-(this.marginBottom??0))),this.plotSizeX=Z?D:R,this.plotSizeY=Z?R:D,this.spacingBox=ue.spacingBox={x:te[3],y:te[0],width:j-te[3]-te[1],height:V-te[0]-te[2]},this.plotBox=ue.plotBox={x:C,y:A,width:R,height:D},ie&&(this.clipBox={x:me(ie[3]),y:me(ie[0]),width:me(this.plotSizeX-ie[1]-ie[3]),height:me(this.plotSizeY-ie[0]-ie[2])}),m||(this.axes.forEach(function(Ce){Ce.setAxisSize(),Ce.setAxisTranslation()}),ue.alignElements()),Fi(this,"afterSetChartSize",{skipAxes:m})}resetMargins(){Fi(this,"resetMargins");let m=this,C=m.options.chart,A=C.plotBorderWidth||0,R=Math.round(A)/2;["margin","spacing"].forEach(D=>{let V=C[D],j=ZS(V)?V:[V,V,V,V];["Top","Right","Bottom","Left"].forEach((Z,te)=>{m[D][te]=C[`${D}${Z}`]??j[te]})}),Ba.forEach((D,V)=>{m[D]=m.margin[V]??m.spacing[V]}),m.axisOffset=[0,0,0,0],m.clipOffset=[R,R,R,R],m.plotBorderWidth=A}drawChartBox(){let m=this.options.chart,C=this.renderer,A=this.chartWidth,R=this.chartHeight,D=this.styledMode,V=this.plotBGImage,j=m.backgroundColor,Z=m.plotBackgroundColor,te=m.plotBackgroundImage,ue=this.plotLeft,ie=this.plotTop,me=this.plotWidth,Ce=this.plotHeight,Ae=this.plotBox,ke=this.clipRect,Be=this.clipBox,Pe=this.chartBackground,tt=this.plotBackground,dt=this.plotBorder,Ot,Nt,Bt,Ft="animate";Pe||(this.chartBackground=Pe=C.rect().addClass("highcharts-background").add(),Ft="attr"),D?Ot=Nt=Pe.strokeWidth():(Nt=(Ot=m.borderWidth||0)+8*!!m.shadow,Bt={fill:j||"none"},(Ot||Pe["stroke-width"])&&(Bt.stroke=m.borderColor,Bt["stroke-width"]=Ot),Pe.attr(Bt).shadow(m.shadow)),Pe[Ft]({x:Nt/2,y:Nt/2,width:A-Nt-Ot%2,height:R-Nt-Ot%2,r:m.borderRadius}),Ft="animate",tt||(Ft="attr",this.plotBackground=tt=C.rect().addClass("highcharts-plot-background").add()),tt[Ft](Ae),!D&&(tt.attr({fill:Z||"none"}).shadow(m.plotShadow),te&&(V?(te!==V.attr("href")&&V.attr("href",te),V.animate(Ae)):this.plotBGImage=C.image(te,ue,ie,me,Ce).add())),ke?ke.animate({width:Be.width,height:Be.height}):this.clipRect=C.clipRect(Be),Ft="animate",dt||(Ft="attr",this.plotBorder=dt=C.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),D||dt.attr({stroke:m.plotBorderColor,"stroke-width":m.plotBorderWidth||0,fill:"none"}),dt[Ft](dt.crisp(Ae,-dt.strokeWidth())),this.isDirtyBox=!1,Fi(this,"afterDrawChartBox")}propFromSeries(){let m,C,A,R=this,D=R.options.chart,V=R.options.series;["inverted","angular","polar"].forEach(function(j){for(C=fa[D.type],A=D[j]||C&&C.prototype[j],m=V?.length;!A&&m--;)(C=fa[V[m].type])&&C.prototype[j]&&(A=!0);R[j]=A})}linkSeries(m){let C=this,A=C.series;A.forEach(function(R){R.linkedSeries.length=0}),A.forEach(function(R){let{linkedTo:D}=R.options;if(KS(D)){let V;(V=D===":previous"?C.series[R.index-1]:C.get(D))&&V.linkedParent!==R&&(V.linkedSeries.push(R),R.linkedParent=V,V.enabledDataSorting&&R.setDataSortingOptions(),R.visible=ad(R.options.visible,V.options.visible,R.visible))}}),Fi(this,"afterLinkSeries",{isUpdating:m})}renderSeries(){this.series.forEach(function(m){m.translate(),m.render()})}render(){let m=this.axes,C=this.colorAxis,A=this.renderer,R=this.options.chart.axisLayoutRuns||2,D=ue=>{ue.forEach(ie=>{ie.visible&&ie.render()})},V=0,j=!0,Z,te=0;for(let ue of(this.setTitle(),Fi(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),m)){let{options:ie}=ue,{labels:me}=ie;if(this.hasCartesianSeries&&ue.horiz&&ue.visible&&me.enabled&&ue.series.length&&ue.coll!=="colorAxis"&&!this.polar){V=ie.tickLength,ue.createGroups();let Ce=new ou(ue,0,"",!0),Ae=Ce.createLabel("x",me);if(Ce.destroy(),Ae&&ad(me.reserveSpace,!iy(ie.crossing))&&(V=Ae.getBBox().height+me.distance+Math.max(ie.offset||0,0)),V){Ae?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-V,0);(j||Z||R>1)&&te<R;){let ue=this.plotWidth,ie=this.plotHeight;for(let me of m)te===0?me.setScale():(me.horiz&&j||!me.horiz&&Z)&&me.setTickInterval(!0);te===0?this.getAxisMargins():this.getMargins(),j=ue/this.plotWidth>(te?1:1.1),Z=ie/this.plotHeight>(te?1:1.05),te++}this.drawChartBox(),this.hasCartesianSeries?D(m):C?.length&&D(C),this.seriesGroup||(this.seriesGroup=A.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=A.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(m){let C=this,A=Hm(!0,this.options.credits,m);A.enabled&&!this.credits&&(this.credits=this.renderer.text(A.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){A.href&&($v.location.href=A.href)}).attr({align:A.position.align,zIndex:8}),C.styledMode||this.credits.css(A.style),this.credits.add().align(A.position),this.credits.update=function(R){C.credits=C.credits.destroy(),C.addCredits(R)})}destroy(){let m,C=this,A=C.axes,R=C.series,D=C.container,V=D?.parentNode;for(Fi(C,"destroy"),C.renderer.forExport?qS(Fg,C):Fg[C.index]=void 0,Me.chartCount--,C.renderTo.removeAttribute("data-highcharts-chart"),ch(C),m=A.length;m--;)A[m]=A[m].destroy();for(this.scroller?.destroy?.(),m=R.length;m--;)R[m]=R[m].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(j=>{C[j]=C[j]?.destroy?.()}),D&&(D.innerHTML=wr.emptyHTML,ch(D),V&&UE(D)),m1(C,function(j,Z){delete C[Z]})}firstRender(){let m=this,C=m.options;m.getContainer(),m.resetMargins(),m.setChartSize(),m.propFromSeries(),m.createAxes();let A=jE(C.series)?C.series:[];C.series=[],A.forEach(function(R){m.initSeries(R)}),m.linkSeries(),m.setSortedData(),Fi(m,"beforeRender"),m.render(),m.pointer?.getChartPosition(),m.renderer.imgCount||m.hasLoaded||m.onload(),m.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(m){m&&this.index!==void 0&&m.apply(this,[this])},this),Fi(this,"load"),Fi(this,"render"),Zp(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:m,title:C}=this;m&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(C?.element.textContent||"").replace(/</g,"&lt;")}),m.accessibility&&m.accessibility.enabled===!1||Hh('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(m,C,A){let R,D=this;return m&&(C=ad(C,!0),Fi(D,"addSeries",{options:m},function(){R=D.initSeries(m),D.isDirtyLegend=!0,D.linkSeries(),R.enabledDataSorting&&R.setData(m.data,!1),Fi(D,"afterAddSeries",{series:R}),C&&D.redraw(A)})),R}addAxis(m,C,A,R){return this.createAxis(C?"xAxis":"yAxis",{axis:m,redraw:A,animation:R})}addColorAxis(m,C,A){return this.createAxis("colorAxis",{axis:m,redraw:C,animation:A})}createAxis(m,C){let A=new Du(this,C.axis,m);return ad(C.redraw,!0)&&this.redraw(C.animation),A}showLoading(m){let C=this,A=C.options,R=A.loading,D=function(){V&&si(V,{left:C.plotLeft+"px",top:C.plotTop+"px",width:C.plotWidth+"px",height:C.plotHeight+"px"})},V=C.loadingDiv,j=C.loadingSpan;V||(C.loadingDiv=V=iu("div",{className:"highcharts-loading highcharts-loading-hidden"},null,C.container)),j||(C.loadingSpan=j=iu("span",{className:"highcharts-loading-inner"},null,V),p1(C,"redraw",D)),V.className="highcharts-loading",wr.setElementHTML(j,ad(m,A.lang.loading,"")),!C.styledMode&&(si(V,Fm(R.style,{zIndex:10})),si(j,R.labelStyle),C.loadingShown||(si(V,{opacity:0,display:""}),Vg(V,{opacity:R.style.opacity||.5},{duration:R.showDuration||0}))),C.loadingShown=!0,D()}hideLoading(){let m=this.options,C=this.loadingDiv;C&&(C.className="highcharts-loading highcharts-loading-hidden",this.styledMode||Vg(C,{opacity:0},{duration:m.loading.hideDuration||100,complete:function(){si(C,{display:"none"})}})),this.loadingShown=!1}update(m,C,A,R){let D,V,j,Z=this,te={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},ue=m.isResponsiveOptions,ie=[];Fi(Z,"update",{options:m}),ue||Z.setResponsive(!1,!0),m=Kp(m,Z.options),Z.userOptions=Hm(Z.userOptions,m);let me=m.chart;me&&(Hm(!0,Z.options.chart,me),this.setZoomOptions(),"className"in me&&Z.setClassName(me.className),("inverted"in me||"polar"in me||"type"in me)&&(Z.propFromSeries(),D=!0),"alignTicks"in me&&(D=!0),"events"in me&&Bn(this,me),m1(me,function(ke,Be){Z.propsRequireUpdateSeries.indexOf("chart."+Be)!==-1&&(V=!0),Z.propsRequireDirtyBox.indexOf(Be)!==-1&&(Z.isDirtyBox=!0),Z.propsRequireReflow.indexOf(Be)!==-1&&(Z.isDirtyBox=!0,ue||(j=!0))}),!Z.styledMode&&me.style&&Z.renderer.setStyle(Z.options.chart.style||{})),!Z.styledMode&&m.colors&&(this.options.colors=m.colors),m1(m,function(ke,Be){Z[Be]&&typeof Z[Be].update=="function"?Z[Be].update(ke,!1):typeof Z[te[Be]]=="function"?Z[te[Be]](ke):Be!=="colors"&&Z.collectionsWithUpdate.indexOf(Be)===-1&&Hm(!0,Z.options[Be],m[Be]),Be!=="chart"&&Z.propsRequireUpdateSeries.indexOf(Be)!==-1&&(V=!0)}),this.collectionsWithUpdate.forEach(function(ke){m[ke]&&(vs(m[ke]).forEach(function(Be,Pe){let tt,dt=Zp(Be.id);dt&&(tt=Z.get(Be.id)),!tt&&Z[ke]&&(tt=Z[ke][ad(Be.index,Pe)])&&(dt&&Zp(tt.options.id)||tt.options.isInternal)&&(tt=void 0),tt&&tt.coll===ke&&(tt.update(Be,!1),A&&(tt.touched=!0)),!tt&&A&&Z.collectionsWithInit[ke]&&(Z.collectionsWithInit[ke][0].apply(Z,[Be].concat(Z.collectionsWithInit[ke][1]||[]).concat([!1])).touched=!0)}),A&&Z[ke].forEach(function(Be){Be.touched||Be.options.isInternal?delete Be.touched:ie.push(Be)}))}),ie.forEach(function(ke){ke.chart&&ke.remove&&ke.remove(!1)}),D&&Z.axes.forEach(function(ke){ke.update({},!1)}),V&&Z.getSeriesOrderByLinks().forEach(function(ke){ke.chart&&ke.update({},!1)},this);let Ce=me?.width,Ae=me&&(KS(me.height)?Vu(me.height,Ce||Z.chartWidth):me.height);j||iy(Ce)&&Ce!==Z.chartWidth||iy(Ae)&&Ae!==Z.chartHeight?Z.setSize(Ce,Ae,R):ad(C,!0)&&Z.redraw(R),Fi(Z,"afterUpdate",{options:m,redraw:C,animation:R})}setSubtitle(m,C){this.applyDescription("subtitle",m),this.layOutTitles(C)}setCaption(m,C){this.applyDescription("caption",m),this.layOutTitles(C)}showResetZoom(){let m=this,C=Vm.lang,A=m.zooming.resetButton,R=A.theme,D=A.relativeTo==="chart"||A.relativeTo==="spacingBox"?null:"plotBox";function V(){m.zoomOut()}Fi(this,"beforeShowResetZoom",null,function(){m.resetZoomButton=m.renderer.button(C.resetZoom,null,null,V,R).attr({align:A.position.align,title:C.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(A.position,!1,D)}),Fi(this,"afterShowResetZoom")}zoomOut(){Fi(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(m,C){let A=this,R=typeof C=="object"?C:{enabled:C,type:"x"},D=R.type,V=D&&A[{x:"xAxis",xy:"axes",y:"yAxis"}[D]].filter(Z=>Z.options.panningEnabled&&!Z.options.isInternal),j=A.options.chart;j?.panning&&(j.panning=R),Fi(this,"pan",{originalEvent:m},()=>{A.transform({axes:V,event:m,to:{x:m.chartX-(A.mouseDownX||0),y:m.chartY-(A.mouseDownY||0)},trigger:"pan"}),si(A.container,{cursor:"move"})})}transform(m){let{axes:C=this.axes,event:A,from:R={},reset:D,selection:V,to:j={},trigger:Z}=m,{inverted:te,time:ue}=this;this.hoverPoints?.forEach(Ae=>Ae.setState()),Fi(this,"transform",m);let ie=m.hasZoomed||!1,me,Ce;for(let Ae of C){let{horiz:ke,len:Be,minPointOffset:Pe=0,options:tt,reversed:dt}=Ae,Ot=ke?"width":"height",Nt=ke?"x":"y",Bt=ad(j[Ot],Ae.len),Ft=ad(R[Ot],Ae.len),$t=10>Math.abs(Bt)?1:Bt/Ft,Hn=(R[Nt]||0)+Ft/2-Ae.pos,lo=Hn-((j[Nt]??Ae.pos)+Bt/2-Ae.pos)/$t,_n=dt&&!te||!dt&&te?-1:1;if(!D&&(Hn<0||Hn>Ae.len))continue;let Uo=Ae.chart.polar||Ae.isOrdinal?0:Pe*_n||0,Js=Ae.toValue(lo,!0),ar=Ae.toValue(lo+Be/$t,!0),ns=Js+Uo,Cs=ar-Uo,qs=Ae.allExtremes;if(V&&V[Ae.coll].push({axis:Ae,min:Math.min(Js,ar),max:Math.max(Js,ar)}),ns>Cs&&([ns,Cs]=[Cs,ns]),$t===1&&!D&&Ae.coll==="yAxis"&&!qs){for(let Ud of Ae.series){let rm=Ud.getExtremes(Ud.getProcessedData(!0).modified.getColumn("y")||[],!0);qs??(qs={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),iy(rm.dataMin)&&iy(rm.dataMax)&&(qs.dataMin=Math.min(rm.dataMin,qs.dataMin),qs.dataMax=Math.max(rm.dataMax,qs.dataMax))}Ae.allExtremes=qs}let{dataMin:Da,dataMax:Ai,min:lu,max:Rr}=Fm(Ae.getExtremes(),qs||{}),gr=ue.parse(tt.min),ui=ue.parse(tt.max),gi=Da??gr,Wr=Ai??ui,Xa=Cs-ns,Ti=Ae.categories?0:Math.min(Xa,Wr-gi),Ll=gi-Ti*(Zp(gr)?0:tt.minPadding),$u=Wr+Ti*(Zp(ui)?0:tt.maxPadding),$d=Ae.allowZoomOutside||$t===1||Z!=="zoom"&&$t>1,pp=Math.min(gr??Ll,Ll,$d?lu:Ll),Ef=Math.max(ui??$u,$u,$d?Rr:$u);(!Ae.isOrdinal||$t!==1||D)&&(ns<pp&&(ns=pp,$t>=1&&(Cs=ns+Xa)),Cs>Ef&&(Cs=Ef,$t>=1&&(ns=Cs-Xa)),(D||Ae.series.length&&(ns!==lu||Cs!==Rr)&&ns>=pp&&Cs<=Ef)&&(V?V[Ae.coll].push({axis:Ae,min:ns,max:Cs}):(Ae.isPanning=Z!=="zoom",Ae.isPanning&&(Ce=!0),Ae.setExtremes(D?void 0:ns,D?void 0:Cs,!1,!1,{move:lo,trigger:Z,scale:$t}),!D&&(ns>pp||Cs<Ef)&&Z!=="mousewheel"&&(me=!0)),ie=!0),this.hasCartesianSeries||D||Z==="mousewheel"||(me=!0),A&&(this[ke?"mouseDownX":"mouseDownY"]=A[ke?"chartX":"chartY"]))}return ie&&(V?Fi(this,"selection",V,()=>{delete m.selection,m.trigger="zoom",this.transform(m)}):(!me||Ce||this.resetZoomButton?!me&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(Z==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),ie}}Fm(Hg.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Hg.prototype.addAxis,[!0]],yAxis:[Hg.prototype.addAxis,[!1]],series:[Hg.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:YO}=Aa,{composed:YS}=Me,{addEvent:lp,createElement:$m,css:a0,defined:Um,erase:WE,merge:GE,pushUnique:ka}=oo;function cp(){let Q=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!Q&&(this.scrollablePlotArea=Q=new up(this)),Q?.applyFixed()}function cd(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class up{static compose(m,C,A){ka(YS,this.compose)&&(lp(m,"afterInit",cd),lp(C,"afterSetChartSize",R=>this.afterSetSize(R.target,R)),lp(C,"render",cp),lp(A,"show",cd))}static afterSetSize(m,C){let A,R,D,{minWidth:V,minHeight:j}=m.options.chart.scrollablePlotArea||{},{clipBox:Z,plotBox:te,inverted:ue,renderer:ie}=m;if(!ie.forExport)if(V?(m.scrollablePixelsX=A=Math.max(0,V-m.chartWidth),A&&(m.scrollablePlotBox=GE(m.plotBox),te.width=m.plotWidth+=A,Z[ue?"height":"width"]+=A,D=!0)):j&&(m.scrollablePixelsY=R=Math.max(0,j-m.chartHeight),Um(R)&&(m.scrollablePlotBox=GE(m.plotBox),te.height=m.plotHeight+=R,Z[ue?"width":"height"]+=R,D=!1)),Um(D)){if(!C.skipAxes)for(let me of m.axes)(me.horiz===D||m.hasParallelCoordinates&&me.coll==="yAxis")&&(me.setAxisSize(),me.setAxisTranslation())}else delete m.scrollablePlotBox}constructor(m){let C,A=m.options.chart,R=nh.getRendererType(),D=A.scrollablePlotArea||{},V=this.moveFixedElements.bind(this),j={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};m.scrollablePixelsX&&(j.overflowX="auto"),m.scrollablePixelsY&&(j.overflowY="auto"),this.chart=m;let Z=this.parentDiv=$m("div",{className:"highcharts-scrolling-parent"},{position:"relative"},m.renderTo),te=this.scrollingContainer=$m("div",{className:"highcharts-scrolling"},j,Z),ue=this.innerContainer=$m("div",{className:"highcharts-inner-container"},void 0,te),ie=this.fixedDiv=$m("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(A.style?.zIndex||0)+2,top:0},void 0,!0),me=this.fixedRenderer=new R(ie,m.chartWidth,m.chartHeight,A.style);this.mask=me.path().attr({fill:A.backgroundColor||"#fff","fill-opacity":D.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),te.parentNode.insertBefore(ie,te),a0(m.renderTo,{overflow:"visible"}),lp(m,"afterShowResetZoom",V),lp(m,"afterApplyDrilldown",V),lp(m,"afterLayOutTitles",V),lp(te,"scroll",()=>{let{pointer:Ce,hoverPoint:Ae}=m;Ce&&(delete Ce.chartPosition,Ae&&(C=Ae),Ce.runPointActions(void 0,C,!0))}),ue.appendChild(m.container)}applyFixed(){let{chart:m,fixedRenderer:C,isDirty:A,scrollingContainer:R}=this,{axisOffset:D,chartWidth:V,chartHeight:j,container:Z,plotHeight:te,plotLeft:ue,plotTop:ie,plotWidth:me,scrollablePixelsX:Ce=0,scrollablePixelsY:Ae=0}=m,{scrollPositionX:ke=0,scrollPositionY:Be=0}=m.options.chart.scrollablePlotArea||{},Pe=V+Ce,tt=j+Ae;C.setSize(V,j),(A??!0)&&(this.isDirty=!1,this.moveFixedElements()),YO(m.container),a0(Z,{width:`${Pe}px`,height:`${tt}px`}),m.renderer.boxWrapper.attr({width:Pe,height:tt,viewBox:[0,0,Pe,tt].join(" ")}),m.chartBackground?.attr({width:Pe,height:tt}),a0(R,{width:`${V}px`,height:`${j}px`}),Um(A)||(R.scrollLeft=Ce*ke,R.scrollTop=Ae*Be);let dt=ie-D[0]-1,Ot=ue-D[3]-1,Nt=ie+te+D[2]+1,Bt=ue+me+D[1]+1,Ft=ue+me-Ce,$t=ie+te-Ae,Hn=[["M",0,0]];Ce?Hn=[["M",0,dt],["L",ue-1,dt],["L",ue-1,Nt],["L",0,Nt],["Z"],["M",Ft,dt],["L",V,dt],["L",V,Nt],["L",Ft,Nt],["Z"]]:Ae&&(Hn=[["M",Ot,0],["L",Ot,ie-1],["L",Bt,ie-1],["L",Bt,0],["Z"],["M",Ot,$t],["L",Ot,j],["L",Bt,j],["L",Bt,$t],["Z"]]),m.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:Hn})}moveFixedElements(){let m,{container:C,inverted:A,scrollablePixelsX:R,scrollablePixelsY:D}=this.chart,V=this.fixedRenderer,j=up.fixedSelectors;if(R&&!A?m=".highcharts-yaxis":R&&A||D&&!A?m=".highcharts-xaxis":D&&A&&(m=".highcharts-yaxis"),m&&!(this.chart.hasParallelCoordinates&&m===".highcharts-yaxis"))for(let Z of[`${m}:not(.highcharts-radial-axis)`,`${m}-labels:not(.highcharts-radial-axis-labels)`])ka(j,Z);else for(let Z of[".highcharts-xaxis",".highcharts-yaxis"])for(let te of[`${Z}:not(.highcharts-radial-axis)`,`${Z}-labels:not(.highcharts-radial-axis-labels)`])WE(j,te);for(let Z of j)[].forEach.call(C.querySelectorAll(Z),te=>{(te.namespaceURI===V.SVG_NS?V.box:V.box.parentNode).appendChild(te),te.style.pointerEvents="auto"})}}up.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:ud}=Pr,{series:ly}=Ss,{destroyObjectProperties:yc,fireEvent:Bc,getAlignFactor:Uv,isNumber:xn,pick:Fu}=oo,l0=class{constructor(Q,m,C,A,R){let D=Q.chart.inverted,V=Q.reversed;this.axis=Q;let j=this.isNegative=!!C!=!!V;this.options=m=m||{},this.x=A,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=R,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:m.align||(D?j?"left":"right":"center"),verticalAlign:m.verticalAlign||(D?"middle":j?"bottom":"top"),y:m.y,x:m.x},this.textAlign=m.textAlign||(D?j?"right":"left":"center")}destroy(){yc(this,this.axis)}render(Q){let m=this.axis.chart,C=this.options,A=C.format,R=A?ud(A,this,m):C.formatter.call(this);if(this.label)this.label.attr({text:R,visibility:"hidden"});else{this.label=m.renderer.label(R,null,void 0,C.shape,void 0,void 0,C.useHTML,!1,"stack-labels");let D={r:C.borderRadius||0,text:R,padding:Fu(C.padding,5),visibility:"hidden"};m.styledMode||(D.fill=C.backgroundColor,D.stroke=C.borderColor,D["stroke-width"]=C.borderWidth,this.label.css(C.style||{})),this.label.attr(D),this.label.added||this.label.add(Q)}this.label.labelrank=m.plotSizeY,Bc(this,"afterRender")}setOffset(Q,m,C,A,R,D){let{alignOptions:V,axis:j,label:Z,options:te,textAlign:ue}=this,ie=j.chart,me=this.getStackBox({xOffset:Q,width:m,boxBottom:C,boxTop:A,defaultX:R,xAxis:D}),{verticalAlign:Ce}=V;if(Z&&me){let Ae=Z.getBBox(void 0,0),ke=Z.padding,Be=Fu(te.overflow,"justify")==="justify",Pe;V.x=te.x||0,V.y=te.y||0;let{x:tt,y:dt}=this.adjustStackPosition({labelBox:Ae,verticalAlign:Ce,textAlign:ue});me.x-=tt,me.y-=dt,Z.align(V,!1,me),(Pe=ie.isInsidePlot(Z.alignAttr.x+V.x+tt,Z.alignAttr.y+V.y+dt))||(Be=!1),Be&&ly.prototype.justifyDataLabel.call(j,Z,V,Z.alignAttr,Ae,me),Z.attr({x:Z.alignAttr.x,y:Z.alignAttr.y,rotation:te.rotation,rotationOriginX:Ae.width*Uv(te.textAlign||"center"),rotationOriginY:Ae.height/2}),Fu(!Be&&te.crop,!0)&&(Pe=xn(Z.x)&&xn(Z.y)&&ie.isInsidePlot(Z.x-ke+(Z.width||0),Z.y)&&ie.isInsidePlot(Z.x+ke,Z.y)),Z[Pe?"show":"hide"]()}Bc(this,"afterSetOffset",{xOffset:Q,width:m})}adjustStackPosition({labelBox:Q,verticalAlign:m,textAlign:C}){return{x:Q.width/2+Q.width/2*(2*Uv(C)-1),y:Q.height/2*2*(1-Uv(m))}}getStackBox(Q){let m=this.axis,C=m.chart,{boxTop:A,defaultX:R,xOffset:D,width:V,boxBottom:j}=Q,Z=m.stacking.usePercentage?100:Fu(A,this.total,0),te=m.toPixels(Z),ue=Q.xAxis||C.xAxis[0],ie=Fu(R,ue.translate(this.x))+D,me=Math.abs(te-m.toPixels(j||xn(m.min)&&m.logarithmic&&m.logarithmic.lin2log(m.min)||0)),Ce=C.inverted,Ae=this.isNegative;return Ce?{x:(Ae?te:te-me)-C.plotLeft,y:ue.height-ie-V+ue.top-C.plotTop,width:me,height:V}:{x:ie+ue.transB-C.plotLeft,y:(Ae?te-me:te)-C.plotTop,width:V,height:me}}},{getDeferredAnimation:oc}=Aa,{series:{prototype:gf}}=Ss,{addEvent:$h,correctFloat:c0,defined:zm,destroyObjectProperties:OA,fireEvent:Hd,isNumber:li,objectEach:Hu,pick:cy}=oo;function il(){let Q=this.inverted;this.axes.forEach(m=>{m.stacking?.stacks&&m.hasVisibleSeries&&(m.stacking.oldStacks=m.stacking.stacks)}),this.series.forEach(m=>{let C=m.xAxis?.options||{};m.options.stacking&&m.reserveSpace()&&(m.stackKey=[m.type,cy(m.options.stack,""),Q?C.top:C.left,Q?C.height:C.width].join(","))})}function IA(){let Q=this.stacking;if(Q){let m=Q.stacks;Hu(m,(C,A)=>{OA(C),delete m[A]}),Q.stackTotalGroup?.destroy()}}function XS(){this.stacking||(this.stacking=new dd(this))}function Yp(Q,m,C,A){return!zm(Q)||Q.x!==m||A&&Q.stackKey!==A?Q={x:m,index:0,key:A,stackKey:A}:Q.index++,Q.key=[C,m,Q.index].join(","),Q}function qE(){let Q,m=this,C=m.yAxis,A=m.stackKey||"",R=C.stacking.stacks,D=m.getColumn("x",!0),V=m.options.stacking,j=m[V+"Stacker"];j&&[A,"-"+A].forEach(Z=>{let te=D.length,ue,ie,me;for(;te--;)ue=D[te],Q=m.getStackIndicator(Q,ue,m.index,Z),ie=R[Z]?.[ue],(me=ie?.points[Q.key||""])&&j.call(m,me,ie,te)})}function uh(Q,m,C){let A=m.total?100/m.total:0;Q[0]=c0(Q[0]*A),Q[1]=c0(Q[1]*A),this.stackedYData[C]=Q[1]}function ZE(Q){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?gf.setStackedPoints.call(this,Q,"group"):Q.stacking.resetStacks())}function Wt(Q,m){let C,A,R,D,V,j,Z,te=m||this.options.stacking;if(!te||!this.reserveSpace()||({group:"xAxis"}[te]||"yAxis")!==Q.coll)return;let ue=this.getColumn("x",!0),ie=this.getColumn(this.pointValKey||"y",!0),me=[],Ce=ie.length,Ae=this.options,ke=Ae.threshold||0,Be=Ae.startFromThreshold?ke:0,Pe=Ae.stack,tt=m?`${this.type},${te}`:this.stackKey||"",dt="-"+tt,Ot=this.negStacks,Nt=Q.stacking,Bt=Nt.stacks,Ft=Nt.oldStacks;for(Nt.stacksTouched+=1,Z=0;Z<Ce;Z++){let $t=ue[Z]||0,Hn=ie[Z],lo=li(Hn)&&Hn||0;j=(C=this.getStackIndicator(C,$t,this.index)).key||"",Bt[V=(A=Ot&&lo<(Be?0:ke))?dt:tt]||(Bt[V]={}),Bt[V][$t]||(Ft[V]?.[$t]?(Bt[V][$t]=Ft[V][$t],Bt[V][$t].total=null):Bt[V][$t]=new l0(Q,Q.options.stackLabels,!!A,$t,Pe)),R=Bt[V][$t],Hn!==null?(R.points[j]=R.points[this.index]=[cy(R.cumulative,Be)],zm(R.cumulative)||(R.base=j),R.touched=Nt.stacksTouched,C.index>0&&this.singleStacks===!1&&(R.points[j][0]=R.points[this.index+","+$t+",0"][0])):(delete R.points[j],delete R.points[this.index]);let _n=R.total||0;te==="percent"?(D=A?tt:dt,_n=Ot&&Bt[D]?.[$t]?(D=Bt[D][$t]).total=Math.max(D.total||0,_n)+Math.abs(lo):c0(_n+Math.abs(lo))):te==="group"?li(Hn)&&_n++:_n=c0(_n+lo),te==="group"?R.cumulative=(_n||1)-1:R.cumulative=c0(cy(R.cumulative,Be)+lo),R.total=_n,Hn!==null&&(R.points[j].push(R.cumulative),me[Z]=R.cumulative,R.hasValidPoints=!0)}te==="percent"&&(Nt.usePercentage=!0),te!=="group"&&(this.stackedYData=me),Nt.oldStacks={}}class dd{constructor(m){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=m}buildStacks(){let m,C,A=this.axis,R=A.series,D=A.coll==="xAxis",V=A.options.reversedStacks,j=R.length;for(this.resetStacks(),this.usePercentage=!1,C=j;C--;)m=R[V?C:j-C-1],D&&m.setGroupedPoints(A),m.setStackedPoints(A);if(!D)for(C=0;C<j;C++)R[C].modifyStacks();Hd(A,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,Hu(this.stacks,m=>{Hu(m,C=>{C.cumulative=C.total})}))}resetStacks(){Hu(this.stacks,m=>{Hu(m,(C,A)=>{li(C.touched)&&C.touched<this.stacksTouched?(C.destroy(),delete m[A]):(C.total=null,C.cumulative=null)})})}renderStackTotals(){let m=this.axis,C=m.chart,A=C.renderer,R=this.stacks,D=oc(C,m.options.stackLabels?.animation||!1),V=this.stackTotalGroup=this.stackTotalGroup||A.g("stack-labels").attr({zIndex:6,opacity:0}).add();V.translate(C.plotLeft,C.plotTop),Hu(R,j=>{Hu(j,Z=>{Z.render(V)})}),V.animate({opacity:1},D)}}(H||(H={})).compose=function(Q,m,C){let A=m.prototype,R=C.prototype;A.getStacks||($h(Q,"init",XS),$h(Q,"destroy",IA),A.getStacks=il,R.getStackIndicator=Yp,R.modifyStacks=qE,R.percentStacker=uh,R.setGroupedPoints=ZE,R.setStackedPoints=Wt)};let u0=H,{defined:Va,merge:dh,isObject:Vc}=oo;class ci extends id{drawGraph(){let m=this.options,C=(this.gappedPath||this.getGraphPath).call(this),A=this.chart.styledMode;[this,...this.zones].forEach((R,D)=>{let V,j=R.graph,Z=j?"animate":"attr",te=R.dashStyle||m.dashStyle;j?(j.endX=this.preventGraphAnimation?null:C.xMap,j.animate({d:C})):C.length&&(R.graph=j=this.chart.renderer.path(C).addClass("highcharts-graph"+(D?` highcharts-zone-graph-${D-1} `:" ")+(D&&R.className||"")).attr({zIndex:1}).add(this.group)),j&&!A&&(V={stroke:!D&&m.lineColor||R.color||this.color||"#cccccc","stroke-width":m.lineWidth||0,fill:this.fillGraph&&this.color||"none"},te?V.dashstyle=te:m.linecap!=="square"&&(V["stroke-linecap"]=V["stroke-linejoin"]="round"),j[Z](V).shadow(m.shadow&&dh({filterUnits:"userSpaceOnUse"},Vc(m.shadow)?m.shadow:{}))),j&&(j.startX=C.xMap,j.isArea=C.isArea)})}getGraphPath(m,C,A){let R=this,D=R.options,V=[],j=[],Z,te=D.step,ue=(m=m||R.points).reversed;return ue&&m.reverse(),(te={right:1,center:2}[te]||te&&3)&&ue&&(te=4-te),(m=this.getValidPoints(m,!1,D.nullInteraction||!(D.connectNulls&&!C&&!A))).forEach(function(ie,me){let Ce,Ae=ie.plotX,ke=ie.plotY,Be=m[me-1],Pe=ie.isNull||typeof ke!="number";(ie.leftCliff||Be?.rightCliff)&&!A&&(Z=!0),Pe&&!Va(C)&&me>0?Z=!D.connectNulls:Pe&&!C?Z=!0:(me===0||Z?Ce=[["M",ie.plotX,ie.plotY]]:R.getPointSpline?Ce=[R.getPointSpline(m,ie,me)]:te?(Ce=te===1?[["L",Be.plotX,ke]]:te===2?[["L",(Be.plotX+Ae)/2,Be.plotY],["L",(Be.plotX+Ae)/2,ke]]:[["L",Ae,Be.plotY]]).push(["L",Ae,ke]):Ce=[["L",Ae,ke]],j.push(ie.x),te&&(j.push(ie.x),te===2&&j.push(ie.x)),V.push.apply(V,Ce),Z=!1)}),V.xMap=j,R.graphPath=V,V}}ci.defaultOptions=dh(id.defaultOptions,{legendSymbol:"lineMarker"}),Ss.registerSeriesType("line",ci);let{seriesTypes:{line:JS}}=Ss,{extend:zv,merge:KE,objectEach:jv,pick:$g}=oo;class QS extends JS{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:m,options:C}=this;[this,...this.zones].forEach((A,R)=>{let D={},V=A.fillColor||C.fillColor,j=A.area,Z=j?"animate":"attr";j?(j.endX=this.preventGraphAnimation?null:m.xMap,j.animate({d:m})):(D.zIndex=0,(j=A.area=this.chart.renderer.path(m).addClass("highcharts-area"+(R?` highcharts-zone-area-${R-1} `:" ")+(R&&A.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(D.fill=V||A.color||this.color,D["fill-opacity"]=V?1:C.fillOpacity??.75,j.css({pointerEvents:this.stickyTracking?"none":"auto"})),j[Z](D),j.startX=m.xMap,j.shiftUnit=C.step?2:1})}getGraphPath(m){let C,A,R,D=JS.prototype.getGraphPath,V=this.options,j=V.stacking,Z=this.yAxis,te=[],ue=[],ie=this.index,me=Z.stacking.stacks[this.stackKey],Ce=V.threshold,Ae=Math.round(Z.getThreshold(V.threshold)),ke=$g(V.connectNulls,j==="percent"),Be=function(Bt,Ft,$t){let Hn=m[Bt],lo=j&&me[Hn.x].points[ie],_n=Hn[$t+"Null"]||0,Uo=Hn[$t+"Cliff"]||0,Js,ar,ns=!0;Uo||_n?(Js=(_n?lo[0]:lo[1])+Uo,ar=lo[0]+Uo,ns=!!_n):!j&&m[Ft]&&m[Ft].isNull&&(Js=ar=Ce),Js!==void 0&&(ue.push({plotX:C,plotY:Js===null?Ae:Z.getThreshold(Js),isNull:ns,isCliff:!0}),te.push({plotX:C,plotY:ar===null?Ae:Z.getThreshold(ar),doCurve:!1}))};m=m||this.points,j&&(m=this.getStackPoints(m));for(let Bt=0,Ft=m.length;Bt<Ft;++Bt)j||(m[Bt].leftCliff=m[Bt].rightCliff=m[Bt].leftNull=m[Bt].rightNull=void 0),A=m[Bt].isNull,C=$g(m[Bt].rectPlotX,m[Bt].plotX),R=j?$g(m[Bt].yBottom,Ae):Ae,(!A||ke)&&(ke||Be(Bt,Bt-1,"left"),A&&!j&&ke||(ue.push(m[Bt]),te.push({x:Bt,plotX:C,plotY:R})),ke||Be(Bt,Bt+1,"right"));let Pe=D.call(this,ue,!0,!0);te.reversed=!0;let tt=D.call(this,te,!0,!0),dt=tt[0];dt&&dt[0]==="M"&&(tt[0]=["L",dt[1],dt[2]]);let Ot=Pe.concat(tt);Ot.length&&Ot.push(["Z"]);let Nt=D.call(this,ue,!1,ke);return this.chart.series.length>1&&j&&ue.some(Bt=>Bt.isCliff)&&(Ot.hasStackedCliffs=Nt.hasStackedCliffs=!0),Ot.xMap=Pe.xMap,this.areaPath=Ot,Nt}getStackPoints(m){let C=this,A=[],R=[],D=this.xAxis,V=this.yAxis,j=V.stacking.stacks[this.stackKey],Z={},te=V.series,ue=te.length,ie=V.options.reversedStacks?1:-1,me=te.indexOf(C);if(m=m||this.points,this.options.stacking){for(let Ae=0;Ae<m.length;Ae++)m[Ae].leftNull=m[Ae].rightNull=void 0,Z[m[Ae].x]=m[Ae];jv(j,function(Ae,ke){Ae.total!==null&&R.push(ke)}),R.sort(function(Ae,ke){return Ae-ke});let Ce=te.map(Ae=>Ae.visible);R.forEach(function(Ae,ke){let Be=0,Pe,tt;if(Z[Ae]&&!Z[Ae].isNull)A.push(Z[Ae]),[-1,1].forEach(function(dt){let Ot=dt===1?"rightNull":"leftNull",Nt=j[R[ke+dt]],Bt=0;if(Nt){let Ft=me;for(;Ft>=0&&Ft<ue;){let $t=te[Ft].index;!(Pe=Nt.points[$t])&&($t===C.index?Z[Ae][Ot]=!0:Ce[Ft]&&(tt=j[Ae].points[$t])&&(Bt-=tt[1]-tt[0])),Ft+=ie}}Z[Ae][dt===1?"rightCliff":"leftCliff"]=Bt});else{let dt=me;for(;dt>=0&&dt<ue;){let Ot=te[dt].index;if(Pe=j[Ae].points[Ot]){Be=Pe[1];break}dt+=ie}Be=$g(Be,0),Be=V.translate(Be,0,1,0,1),A.push({isNull:!0,plotX:D.translate(Ae,0,0,0,1),x:Ae,plotY:Be,yBottom:Be})}})}return A}}QS.defaultOptions=KE(JS.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),zv(QS.prototype,{singleStacks:!1}),Ss.registerSeriesType("area",QS);let{line:YE}=Ss.seriesTypes,{merge:Ug,pick:Wv}=oo;class RA extends YE{getPointSpline(m,C,A){let R,D,V,j,Z=C.plotX||0,te=C.plotY||0,ue=m[A-1],ie=m[A+1];function me(Ae){return Ae&&!Ae.isNull&&Ae.doCurve!==!1&&!C.isCliff}if(me(ue)&&me(ie)){let Ae=ue.plotX||0,ke=ue.plotY||0,Be=ie.plotX||0,Pe=ie.plotY||0,tt=0;R=(1.5*Z+Ae)/2.5,D=(1.5*te+ke)/2.5,V=(1.5*Z+Be)/2.5,j=(1.5*te+Pe)/2.5,V!==R&&(tt=(j-D)*(V-Z)/(V-R)+te-j),D+=tt,j+=tt,D>ke&&D>te?(D=Math.max(ke,te),j=2*te-D):D<ke&&D<te&&(D=Math.min(ke,te),j=2*te-D),j>Pe&&j>te?(j=Math.max(Pe,te),D=2*te-j):j<Pe&&j<te&&(j=Math.min(Pe,te),D=2*te-j),C.rightContX=V,C.rightContY=j,C.controlPoints={low:[R,D],high:[V,j]}}let Ce=["C",Wv(ue.rightContX,ue.plotX,0),Wv(ue.rightContY,ue.plotY,0),Wv(R,Z,0),Wv(D,te,0),Z,te];return ue.rightContX=ue.rightContY=void 0,Ce}}RA.defaultOptions=Ug(YE.defaultOptions),Ss.registerSeriesType("spline",RA);let Gv=RA,{area:Fc,area:{prototype:sc}}=Ss.seriesTypes,{extend:zg,merge:jg}=oo;class Wg extends Gv{}Wg.defaultOptions=jg(Gv.defaultOptions,Fc.defaultOptions),zg(Wg.prototype,{getGraphPath:sc.getGraphPath,getStackPoints:sc.getStackPoints,drawGraph:sc.drawGraph}),Ss.registerSeriesType("areaspline",Wg);let{animObject:d0}=Aa,{parse:hd}=or,{noop:qv}=Me,{clamp:_l,crisp:uy,defined:vf,extend:bf,fireEvent:g1,isArray:rc,isNumber:Gg,merge:Xp,pick:Jp,objectEach:jm}=oo;class Zv extends id{animate(m){let C,A,R=this,D=this.yAxis,V=D.pos,j=D.reversed,Z=R.options,{clipOffset:te,inverted:ue}=this.chart,ie={},me=ue?"translateX":"translateY";m&&te?(ie.scaleY=.001,A=_l(D.toPixels(Z.threshold||0),V,V+D.len),ue?ie.translateX=(A+=j?-Math.floor(te[0]):Math.ceil(te[2]))-D.len:ie.translateY=A+=j?Math.ceil(te[0]):-Math.floor(te[2]),R.clipBox&&R.setClip(),R.group.attr(ie)):(C=Number(R.group.attr(me)),R.group.animate({scaleY:1},bf(d0(R.options.animation),{step:function(Ce,Ae){R.group&&(ie[me]=C+Ae.pos*(V-C),R.group.attr(ie))}})))}init(m,C){super.init.apply(this,arguments);let A=this;(m=A.chart).hasRendered&&m.series.forEach(function(R){R.type===A.type&&(R.isDirty=!0)})}getColumnMetrics(){let m=this,C=m.options,A=m.xAxis,R=m.yAxis,D=A.options.reversedStacks,V=A.reversed&&!D||!A.reversed&&D,j={},Z,te=0;C.grouping===!1?te=1:m.chart.series.forEach(function(ke){let Be,Pe=ke.yAxis,tt=ke.options;ke.type===m.type&&ke.reserveSpace()&&R.len===Pe.len&&R.pos===Pe.pos&&(tt.stacking&&tt.stacking!=="group"?(j[Z=ke.stackKey]===void 0&&(j[Z]=te++),Be=j[Z]):tt.grouping!==!1&&(Be=te++),ke.columnIndex=Be)});let ue=Math.min(Math.abs(A.transA)*(!A.brokenAxis?.hasBreaks&&A.ordinal?.slope||C.pointRange||A.closestPointRange||A.tickInterval||1),A.len),ie=ue*C.groupPadding,me=(ue-2*ie)/(te||1),Ce=Math.min(C.maxPointWidth||A.len,Jp(C.pointWidth,me*(1-2*C.pointPadding))),Ae=(m.columnIndex||0)+ +!!V;return m.columnMetrics={width:Ce,offset:(me-Ce)/2+(ie+Ae*me-ue/2)*(V?-1:1),paddedWidth:me,columnCount:te},m.columnMetrics}crispCol(m,C,A,R){let D=this.borderWidth,V=this.chart.inverted;return R=uy(C+R,D,V)-(C=uy(C,D,V)),this.options.crisp&&(A=uy(m+A,D)-(m=uy(m,D))),{x:m,y:C,width:A,height:R}}adjustForMissingColumns(m,C,A,R){if(!A.isNull&&R.columnCount>1){let D=this.xAxis.series.filter(te=>te.visible).map(te=>te.index),V=0,j=0;jm(this.xAxis.stacking?.stacks,te=>{let ue=typeof A.x=="number"?te[A.x.toString()]?.points:void 0,ie=ue?.[this.index],me={};if(ue&&rc(ie)){let Ce=this.index,Ae=Object.keys(ue).filter(ke=>!ke.match(",")&&ue[ke]&&ue[ke].length>1).map(parseFloat).filter(ke=>D.indexOf(ke)!==-1).filter(ke=>{let Be=this.chart.series[ke].options,Pe=Be.stacking&&Be.stack;if(vf(Pe)){if(Gg(me[Pe]))return Ce===ke&&(Ce=me[Pe]),!1;me[Pe]=ke}return!0}).sort((ke,Be)=>Be-ke);V=Ae.indexOf(Ce),j=Ae.length}}),V=this.xAxis.reversed?j-1-V:V;let Z=(j-1)*R.paddedWidth+C;m=(A.plotX||0)+Z/2-C-V*R.paddedWidth}return m}translate(){let m=this,C=m.chart,A=m.options,R=m.dense=m.closestPointRange*m.xAxis.transA<2,D=m.borderWidth=Jp(A.borderWidth,+!R),V=m.xAxis,j=m.yAxis,Z=A.threshold,te=Jp(A.minPointLength,5),ue=m.getColumnMetrics(),ie=ue.width,me=m.pointXOffset=ue.offset,Ce=m.dataMin,Ae=m.dataMax,ke=m.translatedThreshold=j.getThreshold(Z),Be=m.barW=Math.max(ie,1+2*D);A.pointPadding&&A.crisp&&(Be=Math.ceil(Be)),id.prototype.translate.apply(m),m.points.forEach(function(Pe){let tt=Jp(Pe.yBottom,ke),dt=999+Math.abs(tt),Ot=Pe.plotX||0,Nt=_l(Pe.plotY,-dt,j.len+dt),Bt,Ft=Math.min(Nt,tt),$t=Math.max(Nt,tt)-Ft,Hn=ie,lo=Ot+me,_n=Be;te&&Math.abs($t)<te&&($t=te,Bt=!j.reversed&&!Pe.negative||j.reversed&&Pe.negative,Gg(Z)&&Gg(Ae)&&Pe.y===Z&&Ae<=Z&&(j.min||0)<Z&&(Ce!==Ae||(j.max||0)<=Z)&&(Bt=!Bt,Pe.negative=!Pe.negative),Ft=Math.abs(Ft-ke)>te?tt-te:ke-(Bt?te:0)),vf(Pe.options.pointWidth)&&(lo-=Math.round(((Hn=_n=Math.ceil(Pe.options.pointWidth))-ie)/2)),A.centerInCategory&&(lo=m.adjustForMissingColumns(lo,Hn,Pe,ue)),Pe.barX=lo,Pe.pointWidth=Hn,Pe.tooltipPos=C.inverted?[_l(j.len+j.pos-C.plotLeft-Nt,j.pos-C.plotLeft,j.len+j.pos-C.plotLeft),V.len+V.pos-C.plotTop-lo-_n/2,$t]:[V.left-C.plotLeft+lo+_n/2,_l(Nt+j.pos-C.plotTop,j.pos-C.plotTop,j.len+j.pos-C.plotTop),$t],Pe.shapeType=m.pointClass.prototype.shapeType||"roundedRect",Pe.shapeArgs=m.crispCol(lo,Ft,_n,Pe.isNull?0:$t)}),g1(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(m,C){let A=this.options,R=this.pointAttrToOptions||{},D=R.stroke||"borderColor",V=R["stroke-width"]||"borderWidth",j,Z,te,ue=m&&m.color||this.color,ie=m&&m[D]||A[D]||ue,me=m&&m.options.dashStyle||A.dashStyle,Ce=m&&m[V]||A[V]||this[V]||0,Ae=m?.isNull&&A.nullInteraction?0:m?.opacity??A.opacity??1;m&&this.zones.length&&(Z=m.getZone(),ue=m.options.color||Z&&(Z.color||m.nonZonedColor)||this.color,Z&&(ie=Z.borderColor||ie,me=Z.dashStyle||me,Ce=Z.borderWidth||Ce)),C&&m&&(te=(j=Xp(A.states[C],m.options.states&&m.options.states[C]||{})).brightness,ue=j.color||te!==void 0&&hd(ue).brighten(j.brightness).get()||ue,ie=j[D]||ie,Ce=j[V]||Ce,me=j.dashStyle||me,Ae=Jp(j.opacity,Ae));let ke={fill:ue,stroke:ie,"stroke-width":Ce,opacity:Ae};return me&&(ke.dashstyle=me),ke}drawPoints(m=this.points){let C,A=this,R=this.chart,D=A.options,V=D.nullInteraction,j=R.renderer,Z=D.animationLimit||250;m.forEach(function(te){let ue=te.plotY,ie=te.graphic,me=!!ie,Ce=ie&&R.pointCount<Z?"animate":"attr";Gg(ue)&&(te.y!==null||V)?(C=te.shapeArgs,ie&&te.hasNewShapeType()&&(ie=ie.destroy()),A.enabledDataSorting&&(te.startXPos=A.xAxis.reversed?-(C&&C.width||0):A.xAxis.width),!ie&&(te.graphic=ie=j[te.shapeType](C).add(te.group||A.group),ie&&A.enabledDataSorting&&R.hasRendered&&R.pointCount<Z&&(ie.attr({x:te.startXPos}),me=!0,Ce="animate")),ie&&me&&ie[Ce](Xp(C)),R.styledMode||ie[Ce](A.pointAttribs(te,te.selected&&"select")).shadow(te.allowShadow!==!1&&D.shadow),ie&&(ie.addClass(te.getClassName(),!0),ie.attr({visibility:te.visible?"inherit":"hidden"}))):ie&&(te.graphic=ie.destroy())})}drawTracker(m=this.points){let C,A=this,R=A.chart,D=R.pointer,V=function(j){D?.normalize(j);let Z=D?.getPointFromEvent(j);D&&Z&&A.options.enableMouseTracking&&(R.isInsidePlot(j.chartX-R.plotLeft,j.chartY-R.plotTop,{visiblePlotOnly:!0})||D?.inClass(j.target,"highcharts-data-label"))&&(D.isDirectTouch=!0,Z.onMouseOver(j))};m.forEach(function(j){C=rc(j.dataLabels)?j.dataLabels:j.dataLabel?[j.dataLabel]:[],j.graphic&&(j.graphic.element.point=j),C.forEach(function(Z){(Z.div||Z.element).point=j})}),A._hasTracking||(A.trackerGroups.forEach(function(j){A[j]&&(A[j].addClass("highcharts-tracker").on("mouseover",V).on("mouseout",function(Z){D?.onTrackerMouseOut(Z)}).on("touchstart",V),!R.styledMode&&A.options.cursor&&A[j].css({cursor:A.options.cursor}))}),A._hasTracking=!0),g1(this,"afterDrawTracker")}remove(){let m=this,C=m.chart;C.hasRendered&&C.series.forEach(function(A){A.type===m.type&&(A.isDirty=!0)}),id.prototype.remove.apply(m,arguments)}}Zv.defaultOptions=Xp(id.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),bf(Zv.prototype,{directTouch:!0,getSymbol:qv,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),Ss.registerSeriesType("column",Zv);let fd=Zv,{getDeferredAnimation:dy}=Aa,{format:kA}=Pr,{defined:Ca,extend:XE,fireEvent:dp,getAlignFactor:yf,isArray:Wm,isString:Qp,merge:au,objectEach:hy,pick:em,pInt:JE,splat:v1}=oo;(function(Q){function m(){return Z(this).some(ue=>ue?.enabled)}function C(ue,ie,me,Ce,Ae){let{chart:ke,enabledDataSorting:Be}=this,Pe=this.isCartesian&&ke.inverted,tt=ue.plotX,dt=ue.plotY,Ot=me.rotation||0,Nt=Ca(tt)&&Ca(dt)&&ke.isInsidePlot(tt,Math.round(dt),{inverted:Pe,paneCoordinates:!0,series:this}),Bt=Ot===0&&em(me.overflow,Be?"none":"justify")==="justify",Ft=this.visible&&ue.visible!==!1&&Ca(tt)&&(ue.series.forceDL||Be&&!Bt||Nt||em(me.inside,!!this.options.stacking)&&Ce&&ke.isInsidePlot(tt,Pe?Ce.x+1:Ce.y+Ce.height-1,{inverted:Pe,paneCoordinates:!0,series:this})),$t=ue.pos();if(Ft&&$t){var Hn;let lo=ie.getBBox(),_n=ie.getBBox(void 0,0);if(Ce=XE({x:$t[0],y:Math.round($t[1]),width:0,height:0},Ce||{}),me.alignTo==="plotEdges"&&this.isCartesian&&(Ce[Pe?"x":"y"]=0,Ce[Pe?"width":"height"]=this.yAxis?.len||0),XE(me,{width:lo.width,height:lo.height}),Hn=Ce,Be&&this.xAxis&&!Bt&&this.setDataLabelStartPos(ue,ie,Ae,Nt,Hn),ie.align(au(me,{width:_n.width,height:_n.height}),!1,Ce,!1),ie.alignAttr.x+=yf(me.align)*(_n.width-lo.width),ie.alignAttr.y+=yf(me.verticalAlign)*(_n.height-lo.height),ie[ie.placed?"animate":"attr"]({"text-align":ie.alignAttr["text-align"]||"center",x:ie.alignAttr.x+(lo.width-_n.width)/2,y:ie.alignAttr.y+(lo.height-_n.height)/2,rotationOriginX:(ie.width||0)/2,rotationOriginY:(ie.height||0)/2}),Bt&&Ce.height>=0)this.justifyDataLabel(ie,me,ie.alignAttr,lo,Ce,Ae);else if(em(me.crop,!0)){let{x:Uo,y:Js}=ie.alignAttr;Ft=ke.isInsidePlot(Uo,Js,{paneCoordinates:!0,series:this})&&ke.isInsidePlot(Uo+lo.width-1,Js+lo.height-1,{paneCoordinates:!0,series:this})}me.shape&&!Ot&&ie[Ae?"attr":"animate"]({anchorX:$t[0],anchorY:$t[1]})}Ae&&Be&&(ie.placed=!1),Ft||Be&&!Bt?(ie.show(),ie.placed=!0):(ie.hide(),ie.placed=!1)}function A(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function R(ue){let ie=this.hasRendered||0,me=this.initDataLabelsGroup().attr({opacity:+ie});return!ie&&me&&(this.visible&&me.show(),this.options.animation?me.animate({opacity:1},ue):me.attr({opacity:1})),me}function D(ue){let ie;ue=ue||this.points;let me=this,Ce=me.chart,Ae=me.options,ke=Ce.renderer,{backgroundColor:Be,plotBackgroundColor:Pe}=Ce.options.chart,tt=ke.getContrast(Qp(Pe)&&Pe||Qp(Be)&&Be||"#000000"),dt=Z(me),{animation:Ot,defer:Nt}=dt[0],Bt=Nt?dy(Ce,Ot,me):{defer:0,duration:0};dp(this,"drawDataLabels"),me.hasDataLabels?.()&&(ie=this.initDataLabels(Bt),ue.forEach(Ft=>{let $t=Ft.dataLabels||[],Hn=Ft.color||me.color;v1(j(dt,Ft.dlOptions||Ft.options?.dataLabels)).forEach((_n,Uo)=>{let Js=_n.enabled&&(Ft.visible||Ft.dataLabelOnHidden)&&(!Ft.isNull||Ft.dataLabelOnNull)&&(function(Wr,Xa){let Ti=Xa.filter;if(Ti){let Ll=Ti.operator,$u=Wr[Ti.property],$d=Ti.value;return Ll===">"&&$u>$d||Ll==="<"&&$u<$d||Ll===">="&&$u>=$d||Ll==="<="&&$u<=$d||Ll==="=="&&$u==$d||Ll==="==="&&$u===$d||Ll==="!="&&$u!=$d||Ll==="!=="&&$u!==$d||!1}return!0})(Ft,_n),{backgroundColor:ar,borderColor:ns,distance:Cs,style:qs={}}=_n,Da,Ai,lu,Rr={},gr=$t[Uo],ui=!gr,gi;Js&&(Ai=Ca(Da=em(_n[Ft.formatPrefix+"Format"],_n.format))?kA(Da,Ft,Ce):(_n[Ft.formatPrefix+"Formatter"]||_n.formatter).call(Ft,_n),lu=_n.rotation,!Ce.styledMode&&(qs.color=em(_n.color,qs.color,Qp(me.color)?me.color:void 0,"#000000"),qs.color==="contrast"?(ar!=="none"&&(gi=ar),Ft.contrastColor=ke.getContrast(gi!=="auto"&&Qp(gi)&&gi||(Qp(Hn)?Hn:"")),qs.color=gi||!Ca(Cs)&&_n.inside||0>JE(Cs||0)||Ae.stacking?Ft.contrastColor:tt):delete Ft.contrastColor,Ae.cursor&&(qs.cursor=Ae.cursor)),Rr={r:_n.borderRadius||0,rotation:lu,padding:_n.padding,zIndex:1},Ce.styledMode||(Rr.fill=ar==="auto"?Ft.color:ar,Rr.stroke=ns==="auto"?Ft.color:ns,Rr["stroke-width"]=_n.borderWidth),hy(Rr,(Wr,Xa)=>{Wr===void 0&&delete Rr[Xa]})),!gr||Js&&Ca(Ai)&&!!(gr.div||gr.text?.foreignObject)==!!_n.useHTML&&(gr.rotation&&_n.rotation||gr.rotation===_n.rotation)||(gr=void 0,ui=!0),Js&&Ca(Ai)&&Ai!==""&&(gr?Rr.text=Ai:(gr=ke.label(Ai,0,0,_n.shape,void 0,void 0,_n.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+Ft.colorIndex+" "+(_n.className||"")+(_n.useHTML?" highcharts-tracker":"")),gr&&(gr.options=_n,gr.attr(Rr),Ce.styledMode?qs.width&&gr.css({width:qs.width,textOverflow:qs.textOverflow,whiteSpace:qs.whiteSpace}):gr.css(qs).shadow(_n.shadow),dp(gr,"beforeAddingDataLabel",{labelOptions:_n,point:Ft}),gr.added||gr.add(ie),me.alignDataLabel(Ft,gr,_n,void 0,ui),gr.isActive=!0,$t[Uo]&&$t[Uo]!==gr&&$t[Uo].destroy(),$t[Uo]=gr))});let lo=$t.length;for(;lo--;)$t[lo]?.isActive?$t[lo].isActive=!1:($t[lo]?.destroy(),$t.splice(lo,1));Ft.dataLabel=$t[0],Ft.dataLabels=$t})),dp(this,"afterDrawDataLabels")}function V(ue,ie,me,Ce,Ae,ke){let Be=this.chart,Pe=ie.align,tt=ie.verticalAlign,dt=ue.box?0:ue.padding||0,Ot=Be.inverted?this.yAxis:this.xAxis,Nt=Ot?Ot.left-Be.plotLeft:0,Bt=Be.inverted?this.xAxis:this.yAxis,Ft=Bt?Bt.top-Be.plotTop:0,{x:$t=0,y:Hn=0}=ie,lo,_n;return(lo=(me.x||0)+dt+Nt)<0&&(Pe==="right"&&$t>=0?(ie.align="left",ie.inside=!0):$t-=lo,_n=!0),(lo=(me.x||0)+Ce.width-dt+Nt)>Be.plotWidth&&(Pe==="left"&&$t<=0?(ie.align="right",ie.inside=!0):$t+=Be.plotWidth-lo,_n=!0),(lo=me.y+dt+Ft)<0&&(tt==="bottom"&&Hn>=0?(ie.verticalAlign="top",ie.inside=!0):Hn-=lo,_n=!0),(lo=(me.y||0)+Ce.height-dt+Ft)>Be.plotHeight&&(tt==="top"&&Hn<=0?(ie.verticalAlign="bottom",ie.inside=!0):Hn+=Be.plotHeight-lo,_n=!0),_n&&(ie.x=$t,ie.y=Hn,ue.placed=!ke,ue.align(ie,void 0,Ae)),_n}function j(ue,ie){let me=[],Ce;if(Wm(ue)&&!Wm(ie))me=ue.map(function(Ae){return au(Ae,ie)});else if(Wm(ie)&&!Wm(ue))me=ie.map(function(Ae){return au(ue,Ae)});else if(Wm(ue)||Wm(ie)){if(Wm(ue)&&Wm(ie))for(Ce=Math.max(ue.length,ie.length);Ce--;)me[Ce]=au(ue[Ce],ie[Ce])}else me=au(ue,ie);return me}function Z(ue){let ie=ue.chart.options.plotOptions;return v1(j(j(ie?.series?.dataLabels,ie?.[ue.type]?.dataLabels),ue.options.dataLabels))}function te(ue,ie,me,Ce,Ae){let ke=this.chart,Be=ke.inverted,Pe=this.xAxis,tt=Pe.reversed,dt=((Be?ie.height:ie.width)||0)/2,Ot=ue.pointWidth,Nt=Ot?Ot/2:0;ie.startXPos=Be?Ae.x:tt?-dt-Nt:Pe.width-dt+Nt,ie.startYPos=Be?tt?this.yAxis.height-dt+Nt:-dt-Nt:Ae.y,Ce?ie.visibility==="hidden"&&(ie.show(),ie.attr({opacity:0}).animate({opacity:1})):ie.attr({opacity:1}).animate({opacity:0},void 0,ie.hide),ke.hasRendered&&(me&&ie.attr({x:ie.startXPos,y:ie.startYPos}),ie.placed=!0)}Q.compose=function(ue){let ie=ue.prototype;ie.initDataLabels||(ie.initDataLabels=R,ie.initDataLabelsGroup=A,ie.alignDataLabel=C,ie.drawDataLabels=D,ie.justifyDataLabel=V,ie.mergeArrays=j,ie.setDataLabelStartPos=te,ie.hasDataLabels=m)}})(K||(K={}));let fy=K,{composed:eC}=Me,{series:tC}=Ss,{merge:DA,pushUnique:py}=oo;(function(Q){function m(C,A,R,D,V){let{chart:j,options:Z}=this,te=j.inverted,ue=this.xAxis?.len||j.plotSizeX||0,ie=this.yAxis?.len||j.plotSizeY||0,me=C.dlBox||C.shapeArgs,Ce=C.below??(C.plotY||0)>(this.translatedThreshold??ie),Ae=R.inside??!!Z.stacking;if(me){if(D=DA(me),R.overflow!=="allow"||R.crop!==!1||Z.clip!==!1){D.y<0&&(D.height+=D.y,D.y=0);let ke=D.y+D.height-ie;ke>0&&ke<D.height-1&&(D.height-=ke)}te&&(D={x:ie-D.y-D.height,y:ue-D.x-D.width,width:D.height,height:D.width}),Ae||(te?(D.x+=Ce?0:D.width,D.width=0):(D.y+=Ce?D.height:0,D.height=0))}R.align??(R.align=!te||Ae?"center":Ce?"right":"left"),R.verticalAlign??(R.verticalAlign=te||Ae?"middle":Ce?"top":"bottom"),tC.prototype.alignDataLabel.call(this,C,A,R,D,V),R.inside&&C.contrastColor&&A.css({color:C.contrastColor})}Q.compose=function(C){fy.compose(tC),py(eC,"ColumnDataLabel")&&(C.prototype.alignDataLabel=m)}})(oe||(oe={}));let my=oe,{extend:tm,merge:qg}=oo;class Zg extends fd{}Zg.defaultOptions=qg(fd.defaultOptions,{}),tm(Zg.prototype,{inverted:!0}),Ss.registerSeriesType("bar",Zg);let{column:MA,line:h0}=Ss.seriesTypes,{addEvent:b1,extend:PA,merge:NA}=oo;class gy extends h0{applyJitter(){let m=this,C=this.options.jitter,A=this.points.length;C&&this.points.forEach(function(R,D){["x","y"].forEach(function(V,j){if(C[V]&&!R.isNull){let Z=`plot${V.toUpperCase()}`,te=m[`${V}Axis`],ue=C[V]*te.transA;if(te&&!te.logarithmic){let ie=Math.max(0,(R[Z]||0)-ue),me=Math.min(te.len,(R[Z]||0)+ue);R[Z]=ie+(me-ie)*(function(Ce){let Ae=1e4*Math.sin(Ce);return Ae-Math.floor(Ae)})(D+j*A),V==="x"&&(R.clientX=R.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}gy.defaultOptions=NA(h0.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),PA(gy.prototype,{drawTracker:MA.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),b1(gy,"afterTranslate",function(){this.applyJitter()}),Ss.registerSeriesType("scatter",gy);let{deg2rad:Kv}=Me,{fireEvent:nC,isNumber:hh,pick:y1,relativeLength:hp}=oo;(function(Q){Q.getCenter=function(){let m=this.options,C=this.chart,A=2*(m.slicedOffset||0),R=C.plotWidth-2*A,D=C.plotHeight-2*A,V=m.center,j=Math.min(R,D),Z=m.thickness,te,ue=m.size,ie=m.innerSize||0,me,Ce;typeof ue=="string"&&(ue=parseFloat(ue)),typeof ie=="string"&&(ie=parseFloat(ie));let Ae=[y1(V?.[0],"50%"),y1(V?.[1],"50%"),y1(ue&&ue<0?void 0:m.size,"100%"),y1(ie&&ie<0?void 0:m.innerSize||0,"0%")];for(!C.angular||this instanceof id||(Ae[3]=0),me=0;me<4;++me)Ce=Ae[me],te=me<2||me===2&&/%$/.test(Ce),Ae[me]=hp(Ce,[R,D,j,Ae[2]][me])+(te?A:0);return Ae[3]>Ae[2]&&(Ae[3]=Ae[2]),hh(Z)&&2*Z<Ae[2]&&Z>0&&(Ae[3]=Ae[2]-2*Z),nC(this,"afterGetCenter",{positions:Ae}),Ae},Q.getStartAndEndRadians=function(m,C){let A=hh(m)?m:0,R=hh(C)&&C>A&&C-A<360?C:A+360;return{start:Kv*(A+-90),end:Kv*(R+-90)}}})(ce||(ce={}));let f0=ce,{setAnimation:LA}=Aa,{addEvent:QE,defined:fh,extend:S1,isNumber:BA,pick:Yv,relativeLength:XO}=oo;class VA extends jp{getConnectorPath(m){let C=m.dataLabelPosition,A=m.options||{},R=A.connectorShape,D=this.connectorShapes[R]||R;return C&&D.call(this,{...C.computed,alignment:C.alignment},C.connectorPosition,A)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(m){let C=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(C.x,C.y,C.r+m,C.r+m,{innerR:C.r-1,start:C.start,end:C.end,borderRadius:C.borderRadius})}constructor(m,C,A){super(m,C,A),this.half=0,this.name??(this.name=m.chart.options.lang.pieSliceName);let R=D=>{this.slice(D.type==="select")};QE(this,"select",R),QE(this,"unselect",R)}isValid(){return BA(this.y)&&this.y>=0}setVisible(m,C=!0){m!==this.visible&&this.update({visible:m??!this.visible},C,void 0,!1)}slice(m,C,A){let R=this.series;LA(A,R.chart),C=Yv(C,!0),this.sliced=this.options.sliced=m=fh(m)?m:!this.sliced,R.options.data[R.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}S1(VA.prototype,{connectorShapes:{fixedOffset:function(Q,m,C){let A=m.breakAt,R=m.touchingSliceAt,D=C.softConnector?["C",Q.x+(Q.alignment==="left"?-5:5),Q.y,2*A.x-R.x,2*A.y-R.y,A.x,A.y]:["L",A.x,A.y];return[["M",Q.x,Q.y],D,["L",R.x,R.y]]},straight:function(Q,m){let C=m.touchingSliceAt;return[["M",Q.x,Q.y],["L",C.x,C.y]]},crookedLine:function(Q,m,C){let{angle:A=this.angle||0,breakAt:R,touchingSliceAt:D}=m,{series:V}=this,[j,Z,te]=V.center,ue=te/2,{plotLeft:ie,plotWidth:me}=V.chart,Ce=Q.alignment==="left",{x:Ae,y:ke}=Q,Be=R.x;if(C.crookDistance){let tt=XO(C.crookDistance,1);Be=Ce?j+ue+(me+ie-j-ue)*(1-tt):ie+(j-ue)*tt}else Be=j+(Z-ke)*Math.tan(A-Math.PI/2);let Pe=[["M",Ae,ke]];return(Ce?Be<=Ae&&Be>=R.x:Be>=Ae&&Be<=R.x)&&Pe.push(["L",Be,ke]),Pe.push(["L",R.x,R.y],["L",D.x,D.y]),Pe}}});let{getStartAndEndRadians:ew}=f0,{noop:FA}=Me,{clamp:mi,extend:HA,fireEvent:tw,merge:ph,pick:vy}=oo;class kr extends id{animate(m){let C=this,A=C.points,R=C.startAngleRad;m||A.forEach(function(D){let V=D.graphic,j=D.shapeArgs;V&&j&&(V.attr({r:vy(D.startR,C.center&&C.center[3]/2),start:R,end:R}),V.animate({r:j.r,start:j.start,end:j.end},C.options.animation))})}drawEmpty(){let m,C,A=this.startAngleRad,R=this.endAngleRad,D=this.options;this.total===0&&this.center?(m=this.center[0],C=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(m,C,this.center[1]/2,0,A,R).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Si.arc(m,C,this.center[2]/2,0,{start:A,end:R,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":D.borderWidth,fill:D.fillColor||"none",stroke:D.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let m=this.chart.renderer;this.points.forEach(function(C){C.graphic&&C.hasNewShapeType()&&(C.graphic=C.graphic.destroy()),C.graphic||(C.graphic=m[C.shapeType](C.shapeArgs).add(C.series.group),C.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(m,C,A,R){let D=this.center,V=this.radii?this.radii[A.index]||0:D[2]/2,j=R.dataLabelPosition,Z=j?.distance||0,te=Math.asin(mi((m-D[1])/(V+Z),-1,1));return D[0]+Math.cos(te)*(V+Z)*(C?-1:1)+(Z>0?(C?-1:1)*(R.padding||0):0)}hasData(){return this.points.some(m=>m.visible)}redrawPoints(){let m,C,A,R,D=this,V=D.chart;this.drawEmpty(),D.group&&!V.styledMode&&D.group.shadow(D.options.shadow),D.points.forEach(function(j){let Z={};C=j.graphic,!j.isNull&&C?(R=j.shapeArgs,m=j.getTranslate(),V.styledMode||(A=D.pointAttribs(j,j.selected&&"select")),j.delayedRendering?(C.setRadialReference(D.center).attr(R).attr(m),V.styledMode||C.attr(A).attr({"stroke-linejoin":"round"}),j.delayedRendering=!1):(C.setRadialReference(D.center),V.styledMode||ph(!0,Z,A),ph(!0,Z,R,m),C.animate(Z)),C.attr({visibility:j.visible?"inherit":"hidden"}),C.addClass(j.getClassName(),!0)):C&&(j.graphic=C.destroy())})}sortByAngle(m,C){m.sort(function(A,R){return A.angle!==void 0&&(R.angle-A.angle)*C})}translate(m){tw(this,"translate"),this.generatePoints();let C=this.options,A=C.slicedOffset,R=ew(C.startAngle,C.endAngle),D=this.startAngleRad=R.start,V=(this.endAngleRad=R.end)-D,j=this.points,Z=C.ignoreHiddenPoint,te=j.length,ue,ie,me,Ce,Ae,ke,Be,Pe=0;for(m||(this.center=m=this.getCenter()),ke=0;ke<te;ke++){Be=j[ke],ue=D+Pe*V,Be.isValid()&&(!Z||Be.visible)&&(Pe+=Be.percentage/100),ie=D+Pe*V;let tt={x:m[0],y:m[1],r:m[2]/2,innerR:m[3]/2,start:Math.round(1e3*ue)/1e3,end:Math.round(1e3*ie)/1e3};Be.shapeType="arc",Be.shapeArgs=tt,(me=(ie+ue)/2)>1.5*Math.PI?me-=2*Math.PI:me<-Math.PI/2&&(me+=2*Math.PI),Be.slicedTranslation={translateX:Math.round(Math.cos(me)*A),translateY:Math.round(Math.sin(me)*A)},Ce=Math.cos(me)*m[2]/2,Ae=Math.sin(me)*m[2]/2,Be.tooltipPos=[m[0]+.7*Ce,m[1]+.7*Ae],Be.half=+(me<-Math.PI/2||me>Math.PI/2),Be.angle=me}tw(this,"afterTranslate")}updateTotals(){let m=this.points,C=m.length,A=this.options.ignoreHiddenPoint,R,D,V=0;for(R=0;R<C;R++)(D=m[R]).isValid()&&(!A||D.visible)&&(V+=D.y);for(R=0,this.total=V;R<C;R++)(D=m[R]).percentage=V>0&&(D.visible||!A)?D.y/V*100:0,D.total=V}}kr.defaultOptions=ph(id.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),HA(kr.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:fd.prototype.drawTracker,getCenter:f0.getCenter,getSymbol:FA,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:fd.prototype.pointAttribs,pointClass:VA,requireSorting:!1,searchPoint:FA,trackerGroups:["group","dataLabelsGroup"]}),Ss.registerSeriesType("pie",kr);let{composed:Nl,noop:C1}=Me,{distribute:oC}=nf,{series:ia}=Ss,{arrayMax:p0,clamp:E1,defined:nw,isNumber:$A,pick:UA,pushUnique:Yk,relativeLength:zA}=oo;(function(Q){let m={radialDistributionY:function(V,j){return(j.dataLabelPosition?.top||0)+V.distributeBox.pos},radialDistributionX:function(V,j,Z,te,ue){let ie=ue.dataLabelPosition;return V.getX(Z<(ie?.top||0)+2||Z>(ie?.bottom||0)-2?te:Z,j.half,j,ue)},justify:function(V,j,Z,te){return te[0]+(V.half?-1:1)*(Z+(j.dataLabelPosition?.distance||0))},alignToPlotEdges:function(V,j,Z,te){let ue=V.getBBox().width;return j?ue+te:Z-ue-te},alignToConnectors:function(V,j,Z,te){let ue=0,ie;return V.forEach(function(me){(ie=me.dataLabel.getBBox().width)>ue&&(ue=ie)}),j?ue+te:Z-ue-te}};function C(V,j){let Z=Math.PI/2,{start:te=0,end:ue=0}=V.shapeArgs||{},ie=V.angle||0;j>0&&te<Z&&ue>Z&&ie>Z/2&&ie<1.5*Z&&(ie=ie<=Z?Math.max(Z/2,(te+Z)/2):Math.min(1.5*Z,(Z+ue)/2));let{center:me,options:Ce}=this,Ae=me[2]/2,ke=Math.cos(ie),Be=Math.sin(ie),Pe=me[0]+ke*Ae,tt=me[1]+Be*Ae,dt=Math.min((Ce.slicedOffset||0)+(Ce.borderWidth||0),j/5);return{natural:{x:Pe+ke*j,y:tt+Be*j},computed:{},alignment:j<0?"center":V.half?"right":"left",connectorPosition:{angle:ie,breakAt:{x:Pe+ke*dt,y:tt+Be*dt},touchingSliceAt:{x:Pe,y:tt}},distance:j}}function A(){let V=this,j=V.points,Z=V.chart,te=Z.plotWidth,ue=Z.plotHeight,ie=Z.plotLeft,me=Math.round(Z.chartWidth/3),Ce=V.center,Ae=Ce[2]/2,ke=Ce[1],Be=[[],[]],Pe=[0,0,0,0],tt=V.dataLabelPositioners,dt,Ot,Nt,Bt=0;V.visible&&V.hasDataLabels?.()&&(j.forEach(Ft=>{(Ft.dataLabels||[]).forEach($t=>{$t.shortened&&($t.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),$t.shortened=!1)})}),ia.prototype.drawDataLabels.apply(V),j.forEach(Ft=>{(Ft.dataLabels||[]).forEach(($t,Hn)=>{let lo=Ce[2]/2,_n=$t.options,Uo=zA(_n?.distance||0,lo);Hn===0&&Be[Ft.half].push(Ft),!nw(_n?.style?.width)&&$t.getBBox().width>me&&($t.css({width:Math.round(.7*me)+"px"}),$t.shortened=!0),$t.dataLabelPosition=this.getDataLabelPosition(Ft,Uo),Bt=Math.max(Bt,Uo)})}),Be.forEach((Ft,$t)=>{let Hn=Ft.length,lo=[],_n,Uo,Js=0,ar;Hn&&(V.sortByAngle(Ft,$t-.5),Bt>0&&(_n=Math.max(0,ke-Ae-Bt),Uo=Math.min(ke+Ae+Bt,Z.plotHeight),Ft.forEach(ns=>{(ns.dataLabels||[]).forEach(Cs=>{let qs=Cs.dataLabelPosition;qs&&qs.distance>0&&(qs.top=Math.max(0,ke-Ae-qs.distance),qs.bottom=Math.min(ke+Ae+qs.distance,Z.plotHeight),Js=Cs.getBBox().height||21,Cs.lineHeight=Z.renderer.fontMetrics(Cs.text||Cs).h+2*Cs.padding,ns.distributeBox={target:(Cs.dataLabelPosition?.natural.y||0)-qs.top+Cs.lineHeight/2,size:Js,rank:ns.y},lo.push(ns.distributeBox))})}),oC(lo,ar=Uo+Js-_n,ar/5)),Ft.forEach(ns=>{(ns.dataLabels||[]).forEach(Cs=>{let qs=Cs.options||{},Da=ns.distributeBox,Ai=Cs.dataLabelPosition,lu=Ai?.natural.y||0,Rr=qs.connectorPadding||0,gr=Cs.lineHeight||21,ui=(gr-Cs.getBBox().height)/2,gi=0,Wr=lu,Xa="inherit";if(Ai){if(lo&&nw(Da)&&Ai.distance>0&&(Da.pos===void 0?Xa="hidden":(Nt=Da.size,Wr=tt.radialDistributionY(ns,Cs))),qs.justify)gi=tt.justify(ns,Cs,Ae,Ce);else switch(qs.alignTo){case"connectors":gi=tt.alignToConnectors(Ft,$t,te,ie);break;case"plotEdges":gi=tt.alignToPlotEdges(Cs,$t,te,ie);break;default:gi=tt.radialDistributionX(V,ns,Wr-ui,lu,Cs)}if(Ai.attribs={visibility:Xa,align:Ai.alignment},Ai.posAttribs={x:gi+(qs.x||0)+({left:Rr,right:-Rr}[Ai.alignment]||0),y:Wr+(qs.y||0)-gr/2},Ai.computed.x=gi,Ai.computed.y=Wr-ui,UA(qs.crop,!0)){let Ti;gi-(Ot=Cs.getBBox().width)<Rr&&$t===1?(Ti=Math.round(Ot-gi+Rr),Pe[3]=Math.max(Ti,Pe[3])):gi+Ot>te-Rr&&$t===0&&(Ti=Math.round(gi+Ot-te+Rr),Pe[1]=Math.max(Ti,Pe[1])),Wr-Nt/2<0?Pe[0]=Math.max(Math.round(-Wr+Nt/2),Pe[0]):Wr+Nt/2>ue&&(Pe[2]=Math.max(Math.round(Wr+Nt/2-ue),Pe[2])),Ai.sideOverflow=Ti}}})}))}),(p0(Pe)===0||this.verifyDataLabelOverflow(Pe))&&(this.placeDataLabels(),this.points.forEach(Ft=>{(Ft.dataLabels||[]).forEach($t=>{let{connectorColor:Hn,connectorWidth:lo=1}=$t.options||{},_n=$t.dataLabelPosition;if($A(lo)){let Uo;dt=$t.connector,_n&&_n.distance>0?(Uo=!dt,dt||($t.connector=dt=Z.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Ft.colorIndex+(Ft.className?" "+Ft.className:"")).add(V.dataLabelsGroup)),Z.styledMode||dt.attr({"stroke-width":lo,stroke:Hn||Ft.color||"#666666"}),dt[Uo?"attr":"animate"]({d:Ft.getConnectorPath($t)}),dt.attr({visibility:_n.attribs?.visibility})):dt&&($t.connector=dt.destroy())}})})))}function R(){this.points.forEach(V=>{(V.dataLabels||[]).forEach(j=>{let Z=j.dataLabelPosition;Z?(Z.sideOverflow&&(j.css({width:Math.max(j.getBBox().width-Z.sideOverflow,0)+"px",textOverflow:j.options?.style?.textOverflow||"ellipsis"}),j.shortened=!0),j.attr(Z.attribs),j[j.moved?"animate":"attr"](Z.posAttribs),j.moved=!0):j&&j.attr({y:-9999})}),delete V.distributeBox},this)}function D(V){let j=this.center,Z=this.options,te=Z.center,ue=Z.minSize||80,ie=ue,me=Z.size!==null;return!me&&(te[0]!==null?ie=Math.max(j[2]-Math.max(V[1],V[3]),ue):(ie=Math.max(j[2]-V[1]-V[3],ue),j[0]+=(V[3]-V[1])/2),te[1]!==null?ie=E1(ie,ue,j[2]-Math.max(V[0],V[2])):(ie=E1(ie,ue,j[2]-V[0]-V[2]),j[1]+=(V[0]-V[2])/2),ie<j[2]?(j[2]=ie,j[3]=Math.min(Z.thickness?Math.max(0,ie-2*Z.thickness):Math.max(0,zA(Z.innerSize||0,ie)),ie),this.translate(j),this.drawDataLabels&&this.drawDataLabels()):me=!0),me}Q.compose=function(V){if(fy.compose(ia),Yk(Nl,"PieDataLabel")){let j=V.prototype;j.dataLabelPositioners=m,j.alignDataLabel=C1,j.drawDataLabels=A,j.getDataLabelPosition=C,j.placeDataLabels=R,j.verifyDataLabelOverflow=D}}})(re||(re={}));let JO=re;(function(Q){Q.getCenterOfPoints=function(m){let C=m.reduce((A,R)=>(A.x+=R.x,A.y+=R.y,A),{x:0,y:0});return{x:C.x/m.length,y:C.y/m.length}},Q.getDistanceBetweenPoints=function(m,C){return Math.sqrt(Math.pow(C.x-m.x,2)+Math.pow(C.y-m.y,2))},Q.getAngleBetweenPoints=function(m,C){return Math.atan2(C.x-m.x,C.y-m.y)},Q.pointInPolygon=function({x:m,y:C},A){let R=A.length,D,V,j=!1;for(D=0,V=R-1;D<R;V=D++){let[Z,te]=A[D],[ue,ie]=A[V];te>C!=ie>C&&m<(ue-Z)*(C-te)/(ie-te)+Z&&(j=!j)}return j}})(ye||(ye={}));let{pointInPolygon:jA}=ye,{addEvent:WA,getAlignFactor:fp,fireEvent:Hc,objectEach:Sf,pick:nm}=oo;function om(Q){let m=Q.length,C=(ue,ie)=>!(ie.x>=ue.x+ue.width||ie.x+ie.width<=ue.x||ie.y>=ue.y+ue.height||ie.y+ie.height<=ue.y),A=(ue,ie)=>{for(let me of ue)if(jA({x:me[0],y:me[1]},ie))return!0;return!1},R,D,V,j,Z,te=!1;for(let ue=0;ue<m;ue++)(R=Q[ue])&&(R.oldOpacity=R.opacity,R.newOpacity=1,R.absoluteBox=(function(ie){if(ie&&(!ie.alignAttr||ie.placed)){let me=ie.box?0:ie.padding||0,Ce=ie.alignAttr||{x:ie.attr("x"),y:ie.attr("y")},{height:Ae,polygon:ke,width:Be}=ie.getBBox(),Pe=fp(ie.alignValue)*Be;return ie.width=Be,ie.height=Ae,{x:Ce.x+(ie.parentGroup?.translateX||0)+me-Pe,y:Ce.y+(ie.parentGroup?.translateY||0)+me,width:Be-2*me,height:Ae-2*me,polygon:ke}}})(R));Q.sort((ue,ie)=>(ie.labelrank||0)-(ue.labelrank||0));for(let ue=0;ue<m;++ue){j=(D=Q[ue])&&D.absoluteBox;let ie=j?.polygon;for(let me=ue+1;me<m;++me){Z=(V=Q[me])&&V.absoluteBox;let Ce=!1;if(j&&Z&&D!==V&&D.newOpacity!==0&&V.newOpacity!==0&&D.visibility!=="hidden"&&V.visibility!=="hidden"){let Ae=Z.polygon;if(ie&&Ae&&ie!==Ae?A(ie,Ae)&&(Ce=!0):C(j,Z)&&(Ce=!0),Ce){let ke=D.labelrank<V.labelrank?D:V,Be=ke.text;ke.newOpacity=0,Be?.element.querySelector("textPath")&&Be.hide()}}}}for(let ue of Q)Kg(ue,this)&&(te=!0);te&&Hc(this,"afterHideAllOverlappingLabels")}function Kg(Q,m){let C,A=!1;return Q&&(C=Q.newOpacity,Q.oldOpacity!==C&&(Q.hasClass("highcharts-data-label")?(Q[C?"removeClass":"addClass"]("highcharts-data-label-hidden"),A=!0,Q[Q.isOld?"animate":"attr"]({opacity:C},void 0,function(){m.styledMode||Q.css({pointerEvents:C?"auto":"none"})}),Hc(m,"afterHideOverlappingLabel")):Q.attr({opacity:C})),Q.isOld=!0),A}function Gm(){let Q=this,m=[];for(let C of Q.labelCollectors||[])m=m.concat(C());for(let C of Q.yAxis||[])C.stacking&&C.options.stackLabels&&!C.options.stackLabels.allowOverlap&&Sf(C.stacking.stacks,A=>{Sf(A,R=>{R.label&&m.push(R.label)})});for(let C of Q.series||[])if(C.visible&&C.hasDataLabels?.()){let A=R=>{for(let D of R)D.visible&&(D.dataLabels||[]).forEach(V=>{let j=V.options||{};V.labelrank=nm(j.labelrank,D.labelrank,D.shapeArgs?.height),j.allowOverlap??Number(j.distance)>0?(V.oldOpacity=V.opacity,V.newOpacity=1,Kg(V,Q)):m.push(V)})};A(C.nodes||[]),A(C.points)}this.hideOverlappingLabels(m)}let qm={compose:function(Q){let m=Q.prototype;m.hideOverlappingLabels||(m.hideOverlappingLabels=om,WA(Q,"render",Gm))}},{defaultOptions:ow}=Jn,{noop:sC}=Me,{addEvent:QO,extend:eI,isObject:w1,merge:rC,relativeLength:iC}=oo,aC={radius:0,scope:"stack",where:void 0},Yg=sC,m0=sC;function sm(Q,m,C,A,R={}){let D=Yg(Q,m,C,A,R),{brStart:V=!0,brEnd:j=!0,innerR:Z=0,r:te=C,start:ue=0,end:ie=0}=R;if(R.open||!R.borderRadius)return D;let me=ie-ue,Ce=Math.sin(me/2),Ae=Math.max(Math.min(iC(R.borderRadius||0,te-Z),(te-Z)/2,te*Ce/(1+Ce)),0),ke=Math.min(Ae,me/Math.PI*2*Z),Be=D.length-1;for(;Be--;)(V||Be!==0&&Be!==3)&&(j||Be!==1&&Be!==2)&&(function(Pe,tt,dt){let Ot,Nt,Bt,Ft=Pe[tt],$t=Pe[tt+1];if($t[0]==="Z"&&($t=Pe[0]),(Ft[0]==="M"||Ft[0]==="L")&&$t[0]==="A"?(Ot=Ft,Nt=$t,Bt=!0):Ft[0]==="A"&&($t[0]==="M"||$t[0]==="L")&&(Ot=$t,Nt=Ft),Ot&&Nt&&Nt.params){let Hn=Nt[1],lo=Nt[5],_n=Nt.params,{start:Uo,end:Js,cx:ar,cy:ns}=_n,Cs=lo?Hn-dt:Hn+dt,qs=Cs?Math.asin(dt/Cs):0,Da=lo?qs:-qs,Ai=Math.cos(qs)*Cs;Bt?(_n.start=Uo+Da,Ot[1]=ar+Ai*Math.cos(Uo),Ot[2]=ns+Ai*Math.sin(Uo),Pe.splice(tt+1,0,["A",dt,dt,0,0,1,ar+Hn*Math.cos(_n.start),ns+Hn*Math.sin(_n.start)])):(_n.end=Js-Da,Nt[6]=ar+Hn*Math.cos(_n.end),Nt[7]=ns+Hn*Math.sin(_n.end),Pe.splice(tt+1,0,["A",dt,dt,0,0,1,ar+Ai*Math.cos(Js),ns+Ai*Math.sin(Js)])),Nt[4]=Math.abs(_n.end-_n.start)<Math.PI?0:1}})(D,Be,Be>1?ke:Ae);return D}function lC(){if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:Q,yAxis:m}=this,C=Q.stacking==="percent",A=ow.plotOptions?.[this.type]?.borderRadius,R=sw(Q.borderRadius,w1(A)?A:{}),D=m.options.reversed;for(let V of this.points){let{shapeArgs:j}=V;if(V.shapeType==="roundedRect"&&j){let{width:Z=0,height:te=0,y:ue=0}=j,ie=ue,me=te;if(R.scope==="stack"&&V.stackTotal){let Be=m.translate(C?100:V.stackTotal,!1,!0,!1,!0),Pe=m.translate(Q.threshold||0,!1,!0,!1,!0),tt=this.crispCol(0,Math.min(Be,Pe),0,Math.abs(Be-Pe));ie=tt.y,me=tt.height}let Ce=(V.negative?-1:1)*(D?-1:1)==-1,Ae=R.where;!Ae&&this.is("waterfall")&&Math.abs((V.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(Ae="all"),Ae||(Ae="end");let ke=Math.min(iC(R.radius,Z),Z/2,Ae==="all"?te/2:1/0)||0;Ae==="end"&&(Ce&&(ie-=ke),me+=ke),eI(j,{brBoxHeight:me,brBoxY:ie,r:ke})}}}}function sw(Q,m){return w1(Q)||(Q={radius:Q||0}),rC(aC,m,Q)}function cC(){let Q=sw(this.options.borderRadius);for(let m of this.points){let C=m.shapeArgs;C&&(C.borderRadius=iC(Q.radius,(C.r||0)-(C.innerR||0)))}}function uC(Q,m,C,A,R={}){let D=m0(Q,m,C,A,R),{r:V=0,brBoxHeight:j=A,brBoxY:Z=m}=R,te=m-Z,ue=Z+j-(m+A),ie=te-V>-.1?0:V,me=ue-V>-.1?0:V,Ce=Math.max(ie&&te,0),Ae=Math.max(me&&ue,0),ke=[Q+ie,m],Be=[Q+C-ie,m],Pe=[Q+C,m+ie],tt=[Q+C,m+A-me],dt=[Q+C-me,m+A],Ot=[Q+me,m+A],Nt=[Q,m+A-me],Bt=[Q,m+ie],Ft=($t,Hn)=>Math.sqrt(Math.pow($t,2)-Math.pow(Hn,2));if(Ce){let $t=Ft(ie,ie-Ce);ke[0]-=$t,Be[0]+=$t,Pe[1]=Bt[1]=m+ie-Ce}if(A<ie-Ce){let $t=Ft(ie,ie-Ce-A);Pe[0]=tt[0]=Q+C-ie+$t,dt[0]=Math.min(Pe[0],dt[0]),Ot[0]=Math.max(tt[0],Ot[0]),Nt[0]=Bt[0]=Q+ie-$t,Pe[1]=Bt[1]=m+A}if(Ae){let $t=Ft(me,me-Ae);dt[0]+=$t,Ot[0]-=$t,tt[1]=Nt[1]=m+A-me+Ae}if(A<me-Ae){let $t=Ft(me,me-Ae-A);Pe[0]=tt[0]=Q+C-me+$t,Be[0]=Math.min(Pe[0],Be[0]),ke[0]=Math.max(tt[0],ke[0]),Nt[0]=Bt[0]=Q+me-$t,tt[1]=Nt[1]=m}return D.length=0,D.push(["M",...ke],["L",...Be],["A",ie,ie,0,0,1,...Pe],["L",...tt],["A",me,me,0,0,1,...dt],["L",...Ot],["A",me,me,0,0,1,...Nt],["L",...Bt],["A",ie,ie,0,0,1,...ke],["Z"]),D}let{diffObjects:GA,extend:tI,find:g0,merge:qA,pick:Cf,uniqueKey:v0}=oo;(function(Q){function m(A,R){let D=A.condition;(D.callback||function(){return this.chartWidth<=Cf(D.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Cf(D.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Cf(D.minWidth,0)&&this.chartHeight>=Cf(D.minHeight,0)}).call(this)&&R.push(A._id)}function C(A,R){let D=this.options.responsive,V=this.currentResponsive,j=[],Z;!R&&D&&D.rules&&D.rules.forEach(ie=>{ie._id===void 0&&(ie._id=v0()),this.matchResponsiveRule(ie,j)},this);let te=qA(...j.map(ie=>g0(D?.rules||[],me=>me._id===ie)).map(ie=>ie?.chartOptions));te.isResponsiveOptions=!0,j=j.toString()||void 0;let ue=V?.ruleIds;j!==ue&&(V&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(V.undoOptions,A,!0),this.updatingResponsive=!1),j?((Z=GA(te,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:j,mergedOptions:te,undoOptions:Z},this.updatingResponsive||this.update(te,A,!0)):this.currentResponsive=void 0)}Q.compose=function(A){let R=A.prototype;return R.matchResponsiveRule||tI(R,{matchResponsiveRule:m,setResponsive:C}),A}})(_e||(_e={}));let dC=_e;Me.AST=wr,Me.Axis=Du,Me.Chart=Hg,Me.Color=or,Me.DataLabel=fy,Me.DataTableCore=J,Me.Fx=ps,Me.HTMLElement=gs,Me.Legend=AA,Me.LegendSymbol=St,Me.OverlappingDataLabels=Me.OverlappingDataLabels||qm,Me.PlotLineOrBand=sd,Me.Point=jp,Me.Pointer=Yb,Me.RendererRegistry=nh,Me.Series=id,Me.SeriesRegistry=Ss,Me.StackItem=l0,Me.SVGElement=L,Me.SVGRenderer=Qe,Me.Templating=Pr,Me.Tick=ou,Me.Time=Ds,Me.Tooltip=DE,Me.animate=Aa.animate,Me.animObject=Aa.animObject,Me.chart=Hg.chart,Me.color=or.parse,Me.dateFormat=Pr.dateFormat,Me.defaultOptions=Jn.defaultOptions,Me.distribute=nf.distribute,Me.format=Pr.format,Me.getDeferredAnimation=Aa.getDeferredAnimation,Me.getOptions=Jn.getOptions,Me.numberFormat=Pr.numberFormat,Me.seriesType=Ss.seriesType,Me.setAnimation=Aa.setAnimation,Me.setOptions=Jn.setOptions,Me.stop=Aa.stop,Me.time=Jn.defaultTime,Me.timers=ps.timers,{compose:function(Q,m,C){let A=Q.types.pie;if(!m.symbolCustomAttribs.includes("borderRadius")){let R=C.prototype.symbols;QO(Q,"afterColumnTranslate",lC,{order:9}),QO(A,"afterTranslate",cC),m.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),Yg=R.arc,m0=R.roundedRect,R.arc=sm,R.roundedRect=uC}},optionsToObject:sw}.compose(Me.Series,Me.SVGElement,Me.SVGRenderer),my.compose(Me.Series.types.column),fy.compose(Me.Series),Lh.compose(Me.Axis),gs.compose(Me.SVGRenderer),AA.compose(Me.Chart),np.compose(Me.Axis),qm.compose(Me.Chart),JO.compose(Me.Series.types.pie),sd.compose(Me.Chart,Me.Axis),Yb.compose(Me.Chart),dC.compose(Me.Chart),up.compose(Me.Axis,Me.Chart,Me.Series),u0.compose(Me.Axis,Me.Chart,Me.Series),DE.compose(Me.Pointer),oo.extend(Me,oo);let Zm=Me;return F.default})())})(DJ)),DJ.exports}var DXe=kXe();const MXe=kye(DXe);var Qme={exports:{}},MJ={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var PXe=MJ.exports,eRe;function NXe(){return eRe||(eRe=1,(function(e){(function(n,o){e.exports=n.document?o(n,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return o(i)}})(typeof window<"u"?window:PXe,function(n,o){var i=[],c=Object.getPrototypeOf,d=i.slice,p=i.flat?function(L){return i.flat.call(L)}:function(L){return i.concat.apply([],L)},v=i.push,S=i.indexOf,_={},x=_.toString,P=_.hasOwnProperty,B=P.toString,z=B.call(Object),U={},H=function(X){return typeof X=="function"&&typeof X.nodeType!="number"&&typeof X.item!="function"},K=function(X){return X!=null&&X===X.window},oe=n.document,ce={type:!0,src:!0,nonce:!0,noModule:!0};function re(L,X,de){de=de||oe;var ge,xe,Le=de.createElement("script");if(Le.text=L,X)for(ge in ce)xe=X[ge]||X.getAttribute&&X.getAttribute(ge),xe&&Le.setAttribute(ge,xe);de.head.appendChild(Le).parentNode.removeChild(Le)}function ye(L){return L==null?L+"":typeof L=="object"||typeof L=="function"?_[x.call(L)]||"object":typeof L}var _e="3.7.1",Oe=/HTML$/i,F=function(L,X){return new F.fn.init(L,X)};F.fn=F.prototype={jquery:_e,constructor:F,length:0,toArray:function(){return d.call(this)},get:function(L){return L==null?d.call(this):L<0?this[L+this.length]:this[L]},pushStack:function(L){var X=F.merge(this.constructor(),L);return X.prevObject=this,X},each:function(L){return F.each(this,L)},map:function(L){return this.pushStack(F.map(this,function(X,de){return L.call(X,de,X)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(F.grep(this,function(L,X){return(X+1)%2}))},odd:function(){return this.pushStack(F.grep(this,function(L,X){return X%2}))},eq:function(L){var X=this.length,de=+L+(L<0?X:0);return this.pushStack(de>=0&&de<X?[this[de]]:[])},end:function(){return this.prevObject||this.constructor()},push:v,sort:i.sort,splice:i.splice},F.extend=F.fn.extend=function(){var L,X,de,ge,xe,Le,We=arguments[0]||{},xt=1,Ct=arguments.length,Yt=!1;for(typeof We=="boolean"&&(Yt=We,We=arguments[xt]||{},xt++),typeof We!="object"&&!H(We)&&(We={}),xt===Ct&&(We=this,xt--);xt<Ct;xt++)if((L=arguments[xt])!=null)for(X in L)ge=L[X],!(X==="__proto__"||We===ge)&&(Yt&&ge&&(F.isPlainObject(ge)||(xe=Array.isArray(ge)))?(de=We[X],xe&&!Array.isArray(de)?Le=[]:!xe&&!F.isPlainObject(de)?Le={}:Le=de,xe=!1,We[X]=F.extend(Yt,Le,ge)):ge!==void 0&&(We[X]=ge));return We},F.extend({expando:"jQuery"+(_e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(L){throw new Error(L)},noop:function(){},isPlainObject:function(L){var X,de;return!L||x.call(L)!=="[object Object]"?!1:(X=c(L),X?(de=P.call(X,"constructor")&&X.constructor,typeof de=="function"&&B.call(de)===z):!0)},isEmptyObject:function(L){var X;for(X in L)return!1;return!0},globalEval:function(L,X,de){re(L,{nonce:X&&X.nonce},de)},each:function(L,X){var de,ge=0;if(Me(L))for(de=L.length;ge<de&&X.call(L[ge],ge,L[ge])!==!1;ge++);else for(ge in L)if(X.call(L[ge],ge,L[ge])===!1)break;return L},text:function(L){var X,de="",ge=0,xe=L.nodeType;if(!xe)for(;X=L[ge++];)de+=F.text(X);return xe===1||xe===11?L.textContent:xe===9?L.documentElement.textContent:xe===3||xe===4?L.nodeValue:de},makeArray:function(L,X){var de=X||[];return L!=null&&(Me(Object(L))?F.merge(de,typeof L=="string"?[L]:L):v.call(de,L)),de},inArray:function(L,X,de){return X==null?-1:S.call(X,L,de)},isXMLDoc:function(L){var X=L&&L.namespaceURI,de=L&&(L.ownerDocument||L).documentElement;return!Oe.test(X||de&&de.nodeName||"HTML")},merge:function(L,X){for(var de=+X.length,ge=0,xe=L.length;ge<de;ge++)L[xe++]=X[ge];return L.length=xe,L},grep:function(L,X,de){for(var ge,xe=[],Le=0,We=L.length,xt=!de;Le<We;Le++)ge=!X(L[Le],Le),ge!==xt&&xe.push(L[Le]);return xe},map:function(L,X,de){var ge,xe,Le=0,We=[];if(Me(L))for(ge=L.length;Le<ge;Le++)xe=X(L[Le],Le,de),xe!=null&&We.push(xe);else for(Le in L)xe=X(L[Le],Le,de),xe!=null&&We.push(xe);return p(We)},guid:1,support:U}),typeof Symbol=="function"&&(F.fn[Symbol.iterator]=i[Symbol.iterator]),F.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(L,X){_["[object "+X+"]"]=X.toLowerCase()});function Me(L){var X=!!L&&"length"in L&&L.length,de=ye(L);return H(L)||K(L)?!1:de==="array"||X===0||typeof X=="number"&&X>0&&X-1 in L}function ot(L,X){return L.nodeName&&L.nodeName.toLowerCase()===X.toLowerCase()}var Fe=i.pop,De=i.sort,we=i.splice,ct="[\\x20\\t\\r\\n\\f]",rt=new RegExp("^"+ct+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ct+"+$","g");F.contains=function(L,X){var de=X&&X.parentNode;return L===de||!!(de&&de.nodeType===1&&(L.contains?L.contains(de):L.compareDocumentPosition&&L.compareDocumentPosition(de)&16))};var gt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ee(L,X){return X?L==="\0"?"":L.slice(0,-1)+"\\"+L.charCodeAt(L.length-1).toString(16)+" ":"\\"+L}F.escapeSelector=function(L){return(L+"").replace(gt,ee)};var on=oe,nt=v;(function(){var L,X,de,ge,xe,Le=nt,We,xt,Ct,Yt,Dn,Yn=F.expando,Cn=0,No=0,Or=$p(),Si=$p(),zr=$p(),Ul=$p(),Sa=function(ht,Ut){return ht===Ut&&(xe=!0),0},td="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",oh="(?:\\\\[\\da-fA-F]{1,6}"+ct+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",pi="\\["+ct+"*("+oh+")(?:"+ct+"*([*^$|!~]?=)"+ct+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+oh+"))|)"+ct+"*\\]",gc=":("+oh+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+pi+")*)|.*)\\)|)",Bi=new RegExp(ct+"+","g"),hl=new RegExp("^"+ct+"*,"+ct+"*"),Hp=new RegExp("^"+ct+"*([>+~]|"+ct+")"+ct+"*"),Dd=new RegExp(ct+"|>"),Rh=new RegExp(gc),Og=new RegExp("^"+oh+"$"),nd={ID:new RegExp("^#("+oh+")"),CLASS:new RegExp("^\\.("+oh+")"),TAG:new RegExp("^("+oh+"|[*])"),ATTR:new RegExp("^"+pi),PSEUDO:new RegExp("^"+gc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ct+"*(even|odd|(([+-]|)(\\d*)n|)"+ct+"*(?:([+-]|)"+ct+"*(\\d+)|))"+ct+"*\\)|)","i"),bool:new RegExp("^(?:"+td+")$","i"),needsContext:new RegExp("^"+ct+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ct+"*((?:-\\d)?\\d*)"+ct+"*\\)|)(?=[^-]|$)","i")},Qc=/^(?:input|select|textarea|button)$/i,Qf=/^h\d$/i,od=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ig=/[+~]/,vc=new RegExp("\\\\[\\da-fA-F]{1,6}"+ct+"?|\\\\([^\\r\\n\\f])","g"),Rl=function(ht,Ut){var En="0x"+ht.slice(1)-65536;return Ut||(En<0?String.fromCharCode(En+65536):String.fromCharCode(En>>10|55296,En&1023|56320))},sf=function(){Md()},Ub=tu(function(ht){return ht.disabled===!0&&ot(ht,"fieldset")},{dir:"parentNode",next:"legend"});function _r(){try{return We.activeElement}catch{}}try{Le.apply(i=d.call(on.childNodes),on.childNodes),i[on.childNodes.length].nodeType}catch{Le={apply:function(Ut,En){nt.apply(Ut,d.call(En))},call:function(Ut){nt.apply(Ut,d.call(arguments,1))}}}function qi(ht,Ut,En,On){var jn,es,ls,Gs,gs,dr,Ar,fr=Ut&&Ut.ownerDocument,Hr=Ut?Ut.nodeType:9;if(En=En||[],typeof ht!="string"||!ht||Hr!==1&&Hr!==9&&Hr!==11)return En;if(!On&&(Md(Ut),Ut=Ut||We,Ct)){if(Hr!==11&&(gs=od.exec(ht)))if(jn=gs[1]){if(Hr===9)if(ls=Ut.getElementById(jn)){if(ls.id===jn)return Le.call(En,ls),En}else return En;else if(fr&&(ls=fr.getElementById(jn))&&qi.contains(Ut,ls)&&ls.id===jn)return Le.call(En,ls),En}else{if(gs[2])return Le.apply(En,Ut.getElementsByTagName(ht)),En;if((jn=gs[3])&&Ut.getElementsByClassName)return Le.apply(En,Ut.getElementsByClassName(jn)),En}if(!Ul[ht+" "]&&(!Yt||!Yt.test(ht))){if(Ar=ht,fr=Ut,Hr===1&&(Dd.test(ht)||Hp.test(ht))){for(fr=Ig.test(ht)&&eu(Ut.parentNode)||Ut,(fr!=Ut||!U.scope)&&((Gs=Ut.getAttribute("id"))?Gs=F.escapeSelector(Gs):Ut.setAttribute("id",Gs=Yn)),dr=zl(ht),es=dr.length;es--;)dr[es]=(Gs?"#"+Gs:":scope")+" "+kh(dr[es]);Ar=dr.join(",")}try{return Le.apply(En,fr.querySelectorAll(Ar)),En}catch{Ul(ht,!0)}finally{Gs===Yn&&Ut.removeAttribute("id")}}}return Ql(ht.replace(rt,"$1"),Ut,En,On)}function $p(){var ht=[];function Ut(En,On){return ht.push(En+" ")>X.cacheLength&&delete Ut[ht.shift()],Ut[En+" "]=On}return Ut}function Ci(ht){return ht[Yn]=!0,ht}function ep(ht){var Ut=We.createElement("fieldset");try{return!!ht(Ut)}catch{return!1}finally{Ut.parentNode&&Ut.parentNode.removeChild(Ut),Ut=null}}function rf(ht){return function(Ut){return ot(Ut,"input")&&Ut.type===ht}}function HS(ht){return function(Ut){return(ot(Ut,"input")||ot(Ut,"button"))&&Ut.type===ht}}function af(ht){return function(Ut){return"form"in Ut?Ut.parentNode&&Ut.disabled===!1?"label"in Ut?"label"in Ut.parentNode?Ut.parentNode.disabled===ht:Ut.disabled===ht:Ut.isDisabled===ht||Ut.isDisabled!==!ht&&Ub(Ut)===ht:Ut.disabled===ht:"label"in Ut?Ut.disabled===ht:!1}}function ji(ht){return Ci(function(Ut){return Ut=+Ut,Ci(function(En,On){for(var jn,es=ht([],En.length,Ut),ls=es.length;ls--;)En[jn=es[ls]]&&(En[jn]=!(On[jn]=En[jn]))})})}function eu(ht){return ht&&typeof ht.getElementsByTagName<"u"&&ht}function Md(ht){var Ut,En=ht?ht.ownerDocument||ht:on;return En==We||En.nodeType!==9||!En.documentElement||(We=En,xt=We.documentElement,Ct=!F.isXMLDoc(We),Dn=xt.matches||xt.webkitMatchesSelector||xt.msMatchesSelector,xt.msMatchesSelector&&on!=We&&(Ut=We.defaultView)&&Ut.top!==Ut&&Ut.addEventListener("unload",sf),U.getById=ep(function(On){return xt.appendChild(On).id=F.expando,!We.getElementsByName||!We.getElementsByName(F.expando).length}),U.disconnectedMatch=ep(function(On){return Dn.call(On,"*")}),U.scope=ep(function(){return We.querySelectorAll(":scope")}),U.cssHas=ep(function(){try{return We.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),U.getById?(X.filter.ID=function(On){var jn=On.replace(vc,Rl);return function(es){return es.getAttribute("id")===jn}},X.find.ID=function(On,jn){if(typeof jn.getElementById<"u"&&Ct){var es=jn.getElementById(On);return es?[es]:[]}}):(X.filter.ID=function(On){var jn=On.replace(vc,Rl);return function(es){var ls=typeof es.getAttributeNode<"u"&&es.getAttributeNode("id");return ls&&ls.value===jn}},X.find.ID=function(On,jn){if(typeof jn.getElementById<"u"&&Ct){var es,ls,Gs,gs=jn.getElementById(On);if(gs){if(es=gs.getAttributeNode("id"),es&&es.value===On)return[gs];for(Gs=jn.getElementsByName(On),ls=0;gs=Gs[ls++];)if(es=gs.getAttributeNode("id"),es&&es.value===On)return[gs]}return[]}}),X.find.TAG=function(On,jn){return typeof jn.getElementsByTagName<"u"?jn.getElementsByTagName(On):jn.querySelectorAll(On)},X.find.CLASS=function(On,jn){if(typeof jn.getElementsByClassName<"u"&&Ct)return jn.getElementsByClassName(On)},Yt=[],ep(function(On){var jn;xt.appendChild(On).innerHTML="<a id='"+Yn+"' href='' disabled='disabled'></a><select id='"+Yn+"-\r\\' disabled='disabled'><option selected=''></option></select>",On.querySelectorAll("[selected]").length||Yt.push("\\["+ct+"*(?:value|"+td+")"),On.querySelectorAll("[id~="+Yn+"-]").length||Yt.push("~="),On.querySelectorAll("a#"+Yn+"+*").length||Yt.push(".#.+[+~]"),On.querySelectorAll(":checked").length||Yt.push(":checked"),jn=We.createElement("input"),jn.setAttribute("type","hidden"),On.appendChild(jn).setAttribute("name","D"),xt.appendChild(On).disabled=!0,On.querySelectorAll(":disabled").length!==2&&Yt.push(":enabled",":disabled"),jn=We.createElement("input"),jn.setAttribute("name",""),On.appendChild(jn),On.querySelectorAll("[name='']").length||Yt.push("\\["+ct+"*name"+ct+"*="+ct+`*(?:''|"")`)}),U.cssHas||Yt.push(":has"),Yt=Yt.length&&new RegExp(Yt.join("|")),Sa=function(On,jn){if(On===jn)return xe=!0,0;var es=!On.compareDocumentPosition-!jn.compareDocumentPosition;return es||(es=(On.ownerDocument||On)==(jn.ownerDocument||jn)?On.compareDocumentPosition(jn):1,es&1||!U.sortDetached&&jn.compareDocumentPosition(On)===es?On===We||On.ownerDocument==on&&qi.contains(on,On)?-1:jn===We||jn.ownerDocument==on&&qi.contains(on,jn)?1:ge?S.call(ge,On)-S.call(ge,jn):0:es&4?-1:1)}),We}qi.matches=function(ht,Ut){return qi(ht,null,null,Ut)},qi.matchesSelector=function(ht,Ut){if(Md(ht),Ct&&!Ul[Ut+" "]&&(!Yt||!Yt.test(Ut)))try{var En=Dn.call(ht,Ut);if(En||U.disconnectedMatch||ht.document&&ht.document.nodeType!==11)return En}catch{Ul(Ut,!0)}return qi(Ut,We,null,[ht]).length>0},qi.contains=function(ht,Ut){return(ht.ownerDocument||ht)!=We&&Md(ht),F.contains(ht,Ut)},qi.attr=function(ht,Ut){(ht.ownerDocument||ht)!=We&&Md(ht);var En=X.attrHandle[Ut.toLowerCase()],On=En&&P.call(X.attrHandle,Ut.toLowerCase())?En(ht,Ut,!Ct):void 0;return On!==void 0?On:ht.getAttribute(Ut)},qi.error=function(ht){throw new Error("Syntax error, unrecognized expression: "+ht)},F.uniqueSort=function(ht){var Ut,En=[],On=0,jn=0;if(xe=!U.sortStable,ge=!U.sortStable&&d.call(ht,0),De.call(ht,Sa),xe){for(;Ut=ht[jn++];)Ut===ht[jn]&&(On=En.push(jn));for(;On--;)we.call(ht,En[On],1)}return ge=null,ht},F.fn.uniqueSort=function(){return this.pushStack(F.uniqueSort(d.apply(this)))},X=F.expr={cacheLength:50,createPseudo:Ci,match:nd,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ht){return ht[1]=ht[1].replace(vc,Rl),ht[3]=(ht[3]||ht[4]||ht[5]||"").replace(vc,Rl),ht[2]==="~="&&(ht[3]=" "+ht[3]+" "),ht.slice(0,4)},CHILD:function(ht){return ht[1]=ht[1].toLowerCase(),ht[1].slice(0,3)==="nth"?(ht[3]||qi.error(ht[0]),ht[4]=+(ht[4]?ht[5]+(ht[6]||1):2*(ht[3]==="even"||ht[3]==="odd")),ht[5]=+(ht[7]+ht[8]||ht[3]==="odd")):ht[3]&&qi.error(ht[0]),ht},PSEUDO:function(ht){var Ut,En=!ht[6]&&ht[2];return nd.CHILD.test(ht[0])?null:(ht[3]?ht[2]=ht[4]||ht[5]||"":En&&Rh.test(En)&&(Ut=zl(En,!0))&&(Ut=En.indexOf(")",En.length-Ut)-En.length)&&(ht[0]=ht[0].slice(0,Ut),ht[2]=En.slice(0,Ut)),ht.slice(0,3))}},filter:{TAG:function(ht){var Ut=ht.replace(vc,Rl).toLowerCase();return ht==="*"?function(){return!0}:function(En){return ot(En,Ut)}},CLASS:function(ht){var Ut=Or[ht+" "];return Ut||(Ut=new RegExp("(^|"+ct+")"+ht+"("+ct+"|$)"))&&Or(ht,function(En){return Ut.test(typeof En.className=="string"&&En.className||typeof En.getAttribute<"u"&&En.getAttribute("class")||"")})},ATTR:function(ht,Ut,En){return function(On){var jn=qi.attr(On,ht);return jn==null?Ut==="!=":Ut?(jn+="",Ut==="="?jn===En:Ut==="!="?jn!==En:Ut==="^="?En&&jn.indexOf(En)===0:Ut==="*="?En&&jn.indexOf(En)>-1:Ut==="$="?En&&jn.slice(-En.length)===En:Ut==="~="?(" "+jn.replace(Bi," ")+" ").indexOf(En)>-1:Ut==="|="?jn===En||jn.slice(0,En.length+1)===En+"-":!1):!0}},CHILD:function(ht,Ut,En,On,jn){var es=ht.slice(0,3)!=="nth",ls=ht.slice(-4)!=="last",Gs=Ut==="of-type";return On===1&&jn===0?function(gs){return!!gs.parentNode}:function(gs,dr,Ar){var fr,Hr,_o,Xr,bl,ec=es!==ls?"nextSibling":"previousSibling",Ns=gs.parentNode,kl=Gs&&gs.nodeName.toLowerCase(),ta=!Ar&&!Gs,Wa=!1;if(Ns){if(es){for(;ec;){for(_o=gs;_o=_o[ec];)if(Gs?ot(_o,kl):_o.nodeType===1)return!1;bl=ec=ht==="only"&&!bl&&"nextSibling"}return!0}if(bl=[ls?Ns.firstChild:Ns.lastChild],ls&&ta){for(Hr=Ns[Yn]||(Ns[Yn]={}),fr=Hr[ht]||[],Xr=fr[0]===Cn&&fr[1],Wa=Xr&&fr[2],_o=Xr&&Ns.childNodes[Xr];_o=++Xr&&_o&&_o[ec]||(Wa=Xr=0)||bl.pop();)if(_o.nodeType===1&&++Wa&&_o===gs){Hr[ht]=[Cn,Xr,Wa];break}}else if(ta&&(Hr=gs[Yn]||(gs[Yn]={}),fr=Hr[ht]||[],Xr=fr[0]===Cn&&fr[1],Wa=Xr),Wa===!1)for(;(_o=++Xr&&_o&&_o[ec]||(Wa=Xr=0)||bl.pop())&&!((Gs?ot(_o,kl):_o.nodeType===1)&&++Wa&&(ta&&(Hr=_o[Yn]||(_o[Yn]={}),Hr[ht]=[Cn,Wa]),_o===gs)););return Wa-=jn,Wa===On||Wa%On===0&&Wa/On>=0}}},PSEUDO:function(ht,Ut){var En,On=X.pseudos[ht]||X.setFilters[ht.toLowerCase()]||qi.error("unsupported pseudo: "+ht);return On[Yn]?On(Ut):On.length>1?(En=[ht,ht,"",Ut],X.setFilters.hasOwnProperty(ht.toLowerCase())?Ci(function(jn,es){for(var ls,Gs=On(jn,Ut),gs=Gs.length;gs--;)ls=S.call(jn,Gs[gs]),jn[ls]=!(es[ls]=Gs[gs])}):function(jn){return On(jn,0,En)}):On}},pseudos:{not:Ci(function(ht){var Ut=[],En=[],On=nu(ht.replace(rt,"$1"));return On[Yn]?Ci(function(jn,es,ls,Gs){for(var gs,dr=On(jn,null,Gs,[]),Ar=jn.length;Ar--;)(gs=dr[Ar])&&(jn[Ar]=!(es[Ar]=gs))}):function(jn,es,ls){return Ut[0]=jn,On(Ut,null,ls,En),Ut[0]=null,!En.pop()}}),has:Ci(function(ht){return function(Ut){return qi(ht,Ut).length>0}}),contains:Ci(function(ht){return ht=ht.replace(vc,Rl),function(Ut){return(Ut.textContent||F.text(Ut)).indexOf(ht)>-1}}),lang:Ci(function(ht){return Og.test(ht||"")||qi.error("unsupported lang: "+ht),ht=ht.replace(vc,Rl).toLowerCase(),function(Ut){var En;do if(En=Ct?Ut.lang:Ut.getAttribute("xml:lang")||Ut.getAttribute("lang"))return En=En.toLowerCase(),En===ht||En.indexOf(ht+"-")===0;while((Ut=Ut.parentNode)&&Ut.nodeType===1);return!1}}),target:function(ht){var Ut=n.location&&n.location.hash;return Ut&&Ut.slice(1)===ht.id},root:function(ht){return ht===xt},focus:function(ht){return ht===_r()&&We.hasFocus()&&!!(ht.type||ht.href||~ht.tabIndex)},enabled:af(!1),disabled:af(!0),checked:function(ht){return ot(ht,"input")&&!!ht.checked||ot(ht,"option")&&!!ht.selected},selected:function(ht){return ht.parentNode&&ht.parentNode.selectedIndex,ht.selected===!0},empty:function(ht){for(ht=ht.firstChild;ht;ht=ht.nextSibling)if(ht.nodeType<6)return!1;return!0},parent:function(ht){return!X.pseudos.empty(ht)},header:function(ht){return Qf.test(ht.nodeName)},input:function(ht){return Qc.test(ht.nodeName)},button:function(ht){return ot(ht,"input")&&ht.type==="button"||ot(ht,"button")},text:function(ht){var Ut;return ot(ht,"input")&&ht.type==="text"&&((Ut=ht.getAttribute("type"))==null||Ut.toLowerCase()==="text")},first:ji(function(){return[0]}),last:ji(function(ht,Ut){return[Ut-1]}),eq:ji(function(ht,Ut,En){return[En<0?En+Ut:En]}),even:ji(function(ht,Ut){for(var En=0;En<Ut;En+=2)ht.push(En);return ht}),odd:ji(function(ht,Ut){for(var En=1;En<Ut;En+=2)ht.push(En);return ht}),lt:ji(function(ht,Ut,En){var On;for(En<0?On=En+Ut:En>Ut?On=Ut:On=En;--On>=0;)ht.push(On);return ht}),gt:ji(function(ht,Ut,En){for(var On=En<0?En+Ut:En;++On<Ut;)ht.push(On);return ht})}},X.pseudos.nth=X.pseudos.eq;for(L in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})X.pseudos[L]=rf(L);for(L in{submit:!0,reset:!0})X.pseudos[L]=HS(L);function Un(){}Un.prototype=X.filters=X.pseudos,X.setFilters=new Un;function zl(ht,Ut){var En,On,jn,es,ls,Gs,gs,dr=Si[ht+" "];if(dr)return Ut?0:dr.slice(0);for(ls=ht,Gs=[],gs=X.preFilter;ls;){(!En||(On=hl.exec(ls)))&&(On&&(ls=ls.slice(On[0].length)||ls),Gs.push(jn=[])),En=!1,(On=Hp.exec(ls))&&(En=On.shift(),jn.push({value:En,type:On[0].replace(rt," ")}),ls=ls.slice(En.length));for(es in X.filter)(On=nd[es].exec(ls))&&(!gs[es]||(On=gs[es](On)))&&(En=On.shift(),jn.push({value:En,type:es,matches:On}),ls=ls.slice(En.length));if(!En)break}return Ut?ls.length:ls?qi.error(ht):Si(ht,Gs).slice(0)}function kh(ht){for(var Ut=0,En=ht.length,On="";Ut<En;Ut++)On+=ht[Ut].value;return On}function tu(ht,Ut,En){var On=Ut.dir,jn=Ut.next,es=jn||On,ls=En&&es==="parentNode",Gs=No++;return Ut.first?function(gs,dr,Ar){for(;gs=gs[On];)if(gs.nodeType===1||ls)return ht(gs,dr,Ar);return!1}:function(gs,dr,Ar){var fr,Hr,_o=[Cn,Gs];if(Ar){for(;gs=gs[On];)if((gs.nodeType===1||ls)&&ht(gs,dr,Ar))return!0}else for(;gs=gs[On];)if(gs.nodeType===1||ls)if(Hr=gs[Yn]||(gs[Yn]={}),jn&&ot(gs,jn))gs=gs[On]||gs;else{if((fr=Hr[es])&&fr[0]===Cn&&fr[1]===Gs)return _o[2]=fr[2];if(Hr[es]=_o,_o[2]=ht(gs,dr,Ar))return!0}return!1}}function tp(ht){return ht.length>1?function(Ut,En,On){for(var jn=ht.length;jn--;)if(!ht[jn](Ut,En,On))return!1;return!0}:ht[0]}function zb(ht,Ut,En){for(var On=0,jn=Ut.length;On<jn;On++)qi(ht,Ut[On],En);return En}function Qe(ht,Ut,En,On,jn){for(var es,ls=[],Gs=0,gs=ht.length,dr=Ut!=null;Gs<gs;Gs++)(es=ht[Gs])&&(!En||En(es,On,jn))&&(ls.push(es),dr&&Ut.push(Gs));return ls}function Ac(ht,Ut,En,On,jn,es){return On&&!On[Yn]&&(On=Ac(On)),jn&&!jn[Yn]&&(jn=Ac(jn,es)),Ci(function(ls,Gs,gs,dr){var Ar,fr,Hr,_o,Xr=[],bl=[],ec=Gs.length,Ns=ls||zb(Ut||"*",gs.nodeType?[gs]:gs,[]),kl=ht&&(ls||!Ut)?Qe(Ns,Xr,ht,gs,dr):Ns;if(En?(_o=jn||(ls?ht:ec||On)?[]:Gs,En(kl,_o,gs,dr)):_o=kl,On)for(Ar=Qe(_o,bl),On(Ar,[],gs,dr),fr=Ar.length;fr--;)(Hr=Ar[fr])&&(_o[bl[fr]]=!(kl[bl[fr]]=Hr));if(ls){if(jn||ht){if(jn){for(Ar=[],fr=_o.length;fr--;)(Hr=_o[fr])&&Ar.push(kl[fr]=Hr);jn(null,_o=[],Ar,dr)}for(fr=_o.length;fr--;)(Hr=_o[fr])&&(Ar=jn?S.call(ls,Hr):Xr[fr])>-1&&(ls[Ar]=!(Gs[Ar]=Hr))}}else _o=Qe(_o===Gs?_o.splice(ec,_o.length):_o),jn?jn(null,Gs,_o,dr):Le.apply(Gs,_o)})}function Dh(ht){for(var Ut,En,On,jn=ht.length,es=X.relative[ht[0].type],ls=es||X.relative[" "],Gs=es?1:0,gs=tu(function(fr){return fr===Ut},ls,!0),dr=tu(function(fr){return S.call(Ut,fr)>-1},ls,!0),Ar=[function(fr,Hr,_o){var Xr=!es&&(_o||Hr!=de)||((Ut=Hr).nodeType?gs(fr,Hr,_o):dr(fr,Hr,_o));return Ut=null,Xr}];Gs<jn;Gs++)if(En=X.relative[ht[Gs].type])Ar=[tu(tp(Ar),En)];else{if(En=X.filter[ht[Gs].type].apply(null,ht[Gs].matches),En[Yn]){for(On=++Gs;On<jn&&!X.relative[ht[On].type];On++);return Ac(Gs>1&&tp(Ar),Gs>1&&kh(ht.slice(0,Gs-1).concat({value:ht[Gs-2].type===" "?"*":""})).replace(rt,"$1"),En,Gs<On&&Dh(ht.slice(Gs,On)),On<jn&&Dh(ht=ht.slice(On)),On<jn&&kh(ht))}Ar.push(En)}return tp(Ar)}function jb(ht,Ut){var En=Ut.length>0,On=ht.length>0,jn=function(es,ls,Gs,gs,dr){var Ar,fr,Hr,_o=0,Xr="0",bl=es&&[],ec=[],Ns=de,kl=es||On&&X.find.TAG("*",dr),ta=Cn+=Ns==null?1:Math.random()||.1,Wa=kl.length;for(dr&&(de=ls==We||ls||dr);Xr!==Wa&&(Ar=kl[Xr])!=null;Xr++){if(On&&Ar){for(fr=0,!ls&&Ar.ownerDocument!=We&&(Md(Ar),Gs=!Ct);Hr=ht[fr++];)if(Hr(Ar,ls||We,Gs)){Le.call(gs,Ar);break}dr&&(Cn=ta)}En&&((Ar=!Hr&&Ar)&&_o--,es&&bl.push(Ar))}if(_o+=Xr,En&&Xr!==_o){for(fr=0;Hr=Ut[fr++];)Hr(bl,ec,ls,Gs);if(es){if(_o>0)for(;Xr--;)bl[Xr]||ec[Xr]||(ec[Xr]=Fe.call(gs));ec=Qe(ec)}Le.apply(gs,ec),dr&&!es&&ec.length>0&&_o+Ut.length>1&&F.uniqueSort(gs)}return dr&&(Cn=ta,de=Ns),bl};return En?Ci(jn):jn}function nu(ht,Ut){var En,On=[],jn=[],es=zr[ht+" "];if(!es){for(Ut||(Ut=zl(ht)),En=Ut.length;En--;)es=Dh(Ut[En]),es[Yn]?On.push(es):jn.push(es);es=zr(ht,jb(jn,On)),es.selector=ht}return es}function Ql(ht,Ut,En,On){var jn,es,ls,Gs,gs,dr=typeof ht=="function"&&ht,Ar=!On&&zl(ht=dr.selector||ht);if(En=En||[],Ar.length===1){if(es=Ar[0]=Ar[0].slice(0),es.length>2&&(ls=es[0]).type==="ID"&&Ut.nodeType===9&&Ct&&X.relative[es[1].type]){if(Ut=(X.find.ID(ls.matches[0].replace(vc,Rl),Ut)||[])[0],Ut)dr&&(Ut=Ut.parentNode);else return En;ht=ht.slice(es.shift().value.length)}for(jn=nd.needsContext.test(ht)?0:es.length;jn--&&(ls=es[jn],!X.relative[Gs=ls.type]);)if((gs=X.find[Gs])&&(On=gs(ls.matches[0].replace(vc,Rl),Ig.test(es[0].type)&&eu(Ut.parentNode)||Ut))){if(es.splice(jn,1),ht=On.length&&kh(es),!ht)return Le.apply(En,On),En;break}}return(dr||nu(ht,Ar))(On,Ut,!Ct,En,!Ut||Ig.test(ht)&&eu(Ut.parentNode)||Ut),En}U.sortStable=Yn.split("").sort(Sa).join("")===Yn,Md(),U.sortDetached=ep(function(ht){return ht.compareDocumentPosition(We.createElement("fieldset"))&1}),F.find=qi,F.expr[":"]=F.expr.pseudos,F.unique=F.uniqueSort,qi.compile=nu,qi.select=Ql,qi.setDocument=Md,qi.tokenize=zl,qi.escape=F.escapeSelector,qi.getText=F.text,qi.isXML=F.isXMLDoc,qi.selectors=F.expr,qi.support=F.support,qi.uniqueSort=F.uniqueSort})();var Mt=function(L,X,de){for(var ge=[],xe=de!==void 0;(L=L[X])&&L.nodeType!==9;)if(L.nodeType===1){if(xe&&F(L).is(de))break;ge.push(L)}return ge},Pt=function(L,X){for(var de=[];L;L=L.nextSibling)L.nodeType===1&&L!==X&&de.push(L);return de},st=F.expr.match.needsContext,vn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function To(L,X,de){return H(X)?F.grep(L,function(ge,xe){return!!X.call(ge,xe,ge)!==de}):X.nodeType?F.grep(L,function(ge){return ge===X!==de}):typeof X!="string"?F.grep(L,function(ge){return S.call(X,ge)>-1!==de}):F.filter(X,L,de)}F.filter=function(L,X,de){var ge=X[0];return de&&(L=":not("+L+")"),X.length===1&&ge.nodeType===1?F.find.matchesSelector(ge,L)?[ge]:[]:F.find.matches(L,F.grep(X,function(xe){return xe.nodeType===1}))},F.fn.extend({find:function(L){var X,de,ge=this.length,xe=this;if(typeof L!="string")return this.pushStack(F(L).filter(function(){for(X=0;X<ge;X++)if(F.contains(xe[X],this))return!0}));for(de=this.pushStack([]),X=0;X<ge;X++)F.find(L,xe[X],de);return ge>1?F.uniqueSort(de):de},filter:function(L){return this.pushStack(To(this,L||[],!1))},not:function(L){return this.pushStack(To(this,L||[],!0))},is:function(L){return!!To(this,typeof L=="string"&&st.test(L)?F(L):L||[],!1).length}});var Nn,ho=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,qt=F.fn.init=function(L,X,de){var ge,xe;if(!L)return this;if(de=de||Nn,typeof L=="string")if(L[0]==="<"&&L[L.length-1]===">"&&L.length>=3?ge=[null,L,null]:ge=ho.exec(L),ge&&(ge[1]||!X))if(ge[1]){if(X=X instanceof F?X[0]:X,F.merge(this,F.parseHTML(ge[1],X&&X.nodeType?X.ownerDocument||X:oe,!0)),vn.test(ge[1])&&F.isPlainObject(X))for(ge in X)H(this[ge])?this[ge](X[ge]):this.attr(ge,X[ge]);return this}else return xe=oe.getElementById(ge[2]),xe&&(this[0]=xe,this.length=1),this;else return!X||X.jquery?(X||de).find(L):this.constructor(X).find(L);else{if(L.nodeType)return this[0]=L,this.length=1,this;if(H(L))return de.ready!==void 0?de.ready(L):L(F)}return F.makeArray(L,this)};qt.prototype=F.fn,Nn=F(oe);var Tn=/^(?:parents|prev(?:Until|All))/,Se={children:!0,contents:!0,next:!0,prev:!0};F.fn.extend({has:function(L){var X=F(L,this),de=X.length;return this.filter(function(){for(var ge=0;ge<de;ge++)if(F.contains(this,X[ge]))return!0})},closest:function(L,X){var de,ge=0,xe=this.length,Le=[],We=typeof L!="string"&&F(L);if(!st.test(L)){for(;ge<xe;ge++)for(de=this[ge];de&&de!==X;de=de.parentNode)if(de.nodeType<11&&(We?We.index(de)>-1:de.nodeType===1&&F.find.matchesSelector(de,L))){Le.push(de);break}}return this.pushStack(Le.length>1?F.uniqueSort(Le):Le)},index:function(L){return L?typeof L=="string"?S.call(F(L),this[0]):S.call(this,L.jquery?L[0]:L):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(L,X){return this.pushStack(F.uniqueSort(F.merge(this.get(),F(L,X))))},addBack:function(L){return this.add(L==null?this.prevObject:this.prevObject.filter(L))}});function br(L,X){for(;(L=L[X])&&L.nodeType!==1;);return L}F.each({parent:function(L){var X=L.parentNode;return X&&X.nodeType!==11?X:null},parents:function(L){return Mt(L,"parentNode")},parentsUntil:function(L,X,de){return Mt(L,"parentNode",de)},next:function(L){return br(L,"nextSibling")},prev:function(L){return br(L,"previousSibling")},nextAll:function(L){return Mt(L,"nextSibling")},prevAll:function(L){return Mt(L,"previousSibling")},nextUntil:function(L,X,de){return Mt(L,"nextSibling",de)},prevUntil:function(L,X,de){return Mt(L,"previousSibling",de)},siblings:function(L){return Pt((L.parentNode||{}).firstChild,L)},children:function(L){return Pt(L.firstChild)},contents:function(L){return L.contentDocument!=null&&c(L.contentDocument)?L.contentDocument:(ot(L,"template")&&(L=L.content||L),F.merge([],L.childNodes))}},function(L,X){F.fn[L]=function(de,ge){var xe=F.map(this,X,de);return L.slice(-5)!=="Until"&&(ge=de),ge&&typeof ge=="string"&&(xe=F.filter(ge,xe)),this.length>1&&(Se[L]||F.uniqueSort(xe),Tn.test(L)&&xe.reverse()),this.pushStack(xe)}});var ws=/[^\x20\t\r\n\f]+/g;function as(L){var X={};return F.each(L.match(ws)||[],function(de,ge){X[ge]=!0}),X}F.Callbacks=function(L){L=typeof L=="string"?as(L):F.extend({},L);var X,de,ge,xe,Le=[],We=[],xt=-1,Ct=function(){for(xe=xe||L.once,ge=X=!0;We.length;xt=-1)for(de=We.shift();++xt<Le.length;)Le[xt].apply(de[0],de[1])===!1&&L.stopOnFalse&&(xt=Le.length,de=!1);L.memory||(de=!1),X=!1,xe&&(de?Le=[]:Le="")},Yt={add:function(){return Le&&(de&&!X&&(xt=Le.length-1,We.push(de)),(function Dn(Yn){F.each(Yn,function(Cn,No){H(No)?(!L.unique||!Yt.has(No))&&Le.push(No):No&&No.length&&ye(No)!=="string"&&Dn(No)})})(arguments),de&&!X&&Ct()),this},remove:function(){return F.each(arguments,function(Dn,Yn){for(var Cn;(Cn=F.inArray(Yn,Le,Cn))>-1;)Le.splice(Cn,1),Cn<=xt&&xt--}),this},has:function(Dn){return Dn?F.inArray(Dn,Le)>-1:Le.length>0},empty:function(){return Le&&(Le=[]),this},disable:function(){return xe=We=[],Le=de="",this},disabled:function(){return!Le},lock:function(){return xe=We=[],!de&&!X&&(Le=de=""),this},locked:function(){return!!xe},fireWith:function(Dn,Yn){return xe||(Yn=Yn||[],Yn=[Dn,Yn.slice?Yn.slice():Yn],We.push(Yn),X||Ct()),this},fire:function(){return Yt.fireWith(this,arguments),this},fired:function(){return!!ge}};return Yt};function Is(L){return L}function oo(L){throw L}function kt(L,X,de,ge){var xe;try{L&&H(xe=L.promise)?xe.call(L).done(X).fail(de):L&&H(xe=L.then)?xe.call(L,X,de):X.apply(void 0,[L].slice(ge))}catch(Le){de.apply(void 0,[Le])}}F.extend({Deferred:function(L){var X=[["notify","progress",F.Callbacks("memory"),F.Callbacks("memory"),2],["resolve","done",F.Callbacks("once memory"),F.Callbacks("once memory"),0,"resolved"],["reject","fail",F.Callbacks("once memory"),F.Callbacks("once memory"),1,"rejected"]],de="pending",ge={state:function(){return de},always:function(){return xe.done(arguments).fail(arguments),this},catch:function(Le){return ge.then(null,Le)},pipe:function(){var Le=arguments;return F.Deferred(function(We){F.each(X,function(xt,Ct){var Yt=H(Le[Ct[4]])&&Le[Ct[4]];xe[Ct[1]](function(){var Dn=Yt&&Yt.apply(this,arguments);Dn&&H(Dn.promise)?Dn.promise().progress(We.notify).done(We.resolve).fail(We.reject):We[Ct[0]+"With"](this,Yt?[Dn]:arguments)})}),Le=null}).promise()},then:function(Le,We,xt){var Ct=0;function Yt(Dn,Yn,Cn,No){return function(){var Or=this,Si=arguments,zr=function(){var Sa,td;if(!(Dn<Ct)){if(Sa=Cn.apply(Or,Si),Sa===Yn.promise())throw new TypeError("Thenable self-resolution");td=Sa&&(typeof Sa=="object"||typeof Sa=="function")&&Sa.then,H(td)?No?td.call(Sa,Yt(Ct,Yn,Is,No),Yt(Ct,Yn,oo,No)):(Ct++,td.call(Sa,Yt(Ct,Yn,Is,No),Yt(Ct,Yn,oo,No),Yt(Ct,Yn,Is,Yn.notifyWith))):(Cn!==Is&&(Or=void 0,Si=[Sa]),(No||Yn.resolveWith)(Or,Si))}},Ul=No?zr:function(){try{zr()}catch(Sa){F.Deferred.exceptionHook&&F.Deferred.exceptionHook(Sa,Ul.error),Dn+1>=Ct&&(Cn!==oo&&(Or=void 0,Si=[Sa]),Yn.rejectWith(Or,Si))}};Dn?Ul():(F.Deferred.getErrorHook?Ul.error=F.Deferred.getErrorHook():F.Deferred.getStackHook&&(Ul.error=F.Deferred.getStackHook()),n.setTimeout(Ul))}}return F.Deferred(function(Dn){X[0][3].add(Yt(0,Dn,H(xt)?xt:Is,Dn.notifyWith)),X[1][3].add(Yt(0,Dn,H(Le)?Le:Is)),X[2][3].add(Yt(0,Dn,H(We)?We:oo))}).promise()},promise:function(Le){return Le!=null?F.extend(Le,ge):ge}},xe={};return F.each(X,function(Le,We){var xt=We[2],Ct=We[5];ge[We[1]]=xt.add,Ct&&xt.add(function(){de=Ct},X[3-Le][2].disable,X[3-Le][3].disable,X[0][2].lock,X[0][3].lock),xt.add(We[3].fire),xe[We[0]]=function(){return xe[We[0]+"With"](this===xe?void 0:this,arguments),this},xe[We[0]+"With"]=xt.fireWith}),ge.promise(xe),L&&L.call(xe,xe),xe},when:function(L){var X=arguments.length,de=X,ge=Array(de),xe=d.call(arguments),Le=F.Deferred(),We=function(xt){return function(Ct){ge[xt]=this,xe[xt]=arguments.length>1?d.call(arguments):Ct,--X||Le.resolveWith(ge,xe)}};if(X<=1&&(kt(L,Le.done(We(de)).resolve,Le.reject,!X),Le.state()==="pending"||H(xe[de]&&xe[de].then)))return Le.then();for(;de--;)kt(xe[de],We(de),Le.reject);return Le.promise()}});var bn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;F.Deferred.exceptionHook=function(L,X){n.console&&n.console.warn&&L&&bn.test(L.name)&&n.console.warn("jQuery.Deferred exception: "+L.message,L.stack,X)},F.readyException=function(L){n.setTimeout(function(){throw L})};var mn=F.Deferred();F.fn.ready=function(L){return mn.then(L).catch(function(X){F.readyException(X)}),this},F.extend({isReady:!1,readyWait:1,ready:function(L){(L===!0?--F.readyWait:F.isReady)||(F.isReady=!0,!(L!==!0&&--F.readyWait>0)&&mn.resolveWith(oe,[F]))}}),F.ready.then=mn.then;function Ze(){oe.removeEventListener("DOMContentLoaded",Ze),n.removeEventListener("load",Ze),F.ready()}oe.readyState==="complete"||oe.readyState!=="loading"&&!oe.documentElement.doScroll?n.setTimeout(F.ready):(oe.addEventListener("DOMContentLoaded",Ze),n.addEventListener("load",Ze));var mt=function(L,X,de,ge,xe,Le,We){var xt=0,Ct=L.length,Yt=de==null;if(ye(de)==="object"){xe=!0;for(xt in de)mt(L,X,xt,de[xt],!0,Le,We)}else if(ge!==void 0&&(xe=!0,H(ge)||(We=!0),Yt&&(We?(X.call(L,ge),X=null):(Yt=X,X=function(Dn,Yn,Cn){return Yt.call(F(Dn),Cn)})),X))for(;xt<Ct;xt++)X(L[xt],de,We?ge:ge.call(L[xt],xt,X(L[xt],de)));return xe?L:Yt?X.call(L):Ct?X(L[0],de):Le},Dt=/^-ms-/,je=/-([a-z])/g;function Lt(L,X){return X.toUpperCase()}function Kt(L){return L.replace(Dt,"ms-").replace(je,Lt)}var rn=function(L){return L.nodeType===1||L.nodeType===9||!+L.nodeType};function Ht(){this.expando=F.expando+Ht.uid++}Ht.uid=1,Ht.prototype={cache:function(L){var X=L[this.expando];return X||(X={},rn(L)&&(L.nodeType?L[this.expando]=X:Object.defineProperty(L,this.expando,{value:X,configurable:!0}))),X},set:function(L,X,de){var ge,xe=this.cache(L);if(typeof X=="string")xe[Kt(X)]=de;else for(ge in X)xe[Kt(ge)]=X[ge];return xe},get:function(L,X){return X===void 0?this.cache(L):L[this.expando]&&L[this.expando][Kt(X)]},access:function(L,X,de){return X===void 0||X&&typeof X=="string"&&de===void 0?this.get(L,X):(this.set(L,X,de),de!==void 0?de:X)},remove:function(L,X){var de,ge=L[this.expando];if(ge!==void 0){if(X!==void 0)for(Array.isArray(X)?X=X.map(Kt):(X=Kt(X),X=X in ge?[X]:X.match(ws)||[]),de=X.length;de--;)delete ge[X[de]];(X===void 0||F.isEmptyObject(ge))&&(L.nodeType?L[this.expando]=void 0:delete L[this.expando])}},hasData:function(L){var X=L[this.expando];return X!==void 0&&!F.isEmptyObject(X)}};var _t=new Ht,go=new Ht,Mo=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ko=/[A-Z]/g;function Io(L){return L==="true"?!0:L==="false"?!1:L==="null"?null:L===+L+""?+L:Mo.test(L)?JSON.parse(L):L}function bs(L,X,de){var ge;if(de===void 0&&L.nodeType===1)if(ge="data-"+X.replace(Ko,"-$&").toLowerCase(),de=L.getAttribute(ge),typeof de=="string"){try{de=Io(de)}catch{}go.set(L,X,de)}else de=void 0;return de}F.extend({hasData:function(L){return go.hasData(L)||_t.hasData(L)},data:function(L,X,de){return go.access(L,X,de)},removeData:function(L,X){go.remove(L,X)},_data:function(L,X,de){return _t.access(L,X,de)},_removeData:function(L,X){_t.remove(L,X)}}),F.fn.extend({data:function(L,X){var de,ge,xe,Le=this[0],We=Le&&Le.attributes;if(L===void 0){if(this.length&&(xe=go.get(Le),Le.nodeType===1&&!_t.get(Le,"hasDataAttrs"))){for(de=We.length;de--;)We[de]&&(ge=We[de].name,ge.indexOf("data-")===0&&(ge=Kt(ge.slice(5)),bs(Le,ge,xe[ge])));_t.set(Le,"hasDataAttrs",!0)}return xe}return typeof L=="object"?this.each(function(){go.set(this,L)}):mt(this,function(xt){var Ct;if(Le&&xt===void 0)return Ct=go.get(Le,L),Ct!==void 0||(Ct=bs(Le,L),Ct!==void 0)?Ct:void 0;this.each(function(){go.set(this,L,xt)})},null,X,arguments.length>1,null,!0)},removeData:function(L){return this.each(function(){go.remove(this,L)})}}),F.extend({queue:function(L,X,de){var ge;if(L)return X=(X||"fx")+"queue",ge=_t.get(L,X),de&&(!ge||Array.isArray(de)?ge=_t.access(L,X,F.makeArray(de)):ge.push(de)),ge||[]},dequeue:function(L,X){X=X||"fx";var de=F.queue(L,X),ge=de.length,xe=de.shift(),Le=F._queueHooks(L,X),We=function(){F.dequeue(L,X)};xe==="inprogress"&&(xe=de.shift(),ge--),xe&&(X==="fx"&&de.unshift("inprogress"),delete Le.stop,xe.call(L,We,Le)),!ge&&Le&&Le.empty.fire()},_queueHooks:function(L,X){var de=X+"queueHooks";return _t.get(L,de)||_t.access(L,de,{empty:F.Callbacks("once memory").add(function(){_t.remove(L,[X+"queue",de])})})}}),F.fn.extend({queue:function(L,X){var de=2;return typeof L!="string"&&(X=L,L="fx",de--),arguments.length<de?F.queue(this[0],L):X===void 0?this:this.each(function(){var ge=F.queue(this,L,X);F._queueHooks(this,L),L==="fx"&&ge[0]!=="inprogress"&&F.dequeue(this,L)})},dequeue:function(L){return this.each(function(){F.dequeue(this,L)})},clearQueue:function(L){return this.queue(L||"fx",[])},promise:function(L,X){var de,ge=1,xe=F.Deferred(),Le=this,We=this.length,xt=function(){--ge||xe.resolveWith(Le,[Le])};for(typeof L!="string"&&(X=L,L=void 0),L=L||"fx";We--;)de=_t.get(Le[We],L+"queueHooks"),de&&de.empty&&(ge++,de.empty.add(xt));return xt(),xe.promise(X)}});var Ps=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ys=new RegExp("^(?:([+-])=|)("+Ps+")([a-z%]*)$","i"),Zs=["Top","Right","Bottom","Left"],Ds=oe.documentElement,bt=function(L){return F.contains(L.ownerDocument,L)},Vt={composed:!0};Ds.getRootNode&&(bt=function(L){return F.contains(L.ownerDocument,L)||L.getRootNode(Vt)===L.ownerDocument});var Jt=function(L,X){return L=X||L,L.style.display==="none"||L.style.display===""&&bt(L)&&F.css(L,"display")==="none"};function jt(L,X,de,ge){var xe,Le,We=20,xt=ge?function(){return ge.cur()}:function(){return F.css(L,X,"")},Ct=xt(),Yt=de&&de[3]||(F.cssNumber[X]?"":"px"),Dn=L.nodeType&&(F.cssNumber[X]||Yt!=="px"&&+Ct)&&ys.exec(F.css(L,X));if(Dn&&Dn[3]!==Yt){for(Ct=Ct/2,Yt=Yt||Dn[3],Dn=+Ct||1;We--;)F.style(L,X,Dn+Yt),(1-Le)*(1-(Le=xt()/Ct||.5))<=0&&(We=0),Dn=Dn/Le;Dn=Dn*2,F.style(L,X,Dn+Yt),de=de||[]}return de&&(Dn=+Dn||+Ct||0,xe=de[1]?Dn+(de[1]+1)*de[2]:+de[2],ge&&(ge.unit=Yt,ge.start=Dn,ge.end=xe)),xe}var wo={};function Jn(L){var X,de=L.ownerDocument,ge=L.nodeName,xe=wo[ge];return xe||(X=de.body.appendChild(de.createElement(ge)),xe=F.css(X,"display"),X.parentNode.removeChild(X),xe==="none"&&(xe="block"),wo[ge]=xe,xe)}function Zt(L,X){for(var de,ge,xe=[],Le=0,We=L.length;Le<We;Le++)ge=L[Le],ge.style&&(de=ge.style.display,X?(de==="none"&&(xe[Le]=_t.get(ge,"display")||null,xe[Le]||(ge.style.display="")),ge.style.display===""&&Jt(ge)&&(xe[Le]=Jn(ge))):de!=="none"&&(xe[Le]="none",_t.set(ge,"display",de)));for(Le=0;Le<We;Le++)xe[Le]!=null&&(L[Le].style.display=xe[Le]);return L}F.fn.extend({show:function(){return Zt(this,!0)},hide:function(){return Zt(this)},toggle:function(L){return typeof L=="boolean"?L?this.show():this.hide():this.each(function(){Jt(this)?F(this).show():F(this).hide()})}});var Zn=/^(?:checkbox|radio)$/i,eo=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,jo=/^$|^module$|\/(?:java|ecma)script/i;(function(){var L=oe.createDocumentFragment(),X=L.appendChild(oe.createElement("div")),de=oe.createElement("input");de.setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),X.appendChild(de),U.checkClone=X.cloneNode(!0).cloneNode(!0).lastChild.checked,X.innerHTML="<textarea>x</textarea>",U.noCloneChecked=!!X.cloneNode(!0).lastChild.defaultValue,X.innerHTML="<option></option>",U.option=!!X.lastChild})();var Ho={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ho.tbody=Ho.tfoot=Ho.colgroup=Ho.caption=Ho.thead,Ho.th=Ho.td,U.option||(Ho.optgroup=Ho.option=[1,"<select multiple='multiple'>","</select>"]);function wn(L,X){var de;return typeof L.getElementsByTagName<"u"?de=L.getElementsByTagName(X||"*"):typeof L.querySelectorAll<"u"?de=L.querySelectorAll(X||"*"):de=[],X===void 0||X&&ot(L,X)?F.merge([L],de):de}function Vr(L,X){for(var de=0,ge=L.length;de<ge;de++)_t.set(L[de],"globalEval",!X||_t.get(X[de],"globalEval"))}var Ws=/<|&#?\w+;/;function or(L,X,de,ge,xe){for(var Le,We,xt,Ct,Yt,Dn,Yn=X.createDocumentFragment(),Cn=[],No=0,Or=L.length;No<Or;No++)if(Le=L[No],Le||Le===0)if(ye(Le)==="object")F.merge(Cn,Le.nodeType?[Le]:Le);else if(!Ws.test(Le))Cn.push(X.createTextNode(Le));else{for(We=We||Yn.appendChild(X.createElement("div")),xt=(eo.exec(Le)||["",""])[1].toLowerCase(),Ct=Ho[xt]||Ho._default,We.innerHTML=Ct[1]+F.htmlPrefilter(Le)+Ct[2],Dn=Ct[0];Dn--;)We=We.lastChild;F.merge(Cn,We.childNodes),We=Yn.firstChild,We.textContent=""}for(Yn.textContent="",No=0;Le=Cn[No++];){if(ge&&F.inArray(Le,ge)>-1){xe&&xe.push(Le);continue}if(Yt=bt(Le),We=wn(Yn.appendChild(Le),"script"),Yt&&Vr(We),de)for(Dn=0;Le=We[Dn++];)jo.test(Le.type||"")&&de.push(Le)}return Yn}var ya=/^([^.]*)(?:\.(.+)|)/;function Ni(){return!0}function sr(){return!1}function ts(L,X,de,ge,xe,Le){var We,xt;if(typeof X=="object"){typeof de!="string"&&(ge=ge||de,de=void 0);for(xt in X)ts(L,xt,de,ge,X[xt],Le);return L}if(ge==null&&xe==null?(xe=de,ge=de=void 0):xe==null&&(typeof de=="string"?(xe=ge,ge=void 0):(xe=ge,ge=de,de=void 0)),xe===!1)xe=sr;else if(!xe)return L;return Le===1&&(We=xe,xe=function(Ct){return F().off(Ct),We.apply(this,arguments)},xe.guid=We.guid||(We.guid=F.guid++)),L.each(function(){F.event.add(this,X,xe,ge,de)})}F.event={global:{},add:function(L,X,de,ge,xe){var Le,We,xt,Ct,Yt,Dn,Yn,Cn,No,Or,Si,zr=_t.get(L);if(rn(L))for(de.handler&&(Le=de,de=Le.handler,xe=Le.selector),xe&&F.find.matchesSelector(Ds,xe),de.guid||(de.guid=F.guid++),(Ct=zr.events)||(Ct=zr.events=Object.create(null)),(We=zr.handle)||(We=zr.handle=function(Ul){return typeof F<"u"&&F.event.triggered!==Ul.type?F.event.dispatch.apply(L,arguments):void 0}),X=(X||"").match(ws)||[""],Yt=X.length;Yt--;)xt=ya.exec(X[Yt])||[],No=Si=xt[1],Or=(xt[2]||"").split(".").sort(),No&&(Yn=F.event.special[No]||{},No=(xe?Yn.delegateType:Yn.bindType)||No,Yn=F.event.special[No]||{},Dn=F.extend({type:No,origType:Si,data:ge,handler:de,guid:de.guid,selector:xe,needsContext:xe&&F.expr.match.needsContext.test(xe),namespace:Or.join(".")},Le),(Cn=Ct[No])||(Cn=Ct[No]=[],Cn.delegateCount=0,(!Yn.setup||Yn.setup.call(L,ge,Or,We)===!1)&&L.addEventListener&&L.addEventListener(No,We)),Yn.add&&(Yn.add.call(L,Dn),Dn.handler.guid||(Dn.handler.guid=de.guid)),xe?Cn.splice(Cn.delegateCount++,0,Dn):Cn.push(Dn),F.event.global[No]=!0)},remove:function(L,X,de,ge,xe){var Le,We,xt,Ct,Yt,Dn,Yn,Cn,No,Or,Si,zr=_t.hasData(L)&&_t.get(L);if(!(!zr||!(Ct=zr.events))){for(X=(X||"").match(ws)||[""],Yt=X.length;Yt--;){if(xt=ya.exec(X[Yt])||[],No=Si=xt[1],Or=(xt[2]||"").split(".").sort(),!No){for(No in Ct)F.event.remove(L,No+X[Yt],de,ge,!0);continue}for(Yn=F.event.special[No]||{},No=(ge?Yn.delegateType:Yn.bindType)||No,Cn=Ct[No]||[],xt=xt[2]&&new RegExp("(^|\\.)"+Or.join("\\.(?:.*\\.|)")+"(\\.|$)"),We=Le=Cn.length;Le--;)Dn=Cn[Le],(xe||Si===Dn.origType)&&(!de||de.guid===Dn.guid)&&(!xt||xt.test(Dn.namespace))&&(!ge||ge===Dn.selector||ge==="**"&&Dn.selector)&&(Cn.splice(Le,1),Dn.selector&&Cn.delegateCount--,Yn.remove&&Yn.remove.call(L,Dn));We&&!Cn.length&&((!Yn.teardown||Yn.teardown.call(L,Or,zr.handle)===!1)&&F.removeEvent(L,No,zr.handle),delete Ct[No])}F.isEmptyObject(Ct)&&_t.remove(L,"handle events")}},dispatch:function(L){var X,de,ge,xe,Le,We,xt=new Array(arguments.length),Ct=F.event.fix(L),Yt=(_t.get(this,"events")||Object.create(null))[Ct.type]||[],Dn=F.event.special[Ct.type]||{};for(xt[0]=Ct,X=1;X<arguments.length;X++)xt[X]=arguments[X];if(Ct.delegateTarget=this,!(Dn.preDispatch&&Dn.preDispatch.call(this,Ct)===!1)){for(We=F.event.handlers.call(this,Ct,Yt),X=0;(xe=We[X++])&&!Ct.isPropagationStopped();)for(Ct.currentTarget=xe.elem,de=0;(Le=xe.handlers[de++])&&!Ct.isImmediatePropagationStopped();)(!Ct.rnamespace||Le.namespace===!1||Ct.rnamespace.test(Le.namespace))&&(Ct.handleObj=Le,Ct.data=Le.data,ge=((F.event.special[Le.origType]||{}).handle||Le.handler).apply(xe.elem,xt),ge!==void 0&&(Ct.result=ge)===!1&&(Ct.preventDefault(),Ct.stopPropagation()));return Dn.postDispatch&&Dn.postDispatch.call(this,Ct),Ct.result}},handlers:function(L,X){var de,ge,xe,Le,We,xt=[],Ct=X.delegateCount,Yt=L.target;if(Ct&&Yt.nodeType&&!(L.type==="click"&&L.button>=1)){for(;Yt!==this;Yt=Yt.parentNode||this)if(Yt.nodeType===1&&!(L.type==="click"&&Yt.disabled===!0)){for(Le=[],We={},de=0;de<Ct;de++)ge=X[de],xe=ge.selector+" ",We[xe]===void 0&&(We[xe]=ge.needsContext?F(xe,this).index(Yt)>-1:F.find(xe,this,null,[Yt]).length),We[xe]&&Le.push(ge);Le.length&&xt.push({elem:Yt,handlers:Le})}}return Yt=this,Ct<X.length&&xt.push({elem:Yt,handlers:X.slice(Ct)}),xt},addProp:function(L,X){Object.defineProperty(F.Event.prototype,L,{enumerable:!0,configurable:!0,get:H(X)?function(){if(this.originalEvent)return X(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[L]},set:function(de){Object.defineProperty(this,L,{enumerable:!0,configurable:!0,writable:!0,value:de})}})},fix:function(L){return L[F.expando]?L:new F.Event(L)},special:{load:{noBubble:!0},click:{setup:function(L){var X=this||L;return Zn.test(X.type)&&X.click&&ot(X,"input")&&ps(X,"click",!0),!1},trigger:function(L){var X=this||L;return Zn.test(X.type)&&X.click&&ot(X,"input")&&ps(X,"click"),!0},_default:function(L){var X=L.target;return Zn.test(X.type)&&X.click&&ot(X,"input")&&_t.get(X,"click")||ot(X,"a")}},beforeunload:{postDispatch:function(L){L.result!==void 0&&L.originalEvent&&(L.originalEvent.returnValue=L.result)}}}};function ps(L,X,de){if(!de){_t.get(L,X)===void 0&&F.event.add(L,X,Ni);return}_t.set(L,X,!1),F.event.add(L,X,{namespace:!1,handler:function(ge){var xe,Le=_t.get(this,X);if(ge.isTrigger&1&&this[X]){if(Le)(F.event.special[X]||{}).delegateType&&ge.stopPropagation();else if(Le=d.call(arguments),_t.set(this,X,Le),this[X](),xe=_t.get(this,X),_t.set(this,X,!1),Le!==xe)return ge.stopImmediatePropagation(),ge.preventDefault(),xe}else Le&&(_t.set(this,X,F.event.trigger(Le[0],Le.slice(1),this)),ge.stopPropagation(),ge.isImmediatePropagationStopped=Ni)}})}F.removeEvent=function(L,X,de){L.removeEventListener&&L.removeEventListener(X,de)},F.Event=function(L,X){if(!(this instanceof F.Event))return new F.Event(L,X);L&&L.type?(this.originalEvent=L,this.type=L.type,this.isDefaultPrevented=L.defaultPrevented||L.defaultPrevented===void 0&&L.returnValue===!1?Ni:sr,this.target=L.target&&L.target.nodeType===3?L.target.parentNode:L.target,this.currentTarget=L.currentTarget,this.relatedTarget=L.relatedTarget):this.type=L,X&&F.extend(this,X),this.timeStamp=L&&L.timeStamp||Date.now(),this[F.expando]=!0},F.Event.prototype={constructor:F.Event,isDefaultPrevented:sr,isPropagationStopped:sr,isImmediatePropagationStopped:sr,isSimulated:!1,preventDefault:function(){var L=this.originalEvent;this.isDefaultPrevented=Ni,L&&!this.isSimulated&&L.preventDefault()},stopPropagation:function(){var L=this.originalEvent;this.isPropagationStopped=Ni,L&&!this.isSimulated&&L.stopPropagation()},stopImmediatePropagation:function(){var L=this.originalEvent;this.isImmediatePropagationStopped=Ni,L&&!this.isSimulated&&L.stopImmediatePropagation(),this.stopPropagation()}},F.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},F.event.addProp),F.each({focus:"focusin",blur:"focusout"},function(L,X){function de(ge){if(oe.documentMode){var xe=_t.get(this,"handle"),Le=F.event.fix(ge);Le.type=ge.type==="focusin"?"focus":"blur",Le.isSimulated=!0,xe(ge),Le.target===Le.currentTarget&&xe(Le)}else F.event.simulate(X,ge.target,F.event.fix(ge))}F.event.special[L]={setup:function(){var ge;if(ps(this,L,!0),oe.documentMode)ge=_t.get(this,X),ge||this.addEventListener(X,de),_t.set(this,X,(ge||0)+1);else return!1},trigger:function(){return ps(this,L),!0},teardown:function(){var ge;if(oe.documentMode)ge=_t.get(this,X)-1,ge?_t.set(this,X,ge):(this.removeEventListener(X,de),_t.remove(this,X));else return!1},_default:function(ge){return _t.get(ge.target,L)},delegateType:X},F.event.special[X]={setup:function(){var ge=this.ownerDocument||this.document||this,xe=oe.documentMode?this:ge,Le=_t.get(xe,X);Le||(oe.documentMode?this.addEventListener(X,de):ge.addEventListener(L,de,!0)),_t.set(xe,X,(Le||0)+1)},teardown:function(){var ge=this.ownerDocument||this.document||this,xe=oe.documentMode?this:ge,Le=_t.get(xe,X)-1;Le?_t.set(xe,X,Le):(oe.documentMode?this.removeEventListener(X,de):ge.removeEventListener(L,de,!0),_t.remove(xe,X))}}}),F.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(L,X){F.event.special[L]={delegateType:X,bindType:X,handle:function(de){var ge,xe=this,Le=de.relatedTarget,We=de.handleObj;return(!Le||Le!==xe&&!F.contains(xe,Le))&&(de.type=We.origType,ge=We.handler.apply(this,arguments),de.type=X),ge}}}),F.fn.extend({on:function(L,X,de,ge){return ts(this,L,X,de,ge)},one:function(L,X,de,ge){return ts(this,L,X,de,ge,1)},off:function(L,X,de){var ge,xe;if(L&&L.preventDefault&&L.handleObj)return ge=L.handleObj,F(L.delegateTarget).off(ge.namespace?ge.origType+"."+ge.namespace:ge.origType,ge.selector,ge.handler),this;if(typeof L=="object"){for(xe in L)this.off(xe,X,L[xe]);return this}return(X===!1||typeof X=="function")&&(de=X,X=void 0),de===!1&&(de=sr),this.each(function(){F.event.remove(this,L,de,X)})}});var ul=/<script|<style|<link/i,Dc=/checked\s*(?:[^=]|=\s*.checked.)/i,Fl=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function $o(L,X){return ot(L,"table")&&ot(X.nodeType!==11?X:X.firstChild,"tr")&&F(L).children("tbody")[0]||L}function Jl(L){return L.type=(L.getAttribute("type")!==null)+"/"+L.type,L}function nl(L){return(L.type||"").slice(0,5)==="true/"?L.type=L.type.slice(5):L.removeAttribute("type"),L}function Zf(L,X){var de,ge,xe,Le,We,xt,Ct;if(X.nodeType===1){if(_t.hasData(L)&&(Le=_t.get(L),Ct=Le.events,Ct)){_t.remove(X,"handle events");for(xe in Ct)for(de=0,ge=Ct[xe].length;de<ge;de++)F.event.add(X,xe,Ct[xe][de])}go.hasData(L)&&(We=go.access(L),xt=F.extend({},We),go.set(X,xt))}}function Hl(L,X){var de=X.nodeName.toLowerCase();de==="input"&&Zn.test(L.type)?X.checked=L.checked:(de==="input"||de==="textarea")&&(X.defaultValue=L.defaultValue)}function xd(L,X,de,ge){X=p(X);var xe,Le,We,xt,Ct,Yt,Dn=0,Yn=L.length,Cn=Yn-1,No=X[0],Or=H(No);if(Or||Yn>1&&typeof No=="string"&&!U.checkClone&&Dc.test(No))return L.each(function(Si){var zr=L.eq(Si);Or&&(X[0]=No.call(this,Si,zr.html())),xd(zr,X,de,ge)});if(Yn&&(xe=or(X,L[0].ownerDocument,!1,L,ge),Le=xe.firstChild,xe.childNodes.length===1&&(xe=Le),Le||ge)){for(We=F.map(wn(xe,"script"),Jl),xt=We.length;Dn<Yn;Dn++)Ct=xe,Dn!==Cn&&(Ct=F.clone(Ct,!0,!0),xt&&F.merge(We,wn(Ct,"script"))),de.call(L[Dn],Ct,Dn);if(xt)for(Yt=We[We.length-1].ownerDocument,F.map(We,nl),Dn=0;Dn<xt;Dn++)Ct=We[Dn],jo.test(Ct.type||"")&&!_t.access(Ct,"globalEval")&&F.contains(Yt,Ct)&&(Ct.src&&(Ct.type||"").toLowerCase()!=="module"?F._evalUrl&&!Ct.noModule&&F._evalUrl(Ct.src,{nonce:Ct.nonce||Ct.getAttribute("nonce")},Yt):re(Ct.textContent.replace(Fl,""),Ct,Yt))}return L}function Fr(L,X,de){for(var ge,xe=X?F.filter(X,L):L,Le=0;(ge=xe[Le])!=null;Le++)!de&&ge.nodeType===1&&F.cleanData(wn(ge)),ge.parentNode&&(de&&bt(ge)&&Vr(wn(ge,"script")),ge.parentNode.removeChild(ge));return L}F.extend({htmlPrefilter:function(L){return L},clone:function(L,X,de){var ge,xe,Le,We,xt=L.cloneNode(!0),Ct=bt(L);if(!U.noCloneChecked&&(L.nodeType===1||L.nodeType===11)&&!F.isXMLDoc(L))for(We=wn(xt),Le=wn(L),ge=0,xe=Le.length;ge<xe;ge++)Hl(Le[ge],We[ge]);if(X)if(de)for(Le=Le||wn(L),We=We||wn(xt),ge=0,xe=Le.length;ge<xe;ge++)Zf(Le[ge],We[ge]);else Zf(L,xt);return We=wn(xt,"script"),We.length>0&&Vr(We,!Ct&&wn(L,"script")),xt},cleanData:function(L){for(var X,de,ge,xe=F.event.special,Le=0;(de=L[Le])!==void 0;Le++)if(rn(de)){if(X=de[_t.expando]){if(X.events)for(ge in X.events)xe[ge]?F.event.remove(de,ge):F.removeEvent(de,ge,X.handle);de[_t.expando]=void 0}de[go.expando]&&(de[go.expando]=void 0)}}}),F.fn.extend({detach:function(L){return Fr(this,L,!0)},remove:function(L){return Fr(this,L)},text:function(L){return mt(this,function(X){return X===void 0?F.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=X)})},null,L,arguments.length)},append:function(){return xd(this,arguments,function(L){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var X=$o(this,L);X.appendChild(L)}})},prepend:function(){return xd(this,arguments,function(L){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var X=$o(this,L);X.insertBefore(L,X.firstChild)}})},before:function(){return xd(this,arguments,function(L){this.parentNode&&this.parentNode.insertBefore(L,this)})},after:function(){return xd(this,arguments,function(L){this.parentNode&&this.parentNode.insertBefore(L,this.nextSibling)})},empty:function(){for(var L,X=0;(L=this[X])!=null;X++)L.nodeType===1&&(F.cleanData(wn(L,!1)),L.textContent="");return this},clone:function(L,X){return L=L??!1,X=X??L,this.map(function(){return F.clone(this,L,X)})},html:function(L){return mt(this,function(X){var de=this[0]||{},ge=0,xe=this.length;if(X===void 0&&de.nodeType===1)return de.innerHTML;if(typeof X=="string"&&!ul.test(X)&&!Ho[(eo.exec(X)||["",""])[1].toLowerCase()]){X=F.htmlPrefilter(X);try{for(;ge<xe;ge++)de=this[ge]||{},de.nodeType===1&&(F.cleanData(wn(de,!1)),de.innerHTML=X);de=0}catch{}}de&&this.empty().append(X)},null,L,arguments.length)},replaceWith:function(){var L=[];return xd(this,arguments,function(X){var de=this.parentNode;F.inArray(this,L)<0&&(F.cleanData(wn(this)),de&&de.replaceChild(X,this))},L)}}),F.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(L,X){F.fn[L]=function(de){for(var ge,xe=[],Le=F(de),We=Le.length-1,xt=0;xt<=We;xt++)ge=xt===We?this:this.clone(!0),F(Le[xt])[X](ge),v.apply(xe,ge.get());return this.pushStack(xe)}});var Aa=new RegExp("^("+Ps+")(?!px)[a-z%]+$","i"),Od=/^--/,Ju=function(L){var X=L.ownerDocument.defaultView;return(!X||!X.opener)&&(X=n),X.getComputedStyle(L)},Yc=function(L,X,de){var ge,xe,Le={};for(xe in X)Le[xe]=L.style[xe],L.style[xe]=X[xe];ge=de.call(L);for(xe in X)L.style[xe]=Le[xe];return ge},dl=new RegExp(Zs.join("|"),"i");(function(){function L(){if(Yt){Ct.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Yt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ds.appendChild(Ct).appendChild(Yt);var Dn=n.getComputedStyle(Yt);de=Dn.top!=="1%",xt=X(Dn.marginLeft)===12,Yt.style.right="60%",Le=X(Dn.right)===36,ge=X(Dn.width)===36,Yt.style.position="absolute",xe=X(Yt.offsetWidth/3)===12,Ds.removeChild(Ct),Yt=null}}function X(Dn){return Math.round(parseFloat(Dn))}var de,ge,xe,Le,We,xt,Ct=oe.createElement("div"),Yt=oe.createElement("div");Yt.style&&(Yt.style.backgroundClip="content-box",Yt.cloneNode(!0).style.backgroundClip="",U.clearCloneStyle=Yt.style.backgroundClip==="content-box",F.extend(U,{boxSizingReliable:function(){return L(),ge},pixelBoxStyles:function(){return L(),Le},pixelPosition:function(){return L(),de},reliableMarginLeft:function(){return L(),xt},scrollboxSize:function(){return L(),xe},reliableTrDimensions:function(){var Dn,Yn,Cn,No;return We==null&&(Dn=oe.createElement("table"),Yn=oe.createElement("tr"),Cn=oe.createElement("div"),Dn.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Yn.style.cssText="box-sizing:content-box;border:1px solid",Yn.style.height="1px",Cn.style.height="9px",Cn.style.display="block",Ds.appendChild(Dn).appendChild(Yn).appendChild(Cn),No=n.getComputedStyle(Yn),We=parseInt(No.height,10)+parseInt(No.borderTopWidth,10)+parseInt(No.borderBottomWidth,10)===Yn.offsetHeight,Ds.removeChild(Dn)),We}}))})();function Qu(L,X,de){var ge,xe,Le,We,xt=Od.test(X),Ct=L.style;return de=de||Ju(L),de&&(We=de.getPropertyValue(X)||de[X],xt&&We&&(We=We.replace(rt,"$1")||void 0),We===""&&!bt(L)&&(We=F.style(L,X)),!U.pixelBoxStyles()&&Aa.test(We)&&dl.test(X)&&(ge=Ct.width,xe=Ct.minWidth,Le=Ct.maxWidth,Ct.minWidth=Ct.maxWidth=Ct.width=We,We=de.width,Ct.width=ge,Ct.minWidth=xe,Ct.maxWidth=Le)),We!==void 0?We+"":We}function Id(L,X){return{get:function(){if(L()){delete this.get;return}return(this.get=X).apply(this,arguments)}}}var uo=["Webkit","Moz","ms"],Kf=oe.createElement("div").style,eh={};function Th(L){for(var X=L[0].toUpperCase()+L.slice(1),de=uo.length;de--;)if(L=uo[de]+X,L in Kf)return L}function Kr(L){var X=F.cssProps[L]||eh[L];return X||(L in Kf?L:eh[L]=Th(L)||L)}var xh=/^(none|table(?!-c[ea]).+)/,Mc={position:"absolute",visibility:"hidden",display:"block"},wr={letterSpacing:"0",fontWeight:"400"};function Au(L,X,de){var ge=ys.exec(X);return ge?Math.max(0,ge[2]-(de||0))+(ge[3]||"px"):X}function th(L,X,de,ge,xe,Le){var We=X==="width"?1:0,xt=0,Ct=0,Yt=0;if(de===(ge?"border":"content"))return 0;for(;We<4;We+=2)de==="margin"&&(Yt+=F.css(L,de+Zs[We],!0,xe)),ge?(de==="content"&&(Ct-=F.css(L,"padding"+Zs[We],!0,xe)),de!=="margin"&&(Ct-=F.css(L,"border"+Zs[We]+"Width",!0,xe))):(Ct+=F.css(L,"padding"+Zs[We],!0,xe),de!=="padding"?Ct+=F.css(L,"border"+Zs[We]+"Width",!0,xe):xt+=F.css(L,"border"+Zs[We]+"Width",!0,xe));return!ge&&Le>=0&&(Ct+=Math.max(0,Math.ceil(L["offset"+X[0].toUpperCase()+X.slice(1)]-Le-Ct-xt-.5))||0),Ct+Yt}function wc(L,X,de){var ge=Ju(L),xe=!U.boxSizingReliable()||de,Le=xe&&F.css(L,"boxSizing",!1,ge)==="border-box",We=Le,xt=Qu(L,X,ge),Ct="offset"+X[0].toUpperCase()+X.slice(1);if(Aa.test(xt)){if(!de)return xt;xt="auto"}return(!U.boxSizingReliable()&&Le||!U.reliableTrDimensions()&&ot(L,"tr")||xt==="auto"||!parseFloat(xt)&&F.css(L,"display",!1,ge)==="inline")&&L.getClientRects().length&&(Le=F.css(L,"boxSizing",!1,ge)==="border-box",We=Ct in L,We&&(xt=L[Ct])),xt=parseFloat(xt)||0,xt+th(L,X,de||(Le?"border":"content"),We,ge,xt)+"px"}F.extend({cssHooks:{opacity:{get:function(L,X){if(X){var de=Qu(L,"opacity");return de===""?"1":de}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(L,X,de,ge){if(!(!L||L.nodeType===3||L.nodeType===8||!L.style)){var xe,Le,We,xt=Kt(X),Ct=Od.test(X),Yt=L.style;if(Ct||(X=Kr(xt)),We=F.cssHooks[X]||F.cssHooks[xt],de!==void 0){if(Le=typeof de,Le==="string"&&(xe=ys.exec(de))&&xe[1]&&(de=jt(L,X,xe),Le="number"),de==null||de!==de)return;Le==="number"&&!Ct&&(de+=xe&&xe[3]||(F.cssNumber[xt]?"":"px")),!U.clearCloneStyle&&de===""&&X.indexOf("background")===0&&(Yt[X]="inherit"),(!We||!("set"in We)||(de=We.set(L,de,ge))!==void 0)&&(Ct?Yt.setProperty(X,de):Yt[X]=de)}else return We&&"get"in We&&(xe=We.get(L,!1,ge))!==void 0?xe:Yt[X]}},css:function(L,X,de,ge){var xe,Le,We,xt=Kt(X),Ct=Od.test(X);return Ct||(X=Kr(xt)),We=F.cssHooks[X]||F.cssHooks[xt],We&&"get"in We&&(xe=We.get(L,!0,de)),xe===void 0&&(xe=Qu(L,X,ge)),xe==="normal"&&X in wr&&(xe=wr[X]),de===""||de?(Le=parseFloat(xe),de===!0||isFinite(Le)?Le||0:xe):xe}}),F.each(["height","width"],function(L,X){F.cssHooks[X]={get:function(de,ge,xe){if(ge)return xh.test(F.css(de,"display"))&&(!de.getClientRects().length||!de.getBoundingClientRect().width)?Yc(de,Mc,function(){return wc(de,X,xe)}):wc(de,X,xe)},set:function(de,ge,xe){var Le,We=Ju(de),xt=!U.scrollboxSize()&&We.position==="absolute",Ct=xt||xe,Yt=Ct&&F.css(de,"boxSizing",!1,We)==="border-box",Dn=xe?th(de,X,xe,Yt,We):0;return Yt&&xt&&(Dn-=Math.ceil(de["offset"+X[0].toUpperCase()+X.slice(1)]-parseFloat(We[X])-th(de,X,"border",!1,We)-.5)),Dn&&(Le=ys.exec(ge))&&(Le[3]||"px")!=="px"&&(de.style[X]=ge,ge=F.css(de,X)),Au(de,ge,Dn)}}}),F.cssHooks.marginLeft=Id(U.reliableMarginLeft,function(L,X){if(X)return(parseFloat(Qu(L,"marginLeft"))||L.getBoundingClientRect().left-Yc(L,{marginLeft:0},function(){return L.getBoundingClientRect().left}))+"px"}),F.each({margin:"",padding:"",border:"Width"},function(L,X){F.cssHooks[L+X]={expand:function(de){for(var ge=0,xe={},Le=typeof de=="string"?de.split(" "):[de];ge<4;ge++)xe[L+Zs[ge]+X]=Le[ge]||Le[ge-2]||Le[0];return xe}},L!=="margin"&&(F.cssHooks[L+X].set=Au)}),F.fn.extend({css:function(L,X){return mt(this,function(de,ge,xe){var Le,We,xt={},Ct=0;if(Array.isArray(ge)){for(Le=Ju(de),We=ge.length;Ct<We;Ct++)xt[ge[Ct]]=F.css(de,ge[Ct],!1,Le);return xt}return xe!==void 0?F.style(de,ge,xe):F.css(de,ge)},L,X,arguments.length>1)}});function Li(L,X,de,ge,xe){return new Li.prototype.init(L,X,de,ge,xe)}F.Tween=Li,Li.prototype={constructor:Li,init:function(L,X,de,ge,xe,Le){this.elem=L,this.prop=de,this.easing=xe||F.easing._default,this.options=X,this.start=this.now=this.cur(),this.end=ge,this.unit=Le||(F.cssNumber[de]?"":"px")},cur:function(){var L=Li.propHooks[this.prop];return L&&L.get?L.get(this):Li.propHooks._default.get(this)},run:function(L){var X,de=Li.propHooks[this.prop];return this.options.duration?this.pos=X=F.easing[this.easing](L,this.options.duration*L,0,1,this.options.duration):this.pos=X=L,this.now=(this.end-this.start)*X+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),de&&de.set?de.set(this):Li.propHooks._default.set(this),this}},Li.prototype.init.prototype=Li.prototype,Li.propHooks={_default:{get:function(L){var X;return L.elem.nodeType!==1||L.elem[L.prop]!=null&&L.elem.style[L.prop]==null?L.elem[L.prop]:(X=F.css(L.elem,L.prop,""),!X||X==="auto"?0:X)},set:function(L){F.fx.step[L.prop]?F.fx.step[L.prop](L):L.elem.nodeType===1&&(F.cssHooks[L.prop]||L.elem.style[Kr(L.prop)]!=null)?F.style(L.elem,L.prop,L.now+L.unit):L.elem[L.prop]=L.now}}},Li.propHooks.scrollTop=Li.propHooks.scrollLeft={set:function(L){L.elem.nodeType&&L.elem.parentNode&&(L.elem[L.prop]=L.now)}},F.easing={linear:function(L){return L},swing:function(L){return .5-Math.cos(L*Math.PI)/2},_default:"swing"},F.fx=Li.prototype.init,F.fx.step={};var hc,ol,Fp=/^(?:toggle|show|hide)$/,Am=/queueHooks$/;function _c(){ol&&(oe.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(_c):n.setTimeout(_c,F.fx.interval),F.fx.tick())}function Xc(){return n.setTimeout(function(){hc=void 0}),hc=Date.now()}function Tu(L,X){var de,ge=0,xe={height:L};for(X=X?1:0;ge<4;ge+=2-X)de=Zs[ge],xe["margin"+de]=xe["padding"+de]=L;return X&&(xe.opacity=xe.width=L),xe}function Oh(L,X,de){for(var ge,xe=(zi.tweeners[X]||[]).concat(zi.tweeners["*"]),Le=0,We=xe.length;Le<We;Le++)if(ge=xe[Le].call(de,X,L))return ge}function ea(L,X,de){var ge,xe,Le,We,xt,Ct,Yt,Dn,Yn="width"in X||"height"in X,Cn=this,No={},Or=L.style,Si=L.nodeType&&Jt(L),zr=_t.get(L,"fxshow");de.queue||(We=F._queueHooks(L,"fx"),We.unqueued==null&&(We.unqueued=0,xt=We.empty.fire,We.empty.fire=function(){We.unqueued||xt()}),We.unqueued++,Cn.always(function(){Cn.always(function(){We.unqueued--,F.queue(L,"fx").length||We.empty.fire()})}));for(ge in X)if(xe=X[ge],Fp.test(xe)){if(delete X[ge],Le=Le||xe==="toggle",xe===(Si?"hide":"show"))if(xe==="show"&&zr&&zr[ge]!==void 0)Si=!0;else continue;No[ge]=zr&&zr[ge]||F.style(L,ge)}if(Ct=!F.isEmptyObject(X),!(!Ct&&F.isEmptyObject(No))){Yn&&L.nodeType===1&&(de.overflow=[Or.overflow,Or.overflowX,Or.overflowY],Yt=zr&&zr.display,Yt==null&&(Yt=_t.get(L,"display")),Dn=F.css(L,"display"),Dn==="none"&&(Yt?Dn=Yt:(Zt([L],!0),Yt=L.style.display||Yt,Dn=F.css(L,"display"),Zt([L]))),(Dn==="inline"||Dn==="inline-block"&&Yt!=null)&&F.css(L,"float")==="none"&&(Ct||(Cn.done(function(){Or.display=Yt}),Yt==null&&(Dn=Or.display,Yt=Dn==="none"?"":Dn)),Or.display="inline-block")),de.overflow&&(Or.overflow="hidden",Cn.always(function(){Or.overflow=de.overflow[0],Or.overflowX=de.overflow[1],Or.overflowY=de.overflow[2]})),Ct=!1;for(ge in No)Ct||(zr?"hidden"in zr&&(Si=zr.hidden):zr=_t.access(L,"fxshow",{display:Yt}),Le&&(zr.hidden=!Si),Si&&Zt([L],!0),Cn.done(function(){Si||Zt([L]),_t.remove(L,"fxshow");for(ge in No)F.style(L,ge,No[ge])})),Ct=Oh(Si?zr[ge]:0,ge,Cn),ge in zr||(zr[ge]=Ct.start,Si&&(Ct.end=Ct.start,Ct.start=0))}}function ms(L,X){var de,ge,xe,Le,We;for(de in L)if(ge=Kt(de),xe=X[ge],Le=L[de],Array.isArray(Le)&&(xe=Le[1],Le=L[de]=Le[0]),de!==ge&&(L[ge]=Le,delete L[de]),We=F.cssHooks[ge],We&&"expand"in We){Le=We.expand(Le),delete L[ge];for(de in Le)de in L||(L[de]=Le[de],X[de]=xe)}else X[ge]=xe}function zi(L,X,de){var ge,xe,Le=0,We=zi.prefilters.length,xt=F.Deferred().always(function(){delete Ct.elem}),Ct=function(){if(xe)return!1;for(var Yn=hc||Xc(),Cn=Math.max(0,Yt.startTime+Yt.duration-Yn),No=Cn/Yt.duration||0,Or=1-No,Si=0,zr=Yt.tweens.length;Si<zr;Si++)Yt.tweens[Si].run(Or);return xt.notifyWith(L,[Yt,Or,Cn]),Or<1&&zr?Cn:(zr||xt.notifyWith(L,[Yt,1,0]),xt.resolveWith(L,[Yt]),!1)},Yt=xt.promise({elem:L,props:F.extend({},X),opts:F.extend(!0,{specialEasing:{},easing:F.easing._default},de),originalProperties:X,originalOptions:de,startTime:hc||Xc(),duration:de.duration,tweens:[],createTween:function(Yn,Cn){var No=F.Tween(L,Yt.opts,Yn,Cn,Yt.opts.specialEasing[Yn]||Yt.opts.easing);return Yt.tweens.push(No),No},stop:function(Yn){var Cn=0,No=Yn?Yt.tweens.length:0;if(xe)return this;for(xe=!0;Cn<No;Cn++)Yt.tweens[Cn].run(1);return Yn?(xt.notifyWith(L,[Yt,1,0]),xt.resolveWith(L,[Yt,Yn])):xt.rejectWith(L,[Yt,Yn]),this}}),Dn=Yt.props;for(ms(Dn,Yt.opts.specialEasing);Le<We;Le++)if(ge=zi.prefilters[Le].call(Yt,L,Dn,Yt.opts),ge)return H(ge.stop)&&(F._queueHooks(Yt.elem,Yt.opts.queue).stop=ge.stop.bind(ge)),ge;return F.map(Dn,Oh,Yt),H(Yt.opts.start)&&Yt.opts.start.call(L,Yt),Yt.progress(Yt.opts.progress).done(Yt.opts.done,Yt.opts.complete).fail(Yt.opts.fail).always(Yt.opts.always),F.fx.timer(F.extend(Ct,{elem:L,anim:Yt,queue:Yt.opts.queue})),Yt}F.Animation=F.extend(zi,{tweeners:{"*":[function(L,X){var de=this.createTween(L,X);return jt(de.elem,L,ys.exec(X),de),de}]},tweener:function(L,X){H(L)?(X=L,L=["*"]):L=L.match(ws);for(var de,ge=0,xe=L.length;ge<xe;ge++)de=L[ge],zi.tweeners[de]=zi.tweeners[de]||[],zi.tweeners[de].unshift(X)},prefilters:[ea],prefilter:function(L,X){X?zi.prefilters.unshift(L):zi.prefilters.push(L)}}),F.speed=function(L,X,de){var ge=L&&typeof L=="object"?F.extend({},L):{complete:de||!de&&X||H(L)&&L,duration:L,easing:de&&X||X&&!H(X)&&X};return F.fx.off?ge.duration=0:typeof ge.duration!="number"&&(ge.duration in F.fx.speeds?ge.duration=F.fx.speeds[ge.duration]:ge.duration=F.fx.speeds._default),(ge.queue==null||ge.queue===!0)&&(ge.queue="fx"),ge.old=ge.complete,ge.complete=function(){H(ge.old)&&ge.old.call(this),ge.queue&&F.dequeue(this,ge.queue)},ge},F.fn.extend({fadeTo:function(L,X,de,ge){return this.filter(Jt).css("opacity",0).show().end().animate({opacity:X},L,de,ge)},animate:function(L,X,de,ge){var xe=F.isEmptyObject(L),Le=F.speed(X,de,ge),We=function(){var xt=zi(this,F.extend({},L),Le);(xe||_t.get(this,"finish"))&&xt.stop(!0)};return We.finish=We,xe||Le.queue===!1?this.each(We):this.queue(Le.queue,We)},stop:function(L,X,de){var ge=function(xe){var Le=xe.stop;delete xe.stop,Le(de)};return typeof L!="string"&&(de=X,X=L,L=void 0),X&&this.queue(L||"fx",[]),this.each(function(){var xe=!0,Le=L!=null&&L+"queueHooks",We=F.timers,xt=_t.get(this);if(Le)xt[Le]&&xt[Le].stop&&ge(xt[Le]);else for(Le in xt)xt[Le]&&xt[Le].stop&&Am.test(Le)&&ge(xt[Le]);for(Le=We.length;Le--;)We[Le].elem===this&&(L==null||We[Le].queue===L)&&(We[Le].anim.stop(de),xe=!1,We.splice(Le,1));(xe||!de)&&F.dequeue(this,L)})},finish:function(L){return L!==!1&&(L=L||"fx"),this.each(function(){var X,de=_t.get(this),ge=de[L+"queue"],xe=de[L+"queueHooks"],Le=F.timers,We=ge?ge.length:0;for(de.finish=!0,F.queue(this,L,[]),xe&&xe.stop&&xe.stop.call(this,!0),X=Le.length;X--;)Le[X].elem===this&&Le[X].queue===L&&(Le[X].anim.stop(!0),Le.splice(X,1));for(X=0;X<We;X++)ge[X]&&ge[X].finish&&ge[X].finish.call(this);delete de.finish})}}),F.each(["toggle","show","hide"],function(L,X){var de=F.fn[X];F.fn[X]=function(ge,xe,Le){return ge==null||typeof ge=="boolean"?de.apply(this,arguments):this.animate(Tu(X,!0),ge,xe,Le)}}),F.each({slideDown:Tu("show"),slideUp:Tu("hide"),slideToggle:Tu("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(L,X){F.fn[L]=function(de,ge,xe){return this.animate(X,de,ge,xe)}}),F.timers=[],F.fx.tick=function(){var L,X=0,de=F.timers;for(hc=Date.now();X<de.length;X++)L=de[X],!L()&&de[X]===L&&de.splice(X--,1);de.length||F.fx.stop(),hc=void 0},F.fx.timer=function(L){F.timers.push(L),F.fx.start()},F.fx.interval=13,F.fx.start=function(){ol||(ol=!0,_c())},F.fx.stop=function(){ol=null},F.fx.speeds={slow:600,fast:200,_default:400},F.fn.delay=function(L,X){return L=F.fx&&F.fx.speeds[L]||L,X=X||"fx",this.queue(X,function(de,ge){var xe=n.setTimeout(de,L);ge.stop=function(){n.clearTimeout(xe)}})},(function(){var L=oe.createElement("input"),X=oe.createElement("select"),de=X.appendChild(oe.createElement("option"));L.type="checkbox",U.checkOn=L.value!=="",U.optSelected=de.selected,L=oe.createElement("input"),L.value="t",L.type="radio",U.radioValue=L.value==="t"})();var Ol,Pr=F.expr.attrHandle;F.fn.extend({attr:function(L,X){return mt(this,F.attr,L,X,arguments.length>1)},removeAttr:function(L){return this.each(function(){F.removeAttr(this,L)})}}),F.extend({attr:function(L,X,de){var ge,xe,Le=L.nodeType;if(!(Le===3||Le===8||Le===2)){if(typeof L.getAttribute>"u")return F.prop(L,X,de);if((Le!==1||!F.isXMLDoc(L))&&(xe=F.attrHooks[X.toLowerCase()]||(F.expr.match.bool.test(X)?Ol:void 0)),de!==void 0){if(de===null){F.removeAttr(L,X);return}return xe&&"set"in xe&&(ge=xe.set(L,de,X))!==void 0?ge:(L.setAttribute(X,de+""),de)}return xe&&"get"in xe&&(ge=xe.get(L,X))!==null?ge:(ge=F.find.attr(L,X),ge??void 0)}},attrHooks:{type:{set:function(L,X){if(!U.radioValue&&X==="radio"&&ot(L,"input")){var de=L.value;return L.setAttribute("type",X),de&&(L.value=de),X}}}},removeAttr:function(L,X){var de,ge=0,xe=X&&X.match(ws);if(xe&&L.nodeType===1)for(;de=xe[ge++];)L.removeAttribute(de)}}),Ol={set:function(L,X,de){return X===!1?F.removeAttr(L,de):L.setAttribute(de,de),de}},F.each(F.expr.match.bool.source.match(/\w+/g),function(L,X){var de=Pr[X]||F.find.attr;Pr[X]=function(ge,xe,Le){var We,xt,Ct=xe.toLowerCase();return Le||(xt=Pr[Ct],Pr[Ct]=We,We=de(ge,xe,Le)!=null?Ct:null,Pr[Ct]=xt),We}});var nh=/^(?:input|select|textarea|button)$/i,Yf=/^(?:a|area)$/i;F.fn.extend({prop:function(L,X){return mt(this,F.prop,L,X,arguments.length>1)},removeProp:function(L){return this.each(function(){delete this[F.propFix[L]||L]})}}),F.extend({prop:function(L,X,de){var ge,xe,Le=L.nodeType;if(!(Le===3||Le===8||Le===2))return(Le!==1||!F.isXMLDoc(L))&&(X=F.propFix[X]||X,xe=F.propHooks[X]),de!==void 0?xe&&"set"in xe&&(ge=xe.set(L,de,X))!==void 0?ge:L[X]=de:xe&&"get"in xe&&(ge=xe.get(L,X))!==null?ge:L[X]},propHooks:{tabIndex:{get:function(L){var X=F.find.attr(L,"tabindex");return X?parseInt(X,10):nh.test(L.nodeName)||Yf.test(L.nodeName)&&L.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),U.optSelected||(F.propHooks.selected={get:function(L){var X=L.parentNode;return X&&X.parentNode&&X.parentNode.selectedIndex,null},set:function(L){var X=L.parentNode;X&&(X.selectedIndex,X.parentNode&&X.parentNode.selectedIndex)}}),F.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){F.propFix[this.toLowerCase()]=this});function fi(L){var X=L.match(ws)||[];return X.join(" ")}function fc(L){return L.getAttribute&&L.getAttribute("class")||""}function Pc(L){return Array.isArray(L)?L:typeof L=="string"?L.match(ws)||[]:[]}F.fn.extend({addClass:function(L){var X,de,ge,xe,Le,We;return H(L)?this.each(function(xt){F(this).addClass(L.call(this,xt,fc(this)))}):(X=Pc(L),X.length?this.each(function(){if(ge=fc(this),de=this.nodeType===1&&" "+fi(ge)+" ",de){for(Le=0;Le<X.length;Le++)xe=X[Le],de.indexOf(" "+xe+" ")<0&&(de+=xe+" ");We=fi(de),ge!==We&&this.setAttribute("class",We)}}):this)},removeClass:function(L){var X,de,ge,xe,Le,We;return H(L)?this.each(function(xt){F(this).removeClass(L.call(this,xt,fc(this)))}):arguments.length?(X=Pc(L),X.length?this.each(function(){if(ge=fc(this),de=this.nodeType===1&&" "+fi(ge)+" ",de){for(Le=0;Le<X.length;Le++)for(xe=X[Le];de.indexOf(" "+xe+" ")>-1;)de=de.replace(" "+xe+" "," ");We=fi(de),ge!==We&&this.setAttribute("class",We)}}):this):this.attr("class","")},toggleClass:function(L,X){var de,ge,xe,Le,We=typeof L,xt=We==="string"||Array.isArray(L);return H(L)?this.each(function(Ct){F(this).toggleClass(L.call(this,Ct,fc(this),X),X)}):typeof X=="boolean"&&xt?X?this.addClass(L):this.removeClass(L):(de=Pc(L),this.each(function(){if(xt)for(Le=F(this),xe=0;xe<de.length;xe++)ge=de[xe],Le.hasClass(ge)?Le.removeClass(ge):Le.addClass(ge);else(L===void 0||We==="boolean")&&(ge=fc(this),ge&&_t.set(this,"__className__",ge),this.setAttribute&&this.setAttribute("class",ge||L===!1?"":_t.get(this,"__className__")||""))}))},hasClass:function(L){var X,de,ge=0;for(X=" "+L+" ";de=this[ge++];)if(de.nodeType===1&&(" "+fi(fc(de))+" ").indexOf(X)>-1)return!0;return!1}});var nf=/\r/g;F.fn.extend({val:function(L){var X,de,ge,xe=this[0];return arguments.length?(ge=H(L),this.each(function(Le){var We;this.nodeType===1&&(ge?We=L.call(this,Le,F(this).val()):We=L,We==null?We="":typeof We=="number"?We+="":Array.isArray(We)&&(We=F.map(We,function(xt){return xt==null?"":xt+""})),X=F.valHooks[this.type]||F.valHooks[this.nodeName.toLowerCase()],(!X||!("set"in X)||X.set(this,We,"value")===void 0)&&(this.value=We))})):xe?(X=F.valHooks[xe.type]||F.valHooks[xe.nodeName.toLowerCase()],X&&"get"in X&&(de=X.get(xe,"value"))!==void 0?de:(de=xe.value,typeof de=="string"?de.replace(nf,""):de??"")):void 0}}),F.extend({valHooks:{option:{get:function(L){var X=F.find.attr(L,"value");return X??fi(F.text(L))}},select:{get:function(L){var X,de,ge,xe=L.options,Le=L.selectedIndex,We=L.type==="select-one",xt=We?null:[],Ct=We?Le+1:xe.length;for(Le<0?ge=Ct:ge=We?Le:0;ge<Ct;ge++)if(de=xe[ge],(de.selected||ge===Le)&&!de.disabled&&(!de.parentNode.disabled||!ot(de.parentNode,"optgroup"))){if(X=F(de).val(),We)return X;xt.push(X)}return xt},set:function(L,X){for(var de,ge,xe=L.options,Le=F.makeArray(X),We=xe.length;We--;)ge=xe[We],(ge.selected=F.inArray(F.valHooks.option.get(ge),Le)>-1)&&(de=!0);return de||(L.selectedIndex=-1),Le}}}}),F.each(["radio","checkbox"],function(){F.valHooks[this]={set:function(L,X){if(Array.isArray(X))return L.checked=F.inArray(F(L).val(),X)>-1}},U.checkOn||(F.valHooks[this].get=function(L){return L.getAttribute("value")===null?"on":L.value})});var io=n.location,xu={guid:Date.now()},Il=/\?/;F.parseXML=function(L){var X,de;if(!L||typeof L!="string")return null;try{X=new n.DOMParser().parseFromString(L,"text/xml")}catch{}return de=X&&X.getElementsByTagName("parsererror")[0],(!X||de)&&F.error("Invalid XML: "+(de?F.map(de.childNodes,function(ge){return ge.textContent}).join(`
`):L)),X};var pc=/^(?:focusinfocus|focusoutblur)$/,ki=function(L){L.stopPropagation()};F.extend(F.event,{trigger:function(L,X,de,ge){var xe,Le,We,xt,Ct,Yt,Dn,Yn,Cn=[de||oe],No=P.call(L,"type")?L.type:L,Or=P.call(L,"namespace")?L.namespace.split("."):[];if(Le=Yn=We=de=de||oe,!(de.nodeType===3||de.nodeType===8)&&!pc.test(No+F.event.triggered)&&(No.indexOf(".")>-1&&(Or=No.split("."),No=Or.shift(),Or.sort()),Ct=No.indexOf(":")<0&&"on"+No,L=L[F.expando]?L:new F.Event(No,typeof L=="object"&&L),L.isTrigger=ge?2:3,L.namespace=Or.join("."),L.rnamespace=L.namespace?new RegExp("(^|\\.)"+Or.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,L.result=void 0,L.target||(L.target=de),X=X==null?[L]:F.makeArray(X,[L]),Dn=F.event.special[No]||{},!(!ge&&Dn.trigger&&Dn.trigger.apply(de,X)===!1))){if(!ge&&!Dn.noBubble&&!K(de)){for(xt=Dn.delegateType||No,pc.test(xt+No)||(Le=Le.parentNode);Le;Le=Le.parentNode)Cn.push(Le),We=Le;We===(de.ownerDocument||oe)&&Cn.push(We.defaultView||We.parentWindow||n)}for(xe=0;(Le=Cn[xe++])&&!L.isPropagationStopped();)Yn=Le,L.type=xe>1?xt:Dn.bindType||No,Yt=(_t.get(Le,"events")||Object.create(null))[L.type]&&_t.get(Le,"handle"),Yt&&Yt.apply(Le,X),Yt=Ct&&Le[Ct],Yt&&Yt.apply&&rn(Le)&&(L.result=Yt.apply(Le,X),L.result===!1&&L.preventDefault());return L.type=No,!ge&&!L.isDefaultPrevented()&&(!Dn._default||Dn._default.apply(Cn.pop(),X)===!1)&&rn(de)&&Ct&&H(de[No])&&!K(de)&&(We=de[Ct],We&&(de[Ct]=null),F.event.triggered=No,L.isPropagationStopped()&&Yn.addEventListener(No,ki),de[No](),L.isPropagationStopped()&&Yn.removeEventListener(No,ki),F.event.triggered=void 0,We&&(de[Ct]=We)),L.result}},simulate:function(L,X,de){var ge=F.extend(new F.Event,de,{type:L,isSimulated:!0});F.event.trigger(ge,null,X)}}),F.fn.extend({trigger:function(L,X){return this.each(function(){F.event.trigger(L,X,this)})},triggerHandler:function(L,X){var de=this[0];if(de)return F.event.trigger(L,X,de,!0)}});var Tm=/\[\]$/,$l=/\r?\n/g,Jc=/^(?:submit|button|image|reset|file)$/i,Xf=/^(?:input|select|textarea|keygen)/i;function of(L,X,de,ge){var xe;if(Array.isArray(X))F.each(X,function(Le,We){de||Tm.test(L)?ge(L,We):of(L+"["+(typeof We=="object"&&We!=null?Le:"")+"]",We,de,ge)});else if(!de&&ye(X)==="object")for(xe in X)of(L+"["+xe+"]",X[xe],de,ge);else ge(L,X)}F.param=function(L,X){var de,ge=[],xe=function(Le,We){var xt=H(We)?We():We;ge[ge.length]=encodeURIComponent(Le)+"="+encodeURIComponent(xt??"")};if(L==null)return"";if(Array.isArray(L)||L.jquery&&!F.isPlainObject(L))F.each(L,function(){xe(this.name,this.value)});else for(de in L)of(de,L[de],X,xe);return ge.join("&")},F.fn.extend({serialize:function(){return F.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var L=F.prop(this,"elements");return L?F.makeArray(L):this}).filter(function(){var L=this.type;return this.name&&!F(this).is(":disabled")&&Xf.test(this.nodeName)&&!Jc.test(L)&&(this.checked||!Zn.test(L))}).map(function(L,X){var de=F(this).val();return de==null?null:Array.isArray(de)?F.map(de,function(ge){return{name:X.name,value:ge.replace($l,`\r
`)}}):{name:X.name,value:de.replace($l,`\r
`)}}).get()}});var ed=/%20/g,Jf=/#.*$/,Rd=/([?&])_=[^&]*/,kd=/^(.*?):[ \t]*([^\r\n]*)$/mg,mc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,to=/^(?:GET|HEAD)$/,Ou=/^\/\//,Ih={},Ve={},lt="*/".concat("*"),Rt=oe.createElement("a");Rt.href=io.href;function pn(L){return function(X,de){typeof X!="string"&&(de=X,X="*");var ge,xe=0,Le=X.toLowerCase().match(ws)||[];if(H(de))for(;ge=Le[xe++];)ge[0]==="+"?(ge=ge.slice(1)||"*",(L[ge]=L[ge]||[]).unshift(de)):(L[ge]=L[ge]||[]).push(de)}}function so(L,X,de,ge){var xe={},Le=L===Ve;function We(xt){var Ct;return xe[xt]=!0,F.each(L[xt]||[],function(Yt,Dn){var Yn=Dn(X,de,ge);if(typeof Yn=="string"&&!Le&&!xe[Yn])return X.dataTypes.unshift(Yn),We(Yn),!1;if(Le)return!(Ct=Yn)}),Ct}return We(X.dataTypes[0])||!xe["*"]&&We("*")}function ko(L,X){var de,ge,xe=F.ajaxSettings.flatOptions||{};for(de in X)X[de]!==void 0&&((xe[de]?L:ge||(ge={}))[de]=X[de]);return ge&&F.extend(!0,L,ge),L}function ur(L,X,de){for(var ge,xe,Le,We,xt=L.contents,Ct=L.dataTypes;Ct[0]==="*";)Ct.shift(),ge===void 0&&(ge=L.mimeType||X.getResponseHeader("Content-Type"));if(ge){for(xe in xt)if(xt[xe]&&xt[xe].test(ge)){Ct.unshift(xe);break}}if(Ct[0]in de)Le=Ct[0];else{for(xe in de){if(!Ct[0]||L.converters[xe+" "+Ct[0]]){Le=xe;break}We||(We=xe)}Le=Le||We}if(Le)return Le!==Ct[0]&&Ct.unshift(Le),de[Le]}function Bs(L,X,de,ge){var xe,Le,We,xt,Ct,Yt={},Dn=L.dataTypes.slice();if(Dn[1])for(We in L.converters)Yt[We.toLowerCase()]=L.converters[We];for(Le=Dn.shift();Le;)if(L.responseFields[Le]&&(de[L.responseFields[Le]]=X),!Ct&&ge&&L.dataFilter&&(X=L.dataFilter(X,L.dataType)),Ct=Le,Le=Dn.shift(),Le){if(Le==="*")Le=Ct;else if(Ct!=="*"&&Ct!==Le){if(We=Yt[Ct+" "+Le]||Yt["* "+Le],!We){for(xe in Yt)if(xt=xe.split(" "),xt[1]===Le&&(We=Yt[Ct+" "+xt[0]]||Yt["* "+xt[0]],We)){We===!0?We=Yt[xe]:Yt[xe]!==!0&&(Le=xt[0],Dn.unshift(xt[1]));break}}if(We!==!0)if(We&&L.throws)X=We(X);else try{X=We(X)}catch(Yn){return{state:"parsererror",error:We?Yn:"No conversion from "+Ct+" to "+Le}}}}return{state:"success",data:X}}F.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:io.href,type:"GET",isLocal:mc.test(io.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":lt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":F.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(L,X){return X?ko(ko(L,F.ajaxSettings),X):ko(F.ajaxSettings,L)},ajaxPrefilter:pn(Ih),ajaxTransport:pn(Ve),ajax:function(L,X){typeof L=="object"&&(X=L,L=void 0),X=X||{};var de,ge,xe,Le,We,xt,Ct,Yt,Dn,Yn,Cn=F.ajaxSetup({},X),No=Cn.context||Cn,Or=Cn.context&&(No.nodeType||No.jquery)?F(No):F.event,Si=F.Deferred(),zr=F.Callbacks("once memory"),Ul=Cn.statusCode||{},Sa={},td={},oh="canceled",pi={readyState:0,getResponseHeader:function(Bi){var hl;if(Ct){if(!Le)for(Le={};hl=kd.exec(xe);)Le[hl[1].toLowerCase()+" "]=(Le[hl[1].toLowerCase()+" "]||[]).concat(hl[2]);hl=Le[Bi.toLowerCase()+" "]}return hl==null?null:hl.join(", ")},getAllResponseHeaders:function(){return Ct?xe:null},setRequestHeader:function(Bi,hl){return Ct==null&&(Bi=td[Bi.toLowerCase()]=td[Bi.toLowerCase()]||Bi,Sa[Bi]=hl),this},overrideMimeType:function(Bi){return Ct==null&&(Cn.mimeType=Bi),this},statusCode:function(Bi){var hl;if(Bi)if(Ct)pi.always(Bi[pi.status]);else for(hl in Bi)Ul[hl]=[Ul[hl],Bi[hl]];return this},abort:function(Bi){var hl=Bi||oh;return de&&de.abort(hl),gc(0,hl),this}};if(Si.promise(pi),Cn.url=((L||Cn.url||io.href)+"").replace(Ou,io.protocol+"//"),Cn.type=X.method||X.type||Cn.method||Cn.type,Cn.dataTypes=(Cn.dataType||"*").toLowerCase().match(ws)||[""],Cn.crossDomain==null){xt=oe.createElement("a");try{xt.href=Cn.url,xt.href=xt.href,Cn.crossDomain=Rt.protocol+"//"+Rt.host!=xt.protocol+"//"+xt.host}catch{Cn.crossDomain=!0}}if(Cn.data&&Cn.processData&&typeof Cn.data!="string"&&(Cn.data=F.param(Cn.data,Cn.traditional)),so(Ih,Cn,X,pi),Ct)return pi;Yt=F.event&&Cn.global,Yt&&F.active++===0&&F.event.trigger("ajaxStart"),Cn.type=Cn.type.toUpperCase(),Cn.hasContent=!to.test(Cn.type),ge=Cn.url.replace(Jf,""),Cn.hasContent?Cn.data&&Cn.processData&&(Cn.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Cn.data=Cn.data.replace(ed,"+")):(Yn=Cn.url.slice(ge.length),Cn.data&&(Cn.processData||typeof Cn.data=="string")&&(ge+=(Il.test(ge)?"&":"?")+Cn.data,delete Cn.data),Cn.cache===!1&&(ge=ge.replace(Rd,"$1"),Yn=(Il.test(ge)?"&":"?")+"_="+xu.guid+++Yn),Cn.url=ge+Yn),Cn.ifModified&&(F.lastModified[ge]&&pi.setRequestHeader("If-Modified-Since",F.lastModified[ge]),F.etag[ge]&&pi.setRequestHeader("If-None-Match",F.etag[ge])),(Cn.data&&Cn.hasContent&&Cn.contentType!==!1||X.contentType)&&pi.setRequestHeader("Content-Type",Cn.contentType),pi.setRequestHeader("Accept",Cn.dataTypes[0]&&Cn.accepts[Cn.dataTypes[0]]?Cn.accepts[Cn.dataTypes[0]]+(Cn.dataTypes[0]!=="*"?", "+lt+"; q=0.01":""):Cn.accepts["*"]);for(Dn in Cn.headers)pi.setRequestHeader(Dn,Cn.headers[Dn]);if(Cn.beforeSend&&(Cn.beforeSend.call(No,pi,Cn)===!1||Ct))return pi.abort();if(oh="abort",zr.add(Cn.complete),pi.done(Cn.success),pi.fail(Cn.error),de=so(Ve,Cn,X,pi),!de)gc(-1,"No Transport");else{if(pi.readyState=1,Yt&&Or.trigger("ajaxSend",[pi,Cn]),Ct)return pi;Cn.async&&Cn.timeout>0&&(We=n.setTimeout(function(){pi.abort("timeout")},Cn.timeout));try{Ct=!1,de.send(Sa,gc)}catch(Bi){if(Ct)throw Bi;gc(-1,Bi)}}function gc(Bi,hl,Hp,Dd){var Rh,Og,nd,Qc,Qf,od=hl;Ct||(Ct=!0,We&&n.clearTimeout(We),de=void 0,xe=Dd||"",pi.readyState=Bi>0?4:0,Rh=Bi>=200&&Bi<300||Bi===304,Hp&&(Qc=ur(Cn,pi,Hp)),!Rh&&F.inArray("script",Cn.dataTypes)>-1&&F.inArray("json",Cn.dataTypes)<0&&(Cn.converters["text script"]=function(){}),Qc=Bs(Cn,Qc,pi,Rh),Rh?(Cn.ifModified&&(Qf=pi.getResponseHeader("Last-Modified"),Qf&&(F.lastModified[ge]=Qf),Qf=pi.getResponseHeader("etag"),Qf&&(F.etag[ge]=Qf)),Bi===204||Cn.type==="HEAD"?od="nocontent":Bi===304?od="notmodified":(od=Qc.state,Og=Qc.data,nd=Qc.error,Rh=!nd)):(nd=od,(Bi||!od)&&(od="error",Bi<0&&(Bi=0))),pi.status=Bi,pi.statusText=(hl||od)+"",Rh?Si.resolveWith(No,[Og,od,pi]):Si.rejectWith(No,[pi,od,nd]),pi.statusCode(Ul),Ul=void 0,Yt&&Or.trigger(Rh?"ajaxSuccess":"ajaxError",[pi,Cn,Rh?Og:nd]),zr.fireWith(No,[pi,od]),Yt&&(Or.trigger("ajaxComplete",[pi,Cn]),--F.active||F.event.trigger("ajaxStop")))}return pi},getJSON:function(L,X,de){return F.get(L,X,de,"json")},getScript:function(L,X){return F.get(L,void 0,X,"script")}}),F.each(["get","post"],function(L,X){F[X]=function(de,ge,xe,Le){return H(ge)&&(Le=Le||xe,xe=ge,ge=void 0),F.ajax(F.extend({url:de,type:X,dataType:Le,data:ge,success:xe},F.isPlainObject(de)&&de))}}),F.ajaxPrefilter(function(L){var X;for(X in L.headers)X.toLowerCase()==="content-type"&&(L.contentType=L.headers[X]||"")}),F._evalUrl=function(L,X,de){return F.ajax({url:L,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ge){F.globalEval(ge,X,de)}})},F.fn.extend({wrapAll:function(L){var X;return this[0]&&(H(L)&&(L=L.call(this[0])),X=F(L,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&X.insertBefore(this[0]),X.map(function(){for(var de=this;de.firstElementChild;)de=de.firstElementChild;return de}).append(this)),this},wrapInner:function(L){return H(L)?this.each(function(X){F(this).wrapInner(L.call(this,X))}):this.each(function(){var X=F(this),de=X.contents();de.length?de.wrapAll(L):X.append(L)})},wrap:function(L){var X=H(L);return this.each(function(de){F(this).wrapAll(X?L.call(this,de):L)})},unwrap:function(L){return this.parent(L).not("body").each(function(){F(this).replaceWith(this.childNodes)}),this}}),F.expr.pseudos.hidden=function(L){return!F.expr.pseudos.visible(L)},F.expr.pseudos.visible=function(L){return!!(L.offsetWidth||L.offsetHeight||L.getClientRects().length)},F.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch{}};var Er={0:200,1223:204},Ee=F.ajaxSettings.xhr();U.cors=!!Ee&&"withCredentials"in Ee,U.ajax=Ee=!!Ee,F.ajaxTransport(function(L){var X,de;if(U.cors||Ee&&!L.crossDomain)return{send:function(ge,xe){var Le,We=L.xhr();if(We.open(L.type,L.url,L.async,L.username,L.password),L.xhrFields)for(Le in L.xhrFields)We[Le]=L.xhrFields[Le];L.mimeType&&We.overrideMimeType&&We.overrideMimeType(L.mimeType),!L.crossDomain&&!ge["X-Requested-With"]&&(ge["X-Requested-With"]="XMLHttpRequest");for(Le in ge)We.setRequestHeader(Le,ge[Le]);X=function(xt){return function(){X&&(X=de=We.onload=We.onerror=We.onabort=We.ontimeout=We.onreadystatechange=null,xt==="abort"?We.abort():xt==="error"?typeof We.status!="number"?xe(0,"error"):xe(We.status,We.statusText):xe(Er[We.status]||We.status,We.statusText,(We.responseType||"text")!=="text"||typeof We.responseText!="string"?{binary:We.response}:{text:We.responseText},We.getAllResponseHeaders()))}},We.onload=X(),de=We.onerror=We.ontimeout=X("error"),We.onabort!==void 0?We.onabort=de:We.onreadystatechange=function(){We.readyState===4&&n.setTimeout(function(){X&&de()})},X=X("abort");try{We.send(L.hasContent&&L.data||null)}catch(xt){if(X)throw xt}},abort:function(){X&&X()}}}),F.ajaxPrefilter(function(L){L.crossDomain&&(L.contents.script=!1)}),F.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(L){return F.globalEval(L),L}}}),F.ajaxPrefilter("script",function(L){L.cache===void 0&&(L.cache=!1),L.crossDomain&&(L.type="GET")}),F.ajaxTransport("script",function(L){if(L.crossDomain||L.scriptAttrs){var X,de;return{send:function(ge,xe){X=F("<script>").attr(L.scriptAttrs||{}).prop({charset:L.scriptCharset,src:L.url}).on("load error",de=function(Le){X.remove(),de=null,Le&&xe(Le.type==="error"?404:200,Le.type)}),oe.head.appendChild(X[0])},abort:function(){de&&de()}}}});var Ue=[],ut=/(=)\?(?=&|$)|\?\?/;F.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var L=Ue.pop()||F.expando+"_"+xu.guid++;return this[L]=!0,L}}),F.ajaxPrefilter("json jsonp",function(L,X,de){var ge,xe,Le,We=L.jsonp!==!1&&(ut.test(L.url)?"url":typeof L.data=="string"&&(L.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ut.test(L.data)&&"data");if(We||L.dataTypes[0]==="jsonp")return ge=L.jsonpCallback=H(L.jsonpCallback)?L.jsonpCallback():L.jsonpCallback,We?L[We]=L[We].replace(ut,"$1"+ge):L.jsonp!==!1&&(L.url+=(Il.test(L.url)?"&":"?")+L.jsonp+"="+ge),L.converters["script json"]=function(){return Le||F.error(ge+" was not called"),Le[0]},L.dataTypes[0]="json",xe=n[ge],n[ge]=function(){Le=arguments},de.always(function(){xe===void 0?F(n).removeProp(ge):n[ge]=xe,L[ge]&&(L.jsonpCallback=X.jsonpCallback,Ue.push(ge)),Le&&H(xe)&&xe(Le[0]),Le=xe=void 0}),"script"}),U.createHTMLDocument=(function(){var L=oe.implementation.createHTMLDocument("").body;return L.innerHTML="<form></form><form></form>",L.childNodes.length===2})(),F.parseHTML=function(L,X,de){if(typeof L!="string")return[];typeof X=="boolean"&&(de=X,X=!1);var ge,xe,Le;return X||(U.createHTMLDocument?(X=oe.implementation.createHTMLDocument(""),ge=X.createElement("base"),ge.href=oe.location.href,X.head.appendChild(ge)):X=oe),xe=vn.exec(L),Le=!de&&[],xe?[X.createElement(xe[1])]:(xe=or([L],X,Le),Le&&Le.length&&F(Le).remove(),F.merge([],xe.childNodes))},F.fn.load=function(L,X,de){var ge,xe,Le,We=this,xt=L.indexOf(" ");return xt>-1&&(ge=fi(L.slice(xt)),L=L.slice(0,xt)),H(X)?(de=X,X=void 0):X&&typeof X=="object"&&(xe="POST"),We.length>0&&F.ajax({url:L,type:xe||"GET",dataType:"html",data:X}).done(function(Ct){Le=arguments,We.html(ge?F("<div>").append(F.parseHTML(Ct)).find(ge):Ct)}).always(de&&function(Ct,Yt){We.each(function(){de.apply(this,Le||[Ct.responseText,Yt,Ct])})}),this},F.expr.pseudos.animated=function(L){return F.grep(F.timers,function(X){return L===X.elem}).length},F.offset={setOffset:function(L,X,de){var ge,xe,Le,We,xt,Ct,Yt,Dn=F.css(L,"position"),Yn=F(L),Cn={};Dn==="static"&&(L.style.position="relative"),xt=Yn.offset(),Le=F.css(L,"top"),Ct=F.css(L,"left"),Yt=(Dn==="absolute"||Dn==="fixed")&&(Le+Ct).indexOf("auto")>-1,Yt?(ge=Yn.position(),We=ge.top,xe=ge.left):(We=parseFloat(Le)||0,xe=parseFloat(Ct)||0),H(X)&&(X=X.call(L,de,F.extend({},xt))),X.top!=null&&(Cn.top=X.top-xt.top+We),X.left!=null&&(Cn.left=X.left-xt.left+xe),"using"in X?X.using.call(L,Cn):Yn.css(Cn)}},F.fn.extend({offset:function(L){if(arguments.length)return L===void 0?this:this.each(function(xe){F.offset.setOffset(this,L,xe)});var X,de,ge=this[0];if(ge)return ge.getClientRects().length?(X=ge.getBoundingClientRect(),de=ge.ownerDocument.defaultView,{top:X.top+de.pageYOffset,left:X.left+de.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var L,X,de,ge=this[0],xe={top:0,left:0};if(F.css(ge,"position")==="fixed")X=ge.getBoundingClientRect();else{for(X=this.offset(),de=ge.ownerDocument,L=ge.offsetParent||de.documentElement;L&&(L===de.body||L===de.documentElement)&&F.css(L,"position")==="static";)L=L.parentNode;L&&L!==ge&&L.nodeType===1&&(xe=F(L).offset(),xe.top+=F.css(L,"borderTopWidth",!0),xe.left+=F.css(L,"borderLeftWidth",!0))}return{top:X.top-xe.top-F.css(ge,"marginTop",!0),left:X.left-xe.left-F.css(ge,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var L=this.offsetParent;L&&F.css(L,"position")==="static";)L=L.offsetParent;return L||Ds})}}),F.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(L,X){var de=X==="pageYOffset";F.fn[L]=function(ge){return mt(this,function(xe,Le,We){var xt;if(K(xe)?xt=xe:xe.nodeType===9&&(xt=xe.defaultView),We===void 0)return xt?xt[X]:xe[Le];xt?xt.scrollTo(de?xt.pageXOffset:We,de?We:xt.pageYOffset):xe[Le]=We},L,ge,arguments.length)}}),F.each(["top","left"],function(L,X){F.cssHooks[X]=Id(U.pixelPosition,function(de,ge){if(ge)return ge=Qu(de,X),Aa.test(ge)?F(de).position()[X]+"px":ge})}),F.each({Height:"height",Width:"width"},function(L,X){F.each({padding:"inner"+L,content:X,"":"outer"+L},function(de,ge){F.fn[ge]=function(xe,Le){var We=arguments.length&&(de||typeof xe!="boolean"),xt=de||(xe===!0||Le===!0?"margin":"border");return mt(this,function(Ct,Yt,Dn){var Yn;return K(Ct)?ge.indexOf("outer")===0?Ct["inner"+L]:Ct.document.documentElement["client"+L]:Ct.nodeType===9?(Yn=Ct.documentElement,Math.max(Ct.body["scroll"+L],Yn["scroll"+L],Ct.body["offset"+L],Yn["offset"+L],Yn["client"+L])):Dn===void 0?F.css(Ct,Yt,xt):F.style(Ct,Yt,Dn,xt)},X,We?xe:void 0,We)}})}),F.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(L,X){F.fn[X]=function(de){return this.on(X,de)}}),F.fn.extend({bind:function(L,X,de){return this.on(L,null,X,de)},unbind:function(L,X){return this.off(L,null,X)},delegate:function(L,X,de,ge){return this.on(X,L,de,ge)},undelegate:function(L,X,de){return arguments.length===1?this.off(L,"**"):this.off(X,L||"**",de)},hover:function(L,X){return this.on("mouseenter",L).on("mouseleave",X||L)}}),F.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(L,X){F.fn[X]=function(de,ge){return arguments.length>0?this.on(X,null,de,ge):this.trigger(X)}});var un=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;F.proxy=function(L,X){var de,ge,xe;if(typeof X=="string"&&(de=L[X],X=L,L=de),!!H(L))return ge=d.call(arguments,2),xe=function(){return L.apply(X||this,ge.concat(d.call(arguments)))},xe.guid=L.guid=L.guid||F.guid++,xe},F.holdReady=function(L){L?F.readyWait++:F.ready(!0)},F.isArray=Array.isArray,F.parseJSON=JSON.parse,F.nodeName=ot,F.isFunction=H,F.isWindow=K,F.camelCase=Kt,F.type=ye,F.now=Date.now,F.isNumeric=function(L){var X=F.type(L);return(X==="number"||X==="string")&&!isNaN(L-parseFloat(L))},F.trim=function(L){return L==null?"":(L+"").replace(un,"$1")};var Po=n.jQuery,Vs=n.$;return F.noConflict=function(L){return n.$===F&&(n.$=Vs),L&&n.jQuery===F&&(n.jQuery=Po),F},typeof o>"u"&&(n.jQuery=n.$=F),F})})(MJ)),MJ.exports}var tRe;function LXe(){return tRe||(tRe=1,(function(e){(function(n){n(["jquery"],function(o){return(function(){var i,c,d=0,p={error:"error",info:"info",success:"success",warning:"warning"},v={clear:H,remove:K,error:_,getContainer:x,info:P,options:{},subscribe:B,success:z,version:"2.1.4",warning:U},S;return v;function _(ot,Fe,De){return Oe({type:p.error,iconClass:F().iconClasses.error,message:ot,optionsOverride:De,title:Fe})}function x(ot,Fe){return ot||(ot=F()),i=o("#"+ot.containerId),i.length||Fe&&(i=re(ot)),i}function P(ot,Fe,De){return Oe({type:p.info,iconClass:F().iconClasses.info,message:ot,optionsOverride:De,title:Fe})}function B(ot){c=ot}function z(ot,Fe,De){return Oe({type:p.success,iconClass:F().iconClasses.success,message:ot,optionsOverride:De,title:Fe})}function U(ot,Fe,De){return Oe({type:p.warning,iconClass:F().iconClasses.warning,message:ot,optionsOverride:De,title:Fe})}function H(ot,Fe){var De=F();i||x(De),ce(ot,De,Fe)||oe(De)}function K(ot){var Fe=F();if(i||x(Fe),ot&&o(":focus",ot).length===0){Me(ot);return}i.children().length&&i.remove()}function oe(ot){for(var Fe=i.children(),De=Fe.length-1;De>=0;De--)ce(o(Fe[De]),ot)}function ce(ot,Fe,De){var we=De&&De.force?De.force:!1;return ot&&(we||o(":focus",ot).length===0)?(ot[Fe.hideMethod]({duration:Fe.hideDuration,easing:Fe.hideEasing,complete:function(){Me(ot)}}),!0):!1}function re(ot){return i=o("<div/>").attr("id",ot.containerId).addClass(ot.positionClass),i.appendTo(o(ot.target)),i}function ye(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function _e(ot){c&&c(ot)}function Oe(ot){var Fe=F(),De=ot.iconClass||Fe.iconClass;if(typeof ot.optionsOverride<"u"&&(Fe=o.extend(Fe,ot.optionsOverride),De=ot.optionsOverride.iconClass||De),Is(Fe,ot))return;d++,i=x(Fe,!0);var we=null,ct=o("<div/>"),rt=o("<div/>"),gt=o("<div/>"),ee=o("<div/>"),on=o(Fe.closeHtml),nt={intervalId:null,hideEta:null,maxHideTime:null},Mt={toastId:d,state:"visible",startTime:new Date,options:Fe,map:ot};return st(),Nn(),To(),_e(Mt),Fe.debug&&console&&console.log(Mt),ct;function Pt(Ze){return Ze==null&&(Ze=""),Ze.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function st(){ho(),Tn(),Se(),br(),ws(),as(),qt(),vn()}function vn(){var Ze="";switch(ot.iconClass){case"toast-success":case"toast-info":Ze="polite";break;default:Ze="assertive"}ct.attr("aria-live",Ze)}function To(){Fe.closeOnHover&&ct.hover(bn,kt),!Fe.onclick&&Fe.tapToDismiss&&ct.click(oo),Fe.closeButton&&on&&on.click(function(Ze){Ze.stopPropagation?Ze.stopPropagation():Ze.cancelBubble!==void 0&&Ze.cancelBubble!==!0&&(Ze.cancelBubble=!0),Fe.onCloseClick&&Fe.onCloseClick(Ze),oo(!0)}),Fe.onclick&&ct.click(function(Ze){Fe.onclick(Ze),oo()})}function Nn(){ct.hide(),ct[Fe.showMethod]({duration:Fe.showDuration,easing:Fe.showEasing,complete:Fe.onShown}),Fe.timeOut>0&&(we=setTimeout(oo,Fe.timeOut),nt.maxHideTime=parseFloat(Fe.timeOut),nt.hideEta=new Date().getTime()+nt.maxHideTime,Fe.progressBar&&(nt.intervalId=setInterval(mn,10)))}function ho(){ot.iconClass&&ct.addClass(Fe.toastClass).addClass(De)}function qt(){Fe.newestOnTop?i.prepend(ct):i.append(ct)}function Tn(){if(ot.title){var Ze=ot.title;Fe.escapeHtml&&(Ze=Pt(ot.title)),rt.append(Ze).addClass(Fe.titleClass),ct.append(rt)}}function Se(){if(ot.message){var Ze=ot.message;Fe.escapeHtml&&(Ze=Pt(ot.message)),gt.append(Ze).addClass(Fe.messageClass),ct.append(gt)}}function br(){Fe.closeButton&&(on.addClass(Fe.closeClass).attr("role","button"),ct.prepend(on))}function ws(){Fe.progressBar&&(ee.addClass(Fe.progressClass),ct.prepend(ee))}function as(){Fe.rtl&&ct.addClass("rtl")}function Is(Ze,mt){if(Ze.preventDuplicates){if(mt.message===S)return!0;S=mt.message}return!1}function oo(Ze){var mt=Ze&&Fe.closeMethod!==!1?Fe.closeMethod:Fe.hideMethod,Dt=Ze&&Fe.closeDuration!==!1?Fe.closeDuration:Fe.hideDuration,je=Ze&&Fe.closeEasing!==!1?Fe.closeEasing:Fe.hideEasing;if(!(o(":focus",ct).length&&!Ze))return clearTimeout(nt.intervalId),ct[mt]({duration:Dt,easing:je,complete:function(){Me(ct),clearTimeout(we),Fe.onHidden&&Mt.state!=="hidden"&&Fe.onHidden(),Mt.state="hidden",Mt.endTime=new Date,_e(Mt)}})}function kt(){(Fe.timeOut>0||Fe.extendedTimeOut>0)&&(we=setTimeout(oo,Fe.extendedTimeOut),nt.maxHideTime=parseFloat(Fe.extendedTimeOut),nt.hideEta=new Date().getTime()+nt.maxHideTime)}function bn(){clearTimeout(we),nt.hideEta=0,ct.stop(!0,!0)[Fe.showMethod]({duration:Fe.showDuration,easing:Fe.showEasing})}function mn(){var Ze=(nt.hideEta-new Date().getTime())/nt.maxHideTime*100;ee.width(Ze+"%")}}function F(){return o.extend({},ye(),v.options)}function Me(ot){i||(i=x()),!ot.is(":visible")&&(ot.remove(),ot=null,i.children().length===0&&(i.remove(),S=void 0))}})()})})(function(n,o){e.exports?e.exports=o(NXe()):window.toastr=o(window.jQuery)})})(Qme)),Qme.exports}var BXe=LXe();const UBe=kye(BXe);window.Alpine=yDe;window.moment=Ts;window.jQuery.moment=Ts;yDe.start();window.ZoomVideo=tye;window.Highcharts=MXe;window.toastr=UBe;Gu.bind("[data-fancybox]",{animated:!0,dragToClose:!1,groupAll:!0});UBe.options={closeButton:!0,progressBar:!0,timeOut:"5000",extendedTimeOut:"1000",positionClass:"toast-top-right",showDuration:"300",hideDuration:"1000",showMethod:"fadeIn",hideMethod:"fadeOut"};document.addEventListener("DOMContentLoaded",async()=>{const{default:e}=await GBe(async()=>{const{default:n}=await import("./daterangepicker-CSqOg7oz.js").then(o=>o.d);return{default:n}},[]);$(".date-range").each(function(){var n=$(this),o={Today:[Ts(),Ts()],Yesterday:[Ts().subtract(1,"days"),Ts().subtract(1,"days")],"Last 7 Days":[Ts().subtract(6,"days"),Ts()],"Last 30 Days":[Ts().subtract(29,"days"),Ts()],"This Month":[Ts().startOf("month"),Ts().endOf("month")],"Last Month":[Ts().subtract(1,"month").startOf("month"),Ts().subtract(1,"month").endOf("month")]};n.daterangepicker({timePicker:!1,autoUpdateInput:!1,locale:{format:"YYYY-MM-DD",cancelLabel:"Clear",direction:$("html").attr("dir")==="rtl"?"rtl":"ltr"},ranges:o,opens:$("html").attr("dir")==="rtl"?"left":"right",drops:"down"}),n.on("apply.daterangepicker",function(i,c){$(this).val(c.startDate.format("YYYY-MM-DD")+" - "+c.endDate.format("YYYY-MM-DD"))}),n.on("cancel.daterangepicker",function(i,c){$(this).val("")})}),document.querySelectorAll(".tinymce-editor").forEach(function(n){hXe.init({target:n,directionality:n.getAttribute("dir")==="rtl"?"rtl":"ltr",height:400,license_key:"gpl",toolbar:"undo redo | bold italic underline removeformat | alignleft aligncenter alignright | link | bullist numlist | outdent indent | blockquote | table | code preview",plugins:"preview directionality code lists link table advlist",menubar:!0,branding:!1,statusbar:!0,base_url:"/tinymce",suffix:".min",setup:function(o){o.on("change",function(){o.save()})}})})});export{kye as a,VXe as g,FXe as m,NXe as r};
